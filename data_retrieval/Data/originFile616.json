{"items":[{"tags":["java","spring-boot","apache-spark"],"answers":[{"tags":[],"owner":{"account_id":20967958,"reputation":4872,"user_id":15405732,"display_name":"Koedlt"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677321263,"creation_date":1677321263,"answer_id":75564792,"question_id":75564680,"body_markdown":"You&#39;re having a data type issue. The error you&#39;re bouncing against is generated [here][1] in the Hive source code:\r\n\r\n```java\r\n  @Override\r\n  public BigDecimal getBigDecimal(int columnIndex) throws SQLException {\r\n    final Object val = getObject(columnIndex);\r\n    if (val == null) {\r\n      return null;\r\n    }\r\n    if (val instanceof BigDecimal) {\r\n      return (BigDecimal) val;\r\n    }\r\n    throw new SQLException(&quot;Illegal conversion to BigDecimal from column &quot; + columnIndex + &quot; [&quot; + val + &quot;]&quot;);\r\n  }\r\n```\r\n\r\nSeems like one or more of your values is neither `== null`, neither `instanceof BigDecimal`.\r\n\r\nTry to cast the problematic column to a double or a string for example to see what the issue is.\r\n\r\n**Why did printSchema and count work and not show?**\r\n\r\nBecause both `printSchema` and `count` do not evaluate single values within each row of your table: `show` does because it has to show `N` lines of the actual data.\r\n\r\n  [1]: https://github.com/apache/hive/blob/master/jdbc/src/java/org/apache/hive/jdbc/HiveBaseResultSet.java#L147-L157","title":"Error occurs when calling show method in spark dataset?","body":"<p>You're having a data type issue. The error you're bouncing against is generated <a href=\"https://github.com/apache/hive/blob/master/jdbc/src/java/org/apache/hive/jdbc/HiveBaseResultSet.java#L147-L157\" rel=\"nofollow noreferrer\">here</a> in the Hive source code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>  @Override\n  public BigDecimal getBigDecimal(int columnIndex) throws SQLException {\n    final Object val = getObject(columnIndex);\n    if (val == null) {\n      return null;\n    }\n    if (val instanceof BigDecimal) {\n      return (BigDecimal) val;\n    }\n    throw new SQLException(&quot;Illegal conversion to BigDecimal from column &quot; + columnIndex + &quot; [&quot; + val + &quot;]&quot;);\n  }\n</code></pre>\n<p>Seems like one or more of your values is neither <code>== null</code>, neither <code>instanceof BigDecimal</code>.</p>\n<p>Try to cast the problematic column to a double or a string for example to see what the issue is.</p>\n<p><strong>Why did printSchema and count work and not show?</strong></p>\n<p>Because both <code>printSchema</code> and <code>count</code> do not evaluate single values within each row of your table: <code>show</code> does because it has to show <code>N</code> lines of the actual data.</p>\n"},{"tags":[],"owner":{"account_id":20892401,"reputation":51,"user_id":15347513,"display_name":"marc nicole"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677326037,"creation_date":1677325194,"answer_id":75565131,"question_id":75564680,"body_markdown":"What I would do to debug the problem is to check which column is causing the issue, for example through the following code:\r\n\r\n    for (String columnName: df.columns())\r\n        df.select(columnName).show();\r\n\r\nthen when the column name is known i would cast the corresponding column into double like this:\r\n\r\n    df = df.withColumn(targetColumnName,df.col(targetColumnName).cast(&quot;double&quot;));\r\n\r\nAlso try to infer the schema when you read from Hive using the `.option(&quot;inferSchema&quot;,&quot;true&quot;)`\r\n\r\nHope this helps.\r\n","title":"Error occurs when calling show method in spark dataset?","body":"<p>What I would do to debug the problem is to check which column is causing the issue, for example through the following code:</p>\n<pre><code>for (String columnName: df.columns())\n    df.select(columnName).show();\n</code></pre>\n<p>then when the column name is known i would cast the corresponding column into double like this:</p>\n<pre><code>df = df.withColumn(targetColumnName,df.col(targetColumnName).cast(&quot;double&quot;));\n</code></pre>\n<p>Also try to infer the schema when you read from Hive using the <code>.option(&quot;inferSchema&quot;,&quot;true&quot;)</code></p>\n<p>Hope this helps.</p>\n"}],"owner":{"account_id":12248992,"reputation":11,"user_id":8939923,"display_name":"Tim"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":167,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1677498273,"creation_date":1677320060,"question_id":75564680,"body_markdown":"I am reading data from hive using spring boot java and apache spark 3.2.1 and an error occurs when executing the show method. Please help\r\n`org.apache.spark.scheduler.DAGScheduler  : ResultStage 7 (show at SampleHiveController.java:62) failed in 7,461 s due to Job aborted due to stage failure: Task 0 in stage 7.0 failed 1 times, most recent failure: Lost task 0.0 in stage 7.0 (TID 5) : java.sql.SQLException: Illegal conversion\r\n  at org.apache.hive.jdbc.HiveBaseResultSet.getBigDecimal(HiveBaseResultSet.java:137)`\r\n\r\n```\r\n@RequestMapping(value = &quot;/spark&quot;, method = RequestMethod.GET, produces = MediaType.APPLICATION_JSON_VALUE)\r\n  public ResponseEntity&lt;List&lt;Map&lt;String, Object&gt;&gt;&gt; showSpark() {\r\n    SparkSession spark = SparkSession\r\n        .builder()\r\n        .master(&quot;local&quot;)\r\n        .appName(&quot;Java Spark Hive Example&quot;)\r\n        .enableHiveSupport()\r\n        .getOrCreate();\r\n\r\n    Dataset&lt;Row&gt; df = spark.read()\r\n        .format(&quot;jdbc&quot;)\r\n        .option(&quot;url&quot;, &quot;jdbc:hive2://hdp31-dev-03.dmp.test.com:2181,hdp31-dev-01.dmp.test.com:2181,hdp31-dev-02.dmp.test.com:2181/;serviceDiscoveryMode=zooKeeper;zooKeeperNamespace=hiveserver2;principal=hive/_HOST@WE.TEST.COM&quot;)\r\n        .option(&quot;dbtable&quot;, &quot;dds_test.test&quot;)\r\n        .option(&quot;user&quot;, &quot;user&quot;)\r\n        .option(&quot;password&quot;, &quot;test&quot;)\r\n        .option(&quot;driver&quot;, &quot;org.apache.hive.jdbc.HiveDriver&quot;)\r\n        .load();\r\n    System.out.println(&quot;*** Right after ingestion&quot;);\r\n\r\n    df.printSchema();\r\n    df.show();\r\n    \r\n```\r\n\r\n\r\nI tried to call the count and printShema methods, they work","title":"Error occurs when calling show method in spark dataset?","body":"<p>I am reading data from hive using spring boot java and apache spark 3.2.1 and an error occurs when executing the show method. Please help\n<code>org.apache.spark.scheduler.DAGScheduler  : ResultStage 7 (show at SampleHiveController.java:62) failed in 7,461 s due to Job aborted due to stage failure: Task 0 in stage 7.0 failed 1 times, most recent failure: Lost task 0.0 in stage 7.0 (TID 5) : java.sql.SQLException: Illegal conversion at org.apache.hive.jdbc.HiveBaseResultSet.getBigDecimal(HiveBaseResultSet.java:137)</code></p>\n<pre><code>@RequestMapping(value = &quot;/spark&quot;, method = RequestMethod.GET, produces = MediaType.APPLICATION_JSON_VALUE)\n  public ResponseEntity&lt;List&lt;Map&lt;String, Object&gt;&gt;&gt; showSpark() {\n    SparkSession spark = SparkSession\n        .builder()\n        .master(&quot;local&quot;)\n        .appName(&quot;Java Spark Hive Example&quot;)\n        .enableHiveSupport()\n        .getOrCreate();\n\n    Dataset&lt;Row&gt; df = spark.read()\n        .format(&quot;jdbc&quot;)\n        .option(&quot;url&quot;, &quot;jdbc:hive2://hdp31-dev-03.dmp.test.com:2181,hdp31-dev-01.dmp.test.com:2181,hdp31-dev-02.dmp.test.com:2181/;serviceDiscoveryMode=zooKeeper;zooKeeperNamespace=hiveserver2;principal=hive/_HOST@WE.TEST.COM&quot;)\n        .option(&quot;dbtable&quot;, &quot;dds_test.test&quot;)\n        .option(&quot;user&quot;, &quot;user&quot;)\n        .option(&quot;password&quot;, &quot;test&quot;)\n        .option(&quot;driver&quot;, &quot;org.apache.hive.jdbc.HiveDriver&quot;)\n        .load();\n    System.out.println(&quot;*** Right after ingestion&quot;);\n\n    df.printSchema();\n    df.show();\n    \n</code></pre>\n<p>I tried to call the count and printShema methods, they work</p>\n"},{"tags":["java","intellij-idea","intellij-plugin"],"comments":[{"owner":{"account_id":3538058,"reputation":5428,"user_id":2960034,"display_name":"y.bedrov"},"score":0,"creation_date":1677496197,"post_id":75579555,"comment_id":133342446,"body_markdown":"Is it possible to share idea.log (&quot;Help | Show Log in..&quot;) after restarting IDE?","body":"Is it possible to share idea.log (&quot;Help | Show Log in..&quot;) after restarting IDE?"},{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":0,"creation_date":1677496592,"post_id":75579555,"comment_id":133342554,"body_markdown":"did you click on the &quot;13 more items&quot;?","body":"did you click on the &quot;13 more items&quot;?"},{"owner":{"account_id":27889880,"reputation":1,"user_id":21296497,"display_name":"Ioan3124"},"score":0,"creation_date":1677498353,"post_id":75579555,"comment_id":133342983,"body_markdown":"Yes. It still doesn&#39;t show there","body":"Yes. It still doesn&#39;t show there"},{"owner":{"account_id":27889880,"reputation":1,"user_id":21296497,"display_name":"Ioan3124"},"score":0,"creation_date":1677501856,"post_id":75579555,"comment_id":133343909,"body_markdown":"@y.bedrov how can I share it to you?","body":"@y.bedrov how can I share it to you?"},{"owner":{"account_id":3538058,"reputation":5428,"user_id":2960034,"display_name":"y.bedrov"},"score":0,"creation_date":1677752603,"post_id":75579555,"comment_id":133401366,"body_markdown":"Could you open &quot;Run | Edit Configurations...&quot; and add there? probably it would be shown at the bottom part.","body":"Could you open &quot;Run | Edit Configurations...&quot; and add there? probably it would be shown at the bottom part."}],"answers":[{"tags":[],"owner":{"account_id":10518256,"reputation":33,"user_id":7751671,"display_name":"Tharindu Rukshan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677496504,"creation_date":1677496504,"answer_id":75579751,"question_id":75579555,"body_markdown":"Firstly Go File -&gt; Invalidate Catches and restart.\r\nIt still does not appear Tomcat change the workspace. It must work.","title":"I can&#39;t add Tomcat run configuration to my project","body":"<p>Firstly Go File -&gt; Invalidate Catches and restart.\nIt still does not appear Tomcat change the workspace. It must work.</p>\n"}],"owner":{"account_id":27889880,"reputation":1,"user_id":21296497,"display_name":"Ioan3124"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1677497856,"creation_date":1677495395,"question_id":75579555,"body_markdown":"Tomcat run configuration doesn&#39;t appear in the list for me. I have the IntelliJ IDEA Ultimate and the plugin for Tomcat installed. This is what configurations are available for me.\r\n\r\n[![](https://i.stack.imgur.com/3OMf5.png)](https://i.stack.imgur.com/3OMf5.png)\r\n\r\nI tried watching some tutorials on YouTube, but for all of them, the configuration was there.","title":"I can&#39;t add Tomcat run configuration to my project","body":"<p>Tomcat run configuration doesn't appear in the list for me. I have the IntelliJ IDEA Ultimate and the plugin for Tomcat installed. This is what configurations are available for me.</p>\n<p><a href=\"https://i.stack.imgur.com/3OMf5.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/3OMf5.png\" alt=\"\" /></a></p>\n<p>I tried watching some tutorials on YouTube, but for all of them, the configuration was there.</p>\n"},{"tags":["java","netbeans","java-9","hdpi"],"comments":[{"owner":{"account_id":1546239,"reputation":3192,"user_id":1439733,"display_name":"Stefan Zobel"},"score":3,"creation_date":1482179816,"post_id":41230488,"comment_id":69660459,"body_markdown":"For that particular error you can just try to add `--add-opens java.base/java.net=ALL-UNNAMED` to your java command line","body":"For that particular error you can just try to add <code>--add-opens java.base&#47;java.net=ALL-UNNAMED</code> to your java command line"},{"owner":{"account_id":1546239,"reputation":3192,"user_id":1439733,"display_name":"Stefan Zobel"},"score":2,"creation_date":1482180372,"post_id":41230488,"comment_id":69660716,"body_markdown":"Another thing to try would be using Java 9 build 147 (or older). This breaking change has been introduced in build 148. See [here](http://mail.openjdk.java.net/pipermail/jdk9-dev/2016-November/005276.html) for the announcement and some background.","body":"Another thing to try would be using Java 9 build 147 (or older). This breaking change has been introduced in build 148. See <a href=\"http://mail.openjdk.java.net/pipermail/jdk9-dev/2016-November/005276.html\" rel=\"nofollow noreferrer\">here</a> for the announcement and some background."},{"owner":{"account_id":3186862,"reputation":195,"user_id":2692269,"display_name":"brandboat"},"score":0,"creation_date":1482181195,"post_id":41230488,"comment_id":69661089,"body_markdown":"@StefanZobel Do you know where to download the Java 9 build 147 ? I can&#39;t find any JDK which version is older then 149 in the official website.","body":"@StefanZobel Do you know where to download the Java 9 build 147 ? I can&#39;t find any JDK which version is older then 149 in the official website."},{"owner":{"account_id":1546239,"reputation":3192,"user_id":1439733,"display_name":"Stefan Zobel"},"score":0,"creation_date":1482181782,"post_id":41230488,"comment_id":69661395,"body_markdown":"http://www.java.net/download/java/jdk9/archive/147/binaries/jdk-9-ea+147_windows-x64_bin.exe","body":"<a href=\"http://www.java.net/download/java/jdk9/archive/147/binaries/jdk-9-ea+147_windows-x64_bin.exe\" rel=\"nofollow noreferrer\">java.net/download/java/jdk9/archive/147/binaries/&hellip;</a>"},{"owner":{"account_id":3186862,"reputation":195,"user_id":2692269,"display_name":"brandboat"},"score":0,"creation_date":1482218696,"post_id":41230488,"comment_id":69673353,"body_markdown":"@StefanZobel, thx a lot. But I still can&#39;t use JDK 9 147 to open netbeans 8.2, so I change netbeans to [this version](http://bits.netbeans.org/download/trunk/nightly/2016-12-19_00-01-33/), and it works like a charm.","body":"@StefanZobel, thx a lot. But I still can&#39;t use JDK 9 147 to open netbeans 8.2, so I change netbeans to <a href=\"http://bits.netbeans.org/download/trunk/nightly/2016-12-19_00-01-33/\" rel=\"nofollow noreferrer\">this version</a>, and it works like a charm."}],"answers":[{"tags":[],"owner":{"account_id":2855140,"reputation":249,"user_id":2451556,"display_name":"SpacemanSpiff"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1489507464,"creation_date":1489507464,"answer_id":42790910,"question_id":41230488,"body_markdown":"As you noted yourself in a comment you need to use one of the nightly builds to get JDK 9 support. The full instructions are available here:\r\nhttp://wiki.netbeans.org/JDK9Support","title":"Netbeans 8.2 with jdk 9","body":"<p>As you noted yourself in a comment you need to use one of the nightly builds to get JDK 9 support. The full instructions are available here:\n<a href=\"http://wiki.netbeans.org/JDK9Support\" rel=\"noreferrer\">http://wiki.netbeans.org/JDK9Support</a></p>\n"},{"tags":[],"owner":{"account_id":8089359,"reputation":1,"user_id":6095810,"display_name":"Wael Al Khatib"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1512853327,"creation_date":1512853327,"answer_id":47733173,"question_id":41230488,"body_markdown":"You must update JAVA_HOME environment variable to correct path","title":"Netbeans 8.2 with jdk 9","body":"<p>You must update JAVA_HOME environment variable to correct path</p>\n"}],"owner":{"account_id":3186862,"reputation":195,"user_id":2692269,"display_name":"brandboat"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15991,"favorite_count":0,"down_vote_count":0,"up_vote_count":16,"accepted_answer_id":42790910,"answer_count":2,"score":16,"last_activity_date":1677497765,"creation_date":1482179281,"question_id":41230488,"body_markdown":"I have an issue on hdpi with netbeans, the icon become too small when I open it.\r\nThen I found the issue below. And someone says that jdk9 fix the resolution problem.\r\n\r\nhttps://netbeans.org/bugzilla/show_bug.cgi?id=252452\r\n\r\nHere is my environment:\r\n\r\n- OS: windows 10 (64bit)\r\n- JDK: JDK9 BUILD149\r\n- netbeans 8.2\r\n\r\nI downloaded jdk9 &amp; netbeans8.2 on windows10, hoping that JDK9 might fix the annoying resoution issue. Unfortunately, I can&#39;t open the netbeans.\r\n\r\nAfter I type this in cmd.\r\n&lt;code&gt;netbeans.exe --jdkhome &quot;C:\\Program Files\\Java\\jdk-9&quot;&lt;/code&gt;\r\nconsole show the error.\r\n&lt;pre&gt;&lt;code&gt;\r\nNo way to find original stream handler for jar protocol\r\njava.lang.reflect.InaccessibleObjectException: Unable to make field transient java.net.URLStreamHandler java.net.URL.handler accessible: module java.base does not &quot;opens java.net&quot; to unnamed module @4973813a\r\n        at java.base/jdk.internal.reflect.Reflection.throwInaccessibleObjectException(Reflection.java:427)\r\n        at java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:201)\r\n        at java.base/java.lang.reflect.Field.checkCanSetAccessible(Field.java:171)\r\n        at java.base/java.lang.reflect.Field.setAccessible(Field.java:165)\r\n        at org.netbeans.ProxyURLStreamHandlerFactory.register(ProxyURLStreamHandlerFactory.java:82)\r\n        at org.netbeans.JarClassLoader.&lt;clinit&gt;(JarClassLoader.java:141)\r\n        at org.netbeans.MainImpl.execute(MainImpl.java:178)\r\n        at org.netbeans.MainImpl.main(MainImpl.java:85)\r\n        at org.netbeans.Main.main(Main.java:83)\r\n\r\n&lt;/code&gt;&lt;/pre&gt;\r\n\r\nDoes anyone know how to use jdk9 with Netbeans ?\r\n","title":"Netbeans 8.2 with jdk 9","body":"<p>I have an issue on hdpi with netbeans, the icon become too small when I open it.\nThen I found the issue below. And someone says that jdk9 fix the resolution problem.</p>\n\n<p><a href=\"https://netbeans.org/bugzilla/show_bug.cgi?id=252452\" rel=\"noreferrer\">https://netbeans.org/bugzilla/show_bug.cgi?id=252452</a></p>\n\n<p>Here is my environment:</p>\n\n<ul>\n<li>OS: windows 10 (64bit)</li>\n<li>JDK: JDK9 BUILD149</li>\n<li>netbeans 8.2</li>\n</ul>\n\n<p>I downloaded jdk9 &amp; netbeans8.2 on windows10, hoping that JDK9 might fix the annoying resoution issue. Unfortunately, I can't open the netbeans.</p>\n\n<p>After I type this in cmd.\n<code>netbeans.exe --jdkhome \"C:\\Program Files\\Java\\jdk-9\"</code>\nconsole show the error.</p>\n\n<pre><code>\nNo way to find original stream handler for jar protocol\njava.lang.reflect.InaccessibleObjectException: Unable to make field transient java.net.URLStreamHandler java.net.URL.handler accessible: module java.base does not \"opens java.net\" to unnamed module @4973813a\n        at java.base/jdk.internal.reflect.Reflection.throwInaccessibleObjectException(Reflection.java:427)\n        at java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:201)\n        at java.base/java.lang.reflect.Field.checkCanSetAccessible(Field.java:171)\n        at java.base/java.lang.reflect.Field.setAccessible(Field.java:165)\n        at org.netbeans.ProxyURLStreamHandlerFactory.register(ProxyURLStreamHandlerFactory.java:82)\n        at org.netbeans.JarClassLoader.(JarClassLoader.java:141)\n        at org.netbeans.MainImpl.execute(MainImpl.java:178)\n        at org.netbeans.MainImpl.main(MainImpl.java:85)\n        at org.netbeans.Main.main(Main.java:83)\n\n</code></pre>\n\n<p>Does anyone know how to use jdk9 with Netbeans ?</p>\n"},{"tags":["java","web-applications"],"answers":[{"tags":[],"owner":{"account_id":149916,"reputation":1406,"user_id":362752,"accept_rate":60,"display_name":"Nikola"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1330990703,"creation_date":1330990703,"answer_id":9575794,"question_id":5664084,"body_markdown":"First you need to download the tool from the website. Or you can go directly to [their sourceforge project location][1] and download the latest version.\r\n\r\nAfter you have downloaded it and unpacked, run from the terminal:\r\n\r\n    $ java -Xmx512m -jar tattletale.jar ~/Java/workspaces/mycoolprojects/projectX output-projectx\r\n\r\nassuming that the location to you project is *~/Java/workspaces/mycoolprojects/projectX*, and that you want the generated report to be stored in folder called *output-projectx*\r\n\r\nBest, \r\nNikola\r\n\r\n\r\n  [1]: http://sourceforge.net/projects/jboss/files/JBoss%20Tattletale/","title":"how to use JBoss Tattletale tool?","body":"<p>First you need to download the tool from the website. Or you can go directly to <a href=\"http://sourceforge.net/projects/jboss/files/JBoss%20Tattletale/\" rel=\"noreferrer\">their sourceforge project location</a> and download the latest version.</p>\n\n<p>After you have downloaded it and unpacked, run from the terminal:</p>\n\n<pre><code>$ java -Xmx512m -jar tattletale.jar ~/Java/workspaces/mycoolprojects/projectX output-projectx\n</code></pre>\n\n<p>assuming that the location to you project is <em>~/Java/workspaces/mycoolprojects/projectX</em>, and that you want the generated report to be stored in folder called <em>output-projectx</em></p>\n\n<p>Best, \nNikola</p>\n"},{"tags":[],"owner":{"account_id":3517130,"reputation":5214,"user_id":2940265,"accept_rate":91,"display_name":"Menuka Ishan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677497671,"creation_date":1677497671,"answer_id":75579948,"question_id":5664084,"body_markdown":"If you are using maven for your project you can use their plugin.\r\nPlease change the below location accordingly.\r\n\r\n`&lt;source&gt;` - the folder where your project resides\r\n\r\n`&lt;destination&gt;` - where you need the reports to be generated\r\n\r\n\r\n    &lt;build&gt;\r\n    &lt;plugins&gt;\r\n        &lt;plugin&gt;\r\n            &lt;groupId&gt;org.jboss.tattletale&lt;/groupId&gt;\r\n            &lt;artifactId&gt;tattletale-maven&lt;/artifactId&gt;\r\n            &lt;!-- The version of the plugin you want to use --&gt;\r\n            &lt;version&gt;1.1.0.Final&lt;/version&gt;\r\n            &lt;executions&gt;\r\n                &lt;execution&gt;\r\n                    &lt;goals&gt;\r\n                        &lt;goal&gt;report&lt;/goal&gt;\r\n                    &lt;/goals&gt;\r\n                &lt;/execution&gt;\r\n            &lt;/executions&gt;\r\n            &lt;configuration&gt;\r\n                    &lt;!-- This is the location which will be scanned for generating tattletale reports\r\n                --&gt;\r\n                &lt;source&gt;/absolute/path/to/reports/dir&lt;/source&gt;\r\n                &lt;!-- This is where the reports will be generated --&gt;\r\n                &lt;destination&gt;/absolute/path/to/reports/dir&lt;/destination&gt;\r\n            &lt;/configuration&gt;\r\n        &lt;/plugin&gt;\r\n    &lt;/plugins&gt;\r\n&lt;/build&gt;\r\n\r\nthen run `mvn clean package` \r\n\r\nIf you don&#39;t want your tests to run then add flag `-DskipTests` in the end\r\n\r\nyou can see the output folder (/absolute/path/to/reports/dir)  has files created. \r\n\r\nOpen index.html to view reports","title":"how to use JBoss Tattletale tool?","body":"<p>If you are using maven for your project you can use their plugin.\nPlease change the below location accordingly.</p>\n<p><code>&lt;source&gt;</code> - the folder where your project resides</p>\n<p><code>&lt;destination&gt;</code> - where you need the reports to be generated</p>\n<pre><code>&lt;build&gt;\n&lt;plugins&gt;\n    &lt;plugin&gt;\n        &lt;groupId&gt;org.jboss.tattletale&lt;/groupId&gt;\n        &lt;artifactId&gt;tattletale-maven&lt;/artifactId&gt;\n        &lt;!-- The version of the plugin you want to use --&gt;\n        &lt;version&gt;1.1.0.Final&lt;/version&gt;\n        &lt;executions&gt;\n            &lt;execution&gt;\n                &lt;goals&gt;\n                    &lt;goal&gt;report&lt;/goal&gt;\n                &lt;/goals&gt;\n            &lt;/execution&gt;\n        &lt;/executions&gt;\n        &lt;configuration&gt;\n                &lt;!-- This is the location which will be scanned for generating tattletale reports\n            --&gt;\n            &lt;source&gt;/absolute/path/to/reports/dir&lt;/source&gt;\n            &lt;!-- This is where the reports will be generated --&gt;\n            &lt;destination&gt;/absolute/path/to/reports/dir&lt;/destination&gt;\n        &lt;/configuration&gt;\n    &lt;/plugin&gt;\n&lt;/plugins&gt;\n</code></pre>\n\n<p>then run <code>mvn clean package</code></p>\n<p>If you don't want your tests to run then add flag <code>-DskipTests</code> in the end</p>\n<p>you can see the output folder (/absolute/path/to/reports/dir)  has files created.</p>\n<p>Open index.html to view reports</p>\n"}],"owner":{"account_id":737746,"reputation":51,"user_id":708058,"display_name":"yogesh kulkarni"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8358,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":2,"score":5,"last_activity_date":1677497671,"creation_date":1302788127,"question_id":5664084,"body_markdown":"I need to reduce the size of JAR file in my project which is 9.17MB,I have already reduced it\r\nto 6.31MB by removing all the logger statements and dead code.I also have checked each JAR file individually by removing it and compiling it.With which I have removed upto 6 files.\r\n\r\nNow I want to reduce the size of JAR file upto 2 to 3 MB, and I have decided to use the tool\r\nJBoss Tattletale,\r\n\r\nHas anybody used it before? and If yes then please provide me the steps to install and run\r\nit.\r\nBTW I have already downloaded that tool from www.jboss.org website.\r\n\r\nThanks in advance!\r\n","title":"how to use JBoss Tattletale tool?","body":"<p>I need to reduce the size of JAR file in my project which is 9.17MB,I have already reduced it\nto 6.31MB by removing all the logger statements and dead code.I also have checked each JAR file individually by removing it and compiling it.With which I have removed upto 6 files.</p>\n\n<p>Now I want to reduce the size of JAR file upto 2 to 3 MB, and I have decided to use the tool\nJBoss Tattletale,</p>\n\n<p>Has anybody used it before? and If yes then please provide me the steps to install and run\nit.\nBTW I have already downloaded that tool from www.jboss.org website.</p>\n\n<p>Thanks in advance!</p>\n"},{"tags":["java","android","kotlin"],"owner":{"account_id":14165594,"reputation":505,"user_id":10233647,"display_name":"The_Long_Distance_Runner"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677497531,"creation_date":1677497531,"question_id":75579923,"body_markdown":"I&#39;ve already seen similiar questions, however the answers seem a little bit outdated or provide hack-like solutions (see below):\r\nhttps://stackoverflow.com/questions/53664224/how-to-detect-pocket-mode-in-android-programmatically\r\nhttps://stackoverflow.com/questions/48006623/how-to-disable-pocket-mode-in-android-by-java-code\r\n\r\nIs there any update for this? Perhaps Kotlin gives possibility to disable Pocket Mode programatically? \r\n\r\n**I&#39;m not interested in any quasi-solutions, like implementing my own PowerManager logic or installing separate app. All I want to is to have the ability to control Pocket Mode in the source code of my app ;-) Is it possible?**\r\n\r\nThanks in advance!","title":"Disable Android Pocket Mode programatically","body":"<p>I've already seen similiar questions, however the answers seem a little bit outdated or provide hack-like solutions (see below):\n<a href=\"https://stackoverflow.com/questions/53664224/how-to-detect-pocket-mode-in-android-programmatically\">How to detect pocket mode in android programmatically</a>\n<a href=\"https://stackoverflow.com/questions/48006623/how-to-disable-pocket-mode-in-android-by-java-code\">How to disable pocket mode in android by java code</a></p>\n<p>Is there any update for this? Perhaps Kotlin gives possibility to disable Pocket Mode programatically?</p>\n<p><strong>I'm not interested in any quasi-solutions, like implementing my own PowerManager logic or installing separate app. All I want to is to have the ability to control Pocket Mode in the source code of my app ;-) Is it possible?</strong></p>\n<p>Thanks in advance!</p>\n"},{"tags":["java","arrays","string"],"comments":[{"owner":{"account_id":9725613,"reputation":53334,"user_id":7212686,"accept_rate":100,"display_name":"azro"},"score":0,"creation_date":1675523647,"post_id":75346038,"comment_id":132949268,"body_markdown":"what is the final expected result regarding an input ?","body":"what is the final expected result regarding an input ?"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1675523949,"post_id":75346038,"comment_id":132949336,"body_markdown":"You assign a literal to the result instead of using the array elements. Why? Bear in mind `java.util.Arrays.toString` already exists","body":"You assign a literal to the result instead of using the array elements. Why? Bear in mind <code>java.util.Arrays.toString</code> already exists"},{"owner":{"account_id":1199287,"reputation":3,"user_id":1170290,"display_name":"Cosimo Bressi"},"score":0,"creation_date":1675568607,"post_id":75346038,"comment_id":132956398,"body_markdown":"Basically, I was being tasked with creating the for loop so that it would return a string representation of all values of nums, with the values separated by spaces. I was adding useless code that did not do what was being asked.","body":"Basically, I was being tasked with creating the for loop so that it would return a string representation of all values of nums, with the values separated by spaces. I was adding useless code that did not do what was being asked."}],"answers":[{"tags":[],"owner":{"account_id":9725613,"reputation":53334,"user_id":7212686,"accept_rate":100,"display_name":"azro"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1675523971,"creation_date":1675523971,"answer_id":75346093,"question_id":75346038,"body_markdown":"You&#39;re actually doing quite nothing to reach your goal, you don&#39;t use `nums` values, and have defined a strange `String string = &quot;[1 , 2, 3, 4]&quot;;`\r\n\r\n---\r\n\r\nYou need to append all the values of `nums` to reach your goal, here are some ways\r\n\r\nAn array-style with existing method\r\n\r\n    // &#39;[1, 5, 8, 98]&#39;\r\n    public static String arrayToString(int[] nums) {\r\n        return Arrays.toString(nums);\r\n    }\r\n\r\nA concatenatde-values style\r\n\r\n    // &#39;1,5,8,98&#39;\r\n    public static String arrayToString(int[] nums) {\r\n        StringBuilder result = new StringBuilder();\r\n        String separator = &quot;&quot;;\r\n        for (int num : nums) {\r\n            result.append(separator).append(num);\r\n            separator = &quot;,&quot;;\r\n        }\r\n        return result.toString();\r\n    }\r\n\r\nSame with brackets\r\n\r\n    // &#39;[1,5,8,98]&#39;\r\n    public static String arrayToString(int[] nums) {\r\n        StringBuilder result = new StringBuilder(&quot;[&quot;);\r\n        String separator = &quot;&quot;;\r\n        for (int num : nums) {\r\n            result.append(separator).append(num);\r\n            separator = &quot;,&quot;;\r\n        }\r\n        return result.append(&quot;]&quot;).toString();\r\n    }","title":"String representation of all values of nums, with the values separated by spaces","body":"<p>You're actually doing quite nothing to reach your goal, you don't use <code>nums</code> values, and have defined a strange <code>String string = &quot;[1 , 2, 3, 4]&quot;;</code></p>\n<hr />\n<p>You need to append all the values of <code>nums</code> to reach your goal, here are some ways</p>\n<p>An array-style with existing method</p>\n<pre><code>// '[1, 5, 8, 98]'\npublic static String arrayToString(int[] nums) {\n    return Arrays.toString(nums);\n}\n</code></pre>\n<p>A concatenatde-values style</p>\n<pre><code>// '1,5,8,98'\npublic static String arrayToString(int[] nums) {\n    StringBuilder result = new StringBuilder();\n    String separator = &quot;&quot;;\n    for (int num : nums) {\n        result.append(separator).append(num);\n        separator = &quot;,&quot;;\n    }\n    return result.toString();\n}\n</code></pre>\n<p>Same with brackets</p>\n<pre><code>// '[1,5,8,98]'\npublic static String arrayToString(int[] nums) {\n    StringBuilder result = new StringBuilder(&quot;[&quot;);\n    String separator = &quot;&quot;;\n    for (int num : nums) {\n        result.append(separator).append(num);\n        separator = &quot;,&quot;;\n    }\n    return result.append(&quot;]&quot;).toString();\n}\n</code></pre>\n"}],"owner":{"account_id":1199287,"reputation":3,"user_id":1170290,"display_name":"Cosimo Bressi"},"comment_count":3,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":172,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"closed_date":1675880447,"accepted_answer_id":75346093,"answer_count":1,"score":-3,"last_activity_date":1677497480,"creation_date":1675523590,"question_id":75346038,"body_markdown":"Return a string with an array&#39;s contents, formatted with spaces.\r\nFor example, given the array {3,4,5,6} the string should look like this:\r\n3 4 5 6\r\nSpaces at the end of the string will not affect test results.\r\nYou will need to use a for loop here. Again, the structure of that loop would look similar to a previous problem.\r\nHowever, this challenge introduces the idea that a for loop can manipulate a variable that exists outside of the\r\nfor loop, which looks something like this:\r\n   \r\n     String str;\r\n     for(int i = 0; i &lt; nums.length; i++){\r\n     //do something to str here\r\n     }\r\n     return str;\r\n    \r\nWhere i represents a variable that is used to visit every number between 0 and the length of nums. Inside of the\r\nfor loop, you will need to write code that appends elements from nums to str, one by one, in the format described above.\r\n     \r\n     @param nums the array to be manipulated.\r\n     @return a string representation of all values of nums, with the values separated by spaces.       \r\n\r\n\r\n        public class ReturnArrayContents {\r\n   \r\n        public String arrayToString(int[] nums){\r\n      return null;\r\n    }\r\n}","title":"String representation of all values of nums, with the values separated by spaces","body":"<p>Return a string with an array's contents, formatted with spaces.\nFor example, given the array {3,4,5,6} the string should look like this:\n3 4 5 6\nSpaces at the end of the string will not affect test results.\nYou will need to use a for loop here. Again, the structure of that loop would look similar to a previous problem.\nHowever, this challenge introduces the idea that a for loop can manipulate a variable that exists outside of the\nfor loop, which looks something like this:</p>\n<pre><code> String str;\n for(int i = 0; i &lt; nums.length; i++){\n //do something to str here\n }\n return str;\n</code></pre>\n<p>Where i represents a variable that is used to visit every number between 0 and the length of nums. Inside of the\nfor loop, you will need to write code that appends elements from nums to str, one by one, in the format described above.</p>\n<pre><code> @param nums the array to be manipulated.\n @return a string representation of all values of nums, with the values separated by spaces.       \n\n\n    public class ReturnArrayContents {\n\n    public String arrayToString(int[] nums){\n  return null;\n}\n</code></pre>\n<p>}</p>\n"},{"tags":["java","xml","google-app-engine","parsing","stax"],"comments":[{"owner":{"account_id":120605,"reputation":24173,"user_id":313137,"display_name":"Romain Hippeau"},"score":0,"creation_date":1276400497,"post_id":3030903,"comment_id":3100018,"body_markdown":"We are probably going to need to see some more code. Another possibility is that locally it is not getting chunked while on GAE it is. How are you handling the code before you pass it to the parser ?","body":"We are probably going to need to see some more code. Another possibility is that locally it is not getting chunked while on GAE it is. How are you handling the code before you pass it to the parser ?"},{"owner":{"account_id":7096,"reputation":16899,"user_id":12171,"accept_rate":90,"display_name":"Adrian Petrescu"},"score":0,"creation_date":1276400855,"post_id":3030903,"comment_id":3100028,"body_markdown":"I considered the chunking possibility too, but it doesn&#39;t seem to be the case since the error message that the parser is throwing contains the entire XML right there (it&#39;s pasted above).  The entire modified SDK code can be found at http://github.com/AdrianP/aws-sdk-for-java (look at the most recent commits) but there&#39;s a LOT of code there. I will try to create a smaller reproducible sample soon, although even that will be hard. It&#39;s a big complicated piece of software... Thanks for your feedback though! :)","body":"I considered the chunking possibility too, but it doesn&#39;t seem to be the case since the error message that the parser is throwing contains the entire XML right there (it&#39;s pasted above).  The entire modified SDK code can be found at <a href=\"http://github.com/AdrianP/aws-sdk-for-java\" rel=\"nofollow noreferrer\">github.com/AdrianP/aws-sdk-for-java</a> (look at the most recent commits) but there&#39;s a LOT of code there. I will try to create a smaller reproducible sample soon, although even that will be hard. It&#39;s a big complicated piece of software... Thanks for your feedback though! :)"},{"owner":{"account_id":261142,"reputation":47118,"user_id":545127,"accept_rate":69,"display_name":"Raedwald"},"score":0,"creation_date":1405679362,"post_id":3030903,"comment_id":38535445,"body_markdown":"possible duplicate of [org.xml.sax.SAXParseException: Content is not allowed in prolog](http://stackoverflow.com/questions/5138696/org-xml-sax-saxparseexception-content-is-not-allowed-in-prolog)","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/5138696/org-xml-sax-saxparseexception-content-is-not-allowed-in-prolog\">org.xml.sax.SAXParseException: Content is not allowed in prolog</a>"},{"owner":{"account_id":7096,"reputation":16899,"user_id":12171,"accept_rate":90,"display_name":"Adrian Petrescu"},"score":5,"creation_date":1405709081,"post_id":3030903,"comment_id":38552808,"body_markdown":"@Raedwald, I don&#39;t think it is my question that is the duplicate, since my question was posted a year earlier than that one :)","body":"@Raedwald, I don&#39;t think it is my question that is the duplicate, since my question was posted a year earlier than that one :)"},{"owner":{"account_id":261142,"reputation":47118,"user_id":545127,"accept_rate":69,"display_name":"Raedwald"},"score":0,"creation_date":1405725197,"post_id":3030903,"comment_id":38558973,"body_markdown":"The other question is more useful as a canonical question, as it is more general.","body":"The other question is more useful as a canonical question, as it is more general."},{"owner":{"account_id":261142,"reputation":47118,"user_id":545127,"accept_rate":69,"display_name":"Raedwald"},"score":0,"creation_date":1405725578,"post_id":3030903,"comment_id":38559056,"body_markdown":"@AdrianPetrescu see this MSE answer: http://meta.stackexchange.com/a/147651/170084","body":"@AdrianPetrescu see this MSE answer: <a href=\"http://meta.stackexchange.com/a/147651/170084\">meta.stackexchange.com/a/147651/170084</a>"},{"owner":{"account_id":4803880,"reputation":2185,"user_id":4589003,"accept_rate":57,"display_name":"Sudip Bhandari"},"score":1,"creation_date":1514900606,"post_id":3030903,"comment_id":83096659,"body_markdown":"This should be an example of how a question should be asked on SO, reading through it gave me various insights on how to debug as a developer (thanks OP)","body":"This should be an example of how a question should be asked on SO, reading through it gave me various insights on how to debug as a developer (thanks OP)"}],"answers":[{"tags":[],"owner":{"account_id":120605,"reputation":24173,"user_id":313137,"display_name":"Romain Hippeau"},"down_vote_count":1,"up_vote_count":178,"is_accepted":true,"score":177,"last_activity_date":1276400991,"creation_date":1276398124,"answer_id":3030913,"question_id":3030903,"body_markdown":"The encoding in your XML and XSD (or DTD) are different.   \r\nXML file header:  `&lt;?xml version=&#39;1.0&#39; encoding=&#39;utf-8&#39;?&gt;`  \r\nXSD file header: `&lt;?xml version=&#39;1.0&#39; encoding=&#39;utf-16&#39;?&gt;`\r\n\r\nAnother possible scenario that causes this is when anything comes before the XML document type declaration. i.e you might have something like this in the buffer:  \r\n\r\n    helloworld&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;  \r\nor even a space or special character.\r\n\r\nThere are some special characters called byte order markers that could be in the buffer.\r\nBefore passing the buffer to the Parser do this...  \r\n\r\n    String xml = &quot;&lt;?xml ...&quot;;\r\n    xml = xml.trim().replaceFirst(&quot;^([\\\\W]+)&lt;&quot;,&quot;&lt;&quot;);\r\n\r\n\r\n\r\n","title":"&quot;Content is not allowed in prolog&quot; when parsing perfectly valid XML on GAE","body":"<p>The encoding in your XML and XSD (or DTD) are different.<br>\nXML file header:  <code>&lt;?xml version='1.0' encoding='utf-8'?&gt;</code><br>\nXSD file header: <code>&lt;?xml version='1.0' encoding='utf-16'?&gt;</code></p>\n\n<p>Another possible scenario that causes this is when anything comes before the XML document type declaration. i.e you might have something like this in the buffer:  </p>\n\n<pre><code>helloworld&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;  \n</code></pre>\n\n<p>or even a space or special character.</p>\n\n<p>There are some special characters called byte order markers that could be in the buffer.\nBefore passing the buffer to the Parser do this...  </p>\n\n<pre><code>String xml = \"&lt;?xml ...\";\nxml = xml.trim().replaceFirst(\"^([\\\\W]+)&lt;\",\"&lt;\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1299528,"reputation":559,"user_id":1249744,"accept_rate":67,"display_name":"Sunmit Girme"},"down_vote_count":2,"up_vote_count":13,"is_accepted":false,"score":11,"last_activity_date":1405581170,"creation_date":1367929193,"answer_id":16418905,"question_id":3030903,"body_markdown":"This error message is always caused by the invalid XML content in the beginning element. For example, extra small dot “.” in the beginning of XML element.\r\n\r\nAny characters before the “`&lt;?xml….`” will cause above “**org.xml.sax.SAXParseException: Content is not allowed in prolog**” error message.\r\n\r\nA small dot “**.**” before the `“&lt;?xml….`\r\n\r\nTo fix it, just delete all those weird characters before the `“&lt;?xml“`.\r\n\r\nRef: http://www.mkyong.com/java/sax-error-content-is-not-allowed-in-prolog/","title":"&quot;Content is not allowed in prolog&quot; when parsing perfectly valid XML on GAE","body":"<p>This error message is always caused by the invalid XML content in the beginning element. For example, extra small dot “.” in the beginning of XML element.</p>\n\n<p>Any characters before the “<code>&lt;?xml….</code>” will cause above “<strong>org.xml.sax.SAXParseException: Content is not allowed in prolog</strong>” error message.</p>\n\n<p>A small dot “<strong>.</strong>” before the <code>“&lt;?xml….</code></p>\n\n<p>To fix it, just delete all those weird characters before the <code>“&lt;?xml“</code>.</p>\n\n<p>Ref: <a href=\"http://www.mkyong.com/java/sax-error-content-is-not-allowed-in-prolog/\" rel=\"noreferrer\">http://www.mkyong.com/java/sax-error-content-is-not-allowed-in-prolog/</a></p>\n"},{"tags":[],"owner":{"account_id":2181414,"reputation":1494,"user_id":1930821,"display_name":"SoloPilot"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1377090974,"creation_date":1377090974,"answer_id":18358496,"question_id":3030903,"body_markdown":"I had a tab character instead of spaces.\r\nReplacing the tab &#39;\\t&#39; fixed the problem.\r\n\r\nCut and paste the whole doc into an editor like Notepad++ and display all characters.","title":"&quot;Content is not allowed in prolog&quot; when parsing perfectly valid XML on GAE","body":"<p>I had a tab character instead of spaces.\nReplacing the tab '\\t' fixed the problem.</p>\n\n<p>Cut and paste the whole doc into an editor like Notepad++ and display all characters.</p>\n"},{"tags":[],"owner":{"account_id":4513778,"reputation":155,"user_id":3669203,"display_name":"Saturn CAU"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1400853551,"creation_date":1400853551,"answer_id":23831221,"question_id":3030903,"body_markdown":"I was facing the same issue. In my case XML files were generated from c# program and feeded into AS400 for further processing. After some analysis identified that I was using UTF8 encoding while generating XML files whereas javac(in AS400) uses &quot;UTF8 without BOM&quot;. \r\nSo, had to write extra code similar to mentioned below:\r\n\r\n   \r\n\r\n    //create encoding with no BOM\r\n    Encoding outputEnc = new UTF8Encoding(false); \r\n    //open file with encoding\r\n    TextWriter file = new StreamWriter(filePath, false, outputEnc);           \r\n\r\n    file.Write(doc.InnerXml);\r\n    file.Flush();\r\n    file.Close(); // save and close it\r\n","title":"&quot;Content is not allowed in prolog&quot; when parsing perfectly valid XML on GAE","body":"<p>I was facing the same issue. In my case XML files were generated from c# program and feeded into AS400 for further processing. After some analysis identified that I was using UTF8 encoding while generating XML files whereas javac(in AS400) uses \"UTF8 without BOM\". \nSo, had to write extra code similar to mentioned below:</p>\n\n<pre><code>//create encoding with no BOM\nEncoding outputEnc = new UTF8Encoding(false); \n//open file with encoding\nTextWriter file = new StreamWriter(filePath, false, outputEnc);           \n\nfile.Write(doc.InnerXml);\nfile.Flush();\nfile.Close(); // save and close it\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5671942,"reputation":427,"user_id":4486329,"accept_rate":82,"display_name":"Ravi Kiran Gururaja"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1427268121,"creation_date":1422010956,"answer_id":28108457,"question_id":3030903,"body_markdown":"I was facing the same problem called &quot;Content is not allowed in prolog&quot; in my xml file.\r\n\r\n**Solution**\r\n\r\nInitially my root folder was &#39;#**Filename**&#39;.\r\n\r\nWhen i removed the first character &#39;#&#39; ,the error got resolved.\r\n\r\nNo need of removing the #filename... \r\nTry in this way.. \r\n\r\nInstead of passing a File or URL object to the unmarshaller method, use a FileInputStream.\r\n\r\n    File myFile = new File(&quot;........&quot;);\r\n    Object obj = unmarshaller.unmarshal(new FileInputStream(myFile));\r\n\r\n","title":"&quot;Content is not allowed in prolog&quot; when parsing perfectly valid XML on GAE","body":"<p>I was facing the same problem called \"Content is not allowed in prolog\" in my xml file.</p>\n\n<p><strong>Solution</strong></p>\n\n<p>Initially my root folder was '#<strong>Filename</strong>'.</p>\n\n<p>When i removed the first character '#' ,the error got resolved.</p>\n\n<p>No need of removing the #filename... \nTry in this way.. </p>\n\n<p>Instead of passing a File or URL object to the unmarshaller method, use a FileInputStream.</p>\n\n<pre><code>File myFile = new File(\"........\");\nObject obj = unmarshaller.unmarshal(new FileInputStream(myFile));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4641343,"reputation":349,"user_id":3761102,"accept_rate":83,"display_name":"dfritch"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1423504981,"creation_date":1423504981,"answer_id":28416311,"question_id":3030903,"body_markdown":"In my xml file, the header looked like this: \r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-16&quot;? /&gt;\r\n\r\nIn a test file, I was reading the file bytes and decoding the data as UTF-8 (not realizing the header in this file was utf-16) to create a string.\r\n\r\n    byte[] data = Files.readAllBytes(Paths.get(path));\r\n    String dataString = new String(data, &quot;UTF-8&quot;);\r\n\r\nWhen I tried to deserialize this string into an object, I was seeing the same error:\r\n\r\n    javax.xml.stream.XMLStreamException: ParseError at [row,col]:[1,1]\r\n    Message: Content is not allowed in prolog.\r\n\r\nWhen I updated the second line to\r\n\r\n    String dataString = new String(data, &quot;UTF-16&quot;);\r\n\r\nI was able to deserialize the object just fine.  So as Romain had noted above, the encodings need to match.\r\n\r\n\t","title":"&quot;Content is not allowed in prolog&quot; when parsing perfectly valid XML on GAE","body":"<p>In my xml file, the header looked like this: </p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-16\"? /&gt;\n</code></pre>\n\n<p>In a test file, I was reading the file bytes and decoding the data as UTF-8 (not realizing the header in this file was utf-16) to create a string.</p>\n\n<pre><code>byte[] data = Files.readAllBytes(Paths.get(path));\nString dataString = new String(data, \"UTF-8\");\n</code></pre>\n\n<p>When I tried to deserialize this string into an object, I was seeing the same error:</p>\n\n<pre><code>javax.xml.stream.XMLStreamException: ParseError at [row,col]:[1,1]\nMessage: Content is not allowed in prolog.\n</code></pre>\n\n<p>When I updated the second line to</p>\n\n<pre><code>String dataString = new String(data, \"UTF-16\");\n</code></pre>\n\n<p>I was able to deserialize the object just fine.  So as Romain had noted above, the encodings need to match.</p>\n"},{"tags":[],"owner":{"account_id":21127,"reputation":7310,"user_id":51127,"accept_rate":91,"display_name":"MBaas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1424529103,"creation_date":1424529103,"answer_id":28646920,"question_id":3030903,"body_markdown":"In my instance of the problem, the solution was to replace german umlauts (&#228;&#246;&#252;) with their HTML-equivalents...","title":"&quot;Content is not allowed in prolog&quot; when parsing perfectly valid XML on GAE","body":"<p>In my instance of the problem, the solution was to replace german umlauts (äöü) with their HTML-equivalents...</p>\n"},{"tags":[],"owner":{"account_id":2907746,"reputation":53,"user_id":4274536,"display_name":"Avinash Dubey"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1481535377,"creation_date":1481535377,"answer_id":41097820,"question_id":3030903,"body_markdown":"bellow are cause above “org.xml.sax.SAXParseException: Content is not allowed in prolog” exception.\r\n\r\n1. First check the file path of schema.xsd and file.xml.\r\n2. The encoding in your XML and XSD (or DTD) should be same.&lt;br/&gt;\r\n    XML file header:  `&lt;?xml version=&#39;1.0&#39; encoding=&#39;utf-8&#39;?&gt;`&lt;br/&gt;\r\n    XSD file header: `&lt;?xml version=&#39;1.0&#39; encoding=&#39;utf-8&#39;?&gt;`\r\n3. if anything comes before the XML document type declaration.i.e: `hello&lt;?xml version=&#39;1.0&#39; encoding=&#39;utf-16&#39;?&gt;`\r\n","title":"&quot;Content is not allowed in prolog&quot; when parsing perfectly valid XML on GAE","body":"<p>bellow are cause above “org.xml.sax.SAXParseException: Content is not allowed in prolog” exception.</p>\n\n<ol>\n<li>First check the file path of schema.xsd and file.xml.</li>\n<li>The encoding in your XML and XSD (or DTD) should be same.<br/>\nXML file header:  <code>&lt;?xml version='1.0' encoding='utf-8'?&gt;</code><br/>\nXSD file header: <code>&lt;?xml version='1.0' encoding='utf-8'?&gt;</code></li>\n<li>if anything comes before the XML document type declaration.i.e: <code>hello&lt;?xml version='1.0' encoding='utf-16'?&gt;</code></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":7649794,"reputation":183,"user_id":5799033,"display_name":"Tamias"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1528902468,"creation_date":1528902468,"answer_id":50840587,"question_id":3030903,"body_markdown":"In the spirit of &quot;just delete all those weird characters before the &amp;lt;?xml&quot;, here&#39;s my Java code, which works well with input via a BufferedReader:\r\n\r\n    \tBufferedReader test = new BufferedReader(new InputStreamReader(fisTest));\r\n\t\ttest.mark(4);\r\n\t\twhile (true) {\r\n\t\t\tint earlyChar = test.read();\r\n\t\t\tSystem.out.println(earlyChar);\r\n\t\t\tif (earlyChar == 60) {\r\n\t\t\t\ttest.reset();\r\n\t\t\t\tbreak;\r\n\t\t\t} else {\r\n\t\t\t\ttest.mark(4);\r\n\t\t\t}\r\n\t\t}\r\n\r\nFWIW, the bytes I was seeing are (in decimal): 239, 187, 191.\r\n\r\n","title":"&quot;Content is not allowed in prolog&quot; when parsing perfectly valid XML on GAE","body":"<p>In the spirit of \"just delete all those weird characters before the &lt;?xml\", here's my Java code, which works well with input via a BufferedReader:</p>\n\n<pre><code>    BufferedReader test = new BufferedReader(new InputStreamReader(fisTest));\n    test.mark(4);\n    while (true) {\n        int earlyChar = test.read();\n        System.out.println(earlyChar);\n        if (earlyChar == 60) {\n            test.reset();\n            break;\n        } else {\n            test.mark(4);\n        }\n    }\n</code></pre>\n\n<p>FWIW, the bytes I was seeing are (in decimal): 239, 187, 191.</p>\n"},{"tags":[],"owner":{"account_id":1578490,"reputation":4780,"user_id":1464389,"accept_rate":49,"display_name":"F.O.O"},"down_vote_count":2,"up_vote_count":4,"is_accepted":false,"score":2,"last_activity_date":1531927296,"creation_date":1531927296,"answer_id":51405682,"question_id":3030903,"body_markdown":"Removing the xml declaration solved it\r\n\r\n    &lt;?xml version=&#39;1.0&#39; encoding=&#39;utf-8&#39;?&gt;","title":"&quot;Content is not allowed in prolog&quot; when parsing perfectly valid XML on GAE","body":"<p>Removing the xml declaration solved it</p>\n\n<pre><code>&lt;?xml version='1.0' encoding='utf-8'?&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5114104,"reputation":567,"user_id":4099837,"display_name":"techloris_109"},"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1532672645,"creation_date":1532672645,"answer_id":51551917,"question_id":3030903,"body_markdown":"I had issue while inspecting the xml file in notepad++ and saving the file, though I had the top utf-8 xml tag as `&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;`\r\n\r\nGot fixed by saving the file in notpad++ with Encoding(Tab) &gt; Encode in UTF-8:selected (was Encode in UTF-8-BOM)","title":"&quot;Content is not allowed in prolog&quot; when parsing perfectly valid XML on GAE","body":"<p>I had issue while inspecting the xml file in notepad++ and saving the file, though I had the top utf-8 xml tag as <code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;</code></p>\n\n<p>Got fixed by saving the file in notpad++ with Encoding(Tab) > Encode in UTF-8:selected (was Encode in UTF-8-BOM)</p>\n"},{"tags":[],"owner":{"account_id":2779299,"reputation":11844,"user_id":2392157,"accept_rate":94,"display_name":"miroxlav"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1550561559,"creation_date":1550561559,"answer_id":54760886,"question_id":3030903,"body_markdown":"## Unexpected reason: `#` character in file path\n\nDue to some internal bug, the error ***Content is not allowed in prolog*** also appears if the file content itself is 100% correct but you are supplying the file name like `C:\\Data\\#22\\file.xml`.\n\nThis may possibly apply to other special characters, too.\n\n**How to check:** If you move your file into a path without special characters and the error disappears, then it was this issue.","title":"&quot;Content is not allowed in prolog&quot; when parsing perfectly valid XML on GAE","body":"<h2>Unexpected reason: <code>#</code> character in file path</h2>\n<p>Due to some internal bug, the error <em><strong>Content is not allowed in prolog</strong></em> also appears if the file content itself is 100% correct but you are supplying the file name like <code>C:\\Data\\#22\\file.xml</code>.</p>\n<p>This may possibly apply to other special characters, too.</p>\n<p><strong>How to check:</strong> If you move your file into a path without special characters and the error disappears, then it was this issue.</p>\n"},{"tags":[],"owner":{"account_id":3796196,"reputation":175,"user_id":3151204,"display_name":"matjung"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1570955520,"creation_date":1570955520,"answer_id":58361846,"question_id":3030903,"body_markdown":"I catched the same error message today.\r\nThe solution was to change the document from UTF-8 with BOM to UTF-8 without BOM ","title":"&quot;Content is not allowed in prolog&quot; when parsing perfectly valid XML on GAE","body":"<p>I catched the same error message today.\nThe solution was to change the document from UTF-8 with BOM to UTF-8 without BOM </p>\n"},{"tags":[],"owner":{"account_id":237170,"reputation":18509,"user_id":505152,"accept_rate":72,"display_name":"htafoya"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1609889217,"creation_date":1609889217,"answer_id":65588019,"question_id":3030903,"body_markdown":"I zipped the xml in a Mac OS and sent it to a Windows machine, the default compression changes these files so the encoding sent this message.","title":"&quot;Content is not allowed in prolog&quot; when parsing perfectly valid XML on GAE","body":"<p>I zipped the xml in a Mac OS and sent it to a Windows machine, the default compression changes these files so the encoding sent this message.</p>\n"},{"tags":[],"owner":{"account_id":24392010,"reputation":56,"user_id":18321854,"display_name":"selalerercapitolis"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659432267,"creation_date":1659432267,"answer_id":73205054,"question_id":3030903,"body_markdown":"Happened to me with `@JsmListener` with Spring Boot when listening to IBM MQ. My method received `String` parameter and got this exception when I tried to deserialize it using JAXB.\r\n\r\nIt seemed that that the string I got was a result of `byte[].toString()`. It was a list of comma separated numbers.\r\n\r\nI solved it by changing the parameter type to `byte[]` and then created a `String` from it:\r\n\r\n    @JmsListener(destination = &quot;Q1&quot;)\r\n    public void receiveQ1Message(byte[] msgBytes) {\r\n        var msg = new String(msgBytes);","title":"&quot;Content is not allowed in prolog&quot; when parsing perfectly valid XML on GAE","body":"<p>Happened to me with <code>@JsmListener</code> with Spring Boot when listening to IBM MQ. My method received <code>String</code> parameter and got this exception when I tried to deserialize it using JAXB.</p>\n<p>It seemed that that the string I got was a result of <code>byte[].toString()</code>. It was a list of comma separated numbers.</p>\n<p>I solved it by changing the parameter type to <code>byte[]</code> and then created a <code>String</code> from it:</p>\n<pre><code>@JmsListener(destination = &quot;Q1&quot;)\npublic void receiveQ1Message(byte[] msgBytes) {\n    var msg = new String(msgBytes);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5100146,"reputation":869,"user_id":4090002,"display_name":"Marcell"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677497378,"creation_date":1677497378,"answer_id":75579894,"question_id":3030903,"body_markdown":"I had encountered this message when running a test case in SoapUI:\r\n\r\n    org.xml.sax.SAXParseException; systemId: file://; lineNumber: 1; columnNumber: 1; Content is not allowed in prolog.\r\n\r\nAfter quite some time I figured out the reason being the following line:\r\n\r\n    def holder = groovyUtils.getXmlHolder(&quot;SoapCall#Request&quot;) // Get Request body\r\n\r\nAnd the reason was that the test step was actually named &quot;SOAPCall&quot; and not &quot;SoapCall&quot;. I suppose the returned string was empty, which caused the &quot;prolog&quot; error.","title":"&quot;Content is not allowed in prolog&quot; when parsing perfectly valid XML on GAE","body":"<p>I had encountered this message when running a test case in SoapUI:</p>\n<pre><code>org.xml.sax.SAXParseException; systemId: file://; lineNumber: 1; columnNumber: 1; Content is not allowed in prolog.\n</code></pre>\n<p>After quite some time I figured out the reason being the following line:</p>\n<pre><code>def holder = groovyUtils.getXmlHolder(&quot;SoapCall#Request&quot;) // Get Request body\n</code></pre>\n<p>And the reason was that the test step was actually named &quot;SOAPCall&quot; and not &quot;SoapCall&quot;. I suppose the returned string was empty, which caused the &quot;prolog&quot; error.</p>\n"}],"owner":{"account_id":7096,"reputation":16899,"user_id":12171,"accept_rate":90,"display_name":"Adrian Petrescu"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":664549,"favorite_count":0,"down_vote_count":0,"up_vote_count":177,"accepted_answer_id":3030913,"answer_count":16,"score":177,"last_activity_date":1677497378,"creation_date":1276397562,"question_id":3030903,"body_markdown":"I&#39;ve been beating my head against this absolutely infuriating bug for the last 48 hours, so I thought I&#39;d finally throw in the towel and try asking here before I throw my laptop out the window.\r\n\r\nI&#39;m trying to parse the response XML from a call I made to AWS SimpleDB. The response is coming back on the wire just fine; for example, it may look like:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt; \r\n    &lt;ListDomainsResponse xmlns=&quot;http://sdb.amazonaws.com/doc/2009-04-15/&quot;&gt;\r\n        &lt;ListDomainsResult&gt;\r\n            &lt;DomainName&gt;Audio&lt;/DomainName&gt;\r\n            &lt;DomainName&gt;Course&lt;/DomainName&gt;\r\n            &lt;DomainName&gt;DocumentContents&lt;/DomainName&gt;\r\n            &lt;DomainName&gt;LectureSet&lt;/DomainName&gt;\r\n            &lt;DomainName&gt;MetaData&lt;/DomainName&gt;\r\n            &lt;DomainName&gt;Professors&lt;/DomainName&gt;\r\n            &lt;DomainName&gt;Tag&lt;/DomainName&gt;\r\n        &lt;/ListDomainsResult&gt;\r\n        &lt;ResponseMetadata&gt;\r\n            &lt;RequestId&gt;42330b4a-e134-6aec-e62a-5869ac2b4575&lt;/RequestId&gt;\r\n            &lt;BoxUsage&gt;0.0000071759&lt;/BoxUsage&gt;\r\n        &lt;/ResponseMetadata&gt;\r\n    &lt;/ListDomainsResponse&gt;\r\n\r\nI pass in this XML to a parser with \r\n\r\n    XMLEventReader eventReader = xmlInputFactory.createXMLEventReader(response.getContent());\r\n\r\nand call `eventReader.nextEvent();` a bunch of times to get the data I want.\r\n\r\nHere&#39;s the bizarre part -- it works great inside the local server. The response comes in, I parse it, everyone&#39;s happy. The problem is that when I deploy the code to Google App Engine, the outgoing request still works, and the response XML seems 100% identical and correct to me, but the response fails to parse with the following exception:\r\n\r\n    com.amazonaws.http.HttpClient handleResponse: Unable to unmarshall response (ParseError at [row,col]:[1,1]\r\n    Message: Content is not allowed in prolog.): &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt; \r\n    &lt;ListDomainsResponse xmlns=&quot;http://sdb.amazonaws.com/doc/2009-04-15/&quot;&gt;&lt;ListDomainsResult&gt;&lt;DomainName&gt;Audio&lt;/DomainName&gt;&lt;DomainName&gt;Course&lt;/DomainName&gt;&lt;DomainName&gt;DocumentContents&lt;/DomainName&gt;&lt;DomainName&gt;LectureSet&lt;/DomainName&gt;&lt;DomainName&gt;MetaData&lt;/DomainName&gt;&lt;DomainName&gt;Professors&lt;/DomainName&gt;&lt;DomainName&gt;Tag&lt;/DomainName&gt;&lt;/ListDomainsResult&gt;&lt;ResponseMetadata&gt;&lt;RequestId&gt;42330b4a-e134-6aec-e62a-5869ac2b4575&lt;/RequestId&gt;&lt;BoxUsage&gt;0.0000071759&lt;/BoxUsage&gt;&lt;/ResponseMetadata&gt;&lt;/ListDomainsResponse&gt;\r\n    javax.xml.stream.XMLStreamException: ParseError at [row,col]:[1,1]\r\n    Message: Content is not allowed in prolog.\r\n        at com.sun.org.apache.xerces.internal.impl.XMLStreamReaderImpl.next(Unknown Source)\r\n        at com.sun.xml.internal.stream.XMLEventReaderImpl.nextEvent(Unknown Source)\r\n        at com.amazonaws.transform.StaxUnmarshallerContext.nextEvent(StaxUnmarshallerContext.java:153)\r\n        ... (rest of lines omitted)\r\n\r\nI have double, triple, quadruple checked this XML for &#39;invisible characters&#39; or non-UTF8 encoded characters, etc. I looked at it byte-by-byte in an array for byte-order-marks or something of that nature. Nothing; it passes every validation test I could throw at it. Even stranger, it happens if I use a Saxon-based parser as well -- but ONLY on GAE, it always works fine in my local environment.\r\n\r\nIt makes it very hard to trace the code for problems when I can only run the debugger on an environment that works perfectly (I haven&#39;t found any good way to remotely debug on GAE). Nevertheless, using the primitive means I have, I&#39;ve tried a million approaches including:\r\n\r\n* XML with and without the prolog\r\n* With and without newlines\r\n* With and without the &quot;encoding=&quot; attribute in the prolog\r\n* Both newline styles\r\n* With and without the chunking information present in the HTTP stream\r\n\r\nAnd I&#39;ve tried most of these in multiple combinations where it made sense they would interact -- nothing! I&#39;m at my wit&#39;s end. Has anyone seen an issue like this before that can hopefully shed some light on it?\r\n\r\nThanks!","title":"&quot;Content is not allowed in prolog&quot; when parsing perfectly valid XML on GAE","body":"<p>I've been beating my head against this absolutely infuriating bug for the last 48 hours, so I thought I'd finally throw in the towel and try asking here before I throw my laptop out the window.</p>\n\n<p>I'm trying to parse the response XML from a call I made to AWS SimpleDB. The response is coming back on the wire just fine; for example, it may look like:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt; \n&lt;ListDomainsResponse xmlns=\"http://sdb.amazonaws.com/doc/2009-04-15/\"&gt;\n    &lt;ListDomainsResult&gt;\n        &lt;DomainName&gt;Audio&lt;/DomainName&gt;\n        &lt;DomainName&gt;Course&lt;/DomainName&gt;\n        &lt;DomainName&gt;DocumentContents&lt;/DomainName&gt;\n        &lt;DomainName&gt;LectureSet&lt;/DomainName&gt;\n        &lt;DomainName&gt;MetaData&lt;/DomainName&gt;\n        &lt;DomainName&gt;Professors&lt;/DomainName&gt;\n        &lt;DomainName&gt;Tag&lt;/DomainName&gt;\n    &lt;/ListDomainsResult&gt;\n    &lt;ResponseMetadata&gt;\n        &lt;RequestId&gt;42330b4a-e134-6aec-e62a-5869ac2b4575&lt;/RequestId&gt;\n        &lt;BoxUsage&gt;0.0000071759&lt;/BoxUsage&gt;\n    &lt;/ResponseMetadata&gt;\n&lt;/ListDomainsResponse&gt;\n</code></pre>\n\n<p>I pass in this XML to a parser with </p>\n\n<pre><code>XMLEventReader eventReader = xmlInputFactory.createXMLEventReader(response.getContent());\n</code></pre>\n\n<p>and call <code>eventReader.nextEvent();</code> a bunch of times to get the data I want.</p>\n\n<p>Here's the bizarre part -- it works great inside the local server. The response comes in, I parse it, everyone's happy. The problem is that when I deploy the code to Google App Engine, the outgoing request still works, and the response XML seems 100% identical and correct to me, but the response fails to parse with the following exception:</p>\n\n<pre><code>com.amazonaws.http.HttpClient handleResponse: Unable to unmarshall response (ParseError at [row,col]:[1,1]\nMessage: Content is not allowed in prolog.): &lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt; \n&lt;ListDomainsResponse xmlns=\"http://sdb.amazonaws.com/doc/2009-04-15/\"&gt;&lt;ListDomainsResult&gt;&lt;DomainName&gt;Audio&lt;/DomainName&gt;&lt;DomainName&gt;Course&lt;/DomainName&gt;&lt;DomainName&gt;DocumentContents&lt;/DomainName&gt;&lt;DomainName&gt;LectureSet&lt;/DomainName&gt;&lt;DomainName&gt;MetaData&lt;/DomainName&gt;&lt;DomainName&gt;Professors&lt;/DomainName&gt;&lt;DomainName&gt;Tag&lt;/DomainName&gt;&lt;/ListDomainsResult&gt;&lt;ResponseMetadata&gt;&lt;RequestId&gt;42330b4a-e134-6aec-e62a-5869ac2b4575&lt;/RequestId&gt;&lt;BoxUsage&gt;0.0000071759&lt;/BoxUsage&gt;&lt;/ResponseMetadata&gt;&lt;/ListDomainsResponse&gt;\njavax.xml.stream.XMLStreamException: ParseError at [row,col]:[1,1]\nMessage: Content is not allowed in prolog.\n    at com.sun.org.apache.xerces.internal.impl.XMLStreamReaderImpl.next(Unknown Source)\n    at com.sun.xml.internal.stream.XMLEventReaderImpl.nextEvent(Unknown Source)\n    at com.amazonaws.transform.StaxUnmarshallerContext.nextEvent(StaxUnmarshallerContext.java:153)\n    ... (rest of lines omitted)\n</code></pre>\n\n<p>I have double, triple, quadruple checked this XML for 'invisible characters' or non-UTF8 encoded characters, etc. I looked at it byte-by-byte in an array for byte-order-marks or something of that nature. Nothing; it passes every validation test I could throw at it. Even stranger, it happens if I use a Saxon-based parser as well -- but ONLY on GAE, it always works fine in my local environment.</p>\n\n<p>It makes it very hard to trace the code for problems when I can only run the debugger on an environment that works perfectly (I haven't found any good way to remotely debug on GAE). Nevertheless, using the primitive means I have, I've tried a million approaches including:</p>\n\n<ul>\n<li>XML with and without the prolog</li>\n<li>With and without newlines</li>\n<li>With and without the \"encoding=\" attribute in the prolog</li>\n<li>Both newline styles</li>\n<li>With and without the chunking information present in the HTTP stream</li>\n</ul>\n\n<p>And I've tried most of these in multiple combinations where it made sense they would interact -- nothing! I'm at my wit's end. Has anyone seen an issue like this before that can hopefully shed some light on it?</p>\n\n<p>Thanks!</p>\n"},{"tags":["java","json","java-8"],"comments":[{"owner":{"account_id":19680594,"reputation":149,"user_id":14407807,"display_name":"Farha Mansuri"},"score":1,"creation_date":1677481963,"post_id":75577534,"comment_id":133338994,"body_markdown":"Post the code you have tried and what are your errors :) This way it will be easier for you to learn and for us to help!","body":"Post the code you have tried and what are your errors :) This way it will be easier for you to learn and for us to help!"}],"answers":[{"tags":[],"owner":{"account_id":14544626,"reputation":129,"user_id":10505187,"display_name":"fixcer"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1677484940,"creation_date":1677484940,"answer_id":75578004,"question_id":75577534,"body_markdown":"You can learn more about using Jackson to parse JSON here. Or you can parse them to object and use stream to check for duplicates.\r\n\r\n```\r\nimport com.fasterxml.jackson.core.JsonProcessingException;\r\nimport com.fasterxml.jackson.databind.JsonNode;\r\nimport com.fasterxml.jackson.databind.ObjectMapper;\r\n\r\nimport java.util.HashSet;\r\nimport java.util.Set;\r\n\r\npublic class Main {\r\n\r\n    public static void main(String[] args) throws JsonProcessingException {\r\n        String json = &quot;{ \\&quot;ID\\&quot; : \\&quot;ID1\\&quot;, \\&quot;books\\&quot; : [ { \\&quot;bookID\\&quot; : \\&quot;book1\\&quot;, \\&quot;booktype\\&quot;: \\&quot;pdf\\&quot; },{ \\&quot;bookID\\&quot; : \\&quot;book2\\&quot;, \\&quot;booktype\\&quot;: \\&quot;txt\\&quot; },{ \\&quot;bookID\\&quot; : \\&quot;book1\\&quot;, \\&quot;booktype\\&quot;: \\&quot;txt\\&quot; } ] }&quot;;\r\n        ObjectMapper objectMapper = new ObjectMapper();\r\n        JsonNode rootNode = objectMapper.readTree(json);\r\n        JsonNode booksNode = rootNode.get(&quot;books&quot;);\r\n\r\n        Set&lt;String&gt; bookIds = new HashSet&lt;&gt;();\r\n        booksNode.forEach(bookNode -&gt; {\r\n            String bookId = bookNode.get(&quot;bookID&quot;).asText();\r\n            if (bookIds.contains(bookId)) {\r\n                System.out.println(&quot;Duplicate bookID found: &quot; + bookId);\r\n            } else {\r\n                bookIds.add(bookId);\r\n            }\r\n        });\r\n    }\r\n}\r\n```","title":"Identify duplicate values for particular element in a JSON array","body":"<p>You can learn more about using Jackson to parse JSON here. Or you can parse them to object and use stream to check for duplicates.</p>\n<pre><code>import com.fasterxml.jackson.core.JsonProcessingException;\nimport com.fasterxml.jackson.databind.JsonNode;\nimport com.fasterxml.jackson.databind.ObjectMapper;\n\nimport java.util.HashSet;\nimport java.util.Set;\n\npublic class Main {\n\n    public static void main(String[] args) throws JsonProcessingException {\n        String json = &quot;{ \\&quot;ID\\&quot; : \\&quot;ID1\\&quot;, \\&quot;books\\&quot; : [ { \\&quot;bookID\\&quot; : \\&quot;book1\\&quot;, \\&quot;booktype\\&quot;: \\&quot;pdf\\&quot; },{ \\&quot;bookID\\&quot; : \\&quot;book2\\&quot;, \\&quot;booktype\\&quot;: \\&quot;txt\\&quot; },{ \\&quot;bookID\\&quot; : \\&quot;book1\\&quot;, \\&quot;booktype\\&quot;: \\&quot;txt\\&quot; } ] }&quot;;\n        ObjectMapper objectMapper = new ObjectMapper();\n        JsonNode rootNode = objectMapper.readTree(json);\n        JsonNode booksNode = rootNode.get(&quot;books&quot;);\n\n        Set&lt;String&gt; bookIds = new HashSet&lt;&gt;();\n        booksNode.forEach(bookNode -&gt; {\n            String bookId = bookNode.get(&quot;bookID&quot;).asText();\n            if (bookIds.contains(bookId)) {\n                System.out.println(&quot;Duplicate bookID found: &quot; + bookId);\n            } else {\n                bookIds.add(bookId);\n            }\n        });\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":26037703,"reputation":305,"user_id":19742955,"display_name":"Jai Prakash"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1677489024,"creation_date":1677489024,"answer_id":75578542,"question_id":75577534,"body_markdown":"Identify duplicate values for particular element in a JSON array:\r\n\r\n    import org.json.JSONArray;\r\n    import org.json.JSONException;\r\n    import org.json.JSONObject;\r\n    import java.util.List;\r\n    import java.util.Map;\r\n    import java.util.stream.Collectors;\r\n    import java.util.stream.IntStream;\r\n\r\n    public class BookIdFind {\r\n        public static void main(String[] args) throws JSONException {\r\n            String jsonString = &quot;{ \\&quot;ID\\&quot; : \\&quot;ID1\\&quot;, \\&quot;books\\&quot; : [ { \\&quot;bookID\\&quot; : \\&quot;book1\\&quot;, \\&quot;booktype\\&quot;: \\&quot;pdf\\&quot; },{ \\&quot;bookID\\&quot; : \\&quot;book2\\&quot;, \\&quot;booktype\\&quot;: \\&quot;txt\\&quot; },{ \\&quot;bookID\\&quot; : \\&quot;book1\\&quot;, \\&quot;booktype\\&quot;: \\&quot;txt\\&quot; } ] }&quot;;\r\n            JSONObject jsonObject = new JSONObject(jsonString);\r\n            JSONArray bookArray = jsonObject.getJSONArray(&quot;books&quot;);\r\n            \r\n            Map&lt;String, List&lt;JSONObject&gt;&gt; booksById = IntStream.range(0, bookArray.length())\r\n                    .mapToObj(bookArray::getJSONObject)\r\n                    .collect(Collectors.groupingBy(book -&gt; book.getString(&quot;bookID&quot;)));\r\n            \r\n            List&lt;String&gt; duplicateIds = booksById.values().stream()\r\n                    .filter(list -&gt; list.size() &gt; 1)\r\n                    .map(list -&gt; list.get(0).getString(&quot;bookID&quot;))\r\n                    .collect(Collectors.toList());\r\n            \r\n            if (duplicateIds.isEmpty()) {\r\n                System.out.println(&quot;No duplicate book IDs found.&quot;);\r\n            } else {\r\n                System.out.println(&quot;Duplicate book IDs found: &quot; + duplicateIds);\r\n            }\r\n        }\r\n    }","title":"Identify duplicate values for particular element in a JSON array","body":"<p>Identify duplicate values for particular element in a JSON array:</p>\n<pre><code>import org.json.JSONArray;\nimport org.json.JSONException;\nimport org.json.JSONObject;\nimport java.util.List;\nimport java.util.Map;\nimport java.util.stream.Collectors;\nimport java.util.stream.IntStream;\n\npublic class BookIdFind {\n    public static void main(String[] args) throws JSONException {\n        String jsonString = &quot;{ \\&quot;ID\\&quot; : \\&quot;ID1\\&quot;, \\&quot;books\\&quot; : [ { \\&quot;bookID\\&quot; : \\&quot;book1\\&quot;, \\&quot;booktype\\&quot;: \\&quot;pdf\\&quot; },{ \\&quot;bookID\\&quot; : \\&quot;book2\\&quot;, \\&quot;booktype\\&quot;: \\&quot;txt\\&quot; },{ \\&quot;bookID\\&quot; : \\&quot;book1\\&quot;, \\&quot;booktype\\&quot;: \\&quot;txt\\&quot; } ] }&quot;;\n        JSONObject jsonObject = new JSONObject(jsonString);\n        JSONArray bookArray = jsonObject.getJSONArray(&quot;books&quot;);\n        \n        Map&lt;String, List&lt;JSONObject&gt;&gt; booksById = IntStream.range(0, bookArray.length())\n                .mapToObj(bookArray::getJSONObject)\n                .collect(Collectors.groupingBy(book -&gt; book.getString(&quot;bookID&quot;)));\n        \n        List&lt;String&gt; duplicateIds = booksById.values().stream()\n                .filter(list -&gt; list.size() &gt; 1)\n                .map(list -&gt; list.get(0).getString(&quot;bookID&quot;))\n                .collect(Collectors.toList());\n        \n        if (duplicateIds.isEmpty()) {\n            System.out.println(&quot;No duplicate book IDs found.&quot;);\n        } else {\n            System.out.println(&quot;Duplicate book IDs found: &quot; + duplicateIds);\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":27751368,"reputation":1,"user_id":21185749,"display_name":"Sam Luis"},"comment_count":1,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1467,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"closed_date":1677497067,"answer_count":2,"score":-3,"last_activity_date":1677497061,"creation_date":1677481266,"question_id":75577534,"body_markdown":"JSON array:\r\n```json\r\n{\r\n  &quot;ID : &quot;ID1&quot;,\r\n  &quot;books&quot; : [ {\r\n     &quot;bookID&quot; : &quot;book1&quot;,\r\n     &quot;booktype&quot;: &quot;pdf&quot;\r\n   },{\r\n     &quot;bookID&quot; : &quot;book2&quot;,\r\n     &quot;booktype&quot;: &quot;txt&quot;\r\n   },{\r\n     &quot;bookID&quot; : &quot;book1&quot;,\r\n     &quot;booktype&quot;: &quot;txt&quot;\r\n  }\r\n ]\r\n}\r\n```\r\nHow to find bookID is duplicated or not here using Java. The JSON array will be big and contains multiple book elements. How to find if any bookID is duplicated?\r\n\r\nExpecting an answer in Java 8 using streams or Java.","title":"Identify duplicate values for particular element in a JSON array","body":"<p>JSON array:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;ID : &quot;ID1&quot;,\n  &quot;books&quot; : [ {\n     &quot;bookID&quot; : &quot;book1&quot;,\n     &quot;booktype&quot;: &quot;pdf&quot;\n   },{\n     &quot;bookID&quot; : &quot;book2&quot;,\n     &quot;booktype&quot;: &quot;txt&quot;\n   },{\n     &quot;bookID&quot; : &quot;book1&quot;,\n     &quot;booktype&quot;: &quot;txt&quot;\n  }\n ]\n}\n</code></pre>\n<p>How to find bookID is duplicated or not here using Java. The JSON array will be big and contains multiple book elements. How to find if any bookID is duplicated?</p>\n<p>Expecting an answer in Java 8 using streams or Java.</p>\n"},{"tags":["java","mono","spring-webflux","project-reactor"],"answers":[{"tags":[],"owner":{"account_id":26816655,"reputation":77,"user_id":20406553,"display_name":"jetbrain_icin icin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1677496944,"creation_date":1677480733,"answer_id":75577466,"question_id":75577373,"body_markdown":"I apologize for my earlier response not fully addressing your issue.\r\n\r\nyou can modify getHeaders() to return a Mono that emits the headers object when the token is available. You can then chain this Mono with the map() operator to set the headers and continue with the request execution.\r\n\r\n    public Mono&lt;MultiValuedMap&lt;String,Object&gt;&gt; getHeaders() {\r\n       if(token == null) {\r\n        return getTokenFromExternalApi()\r\n            .map(resp -&gt; setToken(resp))\r\n            .then(Mono.just(headers)); // return headers after setting token\r\n    }\r\n    return Mono.just(headers); // return headers if token is already set\r\n    }\r\n\r\nTo use this implementation, you can modify the webTarget code as follows:\r\n\r\n    getHeaders()\r\n    .map(headers -&gt; {\r\n        webTarget.headers(headers);\r\n        return webTarget;\r\n    })\r\n    .flatMap(webTarget -&gt; webTarget.rx(MonoRxInvoker.class).get())\r\n    .map(this::processResponse)\r\n    .doOnError(this::processError);","title":"block()/blocking() not supported in thread reactor","body":"<p>I apologize for my earlier response not fully addressing your issue.</p>\n<p>you can modify getHeaders() to return a Mono that emits the headers object when the token is available. You can then chain this Mono with the map() operator to set the headers and continue with the request execution.</p>\n<pre><code>public Mono&lt;MultiValuedMap&lt;String,Object&gt;&gt; getHeaders() {\n   if(token == null) {\n    return getTokenFromExternalApi()\n        .map(resp -&gt; setToken(resp))\n        .then(Mono.just(headers)); // return headers after setting token\n}\nreturn Mono.just(headers); // return headers if token is already set\n}\n</code></pre>\n<p>To use this implementation, you can modify the webTarget code as follows:</p>\n<pre><code>getHeaders()\n.map(headers -&gt; {\n    webTarget.headers(headers);\n    return webTarget;\n})\n.flatMap(webTarget -&gt; webTarget.rx(MonoRxInvoker.class).get())\n.map(this::processResponse)\n.doOnError(this::processError);\n</code></pre>\n"}],"owner":{"account_id":2065621,"reputation":3902,"user_id":1841181,"accept_rate":54,"display_name":"xploreraj"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1716,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75577466,"answer_count":1,"score":0,"last_activity_date":1677496944,"creation_date":1677479631,"question_id":75577373,"body_markdown":"Here is a logic to fetch some information from an API:\r\n\r\n    class OneClient {\r\n        public Mono&lt;Information&gt; getSomeInformation(ClientRequest req) {\r\n            return getWebTarget(req)\r\n                .request(MediaType.APPLICATION_JSON_TYPE)\r\n                .headers(getHeaders(req))\r\n                .rx(MonoRxInvoker.class)\r\n                .get()\r\n                .map(this::processResponse)\r\n                .doOnError(this::processError);\r\n        }\r\n    }\r\n\r\nThats how our framework is to be used by putting the request on a different thread while keeping main thread unblocked.\r\n\r\nBut I have a problem. `getHeaders()` gets information like below:\r\n\r\n    public MultiValuedMap&lt;String,Object&gt; getHeaders() {\r\n        if(token == null) {\r\n            getTokenFromExternalApi() // just like previous snippet\r\n            .map(resp -&gt; setToken(resp))\r\n            .block();\r\n        }\r\n        return headers; // tokens and other static data\r\n    }\r\n\r\nSince I have to store token in the bean, I was doing `.block()`, but then I get exception: `block()/blockFirst()/blockLast() are blocking, which is not supported in thread reactor-http-nio-5`. And I understand why this error is being thrown. Blocking is unexpected in a non-blocking thread.\r\n\r\nBut \r\n\r\nCan you suggest me the right way to design `getHeader()`? Thank you.","title":"block()/blocking() not supported in thread reactor","body":"<p>Here is a logic to fetch some information from an API:</p>\n<pre><code>class OneClient {\n    public Mono&lt;Information&gt; getSomeInformation(ClientRequest req) {\n        return getWebTarget(req)\n            .request(MediaType.APPLICATION_JSON_TYPE)\n            .headers(getHeaders(req))\n            .rx(MonoRxInvoker.class)\n            .get()\n            .map(this::processResponse)\n            .doOnError(this::processError);\n    }\n}\n</code></pre>\n<p>Thats how our framework is to be used by putting the request on a different thread while keeping main thread unblocked.</p>\n<p>But I have a problem. <code>getHeaders()</code> gets information like below:</p>\n<pre><code>public MultiValuedMap&lt;String,Object&gt; getHeaders() {\n    if(token == null) {\n        getTokenFromExternalApi() // just like previous snippet\n        .map(resp -&gt; setToken(resp))\n        .block();\n    }\n    return headers; // tokens and other static data\n}\n</code></pre>\n<p>Since I have to store token in the bean, I was doing <code>.block()</code>, but then I get exception: <code>block()/blockFirst()/blockLast() are blocking, which is not supported in thread reactor-http-nio-5</code>. And I understand why this error is being thrown. Blocking is unexpected in a non-blocking thread.</p>\n<p>But</p>\n<p>Can you suggest me the right way to design <code>getHeader()</code>? Thank you.</p>\n"},{"tags":["java","arrays","sorting","exception","indexoutofboundsexception"],"comments":[{"owner":{"account_id":341129,"reputation":39091,"user_id":671543,"accept_rate":55,"display_name":"njzk2"},"score":0,"creation_date":1677428010,"post_id":75572856,"comment_id":133331603,"body_markdown":"do you know how to use a step-by-step debugger?","body":"do you know how to use a step-by-step debugger?"},{"owner":{"account_id":341129,"reputation":39091,"user_id":671543,"accept_rate":55,"display_name":"njzk2"},"score":0,"creation_date":1677428090,"post_id":75572856,"comment_id":133331616,"body_markdown":"(in this case there&#39;s a clear issue: you never reset your ID flag. A run through a debugger would have made that fairly obvious)","body":"(in this case there&#39;s a clear issue: you never reset your ID flag. A run through a debugger would have made that fairly obvious)"}],"answers":[{"tags":[],"owner":{"account_id":26037703,"reputation":305,"user_id":19742955,"display_name":"Jai Prakash"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1677496619,"creation_date":1677496619,"answer_id":75579767,"question_id":75572856,"body_markdown":"Commented on your code and you changed it, then should work.\r\n\r\n&gt;     private static int read(String inFileName, int[] list) {\r\n&gt;         int size = 0;\r\n&gt;         int i= 0;\r\n&gt; \r\n&gt;         Scanner inFile = null;\r\n&gt;         int val = 0;\r\n&gt; \r\n&gt;         int trash = 0;\r\n&gt;      // boolean ID = false;  remove \r\n&gt;         int Unique = 0;\r\n&gt;         int dupe = 0;\r\n&gt;         int lineCount = 0;\r\n&gt; \r\n&gt;         try { \r\n&gt;             inFile = new Scanner(new File(inFileName));\r\n&gt;             while (inFile.hasNext()){\r\n&gt;                 boolean ID = false; // Add here\r\n&gt;                 lineCount++;\r\n&gt;                 try{\r\n&gt;                     val = inFile.nextInt();\r\n&gt;                     if(val &lt; 0) { \r\n&gt;                         trash++;\r\n&gt;                         continue; \r\n&gt;                     }\r\n&gt; \r\n&gt;                     for(i = 0; i&lt; size ;i++){ \r\n&gt;                         if(list[i] == val){\r\n&gt;                             ID = true;\r\n&gt;                             dupe++;\r\n&gt;                \r\n&gt;                         }\r\n&gt; \r\n&gt;                     }\r\n&gt;                     if (ID == false &amp;&amp; size&lt;list.length){ \r\n&gt;                         list[size] = val;\r\n&gt;                         size++;\r\n&gt;                         Unique++;\r\n&gt;                     }\r\n&gt; \r\n&gt;                 }\r\n&gt;                 catch (InputMismatchException e){\r\n&gt;                     trash++;\r\n&gt;                     inFile.nextLine();\r\n&gt;                 }\r\n&gt; \r\n&gt;             }\r\n&gt;             System.out.println(&quot;lines: &quot; + lineCount + &quot;, unique: &quot; + Unique +  &quot;, dupes: &quot; + dupe + &quot;, trash: &quot; + trash);\r\n&gt;         }\r\n&gt;         catch (FileNotFoundException e) {\r\n&gt;             System.out.println(&quot;Error in opening &quot; + inFileName);\r\n&gt;         }\r\n&gt; \r\n&gt; \r\n&gt;         return size;\r\n&gt;     }","title":"Issues filling an array in Java","body":"<p>Commented on your code and you changed it, then should work.</p>\n<blockquote>\n<pre><code>private static int read(String inFileName, int[] list) {\n    int size = 0;\n    int i= 0;\n\n    Scanner inFile = null;\n    int val = 0;\n\n    int trash = 0;\n // boolean ID = false;  remove \n    int Unique = 0;\n    int dupe = 0;\n    int lineCount = 0;\n\n    try { \n        inFile = new Scanner(new File(inFileName));\n        while (inFile.hasNext()){\n            boolean ID = false; // Add here\n            lineCount++;\n            try{\n                val = inFile.nextInt();\n                if(val &lt; 0) { \n                    trash++;\n                    continue; \n                }\n\n                for(i = 0; i&lt; size ;i++){ \n                    if(list[i] == val){\n                        ID = true;\n                        dupe++;\n           \n                    }\n\n                }\n                if (ID == false &amp;&amp; size&lt;list.length){ \n                    list[size] = val;\n                    size++;\n                    Unique++;\n                }\n\n            }\n            catch (InputMismatchException e){\n                trash++;\n                inFile.nextLine();\n            }\n\n        }\n        System.out.println(&quot;lines: &quot; + lineCount + &quot;, unique: &quot; + Unique +  &quot;, dupes: &quot; + dupe + &quot;, trash: &quot; + trash);\n    }\n    catch (FileNotFoundException e) {\n        System.out.println(&quot;Error in opening &quot; + inFileName);\n    }\n\n\n    return size;\n}\n</code></pre>\n</blockquote>\n"}],"owner":{"account_id":25507996,"reputation":3,"user_id":19300254,"display_name":"Erl_k&#246;nig"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":65,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75579767,"answer_count":1,"score":0,"last_activity_date":1677496619,"creation_date":1677423762,"question_id":75572856,"body_markdown":"I am trying to fill an array with the unique values from another file. This file has about 20 integers total, 10 are unique and 10 are copies. The user inputs the size of the array and name of the file within the main. \r\n\r\n\r\nI think the trouble is coming from this while loop that is meant to fill the array, sorting out the duplicates. \r\n\r\nAt the moment, it only successfully sorts 11 of the 20 integers in the file.\r\n\r\n\r\n\r\n```\r\nprivate static int read(String inFileName, int[] list) {\r\n        int size = 0;\r\n        int i= 0;\r\n\r\n        Scanner inFile = null;\r\n        int val = 0;\r\n\r\n        int trash = 0;\r\n        boolean ID = false;\r\n        int Unique = 0;\r\n        int dupe = 0;\r\n        int lineCount = 0;\r\n\r\n        try { \r\n            inFile = new Scanner(new File(inFileName));\r\n            while (inFile.hasNext()){\r\n                lineCount++;\r\n                try{\r\n                    val = inFile.nextInt();\r\n                    if(val &lt; 0) { \r\n                        trash++;\r\n                        continue; \r\n                    }\r\n\r\n                    for(i = 0; i&lt; size ;i++){ \r\n                        if(list[i] == val){\r\n                            ID = true;\r\n                            dupe++;\r\n               \r\n                        }\r\n\r\n                    }\r\n                    if (ID == false &amp;&amp; size&lt;list.length){ \r\n                        list[size] = val;\r\n                        size++;\r\n                        Unique++;\r\n                    }\r\n\r\n                }\r\n                catch (InputMismatchException e){\r\n                    trash++;\r\n                    inFile.nextLine();\r\n                }\r\n\r\n            }\r\n            System.out.println(&quot;lines: &quot; + lineCount + &quot;, unique: &quot; + Unique +  &quot;, dupes: &quot; + dupe + &quot;, trash: &quot; + trash);\r\n        }\r\n        catch (FileNotFoundException e) {\r\n            System.out.println(&quot;Error in opening &quot; + inFileName);\r\n        }\r\n\r\n\r\n        return size;\r\n    }\r\n```\r\n\r\nSo far, I have tried adding different if-statements to try and specify what is unique and what is a copy. This would typically help in filling the array with the correct number of integers, but not the unique ones. It seems to be skipping quite a few unique integers and filling the array with copies. I am pretty stuck, and any suggestions whatsoever would be appreciated.","title":"Issues filling an array in Java","body":"<p>I am trying to fill an array with the unique values from another file. This file has about 20 integers total, 10 are unique and 10 are copies. The user inputs the size of the array and name of the file within the main.</p>\n<p>I think the trouble is coming from this while loop that is meant to fill the array, sorting out the duplicates.</p>\n<p>At the moment, it only successfully sorts 11 of the 20 integers in the file.</p>\n<pre><code>private static int read(String inFileName, int[] list) {\n        int size = 0;\n        int i= 0;\n\n        Scanner inFile = null;\n        int val = 0;\n\n        int trash = 0;\n        boolean ID = false;\n        int Unique = 0;\n        int dupe = 0;\n        int lineCount = 0;\n\n        try { \n            inFile = new Scanner(new File(inFileName));\n            while (inFile.hasNext()){\n                lineCount++;\n                try{\n                    val = inFile.nextInt();\n                    if(val &lt; 0) { \n                        trash++;\n                        continue; \n                    }\n\n                    for(i = 0; i&lt; size ;i++){ \n                        if(list[i] == val){\n                            ID = true;\n                            dupe++;\n               \n                        }\n\n                    }\n                    if (ID == false &amp;&amp; size&lt;list.length){ \n                        list[size] = val;\n                        size++;\n                        Unique++;\n                    }\n\n                }\n                catch (InputMismatchException e){\n                    trash++;\n                    inFile.nextLine();\n                }\n\n            }\n            System.out.println(&quot;lines: &quot; + lineCount + &quot;, unique: &quot; + Unique +  &quot;, dupes: &quot; + dupe + &quot;, trash: &quot; + trash);\n        }\n        catch (FileNotFoundException e) {\n            System.out.println(&quot;Error in opening &quot; + inFileName);\n        }\n\n\n        return size;\n    }\n</code></pre>\n<p>So far, I have tried adding different if-statements to try and specify what is unique and what is a copy. This would typically help in filling the array with the correct number of integers, but not the unique ones. It seems to be skipping quite a few unique integers and filling the array with copies. I am pretty stuck, and any suggestions whatsoever would be appreciated.</p>\n"},{"tags":["java","xml","avro"],"answers":[{"tags":[],"owner":{"account_id":23477672,"reputation":45,"user_id":17530250,"display_name":"Pavol Varga"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677496508,"creation_date":1677496424,"answer_id":75579738,"question_id":75579485,"body_markdown":"It is a while since I used Apache Camel for this,\r\nbut it was out-of-the box.&lt;br /&gt;\r\nAdd Apache Camel dependency and voila!&lt;br /&gt;\r\nhttps://camel.apache.org/components/3.20.x/dataformats/avro-dataformat.html","title":"Using Java programming, How can I convert XML file into Avro file?","body":"<p>It is a while since I used Apache Camel for this,\nbut it was out-of-the box.<br />\nAdd Apache Camel dependency and voila!<br />\n<a href=\"https://camel.apache.org/components/3.20.x/dataformats/avro-dataformat.html\" rel=\"nofollow noreferrer\">https://camel.apache.org/components/3.20.x/dataformats/avro-dataformat.html</a></p>\n"}],"owner":{"account_id":27889812,"reputation":1,"user_id":21296442,"display_name":"G Anubhav"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":108,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1677496508,"creation_date":1677494961,"question_id":75579485,"body_markdown":"I am new to java and I need to input XML file to a java code that gives Avro as output, cannot find a working example on the net.\r\n\r\nFound this Github repo -- https://github.com/elodina/xml-avro in the existing thread -- https://stackoverflow.com/questions/57005465/convert-xml-to-avro-and-generate-avro-schema - but I am not able to run it as I am not acquainted with the execution procedure and I cannot understand properly the instruction written in the above mentioned github page. could u please write me a more elaborated instruction for executing this?","title":"Using Java programming, How can I convert XML file into Avro file?","body":"<p>I am new to java and I need to input XML file to a java code that gives Avro as output, cannot find a working example on the net.</p>\n<p>Found this Github repo -- <a href=\"https://github.com/elodina/xml-avro\" rel=\"nofollow noreferrer\">https://github.com/elodina/xml-avro</a> in the existing thread -- <a href=\"https://stackoverflow.com/questions/57005465/convert-xml-to-avro-and-generate-avro-schema\">Convert XML to Avro and generate AVRO schema</a> - but I am not able to run it as I am not acquainted with the execution procedure and I cannot understand properly the instruction written in the above mentioned github page. could u please write me a more elaborated instruction for executing this?</p>\n"},{"tags":["java","spring-boot","multiple-databases"],"comments":[{"owner":{"account_id":322960,"reputation":7711,"user_id":642680,"accept_rate":74,"display_name":"D-Dᴙum"},"score":0,"creation_date":1677417858,"post_id":75571945,"comment_id":133329876,"body_markdown":"Are you using Spring Data JPA or Spring Data JDBC?","body":"Are you using Spring Data JPA or Spring Data JDBC?"},{"owner":{"account_id":25545673,"reputation":13,"user_id":19331035,"display_name":"ABHINAV.DEEP"},"score":0,"creation_date":1677420612,"post_id":75571945,"comment_id":133330331,"body_markdown":"Spring Data JPA","body":"Spring Data JPA"},{"owner":{"account_id":322960,"reputation":7711,"user_id":642680,"accept_rate":74,"display_name":"D-Dᴙum"},"score":0,"creation_date":1677448197,"post_id":75571945,"comment_id":133335049,"body_markdown":"And to clarify you are already running migration scripts using a tool like Flyway on the MySQL but you don&#39;t want the migration tool to run on Oracle?","body":"And to clarify you are already running migration scripts using a tool like Flyway on the MySQL but you don&#39;t want the migration tool to run on Oracle?"}],"answers":[{"tags":[],"owner":{"account_id":14990523,"reputation":46,"user_id":10821813,"display_name":"ayasin"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1677496213,"creation_date":1677496213,"answer_id":75579699,"question_id":75571945,"body_markdown":"The easiest solution would be creating a read-only user in the Oracle database, and in the application.properties file, you should replace the old database user information with the read-only user&#39;s information.","title":"How to configure second database (For only Select queries) in Spring Boot","body":"<p>The easiest solution would be creating a read-only user in the Oracle database, and in the application.properties file, you should replace the old database user information with the read-only user's information.</p>\n"}],"owner":{"account_id":25545673,"reputation":13,"user_id":19331035,"display_name":"ABHINAV.DEEP"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75579699,"answer_count":1,"score":1,"last_activity_date":1677496213,"creation_date":1677414182,"question_id":75571945,"body_markdown":"I have a spring boot project with a MySql DB already configured along with the migration scripts.\r\n\r\nI have a new requirement where I have to configure an Oracle database(part of another application) to my application.\r\n\r\nI understand that we can configure multiple databases in spring boot project. But I need to configure Oracle DB such that the migration scripts writtrn for MySQL doesn&#39;t apply onto it as I have to perform only select queries on Oracle database.\r\n\r\nI am expecting to configure the Oracle database as a read only database without affecting the existing configuration for MySQL database.","title":"How to configure second database (For only Select queries) in Spring Boot","body":"<p>I have a spring boot project with a MySql DB already configured along with the migration scripts.</p>\n<p>I have a new requirement where I have to configure an Oracle database(part of another application) to my application.</p>\n<p>I understand that we can configure multiple databases in spring boot project. But I need to configure Oracle DB such that the migration scripts writtrn for MySQL doesn't apply onto it as I have to perform only select queries on Oracle database.</p>\n<p>I am expecting to configure the Oracle database as a read only database without affecting the existing configuration for MySQL database.</p>\n"},{"tags":["java","android","android-studio","kotlin"],"comments":[{"owner":{"account_id":3747484,"reputation":3573,"user_id":3115822,"display_name":"Borja"},"score":1,"creation_date":1677499274,"post_id":75579585,"comment_id":133343207,"body_markdown":"Please don&#39;t post code images or bugs if possible, copy your code or code error into question with block code format: https://stackoverflow.com/help/how-to-ask","body":"Please don&#39;t post code images or bugs if possible, copy your code or code error into question with block code format: <a href=\"https://stackoverflow.com/help/how-to-ask\">stackoverflow.com/help/how-to-ask</a>"},{"owner":{"account_id":27545233,"reputation":1,"user_id":21021288,"display_name":"Nikhil Patil"},"score":0,"creation_date":1677560346,"post_id":75579585,"comment_id":133357414,"body_markdown":"sorry but i dint have error i dont know how implement this thats  why i am sharing my code","body":"sorry but i dint have error i dont know how implement this thats  why i am sharing my code"},{"owner":{"account_id":3747484,"reputation":3573,"user_id":3115822,"display_name":"Borja"},"score":0,"creation_date":1677564389,"post_id":75579585,"comment_id":133357858,"body_markdown":"Please do not post images of code, copy your code into the question with block code format:   https://stackoverflow.com/help/how-to-ask","body":"Please do not post images of code, copy your code into the question with block code format:   <a href=\"https://stackoverflow.com/help/how-to-ask\">stackoverflow.com/help/how-to-ask</a>"}],"owner":{"account_id":27545233,"reputation":1,"user_id":21021288,"display_name":"Nikhil Patil"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":17,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677495545,"creation_date":1677495545,"question_id":75579585,"body_markdown":"[enter image description here](https://i.stack.imgur.com/YYbOI.png) find this","title":"how to apply filter, when i click the form in blankformList Activity only that form entries visible to user in InsctanceChooserList Activity","body":"<p><a href=\"https://i.stack.imgur.com/YYbOI.png\" rel=\"nofollow noreferrer\">enter image description here</a> find this</p>\n"},{"tags":["java","junit","swt"],"comments":[{"owner":{"account_id":41920,"reputation":56500,"user_id":121993,"accept_rate":77,"display_name":"Jeff Storey"},"score":2,"creation_date":1323441736,"post_id":8447033,"comment_id":10440907,"body_markdown":"Can you show the code for createTestTree? Without seeing it, I would guess that you are not actually adding items to the tree.","body":"Can you show the code for createTestTree? Without seeing it, I would guess that you are not actually adding items to the tree."}],"answers":[{"tags":[],"owner":{"account_id":972917,"reputation":65,"user_id":995062,"display_name":"Julien D."},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1677495531,"creation_date":1351251593,"answer_id":13086244,"question_id":8447033,"body_markdown":"I suspect that, because your test is ran in UI thread, the viewer could not be refreshed. In this case a solution is to try to let the JVM refresh the view with calling the piece of code after each call of `refresh()` method in your code:\r\n\r\n        /**\r\n    \t * Execute pending UI tasks\r\n    \t */\r\n    \tpublic static void doPendingUIJobs() {\r\n    \t\ttry {\r\n    \t\t\tThread.yield();\r\n    \t\t\tIWorkbench wb = PlatformUI.getWorkbench();\r\n    \t\t\tif (wb != null) {\r\n    \t\t\t\tDisplay display = wb.getDisplay();\r\n    \t\t\t\tif (display != null) {\r\n    \t\t\t\t\tdo {\r\n    \t\t\t\t\t} while (display.readAndDispatch());\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t} catch (Throwable _) {\r\n    \t\t\tSystem.out.println(&quot;doPendingUIJobs error:&quot; + _);\r\n    \t\t\t_.printStackTrace();\r\n    \t\t}\r\n    \t}","title":"Java JUnit: Test selection of TreeViewer","body":"<p>I suspect that, because your test is ran in UI thread, the viewer could not be refreshed. In this case a solution is to try to let the JVM refresh the view with calling the piece of code after each call of <code>refresh()</code> method in your code:</p>\n<pre><code>    /**\n     * Execute pending UI tasks\n     */\n    public static void doPendingUIJobs() {\n        try {\n            Thread.yield();\n            IWorkbench wb = PlatformUI.getWorkbench();\n            if (wb != null) {\n                Display display = wb.getDisplay();\n                if (display != null) {\n                    do {\n                    } while (display.readAndDispatch());\n                }\n            }\n        } catch (Throwable _) {\n            System.out.println(&quot;doPendingUIJobs error:&quot; + _);\n            _.printStackTrace();\n        }\n    }\n</code></pre>\n"}],"owner":{"account_id":463978,"reputation":265,"user_id":867204,"accept_rate":39,"display_name":"user867204"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":460,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1677495531,"creation_date":1323441423,"question_id":8447033,"body_markdown":"I wrote a method that returns the selections of a TreeViewer, which I created because I have to get the current selections quite often.\r\n\r\nI am trying to test this method with JUnit, but for some reason my manually created selections won&#39;t work. Apparently, the Tree in the TreeViewer is not created in the JUnit environment and thus cannot return any selections. \r\nThe debug shows me the following message when I call getItems()\r\n&quot;org.eclipse.debug.core.DebugException: com.sun.jdi.ClassNotLoadedException: Type has not been loaded occurred while retrieving component type of array.&quot;\r\n\r\nMaybe I am doing entirely wrong, but this is how I am doing it now:\r\n\r\n    TreeNode root = createTestTree();\r\n\t\tviewer.setContentProvider(new TreeNodeContentProvider());\r\n\t\tviewer.setInput(root); //&lt;-- is a tree with at least 9 nodes\r\n\t\tviewer.getTree().update(); //&lt;-- tried to update out of desperation, no effect\r\n\t\tviewer.refresh();\r\n\t\t\r\n\t\tTreeItem [] items = viewer.getTree().getItems(); //&lt;-- always empty, why\r\n\t\tviewer.getTree().setSelection(items[3]);\r\n\t\tviewer.refresh();\r\n\t\tviewer.getTree().update();\r\n\t\t\r\n\t\tsel = TreeUtil.getTreeSelections(viewer);\r\n\t\tassertEquals(1, sel.size());\r\n\r\n \r\nHow can I create a valid TreeViewer, select something in it for JUnit-Testing?","title":"Java JUnit: Test selection of TreeViewer","body":"<p>I wrote a method that returns the selections of a TreeViewer, which I created because I have to get the current selections quite often.</p>\n\n<p>I am trying to test this method with JUnit, but for some reason my manually created selections won't work. Apparently, the Tree in the TreeViewer is not created in the JUnit environment and thus cannot return any selections. \nThe debug shows me the following message when I call getItems()\n\"org.eclipse.debug.core.DebugException: com.sun.jdi.ClassNotLoadedException: Type has not been loaded occurred while retrieving component type of array.\"</p>\n\n<p>Maybe I am doing entirely wrong, but this is how I am doing it now:</p>\n\n<pre><code>TreeNode root = createTestTree();\n    viewer.setContentProvider(new TreeNodeContentProvider());\n    viewer.setInput(root); //&lt;-- is a tree with at least 9 nodes\n    viewer.getTree().update(); //&lt;-- tried to update out of desperation, no effect\n    viewer.refresh();\n\n    TreeItem [] items = viewer.getTree().getItems(); //&lt;-- always empty, why\n    viewer.getTree().setSelection(items[3]);\n    viewer.refresh();\n    viewer.getTree().update();\n\n    sel = TreeUtil.getTreeSelections(viewer);\n    assertEquals(1, sel.size());\n</code></pre>\n\n<p>How can I create a valid TreeViewer, select something in it for JUnit-Testing?</p>\n"},{"tags":["java","spring-boot","thymeleaf"],"answers":[{"tags":[],"owner":{"account_id":4492549,"reputation":660,"user_id":3653304,"display_name":"Ralan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677495506,"creation_date":1677495506,"answer_id":75579579,"question_id":75565446,"body_markdown":"The password changes on save as your safe function always calls `encodePassword(user);`. you can prevent this in multiple ways.\r\n\r\n1) Give the edit function of user a seperate endpoint from create and make an update function in service that does not call you `encodePassword(user)` function.\r\n\r\n2) Don&#39;t use model entities in post and introduce a bean that holds all the modifiable fields of the user, than in the save function check if a new password is given and only than change the users password.\r\n\r\n```java\r\npublic void save(UserBean userBean)\r\n{\r\n    User user;\r\n    if(userBean.getId() == null)\r\n        user = new User();\r\n    else\r\n        user = userRepo.findById(userBean.getId()).orElseThrow(() -&gt; new IllegalStateException(&quot;no user with id&quot;));\r\n\r\n    if(userBean.getPassword() != null)\r\n    {\r\n        user.setPassword(userBean.getPassword());\r\n        encodePassword(user);\r\n    }\r\n\r\n    user.setName(userBean.getName());\r\n    // rest of you fields to edit/set\r\n    userRepo.save(user);\r\n}\r\n```\r\n","title":"Unable to update user Roles in Springboot","body":"<p>The password changes on save as your safe function always calls <code>encodePassword(user);</code>. you can prevent this in multiple ways.</p>\n<ol>\n<li><p>Give the edit function of user a seperate endpoint from create and make an update function in service that does not call you <code>encodePassword(user)</code> function.</p>\n</li>\n<li><p>Don't use model entities in post and introduce a bean that holds all the modifiable fields of the user, than in the save function check if a new password is given and only than change the users password.</p>\n</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>public void save(UserBean userBean)\n{\n    User user;\n    if(userBean.getId() == null)\n        user = new User();\n    else\n        user = userRepo.findById(userBean.getId()).orElseThrow(() -&gt; new IllegalStateException(&quot;no user with id&quot;));\n\n    if(userBean.getPassword() != null)\n    {\n        user.setPassword(userBean.getPassword());\n        encodePassword(user);\n    }\n\n    user.setName(userBean.getName());\n    // rest of you fields to edit/set\n    userRepo.save(user);\n}\n</code></pre>\n"}],"owner":{"account_id":27270290,"reputation":1,"user_id":20791708,"display_name":"Emmanuel Manolito"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":70,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1677495506,"creation_date":1677328306,"question_id":75565446,"body_markdown":"Whenever I try to update the user role, it update the password automatically. \r\n\r\nThis is the `service` class:\r\n\r\n    @Service\r\n    public class UserService {\r\n    \r\n    \t@Autowired(required=true)\r\n    \tprivate UserRepository userRepo;\r\n    \t\r\n    \t@Autowired RoleRepository roleRepo;\r\n    \t\r\n    \t@Autowired PasswordEncoder passwordEncoder;\r\n    \t\r\n    \tpublic void registerDefaultUser(User user) {\r\n    \t\tRole roleUser = roleRepo.findByName(&quot;User&quot;);\r\n    \t\tuser.addRole(roleUser);\r\n    \t\tencodePassword(user);\r\n    \t\tuserRepo.save(user);\r\n    \t}\r\n    \t\r\n    \tpublic List&lt;User&gt; listAll() {\r\n    \t\treturn userRepo.findAll();\r\n    \t}\r\n    \r\n    \tpublic User get(Long id) {\r\n    \t\treturn userRepo.findById(id).get();\r\n    \t}\r\n    \t\r\n    \tpublic List&lt;Role&gt; listRoles() {\r\n    \t\treturn roleRepo.findAll();\r\n    \t}\r\n    \t\r\n    \tpublic void save(User user) {\r\n    \t\tencodePassword(user);\t\t\r\n    \t\tuserRepo.save(user);\r\n    \t}\r\n    \r\n    }\r\n\r\nThis is the `controller`:\r\n\r\n\t@GetMapping(&quot;/users/edit/{id}&quot;)\r\n\tpublic String editUser(@PathVariable(&quot;id&quot;) Long id, Model model) {\r\n\t\tUser user = service.get(id);\r\n\t\tList&lt;Role&gt; listRoles = service.listRoles();\r\n\t\tmodel.addAttribute(&quot;user&quot;, user);\r\n\t\tmodel.addAttribute(&quot;listRoles&quot;, listRoles);\r\n\t\treturn &quot;user_form&quot;;\r\n\t}\r\n\t\r\n\t@PostMapping(&quot;/users/save&quot;)\r\n\tpublic String saveUser(User user) {\r\n\t\tuser.getPassword();\t\r\n\t\tservice.save(user);\r\n\t\t\r\n\t\treturn &quot;redirect:/users&quot;;\r\n\t} \r\n\r\nI want to be ale to update the roles only, without changing the password the user has set.\r\n","title":"Unable to update user Roles in Springboot","body":"<p>Whenever I try to update the user role, it update the password automatically.</p>\n<p>This is the <code>service</code> class:</p>\n<pre><code>@Service\npublic class UserService {\n\n    @Autowired(required=true)\n    private UserRepository userRepo;\n    \n    @Autowired RoleRepository roleRepo;\n    \n    @Autowired PasswordEncoder passwordEncoder;\n    \n    public void registerDefaultUser(User user) {\n        Role roleUser = roleRepo.findByName(&quot;User&quot;);\n        user.addRole(roleUser);\n        encodePassword(user);\n        userRepo.save(user);\n    }\n    \n    public List&lt;User&gt; listAll() {\n        return userRepo.findAll();\n    }\n\n    public User get(Long id) {\n        return userRepo.findById(id).get();\n    }\n    \n    public List&lt;Role&gt; listRoles() {\n        return roleRepo.findAll();\n    }\n    \n    public void save(User user) {\n        encodePassword(user);       \n        userRepo.save(user);\n    }\n\n}\n</code></pre>\n<p>This is the <code>controller</code>:</p>\n<pre><code>@GetMapping(&quot;/users/edit/{id}&quot;)\npublic String editUser(@PathVariable(&quot;id&quot;) Long id, Model model) {\n    User user = service.get(id);\n    List&lt;Role&gt; listRoles = service.listRoles();\n    model.addAttribute(&quot;user&quot;, user);\n    model.addAttribute(&quot;listRoles&quot;, listRoles);\n    return &quot;user_form&quot;;\n}\n\n@PostMapping(&quot;/users/save&quot;)\npublic String saveUser(User user) {\n    user.getPassword(); \n    service.save(user);\n    \n    return &quot;redirect:/users&quot;;\n} \n</code></pre>\n<p>I want to be ale to update the roles only, without changing the password the user has set.</p>\n"},{"tags":["javascript","java","security","xss"],"owner":{"account_id":27887457,"reputation":1,"user_id":21294565,"display_name":"VY 767"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677495296,"creation_date":1677474129,"question_id":75576904,"body_markdown":".header(HttpHeaders.CONTENT_TYPE, Files.probeContentType(path))\r\n\r\nThe particular peace of code showing Stored XSS vulnerability, anyone please elaborate it out whether it is a TP OR FP…..\r\n\r\nHelp me on this………….","title":"Issue :- Stored XSS Vulnerability","body":"<p>.header(HttpHeaders.CONTENT_TYPE, Files.probeContentType(path))</p>\n<p>The particular peace of code showing Stored XSS vulnerability, anyone please elaborate it out whether it is a TP OR FP…..</p>\n<p>Help me on this………….</p>\n"},{"tags":["java","sequence","extends","extend"],"comments":[{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":2,"creation_date":1677494385,"post_id":75579390,"comment_id":133341969,"body_markdown":"Hint: if a constructor doesn&#39;t explicitly delegate to another through `this(...)` or `super(...)`, it&#39;s equivalent to having `super()`. So imagine the parameterless constructor for `C` starts `super();` - would that clear up your confusion?","body":"Hint: if a constructor doesn&#39;t explicitly delegate to another through <code>this(...)</code> or <code>super(...)</code>, it&#39;s equivalent to having <code>super()</code>. So imagine the parameterless constructor for <code>C</code> starts <code>super();</code> - would that clear up your confusion?"},{"owner":{"account_id":26232307,"reputation":23,"user_id":19908013,"display_name":"dog bytes"},"score":0,"creation_date":1677494514,"post_id":75579390,"comment_id":133342002,"body_markdown":"oh yeah, i forgot that super() is invoked even if not explicitly, thank you!","body":"oh yeah, i forgot that super() is invoked even if not explicitly, thank you!"}],"answers":[{"tags":[],"owner":{"account_id":16657935,"reputation":834,"user_id":13927534,"display_name":"Miss Skooter"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1677495190,"creation_date":1677495190,"answer_id":75579516,"question_id":75579390,"body_markdown":"Inheriting classes call `super()` implicitely at the beginning of the constructor.\r\n\r\nThus, the execution is as follows:\r\n\r\n`C()` --&gt; `B()` --&gt; `A()` --&gt; `A(5)` --&gt; `print(&#39;a2&#39;)` --&gt; `print(&#39;a1&#39;)` --&gt; `B(false)` --&gt; `B(2)` --&gt; `print(&#39;b2&#39;)` --&gt; `print(&#39;b3&#39;)` --&gt; `print(&#39;b1&#39;)` --&gt; `print(&#39;c1&#39;)` (this finishes the very first call to `C()`)\r\n\r\n`C(1.0)` --&gt; does the exact same trajectory for a2, a1, b2, b3, b1, c1, and then finally `print(&#39;c2&#39;)` to finish the function.","title":"Questioning the order in which the code is executed","body":"<p>Inheriting classes call <code>super()</code> implicitely at the beginning of the constructor.</p>\n<p>Thus, the execution is as follows:</p>\n<p><code>C()</code> --&gt; <code>B()</code> --&gt; <code>A()</code> --&gt; <code>A(5)</code> --&gt; <code>print('a2')</code> --&gt; <code>print('a1')</code> --&gt; <code>B(false)</code> --&gt; <code>B(2)</code> --&gt; <code>print('b2')</code> --&gt; <code>print('b3')</code> --&gt; <code>print('b1')</code> --&gt; <code>print('c1')</code> (this finishes the very first call to <code>C()</code>)</p>\n<p><code>C(1.0)</code> --&gt; does the exact same trajectory for a2, a1, b2, b3, b1, c1, and then finally <code>print('c2')</code> to finish the function.</p>\n"}],"owner":{"account_id":26232307,"reputation":23,"user_id":19908013,"display_name":"dog bytes"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":40,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1677496116,"accepted_answer_id":75579516,"answer_count":1,"score":-1,"last_activity_date":1677495190,"creation_date":1677494308,"question_id":75579390,"body_markdown":"So I stumbled across this piece of code (https://stackoverflow.com/questions/25340310/java-constructor-does-not-explicitly-invoke-a-superclass-constructor-java-doe)...\r\n\r\n\r\n```\r\npublic class App {\r\n    public static void main(String[] args){\r\n        new C();\r\n        new C(1.0);\r\n    }\r\n}\r\n\r\nclass A {\r\n    public A(){\r\n        this(5);\r\n        System.out.println(&quot;a1&quot;);\r\n    }\r\n\r\n    public A(int x){\r\n        System.out.println(&quot;a2&quot;);\r\n    }\r\n}\r\n\r\nclass B extends A {\r\n    public B(){\r\n        this(false);\r\n        System.out.println(&quot;b1&quot;);\r\n    }\r\n\r\n    public B(int x){\r\n        super();\r\n        System.out.println(&quot;b2&quot;);\r\n    }\r\n\r\n    public B(boolean b){\r\n        this(2);\r\n        System.out.println(&quot;b3&quot;);\r\n    }\r\n}\r\n\r\nclass C extends B {\r\n    public C(){\r\n        System.out.println(&quot;c1&quot;);\r\n    }\r\n\r\n    public C(double x){\r\n        this();\r\n        System.out.println(&quot;c2&quot;);\r\n    }\r\n}\r\n```\r\n\r\nAnd the output that I got is a2 a1 b2 b3 b1 c1 a2 a1 b2 b3 b1 c1 c2\r\n\r\n\r\n\r\nI was expecting it to be c1 c2 only but I just cannot wrap my head around the sequence in which the code is executed.\r\n\r\nI would love a detailed explanation, just to make sure I understand things clearly enough. Thank you!","title":"Questioning the order in which the code is executed","body":"<p>So I stumbled across this piece of code (<a href=\"https://stackoverflow.com/questions/25340310/java-constructor-does-not-explicitly-invoke-a-superclass-constructor-java-doe\">Java - Constructor does not explicitly invoke a superclass constructor, Java does not insert one either</a>)...</p>\n<pre><code>public class App {\n    public static void main(String[] args){\n        new C();\n        new C(1.0);\n    }\n}\n\nclass A {\n    public A(){\n        this(5);\n        System.out.println(&quot;a1&quot;);\n    }\n\n    public A(int x){\n        System.out.println(&quot;a2&quot;);\n    }\n}\n\nclass B extends A {\n    public B(){\n        this(false);\n        System.out.println(&quot;b1&quot;);\n    }\n\n    public B(int x){\n        super();\n        System.out.println(&quot;b2&quot;);\n    }\n\n    public B(boolean b){\n        this(2);\n        System.out.println(&quot;b3&quot;);\n    }\n}\n\nclass C extends B {\n    public C(){\n        System.out.println(&quot;c1&quot;);\n    }\n\n    public C(double x){\n        this();\n        System.out.println(&quot;c2&quot;);\n    }\n}\n</code></pre>\n<p>And the output that I got is a2 a1 b2 b3 b1 c1 a2 a1 b2 b3 b1 c1 c2</p>\n<p>I was expecting it to be c1 c2 only but I just cannot wrap my head around the sequence in which the code is executed.</p>\n<p>I would love a detailed explanation, just to make sure I understand things clearly enough. Thank you!</p>\n"},{"tags":["java","spring-boot","sql-server-2012"],"comments":[{"owner":{"account_id":7160143,"reputation":95,"user_id":5471166,"display_name":"kabinarayan dalei"},"score":0,"creation_date":1677496093,"post_id":75579355,"comment_id":133342418,"body_markdown":"https://stackoverflow.com/questions/53077180/springboot-application-fails-on-db-restart","body":"<a href=\"https://stackoverflow.com/questions/53077180/springboot-application-fails-on-db-restart\" title=\"springboot application fails on db restart\">stackoverflow.com/questions/53077180/&hellip;</a>"},{"owner":{"account_id":19443114,"reputation":1,"user_id":14221190,"display_name":"Naren"},"score":0,"creation_date":1677501360,"post_id":75579355,"comment_id":133343783,"body_markdown":"Hi @kabinarayandalei, I am already using type=javax.sql.DataSource, I guess that should be fine right?","body":"Hi @kabinarayandalei, I am already using type=javax.sql.DataSource, I guess that should be fine right?"},{"owner":{"account_id":7160143,"reputation":95,"user_id":5471166,"display_name":"kabinarayan dalei"},"score":0,"creation_date":1678702473,"post_id":75579355,"comment_id":133578224,"body_markdown":"Note that the use of autoReconnect is not recommended: The use of this feature is not recommended, because it has side effects related to session state and data consistency when applications don&#39;t handle SQLExceptions properly, and is only designed to be used when you are unable to configure your application to handle SQLExceptions resulting from dead and stale connections properly.    Can you please try with spring.datasource.tomcat.testOnBorrow=true \nspring.datasource.tomcat.validationQuery=SELECT 1 and tamcat datasource","body":"Note that the use of autoReconnect is not recommended: The use of this feature is not recommended, because it has side effects related to session state and data consistency when applications don&#39;t handle SQLExceptions properly, and is only designed to be used when you are unable to configure your application to handle SQLExceptions resulting from dead and stale connections properly.    Can you please try with spring.datasource.tomcat.testOnBorrow=true  spring.datasource.tomcat.validationQuery=SELECT 1 and tamcat datasource"}],"owner":{"account_id":19443114,"reputation":1,"user_id":14221190,"display_name":"Naren"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677494138,"creation_date":1677494138,"question_id":75579355,"body_markdown":"We have an issue with the connection of DB being lost when the DB server is getting restarted.\r\nWe are using DBCP for the connection pool. We used autoReconnect=true which seems to solve this problem, but it is not recommended.\r\nCould anyone please suggest a suitable alternative for autoReconnect.\r\nWe are already using testOnBorrow=true and validationQuery=SELECT 1.\r\nThanks for your help!!\r\n\r\nTried autoReconnect=true, testOnBorrow=ture and validationQuery=SELECT 1.\r\nWant an alternative to autoReconnect=true since it is not recommended.","title":"Task Timer Scheduler is not working when the DB server is restarted in Java Spring Boot application","body":"<p>We have an issue with the connection of DB being lost when the DB server is getting restarted.\nWe are using DBCP for the connection pool. We used autoReconnect=true which seems to solve this problem, but it is not recommended.\nCould anyone please suggest a suitable alternative for autoReconnect.\nWe are already using testOnBorrow=true and validationQuery=SELECT 1.\nThanks for your help!!</p>\n<p>Tried autoReconnect=true, testOnBorrow=ture and validationQuery=SELECT 1.\nWant an alternative to autoReconnect=true since it is not recommended.</p>\n"},{"tags":["java","multithreading","spring-boot"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1676972583,"post_id":75518580,"comment_id":133239942,"body_markdown":"Don&#39;t create an `ExecutorService`, inject a `TaskExecutor` or rather `AsyncTaskExecutor` from Spring and use that. Configure one with a `ThreadPool` so that you reuse the threads. You should join the results together as now you are making the calls basically blocking (by iterating and calling get). This would also a nice one to do with Reactive programming and zipping the results together (would use less resources in high concurrent environments) but can take some time to get used to.","body":"Don&#39;t create an <code>ExecutorService</code>, inject a <code>TaskExecutor</code> or rather <code>AsyncTaskExecutor</code> from Spring and use that. Configure one with a <code>ThreadPool</code> so that you reuse the threads. You should join the results together as now you are making the calls basically blocking (by iterating and calling get). This would also a nice one to do with Reactive programming and zipping the results together (would use less resources in high concurrent environments) but can take some time to get used to."},{"owner":{"account_id":19965141,"reputation":1690,"user_id":14631885,"display_name":"Dhana D."},"score":0,"creation_date":1677222193,"post_id":75518580,"comment_id":133298788,"body_markdown":"Do u mean changing the line `ExecutorService executor = Executors.newFixedThreadPool(5)` to `ThreadPoolTaskExecutor executor = new ThreadPoolTaskExecutor(); executor.setCorePoolSize(5);`? @M.Deinum","body":"Do u mean changing the line <code>ExecutorService executor = Executors.newFixedThreadPool(5)</code> to <code>ThreadPoolTaskExecutor executor = new ThreadPoolTaskExecutor(); executor.setCorePoolSize(5);</code>? @M.Deinum"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1677485724,"post_id":75518580,"comment_id":133339772,"body_markdown":"No. Create a bean for the `ThreadPoolTaskExecutor` and inject it. Don&#39;t shut it down just reuse, that way you will always have that number of threads for use (you can scale using a larger max size and a moderate queue size).","body":"No. Create a bean for the <code>ThreadPoolTaskExecutor</code> and inject it. Don&#39;t shut it down just reuse, that way you will always have that number of threads for use (you can scale using a larger max size and a moderate queue size)."},{"owner":{"account_id":19965141,"reputation":1690,"user_id":14631885,"display_name":"Dhana D."},"score":0,"creation_date":1677491193,"post_id":75518580,"comment_id":133341170,"body_markdown":"@M.Deinum Could you please give the answer and example in the answer section of it? What if the traffic goes high at the moment but gets lower after that, wouldn&#39;t those opened threads just idle with constant resource usage (same as when traffic is high) over time during low traffic?","body":"@M.Deinum Could you please give the answer and example in the answer section of it? What if the traffic goes high at the moment but gets lower after that, wouldn&#39;t those opened threads just idle with constant resource usage (same as when traffic is high) over time during low traffic?"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1677491529,"post_id":75518580,"comment_id":133341262,"body_markdown":"No as there are x threads.. In your case you will have 5 threads per request, in this case you will only have minimal 5 (and whatever you set as the max) instead of 5 per request.","body":"No as there are x threads.. In your case you will have 5 threads per request, in this case you will only have minimal 5 (and whatever you set as the max) instead of 5 per request."}],"answers":[{"tags":[],"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1677493100,"creation_date":1677493100,"answer_id":75579183,"question_id":75518580,"body_markdown":"Your code will create 5 threads for each time the service method is being called. \r\n\r\n```\r\nExecutorService executor = Executors.newFixedThreadPool(5);\r\n```\r\n\r\nThis creates a thread pool with 5 threads for each call. If you call it 100 times you have 100 * 5 = 500 threads. They are only used once and not recycled as you are closing the pool in each method. \r\n\r\nAs you are using Spring I suggest to use the `TaskExecutor` or rather `AsyncTaskExecutor` and configure it with a dynamic thread pool (min size 5 max, whatever you like, and a reasonable queue size). That way you will only have the number of threads you have specified as max (and it will eventually scale down depending on your configuration). \r\n\r\nYou should define this `TaskExecutor` as a bean in your configuration (or use the Spring Boot configured one) and inject this in your service to use it. \r\n\r\n```java\r\n@Bean\r\npublic ThreadPoolTaskExecutor taskExecutor() {\r\n  ThreadPoolTaskExecutor executor = new ThreadPoolTaskExecutor();\r\n  executor.setCorePoolSize(5);\r\n  executor.setMaxPoolSize(10);\r\n  executor.setQueueCapacity(16);\r\n  return executor;\r\n}\r\n```\r\n\r\nThen in your service use this. \r\n\r\n```java\r\npublic class YourService {\r\n\r\n  private final AsyncTaskExecutor executor;\r\n\r\n  public YourService(AsyncTaskExecutor executor) {\r\n    this.executor=executor;\r\n  }\r\n\r\n  public Map getResponse()\r\n\r\n    List&lt;Future&lt;Map&gt;&gt; res = new ArrayList&lt;&gt;();\r\n    res.add(executor.submit(() -&gt; callAPI(HttpMethod.GET, &quot;/inquiry1&quot;, null, null, null)));\r\n    res.add(executor.submit(() -&gt; callAPI(HttpMethod.GET, &quot;/inquiry2&quot;, null, null, null)));\r\n    res.add(executor.submit(() -&gt; callAPI(HttpMethod.GET, &quot;/inquiry3&quot;, null, null, null)));\r\n    res.add(executor.submit(() -&gt; callAPI(HttpMethod.GET, &quot;/inquiry4&quot;, null, null, null)));\r\n    res.add(executor.submit(() -&gt; callAPI(HttpMethod.GET, &quot;/inquiry5&quot;, null, null, null)));\r\n\r\n    Map responseMap = new HashMap();\r\n    for (int i=0; i &lt; res.size(); i++) {\r\n      try {\r\n        responseMap.put(&quot;result_&quot;+i, (Map) completionService.take().get());\r\n                \r\n        } catch (Exception e) {\r\n          throw (Exception) e.getCause();\r\n        }\r\n    }\r\n    return responseMap;\r\n}\r\n```\r\n\r\nSomething like this. This will atmost have 10 threads active instead of 5 per request and reuse the created threads for creating the tasks. ","title":"Allocate the unused/idle/completed threads in multi-thread processes in Java Spring Boot","body":"<p>Your code will create 5 threads for each time the service method is being called.</p>\n<pre><code>ExecutorService executor = Executors.newFixedThreadPool(5);\n</code></pre>\n<p>This creates a thread pool with 5 threads for each call. If you call it 100 times you have 100 * 5 = 500 threads. They are only used once and not recycled as you are closing the pool in each method.</p>\n<p>As you are using Spring I suggest to use the <code>TaskExecutor</code> or rather <code>AsyncTaskExecutor</code> and configure it with a dynamic thread pool (min size 5 max, whatever you like, and a reasonable queue size). That way you will only have the number of threads you have specified as max (and it will eventually scale down depending on your configuration).</p>\n<p>You should define this <code>TaskExecutor</code> as a bean in your configuration (or use the Spring Boot configured one) and inject this in your service to use it.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Bean\npublic ThreadPoolTaskExecutor taskExecutor() {\n  ThreadPoolTaskExecutor executor = new ThreadPoolTaskExecutor();\n  executor.setCorePoolSize(5);\n  executor.setMaxPoolSize(10);\n  executor.setQueueCapacity(16);\n  return executor;\n}\n</code></pre>\n<p>Then in your service use this.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class YourService {\n\n  private final AsyncTaskExecutor executor;\n\n  public YourService(AsyncTaskExecutor executor) {\n    this.executor=executor;\n  }\n\n  public Map getResponse()\n\n    List&lt;Future&lt;Map&gt;&gt; res = new ArrayList&lt;&gt;();\n    res.add(executor.submit(() -&gt; callAPI(HttpMethod.GET, &quot;/inquiry1&quot;, null, null, null)));\n    res.add(executor.submit(() -&gt; callAPI(HttpMethod.GET, &quot;/inquiry2&quot;, null, null, null)));\n    res.add(executor.submit(() -&gt; callAPI(HttpMethod.GET, &quot;/inquiry3&quot;, null, null, null)));\n    res.add(executor.submit(() -&gt; callAPI(HttpMethod.GET, &quot;/inquiry4&quot;, null, null, null)));\n    res.add(executor.submit(() -&gt; callAPI(HttpMethod.GET, &quot;/inquiry5&quot;, null, null, null)));\n\n    Map responseMap = new HashMap();\n    for (int i=0; i &lt; res.size(); i++) {\n      try {\n        responseMap.put(&quot;result_&quot;+i, (Map) completionService.take().get());\n                \n        } catch (Exception e) {\n          throw (Exception) e.getCause();\n        }\n    }\n    return responseMap;\n}\n</code></pre>\n<p>Something like this. This will atmost have 10 threads active instead of 5 per request and reuse the created threads for creating the tasks.</p>\n"}],"owner":{"account_id":19965141,"reputation":1690,"user_id":14631885,"display_name":"Dhana D."},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":134,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1677493100,"creation_date":1676971998,"question_id":75518580,"body_markdown":"I am building a service that inquires data from multiple services, those services are all independent, so I can send the requests altogether at once to make the processing time efficient. Here is how I make the service launch multiple threads to do all at once:\r\n\r\n```java\r\n        ExecutorService executor = Executors.newFixedThreadPool(5);\r\n        CompletionService completionService =\r\n                new ExecutorCompletionService&lt;&gt;(executor);\r\n\r\n        List&lt;Future&lt;Map&gt;&gt; res = new ArrayList&lt;&gt;();\r\n        res.add(completionService.submit(() -&gt; callAPI(HttpMethod.GET, &quot;/inquiry1&quot;, null, null, null)));\r\n        res.add(completionService.submit(() -&gt; callAPI(HttpMethod.GET, &quot;/inquiry2&quot;, null, null, null)));\r\n        res.add(completionService.submit(() -&gt; callAPI(HttpMethod.GET, &quot;/inquiry3&quot;, null, null, null)));\r\n        res.add(completionService.submit(() -&gt; callAPI(HttpMethod.GET, &quot;/inquiry4&quot;, null, null, null)));\r\n        res.add(completionService.submit(() -&gt; callAPI(HttpMethod.GET, &quot;/inquiry5&quot;, null, null, null)));\r\n\r\n        Map responseMap = new HashMap();\r\n        for (int i=0; i &lt; res.size(); i++) {\r\n            try {\r\n                responseMap.put(&quot;result_&quot;+i, (Map) completionService.take().get());\r\n                \r\n            } catch (Exception e) {\r\n                throw (Exception) e.getCause();\r\n            }\r\n        }\r\n        executor.shutdown();\r\n```\r\n\r\nThis actually gets the output as expected when all the dependency APIs goes well:\r\n\r\n```json\r\n{\r\n    &quot;result_1&quot;: {...},\r\n    &quot;result_2&quot;: {...},\r\n    &quot;result_3&quot;: {...},\r\n    &quot;result_4&quot;: {...},\r\n    &quot;result_5&quot;: {...}\r\n}\r\n```\r\n\r\nHowever, when any dependency API needs longer processing time (or even having gateway timeout problem), the other threads are waiting for it even though the other processes are already done. And when there are many requests flooded this service, as it keeps opening 5 new threads and they are waiting for response from any slow dependency API, it made the instance crashes.\r\n\r\nTherefore, my questions are:\r\n\r\n1. How to make the threads closed or allocated to another process automatically when the process finishes (when it received response from dependency API and got the value stored in memory) ?\r\n\r\n2. How to set threshold of the number of threads can be opened and make the service checks whether the process can be continued or just cut it off before opening the multi threads?","title":"Allocate the unused/idle/completed threads in multi-thread processes in Java Spring Boot","body":"<p>I am building a service that inquires data from multiple services, those services are all independent, so I can send the requests altogether at once to make the processing time efficient. Here is how I make the service launch multiple threads to do all at once:</p>\n<pre class=\"lang-java prettyprint-override\"><code>        ExecutorService executor = Executors.newFixedThreadPool(5);\n        CompletionService completionService =\n                new ExecutorCompletionService&lt;&gt;(executor);\n\n        List&lt;Future&lt;Map&gt;&gt; res = new ArrayList&lt;&gt;();\n        res.add(completionService.submit(() -&gt; callAPI(HttpMethod.GET, &quot;/inquiry1&quot;, null, null, null)));\n        res.add(completionService.submit(() -&gt; callAPI(HttpMethod.GET, &quot;/inquiry2&quot;, null, null, null)));\n        res.add(completionService.submit(() -&gt; callAPI(HttpMethod.GET, &quot;/inquiry3&quot;, null, null, null)));\n        res.add(completionService.submit(() -&gt; callAPI(HttpMethod.GET, &quot;/inquiry4&quot;, null, null, null)));\n        res.add(completionService.submit(() -&gt; callAPI(HttpMethod.GET, &quot;/inquiry5&quot;, null, null, null)));\n\n        Map responseMap = new HashMap();\n        for (int i=0; i &lt; res.size(); i++) {\n            try {\n                responseMap.put(&quot;result_&quot;+i, (Map) completionService.take().get());\n                \n            } catch (Exception e) {\n                throw (Exception) e.getCause();\n            }\n        }\n        executor.shutdown();\n</code></pre>\n<p>This actually gets the output as expected when all the dependency APIs goes well:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n    &quot;result_1&quot;: {...},\n    &quot;result_2&quot;: {...},\n    &quot;result_3&quot;: {...},\n    &quot;result_4&quot;: {...},\n    &quot;result_5&quot;: {...}\n}\n</code></pre>\n<p>However, when any dependency API needs longer processing time (or even having gateway timeout problem), the other threads are waiting for it even though the other processes are already done. And when there are many requests flooded this service, as it keeps opening 5 new threads and they are waiting for response from any slow dependency API, it made the instance crashes.</p>\n<p>Therefore, my questions are:</p>\n<ol>\n<li><p>How to make the threads closed or allocated to another process automatically when the process finishes (when it received response from dependency API and got the value stored in memory) ?</p>\n</li>\n<li><p>How to set threshold of the number of threads can be opened and make the service checks whether the process can be continued or just cut it off before opening the multi threads?</p>\n</li>\n</ol>\n"},{"tags":["java","spring","spring-boot","thymeleaf"],"answers":[{"tags":[],"owner":{"account_id":4400276,"reputation":119,"user_id":6402843,"display_name":"Montaser Mahadi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677493088,"creation_date":1677493088,"answer_id":75579181,"question_id":75579025,"body_markdown":"I think you need to add something like this, because:\r\n\r\n    model.addAtribute(&quot;attribute_name&quot; attribute_name); added to check ther error.\r\n\r\n     @PostMapping(&quot;/saveIncome/{walletId}&quot;)\r\n        public String saveIncome(@PathVariable(value = &quot;walletId&quot;) long walletId, @Valid \r\n        @ModelAttribute(&quot;transaction&quot;) Transaction transaction, BindingResult result, Model model)\r\n    {\r\n    // your code here.\r\n       model.addAttribute(&quot;transaction&quot;, transaction);\r\n        reurn &quot;your/thymeleaf/page&quot;;\r\n    }","title":"Trying to update related table with Spring Boot and Thymeleaf","body":"<p>I think you need to add something like this, because:</p>\n<pre><code>model.addAtribute(&quot;attribute_name&quot; attribute_name); added to check ther error.\n\n @PostMapping(&quot;/saveIncome/{walletId}&quot;)\n    public String saveIncome(@PathVariable(value = &quot;walletId&quot;) long walletId, @Valid \n    @ModelAttribute(&quot;transaction&quot;) Transaction transaction, BindingResult result, Model model)\n{\n// your code here.\n   model.addAttribute(&quot;transaction&quot;, transaction);\n    reurn &quot;your/thymeleaf/page&quot;;\n}\n</code></pre>\n"}],"owner":{"account_id":27558404,"reputation":23,"user_id":21032025,"display_name":"Frosty Nah"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1677493088,"creation_date":1677492136,"question_id":75579025,"body_markdown":"I have `Wallet` and `Transaction` entities. So, when I display to user his wallets, on each wallet he have option for income/expense transaction. When user create a for example income transaction, that transaction is added to `Transaction` page. Now, as I have `update` option for Wallet, so user can update data for Wallet, I want to add user option to update Transaction. I tried to create something but so far it didn&#39;t work well. I will show you below down my code and what are responses.\r\n\r\nFirst of all those are two entites that I&#39;m working with on this:\r\n\r\n`Wallet:`\r\n\r\n    @Entity\r\n    @Table(name = &quot;wallet&quot;)\r\n    public class Wallet {\r\n    \r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    @Column(name = &quot;wallet_id&quot;)\r\n    private Long id;\r\n\r\n    @NotBlank(message = &quot;Please, insert a wallet name&quot;)\r\n    private String walletName;\r\n\r\n    @NotNull(message = &quot;Please, insert a amount&quot;)\r\n    private Double initialBalance;\r\n\r\n    @Transient\r\n    private double totalBalance;\r\n\r\n    @ManyToOne(fetch = FetchType.LAZY, optional = false)\r\n    @JoinColumn(name = &quot;user_id&quot;, nullable = false, referencedColumnName = &quot;user_id&quot;, insertable = false, updatable = false)\r\n    @OnDelete(action = OnDeleteAction.CASCADE)\r\n    @JsonIgnore\r\n    private User user;\r\n\r\n    @Column(name = &quot;user_id&quot;, nullable = false)\r\n    private Long userId;\r\n\r\n    @OneToMany(mappedBy = &quot;wallet&quot;, cascade = {\r\n            CascadeType.ALL})\r\n    private Set&lt;Transaction&gt; transactions;\r\n\r\n`Transaction:`\r\n\r\n    @Entity\r\n    @Table(name = &quot;transaction&quot;)\r\n    public class Transaction {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    @Column(name = &quot;transaction_id&quot;)\r\n    private Long id;\r\n\r\n    @Column(name = &quot;user_id&quot;, nullable = false)\r\n    private Long userId;\r\n\r\n    @Column(name = &quot;wallet_name&quot;, nullable = false)\r\n    private String walletName;\r\n\r\n    @NotNull(message = &quot;Please, insert a amount&quot;)\r\n    @Min(value = 0, message = &quot;Please, insert a positive amount&quot;)\r\n    private Double amount;\r\n\r\n    private String note;\r\n\r\n    @DateTimeFormat(pattern = &quot;yyyy-MM-dd&quot;)\r\n    @Column(name = &quot;date&quot;)\r\n    private LocalDate date;\r\n\r\n    @ManyToOne\r\n    @OnDelete(action = OnDeleteAction.NO_ACTION)\r\n    @JoinColumn(name = &quot;wallet_id&quot;, nullable = false)\r\n    private Wallet wallet;\r\n\r\n    @Enumerated(EnumType.STRING)\r\n    @Column(name = &quot;transaction_type&quot;, columnDefinition = &quot;ENUM(&#39;EXPENSE&#39;, &#39;INCOME&#39;)&quot;)\r\n    private TransactionType transactionType;\r\n\r\n    @Nullable\r\n    @Enumerated(EnumType.STRING)\r\n    @Column(name = &quot;expense_categories&quot;, columnDefinition = &quot;ENUM(&#39;FOOD_AND_DRINK&#39;, &#39;SHOPPING&#39;, &#39;TRANSPORT&#39;, &#39;HOME&#39;,&quot; +\r\n            &quot; &#39;BILLS_AND_FEES&#39;, &#39;ENTERTAINMENT&#39;, &#39;CAR&#39;, &#39;TRAVEL&#39;, &#39;FAMILY_AND_PERSONAL&#39;, &#39;HEALTHCARE&#39;,&quot; +\r\n            &quot; &#39;EDUCATION&#39;, &#39;GROCERIES&#39;, &#39;GIFTS&#39;, &#39;BEAUTY&#39;, &#39;WORK&#39;, &#39;SPORTS_AND_HOBBIES&#39;, &#39;OTHER&#39;)&quot;)\r\n    private ExpenseCategories expenseCategories;\r\n\r\n    @Nullable\r\n    @Enumerated(EnumType.STRING)\r\n    @Column(name = &quot;income_categories&quot;, columnDefinition = &quot;ENUM(&#39;SALARY&#39;, &#39;BUSINESS&#39;, &#39;GIFTS&#39;, &#39;EXTRA_INCOME&#39;, &#39;LOAN&#39;, &#39;PARENTAL_LEAVE&#39;, &#39;INSURANCE_PAYOUT&#39;, &#39;OTHER&#39;)&quot;)\r\n    private IncomeCategories incomeCategories;\r\n\r\nThen I have controller to `update` transaction:\r\n\r\n    @PostMapping(&quot;/saveIncome/{walletId}&quot;)\r\n    public String saveIncome(@PathVariable(value = &quot;walletId&quot;) long walletId, @Valid \r\n    @ModelAttribute(&quot;transaction&quot;) Transaction transaction, BindingResult result, Model model) {\r\n\r\n        Authentication authentication = SecurityContextHolder.getContext().getAuthentication();\r\n        UserDetailsImpl user = (UserDetailsImpl) authentication.getPrincipal();\r\n        long userId = user.getId();\r\n\r\n        Wallet wallet = walletService.getWalletById(walletId);\r\n\r\n        boolean thereAreErrors = result.hasErrors();\r\n        if (thereAreErrors) {\r\n            model.addAttribute(&quot;incomeCategories&quot;, IncomeCategories.values());\r\n            return &quot;income_transaction&quot;;\r\n        }\r\n\r\n        transaction.setWallet(wallet);\r\n        transaction.setUserId(userId);\r\n        transaction.setWalletName(wallet.getWalletName());\r\n        transactionService.saveIncome(transaction, walletId, userId);\r\n        return &quot;redirect:/api/wallet/userWallet/balance/&quot; + userId;\r\n    }\r\n    \r\nAnd this is `use-case:`\r\n\r\nFirst, I go at `Transaction` page and URL is `http://localhost:8080/api/transaction/userTransactions/1` here `1` stays for `id from user`, \r\non that page I get listed all user transaction, now, when I click on update button, I get redirected to: `http://localhost:8080/api/transaction/showFormForUpdate/36` where `36` stays for `id from transaction`, and that is fine, also, I get well displayed fields and can change value of them, so actually, I mean, I get correct fields, I get amount populated, note, date, all of that stuff, and I&#39;m ready to update it. So, I change some of values and then, when I click on submit, I get `Whitelabel Error Page` and URL is `http://localhost:8080/api/transaction/saveIncome/` without any `Id` at the end.\r\n\r\nWhat I&#39;m missing? I&#39;m updating `Wallet` on same way and it works fine, but this when I need to update related entity is confusning me, and I dont know what I&#39;m doing wrong.\r\n\r\n\r\n","title":"Trying to update related table with Spring Boot and Thymeleaf","body":"<p>I have <code>Wallet</code> and <code>Transaction</code> entities. So, when I display to user his wallets, on each wallet he have option for income/expense transaction. When user create a for example income transaction, that transaction is added to <code>Transaction</code> page. Now, as I have <code>update</code> option for Wallet, so user can update data for Wallet, I want to add user option to update Transaction. I tried to create something but so far it didn't work well. I will show you below down my code and what are responses.</p>\n<p>First of all those are two entites that I'm working with on this:</p>\n<p><code>Wallet:</code></p>\n<pre><code>@Entity\n@Table(name = &quot;wallet&quot;)\npublic class Wallet {\n\n@Id\n@GeneratedValue(strategy = GenerationType.IDENTITY)\n@Column(name = &quot;wallet_id&quot;)\nprivate Long id;\n\n@NotBlank(message = &quot;Please, insert a wallet name&quot;)\nprivate String walletName;\n\n@NotNull(message = &quot;Please, insert a amount&quot;)\nprivate Double initialBalance;\n\n@Transient\nprivate double totalBalance;\n\n@ManyToOne(fetch = FetchType.LAZY, optional = false)\n@JoinColumn(name = &quot;user_id&quot;, nullable = false, referencedColumnName = &quot;user_id&quot;, insertable = false, updatable = false)\n@OnDelete(action = OnDeleteAction.CASCADE)\n@JsonIgnore\nprivate User user;\n\n@Column(name = &quot;user_id&quot;, nullable = false)\nprivate Long userId;\n\n@OneToMany(mappedBy = &quot;wallet&quot;, cascade = {\n        CascadeType.ALL})\nprivate Set&lt;Transaction&gt; transactions;\n</code></pre>\n<p><code>Transaction:</code></p>\n<pre><code>@Entity\n@Table(name = &quot;transaction&quot;)\npublic class Transaction {\n\n@Id\n@GeneratedValue(strategy = GenerationType.IDENTITY)\n@Column(name = &quot;transaction_id&quot;)\nprivate Long id;\n\n@Column(name = &quot;user_id&quot;, nullable = false)\nprivate Long userId;\n\n@Column(name = &quot;wallet_name&quot;, nullable = false)\nprivate String walletName;\n\n@NotNull(message = &quot;Please, insert a amount&quot;)\n@Min(value = 0, message = &quot;Please, insert a positive amount&quot;)\nprivate Double amount;\n\nprivate String note;\n\n@DateTimeFormat(pattern = &quot;yyyy-MM-dd&quot;)\n@Column(name = &quot;date&quot;)\nprivate LocalDate date;\n\n@ManyToOne\n@OnDelete(action = OnDeleteAction.NO_ACTION)\n@JoinColumn(name = &quot;wallet_id&quot;, nullable = false)\nprivate Wallet wallet;\n\n@Enumerated(EnumType.STRING)\n@Column(name = &quot;transaction_type&quot;, columnDefinition = &quot;ENUM('EXPENSE', 'INCOME')&quot;)\nprivate TransactionType transactionType;\n\n@Nullable\n@Enumerated(EnumType.STRING)\n@Column(name = &quot;expense_categories&quot;, columnDefinition = &quot;ENUM('FOOD_AND_DRINK', 'SHOPPING', 'TRANSPORT', 'HOME',&quot; +\n        &quot; 'BILLS_AND_FEES', 'ENTERTAINMENT', 'CAR', 'TRAVEL', 'FAMILY_AND_PERSONAL', 'HEALTHCARE',&quot; +\n        &quot; 'EDUCATION', 'GROCERIES', 'GIFTS', 'BEAUTY', 'WORK', 'SPORTS_AND_HOBBIES', 'OTHER')&quot;)\nprivate ExpenseCategories expenseCategories;\n\n@Nullable\n@Enumerated(EnumType.STRING)\n@Column(name = &quot;income_categories&quot;, columnDefinition = &quot;ENUM('SALARY', 'BUSINESS', 'GIFTS', 'EXTRA_INCOME', 'LOAN', 'PARENTAL_LEAVE', 'INSURANCE_PAYOUT', 'OTHER')&quot;)\nprivate IncomeCategories incomeCategories;\n</code></pre>\n<p>Then I have controller to <code>update</code> transaction:</p>\n<pre><code>@PostMapping(&quot;/saveIncome/{walletId}&quot;)\npublic String saveIncome(@PathVariable(value = &quot;walletId&quot;) long walletId, @Valid \n@ModelAttribute(&quot;transaction&quot;) Transaction transaction, BindingResult result, Model model) {\n\n    Authentication authentication = SecurityContextHolder.getContext().getAuthentication();\n    UserDetailsImpl user = (UserDetailsImpl) authentication.getPrincipal();\n    long userId = user.getId();\n\n    Wallet wallet = walletService.getWalletById(walletId);\n\n    boolean thereAreErrors = result.hasErrors();\n    if (thereAreErrors) {\n        model.addAttribute(&quot;incomeCategories&quot;, IncomeCategories.values());\n        return &quot;income_transaction&quot;;\n    }\n\n    transaction.setWallet(wallet);\n    transaction.setUserId(userId);\n    transaction.setWalletName(wallet.getWalletName());\n    transactionService.saveIncome(transaction, walletId, userId);\n    return &quot;redirect:/api/wallet/userWallet/balance/&quot; + userId;\n}\n</code></pre>\n<p>And this is <code>use-case:</code></p>\n<p>First, I go at <code>Transaction</code> page and URL is <code>http://localhost:8080/api/transaction/userTransactions/1</code> here <code>1</code> stays for <code>id from user</code>,\non that page I get listed all user transaction, now, when I click on update button, I get redirected to: <code>http://localhost:8080/api/transaction/showFormForUpdate/36</code> where <code>36</code> stays for <code>id from transaction</code>, and that is fine, also, I get well displayed fields and can change value of them, so actually, I mean, I get correct fields, I get amount populated, note, date, all of that stuff, and I'm ready to update it. So, I change some of values and then, when I click on submit, I get <code>Whitelabel Error Page</code> and URL is <code>http://localhost:8080/api/transaction/saveIncome/</code> without any <code>Id</code> at the end.</p>\n<p>What I'm missing? I'm updating <code>Wallet</code> on same way and it works fine, but this when I need to update related entity is confusning me, and I dont know what I'm doing wrong.</p>\n"},{"tags":["javascript","java","object","variables","vaadin"],"comments":[{"owner":{"account_id":4430906,"reputation":3990,"user_id":3608089,"display_name":"ollitietavainen"},"score":1,"creation_date":1677498783,"post_id":75579146,"comment_id":133343086,"body_markdown":"This sounds like the thing you&#39;re looking for: https://stackoverflow.com/a/969756/3608089","body":"This sounds like the thing you&#39;re looking for: <a href=\"https://stackoverflow.com/a/969756/3608089\">stackoverflow.com/a/969756/3608089</a>"}],"owner":{"account_id":27518510,"reputation":91,"user_id":20999057,"display_name":"Ji Lin"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":65,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677492870,"creation_date":1677492870,"question_id":75579146,"body_markdown":"If i have a object &quot;tour&quot; with the methods &quot;back&quot; and &quot;next&quot; and i have another object that i create:\r\n\r\n    let button: {\r\n       text: &quot;next Step&quot;,\r\n       action: tour.next\r\n    }\r\n\r\nIs there then any way, how i can store the method to execute on &quot;tour.&quot; in a variable, so i have something like this:\r\n\r\n    String methodToExecute = &quot;back&quot;\r\n    let button: {\r\n       text: &quot;one Step back&quot;,\r\n       action: tour.$(methodToExecute)\r\n    }\r\n\r\nDoes something like $() or anything exist to do this?\r\n\r\nWhy do i need something like this?\r\nI want to make a user guide with shepherd in javascript, but the user can fully program the tour in java, so i want to hand over a JSON with the buttons to the javascript part, where javascript decides which method to use for the action at the button. So, i can just make a new Button Object in Java with a &quot;String str = &quot;next&quot;&quot;, or &quot;String str = &quot;back&quot;&quot; and pass this String to Javascript to call the specific Method on it.","title":"Is there a way to call a Method in Javascript at a object from a String","body":"<p>If i have a object &quot;tour&quot; with the methods &quot;back&quot; and &quot;next&quot; and i have another object that i create:</p>\n<pre><code>let button: {\n   text: &quot;next Step&quot;,\n   action: tour.next\n}\n</code></pre>\n<p>Is there then any way, how i can store the method to execute on &quot;tour.&quot; in a variable, so i have something like this:</p>\n<pre><code>String methodToExecute = &quot;back&quot;\nlet button: {\n   text: &quot;one Step back&quot;,\n   action: tour.$(methodToExecute)\n}\n</code></pre>\n<p>Does something like $() or anything exist to do this?</p>\n<p>Why do i need something like this?\nI want to make a user guide with shepherd in javascript, but the user can fully program the tour in java, so i want to hand over a JSON with the buttons to the javascript part, where javascript decides which method to use for the action at the button. So, i can just make a new Button Object in Java with a &quot;String str = &quot;next&quot;&quot;, or &quot;String str = &quot;back&quot;&quot; and pass this String to Javascript to call the specific Method on it.</p>\n"},{"tags":["java","hibernate","jpa"],"comments":[{"owner":{"account_id":9463219,"reputation":9357,"user_id":7036419,"display_name":"Maurice Perry"},"score":0,"creation_date":1677490518,"post_id":75578561,"comment_id":133340980,"body_markdown":"Your factory looks more like a builder","body":"Your factory looks more like a builder"},{"owner":{"account_id":22769173,"reputation":73,"user_id":16926827,"display_name":"Lara"},"score":0,"creation_date":1677490759,"post_id":75578561,"comment_id":133341052,"body_markdown":"@MauricePerry your right. Maybe the use of the name is not that good. Additional I dont like this kind. This is why I prefer inheritance here. Im not sure if this is possible.","body":"@MauricePerry your right. Maybe the use of the name is not that good. Additional I dont like this kind. This is why I prefer inheritance here. Im not sure if this is possible."}],"answers":[{"tags":[],"owner":{"account_id":9463219,"reputation":9357,"user_id":7036419,"display_name":"Maurice Perry"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1677492843,"creation_date":1677492843,"answer_id":75579141,"question_id":75578561,"body_markdown":"The builder pattern is used to create immutable objects. For instance:\r\n\r\n    public class EBase {\r\n        private final Integer id;\r\n        private final String name;\r\n        private final byte letters;\r\n    \r\n        private EBase(Builder builder) {\r\n            this.id = builder.id;\r\n            this.name = builder.name;\r\n            this.letters = builder.letters;\r\n        }\r\n    \r\n        public Integer getId() {\r\n            return id;\r\n        }\r\n    \r\n        public String getName() {\r\n            return name;\r\n        }\r\n    \r\n        public byte getLetters() {\r\n            return letters;\r\n        }\r\n    \r\n        protected static class Builder {\r\n            private Integer id;\r\n            private String name;\r\n            private byte letters;\r\n    \r\n            public Builder setId(Integer id) {\r\n                this.id = id;\r\n                return this;\r\n            }\r\n    \r\n            public Builder setName(String name) {\r\n                this.name = name;\r\n                return this;\r\n            }\r\n    \r\n            public Builder setLetters(byte letters) {\r\n                this.letters = letters;\r\n                return this;\r\n            }\r\n    \r\n            public EBase build() {\r\n                return new EBase(this);\r\n            }\r\n        }\r\n    }\r\n\r\nNow, if you&#39;re using hibernate, you want to store objects in an SQL database, and, if you can store objects without ever modifying them, most of the time, you will want to have the ability to modify them.\r\n\r\nOf course you could move all your setters to another class, like this:\r\n\r\n\r\n    public class EBase {\r\n        private Integer id;\r\n        private String name;\r\n        private byte letters;\r\n    \r\n        public interface Updater {\r\n            public Updater setId(Integer id);\r\n            public Updater setName(String name);\r\n            public Updater setLetters(byte letters);\r\n        }\r\n    \r\n        public Integer getId() {\r\n            return id;\r\n        }\r\n    \r\n        public String getName() {\r\n            return name;\r\n        }\r\n    \r\n        public byte getLetters() {\r\n            return letters;\r\n        }\r\n\r\n        public Updater getUpdater() {\r\n            return new Updater() {\r\n                @Override\r\n                public Updater setId(Integer newId) {\r\n                    id = newId;\r\n                    return this;\r\n                }\r\n\r\n                @Override\r\n                public Updater setName(String newName) {\r\n                    name = newName;\r\n                    return this;\r\n                }\r\n\r\n                @Override\r\n                public Updater setLetters(byte newLetters) {\r\n                    letters = newLetters;\r\n                    return this;\r\n                }\r\n            };\r\n        }\r\n    }\r\n\r\nBut I don&#39;t see why you would need inheritance.\r\n\r\nThat said, I would recommand you to use neither of those patterns, and just declare getters and setters in the same class.\r\n\r\n","title":"Hibernate use subclass of data class entity","body":"<p>The builder pattern is used to create immutable objects. For instance:</p>\n<pre><code>public class EBase {\n    private final Integer id;\n    private final String name;\n    private final byte letters;\n\n    private EBase(Builder builder) {\n        this.id = builder.id;\n        this.name = builder.name;\n        this.letters = builder.letters;\n    }\n\n    public Integer getId() {\n        return id;\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    public byte getLetters() {\n        return letters;\n    }\n\n    protected static class Builder {\n        private Integer id;\n        private String name;\n        private byte letters;\n\n        public Builder setId(Integer id) {\n            this.id = id;\n            return this;\n        }\n\n        public Builder setName(String name) {\n            this.name = name;\n            return this;\n        }\n\n        public Builder setLetters(byte letters) {\n            this.letters = letters;\n            return this;\n        }\n\n        public EBase build() {\n            return new EBase(this);\n        }\n    }\n}\n</code></pre>\n<p>Now, if you're using hibernate, you want to store objects in an SQL database, and, if you can store objects without ever modifying them, most of the time, you will want to have the ability to modify them.</p>\n<p>Of course you could move all your setters to another class, like this:</p>\n<pre><code>public class EBase {\n    private Integer id;\n    private String name;\n    private byte letters;\n\n    public interface Updater {\n        public Updater setId(Integer id);\n        public Updater setName(String name);\n        public Updater setLetters(byte letters);\n    }\n\n    public Integer getId() {\n        return id;\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    public byte getLetters() {\n        return letters;\n    }\n\n    public Updater getUpdater() {\n        return new Updater() {\n            @Override\n            public Updater setId(Integer newId) {\n                id = newId;\n                return this;\n            }\n\n            @Override\n            public Updater setName(String newName) {\n                name = newName;\n                return this;\n            }\n\n            @Override\n            public Updater setLetters(byte newLetters) {\n                letters = newLetters;\n                return this;\n            }\n        };\n    }\n}\n</code></pre>\n<p>But I don't see why you would need inheritance.</p>\n<p>That said, I would recommand you to use neither of those patterns, and just declare getters and setters in the same class.</p>\n"}],"owner":{"account_id":22769173,"reputation":73,"user_id":16926827,"display_name":"Lara"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1677492843,"creation_date":1677489207,"question_id":75578561,"body_markdown":"I have an entity like this:\r\n\r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    @Getter\r\n    @Entity\r\n    public class EBase {\r\n      @Id\r\n      @GeneratedValue(strategy = GenerationType.AUTO)\r\n      @Column(name = &quot;e_id&quot;, nullable = false)\r\n      private Integer id;\r\n  \r\n      @Column(name = &quot;name&quot;)\r\n      protected String name;\r\n\r\n      @Column(name = &quot;letters&quot;)\r\n      protected byte letters;\r\n    }\r\n\r\nTo modify data I use an other class:\r\n\r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    public class E extends EBase {\r\n      public void setName(String name) {\r\n        super.name = name;\r\n        super.letters = (byte) name.length();\r\n      }\r\n    }\r\n\r\nI know that can be solved very different and I would never store the length of a string like this. But its good to visualize my problem. I want to have an entity that has only Getters and Setters no &quot;real&quot; other methods.\r\nNow lets create an entity:\r\n\r\n    public class Main {\r\n      public static void main(String[] args) {\r\n        final E e = new E();\r\n        e.setName(&quot;Test&quot;);\r\n        Database.getSession().save(e);\r\n      }\r\n    }\r\n\r\nMy question is: Is this possible?\r\n\r\nI tried a factory class like \r\n\r\n```\r\n@RequiredArgsConstructor\r\n@Getter\r\nclass EFactory {\r\n  private final EBase e;\r\n  public void setName(String name) {\r\n    e.setName(name);\r\n    e.setLetters((byte) name.length());  // setters in EBase implemented\r\n  }\r\n\r\n  public EBase get() {\r\n    return e;\r\n  }\r\n  \r\n}\r\n```\r\nwith:\r\n\r\n```\r\npublic class Main {\r\n  public static void main(String[] args) {\r\n    EBase e = new EBase();\r\n    e = new EFactory(e).setName(&quot;Test&quot;).get();\r\n    Database.getSession().save(e);\r\n  }\r\n}\r\n```\r\nbut this is not very fancy. Is the solution mentioned above possible even if E is not an entity?","title":"Hibernate use subclass of data class entity","body":"<p>I have an entity like this:</p>\n<pre><code>@NoArgsConstructor\n@AllArgsConstructor\n@Getter\n@Entity\npublic class EBase {\n  @Id\n  @GeneratedValue(strategy = GenerationType.AUTO)\n  @Column(name = &quot;e_id&quot;, nullable = false)\n  private Integer id;\n\n  @Column(name = &quot;name&quot;)\n  protected String name;\n\n  @Column(name = &quot;letters&quot;)\n  protected byte letters;\n}\n</code></pre>\n<p>To modify data I use an other class:</p>\n<pre><code>@NoArgsConstructor\n@AllArgsConstructor\npublic class E extends EBase {\n  public void setName(String name) {\n    super.name = name;\n    super.letters = (byte) name.length();\n  }\n}\n</code></pre>\n<p>I know that can be solved very different and I would never store the length of a string like this. But its good to visualize my problem. I want to have an entity that has only Getters and Setters no &quot;real&quot; other methods.\nNow lets create an entity:</p>\n<pre><code>public class Main {\n  public static void main(String[] args) {\n    final E e = new E();\n    e.setName(&quot;Test&quot;);\n    Database.getSession().save(e);\n  }\n}\n</code></pre>\n<p>My question is: Is this possible?</p>\n<p>I tried a factory class like</p>\n<pre><code>@RequiredArgsConstructor\n@Getter\nclass EFactory {\n  private final EBase e;\n  public void setName(String name) {\n    e.setName(name);\n    e.setLetters((byte) name.length());  // setters in EBase implemented\n  }\n\n  public EBase get() {\n    return e;\n  }\n  \n}\n</code></pre>\n<p>with:</p>\n<pre><code>public class Main {\n  public static void main(String[] args) {\n    EBase e = new EBase();\n    e = new EFactory(e).setName(&quot;Test&quot;).get();\n    Database.getSession().save(e);\n  }\n}\n</code></pre>\n<p>but this is not very fancy. Is the solution mentioned above possible even if E is not an entity?</p>\n"},{"tags":["javascript","java","eclipse","intellij-idea","keyboard-shortcuts"],"comments":[{"owner":{"account_id":937095,"reputation":14646,"user_id":965834,"accept_rate":83,"display_name":"Jeto"},"score":0,"creation_date":1520007416,"post_id":49067884,"comment_id":85151844,"body_markdown":"See [this question](https://stackoverflow.com/questions/25831703/eclipse-search-everywhere).","body":"See <a href=\"https://stackoverflow.com/questions/25831703/eclipse-search-everywhere\">this question</a>."}],"answers":[{"tags":[],"owner":{"account_id":218123,"reputation":15258,"user_id":474287,"accept_rate":100,"display_name":"Morfic"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1520038184,"creation_date":1520007710,"answer_id":49073202,"question_id":49067884,"body_markdown":"Unfortunately I don&#39;t think it&#39;s implicitly possible, and I&#39;m not sure it&#39;s possible via a plugin either. &lt;kbd&gt;SHIFT&lt;/kbd&gt; is a [modifier key][1], which means it usually does something in combination with other keys. Even in IJ, if you look at the keymap, there is no shortcut assigned to `Search everywhere`, so it&#39;s probably implemented as a custom feature (maybe not so relevant, but it&#39;s also not disabled if you assign a shortcut).\r\n\r\n[![IJ keymap][2]][2]\r\n\r\nThere are plugins which reproduce the IJ keymap in Eclipse, such as [IntelliJIdeaKeymap4Eclipse][3] (There could possibly others which I don&#39;t know yet) but not all features are supported (see below).\r\n\r\n[![IntelliJIdeaKeymap4Eclipse][4]][4]\r\n\r\nI haven&#39;t developed any Eclipse plugins so I don&#39;t know the limitations of the framework, so I guess it may be worth trying to contact the author of the above plugin and ask about the feature, or search alternative plugins.\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Modifier_key\r\n  [2]: https://i.stack.imgur.com/YGjXT.png\r\n  [3]: https://github.com/IntelliJIdeaKeymap4Eclipse/IntelliJIdeaKeymap4Eclipse\r\n  [4]: https://i.stack.imgur.com/LGuII.png","title":"Can we give Open Resource in Eclipse with Double Shift shortcut(as in Intellij)","body":"<p>Unfortunately I don't think it's implicitly possible, and I'm not sure it's possible via a plugin either. <kbd>SHIFT</kbd> is a <a href=\"https://en.wikipedia.org/wiki/Modifier_key\" rel=\"nofollow noreferrer\">modifier key</a>, which means it usually does something in combination with other keys. Even in IJ, if you look at the keymap, there is no shortcut assigned to <code>Search everywhere</code>, so it's probably implemented as a custom feature (maybe not so relevant, but it's also not disabled if you assign a shortcut).</p>\n\n<p><a href=\"https://i.stack.imgur.com/YGjXT.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/YGjXT.png\" alt=\"IJ keymap\"></a></p>\n\n<p>There are plugins which reproduce the IJ keymap in Eclipse, such as <a href=\"https://github.com/IntelliJIdeaKeymap4Eclipse/IntelliJIdeaKeymap4Eclipse\" rel=\"nofollow noreferrer\">IntelliJIdeaKeymap4Eclipse</a> (There could possibly others which I don't know yet) but not all features are supported (see below).</p>\n\n<p><a href=\"https://i.stack.imgur.com/LGuII.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/LGuII.png\" alt=\"IntelliJIdeaKeymap4Eclipse\"></a></p>\n\n<p>I haven't developed any Eclipse plugins so I don't know the limitations of the framework, so I guess it may be worth trying to contact the author of the above plugin and ask about the feature, or search alternative plugins.</p>\n"}],"owner":{"account_id":5233803,"reputation":428,"user_id":4183129,"accept_rate":64,"display_name":"Jithesh Gopinathan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":615,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1677492645,"creation_date":1519988832,"question_id":49067884,"body_markdown":"I am used to the IntelliJ IDE. I have used a plugin to map keys of IntelliJ to Eclipse. But for the Open Resource, still having the shortcut as `Ctrl + Shift + R`.\r\nIs there any option to add Double Shift?\r\n\r\nI have tried the Preference - General - Keys, but not able to update the shortcut to double shift.","title":"Can we give Open Resource in Eclipse with Double Shift shortcut(as in Intellij)","body":"<p>I am used to the IntelliJ IDE. I have used a plugin to map keys of IntelliJ to Eclipse. But for the Open Resource, still having the shortcut as <code>Ctrl + Shift + R</code>.\nIs there any option to add Double Shift?</p>\n\n<p>I have tried the Preference - General - Keys, but not able to update the shortcut to double shift.</p>\n"},{"tags":["java","spring-boot","hibernate","jpa"],"comments":[{"owner":{"display_name":"user6073886"},"score":1,"creation_date":1677492553,"post_id":75579093,"comment_id":133341531,"body_markdown":"You don&#39;t need any extra table to map a 1-to-many relation. It will simply create a foreign key on the &quot;many&quot; part linking to the 1. In your case the Course table will have a column instructor_id linking your coursed to the instructors. That all that is needed to  create Lists when doing a query.","body":"You don&#39;t need any extra table to map a 1-to-many relation. It will simply create a foreign key on the &quot;many&quot; part linking to the 1. In your case the Course table will have a column instructor_id linking your coursed to the instructors. That all that is needed to  create Lists when doing a query."},{"owner":{"account_id":27094406,"reputation":23,"user_id":21064700,"display_name":"Alok Kumar"},"score":0,"creation_date":1677492653,"post_id":75579093,"comment_id":133341556,"body_markdown":"My main query is How am I able to retrieve this List of courses if it is not stored in the database?","body":"My main query is How am I able to retrieve this List of courses if it is not stored in the database?"},{"owner":{"display_name":"user6073886"},"score":0,"creation_date":1677492679,"post_id":75579093,"comment_id":133341562,"body_markdown":"But it is stored in the database. Just not in any extra table because an extra table is not needed.","body":"But it is stored in the database. Just not in any extra table because an extra table is not needed."},{"owner":{"account_id":27094406,"reputation":23,"user_id":21064700,"display_name":"Alok Kumar"},"score":0,"creation_date":1677492797,"post_id":75579093,"comment_id":133341599,"body_markdown":"ok there is no extra table but it is getting stored somewhere in the database right. Actually I asked this doubt to a person he told its not stored in database.","body":"ok there is no extra table but it is getting stored somewhere in the database right. Actually I asked this doubt to a person he told its not stored in database."},{"owner":{"display_name":"user6073886"},"score":1,"creation_date":1677493191,"post_id":75579093,"comment_id":133341683,"body_markdown":"I already explained that the relationship is stored as a foreign key on the &quot;many&quot; side. This is what is used to store your relationship that on the java side is represented by a list. In your example each database row of `course` will have a `instructor_id` column that points to the `instructor` table. So for example if you want the List of courses that the instructor with id=3 has you can get that with a query like`select * from course where instructor_id=3`.  All this is of course done by JPA in the background but this is how your relationship is stored.","body":"I already explained that the relationship is stored as a foreign key on the &quot;many&quot; side. This is what is used to store your relationship that on the java side is represented by a list. In your example each database row of <code>course</code> will have a <code>instructor_id</code> column that points to the <code>instructor</code> table. So for example if you want the List of courses that the instructor with id=3 has you can get that with a query like<code>select * from course where instructor_id=3</code>.  All this is of course done by JPA in the background but this is how your relationship is stored."}],"owner":{"account_id":27094406,"reputation":23,"user_id":21064700,"display_name":"Alok Kumar"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677492464,"creation_date":1677492464,"question_id":75579093,"body_markdown":"I am having two entities Course and Instructor. An Instructor can have many courses but a course can be assigned to only one Instructor.\r\n\r\n\r\nI add some courses to the instructor. So these courses are being added to the ArrayList right due to the following method addCourses :\r\n\r\n````\r\npublic void addCourses(Course course) {\r\n\t\tif(courses==null) {\r\n\t\t\tcourses=new ArrayList&lt;Course&gt;();\r\n\t\t}\r\n\t\tcourses.add(course);\r\n\t\tcourse.setInstructor(this);\r\n\t}\r\n````\r\nSo I am asking where is this ArrayList getting saved. When I want to retrieve the List of courses I am able to do so by using the courses ArrayList. But I don&#39;t see any database table getting generated to save this list. How am I able to retrieve this list then?\r\n\r\nCourse\r\n````\r\n@Entity\r\n@Table(name=&quot;course&quot;)\r\npublic class Course {\r\n\r\n\t@Id\r\n\t@GeneratedValue(strategy=GenerationType.IDENTITY)\r\n\tprivate int id;\r\n\tprivate String title;\r\n\t\r\n\t@ManyToOne(cascade=      {CascadeType.DETACH,CascadeType.MERGE,CascadeType.PERSIST,CascadeType.REFRESH})\r\n\t@JoinColumn(name=&quot;instructor_id&quot;)\r\n\tprivate Instructor instructor;\r\n\r\n\t//getters and setters and constructor\r\n\t\r\n}\r\n````\r\n\r\nInstructor\r\n\r\n````\r\n@Entity\r\n@Table(name=&quot;instructor&quot;)\r\npublic class Instructor {\r\n\t@Id\r\n\t@GeneratedValue(strategy = GenerationType.IDENTITY)\r\n\tprivate int id;\r\n\tprivate String firstName;\r\n\tprivate String lastName;\r\n\tprivate String email;\r\n\t\r\n\t@OneToMany(mappedBy=&quot;instructor&quot;, cascade= {CascadeType.DETACH,CascadeType.MERGE,CascadeType.PERSIST,CascadeType.REFRESH})\r\n\tprivate List&lt;Course&gt; courses;\r\n\r\n\r\n\t//adding a convenience method for bi-directional relationship\r\n\tpublic void addCourses(Course course) {\r\n\t\tif(courses==null) {\r\n\t\t\tcourses=new ArrayList&lt;Course&gt;();\r\n\t\t}\r\n\t\tcourses.add(course);\r\n\t\tcourse.setInstructor(this);\r\n\t}\r\n\t\r\n        // getters and setters and constructors\r\n}\r\n````","title":"@OneToMany working in Jpa. How are we able to retrieve the List of entities?","body":"<p>I am having two entities Course and Instructor. An Instructor can have many courses but a course can be assigned to only one Instructor.</p>\n<p>I add some courses to the instructor. So these courses are being added to the ArrayList right due to the following method addCourses :</p>\n<pre><code>public void addCourses(Course course) {\n        if(courses==null) {\n            courses=new ArrayList&lt;Course&gt;();\n        }\n        courses.add(course);\n        course.setInstructor(this);\n    }\n</code></pre>\n<p>So I am asking where is this ArrayList getting saved. When I want to retrieve the List of courses I am able to do so by using the courses ArrayList. But I don't see any database table getting generated to save this list. How am I able to retrieve this list then?</p>\n<p>Course</p>\n<pre><code>@Entity\n@Table(name=&quot;course&quot;)\npublic class Course {\n\n    @Id\n    @GeneratedValue(strategy=GenerationType.IDENTITY)\n    private int id;\n    private String title;\n    \n    @ManyToOne(cascade=      {CascadeType.DETACH,CascadeType.MERGE,CascadeType.PERSIST,CascadeType.REFRESH})\n    @JoinColumn(name=&quot;instructor_id&quot;)\n    private Instructor instructor;\n\n    //getters and setters and constructor\n    \n}\n</code></pre>\n<p>Instructor</p>\n<pre><code>@Entity\n@Table(name=&quot;instructor&quot;)\npublic class Instructor {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private int id;\n    private String firstName;\n    private String lastName;\n    private String email;\n    \n    @OneToMany(mappedBy=&quot;instructor&quot;, cascade= {CascadeType.DETACH,CascadeType.MERGE,CascadeType.PERSIST,CascadeType.REFRESH})\n    private List&lt;Course&gt; courses;\n\n\n    //adding a convenience method for bi-directional relationship\n    public void addCourses(Course course) {\n        if(courses==null) {\n            courses=new ArrayList&lt;Course&gt;();\n        }\n        courses.add(course);\n        course.setInstructor(this);\n    }\n    \n        // getters and setters and constructors\n}\n</code></pre>\n"},{"tags":["java","oop","stream"],"comments":[{"owner":{"account_id":24564,"reputation":123812,"user_id":62576,"accept_rate":100,"display_name":"Ken White"},"score":0,"creation_date":1499536825,"post_id":44989214,"comment_id":76953179,"body_markdown":"Why does it matter? The language was designed that way. The people on the committee or team that designed it made that decision. Someone somewhere also made the decision to name the language *Java*.","body":"Why does it matter? The language was designed that way. The people on the committee or team that designed it made that decision. Someone somewhere also made the decision to name the language <i>Java</i>."},{"owner":{"account_id":1288816,"reputation":4033,"user_id":1241334,"accept_rate":100,"display_name":"Jonny Henly"},"score":0,"creation_date":1499536854,"post_id":44989214,"comment_id":76953185,"body_markdown":"You should read the [`Scanner` class&#39; documentation](https://docs.oracle.com/javase/7/docs/api/java/util/Scanner.html). `Scanner#nextInt()` is a convenience method, you can easily read bytes from `System.in` without a `Scanner` object. Also, should the `System` class have every possible method for parsing input, or should another class handle that task and let `System` stick to what it&#39;s meant to do instead of being bloated.","body":"You should read the <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/Scanner.html\" rel=\"nofollow noreferrer\"><code>Scanner</code> class&#39; documentation</a>. <code>Scanner#nextInt()</code> is a convenience method, you can easily read bytes from <code>System.in</code> without a <code>Scanner</code> object. Also, should the <code>System</code> class have every possible method for parsing input, or should another class handle that task and let <code>System</code> stick to what it&#39;s meant to do instead of being bloated."},{"owner":{"account_id":4728704,"reputation":17022,"user_id":3824919,"display_name":"Tom"},"score":0,"creation_date":1499537604,"post_id":44989214,"comment_id":76953405,"body_markdown":"You obviously can just use `System.in.read()`, so this question doesn&#39;t make much sense in the current state, since you don&#39;t need Scanner at all.","body":"You obviously can just use <code>System.in.read()</code>, so this question doesn&#39;t make much sense in the current state, since you don&#39;t need Scanner at all."}],"answers":[{"tags":[],"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1499538612,"creation_date":1499536853,"answer_id":44989251,"question_id":44989214,"body_markdown":"System.in is simply an InputStream. A pretty generic interface designed many years ago. Changing this aspect would break a lot of existing code. So changing the type of System.in is a no go. \r\n\r\nAdding the scanner methods to the stream would bloat the existing class on the other hand. Think of concepts such as single responsibility principle or segregation of concerns. \r\n\r\nYou see - good object oriented design is about having small classes that have *one* responsibility. Not two, not 5 or 10.\r\n\r\nBut I think you have a certain point - and if Java would be rewritten today, that input stream might end up being more convenient. ","title":"Why do we need a Scanner Object for taking input in java","body":"<p>System.in is simply an InputStream. A pretty generic interface designed many years ago. Changing this aspect would break a lot of existing code. So changing the type of System.in is a no go. </p>\n\n<p>Adding the scanner methods to the stream would bloat the existing class on the other hand. Think of concepts such as single responsibility principle or segregation of concerns. </p>\n\n<p>You see - good object oriented design is about having small classes that have <em>one</em> responsibility. Not two, not 5 or 10.</p>\n\n<p>But I think you have a certain point - and if Java would be rewritten today, that input stream might end up being more convenient. </p>\n"},{"tags":[],"owner":{"account_id":7236475,"reputation":87,"user_id":5521543,"display_name":"Alhajras Algdairy"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1499539370,"creation_date":1499537122,"answer_id":44989282,"question_id":44989214,"body_markdown":"Scanner is a class which is defined in the standard Java Class Library, that you can use it to read from the console like this: \r\n\r\n    Scanner sc = new Scanner(System.in);\r\n        int i = sc.nextInt();\r\n\r\nhowever there are even more options that this constructer can do, for example you can read from a file and not console like this: \r\n\r\n    Scanner sc = new Scanner(new File(&quot;myNumbers&quot;));\r\n      while (sc.hasNextLong()) {\r\n          long aLong = sc.nextLong();\r\n      }\r\n so basically depending on the constructer you can choose where you want to read your input from. \r\n\r\nAdditionally, there are multiple ways to represent integers in a stream. `Scanner.nextInt()` reads them as a text string. [`DataInputStream.readInt()`](https://docs.oracle.com/javase/7/docs/api/java/io/DataInputStream.html) reads them as binary data.\r\n\r\nIf you mix them up, a human would enter `1234` and get `825373492`, or a computer would enter `825373492` and get `1234`. Both would be confused. By having to specify Scanner or DataInputStream, there are no such surprises or bugs, because you state up front what &quot;read an integer&quot; means.\r\n\r\nRead this: \r\nhttps://docs.oracle.com/javase/7/docs/api/java/util/Scanner.html\r\n","title":"Why do we need a Scanner Object for taking input in java","body":"<p>Scanner is a class which is defined in the standard Java Class Library, that you can use it to read from the console like this: </p>\n\n<pre><code>Scanner sc = new Scanner(System.in);\n    int i = sc.nextInt();\n</code></pre>\n\n<p>however there are even more options that this constructer can do, for example you can read from a file and not console like this: </p>\n\n<pre><code>Scanner sc = new Scanner(new File(\"myNumbers\"));\n  while (sc.hasNextLong()) {\n      long aLong = sc.nextLong();\n  }\n</code></pre>\n\n<p>so basically depending on the constructer you can choose where you want to read your input from. </p>\n\n<p>Additionally, there are multiple ways to represent integers in a stream. <code>Scanner.nextInt()</code> reads them as a text string. <a href=\"https://docs.oracle.com/javase/7/docs/api/java/io/DataInputStream.html\" rel=\"nofollow noreferrer\"><code>DataInputStream.readInt()</code></a> reads them as binary data.</p>\n\n<p>If you mix them up, a human would enter <code>1234</code> and get <code>825373492</code>, or a computer would enter <code>825373492</code> and get <code>1234</code>. Both would be confused. By having to specify Scanner or DataInputStream, there are no such surprises or bugs, because you state up front what \"read an integer\" means.</p>\n\n<p>Read this: \n<a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/Scanner.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/7/docs/api/java/util/Scanner.html</a></p>\n"},{"tags":[],"owner":{"account_id":3023214,"reputation":20362,"user_id":2563754,"display_name":"Seelenvirtuose"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1499537263,"creation_date":1499537263,"answer_id":44989305,"question_id":44989214,"body_markdown":"One important difference between `System.in` and `System.out` is, that - although both are streams - one is a more specialized stream. Look at the class&#39; [documentation][1]:\r\n\r\n*Field Summary*\r\n\r\n    static InputStream in\r\n    static PrintStream out\r\n\r\nThe counterpart of `InputStream` is an `OutputStream`, but the Java designers made the class variable `out` a `PrintStream`. This is the reason why you see more specialized methods for `System.out` than you do for `System.in`.\r\n\r\nAs for why this is the case, see @GhostCat&#39;s answer.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/lang/System.html","title":"Why do we need a Scanner Object for taking input in java","body":"<p>One important difference between <code>System.in</code> and <code>System.out</code> is, that - although both are streams - one is a more specialized stream. Look at the class' <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/System.html\" rel=\"nofollow noreferrer\">documentation</a>:</p>\n\n<p><em>Field Summary</em></p>\n\n<pre><code>static InputStream in\nstatic PrintStream out\n</code></pre>\n\n<p>The counterpart of <code>InputStream</code> is an <code>OutputStream</code>, but the Java designers made the class variable <code>out</code> a <code>PrintStream</code>. This is the reason why you see more specialized methods for <code>System.out</code> than you do for <code>System.in</code>.</p>\n\n<p>As for why this is the case, see @GhostCat's answer.</p>\n"}],"owner":{"account_id":11174743,"reputation":53,"user_id":8200702,"display_name":"Yash Bhutoria"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2097,"favorite_count":0,"down_vote_count":4,"up_vote_count":5,"accepted_answer_id":44989251,"answer_count":3,"score":1,"last_activity_date":1677491920,"creation_date":1499536581,"question_id":44989214,"body_markdown":"To print output we simply use System.out stream while to take input, we have to pass System.in in Constructor of a Scanner object and then use that object only. \r\n\r\nWhy is it so ? Why is there no direct method like System.in.nextInt() or something alike? ","title":"Why do we need a Scanner Object for taking input in java","body":"<p>To print output we simply use System.out stream while to take input, we have to pass System.in in Constructor of a Scanner object and then use that object only. </p>\n\n<p>Why is it so ? Why is there no direct method like System.in.nextInt() or something alike? </p>\n"},{"tags":["java","image","swing","jframe"],"comments":[{"owner":{"account_id":2724749,"reputation":5612,"user_id":2350145,"accept_rate":67,"display_name":"Anirban Nag &#39;tintinmj&#39;"},"score":0,"creation_date":1384956976,"post_id":20098124,"comment_id":29945056,"body_markdown":"keep `setVisible(true)` after `add(imageLable)`..","body":"keep <code>setVisible(true)</code> after <code>add(imageLable)</code>.."}],"answers":[{"tags":[],"owner":{"account_id":3260013,"reputation":4526,"user_id":2745755,"accept_rate":86,"display_name":"AJ."},"down_vote_count":2,"up_vote_count":7,"is_accepted":true,"score":5,"last_activity_date":1384957315,"creation_date":1384956957,"answer_id":20098298,"question_id":20098124,"body_markdown":"do this after creating `Jlabel`     \r\n\r\n    imageLabel.setBounds(10, 10, 400, 400);\r\n    imageLabel.setVisible(true);\r\n\r\nalso set the layout to JFrame\r\n\r\n    Game.f.setLayout(new FlowLayout);","title":"Displaying an image in a JFrame","body":"<p>do this after creating <code>Jlabel</code>     </p>\n\n<pre><code>imageLabel.setBounds(10, 10, 400, 400);\nimageLabel.setVisible(true);\n</code></pre>\n\n<p>also set the layout to JFrame</p>\n\n<pre><code>Game.f.setLayout(new FlowLayout);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":214939,"reputation":18275,"user_id":469220,"accept_rate":75,"display_name":"Vlad"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1384957047,"creation_date":1384957047,"answer_id":20098336,"question_id":20098124,"body_markdown":"You are adding the label to the wrong `JFrame`. Also, move the `setVisible()` to the end.\r\n\r\n    import javax.swing.*;\r\n    class Game1 extends JFrame\r\n    {\r\n        public static Display f = new Display();\r\n        public Game1()\r\n        {\r\n            // ....\r\n            Game1.f.add(imageLabel);\r\n            Game1.f.setVisible(true);\r\n        }\r\n    }\r\n     \r\n\r\n","title":"Displaying an image in a JFrame","body":"<p>You are adding the label to the wrong <code>JFrame</code>. Also, move the <code>setVisible()</code> to the end.</p>\n\n<pre><code>import javax.swing.*;\nclass Game1 extends JFrame\n{\n    public static Display f = new Display();\n    public Game1()\n    {\n        // ....\n        Game1.f.add(imageLabel);\n        Game1.f.setVisible(true);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1305310,"reputation":486,"user_id":1254412,"accept_rate":82,"display_name":"Khobar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1384957098,"creation_date":1384957098,"answer_id":20098355,"question_id":20098124,"body_markdown":"Also try to use image from resources, and not from hardcoded path from your PC \r\nYou can look in here, where sombody asked similar question about images in Jframe:\r\nhttps://stackoverflow.com/questions/13011705/how-to-add-an-imageicon-to-a-jframe","title":"Displaying an image in a JFrame","body":"<p>Also try to use image from resources, and not from hardcoded path from your PC \nYou can look in here, where sombody asked similar question about images in Jframe:\n<a href=\"https://stackoverflow.com/questions/13011705/how-to-add-an-imageicon-to-a-jframe\">How to add an ImageIcon to a JFrame?</a></p>\n"},{"tags":[],"owner":{"account_id":1202808,"reputation":15318,"user_id":1173114,"display_name":"Sage"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1384966950,"creation_date":1384957467,"answer_id":20098494,"question_id":20098124,"body_markdown":" 1. You don&#39;t need to use another `JFrame` instance inside the `Game` `JFrame`:\r\n 2. Calling `setVisible(flag)` from the constructor is not preferable. Rather initialize your `JFrame` from outside and put your `setVisible(true)` inside event dispatch thread to maintain Swing&#39;s GUI rendering rules using `SwingUtilities.invokeLater(Runnable)`\r\n 3. Do not give size hint by `setSize(Dimension)` of the `JFrame`. Rather use proper layout with your component, call `pack()` after adding all of your relevant component to the `JFrame`.\r\n 4. Try using `JScrollPane` with `JLabel` for a better user experience with image larger than the label&#39;s size can be.\r\n\r\n\r\nAll of the above description is made in the following example:\r\n\r\n         class Game1 extends JFrame\r\n        {\r\n           public Game1()\r\n          {\r\n             // setSize(1000, 750);  &lt;---- do not do it\r\n             // setResizable(false); &lt;----- do not do it either, unless any good reason\r\n         \r\n             setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n             setTitle(&quot;Online First Person Shooter&quot;);\r\n\r\n             ImageIcon image = new ImageIcon(&quot;C:\\\\Users\\\\Meneer\\\\Pictures\\\\image.png&quot;);\r\n             JLabel label = new JLabel(image);\r\n             JScrollPane scrollPane = new JScrollPane(label);\r\n             scrollPane.setHorizontalScrollBarPolicy(JScrollPane.HORIZONTAL_SCROLLBAR_AS_NEEDED);\r\n             scrollPane.setVerticalScrollBarPolicy(JScrollPane.VERTICAL_SCROLLBAR_AS_NEEDED);\r\n             add(scrollPane, BorderLayout.CENTER);\r\n             pack();\r\n          }\r\n\r\n         public static void main(String[] args)\r\n         {\r\n            SwingUtilities.invokeLater(new Runnable() {\r\n\r\n               @Override\r\n               public void run() {\r\n                  new Game1().setVisible(true);\r\n               }\r\n            });\r\n        \r\n          }\r\n        }\r\n\r\n","title":"Displaying an image in a JFrame","body":"<ol>\n<li>You don't need to use another <code>JFrame</code> instance inside the <code>Game</code> <code>JFrame</code>:</li>\n<li>Calling <code>setVisible(flag)</code> from the constructor is not preferable. Rather initialize your <code>JFrame</code> from outside and put your <code>setVisible(true)</code> inside event dispatch thread to maintain Swing's GUI rendering rules using <code>SwingUtilities.invokeLater(Runnable)</code></li>\n<li>Do not give size hint by <code>setSize(Dimension)</code> of the <code>JFrame</code>. Rather use proper layout with your component, call <code>pack()</code> after adding all of your relevant component to the <code>JFrame</code>.</li>\n<li>Try using <code>JScrollPane</code> with <code>JLabel</code> for a better user experience with image larger than the label's size can be.</li>\n</ol>\n\n<p>All of the above description is made in the following example:</p>\n\n<pre><code>     class Game1 extends JFrame\n    {\n       public Game1()\n      {\n         // setSize(1000, 750);  &lt;---- do not do it\n         // setResizable(false); &lt;----- do not do it either, unless any good reason\n\n         setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n         setTitle(\"Online First Person Shooter\");\n\n         ImageIcon image = new ImageIcon(\"C:\\\\Users\\\\Meneer\\\\Pictures\\\\image.png\");\n         JLabel label = new JLabel(image);\n         JScrollPane scrollPane = new JScrollPane(label);\n         scrollPane.setHorizontalScrollBarPolicy(JScrollPane.HORIZONTAL_SCROLLBAR_AS_NEEDED);\n         scrollPane.setVerticalScrollBarPolicy(JScrollPane.VERTICAL_SCROLLBAR_AS_NEEDED);\n         add(scrollPane, BorderLayout.CENTER);\n         pack();\n      }\n\n     public static void main(String[] args)\n     {\n        SwingUtilities.invokeLater(new Runnable() {\n\n           @Override\n           public void run() {\n              new Game1().setVisible(true);\n           }\n        });\n\n      }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3455808,"reputation":10954,"user_id":2894369,"display_name":"alex2410"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1384957514,"creation_date":1384957514,"answer_id":20098517,"question_id":20098124,"body_markdown":"Your problem in next you add your `JLabel` to `Game1` but you display another Frame(`Display f`). Change `add(imageLabel);` to `Game1.f.add(imageLabel);`.\r\n\r\nRecommendations:\r\n\r\n1)according to your problem: `Game1` extends `JFrame` seems that `Display` is also a frame, use only one frame to display content.\r\n\r\n2) use `pack()` method instead of `setSize(1000, 750);`\r\n\r\n3)call `setVisible(true);` at the end of construction.\r\n\r\n4)use [`LayoutManager`][1] to layout components.\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/tutorial/uiswing/layout/using.html","title":"Displaying an image in a JFrame","body":"<p>Your problem in next you add your <code>JLabel</code> to <code>Game1</code> but you display another Frame(<code>Display f</code>). Change <code>add(imageLabel);</code> to <code>Game1.f.add(imageLabel);</code>.</p>\n\n<p>Recommendations:</p>\n\n<p>1)according to your problem: <code>Game1</code> extends <code>JFrame</code> seems that <code>Display</code> is also a frame, use only one frame to display content.</p>\n\n<p>2) use <code>pack()</code> method instead of <code>setSize(1000, 750);</code></p>\n\n<p>3)call <code>setVisible(true);</code> at the end of construction.</p>\n\n<p>4)use <a href=\"http://docs.oracle.com/javase/tutorial/uiswing/layout/using.html\" rel=\"nofollow\"><code>LayoutManager</code></a> to layout components.</p>\n"}],"owner":{"account_id":3580565,"reputation":379,"user_id":2988879,"accept_rate":87,"display_name":"user2988879"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":56522,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":20098298,"answer_count":5,"score":8,"last_activity_date":1677491881,"creation_date":1384956517,"question_id":20098124,"body_markdown":"I am currently learning Java, and I am stuck with something at the moment.\r\n\r\nI was looking for a way to add an image to my JFrame.\r\nI found this on the internet:\r\n\r\n    ImageIcon image = new ImageIcon(&quot;path &amp; name &amp; extension&quot;);\r\n    JLabel imageLabel = new JLabel(image); \r\n\r\nAnd after implementing it to my own code, it looks like this (this is only the relevant part):\r\n\r\n    class Game1 extends JFrame\r\n    {\r\n    \tpublic static Display f = new Display();\r\n    \tpublic Game1()\r\n    \t{\r\n    \t\tGame1.f.setSize(1000, 750);\r\n    \t\tGame1.f.setResizable(false);\r\n    \t\tGame1.f.setVisible(true);\r\n    \t\tGame1.f.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n    \t\tGame1.f.setTitle(&quot;Online First Person Shooter&quot;);\r\n    \t\t\r\n    \t\tImageIcon image = new ImageIcon(&quot;C:\\\\Users\\\\Meneer\\\\Pictures\\\\image.png&quot;);\r\n    \t\tJLabel imageLabel = new JLabel(image); \r\n    \t\tadd(imageLabel);\r\n    \t\t}\r\n    }\r\n    \r\n    class Display extends JFrame\r\n    {\r\n    }\r\n\r\nWhen running this code, it doesn&#39;t give me any errors, but it also doesn&#39;t show the picture. I saw some questions and people having the same problem, but their code was completely different from mine, they used other ways to display the image.","title":"Displaying an image in a JFrame","body":"<p>I am currently learning Java, and I am stuck with something at the moment.</p>\n\n<p>I was looking for a way to add an image to my JFrame.\nI found this on the internet:</p>\n\n<pre><code>ImageIcon image = new ImageIcon(\"path &amp; name &amp; extension\");\nJLabel imageLabel = new JLabel(image); \n</code></pre>\n\n<p>And after implementing it to my own code, it looks like this (this is only the relevant part):</p>\n\n<pre><code>class Game1 extends JFrame\n{\n    public static Display f = new Display();\n    public Game1()\n    {\n        Game1.f.setSize(1000, 750);\n        Game1.f.setResizable(false);\n        Game1.f.setVisible(true);\n        Game1.f.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        Game1.f.setTitle(\"Online First Person Shooter\");\n\n        ImageIcon image = new ImageIcon(\"C:\\\\Users\\\\Meneer\\\\Pictures\\\\image.png\");\n        JLabel imageLabel = new JLabel(image); \n        add(imageLabel);\n        }\n}\n\nclass Display extends JFrame\n{\n}\n</code></pre>\n\n<p>When running this code, it doesn't give me any errors, but it also doesn't show the picture. I saw some questions and people having the same problem, but their code was completely different from mine, they used other ways to display the image.</p>\n"},{"tags":["java","parameters","design-patterns","builder"],"comments":[{"owner":{"account_id":1455702,"reputation":15662,"user_id":1371329,"accept_rate":64,"display_name":"jaco0646"},"score":3,"creation_date":1447339057,"post_id":7302891,"comment_id":55120620,"body_markdown":"A better solution than any of the current answers is described in [Builder pattern with a twist](http://www.jayway.com/2012/02/07/builder-pattern-with-a-twist/). A different interface is used to set each required argument.","body":"A better solution than any of the current answers is described in <a href=\"http://www.jayway.com/2012/02/07/builder-pattern-with-a-twist/\" rel=\"nofollow noreferrer\">Builder pattern with a twist</a>. A different interface is used to set each required argument."},{"owner":{"account_id":3458166,"reputation":607,"user_id":2896153,"accept_rate":71,"display_name":"dragosb"},"score":0,"creation_date":1611658163,"post_id":7302891,"comment_id":116515789,"body_markdown":"I tried what @jaco0646 was suggesting, but I think I developed a better alternative: https://github.com/banterly91/Java-Builder-Guided-Completion-Intellij-Plugin feel free to check it out","body":"I tried what @jaco0646 was suggesting, but I think I developed a better alternative: <a href=\"https://github.com/banterly91/Java-Builder-Guided-Completion-Intellij-Plugin\" rel=\"nofollow noreferrer\">github.com/banterly91/&hellip;</a> feel free to check it out"}],"answers":[{"tags":[],"owner":{"account_id":283094,"reputation":10747,"user_id":580412,"accept_rate":96,"display_name":"phs"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1315182711,"creation_date":1315182711,"answer_id":7302993,"question_id":7302891,"body_markdown":"A builder/factory still lets you decouple interface from implementation type (or lets you plug in an adapter, etc), assuming `Widget` becomes an interface and you have a way to inject or hide the `new Widget.Builder`.\r\n\r\nIf you don&#39;t care about decoupling, and your implementation is a one-off, then you&#39;re right: the builder pattern isn&#39;t much more useful than a normal constructor (it still labels its arguments with the attribute-per-builder-method style.)\r\n\r\nIf you are repeatedly creating objects with little variation in the arguments, then it may still be helpful.  You could pass in, cache, etc the intermediate builder acquired after plugging in several attributes:\r\n\r\n    Widget.Builder base = new Widget.Builder(name, price).model(&quot;foo&quot;).manufacturer(&quot;baz&quot;);\r\n\r\n    // ...\r\n\r\n    Widget w1 = base.serialNumber(&quot;bar&quot;).build();\r\n    Widget w2 = base.serialNumber(&quot;baz&quot;).build();\r\n    Widget w3 = base.serialNumber(&quot;quux&quot;).build();\r\n\r\nThis assumes that your builders are immutable: builder setters don&#39;t set an attribute and returning `this`, but return a new copy of themselves with the change instead.  As you pointed out above, parameter objects are another way to get around repeated argument boilerplate.  There, you don&#39;t even need the builder pattern: just pass the parameter object to your implementation constructor.\r\n","title":"The builder pattern and a large number of mandatory parameters","body":"<p>A builder/factory still lets you decouple interface from implementation type (or lets you plug in an adapter, etc), assuming <code>Widget</code> becomes an interface and you have a way to inject or hide the <code>new Widget.Builder</code>.</p>\n\n<p>If you don't care about decoupling, and your implementation is a one-off, then you're right: the builder pattern isn't much more useful than a normal constructor (it still labels its arguments with the attribute-per-builder-method style.)</p>\n\n<p>If you are repeatedly creating objects with little variation in the arguments, then it may still be helpful.  You could pass in, cache, etc the intermediate builder acquired after plugging in several attributes:</p>\n\n<pre><code>Widget.Builder base = new Widget.Builder(name, price).model(\"foo\").manufacturer(\"baz\");\n\n// ...\n\nWidget w1 = base.serialNumber(\"bar\").build();\nWidget w2 = base.serialNumber(\"baz\").build();\nWidget w3 = base.serialNumber(\"quux\").build();\n</code></pre>\n\n<p>This assumes that your builders are immutable: builder setters don't set an attribute and returning <code>this</code>, but return a new copy of themselves with the change instead.  As you pointed out above, parameter objects are another way to get around repeated argument boilerplate.  There, you don't even need the builder pattern: just pass the parameter object to your implementation constructor.</p>\n"},{"tags":[],"owner":{"account_id":414580,"reputation":8014,"user_id":788883,"accept_rate":100,"display_name":"hoipolloi"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1315183384,"creation_date":1315183384,"answer_id":7303053,"question_id":7302891,"body_markdown":"&gt; I&#39;ve been struggling lately to understand how the pattern is of any\r\n&gt; benefit when all your parameters are mandatory\r\n\r\nThe pattern eases creation of immutable classes and promotes readable code. Consider the Person class below (with a conventional constructor and a builder).\r\n\r\n    public static class Person {\r\n    \t\r\n    \tprivate static final class Builder {\r\n    \t\tprivate int height, weight, age, income, rank;\r\n    \t\tpublic Builder setHeight(final int height) { this.height = height; return this; }\r\n    \t\tpublic Builder setWeight(final int weight) { this.weight = weight; return this; }\r\n    \t\tpublic Builder setAge(final int age) { this.age = age; return this; }\r\n    \t\tpublic Builder setIncome(final int income) {\tthis.income = income; return this; }\r\n    \t\tpublic Builder setRank(final int rank) { this.rank = rank; return this; }\r\n    \t\tpublic Person build() {\treturn new Person(this); }\r\n    \t}\r\n    \t\r\n    \tprivate final int height;\r\n    \tprivate final int weight;\r\n    \tprivate final int age;\r\n    \tprivate final int income;\r\n    \tprivate final int rank;\r\n    \r\n    \tpublic Person(final int height, final int weight, final int age, final int income, final int rank) {\r\n    \t\tthis.height = height; this.weight = weight; this.age = age; this.income = income; this.rank = rank;\r\n    \t}\r\n    \t\r\n    \tprivate Person(final Builder builder) {\r\n    \t\theight = builder.height; weight = builder.weight; age = builder.age; income = builder.income; rank = builder.rank;\r\n    \t\t// Perform validation\r\n    \t}\r\n    \t\r\n    \tpublic int getHeight() { return height;\t}\r\n    \tpublic int getWeight() { return weight;\t}\r\n    \tpublic int getAge() { return age; }\r\n    \tpublic int getIncome() { return income;\t}\r\n    \tpublic int getRank() { \treturn rank; }\r\n    \r\n    }\r\n\r\nWhich method of construction is easier to comprehend?\r\n\r\n    final Person p1 = new Person(163, 184, 48, 15000, 23);\r\n    final Person p2 = new Person.Builder().setHeight(163).setWeight(184).setAge(48).\r\n        setIncome(15000).setRank(23).build();\r\n\r\n&gt; One means of getting around this has been to logically group the\r\n&gt; parameters being passed in to their own classes\r\n\r\nSure, this is the principle of [cohesion][1] and should be adopted irrespective of object construction semantics.\r\n\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Cohesion_%28computer_science%29","title":"The builder pattern and a large number of mandatory parameters","body":"<blockquote>\n  <p>I've been struggling lately to understand how the pattern is of any\n  benefit when all your parameters are mandatory</p>\n</blockquote>\n\n<p>The pattern eases creation of immutable classes and promotes readable code. Consider the Person class below (with a conventional constructor and a builder).</p>\n\n<pre><code>public static class Person {\n\n    private static final class Builder {\n        private int height, weight, age, income, rank;\n        public Builder setHeight(final int height) { this.height = height; return this; }\n        public Builder setWeight(final int weight) { this.weight = weight; return this; }\n        public Builder setAge(final int age) { this.age = age; return this; }\n        public Builder setIncome(final int income) {    this.income = income; return this; }\n        public Builder setRank(final int rank) { this.rank = rank; return this; }\n        public Person build() { return new Person(this); }\n    }\n\n    private final int height;\n    private final int weight;\n    private final int age;\n    private final int income;\n    private final int rank;\n\n    public Person(final int height, final int weight, final int age, final int income, final int rank) {\n        this.height = height; this.weight = weight; this.age = age; this.income = income; this.rank = rank;\n    }\n\n    private Person(final Builder builder) {\n        height = builder.height; weight = builder.weight; age = builder.age; income = builder.income; rank = builder.rank;\n        // Perform validation\n    }\n\n    public int getHeight() { return height; }\n    public int getWeight() { return weight; }\n    public int getAge() { return age; }\n    public int getIncome() { return income; }\n    public int getRank() {  return rank; }\n\n}\n</code></pre>\n\n<p>Which method of construction is easier to comprehend?</p>\n\n<pre><code>final Person p1 = new Person(163, 184, 48, 15000, 23);\nfinal Person p2 = new Person.Builder().setHeight(163).setWeight(184).setAge(48).\n    setIncome(15000).setRank(23).build();\n</code></pre>\n\n<blockquote>\n  <p>One means of getting around this has been to logically group the\n  parameters being passed in to their own classes</p>\n</blockquote>\n\n<p>Sure, this is the principle of <a href=\"http://en.wikipedia.org/wiki/Cohesion_%28computer_science%29\" rel=\"nofollow\">cohesion</a> and should be adopted irrespective of object construction semantics.</p>\n"},{"tags":[],"owner":{"account_id":6664,"reputation":85927,"user_id":11296,"display_name":"Bert F"},"down_vote_count":2,"up_vote_count":42,"is_accepted":true,"score":40,"last_activity_date":1528802242,"creation_date":1315186010,"answer_id":7303184,"question_id":7302891,"body_markdown":"&gt; However, I&#39;ve been struggling lately to understand how the pattern is of any benefit when all your parameters are mandatory (or at least the vast majority are).\r\n\r\n\r\nThe fluent builder pattern is still beneficial:\r\n\r\n1. Its more readable - it effectively allows named parameters so that the call isn&#39;t just a long list of unnamed arguments\r\n\r\n2. Its unordered - this lets you group arguments together into logical groups, either as part of a single builder setter call or simply by letting you use a natural order to calling the builder setter methods that make the most sense of this particular instantiation.\r\n\r\n---\r\n\r\n&gt;     Widget example = new Widget.Builder(req1, req2, req3,req4,req5,req6,req7,req8)\r\n&gt;                                    .addOptional(opt9)\r\n&gt;                                    .build();\r\n\r\n&gt; becomes grouped as follows:\r\n\r\n&gt;     Object1 group1  = new Object1(req1, req2, req3, req4);\r\n&gt;     Object2 group2  = new Object2(req5, req6);\r\n&gt;     Widget example2 = new Widget.Builder(group1, group2, req7, req8)\r\n                                .addOptional(opt9)\r\n                                .build();\r\n\r\n&gt; While having separate objects simplifies things quite a bit, it also makes things a little difficult to follow if one is not familiar with the code. One thing I considered was moving all parameters into their own `addParam(param)` methods and then performing validation on required parameters in the `build()` method.\r\n\r\nI would favor a hybrid when appropriate or natural.  It doesn&#39;t have to be all in constructor *or* each param has its own addParam method.  Builder gives you flexibility to do one, the other, in-between, or a combo:\r\n\r\n&gt;     Widget.Builder builder = new Widget.Builder(Widget.BUTTON);\r\n&gt; \r\n&gt;     builder.withWidgetBackingService(url, resource, id);\r\n&gt;     builder.withWidgetStyle(bgColor, lineWidth, fontStyle);\r\n&gt;     builder.withMouseover(&quot;Not required&quot;);\r\n&gt; \r\n&gt;     Widget example = builder.build();\r\n\r\n","title":"The builder pattern and a large number of mandatory parameters","body":"<blockquote>\n  <p>However, I've been struggling lately to understand how the pattern is of any benefit when all your parameters are mandatory (or at least the vast majority are).</p>\n</blockquote>\n\n<p>The fluent builder pattern is still beneficial:</p>\n\n<ol>\n<li><p>Its more readable - it effectively allows named parameters so that the call isn't just a long list of unnamed arguments</p></li>\n<li><p>Its unordered - this lets you group arguments together into logical groups, either as part of a single builder setter call or simply by letting you use a natural order to calling the builder setter methods that make the most sense of this particular instantiation.</p></li>\n</ol>\n\n<hr>\n\n<blockquote>\n<pre><code>Widget example = new Widget.Builder(req1, req2, req3,req4,req5,req6,req7,req8)\n                               .addOptional(opt9)\n                               .build();\n</code></pre>\n  \n  <p>becomes grouped as follows:</p>\n\n<pre><code>Object1 group1  = new Object1(req1, req2, req3, req4);\nObject2 group2  = new Object2(req5, req6);\nWidget example2 = new Widget.Builder(group1, group2, req7, req8)\n                            .addOptional(opt9)\n                            .build();\n</code></pre>\n  \n  <p>While having separate objects simplifies things quite a bit, it also makes things a little difficult to follow if one is not familiar with the code. One thing I considered was moving all parameters into their own <code>addParam(param)</code> methods and then performing validation on required parameters in the <code>build()</code> method.</p>\n</blockquote>\n\n<p>I would favor a hybrid when appropriate or natural.  It doesn't have to be all in constructor <em>or</em> each param has its own addParam method.  Builder gives you flexibility to do one, the other, in-between, or a combo:</p>\n\n<blockquote>\n<pre><code>Widget.Builder builder = new Widget.Builder(Widget.BUTTON);\n\nbuilder.withWidgetBackingService(url, resource, id);\nbuilder.withWidgetStyle(bgColor, lineWidth, fontStyle);\nbuilder.withMouseover(\"Not required\");\n\nWidget example = builder.build();\n</code></pre>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":313434,"reputation":223,"user_id":628063,"display_name":"Toenex"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1434640616,"creation_date":1378974523,"answer_id":18759209,"question_id":7302891,"body_markdown":"One advantage of the Builder Pattern that I rarely (if ever) see promoted is that it can also be used to conditionally construct the object, for instance only if all mandatory parameters are correct or if other required resources are available.  In that respect they offer similar benefits to a [static factory method](https://stackoverflow.com/questions/929021/what-are-static-factory-methods-in-java).   ","title":"The builder pattern and a large number of mandatory parameters","body":"<p>One advantage of the Builder Pattern that I rarely (if ever) see promoted is that it can also be used to conditionally construct the object, for instance only if all mandatory parameters are correct or if other required resources are available.  In that respect they offer similar benefits to a <a href=\"https://stackoverflow.com/questions/929021/what-are-static-factory-methods-in-java\">static factory method</a>.   </p>\n"},{"tags":[],"owner":{"account_id":85409,"reputation":89783,"user_id":238134,"accept_rate":73,"display_name":"deamon"},"down_vote_count":0,"up_vote_count":70,"is_accepted":false,"score":70,"last_activity_date":1677491240,"creation_date":1457364304,"answer_id":35847487,"question_id":7302891,"body_markdown":"You can use a [Step Builder](http://www.javacodegeeks.com/2013/05/building-smart-builders.html) if you have many mandatory parameters. In short: you define an interface for every single mandatory parameter and a builder method returns the next mandatory builder interface or the builder itself for optional methods. The builder remains a single class which implements all the interfaces.\r\n\r\n    interface StepB {\r\n        StepBuilder b(String b);\r\n    }\r\n    \r\n    interface StepA {\r\n        StepB a(String a);\r\n    }\r\n    \r\n    final class StepBuilder implements StepA, StepB {\r\n        private String a;\r\n        private String b;\r\n        private String c = &quot;&quot;;\r\n\r\n        private StepBuilder() {\r\n        }\r\n\r\n        static StepA with() {\r\n          return new StepBuilder();\r\n        }\r\n    \r\n        // mandatory, from StepA\r\n        @Override\r\n        StepB a(String a) {\r\n            this.a = a;\r\n            return this;\r\n        }\r\n    \r\n        // mandatory, from StepB\r\n        @Override\r\n        StepBuilder b(String b) {\r\n            this.b = b;\r\n            return this;\r\n        }\r\n    \r\n        // optional\r\n        StepBuilder c(String c) {\r\n            this.c = c;\r\n            return this;\r\n        }\r\n    \r\n        Product build() {\r\n            return new Product(a, b, c);\r\n        }\r\n    }\r\n\r\nUsage:\r\n\r\n    StepBuilder.with().a(&quot;hello&quot;).b(&quot;world&quot;).build();\r\n\r\n    // or with the optional parameter c\r\n    StepBuilder.with().a(&quot;hello&quot;).b(&quot;world&quot;).c(&quot;!&quot;).build();\r\n\r\nKeep in mind that I named the class `StepBuilder` only to make it clear in my explanation. It would be better to give it a name reflecting some aspect of the respective domain. Example:\r\n    \r\n    Url.with().host(&quot;example.com&quot;).port(81).path(&quot;some/where&quot;).query(&quot;status=1&quot;).build()\r\n\r\nLanguages like Kotlin and Scala are more convenient here, since they offer named parameters with default values.","title":"The builder pattern and a large number of mandatory parameters","body":"<p>You can use a <a href=\"http://www.javacodegeeks.com/2013/05/building-smart-builders.html\" rel=\"nofollow noreferrer\">Step Builder</a> if you have many mandatory parameters. In short: you define an interface for every single mandatory parameter and a builder method returns the next mandatory builder interface or the builder itself for optional methods. The builder remains a single class which implements all the interfaces.</p>\n<pre><code>interface StepB {\n    StepBuilder b(String b);\n}\n\ninterface StepA {\n    StepB a(String a);\n}\n\nfinal class StepBuilder implements StepA, StepB {\n    private String a;\n    private String b;\n    private String c = &quot;&quot;;\n\n    private StepBuilder() {\n    }\n\n    static StepA with() {\n      return new StepBuilder();\n    }\n\n    // mandatory, from StepA\n    @Override\n    StepB a(String a) {\n        this.a = a;\n        return this;\n    }\n\n    // mandatory, from StepB\n    @Override\n    StepBuilder b(String b) {\n        this.b = b;\n        return this;\n    }\n\n    // optional\n    StepBuilder c(String c) {\n        this.c = c;\n        return this;\n    }\n\n    Product build() {\n        return new Product(a, b, c);\n    }\n}\n</code></pre>\n<p>Usage:</p>\n<pre><code>StepBuilder.with().a(&quot;hello&quot;).b(&quot;world&quot;).build();\n\n// or with the optional parameter c\nStepBuilder.with().a(&quot;hello&quot;).b(&quot;world&quot;).c(&quot;!&quot;).build();\n</code></pre>\n<p>Keep in mind that I named the class <code>StepBuilder</code> only to make it clear in my explanation. It would be better to give it a name reflecting some aspect of the respective domain. Example:</p>\n<pre><code>Url.with().host(&quot;example.com&quot;).port(81).path(&quot;some/where&quot;).query(&quot;status=1&quot;).build()\n</code></pre>\n<p>Languages like Kotlin and Scala are more convenient here, since they offer named parameters with default values.</p>\n"},{"tags":[],"owner":{"account_id":9216495,"reputation":2575,"user_id":6847435,"accept_rate":100,"display_name":"coderzzz18"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1586198232,"creation_date":1586198232,"answer_id":61066659,"question_id":7302891,"body_markdown":"I think this would be appropriate in case you have large mandatory values, though number of interfaces would increase but code would be clean\r\n\r\n    public class PersonBuilder implements NamePersonBuilder, LastNamePersonBuilder, \r\n                                      BirthDatePersonBuilder, FinalPersonBuilder {\r\n\r\n    private String name;\r\n    private String lastName;\r\n    private Date birthDate;\r\n    private String phoneNumber;\r\n\r\n    /**\r\n     * Private constructor to force the use of the factroy method\r\n     */\r\n    private PersonBuilder() {\r\n    }\r\n\r\n    /**\r\n     * Creates a new person builder\r\n     */\r\n    public static NamePersonBuilder aPerson() {\r\n        return new PersonBuilder();\r\n    }\r\n\r\n    public LastNamePersonBuilder withName(String aName) {\r\n        name = aName;\r\n        return this;\r\n    }\r\n\r\n    public BirthDatePersonBuilder withLastName(String aLastName) {\r\n        lastName = aLastName;\r\n        return this;\r\n    }\r\n\r\n    public FinalPersonBuilder withBirthDate(Date aBirthDate) {\r\n        birthDate = aBirthDate;\r\n        return this;\r\n    }\r\n\r\n    public FinalPersonBuilder andPhoneNumber(String aPhoneNumber) {\r\n        phoneNumber = aPhoneNumber;\r\n        return this;\r\n    }\r\n        \r\n    public Person build() {\r\n        // The constructor and setters for Person has default scope\r\n        // and is located in the same package as the builder\r\n        Person p = new Person();\r\n        p.setName(name);\r\n        p.setLastName(lastName);\r\n        p.setBirthDate(birthDate);\r\n        p.setPhoneNumber(phoneNumber);\r\n        return p;\r\n    }\r\n\r\n    interface NamePersonBuilder {\r\n        LastNamePersonBuilder withName(String aName);\r\n    }\r\n\r\n    interface LastNamePersonBuilder {\r\n        BirthDatePersonBuilder withLastName(String aLastName);\r\n    }\r\n\r\n    interface BirthDatePersonBuilder {\r\n        FinalPersonBuilder withBirthDate(Date aBirthDate);\r\n    }\r\n\r\n    interface FinalPersonBuilder {\r\n        FinalPersonBuilder andPhoneNumber(String aPhoneNumber);\r\n        Person build();\r\n    }}\r\n\r\nThis will force the user to set all mandatory values and also force the order that the values are set. So to construct a person this will be the resulting code:\r\n\r\n    PersonBuilder.aPerson()\r\n        .withName(&quot;Name&quot;)\r\n        .withLastName(&quot;LastName&quot;)\r\n        .withBirthDate(new Date())\r\n        .build();\r\n\r\nCheckout this Reference: \r\n[Builder Pattern with Twist][1]\r\n\r\n\r\n  [1]: https://aidium.se/2015/01/09/builder-pattern-for-mandatory-values/","title":"The builder pattern and a large number of mandatory parameters","body":"<p>I think this would be appropriate in case you have large mandatory values, though number of interfaces would increase but code would be clean</p>\n\n<pre><code>public class PersonBuilder implements NamePersonBuilder, LastNamePersonBuilder, \n                                  BirthDatePersonBuilder, FinalPersonBuilder {\n\nprivate String name;\nprivate String lastName;\nprivate Date birthDate;\nprivate String phoneNumber;\n\n/**\n * Private constructor to force the use of the factroy method\n */\nprivate PersonBuilder() {\n}\n\n/**\n * Creates a new person builder\n */\npublic static NamePersonBuilder aPerson() {\n    return new PersonBuilder();\n}\n\npublic LastNamePersonBuilder withName(String aName) {\n    name = aName;\n    return this;\n}\n\npublic BirthDatePersonBuilder withLastName(String aLastName) {\n    lastName = aLastName;\n    return this;\n}\n\npublic FinalPersonBuilder withBirthDate(Date aBirthDate) {\n    birthDate = aBirthDate;\n    return this;\n}\n\npublic FinalPersonBuilder andPhoneNumber(String aPhoneNumber) {\n    phoneNumber = aPhoneNumber;\n    return this;\n}\n\npublic Person build() {\n    // The constructor and setters for Person has default scope\n    // and is located in the same package as the builder\n    Person p = new Person();\n    p.setName(name);\n    p.setLastName(lastName);\n    p.setBirthDate(birthDate);\n    p.setPhoneNumber(phoneNumber);\n    return p;\n}\n\ninterface NamePersonBuilder {\n    LastNamePersonBuilder withName(String aName);\n}\n\ninterface LastNamePersonBuilder {\n    BirthDatePersonBuilder withLastName(String aLastName);\n}\n\ninterface BirthDatePersonBuilder {\n    FinalPersonBuilder withBirthDate(Date aBirthDate);\n}\n\ninterface FinalPersonBuilder {\n    FinalPersonBuilder andPhoneNumber(String aPhoneNumber);\n    Person build();\n}}\n</code></pre>\n\n<p>This will force the user to set all mandatory values and also force the order that the values are set. So to construct a person this will be the resulting code:</p>\n\n<pre><code>PersonBuilder.aPerson()\n    .withName(\"Name\")\n    .withLastName(\"LastName\")\n    .withBirthDate(new Date())\n    .build();\n</code></pre>\n\n<p>Checkout this Reference: \n<a href=\"https://aidium.se/2015/01/09/builder-pattern-for-mandatory-values/\" rel=\"nofollow noreferrer\">Builder Pattern with Twist</a></p>\n"},{"tags":[],"owner":{"account_id":2816973,"reputation":648,"user_id":4818123,"accept_rate":61,"display_name":"Takeshi Tokugawa YD"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1588649231,"creation_date":1588570044,"answer_id":61585678,"question_id":7302891,"body_markdown":"My solution with anonymous class. Here is `familyName` is required parameter, and `givenName` is Optional. The main target if this solution is **force** the programmer who creating `Person` to set requires parameters (if he will not do it, Java will not compile).\r\n\r\n```java\r\nnew Person(\r\n    Person.parametersObject(new Person.RequiredParameters() {\r\n      @Override\r\n      public void setFamilyName() {\r\n        this.familyName = &quot;Jonson&quot;;\r\n      }\r\n    })\r\n    .setGivenName(&quot;John&quot;)\r\n);\r\n```\r\n\r\nActually, the target is not reached completely: because I couldn&#39;t to force the programmer to write `this.familyName = familyName;`, but he must to implement the `setFamilyName`. If programmer is not imbecile, he knows what he must to do in this method, but he can forget it because of fatigue.\r\n\r\nImplementation:\r\n\r\n```java\r\npublic class Person {\r\n\r\n  private String familyName;\r\n  private String givenName;\r\n\r\n\r\n  public Person(ParametersObject parametersObject) {\r\n    parametersObject.initializeSpecifiedFields(this);\r\n  }\r\n\r\n  public static ParametersObject parametersObject(Person.RequiredParameters requiredParameters) {\r\n    return new Person.ParametersObject(requiredParameters);\r\n  }\r\n\r\n\r\n  public String getFamilyName() {\r\n    return familyName;\r\n  }\r\n  public Person setFamilyName(String familyName) {\r\n    this.familyName = familyName;\r\n    return this;\r\n  }\r\n\r\n  public String getGivenName() {\r\n    return givenName;\r\n  }\r\n  public Person setGivenName(String givenName) {\r\n    this.givenName = givenName;\r\n    return this;\r\n  }\r\n\r\n\r\n  public static class ParametersObject {\r\n\r\n    private String familyName;\r\n    private String givenName;\r\n\r\n    public ParametersObject(Person.RequiredParameters requiredParameters) {\r\n      this.familyName = requiredParameters.familyName;\r\n    }\r\n\r\n    public void initializeSpecifiedFields(Person person) {\r\n      person.familyName = this.familyName;\r\n      person.givenName = this.givenName;\r\n    }\r\n\r\n    public ParametersObject setGivenName(String givenName) {\r\n      this.givenName = givenName;\r\n      return this;\r\n    }\r\n  }\r\n\r\n  public static abstract class RequiredParameters {\r\n    public String familyName;\r\n    public abstract void setFamilyName();\r\n  }\r\n}\r\n```","title":"The builder pattern and a large number of mandatory parameters","body":"<p>My solution with anonymous class. Here is <code>familyName</code> is required parameter, and <code>givenName</code> is Optional. The main target if this solution is <strong>force</strong> the programmer who creating <code>Person</code> to set requires parameters (if he will not do it, Java will not compile).</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>new Person(\n    Person.parametersObject(new Person.RequiredParameters() {\n      @Override\n      public void setFamilyName() {\n        this.familyName = \"Jonson\";\n      }\n    })\n    .setGivenName(\"John\")\n);\n</code></pre>\n\n<p>Actually, the target is not reached completely: because I couldn't to force the programmer to write <code>this.familyName = familyName;</code>, but he must to implement the <code>setFamilyName</code>. If programmer is not imbecile, he knows what he must to do in this method, but he can forget it because of fatigue.</p>\n\n<p>Implementation:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>public class Person {\n\n  private String familyName;\n  private String givenName;\n\n\n  public Person(ParametersObject parametersObject) {\n    parametersObject.initializeSpecifiedFields(this);\n  }\n\n  public static ParametersObject parametersObject(Person.RequiredParameters requiredParameters) {\n    return new Person.ParametersObject(requiredParameters);\n  }\n\n\n  public String getFamilyName() {\n    return familyName;\n  }\n  public Person setFamilyName(String familyName) {\n    this.familyName = familyName;\n    return this;\n  }\n\n  public String getGivenName() {\n    return givenName;\n  }\n  public Person setGivenName(String givenName) {\n    this.givenName = givenName;\n    return this;\n  }\n\n\n  public static class ParametersObject {\n\n    private String familyName;\n    private String givenName;\n\n    public ParametersObject(Person.RequiredParameters requiredParameters) {\n      this.familyName = requiredParameters.familyName;\n    }\n\n    public void initializeSpecifiedFields(Person person) {\n      person.familyName = this.familyName;\n      person.givenName = this.givenName;\n    }\n\n    public ParametersObject setGivenName(String givenName) {\n      this.givenName = givenName;\n      return this;\n    }\n  }\n\n  public static abstract class RequiredParameters {\n    public String familyName;\n    public abstract void setFamilyName();\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3458166,"reputation":607,"user_id":2896153,"accept_rate":71,"display_name":"dragosb"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1611658074,"creation_date":1611658074,"answer_id":65899894,"question_id":7302891,"body_markdown":"I just released a free Intellij plugin to tackle this kind of problem. Essentially you define a method for each parameter in your builder and you can annotate which ones are mandatory and which ones are not and the IntelliJ completion will highlight what are mandatory and optional parameters. Feel free to give it a try:\r\n\r\nhttps://github.com/banterly91/Java-Builder-Guided-Completion-Intellij-Plugin ","title":"The builder pattern and a large number of mandatory parameters","body":"<p>I just released a free Intellij plugin to tackle this kind of problem. Essentially you define a method for each parameter in your builder and you can annotate which ones are mandatory and which ones are not and the IntelliJ completion will highlight what are mandatory and optional parameters. Feel free to give it a try:</p>\n<p><a href=\"https://github.com/banterly91/Java-Builder-Guided-Completion-Intellij-Plugin\" rel=\"nofollow noreferrer\">https://github.com/banterly91/Java-Builder-Guided-Completion-Intellij-Plugin</a></p>\n"}],"owner":{"account_id":889492,"reputation":1200,"user_id":928072,"accept_rate":85,"display_name":"speedRS"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":56342,"favorite_count":0,"down_vote_count":0,"up_vote_count":85,"accepted_answer_id":7303184,"answer_count":8,"score":85,"last_activity_date":1677491240,"creation_date":1315181062,"question_id":7302891,"body_markdown":"To date I use the [following][1] implementation of the builder pattern (as opposed to the implementation described [here][2]):\r\n\r\n    public class Widget {\r\n        public static class Builder {\r\n            public Builder(String name, double price) { ... }\r\n            public Widget build() { ... }\r\n            public Builder manufacturer(String value) { ... }\r\n            public Builder serialNumber(String value) { ... }\r\n            public Builder model(String value) { ... }\r\n        }\r\n\r\n        private Widget(Builder builder) { ... }\r\n    }\r\n\r\nThis works well for most situations I&#39;ve encountered where I need to build up a complex object with a variety of required/mandatory and optional parameters. However, I&#39;ve been struggling lately to understand how the pattern is of any benefit when all your parameters are mandatory (or at least the vast majority are).\r\n\r\nOne means of getting around this has been to logically group the parameters being passed in to their own classes to reduce the number of parameters being passed to the builder constructor. \r\n\r\nFor example, instead of:\r\n\r\n    Widget example = new Widget.Builder(req1, req2, req3,req4,req5,req6,req7,req8)\r\n                               .addOptional(opt9)\r\n                               .build();\r\n\r\nbecomes grouped as follows:\r\n\r\n    Object1 group1 = new Object1(req1, req2, req3, req4);\r\n    Object2 group2 = new Object2(req5, req6);\r\n    \r\n    Widget example2 = new Widget.Builder(group1, group2, req7, req8)\r\n                                .addOptional(opt9)\r\n                                .build();\r\n\r\nWhile having separate objects simplifies things quite a bit, it also makes things a little difficult to follow if one is not familiar with the code. One thing I considered was moving all parameters into their own `addParam(param)` methods and then performing validation on required parameters in the `build()` method.\r\n\r\nWhat is best practice and is there perhaps a better approach to this that I haven&#39;t considered?\r\n\r\n\r\n  [1]: http://rwhansen.blogspot.com/2007/07/theres-builder-pattern-that-joshua.html\r\n  [2]: http://en.wikipedia.org/wiki/Builder_pattern#Java","title":"The builder pattern and a large number of mandatory parameters","body":"<p>To date I use the <a href=\"http://rwhansen.blogspot.com/2007/07/theres-builder-pattern-that-joshua.html\">following</a> implementation of the builder pattern (as opposed to the implementation described <a href=\"http://en.wikipedia.org/wiki/Builder_pattern#Java\">here</a>):</p>\n\n<pre><code>public class Widget {\n    public static class Builder {\n        public Builder(String name, double price) { ... }\n        public Widget build() { ... }\n        public Builder manufacturer(String value) { ... }\n        public Builder serialNumber(String value) { ... }\n        public Builder model(String value) { ... }\n    }\n\n    private Widget(Builder builder) { ... }\n}\n</code></pre>\n\n<p>This works well for most situations I've encountered where I need to build up a complex object with a variety of required/mandatory and optional parameters. However, I've been struggling lately to understand how the pattern is of any benefit when all your parameters are mandatory (or at least the vast majority are).</p>\n\n<p>One means of getting around this has been to logically group the parameters being passed in to their own classes to reduce the number of parameters being passed to the builder constructor. </p>\n\n<p>For example, instead of:</p>\n\n<pre><code>Widget example = new Widget.Builder(req1, req2, req3,req4,req5,req6,req7,req8)\n                           .addOptional(opt9)\n                           .build();\n</code></pre>\n\n<p>becomes grouped as follows:</p>\n\n<pre><code>Object1 group1 = new Object1(req1, req2, req3, req4);\nObject2 group2 = new Object2(req5, req6);\n\nWidget example2 = new Widget.Builder(group1, group2, req7, req8)\n                            .addOptional(opt9)\n                            .build();\n</code></pre>\n\n<p>While having separate objects simplifies things quite a bit, it also makes things a little difficult to follow if one is not familiar with the code. One thing I considered was moving all parameters into their own <code>addParam(param)</code> methods and then performing validation on required parameters in the <code>build()</code> method.</p>\n\n<p>What is best practice and is there perhaps a better approach to this that I haven't considered?</p>\n"},{"tags":["java","spring","mapstruct"],"comments":[{"owner":{"account_id":18044315,"reputation":1227,"user_id":13115701,"display_name":"Paul Marcelin Bejan"},"score":0,"creation_date":1677490745,"post_id":75578396,"comment_id":133341045,"body_markdown":"have you read this one: https://stackoverflow.com/a/73293525/13115701 ?","body":"have you read this one: <a href=\"https://stackoverflow.com/a/73293525/13115701\">stackoverflow.com/a/73293525/13115701</a> ?"},{"owner":{"account_id":25905272,"reputation":113,"user_id":19630441,"display_name":"남혁준"},"score":0,"creation_date":1677492279,"post_id":75578396,"comment_id":133341459,"body_markdown":"I read that question too, but I couldn&#39;t think of a way to use Stream directly inside. Thanks to Gopinath Radhakrishnan, I was able to solve it.","body":"I read that question too, but I couldn&#39;t think of a way to use Stream directly inside. Thanks to Gopinath Radhakrishnan, I was able to solve it."}],"answers":[{"tags":[],"owner":{"account_id":9190353,"reputation":457,"user_id":6831116,"display_name":"Gopinath Radhakrishnan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1677490668,"creation_date":1677490668,"answer_id":75578790,"question_id":75578396,"body_markdown":"You can use the default method in the mapper interface that can perform your desired steps. Something like below :\r\n\r\n```\r\npublic interface Mapper {\r\n\r\n  MapStructureObjectEntity toEntity(MapStructureObjectDto.Update update);\r\n\r\n  default List&lt;MapStructureObjectEntity&gt; toEntityTestList(UUID mapId, List&lt;MapStructureObjectDto.Update&gt; updateList) {\r\n    return updateList.stream().map(update -&gt; {\r\n      MapStructureObjectEntity entity = toEntity(update);\r\n      entity.setUuid(mapId); // Or additional steps as needed..\r\n      return  entity;\r\n    }).toList();\r\n  }  \r\n}\r\n```","title":"How to Use MapStruct mapping from non-iterable to iterable?","body":"<p>You can use the default method in the mapper interface that can perform your desired steps. Something like below :</p>\n<pre><code>public interface Mapper {\n\n  MapStructureObjectEntity toEntity(MapStructureObjectDto.Update update);\n\n  default List&lt;MapStructureObjectEntity&gt; toEntityTestList(UUID mapId, List&lt;MapStructureObjectDto.Update&gt; updateList) {\n    return updateList.stream().map(update -&gt; {\n      MapStructureObjectEntity entity = toEntity(update);\n      entity.setUuid(mapId); // Or additional steps as needed..\n      return  entity;\n    }).toList();\n  }  \n}\n</code></pre>\n"}],"owner":{"account_id":25905272,"reputation":113,"user_id":19630441,"display_name":"남혁준"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":271,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75578790,"answer_count":1,"score":0,"last_activity_date":1677490668,"creation_date":1677488007,"question_id":75578396,"body_markdown":"    List&lt;MapStructureObjectEntity&gt; toEntityTest(UUID mapId, MapStructureObjectDto.Update update);\r\n    List&lt;MapStructureObjectEntity&gt; toEntityTestList(UUID mapId, List&lt;MapStructureObjectDto.Update&gt; updateList);\r\n\r\nI have a mapper that converts from List to List as above.\r\n\r\nI know why it doesn&#39;t work. This is because there is a non-repeatable field called UUID, and if you exclude the UUID it works correctly.\r\n\r\n\r\nI would like to include the UUID mapId with all data being converted.\r\n\r\nSo far, the list has been individually mapped with mapId in the Stream (or For) method.\r\n\r\n    updateList.stream().map(update -&gt; MapStructureObjectMapper.MAPPER.toEntity(mapId, update)).toList();\r\n\r\nI don&#39;t think this is a clean way because it does the work twice.\r\n(On top of that, the code is decentralized. Oh shit!)\r\n\r\nIs there a convenient way to convert this to MapStruct ?\r\n\r\n\r\n","title":"How to Use MapStruct mapping from non-iterable to iterable?","body":"<pre><code>List&lt;MapStructureObjectEntity&gt; toEntityTest(UUID mapId, MapStructureObjectDto.Update update);\nList&lt;MapStructureObjectEntity&gt; toEntityTestList(UUID mapId, List&lt;MapStructureObjectDto.Update&gt; updateList);\n</code></pre>\n<p>I have a mapper that converts from List to List as above.</p>\n<p>I know why it doesn't work. This is because there is a non-repeatable field called UUID, and if you exclude the UUID it works correctly.</p>\n<p>I would like to include the UUID mapId with all data being converted.</p>\n<p>So far, the list has been individually mapped with mapId in the Stream (or For) method.</p>\n<pre><code>updateList.stream().map(update -&gt; MapStructureObjectMapper.MAPPER.toEntity(mapId, update)).toList();\n</code></pre>\n<p>I don't think this is a clean way because it does the work twice.\n(On top of that, the code is decentralized. Oh shit!)</p>\n<p>Is there a convenient way to convert this to MapStruct ?</p>\n"},{"tags":["java","spring-boot","ribbon","netflix-zuul"],"answers":[{"tags":[],"owner":{"account_id":18610431,"reputation":41,"user_id":13563000,"display_name":"Dovile Barkauskaite"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677490656,"creation_date":1677490656,"answer_id":75578788,"question_id":75548140,"body_markdown":"Probem is with my spring boot version. Need zuul configuration. There I add github link were person write the zuul configuration which fixed my problem:\r\nhttps://gist.github.com/aldobongio/6a22f49863c7a777612f7887bbb8fd1d.\r\nHope this will help for someone. ","title":"zuul + ribbon set MaxAutoRetries : 3, but repeted 8 times why it happens?","body":"<p>Probem is with my spring boot version. Need zuul configuration. There I add github link were person write the zuul configuration which fixed my problem:\n<a href=\"https://gist.github.com/aldobongio/6a22f49863c7a777612f7887bbb8fd1d\" rel=\"nofollow noreferrer\">https://gist.github.com/aldobongio/6a22f49863c7a777612f7887bbb8fd1d</a>.\nHope this will help for someone.</p>\n"}],"owner":{"account_id":18610431,"reputation":41,"user_id":13563000,"display_name":"Dovile Barkauskaite"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1677490656,"creation_date":1677172345,"question_id":75548140,"body_markdown":"My yml:\r\n```\r\nspring:\r\n  application:\r\n    name: test-gateway\r\n  cloud:\r\n    loadbalancer:\r\n      retry:\r\n        enabled: true\r\n\r\nzuul:\r\n  retryable: true\r\n  set-content-length: true\r\n  routes:\r\n    test:\r\n      path: /**\r\n      serviceId: TEST\r\n      stripPrefix: false\r\n      sensitiveHeaders: Cookie,Set-Cookie\r\n\r\n  ribbon:\r\n    eager-load:\r\n      enabled: true\r\n  include-debug-header: true\r\n  host:\r\n    connect-timeout-millis: 1000\r\n    socket-timeout-millis: 1000\r\n\r\nTEST:\r\n  ribbon:\r\n    ReadTimeout: 1000\r\n    ConnectTimeout: 1000\r\n    retryableStatusCodes: 500, 503, 502, 408\r\n    MaxAutoRetriesNextServer: 0\r\n    OkToRetryOnAllOperations: true\r\n    MaxAutoRetries: 3\r\n```\r\nwhen I called to api /foruser and it sleep 3000 milisec\r\n\r\n```\r\n    @GetMapping(&quot;/foruser&quot;)\r\n    public String forUser() throws InterruptedException {\r\n\r\n        log.info(&quot;Start to sleep count: {}&quot;, count);\r\n\r\n        count = count + 1;\r\n\r\n        sleep(3000);\r\n\r\n        log.info(&quot;Finish sleep&quot;);\r\n\r\n        return &quot;every thing is ok&quot;;\r\n    }\r\n```\r\n\r\nshould retries just 3 times but repeated 8 times. Why? how can I set to retry just 3 times?\r\nwhere is any more config on ribbon?\r\n","title":"zuul + ribbon set MaxAutoRetries : 3, but repeted 8 times why it happens?","body":"<p>My yml:</p>\n<pre><code>spring:\n  application:\n    name: test-gateway\n  cloud:\n    loadbalancer:\n      retry:\n        enabled: true\n\nzuul:\n  retryable: true\n  set-content-length: true\n  routes:\n    test:\n      path: /**\n      serviceId: TEST\n      stripPrefix: false\n      sensitiveHeaders: Cookie,Set-Cookie\n\n  ribbon:\n    eager-load:\n      enabled: true\n  include-debug-header: true\n  host:\n    connect-timeout-millis: 1000\n    socket-timeout-millis: 1000\n\nTEST:\n  ribbon:\n    ReadTimeout: 1000\n    ConnectTimeout: 1000\n    retryableStatusCodes: 500, 503, 502, 408\n    MaxAutoRetriesNextServer: 0\n    OkToRetryOnAllOperations: true\n    MaxAutoRetries: 3\n</code></pre>\n<p>when I called to api /foruser and it sleep 3000 milisec</p>\n<pre><code>    @GetMapping(&quot;/foruser&quot;)\n    public String forUser() throws InterruptedException {\n\n        log.info(&quot;Start to sleep count: {}&quot;, count);\n\n        count = count + 1;\n\n        sleep(3000);\n\n        log.info(&quot;Finish sleep&quot;);\n\n        return &quot;every thing is ok&quot;;\n    }\n</code></pre>\n<p>should retries just 3 times but repeated 8 times. Why? how can I set to retry just 3 times?\nwhere is any more config on ribbon?</p>\n"},{"tags":["java","unicode","escaping","filewriter"],"comments":[{"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"score":1,"creation_date":1677435196,"post_id":75573608,"comment_id":133332859,"body_markdown":"The answer is _likely_ that your character is going through a bunch of transitions (software that doesn&#39;t blindly pass the data on unmolested) which ends up mangling away your PUAs. However, there are other explanations. You&#39;ll need to edit this question and add in an example input string, the code you use to &#39;unescape&#39; it (not just &#39;I use this method from apache commons&#39;, show the code), and then explain in exacting detail how you go from the `java.lang.String` instance all the way to &#39;... and it is now a generic question mark&#39;. Which apps, tools, streams, etc.","body":"The answer is <i>likely</i> that your character is going through a bunch of transitions (software that doesn&#39;t blindly pass the data on unmolested) which ends up mangling away your PUAs. However, there are other explanations. You&#39;ll need to edit this question and add in an example input string, the code you use to &#39;unescape&#39; it (not just &#39;I use this method from apache commons&#39;, show the code), and then explain in exacting detail how you go from the <code>java.lang.String</code> instance all the way to &#39;... and it is now a generic question mark&#39;. Which apps, tools, streams, etc."},{"owner":{"account_id":3576533,"reputation":16716,"user_id":2985643,"accept_rate":40,"display_name":"skomisa"},"score":0,"creation_date":1677452072,"post_id":75573608,"comment_id":133335621,"body_markdown":"[1] Does your code work for characters which are not private use? [2] To be clear, are you wanting the output to be a white rectangle containing a question mark (i.e. your choice of glyph for the private use character `U+E022`), but instead you are seeing a black diamond containing a question mark(i.e. The Unicode _Replacement Character_ \n `U+FFFD`)? [3] How did you add your private use glyphs to the font? [4] You need to update your question to show your code, some sample input and the expected and actual output. Otherwise your question may be closed because it _&quot;Needs details or clarity&quot;_.","body":"[1] Does your code work for characters which are not private use? [2] To be clear, are you wanting the output to be a white rectangle containing a question mark (i.e. your choice of glyph for the private use character <code>U+E022</code>), but instead you are seeing a black diamond containing a question mark(i.e. The Unicode <i>Replacement Character</i>   <code>U+FFFD</code>)? [3] How did you add your private use glyphs to the font? [4] You need to update your question to show your code, some sample input and the expected and actual output. Otherwise your question may be closed because it <i>&quot;Needs details or clarity&quot;</i>."}],"answers":[{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1677490196,"creation_date":1677431865,"answer_id":75573722,"question_id":75573608,"body_markdown":"# tl;dr\r\n\r\n - Use correct Java syntax in your input string for a Unicode hexadecimal: `\\uXXXX`\r\n - If you have no font providing a glyph for that code point number, your OS indicates the lack by displaying an empty-box, question-mark, or some such fall-back replacement. \r\n\r\nTo get an officially sanctioned Red Heart:\r\n\r\n    org.apache.commons.text.StringEscapeUtils.unescapeJava( &quot;\\\\&quot; + &quot;u2764&quot; + &quot;\\\\&quot; + &quot;uFE0F&quot; )  // Simulating some textual input of Java-syntax escaped Unicode code point numbers in hexadecimal.\r\n\r\n&gt;❤️\r\n\r\n# Example code\r\n\r\nYou did not show your exact code. But your Question mentions `u/XXXX` which is incorrect. Correct syntax in Java for a Unicode hexadecimal is `\\uXXXX`. \r\n\r\nYou can **verify your hexadecimal literal** by asking for the code point, as shown below.\r\n\r\nHere is some example code.\r\n\r\n```java\r\nSystem.out.println( &quot;Demo of Private Use Area&quot; );\r\n\r\nString input = &quot;\\\\&quot; + &quot;uE022&quot;;\r\nString output = org.apache.commons.text.StringEscapeUtils.unescapeJava( input );\r\nint codePoint = output.codePointAt( 0 );\r\nString name = Character.getName( codePoint );\r\n```\r\n\r\nDump to console. \r\n\r\n```java\r\nSystem.out.println( &quot;input = &quot; + input );\r\nSystem.out.println( &quot;output = &quot; + output );\r\nSystem.out.println( &quot;codePoint = &quot; + codePoint + &quot; (we expect 57378 for \\\\uE022).&quot; );\r\nSystem.out.println( &quot;Name = &quot; + name );\r\n```\r\n \r\nWhen run:\r\n\r\n```none\r\nDemo of Private Use Area\r\ninput = \\uE022\r\noutput = \r\ncodePoint = 57378 (we expect 57378 for \\uE022).\r\nName = PRIVATE USE AREA E022\r\n```\r\n\r\n## Red heart emoji\r\n\r\nIf you really want a red heart, Unicode does define an emoji. \r\n\r\nBut accessing this emoji requires *two* code points. Unicode 1.1 in 1993 defined “Heavy Black Heart” at decimal 10,084 (U+2764). Later versions of Unicode added Emoji 1.0 definitions in 2015, adding a definition for Red Heart by combining `HEAVY BLACK HEART` with `VARIATION SELECTOR-16` at decimal 65,039 (U+FEOF). \r\n\r\nSee [`red heart`][1] row of [*Full Emoji List*][2] at the Unicode Consortium web site. However, that row appears to me to be incorrect in that it fails to mention the required `U+FE0F` code point.\r\n\r\n```java\r\n// HEAVY BLACK HEART + VARIATION SELECTOR-16 = Red Heart.\r\nString input = &quot;\\\\&quot; + &quot;u2764&quot; + &quot;\\\\&quot; + &quot;uFE0F&quot;;\r\nString output = org.apache.commons.text.StringEscapeUtils.unescapeJava( input );\r\n```\r\n\r\n&gt;❤️\r\n\r\nFull example code:\r\n\r\n```java\r\nSystem.out.println( &quot;Demo of Red Heart&quot; );\r\n\r\n// HEAVY BLACK HEART + VARIATION SELECTOR-16 = Red Heart.\r\nString input = &quot;\\\\&quot; + &quot;u2764&quot; + &quot;\\\\&quot; + &quot;uFE0F&quot;;\r\nString output = org.apache.commons.text.StringEscapeUtils.unescapeJava( input );\r\n\r\nSystem.out.println( &quot;input = &quot; + input );\r\nSystem.out.println( &quot;output = &quot; + output );\r\n\r\noutput.codePoints().forEachOrdered( ( int codePoint ) -&gt; {\r\n    String message =\r\n            &quot;Code point decimal &quot; + codePoint\r\n                    + &quot; = hex &quot; + Integer.toHexString( codePoint )\r\n                    + &quot; = name &quot; + Character.getName( codePoint );\r\n    System.out.println( message );\r\n} );\r\n```\r\n\r\nWhen run:\r\n\r\n```none\r\nDemo of Red Heart\r\ninput = \\u2764\\uFE0F\r\noutput = ❤️\r\nCode point decimal 10084 = hex 2764 = name HEAVY BLACK HEART\r\nCode point decimal 65039 = hex fe0f = name VARIATION SELECTOR-16\r\n```\r\n\r\n# A PUA has no officially assigned characters\r\n\r\nBy definition, a [Private Use Area (PUA)][3] has no characters assigned by the [Unicode Consortium][4]. All the [code point][5] numbers in that range are promised by the Unicode Consortium to never be officially assigned any character. \r\n\r\nThese leaves all of us free to create a font that assigns any kind of [glyph][6] we want to assign to any of those code points. \r\n\r\nYou may want to create a font with red heart cartoon at code point E022. Meanwhile I may choose to make a font that has a drawing of a cockatiel. And some guy named Bob creates his own font with a picture of a [Microlino][7] car at E022. All of us, you, me, and Bob, are all happy knowing that our custom font will never be stomped on by a future officially sanctioned character at that code point. \r\n\r\nIf Alice likes your red heart, and wants to use it, she needs to obtain a copy of your font. She needs to install that font on her computer. And she needs to either:\r\n\r\n - Ensure that no enter font provides a glyph at code point E022, *or*,\r\n - Use an app that allows her to specify the use of your font rather than any other font that may also coincidentally provide a glyph at E022. \r\n\r\n&#128073; If Alice has installed no fonts at all with a glyph at E022, then the operating system of her computer will fall back to displaying some kind of substitute glyph such as an empty box or question mark or nothing to indicate the lack of a glyph. \r\n\r\nThe three PUAs defined in Unicode have turned out to be rather popular. People use them to create fonts for characters that do not meet the requirements of the Unicode Consortium, preventing those characters from ever being considered for future inclusion in Unicode. For example, fictional languages such as [*Klingon*][8] in Star Trek or elves’ language from novels. \r\n\r\nThis popularity has prompted volunteers outside the Unicode Consortium to devise a public registry of the PUA code points, in an attempt to avoid conflicts among various fonts over particular code points. \r\n\r\n\r\n  [1]: https://unicode.org/emoji/charts/full-emoji-list.html#2764\r\n  [2]: https://unicode.org/emoji/charts/full-emoji-list.html\r\n  [3]: https://en.m.wikipedia.org/wiki/Private_Use_Areas\r\n  [4]: https://en.m.wikipedia.org/wiki/Unicode_Consortium\r\n  [5]: https://en.m.wikipedia.org/wiki/Code_point\r\n  [6]: https://en.m.wikipedia.org/wiki/Glyph\r\n  [7]: https://en.m.wikipedia.org/wiki/Microlino\r\n  [8]: https://en.m.wikipedia.org/wiki/Klingon_language","title":"Java -- How to unescape unicode private-use characters?","body":"<h1>tl;dr</h1>\n<ul>\n<li>Use correct Java syntax in your input string for a Unicode hexadecimal: <code>\\uXXXX</code></li>\n<li>If you have no font providing a glyph for that code point number, your OS indicates the lack by displaying an empty-box, question-mark, or some such fall-back replacement.</li>\n</ul>\n<p>To get an officially sanctioned Red Heart:</p>\n<pre><code>org.apache.commons.text.StringEscapeUtils.unescapeJava( &quot;\\\\&quot; + &quot;u2764&quot; + &quot;\\\\&quot; + &quot;uFE0F&quot; )  // Simulating some textual input of Java-syntax escaped Unicode code point numbers in hexadecimal.\n</code></pre>\n<blockquote>\n<p>❤️</p>\n</blockquote>\n<h1>Example code</h1>\n<p>You did not show your exact code. But your Question mentions <code>u/XXXX</code> which is incorrect. Correct syntax in Java for a Unicode hexadecimal is <code>\\uXXXX</code>.</p>\n<p>You can <strong>verify your hexadecimal literal</strong> by asking for the code point, as shown below.</p>\n<p>Here is some example code.</p>\n<pre class=\"lang-java prettyprint-override\"><code>System.out.println( &quot;Demo of Private Use Area&quot; );\n\nString input = &quot;\\\\&quot; + &quot;uE022&quot;;\nString output = org.apache.commons.text.StringEscapeUtils.unescapeJava( input );\nint codePoint = output.codePointAt( 0 );\nString name = Character.getName( codePoint );\n</code></pre>\n<p>Dump to console.</p>\n<pre class=\"lang-java prettyprint-override\"><code>System.out.println( &quot;input = &quot; + input );\nSystem.out.println( &quot;output = &quot; + output );\nSystem.out.println( &quot;codePoint = &quot; + codePoint + &quot; (we expect 57378 for \\\\uE022).&quot; );\nSystem.out.println( &quot;Name = &quot; + name );\n</code></pre>\n<p>When run:</p>\n<pre class=\"lang-none prettyprint-override\"><code>Demo of Private Use Area\ninput = \\uE022\noutput = \ncodePoint = 57378 (we expect 57378 for \\uE022).\nName = PRIVATE USE AREA E022\n</code></pre>\n<h2>Red heart emoji</h2>\n<p>If you really want a red heart, Unicode does define an emoji.</p>\n<p>But accessing this emoji requires <em>two</em> code points. Unicode 1.1 in 1993 defined “Heavy Black Heart” at decimal 10,084 (U+2764). Later versions of Unicode added Emoji 1.0 definitions in 2015, adding a definition for Red Heart by combining <code>HEAVY BLACK HEART</code> with <code>VARIATION SELECTOR-16</code> at decimal 65,039 (U+FEOF).</p>\n<p>See <a href=\"https://unicode.org/emoji/charts/full-emoji-list.html#2764\" rel=\"nofollow noreferrer\"><code>red heart</code></a> row of <a href=\"https://unicode.org/emoji/charts/full-emoji-list.html\" rel=\"nofollow noreferrer\"><em>Full Emoji List</em></a> at the Unicode Consortium web site. However, that row appears to me to be incorrect in that it fails to mention the required <code>U+FE0F</code> code point.</p>\n<pre class=\"lang-java prettyprint-override\"><code>// HEAVY BLACK HEART + VARIATION SELECTOR-16 = Red Heart.\nString input = &quot;\\\\&quot; + &quot;u2764&quot; + &quot;\\\\&quot; + &quot;uFE0F&quot;;\nString output = org.apache.commons.text.StringEscapeUtils.unescapeJava( input );\n</code></pre>\n<blockquote>\n<p>❤️</p>\n</blockquote>\n<p>Full example code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>System.out.println( &quot;Demo of Red Heart&quot; );\n\n// HEAVY BLACK HEART + VARIATION SELECTOR-16 = Red Heart.\nString input = &quot;\\\\&quot; + &quot;u2764&quot; + &quot;\\\\&quot; + &quot;uFE0F&quot;;\nString output = org.apache.commons.text.StringEscapeUtils.unescapeJava( input );\n\nSystem.out.println( &quot;input = &quot; + input );\nSystem.out.println( &quot;output = &quot; + output );\n\noutput.codePoints().forEachOrdered( ( int codePoint ) -&gt; {\n    String message =\n            &quot;Code point decimal &quot; + codePoint\n                    + &quot; = hex &quot; + Integer.toHexString( codePoint )\n                    + &quot; = name &quot; + Character.getName( codePoint );\n    System.out.println( message );\n} );\n</code></pre>\n<p>When run:</p>\n<pre class=\"lang-none prettyprint-override\"><code>Demo of Red Heart\ninput = \\u2764\\uFE0F\noutput = ❤️\nCode point decimal 10084 = hex 2764 = name HEAVY BLACK HEART\nCode point decimal 65039 = hex fe0f = name VARIATION SELECTOR-16\n</code></pre>\n<h1>A PUA has no officially assigned characters</h1>\n<p>By definition, a <a href=\"https://en.m.wikipedia.org/wiki/Private_Use_Areas\" rel=\"nofollow noreferrer\">Private Use Area (PUA)</a> has no characters assigned by the <a href=\"https://en.m.wikipedia.org/wiki/Unicode_Consortium\" rel=\"nofollow noreferrer\">Unicode Consortium</a>. All the <a href=\"https://en.m.wikipedia.org/wiki/Code_point\" rel=\"nofollow noreferrer\">code point</a> numbers in that range are promised by the Unicode Consortium to never be officially assigned any character.</p>\n<p>These leaves all of us free to create a font that assigns any kind of <a href=\"https://en.m.wikipedia.org/wiki/Glyph\" rel=\"nofollow noreferrer\">glyph</a> we want to assign to any of those code points.</p>\n<p>You may want to create a font with red heart cartoon at code point E022. Meanwhile I may choose to make a font that has a drawing of a cockatiel. And some guy named Bob creates his own font with a picture of a <a href=\"https://en.m.wikipedia.org/wiki/Microlino\" rel=\"nofollow noreferrer\">Microlino</a> car at E022. All of us, you, me, and Bob, are all happy knowing that our custom font will never be stomped on by a future officially sanctioned character at that code point.</p>\n<p>If Alice likes your red heart, and wants to use it, she needs to obtain a copy of your font. She needs to install that font on her computer. And she needs to either:</p>\n<ul>\n<li>Ensure that no enter font provides a glyph at code point E022, <em>or</em>,</li>\n<li>Use an app that allows her to specify the use of your font rather than any other font that may also coincidentally provide a glyph at E022.</li>\n</ul>\n<p>👉 If Alice has installed no fonts at all with a glyph at E022, then the operating system of her computer will fall back to displaying some kind of substitute glyph such as an empty box or question mark or nothing to indicate the lack of a glyph.</p>\n<p>The three PUAs defined in Unicode have turned out to be rather popular. People use them to create fonts for characters that do not meet the requirements of the Unicode Consortium, preventing those characters from ever being considered for future inclusion in Unicode. For example, fictional languages such as <a href=\"https://en.m.wikipedia.org/wiki/Klingon_language\" rel=\"nofollow noreferrer\"><em>Klingon</em></a> in Star Trek or elves’ language from novels.</p>\n<p>This popularity has prompted volunteers outside the Unicode Consortium to devise a public registry of the PUA code points, in an attempt to avoid conflicts among various fonts over particular code points.</p>\n"}],"owner":{"account_id":24406159,"reputation":37,"user_id":18334318,"display_name":"bitcash complex"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":241,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":1,"score":1,"last_activity_date":1677490196,"creation_date":1677430949,"question_id":75573608,"body_markdown":"I have a program that reads a list of unescaped unicode strings (`u/XXXX`) and converts them into their encoded unicode character, writing that version to both the terminal and to a textfile. \r\n\r\nI&#39;m using `org.apache.commons.text.StringEscapeUtils.unescapeJava(String)` to handle the unescaping of the escaped unicode points. (From [*Apache Commons Text*][1] library.)\r\n\r\nI&#39;m referring to these unicode entries to get my private-use characters: https://jrgraphix.net/r/Unicode/E000-F8FF\r\n(I preprend `u/` with the hex digits shown above ^)\r\n\r\nHeres an example of what the output should look like: ``\r\nIf you pasted that into a ctrl F box on the website above, you&#39;ll see that it points to `E022`\r\n\r\n**Now, here is my question, and by extension the problem I am having:**\r\n\r\nIts not working. For some reason, it doesn&#39;t output the character itself, rather it just outputs a generic question mark that does not represent the private use char in question. If someone can help me with this it&#39;d be much appreciated.\r\n\r\n\r\n\r\nSo far, I have had no luck.\r\n\r\n\r\n  [1]: https://commons.apache.org/proper/commons-text/","title":"Java -- How to unescape unicode private-use characters?","body":"<p>I have a program that reads a list of unescaped unicode strings (<code>u/XXXX</code>) and converts them into their encoded unicode character, writing that version to both the terminal and to a textfile.</p>\n<p>I'm using <code>org.apache.commons.text.StringEscapeUtils.unescapeJava(String)</code> to handle the unescaping of the escaped unicode points. (From <a href=\"https://commons.apache.org/proper/commons-text/\" rel=\"nofollow noreferrer\"><em>Apache Commons Text</em></a> library.)</p>\n<p>I'm referring to these unicode entries to get my private-use characters: <a href=\"https://jrgraphix.net/r/Unicode/E000-F8FF\" rel=\"nofollow noreferrer\">https://jrgraphix.net/r/Unicode/E000-F8FF</a>\n(I preprend <code>u/</code> with the hex digits shown above ^)</p>\n<p>Heres an example of what the output should look like: <code></code>\nIf you pasted that into a ctrl F box on the website above, you'll see that it points to <code>E022</code></p>\n<p><strong>Now, here is my question, and by extension the problem I am having:</strong></p>\n<p>Its not working. For some reason, it doesn't output the character itself, rather it just outputs a generic question mark that does not represent the private use char in question. If someone can help me with this it'd be much appreciated.</p>\n<p>So far, I have had no luck.</p>\n"},{"tags":["java","arrays"],"comments":[{"owner":{"account_id":422870,"reputation":25925,"user_id":801894,"display_name":"Solomon Slow"},"score":1,"creation_date":1400592809,"post_id":23760979,"comment_id":36535026,"body_markdown":"Squaring the number is mathematically elegant, but it significantly constrains the range of numbers that can be accepted in your array.  I would use Math.abs() instead.","body":"Squaring the number is mathematically elegant, but it significantly constrains the range of numbers that can be accepted in your array.  I would use Math.abs() instead."}],"answers":[{"tags":[],"owner":{"account_id":1218491,"reputation":1431,"user_id":1185614,"display_name":"lpratlong"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1400592486,"creation_date":1400592486,"answer_id":23761179,"question_id":23760979,"body_markdown":"As you multiply data[i] with data[i], a value negative and a value positive will have the same impact.\r\nFor example, in your example: 2 and -2 will be 4. So, your code is not able to sort as you need.\r\n\r\nSo, here, it takes -2 as the near value since it has the same &quot;weight&quot; as 2.","title":"Finding closest number to 0","body":"<p>As you multiply data[i] with data[i], a value negative and a value positive will have the same impact.\nFor example, in your example: 2 and -2 will be 4. So, your code is not able to sort as you need.</p>\n\n<p>So, here, it takes -2 as the near value since it has the same \"weight\" as 2.</p>\n"},{"tags":[],"owner":{"account_id":2017605,"reputation":748,"user_id":1804512,"display_name":"Bachmann"},"down_vote_count":1,"up_vote_count":8,"is_accepted":false,"score":7,"last_activity_date":1400592543,"creation_date":1400592543,"answer_id":23761205,"question_id":23760979,"body_markdown":"Just add zero to this list.\r\n\r\nThen sort the list\r\n    \r\n    Arrays.sort(data);\r\n\r\nthen grab the number before or after the zero and pick the minimum one greater than zero","title":"Finding closest number to 0","body":"<p>Just add zero to this list.</p>\n\n<p>Then sort the list</p>\n\n<pre><code>Arrays.sort(data);\n</code></pre>\n\n<p>then grab the number before or after the zero and pick the minimum one greater than zero</p>\n"},{"tags":[],"owner":{"account_id":3057856,"reputation":1337,"user_id":2591131,"accept_rate":75,"display_name":"Eric"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1663680430,"creation_date":1400592576,"answer_id":23761216,"question_id":23760979,"body_markdown":"Assumption is that the array `data` has at least 1 value.\r\n\r\n    int closestToZero = 0;\r\n    for ( int i = 1; i &lt; data.length; i++ )\r\n    {\r\n        if ( Math.abs(data[i]) &lt; Math.abs(data[closestToZero]) ) closestToZero = i;\r\n    }\r\n\r\nThe value in `closestToZero` is the index of the value closest to zero, not the value itself.","title":"Finding closest number to 0","body":"<p>Assumption is that the array <code>data</code> has at least 1 value.</p>\n<pre><code>int closestToZero = 0;\nfor ( int i = 1; i &lt; data.length; i++ )\n{\n    if ( Math.abs(data[i]) &lt; Math.abs(data[closestToZero]) ) closestToZero = i;\n}\n</code></pre>\n<p>The value in <code>closestToZero</code> is the index of the value closest to zero, not the value itself.</p>\n"},{"tags":[],"owner":{"account_id":55621,"reputation":8047,"user_id":166611,"accept_rate":75,"display_name":"JuanZe"},"down_vote_count":1,"up_vote_count":9,"is_accepted":true,"score":8,"last_activity_date":1624009353,"creation_date":1400592913,"answer_id":23761353,"question_id":23760979,"body_markdown":"Sort the array (add one line of code) so the last number you pick up will be positive if the same absolute value is selected for a positive and negative numbers with the same distance.\r\n\r\n**Source code:**\r\n\r\n    import java.util.Arrays;\r\n    \r\n    public class CloseToZero {\r\n    \r\n        public static void main(String[] args) {\r\n    \r\n            int[] data = {2,3,-2};\r\n            int curr = 0;\r\n            int near = data[0]; \r\n            Arrays.sort(data);      //  add this\r\n            System.out.println(Arrays.toString(data));        \r\n            // find the element nearest to zero\r\n            for ( int i=0; i &lt; data.length; i++ ){\r\n            \tSystem.out.println(&quot;dist from &quot; + data[i] + &quot; = &quot; + Math.abs(0 -data[i]));\r\n            \tcurr = data[i] * data[i]; \r\n                if ( curr &lt;= (near * near) )  { \r\n                    near = data[i];\r\n                } \r\n            }\r\n            System.out.println( near );\r\n        }\r\n    }\r\n\r\n","title":"Finding closest number to 0","body":"<p>Sort the array (add one line of code) so the last number you pick up will be positive if the same absolute value is selected for a positive and negative numbers with the same distance.</p>\n<p><strong>Source code:</strong></p>\n<pre><code>import java.util.Arrays;\n\npublic class CloseToZero {\n\n    public static void main(String[] args) {\n\n        int[] data = {2,3,-2};\n        int curr = 0;\n        int near = data[0]; \n        Arrays.sort(data);      //  add this\n        System.out.println(Arrays.toString(data));        \n        // find the element nearest to zero\n        for ( int i=0; i &lt; data.length; i++ ){\n            System.out.println(&quot;dist from &quot; + data[i] + &quot; = &quot; + Math.abs(0 -data[i]));\n            curr = data[i] * data[i]; \n            if ( curr &lt;= (near * near) )  { \n                near = data[i];\n            } \n        }\n        System.out.println( near );\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":542404,"reputation":1735,"user_id":911228,"display_name":"kmera"},"down_vote_count":0,"up_vote_count":23,"is_accepted":false,"score":23,"last_activity_date":1400593606,"creation_date":1400593606,"answer_id":23761605,"question_id":23760979,"body_markdown":"This will do it in `O(n)` time:\r\n\r\n    int[] arr = {1,4,5,6,7,-1};\r\n\t\t\r\n    int closestIndex = 0;\r\n    int diff = Integer.MAX_VALUE;\r\n    for (int i = 0; i &lt; arr.length; ++i) {\r\n        int abs = Math.abs(arr[i]);\r\n        if (abs &lt; diff) {\r\n            closestIndex = i;\r\n            diff = abs;\r\n        } else if (abs == diff &amp;&amp; arr[i] &gt; 0 &amp;&amp; arr[closestIndex] &lt; 0) {\r\n            //same distance to zero but positive \r\n            closestIndex =i;\r\n        }\r\n    }\t\r\n    System.out.println(arr[closestIndex ]);","title":"Finding closest number to 0","body":"<p>This will do it in <code>O(n)</code> time:</p>\n\n<pre><code>int[] arr = {1,4,5,6,7,-1};\n\nint closestIndex = 0;\nint diff = Integer.MAX_VALUE;\nfor (int i = 0; i &lt; arr.length; ++i) {\n    int abs = Math.abs(arr[i]);\n    if (abs &lt; diff) {\n        closestIndex = i;\n        diff = abs;\n    } else if (abs == diff &amp;&amp; arr[i] &gt; 0 &amp;&amp; arr[closestIndex] &lt; 0) {\n        //same distance to zero but positive \n        closestIndex =i;\n    }\n}   \nSystem.out.println(arr[closestIndex ]);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":225235,"reputation":6429,"user_id":485608,"accept_rate":50,"display_name":"M. Abbas"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1493243812,"creation_date":1493242065,"answer_id":43644811,"question_id":23760979,"body_markdown":"If you are using java8:\r\n\r\n    import static java.lang.Math.abs;\r\n    import static java.lang.Math.max;\r\n        \r\n    public class CloseToZero {\r\n        public static void main(String[] args) {\r\n            int[] str = {2,3,-2};\r\n            Arrays.stream(str).filter(i -&gt; i != 0)\r\n                    .reduce((a, b) -&gt; abs(a) &lt; abs(b) ? a : (abs(a) == abs(b) ? max(a, b) : b))\r\n                    .ifPresent(System.out::println);\r\n        }\r\n    }","title":"Finding closest number to 0","body":"<p>If you are using java8:</p>\n\n<pre><code>import static java.lang.Math.abs;\nimport static java.lang.Math.max;\n\npublic class CloseToZero {\n    public static void main(String[] args) {\n        int[] str = {2,3,-2};\n        Arrays.stream(str).filter(i -&gt; i != 0)\n                .reduce((a, b) -&gt; abs(a) &lt; abs(b) ? a : (abs(a) == abs(b) ? max(a, b) : b))\n                .ifPresent(System.out::println);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"display_name":"user10603690"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1541410418,"creation_date":1541338165,"answer_id":53141348,"question_id":23760979,"body_markdown":"here is a method that gives you the nearest to zero.\r\n\r\n - use case 1 : {1,3,-2}  ==&gt; return 1 : use the Math.abs() for comparison and get the least.\r\n - use case 2 : {2,3,-2}  ==&gt; return 2 : use the Math.abs() for comparison and get the Math.abs(least)\r\n -  use case 3 : {-2,3,-2} ==&gt; return -2: use the Math.abs() for comparison and get the least.\r\n \r\n\r\n    \tpublic static double getClosestToZero(double[] liste) {\r\n\t\t// if the list is empty return 0\r\n\t\tif (liste.length != 0) {\r\n\t\t\tdouble near = liste[0];\r\n\t\t\tfor (int i = 0; i &lt; liste.length; i++) {\r\n\t\t\t\t// here we are using Math.abs to manage the negative and\r\n\t\t\t\t// positive number\r\n\t\t\t\tif (Math.abs(liste[i]) &lt;= Math.abs(near)) {\r\n\t\t\t\t\t// manage the case when we have two equal neagative numbers\r\n\t\t\t\t\tif (liste[i] == -near) {\r\n\t\t\t\t\t\tnear = Math.abs(liste[i]);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tnear = liste[i];\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn near;\r\n\t\t} else {\r\n\t\t\treturn 0;\r\n\t\t}\r\n\r\n\t}\r\n\r\n","title":"Finding closest number to 0","body":"<p>here is a method that gives you the nearest to zero.</p>\n\n<ul>\n<li>use case 1 : {1,3,-2}  ==> return 1 : use the Math.abs() for comparison and get the least.</li>\n<li>use case 2 : {2,3,-2}  ==> return 2 : use the Math.abs() for comparison and get the Math.abs(least)</li>\n<li><p>use case 3 : {-2,3,-2} ==> return -2: use the Math.abs() for comparison and get the least.</p>\n\n<pre><code>public static double getClosestToZero(double[] liste) {\n// if the list is empty return 0\nif (liste.length != 0) {\n    double near = liste[0];\n    for (int i = 0; i &lt; liste.length; i++) {\n        // here we are using Math.abs to manage the negative and\n        // positive number\n        if (Math.abs(liste[i]) &lt;= Math.abs(near)) {\n            // manage the case when we have two equal neagative numbers\n            if (liste[i] == -near) {\n                near = Math.abs(liste[i]);\n            } else {\n                near = liste[i];\n            }\n        }\n    }\n    return near;\n} else {\n    return 0;\n}\n</code></pre>\n\n<p>}</p></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":9950284,"reputation":1455,"user_id":7363234,"accept_rate":75,"display_name":"Cristian Babarusi"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1546782977,"creation_date":1546782977,"answer_id":54062205,"question_id":23760979,"body_markdown":"You can do like this:\r\n\r\n    String res = &quot;&quot;;\r\n            \r\n            Arrays.sort(arr);\r\n            int num = arr[0];\r\n            int ClosestValue = 0;\r\n            \r\n            for (int i = 0; i &lt; arr.length; i++)\r\n            {\r\n                //for negatives\r\n                if (arr[i] &lt; ClosestValue &amp;&amp; arr[i] &gt; num)\r\n                num = arr[i];\r\n                //for positives\r\n                if (arr[i] &gt; ClosestValue &amp;&amp; num &lt; ClosestValue)\r\n                num = arr[i];\r\n            }\r\n            res = num;\r\n            \r\n            System.out.println(res);\r\n\r\n      \r\n\r\nFirst of all you need to store all your numbers into an array. After that sort the array --&gt; that&#39;s the trick who will make you don&#39;t use Math.abs(). Now is time to make a loop that iterates through the array. Knowing that array is sorted is important that you start to make first an IF statement for negatives numbers then for the positives (in this way if you will have two values closest to zero, let suppose -1 and 1 --&gt; will print the positive one).\r\n\r\nHope this will help you.","title":"Finding closest number to 0","body":"<p>You can do like this:</p>\n\n<pre><code>String res = \"\";\n\n        Arrays.sort(arr);\n        int num = arr[0];\n        int ClosestValue = 0;\n\n        for (int i = 0; i &lt; arr.length; i++)\n        {\n            //for negatives\n            if (arr[i] &lt; ClosestValue &amp;&amp; arr[i] &gt; num)\n            num = arr[i];\n            //for positives\n            if (arr[i] &gt; ClosestValue &amp;&amp; num &lt; ClosestValue)\n            num = arr[i];\n        }\n        res = num;\n\n        System.out.println(res);\n</code></pre>\n\n<p>First of all you need to store all your numbers into an array. After that sort the array --> that's the trick who will make you don't use Math.abs(). Now is time to make a loop that iterates through the array. Knowing that array is sorted is important that you start to make first an IF statement for negatives numbers then for the positives (in this way if you will have two values closest to zero, let suppose -1 and 1 --> will print the positive one).</p>\n\n<p>Hope this will help you.</p>\n"},{"tags":[],"owner":{"account_id":14465114,"reputation":154,"user_id":10448752,"display_name":"DevDisrupt"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1556825883,"creation_date":1556825883,"answer_id":55959153,"question_id":23760979,"body_markdown":"The easiest way to deal with this is split the array into positive and negative sort and push the first two items from both the arrays into another array. Have fun!\r\n\r\n    function closeToZeroTwo(arr){\r\n    let arrNeg = arr.filter(x =&gt; x &lt; 0).sort();\r\n    let arrPos = arr.filter(x =&gt; x &gt; 0).sort();\r\n    let retArr = []; \r\n    retArr.push(arrNeg[0], arrPos[0]);\r\n    console.log(retArr)\r\n    }","title":"Finding closest number to 0","body":"<p>The easiest way to deal with this is split the array into positive and negative sort and push the first two items from both the arrays into another array. Have fun!</p>\n\n<pre><code>function closeToZeroTwo(arr){\nlet arrNeg = arr.filter(x =&gt; x &lt; 0).sort();\nlet arrPos = arr.filter(x =&gt; x &gt; 0).sort();\nlet retArr = []; \nretArr.push(arrNeg[0], arrPos[0]);\nconsole.log(retArr)\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16842800,"reputation":1,"user_id":12177784,"display_name":"bawa"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1570465349,"creation_date":1570464963,"answer_id":58273419,"question_id":23760979,"body_markdown":"Easiest way to just sort that array in ascending order suppose input is like : \r\n\r\n    int[] array = {10,-5,5,2,7,-4,28,65,95,85,12,45};\r\n\r\nthen after sorting it will gives output like:\r\n\r\n    {-5,-4,2,5,7,10,12,28,45,65,85,95,}\r\n\r\nand for positive integer number, the Closest Positive number is: **2**\r\n\r\nLogic : \r\n\r\n    public class Closest {\r\n\r\n\tpublic static int getClosestToZero(int[] a) {\r\n\r\n\t\tint temp=0;\r\n\t\t//following for is used for sorting an array in ascending nubmer\r\n\t\tfor (int i = 0; i &lt; a.length-1; i++) {\r\n\t\t\tfor (int j = 0; j &lt; a.length-i-1; j++) {\r\n\t\t\t\tif (a[j]&gt;a[j+1]) {\r\n\t\t\t\t\ttemp = a[j];\r\n\t\t\t\t\ta[j]=a[j+1];\r\n\t\t\t\t\ta[j+1]=temp;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\t//to check sorted array with negative &amp; positive  values\r\n\t\tSystem.out.print(&quot;{&quot;);\r\n\t\tfor(int number:a)\r\n\t\t\tSystem.out.print(number + &quot;,&quot;);\r\n\r\n\t\tSystem.out.print(&quot;}\\n&quot;);\r\n\t\t//logic for check closest positive and Integer\r\n\t\tfor (int i = 0; i &lt; a.length; i++) {\r\n\t\t\tif (a[i]&lt;0 &amp;&amp; a[i+1]&gt;0) {\r\n\t\t\t\ttemp = a[i+1];\r\n\t\t\t}\r\n\t\t} \r\n\t\treturn temp;\r\n\t}\r\n\r\n\t  public static void main(String[] args) {\r\n\t\tint[] array = {10,-5,5,2,7,-4,28,65,95,85,12,45};\r\n\t\tint closets =getClosestToZero(array);\r\n\t    System.out.println(&quot;The Closest Positive number is : &quot;+closets);\r\n\t  }\r\n\r\n    }\r\n","title":"Finding closest number to 0","body":"<p>Easiest way to just sort that array in ascending order suppose input is like : </p>\n\n<pre><code>int[] array = {10,-5,5,2,7,-4,28,65,95,85,12,45};\n</code></pre>\n\n<p>then after sorting it will gives output like:</p>\n\n<pre><code>{-5,-4,2,5,7,10,12,28,45,65,85,95,}\n</code></pre>\n\n<p>and for positive integer number, the Closest Positive number is: <strong>2</strong></p>\n\n<p>Logic : </p>\n\n<pre><code>public class Closest {\n\npublic static int getClosestToZero(int[] a) {\n\n    int temp=0;\n    //following for is used for sorting an array in ascending nubmer\n    for (int i = 0; i &lt; a.length-1; i++) {\n        for (int j = 0; j &lt; a.length-i-1; j++) {\n            if (a[j]&gt;a[j+1]) {\n                temp = a[j];\n                a[j]=a[j+1];\n                a[j+1]=temp;\n            }\n        }\n    }\n    //to check sorted array with negative &amp; positive  values\n    System.out.print(\"{\");\n    for(int number:a)\n        System.out.print(number + \",\");\n\n    System.out.print(\"}\\n\");\n    //logic for check closest positive and Integer\n    for (int i = 0; i &lt; a.length; i++) {\n        if (a[i]&lt;0 &amp;&amp; a[i+1]&gt;0) {\n            temp = a[i+1];\n        }\n    } \n    return temp;\n}\n\n  public static void main(String[] args) {\n    int[] array = {10,-5,5,2,7,-4,28,65,95,85,12,45};\n    int closets =getClosestToZero(array);\n    System.out.println(\"The Closest Positive number is : \"+closets);\n  }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4337251,"reputation":1,"user_id":3541453,"display_name":"Maykon Deykon"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1573201662,"creation_date":1573201662,"answer_id":58762931,"question_id":23760979,"body_markdown":"    static void closestToZero(){\r\n\t\tint[] arr = {45,-4,-12,-2,7,4};\r\n\t\tint max = Integer.MAX_VALUE;\r\n\t\tint closest = 0;\r\n\t\tfor (int i = 0; i &lt; arr.length; i++){\r\n\t\t\tint value = arr[i];\r\n\t\t\tint abs = Math.abs(value);\r\n\t\t\tif (abs &lt; max){\r\n\t\t\t\tmax = abs;\r\n\t\t\t\tclosest = value;\r\n\t\t\t}else if (abs == max){\r\n\t\t\t\tif (value &gt; closest){\r\n\t\t\t\t\tclosest = value;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\nReturn a positive integer if two absolute values are the same.","title":"Finding closest number to 0","body":"<pre><code>static void closestToZero(){\n    int[] arr = {45,-4,-12,-2,7,4};\n    int max = Integer.MAX_VALUE;\n    int closest = 0;\n    for (int i = 0; i &lt; arr.length; i++){\n        int value = arr[i];\n        int abs = Math.abs(value);\n        if (abs &lt; max){\n            max = abs;\n            closest = value;\n        }else if (abs == max){\n            if (value &gt; closest){\n                closest = value;\n            }\n        }\n    }\n</code></pre>\n\n<p>Return a positive integer if two absolute values are the same.</p>\n"},{"tags":[],"owner":{"account_id":17106328,"reputation":1,"user_id":12378276,"display_name":"Moise"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1573846244,"creation_date":1573818608,"answer_id":58876465,"question_id":23760979,"body_markdown":"package solution;\r\n\r\nimport java.util.Scanner;\r\n\r\npublic class Solution {\r\n\t\r\n\tpublic static void trier(int tab[]) {\r\n\t\t\r\n\t\tint tmp = 0;\r\n\t\t\r\n\t\tfor(int i = 0; i &lt; (tab.length - 1); i++) {\r\n\t\t\t\r\n\t\t\tfor(int j = (i+1); j&lt; tab.length; j++) {\r\n\t\t\t\t\r\n\t\t\t\tif(tab[i] &gt; tab[j]) {\r\n\t\t\t\t\ttmp = tab[i];\r\n\t\t\t\t\ttab[i] = tab[j];\r\n\t\t\t\t\ttab[j] = tmp;\r\n\t\t\t\t\t\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t\t\r\n\t\t}\r\n\t\t\r\n\t\tint prochePositif = TableauPositif(tab);\r\n\t\t\r\n\t\tint procheNegatif = TableauNegatif(tab);\r\n\t\t\r\n\t\tSystem.out.println(distanceDeZero(procheNegatif,prochePositif));\r\n\t\t\r\n\t\t\r\n\t\t\t\r\n\t}\r\n\tpublic static int TableauNegatif(int tab[]) {\r\n\t\t\r\n\t\tint taille = TailleNegatif(tab);\r\n\t\t\r\n\t\t\r\n\t\tint tabNegatif[] = new int[taille];\r\n\t\t\r\n\t\t\r\n\t\tfor(int i = 0; i&lt; tabNegatif.length; i++) {\r\n\t\t\t\r\n\t\t\ttabNegatif[i] = tab[i];\r\n\t\t}\r\n\t\tint max = tabNegatif[0];\r\n\t\t\r\n\t\tfor(int i = 0; i &lt;tabNegatif.length; i++) {\r\n\t\t\t\r\n\t\t\tif(max &lt; tabNegatif[i])\r\n\t\t\t\tmax = tabNegatif[i];\r\n\t\t}\r\n\t\treturn max;\r\n\t\t\r\n\t\t\r\n\t}\r\n\tpublic static int TableauPositif(int tab[]) {\r\n\t\t\r\n\t\tint taille = TailleNegatif(tab);\r\n\t\t\r\n\t\tif(tab[taille] ==0)\r\n\t\t\ttaille+=1;\r\n\t\t\r\n\t\t\r\n\t\tint taillepositif = TaillePositif(tab);\r\n\t\t\r\n\t\tint tabPositif[] = new int[taillepositif];\r\n\t\t\r\n\t\t\r\n\t\t\r\n\t\tfor(int i = 0; i &lt; tabPositif.length; i++) {\r\n\t\t\t\r\n\t\t\t\r\n\t\t\ttabPositif[i] = tab[i + taille];\r\n\t\t\t\r\n\t\t}\r\n\t\tint min = tabPositif[0];\r\n\t\tfor(int i = 0; i&lt; tabPositif.length; i++) {\r\n\t\t\t\r\n\t\t\tif(min &gt; tabPositif[i])\r\n\t\t\t\tmin = tabPositif[i];\r\n\t\t}\r\n\t\treturn min;\r\n\t\t\r\n\t\t\r\n\t}\r\n\t\r\n\tpublic static int TailleNegatif(int tab[]) {\r\n\t\tint cpt = 0;\r\n\t\t\r\n\t\tfor(int i = 0; i &lt; tab.length; i++) {\r\n\t\t\t\r\n\t\t\tif(tab[i] &lt; 0) {\r\n\t\t\t\tcpt +=1;\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn cpt;\r\n\t\t\r\n\t}\r\n\tpublic static int TaillePositif(int tab[]) {\r\n\t\tint cpt = 0;\r\n\t\t\r\n\t\tfor(int i = 0; i &lt; tab.length; i++) {\r\n\t\t\t\r\n\t\t\tif(tab[i] &gt; 0) {\r\n\t\t\t\tcpt +=1;\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn cpt;\r\n\t\t\r\n\t}\r\n\t\r\n\tpublic static int distanceDeZero(int v1, int v2) {\r\n\t\t\r\n\t\tint absv1 = v1 * (-1);\r\n\t\t\r\n\t\tif(absv1 &lt; v2)\r\n\t\t\treturn v1;\r\n\t\t\r\n\t\telse if(absv1 &gt; v2)\r\n\t\t\treturn v2;\r\n\t\telse \r\n\t\t\treturn v2;\r\n\t\t\r\n\t\t\r\n\t\t\r\n\t}\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\t\r\n\t\tint t[] = {6,5,8,8,-2,-5,0,-3,-5,9,7,4};\r\n\t\t\r\n\t\tSolution.trier(t);\r\n\t\t\r\n\t\t\r\n\t}\r\n\r\n}\r\n","title":"Finding closest number to 0","body":"<p>package solution;</p>\n\n<p>import java.util.Scanner;</p>\n\n<p>public class Solution {</p>\n\n<pre><code>public static void trier(int tab[]) {\n\n    int tmp = 0;\n\n    for(int i = 0; i &lt; (tab.length - 1); i++) {\n\n        for(int j = (i+1); j&lt; tab.length; j++) {\n\n            if(tab[i] &gt; tab[j]) {\n                tmp = tab[i];\n                tab[i] = tab[j];\n                tab[j] = tmp;\n\n            }\n\n        }\n\n    }\n\n    int prochePositif = TableauPositif(tab);\n\n    int procheNegatif = TableauNegatif(tab);\n\n    System.out.println(distanceDeZero(procheNegatif,prochePositif));\n\n\n\n}\npublic static int TableauNegatif(int tab[]) {\n\n    int taille = TailleNegatif(tab);\n\n\n    int tabNegatif[] = new int[taille];\n\n\n    for(int i = 0; i&lt; tabNegatif.length; i++) {\n\n        tabNegatif[i] = tab[i];\n    }\n    int max = tabNegatif[0];\n\n    for(int i = 0; i &lt;tabNegatif.length; i++) {\n\n        if(max &lt; tabNegatif[i])\n            max = tabNegatif[i];\n    }\n    return max;\n\n\n}\npublic static int TableauPositif(int tab[]) {\n\n    int taille = TailleNegatif(tab);\n\n    if(tab[taille] ==0)\n        taille+=1;\n\n\n    int taillepositif = TaillePositif(tab);\n\n    int tabPositif[] = new int[taillepositif];\n\n\n\n    for(int i = 0; i &lt; tabPositif.length; i++) {\n\n\n        tabPositif[i] = tab[i + taille];\n\n    }\n    int min = tabPositif[0];\n    for(int i = 0; i&lt; tabPositif.length; i++) {\n\n        if(min &gt; tabPositif[i])\n            min = tabPositif[i];\n    }\n    return min;\n\n\n}\n\npublic static int TailleNegatif(int tab[]) {\n    int cpt = 0;\n\n    for(int i = 0; i &lt; tab.length; i++) {\n\n        if(tab[i] &lt; 0) {\n            cpt +=1;\n\n        }\n    }\n    return cpt;\n\n}\npublic static int TaillePositif(int tab[]) {\n    int cpt = 0;\n\n    for(int i = 0; i &lt; tab.length; i++) {\n\n        if(tab[i] &gt; 0) {\n            cpt +=1;\n\n        }\n    }\n    return cpt;\n\n}\n\npublic static int distanceDeZero(int v1, int v2) {\n\n    int absv1 = v1 * (-1);\n\n    if(absv1 &lt; v2)\n        return v1;\n\n    else if(absv1 &gt; v2)\n        return v2;\n    else \n        return v2;\n\n\n\n}\n\npublic static void main(String[] args) {\n\n    int t[] = {6,5,8,8,-2,-5,0,-3,-5,9,7,4};\n\n    Solution.trier(t);\n\n\n}\n</code></pre>\n\n<p>}</p>\n"},{"tags":[],"owner":{"account_id":12713720,"reputation":2483,"user_id":9236525,"display_name":"Kunchok Tashi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1580484640,"creation_date":1580484640,"answer_id":60006861,"question_id":23760979,"body_markdown":"I have same answer with different method,Using Collections and abs , we can solved.\r\n\r\n```\r\n  static int Solve(int N, int[] A){\r\n      List&lt;Integer&gt; mInt=new ArrayList&lt;&gt;();\r\n        for ( int i=0; i &lt; A.length; i++ ){\r\n            mInt.add(Math.abs(0 -A[i]));\r\n        }\r\n        return Collections.min(mInt);\r\n    }\r\n```\r\n   \r\nThat all,As simple as that","title":"Finding closest number to 0","body":"<p>I have same answer with different method,Using Collections and abs , we can solved.</p>\n\n<pre><code>  static int Solve(int N, int[] A){\n      List&lt;Integer&gt; mInt=new ArrayList&lt;&gt;();\n        for ( int i=0; i &lt; A.length; i++ ){\n            mInt.add(Math.abs(0 -A[i]));\n        }\n        return Collections.min(mInt);\n    }\n</code></pre>\n\n<p>That all,As simple as that</p>\n"},{"tags":[],"owner":{"account_id":8770546,"reputation":110,"user_id":8928244,"display_name":"Vidit Varshney"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1610709762,"creation_date":1610709762,"answer_id":65735222,"question_id":23760979,"body_markdown":"We have to find the Closest number to zero. \r\nThe given array can have negative values also. \r\nSo the easiest approach would append the &#39;0&#39; in the given array and sort it and return the element next to &#39;0&#39;\r\n1. append the 0\r\n2. Sort the Array\r\n3. Return the element next to 0.\r\n\r\n`\r\n\r\n    N = int(input())\r\n\r\n    arr = list(map(int, input().split()))\r\n\r\n    arr.append(0)\r\n    arr.sort()\r\n\r\n    zeroIndex = arr.index(0)\r\n    print(arr[zeroIndex + 1])\r\n\r\n--&gt; If this solution leaves corner cases please let me know also.\r\n\r\n\r\n`\r\n\r\n","title":"Finding closest number to 0","body":"<p>We have to find the Closest number to zero.\nThe given array can have negative values also.\nSo the easiest approach would append the '0' in the given array and sort it and return the element next to '0'</p>\n<ol>\n<li>append the 0</li>\n<li>Sort the Array</li>\n<li>Return the element next to 0.</li>\n</ol>\n<p>`</p>\n<pre><code>N = int(input())\n\narr = list(map(int, input().split()))\n\narr.append(0)\narr.sort()\n\nzeroIndex = arr.index(0)\nprint(arr[zeroIndex + 1])\n</code></pre>\n<p>--&gt; If this solution leaves corner cases please let me know also.</p>\n<p>`</p>\n"},{"tags":[],"owner":{"account_id":14382689,"reputation":166,"user_id":10389456,"display_name":"Sagansha San"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1610985547,"creation_date":1610985547,"answer_id":65777973,"question_id":23760979,"body_markdown":"     static int Solve(int N, int[] A){\r\n          int min = A[0];\r\n          for (int i=1; i&lt;N ; i++){\r\n            min = min &gt; Math.abs(0- A[i]) ? Math.abs(0- A[i]) : Math.abs(min);\r\n          }\r\n          return min;\r\n        }","title":"Finding closest number to 0","body":"<pre><code> static int Solve(int N, int[] A){\n      int min = A[0];\n      for (int i=1; i&lt;N ; i++){\n        min = min &gt; Math.abs(0- A[i]) ? Math.abs(0- A[i]) : Math.abs(min);\n      }\n      return min;\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6166039,"reputation":469,"user_id":7210926,"display_name":"Vipul Kumar"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1610988066,"creation_date":1610988066,"answer_id":65778618,"question_id":23760979,"body_markdown":"if you don&#39;t wanna use the inbuilt library function use the below code (just an and condition with your existing code)-\r\n\r\n    public class CloseToZero {\r\n        public static void main(String[] args) {\r\n            int[] data = {2,3,-2,-1,1};\r\n            int curr = 0;\r\n            int near = data[0];\r\n            // find the element nearest to zero\r\n            for ( int i=0; i &lt; data.length; i++ ){\r\n                curr = data[i] * data[i];\r\n                if ( curr &lt;= (near * near) &amp;&amp; !((curr - (near * near) == 0) &amp;&amp; data[i] &lt; 0))  {\r\n                        near = data[i];\r\n                }\r\n            }\r\n            System.out.println( near );\r\n        }\r\n    }\r\n\r\n`!((curr - (near * near) == 0) &amp;&amp; data[i] &lt; 0)` : skip asignment if if `near` and `curr` is just opposit in sign and the `curr` is negative","title":"Finding closest number to 0","body":"<p>if you don't wanna use the inbuilt library function use the below code (just an and condition with your existing code)-</p>\n<pre><code>public class CloseToZero {\n    public static void main(String[] args) {\n        int[] data = {2,3,-2,-1,1};\n        int curr = 0;\n        int near = data[0];\n        // find the element nearest to zero\n        for ( int i=0; i &lt; data.length; i++ ){\n            curr = data[i] * data[i];\n            if ( curr &lt;= (near * near) &amp;&amp; !((curr - (near * near) == 0) &amp;&amp; data[i] &lt; 0))  {\n                    near = data[i];\n            }\n        }\n        System.out.println( near );\n    }\n}\n</code></pre>\n<p><code>!((curr - (near * near) == 0) &amp;&amp; data[i] &lt; 0)</code> : skip asignment if if <code>near</code> and <code>curr</code> is just opposit in sign and the <code>curr</code> is negative</p>\n"},{"tags":[],"owner":{"account_id":20534162,"reputation":1,"user_id":15070669,"display_name":"Taha.B"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1611517572,"creation_date":1611491703,"answer_id":65870590,"question_id":23760979,"body_markdown":"    public static int find(int[] ints) {\r\n    \tif (ints==null) return 0;\r\n\t\tint min= ints[0];\t//a random value initialisation\t\r\n\t\tfor (int k=0;k&lt;ints.length;k++) {\r\n            // if a positive value is matched it is prioritized              \r\n\t\t\tif (ints[k]==Math.abs(min) || Math.abs(ints[k])&lt;Math.abs(min)) \r\n\t\t\t\tmin=ints[k];\t\t\t\r\n\t\t}\r\n\t\treturn  min;\r\n\t}","title":"Finding closest number to 0","body":"<pre><code>public static int find(int[] ints) {\n    if (ints==null) return 0;\n    int min= ints[0];   //a random value initialisation \n    for (int k=0;k&lt;ints.length;k++) {\n        // if a positive value is matched it is prioritized              \n        if (ints[k]==Math.abs(min) || Math.abs(ints[k])&lt;Math.abs(min)) \n            min=ints[k];            \n    }\n    return  min;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19151479,"reputation":1,"user_id":13989292,"display_name":"shikha srivastav"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1612196121,"creation_date":1612196121,"answer_id":65996173,"question_id":23760979,"body_markdown":"\tpublic int check() {\r\n\r\n\t\tint target = 0;\r\n\t\tint[] myArray = { 40, 20, 100, 30, -1, 70, -10, 500 };\r\n\t\tint result = myArray[0];\r\n\t\tfor (int i = 0; i &lt; myArray.length; i++) {\r\n\t\t\tif (myArray[i] == target) {\r\n\t\t\t\tresult = myArray[i];\r\n\t\t\t\treturn result;\r\n\t\t\t}\r\n\t\t\tif (myArray[i] &gt; 0 &amp;&amp; result &gt;= (myArray[i] - target)) {\r\n\t\t\t\tresult = myArray[i];\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn result;\r\n\t}\r\n\r\nI have added a check for the positive number itself.\r\nPlease share your views folks!!","title":"Finding closest number to 0","body":"<pre><code>public int check() {\n\n    int target = 0;\n    int[] myArray = { 40, 20, 100, 30, -1, 70, -10, 500 };\n    int result = myArray[0];\n    for (int i = 0; i &lt; myArray.length; i++) {\n        if (myArray[i] == target) {\n            result = myArray[i];\n            return result;\n        }\n        if (myArray[i] &gt; 0 &amp;&amp; result &gt;= (myArray[i] - target)) {\n            result = myArray[i];\n        }\n    }\n    return result;\n}\n</code></pre>\n<p>I have added a check for the positive number itself.\nPlease share your views folks!!</p>\n"},{"tags":[],"owner":{"display_name":"user15620977"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1620743999,"creation_date":1620716887,"answer_id":67482039,"question_id":23760979,"body_markdown":"    public class ClosesttoZero {\r\n    \t\r\n    \t  static int closZero(int[] ints) {\r\n    \t\t\r\n    \t\tint result=ints[0];\r\n    \t\tfor(int i=1;i&lt;ints.length;i++) {\r\n    \t\t\tif(Math.abs(result)&gt;=Math.abs(ints[i])) {\r\n    \t\t\t\tresult=Math.abs(ints[i]);\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\treturn result;\r\n    \t\t\r\n    \t\t\r\n    \t}\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\t// TODO Auto-generated method stub\r\n    \r\n    \t\t\r\n    \t\tint[] ints= {1,1,5,8,4,-9,0,6,7,1};\r\n    \t\tint result=ClosesttoZero.closZero(ints);\r\n    \t\tSystem.out.println(result);\r\n    \t\t\r\n    \t\t\r\n    \t}\r\n    \r\n    }\r\n\r\n","title":"Finding closest number to 0","body":"<pre><code>public class ClosesttoZero {\n    \n      static int closZero(int[] ints) {\n        \n        int result=ints[0];\n        for(int i=1;i&lt;ints.length;i++) {\n            if(Math.abs(result)&gt;=Math.abs(ints[i])) {\n                result=Math.abs(ints[i]);\n            }\n        }\n        return result;\n        \n        \n    }\n\n    public static void main(String[] args) {\n        // TODO Auto-generated method stub\n\n        \n        int[] ints= {1,1,5,8,4,-9,0,6,7,1};\n        int result=ClosesttoZero.closZero(ints);\n        System.out.println(result);\n        \n        \n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":21842602,"reputation":1,"user_id":16135937,"display_name":"Julie"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1622884971,"creation_date":1622884971,"answer_id":67848120,"question_id":23760979,"body_markdown":"It can be done simply by making all numbers positive using absolute value then sort the Array:\r\n\r\n\t\t\tint[] arr = {9, 1, 4, 5, 6, 7, -1, -2};\r\n\r\n\t\t\tfor (int i = 0; i &lt; arr.length; ++i)\r\n\t\t\t{\r\n\t\t\t\tarr[i] = Math.abs(arr[i]);\r\n\t\t\t}\r\n\r\n\t\t\tArrays.sort(arr);\r\n\t\t\tSystem.out.println(&quot;Closest value to 0 = &quot; + arr[0]);","title":"Finding closest number to 0","body":"<p>It can be done simply by making all numbers positive using absolute value then sort the Array:</p>\n<pre><code>        int[] arr = {9, 1, 4, 5, 6, 7, -1, -2};\n\n        for (int i = 0; i &lt; arr.length; ++i)\n        {\n            arr[i] = Math.abs(arr[i]);\n        }\n\n        Arrays.sort(arr);\n        System.out.println(&quot;Closest value to 0 = &quot; + arr[0]);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23110444,"reputation":5,"user_id":17218460,"display_name":"Anderson"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1634918590,"creation_date":1634904132,"answer_id":69676559,"question_id":23760979,"body_markdown":"```java\r\nimport java.math.*;\r\n\r\nclass Solution {\r\n\r\n    static double closestToZero(double[] ts) {\r\n        if (ts.length == 0)\r\n            return 0;\r\n\r\n        double closestToZero = ts[0];\r\n        double absClosest = Math.abs(closestToZero);\r\n\r\n        for (int i = 0; i &lt; ts.length; i++) {\r\n            double absValue = Math.abs(ts[i]);\r\n\r\n            if (absValue &lt; absClosest || absValue == absClosest &amp;&amp; ts[i] &gt; 0) {\r\n                closestToZero = ts[i];\r\n                absClosest = absValue;\r\n            }\r\n        }\r\n\r\n        return closestToZero;\r\n    }\r\n}\r\n```","title":"Finding closest number to 0","body":"<pre class=\"lang-java prettyprint-override\"><code>import java.math.*;\n\nclass Solution {\n\n    static double closestToZero(double[] ts) {\n        if (ts.length == 0)\n            return 0;\n\n        double closestToZero = ts[0];\n        double absClosest = Math.abs(closestToZero);\n\n        for (int i = 0; i &lt; ts.length; i++) {\n            double absValue = Math.abs(ts[i]);\n\n            if (absValue &lt; absClosest || absValue == absClosest &amp;&amp; ts[i] &gt; 0) {\n                closestToZero = ts[i];\n                absClosest = absValue;\n            }\n        }\n\n        return closestToZero;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1872355,"reputation":193,"user_id":1694323,"accept_rate":71,"display_name":"Reza"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640922418,"creation_date":1640922418,"answer_id":70538819,"question_id":23760979,"body_markdown":"This is a very easy to read O(n) solution for this problem.\r\n\r\n        int bigestNegative = Integer.MIN_VALUE;\r\n        int smalestpositive = Integer.MAX_VALUE;\r\n        int result = 0; \r\n\r\n        for (int i = 0; i &lt; n; i++) {\r\n            //if the zero should be considered as result as well\r\n            if ( temperatures[i] == 0 )  { \r\n               result = 0;\r\n               break;\r\n            } \r\n            if ( temperatures[i] &gt; 0 &amp;&amp; temperatures[i] &lt; smalestpositive )  { \r\n                smalestpositive = temperatures[i];\r\n            } \r\n            if ( temperatures[i] &lt; 0 &amp;&amp; temperatures[i] &gt; bigestNegative )  { \r\n                bigestNegative = temperatures[i];\r\n            } \r\n        }\r\n        if( (Math.abs(bigestNegative)) &lt; (Math.abs(smalestpositive)) &amp;&amp; bigestNegative != Integer.MIN_VALUE)\r\n            result = bigestNegative;\r\n        else\r\n            result = smalestpositive;\r\n        System.out.println( result );","title":"Finding closest number to 0","body":"<p>This is a very easy to read O(n) solution for this problem.</p>\n<pre><code>    int bigestNegative = Integer.MIN_VALUE;\n    int smalestpositive = Integer.MAX_VALUE;\n    int result = 0; \n\n    for (int i = 0; i &lt; n; i++) {\n        //if the zero should be considered as result as well\n        if ( temperatures[i] == 0 )  { \n           result = 0;\n           break;\n        } \n        if ( temperatures[i] &gt; 0 &amp;&amp; temperatures[i] &lt; smalestpositive )  { \n            smalestpositive = temperatures[i];\n        } \n        if ( temperatures[i] &lt; 0 &amp;&amp; temperatures[i] &gt; bigestNegative )  { \n            bigestNegative = temperatures[i];\n        } \n    }\n    if( (Math.abs(bigestNegative)) &lt; (Math.abs(smalestpositive)) &amp;&amp; bigestNegative != Integer.MIN_VALUE)\n        result = bigestNegative;\n    else\n        result = smalestpositive;\n    System.out.println( result );\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19184394,"reputation":153,"user_id":14015478,"display_name":"Deep"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640925768,"creation_date":1640925768,"answer_id":70539061,"question_id":23760979,"body_markdown":"First convert the int array into stream. Then sort it with default sorting order. Then filter greater than zero &amp; peek the first element &amp; print it.\r\nDo it in declarative style which describes &#39;what to do&#39;, not &#39;how to do&#39;. This style is more readable.\r\n\r\n    int[] data = {2,3,-2};\r\n    IntStream.of(data)\r\n        .filter(i -&gt; i&gt;0)\r\n        .sorted()\r\n        .limit(1)\r\n        .forEach(System.out::println);","title":"Finding closest number to 0","body":"<p>First convert the int array into stream. Then sort it with default sorting order. Then filter greater than zero &amp; peek the first element &amp; print it.\nDo it in declarative style which describes 'what to do', not 'how to do'. This style is more readable.</p>\n<pre><code>int[] data = {2,3,-2};\nIntStream.of(data)\n    .filter(i -&gt; i&gt;0)\n    .sorted()\n    .limit(1)\n    .forEach(System.out::println);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11125591,"reputation":41,"user_id":8167190,"display_name":"Y.halaoui"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645203379,"creation_date":1645203379,"answer_id":71177203,"question_id":23760979,"body_markdown":"using Set Collection and abs methode to avoid complex algo\r\n\r\npublic static void main(String[] args) {\t\t\r\n\t\t\r\n\t\tint [] temperature={0};\r\n\r\n\t\t***// will erase double values and order them from small to big***\r\n\t\tSet&lt;Integer&gt; s= new HashSet&lt;Integer&gt;();\r\n\t\t\r\n\t\tif (temperature.length!=0) {\r\n\t\t\t\r\n\t\t\tfor(int i=0; i&lt;temperature.length; i++) {\r\n\t\t\t\r\n\t\t\t\t***// push the abs value to the set*** \r\n\t\t\t\ts.add(Math.abs(temperature[i]));\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t// remove a zero if exists in the set \r\n\t\t\twhile(s.contains(0)) {\r\n\t\t\t\ts.remove(0);\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t***// get first (smallest) element of the set : by default it is sorted*** \r\n\t\t\t\r\n\t\t\tif (s.size()!=0) {\r\n\t\t\t\tIterator iter = s.iterator();\r\n\t\t\t\tSystem.out.println(iter.next());\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\telse System.out.println(0);\r\n\t\t\t\r\n\t\t\t\r\n\t\t}\r\n\t\t\r\n\t\telse System.out.println(0);\r\n\t\t\r\n\t\t\r\n\r\n\t}","title":"Finding closest number to 0","body":"<p>using Set Collection and abs methode to avoid complex algo</p>\n<p>public static void main(String[] args) {</p>\n<pre><code>    int [] temperature={0};\n\n    ***// will erase double values and order them from small to big***\n    Set&lt;Integer&gt; s= new HashSet&lt;Integer&gt;();\n    \n    if (temperature.length!=0) {\n        \n        for(int i=0; i&lt;temperature.length; i++) {\n        \n            ***// push the abs value to the set*** \n            s.add(Math.abs(temperature[i]));\n        }\n        \n        // remove a zero if exists in the set \n        while(s.contains(0)) {\n            s.remove(0);\n        }\n        \n        ***// get first (smallest) element of the set : by default it is sorted*** \n        \n        if (s.size()!=0) {\n            Iterator iter = s.iterator();\n            System.out.println(iter.next());\n        }\n        \n        else System.out.println(0);\n        \n        \n    }\n    \n    else System.out.println(0);\n    \n    \n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10583929,"reputation":1,"user_id":14692407,"display_name":"Javier Moreno"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1646138385,"creation_date":1646138385,"answer_id":71308634,"question_id":23760979,"body_markdown":"    //My solution priorizing positive numbers contraint\r\n    \r\n    int closestToZero = Integer.MAX_VALUE;//or we\r\n    \r\n        for(int i = 0 ; i &lt; arrayInt.length; i++) {\r\n        \t\t\t\r\n        \t\tif (Math.abs(arrayInt[i]) &lt; closestToZero \r\n        \t\t\t\t\t|| Math.abs(closestToZero) == Math.abs(arrayInt[i]) &amp;&amp; arrayInt[i] &gt; 0 ) {\r\n        \t\t\t\t\r\n        \t\t\tclosestToZero = arrayInt[i];\r\n        \t\t}\r\n        \t}","title":"Finding closest number to 0","body":"<pre><code>//My solution priorizing positive numbers contraint\n\nint closestToZero = Integer.MAX_VALUE;//or we\n\n    for(int i = 0 ; i &lt; arrayInt.length; i++) {\n                \n            if (Math.abs(arrayInt[i]) &lt; closestToZero \n                        || Math.abs(closestToZero) == Math.abs(arrayInt[i]) &amp;&amp; arrayInt[i] &gt; 0 ) {\n                    \n                closestToZero = arrayInt[i];\n            }\n        }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":21883662,"reputation":9,"user_id":16171559,"display_name":"Jonathan"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1660505963,"creation_date":1660505963,"answer_id":73354639,"question_id":23760979,"body_markdown":"    static int nearToZero(int[] A){\r\n    Arrays.sort(A);\r\n\tint ans = 0;\r\n\tList&lt;Integer&gt; list = Arrays.stream(A).boxed().collect(Collectors.toList());\r\n\tList&lt;Integer&gt; toRemove = new ArrayList&lt;&gt;();\r\n\tList&lt;Integer&gt; newList = new ArrayList&lt;&gt;();\r\n\tfor(int num: list){\r\n\t\tif(newList.contains(num)) toRemove.add(num);\r\n\t\telse newList.add(num);\r\n\t}\r\n\tlist.removeAll(toRemove);\r\n\tfor(int num : list){\r\n\t\tif(num == 0 ) return 0;\r\n\t\tif(ans == 0 )ans = num;\r\n\t\tif(num &lt; 0 &amp;&amp; ans &lt; num) ans = num;\r\n\t\tif(num &lt; ans) ans = num;\r\n\t\tif(num &gt; 0 &amp;&amp; Math.abs(ans) &gt;= num) ans = num;\r\n\t}\r\n\treturn ans;\r\n\t}","title":"Finding closest number to 0","body":"<pre><code>static int nearToZero(int[] A){\nArrays.sort(A);\nint ans = 0;\nList&lt;Integer&gt; list = Arrays.stream(A).boxed().collect(Collectors.toList());\nList&lt;Integer&gt; toRemove = new ArrayList&lt;&gt;();\nList&lt;Integer&gt; newList = new ArrayList&lt;&gt;();\nfor(int num: list){\n    if(newList.contains(num)) toRemove.add(num);\n    else newList.add(num);\n}\nlist.removeAll(toRemove);\nfor(int num : list){\n    if(num == 0 ) return 0;\n    if(ans == 0 )ans = num;\n    if(num &lt; 0 &amp;&amp; ans &lt; num) ans = num;\n    if(num &lt; ans) ans = num;\n    if(num &gt; 0 &amp;&amp; Math.abs(ans) &gt;= num) ans = num;\n}\nreturn ans;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19965421,"reputation":74,"user_id":14632102,"display_name":"Hamza NADIF"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1677490187,"creation_date":1677490187,"answer_id":75578710,"question_id":23760979,"body_markdown":"Powerful solution in java :\r\n\r\n    static int closestToZero(int[] ints) {\r\n\r\n\t\tif((ints == null) || (ints.length == 0)){\r\n\t\t\treturn 0;\r\n\t\t}\r\n\t\tint min = Arrays.stream(ints).min().getAsInt();\r\n\t\tint abs = min;\r\n        for(int v:ints){\r\n\t\t\tif(v == Math.abs(min)){ \r\n              abs = Math.abs(min);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\r\n\t\treturn abs;\r\n    }\r\n","title":"Finding closest number to 0","body":"<p>Powerful solution in java :</p>\n<pre><code>static int closestToZero(int[] ints) {\n\n    if((ints == null) || (ints.length == 0)){\n        return 0;\n    }\n    int min = Arrays.stream(ints).min().getAsInt();\n    int abs = min;\n    for(int v:ints){\n        if(v == Math.abs(min)){ \n          abs = Math.abs(min);\n        }\n    }\n\n\n    return abs;\n}\n</code></pre>\n"}],"owner":{"account_id":3826124,"reputation":185,"user_id":3172930,"accept_rate":67,"display_name":"user3172930"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":146983,"favorite_count":0,"down_vote_count":1,"up_vote_count":12,"accepted_answer_id":23761353,"answer_count":27,"score":11,"last_activity_date":1677490187,"creation_date":1400591958,"question_id":23760979,"body_markdown":"I have an array of integers, and I need to find the one that&#39;s closest to zero (positive integers take priority over negative ones.)\r\n\r\nHere is the code I have so far:\r\n\r\n\r\n    public class CloseToZero {    \r\n    \tpublic static void main(String[] args) {    \r\n    \t\tint[] data = {2,3,-2};    \r\n    \t\tint curr = 0;    \r\n    \t\tint near = data[0];     \r\n    \t\t// find the element nearest to zero    \r\n    \t\tfor ( int i=0; i &lt; data.length; i++ ){    \r\n    \t\t\tcurr = data[i] * data[i];     \r\n    \t\t\tif ( curr &lt;= (near * near) )  {     \r\n    \t\t\t\tnear = data[i]; \r\n    \t\t\t}     \r\n    \t\t}    \r\n    \t\tSystem.out.println( near );    \r\n    \t}    \r\n    }\r\n\r\nCurrently I&#39;m getting a result of -2 but I should be getting 2. What am I doing wrong?","title":"Finding closest number to 0","body":"<p>I have an array of integers, and I need to find the one that's closest to zero (positive integers take priority over negative ones.)</p>\n<p>Here is the code I have so far:</p>\n<pre><code>public class CloseToZero {    \n    public static void main(String[] args) {    \n        int[] data = {2,3,-2};    \n        int curr = 0;    \n        int near = data[0];     \n        // find the element nearest to zero    \n        for ( int i=0; i &lt; data.length; i++ ){    \n            curr = data[i] * data[i];     \n            if ( curr &lt;= (near * near) )  {     \n                near = data[i]; \n            }     \n        }    \n        System.out.println( near );    \n    }    \n}\n</code></pre>\n<p>Currently I'm getting a result of -2 but I should be getting 2. What am I doing wrong?</p>\n"},{"tags":["java","volatile","specifications"],"comments":[{"owner":{"account_id":2478127,"reputation":19514,"user_id":2158288,"display_name":"ZhongYu"},"score":0,"creation_date":1481148011,"post_id":41026442,"comment_id":69263737,"body_markdown":"`never greater than` - until it overflows :)","body":"<code>never greater than</code> - until it overflows :)"},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1481148171,"post_id":41026442,"comment_id":69263819,"body_markdown":"@ZhongYu *one thread repeatedly calls the method one (but no more `than Integer.MAX_VALUE` times in all)*","body":"@ZhongYu <i>one thread repeatedly calls the method one (but no more <code>than Integer.MAX_VALUE</code> times in all)</i>"},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1481149559,"post_id":41026442,"comment_id":69264427,"body_markdown":"There&#39;s no contradiction because the second statement is referring to how the values are *observed*, and two values can never be observed by the same thread at the same time. But I&#39;m equally puzzled by the example in question. It doesn&#39;t seem to demonstrate anything.","body":"There&#39;s no contradiction because the second statement is referring to how the values are <i>observed</i>, and two values can never be observed by the same thread at the same time. But I&#39;m equally puzzled by the example in question. It doesn&#39;t seem to demonstrate anything."},{"owner":{"account_id":8700509,"reputation":367,"user_id":6510582,"accept_rate":100,"display_name":"humme1"},"score":0,"creation_date":1481272635,"post_id":41026442,"comment_id":69319074,"body_markdown":"Thanks everyone for your answers and comments. The discussion below helped me to understand the idea behind volatile much better","body":"Thanks everyone for your answers and comments. The discussion below helped me to understand the idea behind volatile much better"}],"answers":[{"tags":[],"owner":{"account_id":8996375,"reputation":158,"user_id":6706626,"accept_rate":54,"display_name":"Rolando F"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1481141859,"creation_date":1481141859,"answer_id":41026590,"question_id":41026442,"body_markdown":"All dependes on how you are using it. The volatile keyword in Java is used as an indicator to Java compiler and Thread that do not cache value of this variable and always read it from main memory. So if you want to share any variable in which read and write operation is atomic by implementation e.g. read and write in an int or a boolean variable then  you can declare them as volatile variable.\r\n\r\nFrom Java 5 along with major changes like Autoboxing, Enum, Generics and Variable arguments , Java introduces some change in Java Memory Model (JMM), Which guarantees visibility of changes made from one thread to another also as &quot;happens-before&quot; which solves the problem of memory writes that happen in one thread can &quot;leak through&quot; and be seen by another thread.\r\n\r\nThe Java volatile keyword cannot be used with method or class and it can only be used with a variable. Java volatile keyword also guarantees visibility and ordering, after Java 5 write to any volatile variable happens before any read into the volatile variable. By the way use of volatile keyword also prevents compiler or JVM from the reordering of code or moving away them from synchronization barrier.\r\n\r\nImportant points on Volatile keyword in Java\r\n\r\n1. The volatile keyword in Java is only application to a variable and using volatile keyword with class and method is illegal.\r\n\r\n2. volatile keyword in Java guarantees that value of the volatile variable will always be read from main memory and not from Thread&#39;s local cache.\r\n\r\n3. In Java reads and writes are atomic for all variables declared using Java volatile keyword (including long and double variables).\r\n\r\n4. Using the volatile keyword in Java on variables reduces the risk of memory consistency errors because any write to a volatile variable in Java establishes a happens-before relationship with subsequent reads of that same variable.\r\n\r\n\r\n","title":"Can&#39;t understand example of volatile in Java specification","body":"<p>All dependes on how you are using it. The volatile keyword in Java is used as an indicator to Java compiler and Thread that do not cache value of this variable and always read it from main memory. So if you want to share any variable in which read and write operation is atomic by implementation e.g. read and write in an int or a boolean variable then  you can declare them as volatile variable.</p>\n\n<p>From Java 5 along with major changes like Autoboxing, Enum, Generics and Variable arguments , Java introduces some change in Java Memory Model (JMM), Which guarantees visibility of changes made from one thread to another also as \"happens-before\" which solves the problem of memory writes that happen in one thread can \"leak through\" and be seen by another thread.</p>\n\n<p>The Java volatile keyword cannot be used with method or class and it can only be used with a variable. Java volatile keyword also guarantees visibility and ordering, after Java 5 write to any volatile variable happens before any read into the volatile variable. By the way use of volatile keyword also prevents compiler or JVM from the reordering of code or moving away them from synchronization barrier.</p>\n\n<p>Important points on Volatile keyword in Java</p>\n\n<ol>\n<li><p>The volatile keyword in Java is only application to a variable and using volatile keyword with class and method is illegal.</p></li>\n<li><p>volatile keyword in Java guarantees that value of the volatile variable will always be read from main memory and not from Thread's local cache.</p></li>\n<li><p>In Java reads and writes are atomic for all variables declared using Java volatile keyword (including long and double variables).</p></li>\n<li><p>Using the volatile keyword in Java on variables reduces the risk of memory consistency errors because any write to a volatile variable in Java establishes a happens-before relationship with subsequent reads of that same variable.</p></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":113085,"reputation":18448,"user_id":298029,"display_name":"fgb"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1481143679,"creation_date":1481142959,"answer_id":41026894,"question_id":41026442,"body_markdown":"At any one time, then `j` is not greater than `i`.\r\n\r\nThis is different from what method two observes because it is accessing the variables `i` and `j` at different times. `i` is accessed first, and then `j` is accessed slightly later.\r\n\r\nThis isn&#39;t a direct alternative to the synchronized version because the behavior is different. One difference from not using volatile is that without volatile, values of 0 could always be printed. The increment doesn&#39;t ever need to be visible.\r\n\r\nThe example demonstrates the ordering of volatile accesses. An example that requires this could be something like:\r\n\r\n    volatile boolean flag = false;\r\n    volatile int value;\r\n\r\n    // Thread 1\r\n    if(!flag) {\r\n        value = ...;\r\n        flag = true;\r\n    }\r\n\r\n    // Thread 2\r\n    if(flag) {\r\n        System.out.println(value);\r\n        flag = false;\r\n    }\r\n\r\nand thread 2 reads the value that thread 1 set rather than an old value.","title":"Can&#39;t understand example of volatile in Java specification","body":"<p>At any one time, then <code>j</code> is not greater than <code>i</code>.</p>\n\n<p>This is different from what method two observes because it is accessing the variables <code>i</code> and <code>j</code> at different times. <code>i</code> is accessed first, and then <code>j</code> is accessed slightly later.</p>\n\n<p>This isn't a direct alternative to the synchronized version because the behavior is different. One difference from not using volatile is that without volatile, values of 0 could always be printed. The increment doesn't ever need to be visible.</p>\n\n<p>The example demonstrates the ordering of volatile accesses. An example that requires this could be something like:</p>\n\n<pre><code>volatile boolean flag = false;\nvolatile int value;\n\n// Thread 1\nif(!flag) {\n    value = ...;\n    flag = true;\n}\n\n// Thread 2\nif(flag) {\n    System.out.println(value);\n    flag = false;\n}\n</code></pre>\n\n<p>and thread 2 reads the value that thread 1 set rather than an old value.</p>\n"},{"tags":[],"owner":{"account_id":8387653,"reputation":1126,"user_id":6297496,"display_name":"Chetan Jadhav CD"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1481143610,"creation_date":1481143348,"answer_id":41026994,"question_id":41026442,"body_markdown":"&gt; How is j never greater than i?\r\n\r\nLet&#39;s say you execute `one()` only once. During the execution of this method, i is always incremented before j as the increment operations happen one after the other.\r\nIf you are executing `one()` concurrently, each individual method call will wait for other methods in the execution queue to finish writing their values to i or j, depending on which variable the currently executing method is trying to increment. So, all writes to i happen one after the other, and all writes to j happen one after the other. And since within the method body itself i is incremented before j, at a given instant, j will never be greater than i.\r\n\r\n&gt; any given invocation of method two might observe a value for j that is much greater than the value observed for i, how?\r\n\r\nIf method `one()` is being executed in the background while you call `two()`, between the time when `i` is read and then `j` is read, the method one can be executed multiple times. So, when the value of `i` is read it could be the result some invocation of `one()` that happened at time t=0, and when then value of `j` is read, it could be the result of an invocation of `one()` that happened later in time, for example at t=10. Hence, `j` can be greater than `i` in this case in the `println` statement.\r\n\r\n&gt; Why use volatile in lieu of synchronized?\r\n\r\nI will not list all the reasons why anyone should use `volatile` instead of a `synchronized` block. But bear in mind that `volatile` guarantees atomic access to that particular field alone, and does not ensure the atomic execution of a block of code that is not marked as `synchronized`. In this example, access to i and j are synchronized, but the overall operation {i++;j++} isn&#39;t synchronized hence it *apparently* (I use apparently since it is not exactly the same but looks similar) gives the same results as without using the `volatile` keyword.\r\n\r\n","title":"Can&#39;t understand example of volatile in Java specification","body":"<blockquote>\n  <p>How is j never greater than i?</p>\n</blockquote>\n\n<p>Let's say you execute <code>one()</code> only once. During the execution of this method, i is always incremented before j as the increment operations happen one after the other.\nIf you are executing <code>one()</code> concurrently, each individual method call will wait for other methods in the execution queue to finish writing their values to i or j, depending on which variable the currently executing method is trying to increment. So, all writes to i happen one after the other, and all writes to j happen one after the other. And since within the method body itself i is incremented before j, at a given instant, j will never be greater than i.</p>\n\n<blockquote>\n  <p>any given invocation of method two might observe a value for j that is much greater than the value observed for i, how?</p>\n</blockquote>\n\n<p>If method <code>one()</code> is being executed in the background while you call <code>two()</code>, between the time when <code>i</code> is read and then <code>j</code> is read, the method one can be executed multiple times. So, when the value of <code>i</code> is read it could be the result some invocation of <code>one()</code> that happened at time t=0, and when then value of <code>j</code> is read, it could be the result of an invocation of <code>one()</code> that happened later in time, for example at t=10. Hence, <code>j</code> can be greater than <code>i</code> in this case in the <code>println</code> statement.</p>\n\n<blockquote>\n  <p>Why use volatile in lieu of synchronized?</p>\n</blockquote>\n\n<p>I will not list all the reasons why anyone should use <code>volatile</code> instead of a <code>synchronized</code> block. But bear in mind that <code>volatile</code> guarantees atomic access to that particular field alone, and does not ensure the atomic execution of a block of code that is not marked as <code>synchronized</code>. In this example, access to i and j are synchronized, but the overall operation {i++;j++} isn't synchronized hence it <em>apparently</em> (I use apparently since it is not exactly the same but looks similar) gives the same results as without using the <code>volatile</code> keyword.</p>\n"},{"tags":[],"owner":{"account_id":4392279,"reputation":11804,"user_id":3580294,"accept_rate":80,"display_name":"awksp"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1481145907,"creation_date":1481145126,"answer_id":41027459,"question_id":41026442,"body_markdown":"&gt;How is\r\n&gt;\r\n&gt;&gt;`j` never greater than `i`\r\n&gt;\r\n&gt;, but at the same time\r\n&gt;\r\n&gt;&gt;any given invocation of method two might observe a value for `j` that is much &gt;&gt;greater than the value observed for `i`\r\n&gt;\r\n&gt;??\r\n\r\nThe first statement is always true at any given *moment* in the program&#39;s execution, and the second statement may be true for any given *interval* in the program&#39;s execution.\r\n\r\nWhen a volatile variable is written to, writes to both it and everything before it must become visible to other threads (In Java 5+, at least. The explanation doesn&#39;t really change much for versions of Java before that, though). Thus, the increment of `i` *must* be visible by the time `j` is incremented, meaning that `j` can never appear greater than `i` to other threads.\r\n\r\nThe reads of `i` and `j`, though, are not guaranteed to occur at a single moment in the program execution. The read of `i` and `j` may appear to occur very close to each other to the thread executing `two()`, but in reality some arbitrary amount of time may have passed between the reads. For example, `two()` may read `i` when `i = 5` and `j = 5`, but then get &quot;frozen&quot; while other threads execute, changing the values of `i` and `j` to, say, `20` and `19`, respectively. When `two()` resumes, it picks up where it left off and reads `j`, which now has a value of `19`. `two()` doesn&#39;t re-read `i` because as far as it is concerned there was no break in execution, so there is no need to undergo the extra work.\r\n\r\n&gt;Why use volatile then?\r\n\r\nWhile both `volatile` and `synchronized` provide visibility guarantees, the precise semantics are slightly different. `volatile` guarantees that changes made to the variable will be instantly visible to all threads, while `synchronized` guarantees that changes made in its block will be visible to all threads **as long as they synchronize on the same lock**. `synchronized` also provides additional atomicity guarantees that `volatile` does not.\r\n\r\n&gt;Why is this example here as an alternative to synchronized?\r\n\r\n`volatile` is a viable alternative to `synchronized` only if `one()` is executed by a single thread, which is the case here. In this case, only a single thread is ever writing to `i` and `j`, so there is no need for the atomicity guarantees `synchronized` provides. If `one()` were executed by multiple threads, `volatile` wouldn&#39;t work because the read-add-store operations that make up an increment must occur atomically, and `volatile` does not guarantee that.","title":"Can&#39;t understand example of volatile in Java specification","body":"<blockquote>\n  <p>How is</p>\n  \n  <blockquote>\n    <p><code>j</code> never greater than <code>i</code></p>\n  </blockquote>\n  \n  <p>, but at the same time</p>\n  \n  <blockquote>\n    <p>any given invocation of method two might observe a value for <code>j</code> that is much >>greater than the value observed for <code>i</code></p>\n  </blockquote>\n  \n  <p>??</p>\n</blockquote>\n\n<p>The first statement is always true at any given <em>moment</em> in the program's execution, and the second statement may be true for any given <em>interval</em> in the program's execution.</p>\n\n<p>When a volatile variable is written to, writes to both it and everything before it must become visible to other threads (In Java 5+, at least. The explanation doesn't really change much for versions of Java before that, though). Thus, the increment of <code>i</code> <em>must</em> be visible by the time <code>j</code> is incremented, meaning that <code>j</code> can never appear greater than <code>i</code> to other threads.</p>\n\n<p>The reads of <code>i</code> and <code>j</code>, though, are not guaranteed to occur at a single moment in the program execution. The read of <code>i</code> and <code>j</code> may appear to occur very close to each other to the thread executing <code>two()</code>, but in reality some arbitrary amount of time may have passed between the reads. For example, <code>two()</code> may read <code>i</code> when <code>i = 5</code> and <code>j = 5</code>, but then get \"frozen\" while other threads execute, changing the values of <code>i</code> and <code>j</code> to, say, <code>20</code> and <code>19</code>, respectively. When <code>two()</code> resumes, it picks up where it left off and reads <code>j</code>, which now has a value of <code>19</code>. <code>two()</code> doesn't re-read <code>i</code> because as far as it is concerned there was no break in execution, so there is no need to undergo the extra work.</p>\n\n<blockquote>\n  <p>Why use volatile then?</p>\n</blockquote>\n\n<p>While both <code>volatile</code> and <code>synchronized</code> provide visibility guarantees, the precise semantics are slightly different. <code>volatile</code> guarantees that changes made to the variable will be instantly visible to all threads, while <code>synchronized</code> guarantees that changes made in its block will be visible to all threads <strong>as long as they synchronize on the same lock</strong>. <code>synchronized</code> also provides additional atomicity guarantees that <code>volatile</code> does not.</p>\n\n<blockquote>\n  <p>Why is this example here as an alternative to synchronized?</p>\n</blockquote>\n\n<p><code>volatile</code> is a viable alternative to <code>synchronized</code> only if <code>one()</code> is executed by a single thread, which is the case here. In this case, only a single thread is ever writing to <code>i</code> and <code>j</code>, so there is no need for the atomicity guarantees <code>synchronized</code> provides. If <code>one()</code> were executed by multiple threads, <code>volatile</code> wouldn't work because the read-add-store operations that make up an increment must occur atomically, and <code>volatile</code> does not guarantee that.</p>\n"},{"tags":[],"owner":{"account_id":4453461,"reputation":3254,"user_id":3624545,"display_name":"Fedor Losev"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1481275863,"creation_date":1481146190,"answer_id":41027717,"question_id":41026442,"body_markdown":"I think the point of the example is to emphasize that you need to take care and ensure the order when using volatile; the behavior may be counter-intuitive and the example demonstrates it.\r\n\r\nI agree that the wording there is a bit obscure and it is possible to provide more explicit and clear example for multiple cases, but there is no contradiction.\r\n\r\nThe shared value is the value at the same moment. If two threads read values of i and of j at exactly the same moment, the value of j will never be observed greater than i. volatile guarantees keeping order of reads and updates as in the code. \r\n\r\nHowever, in the sample, print `+ i` and `+ j` are two different operations separated by an arbitrary amount of time; hence, j can be observed larger than i, because it can be updated arbitrary number of times after the read of i and before the read of j.\r\n\r\nThe point of using volatile is that when you concurrently update and access volatile variables with the right order, you can make assumptions that are not possible in principle without volatile. \r\n\r\nIn the sample above, the order of access in `two()` does not allow to conclude with a confidence which variable is greater or equal. \r\n\r\nConsider, however, if the sample was changed to `System.out.println(&quot;j=&quot; + j + &quot; i=&quot; + i);`\r\n\r\nHere you **can** assert with a confidence that the printed value of j is never larger than the printed value of i. This assumption will **not** hold without `volatile` for two reasons.\r\n\r\nFirst, updates i++ and j++ can be executed by compiler and hardware in an arbitrary order and in reality may execute as j++;i++. If from other thread you then access j and i after `j++` but before `i++`, you can observe, say, `j=1` and `i=0`, regardless of the access order. `volatile` guarantees that this will not happen and it will execute operations in the order that is written in your source. \r\n\r\nSecond, volatile guarantees that another thread will see most recent values changed by another thread, as long as it accesses it in the later point of time after the last update. Without volatile, there can be no assumptions about the observed value. In theory, the value can stay for another thread zero forever. The program may print two zeros, zero and an arbitrary number, etc. from past updates; the observed value in other threads may be less than the current value that the updater thread sees after an update. volatile guarantees that you will see the value in a second thread after the update in the first.\r\n\r\nWhile the second guarantee may seem as a consequence of the first (the order guarantee), they are in fact orthogonal.\r\n\r\nRegarding `synchronized`, it allows to execute a sequence of non-atomic operations, like `i++;j++` as an atomic operation, e.g. if one thread does synchronized `i++;j++` and another does synchronized `System.out.println(&quot;i=&quot; + i + &quot; j=&quot; + j);`, the first thread may not perform increment sequence while the second prints and the result will be correct. \r\n\r\nBut this comes at a cost. First, synhronized has a performance penalty by itself. Second, more important, not always such behavior is required and the blocked thread wastes time, reducing the system throughput (e.g. you can do so many i++;j++; during System.out).  \r\n","title":"Can&#39;t understand example of volatile in Java specification","body":"<p>I think the point of the example is to emphasize that you need to take care and ensure the order when using volatile; the behavior may be counter-intuitive and the example demonstrates it.</p>\n\n<p>I agree that the wording there is a bit obscure and it is possible to provide more explicit and clear example for multiple cases, but there is no contradiction.</p>\n\n<p>The shared value is the value at the same moment. If two threads read values of i and of j at exactly the same moment, the value of j will never be observed greater than i. volatile guarantees keeping order of reads and updates as in the code. </p>\n\n<p>However, in the sample, print <code>+ i</code> and <code>+ j</code> are two different operations separated by an arbitrary amount of time; hence, j can be observed larger than i, because it can be updated arbitrary number of times after the read of i and before the read of j.</p>\n\n<p>The point of using volatile is that when you concurrently update and access volatile variables with the right order, you can make assumptions that are not possible in principle without volatile. </p>\n\n<p>In the sample above, the order of access in <code>two()</code> does not allow to conclude with a confidence which variable is greater or equal. </p>\n\n<p>Consider, however, if the sample was changed to <code>System.out.println(\"j=\" + j + \" i=\" + i);</code></p>\n\n<p>Here you <strong>can</strong> assert with a confidence that the printed value of j is never larger than the printed value of i. This assumption will <strong>not</strong> hold without <code>volatile</code> for two reasons.</p>\n\n<p>First, updates i++ and j++ can be executed by compiler and hardware in an arbitrary order and in reality may execute as j++;i++. If from other thread you then access j and i after <code>j++</code> but before <code>i++</code>, you can observe, say, <code>j=1</code> and <code>i=0</code>, regardless of the access order. <code>volatile</code> guarantees that this will not happen and it will execute operations in the order that is written in your source. </p>\n\n<p>Second, volatile guarantees that another thread will see most recent values changed by another thread, as long as it accesses it in the later point of time after the last update. Without volatile, there can be no assumptions about the observed value. In theory, the value can stay for another thread zero forever. The program may print two zeros, zero and an arbitrary number, etc. from past updates; the observed value in other threads may be less than the current value that the updater thread sees after an update. volatile guarantees that you will see the value in a second thread after the update in the first.</p>\n\n<p>While the second guarantee may seem as a consequence of the first (the order guarantee), they are in fact orthogonal.</p>\n\n<p>Regarding <code>synchronized</code>, it allows to execute a sequence of non-atomic operations, like <code>i++;j++</code> as an atomic operation, e.g. if one thread does synchronized <code>i++;j++</code> and another does synchronized <code>System.out.println(\"i=\" + i + \" j=\" + j);</code>, the first thread may not perform increment sequence while the second prints and the result will be correct. </p>\n\n<p>But this comes at a cost. First, synhronized has a performance penalty by itself. Second, more important, not always such behavior is required and the blocked thread wastes time, reducing the system throughput (e.g. you can do so many i++;j++; during System.out).  </p>\n"},{"tags":[],"owner":{"account_id":2478127,"reputation":19514,"user_id":2158288,"display_name":"ZhongYu"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1481148087,"creation_date":1481147655,"answer_id":41028071,"question_id":41026442,"body_markdown":"This program does guarantee that method `two()` observes `j &gt;= i-1` (not considering overflow).\r\n\r\nWithout `volatile`, the observed values of  `i,j` could be all over the place.\r\n\r\nThe statement\r\n\r\n&gt; the shared value for j is never greater than that for i\r\n\r\nis very informal, because it means &quot;at the same time&quot;, which is not a defined concept in JMM.\r\n\r\n---\r\n\r\nThe core principle of JMM is about &quot;sequential consistency&quot;. The driving motivation of JMM is\r\n\r\n&gt; [JLS#17](http://docs.oracle.com/javase/specs/jls/se8/html/jls-17.html) - If a program is correctly synchronized, then all executions of the program will appear to be sequentially consistent\r\n\r\n\r\nIn the following program\r\n\r\n    void f()\r\n    {\r\n        int x=0, y=0;\r\n        x++;\r\n        print( x&gt;y );\r\n        y++\r\n    }\r\n\r\n`x&gt;y` will always be observed as `true`. It has to be, if we follow the sequence of actions. Otherwise, there is really no way for us to reason about any (imperative) code. That is &quot;sequential consistency&quot;. \r\n\r\n\r\n&quot;Sequential consistency&quot; is an *observed* property, it doesn&#39;t have to coincide with &quot;real&quot; actions (whatever that means). It is entirely possible that `x&gt;y` is evaluated to be `true` by JVM before `x` is actually incremented (or at all). As long as JVM can guarantee observed sequential consistency, it can optimize actual execution anyway it can, e.g. execute code out of order.\r\n\r\nBut this is for a singlet thread. If multiple threads are reading/writing shared variables, such optimizations of course will completely wreck sequential consistency. We cannot reason about program behavior by thinking of interleaving actions from multiple threads (with actions in the same thread following intra-thread sequence).\r\n\r\nIf we want to guarantee inter-thread sequential consistency of any multi-thread code, we must abandon the optimization techniques developed for single thread. That is going to have severe performance penalty for most programs. And it is also uncalled for -- data exchange among threads is rather rare.\r\n\r\nTherefore, special instructions are created just for establishing inter-thread sequential consistency *when* it is needed. Volatile reads and writes are such actions. All volatile reads and writes obey inter-thread sequential consistency. In this case, it guarantees that `j &gt;= i-1` in `two()`.","title":"Can&#39;t understand example of volatile in Java specification","body":"<p>This program does guarantee that method <code>two()</code> observes <code>j &gt;= i-1</code> (not considering overflow).</p>\n\n<p>Without <code>volatile</code>, the observed values of  <code>i,j</code> could be all over the place.</p>\n\n<p>The statement</p>\n\n<blockquote>\n  <p>the shared value for j is never greater than that for i</p>\n</blockquote>\n\n<p>is very informal, because it means \"at the same time\", which is not a defined concept in JMM.</p>\n\n<hr>\n\n<p>The core principle of JMM is about \"sequential consistency\". The driving motivation of JMM is</p>\n\n<blockquote>\n  <p><a href=\"http://docs.oracle.com/javase/specs/jls/se8/html/jls-17.html\" rel=\"nofollow noreferrer\">JLS#17</a> - If a program is correctly synchronized, then all executions of the program will appear to be sequentially consistent</p>\n</blockquote>\n\n<p>In the following program</p>\n\n<pre><code>void f()\n{\n    int x=0, y=0;\n    x++;\n    print( x&gt;y );\n    y++\n}\n</code></pre>\n\n<p><code>x&gt;y</code> will always be observed as <code>true</code>. It has to be, if we follow the sequence of actions. Otherwise, there is really no way for us to reason about any (imperative) code. That is \"sequential consistency\". </p>\n\n<p>\"Sequential consistency\" is an <em>observed</em> property, it doesn't have to coincide with \"real\" actions (whatever that means). It is entirely possible that <code>x&gt;y</code> is evaluated to be <code>true</code> by JVM before <code>x</code> is actually incremented (or at all). As long as JVM can guarantee observed sequential consistency, it can optimize actual execution anyway it can, e.g. execute code out of order.</p>\n\n<p>But this is for a singlet thread. If multiple threads are reading/writing shared variables, such optimizations of course will completely wreck sequential consistency. We cannot reason about program behavior by thinking of interleaving actions from multiple threads (with actions in the same thread following intra-thread sequence).</p>\n\n<p>If we want to guarantee inter-thread sequential consistency of any multi-thread code, we must abandon the optimization techniques developed for single thread. That is going to have severe performance penalty for most programs. And it is also uncalled for -- data exchange among threads is rather rare.</p>\n\n<p>Therefore, special instructions are created just for establishing inter-thread sequential consistency <em>when</em> it is needed. Volatile reads and writes are such actions. All volatile reads and writes obey inter-thread sequential consistency. In this case, it guarantees that <code>j &gt;= i-1</code> in <code>two()</code>.</p>\n"},{"tags":[],"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1481156567,"creation_date":1481156567,"answer_id":41029716,"question_id":41026442,"body_markdown":"I&#39;d like to propose that it&#39;s a mistake and the examples were supposed to print `j` before `i`:\r\n\r\n    static void two() {\r\n        System.out.println(&quot;j=&quot; + j + &quot; i=&quot; + i);\r\n    }\r\n\r\nThe novelty in the first example is that, due to update reordering, `j` can be greater than `i` *even when observed first*.\r\n\r\nThe final example now makes perfect sense with some minor edits to the explanation (edits and commentary in brackets):\r\n\r\n&gt; This allows method `one` and method `two` to be executed concurrently, but guarantees that accesses to the shared values for `i` and `j` occur exactly as many times, and in exactly the same order, as they appear to occur during execution of the program text by each thread. Therefore, the shared value for `j` is never [observed to be] greater than that for `i`, because each update to `i` must be reflected in the shared value for `i` before the update to `j` occurs. It is possible, however, that any given invocation of method `two` might observe a value for [`i`] that is much greater than the value observed for [`j`], because method `one` might be executed many times between the moment when method `two` fetches the value of [`j`] and the moment when method `two` fetches the value of [`i`].\r\n\r\nThe key point here is that the second update will never be observed before the first update, when using `volatile`. The last sentence about the gap between the two reads is entirely parenthetical, and `i` and `j` were swapped to conform to the erroneous example.","title":"Can&#39;t understand example of volatile in Java specification","body":"<p>I'd like to propose that it's a mistake and the examples were supposed to print <code>j</code> before <code>i</code>:</p>\n\n<pre><code>static void two() {\n    System.out.println(\"j=\" + j + \" i=\" + i);\n}\n</code></pre>\n\n<p>The novelty in the first example is that, due to update reordering, <code>j</code> can be greater than <code>i</code> <em>even when observed first</em>.</p>\n\n<p>The final example now makes perfect sense with some minor edits to the explanation (edits and commentary in brackets):</p>\n\n<blockquote>\n  <p>This allows method <code>one</code> and method <code>two</code> to be executed concurrently, but guarantees that accesses to the shared values for <code>i</code> and <code>j</code> occur exactly as many times, and in exactly the same order, as they appear to occur during execution of the program text by each thread. Therefore, the shared value for <code>j</code> is never [observed to be] greater than that for <code>i</code>, because each update to <code>i</code> must be reflected in the shared value for <code>i</code> before the update to <code>j</code> occurs. It is possible, however, that any given invocation of method <code>two</code> might observe a value for [<code>i</code>] that is much greater than the value observed for [<code>j</code>], because method <code>one</code> might be executed many times between the moment when method <code>two</code> fetches the value of [<code>j</code>] and the moment when method <code>two</code> fetches the value of [<code>i</code>].</p>\n</blockquote>\n\n<p>The key point here is that the second update will never be observed before the first update, when using <code>volatile</code>. The last sentence about the gap between the two reads is entirely parenthetical, and <code>i</code> and <code>j</code> were swapped to conform to the erroneous example.</p>\n"},{"tags":[],"owner":{"account_id":10816011,"reputation":1,"user_id":7954930,"display_name":"mygodccl"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677489963,"creation_date":1677489963,"answer_id":75578683,"question_id":41026442,"body_markdown":"&gt; This allows method one and method two to be executed concurrently, but guarantees that accesses to the shared values for i and j occur exactly as many times, and in exactly the same order, as they appear to occur during execution of the program text by each thread. Therefore, the shared value for j is never greater than that for i, because each update to i must be reflected in the shared value for i before the update to j occurs.\r\n\r\n- this seems to clarify method one(), if **i&amp;j** don&#39;t modified with volatile, it assumes that **i++** executed in CPU-1, but value didn&#39;t update back to physical memory unit, and **j++** executed in CPU-2 and the value immediately update back to physical memory unit. then we get the two values from memory in method two(), we will see **i** is smaller than **j**. \r\n- but if modified with volatile, the i++(++ &amp; update memory) like be bundled in one operation, if ++ happened, the next instruction of CPU must be the operation of updating the value of **i** back to physical memory, in this scenario, we assume that the method one() will not be executed at the gap between **&quot;i=&quot; + i +** and **&quot; j=&quot; + j**, then we try to execute method two and retrieve values of i and j from physical memory, and we will see value of **j** will never greater than **i**.","title":"Can&#39;t understand example of volatile in Java specification","body":"<blockquote>\n<p>This allows method one and method two to be executed concurrently, but guarantees that accesses to the shared values for i and j occur exactly as many times, and in exactly the same order, as they appear to occur during execution of the program text by each thread. Therefore, the shared value for j is never greater than that for i, because each update to i must be reflected in the shared value for i before the update to j occurs.</p>\n</blockquote>\n<ul>\n<li>this seems to clarify method one(), if <strong>i&amp;j</strong> don't modified with volatile, it assumes that <strong>i++</strong> executed in CPU-1, but value didn't update back to physical memory unit, and <strong>j++</strong> executed in CPU-2 and the value immediately update back to physical memory unit. then we get the two values from memory in method two(), we will see <strong>i</strong> is smaller than <strong>j</strong>.</li>\n<li>but if modified with volatile, the i++(++ &amp; update memory) like be bundled in one operation, if ++ happened, the next instruction of CPU must be the operation of updating the value of <strong>i</strong> back to physical memory, in this scenario, we assume that the method one() will not be executed at the gap between <strong>&quot;i=&quot; + i +</strong> and <strong>&quot; j=&quot; + j</strong>, then we try to execute method two and retrieve values of i and j from physical memory, and we will see value of <strong>j</strong> will never greater than <strong>i</strong>.</li>\n</ul>\n"}],"owner":{"account_id":8700509,"reputation":367,"user_id":6510582,"accept_rate":100,"display_name":"humme1"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":866,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"accepted_answer_id":41027717,"answer_count":8,"score":10,"last_activity_date":1677489963,"creation_date":1481141352,"question_id":41026442,"body_markdown":"I got general understanding what `volatile` means in Java. But reading\r\n&lt;a href=&quot;http://docs.oracle.com/javase/specs/jls/se8/html/jls-8.html#jls-8.3.1.4&quot;&gt;Java SE Specification 8.3.1.4&lt;/a&gt; I have a problem understanding the text beneath that certain volatile example.\r\n\r\n    class Test {\r\n        static volatile int i = 0, j = 0;\r\n        static void one() { i++; j++; }\r\n        static void two() {\r\n            System.out.println(&quot;i=&quot; + i + &quot; j=&quot; + j);\r\n        }\r\n    }\r\n\r\n\r\n&gt; This allows method one and method two to be executed concurrently, but\r\n&gt; guarantees that accesses to the shared values for i and j occur\r\n&gt; exactly as many times, and in exactly the same order, as they appear\r\n&gt; to occur during execution of the program text by each thread.\r\n&gt; Therefore, the shared value for j is never greater than that for i,\r\n&gt; because each update to i must be reflected in the shared value for i\r\n&gt; before the update to j occurs. It is possible, however, that any given\r\n&gt; invocation of method two might observe a value for j that is much\r\n&gt; greater than the value observed for i, because method one might be\r\n&gt; executed many times between the moment when method two fetches the\r\n&gt; value of i and the moment when method two fetches the value of j.\r\n\r\nHow is \r\n\r\n&gt; j never greater than i\r\n\r\n, but at the same time \r\n\r\n&gt; any given invocation of method two might observe a value for j that is\r\n&gt; much greater than the value observed for i\r\n\r\n??\r\n\r\nLooks like contradiction.\r\n\r\nI got `j` greater than `i` after running sample program. Why use `volatile` then? It gives almost the same result without `volatile` (also `i` can be greater than `j`, one of previous examples in specs). Why is this example here as an alternative to `synchronized`?","title":"Can&#39;t understand example of volatile in Java specification","body":"<p>I got general understanding what <code>volatile</code> means in Java. But reading\n<a href=\"http://docs.oracle.com/javase/specs/jls/se8/html/jls-8.html#jls-8.3.1.4\" rel=\"nofollow noreferrer\">Java SE Specification 8.3.1.4</a> I have a problem understanding the text beneath that certain volatile example.</p>\n\n<pre><code>class Test {\n    static volatile int i = 0, j = 0;\n    static void one() { i++; j++; }\n    static void two() {\n        System.out.println(\"i=\" + i + \" j=\" + j);\n    }\n}\n</code></pre>\n\n<blockquote>\n  <p>This allows method one and method two to be executed concurrently, but\n  guarantees that accesses to the shared values for i and j occur\n  exactly as many times, and in exactly the same order, as they appear\n  to occur during execution of the program text by each thread.\n  Therefore, the shared value for j is never greater than that for i,\n  because each update to i must be reflected in the shared value for i\n  before the update to j occurs. It is possible, however, that any given\n  invocation of method two might observe a value for j that is much\n  greater than the value observed for i, because method one might be\n  executed many times between the moment when method two fetches the\n  value of i and the moment when method two fetches the value of j.</p>\n</blockquote>\n\n<p>How is </p>\n\n<blockquote>\n  <p>j never greater than i</p>\n</blockquote>\n\n<p>, but at the same time </p>\n\n<blockquote>\n  <p>any given invocation of method two might observe a value for j that is\n  much greater than the value observed for i</p>\n</blockquote>\n\n<p>??</p>\n\n<p>Looks like contradiction.</p>\n\n<p>I got <code>j</code> greater than <code>i</code> after running sample program. Why use <code>volatile</code> then? It gives almost the same result without <code>volatile</code> (also <code>i</code> can be greater than <code>j</code>, one of previous examples in specs). Why is this example here as an alternative to <code>synchronized</code>?</p>\n"},{"tags":["java","spring-boot","spring-security","jwt"],"answers":[{"tags":[],"owner":{"account_id":3120239,"reputation":11,"user_id":2640162,"display_name":"fooshy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677473466,"creation_date":1677471482,"answer_id":75576742,"question_id":75575989,"body_markdown":"Just combing through the code on that repo of the tutorial you are following, the only thinking I can think of is that possibly your **User.builder()** in the register function is referencing the package &quot;**org.springframework.security.core.userdetails**&quot; instead of your own project package.","title":"Cant access User Entity Fields that implements UserDetails","body":"<p>Just combing through the code on that repo of the tutorial you are following, the only thinking I can think of is that possibly your <strong>User.builder()</strong> in the register function is referencing the package &quot;<strong>org.springframework.security.core.userdetails</strong>&quot; instead of your own project package.</p>\n"},{"tags":[],"owner":{"account_id":13867576,"reputation":120,"user_id":10011738,"display_name":"amir rad"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677489781,"creation_date":1677489781,"answer_id":75578657,"question_id":75575989,"body_markdown":"It would implement two different classes, User class and CustomUserDetails class,which CustomUserDeatails extend User class and implement UserDetail.\r\n\r\n    @Entity\r\n    @Table(name = &quot;users&quot;)\r\n    public class User{\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    private int id;\r\n\r\n    @Column(name = &quot;name&quot;)\r\n    private String name;\r\n\r\n    @Column(name = &quot;login&quot;)\r\n    private String login;\r\n\r\n    @Column(name = &quot;password&quot;)\r\n    private String password;\r\n\r\n    + getters and setters\r\n\r\nand then define CustomUsetDetails,\r\n\r\n    public class CustomUserDetails extends User implements UserDetails {\r\n    private static final long serialVersionUID = 1L;\r\n    private Users user;\r\n\r\n    public CustomUserDetails(User user) {\r\n        super(user);\r\n        this.user = user;\r\n    }\r\n\r\n    @Override\r\n    public Collection&lt;? extends GrantedAuthority&gt; getAuthorities() {\r\n       \r\n        return AuthorityUtils.commaSeparatedStringToAuthorityList(&quot;ROLE_ADMIN&quot;);\r\n    }\r\n\r\n    @Override\r\n    public boolean isAccountNonExpired() {\r\n        return true;\r\n    }\r\n\r\n    @Override\r\n    public boolean isAccountNonLocked() {\r\n        return true;\r\n    }\r\n\r\n    @Override\r\n    public boolean isCredentialsNonExpired() {\r\n        return true;\r\n    }\r\n\r\n    @Override\r\n    public boolean isEnabled() {\r\n        // just for example\r\n        return this.user.getActive() == true;\r\n    }\r\n\r\n    @Override\r\n    public String getUsername() {\r\n        return this.user.getUsername();\r\n    }\r\n\r\n    @Override\r\n    public String getPassword() {\r\n        return this.user.getPassword();\r\n    }\r\n\r\n    // Just an example to put some addititional Data to your logged in user\r\n\r\n    public String getUserDatabase() {\r\n        return &quot;usertable&quot; + Integer.toString(1 + this.user.getUserId());\r\n    }\r\n    }\r\n\r\n","title":"Cant access User Entity Fields that implements UserDetails","body":"<p>It would implement two different classes, User class and CustomUserDetails class,which CustomUserDeatails extend User class and implement UserDetail.</p>\n<pre><code>@Entity\n@Table(name = &quot;users&quot;)\npublic class User{\n@Id\n@GeneratedValue(strategy = GenerationType.AUTO)\nprivate int id;\n\n@Column(name = &quot;name&quot;)\nprivate String name;\n\n@Column(name = &quot;login&quot;)\nprivate String login;\n\n@Column(name = &quot;password&quot;)\nprivate String password;\n\n+ getters and setters\n</code></pre>\n<p>and then define CustomUsetDetails,</p>\n<pre><code>public class CustomUserDetails extends User implements UserDetails {\nprivate static final long serialVersionUID = 1L;\nprivate Users user;\n\npublic CustomUserDetails(User user) {\n    super(user);\n    this.user = user;\n}\n\n@Override\npublic Collection&lt;? extends GrantedAuthority&gt; getAuthorities() {\n   \n    return AuthorityUtils.commaSeparatedStringToAuthorityList(&quot;ROLE_ADMIN&quot;);\n}\n\n@Override\npublic boolean isAccountNonExpired() {\n    return true;\n}\n\n@Override\npublic boolean isAccountNonLocked() {\n    return true;\n}\n\n@Override\npublic boolean isCredentialsNonExpired() {\n    return true;\n}\n\n@Override\npublic boolean isEnabled() {\n    // just for example\n    return this.user.getActive() == true;\n}\n\n@Override\npublic String getUsername() {\n    return this.user.getUsername();\n}\n\n@Override\npublic String getPassword() {\n    return this.user.getPassword();\n}\n\n// Just an example to put some addititional Data to your logged in user\n\npublic String getUserDatabase() {\n    return &quot;usertable&quot; + Integer.toString(1 + this.user.getUserId());\n}\n}\n</code></pre>\n"}],"owner":{"account_id":20952991,"reputation":1,"user_id":15394216,"display_name":"Click me Plzzz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":390,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":2,"score":-2,"last_activity_date":1677489781,"creation_date":1677459257,"question_id":75575989,"body_markdown":"So i have this entity on spring boot \r\n\r\n\r\n    @Table(name = &quot;user_table&quot;)\r\n    @Data\r\n    @Builder\r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    @Entity\r\n    public class User implements UserDetails {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.SEQUENCE)\r\n    @Column(name = &quot;user_id&quot;)\r\n    private Long userId;\r\n    private String name;\r\n\r\n    private String email;\r\n\r\n    private String password;\r\n\r\n    @Enumerated(EnumType.STRING)\r\n    private Role role;\r\n\r\n    @ManyToMany\r\n    @JoinTable(\r\n        name = &quot;user_course&quot;,\r\n        joinColumns = @JoinColumn(name = &quot;user_id&quot;),\r\n        inverseJoinColumns = @JoinColumn(name = &quot;course_id&quot;)\r\n    )\r\n    private List &lt; Course &gt; courses;\r\n\r\n    public List &lt; Course &gt; getCourses() {\r\n        return courses;\r\n    }\r\n\r\n    public void setCourses(List &lt; Course &gt; courses) {\r\n        this.courses = courses;\r\n    }\r\n\r\n    public Long getUserId() {\r\n        return userId;\r\n    }\r\n\r\n    public void setUserId(Long userId) {\r\n        this.userId = userId;\r\n    }\r\n\r\n    @Override\r\n    public Collection &lt; ? extends GrantedAuthority &gt; getAuthorities() {\r\n        return List.of(new SimpleGrantedAuthority(role.name()));\r\n    }\r\n\r\n    @Override\r\n    public String getPassword() {\r\n        return password;\r\n    }\r\n\r\n    @Override\r\n    public String getUsername() {\r\n        return email;\r\n    }\r\n\r\n    @Override\r\n    public boolean isAccountNonExpired() {\r\n        return true;\r\n    }\r\n\r\n    @Override\r\n    public boolean isAccountNonLocked() {\r\n        return true;\r\n    }\r\n\r\n    @Override\r\n    public boolean isCredentialsNonExpired() {\r\n        return true;\r\n    }\r\n\r\n    @Override\r\n    public boolean isEnabled() {\r\n        return true;\r\n    }\r\n\r\n    public void setPassword(String password) {\r\n        this.password = password;\r\n    }\r\n\r\n    public String getName() {\r\n        return name;\r\n    }\r\n\r\n    public void setName(String name) {\r\n        this.name = name;\r\n    }\r\n\r\n    public String getEmail() {\r\n        return email;\r\n    }\r\n\r\n    public void setEmail(String email) {\r\n        this.email = email;\r\n    }\r\n\r\n    public Role getRole() {\r\n        return role;\r\n    }\r\n\r\n    public void setRole(Role role) {\r\n        this.role = role;\r\n    }\r\n\r\n    }\r\n\r\nim following  amigoscode tutorial on jwt/spring security [amigo](https://www.youtube.com/watch?v=KxqlJblhzfI)\r\n\r\n    public AuthenticationResponse register(RegisterRequest request) {\r\n    var user = User.builder()\r\n        .name(request.getName()) //catnt acces this name field\r\n        .email(request.getEmail()) //catnt acces this name field    \r\n        .password(request.getPassword()) // i can access this filed\r\n        .role(request.getRole()) //i can access this field\r\n        ......\r\n\r\n     }\r\n\r\ni noticed that it can only access the fields from UserDetails but not the fields of my entity,\r\nis there some anotation i missed on my entity or the problem is somehwhere else\r\n\r\n\r\nthank you for you attention\r\n\r\n\r\n\r\n\r\n\r\ni want to access the fields of my entity ","title":"Cant access User Entity Fields that implements UserDetails","body":"<p>So i have this entity on spring boot</p>\n<pre><code>@Table(name = &quot;user_table&quot;)\n@Data\n@Builder\n@NoArgsConstructor\n@AllArgsConstructor\n@Entity\npublic class User implements UserDetails {\n\n@Id\n@GeneratedValue(strategy = GenerationType.SEQUENCE)\n@Column(name = &quot;user_id&quot;)\nprivate Long userId;\nprivate String name;\n\nprivate String email;\n\nprivate String password;\n\n@Enumerated(EnumType.STRING)\nprivate Role role;\n\n@ManyToMany\n@JoinTable(\n    name = &quot;user_course&quot;,\n    joinColumns = @JoinColumn(name = &quot;user_id&quot;),\n    inverseJoinColumns = @JoinColumn(name = &quot;course_id&quot;)\n)\nprivate List &lt; Course &gt; courses;\n\npublic List &lt; Course &gt; getCourses() {\n    return courses;\n}\n\npublic void setCourses(List &lt; Course &gt; courses) {\n    this.courses = courses;\n}\n\npublic Long getUserId() {\n    return userId;\n}\n\npublic void setUserId(Long userId) {\n    this.userId = userId;\n}\n\n@Override\npublic Collection &lt; ? extends GrantedAuthority &gt; getAuthorities() {\n    return List.of(new SimpleGrantedAuthority(role.name()));\n}\n\n@Override\npublic String getPassword() {\n    return password;\n}\n\n@Override\npublic String getUsername() {\n    return email;\n}\n\n@Override\npublic boolean isAccountNonExpired() {\n    return true;\n}\n\n@Override\npublic boolean isAccountNonLocked() {\n    return true;\n}\n\n@Override\npublic boolean isCredentialsNonExpired() {\n    return true;\n}\n\n@Override\npublic boolean isEnabled() {\n    return true;\n}\n\npublic void setPassword(String password) {\n    this.password = password;\n}\n\npublic String getName() {\n    return name;\n}\n\npublic void setName(String name) {\n    this.name = name;\n}\n\npublic String getEmail() {\n    return email;\n}\n\npublic void setEmail(String email) {\n    this.email = email;\n}\n\npublic Role getRole() {\n    return role;\n}\n\npublic void setRole(Role role) {\n    this.role = role;\n}\n\n}\n</code></pre>\n<p>im following  amigoscode tutorial on jwt/spring security <a href=\"https://www.youtube.com/watch?v=KxqlJblhzfI\" rel=\"nofollow noreferrer\">amigo</a></p>\n<pre><code>public AuthenticationResponse register(RegisterRequest request) {\nvar user = User.builder()\n    .name(request.getName()) //catnt acces this name field\n    .email(request.getEmail()) //catnt acces this name field    \n    .password(request.getPassword()) // i can access this filed\n    .role(request.getRole()) //i can access this field\n    ......\n\n }\n</code></pre>\n<p>i noticed that it can only access the fields from UserDetails but not the fields of my entity,\nis there some anotation i missed on my entity or the problem is somehwhere else</p>\n<p>thank you for you attention</p>\n<p>i want to access the fields of my entity</p>\n"},{"tags":["java","jar","decompiling","g-code"],"answers":[{"tags":[],"owner":{"account_id":12021992,"reputation":11,"user_id":8795168,"display_name":"Joacim Breiler"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1555249958,"creation_date":1529039315,"answer_id":50869415,"question_id":44933131,"body_markdown":"Yes there is a new feature for running CLI-commands, download the latest nightly build of [Universal G-code Sender Classic][1] and run the follwing:\r\n```bash\r\n# java -cp UniversalGcodeSender.jar com.willwinder.ugs.cli.TerminalClient --help\r\n```\r\n\r\nThis will print the available parameters and options:\r\n```bash\r\n -b,--baud &lt;baudrate&gt;           Baud rate to connect with.\r\n -c,--controller &lt;controller&gt;   What type of controller firmware we are\r\n                                connecting to, defaults to &quot;GRBL&quot;. These\r\n                                are the available firmwares: [GRBL, TinyG,\r\n                                Testing (Delay), Smoothie Board, Testing]\r\n -d,--daemon                    Starts in daemon mode providing a web\r\n                                pendant UI\r\n -dr,--driver &lt;driver&gt;          Sets and saves the connection driver\r\n                                setting. These are the available drivers:\r\n                                [JSERIALCOMM, JSSC, TCP]\r\n -f,--file &lt;filename&gt;           Opens a file for streaming to controller\r\n                                and will exit upon completion.\r\n -h,--help                      Prints the help information.\r\n -ho,--home                     If a homing process should be done before\r\n                                any gcode files are sent to the\r\n                                controller.\r\n -l,--list                      Lists all available ports.\r\n -p,--port &lt;port&gt;               Which port for the controller to connect\r\n                                to. I.e /dev/ttyUSB0 (on Unix-like systems\r\n                                or COM4 (on windows).\r\n -pp,--print-progressbar        Prints the progress of the file stream\r\n -ps,--print-stream             Prints the streamed lines to console\r\n -r,--reset-alarm               Resets any alarm\r\n -v,--version                   Prints the software version.\r\n -w,--workspace &lt;dir&gt;           Sets and saves the workspace directory\r\n                                setting\r\n```\r\n\r\nSending a file can be done using the following command:\r\n```bash\r\n# java -cp UniversalGcodeSender.jar com.willwinder.ugs.cli.TerminalClient --controller GRBL --port /dev/ttyUSB0 --baud 115200 --print-progressbar --file test.gcode\r\n\r\nConnected to &quot;Grbl 0.9z&quot; on  baud 115200\r\nRunning file &quot;test.gcode&quot;\r\ntest.gcode  52% │██████████████████████▉                    │  55/105 (0:00:06 / 0:00:05) \r\n```\r\n\r\n\r\n  [1]: https://github.com/winder/Universal-G-Code-Sender#downloads","title":"Is there anyway to auto-run a file in Universal Gcode Sender on the program&#39;s startup instead of having to upload a file?","body":"<p>Yes there is a new feature for running CLI-commands, download the latest nightly build of <a href=\"https://github.com/winder/Universal-G-Code-Sender#downloads\" rel=\"nofollow noreferrer\">Universal G-code Sender Classic</a> and run the follwing:</p>\n\n<pre class=\"lang-sh prettyprint-override\"><code># java -cp UniversalGcodeSender.jar com.willwinder.ugs.cli.TerminalClient --help\n</code></pre>\n\n<p>This will print the available parameters and options:</p>\n\n<pre class=\"lang-sh prettyprint-override\"><code> -b,--baud &lt;baudrate&gt;           Baud rate to connect with.\n -c,--controller &lt;controller&gt;   What type of controller firmware we are\n                                connecting to, defaults to \"GRBL\". These\n                                are the available firmwares: [GRBL, TinyG,\n                                Testing (Delay), Smoothie Board, Testing]\n -d,--daemon                    Starts in daemon mode providing a web\n                                pendant UI\n -dr,--driver &lt;driver&gt;          Sets and saves the connection driver\n                                setting. These are the available drivers:\n                                [JSERIALCOMM, JSSC, TCP]\n -f,--file &lt;filename&gt;           Opens a file for streaming to controller\n                                and will exit upon completion.\n -h,--help                      Prints the help information.\n -ho,--home                     If a homing process should be done before\n                                any gcode files are sent to the\n                                controller.\n -l,--list                      Lists all available ports.\n -p,--port &lt;port&gt;               Which port for the controller to connect\n                                to. I.e /dev/ttyUSB0 (on Unix-like systems\n                                or COM4 (on windows).\n -pp,--print-progressbar        Prints the progress of the file stream\n -ps,--print-stream             Prints the streamed lines to console\n -r,--reset-alarm               Resets any alarm\n -v,--version                   Prints the software version.\n -w,--workspace &lt;dir&gt;           Sets and saves the workspace directory\n                                setting\n</code></pre>\n\n<p>Sending a file can be done using the following command:</p>\n\n<pre class=\"lang-sh prettyprint-override\"><code># java -cp UniversalGcodeSender.jar com.willwinder.ugs.cli.TerminalClient --controller GRBL --port /dev/ttyUSB0 --baud 115200 --print-progressbar --file test.gcode\n\nConnected to \"Grbl 0.9z\" on  baud 115200\nRunning file \"test.gcode\"\ntest.gcode  52% │██████████████████████▉                    │  55/105 (0:00:06 / 0:00:05) \n</code></pre>\n"}],"owner":{"account_id":8965980,"reputation":178,"user_id":6686617,"display_name":"Giga Chad Coding"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1634,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1677489719,"creation_date":1499277880,"question_id":44933131,"body_markdown":"I have a file &quot;myFile.gcode&quot; which contains some G-code commands. As it stands Universal Gcode Sender allows the user to upload a file to be executed. However I would like &quot;myFile.gcode&quot; to be run as soon as the program starts up instead of me having to upload it.\r\n\r\nIs this possible with the out-of-the-box .jar file?\r\n\r\n.jar available at https://winder.github.io/ugs_website/\r\n\r\nIf not I have the following idea,\r\n\r\n- Trace through the code and reverse engineer it to auto run the file. To do this I decompiled the .jar file, but when tracing through the code I&#39;m having trouble finding the starting point (main class) of the code. \r\n\r\nIn summary, is this possible? \r\n\r\nAnd, what could make tracing this code easier? ","title":"Is there anyway to auto-run a file in Universal Gcode Sender on the program&#39;s startup instead of having to upload a file?","body":"<p>I have a file \"myFile.gcode\" which contains some G-code commands. As it stands Universal Gcode Sender allows the user to upload a file to be executed. However I would like \"myFile.gcode\" to be run as soon as the program starts up instead of me having to upload it.</p>\n\n<p>Is this possible with the out-of-the-box .jar file?</p>\n\n<p>.jar available at <a href=\"https://winder.github.io/ugs_website/\" rel=\"nofollow noreferrer\">https://winder.github.io/ugs_website/</a></p>\n\n<p>If not I have the following idea,</p>\n\n<ul>\n<li>Trace through the code and reverse engineer it to auto run the file. To do this I decompiled the .jar file, but when tracing through the code I'm having trouble finding the starting point (main class) of the code. </li>\n</ul>\n\n<p>In summary, is this possible? </p>\n\n<p>And, what could make tracing this code easier? </p>\n"},{"tags":["java","openapi","openapi-generator-maven-plugin","apiclient"],"comments":[{"owner":{"account_id":1986826,"reputation":2226,"user_id":4175822,"display_name":"spacether"},"score":0,"creation_date":1677464006,"post_id":75575741,"comment_id":133336980,"body_markdown":"Please describe which language and generator you are using. That info is necessary for someone to be able to answer you.","body":"Please describe which language and generator you are using. That info is necessary for someone to be able to answer you."}],"answers":[{"tags":[],"owner":{"account_id":1531125,"reputation":613,"user_id":8230706,"accept_rate":50,"display_name":"Ghassen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1677488830,"creation_date":1677488830,"answer_id":75578521,"question_id":75575741,"body_markdown":"The solution that I found is to inject 2 beans of type `UsersApi` and `ApiClient` this way :\r\n\r\n    @Configuration\r\n    public class ApiClientCustomConfig {\r\n    \r\n        @Value(&quot;${api.credentials.username}&quot;)\r\n        private String username;\r\n    \r\n        @Value(&quot;${api.credentials.password}&quot;)\r\n        private String password;\r\n    \r\n    \r\n        @Bean\r\n        @Qualifier(&quot;usersApi&quot;)\r\n        public UsersApi usersApi(RestTemplate restTemplate) {\r\n            return new UsersApi(apiClient(restTemplate));\r\n        }\r\n    \r\n        @Bean\r\n        public ApiClient apiClient(RestTemplate restTemplate) {\r\n            ApiClient apiClient = new ApiClient(restTemplate);\r\n            apiClient.setUsername(username);\r\n            apiClient.setPassword(password);\r\n            return apiClient;\r\n        }\r\n    }","title":"How to pass credentials for ApiClient generated by openapi-maven-generator-plugin?","body":"<p>The solution that I found is to inject 2 beans of type <code>UsersApi</code> and <code>ApiClient</code> this way :</p>\n<pre><code>@Configuration\npublic class ApiClientCustomConfig {\n\n    @Value(&quot;${api.credentials.username}&quot;)\n    private String username;\n\n    @Value(&quot;${api.credentials.password}&quot;)\n    private String password;\n\n\n    @Bean\n    @Qualifier(&quot;usersApi&quot;)\n    public UsersApi usersApi(RestTemplate restTemplate) {\n        return new UsersApi(apiClient(restTemplate));\n    }\n\n    @Bean\n    public ApiClient apiClient(RestTemplate restTemplate) {\n        ApiClient apiClient = new ApiClient(restTemplate);\n        apiClient.setUsername(username);\n        apiClient.setPassword(password);\n        return apiClient;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":1531125,"reputation":613,"user_id":8230706,"accept_rate":50,"display_name":"Ghassen"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":532,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":75578521,"answer_count":1,"score":0,"last_activity_date":1677489029,"creation_date":1677455545,"question_id":75575741,"body_markdown":"I am using `openapi-generator-maven-plugin` to generate an api client from an existing yaml specification [file][1] in a Java and SpringBoot project .\r\n\r\nThe API endpoint are protected by Basic HTTP Security scheme (username and password) this way :\r\n\r\n    securitySchemes:\r\n        BasicAuth:\r\n            type: http\r\n            scheme: basic\r\n\r\nThe generated client (`UsersApi` in my case) comes with an `ApiClient` class which will use a `RestTemplate` to perform all the REST calls. \r\n\r\nIs there a way to pass the credentials to `ApiClient` so I will be able to reach the external API.\r\n\r\n  [1]: https://sharetext.me/hpbcftqae8","title":"How to pass credentials for ApiClient generated by openapi-maven-generator-plugin?","body":"<p>I am using <code>openapi-generator-maven-plugin</code> to generate an api client from an existing yaml specification <a href=\"https://sharetext.me/hpbcftqae8\" rel=\"nofollow noreferrer\">file</a> in a Java and SpringBoot project .</p>\n<p>The API endpoint are protected by Basic HTTP Security scheme (username and password) this way :</p>\n<pre><code>securitySchemes:\n    BasicAuth:\n        type: http\n        scheme: basic\n</code></pre>\n<p>The generated client (<code>UsersApi</code> in my case) comes with an <code>ApiClient</code> class which will use a <code>RestTemplate</code> to perform all the REST calls.</p>\n<p>Is there a way to pass the credentials to <code>ApiClient</code> so I will be able to reach the external API.</p>\n"},{"tags":["java","json","spring","spring-boot","jackson"],"answers":[{"tags":[],"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1677488785,"creation_date":1677483805,"answer_id":75577859,"question_id":75577737,"body_markdown":"Change the configuration of the `ObjectMapper` and add\r\n\r\n    mapper.configure(JsonParser.Feature.ALLOW_BACKSLASH_ESCAPING_ANY_CHARACTER, true); \r\n\r\nYou can add something like\r\n\r\n    @Bean\r\n    public Jackson2ObjectMapperBuilderCustomizer jsonCustomizer() {\r\n        return builder -&gt; builder.json().featuresToEnable(JsonParser.Feature.ALLOW_BACKSLASH_ESCAPING_ANY_CHARACTER)\r\n    }\r\n\r\nto a `@Configuration` annotated class to reconfigure the mapper","title":"org.springframework.http.converter.HttpMessageNotReadableException: Found strange character","body":"<p>Change the configuration of the <code>ObjectMapper</code> and add</p>\n<pre><code>mapper.configure(JsonParser.Feature.ALLOW_BACKSLASH_ESCAPING_ANY_CHARACTER, true); \n</code></pre>\n<p>You can add something like</p>\n<pre><code>@Bean\npublic Jackson2ObjectMapperBuilderCustomizer jsonCustomizer() {\n    return builder -&gt; builder.json().featuresToEnable(JsonParser.Feature.ALLOW_BACKSLASH_ESCAPING_ANY_CHARACTER)\n}\n</code></pre>\n<p>to a <code>@Configuration</code> annotated class to reconfigure the mapper</p>\n"}],"owner":{"account_id":25537904,"reputation":27,"user_id":19324621,"display_name":"Kira Sign"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":244,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":75577859,"answer_count":1,"score":2,"last_activity_date":1677488785,"creation_date":1677482926,"question_id":75577737,"body_markdown":"I received the following when sending POST request\r\n\r\n&gt;  Resolved [org.springframework.http.converter.HttpMessageNotReadableException: I/O error while reading input message; nested exception is java.io.IOException: Found strange data: ?Color]\r\nMy request body\r\n```\r\n{\r\n    &quot;name&quot;: &quot;\\bColor&quot;,\r\n    &quot;displayName&quot;: &quot;\\bColor&quot;,\r\n    &quot;position&quot;: 6\r\n}\r\n```\r\n\r\nController\r\n``` \r\n    @PostMapping(&quot;/name&quot;)\r\n    public BaseResponseV2 saveNameField(@RequestBody NameField nameField) {\r\n        nameService.saveFilterOption(nameField);\r\n        return BaseResponseV2.makeResponse(&quot;DONE&quot;);\r\n    }\r\n```\r\nNameField:\r\n```\r\n\tprivate String name;\r\n\tprivate String displayName;\r\n\tprivate int position;\r\n```\r\nSo How do I pass the special/strange character to RequestBody","title":"org.springframework.http.converter.HttpMessageNotReadableException: Found strange character","body":"<p>I received the following when sending POST request</p>\n<blockquote>\n<p>Resolved [org.springframework.http.converter.HttpMessageNotReadableException: I/O error while reading input message; nested exception is java.io.IOException: Found strange data: ?Color]\nMy request body</p>\n</blockquote>\n<pre><code>{\n    &quot;name&quot;: &quot;\\bColor&quot;,\n    &quot;displayName&quot;: &quot;\\bColor&quot;,\n    &quot;position&quot;: 6\n}\n</code></pre>\n<p>Controller</p>\n<pre><code>    @PostMapping(&quot;/name&quot;)\n    public BaseResponseV2 saveNameField(@RequestBody NameField nameField) {\n        nameService.saveFilterOption(nameField);\n        return BaseResponseV2.makeResponse(&quot;DONE&quot;);\n    }\n</code></pre>\n<p>NameField:</p>\n<pre><code>    private String name;\n    private String displayName;\n    private int position;\n</code></pre>\n<p>So How do I pass the special/strange character to RequestBody</p>\n"},{"tags":["java","spring-cloud-gateway"],"comments":[{"owner":{"account_id":3106126,"reputation":31241,"user_id":2628868,"accept_rate":84,"display_name":"Dolphin"},"score":0,"creation_date":1630235725,"post_id":58764503,"comment_id":121896122,"body_markdown":"do you konw how to config right now? @Silk0vsky","body":"do you konw how to config right now? @Silk0vsky"},{"owner":{"account_id":8703816,"reputation":961,"user_id":6512661,"accept_rate":61,"display_name":"Silk0vsky"},"score":0,"creation_date":1635256494,"post_id":58764503,"comment_id":123244436,"body_markdown":"Hi @Dolphin, sorry for late response. I&#39;ve recreated my solution as an answer. Please share yours if you have one.","body":"Hi @Dolphin, sorry for late response. I&#39;ve recreated my solution as an answer. Please share yours if you have one."}],"answers":[{"tags":[],"owner":{"account_id":16020123,"reputation":33,"user_id":11561821,"display_name":"R&#233;mi G&#233;libert"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1584034820,"creation_date":1584034820,"answer_id":60659286,"question_id":58764503,"body_markdown":"I am in the exactly same position. Did you find the trick to solve this ?\r\nI know we can define all route in the RouteLocator like this : \r\n    \r\n\r\n    /**\r\n     * Route constructions.\r\n     *\r\n     * @param builder\r\n     *                the builder instance\r\n     * @return the final route locator\r\n     */\r\n    @Bean\r\n    public RouteLocator gatewayRoutes(final RouteLocatorBuilder builder) {\r\n    return builder.routes()\r\n        // Declare First service\r\n    \t.route(r -&gt; r.path(&quot;/prefix/myservice1-service/**&quot;)\r\n    \t\t.filters(f -&gt; f.rewritePath(&quot;/prefix/myservicename1-service/(?&lt;remaining&gt;.*)&quot;, &quot;/${remaining}&quot;))\r\n    \t\t.uri(&quot;lb://myservice1&quot;).id(&quot;myservice1&quot;))\r\n    \r\n        // Declare Second service\r\n    \t.route(r -&gt; r.path(&quot;/prefix/myservice2-service/**&quot;)\r\n    \t\t.filters(f -&gt; f.rewritePath(&quot;/prefix/myservicename2-service/(?&lt;remaining&gt;.*)&quot;, &quot;/${remaining}&quot;))\r\n    \t\t.uri(&quot;lb://myservice2&quot;).id(&quot;myservice2&quot;))\r\n\r\n        // Etc... Then build\r\n        .build();\r\n    }\r\n\r\nI am not sure but maybe you need to disable the discovery locator in order to do that properly.\r\n\r\n    spring:\r\n      cloud:\r\n        gateway:\r\n          discovery:\r\n            locator:\r\n              enabled: false\r\n\r\nbut it could be great to get a less dirty solution.","title":"How to rewrite serviceId for Spring Cloud Gateway with service discovery","body":"<p>I am in the exactly same position. Did you find the trick to solve this ?\nI know we can define all route in the RouteLocator like this : </p>\n\n<pre><code>/**\n * Route constructions.\n *\n * @param builder\n *                the builder instance\n * @return the final route locator\n */\n@Bean\npublic RouteLocator gatewayRoutes(final RouteLocatorBuilder builder) {\nreturn builder.routes()\n    // Declare First service\n    .route(r -&gt; r.path(\"/prefix/myservice1-service/**\")\n        .filters(f -&gt; f.rewritePath(\"/prefix/myservicename1-service/(?&lt;remaining&gt;.*)\", \"/${remaining}\"))\n        .uri(\"lb://myservice1\").id(\"myservice1\"))\n\n    // Declare Second service\n    .route(r -&gt; r.path(\"/prefix/myservice2-service/**\")\n        .filters(f -&gt; f.rewritePath(\"/prefix/myservicename2-service/(?&lt;remaining&gt;.*)\", \"/${remaining}\"))\n        .uri(\"lb://myservice2\").id(\"myservice2\"))\n\n    // Etc... Then build\n    .build();\n}\n</code></pre>\n\n<p>I am not sure but maybe you need to disable the discovery locator in order to do that properly.</p>\n\n<pre><code>spring:\n  cloud:\n    gateway:\n      discovery:\n        locator:\n          enabled: false\n</code></pre>\n\n<p>but it could be great to get a less dirty solution.</p>\n"},{"tags":[],"owner":{"account_id":8703816,"reputation":961,"user_id":6512661,"accept_rate":61,"display_name":"Silk0vsky"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1635254119,"creation_date":1635254119,"answer_id":69723808,"question_id":58764503,"body_markdown":"In addition to @R&#233;mi G&#233;libert variant, we can implement our own **RouteLocator**. It allows you to specify predicate for your routes selection and special filter that able to **mutate request as you wish**. \r\n\r\nThis way we can extract our routing configuration to some kind of `application.properties`.\r\n\r\n\r\n    @Component\r\n    public class CustomRouteLocator implements RouteLocator {\r\n    \r\n      Map&lt;String, Pattern&gt; prefixPatternsByServiceNames; // external configuration\r\n      Map&lt;String, String&gt; prefixesByServiceNames;        // external configuration \r\n      Set&lt;String&gt; servicesNames;                         // external configuration\r\n    \r\n      @Override\r\n      public Flux&lt;Route&gt; getRoutes() {\r\n    \r\n        return Flux.fromIterable(servicesNames)\r\n            .map(serviceName -&gt; Route.async()\r\n                .id(&quot;ROUTE_&quot; + serviceName)\r\n                .predicate(exchange -&gt; {\r\n                  String path = exchange.getRequest().getPath().toString();\r\n                  return prefixPatternsByServiceNames.get(serviceName).matcher(path).find();\r\n                })\r\n                .filter((exchange, chain) -&gt; {\r\n                  ServerHttpRequest origRequest = exchange.getRequest();\r\n                  String query = origRequest.getURI().getQuery();\r\n                  String originalPath = origRequest.getPath().toString();\r\n                  String newPath = originalPath.substring(prefixesByServiceNames.get(serviceName).length());\r\n    \r\n                  ServerHttpRequest request = exchange.getRequest().mutate()\r\n                      .path(query == null? newPath : newPath + &quot;?&quot; + query)\r\n                      .build();\r\n                  return chain.filter(exchange.mutate()\r\n                      .request(request)\r\n                      .build());\r\n                })\r\n                .uri(&quot;http://&quot; + serviceName)\r\n                .build());\r\n      }\r\n    \r\n    }\r\n\r\nPlease note: \r\n\r\nMy gateway relies on kubernetes service discovery, so I&#39;m rewriting `uri` this way `uri(&quot;http://&quot; + serviceName)`\r\n\r\nIn case you have consul/eurica discovery integrtion, you could try to do it other way: `uri(&quot;lb://&quot; + serviceName)`\r\n","title":"How to rewrite serviceId for Spring Cloud Gateway with service discovery","body":"<p>In addition to @Rémi Gélibert variant, we can implement our own <strong>RouteLocator</strong>. It allows you to specify predicate for your routes selection and special filter that able to <strong>mutate request as you wish</strong>.</p>\n<p>This way we can extract our routing configuration to some kind of <code>application.properties</code>.</p>\n<pre><code>@Component\npublic class CustomRouteLocator implements RouteLocator {\n\n  Map&lt;String, Pattern&gt; prefixPatternsByServiceNames; // external configuration\n  Map&lt;String, String&gt; prefixesByServiceNames;        // external configuration \n  Set&lt;String&gt; servicesNames;                         // external configuration\n\n  @Override\n  public Flux&lt;Route&gt; getRoutes() {\n\n    return Flux.fromIterable(servicesNames)\n        .map(serviceName -&gt; Route.async()\n            .id(&quot;ROUTE_&quot; + serviceName)\n            .predicate(exchange -&gt; {\n              String path = exchange.getRequest().getPath().toString();\n              return prefixPatternsByServiceNames.get(serviceName).matcher(path).find();\n            })\n            .filter((exchange, chain) -&gt; {\n              ServerHttpRequest origRequest = exchange.getRequest();\n              String query = origRequest.getURI().getQuery();\n              String originalPath = origRequest.getPath().toString();\n              String newPath = originalPath.substring(prefixesByServiceNames.get(serviceName).length());\n\n              ServerHttpRequest request = exchange.getRequest().mutate()\n                  .path(query == null? newPath : newPath + &quot;?&quot; + query)\n                  .build();\n              return chain.filter(exchange.mutate()\n                  .request(request)\n                  .build());\n            })\n            .uri(&quot;http://&quot; + serviceName)\n            .build());\n  }\n\n}\n</code></pre>\n<p>Please note:</p>\n<p>My gateway relies on kubernetes service discovery, so I'm rewriting <code>uri</code> this way <code>uri(&quot;http://&quot; + serviceName)</code></p>\n<p>In case you have consul/eurica discovery integrtion, you could try to do it other way: <code>uri(&quot;lb://&quot; + serviceName)</code></p>\n"},{"tags":[],"owner":{"account_id":27889009,"reputation":11,"user_id":21295796,"display_name":"Edsuns"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1677488518,"creation_date":1677488518,"answer_id":75578474,"question_id":58764503,"body_markdown":"You can make the following configurations to achieve your needs:\r\n\r\n```yaml\r\nspring:\r\n  cloud:\r\n    gateway:\r\n      discovery:\r\n        locator:\r\n          enabled: true\r\n          lower-case-service-id: true\r\n          # defaults is in GatewayDiscoveryClientAutoConfiguration.class\r\n          # SpEL expression context is ServiceInstance.class\r\n          predicates:\r\n            - name: Path\r\n              args:\r\n                pattern: &quot;&#39;/api/&#39;+serviceId.replace(&#39;-service&#39;, &#39;&#39;)+&#39;/**&#39;&quot;\r\n          filters:\r\n            - name: RewritePath\r\n              args:\r\n                regexp: &quot;&#39;/api/.+/?(?&lt;remaining&gt;.*)&#39;&quot;\r\n                replacement: &quot;&#39;/api/&#39;+serviceId+&#39;/${remaining}&#39;&quot;\r\n```\r\n\r\nOfficial docs: &lt;https://cloud.spring.io/spring-cloud-gateway/reference/html/#configuring-predicates-and-filters-for-discoveryclient-routes&gt;\r\n","title":"How to rewrite serviceId for Spring Cloud Gateway with service discovery","body":"<p>You can make the following configurations to achieve your needs:</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>spring:\n  cloud:\n    gateway:\n      discovery:\n        locator:\n          enabled: true\n          lower-case-service-id: true\n          # defaults is in GatewayDiscoveryClientAutoConfiguration.class\n          # SpEL expression context is ServiceInstance.class\n          predicates:\n            - name: Path\n              args:\n                pattern: &quot;'/api/'+serviceId.replace('-service', '')+'/**'&quot;\n          filters:\n            - name: RewritePath\n              args:\n                regexp: &quot;'/api/.+/?(?&lt;remaining&gt;.*)'&quot;\n                replacement: &quot;'/api/'+serviceId+'/${remaining}'&quot;\n</code></pre>\n<p>Official docs: <a href=\"https://cloud.spring.io/spring-cloud-gateway/reference/html/#configuring-predicates-and-filters-for-discoveryclient-routes\" rel=\"nofollow noreferrer\">https://cloud.spring.io/spring-cloud-gateway/reference/html/#configuring-predicates-and-filters-for-discoveryclient-routes</a></p>\n"}],"owner":{"account_id":8703816,"reputation":961,"user_id":6512661,"accept_rate":61,"display_name":"Silk0vsky"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1643,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":3,"score":3,"last_activity_date":1677488518,"creation_date":1573207903,"question_id":58764503,"body_markdown":"I&#39;m migrating zuul gateway to SCG. My services are running in kubernetes &amp; registered via consul.\r\nTypical service name is xxx-service. So with current gateway config I can call them by http://address/api/xxx-service/some-path \r\n\r\n\r\nMy current config:\r\n\r\n    spring:\r\n      cloud:\r\n        gateway:\r\n          discovery:\r\n            locator:\r\n              enabled: true\r\n              lower-case-service-id: true\r\n              predicates:\r\n                - name: Path\r\n                  args:\r\n                    pattern: &quot;&#39;/api/&#39; + serviceId + &#39;/**&#39;&quot;\r\n              filters:\r\n                - name: RewritePath\r\n                  args:\r\n                    regexp: &quot;&#39;/api/&#39; + serviceId + &#39;/(?&lt;remaining&gt;.*)&#39;&quot;\r\n                    replacement: &quot;&#39;/${remaining}&#39;&quot;\r\n\r\nBut clients should call them without &#39;-service&#39; suffix in service name. How to configure SCG to be able to call services by\r\nhttp://address/api/xxx-service/some-path \r\n\r\nPrevios zuul configuration:\r\n\r\n    zuul.routes.xxx.service-id=xxx-service\r\n    zuul.routes.aaa-bbb.service-id=aaa-bbb-service\r\n    zuul.routes.aaa-bbb.path=/aaa/bbb/**\r\n    zuul.strip-prefix=true\r\n    zuul.prefix=/api\r\n\r\n","title":"How to rewrite serviceId for Spring Cloud Gateway with service discovery","body":"<p>I'm migrating zuul gateway to SCG. My services are running in kubernetes &amp; registered via consul.\nTypical service name is xxx-service. So with current gateway config I can call them by <a href=\"http://address/api/xxx-service/some-path\" rel=\"nofollow noreferrer\">http://address/api/xxx-service/some-path</a> </p>\n\n<p>My current config:</p>\n\n<pre><code>spring:\n  cloud:\n    gateway:\n      discovery:\n        locator:\n          enabled: true\n          lower-case-service-id: true\n          predicates:\n            - name: Path\n              args:\n                pattern: \"'/api/' + serviceId + '/**'\"\n          filters:\n            - name: RewritePath\n              args:\n                regexp: \"'/api/' + serviceId + '/(?&lt;remaining&gt;.*)'\"\n                replacement: \"'/${remaining}'\"\n</code></pre>\n\n<p>But clients should call them without '-service' suffix in service name. How to configure SCG to be able to call services by\n<a href=\"http://address/api/xxx-service/some-path\" rel=\"nofollow noreferrer\">http://address/api/xxx-service/some-path</a> </p>\n\n<p>Previos zuul configuration:</p>\n\n<pre><code>zuul.routes.xxx.service-id=xxx-service\nzuul.routes.aaa-bbb.service-id=aaa-bbb-service\nzuul.routes.aaa-bbb.path=/aaa/bbb/**\nzuul.strip-prefix=true\nzuul.prefix=/api\n</code></pre>\n"},{"tags":["java","spring-boot","unit-testing","junit","threadpool"],"answers":[{"tags":[],"owner":{"account_id":10835632,"reputation":541,"user_id":7968718,"display_name":"Daksharaj kamal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1677488264,"creation_date":1677488264,"answer_id":75578435,"question_id":75578354,"body_markdown":"You can use JUnit and Mockito to write a Unit test for this configuration bean. Example -\r\n```\r\nimport static org.junit.jupiter.api.Assertions.assertNotNull;\r\n\r\nimport java.util.concurrent.Executor;\r\n\r\nimport org.junit.jupiter.api.Test;\r\nimport org.mockito.Mockito;\r\nimport org.springframework.scheduling.concurrent.ThreadPoolTaskExecutor;\r\n\r\npublic class AsyncConfigTest {\r\n\r\n    @Test\r\n    public void testAsyncExecutor() {\r\n        AsyncConfig asyncConfig = new AsyncConfig();\r\n        Executor executor = asyncConfig.asyncExecutor();\r\n        assertNotNull(executor);\r\n\r\n        // Verify the executor properties\r\n        ThreadPoolTaskExecutor threadPoolTaskExecutor = (ThreadPoolTaskExecutor) executor;\r\n        assertEquals(30, threadPoolTaskExecutor.getCorePoolSize());\r\n        assertEquals(30, threadPoolTaskExecutor.getMaxPoolSize());\r\n        assertEquals(1000, threadPoolTaskExecutor.getQueueCapacity());\r\n        assertEquals(&quot;Async-&quot;, threadPoolTaskExecutor.getThreadNamePrefix());\r\n    }\r\n\r\n}\r\n\r\n```\r\n\r\nMokito to mock `ThreadPoolTaskExecutor`\r\n\r\n```\r\nimport static org.mockito.Mockito.verify;\r\n\r\nimport org.junit.jupiter.api.Test;\r\nimport org.mockito.Mockito;\r\nimport org.springframework.scheduling.concurrent.ThreadPoolTaskExecutor;\r\n\r\npublic class MyServiceTest {\r\n\r\n    @Test\r\n    public void testAsyncMethod() {\r\n        // Create a mock of ThreadPoolTaskExecutor\r\n        ThreadPoolTaskExecutor executorMock = Mockito.mock(ThreadPoolTaskExecutor.class);\r\n        MyService myService = new MyService(executorMock);\r\n\r\n        // Call the async method\r\n        myService.doAsyncTask();\r\n\r\n        // Verify that the executor was used\r\n        verify(executorMock).execute(Mockito.any(Runnable.class));\r\n    }\r\n\r\n}\r\n\r\n```\r\nYou&#39;re creating a mock `ThreadPoolTaskExecutor` object and passing it to your `MyService` class in the preceding test. Then you call an async method on the `MyService` class and check that the executor was used to perform the async task.","title":"How do I write the junit test for a thread pool executor configuration (AsyncConfig)?","body":"<p>You can use JUnit and Mockito to write a Unit test for this configuration bean. Example -</p>\n<pre><code>import static org.junit.jupiter.api.Assertions.assertNotNull;\n\nimport java.util.concurrent.Executor;\n\nimport org.junit.jupiter.api.Test;\nimport org.mockito.Mockito;\nimport org.springframework.scheduling.concurrent.ThreadPoolTaskExecutor;\n\npublic class AsyncConfigTest {\n\n    @Test\n    public void testAsyncExecutor() {\n        AsyncConfig asyncConfig = new AsyncConfig();\n        Executor executor = asyncConfig.asyncExecutor();\n        assertNotNull(executor);\n\n        // Verify the executor properties\n        ThreadPoolTaskExecutor threadPoolTaskExecutor = (ThreadPoolTaskExecutor) executor;\n        assertEquals(30, threadPoolTaskExecutor.getCorePoolSize());\n        assertEquals(30, threadPoolTaskExecutor.getMaxPoolSize());\n        assertEquals(1000, threadPoolTaskExecutor.getQueueCapacity());\n        assertEquals(&quot;Async-&quot;, threadPoolTaskExecutor.getThreadNamePrefix());\n    }\n\n}\n\n</code></pre>\n<p>Mokito to mock <code>ThreadPoolTaskExecutor</code></p>\n<pre><code>import static org.mockito.Mockito.verify;\n\nimport org.junit.jupiter.api.Test;\nimport org.mockito.Mockito;\nimport org.springframework.scheduling.concurrent.ThreadPoolTaskExecutor;\n\npublic class MyServiceTest {\n\n    @Test\n    public void testAsyncMethod() {\n        // Create a mock of ThreadPoolTaskExecutor\n        ThreadPoolTaskExecutor executorMock = Mockito.mock(ThreadPoolTaskExecutor.class);\n        MyService myService = new MyService(executorMock);\n\n        // Call the async method\n        myService.doAsyncTask();\n\n        // Verify that the executor was used\n        verify(executorMock).execute(Mockito.any(Runnable.class));\n    }\n\n}\n\n</code></pre>\n<p>You're creating a mock <code>ThreadPoolTaskExecutor</code> object and passing it to your <code>MyService</code> class in the preceding test. Then you call an async method on the <code>MyService</code> class and check that the executor was used to perform the async task.</p>\n"}],"owner":{"account_id":27688145,"reputation":13,"user_id":21135460,"display_name":"Kartik Mathur"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1501,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75578435,"answer_count":1,"score":0,"last_activity_date":1677488264,"creation_date":1677487629,"question_id":75578354,"body_markdown":"Following is my configuration for a thread pool executor-\r\n\r\n```\r\n@Configuration\r\n@EnableAsync\r\npublic class AsyncConfig {\r\n\r\n    @Bean(name = &quot;asyncExecutor&quot;)\r\n    public Executor asyncExecutor() {   //should not return null\r\n        ThreadPoolTaskExecutor executor = new ThreadPoolTaskExecutor();\r\n        executor.setCorePoolSize(30);\r\n        executor.setMaxPoolSize(30);\r\n        executor.setQueueCapacity(1000);\r\n        executor.setThreadNamePrefix(&quot;Async-&quot;);\r\n        executor.initialize();\r\n        return executor;\r\n    }\r\n}\r\n```\r\n\r\n\r\nI need to write a Unit test for the same. I do understand how to write unit tests for services and controllers, but being new to this stuff, I am not sure what to test in case of configurations. For instance in the above code I can verify that the return value of the function is not null. But I don&#39;t understand how to do that either, because no where in the project am I calling the &#39;asyncExecutor&#39; function. All I am doing is annotating the function (that needs to be run using the thread pool executor) with \r\n```\r\n@Async(&quot;asyncExecutor&quot;)\r\n```\r\nPlease help me with this, and also any other stuff that I can test for the same","title":"How do I write the junit test for a thread pool executor configuration (AsyncConfig)?","body":"<p>Following is my configuration for a thread pool executor-</p>\n<pre><code>@Configuration\n@EnableAsync\npublic class AsyncConfig {\n\n    @Bean(name = &quot;asyncExecutor&quot;)\n    public Executor asyncExecutor() {   //should not return null\n        ThreadPoolTaskExecutor executor = new ThreadPoolTaskExecutor();\n        executor.setCorePoolSize(30);\n        executor.setMaxPoolSize(30);\n        executor.setQueueCapacity(1000);\n        executor.setThreadNamePrefix(&quot;Async-&quot;);\n        executor.initialize();\n        return executor;\n    }\n}\n</code></pre>\n<p>I need to write a Unit test for the same. I do understand how to write unit tests for services and controllers, but being new to this stuff, I am not sure what to test in case of configurations. For instance in the above code I can verify that the return value of the function is not null. But I don't understand how to do that either, because no where in the project am I calling the 'asyncExecutor' function. All I am doing is annotating the function (that needs to be run using the thread pool executor) with</p>\n<pre><code>@Async(&quot;asyncExecutor&quot;)\n</code></pre>\n<p>Please help me with this, and also any other stuff that I can test for the same</p>\n"},{"tags":["java","spring","postgresql","spring-boot"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1677488548,"post_id":75578429,"comment_id":133340470,"body_markdown":"What you see in the log is a warning (and please post logs as text with code blocks instead of an image as the latter is totally unreadable).","body":"What you see in the log is a warning (and please post logs as text with code blocks instead of an image as the latter is totally unreadable)."},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1677491001,"post_id":75578429,"comment_id":133341113,"body_markdown":"Feels a bit of a duplicate of https://stackoverflow.com/questions/49110818/method-org-postgresql-jdbc-pgconnection-createclob-is-not-yet-implemented . Have you tried setting that property mentioned in the first answer?","body":"Feels a bit of a duplicate of <a href=\"https://stackoverflow.com/questions/49110818/method-org-postgresql-jdbc-pgconnection-createclob-is-not-yet-implemented\" title=\"method org postgresql jdbc pgconnection createclob is not yet implemented\">stackoverflow.com/questions/49110818/&hellip;</a> . Have you tried setting that property mentioned in the first answer?"}],"owner":{"account_id":24706020,"reputation":31,"user_id":18596831,"display_name":"Matvey Androsyuk"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677488235,"creation_date":1677488235,"question_id":75578429,"body_markdown":"I have 2 dockerized microserices which connect to postres container, but first container connects correctly, second fails.\r\nThis is properties of order-service(which connects correctly):\r\n```\r\nspring.datasource.url=jdbc:postgresql://postgres:5431/order-service\r\nspring.datasource.driver-class-name=org.postgresql.Driver\r\nspring.datasource.username=matvey\r\nspring.datasource.password=matvey\r\n```  \r\nDocker compose:\r\n```\r\n  postgres-order:\r\n    container_name: postgres-order\r\n    image: postgres\r\n    environment:\r\n      POSTGRES_DB: order-service\r\n      POSTGRES_USER: matvey\r\n      POSTGRES_PASSWORD: matvey\r\n      PGDATA: /data/postgres\r\n    volumes:\r\n      - ./volumes/postgres-order:/data/postgres\r\n    expose:\r\n      - &quot;5431&quot;\r\n    ports:\r\n      - &quot;5431:5431&quot;\r\n    command: -p 5431\r\n    restart: unless-stopped\r\n\r\n  order-service:\r\n    container_name: order-service\r\n    image: zaxarleningod/order-service\r\n    environment:\r\n      - SPRING_PROFILES_ACTIVE=docker\r\n      - SPRING_DATASOURCE_URL=jdbc:postgresql://postgres-order:5431/order-service\r\n    depends_on:\r\n      - postgres-order\r\n      - broker\r\n      - discovery-server\r\n      - api-gateway\r\n```\r\nThis is inventory service properties(fails):\r\n```\r\nspring.datasource.url=jdbc:postgresql://postgres:5432/inventory-service\r\nspring.datasource.driver-class-name=org.postgresql.Driver\r\nspring.datasource.username=matvey\r\nspring.datasource.password=matvey\r\n```\r\nDocker compose:\r\n```\r\n  postgres-inventory:\r\n    container_name: postgres-inventory\r\n    image: postgres\r\n    environment:\r\n      POSTGRES_DB: inventory-service\r\n      POSTGRES_USER: matvey\r\n      POSTGRES_PASSWORD: matvey\r\n      PGDATA: /data/postgres\r\n    volumes:\r\n      - ./volumes/postgres-inventory:/data/postgres\r\n    ports:\r\n      - &quot;5432:5432&quot;\r\n    restart: unless-stopped\r\n\r\n  #Inventory Service\r\n  inventory-service:\r\n    container_name: inventory-service\r\n    image: zaxarleningod/inventory-service\r\n    environment:\r\n      - SPRING_PROFILES_ACTIVE=docker\r\n      - SPRING_DATASOURCE_URL=jdbc:postgresql://postgres-inventory:5432/inventory-service\r\n    depends_on:\r\n      - postgres-inventory\r\n      - discovery-server\r\n      - api-gateway\r\n```\r\nI can understand what problem it is:\r\n[![enter image description here][1]][1]\r\nThis is what i see in logs:\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ohjEZ.png\r\n  [2]: https://i.stack.imgur.com/lN3Yt.png","title":"Container can not connect to postgres db container","body":"<p>I have 2 dockerized microserices which connect to postres container, but first container connects correctly, second fails.\nThis is properties of order-service(which connects correctly):</p>\n<pre><code>spring.datasource.url=jdbc:postgresql://postgres:5431/order-service\nspring.datasource.driver-class-name=org.postgresql.Driver\nspring.datasource.username=matvey\nspring.datasource.password=matvey\n</code></pre>\n<p>Docker compose:</p>\n<pre><code>  postgres-order:\n    container_name: postgres-order\n    image: postgres\n    environment:\n      POSTGRES_DB: order-service\n      POSTGRES_USER: matvey\n      POSTGRES_PASSWORD: matvey\n      PGDATA: /data/postgres\n    volumes:\n      - ./volumes/postgres-order:/data/postgres\n    expose:\n      - &quot;5431&quot;\n    ports:\n      - &quot;5431:5431&quot;\n    command: -p 5431\n    restart: unless-stopped\n\n  order-service:\n    container_name: order-service\n    image: zaxarleningod/order-service\n    environment:\n      - SPRING_PROFILES_ACTIVE=docker\n      - SPRING_DATASOURCE_URL=jdbc:postgresql://postgres-order:5431/order-service\n    depends_on:\n      - postgres-order\n      - broker\n      - discovery-server\n      - api-gateway\n</code></pre>\n<p>This is inventory service properties(fails):</p>\n<pre><code>spring.datasource.url=jdbc:postgresql://postgres:5432/inventory-service\nspring.datasource.driver-class-name=org.postgresql.Driver\nspring.datasource.username=matvey\nspring.datasource.password=matvey\n</code></pre>\n<p>Docker compose:</p>\n<pre><code>  postgres-inventory:\n    container_name: postgres-inventory\n    image: postgres\n    environment:\n      POSTGRES_DB: inventory-service\n      POSTGRES_USER: matvey\n      POSTGRES_PASSWORD: matvey\n      PGDATA: /data/postgres\n    volumes:\n      - ./volumes/postgres-inventory:/data/postgres\n    ports:\n      - &quot;5432:5432&quot;\n    restart: unless-stopped\n\n  #Inventory Service\n  inventory-service:\n    container_name: inventory-service\n    image: zaxarleningod/inventory-service\n    environment:\n      - SPRING_PROFILES_ACTIVE=docker\n      - SPRING_DATASOURCE_URL=jdbc:postgresql://postgres-inventory:5432/inventory-service\n    depends_on:\n      - postgres-inventory\n      - discovery-server\n      - api-gateway\n</code></pre>\n<p>I can understand what problem it is:\n<a href=\"https://i.stack.imgur.com/ohjEZ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ohjEZ.png\" alt=\"enter image description here\" /></a>\nThis is what i see in logs:\n<a href=\"https://i.stack.imgur.com/lN3Yt.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/lN3Yt.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","jvm","garbage-collection","mark-and-sweep"],"comments":[{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":3,"creation_date":1673746693,"post_id":75122418,"comment_id":132566921,"body_markdown":"I know you want specifics, but why do you assume that the GC can&#39;t just access the class definitions just like the rest of the JVM does? That contains plenty of information to figure out which fields are references.","body":"I know you want specifics, but why do you assume that the GC can&#39;t just access the class definitions just like the rest of the JVM does? That contains plenty of information to figure out which fields are references."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1673746768,"post_id":75122418,"comment_id":132566929,"body_markdown":"See https://docs.oracle.com/javase/specs/jvms/se7/html/jvms-4.html and https://docs.oracle.com/javase/specs/jvms/se7/html/jvms-4.html#jvms-4.5 and https://docs.oracle.com/javase/specs/jvms/se7/html/jvms-4.html#jvms-4.3.2","body":"See <a href=\"https://docs.oracle.com/javase/specs/jvms/se7/html/jvms-4.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/specs/jvms/se7/html/jvms-4.html</a> and <a href=\"https://docs.oracle.com/javase/specs/jvms/se7/html/jvms-4.html#jvms-4.5\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/specs/jvms/se7/html/jvms-4.html#jvms-&zwnj;&#8203;4.5</a> and <a href=\"https://docs.oracle.com/javase/specs/jvms/se7/html/jvms-4.html#jvms-4.3.2\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/specs/jvms/se7/html/&hellip;</a>"},{"owner":{"account_id":27393528,"reputation":353,"user_id":20896122,"display_name":"undefined symbol"},"score":1,"creation_date":1673748470,"post_id":75122418,"comment_id":132567034,"body_markdown":"A language designed from the start to support garbage collection incorporates mechanisms to support garbage collection,","body":"A language designed from the start to support garbage collection incorporates mechanisms to support garbage collection,"},{"owner":{"account_id":13562961,"reputation":51,"user_id":9784007,"display_name":"mongjahi"},"score":0,"creation_date":1673889188,"post_id":75122418,"comment_id":132593007,"body_markdown":"Thank you for all the comments, which were very helpful to me.","body":"Thank you for all the comments, which were very helpful to me."}],"answers":[{"tags":[],"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1673760764,"creation_date":1673760764,"answer_id":75123144,"question_id":75122418,"body_markdown":"The definition of the class of the object A specifies which fields are references.  (And the object A contains, in an always predictable location -- the object header -- a reference to its class that holds that information.) That&#39;s really the whole answer.","title":"How heap memory scan (or object graph traversal) works in garbage collector?","body":"<p>The definition of the class of the object A specifies which fields are references.  (And the object A contains, in an always predictable location -- the object header -- a reference to its class that holds that information.) That's really the whole answer.</p>\n"}],"owner":{"account_id":13562961,"reputation":51,"user_id":9784007,"display_name":"mongjahi"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":120,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":75123144,"answer_count":1,"score":0,"last_activity_date":1677487045,"creation_date":1673746291,"question_id":75122418,"body_markdown":"I recently started to study garbage collectors (GCs) used in languages like Java.  \r\nI am particularly interested in tracing (or mark-and-sweep) GCs like G1 (garbage-first).  \r\n\r\nI am confused with some details in an object-graph traversal performed to mark reachable objects in the mark phase.\r\n\r\nFrom my understanding, starting from roots, the G1 GC scan the heap memory of a visited object and find reference variables (stored in its region) to find other objects to visit (rather than maintaining the actual object graph at runtime and traversing it).\r\n\r\nRegarding heap memory scan, how does the G1 GC determine which memory location in an object stores a reference variable?\r\n\r\nFor example, given an object A, it could contain N reference variables as class members. For the object A, how does the GC know how many reference variables are there and at which offset they are stored?\r\n\r\nI am aware of techniques using remembered sets, card tables, etc.  \r\nFrom my understanding, those are all for optimization.  \r\nI am specifically curious about memory scanning.\r\n\r\nPlease do not just say &quot;the GC stores some metadata to figure out those information&quot;.  \r\nI hope to hear about the actual (or detailed) implementations.","title":"How heap memory scan (or object graph traversal) works in garbage collector?","body":"<p>I recently started to study garbage collectors (GCs) used in languages like Java.<br />\nI am particularly interested in tracing (or mark-and-sweep) GCs like G1 (garbage-first).</p>\n<p>I am confused with some details in an object-graph traversal performed to mark reachable objects in the mark phase.</p>\n<p>From my understanding, starting from roots, the G1 GC scan the heap memory of a visited object and find reference variables (stored in its region) to find other objects to visit (rather than maintaining the actual object graph at runtime and traversing it).</p>\n<p>Regarding heap memory scan, how does the G1 GC determine which memory location in an object stores a reference variable?</p>\n<p>For example, given an object A, it could contain N reference variables as class members. For the object A, how does the GC know how many reference variables are there and at which offset they are stored?</p>\n<p>I am aware of techniques using remembered sets, card tables, etc.<br />\nFrom my understanding, those are all for optimization.<br />\nI am specifically curious about memory scanning.</p>\n<p>Please do not just say &quot;the GC stores some metadata to figure out those information&quot;.<br />\nI hope to hear about the actual (or detailed) implementations.</p>\n"},{"tags":["java","spring-boot","transactions"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1677485156,"post_id":75577993,"comment_id":133339632,"body_markdown":"Can you show some related logs?","body":"Can you show some related logs?"},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1677485243,"post_id":75577993,"comment_id":133339656,"body_markdown":"Maybe this helps: https://stackoverflow.com/questions/7125837/why-does-transaction-roll-back-on-runtimeexception-but-not-sqlexception","body":"Maybe this helps: <a href=\"https://stackoverflow.com/questions/7125837/why-does-transaction-roll-back-on-runtimeexception-but-not-sqlexception\" title=\"why does transaction roll back on runtimeexception but not sqlexception\">stackoverflow.com/questions/7125837/&hellip;</a>"},{"owner":{"account_id":27888558,"reputation":1,"user_id":21295439,"display_name":"Admin Metaversity"},"score":0,"creation_date":1677485749,"post_id":75577993,"comment_id":133339778,"body_markdown":"java.lang.ArithmeticException: / by zero\n\tat com.example.transation.service.EmpService.insertEmployee1(EmpService.java:30)","body":"java.lang.ArithmeticException: / by zero \tat com.example.transation.service.EmpService.insertEmployee1(Em&zwnj;&#8203;pService.java:30)"}],"answers":[{"tags":[],"owner":{"account_id":25866694,"reputation":191,"user_id":19598245,"display_name":"Phil Ku"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1677486315,"creation_date":1677486315,"answer_id":75578193,"question_id":75577993,"body_markdown":"The issue happens when you call `insertEmployee1(...)` from `insertEmployee(...)`\r\n\r\nThe `@Transactional` annotation does not extend to the `insertEmployee(...)` method.\r\n\r\nTry adding `@Transactional` above `insertEmployee(...)` for it to be transactional too.\r\n\r\nHope it helps.","title":"Spring boot Service Layer Tranction not working","body":"<p>The issue happens when you call <code>insertEmployee1(...)</code> from <code>insertEmployee(...)</code></p>\n<p>The <code>@Transactional</code> annotation does not extend to the <code>insertEmployee(...)</code> method.</p>\n<p>Try adding <code>@Transactional</code> above <code>insertEmployee(...)</code> for it to be transactional too.</p>\n<p>Hope it helps.</p>\n"}],"owner":{"account_id":27888558,"reputation":1,"user_id":21295439,"display_name":"Admin Metaversity"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":41,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1677486315,"creation_date":1677484889,"question_id":75577993,"body_markdown":"i am trying to achieve spring boot Transaction service layer bit not able to achieve:\r\n\r\nHere is my code\r\n\r\n```\r\n\r\n@Service\r\npublic class EmpService {\r\n\r\n\t@Autowired\r\n\tEmployeeDao employeeDao;\r\n\t\r\n\t@Autowired\r\n\tEmployeeRepo empRepo;\r\n\t\r\n\t@Autowired\r\n\tEmployeeHealthInsuranceRepo healthRepo;\r\n\t\r\n\t@Transactional\r\n\tpublic void insertEmployee1(Employee employee,EmployeeHealthInsurance employeeHealthInsurance) {\r\n\t\t\r\n\t\t\tempRepo.save(employee);\r\n\t\t\tSystem.out.println(100/0);\r\n\t\t\thealthRepo.save(employeeHealthInsurance);\r\n\t\t\r\n\t\r\n\t\r\n\t}\r\n\t\r\n\t\r\n\tpublic void insertEmployee(Employee employee,EmployeeHealthInsurance employeeHealthInsurance) {\r\n\t\tinsertEmployee1(employee,employeeHealthInsurance);\r\n\r\n\t\t}\r\n}\r\n```\r\n\r\ni am expecting roll back if any error occuer from database or any code level","title":"Spring boot Service Layer Tranction not working","body":"<p>i am trying to achieve spring boot Transaction service layer bit not able to achieve:</p>\n<p>Here is my code</p>\n<pre><code>\n@Service\npublic class EmpService {\n\n    @Autowired\n    EmployeeDao employeeDao;\n    \n    @Autowired\n    EmployeeRepo empRepo;\n    \n    @Autowired\n    EmployeeHealthInsuranceRepo healthRepo;\n    \n    @Transactional\n    public void insertEmployee1(Employee employee,EmployeeHealthInsurance employeeHealthInsurance) {\n        \n            empRepo.save(employee);\n            System.out.println(100/0);\n            healthRepo.save(employeeHealthInsurance);\n        \n    \n    \n    }\n    \n    \n    public void insertEmployee(Employee employee,EmployeeHealthInsurance employeeHealthInsurance) {\n        insertEmployee1(employee,employeeHealthInsurance);\n\n        }\n}\n</code></pre>\n<p>i am expecting roll back if any error occuer from database or any code level</p>\n"},{"tags":["java","android"],"owner":{"account_id":15411871,"reputation":21,"user_id":11118392,"display_name":"M.Spagnoli"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677486199,"creation_date":1677486199,"question_id":75578175,"body_markdown":"Recently I&#39;ve been working with android project and would like to externalize the navigation of my project to other library.\r\n\r\nI got the following structure: [![enter image description here](https://i.stack.imgur.com/MmwTy.png)](https://i.stack.imgur.com/MmwTy.png)\r\n\r\nAnd would like to create a library to get instances of the views externaly. I want to create, get info from the views and control data.\r\n\r\nCould I get any suggestions of this implementation? Many thanks!\r\n\r\nNavigation in App module isn&#39;t allowed to work","title":"Navigation of android project to external library","body":"<p>Recently I've been working with android project and would like to externalize the navigation of my project to other library.</p>\n<p>I got the following structure: <a href=\"https://i.stack.imgur.com/MmwTy.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/MmwTy.png\" alt=\"enter image description here\" /></a></p>\n<p>And would like to create a library to get instances of the views externaly. I want to create, get info from the views and control data.</p>\n<p>Could I get any suggestions of this implementation? Many thanks!</p>\n<p>Navigation in App module isn't allowed to work</p>\n"},{"tags":["java","oracle","simplejdbccall"],"answers":[{"tags":[],"owner":{"account_id":6389739,"reputation":2892,"user_id":4956336,"display_name":"p3consulting"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1677486119,"creation_date":1677486119,"answer_id":75578162,"question_id":75577867,"body_markdown":"A JSON_OBJECT_T is a PL/SQL datatype not equivalent to JSON, a SQL datatype referenced by OracleTypes.JSON in you Java code. You have to wrap your procedure into one accepting a JSON and converting it into JSON_OBJECT_T to call your original one.","title":"Pass in/out JSON param to oracle stored procedure using simpleJdbcCall","body":"<p>A JSON_OBJECT_T is a PL/SQL datatype not equivalent to JSON, a SQL datatype referenced by OracleTypes.JSON in you Java code. You have to wrap your procedure into one accepting a JSON and converting it into JSON_OBJECT_T to call your original one.</p>\n"}],"owner":{"account_id":27851419,"reputation":3,"user_id":21265854,"display_name":"shoegazeSunshine"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":358,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75578162,"answer_count":1,"score":0,"last_activity_date":1677486119,"creation_date":1677483859,"question_id":75577867,"body_markdown":"I have stored procedure in Oracle. Here its defenition:\r\n\r\n```\r\nprocedure pName(pObj in out JSON_OBJECT_T)\r\n```\r\n\r\nExample of calling it from dBeaver:\r\n\r\n```\r\nDECLARE\r\n  POBJ JSON_OBJECT_T;\r\nBEGIN\r\n  POBJ := JSON_OBJECT_T.parse(&#39;{&quot;cli_code&quot; : &quot;01.075648&quot;}&#39;);\r\n  COLVIR.CPL_PKGDEA_UTL.pGetDealList (  POBJ =&gt; POBJ) ;  \r\n  DBMS_OUTPUT.PUT_LINE(POBJ.stringify());\r\nEND;\r\n```\r\n\r\nOUTPUT: {&quot;cli_code&quot;:&quot;01.075648&quot;,&quot;cpl_deals&quot;:\\[{&quot;dep_id&quot;:1228,&quot;dea_id&quot;:14754171,&quot;dea_code&quot;:&quot;1&quot;,&quot;fromdate&quot;:&quot;2023-02-17&quot;,&quot;todate&quot;:&quot;2023-12-31&quot;,\r\n&quot;dep_id&quot;:1222,&quot;dea_id&quot;:14754171,&quot;dea_code&quot;:&quot;1&quot;,&quot;fromdate&quot;:&quot;2023-02-17&quot;,&quot;todate&quot;:&quot;2023-12-31&quot;}\\]}\r\n\r\nHere is my function in java:\r\n\r\n```\r\npublic void getDealList(String clientCode)  {\r\n\r\n        SimpleJdbcCall simpleJdbcCall = new SimpleJdbcCall(jdbcTemplate)\r\n                .withSchemaName(SCHEMA_NAME)\r\n                .withCatalogName(CPL)\r\n                .withProcedureName(pName)\r\n                .withoutProcedureColumnMetaDataAccess()\r\n                .declareParameters(\r\n                        new SqlParameter(POBJ, OracleTypes.),\r\n                        new SqlParameter(POBJ, OracleTypes.JSON));\r\n\r\n        OracleJsonFactory factory = new OracleJsonFactory();\r\n        OracleJsonObject json = factory.createObject();\r\n\r\n\r\n        json.put(&quot;cli_code&quot;, clientCode);\r\n        Map&lt;String, Object&gt; map = new HashMap&lt;&gt;();\r\n        map.put(POBJ, json);\r\n\r\n        SqlParameterSource in = new MapSqlParameterSource(map);\r\n\r\n        Map&lt;String, Object&gt; out = simpleJdbcCall.execute(in);\r\n}\r\n```\r\n\r\nI keep getting this type of error: java.sql.SQLException: ORA-03115: unsupported network datatype or representation.\r\n\r\nHow should i declare this in/out parameter to make evething work?\r\n\r\nI tried to search in oracle documentation/ in stackoverflow threads but there was no success","title":"Pass in/out JSON param to oracle stored procedure using simpleJdbcCall","body":"<p>I have stored procedure in Oracle. Here its defenition:</p>\n<pre><code>procedure pName(pObj in out JSON_OBJECT_T)\n</code></pre>\n<p>Example of calling it from dBeaver:</p>\n<pre><code>DECLARE\n  POBJ JSON_OBJECT_T;\nBEGIN\n  POBJ := JSON_OBJECT_T.parse('{&quot;cli_code&quot; : &quot;01.075648&quot;}');\n  COLVIR.CPL_PKGDEA_UTL.pGetDealList (  POBJ =&gt; POBJ) ;  \n  DBMS_OUTPUT.PUT_LINE(POBJ.stringify());\nEND;\n</code></pre>\n<p>OUTPUT: {&quot;cli_code&quot;:&quot;01.075648&quot;,&quot;cpl_deals&quot;:[{&quot;dep_id&quot;:1228,&quot;dea_id&quot;:14754171,&quot;dea_code&quot;:&quot;1&quot;,&quot;fromdate&quot;:&quot;2023-02-17&quot;,&quot;todate&quot;:&quot;2023-12-31&quot;,\n&quot;dep_id&quot;:1222,&quot;dea_id&quot;:14754171,&quot;dea_code&quot;:&quot;1&quot;,&quot;fromdate&quot;:&quot;2023-02-17&quot;,&quot;todate&quot;:&quot;2023-12-31&quot;}]}</p>\n<p>Here is my function in java:</p>\n<pre><code>public void getDealList(String clientCode)  {\n\n        SimpleJdbcCall simpleJdbcCall = new SimpleJdbcCall(jdbcTemplate)\n                .withSchemaName(SCHEMA_NAME)\n                .withCatalogName(CPL)\n                .withProcedureName(pName)\n                .withoutProcedureColumnMetaDataAccess()\n                .declareParameters(\n                        new SqlParameter(POBJ, OracleTypes.),\n                        new SqlParameter(POBJ, OracleTypes.JSON));\n\n        OracleJsonFactory factory = new OracleJsonFactory();\n        OracleJsonObject json = factory.createObject();\n\n\n        json.put(&quot;cli_code&quot;, clientCode);\n        Map&lt;String, Object&gt; map = new HashMap&lt;&gt;();\n        map.put(POBJ, json);\n\n        SqlParameterSource in = new MapSqlParameterSource(map);\n\n        Map&lt;String, Object&gt; out = simpleJdbcCall.execute(in);\n}\n</code></pre>\n<p>I keep getting this type of error: java.sql.SQLException: ORA-03115: unsupported network datatype or representation.</p>\n<p>How should i declare this in/out parameter to make evething work?</p>\n<p>I tried to search in oracle documentation/ in stackoverflow threads but there was no success</p>\n"},{"tags":["java","mysql","hibernate","jpa"],"comments":[{"owner":{"account_id":13830008,"reputation":89,"user_id":9983181,"display_name":"CoderMSL"},"score":0,"creation_date":1676802693,"post_id":75499454,"comment_id":133207337,"body_markdown":"Maybe you can do an optional relation (composition) which is Nullable and simulate inheritance using it? In RDB world it would be 1 ... 0-1 relation I guess. So it means that you have an entity which can (but doesn&#39;t have to) point to another entity (table). Will it work for you?","body":"Maybe you can do an optional relation (composition) which is Nullable and simulate inheritance using it? In RDB world it would be 1 ... 0-1 relation I guess. So it means that you have an entity which can (but doesn&#39;t have to) point to another entity (table). Will it work for you?"},{"owner":{"account_id":22769173,"reputation":73,"user_id":16926827,"display_name":"Lara"},"score":0,"creation_date":1676803523,"post_id":75499454,"comment_id":133207462,"body_markdown":"This was an option I was thinking about as well. I’m just curious if someone has a better solution.","body":"This was an option I was thinking about as well. I’m just curious if someone has a better solution."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1676804416,"post_id":75499454,"comment_id":133207603,"body_markdown":"Aggregation is correct -- a Family has 0..N Children, a Kindergarten has 0..N Children. A Child has 1 family and 1 Kindergarten. With your model each Kindergarten has a single child, each family has a single child.","body":"Aggregation is correct -- a Family has 0..N Children, a Kindergarten has 0..N Children. A Child has 1 family and 1 Kindergarten. With your model each Kindergarten has a single child, each family has a single child."},{"owner":{"account_id":19395247,"reputation":3208,"user_id":14183092,"display_name":"kerbermeister"},"score":2,"creation_date":1676805045,"post_id":75499454,"comment_id":133207687,"body_markdown":"@Lara According the code and semantics of naming you provided, I don&#39;t see any urge of inheritance. Looks like a common relation between kindergarden-family and child-family and etc. Then you should use relational mappings. Did I misunderstood something?","body":"@Lara According the code and semantics of naming you provided, I don&#39;t see any urge of inheritance. Looks like a common relation between kindergarden-family and child-family and etc. Then you should use relational mappings. Did I misunderstood something?"},{"owner":{"account_id":22769173,"reputation":73,"user_id":16926827,"display_name":"Lara"},"score":0,"creation_date":1676805173,"post_id":75499454,"comment_id":133207706,"body_markdown":"Reason being that `if (obj.getChild() != null)` is a bad design pattern and you should rather use `if (obj instanceof Child)`","body":"Reason being that <code>if (obj.getChild() != null)</code> is a bad design pattern and you should rather use <code>if (obj instanceof Child)</code>"},{"owner":{"account_id":13830008,"reputation":89,"user_id":9983181,"display_name":"CoderMSL"},"score":0,"creation_date":1676815860,"post_id":75499454,"comment_id":133209225,"body_markdown":"If there is an optional relation you can either use `!= null` or `Optional` class with `ofNullable` method. Sometimes you have to compare to `null`. Alternative is null object pattern https://www.baeldung.com/java-null-object-pattern .","body":"If there is an optional relation you can either use <code>!= null</code> or <code>Optional</code> class with <code>ofNullable</code> method. Sometimes you have to compare to <code>null</code>. Alternative is null object pattern <a href=\"https://www.baeldung.com/java-null-object-pattern\" rel=\"nofollow noreferrer\">baeldung.com/java-null-object-pattern</a> ."},{"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"score":0,"creation_date":1676819242,"post_id":75499454,"comment_id":133209877,"body_markdown":"My presumption is each of these need to be an object ,BUT , with implemented methods?  And constructed globals? Which is more important implemented method code or global variables?","body":"My presumption is each of these need to be an object ,BUT , with implemented methods?  And constructed globals? Which is more important implemented method code or global variables?"},{"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"score":0,"creation_date":1676822603,"post_id":75499454,"comment_id":133210408,"body_markdown":"I don&#39;t know how abstract classes would really get along with DAOs and DTOs but with an outside capsule class as some sort of handler you could perform something like aggregation by casting an initial data referencing holder class to any abstract classes made for purpose.","body":"I don&#39;t know how abstract classes would really get along with DAOs and DTOs but with an outside capsule class as some sort of handler you could perform something like aggregation by casting an initial data referencing holder class to any abstract classes made for purpose."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1676838842,"post_id":75499454,"comment_id":133213512,"body_markdown":"If you have an optional relationship, then `if (obj.getChild() != null)` is not bad design -- although depending on what you are doing `for (Child c: obj.getChildren())` is more natural. Using inheritance for HAS-A relationships like the ones in your question is not the right approach.","body":"If you have an optional relationship, then <code>if (obj.getChild() != null)</code> is not bad design -- although depending on what you are doing <code>for (Child c: obj.getChildren())</code> is more natural. Using inheritance for HAS-A relationships like the ones in your question is not the right approach."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1676838938,"post_id":75499454,"comment_id":133213529,"body_markdown":"You need to explain your scenario in more detail to tell us why aggregation is not a good option.","body":"You need to explain your scenario in more detail to tell us why aggregation is not a good option."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1676840038,"post_id":75499454,"comment_id":133213695,"body_markdown":"And what is your definition of aggregation vs composition?","body":"And what is your definition of aggregation vs composition?"}],"owner":{"account_id":22769173,"reputation":73,"user_id":16926827,"display_name":"Lara"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":82,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677486022,"creation_date":1676802430,"question_id":75499454,"body_markdown":"I have a problem with multiple inheritance since (obviously) `class A extends B, C { }` is not possible in Java. The traditional workaround is using B and C as interfaces. But as you know JPA doesn&#39;t support interface-entities. A workaround would be to use an aggregation instead of a composition but I want to make sure that `A` cannot exist without `B`. Therefore I need a composition. I show my problem in an example\r\n\r\n\r\n| family_name | kindergarden_name | child_name\r\n| ----------- | ----------------- | -----\r\n| is not null | can be null (not dependent to col3) | can be null (not dependent to col2)\r\n\r\n\r\nI create a few classes:\r\n\r\n```\r\nclass Family\r\n - name: String\r\n```\r\n```\r\nclass Child\r\n - name: String\r\n```\r\n```\r\nclass Kindergarden\r\n - name: String\r\n```\r\n```\r\nclass FamilyWithChild extends Family, Child\r\n```\r\n```\r\nclass FamilyWithKindergarden extends Family, Kindergarden\r\n```\r\n```\r\nclass FamilyWithChildAndKindergarden extends FamilyWithChild, Kindergarden\r\n - child: Child\r\n```\r\n\r\nHow would you solve this problem. I haven&#39;t found any real solutions besides making a aggregation.\r\n\r\nThe table shown above might have more columns with additional information about Family, Child and Kindergarden.\r\n\r\nMaking an aggregation would work but this is not a good option for me in that scenario.\r\n\r\n**EDIT: I made an other example because the previous one was kinda misleading!**\r\n\r\nI want to make an other example since the previous one was kinda misleading. The usecase of a composition is if `A` requires `B` in order to exist (`A extends B` in Java). An aggregation does not require `B` (`class B {private A a;}` in Java). My example was very misleading so lets use an other one that is very different.\r\n\r\nI want to implement employees that might have multiple &quot;types&quot;. This is the data structure in sql:\r\nemp_id | name | given_name | working_since | volunteer_grp\r\n------ | ---- | ---------- | ----------------- | ---------\r\n1 | Name 1 | GivenName 1 | 2001-12-30 11:12:13 | null\r\n2 | Name 2 | GivenName 2 | null | GrpA\r\n3 | Name 3 | GivenName 3 | 2001-12-30 14:15:16 | GrpB\r\n4 | Name 4 | GivenName 4 | null | GrpA\r\n5 | Name 5 | GivenName 5 | 2001-12-30 17:18:19  | null\r\n\r\nNow lets implement this:\r\n\r\n    class Employee:\r\n     - id: int\r\n     # name: String\r\n     # givenName: String\r\n     # workingSince: Date\r\n     # volunteerGroup: String\r\n     + isCurrentlyWorking(): boolean\r\n     + isVolunteer(): boolean\r\n     + isWorkingVolunteer(): boolean\r\n\r\nAnd use it as follows:\r\n\r\n    public class EmployeeImpl extends Employee {\r\n      private List&lt;EmployeeType&gt; getType() {\r\n        final var list = new ArrayList&lt;EmployeeType&gt;();\r\n        if (this.isCurrentlyWorking()) {\r\n          list.add(EmployeeType.WORKING);\r\n        }\r\n        if (this.isVolunteer()) {\r\n          list.add(EmployeeType.VOLUNTEER);\r\n        }\r\n        return list;\r\n      }\r\n\r\n      public boolean hasType(EmployeeType type) {\r\n        return getType().contains(type);\r\n      }\r\n    }\r\n\r\nThis would be the easiest way to check what type it is (i.e. if volunteer should have less permissions in a programm). If I want to do certain things based on the type of employee it quite tricky. Lets add `+ connect(): void` to employee and the functionality of this method should be different based on the type of the employee - therefore either we do:\r\n\r\n    public void connect() {\r\n      establishConnection();\r\n      if (!hasType(EmployeeType.WORKING)) {\r\n        super.currentlyWorking = new Date();\r\n      }\r\n\r\n      if (!hasType(EmployeeType.VOLUNTEER)) {\r\n        showSalaryPanel();\r\n        return;\r\n      }\r\n      showTutorialPanel();\r\n    }\r\n\r\nYes this is quite simple but this can get more complicated. Therefore if there are different types of the base class instead of chain if-statements its recommended to use a composition and `instanceof` instead of `getType().equals(XType.YYY)`. Additional benefits are that each type can have its own fuctionality of `connect()` without using a chain of if-elseif-statements:\r\n\r\n    class Employee:\r\n     - id: int\r\n     # name: String\r\n     # givenName: String\r\n\r\n    class WorkingEmployee extends Employee:\r\n     - since: Date\r\n\r\n    class Volunteer extends Employee:\r\n     - group: String\r\n\r\n    class WorkingVolunteer extends Volunteer, WorkingEmployee:\r\n\r\nBut this is not possible in Java. Now: Lets imagine for a moment that `employee` also has a attribute `- company_party: boolean`. Now it gets completely out of hand. What is a good solution for this?","title":"Multiple Inheritance in Java using JPA","body":"<p>I have a problem with multiple inheritance since (obviously) <code>class A extends B, C { }</code> is not possible in Java. The traditional workaround is using B and C as interfaces. But as you know JPA doesn't support interface-entities. A workaround would be to use an aggregation instead of a composition but I want to make sure that <code>A</code> cannot exist without <code>B</code>. Therefore I need a composition. I show my problem in an example</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>family_name</th>\n<th>kindergarden_name</th>\n<th>child_name</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>is not null</td>\n<td>can be null (not dependent to col3)</td>\n<td>can be null (not dependent to col2)</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>I create a few classes:</p>\n<pre><code>class Family\n - name: String\n</code></pre>\n<pre><code>class Child\n - name: String\n</code></pre>\n<pre><code>class Kindergarden\n - name: String\n</code></pre>\n<pre><code>class FamilyWithChild extends Family, Child\n</code></pre>\n<pre><code>class FamilyWithKindergarden extends Family, Kindergarden\n</code></pre>\n<pre><code>class FamilyWithChildAndKindergarden extends FamilyWithChild, Kindergarden\n - child: Child\n</code></pre>\n<p>How would you solve this problem. I haven't found any real solutions besides making a aggregation.</p>\n<p>The table shown above might have more columns with additional information about Family, Child and Kindergarden.</p>\n<p>Making an aggregation would work but this is not a good option for me in that scenario.</p>\n<p><strong>EDIT: I made an other example because the previous one was kinda misleading!</strong></p>\n<p>I want to make an other example since the previous one was kinda misleading. The usecase of a composition is if <code>A</code> requires <code>B</code> in order to exist (<code>A extends B</code> in Java). An aggregation does not require <code>B</code> (<code>class B {private A a;}</code> in Java). My example was very misleading so lets use an other one that is very different.</p>\n<p>I want to implement employees that might have multiple &quot;types&quot;. This is the data structure in sql:\nemp_id | name | given_name | working_since | volunteer_grp\n------ | ---- | ---------- | ----------------- | ---------\n1 | Name 1 | GivenName 1 | 2001-12-30 11:12:13 | null\n2 | Name 2 | GivenName 2 | null | GrpA\n3 | Name 3 | GivenName 3 | 2001-12-30 14:15:16 | GrpB\n4 | Name 4 | GivenName 4 | null | GrpA\n5 | Name 5 | GivenName 5 | 2001-12-30 17:18:19  | null</p>\n<p>Now lets implement this:</p>\n<pre><code>class Employee:\n - id: int\n # name: String\n # givenName: String\n # workingSince: Date\n # volunteerGroup: String\n + isCurrentlyWorking(): boolean\n + isVolunteer(): boolean\n + isWorkingVolunteer(): boolean\n</code></pre>\n<p>And use it as follows:</p>\n<pre><code>public class EmployeeImpl extends Employee {\n  private List&lt;EmployeeType&gt; getType() {\n    final var list = new ArrayList&lt;EmployeeType&gt;();\n    if (this.isCurrentlyWorking()) {\n      list.add(EmployeeType.WORKING);\n    }\n    if (this.isVolunteer()) {\n      list.add(EmployeeType.VOLUNTEER);\n    }\n    return list;\n  }\n\n  public boolean hasType(EmployeeType type) {\n    return getType().contains(type);\n  }\n}\n</code></pre>\n<p>This would be the easiest way to check what type it is (i.e. if volunteer should have less permissions in a programm). If I want to do certain things based on the type of employee it quite tricky. Lets add <code>+ connect(): void</code> to employee and the functionality of this method should be different based on the type of the employee - therefore either we do:</p>\n<pre><code>public void connect() {\n  establishConnection();\n  if (!hasType(EmployeeType.WORKING)) {\n    super.currentlyWorking = new Date();\n  }\n\n  if (!hasType(EmployeeType.VOLUNTEER)) {\n    showSalaryPanel();\n    return;\n  }\n  showTutorialPanel();\n}\n</code></pre>\n<p>Yes this is quite simple but this can get more complicated. Therefore if there are different types of the base class instead of chain if-statements its recommended to use a composition and <code>instanceof</code> instead of <code>getType().equals(XType.YYY)</code>. Additional benefits are that each type can have its own fuctionality of <code>connect()</code> without using a chain of if-elseif-statements:</p>\n<pre><code>class Employee:\n - id: int\n # name: String\n # givenName: String\n\nclass WorkingEmployee extends Employee:\n - since: Date\n\nclass Volunteer extends Employee:\n - group: String\n\nclass WorkingVolunteer extends Volunteer, WorkingEmployee:\n</code></pre>\n<p>But this is not possible in Java. Now: Lets imagine for a moment that <code>employee</code> also has a attribute <code>- company_party: boolean</code>. Now it gets completely out of hand. What is a good solution for this?</p>\n"},{"tags":["java","maven","visual-studio-code"],"comments":[{"owner":{"account_id":5347179,"reputation":10433,"user_id":4262407,"accept_rate":40,"display_name":"mipa"},"score":0,"creation_date":1677487750,"post_id":75576327,"comment_id":133340261,"body_markdown":"Do you really think it&#39;s a good idea to use JavaFX 13 together with Java 19?","body":"Do you really think it&#39;s a good idea to use JavaFX 13 together with Java 19?"}],"answers":[{"tags":[],"owner":{"account_id":15396644,"reputation":25745,"user_id":11107541,"display_name":"starball"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677469811,"creation_date":1677469374,"answer_id":75576601,"question_id":75576327,"body_markdown":"I&#39;m pretty sure you just made a capitalization error.\r\n\r\n- [`javax.sql.Rowset`](https://docs.oracle.com/javase/7/docs/api/javax/sql/RowSet.html) (uppercase &quot;R&quot;) is an interface in the `javax.sql` package.\r\n  - (of which [`javax.sql.rowset.CachedRowSet`](https://docs.oracle.com/javase/7/docs/api/javax/sql/rowset/CachedRowSet.html) is a subinterface).\r\n\r\n- [`javax.sql.rowset`](https://docs.oracle.com/javase/7/docs/api/javax/sql/rowset/package-summary.html) (lowercase &quot;r&quot;) is a package.\r\n\r\nTo import everything in a package, you need to do what you were doing with &quot;`import java.sql.*;`&quot;: `import javax.sql.rowset.*;`. But you probably just want to `import javax.sql.rowset.CachedRowSet;`.","title":"The package javax.sql.rowset is not accessible","body":"<p>I'm pretty sure you just made a capitalization error.</p>\n<ul>\n<li><p><a href=\"https://docs.oracle.com/javase/7/docs/api/javax/sql/RowSet.html\" rel=\"nofollow noreferrer\"><code>javax.sql.Rowset</code></a> (uppercase &quot;R&quot;) is an interface in the <code>javax.sql</code> package.</p>\n<ul>\n<li>(of which <a href=\"https://docs.oracle.com/javase/7/docs/api/javax/sql/rowset/CachedRowSet.html\" rel=\"nofollow noreferrer\"><code>javax.sql.rowset.CachedRowSet</code></a> is a subinterface).</li>\n</ul>\n</li>\n<li><p><a href=\"https://docs.oracle.com/javase/7/docs/api/javax/sql/rowset/package-summary.html\" rel=\"nofollow noreferrer\"><code>javax.sql.rowset</code></a> (lowercase &quot;r&quot;) is a package.</p>\n</li>\n</ul>\n<p>To import everything in a package, you need to do what you were doing with &quot;<code>import java.sql.*;</code>&quot;: <code>import javax.sql.rowset.*;</code>. But you probably just want to <code>import javax.sql.rowset.CachedRowSet;</code>.</p>\n"}],"owner":{"account_id":27886738,"reputation":1,"user_id":21294012,"display_name":"mikey"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":140,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1677485999,"creation_date":1677465075,"question_id":75576327,"body_markdown":"I&#39;m trying to implement a `CachedRowSet`.  I&#39;m using VS Code, jdk19, and maven.\r\n\r\nIn my DBUtil.java file, I have this:\r\n\r\n    package searcher;\r\n\r\n    import javax.sql.rowset;\r\n    import java.sql.*;\r\n\r\n&quot;_The package javax.sql.rowset is not accessible_&quot; occurs on the import javax line.\r\n\r\nsettings.json\r\n\r\n    {\r\n      &quot;java.configuration.updateBuildConfiguration&quot;: &quot;interactive&quot;,\r\n      &quot;java.jdt.ls.java.home&quot;: &quot;C:\\\\Program Files\\\\Java\\\\jdk-19\\\\&quot;\r\n    }\r\n\r\npom.xml\r\n\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n      xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;\r\n        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n        &lt;groupId&gt;searcher&lt;/groupId&gt;\r\n        &lt;artifactId&gt;searcher&lt;/artifactId&gt;\r\n        &lt;version&gt;1&lt;/version&gt;\r\n        &lt;properties&gt;\r\n            &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n            &lt;maven.compiler.source&gt;11&lt;/maven.compiler.source&gt;\r\n            &lt;maven.compiler.target&gt;11&lt;/maven.compiler.target&gt;\r\n        &lt;/properties&gt;\r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.mysql&lt;/groupId&gt;\r\n                &lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\r\n                &lt;version&gt;8.0.31&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n                &lt;artifactId&gt;javafx-controls&lt;/artifactId&gt;\r\n                &lt;version&gt;13&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n                &lt;artifactId&gt;javafx-fxml&lt;/artifactId&gt;\r\n                &lt;version&gt;13&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n        &lt;build&gt;\r\n            &lt;plugins&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;3.8.0&lt;/version&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;release&gt;11&lt;/release&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/plugin&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;javafx-maven-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;4&lt;/version&gt;\r\n                    &lt;executions&gt;\r\n                        &lt;execution&gt;\r\n                            &lt;!-- Default configuration for running --&gt;\r\n                            &lt;!-- Usage: mvn clean javafx:run --&gt;\r\n                            &lt;id&gt;default-cli&lt;/id&gt;\r\n                            &lt;configuration&gt;\r\n                                &lt;mainClass&gt;searcher.App&lt;/mainClass&gt;\r\n                            &lt;/configuration&gt;\r\n                        &lt;/execution&gt;\r\n                    &lt;/executions&gt;\r\n                &lt;/plugin&gt;\r\n            &lt;/plugins&gt;\r\n        &lt;/build&gt;\r\n    &lt;/project&gt;\r\n\r\n\r\n\r\nI&#39;ve tried clean workspace.  I&#39;ve tried changing pom.xml.\r\n\r\nI just tried editing module-info.java and adding requires transitive java.sql.rowset.\r\n\r\nWhat I find really frustrating is that the Explorer panel on the left shows JRE System Library and under java.sql.rowset is javax.sql.Rowset listed.","title":"The package javax.sql.rowset is not accessible","body":"<p>I'm trying to implement a <code>CachedRowSet</code>.  I'm using VS Code, jdk19, and maven.</p>\n<p>In my DBUtil.java file, I have this:</p>\n<pre><code>package searcher;\n\nimport javax.sql.rowset;\nimport java.sql.*;\n</code></pre>\n<p>&quot;<em>The package javax.sql.rowset is not accessible</em>&quot; occurs on the import javax line.</p>\n<p>settings.json</p>\n<pre><code>{\n  &quot;java.configuration.updateBuildConfiguration&quot;: &quot;interactive&quot;,\n  &quot;java.jdt.ls.java.home&quot;: &quot;C:\\\\Program Files\\\\Java\\\\jdk-19\\\\&quot;\n}\n</code></pre>\n<p>pom.xml</p>\n<pre><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n  xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;groupId&gt;searcher&lt;/groupId&gt;\n    &lt;artifactId&gt;searcher&lt;/artifactId&gt;\n    &lt;version&gt;1&lt;/version&gt;\n    &lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;maven.compiler.source&gt;11&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;11&lt;/maven.compiler.target&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\n            &lt;version&gt;8.0.31&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n            &lt;artifactId&gt;javafx-controls&lt;/artifactId&gt;\n            &lt;version&gt;13&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n            &lt;artifactId&gt;javafx-fxml&lt;/artifactId&gt;\n            &lt;version&gt;13&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.8.0&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;release&gt;11&lt;/release&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n                &lt;artifactId&gt;javafx-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;4&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;!-- Default configuration for running --&gt;\n                        &lt;!-- Usage: mvn clean javafx:run --&gt;\n                        &lt;id&gt;default-cli&lt;/id&gt;\n                        &lt;configuration&gt;\n                            &lt;mainClass&gt;searcher.App&lt;/mainClass&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<p>I've tried clean workspace.  I've tried changing pom.xml.</p>\n<p>I just tried editing module-info.java and adding requires transitive java.sql.rowset.</p>\n<p>What I find really frustrating is that the Explorer panel on the left shows JRE System Library and under java.sql.rowset is javax.sql.Rowset listed.</p>\n"},{"tags":["java","gradle","groovy"],"answers":[{"tags":[],"owner":{"account_id":10033072,"reputation":181,"user_id":7418806,"display_name":"thekingofcity"},"down_vote_count":0,"up_vote_count":14,"is_accepted":true,"score":14,"last_activity_date":1677485759,"creation_date":1635301739,"answer_id":69732057,"question_id":68655592,"body_markdown":"`components.java` should contain the shadow jar and the original jar, so simply remove the `artifact shadowJar` line will work.","title":"Gradle Invalid publication &#39;shadow&#39;: multiple artifacts with the identical extension and classifier (&#39;jar&#39;, &#39;all&#39;)","body":"<p><code>components.java</code> should contain the shadow jar and the original jar, so simply remove the <code>artifact shadowJar</code> line will work.</p>\n"}],"owner":{"account_id":14044283,"reputation":733,"user_id":10144963,"display_name":"Th0rgal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5832,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"accepted_answer_id":69732057,"answer_count":1,"score":10,"last_activity_date":1677485759,"creation_date":1628097811,"question_id":68655592,"body_markdown":"I discovered to day that the published artifact didn&#39;t include my shaded libraries. I would like to have them inside so I decided to edit my publishing section inside my build.gradle\r\n```groovy\r\npublishing {\r\n    repositories {\r\n        maven {\r\n            name = &quot;GitHubPackages&quot;\r\n            url = &quot;https://maven.pkg.github.com/oraxen/Oraxen&quot;\r\n            credentials {\r\n                username = System.getenv(&quot;GITHUB_ACTOR&quot;)\r\n                password = System.getenv(&quot;GITHUB_TOKEN&quot;)\r\n            }\r\n        }\r\n    }\r\n    publications {\r\n        shadow(MavenPublication) {\r\n            from components.java\r\n            artifact shadowJar\r\n        }\r\n    }\r\n}\r\n// entire file: https://github.com/oraxen/oraxen/blob/06ca465c8854c9e3df386a608845d86852e70560/build.gradle\r\n```\r\n\r\nUnfortunately I got this error:\r\n```console\r\nExecution failed for task &#39;:publishShadowPublicationToGitHubPackagesRepository&#39;.\r\n&gt; Failed to publish publication &#39;shadow&#39; to repository &#39;GitHubPackages&#39;\r\n   &gt; Invalid publication &#39;shadow&#39;: multiple artifacts with the identical extension and classifier (&#39;jar&#39;, &#39;all&#39;).\r\n\r\n* Try:\r\nRun with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output. Run with --scan to get full insights.\r\n\r\n```\r\n\r\nHow can I specify that I want to upload the -all artifact?","title":"Gradle Invalid publication &#39;shadow&#39;: multiple artifacts with the identical extension and classifier (&#39;jar&#39;, &#39;all&#39;)","body":"<p>I discovered to day that the published artifact didn't include my shaded libraries. I would like to have them inside so I decided to edit my publishing section inside my build.gradle</p>\n<pre><code>publishing {\n    repositories {\n        maven {\n            name = &quot;GitHubPackages&quot;\n            url = &quot;https://maven.pkg.github.com/oraxen/Oraxen&quot;\n            credentials {\n                username = System.getenv(&quot;GITHUB_ACTOR&quot;)\n                password = System.getenv(&quot;GITHUB_TOKEN&quot;)\n            }\n        }\n    }\n    publications {\n        shadow(MavenPublication) {\n            from components.java\n            artifact shadowJar\n        }\n    }\n}\n// entire file: https://github.com/oraxen/oraxen/blob/06ca465c8854c9e3df386a608845d86852e70560/build.gradle\n</code></pre>\n<p>Unfortunately I got this error:</p>\n<pre><code>Execution failed for task ':publishShadowPublicationToGitHubPackagesRepository'.\n&gt; Failed to publish publication 'shadow' to repository 'GitHubPackages'\n   &gt; Invalid publication 'shadow': multiple artifacts with the identical extension and classifier ('jar', 'all').\n\n* Try:\nRun with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output. Run with --scan to get full insights.\n\n</code></pre>\n<p>How can I specify that I want to upload the -all artifact?</p>\n"},{"tags":["java","amazon-s3","aws-api-gateway"],"comments":[{"owner":{"account_id":1282249,"reputation":3856,"user_id":1236099,"accept_rate":51,"display_name":"madhairsilence"},"score":0,"creation_date":1677487447,"post_id":75578058,"comment_id":133340181,"body_markdown":"Yes. you are converting the image to text. It will be stored as text only. Check the example once again. The example must be for uploading the image but as a base64 string .","body":"Yes. you are converting the image to text. It will be stored as text only. Check the example once again. The example must be for uploading the image but as a base64 string ."},{"owner":{"account_id":18831469,"reputation":81,"user_id":13735175,"display_name":"pavants"},"score":0,"creation_date":1677492362,"post_id":75578058,"comment_id":133341482,"body_markdown":"Unfortunately the example upload a short text and there&#39;s nothing on binary.","body":"Unfortunately the example upload a short text and there&#39;s nothing on binary."}],"owner":{"account_id":18831469,"reputation":81,"user_id":13735175,"display_name":"pavants"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":85,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677485367,"creation_date":1677485367,"question_id":75578058,"body_markdown":"I have an Amazon ApiGateway that handle the upload and download from S3 buckets as explained here: https://docs.aws.amazon.com/apigateway/latest/developerguide/integrating-api-with-aws-services-s3.html\r\n\r\nThe client is written in plain java using some AWS example code.\r\nMy issue is with PUT method: Text file are correctly uploaded but binary file like images appears as string of bytes.\r\n\r\nThis is the code I use to upload:\r\n```\r\nbyte [] data = Files.readAllBytes(Paths.get(fileToUpload));\r\n\r\n/* For string I use this line:\t\t\t\r\nString objectContent=new String(data, StandardCharsets.UTF_8);\r\n*/\r\n//For Image file I need to convert with this\r\nString objectContent=Base64.getEncoder().encodeToString(data);\r\n\r\nMap&lt;String, String&gt; headers = new HashMap&lt;String, String&gt;();\r\nheaders.put(&quot;x-amz-content-sha256&quot;, contentHashString);\r\nheaders.put(&quot;x-amz-storage-class&quot;, &quot;REDUCED_REDUNDANCY&quot;);\r\n\t        \r\nAWS4SignerForAuthorizationHeader signer = new AWS4SignerForAuthorizationHeader(endpointUrl, &quot;PUT&quot;, &quot;execute-api&quot;, regionName);\r\nString authorization = signer.computeSignature(headers,null, // no query parameters\r\n\t                                                       contentHashString, \r\n\t                                                       aws_access_key_id, \r\n\t                                                       aws_secret_access_key);\r\n\t                \r\n// express authorization for this as a header\r\nheaders.put(&quot;Authorization&quot;, authorization);\r\n\t        \r\n// make the call to Amazon API Gateway\r\nString response = HttpUtils2.invokeHttpRequest(endpointUrl, &quot;PUT&quot;, headers, objectContent);\r\n```\r\n\r\nPossibily the error is on the way I convert the content to string to post.","title":"Java Binary file upload to APIGateway with S3 backend","body":"<p>I have an Amazon ApiGateway that handle the upload and download from S3 buckets as explained here: <a href=\"https://docs.aws.amazon.com/apigateway/latest/developerguide/integrating-api-with-aws-services-s3.html\" rel=\"nofollow noreferrer\">https://docs.aws.amazon.com/apigateway/latest/developerguide/integrating-api-with-aws-services-s3.html</a></p>\n<p>The client is written in plain java using some AWS example code.\nMy issue is with PUT method: Text file are correctly uploaded but binary file like images appears as string of bytes.</p>\n<p>This is the code I use to upload:</p>\n<pre><code>byte [] data = Files.readAllBytes(Paths.get(fileToUpload));\n\n/* For string I use this line:          \nString objectContent=new String(data, StandardCharsets.UTF_8);\n*/\n//For Image file I need to convert with this\nString objectContent=Base64.getEncoder().encodeToString(data);\n\nMap&lt;String, String&gt; headers = new HashMap&lt;String, String&gt;();\nheaders.put(&quot;x-amz-content-sha256&quot;, contentHashString);\nheaders.put(&quot;x-amz-storage-class&quot;, &quot;REDUCED_REDUNDANCY&quot;);\n            \nAWS4SignerForAuthorizationHeader signer = new AWS4SignerForAuthorizationHeader(endpointUrl, &quot;PUT&quot;, &quot;execute-api&quot;, regionName);\nString authorization = signer.computeSignature(headers,null, // no query parameters\n                                                           contentHashString, \n                                                           aws_access_key_id, \n                                                           aws_secret_access_key);\n                    \n// express authorization for this as a header\nheaders.put(&quot;Authorization&quot;, authorization);\n            \n// make the call to Amazon API Gateway\nString response = HttpUtils2.invokeHttpRequest(endpointUrl, &quot;PUT&quot;, headers, objectContent);\n</code></pre>\n<p>Possibily the error is on the way I convert the content to string to post.</p>\n"},{"tags":["java","spring-boot","jaeger-client-go"],"comments":[{"owner":{"account_id":3222171,"reputation":1361,"user_id":3192775,"accept_rate":33,"display_name":"Tim"},"score":0,"creation_date":1672534477,"post_id":74859626,"comment_id":132304063,"body_markdown":"After a bit of checking the documentation, seems like openTracing set to be archived/Deprecated to favor openTelemetry. Probably spring 3 supports the micrometer, openTelemetry.","body":"After a bit of checking the documentation, seems like openTracing set to be archived/Deprecated to favor openTelemetry. Probably spring 3 supports the micrometer, openTelemetry."}],"answers":[{"tags":[],"owner":{"account_id":14740356,"reputation":59,"user_id":10645144,"display_name":"Priyanshu Parate"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1671901192,"creation_date":1671901192,"answer_id":74909097,"question_id":74859626,"body_markdown":"yes, currently it is not supporting, I also tried. with no change, it work on the 2.7.7 version","title":"Spring boot version 3.0.0 is not working with jaeger 3.3.1 (latest version)","body":"<p>yes, currently it is not supporting, I also tried. with no change, it work on the 2.7.7 version</p>\n"},{"tags":[],"owner":{"account_id":3596558,"reputation":76,"user_id":3001063,"display_name":"Sergei I."},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1675740444,"creation_date":1675740444,"answer_id":75368688,"question_id":74859626,"body_markdown":"Looks like it is a known issue [#146][1] due to Spring removing support for `spring.factories`. A suggested workaround:\r\n\r\n&gt; As temporary workaround you may create plain text file `META-INF/spring/org.springframework.boot.autoconfigure.AutoConfiguration.imports` and put `io.opentracing.contrib.java.spring.jaeger.starter.JaegerAutoConfiguration` into it.\r\n\r\n\r\n  [1]: https://github.com/opentracing-contrib/java-spring-jaeger/issues/146","title":"Spring boot version 3.0.0 is not working with jaeger 3.3.1 (latest version)","body":"<p>Looks like it is a known issue <a href=\"https://github.com/opentracing-contrib/java-spring-jaeger/issues/146\" rel=\"nofollow noreferrer\">#146</a> due to Spring removing support for <code>spring.factories</code>. A suggested workaround:</p>\n<blockquote>\n<p>As temporary workaround you may create plain text file <code>META-INF/spring/org.springframework.boot.autoconfigure.AutoConfiguration.imports</code> and put <code>io.opentracing.contrib.java.spring.jaeger.starter.JaegerAutoConfiguration</code> into it.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":27659029,"reputation":3,"user_id":21112277,"display_name":"Mohammad Mahdi Tilab"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677484617,"creation_date":1677484387,"answer_id":75577945,"question_id":74859626,"body_markdown":"I integrated Jaeger with Spring boot 3.0 with sample code in following repository. Also you can find my article in Persian language:\r\n\r\nhttps://github.com/m-tilab/springboot3-jaeger-integration\r\n\r\nhttps://virgool.io/@mohammadmahditilab/%D8%A7%D8%A8%D8%B2%D8%A7%D8%B1%DB%8C-%D8%A8%D9%87-%D9%86%D8%A7%D9%85-jaeger-%D8%A8%D8%B1%D8%A7%DB%8C-%D8%A8%D9%87%D8%AA%D8%B1-%D8%AF%DB%8C%D8%AF%D9%86-%D8%AE%D8%B7%D8%A7%D9%87%D8%A7-%D8%AF%D8%B1-%D9%85%D8%B9%D9%85%D8%A7%D8%B1%DB%8C-%D9%85%D8%A7%DA%A9%D8%B1%D9%88%D8%B3%D8%B1%D9%88%DB%8C%D8%B3-%D9%88-%D8%A7%D8%B3%D8%AA%D9%81%D8%A7%D8%AF%D9%87-%D8%A7%D8%B2-%D8%A2%D9%86-%D8%AF%D8%B1-spring-boot-30-c6nugawkzlyh\r\n\r\nYou need to create main span manually and initialize your Tracker bean in start up. look at following codes:\r\n\r\n    @Configuration\r\n    public class JaegerConfig {\r\n    \r\n        @Value(&quot;${opentracing.jaeger.enabled:false}&quot;)\r\n        private boolean jaegerEnabled;\r\n    \r\n        @Value(&quot;${opentracing.jaeger.udp-sender.host}&quot;)\r\n        private String opentracingUdpSenderHost;\r\n    \r\n        @Value(&quot;${opentracing.jaeger.udp-sender.port}&quot;)\r\n        private Integer opentracingUdpSenderPort;\r\n    \r\n        @Bean\r\n        public Tracer jaegerTracer() {\r\n    \r\n            if (!jaegerEnabled)\r\n                return NoopTracerFactory.create();\r\n    \r\n            JaegerTracer tracer = new io.jaegertracing.Configuration(&quot;instrument-list-job&quot;)\r\n                    .withSampler(new io.jaegertracing.Configuration.SamplerConfiguration().withType(ConstSampler.TYPE).withParam(1))\r\n                    .withReporter(new io.jaegertracing.Configuration.ReporterConfiguration()\r\n                            .withSender(new io.jaegertracing.Configuration.SenderConfiguration()\r\n                                    .withAgentHost(opentracingUdpSenderHost).withAgentPort(opentracingUdpSenderPort)).withLogSpans(true)).getTracer();\r\n    \r\n            GlobalTracer.registerIfAbsent(tracer);\r\n    \r\n            return tracer;\r\n        }\r\n    }\r\n\r\nAlso, Create main span as follow:\r\n\r\n    @Configuration\r\n    @Order(Integer.MIN_VALUE)\r\n    public class JaegerWebFilter implements WebFilter {\r\n    \r\n        @Value(&quot;${application.name}&quot;)\r\n        private String applicationName;\r\n    \r\n        @Autowired\r\n        private Tracer tracer;\r\n    \r\n        @Override\r\n        public Mono&lt;Void&gt; filter(ServerWebExchange exchange, WebFilterChain chain) {\r\n    \r\n            Span span = tracer.buildSpan(applicationName).start();\r\n    \r\n            Scope scope = tracer.activateSpan(span);\r\n    \r\n            return chain.filter(exchange).doFinally(signalType -&gt; {\r\n    \r\n                span.log(spanLogDecorator(exchange, span));\r\n    \r\n                scope.close();\r\n                span.finish();\r\n            });\r\n        }\r\n    \r\n        @Nullable\r\n        private Map&lt;String, Object&gt; spanLogDecorator(ServerWebExchange exchange, Span span) {\r\n    \r\n            final Object handler = exchange.getAttribute(HandlerMapping.BEST_MATCHING_HANDLER_ATTRIBUTE);\r\n            if (handler == null) {\r\n                return null;\r\n            }\r\n    \r\n            final Map&lt;String, Object&gt; logs = new HashMap&lt;&gt;(4);\r\n            logs.put(&quot;event&quot;, &quot;handle&quot;);\r\n    \r\n            final Object pattern = exchange.getAttribute(HandlerMapping.BEST_MATCHING_PATTERN_ATTRIBUTE);\r\n            final String patternAsString = pattern == null ? null : pattern.toString();\r\n            if (pattern != null) {\r\n                logs.put(&quot;handler&quot;, patternAsString);\r\n            }\r\n    \r\n            if (handler instanceof HandlerMethod handlerMethod) {\r\n    \r\n                final String methodName = handlerMethod.getMethod().getName();\r\n                logs.put(&quot;handler.method_name&quot;, handlerMethod.getMethod().getName());\r\n                span.setOperationName(methodName);\r\n                logs.put(&quot;handler.class_simple_name&quot;, handlerMethod.getBeanType().getSimpleName());\r\n            } else {\r\n                if (pattern != null) {\r\n                    span.setOperationName(patternAsString);\r\n                }\r\n                logs.put(&quot;handler.class_simple_name&quot;, handler.getClass().getSimpleName());\r\n            }\r\n    \r\n            Tags.COMPONENT.set(span, &quot;java-spring-webflux&quot;);\r\n            final ServerHttpRequest request = exchange.getRequest();\r\n            Tags.HTTP_METHOD.set(span, request.getMethod().name());\r\n            Tags.HTTP_URL.set(span, request.getURI().toString());\r\n            Optional.ofNullable(request.getRemoteAddress()).ifPresent(remoteAddress -&gt; {\r\n                Tags.PEER_HOSTNAME.set(span, remoteAddress.getHostString());\r\n                Tags.PEER_PORT.set(span, remoteAddress.getPort());\r\n                Optional.ofNullable(remoteAddress.getAddress()).ifPresent(inetAddress -&gt; {\r\n                    if (inetAddress instanceof Inet6Address) {\r\n                        Tags.PEER_HOST_IPV6.set(span, inetAddress.getHostAddress());\r\n                    } else {\r\n                        Tags.PEER_HOST_IPV4.set(span, inetAddress.getHostAddress());\r\n                    }\r\n                });\r\n            });\r\n    \r\n            return logs;\r\n        }\r\n    }\r\n\r\n","title":"Spring boot version 3.0.0 is not working with jaeger 3.3.1 (latest version)","body":"<p>I integrated Jaeger with Spring boot 3.0 with sample code in following repository. Also you can find my article in Persian language:</p>\n<p><a href=\"https://github.com/m-tilab/springboot3-jaeger-integration\" rel=\"nofollow noreferrer\">https://github.com/m-tilab/springboot3-jaeger-integration</a></p>\n<p><a href=\"https://virgool.io/@mohammadmahditilab/%D8%A7%D8%A8%D8%B2%D8%A7%D8%B1%DB%8C-%D8%A8%D9%87-%D9%86%D8%A7%D9%85-jaeger-%D8%A8%D8%B1%D8%A7%DB%8C-%D8%A8%D9%87%D8%AA%D8%B1-%D8%AF%DB%8C%D8%AF%D9%86-%D8%AE%D8%B7%D8%A7%D9%87%D8%A7-%D8%AF%D8%B1-%D9%85%D8%B9%D9%85%D8%A7%D8%B1%DB%8C-%D9%85%D8%A7%DA%A9%D8%B1%D9%88%D8%B3%D8%B1%D9%88%DB%8C%D8%B3-%D9%88-%D8%A7%D8%B3%D8%AA%D9%81%D8%A7%D8%AF%D9%87-%D8%A7%D8%B2-%D8%A2%D9%86-%D8%AF%D8%B1-spring-boot-30-c6nugawkzlyh\" rel=\"nofollow noreferrer\">https://virgool.io/@mohammadmahditilab/%D8%A7%D8%A8%D8%B2%D8%A7%D8%B1%DB%8C-%D8%A8%D9%87-%D9%86%D8%A7%D9%85-jaeger-%D8%A8%D8%B1%D8%A7%DB%8C-%D8%A8%D9%87%D8%AA%D8%B1-%D8%AF%DB%8C%D8%AF%D9%86-%D8%AE%D8%B7%D8%A7%D9%87%D8%A7-%D8%AF%D8%B1-%D9%85%D8%B9%D9%85%D8%A7%D8%B1%DB%8C-%D9%85%D8%A7%DA%A9%D8%B1%D9%88%D8%B3%D8%B1%D9%88%DB%8C%D8%B3-%D9%88-%D8%A7%D8%B3%D8%AA%D9%81%D8%A7%D8%AF%D9%87-%D8%A7%D8%B2-%D8%A2%D9%86-%D8%AF%D8%B1-spring-boot-30-c6nugawkzlyh</a></p>\n<p>You need to create main span manually and initialize your Tracker bean in start up. look at following codes:</p>\n<pre><code>@Configuration\npublic class JaegerConfig {\n\n    @Value(&quot;${opentracing.jaeger.enabled:false}&quot;)\n    private boolean jaegerEnabled;\n\n    @Value(&quot;${opentracing.jaeger.udp-sender.host}&quot;)\n    private String opentracingUdpSenderHost;\n\n    @Value(&quot;${opentracing.jaeger.udp-sender.port}&quot;)\n    private Integer opentracingUdpSenderPort;\n\n    @Bean\n    public Tracer jaegerTracer() {\n\n        if (!jaegerEnabled)\n            return NoopTracerFactory.create();\n\n        JaegerTracer tracer = new io.jaegertracing.Configuration(&quot;instrument-list-job&quot;)\n                .withSampler(new io.jaegertracing.Configuration.SamplerConfiguration().withType(ConstSampler.TYPE).withParam(1))\n                .withReporter(new io.jaegertracing.Configuration.ReporterConfiguration()\n                        .withSender(new io.jaegertracing.Configuration.SenderConfiguration()\n                                .withAgentHost(opentracingUdpSenderHost).withAgentPort(opentracingUdpSenderPort)).withLogSpans(true)).getTracer();\n\n        GlobalTracer.registerIfAbsent(tracer);\n\n        return tracer;\n    }\n}\n</code></pre>\n<p>Also, Create main span as follow:</p>\n<pre><code>@Configuration\n@Order(Integer.MIN_VALUE)\npublic class JaegerWebFilter implements WebFilter {\n\n    @Value(&quot;${application.name}&quot;)\n    private String applicationName;\n\n    @Autowired\n    private Tracer tracer;\n\n    @Override\n    public Mono&lt;Void&gt; filter(ServerWebExchange exchange, WebFilterChain chain) {\n\n        Span span = tracer.buildSpan(applicationName).start();\n\n        Scope scope = tracer.activateSpan(span);\n\n        return chain.filter(exchange).doFinally(signalType -&gt; {\n\n            span.log(spanLogDecorator(exchange, span));\n\n            scope.close();\n            span.finish();\n        });\n    }\n\n    @Nullable\n    private Map&lt;String, Object&gt; spanLogDecorator(ServerWebExchange exchange, Span span) {\n\n        final Object handler = exchange.getAttribute(HandlerMapping.BEST_MATCHING_HANDLER_ATTRIBUTE);\n        if (handler == null) {\n            return null;\n        }\n\n        final Map&lt;String, Object&gt; logs = new HashMap&lt;&gt;(4);\n        logs.put(&quot;event&quot;, &quot;handle&quot;);\n\n        final Object pattern = exchange.getAttribute(HandlerMapping.BEST_MATCHING_PATTERN_ATTRIBUTE);\n        final String patternAsString = pattern == null ? null : pattern.toString();\n        if (pattern != null) {\n            logs.put(&quot;handler&quot;, patternAsString);\n        }\n\n        if (handler instanceof HandlerMethod handlerMethod) {\n\n            final String methodName = handlerMethod.getMethod().getName();\n            logs.put(&quot;handler.method_name&quot;, handlerMethod.getMethod().getName());\n            span.setOperationName(methodName);\n            logs.put(&quot;handler.class_simple_name&quot;, handlerMethod.getBeanType().getSimpleName());\n        } else {\n            if (pattern != null) {\n                span.setOperationName(patternAsString);\n            }\n            logs.put(&quot;handler.class_simple_name&quot;, handler.getClass().getSimpleName());\n        }\n\n        Tags.COMPONENT.set(span, &quot;java-spring-webflux&quot;);\n        final ServerHttpRequest request = exchange.getRequest();\n        Tags.HTTP_METHOD.set(span, request.getMethod().name());\n        Tags.HTTP_URL.set(span, request.getURI().toString());\n        Optional.ofNullable(request.getRemoteAddress()).ifPresent(remoteAddress -&gt; {\n            Tags.PEER_HOSTNAME.set(span, remoteAddress.getHostString());\n            Tags.PEER_PORT.set(span, remoteAddress.getPort());\n            Optional.ofNullable(remoteAddress.getAddress()).ifPresent(inetAddress -&gt; {\n                if (inetAddress instanceof Inet6Address) {\n                    Tags.PEER_HOST_IPV6.set(span, inetAddress.getHostAddress());\n                } else {\n                    Tags.PEER_HOST_IPV4.set(span, inetAddress.getHostAddress());\n                }\n            });\n        });\n\n        return logs;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":20509645,"reputation":41,"user_id":15051712,"display_name":"Prasad Jagtap"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2403,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":3,"score":3,"last_activity_date":1677484617,"creation_date":1671520464,"question_id":74859626,"body_markdown":"I am using spring boot version 3.3.1 in my spring boot project with jaeger for distributed tracing (version 3.3.1 which latest recommended version) and my java version is 17.\r\n\r\nI have added dependencies as follows:\r\n```xml\r\n&lt;parent&gt;\r\n   &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n   &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n   &lt;version&gt;3.0.0&lt;/version&gt;\r\n   &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n&lt;/parent&gt;\r\n```\r\n\r\n```xml\r\n&lt;dependency&gt;\r\n   &lt;groupId&gt;io.opentracing.contrib&lt;/groupId&gt;\r\n   &lt;artifactId&gt;opentracing-spring-jaeger-cloud-starter&lt;/artifactId&gt;\r\n   &lt;version&gt;3.3.1&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nThis my configuration file: \r\n\r\n```java\r\npackage com.example.jaegerclient.config;\r\n\r\nimport io.jaegertracing.internal.JaegerTracer;\r\nimport io.jaegertracing.internal.samplers.ConstSampler;\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.web.reactive.function.client.WebClient;\r\n\r\n@Configuration\r\npublic class JaegerConfig {\r\n\r\n    @Bean\r\n    public WebClient webClient() {\r\n        return WebClient.create();\r\n    }\r\n\r\n    @Bean\r\n    public JaegerTracer jaegerTracer() {\r\n\r\n        return new io.jaegertracing.Configuration(&quot;jaeger-client&quot;)\r\n                .withSampler(new io.jaegertracing.Configuration.SamplerConfiguration().withType(ConstSampler.TYPE)\r\n                        .withParam(1))\r\n                .withReporter(new io.jaegertracing.Configuration.ReporterConfiguration().withLogSpans(true))\r\n                .getTracer();\r\n    }\r\n}\r\n\r\n```\r\n\r\nUpon starting application I can see in logs that jaeger has configured \r\n\r\n&gt;2022-12-20T12:22:51.543+05:30  INFO 22028 --- [           main] io.jaegertracing.Configuration           : Initialized tracer=JaegerTracer(version=Java-1.1.0, serviceName=jaeger-client, reporter=CompositeReporter(reporters=[RemoteReporter(sender=UdpSender(), closeEnqueueTimeout=1000), LoggingReporter(logger=Logger[io.jaegertracing.internal.reporters.LoggingReporter])]), sampler=ConstSampler(decision=true, tags={sampler.type=const, sampler.param=true}), tags={hostname=xyz, jaeger.version=Java-1.1.0, ip=192.xxx.xx.xx}, zipkinSharedRpcSpan=false, expandExceptionLogs=false, useTraceId128Bit=false)\r\n\r\n\r\nBut I am not able see the service in jaeger UI or any traces even after I hit the request.\r\n\r\nWhen I use spring boot lower than 3.0.0 like 2.7.7, I am able to see the service and traces in jaeger UI. \r\n\r\nI just want to know that jaeger is not compatible with spring boot 3.0.0 or I am doing something wrong. \r\n\r\nThanks in advance. ","title":"Spring boot version 3.0.0 is not working with jaeger 3.3.1 (latest version)","body":"<p>I am using spring boot version 3.3.1 in my spring boot project with jaeger for distributed tracing (version 3.3.1 which latest recommended version) and my java version is 17.</p>\n<p>I have added dependencies as follows:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;parent&gt;\n   &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n   &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n   &lt;version&gt;3.0.0&lt;/version&gt;\n   &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n&lt;/parent&gt;\n</code></pre>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n   &lt;groupId&gt;io.opentracing.contrib&lt;/groupId&gt;\n   &lt;artifactId&gt;opentracing-spring-jaeger-cloud-starter&lt;/artifactId&gt;\n   &lt;version&gt;3.3.1&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>This my configuration file:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.example.jaegerclient.config;\n\nimport io.jaegertracing.internal.JaegerTracer;\nimport io.jaegertracing.internal.samplers.ConstSampler;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.web.reactive.function.client.WebClient;\n\n@Configuration\npublic class JaegerConfig {\n\n    @Bean\n    public WebClient webClient() {\n        return WebClient.create();\n    }\n\n    @Bean\n    public JaegerTracer jaegerTracer() {\n\n        return new io.jaegertracing.Configuration(&quot;jaeger-client&quot;)\n                .withSampler(new io.jaegertracing.Configuration.SamplerConfiguration().withType(ConstSampler.TYPE)\n                        .withParam(1))\n                .withReporter(new io.jaegertracing.Configuration.ReporterConfiguration().withLogSpans(true))\n                .getTracer();\n    }\n}\n\n</code></pre>\n<p>Upon starting application I can see in logs that jaeger has configured</p>\n<blockquote>\n<p>2022-12-20T12:22:51.543+05:30  INFO 22028 --- [           main] io.jaegertracing.Configuration           : Initialized tracer=JaegerTracer(version=Java-1.1.0, serviceName=jaeger-client, reporter=CompositeReporter(reporters=[RemoteReporter(sender=UdpSender(), closeEnqueueTimeout=1000), LoggingReporter(logger=Logger[io.jaegertracing.internal.reporters.LoggingReporter])]), sampler=ConstSampler(decision=true, tags={sampler.type=const, sampler.param=true}), tags={hostname=xyz, jaeger.version=Java-1.1.0, ip=192.xxx.xx.xx}, zipkinSharedRpcSpan=false, expandExceptionLogs=false, useTraceId128Bit=false)</p>\n</blockquote>\n<p>But I am not able see the service in jaeger UI or any traces even after I hit the request.</p>\n<p>When I use spring boot lower than 3.0.0 like 2.7.7, I am able to see the service and traces in jaeger UI.</p>\n<p>I just want to know that jaeger is not compatible with spring boot 3.0.0 or I am doing something wrong.</p>\n<p>Thanks in advance.</p>\n"},{"tags":["java","mysql","hibernate"],"answers":[{"tags":[],"owner":{"account_id":5842375,"reputation":3614,"user_id":4603538,"display_name":"TwiN"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1526267967,"creation_date":1526267967,"answer_id":50322697,"question_id":50322550,"body_markdown":"Looking over at [MySQL 8&#39;s release notes][1], MySQL 8.x has been in development and has only been out for GA since 2018-04-19 (less than a month ago), so I doubt there would be a dialect already made specifically for it.\r\n\r\nYou can see a list of all hibernate dialects [here][2], and as you can see, there is no MySQL 8 dialect. \r\n\r\n`MySQLDialect` should only be used for MySQL 5 and earlier whereas `MySQL57Dialect` should be used for MySQL 5.x as well as 8.x for now.\r\n\r\n\r\n\r\n\r\n  [1]: https://dev.mysql.com/doc/relnotes/mysql/8.0/en/\r\n  [2]: https://docs.jboss.org/hibernate/orm/3.5/api/org/hibernate/dialect/package-summary.html","title":"Hibernate dialect for MySQL 8?","body":"<p>Looking over at <a href=\"https://dev.mysql.com/doc/relnotes/mysql/8.0/en/\" rel=\"nofollow noreferrer\">MySQL 8's release notes</a>, MySQL 8.x has been in development and has only been out for GA since 2018-04-19 (less than a month ago), so I doubt there would be a dialect already made specifically for it.</p>\n\n<p>You can see a list of all hibernate dialects <a href=\"https://docs.jboss.org/hibernate/orm/3.5/api/org/hibernate/dialect/package-summary.html\" rel=\"nofollow noreferrer\">here</a>, and as you can see, there is no MySQL 8 dialect. </p>\n\n<p><code>MySQLDialect</code> should only be used for MySQL 5 and earlier whereas <code>MySQL57Dialect</code> should be used for MySQL 5.x as well as 8.x for now.</p>\n"},{"tags":[],"owner":{"account_id":13662257,"reputation":1,"user_id":9856976,"display_name":"Philip Dilip"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1527485848,"creation_date":1527485848,"answer_id":50559742,"question_id":50322550,"body_markdown":"I had the similar query as I installed MySQL 8 Server and tried to interact with the same using my Spring Boot Application.\r\n\r\nBut I was unable to do so. \r\n\r\nWhen I explored the Source Code of MySQL5Dialect class, it&#39;s documentation clearly mentions that this dialect class has been dedicated to MySQL 5.X versions.\r\n\r\nI am not sure whether it supports MySQL 8.X versions.\r\n\r\nThus I would suggest to use MySQL 5.X till an official dialect is released with Hibernate.","title":"Hibernate dialect for MySQL 8?","body":"<p>I had the similar query as I installed MySQL 8 Server and tried to interact with the same using my Spring Boot Application.</p>\n\n<p>But I was unable to do so. </p>\n\n<p>When I explored the Source Code of MySQL5Dialect class, it's documentation clearly mentions that this dialect class has been dedicated to MySQL 5.X versions.</p>\n\n<p>I am not sure whether it supports MySQL 8.X versions.</p>\n\n<p>Thus I would suggest to use MySQL 5.X till an official dialect is released with Hibernate.</p>\n"},{"tags":[],"owner":{"account_id":3771696,"reputation":871,"user_id":3133685,"accept_rate":66,"display_name":"MaxPower"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1527785749,"creation_date":1527785749,"answer_id":50629293,"question_id":50322550,"body_markdown":"I know this question is a couple of weeks old, but for completeness it appears Hibernate 5.3 does have a MySQL8 dialect \r\n\r\nhttps://docs.jboss.org/hibernate/orm/5.3/javadocs/org/hibernate/dialect/package-summary.html\r\n\r\nI have not used it, so I cannot comment on its quality, but the support appears to be there.","title":"Hibernate dialect for MySQL 8?","body":"<p>I know this question is a couple of weeks old, but for completeness it appears Hibernate 5.3 does have a MySQL8 dialect </p>\n\n<p><a href=\"https://docs.jboss.org/hibernate/orm/5.3/javadocs/org/hibernate/dialect/package-summary.html\" rel=\"nofollow noreferrer\">https://docs.jboss.org/hibernate/orm/5.3/javadocs/org/hibernate/dialect/package-summary.html</a></p>\n\n<p>I have not used it, so I cannot comment on its quality, but the support appears to be there.</p>\n"},{"tags":[],"owner":{"account_id":10142624,"reputation":1149,"user_id":7491860,"display_name":"Vipin Purohit"},"down_vote_count":0,"up_vote_count":114,"is_accepted":false,"score":114,"last_activity_date":1632902078,"creation_date":1530987121,"answer_id":51225791,"question_id":50322550,"body_markdown":"MySQL8Dialect(org.hibernate.dialect.MySQL8Dialect) is available in hibernate bundle 5.3.1.Final. You can use:\r\n\r\n```\r\norg.hibernate.dialect.MySQL8Dialect\r\n```","title":"Hibernate dialect for MySQL 8?","body":"<p>MySQL8Dialect(org.hibernate.dialect.MySQL8Dialect) is available in hibernate bundle 5.3.1.Final. You can use:</p>\n<pre><code>org.hibernate.dialect.MySQL8Dialect\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6579435,"reputation":359,"user_id":5084140,"display_name":"duliu1990"},"down_vote_count":1,"up_vote_count":29,"is_accepted":false,"score":28,"last_activity_date":1546172784,"creation_date":1546172784,"answer_id":53977578,"question_id":50322550,"body_markdown":"yes, For MySQL8, use `org.hibernate.dialect.MySQL8Dialect`","title":"Hibernate dialect for MySQL 8?","body":"<p>yes, For MySQL8, use <code>org.hibernate.dialect.MySQL8Dialect</code></p>\n"},{"tags":[],"owner":{"account_id":938654,"reputation":621,"user_id":967130,"accept_rate":90,"display_name":"Eugene Hoza"},"down_vote_count":0,"up_vote_count":23,"is_accepted":false,"score":23,"last_activity_date":1564948106,"creation_date":1564948106,"answer_id":57349740,"question_id":50322550,"body_markdown":"If you are using Gradle (e.g. for Grails) just configure:\r\n\r\nin application.yml\r\n\r\n    dataSource:\r\n    ...\r\n        driverClassName: com.mysql.cj.jdbc.Driver\r\n        dialect: org.hibernate.dialect.MySQL8Dialect\r\n    ....\r\n\r\nin build.gradle\r\n\r\n    dependencies {\r\n        ...\r\n        runtime &#39;mysql:mysql-connector-java:8.0.17&#39;\r\n        ...\r\n\r\nPay attention on mysql-connector version and non-deprecated driver class name","title":"Hibernate dialect for MySQL 8?","body":"<p>If you are using Gradle (e.g. for Grails) just configure:</p>\n\n<p>in application.yml</p>\n\n<pre><code>dataSource:\n...\n    driverClassName: com.mysql.cj.jdbc.Driver\n    dialect: org.hibernate.dialect.MySQL8Dialect\n....\n</code></pre>\n\n<p>in build.gradle</p>\n\n<pre><code>dependencies {\n    ...\n    runtime 'mysql:mysql-connector-java:8.0.17'\n    ...\n</code></pre>\n\n<p>Pay attention on mysql-connector version and non-deprecated driver class name</p>\n"},{"tags":[],"owner":{"account_id":15418679,"reputation":156,"user_id":11123293,"display_name":"Tofazzal Hossain"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1600201735,"creation_date":1600170984,"answer_id":63901336,"question_id":50322550,"body_markdown":"Yes, MySQL8Dialect for MySql 8.\r\nIn my case I have used&#160;MySQL8Dialect for MySql 8 in my spring boot application by following&#160;way:\r\n\r\n```    \r\nspring.jpa.database-platform=org.hibernate.dialect.MySQL8Dialect  \r\n```","title":"Hibernate dialect for MySQL 8?","body":"<p>Yes, MySQL8Dialect for MySql 8.\nIn my case I have used MySQL8Dialect for MySql 8 in my spring boot application by following way:</p>\n<pre><code>spring.jpa.database-platform=org.hibernate.dialect.MySQL8Dialect  \n</code></pre>\n"},{"tags":[],"owner":{"account_id":6967366,"reputation":139,"user_id":10928511,"display_name":"Gregory Iyama"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1604549092,"creation_date":1604549092,"answer_id":64691061,"question_id":50322550,"body_markdown":"    spring.jpa.properties.hibernate.dialect = org.hibernate.dialect.MySQL8Dialect\r\n    spring.jpa.properties.hibernate.dialect.storage_engine=innodb\r\n\r\n\r\ngot from [here][1] \r\n\r\n\r\n  [1]: https://stackoverflow.com/a/54672737","title":"Hibernate dialect for MySQL 8?","body":"<pre><code>spring.jpa.properties.hibernate.dialect = org.hibernate.dialect.MySQL8Dialect\nspring.jpa.properties.hibernate.dialect.storage_engine=innodb\n</code></pre>\n<p>got from <a href=\"https://stackoverflow.com/a/54672737\">here</a></p>\n"},{"tags":[],"owner":{"account_id":7533198,"reputation":1546,"user_id":5720532,"display_name":"Abderrazzak Nejeoui"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1615540870,"creation_date":1615540870,"answer_id":66597213,"question_id":50322550,"body_markdown":"If you are using SpringBoot\r\n```\r\nspring:\r\n  jpa:\r\n    hibernate:\r\n      ddl-auto: update\r\n    database-platform: org.hibernate.dialect.MySQL8Dialect\r\n```\r\n","title":"Hibernate dialect for MySQL 8?","body":"<p>If you are using SpringBoot</p>\n<pre><code>spring:\n  jpa:\n    hibernate:\n      ddl-auto: update\n    database-platform: org.hibernate.dialect.MySQL8Dialect\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22716903,"reputation":29,"user_id":16882008,"display_name":"stephen"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1631340180,"creation_date":1631308598,"answer_id":69138090,"question_id":50322550,"body_markdown":"I was able to resolve this by simply adding the configuration below to my `application.properties` file.\r\n\r\n    #Hibernate\r\n    \r\n    spring.jpa.properties.hibernate.dialect= org.hibernate.dialect.MySQL8Dialect\r\n    \r\n    spring.jpa.driverClassName= com.mysql.cj.jdbc.Driver ","title":"Hibernate dialect for MySQL 8?","body":"<p>I was able to resolve this by simply adding the configuration below to my <code>application.properties</code> file.</p>\n<pre><code>#Hibernate\n\nspring.jpa.properties.hibernate.dialect= org.hibernate.dialect.MySQL8Dialect\n\nspring.jpa.driverClassName= com.mysql.cj.jdbc.Driver \n</code></pre>\n"},{"tags":[],"owner":{"account_id":14173076,"reputation":71,"user_id":10239149,"display_name":"Roman Dyndyn"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1676290786,"creation_date":1676290786,"answer_id":75435795,"question_id":50322550,"body_markdown":"Since Hibernate 6, `org.hibernate.dialect.MySQL8Dialect` is deprecated. And now it is recommended to use `org.hibernate.dialect.MySQLDialect`. See [Hibernate JavaDoc](https://docs.jboss.org/hibernate/stable/orm/javadocs/org/hibernate/dialect/MySQL8Dialect.html) for reference","title":"Hibernate dialect for MySQL 8?","body":"<p>Since Hibernate 6, <code>org.hibernate.dialect.MySQL8Dialect</code> is deprecated. And now it is recommended to use <code>org.hibernate.dialect.MySQLDialect</code>. See <a href=\"https://docs.jboss.org/hibernate/stable/orm/javadocs/org/hibernate/dialect/MySQL8Dialect.html\" rel=\"noreferrer\">Hibernate JavaDoc</a> for reference</p>\n"}],"owner":{"account_id":5394775,"reputation":879,"user_id":4296322,"display_name":"unknow"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":184510,"favorite_count":0,"down_vote_count":0,"up_vote_count":75,"answer_count":11,"score":75,"last_activity_date":1677484130,"creation_date":1526266398,"question_id":50322550,"body_markdown":"Is there a Hibernate dialect for MySQL 8? Or should I use the org.hibernate.dialect.MySQL57Dialect that ships with Hibernate?\r\nI&#39;m using hibernate 5.2.16","title":"Hibernate dialect for MySQL 8?","body":"<p>Is there a Hibernate dialect for MySQL 8? Or should I use the org.hibernate.dialect.MySQL57Dialect that ships with Hibernate?\nI'm using hibernate 5.2.16</p>\n"},{"tags":["java","spring-boot","vault","spring-cloud-config-server","spring-cloud-config-client"],"owner":{"account_id":25311212,"reputation":1,"user_id":19133923,"display_name":"Sergey Korotaev"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":89,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677484103,"creation_date":1677484103,"question_id":75577908,"body_markdown":"I need to integrate Vault with spring cloud config server. For example, I have two client services, spring cloud config server and Vault. I need that my clients will go to the spring cloud config server and he will back settings (from git for example) and he will go to Vault and will return credentials for specific server.\r\n\r\nI did only that my service goes to Vault and config server seperatly with approle (or general token).\r\nVault on localhost:8200 and spring cloud config on localhost:8888\r\nFor example, links below are about this problem but they about one client service\r\nhttps://irezyigit.medium.com/approle-authentication-with-vault-7dab4ce0b75e\r\nhttps://pavankjadda.dev/hashicorp-vault-authentication-with-spring-cloud-and-spring-boot/\r\nhttps://dzone.com/articles/integrating-vault-with-spring-cloud-config-server\r\n\r\nHow can I do this? Where can i read about it? I found a lot of links in Google but they are common example and not about it. Thank you","title":"Integration HashiCorp Vault and Spring Cloud Config Server for few client-services","body":"<p>I need to integrate Vault with spring cloud config server. For example, I have two client services, spring cloud config server and Vault. I need that my clients will go to the spring cloud config server and he will back settings (from git for example) and he will go to Vault and will return credentials for specific server.</p>\n<p>I did only that my service goes to Vault and config server seperatly with approle (or general token).\nVault on localhost:8200 and spring cloud config on localhost:8888\nFor example, links below are about this problem but they about one client service\n<a href=\"https://irezyigit.medium.com/approle-authentication-with-vault-7dab4ce0b75e\" rel=\"nofollow noreferrer\">https://irezyigit.medium.com/approle-authentication-with-vault-7dab4ce0b75e</a>\n<a href=\"https://pavankjadda.dev/hashicorp-vault-authentication-with-spring-cloud-and-spring-boot/\" rel=\"nofollow noreferrer\">https://pavankjadda.dev/hashicorp-vault-authentication-with-spring-cloud-and-spring-boot/</a>\n<a href=\"https://dzone.com/articles/integrating-vault-with-spring-cloud-config-server\" rel=\"nofollow noreferrer\">https://dzone.com/articles/integrating-vault-with-spring-cloud-config-server</a></p>\n<p>How can I do this? Where can i read about it? I found a lot of links in Google but they are common example and not about it. Thank you</p>\n"},{"tags":["java","web-services","rest","restful-authentication"],"comments":[{"owner":{"account_id":4118097,"reputation":5672,"user_id":3379182,"display_name":"Matteo Baldi"},"score":0,"creation_date":1459255548,"post_id":36284180,"comment_id":60195211,"body_markdown":"It seems a library import problem, please post also your pom.xml","body":"It seems a library import problem, please post also your pom.xml"},{"owner":{"account_id":6211632,"reputation":17,"user_id":4837756,"accept_rate":0,"display_name":"pooja"},"score":0,"creation_date":1459255898,"post_id":36284180,"comment_id":60195466,"body_markdown":"Thanks For your quick response but I am Not using maven. and i have imported all jersey jars. and get, delete are working fine. only for post i am getting error.","body":"Thanks For your quick response but I am Not using maven. and i have imported all jersey jars. and get, delete are working fine. only for post i am getting error."},{"owner":{"account_id":1306607,"reputation":245,"user_id":1255493,"display_name":"Rodrigo Menezes"},"score":0,"creation_date":1469219630,"post_id":36284180,"comment_id":64463456,"body_markdown":"To add JSON suport to Jersey you need to add a media provider: https://jersey.java.net/documentation/latest/media.html. I Recommend MOXy (jersey-media-moxy)","body":"To add JSON suport to Jersey you need to add a media provider: <a href=\"https://jersey.java.net/documentation/latest/media.html\" rel=\"nofollow noreferrer\">jersey.java.net/documentation/latest/media.html</a>. I Recommend MOXy (jersey-media-moxy)"}],"owner":{"account_id":6211632,"reputation":17,"user_id":4837756,"accept_rate":0,"display_name":"pooja"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1521,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1677483872,"creation_date":1459254187,"question_id":36284180,"body_markdown":"I am just writing a client method and invoking the POST method. But i am facing the below error.\r\n\r\nWhen i test the webservices url though postman its working. Only in my client code its giving error.\r\n\r\n   Mar 29, 2016 5:39:27 PM        org.glassfish.jersey.message.internal.WriterInterceptorExecutor$TerminalWriterInterceptor aroundWriteTo\r\nSEVERE: MessageBodyWriter not found for media type=application/json, type=class org.json.JSONObject, genericType=class org.json.JSONObject.\r\nException in thread &quot;main&quot; org.glassfish.jersey.message.internal.MessageBodyProviderNotFoundException: MessageBodyWriter not found for media type=application/json, type=class org.json.JSONObject, genericType=class org.json.JSONObject.\r\n\tat org.glassfish.jersey.message.internal.WriterInterceptorExecutor$TerminalWriterInterceptor.aroundWriteTo(WriterInterceptorExecutor.java:247)\r\n\tat org.glassfish.jersey.message.internal.WriterInterceptorExecutor.proceed(WriterInterceptorExecutor.java:162)\r\n\tat org.glassfish.jersey.message.internal.MessageBodyFactory.writeTo(MessageBodyFactory.java:1130)\r\n\tat org.glassfish.jersey.client.ClientRequest.doWriteEntity(ClientRequest.java:517)\r\n\tat org.glassfish.jersey.client.ClientRequest.writeEntity(ClientRequest.java:499)\r\n\tat org.glassfish.jersey.client.internal.HttpUrlConnector._apply(HttpUrlConnector.java:388)\r\n\tat org.glassfish.jersey.client.internal.HttpUrlConnector.apply(HttpUrlConnector.java:285)\r\n\tat org.glassfish.jersey.client.ClientRuntime.invoke(ClientRuntime.java:255)\r\n\tat org.glassfish.jersey.client.JerseyInvocation$2.call(JerseyInvocation.java:700)\r\n\tat org.glassfish.jersey.internal.Errors.process(Errors.java:315)\r\n\tat org.glassfish.jersey.internal.Errors.process(Errors.java:297)\r\n\tat org.glassfish.jersey.internal.Errors.process(Errors.java:228)\r\n\tat org.glassfish.jersey.process.internal.RequestScope.runInScope(RequestScope.java:444)\r\n\tat org.glassfish.jersey.client.JerseyInvocation.invoke(JerseyInvocation.java:696)\r\n\tat org.glassfish.jersey.client.JerseyInvocation$Builder.method(JerseyInvocation.java:448)\r\n\tat org.glassfish.jersey.client.JerseyInvocation$Builder.post(JerseyInvocation.java:349)\r\n\tat test.restful.webservices.TESTClient.testUpdateUser(TESTClient.java:58)\r\n\tat test.restful.webservices.TESTClient.main(TESTClient.java:89)\r\n\r\n\r\nHere is my Code: \r\n\r\n      private void testUpdateUser(){\r\n\t\t  FormBean sample = new FormBean();  \r\n\t      sample.setFORM_LONG_DESC(&quot;FrmIssCMNEW&quot;);\t     \r\n\t      JSONObject jo = new JSONObject(sample);\r\n\t      System.out.println(&quot;Json ===&gt;&gt;&quot;+jo);\r\n\t      String callResult = client\r\n\t    \t  .target(REST_SERVICE_URL)\r\n\t          .path(&quot;/Add&quot;)\r\n\t\t      .queryParam(&quot;formcode&quot;, &quot;FrmIssCMNEW&quot;)\r\n\t\t      .queryParam(&quot;dsnID&quot;,&quot;OFSBGRC&quot;)\r\n\t\t\t  .queryParam(&quot;version&quot;,&quot;1&quot;)\r\n\t\t\t  .queryParam(&quot;longdesc&quot;,&quot;testing by me&quot;)\r\n\t         .request(MediaType.TEXT_PLAIN)\r\n\t         .post(Entity.entity(jo,MediaType.APPLICATION_JSON),\r\n\t            String.class);\r\n\r\n      Post Method:\r\n      @POST\r\n\t  @Produces(MediaType.TEXT_PLAIN)\t\r\n\t  @Path(&quot;/Add&quot;)\r\n\t  public String save\r\n\t  (\t\t@QueryParam(&quot;formcode&quot;) String formcode,\r\n\t\t\t@QueryParam(&quot;version&quot;) int version,\r\n\t\t\t@QueryParam(&quot;dsnID&quot;) String dsnID,\r\n\t\t\t@QueryParam(&quot;longdesc&quot;) String longdesc)\r\n\t    {\t\r\n\t\t   /* my code */\r\n\t\t       return &quot;Display from POST method  &lt;&gt; &quot;+&quot;FormID :&quot;+fb.getFORM_ID()+&quot; --&gt;&gt; FormLong Description :&quot;+fb.getFORM_LONG_DESC();\r\n\t\r\n\t   }\r\n\r\n\r\nThanks In Advance.","title":"getting SEVERE: MessageBodyWriter not found for media type=application/json, type=class org.json.JSONObject","body":"<p>I am just writing a client method and invoking the POST method. But i am facing the below error.</p>\n\n<p>When i test the webservices url though postman its working. Only in my client code its giving error.</p>\n\n<p>Mar 29, 2016 5:39:27 PM        org.glassfish.jersey.message.internal.WriterInterceptorExecutor$TerminalWriterInterceptor aroundWriteTo\nSEVERE: MessageBodyWriter not found for media type=application/json, type=class org.json.JSONObject, genericType=class org.json.JSONObject.\nException in thread \"main\" org.glassfish.jersey.message.internal.MessageBodyProviderNotFoundException: MessageBodyWriter not found for media type=application/json, type=class org.json.JSONObject, genericType=class org.json.JSONObject.\n    at org.glassfish.jersey.message.internal.WriterInterceptorExecutor$TerminalWriterInterceptor.aroundWriteTo(WriterInterceptorExecutor.java:247)\n    at org.glassfish.jersey.message.internal.WriterInterceptorExecutor.proceed(WriterInterceptorExecutor.java:162)\n    at org.glassfish.jersey.message.internal.MessageBodyFactory.writeTo(MessageBodyFactory.java:1130)\n    at org.glassfish.jersey.client.ClientRequest.doWriteEntity(ClientRequest.java:517)\n    at org.glassfish.jersey.client.ClientRequest.writeEntity(ClientRequest.java:499)\n    at org.glassfish.jersey.client.internal.HttpUrlConnector._apply(HttpUrlConnector.java:388)\n    at org.glassfish.jersey.client.internal.HttpUrlConnector.apply(HttpUrlConnector.java:285)\n    at org.glassfish.jersey.client.ClientRuntime.invoke(ClientRuntime.java:255)\n    at org.glassfish.jersey.client.JerseyInvocation$2.call(JerseyInvocation.java:700)\n    at org.glassfish.jersey.internal.Errors.process(Errors.java:315)\n    at org.glassfish.jersey.internal.Errors.process(Errors.java:297)\n    at org.glassfish.jersey.internal.Errors.process(Errors.java:228)\n    at org.glassfish.jersey.process.internal.RequestScope.runInScope(RequestScope.java:444)\n    at org.glassfish.jersey.client.JerseyInvocation.invoke(JerseyInvocation.java:696)\n    at org.glassfish.jersey.client.JerseyInvocation$Builder.method(JerseyInvocation.java:448)\n    at org.glassfish.jersey.client.JerseyInvocation$Builder.post(JerseyInvocation.java:349)\n    at test.restful.webservices.TESTClient.testUpdateUser(TESTClient.java:58)\n    at test.restful.webservices.TESTClient.main(TESTClient.java:89)</p>\n\n<p>Here is my Code: </p>\n\n<pre><code>  private void testUpdateUser(){\n      FormBean sample = new FormBean();  \n      sample.setFORM_LONG_DESC(\"FrmIssCMNEW\");       \n      JSONObject jo = new JSONObject(sample);\n      System.out.println(\"Json ===&gt;&gt;\"+jo);\n      String callResult = client\n          .target(REST_SERVICE_URL)\n          .path(\"/Add\")\n          .queryParam(\"formcode\", \"FrmIssCMNEW\")\n          .queryParam(\"dsnID\",\"OFSBGRC\")\n          .queryParam(\"version\",\"1\")\n          .queryParam(\"longdesc\",\"testing by me\")\n         .request(MediaType.TEXT_PLAIN)\n         .post(Entity.entity(jo,MediaType.APPLICATION_JSON),\n            String.class);\n\n  Post Method:\n  @POST\n  @Produces(MediaType.TEXT_PLAIN)   \n  @Path(\"/Add\")\n  public String save\n  (     @QueryParam(\"formcode\") String formcode,\n        @QueryParam(\"version\") int version,\n        @QueryParam(\"dsnID\") String dsnID,\n        @QueryParam(\"longdesc\") String longdesc)\n    {   \n       /* my code */\n           return \"Display from POST method  &lt;&gt; \"+\"FormID :\"+fb.getFORM_ID()+\" --&gt;&gt; FormLong Description :\"+fb.getFORM_LONG_DESC();\n\n   }\n</code></pre>\n\n<p>Thanks In Advance.</p>\n"},{"tags":["java","file-io","printf"],"comments":[{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1677467138,"post_id":75576437,"comment_id":133337265,"body_markdown":"What does your input file look like? (post code not images). You&#39;re also double reading the the `id` (before the loop and from within the loop)","body":"What does your input file look like? (post code not images). You&#39;re also double reading the the <code>id</code> (before the loop and from within the loop)"},{"owner":{"account_id":27180039,"reputation":11,"user_id":20715426,"display_name":"catdu"},"score":0,"creation_date":1677467654,"post_id":75576437,"comment_id":133337320,"body_markdown":"input file **1234 10 11\n1002 47 2\n9000 31 19\n8110 12 10\n9062 40 0\n9001 25 25\n2764 1 49\n1010 10 10\n2324 19 30\n1623 20 28\n1423 20 30\n6969 0 50\n4200 41 6\n-1**\nAlso Im doing the id twice because the while loop has to repeat after I finish entering a students data. I ask the ID once to start the loop and again inside it to continue it","body":"input file <b>1234 10 11 1002 47 2 9000 31 19 8110 12 10 9062 40 0 9001 25 25 2764 1 49 1010 10 10 2324 19 30 1623 20 28 1423 20 30 6969 0 50 4200 41 6 -1</b> Also Im doing the id twice because the while loop has to repeat after I finish entering a students data. I ask the ID once to start the loop and again inside it to continue it"},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1677467979,"post_id":75576437,"comment_id":133337353,"body_markdown":"But you&#39;re not inputing the data, you&#39;re reading it from the file","body":"But you&#39;re not inputing the data, you&#39;re reading it from the file"},{"owner":{"account_id":27180039,"reputation":11,"user_id":20715426,"display_name":"catdu"},"score":0,"creation_date":1677468197,"post_id":75576437,"comment_id":133337377,"body_markdown":"Yes and its not printing line 1&#39;s ID for some reason and everything else is printing one line down so the questions right and wrong for ID1234 will print on ID1002&#39;s line and so on","body":"Yes and its not printing line 1&#39;s ID for some reason and everything else is printing one line down so the questions right and wrong for ID1234 will print on ID1002&#39;s line and so on"},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1677468723,"post_id":75576437,"comment_id":133337437,"body_markdown":"First, you should be using `Scanner#hasNextInt` in you `while-loop` to determine if any more values exists.  You should read the `id` within the `loop` on each iteration","body":"First, you should be using <code>Scanner#hasNextInt</code> in you <code>while-loop</code> to determine if any more values exists.  You should read the <code>id</code> within the <code>loop</code> on each iteration"},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1677468810,"post_id":75576437,"comment_id":133337448,"body_markdown":"Okay, so you file is terminated with a `-1` ... annoying","body":"Okay, so you file is terminated with a <code>-1</code> ... annoying"},{"owner":{"account_id":27180039,"reputation":11,"user_id":20715426,"display_name":"catdu"},"score":0,"creation_date":1677469302,"post_id":75576437,"comment_id":133337494,"body_markdown":"we didnt learn scanner#hasnextint yet and ending the loop with a -1 is what my professor wanted me to do if I turn this in with something we haven&#39;t learned yet I get no credit I just want to know why the first ID isn&#39;t being printed, why everything is getting printed a line down, and why the formatting is all messed up","body":"we didnt learn scanner#hasnextint yet and ending the loop with a -1 is what my professor wanted me to do if I turn this in with something we haven&#39;t learned yet I get no credit I just want to know why the first ID isn&#39;t being printed, why everything is getting printed a line down, and why the formatting is all messed up"},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1677469913,"post_id":75576437,"comment_id":133337543,"body_markdown":"*&quot;I just want to know why the first ID isn&#39;t being printed&quot;* - As I said, you&#39;re double reading it, so before you&#39;ve even printed it, you&#39;ve read the next id.  Read before the loop, so you can check for `-1` then read it again at the end of the loop to get the next value. *&quot;why everything is getting printed a line down&quot;* - because you proceed the output with `\\n`, with it will print the newline first, then the rest of the text, put it at the end of the `printf` statement (after all the output);","body":"<i>&quot;I just want to know why the first ID isn&#39;t being printed&quot;</i> - As I said, you&#39;re double reading it, so before you&#39;ve even printed it, you&#39;ve read the next id.  Read before the loop, so you can check for <code>-1</code> then read it again at the end of the loop to get the next value. <i>&quot;why everything is getting printed a line down&quot;</i> - because you proceed the output with <code>\\n</code>, with it will print the newline first, then the rest of the text, put it at the end of the <code>printf</code> statement (after all the output);"},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1677469955,"post_id":75576437,"comment_id":133337546,"body_markdown":"*&quot;and why the formatting is all messed up&quot;* because your column widths are all messed up between your title and your output and you&#39;re trying to output the &quot;omit&quot; value before you try printing any of the other results","body":"<i>&quot;and why the formatting is all messed up&quot;</i> because your column widths are all messed up between your title and your output and you&#39;re trying to output the &quot;omit&quot; value before you try printing any of the other results"}],"answers":[{"tags":[],"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1677483766,"creation_date":1677469434,"answer_id":75576603,"question_id":75576437,"body_markdown":"&gt; No matter what I do, the C&#39;s and I&#39;s will not print under the More Right/Wrong column. \r\n\r\nWhen dealing with formatters like this, it&#39;s REALLY important that the column structure is the same across iterations, for example...\r\n\r\n    outputFile.printf(&quot;\\n%1s %7s %9s %12s %9s %10s %7s %12s %8s&quot;,&quot;\\nStudent&quot;,&quot;ID&quot;,&quot;Correct&quot;,&quot;Incorrect&quot;,&quot;Total&quot;,&quot;More Right/Wrong&quot;,&quot;Omit&quot;,&quot;Grade&quot;,&quot;Percent&quot;);\r\n    //...\r\n    outputFile.printf(&quot;\\n%1s%14s%7s%12s%12s%9s%11s%10.3f&quot;, student, id, corr, incorr, total, omit, grade, pct);\r\n\r\nThe first title column is 1 character wide and the second is 7, but the second output column is 14??\r\n\r\nNow, take into consideration that `Student` is 7 characters wide anyway and the first columns width doesn&#39;t make sense.\r\n\r\nInstead it &quot;should&quot; look something more like...\r\n\r\n\r\n    System.out.printf(&quot;\\n%-7s %-4s %-7s %-9s %-5s %-16s %-4s %-6s %-8s&quot;, &quot;Student&quot;, &quot;ID&quot;, &quot;Correct&quot;, &quot;Incorrect&quot;, &quot;Total&quot;, &quot;More Right/Wrong&quot;, &quot;Omit&quot;, &quot;Grade&quot;, &quot;Percent&quot;);\r\n    //...\r\n    System.out.printf(&quot;\\n%7d %4d %7d %9s %5s %16s %4d %6.3f %3.2f&quot;, student, id, corr, incorr, total, value, omit, grade, pct);\r\n\r\n&gt; Additionally, The &lt;10 will not print uder the Omit column either.here is my code.\r\n\r\nYes, this is because you&#39;re printing the &quot;omit&quot; BEFORE you print any of the other information.  While there is away you &quot;could&quot; do it like this, from a readability point of view, you should be including the &quot;omit&quot; information as part of the whole data when you print it.\r\n\r\n\r\nSo, I modified your code slightly to fix the columns and add the &quot;omit&quot; information in to the final data line...\r\n\r\n    File myFile = new File(&quot;marks.txt&quot;);\r\n    try (Scanner inputFile = new Scanner(myFile)) {\r\n        // print table header and columns\r\n        System.out.printf(&quot;%40s&quot;, &quot;\\tTable of Grades&quot;);\r\n        System.out.printf(&quot;\\n%7s %4s %7s %10s %9s %16s %4s %5s %8s&quot;, &quot;Student&quot;, &quot;ID&quot;, &quot;Correct&quot;, &quot;Incorrect&quot;, &quot;Total&quot;, &quot;More Right/Wrong&quot;, &quot;Omit&quot;, &quot;Grade&quot;, &quot;Percent&quot;);\r\n        System.out.println();\r\n\r\n        int student = 0;\r\n\r\n        int id = inputFile.nextInt();\r\n        while (id != -1) {\r\n            int corr = inputFile.nextInt();\r\n            int incorr = inputFile.nextInt();\r\n            student++;\r\n            int total = corr + incorr;\r\n            // Not sure if this has anything to do with your current\r\n            // assignment, but it&#39;s just adding noise\r\n            //if (50 &lt; total) {\r\n            //    System.out.println(&quot;ERROR. TOTAL CANNOT EXCEED 50 QUESTIONS. PROCEEDING TO NEXT STUDENT.&quot;);\r\n            //}\r\n            int omit = 50 - (corr + incorr);\r\n            double grade = corr * 2;\r\n            // calculate percentage correct. type cast correct and total to make sure it\r\n            // doesnt truncate\r\n            double pct = (double) corr / total;\r\n            //print if the omitted amount of questions is less, more, or equal to 10\r\n            String value = &quot;&quot;;\r\n            if (omit &lt; 10) {\r\n                value = &quot;&lt;10&quot;;\r\n            }\r\n            if (10 &lt; omit) {\r\n                value = &quot;10&lt;&quot;;\r\n            }\r\n            if (omit == 10) {\r\n                value = &quot;10&quot;;\r\n            }\r\n            if (corr &lt; incorr) {\r\n                value = &quot;I&quot;;\r\n            }\r\n            if (incorr &lt; corr) {\r\n                value = &quot;C&quot;;\r\n            }\r\n            if (corr == incorr) {\r\n                value = &quot;=&quot;;\r\n            }\r\n            //print values for corresponding columns\r\n          //System.out.printf(&quot;\\n%7s %4s %7s %10s %9s %16s %4s %5s %8s&quot;, &quot;Student&quot;, &quot;ID&quot;, &quot;Correct&quot;, &quot;Incorrect&quot;, &quot;Total&quot;, &quot;More Right/Wrong&quot;, &quot;Omit&quot;, &quot;Grade&quot;, &quot;Percent&quot;);\r\n            System.out.printf(&quot;\\n%7d %4d %7d %10s %9s %16s %4d %5.3f %3.2f&quot;, student, id, corr, incorr, total, value, omit, grade, pct);\r\n\r\n            id = inputFile.nextInt();\r\n        }\r\n        //notify viewer that program has run\r\n        System.out.println(&quot;\\nThe program is finished.&quot;);\r\n        // flush buffer and close i/o files\r\n    }\r\n\r\nThis now prints\r\n\r\n                            \tTable of Grades\r\n    Student ID   Correct Incorrect Total More Right/Wrong Omit Grade  Percent \r\n    \r\n          1 1234      10        11    21                I   29 20.000 0.48\r\n          2 1002      47         2    49                C    1 94.000 0.96\r\n          3 9000      31        19    50                C    0 62.000 0.62\r\n          4 8110      12        10    22                C   28 24.000 0.55\r\n          5 9062      40         0    40                C   10 80.000 1.00\r\n          6 9001      25        25    50                =    0 50.000 0.50\r\n          7 2764       1        49    50                I    0  2.000 0.02\r\n          8 1010      10        10    20                =   30 20.000 0.50\r\n          9 2324      19        30    49                I    1 38.000 0.39\r\n         10 1623      20        28    48                I    2 40.000 0.42\r\n         11 1423      20        30    50                I    0 40.000 0.40\r\n         12 6969       0        50    50                I    0  0.000 0.00\r\n         13 4200      41         6    47                C    3 82.000 0.87\r\n    The program is finished.\r\n\r\nNow, if you want the columns to be right aligned, then you can use `-` before the column width, for example `%-7d`\r\n\r\n&gt; I still don&#39;t understand why line 1 is getting deleted from the table\r\n\r\nLook at how you code is running...\r\n\r\n    id = inputFile.nextInt();\r\n    while (id != -1) {\r\n        //...\r\n        id = inputFile.nextInt();\r\n        //...\r\n        outputFile.printf(&quot;\\n%1s%14s%7s%12s%12s%9s%11s%10.3f&quot;, student, id, corr, incorr, total, omit, grade, pct);\r\n\r\n* You get the first `id`\r\n* You check for the end of file\r\n* You load the various values\r\n* You read the NEXT `id`\r\n* You print the values\r\n\r\n... which id is getting printed?\r\n\r\nThere is a concept called &quot;desk checking&quot;, where you take a pencil and paper and you walk through the program, updating the state as you go, it&#39;s a really good way to get you to think about how you code is actually running.\r\n\r\n&gt;  and everything else is printing a line down\r\n\r\nLook at...\r\n\r\n    outputFile.printf(&quot;\\n%1s %7s %9s %12s %9s %10s %7s %12s %8s&quot;,&quot;\\nStudent&quot;,&quot;ID&quot;,&quot;Correct&quot;,&quot;Incorrect&quot;,&quot;Total&quot;,&quot;More Right/Wrong&quot;,&quot;Omit&quot;,&quot;Grade&quot;,&quot;Percent&quot;);\r\n\r\nYou have two line breaks, one in the &quot;format&quot; and one in the values (`&quot;\\nStudent&quot;`)\r\n\r\nPersonally, I would only put one at the end of each output, for example...\r\n\r\n    System.out.printf(&quot;%40s&quot;, &quot;\\tTable of Grades\\n&quot;);\r\n    System.out.printf(&quot;%-7s %-4s %-7s %-9s %-5s %-16s %-4s %-6s %-8s\\n&quot;, &quot;Student&quot;, &quot;ID&quot;, &quot;Correct&quot;, &quot;Incorrect&quot;, &quot;Total&quot;, &quot;More Right/Wrong&quot;, &quot;Omit&quot;, &quot;Grade&quot;, &quot;Percent&quot;);\r\n\r\n&gt; Additionally we have to print the prompt as repeating instead of reading from the input file only\r\n\r\nI&#39;m sure you can figure that out, but it&#39;s otherwise just adding noise to the question\r\n\r\n&gt;  there&#39;s a couple of things that I cant use yet like String value\r\n\r\n&#128580; That&#39;s one of the dangers of posting on SO, we&#39;ll answer the question usually in the most optimal way we know how.\r\n\r\nHaving said that, there is away to make it work, but sequence and order are important.\r\n\r\nStart by printing the preceding information first...\r\n\r\n    System.out.printf(&quot;%7d %4d %7d %9s %5s&quot;, student, id, corr, incorr, total);\r\n\r\nThen print the +/- information...\r\n\r\n    if (omit &lt; 10) {\r\n        System.out.printf(&quot;%16s&quot;, &quot;&lt;10&quot;);\r\n    }\r\n    if (10 &lt; omit) {\r\n        System.out.printf(&quot;%16s&quot;, &quot;10&lt;&quot;);\r\n    }\r\n    if (omit == 10) {\r\n        System.out.printf(&quot;%16s&quot;, &quot;10&quot;);\r\n    }\r\n    if (corr &lt; incorr) {\r\n        value = &quot;I&quot;;\r\n        System.out.printf(&quot;%16s&quot;, &quot;I&quot;);\r\n    }\r\n    if (incorr &lt; corr) {\r\n        value = &quot;C&quot;;\r\n        System.out.printf(&quot;%16s&quot;, &quot;C&quot;);\r\n    }\r\n    if (corr == incorr) {\r\n        System.out.printf(&quot;%16s&quot;, &quot;=&quot;);\r\n    }\r\n\r\nOh and this should be an `if-elseif-else` statement, but I&#39;m guessing you&#39;re not allowed to use those...\r\n\r\nAnd then print the rest...\r\n\r\n    System.out.printf(&quot;%4d %6.3f %3.2f\\n&quot;, omit, grade, pct);","title":"Output file not reading input file correctly, format out of order,","body":"<blockquote>\n<p>No matter what I do, the C's and I's will not print under the More Right/Wrong column.</p>\n</blockquote>\n<p>When dealing with formatters like this, it's REALLY important that the column structure is the same across iterations, for example...</p>\n<pre><code>outputFile.printf(&quot;\\n%1s %7s %9s %12s %9s %10s %7s %12s %8s&quot;,&quot;\\nStudent&quot;,&quot;ID&quot;,&quot;Correct&quot;,&quot;Incorrect&quot;,&quot;Total&quot;,&quot;More Right/Wrong&quot;,&quot;Omit&quot;,&quot;Grade&quot;,&quot;Percent&quot;);\n//...\noutputFile.printf(&quot;\\n%1s%14s%7s%12s%12s%9s%11s%10.3f&quot;, student, id, corr, incorr, total, omit, grade, pct);\n</code></pre>\n<p>The first title column is 1 character wide and the second is 7, but the second output column is 14??</p>\n<p>Now, take into consideration that <code>Student</code> is 7 characters wide anyway and the first columns width doesn't make sense.</p>\n<p>Instead it &quot;should&quot; look something more like...</p>\n<pre><code>System.out.printf(&quot;\\n%-7s %-4s %-7s %-9s %-5s %-16s %-4s %-6s %-8s&quot;, &quot;Student&quot;, &quot;ID&quot;, &quot;Correct&quot;, &quot;Incorrect&quot;, &quot;Total&quot;, &quot;More Right/Wrong&quot;, &quot;Omit&quot;, &quot;Grade&quot;, &quot;Percent&quot;);\n//...\nSystem.out.printf(&quot;\\n%7d %4d %7d %9s %5s %16s %4d %6.3f %3.2f&quot;, student, id, corr, incorr, total, value, omit, grade, pct);\n</code></pre>\n<blockquote>\n<p>Additionally, The &lt;10 will not print uder the Omit column either.here is my code.</p>\n</blockquote>\n<p>Yes, this is because you're printing the &quot;omit&quot; BEFORE you print any of the other information.  While there is away you &quot;could&quot; do it like this, from a readability point of view, you should be including the &quot;omit&quot; information as part of the whole data when you print it.</p>\n<p>So, I modified your code slightly to fix the columns and add the &quot;omit&quot; information in to the final data line...</p>\n<pre><code>File myFile = new File(&quot;marks.txt&quot;);\ntry (Scanner inputFile = new Scanner(myFile)) {\n    // print table header and columns\n    System.out.printf(&quot;%40s&quot;, &quot;\\tTable of Grades&quot;);\n    System.out.printf(&quot;\\n%7s %4s %7s %10s %9s %16s %4s %5s %8s&quot;, &quot;Student&quot;, &quot;ID&quot;, &quot;Correct&quot;, &quot;Incorrect&quot;, &quot;Total&quot;, &quot;More Right/Wrong&quot;, &quot;Omit&quot;, &quot;Grade&quot;, &quot;Percent&quot;);\n    System.out.println();\n\n    int student = 0;\n\n    int id = inputFile.nextInt();\n    while (id != -1) {\n        int corr = inputFile.nextInt();\n        int incorr = inputFile.nextInt();\n        student++;\n        int total = corr + incorr;\n        // Not sure if this has anything to do with your current\n        // assignment, but it's just adding noise\n        //if (50 &lt; total) {\n        //    System.out.println(&quot;ERROR. TOTAL CANNOT EXCEED 50 QUESTIONS. PROCEEDING TO NEXT STUDENT.&quot;);\n        //}\n        int omit = 50 - (corr + incorr);\n        double grade = corr * 2;\n        // calculate percentage correct. type cast correct and total to make sure it\n        // doesnt truncate\n        double pct = (double) corr / total;\n        //print if the omitted amount of questions is less, more, or equal to 10\n        String value = &quot;&quot;;\n        if (omit &lt; 10) {\n            value = &quot;&lt;10&quot;;\n        }\n        if (10 &lt; omit) {\n            value = &quot;10&lt;&quot;;\n        }\n        if (omit == 10) {\n            value = &quot;10&quot;;\n        }\n        if (corr &lt; incorr) {\n            value = &quot;I&quot;;\n        }\n        if (incorr &lt; corr) {\n            value = &quot;C&quot;;\n        }\n        if (corr == incorr) {\n            value = &quot;=&quot;;\n        }\n        //print values for corresponding columns\n      //System.out.printf(&quot;\\n%7s %4s %7s %10s %9s %16s %4s %5s %8s&quot;, &quot;Student&quot;, &quot;ID&quot;, &quot;Correct&quot;, &quot;Incorrect&quot;, &quot;Total&quot;, &quot;More Right/Wrong&quot;, &quot;Omit&quot;, &quot;Grade&quot;, &quot;Percent&quot;);\n        System.out.printf(&quot;\\n%7d %4d %7d %10s %9s %16s %4d %5.3f %3.2f&quot;, student, id, corr, incorr, total, value, omit, grade, pct);\n\n        id = inputFile.nextInt();\n    }\n    //notify viewer that program has run\n    System.out.println(&quot;\\nThe program is finished.&quot;);\n    // flush buffer and close i/o files\n}\n</code></pre>\n<p>This now prints</p>\n<pre><code>                            Table of Grades\nStudent ID   Correct Incorrect Total More Right/Wrong Omit Grade  Percent \n\n      1 1234      10        11    21                I   29 20.000 0.48\n      2 1002      47         2    49                C    1 94.000 0.96\n      3 9000      31        19    50                C    0 62.000 0.62\n      4 8110      12        10    22                C   28 24.000 0.55\n      5 9062      40         0    40                C   10 80.000 1.00\n      6 9001      25        25    50                =    0 50.000 0.50\n      7 2764       1        49    50                I    0  2.000 0.02\n      8 1010      10        10    20                =   30 20.000 0.50\n      9 2324      19        30    49                I    1 38.000 0.39\n     10 1623      20        28    48                I    2 40.000 0.42\n     11 1423      20        30    50                I    0 40.000 0.40\n     12 6969       0        50    50                I    0  0.000 0.00\n     13 4200      41         6    47                C    3 82.000 0.87\nThe program is finished.\n</code></pre>\n<p>Now, if you want the columns to be right aligned, then you can use <code>-</code> before the column width, for example <code>%-7d</code></p>\n<blockquote>\n<p>I still don't understand why line 1 is getting deleted from the table</p>\n</blockquote>\n<p>Look at how you code is running...</p>\n<pre><code>id = inputFile.nextInt();\nwhile (id != -1) {\n    //...\n    id = inputFile.nextInt();\n    //...\n    outputFile.printf(&quot;\\n%1s%14s%7s%12s%12s%9s%11s%10.3f&quot;, student, id, corr, incorr, total, omit, grade, pct);\n</code></pre>\n<ul>\n<li>You get the first <code>id</code></li>\n<li>You check for the end of file</li>\n<li>You load the various values</li>\n<li>You read the NEXT <code>id</code></li>\n<li>You print the values</li>\n</ul>\n<p>... which id is getting printed?</p>\n<p>There is a concept called &quot;desk checking&quot;, where you take a pencil and paper and you walk through the program, updating the state as you go, it's a really good way to get you to think about how you code is actually running.</p>\n<blockquote>\n<p>and everything else is printing a line down</p>\n</blockquote>\n<p>Look at...</p>\n<pre><code>outputFile.printf(&quot;\\n%1s %7s %9s %12s %9s %10s %7s %12s %8s&quot;,&quot;\\nStudent&quot;,&quot;ID&quot;,&quot;Correct&quot;,&quot;Incorrect&quot;,&quot;Total&quot;,&quot;More Right/Wrong&quot;,&quot;Omit&quot;,&quot;Grade&quot;,&quot;Percent&quot;);\n</code></pre>\n<p>You have two line breaks, one in the &quot;format&quot; and one in the values (<code>&quot;\\nStudent&quot;</code>)</p>\n<p>Personally, I would only put one at the end of each output, for example...</p>\n<pre><code>System.out.printf(&quot;%40s&quot;, &quot;\\tTable of Grades\\n&quot;);\nSystem.out.printf(&quot;%-7s %-4s %-7s %-9s %-5s %-16s %-4s %-6s %-8s\\n&quot;, &quot;Student&quot;, &quot;ID&quot;, &quot;Correct&quot;, &quot;Incorrect&quot;, &quot;Total&quot;, &quot;More Right/Wrong&quot;, &quot;Omit&quot;, &quot;Grade&quot;, &quot;Percent&quot;);\n</code></pre>\n<blockquote>\n<p>Additionally we have to print the prompt as repeating instead of reading from the input file only</p>\n</blockquote>\n<p>I'm sure you can figure that out, but it's otherwise just adding noise to the question</p>\n<blockquote>\n<p>there's a couple of things that I cant use yet like String value</p>\n</blockquote>\n<p>🙄 That's one of the dangers of posting on SO, we'll answer the question usually in the most optimal way we know how.</p>\n<p>Having said that, there is away to make it work, but sequence and order are important.</p>\n<p>Start by printing the preceding information first...</p>\n<pre><code>System.out.printf(&quot;%7d %4d %7d %9s %5s&quot;, student, id, corr, incorr, total);\n</code></pre>\n<p>Then print the +/- information...</p>\n<pre><code>if (omit &lt; 10) {\n    System.out.printf(&quot;%16s&quot;, &quot;&lt;10&quot;);\n}\nif (10 &lt; omit) {\n    System.out.printf(&quot;%16s&quot;, &quot;10&lt;&quot;);\n}\nif (omit == 10) {\n    System.out.printf(&quot;%16s&quot;, &quot;10&quot;);\n}\nif (corr &lt; incorr) {\n    value = &quot;I&quot;;\n    System.out.printf(&quot;%16s&quot;, &quot;I&quot;);\n}\nif (incorr &lt; corr) {\n    value = &quot;C&quot;;\n    System.out.printf(&quot;%16s&quot;, &quot;C&quot;);\n}\nif (corr == incorr) {\n    System.out.printf(&quot;%16s&quot;, &quot;=&quot;);\n}\n</code></pre>\n<p>Oh and this should be an <code>if-elseif-else</code> statement, but I'm guessing you're not allowed to use those...</p>\n<p>And then print the rest...</p>\n<pre><code>System.out.printf(&quot;%4d %6.3f %3.2f\\n&quot;, omit, grade, pct);\n</code></pre>\n"}],"owner":{"account_id":27180039,"reputation":11,"user_id":20715426,"display_name":"catdu"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":84,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1677483766,"creation_date":1677466824,"question_id":75576437,"body_markdown":"i am trying to create a program that takes exam statistics for 12 students. In this program the input file is read by the program and then printed to the output file, but there are a slew of issues. the program is reading the inputfile but not printing the first ID. No matter what I do, the C&#39;s and I&#39;s will not print under the More Right/Wrong column. Additionally, The &lt;10 will not print uder the Omit column either.here is my code. \r\n```\r\nimport java.util.Scanner;\r\nimport java.io.*;\r\n\r\npublic class Topic3_HW3 {\r\n\r\n\tpublic static void main(String[] args) throws IOException {\r\n\t\tPrintWriter outputFile;\r\n\t\toutputFile = new PrintWriter(&quot;HW3_output.txt&quot;);\r\n\t\t// outputFile = new PrintWriter(System.out);\r\n\t\t// TODO Auto-generated method stub\r\n\t\tFile myFile = new File(&quot;C:\\\\Users\\\\chroZ\\\\eclipse-workspace\\\\Topic3\\\\src\\\\Topic3_input.txt&quot;);\r\n\t\tScanner inputFile = new Scanner(myFile);\r\n\t\t// print table header and columns\r\n\t\toutputFile.printf(&quot;%40s&quot;, &quot;\\tTable of Grades&quot;);\r\n\t\toutputFile.printf(&quot;\\n%1s %7s %9s %12s %9s %10s %7s %12s %8s&quot;,&quot;\\nStudent&quot;,&quot;ID&quot;,&quot;Correct&quot;,&quot;Incorrect&quot;,&quot;Total&quot;,&quot;More Right/Wrong&quot;,&quot;Omit&quot;,&quot;Grade&quot;,&quot;Percent&quot;);\r\n\t\toutputFile.println();\r\n\t\t// declare datatypes for different variables\r\n\t\tdouble pct;\r\n\t\tint grade, id, corr, incorr, total, omit;\r\n\t\tint student = 0;\r\n\t\t//prompt user to input initial student&#39;s ID\r\n\t\tSystem.out.print(&quot;Enter student&#39;s ID(negative 1 to stop): &quot;);\r\n\t\tid = inputFile.nextInt();\r\n\t\twhile (id != -1) {\r\n\t\t\t//prompt user to enter said student&#39;s wrong/right questions\r\n\t\t\tSystem.out.print(&quot;\\nEnter the amount of questions the student answered correctly: &quot;);\r\n\t\t\tcorr = inputFile.nextInt();\r\n\t\t\tSystem.out.print(&quot;\\nEnter the amount of questions the student answered incorrectly: &quot;);\r\n\t\t\tincorr = inputFile.nextInt();\r\n\t\t\tstudent++;\r\n\t\t\ttotal = corr + incorr;\r\n\t\t\t// print error if total is more than 50 questions\r\n\t\t\tif (50 &lt; total) {\r\n\t\t\tSystem.out.println(&quot;ERROR. TOTAL CANNOT EXCEED 50 QUESTIONS. PROCEEDING TO NEXT STUDENT.&quot;);}\r\n\t\t\tSystem.out.print(&quot;\\nEnter the desired student&#39;s ID(negative 1 to stop): &quot;);\r\n\t\t\tid = inputFile.nextInt();\r\n\t\t\tomit = 50 - (corr + incorr);\r\n\t\t\tgrade = corr * 2;\r\n\t\t\t// calculate percentage correct. type cast correct and total to make sure it\r\n\t\t\t// doesnt truncate\r\n\t\t\tpct = (double) corr / total;\r\n\t\t\t//print if the omitted amount of questions is less, more, or equal to 10\r\n\t\t\tif (omit &lt; 10)\r\n\t\t\t\toutputFile.printf(&quot;%-15s&quot;, &quot;&lt;10&quot;);\r\n\t\t\tif (10 &lt; omit)\r\n\t\t\t\toutputFile.printf(&quot;%-15s&quot;, &quot;10&lt;&quot;);\r\n\t\t\tif (omit == 10)\r\n\t\t\t\toutputFile.printf(&quot;%-15s&quot;, &quot;10&quot;);\r\n\t\t\tif (corr&lt;incorr)\r\n\t\t\t\toutputFile.printf(&quot;%-10s&quot;,&quot;I&quot;);\r\n\t\t\tif(incorr&lt;corr)\r\n\t\t\t\toutputFile.printf(&quot;%-10s&quot;,&quot;C&quot;);\r\n\t\t\tif (corr==incorr)\r\n\t\t\t\toutputFile.printf(&quot;%-10s&quot;,&quot;=&quot;);\r\n\t\t\t//print values for corresponding columns\r\n\t\t\toutputFile.printf(&quot;\\n%1s%14s%7s%12s%12s%9s%11s%10.3f&quot;, student, id, corr, incorr, total, omit, grade, pct);\r\n\t\t}\r\n\t\t//notify viewer that program has run\r\n\t\tSystem.out.println(&quot;\\nThe program is finished.&quot;);\r\n\t\t// flush buffer and close i/o files\r\n\t\toutputFile.flush();\r\n\t\toutputFile.close();\r\n\t\tinputFile.close();\r\n\t}\r\n}\r\n```\r\n[![photos of my input and output files](https://i.stack.imgur.com/M9NKd.png)](https://i.stack.imgur.com/UK3Qy.png)]\r\n \r\n\r\nI tried changing the %-10 formatting for the Cs and Is but even if I do %-100 it still will not print before the percent columns values. I was expecting the table to print the full values for their corresponding columns including line 1 of the input file. I was also expecting for the Cs and Is  to print under More Right/Wrong column and the 10&lt;s to print under the omit column next to the number.Instead, the column values are printing all over the place","title":"Output file not reading input file correctly, format out of order,","body":"<p>i am trying to create a program that takes exam statistics for 12 students. In this program the input file is read by the program and then printed to the output file, but there are a slew of issues. the program is reading the inputfile but not printing the first ID. No matter what I do, the C's and I's will not print under the More Right/Wrong column. Additionally, The &lt;10 will not print uder the Omit column either.here is my code.</p>\n<pre><code>import java.util.Scanner;\nimport java.io.*;\n\npublic class Topic3_HW3 {\n\n    public static void main(String[] args) throws IOException {\n        PrintWriter outputFile;\n        outputFile = new PrintWriter(&quot;HW3_output.txt&quot;);\n        // outputFile = new PrintWriter(System.out);\n        // TODO Auto-generated method stub\n        File myFile = new File(&quot;C:\\\\Users\\\\chroZ\\\\eclipse-workspace\\\\Topic3\\\\src\\\\Topic3_input.txt&quot;);\n        Scanner inputFile = new Scanner(myFile);\n        // print table header and columns\n        outputFile.printf(&quot;%40s&quot;, &quot;\\tTable of Grades&quot;);\n        outputFile.printf(&quot;\\n%1s %7s %9s %12s %9s %10s %7s %12s %8s&quot;,&quot;\\nStudent&quot;,&quot;ID&quot;,&quot;Correct&quot;,&quot;Incorrect&quot;,&quot;Total&quot;,&quot;More Right/Wrong&quot;,&quot;Omit&quot;,&quot;Grade&quot;,&quot;Percent&quot;);\n        outputFile.println();\n        // declare datatypes for different variables\n        double pct;\n        int grade, id, corr, incorr, total, omit;\n        int student = 0;\n        //prompt user to input initial student's ID\n        System.out.print(&quot;Enter student's ID(negative 1 to stop): &quot;);\n        id = inputFile.nextInt();\n        while (id != -1) {\n            //prompt user to enter said student's wrong/right questions\n            System.out.print(&quot;\\nEnter the amount of questions the student answered correctly: &quot;);\n            corr = inputFile.nextInt();\n            System.out.print(&quot;\\nEnter the amount of questions the student answered incorrectly: &quot;);\n            incorr = inputFile.nextInt();\n            student++;\n            total = corr + incorr;\n            // print error if total is more than 50 questions\n            if (50 &lt; total) {\n            System.out.println(&quot;ERROR. TOTAL CANNOT EXCEED 50 QUESTIONS. PROCEEDING TO NEXT STUDENT.&quot;);}\n            System.out.print(&quot;\\nEnter the desired student's ID(negative 1 to stop): &quot;);\n            id = inputFile.nextInt();\n            omit = 50 - (corr + incorr);\n            grade = corr * 2;\n            // calculate percentage correct. type cast correct and total to make sure it\n            // doesnt truncate\n            pct = (double) corr / total;\n            //print if the omitted amount of questions is less, more, or equal to 10\n            if (omit &lt; 10)\n                outputFile.printf(&quot;%-15s&quot;, &quot;&lt;10&quot;);\n            if (10 &lt; omit)\n                outputFile.printf(&quot;%-15s&quot;, &quot;10&lt;&quot;);\n            if (omit == 10)\n                outputFile.printf(&quot;%-15s&quot;, &quot;10&quot;);\n            if (corr&lt;incorr)\n                outputFile.printf(&quot;%-10s&quot;,&quot;I&quot;);\n            if(incorr&lt;corr)\n                outputFile.printf(&quot;%-10s&quot;,&quot;C&quot;);\n            if (corr==incorr)\n                outputFile.printf(&quot;%-10s&quot;,&quot;=&quot;);\n            //print values for corresponding columns\n            outputFile.printf(&quot;\\n%1s%14s%7s%12s%12s%9s%11s%10.3f&quot;, student, id, corr, incorr, total, omit, grade, pct);\n        }\n        //notify viewer that program has run\n        System.out.println(&quot;\\nThe program is finished.&quot;);\n        // flush buffer and close i/o files\n        outputFile.flush();\n        outputFile.close();\n        inputFile.close();\n    }\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/UK3Qy.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/M9NKd.png\" alt=\"photos of my input and output files\" /></a>]</p>\n<p>I tried changing the %-10 formatting for the Cs and Is but even if I do %-100 it still will not print before the percent columns values. I was expecting the table to print the full values for their corresponding columns including line 1 of the input file. I was also expecting for the Cs and Is  to print under More Right/Wrong column and the 10&lt;s to print under the omit column next to the number.Instead, the column values are printing all over the place</p>\n"},{"tags":["java","oracle","jdbc"],"comments":[{"owner":{"account_id":295230,"reputation":14501,"user_id":599528,"accept_rate":95,"display_name":"Jacob"},"score":0,"creation_date":1372326291,"post_id":17339530,"comment_id":25155953,"body_markdown":"Can you post full error stack?","body":"Can you post full error stack?"},{"owner":{"account_id":2936667,"reputation":35,"user_id":2515411,"display_name":"musicar"},"score":0,"creation_date":1372327040,"post_id":17339530,"comment_id":25156447,"body_markdown":"14:53:47,546 ERROR [com.commands.RecRetOrderAdminInfoCmd] (http-/0.0.0.0:8080-1) EXCEPTION OCCURED ::Method Name : execute, Exception : invalid name pattern: XXX_INFO_UTL_PKG.XXX_ORDER_REC\n14:53:47,562 ERROR [com.daos.ReceivingServiceDAO] (http-/0.0.0.0:8080-1) EXCEPTION OCCURED : ReceivingServiceDAO, Method Name : getOrderAdminInfo","body":"14:53:47,546 ERROR [com.commands.RecRetOrderAdminInfoCmd] (http-/0.0.0.0:8080-1) EXCEPTION OCCURED ::Method Name : execute, Exception : invalid name pattern: XXX_INFO_UTL_PKG.XXX_ORDER_REC 14:53:47,562 ERROR [com.daos.ReceivingServiceDAO] (http-/0.0.0.0:8080-1) EXCEPTION OCCURED : ReceivingServiceDAO, Method Name : getOrderAdminInfo"},{"owner":{"account_id":295230,"reputation":14501,"user_id":599528,"accept_rate":95,"display_name":"Jacob"},"score":0,"creation_date":1372327486,"post_id":17339530,"comment_id":25156691,"body_markdown":"Your `seagrs_order_rec` is of what `type`? `Array or Object or table`?","body":"Your <code>seagrs_order_rec</code> is of what <code>type</code>? <code>Array or Object or table</code>?"},{"owner":{"account_id":2936667,"reputation":35,"user_id":2515411,"display_name":"musicar"},"score":0,"creation_date":1372327880,"post_id":17339530,"comment_id":25156917,"body_markdown":"TYPE seagrs_order_rec IS  record TYPE","body":"TYPE seagrs_order_rec IS  record TYPE"}],"answers":[{"tags":[],"owner":{"account_id":2394464,"reputation":3082,"user_id":2093576,"accept_rate":74,"display_name":"user2093576"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1372329388,"creation_date":1372329388,"answer_id":17340881,"question_id":17339530,"body_markdown":"Record Type is not compatible with JDBC drivers:\r\n\r\n&gt; It is not feasible for Oracle JDBC drivers to support calling\r\n&gt; arguments or return values of the PL/SQL RECORD, BOOLEAN, or table\r\n&gt; with non-scalar element types. However, Oracle JDBC drivers support\r\n&gt; PL/SQL index-by table of scalar element types.\r\n\r\n[READ THIS][1]\r\n\r\n\r\n  [1]: http://docs.oracle.com/cd/B19306_01/java.102/b14355/apxref.htm","title":"Can we integrate Oracle RECORD TYPE with java Callable statement?","body":"<p>Record Type is not compatible with JDBC drivers:</p>\n\n<blockquote>\n  <p>It is not feasible for Oracle JDBC drivers to support calling\n  arguments or return values of the PL/SQL RECORD, BOOLEAN, or table\n  with non-scalar element types. However, Oracle JDBC drivers support\n  PL/SQL index-by table of scalar element types.</p>\n</blockquote>\n\n<p><a href=\"http://docs.oracle.com/cd/B19306_01/java.102/b14355/apxref.htm\" rel=\"noreferrer\">READ THIS</a></p>\n"},{"tags":[],"owner":{"account_id":247217,"reputation":213455,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1479073250,"creation_date":1479073250,"answer_id":40579142,"question_id":17339530,"body_markdown":"While you cannot use JDBC directly to fetch your PL/SQL RECORD type, you can write an anonymous PL/SQL block and return the record into a local variable, which you can then decompose in its individual attributes as follows:\r\n\r\n\r\n    DECLARE\r\n        rec XXX_info_utl_pkg.seagrs_order_rec;\r\n    BEGIN\r\n        get_order_admin(?, rec, ?, ?, ?);\r\n        ? := rec.order_admin;\r\n        ? := rec.contact_name;\r\n        ? := rec.contact_email_addr;\r\n        ? := rec.contact_phone_num;\r\n    END;\r\n\r\nYou can now use the following JDBC code to call the procedure:\r\n\r\n    try (CallableStatement s = con.prepareCall(&quot; ... previous PL/SQL block ...&quot;)) {\r\n        s.setInt(1, Integer.parseInt(orderNumber));\r\n\r\n        // Ordinary out parameters\r\n        s.registerOutParameter(2, Types.NUMBER);\r\n        s.registerOutParameter(3, Types.VARCHAR);\r\n        s.registerOutParameter(4, Types.NUMBER);\r\n\r\n        // Out parameters from your decomposed record\r\n        s.registerOutParameter(5, Types.VARCHAR);\r\n        s.registerOutParameter(6, Types.VARCHAR);\r\n        s.registerOutParameter(7, Types.VARCHAR);\r\n        s.registerOutParameter(8, Types.VARCHAR);\r\n\r\n        s.execute();\r\n        // Now, retrieve all the out parameters\r\n    }\r\n\r\n[I have recently blogged about this technique more in detail][1]. The blog post also contains instructions about how you could automatically generate the anonymous PL/SQL blocks for all functions / procedures, that have record IN/OUT parameters.\r\n\r\n\r\n  [1]: https://blog.jooq.org/2016/11/08/use-jooq-to-read-write-oracle-plsql-record-types/","title":"Can we integrate Oracle RECORD TYPE with java Callable statement?","body":"<p>While you cannot use JDBC directly to fetch your PL/SQL RECORD type, you can write an anonymous PL/SQL block and return the record into a local variable, which you can then decompose in its individual attributes as follows:</p>\n\n<pre><code>DECLARE\n    rec XXX_info_utl_pkg.seagrs_order_rec;\nBEGIN\n    get_order_admin(?, rec, ?, ?, ?);\n    ? := rec.order_admin;\n    ? := rec.contact_name;\n    ? := rec.contact_email_addr;\n    ? := rec.contact_phone_num;\nEND;\n</code></pre>\n\n<p>You can now use the following JDBC code to call the procedure:</p>\n\n<pre><code>try (CallableStatement s = con.prepareCall(\" ... previous PL/SQL block ...\")) {\n    s.setInt(1, Integer.parseInt(orderNumber));\n\n    // Ordinary out parameters\n    s.registerOutParameter(2, Types.NUMBER);\n    s.registerOutParameter(3, Types.VARCHAR);\n    s.registerOutParameter(4, Types.NUMBER);\n\n    // Out parameters from your decomposed record\n    s.registerOutParameter(5, Types.VARCHAR);\n    s.registerOutParameter(6, Types.VARCHAR);\n    s.registerOutParameter(7, Types.VARCHAR);\n    s.registerOutParameter(8, Types.VARCHAR);\n\n    s.execute();\n    // Now, retrieve all the out parameters\n}\n</code></pre>\n\n<p><a href=\"https://blog.jooq.org/2016/11/08/use-jooq-to-read-write-oracle-plsql-record-types/\" rel=\"noreferrer\">I have recently blogged about this technique more in detail</a>. The blog post also contains instructions about how you could automatically generate the anonymous PL/SQL blocks for all functions / procedures, that have record IN/OUT parameters.</p>\n"},{"tags":[],"owner":{"account_id":10736528,"reputation":21,"user_id":7901024,"display_name":"prathamesh patil"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677483627,"creation_date":1677074293,"answer_id":75533762,"question_id":17339530,"body_markdown":"There is one more way using STRUCT type if you do not prefer to use direct pl/sql block inside your java code. \r\n\r\nfor example in your above code change type from array to struct:- \r\n\r\n   \r\n\r\n    dbStrategy.openConnection();\r\n            WrappedConnectionJDK6 wrapped = (WrappedConnectionJDK6) dbStrategy.getConnection();\r\n            OracleConnection oracleConnection = (OracleConnection) wrapped.getUnderlyingConnection();\r\n            CallableStatement callableStatement = oracleConnection.prepareCall(&quot;{call XXX_Info_Utl_Pkg.get_order_admin(?,?,?,?,?)}&quot;);\r\n            callableStatement.setInt(1, Integer.parseInt(orderNumber));\r\n            callableStatement.registerOutParameter(2, Types.STRUCT, &quot;XXX_INFO_UTL_PKG.SEAGRS_ORDER_REC&quot;);\r\n            callableStatement.registerOutParameter(3, OracleTypes.NUMBER);\r\n            callableStatement.registerOutParameter(4, OracleTypes.VARCHAR);\r\n            callableStatement.registerOutParameter(5, OracleTypes.NUMBER);","title":"Can we integrate Oracle RECORD TYPE with java Callable statement?","body":"<p>There is one more way using STRUCT type if you do not prefer to use direct pl/sql block inside your java code.</p>\n<p>for example in your above code change type from array to struct:-</p>\n<pre><code>dbStrategy.openConnection();\n        WrappedConnectionJDK6 wrapped = (WrappedConnectionJDK6) dbStrategy.getConnection();\n        OracleConnection oracleConnection = (OracleConnection) wrapped.getUnderlyingConnection();\n        CallableStatement callableStatement = oracleConnection.prepareCall(&quot;{call XXX_Info_Utl_Pkg.get_order_admin(?,?,?,?,?)}&quot;);\n        callableStatement.setInt(1, Integer.parseInt(orderNumber));\n        callableStatement.registerOutParameter(2, Types.STRUCT, &quot;XXX_INFO_UTL_PKG.SEAGRS_ORDER_REC&quot;);\n        callableStatement.registerOutParameter(3, OracleTypes.NUMBER);\n        callableStatement.registerOutParameter(4, OracleTypes.VARCHAR);\n        callableStatement.registerOutParameter(5, OracleTypes.NUMBER);\n</code></pre>\n"}],"owner":{"account_id":2936667,"reputation":35,"user_id":2515411,"display_name":"musicar"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5079,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":17340881,"answer_count":3,"score":2,"last_activity_date":1677483627,"creation_date":1372325425,"question_id":17339530,"body_markdown":"Is it true that RECORD type is not compatible with JDBC? the driver am using is OJDBC6.jar\r\n\r\n\r\nJava Code:\r\n\r\n    dbStrategy.openConnection();\r\n\t\t\tWrappedConnectionJDK6 wrapped = (WrappedConnectionJDK6) dbStrategy.getConnection();\r\n\t\t\tOracleConnection oracleConnection = (OracleConnection) wrapped.getUnderlyingConnection();\r\n\t\t\tCallableStatement callableStatement = oracleConnection.prepareCall(&quot;{call XXX_Info_Utl_Pkg.get_order_admin(?,?,?,?,?)}&quot;);\r\n\t\t\tcallableStatement.setInt(1, Integer.parseInt(orderNumber));\r\n\t\t\tcallableStatement.registerOutParameter(2, OracleTypes.ARRAY, &quot;XXX_INFO_UTL_PKG.SEAGRS_ORDER_REC&quot;);\r\n\t\t\tcallableStatement.registerOutParameter(3, OracleTypes.NUMBER);\r\n\t\t\tcallableStatement.registerOutParameter(4, OracleTypes.VARCHAR);\r\n\t\t\tcallableStatement.registerOutParameter(5, OracleTypes.NUMBER);\r\n\r\n\r\nAnd Oracle Code:\r\n\r\n    PROCEDURE get_order_admin(\r\n    \t\t\tp_order_num_in IN NUMBER,\r\n    \t\t\tp_order_admin_out OUT XXX_info_utl_pkg.seagrs_order_rec,\r\n    \t\t\tp_error_code_out OUT PLS_INTEGER,\r\n    \t\t\tp_error_msg_out OUT VARCHAR2,\r\n    \t\t\tp_ret_status_out OUT PLS_INTEGER);\r\n\r\n\r\n    TYPE seagrs_order_rec\r\n    IS\r\n    \trecord\r\n    \t(\r\n    \t\torder_admin        VARCHAR2(10),\r\n    \t\tcontact_name       VARCHAR2(50),\r\n    \t\tcontact_email_addr VARCHAR2(100),\r\n    \t\tcontact_phone_num  VARCHAR2(30));\r\n\r\n\r\n\r\nThe error am facing here is - \r\n\r\n&gt;  Exception : invalid name pattern: XXX_INFO_UTL_PKG.SEAGRS_ORDER_REC","title":"Can we integrate Oracle RECORD TYPE with java Callable statement?","body":"<p>Is it true that RECORD type is not compatible with JDBC? the driver am using is OJDBC6.jar</p>\n\n<p>Java Code:</p>\n\n<pre><code>dbStrategy.openConnection();\n        WrappedConnectionJDK6 wrapped = (WrappedConnectionJDK6) dbStrategy.getConnection();\n        OracleConnection oracleConnection = (OracleConnection) wrapped.getUnderlyingConnection();\n        CallableStatement callableStatement = oracleConnection.prepareCall(\"{call XXX_Info_Utl_Pkg.get_order_admin(?,?,?,?,?)}\");\n        callableStatement.setInt(1, Integer.parseInt(orderNumber));\n        callableStatement.registerOutParameter(2, OracleTypes.ARRAY, \"XXX_INFO_UTL_PKG.SEAGRS_ORDER_REC\");\n        callableStatement.registerOutParameter(3, OracleTypes.NUMBER);\n        callableStatement.registerOutParameter(4, OracleTypes.VARCHAR);\n        callableStatement.registerOutParameter(5, OracleTypes.NUMBER);\n</code></pre>\n\n<p>And Oracle Code:</p>\n\n<pre><code>PROCEDURE get_order_admin(\n            p_order_num_in IN NUMBER,\n            p_order_admin_out OUT XXX_info_utl_pkg.seagrs_order_rec,\n            p_error_code_out OUT PLS_INTEGER,\n            p_error_msg_out OUT VARCHAR2,\n            p_ret_status_out OUT PLS_INTEGER);\n\n\nTYPE seagrs_order_rec\nIS\n    record\n    (\n        order_admin        VARCHAR2(10),\n        contact_name       VARCHAR2(50),\n        contact_email_addr VARCHAR2(100),\n        contact_phone_num  VARCHAR2(30));\n</code></pre>\n\n<p>The error am facing here is - </p>\n\n<blockquote>\n  <p>Exception : invalid name pattern: XXX_INFO_UTL_PKG.SEAGRS_ORDER_REC</p>\n</blockquote>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":4,"creation_date":1456013043,"post_id":35530617,"comment_id":58750733,"body_markdown":"Time to learn to debug. Either run your code through a debugger or use println statements to see why it is not behaving correctly.","body":"Time to learn to debug. Either run your code through a debugger or use println statements to see why it is not behaving correctly."},{"owner":{"account_id":5548422,"reputation":1,"user_id":4402367,"display_name":"Bee stringer"},"score":0,"creation_date":1456013142,"post_id":35530617,"comment_id":58750767,"body_markdown":"Will debugging, tell me what kind of error it is or would it give me some generic error statement?","body":"Will debugging, tell me what kind of error it is or would it give me some generic error statement?"},{"owner":{"account_id":2522287,"reputation":1571,"user_id":2192409,"accept_rate":100,"display_name":"Tdorno"},"score":0,"creation_date":1456013194,"post_id":35530617,"comment_id":58750780,"body_markdown":"Debugging will help you determine the issue. It will not directly tell you it though. Debugger != Magic. Also, please show your output so we can compare with the desired result.","body":"Debugging will help you determine the issue. It will not directly tell you it though. Debugger != Magic. Also, please show your output so we can compare with the desired result."},{"owner":{"account_id":7030473,"reputation":4189,"user_id":5386374,"accept_rate":60,"display_name":"Justin Time - Reinstate Monica"},"score":0,"creation_date":1456013276,"post_id":35530617,"comment_id":58750804,"body_markdown":"If you fill the array randomly, why do you expect it to always contain `{ 4, 3, 6, 9, 3, 9, 5, 4, 1, 9 }`?  First try explicitly setting it to contain those values in that order, and see if it works properly then.  If not, it&#39;s debugging time, and additional information would help locate the issue.","body":"If you fill the array randomly, why do you expect it to always contain <code>{ 4, 3, 6, 9, 3, 9, 5, 4, 1, 9 }</code>?  First try explicitly setting it to contain those values in that order, and see if it works properly then.  If not, it&#39;s debugging time, and additional information would help locate the issue."},{"owner":{"account_id":5548422,"reputation":1,"user_id":4402367,"display_name":"Bee stringer"},"score":0,"creation_date":1456013304,"post_id":35530617,"comment_id":58750812,"body_markdown":"I see, nice coding pun btw and the out put I am getting is \n\nThe array is: 1 8 9 9 5 10 5 4 3 3\nThis array DOES NOT contain 5.\nSorted by Arrays.sort():   1 3 3 4 5 5 8 9 9 10","body":"I see, nice coding pun btw and the out put I am getting is   The array is: 1 8 9 9 5 10 5 4 3 3 This array DOES NOT contain 5. Sorted by Arrays.sort():   1 3 3 4 5 5 8 9 9 10"},{"owner":{"account_id":2522287,"reputation":1571,"user_id":2192409,"accept_rate":100,"display_name":"Tdorno"},"score":2,"creation_date":1456013309,"post_id":35530617,"comment_id":58750813,"body_markdown":"Remove the `else` in the contains.","body":"Remove the <code>else</code> in the contains."},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":3,"creation_date":1456013333,"post_id":35530617,"comment_id":58750818,"body_markdown":"*&quot;Will debugging, tell me what kind of error it is or would it give me some generic error statement?&quot;* No.  A debugger will allow you to see what the program is doing.  Figuring out what is wrong, why it is wrong, what causes it and how to fix it is up to something with grey matter between its ears.  Obviously, the grey matter *must be trained* to do this.  We are recommending that you train &gt;&gt;your&lt;&lt; grey matter.","body":"<i>&quot;Will debugging, tell me what kind of error it is or would it give me some generic error statement?&quot;</i> No.  A debugger will allow you to see what the program is doing.  Figuring out what is wrong, why it is wrong, what causes it and how to fix it is up to something with grey matter between its ears.  Obviously, the grey matter <i>must be trained</i> to do this.  We are recommending that you train &gt;&gt;your&lt;&lt; grey matter."},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1456013500,"post_id":35530617,"comment_id":58750868,"body_markdown":"Your code said that array didn&#39;t contain 5 because `1 == 5` is the first comparison, and it immediately returns false","body":"Your code said that array didn&#39;t contain 5 because <code>1 == 5</code> is the first comparison, and it immediately returns false"},{"owner":{"account_id":5548422,"reputation":1,"user_id":4402367,"display_name":"Bee stringer"},"score":0,"creation_date":1456013536,"post_id":35530617,"comment_id":58750877,"body_markdown":"Alright, thanks for the advice. BTW, is the debugger in netbeans ide a good one?","body":"Alright, thanks for the advice. BTW, is the debugger in netbeans ide a good one?"},{"owner":{"account_id":5188704,"reputation":1323,"user_id":4152280,"display_name":"SkyMaster"},"score":0,"creation_date":1456013754,"post_id":35530617,"comment_id":58750930,"body_markdown":"Change this line: `for (int j = 0; j &lt; array.length-1; i++) {`  for this: `for (int j = 0; j &lt; array.length-1; j++) {` in `bubbleSort` function.","body":"Change this line: <code>for (int j = 0; j &lt; array.length-1; i++) {</code>  for this: <code>for (int j = 0; j &lt; array.length-1; j++) {</code> in <code>bubbleSort</code> function."},{"owner":{"account_id":1625605,"reputation":5548,"user_id":1501234,"accept_rate":72,"display_name":"Jaroslaw Pawlak"},"score":0,"creation_date":1456014578,"post_id":35530617,"comment_id":58751128,"body_markdown":"@Tdorno OP&#39;s sorts don&#39;t create new arrays, they modify the arrays which were passed in. These methods can stay void as they are.","body":"@Tdorno OP&#39;s sorts don&#39;t create new arrays, they modify the arrays which were passed in. These methods can stay void as they are."}],"answers":[{"tags":[],"owner":{"account_id":7833119,"reputation":314,"user_id":5922315,"display_name":"Jodn"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1456013793,"creation_date":1456013793,"answer_id":35530722,"question_id":35530617,"body_markdown":"\r\n\r\n        public static void bubbleSort(int[] array) {\r\n\t        for (int i = 0; i &lt; array.length; i++) {\r\n\t            for (int j = 0; j &lt; array.length-1; i++) { //&lt;---- wrong increment. it should be j++\r\n\t                if (array[j] &gt; array[j+1]) { // swap elements j and j+1\r\n\t                    int temp = array[j];\r\n\t                    array[j] = array[j+1];\r\n\t                    array[j+1] = temp;\r\n\t                 \r\n\t                }\r\n\t            }\r\n\t        }\r\n\t    }\r\nin this part is at least one error. You should check your loops if your programm does not determine.","title":"Need assistance locating the errors within the following code","body":"<pre><code>    public static void bubbleSort(int[] array) {\n        for (int i = 0; i &lt; array.length; i++) {\n            for (int j = 0; j &lt; array.length-1; i++) { //&lt;---- wrong increment. it should be j++\n                if (array[j] &gt; array[j+1]) { // swap elements j and j+1\n                    int temp = array[j];\n                    array[j] = array[j+1];\n                    array[j+1] = temp;\n\n                }\n            }\n        }\n    }\n</code></pre>\n\n<p>in this part is at least one error. You should check your loops if your programm does not determine.</p>\n"},{"tags":[],"owner":{"account_id":5548422,"reputation":1,"user_id":4402367,"display_name":"Bee stringer"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1456014751,"creation_date":1456014751,"answer_id":35530845,"question_id":35530617,"body_markdown":"Thank for all your help guys. Using the debugger I found the for main issues\r\n\r\nError 1: \r\n\r\n    public static void sweepSort(int[] array) {\r\n    \t\tfor (int i = 0; i &lt; array.length; i++) {\r\n    \t\t\tfor (int j = 0; j &lt; array.length-1; i++) {&lt;------// need change i++ to j++\r\n    \t\t\t\tif (array[j] &gt; array[j+1]) { // swap elements j and j+1\r\n    \t\t\t\t\tint temp = array[j];\r\n    \t\t\t\t\tarray[j] = array[j+1];\r\n    \t\t\t\t\tarray[j+1] = temp;\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t}\r\n    \t}\r\n\r\nError 2 and 3: \r\n\r\n    public static void insertionSort(int[] array) {\r\n    \t\tfor (int top = 1; top &lt; array.length; top++) {\r\n    \t\t\tint temp = array[top];  // copy item that into temp variable\r\n    \t\t\tint pos = top - 1;\r\n    \t\t\twhile (pos &gt; 0 &amp;&amp; array[pos] &gt; temp) { //&lt;----- need to change &#39;&gt;&#39; to &#39;&gt;=&#39;\r\n    \t\t\t\t   // move items that are bigger than temp up one position\r\n    \t\t\t\tarray[pos+1] = array[pos];\r\n    \t\t\t\tpos--;\r\n    \t\t\t}\r\n    \t\t\tarray[pos ] = temp;  // place temp into last vacated position // &lt;------------------------need to change &#39;array[pos ]&#39; to &#39;array[pos + 1]&#39;\r\n    \t\t}\r\n    \t}\r\n\r\nError 4: \r\n\r\n \r\n\r\n       public static boolean contains(int[] array, int val) {\r\n        \t\tfor (int i = 0; i &lt; array.length; i++) {\r\n        \t\t\tif (array[i] == val)\r\n        \t\t\t\treturn true;\r\n        \t\t\telse  //&lt;---------- need to remove this\r\n        \t\t\treturn false; //&lt;---------- need to remove this\r\n        \t\t}\r\n        \t\treturn false;\r\n        \t}\r\n    \t","title":"Need assistance locating the errors within the following code","body":"<p>Thank for all your help guys. Using the debugger I found the for main issues</p>\n\n<p>Error 1: </p>\n\n<pre><code>public static void sweepSort(int[] array) {\n        for (int i = 0; i &lt; array.length; i++) {\n            for (int j = 0; j &lt; array.length-1; i++) {&lt;------// need change i++ to j++\n                if (array[j] &gt; array[j+1]) { // swap elements j and j+1\n                    int temp = array[j];\n                    array[j] = array[j+1];\n                    array[j+1] = temp;\n                }\n            }\n        }\n    }\n</code></pre>\n\n<p>Error 2 and 3: </p>\n\n<pre><code>public static void insertionSort(int[] array) {\n        for (int top = 1; top &lt; array.length; top++) {\n            int temp = array[top];  // copy item that into temp variable\n            int pos = top - 1;\n            while (pos &gt; 0 &amp;&amp; array[pos] &gt; temp) { //&lt;----- need to change '&gt;' to '&gt;='\n                   // move items that are bigger than temp up one position\n                array[pos+1] = array[pos];\n                pos--;\n            }\n            array[pos ] = temp;  // place temp into last vacated position // &lt;------------------------need to change 'array[pos ]' to 'array[pos + 1]'\n        }\n    }\n</code></pre>\n\n<p>Error 4: </p>\n\n<pre><code>   public static boolean contains(int[] array, int val) {\n            for (int i = 0; i &lt; array.length; i++) {\n                if (array[i] == val)\n                    return true;\n                else  //&lt;---------- need to remove this\n                return false; //&lt;---------- need to remove this\n            }\n            return false;\n        }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12478889,"reputation":1,"user_id":9084357,"display_name":"Md Sharif Mia"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1513005504,"creation_date":1513005452,"answer_id":47755963,"question_id":35530617,"body_markdown":"    package sort;\r\n    \r\n    import java.util.Arrays;\r\n    \r\n    /**\r\n     * This class looks like it&#39;s meant to provide a few public static methods\r\n     * for searching and sorting arrays.  It also has a main method that tests\r\n     * the searching and sorting methods.\r\n     * \r\n     * TODO: The search and sort methods in this class contain bugs that can\r\n     * cause incorrect output or infinite loops.  Use the Eclipse debugger to \r\n     * find the bugs and fix them\r\n     */\r\n    public class BuggySearchAndSort {\r\n    \t\r\n    \tpublic static void main(String[] args) {\r\n    \t\t\r\n    \t\tint[] A = new int[10];  // Create an array and fill it with small random ints.\r\n    \t\tfor (int i = 0; i &lt; 10; i++)\r\n    \t\t\tA[i] = 1 + (int)(10 * Math.random());\r\n    \t\t\r\n    \t\tint[] B = A.clone();   // Make copies of the array.\r\n    \t\tint[] C = A.clone();\r\n    \t\tint[] D = A.clone();\r\n    \t\t\r\n    \t\tSystem.out.print(&quot;The array is:&quot;);\r\n    \t\tprintArray(A);\r\n    \t\t\r\n    \t\tif (contains(A,5))\r\n    \t\t\tSystem.out.println(&quot;This array DOES contain 5.&quot;);\r\n    \t\telse\r\n    \t\t\tSystem.out.println(&quot;This array DOES NOT contain 5.&quot;);\r\n    \t\t\r\n    \t\tArrays.sort(A);  // Sort using Java&#39;s built-in sort method!\r\n    \t\tSystem.out.print(&quot;Sorted by Arrays.sort():  &quot;);\r\n    \t\tprintArray(A);   // (Prints a correctly sorted array.)\r\n    \r\n    \t\tbubbleSort(B);\r\n    \t\tSystem.out.print(&quot;Sorted by Bubble Sort:    &quot;);\r\n    \t\tprintArray(B);\r\n    \r\n    \t\tselectionSort(C);\r\n    \t\tSystem.out.print(&quot;Sorted by Selection Sort: &quot;);\r\n    \t\tprintArray(C);\r\n    \t\t\r\n    \t\tinsertionSort(D);\r\n    \t\tSystem.out.print(&quot;Sorted by Insertion Sort: &quot;);\r\n    \t\tprintArray(D);\r\n    \r\n    \t}\r\n    \t\r\n    \t/**\r\n    \t * Tests whether an array of ints contains a given value.\r\n    \t * @param array a non-null array that is to be searched\r\n    \t * @param val the value for which the method will search\r\n    \t * @return true if val is one of the items in the array, false if not\r\n    \t */\r\n    \tpublic static boolean contains(int[] array, int val) {\r\n    \t\tfor (int i = 0; i &lt; array.length; i++) {\r\n    \t\t\tif (array[i] == val)\r\n    \t\t\t\treturn true;\r\n    \t\t\r\n    \t\t}\r\n    \t\treturn false;\r\n    \t}\r\n    \t\r\n    \t/**\r\n    \t * Sorts an array into non-decreasing order.  This inefficient sorting\r\n    \t * method simply sweeps through the array, exchanging neighboring elements\r\n    \t * that are out of order.  The number of times that it does this is equal\r\n    \t * to the length of the array.\r\n    \t */\r\n    \tpublic static void bubbleSort(int[] array) {\r\n    \t\tfor (int i = 0; i &lt; array.length; i++) {\r\n    \t\t\tfor (int j = 0; j &lt; array.length-1; j++) {\r\n    \t\t\t\tif (array[j] &gt; array[j+1]) { // swap elements j and j+1\r\n    \t\t\t\t\tint temp = array[j];\r\n    \t\t\t\t\tarray[j] = array[j+1];\r\n    \t\t\t\t\tarray[j+1] = temp;\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t}\r\n    \t}\r\n    \t\r\n    \t/**\r\n    \t * Sorts an array into non-decreasing order.  This method uses a selection\r\n    \t * sort algorithm, in which the largest item is found and placed at the end of \r\n    \t * the list, then the second-largest in the next to last place, and so on.\r\n    \t */\r\n    \tpublic static void selectionSort(int[] array) {\r\n    \t\tfor (int top = array.length - 1; top &gt; 0; top--) {\r\n    \t\t\tint positionOfMax = 0;\r\n    \t\t\tfor (int i = 0; i &lt;= top; i++) {\r\n    \t\t\t\tif (array[i] &gt; array[positionOfMax])\r\n    \t\t\t\t\tpositionOfMax = i;\r\n    \t\t\t}\r\n    \t\t\tint temp = array[top];  // swap top item with biggest item\r\n    \t\t\tarray[top] = array[positionOfMax];\r\n    \t\t\tarray[positionOfMax] = temp;\r\n    \t\t}\r\n    \t}\r\n    \t\r\n    \t/**\r\n    \t * Sorts an array into non-decreasing order.  This method uses a standard\r\n    \t * insertion sort algorithm, in which each element in turn is moved downwards\r\n    \t * past any elements that are greater than it.\r\n    \t */\r\n    \tpublic static void insertionSort(int[] array) {\r\n    \t\tfor (int top = 1; top &lt; array.length; top++) {\r\n    \t\t\tint temp = array[top];  // copy item that into temp variable\r\n    \t\t\tint pos = top ;\r\n    \t\t\twhile (pos &gt; 0 &amp;&amp; array[pos-1] &gt;= temp) {\r\n    \t\t\t\t   // move items that are bigger than temp up one position\r\n    \t\t\t\tarray[pos] = array[pos-1];\r\n    \t\t\t\tpos--;\r\n    \t\t\t}\r\n    \t\t\tarray[pos] = temp;  // place temp into last vacated position\r\n    \t\t}\r\n    \t}\r\n    \t\r\n    \t/**\r\n    \t * Outputs the ints in an array on one line, separated by spaces,\r\n    \t * with a line feed at the end.\r\n    \t */\r\n    \tprivate static void printArray(int[] array) {\r\n    \t\tfor (int i = 0; i &lt; array.length; i++) {\r\n    \t\t\tSystem.out.print(&quot; &quot;);\r\n    \t\t\tSystem.out.print(array[i]);\r\n    \t\t}\r\n    \t\tSystem.out.println();\r\n    \t}\r\n    \r\n    }\r\n\r\n","title":"Need assistance locating the errors within the following code","body":"<pre><code>package sort;\n\nimport java.util.Arrays;\n\n/**\n * This class looks like it's meant to provide a few public static methods\n * for searching and sorting arrays.  It also has a main method that tests\n * the searching and sorting methods.\n * \n * TODO: The search and sort methods in this class contain bugs that can\n * cause incorrect output or infinite loops.  Use the Eclipse debugger to \n * find the bugs and fix them\n */\npublic class BuggySearchAndSort {\n\n    public static void main(String[] args) {\n\n        int[] A = new int[10];  // Create an array and fill it with small random ints.\n        for (int i = 0; i &lt; 10; i++)\n            A[i] = 1 + (int)(10 * Math.random());\n\n        int[] B = A.clone();   // Make copies of the array.\n        int[] C = A.clone();\n        int[] D = A.clone();\n\n        System.out.print(\"The array is:\");\n        printArray(A);\n\n        if (contains(A,5))\n            System.out.println(\"This array DOES contain 5.\");\n        else\n            System.out.println(\"This array DOES NOT contain 5.\");\n\n        Arrays.sort(A);  // Sort using Java's built-in sort method!\n        System.out.print(\"Sorted by Arrays.sort():  \");\n        printArray(A);   // (Prints a correctly sorted array.)\n\n        bubbleSort(B);\n        System.out.print(\"Sorted by Bubble Sort:    \");\n        printArray(B);\n\n        selectionSort(C);\n        System.out.print(\"Sorted by Selection Sort: \");\n        printArray(C);\n\n        insertionSort(D);\n        System.out.print(\"Sorted by Insertion Sort: \");\n        printArray(D);\n\n    }\n\n    /**\n     * Tests whether an array of ints contains a given value.\n     * @param array a non-null array that is to be searched\n     * @param val the value for which the method will search\n     * @return true if val is one of the items in the array, false if not\n     */\n    public static boolean contains(int[] array, int val) {\n        for (int i = 0; i &lt; array.length; i++) {\n            if (array[i] == val)\n                return true;\n\n        }\n        return false;\n    }\n\n    /**\n     * Sorts an array into non-decreasing order.  This inefficient sorting\n     * method simply sweeps through the array, exchanging neighboring elements\n     * that are out of order.  The number of times that it does this is equal\n     * to the length of the array.\n     */\n    public static void bubbleSort(int[] array) {\n        for (int i = 0; i &lt; array.length; i++) {\n            for (int j = 0; j &lt; array.length-1; j++) {\n                if (array[j] &gt; array[j+1]) { // swap elements j and j+1\n                    int temp = array[j];\n                    array[j] = array[j+1];\n                    array[j+1] = temp;\n                }\n            }\n        }\n    }\n\n    /**\n     * Sorts an array into non-decreasing order.  This method uses a selection\n     * sort algorithm, in which the largest item is found and placed at the end of \n     * the list, then the second-largest in the next to last place, and so on.\n     */\n    public static void selectionSort(int[] array) {\n        for (int top = array.length - 1; top &gt; 0; top--) {\n            int positionOfMax = 0;\n            for (int i = 0; i &lt;= top; i++) {\n                if (array[i] &gt; array[positionOfMax])\n                    positionOfMax = i;\n            }\n            int temp = array[top];  // swap top item with biggest item\n            array[top] = array[positionOfMax];\n            array[positionOfMax] = temp;\n        }\n    }\n\n    /**\n     * Sorts an array into non-decreasing order.  This method uses a standard\n     * insertion sort algorithm, in which each element in turn is moved downwards\n     * past any elements that are greater than it.\n     */\n    public static void insertionSort(int[] array) {\n        for (int top = 1; top &lt; array.length; top++) {\n            int temp = array[top];  // copy item that into temp variable\n            int pos = top ;\n            while (pos &gt; 0 &amp;&amp; array[pos-1] &gt;= temp) {\n                   // move items that are bigger than temp up one position\n                array[pos] = array[pos-1];\n                pos--;\n            }\n            array[pos] = temp;  // place temp into last vacated position\n        }\n    }\n\n    /**\n     * Outputs the ints in an array on one line, separated by spaces,\n     * with a line feed at the end.\n     */\n    private static void printArray(int[] array) {\n        for (int i = 0; i &lt; array.length; i++) {\n            System.out.print(\" \");\n            System.out.print(array[i]);\n        }\n        System.out.println();\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":27856945,"reputation":1,"user_id":21270242,"display_name":"Tsenguun Oyunchimeg"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677483608,"creation_date":1677127348,"answer_id":75540633,"question_id":35530617,"body_markdown":"I have finished my project and decided to drop a help\r\n\r\n \r\n\t\r\n\tpublic static void main(String[] args) {\r\n\t\t\r\n\t\tint[] A = new int[10];  // Create an array and fill it with small random ints.\r\n\t\tfor (int i = 0; i &lt; 10; i++)\r\n\t\t\tA[i] = 1 + (int)(10 * Math.random());\r\n\t\t\r\n\t\tint[] B = A.clone();   // Make copies of the array.\r\n\t\tint[] C = A.clone();\r\n\t\tint[] D = A.clone();\r\n\t\t\r\n\t\tSystem.out.print(&quot;The array is:&quot;);\r\n\t\tprintArray(A);\r\n\t\t\r\n\t\tif (contains(A,5))\r\n\t\t\tSystem.out.println(&quot;This array DOES contain 5.&quot;);\r\n\t\telse\r\n\t\t\tSystem.out.println(&quot;This array DOES NOT contain 5.&quot;);\r\n\t\t\r\n\t\tArrays.sort(A);  // Sort using Java&#39;s built-in sort method!\r\n\t\tSystem.out.print(&quot;Sorted by Arrays.sort():  &quot;);\r\n\t\tprintArray(A);   // (Prints a correctly sorted array.)\r\n\r\n\t\tsweepSort(B);\r\n\t\tSystem.out.print(&quot;Sorted by Sweep Sort:    &quot;); //Changed name \r\n\t\tprintArray(B);\r\n\r\n\t\tselectionSort(C);\r\n\t\tSystem.out.print(&quot;Sorted by Selection Sort: &quot;);\r\n\t\tprintArray(C);\r\n\t\t\r\n\t\tinsertionSort(D);\r\n\t\tSystem.out.print(&quot;Sorted by Insertion Sort: &quot;);\r\n\t\tprintArray(D);\r\n\r\n\t}\r\n\t\r\n\t\r\n\tpublic static boolean contains(int[] array, int val) {\r\n\t\tfor (int i = 0; i &lt; array.length; i++) {\r\n\t\t\tif (array[i] == val)\r\n\t\t\t\treturn true;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t//removed else\r\n\t\t}\t\t\t\t\t\t\t\t\t\t\t\t\t\t//removed return false;\r\n\t\treturn false;\r\n\t}\r\n\t\r\n\t\r\n\tpublic static void sweepSort(int[] array) {\r\n\t\tfor (int i = 0; i &lt; array.length; i++) {\r\n\t\t\tfor (int j = 0; j &lt; array.length-1; j++) { //&#39;i++&#39; =&gt; &#39;j++&#39;\r\n\t\t\t\tif (array[j] &gt; array[j+1]) { // swap elements j and j+1\r\n\t\t\t\t\tint temp = array[j];\r\n\t\t\t\t\tarray[j] = array[j+1];\r\n\t\t\t\t\tarray[j+1] = temp;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t\r\n\t\r\n\tpublic static void selectionSort(int[] array) {\r\n\t\tfor (int top = array.length - 1; top &gt; 0; top--) {\r\n\t\t\tint positionOfMax = 0;\r\n\t\t\tfor (int i = 1; i &lt;= top; i++) {\r\n\t\t\t\tif (array[i] &gt; array[positionOfMax]) //replaced [1]\r\n\t\t\t\t\tpositionOfMax = i;\r\n\t\t\t}\r\n\t\t\tint temp = array[top];  // swap top item with biggest item\r\n\t\t\tarray[top] = array[positionOfMax];\r\n\t\t\tarray[positionOfMax] = temp;\r\n\t\t}\r\n\t}\r\n\r\n\tpublic static void insertionSort(int[] array) {\r\n\t\tfor (int top = 1; top &lt; array.length; top++) {\r\n\t\t\tint temp = array[top];  // copy item that into temp variable\r\n\t\t\tint pos = top - 1;\r\n\t\t\twhile (pos &gt;= 0 &amp;&amp; array[pos] &gt;= temp) { // &#39;&gt;&#39; =&gt; &#39;&gt;=&#39;\r\n\t\t\t\t   // move items that are bigger than temp up one position\r\n\t\t\t\tarray[pos+1] = array[pos];\r\n\t\t\t\tpos--;\r\n\t\t\t}\r\n\t\t\tarray[pos+1] = temp;  // place temp into last vacated position //added &#39;+1&#39; \r\n\t\t}\r\n\t}\r\n\t\r\n\t\r\n\tprivate static void printArray(int[] array) {\r\n\t\tfor (int i = 0; i &lt; array.length; i++) {\r\n\t\t\tSystem.out.print(&quot; &quot;);\r\n\t\t\tSystem.out.print(array[i]);\r\n\t\t}\r\n\t\tSystem.out.println();\r\n\t}\r\n\r\n    }\r\n\r\n","title":"Need assistance locating the errors within the following code","body":"<p>I have finished my project and decided to drop a help</p>\n<pre><code>public static void main(String[] args) {\n    \n    int[] A = new int[10];  // Create an array and fill it with small random ints.\n    for (int i = 0; i &lt; 10; i++)\n        A[i] = 1 + (int)(10 * Math.random());\n    \n    int[] B = A.clone();   // Make copies of the array.\n    int[] C = A.clone();\n    int[] D = A.clone();\n    \n    System.out.print(&quot;The array is:&quot;);\n    printArray(A);\n    \n    if (contains(A,5))\n        System.out.println(&quot;This array DOES contain 5.&quot;);\n    else\n        System.out.println(&quot;This array DOES NOT contain 5.&quot;);\n    \n    Arrays.sort(A);  // Sort using Java's built-in sort method!\n    System.out.print(&quot;Sorted by Arrays.sort():  &quot;);\n    printArray(A);   // (Prints a correctly sorted array.)\n\n    sweepSort(B);\n    System.out.print(&quot;Sorted by Sweep Sort:    &quot;); //Changed name \n    printArray(B);\n\n    selectionSort(C);\n    System.out.print(&quot;Sorted by Selection Sort: &quot;);\n    printArray(C);\n    \n    insertionSort(D);\n    System.out.print(&quot;Sorted by Insertion Sort: &quot;);\n    printArray(D);\n\n}\n\n\npublic static boolean contains(int[] array, int val) {\n    for (int i = 0; i &lt; array.length; i++) {\n        if (array[i] == val)\n            return true;\n                                                            //removed else\n    }                                                       //removed return false;\n    return false;\n}\n\n\npublic static void sweepSort(int[] array) {\n    for (int i = 0; i &lt; array.length; i++) {\n        for (int j = 0; j &lt; array.length-1; j++) { //'i++' =&gt; 'j++'\n            if (array[j] &gt; array[j+1]) { // swap elements j and j+1\n                int temp = array[j];\n                array[j] = array[j+1];\n                array[j+1] = temp;\n            }\n        }\n    }\n}\n\n\npublic static void selectionSort(int[] array) {\n    for (int top = array.length - 1; top &gt; 0; top--) {\n        int positionOfMax = 0;\n        for (int i = 1; i &lt;= top; i++) {\n            if (array[i] &gt; array[positionOfMax]) //replaced [1]\n                positionOfMax = i;\n        }\n        int temp = array[top];  // swap top item with biggest item\n        array[top] = array[positionOfMax];\n        array[positionOfMax] = temp;\n    }\n}\n\npublic static void insertionSort(int[] array) {\n    for (int top = 1; top &lt; array.length; top++) {\n        int temp = array[top];  // copy item that into temp variable\n        int pos = top - 1;\n        while (pos &gt;= 0 &amp;&amp; array[pos] &gt;= temp) { // '&gt;' =&gt; '&gt;='\n               // move items that are bigger than temp up one position\n            array[pos+1] = array[pos];\n            pos--;\n        }\n        array[pos+1] = temp;  // place temp into last vacated position //added '+1' \n    }\n}\n\n\nprivate static void printArray(int[] array) {\n    for (int i = 0; i &lt; array.length; i++) {\n        System.out.print(&quot; &quot;);\n        System.out.print(array[i]);\n    }\n    System.out.println();\n}\n\n}\n</code></pre>\n"}],"owner":{"account_id":5548422,"reputation":1,"user_id":4402367,"display_name":"Bee stringer"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1166,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"answer_count":4,"score":-3,"last_activity_date":1677483608,"creation_date":1456012957,"question_id":35530617,"body_markdown":"The code attached below is suppose to produce this output: \r\n\r\n    The array is: 4 3 6 9 3 9 5 4 1 9\r\n    This array DOES contain 5.\r\n    Sorted by Arrays.sort(): 1 3 3 4 4 5 6 9 9 9\r\n    Sorted by Sweep Sort: 1 3 3 4 4 5 6 9 9 9\r\n    Sorted by Selection Sort: 1 3 3 4 4 5 6 9 9 9\r\n    Sorted by Insertion Sort: 1 3 3 4 4 5 6 9 9 9\r\n\r\nBut it doesn&#39;t. I followed the instruction in the book that I am reading and it didn&#39;t help. Can I get your opinion on what those errors might be? I&#39;m not asking for solutions, I want to be pointed in the right direction as to where the errors are and what type of errors they are.\r\n \r\n\r\n    import java.util.Arrays;\r\n    \r\n    /**\r\n     * This class looks like it&#39;s meant to provide a few public static methods\r\n     * for searching and sorting arrays.  It also has a main method that tests\r\n     * the searching and sorting methods.\r\n     * \r\n     * TODO: The search and sort methods in this class contain bugs that can\r\n     * cause incorrect output or infinite loops.  Use the Eclipse debugger to \r\n     * find the bugs and fix them\r\n     */\r\n    \r\n    public class BuggySearchAndSort {\r\n    \t\r\n    \tpublic static void main(String[] args) {\r\n    \t\t\r\n    \t\tint[] A = new int[10];  // Create an array and fill it with small random ints.\r\n    \t\tfor (int i = 0; i &lt; 10; i++)\r\n    \t\t\tA[i] = 1 + (int)(10 * Math.random());\r\n    \t\t\r\n    \t\tint[] B = A.clone();   // Make copies of the array.\r\n    \t\tint[] C = A.clone();\r\n    \t\tint[] D = A.clone();\r\n    \t\t\r\n    \t\tSystem.out.print(&quot;The array is:&quot;);\r\n    \t\tprintArray(A);\r\n    \t\t\r\n    \t\tif (contains(A,5))\r\n    \t\t\tSystem.out.println(&quot;This array DOES contain 5.&quot;);\r\n    \t\telse\r\n    \t\t\tSystem.out.println(&quot;This array DOES NOT contain 5.&quot;);\r\n    \t\t\r\n    \t\tArrays.sort(A);  // Sort using Java&#39;s built-in sort method!\r\n    \t\tSystem.out.print(&quot;Sorted by Arrays.sort():  &quot;);\r\n    \t\tprintArray(A);   // (Prints a correctly sorted array.)\r\n    \r\n    \t\tbubbleSort(B);\r\n    \t\tSystem.out.print(&quot;Sorted by Bubble Sort:    &quot;);\r\n    \t\tprintArray(B);\r\n    \r\n    \t\tselectionSort(C);\r\n    \t\tSystem.out.print(&quot;Sorted by Selection Sort: &quot;);\r\n    \t\tprintArray(C);\r\n    \t\t\r\n    \t\tinsertionSort(D);\r\n    \t\tSystem.out.print(&quot;Sorted by Insertion Sort: &quot;);\r\n    \t\tprintArray(D);\r\n    \r\n    \t}\r\n    \t\r\n    \t/**\r\n    \t * Tests whether an array of ints contains a given value.\r\n    \t * @param array a non-null array that is to be searched\r\n    \t * @param val the value for which the method will search\r\n    \t * @return true if val is one of the items in the array, false if not\r\n    \t */\r\n    \tpublic static boolean contains(int[] array, int val) {\r\n    \t\tfor (int i = 0; i &lt; array.length; i++) {\r\n    \t\t\tif (array[i] == val)\r\n    \t\t\t\treturn true;\r\n    \t\t\telse\r\n    \t\t\t\treturn false;\r\n    \t\t}\r\n    \t\treturn false;\r\n    \t}\r\n    \t\r\n    \t/**\r\n    \t * Sorts an array into non-decreasing order.  This inefficient sorting\r\n    \t * method simply sweeps through the array, exchanging neighboring elements\r\n    \t * that are out of order.  The number of times that it does this is equal\r\n    \t * to the length of the array.\r\n    \t */\r\n    \tpublic static void bubbleSort(int[] array) {\r\n    \t\tfor (int i = 0; i &lt; array.length; i++) {\r\n    \t\t\tfor (int j = 0; j &lt; array.length-1; i++) {\r\n    \t\t\t\tif (array[j] &gt; array[j+1]) { // swap elements j and j+1\r\n    \t\t\t\t\tint temp = array[j];\r\n    \t\t\t\t\tarray[j] = array[j+1];\r\n    \t\t\t\t\tarray[j+1] = temp;\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t}\r\n    \t}\r\n    \t\r\n    \t/**\r\n    \t * Sorts an array into non-decreasing order.  This method uses a selection\r\n    \t * sort algorithm, in which the largest item is found and placed at the end of \r\n    \t * the list, then the second-largest in the next to last place, and so on.\r\n    \t */\r\n    \tpublic static void selectionSort(int[] array) {\r\n    \t\tfor (int top = array.length - 1; top &gt; 0; top--) {\r\n    \t\t\tint positionOfMax = 0;\r\n    \t\t\tfor (int i = 1; i &lt;= top; i++) {\r\n    \t\t\t\tif (array[1] &gt; array[positionOfMax])\r\n    \t\t\t\t\tpositionOfMax = i;\r\n    \t\t\t}\r\n    \t\t\tint temp = array[top];  // swap top item with biggest item\r\n    \t\t\tarray[top] = array[positionOfMax];\r\n    \t\t\tarray[positionOfMax] = temp;\r\n    \t\t}\r\n    \t}\r\n    \t\r\n    \t/**\r\n    \t * Sorts an array into non-decreasing order.  This method uses a standard\r\n    \t * insertion sort algorithm, in which each element in turn is moved downwards\r\n    \t * past any elements that are greater than it.\r\n    \t */\r\n    \tpublic static void insertionSort(int[] array) {\r\n    \t\tfor (int top = 1; top &lt; array.length; top++) {\r\n    \t\t\tint temp = array[top];  // copy item that into temp variable\r\n    \t\t\tint pos = top - 1;\r\n    \t\t\twhile (pos &gt; 0 &amp;&amp; array[pos] &gt; temp) {\r\n    \t\t\t\t   // move items that are bigger than temp up one position\r\n    \t\t\t\tarray[pos+1] = array[pos];\r\n    \t\t\t\tpos--;\r\n    \t\t\t}\r\n    \t\t\tarray[pos] = temp;  // place temp into last vacated position\r\n    \t\t}\r\n    \t}\r\n    \t\r\n    \t/**\r\n    \t * Outputs the ints in an array on one line, separated by spaces,\r\n    \t * with a line feed at the end.\r\n    \t */\r\n    \tprivate static void printArray(int[] array) {\r\n    \t\tfor (int i = 0; i &lt; array.length; i++) {\r\n    \t\t\tSystem.out.print(&quot; &quot;);\r\n    \t\t\tSystem.out.print(array[i]);\r\n    \t\t}\r\n    \t\tSystem.out.println();\r\n    \t}\r\n    \r\n    }","title":"Need assistance locating the errors within the following code","body":"<p>The code attached below is suppose to produce this output: </p>\n\n<pre><code>The array is: 4 3 6 9 3 9 5 4 1 9\nThis array DOES contain 5.\nSorted by Arrays.sort(): 1 3 3 4 4 5 6 9 9 9\nSorted by Sweep Sort: 1 3 3 4 4 5 6 9 9 9\nSorted by Selection Sort: 1 3 3 4 4 5 6 9 9 9\nSorted by Insertion Sort: 1 3 3 4 4 5 6 9 9 9\n</code></pre>\n\n<p>But it doesn't. I followed the instruction in the book that I am reading and it didn't help. Can I get your opinion on what those errors might be? I'm not asking for solutions, I want to be pointed in the right direction as to where the errors are and what type of errors they are.</p>\n\n<pre><code>import java.util.Arrays;\n\n/**\n * This class looks like it's meant to provide a few public static methods\n * for searching and sorting arrays.  It also has a main method that tests\n * the searching and sorting methods.\n * \n * TODO: The search and sort methods in this class contain bugs that can\n * cause incorrect output or infinite loops.  Use the Eclipse debugger to \n * find the bugs and fix them\n */\n\npublic class BuggySearchAndSort {\n\n    public static void main(String[] args) {\n\n        int[] A = new int[10];  // Create an array and fill it with small random ints.\n        for (int i = 0; i &lt; 10; i++)\n            A[i] = 1 + (int)(10 * Math.random());\n\n        int[] B = A.clone();   // Make copies of the array.\n        int[] C = A.clone();\n        int[] D = A.clone();\n\n        System.out.print(\"The array is:\");\n        printArray(A);\n\n        if (contains(A,5))\n            System.out.println(\"This array DOES contain 5.\");\n        else\n            System.out.println(\"This array DOES NOT contain 5.\");\n\n        Arrays.sort(A);  // Sort using Java's built-in sort method!\n        System.out.print(\"Sorted by Arrays.sort():  \");\n        printArray(A);   // (Prints a correctly sorted array.)\n\n        bubbleSort(B);\n        System.out.print(\"Sorted by Bubble Sort:    \");\n        printArray(B);\n\n        selectionSort(C);\n        System.out.print(\"Sorted by Selection Sort: \");\n        printArray(C);\n\n        insertionSort(D);\n        System.out.print(\"Sorted by Insertion Sort: \");\n        printArray(D);\n\n    }\n\n    /**\n     * Tests whether an array of ints contains a given value.\n     * @param array a non-null array that is to be searched\n     * @param val the value for which the method will search\n     * @return true if val is one of the items in the array, false if not\n     */\n    public static boolean contains(int[] array, int val) {\n        for (int i = 0; i &lt; array.length; i++) {\n            if (array[i] == val)\n                return true;\n            else\n                return false;\n        }\n        return false;\n    }\n\n    /**\n     * Sorts an array into non-decreasing order.  This inefficient sorting\n     * method simply sweeps through the array, exchanging neighboring elements\n     * that are out of order.  The number of times that it does this is equal\n     * to the length of the array.\n     */\n    public static void bubbleSort(int[] array) {\n        for (int i = 0; i &lt; array.length; i++) {\n            for (int j = 0; j &lt; array.length-1; i++) {\n                if (array[j] &gt; array[j+1]) { // swap elements j and j+1\n                    int temp = array[j];\n                    array[j] = array[j+1];\n                    array[j+1] = temp;\n                }\n            }\n        }\n    }\n\n    /**\n     * Sorts an array into non-decreasing order.  This method uses a selection\n     * sort algorithm, in which the largest item is found and placed at the end of \n     * the list, then the second-largest in the next to last place, and so on.\n     */\n    public static void selectionSort(int[] array) {\n        for (int top = array.length - 1; top &gt; 0; top--) {\n            int positionOfMax = 0;\n            for (int i = 1; i &lt;= top; i++) {\n                if (array[1] &gt; array[positionOfMax])\n                    positionOfMax = i;\n            }\n            int temp = array[top];  // swap top item with biggest item\n            array[top] = array[positionOfMax];\n            array[positionOfMax] = temp;\n        }\n    }\n\n    /**\n     * Sorts an array into non-decreasing order.  This method uses a standard\n     * insertion sort algorithm, in which each element in turn is moved downwards\n     * past any elements that are greater than it.\n     */\n    public static void insertionSort(int[] array) {\n        for (int top = 1; top &lt; array.length; top++) {\n            int temp = array[top];  // copy item that into temp variable\n            int pos = top - 1;\n            while (pos &gt; 0 &amp;&amp; array[pos] &gt; temp) {\n                   // move items that are bigger than temp up one position\n                array[pos+1] = array[pos];\n                pos--;\n            }\n            array[pos] = temp;  // place temp into last vacated position\n        }\n    }\n\n    /**\n     * Outputs the ints in an array on one line, separated by spaces,\n     * with a line feed at the end.\n     */\n    private static void printArray(int[] array) {\n        for (int i = 0; i &lt; array.length; i++) {\n            System.out.print(\" \");\n            System.out.print(array[i]);\n        }\n        System.out.println();\n    }\n\n}\n</code></pre>\n"},{"tags":["java","redis","quarkus"],"answers":[{"tags":[],"owner":{"account_id":1276303,"reputation":2937,"user_id":1231484,"display_name":"Clement"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677483453,"creation_date":1677483453,"answer_id":75577810,"question_id":75547718,"body_markdown":"I guess your method is invoked from an HTTP endpoint returning a `Uni`.\r\nConsequently, your method is called on the event loop (it returns a Uni, so Quarkus calls you on the event loop). Thus you cannot block. However, in the method, you use `await().indefinitely(),` which is blocking. \r\n\r\nSo, you need to avoid blocking:\r\n\r\n```java\r\n\r\nprivate final ReactiveKeyCommands&lt;String&gt; keys;\r\nprivate final ReactiveValueCommands&lt;String, Promotion&gt; values;\r\n\r\n\r\npublic MyClass(ReactiveRedisDataSource reactiveRedisDataSource) {\r\n        this.keys = reactiveRedisDataSource.key();\r\n        this.values = reactiveRedisDataSource.value(Promotion.class);\r\n}\r\n\r\npublic Uni&lt;List&lt;Promotion&gt;&gt; listAll() {\r\n  return keys.keys(&quot;promo*&quot;)\r\n      .onItem().transformToMulti(keys -&gt; Multi.createFrom().items(keys.stream()))\r\n      .onItem().transformToUniAndMerge(values::get)\r\n      .collect().asList();\r\n}\r\n```\r\n\r\n`MyClass` is a bean. First, I initialize the Redis objects to access the keys and values. It avoids having to create these objects every time.\r\n\r\nThen, the `listAll` starts by listing all the matching keys and then transforms the returned list into a `Multi` (and asynchronous stream of keys). You get a `Multi&lt;String&gt;`.  Note that the returned list cannot be `null.` For each item from that stream, we retrieve the value. The `transformToUniAndMerge` indicates that you will retrieve the values concurrently instead of sequentially. If the order is not important, I would recommend that. If the order matters, use `transformToUniAndConcatenate.` At that point, you get a `Multi&lt;Promotion&gt;`. To transform that into a `Uni&lt;List&lt;Promotion&gt;&gt;`, you use `collect().asList(),` which collects all the items into a list and returns it when the last item is read. \r\n","title":"How can I list all key values in reactive redis (quarkus)?","body":"<p>I guess your method is invoked from an HTTP endpoint returning a <code>Uni</code>.\nConsequently, your method is called on the event loop (it returns a Uni, so Quarkus calls you on the event loop). Thus you cannot block. However, in the method, you use <code>await().indefinitely(),</code> which is blocking.</p>\n<p>So, you need to avoid blocking:</p>\n<pre class=\"lang-java prettyprint-override\"><code>\nprivate final ReactiveKeyCommands&lt;String&gt; keys;\nprivate final ReactiveValueCommands&lt;String, Promotion&gt; values;\n\n\npublic MyClass(ReactiveRedisDataSource reactiveRedisDataSource) {\n        this.keys = reactiveRedisDataSource.key();\n        this.values = reactiveRedisDataSource.value(Promotion.class);\n}\n\npublic Uni&lt;List&lt;Promotion&gt;&gt; listAll() {\n  return keys.keys(&quot;promo*&quot;)\n      .onItem().transformToMulti(keys -&gt; Multi.createFrom().items(keys.stream()))\n      .onItem().transformToUniAndMerge(values::get)\n      .collect().asList();\n}\n</code></pre>\n<p><code>MyClass</code> is a bean. First, I initialize the Redis objects to access the keys and values. It avoids having to create these objects every time.</p>\n<p>Then, the <code>listAll</code> starts by listing all the matching keys and then transforms the returned list into a <code>Multi</code> (and asynchronous stream of keys). You get a <code>Multi&lt;String&gt;</code>.  Note that the returned list cannot be <code>null.</code> For each item from that stream, we retrieve the value. The <code>transformToUniAndMerge</code> indicates that you will retrieve the values concurrently instead of sequentially. If the order is not important, I would recommend that. If the order matters, use <code>transformToUniAndConcatenate.</code> At that point, you get a <code>Multi&lt;Promotion&gt;</code>. To transform that into a <code>Uni&lt;List&lt;Promotion&gt;&gt;</code>, you use <code>collect().asList(),</code> which collects all the items into a list and returns it when the last item is read.</p>\n"}],"owner":{"account_id":27862213,"reputation":1,"user_id":21274483,"display_name":"William Mamani Cutipa"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":435,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1677483453,"creation_date":1677170148,"question_id":75547718,"body_markdown":"I have a flow to get the keys. I use these keys to get their values, then the list of values (Promotion) must be returned.\r\nThe problem is how to join these two flows. Thanks for the help.\r\n\r\n\r\nI created the first flow then I transformed it to obtain a &quot;UNI&quot;, but the result of the second flow returns another &quot;UNI&quot;, which does not let me create the promotion list.\r\n\r\nCode:\r\n\r\n```\r\n    public Uni&lt;List&lt;Promotion&gt;&gt; listAll() {\r\n        return this.reactiveRedisDataSource.key().keys(&quot;promo*&quot;)\r\n                .onItem().ifNotNull()\r\n                .transformToUni(keys -&gt; {\r\n                    LOGGER.info(&quot;listAll ::: keys ::: &quot; + keys);\r\n                    List&lt;Promotion&gt; promotions = new ArrayList&lt;&gt;();\r\n\r\n                    promotions = keys.stream().map(key -&gt; {\r\n                        return this.reactiveRedisDataSource\r\n                                .value(String.class, Promotion.class)\r\n                                .get(key).await().indefinitely();\r\n                    }).toList();\r\n\r\n                    return Uni.createFrom().item(promotions);\r\n                });\r\n    }\r\n```\r\n\r\nERROR:\r\n\r\n```\r\nThe current thread cannot be blocked: vert.x-eventloop-thread-2\r\n```","title":"How can I list all key values in reactive redis (quarkus)?","body":"<p>I have a flow to get the keys. I use these keys to get their values, then the list of values (Promotion) must be returned.\nThe problem is how to join these two flows. Thanks for the help.</p>\n<p>I created the first flow then I transformed it to obtain a &quot;UNI&quot;, but the result of the second flow returns another &quot;UNI&quot;, which does not let me create the promotion list.</p>\n<p>Code:</p>\n<pre><code>    public Uni&lt;List&lt;Promotion&gt;&gt; listAll() {\n        return this.reactiveRedisDataSource.key().keys(&quot;promo*&quot;)\n                .onItem().ifNotNull()\n                .transformToUni(keys -&gt; {\n                    LOGGER.info(&quot;listAll ::: keys ::: &quot; + keys);\n                    List&lt;Promotion&gt; promotions = new ArrayList&lt;&gt;();\n\n                    promotions = keys.stream().map(key -&gt; {\n                        return this.reactiveRedisDataSource\n                                .value(String.class, Promotion.class)\n                                .get(key).await().indefinitely();\n                    }).toList();\n\n                    return Uni.createFrom().item(promotions);\n                });\n    }\n</code></pre>\n<p>ERROR:</p>\n<pre><code>The current thread cannot be blocked: vert.x-eventloop-thread-2\n</code></pre>\n"},{"tags":["java","android","xml"],"owner":{"account_id":19123704,"reputation":83,"user_id":18395575,"display_name":"VUELOVER"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677482075,"creation_date":1677482075,"question_id":75577626,"body_markdown":"I am currently building an Android app and I&#39;m facing a dilemma regarding the use of fragments and activities for navigation. Despite researching and reading numerous comparisons, I am still unsure about which approach to take. I am hoping to explain my requirements here in detail so that someone can guide me in the right direction.\r\n\r\nThe app I am building is meant to allow users to download photos or videos through a link. I have three items in a BottomNavigation menu called Home, Gallery, and Download. The Home view will provide users with a welcome message and a guide on how to use the app. The Gallery view will display the downloaded media within the app, and the Download page will have an EditText field and a Download button for users to download media.\r\n\r\nAs of now, I believe that using fragments would be the most suitable approach for my requirements. However, I am stuck when it comes to designing the Gallery view, which will include a tabbed layout with two sections: Photos and Videos.\r\n\r\nMy current approach is to use a Bottom Navigation bar with fragments and then use tabbed layouts in the Gallery fragment. Would this be the correct approach, or would you suggest another method?\r\n\r\nPlease note that I had initially tried using Bottom Navigation with activities, but the selected item was not highlighted or changed, leading me to explore alternative approaches.\r\n\r\nI would greatly appreciate your detailed explanation and guidance on this matter.\r\n\r\nThank you.","title":"What is the recommended approach for building an andriod app that utilizes a bottom navigation bar?","body":"<p>I am currently building an Android app and I'm facing a dilemma regarding the use of fragments and activities for navigation. Despite researching and reading numerous comparisons, I am still unsure about which approach to take. I am hoping to explain my requirements here in detail so that someone can guide me in the right direction.</p>\n<p>The app I am building is meant to allow users to download photos or videos through a link. I have three items in a BottomNavigation menu called Home, Gallery, and Download. The Home view will provide users with a welcome message and a guide on how to use the app. The Gallery view will display the downloaded media within the app, and the Download page will have an EditText field and a Download button for users to download media.</p>\n<p>As of now, I believe that using fragments would be the most suitable approach for my requirements. However, I am stuck when it comes to designing the Gallery view, which will include a tabbed layout with two sections: Photos and Videos.</p>\n<p>My current approach is to use a Bottom Navigation bar with fragments and then use tabbed layouts in the Gallery fragment. Would this be the correct approach, or would you suggest another method?</p>\n<p>Please note that I had initially tried using Bottom Navigation with activities, but the selected item was not highlighted or changed, leading me to explore alternative approaches.</p>\n<p>I would greatly appreciate your detailed explanation and guidance on this matter.</p>\n<p>Thank you.</p>\n"},{"tags":["java","java-native-interface"],"comments":[{"owner":{"account_id":1684984,"reputation":27030,"user_id":1548468,"display_name":"Botje"},"score":0,"creation_date":1677499801,"post_id":75577454,"comment_id":133343347,"body_markdown":"Did you enter &quot;gradle jni&quot; into google? That gives me several usable suggestions out of the box. There is also [at least one similar question on SO](https://stackoverflow.com/questions/67219585/how-to-setup-gradle-project-that-uses-java-and-native-c-code)","body":"Did you enter &quot;gradle jni&quot; into google? That gives me several usable suggestions out of the box. There is also <a href=\"https://stackoverflow.com/questions/67219585/how-to-setup-gradle-project-that-uses-java-and-native-c-code\">at least one similar question on SO</a>"}],"owner":{"account_id":8224259,"reputation":862,"user_id":6187009,"display_name":"david"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677481063,"creation_date":1677480621,"question_id":75577454,"body_markdown":"- I want to call c++ function in pure Java application. But I don&#39;t know how to build c++ code with ```build.gradle```. \r\n\r\n- I have done the same thing in Android project as follows, but I wonder how to do the same thing for Java application rather than Android project. \r\n    - For example, what should I replace &quot;android {...}&quot; with?\r\n    - The c++ code is organized and&#160;compiled by file `src/main/cpp/CMakeLists.txt`\r\n```\r\nplugins {\r\n    id &#39;com.android.application&#39;\r\n}\r\n\r\nandroid {\r\n    namespace &#39;com.example.test&#39;\r\n    compileSdk 32\r\n\r\n    defaultConfig {\r\n        applicationId &quot;com.example.test&quot;\r\n        minSdk 26\r\n        targetSdk 32\r\n        versionCode 1\r\n        versionName &quot;1.0&quot;\r\n\r\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\r\n        externalNativeBuild {\r\n            cmake {\r\n                arguments &quot;-DMNN_USE_LOGCAT=ON&quot;\r\n                cppFlags &#39;-std=c++11&#39;\r\n                abiFilters &#39;arm64-v8a&#39;, &#39;x86_64&#39;\r\n            }\r\n        }\r\n        ndk {\r\n            // Specifies the ABI configurations of your native\r\n            // libraries Gradle should build and package with your app.\r\n            abiFilters &#39;arm64-v8a&#39;\r\n        }\r\n    }\r\n\r\n    // For grpc-netty package\r\n    packagingOptions {\r\n        exclude &#39;META-INF/*&#39;\r\n    }\r\n\r\n    sourceSets {\r\n        main {\r\n            jniLibs.srcDirs = [&#39;libs&#39;]\r\n        }\r\n    }\r\n\r\n    buildTypes {\r\n        debug {\r\n            ndk {\r\n                abiFilters &#39;arm64-v8a&#39;, &#39;x86_64&#39;\r\n            }\r\n        }\r\n        release {\r\n            minifyEnabled false\r\n            proguardFiles getDefaultProguardFile(&#39;proguard-android-optimize.txt&#39;), &#39;proguard-rules.pro&#39;\r\n        }\r\n    }\r\n    compileOptions {\r\n        sourceCompatibility JavaVersion.VERSION_1_8\r\n        targetCompatibility JavaVersion.VERSION_1_8\r\n    }\r\n    externalNativeBuild {\r\n        cmake {\r\n            path file(&#39;src/main/cpp/CMakeLists.txt&#39;)\r\n            version &#39;3.18.1&#39;\r\n        }\r\n    }\r\n    buildFeatures {\r\n        viewBinding true\r\n    }\r\n}\r\n\r\ndependencies {\r\n   ...\r\n}\r\n```","title":"How to build JNI in Java application rather than Android application?","body":"<ul>\n<li><p>I want to call c++ function in pure Java application. But I don't know how to build c++ code with <code>build.gradle</code>.</p>\n</li>\n<li><p>I have done the same thing in Android project as follows, but I wonder how to do the same thing for Java application rather than Android project.</p>\n<ul>\n<li>For example, what should I replace &quot;android {...}&quot; with?</li>\n<li>The c++ code is organized and compiled by file <code>src/main/cpp/CMakeLists.txt</code></li>\n</ul>\n</li>\n</ul>\n<pre><code>plugins {\n    id 'com.android.application'\n}\n\nandroid {\n    namespace 'com.example.test'\n    compileSdk 32\n\n    defaultConfig {\n        applicationId &quot;com.example.test&quot;\n        minSdk 26\n        targetSdk 32\n        versionCode 1\n        versionName &quot;1.0&quot;\n\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\n        externalNativeBuild {\n            cmake {\n                arguments &quot;-DMNN_USE_LOGCAT=ON&quot;\n                cppFlags '-std=c++11'\n                abiFilters 'arm64-v8a', 'x86_64'\n            }\n        }\n        ndk {\n            // Specifies the ABI configurations of your native\n            // libraries Gradle should build and package with your app.\n            abiFilters 'arm64-v8a'\n        }\n    }\n\n    // For grpc-netty package\n    packagingOptions {\n        exclude 'META-INF/*'\n    }\n\n    sourceSets {\n        main {\n            jniLibs.srcDirs = ['libs']\n        }\n    }\n\n    buildTypes {\n        debug {\n            ndk {\n                abiFilters 'arm64-v8a', 'x86_64'\n            }\n        }\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'\n        }\n    }\n    compileOptions {\n        sourceCompatibility JavaVersion.VERSION_1_8\n        targetCompatibility JavaVersion.VERSION_1_8\n    }\n    externalNativeBuild {\n        cmake {\n            path file('src/main/cpp/CMakeLists.txt')\n            version '3.18.1'\n        }\n    }\n    buildFeatures {\n        viewBinding true\n    }\n}\n\ndependencies {\n   ...\n}\n</code></pre>\n"},{"tags":["java","spring","abstract-class"],"answers":[{"tags":[],"owner":{"account_id":25866694,"reputation":191,"user_id":19598245,"display_name":"Phil Ku"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1677474162,"creation_date":1677474162,"answer_id":75576905,"question_id":75576645,"body_markdown":"It seems the application cannot scan the component,\r\nplease check if you added `@ComponentScan` in your main application file:\r\n\r\n    @SpringBootApplication\r\n    @ComponentScan(basePackages = { &quot;com.test&quot; })\r\n    // ...","title":"How can I use Spring bean in abstract class","body":"<p>It seems the application cannot scan the component,\nplease check if you added <code>@ComponentScan</code> in your main application file:</p>\n<pre><code>@SpringBootApplication\n@ComponentScan(basePackages = { &quot;com.test&quot; })\n// ...\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13068865,"reputation":357,"user_id":9443176,"display_name":"Max Aminov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677480898,"creation_date":1677474371,"answer_id":75576924,"question_id":75576645,"body_markdown":"Use constructor injection instead of @Resource\r\n\r\n- RestfullController\r\n\r\n```\r\n@RestController\r\npublic class RestfullController {\r\n\r\n    AbstractService abstractService;\r\n\r\n    public RestfullController(AbstractService abstractService) {\r\n        this.abstractService = abstractService;\r\n    }\r\n\r\n}\r\n```\r\n\r\n- AbstractService\r\n```\r\npublic abstract class AbstractService {\r\n\r\n    abstract void doSomeThing();\r\n\r\n}\r\n```\r\n\r\n- AServiceImpl\r\n```\r\n@Component\r\npublic class AServiceImpl extends AbstractService {\r\n\r\n    @Override\r\n    void doSomeThing() {\r\n        // TODO\r\n    }\r\n}\r\n```\r\n\r\nHope it will helps you :)","title":"How can I use Spring bean in abstract class","body":"<p>Use constructor injection instead of @Resource</p>\n<ul>\n<li>RestfullController</li>\n</ul>\n<pre><code>@RestController\npublic class RestfullController {\n\n    AbstractService abstractService;\n\n    public RestfullController(AbstractService abstractService) {\n        this.abstractService = abstractService;\n    }\n\n}\n</code></pre>\n<ul>\n<li>AbstractService</li>\n</ul>\n<pre><code>public abstract class AbstractService {\n\n    abstract void doSomeThing();\n\n}\n</code></pre>\n<ul>\n<li>AServiceImpl</li>\n</ul>\n<pre><code>@Component\npublic class AServiceImpl extends AbstractService {\n\n    @Override\n    void doSomeThing() {\n        // TODO\n    }\n}\n</code></pre>\n<p>Hope it will helps you :)</p>\n"},{"tags":[],"owner":{"account_id":19198927,"reputation":304,"user_id":14027230,"display_name":"meridbt"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677476112,"creation_date":1677476112,"answer_id":75577046,"question_id":75576645,"body_markdown":"Either use `AServiceImpl` directly in your controller or declare an interface instead of abstract class, since the last one can&#39;t be instantiated","title":"How can I use Spring bean in abstract class","body":"<p>Either use <code>AServiceImpl</code> directly in your controller or declare an interface instead of abstract class, since the last one can't be instantiated</p>\n"},{"tags":[],"owner":{"account_id":9295766,"reputation":410,"user_id":6902739,"accept_rate":40,"display_name":"BaoTrung Tran"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677479025,"creation_date":1677479025,"answer_id":75577312,"question_id":75576645,"body_markdown":"You can declare **AbstractService abstractService** and init constructor on **RestfullController** with parameter **AbstractService**. Spring will auto init component when start. ","title":"How can I use Spring bean in abstract class","body":"<p>You can declare <strong>AbstractService abstractService</strong> and init constructor on <strong>RestfullController</strong> with parameter <strong>AbstractService</strong>. Spring will auto init component when start.</p>\n"}],"owner":{"account_id":26268041,"reputation":21,"user_id":19938305,"display_name":"春日部防卫队丶"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":488,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":4,"score":2,"last_activity_date":1677480898,"creation_date":1677469988,"question_id":75576645,"body_markdown":"The abstract class\r\n```\r\npublic abstract class AbstractService&lt;T&gt; {\r\n\r\n    abstract void doSomeThing;\r\n\r\n}\r\n```\r\n\r\nthat extends class\r\n```\r\n@Component\r\npublic class AServiceImpl&lt;Entity&gt; extends AbstractService&lt;Entity&gt; {\r\n\r\n}\r\n```\r\nthat I want to use\r\n```\r\npublic class RestfullController {\r\n\r\n    @Resource\r\n    AbstractService abstractService;\r\n\r\n}\r\n```\r\nbut the note is \r\n```\r\nDescription:\r\n\r\nA component required a bean of type &#39;com.test.AbstractService&#39; that could not be found.\r\n```\r\n\r\n\r\n\r\nHow can I use this extends class?","title":"How can I use Spring bean in abstract class","body":"<p>The abstract class</p>\n<pre><code>public abstract class AbstractService&lt;T&gt; {\n\n    abstract void doSomeThing;\n\n}\n</code></pre>\n<p>that extends class</p>\n<pre><code>@Component\npublic class AServiceImpl&lt;Entity&gt; extends AbstractService&lt;Entity&gt; {\n\n}\n</code></pre>\n<p>that I want to use</p>\n<pre><code>public class RestfullController {\n\n    @Resource\n    AbstractService abstractService;\n\n}\n</code></pre>\n<p>but the note is</p>\n<pre><code>Description:\n\nA component required a bean of type 'com.test.AbstractService' that could not be found.\n</code></pre>\n<p>How can I use this extends class?</p>\n"},{"tags":["java","file-upload","shiro"],"owner":{"account_id":27886891,"reputation":1,"user_id":21294125,"display_name":"Levi Li"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677480347,"creation_date":1677466704,"question_id":75576423,"body_markdown":"Paste my controller code first\r\n\r\n```java\r\n   @PostMapping(&quot;/upload/single&quot;)\r\n    public ResponseResult uploadSingleFile(HttpServletRequest request, HttpServletResponse response) {\r\n        JSONObject jsonObject = new JSONObject();\r\n        // change to MultipartRequest\r\n        StandardServletMultipartResolver standardServletMultipartResolver = new StandardServletMultipartResolver();\r\n        MultipartHttpServletRequest multipartHttpServletRequest = standardServletMultipartResolver.resolveMultipart(request);\r\n        try {\r\n            // get filename\r\n            MultipartFile file = multipartHttpServletRequest.getFile(&quot;file&quot;);\r\n            String originalFilename = file.getOriginalFilename();\r\n            // change file\r\n            File dest = new File(tempPrePath + File.separator + originalFilename);\r\n            if (!dest.exists()) {\r\n                dest.mkdirs();\r\n            }\r\n            file.transferTo(dest);\r\n        } catch (IOException e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n        jsonObject.put(&quot;msg&quot;, &quot;success&quot;);\r\n        return new ResponseResult(ResultCode.SUCCESS);\r\n    }\r\n```\r\nand apifox request:\r\n[apifox image](https://i.stack.imgur.com/N5Tcn.jpg)\r\nand error:\r\n&gt; file is null point\r\n\r\nso how to resolve this problem\r\n\r\n\r\n1、I try to add a filter but is not good:\r\n```java\r\n        if(request instanceof HttpServletRequest) {\r\n            if (((HttpServletRequest) request).getMethod().toUpperCase().equals(RequestMethod.OPTIONS.name())) {\r\n                return true;\r\n            }\r\n      }\r\n```\r\nDetermine whether it is a cross-domain request\r\n2、I tried to set the path to anonymous access in shiro\r\n```java\r\n@Bean(name = &quot;shiroFilterFactoryBean&quot;)\r\n    public ShiroFilterFactoryBean getShiroFilterFactoryBean(DefaultWebSecurityManager defaultWebSecurityManager) {\r\n        ShiroFilterFactoryBean shiroFilterFactoryBean = new ShiroFilterFactoryBean();\r\n//        给filter设置安全管理器\r\n        shiroFilterFactoryBean.setSecurityManager(defaultWebSecurityManager);\r\n//        添加自定义过滤器\r\n        Map&lt;String, Filter&gt; filterMap = new HashMap&lt;String, Filter&gt;();\r\n        filterMap.put(&quot;jwt&quot;, new JwtFilter());\r\n        shiroFilterFactoryBean.setFilters(filterMap);\r\n\r\n//        配置系统受限资源\r\n        Map&lt;String, String&gt; map = new HashMap&lt;String, String&gt;();\r\n        map.put(&quot;/api/faculty/login&quot;, &quot;anon&quot;);\r\n        map.put(&quot;/api/faculty/register&quot;, &quot;anon&quot;);\r\n        map.put(&quot;/api/verify/**&quot;, &quot;anon&quot;);\r\n        map.put(&quot;/test/**&quot;, &quot;anon&quot;);\r\n        map.put(&quot;/common/file/**&quot;, &quot;anon&quot;);\r\n        map.put(&quot;/**&quot;, &quot;jwt&quot;);\r\n        shiroFilterFactoryBean.setFilterChainDefinitionMap(map);\r\n        return shiroFilterFactoryBean;\r\n    }\r\n```\r\n","title":"Shiro upload file failed to get &#39;file&#39; file","body":"<p>Paste my controller code first</p>\n<pre class=\"lang-java prettyprint-override\"><code>   @PostMapping(&quot;/upload/single&quot;)\n    public ResponseResult uploadSingleFile(HttpServletRequest request, HttpServletResponse response) {\n        JSONObject jsonObject = new JSONObject();\n        // change to MultipartRequest\n        StandardServletMultipartResolver standardServletMultipartResolver = new StandardServletMultipartResolver();\n        MultipartHttpServletRequest multipartHttpServletRequest = standardServletMultipartResolver.resolveMultipart(request);\n        try {\n            // get filename\n            MultipartFile file = multipartHttpServletRequest.getFile(&quot;file&quot;);\n            String originalFilename = file.getOriginalFilename();\n            // change file\n            File dest = new File(tempPrePath + File.separator + originalFilename);\n            if (!dest.exists()) {\n                dest.mkdirs();\n            }\n            file.transferTo(dest);\n        } catch (IOException e) {\n            throw new RuntimeException(e);\n        }\n        jsonObject.put(&quot;msg&quot;, &quot;success&quot;);\n        return new ResponseResult(ResultCode.SUCCESS);\n    }\n</code></pre>\n<p>and apifox request:\n<a href=\"https://i.stack.imgur.com/N5Tcn.jpg\" rel=\"nofollow noreferrer\">apifox image</a>\nand error:</p>\n<blockquote>\n<p>file is null point</p>\n</blockquote>\n<p>so how to resolve this problem</p>\n<p>1、I try to add a filter but is not good:</p>\n<pre class=\"lang-java prettyprint-override\"><code>        if(request instanceof HttpServletRequest) {\n            if (((HttpServletRequest) request).getMethod().toUpperCase().equals(RequestMethod.OPTIONS.name())) {\n                return true;\n            }\n      }\n</code></pre>\n<p>Determine whether it is a cross-domain request\n2、I tried to set the path to anonymous access in shiro</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Bean(name = &quot;shiroFilterFactoryBean&quot;)\n    public ShiroFilterFactoryBean getShiroFilterFactoryBean(DefaultWebSecurityManager defaultWebSecurityManager) {\n        ShiroFilterFactoryBean shiroFilterFactoryBean = new ShiroFilterFactoryBean();\n//        给filter设置安全管理器\n        shiroFilterFactoryBean.setSecurityManager(defaultWebSecurityManager);\n//        添加自定义过滤器\n        Map&lt;String, Filter&gt; filterMap = new HashMap&lt;String, Filter&gt;();\n        filterMap.put(&quot;jwt&quot;, new JwtFilter());\n        shiroFilterFactoryBean.setFilters(filterMap);\n\n//        配置系统受限资源\n        Map&lt;String, String&gt; map = new HashMap&lt;String, String&gt;();\n        map.put(&quot;/api/faculty/login&quot;, &quot;anon&quot;);\n        map.put(&quot;/api/faculty/register&quot;, &quot;anon&quot;);\n        map.put(&quot;/api/verify/**&quot;, &quot;anon&quot;);\n        map.put(&quot;/test/**&quot;, &quot;anon&quot;);\n        map.put(&quot;/common/file/**&quot;, &quot;anon&quot;);\n        map.put(&quot;/**&quot;, &quot;jwt&quot;);\n        shiroFilterFactoryBean.setFilterChainDefinitionMap(map);\n        return shiroFilterFactoryBean;\n    }\n</code></pre>\n"},{"tags":["java","timezone","jasper-reports","simpledateformat","date-conversion"],"comments":[{"owner":{"account_id":2912765,"reputation":738,"user_id":2496643,"display_name":"J_D"},"score":0,"creation_date":1551692415,"post_id":54979990,"comment_id":96718872,"body_markdown":"Have you tried setting the timezone?","body":"Have you tried setting the timezone?"},{"owner":{"account_id":7985233,"reputation":327,"user_id":6024996,"accept_rate":23,"display_name":"Pratik Rawlekar"},"score":2,"creation_date":1551692592,"post_id":54979990,"comment_id":96718966,"body_markdown":"Yes I tried but not able to write it in a single statement. I tried following approaches.                                                                                                        \nnew SimpleDateFormat(&quot;HH:mm&quot;).setTimeZone(&#39;IST&#39;).format($P{startTime}) - This gives error as format() cannot be applied on a void type as setTimeZone() returns void.","body":"Yes I tried but not able to write it in a single statement. I tried following approaches.                                                                                                         new SimpleDateFormat(&quot;HH:mm&quot;).setTimeZone(&#39;IST&#39;).format($P{start&zwnj;&#8203;Time}) - This gives error as format() cannot be applied on a void type as setTimeZone() returns void."},{"owner":{"account_id":2912765,"reputation":738,"user_id":2496643,"display_name":"J_D"},"score":0,"creation_date":1551692664,"post_id":54979990,"comment_id":96719003,"body_markdown":"Is the requirement to write it in a single statement?","body":"Is the requirement to write it in a single statement?"},{"owner":{"account_id":7985233,"reputation":327,"user_id":6024996,"accept_rate":23,"display_name":"Pratik Rawlekar"},"score":1,"creation_date":1551692822,"post_id":54979990,"comment_id":96719075,"body_markdown":"Yes. We cannot write multiline expression/java code(One line will be object creation, calling setTimezone() on this object and then call format() to format my input date) in jasper.","body":"Yes. We cannot write multiline expression/java code(One line will be object creation, calling setTimezone() on this object and then call format() to format my input date) in jasper."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1551785231,"post_id":54979990,"comment_id":96758785,"body_markdown":"I recommend you don’t use `SimpleDateFormat`. That class is notoriously troublesome and long outdated. Instead use `DateTimeFormatter` and other classes from [java.time, the modern Java date and time API](https://docs.oracle.com/javase/tutorial/datetime/).","body":"I recommend you don’t use <code>SimpleDateFormat</code>. That class is notoriously troublesome and long outdated. Instead use <code>DateTimeFormatter</code> and other classes from <a href=\"https://docs.oracle.com/javase/tutorial/datetime/\" rel=\"nofollow noreferrer\">java.time, the modern Java date and time API</a>."}],"answers":[{"tags":[],"owner":{"account_id":958762,"reputation":4773,"user_id":983559,"display_name":"dada67"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1551778295,"creation_date":1551693544,"answer_id":54980754,"question_id":54979990,"body_markdown":"Use the builtin date formatting function to format values according to the report time zone (the value of the `REPORT_TIME_ZONE` parameter):\r\n\r\n    DATEFORMAT($P{START_DATE}, &quot;dd-MMM-yyyy&quot;) + &quot; &quot; + DATEFORMAT($P{startTime}, &quot;HH:mm&quot;)\r\n\r\n","title":"Timezone conversion and date formatting in jasper reports?","body":"<p>Use the builtin date formatting function to format values according to the report time zone (the value of the <code>REPORT_TIME_ZONE</code> parameter):</p>\n\n<pre><code>DATEFORMAT($P{START_DATE}, \"dd-MMM-yyyy\") + \" \" + DATEFORMAT($P{startTime}, \"HH:mm\")\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6887735,"reputation":21370,"user_id":5292302,"accept_rate":100,"display_name":"Petter Friberg"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1551945382,"creation_date":1551695919,"answer_id":54981466,"question_id":54979990,"body_markdown":"Probably you should just set TimeZone to your environment and in general you should [avoid using](https://stackoverflow.com/q/1969442/5292302) the old `java.util.Date` class.\r\n\r\nIf you are running on java 8 or above, you can use similar code to display the time in desired time zone.\r\n\r\n    \r\n\t&lt;textField&gt;\r\n\t\t&lt;reportElement x=&quot;0&quot; y=&quot;0&quot; width=&quot;100&quot; height=&quot;30&quot; uuid=&quot;ac702c94-69e5-4439-9d32-3c944119dbe6&quot;/&gt;\r\n\t\t&lt;textFieldExpression&gt;\r\n           &lt;![CDATA[java.time.format.DateTimeFormatter.ofPattern(&quot;dd-MMM-yyyy HH:mm&quot;).\r\n         withZone(java.time.ZoneId.of(&quot;Asia/Calcutta&quot;)).format($P{START_DATE}.toInstant())]]&gt;\r\n       &lt;/textFieldExpression&gt;\r\n\t&lt;/textField&gt;\r\n\r\nIf you are not on java 8 you can use libraries like [ThreeTen-Backport](http://www.threeten.org/threetenbp/) or [Joda-Time](http://www.joda.org/joda-time/) to have this functionality.\r\n\r\n\r\n# Full example with different zoneId on same java.util.Date\r\n\r\n**jrxml**\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;jasperReport xmlns=&quot;http://jasperreports.sourceforge.net/jasperreports&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://jasperreports.sourceforge.net/jasperreports http://jasperreports.sourceforge.net/xsd/jasperreport.xsd&quot; name=&quot;TimeZone&quot; pageWidth=&quot;595&quot; pageHeight=&quot;842&quot; whenNoDataType=&quot;AllSectionsNoDetail&quot; columnWidth=&quot;555&quot; leftMargin=&quot;20&quot; rightMargin=&quot;20&quot; topMargin=&quot;20&quot; bottomMargin=&quot;20&quot; uuid=&quot;b3143043-a16b-43db-81c4-6313b0d4922c&quot;&gt;\r\n    \t&lt;parameter name=&quot;START_DATE&quot; class=&quot;java.util.Date&quot;&gt;\r\n    \t\t&lt;defaultValueExpression&gt;&lt;![CDATA[new java.util.Date()]]&gt;&lt;/defaultValueExpression&gt;\r\n    \t&lt;/parameter&gt;\r\n    \t&lt;queryString&gt;\r\n    \t\t&lt;![CDATA[]]&gt;\r\n    \t&lt;/queryString&gt;\r\n    \t&lt;title&gt;\r\n    \t\t&lt;band height=&quot;60&quot; splitType=&quot;Stretch&quot;&gt;\r\n    \t\t\t&lt;staticText&gt;\r\n    \t\t\t\t&lt;reportElement x=&quot;0&quot; y=&quot;0&quot; width=&quot;150&quot; height=&quot;20&quot; uuid=&quot;a0353412-1861-4c12-ac26-b40a6768a88c&quot;/&gt;\r\n    \t\t\t\t&lt;textElement textAlignment=&quot;Center&quot; verticalAlignment=&quot;Middle&quot;&gt;\r\n    \t\t\t\t\t&lt;font isBold=&quot;true&quot;/&gt;\r\n    \t\t\t\t&lt;/textElement&gt;\r\n    \t\t\t\t&lt;text&gt;&lt;![CDATA[America/New_York]]&gt;&lt;/text&gt;\r\n    \t\t\t&lt;/staticText&gt;\r\n    \t\t\t&lt;staticText&gt;\r\n    \t\t\t\t&lt;reportElement x=&quot;150&quot; y=&quot;0&quot; width=&quot;150&quot; height=&quot;20&quot; uuid=&quot;28b938b9-d117-4447-91d2-b5bb9334bad6&quot;/&gt;\r\n    \t\t\t\t&lt;textElement textAlignment=&quot;Center&quot; verticalAlignment=&quot;Middle&quot;&gt;\r\n    \t\t\t\t\t&lt;font isBold=&quot;true&quot;/&gt;\r\n    \t\t\t\t&lt;/textElement&gt;\r\n    \t\t\t\t&lt;text&gt;&lt;![CDATA[Europe/Rome]]&gt;&lt;/text&gt;\r\n    \t\t\t&lt;/staticText&gt;\r\n    \t\t\t&lt;staticText&gt;\r\n    \t\t\t\t&lt;reportElement x=&quot;300&quot; y=&quot;0&quot; width=&quot;150&quot; height=&quot;20&quot; uuid=&quot;adceb53f-555d-4be3-bd1e-c9d55b90d90d&quot;/&gt;\r\n    \t\t\t\t&lt;textElement textAlignment=&quot;Center&quot; verticalAlignment=&quot;Middle&quot;&gt;\r\n    \t\t\t\t\t&lt;font isBold=&quot;true&quot;/&gt;\r\n    \t\t\t\t&lt;/textElement&gt;\r\n    \t\t\t\t&lt;text&gt;&lt;![CDATA[Asia/Calcutta]]&gt;&lt;/text&gt;\r\n    \t\t\t&lt;/staticText&gt;\r\n    \t\t\t&lt;textField&gt;\r\n    \t\t\t\t&lt;reportElement x=&quot;0&quot; y=&quot;20&quot; width=&quot;150&quot; height=&quot;20&quot; uuid=&quot;ebf48192-f394-447b-8264-e66c56289f54&quot;/&gt;\r\n    \t\t\t\t&lt;textElement textAlignment=&quot;Center&quot; verticalAlignment=&quot;Middle&quot;/&gt;\r\n    \t\t\t\t&lt;textFieldExpression&gt;&lt;![CDATA[java.time.format.DateTimeFormatter.ofPattern(&quot;dd-MMM-yyyy HH:mm&quot;).withZone(java.time.ZoneId.of(&quot;America/New_York&quot;)).format($P{START_DATE}.toInstant())]]&gt;&lt;/textFieldExpression&gt;\r\n    \t\t\t&lt;/textField&gt;\r\n    \t\t\t&lt;textField&gt;\r\n    \t\t\t\t&lt;reportElement x=&quot;150&quot; y=&quot;20&quot; width=&quot;150&quot; height=&quot;20&quot; uuid=&quot;ebf48192-f394-447b-8264-e66c56289f54&quot;/&gt;\r\n    \t\t\t\t&lt;textElement textAlignment=&quot;Center&quot; verticalAlignment=&quot;Middle&quot;/&gt;\r\n    \t\t\t\t&lt;textFieldExpression&gt;&lt;![CDATA[java.time.format.DateTimeFormatter.ofPattern(&quot;dd-MMM-yyyy HH:mm&quot;).withZone(java.time.ZoneId.of(&quot;Europe/Rome&quot;)).format($P{START_DATE}.toInstant())]]&gt;&lt;/textFieldExpression&gt;\r\n    \t\t\t&lt;/textField&gt;\r\n    \t\t\t&lt;textField&gt;\r\n    \t\t\t\t&lt;reportElement x=&quot;300&quot; y=&quot;20&quot; width=&quot;150&quot; height=&quot;20&quot; uuid=&quot;ac702c94-69e5-4439-9d32-3c944119dbe6&quot;/&gt;\r\n    \t\t\t\t&lt;textElement textAlignment=&quot;Center&quot; verticalAlignment=&quot;Middle&quot;/&gt;\r\n    \t\t\t\t&lt;textFieldExpression&gt;&lt;![CDATA[java.time.format.DateTimeFormatter.ofPattern(&quot;dd-MMM-yyyy HH:mm&quot;).withZone(java.time.ZoneId.of(&quot;Asia/Calcutta&quot;)).format($P{START_DATE}.toInstant())]]&gt;&lt;/textFieldExpression&gt;\r\n    \t\t\t&lt;/textField&gt;\r\n    \t\t&lt;/band&gt;\r\n    \t&lt;/title&gt;\r\n    &lt;/jasperReport&gt;\r\n\r\n**Output**\r\n\r\n[![result][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/WseiQ.png","title":"Timezone conversion and date formatting in jasper reports?","body":"<p>Probably you should just set TimeZone to your environment and in general you should <a href=\"https://stackoverflow.com/q/1969442/5292302\">avoid using</a> the old <code>java.util.Date</code> class.</p>\n\n<p>If you are running on java 8 or above, you can use similar code to display the time in desired time zone.</p>\n\n<pre><code>&lt;textField&gt;\n    &lt;reportElement x=\"0\" y=\"0\" width=\"100\" height=\"30\" uuid=\"ac702c94-69e5-4439-9d32-3c944119dbe6\"/&gt;\n    &lt;textFieldExpression&gt;\n       &lt;![CDATA[java.time.format.DateTimeFormatter.ofPattern(\"dd-MMM-yyyy HH:mm\").\n     withZone(java.time.ZoneId.of(\"Asia/Calcutta\")).format($P{START_DATE}.toInstant())]]&gt;\n   &lt;/textFieldExpression&gt;\n&lt;/textField&gt;\n</code></pre>\n\n<p>If you are not on java 8 you can use libraries like <a href=\"http://www.threeten.org/threetenbp/\" rel=\"nofollow noreferrer\">ThreeTen-Backport</a> or <a href=\"http://www.joda.org/joda-time/\" rel=\"nofollow noreferrer\">Joda-Time</a> to have this functionality.</p>\n\n<h1>Full example with different zoneId on same java.util.Date</h1>\n\n<p><strong>jrxml</strong></p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;jasperReport xmlns=\"http://jasperreports.sourceforge.net/jasperreports\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xsi:schemaLocation=\"http://jasperreports.sourceforge.net/jasperreports http://jasperreports.sourceforge.net/xsd/jasperreport.xsd\" name=\"TimeZone\" pageWidth=\"595\" pageHeight=\"842\" whenNoDataType=\"AllSectionsNoDetail\" columnWidth=\"555\" leftMargin=\"20\" rightMargin=\"20\" topMargin=\"20\" bottomMargin=\"20\" uuid=\"b3143043-a16b-43db-81c4-6313b0d4922c\"&gt;\n    &lt;parameter name=\"START_DATE\" class=\"java.util.Date\"&gt;\n        &lt;defaultValueExpression&gt;&lt;![CDATA[new java.util.Date()]]&gt;&lt;/defaultValueExpression&gt;\n    &lt;/parameter&gt;\n    &lt;queryString&gt;\n        &lt;![CDATA[]]&gt;\n    &lt;/queryString&gt;\n    &lt;title&gt;\n        &lt;band height=\"60\" splitType=\"Stretch\"&gt;\n            &lt;staticText&gt;\n                &lt;reportElement x=\"0\" y=\"0\" width=\"150\" height=\"20\" uuid=\"a0353412-1861-4c12-ac26-b40a6768a88c\"/&gt;\n                &lt;textElement textAlignment=\"Center\" verticalAlignment=\"Middle\"&gt;\n                    &lt;font isBold=\"true\"/&gt;\n                &lt;/textElement&gt;\n                &lt;text&gt;&lt;![CDATA[America/New_York]]&gt;&lt;/text&gt;\n            &lt;/staticText&gt;\n            &lt;staticText&gt;\n                &lt;reportElement x=\"150\" y=\"0\" width=\"150\" height=\"20\" uuid=\"28b938b9-d117-4447-91d2-b5bb9334bad6\"/&gt;\n                &lt;textElement textAlignment=\"Center\" verticalAlignment=\"Middle\"&gt;\n                    &lt;font isBold=\"true\"/&gt;\n                &lt;/textElement&gt;\n                &lt;text&gt;&lt;![CDATA[Europe/Rome]]&gt;&lt;/text&gt;\n            &lt;/staticText&gt;\n            &lt;staticText&gt;\n                &lt;reportElement x=\"300\" y=\"0\" width=\"150\" height=\"20\" uuid=\"adceb53f-555d-4be3-bd1e-c9d55b90d90d\"/&gt;\n                &lt;textElement textAlignment=\"Center\" verticalAlignment=\"Middle\"&gt;\n                    &lt;font isBold=\"true\"/&gt;\n                &lt;/textElement&gt;\n                &lt;text&gt;&lt;![CDATA[Asia/Calcutta]]&gt;&lt;/text&gt;\n            &lt;/staticText&gt;\n            &lt;textField&gt;\n                &lt;reportElement x=\"0\" y=\"20\" width=\"150\" height=\"20\" uuid=\"ebf48192-f394-447b-8264-e66c56289f54\"/&gt;\n                &lt;textElement textAlignment=\"Center\" verticalAlignment=\"Middle\"/&gt;\n                &lt;textFieldExpression&gt;&lt;![CDATA[java.time.format.DateTimeFormatter.ofPattern(\"dd-MMM-yyyy HH:mm\").withZone(java.time.ZoneId.of(\"America/New_York\")).format($P{START_DATE}.toInstant())]]&gt;&lt;/textFieldExpression&gt;\n            &lt;/textField&gt;\n            &lt;textField&gt;\n                &lt;reportElement x=\"150\" y=\"20\" width=\"150\" height=\"20\" uuid=\"ebf48192-f394-447b-8264-e66c56289f54\"/&gt;\n                &lt;textElement textAlignment=\"Center\" verticalAlignment=\"Middle\"/&gt;\n                &lt;textFieldExpression&gt;&lt;![CDATA[java.time.format.DateTimeFormatter.ofPattern(\"dd-MMM-yyyy HH:mm\").withZone(java.time.ZoneId.of(\"Europe/Rome\")).format($P{START_DATE}.toInstant())]]&gt;&lt;/textFieldExpression&gt;\n            &lt;/textField&gt;\n            &lt;textField&gt;\n                &lt;reportElement x=\"300\" y=\"20\" width=\"150\" height=\"20\" uuid=\"ac702c94-69e5-4439-9d32-3c944119dbe6\"/&gt;\n                &lt;textElement textAlignment=\"Center\" verticalAlignment=\"Middle\"/&gt;\n                &lt;textFieldExpression&gt;&lt;![CDATA[java.time.format.DateTimeFormatter.ofPattern(\"dd-MMM-yyyy HH:mm\").withZone(java.time.ZoneId.of(\"Asia/Calcutta\")).format($P{START_DATE}.toInstant())]]&gt;&lt;/textFieldExpression&gt;\n            &lt;/textField&gt;\n        &lt;/band&gt;\n    &lt;/title&gt;\n&lt;/jasperReport&gt;\n</code></pre>\n\n<p><strong>Output</strong></p>\n\n<p><a href=\"https://i.stack.imgur.com/WseiQ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/WseiQ.png\" alt=\"result\"></a></p>\n"},{"tags":[],"owner":{"account_id":19025499,"reputation":1,"user_id":13888652,"display_name":"Pavan Muthyala"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677480145,"creation_date":1677480145,"answer_id":75577410,"question_id":54979990,"body_markdown":"To change the date and time displayed in the footer of a Jasper report, you will need to modify the report template. Here are the general steps to follow:\r\n\r\nOpen the Jasper report in the JasperSoft Studio or other report design tool.\r\n\r\nSelect the &quot;Page Footer&quot; section of the report template.\r\n\r\nIn the &quot;Properties&quot; pane, locate the &quot;Date Format&quot; property and modify it according to the format you want to display. For example, you can use the following format to display the date and time in Malawi time zone:\r\n\r\nnew java.text.SimpleDateFormat(&quot;yyyy-MM-dd HH:mm:ss zzz&quot;).format(new java.util.Date(),new java.util.Locale(&quot;en&quot;, &quot;MW&quot;))\r\n\r\nPreview the report to confirm that the date and time are now displayed in the correct format.","title":"Timezone conversion and date formatting in jasper reports?","body":"<p>To change the date and time displayed in the footer of a Jasper report, you will need to modify the report template. Here are the general steps to follow:</p>\n<p>Open the Jasper report in the JasperSoft Studio or other report design tool.</p>\n<p>Select the &quot;Page Footer&quot; section of the report template.</p>\n<p>In the &quot;Properties&quot; pane, locate the &quot;Date Format&quot; property and modify it according to the format you want to display. For example, you can use the following format to display the date and time in Malawi time zone:</p>\n<p>new java.text.SimpleDateFormat(&quot;yyyy-MM-dd HH:mm:ss zzz&quot;).format(new java.util.Date(),new java.util.Locale(&quot;en&quot;, &quot;MW&quot;))</p>\n<p>Preview the report to confirm that the date and time are now displayed in the correct format.</p>\n"}],"owner":{"account_id":7985233,"reputation":327,"user_id":6024996,"accept_rate":23,"display_name":"Pratik Rawlekar"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8100,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"answer_count":3,"score":2,"last_activity_date":1677480145,"creation_date":1551690874,"question_id":54979990,"body_markdown":"I am working with a Jasper report where I want to show selected date range along with time. I have used following expression to format the date but it shows time in GMT time zone. \r\n    \r\n    new SimpleDateFormat(&quot;dd-MMM-yyyy&quot;).format($P{START_DATE})+&quot; &quot;+new SimpleDateFormat(&quot;HH:mm&quot;).format($P{startTime})\r\n\r\nThe above code gives date as 01-Mar-2019 14:30 which should be 01-Mar-2019 8:00PM as per IST.\r\n\r\nHow can I handle timezone to show correct time?","title":"Timezone conversion and date formatting in jasper reports?","body":"<p>I am working with a Jasper report where I want to show selected date range along with time. I have used following expression to format the date but it shows time in GMT time zone. </p>\n\n<pre><code>new SimpleDateFormat(\"dd-MMM-yyyy\").format($P{START_DATE})+\" \"+new SimpleDateFormat(\"HH:mm\").format($P{startTime})\n</code></pre>\n\n<p>The above code gives date as 01-Mar-2019 14:30 which should be 01-Mar-2019 8:00PM as per IST.</p>\n\n<p>How can I handle timezone to show correct time?</p>\n"},{"tags":["java","netty"],"owner":{"account_id":22194364,"reputation":31,"user_id":16435969,"display_name":"Wenjia Kong"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":230,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":0,"score":3,"last_activity_date":1677479864,"creation_date":1677135581,"question_id":75541517,"body_markdown":"I find there are two timeout options in netty: ChannelOption.CONNECT_TIMEOUT_MILLIS means timeout value to setup a connection, and ChannelOption.SO_TIMEOUT means the request timeout. What are the default settings of these two options? \r\n\r\n\r\nI didn&#39;t find the default values for these two parameters in Netty&#39;s official documentation (https://netty.io/4.1/api/io/netty/channel/ChannelOption.html). Could you help me ?","title":"What are the default settings of ChannelOption.SO_TIMEOUT and ChannelOption.CONNECT_TIMEOUT_MILLIS in netty?","body":"<p>I find there are two timeout options in netty: ChannelOption.CONNECT_TIMEOUT_MILLIS means timeout value to setup a connection, and ChannelOption.SO_TIMEOUT means the request timeout. What are the default settings of these two options?</p>\n<p>I didn't find the default values for these two parameters in Netty's official documentation (<a href=\"https://netty.io/4.1/api/io/netty/channel/ChannelOption.html\" rel=\"nofollow noreferrer\">https://netty.io/4.1/api/io/netty/channel/ChannelOption.html</a>). Could you help me ?</p>\n"},{"tags":["java","swing","display","jtree"],"comments":[{"owner":{"account_id":27352183,"reputation":1,"user_id":20861170,"display_name":"Alex654"},"score":0,"creation_date":1677374568,"post_id":75569463,"comment_id":133325356,"body_markdown":"And I know that I can write a custom tree cell renderer, but this really should work fine out of the box. In NetBeans debugger it does work correctly, anyway.","body":"And I know that I can write a custom tree cell renderer, but this really should work fine out of the box. In NetBeans debugger it does work correctly, anyway."},{"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"score":1,"creation_date":1677374947,"post_id":75569463,"comment_id":133325380,"body_markdown":"At a minimum you should edit your question and describe the external libraries and classes you are using.  But even better would be to post a [mre] that demonstrates the problem using only classes in the JDK.  Your issue is with `JTree` which should be independent of those libraries.","body":"At a minimum you should edit your question and describe the external libraries and classes you are using.  But even better would be to post a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> that demonstrates the problem using only classes in the JDK.  Your issue is with <code>JTree</code> which should be independent of those libraries."},{"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":1,"creation_date":1677377031,"post_id":75569463,"comment_id":133325574,"body_markdown":"Oracle has a helpful tutorial, [Creating a GUI With Swing](https://docs.oracle.com/javase/tutorial/uiswing/index.html).  Skip the Learning Swing with the NetBeans IDE section.  Pay particular attention to the [How to Use Trees](https://docs.oracle.com/javase/tutorial/uiswing/components/tree.html) section.","body":"Oracle has a helpful tutorial, <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/index.html\" rel=\"nofollow noreferrer\">Creating a GUI With Swing</a>.  Skip the Learning Swing with the NetBeans IDE section.  Pay particular attention to the <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/components/tree.html\" rel=\"nofollow noreferrer\">How to Use Trees</a> section."},{"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"score":0,"creation_date":1677378254,"post_id":75569463,"comment_id":133325661,"body_markdown":"Well, I have to do some research but  `BoxLayout` seemed to be screwing up your display, Try the following: `contentpane.setLayout(new BorderLayout());`  It seemed to display the tree just fine.  The last child throws an NPE though when you try to expand it.","body":"Well, I have to do some research but  <code>BoxLayout</code> seemed to be screwing up your display, Try the following: <code>contentpane.setLayout(new BorderLayout());</code>  It seemed to display the tree just fine.  The last child throws an NPE though when you try to expand it."},{"owner":{"account_id":27352183,"reputation":1,"user_id":20861170,"display_name":"Alex654"},"score":0,"creation_date":1677476921,"post_id":75569463,"comment_id":133338217,"body_markdown":"Okay, now I have another problem with my tree. After I lazily load the children of any node, I need to increase the height of all my ancestor containers (in order to adjust the parent JScrollPane). I made a method that walks over all the children of JScrollPane and finds sum of their heights. That works well when I add a new tree, but does not work after new nodes are inserted into it. It works if I expand the next-to-last root&#39;s child, but not when I expand the last one...","body":"Okay, now I have another problem with my tree. After I lazily load the children of any node, I need to increase the height of all my ancestor containers (in order to adjust the parent JScrollPane). I made a method that walks over all the children of JScrollPane and finds sum of their heights. That works well when I add a new tree, but does not work after new nodes are inserted into it. It works if I expand the next-to-last root&#39;s child, but not when I expand the last one..."}],"answers":[{"tags":[],"owner":{"account_id":27352183,"reputation":1,"user_id":20861170,"display_name":"Alex654"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1677479283,"creation_date":1677476532,"answer_id":75577080,"question_id":75569463,"body_markdown":"Seems that all the methods I needed were available either in `JTree` itself or in `DefaultTreeCellRenderer` class. Here is the final working code:\r\n\r\n```\r\n    private static JPanel createObjectTree(JSObject obj) {\r\n        DefaultMutableTreeNode rootNode = new DefaultMutableTreeNode(new JSValueWrapper(&quot;obj&quot;, obj));\r\n        loadNodeDirectChildren(rootNode, false);\r\n\r\n        DefaultTreeModel treeModel = new DefaultTreeModel(rootNode, true);\r\n        final JTree tree = new JTree(treeModel);\r\n        TreeExpandListener expansionListener = new TreeExpandListener();\r\n        tree.addTreeWillExpandListener(expansionListener);\r\n\r\n        DefaultTreeCellRenderer renderer = new DefaultTreeCellRenderer();\r\n        renderer.setFont(new Font(&quot;Consolas&quot;, Font.PLAIN, 16));\r\n        renderer.setLeafIcon(null);\r\n        renderer.setIcon(null);\r\n        renderer.setClosedIcon(null);\r\n        renderer.setOpenIcon(null);\r\n        renderer.setMinimumSize(new Dimension(0, 20));\r\n        tree.setCellRenderer(renderer);\r\n        tree.setRowHeight(23);\r\n\r\n        final JPanel contentpane = new JPanel();\r\n        contentpane.setBackground(Color.WHITE);\r\n        contentpane.setOpaque(true);\r\n        contentpane.setLayout(new BorderLayout());\r\n        contentpane.add(tree);\r\n\r\n        return contentpane;\r\n    }\r\n\r\n    private static void processNodeChildren(DefaultMutableTreeNode node, boolean show_prototypes) {\r\n        JSValue val = ((JSValueWrapper)node.getUserObject()).getValue();\r\n        if (val instanceof JSArray) {\r\n            Vector&lt;JSValue&gt; items = ((JSArray)val).getItems();\r\n            for (int i = 0; i &lt; items.size(); i++) {\r\n                DefaultMutableTreeNode newNode = new DefaultMutableTreeNode(new JSValueWrapper(&quot;[&quot; + i + &quot;]&quot;, items.get(i)));\r\n                node.add(newNode);\r\n                processNodeChildren(newNode, show_prototypes);\r\n            }\r\n        } else if (!(val instanceof Function) &amp;&amp; !val.getType().matches(&quot;Boolean|Integer|Float|Number|String|null|undefined&quot;) &amp;&amp; val instanceof JSObject) {\r\n            HashMap&lt;String, JSValue&gt; props = ((JSObject)val).getProperties();\r\n            Set&lt;String&gt; keys = props.keySet();\r\n            for (String key: keys) {\r\n                if (!show_prototypes &amp;&amp; key.equals(&quot;__proto__&quot;)) continue;\r\n                DefaultMutableTreeNode newNode = new DefaultMutableTreeNode(new JSValueWrapper(key, props.get(key)));\r\n                node.add(newNode);\r\n                if (!key.equals(&quot;__proto__&quot;)) {\r\n                    processNodeChildren(newNode, show_prototypes);\r\n                } else {\r\n                    newNode.setAllowsChildren(false);\r\n                }\r\n            }\r\n        } else {\r\n            node.setAllowsChildren(false);\r\n        }\r\n    }\r\n\r\n    private static void loadNodeDirectChildren(DefaultMutableTreeNode node, boolean show_prototypes) {\r\n        JSValue val = ((JSValueWrapper)node.getUserObject()).getValue();\r\n        if (val instanceof JSArray) {\r\n            Vector&lt;JSValue&gt; items = ((JSArray)val).getItems();\r\n            for (int i = 0; i &lt; items.size(); i++) {\r\n                DefaultMutableTreeNode newNode = new DefaultMutableTreeNode(new JSValueWrapper(&quot;[&quot; + i + &quot;]&quot;, items.get(i)));\r\n                node.add(newNode);\r\n            }\r\n        } else if (!(val instanceof Function) &amp;&amp; !val.getType().matches(&quot;Boolean|Integer|Float|Number|String|null|undefined&quot;) &amp;&amp; val instanceof JSObject) {\r\n            HashMap&lt;String, JSValue&gt; props = ((JSObject)val).getProperties();\r\n            Set&lt;String&gt; keys = props.keySet();\r\n            for (String key: keys) {\r\n                if (!show_prototypes &amp;&amp; key.equals(&quot;__proto__&quot;)) continue;\r\n                DefaultMutableTreeNode newNode = new DefaultMutableTreeNode(new JSValueWrapper(key, props.get(key)));\r\n                node.add(newNode);\r\n                if (props.get(key) instanceof Function || props.get(key).getType().matches(&quot;Boolean|Integer|Float|Number|String|null|undefined&quot;)) {\r\n                    newNode.setAllowsChildren(false);\r\n                }\r\n                if (key.equals(&quot;__proto__&quot;)) {\r\n                    newNode.setAllowsChildren(false);\r\n                }\r\n            }\r\n        } else {\r\n            node.setAllowsChildren(false);\r\n        }\r\n    }\r\n\r\n    static class TreeExpandListener implements TreeWillExpandListener {\r\n\r\n        @Override\r\n        public void treeWillExpand(final TreeExpansionEvent e) throws ExpandVetoException {\r\n            DefaultMutableTreeNode node = (DefaultMutableTreeNode) e.getPath().getLastPathComponent();\r\n            if (node.getChildCount() == 0) {\r\n                loadNodeDirectChildren(node, false);\r\n                SwingUtilities.invokeLater(new Runnable() {\r\n                    @Override\r\n                    public void run() {\r\n                        ((JTree)e.getSource()).invalidate();\r\n                        ((JTree)e.getSource()).getParent().validate();\r\n                        recalculateContentHeight();\r\n                    }\r\n                });\r\n            }\r\n        }\r\n\r\n        @Override\r\n        public void treeWillCollapse(TreeExpansionEvent e) {}\r\n\r\n        public void treeExpanded(TreeExpansionEvent e) {}\r\n\r\n        public void treeCollapsed(TreeExpansionEvent e) {}\r\n    }\r\n```\r\n\r\nNote that if the tree contains &quot;loops&quot;, e.g. in HTML document each child has a link to its parent, and every two adjacent siblings link to each other, then using simple approach of initializing all the node&#39;s children will lead to stackoverflow error and the program will crash.\r\n\r\nThe solution is to use lazy loading of children, and load only one level at a time, until the user clicks one of the existing &quot;non-leaf&quot; nodes.","title":"Trying to use standard JTree implementation, but the output is really messed up","body":"<p>Seems that all the methods I needed were available either in <code>JTree</code> itself or in <code>DefaultTreeCellRenderer</code> class. Here is the final working code:</p>\n<pre><code>    private static JPanel createObjectTree(JSObject obj) {\n        DefaultMutableTreeNode rootNode = new DefaultMutableTreeNode(new JSValueWrapper(&quot;obj&quot;, obj));\n        loadNodeDirectChildren(rootNode, false);\n\n        DefaultTreeModel treeModel = new DefaultTreeModel(rootNode, true);\n        final JTree tree = new JTree(treeModel);\n        TreeExpandListener expansionListener = new TreeExpandListener();\n        tree.addTreeWillExpandListener(expansionListener);\n\n        DefaultTreeCellRenderer renderer = new DefaultTreeCellRenderer();\n        renderer.setFont(new Font(&quot;Consolas&quot;, Font.PLAIN, 16));\n        renderer.setLeafIcon(null);\n        renderer.setIcon(null);\n        renderer.setClosedIcon(null);\n        renderer.setOpenIcon(null);\n        renderer.setMinimumSize(new Dimension(0, 20));\n        tree.setCellRenderer(renderer);\n        tree.setRowHeight(23);\n\n        final JPanel contentpane = new JPanel();\n        contentpane.setBackground(Color.WHITE);\n        contentpane.setOpaque(true);\n        contentpane.setLayout(new BorderLayout());\n        contentpane.add(tree);\n\n        return contentpane;\n    }\n\n    private static void processNodeChildren(DefaultMutableTreeNode node, boolean show_prototypes) {\n        JSValue val = ((JSValueWrapper)node.getUserObject()).getValue();\n        if (val instanceof JSArray) {\n            Vector&lt;JSValue&gt; items = ((JSArray)val).getItems();\n            for (int i = 0; i &lt; items.size(); i++) {\n                DefaultMutableTreeNode newNode = new DefaultMutableTreeNode(new JSValueWrapper(&quot;[&quot; + i + &quot;]&quot;, items.get(i)));\n                node.add(newNode);\n                processNodeChildren(newNode, show_prototypes);\n            }\n        } else if (!(val instanceof Function) &amp;&amp; !val.getType().matches(&quot;Boolean|Integer|Float|Number|String|null|undefined&quot;) &amp;&amp; val instanceof JSObject) {\n            HashMap&lt;String, JSValue&gt; props = ((JSObject)val).getProperties();\n            Set&lt;String&gt; keys = props.keySet();\n            for (String key: keys) {\n                if (!show_prototypes &amp;&amp; key.equals(&quot;__proto__&quot;)) continue;\n                DefaultMutableTreeNode newNode = new DefaultMutableTreeNode(new JSValueWrapper(key, props.get(key)));\n                node.add(newNode);\n                if (!key.equals(&quot;__proto__&quot;)) {\n                    processNodeChildren(newNode, show_prototypes);\n                } else {\n                    newNode.setAllowsChildren(false);\n                }\n            }\n        } else {\n            node.setAllowsChildren(false);\n        }\n    }\n\n    private static void loadNodeDirectChildren(DefaultMutableTreeNode node, boolean show_prototypes) {\n        JSValue val = ((JSValueWrapper)node.getUserObject()).getValue();\n        if (val instanceof JSArray) {\n            Vector&lt;JSValue&gt; items = ((JSArray)val).getItems();\n            for (int i = 0; i &lt; items.size(); i++) {\n                DefaultMutableTreeNode newNode = new DefaultMutableTreeNode(new JSValueWrapper(&quot;[&quot; + i + &quot;]&quot;, items.get(i)));\n                node.add(newNode);\n            }\n        } else if (!(val instanceof Function) &amp;&amp; !val.getType().matches(&quot;Boolean|Integer|Float|Number|String|null|undefined&quot;) &amp;&amp; val instanceof JSObject) {\n            HashMap&lt;String, JSValue&gt; props = ((JSObject)val).getProperties();\n            Set&lt;String&gt; keys = props.keySet();\n            for (String key: keys) {\n                if (!show_prototypes &amp;&amp; key.equals(&quot;__proto__&quot;)) continue;\n                DefaultMutableTreeNode newNode = new DefaultMutableTreeNode(new JSValueWrapper(key, props.get(key)));\n                node.add(newNode);\n                if (props.get(key) instanceof Function || props.get(key).getType().matches(&quot;Boolean|Integer|Float|Number|String|null|undefined&quot;)) {\n                    newNode.setAllowsChildren(false);\n                }\n                if (key.equals(&quot;__proto__&quot;)) {\n                    newNode.setAllowsChildren(false);\n                }\n            }\n        } else {\n            node.setAllowsChildren(false);\n        }\n    }\n\n    static class TreeExpandListener implements TreeWillExpandListener {\n\n        @Override\n        public void treeWillExpand(final TreeExpansionEvent e) throws ExpandVetoException {\n            DefaultMutableTreeNode node = (DefaultMutableTreeNode) e.getPath().getLastPathComponent();\n            if (node.getChildCount() == 0) {\n                loadNodeDirectChildren(node, false);\n                SwingUtilities.invokeLater(new Runnable() {\n                    @Override\n                    public void run() {\n                        ((JTree)e.getSource()).invalidate();\n                        ((JTree)e.getSource()).getParent().validate();\n                        recalculateContentHeight();\n                    }\n                });\n            }\n        }\n\n        @Override\n        public void treeWillCollapse(TreeExpansionEvent e) {}\n\n        public void treeExpanded(TreeExpansionEvent e) {}\n\n        public void treeCollapsed(TreeExpansionEvent e) {}\n    }\n</code></pre>\n<p>Note that if the tree contains &quot;loops&quot;, e.g. in HTML document each child has a link to its parent, and every two adjacent siblings link to each other, then using simple approach of initializing all the node's children will lead to stackoverflow error and the program will crash.</p>\n<p>The solution is to use lazy loading of children, and load only one level at a time, until the user clicks one of the existing &quot;non-leaf&quot; nodes.</p>\n"}],"owner":{"account_id":27352183,"reputation":1,"user_id":20861170,"display_name":"Alex654"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":71,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1677479283,"creation_date":1677374364,"question_id":75569463,"body_markdown":"I&#39;m trying to use JTree. Here is my example test class:\r\n\r\n```\r\npackage inspector;\r\n\r\nimport java.awt.BorderLayout;\r\nimport java.awt.Color;\r\nimport java.awt.Dimension;\r\nimport java.util.ArrayList;\r\nimport java.util.HashMap;\r\nimport java.util.Set;\r\nimport javax.swing.BorderFactory;\r\nimport javax.swing.BoxLayout;\r\nimport javax.swing.JFrame;\r\nimport javax.swing.JPanel;\r\nimport javax.swing.JScrollPane;\r\nimport javax.swing.JTree;\r\nimport javax.swing.SwingUtilities;\r\nimport javax.swing.UIManager;\r\nimport javax.swing.tree.DefaultMutableTreeNode;\r\nimport javax.swing.tree.DefaultTreeModel;\r\n\r\n\r\n/**\r\n *\r\n * @author Alex\r\n */\r\npublic class TreeTest {\r\n\r\n    private static ValueMap prepareTree() {\r\n        ValueMap obj = new ValueMap();\r\n        obj.set(&quot;x&quot;, new Value(1));\r\n        obj.set(&quot;y&quot;, new Value(1));\r\n\r\n        ValueArray users = new ValueArray();\r\n        obj.set(&quot;users&quot;, users);\r\n\r\n        ValueMap user = new ValueMap();\r\n        user.set(&quot;login&quot;, new Value(&quot;Alex654&quot;));\r\n        user.set(&quot;password&quot;, new Value(&quot;123456&quot;));\r\n\r\n        ValueMap info = new ValueMap();\r\n        info.set(&quot;city&quot;, new Value(&quot;Moscow&quot;));\r\n        info.set(&quot;job&quot;, new Value(&quot;Developer&quot;));\r\n        info.set(&quot;firstName&quot;, new Value(&quot;Alex&quot;));\r\n        info.set(&quot;lastName&quot;, new Value(&quot;Popov&quot;));\r\n        user.set(&quot;bio&quot;, info);\r\n\r\n        users.push(user);\r\n\r\n        ValueMap user2 = new ValueMap();\r\n        user2.set(&quot;login&quot;, new Value(&quot;admin&quot;));\r\n        user2.set(&quot;password&quot;, new Value(&quot;test&quot;));\r\n        user2.set(&quot;bio&quot;, new Value(null));\r\n\r\n        users.push(user2);\r\n\r\n        return obj;\r\n    }\r\n\r\n    static class Value {\r\n\r\n        Value() {\r\n            value = null;\r\n        }\r\n\r\n        Value(Object val) {\r\n            this.value = val;\r\n        }\r\n\r\n        @Override\r\n        public String toString() {\r\n            if (value instanceof Integer || value instanceof Double) {\r\n                return value + &quot;&quot;;\r\n            } else {\r\n                return &quot;\\&quot;&quot; + value.toString() + &quot;\\&quot;&quot;;\r\n            }\r\n        }\r\n\r\n        Object value;\r\n    }\r\n\r\n    static class ValueArray extends Value {\r\n\r\n        ValueArray() {\r\n            items = new ArrayList&lt;Value&gt;();\r\n        }\r\n\r\n        ValueArray(Value val) {\r\n            items = new ArrayList&lt;Value&gt;();\r\n            items.add(val);\r\n        }\r\n\r\n        void push(Value val) {\r\n            items.add(val);\r\n        }\r\n\r\n        ArrayList&lt;Value&gt; items;\r\n    }\r\n\r\n    static class ValueMap extends Value {\r\n\r\n        ValueMap() {\r\n            items = new HashMap&lt;String, Value&gt;();\r\n        }\r\n\r\n        Value get(String key) {\r\n            return items.get(key);\r\n        }\r\n\r\n        void put(String key, Value val) {\r\n            items.put(key, val);\r\n        }\r\n\r\n        void set(String key, Value val) {\r\n            items.put(key, val);\r\n        }\r\n\r\n        HashMap&lt;String, Value&gt; items;\r\n    }\r\n\r\n    public static class ValueWrapper {\r\n\r\n        ValueWrapper(String label, Value val) {\r\n            this.label = label;\r\n            this.val = val;\r\n        }\r\n\r\n        String getLabel() {\r\n            return label;\r\n        }\r\n\r\n        Value getValue() {\r\n            return val;\r\n        }\r\n\r\n        @Override\r\n        public String toString() {\r\n            String result = label;\r\n            if (val instanceof ValueArray) {\r\n                result += &quot;: Array&quot;;\r\n            }\r\n            else if (val instanceof ValueMap) {\r\n                result += &quot;: { Object }&quot;;\r\n            }\r\n            else result += &quot;: &quot; + val.toString();\r\n\r\n            return result;\r\n        }\r\n\r\n        private String label;\r\n        private Value val;\r\n    }\r\n\r\n    public static void processChildren(DefaultMutableTreeNode node) {\r\n        Value val = ((ValueWrapper)node.getUserObject()).getValue();\r\n        if (val instanceof ValueArray) {\r\n            ArrayList&lt;Value&gt; items = ((ValueArray)val).items;\r\n            for (int i = 0; i &lt; items.size(); i++) {\r\n                DefaultMutableTreeNode newNode = new DefaultMutableTreeNode(new ValueWrapper(i + &quot;&quot;, items.get(i)));\r\n                node.add(newNode);\r\n                processChildren(newNode);\r\n            }\r\n        } else if (val instanceof ValueMap) {\r\n            HashMap&lt;String, Value&gt; props = ((ValueMap)val).items;\r\n            Set&lt;String&gt; keys = props.keySet();\r\n            for (String key: keys) {\r\n                DefaultMutableTreeNode newNode = new DefaultMutableTreeNode(new ValueWrapper(key, props.get(key)));\r\n                node.add(newNode);\r\n                if (!key.equals(&quot;__proto__&quot;)) {\r\n                    processChildren(newNode);\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n    public static void main(String[] args) {\r\n\r\n        try {\r\n            UIManager.setLookAndFeel(\r\n                UIManager.getSystemLookAndFeelClassName());\r\n        } catch (Exception e) {}\r\n\r\n        final ValueMap root = prepareTree();\r\n        if (root == null) return;\r\n\r\n        final JFrame frame = new JFrame(&quot;Object Inspector&quot;);\r\n        JPanel cp = new JPanel();\r\n        cp.setBorder(BorderFactory.createEmptyBorder(9, 10, 9, 10));\r\n        frame.setContentPane(cp);\r\n        cp.setLayout(new BoxLayout(cp, BoxLayout.PAGE_AXIS));\r\n\r\n        DefaultMutableTreeNode rootNode = new DefaultMutableTreeNode(new ValueWrapper(&quot;obj&quot;, root));\r\n        processChildren(rootNode);\r\n\r\n        DefaultTreeModel treeModel = new DefaultTreeModel(rootNode, true);\r\n        final JTree tree = new JTree(treeModel);\r\n\r\n        final JPanel contentpane = new JPanel();\r\n        contentpane.setBackground(Color.WHITE);\r\n        contentpane.setOpaque(true);\r\n        contentpane.setLayout(new BorderLayout());\r\n        contentpane.add(tree);\r\n\r\n        //contentpane.setBounds(0, 0, 490, 380);\r\n        final int width = 490, height = 418;\r\n        cp.setPreferredSize(new Dimension(width, height));\r\n\r\n        final JScrollPane scrollpane = new JScrollPane(contentpane);\r\n        scrollpane.setOpaque(false);\r\n        scrollpane.getInsets();\r\n\r\n        cp.add(scrollpane);\r\n        scrollpane.setBackground(Color.WHITE);\r\n        scrollpane.setOpaque(true);\r\n        //setSize(518, 420);\r\n        frame.pack();\r\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n        frame.setLocationRelativeTo(null);\r\n        frame.setVisible(true);\r\n    }\r\n}\r\n```\r\nI expect to get a nice looking tree, like in NetBeans IDE that I use everyday.\r\n\r\nBut however I get this:\r\n\r\n[tree display][1]\r\n\r\nWhat the heck is wrong with it? Also should note that when my labels were longer (without the &quot;wrapper&quot; inner class) the output labels in leaves was 2-3 times wider, but the labels were also extremely cut down in width.\r\n\r\n**UPDATE:**\r\n\r\nUnfortunalely, the result after suggested solution is not ideal. See the screenshot below:\r\n\r\n[fixed display][2]\r\n\r\n1. The symbols are cut by 1-2 pixels from the bottom (look at the square brackets). Maybe it is a windows bug (I use Windows 7 with 150% zoom), but is there a way to fix that? To increase the font size of the labels or the vertical gap between them (so called &quot;line height&quot;)?\r\n2. I don&#39;t like that leaves have &quot;+&quot; on them until I click them. I solved it adding `else { node.setAllowsChildren(false); }` to the end of my `processChildren()` method. But now I would like to have a single custom icon for all of my nodes, whether they have children or not.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/GBi0p.png\r\n  [2]: https://i.stack.imgur.com/tJOGM.png","title":"Trying to use standard JTree implementation, but the output is really messed up","body":"<p>I'm trying to use JTree. Here is my example test class:</p>\n<pre><code>package inspector;\n\nimport java.awt.BorderLayout;\nimport java.awt.Color;\nimport java.awt.Dimension;\nimport java.util.ArrayList;\nimport java.util.HashMap;\nimport java.util.Set;\nimport javax.swing.BorderFactory;\nimport javax.swing.BoxLayout;\nimport javax.swing.JFrame;\nimport javax.swing.JPanel;\nimport javax.swing.JScrollPane;\nimport javax.swing.JTree;\nimport javax.swing.SwingUtilities;\nimport javax.swing.UIManager;\nimport javax.swing.tree.DefaultMutableTreeNode;\nimport javax.swing.tree.DefaultTreeModel;\n\n\n/**\n *\n * @author Alex\n */\npublic class TreeTest {\n\n    private static ValueMap prepareTree() {\n        ValueMap obj = new ValueMap();\n        obj.set(&quot;x&quot;, new Value(1));\n        obj.set(&quot;y&quot;, new Value(1));\n\n        ValueArray users = new ValueArray();\n        obj.set(&quot;users&quot;, users);\n\n        ValueMap user = new ValueMap();\n        user.set(&quot;login&quot;, new Value(&quot;Alex654&quot;));\n        user.set(&quot;password&quot;, new Value(&quot;123456&quot;));\n\n        ValueMap info = new ValueMap();\n        info.set(&quot;city&quot;, new Value(&quot;Moscow&quot;));\n        info.set(&quot;job&quot;, new Value(&quot;Developer&quot;));\n        info.set(&quot;firstName&quot;, new Value(&quot;Alex&quot;));\n        info.set(&quot;lastName&quot;, new Value(&quot;Popov&quot;));\n        user.set(&quot;bio&quot;, info);\n\n        users.push(user);\n\n        ValueMap user2 = new ValueMap();\n        user2.set(&quot;login&quot;, new Value(&quot;admin&quot;));\n        user2.set(&quot;password&quot;, new Value(&quot;test&quot;));\n        user2.set(&quot;bio&quot;, new Value(null));\n\n        users.push(user2);\n\n        return obj;\n    }\n\n    static class Value {\n\n        Value() {\n            value = null;\n        }\n\n        Value(Object val) {\n            this.value = val;\n        }\n\n        @Override\n        public String toString() {\n            if (value instanceof Integer || value instanceof Double) {\n                return value + &quot;&quot;;\n            } else {\n                return &quot;\\&quot;&quot; + value.toString() + &quot;\\&quot;&quot;;\n            }\n        }\n\n        Object value;\n    }\n\n    static class ValueArray extends Value {\n\n        ValueArray() {\n            items = new ArrayList&lt;Value&gt;();\n        }\n\n        ValueArray(Value val) {\n            items = new ArrayList&lt;Value&gt;();\n            items.add(val);\n        }\n\n        void push(Value val) {\n            items.add(val);\n        }\n\n        ArrayList&lt;Value&gt; items;\n    }\n\n    static class ValueMap extends Value {\n\n        ValueMap() {\n            items = new HashMap&lt;String, Value&gt;();\n        }\n\n        Value get(String key) {\n            return items.get(key);\n        }\n\n        void put(String key, Value val) {\n            items.put(key, val);\n        }\n\n        void set(String key, Value val) {\n            items.put(key, val);\n        }\n\n        HashMap&lt;String, Value&gt; items;\n    }\n\n    public static class ValueWrapper {\n\n        ValueWrapper(String label, Value val) {\n            this.label = label;\n            this.val = val;\n        }\n\n        String getLabel() {\n            return label;\n        }\n\n        Value getValue() {\n            return val;\n        }\n\n        @Override\n        public String toString() {\n            String result = label;\n            if (val instanceof ValueArray) {\n                result += &quot;: Array&quot;;\n            }\n            else if (val instanceof ValueMap) {\n                result += &quot;: { Object }&quot;;\n            }\n            else result += &quot;: &quot; + val.toString();\n\n            return result;\n        }\n\n        private String label;\n        private Value val;\n    }\n\n    public static void processChildren(DefaultMutableTreeNode node) {\n        Value val = ((ValueWrapper)node.getUserObject()).getValue();\n        if (val instanceof ValueArray) {\n            ArrayList&lt;Value&gt; items = ((ValueArray)val).items;\n            for (int i = 0; i &lt; items.size(); i++) {\n                DefaultMutableTreeNode newNode = new DefaultMutableTreeNode(new ValueWrapper(i + &quot;&quot;, items.get(i)));\n                node.add(newNode);\n                processChildren(newNode);\n            }\n        } else if (val instanceof ValueMap) {\n            HashMap&lt;String, Value&gt; props = ((ValueMap)val).items;\n            Set&lt;String&gt; keys = props.keySet();\n            for (String key: keys) {\n                DefaultMutableTreeNode newNode = new DefaultMutableTreeNode(new ValueWrapper(key, props.get(key)));\n                node.add(newNode);\n                if (!key.equals(&quot;__proto__&quot;)) {\n                    processChildren(newNode);\n                }\n            }\n        }\n    }\n\n\n    public static void main(String[] args) {\n\n        try {\n            UIManager.setLookAndFeel(\n                UIManager.getSystemLookAndFeelClassName());\n        } catch (Exception e) {}\n\n        final ValueMap root = prepareTree();\n        if (root == null) return;\n\n        final JFrame frame = new JFrame(&quot;Object Inspector&quot;);\n        JPanel cp = new JPanel();\n        cp.setBorder(BorderFactory.createEmptyBorder(9, 10, 9, 10));\n        frame.setContentPane(cp);\n        cp.setLayout(new BoxLayout(cp, BoxLayout.PAGE_AXIS));\n\n        DefaultMutableTreeNode rootNode = new DefaultMutableTreeNode(new ValueWrapper(&quot;obj&quot;, root));\n        processChildren(rootNode);\n\n        DefaultTreeModel treeModel = new DefaultTreeModel(rootNode, true);\n        final JTree tree = new JTree(treeModel);\n\n        final JPanel contentpane = new JPanel();\n        contentpane.setBackground(Color.WHITE);\n        contentpane.setOpaque(true);\n        contentpane.setLayout(new BorderLayout());\n        contentpane.add(tree);\n\n        //contentpane.setBounds(0, 0, 490, 380);\n        final int width = 490, height = 418;\n        cp.setPreferredSize(new Dimension(width, height));\n\n        final JScrollPane scrollpane = new JScrollPane(contentpane);\n        scrollpane.setOpaque(false);\n        scrollpane.getInsets();\n\n        cp.add(scrollpane);\n        scrollpane.setBackground(Color.WHITE);\n        scrollpane.setOpaque(true);\n        //setSize(518, 420);\n        frame.pack();\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        frame.setLocationRelativeTo(null);\n        frame.setVisible(true);\n    }\n}\n</code></pre>\n<p>I expect to get a nice looking tree, like in NetBeans IDE that I use everyday.</p>\n<p>But however I get this:</p>\n<p><a href=\"https://i.stack.imgur.com/GBi0p.png\" rel=\"nofollow noreferrer\">tree display</a></p>\n<p>What the heck is wrong with it? Also should note that when my labels were longer (without the &quot;wrapper&quot; inner class) the output labels in leaves was 2-3 times wider, but the labels were also extremely cut down in width.</p>\n<p><strong>UPDATE:</strong></p>\n<p>Unfortunalely, the result after suggested solution is not ideal. See the screenshot below:</p>\n<p><a href=\"https://i.stack.imgur.com/tJOGM.png\" rel=\"nofollow noreferrer\">fixed display</a></p>\n<ol>\n<li>The symbols are cut by 1-2 pixels from the bottom (look at the square brackets). Maybe it is a windows bug (I use Windows 7 with 150% zoom), but is there a way to fix that? To increase the font size of the labels or the vertical gap between them (so called &quot;line height&quot;)?</li>\n<li>I don't like that leaves have &quot;+&quot; on them until I click them. I solved it adding <code>else { node.setAllowsChildren(false); }</code> to the end of my <code>processChildren()</code> method. But now I would like to have a single custom icon for all of my nodes, whether they have children or not.</li>\n</ol>\n"},{"tags":["java","json","xml","jackson","fasterxml"],"comments":[{"owner":{"account_id":10428850,"reputation":175,"user_id":7689280,"display_name":"Mio"},"score":2,"creation_date":1677243192,"post_id":75556783,"comment_id":133304208,"body_markdown":"Can you share your code?","body":"Can you share your code?"},{"owner":{"account_id":3377022,"reputation":11135,"user_id":2834978,"display_name":"LMC"},"score":3,"creation_date":1677243787,"post_id":75556783,"comment_id":133304389,"body_markdown":"Please, take some time to read [how to ask](/help/how-to-ask) and [How to create a Minimal, Reproducible Example](/help/minimal-reproducible-example)","body":"Please, take some time to read <a href=\"/help/how-to-ask\">how to ask</a> and <a href=\"/help/minimal-reproducible-example\">How to create a Minimal, Reproducible Example</a>"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1677268580,"post_id":75556783,"comment_id":133311080,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"owner":{"account_id":27869371,"reputation":1,"user_id":21280261,"display_name":"tweets"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1677280732,"answer_count":0,"score":0,"last_activity_date":1677479086,"creation_date":1677243075,"question_id":75556783,"body_markdown":"```\r\n&lt;A&gt;\r\n\t\t\r\n\t\t&lt;Ser name=&quot;cluster1&quot; localroot=&quot;search&quot; branch=&quot;feature&gt;\r\n\t\t&lt;/Ser&gt;\r\n\t\t&lt;PR localroot=&quot;search&quot; msg=&quot;Merge the pr.&quot;/&gt;\r\n\r\n        &lt;Ser name=&quot;cluster2&quot; localroot=&quot;clone&quot; branch=&quot;change-fix&gt;\r\n\t\t&lt;/Ser&gt;\r\n\t\t&lt;PR localroot=&quot;clone&quot; msg=&quot;Merge the pr.&quot;/&gt;\r\n&lt;/A&gt;\r\n```\r\n\r\nTrying to read the same using XmlMapper.readValue()\r\nbut It is just reading the last value of both &lt;ser&gt; &amp; &lt;PR&gt; not the list.\r\n\r\nNote: this works well when Xml is:\r\n\r\n```\r\n\r\n    &lt;A&gt;\r\n    \t\t&lt;Ser name=&quot;cluster1&quot; localroot=&quot;search&quot; branch=&quot;feature&gt;\r\n    \t\t&lt;/Ser&gt;\r\n    \t\t\r\n            &lt;Ser name=&quot;cluster2&quot; localroot=&quot;clone&quot; branch=&quot;change-fix&gt;\r\n    \t\t&lt;/Ser&gt;\r\n            &lt;PR localroot=&quot;search&quot; msg=&quot;Merge the pr.&quot;/&gt;\r\n            &lt;PR localroot=&quot;clone&quot; msg=&quot;Merge the pr.&quot;/&gt;\r\n       \t\t\r\n    &lt;/A&gt;\r\n\r\n```\r\n\r\nCode is: `\r\n\r\n    public class A {\r\n    \t@JacksonXmlProperty(localName=&quot;Ser&quot;)\r\n    \t@JacksonXmlElementWrapper(useWrapping=false)\r\n    \tList&lt;Ser&gt; ser;\r\n    \t@JacksonXmlProperty(localName=&quot;PR&quot;)\r\n    \t@JacksonXmlElementWrapper(useWrapping=false)\r\n    \tList&lt;PR&gt; pR;\r\n    \t\r\n    \t\\\\getters\r\n         \\\\Setters\r\n    \t\r\n    }\r\n\r\n`\r\n\r\nFor Ser:\r\n\r\n    public class Ser {\r\n    \t\r\n    \t@JacksonXmlProperty(isAttribute=true,localName=&quot;name&quot;)\r\n    \tString name;\r\n    \t@JacksonXmlProperty(isAttribute=true,localName=&quot;branch&quot;)\r\n    \tString branch;\r\n        @JacksonXmlProperty(isAttribute=true,localName=&quot;localroot&quot;)\r\n        String localroot;\r\n    \r\n    \\\\getter &amp; setters\r\n    \r\n    }\r\n\r\nSimilar code for PR:\r\n\r\n    public class PR {\r\n    \t@JacksonXmlProperty(isAttribute=true,localName=&quot;msg&quot;)\r\n    \tString msg;\r\n        @JacksonXmlProperty(isAttribute=true,localName=&quot;localroot&quot;)\r\n        String localroot;\r\n    \r\n    \\\\getter &amp; setters\r\n    \r\n    }\r\n\r\nCode where reading the file having XML:\r\n\r\n    public ServiceImpl{\r\n    \\\\hiding other part.\r\n    \r\n    A obj = xmlMapper.readValue(new File(path), A.class);\r\n    \r\n    }\r\n\r\nTried with the latest version as well for jackson-dataformat-xml.\r\nNothing working.\r\n\r\nThis question is different as here issue is not of wrapping xml.","title":"jackson fasterxml multiple elements with the same name not aligned together","body":"<pre><code>&lt;A&gt;\n        \n        &lt;Ser name=&quot;cluster1&quot; localroot=&quot;search&quot; branch=&quot;feature&gt;\n        &lt;/Ser&gt;\n        &lt;PR localroot=&quot;search&quot; msg=&quot;Merge the pr.&quot;/&gt;\n\n        &lt;Ser name=&quot;cluster2&quot; localroot=&quot;clone&quot; branch=&quot;change-fix&gt;\n        &lt;/Ser&gt;\n        &lt;PR localroot=&quot;clone&quot; msg=&quot;Merge the pr.&quot;/&gt;\n&lt;/A&gt;\n</code></pre>\n<p>Trying to read the same using XmlMapper.readValue()\nbut It is just reading the last value of both  &amp;  not the list.</p>\n<p>Note: this works well when Xml is:</p>\n<pre><code>\n    &lt;A&gt;\n            &lt;Ser name=&quot;cluster1&quot; localroot=&quot;search&quot; branch=&quot;feature&gt;\n            &lt;/Ser&gt;\n            \n            &lt;Ser name=&quot;cluster2&quot; localroot=&quot;clone&quot; branch=&quot;change-fix&gt;\n            &lt;/Ser&gt;\n            &lt;PR localroot=&quot;search&quot; msg=&quot;Merge the pr.&quot;/&gt;\n            &lt;PR localroot=&quot;clone&quot; msg=&quot;Merge the pr.&quot;/&gt;\n            \n    &lt;/A&gt;\n\n</code></pre>\n<p>Code is: `</p>\n<pre><code>public class A {\n    @JacksonXmlProperty(localName=&quot;Ser&quot;)\n    @JacksonXmlElementWrapper(useWrapping=false)\n    List&lt;Ser&gt; ser;\n    @JacksonXmlProperty(localName=&quot;PR&quot;)\n    @JacksonXmlElementWrapper(useWrapping=false)\n    List&lt;PR&gt; pR;\n    \n    \\\\getters\n     \\\\Setters\n    \n}\n</code></pre>\n<p>`</p>\n<p>For Ser:</p>\n<pre><code>public class Ser {\n    \n    @JacksonXmlProperty(isAttribute=true,localName=&quot;name&quot;)\n    String name;\n    @JacksonXmlProperty(isAttribute=true,localName=&quot;branch&quot;)\n    String branch;\n    @JacksonXmlProperty(isAttribute=true,localName=&quot;localroot&quot;)\n    String localroot;\n\n\\\\getter &amp; setters\n\n}\n</code></pre>\n<p>Similar code for PR:</p>\n<pre><code>public class PR {\n    @JacksonXmlProperty(isAttribute=true,localName=&quot;msg&quot;)\n    String msg;\n    @JacksonXmlProperty(isAttribute=true,localName=&quot;localroot&quot;)\n    String localroot;\n\n\\\\getter &amp; setters\n\n}\n</code></pre>\n<p>Code where reading the file having XML:</p>\n<pre><code>public ServiceImpl{\n\\\\hiding other part.\n\nA obj = xmlMapper.readValue(new File(path), A.class);\n\n}\n</code></pre>\n<p>Tried with the latest version as well for jackson-dataformat-xml.\nNothing working.</p>\n<p>This question is different as here issue is not of wrapping xml.</p>\n"},{"tags":["java","android","android-studio","user-interface","android-alertdialog"],"answers":[{"tags":[],"owner":{"account_id":10780313,"reputation":192,"user_id":7931023,"display_name":"Ashfaque"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677478053,"creation_date":1677478053,"answer_id":75577221,"question_id":75571397,"body_markdown":"    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n        android:layout_width=&quot;300dp&quot;\r\n        android:layout_height=&quot;wrap_content&quot;&gt;\r\n\r\n    &lt;TextView\r\n        android:id=&quot;@+id/textView1&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;53dp&quot;\r\n        android:gravity=&quot;center&quot;\r\n        android:text=&quot;Add New Blood Sample&quot;\r\n        android:textColor=&quot;#000&quot;\r\n        android:textSize=&quot;20dp&quot;\r\n        android:textStyle=&quot;bold&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\r\n\r\n    &lt;TextView\r\n        android:id=&quot;@+id/textView13&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:text=&quot;Please enter the Name and Gender&quot;\r\n        android:textColor=&quot;#000&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toBottomOf=&quot;@+id/textView1&quot; /&gt;\r\n\r\n    &lt;EditText\r\n        android:id=&quot;@+id/samplename_input&quot;\r\n        android:layout_width=&quot;0dp&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_margin=&quot;12dp&quot;\r\n        android:ems=&quot;10&quot;\r\n        android:hint=&quot;Name&quot;\r\n        android:inputType=&quot;textMultiLine&quot;\r\n        android:textColor=&quot;@color/white&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toBottomOf=&quot;@+id/textView13&quot; /&gt;\r\n\r\n    &lt;EditText\r\n        android:id=&quot;@+id/gender_input&quot;\r\n        android:layout_width=&quot;0dp&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_margin=&quot;12dp&quot;\r\n        android:ems=&quot;10&quot;\r\n        android:hint=&quot;Age&quot;\r\n        android:inputType=&quot;textMultiLine&quot;\r\n        android:textColor=&quot;@color/white&quot;\r\n        app:layout_constraintBottom_toTopOf=&quot;@+id/submit_button&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toBottomOf=&quot;@+id/samplename_input&quot; /&gt;\r\n\r\n\r\n    &lt;Button\r\n        android:id=&quot;@+id/submit_button&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:text=&quot;Submit&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintEnd_toStartOf=&quot;@+id/cancel_button&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot; /&gt;\r\n\r\n    &lt;Button\r\n        android:id=&quot;@+id/cancel_button&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:text=&quot;Cancel&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintStart_toEndOf=&quot;@+id/submit_button&quot; /&gt;\r\n    \r\n    &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;","title":"Unable to display the intended Dialog box from xml file","body":"<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    android:layout_width=&quot;300dp&quot;\n    android:layout_height=&quot;wrap_content&quot;&gt;\n\n&lt;TextView\n    android:id=&quot;@+id/textView1&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;53dp&quot;\n    android:gravity=&quot;center&quot;\n    android:text=&quot;Add New Blood Sample&quot;\n    android:textColor=&quot;#000&quot;\n    android:textSize=&quot;20dp&quot;\n    android:textStyle=&quot;bold&quot;\n    app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n    app:layout_constraintStart_toStartOf=&quot;parent&quot;\n    app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\n\n&lt;TextView\n    android:id=&quot;@+id/textView13&quot;\n    android:layout_width=&quot;wrap_content&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:text=&quot;Please enter the Name and Gender&quot;\n    android:textColor=&quot;#000&quot;\n    app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n    app:layout_constraintStart_toStartOf=&quot;parent&quot;\n    app:layout_constraintTop_toBottomOf=&quot;@+id/textView1&quot; /&gt;\n\n&lt;EditText\n    android:id=&quot;@+id/samplename_input&quot;\n    android:layout_width=&quot;0dp&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:layout_margin=&quot;12dp&quot;\n    android:ems=&quot;10&quot;\n    android:hint=&quot;Name&quot;\n    android:inputType=&quot;textMultiLine&quot;\n    android:textColor=&quot;@color/white&quot;\n    app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n    app:layout_constraintStart_toStartOf=&quot;parent&quot;\n    app:layout_constraintTop_toBottomOf=&quot;@+id/textView13&quot; /&gt;\n\n&lt;EditText\n    android:id=&quot;@+id/gender_input&quot;\n    android:layout_width=&quot;0dp&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:layout_margin=&quot;12dp&quot;\n    android:ems=&quot;10&quot;\n    android:hint=&quot;Age&quot;\n    android:inputType=&quot;textMultiLine&quot;\n    android:textColor=&quot;@color/white&quot;\n    app:layout_constraintBottom_toTopOf=&quot;@+id/submit_button&quot;\n    app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n    app:layout_constraintStart_toStartOf=&quot;parent&quot;\n    app:layout_constraintTop_toBottomOf=&quot;@+id/samplename_input&quot; /&gt;\n\n\n&lt;Button\n    android:id=&quot;@+id/submit_button&quot;\n    android:layout_width=&quot;wrap_content&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:text=&quot;Submit&quot;\n    app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n    app:layout_constraintEnd_toStartOf=&quot;@+id/cancel_button&quot;\n    app:layout_constraintStart_toStartOf=&quot;parent&quot; /&gt;\n\n&lt;Button\n    android:id=&quot;@+id/cancel_button&quot;\n    android:layout_width=&quot;wrap_content&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:text=&quot;Cancel&quot;\n    app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n    app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n    app:layout_constraintStart_toEndOf=&quot;@+id/submit_button&quot; /&gt;\n\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n"}],"owner":{"account_id":27882245,"reputation":11,"user_id":21290464,"display_name":"UncannyHarmony"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":84,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1677478053,"creation_date":1677407814,"question_id":75571397,"body_markdown":"[image of xml layout][1]\r\n[image of output on emulator][2]\r\nI&#39;m trying to write a code to display custom dialog box on clicking menu options using xml layout file. On running the app in Android studio I&#39;m not getting the desired dialog box, i.e the EditText fields are not showing up,also the layout is different from what I set up in xml file, Please help\r\n\r\nThis is the code in onOptionsItemSelected block\r\n\r\n```\r\n//Add New Sample \r\nelse if (id == R.id.new_sample) { \r\nfinal AlertDialog.Builder alert = new AlertDialog.Builder(MainActivity.this); \r\nView view = getLayoutInflater().inflate(R.layout.dialogtoaddsample,null); \r\nEditText sampleNameinput = (EditText) view.findViewById(R.id.samplename_input); EditText genderinput = (EditText) view.findViewById(R.id.gender_input); \r\nButton submit = (Button) view.findViewById(R.id.submit_button); \r\nButton cancel = (Button) view.findViewById(R.id.cancel_button);    \r\n\r\nalert.setView(view);\r\n\r\n    final AlertDialog alertDialog = alert.create();\r\n    alertDialog.getWindow().setBackgroundDrawable(new ColorDrawable(Color.TRANSPARENT));\r\n    alertDialog.requestWindowFeature(Window.FEATURE_NO_TITLE);\r\n    alertDialog.setContentView(R.layout.dialogtoaddsample);\r\n    alertDialog.setCanceledOnTouchOutside(false);\r\n    alertDialog.show();\r\n\r\n    cancel.setOnClickListener(new View.OnClickListener() {\r\n        @Override\r\n        public void onClick(View view) {\r\n            alertDialog.dismiss();\r\n        }\r\n    });\r\n    submit.setOnClickListener(new View.OnClickListener() {\r\n        @Override\r\n        public void onClick(View view) { String samplenameEt = sampleNameinput.getText().toString().trim();\r\n            String readpath = Contact.getFolderPath(MainActivity.this);\r\n            String sameTemp = new String();\r\n            File f = new File(readpath);\r\n            if (f.exists()) {\r\n                File file\\[\\] = f.listFiles();\r\n                for (int i = 0; i \\&lt; file.length; i++) {\r\n                    if (Objects.equals(file\\[i\\].getName(), samplenameEt)) {\r\n                        sameTemp = samplenameEt;\r\n                    }\r\n                }\r\n            }\r\n            String currentDate = getDate();\r\n            if (TextUtils.isEmpty(samplenameEt)) {\r\n                Toast.makeText(MainActivity.this, &quot;The sample name cannot be empty!&quot;,\r\n                        Toast.LENGTH_SHORT).show();\r\n            } else if (Objects.equals(sameTemp, samplenameEt)) {\r\n                Toast.makeText(MainActivity.this, &quot;The sample name cannot be same as others!&quot;,\r\n                        Toast.LENGTH_SHORT).show();\r\n            } else {\r\n                //\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\r\n                File foldersample = new File(Contact.getFolderPath(MainActivity.this) + File.separator + samplenameEt);\r\n                boolean success = true;\r\n                if (!foldersample.exists()) {\r\n                    success = foldersample.mkdirs();\r\n                }\r\n                if (success) {\r\n                    Toast.makeText(MainActivity.this, &quot;Blood sample &quot; + samplenameEt +\r\n                            &quot; is added!&quot;, Toast.LENGTH_SHORT).show();\r\n                    db.addSamples(new SampleNameList());\r\n                    showRecord();\r\n                } else {\r\n                    Toast.makeText(MainActivity.this, &quot;Unable to create blood sample bank folder!&quot;\r\n                            , Toast.LENGTH_SHORT).show();\r\n                }\r\n            }\r\n\r\n        }\r\n\r\n    });\r\n```\r\n\r\nI have attached both images of output of emulator and my xml layout\r\n\r\nthis is the xml code\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n   android:layout_gravity=&quot;center&quot;\r\n    android:layout_width=&quot;300dp&quot;\r\n    android:layout_height=&quot;250dp&quot;&gt;\r\n\r\n    &lt;RelativeLayout\r\n        android:id=&quot;@+id/layout_dialog&quot;\r\n        android:layout_width=&quot;300dp&quot;\r\n        android:layout_height=&quot;250dp&quot;/&gt;\r\n\r\n    &lt;TextView\r\n        android:id=&quot;@+id/textView1&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;53dp&quot;\r\n        android:gravity=&quot;center&quot;\r\n        android:textStyle=&quot;bold&quot;\r\n        android:text=&quot;Add New Blood Sample&quot;\r\n        android:textColor=&quot;@color/white&quot;\r\n        android:textSize=&quot;20dp&quot; /&gt;\r\n\r\n    &lt;TextView\r\n        android:id=&quot;@+id/textView13&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_alignParentStart=&quot;true&quot;\r\n        android:layout_alignParentTop=&quot;true&quot;\r\n        android:layout_centerHorizontal=&quot;true&quot;\r\n        android:layout_marginStart=&quot;33dp&quot;\r\n        android:layout_marginTop=&quot;57dp&quot;\r\n        android:text=&quot;Please enter the Name and Gender&quot;\r\n        android:textColor=&quot;@color/white&quot; /&gt;\r\n\r\n    &lt;EditText\r\n        android:id=&quot;@+id/gender_input&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_alignParentStart=&quot;true&quot;\r\n        android:layout_alignParentBottom=&quot;true&quot;\r\n        android:layout_centerHorizontal=&quot;true&quot;\r\n        android:layout_marginStart=&quot;40dp&quot;\r\n        android:layout_marginBottom=&quot;74dp&quot;\r\n        android:hint=&quot;Gender&quot;\r\n        android:ems=&quot;10&quot;\r\n        android:gravity=&quot;start|top&quot;\r\n\r\n        android:inputType=&quot;textMultiLine&quot;\r\n        android:textColor=&quot;@color/white&quot; /&gt;\r\n\r\n    &lt;EditText\r\n        android:id=&quot;@+id/samplename_input&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_alignParentStart=&quot;true&quot;\r\n        android:layout_alignParentBottom=&quot;true&quot;\r\n        android:layout_centerHorizontal=&quot;true&quot;\r\n        android:layout_marginStart=&quot;40dp&quot;\r\n        android:layout_marginBottom=&quot;124dp&quot;\r\n        android:hint=&quot;Name&quot;\r\n        android:ems=&quot;10&quot;\r\n        android:inputType=&quot;textMultiLine&quot;\r\n        android:textColor=&quot;@color/white&quot; /&gt;\r\n\r\n    &lt;Button\r\n        android:id=&quot;@+id/submit_button&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_alignParentStart=&quot;true&quot;\r\n        android:layout_alignParentBottom=&quot;true&quot;\r\n        android:layout_marginStart=&quot;28dp&quot;\r\n        android:layout_marginBottom=&quot;14dp&quot;\r\n        android:text=&quot;Submit&quot; /&gt;\r\n\r\n    &lt;Button\r\n        android:id=&quot;@+id/cancel_button&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_alignParentEnd=&quot;true&quot;\r\n        android:layout_alignParentBottom=&quot;true&quot;\r\n        android:layout_marginEnd=&quot;28dp&quot;\r\n        android:layout_marginBottom=&quot;14dp&quot;\r\n        android:text=&quot;Cancel&quot; /&gt;\r\n\r\n\r\n&lt;/RelativeLayout&gt;\r\n```\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/UNS8e.png\r\n  [2]: https://i.stack.imgur.com/eJiLX.png","title":"Unable to display the intended Dialog box from xml file","body":"<p><a href=\"https://i.stack.imgur.com/UNS8e.png\" rel=\"nofollow noreferrer\">image of xml layout</a>\n<a href=\"https://i.stack.imgur.com/eJiLX.png\" rel=\"nofollow noreferrer\">image of output on emulator</a>\nI'm trying to write a code to display custom dialog box on clicking menu options using xml layout file. On running the app in Android studio I'm not getting the desired dialog box, i.e the EditText fields are not showing up,also the layout is different from what I set up in xml file, Please help</p>\n<p>This is the code in onOptionsItemSelected block</p>\n<pre><code>//Add New Sample \nelse if (id == R.id.new_sample) { \nfinal AlertDialog.Builder alert = new AlertDialog.Builder(MainActivity.this); \nView view = getLayoutInflater().inflate(R.layout.dialogtoaddsample,null); \nEditText sampleNameinput = (EditText) view.findViewById(R.id.samplename_input); EditText genderinput = (EditText) view.findViewById(R.id.gender_input); \nButton submit = (Button) view.findViewById(R.id.submit_button); \nButton cancel = (Button) view.findViewById(R.id.cancel_button);    \n\nalert.setView(view);\n\n    final AlertDialog alertDialog = alert.create();\n    alertDialog.getWindow().setBackgroundDrawable(new ColorDrawable(Color.TRANSPARENT));\n    alertDialog.requestWindowFeature(Window.FEATURE_NO_TITLE);\n    alertDialog.setContentView(R.layout.dialogtoaddsample);\n    alertDialog.setCanceledOnTouchOutside(false);\n    alertDialog.show();\n\n    cancel.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View view) {\n            alertDialog.dismiss();\n        }\n    });\n    submit.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View view) { String samplenameEt = sampleNameinput.getText().toString().trim();\n            String readpath = Contact.getFolderPath(MainActivity.this);\n            String sameTemp = new String();\n            File f = new File(readpath);\n            if (f.exists()) {\n                File file\\[\\] = f.listFiles();\n                for (int i = 0; i \\&lt; file.length; i++) {\n                    if (Objects.equals(file\\[i\\].getName(), samplenameEt)) {\n                        sameTemp = samplenameEt;\n                    }\n                }\n            }\n            String currentDate = getDate();\n            if (TextUtils.isEmpty(samplenameEt)) {\n                Toast.makeText(MainActivity.this, &quot;The sample name cannot be empty!&quot;,\n                        Toast.LENGTH_SHORT).show();\n            } else if (Objects.equals(sameTemp, samplenameEt)) {\n                Toast.makeText(MainActivity.this, &quot;The sample name cannot be same as others!&quot;,\n                        Toast.LENGTH_SHORT).show();\n            } else {\n                //\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\n                File foldersample = new File(Contact.getFolderPath(MainActivity.this) + File.separator + samplenameEt);\n                boolean success = true;\n                if (!foldersample.exists()) {\n                    success = foldersample.mkdirs();\n                }\n                if (success) {\n                    Toast.makeText(MainActivity.this, &quot;Blood sample &quot; + samplenameEt +\n                            &quot; is added!&quot;, Toast.LENGTH_SHORT).show();\n                    db.addSamples(new SampleNameList());\n                    showRecord();\n                } else {\n                    Toast.makeText(MainActivity.this, &quot;Unable to create blood sample bank folder!&quot;\n                            , Toast.LENGTH_SHORT).show();\n                }\n            }\n\n        }\n\n    });\n</code></pre>\n<p>I have attached both images of output of emulator and my xml layout</p>\n<p>this is the xml code</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n   android:layout_gravity=&quot;center&quot;\n    android:layout_width=&quot;300dp&quot;\n    android:layout_height=&quot;250dp&quot;&gt;\n\n    &lt;RelativeLayout\n        android:id=&quot;@+id/layout_dialog&quot;\n        android:layout_width=&quot;300dp&quot;\n        android:layout_height=&quot;250dp&quot;/&gt;\n\n    &lt;TextView\n        android:id=&quot;@+id/textView1&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;53dp&quot;\n        android:gravity=&quot;center&quot;\n        android:textStyle=&quot;bold&quot;\n        android:text=&quot;Add New Blood Sample&quot;\n        android:textColor=&quot;@color/white&quot;\n        android:textSize=&quot;20dp&quot; /&gt;\n\n    &lt;TextView\n        android:id=&quot;@+id/textView13&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_alignParentStart=&quot;true&quot;\n        android:layout_alignParentTop=&quot;true&quot;\n        android:layout_centerHorizontal=&quot;true&quot;\n        android:layout_marginStart=&quot;33dp&quot;\n        android:layout_marginTop=&quot;57dp&quot;\n        android:text=&quot;Please enter the Name and Gender&quot;\n        android:textColor=&quot;@color/white&quot; /&gt;\n\n    &lt;EditText\n        android:id=&quot;@+id/gender_input&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_alignParentStart=&quot;true&quot;\n        android:layout_alignParentBottom=&quot;true&quot;\n        android:layout_centerHorizontal=&quot;true&quot;\n        android:layout_marginStart=&quot;40dp&quot;\n        android:layout_marginBottom=&quot;74dp&quot;\n        android:hint=&quot;Gender&quot;\n        android:ems=&quot;10&quot;\n        android:gravity=&quot;start|top&quot;\n\n        android:inputType=&quot;textMultiLine&quot;\n        android:textColor=&quot;@color/white&quot; /&gt;\n\n    &lt;EditText\n        android:id=&quot;@+id/samplename_input&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_alignParentStart=&quot;true&quot;\n        android:layout_alignParentBottom=&quot;true&quot;\n        android:layout_centerHorizontal=&quot;true&quot;\n        android:layout_marginStart=&quot;40dp&quot;\n        android:layout_marginBottom=&quot;124dp&quot;\n        android:hint=&quot;Name&quot;\n        android:ems=&quot;10&quot;\n        android:inputType=&quot;textMultiLine&quot;\n        android:textColor=&quot;@color/white&quot; /&gt;\n\n    &lt;Button\n        android:id=&quot;@+id/submit_button&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_alignParentStart=&quot;true&quot;\n        android:layout_alignParentBottom=&quot;true&quot;\n        android:layout_marginStart=&quot;28dp&quot;\n        android:layout_marginBottom=&quot;14dp&quot;\n        android:text=&quot;Submit&quot; /&gt;\n\n    &lt;Button\n        android:id=&quot;@+id/cancel_button&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_alignParentEnd=&quot;true&quot;\n        android:layout_alignParentBottom=&quot;true&quot;\n        android:layout_marginEnd=&quot;28dp&quot;\n        android:layout_marginBottom=&quot;14dp&quot;\n        android:text=&quot;Cancel&quot; /&gt;\n\n\n&lt;/RelativeLayout&gt;\n</code></pre>\n"},{"tags":["java","apache-fop"],"answers":[{"tags":[],"owner":{"account_id":16631575,"reputation":36,"user_id":12019316,"display_name":"Matija"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1677476965,"creation_date":1677476965,"answer_id":75577124,"question_id":72824447,"body_markdown":"Had the same problem when upgrading from 2.5 to 2.8.\r\nJust use:\r\n\r\n    File configurationFile = new File( FOP_CONFIGURATION_FILE ).getAbsoluteFile();\r\n\r\nto get file with apsolute path.\r\n&lt;p&gt;NullPointerException comes from getParentFile() which returns null if file&#39;s path doesn&#39;t have at least one parent level. My guess is that developers expect for constructor input either file with absolute or file with relative path which has at least one upper level. To me it looks more like a bug than a feature.&lt;/p&gt;","title":"Loading Apache FOP configuration file in 2.6 throws a NullPointerException","body":"<p>Had the same problem when upgrading from 2.5 to 2.8.\nJust use:</p>\n<pre><code>File configurationFile = new File( FOP_CONFIGURATION_FILE ).getAbsoluteFile();\n</code></pre>\n<p>to get file with apsolute path.</p>\n<p>NullPointerException comes from getParentFile() which returns null if file's path doesn't have at least one parent level. My guess is that developers expect for constructor input either file with absolute or file with relative path which has at least one upper level. To me it looks more like a bug than a feature.</p>\n"}],"owner":{"account_id":1529963,"reputation":247,"user_id":2156453,"display_name":"Bernmeister"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":435,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75577124,"answer_count":1,"score":1,"last_activity_date":1677476965,"creation_date":1656650379,"question_id":72824447,"body_markdown":"I upgrade Apache FOP from `2.3` to `2.7` and I now get a `NullPointerException`.  I have isolated the issue to a change between version `2.5` and `2.6` within the function `FopConfParser(File fopConfFile, ResourceResolver resourceResolver)` in the file `org.apache.fop.apps.FopConfParser.java`, line 144:\r\n\r\n`2.5`: `this(new FileInputStream(fopConfFile), fopConfFile.toURI(), resourceResolver);`\r\n\r\n`2.6`: `this(new FileInputStream(fopConfFile), fopConfFile.getParentFile().toURI(), resourceResolver);`\r\n\r\nThe code below demonstrates the issue:\r\n\r\n```\r\nimport java.io.File;\r\nimport java.io.IOException;\r\n\r\nimport org.apache.fop.apps.FopConfParser;\r\nimport org.xml.sax.SAXException;\r\n\r\n\r\npublic class Test\r\n{\r\n    private static final String FOP_CONFIGURATION_FILE = &quot;fopConfiguration.xml&quot;;\r\n\r\n\r\n    static\r\n    {\r\n        try\r\n        {\r\n            File configurationFile = new File( FOP_CONFIGURATION_FILE );\r\n            FopConfParser fopConfParser = new FopConfParser( configurationFile );\r\n        }\r\n        catch( SAXException saxException ) { saxException.printStackTrace(); }\r\n        catch( IOException ioException ) { ioException.printStackTrace(); }\r\n        catch( Exception exception ) { exception.printStackTrace(); }\r\n    }\r\n\r\n\r\n    public static void main( String args[ ] ) { }\r\n}\r\n```\r\nTo test requires a few steps:\r\n\r\n 1. [Download](https://archive.apache.org/dist/xmlgraphics/fop/binaries/) FOP binary releases `2.5` and `2.6` and extract each archive.\r\n 2. Save the test program above as `Test.java` and create sub-directories called `2.5` and `2.6`.\r\n 3. From the `2.5` extracted archive, copy `conf/fop.xconf` to the same directory as `Test.java` and copy `build/fop.jar` and `lib/*.jar` files  to the `2.5` sub-directory.  Similarly for `2.6`.\r\n 4. To compile: `javac -cp &quot;2.5/*&quot; Test.java`; to run: `java -cp &quot;2.5/*:.&quot; Test`.  Similarly for `2.6`.\r\n\r\nAny ideas on why the configuration file is no longer being located (perhaps to do with classpath) and any ideas please on how to resolve?","title":"Loading Apache FOP configuration file in 2.6 throws a NullPointerException","body":"<p>I upgrade Apache FOP from <code>2.3</code> to <code>2.7</code> and I now get a <code>NullPointerException</code>.  I have isolated the issue to a change between version <code>2.5</code> and <code>2.6</code> within the function <code>FopConfParser(File fopConfFile, ResourceResolver resourceResolver)</code> in the file <code>org.apache.fop.apps.FopConfParser.java</code>, line 144:</p>\n<p><code>2.5</code>: <code>this(new FileInputStream(fopConfFile), fopConfFile.toURI(), resourceResolver);</code></p>\n<p><code>2.6</code>: <code>this(new FileInputStream(fopConfFile), fopConfFile.getParentFile().toURI(), resourceResolver);</code></p>\n<p>The code below demonstrates the issue:</p>\n<pre><code>import java.io.File;\nimport java.io.IOException;\n\nimport org.apache.fop.apps.FopConfParser;\nimport org.xml.sax.SAXException;\n\n\npublic class Test\n{\n    private static final String FOP_CONFIGURATION_FILE = &quot;fopConfiguration.xml&quot;;\n\n\n    static\n    {\n        try\n        {\n            File configurationFile = new File( FOP_CONFIGURATION_FILE );\n            FopConfParser fopConfParser = new FopConfParser( configurationFile );\n        }\n        catch( SAXException saxException ) { saxException.printStackTrace(); }\n        catch( IOException ioException ) { ioException.printStackTrace(); }\n        catch( Exception exception ) { exception.printStackTrace(); }\n    }\n\n\n    public static void main( String args[ ] ) { }\n}\n</code></pre>\n<p>To test requires a few steps:</p>\n<ol>\n<li><a href=\"https://archive.apache.org/dist/xmlgraphics/fop/binaries/\" rel=\"nofollow noreferrer\">Download</a> FOP binary releases <code>2.5</code> and <code>2.6</code> and extract each archive.</li>\n<li>Save the test program above as <code>Test.java</code> and create sub-directories called <code>2.5</code> and <code>2.6</code>.</li>\n<li>From the <code>2.5</code> extracted archive, copy <code>conf/fop.xconf</code> to the same directory as <code>Test.java</code> and copy <code>build/fop.jar</code> and <code>lib/*.jar</code> files  to the <code>2.5</code> sub-directory.  Similarly for <code>2.6</code>.</li>\n<li>To compile: <code>javac -cp &quot;2.5/*&quot; Test.java</code>; to run: <code>java -cp &quot;2.5/*:.&quot; Test</code>.  Similarly for <code>2.6</code>.</li>\n</ol>\n<p>Any ideas on why the configuration file is no longer being located (perhaps to do with classpath) and any ideas please on how to resolve?</p>\n"},{"tags":["java","android","android-chips"],"answers":[{"tags":[],"owner":{"account_id":18571239,"reputation":4748,"user_id":13533028,"display_name":"Narendra_Nath"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1677476741,"creation_date":1677476741,"answer_id":75577094,"question_id":75576439,"body_markdown":"Take the data from a shared ViewModel with the Activity which houses the fragments as a lifecycle owner.\r\n\r\n    eg: val ViewModel:MainActivityViewModel by activityViewModels\r\n\r\nThen set the first fragment to observe the selected properties .\r\nSince the source of your data remains the same you can manipulate how to show the selected items from there","title":"How can i show the selected chips in chip group android","body":"<p>Take the data from a shared ViewModel with the Activity which houses the fragments as a lifecycle owner.</p>\n<pre><code>eg: val ViewModel:MainActivityViewModel by activityViewModels\n</code></pre>\n<p>Then set the first fragment to observe the selected properties .\nSince the source of your data remains the same you can manipulate how to show the selected items from there</p>\n"}],"owner":{"account_id":26351131,"reputation":79,"user_id":20397293,"display_name":"Puru Chaudhary"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":85,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1677476741,"creation_date":1677466843,"question_id":75576439,"body_markdown":"I am working on an property listing application where users can list their property like rooms etc. Now the problem I m facing is in the &quot;update listing details&quot; part. So basically we have four fragments through that user fill their property details and then finally it got posted on our platform. Now when user wants to make any changes in their property listing details user have to go through the same four fragments to update the details of their property. Here i m facing the problem when user clicks the **update listing button** the first fragment opens with chip groups which user selected before during listing their property now I want that the chip groups should show the selected chips which user selected while listing their property. I have no idea how can i do this. Please guide me.\r\n\r\nHere The Image of first fragment in listing property as we can see that this does not show selected chips which user selected during listing property\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/AbE1R.jpg","title":"How can i show the selected chips in chip group android","body":"<p>I am working on an property listing application where users can list their property like rooms etc. Now the problem I m facing is in the &quot;update listing details&quot; part. So basically we have four fragments through that user fill their property details and then finally it got posted on our platform. Now when user wants to make any changes in their property listing details user have to go through the same four fragments to update the details of their property. Here i m facing the problem when user clicks the <strong>update listing button</strong> the first fragment opens with chip groups which user selected before during listing their property now I want that the chip groups should show the selected chips which user selected while listing their property. I have no idea how can i do this. Please guide me.</p>\n<p>Here The Image of first fragment in listing property as we can see that this does not show selected chips which user selected during listing property\n<a href=\"https://i.stack.imgur.com/AbE1R.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/AbE1R.jpg\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","maven"],"comments":[{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1677477308,"post_id":75577086,"comment_id":133338271,"body_markdown":"The duplicate gives a lot of options. Personally, I would check out the Maven Shade Plugin first to see if that does what you want.","body":"The duplicate gives a lot of options. Personally, I would check out the Maven Shade Plugin first to see if that does what you want."}],"owner":{"account_id":23661307,"reputation":1,"user_id":17689326,"display_name":"Christian Naida"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":19,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1677476868,"answer_count":0,"score":0,"last_activity_date":1677476604,"creation_date":1677476604,"question_id":75577086,"body_markdown":"I have not been able to find a way to actually build a jar with my maven dependencies so the jar file runs correctly. I tried using the maven plugins but none of them seem to achieve what I want.\r\n\r\nI have tried building the jar with the built in plugins in maven but they did not put the dependencies in the jar file for me. I&#39;m sure this is a simple issue to fix thanks","title":"How to build a jar with dependences in Maven?","body":"<p>I have not been able to find a way to actually build a jar with my maven dependencies so the jar file runs correctly. I tried using the maven plugins but none of them seem to achieve what I want.</p>\n<p>I have tried building the jar with the built in plugins in maven but they did not put the dependencies in the jar file for me. I'm sure this is a simple issue to fix thanks</p>\n"},{"tags":["java","postgresql","jpa","eclipselink"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1676541519,"post_id":75470545,"comment_id":133159026,"body_markdown":"Take care of java naming conventions. Names should be camelCase not snake_case. This should slolve your problem too","body":"Take care of java naming conventions. Names should be camelCase not snake_case. This should slolve your problem too"},{"owner":{"account_id":15482963,"reputation":493,"user_id":11169692,"display_name":"NoobCoder"},"score":0,"creation_date":1676542732,"post_id":75470545,"comment_id":133159412,"body_markdown":"@Jens which name you are talking about ? Table or ?","body":"@Jens which name you are talking about ? Table or ?"},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1676542829,"post_id":75470545,"comment_id":133159447,"body_markdown":"`private String d_id;` should be `private String dId;`","body":"<code>private String d_id;</code> should be <code>private String dId;</code>"},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1676581659,"post_id":75470545,"comment_id":133171427,"body_markdown":"You haven&#39;t defined the issue exactly - how are you setting d_id, or why do you expect to be something other than null? Is this specific to the second persistence unit? Ideally, you&#39;d &#39;persist&#39; a copy of the entity into the second and not directly call persist on the same entity instance in two separate entityManagers - JPA providers will manage that object and inject change tracking hooks that will interfere if you use it in a second context.","body":"You haven&#39;t defined the issue exactly - how are you setting d_id, or why do you expect to be something other than null? Is this specific to the second persistence unit? Ideally, you&#39;d &#39;persist&#39; a copy of the entity into the second and not directly call persist on the same entity instance in two separate entityManagers - JPA providers will manage that object and inject change tracking hooks that will interfere if you use it in a second context."},{"owner":{"account_id":15482963,"reputation":493,"user_id":11169692,"display_name":"NoobCoder"},"score":0,"creation_date":1676605082,"post_id":75470545,"comment_id":133175165,"body_markdown":"@Chris Yes. So it is specific to second persistence unit. Though the first part is in local db and second is in postgres so I am confused how to maintain same data for both. Sorry, I am new to java JPA  things. Can you show me sample example what do you means by directly calling ?","body":"@Chris Yes. So it is specific to second persistence unit. Though the first part is in local db and second is in postgres so I am confused how to maintain same data for both. Sorry, I am new to java JPA  things. Can you show me sample example what do you means by directly calling ?"},{"owner":{"account_id":15482963,"reputation":493,"user_id":11169692,"display_name":"NoobCoder"},"score":0,"creation_date":1676605473,"post_id":75470545,"comment_id":133175211,"body_markdown":"@Jens That didn&#39;t helped. same issue.","body":"@Jens That didn&#39;t helped. same issue."},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1676612814,"post_id":75470545,"comment_id":133176171,"body_markdown":"@NoobCoder Have you also renamed the setter?","body":"@NoobCoder Have you also renamed the setter?"},{"owner":{"account_id":15482963,"reputation":493,"user_id":11169692,"display_name":"NoobCoder"},"score":0,"creation_date":1676614668,"post_id":75470545,"comment_id":133176422,"body_markdown":"@Jens yes, I did. I guess that is not an issue because when I am creating same entities in different class for different persistence, it is working but now I want to use same class which is already working for local DB ie; LDB persistence unit name. Basically need to mix LDB and PU_CSA together to create same values but push into different dbs","body":"@Jens yes, I did. I guess that is not an issue because when I am creating same entities in different class for different persistence, it is working but now I want to use same class which is already working for local DB ie; LDB persistence unit name. Basically need to mix LDB and PU_CSA together to create same values but push into different dbs"},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1676647529,"post_id":75470545,"comment_id":133185274,"body_markdown":"Copy/clone the data in &#39;this&#39; instance into a second entity instance and use that to merge or persist into the llocEm context. These entity instances are tied to a single entity manager context, so I don&#39;t think it a good idea to have the update/store logic in the data object itself, and EntityManagerFactory instances are meant to be used as singletons as they have a large amount of overhead to create and you are responsible to close them which you are not doing in this code. see https://stackoverflow.com/a/17746371/496099","body":"Copy/clone the data in &#39;this&#39; instance into a second entity instance and use that to merge or persist into the llocEm context. These entity instances are tied to a single entity manager context, so I don&#39;t think it a good idea to have the update/store logic in the data object itself, and EntityManagerFactory instances are meant to be used as singletons as they have a large amount of overhead to create and you are responsible to close them which you are not doing in this code. see <a href=\"https://stackoverflow.com/a/17746371/496099\">stackoverflow.com/a/17746371/496099</a>"},{"owner":{"account_id":15482963,"reputation":493,"user_id":11169692,"display_name":"NoobCoder"},"score":0,"creation_date":1676952672,"post_id":75470545,"comment_id":133235784,"body_markdown":"@Chris I am sorry, I am still confused. Can you edit my code for copy ? Also when I remove nextval() from PSQL PK column I am getting now `ERROR: null value in column &quot;id&quot; of relation &quot;certs&quot; violates not-null constraint`","body":"@Chris I am sorry, I am still confused. Can you edit my code for copy ? Also when I remove nextval() from PSQL PK column I am getting now <code>ERROR: null value in column &quot;id&quot; of relation &quot;certs&quot; violates not-null constraint</code>"},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1676993323,"post_id":75470545,"comment_id":133246710,"body_markdown":"You cannot just remove Identity from the db table without giving JPA or your application some other way to assign the ID values. As for cloning/copying - this is a well known pattern of creating a new instance of an object (shallow or deep) that has the same basic value object. Try the example I linked. You&#39;ll have to decide how to handle ID values in the object - if the new DB should assign a new value for the same data or if you want one ID to be used in both databases.","body":"You cannot just remove Identity from the db table without giving JPA or your application some other way to assign the ID values. As for cloning/copying - this is a well known pattern of creating a new instance of an object (shallow or deep) that has the same basic value object. Try the example I linked. You&#39;ll have to decide how to handle ID values in the object - if the new DB should assign a new value for the same data or if you want one ID to be used in both databases."}],"answers":[{"tags":[],"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677081173,"creation_date":1676994164,"answer_id":75522735,"question_id":75470545,"body_markdown":"For this to work, you&#39;ll need to create a copy of the instance you are persist/merging for use in the second persistence context - something more like:\r\n\r\n    Static final EntityManagerFactory emf = Persistence.createEntityManagerFactory(&quot;LDB&quot;);\r\n    // for postgres\r\n    Static final EntityManagerFactory eemf = Persistence.createEntityManagerFactory(&quot;PU_CSA&quot;);\r\n\r\n    public void update(LocalCertificate cert) {\r\n        EntityManager locEm = emf.createEntityManager()\r\n        try {\r\n          EntityTransaction ta = locEm.getTransaction();\r\n        \r\n          ta.begin();\r\n          locEm.merge(cert);\r\n          ta.commit();\r\n        } finally { locEm.close();}\r\n\r\n        CopyGroup group = new CopyGroup();\r\n        LocalCertificate copy = (LocalCertificate)em.unwrap( JpaEntityManager.class ).copy( cert, group );\r\n        \r\n        EntityManager llocEm = eemf.createEntityManager();\r\n        try {\r\n          EntityTransaction tta = llocEm.getTransaction();\r\n        \r\n          tta.begin();\r\n          llocEm.merge(copy);\r\n          tta.commit();\r\n        } finally { llocEm.close();}\r\n    }\r\n\r\n\r\nFor persisting a new entity, you will have to do more as your model won&#39;t work as it is - You likely cannot use identity management in both derby and Postgres or your entities will be given different primary key values. To get around that, the simplest solution is to assign values yourself, something like:\r\n\r\n\r\n    @Table(name = &quot;certs&quot;)\r\n    public class LocalCertificate implements Serializable {\r\n\r\n      @Id\r\n      private String id;\r\n      ..\r\n      \r\n      public void assignId() {\r\n        if (StringUtil.isBlank(id)) {\r\n          id = UUID.randomUUID().toString();\r\n        }\r\n      }\r\n     }\r\n\r\nYou then can use the same concept for persisting and just call assignId on the first object passed in, and use that assigned value in the copy passed into the second persistence unit as well.","title":"The attribute [id] of class &#39;LocalCertificate&#39; is mapped to a primary key column in the database. Updates are not allowed","body":"<p>For this to work, you'll need to create a copy of the instance you are persist/merging for use in the second persistence context - something more like:</p>\n<pre><code>Static final EntityManagerFactory emf = Persistence.createEntityManagerFactory(&quot;LDB&quot;);\n// for postgres\nStatic final EntityManagerFactory eemf = Persistence.createEntityManagerFactory(&quot;PU_CSA&quot;);\n\npublic void update(LocalCertificate cert) {\n    EntityManager locEm = emf.createEntityManager()\n    try {\n      EntityTransaction ta = locEm.getTransaction();\n    \n      ta.begin();\n      locEm.merge(cert);\n      ta.commit();\n    } finally { locEm.close();}\n\n    CopyGroup group = new CopyGroup();\n    LocalCertificate copy = (LocalCertificate)em.unwrap( JpaEntityManager.class ).copy( cert, group );\n    \n    EntityManager llocEm = eemf.createEntityManager();\n    try {\n      EntityTransaction tta = llocEm.getTransaction();\n    \n      tta.begin();\n      llocEm.merge(copy);\n      tta.commit();\n    } finally { llocEm.close();}\n}\n</code></pre>\n<p>For persisting a new entity, you will have to do more as your model won't work as it is - You likely cannot use identity management in both derby and Postgres or your entities will be given different primary key values. To get around that, the simplest solution is to assign values yourself, something like:</p>\n<pre><code>@Table(name = &quot;certs&quot;)\npublic class LocalCertificate implements Serializable {\n\n  @Id\n  private String id;\n  ..\n  \n  public void assignId() {\n    if (StringUtil.isBlank(id)) {\n      id = UUID.randomUUID().toString();\n    }\n  }\n }\n</code></pre>\n<p>You then can use the same concept for persisting and just call assignId on the first object passed in, and use that assigned value in the copy passed into the second persistence unit as well.</p>\n"}],"owner":{"account_id":15482963,"reputation":493,"user_id":11169692,"display_name":"NoobCoder"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":145,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1677475714,"creation_date":1676541391,"question_id":75470545,"body_markdown":"I am facing this issue since long now and I am not aware of this problem in java side. I am working on an old JPA project without prior knowledge in java and Postgres SQL. \r\n\r\nI have an entity class where I can able to push into derby db. But now I want to make a replica of data into Postgres as well . \r\n\r\nEntity class:\r\n\r\n    @Table(name = &quot;certs&quot;)\r\n    public class LocalCertificate implements Serializable {\r\n    \r\n    \tprivate static final long serialVersionUID = -5003848691574858779L;\r\n    \r\n    \t@Expose\r\n    \t@Id\r\n    \t@GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    \tprivate Long id;\r\n    \r\n    \t@Expose\r\n    \t@Column(name = &quot;d_id&quot;)\r\n    \tprivate String d_id;\r\n    \t\r\n    \t@Expose\r\n    \t@Column(name = &quot;certificate&quot;, columnDefinition=&quot;clob&quot;)\r\n    \t@Convert()\r\n    \t@Lob\r\n    \tprivate X509CertificateHolder certificate;\r\n    \t\r\n    \t@Expose\r\n    \t@Column(name = &quot;revoked&quot;)\r\n    \tpublic boolean revoked = false;\r\n    \t\r\n    \tpublic byte[] getCertDER() throws IOException {\r\n    \t\treturn certificate.getEncoded();\r\n    \t}\r\n    \t\r\n    \t\r\n    \tpublic long getId() {\r\n    \t\treturn id.longValue();\r\n    \t}\r\n    \t\r\n    \tpublic String getDId() {\r\n    \t\treturn d_id;\r\n    \t}\r\n    \t\r\n    \tpublic void store() {\r\n    \t\tEntityManagerFactory emf = Persistence.createEntityManagerFactory(&quot;LDB&quot;);\r\n    \t\tEntityManager locEm = emf.createEntityManager();\r\n    \r\n    \t\tEntityTransaction ta = locEm.getTransaction();\r\n    \t\tta.begin();\r\n    \t\tlocEm.persist(this);\r\n    \t\tta.commit();\r\n    \t\t\r\n            // for Postgres\r\n    \t\tEntityManagerFactory eemf = Persistence.createEntityManagerFactory(&quot;PU_CSA&quot;);\r\n    \t\tEntityManager llocEm = eemf.createEntityManager();\r\n    \r\n    \t\tEntityTransaction tta = llocEm.getTransaction();\r\n    \t\ttta.begin();\r\n    \t\tllocEm.persist(this);\r\n    \t\ttta.commit();\r\n    \t}\r\n    \t\r\n    \tpublic void update() {\r\n    \t\tEntityManagerFactory emf = Persistence.createEntityManagerFactory(&quot;LDB&quot;);\r\n    \t\tEntityManager locEm = emf.createEntityManager();\r\n    \r\n    \t\tEntityTransaction ta = locEm.getTransaction();\r\n    \t\t\r\n    \t\tta.begin();\r\n    \t\tlocEm.merge(this);\r\n    \t\tta.commit();\r\n    \t\t\r\n            // for postgres\r\n    \t\tEntityManagerFactory eemf = Persistence.createEntityManagerFactory(&quot;PU_CSA&quot;);\r\n    \t\tEntityManager llocEm = eemf.createEntityManager();\r\n    \r\n    \t\tEntityTransaction tta = llocEm.getTransaction();\r\n    \t\t\r\n    \t\ttta.begin();\r\n    \t\tllocEm.merge(this);\r\n    \t\ttta.commit();\r\n    \t}\r\n    \t\r\n    \tpublic void setD_id(String dId) {\r\n    \t\t// TODO Auto-generated method stub\r\n    \t\tthis.d_id =  dId;\r\n    \t}\r\n    \r\n    \r\n    \tpublic void setCertificate(X509CertificateHolder cert) {\r\n    \t\t// TODO Auto-generated method stub\r\n    \t\tthis.certificate = cert;\t\t\r\n    \t}\r\n    }\r\n\r\n\r\nPersistence xml file:\r\n\r\n    &lt;persistence-unit name=&quot;LDB&quot;&gt;\r\n    \t\t&lt;provider&gt;org.eclipse.persistence.jpa.PersistenceProvider&lt;/provider&gt;\r\n    \t\t&lt;non-jta-data-source&gt;java:comp/env/jdbc/LDB&lt;/non-jta-data-source&gt;\r\n    \t\t&lt;class&gt;org.backend.dao.LocalCertificate&lt;/class&gt;\r\n    \t\t&lt;class&gt;org.backend.certserver.jpa.LocalCertificateAdapter&lt;/class&gt;\r\n    \t\t\r\n    \t\t&lt;properties&gt;\r\n    \t\t\t&lt;!-- EclipseLink should create the database schema automatically --&gt;\r\n    \t\t\t&lt;property name=&quot;eclipselink.ddl-generation&quot; value=&quot;create-or-extend-tables&quot; /&gt;\r\n    \t\t\t&lt;property name=&quot;eclipselink.ddl-generation.output-mode&quot;\tvalue=&quot;database&quot; /&gt;\r\n    \t\t&lt;/properties&gt;\r\n    \t&lt;/persistence-unit&gt;\r\n    \r\n    \t&lt;persistence-unit name=&quot;PU_CSA&quot;&gt;\r\n    \t\t&lt;provider&gt;org.eclipse.persistence.jpa.PersistenceProvider&lt;/provider&gt;\r\n    \t\t&lt;non-jta-data-source&gt;java:comp/env/jdbc/CSA&lt;/non-jta-data-source&gt;\r\n    \t\t&lt;class&gt;org.backend.dao.Device&lt;/class&gt;\r\n    \t\t&lt;class&gt;org.backend.dao.LocalCertificate&lt;/class&gt;\r\n    \t\t&lt;class&gt;org.backend.certserver.jpa.LocalCertificateAdapter&lt;/class&gt;\r\n    \t\t&lt;properties&gt;\r\n    \t\t\t&lt;!-- EclipseLink should create the database schema automatically --&gt;\r\n    \t\t\t&lt;property name=&quot;eclipselink.ddl-generation&quot; value=&quot;create-or-extend-tables&quot; /&gt;\r\n    \t\t\t&lt;property name=&quot;eclipselink.ddl-generation.output-mode&quot;\tvalue=&quot;database&quot; /&gt; \r\n    \t\t&lt;/properties&gt;\r\n    \t&lt;/persistence-unit&gt;\r\n\r\nFor d_id and certificate column I can see NULL value. How to solve this issue ?\r\n\r\n**EDIT:**\r\n\r\nAdding the servlet file where it is failing \r\n\r\n    private void processDevCertRequest(HttpServletResponse response, String devId) throws IOException {\r\n    \r\n    \t\tLocalCertificate newCert = new LocalCertificate();\r\n    \t\tEntityManagerFactory emf = Persistence.createEntityManagerFactory(&quot;LDB&quot;);\r\n    \t\tEntityManager locEm = emf.createEntityManager();\r\n    \r\n    \t\tEntityTransaction ta = locEm.getTransaction();\r\n    \t\tta.begin();\r\n    \t\tlocEm.persist(newCert);\r\n    \t\tta.commit();\r\n    \t\t\r\n    \t\t// postgres\r\n    \t\tEntityManagerFactory posemf = Persistence.createEntityManagerFactory(&quot;PU_CSA&quot;);\r\n    \t\tEntityManager posEm = posemf.createEntityManager();\r\n    \t\tlogger.info(newCert.toString());\r\n    \t\tEntityTransaction posta = posEm.getTransaction();\r\n    \t\tposta.begin();\r\n    \t\tposEm.persist(newCert);\r\n    \t\tposta.commit();\r\n    \t\t\r\n    \t\tBigInteger certID = BigInteger.valueOf(newCert.getId());\r\n    \r\n    \t\tCertificateAuthorithyManager cam = CertificateAuthorithyManager.getInstance();\r\n    \t\tKeyPairCert kpc = cam.generateSignedKeyPairCert(devId, certID);\r\n    \r\n    \t\tString pemcert = CAServletHelper.generatePEMBlock(kpc.cert);\r\n    \t\tString pemkey = CAServletHelper.generatePEMBlock(kpc.keyPair.getPrivate());\r\n    \t\t\r\n    \r\n    \t\tByteArrayOutputStream byteOutput = new ByteArrayOutputStream();\r\n    \t\tZipOutputStream zos = new ZipOutputStream(byteOutput);\r\n    \t\tzos.putNextEntry(new ZipEntry(devId + &quot;_cert.pem&quot;));\r\n    \t\tzos.write(pemcert.getBytes(), 0, pemcert.length());\r\n    \t\tzos.closeEntry();\r\n    \t\tzos.putNextEntry(new ZipEntry(devId + &quot;_key.pem&quot;));\r\n    \t\tzos.write(pemkey.getBytes(), 0, pemkey.length());\r\n    \t\tzos.closeEntry();\r\n    \t\tzos.close();\r\n    \r\n    \t\tnewCert.setDev_id(devId);\r\n    \t\tnewCert.setCertificate(kpc.cert);\r\n    \t\tta.begin();\r\n    \t\tlocEm.merge(newCert);\r\n    \t\tta.commit();\t\t\t&lt;==== here it is failing\r\n    \t\t\r\n    \t\t// postgress\r\n    \t\tnewCert.setDev_id(devId);\r\n    \t\tnewCert.setCertificate(kpc.cert);\r\n    \t\tposta.begin();\r\n    \t\tposEm.merge(newCert);\r\n    \t\tposta.commit();\r\n    \r\n    \t\tOutputStream resos = response.getOutputStream();\r\n    \t\tresponse.setContentType(&quot;application/zip&quot;);\r\n    \t\tresponse.setStatus(HttpServletResponse.SC_CREATED);\r\n    \t\tresponse.setHeader(&quot;Content-Disposition&quot;, &quot;attachment;filename=\\&quot;&quot; + devId + &quot;.zip\\&quot;&quot;);\r\n    \t\tresos.write(byteOutput.toByteArray());\r\n    \t\tresos.flush();\r\n    \t\tbyteOutput.close();\r\n    \t}","title":"The attribute [id] of class &#39;LocalCertificate&#39; is mapped to a primary key column in the database. Updates are not allowed","body":"<p>I am facing this issue since long now and I am not aware of this problem in java side. I am working on an old JPA project without prior knowledge in java and Postgres SQL.</p>\n<p>I have an entity class where I can able to push into derby db. But now I want to make a replica of data into Postgres as well .</p>\n<p>Entity class:</p>\n<pre><code>@Table(name = &quot;certs&quot;)\npublic class LocalCertificate implements Serializable {\n\n    private static final long serialVersionUID = -5003848691574858779L;\n\n    @Expose\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n\n    @Expose\n    @Column(name = &quot;d_id&quot;)\n    private String d_id;\n    \n    @Expose\n    @Column(name = &quot;certificate&quot;, columnDefinition=&quot;clob&quot;)\n    @Convert()\n    @Lob\n    private X509CertificateHolder certificate;\n    \n    @Expose\n    @Column(name = &quot;revoked&quot;)\n    public boolean revoked = false;\n    \n    public byte[] getCertDER() throws IOException {\n        return certificate.getEncoded();\n    }\n    \n    \n    public long getId() {\n        return id.longValue();\n    }\n    \n    public String getDId() {\n        return d_id;\n    }\n    \n    public void store() {\n        EntityManagerFactory emf = Persistence.createEntityManagerFactory(&quot;LDB&quot;);\n        EntityManager locEm = emf.createEntityManager();\n\n        EntityTransaction ta = locEm.getTransaction();\n        ta.begin();\n        locEm.persist(this);\n        ta.commit();\n        \n        // for Postgres\n        EntityManagerFactory eemf = Persistence.createEntityManagerFactory(&quot;PU_CSA&quot;);\n        EntityManager llocEm = eemf.createEntityManager();\n\n        EntityTransaction tta = llocEm.getTransaction();\n        tta.begin();\n        llocEm.persist(this);\n        tta.commit();\n    }\n    \n    public void update() {\n        EntityManagerFactory emf = Persistence.createEntityManagerFactory(&quot;LDB&quot;);\n        EntityManager locEm = emf.createEntityManager();\n\n        EntityTransaction ta = locEm.getTransaction();\n        \n        ta.begin();\n        locEm.merge(this);\n        ta.commit();\n        \n        // for postgres\n        EntityManagerFactory eemf = Persistence.createEntityManagerFactory(&quot;PU_CSA&quot;);\n        EntityManager llocEm = eemf.createEntityManager();\n\n        EntityTransaction tta = llocEm.getTransaction();\n        \n        tta.begin();\n        llocEm.merge(this);\n        tta.commit();\n    }\n    \n    public void setD_id(String dId) {\n        // TODO Auto-generated method stub\n        this.d_id =  dId;\n    }\n\n\n    public void setCertificate(X509CertificateHolder cert) {\n        // TODO Auto-generated method stub\n        this.certificate = cert;        \n    }\n}\n</code></pre>\n<p>Persistence xml file:</p>\n<pre><code>&lt;persistence-unit name=&quot;LDB&quot;&gt;\n        &lt;provider&gt;org.eclipse.persistence.jpa.PersistenceProvider&lt;/provider&gt;\n        &lt;non-jta-data-source&gt;java:comp/env/jdbc/LDB&lt;/non-jta-data-source&gt;\n        &lt;class&gt;org.backend.dao.LocalCertificate&lt;/class&gt;\n        &lt;class&gt;org.backend.certserver.jpa.LocalCertificateAdapter&lt;/class&gt;\n        \n        &lt;properties&gt;\n            &lt;!-- EclipseLink should create the database schema automatically --&gt;\n            &lt;property name=&quot;eclipselink.ddl-generation&quot; value=&quot;create-or-extend-tables&quot; /&gt;\n            &lt;property name=&quot;eclipselink.ddl-generation.output-mode&quot; value=&quot;database&quot; /&gt;\n        &lt;/properties&gt;\n    &lt;/persistence-unit&gt;\n\n    &lt;persistence-unit name=&quot;PU_CSA&quot;&gt;\n        &lt;provider&gt;org.eclipse.persistence.jpa.PersistenceProvider&lt;/provider&gt;\n        &lt;non-jta-data-source&gt;java:comp/env/jdbc/CSA&lt;/non-jta-data-source&gt;\n        &lt;class&gt;org.backend.dao.Device&lt;/class&gt;\n        &lt;class&gt;org.backend.dao.LocalCertificate&lt;/class&gt;\n        &lt;class&gt;org.backend.certserver.jpa.LocalCertificateAdapter&lt;/class&gt;\n        &lt;properties&gt;\n            &lt;!-- EclipseLink should create the database schema automatically --&gt;\n            &lt;property name=&quot;eclipselink.ddl-generation&quot; value=&quot;create-or-extend-tables&quot; /&gt;\n            &lt;property name=&quot;eclipselink.ddl-generation.output-mode&quot; value=&quot;database&quot; /&gt; \n        &lt;/properties&gt;\n    &lt;/persistence-unit&gt;\n</code></pre>\n<p>For d_id and certificate column I can see NULL value. How to solve this issue ?</p>\n<p><strong>EDIT:</strong></p>\n<p>Adding the servlet file where it is failing</p>\n<pre><code>private void processDevCertRequest(HttpServletResponse response, String devId) throws IOException {\n\n        LocalCertificate newCert = new LocalCertificate();\n        EntityManagerFactory emf = Persistence.createEntityManagerFactory(&quot;LDB&quot;);\n        EntityManager locEm = emf.createEntityManager();\n\n        EntityTransaction ta = locEm.getTransaction();\n        ta.begin();\n        locEm.persist(newCert);\n        ta.commit();\n        \n        // postgres\n        EntityManagerFactory posemf = Persistence.createEntityManagerFactory(&quot;PU_CSA&quot;);\n        EntityManager posEm = posemf.createEntityManager();\n        logger.info(newCert.toString());\n        EntityTransaction posta = posEm.getTransaction();\n        posta.begin();\n        posEm.persist(newCert);\n        posta.commit();\n        \n        BigInteger certID = BigInteger.valueOf(newCert.getId());\n\n        CertificateAuthorithyManager cam = CertificateAuthorithyManager.getInstance();\n        KeyPairCert kpc = cam.generateSignedKeyPairCert(devId, certID);\n\n        String pemcert = CAServletHelper.generatePEMBlock(kpc.cert);\n        String pemkey = CAServletHelper.generatePEMBlock(kpc.keyPair.getPrivate());\n        \n\n        ByteArrayOutputStream byteOutput = new ByteArrayOutputStream();\n        ZipOutputStream zos = new ZipOutputStream(byteOutput);\n        zos.putNextEntry(new ZipEntry(devId + &quot;_cert.pem&quot;));\n        zos.write(pemcert.getBytes(), 0, pemcert.length());\n        zos.closeEntry();\n        zos.putNextEntry(new ZipEntry(devId + &quot;_key.pem&quot;));\n        zos.write(pemkey.getBytes(), 0, pemkey.length());\n        zos.closeEntry();\n        zos.close();\n\n        newCert.setDev_id(devId);\n        newCert.setCertificate(kpc.cert);\n        ta.begin();\n        locEm.merge(newCert);\n        ta.commit();            &lt;==== here it is failing\n        \n        // postgress\n        newCert.setDev_id(devId);\n        newCert.setCertificate(kpc.cert);\n        posta.begin();\n        posEm.merge(newCert);\n        posta.commit();\n\n        OutputStream resos = response.getOutputStream();\n        response.setContentType(&quot;application/zip&quot;);\n        response.setStatus(HttpServletResponse.SC_CREATED);\n        response.setHeader(&quot;Content-Disposition&quot;, &quot;attachment;filename=\\&quot;&quot; + devId + &quot;.zip\\&quot;&quot;);\n        resos.write(byteOutput.toByteArray());\n        resos.flush();\n        byteOutput.close();\n    }\n</code></pre>\n"},{"tags":["java","nullpointerexception","http-headers","request","enumeration"],"comments":[{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":2,"creation_date":1464390955,"post_id":37493552,"comment_id":62483316,"body_markdown":"Post the stacktrace and indicate exactly which lines are referenced in the stacktrace.","body":"Post the stacktrace and indicate exactly which lines are referenced in the stacktrace."},{"owner":{"account_id":1166554,"reputation":907,"user_id":1144673,"accept_rate":53,"display_name":"CTsiddharth"},"score":0,"creation_date":1464391122,"post_id":37493552,"comment_id":62483365,"body_markdown":"Stack trace : Caused by: java.lang.NullPointerException\n      at org.apache.tomcat.util.buf.ByteChunk.equalsIgnoreCase(ByteChunk.java:608)\n      at org.apache.tomcat.util.buf.MessageBytes.equalsIgnoreCase(MessageBytes.java:325)\n      at org.apache.tomcat.util.http.NamesEnumerator.findNext(MimeHeaders.java:414)\n      at org.apache.tomcat.util.http.NamesEnumerator.nextElement(MimeHeaders.java:438)\n      at org.apache.tomcat.util.http.NamesEnumerator.nextElement(MimeHeaders.java:396)\n      at generateRequestHeaderMap...","body":"Stack trace : Caused by: java.lang.NullPointerException       at org.apache.tomcat.util.buf.ByteChunk.equalsIgnoreCase(ByteCh&zwnj;&#8203;unk.java:608)       at org.apache.tomcat.util.buf.MessageBytes.equalsIgnoreCase(Mes&zwnj;&#8203;sageBytes.java:325)       at org.apache.tomcat.util.http.NamesEnumerator.findNext(MimeHea&zwnj;&#8203;ders.java:414)       at org.apache.tomcat.util.http.NamesEnumerator.nextElement(Mime&zwnj;&#8203;Headers.java:438)       at org.apache.tomcat.util.http.NamesEnumerator.nextElement(Mime&zwnj;&#8203;Headers.java:396)       at generateRequestHeaderMap..."},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1464392135,"post_id":37493552,"comment_id":62483573,"body_markdown":"What version iof Tomcat?  Precisely.","body":"What version iof Tomcat?  Precisely."},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":3,"creation_date":1464392288,"post_id":37493552,"comment_id":62483599,"body_markdown":"Question: is that your real code; i.e. the actual code giving the exception?   Or has it been edited by you to &quot;clarify&quot; it?","body":"Question: is that your real code; i.e. the actual code giving the exception?   Or has it been edited by you to &quot;clarify&quot; it?"},{"owner":{"account_id":948386,"reputation":2575,"user_id":975123,"accept_rate":75,"display_name":"mekazu"},"score":0,"creation_date":1464395460,"post_id":37493552,"comment_id":62484201,"body_markdown":"These might be useful: https://docs.oracle.com/javase/7/docs/api/java/util/Set.html#equals(java.lang.Object) and https://docs.oracle.com/javase/7/docs/api/java/util/List.html#equals(java.lang.Object)","body":"These might be useful: <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/Set.html#equals(java.lang.Object)\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/7/docs/api/java/util/&hellip;</a> and <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/List.html#equals(java.lang.Object)\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/7/docs/api/java/util/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1464394090,"creation_date":1464393679,"answer_id":37493888,"question_id":37493552,"body_markdown":"I suspect that the problem is caused by a mangled request.  Here is what `findNext()` is doing (in Tomcat 6.0.18):\r\n\r\n    private void  findNext() {\r\n        next=null;\r\n        for(  ; pos&lt; size; pos++ ) {\r\n            next=headers.getName( pos ).toString();\r\n            for( int j=0; j&lt;pos ; j++ ) {\r\n                if( headers.getName( j ).equalsIgnoreCase( next )) {\r\n                    // duplicate.\r\n                    next=null;\r\n                    break;\r\n                }\r\n            }\r\n            if( next!=null ) {\r\n                // it&#39;s not a duplicate\r\n                break;\r\n            }\r\n        }\r\n        // next time findNext is called it will try the\r\n        // next element\r\n        pos++;\r\n    }\r\n\r\nThe salient lines are this:\r\n\r\n    next=headers.getName( pos ).toString();\r\n\r\n    if( headers.getName( j ).equalsIgnoreCase( next )) {\r\n\r\nIf the header is mangled then it may be possible for `getName(j)` to return a `null`.  If that happens, then the `ByteChunk` path for the `equalsIgnoreCase` method will throw an NPE.\r\n\r\nIf you are going to track this down scientifically, you need to:\r\n\r\n  - get hold of the actual raw bytes of the request, and examine them forensically to determine the nature of the corruption (if any)\r\n  - set up a test harness to allow you to run your app on this request with a debugger attached .... and trap the exception at source.\r\n  \r\nThe non-scientific approach would be to upgrade Tomcat to the most recent patch release of Tomcat 6 ... or a later version.  It might fix the problem.  Or not.\r\n\r\nHere&#39;s another report of this problem in Tomcat 6.0.20 from back in 2010:\r\n\r\n  - https://mail-archives.apache.org/mod_mbox/tomcat-users/201002.mbox/%3C4B7EBCE4.1010604@christopherschultz.net%3E","title":"Enumeration Null pointer Exception?","body":"<p>I suspect that the problem is caused by a mangled request.  Here is what <code>findNext()</code> is doing (in Tomcat 6.0.18):</p>\n\n<pre><code>private void  findNext() {\n    next=null;\n    for(  ; pos&lt; size; pos++ ) {\n        next=headers.getName( pos ).toString();\n        for( int j=0; j&lt;pos ; j++ ) {\n            if( headers.getName( j ).equalsIgnoreCase( next )) {\n                // duplicate.\n                next=null;\n                break;\n            }\n        }\n        if( next!=null ) {\n            // it's not a duplicate\n            break;\n        }\n    }\n    // next time findNext is called it will try the\n    // next element\n    pos++;\n}\n</code></pre>\n\n<p>The salient lines are this:</p>\n\n<pre><code>next=headers.getName( pos ).toString();\n\nif( headers.getName( j ).equalsIgnoreCase( next )) {\n</code></pre>\n\n<p>If the header is mangled then it may be possible for <code>getName(j)</code> to return a <code>null</code>.  If that happens, then the <code>ByteChunk</code> path for the <code>equalsIgnoreCase</code> method will throw an NPE.</p>\n\n<p>If you are going to track this down scientifically, you need to:</p>\n\n<ul>\n<li>get hold of the actual raw bytes of the request, and examine them forensically to determine the nature of the corruption (if any)</li>\n<li>set up a test harness to allow you to run your app on this request with a debugger attached .... and trap the exception at source.</li>\n</ul>\n\n<p>The non-scientific approach would be to upgrade Tomcat to the most recent patch release of Tomcat 6 ... or a later version.  It might fix the problem.  Or not.</p>\n\n<p>Here's another report of this problem in Tomcat 6.0.20 from back in 2010:</p>\n\n<ul>\n<li><a href=\"https://mail-archives.apache.org/mod_mbox/tomcat-users/201002.mbox/%3C4B7EBCE4.1010604@christopherschultz.net%3E\" rel=\"nofollow\">https://mail-archives.apache.org/mod_mbox/tomcat-users/201002.mbox/%3C4B7EBCE4.1010604@christopherschultz.net%3E</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":12272015,"reputation":56,"user_id":8957103,"display_name":"bkiselka"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1511891310,"creation_date":1511891310,"answer_id":47537893,"question_id":37493552,"body_markdown":"This is how I successfully patched the Apache Tomcat in JBoss 6.1.0 Final (in deploy/jbossweb.sar/jbossweb.jar) based on Apache Tomcat 6.0.20 source code:\r\n\r\norg.apache.tomcat.util.http.MimeHeaders.NamesEnumerator.findNext()\r\n\r\n        private void findNext() {\r\n            next=null;\r\n            for(  ; pos&lt; size; pos++ ) {\r\n                // (4 lines changed): check mb for null as suggested here: https://stackoverflow.com/questions/37493552/enumeration-null-pointer-exception/37493888#37493888\r\n                MessageBytes mb = headers.getName( pos );\r\n                if (mb != null) {\r\n                    next=mb.toString();\r\n                }\r\n                for( int j=0; j&lt;pos ; j++ ) {\r\n                    // (2 lines changed): check mb and nex for null as suggested here: https://stackoverflow.com/questions/37493552/enumeration-null-pointer-exception/37493888#37493888\r\n                    mb = headers.getName( j );\r\n                    if(mb != null &amp;&amp; next != null &amp;&amp; mb.equalsIgnoreCase( next )) {\r\n                        // duplicate.\r\n                        next=null;\r\n                        break;\r\n                    }\r\n                }\r\n                // new (just 1 comment line): if mb == null we assume next == null, thus it will be a duplicate (i.e. not found, causing no break)\r\n                if( next!=null ) {\r\n                    // it&#39;s not a duplicate\r\n                    break;\r\n                }\r\n            }\r\n            // next time findNext is called it will try the\r\n            // next element\r\n            pos++;\r\n        }\r\n\r\nSure it does not avoid the non-thread safe implementation mentioned in https://mail-archives.apache.org/mod_mbox/tomcat-users/201002.mbox/%3c27699460.post@talk.nabble.com%3e but at least if avoids the NullPointerException during reading unnecessary headers.","title":"Enumeration Null pointer Exception?","body":"<p>This is how I successfully patched the Apache Tomcat in JBoss 6.1.0 Final (in deploy/jbossweb.sar/jbossweb.jar) based on Apache Tomcat 6.0.20 source code:</p>\n\n<p>org.apache.tomcat.util.http.MimeHeaders.NamesEnumerator.findNext()</p>\n\n<pre><code>    private void findNext() {\n        next=null;\n        for(  ; pos&lt; size; pos++ ) {\n            // (4 lines changed): check mb for null as suggested here: https://stackoverflow.com/questions/37493552/enumeration-null-pointer-exception/37493888#37493888\n            MessageBytes mb = headers.getName( pos );\n            if (mb != null) {\n                next=mb.toString();\n            }\n            for( int j=0; j&lt;pos ; j++ ) {\n                // (2 lines changed): check mb and nex for null as suggested here: https://stackoverflow.com/questions/37493552/enumeration-null-pointer-exception/37493888#37493888\n                mb = headers.getName( j );\n                if(mb != null &amp;&amp; next != null &amp;&amp; mb.equalsIgnoreCase( next )) {\n                    // duplicate.\n                    next=null;\n                    break;\n                }\n            }\n            // new (just 1 comment line): if mb == null we assume next == null, thus it will be a duplicate (i.e. not found, causing no break)\n            if( next!=null ) {\n                // it's not a duplicate\n                break;\n            }\n        }\n        // next time findNext is called it will try the\n        // next element\n        pos++;\n    }\n</code></pre>\n\n<p>Sure it does not avoid the non-thread safe implementation mentioned in <a href=\"https://mail-archives.apache.org/mod_mbox/tomcat-users/201002.mbox/%3c27699460.post@talk.nabble.com%3e\" rel=\"nofollow noreferrer\">https://mail-archives.apache.org/mod_mbox/tomcat-users/201002.mbox/%3c27699460.post@talk.nabble.com%3e</a> but at least if avoids the NullPointerException during reading unnecessary headers.</p>\n"},{"tags":[],"owner":{"account_id":1909405,"reputation":111,"user_id":1723621,"display_name":"Michael Assraf"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677474728,"creation_date":1677474728,"answer_id":75576952,"question_id":37493552,"body_markdown":"I know it&#39;s ugly but that&#39;s what I did:\r\n\r\n    public HashMap&lt;String, String&gt; fetchAllHeadersAsHashMap(HttpServletResponse httpServletResponse) {\r\n        HashMap&lt;String, String&gt; headers = new HashMap&lt;&gt;();\r\n        Collection&lt;String&gt; headerNames = null;\r\n\r\n        int retries = 0;\r\n        int maxRetries = 5;\r\n        \r\n        //this is a bug in tomcat, which doesn&#39;t return the headers in case someone else is removing or adding a header\r\n        while (headerNames == null) {\r\n            if (retries &gt;= maxRetries) {\r\n                break;\r\n            }\r\n            try {\r\n                if (retries &gt; 0) {\r\n                    Thread.sleep(100);\r\n                }\r\n                headerNames = new ArrayList&lt;&gt;(httpServletResponse.getHeaderNames());\r\n            } catch (Throwable th) {\r\n            }\r\n            retries = retries + 1;\r\n        }\r\n\r\n        if (org.apache.commons.collections4.CollectionUtils.isEmpty(headerNames)) {\r\n            return headers;\r\n        }\r\n\r\n        for (String headerName : headerNames) {\r\n            Object value = null;\r\n            try {\r\n                value = httpServletResponse.getHeader(headerName);\r\n            } catch (Throwable th) {\r\n\r\n            }\r\n            if (value == null) {\r\n                continue;\r\n            }\r\n\r\n            headers.put(headerName, httpServletResponse.getHeader(headerName));\r\n        }\r\n        return headers;\r\n    }","title":"Enumeration Null pointer Exception?","body":"<p>I know it's ugly but that's what I did:</p>\n<pre><code>public HashMap&lt;String, String&gt; fetchAllHeadersAsHashMap(HttpServletResponse httpServletResponse) {\n    HashMap&lt;String, String&gt; headers = new HashMap&lt;&gt;();\n    Collection&lt;String&gt; headerNames = null;\n\n    int retries = 0;\n    int maxRetries = 5;\n    \n    //this is a bug in tomcat, which doesn't return the headers in case someone else is removing or adding a header\n    while (headerNames == null) {\n        if (retries &gt;= maxRetries) {\n            break;\n        }\n        try {\n            if (retries &gt; 0) {\n                Thread.sleep(100);\n            }\n            headerNames = new ArrayList&lt;&gt;(httpServletResponse.getHeaderNames());\n        } catch (Throwable th) {\n        }\n        retries = retries + 1;\n    }\n\n    if (org.apache.commons.collections4.CollectionUtils.isEmpty(headerNames)) {\n        return headers;\n    }\n\n    for (String headerName : headerNames) {\n        Object value = null;\n        try {\n            value = httpServletResponse.getHeader(headerName);\n        } catch (Throwable th) {\n\n        }\n        if (value == null) {\n            continue;\n        }\n\n        headers.put(headerName, httpServletResponse.getHeader(headerName));\n    }\n    return headers;\n}\n</code></pre>\n"}],"owner":{"account_id":1166554,"reputation":907,"user_id":1144673,"accept_rate":53,"display_name":"CTsiddharth"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2543,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":3,"score":2,"last_activity_date":1677474728,"creation_date":1464390863,"question_id":37493552,"body_markdown":"Hi I am using the HttpServletRequest and trying to get the set of headers set. \r\n\r\nHere is the code : \r\n\r\n    public static Map&lt;String, String&gt; getHeaders(HttpServletRequest request) { \r\n       Map&lt;String, String&gt; headers = new HashMap&lt;String, String&gt;();\r\n    \r\n      Enumeration&lt;String&gt; headerNames = request.getHeaderNames(); \r\n      if (headerNames != null) {\r\n                while (headerNames.hasMoreElements()) {\r\n                    String headerName = headerNames.nextElement();\r\n                    String header = request.getHeader(headerName);\r\n                    headers.put(headerName, header);\r\n                }\r\n            }\r\n            return headers;\r\n    \r\n    }\r\n\r\nThis method seems to be throwing a Null pointer exception at the headerNames.nextElement(). \r\n\r\nIs it possible that the hasMoreElements check returns true but the element headerNames.nextElement in turn causes the null pointer exception? \r\n\r\nStack Trace :  \t \t\r\n\r\n        Stack trace : Caused by: java.lang.NullPointerException at org.apache.tomcat.util.buf.ByteChunk.equalsIgnoreCase(ByteChunk.java:608) at \r\n    org.apache.tomcat.util.buf.MessageBytes.equalsIgnoreCase(MessageBytes.java:325) \r\n    at org.apache.tomcat.util.http.NamesEnumerator.findNext(MimeHeaders.java:414) at org.apache.tomcat.util.http.NamesEnumerator.nextElement(MimeHeaders.java:438) \r\n    at org.apache.tomcat.util.http.NamesEnumerator.nextElement(MimeHeaders.java:396) at generateRequestHeaderMap...\r\n\r\nIt would be great if you guys could help me out with this issue. ","title":"Enumeration Null pointer Exception?","body":"<p>Hi I am using the HttpServletRequest and trying to get the set of headers set. </p>\n\n<p>Here is the code : </p>\n\n<pre><code>public static Map&lt;String, String&gt; getHeaders(HttpServletRequest request) { \n   Map&lt;String, String&gt; headers = new HashMap&lt;String, String&gt;();\n\n  Enumeration&lt;String&gt; headerNames = request.getHeaderNames(); \n  if (headerNames != null) {\n            while (headerNames.hasMoreElements()) {\n                String headerName = headerNames.nextElement();\n                String header = request.getHeader(headerName);\n                headers.put(headerName, header);\n            }\n        }\n        return headers;\n\n}\n</code></pre>\n\n<p>This method seems to be throwing a Null pointer exception at the headerNames.nextElement(). </p>\n\n<p>Is it possible that the hasMoreElements check returns true but the element headerNames.nextElement in turn causes the null pointer exception? </p>\n\n<p>Stack Trace :       </p>\n\n<pre><code>    Stack trace : Caused by: java.lang.NullPointerException at org.apache.tomcat.util.buf.ByteChunk.equalsIgnoreCase(ByteChunk.java:608) at \norg.apache.tomcat.util.buf.MessageBytes.equalsIgnoreCase(MessageBytes.java:325) \nat org.apache.tomcat.util.http.NamesEnumerator.findNext(MimeHeaders.java:414) at org.apache.tomcat.util.http.NamesEnumerator.nextElement(MimeHeaders.java:438) \nat org.apache.tomcat.util.http.NamesEnumerator.nextElement(MimeHeaders.java:396) at generateRequestHeaderMap...\n</code></pre>\n\n<p>It would be great if you guys could help me out with this issue. </p>\n"},{"tags":["java","ubuntu","solr","garbage-collection"],"owner":{"account_id":22339287,"reputation":67,"user_id":16559296,"display_name":"RandomUser123"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":132,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677474355,"creation_date":1677474355,"question_id":75576923,"body_markdown":"It&#39;s important to add, this is a server with nothing else running - CPU usage is &lt;1%\r\n\r\n\r\n\r\nI will admit I don&#39;t understand a lot of what these Solr logs are saying - on my own PC, the Solr DB is running lightning fast - however, on the real server, it can be anywhere from at best &#39;ok&#39; to at worst horrific - 20s for a simple query on an index with only 100 documents\r\n\r\n\r\n\r\n```\r\n\r\n[2023-02-27T02:51:45.298+0100][150391.150s] GC(95) Pause Young (Normal) (G1 Evacuation Pause) 69M-&gt;45M(512M) 195.475ms\r\n\r\n[2023-02-27T02:51:45.299+0100][150391.150s] GC(95) User=0.52s Sys=0.00s Real=0.20s\r\n\r\n[2023-02-27T03:23:08.276+0100][152274.128s] GC(96) Pause Young (Normal) (G1 Evacuation Pause)\r\n\r\n[2023-02-27T03:23:08.282+0100][152274.134s] GC(96) Using 4 workers of 4 for evacuation\r\n\r\n[2023-02-27T03:23:08.481+0100][152274.332s] GC(96) Pre Evacuate Collection Set: 68.7ms\r\n\r\n[2023-02-27T03:23:08.481+0100][152274.332s] GC(96) Evacuate Collection Set: 107.2ms\r\n\r\n[2023-02-27T03:23:08.481+0100][152274.332s] GC(96) Post Evacuate Collection Set: 10.7ms\r\n\r\n[2023-02-27T03:23:08.481+0100][152274.333s] GC(96) Other: 23.7ms\r\n\r\n[2023-02-27T03:23:08.481+0100][152274.333s] GC(96) Eden regions: 24-&gt;0(24)\r\n\r\n[2023-02-27T03:23:08.481+0100][152274.333s] GC(96) Survivor regions: 1-&gt;1(4)\r\n\r\n[2023-02-27T03:23:08.481+0100][152274.333s] GC(96) Old regions: 43-&gt;43\r\n\r\n[2023-02-27T03:23:08.481+0100][152274.333s] GC(96) Humongous regions: 4-&gt;4\r\n\r\n[2023-02-27T03:23:08.482+0100][152274.333s] GC(96) Metaspace: 59071K(61392K)-&gt;59071K(61392K) NonClass: 52071K(53424K)-&gt;52071K(53424K) Class: 7000K(7968K)-&gt;7000K(7968K)\r\n\r\n[2023-02-27T03:23:08.483+0100][152274.335s] GC(96) Pause Young (Normal) (G1 Evacuation Pause) 69M-&gt;45M(512M) 208.543ms\r\n\r\n[2023-02-27T03:23:08.484+0100][152274.335s] GC(96) User=0.47s Sys=0.02s Real=0.21s\r\n\r\n[2023-02-27T03:55:11.055+0100][154196.907s] GC(97) Pause Young (Normal) (G1 Evacuation Pause)\r\n\r\n[2023-02-27T03:55:11.068+0100][154196.920s] GC(97) Using 4 workers of 4 for evacuation\r\n\r\n[2023-02-27T03:55:11.311+0100][154197.163s] GC(97) Pre Evacuate Collection Set: 39.2ms\r\n\r\n[2023-02-27T03:55:11.312+0100][154197.163s] GC(97) Evacuate Collection Set: 167.2ms\r\n\r\n[2023-02-27T03:55:11.312+0100][154197.163s] GC(97) Post Evacuate Collection Set: 17.8ms\r\n\r\n[2023-02-27T03:55:11.312+0100][154197.164s] GC(97) Other: 39.5ms\r\n\r\n[2023-02-27T03:55:11.312+0100][154197.164s] GC(97) Eden regions: 24-&gt;0(24)\r\n\r\n[2023-02-27T03:55:11.312+0100][154197.164s] GC(97) Survivor regions: 1-&gt;1(4)\r\n\r\n[2023-02-27T03:55:11.312+0100][154197.164s] GC(97) Old regions: 43-&gt;43\r\n\r\n[2023-02-27T03:55:11.312+0100][154197.164s] GC(97) Humongous regions: 4-&gt;4\r\n\r\n[2023-02-27T03:55:11.313+0100][154197.165s] GC(97) Metaspace: 59075K(61392K)-&gt;59075K(61392K) NonClass: 52075K(53424K)-&gt;52075K(53424K) Class: 7000K(7968K)-&gt;7000K(7968K)\r\n\r\n[2023-02-27T03:55:11.315+0100][154197.167s] GC(97) Pause Young (Normal) (G1 Evacuation Pause) 69M-&gt;45M(512M) 260.283ms\r\n\r\n[2023-02-27T03:55:11.315+0100][154197.167s] GC(97) User=0.62s Sys=0.08s Real=0.26s\r\n\r\n[2023-02-27T04:26:45.207+0100][156091.059s] GC(98) Pause Young (Normal) (G1 Evacuation Pause)\r\n\r\n[2023-02-27T04:26:45.210+0100][156091.061s] GC(98) Using 4 workers of 4 for evacuation\r\n\r\n[2023-02-27T04:26:45.634+0100][156091.485s] GC(98) MMU target violated: 251.0ms (250.0ms/251.0ms)\r\n\r\n[2023-02-27T04:26:45.635+0100][156091.486s] GC(98) Pre Evacuate Collection Set: 35.7ms\r\n\r\n[2023-02-27T04:26:45.635+0100][156091.486s] GC(98) Evacuate Collection Set: 343.2ms\r\n\r\n[2023-02-27T04:26:45.635+0100][156091.486s] GC(98) Post Evacuate Collection Set: 29.2ms\r\n\r\n[2023-02-27T04:26:45.635+0100][156091.487s] GC(98) Other: 25.5ms\r\n\r\n[2023-02-27T04:26:45.635+0100][156091.487s] GC(98) Eden regions: 24-&gt;0(24)\r\n\r\n[2023-02-27T04:26:45.635+0100][156091.487s] GC(98) Survivor regions: 1-&gt;1(4)\r\n\r\n[2023-02-27T04:26:45.635+0100][156091.487s] GC(98) Old regions: 43-&gt;43\r\n\r\n[2023-02-27T04:26:45.635+0100][156091.487s] GC(98) Humongous regions: 4-&gt;4\r\n\r\n[2023-02-27T04:26:45.637+0100][156091.488s] GC(98) Metaspace: 59075K(61392K)-&gt;59075K(61392K) NonClass: 52075K(53424K)-&gt;52075K(53424K) Class: 7000K(7968K)-&gt;7000K(7968K)\r\n\r\n[2023-02-27T04:26:45.639+0100][156091.490s] GC(98) Pause Young (Normal) (G1 Evacuation Pause) 69M-&gt;45M(512M) 432.468ms\r\n\r\n[2023-02-27T04:26:45.639+0100][156091.490s] GC(98) User=1.26s Sys=0.05s Real=0.44s\r\n\r\n[2023-02-27T04:58:48.755+0100][158014.629s] GC(99) Pause Young (Normal) (G1 Evacuation Pause)\r\n\r\n[2023-02-27T04:58:48.836+0100][158014.687s] GC(99) Using 4 workers of 4 for evacuation\r\n\r\n[2023-02-27T04:58:51.244+0100][158017.095s] GC(99) MMU target violated: 251.0ms (250.0ms/251.0ms)\r\n\r\n[2023-02-27T04:58:51.252+0100][158017.103s] GC(99) Pre Evacuate Collection Set: 565.8ms\r\n\r\n[2023-02-27T04:58:51.252+0100][158017.104s] GC(99) Evacuate Collection Set: 1652.8ms\r\n\r\n[2023-02-27T04:58:51.252+0100][158017.104s] GC(99) Post Evacuate Collection Set: 59.4ms\r\n\r\n[2023-02-27T04:58:51.267+0100][158017.118s] GC(99) Other: 267.3ms\r\n\r\n[2023-02-27T04:58:51.269+0100][158017.120s] GC(99) Eden regions: 24-&gt;0(24)\r\n\r\n[2023-02-27T04:58:51.269+0100][158017.120s] GC(99) Survivor regions: 1-&gt;1(4)\r\n\r\n[2023-02-27T04:58:51.269+0100][158017.120s] GC(99) Old regions: 43-&gt;43\r\n\r\n[2023-02-27T04:58:51.269+0100][158017.120s] GC(99) Humongous regions: 4-&gt;4\r\n\r\n[2023-02-27T04:58:51.299+0100][158017.150s] GC(99) Metaspace: 59075K(61392K)-&gt;59075K(61392K) NonClass: 52075K(53424K)-&gt;52075K(53424K) Class: 7000K(7968K)-&gt;7000K(7968K)\r\n\r\n[2023-02-27T04:58:51.326+0100][158017.178s] GC(99) Pause Young (Normal) (G1 Evacuation Pause) 69M-&gt;45M(512M) 2578.108ms\r\n\r\n[2023-02-27T04:58:51.327+0100][158017.178s] GC(99) User=6.85s Sys=0.00s Real=2.58s\r\n\r\n```\r\n\r\n\r\n\r\nHere is some system info:\r\n\r\n\r\n\r\n```\r\n\r\n{\r\n\r\n&quot;responseHeader&quot;:{\r\n\r\n&quot;status&quot;:0,\r\n\r\n&quot;QTime&quot;:1518},\r\n\r\n&quot;mode&quot;:&quot;solrcloud&quot;,\r\n\r\n&quot;zkHost&quot;:&quot;localhost:9983&quot;,\r\n\r\n&quot;solr_home&quot;:&quot;/home/my_fake_solr_dir&quot;,\r\n\r\n&quot;core_root&quot;:&quot;/home/my_fake_solr_dir&quot;,\r\n\r\n&quot;lucene&quot;:{\r\n\r\n&quot;solr-spec-version&quot;:&quot;9.1.0&quot;,\r\n\r\n&quot;solr-impl-version&quot;:&quot;9.1.0 aa4f3d98ab19c201e7f3c74cd14c99174148616d - ishan - 2022-11-11 13:00:47&quot;,\r\n\r\n&quot;lucene-spec-version&quot;:&quot;9.3.0&quot;,\r\n\r\n&quot;lucene-impl-version&quot;:&quot;9.3.0 d25cebcef7a80369f4dfb9285ca7360a810b75dc - ivera - 2022-07-25 12:30:23&quot;},\r\n\r\n&quot;jvm&quot;:{\r\n\r\n&quot;version&quot;:&quot;11.0.17 11.0.17+8-post-Ubuntu-1ubuntu222.04&quot;,\r\n\r\n&quot;name&quot;:&quot;Ubuntu OpenJDK 64-Bit Server VM&quot;,\r\n\r\n&quot;spec&quot;:{\r\n\r\n&quot;vendor&quot;:&quot;Oracle Corporation&quot;,\r\n\r\n&quot;name&quot;:&quot;Java Platform API Specification&quot;,\r\n\r\n&quot;version&quot;:&quot;11&quot;},\r\n\r\n&quot;jre&quot;:{\r\n\r\n&quot;vendor&quot;:&quot;Ubuntu&quot;,\r\n\r\n&quot;version&quot;:&quot;11.0.17&quot;},\r\n\r\n&quot;vm&quot;:{\r\n\r\n&quot;vendor&quot;:&quot;Ubuntu&quot;,\r\n\r\n&quot;name&quot;:&quot;OpenJDK 64-Bit Server VM&quot;,\r\n\r\n&quot;version&quot;:&quot;11.0.17+8-post-Ubuntu-1ubuntu222.04&quot;},\r\n\r\n&quot;processors&quot;:4,\r\n\r\n&quot;memory&quot;:{\r\n\r\n&quot;free&quot;:&quot;452.6 MB&quot;,\r\n\r\n&quot;total&quot;:&quot;512 MB&quot;,\r\n\r\n&quot;max&quot;:&quot;512 MB&quot;,\r\n\r\n&quot;used&quot;:&quot;59.4 MB (%11.6)&quot;,\r\n\r\n&quot;raw&quot;:{\r\n\r\n&quot;free&quot;:474614344,\r\n\r\n&quot;total&quot;:536870912,\r\n\r\n&quot;max&quot;:536870912,\r\n\r\n&quot;used&quot;:62256568,\r\n\r\n&quot;used%&quot;:11.596189439296722}},\r\n\r\n&quot;jmx&quot;:{\r\n\r\n&quot;classpath&quot;:&quot;start.jar&quot;,\r\n\r\n&quot;commandLineArgs&quot;:[&quot;-Xms512m&quot;,\r\n\r\n&quot;-Xmx512m&quot;,\r\n\r\n&quot;-XX:+UseG1GC&quot;,\r\n\r\n&quot;-XX:+PerfDisableSharedMem&quot;,\r\n\r\n&quot;-XX:+ParallelRefProcEnabled&quot;,\r\n\r\n&quot;-XX:MaxGCPauseMillis=250&quot;,\r\n\r\n&quot;-XX:+UseLargePages&quot;,\r\n\r\n&quot;-XX:+AlwaysPreTouch&quot;,\r\n\r\n&quot;-XX:+ExplicitGCInvokesConcurrent&quot;,\r\n\r\n&quot;-Xlog:gc*:file=/home/my_fake_solr_dir/logs/solr_gc.log:time,uptime:filecount=9,filesize=20M&quot;,\r\n\r\n&quot;-Dsolr.jetty.inetaccess.includes=&quot;,\r\n\r\n&quot;-Dsolr.jetty.inetaccess.excludes=&quot;,\r\n\r\n&quot;-DzkClientTimeout=30000&quot;,\r\n\r\n&quot;-DzkRun&quot;,\r\n\r\n&quot;-Dsolr.log.dir=/home/my_fake_solr_dir/logs&quot;,\r\n\r\n&quot;-Djetty.port=8983&quot;,\r\n\r\n&quot;-DSTOP.PORT=7983&quot;,\r\n\r\n&quot;-DSTOP.KEY=solrrocks&quot;,\r\n\r\n&quot;-Dhost=localhost&quot;,\r\n\r\n&quot;-Duser.timezone=UTC&quot;,\r\n\r\n&quot;-XX:-OmitStackTraceInFastThrow&quot;,\r\n\r\n&quot;-XX:OnOutOfMemoryError=/home/solr/solr/bin/oom_solr.sh 8983 /home/my_fake_solr_dir/logs&quot;,\r\n\r\n&quot;-Djetty.home=/home/my_fake_solr_dir&quot;,\r\n\r\n&quot;-Dsolr.solr.home=/home/my_fake_solr_dir&quot;,\r\n\r\n&quot;-Dsolr.data.home=&quot;,\r\n\r\n&quot;-Dsolr.install.dir=/home/solr/solr&quot;,\r\n\r\n&quot;-Dsolr.default.confdir=/home/my_fake_solr_dir/configsets/_default/conf&quot;,\r\n\r\n&quot;-Xss256k&quot;,\r\n\r\n&quot;-Dsolr.httpclient.builder.factory=org.apache.solr.client.solrj.impl.PreemptiveBasicAuthClientBuilderFactory&quot;,\r\n\r\n&quot;-Dsolr.httpclient.config=/home/my_fake_solr_dir/basicAuth.conf&quot;,\r\n\r\n&quot;-Djava.security.manager&quot;,\r\n\r\n&quot;-Djava.security.policy=/home/my_fake_solr_dir/etc/security.policy&quot;,\r\n\r\n&quot;-Djava.security.properties=/home/my_fake_solr_dir/etc/security.properties&quot;,\r\n\r\n&quot;-Dsolr.internal.network.permission=*&quot;,\r\n\r\n&quot;-DdisableAdminUI=false&quot;,\r\n\r\n&quot;-Dsolr.log.muteconsole&quot;],\r\n\r\n&quot;startTime&quot;:&quot;2023-02-25T08:05:14.426Z&quot;,\r\n\r\n&quot;upTimeMS&quot;:160780753}},\r\n\r\n&quot;security&quot;:{\r\n\r\n&quot;authenticationPlugin&quot;:&quot;org.apache.solr.security.BasicAuthPlugin&quot;,\r\n\r\n&quot;authorizationPlugin&quot;:&quot;org.apache.solr.security.RuleBasedAuthorizationPlugin&quot;,\r\n\r\n&quot;username&quot;:&quot;c3N3VQQe8N2GwpUcV8ukCQv9m4FnZfEv&quot;,\r\n\r\n&quot;roles&quot;:[&quot;admin&quot;],\r\n\r\n&quot;permissions&quot;:[&quot;all&quot;,\r\n\r\n&quot;collection-admin-edit&quot;,\r\n\r\n&quot;core-admin-edit&quot;,\r\n\r\n&quot;security-read&quot;,\r\n\r\n&quot;config-edit&quot;,\r\n\r\n&quot;security-edit&quot;,\r\n\r\n&quot;config-read&quot;,\r\n\r\n&quot;collection-admin-read&quot;,\r\n\r\n&quot;core-admin-read&quot;],\r\n\r\n&quot;tls&quot;:false},\r\n\r\n&quot;system&quot;:{\r\n\r\n&quot;name&quot;:&quot;Linux&quot;,\r\n\r\n&quot;arch&quot;:&quot;amd64&quot;,\r\n\r\n&quot;availableProcessors&quot;:4,\r\n\r\n&quot;systemLoadAverage&quot;:0.31787109375,\r\n\r\n&quot;version&quot;:&quot;5.15.0-57-generic&quot;,\r\n\r\n&quot;committedVirtualMemorySize&quot;:4286169088,\r\n\r\n&quot;freePhysicalMemorySize&quot;:7358455808,\r\n\r\n&quot;freeSwapSpaceSize&quot;:0,\r\n\r\n&quot;processCpuLoad&quot;:0.2727272727272727,\r\n\r\n&quot;processCpuTime&quot;:5381650000000,\r\n\r\n&quot;systemCpuLoad&quot;:0.18181818181818182,\r\n\r\n&quot;totalPhysicalMemorySize&quot;:8335638528,\r\n\r\n&quot;totalSwapSpaceSize&quot;:0,\r\n\r\n&quot;maxFileDescriptorCount&quot;:65000,\r\n\r\n&quot;openFileDescriptorCount&quot;:174},\r\n\r\n&quot;node&quot;:&quot;localhost:8983_solr&quot;}\r\n\r\n```\r\n\r\n\r\n\r\nAnd some more:\r\n\r\n\r\n\r\n```\r\n\r\n{\r\n\r\n&quot;responseHeader&quot;:{\r\n\r\n&quot;status&quot;:0,\r\n\r\n&quot;QTime&quot;:318},\r\n\r\n&quot;system.properties&quot;:{\r\n\r\n&quot;java.vendor&quot;:&quot;Ubuntu&quot;,\r\n\r\n&quot;sun.java.launcher&quot;:&quot;SUN_STANDARD&quot;,\r\n\r\n&quot;sun.management.compiler&quot;:&quot;HotSpot 64-Bit Tiered Compilers&quot;,\r\n\r\n&quot;os.name&quot;:&quot;Linux&quot;,\r\n\r\n&quot;solr.jetty.inetaccess.includes&quot;:&quot;&quot;,\r\n\r\n&quot;java.vm.specification.vendor&quot;:&quot;Oracle Corporation&quot;,\r\n\r\n&quot;java.runtime.version&quot;:&quot;11.0.17+8-post-Ubuntu-1ubuntu222.04&quot;,\r\n\r\n&quot;STOP.KEY&quot;:&quot;solrrocks&quot;,\r\n\r\n&quot;user.name&quot;:&quot;solr&quot;,\r\n\r\n&quot;solr.log.muteconsole&quot;:&quot;&quot;,\r\n\r\n&quot;solr.solr.home&quot;:&quot;/home/my_fake_solr_dir/solr&quot;,\r\n\r\n&quot;user.language&quot;:&quot;en&quot;,\r\n\r\n&quot;sun.boot.library.path&quot;:&quot;/usr/lib/jvm/java-11-openjdk-amd64/lib&quot;,\r\n\r\n&quot;solr.httpclient.config&quot;:&quot;/home/my_fake_solr_dir/solr/basicAuth.conf&quot;,\r\n\r\n&quot;java.vm.compressedOopsMode&quot;:&quot;32-bit&quot;,\r\n\r\n&quot;java.version&quot;:&quot;11.0.17&quot;,\r\n\r\n&quot;user.timezone&quot;:&quot;UTC&quot;,\r\n\r\n&quot;jetty.base&quot;:&quot;/home/my_fake_solr_dir&quot;,\r\n\r\n&quot;sun.arch.data.model&quot;:&quot;64&quot;,\r\n\r\n&quot;jetty.port&quot;:&quot;8983&quot;,\r\n\r\n&quot;sun.cpu.isalist&quot;:&quot;&quot;,\r\n\r\n&quot;sun.jnu.encoding&quot;:&quot;UTF-8&quot;,\r\n\r\n&quot;file.separator&quot;:&quot;/&quot;,\r\n\r\n&quot;java.specification.name&quot;:&quot;Java Platform API Specification&quot;,\r\n\r\n&quot;java.class.version&quot;:&quot;55.0&quot;,\r\n\r\n&quot;java.security.properties&quot;:&quot;/home/my_fake_solr_dir/etc/security.properties&quot;,\r\n\r\n&quot;jetty.git.hash&quot;:&quot;6b67c5719d1f4371b33655ff2d047d24e171e49a&quot;,\r\n\r\n&quot;user.country&quot;:&quot;US&quot;,\r\n\r\n&quot;java.home&quot;:&quot;/usr/lib/jvm/java-11-openjdk-amd64&quot;,\r\n\r\n&quot;java.vm.info&quot;:&quot;mixed mode, sharing&quot;,\r\n\r\n&quot;solr.internal.network.permission&quot;:&quot;*&quot;,\r\n\r\n&quot;os.version&quot;:&quot;5.15.0-57-generic&quot;,\r\n\r\n&quot;solr.log.dir&quot;:&quot;/home/my_fake_solr_dir/logs&quot;,\r\n\r\n&quot;solr.httpclient.builder.factory&quot;:&quot;org.apache.solr.client.solrj.impl.PreemptiveBasicAuthClientBuilderFactory&quot;,\r\n\r\n&quot;solr.jetty.inetaccess.excludes&quot;:&quot;&quot;,\r\n\r\n&quot;path.separator&quot;:&quot;:&quot;,\r\n\r\n&quot;java.vm.version&quot;:&quot;11.0.17+8-post-Ubuntu-1ubuntu222.04&quot;,\r\n\r\n&quot;jetty.tag.version&quot;:&quot;jetty-9.4.48.v20220622&quot;,\r\n\r\n&quot;java.awt.printerjob&quot;:&quot;sun.print.PSPrinterJob&quot;,\r\n\r\n&quot;java.security.policy&quot;:&quot;/home/my_fake_solr_dir/etc/security.policy&quot;,\r\n\r\n&quot;jdk.tls.rejectClientInitiatedRenegotiation&quot;:&quot;true&quot;,\r\n\r\n&quot;sun.io.unicode.encoding&quot;:&quot;UnicodeLittle&quot;,\r\n\r\n&quot;awt.toolkit&quot;:&quot;sun.awt.X11.XToolkit&quot;,\r\n\r\n&quot;user.home&quot;:&quot;/home/solr&quot;,\r\n\r\n&quot;java.version.date&quot;:&quot;2022-10-18&quot;,\r\n\r\n&quot;jetty.build&quot;:&quot;6b67c5719d1f4371b33655ff2d047d24e171e49a&quot;,\r\n\r\n&quot;java.specification.vendor&quot;:&quot;Oracle Corporation&quot;,\r\n\r\n&quot;java.library.path&quot;:&quot;/usr/java/packages/lib:/usr/lib/x86_64-linux-gnu/jni:/lib/x86_64-linux-gnu:/usr/lib/x86_64-linux-gnu:/usr/lib/jni:/lib:/usr/lib&quot;,\r\n\r\n&quot;java.vendor.url&quot;:&quot;https://ubuntu.com/&quot;,\r\n\r\n&quot;solr.data.home&quot;:&quot;&quot;,\r\n\r\n&quot;java.vm.vendor&quot;:&quot;Ubuntu&quot;,\r\n\r\n&quot;STOP.PORT&quot;:&quot;7983&quot;,\r\n\r\n&quot;zookeeper.4lw.commands.whitelist&quot;:&quot;ruok, mntr, conf&quot;,\r\n\r\n&quot;disableAdminUI&quot;:&quot;false&quot;,\r\n\r\n&quot;java.runtime.name&quot;:&quot;OpenJDK Runtime Environment&quot;,\r\n\r\n&quot;sun.java.command&quot;:&quot;start.jar --module=http --module=requestlog --module=gzip&quot;,\r\n\r\n&quot;java.class.path&quot;:&quot;start.jar&quot;,\r\n\r\n&quot;zkRun&quot;:&quot;&quot;,\r\n\r\n&quot;jetty.version&quot;:&quot;9.4.48.v20220622&quot;,\r\n\r\n&quot;jdk.debug&quot;:&quot;release&quot;,\r\n\r\n&quot;java.vm.specification.name&quot;:&quot;Java Virtual Machine Specification&quot;,\r\n\r\n&quot;zookeeper.admin.enableServer&quot;:&quot;false&quot;,\r\n\r\n&quot;java.vm.specification.version&quot;:&quot;11&quot;,\r\n\r\n&quot;sun.cpu.endian&quot;:&quot;little&quot;,\r\n\r\n&quot;sun.os.patch.level&quot;:&quot;unknown&quot;,\r\n\r\n&quot;java.io.tmpdir&quot;:&quot;/tmp&quot;,\r\n\r\n&quot;java.vendor.url.bug&quot;:&quot;https://bugs.launchpad.net/ubuntu/+source/openjdk-lts&quot;,\r\n\r\n&quot;zookeeper.jmx.log4j.disable&quot;:&quot;true&quot;,\r\n\r\n&quot;os.arch&quot;:&quot;amd64&quot;,\r\n\r\n&quot;java.awt.graphicsenv&quot;:&quot;sun.awt.X11GraphicsEnvironment&quot;,\r\n\r\n&quot;user.dir&quot;:&quot;/home/my_fake_solr_dir&quot;,\r\n\r\n&quot;java.security.manager&quot;:&quot;&quot;,\r\n\r\n&quot;line.separator&quot;:&quot;\\n&quot;,\r\n\r\n&quot;solr.default.confdir&quot;:&quot;/home/my_fake_solr_dir/solr/configsets/_default/conf&quot;,\r\n\r\n&quot;solr.install.dir&quot;:&quot;/home/solr/solr&quot;,\r\n\r\n&quot;solr.log.requestlog.enabled&quot;:&quot;true&quot;,\r\n\r\n&quot;java.vm.name&quot;:&quot;OpenJDK 64-Bit Server VM&quot;,\r\n\r\n&quot;zkClientTimeout&quot;:&quot;30000&quot;,\r\n\r\n&quot;file.encoding&quot;:&quot;UTF-8&quot;,\r\n\r\n&quot;host&quot;:&quot;localhost&quot;,\r\n\r\n&quot;java.specification.version&quot;:&quot;11&quot;,\r\n\r\n&quot;jetty.home&quot;:&quot;/home/my_fake_solr_dir&quot;}}\r\n\r\n```\r\n\r\n\r\n\r\nHere is the result of me querying for the Solr CLUSTERSTATUS:\r\n\r\n\r\n\r\n```\r\n\r\n{\r\n\r\n&quot;responseHeader&quot;:{\r\n\r\n&quot;status&quot;:0,\r\n\r\n&quot;QTime&quot;:1845},\r\n\r\n&quot;cluster&quot;:{\r\n\r\n&quot;collections&quot;:{\r\n\r\n&quot;testabc&quot;:{\r\n\r\n&quot;pullReplicas&quot;:&quot;0&quot;,\r\n\r\n&quot;configName&quot;:&quot;testabc&quot;,\r\n\r\n&quot;replicationFactor&quot;:&quot;1&quot;,\r\n\r\n&quot;shards&quot;:{&quot;shard1&quot;:{\r\n\r\n&quot;range&quot;:&quot;80000000-7fffffff&quot;,\r\n\r\n&quot;state&quot;:&quot;active&quot;,\r\n\r\n&quot;replicas&quot;:{&quot;core_node2&quot;:{\r\n\r\n&quot;core&quot;:&quot;testabc_shard1_replica_n1&quot;,\r\n\r\n&quot;leader&quot;:&quot;true&quot;,\r\n\r\n&quot;core_node_name&quot;:&quot;core_node2&quot;,\r\n\r\n&quot;node_name&quot;:&quot;localhost:8983_solr&quot;,\r\n\r\n&quot;base_url&quot;:&quot;http://localhost:8983/solr&quot;,\r\n\r\n&quot;state&quot;:&quot;active&quot;,\r\n\r\n&quot;collection&quot;:&quot;testabc&quot;,\r\n\r\n&quot;shard&quot;:&quot;shard1&quot;,\r\n\r\n&quot;type&quot;:&quot;NRT&quot;,\r\n\r\n&quot;force_set_state&quot;:&quot;false&quot;}},\r\n\r\n&quot;health&quot;:&quot;GREEN&quot;}},\r\n\r\n&quot;router&quot;:{&quot;name&quot;:&quot;compositeId&quot;},\r\n\r\n&quot;nrtReplicas&quot;:&quot;1&quot;,\r\n\r\n&quot;tlogReplicas&quot;:&quot;0&quot;,\r\n\r\n&quot;health&quot;:&quot;GREEN&quot;,\r\n\r\n&quot;znodeVersion&quot;:14}},\r\n\r\n&quot;live_nodes&quot;:[&quot;localhost:8983_solr&quot;]}}\r\n\r\n```\r\n\r\n\r\n\r\nI realise this is a mountain of info, but nothing in particular strikes me as odd - if anyone has any ideas what could be the issue, I would appreciate any tips in the right direction\r\n\r\n\r\n\r\nThanks","title":"Java/Solr - extremely slow garbage collection (~7s), commits and queries","body":"<p>It's important to add, this is a server with nothing else running - CPU usage is &lt;1%</p>\n<p>I will admit I don't understand a lot of what these Solr logs are saying - on my own PC, the Solr DB is running lightning fast - however, on the real server, it can be anywhere from at best 'ok' to at worst horrific - 20s for a simple query on an index with only 100 documents</p>\n<pre><code>\n[2023-02-27T02:51:45.298+0100][150391.150s] GC(95) Pause Young (Normal) (G1 Evacuation Pause) 69M-&gt;45M(512M) 195.475ms\n\n[2023-02-27T02:51:45.299+0100][150391.150s] GC(95) User=0.52s Sys=0.00s Real=0.20s\n\n[2023-02-27T03:23:08.276+0100][152274.128s] GC(96) Pause Young (Normal) (G1 Evacuation Pause)\n\n[2023-02-27T03:23:08.282+0100][152274.134s] GC(96) Using 4 workers of 4 for evacuation\n\n[2023-02-27T03:23:08.481+0100][152274.332s] GC(96) Pre Evacuate Collection Set: 68.7ms\n\n[2023-02-27T03:23:08.481+0100][152274.332s] GC(96) Evacuate Collection Set: 107.2ms\n\n[2023-02-27T03:23:08.481+0100][152274.332s] GC(96) Post Evacuate Collection Set: 10.7ms\n\n[2023-02-27T03:23:08.481+0100][152274.333s] GC(96) Other: 23.7ms\n\n[2023-02-27T03:23:08.481+0100][152274.333s] GC(96) Eden regions: 24-&gt;0(24)\n\n[2023-02-27T03:23:08.481+0100][152274.333s] GC(96) Survivor regions: 1-&gt;1(4)\n\n[2023-02-27T03:23:08.481+0100][152274.333s] GC(96) Old regions: 43-&gt;43\n\n[2023-02-27T03:23:08.481+0100][152274.333s] GC(96) Humongous regions: 4-&gt;4\n\n[2023-02-27T03:23:08.482+0100][152274.333s] GC(96) Metaspace: 59071K(61392K)-&gt;59071K(61392K) NonClass: 52071K(53424K)-&gt;52071K(53424K) Class: 7000K(7968K)-&gt;7000K(7968K)\n\n[2023-02-27T03:23:08.483+0100][152274.335s] GC(96) Pause Young (Normal) (G1 Evacuation Pause) 69M-&gt;45M(512M) 208.543ms\n\n[2023-02-27T03:23:08.484+0100][152274.335s] GC(96) User=0.47s Sys=0.02s Real=0.21s\n\n[2023-02-27T03:55:11.055+0100][154196.907s] GC(97) Pause Young (Normal) (G1 Evacuation Pause)\n\n[2023-02-27T03:55:11.068+0100][154196.920s] GC(97) Using 4 workers of 4 for evacuation\n\n[2023-02-27T03:55:11.311+0100][154197.163s] GC(97) Pre Evacuate Collection Set: 39.2ms\n\n[2023-02-27T03:55:11.312+0100][154197.163s] GC(97) Evacuate Collection Set: 167.2ms\n\n[2023-02-27T03:55:11.312+0100][154197.163s] GC(97) Post Evacuate Collection Set: 17.8ms\n\n[2023-02-27T03:55:11.312+0100][154197.164s] GC(97) Other: 39.5ms\n\n[2023-02-27T03:55:11.312+0100][154197.164s] GC(97) Eden regions: 24-&gt;0(24)\n\n[2023-02-27T03:55:11.312+0100][154197.164s] GC(97) Survivor regions: 1-&gt;1(4)\n\n[2023-02-27T03:55:11.312+0100][154197.164s] GC(97) Old regions: 43-&gt;43\n\n[2023-02-27T03:55:11.312+0100][154197.164s] GC(97) Humongous regions: 4-&gt;4\n\n[2023-02-27T03:55:11.313+0100][154197.165s] GC(97) Metaspace: 59075K(61392K)-&gt;59075K(61392K) NonClass: 52075K(53424K)-&gt;52075K(53424K) Class: 7000K(7968K)-&gt;7000K(7968K)\n\n[2023-02-27T03:55:11.315+0100][154197.167s] GC(97) Pause Young (Normal) (G1 Evacuation Pause) 69M-&gt;45M(512M) 260.283ms\n\n[2023-02-27T03:55:11.315+0100][154197.167s] GC(97) User=0.62s Sys=0.08s Real=0.26s\n\n[2023-02-27T04:26:45.207+0100][156091.059s] GC(98) Pause Young (Normal) (G1 Evacuation Pause)\n\n[2023-02-27T04:26:45.210+0100][156091.061s] GC(98) Using 4 workers of 4 for evacuation\n\n[2023-02-27T04:26:45.634+0100][156091.485s] GC(98) MMU target violated: 251.0ms (250.0ms/251.0ms)\n\n[2023-02-27T04:26:45.635+0100][156091.486s] GC(98) Pre Evacuate Collection Set: 35.7ms\n\n[2023-02-27T04:26:45.635+0100][156091.486s] GC(98) Evacuate Collection Set: 343.2ms\n\n[2023-02-27T04:26:45.635+0100][156091.486s] GC(98) Post Evacuate Collection Set: 29.2ms\n\n[2023-02-27T04:26:45.635+0100][156091.487s] GC(98) Other: 25.5ms\n\n[2023-02-27T04:26:45.635+0100][156091.487s] GC(98) Eden regions: 24-&gt;0(24)\n\n[2023-02-27T04:26:45.635+0100][156091.487s] GC(98) Survivor regions: 1-&gt;1(4)\n\n[2023-02-27T04:26:45.635+0100][156091.487s] GC(98) Old regions: 43-&gt;43\n\n[2023-02-27T04:26:45.635+0100][156091.487s] GC(98) Humongous regions: 4-&gt;4\n\n[2023-02-27T04:26:45.637+0100][156091.488s] GC(98) Metaspace: 59075K(61392K)-&gt;59075K(61392K) NonClass: 52075K(53424K)-&gt;52075K(53424K) Class: 7000K(7968K)-&gt;7000K(7968K)\n\n[2023-02-27T04:26:45.639+0100][156091.490s] GC(98) Pause Young (Normal) (G1 Evacuation Pause) 69M-&gt;45M(512M) 432.468ms\n\n[2023-02-27T04:26:45.639+0100][156091.490s] GC(98) User=1.26s Sys=0.05s Real=0.44s\n\n[2023-02-27T04:58:48.755+0100][158014.629s] GC(99) Pause Young (Normal) (G1 Evacuation Pause)\n\n[2023-02-27T04:58:48.836+0100][158014.687s] GC(99) Using 4 workers of 4 for evacuation\n\n[2023-02-27T04:58:51.244+0100][158017.095s] GC(99) MMU target violated: 251.0ms (250.0ms/251.0ms)\n\n[2023-02-27T04:58:51.252+0100][158017.103s] GC(99) Pre Evacuate Collection Set: 565.8ms\n\n[2023-02-27T04:58:51.252+0100][158017.104s] GC(99) Evacuate Collection Set: 1652.8ms\n\n[2023-02-27T04:58:51.252+0100][158017.104s] GC(99) Post Evacuate Collection Set: 59.4ms\n\n[2023-02-27T04:58:51.267+0100][158017.118s] GC(99) Other: 267.3ms\n\n[2023-02-27T04:58:51.269+0100][158017.120s] GC(99) Eden regions: 24-&gt;0(24)\n\n[2023-02-27T04:58:51.269+0100][158017.120s] GC(99) Survivor regions: 1-&gt;1(4)\n\n[2023-02-27T04:58:51.269+0100][158017.120s] GC(99) Old regions: 43-&gt;43\n\n[2023-02-27T04:58:51.269+0100][158017.120s] GC(99) Humongous regions: 4-&gt;4\n\n[2023-02-27T04:58:51.299+0100][158017.150s] GC(99) Metaspace: 59075K(61392K)-&gt;59075K(61392K) NonClass: 52075K(53424K)-&gt;52075K(53424K) Class: 7000K(7968K)-&gt;7000K(7968K)\n\n[2023-02-27T04:58:51.326+0100][158017.178s] GC(99) Pause Young (Normal) (G1 Evacuation Pause) 69M-&gt;45M(512M) 2578.108ms\n\n[2023-02-27T04:58:51.327+0100][158017.178s] GC(99) User=6.85s Sys=0.00s Real=2.58s\n\n</code></pre>\n<p>Here is some system info:</p>\n<pre><code>\n{\n\n&quot;responseHeader&quot;:{\n\n&quot;status&quot;:0,\n\n&quot;QTime&quot;:1518},\n\n&quot;mode&quot;:&quot;solrcloud&quot;,\n\n&quot;zkHost&quot;:&quot;localhost:9983&quot;,\n\n&quot;solr_home&quot;:&quot;/home/my_fake_solr_dir&quot;,\n\n&quot;core_root&quot;:&quot;/home/my_fake_solr_dir&quot;,\n\n&quot;lucene&quot;:{\n\n&quot;solr-spec-version&quot;:&quot;9.1.0&quot;,\n\n&quot;solr-impl-version&quot;:&quot;9.1.0 aa4f3d98ab19c201e7f3c74cd14c99174148616d - ishan - 2022-11-11 13:00:47&quot;,\n\n&quot;lucene-spec-version&quot;:&quot;9.3.0&quot;,\n\n&quot;lucene-impl-version&quot;:&quot;9.3.0 d25cebcef7a80369f4dfb9285ca7360a810b75dc - ivera - 2022-07-25 12:30:23&quot;},\n\n&quot;jvm&quot;:{\n\n&quot;version&quot;:&quot;11.0.17 11.0.17+8-post-Ubuntu-1ubuntu222.04&quot;,\n\n&quot;name&quot;:&quot;Ubuntu OpenJDK 64-Bit Server VM&quot;,\n\n&quot;spec&quot;:{\n\n&quot;vendor&quot;:&quot;Oracle Corporation&quot;,\n\n&quot;name&quot;:&quot;Java Platform API Specification&quot;,\n\n&quot;version&quot;:&quot;11&quot;},\n\n&quot;jre&quot;:{\n\n&quot;vendor&quot;:&quot;Ubuntu&quot;,\n\n&quot;version&quot;:&quot;11.0.17&quot;},\n\n&quot;vm&quot;:{\n\n&quot;vendor&quot;:&quot;Ubuntu&quot;,\n\n&quot;name&quot;:&quot;OpenJDK 64-Bit Server VM&quot;,\n\n&quot;version&quot;:&quot;11.0.17+8-post-Ubuntu-1ubuntu222.04&quot;},\n\n&quot;processors&quot;:4,\n\n&quot;memory&quot;:{\n\n&quot;free&quot;:&quot;452.6 MB&quot;,\n\n&quot;total&quot;:&quot;512 MB&quot;,\n\n&quot;max&quot;:&quot;512 MB&quot;,\n\n&quot;used&quot;:&quot;59.4 MB (%11.6)&quot;,\n\n&quot;raw&quot;:{\n\n&quot;free&quot;:474614344,\n\n&quot;total&quot;:536870912,\n\n&quot;max&quot;:536870912,\n\n&quot;used&quot;:62256568,\n\n&quot;used%&quot;:11.596189439296722}},\n\n&quot;jmx&quot;:{\n\n&quot;classpath&quot;:&quot;start.jar&quot;,\n\n&quot;commandLineArgs&quot;:[&quot;-Xms512m&quot;,\n\n&quot;-Xmx512m&quot;,\n\n&quot;-XX:+UseG1GC&quot;,\n\n&quot;-XX:+PerfDisableSharedMem&quot;,\n\n&quot;-XX:+ParallelRefProcEnabled&quot;,\n\n&quot;-XX:MaxGCPauseMillis=250&quot;,\n\n&quot;-XX:+UseLargePages&quot;,\n\n&quot;-XX:+AlwaysPreTouch&quot;,\n\n&quot;-XX:+ExplicitGCInvokesConcurrent&quot;,\n\n&quot;-Xlog:gc*:file=/home/my_fake_solr_dir/logs/solr_gc.log:time,uptime:filecount=9,filesize=20M&quot;,\n\n&quot;-Dsolr.jetty.inetaccess.includes=&quot;,\n\n&quot;-Dsolr.jetty.inetaccess.excludes=&quot;,\n\n&quot;-DzkClientTimeout=30000&quot;,\n\n&quot;-DzkRun&quot;,\n\n&quot;-Dsolr.log.dir=/home/my_fake_solr_dir/logs&quot;,\n\n&quot;-Djetty.port=8983&quot;,\n\n&quot;-DSTOP.PORT=7983&quot;,\n\n&quot;-DSTOP.KEY=solrrocks&quot;,\n\n&quot;-Dhost=localhost&quot;,\n\n&quot;-Duser.timezone=UTC&quot;,\n\n&quot;-XX:-OmitStackTraceInFastThrow&quot;,\n\n&quot;-XX:OnOutOfMemoryError=/home/solr/solr/bin/oom_solr.sh 8983 /home/my_fake_solr_dir/logs&quot;,\n\n&quot;-Djetty.home=/home/my_fake_solr_dir&quot;,\n\n&quot;-Dsolr.solr.home=/home/my_fake_solr_dir&quot;,\n\n&quot;-Dsolr.data.home=&quot;,\n\n&quot;-Dsolr.install.dir=/home/solr/solr&quot;,\n\n&quot;-Dsolr.default.confdir=/home/my_fake_solr_dir/configsets/_default/conf&quot;,\n\n&quot;-Xss256k&quot;,\n\n&quot;-Dsolr.httpclient.builder.factory=org.apache.solr.client.solrj.impl.PreemptiveBasicAuthClientBuilderFactory&quot;,\n\n&quot;-Dsolr.httpclient.config=/home/my_fake_solr_dir/basicAuth.conf&quot;,\n\n&quot;-Djava.security.manager&quot;,\n\n&quot;-Djava.security.policy=/home/my_fake_solr_dir/etc/security.policy&quot;,\n\n&quot;-Djava.security.properties=/home/my_fake_solr_dir/etc/security.properties&quot;,\n\n&quot;-Dsolr.internal.network.permission=*&quot;,\n\n&quot;-DdisableAdminUI=false&quot;,\n\n&quot;-Dsolr.log.muteconsole&quot;],\n\n&quot;startTime&quot;:&quot;2023-02-25T08:05:14.426Z&quot;,\n\n&quot;upTimeMS&quot;:160780753}},\n\n&quot;security&quot;:{\n\n&quot;authenticationPlugin&quot;:&quot;org.apache.solr.security.BasicAuthPlugin&quot;,\n\n&quot;authorizationPlugin&quot;:&quot;org.apache.solr.security.RuleBasedAuthorizationPlugin&quot;,\n\n&quot;username&quot;:&quot;c3N3VQQe8N2GwpUcV8ukCQv9m4FnZfEv&quot;,\n\n&quot;roles&quot;:[&quot;admin&quot;],\n\n&quot;permissions&quot;:[&quot;all&quot;,\n\n&quot;collection-admin-edit&quot;,\n\n&quot;core-admin-edit&quot;,\n\n&quot;security-read&quot;,\n\n&quot;config-edit&quot;,\n\n&quot;security-edit&quot;,\n\n&quot;config-read&quot;,\n\n&quot;collection-admin-read&quot;,\n\n&quot;core-admin-read&quot;],\n\n&quot;tls&quot;:false},\n\n&quot;system&quot;:{\n\n&quot;name&quot;:&quot;Linux&quot;,\n\n&quot;arch&quot;:&quot;amd64&quot;,\n\n&quot;availableProcessors&quot;:4,\n\n&quot;systemLoadAverage&quot;:0.31787109375,\n\n&quot;version&quot;:&quot;5.15.0-57-generic&quot;,\n\n&quot;committedVirtualMemorySize&quot;:4286169088,\n\n&quot;freePhysicalMemorySize&quot;:7358455808,\n\n&quot;freeSwapSpaceSize&quot;:0,\n\n&quot;processCpuLoad&quot;:0.2727272727272727,\n\n&quot;processCpuTime&quot;:5381650000000,\n\n&quot;systemCpuLoad&quot;:0.18181818181818182,\n\n&quot;totalPhysicalMemorySize&quot;:8335638528,\n\n&quot;totalSwapSpaceSize&quot;:0,\n\n&quot;maxFileDescriptorCount&quot;:65000,\n\n&quot;openFileDescriptorCount&quot;:174},\n\n&quot;node&quot;:&quot;localhost:8983_solr&quot;}\n\n</code></pre>\n<p>And some more:</p>\n<pre><code>\n{\n\n&quot;responseHeader&quot;:{\n\n&quot;status&quot;:0,\n\n&quot;QTime&quot;:318},\n\n&quot;system.properties&quot;:{\n\n&quot;java.vendor&quot;:&quot;Ubuntu&quot;,\n\n&quot;sun.java.launcher&quot;:&quot;SUN_STANDARD&quot;,\n\n&quot;sun.management.compiler&quot;:&quot;HotSpot 64-Bit Tiered Compilers&quot;,\n\n&quot;os.name&quot;:&quot;Linux&quot;,\n\n&quot;solr.jetty.inetaccess.includes&quot;:&quot;&quot;,\n\n&quot;java.vm.specification.vendor&quot;:&quot;Oracle Corporation&quot;,\n\n&quot;java.runtime.version&quot;:&quot;11.0.17+8-post-Ubuntu-1ubuntu222.04&quot;,\n\n&quot;STOP.KEY&quot;:&quot;solrrocks&quot;,\n\n&quot;user.name&quot;:&quot;solr&quot;,\n\n&quot;solr.log.muteconsole&quot;:&quot;&quot;,\n\n&quot;solr.solr.home&quot;:&quot;/home/my_fake_solr_dir/solr&quot;,\n\n&quot;user.language&quot;:&quot;en&quot;,\n\n&quot;sun.boot.library.path&quot;:&quot;/usr/lib/jvm/java-11-openjdk-amd64/lib&quot;,\n\n&quot;solr.httpclient.config&quot;:&quot;/home/my_fake_solr_dir/solr/basicAuth.conf&quot;,\n\n&quot;java.vm.compressedOopsMode&quot;:&quot;32-bit&quot;,\n\n&quot;java.version&quot;:&quot;11.0.17&quot;,\n\n&quot;user.timezone&quot;:&quot;UTC&quot;,\n\n&quot;jetty.base&quot;:&quot;/home/my_fake_solr_dir&quot;,\n\n&quot;sun.arch.data.model&quot;:&quot;64&quot;,\n\n&quot;jetty.port&quot;:&quot;8983&quot;,\n\n&quot;sun.cpu.isalist&quot;:&quot;&quot;,\n\n&quot;sun.jnu.encoding&quot;:&quot;UTF-8&quot;,\n\n&quot;file.separator&quot;:&quot;/&quot;,\n\n&quot;java.specification.name&quot;:&quot;Java Platform API Specification&quot;,\n\n&quot;java.class.version&quot;:&quot;55.0&quot;,\n\n&quot;java.security.properties&quot;:&quot;/home/my_fake_solr_dir/etc/security.properties&quot;,\n\n&quot;jetty.git.hash&quot;:&quot;6b67c5719d1f4371b33655ff2d047d24e171e49a&quot;,\n\n&quot;user.country&quot;:&quot;US&quot;,\n\n&quot;java.home&quot;:&quot;/usr/lib/jvm/java-11-openjdk-amd64&quot;,\n\n&quot;java.vm.info&quot;:&quot;mixed mode, sharing&quot;,\n\n&quot;solr.internal.network.permission&quot;:&quot;*&quot;,\n\n&quot;os.version&quot;:&quot;5.15.0-57-generic&quot;,\n\n&quot;solr.log.dir&quot;:&quot;/home/my_fake_solr_dir/logs&quot;,\n\n&quot;solr.httpclient.builder.factory&quot;:&quot;org.apache.solr.client.solrj.impl.PreemptiveBasicAuthClientBuilderFactory&quot;,\n\n&quot;solr.jetty.inetaccess.excludes&quot;:&quot;&quot;,\n\n&quot;path.separator&quot;:&quot;:&quot;,\n\n&quot;java.vm.version&quot;:&quot;11.0.17+8-post-Ubuntu-1ubuntu222.04&quot;,\n\n&quot;jetty.tag.version&quot;:&quot;jetty-9.4.48.v20220622&quot;,\n\n&quot;java.awt.printerjob&quot;:&quot;sun.print.PSPrinterJob&quot;,\n\n&quot;java.security.policy&quot;:&quot;/home/my_fake_solr_dir/etc/security.policy&quot;,\n\n&quot;jdk.tls.rejectClientInitiatedRenegotiation&quot;:&quot;true&quot;,\n\n&quot;sun.io.unicode.encoding&quot;:&quot;UnicodeLittle&quot;,\n\n&quot;awt.toolkit&quot;:&quot;sun.awt.X11.XToolkit&quot;,\n\n&quot;user.home&quot;:&quot;/home/solr&quot;,\n\n&quot;java.version.date&quot;:&quot;2022-10-18&quot;,\n\n&quot;jetty.build&quot;:&quot;6b67c5719d1f4371b33655ff2d047d24e171e49a&quot;,\n\n&quot;java.specification.vendor&quot;:&quot;Oracle Corporation&quot;,\n\n&quot;java.library.path&quot;:&quot;/usr/java/packages/lib:/usr/lib/x86_64-linux-gnu/jni:/lib/x86_64-linux-gnu:/usr/lib/x86_64-linux-gnu:/usr/lib/jni:/lib:/usr/lib&quot;,\n\n&quot;java.vendor.url&quot;:&quot;https://ubuntu.com/&quot;,\n\n&quot;solr.data.home&quot;:&quot;&quot;,\n\n&quot;java.vm.vendor&quot;:&quot;Ubuntu&quot;,\n\n&quot;STOP.PORT&quot;:&quot;7983&quot;,\n\n&quot;zookeeper.4lw.commands.whitelist&quot;:&quot;ruok, mntr, conf&quot;,\n\n&quot;disableAdminUI&quot;:&quot;false&quot;,\n\n&quot;java.runtime.name&quot;:&quot;OpenJDK Runtime Environment&quot;,\n\n&quot;sun.java.command&quot;:&quot;start.jar --module=http --module=requestlog --module=gzip&quot;,\n\n&quot;java.class.path&quot;:&quot;start.jar&quot;,\n\n&quot;zkRun&quot;:&quot;&quot;,\n\n&quot;jetty.version&quot;:&quot;9.4.48.v20220622&quot;,\n\n&quot;jdk.debug&quot;:&quot;release&quot;,\n\n&quot;java.vm.specification.name&quot;:&quot;Java Virtual Machine Specification&quot;,\n\n&quot;zookeeper.admin.enableServer&quot;:&quot;false&quot;,\n\n&quot;java.vm.specification.version&quot;:&quot;11&quot;,\n\n&quot;sun.cpu.endian&quot;:&quot;little&quot;,\n\n&quot;sun.os.patch.level&quot;:&quot;unknown&quot;,\n\n&quot;java.io.tmpdir&quot;:&quot;/tmp&quot;,\n\n&quot;java.vendor.url.bug&quot;:&quot;https://bugs.launchpad.net/ubuntu/+source/openjdk-lts&quot;,\n\n&quot;zookeeper.jmx.log4j.disable&quot;:&quot;true&quot;,\n\n&quot;os.arch&quot;:&quot;amd64&quot;,\n\n&quot;java.awt.graphicsenv&quot;:&quot;sun.awt.X11GraphicsEnvironment&quot;,\n\n&quot;user.dir&quot;:&quot;/home/my_fake_solr_dir&quot;,\n\n&quot;java.security.manager&quot;:&quot;&quot;,\n\n&quot;line.separator&quot;:&quot;\\n&quot;,\n\n&quot;solr.default.confdir&quot;:&quot;/home/my_fake_solr_dir/solr/configsets/_default/conf&quot;,\n\n&quot;solr.install.dir&quot;:&quot;/home/solr/solr&quot;,\n\n&quot;solr.log.requestlog.enabled&quot;:&quot;true&quot;,\n\n&quot;java.vm.name&quot;:&quot;OpenJDK 64-Bit Server VM&quot;,\n\n&quot;zkClientTimeout&quot;:&quot;30000&quot;,\n\n&quot;file.encoding&quot;:&quot;UTF-8&quot;,\n\n&quot;host&quot;:&quot;localhost&quot;,\n\n&quot;java.specification.version&quot;:&quot;11&quot;,\n\n&quot;jetty.home&quot;:&quot;/home/my_fake_solr_dir&quot;}}\n\n</code></pre>\n<p>Here is the result of me querying for the Solr CLUSTERSTATUS:</p>\n<pre><code>\n{\n\n&quot;responseHeader&quot;:{\n\n&quot;status&quot;:0,\n\n&quot;QTime&quot;:1845},\n\n&quot;cluster&quot;:{\n\n&quot;collections&quot;:{\n\n&quot;testabc&quot;:{\n\n&quot;pullReplicas&quot;:&quot;0&quot;,\n\n&quot;configName&quot;:&quot;testabc&quot;,\n\n&quot;replicationFactor&quot;:&quot;1&quot;,\n\n&quot;shards&quot;:{&quot;shard1&quot;:{\n\n&quot;range&quot;:&quot;80000000-7fffffff&quot;,\n\n&quot;state&quot;:&quot;active&quot;,\n\n&quot;replicas&quot;:{&quot;core_node2&quot;:{\n\n&quot;core&quot;:&quot;testabc_shard1_replica_n1&quot;,\n\n&quot;leader&quot;:&quot;true&quot;,\n\n&quot;core_node_name&quot;:&quot;core_node2&quot;,\n\n&quot;node_name&quot;:&quot;localhost:8983_solr&quot;,\n\n&quot;base_url&quot;:&quot;http://localhost:8983/solr&quot;,\n\n&quot;state&quot;:&quot;active&quot;,\n\n&quot;collection&quot;:&quot;testabc&quot;,\n\n&quot;shard&quot;:&quot;shard1&quot;,\n\n&quot;type&quot;:&quot;NRT&quot;,\n\n&quot;force_set_state&quot;:&quot;false&quot;}},\n\n&quot;health&quot;:&quot;GREEN&quot;}},\n\n&quot;router&quot;:{&quot;name&quot;:&quot;compositeId&quot;},\n\n&quot;nrtReplicas&quot;:&quot;1&quot;,\n\n&quot;tlogReplicas&quot;:&quot;0&quot;,\n\n&quot;health&quot;:&quot;GREEN&quot;,\n\n&quot;znodeVersion&quot;:14}},\n\n&quot;live_nodes&quot;:[&quot;localhost:8983_solr&quot;]}}\n\n</code></pre>\n<p>I realise this is a mountain of info, but nothing in particular strikes me as odd - if anyone has any ideas what could be the issue, I would appreciate any tips in the right direction</p>\n<p>Thanks</p>\n"},{"tags":["java","selenium-webdriver","jenkins","clipboard"],"comments":[{"owner":{"account_id":4599455,"reputation":2892,"user_id":3730626,"display_name":"M B"},"score":0,"creation_date":1677136565,"post_id":75538125,"comment_id":133279061,"body_markdown":"What is the Jenkins host you are running your jobs on? Does [this answer](https://stackoverflow.com/a/784415/3730626) seem helpful?","body":"What is the Jenkins host you are running your jobs on? Does <a href=\"https://stackoverflow.com/a/784415/3730626\">this answer</a> seem helpful?"},{"owner":{"account_id":22620517,"reputation":307,"user_id":16799393,"display_name":"Unused hero"},"score":0,"creation_date":1677136710,"post_id":75538125,"comment_id":133279090,"body_markdown":"I don&#39;t actually know, I&#39;m writing Selenium tests and infrastructure, need to ask devops guy about that","body":"I don&#39;t actually know, I&#39;m writing Selenium tests and infrastructure, need to ask devops guy about that"},{"owner":{"account_id":6077817,"reputation":1213,"user_id":4744568,"display_name":"pcalkins"},"score":0,"creation_date":1677183239,"post_id":75538125,"comment_id":133292984,"body_markdown":"sounds like you need a display to have a clipboard.  The error you are receiving is telling you there is no display or &quot;virtual&quot; display.","body":"sounds like you need a display to have a clipboard.  The error you are receiving is telling you there is no display or &quot;virtual&quot; display."},{"owner":{"account_id":22620517,"reputation":307,"user_id":16799393,"display_name":"Unused hero"},"score":0,"creation_date":1677186821,"post_id":75538125,"comment_id":133293883,"body_markdown":"I&#39;m not really understand how it works when Selenium tests are running on Jenkins, but I know we run our tests in regular, not headless mode. So I do not understand why this difference comes when running not locally. I will try to ask our devops engineers","body":"I&#39;m not really understand how it works when Selenium tests are running on Jenkins, but I know we run our tests in regular, not headless mode. So I do not understand why this difference comes when running not locally. I will try to ask our devops engineers"}],"answers":[{"tags":[],"owner":{"account_id":7008369,"reputation":1389,"user_id":5372079,"display_name":"Abhishek Dhoundiyal"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1677474306,"creation_date":1677428135,"answer_id":75573313,"question_id":75538125,"body_markdown":"**Possible solution to your problem:**\r\n1) One potential solution is to use a virtual display such as Xvfb (X virtual framebuffer) This will allow the clipboard access code to run without errors. You can install Xvfb on your Jenkins server and then start a virtual display before running your tests. \r\n\r\n&gt; sudo apt-get install xvfb \r\n\r\n    \r\n    Xvfb :99 -screen 0 1024x768x16 &amp;\r\n    export DISPLAY=:99\r\n    mvn test\r\n\r\n\r\n\r\n\r\n2) OR YOU could try using a different library for accessing the clipboard content that does not require an X11 display. For example, you can use the **JavaFX library.**\r\n\r\n \r\n\r\n&gt;      &lt;dependency&gt;\r\n&gt;           &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n&gt;           &lt;artifactId&gt;javafx-controls&lt;/artifactId&gt;\r\n&gt;           &lt;version&gt;16&lt;/version&gt;\r\n&gt;         &lt;/dependency&gt;\r\n&gt; \r\n&gt;  import javafx.scene.input.Clipboard;\r\n&gt;     import javafx.scene.input.ClipboardContent;\r\n&gt;     \r\n&gt;     public static String extractTextFromClipboard(){\r\n&gt;         Clipboard clipboard = Clipboard.getSystemClipboard();\r\n&gt;         if (clipboard.hasString()) {\r\n&gt;             return clipboard.getString();\r\n&gt;         } else {\r\n&gt;             ConsoleLogger.error(&quot;Failed to extract text from clipboard&quot;);\r\n&gt;             return &quot;&quot;;\r\n&gt;         }\r\n&gt;     }\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"Extracting text from clipboard fails when running on Jenkins","body":"<p><strong>Possible solution to your problem:</strong></p>\n<ol>\n<li>One potential solution is to use a virtual display such as Xvfb (X virtual framebuffer) This will allow the clipboard access code to run without errors. You can install Xvfb on your Jenkins server and then start a virtual display before running your tests.</li>\n</ol>\n<blockquote>\n<p>sudo apt-get install xvfb</p>\n</blockquote>\n<pre><code>Xvfb :99 -screen 0 1024x768x16 &amp;\nexport DISPLAY=:99\nmvn test\n</code></pre>\n<ol start=\"2\">\n<li>OR YOU could try using a different library for accessing the clipboard content that does not require an X11 display. For example, you can use the <strong>JavaFX library.</strong></li>\n</ol>\n<blockquote>\n<pre><code> &lt;dependency&gt;\n      &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n      &lt;artifactId&gt;javafx-controls&lt;/artifactId&gt;\n      &lt;version&gt;16&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>import javafx.scene.input.Clipboard;\nimport javafx.scene.input.ClipboardContent;</p>\n<pre><code>public static String extractTextFromClipboard(){\n    Clipboard clipboard = Clipboard.getSystemClipboard();\n    if (clipboard.hasString()) {\n        return clipboard.getString();\n    } else {\n        ConsoleLogger.error(&quot;Failed to extract text from clipboard&quot;);\n        return &quot;&quot;;\n    }\n}\n</code></pre>\n</blockquote>\n"}],"owner":{"account_id":22620517,"reputation":307,"user_id":16799393,"display_name":"Unused hero"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":247,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1677474306,"creation_date":1677099702,"question_id":75538125,"body_markdown":"I have a Selenium Java test copying table grid values to clipboard. Then I&#39;m extracting the clipboard content with the following method:\r\n```java\r\npublic static String extractTextFromClipboard(){\r\n    try {\r\n        return (String) Toolkit.getDefaultToolkit().getSystemClipboard().getData(DataFlavor.stringFlavor);\r\n    }catch (Exception e){\r\n        ConsoleLogger.error(&quot;Failed to extract text from clipboard &quot; + e.getMessage());\r\n        return &quot;&quot;;\r\n    }\r\n}\r\n```\r\nand if works just fine when I run the tests locally.  \r\nBut when I run this test on Jenkins it fails with the following error:\r\n\r\n    No X11 DISPLAY variable was set, but this program performed an operation which requires it.   \r\n\r\nI saw several questions here dealing with the above error but I still do not understand what can I do to fix my issue?  \r\nAre there alternative ways to extract clipboard content so it will work for me?","title":"Extracting text from clipboard fails when running on Jenkins","body":"<p>I have a Selenium Java test copying table grid values to clipboard. Then I'm extracting the clipboard content with the following method:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static String extractTextFromClipboard(){\n    try {\n        return (String) Toolkit.getDefaultToolkit().getSystemClipboard().getData(DataFlavor.stringFlavor);\n    }catch (Exception e){\n        ConsoleLogger.error(&quot;Failed to extract text from clipboard &quot; + e.getMessage());\n        return &quot;&quot;;\n    }\n}\n</code></pre>\n<p>and if works just fine when I run the tests locally.<br />\nBut when I run this test on Jenkins it fails with the following error:</p>\n<pre><code>No X11 DISPLAY variable was set, but this program performed an operation which requires it.   \n</code></pre>\n<p>I saw several questions here dealing with the above error but I still do not understand what can I do to fix my issue?<br />\nAre there alternative ways to extract clipboard content so it will work for me?</p>\n"},{"tags":["java","csv","txt","read.csv","stringtokenizer"],"comments":[{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1677469975,"post_id":75576570,"comment_id":133337548,"body_markdown":"`StringTokenizer` won&#39;t help, I think.  You&#39;ll need a full CSV parser.  Google for it, there are various ones available.","body":"<code>StringTokenizer</code> won&#39;t help, I think.  You&#39;ll need a full CSV parser.  Google for it, there are various ones available."}],"owner":{"account_id":27887040,"reputation":1,"user_id":21294238,"display_name":"abcd_12345"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677474197,"creation_date":1677468796,"question_id":75576570,"body_markdown":"I have a program that stores, reads, and saves contact information. However, the names can only be read without spaces(e.g. Tony). If I want to make the program can read words with spaces(e.g. Tony Arnold), what should I do?\r\n\r\nContacts:\r\n\r\n```\r\n\r\n\r\n\r\nimport java.io.*;\r\nimport java.util.*;\r\n\r\npublic class Contacts {\r\n    \r\n    int ARRAY_SIZE = 20;\r\n    Contact data[] = new Contact[ARRAY_SIZE];\r\n    Scanner k = new Scanner(System.in);\r\n    \r\n\r\n    public void readFile() {\r\n        \r\n\tFile file = new File(&quot;contact.txt&quot;);\r\n        try {\r\n\t    Scanner f = new Scanner(file);\r\n            StringTokenizer st = new StringTokenizer(f.nextLine(&quot;,&quot;) );\r\n            int count1 = 0;\r\n            while(f.hasNext() &amp;&amp; count1 &lt; ARRAY_SIZE){\r\n                Contact c = new Contact();\r\n                c.setName(f.next());\r\n                c.setPhone(f.next());\r\n                c.setDepartment(f.next());\r\n                data[count1] = c;\r\n                count1++;\r\n\t\t\r\n\t\t} \r\n        }\r\n            catch (FileNotFoundException e) {\r\n                System.out.println(&quot;Error: input file not found&quot;);\r\n                System.exit(1);\r\n                \r\n                    }\r\n\t\t    \r\n        }\r\n\r\n    \r\n\t\r\n\tpublic void displayData() {\r\n            for(int i=0;i&lt;ARRAY_SIZE;i++){\r\n                Contact c = data[i];\r\n                if(c !=null)\r\n                System.out.println(i+&quot;:    &quot;+c.getName()+&quot; &quot;+c.getPhone()+&quot;  &quot;+c.getDepartment());\r\n            }\r\n\t}\r\n    \r\n    public void doEdit() {\r\n       \r\n        \r\n            \r\n        try{\r\n          System.out.println(&quot;Enter the record number to edit:&quot;);\r\n          int num = k.nextInt();\r\n          Contact c = data[num];\r\n          if(c!=null){\r\n            System.out.println(&quot;Enter the new name: &quot;);\r\n            c.setName(k.next());\r\n            System.out.println(&quot;Enter the new phone: &quot;);\r\n            c.setPhone(k.next());\r\n            System.out.println(&quot;Enter the new department: &quot;);\r\n            c.setDepartment(k.next());\r\n            System.out.println();\r\n            System.out.println(&quot;Done!&quot;);\r\n            System.out.println();\r\n          }\r\n          else{\r\n              System.out.println(&quot;Record number is  not used.&quot;);\r\n          }\r\n        }\r\n        catch(ArrayIndexOutOfBoundsException | InputMismatchException  e){\r\n            System.out.println(&quot;Record number is out of range.&quot;);\r\n        }\r\n        \r\n        \r\n        \r\n            \r\n       \r\n        \r\n       \r\n           \r\n        \r\n        \r\n    }\r\n\t\r\n\tpublic void saveFile() {\r\n            try{\r\n            PrintWriter pw = new PrintWriter(&quot;contact.txt&quot;);\r\n            for(Contact c : data){\r\n                if(c !=null){\r\n                pw.println(c.getName()+&quot;, &quot;+c.getPhone()+&quot;, &quot;+c.getDepartment());\r\n                }\r\n            }\r\n            pw.close();\r\n            }\r\n            catch(FileNotFoundException e){\r\n                System.out.println(&quot;Error: Can&#39;t save file&quot;);\r\n            }\r\n        \r\n\t\t\r\n\t}\r\n\r\n    public void process() {\r\n        boolean done = false;\r\n        \r\n        while(!done){\r\n            System.out.println(&quot;PRESS 1 to view all records&quot;);\r\n            System.out.println(&quot;PRESS 2 to edit a record&quot;);\r\n            System.out.println(&quot;PRESS 3 to exit&quot;);\r\n            System.out.println(&quot;&gt;&quot;);\r\n            \r\n            String ans = k.next();\r\n            switch(ans){\r\n                case &quot;1&quot;:\r\n                    displayData();\r\n                    break;\r\n                    \r\n                case &quot;2&quot;:\r\n                    doEdit();\r\n                    break;\r\n                    \r\n                case &quot;3&quot;:\r\n                    done = true;\r\n                    break;\r\n                    \r\n                default:\r\n                  System.out.println(&quot;Invalid option&quot;);  \r\n            }\r\n        }\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        Contacts cl = new Contacts();\r\n        cl.readFile();\r\n        cl.process();\r\n        cl.saveFile();\r\n\r\n    }\r\n\r\n}\r\n```\r\n\r\nContact:\r\n\r\n```\r\npackage lab3;\r\n\r\n\r\n\r\npublic class Contact {\r\n   private String name;\r\n   private String phone;\r\n   private String department;\r\n   private String id;\r\n   \r\n   public String getName() {\r\n       return name;\r\n    }\r\n\r\n    public void setName(String tempName) {\r\n       name = tempName;\r\n    }\r\n    \r\n    public String getPhone() {\r\n       return phone;\r\n    }\r\n\r\n    public void setPhone(String tempPhone) {\r\n       phone = tempPhone;\r\n    }\r\n    \r\n    public String getDepartment() {\r\n       return department;\r\n    }\r\n\r\n    public void setDepartment(String tempDepartment) {\r\n       department = tempDepartment;\r\n    }\r\n    public String getid() {\r\n       return id;\r\n    }\r\n\r\n    public void setid(String tempid) {\r\n       id = tempid;\r\n    }\r\n   \r\n}\r\n```\r\n\r\ncontact.txt:\r\n\r\n```\r\nTony 897 eng\r\nToby 999 math\r\nYvonne 123 comp\r\n```\r\n\r\nI hear that changing the contact.txt file to .csv and using StringTokenizers can help the program read the names, phones, departments with commas instead of spaces. How can I do that?","title":"How to read data with spaces and store it in the object array?","body":"<p>I have a program that stores, reads, and saves contact information. However, the names can only be read without spaces(e.g. Tony). If I want to make the program can read words with spaces(e.g. Tony Arnold), what should I do?</p>\n<p>Contacts:</p>\n<pre><code>\n\n\nimport java.io.*;\nimport java.util.*;\n\npublic class Contacts {\n    \n    int ARRAY_SIZE = 20;\n    Contact data[] = new Contact[ARRAY_SIZE];\n    Scanner k = new Scanner(System.in);\n    \n\n    public void readFile() {\n        \n    File file = new File(&quot;contact.txt&quot;);\n        try {\n        Scanner f = new Scanner(file);\n            StringTokenizer st = new StringTokenizer(f.nextLine(&quot;,&quot;) );\n            int count1 = 0;\n            while(f.hasNext() &amp;&amp; count1 &lt; ARRAY_SIZE){\n                Contact c = new Contact();\n                c.setName(f.next());\n                c.setPhone(f.next());\n                c.setDepartment(f.next());\n                data[count1] = c;\n                count1++;\n        \n        } \n        }\n            catch (FileNotFoundException e) {\n                System.out.println(&quot;Error: input file not found&quot;);\n                System.exit(1);\n                \n                    }\n            \n        }\n\n    \n    \n    public void displayData() {\n            for(int i=0;i&lt;ARRAY_SIZE;i++){\n                Contact c = data[i];\n                if(c !=null)\n                System.out.println(i+&quot;:    &quot;+c.getName()+&quot; &quot;+c.getPhone()+&quot;  &quot;+c.getDepartment());\n            }\n    }\n    \n    public void doEdit() {\n       \n        \n            \n        try{\n          System.out.println(&quot;Enter the record number to edit:&quot;);\n          int num = k.nextInt();\n          Contact c = data[num];\n          if(c!=null){\n            System.out.println(&quot;Enter the new name: &quot;);\n            c.setName(k.next());\n            System.out.println(&quot;Enter the new phone: &quot;);\n            c.setPhone(k.next());\n            System.out.println(&quot;Enter the new department: &quot;);\n            c.setDepartment(k.next());\n            System.out.println();\n            System.out.println(&quot;Done!&quot;);\n            System.out.println();\n          }\n          else{\n              System.out.println(&quot;Record number is  not used.&quot;);\n          }\n        }\n        catch(ArrayIndexOutOfBoundsException | InputMismatchException  e){\n            System.out.println(&quot;Record number is out of range.&quot;);\n        }\n        \n        \n        \n            \n       \n        \n       \n           \n        \n        \n    }\n    \n    public void saveFile() {\n            try{\n            PrintWriter pw = new PrintWriter(&quot;contact.txt&quot;);\n            for(Contact c : data){\n                if(c !=null){\n                pw.println(c.getName()+&quot;, &quot;+c.getPhone()+&quot;, &quot;+c.getDepartment());\n                }\n            }\n            pw.close();\n            }\n            catch(FileNotFoundException e){\n                System.out.println(&quot;Error: Can't save file&quot;);\n            }\n        \n        \n    }\n\n    public void process() {\n        boolean done = false;\n        \n        while(!done){\n            System.out.println(&quot;PRESS 1 to view all records&quot;);\n            System.out.println(&quot;PRESS 2 to edit a record&quot;);\n            System.out.println(&quot;PRESS 3 to exit&quot;);\n            System.out.println(&quot;&gt;&quot;);\n            \n            String ans = k.next();\n            switch(ans){\n                case &quot;1&quot;:\n                    displayData();\n                    break;\n                    \n                case &quot;2&quot;:\n                    doEdit();\n                    break;\n                    \n                case &quot;3&quot;:\n                    done = true;\n                    break;\n                    \n                default:\n                  System.out.println(&quot;Invalid option&quot;);  \n            }\n        }\n    }\n\n    public static void main(String[] args) {\n        Contacts cl = new Contacts();\n        cl.readFile();\n        cl.process();\n        cl.saveFile();\n\n    }\n\n}\n</code></pre>\n<p>Contact:</p>\n<pre><code>package lab3;\n\n\n\npublic class Contact {\n   private String name;\n   private String phone;\n   private String department;\n   private String id;\n   \n   public String getName() {\n       return name;\n    }\n\n    public void setName(String tempName) {\n       name = tempName;\n    }\n    \n    public String getPhone() {\n       return phone;\n    }\n\n    public void setPhone(String tempPhone) {\n       phone = tempPhone;\n    }\n    \n    public String getDepartment() {\n       return department;\n    }\n\n    public void setDepartment(String tempDepartment) {\n       department = tempDepartment;\n    }\n    public String getid() {\n       return id;\n    }\n\n    public void setid(String tempid) {\n       id = tempid;\n    }\n   \n}\n</code></pre>\n<p>contact.txt:</p>\n<pre><code>Tony 897 eng\nToby 999 math\nYvonne 123 comp\n</code></pre>\n<p>I hear that changing the contact.txt file to .csv and using StringTokenizers can help the program read the names, phones, departments with commas instead of spaces. How can I do that?</p>\n"},{"tags":["java","android","android-studio"],"comments":[{"owner":{"account_id":45320,"reputation":1213,"user_id":133563,"accept_rate":94,"display_name":"Lima"},"score":0,"creation_date":1445690438,"post_id":33318179,"comment_id":54434538,"body_markdown":"Please include relevant code.","body":"Please include relevant code."}],"answers":[{"tags":[],"owner":{"account_id":2294849,"reputation":331956,"user_id":2016562,"accept_rate":92,"display_name":"Gabriele Mariotti"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1445691715,"creation_date":1445691715,"answer_id":33318515,"question_id":33318179,"body_markdown":"You have to use\r\n\r\n    Vector\r\n\r\ninstead of \r\n\r\n    vector\r\n\r\nThe right class is `java.util.Vector`. Here [the full doc][1].\r\n\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/util/Vector.html","title":"Cannot find symbol class vector in Android Studio","body":"<p>You have to use</p>\n\n<pre><code>Vector\n</code></pre>\n\n<p>instead of </p>\n\n<pre><code>vector\n</code></pre>\n\n<p>The right class is <code>java.util.Vector</code>. Here <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/Vector.html\" rel=\"nofollow\">the full doc</a>.</p>\n"},{"tags":[],"owner":{"account_id":26677367,"reputation":1,"user_id":20287827,"display_name":"Pablo Fabian"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677474022,"creation_date":1677467551,"answer_id":75576481,"question_id":33318179,"body_markdown":"[Gabriele Mariotti](https://stackoverflow.com/users/2016562/gabriele-mariotti)&#39;s [answer](https://stackoverflow.com/a/33318515) isrRight, here&#39;s a example:\r\n```\r\nimport java.util.Vector;\r\npublic class Main {\r\n\r\n    public static void main(String[] args)\r\n    {\r\n       \r\n        Vector&lt;String&gt; stringVector = new Vector&lt;String&gt;();\r\n        stringVector.add(&quot;one&quot;);\r\n        stringVector.add(&quot;two&quot;);\r\n        stringVector.add(&quot;three&quot;);\r\n        \r\n        System.out.println((stringVector));        \r\n    }\r\n}\r\n```\r\n","title":"Cannot find symbol class vector in Android Studio","body":"<p><a href=\"https://stackoverflow.com/users/2016562/gabriele-mariotti\">Gabriele Mariotti</a>'s <a href=\"https://stackoverflow.com/a/33318515\">answer</a> isrRight, here's a example:</p>\n<pre><code>import java.util.Vector;\npublic class Main {\n\n    public static void main(String[] args)\n    {\n       \n        Vector&lt;String&gt; stringVector = new Vector&lt;String&gt;();\n        stringVector.add(&quot;one&quot;);\n        stringVector.add(&quot;two&quot;);\n        stringVector.add(&quot;three&quot;);\n        \n        System.out.println((stringVector));        \n    }\n}\n</code></pre>\n"}],"owner":{"account_id":7150393,"reputation":35,"user_id":5464688,"accept_rate":50,"display_name":"johansonik"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3477,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":33318515,"answer_count":2,"score":0,"last_activity_date":1677474022,"creation_date":1445689641,"question_id":33318179,"body_markdown":"I&#39;m getting this error &quot;Cannot find symbol class vector&quot; in my project.\r\n I have the whole `java.util` where is the `Vector` class. \r\nI tried to change the versions on my build.gradle but it didn&#39;t help. \r\n\r\nI&#39;d be grateful for any advice. \r\n\r\n \r\n\r\n    public class ObjectDetection {\r\n    \r\n        vector &lt;DMatch&gt; matches;\r\n        public vector &lt;ObjectRep&gt; targets; // wektor zawierający obiekty klasy ObjectRep (jeszcze nie zawiera)\r\n        float maxDist;\r\n        ArrayList&lt;Float&gt; distances = new ArrayList&lt;Float&gt;();\r\n        int noOfBestFeatures = 10;\r\n        float distance;\r\n    \r\n    \r\n    \r\n        private float match(Mat frameDes, Mat objectDes)\r\n        {\r\n            MatOfDMatch matches = new MatOfDMatch();\r\n            DescriptorMatcher matcher = DescriptorMatcher.create(DescriptorMatcher.\r\n                    BRUTEFORCE_HAMMINGLUT) ;\r\n    \r\n           matcher.match(frameDes, objectDes, matches);\r\n    \r\n    \r\n            List&lt;DMatch&gt; matchesList = matches.toList();\r\n    \r\n    \r\n            if(matchesList.size()&lt;noOfBestFeatures)\r\n                return Float.MAX_VALUE;\r\n    \r\n    \r\n            float sum = 0f;\r\n            float min = matchesList.get(0).distance;\r\n            distances.clear();\r\n    \r\n    \r\n            for(DMatch match : matchesList){\r\n                min = Math.min(min, match.distance);\r\n                distances.add(match.distance);\r\n            }\r\n    \r\n    \r\n            if(distances.size()&lt;noOfBestFeatures)\r\n                return Float.MAX_VALUE;\r\n    \r\n    \r\n            Collections.sort(distances);\r\n            for(int i = 0; i&lt;noOfBestFeatures; i++) sum += distances.get(i);\r\n            return sum;\r\n        }\r\n    \r\n        public void findBestMatch(Mat cFrameDescriptors){\r\n    \r\n    \r\n            if(targets==null)\r\n                return;\r\n            //Log.d(&quot;&quot;, &quot; MAtching&quot;);\r\n    \r\n    \r\n            if(cFrameDescriptors.size().height&lt;1)   //jeżeli ramka ta jest mniejsza od 1 nie bierzemy pod uwagę\r\n                return;\r\n            matches.clear();\r\n            float bestMatch = maxDist;\r\n            Log.d(&quot;&quot;, &quot; No of objects: &quot; + targets.size());\r\n    \r\n            for(ObjectRep item : targets)\r\n            {\r\n    \r\n                float match = match(cFrameDescriptors, item.bytesToMat());\r\n                //Log.d(&quot;DETECTOR&quot;,&quot;OBJECT NAME: &quot;+item.getName()+&quot;, match=&quot;+match );\r\n                if(match&gt;=maxDist) continue;\r\n                matches.put(match, item);  // dodajemy do listy\r\n    \r\n    \r\n                //Log.v(&quot;&quot;, Statics.LOGTAG+&quot;item name: &quot;+item.getName()+&quot; match: &quot;+match);\r\n                bestMatch = Math.min(bestMatch, match);\r\n            }\r\n    \r\n    \r\n            Log.v(&quot;&quot;, &quot; bestMatch: &quot; + bestMatch);\r\n            if(bestMatch == maxDist) return ;\r\n            else\r\n            {\r\n    \r\n                ObjectRep detectedObject=matches.get(bestMatch);\r\n                String str=detectedObject.name;\r\n                System.out.println(&quot;DETECTED: &quot;+str);\r\n    \r\n    \r\n            }\r\n    \r\n    \r\n        }\r\n    \r\n    \r\n    \r\n    \r\n    }\r\n\r\n\r\n\r\n","title":"Cannot find symbol class vector in Android Studio","body":"<p>I'm getting this error \"Cannot find symbol class vector\" in my project.\n I have the whole <code>java.util</code> where is the <code>Vector</code> class. \nI tried to change the versions on my build.gradle but it didn't help. </p>\n\n<p>I'd be grateful for any advice. </p>\n\n<pre><code>public class ObjectDetection {\n\n    vector &lt;DMatch&gt; matches;\n    public vector &lt;ObjectRep&gt; targets; // wektor zawierający obiekty klasy ObjectRep (jeszcze nie zawiera)\n    float maxDist;\n    ArrayList&lt;Float&gt; distances = new ArrayList&lt;Float&gt;();\n    int noOfBestFeatures = 10;\n    float distance;\n\n\n\n    private float match(Mat frameDes, Mat objectDes)\n    {\n        MatOfDMatch matches = new MatOfDMatch();\n        DescriptorMatcher matcher = DescriptorMatcher.create(DescriptorMatcher.\n                BRUTEFORCE_HAMMINGLUT) ;\n\n       matcher.match(frameDes, objectDes, matches);\n\n\n        List&lt;DMatch&gt; matchesList = matches.toList();\n\n\n        if(matchesList.size()&lt;noOfBestFeatures)\n            return Float.MAX_VALUE;\n\n\n        float sum = 0f;\n        float min = matchesList.get(0).distance;\n        distances.clear();\n\n\n        for(DMatch match : matchesList){\n            min = Math.min(min, match.distance);\n            distances.add(match.distance);\n        }\n\n\n        if(distances.size()&lt;noOfBestFeatures)\n            return Float.MAX_VALUE;\n\n\n        Collections.sort(distances);\n        for(int i = 0; i&lt;noOfBestFeatures; i++) sum += distances.get(i);\n        return sum;\n    }\n\n    public void findBestMatch(Mat cFrameDescriptors){\n\n\n        if(targets==null)\n            return;\n        //Log.d(\"\", \" MAtching\");\n\n\n        if(cFrameDescriptors.size().height&lt;1)   //jeżeli ramka ta jest mniejsza od 1 nie bierzemy pod uwagę\n            return;\n        matches.clear();\n        float bestMatch = maxDist;\n        Log.d(\"\", \" No of objects: \" + targets.size());\n\n        for(ObjectRep item : targets)\n        {\n\n            float match = match(cFrameDescriptors, item.bytesToMat());\n            //Log.d(\"DETECTOR\",\"OBJECT NAME: \"+item.getName()+\", match=\"+match );\n            if(match&gt;=maxDist) continue;\n            matches.put(match, item);  // dodajemy do listy\n\n\n            //Log.v(\"\", Statics.LOGTAG+\"item name: \"+item.getName()+\" match: \"+match);\n            bestMatch = Math.min(bestMatch, match);\n        }\n\n\n        Log.v(\"\", \" bestMatch: \" + bestMatch);\n        if(bestMatch == maxDist) return ;\n        else\n        {\n\n            ObjectRep detectedObject=matches.get(bestMatch);\n            String str=detectedObject.name;\n            System.out.println(\"DETECTED: \"+str);\n\n\n        }\n\n\n    }\n\n\n\n\n}\n</code></pre>\n"},{"tags":["java","great-circle"],"comments":[{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1677386942,"post_id":75570000,"comment_id":133326298,"body_markdown":"HINT: To convert latitude (and longitude) from degrees to radians, use [static] method [toRadians](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Math.html#toRadians(double)) of class `java.lang.Math`.","body":"HINT: To convert latitude (and longitude) from degrees to radians, use [static] method <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Math.html#toRadians(double)\" rel=\"nofollow noreferrer\">toRadians</a> of class <code>java.lang.Math</code>."},{"owner":{"account_id":384206,"reputation":50386,"user_id":740553,"accept_rate":46,"display_name":"Mike &#39;Pomax&#39; Kamermans"},"score":0,"creation_date":1677388689,"post_id":75570000,"comment_id":133326379,"body_markdown":"You have two locations. Each has a (lat,lon) coordinate. So as per your summary, yes: the first is referred to using lat1 and lon1, and the second is referred to using lat2 and lon2. You don&#39;t sound really confused, you sound like you got it just fine?","body":"You have two locations. Each has a (lat,lon) coordinate. So as per your summary, yes: the first is referred to using lat1 and lon1, and the second is referred to using lat2 and lon2. You don&#39;t sound really confused, you sound like you got it just fine?"}],"answers":[{"tags":[],"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677472295,"creation_date":1677472295,"answer_id":75576798,"question_id":75570000,"body_markdown":"The below code is a [SSCCE][1]. I added a `main` method so you can run it. You may also want to run it with a debugger to understand better how the code works.\r\n\r\nNote that I had to make some corrections to the code in your question since that code does not compile.\r\n\r\nI changed the name of the class so as not to clash with your code. Hence you can copy this code and still keep your original code.\r\n```java\r\npublic class Lokashun {\r\n    private double latitude;\r\n    private double longitude;\r\n    \r\n    // constant (Approximate radius of earth in miles.\r\n    public static final double EARTH_Radius = 3959.0;\r\n\r\n    public Lokashun(double inLatitude, double inLongitude) {\r\n        latitude = inLatitude;\r\n        longitude = inLongitude;\r\n    }\r\n\r\n    public double getLatitude() {\r\n        return latitude;\r\n    }\r\n\r\n    public double getLongitude() {\r\n        return longitude;\r\n    }\r\n\r\n    public double calcDistance(Lokashun inLocation) {\r\n        double lat1 = Math.toRadians(latitude);\r\n        double lat2 = Math.toRadians(inLocation.getLatitude());\r\n        double lon1 = Math.toRadians(longitude);\r\n        double lon2 = Math.toRadians(inLocation.getLongitude());\r\n        double distance = Math.sin(lat1) * Math.sin(lat2) +\r\n                          Math.cos(lat1) * Math.cos(lat2) * Math.cos(lon2 - lon1);\r\n        return EARTH_Radius * Math.acos(distance);\r\n    }\r\n\r\n    public static void main(String[] args) throws Exception {\r\n        Lokashun la = new Lokashun(34.0522, 118.2437);\r\n        Lokashun sf = new Lokashun(37.7749, 122.4194);\r\n        System.out.println(&quot;LA 2 SF: &quot; + la.calcDistance(sf));\r\n    }\r\n}\r\n```\r\n\r\n\r\n  [1]: http://sscce.org/","title":"I am trying to calculate a distance formula between 2 locations (or classes) using the Great circle distance formula","body":"<p>The below code is a <a href=\"http://sscce.org/\" rel=\"nofollow noreferrer\">SSCCE</a>. I added a <code>main</code> method so you can run it. You may also want to run it with a debugger to understand better how the code works.</p>\n<p>Note that I had to make some corrections to the code in your question since that code does not compile.</p>\n<p>I changed the name of the class so as not to clash with your code. Hence you can copy this code and still keep your original code.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Lokashun {\n    private double latitude;\n    private double longitude;\n    \n    // constant (Approximate radius of earth in miles.\n    public static final double EARTH_Radius = 3959.0;\n\n    public Lokashun(double inLatitude, double inLongitude) {\n        latitude = inLatitude;\n        longitude = inLongitude;\n    }\n\n    public double getLatitude() {\n        return latitude;\n    }\n\n    public double getLongitude() {\n        return longitude;\n    }\n\n    public double calcDistance(Lokashun inLocation) {\n        double lat1 = Math.toRadians(latitude);\n        double lat2 = Math.toRadians(inLocation.getLatitude());\n        double lon1 = Math.toRadians(longitude);\n        double lon2 = Math.toRadians(inLocation.getLongitude());\n        double distance = Math.sin(lat1) * Math.sin(lat2) +\n                          Math.cos(lat1) * Math.cos(lat2) * Math.cos(lon2 - lon1);\n        return EARTH_Radius * Math.acos(distance);\n    }\n\n    public static void main(String[] args) throws Exception {\n        Lokashun la = new Lokashun(34.0522, 118.2437);\n        Lokashun sf = new Lokashun(37.7749, 122.4194);\n        System.out.println(&quot;LA 2 SF: &quot; + la.calcDistance(sf));\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":25765820,"reputation":23,"user_id":19515795,"display_name":"Amber Lyda"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":60,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1677472295,"creation_date":1677385446,"question_id":75570000,"body_markdown":"I have 2 different classes that model a Station Location and the other a calculated Location. These classes used to be a part of each other in one class but I have separated them out due to instructions from my teacher. I have most of the code done in both classes but I am struggling at the very end when I have to join these 2 classes together somehow using the distance calculation and target long/lat.If I could get some clarity on how to code and what the code means in the Location class I can probably figure out Station class part on my own. \r\n\r\n\r\n```lang-java\r\n// Models a location\r\npublic class Location {\r\n    // instant variables\r\n    private double latitude;\r\n    private double longitude;\r\n    \r\n    // constant (Approximate radius of earth in miles.\r\n    public static final double EARTH_Radius = 3959.0;\r\n\r\n    // Constructor for objects of class Location\r\n    public Location(double inLatitude, double inLongitude) {\r\n        this.latitude = inLatitude;\r\n        this.Longitude = inLongitude;\r\n\r\n    //returns latitude and longitude of the Location\r\n    public double getLatitude() {\r\n        return this.latitude;\r\n    public double getLongitude() {\r\n        return this.longitude();\r\n\r\n// Now for the part that I am struggling with \r\n// Calculates approximate distance between the this location\r\n     *    and the parameter value location.\r\n     * \r\n     * @param  inLocation Location  input Location.\r\n     * @return double  distance in miles\r\n     */\r\n    public double calcDistance(Location inLocation)\r\n // NOTE: be sure to update your calculation of distance\r\n        // NOTE: consistent with the write up of Lab 2\r\n        // replace this &amp; NOTE comments with your code    \r\n        \r\n        \r\n        // convert the latitude &amp; longitude of this Location to radians\r\n        // HINT: declare local variables to hold equivalent radians\r\n        // HINT: use appropriate method of the MATH class\r\n        // replace this &amp; HINT comments with your code \r\n        \r\n        // converts latitude of this Location to radians\r\n        \r\n        // converts longitude of this Location to radians\r\n        \r\n        \r\n\r\n        // calculate the distance and return\r\n        // HINT: use appropriate methods of the MATH class\r\n        // HINT: used the defined &#39;final constant&quot; for earth&#39;s radius\r\n        // replace this &amp; HINT comments &amp; return statement with your code \r\n        \r\n    }\r\n// so in when it mentions being consistant with the write up and \r\n// this is the write up exactly \r\n\r\n/*\r\n1.\tFirst convert latitude and longitude (in degrees) to latitude and longitude in radians\r\nNOTE: use the Math.toRadians() method\r\n2.\tUse the formula\r\n3959.0 * ArcCos[  sin(lat1) *  sin(lat2) + cos(lat1) * cos(lat2) * cos(lon2 - lon1) ]\r\nUse Math.acos() for ArcCos, Math.cos() for cosine, Math.sin() for sin\r\n3959.0 is the approximate radius of the earth in miles\r\n*/\r\n\r\n```\r\n\r\n\r\nI am having a hard time understanding the purpose of the variables of `lat2` and `lon2`.\r\n\r\nThe formula is:\r\n\r\n`3959.0 * ArcCos[ sin(lat1) * sin(lat2) + cos(lat1) * cos(lat2) * cos(lon2 - lon1) ]`\r\n\r\nI am assuming the first location has coordinates of `(lat1, lon1)` and the second location has coordinates of `(lat2, lon2)` and then obviously the distance between both of these locations can be calculated with the formula I&#39;m just really confused.","title":"I am trying to calculate a distance formula between 2 locations (or classes) using the Great circle distance formula","body":"<p>I have 2 different classes that model a Station Location and the other a calculated Location. These classes used to be a part of each other in one class but I have separated them out due to instructions from my teacher. I have most of the code done in both classes but I am struggling at the very end when I have to join these 2 classes together somehow using the distance calculation and target long/lat.If I could get some clarity on how to code and what the code means in the Location class I can probably figure out Station class part on my own.</p>\n<pre class=\"lang-java prettyprint-override\"><code>// Models a location\npublic class Location {\n    // instant variables\n    private double latitude;\n    private double longitude;\n    \n    // constant (Approximate radius of earth in miles.\n    public static final double EARTH_Radius = 3959.0;\n\n    // Constructor for objects of class Location\n    public Location(double inLatitude, double inLongitude) {\n        this.latitude = inLatitude;\n        this.Longitude = inLongitude;\n\n    //returns latitude and longitude of the Location\n    public double getLatitude() {\n        return this.latitude;\n    public double getLongitude() {\n        return this.longitude();\n\n// Now for the part that I am struggling with \n// Calculates approximate distance between the this location\n     *    and the parameter value location.\n     * \n     * @param  inLocation Location  input Location.\n     * @return double  distance in miles\n     */\n    public double calcDistance(Location inLocation)\n // NOTE: be sure to update your calculation of distance\n        // NOTE: consistent with the write up of Lab 2\n        // replace this &amp; NOTE comments with your code    \n        \n        \n        // convert the latitude &amp; longitude of this Location to radians\n        // HINT: declare local variables to hold equivalent radians\n        // HINT: use appropriate method of the MATH class\n        // replace this &amp; HINT comments with your code \n        \n        // converts latitude of this Location to radians\n        \n        // converts longitude of this Location to radians\n        \n        \n\n        // calculate the distance and return\n        // HINT: use appropriate methods of the MATH class\n        // HINT: used the defined 'final constant&quot; for earth's radius\n        // replace this &amp; HINT comments &amp; return statement with your code \n        \n    }\n// so in when it mentions being consistant with the write up and \n// this is the write up exactly \n\n/*\n1.  First convert latitude and longitude (in degrees) to latitude and longitude in radians\nNOTE: use the Math.toRadians() method\n2.  Use the formula\n3959.0 * ArcCos[  sin(lat1) *  sin(lat2) + cos(lat1) * cos(lat2) * cos(lon2 - lon1) ]\nUse Math.acos() for ArcCos, Math.cos() for cosine, Math.sin() for sin\n3959.0 is the approximate radius of the earth in miles\n*/\n\n</code></pre>\n<p>I am having a hard time understanding the purpose of the variables of <code>lat2</code> and <code>lon2</code>.</p>\n<p>The formula is:</p>\n<p><code>3959.0 * ArcCos[ sin(lat1) * sin(lat2) + cos(lat1) * cos(lat2) * cos(lon2 - lon1) ]</code></p>\n<p>I am assuming the first location has coordinates of <code>(lat1, lon1)</code> and the second location has coordinates of <code>(lat2, lon2)</code> and then obviously the distance between both of these locations can be calculated with the formula I'm just really confused.</p>\n"},{"tags":["java","c#","unicode"],"comments":[{"owner":{"account_id":1083854,"reputation":13775,"user_id":1080064,"accept_rate":43,"display_name":"tkausl"},"score":0,"creation_date":1677201079,"post_id":75551778,"comment_id":133296241,"body_markdown":"How about encoding the text to UTF8 if you plan to decode it as UTF8 afterwards. Hint: Unicode is __not__ UTF8.","body":"How about encoding the text to UTF8 if you plan to decode it as UTF8 afterwards. Hint: Unicode is <b>not</b> UTF8."},{"owner":{"account_id":4004936,"reputation":1304,"user_id":3299843,"accept_rate":89,"display_name":"Haminteu"},"score":0,"creation_date":1677201125,"post_id":75551778,"comment_id":133296244,"body_markdown":"It seems like the issue you are facing is related to the encoding of the decrypted bytes into a string in Java.","body":"It seems like the issue you are facing is related to the encoding of the decrypted bytes into a string in Java."},{"owner":{"account_id":24662336,"reputation":504,"user_id":18558424,"display_name":"Abe"},"score":0,"creation_date":1677201617,"post_id":75551778,"comment_id":133296314,"body_markdown":"Updated with more info. This is a best I can get. Not sure what is the correct way to encode the decrypted bytes in java.","body":"Updated with more info. This is a best I can get. Not sure what is the correct way to encode the decrypted bytes in java."},{"owner":{"account_id":24662336,"reputation":504,"user_id":18558424,"display_name":"Abe"},"score":0,"creation_date":1677201808,"post_id":75551778,"comment_id":133296332,"body_markdown":"Before encryption in #C, myBytes should have 0 due to little-endian in .Net. I think Unicode uses two encoding forms: 8-bit and 16-bit","body":"Before encryption in #C, myBytes should have 0 due to little-endian in .Net. I think Unicode uses two encoding forms: 8-bit and 16-bit"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1677214514,"post_id":75551778,"comment_id":133297748,"body_markdown":"Please show a minimal, runnable example which illustrates the problem.","body":"Please show a minimal, runnable example which illustrates the problem."},{"owner":{"account_id":4198672,"reputation":28840,"user_id":3439404,"display_name":"JosefZ"},"score":1,"creation_date":1677225460,"post_id":75551778,"comment_id":133299408,"body_markdown":"You face a [mojibake](https://en.wikipedia.org/wiki/Mojibake) case (*example in Python for its universal intelligibility*): both `&quot;搀攀瘀栀最愀瀀瀀猀琀漀爀愀最攀戀氀漀戀&quot;.encode( &#39;utf-16-le&#39;).decode( &#39;utf-16-be&#39;)` and `&quot;搀攀瘀栀最愀瀀瀀猀琀漀爀愀最攀戀氀漀戀&quot;.encode( &#39;utf-16-be&#39;).decode( &#39;utf-16-le&#39;)` return plausible string `devhgappstorageblob`. Use [appropriate charset](https://docs.oracle.com/javase/7/docs/api/java/nio/charset/StandardCharsets.html) instead of `StandardCharsets.UTF_16`. Not sure whether `UTF_16LE` or `UTF_16BE` do apply…","body":"You face a <a href=\"https://en.wikipedia.org/wiki/Mojibake\" rel=\"nofollow noreferrer\">mojibake</a> case (<i>example in Python for its universal intelligibility</i>): both <code>&quot;搀攀瘀栀最愀瀀瀀猀琀漀爀愀最攀戀氀漀戀&quot;.encode( &#39;utf-16-le&#39;).decode( &#39;utf-16-be&#39;)</code> and <code>&quot;搀攀瘀栀最愀瀀瀀猀琀漀爀愀最攀戀氀漀戀&quot;.encode( &#39;utf-16-be&#39;).decode( &#39;utf-16-le&#39;)</code> return plausible string <code>devhgappstorageblob</code>. Use <a href=\"https://docs.oracle.com/javase/7/docs/api/java/nio/charset/StandardCharsets.html\" rel=\"nofollow noreferrer\">appropriate charset</a> instead of <code>StandardCharsets.UTF_16</code>. Not sure whether <code>UTF_16LE</code> or <code>UTF_16BE</code> do apply…"}],"answers":[{"tags":[],"owner":{"account_id":24662336,"reputation":504,"user_id":18558424,"display_name":"Abe"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1677472248,"creation_date":1677472248,"answer_id":75576793,"question_id":75551778,"body_markdown":" Thanks for JosefZ&#39;s answer in the comment. It works\r\n\r\n       new String(decryptionResult_.getPlainText(), StandardCharsets.UTF_16LE);","title":"How to remove little-endian byte 0 in Java","body":"<p>Thanks for JosefZ's answer in the comment. It works</p>\n<pre><code>   new String(decryptionResult_.getPlainText(), StandardCharsets.UTF_16LE);\n</code></pre>\n"}],"owner":{"account_id":24662336,"reputation":504,"user_id":18558424,"display_name":"Abe"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":60,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":75576793,"answer_count":1,"score":-2,"last_activity_date":1677472248,"creation_date":1677200895,"question_id":75551778,"body_markdown":"#C encodes original myValue before encryption.\r\n    \r\n    var myBytes = Encoding.Unicode.GetBytes(myValue);\r\n    \r\n    var encryptedResult = cryptoClient.Encrypt(EncryptionAlgorithm.RsaOaep, myBytes);\r\n    \r\n    var encryptedmyString = Convert.ToBase64String(encryptedResult.Ciphertext);\r\n\r\nI need to decrypt it in Java.\r\n\r\n    byte[] code = Base64.getDecoder().decode(encryptedmyString);\r\n    \r\n    DecryptResult decryptionResult = cryptoClient.decrypt(EncryptionAlgorithm.RSA_OAEP, code);\r\n    \r\n    String result = new String(decryptionResult.getPlainText(), StandardCharsets.UTF_8);\r\n\r\nresult has 0 after each byte. I found out this article about little-endian byte https://stackoverflow.com/questions/32585671/why-encoding-unicode-getbytes-returns-an-additional-0\r\n\r\nHow to remove those extra 0 in Java?\r\n\r\n**Updated**:\r\n\r\nI am not #C developer. I can&#39;t change their code.\r\n\r\nIf I tried this after decryption, it gives me wrong &quot;搀攀瘀栀最愀瀀瀀猀琀漀爀愀最攀戀氀漀戀&quot;\r\n\r\n    new String(decryptionResult.getPlainText(), StandardCharsets.UTF_16);\r\n\r\n","title":"How to remove little-endian byte 0 in Java","body":"<p>#C encodes original myValue before encryption.</p>\n<pre><code>var myBytes = Encoding.Unicode.GetBytes(myValue);\n\nvar encryptedResult = cryptoClient.Encrypt(EncryptionAlgorithm.RsaOaep, myBytes);\n\nvar encryptedmyString = Convert.ToBase64String(encryptedResult.Ciphertext);\n</code></pre>\n<p>I need to decrypt it in Java.</p>\n<pre><code>byte[] code = Base64.getDecoder().decode(encryptedmyString);\n\nDecryptResult decryptionResult = cryptoClient.decrypt(EncryptionAlgorithm.RSA_OAEP, code);\n\nString result = new String(decryptionResult.getPlainText(), StandardCharsets.UTF_8);\n</code></pre>\n<p>result has 0 after each byte. I found out this article about little-endian byte <a href=\"https://stackoverflow.com/questions/32585671/why-encoding-unicode-getbytes-returns-an-additional-0\">Why Encoding.Unicode.GetBytes() returns an additional 0</a></p>\n<p>How to remove those extra 0 in Java?</p>\n<p><strong>Updated</strong>:</p>\n<p>I am not #C developer. I can't change their code.</p>\n<p>If I tried this after decryption, it gives me wrong &quot;搀攀瘀栀最愀瀀瀀猀琀漀爀愀最攀戀氀漀戀&quot;</p>\n<pre><code>new String(decryptionResult.getPlainText(), StandardCharsets.UTF_16);\n</code></pre>\n"},{"tags":["java","spring","spring-boot","netbeans"],"answers":[{"tags":[],"owner":{"account_id":19257635,"reputation":100,"user_id":14074180,"display_name":"Ho Quang Lam"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677472128,"creation_date":1677472128,"answer_id":75576784,"question_id":75576283,"body_markdown":"I have resolved this problem by choosing JAR Packaging instead of WAR at the beginning of Spring Initializr.","title":"NetBeans - has been compiled by a more recent version of the Java Runtime (class file version 61.0)","body":"<p>I have resolved this problem by choosing JAR Packaging instead of WAR at the beginning of Spring Initializr.</p>\n"}],"owner":{"account_id":19257635,"reputation":100,"user_id":14074180,"display_name":"Ho Quang Lam"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":679,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1677472128,"creation_date":1677464264,"question_id":75576283,"body_markdown":"I am facing the error, when compiling and running java in NetBeans 12 for Spring Boot 3.0.3 &amp; Java 17.\r\n\r\n**java.lang.UnsupportedClassVersionError: com/example/javareacttemplate/MainClass has been compiled by a more recent version of the Java Runtime (class file version 61.0), this version of the Java Runtime only recognizes class file versions up to 52.0**\r\n\r\n I was trying to create a simple maven project to print the Java runtime version next to that project and it successfully ran with the output:\r\n\r\n     System.out.println(&quot;Java v:&quot; + System.getProperty(&quot;java.version&quot;));\r\n     //Java v:17.0.6\r\n\r\nAnd these are 2 terminal commands at the beginning of running 2 projects\r\n\r\nThe Spring Boot one\r\n\r\n    cd D:\\somepath\\somepath\\projectOne; \r\n    &quot;JAVA_HOME=D:\\\\Program Files\\\\Java\\\\jdk-17&quot; \r\n    M2_HOME=D:\\\\Maven\\\\apache-maven-3.9.0 cmd /c &quot;\\&quot;D:\\\\Maven\\\\apache-maven-3.9.0\\\\bin\\\\mvn.cmd\\&quot; \r\n    -Dexec.args=\\&quot;-classpath %classpath com.example.javareacttemplate.MainClass\\&quot; \r\n    -Dexec.executable=java \r\n    -Dexec.classpathScope=runtime \r\n    -Dmaven.ext.class.path=\\&quot;C:\\\\Program Files\\\\NetBeans-12.0\\\\netbeans\\\\java\\\\maven-nblib\\\\netbeans-eventspy.jar\\&quot; \r\n    -Dfile.encoding=UTF-8 org.codehaus.mojo:exec-maven-plugin:1.5.0:exec&quot;\r\n\r\nThe simple Maven project \r\n\r\n    cd D:\\somepath\\somepath\\somepath\\mavenproject1; \r\n    &quot;JAVA_HOME=D:\\\\Program Files\\\\Java\\\\jdk-17&quot; \r\n    M2_HOME=D:\\\\Maven\\\\apache-maven-3.9.0 cmd /c &quot;\\&quot;D:\\\\Maven\\\\apache-maven-3.9.0\\\\bin\\\\mvn.cmd\\&quot; \r\n    -Dexec.args=\\&quot;-classpath %classpath com.mycompany.mavenproject1.MainClass\\&quot; \r\n    -Dexec.executable=\\&quot;D:\\\\Program Files\\\\Java\\\\jdk-17\\\\bin\\\\java.exe\\&quot; \r\n    -Dexec.classpathScope=runtime \r\n    -Dmaven.ext.class.path=\\&quot;C:\\\\Program Files\\\\NetBeans-12.0\\\\netbeans\\\\java\\\\maven-nblib\\\\netbeans-eventspy.jar\\&quot; \r\n    -Dfile.encoding=UTF-8 org.codehaus.mojo:exec-maven-plugin:1.5.0:exec&quot;\r\n\r\nI don&#39;t know how to change the Spring Boot Java run time, is there any way possible to change it to 17 but still use NetBeans IDE?\r\n\r\nUpdate: in Help -&gt; About tab\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/KXC3R.png","title":"NetBeans - has been compiled by a more recent version of the Java Runtime (class file version 61.0)","body":"<p>I am facing the error, when compiling and running java in NetBeans 12 for Spring Boot 3.0.3 &amp; Java 17.</p>\n<p><strong>java.lang.UnsupportedClassVersionError: com/example/javareacttemplate/MainClass has been compiled by a more recent version of the Java Runtime (class file version 61.0), this version of the Java Runtime only recognizes class file versions up to 52.0</strong></p>\n<p>I was trying to create a simple maven project to print the Java runtime version next to that project and it successfully ran with the output:</p>\n<pre><code> System.out.println(&quot;Java v:&quot; + System.getProperty(&quot;java.version&quot;));\n //Java v:17.0.6\n</code></pre>\n<p>And these are 2 terminal commands at the beginning of running 2 projects</p>\n<p>The Spring Boot one</p>\n<pre><code>cd D:\\somepath\\somepath\\projectOne; \n&quot;JAVA_HOME=D:\\\\Program Files\\\\Java\\\\jdk-17&quot; \nM2_HOME=D:\\\\Maven\\\\apache-maven-3.9.0 cmd /c &quot;\\&quot;D:\\\\Maven\\\\apache-maven-3.9.0\\\\bin\\\\mvn.cmd\\&quot; \n-Dexec.args=\\&quot;-classpath %classpath com.example.javareacttemplate.MainClass\\&quot; \n-Dexec.executable=java \n-Dexec.classpathScope=runtime \n-Dmaven.ext.class.path=\\&quot;C:\\\\Program Files\\\\NetBeans-12.0\\\\netbeans\\\\java\\\\maven-nblib\\\\netbeans-eventspy.jar\\&quot; \n-Dfile.encoding=UTF-8 org.codehaus.mojo:exec-maven-plugin:1.5.0:exec&quot;\n</code></pre>\n<p>The simple Maven project</p>\n<pre><code>cd D:\\somepath\\somepath\\somepath\\mavenproject1; \n&quot;JAVA_HOME=D:\\\\Program Files\\\\Java\\\\jdk-17&quot; \nM2_HOME=D:\\\\Maven\\\\apache-maven-3.9.0 cmd /c &quot;\\&quot;D:\\\\Maven\\\\apache-maven-3.9.0\\\\bin\\\\mvn.cmd\\&quot; \n-Dexec.args=\\&quot;-classpath %classpath com.mycompany.mavenproject1.MainClass\\&quot; \n-Dexec.executable=\\&quot;D:\\\\Program Files\\\\Java\\\\jdk-17\\\\bin\\\\java.exe\\&quot; \n-Dexec.classpathScope=runtime \n-Dmaven.ext.class.path=\\&quot;C:\\\\Program Files\\\\NetBeans-12.0\\\\netbeans\\\\java\\\\maven-nblib\\\\netbeans-eventspy.jar\\&quot; \n-Dfile.encoding=UTF-8 org.codehaus.mojo:exec-maven-plugin:1.5.0:exec&quot;\n</code></pre>\n<p>I don't know how to change the Spring Boot Java run time, is there any way possible to change it to 17 but still use NetBeans IDE?</p>\n<p>Update: in Help -&gt; About tab\n<a href=\"https://i.stack.imgur.com/KXC3R.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/KXC3R.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","amazon-web-services","amazon-cloudwatch"],"comments":[{"owner":{"account_id":6023763,"reputation":1217,"user_id":7805363,"display_name":"Programming-Lover"},"score":0,"creation_date":1677475675,"post_id":75576658,"comment_id":133338088,"body_markdown":"I want a similar response to the one below via SDK.","body":"I want a similar response to the one below via SDK."},{"owner":{"account_id":374094,"reputation":6654,"user_id":724109,"accept_rate":100,"display_name":"Avishek Bhattacharya"},"score":0,"creation_date":1677478304,"post_id":75576658,"comment_id":133338407,"body_markdown":"Do you want to do from sdk?","body":"Do you want to do from sdk?"},{"owner":{"account_id":58377,"reputation":247880,"user_id":174777,"display_name":"John Rotenstein"},"score":0,"creation_date":1677483136,"post_id":75576658,"comment_id":133339224,"body_markdown":"[Getting metrics from CloudWatch - AWS SDK for Java 2.x](https://docs.aws.amazon.com/sdk-for-java/latest/developer-guide/examples-cloudwatch-get-metrics.html)","body":"<a href=\"https://docs.aws.amazon.com/sdk-for-java/latest/developer-guide/examples-cloudwatch-get-metrics.html\" rel=\"nofollow noreferrer\">Getting metrics from CloudWatch - AWS SDK for Java 2.x</a>"},{"owner":{"account_id":6023763,"reputation":1217,"user_id":7805363,"display_name":"Programming-Lover"},"score":0,"creation_date":1677491713,"post_id":75576658,"comment_id":133341301,"body_markdown":"here we are passing the namespace whereas I first want to list all the available metric namespaces under cloud watch via SDK","body":"here we are passing the namespace whereas I first want to list all the available metric namespaces under cloud watch via SDK"},{"owner":{"account_id":4064266,"reputation":1553,"user_id":3339818,"display_name":"surajs1n"},"score":0,"creation_date":1677519761,"post_id":75576658,"comment_id":133349967,"body_markdown":"how would you like to get, either using SDK or cli based?","body":"how would you like to get, either using SDK or cli based?"},{"owner":{"account_id":6023763,"reputation":1217,"user_id":7805363,"display_name":"Programming-Lover"},"score":0,"creation_date":1677561531,"post_id":75576658,"comment_id":133357557,"body_markdown":"I want to get this via java SDKs","body":"I want to get this via java SDKs"}],"owner":{"account_id":6023763,"reputation":1217,"user_id":7805363,"display_name":"Programming-Lover"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":380,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677470162,"creation_date":1677470162,"question_id":75576658,"body_markdown":"I want to get the list of available CloudWatch metric namespaces, later I will make use of them to get metrics.","title":"AWS: How to list all cloudwatch metric namespaces","body":"<p>I want to get the list of available CloudWatch metric namespaces, later I will make use of them to get metrics.</p>\n"},{"tags":["java","intellij-idea","preferences"],"comments":[{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1677446853,"post_id":75575093,"comment_id":133334828,"body_markdown":"*&quot;the application runs otherwise perfectly&quot;* - So what&#39;s the problem?  Why does the contents of the `prefs.xml` make any difference, so long as it&#39;s running?  The preferences API is intended to be a &quot;black hole&quot; API, the actual storage and management mechanisms are suppose to be independent of the application and platform (for example, on Windows it gets stored in the registery)","body":"<i>&quot;the application runs otherwise perfectly&quot;</i> - So what&#39;s the problem?  Why does the contents of the <code>prefs.xml</code> make any difference, so long as it&#39;s running?  The preferences API is intended to be a &quot;black hole&quot; API, the actual storage and management mechanisms are suppose to be independent of the application and platform (for example, on Windows it gets stored in the registery)"},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":0,"creation_date":1677449280,"post_id":75575093,"comment_id":133335217,"body_markdown":"confirmed on my system, I get the same so called &quot;gibberish&quot; directories - but the names are not changed from run to run, and the saved value is retrieved successfully: some characters are not accepted in file/directory names - these must be somehow escaped - &quot;org&quot; for example is just using alphabetical letters and is not changed, the other names are using `_` which forces the names to be encoded - try `root.node(&quot;/org/gsusers/gsmv&quot;)`","body":"confirmed on my system, I get the same so called &quot;gibberish&quot; directories - but the names are not changed from run to run, and the saved value is retrieved successfully: some characters are not accepted in file/directory names - these must be somehow escaped - &quot;org&quot; for example is just using alphabetical letters and is not changed, the other names are using <code>_</code> which forces the names to be encoded - try <code>root.node(&quot;&#47;org&#47;gsusers&#47;gsmv&quot;)</code>"},{"owner":{"account_id":7282641,"reputation":1,"user_id":6015943,"display_name":"papaworx"},"score":0,"creation_date":1677497775,"post_id":75575093,"comment_id":133342854,"body_markdown":"Thank you, user16320675. You hit the nail on the head! It was the darned underline (_). By simply eliminating this one character from the package designation my problem was solved., and everything is working, as it should.","body":"Thank you, user16320675. You hit the nail on the head! It was the darned underline (_). By simply eliminating this one character from the package designation my problem was solved., and everything is working, as it should."}],"answers":[{"tags":[],"owner":{"account_id":27886809,"reputation":1,"user_id":21294066,"display_name":"geopokrovskiy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677468068,"creation_date":1677468068,"answer_id":75576515,"question_id":75575093,"body_markdown":"May be I can be wrong, but apparently you are trying to use Preferences class for the conservation of the directory (for example, a user can choose a directory for an export/import of files and then the chosen dicrectory will be used as a default one). Did you try to create the userRoot only without creating the prefs one?\r\n\r\n        \r\n        private final Preferences user = Preferences.userRoot();\r\n        \r\n        String defaultString = &quot;defaultString&quot;;\r\n        String preferenceDirectory = this.user.get(defaultStr, null);\r\n        if(preferenceDirectory != null){\r\n            File defaultInitialDirectory = new File(preferenceDirectory);\r\n            fileChooser.setInitialDirectory(defaultInitialDirectory);\r\n        }\r\n\r\nLike this, the application will remember the directory or any other preference you need. I also agree with @MadProgrammer that the prefs.xml file is techincal and is for system use only.\r\n\r\n","title":"Java preferences file in gibberish directory","body":"<p>May be I can be wrong, but apparently you are trying to use Preferences class for the conservation of the directory (for example, a user can choose a directory for an export/import of files and then the chosen dicrectory will be used as a default one). Did you try to create the userRoot only without creating the prefs one?</p>\n<pre><code>    private final Preferences user = Preferences.userRoot();\n    \n    String defaultString = &quot;defaultString&quot;;\n    String preferenceDirectory = this.user.get(defaultStr, null);\n    if(preferenceDirectory != null){\n        File defaultInitialDirectory = new File(preferenceDirectory);\n        fileChooser.setInitialDirectory(defaultInitialDirectory);\n    }\n</code></pre>\n<p>Like this, the application will remember the directory or any other preference you need. I also agree with @MadProgrammer that the prefs.xml file is techincal and is for system use only.</p>\n"}],"owner":{"account_id":7282641,"reputation":1,"user_id":6015943,"display_name":"papaworx"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":75,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1677468068,"creation_date":1677446574,"question_id":75575093,"body_markdown":"I designated my prefs in a large java application (in Intellij) as\r\n\r\n```\r\nprivate final Preferences root = Preferences.userRoot();\r\nprivate final Preferences prefs = root.node(&quot;/org/gs_users/gs_mv&quot;);\r\n```\r\nThe designation corresponds to the java package name.\r\n\r\nAfter I ran the application, and looked for the prefs.xml file, I found:\r\n[shows in ~/home/.java as:](https://i.stack.imgur.com/QGfXs.jpg)\r\n\r\nI tried different ways of specifying preference root and node. But every time I ran the application, a new gibberish directory appeared with a different combination of letters and symbols, even when I didn&#39;t change anything. Although the application runs otherwise perfectly, I can&#39;t release it like this.","title":"Java preferences file in gibberish directory","body":"<p>I designated my prefs in a large java application (in Intellij) as</p>\n<pre><code>private final Preferences root = Preferences.userRoot();\nprivate final Preferences prefs = root.node(&quot;/org/gs_users/gs_mv&quot;);\n</code></pre>\n<p>The designation corresponds to the java package name.</p>\n<p>After I ran the application, and looked for the prefs.xml file, I found:\n<a href=\"https://i.stack.imgur.com/QGfXs.jpg\" rel=\"nofollow noreferrer\">shows in ~/home/.java as:</a></p>\n<p>I tried different ways of specifying preference root and node. But every time I ran the application, a new gibberish directory appeared with a different combination of letters and symbols, even when I didn't change anything. Although the application runs otherwise perfectly, I can't release it like this.</p>\n"},{"tags":["java","maven","double-quotes"],"comments":[{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":0,"creation_date":1677467885,"post_id":75576492,"comment_id":133337346,"body_markdown":"It depends on the command shell that you use. Are you using a different operating system than those teammates?","body":"It depends on the command shell that you use. Are you using a different operating system than those teammates?"},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1677468011,"post_id":75576492,"comment_id":133337358,"body_markdown":"Are those examples representative of the two scenarios? Typically, an argument needs to be quoted in order for the parser to consider an argument with spaces as a single argument, rather than 2+ arguments (depending on how many spaces there are).","body":"Are those examples representative of the two scenarios? Typically, an argument needs to be quoted in order for the parser to consider an argument with spaces as a single argument, rather than 2+ arguments (depending on how many spaces there are)."},{"owner":{"account_id":6896076,"reputation":66,"user_id":5297979,"display_name":"Rachel Joyce"},"score":0,"creation_date":1677468204,"post_id":75576492,"comment_id":133337378,"body_markdown":"Yes. We are using a different operating system","body":"Yes. We are using a different operating system"},{"owner":{"account_id":6896076,"reputation":66,"user_id":5297979,"display_name":"Rachel Joyce"},"score":0,"creation_date":1677468249,"post_id":75576492,"comment_id":133337384,"body_markdown":"Yes. This is representative of the two scenarios. The arguments do not have spaces.","body":"Yes. This is representative of the two scenarios. The arguments do not have spaces."},{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":0,"creation_date":1677468675,"post_id":75576492,"comment_id":133337429,"body_markdown":"Are there any characters other than letters and dots in the value you&#39;re putting the quotes around?  (And if the answer is no, then I have no clue what&#39;s going on, because dots without quotes work fine for me in Windows)","body":"Are there any characters other than letters and dots in the value you&#39;re putting the quotes around?  (And if the answer is no, then I have no clue what&#39;s going on, because dots without quotes work fine for me in Windows)"},{"owner":{"account_id":6136413,"reputation":8488,"user_id":4785110,"display_name":"maraca"},"score":4,"creation_date":1677468753,"post_id":75576492,"comment_id":133337438,"body_markdown":"Apparently powershell splits the arguments not only at whitespaces but dots too.","body":"Apparently powershell splits the arguments not only at whitespaces but dots too."},{"owner":{"account_id":6896076,"reputation":66,"user_id":5297979,"display_name":"Rachel Joyce"},"score":0,"creation_date":1677468952,"post_id":75576492,"comment_id":133337460,"body_markdown":"The only characters are letters and dots.","body":"The only characters are letters and dots."},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1677469026,"post_id":75576492,"comment_id":133337465,"body_markdown":"@maraca I forgot about that. It&#39;s been a while since I&#39;ve had to pass an argument with dots to Java (or any program), but I now remember having to surround them with quotes when using PowerShell.","body":"@maraca I forgot about that. It&#39;s been a while since I&#39;ve had to pass an argument with dots to Java (or any program), but I now remember having to surround them with quotes when using PowerShell."},{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":1,"creation_date":1677469173,"post_id":75576492,"comment_id":133337479,"body_markdown":"@maraca if you post that as an answer, I will upvote you.","body":"@maraca if you post that as an answer, I will upvote you."},{"owner":{"account_id":6136413,"reputation":8488,"user_id":4785110,"display_name":"maraca"},"score":0,"creation_date":1677469345,"post_id":75576492,"comment_id":133337499,"body_markdown":"Here&#39;s another one, they say `,`, `;` and `=` are delimiters too. https://stackoverflow.com/questions/26614969/how-can-i-pass-batch-arguments-with-dots-into-a-powershell-script I found it an interesting question, but I don&#39;t know enough about powershell, would need official link.","body":"Here&#39;s another one, they say <code>,</code>, <code>;</code> and <code>=</code> are delimiters too. <a href=\"https://stackoverflow.com/questions/26614969/how-can-i-pass-batch-arguments-with-dots-into-a-powershell-script\" title=\"how can i pass batch arguments with dots into a powershell script\">stackoverflow.com/questions/26614969/&hellip;</a> I found it an interesting question, but I don&#39;t know enough about powershell, would need official link."},{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":2,"creation_date":1677469759,"post_id":75576492,"comment_id":133337530,"body_markdown":"I think a good principle is that if your commands have to be compatible with PowerShell, you should use quote marks around anything that&#39;s not just letters and numbers.  Who knows what the makers of PowerShell are going to break in the next release?","body":"I think a good principle is that if your commands have to be compatible with PowerShell, you should use quote marks around anything that&#39;s not just letters and numbers.  Who knows what the makers of PowerShell are going to break in the next release?"},{"owner":{"account_id":6896076,"reputation":66,"user_id":5297979,"display_name":"Rachel Joyce"},"score":2,"creation_date":1677469785,"post_id":75576492,"comment_id":133337532,"body_markdown":"Yes. Sounds like this is an issue with passing arguments with dots via powershell. Marking it as a duplicate seems fair. Though, I didn&#39;t think to look for powershell commands when I asked this question. How would a person know to think about powershell specifically? It also doesn&#39;t come up as a suggestion when asking this question. So personally think an answer would be more appropriate. But I&#39;ll leave it up to you guys.","body":"Yes. Sounds like this is an issue with passing arguments with dots via powershell. Marking it as a duplicate seems fair. Though, I didn&#39;t think to look for powershell commands when I asked this question. How would a person know to think about powershell specifically? It also doesn&#39;t come up as a suggestion when asking this question. So personally think an answer would be more appropriate. But I&#39;ll leave it up to you guys."},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":1,"creation_date":1677980464,"post_id":75576492,"comment_id":133444351,"body_markdown":"Since no one has answered this question, and it seems the problem really is related to PowerShell and the way it handles periods/dots, I&#39;m closing this question as a duplicate. Part of the reason closing as a duplicate exists is to refer people to the solution despite (potentially radically) different phrasing of the question.","body":"Since no one has answered this question, and it seems the problem really is related to PowerShell and the way it handles periods/dots, I&#39;m closing this question as a duplicate. Part of the reason closing as a duplicate exists is to refer people to the solution despite (potentially radically) different phrasing of the question."},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1677980660,"post_id":75576492,"comment_id":133444377,"body_markdown":"Note I was going to try and answer this question myself, but I couldn&#39;t find anything official related specifically to `.` in [this documentation](https://learn.microsoft.com/en-us/powershell/module/microsoft.powershell.core/about/about_parsing?view=powershell-7.3). Maybe there&#39;s something in other parts of the documentation, or maybe I just missed something. But I didn&#39;t feel comfortable adding an answer as, without more specific documentation, I don&#39;t think I can add anything more that the duplicate doesn&#39;t already cover.","body":"Note I was going to try and answer this question myself, but I couldn&#39;t find anything official related specifically to <code>.</code> in <a href=\"https://learn.microsoft.com/en-us/powershell/module/microsoft.powershell.core/about/about_parsing?view=powershell-7.3\" rel=\"nofollow noreferrer\">this documentation</a>. Maybe there&#39;s something in other parts of the documentation, or maybe I just missed something. But I didn&#39;t feel comfortable adding an answer as, without more specific documentation, I don&#39;t think I can add anything more that the duplicate doesn&#39;t already cover."}],"owner":{"account_id":6896076,"reputation":66,"user_id":5297979,"display_name":"Rachel Joyce"},"comment_count":14,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"closed_date":1677980483,"answer_count":0,"score":2,"last_activity_date":1677468064,"creation_date":1677467701,"question_id":75576492,"body_markdown":"I am working with some people on a basic Java project. The POM files are exactly the same. But when I run the maven command, for example:\r\n\r\n```lang-none\r\nmvn test -Dtest=ExampleTest -DexampleImplementations=com.company.somename.SomeClass\r\n```\r\n\r\nIt runs fine.\r\n\r\nBut when some others run the same command it produces errors and won&#39;t run. When they change the command to have quotes around the parameter values:\r\n\r\n```lang-none\r\nmvn test -Dtest=ExampleTest -DexampleImplementations=&quot;com.company.somename.SomeClass&quot;\r\n```\r\n\r\nIt runs fine.\r\n\r\nMy questions are:\r\n\r\n1. Why the quotes are needed sometimes in the command line and sometimes not?\r\n\r\n2. Is it best practice to use quotes, and why?\r\n\r\nOther notable factors are that we have the same version of maven and the same jdk version. Though I believe the person that it is failing for is using Windows and I am using Mac.\r\nAdditionally, this does not have to do with the values having spaces.\r\n\r\nThank you!","title":"When running maven commands from the command line, why is it sometimes necessary to use quotes around the parameter values and sometime not?","body":"<p>I am working with some people on a basic Java project. The POM files are exactly the same. But when I run the maven command, for example:</p>\n<pre class=\"lang-none prettyprint-override\"><code>mvn test -Dtest=ExampleTest -DexampleImplementations=com.company.somename.SomeClass\n</code></pre>\n<p>It runs fine.</p>\n<p>But when some others run the same command it produces errors and won't run. When they change the command to have quotes around the parameter values:</p>\n<pre class=\"lang-none prettyprint-override\"><code>mvn test -Dtest=ExampleTest -DexampleImplementations=&quot;com.company.somename.SomeClass&quot;\n</code></pre>\n<p>It runs fine.</p>\n<p>My questions are:</p>\n<ol>\n<li><p>Why the quotes are needed sometimes in the command line and sometimes not?</p>\n</li>\n<li><p>Is it best practice to use quotes, and why?</p>\n</li>\n</ol>\n<p>Other notable factors are that we have the same version of maven and the same jdk version. Though I believe the person that it is failing for is using Windows and I am using Mac.\nAdditionally, this does not have to do with the values having spaces.</p>\n<p>Thank you!</p>\n"},{"tags":["java","rest","http","jboss","http-headers"],"comments":[{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":0,"creation_date":1677484292,"post_id":75576402,"comment_id":133339463,"body_markdown":"Note sure if they are the cause of your problem, but: using modifiable fields in your components is definitely a source of trouble. Imagine two clients requesting services of your component at the same time: they will overwrite each others state. Remove those two `private static ...` fields and declare them as local variables in the `process()` method.","body":"Note sure if they are the cause of your problem, but: using modifiable fields in your components is definitely a source of trouble. Imagine two clients requesting services of your component at the same time: they will overwrite each others state. Remove those two <code>private static ...</code> fields and declare them as local variables in the <code>process()</code> method."},{"owner":{"account_id":27886736,"reputation":11,"user_id":21294011,"display_name":"InternetLover"},"score":0,"creation_date":1677495802,"post_id":75576402,"comment_id":133342350,"body_markdown":"Hey @ThomasKl&#228;ger thanks for replying!\nGonna give it a try :)","body":"Hey @ThomasKl&#228;ger thanks for replying! Gonna give it a try :)"},{"owner":{"account_id":27886736,"reputation":11,"user_id":21294011,"display_name":"InternetLover"},"score":0,"creation_date":1677542697,"post_id":75576402,"comment_id":133355061,"body_markdown":"I did what you told me to do but it did not solved my problem :/","body":"I did what you told me to do but it did not solved my problem :/"},{"owner":{"account_id":27886736,"reputation":11,"user_id":21294011,"display_name":"InternetLover"},"score":0,"creation_date":1677542716,"post_id":75576402,"comment_id":133355068,"body_markdown":"@ThomasKl&#228;ger it did not worked :(","body":"@ThomasKl&#228;ger it did not worked :("},{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":0,"creation_date":1677543141,"post_id":75576402,"comment_id":133355142,"body_markdown":"I never promised that it will solve your actual problem - it merely stated that this will cause additional problems.","body":"I never promised that it will solve your actual problem - it merely stated that this will cause additional problems."},{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":0,"creation_date":1677543200,"post_id":75576402,"comment_id":133355155,"body_markdown":"I wonder where you find that status 100 - your code doesn&#39;t produce it and the exception message from the client also doesn&#39;t include it. Are you searching in the correct place?","body":"I wonder where you find that status 100 - your code doesn&#39;t produce it and the exception message from the client also doesn&#39;t include it. Are you searching in the correct place?"},{"owner":{"account_id":27886736,"reputation":11,"user_id":21294011,"display_name":"InternetLover"},"score":0,"creation_date":1677543906,"post_id":75576402,"comment_id":133355265,"body_markdown":"Hey @ThomasKl&#228;ger yeah, i know that. Take a look: https://stackoverflow.com/questions/75585827/service-returning-200-in-postman-but-http-100-code-when-invoking-the-service-dir","body":"Hey @ThomasKl&#228;ger yeah, i know that. Take a look: <a href=\"https://stackoverflow.com/questions/75585827/service-returning-200-in-postman-but-http-100-code-when-invoking-the-service-dir\" title=\"service returning 200 in postman but http 100 code when invoking the service dir\">stackoverflow.com/questions/75585827/&hellip;</a>"},{"owner":{"account_id":27886736,"reputation":11,"user_id":21294011,"display_name":"InternetLover"},"score":0,"creation_date":1677543983,"post_id":75576402,"comment_id":133355275,"body_markdown":"@ThomasKl&#228;ger when i invoke the same service but in POSTMAN i get a HTTP CODE = 200. The problem comes when i invoke that from the PHP application.","body":"@ThomasKl&#228;ger when i invoke the same service but in POSTMAN i get a HTTP CODE = 200. The problem comes when i invoke that from the PHP application."},{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":0,"creation_date":1677570635,"post_id":75576402,"comment_id":133359040,"body_markdown":"If you always get http code 200 when invoking the same service with PostMan but get some other result when invoking from a PHP application then maybe the problem is the PHP application.","body":"If you always get http code 200 when invoking the same service with PostMan but get some other result when invoking from a PHP application then maybe the problem is the PHP application."}],"owner":{"account_id":27886736,"reputation":11,"user_id":21294011,"display_name":"InternetLover"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677466415,"creation_date":1677466376,"question_id":75576402,"body_markdown":"I am invoking a API-REST service written in JAVA but for some odd reason it &quot;sometimes&quot; throws an HTTP CODE that is not mapped so i dont understand where the problem is located.\r\n\r\nIf i run the same request but in POSTMAN i always get the desired http code but if i invoke that from an application it will fail sometimes.  \r\n  \r\nThis is my code written in JAVA:\r\n\r\n```\r\n@Component\r\npublic class FessCalculator implements Processor {\r\n    private static Map&lt;String, Object&gt; headers;\r\n    private static int responseStatusCode = 200;\r\n\r\n    @Override\r\n    public void process(Exchange exchange) throws Exception {\r\n        String message = (String) exchange.getIn().getHeader(&quot;exception.message&quot;);\r\n        String supplierName = exchange.getProperty(&quot;supplierName&quot;,String.class);\r\n        Map&lt;String, companyFess&gt; output = new HashMap&lt;&gt;();\r\n        companyFess companyFess = new companyFess();\r\n        if (StringUtils.isBlank(message)) {\r\n            Map&lt;String, Object&gt; map = exchange.getIn().getBody(Map.class);\r\n            String ebsResult = (String) map.get(&quot;x_msg_data&quot;);\r\n            if (StringUtils.isBlank(ebsResult)) {\r\n                companyFess.setFees((List&lt;TaxLineOut&gt;) map.get(&quot;lines_tab&quot;));\r\n                output.put(supplierName, companyFess);\r\n            } else {\r\n                /*  API executed with errors. Fees will be empty  */\r\n                companyFess.setMessage(ebsResult);\r\n                companyFess.setFees(new ArrayList&lt;TaxLineOut&gt;());\r\n                output.put(supplierName, companyFess);\r\n            }\r\n        } else {\r\n            /* API could not be executed. Fees will be null */\r\n            companyFess.setMessage(&quot;API Could not\r\n be executed&quot;);\r\n            companyFess.setFees(new ArrayList&lt;TaxLineOut&gt;());\r\n            output.put(supplierName, companyFess);\r\n        }\r\n        companyFessResponse response = new companyFessResponse();\r\n        if (output == null || output.isEmpty()) {\r\n            responseStatusCode = 400;\r\n        } else {\r\n            response.setCompanyFees(output);\r\n            for (companyFess companyFess1 : output.values()) {\r\n                if (StringUtils.isNotBlank(companyFess1.getMessage())) {\r\n                    response.setStatus(500);\r\n                }\r\n            }\r\n        }\r\n        exchange.getOut().setBody(response);\r\n        headers = exchange.getIn().getHeaders();\r\n        headers.put(Exchange.HTTP_RESPONSE_CODE, responseStatusCode);\r\n        exchange.getOut().setHeaders(headers);\r\n    }\r\n}\r\n```\r\n\r\nThe error shown in the application that is invoking is this:\r\n\r\n&gt;   \r\n&gt;   \r\n&gt; 8444-\\[2023-02-02 19:44:17\\] feesCalculator.CRITICAL: &quot;feesCalculator API Exception: \\\\&quot;{\\\\\\\\n  \\\\\\\\\\\\&quot;status\\\\\\\\\\\\&quot; : 200,\\\\\\\\n  \\\\\\\\\\\\&quot;companyTaxes\\\\\\\\\\\\&quot; : {\\\\\\\\n    \\\\\\\\\\\\&quot;Company\\\\\\\\\\\\&quot; : {\\\\\\\\n      \\\\\\\\\\\\&quot;message\\\\\\\\\\\\&quot; : \\\\\\\\\\\\&quot;\\\\\\\\\\\\&quot;,\\\\\\\\n      \\\\\\\\\\\\&quot;taxes\\\\\\\\\\\\&quot; : \\[ {\\\\\\\\n        \\\\\\\\\\\\&quot;tax_regime_code\\\\\\\\\\\\&quot; : \\\\\\\\\\\\&quot;USA-VAT\\\\\\\\\\\\&quot;,\\\\\\\\n        \\\\\\\\\\\\&quot;tax\\\\\\\\\\\\&quot; : \\\\\\\\\\\\&quot;STATE\\\\\\\\\\\\&quot;,\\\\\\\\n        \\\\\\\\\\\\&quot;tax_rate_id\\\\\\\\\\\\&quot; : 12500,\\\\\\\\n        \\\\\\\\\\\\&quot;tax_rate_code\\\\\\\\\\\\&quot; : \\\\\\\\\\\\&quot;STATE NGRP 13M\\\\\\\\\\\\&quot;,\\\\\\\\n        \\\\\\\\\\\\&quot;tax_rate_name\\\\\\\\\\\\&quot; : \\\\\\\\\\\\&quot;VAT RAT BSAS\\\\\\\\\\\\&quot;,\\\\\\\\n        \\\\\\\\\\\\&quot;operand\\\\\\\\\\\\&quot; : 1.1,\\\\\\\\n        \\\\\\\\\\\\&quot;amount\\\\\\\\\\\\&quot; : 11499.92\\\\\\\\n      }, {\\\\\\\\n        \\\\\\\\\\\\&quot;tax_regime_code\\\\\\\\\\\\&quot; : \\\\\\\\\\\\&quot;USA-VAT\\\\\\\\\\\\&quot;,\\\\\\\\n        \\\\\\\\\\\\&quot;tax\\\\\\\\\\\\&quot; : \\\\\\\\\\\\&quot;USCF\\\\\\\\\\\\&quot;,\\\\\\\\n        \\\\\\\\\\\\&quot;tax_rate_id\\\\\\\\\\\\&quot; : 13779,\\\\\\\\n        \\\\\\\\\\\\&quot;tax_rate_code\\\\\\\\\\\\&quot; : \\\\\\\\\\\\&quot;GRP07_IIBB_CF\\\\\\\\\\\\&quot;,\\\\\\\\n        \\\\\\\\\\\\&quot;tax_rate_name\\\\\\\\\\\\&quot; : \\\\\\\\\\\\&quot;VAT RAT USA Res 364 AGIP 1%\\\\\\\\\\\\&quot;,\\\\\\\\n        \\\\\\\\\\\\&quot;operand\\\\\\\\\\\\&quot; : 1,\\\\\\\\n        \\\\\\\\\\\\&quot;amount\\\\\\\\\\\\&quot; : 10454.49\\\\\\\\n      }, {\\\\\\\\n        \\\\\\\\\\\\&quot;tax_regime_code\\\\\\\\\\\\&quot; : \\\\\\\\\\\\&quot;USA-VAT\\\\\\\\\\\\&quot;,\\\\\\\\n        \\\\\\\\\\\\&quot;tax\\\\\\\\\\\\&quot; : \\\\\\\\\\\\&quot;USMI\\\\\\\\\\\\&quot;,\\\\\\\\n        \\\\\\\\\\\\&quot;tax_rate_id\\\\\\\\\\\\&quot; : 13881,\\\\\\\\n        \\\\\\\\\\\\&quot;tax_rate_code\\\\\\\\\\\\&quot; : \\\\\\\\\\\\&quot;USMI CONV\\\\\\\\\\\\&quot;,\\\\\\\\n        \\\\\\\\\\\\&quot;tax_rate_name\\\\\\\\\\\\&quot; : \\\\\\\\\\\\&quot;VAT RAT USA\\\\\\\\\\\\&quot;,\\\\\\\\n        \\\\\\\\\\\\&quot;operand\\\\\\\\\\\\&quot; : 3.31,\\\\\\\\n        \\\\\\\\\\\\&quot;amount\\\\\\\\\\\\&quot; : 0\\\\\\\\n      }, {\\\\\\\\n        \\\\\\\\\\\\&quot;tax_regime_code\\\\\\\\\\\\&quot; : \\\\\\\\\\\\&quot;USA-VAT\\\\\\\\\\\\&quot;,\\\\\\\\n        \\\\\\\\\\\\&quot;tax\\\\\\\\\\\\&quot; : \\\\\\\\\\\\&quot;USA-VAT\\\\\\\\\\\\&quot;,\\\\\\\\n        \\\\\\\\\\\\&quot;tax_rate_id\\\\\\\\\\\\&quot; : 13710,\\\\\\\\n        \\\\\\\\\\\\&quot;tax_rate_code\\\\\\\\\\\\&quot; : \\\\\\\\\\\\&quot;USA-VAT CM 2,5\\\\\\\\\\\\&quot;,\\\\\\\\n        \\\\\\\\\\\\&quot;tax_rate_name\\\\\\\\\\\\&quot; : \\\\\\\\\\\\&quot;VAT RAT Tucum\\\\\\\\\\\\&quot;,\\\\\\\\n        \\\\\\\\\\\\&quot;operand\\\\\\\\\\\\&quot; : 2.5,\\\\\\\\n        \\\\\\\\\\\\&quot;amount\\\\\\\\\\\\&quot; : 501.81\\\\\\\\n      }, {\\\\\\\\n        \\\\\\\\\\\\&quot;tax_regime_code\\\\\\\\\\\\&quot; : \\\\\\\\\\\\&quot;USA-VAT\\\\\\\\\\\\&quot;,\\\\\\\\n        \\\\\\\\\\\\&quot;tax\\\\\\\\\\\\&quot; : \\\\\\\\\\\\&quot;USFO\\\\\\\\\\\\&quot;,\\\\\\\\n        \\\\\\\\\\\\&quot;tax_rate_id\\\\\\\\\\\\&quot; : 12035,\\\\\\\\n        \\\\\\\\\\\\&quot;tax_rate_code\\\\\\\\\\\\&quot; : \\\\\\\\\\\\&quot;USFO CONV\\\\\\\\\\\\&quot;,\\\\\\\\n        \\\\\\\\\\\\&quot;tax_rate_name\\\\\\\\\\\\&quot; : \\\\\\\\\\\\&quot;VAT RAT Formos\\\\\\\\\\\\&quot;,\\\\\\\\n        \\\\\\\\\\\\&quot;operand\\\\\\\\\\\\&quot; : 1,\\\\\\\\n        \\\\\\\\\\\\&quot;amount\\\\\\\\\\\\&quot; : 0\\\\\\\\n      }, {\\\\\\\\n        \\\\\\\\\\\\&quot;tax_regime_code\\\\\\\\\\\\&quot; : \\\\\\\\\\\\&quot;USA-VAT\\\\\\\\\\\\&quot;,\\\\\\\\n        \\\\\\\\\\\\&quot;tax\\\\\\\\\\\\&quot; : \\\\\\\\\\\\&quot;VAT\\\\\\\\\\\\&quot;,\\\\\\\\n        \\\\\\\\\\\\&quot;tax_rate_id\\\\\\\\\\\\&quot; : 11756,\\\\\\\\n        \\\\\\\\\\\\&quot;tax_rate_code\\\\\\\\\\\\&quot; : \\\\\\\\\\\\&quot;VAT 21% PP BA\\\\\\\\\\\\&quot;,\\\\\\\\n        \\\\\\\\\\\\&quot;tax_rate_name\\\\\\\\\\\\&quot; : \\\\\\\\\\\\&quot;VAT 21%\\\\\\\\\\\\&quot;,\\\\\\\\n        \\\\\\\\\\\\&quot;operand\\\\\\\\\\\\&quot; : 21,\\\\\\\\n        \\\\\\\\\\\\&quot;amount\\\\\\\\\\\\&quot; : 47326\\\\\\\\n      }, {\\\\\\\\n        \\\\\\\\\\\\&quot;tax_regime_code\\\\\\\\\\\\&quot; : \\\\\\\\\\\\&quot;USA-VAT\\\\\\\\\\\\&quot;,\\\\\\\\n        \\\\\\\\\\\\&quot;tax\\\\\\\\\\\\&quot; : \\\\\\\\\\\\&quot;USER\\\\\\\\\\\\&quot;,\\\\\\\\n        \\\\\\\\\\\\&quot;tax_rate_id\\\\\\\\\\\\&quot; : 12200,\\\\\\\\n        \\\\\\\\\\\\&quot;tax_rate_code\\\\\\\\\\\\&quot; : \\\\\\\\\\\\&quot;USER 3%\\\\\\\\\\\\&quot;,\\\\\\\\n        \\\\\\\\\\\\&quot;tax_rate_name\\\\\\\\\\\\&quot; : \\\\\\\\\\\\&quot;VAT Washington\\\\\\\\\\\\&quot;,\\\\\\\\n        \\\\\\\\\\\\&quot;operand\\\\\\\\\\\\&quot; : 3,\\\\\\\\n        \\\\\\\\\\\\&quot;amount\\\\\\\\\\\\&quot; : 0\\\\\\\\n      }, {\\\\\\\\n        \\\\\\\\\\\\&quot;tax_regime_code\\\\\\\\\\\\&quot; : \\\\\\\\\\\\&quot;USA-VAT\\\\\\\\\\\\&quot;,\\\\\\\\n        \\\\\\\\\\\\&quot;tax\\\\\\\\\\\\&quot; : \\\\\\\\\\\\&quot;VAT\\\\\\\\\\\\&quot;,\\\\\\\\n        \\\\\\\\\\\\&quot;tax_rate_id\\\\\\\\\\\\&quot; : 11765,\\\\\\\\n        \\\\\\\\\\\\&quot;tax_rate_code\\\\\\\\\\\\&quot; : \\\\\\\\\\\\&quot;VAT 21% RVTA\\\\\\\\\\\\&quot;,\\\\\\\\n        \\\\\\\\\\\\&quot;tax_rate_name\\\\\\\\\\\\&quot; : \\\\\\\\\\\\&quot;VAT 21%\\\\\\\\\\\\&quot;,\\\\\\\\n        \\\\\\\\\\\\&quot;operand\\\\\\\\\\\\&quot; : 21,\\\\\\\\n        \\\\\\\\\\\\&quot;amount\\\\\\\\\\\\&quot; : 172218.1\\\\\\\\n      } \\]\\\\\\\\n    }\\\\\\\\n  }\\\\\\\\n}\\\\&quot;&quot; \\[\\] \\[\\]}\r\n\r\nSo, it calls the processor feesCalculator that will calculate all the different fees but for some reason it throws an http code 100 and the response is loaded.\r\n\r\nWhat am i doing wrong? Am i missing anything?\r\n\r\nI would expect to obtain only the mapped http codes","title":"HTTP CODE: 100 thrown but its not mapped (invoking api-rest JAVA)","body":"<p>I am invoking a API-REST service written in JAVA but for some odd reason it &quot;sometimes&quot; throws an HTTP CODE that is not mapped so i dont understand where the problem is located.</p>\n<p>If i run the same request but in POSTMAN i always get the desired http code but if i invoke that from an application it will fail sometimes.</p>\n<p>This is my code written in JAVA:</p>\n<pre><code>@Component\npublic class FessCalculator implements Processor {\n    private static Map&lt;String, Object&gt; headers;\n    private static int responseStatusCode = 200;\n\n    @Override\n    public void process(Exchange exchange) throws Exception {\n        String message = (String) exchange.getIn().getHeader(&quot;exception.message&quot;);\n        String supplierName = exchange.getProperty(&quot;supplierName&quot;,String.class);\n        Map&lt;String, companyFess&gt; output = new HashMap&lt;&gt;();\n        companyFess companyFess = new companyFess();\n        if (StringUtils.isBlank(message)) {\n            Map&lt;String, Object&gt; map = exchange.getIn().getBody(Map.class);\n            String ebsResult = (String) map.get(&quot;x_msg_data&quot;);\n            if (StringUtils.isBlank(ebsResult)) {\n                companyFess.setFees((List&lt;TaxLineOut&gt;) map.get(&quot;lines_tab&quot;));\n                output.put(supplierName, companyFess);\n            } else {\n                /*  API executed with errors. Fees will be empty  */\n                companyFess.setMessage(ebsResult);\n                companyFess.setFees(new ArrayList&lt;TaxLineOut&gt;());\n                output.put(supplierName, companyFess);\n            }\n        } else {\n            /* API could not be executed. Fees will be null */\n            companyFess.setMessage(&quot;API Could not\n be executed&quot;);\n            companyFess.setFees(new ArrayList&lt;TaxLineOut&gt;());\n            output.put(supplierName, companyFess);\n        }\n        companyFessResponse response = new companyFessResponse();\n        if (output == null || output.isEmpty()) {\n            responseStatusCode = 400;\n        } else {\n            response.setCompanyFees(output);\n            for (companyFess companyFess1 : output.values()) {\n                if (StringUtils.isNotBlank(companyFess1.getMessage())) {\n                    response.setStatus(500);\n                }\n            }\n        }\n        exchange.getOut().setBody(response);\n        headers = exchange.getIn().getHeaders();\n        headers.put(Exchange.HTTP_RESPONSE_CODE, responseStatusCode);\n        exchange.getOut().setHeaders(headers);\n    }\n}\n</code></pre>\n<p>The error shown in the application that is invoking is this:</p>\n<blockquote>\n<p>8444-[2023-02-02 19:44:17] feesCalculator.CRITICAL: &quot;feesCalculator API Exception: \\&quot;{\\\\n  \\\\\\&quot;status\\\\\\&quot; : 200,\\\\n  \\\\\\&quot;companyTaxes\\\\\\&quot; : {\\\\n    \\\\\\&quot;Company\\\\\\&quot; : {\\\\n      \\\\\\&quot;message\\\\\\&quot; : \\\\\\&quot;\\\\\\&quot;,\\\\n      \\\\\\&quot;taxes\\\\\\&quot; : [ {\\\\n        \\\\\\&quot;tax_regime_code\\\\\\&quot; : \\\\\\&quot;USA-VAT\\\\\\&quot;,\\\\n        \\\\\\&quot;tax\\\\\\&quot; : \\\\\\&quot;STATE\\\\\\&quot;,\\\\n        \\\\\\&quot;tax_rate_id\\\\\\&quot; : 12500,\\\\n        \\\\\\&quot;tax_rate_code\\\\\\&quot; : \\\\\\&quot;STATE NGRP 13M\\\\\\&quot;,\\\\n        \\\\\\&quot;tax_rate_name\\\\\\&quot; : \\\\\\&quot;VAT RAT BSAS\\\\\\&quot;,\\\\n        \\\\\\&quot;operand\\\\\\&quot; : 1.1,\\\\n        \\\\\\&quot;amount\\\\\\&quot; : 11499.92\\\\n      }, {\\\\n        \\\\\\&quot;tax_regime_code\\\\\\&quot; : \\\\\\&quot;USA-VAT\\\\\\&quot;,\\\\n        \\\\\\&quot;tax\\\\\\&quot; : \\\\\\&quot;USCF\\\\\\&quot;,\\\\n        \\\\\\&quot;tax_rate_id\\\\\\&quot; : 13779,\\\\n        \\\\\\&quot;tax_rate_code\\\\\\&quot; : \\\\\\&quot;GRP07_IIBB_CF\\\\\\&quot;,\\\\n        \\\\\\&quot;tax_rate_name\\\\\\&quot; : \\\\\\&quot;VAT RAT USA Res 364 AGIP 1%\\\\\\&quot;,\\\\n        \\\\\\&quot;operand\\\\\\&quot; : 1,\\\\n        \\\\\\&quot;amount\\\\\\&quot; : 10454.49\\\\n      }, {\\\\n        \\\\\\&quot;tax_regime_code\\\\\\&quot; : \\\\\\&quot;USA-VAT\\\\\\&quot;,\\\\n        \\\\\\&quot;tax\\\\\\&quot; : \\\\\\&quot;USMI\\\\\\&quot;,\\\\n        \\\\\\&quot;tax_rate_id\\\\\\&quot; : 13881,\\\\n        \\\\\\&quot;tax_rate_code\\\\\\&quot; : \\\\\\&quot;USMI CONV\\\\\\&quot;,\\\\n        \\\\\\&quot;tax_rate_name\\\\\\&quot; : \\\\\\&quot;VAT RAT USA\\\\\\&quot;,\\\\n        \\\\\\&quot;operand\\\\\\&quot; : 3.31,\\\\n        \\\\\\&quot;amount\\\\\\&quot; : 0\\\\n      }, {\\\\n        \\\\\\&quot;tax_regime_code\\\\\\&quot; : \\\\\\&quot;USA-VAT\\\\\\&quot;,\\\\n        \\\\\\&quot;tax\\\\\\&quot; : \\\\\\&quot;USA-VAT\\\\\\&quot;,\\\\n        \\\\\\&quot;tax_rate_id\\\\\\&quot; : 13710,\\\\n        \\\\\\&quot;tax_rate_code\\\\\\&quot; : \\\\\\&quot;USA-VAT CM 2,5\\\\\\&quot;,\\\\n        \\\\\\&quot;tax_rate_name\\\\\\&quot; : \\\\\\&quot;VAT RAT Tucum\\\\\\&quot;,\\\\n        \\\\\\&quot;operand\\\\\\&quot; : 2.5,\\\\n        \\\\\\&quot;amount\\\\\\&quot; : 501.81\\\\n      }, {\\\\n        \\\\\\&quot;tax_regime_code\\\\\\&quot; : \\\\\\&quot;USA-VAT\\\\\\&quot;,\\\\n        \\\\\\&quot;tax\\\\\\&quot; : \\\\\\&quot;USFO\\\\\\&quot;,\\\\n        \\\\\\&quot;tax_rate_id\\\\\\&quot; : 12035,\\\\n        \\\\\\&quot;tax_rate_code\\\\\\&quot; : \\\\\\&quot;USFO CONV\\\\\\&quot;,\\\\n        \\\\\\&quot;tax_rate_name\\\\\\&quot; : \\\\\\&quot;VAT RAT Formos\\\\\\&quot;,\\\\n        \\\\\\&quot;operand\\\\\\&quot; : 1,\\\\n        \\\\\\&quot;amount\\\\\\&quot; : 0\\\\n      }, {\\\\n        \\\\\\&quot;tax_regime_code\\\\\\&quot; : \\\\\\&quot;USA-VAT\\\\\\&quot;,\\\\n        \\\\\\&quot;tax\\\\\\&quot; : \\\\\\&quot;VAT\\\\\\&quot;,\\\\n        \\\\\\&quot;tax_rate_id\\\\\\&quot; : 11756,\\\\n        \\\\\\&quot;tax_rate_code\\\\\\&quot; : \\\\\\&quot;VAT 21% PP BA\\\\\\&quot;,\\\\n        \\\\\\&quot;tax_rate_name\\\\\\&quot; : \\\\\\&quot;VAT 21%\\\\\\&quot;,\\\\n        \\\\\\&quot;operand\\\\\\&quot; : 21,\\\\n        \\\\\\&quot;amount\\\\\\&quot; : 47326\\\\n      }, {\\\\n        \\\\\\&quot;tax_regime_code\\\\\\&quot; : \\\\\\&quot;USA-VAT\\\\\\&quot;,\\\\n        \\\\\\&quot;tax\\\\\\&quot; : \\\\\\&quot;USER\\\\\\&quot;,\\\\n        \\\\\\&quot;tax_rate_id\\\\\\&quot; : 12200,\\\\n        \\\\\\&quot;tax_rate_code\\\\\\&quot; : \\\\\\&quot;USER 3%\\\\\\&quot;,\\\\n        \\\\\\&quot;tax_rate_name\\\\\\&quot; : \\\\\\&quot;VAT Washington\\\\\\&quot;,\\\\n        \\\\\\&quot;operand\\\\\\&quot; : 3,\\\\n        \\\\\\&quot;amount\\\\\\&quot; : 0\\\\n      }, {\\\\n        \\\\\\&quot;tax_regime_code\\\\\\&quot; : \\\\\\&quot;USA-VAT\\\\\\&quot;,\\\\n        \\\\\\&quot;tax\\\\\\&quot; : \\\\\\&quot;VAT\\\\\\&quot;,\\\\n        \\\\\\&quot;tax_rate_id\\\\\\&quot; : 11765,\\\\n        \\\\\\&quot;tax_rate_code\\\\\\&quot; : \\\\\\&quot;VAT 21% RVTA\\\\\\&quot;,\\\\n        \\\\\\&quot;tax_rate_name\\\\\\&quot; : \\\\\\&quot;VAT 21%\\\\\\&quot;,\\\\n        \\\\\\&quot;operand\\\\\\&quot; : 21,\\\\n        \\\\\\&quot;amount\\\\\\&quot; : 172218.1\\\\n      } ]\\\\n    }\\\\n  }\\\\n}\\&quot;&quot; [] []}</p>\n</blockquote>\n<p>So, it calls the processor feesCalculator that will calculate all the different fees but for some reason it throws an http code 100 and the response is loaded.</p>\n<p>What am i doing wrong? Am i missing anything?</p>\n<p>I would expect to obtain only the mapped http codes</p>\n"},{"tags":["java","postgresql","playframework","ebean"],"answers":[{"tags":[],"owner":{"account_id":8621268,"reputation":953,"user_id":6456107,"display_name":"Alter"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1617632768,"creation_date":1617632768,"answer_id":66954585,"question_id":66913527,"body_markdown":"Problem solved by replacing:\r\n```\r\nebean.default = [&quot;models.db_writer.*&quot;]\r\nebean.reader = [&quot;models.db_reader.*&quot;]\r\n```\r\n\r\nwith this:\r\n```\r\nebean.default = [&quot;models.*&quot;]\r\nebean.writer = [&quot;models.*&quot;]\r\n```\r\n\r\nas my application uses the same `class model` just different `db` instances, one for reading and another for writing.","title":"How to use double database in Play Framework with Ebean","body":"<p>Problem solved by replacing:</p>\n<pre><code>ebean.default = [&quot;models.db_writer.*&quot;]\nebean.reader = [&quot;models.db_reader.*&quot;]\n</code></pre>\n<p>with this:</p>\n<pre><code>ebean.default = [&quot;models.*&quot;]\nebean.writer = [&quot;models.*&quot;]\n</code></pre>\n<p>as my application uses the same <code>class model</code> just different <code>db</code> instances, one for reading and another for writing.</p>\n"}],"owner":{"account_id":8621268,"reputation":953,"user_id":6456107,"display_name":"Alter"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":125,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":66954585,"answer_count":1,"score":0,"last_activity_date":1677466364,"creation_date":1617328050,"question_id":66913527,"body_markdown":"I&#39;m brand new with `Play Framework` and with `Ebean`. I need to configure a Play application to use two different database instances, one for reading and another for writing. I have been looking in it seems that this is a recurrent issue and I&#39;ve tried all the possible solutions that I&#39;ve been able to find, even the once that works for somebody and isn&#39;t working for me, for sure I&#39;m doing something wrong, because the error has to do or looks like with the `classloader`.\r\n\r\n\r\n`build.sbt`\r\n\r\n```\r\nlazy val root = (project in file(&quot;.&quot;)).enablePlugins(PlayJava, PlayEbean)\r\nval playEbean = &quot;6.0.0&quot;\r\nlibraryDependencies ++= Seq(\r\n...\r\n&quot;com.typesafe.play&quot; % &quot;play-ebean_2.13&quot; % playEbean,\r\n...\r\n\r\n```\r\n\r\n`application.conf`\r\n```\r\ndb.default.driver=org.postgresql.Driver\r\ndb.default.url=&quot;jdbc:postgresql://localhost:5432/db_writer&quot;\r\ndb.default.username=username\r\ndb.default.password=pass\r\n\r\ndb.reader.driver=org.postgresql.Driver\r\ndb.reader.url=&quot;jdbc:postgresql://localhost:5432/db_reader&quot;\r\ndb.reader.username=username\r\ndb.reader.password=pass\r\n\r\nebean.default = [&quot;models.db_writer.*&quot;]\r\nebean.reader = [&quot;models.db_reader.*&quot;]\r\n\r\nplay.ebean.defaultDatasource = &quot;db_writer&quot;\r\n```\r\n\r\n`EbeanServerReader`\r\n\r\n```\r\nimport io.ebean.Ebean;\r\nimport io.ebean.EbeanServer;\r\n\r\npublic class EbeanServerReader {\r\n\r\n    public static EbeanServer getReader() {\r\n        return Ebean.getServer(&quot;reader&quot;);\r\n    }\r\n}\r\n\r\n```\r\n\r\n\r\n`myDaoClass`\r\n\r\n```\r\npublic class myDaoClass {\r\n\r\n    private final FetchConfig fetchConfig = new FetchConfig();\r\n    private final EbeanServer reader = EbeanServerReader.getReader();\r\n    private final Logger logger = LoggerFactory.getLogger(this.getClass());\r\n \r\n      public PagedList&lt;SomeClass&gt; findAllWithNoLimit(int pageIndex, int pageSize, String type) {\r\n        return reader.find(SomeClass.class)\r\n                .fetch(&quot;path&quot;, fetchConfig.lazy(100))\r\n                .fetch(&quot;path&quot;, fetchConfig.lazy(100))\r\n                .fetch(&quot;path&quot;, fetchConfig.lazy(100))\r\n                .where()\r\n                .eq(&quot;propertyName&quot;, type)\r\n                .order()\r\n                .desc(&quot;updatedAt&quot;)\r\n                .setFirstRow(pageIndex * pageSize)\r\n                .setMaxRows(pageSize)\r\n                .findPagedList();\r\n    }\r\n\r\n```\r\n\r\n\r\n\r\nError trace:\r\n```\r\n1) Error injecting constructor, java.lang.NoClassDefFoundError: Could not initialize class io.ebean.Ebean\r\n  at models.myDaoClass.&lt;init&gt;(myDaoClass.java:12)\r\n  while locating models.myDaoClass\r\n    for the 1st parameter of models.myDaoClass.&lt;init&gt;(myDaoClass.java:33)\r\n  while locating models.myDaoClass\r\n\r\n1 error\r\n\tat com.google.inject.internal.InternalProvisionException.toProvisionException(InternalProvisionException.java:226)\r\n\tat com.google.inject.internal.InjectorImpl$1.get(InjectorImpl.java:1097)\r\n\tat com.google.inject.internal.InjectorImpl.getInstance(InjectorImpl.java:1131)\r\n\tat play.api.inject.guice.GuiceInjector.instanceOf(GuiceInjectorBuilder.scala:436)\r\n\tat play.api.inject.guice.GuiceInjector.instanceOf(GuiceInjectorBuilder.scala:431)\r\n\tat play.api.inject.ContextClassLoaderInjector.$anonfun$instanceOf$2(Injector.scala:119)\r\n\tat play.api.inject.ContextClassLoaderInjector.withContext(Injector.scala:128)\r\n\tat play.api.inject.ContextClassLoaderInjector.instanceOf(Injector.scala:119)\r\n\tat play.api.libs.concurrent.ActorRefProvider.$anonfun$get$1(Akka.scala:268)\r\n\tat akka.actor.TypedCreatorFunctionConsumer.produce(IndirectActorProducer.scala:91)\r\n\tat akka.actor.Props.newActor(Props.scala:226)\r\n\tat akka.actor.ActorCell.newActor(ActorCell.scala:613)\r\n\tat akka.actor.ActorCell.create(ActorCell.scala:640)\r\n\t... 9 common frames omitted\r\nCaused by: java.lang.NoClassDefFoundError: Could not initialize class io.ebean.Ebean\r\n\tat module.EbeanServerReader.getReader(EbeanServerReader.java:8)\r\n\r\n```\r\n\r\n\r\nWhat am I doing wrong here? I&#39;ve try another stuffs, like `@Inject` but is the same. \r\n\r\nKind regards","title":"How to use double database in Play Framework with Ebean","body":"<p>I'm brand new with <code>Play Framework</code> and with <code>Ebean</code>. I need to configure a Play application to use two different database instances, one for reading and another for writing. I have been looking in it seems that this is a recurrent issue and I've tried all the possible solutions that I've been able to find, even the once that works for somebody and isn't working for me, for sure I'm doing something wrong, because the error has to do or looks like with the <code>classloader</code>.</p>\n<p><code>build.sbt</code></p>\n<pre><code>lazy val root = (project in file(&quot;.&quot;)).enablePlugins(PlayJava, PlayEbean)\nval playEbean = &quot;6.0.0&quot;\nlibraryDependencies ++= Seq(\n...\n&quot;com.typesafe.play&quot; % &quot;play-ebean_2.13&quot; % playEbean,\n...\n\n</code></pre>\n<p><code>application.conf</code></p>\n<pre><code>db.default.driver=org.postgresql.Driver\ndb.default.url=&quot;jdbc:postgresql://localhost:5432/db_writer&quot;\ndb.default.username=username\ndb.default.password=pass\n\ndb.reader.driver=org.postgresql.Driver\ndb.reader.url=&quot;jdbc:postgresql://localhost:5432/db_reader&quot;\ndb.reader.username=username\ndb.reader.password=pass\n\nebean.default = [&quot;models.db_writer.*&quot;]\nebean.reader = [&quot;models.db_reader.*&quot;]\n\nplay.ebean.defaultDatasource = &quot;db_writer&quot;\n</code></pre>\n<p><code>EbeanServerReader</code></p>\n<pre><code>import io.ebean.Ebean;\nimport io.ebean.EbeanServer;\n\npublic class EbeanServerReader {\n\n    public static EbeanServer getReader() {\n        return Ebean.getServer(&quot;reader&quot;);\n    }\n}\n\n</code></pre>\n<p><code>myDaoClass</code></p>\n<pre><code>public class myDaoClass {\n\n    private final FetchConfig fetchConfig = new FetchConfig();\n    private final EbeanServer reader = EbeanServerReader.getReader();\n    private final Logger logger = LoggerFactory.getLogger(this.getClass());\n \n      public PagedList&lt;SomeClass&gt; findAllWithNoLimit(int pageIndex, int pageSize, String type) {\n        return reader.find(SomeClass.class)\n                .fetch(&quot;path&quot;, fetchConfig.lazy(100))\n                .fetch(&quot;path&quot;, fetchConfig.lazy(100))\n                .fetch(&quot;path&quot;, fetchConfig.lazy(100))\n                .where()\n                .eq(&quot;propertyName&quot;, type)\n                .order()\n                .desc(&quot;updatedAt&quot;)\n                .setFirstRow(pageIndex * pageSize)\n                .setMaxRows(pageSize)\n                .findPagedList();\n    }\n\n</code></pre>\n<p>Error trace:</p>\n<pre><code>1) Error injecting constructor, java.lang.NoClassDefFoundError: Could not initialize class io.ebean.Ebean\n  at models.myDaoClass.&lt;init&gt;(myDaoClass.java:12)\n  while locating models.myDaoClass\n    for the 1st parameter of models.myDaoClass.&lt;init&gt;(myDaoClass.java:33)\n  while locating models.myDaoClass\n\n1 error\n    at com.google.inject.internal.InternalProvisionException.toProvisionException(InternalProvisionException.java:226)\n    at com.google.inject.internal.InjectorImpl$1.get(InjectorImpl.java:1097)\n    at com.google.inject.internal.InjectorImpl.getInstance(InjectorImpl.java:1131)\n    at play.api.inject.guice.GuiceInjector.instanceOf(GuiceInjectorBuilder.scala:436)\n    at play.api.inject.guice.GuiceInjector.instanceOf(GuiceInjectorBuilder.scala:431)\n    at play.api.inject.ContextClassLoaderInjector.$anonfun$instanceOf$2(Injector.scala:119)\n    at play.api.inject.ContextClassLoaderInjector.withContext(Injector.scala:128)\n    at play.api.inject.ContextClassLoaderInjector.instanceOf(Injector.scala:119)\n    at play.api.libs.concurrent.ActorRefProvider.$anonfun$get$1(Akka.scala:268)\n    at akka.actor.TypedCreatorFunctionConsumer.produce(IndirectActorProducer.scala:91)\n    at akka.actor.Props.newActor(Props.scala:226)\n    at akka.actor.ActorCell.newActor(ActorCell.scala:613)\n    at akka.actor.ActorCell.create(ActorCell.scala:640)\n    ... 9 common frames omitted\nCaused by: java.lang.NoClassDefFoundError: Could not initialize class io.ebean.Ebean\n    at module.EbeanServerReader.getReader(EbeanServerReader.java:8)\n\n</code></pre>\n<p>What am I doing wrong here? I've try another stuffs, like <code>@Inject</code> but is the same.</p>\n<p>Kind regards</p>\n"},{"tags":["python","java","android","opencv"],"comments":[{"owner":{"account_id":111736,"reputation":11811,"user_id":295004,"display_name":"Morrison Chang"},"score":0,"creation_date":1677455804,"post_id":75575569,"comment_id":133336064,"body_markdown":"Please follow your own [recommendation](https://stackoverflow.com/q/75570055/295004) and add imports to each section of code. Not knowing where the `detections` object comes from means readers can only guess (even if you are linking to an article).","body":"Please follow your own <a href=\"https://stackoverflow.com/q/75570055/295004\">recommendation</a> and add imports to each section of code. Not knowing where the <code>detections</code> object comes from means readers can only guess (even if you are linking to an article)."},{"owner":{"account_id":2345937,"reputation":3332,"user_id":2056201,"accept_rate":23,"display_name":"Mich"},"score":0,"creation_date":1677556089,"post_id":75575569,"comment_id":133356907,"body_markdown":"detections is an OpenCV Mat","body":"detections is an OpenCV Mat"}],"owner":{"account_id":2345937,"reputation":3332,"user_id":2056201,"accept_rate":23,"display_name":"Mich"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677465797,"creation_date":1677453130,"question_id":75575569,"body_markdown":"I am following this tutorial, however my code is in Java for Android and the tutorial is in Python\r\nhttps://pyimagesearch.com/2017/09/11/object-detection-with-deep-learning-and-opencv/\r\n\r\nI had to convert the code, but it seems to be getting incorrect values for Confidence. Very likely because I did not do the conversion correctly. \r\n\r\nThis is the original code in Python\r\n\r\n    # loop over the detections\r\n    for i in np.arange(0, detections.shape[2]):\r\n    \t# extract the confidence (i.e., probability) associated with the\r\n    \t# prediction\r\n    \tconfidence = detections[0, 0, i, 2]\r\n    \t# filter out weak detections by ensuring the `confidence` is\r\n    \t# greater than the minimum confidence\r\n    \tif confidence &gt; args[&quot;confidence&quot;]:\r\n    \t\t# extract the index of the class label from the `detections`,\r\n    \t\t# then compute the (x, y)-coordinates of the bounding box for\r\n    \t\t# the object\r\n    \t\tidx = int(detections[0, 0, i, 1])\r\n    \t\tbox = detections[0, 0, i, 3:7] * np.array([w, h, w, h])\r\n    \t\t(startX, startY, endX, endY) = box.astype(&quot;int&quot;)\r\n    \t\t# display the prediction\r\n    \t\tlabel = &quot;{}: {:.2f}%&quot;.format(CLASSES[idx], confidence * 100)\r\n    \t\tprint(&quot;[INFO] {}&quot;.format(label))\r\n    \t\tcv2.rectangle(image, (startX, startY), (endX, endY),\r\n    \t\t\tCOLORS[idx], 2)\r\n    \t\ty = startY - 15 if startY - 15 &gt; 15 else startY + 15\r\n    \t\tcv2.putText(image, label, (startX, y),\r\n    \t\t\tcv2.FONT_HERSHEY_SIMPLEX, 0.5, COLORS[idx], 2)\r\n\r\n\r\nThis is my converted Java code\r\n\r\n            float confidenceThreshold = 0.8f;\r\n            // loop over the detections\r\n            for (int i = 0; i &lt; detections.rows(); i++) {\r\n                // extract the confidence (i.e., probability) associated with the\r\n                // prediction\r\n                double confidence = detections.get(i, 2)[0];\r\n                // filter out weak detections by ensuring the `confidence` is\r\n                // greater than the minimum confidence\r\n                if (confidence &gt; confidenceThreshold) {\r\n                    // extract the index of the class label from the `detections`,\r\n                    // then compute the (x, y)-coordinates of the bounding box for\r\n                    // the object\r\n                    int idx = (int)detections.get(i, 1)[0];\r\n                    int boxX = (int)(detections.get(i, 3)[0] * input_image.cols());\r\n                    int boxY = (int)(detections.get(i, 4)[0] * input_image.rows());\r\n                    int boxWidth = (int)(detections.get(i, 5)[0] * input_image.cols()) - boxX;\r\n                    int boxHeight = (int)(detections.get(i, 6)[0] * input_image.rows()) - boxY;\r\n                    // display the prediction\r\n                    Imgproc.putText(input_image, imgLabels.get((int) idx) + &quot;: &quot; + String.format(&quot;%.2f&quot;, confidence * 100) + &quot;%&quot;, new Point(boxX, boxY - 5), Imgproc.FONT_HERSHEY_SIMPLEX, 0.5, new Scalar(0, 255, 0), 2);\r\n                    Imgproc.rectangle(input_image, new Point(boxX, boxY), new Point(boxX + boxWidth, boxY + boxHeight), new Scalar(0, 255, 0), 2);\r\n                }\r\n            }\r\n\r\n\r\nI am getting negative values for confidence, and other values like `idx` dont look right either. \r\nIm not familiar enough with Python or Java syntax to see what I am doing wrong. \r\nIf someone can help spot the mistake, please answer with properly converted code. \r\n\r\nThank you","title":"OpenCV not getting proper Confidence values in Java","body":"<p>I am following this tutorial, however my code is in Java for Android and the tutorial is in Python\n<a href=\"https://pyimagesearch.com/2017/09/11/object-detection-with-deep-learning-and-opencv/\" rel=\"nofollow noreferrer\">https://pyimagesearch.com/2017/09/11/object-detection-with-deep-learning-and-opencv/</a></p>\n<p>I had to convert the code, but it seems to be getting incorrect values for Confidence. Very likely because I did not do the conversion correctly.</p>\n<p>This is the original code in Python</p>\n<pre><code># loop over the detections\nfor i in np.arange(0, detections.shape[2]):\n    # extract the confidence (i.e., probability) associated with the\n    # prediction\n    confidence = detections[0, 0, i, 2]\n    # filter out weak detections by ensuring the `confidence` is\n    # greater than the minimum confidence\n    if confidence &gt; args[&quot;confidence&quot;]:\n        # extract the index of the class label from the `detections`,\n        # then compute the (x, y)-coordinates of the bounding box for\n        # the object\n        idx = int(detections[0, 0, i, 1])\n        box = detections[0, 0, i, 3:7] * np.array([w, h, w, h])\n        (startX, startY, endX, endY) = box.astype(&quot;int&quot;)\n        # display the prediction\n        label = &quot;{}: {:.2f}%&quot;.format(CLASSES[idx], confidence * 100)\n        print(&quot;[INFO] {}&quot;.format(label))\n        cv2.rectangle(image, (startX, startY), (endX, endY),\n            COLORS[idx], 2)\n        y = startY - 15 if startY - 15 &gt; 15 else startY + 15\n        cv2.putText(image, label, (startX, y),\n            cv2.FONT_HERSHEY_SIMPLEX, 0.5, COLORS[idx], 2)\n</code></pre>\n<p>This is my converted Java code</p>\n<pre><code>        float confidenceThreshold = 0.8f;\n        // loop over the detections\n        for (int i = 0; i &lt; detections.rows(); i++) {\n            // extract the confidence (i.e., probability) associated with the\n            // prediction\n            double confidence = detections.get(i, 2)[0];\n            // filter out weak detections by ensuring the `confidence` is\n            // greater than the minimum confidence\n            if (confidence &gt; confidenceThreshold) {\n                // extract the index of the class label from the `detections`,\n                // then compute the (x, y)-coordinates of the bounding box for\n                // the object\n                int idx = (int)detections.get(i, 1)[0];\n                int boxX = (int)(detections.get(i, 3)[0] * input_image.cols());\n                int boxY = (int)(detections.get(i, 4)[0] * input_image.rows());\n                int boxWidth = (int)(detections.get(i, 5)[0] * input_image.cols()) - boxX;\n                int boxHeight = (int)(detections.get(i, 6)[0] * input_image.rows()) - boxY;\n                // display the prediction\n                Imgproc.putText(input_image, imgLabels.get((int) idx) + &quot;: &quot; + String.format(&quot;%.2f&quot;, confidence * 100) + &quot;%&quot;, new Point(boxX, boxY - 5), Imgproc.FONT_HERSHEY_SIMPLEX, 0.5, new Scalar(0, 255, 0), 2);\n                Imgproc.rectangle(input_image, new Point(boxX, boxY), new Point(boxX + boxWidth, boxY + boxHeight), new Scalar(0, 255, 0), 2);\n            }\n        }\n</code></pre>\n<p>I am getting negative values for confidence, and other values like <code>idx</code> dont look right either.\nIm not familiar enough with Python or Java syntax to see what I am doing wrong.\nIf someone can help spot the mistake, please answer with properly converted code.</p>\n<p>Thank you</p>\n"},{"tags":["java","gradle","junit","quarkus"],"comments":[{"owner":{"account_id":1933802,"reputation":785,"user_id":1742597,"accept_rate":40,"display_name":"fakataha"},"score":0,"creation_date":1677208899,"post_id":75380525,"comment_id":133297135,"body_markdown":"Have had minor success. There was a recent change (Dec. &#39;22, v2.16.0) in the Gradle plugin to support custom Test tasks. This get halfway there for component tests in a non-Quarkus dir such as `test` or `integrationTest`. The other half required setting dependencies for the `componentTest` configuration to use `testImplementation` instead of `componentTestImplementation`. This leaves dependencies for different test types all lumped together, e.g. JUnit tests don&#39;t need RestAssured.","body":"Have had minor success. There was a recent change (Dec. &#39;22, v2.16.0) in the Gradle plugin to support custom Test tasks. This get halfway there for component tests in a non-Quarkus dir such as <code>test</code> or <code>integrationTest</code>. The other half required setting dependencies for the <code>componentTest</code> configuration to use <code>testImplementation</code> instead of <code>componentTestImplementation</code>. This leaves dependencies for different test types all lumped together, e.g. JUnit tests don&#39;t need RestAssured."},{"owner":{"account_id":1933802,"reputation":785,"user_id":1742597,"accept_rate":40,"display_name":"fakataha"},"score":0,"creation_date":1677469313,"post_id":75380525,"comment_id":133337496,"body_markdown":"For reference in Quarkus Gradle plugin: https://github.com/quarkusio/quarkus/pull/29808. Recently added behaviour.","body":"For reference in Quarkus Gradle plugin: <a href=\"https://github.com/quarkusio/quarkus/pull/29808\" rel=\"nofollow noreferrer\">github.com/quarkusio/quarkus/pull/29808</a>. Recently added behaviour."}],"answers":[{"tags":[],"owner":{"account_id":1933802,"reputation":785,"user_id":1742597,"accept_rate":40,"display_name":"fakataha"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677465351,"creation_date":1677465351,"answer_id":75576344,"question_id":75380525,"body_markdown":"To achieve the desired outcome of splitting Quarkus-specific tests from other types, the following Gradle changes will be required:\r\n\r\n1. Define a new sourceSet.\r\n```\r\nsourceSets {\r\n    smokeTest {\r\n        compileClasspath += main.output\r\n        runtimeClasspath += main.output\r\n        java {\r\n            srcDir file(&#39;src/smokeTest/java&#39;)\r\n        }\r\n        resources.srcDir file(&#39;src/smokeTest/resources&#39;)\r\n    }\r\n}\r\n```\r\n2. Create custom configuration that extends from test.\r\n```\r\nconfigurations {\r\n    smokeTestImplementation.extendsFrom(testImplementation)\r\n    smokeTestRuntimeOnly.extendsFrom(testRuntimeOnly)\r\n}\r\n```\r\n\r\n3. Define a custom task of type Test.\r\n```\r\ntask smokeTest(type: Test) {\r\n    description = &quot;Run smoke tests&quot;\r\n    group = &quot;verification&quot;\r\n    testClassesDirs = sourceSets.smokeTest.output.classesDirs\r\n    classpath = sourceSets.smokeTest.runtimeClasspath\r\n}\r\n```\r\n4. Any dependencies required for the new sourceSet / Task should be included in `test` scope.\r\n```\r\ndependencies {\r\n    testImplementation &quot;org.junit.jupiter:${jupiterVersion}&quot; \r\n// This is used for unit tests under &#39;test&#39; directory.\r\n\r\n    testImplementation &quot;io.rest-assured:rest-assured:${restAssuredVersion}&quot; \r\n// This is in same scope as unit tests but are smoke test dependencies\r\n}\r\n```\r\n\r\nWrite your new tests.\r\n```\r\n├── main\r\n├── test\r\n│   ├── java\r\n│   └── resources\r\n├── smokeTest\r\n│   ├── java\r\n│   └── resources\r\n```\r\nAny resources required by the new directory will also be in the `test`/resources directory.  This is likely a small issue with my configuration and could be corrected to pull from the appropriate directory, but it also helps when tests need to share the same resources, e.g. import.sql.\r\n\r\nAddressing the original Class Cast Exception issue; I am guessing but think that the method Quarkus uses for swapping out core components for test vs dev vs prod is the source.  As I roughly understand it, Quarkus would use a different ClassLoader, for example, so when the Quarkus Test Extension tries to load BuildChainBuilder its using a production version and not the non-prod type. ","title":"QuarkusTest class cast exception BuildChainBuilder","body":"<p>To achieve the desired outcome of splitting Quarkus-specific tests from other types, the following Gradle changes will be required:</p>\n<ol>\n<li>Define a new sourceSet.</li>\n</ol>\n<pre><code>sourceSets {\n    smokeTest {\n        compileClasspath += main.output\n        runtimeClasspath += main.output\n        java {\n            srcDir file('src/smokeTest/java')\n        }\n        resources.srcDir file('src/smokeTest/resources')\n    }\n}\n</code></pre>\n<ol start=\"2\">\n<li>Create custom configuration that extends from test.</li>\n</ol>\n<pre><code>configurations {\n    smokeTestImplementation.extendsFrom(testImplementation)\n    smokeTestRuntimeOnly.extendsFrom(testRuntimeOnly)\n}\n</code></pre>\n<ol start=\"3\">\n<li>Define a custom task of type Test.</li>\n</ol>\n<pre><code>task smokeTest(type: Test) {\n    description = &quot;Run smoke tests&quot;\n    group = &quot;verification&quot;\n    testClassesDirs = sourceSets.smokeTest.output.classesDirs\n    classpath = sourceSets.smokeTest.runtimeClasspath\n}\n</code></pre>\n<ol start=\"4\">\n<li>Any dependencies required for the new sourceSet / Task should be included in <code>test</code> scope.</li>\n</ol>\n<pre><code>dependencies {\n    testImplementation &quot;org.junit.jupiter:${jupiterVersion}&quot; \n// This is used for unit tests under 'test' directory.\n\n    testImplementation &quot;io.rest-assured:rest-assured:${restAssuredVersion}&quot; \n// This is in same scope as unit tests but are smoke test dependencies\n}\n</code></pre>\n<p>Write your new tests.</p>\n<pre><code>├── main\n├── test\n│   ├── java\n│   └── resources\n├── smokeTest\n│   ├── java\n│   └── resources\n</code></pre>\n<p>Any resources required by the new directory will also be in the <code>test</code>/resources directory.  This is likely a small issue with my configuration and could be corrected to pull from the appropriate directory, but it also helps when tests need to share the same resources, e.g. import.sql.</p>\n<p>Addressing the original Class Cast Exception issue; I am guessing but think that the method Quarkus uses for swapping out core components for test vs dev vs prod is the source.  As I roughly understand it, Quarkus would use a different ClassLoader, for example, so when the Quarkus Test Extension tries to load BuildChainBuilder its using a production version and not the non-prod type.</p>\n"}],"owner":{"account_id":1933802,"reputation":785,"user_id":1742597,"accept_rate":40,"display_name":"fakataha"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":291,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1677465351,"creation_date":1675819163,"question_id":75380525,"body_markdown":"I have a Gradle project with a Quarkus application to deploy a RESTful API.\r\n\r\nThe Gradle project is broken into 2 sub-projects: &#39;app&#39; and &#39;spec&#39;.  `spec` is using the Open API Generator to create the RestEasy Classic (RestEasy Reactive doesn&#39;t appear to be available at this taime) interfaces and classes.  `app` has a dependency on that sub-project.\r\n\r\nThe &#39;app&#39; project has several directories/modules:\r\n\r\n* app/src/main\r\n* app/src/docker\r\n* app/src/test\r\n* app/src/componentTest\r\n* app/src/smokeTest\r\n* app/src/integrationTest\r\n\r\nUnfortunately, only the unit tests (which are basic JUnit 5 tests) will run successfully (pass/fail).  I receive the following stack trace when attempting to execute the `@QuarkusTest` annotated tests:\r\n```\r\njava.lang.ClassCastException: class io.quarkus.builder.BuildChainBuilder cannot be cast to class io.quarkus.builder.BuildChainBuilder (io.quarkus.builder.BuildChainBuilder is in unnamed module of loader io.quarkus.bootstrap.classloading.QuarkusClassLoader @45cff11c; io.quarkus.builder.BuildChainBuilder is in unnamed module of loader &#39;app&#39;)\r\njava.lang.RuntimeException: java.lang.ClassCastException: class io.quarkus.builder.BuildChainBuilder cannot be cast to class io.quarkus.builder.BuildChainBuilder (io.quarkus.builder.BuildChainBuilder is in unnamed module of loader io.quarkus.bootstrap.classloading.QuarkusClassLoader @45cff11c; io.quarkus.builder.BuildChainBuilder is in unnamed module of loader &#39;app&#39;)\r\n\tat io.quarkus.test.junit.QuarkusTestExtension.throwBootFailureException(QuarkusTestExtension.java:625)\r\n\tat io.quarkus.test.junit.QuarkusTestExtension.interceptTestClassConstructor(QuarkusTestExtension.java:696)\r\n\tat org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.lambda$invoke$0(InterceptingExecutableInvoker.java:93)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)\r\n\tat org.junit.jupiter.api.extension.InvocationInterceptor.interceptTestClassConstructor(InvocationInterceptor.java:73)\r\n\tat org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.lambda$invoke$0(InterceptingExecutableInvoker.java:93)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)\r\n\tat org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:92)\r\n\tat org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:62)\r\n\tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestClassConstructor(ClassBasedTestDescriptor.java:363)\r\n\tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateTestClass(ClassBasedTestDescriptor.java:310)\r\n\tat org.junit.jupiter.engine.descriptor.ClassTestDescriptor.instantiateTestClass(ClassTestDescriptor.java:79)\r\n\tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:286)\r\n\tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:278)\r\n\tat java.base/java.util.Optional.orElseGet(Optional.java:364)\r\n\tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:277)\r\n\tat org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:105)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:104)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:68)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)\r\n\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)\r\n\tat org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\r\n\tat org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:147)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:127)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:90)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:55)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:102)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:54)\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)\r\n\tat org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)\r\n\tat org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)\r\n\tat org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:99)\r\n\tat org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:79)\r\n\tat org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:75)\r\n\tat org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:61)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n\tat org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)\r\n\tat org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)\r\n\tat org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)\r\n\tat org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:94)\r\n\tat jdk.proxy1/jdk.proxy1.$Proxy2.stop(Unknown Source)\r\n\tat org.gradle.api.internal.tasks.testing.worker.TestWorker$3.run(TestWorker.java:193)\r\n\tat org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:129)\r\n\tat org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:100)\r\n\tat org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:60)\r\n\tat org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56)\r\n\tat org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:133)\r\n\tat org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:71)\r\n\tat worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69)\r\n\tat worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74)\r\nCaused by: java.lang.ClassCastException: class io.quarkus.builder.BuildChainBuilder cannot be cast to class io.quarkus.builder.BuildChainBuilder (io.quarkus.builder.BuildChainBuilder is in unnamed module of loader io.quarkus.bootstrap.classloading.QuarkusClassLoader @45cff11c; io.quarkus.builder.BuildChainBuilder is in unnamed module of loader &#39;app&#39;)\r\n\tat io.quarkus.test.junit.QuarkusTestExtension$TestBuildChainFunction$1.accept(QuarkusTestExtension.java:1257)\r\n\tat io.quarkus.deployment.QuarkusAugmentor.run(QuarkusAugmentor.java:130)\r\n\tat io.quarkus.runner.bootstrap.AugmentActionImpl.runAugment(AugmentActionImpl.java:331)\r\n\tat io.quarkus.runner.bootstrap.AugmentActionImpl.createInitialRuntimeApplication(AugmentActionImpl.java:252)\r\n\tat io.quarkus.runner.bootstrap.AugmentActionImpl.createInitialRuntimeApplication(AugmentActionImpl.java:60)\r\n\tat io.quarkus.test.junit.QuarkusTestExtension.doJavaStart(QuarkusTestExtension.java:222)\r\n\tat io.quarkus.test.junit.QuarkusTestExtension.ensureStarted(QuarkusTestExtension.java:592)\r\n\tat io.quarkus.test.junit.QuarkusTestExtension.beforeAll(QuarkusTestExtension.java:640)\r\n\tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeBeforeAllCallbacks$12(ClassBasedTestDescriptor.java:395)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeBeforeAllCallbacks(ClassBasedTestDescriptor.java:395)\r\n\tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.before(ClassBasedTestDescriptor.java:211)\r\n\tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.before(ClassBasedTestDescriptor.java:84)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:148)\r\n\t... 52 more\r\n```\r\n\r\nI thought the Gradle plugin Unbroken Dome TestSets might have been conflicting with the Quarkus platform generated modules `integrationTest` and `test`.  After replacing that plugin with basic configuration changes to achieve the same purpose, it still fails at the same point.\r\n\r\nMoving the test to a Quarkus test module has no change either. \r\n\r\nNot all modules will rely on the Quarkus Testing libraries as I&#39;m aware of challenges mixing them.  For example, the smoke test will only rely on RestAssured to execute liveness/health checks after deploy.  Integration testing could be done with Docker instead of the Qaurkus library.  \r\n\r\nI would like to use component level testing on the CDI generated beans from Quarkus if I can, for example:\r\n```\r\n@RequestScoped\r\npublic class SomeService {\r\n    @Inject\r\n    DatabaseService databaseService;\r\n}\r\n```\r\nIn test:\r\n```\r\n@QuarkusTest\r\npublic class ComponentTest {\r\n    @Inject \r\n    SomeService someService;\r\n\r\n    @Test\r\n    void test() {\r\n         //Run tests on someService with injected dependencies\r\n    }\r\n\r\n}\r\n```\r\nSo it all comes down to how to successfully get the component test to run.  Any help is appreciated.\r\n\r\n - Gradle 7.5.1  \r\n - Java 17  \r\n - Quarkus 2.16.0.Final","title":"QuarkusTest class cast exception BuildChainBuilder","body":"<p>I have a Gradle project with a Quarkus application to deploy a RESTful API.</p>\n<p>The Gradle project is broken into 2 sub-projects: 'app' and 'spec'.  <code>spec</code> is using the Open API Generator to create the RestEasy Classic (RestEasy Reactive doesn't appear to be available at this taime) interfaces and classes.  <code>app</code> has a dependency on that sub-project.</p>\n<p>The 'app' project has several directories/modules:</p>\n<ul>\n<li>app/src/main</li>\n<li>app/src/docker</li>\n<li>app/src/test</li>\n<li>app/src/componentTest</li>\n<li>app/src/smokeTest</li>\n<li>app/src/integrationTest</li>\n</ul>\n<p>Unfortunately, only the unit tests (which are basic JUnit 5 tests) will run successfully (pass/fail).  I receive the following stack trace when attempting to execute the <code>@QuarkusTest</code> annotated tests:</p>\n<pre><code>java.lang.ClassCastException: class io.quarkus.builder.BuildChainBuilder cannot be cast to class io.quarkus.builder.BuildChainBuilder (io.quarkus.builder.BuildChainBuilder is in unnamed module of loader io.quarkus.bootstrap.classloading.QuarkusClassLoader @45cff11c; io.quarkus.builder.BuildChainBuilder is in unnamed module of loader 'app')\njava.lang.RuntimeException: java.lang.ClassCastException: class io.quarkus.builder.BuildChainBuilder cannot be cast to class io.quarkus.builder.BuildChainBuilder (io.quarkus.builder.BuildChainBuilder is in unnamed module of loader io.quarkus.bootstrap.classloading.QuarkusClassLoader @45cff11c; io.quarkus.builder.BuildChainBuilder is in unnamed module of loader 'app')\n    at io.quarkus.test.junit.QuarkusTestExtension.throwBootFailureException(QuarkusTestExtension.java:625)\n    at io.quarkus.test.junit.QuarkusTestExtension.interceptTestClassConstructor(QuarkusTestExtension.java:696)\n    at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.lambda$invoke$0(InterceptingExecutableInvoker.java:93)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)\n    at org.junit.jupiter.api.extension.InvocationInterceptor.interceptTestClassConstructor(InvocationInterceptor.java:73)\n    at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.lambda$invoke$0(InterceptingExecutableInvoker.java:93)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)\n    at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:92)\n    at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:62)\n    at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestClassConstructor(ClassBasedTestDescriptor.java:363)\n    at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateTestClass(ClassBasedTestDescriptor.java:310)\n    at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.instantiateTestClass(ClassTestDescriptor.java:79)\n    at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:286)\n    at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:278)\n    at java.base/java.util.Optional.orElseGet(Optional.java:364)\n    at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:277)\n    at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:105)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:104)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:68)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:147)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:127)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:90)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:55)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:102)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:54)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)\n    at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)\n    at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)\n    at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:99)\n    at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:79)\n    at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:75)\n    at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:61)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n    at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)\n    at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)\n    at org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)\n    at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:94)\n    at jdk.proxy1/jdk.proxy1.$Proxy2.stop(Unknown Source)\n    at org.gradle.api.internal.tasks.testing.worker.TestWorker$3.run(TestWorker.java:193)\n    at org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:129)\n    at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:100)\n    at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:60)\n    at org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56)\n    at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:133)\n    at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:71)\n    at worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69)\n    at worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74)\nCaused by: java.lang.ClassCastException: class io.quarkus.builder.BuildChainBuilder cannot be cast to class io.quarkus.builder.BuildChainBuilder (io.quarkus.builder.BuildChainBuilder is in unnamed module of loader io.quarkus.bootstrap.classloading.QuarkusClassLoader @45cff11c; io.quarkus.builder.BuildChainBuilder is in unnamed module of loader 'app')\n    at io.quarkus.test.junit.QuarkusTestExtension$TestBuildChainFunction$1.accept(QuarkusTestExtension.java:1257)\n    at io.quarkus.deployment.QuarkusAugmentor.run(QuarkusAugmentor.java:130)\n    at io.quarkus.runner.bootstrap.AugmentActionImpl.runAugment(AugmentActionImpl.java:331)\n    at io.quarkus.runner.bootstrap.AugmentActionImpl.createInitialRuntimeApplication(AugmentActionImpl.java:252)\n    at io.quarkus.runner.bootstrap.AugmentActionImpl.createInitialRuntimeApplication(AugmentActionImpl.java:60)\n    at io.quarkus.test.junit.QuarkusTestExtension.doJavaStart(QuarkusTestExtension.java:222)\n    at io.quarkus.test.junit.QuarkusTestExtension.ensureStarted(QuarkusTestExtension.java:592)\n    at io.quarkus.test.junit.QuarkusTestExtension.beforeAll(QuarkusTestExtension.java:640)\n    at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeBeforeAllCallbacks$12(ClassBasedTestDescriptor.java:395)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeBeforeAllCallbacks(ClassBasedTestDescriptor.java:395)\n    at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.before(ClassBasedTestDescriptor.java:211)\n    at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.before(ClassBasedTestDescriptor.java:84)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:148)\n    ... 52 more\n</code></pre>\n<p>I thought the Gradle plugin Unbroken Dome TestSets might have been conflicting with the Quarkus platform generated modules <code>integrationTest</code> and <code>test</code>.  After replacing that plugin with basic configuration changes to achieve the same purpose, it still fails at the same point.</p>\n<p>Moving the test to a Quarkus test module has no change either.</p>\n<p>Not all modules will rely on the Quarkus Testing libraries as I'm aware of challenges mixing them.  For example, the smoke test will only rely on RestAssured to execute liveness/health checks after deploy.  Integration testing could be done with Docker instead of the Qaurkus library.</p>\n<p>I would like to use component level testing on the CDI generated beans from Quarkus if I can, for example:</p>\n<pre><code>@RequestScoped\npublic class SomeService {\n    @Inject\n    DatabaseService databaseService;\n}\n</code></pre>\n<p>In test:</p>\n<pre><code>@QuarkusTest\npublic class ComponentTest {\n    @Inject \n    SomeService someService;\n\n    @Test\n    void test() {\n         //Run tests on someService with injected dependencies\n    }\n\n}\n</code></pre>\n<p>So it all comes down to how to successfully get the component test to run.  Any help is appreciated.</p>\n<ul>\n<li>Gradle 7.5.1</li>\n<li>Java 17</li>\n<li>Quarkus 2.16.0.Final</li>\n</ul>\n"},{"tags":["java","sorting","hashmap","java-stream"],"comments":[{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":1,"creation_date":1677456330,"post_id":75575735,"comment_id":133336109,"body_markdown":"Are you trying to modify the original `Map` to sort its values, or keep it the same and only iterate through the values in sorted order? Do you _always_ want to use the `Map` in key order? There are other `Map` implementations that store the keys in order, which could be more efficient than sorting them each time they are iterated.","body":"Are you trying to modify the original <code>Map</code> to sort its values, or keep it the same and only iterate through the values in sorted order? Do you <i>always</i> want to use the <code>Map</code> in key order? There are other <code>Map</code> implementations that store the keys in order, which could be more efficient than sorting them each time they are iterated."}],"answers":[{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1677464202,"creation_date":1677462046,"answer_id":75576141,"question_id":75575735,"body_markdown":"You cannot depend on the keys to remain in sorted order in the resulting map since maps are inherently unordered.  It may appear to work but it depends on the `hashCodes` of the keys and other map factors. But for larger maps you cannot depend on it.  To solve this you can specify a [TreeMap](https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/util/TreeMap.html) which maintains a sorted order for the keys as then resultant map and use `streams` to sort the lists.\r\n```\r\nMap&lt;String, List&lt;String&gt;&gt; map = Map.of(&quot;E&quot;, List.of(&quot;G&quot;, &quot;B&quot;, &quot;H&quot;), &quot;C&quot;,\r\n        List.of(&quot;E&quot;, &quot;A&quot;, &quot;B&quot;), &quot;A&quot;, List.of(&quot;M&quot;, &quot;D&quot;, &quot;C&quot;));\r\n\r\nMap&lt;String, List&lt;String&gt;&gt; result = map.entrySet().stream()\r\n        .collect(Collectors.toMap(Entry::getKey,\r\n                e -&gt; e.getValue().stream().sorted().toList(),\r\n                (a,b)-&gt;a, // merge function here, not used but required\r\n                TreeMap::new));\r\n\r\nresult.entrySet().forEach(System.out::println);\r\n```\r\nprints\r\n```\r\nA=[C, D, M]\r\nC=[A, B, E]\r\nE=[B, G, H]\r\n\r\n```\r\nAn alternative to the above is to sort the `Entry` based on the key and the specify a `LinkedHashMap`.  LinkedHashMaps retain their insertion order. Everything else is the same as above.\r\n```\r\nMap&lt;String, List&lt;String&gt;&gt; result2 = map.entrySet().stream()\r\n.sorted(Entry.comparingByKey())\r\n.collect(Collectors.toMap(Entry::getKey,\r\n        e -&gt; e.getValue().stream().sorted().toList(),\r\n        (a,b)-&gt;a,   // merge function here, not used but required\r\n        LinkedHashMap::new));","title":"How to sort a Hashmap&lt;String, List&lt;String&gt;&gt; according to the elements on the list? Java 8","body":"<p>You cannot depend on the keys to remain in sorted order in the resulting map since maps are inherently unordered.  It may appear to work but it depends on the <code>hashCodes</code> of the keys and other map factors. But for larger maps you cannot depend on it.  To solve this you can specify a <a href=\"https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/util/TreeMap.html\" rel=\"nofollow noreferrer\">TreeMap</a> which maintains a sorted order for the keys as then resultant map and use <code>streams</code> to sort the lists.</p>\n<pre><code>Map&lt;String, List&lt;String&gt;&gt; map = Map.of(&quot;E&quot;, List.of(&quot;G&quot;, &quot;B&quot;, &quot;H&quot;), &quot;C&quot;,\n        List.of(&quot;E&quot;, &quot;A&quot;, &quot;B&quot;), &quot;A&quot;, List.of(&quot;M&quot;, &quot;D&quot;, &quot;C&quot;));\n\nMap&lt;String, List&lt;String&gt;&gt; result = map.entrySet().stream()\n        .collect(Collectors.toMap(Entry::getKey,\n                e -&gt; e.getValue().stream().sorted().toList(),\n                (a,b)-&gt;a, // merge function here, not used but required\n                TreeMap::new));\n\nresult.entrySet().forEach(System.out::println);\n</code></pre>\n<p>prints</p>\n<pre><code>A=[C, D, M]\nC=[A, B, E]\nE=[B, G, H]\n\n</code></pre>\n<p>An alternative to the above is to sort the <code>Entry</code> based on the key and the specify a <code>LinkedHashMap</code>.  LinkedHashMaps retain their insertion order. Everything else is the same as above.</p>\n<pre><code>Map&lt;String, List&lt;String&gt;&gt; result2 = map.entrySet().stream()\n.sorted(Entry.comparingByKey())\n.collect(Collectors.toMap(Entry::getKey,\n        e -&gt; e.getValue().stream().sorted().toList(),\n        (a,b)-&gt;a,   // merge function here, not used but required\n        LinkedHashMap::new));\n</code></pre>\n"}],"owner":{"account_id":9622816,"reputation":29,"user_id":7143450,"display_name":"Ermest"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":289,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1677464202,"creation_date":1677455494,"question_id":75575735,"body_markdown":"I&#39;m trying to sort this in natural order byKey and byValue using lambda expression and Stream Pipe line Java 8:\r\n\r\n    Map&lt;String, List&lt;String&gt;&gt; result = new HashMap&lt;&gt;();\r\n\r\nSo, the first part (sorting by natural order) is easy but I am having difficulty with the second part.\r\n\r\nThe sort should be done by the elements of the list`(List&lt;String&gt;)` and the result looks like:\r\n\r\n    input:\r\n    {E, [G,B,H]}\r\n    {C, [E,A,B]}\r\n    {A, [M,D,C]}\r\n    \r\n    output:\r\n    {A, [C,D,M]}\r\n    {C, [A,B,E]}\r\n    {E, [B,G,H]}\r\n    \r\nThe first part of the sort byKey is like:\r\n\r\n    result.entrySet().stream()\r\n\t\t \t.sorted(Map.Entry.comparingByKey()).forEach(e -&gt; {\r\n\t\t \t\tSystem.out.println(e.getKey() + &quot; &quot; + e.getValue() );\r\n\t\t \t});\r\n\r\nBut as I mentioned before I don&#39;t know how exactly do the next step:\r\n\r\n    result.entrySet().stream()\r\n    \t\t \t.sorted(Map.Entry.comparingByKey()\r\n    \t\t \t\t\t.thenComparing((e1,e2) -&gt; e1.getValue().stream().sorted((s1,s2) -&gt; s1.compareTo(s2)))\r\n    \t\t \t\t\t\t)\r\n    \t\t \t.forEach(e -&gt; {\r\n    \t\t \t\tSystem.out.println(e.getKey() + &quot; &quot; + e.getValue() );\r\n    \t\t \t});\r\n\r\nThis lambda expression gave me some compile errors.\r\nAlso could you add sources to read about?\r\n","title":"How to sort a Hashmap&lt;String, List&lt;String&gt;&gt; according to the elements on the list? Java 8","body":"<p>I'm trying to sort this in natural order byKey and byValue using lambda expression and Stream Pipe line Java 8:</p>\n<pre><code>Map&lt;String, List&lt;String&gt;&gt; result = new HashMap&lt;&gt;();\n</code></pre>\n<p>So, the first part (sorting by natural order) is easy but I am having difficulty with the second part.</p>\n<p>The sort should be done by the elements of the list<code>(List&lt;String&gt;)</code> and the result looks like:</p>\n<pre><code>input:\n{E, [G,B,H]}\n{C, [E,A,B]}\n{A, [M,D,C]}\n\noutput:\n{A, [C,D,M]}\n{C, [A,B,E]}\n{E, [B,G,H]}\n</code></pre>\n<p>The first part of the sort byKey is like:</p>\n<pre><code>result.entrySet().stream()\n        .sorted(Map.Entry.comparingByKey()).forEach(e -&gt; {\n            System.out.println(e.getKey() + &quot; &quot; + e.getValue() );\n        });\n</code></pre>\n<p>But as I mentioned before I don't know how exactly do the next step:</p>\n<pre><code>result.entrySet().stream()\n            .sorted(Map.Entry.comparingByKey()\n                    .thenComparing((e1,e2) -&gt; e1.getValue().stream().sorted((s1,s2) -&gt; s1.compareTo(s2)))\n                        )\n            .forEach(e -&gt; {\n                System.out.println(e.getKey() + &quot; &quot; + e.getValue() );\n            });\n</code></pre>\n<p>This lambda expression gave me some compile errors.\nAlso could you add sources to read about?</p>\n"},{"tags":["java","ssl","openssl"],"comments":[{"owner":{"account_id":26698569,"reputation":875,"user_id":20306007,"display_name":"life888888"},"score":0,"creation_date":1677487692,"post_id":75576184,"comment_id":133340243,"body_markdown":"(1) What does the so-called `clients` mean? (2)  Is it a Java application or a Browser? (3) tru command like `curl -iv  https://www.google.com`","body":"(1) What does the so-called <code>clients</code> mean? (2)  Is it a Java application or a Browser? (3) tru command like <code>curl -iv  https:&#47;&#47;www.google.com</code>"},{"owner":{"account_id":27885942,"reputation":1,"user_id":21293390,"display_name":"Jason Hiatt"},"score":0,"creation_date":1677529440,"post_id":75576184,"comment_id":133352410,"body_markdown":"(1&amp;2) When I wrote the post I was thinking of it in terms of an entire machine, but actually it is probably more relevant to say it&#39;s our Java application. (3) It appears Curl will only print the leaf SSL cert, but I&#39;m pretty sure our server is sending the intermediates too. Openssl s_client still seems better, but also both are only dealing with the server certs.","body":"(1&amp;2) When I wrote the post I was thinking of it in terms of an entire machine, but actually it is probably more relevant to say it&#39;s our Java application. (3) It appears Curl will only print the leaf SSL cert, but I&#39;m pretty sure our server is sending the intermediates too. Openssl s_client still seems better, but also both are only dealing with the server certs."},{"owner":{"account_id":26698569,"reputation":875,"user_id":20306007,"display_name":"life888888"},"score":0,"creation_date":1677545183,"post_id":75576184,"comment_id":133355437,"body_markdown":"If the Client is a Java application, it may also be necessary to check the `.keystore` of the JDK or JRE underlying the Java application.","body":"If the Client is a Java application, it may also be necessary to check the <code>.keystore</code> of the JDK or JRE underlying the Java application."}],"owner":{"account_id":27885942,"reputation":1,"user_id":21293390,"display_name":"Jason Hiatt"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677462988,"creation_date":1677462704,"question_id":75576184,"body_markdown":"We have a few SSL webservers that work perfectly fine for the vast majority of clients, however a small minority fail to validate the SSL certificate chain. In at least some of the failing cases a proxy server is involved, but we at least do not use client certs.\r\n\r\nThe short version of what I&#39;m hoping for is to find some tool (or tools) to allow us to trace not just what certs are received from the server (openssl s_client can do that), but also what certs are available locally, where they are loaded from, and generally what the chains look like or if there are multiple valid paths.\r\n\r\n---\r\n\r\nFor more specific context of our scenario and why we need better investigative tooling:\r\n - This is not a simple pass or fail for a given machine.\r\n - We have multiple endpoints with different but similar certs (same root CA, i.e. all Amazon, but differing intermediates).\r\n - Some apps e.g. Chrome, PowerShell Invoke-WebRequest are able to validate the problem endpoints successfully, while others can&#39;t (notably for us our Java application is failing).\r\n - Chrome passing isn&#39;t an especially valuable indication as it has it&#39;s own internal cert store now.\r\n - Our Java app doesn&#39;t fail for everything so it isn&#39;t as simple as just the proxy cert not being made available to Java (the proxy cert is specifically loaded in and trusted which fixes at least some cases).\r\n\r\n - We have verified with other applications, Chrome and Invoke-WebRequest being the most notable.\r\n - We have verified each route&#39;s cert chain is valid and as expected on working machines.\r\n - We have confirmed our custom app can load all relevant accessible CA\r\n   cert stores.\r\n - We are in the process of confirming the contents of less accessible CA stores.\r\n - We are attempting to verify the cert chain as seen by the problematic clients.","title":"Failing SSL verification for some clients, tracing the missing cert(s)","body":"<p>We have a few SSL webservers that work perfectly fine for the vast majority of clients, however a small minority fail to validate the SSL certificate chain. In at least some of the failing cases a proxy server is involved, but we at least do not use client certs.</p>\n<p>The short version of what I'm hoping for is to find some tool (or tools) to allow us to trace not just what certs are received from the server (openssl s_client can do that), but also what certs are available locally, where they are loaded from, and generally what the chains look like or if there are multiple valid paths.</p>\n<hr />\n<p>For more specific context of our scenario and why we need better investigative tooling:</p>\n<ul>\n<li><p>This is not a simple pass or fail for a given machine.</p>\n</li>\n<li><p>We have multiple endpoints with different but similar certs (same root CA, i.e. all Amazon, but differing intermediates).</p>\n</li>\n<li><p>Some apps e.g. Chrome, PowerShell Invoke-WebRequest are able to validate the problem endpoints successfully, while others can't (notably for us our Java application is failing).</p>\n</li>\n<li><p>Chrome passing isn't an especially valuable indication as it has it's own internal cert store now.</p>\n</li>\n<li><p>Our Java app doesn't fail for everything so it isn't as simple as just the proxy cert not being made available to Java (the proxy cert is specifically loaded in and trusted which fixes at least some cases).</p>\n</li>\n<li><p>We have verified with other applications, Chrome and Invoke-WebRequest being the most notable.</p>\n</li>\n<li><p>We have verified each route's cert chain is valid and as expected on working machines.</p>\n</li>\n<li><p>We have confirmed our custom app can load all relevant accessible CA\ncert stores.</p>\n</li>\n<li><p>We are in the process of confirming the contents of less accessible CA stores.</p>\n</li>\n<li><p>We are attempting to verify the cert chain as seen by the problematic clients.</p>\n</li>\n</ul>\n"},{"tags":["java","htmlunit"],"answers":[{"tags":[],"owner":{"account_id":6163228,"reputation":2754,"user_id":4804091,"display_name":"RBRi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677399874,"creation_date":1677399874,"answer_id":75570778,"question_id":75565026,"body_markdown":"For some reason you have a different version of the Apache Httpclient in your classpath.\r\n\r\nI think there are two possible reasons:\r\n* another lib in your project requires an older version and therefor maven chooses this one\r\n* you are on android (there is an old version build in in the android jre). If you are on android please use HtmlUnit Android package instead (https://github.com/HtmlUnit/htmlunit-android)","title":"java.lang.IllegalArgumentException: Cannot locate declared field class org.apache.http.impl.client.HttpClientBuilder.dnsResolver","body":"<p>For some reason you have a different version of the Apache Httpclient in your classpath.</p>\n<p>I think there are two possible reasons:</p>\n<ul>\n<li>another lib in your project requires an older version and therefor maven chooses this one</li>\n<li>you are on android (there is an old version build in in the android jre). If you are on android please use HtmlUnit Android package instead (<a href=\"https://github.com/HtmlUnit/htmlunit-android\" rel=\"nofollow noreferrer\">https://github.com/HtmlUnit/htmlunit-android</a>)</li>\n</ul>\n"}],"owner":{"account_id":3078593,"reputation":3398,"user_id":2607372,"accept_rate":87,"display_name":"vikramvi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":362,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1677462265,"creation_date":1677323983,"question_id":75565026,"body_markdown":"Reference: \r\n\r\nhttps://devpal.co/blog/web-scraping-with-java-and-htmlunit/\r\n\r\nI am doing exactly same steps as mentioned in the blog but getting error\r\n\r\n```\r\njava.lang.IllegalArgumentException: Cannot locate declared field class org.apache.http.impl.client.HttpClientBuilder.dnsResolver\r\n```\r\n\r\nfor the below call\r\n```lang-java\r\nHtmlPage myPage = webClient.getPage(&quot;https://devpal.co&quot;);\r\n```\r\npom.xml entry\r\n\r\nhttps://gist.github.com/vikramvi/05073952de1a0b18c1863d80ef93b75a\r\n\r\n```lang-xml\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;net.sourceforge.htmlunit&lt;/groupId&gt;\r\n    &lt;artifactId&gt;htmlunit&lt;/artifactId&gt;\r\n    &lt;version&gt;2.70.0&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```","title":"java.lang.IllegalArgumentException: Cannot locate declared field class org.apache.http.impl.client.HttpClientBuilder.dnsResolver","body":"<p>Reference:</p>\n<p><a href=\"https://devpal.co/blog/web-scraping-with-java-and-htmlunit/\" rel=\"nofollow noreferrer\">https://devpal.co/blog/web-scraping-with-java-and-htmlunit/</a></p>\n<p>I am doing exactly same steps as mentioned in the blog but getting error</p>\n<pre><code>java.lang.IllegalArgumentException: Cannot locate declared field class org.apache.http.impl.client.HttpClientBuilder.dnsResolver\n</code></pre>\n<p>for the below call</p>\n<pre class=\"lang-java prettyprint-override\"><code>HtmlPage myPage = webClient.getPage(&quot;https://devpal.co&quot;);\n</code></pre>\n<p>pom.xml entry</p>\n<p><a href=\"https://gist.github.com/vikramvi/05073952de1a0b18c1863d80ef93b75a\" rel=\"nofollow noreferrer\">https://gist.github.com/vikramvi/05073952de1a0b18c1863d80ef93b75a</a></p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;net.sourceforge.htmlunit&lt;/groupId&gt;\n    &lt;artifactId&gt;htmlunit&lt;/artifactId&gt;\n    &lt;version&gt;2.70.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":["java","apache-kafka","thread-safety","metrics","lag"],"comments":[{"owner":{"account_id":4401107,"reputation":1326,"user_id":4257751,"accept_rate":62,"display_name":"Karim Tawfik"},"score":0,"creation_date":1677425825,"post_id":75571838,"comment_id":133331227,"body_markdown":"Why do you need to get the lag in parallel with the poll, this should not be a normal flow, by all means its better to split such tasks. and in another process or maybe application listen to the topics partition lag and report actions to any other system wants to take action on it, but the consumer instance itself doesn&#39;t have to bother itself with such headache.","body":"Why do you need to get the lag in parallel with the poll, this should not be a normal flow, by all means its better to split such tasks. and in another process or maybe application listen to the topics partition lag and report actions to any other system wants to take action on it, but the consumer instance itself doesn&#39;t have to bother itself with such headache."},{"owner":{"account_id":4401107,"reputation":1326,"user_id":4257751,"accept_rate":62,"display_name":"Karim Tawfik"},"score":1,"creation_date":1677426008,"post_id":75571838,"comment_id":133331260,"body_markdown":"I don&#39;t think KafkaAdminClient have out of the box lag reporter, however you can write it simply, here is an example https://www.baeldung.com/java-kafka-consumer-lag","body":"I don&#39;t think KafkaAdminClient have out of the box lag reporter, however you can write it simply, here is an example <a href=\"https://www.baeldung.com/java-kafka-consumer-lag\" rel=\"nofollow noreferrer\">baeldung.com/java-kafka-consumer-lag</a>"},{"owner":{"account_id":10402981,"reputation":1,"user_id":7670688,"display_name":"Ofer"},"score":0,"creation_date":1677430833,"post_id":75571838,"comment_id":133332128,"body_markdown":"This is a requierment.. we have one process that do the poling and we should also report about the lag metric. we can not do this in sync because calculating the lag take long tome (2 seconds)\n\nI already see the sample in that link :  https://www.baeldung.com/java-kafka-consumer-lag   but it is using consumer.endOffsets to get the end offsets which is not thread safe .. (its not using the adminClient to get the end offset)","body":"This is a requierment.. we have one process that do the poling and we should also report about the lag metric. we can not do this in sync because calculating the lag take long tome (2 seconds)  I already see the sample in that link :  <a href=\"https://www.baeldung.com/java-kafka-consumer-lag\" rel=\"nofollow noreferrer\">baeldung.com/java-kafka-consumer-lag</a>   but it is using consumer.endOffsets to get the end offsets which is not thread safe .. (its not using the adminClient to get the end offset)"},{"owner":{"account_id":4401107,"reputation":1326,"user_id":4257751,"accept_rate":62,"display_name":"Karim Tawfik"},"score":1,"creation_date":1677433983,"post_id":75571838,"comment_id":133332637,"body_markdown":"That’s exactly why is not recommended, that the normal processing will be greatly impacted by the consumer lag time, which is a not scalable option, specially if you have a topic with multiple partitions or the traffic is little bit high, you will end up with a lag anyways due to the fact you are measuring the lag","body":"That’s exactly why is not recommended, that the normal processing will be greatly impacted by the consumer lag time, which is a not scalable option, specially if you have a topic with multiple partitions or the traffic is little bit high, you will end up with a lag anyways due to the fact you are measuring the lag"},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1677460920,"post_id":75571838,"comment_id":133336645,"body_markdown":"Don&#39;t measure from Java if you want to consume faster (reduce lag). Use external tools like Burrow that monitor your offsets topic externally. Otherwise, lag is already a JMX metric, so you should never be calling blocking Java methods within your client to fetch offsets","body":"Don&#39;t measure from Java if you want to consume faster (reduce lag). Use external tools like Burrow that monitor your offsets topic externally. Otherwise, lag is already a JMX metric, so you should never be calling blocking Java methods within your client to fetch offsets"},{"owner":{"account_id":10402981,"reputation":1,"user_id":7670688,"display_name":"Ofer"},"score":0,"creation_date":1677514907,"post_id":75571838,"comment_id":133348418,"body_markdown":"OK thank you !, but an option is to use listOffsets (from AdminClient) to get the end offsets.","body":"OK thank you !, but an option is to use listOffsets (from AdminClient) to get the end offsets."}],"owner":{"account_id":10402981,"reputation":1,"user_id":7670688,"display_name":"Ofer"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":133,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677460958,"creation_date":1677412977,"question_id":75571838,"body_markdown":"`What is the best way to retrieve the Kafka topic lag in parallel with poll (from the same process)?\r\n\r\n1. Using the same consumer and calculate the lag using consumer.committed and consumer.endOffsets in parallel with poll() will results with unsafe thread error.\r\n2. Using another instance of the same consumer should solve the thread safe issue but will results with rebalancing partitions between both consumer instances. (and one is only for retrieving this metric, not for polling)\r\n3. Using AdminClient, I cant find a way to retrieve the end offsets..\r\n\r\nSo what should be the way to achieve this ?\r\n\r\n\r\nSomething like this :\r\n\r\n\r\n```\r\npartitions = metricConsumer.partitionsFor(kafkaConfiguration.getTopicName()).stream().map(p -&gt; new TopicPartition(kafkaConfiguration.getTopicName(), p.partition()))\r\n                    .collect(Collectors.toList());\r\n            endOffsets = metricConsumer.endOffsets(partitions);\r\n            Set&lt;TopicPartition&gt; endsOffsetPartitions = endOffsets.keySet();\r\n            commitOffsets = metricConsumer.committed(endsOffsetPartitions);\r\n\r\n            commitOffsets.forEach((topicPartition, offsetAndMetadata) -&gt; lag.addAndGet(endOffsets.get(topicPartition) - offsetAndMetadata.offset())) ;\r\n```","title":"Kafka: Retrieving the topic lag in parallel with poll()","body":"<p>`What is the best way to retrieve the Kafka topic lag in parallel with poll (from the same process)?</p>\n<ol>\n<li>Using the same consumer and calculate the lag using consumer.committed and consumer.endOffsets in parallel with poll() will results with unsafe thread error.</li>\n<li>Using another instance of the same consumer should solve the thread safe issue but will results with rebalancing partitions between both consumer instances. (and one is only for retrieving this metric, not for polling)</li>\n<li>Using AdminClient, I cant find a way to retrieve the end offsets..</li>\n</ol>\n<p>So what should be the way to achieve this ?</p>\n<p>Something like this :</p>\n<pre><code>partitions = metricConsumer.partitionsFor(kafkaConfiguration.getTopicName()).stream().map(p -&gt; new TopicPartition(kafkaConfiguration.getTopicName(), p.partition()))\n                    .collect(Collectors.toList());\n            endOffsets = metricConsumer.endOffsets(partitions);\n            Set&lt;TopicPartition&gt; endsOffsetPartitions = endOffsets.keySet();\n            commitOffsets = metricConsumer.committed(endsOffsetPartitions);\n\n            commitOffsets.forEach((topicPartition, offsetAndMetadata) -&gt; lag.addAndGet(endOffsets.get(topicPartition) - offsetAndMetadata.offset())) ;\n</code></pre>\n"},{"tags":["java","generics","inheritance","polymorphism"],"comments":[{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":1,"creation_date":1677357825,"post_id":75564416,"comment_id":133323310,"body_markdown":"The `ClassCastException` is due to the fact that `T[]` is, in this case, the same as `Beepable[]`, because `Beepable` is the left-most upper bound of `T`. You cannot assign an `Object[]` to a `Beepable[]` (note that arrays know their component type at run-time). It&#39;s not much different than trying to do `Beepable b = (Beepable) new Object();`. The fix is to change the instantiation to `(T[]) new Beepable[capacity]`. It would probably make more sense, however, to simply make `items` a `Beepable[]` and avoid `T[]` entirely. You&#39;d then also have to switch to use `for (Beepable item : items)`.","body":"The <code>ClassCastException</code> is due to the fact that <code>T[]</code> is, in this case, the same as <code>Beepable[]</code>, because <code>Beepable</code> is the left-most upper bound of <code>T</code>. You cannot assign an <code>Object[]</code> to a <code>Beepable[]</code> (note that arrays know their component type at run-time). It&#39;s not much different than trying to do <code>Beepable b = (Beepable) new Object();</code>. The fix is to change the instantiation to <code>(T[]) new Beepable[capacity]</code>. It would probably make more sense, however, to simply make <code>items</code> a <code>Beepable[]</code> and avoid <code>T[]</code> entirely. You&#39;d then also have to switch to use <code>for (Beepable item : items)</code>."},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":1,"creation_date":1677358193,"post_id":75564416,"comment_id":133323378,"body_markdown":"Also, note you&#39;re using a [raw type](https://stackoverflow.com/q/2770321/6395627). You&#39;ve declared `m` to be a `NoiseMaker`, but you should parameterize the type. In your case, it seems the only option is `NoiseMaker&lt;Beepable&gt; m = new NoiseMaker&lt;&gt;(5)` (because you add multiple implementations of `Beepable`). If you want to only allow e.g., `Phone` instances, then you should do `NoiseMaker&lt;Phone&gt; m = new NoiseMaker&lt;&gt;(5);`.","body":"Also, note you&#39;re using a <a href=\"https://stackoverflow.com/q/2770321/6395627\">raw type</a>. You&#39;ve declared <code>m</code> to be a <code>NoiseMaker</code>, but you should parameterize the type. In your case, it seems the only option is <code>NoiseMaker&lt;Beepable&gt; m = new NoiseMaker&lt;&gt;(5)</code> (because you add multiple implementations of <code>Beepable</code>). If you want to only allow e.g., <code>Phone</code> instances, then you should do <code>NoiseMaker&lt;Phone&gt; m = new NoiseMaker&lt;&gt;(5);</code>."},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":1,"creation_date":1677358403,"post_id":75564416,"comment_id":133323412,"body_markdown":"And in your case, limiting the specific type of `Beepable` to allow in your `NoiseMaker` instance is the only reason to keep it generic. If you don&#39;t care about making such limits, then I would recommend you make `NoiseMaker` non-generic and just replace all uses of `T` with `Beepable`. And note that&#39;s possible, despite `Beepable` being an interface, because nowhere in `NoiseMaker` have you actually tried to _instantiate_ a `Beepable`. You&#39;ve only declared it as the _type_ of a field/array/parameter/variable/etc.","body":"And in your case, limiting the specific type of <code>Beepable</code> to allow in your <code>NoiseMaker</code> instance is the only reason to keep it generic. If you don&#39;t care about making such limits, then I would recommend you make <code>NoiseMaker</code> non-generic and just replace all uses of <code>T</code> with <code>Beepable</code>. And note that&#39;s possible, despite <code>Beepable</code> being an interface, because nowhere in <code>NoiseMaker</code> have you actually tried to <i>instantiate</i> a <code>Beepable</code>. You&#39;ve only declared it as the <i>type</i> of a field/array/parameter/variable/etc."}],"answers":[{"tags":[],"owner":{"account_id":8900519,"reputation":503,"user_id":6644123,"display_name":"shanfeng"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1677460593,"creation_date":1677318590,"answer_id":75564561,"question_id":75564416,"body_markdown":"As indicated by compilation error, we can not case Object which is loaded by bootstrap classloader to Beepable which is loaded by app class loader.  \r\nYou can get more information about class loader [here](https://www.baeldung.com/java-classloaders).  \r\nThanks for @Slaw correcting. Class loader is not the real issue here. We cannot cast an object to another object which has no inheritance relationship.  \r\nWe can try to solve this by constructing a Beepable array, or using List&lt;T extends Beepable&gt;.  \r\n```\r\npublic class NoiseMaker&lt;T extends Beepable&gt; {\r\n    ...\r\n    private int capacity;\r\n\r\n    public NoiseMaker(int capacity){\r\n        this.numberOfItems = 0;\r\n        this.capacity = capacity;\r\n        items = (T[]) new Beepable[capacity];\r\n    }\r\n    ...\r\n```\r\n```\r\npublic class NoiseMaker&lt;T extends Beepable&gt; {\r\n    ...\r\n    private List&lt;T&gt; items;\r\n\r\n    public NoiseMaker(int capacity){\r\n        this.numberOfItems = 0;\r\n        this.capacity = capacity;\r\n        items = new ArrayList&lt;&gt;(capacity);\r\n    }\r\n    ...\r\n```","title":"I&#39;m trying to use a class with generic types and it gives me this error : Exception in thread &quot;main&quot; java.lang.ClassCastException:","body":"<p>As indicated by compilation error, we can not case Object which is loaded by bootstrap classloader to Beepable which is loaded by app class loader.<br />\nYou can get more information about class loader <a href=\"https://www.baeldung.com/java-classloaders\" rel=\"nofollow noreferrer\">here</a>.<br />\nThanks for @Slaw correcting. Class loader is not the real issue here. We cannot cast an object to another object which has no inheritance relationship.<br />\nWe can try to solve this by constructing a Beepable array, or using List.</p>\n<pre><code>public class NoiseMaker&lt;T extends Beepable&gt; {\n    ...\n    private int capacity;\n\n    public NoiseMaker(int capacity){\n        this.numberOfItems = 0;\n        this.capacity = capacity;\n        items = (T[]) new Beepable[capacity];\n    }\n    ...\n</code></pre>\n<pre><code>public class NoiseMaker&lt;T extends Beepable&gt; {\n    ...\n    private List&lt;T&gt; items;\n\n    public NoiseMaker(int capacity){\n        this.numberOfItems = 0;\n        this.capacity = capacity;\n        items = new ArrayList&lt;&gt;(capacity);\n    }\n    ...\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4378231,"reputation":1516,"user_id":3570659,"display_name":"Eirini Graonidou"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1677331254,"creation_date":1677319294,"answer_id":75564628,"question_id":75564416,"body_markdown":"You did a great job defining the NoiseMaker as a container of Beepables but you instantiate the objects that are added as type of `Object`. Those two belong to a different abstraction level. You could fix the `ClassCastException` by replacing this line \r\n`items = (T[]) new Object[capacity];` with \r\n`items = (T[]) new Beepable[capacity];` \r\n\r\nAlso, you could get rid of some warnings if you define the noise maker as `NoiseMaker&lt;Beepable&gt; m = new NoiseMaker&lt;&gt;(5);`\r\n\r\nSome observations: you could work with the interface in the NoiserMaker instead of the concrete class, so you could avoid cast warnings.\r\n\r\n    class NoiseMaker&lt;T extends Beepable&gt; {\r\n\r\n    private int numberOfItems;\r\n    private Beepable [] items;\r\n    \r\n    NoiseMaker(int capacity){\r\n        this.numberOfItems = 0;\r\n        items = new Beepable[capacity];\r\n\r\n    }\r\n\r\n    void addItem(T item){\r\n        if (this.numberOfItems== items.length) {\r\n            System.out.println(&quot;The NoiseMakes is full&quot;);\r\n        } else if (item == null) {\r\n            System.out.println(&quot;null is not a valid value&quot;);\r\n        } else {\r\n            items[this.numberOfItems++] = item;\r\n        }\r\n    }\r\n\r\n    void makeNoise() {\r\n        for(Beepable item : items) {\r\n            item.beep();\r\n        }\r\n      }\r\n    }\r\n\r\nAt last, maybe it is a personal preference thing, but working with Collections can make your life really easier. The beepable array could be easily replaced with a list as mentioned in the above answer.\r\n\r\n","title":"I&#39;m trying to use a class with generic types and it gives me this error : Exception in thread &quot;main&quot; java.lang.ClassCastException:","body":"<p>You did a great job defining the NoiseMaker as a container of Beepables but you instantiate the objects that are added as type of <code>Object</code>. Those two belong to a different abstraction level. You could fix the <code>ClassCastException</code> by replacing this line\n<code>items = (T[]) new Object[capacity];</code> with\n<code>items = (T[]) new Beepable[capacity];</code></p>\n<p>Also, you could get rid of some warnings if you define the noise maker as <code>NoiseMaker&lt;Beepable&gt; m = new NoiseMaker&lt;&gt;(5);</code></p>\n<p>Some observations: you could work with the interface in the NoiserMaker instead of the concrete class, so you could avoid cast warnings.</p>\n<pre><code>class NoiseMaker&lt;T extends Beepable&gt; {\n\nprivate int numberOfItems;\nprivate Beepable [] items;\n\nNoiseMaker(int capacity){\n    this.numberOfItems = 0;\n    items = new Beepable[capacity];\n\n}\n\nvoid addItem(T item){\n    if (this.numberOfItems== items.length) {\n        System.out.println(&quot;The NoiseMakes is full&quot;);\n    } else if (item == null) {\n        System.out.println(&quot;null is not a valid value&quot;);\n    } else {\n        items[this.numberOfItems++] = item;\n    }\n}\n\nvoid makeNoise() {\n    for(Beepable item : items) {\n        item.beep();\n    }\n  }\n}\n</code></pre>\n<p>At last, maybe it is a personal preference thing, but working with Collections can make your life really easier. The beepable array could be easily replaced with a list as mentioned in the above answer.</p>\n"}],"owner":{"account_id":26567593,"reputation":147,"user_id":20194358,"display_name":"momo123321"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":86,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75564561,"answer_count":2,"score":0,"last_activity_date":1677460593,"creation_date":1677316764,"question_id":75564416,"body_markdown":"In short, I have a class named NoiseMaker which stores objects who implements the interface Beep. NoiseMaker has a method where it prints out the beep sound of the specific object. In this case, I only have objects of type Car and Phone which have the beep method. However when I try to run my code I get this error \r\n```\r\nException in thread &quot;main&quot; java.lang.ClassCastException: class [Ljava.lang.Object; cannot be cast to class [LBeepable; ([Ljava.lang.Object; is in module java.base of loader &#39;bootstrap&#39;; [LBeepable; is in unnamed module of loader &#39;app&#39;)\r\n\tat NoiseMaker.&lt;init&gt;(NoiseMaker.java:7)\r\n\tat Main.main(Main.java:5)  \r\n```\r\n I don&#39;t know how to fix this because I need the arary to be able to store any object which has the method beep().How can I use generic paramaters to be able to do this task. This is the main method that calls the classes and produces the error :  \r\n\r\n```\r\npublic class Main {\r\n    public static void main(String[] args) {\r\n        NoiseMaker m;\r\n        m = new NoiseMaker&lt;&gt;(5);\r\n        m.addItem(new Phone());\r\n        m.addItem(new Car());\r\n        m.addItem(new Car());\r\n        m.addItem(new Phone());\r\n        m.addItem(new Phone());\r\n        m.addItem(new Car());\r\n        m.makeNoise();\r\n    }\r\n}\r\n```\r\nHere are the other relevenat classes :   \r\n\r\n```\r\npublic class NoiseMaker&lt;T extends Beepable&gt; {\r\n    private int numberOfItems;\r\n    private T [] items;\r\n\r\n    public NoiseMaker(int capacity){\r\n        this.numberOfItems = 0;\r\n        items = (T[]) new Object[capacity];\r\n\r\n    }\r\n\r\n    public void addItem(T item){\r\n        if (this.numberOfItems== capacity) {\r\n            System.out.println(&quot;The NoiseMakes is full&quot;);\r\n        } else if (item == null) {\r\n            System.out.println(&quot;null is not a valid value&quot;);\r\n        } else {\r\n            items[this.numberOfItems++] = item;\r\n        }\r\n    }\r\n\r\n    public void makeNoise() {\r\n        for(T item : items) {\r\n            item.beep();\r\n        }\r\n    }\r\n}\r\n\r\n```\r\n  \r\n\r\n```\r\npublic interface Beepable {\r\n     void beep();\r\n}\r\n```\r\n\r\n\r\nPS : instead of using T , can I just Beepable instead. since essentialy, I want objects who implement the interface beepable? and if so why can I do that since Beepable is an interface and cant be instatiated. \r\n\r\n\r\n  \r\n","title":"I&#39;m trying to use a class with generic types and it gives me this error : Exception in thread &quot;main&quot; java.lang.ClassCastException:","body":"<p>In short, I have a class named NoiseMaker which stores objects who implements the interface Beep. NoiseMaker has a method where it prints out the beep sound of the specific object. In this case, I only have objects of type Car and Phone which have the beep method. However when I try to run my code I get this error</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.ClassCastException: class [Ljava.lang.Object; cannot be cast to class [LBeepable; ([Ljava.lang.Object; is in module java.base of loader 'bootstrap'; [LBeepable; is in unnamed module of loader 'app')\n    at NoiseMaker.&lt;init&gt;(NoiseMaker.java:7)\n    at Main.main(Main.java:5)  \n</code></pre>\n<p>I don't know how to fix this because I need the arary to be able to store any object which has the method beep().How can I use generic paramaters to be able to do this task. This is the main method that calls the classes and produces the error :</p>\n<pre><code>public class Main {\n    public static void main(String[] args) {\n        NoiseMaker m;\n        m = new NoiseMaker&lt;&gt;(5);\n        m.addItem(new Phone());\n        m.addItem(new Car());\n        m.addItem(new Car());\n        m.addItem(new Phone());\n        m.addItem(new Phone());\n        m.addItem(new Car());\n        m.makeNoise();\n    }\n}\n</code></pre>\n<p>Here are the other relevenat classes :</p>\n<pre><code>public class NoiseMaker&lt;T extends Beepable&gt; {\n    private int numberOfItems;\n    private T [] items;\n\n    public NoiseMaker(int capacity){\n        this.numberOfItems = 0;\n        items = (T[]) new Object[capacity];\n\n    }\n\n    public void addItem(T item){\n        if (this.numberOfItems== capacity) {\n            System.out.println(&quot;The NoiseMakes is full&quot;);\n        } else if (item == null) {\n            System.out.println(&quot;null is not a valid value&quot;);\n        } else {\n            items[this.numberOfItems++] = item;\n        }\n    }\n\n    public void makeNoise() {\n        for(T item : items) {\n            item.beep();\n        }\n    }\n}\n\n</code></pre>\n<pre><code>public interface Beepable {\n     void beep();\n}\n</code></pre>\n<p>PS : instead of using T , can I just Beepable instead. since essentialy, I want objects who implement the interface beepable? and if so why can I do that since Beepable is an interface and cant be instatiated.</p>\n"},{"tags":["java","hibernate","validation","maven","hibernate-validator"],"comments":[{"owner":{"account_id":471003,"reputation":20684,"user_id":878514,"accept_rate":73,"display_name":"fracz"},"score":1,"creation_date":1458554798,"post_id":24386771,"comment_id":59895054,"body_markdown":"Upgrading hibernate-validator to `5.2.4.Final` solved problem to me.","body":"Upgrading hibernate-validator to <code>5.2.4.Final</code> solved problem to me."},{"owner":{"account_id":284591,"reputation":1876,"user_id":582789,"display_name":"Alfonso Nishikawa"},"score":2,"creation_date":1463572385,"post_id":24386771,"comment_id":62120078,"body_markdown":"@fracz I have hibernate-validator = `5.2.4.Final` and the exception is still there.","body":"@fracz I have hibernate-validator = <code>5.2.4.Final</code> and the exception is still there."},{"owner":{"account_id":2119755,"reputation":1211,"user_id":1883278,"accept_rate":17,"display_name":"Sankalp"},"score":0,"creation_date":1663810406,"post_id":24386771,"comment_id":130328721,"body_markdown":"A newer version 6.0.16.Final worked for me.","body":"A newer version 6.0.16.Final worked for me."}],"answers":[{"tags":[],"owner":{"account_id":3163862,"reputation":36940,"user_id":2674303,"accept_rate":62,"display_name":"gstackoverflow"},"down_vote_count":0,"up_vote_count":177,"is_accepted":true,"score":177,"last_activity_date":1588401445,"creation_date":1403613940,"answer_id":24387031,"question_id":24386771,"body_markdown":"It is working after adding to `pom.xml` following dependencies:\r\n\r\n    &lt;dependency&gt;\r\n       &lt;groupId&gt;javax.el&lt;/groupId&gt;\r\n       &lt;artifactId&gt;javax.el-api&lt;/artifactId&gt;\r\n       &lt;version&gt;2.2.4&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n       &lt;groupId&gt;org.glassfish.web&lt;/groupId&gt;\r\n       &lt;artifactId&gt;javax.el&lt;/artifactId&gt;\r\n       &lt;version&gt;2.2.4&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n[Getting started with Hibernate Validator][1]:\r\n\r\n&gt; Hibernate Validator also requires an implementation of the Unified Expression Language ([JSR 341](https://jcp.org/en/jsr/detail?id=341)) for evaluating dynamic expressions in constraint violation messages. When your application runs in a Java EE container such as [WildFly](https://wildfly.org), an EL implementation is already provided by the container. In a Java SE environment, however, you have to add an implementation as dependency to your POM file. For instance you can add the following two dependencies to use the JSR 341 [reference implementation](https://javaee.github.io/uel-ri/):\r\n&gt; \r\n&gt; ```\r\n&gt; &lt;dependency&gt;\r\n&gt;    &lt;groupId&gt;javax.el&lt;/groupId&gt;\r\n&gt;    &lt;artifactId&gt;javax.el-api&lt;/artifactId&gt;\r\n&gt;    &lt;version&gt;2.2.4&lt;/version&gt;\r\n&gt; &lt;/dependency&gt;\r\n&gt; &lt;dependency&gt;\r\n&gt;    &lt;groupId&gt;org.glassfish.web&lt;/groupId&gt;\r\n&gt;    &lt;artifactId&gt;javax.el&lt;/artifactId&gt;\r\n&gt;    &lt;version&gt;2.2.4&lt;/version&gt;\r\n&gt; &lt;/dependency&gt;\r\n&gt; ```\r\n\r\n[1]: http://hibernate.org/validator/documentation/getting-started/","title":"javax.validation.ValidationException: HV000183: Unable to load &#39;javax.el.ExpressionFactory&#39;","body":"<p>It is working after adding to <code>pom.xml</code> following dependencies:</p>\n\n<pre><code>&lt;dependency&gt;\n   &lt;groupId&gt;javax.el&lt;/groupId&gt;\n   &lt;artifactId&gt;javax.el-api&lt;/artifactId&gt;\n   &lt;version&gt;2.2.4&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n   &lt;groupId&gt;org.glassfish.web&lt;/groupId&gt;\n   &lt;artifactId&gt;javax.el&lt;/artifactId&gt;\n   &lt;version&gt;2.2.4&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p><a href=\"http://hibernate.org/validator/documentation/getting-started/\" rel=\"noreferrer\">Getting started with Hibernate Validator</a>:</p>\n\n<blockquote>\n  <p>Hibernate Validator also requires an implementation of the Unified Expression Language (<a href=\"https://jcp.org/en/jsr/detail?id=341\" rel=\"noreferrer\">JSR 341</a>) for evaluating dynamic expressions in constraint violation messages. When your application runs in a Java EE container such as <a href=\"https://wildfly.org\" rel=\"noreferrer\">WildFly</a>, an EL implementation is already provided by the container. In a Java SE environment, however, you have to add an implementation as dependency to your POM file. For instance you can add the following two dependencies to use the JSR 341 <a href=\"https://javaee.github.io/uel-ri/\" rel=\"noreferrer\">reference implementation</a>:</p>\n\n<pre><code>&lt;dependency&gt;\n   &lt;groupId&gt;javax.el&lt;/groupId&gt;\n   &lt;artifactId&gt;javax.el-api&lt;/artifactId&gt;\n   &lt;version&gt;2.2.4&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n   &lt;groupId&gt;org.glassfish.web&lt;/groupId&gt;\n   &lt;artifactId&gt;javax.el&lt;/artifactId&gt;\n   &lt;version&gt;2.2.4&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":2797936,"reputation":1877,"user_id":2406796,"accept_rate":14,"display_name":"Bruno Lee"},"down_vote_count":2,"up_vote_count":62,"is_accepted":false,"score":60,"last_activity_date":1417285154,"creation_date":1417285154,"answer_id":27205438,"question_id":24386771,"body_markdown":"do just\r\n\r\n    &lt;dependency&gt;\r\n       &lt;groupId&gt;javax.el&lt;/groupId&gt;\r\n       &lt;artifactId&gt;javax.el-api&lt;/artifactId&gt;\r\n       &lt;version&gt;2.2.4&lt;/version&gt;\r\n    &lt;/dependency&gt;","title":"javax.validation.ValidationException: HV000183: Unable to load &#39;javax.el.ExpressionFactory&#39;","body":"<p>do just</p>\n\n<pre><code>&lt;dependency&gt;\n   &lt;groupId&gt;javax.el&lt;/groupId&gt;\n   &lt;artifactId&gt;javax.el-api&lt;/artifactId&gt;\n   &lt;version&gt;2.2.4&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":229478,"reputation":4806,"user_id":1874113,"accept_rate":67,"display_name":"walkeros"},"down_vote_count":0,"up_vote_count":24,"is_accepted":false,"score":24,"last_activity_date":1493125342,"creation_date":1493125342,"answer_id":43611454,"question_id":24386771,"body_markdown":"If you are using tomcat as your server runtime and you get this error in tests (because tomcat runtime is not available during tests) than it makes make sense to include tomcat el runtime instead of the one from glassfish). This would be:\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.tomcat&lt;/groupId&gt;\r\n            &lt;artifactId&gt;tomcat-el-api&lt;/artifactId&gt;\r\n            &lt;version&gt;8.5.14&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.tomcat&lt;/groupId&gt;\r\n            &lt;artifactId&gt;tomcat-jasper-el&lt;/artifactId&gt;\r\n            &lt;version&gt;8.5.14&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n","title":"javax.validation.ValidationException: HV000183: Unable to load &#39;javax.el.ExpressionFactory&#39;","body":"<p>If you are using tomcat as your server runtime and you get this error in tests (because tomcat runtime is not available during tests) than it makes make sense to include tomcat el runtime instead of the one from glassfish). This would be:</p>\n\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.tomcat&lt;/groupId&gt;\n        &lt;artifactId&gt;tomcat-el-api&lt;/artifactId&gt;\n        &lt;version&gt;8.5.14&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.tomcat&lt;/groupId&gt;\n        &lt;artifactId&gt;tomcat-jasper-el&lt;/artifactId&gt;\n        &lt;version&gt;8.5.14&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2098426,"reputation":1466,"user_id":1866693,"accept_rate":75,"display_name":"herau"},"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1563457732,"creation_date":1497856935,"answer_id":44624488,"question_id":24386771,"body_markdown":"Regarding the [Hibernate validator documentation page](http://hibernate.org/validator/documentation/getting-started/#unified-expression-language-el), you have to define a dependency to a `JSR-341` implementation:\r\n\r\n    &lt;dependency&gt;\r\n       &lt;groupId&gt;org.glassfish&lt;/groupId&gt;\r\n       &lt;artifactId&gt;javax.el&lt;/artifactId&gt;\r\n       &lt;version&gt;3.0.1-b11&lt;/version&gt;\r\n    &lt;/dependency&gt;","title":"javax.validation.ValidationException: HV000183: Unable to load &#39;javax.el.ExpressionFactory&#39;","body":"<p>Regarding the <a href=\"http://hibernate.org/validator/documentation/getting-started/#unified-expression-language-el\" rel=\"nofollow noreferrer\">Hibernate validator documentation page</a>, you have to define a dependency to a <code>JSR-341</code> implementation:</p>\n\n<pre><code>&lt;dependency&gt;\n   &lt;groupId&gt;org.glassfish&lt;/groupId&gt;\n   &lt;artifactId&gt;javax.el&lt;/artifactId&gt;\n   &lt;version&gt;3.0.1-b11&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6951350,"reputation":1730,"user_id":5333879,"display_name":"borino"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1531156844,"creation_date":1531156844,"answer_id":51250894,"question_id":24386771,"body_markdown":"for gradle :\r\n\r\n    compile &#39;javax.el:javax.el-api:2.2.4&#39;","title":"javax.validation.ValidationException: HV000183: Unable to load &#39;javax.el.ExpressionFactory&#39;","body":"<p>for gradle :</p>\n\n<pre><code>compile 'javax.el:javax.el-api:2.2.4'\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10843746,"reputation":6105,"user_id":7974082,"display_name":"Michał Stochmal"},"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1533552523,"creation_date":1533552523,"answer_id":51705881,"question_id":24386771,"body_markdown":"If you&#39;re using spring boot with starters - this dependency adds both `tomcat-embed-el` and `hibernate-validator` dependencies:\r\n\r\n    &lt;dependency&gt;\r\n       &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n       &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;","title":"javax.validation.ValidationException: HV000183: Unable to load &#39;javax.el.ExpressionFactory&#39;","body":"<p>If you're using spring boot with starters - this dependency adds both <code>tomcat-embed-el</code> and <code>hibernate-validator</code> dependencies:</p>\n\n<pre><code>&lt;dependency&gt;\n   &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n   &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3292485,"reputation":719,"user_id":2770467,"accept_rate":67,"display_name":"Razor"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1534617078,"creation_date":1534617078,"answer_id":51911514,"question_id":24386771,"body_markdown":"If using Spring Boot this works well. Even with Spring Reactive Mongo.\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n\r\nand validation config:\r\n\r\n\r\n    import org.springframework.context.annotation.Bean;\r\n    import org.springframework.context.annotation.Configuration;\r\n    import org.springframework.data.mongodb.core.mapping.event.ValidatingMongoEventListener;\r\n    import org.springframework.validation.beanvalidation.LocalValidatorFactoryBean;\r\n    \r\n    @Configuration\r\n    public class MongoValidationConfig {\r\n    \r\n        @Bean\r\n        public ValidatingMongoEventListener validatingMongoEventListener() {\r\n            return new ValidatingMongoEventListener(validator());\r\n        }\r\n    \r\n        @Bean\r\n        public LocalValidatorFactoryBean validator() {\r\n            return new LocalValidatorFactoryBean();\r\n        }\r\n    }\r\n\r\n","title":"javax.validation.ValidationException: HV000183: Unable to load &#39;javax.el.ExpressionFactory&#39;","body":"<p>If using Spring Boot this works well. Even with Spring Reactive Mongo.</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>and validation config:</p>\n\n<pre><code>import org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.data.mongodb.core.mapping.event.ValidatingMongoEventListener;\nimport org.springframework.validation.beanvalidation.LocalValidatorFactoryBean;\n\n@Configuration\npublic class MongoValidationConfig {\n\n    @Bean\n    public ValidatingMongoEventListener validatingMongoEventListener() {\n        return new ValidatingMongoEventListener(validator());\n    }\n\n    @Bean\n    public LocalValidatorFactoryBean validator() {\n        return new LocalValidatorFactoryBean();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1809091,"reputation":4321,"user_id":1645517,"accept_rate":54,"display_name":"Markus Schulte"},"down_vote_count":0,"up_vote_count":42,"is_accepted":false,"score":42,"last_activity_date":1559289606,"creation_date":1550502126,"answer_id":54750045,"question_id":24386771,"body_markdown":"In case you don&#39;t need *javax.el* (for example in a JavaSE application), use [ParameterMessageInterpolator][1] from [Hibernate validator][2]. \r\nHibernate validator is a standalone component, which can be used without [Hibernate][3] itself.\r\n\r\n**Depend on hibernate-validator**\r\n\r\n    &lt;dependency&gt;\r\n       &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n       &lt;artifactId&gt;hibernate-validator&lt;/artifactId&gt;\r\n       &lt;version&gt;6.0.16.Final&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n**Use ParameterMessageInterpolator**\r\n\r\n    import javax.validation.Validation;\r\n    import javax.validation.Validator;\r\n    import org.hibernate.validator.messageinterpolation.ParameterMessageInterpolator;\r\n     \r\n    private static final Validator VALIDATOR =\r\n      Validation.byDefaultProvider()\r\n        .configure()\r\n        .messageInterpolator(new ParameterMessageInterpolator())\r\n        .buildValidatorFactory()\r\n        .getValidator();\r\n\r\n\r\n  [1]: http://docs.jboss.org/hibernate/validator/6.1/api/org/hibernate/validator/messageinterpolation/ParameterMessageInterpolator.html\r\n  [2]: https://hibernate.org/validator/documentation/getting-started/\r\n  [3]: https://hibernate.org","title":"javax.validation.ValidationException: HV000183: Unable to load &#39;javax.el.ExpressionFactory&#39;","body":"<p>In case you don't need <em>javax.el</em> (for example in a JavaSE application), use <a href=\"http://docs.jboss.org/hibernate/validator/6.1/api/org/hibernate/validator/messageinterpolation/ParameterMessageInterpolator.html\" rel=\"noreferrer\">ParameterMessageInterpolator</a> from <a href=\"https://hibernate.org/validator/documentation/getting-started/\" rel=\"noreferrer\">Hibernate validator</a>. \nHibernate validator is a standalone component, which can be used without <a href=\"https://hibernate.org\" rel=\"noreferrer\">Hibernate</a> itself.</p>\n\n<p><strong>Depend on hibernate-validator</strong></p>\n\n<pre><code>&lt;dependency&gt;\n   &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n   &lt;artifactId&gt;hibernate-validator&lt;/artifactId&gt;\n   &lt;version&gt;6.0.16.Final&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p><strong>Use ParameterMessageInterpolator</strong></p>\n\n<pre><code>import javax.validation.Validation;\nimport javax.validation.Validator;\nimport org.hibernate.validator.messageinterpolation.ParameterMessageInterpolator;\n\nprivate static final Validator VALIDATOR =\n  Validation.byDefaultProvider()\n    .configure()\n    .messageInterpolator(new ParameterMessageInterpolator())\n    .buildValidatorFactory()\n    .getValidator();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1246173,"reputation":59,"user_id":1207581,"accept_rate":0,"display_name":"prathameshr"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1571923492,"creation_date":1571923492,"answer_id":58542404,"question_id":24386771,"body_markdown":"for sbt, use below versions\r\n\r\n````\r\nval glassfishEl = &quot;org.glassfish&quot; % &quot;javax.el&quot; % &quot;3.0.1-b09&quot;\r\n\r\nval hibernateValidator = &quot;org.hibernate.validator&quot; % &quot;hibernate-validator&quot; % &quot;6.0.17.Final&quot;\r\n\r\nval hibernateValidatorCdi = &quot;org.hibernate.validator&quot; % &quot;hibernate-validator-cdi&quot; % &quot;6.0.17.Final&quot;\r\n\r\n````","title":"javax.validation.ValidationException: HV000183: Unable to load &#39;javax.el.ExpressionFactory&#39;","body":"<p>for sbt, use below versions</p>\n\n<pre><code>val glassfishEl = \"org.glassfish\" % \"javax.el\" % \"3.0.1-b09\"\n\nval hibernateValidator = \"org.hibernate.validator\" % \"hibernate-validator\" % \"6.0.17.Final\"\n\nval hibernateValidatorCdi = \"org.hibernate.validator\" % \"hibernate-validator-cdi\" % \"6.0.17.Final\"\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1119690,"reputation":15788,"user_id":1108305,"accept_rate":47,"display_name":"M. Justin"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1625248886,"creation_date":1588401110,"answer_id":61555391,"question_id":24386771,"body_markdown":"The Hibernate Validator requires — but does not include — an [Expression Language (EL)](https://projects.eclipse.org/projects/ee4j.el) implementation.  Adding a dependency on one will will fix the issue.\r\n\r\n```lang-xml\r\n&lt;dependency&gt;\r\n   &lt;groupId&gt;org.glassfish&lt;/groupId&gt;\r\n   &lt;artifactId&gt;jakarta.el&lt;/artifactId&gt;\r\n   &lt;version&gt;3.0.3&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nThis requirement is documented in the [Getting started with Hibernate Validator](http://hibernate.org/validator/documentation/getting-started#unified-expression-language-el) documentation.  In a Java EE environment, it would be provided by the container.  In a standalone application such as yours, it needs to be provided.\r\n\r\n&gt; Hibernate Validator also requires an implementation of the Unified Expression Language ([JSR 341](http://jcp.org/en/jsr/detail?id=341)) for evaluating dynamic expressions in constraint violation messages.\r\n&gt;\r\n&gt; When your application runs in a Java EE container such as [WildFly](http://wildfly.org/), an EL implementation is already provided by the container.\r\n&gt;\r\n&gt; In a Java SE environment, however, you have to add an implementation as dependency to your POM file. For instance, you can add the following dependency to use the JSR 341 reference implementation:\r\n&gt;\r\n&gt; ```lang-xml\r\n&gt; &lt;dependency&gt;\r\n&gt;   &lt;groupId&gt;org.glassfish&lt;/groupId&gt;\r\n&gt;   &lt;artifactId&gt;jakarta.el&lt;/artifactId&gt;\r\n&gt;   &lt;version&gt;${version.jakarta.el-api}&lt;/version&gt;\r\n&gt; &lt;/dependency&gt;\r\n&gt; ```\r\n\r\n## Expression Language Implementation\r\n\r\nSeveral EL implementations exist.  One is the Jakarta EE [Glassfish](https://glassfish.org/certifications/jakarta-expression-language/3.0/TCK-Results) reference implementation mentioned in the documentation.  Another is embedded [Tomcat](http://tomcat.apache.org), which is used by default by the current version of [Spring Boot](https://spring.io/projects/spring-boot).  That version of EL can be used as follows:\r\n\r\n```lang-xml\r\n&lt;dependency&gt;\r\n   &lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\r\n   &lt;artifactId&gt;tomcat-embed-el&lt;/artifactId&gt;\r\n   &lt;version&gt;9.0.48&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nAs noted in [this comment](https://stackoverflow.com/questions/24386771/javax-validation-validationexception-hv000183-unable-to-load-javax-el-express#comment117770689_61555391), a compatible version of the Expression Language must be chosen.  The Glassfish implementation is specified as a [provided](https://maven.apache.org/guides/introduction/introduction-to-dependency-mechanism.html#dependency-scope)-scope dependency of Hibernate Validator, so the version specified there should work without issue.  In particular, [Hibernate Validator 7](https://mvnrepository.com/artifact/org.hibernate.validator/hibernate-validator/7.0.1.Final) uses version 4 of the Glassfish EL implementation and [Hibernate 6](https://mvnrepository.com/artifact/org.hibernate.validator/hibernate-validator/6.2.0.Final) uses version 3.\r\n\r\n## Spring Boot\r\n\r\nIn a Spring Boot project, the `spring-boot-starter-validation` dependency would typically be used rather than specifying the Hibernate validator &amp; EL libraries directly.  That dependency includes both `org.hibernate.validator:hibernate-validator` and `tomcat-embed-el`.\r\n\r\n```lang-xml\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\r\n    &lt;version&gt;2.4.3.RELEASE&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n","title":"javax.validation.ValidationException: HV000183: Unable to load &#39;javax.el.ExpressionFactory&#39;","body":"<p>The Hibernate Validator requires — but does not include — an <a href=\"https://projects.eclipse.org/projects/ee4j.el\" rel=\"noreferrer\">Expression Language (EL)</a> implementation.  Adding a dependency on one will will fix the issue.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n   &lt;groupId&gt;org.glassfish&lt;/groupId&gt;\n   &lt;artifactId&gt;jakarta.el&lt;/artifactId&gt;\n   &lt;version&gt;3.0.3&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>This requirement is documented in the <a href=\"http://hibernate.org/validator/documentation/getting-started#unified-expression-language-el\" rel=\"noreferrer\">Getting started with Hibernate Validator</a> documentation.  In a Java EE environment, it would be provided by the container.  In a standalone application such as yours, it needs to be provided.</p>\n<blockquote>\n<p>Hibernate Validator also requires an implementation of the Unified Expression Language (<a href=\"http://jcp.org/en/jsr/detail?id=341\" rel=\"noreferrer\">JSR 341</a>) for evaluating dynamic expressions in constraint violation messages.</p>\n<p>When your application runs in a Java EE container such as <a href=\"http://wildfly.org/\" rel=\"noreferrer\">WildFly</a>, an EL implementation is already provided by the container.</p>\n<p>In a Java SE environment, however, you have to add an implementation as dependency to your POM file. For instance, you can add the following dependency to use the JSR 341 reference implementation:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n  &lt;groupId&gt;org.glassfish&lt;/groupId&gt;\n  &lt;artifactId&gt;jakarta.el&lt;/artifactId&gt;\n  &lt;version&gt;${version.jakarta.el-api}&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n</blockquote>\n<h2>Expression Language Implementation</h2>\n<p>Several EL implementations exist.  One is the Jakarta EE <a href=\"https://glassfish.org/certifications/jakarta-expression-language/3.0/TCK-Results\" rel=\"noreferrer\">Glassfish</a> reference implementation mentioned in the documentation.  Another is embedded <a href=\"http://tomcat.apache.org\" rel=\"noreferrer\">Tomcat</a>, which is used by default by the current version of <a href=\"https://spring.io/projects/spring-boot\" rel=\"noreferrer\">Spring Boot</a>.  That version of EL can be used as follows:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n   &lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\n   &lt;artifactId&gt;tomcat-embed-el&lt;/artifactId&gt;\n   &lt;version&gt;9.0.48&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>As noted in <a href=\"https://stackoverflow.com/questions/24386771/javax-validation-validationexception-hv000183-unable-to-load-javax-el-express#comment117770689_61555391\">this comment</a>, a compatible version of the Expression Language must be chosen.  The Glassfish implementation is specified as a <a href=\"https://maven.apache.org/guides/introduction/introduction-to-dependency-mechanism.html#dependency-scope\" rel=\"noreferrer\">provided</a>-scope dependency of Hibernate Validator, so the version specified there should work without issue.  In particular, <a href=\"https://mvnrepository.com/artifact/org.hibernate.validator/hibernate-validator/7.0.1.Final\" rel=\"noreferrer\">Hibernate Validator 7</a> uses version 4 of the Glassfish EL implementation and <a href=\"https://mvnrepository.com/artifact/org.hibernate.validator/hibernate-validator/6.2.0.Final\" rel=\"noreferrer\">Hibernate 6</a> uses version 3.</p>\n<h2>Spring Boot</h2>\n<p>In a Spring Boot project, the <code>spring-boot-starter-validation</code> dependency would typically be used rather than specifying the Hibernate validator &amp; EL libraries directly.  That dependency includes both <code>org.hibernate.validator:hibernate-validator</code> and <code>tomcat-embed-el</code>.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\n    &lt;version&gt;2.4.3.RELEASE&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8743439,"reputation":65,"user_id":6539714,"display_name":"Java Carzy"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1611895916,"creation_date":1611895916,"answer_id":65948958,"question_id":24386771,"body_markdown":"I ran into the same issue and the above answers didn&#39;t help. I need to debug and find it. \r\n\r\n     &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.hadoop&lt;/groupId&gt;\r\n            &lt;artifactId&gt;hadoop-common&lt;/artifactId&gt;\r\n            &lt;version&gt;2.6.0-cdh5.13.1&lt;/version&gt;\r\n            &lt;exclusions&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;artifactId&gt;jsp-api&lt;/artifactId&gt;\r\n                    &lt;groupId&gt;javax.servlet.jsp&lt;/groupId&gt;\r\n                &lt;/exclusion&gt;\r\n            &lt;/exclusions&gt;\r\n        &lt;/dependency&gt;\r\n\r\nAfter excluding the jsp-api, it worked for me. ","title":"javax.validation.ValidationException: HV000183: Unable to load &#39;javax.el.ExpressionFactory&#39;","body":"<p>I ran into the same issue and the above answers didn't help. I need to debug and find it.</p>\n<pre><code> &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.hadoop&lt;/groupId&gt;\n        &lt;artifactId&gt;hadoop-common&lt;/artifactId&gt;\n        &lt;version&gt;2.6.0-cdh5.13.1&lt;/version&gt;\n        &lt;exclusions&gt;\n            &lt;exclusion&gt;\n                &lt;artifactId&gt;jsp-api&lt;/artifactId&gt;\n                &lt;groupId&gt;javax.servlet.jsp&lt;/groupId&gt;\n            &lt;/exclusion&gt;\n        &lt;/exclusions&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>After excluding the jsp-api, it worked for me.</p>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1621990271,"creation_date":1615187436,"answer_id":66525598,"question_id":24386771,"body_markdown":"# Jakarta namespace\r\n\r\nAs part of the handover from [Oracle][1] to the [Eclipse Foundation][2], *Java EE* is being renamed to *Jakarta EE*. With Jakarta EE 9, the Java package names were changed from `javax.*` to `jakarta.*`. \r\n\r\nThe [Answer by M. Justin][3] is correct with regard to Jakarta. I added this Answer to provide more explanation and specific examples.\r\n\r\n# Interface versus Implementation\r\n\r\n[*Jakarta Bean Validation*][4] is a specification of an API in Java. The binary library for this spec contains only [interfaces][5], not executable code. So we also need an implementation of these interfaces.\r\n\r\nI know of only one implementation of *Jakarta Bean Validation* versions 2 &amp; 3 specifications: [*Hibernate Validator*][6] versions 6 and 7 (respectively).  \r\n\r\n# Desktop &amp; console apps\r\n\r\nFor web apps, a Jakarta-compliant web container will provide both the interface and the implementation needed to perform Bean Validation. \r\n\r\nFor desktop and console apps, we have no such Jakarta-compliant web container. So you must bundle both the interface [jar][7] and the implementation jar with your app.\r\n\r\nYou can use a dependency-management tool such as [*Maven*][8], [*Gradle*][9], or [Ivy][10] to download and bundle the interface &amp; implementation jars.\r\n\r\n# Jakarta Expression Language\r\n\r\nTo run *Jakarta Bean Validation*, we need another Jakarta tool as well: [*Jakarta Expression Language*][11], a [special purpose programming language][12] for embedding and evaluating [expressions][13]. *Jakarta Expression Language* is also known simply as *EL*. \r\n\r\n*Jakarta Expression Language* is defined by Jakarta EE as a specification for which you must download a jar of interfaces. And you also need to obtain an implementation of these interfaces in another jar. \r\n\r\nYou may have choice of implementations. As of 2021-03, I know of *Eclipse Glassfish* by Eclipse Foundation providing an implementation as a separate library we can download free-of-cost. There may be other implementations, such as *Open Liberty* by IBM Corporation. Shop around for an implementation that suits your needs.\r\n\r\n# Maven POM dependencies\r\n\r\nPulling all this info together, you need four jars: A pair of interface and implementation jars for each of two projects, *Jakarta Bean Validation* and *Jakarta Expression Language*.\r\n\r\n- *Jakarta Bean Validation*\r\n  - Interface\r\n  - Implementation\r\n- *Jakarta Expression Language*\r\n  - Interface\r\n  - Implementation\r\n\r\nThe following are the four dependencies you need to add to your Maven POM file, if Maven is your tool of choice. \r\n\r\nAs mentioned above, you may be able to find another implementation of EL to substitute for the Glassfish library I use here.\r\n\r\n```xml\r\n&lt;!--********| Jakarta Bean Validation  |********--&gt;\r\n\r\n&lt;!-- Interface --&gt;\r\n\r\n&lt;!-- https://mvnrepository.com/artifact/jakarta.validation/jakarta.validation-api --&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;jakarta.validation&lt;/groupId&gt;\r\n    &lt;artifactId&gt;jakarta.validation-api&lt;/artifactId&gt;\r\n    &lt;version&gt;3.0.0&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n\r\n&lt;!-- Implementation --&gt;\r\n\r\n&lt;!-- https://mvnrepository.com/artifact/org.hibernate.validator/hibernate-validator --&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.hibernate.validator&lt;/groupId&gt;\r\n    &lt;artifactId&gt;hibernate-validator&lt;/artifactId&gt;\r\n    &lt;version&gt;7.0.1.Final&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n\r\n&lt;!-- Jakarta Expression Language --&gt;\r\n\r\n&lt;!-- Interface --&gt;\r\n\r\n&lt;!-- https://mvnrepository.com/artifact/jakarta.el/jakarta.el-api --&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;jakarta.el&lt;/groupId&gt;\r\n    &lt;artifactId&gt;jakarta.el-api&lt;/artifactId&gt;\r\n    &lt;version&gt;4.0.0&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n\r\n&lt;!-- Implementation --&gt;\r\n\r\n&lt;!-- https://mvnrepository.com/artifact/org.glassfish/jakarta.el --&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.glassfish&lt;/groupId&gt;\r\n    &lt;artifactId&gt;jakarta.el&lt;/artifactId&gt;\r\n    &lt;version&gt;4.0.1&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nThat should eliminate the `javax.validation.ValidationException: HV000183: Unable to load &#39;javax.el.ExpressionFactory&#39;` error. \r\n\r\n# Example usage\r\n\r\nYou can test your setup with the following simple class, `Car`. We have validations on each of the three member fields.\r\n\r\n```java\r\npackage work.basil.example.beanval;\r\n\r\nimport jakarta.validation.constraints.*;\r\n\r\npublic class Car\r\n{\r\n    // ---------------|  Member fields  |----------------------------\r\n    @NotNull\r\n    private String manufacturer;\r\n\r\n    @NotNull\r\n    @Size ( min = 2, max = 14 )\r\n    private String licensePlate;\r\n\r\n    @Min ( 2 )\r\n    private int seatCount;\r\n\r\n    // ---------------|  Constructors  |----------------------------\r\n    public Car ( String manufacturer , String licensePlate , int seatCount )\r\n    {\r\n        this.manufacturer = manufacturer;\r\n        this.licensePlate = licensePlate;\r\n        this.seatCount = seatCount;\r\n    }\r\n\r\n    // ---------------|  Object overrides  |----------------------------\r\n\r\n    @Override\r\n    public String toString ( )\r\n    {\r\n        return &quot;Car{ &quot; +\r\n                &quot;manufacturer=&#39;&quot; + manufacturer + &#39;\\&#39;&#39; +\r\n                &quot; | licensePlate=&#39;&quot; + licensePlate + &#39;\\&#39;&#39; +\r\n                &quot; | seatCount=&quot; + seatCount +\r\n                &quot; }&quot;;\r\n    }\r\n}\r\n```\r\n\r\nOr, if using Java 16 and later, use a more brief [`record`][14] instead.\r\n\r\n```java\r\npackage work.basil.example.beanval;\r\n\r\nimport jakarta.validation.constraints.*;\r\n\r\npublic record Car (\r\n        @NotNull\r\n        String manufacturer ,\r\n        @NotNull\r\n        @Size ( min = 2, max = 14 )\r\n        String licensePlate ,\r\n        @Min ( 2 )\r\n        int seatCount\r\n)\r\n{\r\n}\r\n```\r\n\r\nRun the validation. First we run with a successfully configured `Car` object. Then we instantiate a second `Car` object that is faulty, violating one constraint on each of the three fields.\r\n\r\n```java\r\npackage work.basil.example.beanval;\r\n\r\nimport jakarta.validation.ConstraintViolation;\r\nimport jakarta.validation.Validation;\r\nimport jakarta.validation.Validator;\r\nimport jakarta.validation.ValidatorFactory;\r\n\r\nimport java.util.Set;\r\n\r\npublic class App\r\n{\r\n    public static void main ( String[] args )\r\n    {\r\n        App app = new App();\r\n        app.demo();\r\n    }\r\n\r\n    private void demo ( )\r\n    {\r\n        ValidatorFactory factory = Validation.buildDefaultValidatorFactory();\r\n        Validator validator = factory.getValidator();\r\n\r\n        // No violations.\r\n        {\r\n            Car car = new Car( &quot;Honda&quot; , &quot;ABC-789&quot; , 4 );\r\n            System.out.println( &quot;car = &quot; + car );\r\n\r\n            Set &lt; ConstraintViolation &lt; Car &gt; &gt; violations = validator.validate( car );\r\n            System.out.format( &quot;INFO - Found %d violations.\\n&quot; , violations.size() );\r\n        }\r\n\r\n        // 3 violations.\r\n        {\r\n            Car car = new Car( null , &quot;X&quot; , 1 );\r\n            System.out.println( &quot;car = &quot; + car );\r\n\r\n            Set &lt; ConstraintViolation &lt; Car &gt; &gt; violations = validator.validate( car );\r\n            System.out.format( &quot;INFO - Found %d violations.\\n&quot; , violations.size() );\r\n            violations.forEach( carConstraintViolation -&gt; System.out.println( carConstraintViolation.getMessage() ) );\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nWhen run.\r\n\r\n```none\r\ncar = Car{ manufacturer=&#39;Honda&#39; | licensePlate=&#39;ABC-789&#39; | seatCount=4 }\r\nINFO - Found 0 violations.\r\ncar = Car{ manufacturer=&#39;null&#39; | licensePlate=&#39;X&#39; | seatCount=1 }\r\nINFO - Found 3 violations.\r\nmust be greater than or equal to 2\r\nmust not be null\r\nsize must be between 2 and 14\r\n```\r\n\r\n\r\n\r\n\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Oracle_Corporation\r\n  [2]: https://en.wikipedia.org/wiki/Eclipse_Foundation\r\n  [3]: https://stackoverflow.com/a/61555391/642706\r\n  [4]: https://jakarta.ee/specifications/bean-validation/\r\n  [5]: https://en.wikipedia.org/wiki/Interface_(Java)\r\n  [6]: https://hibernate.org/validator/\r\n  [7]: https://en.wikipedia.org/wiki/JAR_(file_format)\r\n  [8]: https://en.wikipedia.org/wiki/Apache_Maven\r\n  [9]: https://en.wikipedia.org/wiki/Gradle\r\n  [10]: https://en.wikipedia.org/wiki/Apache_Ivy\r\n  [11]: https://en.wikipedia.org/wiki/Jakarta_Expression_Language\r\n  [12]: https://en.wikipedia.org/wiki/Domain-specific_language\r\n  [13]: https://en.wikipedia.org/wiki/Expression_(computer_science)\r\n  [14]: https://openjdk.java.net/jeps/395","title":"javax.validation.ValidationException: HV000183: Unable to load &#39;javax.el.ExpressionFactory&#39;","body":"<h1>Jakarta namespace</h1>\n<p>As part of the handover from <a href=\"https://en.wikipedia.org/wiki/Oracle_Corporation\" rel=\"noreferrer\">Oracle</a> to the <a href=\"https://en.wikipedia.org/wiki/Eclipse_Foundation\" rel=\"noreferrer\">Eclipse Foundation</a>, <em>Java EE</em> is being renamed to <em>Jakarta EE</em>. With Jakarta EE 9, the Java package names were changed from <code>javax.*</code> to <code>jakarta.*</code>.</p>\n<p>The <a href=\"https://stackoverflow.com/a/61555391/642706\">Answer by M. Justin</a> is correct with regard to Jakarta. I added this Answer to provide more explanation and specific examples.</p>\n<h1>Interface versus Implementation</h1>\n<p><a href=\"https://jakarta.ee/specifications/bean-validation/\" rel=\"noreferrer\"><em>Jakarta Bean Validation</em></a> is a specification of an API in Java. The binary library for this spec contains only <a href=\"https://en.wikipedia.org/wiki/Interface_(Java)\" rel=\"noreferrer\">interfaces</a>, not executable code. So we also need an implementation of these interfaces.</p>\n<p>I know of only one implementation of <em>Jakarta Bean Validation</em> versions 2 &amp; 3 specifications: <a href=\"https://hibernate.org/validator/\" rel=\"noreferrer\"><em>Hibernate Validator</em></a> versions 6 and 7 (respectively).</p>\n<h1>Desktop &amp; console apps</h1>\n<p>For web apps, a Jakarta-compliant web container will provide both the interface and the implementation needed to perform Bean Validation.</p>\n<p>For desktop and console apps, we have no such Jakarta-compliant web container. So you must bundle both the interface <a href=\"https://en.wikipedia.org/wiki/JAR_(file_format)\" rel=\"noreferrer\">jar</a> and the implementation jar with your app.</p>\n<p>You can use a dependency-management tool such as <a href=\"https://en.wikipedia.org/wiki/Apache_Maven\" rel=\"noreferrer\"><em>Maven</em></a>, <a href=\"https://en.wikipedia.org/wiki/Gradle\" rel=\"noreferrer\"><em>Gradle</em></a>, or <a href=\"https://en.wikipedia.org/wiki/Apache_Ivy\" rel=\"noreferrer\">Ivy</a> to download and bundle the interface &amp; implementation jars.</p>\n<h1>Jakarta Expression Language</h1>\n<p>To run <em>Jakarta Bean Validation</em>, we need another Jakarta tool as well: <a href=\"https://en.wikipedia.org/wiki/Jakarta_Expression_Language\" rel=\"noreferrer\"><em>Jakarta Expression Language</em></a>, a <a href=\"https://en.wikipedia.org/wiki/Domain-specific_language\" rel=\"noreferrer\">special purpose programming language</a> for embedding and evaluating <a href=\"https://en.wikipedia.org/wiki/Expression_(computer_science)\" rel=\"noreferrer\">expressions</a>. <em>Jakarta Expression Language</em> is also known simply as <em>EL</em>.</p>\n<p><em>Jakarta Expression Language</em> is defined by Jakarta EE as a specification for which you must download a jar of interfaces. And you also need to obtain an implementation of these interfaces in another jar.</p>\n<p>You may have choice of implementations. As of 2021-03, I know of <em>Eclipse Glassfish</em> by Eclipse Foundation providing an implementation as a separate library we can download free-of-cost. There may be other implementations, such as <em>Open Liberty</em> by IBM Corporation. Shop around for an implementation that suits your needs.</p>\n<h1>Maven POM dependencies</h1>\n<p>Pulling all this info together, you need four jars: A pair of interface and implementation jars for each of two projects, <em>Jakarta Bean Validation</em> and <em>Jakarta Expression Language</em>.</p>\n<ul>\n<li><em>Jakarta Bean Validation</em>\n<ul>\n<li>Interface</li>\n<li>Implementation</li>\n</ul>\n</li>\n<li><em>Jakarta Expression Language</em>\n<ul>\n<li>Interface</li>\n<li>Implementation</li>\n</ul>\n</li>\n</ul>\n<p>The following are the four dependencies you need to add to your Maven POM file, if Maven is your tool of choice.</p>\n<p>As mentioned above, you may be able to find another implementation of EL to substitute for the Glassfish library I use here.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;!--********| Jakarta Bean Validation  |********--&gt;\n\n&lt;!-- Interface --&gt;\n\n&lt;!-- https://mvnrepository.com/artifact/jakarta.validation/jakarta.validation-api --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;jakarta.validation&lt;/groupId&gt;\n    &lt;artifactId&gt;jakarta.validation-api&lt;/artifactId&gt;\n    &lt;version&gt;3.0.0&lt;/version&gt;\n&lt;/dependency&gt;\n\n&lt;!-- Implementation --&gt;\n\n&lt;!-- https://mvnrepository.com/artifact/org.hibernate.validator/hibernate-validator --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.hibernate.validator&lt;/groupId&gt;\n    &lt;artifactId&gt;hibernate-validator&lt;/artifactId&gt;\n    &lt;version&gt;7.0.1.Final&lt;/version&gt;\n&lt;/dependency&gt;\n\n&lt;!-- Jakarta Expression Language --&gt;\n\n&lt;!-- Interface --&gt;\n\n&lt;!-- https://mvnrepository.com/artifact/jakarta.el/jakarta.el-api --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;jakarta.el&lt;/groupId&gt;\n    &lt;artifactId&gt;jakarta.el-api&lt;/artifactId&gt;\n    &lt;version&gt;4.0.0&lt;/version&gt;\n&lt;/dependency&gt;\n\n&lt;!-- Implementation --&gt;\n\n&lt;!-- https://mvnrepository.com/artifact/org.glassfish/jakarta.el --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.glassfish&lt;/groupId&gt;\n    &lt;artifactId&gt;jakarta.el&lt;/artifactId&gt;\n    &lt;version&gt;4.0.1&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>That should eliminate the <code>javax.validation.ValidationException: HV000183: Unable to load 'javax.el.ExpressionFactory'</code> error.</p>\n<h1>Example usage</h1>\n<p>You can test your setup with the following simple class, <code>Car</code>. We have validations on each of the three member fields.</p>\n<pre class=\"lang-java prettyprint-override\"><code>package work.basil.example.beanval;\n\nimport jakarta.validation.constraints.*;\n\npublic class Car\n{\n    // ---------------|  Member fields  |----------------------------\n    @NotNull\n    private String manufacturer;\n\n    @NotNull\n    @Size ( min = 2, max = 14 )\n    private String licensePlate;\n\n    @Min ( 2 )\n    private int seatCount;\n\n    // ---------------|  Constructors  |----------------------------\n    public Car ( String manufacturer , String licensePlate , int seatCount )\n    {\n        this.manufacturer = manufacturer;\n        this.licensePlate = licensePlate;\n        this.seatCount = seatCount;\n    }\n\n    // ---------------|  Object overrides  |----------------------------\n\n    @Override\n    public String toString ( )\n    {\n        return &quot;Car{ &quot; +\n                &quot;manufacturer='&quot; + manufacturer + '\\'' +\n                &quot; | licensePlate='&quot; + licensePlate + '\\'' +\n                &quot; | seatCount=&quot; + seatCount +\n                &quot; }&quot;;\n    }\n}\n</code></pre>\n<p>Or, if using Java 16 and later, use a more brief <a href=\"https://openjdk.java.net/jeps/395\" rel=\"noreferrer\"><code>record</code></a> instead.</p>\n<pre class=\"lang-java prettyprint-override\"><code>package work.basil.example.beanval;\n\nimport jakarta.validation.constraints.*;\n\npublic record Car (\n        @NotNull\n        String manufacturer ,\n        @NotNull\n        @Size ( min = 2, max = 14 )\n        String licensePlate ,\n        @Min ( 2 )\n        int seatCount\n)\n{\n}\n</code></pre>\n<p>Run the validation. First we run with a successfully configured <code>Car</code> object. Then we instantiate a second <code>Car</code> object that is faulty, violating one constraint on each of the three fields.</p>\n<pre class=\"lang-java prettyprint-override\"><code>package work.basil.example.beanval;\n\nimport jakarta.validation.ConstraintViolation;\nimport jakarta.validation.Validation;\nimport jakarta.validation.Validator;\nimport jakarta.validation.ValidatorFactory;\n\nimport java.util.Set;\n\npublic class App\n{\n    public static void main ( String[] args )\n    {\n        App app = new App();\n        app.demo();\n    }\n\n    private void demo ( )\n    {\n        ValidatorFactory factory = Validation.buildDefaultValidatorFactory();\n        Validator validator = factory.getValidator();\n\n        // No violations.\n        {\n            Car car = new Car( &quot;Honda&quot; , &quot;ABC-789&quot; , 4 );\n            System.out.println( &quot;car = &quot; + car );\n\n            Set &lt; ConstraintViolation &lt; Car &gt; &gt; violations = validator.validate( car );\n            System.out.format( &quot;INFO - Found %d violations.\\n&quot; , violations.size() );\n        }\n\n        // 3 violations.\n        {\n            Car car = new Car( null , &quot;X&quot; , 1 );\n            System.out.println( &quot;car = &quot; + car );\n\n            Set &lt; ConstraintViolation &lt; Car &gt; &gt; violations = validator.validate( car );\n            System.out.format( &quot;INFO - Found %d violations.\\n&quot; , violations.size() );\n            violations.forEach( carConstraintViolation -&gt; System.out.println( carConstraintViolation.getMessage() ) );\n        }\n    }\n}\n</code></pre>\n<p>When run.</p>\n<pre class=\"lang-none prettyprint-override\"><code>car = Car{ manufacturer='Honda' | licensePlate='ABC-789' | seatCount=4 }\nINFO - Found 0 violations.\ncar = Car{ manufacturer='null' | licensePlate='X' | seatCount=1 }\nINFO - Found 3 violations.\nmust be greater than or equal to 2\nmust not be null\nsize must be between 2 and 14\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7457990,"reputation":41,"user_id":5670590,"display_name":"alexis"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1629766296,"creation_date":1629766296,"answer_id":68900575,"question_id":24386771,"body_markdown":"For anyone using Hibernate Validator 7 (org.hibernate.validator:hibernate-validator:7.0.0.Final) as Jakarta Bean Validation 3.0 implementation should use the dependency:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.glassfish&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jakarta.el&lt;/artifactId&gt;\r\n        &lt;version&gt;4.0.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nas stated in [Hibernate Validator documentation](https://docs.jboss.org/hibernate/stable/validator/reference/en-US/html_single/#validator-gettingstarted-uel)","title":"javax.validation.ValidationException: HV000183: Unable to load &#39;javax.el.ExpressionFactory&#39;","body":"<p>For anyone using Hibernate Validator 7 (org.hibernate.validator:hibernate-validator:7.0.0.Final) as Jakarta Bean Validation 3.0 implementation should use the dependency:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.glassfish&lt;/groupId&gt;\n    &lt;artifactId&gt;jakarta.el&lt;/artifactId&gt;\n    &lt;version&gt;4.0.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>as stated in <a href=\"https://docs.jboss.org/hibernate/stable/validator/reference/en-US/html_single/#validator-gettingstarted-uel\" rel=\"nofollow noreferrer\">Hibernate Validator documentation</a></p>\n"},{"tags":[],"owner":{"account_id":2426974,"reputation":1154,"user_id":2118693,"display_name":"jmgonet"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1658835080,"creation_date":1658835080,"answer_id":73122608,"question_id":24386771,"body_markdown":"I am stranded on old technologies, so I had to add the following:\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;javax.el&lt;/groupId&gt;\r\n            &lt;artifactId&gt;javax.el-api&lt;/artifactId&gt;\r\n            &lt;version&gt;3.0.0&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.glassfish&lt;/groupId&gt;\r\n            &lt;artifactId&gt;javax.el&lt;/artifactId&gt;\r\n            &lt;version&gt;3.0.0&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\nOther answers report the same dependencies, I only updated the versions.","title":"javax.validation.ValidationException: HV000183: Unable to load &#39;javax.el.ExpressionFactory&#39;","body":"<p>I am stranded on old technologies, so I had to add the following:</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;javax.el&lt;/groupId&gt;\n        &lt;artifactId&gt;javax.el-api&lt;/artifactId&gt;\n        &lt;version&gt;3.0.0&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.glassfish&lt;/groupId&gt;\n        &lt;artifactId&gt;javax.el&lt;/artifactId&gt;\n        &lt;version&gt;3.0.0&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>Other answers report the same dependencies, I only updated the versions.</p>\n"},{"tags":[],"owner":{"account_id":15375039,"reputation":508,"user_id":11092008,"display_name":"Shapur"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670918090,"creation_date":1670918090,"answer_id":74781584,"question_id":24386771,"body_markdown":"If your server is websphere and you used `spring-boot-starter-validation` ,  exclude `tomcat-embed-el`.\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\r\n   \r\n        &lt;exclusions&gt;\r\n             &lt;exclusion&gt;\r\n                  &lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\r\n                  &lt;artifactId&gt;tomcat-embed-el&lt;/artifactId&gt;\r\n             &lt;/exclusion&gt;\r\n        &lt;/exclusions&gt;\r\n    &lt;/dependency&gt;","title":"javax.validation.ValidationException: HV000183: Unable to load &#39;javax.el.ExpressionFactory&#39;","body":"<p>If your server is websphere and you used <code>spring-boot-starter-validation</code> ,  exclude <code>tomcat-embed-el</code>.</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\n\n    &lt;exclusions&gt;\n         &lt;exclusion&gt;\n              &lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\n              &lt;artifactId&gt;tomcat-embed-el&lt;/artifactId&gt;\n         &lt;/exclusion&gt;\n    &lt;/exclusions&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23911482,"reputation":31,"user_id":17908379,"display_name":"basicange"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1677459920,"creation_date":1677459920,"answer_id":75576027,"question_id":24386771,"body_markdown":"for anyone using Hibernate Validator 8, you need to use\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.glassfish.expressly&lt;/groupId&gt;\r\n        &lt;artifactId&gt;expressly&lt;/artifactId&gt;\r\n        &lt;version&gt;5.0.0&lt;/version&gt;\r\n     &lt;/dependency&gt;","title":"javax.validation.ValidationException: HV000183: Unable to load &#39;javax.el.ExpressionFactory&#39;","body":"<p>for anyone using Hibernate Validator 8, you need to use</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.glassfish.expressly&lt;/groupId&gt;\n    &lt;artifactId&gt;expressly&lt;/artifactId&gt;\n    &lt;version&gt;5.0.0&lt;/version&gt;\n &lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":3163862,"reputation":36940,"user_id":2674303,"accept_rate":62,"display_name":"gstackoverflow"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":164657,"favorite_count":0,"down_vote_count":0,"up_vote_count":137,"accepted_answer_id":24387031,"answer_count":16,"score":137,"last_activity_date":1677459920,"creation_date":1403613247,"question_id":24386771,"body_markdown":"I try to write very simple application with hibernate validator:\r\n\r\nmy steps:\r\n\r\n**Added following dependency in pom.xml:**\r\n\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n        &lt;artifactId&gt;hibernate-validator&lt;/artifactId&gt;\r\n        &lt;version&gt;5.1.1.Final&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n\t\r\n\r\n**Wrote following code:**\r\n\r\n    class Configuration {\r\n    \tRange(min=1,max=100)\r\n    \tint threadNumber;\r\n        //...\r\n    \t\r\n    \tpublic static void main(String[] args) {\r\n    \t\tValidatorFactory factory = Validation.buildDefaultValidatorFactory();\r\n    \r\n    \t\tValidator validator = factory.getValidator();\r\n    \t\t\r\n    \t\tConfiguration configuration = new Configuration();\r\n    \t\tconfiguration.threadNumber = 12;\r\n                //...\r\n    \t\t\r\n    \t\tSet&lt;ConstraintViolation&lt;Configuration&gt;&gt; constraintViolations = validator.validate(configuration);\r\n    \t\tSystem.out.println(constraintViolations);\r\n    \r\n    \t}\r\n    }\r\n\r\n\t\r\n\r\n**And I get following stacktrace:**\r\n\r\n    Exception in thread &quot;main&quot; javax.validation.ValidationException: Unable to instantiate Configuration.\r\n    \tat javax.validation.Validation$GenericBootstrapImpl.configure(Validation.java:279)\r\n    \tat javax.validation.Validation.buildDefaultValidatorFactory(Validation.java:110)\r\n    \t...\r\n    \tat org.hibernate.validator.internal.engine.ConfigurationImpl.&lt;init&gt;(ConfigurationImpl.java:110)\r\n    \tat org.hibernate.validator.internal.engine.ConfigurationImpl.&lt;init&gt;(ConfigurationImpl.java:86)\r\n    \tat org.hibernate.validator.HibernateValidator.createGenericConfiguration(HibernateValidator.java:41)\r\n    \tat javax.validation.Validation$GenericBootstrapImpl.configure(Validation.java:276)\r\n    \t... 2 more\r\n\r\n\r\nWhat do I wrong?","title":"javax.validation.ValidationException: HV000183: Unable to load &#39;javax.el.ExpressionFactory&#39;","body":"<p>I try to write very simple application with hibernate validator:</p>\n<p>my steps:</p>\n<p><strong>Added following dependency in pom.xml:</strong></p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n    &lt;artifactId&gt;hibernate-validator&lt;/artifactId&gt;\n    &lt;version&gt;5.1.1.Final&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p><strong>Wrote following code:</strong></p>\n<pre><code>class Configuration {\n    Range(min=1,max=100)\n    int threadNumber;\n    //...\n    \n    public static void main(String[] args) {\n        ValidatorFactory factory = Validation.buildDefaultValidatorFactory();\n\n        Validator validator = factory.getValidator();\n        \n        Configuration configuration = new Configuration();\n        configuration.threadNumber = 12;\n            //...\n        \n        Set&lt;ConstraintViolation&lt;Configuration&gt;&gt; constraintViolations = validator.validate(configuration);\n        System.out.println(constraintViolations);\n\n    }\n}\n</code></pre>\n<p><strong>And I get following stacktrace:</strong></p>\n<pre><code>Exception in thread &quot;main&quot; javax.validation.ValidationException: Unable to instantiate Configuration.\n    at javax.validation.Validation$GenericBootstrapImpl.configure(Validation.java:279)\n    at javax.validation.Validation.buildDefaultValidatorFactory(Validation.java:110)\n    ...\n    at org.hibernate.validator.internal.engine.ConfigurationImpl.&lt;init&gt;(ConfigurationImpl.java:110)\n    at org.hibernate.validator.internal.engine.ConfigurationImpl.&lt;init&gt;(ConfigurationImpl.java:86)\n    at org.hibernate.validator.HibernateValidator.createGenericConfiguration(HibernateValidator.java:41)\n    at javax.validation.Validation$GenericBootstrapImpl.configure(Validation.java:276)\n    ... 2 more\n</code></pre>\n<p>What do I wrong?</p>\n"},{"tags":["java","javafx"],"comments":[{"owner":{"account_id":5237964,"reputation":6741,"user_id":4185959,"accept_rate":64,"display_name":"Itai"},"score":1,"creation_date":1520957667,"post_id":49260841,"comment_id":85525414,"body_markdown":"My assumption would be that re-trying will never work, as the texture size probably corresponds to some hardware resource (probably directly related to VRAM).  If possible, perhaps limit the maximum size of the scene when taking the snapshot, or take snapshots of parts of the scene?","body":"My assumption would be that re-trying will never work, as the texture size probably corresponds to some hardware resource (probably directly related to VRAM).  If possible, perhaps limit the maximum size of the scene when taking the snapshot, or take snapshots of parts of the scene?"},{"owner":{"account_id":4105,"reputation":281414,"user_id":6068,"accept_rate":65,"display_name":"Pablo Fernandez"},"score":0,"creation_date":1520958433,"post_id":49260841,"comment_id":85525946,"body_markdown":"I can&#39;t limit the size of the scene. Taking it in parts might be doable. I need to look at the snapshot API. Without being able to reproduce the bug though, I don&#39;t know if that&#39;s a solution.","body":"I can&#39;t limit the size of the scene. Taking it in parts might be doable. I need to look at the snapshot API. Without being able to reproduce the bug though, I don&#39;t know if that&#39;s a solution."},{"owner":{"account_id":5237964,"reputation":6741,"user_id":4185959,"accept_rate":64,"display_name":"Itai"},"score":0,"creation_date":1521023437,"post_id":49260841,"comment_id":85553033,"body_markdown":"The bug report you linked suggest scaling can affect it... Maybe try bringing up the scale until you can reproduce it on  your system?","body":"The bug report you linked suggest scaling can affect it... Maybe try bringing up the scale until you can reproduce it on  your system?"}],"answers":[{"tags":[],"owner":{"account_id":1946663,"reputation":15594,"user_id":1751640,"accept_rate":75,"display_name":"Mordechai"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1520986836,"creation_date":1520986836,"answer_id":49267937,"question_id":49260841,"body_markdown":"It happened to me too...\r\n\r\nThis happens if the snapshot ends up being to big. \r\n\r\nI was able to fix this by adding a scale in `SnapshotParameters` to say, half. Once you lay your hand on the image, you can do just anything you want, including getting it back to size.","title":"How to work around Unrecognized image loader: null in JavaFX?","body":"<p>It happened to me too...</p>\n\n<p>This happens if the snapshot ends up being to big. </p>\n\n<p>I was able to fix this by adding a scale in <code>SnapshotParameters</code> to say, half. Once you lay your hand on the image, you can do just anything you want, including getting it back to size.</p>\n"},{"tags":[],"owner":{"account_id":4307573,"reputation":1270,"user_id":3519572,"display_name":"tomorrow"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1531848602,"creation_date":1531848602,"answer_id":51387221,"question_id":49260841,"body_markdown":"**TL;DR:**\r\n\r\n - even if using Oracle JVM, see: https://wiki.openjdk.java.net/pages/viewpage.action?pageId=20415996\r\n - use `-Dprism.poolstats=true -Dprism.verbose=true` to check your maxvram limit and to see how much vram you actually consume\r\n - setting `-Dprism.maxvram=xxxxM` to lower value might help to reproduce the problem\r\n - setting `-Dprism.maxvram=xxxxM` to higher value might help to solve the problem\r\n\r\n---\r\n**my case (for anyone interested)**\r\n\r\nAs suggested in the link above I used `-Dprism.poolstats=true -Dprism.verbose=true` and found that maxvram is high enough. Anyway, to be really sure, I added `-Dprism.maxvram=1024M -Dprism.targetvram=512M` but it didn&#39;t help. There was enough memory but the allocation kept failing with the following errors:\r\n\r\n    D3D Vram Pool: 66.929.834 used (12,5%), 81.273.002 target (15,1%), 536.870.912 max\r\n    36 total resources being managed\r\n    average resource age is 12,6 frames\r\n    0 resources at maximum supported age (0,0%)\r\n    5 resources marked permanent (13,9%)\r\n    0 resources have had mismatched locks (0,0%)\r\n    0 resources locked (0,0%)\r\n    31 resources contain interesting data (86,1%)\r\n    0 resources disappeared (0,0%)\r\n    \r\n    Growing pool D3D Vram Pool target to 116.658.814\r\n    Growing pool D3D Vram Pool target to 131.338.878\r\n    Growing pool D3D Vram Pool target to 159.043.730\r\n    D3D hresult failed :D3D_ERROR ffffffff8007000e\r\n    java.lang.Exception: Stack trace\r\n            at com.sun.prism.d3d.D3DContext.validate(D3DContext.java:133)\r\n            at com.sun.prism.d3d.D3DContext.validatePresent(D3DContext.java:183)\r\n            at com.sun.prism.d3d.D3DRTTexture.readPixels(D3DRTTexture.java:116)\r\n            at com.sun.prism.d3d.D3DRTTexture.readPixels(D3DRTTexture.java:90)\r\n            at com.sun.javafx.tk.quantum.QuantumToolkit$5.run(QuantumToolkit.java:1437)\r\n            at java.util.concurrent.Executors$RunnableAdapter.call(Unknown Source)\r\n            at java.util.concurrent.FutureTask.runAndReset(Unknown Source)\r\n            at com.sun.javafx.tk.RenderJob.run(RenderJob.java:58)\r\n            at java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)\r\n            at java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)\r\n            at com.sun.javafx.tk.quantum.QuantumRenderer$PipelineRunnable.run(QuantumRenderer.java:125)\r\n            at java.lang.Thread.run(Unknown Source)\r\n    D3D Vram Pool: 109.314.750 used (20,4%), 159.043.730 target (29,6%), 536.870.912 max\r\n    37 total resources being managed\r\n    average resource age is 13,1 frames\r\n    0 resources at maximum supported age (0,0%)\r\n    5 resources marked permanent (13,5%)\r\n    0 resources have had mismatched locks (0,0%)\r\n    0 resources locked (0,0%)\r\n    32 resources contain interesting data (86,5%)\r\n    0 resources disappeared (0,0%)\r\n    \r\n    2018-07-17 18:05:09 [JavaFX Application Thread] de.apris3.client.ErrorHandler.handle()\r\n       ERROR: : java.lang.IllegalArgumentException: Unrecognized image loader: null\r\n            at javafx.scene.image.WritableImage.loadTkImage(WritableImage.java:240)\r\n            at javafx.scene.image.WritableImage.access$000(WritableImage.java:46)\r\n            at javafx.scene.image.WritableImage$1.loadTkImage(WritableImage.java:51)\r\n            at javafx.scene.Scene.doSnapshot(Scene.java:1236)\r\n            at javafx.scene.Node.doSnapshot(Node.java:1864)\r\n            at javafx.scene.Node.snapshot(Node.java:1942)\r\n            ...\r\n    D3D Vram Pool: 112.230.142 used (20,9%), 159.043.730 target (29,6%), 536.870.912 max\r\n    40 total resources being managed\r\n    average resource age is 13,0 frames\r\n    0 resources at maximum supported age (0,0%)\r\n    5 resources marked permanent (12,5%)\r\n    0 resources have had mismatched locks (0,0%)\r\n    0 resources locked (0,0%)\r\n    35 resources contain interesting data (87,5%)\r\n    0 resources disappeared (0,0%)\r\n\r\nObviously, JVM couldn&#39;t allocate enough memory even though the limit was high enough. Searching for `D3D hresult failed :D3D_ERROR ffffffff8007000e` revealed it&#39;s actually a Windows error (https://learn.microsoft.com/en-us/windows/desktop/seccrypto/common-hresult-values):\r\n\r\n    E_OUTOFMEMORY \tFailed to allocate necessary memory \t0x8007000E \r\n\r\nFinally, after checking the device manager, it turned out that the client had installed a new graphic card and Windows Updated screwed the drivers up.","title":"How to work around Unrecognized image loader: null in JavaFX?","body":"<p><strong>TL;DR:</strong></p>\n\n<ul>\n<li>even if using Oracle JVM, see: <a href=\"https://wiki.openjdk.java.net/pages/viewpage.action?pageId=20415996\" rel=\"nofollow noreferrer\">https://wiki.openjdk.java.net/pages/viewpage.action?pageId=20415996</a></li>\n<li>use <code>-Dprism.poolstats=true -Dprism.verbose=true</code> to check your maxvram limit and to see how much vram you actually consume</li>\n<li>setting <code>-Dprism.maxvram=xxxxM</code> to lower value might help to reproduce the problem</li>\n<li>setting <code>-Dprism.maxvram=xxxxM</code> to higher value might help to solve the problem</li>\n</ul>\n\n<hr>\n\n<p><strong>my case (for anyone interested)</strong></p>\n\n<p>As suggested in the link above I used <code>-Dprism.poolstats=true -Dprism.verbose=true</code> and found that maxvram is high enough. Anyway, to be really sure, I added <code>-Dprism.maxvram=1024M -Dprism.targetvram=512M</code> but it didn't help. There was enough memory but the allocation kept failing with the following errors:</p>\n\n<pre><code>D3D Vram Pool: 66.929.834 used (12,5%), 81.273.002 target (15,1%), 536.870.912 max\n36 total resources being managed\naverage resource age is 12,6 frames\n0 resources at maximum supported age (0,0%)\n5 resources marked permanent (13,9%)\n0 resources have had mismatched locks (0,0%)\n0 resources locked (0,0%)\n31 resources contain interesting data (86,1%)\n0 resources disappeared (0,0%)\n\nGrowing pool D3D Vram Pool target to 116.658.814\nGrowing pool D3D Vram Pool target to 131.338.878\nGrowing pool D3D Vram Pool target to 159.043.730\nD3D hresult failed :D3D_ERROR ffffffff8007000e\njava.lang.Exception: Stack trace\n        at com.sun.prism.d3d.D3DContext.validate(D3DContext.java:133)\n        at com.sun.prism.d3d.D3DContext.validatePresent(D3DContext.java:183)\n        at com.sun.prism.d3d.D3DRTTexture.readPixels(D3DRTTexture.java:116)\n        at com.sun.prism.d3d.D3DRTTexture.readPixels(D3DRTTexture.java:90)\n        at com.sun.javafx.tk.quantum.QuantumToolkit$5.run(QuantumToolkit.java:1437)\n        at java.util.concurrent.Executors$RunnableAdapter.call(Unknown Source)\n        at java.util.concurrent.FutureTask.runAndReset(Unknown Source)\n        at com.sun.javafx.tk.RenderJob.run(RenderJob.java:58)\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)\n        at com.sun.javafx.tk.quantum.QuantumRenderer$PipelineRunnable.run(QuantumRenderer.java:125)\n        at java.lang.Thread.run(Unknown Source)\nD3D Vram Pool: 109.314.750 used (20,4%), 159.043.730 target (29,6%), 536.870.912 max\n37 total resources being managed\naverage resource age is 13,1 frames\n0 resources at maximum supported age (0,0%)\n5 resources marked permanent (13,5%)\n0 resources have had mismatched locks (0,0%)\n0 resources locked (0,0%)\n32 resources contain interesting data (86,5%)\n0 resources disappeared (0,0%)\n\n2018-07-17 18:05:09 [JavaFX Application Thread] de.apris3.client.ErrorHandler.handle()\n   ERROR: : java.lang.IllegalArgumentException: Unrecognized image loader: null\n        at javafx.scene.image.WritableImage.loadTkImage(WritableImage.java:240)\n        at javafx.scene.image.WritableImage.access$000(WritableImage.java:46)\n        at javafx.scene.image.WritableImage$1.loadTkImage(WritableImage.java:51)\n        at javafx.scene.Scene.doSnapshot(Scene.java:1236)\n        at javafx.scene.Node.doSnapshot(Node.java:1864)\n        at javafx.scene.Node.snapshot(Node.java:1942)\n        ...\nD3D Vram Pool: 112.230.142 used (20,9%), 159.043.730 target (29,6%), 536.870.912 max\n40 total resources being managed\naverage resource age is 13,0 frames\n0 resources at maximum supported age (0,0%)\n5 resources marked permanent (12,5%)\n0 resources have had mismatched locks (0,0%)\n0 resources locked (0,0%)\n35 resources contain interesting data (87,5%)\n0 resources disappeared (0,0%)\n</code></pre>\n\n<p>Obviously, JVM couldn't allocate enough memory even though the limit was high enough. Searching for <code>D3D hresult failed :D3D_ERROR ffffffff8007000e</code> revealed it's actually a Windows error (<a href=\"https://learn.microsoft.com/en-us/windows/desktop/seccrypto/common-hresult-values\" rel=\"nofollow noreferrer\">https://learn.microsoft.com/en-us/windows/desktop/seccrypto/common-hresult-values</a>):</p>\n\n<pre><code>E_OUTOFMEMORY   Failed to allocate necessary memory     0x8007000E \n</code></pre>\n\n<p>Finally, after checking the device manager, it turned out that the client had installed a new graphic card and Windows Updated screwed the drivers up.</p>\n"},{"tags":[],"owner":{"account_id":2656192,"reputation":121,"user_id":2296843,"display_name":"JOpolka"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1533814852,"creation_date":1533814852,"answer_id":51766048,"question_id":49260841,"body_markdown":"I encountered the same problem when trying to make a snapshot from a large node.\r\nIn my case scaling was not a possibility since I needed a high resolution image.\r\nTo solve the problem I made multiple snapshots from subsections of the node and stiched them together afterwards.\r\n\r\nHere is the function I wrote:\r\n\r\n\tprivate void exportPng(final Node node, final String filePath) {\r\n\r\n\t\tfinal int w = (int) node.getLayoutBounds().getWidth();\r\n\t\tfinal int h = (int) node.getLayoutBounds().getHeight();\r\n\t\tfinal WritableImage full = new WritableImage(w, h);\r\n\t\t\t\r\n\t\t// defines the number of tiles to export (use higher value for bigger resolution)\r\n\t\tfinal int size = 2; \r\n\t\tfinal int tileWidth = w / size;\r\n\t\tfinal int tileHeight = h / size;\r\n\r\n\t\tSystem.out.println(&quot;Exporting node (building &quot; + (size * size) + &quot; tiles)&quot;);\r\n\r\n\t\ttry {\r\n\t\t\tfor (int col = 0; col &lt; size; ++col) {\r\n\t\t\t\tfor (int row = 0; row &lt; size; ++row) {\r\n\t\t\t\t\t\r\n\t\t\t\t\tfinal int x = row * tileWidth;\r\n\t\t\t\t\tfinal int y = col * tileHeight;\r\n\t\t\t\t\tfinal SnapshotParameters params = new SnapshotParameters();\r\n\t\t\t\t\tparams.setViewport(new Rectangle2D(x, y, tileWidth, tileHeight));\t\r\n\t\t\t\t\t\r\n\t\t\t\t\tfinal CompletableFuture&lt;Image&gt; future = new CompletableFuture&lt;&gt;();\r\n\t\t\t\t\t\r\n\t\t\t\t\t// keeps fx application thread unblocked\r\n\t\t\t\t\tPlatform.runLater(() -&gt; future.complete(node.snapshot(params, null)));\r\n\t\t\t\t\tfull.getPixelWriter().setPixels(x, y, tileWidth, tileHeight, future.get().getPixelReader(), 0, 0);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tSystem.out.println(&quot;Exporting node (saving to file)&quot;);\r\n\t\t\t\r\n\t\t\tImageIO.write(SwingFXUtils.fromFXImage(full, null), &quot;png&quot;, new File(filePath));\r\n\t\t\t\r\n\t\t\tSystem.out.println(&quot;Exporting node (finished)&quot;);\r\n\r\n\t\t} catch (Exception e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t}","title":"How to work around Unrecognized image loader: null in JavaFX?","body":"<p>I encountered the same problem when trying to make a snapshot from a large node.\nIn my case scaling was not a possibility since I needed a high resolution image.\nTo solve the problem I made multiple snapshots from subsections of the node and stiched them together afterwards.</p>\n\n<p>Here is the function I wrote:</p>\n\n<pre><code>private void exportPng(final Node node, final String filePath) {\n\n    final int w = (int) node.getLayoutBounds().getWidth();\n    final int h = (int) node.getLayoutBounds().getHeight();\n    final WritableImage full = new WritableImage(w, h);\n\n    // defines the number of tiles to export (use higher value for bigger resolution)\n    final int size = 2; \n    final int tileWidth = w / size;\n    final int tileHeight = h / size;\n\n    System.out.println(\"Exporting node (building \" + (size * size) + \" tiles)\");\n\n    try {\n        for (int col = 0; col &lt; size; ++col) {\n            for (int row = 0; row &lt; size; ++row) {\n\n                final int x = row * tileWidth;\n                final int y = col * tileHeight;\n                final SnapshotParameters params = new SnapshotParameters();\n                params.setViewport(new Rectangle2D(x, y, tileWidth, tileHeight));   \n\n                final CompletableFuture&lt;Image&gt; future = new CompletableFuture&lt;&gt;();\n\n                // keeps fx application thread unblocked\n                Platform.runLater(() -&gt; future.complete(node.snapshot(params, null)));\n                full.getPixelWriter().setPixels(x, y, tileWidth, tileHeight, future.get().getPixelReader(), 0, 0);\n            }\n        }\n\n        System.out.println(\"Exporting node (saving to file)\");\n\n        ImageIO.write(SwingFXUtils.fromFXImage(full, null), \"png\", new File(filePath));\n\n        System.out.println(\"Exporting node (finished)\");\n\n    } catch (Exception e) {\n        e.printStackTrace();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7516136,"reputation":121,"user_id":5709510,"display_name":"M. Brynczka"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677459177,"creation_date":1677459177,"answer_id":75575984,"question_id":49260841,"body_markdown":"I encountered this with a 7000x3000 pane, which erroneously contained a node with an x-coordinate of 43,000 (supposed to be 4,300).\r\n\r\nI didn&#39;t see the node of course, but it resulted in this error when trying to take a snapshot; removing it fixed the issue.","title":"How to work around Unrecognized image loader: null in JavaFX?","body":"<p>I encountered this with a 7000x3000 pane, which erroneously contained a node with an x-coordinate of 43,000 (supposed to be 4,300).</p>\n<p>I didn't see the node of course, but it resulted in this error when trying to take a snapshot; removing it fixed the issue.</p>\n"}],"owner":{"account_id":4105,"reputation":281414,"user_id":6068,"accept_rate":65,"display_name":"Pablo Fernandez"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1723,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":4,"score":2,"last_activity_date":1677459177,"creation_date":1520957406,"question_id":49260841,"body_markdown":"My application, written in Java 8 using JavaFX, takes screenshots, or rather, snapshots, and twice it generated this error:\r\n\r\n    java.lang.IllegalArgumentException: Unrecognized image loader: null\r\n        at javafx.scene.image.WritableImage.loadTkImage(WritableImage.java:240)\r\n        at javafx.scene.image.WritableImage.access$000(WritableImage.java:46)\r\n        at javafx.scene.image.WritableImage$1.loadTkImage(WritableImage.java:51)\r\n        at javafx.scene.Scene.doSnapshot(Scene.java:1236)\r\n        at javafx.scene.Node.doSnapshot(Node.java:1864)\r\n        at javafx.scene.Node.snapshot(Node.java:1942)\r\n\r\nSo far, in my application, I wasn&#39;t able to reproduce it. Searching for this issue I found this:\r\n\r\nhttps://bugs.openjdk.java.net/browse/JDK-8116783\r\n\r\nthat points to:\r\n\r\nhttps://bugs.openjdk.java.net/browse/JDK-8088198\r\n\r\nIt seems to be an open bug in JavaFX: &quot;Exception thrown from snapshot if dimensions are larger than max texture size&quot;.\r\n\r\nThe description of the bug says that it happens occasionally. Does anybody know if catching the exception and retrying would be a good way or workaround it?\r\n\r\n**Update**: when I tried to reproduce this error by making the screenshot very big, I got a completely different error:\r\n\r\n    java.lang.NullPointerException\r\n    \tat com.sun.prism.impl.ps.BaseShaderContext.initLCDBuffer(BaseShaderContext.java:703)\r\n    \tat com.sun.prism.impl.ps.BaseShaderContext.validateLCDBuffer(BaseShaderContext.java:725)\r\n    \tat com.sun.prism.impl.ps.BaseShaderGraphics.initLCDSampleRT(BaseShaderGraphics.java:1925)\r\n    \tat com.sun.prism.impl.ps.BaseShaderGraphics.drawString(BaseShaderGraphics.java:2059)\r\n    \tat com.sun.javafx.webkit.prism.WCGraphicsPrismContext$10.doPaint(WCGraphicsPrismContext.java:936)\r\n    \tat com.sun.javafx.webkit.prism.WCGraphicsPrismContext$Composite.paint(WCGraphicsPrismContext.java:1500)\r\n    \tat com.sun.javafx.webkit.prism.WCGraphicsPrismContext$Composite.paint(WCGraphicsPrismContext.java:1485)\r\n    \tat com.sun.javafx.webkit.prism.WCGraphicsPrismContext.drawString(WCGraphicsPrismContext.java:948)\r\n    \tat com.sun.webkit.graphics.GraphicsDecoder.decode(GraphicsDecoder.java:299)\r\n    \tat com.sun.webkit.graphics.WCRenderQueue.decode(WCRenderQueue.java:92)\r\n    \tat com.sun.webkit.WebPage.paint2GC(WebPage.java:734)\r\n    \tat com.sun.webkit.WebPage.paint(WebPage.java:701)\r\n    \tat com.sun.javafx.sg.prism.web.NGWebView.renderContent(NGWebView.java:96)\r\n    \tat com.sun.javafx.sg.prism.NGNode.doRender(NGNode.java:2053)\r\n    \tat com.sun.javafx.sg.prism.NGNode.render(NGNode.java:1945)\r\n    \tat com.sun.javafx.tk.quantum.QuantumToolkit$5.draw(QuantumToolkit.java:1393)\r\n    \tat com.sun.javafx.tk.quantum.QuantumToolkit$5.run(QuantumToolkit.java:1429)\r\n    \tat java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)\r\n    \tat java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)\r\n    \tat com.sun.javafx.tk.RenderJob.run(RenderJob.java:58)\r\n    \tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\r\n    \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\r\n    \tat com.sun.javafx.tk.quantum.QuantumRenderer$PipelineRunnable.run(QuantumRenderer.java:125)\r\n    \tat java.lang.Thread.run(Thread.java:748)\r\n\r\nIt similarly is a thread with no call touching my code at all.","title":"How to work around Unrecognized image loader: null in JavaFX?","body":"<p>My application, written in Java 8 using JavaFX, takes screenshots, or rather, snapshots, and twice it generated this error:</p>\n\n<pre><code>java.lang.IllegalArgumentException: Unrecognized image loader: null\n    at javafx.scene.image.WritableImage.loadTkImage(WritableImage.java:240)\n    at javafx.scene.image.WritableImage.access$000(WritableImage.java:46)\n    at javafx.scene.image.WritableImage$1.loadTkImage(WritableImage.java:51)\n    at javafx.scene.Scene.doSnapshot(Scene.java:1236)\n    at javafx.scene.Node.doSnapshot(Node.java:1864)\n    at javafx.scene.Node.snapshot(Node.java:1942)\n</code></pre>\n\n<p>So far, in my application, I wasn't able to reproduce it. Searching for this issue I found this:</p>\n\n<p><a href=\"https://bugs.openjdk.java.net/browse/JDK-8116783\" rel=\"nofollow noreferrer\">https://bugs.openjdk.java.net/browse/JDK-8116783</a></p>\n\n<p>that points to:</p>\n\n<p><a href=\"https://bugs.openjdk.java.net/browse/JDK-8088198\" rel=\"nofollow noreferrer\">https://bugs.openjdk.java.net/browse/JDK-8088198</a></p>\n\n<p>It seems to be an open bug in JavaFX: \"Exception thrown from snapshot if dimensions are larger than max texture size\".</p>\n\n<p>The description of the bug says that it happens occasionally. Does anybody know if catching the exception and retrying would be a good way or workaround it?</p>\n\n<p><strong>Update</strong>: when I tried to reproduce this error by making the screenshot very big, I got a completely different error:</p>\n\n<pre><code>java.lang.NullPointerException\n    at com.sun.prism.impl.ps.BaseShaderContext.initLCDBuffer(BaseShaderContext.java:703)\n    at com.sun.prism.impl.ps.BaseShaderContext.validateLCDBuffer(BaseShaderContext.java:725)\n    at com.sun.prism.impl.ps.BaseShaderGraphics.initLCDSampleRT(BaseShaderGraphics.java:1925)\n    at com.sun.prism.impl.ps.BaseShaderGraphics.drawString(BaseShaderGraphics.java:2059)\n    at com.sun.javafx.webkit.prism.WCGraphicsPrismContext$10.doPaint(WCGraphicsPrismContext.java:936)\n    at com.sun.javafx.webkit.prism.WCGraphicsPrismContext$Composite.paint(WCGraphicsPrismContext.java:1500)\n    at com.sun.javafx.webkit.prism.WCGraphicsPrismContext$Composite.paint(WCGraphicsPrismContext.java:1485)\n    at com.sun.javafx.webkit.prism.WCGraphicsPrismContext.drawString(WCGraphicsPrismContext.java:948)\n    at com.sun.webkit.graphics.GraphicsDecoder.decode(GraphicsDecoder.java:299)\n    at com.sun.webkit.graphics.WCRenderQueue.decode(WCRenderQueue.java:92)\n    at com.sun.webkit.WebPage.paint2GC(WebPage.java:734)\n    at com.sun.webkit.WebPage.paint(WebPage.java:701)\n    at com.sun.javafx.sg.prism.web.NGWebView.renderContent(NGWebView.java:96)\n    at com.sun.javafx.sg.prism.NGNode.doRender(NGNode.java:2053)\n    at com.sun.javafx.sg.prism.NGNode.render(NGNode.java:1945)\n    at com.sun.javafx.tk.quantum.QuantumToolkit$5.draw(QuantumToolkit.java:1393)\n    at com.sun.javafx.tk.quantum.QuantumToolkit$5.run(QuantumToolkit.java:1429)\n    at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)\n    at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)\n    at com.sun.javafx.tk.RenderJob.run(RenderJob.java:58)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\n    at com.sun.javafx.tk.quantum.QuantumRenderer$PipelineRunnable.run(QuantumRenderer.java:125)\n    at java.lang.Thread.run(Thread.java:748)\n</code></pre>\n\n<p>It similarly is a thread with no call touching my code at all.</p>\n"},{"tags":["java","stripe-payments"],"answers":[{"tags":[],"owner":{"account_id":25111109,"reputation":1244,"user_id":18960736,"display_name":"yuting"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677458661,"creation_date":1677458661,"answer_id":75575957,"question_id":75574794,"body_markdown":"You can&#39;t use token in Payment Intent. Payment Intent only supports [`payment_method`][1] (pm_xxx). \r\n\r\nTokens/Charges API are legacy integration and no longer recommended. I&#39;d recommend using Payment Intent with Payment Element integration. You may refer to the guide here: https://stripe.com/docs/payments/quickstart\r\n\r\n\r\n  [1]: https://stripe.com/docs/api/payment_intents/create#create_payment_intent-payment_method","title":"Use token card in payment intention stripe","body":"<p>You can't use token in Payment Intent. Payment Intent only supports <a href=\"https://stripe.com/docs/api/payment_intents/create#create_payment_intent-payment_method\" rel=\"nofollow noreferrer\"><code>payment_method</code></a> (pm_xxx).</p>\n<p>Tokens/Charges API are legacy integration and no longer recommended. I'd recommend using Payment Intent with Payment Element integration. You may refer to the guide here: <a href=\"https://stripe.com/docs/payments/quickstart\" rel=\"nofollow noreferrer\">https://stripe.com/docs/payments/quickstart</a></p>\n"}],"owner":{"account_id":27885378,"reputation":1,"user_id":21292980,"display_name":"Giovani Ximenes"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":175,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1677458661,"creation_date":1677442856,"question_id":75574794,"body_markdown":"How can I user token card (Stripe) in `PaymentIntetion`?\r\n\r\nI need an example because I don&#39;t have an idea.\r\n\r\nIn `Charge` works, but I don&#39;t have idea how to work in `PaymentIntention`:\r\n\r\n    public Charge createCharge(Integer price,String token,String product)throws StripeException {\r\n\t\tStripe.apiKey = stripeSecret;\r\n\t\tString tokenStripe = &quot;&quot;;\r\n\t\t\r\n\t\t\r\n\r\n\t\tMap&lt;String, Object&gt; params = new HashMap&lt;&gt;();\r\n\t\tparams.put(&quot;amount&quot;, price);\r\n\t\tparams.put(&quot;currency&quot;, &quot;eur&quot;);\r\n\t\tparams.put(&quot;source&quot;, token);\r\n\t\tparams.put( &quot;description&quot;,&quot; Payment produto: &quot;+product);\r\n\r\n\r\n\t\tCharge charge = Charge.create(params);\r\n\t\t\r\n\t\treturn charge;\r\n\t}","title":"Use token card in payment intention stripe","body":"<p>How can I user token card (Stripe) in <code>PaymentIntetion</code>?</p>\n<p>I need an example because I don't have an idea.</p>\n<p>In <code>Charge</code> works, but I don't have idea how to work in <code>PaymentIntention</code>:</p>\n<pre><code>public Charge createCharge(Integer price,String token,String product)throws StripeException {\n    Stripe.apiKey = stripeSecret;\n    String tokenStripe = &quot;&quot;;\n    \n    \n\n    Map&lt;String, Object&gt; params = new HashMap&lt;&gt;();\n    params.put(&quot;amount&quot;, price);\n    params.put(&quot;currency&quot;, &quot;eur&quot;);\n    params.put(&quot;source&quot;, token);\n    params.put( &quot;description&quot;,&quot; Payment produto: &quot;+product);\n\n\n    Charge charge = Charge.create(params);\n    \n    return charge;\n}\n</code></pre>\n"},{"tags":["java","conditional-operator"],"comments":[{"owner":{"account_id":6184200,"reputation":1843,"user_id":4818768,"display_name":"Pasi Matalam&#228;ki"},"score":1,"creation_date":1430821020,"post_id":30050211,"comment_id":48215130,"body_markdown":"Ternany operators can&#39;t be used on calling methods but on variables instead","body":"Ternany operators can&#39;t be used on calling methods but on variables instead"},{"owner":{"account_id":2213546,"reputation":1117,"user_id":4217525,"accept_rate":50,"display_name":"Sandeep Singh"},"score":3,"creation_date":1430821109,"post_id":30050211,"comment_id":48215191,"body_markdown":"use this  adView.setVisibility(isVisible?View.VISIBLE:View.GONE);","body":"use this  adView.setVisibility(isVisible?View.VISIBLE:View.GONE);"},{"owner":{"account_id":2628262,"reputation":2304,"user_id":2274847,"accept_rate":52,"display_name":"Ale"},"score":3,"creation_date":1430825829,"post_id":30050211,"comment_id":48218163,"body_markdown":"Why does this question have -6 downvotes? I don&#39;t really see what&#39;s the unforgivable error in it","body":"Why does this question have -6 downvotes? I don&#39;t really see what&#39;s the unforgivable error in it"}],"answers":[{"tags":[],"owner":{"account_id":235103,"reputation":156444,"user_id":501696,"accept_rate":91,"display_name":"Blackbelt"},"down_vote_count":0,"up_vote_count":25,"is_accepted":true,"score":25,"last_activity_date":1430822801,"creation_date":1430821003,"answer_id":30050244,"question_id":30050211,"body_markdown":"it is not a statement\r\n \r\n\r\n    int visibility = isVisible ? View.VISIBLE : View.GONE;\r\n    adView.setVisibility(visibility);\r\n\r\nor in one line\r\n\r\n    adView.setVisibility(isVisible ? View.VISIBLE : View.GONE);\r\n\r\n","title":"Android ternary operator","body":"<p>it is not a statement</p>\n\n<pre><code>int visibility = isVisible ? View.VISIBLE : View.GONE;\nadView.setVisibility(visibility);\n</code></pre>\n\n<p>or in one line</p>\n\n<pre><code>adView.setVisibility(isVisible ? View.VISIBLE : View.GONE);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6211930,"reputation":141,"user_id":4837973,"display_name":"Damien"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1430821188,"creation_date":1430821188,"answer_id":30050304,"question_id":30050211,"body_markdown":"Ternary operator are usually used for assignment or method argument. I think you shouldn&#39;t use ternary operator to select an action, but to select a reference to an object to use.","title":"Android ternary operator","body":"<p>Ternary operator are usually used for assignment or method argument. I think you shouldn't use ternary operator to select an action, but to select a reference to an object to use.</p>\n"}],"owner":{"account_id":5033310,"reputation":1843,"user_id":4042879,"accept_rate":71,"display_name":"IrApp"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4233,"favorite_count":0,"down_vote_count":10,"up_vote_count":7,"accepted_answer_id":30050244,"answer_count":2,"score":-3,"last_activity_date":1677456755,"creation_date":1430820931,"question_id":30050211,"body_markdown":"I am trying to do a simple ternary operator but I have an error I can&#39;t see. This is my code:\r\n\r\n    public void setVisibility(boolean isVisible) {\r\n        View adView = ((Activity) context).findViewById(R.id.adView);\r\n        isVisible? adView.setVisibility(View.VISIBLE) : adView.setVisibility(View.GONE);\r\n    }\r\n\r\nI get the error : Not a statement. Does someone know where is my error?","title":"Android ternary operator","body":"<p>I am trying to do a simple ternary operator but I have an error I can't see. This is my code:</p>\n<pre><code>public void setVisibility(boolean isVisible) {\n    View adView = ((Activity) context).findViewById(R.id.adView);\n    isVisible? adView.setVisibility(View.VISIBLE) : adView.setVisibility(View.GONE);\n}\n</code></pre>\n<p>I get the error : Not a statement. Does someone know where is my error?</p>\n"},{"tags":["java","multithreading","concurrency","blockingqueue"],"answers":[{"tags":[],"owner":{"account_id":65386,"reputation":39895,"user_id":192444,"accept_rate":100,"display_name":"John Vint"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1466516812,"creation_date":1466516812,"answer_id":37946259,"question_id":37945981,"body_markdown":"Yes, you can iterate over the entire queue. Looking at `LinkedBlockingQueue` and `ArrayBlockingQueue` implementations you do have a side effect. When constructing and operating the `Iterator` there are three places where full locks are acquired.\r\n\r\n1. During construction\r\n2. When invoking `next()`\r\n3. When invoking `remove()`\r\n\r\nKeep in mind, this is as of Java 8 and can change. \r\n\r\nSo, yes you do get to iterate safely, but you will effect the performace of `put`s and `offer`s.\r\n\r\n--------\r\n\r\nNow for your question, does `BlockingQueue` offer safe iteration? The answer there is it depends on the implementation. There could be a future BlockingQueue implementation that will throw a `UnsupportedOperationException`. ","title":"Concurrently iterating over a BlockingQueue","body":"<p>Yes, you can iterate over the entire queue. Looking at <code>LinkedBlockingQueue</code> and <code>ArrayBlockingQueue</code> implementations you do have a side effect. When constructing and operating the <code>Iterator</code> there are three places where full locks are acquired.</p>\n\n<ol>\n<li>During construction</li>\n<li>When invoking <code>next()</code></li>\n<li>When invoking <code>remove()</code></li>\n</ol>\n\n<p>Keep in mind, this is as of Java 8 and can change. </p>\n\n<p>So, yes you do get to iterate safely, but you will effect the performace of <code>put</code>s and <code>offer</code>s.</p>\n\n<hr>\n\n<p>Now for your question, does <code>BlockingQueue</code> offer safe iteration? The answer there is it depends on the implementation. There could be a future BlockingQueue implementation that will throw a <code>UnsupportedOperationException</code>. </p>\n"},{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1677455068,"creation_date":1466517010,"answer_id":37946330,"question_id":37945981,"body_markdown":"Actually, the Java 8 [javadoc][1] for `BlockingQueue` states this:\r\n\r\n&gt; `BlockingQueue` implementations are thread-safe. \r\n\r\nNothing in the javadoc says&lt;sup&gt;1&lt;/sup&gt; that this only applies to the methods specified in the  `BlockingQueue` API itself.  \r\n\r\n&gt; Can I safely use iterator() WITHOUT altering the producer/consumer threads which may normally interact with the queue at any time?\r\n\r\nBasically, yes.  The `Iterator`&#39;s behavior in the face of concurrent modifications is specified in the implementation class javadocs.  For `LinkedBlockingQueue`, the [javadoc][2] specifies that the `Iterator` returned by `iterator()` is [weakly consistent][3].  That means (for example) that your application won&#39;t get a `ConcurrentModificationException` if the queue is modified while it is iterating, but the iteration is not guaranteed to see all queue entries.\r\n\r\n---------------\r\n\r\n&lt;sup&gt;1 - The javadoc mentions that the bulk operations may be non-atomic, but non-atomic does not mean non-thread-safe.  What it means here is that some other thread may observe the queue in state where some entries have been added (or removed, or whatever) and others haven&#39;t.&lt;/sup&gt;\r\n\r\n---------------\r\n\r\n@John Vint warns:\r\n\r\n&gt; Keep in mind, this is as of Java 8 and can change. \r\n\r\nIf Oracle decided to alter the behavior *specified in the javadoc*, that would be an impediment to migration.  Past history shows that Sun / Oracle avoid doing that kind of thing.  (Though that doesn&#39;t mean that it cannot happen.)\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/8/docs/api/java/util/concurrent/BlockingQueue.html\r\n  [2]: http://docs.oracle.com/javase/8/docs/api/java/util/concurrent/LinkedBlockingQueue.html#iterator--\r\n  [3]: http://docs.oracle.com/javase/8/docs/api/java/util/concurrent/package-summary.html#Weakly","title":"Concurrently iterating over a BlockingQueue","body":"<p>Actually, the Java 8 <a href=\"http://docs.oracle.com/javase/8/docs/api/java/util/concurrent/BlockingQueue.html\" rel=\"nofollow noreferrer\">javadoc</a> for <code>BlockingQueue</code> states this:</p>\n<blockquote>\n<p><code>BlockingQueue</code> implementations are thread-safe.</p>\n</blockquote>\n<p>Nothing in the javadoc says<sup>1</sup> that this only applies to the methods specified in the  <code>BlockingQueue</code> API itself.</p>\n<blockquote>\n<p>Can I safely use iterator() WITHOUT altering the producer/consumer threads which may normally interact with the queue at any time?</p>\n</blockquote>\n<p>Basically, yes.  The <code>Iterator</code>'s behavior in the face of concurrent modifications is specified in the implementation class javadocs.  For <code>LinkedBlockingQueue</code>, the <a href=\"http://docs.oracle.com/javase/8/docs/api/java/util/concurrent/LinkedBlockingQueue.html#iterator--\" rel=\"nofollow noreferrer\">javadoc</a> specifies that the <code>Iterator</code> returned by <code>iterator()</code> is <a href=\"http://docs.oracle.com/javase/8/docs/api/java/util/concurrent/package-summary.html#Weakly\" rel=\"nofollow noreferrer\">weakly consistent</a>.  That means (for example) that your application won't get a <code>ConcurrentModificationException</code> if the queue is modified while it is iterating, but the iteration is not guaranteed to see all queue entries.</p>\n<hr />\n<p><sup>1 - The javadoc mentions that the bulk operations may be non-atomic, but non-atomic does not mean non-thread-safe.  What it means here is that some other thread may observe the queue in state where some entries have been added (or removed, or whatever) and others haven't.</sup></p>\n<hr />\n<p>@John Vint warns:</p>\n<blockquote>\n<p>Keep in mind, this is as of Java 8 and can change.</p>\n</blockquote>\n<p>If Oracle decided to alter the behavior <em>specified in the javadoc</em>, that would be an impediment to migration.  Past history shows that Sun / Oracle avoid doing that kind of thing.  (Though that doesn't mean that it cannot happen.)</p>\n"}],"owner":{"account_id":6654657,"reputation":399,"user_id":5135643,"display_name":"emu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5577,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":2,"score":4,"last_activity_date":1677455068,"creation_date":1466516124,"question_id":37945981,"body_markdown":"In an application which uses a `BlockingQueue`, I am facing a new requirement that can only be implemented by iterating over the elements present in the queue (to provide info about the current status of the elements in there). \r\n\r\nAccording to the `API Javadoc` only the queueing methods of a BlockingQueue implementation are required to be thread-safe. `Other API methods` (eg. those inherited from the `Collection interface`) may not be used concurrently, though I am not sure whether this also applies to mere read access...\r\n\r\nCan I safely use `iterator() WITHOUT altering the producer/consumer threads` which may normally interact with the queue at any time? I have no need for a `100% consistent iteration` (it does not matter whether I see elements added/removed while iterating the queue), but I don&#39;t want to end up with nasty `ConcurrentModificationExceptions`. \r\n\r\nNote that the application is currently using a `LinkedBlockingQueue`, but I am free to choose any other `(unbounded) BlockingQueue implementation` (including `free open-source third-party implementations`). Also, I don&#39;t want to rely on things that may break in the future, so I want a solution that is OK according to the `API` and does not just merely happen to work with the `current JRE`.\r\n","title":"Concurrently iterating over a BlockingQueue","body":"<p>In an application which uses a <code>BlockingQueue</code>, I am facing a new requirement that can only be implemented by iterating over the elements present in the queue (to provide info about the current status of the elements in there). </p>\n\n<p>According to the <code>API Javadoc</code> only the queueing methods of a BlockingQueue implementation are required to be thread-safe. <code>Other API methods</code> (eg. those inherited from the <code>Collection interface</code>) may not be used concurrently, though I am not sure whether this also applies to mere read access...</p>\n\n<p>Can I safely use <code>iterator() WITHOUT altering the producer/consumer threads</code> which may normally interact with the queue at any time? I have no need for a <code>100% consistent iteration</code> (it does not matter whether I see elements added/removed while iterating the queue), but I don't want to end up with nasty <code>ConcurrentModificationExceptions</code>. </p>\n\n<p>Note that the application is currently using a <code>LinkedBlockingQueue</code>, but I am free to choose any other <code>(unbounded) BlockingQueue implementation</code> (including <code>free open-source third-party implementations</code>). Also, I don't want to rely on things that may break in the future, so I want a solution that is OK according to the <code>API</code> and does not just merely happen to work with the <code>current JRE</code>.</p>\n"},{"tags":["java","integer","unsigned"],"comments":[{"owner":{"account_id":938015,"reputation":21321,"user_id":966590,"accept_rate":100,"display_name":"Andrew Logvinov"},"score":10,"creation_date":1332612713,"post_id":9854166,"comment_id":12560964,"body_markdown":"There are no unsigned types in Java.","body":"There are no unsigned types in Java."},{"owner":{"account_id":408187,"reputation":3374,"user_id":778687,"accept_rate":79,"display_name":"tusar"},"score":1,"creation_date":1332612714,"post_id":9854166,"comment_id":12560965,"body_markdown":"This post might help you http://stackoverflow.com/a/4449161/778687","body":"This post might help you <a href=\"http://stackoverflow.com/a/4449161/778687\">stackoverflow.com/a/4449161/778687</a>"},{"owner":{"account_id":475373,"reputation":2588,"user_id":885650,"accept_rate":38,"display_name":"j13r"},"score":0,"creation_date":1332612726,"post_id":9854166,"comment_id":12560968,"body_markdown":"See here: http://stackoverflow.com/questions/1841461/unsigned-short-in-java","body":"See here: <a href=\"http://stackoverflow.com/questions/1841461/unsigned-short-in-java\" title=\"unsigned short in java\">stackoverflow.com/questions/1841461/unsigned-short-in-java</a>"},{"owner":{"account_id":75105,"reputation":13459,"user_id":215534,"accept_rate":91,"display_name":"James Manning"},"score":2,"creation_date":1332612816,"post_id":9854166,"comment_id":12560984,"body_markdown":"Doesn&#39;t seem to be a way AFAICT. \r\n\r\nRelated: http://stackoverflow.com/questions/430346/why-doesnt-java-support-unsigned-ints","body":"Doesn&#39;t seem to be a way AFAICT.     Related: <a href=\"http://stackoverflow.com/questions/430346/why-doesnt-java-support-unsigned-ints\" title=\"why doesnt java support unsigned ints\">stackoverflow.com/questions/430346/&hellip;</a>"},{"owner":{"account_id":134022,"reputation":717183,"user_id":335858,"accept_rate":81,"display_name":"Sergey Kalinichenko"},"score":15,"creation_date":1332613151,"post_id":9854166,"comment_id":12561055,"body_markdown":"It depends on the purpose you&#39;re trying to achieve. For most purposes, all integers in Java are signed. However, you can *treat* a signed integer as unsigned in one specific case: you can shift right without sign extending by using `&gt;&gt;&gt;` operator instead of `&gt;&gt;`.","body":"It depends on the purpose you&#39;re trying to achieve. For most purposes, all integers in Java are signed. However, you can <i>treat</i> a signed integer as unsigned in one specific case: you can shift right without sign extending by using <code>&gt;&gt;&gt;</code> operator instead of <code>&gt;&gt;</code>."},{"owner":{"account_id":3537470,"reputation":637,"user_id":2955375,"display_name":"chinglun"},"score":0,"creation_date":1385338596,"post_id":9854166,"comment_id":30089431,"body_markdown":"Java is coming to allown `unsigned` in Java SE 8","body":"Java is coming to allown <code>unsigned</code> in Java SE 8"},{"owner":{"account_id":2489494,"reputation":1405,"user_id":2167276,"accept_rate":96,"display_name":"Florian R. Klein"},"score":0,"creation_date":1390320146,"post_id":9854166,"comment_id":34739702,"body_markdown":"Good to know that there are options to do logical shifts and such, instead of only arithmetic ones. Still, Java makes it hard to handle specialized file formats or just those from decades ago.","body":"Good to know that there are options to do logical shifts and such, instead of only arithmetic ones. Still, Java makes it hard to handle specialized file formats or just those from decades ago."},{"owner":{"account_id":1369771,"reputation":1668,"user_id":1305332,"accept_rate":26,"display_name":"Peter Quiring"},"score":0,"creation_date":1403625651,"post_id":9854166,"comment_id":37725999,"body_markdown":"Don&#39;t forget about &#39;char&#39;.  It&#39;s a 16bit unsigned integer. Can even be used as an array index.  Just need to typecast to (int) to print it as number instead of character.","body":"Don&#39;t forget about &#39;char&#39;.  It&#39;s a 16bit unsigned integer. Can even be used as an array index.  Just need to typecast to (int) to print it as number instead of character."},{"owner":{"account_id":20562,"reputation":55673,"user_id":49246,"accept_rate":73,"display_name":"starblue"},"score":0,"creation_date":1409556755,"post_id":9854166,"comment_id":39990218,"body_markdown":"http://stackoverflow.com/a/397997/49246","body":"<a href=\"http://stackoverflow.com/a/397997/49246\">stackoverflow.com/a/397997/49246</a>"},{"owner":{"account_id":297814,"reputation":25314,"user_id":603516,"accept_rate":100,"display_name":"Vadzim"},"score":2,"creation_date":1520103642,"post_id":9854166,"comment_id":85181549,"body_markdown":"See also [How to use the unsigned Integer in Java 8 and Java 9?](https://stackoverflow.com/questions/25556017/how-to-use-the-unsigned-integer-in-java-8-and-java-9)","body":"See also <a href=\"https://stackoverflow.com/questions/25556017/how-to-use-the-unsigned-integer-in-java-8-and-java-9\">How to use the unsigned Integer in Java 8 and Java 9?</a>"}],"answers":[{"tags":[],"owner":{"account_id":1321622,"reputation":119758,"user_id":1267329,"display_name":"Simeon Visser"},"down_vote_count":3,"up_vote_count":396,"is_accepted":true,"score":393,"last_activity_date":1549966702,"creation_date":1332612689,"answer_id":9854205,"question_id":9854166,"body_markdown":"Java does not have a datatype for [unsigned integers][1].\r\n\r\nYou can define a [`long`][2] instead of an `int` if you need to store large values.\r\n\r\nYou can also use a signed integer as if it were unsigned. The benefit of [two&#39;s complement representation][6] is that most operations (such as addition, subtraction, multiplication, and left shift) are identical on a binary level for signed and unsigned integers. A few operations (division, right shift, comparison, and casting), however, are different. As of Java SE 8, new methods in the [`Integer`][3] class allow you to fully use the `int` data type [to perform unsigned arithmetic][2]:\r\n\r\n&gt;  In Java SE 8 and later, you can use the int data type to represent an unsigned 32-bit integer, which has a minimum value of 0 and a maximum value of 2^32-1. Use the Integer class to use int data type as an unsigned integer. Static methods like [`compareUnsigned`][4], [`divideUnsigned`][5] etc have been added to the Integer class to support the arithmetic operations for unsigned integers.\r\n\r\nNote that `int` variables are still signed when declared but unsigned arithmetic is now possible by using those methods in the `Integer` class.\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Integer_%28computer_science%29\r\n  [2]: http://docs.oracle.com/javase/tutorial/java/nutsandbolts/datatypes.html\r\n  [3]: http://docs.oracle.com/javase/8/docs/api/java/lang/Integer.html\r\n  [4]: http://docs.oracle.com/javase/8/docs/api/java/lang/Integer.html#compareUnsigned-int-int-\r\n  [5]: http://docs.oracle.com/javase/8/docs/api/java/lang/Integer.html#divideUnsigned-int-int-\r\n  [6]: https://en.wikipedia.org/wiki/Two&#39;s_complement","title":"Declaring an unsigned int in Java","body":"<p>Java does not have a datatype for <a href=\"https://en.wikipedia.org/wiki/Integer_%28computer_science%29\" rel=\"noreferrer\">unsigned integers</a>.</p>\n\n<p>You can define a <a href=\"http://docs.oracle.com/javase/tutorial/java/nutsandbolts/datatypes.html\" rel=\"noreferrer\"><code>long</code></a> instead of an <code>int</code> if you need to store large values.</p>\n\n<p>You can also use a signed integer as if it were unsigned. The benefit of <a href=\"https://en.wikipedia.org/wiki/Two&#39;s_complement\" rel=\"noreferrer\">two's complement representation</a> is that most operations (such as addition, subtraction, multiplication, and left shift) are identical on a binary level for signed and unsigned integers. A few operations (division, right shift, comparison, and casting), however, are different. As of Java SE 8, new methods in the <a href=\"http://docs.oracle.com/javase/8/docs/api/java/lang/Integer.html\" rel=\"noreferrer\"><code>Integer</code></a> class allow you to fully use the <code>int</code> data type <a href=\"http://docs.oracle.com/javase/tutorial/java/nutsandbolts/datatypes.html\" rel=\"noreferrer\">to perform unsigned arithmetic</a>:</p>\n\n<blockquote>\n  <p>In Java SE 8 and later, you can use the int data type to represent an unsigned 32-bit integer, which has a minimum value of 0 and a maximum value of 2^32-1. Use the Integer class to use int data type as an unsigned integer. Static methods like <a href=\"http://docs.oracle.com/javase/8/docs/api/java/lang/Integer.html#compareUnsigned-int-int-\" rel=\"noreferrer\"><code>compareUnsigned</code></a>, <a href=\"http://docs.oracle.com/javase/8/docs/api/java/lang/Integer.html#divideUnsigned-int-int-\" rel=\"noreferrer\"><code>divideUnsigned</code></a> etc have been added to the Integer class to support the arithmetic operations for unsigned integers.</p>\n</blockquote>\n\n<p>Note that <code>int</code> variables are still signed when declared but unsigned arithmetic is now possible by using those methods in the <code>Integer</code> class.</p>\n"},{"tags":[],"owner":{"account_id":2563432,"reputation":1,"user_id":2224093,"display_name":"kyo722"},"down_vote_count":32,"up_vote_count":4,"is_accepted":false,"score":-28,"last_activity_date":1491278087,"creation_date":1364554953,"answer_id":15701957,"question_id":9854166,"body_markdown":"You can use the Math.abs(number) function. It returns a positive number.\r\n","title":"Declaring an unsigned int in Java","body":"<p>You can use the Math.abs(number) function. It returns a positive number.</p>\n"},{"tags":[],"owner":{"account_id":133137,"reputation":13350,"user_id":334270,"accept_rate":100,"display_name":"Zsolt Safrany"},"down_vote_count":0,"up_vote_count":85,"is_accepted":false,"score":85,"last_activity_date":1677453888,"creation_date":1396962613,"answer_id":22938125,"question_id":9854166,"body_markdown":"Whether a value in an int is signed or unsigned depends on how the bits are interpreted - Java interprets bits as a signed value (it doesn&#39;t have unsigned primitives).\r\n\r\nIf you have an int that you want to interpret as an unsigned value (e.g. you read an int from a `DataInputStream` that you know should be interpreted as an unsigned value) then you can do the following trick.\r\n\r\n    int fourBytesIJustRead = someObject.getInt();\r\n    long unsignedValue = fourBytesIJustRead &amp; 0xffffffffL;\r\n\r\nNote: it is important that the hex literal is a `long` literal, not an `int` literal - hence the &#39;L&#39; at the end.\r\n","title":"Declaring an unsigned int in Java","body":"<p>Whether a value in an int is signed or unsigned depends on how the bits are interpreted - Java interprets bits as a signed value (it doesn't have unsigned primitives).</p>\n<p>If you have an int that you want to interpret as an unsigned value (e.g. you read an int from a <code>DataInputStream</code> that you know should be interpreted as an unsigned value) then you can do the following trick.</p>\n<pre><code>int fourBytesIJustRead = someObject.getInt();\nlong unsignedValue = fourBytesIJustRead &amp; 0xffffffffL;\n</code></pre>\n<p>Note: it is important that the hex literal is a <code>long</code> literal, not an <code>int</code> literal - hence the 'L' at the end.</p>\n"},{"tags":[],"owner":{"account_id":1212298,"reputation":27075,"user_id":1180621,"accept_rate":100,"display_name":"Andrejs"},"down_vote_count":1,"up_vote_count":10,"is_accepted":false,"score":9,"last_activity_date":1477769085,"creation_date":1407324440,"answer_id":25159153,"question_id":9854166,"body_markdown":"For unsigned numbers you can use these classes from **[Guava library][1]**:\r\n\r\n  - [UnsignedInteger][2]\r\n  - [UnsignedLong][3]\r\n\r\nThey support various operations:\r\n\r\n   - plus\r\n   - minus\r\n   - times\r\n   - mod\r\n   - dividedBy\r\n\r\nThe thing that seems missing at the moment are byte shift operators. If you need those you can use BigInteger from Java.\r\n\r\n  [1]: http://google.github.io/guava/releases/20.0/api/docs/com/google/common/primitives/package-summary.html\r\n  [2]: http://google.github.io/guava/releases/20.0/api/docs/com/google/common/primitives/UnsignedInteger.html\r\n  [3]: http://google.github.io/guava/releases/20.0/api/docs/com/google/common/primitives/UnsignedLong.html","title":"Declaring an unsigned int in Java","body":"<p>For unsigned numbers you can use these classes from <strong><a href=\"http://google.github.io/guava/releases/20.0/api/docs/com/google/common/primitives/package-summary.html\" rel=\"noreferrer\">Guava library</a></strong>:</p>\n\n<ul>\n<li><a href=\"http://google.github.io/guava/releases/20.0/api/docs/com/google/common/primitives/UnsignedInteger.html\" rel=\"noreferrer\">UnsignedInteger</a></li>\n<li><a href=\"http://google.github.io/guava/releases/20.0/api/docs/com/google/common/primitives/UnsignedLong.html\" rel=\"noreferrer\">UnsignedLong</a></li>\n</ul>\n\n<p>They support various operations:</p>\n\n<ul>\n<li>plus</li>\n<li>minus</li>\n<li>times</li>\n<li>mod</li>\n<li>dividedBy</li>\n</ul>\n\n<p>The thing that seems missing at the moment are byte shift operators. If you need those you can use BigInteger from Java.</p>\n"},{"tags":[],"owner":{"account_id":247217,"reputation":213455,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"down_vote_count":0,"up_vote_count":28,"is_accepted":false,"score":28,"last_activity_date":1445967329,"creation_date":1407324787,"answer_id":25159296,"question_id":9854166,"body_markdown":"We needed unsigned numbers to model MySQL&#39;s unsigned `TINYINT`, `SMALLINT`, `INT`, `BIGINT` in [jOOQ][1], which is why we have created [jOOU][2], a minimalistic library offering wrapper types for unsigned integer numbers in Java. Example:\r\n\r\n    import static org.joou.Unsigned.*;\r\n    \r\n    // and then...\r\n    UByte    b = ubyte(1);\r\n    UShort   s = ushort(1);\r\n    UInteger i = uint(1);\r\n    ULong    l = ulong(1);\r\n\r\nAll of these types extend `java.lang.Number` and can be converted into higher-order primitive types and `BigInteger`. Hope this helps.\r\n\r\n(Disclaimer: I work for the company behind these libraries)\r\n\r\n  [1]: http://www.jooq.org\r\n  [2]: https://github.com/jOOQ/jOOU","title":"Declaring an unsigned int in Java","body":"<p>We needed unsigned numbers to model MySQL's unsigned <code>TINYINT</code>, <code>SMALLINT</code>, <code>INT</code>, <code>BIGINT</code> in <a href=\"http://www.jooq.org\" rel=\"noreferrer\">jOOQ</a>, which is why we have created <a href=\"https://github.com/jOOQ/jOOU\" rel=\"noreferrer\">jOOU</a>, a minimalistic library offering wrapper types for unsigned integer numbers in Java. Example:</p>\n\n<pre><code>import static org.joou.Unsigned.*;\n\n// and then...\nUByte    b = ubyte(1);\nUShort   s = ushort(1);\nUInteger i = uint(1);\nULong    l = ulong(1);\n</code></pre>\n\n<p>All of these types extend <code>java.lang.Number</code> and can be converted into higher-order primitive types and <code>BigInteger</code>. Hope this helps.</p>\n\n<p>(Disclaimer: I work for the company behind these libraries)</p>\n"},{"tags":[],"owner":{"account_id":1628184,"reputation":9512,"user_id":1503237,"accept_rate":67,"display_name":"Matthias Ronge"},"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1452602787,"creation_date":1452602787,"answer_id":34744113,"question_id":9854166,"body_markdown":"Perhaps this is what you meant?\r\n\r\n\tlong getUnsigned(int signed) {\r\n\t\treturn signed &gt;= 0 ? signed : 2 * (long) Integer.MAX_VALUE + 2 + signed;\r\n\t}\r\n\r\n* `getUnsigned(0)` → 0\r\n* `getUnsigned(1)` → 1\r\n* `getUnsigned(Integer.MAX_VALUE)` → 2147483647\r\n* `getUnsigned(Integer.MIN_VALUE)` → 2147483648\r\n* `getUnsigned(Integer.MIN_VALUE + 1)` → 2147483649","title":"Declaring an unsigned int in Java","body":"<p>Perhaps this is what you meant?</p>\n\n<pre><code>long getUnsigned(int signed) {\n    return signed &gt;= 0 ? signed : 2 * (long) Integer.MAX_VALUE + 2 + signed;\n}\n</code></pre>\n\n<ul>\n<li><code>getUnsigned(0)</code> → 0</li>\n<li><code>getUnsigned(1)</code> → 1</li>\n<li><code>getUnsigned(Integer.MAX_VALUE)</code> → 2147483647</li>\n<li><code>getUnsigned(Integer.MIN_VALUE)</code> → 2147483648</li>\n<li><code>getUnsigned(Integer.MIN_VALUE + 1)</code> → 2147483649</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":967524,"reputation":1118,"user_id":990666,"accept_rate":48,"display_name":"Molly Stewart-Gallus"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1480653038,"creation_date":1480653038,"answer_id":40924821,"question_id":9854166,"body_markdown":"Use `char` for 16 bit unsigned integers.","title":"Declaring an unsigned int in Java","body":"<p>Use <code>char</code> for 16 bit unsigned integers.</p>\n"},{"tags":[],"owner":{"account_id":11224718,"reputation":21,"user_id":8234683,"display_name":"Romulo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1498786148,"creation_date":1498786148,"answer_id":44837288,"question_id":9854166,"body_markdown":"Just made this piece of code, wich converts &quot;this.altura&quot; from negative to positive number. Hope this helps someone in need\r\n\r\n\r\n\r\n           if(this.altura &lt; 0){    \r\n\r\n                            String aux = Integer.toString(this.altura);\r\n                            char aux2[] = aux.toCharArray();\r\n                            aux = &quot;&quot;;\r\n                            for(int con = 1; con &lt; aux2.length; con++){\r\n                                aux += aux2[con];\r\n                            }\r\n                            this.altura = Integer.parseInt(aux);\r\n                            System.out.println(&quot;New Value: &quot; + this.altura);\r\n                        }\r\n                        ","title":"Declaring an unsigned int in Java","body":"<p>Just made this piece of code, wich converts \"this.altura\" from negative to positive number. Hope this helps someone in need</p>\n\n<pre><code>       if(this.altura &lt; 0){    \n\n                        String aux = Integer.toString(this.altura);\n                        char aux2[] = aux.toCharArray();\n                        aux = \"\";\n                        for(int con = 1; con &lt; aux2.length; con++){\n                            aux += aux2[con];\n                        }\n                        this.altura = Integer.parseInt(aux);\n                        System.out.println(\"New Value: \" + this.altura);\n                    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14509554,"reputation":21,"user_id":10480369,"display_name":"Carsten Semark"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1539112472,"creation_date":1539110826,"answer_id":52727511,"question_id":9854166,"body_markdown":"It seems that you can handle the signing problem by doing a &quot;logical AND&quot; on the values before you use them:\r\n\r\nExample (Value of `byte[]` `header[0]` is `0x86` ):\r\n\r\n    System.out.println(&quot;Integer &quot;+(int)header[0]+&quot; = &quot;+((int)header[0]&amp;0xff));\r\n\r\nResult:&lt;br&gt;\r\n\r\n    Integer -122 = 134","title":"Declaring an unsigned int in Java","body":"<p>It seems that you can handle the signing problem by doing a \"logical AND\" on the values before you use them:</p>\n\n<p>Example (Value of <code>byte[]</code> <code>header[0]</code> is <code>0x86</code> ):</p>\n\n<pre><code>System.out.println(\"Integer \"+(int)header[0]+\" = \"+((int)header[0]&amp;0xff));\n</code></pre>\n\n<p>Result:<br></p>\n\n<pre><code>Integer -122 = 134\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1259154,"reputation":2738,"user_id":1236128,"accept_rate":86,"display_name":"Jonathan Komar"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1580283795,"creation_date":1566760212,"answer_id":57648962,"question_id":9854166,"body_markdown":"There are good answers here, but I don’t see any demonstrations of bitwise operations. Like Visser (the currently accepted answer) says, Java signs integers by default (Java 8 has unsigned integers, but I have never used them). Without further ado, let‘s do it... \n\n# RFC 868 Example\n\nWhat happens if you need to write an unsigned integer to IO? Practical example is when you want to output the time according to [RFC 868][1]. This requires a 32-bit, big-endian, unsigned integer that encodes the number of seconds since 12:00 A.M. January 1, 1900. How would you encode this? \n\n## Make your own unsigned 32-bit integer like this: \n\nDeclare a byte array of 4 bytes (32 bits)\n\n    Byte my32BitUnsignedInteger[] = new Byte[4] // represents the time (s)\n\nThis initializes the array, see https://stackoverflow.com/questions/19094355/are-byte-arrays-initialised-to-zero-in-java/19094675. Now you have to fill each byte in the array with information in the big-endian order (or little-endian if you want to wreck havoc). Assuming you have a long containing the time (long integers are 64 bits long in Java) called `secondsSince1900` (Which only utilizes the first 32 bits worth, and you‘ve handled the fact that Date references 12:00 A.M. January 1, 1970), then you can use the logical AND to extract bits from it and shift those bits into positions (digits) that will not be ignored when coersed into a Byte, and in big-endian order.\n\n    my32BitUnsignedInteger[0] = (byte) ((secondsSince1900 &amp; 0x00000000FF000000L) &gt;&gt; 24); // first byte of array contains highest significant bits, then shift these extracted FF bits to first two positions in preparation for coersion to Byte (which only adopts the first 8 bits)\n    my32BitUnsignedInteger[1] = (byte) ((secondsSince1900 &amp; 0x0000000000FF0000L) &gt;&gt; 16);\n    my32BitUnsignedInteger[2] = (byte) ((secondsSince1900 &amp; 0x000000000000FF00L) &gt;&gt; 8);\n    my32BitUnsignedInteger[3] = (byte) ((secondsSince1900 &amp; 0x00000000000000FFL); // no shift needed\n\n\nOur `my32BitUnsignedInteger` is now equivalent to an unsigned 32-bit, big-endian integer that adheres to the RCF 868 standard. Yes, the long datatype is signed, but we ignored that fact, because we assumed that the secondsSince1900 only used the lower 32 bits). Because of coersing the long into a byte, all bits higher than 2^7 (first two digits in hex) will be ignored.\n\nSource referenced: Java Network Programming, 4th Edition.\n\n\n  [1]: https://www.rfc-editor.org/rfc/rfc868","title":"Declaring an unsigned int in Java","body":"<p>There are good answers here, but I don’t see any demonstrations of bitwise operations. Like Visser (the currently accepted answer) says, Java signs integers by default (Java 8 has unsigned integers, but I have never used them). Without further ado, let‘s do it...</p>\n<h1>RFC 868 Example</h1>\n<p>What happens if you need to write an unsigned integer to IO? Practical example is when you want to output the time according to <a href=\"https://www.rfc-editor.org/rfc/rfc868\" rel=\"nofollow noreferrer\">RFC 868</a>. This requires a 32-bit, big-endian, unsigned integer that encodes the number of seconds since 12:00 A.M. January 1, 1900. How would you encode this?</p>\n<h2>Make your own unsigned 32-bit integer like this:</h2>\n<p>Declare a byte array of 4 bytes (32 bits)</p>\n<pre><code>Byte my32BitUnsignedInteger[] = new Byte[4] // represents the time (s)\n</code></pre>\n<p>This initializes the array, see <a href=\"https://stackoverflow.com/questions/19094355/are-byte-arrays-initialised-to-zero-in-java/19094675\">Are byte arrays initialised to zero in Java?</a>. Now you have to fill each byte in the array with information in the big-endian order (or little-endian if you want to wreck havoc). Assuming you have a long containing the time (long integers are 64 bits long in Java) called <code>secondsSince1900</code> (Which only utilizes the first 32 bits worth, and you‘ve handled the fact that Date references 12:00 A.M. January 1, 1970), then you can use the logical AND to extract bits from it and shift those bits into positions (digits) that will not be ignored when coersed into a Byte, and in big-endian order.</p>\n<pre><code>my32BitUnsignedInteger[0] = (byte) ((secondsSince1900 &amp; 0x00000000FF000000L) &gt;&gt; 24); // first byte of array contains highest significant bits, then shift these extracted FF bits to first two positions in preparation for coersion to Byte (which only adopts the first 8 bits)\nmy32BitUnsignedInteger[1] = (byte) ((secondsSince1900 &amp; 0x0000000000FF0000L) &gt;&gt; 16);\nmy32BitUnsignedInteger[2] = (byte) ((secondsSince1900 &amp; 0x000000000000FF00L) &gt;&gt; 8);\nmy32BitUnsignedInteger[3] = (byte) ((secondsSince1900 &amp; 0x00000000000000FFL); // no shift needed\n</code></pre>\n<p>Our <code>my32BitUnsignedInteger</code> is now equivalent to an unsigned 32-bit, big-endian integer that adheres to the RCF 868 standard. Yes, the long datatype is signed, but we ignored that fact, because we assumed that the secondsSince1900 only used the lower 32 bits). Because of coersing the long into a byte, all bits higher than 2^7 (first two digits in hex) will be ignored.</p>\n<p>Source referenced: Java Network Programming, 4th Edition.</p>\n"}],"owner":{"account_id":872598,"reputation":5644,"user_id":923110,"accept_rate":76,"display_name":"Harshdeep"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":673368,"favorite_count":0,"down_vote_count":2,"up_vote_count":409,"accepted_answer_id":9854205,"answer_count":10,"score":407,"last_activity_date":1677453888,"creation_date":1332612454,"question_id":9854166,"body_markdown":"Is there a way to declare an unsigned int in Java?\r\n\r\nOr the question may be framed as this as well:\r\nWhat is the Java equivalent of unsigned?\r\n\r\n_Just to tell you the context I was looking at Java&#39;s implementation of `String.hashcode()`. I wanted to test the possibility of collision if the integer were 32 unsigned int._\r\n","title":"Declaring an unsigned int in Java","body":"<p>Is there a way to declare an unsigned int in Java?</p>\n\n<p>Or the question may be framed as this as well:\nWhat is the Java equivalent of unsigned?</p>\n\n<p><em>Just to tell you the context I was looking at Java's implementation of <code>String.hashcode()</code>. I wanted to test the possibility of collision if the integer were 32 unsigned int.</em></p>\n"},{"tags":["java","android","layout","android-tablayout"],"comments":[{"owner":{"account_id":2511518,"reputation":1095,"user_id":2183890,"accept_rate":100,"display_name":"Ahsan Kamal"},"score":0,"creation_date":1454246336,"post_id":35114242,"comment_id":57948890,"body_markdown":"Replace your **layout** with **root** and test it.","body":"Replace your <b>layout</b> with <b>root</b> and test it."},{"owner":{"account_id":7189319,"reputation":223,"user_id":5490244,"accept_rate":43,"display_name":"Werl_"},"score":0,"creation_date":1454398901,"post_id":35114242,"comment_id":58014217,"body_markdown":"I&#39;ve tried it but nothing.","body":"I&#39;ve tried it but nothing."},{"owner":{"account_id":2511518,"reputation":1095,"user_id":2183890,"accept_rate":100,"display_name":"Ahsan Kamal"},"score":0,"creation_date":1454399795,"post_id":35114242,"comment_id":58014666,"body_markdown":"In your onCreate try: `change your  ViewGroup root = (ViewGroup) inflater.inflate(R.layout.section_all_icons, container, false);` to  `View root =  inflater.inflate(R.layout.section_all_icons, container, false);`","body":"In your onCreate try: <code>change your  ViewGroup root = (ViewGroup) inflater.inflate(R.layout.section_all_icons, container, false);</code> to  <code>View root =  inflater.inflate(R.layout.section_all_icons, container, false);</code>"}],"answers":[{"tags":[],"owner":{"account_id":14665020,"reputation":19,"user_id":10591098,"display_name":"Daniel C"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1677453328,"creation_date":1542194343,"answer_id":53299001,"question_id":35114242,"body_markdown":"Qualifier must be an expression\r\n\r\n***Appears when you skipped something in the root of the path. Exemple:***\r\n\r\n(wrong): package.method   (without the class)\r\n\r\n(good ex.:) package.class.method**","title":"Error: &quot;Qualifier must be an expression&quot; - Android Studio","body":"<p>Qualifier must be an expression</p>\n<p><em><strong>Appears when you skipped something in the root of the path. Exemple:</strong></em></p>\n<p>(wrong): package.method   (without the class)</p>\n<p>(good ex.:) package.class.method**</p>\n"}],"owner":{"account_id":7189319,"reputation":223,"user_id":5490244,"accept_rate":43,"display_name":"Werl_"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9777,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":1,"score":5,"last_activity_date":1677453675,"creation_date":1454246129,"question_id":35114242,"body_markdown":"Activity:\r\n\r\n    public class PreviewsFragment extends Fragment {\r\n\t\r\n\tprivate ViewPager mPager;\r\n\r\n    @Override\r\n    public View onCreateView(LayoutInflater inflater, ViewGroup container, Bundle savedInstanceState) {\r\n        ViewGroup root = (ViewGroup) inflater.inflate(R.layout.section_all_icons, container, false);\r\n\r\n        ActionBar toolbar = ((AppCompatActivity) getActivity()).getSupportActionBar();\r\n        if (toolbar != null)\r\n            toolbar.setTitle(R.string.section_two);\r\n\r\n        mPager = (ViewPager) root.findViewById(R.id.pager);\r\n        mPager.setAdapter(new MyPagerAdapter(getActivity().getSupportFragmentManager()));\r\n\r\n        TabLayout mTabs = (TabLayout) layout.findViewById(R.id.tabs); //layout: qualifier must be an expression.\r\n        mTabs.setupWithViewPager(mPager);\r\n        mTabs.setTabTextColors(getResources().getColor(R.color.semitransparent_white),\r\n                getResources().getColor(android.R.color.white));\r\n        mTabs.setSelectedTabIndicatorColor(getResources().getColor(R.color.accent));\r\n        mTabs.setOnTabSelectedListener(new TabLayout.OnTabSelectedListener() {\r\n            @Override\r\n            public void onTabSelected(TabLayout.Tab tab) {\r\n                mPager.setCurrentItem(tab.getPosition());\r\n            }\r\n\r\n            @Override\r\n            public void onTabUnselected(TabLayout.Tab tab) {\r\n\r\n            }\r\n\r\n            @Override\r\n            public void onTabReselected(TabLayout.Tab tab) {\r\n\r\n            }\r\n        });\r\n\r\n        return root;\r\n    }\r\n\r\n    @Override\r\n    public void onResume() {\r\n        super.onResume();\r\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.LOLLIPOP) {\r\n            Toolbar appbar = (Toolbar) getActivity().findViewById(R.id.toolbar);\r\n            appbar.setElevation(0);\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public void onPause() {\r\n        super.onPause();\r\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.LOLLIPOP) {\r\n            Toolbar appbar = (Toolbar) getActivity().findViewById(R.id.toolbar);\r\n            appbar.setElevation((int) getResources().getDimension(R.dimen.toolbar_elevation));\r\n        }\r\n    }\r\n\r\n    class MyPagerAdapter extends FragmentStatePagerAdapter {\r\n\r\n        final String[] tabs;\r\n\r\n        public MyPagerAdapter(android.support.v4.app.FragmentManager fm) {\r\n            super(fm);\r\n            tabs = getResources().getStringArray(R.array.tabs);\r\n        }\r\n\r\n        @Override\r\n        public Fragment getItem(int position) {\r\n            Fragment f = new Fragment();\r\n            switch (position) {\r\n                case 0:\r\n                    f = IconsFragment.newInstance(R.array.latest);\r\n                    break;\r\n\t\t\t\tcase 1:\r\n                    f = IconsFragment.newInstance(R.array.system);\r\n                    break;\r\n                case 2:\r\n                    f = IconsFragment.newInstance(R.array.google);\r\n                    break;\r\n                case 3:\r\n                    f = IconsFragment.newInstance(R.array.games);\r\n                    break;\r\n                case 4:\r\n                    f = IconsFragment.newInstance(R.array.icon_pack);\r\n                    break;\r\n                case 5:\r\n                    f = IconsFragment.newInstance(R.array.drawer);\r\n                    break;\r\n            }\r\n            return f;\r\n        }\r\n\r\n        @Override\r\n        public CharSequence getPageTitle(int position) {\r\n            return tabs[position];\r\n        }\r\n\r\n        @Override\r\n        public int getCount() {\r\n            return tabs.length;\r\n        }\r\n    }\r\n\r\nI&#39;ve problems with **TabLayout mTabs = (TabLayout) layout.findViewById(R.id.tabs);** because **layout** is not considered a qualifier. I&#39;ve tried to make something up but it still doesn&#39;t work.\r\nThanks.","title":"Error: &quot;Qualifier must be an expression&quot; - Android Studio","body":"<p>Activity:</p>\n\n<pre><code>public class PreviewsFragment extends Fragment {\n\nprivate ViewPager mPager;\n\n@Override\npublic View onCreateView(LayoutInflater inflater, ViewGroup container, Bundle savedInstanceState) {\n    ViewGroup root = (ViewGroup) inflater.inflate(R.layout.section_all_icons, container, false);\n\n    ActionBar toolbar = ((AppCompatActivity) getActivity()).getSupportActionBar();\n    if (toolbar != null)\n        toolbar.setTitle(R.string.section_two);\n\n    mPager = (ViewPager) root.findViewById(R.id.pager);\n    mPager.setAdapter(new MyPagerAdapter(getActivity().getSupportFragmentManager()));\n\n    TabLayout mTabs = (TabLayout) layout.findViewById(R.id.tabs); //layout: qualifier must be an expression.\n    mTabs.setupWithViewPager(mPager);\n    mTabs.setTabTextColors(getResources().getColor(R.color.semitransparent_white),\n            getResources().getColor(android.R.color.white));\n    mTabs.setSelectedTabIndicatorColor(getResources().getColor(R.color.accent));\n    mTabs.setOnTabSelectedListener(new TabLayout.OnTabSelectedListener() {\n        @Override\n        public void onTabSelected(TabLayout.Tab tab) {\n            mPager.setCurrentItem(tab.getPosition());\n        }\n\n        @Override\n        public void onTabUnselected(TabLayout.Tab tab) {\n\n        }\n\n        @Override\n        public void onTabReselected(TabLayout.Tab tab) {\n\n        }\n    });\n\n    return root;\n}\n\n@Override\npublic void onResume() {\n    super.onResume();\n    if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.LOLLIPOP) {\n        Toolbar appbar = (Toolbar) getActivity().findViewById(R.id.toolbar);\n        appbar.setElevation(0);\n    }\n}\n\n@Override\npublic void onPause() {\n    super.onPause();\n    if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.LOLLIPOP) {\n        Toolbar appbar = (Toolbar) getActivity().findViewById(R.id.toolbar);\n        appbar.setElevation((int) getResources().getDimension(R.dimen.toolbar_elevation));\n    }\n}\n\nclass MyPagerAdapter extends FragmentStatePagerAdapter {\n\n    final String[] tabs;\n\n    public MyPagerAdapter(android.support.v4.app.FragmentManager fm) {\n        super(fm);\n        tabs = getResources().getStringArray(R.array.tabs);\n    }\n\n    @Override\n    public Fragment getItem(int position) {\n        Fragment f = new Fragment();\n        switch (position) {\n            case 0:\n                f = IconsFragment.newInstance(R.array.latest);\n                break;\n            case 1:\n                f = IconsFragment.newInstance(R.array.system);\n                break;\n            case 2:\n                f = IconsFragment.newInstance(R.array.google);\n                break;\n            case 3:\n                f = IconsFragment.newInstance(R.array.games);\n                break;\n            case 4:\n                f = IconsFragment.newInstance(R.array.icon_pack);\n                break;\n            case 5:\n                f = IconsFragment.newInstance(R.array.drawer);\n                break;\n        }\n        return f;\n    }\n\n    @Override\n    public CharSequence getPageTitle(int position) {\n        return tabs[position];\n    }\n\n    @Override\n    public int getCount() {\n        return tabs.length;\n    }\n}\n</code></pre>\n\n<p>I've problems with <strong>TabLayout mTabs = (TabLayout) layout.findViewById(R.id.tabs);</strong> because <strong>layout</strong> is not considered a qualifier. I've tried to make something up but it still doesn't work.\nThanks.</p>\n"},{"tags":["java","opencv"],"comments":[{"owner":{"account_id":3072614,"reputation":12296,"user_id":2602877,"display_name":"Christoph Rackwitz"},"score":2,"creation_date":1677453296,"post_id":75574857,"comment_id":133335769,"body_markdown":"Does this answer your question? [Error: &quot;Qualifier must be an expression&quot; - Android Studio](https://stackoverflow.com/questions/35114242/error-qualifier-must-be-an-expression-android-studio)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/35114242/error-qualifier-must-be-an-expression-android-studio\">Error: &quot;Qualifier must be an expression&quot; - Android Studio</a>"},{"owner":{"account_id":3072614,"reputation":12296,"user_id":2602877,"display_name":"Christoph Rackwitz"},"score":0,"creation_date":1677453391,"post_id":75574857,"comment_id":133335787,"body_markdown":"[mre] requires proper error message/traceback/stack trace. you haven&#39;t said what exact code causes this error","body":"<a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> requires proper error message/traceback/stack trace. you haven&#39;t said what exact code causes this error"}],"owner":{"account_id":9969173,"reputation":1133,"user_id":7375877,"display_name":"Mi Po"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1677453459,"creation_date":1677443651,"question_id":75574857,"body_markdown":"I am getting the following error on the `net` object in this code `qualifier must be an expression`\r\n\r\n    Mat blob = Dnn.blobFromImage(inputFrame, IN_SCALE_FACTOR, new Size(IN_WIDTH, IN_HEIGHT), new Scalar(MEAN_VAL, MEAN_VAL, MEAN_VAL), true, false);\r\n    net.setInput(blob);\r\n\r\n    List&lt;List&lt;Double&gt;&gt; blobList = new ArrayList&lt;&gt;();\r\n\r\n    Mat detections = net.forward();\r\n\r\n\r\nFor more information the code is taken from this post: https://stackoverflow.com/questions/59606236/opencv-dnn-java\r\n\r\nThe imports were not provided with the code so I am trying to figure out what is missing\r\n\r\n\r\n","title":"OpenCV Java Qualifier Must be an Expression","body":"<p>I am getting the following error on the <code>net</code> object in this code <code>qualifier must be an expression</code></p>\n<pre><code>Mat blob = Dnn.blobFromImage(inputFrame, IN_SCALE_FACTOR, new Size(IN_WIDTH, IN_HEIGHT), new Scalar(MEAN_VAL, MEAN_VAL, MEAN_VAL), true, false);\nnet.setInput(blob);\n\nList&lt;List&lt;Double&gt;&gt; blobList = new ArrayList&lt;&gt;();\n\nMat detections = net.forward();\n</code></pre>\n<p>For more information the code is taken from this post: <a href=\"https://stackoverflow.com/questions/59606236/opencv-dnn-java\">OpenCV DNN Java</a></p>\n<p>The imports were not provided with the code so I am trying to figure out what is missing</p>\n"},{"tags":["java","automation","powerbi"],"comments":[{"owner":{"account_id":1077512,"reputation":2115,"user_id":1075330,"accept_rate":82,"display_name":"Stormcloud"},"score":0,"creation_date":1676913926,"post_id":75511964,"comment_id":133228916,"body_markdown":"Hello and Welcome.\nAny chance you can ask a more focused question? There are many ways to solve your problem. The most appropriate technology for you will depend on many factors that are specific to you and your proposed deployment environment.","body":"Hello and Welcome. Any chance you can ask a more focused question? There are many ways to solve your problem. The most appropriate technology for you will depend on many factors that are specific to you and your proposed deployment environment."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1676913946,"post_id":75511964,"comment_id":133228923,"body_markdown":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer.","body":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer."}],"answers":[{"tags":[],"owner":{"account_id":27843262,"reputation":13,"user_id":21259315,"display_name":"Sean Stills"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676996373,"creation_date":1676996373,"answer_id":75523147,"question_id":75511964,"body_markdown":"So without knowing too many of the specifics of your ask I would say that it may be worth looking into creating Microsoft Excel scripts that would generate charts from inputted data. You could then used the &quot;Run Script&quot; in the excel modules to automate the process. Then send the results in an automated email. So your flow would look like: Run when file is modified or scheduled if its a regular drop -&gt; Run Excel Script -&gt; Send Email with outputs.\r\n\r\nYou can see the example with pictures and instructions at this link: \r\n[Flow with Script example][1]\r\n\r\nHope this sets you on the right path at least!\r\n\r\n-Sean\r\n\r\n\r\n  [1]: https://learn.microsoft.com/en-us/office/dev/scripts/resources/samples/email-images-chart-table","title":"How to automate an excel file to make graphs and then automatically email them as well","body":"<p>So without knowing too many of the specifics of your ask I would say that it may be worth looking into creating Microsoft Excel scripts that would generate charts from inputted data. You could then used the &quot;Run Script&quot; in the excel modules to automate the process. Then send the results in an automated email. So your flow would look like: Run when file is modified or scheduled if its a regular drop -&gt; Run Excel Script -&gt; Send Email with outputs.</p>\n<p>You can see the example with pictures and instructions at this link:\n<a href=\"https://learn.microsoft.com/en-us/office/dev/scripts/resources/samples/email-images-chart-table\" rel=\"nofollow noreferrer\">Flow with Script example</a></p>\n<p>Hope this sets you on the right path at least!</p>\n<p>-Sean</p>\n"},{"tags":[],"owner":{"account_id":2745635,"reputation":1440,"user_id":2366109,"accept_rate":80,"display_name":"Joe Wilcoxson"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677453119,"creation_date":1677453119,"answer_id":75575568,"question_id":75511964,"body_markdown":"I would recommend Python, and the excellent [xlwings][1] library for integrating with Excel. \r\n\r\n  [1]: https://docs.xlwings.org/en/latest/","title":"How to automate an excel file to make graphs and then automatically email them as well","body":"<p>I would recommend Python, and the excellent <a href=\"https://docs.xlwings.org/en/latest/\" rel=\"nofollow noreferrer\">xlwings</a> library for integrating with Excel.</p>\n"}],"owner":{"account_id":17820855,"reputation":1,"user_id":12943262,"display_name":"Siddharth Agrawal"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":122,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1677453119,"creation_date":1676911129,"question_id":75511964,"body_markdown":"I currently have a Java program that outputs data into an excel file. While I am not hell-bent on using excel, my requirements are to process the data, make graphs, and then email those graphs. I am looking to automate the entire process. How can I achieve the same?\r\n\r\nI tried using PowerBi and Power Automate tools but am not finding a definitive way. ","title":"How to automate an excel file to make graphs and then automatically email them as well","body":"<p>I currently have a Java program that outputs data into an excel file. While I am not hell-bent on using excel, my requirements are to process the data, make graphs, and then email those graphs. I am looking to automate the entire process. How can I achieve the same?</p>\n<p>I tried using PowerBi and Power Automate tools but am not finding a definitive way.</p>\n"},{"tags":["java","xml","transformation","sax","java-11"],"comments":[{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":2,"creation_date":1556301712,"post_id":55853220,"comment_id":98405502,"body_markdown":"You should edit your question and add a sample Java code that demonstrates the problem (generate a small XML + transform). It is a lot easier to start with a working example.","body":"You should edit your question and add a sample Java code that demonstrates the problem (generate a small XML + transform). It is a lot easier to start with a working example."}],"answers":[{"tags":[],"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1677453057,"creation_date":1556527709,"answer_id":55899834,"question_id":55853220,"body_markdown":"As your code relies on unspecified behavior, extra explicit code seems better:\r\n\r\n- You want indentation like:\r\n\r\n        tform.setOutputProperty(OutputKeys.INDENT, &quot;yes&quot;);\r\n        tform.setOutputProperty(&quot;{http://xml.apache.org/xslt}indent-amount&quot;, &quot;4&quot;);\r\n\r\n- However not for elements containing a CDATA tag:\r\n\r\n        String xml = result.getWriter().toString();\r\n        // No indentation (whitespace) for elements with a CDATA section.\r\n        xml = xml.replaceAll(&quot;(?s)&gt;\\\\s*(&lt;\\\\!\\\\[CDATA\\\\[.*?]]&gt;)\\\\s*&lt;/&quot;, &quot;&gt;$1&lt;/&quot;);\r\n\r\nThe regex uses:\r\n\r\n- `(?s)` DOT_ALL to have `.` match any character, _also_ newline characters.\r\n- `.*?` the shortest matching sequence, to not match &quot;...]]&gt;...]]&gt;&quot;.\r\n\r\nAlternatively: In a DOM tree (preserving CDATA) you can retrieve all CDATA sections per XPath, and remove whitespace siblings using the parent element.\r\n\r\n","title":"Handling change in newlines by XML transformation for CDATA from Java 8 to Java 11","body":"<p>As your code relies on unspecified behavior, extra explicit code seems better:</p>\n<ul>\n<li><p>You want indentation like:</p>\n<pre><code>  tform.setOutputProperty(OutputKeys.INDENT, &quot;yes&quot;);\n  tform.setOutputProperty(&quot;{http://xml.apache.org/xslt}indent-amount&quot;, &quot;4&quot;);\n</code></pre>\n</li>\n<li><p>However not for elements containing a CDATA tag:</p>\n<pre><code>  String xml = result.getWriter().toString();\n  // No indentation (whitespace) for elements with a CDATA section.\n  xml = xml.replaceAll(&quot;(?s)&gt;\\\\s*(&lt;\\\\!\\\\[CDATA\\\\[.*?]]&gt;)\\\\s*&lt;/&quot;, &quot;&gt;$1&lt;/&quot;);\n</code></pre>\n</li>\n</ul>\n<p>The regex uses:</p>\n<ul>\n<li><code>(?s)</code> DOT_ALL to have <code>.</code> match any character, <em>also</em> newline characters.</li>\n<li><code>.*?</code> the shortest matching sequence, to not match &quot;...]]&gt;...]]&gt;&quot;.</li>\n</ul>\n<p>Alternatively: In a DOM tree (preserving CDATA) you can retrieve all CDATA sections per XPath, and remove whitespace siblings using the parent element.</p>\n"},{"tags":[],"owner":{"account_id":372555,"reputation":4556,"user_id":721666,"accept_rate":48,"display_name":"Ralph"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1677365465,"creation_date":1677365465,"answer_id":75568933,"question_id":55853220,"body_markdown":"The solution from Joop Eggen is brilliant.\r\n\r\nI just want to expand the solution a little bit. \r\n\r\n\r\n```java\r\nxml = xml.replaceAll(&quot;&gt;\\\\s*(&lt;\\\\!\\\\[CDATA\\\\[(.|\\\\n|\\\\r\\\\n)*?]\\\\]&gt;)\\\\s*&lt;/&quot;, &quot;&gt;$1&lt;/&quot;);\r\n```\r\n\r\nIn this regex I include the possibility that inside the CDATA tag new lines are allowed. So I am testing for `\\n` and also windows-style `\\r\\n`\r\n\r\nXML Example:\r\n\r\n    &lt;test&gt;\r\n       &lt;![CDATA[com.foo.test]]&gt;\r\n    &lt;/test\r\n    &lt;test&gt;\r\n     &lt;![CDATA[2st Line   \r\n    2nd Line]]&gt;\r\n    &lt;/test&gt;\r\n\r\n","title":"Handling change in newlines by XML transformation for CDATA from Java 8 to Java 11","body":"<p>The solution from Joop Eggen is brilliant.</p>\n<p>I just want to expand the solution a little bit.</p>\n<pre class=\"lang-java prettyprint-override\"><code>xml = xml.replaceAll(&quot;&gt;\\\\s*(&lt;\\\\!\\\\[CDATA\\\\[(.|\\\\n|\\\\r\\\\n)*?]\\\\]&gt;)\\\\s*&lt;/&quot;, &quot;&gt;$1&lt;/&quot;);\n</code></pre>\n<p>In this regex I include the possibility that inside the CDATA tag new lines are allowed. So I am testing for <code>\\n</code> and also windows-style <code>\\r\\n</code></p>\n<p>XML Example:</p>\n<pre><code>&lt;test&gt;\n   &lt;![CDATA[com.foo.test]]&gt;\n&lt;/test\n&lt;test&gt;\n &lt;![CDATA[2st Line   \n2nd Line]]&gt;\n&lt;/test&gt;\n</code></pre>\n"}],"owner":{"account_id":14601909,"reputation":955,"user_id":10545973,"display_name":"Rick"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1895,"favorite_count":0,"down_vote_count":0,"up_vote_count":14,"accepted_answer_id":55899834,"answer_count":2,"score":14,"last_activity_date":1677453057,"creation_date":1556207512,"question_id":55853220,"body_markdown":"With Java 9 there was a change in the way [`javax.xml.transform.Transformer`][1] with [`OutputKeys.INDENT`][2] handles CDATA tags. In short, in Java 8 a tag named &#39;test&#39; containing some character data would result in:\r\n\r\n```\r\n&lt;test&gt;&lt;![CDATA[data]]&gt;&lt;/test&gt;\r\n```\r\n\r\nBut with Java 9 the same results in\r\n\r\n```\r\n&lt;test&gt;\r\n    &lt;![CDATA[data]]&gt;\r\n&lt;/test&gt;\r\n```\r\n\r\nWhich is not the same XML.\r\n\r\nI understood (from a source no longer available) that for Java 9 there was a workaround using a [`DocumentBuilderFactory`][3] with [`setIgnoringElementContentWhitespace=true`][4] but this no longer works for Java 11.\r\n\r\nDoes anyone know a way to deal with this in Java 11? I&#39;m either looking for a way to prevent the extra newlines (but still be able to format my XML), or be able to ignore them when parsing the XML (preferably using SAX).\r\n\r\nUnfortunately I don&#39;t know what the CDATA tag will actually contain in my application. It might begin or end with white space or newlines so I can&#39;t just strip them when reading the XML or actually setting the value in the resulting object.\r\n\r\nSample program to demonstrate the issue:\r\n        \r\n    public static void main(String[] args) throws TransformerException, ParserConfigurationException, IOException, SAXException\r\n    {\r\n        String data = &quot;data&quot;;\r\n\r\n        StreamSource source = new StreamSource(new StringReader(&quot;&lt;foo&gt;&lt;bar&gt;&lt;![CDATA[&quot; + data + &quot;]]&gt;&lt;/bar&gt;&lt;/foo&gt;&quot;));\r\n        StreamResult result = new StreamResult(new StringWriter());\r\n\r\n        Transformer tform = TransformerFactory.newInstance().newTransformer();\r\n        tform.setOutputProperty(OutputKeys.INDENT, &quot;yes&quot;);\r\n        tform.transform(source, result);\r\n\r\n        String xml = result.getWriter().toString();\r\n\r\n        System.out.println(xml); // I expect bar and CDATA to be on same line. This is true for Java 8, false for Java 11\r\n\r\n\r\n        Document document = DocumentBuilderFactory.newInstance()\r\n            .newDocumentBuilder()\r\n            .parse(new InputSource(new StringReader(xml)));\r\n\r\n        String resultData = document.getElementsByTagName(&quot;bar&quot;)\r\n            .item(0)\r\n            .getTextContent();\r\n\r\n        System.out.println(data.equals(resultData)); // True for Java 8, false for Java 11\r\n    }\r\n\r\nEDIT: For future reference, I&#39;ve submitted a bug report to Oracle, and this is fixed in Java 14: https://bugs.java.com/bugdatabase/view_bug.do?bug_id=JDK-8223291\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/11/docs/api/java.xml/javax/xml/transform/Transformer.html\r\n  [2]: https://docs.oracle.com/en/java/javase/11/docs/api/java.xml/javax/xml/transform/OutputKeys.html#INDENT\r\n  [3]: https://docs.oracle.com/en/java/javase/11/docs/api/java.xml/javax/xml/parsers/DocumentBuilderFactory.html\r\n  [4]: https://docs.oracle.com/en/java/javase/11/docs/api/java.xml/javax/xml/parsers/DocumentBuilderFactory.html#setIgnoringElementContentWhitespace(boolean)","title":"Handling change in newlines by XML transformation for CDATA from Java 8 to Java 11","body":"<p>With Java 9 there was a change in the way <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.xml/javax/xml/transform/Transformer.html\" rel=\"nofollow noreferrer\"><code>javax.xml.transform.Transformer</code></a> with <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.xml/javax/xml/transform/OutputKeys.html#INDENT\" rel=\"nofollow noreferrer\"><code>OutputKeys.INDENT</code></a> handles CDATA tags. In short, in Java 8 a tag named 'test' containing some character data would result in:</p>\n<pre><code>&lt;test&gt;&lt;![CDATA[data]]&gt;&lt;/test&gt;\n</code></pre>\n<p>But with Java 9 the same results in</p>\n<pre><code>&lt;test&gt;\n    &lt;![CDATA[data]]&gt;\n&lt;/test&gt;\n</code></pre>\n<p>Which is not the same XML.</p>\n<p>I understood (from a source no longer available) that for Java 9 there was a workaround using a <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.xml/javax/xml/parsers/DocumentBuilderFactory.html\" rel=\"nofollow noreferrer\"><code>DocumentBuilderFactory</code></a> with <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.xml/javax/xml/parsers/DocumentBuilderFactory.html#setIgnoringElementContentWhitespace(boolean)\" rel=\"nofollow noreferrer\"><code>setIgnoringElementContentWhitespace=true</code></a> but this no longer works for Java 11.</p>\n<p>Does anyone know a way to deal with this in Java 11? I'm either looking for a way to prevent the extra newlines (but still be able to format my XML), or be able to ignore them when parsing the XML (preferably using SAX).</p>\n<p>Unfortunately I don't know what the CDATA tag will actually contain in my application. It might begin or end with white space or newlines so I can't just strip them when reading the XML or actually setting the value in the resulting object.</p>\n<p>Sample program to demonstrate the issue:</p>\n<pre><code>public static void main(String[] args) throws TransformerException, ParserConfigurationException, IOException, SAXException\n{\n    String data = &quot;data&quot;;\n\n    StreamSource source = new StreamSource(new StringReader(&quot;&lt;foo&gt;&lt;bar&gt;&lt;![CDATA[&quot; + data + &quot;]]&gt;&lt;/bar&gt;&lt;/foo&gt;&quot;));\n    StreamResult result = new StreamResult(new StringWriter());\n\n    Transformer tform = TransformerFactory.newInstance().newTransformer();\n    tform.setOutputProperty(OutputKeys.INDENT, &quot;yes&quot;);\n    tform.transform(source, result);\n\n    String xml = result.getWriter().toString();\n\n    System.out.println(xml); // I expect bar and CDATA to be on same line. This is true for Java 8, false for Java 11\n\n\n    Document document = DocumentBuilderFactory.newInstance()\n        .newDocumentBuilder()\n        .parse(new InputSource(new StringReader(xml)));\n\n    String resultData = document.getElementsByTagName(&quot;bar&quot;)\n        .item(0)\n        .getTextContent();\n\n    System.out.println(data.equals(resultData)); // True for Java 8, false for Java 11\n}\n</code></pre>\n<p>EDIT: For future reference, I've submitted a bug report to Oracle, and this is fixed in Java 14: <a href=\"https://bugs.java.com/bugdatabase/view_bug.do?bug_id=JDK-8223291\" rel=\"nofollow noreferrer\">https://bugs.java.com/bugdatabase/view_bug.do?bug_id=JDK-8223291</a></p>\n"},{"tags":["java","spring-boot","swagger","swagger-2.0","springfox"],"comments":[{"owner":{"account_id":27597963,"reputation":1024,"user_id":21063779,"display_name":"Lae"},"score":0,"creation_date":1675205600,"post_id":75302073,"comment_id":132878060,"body_markdown":"Can you post the full stack trace?","body":"Can you post the full stack trace?"}],"owner":{"account_id":26038891,"reputation":1,"user_id":19743986,"display_name":"Rayssa"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":170,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677453015,"creation_date":1675192329,"question_id":75302073,"body_markdown":"Im having a issue on my console when i try to make my swagger.\r\n\r\nmy **pom.xml**:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project\r\n    \txmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n    \txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \t&lt;parent&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;3.0.2&lt;/version&gt;\r\n    \t\t&lt;relativePath/&gt;\r\n    \t\t&lt;!-- lookup parent from repository --&gt;\r\n    \t&lt;/parent&gt;\r\n    \t&lt;groupId&gt;com.lasprogramaderas&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;todolist&lt;/artifactId&gt;\r\n    \t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    \t&lt;name&gt;todolist&lt;/name&gt;\r\n    \t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n    \t&lt;properties&gt;\r\n    \t\t&lt;java.version&gt;11&lt;/java.version&gt;\r\n    \t&lt;/properties&gt;\r\n    \t&lt;dependencies&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.h2database&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;h2&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;io.springfox&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;springfox-swagger-ui&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;2.9.2&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;io.springfox&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;springfox-swagger2&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;2.9.2&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n    \t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t&lt;/dependencies&gt;\r\n    \t&lt;build&gt;\r\n    \t\t&lt;plugins&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;configuration&gt;\r\n    \t\t\t\t\t&lt;excludes&gt;\r\n    \t\t\t\t\t\t&lt;exclude&gt;\r\n    \t\t\t\t\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n    \t\t\t\t\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n    \t\t\t\t\t\t&lt;/exclude&gt;\r\n    \t\t\t\t\t&lt;/excludes&gt;\r\n    \t\t\t\t&lt;/configuration&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t&lt;/plugins&gt;\r\n    \t&lt;/build&gt;\r\n    &lt;/project&gt;\r\n\r\nand my error is\r\n\r\n&gt; org.springframework.beans.factory.UnsatisfiedDependencyException:\r\n&gt; Error creating bean with name &#39;apiDocumentationScanner&#39; defined in URL\r\n&gt; [jar:file:/C:/Users/rsanto26/.m2/repository/io/springfox/springfox-spring-web/2.9.2/springfox-spring-web-2.9.2.jar!/springfox/documentation/spring/web/scanners/ApiDocumentationScanner.class]:\r\n\r\n\r\nand my **SwaggerConfiguration**\r\n\r\n\r\n```\r\npackage com.lasprogramaderas.todolist.configuration;&#160;\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Configuration;\r\nimport springfox.documentation.builders.ApiInfoBuilder;\r\nimport springfox.documentation.builders.PathSelectors;\r\nimport springfox.documentation.builders.RequestHandlerSelectors;\r\nimport springfox.documentation.service.ApiInfo;\r\nimport springfox.documentation.spi.DocumentationType;\r\nimport springfox.documentation.spring.web.plugins.Docket;\r\nimport springfox.documentation.swagger2.annotations.EnableSwagger2;&#160;@Configuration\r\n@EnableSwagger2\r\npublic class SwaggerConfig {&#160;&#160;&#160;&#160; @Bean\r\n&#160;&#160;&#160; public Docket api(){\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160; return&#160; new Docket(\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; DocumentationType.SWAGGER_2)\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; .select()\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; .apis(RequestHandlerSelectors.\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; basePackage(&quot;com.lasprogramaderas.todolist.controller&quot;))\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; .paths(PathSelectors.any())\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; .build()\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; .useDefaultResponseMessages(true)\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; .apiInfo(apiInfo());&#160;&#160;&#160;&#160; }&#160;&#160;&#160;&#160; private ApiInfo apiInfo(){\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160; return new ApiInfoBuilder()\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; .title(&quot;To do list&quot;)\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; .description(&quot;Aplica&#231;&#227;o do projeto praticando Start&quot;)\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; .version(&quot;1.0.0&quot;)\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; .build();\r\n&#160;&#160;&#160; }\r\n}\r\n```\r\n\r\n\r\n\r\n\r\nWhat i need to do so i can fix this? ","title":"Java springboot with springfox - error swagger","body":"<p>Im having a issue on my console when i try to make my swagger.</p>\n<p>my <strong>pom.xml</strong>:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project\n    xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.0.2&lt;/version&gt;\n        &lt;relativePath/&gt;\n        &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.lasprogramaderas&lt;/groupId&gt;\n    &lt;artifactId&gt;todolist&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;todolist&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;11&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.h2database&lt;/groupId&gt;\n            &lt;artifactId&gt;h2&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.springfox&lt;/groupId&gt;\n            &lt;artifactId&gt;springfox-swagger-ui&lt;/artifactId&gt;\n            &lt;version&gt;2.9.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.springfox&lt;/groupId&gt;\n            &lt;artifactId&gt;springfox-swagger2&lt;/artifactId&gt;\n            &lt;version&gt;2.9.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;excludes&gt;\n                        &lt;exclude&gt;\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                        &lt;/exclude&gt;\n                    &lt;/excludes&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<p>and my error is</p>\n<blockquote>\n<p>org.springframework.beans.factory.UnsatisfiedDependencyException:\nError creating bean with name 'apiDocumentationScanner' defined in URL\n[jar:file:/C:/Users/rsanto26/.m2/repository/io/springfox/springfox-spring-web/2.9.2/springfox-spring-web-2.9.2.jar!/springfox/documentation/spring/web/scanners/ApiDocumentationScanner.class]:</p>\n</blockquote>\n<p>and my <strong>SwaggerConfiguration</strong></p>\n<pre><code>package com.lasprogramaderas.todolist.configuration; \nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport springfox.documentation.builders.ApiInfoBuilder;\nimport springfox.documentation.builders.PathSelectors;\nimport springfox.documentation.builders.RequestHandlerSelectors;\nimport springfox.documentation.service.ApiInfo;\nimport springfox.documentation.spi.DocumentationType;\nimport springfox.documentation.spring.web.plugins.Docket;\nimport springfox.documentation.swagger2.annotations.EnableSwagger2; @Configuration\n@EnableSwagger2\npublic class SwaggerConfig {     @Bean\n    public Docket api(){\n        return  new Docket(\n                DocumentationType.SWAGGER_2)\n                .select()\n                .apis(RequestHandlerSelectors.\n                        basePackage(&quot;com.lasprogramaderas.todolist.controller&quot;))\n                .paths(PathSelectors.any())\n                .build()\n                .useDefaultResponseMessages(true)\n                .apiInfo(apiInfo());     }     private ApiInfo apiInfo(){\n        return new ApiInfoBuilder()\n                .title(&quot;To do list&quot;)\n                .description(&quot;Aplicação do projeto praticando Start&quot;)\n                .version(&quot;1.0.0&quot;)\n                .build();\n    }\n}\n</code></pre>\n<p>What i need to do so i can fix this?</p>\n"},{"tags":["java","spring-boot","api","swagger"],"answers":[{"tags":[],"owner":{"account_id":21083132,"reputation":3230,"user_id":15496965,"display_name":"Henning"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1677452703,"creation_date":1677452703,"answer_id":75575534,"question_id":75575477,"body_markdown":"Springfox hasn&#39;t been maintained for quite some time and is not compatible with the latest Spring Boot releases, not even the latest 2.x releases.\r\n\r\nYou can use [Springdoc](https://springdoc.org) instead. It&#39;s the current default library for what you&#39;re trying to achieve.","title":"I can&#39;t initialize my project with Swagger2","body":"<p>Springfox hasn't been maintained for quite some time and is not compatible with the latest Spring Boot releases, not even the latest 2.x releases.</p>\n<p>You can use <a href=\"https://springdoc.org\" rel=\"nofollow noreferrer\">Springdoc</a> instead. It's the current default library for what you're trying to achieve.</p>\n"}],"owner":{"account_id":27762841,"reputation":35,"user_id":21194907,"display_name":"Allan Michel"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":991,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75575534,"answer_count":1,"score":1,"last_activity_date":1677452703,"creation_date":1677451887,"question_id":75575477,"body_markdown":"It manages to initialize a basic hello world without the swagger, the error only came up now after trying to add Swagger2.\r\n\r\nin all there are 38 errors\r\n\r\n```\r\n\r\nError starting ApplicationContext. To display the condition evaluation report re-run your application with &#39;debug&#39; enabled.\r\n2023-02-26T19:48:09.600-03:00 ERROR 10932 --- [  restartedMain] o.s.boot.SpringApplication               : Application run failed\r\n\r\norg.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;apiDocumentationScanner&#39; defined in URL [jar:file:/C:/Users/allan/.m2/repository/io/springfox/springfox-spring-web/2.9.2/springfox-spring-web-2.9.2.jar!/springfox/documentation/spring/web/scanners/ApiDocumentationScanner.class]: Unsatisfied dependency expressed through constructor parameter 1: Error creating bean with name &#39;apiListingScanner&#39; defined in URL [jar:file:/C:/Users/allan/.m2/repository/io/springfox/springfox-spring-web/2.9.2/springfox-spring-web-2.9.2.jar!/springfox/documentation/spring/web/scanners/ApiListingScanner.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name &#39;apiDescriptionReader&#39; defined in URL [jar:file:/C:/Users/allan/.m2/repository/io/springfox/springfox-spring-web/2.9.2/springfox-spring-web-2.9.2.jar!/springfox/documentation/spring/web/scanners/ApiDescriptionReader.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name &#39;cachingOperationReader&#39; defined in URL [jar:file:/C:/Users/allan/.m2/repository/io/springfox/springfox-spring-web/2.9.2/springfox-spring-web-2.9.2.jar!/springfox/documentation/spring/web/scanners/CachingOperationReader.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name &#39;apiOperationReader&#39; defined in URL [jar:file:/C:/Users/allan/.m2/repository/io/springfox/springfox-spring-web/2.9.2/springfox-spring-web-2.9.2.jar!/springfox/documentation/spring/web/readers/operation/ApiOperationReader.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name &#39;documentationPluginsManager&#39;: Unsatisfied dependency expressed through field &#39;documentationPlugins&#39;: Error creating bean with name &#39;documentationPluginRegistry&#39;: FactoryBean threw exception on object creation\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:798) ~[spring-beans-6.0.3.jar:6.0.3]\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:245) ~[spring-beans-6.0.3.jar:6.0.3]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1344) ~[spring-beans-6.0.3.jar:6.0.3]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1188) ~[spring-beans-6.0.3.jar:6.0.3]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:561) ~[spring-beans-6.0.3.jar:6.0.3]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521) ~[spring-beans-6.0.3.jar:6.0.3]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.3.jar:6.0.3]\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.3.jar:6.0.3]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.3.jar:6.0.3]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.3.jar:6.0.3]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:961) ~[spring-beans-6.0.3.jar:6.0.3]\r\n\tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:915) ~[spring-context-6.0.3.jar:6.0.3]\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:584) ~[spring-context-6.0.3.jar:6.0.3]\r\n\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.0.1.jar:3.0.1]\r\n\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:730) ~[spring-boot-3.0.1.jar:3.0.1]\r\n\tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:432) ~[spring-boot-3.0.1.jar:3.0.1]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:308) ~[spring-boot-3.0.1.jar:3.0.1]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1302) ~[spring-boot-3.0.1.jar:3.0.1]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1291) ~[spring-boot-3.0.1.jar:3.0.1]\r\n\tat com.allmichel.bookstoremanager.BookstoremanagerApplication.main(BookstoremanagerApplication.java:10) ~[classes/:na]\r\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:578) ~[na:na]\r\n\tat org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49) ~[spring-boot-devtools-3.0.1.jar:3.0.1]\r\nCaused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;apiListingScanner&#39; defined in URL [jar:file:/C:/Users/allan/.m2/repository/io/springfox/springfox-spring-web/2.9.2/springfox-spring-web-2.9.2.jar!/springfox/documentation/spring/web/scanners/ApiListingScanner.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name &#39;apiDescriptionReader&#39; defined in URL [jar:file:/C:/Users/allan/.m2/repository/io/springfox/springfox-spring-web/2.9.2/springfox-spring-web-2.9.2.jar!/springfox/documentation/spring/web/scanners/ApiDescriptionReader.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name &#39;cachingOperationReader&#39; defined in URL [jar:file:/C:/Users/allan/.m2/repository/io/springfox/springfox-spring-web/2.9.2/springfox-spring-web-2.9.2.jar!/springfox/documentation/spring/web/scanners/CachingOperationReader.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name &#39;apiOperationReader&#39; defined in URL [jar:file:/C:/Users/allan/.m2/repository/io/springfox/springfox-spring-web/2.9.2/springfox-spring-web-2.9.2.jar!/springfox/documentation/spring/web/readers/operation/ApiOperationReader.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name &#39;documentationPluginsManager&#39;: Unsatisfied dependency expressed through field &#39;documentationPlugins&#39;: Error creating bean with name &#39;documentationPluginRegistry&#39;: FactoryBean threw exception on object creation\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:798) ~[spring-beans-6.0.3.jar:6.0.3]\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:245) ~[spring-beans-6.0.3.jar:6.0.3]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1344) ~[spring-beans-6.0.3.jar:6.0.3]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1188) ~[spring-beans-6.0.3.jar:6.0.3]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:561) ~[spring-beans-6.0.3.jar:6.0.3]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521) ~[spring-beans-6.0.3.jar:6.0.3]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.3.jar:6.0.3]\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.3.jar:6.0.3]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.3.jar:6.0.3]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.3.jar:6.0.3]\r\n\tat org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254) ~[spring-beans-6.0.3.jar:6.0.3]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1405) ~[spring-beans-6.0.3.jar:6.0.3]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1325) ~[spring-beans-6.0.3.jar:6.0.3]\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:885) ~[spring-beans-6.0.3.jar:6.0.3]\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:789) ~[spring-beans-6.0.3.jar:6.0.3]\r\n\t... 22 common frames omitted\r\nCaused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;apiDescriptionReader&#39; defined in URL [jar:file:/C:/Users/allan/.m2/repository/io/springfox/springfox-spring-web/2.9.2/springfox-spring-web-2.9.2.jar!/springfox/documentation/spring/web/scanners/ApiDescriptionReader.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name &#39;cachingOperationReader&#39; defined in URL [jar:file:/C:/Users/allan/.m2/repository/io/springfox/springfox-spring-web/2.9.2/springfox-spring-web-2.9.2.jar!/springfox/documentation/spring/web/scanners/CachingOperationReader.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name &#39;apiOperationReader&#39; defined in URL [jar:file:/C:/Users/allan/.m2/repository/io/springfox/springfox-spring-web/2.9.2/springfox-spring-web-2.9.2.jar!/springfox/documentation/spring/web/readers/operation/ApiOperationReader.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name &#39;documentationPluginsManager&#39;: Unsatisfied dependency expressed through field &#39;documentationPlugins&#39;: Error creating bean with name &#39;documentationPluginRegistry&#39;: FactoryBean threw exception on object creation\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:798) ~[spring-beans-6.0.3.jar:6.0.3]\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:245) ~[spring-beans-6.0.3.jar:6.0.3]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1344) ~[spring-beans-6.0.3.jar:6.0.3]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1188) ~[spring-beans-6.0.3.jar:6.0.3]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:561) ~[spring-beans-6.0.3.jar:6.0.3]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521) ~[spring-beans-6.0.3.jar:6.0.3]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.3.jar:6.0.3]\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.3.jar:6.0.3]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.3.jar:6.0.3]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.3.jar:6.0.3]\r\n\tat org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254) ~[spring-beans-6.0.3.jar:6.0.3]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1405) ~[spring-beans-6.0.3.jar:6.0.3]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1325) ~[spring-beans-6.0.3.jar:6.0.3]\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:885) ~[spring-beans-6.0.3.jar:6.0.3]\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:789) ~[spring-beans-6.0.3.jar:6.0.3]\r\n\t... 36 common frames omitted\r\nCaused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;cachingOperationReader&#39; defined in URL [jar:file:/C:/Users/allan/.m2/repository/io/springfox/springfox-spring-web/2.9.2/springfox-spring-web-2.9.2.jar!/springfox/documentation/spring/web/scanners/CachingOperationReader.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name &#39;apiOperationReader&#39; defined in URL [jar:file:/C:/Users/allan/.m2/repository/io/springfox/springfox-spring-web/2.9.2/springfox-spring-web-2.9.2.jar!/springfox/documentation/spring/web/readers/operation/ApiOperationReader.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name &#39;documentationPluginsManager&#39;: Unsatisfied dependency expressed through field &#39;documentationPlugins&#39;: Error creating bean with name &#39;documentationPluginRegistry&#39;: FactoryBean threw exception on object creation\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:798) ~[spring-beans-6.0.3.jar:6.0.3]\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:245) ~[spring-beans-6.0.3.jar:6.0.3]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1344) ~[spring-beans-6.0.3.jar:6.0.3]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1188) ~[spring-beans-6.0.3.jar:6.0.3]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:561) ~[spring-beans-6.0.3.jar:6.0.3]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521) ~[spring-beans-6.0.3.jar:6.0.3]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.3.jar:6.0.3]\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.3.jar:6.0.3]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.3.jar:6.0.3]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.3.jar:6.0.3]\r\n\tat org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254) ~[spring-beans-6.0.3.jar:6.0.3]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1405) ~[spring-beans-6.0.3.jar:6.0.3]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1325) ~[spring-beans-6.0.3.jar:6.0.3]\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:885) ~[spring-beans-6.0.3.jar:6.0.3]\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:789) ~[spring-beans-6.0.3.jar:6.0.3]\r\n\t... 50 common frames omitted\r\nCaused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;apiOperationReader&#39; defined in URL [jar:file:/C:/Users/allan/.m2/repository/io/springfox/springfox-spring-web/2.9.2/springfox-spring-web-2.9.2.jar!/springfox/documentation/spring/web/readers/operation/ApiOperationReader.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name &#39;documentationPluginsManager&#39;: Unsatisfied dependency expressed through field &#39;documentationPlugins&#39;: Error creating bean with name &#39;documentationPluginRegistry&#39;: FactoryBean threw exception on object creation\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:798) ~[spring-beans-6.0.3.jar:6.0.3]\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:245) ~[spring-beans-6.0.3.jar:6.0.3]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1344) ~[spring-beans-6.0.3.jar:6.0.3]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1188) ~[spring-beans-6.0.3.jar:6.0.3]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:561) ~[spring-beans-6.0.3.jar:6.0.3]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521) ~[spring-beans-6.0.3.jar:6.0.3]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.3.jar:6.0.3]\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.3.jar:6.0.3]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.3.jar:6.0.3]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.3.jar:6.0.3]\r\n\tat org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254) ~[spring-beans-6.0.3.jar:6.0.3]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1405) ~[spring-beans-6.0.3.jar:6.0.3]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1325) ~[spring-beans-6.0.3.jar:6.0.3]\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:885) ~[spring-beans-6.0.3.jar:6.0.3]\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:789) ~[spring-beans-6.0.3.jar:6.0.3]\r\n\t... 64 common frames omitted\r\nCaused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;documentationPluginsManager&#39;: Unsatisfied dependency expressed through field &#39;documentationPlugins&#39;: Error creating bean with name &#39;documentationPluginRegistry&#39;: FactoryBean threw exception on object creation\r\n\tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:712) ~[spring-beans-6.0.3.jar:6.0.3]\r\n\tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:692) ~[spring-beans-6.0.3.jar:6.0.3]\r\n\tat org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:127) ~[spring-beans-6.0.3.jar:6.0.3]\r\n\tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:481) ~[spring-beans-6.0.3.jar:6.0.3]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1397) ~[spring-beans-6.0.3.jar:6.0.3]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598) ~[spring-beans-6.0.3.jar:6.0.3]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521) ~[spring-beans-6.0.3.jar:6.0.3]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.3.jar:6.0.3]\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.3.jar:6.0.3]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.3.jar:6.0.3]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.3.jar:6.0.3]\r\n\tat org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254) ~[spring-beans-6.0.3.jar:6.0.3]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1405) ~[spring-beans-6.0.3.jar:6.0.3]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1325) ~[spring-beans-6.0.3.jar:6.0.3]\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:885) ~[spring-beans-6.0.3.jar:6.0.3]\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:789) ~[spring-beans-6.0.3.jar:6.0.3]\r\n\t... 78 common frames omitted\r\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;documentationPluginRegistry&#39;: FactoryBean threw exception on object creation\r\n\tat org.springframework.beans.factory.support.FactoryBeanRegistrySupport.doGetObjectFromFactoryBean(FactoryBeanRegistrySupport.java:154) ~[spring-beans-6.0.3.jar:6.0.3]\r\n\tat org.springframework.beans.factory.support.FactoryBeanRegistrySupport.getObjectFromFactoryBean(FactoryBeanRegistrySupport.java:90) ~[spring-beans-6.0.3.jar:6.0.3]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getObjectForBeanInstance(AbstractBeanFactory.java:1823) ~[spring-beans-6.0.3.jar:6.0.3]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.getObjectForBeanInstance(AbstractAutowireCapableBeanFactory.java:1265) ~[spring-beans-6.0.3.jar:6.0.3]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:336) ~[spring-beans-6.0.3.jar:6.0.3]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.3.jar:6.0.3]\r\n\tat org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254) ~[spring-beans-6.0.3.jar:6.0.3]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1405) ~[spring-beans-6.0.3.jar:6.0.3]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1325) ~[spring-beans-6.0.3.jar:6.0.3]\r\n\tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:709) ~[spring-beans-6.0.3.jar:6.0.3]\r\n\t... 93 common frames omitted\r\nCaused by: java.lang.NoClassDefFoundError: org/springframework/util/comparator/InvertibleComparator\r\n\tat org.springframework.plugin.core.OrderAwarePluginRegistry.&lt;clinit&gt;(OrderAwarePluginRegistry.java:45) ~[spring-plugin-core-1.2.0.RELEASE.jar:na]\r\n\tat org.springframework.plugin.core.support.PluginRegistryFactoryBean.getObject(PluginRegistryFactoryBean.java:36) ~[spring-plugin-core-1.2.0.RELEASE.jar:na]\r\n\tat org.springframework.plugin.core.support.PluginRegistryFactoryBean.getObject(PluginRegistryFactoryBean.java:28) ~[spring-plugin-core-1.2.0.RELEASE.jar:na]\r\n\tat org.springframework.beans.factory.support.FactoryBeanRegistrySupport.doGetObjectFromFactoryBean(FactoryBeanRegistrySupport.java:148) ~[spring-beans-6.0.3.jar:6.0.3]\r\n\t... 102 common frames omitted\r\nCaused by: java.lang.ClassNotFoundException: org.springframework.util.comparator.InvertibleComparator\r\n\tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641) ~[na:na]\r\n\tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188) ~[na:na]\r\n\tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521) ~[na:na]\r\n\t... 106 common frames omitted\r\n\r\n\r\nProcess finished with exit code 0\r\n\r\n```\r\n\r\nI&#39;m currently new to springboot, I don&#39;t have a good idea of what I can do. But before that I had switched to Swagger3, which also continued with errors. But I went back to Swagger2 because the project that was asked to be done was always done with Swagger2 by the company\r\n\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\t\t xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;3.0.1&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;com.allmichel&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;bookstoremanager&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;bookstoremanager&lt;/name&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.h2database&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;h2&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- Swagger UI --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;io.springfox&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;springfox-swagger2&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.9.2&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;io.springfox&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;springfox-swagger-ui&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.9.2&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\t&lt;description&gt;bookstore manager project&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;19&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;excludes&gt;\r\n\t\t\t\t\t\t&lt;exclude&gt;\r\n\t\t\t\t\t\t\t&lt;groupId&gt;org.project-lombok&lt;/groupId&gt;\r\n\t\t\t\t\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t\t\t\t&lt;/exclude&gt;\r\n\t\t\t\t\t&lt;/excludes&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n\r\n```\r\n","title":"I can&#39;t initialize my project with Swagger2","body":"<p>It manages to initialize a basic hello world without the swagger, the error only came up now after trying to add Swagger2.</p>\n<p>in all there are 38 errors</p>\n<pre><code>\nError starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.\n2023-02-26T19:48:09.600-03:00 ERROR 10932 --- [  restartedMain] o.s.boot.SpringApplication               : Application run failed\n\norg.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'apiDocumentationScanner' defined in URL [jar:file:/C:/Users/allan/.m2/repository/io/springfox/springfox-spring-web/2.9.2/springfox-spring-web-2.9.2.jar!/springfox/documentation/spring/web/scanners/ApiDocumentationScanner.class]: Unsatisfied dependency expressed through constructor parameter 1: Error creating bean with name 'apiListingScanner' defined in URL [jar:file:/C:/Users/allan/.m2/repository/io/springfox/springfox-spring-web/2.9.2/springfox-spring-web-2.9.2.jar!/springfox/documentation/spring/web/scanners/ApiListingScanner.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'apiDescriptionReader' defined in URL [jar:file:/C:/Users/allan/.m2/repository/io/springfox/springfox-spring-web/2.9.2/springfox-spring-web-2.9.2.jar!/springfox/documentation/spring/web/scanners/ApiDescriptionReader.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'cachingOperationReader' defined in URL [jar:file:/C:/Users/allan/.m2/repository/io/springfox/springfox-spring-web/2.9.2/springfox-spring-web-2.9.2.jar!/springfox/documentation/spring/web/scanners/CachingOperationReader.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'apiOperationReader' defined in URL [jar:file:/C:/Users/allan/.m2/repository/io/springfox/springfox-spring-web/2.9.2/springfox-spring-web-2.9.2.jar!/springfox/documentation/spring/web/readers/operation/ApiOperationReader.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'documentationPluginsManager': Unsatisfied dependency expressed through field 'documentationPlugins': Error creating bean with name 'documentationPluginRegistry': FactoryBean threw exception on object creation\n    at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:798) ~[spring-beans-6.0.3.jar:6.0.3]\n    at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:245) ~[spring-beans-6.0.3.jar:6.0.3]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1344) ~[spring-beans-6.0.3.jar:6.0.3]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1188) ~[spring-beans-6.0.3.jar:6.0.3]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:561) ~[spring-beans-6.0.3.jar:6.0.3]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521) ~[spring-beans-6.0.3.jar:6.0.3]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.3.jar:6.0.3]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.3.jar:6.0.3]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.3.jar:6.0.3]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.3.jar:6.0.3]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:961) ~[spring-beans-6.0.3.jar:6.0.3]\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:915) ~[spring-context-6.0.3.jar:6.0.3]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:584) ~[spring-context-6.0.3.jar:6.0.3]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.0.1.jar:3.0.1]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:730) ~[spring-boot-3.0.1.jar:3.0.1]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:432) ~[spring-boot-3.0.1.jar:3.0.1]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:308) ~[spring-boot-3.0.1.jar:3.0.1]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1302) ~[spring-boot-3.0.1.jar:3.0.1]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1291) ~[spring-boot-3.0.1.jar:3.0.1]\n    at com.allmichel.bookstoremanager.BookstoremanagerApplication.main(BookstoremanagerApplication.java:10) ~[classes/:na]\n    at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:578) ~[na:na]\n    at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49) ~[spring-boot-devtools-3.0.1.jar:3.0.1]\nCaused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'apiListingScanner' defined in URL [jar:file:/C:/Users/allan/.m2/repository/io/springfox/springfox-spring-web/2.9.2/springfox-spring-web-2.9.2.jar!/springfox/documentation/spring/web/scanners/ApiListingScanner.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'apiDescriptionReader' defined in URL [jar:file:/C:/Users/allan/.m2/repository/io/springfox/springfox-spring-web/2.9.2/springfox-spring-web-2.9.2.jar!/springfox/documentation/spring/web/scanners/ApiDescriptionReader.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'cachingOperationReader' defined in URL [jar:file:/C:/Users/allan/.m2/repository/io/springfox/springfox-spring-web/2.9.2/springfox-spring-web-2.9.2.jar!/springfox/documentation/spring/web/scanners/CachingOperationReader.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'apiOperationReader' defined in URL [jar:file:/C:/Users/allan/.m2/repository/io/springfox/springfox-spring-web/2.9.2/springfox-spring-web-2.9.2.jar!/springfox/documentation/spring/web/readers/operation/ApiOperationReader.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'documentationPluginsManager': Unsatisfied dependency expressed through field 'documentationPlugins': Error creating bean with name 'documentationPluginRegistry': FactoryBean threw exception on object creation\n    at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:798) ~[spring-beans-6.0.3.jar:6.0.3]\n    at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:245) ~[spring-beans-6.0.3.jar:6.0.3]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1344) ~[spring-beans-6.0.3.jar:6.0.3]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1188) ~[spring-beans-6.0.3.jar:6.0.3]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:561) ~[spring-beans-6.0.3.jar:6.0.3]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521) ~[spring-beans-6.0.3.jar:6.0.3]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.3.jar:6.0.3]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.3.jar:6.0.3]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.3.jar:6.0.3]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.3.jar:6.0.3]\n    at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254) ~[spring-beans-6.0.3.jar:6.0.3]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1405) ~[spring-beans-6.0.3.jar:6.0.3]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1325) ~[spring-beans-6.0.3.jar:6.0.3]\n    at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:885) ~[spring-beans-6.0.3.jar:6.0.3]\n    at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:789) ~[spring-beans-6.0.3.jar:6.0.3]\n    ... 22 common frames omitted\nCaused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'apiDescriptionReader' defined in URL [jar:file:/C:/Users/allan/.m2/repository/io/springfox/springfox-spring-web/2.9.2/springfox-spring-web-2.9.2.jar!/springfox/documentation/spring/web/scanners/ApiDescriptionReader.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'cachingOperationReader' defined in URL [jar:file:/C:/Users/allan/.m2/repository/io/springfox/springfox-spring-web/2.9.2/springfox-spring-web-2.9.2.jar!/springfox/documentation/spring/web/scanners/CachingOperationReader.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'apiOperationReader' defined in URL [jar:file:/C:/Users/allan/.m2/repository/io/springfox/springfox-spring-web/2.9.2/springfox-spring-web-2.9.2.jar!/springfox/documentation/spring/web/readers/operation/ApiOperationReader.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'documentationPluginsManager': Unsatisfied dependency expressed through field 'documentationPlugins': Error creating bean with name 'documentationPluginRegistry': FactoryBean threw exception on object creation\n    at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:798) ~[spring-beans-6.0.3.jar:6.0.3]\n    at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:245) ~[spring-beans-6.0.3.jar:6.0.3]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1344) ~[spring-beans-6.0.3.jar:6.0.3]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1188) ~[spring-beans-6.0.3.jar:6.0.3]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:561) ~[spring-beans-6.0.3.jar:6.0.3]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521) ~[spring-beans-6.0.3.jar:6.0.3]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.3.jar:6.0.3]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.3.jar:6.0.3]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.3.jar:6.0.3]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.3.jar:6.0.3]\n    at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254) ~[spring-beans-6.0.3.jar:6.0.3]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1405) ~[spring-beans-6.0.3.jar:6.0.3]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1325) ~[spring-beans-6.0.3.jar:6.0.3]\n    at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:885) ~[spring-beans-6.0.3.jar:6.0.3]\n    at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:789) ~[spring-beans-6.0.3.jar:6.0.3]\n    ... 36 common frames omitted\nCaused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'cachingOperationReader' defined in URL [jar:file:/C:/Users/allan/.m2/repository/io/springfox/springfox-spring-web/2.9.2/springfox-spring-web-2.9.2.jar!/springfox/documentation/spring/web/scanners/CachingOperationReader.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'apiOperationReader' defined in URL [jar:file:/C:/Users/allan/.m2/repository/io/springfox/springfox-spring-web/2.9.2/springfox-spring-web-2.9.2.jar!/springfox/documentation/spring/web/readers/operation/ApiOperationReader.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'documentationPluginsManager': Unsatisfied dependency expressed through field 'documentationPlugins': Error creating bean with name 'documentationPluginRegistry': FactoryBean threw exception on object creation\n    at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:798) ~[spring-beans-6.0.3.jar:6.0.3]\n    at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:245) ~[spring-beans-6.0.3.jar:6.0.3]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1344) ~[spring-beans-6.0.3.jar:6.0.3]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1188) ~[spring-beans-6.0.3.jar:6.0.3]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:561) ~[spring-beans-6.0.3.jar:6.0.3]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521) ~[spring-beans-6.0.3.jar:6.0.3]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.3.jar:6.0.3]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.3.jar:6.0.3]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.3.jar:6.0.3]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.3.jar:6.0.3]\n    at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254) ~[spring-beans-6.0.3.jar:6.0.3]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1405) ~[spring-beans-6.0.3.jar:6.0.3]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1325) ~[spring-beans-6.0.3.jar:6.0.3]\n    at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:885) ~[spring-beans-6.0.3.jar:6.0.3]\n    at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:789) ~[spring-beans-6.0.3.jar:6.0.3]\n    ... 50 common frames omitted\nCaused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'apiOperationReader' defined in URL [jar:file:/C:/Users/allan/.m2/repository/io/springfox/springfox-spring-web/2.9.2/springfox-spring-web-2.9.2.jar!/springfox/documentation/spring/web/readers/operation/ApiOperationReader.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'documentationPluginsManager': Unsatisfied dependency expressed through field 'documentationPlugins': Error creating bean with name 'documentationPluginRegistry': FactoryBean threw exception on object creation\n    at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:798) ~[spring-beans-6.0.3.jar:6.0.3]\n    at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:245) ~[spring-beans-6.0.3.jar:6.0.3]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1344) ~[spring-beans-6.0.3.jar:6.0.3]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1188) ~[spring-beans-6.0.3.jar:6.0.3]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:561) ~[spring-beans-6.0.3.jar:6.0.3]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521) ~[spring-beans-6.0.3.jar:6.0.3]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.3.jar:6.0.3]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.3.jar:6.0.3]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.3.jar:6.0.3]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.3.jar:6.0.3]\n    at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254) ~[spring-beans-6.0.3.jar:6.0.3]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1405) ~[spring-beans-6.0.3.jar:6.0.3]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1325) ~[spring-beans-6.0.3.jar:6.0.3]\n    at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:885) ~[spring-beans-6.0.3.jar:6.0.3]\n    at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:789) ~[spring-beans-6.0.3.jar:6.0.3]\n    ... 64 common frames omitted\nCaused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'documentationPluginsManager': Unsatisfied dependency expressed through field 'documentationPlugins': Error creating bean with name 'documentationPluginRegistry': FactoryBean threw exception on object creation\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:712) ~[spring-beans-6.0.3.jar:6.0.3]\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:692) ~[spring-beans-6.0.3.jar:6.0.3]\n    at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:127) ~[spring-beans-6.0.3.jar:6.0.3]\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:481) ~[spring-beans-6.0.3.jar:6.0.3]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1397) ~[spring-beans-6.0.3.jar:6.0.3]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598) ~[spring-beans-6.0.3.jar:6.0.3]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521) ~[spring-beans-6.0.3.jar:6.0.3]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.3.jar:6.0.3]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.3.jar:6.0.3]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.3.jar:6.0.3]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.3.jar:6.0.3]\n    at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254) ~[spring-beans-6.0.3.jar:6.0.3]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1405) ~[spring-beans-6.0.3.jar:6.0.3]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1325) ~[spring-beans-6.0.3.jar:6.0.3]\n    at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:885) ~[spring-beans-6.0.3.jar:6.0.3]\n    at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:789) ~[spring-beans-6.0.3.jar:6.0.3]\n    ... 78 common frames omitted\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'documentationPluginRegistry': FactoryBean threw exception on object creation\n    at org.springframework.beans.factory.support.FactoryBeanRegistrySupport.doGetObjectFromFactoryBean(FactoryBeanRegistrySupport.java:154) ~[spring-beans-6.0.3.jar:6.0.3]\n    at org.springframework.beans.factory.support.FactoryBeanRegistrySupport.getObjectFromFactoryBean(FactoryBeanRegistrySupport.java:90) ~[spring-beans-6.0.3.jar:6.0.3]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getObjectForBeanInstance(AbstractBeanFactory.java:1823) ~[spring-beans-6.0.3.jar:6.0.3]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.getObjectForBeanInstance(AbstractAutowireCapableBeanFactory.java:1265) ~[spring-beans-6.0.3.jar:6.0.3]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:336) ~[spring-beans-6.0.3.jar:6.0.3]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.3.jar:6.0.3]\n    at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254) ~[spring-beans-6.0.3.jar:6.0.3]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1405) ~[spring-beans-6.0.3.jar:6.0.3]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1325) ~[spring-beans-6.0.3.jar:6.0.3]\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:709) ~[spring-beans-6.0.3.jar:6.0.3]\n    ... 93 common frames omitted\nCaused by: java.lang.NoClassDefFoundError: org/springframework/util/comparator/InvertibleComparator\n    at org.springframework.plugin.core.OrderAwarePluginRegistry.&lt;clinit&gt;(OrderAwarePluginRegistry.java:45) ~[spring-plugin-core-1.2.0.RELEASE.jar:na]\n    at org.springframework.plugin.core.support.PluginRegistryFactoryBean.getObject(PluginRegistryFactoryBean.java:36) ~[spring-plugin-core-1.2.0.RELEASE.jar:na]\n    at org.springframework.plugin.core.support.PluginRegistryFactoryBean.getObject(PluginRegistryFactoryBean.java:28) ~[spring-plugin-core-1.2.0.RELEASE.jar:na]\n    at org.springframework.beans.factory.support.FactoryBeanRegistrySupport.doGetObjectFromFactoryBean(FactoryBeanRegistrySupport.java:148) ~[spring-beans-6.0.3.jar:6.0.3]\n    ... 102 common frames omitted\nCaused by: java.lang.ClassNotFoundException: org.springframework.util.comparator.InvertibleComparator\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641) ~[na:na]\n    at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188) ~[na:na]\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521) ~[na:na]\n    ... 106 common frames omitted\n\n\nProcess finished with exit code 0\n\n</code></pre>\n<p>I'm currently new to springboot, I don't have a good idea of what I can do. But before that I had switched to Swagger3, which also continued with errors. But I went back to Swagger2 because the project that was asked to be done was always done with Swagger2 by the company</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.0.1&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.allmichel&lt;/groupId&gt;\n    &lt;artifactId&gt;bookstoremanager&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;bookstoremanager&lt;/name&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.h2database&lt;/groupId&gt;\n            &lt;artifactId&gt;h2&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;!-- Swagger UI --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.springfox&lt;/groupId&gt;\n            &lt;artifactId&gt;springfox-swagger2&lt;/artifactId&gt;\n            &lt;version&gt;2.9.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.springfox&lt;/groupId&gt;\n            &lt;artifactId&gt;springfox-swagger-ui&lt;/artifactId&gt;\n            &lt;version&gt;2.9.2&lt;/version&gt;\n        &lt;/dependency&gt;\n\n\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n    &lt;description&gt;bookstore manager project&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;19&lt;/java.version&gt;\n    &lt;/properties&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;excludes&gt;\n                        &lt;exclude&gt;\n                            &lt;groupId&gt;org.project-lombok&lt;/groupId&gt;\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                        &lt;/exclude&gt;\n                    &lt;/excludes&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n\n</code></pre>\n"}],"has_more":true,"backoff":10,"quota_max":10000,"quota_remaining":9376,"page":616,"page_size":100}
