{"items":[{"tags":["java","testing","apache-flink","flink-streaming"],"answers":[{"tags":[],"owner":{"account_id":268602,"reputation":75188,"user_id":557445,"accept_rate":100,"display_name":"Rion Williams"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1699391941,"creation_date":1699388331,"answer_id":77441219,"question_id":77434373,"body_markdown":"Since your example indicates that the state is seemingly being reset after the second operation, this makes me think that your elements have different keys and are each being assigned new state/contexts.\r\n\r\nWhen using a `KeyedOneInputStreamOperatorTestHarness`, you&#39;ll need to ensure that both of the elements that you are passing to the operator share the same key (as this is what enforces that both are evaluated by the same instance and can access the same state).\r\n\r\nConsider the following example function that will simply count the number of records that flow through an operator and output it:\r\n\r\n```\r\nprivate class StatefulLengthCountFunction: KeyedProcessFunction&lt;Int, String, Int&gt;(){\r\n    private lateinit var count: ValueState&lt;Int&gt;\r\n\r\n    override fun open(parameters: Configuration) {\r\n        count = runtimeContext.getState(ValueStateDescriptor(&quot;count&quot;, Int::class.java))\r\n    }\r\n\r\n    override fun processElement(value: String, ctx: Context, out: Collector&lt;Int&gt;) {\r\n        var currentCount = count.value() ?: 0\r\n        count.update(++currentCount)\r\n\r\n        out.collect(currentCount)\r\n    }\r\n}\r\n```\r\n\r\nAnd we&#39;ll use the following test to demonstrate that:\r\n```\r\n@Test\r\nfun `test demonstrating stateful counting based on string size`(){\r\n    // Arrange\r\n    val harness = ProcessFunctionTestHarnesses.forKeyedProcessFunction(\r\n        StatefulLengthCountFunction(),\r\n        // Note the size of the string will dictate the key\r\n        { value -&gt; value.length },\r\n        TypeInformation.of(Int::class.java)\r\n    )\r\n\r\n    // Act (since all three elements share the same size, they&#39;ll go \r\n    // through the same operator and will share state\r\n    harness.processElement(StreamRecord(&quot;abc&quot;, 0))\r\n    harness.processElement(StreamRecord(&quot;def&quot;, 0))\r\n    harness.processElement(StreamRecord(&quot;ghi&quot;, 0))\r\n\r\n    // Assert\r\n    val output = harness.extractOutputValues().last()\r\n    assert(output == 3)\r\n}\r\n```\r\n\r\nSo if you expect the state to be reused by subsequent records, you&#39;ll want to ensure that those values share the same key. In the above example this was done by defining the `KeySelector` to just use the length of the string in the TestHarness:\r\n\r\n```\r\n{ value -&gt; value.length }\r\n```\r\n\r\nHowever, your milage/use-case may vary depending on the shape of your elements. ","title":"Why is Flink resetting my state after each call to processElement in the test harness?","body":"<p>Since your example indicates that the state is seemingly being reset after the second operation, this makes me think that your elements have different keys and are each being assigned new state/contexts.</p>\n<p>When using a <code>KeyedOneInputStreamOperatorTestHarness</code>, you'll need to ensure that both of the elements that you are passing to the operator share the same key (as this is what enforces that both are evaluated by the same instance and can access the same state).</p>\n<p>Consider the following example function that will simply count the number of records that flow through an operator and output it:</p>\n<pre><code>private class StatefulLengthCountFunction: KeyedProcessFunction&lt;Int, String, Int&gt;(){\n    private lateinit var count: ValueState&lt;Int&gt;\n\n    override fun open(parameters: Configuration) {\n        count = runtimeContext.getState(ValueStateDescriptor(&quot;count&quot;, Int::class.java))\n    }\n\n    override fun processElement(value: String, ctx: Context, out: Collector&lt;Int&gt;) {\n        var currentCount = count.value() ?: 0\n        count.update(++currentCount)\n\n        out.collect(currentCount)\n    }\n}\n</code></pre>\n<p>And we'll use the following test to demonstrate that:</p>\n<pre><code>@Test\nfun `test demonstrating stateful counting based on string size`(){\n    // Arrange\n    val harness = ProcessFunctionTestHarnesses.forKeyedProcessFunction(\n        StatefulLengthCountFunction(),\n        // Note the size of the string will dictate the key\n        { value -&gt; value.length },\n        TypeInformation.of(Int::class.java)\n    )\n\n    // Act (since all three elements share the same size, they'll go \n    // through the same operator and will share state\n    harness.processElement(StreamRecord(&quot;abc&quot;, 0))\n    harness.processElement(StreamRecord(&quot;def&quot;, 0))\n    harness.processElement(StreamRecord(&quot;ghi&quot;, 0))\n\n    // Assert\n    val output = harness.extractOutputValues().last()\n    assert(output == 3)\n}\n</code></pre>\n<p>So if you expect the state to be reused by subsequent records, you'll want to ensure that those values share the same key. In the above example this was done by defining the <code>KeySelector</code> to just use the length of the string in the TestHarness:</p>\n<pre><code>{ value -&gt; value.length }\n</code></pre>\n<p>However, your milage/use-case may vary depending on the shape of your elements.</p>\n"}],"owner":{"account_id":15966961,"reputation":123,"user_id":11522265,"display_name":"Scott"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77441219,"answer_count":1,"score":0,"last_activity_date":1699391941,"creation_date":1699306560,"question_id":77434373,"body_markdown":"I am using Flink&#39;s KeyedOneInputStreamOperatorTestHarness and calling processElement twice.\r\nprocessElement will update the state to count the number of elements seen.\r\nIn this situation, after calling processElement twice, I would expect the state to be 2.\r\nThe first processElement sets the state to 1 but when I call the second processElement, I see that the state is reset to null. Do you know why this is happening and how I can retain the state in between calls to processElement?","title":"Why is Flink resetting my state after each call to processElement in the test harness?","body":"<p>I am using Flink's KeyedOneInputStreamOperatorTestHarness and calling processElement twice.\nprocessElement will update the state to count the number of elements seen.\nIn this situation, after calling processElement twice, I would expect the state to be 2.\nThe first processElement sets the state to 1 but when I call the second processElement, I see that the state is reset to null. Do you know why this is happening and how I can retain the state in between calls to processElement?</p>\n"},{"tags":["java","jpa","spring-data-jpa"],"comments":[{"owner":{"account_id":2792262,"reputation":163877,"user_id":2402272,"accept_rate":85,"display_name":"John Bollinger"},"score":0,"creation_date":1699398276,"post_id":77441504,"comment_id":136526113,"body_markdown":"You get increments to a `@Version` property in conjunction with (optimistically) locking the entity to which that property belongs.  If you&#39;re not locking your `Building`s when you modify their `Room`s, then you will not see its version increase.  I&#39;m not sure how that fits into Spring, but generally, I would not expect you to get such locking on the non-owning side of a relationship unless the locks were taken out explicitly.","body":"You get increments to a <code>@Version</code> property in conjunction with (optimistically) locking the entity to which that property belongs.  If you&#39;re not locking your <code>Building</code>s when you modify their <code>Room</code>s, then you will not see its version increase.  I&#39;m not sure how that fits into Spring, but generally, I would not expect you to get such locking on the non-owning side of a relationship unless the locks were taken out explicitly."},{"owner":{"account_id":1629745,"reputation":18644,"user_id":1504556,"accept_rate":63,"display_name":"peterh"},"score":0,"creation_date":1699424259,"post_id":77441504,"comment_id":136528133,"body_markdown":"@JohnBollinger: Yes, I work in Spring Data. In JPA terms: I never do JPA merge/update on the `Room` entity, only on the `Building` entity. So, I&#39;m thinking I can maybe enforce the version increment, by updating a field on `Building`, say `lastUpdated` whenever I call my `save()` method ?  This will be at the expense of an extra database column.","body":"@JohnBollinger: Yes, I work in Spring Data. In JPA terms: I never do JPA merge/update on the <code>Room</code> entity, only on the <code>Building</code> entity. So, I&#39;m thinking I can maybe enforce the version increment, by updating a field on <code>Building</code>, say <code>lastUpdated</code> whenever I call my <code>save()</code> method ?  This will be at the expense of an extra database column."},{"owner":{"account_id":2792262,"reputation":163877,"user_id":2402272,"accept_rate":85,"display_name":"John Bollinger"},"score":0,"creation_date":1699447297,"post_id":77441504,"comment_id":136531954,"body_markdown":"I would expect that every time you update (in the persistence sense) a property belonging to a Building itself, **subject to an optimistic locking requirement**, you will get an automatic update of its `@Version`-tagged property.  As I understand it, at the JPA level, that optimistic locking requirement needs to be met by explicit request on a per-persistence operation basis.  I don&#39;t know whether there&#39;s a way to meet the locking requirement through Spring.","body":"I would expect that every time you update (in the persistence sense) a property belonging to a Building itself, <b>subject to an optimistic locking requirement</b>, you will get an automatic update of its <code>@Version</code>-tagged property.  As I understand it, at the JPA level, that optimistic locking requirement needs to be met by explicit request on a per-persistence operation basis.  I don&#39;t know whether there&#39;s a way to meet the locking requirement through Spring."},{"owner":{"account_id":2792262,"reputation":163877,"user_id":2402272,"accept_rate":85,"display_name":"John Bollinger"},"score":0,"creation_date":1699447448,"post_id":77441504,"comment_id":136531973,"body_markdown":"But if you&#39;re contemplating adding a new for-purpose property, then perhaps you could meet your needs with that and your DB&#39;s built-in transactions *only*?","body":"But if you&#39;re contemplating adding a new for-purpose property, then perhaps you could meet your needs with that and your DB&#39;s built-in transactions <i>only</i>?"},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1699457199,"post_id":77441504,"comment_id":136534321,"body_markdown":"This is not something that can be done automatically if you are saving a room instance directly. The lock mode is done on a query, so you can instrument your room save implementation to call find on the Building using a finder method with the LockModeType.OPTIMISTIC_FORCE_INCREMENT annotation on it, or a query with that passed in as a hint. This should not cause an extra hit the DB if the query is an ID lookup so it can use the local cache, and just cause it to be incremented regardless of any changes being found or made to the building instance.","body":"This is not something that can be done automatically if you are saving a room instance directly. The lock mode is done on a query, so you can instrument your room save implementation to call find on the Building using a finder method with the LockModeType.OPTIMISTIC_FORCE_INCREMENT annotation on it, or a query with that passed in as a hint. This should not cause an extra hit the DB if the query is an ID lookup so it can use the local cache, and just cause it to be incremented regardless of any changes being found or made to the building instance."},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1699457289,"post_id":77441504,"comment_id":136534340,"body_markdown":"If you are saving Building - you should write your own implementation that makes its own determination on what has changed (or use your provider API to figure it out) and then look up the building with the LockModeType.OPTIMISTIC_FORCE_INCREMENT option if you want to increment the version when nothing else on it has changed. Otherwise, some providers have non-JPA solutions such as https://stackoverflow.com/a/13724804/496099","body":"If you are saving Building - you should write your own implementation that makes its own determination on what has changed (or use your provider API to figure it out) and then look up the building with the LockModeType.OPTIMISTIC_FORCE_INCREMENT option if you want to increment the version when nothing else on it has changed. Otherwise, some providers have non-JPA solutions such as <a href=\"https://stackoverflow.com/a/13724804/496099\">stackoverflow.com/a/13724804/496099</a>"}],"owner":{"account_id":1629745,"reputation":18644,"user_id":1504556,"accept_rate":63,"display_name":"peterh"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1699391587,"creation_date":1699391587,"question_id":77441504,"body_markdown":"I&#39;m struggling to get my version field updated when a related entity changes. Here&#39;s my code:\r\n\r\n```java\r\n@Entity\r\npublic class Building implements Serializable {\r\n\r\n    @Id\r\n    private UUID id;\r\n\r\n    @Version\r\n    private Long version;\r\n\r\n    @OneToMany(cascade = CascadeType.ALL, orphanRemoval = true, fetch = FetchType.EAGER, mappedBy = &quot;ownerObject&quot;)\r\n    private List&lt;Room&gt; rooms = new ArrayList&lt;&gt;();\r\n \r\n    ...\r\n}\r\n```\r\n\r\nMy `Room` class doesn&#39;t have a &quot;@Version&quot; annotated field. I regard the building _and_ its rooms as logically one entity. Hence what I would like to see is that even if only a field on a room changes, the version on `Building` needs to be incremented.\r\n\r\nI think, I understand I need to use `LockModeType.OPTIMISTIC_FORCE_INCREMENT`, right? However, I do not understand **where to put that in an Spring Data JPA context**. \r\n\r\nI&#39;ve tried the following:\r\n\r\n```java\r\npublic interface BuildingRepo extends extends JpaRepository&lt;Building, UUID&gt; {\r\n\r\n    @Override\r\n    @Lock(LockModeType.OPTIMISTIC_FORCE_INCREMENT)\r\n    &lt;S extends Building&gt; S save(S entity);\r\n}\r\n```\r\n.. but it has no effect. This is possibly not so strange since the [Javadoc for @Lock](https://docs.spring.io/spring-data/jpa/docs/current/api/org/springframework/data/jpa/repository/Lock.html) seems to indicate it will only work on query-related methods. I&#39;m thinking there has to be a Spring way of doing this?\r\n\r\n","title":"JPA: incrementing version when field on related entity changes","body":"<p>I'm struggling to get my version field updated when a related entity changes. Here's my code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\npublic class Building implements Serializable {\n\n    @Id\n    private UUID id;\n\n    @Version\n    private Long version;\n\n    @OneToMany(cascade = CascadeType.ALL, orphanRemoval = true, fetch = FetchType.EAGER, mappedBy = &quot;ownerObject&quot;)\n    private List&lt;Room&gt; rooms = new ArrayList&lt;&gt;();\n \n    ...\n}\n</code></pre>\n<p>My <code>Room</code> class doesn't have a &quot;@Version&quot; annotated field. I regard the building <em>and</em> its rooms as logically one entity. Hence what I would like to see is that even if only a field on a room changes, the version on <code>Building</code> needs to be incremented.</p>\n<p>I think, I understand I need to use <code>LockModeType.OPTIMISTIC_FORCE_INCREMENT</code>, right? However, I do not understand <strong>where to put that in an Spring Data JPA context</strong>.</p>\n<p>I've tried the following:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public interface BuildingRepo extends extends JpaRepository&lt;Building, UUID&gt; {\n\n    @Override\n    @Lock(LockModeType.OPTIMISTIC_FORCE_INCREMENT)\n    &lt;S extends Building&gt; S save(S entity);\n}\n</code></pre>\n<p>.. but it has no effect. This is possibly not so strange since the <a href=\"https://docs.spring.io/spring-data/jpa/docs/current/api/org/springframework/data/jpa/repository/Lock.html\" rel=\"nofollow noreferrer\">Javadoc for @Lock</a> seems to indicate it will only work on query-related methods. I'm thinking there has to be a Spring way of doing this?</p>\n"},{"tags":["java","git","teamcity"],"owner":{"account_id":333852,"reputation":1165,"user_id":659922,"accept_rate":56,"display_name":"J.E.Y"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":8,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1699391298,"creation_date":1699391298,"question_id":77441476,"body_markdown":"I have two modules in my project, module A depends on module B, more specifically, A depends on a domain class in B. \r\n\r\nNow I added a new property to the said domain class in module B, as well as its getter/setter. I built module B on TeamCity. Then I tried to build module A on TeamCity as well. It failed, citing that the getter/setter of the said property weren&#39;t found. \r\n\r\nBoth A and B are from the same **git** feature branch, and the building happened within that branch. \r\n\r\nWhy the change in B (newly-added property and getter/setter) weren&#39;t picked up by the invoking client in module A? TeamCity 2021.2.","title":"TeamCity build: Module A depends on Module B, but failed to pick up the change in Module B","body":"<p>I have two modules in my project, module A depends on module B, more specifically, A depends on a domain class in B.</p>\n<p>Now I added a new property to the said domain class in module B, as well as its getter/setter. I built module B on TeamCity. Then I tried to build module A on TeamCity as well. It failed, citing that the getter/setter of the said property weren't found.</p>\n<p>Both A and B are from the same <strong>git</strong> feature branch, and the building happened within that branch.</p>\n<p>Why the change in B (newly-added property and getter/setter) weren't picked up by the invoking client in module A? TeamCity 2021.2.</p>\n"},{"tags":["java","image","jasper-reports"],"answers":[{"tags":[],"owner":{"account_id":5754264,"reputation":1,"user_id":4542780,"display_name":"Eddlou Pe"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1426413866,"creation_date":1426413866,"answer_id":29059405,"question_id":21128381,"body_markdown":"go to your xml and do this, the location of my image is as seen below it works for me thanks\r\n\r\nimageExpression&gt;![CDATA[&quot;src\\\\Forms\\\\leaf_banner_gray.png","title":"Getting net.sf.jasperreports.engine.JRException: Byte data not found at location when pass java.awt.Image as parameter","body":"<p>go to your xml and do this, the location of my image is as seen below it works for me thanks</p>\n\n<p>imageExpression>![CDATA[\"src\\Forms\\leaf_banner_gray.png</p>\n"},{"tags":[],"owner":{"account_id":2479831,"reputation":1430,"user_id":2159525,"accept_rate":50,"display_name":"Nallamachu"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686300433,"creation_date":1686300433,"answer_id":76438662,"question_id":21128381,"body_markdown":"The below line of code working fine when I do preview of the PDF from JasperStudio but not while creating PDF from Java.\r\n```\r\n&lt;imageExpression&gt;![CDATA[&quot;src\\Forms\\leaf_banner_gray.png&quot;]]&lt;/imageExpression&gt;\r\n```\r\n\r\nFinally, we found the solution.\r\n```\r\n//declared a property leafBanner of type InputStream\r\n&lt;parameter name=&quot;leafBanner&quot; class=&quot;java.io.InputStream&quot;/&gt;\r\n//leafBanner property has been used below\r\n&lt;imageExpression&gt;![CDATA[$P{leafBanner}]]&lt;/imageExpression&gt;\r\n```\r\nBelow is the code to pass image as stream from Java.\r\n```\r\nMap&lt;String, Object&gt; params = new HashMap&lt;&gt;();\r\nFile leafBanner= ResourceUtils.getFile(&quot;src//main//resources//images//leafBanner.PNG&quot;);\r\nFileInputStream leafBannerStream = new FileInputStream(leafBanner);\r\nparams.put(&quot;leafBanner&quot;, leafBannerStream);\r\n```\r\n","title":"Getting net.sf.jasperreports.engine.JRException: Byte data not found at location when pass java.awt.Image as parameter","body":"<p>The below line of code working fine when I do preview of the PDF from JasperStudio but not while creating PDF from Java.</p>\n<pre><code>&lt;imageExpression&gt;![CDATA[&quot;src\\Forms\\leaf_banner_gray.png&quot;]]&lt;/imageExpression&gt;\n</code></pre>\n<p>Finally, we found the solution.</p>\n<pre><code>//declared a property leafBanner of type InputStream\n&lt;parameter name=&quot;leafBanner&quot; class=&quot;java.io.InputStream&quot;/&gt;\n//leafBanner property has been used below\n&lt;imageExpression&gt;![CDATA[$P{leafBanner}]]&lt;/imageExpression&gt;\n</code></pre>\n<p>Below is the code to pass image as stream from Java.</p>\n<pre><code>Map&lt;String, Object&gt; params = new HashMap&lt;&gt;();\nFile leafBanner= ResourceUtils.getFile(&quot;src//main//resources//images//leafBanner.PNG&quot;);\nFileInputStream leafBannerStream = new FileInputStream(leafBanner);\nparams.put(&quot;leafBanner&quot;, leafBannerStream);\n</code></pre>\n"}],"owner":{"account_id":3022288,"reputation":367,"user_id":2563020,"accept_rate":44,"display_name":"Roshana"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":8241,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1699391180,"creation_date":1389755079,"question_id":21128381,"body_markdown":"I get the exception above when I try to display an image chosen from *JFileChooser* for passing to *JasperReports* report, can anyone please help me to figure out it?\r\n\r\nThe steps I followed are:\r\n\r\n 1. added a  parameter named photo via report inspector and set its parameter class to Object \r\n 2. dragged and dropped an image from the palette and gave its expression class as *java.awt.Image* and *Image Expression* to `$P{photo}`\r\n\r\nThis is the image element in .jrxml file\r\n\r\n&lt;!-- language: lang-xml --&gt;\r\n\r\n    &lt;image&gt;\r\n       &lt;reportElement x=&quot;315&quot; y=&quot;0&quot; width=&quot;195&quot; height=&quot;77&quot; uuid=&quot;59390988-25fc-4d62-80c4-bc19b80b0fa0&quot;/&gt;\r\n       &lt;imageExpression&gt;&lt;![CDATA[$P{photo}]]&gt;&lt;/imageExpression&gt;\r\n    &lt;/image&gt;\r\n\r\n\r\nThese are the code examples i referred and used to generate the report. \r\n    \r\n\tImage photo;\r\n\tJFileChooser fc = new JFileChooser();\r\n\r\n\tprivate void getPicture() {\r\n\t\tfc.setFileFilter(new FileNameExtensionFilter(&quot;Images&quot;, &quot;jpg&quot;, &quot;gif&quot;, &quot;bmp&quot;));\r\n\t\tif (fc.showOpenDialog(this) == JFileChooser.APPROVE_OPTION) {\r\n\t\t\tfc.setCurrentDirectory(fc.getCurrentDirectory());\r\n\r\n\t\t\tImageIcon icon = new ImageIcon(fc.getSelectedFile().getAbsolutePath());\r\n\t\t\ticon = new ImageIcon(icon.getImage().getScaledInstance(350, 350, Image.SCALE_DEFAULT));\r\n\t\t\tphoto = icon.getImage();\r\n\t\t}\r\n\r\n\t\tif (photo == null) {\r\n\t\t\tSystem.out.println(&quot;null&quot;);\r\n\t\t}\r\n\r\n\t\tSystem.out.println(&quot;path= &quot; + fc.getSelectedFile().getAbsolutePath());\r\n\t\tMap&lt;String, Object&gt; param = new HashMap&lt;String, Object&gt;();\r\n\t\tparam.put(&quot;photo&quot;, photo);\r\n\r\n\t\tgenerateReports(param);\r\n\t}\r\n\r\n\r\n\tprivate void generateReports(Map param) {\r\n\t\ttry {\r\n\r\n\t\t\tString source = &quot;C:\\\\newReport.jrxml&quot;;\r\n\r\n\t\t\tif (new File(source).exists() == false) {\r\n\t\t\t\tSystem.out.println(&quot;Please  report Source does not exist&quot;);\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tJasperReport jasperReport = JasperCompileManager.compileReport(source);\r\n\t\t\tJasperPrint jasperPrint = JasperFillManager.fillReport(jasperReport, param, new JREmptyDataSource());\r\n\t\t\tJasperViewer.viewReport(jasperPrint, false);\r\n\t\t} catch (Exception e) {\r\n\t\t\tSystem.out.println(&quot;reports Error &quot; + e.toString());\r\n\t\t}\r\n\t}","title":"Getting net.sf.jasperreports.engine.JRException: Byte data not found at location when pass java.awt.Image as parameter","body":"<p>I get the exception above when I try to display an image chosen from <em>JFileChooser</em> for passing to <em>JasperReports</em> report, can anyone please help me to figure out it?</p>\n\n<p>The steps I followed are:</p>\n\n<ol>\n<li>added a  parameter named photo via report inspector and set its parameter class to Object </li>\n<li>dragged and dropped an image from the palette and gave its expression class as <em>java.awt.Image</em> and <em>Image Expression</em> to <code>$P{photo}</code></li>\n</ol>\n\n<p>This is the image element in .jrxml file</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;image&gt;\n   &lt;reportElement x=\"315\" y=\"0\" width=\"195\" height=\"77\" uuid=\"59390988-25fc-4d62-80c4-bc19b80b0fa0\"/&gt;\n   &lt;imageExpression&gt;&lt;![CDATA[$P{photo}]]&gt;&lt;/imageExpression&gt;\n&lt;/image&gt;\n</code></pre>\n\n<p>These are the code examples i referred and used to generate the report. </p>\n\n<pre><code>Image photo;\nJFileChooser fc = new JFileChooser();\n\nprivate void getPicture() {\n    fc.setFileFilter(new FileNameExtensionFilter(\"Images\", \"jpg\", \"gif\", \"bmp\"));\n    if (fc.showOpenDialog(this) == JFileChooser.APPROVE_OPTION) {\n        fc.setCurrentDirectory(fc.getCurrentDirectory());\n\n        ImageIcon icon = new ImageIcon(fc.getSelectedFile().getAbsolutePath());\n        icon = new ImageIcon(icon.getImage().getScaledInstance(350, 350, Image.SCALE_DEFAULT));\n        photo = icon.getImage();\n    }\n\n    if (photo == null) {\n        System.out.println(\"null\");\n    }\n\n    System.out.println(\"path= \" + fc.getSelectedFile().getAbsolutePath());\n    Map&lt;String, Object&gt; param = new HashMap&lt;String, Object&gt;();\n    param.put(\"photo\", photo);\n\n    generateReports(param);\n}\n\n\nprivate void generateReports(Map param) {\n    try {\n\n        String source = \"C:\\\\newReport.jrxml\";\n\n        if (new File(source).exists() == false) {\n            System.out.println(\"Please  report Source does not exist\");\n            return;\n        }\n\n        JasperReport jasperReport = JasperCompileManager.compileReport(source);\n        JasperPrint jasperPrint = JasperFillManager.fillReport(jasperReport, param, new JREmptyDataSource());\n        JasperViewer.viewReport(jasperPrint, false);\n    } catch (Exception e) {\n        System.out.println(\"reports Error \" + e.toString());\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1699354195,"post_id":77437565,"comment_id":136518293,"body_markdown":"It&#39;s an `EOFException`. I doubt it has to do with the file type. More likely it&#39;s the file size or some in-between network configuration that decides to drop the connection.","body":"It&#39;s an <code>EOFException</code>. I doubt it has to do with the file type. More likely it&#39;s the file size or some in-between network configuration that decides to drop the connection."},{"owner":{"account_id":3607248,"reputation":71,"user_id":3009150,"display_name":"Arun Duraisamy"},"score":0,"creation_date":1699377134,"post_id":77437565,"comment_id":136522930,"body_markdown":"1) Check out the timeout configuration in angular http.post\n2) Make sure you have not already consumed the file stream.","body":"1) Check out the timeout configuration in angular http.post 2) Make sure you have not already consumed the file stream."},{"owner":{"account_id":23197145,"reputation":89,"user_id":17292614,"display_name":"Davido"},"score":0,"creation_date":1699390861,"post_id":77437565,"comment_id":136525105,"body_markdown":"You are right, I tried to upload a smaller JPG image and it worked. I am trying multiple things on my application.properties and it is not working","body":"You are right, I tried to upload a smaller JPG image and it worked. I am trying multiple things on my application.properties and it is not working"}],"answers":[{"tags":[],"owner":{"account_id":9591005,"reputation":53,"user_id":7121896,"display_name":"Mattyas yahya"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699357243,"creation_date":1699357243,"answer_id":77437926,"question_id":77437565,"body_markdown":"EOF errors are usually due to file size, check the upload file size limitations in your application. Make sure this limit fits your application&#39;s needs","title":"Spring boot application not accepting large image files as Multipartfile","body":"<p>EOF errors are usually due to file size, check the upload file size limitations in your application. Make sure this limit fits your application's needs</p>\n"}],"owner":{"account_id":23197145,"reputation":89,"user_id":17292614,"display_name":"Davido"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1699391005,"creation_date":1699354036,"question_id":77437565,"body_markdown":"I have setup a controller POST function to accept 2 object, 1 normal object/JSON, and an image file. When submitting a FormData object from my Angular application it will send a POST request to my Spring application, when selecting an image file of about 1 MB it would work as expected, but when sending a imagine file of about 3-4 MB the application would throw an exception. But, I have this ```spring.servlet.multipart.max-file-size=10MB``` on my application.properties. I also leave my CORS configuration below:\r\n\r\n\r\nPost function:\r\n```\r\n    @PostMapping(&quot;/post&quot;)\r\n    public void postPicture(@RequestPart(&quot;pictureDetails&quot;) PictureDetailsDto picturePostDto,\r\n                            @RequestPart(&quot;inpFile&quot;) MultipartFile image,\r\n                            HttpServletRequest request) {\r\n        pictureService.postPicture(picturePostDto, image, request);\r\n    }\r\n```\r\n\r\nAngular HttpClient function:\r\n```\r\n  postPicture(picturePostDto: PicturePostDto, pictureImage: File | null) {\r\n    const formData = new FormData();\r\n\r\n    const picturePart = new Blob([JSON.stringify(picturePostDto)], {\r\n      type: &#39;application/json&#39;,\r\n    });\r\n    formData.append(&#39;pictureDetails&#39;, picturePart);\r\n\r\n    if (pictureImage != null) {\r\n      formData.append(&#39;inpFile&#39;, pictureImage)\r\n    }\r\n\r\n    const options = {\r\n      withCredentials: true, // Include cookies in the request\r\n    };\r\n\r\n    return this.http.post&lt;any&gt;(`${this.apiUrl}/picture/post`, formData, options);\r\n  }\r\n```\r\n\r\nCorsConfiguration beam:\r\n```\r\n    @Bean\r\n    CorsConfigurationSource corsConfigurationSource() {\r\n        CorsConfiguration configuration = new CorsConfiguration();\r\n        configuration.setAllowedOrigins(List.of(&quot;http://localhost:4200&quot;));\r\n        configuration.setAllowCredentials(true);\r\n        configuration.setAllowedMethods(List.of(&quot;GET&quot;, &quot;POST&quot;));\r\n        configuration.setAllowedHeaders(List.of(&quot;Content-Type&quot;));\r\n        UrlBasedCorsConfigurationSource source = new UrlBasedCorsConfigurationSource();\r\n        source.registerCorsConfiguration(&quot;/**&quot;, configuration);\r\n        return source;\r\n    }\r\n```\r\n\r\nException:\r\n```\r\njava.io.EOFException: null\r\n\tat org.apache.tomcat.util.net.NioEndpoint$NioSocketWrapper.fillReadBuffer(NioEndpoint.java:1272) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\r\n\tat org.apache.tomcat.util.net.NioEndpoint$NioSocketWrapper.read(NioEndpoint.java:1184) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\r\n\tat org.apache.coyote.http11.Http11InputBuffer.fill(Http11InputBuffer.java:785) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\r\n\tat org.apache.coyote.http11.Http11InputBuffer$SocketInputBuffer.doRead(Http11InputBuffer.java:1179) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\r\n\tat org.apache.coyote.http11.filters.IdentityInputFilter.doRead(IdentityInputFilter.java:97) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\r\n\tat org.apache.coyote.http11.Http11InputBuffer.doRead(Http11InputBuffer.java:244) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\r\n\tat org.apache.coyote.Request.doRead(Request.java:635) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\r\n\tat org.apache.catalina.connector.InputBuffer.realReadBytes(InputBuffer.java:313) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\r\n\tat org.apache.catalina.connector.InputBuffer.checkByteBufferEof(InputBuffer.java:596) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\r\n\tat org.apache.catalina.connector.InputBuffer.read(InputBuffer.java:336) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\r\n\tat org.apache.catalina.connector.CoyoteInputStream.read(CoyoteInputStream.java:131) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\r\n\tat java.base/java.io.FilterInputStream.read(FilterInputStream.java:132) ~[na:na]\r\n\tat org.apache.tomcat.util.http.fileupload.util.LimitedInputStream.read(LimitedInputStream.java:132) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\r\n\tat org.apache.tomcat.util.http.fileupload.MultipartStream$ItemInputStream.makeAvailable(MultipartStream.java:954) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\r\n\tat org.apache.tomcat.util.http.fileupload.MultipartStream$ItemInputStream.read(MultipartStream.java:858) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\r\n\tat java.base/java.io.FilterInputStream.read(FilterInputStream.java:132) ~[na:na]\r\n\tat org.apache.tomcat.util.http.fileupload.util.LimitedInputStream.read(LimitedInputStream.java:132) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\r\n\tat java.base/java.io.FilterInputStream.read(FilterInputStream.java:106) ~[na:na]\r\n\tat org.apache.tomcat.util.http.fileupload.util.Streams.copy(Streams.java:96) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\r\n\tat org.apache.tomcat.util.http.fileupload.FileUploadBase.parseRequest(FileUploadBase.java:292) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\r\n\tat org.apache.catalina.connector.Request.parseParts(Request.java:2790) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\r\n\tat org.apache.catalina.connector.Request.getParts(Request.java:2691) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\r\n\tat org.apache.catalina.connector.RequestFacade.getParts(RequestFacade.java:774) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\r\n\tat jakarta.servlet.http.HttpServletRequestWrapper.getParts(HttpServletRequestWrapper.java:315) ~[tomcat-embed-core-10.1.7.jar:6.0]\r\n\tat jakarta.servlet.http.HttpServletRequestWrapper.getParts(HttpServletRequestWrapper.java:315) ~[tomcat-embed-core-10.1.7.jar:6.0]\r\n\tat jakarta.servlet.http.HttpServletRequestWrapper.getParts(HttpServletRequestWrapper.java:315) ~[tomcat-embed-core-10.1.7.jar:6.0]\r\n\tat org.springframework.web.multipart.support.StandardMultipartHttpServletRequest.parseRequest(StandardMultipartHttpServletRequest.java:93) ~[spring-web-6.0.7.jar:6.0.7]\r\n\tat org.springframework.web.multipart.support.StandardMultipartHttpServletRequest.&lt;init&gt;(StandardMultipartHttpServletRequest.java:86) ~[spring-web-6.0.7.jar:6.0.7]\r\n\tat org.springframework.web.multipart.support.StandardServletMultipartResolver.resolveMultipart(StandardServletMultipartResolver.java:112) ~[spring-web-6.0.7.jar:6.0.7]\r\n\tat org.springframework.web.servlet.DispatcherServlet.checkMultipart(DispatcherServlet.java:1219) ~[spring-webmvc-6.0.7.jar:6.0.7]\r\n\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1053) ~[spring-webmvc-6.0.7.jar:6.0.7]\r\n\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:974) ~[spring-webmvc-6.0.7.jar:6.0.7]\r\n\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1011) ~[spring-webmvc-6.0.7.jar:6.0.7]\r\n\tat org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914) ~[spring-webmvc-6.0.7.jar:6.0.7]\r\n\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:563) ~[tomcat-embed-core-10.1.7.jar:6.0]\r\n\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.0.7.jar:6.0.7]\r\n\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:631) ~[tomcat-embed-core-10.1.7.jar:6.0]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\r\n\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-10.1.7.jar:10.1.7]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110) ~[spring-web-6.0.7.jar:6.0.7]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\r\n\tat org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231) ~[spring-security-web-6.0.2.jar:6.0.2]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365) ~[spring-security-web-6.0.2.jar:6.0.2]\r\n\tat org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100) ~[spring-security-web-6.0.2.jar:6.0.2]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.2.jar:6.0.2]\r\n\tat org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126) ~[spring-security-web-6.0.2.jar:6.0.2]\r\n\tat org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120) ~[spring-security-web-6.0.2.jar:6.0.2]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.2.jar:6.0.2]\r\n\tat org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131) ~[spring-security-web-6.0.2.jar:6.0.2]\r\n\tat org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85) ~[spring-security-web-6.0.2.jar:6.0.2]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.2.jar:6.0.2]\r\n\tat org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.0.2.jar:6.0.2]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.2.jar:6.0.2]\r\n\tat org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.0.2.jar:6.0.2]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.2.jar:6.0.2]\r\n\tat org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.0.2.jar:6.0.2]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.2.jar:6.0.2]\r\n\tat com.david.caterest.config.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:62) ~[classes/:na]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.7.jar:6.0.7]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.2.jar:6.0.2]\r\n\tat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.0.2.jar:6.0.2]\r\n\tat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.0.2.jar:6.0.2]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.2.jar:6.0.2]\r\n\tat org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91) ~[spring-web-6.0.7.jar:6.0.7]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.7.jar:6.0.7]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.2.jar:6.0.2]\r\n\tat org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.0.2.jar:6.0.2]\r\n\tat org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.0.2.jar:6.0.2]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.7.jar:6.0.7]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.2.jar:6.0.2]\r\n\tat org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.0.2.jar:6.0.2]\r\n\tat org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.0.2.jar:6.0.2]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.2.jar:6.0.2]\r\n\tat org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.0.2.jar:6.0.2]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.7.jar:6.0.7]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.2.jar:6.0.2]\r\n\tat org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.0.2.jar:6.0.2]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.7.jar:6.0.7]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.2.jar:6.0.2]\r\n\tat org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.0.2.jar:6.0.2]\r\n\tat org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.0.2.jar:6.0.2]\r\n\tat org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352) ~[spring-web-6.0.7.jar:6.0.7]\r\n\tat org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268) ~[spring-web-6.0.7.jar:6.0.7]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\r\n\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.0.7.jar:6.0.7]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.7.jar:6.0.7]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\r\n\tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.0.7.jar:6.0.7]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.7.jar:6.0.7]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\r\n\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.0.7.jar:6.0.7]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.7.jar:6.0.7]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\r\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:166) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\r\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\r\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:493) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\r\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\r\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\r\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\r\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:341) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\r\n\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\r\n\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\r\n\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:894) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\r\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\r\n\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\r\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\r\n\tat java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]\r\n```","title":"Spring boot application not accepting large image files as Multipartfile","body":"<p>I have setup a controller POST function to accept 2 object, 1 normal object/JSON, and an image file. When submitting a FormData object from my Angular application it will send a POST request to my Spring application, when selecting an image file of about 1 MB it would work as expected, but when sending a imagine file of about 3-4 MB the application would throw an exception. But, I have this <code>spring.servlet.multipart.max-file-size=10MB</code> on my application.properties. I also leave my CORS configuration below:</p>\n<p>Post function:</p>\n<pre><code>    @PostMapping(&quot;/post&quot;)\n    public void postPicture(@RequestPart(&quot;pictureDetails&quot;) PictureDetailsDto picturePostDto,\n                            @RequestPart(&quot;inpFile&quot;) MultipartFile image,\n                            HttpServletRequest request) {\n        pictureService.postPicture(picturePostDto, image, request);\n    }\n</code></pre>\n<p>Angular HttpClient function:</p>\n<pre><code>  postPicture(picturePostDto: PicturePostDto, pictureImage: File | null) {\n    const formData = new FormData();\n\n    const picturePart = new Blob([JSON.stringify(picturePostDto)], {\n      type: 'application/json',\n    });\n    formData.append('pictureDetails', picturePart);\n\n    if (pictureImage != null) {\n      formData.append('inpFile', pictureImage)\n    }\n\n    const options = {\n      withCredentials: true, // Include cookies in the request\n    };\n\n    return this.http.post&lt;any&gt;(`${this.apiUrl}/picture/post`, formData, options);\n  }\n</code></pre>\n<p>CorsConfiguration beam:</p>\n<pre><code>    @Bean\n    CorsConfigurationSource corsConfigurationSource() {\n        CorsConfiguration configuration = new CorsConfiguration();\n        configuration.setAllowedOrigins(List.of(&quot;http://localhost:4200&quot;));\n        configuration.setAllowCredentials(true);\n        configuration.setAllowedMethods(List.of(&quot;GET&quot;, &quot;POST&quot;));\n        configuration.setAllowedHeaders(List.of(&quot;Content-Type&quot;));\n        UrlBasedCorsConfigurationSource source = new UrlBasedCorsConfigurationSource();\n        source.registerCorsConfiguration(&quot;/**&quot;, configuration);\n        return source;\n    }\n</code></pre>\n<p>Exception:</p>\n<pre><code>java.io.EOFException: null\n    at org.apache.tomcat.util.net.NioEndpoint$NioSocketWrapper.fillReadBuffer(NioEndpoint.java:1272) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\n    at org.apache.tomcat.util.net.NioEndpoint$NioSocketWrapper.read(NioEndpoint.java:1184) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\n    at org.apache.coyote.http11.Http11InputBuffer.fill(Http11InputBuffer.java:785) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\n    at org.apache.coyote.http11.Http11InputBuffer$SocketInputBuffer.doRead(Http11InputBuffer.java:1179) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\n    at org.apache.coyote.http11.filters.IdentityInputFilter.doRead(IdentityInputFilter.java:97) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\n    at org.apache.coyote.http11.Http11InputBuffer.doRead(Http11InputBuffer.java:244) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\n    at org.apache.coyote.Request.doRead(Request.java:635) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\n    at org.apache.catalina.connector.InputBuffer.realReadBytes(InputBuffer.java:313) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\n    at org.apache.catalina.connector.InputBuffer.checkByteBufferEof(InputBuffer.java:596) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\n    at org.apache.catalina.connector.InputBuffer.read(InputBuffer.java:336) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\n    at org.apache.catalina.connector.CoyoteInputStream.read(CoyoteInputStream.java:131) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\n    at java.base/java.io.FilterInputStream.read(FilterInputStream.java:132) ~[na:na]\n    at org.apache.tomcat.util.http.fileupload.util.LimitedInputStream.read(LimitedInputStream.java:132) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\n    at org.apache.tomcat.util.http.fileupload.MultipartStream$ItemInputStream.makeAvailable(MultipartStream.java:954) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\n    at org.apache.tomcat.util.http.fileupload.MultipartStream$ItemInputStream.read(MultipartStream.java:858) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\n    at java.base/java.io.FilterInputStream.read(FilterInputStream.java:132) ~[na:na]\n    at org.apache.tomcat.util.http.fileupload.util.LimitedInputStream.read(LimitedInputStream.java:132) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\n    at java.base/java.io.FilterInputStream.read(FilterInputStream.java:106) ~[na:na]\n    at org.apache.tomcat.util.http.fileupload.util.Streams.copy(Streams.java:96) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\n    at org.apache.tomcat.util.http.fileupload.FileUploadBase.parseRequest(FileUploadBase.java:292) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\n    at org.apache.catalina.connector.Request.parseParts(Request.java:2790) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\n    at org.apache.catalina.connector.Request.getParts(Request.java:2691) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\n    at org.apache.catalina.connector.RequestFacade.getParts(RequestFacade.java:774) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\n    at jakarta.servlet.http.HttpServletRequestWrapper.getParts(HttpServletRequestWrapper.java:315) ~[tomcat-embed-core-10.1.7.jar:6.0]\n    at jakarta.servlet.http.HttpServletRequestWrapper.getParts(HttpServletRequestWrapper.java:315) ~[tomcat-embed-core-10.1.7.jar:6.0]\n    at jakarta.servlet.http.HttpServletRequestWrapper.getParts(HttpServletRequestWrapper.java:315) ~[tomcat-embed-core-10.1.7.jar:6.0]\n    at org.springframework.web.multipart.support.StandardMultipartHttpServletRequest.parseRequest(StandardMultipartHttpServletRequest.java:93) ~[spring-web-6.0.7.jar:6.0.7]\n    at org.springframework.web.multipart.support.StandardMultipartHttpServletRequest.&lt;init&gt;(StandardMultipartHttpServletRequest.java:86) ~[spring-web-6.0.7.jar:6.0.7]\n    at org.springframework.web.multipart.support.StandardServletMultipartResolver.resolveMultipart(StandardServletMultipartResolver.java:112) ~[spring-web-6.0.7.jar:6.0.7]\n    at org.springframework.web.servlet.DispatcherServlet.checkMultipart(DispatcherServlet.java:1219) ~[spring-webmvc-6.0.7.jar:6.0.7]\n    at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1053) ~[spring-webmvc-6.0.7.jar:6.0.7]\n    at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:974) ~[spring-webmvc-6.0.7.jar:6.0.7]\n    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1011) ~[spring-webmvc-6.0.7.jar:6.0.7]\n    at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914) ~[spring-webmvc-6.0.7.jar:6.0.7]\n    at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:563) ~[tomcat-embed-core-10.1.7.jar:6.0]\n    at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.0.7.jar:6.0.7]\n    at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:631) ~[tomcat-embed-core-10.1.7.jar:6.0]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\n    at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-10.1.7.jar:10.1.7]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110) ~[spring-web-6.0.7.jar:6.0.7]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\n    at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231) ~[spring-security-web-6.0.2.jar:6.0.2]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365) ~[spring-security-web-6.0.2.jar:6.0.2]\n    at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100) ~[spring-security-web-6.0.2.jar:6.0.2]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.2.jar:6.0.2]\n    at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126) ~[spring-security-web-6.0.2.jar:6.0.2]\n    at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120) ~[spring-security-web-6.0.2.jar:6.0.2]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.2.jar:6.0.2]\n    at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131) ~[spring-security-web-6.0.2.jar:6.0.2]\n    at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85) ~[spring-security-web-6.0.2.jar:6.0.2]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.2.jar:6.0.2]\n    at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.0.2.jar:6.0.2]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.2.jar:6.0.2]\n    at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.0.2.jar:6.0.2]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.2.jar:6.0.2]\n    at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.0.2.jar:6.0.2]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.2.jar:6.0.2]\n    at com.david.caterest.config.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:62) ~[classes/:na]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.7.jar:6.0.7]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.2.jar:6.0.2]\n    at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.0.2.jar:6.0.2]\n    at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.0.2.jar:6.0.2]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.2.jar:6.0.2]\n    at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91) ~[spring-web-6.0.7.jar:6.0.7]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.7.jar:6.0.7]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.2.jar:6.0.2]\n    at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.0.2.jar:6.0.2]\n    at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.0.2.jar:6.0.2]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.7.jar:6.0.7]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.2.jar:6.0.2]\n    at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.0.2.jar:6.0.2]\n    at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.0.2.jar:6.0.2]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.2.jar:6.0.2]\n    at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.0.2.jar:6.0.2]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.7.jar:6.0.7]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.2.jar:6.0.2]\n    at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.0.2.jar:6.0.2]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.7.jar:6.0.7]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.2.jar:6.0.2]\n    at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.0.2.jar:6.0.2]\n    at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.0.2.jar:6.0.2]\n    at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352) ~[spring-web-6.0.7.jar:6.0.7]\n    at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268) ~[spring-web-6.0.7.jar:6.0.7]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\n    at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.0.7.jar:6.0.7]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.7.jar:6.0.7]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\n    at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.0.7.jar:6.0.7]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.7.jar:6.0.7]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\n    at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.0.7.jar:6.0.7]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.7.jar:6.0.7]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:166) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:493) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:341) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:894) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\n    at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]\n</code></pre>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1699393224,"post_id":77441419,"comment_id":136525461,"body_markdown":"Unclear what your problem is. Unclear why you posted three on activity results. Cannot get it to work is no good error description.","body":"Unclear what your problem is. Unclear why you posted three on activity results. Cannot get it to work is no good error description."},{"owner":{"account_id":39846,"reputation":991173,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1699400153,"post_id":77441419,"comment_id":136526340,"body_markdown":"&quot;multiple activities and passing data in between these activities&quot; -- that approach has been obsolete for a while. Please consider using a single activity (or at least few, loosely coupled activities), with fragments or composables for your screens.","body":"&quot;multiple activities and passing data in between these activities&quot; -- that approach has been obsolete for a while. Please consider using a single activity (or at least few, loosely coupled activities), with fragments or composables for your screens."},{"owner":{"account_id":1849514,"reputation":193878,"user_id":1676363,"accept_rate":100,"display_name":"ianhanniballake"},"score":0,"creation_date":1699401596,"post_id":77441419,"comment_id":136526460,"body_markdown":"Is there a reason you aren&#39;t doing everything you were doing in your `onActivityResult` in the `result` lambda? The whole point of the `StartActivityForResult` contract is to give you the same results as you got in `onActivityResult` without having to override that method.","body":"Is there a reason you aren&#39;t doing everything you were doing in your <code>onActivityResult</code> in the <code>result</code> lambda? The whole point of the <code>StartActivityForResult</code> contract is to give you the same results as you got in <code>onActivityResult</code> without having to override that method."}],"owner":{"account_id":27312778,"reputation":43,"user_id":20827674,"display_name":"P47HF1ND3R"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1699390524,"creation_date":1699390524,"question_id":77441419,"body_markdown":"Im currently learning android studio and messing around with multiple activities and passing data in between these activities.\r\n\r\nThe idea is in my main activity am using activity result launcher to launch the second activity and it&#39;ll receive data back and depending on the result code I do different things with it . \r\n\r\nBefore I did it in onAcitivityResult where this is how I handled results code if it was cancelled.\r\n\r\n\r\n```\r\n@Override\r\n     public void onActivityResult(int requestCode, int resultCode, @Nullable Intent data)\r\n     {\r\n        super.onActivityResult(requestCode, resultCode, data);\r\n\r\n        if (requestCode == MY_REQUEST_CODE)\r\n        {\r\n            if (resultCode == DiceRoll.RESULT_OK)\r\n            {\r\n                TextView diceReturnResult = (TextView) findViewById(R.id.diceReturnText);\r\n                int rolled = data.getIntExtra(&quot;rolled&quot;,-1);\r\n                diceReturnResult.setText(&quot;Dice Result: You rolled &quot; + rolled);\r\n            }\r\n            else if(resultCode == DiceRoll.RESULT_CANCELED)\r\n            {\r\n                TextView diceReturnResult = (TextView) findViewById(R.id.diceReturnText);\r\n                int rolled = data.getIntExtra(&quot;rolled&quot;,-1);\r\n                diceReturnResult.setText(&quot;Dice Result: You rolled &quot; + rolled);\r\n                Log.d(&quot;MainActivity&quot;, &quot;Failed to recieve results from dice roll&quot;);\r\n                diceReturnResult.setText(&quot;Dice Result: RESULT_CANCELED&quot;);\r\n            }   \r\n        }\r\n    }\r\n```\r\n\r\n\r\nand so if I do receive result cancelled I can print it out saying that result cancelled\r\n\r\nHowever now am trying to play around with activity launcher and I cant quite get the same thing to work not sure how I should approach this \r\n\r\n```\r\n    ActivityResultLauncher&lt;Intent&gt; activityResultLauncher;\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n        activityResultLauncher = registerForActivityResult(\r\n                new ActivityResultContracts.StartActivityForResult(),\r\n                result -&gt; {\r\n                    if (result.getResultCode() == DiceRoll.RESULT_OK)\r\n                    {\r\n                        Intent data = result.getData();\r\n                        Log.d(&quot;MainActivity&quot;, &quot;recieved results from dice roll&quot;);\r\n                    }\r\n                    else if(result.getResultCode() == DiceRoll.RESULT_CANCELED)\r\n                    {\r\n                        TextView diceReturnResult = (TextView) findViewById(R.id.diceReturnText);\r\n                        int rolled = result.getData().getIntExtra(&quot;rolled&quot;,-1);\r\n                        diceReturnResult.setText(&quot;Dice Result: You rolled &quot; + rolled);\r\n                        Log.d(&quot;MainActivity&quot;, &quot;Failed to recieve results from dice roll&quot;);\r\n                        diceReturnResult.setText(&quot;Dice Result: RESULT_CANCELED&quot;);\r\n                    }\r\n                }\r\n        );\r\n    }\r\n```\r\nand thats the activity launcher that I&#39;ve done am im not sure how to print it out this time round? \r\n\r\nSeeing that Intent data = result.getData(); works by just taking in the data I tried just doing \r\nIntent data = &quot;Dice Result: RESULT_CANCELLED&quot; but I couldn&#39;t get it to work\r\n\r\nand below is my onActivityResult method that I&#39;ve changed to accommodate the Activity Launcher\r\n\r\n```\r\n@Override\r\n     public void onActivityResult(int requestCode, int resultCode, @Nullable Intent data)\r\n     {\r\n        super.onActivityResult(requestCode, resultCode, data);\r\n\r\n        TextView diceReturnResult = (TextView) findViewById(R.id.diceReturnText);\r\n        int rolled = data.getIntExtra(&quot;rolled&quot;,-1);\r\n        diceReturnResult.setText(&quot;Dice Result: You rolled &quot; + rolled);\r\n\r\n    }\r\n```\r\n","title":"Android Studio , Activity Launcher result code -&gt; Result Cancelled","body":"<p>Im currently learning android studio and messing around with multiple activities and passing data in between these activities.</p>\n<p>The idea is in my main activity am using activity result launcher to launch the second activity and it'll receive data back and depending on the result code I do different things with it .</p>\n<p>Before I did it in onAcitivityResult where this is how I handled results code if it was cancelled.</p>\n<pre><code>@Override\n     public void onActivityResult(int requestCode, int resultCode, @Nullable Intent data)\n     {\n        super.onActivityResult(requestCode, resultCode, data);\n\n        if (requestCode == MY_REQUEST_CODE)\n        {\n            if (resultCode == DiceRoll.RESULT_OK)\n            {\n                TextView diceReturnResult = (TextView) findViewById(R.id.diceReturnText);\n                int rolled = data.getIntExtra(&quot;rolled&quot;,-1);\n                diceReturnResult.setText(&quot;Dice Result: You rolled &quot; + rolled);\n            }\n            else if(resultCode == DiceRoll.RESULT_CANCELED)\n            {\n                TextView diceReturnResult = (TextView) findViewById(R.id.diceReturnText);\n                int rolled = data.getIntExtra(&quot;rolled&quot;,-1);\n                diceReturnResult.setText(&quot;Dice Result: You rolled &quot; + rolled);\n                Log.d(&quot;MainActivity&quot;, &quot;Failed to recieve results from dice roll&quot;);\n                diceReturnResult.setText(&quot;Dice Result: RESULT_CANCELED&quot;);\n            }   \n        }\n    }\n</code></pre>\n<p>and so if I do receive result cancelled I can print it out saying that result cancelled</p>\n<p>However now am trying to play around with activity launcher and I cant quite get the same thing to work not sure how I should approach this</p>\n<pre><code>    ActivityResultLauncher&lt;Intent&gt; activityResultLauncher;\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n        activityResultLauncher = registerForActivityResult(\n                new ActivityResultContracts.StartActivityForResult(),\n                result -&gt; {\n                    if (result.getResultCode() == DiceRoll.RESULT_OK)\n                    {\n                        Intent data = result.getData();\n                        Log.d(&quot;MainActivity&quot;, &quot;recieved results from dice roll&quot;);\n                    }\n                    else if(result.getResultCode() == DiceRoll.RESULT_CANCELED)\n                    {\n                        TextView diceReturnResult = (TextView) findViewById(R.id.diceReturnText);\n                        int rolled = result.getData().getIntExtra(&quot;rolled&quot;,-1);\n                        diceReturnResult.setText(&quot;Dice Result: You rolled &quot; + rolled);\n                        Log.d(&quot;MainActivity&quot;, &quot;Failed to recieve results from dice roll&quot;);\n                        diceReturnResult.setText(&quot;Dice Result: RESULT_CANCELED&quot;);\n                    }\n                }\n        );\n    }\n</code></pre>\n<p>and thats the activity launcher that I've done am im not sure how to print it out this time round?</p>\n<p>Seeing that Intent data = result.getData(); works by just taking in the data I tried just doing\nIntent data = &quot;Dice Result: RESULT_CANCELLED&quot; but I couldn't get it to work</p>\n<p>and below is my onActivityResult method that I've changed to accommodate the Activity Launcher</p>\n<pre><code>@Override\n     public void onActivityResult(int requestCode, int resultCode, @Nullable Intent data)\n     {\n        super.onActivityResult(requestCode, resultCode, data);\n\n        TextView diceReturnResult = (TextView) findViewById(R.id.diceReturnText);\n        int rolled = data.getIntExtra(&quot;rolled&quot;,-1);\n        diceReturnResult.setText(&quot;Dice Result: You rolled &quot; + rolled);\n\n    }\n</code></pre>\n"},{"tags":["java","spring","maven","spring-boot-maven-plugin"],"comments":[{"owner":{"account_id":12270,"reputation":4865,"user_id":24069,"accept_rate":89,"display_name":"Anthony Dahanne"},"score":0,"creation_date":1687356073,"post_id":76518465,"comment_id":134925484,"body_markdown":"what does your pom look like? As per https://spring.io/blog/2022/12/14/notice-of-permissions-changes-to-repo-spring-io-january-2023 , repo.spring.io does not serve releases anymore, so you should have an entry in your pom to get milestone releases https://github.com/spring-projects/spring-framework/wiki/Spring-Artifactory . Or can&#39;t you simply rely on released versions?","body":"what does your pom look like? As per <a href=\"https://spring.io/blog/2022/12/14/notice-of-permissions-changes-to-repo-spring-io-january-2023\" rel=\"nofollow noreferrer\">spring.io/blog/2022/12/14/&hellip;</a> , repo.spring.io does not serve releases anymore, so you should have an entry in your pom to get milestone releases <a href=\"https://github.com/spring-projects/spring-framework/wiki/Spring-Artifactory\" rel=\"nofollow noreferrer\">github.com/spring-projects/spring-framework/wiki/&hellip;</a> . Or can&#39;t you simply rely on released versions?"}],"answers":[{"tags":[],"owner":{"account_id":1886834,"reputation":528,"user_id":1705880,"accept_rate":50,"display_name":"Sparm"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699390309,"creation_date":1699390309,"answer_id":77441395,"question_id":76518465,"body_markdown":"Add this to your pom:\r\n```\r\n&lt;repositories&gt;\r\n    &lt;repository&gt;\r\n        &lt;id&gt;spring-repo-milestone&lt;/id&gt;\r\n        &lt;name&gt;Spring Repository - Milestones&lt;/name&gt;\r\n        &lt;url&gt;https://repo.spring.io/milestone&lt;/url&gt;\r\n    &lt;/repository&gt;\r\n&lt;/repositories&gt;\r\n```","title":"The following artifacts could not be resolved: org.springframework.cloud:spring-cloud-dependencies:pom:Finchley.M8","body":"<p>Add this to your pom:</p>\n<pre><code>&lt;repositories&gt;\n    &lt;repository&gt;\n        &lt;id&gt;spring-repo-milestone&lt;/id&gt;\n        &lt;name&gt;Spring Repository - Milestones&lt;/name&gt;\n        &lt;url&gt;https://repo.spring.io/milestone&lt;/url&gt;\n    &lt;/repository&gt;\n&lt;/repositories&gt;\n</code></pre>\n"}],"owner":{"account_id":28861414,"reputation":11,"user_id":22105127,"display_name":"MAHENDRA YADAV"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1133,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1699390309,"creation_date":1687296139,"question_id":76518465,"body_markdown":"I am getting below error and unable to understand the exact root cause, I have tried many things, such as I have cleaned up my `.m2` repository and rebuilt. But build is failing due to below error. And I also have reinstalled `Maven` as well and also I tried with different plugins and repositories in my `pom.xml` but still having same issue.\r\nPlease let me know solution\r\n\r\n- Error message: \r\n\r\n      Failed to read artifact descriptor for com.github.ulisesbocchio:\r\n      jasypt-spring-boot-starter:jar:2.0.0: The following artifacts could not be \r\n      resolved: org.springframework.cloud:spring-cloud-\r\n      dependencies:pom:Finchley.M8 (absent): Could not transfer artifact \r\n      org.springframework.cloud:spring-cloud-dependencies:pom:Finchley.M8 from/to \r\n      spring-releases (https://repo.spring.io/libs... status code: 401, reason phrase: (401)\r\n\r\n- I want to build my application\r\n","title":"The following artifacts could not be resolved: org.springframework.cloud:spring-cloud-dependencies:pom:Finchley.M8","body":"<p>I am getting below error and unable to understand the exact root cause, I have tried many things, such as I have cleaned up my <code>.m2</code> repository and rebuilt. But build is failing due to below error. And I also have reinstalled <code>Maven</code> as well and also I tried with different plugins and repositories in my <code>pom.xml</code> but still having same issue.\nPlease let me know solution</p>\n<ul>\n<li><p>Error message:</p>\n<pre><code>Failed to read artifact descriptor for com.github.ulisesbocchio:\njasypt-spring-boot-starter:jar:2.0.0: The following artifacts could not be \nresolved: org.springframework.cloud:spring-cloud-\ndependencies:pom:Finchley.M8 (absent): Could not transfer artifact \norg.springframework.cloud:spring-cloud-dependencies:pom:Finchley.M8 from/to \nspring-releases (https://repo.spring.io/libs... status code: 401, reason phrase: (401)\n</code></pre>\n</li>\n<li><p>I want to build my application</p>\n</li>\n</ul>\n"},{"tags":["java","android","keyboard","clipboard","paste"],"comments":[{"owner":{"account_id":39846,"reputation":991173,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1699400212,"post_id":77441390,"comment_id":136526345,"body_markdown":"That is generally not possible, for security reasons. You are welcome to explore options using an accessibility service, but you should also discuss your plans with your attorney.","body":"That is generally not possible, for security reasons. You are welcome to explore options using an accessibility service, but you should also discuss your plans with your attorney."}],"owner":{"account_id":26158298,"reputation":3,"user_id":19845254,"display_name":"Tendoskria"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1699390259,"creation_date":1699390259,"question_id":77441390,"body_markdown":"I would like to create a button which can paste a text in any text field of any application like on the Google search bar. (this button is simply an overlay and I already have it) \r\n\r\nSupposing that I already have something in the clipboard, how can the button perform a paste on any text field? \r\n\r\nLanguage: Java\r\n\r\nI have tried to simulate the keyboard but none of the code that I wrote works. \r\n\r\nThanks all! ","title":"Android : Paste on a Text Field outside of our application","body":"<p>I would like to create a button which can paste a text in any text field of any application like on the Google search bar. (this button is simply an overlay and I already have it)</p>\n<p>Supposing that I already have something in the clipboard, how can the button perform a paste on any text field?</p>\n<p>Language: Java</p>\n<p>I have tried to simulate the keyboard but none of the code that I wrote works.</p>\n<p>Thanks all!</p>\n"},{"tags":["java","android","ads","banner","ironsource"],"answers":[{"tags":[],"owner":{"account_id":9046934,"reputation":2023,"user_id":6738841,"accept_rate":60,"display_name":"Pranoy Sarkar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646070521,"creation_date":1646070521,"answer_id":71299012,"question_id":69653298,"body_markdown":"\r\nIf you are moving back and forth form one activity to another than you have to destroy the banner, always destroy banner before loading a new banner, \r\n\r\nso while going form activity A to B  destroy banner in A than go to B and load the  in B.\r\n\r\n      IronSource.destroyBanner(banner);\r\n\r\nand while coming back form B to A than also destroy in B and again reload the banner in A\r\n\r\n\r\nyou can use onBackPressed to destroy the banner \r\n\r\n```   @Override\r\n    public void onBackPressed() {\r\n        super.onBackPressed();\r\n        IronSource.destroyBanner(banner);\r\n        finish();\r\n    }\r\n```\r\nIf there is a backbutton on nav bar\r\n \r\n\r\n    @Override\r\n        public boolean onOptionsItemSelected(MenuItem item) {\r\n            if (item.getItemId() == android.R.id.home) {\r\n                IronSource.destroyBanner(banner);\r\n                finish();\r\n                return true;\r\n            }\r\n            return super.onOptionsItemSelected(item);\r\n        }\r\n\r\n\r\nthis may vary in your case `android.R.id.home` \r\n","title":"Ironsource Banner Only Showing In main Activity and in other activities after implementation not showing","body":"<p>If you are moving back and forth form one activity to another than you have to destroy the banner, always destroy banner before loading a new banner,</p>\n<p>so while going form activity A to B  destroy banner in A than go to B and load the  in B.</p>\n<pre><code>  IronSource.destroyBanner(banner);\n</code></pre>\n<p>and while coming back form B to A than also destroy in B and again reload the banner in A</p>\n<p>you can use onBackPressed to destroy the banner</p>\n<pre><code>    public void onBackPressed() {\n        super.onBackPressed();\n        IronSource.destroyBanner(banner);\n        finish();\n    }\n</code></pre>\n<p>If there is a backbutton on nav bar</p>\n<pre><code>@Override\n    public boolean onOptionsItemSelected(MenuItem item) {\n        if (item.getItemId() == android.R.id.home) {\n            IronSource.destroyBanner(banner);\n            finish();\n            return true;\n        }\n        return super.onOptionsItemSelected(item);\n    }\n</code></pre>\n<p>this may vary in your case <code>android.R.id.home</code></p>\n"},{"tags":[],"owner":{"account_id":10101363,"reputation":1,"user_id":7465395,"display_name":"Amine xp"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699389956,"creation_date":1699389956,"answer_id":77441361,"question_id":69653298,"body_markdown":"When starting a new activity call IronSource.destroyBanner(banner);\r\n- In mainActivity override OnResume and add if(banner.isDestroyed()) Like this:\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    protected void onResume() {\r\n            super.onResume();\r\n            IronSource.onResume(this);\r\n            if(banner.isDestroyed())\r\n                SecondBannerInit();\r\n        }\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n- SecondBannerInit:\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n     private void SecondBannerInit(){\r\n\r\n            banner = IronSource.createBanner(MainActivity.this, ISBannerSize.BANNER);\r\n            bannerContainer.addView(banner, 0);\r\n\r\n            IronSource.loadBanner(banner);\r\n            banner.setLevelPlayBannerListener(new LevelPlayBannerListener() {\r\n                // Invoked each time a banner was loaded. Either on refresh, or manual load.\r\n                //  AdInfo parameter includes information about the loaded ad\r\n                @Override\r\n                public void onAdLoaded(AdInfo adInfo) {Log.d(TAG, &quot;Banner Ad Loaded&quot;);}\r\n                // Invoked when the banner loading process has failed.\r\n                //  This callback will be sent both for manual load and refreshed banner failures.\r\n                @Override\r\n                public void onAdLoadFailed(IronSourceError error) {Log.d(TAG, &quot;Banner Ad Failed &quot; + error.toString());}\r\n                // Invoked when end user clicks on the banner ad\r\n                @Override\r\n                public void onAdClicked(AdInfo adInfo) {}\r\n                // Notifies the presentation of a full screen content following user click\r\n                @Override\r\n                public void onAdScreenPresented(AdInfo adInfo) {}\r\n                // Notifies the presented screen has been dismissed\r\n                @Override\r\n                public void onAdScreenDismissed(AdInfo adInfo) {}\r\n                //Invoked when the user left the app\r\n                @Override\r\n                public void onAdLeftApplication(AdInfo adInfo) {}\r\n\r\n            });\r\n        }\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\ndon&#39;t forget to override OnBackPressed() Method in the SecondActivity and Destroy the banner.\r\n\r\nHappy Coding.","title":"Ironsource Banner Only Showing In main Activity and in other activities after implementation not showing","body":"<p>When starting a new activity call IronSource.destroyBanner(banner);</p>\n<ul>\n<li>In mainActivity override OnResume and add if(banner.isDestroyed()) Like this:</li>\n</ul>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>protected void onResume() {\n        super.onResume();\n        IronSource.onResume(this);\n        if(banner.isDestroyed())\n            SecondBannerInit();\n    }</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<ul>\n<li>SecondBannerInit:</li>\n</ul>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code> private void SecondBannerInit(){\n\n        banner = IronSource.createBanner(MainActivity.this, ISBannerSize.BANNER);\n        bannerContainer.addView(banner, 0);\n\n        IronSource.loadBanner(banner);\n        banner.setLevelPlayBannerListener(new LevelPlayBannerListener() {\n            // Invoked each time a banner was loaded. Either on refresh, or manual load.\n            //  AdInfo parameter includes information about the loaded ad\n            @Override\n            public void onAdLoaded(AdInfo adInfo) {Log.d(TAG, \"Banner Ad Loaded\");}\n            // Invoked when the banner loading process has failed.\n            //  This callback will be sent both for manual load and refreshed banner failures.\n            @Override\n            public void onAdLoadFailed(IronSourceError error) {Log.d(TAG, \"Banner Ad Failed \" + error.toString());}\n            // Invoked when end user clicks on the banner ad\n            @Override\n            public void onAdClicked(AdInfo adInfo) {}\n            // Notifies the presentation of a full screen content following user click\n            @Override\n            public void onAdScreenPresented(AdInfo adInfo) {}\n            // Notifies the presented screen has been dismissed\n            @Override\n            public void onAdScreenDismissed(AdInfo adInfo) {}\n            //Invoked when the user left the app\n            @Override\n            public void onAdLeftApplication(AdInfo adInfo) {}\n\n        });\n    }</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p>don't forget to override OnBackPressed() Method in the SecondActivity and Destroy the banner.</p>\n<p>Happy Coding.</p>\n"}],"owner":{"account_id":22686293,"reputation":1,"user_id":16855860,"display_name":"Ejaz Malik"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2221,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1699389956,"creation_date":1634765664,"question_id":69653298,"body_markdown":"I have Implemented *Ironsouce* banner in all activity with below method but its only work in main activity and in other activities show error message \r\n\r\n&#160;API: Multiple calls to *init* without ad units are not allowed\r\n&#160;API: L a - can&#39;t load banner - *loadBanner* already called and still in progress\r\n&#160;API: L a - can&#39;t load banner - *loadBanner* already called and still in progress\r\n\r\n\r\n\r\n        IronSource.init(this, &quot;APP_ID&quot;);\r\n        IronSource.setMetaData(&quot;Facebook_IS_CacheFlag&quot;,&quot;IMAGE&quot;);\r\n        final FrameLayout bannerContainer = findViewById(R.id.adview);\r\n        IronSourceBannerLayout bannerLayout = IronSource.createBanner(this, ISBannerSize.SMART);\r\n        IronSource.loadBanner(bannerLayout, (String) &quot;DefaultBanner&quot;);\r\n        FrameLayout.LayoutParams layoutParams = new FrameLayout.LayoutParams(FrameLayout.LayoutParams.MATCH_PARENT,\r\n                FrameLayout.LayoutParams.WRAP_CONTENT);\r\n\r\n        bannerContainer.addView(bannerLayout);\r\n        IronSource.loadBanner(bannerLayout);\r\n\r\n        IronSource.loadInterstitial();\r\n\r\n        IronSource.setInterstitialListener(new InterstitialListener() {\r\n            @Override\r\n            public void onInterstitialAdReady() {\r\n                IronSource.showInterstitial(&quot;DefaultInterstitial&quot;);\r\n            }\r\n\r\n            @Override\r\n            public void onInterstitialAdLoadFailed(IronSourceError ironSourceError) {\r\n\r\n            }\r\n\r\n            @Override\r\n            public void onInterstitialAdOpened() {\r\n\r\n            }\r\n\r\n            @Override\r\n            public void onInterstitialAdClosed() {\r\n\r\n            }\r\n\r\n            @Override\r\n            public void onInterstitialAdShowSucceeded() {\r\n\r\n            }\r\n\r\n            @Override\r\n            public void onInterstitialAdShowFailed(IronSourceError ironSourceError) {\r\n\r\n            }\r\n\r\n            @Override\r\n            public void onInterstitialAdClicked() {\r\n\r\n            }\r\n        });\r\n\r\n","title":"Ironsource Banner Only Showing In main Activity and in other activities after implementation not showing","body":"<p>I have Implemented <em>Ironsouce</em> banner in all activity with below method but its only work in main activity and in other activities show error message</p>\n<p> API: Multiple calls to <em>init</em> without ad units are not allowed\n API: L a - can't load banner - <em>loadBanner</em> already called and still in progress\n API: L a - can't load banner - <em>loadBanner</em> already called and still in progress</p>\n<pre><code>    IronSource.init(this, &quot;APP_ID&quot;);\n    IronSource.setMetaData(&quot;Facebook_IS_CacheFlag&quot;,&quot;IMAGE&quot;);\n    final FrameLayout bannerContainer = findViewById(R.id.adview);\n    IronSourceBannerLayout bannerLayout = IronSource.createBanner(this, ISBannerSize.SMART);\n    IronSource.loadBanner(bannerLayout, (String) &quot;DefaultBanner&quot;);\n    FrameLayout.LayoutParams layoutParams = new FrameLayout.LayoutParams(FrameLayout.LayoutParams.MATCH_PARENT,\n            FrameLayout.LayoutParams.WRAP_CONTENT);\n\n    bannerContainer.addView(bannerLayout);\n    IronSource.loadBanner(bannerLayout);\n\n    IronSource.loadInterstitial();\n\n    IronSource.setInterstitialListener(new InterstitialListener() {\n        @Override\n        public void onInterstitialAdReady() {\n            IronSource.showInterstitial(&quot;DefaultInterstitial&quot;);\n        }\n\n        @Override\n        public void onInterstitialAdLoadFailed(IronSourceError ironSourceError) {\n\n        }\n\n        @Override\n        public void onInterstitialAdOpened() {\n\n        }\n\n        @Override\n        public void onInterstitialAdClosed() {\n\n        }\n\n        @Override\n        public void onInterstitialAdShowSucceeded() {\n\n        }\n\n        @Override\n        public void onInterstitialAdShowFailed(IronSourceError ironSourceError) {\n\n        }\n\n        @Override\n        public void onInterstitialAdClicked() {\n\n        }\n    });\n</code></pre>\n"},{"tags":["java","spring","database","one-to-one"],"answers":[{"tags":[],"owner":{"account_id":19926035,"reputation":11,"user_id":14600707,"display_name":"M&#225;rton Szentgy&#246;rgyi"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1699350098,"creation_date":1699350098,"answer_id":77437115,"question_id":77436986,"body_markdown":"The problem is that you are configuring @JoinTable with `(cascade = CascadeType.ALL)` . \r\n\r\nThat means that all operations will be propagated to any child of the entity that gets deleted. \r\nYou can either remove the cascade property so that no operation is cascaded or you can configure it for specified operations.\r\n\r\nSee CascadeTypes detailed here:\r\nhttps://www.baeldung.com/jpa-cascade-types","title":"OneToOne delete data","body":"<p>The problem is that you are configuring @JoinTable with <code>(cascade = CascadeType.ALL)</code> .</p>\n<p>That means that all operations will be propagated to any child of the entity that gets deleted.\nYou can either remove the cascade property so that no operation is cascaded or you can configure it for specified operations.</p>\n<p>See CascadeTypes detailed here:\n<a href=\"https://www.baeldung.com/jpa-cascade-types\" rel=\"nofollow noreferrer\">https://www.baeldung.com/jpa-cascade-types</a></p>\n"},{"tags":[],"owner":{"account_id":20279877,"reputation":28,"user_id":14874053,"display_name":"Сестренка 8 лет"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1699389816,"creation_date":1699389816,"answer_id":77441352,"question_id":77436986,"body_markdown":"You used `CascadeType.REMOVE` on both ends of the bidirectional link. Accordingly, when both parent and child entities are deleted, the entity on the other end of the link will also be deleted. Get rid of `CascadeType.REMOVE` on the child entity and use the `orphanRemoval` property\r\n\r\n    @Entity\r\n    public class Parent {\r\n        @OneToOne(\r\n            fetch = FetchType.LAZY,\r\n            cascade = CascadeType.ALL,\r\n            orphanRemoval = true,\r\n            mappedBy = &quot;parent&quot;\r\n        )\r\n        private Child child;\r\n    }\r\n    \r\n    @Entity\r\n    public class Child {\r\n    \r\n        @OneToOne\r\n        @JoinColumn(name = &quot;parent_id&quot;)\r\n        private Parent parent;\r\n    }","title":"OneToOne delete data","body":"<p>You used <code>CascadeType.REMOVE</code> on both ends of the bidirectional link. Accordingly, when both parent and child entities are deleted, the entity on the other end of the link will also be deleted. Get rid of <code>CascadeType.REMOVE</code> on the child entity and use the <code>orphanRemoval</code> property</p>\n<pre><code>@Entity\npublic class Parent {\n    @OneToOne(\n        fetch = FetchType.LAZY,\n        cascade = CascadeType.ALL,\n        orphanRemoval = true,\n        mappedBy = &quot;parent&quot;\n    )\n    private Child child;\n}\n\n@Entity\npublic class Child {\n\n    @OneToOne\n    @JoinColumn(name = &quot;parent_id&quot;)\n    private Parent parent;\n}\n</code></pre>\n"}],"owner":{"account_id":29844410,"reputation":1,"user_id":22871810,"display_name":"AssylkhanAz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1699389816,"creation_date":1699349076,"question_id":77436986,"body_markdown":"how can I delete data in one table and not affect data from 2 tables? for example, I want to delete resume_id 5 -&gt; user_id 12. If I delete resume_id 5, then user_id 12 is also deleted. how to fix it?\r\n\r\n    @JsonBackReference(value=&quot;resume&quot;)\r\n    @OneToOne(mappedBy = &quot;userinfo&quot;, cascade = CascadeType.REMOVE)\r\n    private EntityResume resume;\r\n  \r\n    @JsonManagedReference(value = &quot;resume&quot;)\r\n    @OneToOne(cascade = CascadeType.REMOVE)\r\n    @JoinColumn(name = &quot;user_id&quot;, unique = true)\r\n    private EntityUserInfo userinfo;","title":"OneToOne delete data","body":"<p>how can I delete data in one table and not affect data from 2 tables? for example, I want to delete resume_id 5 -&gt; user_id 12. If I delete resume_id 5, then user_id 12 is also deleted. how to fix it?</p>\n<pre><code>@JsonBackReference(value=&quot;resume&quot;)\n@OneToOne(mappedBy = &quot;userinfo&quot;, cascade = CascadeType.REMOVE)\nprivate EntityResume resume;\n\n@JsonManagedReference(value = &quot;resume&quot;)\n@OneToOne(cascade = CascadeType.REMOVE)\n@JoinColumn(name = &quot;user_id&quot;, unique = true)\nprivate EntityUserInfo userinfo;\n</code></pre>\n"},{"tags":["java","encryption","rsa"],"comments":[{"owner":{"account_id":2792262,"reputation":163877,"user_id":2402272,"accept_rate":85,"display_name":"John Bollinger"},"score":0,"creation_date":1699289436,"post_id":77432709,"comment_id":136510104,"body_markdown":"What exactly are you trying to do here?  Surely not to generate the private key corresponding to the public key you have received?  Because the security of RSA encryption depends on that not being practical.","body":"What exactly are you trying to do here?  Surely not to generate the private key corresponding to the public key you have received?  Because the security of RSA encryption depends on that not being practical."},{"owner":{"account_id":9614104,"reputation":47,"user_id":10960565,"display_name":"Даниил "},"score":0,"creation_date":1699289777,"post_id":77432709,"comment_id":136510160,"body_markdown":"From this json, as I understand, I need to get RSA key and encrypt data using it","body":"From this json, as I understand, I need to get RSA key and encrypt data using it"}],"answers":[{"comments":[{"owner":{"account_id":9614104,"reputation":47,"user_id":10960565,"display_name":"Даниил "},"score":0,"creation_date":1699440837,"post_id":77441323,"comment_id":136530881,"body_markdown":"Yes. The pem is really starts with &quot;-----BEGIN RSA PUBLIC KEY-----&quot;. But the public key \nPublicKey pubkey = KeyFactory.getInstance(&quot;RSA&quot;) .generatePublic( new RSAPublicKeySpec(n,e) ));  isn&#39;t working. I send it to the decryption service and it can&#39;t be decrypted by private key. And the keys are 100% valid.","body":"Yes. The pem is really starts with &quot;-----BEGIN RSA PUBLIC KEY-----&quot;. But the public key  PublicKey pubkey = KeyFactory.getInstance(&quot;RSA&quot;) .generatePublic( new RSAPublicKeySpec(n,e) ));  isn&#39;t working. I send it to the decryption service and it can&#39;t be decrypted by private key. And the keys are 100% valid."},{"owner":{"account_id":9614104,"reputation":47,"user_id":10960565,"display_name":"Даниил "},"score":0,"creation_date":1699441099,"post_id":77441323,"comment_id":136530930,"body_markdown":"Does the alg in jwk playing some role? IT is RSA-OAEP-256, or alg name RSA-OAEP and hash SHA-256","body":"Does the alg in jwk playing some role? IT is RSA-OAEP-256, or alg name RSA-OAEP and hash SHA-256"},{"owner":{"account_id":3421244,"reputation":35883,"user_id":2868801,"display_name":"dave_thompson_085"},"score":0,"creation_date":1699553022,"post_id":77441323,"comment_id":136549821,"body_markdown":"[jwk.alg specifies with which algorithm(s) the key is _supposed_ to be used](https://www.rfc-editor.org/rfc/rfc7517#section-4.4). In general this information is not present in the X.509-SPKI format although it _optionally_ may for [RSA PSS and OAEP](https://www.rfc-editor.org/rfc/rfc4055). Java does implement the PSS variant key, probably because it is strongly encouraged though not strictly required for TLSv1.3, but AFAICT does not implement the OAEP variant key, and doing so by hand would be quite a pain. Did you encrypt with OAEP _and_ SHA256? If the key owner says they want that ...","body":"<a href=\"https://www.rfc-editor.org/rfc/rfc7517#section-4.4\" rel=\"nofollow noreferrer\">jwk.alg specifies with which algorithm(s) the key is <i>supposed</i> to be used</a>. In general this information is not present in the X.509-SPKI format although it <i>optionally</i> may for <a href=\"https://www.rfc-editor.org/rfc/rfc4055\" rel=\"nofollow noreferrer\">RSA PSS and OAEP</a>. Java does implement the PSS variant key, probably because it is strongly encouraged though not strictly required for TLSv1.3, but AFAICT does not implement the OAEP variant key, and doing so by hand would be quite a pain. Did you encrypt with OAEP <i>and</i> SHA256? If the key owner says they want that ..."},{"owner":{"account_id":3421244,"reputation":35883,"user_id":2868801,"display_name":"dave_thompson_085"},"score":0,"creation_date":1699553211,"post_id":77441323,"comment_id":136549848,"body_markdown":"... it&#39;s probably required. Do you (need to) send the data in a format that uses an AlgorithmIdentifier? If so you may need to do it by hand, per above; if so add to your Q and I&#39;ll work that part out when I have more time. But if you&#39;re sending in JWE format, the algorithm info is specified only in the key not the data. Anyway if you want an answer post specifics (usually documentation) of what the &#39;service&#39; wants.","body":"... it&#39;s probably required. Do you (need to) send the data in a format that uses an AlgorithmIdentifier? If so you may need to do it by hand, per above; if so add to your Q and I&#39;ll work that part out when I have more time. But if you&#39;re sending in JWE format, the algorithm info is specified only in the key not the data. Anyway if you want an answer post specifics (usually documentation) of what the &#39;service&#39; wants."}],"tags":[],"owner":{"account_id":3421244,"reputation":35883,"user_id":2868801,"display_name":"dave_thompson_085"},"comment_count":4,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1699389448,"creation_date":1699389448,"answer_id":77441323,"question_id":77432709,"body_markdown":"There is no PEM format for RSA publickey that begins and ends with the strings you show: ALL PEM formats start with FIVE hyphens, uppercase &#39;BEGIN&#39;, a label or type description of one or more uppercase words, FIVE hyphens, AND A LINEBREAK; this is followed by one or more lines of base64, and then a similar line with &#39;END&#39; instead of &#39;BEGIN&#39; and _optionally_ the linebreak after the &#39;END&#39; line may be omitted. [See wikipedia](https://en.wikipedia.org/wiki/Privacy-Enhanced_Mail) and as referenced there [RFC 7468](https://www.rfc-editor.org/rfc/rfc7468). \r\n\r\nIf your &#39;PEM&#39; is actually in the format I (and wikipedia and 7468) describe and not what you posted, then it is the &#39;traditional&#39; format defined by OpenSSL (originally SSLeay) based on the simple and straightforward [ASN.1 format defined by PKCS1](https://www.rfc-editor.org/rfc/rfc8017#appendix-A.1.1). This is not the same format as the X.509 &#39;SPKI&#39; (SubjectPublicKeyInfo) format defined by X.509 and used by Java as `X509EncodedKeySpec`. (It is even more different from the PKCS8 format used by Java for privatekeys as `PKCS8EncodedKeySpec`, because a publickey is not a privatekey.) It is however _related_, because the SPKI format actually is an ASN.1 SEQUENCE containing an AlgorithmIdentifier which (surprise!) identifies the algorithm plus a BIT STRING containing algorithm-specific data and _for RSA_ the algorithm-specific data _is_ PKCS1 `RSAPublicKey`, so as a result the DER encoding of the SPKI for an RSA key contains as a suffix the PKCS1 data found in an OpenSSL-defined `BEGIN/END RSA PUBLIC KEY` file.\r\n\r\nThere are two ways to directly use this &#39;traditional&#39; PEM format:\r\n\r\n1. construct the SPKI format for the same key by building the ASN.1 &#39;wrapper&#39;, and then feed that to `KeyFactory.getInstance(&quot;RSA&quot;) .generatePublic( new X509EncodedKeySpec( spki ))`. \r\n\r\n2. use bcpkix+bcprov from https://www.bouncycastle.org whose `PEMParser` class combined with `JcaPEMKeyConverter` can directly handle traditional RSA publickey (among many other formats).\r\n\r\nBoth of these methods have been asked and answered several times. See:  \r\nhttps://stackoverflow.com/questions/54957545/how-to-load-rsa-public-key-from-string-for-signature-verification-in-java  \r\nhttps://stackoverflow.com/questions/54238568/reading-a-pkcs1-or-spki-public-key-in-java-without-libraries  \r\nhttps://stackoverflow.com/questions/63454577/failed-to-parse-rsa-publickey-in-java  \r\nhttps://stackoverflow.com/questions/53924326/rsa-should-i-use-x-509-or-pkcs-1 (and more linked there)  \r\nhttps://stackoverflow.com/questions/18039401/how-can-i-transform-between-the-two-styles-of-public-key-format-one-begin-rsa (background but not Java)  \r\n\r\nThe similar problem of converting PKCS1 _privatekey_ to PKCS8 also comes up quite a bit. I wrote an answer for the equivalent of approach 1 (i.e. &#39;wrap&#39; the PKCS1 privatekey to give PKCS8) in https://stackoverflow.com/questions/23709898/java-convert-dkim-private-key-from-rsa-to-der-for-javamail and two other people did similarly in https://stackoverflow.com/questions/7216969/getting-rsa-private-key-from-pem-base64-encoded-private-key-file . Modifying my approach in #23709898 for publickey-to-SPKI instead of privatekey-to-PKCS8 gives:\r\n```\r\n    // input: b64 contains the base64 _data_ from a BEGIN/END RSA PUBLIC KEY file\r\n    // (i.e. with the BEGIN/END lines and linebreaks removed)\r\n    byte[] oldder = Base64.getDecoder().decode (b64);\r\n\r\n    // concatenate the mostly-fixed prefix plus the PKCS#1 data \r\n    final byte[] prefix = {0x30,(byte)0x82,0,0, // SEQUENCE(lenTBD) \r\n            0x30,0x0d, 6,9,0x2a,(byte)0x86,0x48,(byte)0x86,(byte)0xf7,0x0d,1,1,1, 5,0, // AlgID for rsaEncryption,NULL\r\n            3,(byte)0x82,0,0,0 }; // BITSTRING(lenTBD) + unused\r\n    byte[] newder = new byte [prefix.length + oldder.length];\r\n    System.arraycopy (prefix,0, newder,0, prefix.length);\r\n    System.arraycopy (oldder,0, newder,prefix.length, oldder.length);\r\n    // and patch the (variable) lengths to be correct\r\n    int len = oldder.length+1, loc = prefix.length-3; \r\n    newder[loc] = (byte)(len&gt;&gt;8); newder[loc+1] = (byte)len;\r\n    len = newder.length-4; loc = 2;\r\n    newder[loc] = (byte)(len&gt;&gt;8); newder[loc+1] = (byte)len;\r\n\r\n    PublicKey pubkey = KeyFactory.getInstance(&quot;RSA&quot;) .generatePublic( new X509EncodedKeySpec( newder ));\r\n```\r\n\r\n\r\nBut since you also have the JWK form you additionally have a third option:\r\n\r\n3. get the jwk n and e values (from whatever JSON classes/representation you are using), convert each to (positive) BigInteger, put them in `RSAPublicKeySpec` and run that through the `KeyFactory`:\r\n```\r\n    BigInteger n = new BigInteger(1, Base64.getUrlDecoder().decode( jwk.n ));\r\n    BigInteger e = new BigInteger(1, Base64.getUrlDecoder().decode( jwk.e ));\r\n    PublicKey pubkey = KeyFactory.getInstance(&quot;RSA&quot;) .generatePublic( new RSAPublicKeySpec(n,e) ));\r\n```\r\n","title":"How to encrypt data with RSA PublicKey in java?","body":"<p>There is no PEM format for RSA publickey that begins and ends with the strings you show: ALL PEM formats start with FIVE hyphens, uppercase 'BEGIN', a label or type description of one or more uppercase words, FIVE hyphens, AND A LINEBREAK; this is followed by one or more lines of base64, and then a similar line with 'END' instead of 'BEGIN' and <em>optionally</em> the linebreak after the 'END' line may be omitted. <a href=\"https://en.wikipedia.org/wiki/Privacy-Enhanced_Mail\" rel=\"nofollow noreferrer\">See wikipedia</a> and as referenced there <a href=\"https://www.rfc-editor.org/rfc/rfc7468\" rel=\"nofollow noreferrer\">RFC 7468</a>.</p>\n<p>If your 'PEM' is actually in the format I (and wikipedia and 7468) describe and not what you posted, then it is the 'traditional' format defined by OpenSSL (originally SSLeay) based on the simple and straightforward <a href=\"https://www.rfc-editor.org/rfc/rfc8017#appendix-A.1.1\" rel=\"nofollow noreferrer\">ASN.1 format defined by PKCS1</a>. This is not the same format as the X.509 'SPKI' (SubjectPublicKeyInfo) format defined by X.509 and used by Java as <code>X509EncodedKeySpec</code>. (It is even more different from the PKCS8 format used by Java for privatekeys as <code>PKCS8EncodedKeySpec</code>, because a publickey is not a privatekey.) It is however <em>related</em>, because the SPKI format actually is an ASN.1 SEQUENCE containing an AlgorithmIdentifier which (surprise!) identifies the algorithm plus a BIT STRING containing algorithm-specific data and <em>for RSA</em> the algorithm-specific data <em>is</em> PKCS1 <code>RSAPublicKey</code>, so as a result the DER encoding of the SPKI for an RSA key contains as a suffix the PKCS1 data found in an OpenSSL-defined <code>BEGIN/END RSA PUBLIC KEY</code> file.</p>\n<p>There are two ways to directly use this 'traditional' PEM format:</p>\n<ol>\n<li><p>construct the SPKI format for the same key by building the ASN.1 'wrapper', and then feed that to <code>KeyFactory.getInstance(&quot;RSA&quot;) .generatePublic( new X509EncodedKeySpec( spki ))</code>.</p>\n</li>\n<li><p>use bcpkix+bcprov from <a href=\"https://www.bouncycastle.org\" rel=\"nofollow noreferrer\">https://www.bouncycastle.org</a> whose <code>PEMParser</code> class combined with <code>JcaPEMKeyConverter</code> can directly handle traditional RSA publickey (among many other formats).</p>\n</li>\n</ol>\n<p>Both of these methods have been asked and answered several times. See:<br />\n<a href=\"https://stackoverflow.com/questions/54957545/how-to-load-rsa-public-key-from-string-for-signature-verification-in-java\">How to load RSA public key from String for signature verification in Java?</a><br />\n<a href=\"https://stackoverflow.com/questions/54238568/reading-a-pkcs1-or-spki-public-key-in-java-without-libraries\">Reading a PKCS#1 or SPKI public key in Java without libraries</a><br />\n<a href=\"https://stackoverflow.com/questions/63454577/failed-to-parse-rsa-publickey-in-java\">Failed to parse RSA publicKey in Java</a><br />\n<a href=\"https://stackoverflow.com/questions/53924326/rsa-should-i-use-x-509-or-pkcs-1\">RSA should I use X.509 or PKCS #1</a> (and more linked there)<br />\n<a href=\"https://stackoverflow.com/questions/18039401/how-can-i-transform-between-the-two-styles-of-public-key-format-one-begin-rsa\">How can I transform between the two styles of public key format, one &quot;BEGIN RSA PUBLIC KEY&quot;, the other is &quot;BEGIN PUBLIC KEY&quot;</a> (background but not Java)</p>\n<p>The similar problem of converting PKCS1 <em>privatekey</em> to PKCS8 also comes up quite a bit. I wrote an answer for the equivalent of approach 1 (i.e. 'wrap' the PKCS1 privatekey to give PKCS8) in <a href=\"https://stackoverflow.com/questions/23709898/java-convert-dkim-private-key-from-rsa-to-der-for-javamail\">Java: Convert DKIM private key from RSA to DER for JavaMail</a> and two other people did similarly in <a href=\"https://stackoverflow.com/questions/7216969/getting-rsa-private-key-from-pem-base64-encoded-private-key-file\">Getting RSA private key from PEM BASE64 Encoded private key file</a> . Modifying my approach in #23709898 for publickey-to-SPKI instead of privatekey-to-PKCS8 gives:</p>\n<pre><code>    // input: b64 contains the base64 _data_ from a BEGIN/END RSA PUBLIC KEY file\n    // (i.e. with the BEGIN/END lines and linebreaks removed)\n    byte[] oldder = Base64.getDecoder().decode (b64);\n\n    // concatenate the mostly-fixed prefix plus the PKCS#1 data \n    final byte[] prefix = {0x30,(byte)0x82,0,0, // SEQUENCE(lenTBD) \n            0x30,0x0d, 6,9,0x2a,(byte)0x86,0x48,(byte)0x86,(byte)0xf7,0x0d,1,1,1, 5,0, // AlgID for rsaEncryption,NULL\n            3,(byte)0x82,0,0,0 }; // BITSTRING(lenTBD) + unused\n    byte[] newder = new byte [prefix.length + oldder.length];\n    System.arraycopy (prefix,0, newder,0, prefix.length);\n    System.arraycopy (oldder,0, newder,prefix.length, oldder.length);\n    // and patch the (variable) lengths to be correct\n    int len = oldder.length+1, loc = prefix.length-3; \n    newder[loc] = (byte)(len&gt;&gt;8); newder[loc+1] = (byte)len;\n    len = newder.length-4; loc = 2;\n    newder[loc] = (byte)(len&gt;&gt;8); newder[loc+1] = (byte)len;\n\n    PublicKey pubkey = KeyFactory.getInstance(&quot;RSA&quot;) .generatePublic( new X509EncodedKeySpec( newder ));\n</code></pre>\n<p>But since you also have the JWK form you additionally have a third option:</p>\n<ol start=\"3\">\n<li>get the jwk n and e values (from whatever JSON classes/representation you are using), convert each to (positive) BigInteger, put them in <code>RSAPublicKeySpec</code> and run that through the <code>KeyFactory</code>:</li>\n</ol>\n<pre><code>    BigInteger n = new BigInteger(1, Base64.getUrlDecoder().decode( jwk.n ));\n    BigInteger e = new BigInteger(1, Base64.getUrlDecoder().decode( jwk.e ));\n    PublicKey pubkey = KeyFactory.getInstance(&quot;RSA&quot;) .generatePublic( new RSAPublicKeySpec(n,e) ));\n</code></pre>\n"}],"owner":{"account_id":9614104,"reputation":47,"user_id":10960565,"display_name":"Даниил "},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":78,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77441323,"answer_count":1,"score":0,"last_activity_date":1699389448,"creation_date":1699288289,"question_id":77432709,"body_markdown":"I have a json response with parameters:\r\n```{\r\n &quot;jwk&quot;:{\r\n    &quot;kty&quot;: &quot;string&quot;,\r\n    &quot;n&quot;: &quot;string&quot;,\r\n    &quot;e&quot;: &quot;string&quot;,\r\n    &quot;alg&quot;: &quot;string&quot;,\r\n    &quot;ext&quot;: bool\r\n  },\r\n &quot;pem&quot;: &quot;--BEGIN RSA PUBLIC KEY--...SOMEKEY...--END RSA PUBLIC KEY--&quot;,\r\n &quot;alg&quot;: {\r\n    &quot;name&quot;: &quot;string&quot;,\r\n    &quot;hash&quot;: {\r\n        &quot;name&quot;: &quot;string\r\n    }\r\n }\r\n}\r\n```\r\nI need to encrypt data with RSA Public key.\r\nI&#39;m trying to get &quot;pem&quot;, clear it and create public key\r\n```\r\nString clearKey = rsaKey.replace(&quot;--BEGIN RSA PUBLIC KEY--&quot;, &quot;&quot;).replace(&quot;--END RSA PUBLIC KEY--&quot;, &quot;&quot;).replace(&quot;\\\\s&quot;,&quot;&quot;);\r\nbyte[] prByte = Base64.getDecoder().decode(clearKey);\r\nKeyFactory keyFactory = KeyFactory.getInstanse(&quot;RSA&quot;);\r\nkeyFactory.generatePrivate(new PKCS8EEncodedKeySpec(prByte));\r\n```\r\nbut on this step I have an error \r\n```\r\n:java.security.InvalidKeyException: IOException: algid parse error not a sequence\r\n```\r\nthis code followed by error too\r\n```\r\nbyte[] prByte = Base64.getDecoder().decode(clearKey);\r\nKeyFactory keyFactory = KeyFactory.getInstance(&quot;RSA&quot;);\r\nX509EncodedKeySpec keySpec = new X509EncodedKeySpec(prBytes);\r\nPublicKey publicKey = keyFactory.generatePublic(&quot;keySpec&quot;):\r\n```\r\nI know that RSA PUBLIC KEY maybe should be mapped on RSAPublicKey but for this i need &quot;n&quot; and &quot;e&quot; attributes? ","title":"How to encrypt data with RSA PublicKey in java?","body":"<p>I have a json response with parameters:</p>\n<pre><code> &quot;jwk&quot;:{\n    &quot;kty&quot;: &quot;string&quot;,\n    &quot;n&quot;: &quot;string&quot;,\n    &quot;e&quot;: &quot;string&quot;,\n    &quot;alg&quot;: &quot;string&quot;,\n    &quot;ext&quot;: bool\n  },\n &quot;pem&quot;: &quot;--BEGIN RSA PUBLIC KEY--...SOMEKEY...--END RSA PUBLIC KEY--&quot;,\n &quot;alg&quot;: {\n    &quot;name&quot;: &quot;string&quot;,\n    &quot;hash&quot;: {\n        &quot;name&quot;: &quot;string\n    }\n }\n}\n</code></pre>\n<p>I need to encrypt data with RSA Public key.\nI'm trying to get &quot;pem&quot;, clear it and create public key</p>\n<pre><code>String clearKey = rsaKey.replace(&quot;--BEGIN RSA PUBLIC KEY--&quot;, &quot;&quot;).replace(&quot;--END RSA PUBLIC KEY--&quot;, &quot;&quot;).replace(&quot;\\\\s&quot;,&quot;&quot;);\nbyte[] prByte = Base64.getDecoder().decode(clearKey);\nKeyFactory keyFactory = KeyFactory.getInstanse(&quot;RSA&quot;);\nkeyFactory.generatePrivate(new PKCS8EEncodedKeySpec(prByte));\n</code></pre>\n<p>but on this step I have an error</p>\n<pre><code>:java.security.InvalidKeyException: IOException: algid parse error not a sequence\n</code></pre>\n<p>this code followed by error too</p>\n<pre><code>byte[] prByte = Base64.getDecoder().decode(clearKey);\nKeyFactory keyFactory = KeyFactory.getInstance(&quot;RSA&quot;);\nX509EncodedKeySpec keySpec = new X509EncodedKeySpec(prBytes);\nPublicKey publicKey = keyFactory.generatePublic(&quot;keySpec&quot;):\n</code></pre>\n<p>I know that RSA PUBLIC KEY maybe should be mapped on RSAPublicKey but for this i need &quot;n&quot; and &quot;e&quot; attributes?</p>\n"},{"tags":["java","base64","base64url"],"comments":[{"owner":{"account_id":251211,"reputation":32622,"user_id":528428,"accept_rate":80,"display_name":"Benjamin Muschko"},"score":3,"creation_date":1302641080,"post_id":5641303,"comment_id":6431576,"body_markdown":"You shouldn&#39;t use `sun.misc.BASE64Decoder` because it is internal Sun/Oracle code (not part of J2SE) and may disappear at any time. The class [Base64](http://commons.apache.org/codec/apidocs/org/apache/commons/codec/binary/Base64.html) in [Apache Commons](http://commons.apache.org/codec/) should provide you with all the functionality you need.","body":"You shouldn&#39;t use <code>sun.misc.BASE64Decoder</code> because it is internal Sun/Oracle code (not part of J2SE) and may disappear at any time. The class <a href=\"http://commons.apache.org/codec/apidocs/org/apache/commons/codec/binary/Base64.html\" rel=\"nofollow noreferrer\">Base64</a> in <a href=\"http://commons.apache.org/codec/\" rel=\"nofollow noreferrer\">Apache Commons</a> should provide you with all the functionality you need."},{"owner":{"account_id":29845,"reputation":31302,"user_id":80932,"accept_rate":85,"display_name":"ufk"},"score":0,"creation_date":1302641225,"post_id":5641303,"comment_id":6431612,"body_markdown":"my question is how to properly decode a base64url string in java. and thanks i&#39;ll try apache commons","body":"my question is how to properly decode a base64url string in java. and thanks i&#39;ll try apache commons"},{"owner":{"account_id":42117,"reputation":30319,"user_id":122607,"accept_rate":92,"display_name":"Pops"},"score":0,"creation_date":1302641374,"post_id":5641303,"comment_id":6431641,"body_markdown":"@Benjamin, wow, I didn&#39;t realize `BASE64Decoder` was a Sun class, internal or otherwise. I wonder why they broke with their own naming convention. +1","body":"@Benjamin, wow, I didn&#39;t realize <code>BASE64Decoder</code> was a Sun class, internal or otherwise. I wonder why they broke with their own naming convention. +1"},{"owner":{"account_id":92937,"reputation":18601,"user_id":254477,"accept_rate":87,"display_name":"Sled"},"score":0,"creation_date":1397658114,"post_id":5641303,"comment_id":35330178,"body_markdown":"@BenjaminMuschko Might be nice to clarify that is it specifically in [Apache Commons _Codec_](http://commons.apache.org/codec/) for those that don&#39;t realise it is a link in your comment! :)","body":"@BenjaminMuschko Might be nice to clarify that is it specifically in <a href=\"http://commons.apache.org/codec/\" rel=\"nofollow noreferrer\">Apache Commons <i>Codec</i></a> for those that don&#39;t realise it is a link in your comment! :)"},{"owner":{"account_id":435955,"reputation":4272,"user_id":822822,"accept_rate":100,"display_name":"Vishal John"},"score":3,"creation_date":1449667056,"post_id":5641303,"comment_id":56105751,"body_markdown":"Shouldn&#39;t it be `replace(&#39;_&#39;,&#39;/&#39;)`","body":"Shouldn&#39;t it be <code>replace(&#39;_&#39;,&#39;&#47;&#39;)</code>"}],"answers":[{"tags":[],"owner":{"account_id":42117,"reputation":30319,"user_id":122607,"accept_rate":92,"display_name":"Pops"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1302640770,"creation_date":1302640770,"answer_id":5641359,"question_id":5641303,"body_markdown":"Right off the bat, it looks like your `replace()` is backwards; that method replaces the occurrences of the first character with the second, not the other way around.","title":"Decode base64Url in Java","body":"<p>Right off the bat, it looks like your <code>replace()</code> is backwards; that method replaces the occurrences of the first character with the second, not the other way around.</p>\n"},{"comments":[{"owner":{"account_id":48803,"reputation":2393,"user_id":145119,"accept_rate":97,"display_name":"Mithaldu"},"score":1,"creation_date":1543362465,"post_id":5641804,"comment_id":93889771,"body_markdown":"idle curiosity, why make it that verbose if you could just do this? `return new String(new Base64(true).decode(input));`","body":"idle curiosity, why make it that verbose if you could just do this? <code>return new String(new Base64(true).decode(input));</code>"}],"tags":[],"owner":{"account_id":29845,"reputation":31302,"user_id":80932,"accept_rate":85,"display_name":"ufk"},"comment_count":1,"down_vote_count":0,"up_vote_count":26,"is_accepted":true,"score":26,"last_activity_date":1349686323,"creation_date":1302643427,"answer_id":5641804,"question_id":5641303,"body_markdown":"With the usage of `Base64` from Apache Commons, who can be configured to URL safe, I created the following function:\r\n\r\n    import org.apache.commons.codec.binary.Base64;\r\n\t\r\n\tpublic static String base64UrlDecode(String input) {\r\n\t\tString result = null;\r\n\t\tBase64 decoder = new Base64(true);\r\n\t\tbyte[] decodedBytes = decoder.decode(input);\r\n\t\tresult = new String(decodedBytes);\r\n\t\treturn result;\r\n\t}\r\n\r\nThe constructor `Base64(true)` makes the decoding URL-safe.","title":"Decode base64Url in Java","body":"<p>With the usage of <code>Base64</code> from Apache Commons, who can be configured to URL safe, I created the following function:</p>\n\n<pre><code>import org.apache.commons.codec.binary.Base64;\n\npublic static String base64UrlDecode(String input) {\n    String result = null;\n    Base64 decoder = new Base64(true);\n    byte[] decodedBytes = decoder.decode(input);\n    result = new String(decodedBytes);\n    return result;\n}\n</code></pre>\n\n<p>The constructor <code>Base64(true)</code> makes the decoding URL-safe.</p>\n"},{"comments":[{"owner":{"account_id":8464,"reputation":21252,"user_id":15274,"accept_rate":86,"display_name":"pi."},"score":0,"creation_date":1434636644,"post_id":9559626,"comment_id":49872798,"body_markdown":"Warning: Trailing = characters get swallowed!","body":"Warning: Trailing = characters get swallowed!"}],"tags":[],"owner":{"account_id":90751,"reputation":654,"user_id":249654,"display_name":"terentev"},"comment_count":1,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1330901723,"creation_date":1330901723,"answer_id":9559626,"question_id":5641303,"body_markdown":"    public static byte[] encodeUrlSafe(byte[] data) {\r\n        byte[] encode = Base64.encode(data);\r\n        for (int i = 0; i &lt; encode.length; i++) {\r\n            if (encode[i] == &#39;+&#39;) {\r\n                encode[i] = &#39;-&#39;;\r\n            } else if (encode[i] == &#39;/&#39;) {\r\n                encode[i] = &#39;_&#39;;\r\n            }\r\n        }\r\n        return encode;\r\n    }\r\n\r\n    public static byte[] decodeUrlSafe(byte[] data) {\r\n        byte[] encode = Arrays.copyOf(data, data.length);\r\n        for (int i = 0; i &lt; encode.length; i++) {\r\n            if (encode[i] == &#39;-&#39;) {\r\n                encode[i] = &#39;+&#39;;\r\n            } else if (encode[i] == &#39;_&#39;) {\r\n                encode[i] = &#39;/&#39;;\r\n            }\r\n        }\r\n        return Base64.decode(encode);\r\n    }","title":"Decode base64Url in Java","body":"<pre><code>public static byte[] encodeUrlSafe(byte[] data) {\n    byte[] encode = Base64.encode(data);\n    for (int i = 0; i &lt; encode.length; i++) {\n        if (encode[i] == '+') {\n            encode[i] = '-';\n        } else if (encode[i] == '/') {\n            encode[i] = '_';\n        }\n    }\n    return encode;\n}\n\npublic static byte[] decodeUrlSafe(byte[] data) {\n    byte[] encode = Arrays.copyOf(data, data.length);\n    for (int i = 0; i &lt; encode.length; i++) {\n        if (encode[i] == '-') {\n            encode[i] = '+';\n        } else if (encode[i] == '_') {\n            encode[i] = '/';\n        }\n    }\n    return Base64.decode(encode);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":190177,"reputation":10331,"user_id":429972,"accept_rate":67,"display_name":"jontro"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1466589347,"creation_date":1355771425,"answer_id":13920544,"question_id":5641303,"body_markdown":"Guava now has Base64 decoding built in. \r\n\r\nhttps://google.github.io/guava/releases/17.0/api/docs/com/google/common/io/BaseEncoding.html","title":"Decode base64Url in Java","body":"<p>Guava now has Base64 decoding built in. </p>\n\n<p><a href=\"https://google.github.io/guava/releases/17.0/api/docs/com/google/common/io/BaseEncoding.html\" rel=\"nofollow noreferrer\">https://google.github.io/guava/releases/17.0/api/docs/com/google/common/io/BaseEncoding.html</a></p>\n"},{"tags":[],"owner":{"account_id":26685,"reputation":24085,"user_id":69689,"accept_rate":85,"display_name":"overthink"},"comment_count":0,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1383594091,"creation_date":1383594091,"answer_id":19775712,"question_id":5641303,"body_markdown":"@ufk&#39;s answer works, but you don&#39;t actually need to set the `urlSafe` flag when you&#39;re just decoding.\r\n\r\n&gt; [urlSafe is only applied to encode operations. Decoding seamlessly\r\n&gt; handles both modes.][1]\r\n\r\n\r\nAlso, there are some static helpers to make it shorter and more explicit:\r\n\r\n    import org.apache.commons.codec.binary.Base64;\r\n    import org.apache.commons.codec.binary.StringUtils;\r\n\r\n    public static String base64UrlDecode(String input) {\r\n      StringUtils.newStringUtf8(Base64.decodeBase64(input));\r\n    }\r\n\r\nDocs\r\n\r\n* [newStringUtf8()][2]\r\n* [decodeBase64()][3]\r\n\r\n\r\n  [1]: http://commons.apache.org/proper/commons-codec/apidocs/org/apache/commons/codec/binary/Base64.html#Base64%28int,%20byte%5B%5D,%20boolean%29\r\n  [2]: http://commons.apache.org/proper/commons-codec/apidocs/org/apache/commons/codec/binary/StringUtils.html#newStringUtf8%28byte%5B%5D%29\r\n  [3]: http://commons.apache.org/proper/commons-codec/apidocs/org/apache/commons/codec/binary/Base64.html#decodeBase64%28java.lang.String%29","title":"Decode base64Url in Java","body":"<p>@ufk's answer works, but you don't actually need to set the <code>urlSafe</code> flag when you're just decoding.</p>\n\n<blockquote>\n  <p><a href=\"http://commons.apache.org/proper/commons-codec/apidocs/org/apache/commons/codec/binary/Base64.html#Base64%28int,%20byte%5B%5D,%20boolean%29\" rel=\"nofollow\">urlSafe is only applied to encode operations. Decoding seamlessly\n  handles both modes.</a></p>\n</blockquote>\n\n<p>Also, there are some static helpers to make it shorter and more explicit:</p>\n\n<pre><code>import org.apache.commons.codec.binary.Base64;\nimport org.apache.commons.codec.binary.StringUtils;\n\npublic static String base64UrlDecode(String input) {\n  StringUtils.newStringUtf8(Base64.decodeBase64(input));\n}\n</code></pre>\n\n<p>Docs</p>\n\n<ul>\n<li><a href=\"http://commons.apache.org/proper/commons-codec/apidocs/org/apache/commons/codec/binary/StringUtils.html#newStringUtf8%28byte%5B%5D%29\" rel=\"nofollow\">newStringUtf8()</a></li>\n<li><a href=\"http://commons.apache.org/proper/commons-codec/apidocs/org/apache/commons/codec/binary/Base64.html#decodeBase64%28java.lang.String%29\" rel=\"nofollow\">decodeBase64()</a></li>\n</ul>\n"},{"comments":[{"owner":{"account_id":410510,"reputation":2319,"user_id":782392,"accept_rate":67,"display_name":"T3rm1"},"score":0,"creation_date":1475580569,"post_id":29297289,"comment_id":66990026,"body_markdown":"The resulting string still contains equal signs. That&#39;s not URL safe, is it?","body":"The resulting string still contains equal signs. That&#39;s not URL safe, is it?"},{"owner":{"account_id":224973,"reputation":800,"user_id":485180,"display_name":"Knatpolsar"},"score":8,"creation_date":1481310498,"post_id":29297289,"comment_id":69341569,"body_markdown":"Use Base64.getUrlEncoder().withoutPadding().encodeToString(str.getBytes(UTF_8))","body":"Use Base64.getUrlEncoder().withoutPadding().encodeToString(str.g&zwnj;&#8203;etBytes(UTF_8))"}],"tags":[],"owner":{"account_id":85409,"reputation":89783,"user_id":238134,"accept_rate":73,"display_name":"deamon"},"comment_count":2,"down_vote_count":0,"up_vote_count":51,"is_accepted":false,"score":51,"last_activity_date":1587492573,"creation_date":1427448584,"answer_id":29297289,"question_id":5641303,"body_markdown":"[Base64][1] encoding is part of the JDK since Java 8. [URL safe encoding][2] is also supported with [java.util.Base64.getUrlEncoder()][3], and the &quot;`=`&quot; padding can be skipped by additionally using the [java.util.Base64.Encoder.withoutPadding()][4] method:\r\n\r\n    import java.nio.charset.StandardCharsets;\r\n    import java.util.Base64;\r\n\r\n    public String encode(String raw) {\r\n        return Base64.getUrlEncoder()\r\n                .withoutPadding()\r\n                .encodeToString(raw.getBytes(StandardCharsets.UTF_8));\r\n    }\r\n\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Base64#URL_applications\r\n  [2]: https://www.rfc-editor.org/rfc/rfc4648#section-5\r\n  [3]: https://docs.oracle.com/javase/8/docs/api/java/util/Base64.html#getUrlEncoder--\r\n  [4]: https://docs.oracle.com/javase/8/docs/api/java/util/Base64.Encoder.html#withoutPadding--","title":"Decode base64Url in Java","body":"<p><a href=\"http://en.wikipedia.org/wiki/Base64#URL_applications\" rel=\"noreferrer\">Base64</a> encoding is part of the JDK since Java 8. <a href=\"https://www.rfc-editor.org/rfc/rfc4648#section-5\" rel=\"noreferrer\">URL safe encoding</a> is also supported with <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Base64.html#getUrlEncoder--\" rel=\"noreferrer\">java.util.Base64.getUrlEncoder()</a>, and the &quot;<code>=</code>&quot; padding can be skipped by additionally using the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Base64.Encoder.html#withoutPadding--\" rel=\"noreferrer\">java.util.Base64.Encoder.withoutPadding()</a> method:</p>\n<pre><code>import java.nio.charset.StandardCharsets;\nimport java.util.Base64;\n\npublic String encode(String raw) {\n    return Base64.getUrlEncoder()\n            .withoutPadding()\n            .encodeToString(raw.getBytes(StandardCharsets.UTF_8));\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2726220,"reputation":99,"user_id":2351209,"display_name":"Asokan"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1451921304,"creation_date":1448548748,"answer_id":33941298,"question_id":5641303,"body_markdown":"In Java try the method `Base64.encodeBase64URLSafeString()` from Commons Codec library for encoding.","title":"Decode base64Url in Java","body":"<p>In Java try the method <code>Base64.encodeBase64URLSafeString()</code> from Commons Codec library for encoding.</p>\n"},{"tags":[],"owner":{"account_id":365390,"reputation":28841,"user_id":710284,"display_name":"Oded Breiner"},"comment_count":0,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1457180368,"creation_date":1457176623,"answer_id":35813416,"question_id":5641303,"body_markdown":"In the Android SDK, there&#39;s a dedicated flag in the `Base64` class: `Base64.URL_SAFE`, use it like so to decode to a String:\r\n\r\n    import android.util.Base64;\r\n    byte[] byteData = Base64.decode(body, Base64.URL_SAFE);\r\n    str = new String(byteData, &quot;UTF-8&quot;);","title":"Decode base64Url in Java","body":"<p>In the Android SDK, there's a dedicated flag in the <code>Base64</code> class: <code>Base64.URL_SAFE</code>, use it like so to decode to a String:</p>\n\n<pre><code>import android.util.Base64;\nbyte[] byteData = Base64.decode(body, Base64.URL_SAFE);\nstr = new String(byteData, \"UTF-8\");\n</code></pre>\n"},{"comments":[{"owner":{"account_id":224973,"reputation":800,"user_id":485180,"display_name":"Knatpolsar"},"score":41,"creation_date":1481310610,"post_id":38287029,"comment_id":69341628,"body_markdown":"If you don&#39;t like trailing &#39;=&#39; (padding), then use: Base64.getUrlEncoder().withoutPadding().encodeToString(str.g‌​etBytes(UTF_8))","body":"If you don&#39;t like trailing &#39;=&#39; (padding), then use: Base64.getUrlEncoder().withoutPadding().encodeToString(str.g&zwnj;&#8203;‌​etBytes(UTF_8))"},{"owner":{"account_id":87202,"reputation":17573,"user_id":241986,"accept_rate":80,"display_name":"Boris Treukhov"},"score":1,"creation_date":1513250098,"post_id":38287029,"comment_id":82585117,"body_markdown":"@kiedysktos do you have an example sequence? Table `The &quot;URL and Filename safe&quot; Base 64 Alphabet` in does not allow `/` in [RFC 4648](https://tools.ietf.org/rfc/rfc4648.txt) which getUrlEncoder() uses","body":"@kiedysktos do you have an example sequence? Table <code>The &quot;URL and Filename safe&quot; Base 64 Alphabet</code> in does not allow <code>&#47;</code> in <a href=\"https://tools.ietf.org/rfc/rfc4648.txt\" rel=\"nofollow noreferrer\">RFC 4648</a> which getUrlEncoder() uses"},{"owner":{"account_id":4814456,"reputation":3960,"user_id":3886961,"accept_rate":79,"display_name":"kiedysktos"},"score":1,"creation_date":1513251877,"post_id":38287029,"comment_id":82586301,"body_markdown":"EDIT: OK, I was using `getEncoder()` instead of `getUrlEncoder()`, my fault","body":"EDIT: OK, I was using <code>getEncoder()</code> instead of <code>getUrlEncoder()</code>, my fault"}],"tags":[],"owner":{"account_id":87202,"reputation":17573,"user_id":241986,"accept_rate":80,"display_name":"Boris Treukhov"},"comment_count":3,"down_vote_count":0,"up_vote_count":89,"is_accepted":false,"score":89,"last_activity_date":1468104842,"creation_date":1468104842,"answer_id":38287029,"question_id":5641303,"body_markdown":"Java8+\r\n\r\n    import java.util.Base64;\r\n    \r\n    \r\n    return Base64.getUrlEncoder().encodeToString(bytes);","title":"Decode base64Url in Java","body":"<p>Java8+</p>\n\n<pre><code>import java.util.Base64;\n\n\nreturn Base64.getUrlEncoder().encodeToString(bytes);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9484248,"reputation":1386,"user_id":7051078,"display_name":"Hadi Note"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1548350867,"creation_date":1548350867,"answer_id":54352312,"question_id":5641303,"body_markdown":"This class can help:\r\n\r\n\r\n    import android.util.Base64;\r\n\r\n    public class Encryptor {\r\n\r\n        public static String encode(String input) {\r\n            return Base64.encodeToString(input.getBytes(), Base64.URL_SAFE);\r\n        }\r\n\r\n        public static String decode(String encoded) {\r\n            return new String(Base64.decode(encoded.getBytes(), Base64.URL_SAFE));\r\n        }\r\n    }\r\n","title":"Decode base64Url in Java","body":"<p>This class can help:</p>\n\n<pre><code>import android.util.Base64;\n\npublic class Encryptor {\n\n    public static String encode(String input) {\n        return Base64.encodeToString(input.getBytes(), Base64.URL_SAFE);\n    }\n\n    public static String decode(String encoded) {\n        return new String(Base64.decode(encoded.getBytes(), Base64.URL_SAFE));\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9964429,"reputation":308,"user_id":7372540,"display_name":"Jay"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1699389421,"creation_date":1618626287,"answer_id":67134119,"question_id":5641303,"body_markdown":"I know the answer is already there, but still, if someone wants...\r\n\r\n    import java.util.Base64; \r\n\r\n    public class Base64BasicEncryptionExample {  \r\n\r\n        public static void main(String[] args) {  \r\n\r\n           // Getting encoder  \r\n           Base64.Encoder encoder = Base64.getUrlEncoder();  \r\n           // Encoding URL  \r\n           String eStr = encoder.encodeToString\r\n                                   (&quot;http://www.javatpoint.com/javatutorial/&quot;.getBytes());  \r\n           System.out.println(&quot;Encoded URL: &quot;+eStr);  \r\n\r\n           // Getting decoder  \r\n           Base64.Decoder decoder = Base64.getUrlDecoder();  \r\n           // Decoding URl  \r\n           String dStr = new String(decoder.decode(eStr));  \r\n           System.out.println(&quot;Decoded URL: &quot;+dStr);  \r\n        }  \r\n    }  \r\n\r\nTook help from: https://www.javatpoint.com/java-base64-encode-decode","title":"Decode base64Url in Java","body":"<p>I know the answer is already there, but still, if someone wants...</p>\n<pre><code>import java.util.Base64; \n\npublic class Base64BasicEncryptionExample {  \n\n    public static void main(String[] args) {  \n\n       // Getting encoder  \n       Base64.Encoder encoder = Base64.getUrlEncoder();  \n       // Encoding URL  \n       String eStr = encoder.encodeToString\n                               (&quot;http://www.javatpoint.com/javatutorial/&quot;.getBytes());  \n       System.out.println(&quot;Encoded URL: &quot;+eStr);  \n\n       // Getting decoder  \n       Base64.Decoder decoder = Base64.getUrlDecoder();  \n       // Decoding URl  \n       String dStr = new String(decoder.decode(eStr));  \n       System.out.println(&quot;Decoded URL: &quot;+dStr);  \n    }  \n}  \n</code></pre>\n<p>Took help from: <a href=\"https://www.javatpoint.com/java-base64-encode-decode\" rel=\"nofollow noreferrer\">https://www.javatpoint.com/java-base64-encode-decode</a></p>\n"},{"tags":[],"owner":{"account_id":1537474,"reputation":3656,"user_id":1433066,"accept_rate":68,"display_name":"Nick Dong"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679468272,"creation_date":1679468272,"answer_id":75809190,"question_id":5641303,"body_markdown":"`Base64.getUrlEncoder()` already using `-`, `_` instead of `+`, `/`.\r\n\r\nSee:\r\n\r\njava-1.8.0/src.zip!/java/util/Base64.java\r\n\r\n`java.util.Base64`\r\n\r\n```java\r\n    /* Returns a Base64.Encoder that encodes using the URL and Filename safe type \r\n     * base64 encoding scheme.\r\n     * Returns: A Base64 encoder.\r\n     * */\r\n\r\n\r\n    public static Encoder getUrlEncoder() {\r\n         return Encoder.RFC4648_URLSAFE;\r\n    }\r\n\r\n...\r\n\r\n    /*\r\n     * It&#39;s the lookup table for &quot;URL and Filename safe Base64&quot; as specified in \r\n     * Table 2 of the RFC 4648, with the &#39;+&#39; and &#39;/&#39; changed to &#39;-&#39; and &#39;_&#39;. This \r\n     * table is used when BASE64_URL is specified.\r\n     * */\r\n\r\n    private static final char[] toBase64URL = {\r\n        &#39;A&#39;, &#39;B&#39;, &#39;C&#39;, &#39;D&#39;, &#39;E&#39;, &#39;F&#39;, &#39;G&#39;, &#39;H&#39;, &#39;I&#39;, &#39;J&#39;, &#39;K&#39;, &#39;L&#39;, &#39;M&#39;,\r\n        &#39;N&#39;, &#39;O&#39;, &#39;P&#39;, &#39;Q&#39;, &#39;R&#39;, &#39;S&#39;, &#39;T&#39;, &#39;U&#39;, &#39;V&#39;, &#39;W&#39;, &#39;X&#39;, &#39;Y&#39;, &#39;Z&#39;,\r\n        &#39;a&#39;, &#39;b&#39;, &#39;c&#39;, &#39;d&#39;, &#39;e&#39;, &#39;f&#39;, &#39;g&#39;, &#39;h&#39;, &#39;i&#39;, &#39;j&#39;, &#39;k&#39;, &#39;l&#39;, &#39;m&#39;,\r\n        &#39;n&#39;, &#39;o&#39;, &#39;p&#39;, &#39;q&#39;, &#39;r&#39;, &#39;s&#39;, &#39;t&#39;, &#39;u&#39;, &#39;v&#39;, &#39;w&#39;, &#39;x&#39;, &#39;y&#39;, &#39;z&#39;,\r\n        &#39;0&#39;, &#39;1&#39;, &#39;2&#39;, &#39;3&#39;, &#39;4&#39;, &#39;5&#39;, &#39;6&#39;, &#39;7&#39;, &#39;8&#39;, &#39;9&#39;, &#39;-&#39;, &#39;_&#39;\r\n    };\r\n\r\n...\r\n\r\n    static final Encoder RFC4648_URLSAFE = new Encoder(true, null, -1, true);\r\n\r\n\r\n```\r\n\r\n","title":"Decode base64Url in Java","body":"<p><code>Base64.getUrlEncoder()</code> already using <code>-</code>, <code>_</code> instead of <code>+</code>, <code>/</code>.</p>\n<p>See:</p>\n<p>java-1.8.0/src.zip!/java/util/Base64.java</p>\n<p><code>java.util.Base64</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>    /* Returns a Base64.Encoder that encodes using the URL and Filename safe type \n     * base64 encoding scheme.\n     * Returns: A Base64 encoder.\n     * */\n\n\n    public static Encoder getUrlEncoder() {\n         return Encoder.RFC4648_URLSAFE;\n    }\n\n...\n\n    /*\n     * It's the lookup table for &quot;URL and Filename safe Base64&quot; as specified in \n     * Table 2 of the RFC 4648, with the '+' and '/' changed to '-' and '_'. This \n     * table is used when BASE64_URL is specified.\n     * */\n\n    private static final char[] toBase64URL = {\n        'A', 'B', 'C', 'D', 'E', 'F', 'G', 'H', 'I', 'J', 'K', 'L', 'M',\n        'N', 'O', 'P', 'Q', 'R', 'S', 'T', 'U', 'V', 'W', 'X', 'Y', 'Z',\n        'a', 'b', 'c', 'd', 'e', 'f', 'g', 'h', 'i', 'j', 'k', 'l', 'm',\n        'n', 'o', 'p', 'q', 'r', 's', 't', 'u', 'v', 'w', 'x', 'y', 'z',\n        '0', '1', '2', '3', '4', '5', '6', '7', '8', '9', '-', '_'\n    };\n\n...\n\n    static final Encoder RFC4648_URLSAFE = new Encoder(true, null, -1, true);\n\n\n</code></pre>\n"}],"owner":{"account_id":29845,"reputation":31302,"user_id":80932,"accept_rate":85,"display_name":"ufk"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":103562,"favorite_count":0,"down_vote_count":0,"up_vote_count":52,"accepted_answer_id":5641804,"answer_count":12,"score":52,"last_activity_date":1699389421,"creation_date":1302640342,"question_id":5641303,"body_markdown":"https://web.archive.org/web/20110422225659/https://en.wikipedia.org/wiki/Base64#URL_applications\r\n\r\ntalks about base64Url - Decode\r\n\r\n----\r\n a modified Base64 for URL variant exists, where no padding &#39;=&#39; will be used, and the &#39;+&#39; and &#39;/&#39; characters of standard Base64 are respectively replaced by &#39;-&#39; and &#39;_&#39;\r\n\r\n----\r\n\r\nI created the following function:\r\n\r\n\tpublic static String base64UrlDecode(String input) {\r\n\t\tString result = null;\r\n\t\tBASE64Decoder decoder = new BASE64Decoder();\r\n\t\ttry {\r\n\t\t\tresult = decoder.decodeBuffer(input.replace(&#39;-&#39;,&#39;+&#39;).replace(&#39;/&#39;,&#39;_&#39;)).toString();\r\n\t\t}\r\n\t\tcatch (IOException e) {\r\n\t\t\tSystem.out.println(e.getMessage());\r\n\t\t}\r\n\t\treturn result;\r\n\t}\r\n\r\nit returns a very small set of characters that don&#39;t even resemble to the expected results.\r\nany ideas?\r\n ","title":"Decode base64Url in Java","body":"<p><a href=\"https://web.archive.org/web/20110422225659/https://en.wikipedia.org/wiki/Base64#URL_applications\" rel=\"noreferrer\">https://web.archive.org/web/20110422225659/https://en.wikipedia.org/wiki/Base64#URL_applications</a></p>\n\n<p>talks about base64Url - Decode</p>\n\n<hr>\n\n<p>a modified Base64 for URL variant exists, where no padding '=' will be used, and the '+' and '/' characters of standard Base64 are respectively replaced by '-' and '_'</p>\n\n<hr>\n\n<p>I created the following function:</p>\n\n<pre><code>public static String base64UrlDecode(String input) {\n    String result = null;\n    BASE64Decoder decoder = new BASE64Decoder();\n    try {\n        result = decoder.decodeBuffer(input.replace('-','+').replace('/','_')).toString();\n    }\n    catch (IOException e) {\n        System.out.println(e.getMessage());\n    }\n    return result;\n}\n</code></pre>\n\n<p>it returns a very small set of characters that don't even resemble to the expected results.\nany ideas?</p>\n"},{"tags":["java","maven","dependency-management"],"comments":[{"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1699385493,"post_id":77440931,"comment_id":136524350,"body_markdown":"Please **do not** post images of code, data, error messages, etc. Copy or type the text into the question. Please reserve the use of images for diagrams or demonstrating rendering bugs, things that are impossible to describe accurately via text. Code or sample data in images can&#39;t be copied and pasted in order to search about a problem or reproduce it. For more details read the Meta FAQ entry [Why not upload images of code/errors when asking a question?](https://meta.stackoverflow.com/questions/285551/why-should-i-not-upload-images-of-code-data-errors/285557#285557)","body":"Please <b>do not</b> post images of code, data, error messages, etc. Copy or type the text into the question. Please reserve the use of images for diagrams or demonstrating rendering bugs, things that are impossible to describe accurately via text. Code or sample data in images can&#39;t be copied and pasted in order to search about a problem or reproduce it. For more details read the Meta FAQ entry <a href=\"https://meta.stackoverflow.com/questions/285551/why-should-i-not-upload-images-of-code-data-errors/285557#285557\">Why not upload images of code/errors when asking a question?</a>"}],"answers":[{"tags":[],"owner":{"account_id":11555562,"reputation":316,"user_id":8466853,"display_name":"Arno"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1699389275,"creation_date":1699389275,"answer_id":77441301,"question_id":77440931,"body_markdown":"The error message you&#39;ve posted is related to cpha-common:cpha-service artifact and not to com.google.gdata artifact. The latter are available in offical maven repo. So I assume it is related to your parent project.","title":"com.google.gdata - Maven Dependency","body":"<p>The error message you've posted is related to cpha-common:cpha-service artifact and not to com.google.gdata artifact. The latter are available in offical maven repo. So I assume it is related to your parent project.</p>\n"}],"owner":{"account_id":5614999,"reputation":443,"user_id":4446662,"accept_rate":80,"display_name":"Spindoctor"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1699389275,"creation_date":1699385114,"question_id":77440931,"body_markdown":"I am new to maven. My maven project has the following dependencies - \r\n\r\n    &lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.google.gdata&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;gdata-analytics&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;compile&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.google.gdata&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;gdata-analytics-meta&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;compile&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.google.gdata&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;gdata-client&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;compile&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.google.gdata&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;gdata-client-meta&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;compile&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.google.gdata&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;gdata-core-cpha&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;compile&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.google.collect&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;google-collect&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;compile&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n\r\nWhen I run the mvn clean install command, I get the following error - \r\n\r\n     Failed to execute goal on project cpha-service: Could not resolve dependencies for project cpha-common:cpha-service:jar:3.4.5: The following artifacts could not be resolved: com.google.gdata:gdata-client:jar:1.0 (present, but unavailable), com.google.gdata:gdata-client-meta:jar:1.0 (present, but unavailable), com.google.gdata:gdata-core-cpha:jar:1.0 (present, but unavailable), com.google.collect:google-collect:jar:1.0-rc1 (present, but unavailable): Could not find artifact com.google.gdata:gdata-client:jar:1.0 in repo2 (https://repo1.maven.org/maven2/)\r\n\r\nWhen I look at the configured repository within the parent maven pom.xml, I see the following but traversing the link - https://repo1.maven.org/maven2/com/google/gdata yields no such package. How do I resolve this? No repositories seem to have the com.google.gdata package. \r\n\r\n    &lt;repository&gt;\r\n    \t\t\t&lt;id&gt;repo2&lt;/id&gt;\r\n    \t\t\t&lt;name&gt;repo2&lt;/name&gt;\r\n    \t\t\t&lt;url&gt;https://repo1.maven.org/maven2/&lt;/url&gt;\r\n    \t\t\t&lt;layout&gt;default&lt;/layout&gt;\r\n    \t\t\t&lt;releases&gt;\r\n    \t\t\t\t&lt;enabled&gt;true&lt;/enabled&gt;\r\n    \t\t\t\t&lt;updatePolicy&gt;never&lt;/updatePolicy&gt;\r\n    \t\t\t&lt;/releases&gt;\r\n    \t\t\t&lt;snapshots&gt;\r\n    \t\t\t\t&lt;enabled&gt;true&lt;/enabled&gt;\r\n    \t\t\t\t&lt;updatePolicy&gt;never&lt;/updatePolicy&gt;\r\n    \t\t\t&lt;/snapshots&gt;\r\n    \t\t&lt;/repository&gt;\r\n\r\n  [1]: https://i.stack.imgur.com/oTmXY.png","title":"com.google.gdata - Maven Dependency","body":"<p>I am new to maven. My maven project has the following dependencies -</p>\n<pre><code>&lt;dependency&gt;\n            &lt;groupId&gt;com.google.gdata&lt;/groupId&gt;\n            &lt;artifactId&gt;gdata-analytics&lt;/artifactId&gt;\n            &lt;scope&gt;compile&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.gdata&lt;/groupId&gt;\n            &lt;artifactId&gt;gdata-analytics-meta&lt;/artifactId&gt;\n            &lt;scope&gt;compile&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.gdata&lt;/groupId&gt;\n            &lt;artifactId&gt;gdata-client&lt;/artifactId&gt;\n            &lt;scope&gt;compile&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.gdata&lt;/groupId&gt;\n            &lt;artifactId&gt;gdata-client-meta&lt;/artifactId&gt;\n            &lt;scope&gt;compile&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.gdata&lt;/groupId&gt;\n            &lt;artifactId&gt;gdata-core-cpha&lt;/artifactId&gt;\n            &lt;scope&gt;compile&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.collect&lt;/groupId&gt;\n            &lt;artifactId&gt;google-collect&lt;/artifactId&gt;\n            &lt;scope&gt;compile&lt;/scope&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>When I run the mvn clean install command, I get the following error -</p>\n<pre><code> Failed to execute goal on project cpha-service: Could not resolve dependencies for project cpha-common:cpha-service:jar:3.4.5: The following artifacts could not be resolved: com.google.gdata:gdata-client:jar:1.0 (present, but unavailable), com.google.gdata:gdata-client-meta:jar:1.0 (present, but unavailable), com.google.gdata:gdata-core-cpha:jar:1.0 (present, but unavailable), com.google.collect:google-collect:jar:1.0-rc1 (present, but unavailable): Could not find artifact com.google.gdata:gdata-client:jar:1.0 in repo2 (https://repo1.maven.org/maven2/)\n</code></pre>\n<p>When I look at the configured repository within the parent maven pom.xml, I see the following but traversing the link - <a href=\"https://repo1.maven.org/maven2/com/google/gdata\" rel=\"nofollow noreferrer\">https://repo1.maven.org/maven2/com/google/gdata</a> yields no such package. How do I resolve this? No repositories seem to have the com.google.gdata package.</p>\n<pre><code>&lt;repository&gt;\n            &lt;id&gt;repo2&lt;/id&gt;\n            &lt;name&gt;repo2&lt;/name&gt;\n            &lt;url&gt;https://repo1.maven.org/maven2/&lt;/url&gt;\n            &lt;layout&gt;default&lt;/layout&gt;\n            &lt;releases&gt;\n                &lt;enabled&gt;true&lt;/enabled&gt;\n                &lt;updatePolicy&gt;never&lt;/updatePolicy&gt;\n            &lt;/releases&gt;\n            &lt;snapshots&gt;\n                &lt;enabled&gt;true&lt;/enabled&gt;\n                &lt;updatePolicy&gt;never&lt;/updatePolicy&gt;\n            &lt;/snapshots&gt;\n        &lt;/repository&gt;\n</code></pre>\n"},{"tags":["python","java","lua","neovim"],"answers":[{"comments":[{"owner":{"account_id":29660535,"reputation":23,"user_id":22732185,"display_name":"Eli Bell"},"score":1,"creation_date":1699395029,"post_id":77441277,"comment_id":136525723,"body_markdown":"Thanks, it’s always the silliest little mistakes.","body":"Thanks, it’s always the silliest little mistakes."}],"tags":[],"owner":{"account_id":29782616,"reputation":51,"user_id":22824737,"display_name":"Josh"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1699388970,"creation_date":1699388970,"answer_id":77441277,"question_id":77441092,"body_markdown":"vim.cmd pretty much executes the argument just like if you were typing it in the command bar (with an implicit preceding colon). It seems you’re executing “:term: python3” instead of “:term python3”. The terminal is trying to execute &quot;: python3&quot; and obviously failing. Remove the colon and you should be good.\r\n\r\nhttps://neovim.io/doc/user/lua.html#vim.cmd()","title":"nvim: compile/run code based on filetype in function from keymap using lua","body":"<p>vim.cmd pretty much executes the argument just like if you were typing it in the command bar (with an implicit preceding colon). It seems you’re executing “:term: python3” instead of “:term python3”. The terminal is trying to execute &quot;: python3&quot; and obviously failing. Remove the colon and you should be good.</p>\n<p><a href=\"https://neovim.io/doc/user/lua.html#vim.cmd()\" rel=\"nofollow noreferrer\">https://neovim.io/doc/user/lua.html#vim.cmd()</a></p>\n"}],"owner":{"account_id":29660535,"reputation":23,"user_id":22732185,"display_name":"Eli Bell"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":77441277,"answer_count":1,"score":2,"last_activity_date":1699388970,"creation_date":1699386819,"question_id":77441092,"body_markdown":"I&#39;m trying to map my F12 key to compile and run code in neovim using the term command. I&#39;ve been able to get it to work for java files, but only if I opened nvim from the same location as the file I&#39;m running. Otherwise I get an error like this:\r\n```\r\nError: could not find or load main class CSC-101.Proj.4.Hangman\r\nCaused by: Java.lang.NoClassDefFoundError: Hangman (wrong name: CSC-101/Proj/4/Hangman)\r\n\r\n[process exited 1]\r\n```\r\nWhen I try with python, even when I run it from the same working directory I get nothing but:\r\n\r\n```\r\n[process exited 0]&#39;\r\n```\r\n\r\n\r\nWhich I don&#39;t understand because when I type &quot;:term python3 %&quot; in nvim, it works perfectly.\r\nHere is the function I&#39;m using:\r\n```\r\nfuncs.run_code = function()\r\n    local filename = vim.fn.expand(&quot;%&quot;)\r\n    local basename = vim.fn.expand(&quot;%:r&quot;)\r\n\tlocal filetype = vim.bo.filetype\r\n\tlocal cmd = nil\r\n    if filetype == &quot;python&quot; then\r\n        cmd = &quot;term: python3 &quot;..filename\r\n    elseif filetype == &quot;java&quot; then\r\n        cmd = &quot;term: javac &quot;..filename..&quot; &amp;&amp; java &quot;..basename\r\n\tend\r\n\tif cmd then\r\n  \t\tvim.cmd(&quot;w&quot;)\r\n\t\tvim.cmd(cmd)\r\n\telse\r\n\t\tprint(&quot;No interpreter or compiler defined for filetype: &#39;&quot;..filetype..&quot;&#39;&quot;)\r\n\tend\r\nend\r\n```\r\nThanks!","title":"nvim: compile/run code based on filetype in function from keymap using lua","body":"<p>I'm trying to map my F12 key to compile and run code in neovim using the term command. I've been able to get it to work for java files, but only if I opened nvim from the same location as the file I'm running. Otherwise I get an error like this:</p>\n<pre><code>Error: could not find or load main class CSC-101.Proj.4.Hangman\nCaused by: Java.lang.NoClassDefFoundError: Hangman (wrong name: CSC-101/Proj/4/Hangman)\n\n[process exited 1]\n</code></pre>\n<p>When I try with python, even when I run it from the same working directory I get nothing but:</p>\n<pre><code>[process exited 0]'\n</code></pre>\n<p>Which I don't understand because when I type &quot;:term python3 %&quot; in nvim, it works perfectly.\nHere is the function I'm using:</p>\n<pre><code>funcs.run_code = function()\n    local filename = vim.fn.expand(&quot;%&quot;)\n    local basename = vim.fn.expand(&quot;%:r&quot;)\n    local filetype = vim.bo.filetype\n    local cmd = nil\n    if filetype == &quot;python&quot; then\n        cmd = &quot;term: python3 &quot;..filename\n    elseif filetype == &quot;java&quot; then\n        cmd = &quot;term: javac &quot;..filename..&quot; &amp;&amp; java &quot;..basename\n    end\n    if cmd then\n        vim.cmd(&quot;w&quot;)\n        vim.cmd(cmd)\n    else\n        print(&quot;No interpreter or compiler defined for filetype: '&quot;..filetype..&quot;'&quot;)\n    end\nend\n</code></pre>\n<p>Thanks!</p>\n"},{"tags":["java","google-api","google-calendar-api","google-api-java-client","service-accounts"],"answers":[{"tags":[],"owner":{"account_id":2066403,"reputation":109440,"user_id":1841839,"accept_rate":71,"display_name":"Linda Lawton - DaImTo"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1608576605,"creation_date":1608537995,"answer_id":65389342,"question_id":65368884,"body_markdown":"Fist off I want to say that this is something new, if you are seeing a lot of questions, and tutorials that did not state you needed to do this its because service accounts used to be able to send invites, this is something google locked down about a year ago.\r\n\r\n\r\nThis should work but i have not tested it as i no longer have access to a Gsuite account. You need to have the gsuite admin set up [domain wide delegation](https://developers.google.com/admin-sdk/directory/v1/guides/delegation) to anther user.  Then the service account needs to impersonate that user so it will appear as that user is the one sending the invites.\r\n\r\nThe only example I have for how that is added is in .net\r\n\r\n# .net example    \r\n\r\n\r\n    var gsuiteUser = &quot;se@clawskeyboard.com&quot;;\r\n    var serviceAccountCredentialInitializer = new ServiceAccountCredential.Initializer(serviceAccount)\r\n                {\r\n                    User = gsuiteUser,\r\n                    Scopes = new[] { GmailService.Scope.GmailSend, GmailService.Scope.GmailLabels }\r\n    \r\n                }.FromCertificate(certificate);\r\n\r\n\r\n\r\n# Java example guess\r\n\r\nI am not a java dev but the .net client library and the Java client library are very close in how they were developed. I would guess that you are looking for a method called setServiceAccountUser\r\n\r\n\r\n    GoogleCredential credential = new  GoogleCredential.Builder().setTransport(HTTP_TRANSPORT)\r\n                    .setJsonFactory(JSON_FACTORY)\r\n                    .setServiceAccountId(SERVICE_ACCOUNT_EMAIL)\r\n                    .setServiceAccountScopes(CalendarScopes.CALENDAR)\r\n                    .setServiceAccountPrivateKeyFromP12File(credsPath))\r\n                    .setServiceAccountUser(gsuiteUser)\r\n                    .build();\r\n\r\n* [OAuth2 for Service Accounts](https://developers.google.com/identity/protocols/oauth2/service-account)","title":"Error while creating google calendar event with a service account","body":"<p>Fist off I want to say that this is something new, if you are seeing a lot of questions, and tutorials that did not state you needed to do this its because service accounts used to be able to send invites, this is something google locked down about a year ago.</p>\n<p>This should work but i have not tested it as i no longer have access to a Gsuite account. You need to have the gsuite admin set up <a href=\"https://developers.google.com/admin-sdk/directory/v1/guides/delegation\" rel=\"nofollow noreferrer\">domain wide delegation</a> to anther user.  Then the service account needs to impersonate that user so it will appear as that user is the one sending the invites.</p>\n<p>The only example I have for how that is added is in .net</p>\n<h1>.net example</h1>\n<pre><code>var gsuiteUser = &quot;se@clawskeyboard.com&quot;;\nvar serviceAccountCredentialInitializer = new ServiceAccountCredential.Initializer(serviceAccount)\n            {\n                User = gsuiteUser,\n                Scopes = new[] { GmailService.Scope.GmailSend, GmailService.Scope.GmailLabels }\n\n            }.FromCertificate(certificate);\n</code></pre>\n<h1>Java example guess</h1>\n<p>I am not a java dev but the .net client library and the Java client library are very close in how they were developed. I would guess that you are looking for a method called setServiceAccountUser</p>\n<pre><code>GoogleCredential credential = new  GoogleCredential.Builder().setTransport(HTTP_TRANSPORT)\n                .setJsonFactory(JSON_FACTORY)\n                .setServiceAccountId(SERVICE_ACCOUNT_EMAIL)\n                .setServiceAccountScopes(CalendarScopes.CALENDAR)\n                .setServiceAccountPrivateKeyFromP12File(credsPath))\n                .setServiceAccountUser(gsuiteUser)\n                .build();\n</code></pre>\n<ul>\n<li><a href=\"https://developers.google.com/identity/protocols/oauth2/service-account\" rel=\"nofollow noreferrer\">OAuth2 for Service Accounts</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":15217000,"reputation":18,"user_id":10980081,"display_name":"Maica Ballangan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663164205,"creation_date":1663164205,"answer_id":73718215,"question_id":65368884,"body_markdown":"You should be able to impersonate the account user by setting the **delegated** variable to the user&#39;s email in the GoogleCredential object.\r\n\r\n```\r\nGoogleCredential credential = GoogleCredential.fromStream(new FileInputStream(&quot;credentials.json&quot;))\r\n    .createScoped(&lt;SCOPES&gt;)\r\n    .createDelegated(&quot;user@example.com&quot;);\r\n```","title":"Error while creating google calendar event with a service account","body":"<p>You should be able to impersonate the account user by setting the <strong>delegated</strong> variable to the user's email in the GoogleCredential object.</p>\n<pre><code>GoogleCredential credential = GoogleCredential.fromStream(new FileInputStream(&quot;credentials.json&quot;))\n    .createScoped(&lt;SCOPES&gt;)\n    .createDelegated(&quot;user@example.com&quot;);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2353422,"reputation":21,"user_id":2061793,"display_name":"Maxime"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699388740,"creation_date":1699388740,"answer_id":77441258,"question_id":65368884,"body_markdown":"Domain wide delegation just is terrible practice and not at all acceptable for most organizations. \r\n\r\nService accounts should be able to impersonate *specific* people, not the whole freaking domain... ","title":"Error while creating google calendar event with a service account","body":"<p>Domain wide delegation just is terrible practice and not at all acceptable for most organizations.</p>\n<p>Service accounts should be able to impersonate <em>specific</em> people, not the whole freaking domain...</p>\n"}],"owner":{"account_id":10480919,"reputation":1432,"user_id":7725942,"accept_rate":33,"display_name":"Naanavanalla"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1279,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":3,"score":3,"last_activity_date":1699388740,"creation_date":1608374263,"question_id":65368884,"body_markdown":"I have a requirement of creating a google calendar event on a calendar and add other users as attendees to that event. The objective is to send calendar events to the application users without taking their consent ( O-Auth ).\r\n\r\nAfter reading Google&#39;s documentation, I found out that I need a service account. So I created a project and a service account from one of the email addresses of our G-Suite, noreply@xxxxx.com and enabled calendar API for the same.\r\n\r\nI created and downloaded a key pair ( JSON ) whose content is, \r\n\r\n    {\r\n      &quot;type&quot;: &quot;service_account&quot;,\r\n      &quot;project_id&quot;: &quot;*****&quot;,\r\n      &quot;private_key_id&quot;: &quot;bdbbcd**************49f77d599f2&quot;,\r\n      &quot;private_key&quot;: &quot;**&quot;\r\n      &quot;client_email&quot;: &quot;******@*****.iam.gserviceaccount.com&quot;,\r\n      &quot;client_id&quot;: &quot;11083******576856&quot;,\r\n      &quot;auth_uri&quot;: &quot;https://accounts.google.com/o/oauth2/auth&quot;,\r\n      &quot;token_uri&quot;: &quot;https://oauth2.googleapis.com/token&quot;,\r\n      &quot;auth_provider_x509_cert_url&quot;: &quot;https://www.googleapis.com/oauth2/v1/certs&quot;,\r\n      &quot;client_x509_cert_url&quot;: &quot;https://www.googleapis.com/robot/v1/metadata/x509/****dev%40*****kdev.iam.gserviceaccount.com&quot;\r\n    }\r\n\r\nAnd as per the documentation, I proceded to write authentication flow code,\r\n\r\n    public static GoogleCredential doOauth( String credsPath ) throws IOException\r\n        {\r\n            GoogleCredential credential = GoogleCredential.fromStream(new FileInputStream(credsPath))\r\n                    .createScoped(Collections.singleton(CalendarScopes.CALENDAR));\r\n            System.out.println(credential);\r\n            return credential;\r\n        }\r\n\r\nThe `credential` object has most of the details from the key file. But, the fields, `serviceAccountUser`, `accessToken`, `refreshToken`, `clientAuthentication` and `requestInitializer` have `null` value. ( I am guessing something wrong here )\r\n\r\nNow, using the `credentialObject`, I continued to write the code as per the documentation to create the event.\r\n\r\n \r\n\r\n    GoogleCredential credential = doOauth(CREDENTIALS_FILE_PATH);\r\n            Event event = new Event().setSummary(&quot;Google I/O 2015&quot;).setLocation(&quot;800 Howard St., San Francisco, CA 94103&quot;)\r\n                    .setDescription(&quot;A chance to hear more about Google&#39;s developer products.&quot;);\r\n            final NetHttpTransport HTTP_TRANSPORT = GoogleNetHttpTransport.newTrustedTransport();\r\n    \r\n            DateTime startDateTime = new DateTime(&quot;2020-12-28T09:00:00-07:00&quot;);\r\n            EventDateTime start = new EventDateTime().setDateTime(startDateTime).setTimeZone(&quot;America/Los_Angeles&quot;);\r\n            event.setStart(start);\r\n    \r\n            DateTime endDateTime = new DateTime(&quot;2020-12-28T17:00:00-07:00&quot;);\r\n            EventDateTime end = new EventDateTime().setDateTime(endDateTime).setTimeZone(&quot;America/Los_Angeles&quot;);\r\n            event.setEnd(end);\r\n    \r\n            String[] recurrence = new String[] { &quot;RRULE:FREQ=DAILY;COUNT=2&quot; };\r\n            event.setRecurrence(Arrays.asList(recurrence));\r\n    \r\n            EventAttendee[] attendees = new EventAttendee[] { new EventAttendee().setEmail(&quot;myemailaddress@gmail.com.com&quot;) };\r\n            event.setAttendees(Arrays.asList(attendees));\r\n    \r\n            EventReminder[] reminderOverrides = new EventReminder[] {\r\n                    new EventReminder().setMethod(&quot;email&quot;).setMinutes(24 * 60),\r\n                    new EventReminder().setMethod(&quot;popup&quot;).setMinutes(10), };\r\n            Event.Reminders reminders = new Event.Reminders().setUseDefault(false)\r\n                    .setOverrides(Arrays.asList(reminderOverrides));\r\n            event.setReminders(reminders);\r\n            String calendarId = &quot;primary&quot;;\r\n            Calendar service = new Calendar.Builder(HTTP_TRANSPORT, JSON_FACTORY, credential)\r\n                    .setApplicationName(&quot;testapp&quot;).build();\r\n            event = service.events().insert(calendarId, event).execute();\r\n            System.out.printf(&quot;Event created: %s\\n&quot;, event.getHtmlLink());\r\n\r\n But, this resulted in the error, \r\n\r\n    {\r\n      &quot;code&quot; : 403,\r\n      &quot;errors&quot; : [ {\r\n        &quot;domain&quot; : &quot;calendar&quot;,\r\n        &quot;message&quot; : &quot;Service accounts cannot invite attendees without Domain-Wide Delegation of Authority.&quot;,\r\n        &quot;reason&quot; : &quot;forbiddenForServiceAccounts&quot;\r\n      } ],\r\n      &quot;message&quot; : &quot;Service accounts cannot invite attendees without Domain-Wide Delegation of Authority.&quot;\r\n    }\r\n\r\nAfter spending time on `Domain-Wide Delegation`, I understood that this is needed if we have to send the event as other user from our g-suite, which is not needed for my problem. But, to debug, I went ahead and provided `Domain-Wide Delegation` and re ran the program. The same error came again.\r\n\r\nSo, I removed the invitees/attendees from the `event` object and re ran the application. This time the program ran without any error, but the event link generated, on click says, `Could not find the requested event`.\r\n\r\nI do not see any examples of using the service account via java client libraries on the google developer link.\r\n\r\nCan you please let me know what is going wrong here and the official/working documentation on how exactly to create a google calendar event from my project add other ( non g suite as well ) users to add as attendees, so that I do not have to get consent from other users to add events to their own calendar?\r\n\r\nThank You.","title":"Error while creating google calendar event with a service account","body":"<p>I have a requirement of creating a google calendar event on a calendar and add other users as attendees to that event. The objective is to send calendar events to the application users without taking their consent ( O-Auth ).</p>\n<p>After reading Google's documentation, I found out that I need a service account. So I created a project and a service account from one of the email addresses of our G-Suite, noreply@xxxxx.com and enabled calendar API for the same.</p>\n<p>I created and downloaded a key pair ( JSON ) whose content is,</p>\n<pre><code>{\n  &quot;type&quot;: &quot;service_account&quot;,\n  &quot;project_id&quot;: &quot;*****&quot;,\n  &quot;private_key_id&quot;: &quot;bdbbcd**************49f77d599f2&quot;,\n  &quot;private_key&quot;: &quot;**&quot;\n  &quot;client_email&quot;: &quot;******@*****.iam.gserviceaccount.com&quot;,\n  &quot;client_id&quot;: &quot;11083******576856&quot;,\n  &quot;auth_uri&quot;: &quot;https://accounts.google.com/o/oauth2/auth&quot;,\n  &quot;token_uri&quot;: &quot;https://oauth2.googleapis.com/token&quot;,\n  &quot;auth_provider_x509_cert_url&quot;: &quot;https://www.googleapis.com/oauth2/v1/certs&quot;,\n  &quot;client_x509_cert_url&quot;: &quot;https://www.googleapis.com/robot/v1/metadata/x509/****dev%40*****kdev.iam.gserviceaccount.com&quot;\n}\n</code></pre>\n<p>And as per the documentation, I proceded to write authentication flow code,</p>\n<pre><code>public static GoogleCredential doOauth( String credsPath ) throws IOException\n    {\n        GoogleCredential credential = GoogleCredential.fromStream(new FileInputStream(credsPath))\n                .createScoped(Collections.singleton(CalendarScopes.CALENDAR));\n        System.out.println(credential);\n        return credential;\n    }\n</code></pre>\n<p>The <code>credential</code> object has most of the details from the key file. But, the fields, <code>serviceAccountUser</code>, <code>accessToken</code>, <code>refreshToken</code>, <code>clientAuthentication</code> and <code>requestInitializer</code> have <code>null</code> value. ( I am guessing something wrong here )</p>\n<p>Now, using the <code>credentialObject</code>, I continued to write the code as per the documentation to create the event.</p>\n<pre><code>GoogleCredential credential = doOauth(CREDENTIALS_FILE_PATH);\n        Event event = new Event().setSummary(&quot;Google I/O 2015&quot;).setLocation(&quot;800 Howard St., San Francisco, CA 94103&quot;)\n                .setDescription(&quot;A chance to hear more about Google's developer products.&quot;);\n        final NetHttpTransport HTTP_TRANSPORT = GoogleNetHttpTransport.newTrustedTransport();\n\n        DateTime startDateTime = new DateTime(&quot;2020-12-28T09:00:00-07:00&quot;);\n        EventDateTime start = new EventDateTime().setDateTime(startDateTime).setTimeZone(&quot;America/Los_Angeles&quot;);\n        event.setStart(start);\n\n        DateTime endDateTime = new DateTime(&quot;2020-12-28T17:00:00-07:00&quot;);\n        EventDateTime end = new EventDateTime().setDateTime(endDateTime).setTimeZone(&quot;America/Los_Angeles&quot;);\n        event.setEnd(end);\n\n        String[] recurrence = new String[] { &quot;RRULE:FREQ=DAILY;COUNT=2&quot; };\n        event.setRecurrence(Arrays.asList(recurrence));\n\n        EventAttendee[] attendees = new EventAttendee[] { new EventAttendee().setEmail(&quot;myemailaddress@gmail.com.com&quot;) };\n        event.setAttendees(Arrays.asList(attendees));\n\n        EventReminder[] reminderOverrides = new EventReminder[] {\n                new EventReminder().setMethod(&quot;email&quot;).setMinutes(24 * 60),\n                new EventReminder().setMethod(&quot;popup&quot;).setMinutes(10), };\n        Event.Reminders reminders = new Event.Reminders().setUseDefault(false)\n                .setOverrides(Arrays.asList(reminderOverrides));\n        event.setReminders(reminders);\n        String calendarId = &quot;primary&quot;;\n        Calendar service = new Calendar.Builder(HTTP_TRANSPORT, JSON_FACTORY, credential)\n                .setApplicationName(&quot;testapp&quot;).build();\n        event = service.events().insert(calendarId, event).execute();\n        System.out.printf(&quot;Event created: %s\\n&quot;, event.getHtmlLink());\n</code></pre>\n<p>But, this resulted in the error,</p>\n<pre><code>{\n  &quot;code&quot; : 403,\n  &quot;errors&quot; : [ {\n    &quot;domain&quot; : &quot;calendar&quot;,\n    &quot;message&quot; : &quot;Service accounts cannot invite attendees without Domain-Wide Delegation of Authority.&quot;,\n    &quot;reason&quot; : &quot;forbiddenForServiceAccounts&quot;\n  } ],\n  &quot;message&quot; : &quot;Service accounts cannot invite attendees without Domain-Wide Delegation of Authority.&quot;\n}\n</code></pre>\n<p>After spending time on <code>Domain-Wide Delegation</code>, I understood that this is needed if we have to send the event as other user from our g-suite, which is not needed for my problem. But, to debug, I went ahead and provided <code>Domain-Wide Delegation</code> and re ran the program. The same error came again.</p>\n<p>So, I removed the invitees/attendees from the <code>event</code> object and re ran the application. This time the program ran without any error, but the event link generated, on click says, <code>Could not find the requested event</code>.</p>\n<p>I do not see any examples of using the service account via java client libraries on the google developer link.</p>\n<p>Can you please let me know what is going wrong here and the official/working documentation on how exactly to create a google calendar event from my project add other ( non g suite as well ) users to add as attendees, so that I do not have to get consent from other users to add events to their own calendar?</p>\n<p>Thank You.</p>\n"},{"tags":["java","visual-studio-code"],"answers":[{"tags":[],"owner":{"account_id":15396644,"reputation":25775,"user_id":11107541,"display_name":"starball"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1699388031,"creation_date":1699388031,"answer_id":77441194,"question_id":77440687,"body_markdown":"This seems to be an issue stemming from the [`georgewfraser.vscode-javac`](https://marketplace.visualstudio.com/items?itemName=georgewfraser.vscode-javac)- possibly when combined with the [`redhat.java`](https://marketplace.visualstudio.com/items?itemName=redhat.java) extension- at least- [from the experience](https://www.reddit.com/r/vscode/comments/17pxrpm/comment/k88ufov) of [u/chopfab\\_\\_](https://www.reddit.com/user/chopfab__/). Consider just disabling `georgewfraser.vscode-javac` as they did. You might not need it if you already have another Java language support extension enabled. If you originally installed it because you were looking for more Java extensions to try, note that [Oracle also released one in 2023](https://inside.java/2023/10/18/announcing-vscode-extension/). You can also search &quot;`@category:&quot;programming languages&quot; java`&quot; in the Extensions View. I have no affiliation with any of these extensions.","title":"In VS Code, why am I observing syntax-highlighting bugs in Java code that align to the same column?","body":"<p>This seems to be an issue stemming from the <a href=\"https://marketplace.visualstudio.com/items?itemName=georgewfraser.vscode-javac\" rel=\"nofollow noreferrer\"><code>georgewfraser.vscode-javac</code></a>- possibly when combined with the <a href=\"https://marketplace.visualstudio.com/items?itemName=redhat.java\" rel=\"nofollow noreferrer\"><code>redhat.java</code></a> extension- at least- <a href=\"https://www.reddit.com/r/vscode/comments/17pxrpm/comment/k88ufov\" rel=\"nofollow noreferrer\">from the experience</a> of <a href=\"https://www.reddit.com/user/chopfab__/\" rel=\"nofollow noreferrer\">u/chopfab__</a>. Consider just disabling <code>georgewfraser.vscode-javac</code> as they did. You might not need it if you already have another Java language support extension enabled. If you originally installed it because you were looking for more Java extensions to try, note that <a href=\"https://inside.java/2023/10/18/announcing-vscode-extension/\" rel=\"nofollow noreferrer\">Oracle also released one in 2023</a>. You can also search &quot;<code>@category:&quot;programming languages&quot; java</code>&quot; in the Extensions View. I have no affiliation with any of these extensions.</p>\n"}],"owner":{"account_id":15396644,"reputation":25775,"user_id":11107541,"display_name":"starball"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77441194,"answer_count":1,"score":0,"last_activity_date":1699388031,"creation_date":1699382443,"question_id":77440687,"body_markdown":"![Example screenshot 1][1]\r\n\r\n(courtesy of https://www.reddit.com/r/vscode/comments/17pxrpm posted by u/chopfab\\_\\_)\r\n\r\n![Example screenshot 2][2]\r\n\r\n(courtesy of https://www.reddit.com/r/vscode/comments/16szhue posted by u/NeighborhoodNo8750)\r\n\r\nNotice how the syntax-highlighting issues are aligned to specific columns. I have several Java extensions installed.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/6H7of.png\r\n  [2]: https://i.stack.imgur.com/ilPYj.png","title":"In VS Code, why am I observing syntax-highlighting bugs in Java code that align to the same column?","body":"<p><img src=\"https://i.stack.imgur.com/6H7of.png\" alt=\"Example screenshot 1\" /></p>\n<p>(courtesy of <a href=\"https://www.reddit.com/r/vscode/comments/17pxrpm\" rel=\"nofollow noreferrer\">https://www.reddit.com/r/vscode/comments/17pxrpm</a> posted by u/chopfab__)</p>\n<p><img src=\"https://i.stack.imgur.com/ilPYj.png\" alt=\"Example screenshot 2\" /></p>\n<p>(courtesy of <a href=\"https://www.reddit.com/r/vscode/comments/16szhue\" rel=\"nofollow noreferrer\">https://www.reddit.com/r/vscode/comments/16szhue</a> posted by u/NeighborhoodNo8750)</p>\n<p>Notice how the syntax-highlighting issues are aligned to specific columns. I have several Java extensions installed.</p>\n"},{"tags":["java","android","permissions","storage","android-permissions"],"comments":[{"owner":{"account_id":21371577,"reputation":1913,"user_id":15739040,"display_name":"Vishal Beep"},"score":1,"creation_date":1635391748,"post_id":69747444,"comment_id":123287059,"body_markdown":"does your app work when user selected `Allow access to media only`.","body":"does your app work when user selected <code>Allow access to media only</code>."},{"owner":{"account_id":13447574,"reputation":1898,"user_id":10089811,"display_name":"Jakob"},"score":0,"creation_date":1635403553,"post_id":69747444,"comment_id":123289421,"body_markdown":"@VishalBeep No, it doesn&#39;t.","body":"@VishalBeep No, it doesn&#39;t."},{"owner":{"account_id":13447574,"reputation":1898,"user_id":10089811,"display_name":"Jakob"},"score":0,"creation_date":1635404220,"post_id":69747444,"comment_id":123289629,"body_markdown":"@blackapps Thank you very much. That&#39;s exactly what I was looking for :)","body":"@blackapps Thank you very much. That&#39;s exactly what I was looking for :)"}],"answers":[{"tags":[],"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1635429676,"creation_date":1635429676,"answer_id":69755522,"question_id":69747444,"body_markdown":"    Environment.isExternalStorageManager().","title":"How to check if &quot;Allow management of all files&quot; is allowed?","body":"<pre><code>Environment.isExternalStorageManager().\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2903814,"reputation":1,"user_id":2489765,"display_name":"Masoud Sobhi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699387754,"creation_date":1699387603,"answer_id":77441151,"question_id":69747444,"body_markdown":"this code work for me\r\n\r\n        fun hasAllFilesAccess(context: Context): Boolean {\r\n        val appOpsManager = context.getSystemService(APP_OPS_SERVICE) as AppOpsManager\r\n        try {\r\n            val app = context.packageManager.getApplicationInfo(context.packageName, 0)\r\n            return appOpsManager.unsafeCheckOpNoThrow(\r\n                &quot;android:manage_external_storage&quot;,\r\n                app.uid,\r\n                context.packageName\r\n            ) == AppOpsManager.MODE_ALLOWED\r\n        } catch (e: PackageManager.NameNotFoundException) {\r\n            e.printStackTrace()\r\n        } catch (e: NoSuchMethodError) {\r\n            return true\r\n        }\r\n        return false\r\n    }","title":"How to check if &quot;Allow management of all files&quot; is allowed?","body":"<p>this code work for me</p>\n<pre><code>    fun hasAllFilesAccess(context: Context): Boolean {\n    val appOpsManager = context.getSystemService(APP_OPS_SERVICE) as AppOpsManager\n    try {\n        val app = context.packageManager.getApplicationInfo(context.packageName, 0)\n        return appOpsManager.unsafeCheckOpNoThrow(\n            &quot;android:manage_external_storage&quot;,\n            app.uid,\n            context.packageName\n        ) == AppOpsManager.MODE_ALLOWED\n    } catch (e: PackageManager.NameNotFoundException) {\n        e.printStackTrace()\n    } catch (e: NoSuchMethodError) {\n        return true\n    }\n    return false\n}\n</code></pre>\n"}],"owner":{"account_id":13447574,"reputation":1898,"user_id":10089811,"display_name":"Jakob"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1023,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":69755522,"answer_count":2,"score":1,"last_activity_date":1699387754,"creation_date":1635386814,"question_id":69747444,"body_markdown":"There are basically 3 types of storage permissions in the android app settings: &lt;br&gt;&lt;br&gt;\r\n[![enter image description here][1]][1]\r\n\r\nMy app requires the highest permission, so I use `&lt;uses-permission android:name=&quot;android.permission.MANAGE_EXTERNAL_STORAGE&quot;/&gt;` in `manifest.xml`.\r\n\r\nNow I want to block the whole app, if the permission is not granted. So I tried using this code to check, if the highest permission is granted, but it **always returns false**.\r\n\r\n    if(ActivityCompat.checkSelfPermission(requireActivity(), Manifest.permission.MANAGE_EXTERNAL_STORAGE) != PackageManager.PERMISSION_GRANTED)\r\n\r\nI also tried using `WRITE_EXTERNAL_STORAGE`, but it also returns true at the second option &quot;Allow access to media only&quot;.\r\n\r\n**Conclusion**\r\n\r\nI am looking for a `boolean` function:\r\n\r\n - Returning **true**, if &quot;Allow management of all files&quot; is selected\r\n\r\n - Returning **false**, if &quot;Allow access to media only&quot; is selected\r\n\r\n - Returning **false**, if &quot;Deny&quot; is selected\r\n\r\n  [1]: https://i.stack.imgur.com/Hc136.png\r\n\r\nThank you.","title":"How to check if &quot;Allow management of all files&quot; is allowed?","body":"<p>There are basically 3 types of storage permissions in the android app settings: <br><br>\n<a href=\"https://i.stack.imgur.com/Hc136.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Hc136.png\" alt=\"enter image description here\" /></a></p>\n<p>My app requires the highest permission, so I use <code>&lt;uses-permission android:name=&quot;android.permission.MANAGE_EXTERNAL_STORAGE&quot;/&gt;</code> in <code>manifest.xml</code>.</p>\n<p>Now I want to block the whole app, if the permission is not granted. So I tried using this code to check, if the highest permission is granted, but it <strong>always returns false</strong>.</p>\n<pre><code>if(ActivityCompat.checkSelfPermission(requireActivity(), Manifest.permission.MANAGE_EXTERNAL_STORAGE) != PackageManager.PERMISSION_GRANTED)\n</code></pre>\n<p>I also tried using <code>WRITE_EXTERNAL_STORAGE</code>, but it also returns true at the second option &quot;Allow access to media only&quot;.</p>\n<p><strong>Conclusion</strong></p>\n<p>I am looking for a <code>boolean</code> function:</p>\n<ul>\n<li><p>Returning <strong>true</strong>, if &quot;Allow management of all files&quot; is selected</p>\n</li>\n<li><p>Returning <strong>false</strong>, if &quot;Allow access to media only&quot; is selected</p>\n</li>\n<li><p>Returning <strong>false</strong>, if &quot;Deny&quot; is selected</p>\n</li>\n</ul>\n<p>Thank you.</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":2843847,"reputation":55833,"user_id":2442804,"accept_rate":80,"display_name":"luk2302"},"score":0,"creation_date":1553265766,"post_id":55301948,"comment_id":97332688,"body_markdown":"Define &quot;profile&quot;, the profile of which user, do you want to display the profile website, a link to it?? What app prompts? Your app, the twitter app? Do you have an API key to talk to any twitter API?","body":"Define &quot;profile&quot;, the profile of which user, do you want to display the profile website, a link to it?? What app prompts? Your app, the twitter app? Do you have an API key to talk to any twitter API?"},{"owner":{"account_id":6199714,"reputation":1,"user_id":5573774,"display_name":"Nevolute"},"score":0,"creation_date":1553267029,"post_id":55301948,"comment_id":97333432,"body_markdown":"I&#39;ve updated my question to answer some of your quesitons. I do not have an API key to talk to any twitter API.","body":"I&#39;ve updated my question to answer some of your quesitons. I do not have an API key to talk to any twitter API."},{"owner":{"account_id":2843847,"reputation":55833,"user_id":2442804,"accept_rate":80,"display_name":"luk2302"},"score":0,"creation_date":1553267095,"post_id":55301948,"comment_id":97333474,"body_markdown":"I am pretty sure that is not going to happen, the twitter app does basically nothing without a logged in user. You *could* just view the profile inside your own app, without opening the twitter app.","body":"I am pretty sure that is not going to happen, the twitter app does basically nothing without a logged in user. You <i>could</i> just view the profile inside your own app, without opening the twitter app."},{"owner":{"account_id":6199714,"reputation":1,"user_id":5573774,"display_name":"Nevolute"},"score":0,"creation_date":1553267371,"post_id":55301948,"comment_id":97333637,"body_markdown":"That would work! The app I&#39;ve been creating is a simple resume app and I just want the phone user to be able to view my twitter profile. How would I achieve this? Could you point me in a direction? Appreciate the replies.","body":"That would work! The app I&#39;ve been creating is a simple resume app and I just want the phone user to be able to view my twitter profile. How would I achieve this? Could you point me in a direction? Appreciate the replies."}],"answers":[{"comments":[{"owner":{"account_id":5609346,"reputation":885,"user_id":4442731,"display_name":"TomQDRS"},"score":0,"creation_date":1553275001,"post_id":55302129,"comment_id":97337970,"body_markdown":"I&#39;m trying to be encouraging so they take more time to write a better question in the future? I don&#39;t see what your problem is, I layed out a way to improve and then tried to point them in the direction of a possible answer. You want to just completely leave them hanging when you could give them general pointers?","body":"I&#39;m trying to be encouraging so they take more time to write a better question in the future? I don&#39;t see what your problem is, I layed out a way to improve and then tried to point them in the direction of a possible answer. You want to just completely leave them hanging when you could give them general pointers?"}],"tags":[],"owner":{"account_id":5609346,"reputation":885,"user_id":4442731,"display_name":"TomQDRS"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1699387230,"creation_date":1553265822,"answer_id":55302129,"question_id":55301948,"body_markdown":"If you just want to display anyone&#39;s profile, implement the Twitter API in your app and make the right REST calls and you should get the information you want to display. \r\n\r\nIf you want the user&#39;s profile specifically, there&#39;s literally no way around the user logging into their account with the API, unless they previously define their username in your app.\r\n\r\nIf you just want to display the profile and don&#39;t care about designing the information yourself, you could use a WebView to open the link to the profile you want to open, or use `UIApplication.shared.open` to open a link outside your own app.","title":"Display Twitter user profile without logging in?","body":"<p>If you just want to display anyone's profile, implement the Twitter API in your app and make the right REST calls and you should get the information you want to display.</p>\n<p>If you want the user's profile specifically, there's literally no way around the user logging into their account with the API, unless they previously define their username in your app.</p>\n<p>If you just want to display the profile and don't care about designing the information yourself, you could use a WebView to open the link to the profile you want to open, or use <code>UIApplication.shared.open</code> to open a link outside your own app.</p>\n"}],"owner":{"account_id":6199714,"reputation":1,"user_id":5573774,"display_name":"Nevolute"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":131,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1699387230,"creation_date":1553265299,"question_id":55301948,"body_markdown":"I would like to display a twitter user profile without having the app prompt the phone user for creating an account or login information.\r\n\r\n    public void openTwitter(View view){\r\n\r\n        try\r\n        {\r\n            // Check if the Twitter app is installed on the phone.\r\n            getPackageManager().getPackageInfo(&quot;com.twitter.android&quot;, 0);\r\n\r\n            Intent intent = new Intent(Intent.ACTION_VIEW);\r\n            intent.setClassName(&quot;com.twitter.android&quot;, &quot;com.twitter.android.ProfileActivity&quot;);\r\n            intent.putExtra(&quot;user_id&quot;, 01234567L);\r\n            startActivity(intent);\r\n        }\r\n        catch (PackageManager.NameNotFoundException e)\r\n        {\r\n            // If Twitter app is not installed, start browser.\r\n            startActivity(new Intent(Intent.ACTION_VIEW, Uri.parse(&quot;https://twitter.com/xxx&quot;)));\r\n        }\r\n    }\r\n\r\nThe code opens the twitter app and prompts the phone user for account creation before viewing profile xxx. I would like to simply view profile xxx without creating an account or logging in. ","title":"Display Twitter user profile without logging in?","body":"<p>I would like to display a twitter user profile without having the app prompt the phone user for creating an account or login information.</p>\n\n<pre><code>public void openTwitter(View view){\n\n    try\n    {\n        // Check if the Twitter app is installed on the phone.\n        getPackageManager().getPackageInfo(\"com.twitter.android\", 0);\n\n        Intent intent = new Intent(Intent.ACTION_VIEW);\n        intent.setClassName(\"com.twitter.android\", \"com.twitter.android.ProfileActivity\");\n        intent.putExtra(\"user_id\", 01234567L);\n        startActivity(intent);\n    }\n    catch (PackageManager.NameNotFoundException e)\n    {\n        // If Twitter app is not installed, start browser.\n        startActivity(new Intent(Intent.ACTION_VIEW, Uri.parse(\"https://twitter.com/xxx\")));\n    }\n}\n</code></pre>\n\n<p>The code opens the twitter app and prompts the phone user for account creation before viewing profile xxx. I would like to simply view profile xxx without creating an account or logging in. </p>\n"},{"tags":["java","maven","maven-plugin","openapi","openapi-generator-maven-plugin"],"answers":[{"comments":[{"owner":{"account_id":11456710,"reputation":734,"user_id":8397480,"display_name":"xardbaiz"},"score":2,"creation_date":1645194705,"post_id":66998778,"comment_id":125813357,"body_markdown":"Also it&#39;s better to set `&lt;generateApis&gt;false&lt;/generateApis&gt;` if you don&#39;t need any controllers","body":"Also it&#39;s better to set <code>&lt;generateApis&gt;false&lt;&#47;generateApis&gt;</code> if you don&#39;t need any controllers"}],"tags":[],"owner":{"account_id":6001881,"reputation":98,"user_id":4714886,"display_name":"Phung Manh Cuong"},"comment_count":1,"down_vote_count":1,"up_vote_count":7,"is_accepted":true,"score":6,"last_activity_date":1699386852,"creation_date":1617865056,"answer_id":66998778,"question_id":66998283,"body_markdown":"From the docs: https://github.com/OpenAPITools/openapi-generator/tree/master/modules/openapi-generator-maven-plugin\r\n\r\nThe property you are looking for is: \r\n\r\n`generateSupportingFiles`\r\n\r\nSet it to **false** if you do not want the additional pom.xml, etc project files generated as well.","title":"Generate only POJOs from OpenAPI definition","body":"<p>From the docs: <a href=\"https://github.com/OpenAPITools/openapi-generator/tree/master/modules/openapi-generator-maven-plugin\" rel=\"nofollow noreferrer\">https://github.com/OpenAPITools/openapi-generator/tree/master/modules/openapi-generator-maven-plugin</a></p>\n<p>The property you are looking for is:</p>\n<p><code>generateSupportingFiles</code></p>\n<p>Set it to <strong>false</strong> if you do not want the additional pom.xml, etc project files generated as well.</p>\n"}],"owner":{"account_id":905208,"reputation":2437,"user_id":940246,"accept_rate":65,"display_name":"sebastian"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":16780,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":66998778,"answer_count":1,"score":3,"last_activity_date":1699386852,"creation_date":1617862665,"question_id":66998283,"body_markdown":"I have written an web service definition as an OpenAPI document. The openapi-generator-maven-plugin I&#39;m using always generates a whole project with poms and gradle build scripts, but I only need the pojos and maybe the API client to be generated. It should work equally to JaxB or JaxWS code generators. \r\n\r\nSo is there a way to tell the plugin to generate the Java-Code only? Maybe there is another plugin which does the job?\r\n\r\nHere is my configuration:\r\n\r\n    &lt;plugin&gt;\r\n\t\t&lt;groupId&gt;org.openapitools&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;openapi-generator-maven-plugin&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;5.1.0&lt;/version&gt;\r\n\t\t&lt;executions&gt;\r\n\t\t\t&lt;execution&gt;\r\n\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t\t&lt;goal&gt;generate&lt;/goal&gt;\r\n\t\t\t\t&lt;/goals&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;inputSpec&gt;${project.basedir}/src/main/resources/my-api.yaml&lt;/inputSpec&gt;\r\n\t\t\t\t\t&lt;modelPackage&gt;com.my.path.to.api&lt;/modelPackage&gt;\r\n\t\t\t\t\t&lt;generatorName&gt;java&lt;/generatorName&gt;\r\n\t\t\t\t\t&lt;generateApis&gt;false&lt;/generateApis&gt;\r\n\t\t\t\t\t&lt;generateModels&gt;true&lt;/generateModels&gt;\r\n\t\t\t\t\t&lt;generateModelDocumentation&gt;false&lt;/generateModelDocumentation&gt;\r\n\t\t\t\t\t&lt;generateModelTests&gt;false&lt;/generateModelTests&gt;\r\n\t\t\t\t\t&lt;library&gt;vertx&lt;/library&gt;\r\n\t\t\t\t\t&lt;configOptions&gt;\r\n\t\t\t\t\t\t&lt;sourceFolder&gt;src/main/java&lt;/sourceFolder&gt;\r\n\t\t\t\t\t\t&lt;dateLibrary&gt;java8&lt;/dateLibrary&gt;\r\n\t\t\t\t\t&lt;/configOptions&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/execution&gt;\r\n\t\t&lt;/executions&gt;\r\n\t&lt;/plugin&gt;","title":"Generate only POJOs from OpenAPI definition","body":"<p>I have written an web service definition as an OpenAPI document. The openapi-generator-maven-plugin I'm using always generates a whole project with poms and gradle build scripts, but I only need the pojos and maybe the API client to be generated. It should work equally to JaxB or JaxWS code generators.</p>\n<p>So is there a way to tell the plugin to generate the Java-Code only? Maybe there is another plugin which does the job?</p>\n<p>Here is my configuration:</p>\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.openapitools&lt;/groupId&gt;\n    &lt;artifactId&gt;openapi-generator-maven-plugin&lt;/artifactId&gt;\n    &lt;version&gt;5.1.0&lt;/version&gt;\n    &lt;executions&gt;\n        &lt;execution&gt;\n            &lt;goals&gt;\n                &lt;goal&gt;generate&lt;/goal&gt;\n            &lt;/goals&gt;\n            &lt;configuration&gt;\n                &lt;inputSpec&gt;${project.basedir}/src/main/resources/my-api.yaml&lt;/inputSpec&gt;\n                &lt;modelPackage&gt;com.my.path.to.api&lt;/modelPackage&gt;\n                &lt;generatorName&gt;java&lt;/generatorName&gt;\n                &lt;generateApis&gt;false&lt;/generateApis&gt;\n                &lt;generateModels&gt;true&lt;/generateModels&gt;\n                &lt;generateModelDocumentation&gt;false&lt;/generateModelDocumentation&gt;\n                &lt;generateModelTests&gt;false&lt;/generateModelTests&gt;\n                &lt;library&gt;vertx&lt;/library&gt;\n                &lt;configOptions&gt;\n                    &lt;sourceFolder&gt;src/main/java&lt;/sourceFolder&gt;\n                    &lt;dateLibrary&gt;java8&lt;/dateLibrary&gt;\n                &lt;/configOptions&gt;\n            &lt;/configuration&gt;\n        &lt;/execution&gt;\n    &lt;/executions&gt;\n&lt;/plugin&gt;\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":261048,"reputation":25820,"user_id":544983,"accept_rate":67,"display_name":"Juvanis"},"score":3,"creation_date":1351051158,"post_id":13042798,"comment_id":17708986,"body_markdown":"this problem has good solutions with _dynamic programming_","body":"this problem has good solutions with <i>dynamic programming</i>"}],"answers":[{"tags":[],"owner":{"account_id":32775,"reputation":3985,"user_id":91208,"accept_rate":75,"display_name":"Lolo"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1351051833,"creation_date":1351051833,"answer_id":13042908,"question_id":13042798,"body_markdown":"I would approach it this way:\r\n\r\n1. Order your array from smaller to lower value\r\n\r\n2. Loop over your array the way you have it but exit the loop early whenever\r\n\r\n    target &lt;(numbers[i]+numbers[j])\r\n\r\n3. Once you have the value of your two elements such that n[0] + n[1] = target, look back at the original array to find their index.\r\n","title":"twoSum Algorithm : How to improve this?","body":"<p>I would approach it this way:</p>\n\n<ol>\n<li><p>Order your array from smaller to lower value</p></li>\n<li><p>Loop over your array the way you have it but exit the loop early whenever</p>\n\n<p>target &lt;(numbers[i]+numbers[j])</p></li>\n<li><p>Once you have the value of your two elements such that n[0] + n[1] = target, look back at the original array to find their index.</p></li>\n</ol>\n"},{"comments":[{"owner":{"account_id":107879,"reputation":3542,"user_id":286629,"accept_rate":91,"display_name":"SuperMan"},"score":0,"creation_date":1351051991,"post_id":13042924,"comment_id":17709133,"body_markdown":"You are supposed to return location of the elements, not check if the target is available in the array","body":"You are supposed to return location of the elements, not check if the target is available in the array"},{"owner":{"account_id":1529248,"reputation":92157,"user_id":1426891,"display_name":"Jeff Bowman"},"score":1,"creation_date":1351053358,"post_id":13042924,"comment_id":17709461,"body_markdown":"I had to play with this solution for 10 minutes to prove to myself that it&#39;s correct, but it is as far as I can tell. It&#39;s also elegant, and completes in `O(n log n)` time for the sort and `O(1)` memory beyond the list.","body":"I had to play with this solution for 10 minutes to prove to myself that it&#39;s correct, but it is as far as I can tell. It&#39;s also elegant, and completes in <code>O(n log n)</code> time for the sort and <code>O(1)</code> memory beyond the list."},{"owner":{"account_id":32775,"reputation":3985,"user_id":91208,"accept_rate":75,"display_name":"Lolo"},"score":1,"creation_date":1351087187,"post_id":13042924,"comment_id":17721843,"body_markdown":"It bugged me too first. Think of it that way: Call your solution (a and A). When you start, a[X]&gt;=A and a[x]&lt;=a. @Jeff. This bugged me too at first. I think of it that way: At some point, you reach the point where a[X]=A or a[x]=a. Say it is a[X]=A first (or at the same time). By then, you have a[x]&lt;=a, so a[x]+a[X]&lt;=target. Your only choice is to increment x. I.e. you will never pass the correct X. Same goes with x.  Max =&gt; nice solution!","body":"It bugged me too first. Think of it that way: Call your solution (a and A). When you start, a[X]&gt;=A and a[x]&lt;=a. @Jeff. This bugged me too at first. I think of it that way: At some point, you reach the point where a[X]=A or a[x]=a. Say it is a[X]=A first (or at the same time). By then, you have a[x]&lt;=a, so a[x]+a[X]&lt;=target. Your only choice is to increment x. I.e. you will never pass the correct X. Same goes with x.  Max =&gt; nice solution!"},{"owner":{"account_id":6686642,"reputation":2212,"user_id":5157633,"accept_rate":100,"display_name":"thegreatcoder"},"score":0,"creation_date":1545351684,"post_id":13042924,"comment_id":94602724,"body_markdown":"Can someone explain how this is O(nlogn) ?","body":"Can someone explain how this is O(nlogn) ?"},{"owner":{"account_id":7095926,"reputation":2491,"user_id":6790744,"display_name":"Akshay Bande"},"score":0,"creation_date":1570772531,"post_id":13042924,"comment_id":103026624,"body_markdown":"What if I want to return the index from the original array before sorting, ex. `array: [3,2,4]\ntarget: 6`, by using your solution it returns `[0,2] ` but answer is `[1,2]`","body":"What if I want to return the index from the original array before sorting, ex. <code>array: [3,2,4] target: 6</code>, by using your solution it returns <code>[0,2] </code> but answer is <code>[1,2]</code>"}],"tags":[],"owner":{"account_id":1369453,"reputation":4278,"user_id":1317826,"accept_rate":100,"display_name":"max"},"comment_count":5,"down_vote_count":1,"up_vote_count":20,"is_accepted":false,"score":19,"last_activity_date":1367920898,"creation_date":1351051927,"answer_id":13042924,"question_id":13042798,"body_markdown":"Sort the array. Make two pointers point at first and last (x and X). Run this in a loop:\r\n\r\n    if      (a[X]+a[x] &gt;  N) then X-- \r\n    else if (a[X]+a[x] &lt;  N) then x++\r\n    else if (a[X]+a[x] == N) then found.\r\n\r\n    if (x &gt; X) then no numbers exist.\r\n\r\n`O(nlogn)` time, `O(1)` memory","title":"twoSum Algorithm : How to improve this?","body":"<p>Sort the array. Make two pointers point at first and last (x and X). Run this in a loop:</p>\n\n<pre><code>if      (a[X]+a[x] &gt;  N) then X-- \nelse if (a[X]+a[x] &lt;  N) then x++\nelse if (a[X]+a[x] == N) then found.\n\nif (x &gt; X) then no numbers exist.\n</code></pre>\n\n<p><code>O(nlogn)</code> time, <code>O(1)</code> memory</p>\n"},{"comments":[{"owner":{"account_id":107879,"reputation":3542,"user_id":286629,"accept_rate":91,"display_name":"SuperMan"},"score":0,"creation_date":1351052110,"post_id":13042928,"comment_id":17709167,"body_markdown":"Please re-read the question, its not about returning the elements which add up to target","body":"Please re-read the question, its not about returning the elements which add up to target"},{"owner":{"account_id":1328885,"reputation":863,"user_id":1273175,"display_name":"JamesSwift"},"score":0,"creation_date":1351052111,"post_id":13042928,"comment_id":17709168,"body_markdown":"Beat me to it : ( .. also note that in the first solution, you can cut down on the size of the list after sorting by eliminating all numbers greater than the target sum.","body":"Beat me to it : ( .. also note that in the first solution, you can cut down on the size of the list after sorting by eliminating all numbers greater than the target sum."},{"owner":{"account_id":1328885,"reputation":863,"user_id":1273175,"display_name":"JamesSwift"},"score":2,"creation_date":1351052173,"post_id":13042928,"comment_id":17709179,"body_markdown":"@SuperMan - Once you have the elements it is trivial to get the indices from the original list.","body":"@SuperMan - Once you have the elements it is trivial to get the indices from the original list."},{"owner":{"account_id":262594,"reputation":1446,"user_id":1328979,"display_name":"Marc Carr&#233;"},"score":0,"creation_date":1579927687,"post_id":13042928,"comment_id":105939250,"body_markdown":"@JamesSwift, it is trivial, but either requires memory (to keep the mappings between sorted and unsorted arrays), or time (to iterate over the unsorted array).","body":"@JamesSwift, it is trivial, but either requires memory (to keep the mappings between sorted and unsorted arrays), or time (to iterate over the unsorted array)."}],"tags":[],"owner":{"account_id":1529248,"reputation":92157,"user_id":1426891,"display_name":"Jeff Bowman"},"comment_count":4,"down_vote_count":1,"up_vote_count":13,"is_accepted":true,"score":12,"last_activity_date":1351053564,"creation_date":1351051962,"answer_id":13042928,"question_id":13042798,"body_markdown":"**`O(n log n)` time, `O(1)` memory (not counting the list):**\r\n\r\n 1. First, sort the list. This should take `O(n log n)` time, as most sort functions do.\r\n\r\n 2. Iterate through the list, which should take `O(n)` time in the outer loop. At this point you can do a binary search for the closest matching integer in a sorted sublist, which should take `O(log n)` time. This stage should wind up taking `O(n log n)` total.\r\n\r\n*Edit:* Check out Max&#39;s answer below. It&#39;s still O(n log n) time and O(1) memory, but he avoids the binary searches by walking a pointer from each end of the list.\r\n\r\n**`O(n)` time, `O(n)` memory:**\r\n\r\nBuild a hash table, which should have `O(1)` insertion and `O(1)` contains. Then, in a `O(n)` outer loop, for each number `i`, check if `total - i` is in the hash table. If not, add it; if so, then you&#39;ve got your two numbers.\r\n\r\nEither way, you would need an additional scan through the array to get the indices, but that&#39;s no problem--it only takes `O(n)` time. If you wanted to avoid it you could keep the original index in the sorted list or hash table as needed, but that has a memory footprint instead of a time footprint.","title":"twoSum Algorithm : How to improve this?","body":"<p><strong><code>O(n log n)</code> time, <code>O(1)</code> memory (not counting the list):</strong></p>\n\n<ol>\n<li><p>First, sort the list. This should take <code>O(n log n)</code> time, as most sort functions do.</p></li>\n<li><p>Iterate through the list, which should take <code>O(n)</code> time in the outer loop. At this point you can do a binary search for the closest matching integer in a sorted sublist, which should take <code>O(log n)</code> time. This stage should wind up taking <code>O(n log n)</code> total.</p></li>\n</ol>\n\n<p><em>Edit:</em> Check out Max's answer below. It's still O(n log n) time and O(1) memory, but he avoids the binary searches by walking a pointer from each end of the list.</p>\n\n<p><strong><code>O(n)</code> time, <code>O(n)</code> memory:</strong></p>\n\n<p>Build a hash table, which should have <code>O(1)</code> insertion and <code>O(1)</code> contains. Then, in a <code>O(n)</code> outer loop, for each number <code>i</code>, check if <code>total - i</code> is in the hash table. If not, add it; if so, then you've got your two numbers.</p>\n\n<p>Either way, you would need an additional scan through the array to get the indices, but that's no problem--it only takes <code>O(n)</code> time. If you wanted to avoid it you could keep the original index in the sorted list or hash table as needed, but that has a memory footprint instead of a time footprint.</p>\n"},{"comments":[{"owner":{"account_id":1064245,"reputation":85256,"user_id":1065197,"accept_rate":88,"display_name":"Luiggi Mendoza"},"score":0,"creation_date":1351052692,"post_id":13042966,"comment_id":17709310,"body_markdown":"It would be very nice to post the link where you got the idea (or a link pointing to the book that helped you).","body":"It would be very nice to post the link where you got the idea (or a link pointing to the book that helped you)."},{"owner":{"account_id":1810141,"reputation":4656,"user_id":1646390,"accept_rate":86,"display_name":"RGO"},"score":0,"creation_date":1351052889,"post_id":13042966,"comment_id":17709353,"body_markdown":"No, I didn&#39;t copy from anywhere! find it! I am by the way writing the Java code and will post the code soon. :-)","body":"No, I didn&#39;t copy from anywhere! find it! I am by the way writing the Java code and will post the code soon. :-)"},{"owner":{"account_id":1064245,"reputation":85256,"user_id":1065197,"accept_rate":88,"display_name":"Luiggi Mendoza"},"score":0,"creation_date":1351052944,"post_id":13042966,"comment_id":17709369,"body_markdown":"If it works, then it&#39;s good to see there are really good developers around here.","body":"If it works, then it&#39;s good to see there are really good developers around here."}],"tags":[],"owner":{"account_id":1810141,"reputation":4656,"user_id":1646390,"accept_rate":86,"display_name":"RGO"},"comment_count":3,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1351087119,"creation_date":1351052240,"answer_id":13042966,"question_id":13042798,"body_markdown":"Below you can find a solution in which the two numbers could be found in **`O(n log n)`** time:\r\n\r\n    1- Sort the numbers in ascending (or descending) order             // O(n log n)\r\n           \r\n    2- Compute diff = target - item for each item                      // O(n) \r\n            \r\n    3- For each calculated diff, look up the calculated value in the sorted items \r\n       using the Binary search algorithm                               // O(n log n) \r\n\r\nA complete, working implementation in Java:\r\n\r\n    import java.util.ArrayList;\r\n    \r\n    public class NumbersFinder {\r\n    \r\n    \tclass Item{\r\n    \t\tprivate int value;\r\n    \t\tprivate int index;\r\n    \t\t\r\n    \t\tpublic Item(int value, int index){\r\n    \t\t\tthis.value = value;\r\n    \t\t\tthis.index = index;\r\n    \t\t}\r\n    \t\t\r\n    \t\tpublic int getValue(){\r\n    \t\t\treturn value;\r\n    \t\t}\r\n    \t\t\r\n    \t\tpublic int getIndex(){\r\n    \t\t\treturn index;\r\n    \t\t}\r\n    \t}\r\n    \t\r\n    \tpublic ArrayList&lt;Item&gt; find(int[] values, int target){\t\t\r\n    \t\tArrayList&lt;Item&gt; items = new ArrayList&lt;Item&gt;();\r\n    \t\tfor(int i = 0; i &lt; values.length; i++)\r\n    \t\t\titems.add(new Item(values[i], i));\r\n    \r\n    \t\titems = quicksort(items);\r\n    \t\tArrayList&lt;Integer&gt; diffs = computeDiffs(items, target);\r\n    \t\t\r\n    \t\tItem item1 = null;\r\n    \t\tItem item2 = null;\r\n    \t\t\r\n    \t\tboolean found = false;\r\n    \t\t\r\n    \t\tfor(int i = 0; i &lt; diffs.get(i) &amp;&amp; !found; i++){\r\n    \t\t\titem1 = items.get(i);\r\n    \t\t\titem2 = searchSortedItems(items, diffs.get(i), 0, items.size());\r\n    \t\t\tfound = item2 != null;\r\n    \t\t}\r\n    \t\tif(found){\r\n    \t\t\tArrayList&lt;Item&gt; result = new ArrayList&lt;Item&gt;();\r\n    \t\t\tresult.add(item1);\r\n    \t\t\tresult.add(item2);\r\n    \t\t\treturn result;\r\n    \t\t}\r\n    \t\telse\r\n    \t\t\treturn null;\r\n    \t}\r\n    \r\n    \t// find &quot;value&quot; in the sorted array of &quot;items&quot; using Binary search in O(log n)\r\n    \tprivate Item searchSortedItems(ArrayList&lt;Item&gt; items, Integer value, int lower, int upper) {\r\n    \t\tif(lower &gt; upper)\r\n    \t\t\treturn null;\r\n    \t\tint middle = (lower + upper)/2;\r\n    \t\tItem middleItem = items.get(middle);\r\n    \t\tif(middleItem.getValue() == value)\r\n    \t\t\treturn middleItem;\r\n    \t\telse if(middleItem.getValue() &lt; value)\r\n    \t\t\treturn searchSortedItems(items, value, middle+1, upper);\r\n    \t\telse\r\n    \t\t\treturn searchSortedItems(items, value, lower, middle-1);\r\n    \t}\r\n    \r\n    \t// Simply calculates difference between the target value and each item in the array; O(n)\r\n    \tprivate ArrayList&lt;Integer&gt; computeDiffs(ArrayList&lt;Item&gt; items, int target) {\r\n    \t\tArrayList&lt;Integer&gt; diffs = new ArrayList&lt;Integer&gt;();\r\n    \t\tfor(int i = 0; i &lt; items.size(); i++)\r\n    \t\t\tdiffs.add(target - items.get(i).getValue());\r\n    \t\treturn diffs;\r\n    \t}\r\n    \r\n    \t// Sorts items using QuickSort algorithm in O(n Log n)\r\n    \tprivate ArrayList&lt;Item&gt; quicksort(ArrayList&lt;Item&gt; items) {\r\n            if (items.size() &lt;= 1)\r\n                return items;\r\n            int pivot = items.size() / 2;\r\n            ArrayList&lt;Item&gt; lesser = new ArrayList&lt;Item&gt;();\r\n            ArrayList&lt;Item&gt; greater = new ArrayList&lt;Item&gt;();\r\n            int sameAsPivot = 0;\r\n            for (Item item : items) {\r\n                if (item.getValue() &gt; items.get(pivot).getValue())\r\n                    greater.add(item);\r\n                else if (item.getValue() &lt; items.get(pivot).getValue())\r\n                    lesser.add(item);\r\n                else\r\n                    sameAsPivot++;\r\n            }\r\n            lesser = quicksort(lesser);\r\n            for (int i = 0; i &lt; sameAsPivot; i++)\r\n                lesser.add(items.get(pivot));\r\n            greater = quicksort(greater);\r\n            ArrayList&lt;Item&gt; sorted = new ArrayList&lt;Item&gt;();\r\n            for (Item item : lesser)\r\n                sorted.add(item);\r\n            for (Item item: greater)\r\n                sorted.add(item);\r\n            return sorted;\r\n        }\r\n    \t\r\n    \t\r\n    \tpublic static void main(String[] args){\r\n    \t\tint[] s = {150,24,79,50,88,345,3};\r\n            int value = 200;\r\n    \r\n    \t\tNumbersFinder finder = new NumbersFinder();\r\n    \t\tArrayList&lt;Item&gt; numbers = finder.find(s, value);\r\n    \t\t\r\n    \t\tif(numbers != null){\r\n    \t\t\tSystem.out.println(&quot;First Number Found = &quot; + numbers.get(0).getValue() + &quot; ; Index = &quot; + + numbers.get(0).getIndex());\r\n    \t\t\tSystem.out.println(&quot;Second Number Found = &quot; + numbers.get(1).getValue() + &quot; ; Index = &quot; + + numbers.get(1).getIndex());\r\n    \t\t}\r\n    \t\telse{\r\n    \t\t\tSystem.out.println(&quot;No such two numbers found in the array!&quot;);\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\nOutput:\r\n\r\n    First Number Found = 50 ; Index = 3\r\n    Second Number Found = 150 ; Index = 0\r\n\r\n","title":"twoSum Algorithm : How to improve this?","body":"<p>Below you can find a solution in which the two numbers could be found in <strong><code>O(n log n)</code></strong> time:</p>\n\n<pre><code>1- Sort the numbers in ascending (or descending) order             // O(n log n)\n\n2- Compute diff = target - item for each item                      // O(n) \n\n3- For each calculated diff, look up the calculated value in the sorted items \n   using the Binary search algorithm                               // O(n log n) \n</code></pre>\n\n<p>A complete, working implementation in Java:</p>\n\n<pre><code>import java.util.ArrayList;\n\npublic class NumbersFinder {\n\n    class Item{\n        private int value;\n        private int index;\n\n        public Item(int value, int index){\n            this.value = value;\n            this.index = index;\n        }\n\n        public int getValue(){\n            return value;\n        }\n\n        public int getIndex(){\n            return index;\n        }\n    }\n\n    public ArrayList&lt;Item&gt; find(int[] values, int target){      \n        ArrayList&lt;Item&gt; items = new ArrayList&lt;Item&gt;();\n        for(int i = 0; i &lt; values.length; i++)\n            items.add(new Item(values[i], i));\n\n        items = quicksort(items);\n        ArrayList&lt;Integer&gt; diffs = computeDiffs(items, target);\n\n        Item item1 = null;\n        Item item2 = null;\n\n        boolean found = false;\n\n        for(int i = 0; i &lt; diffs.get(i) &amp;&amp; !found; i++){\n            item1 = items.get(i);\n            item2 = searchSortedItems(items, diffs.get(i), 0, items.size());\n            found = item2 != null;\n        }\n        if(found){\n            ArrayList&lt;Item&gt; result = new ArrayList&lt;Item&gt;();\n            result.add(item1);\n            result.add(item2);\n            return result;\n        }\n        else\n            return null;\n    }\n\n    // find \"value\" in the sorted array of \"items\" using Binary search in O(log n)\n    private Item searchSortedItems(ArrayList&lt;Item&gt; items, Integer value, int lower, int upper) {\n        if(lower &gt; upper)\n            return null;\n        int middle = (lower + upper)/2;\n        Item middleItem = items.get(middle);\n        if(middleItem.getValue() == value)\n            return middleItem;\n        else if(middleItem.getValue() &lt; value)\n            return searchSortedItems(items, value, middle+1, upper);\n        else\n            return searchSortedItems(items, value, lower, middle-1);\n    }\n\n    // Simply calculates difference between the target value and each item in the array; O(n)\n    private ArrayList&lt;Integer&gt; computeDiffs(ArrayList&lt;Item&gt; items, int target) {\n        ArrayList&lt;Integer&gt; diffs = new ArrayList&lt;Integer&gt;();\n        for(int i = 0; i &lt; items.size(); i++)\n            diffs.add(target - items.get(i).getValue());\n        return diffs;\n    }\n\n    // Sorts items using QuickSort algorithm in O(n Log n)\n    private ArrayList&lt;Item&gt; quicksort(ArrayList&lt;Item&gt; items) {\n        if (items.size() &lt;= 1)\n            return items;\n        int pivot = items.size() / 2;\n        ArrayList&lt;Item&gt; lesser = new ArrayList&lt;Item&gt;();\n        ArrayList&lt;Item&gt; greater = new ArrayList&lt;Item&gt;();\n        int sameAsPivot = 0;\n        for (Item item : items) {\n            if (item.getValue() &gt; items.get(pivot).getValue())\n                greater.add(item);\n            else if (item.getValue() &lt; items.get(pivot).getValue())\n                lesser.add(item);\n            else\n                sameAsPivot++;\n        }\n        lesser = quicksort(lesser);\n        for (int i = 0; i &lt; sameAsPivot; i++)\n            lesser.add(items.get(pivot));\n        greater = quicksort(greater);\n        ArrayList&lt;Item&gt; sorted = new ArrayList&lt;Item&gt;();\n        for (Item item : lesser)\n            sorted.add(item);\n        for (Item item: greater)\n            sorted.add(item);\n        return sorted;\n    }\n\n\n    public static void main(String[] args){\n        int[] s = {150,24,79,50,88,345,3};\n        int value = 200;\n\n        NumbersFinder finder = new NumbersFinder();\n        ArrayList&lt;Item&gt; numbers = finder.find(s, value);\n\n        if(numbers != null){\n            System.out.println(\"First Number Found = \" + numbers.get(0).getValue() + \" ; Index = \" + + numbers.get(0).getIndex());\n            System.out.println(\"Second Number Found = \" + numbers.get(1).getValue() + \" ; Index = \" + + numbers.get(1).getIndex());\n        }\n        else{\n            System.out.println(\"No such two numbers found in the array!\");\n        }\n    }\n}\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>First Number Found = 50 ; Index = 3\nSecond Number Found = 150 ; Index = 0\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2062963,"reputation":2750,"user_id":1839117,"accept_rate":0,"display_name":"fandyst"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1473767315,"creation_date":1473767315,"answer_id":39469312,"question_id":13042798,"body_markdown":"One line solution in python :\r\n\r\n    class Solution(object):\r\n        &quot;&quot;&quot;\r\n            :type nums: List[int]\r\n            :type target: int\r\n            :rtype: List[int]\r\n        &quot;&quot;&quot;\r\n        def twoSum(self, nums, target):            \r\n            x = [[i, nums.index(target-j)] for i,j in enumerate(nums) if nums.count(target-j) &gt; 0 and nums.index(target-j)!=i]\r\n            \r\n            return x.pop()\r\n\r\n","title":"twoSum Algorithm : How to improve this?","body":"<p>One line solution in python :</p>\n\n<pre><code>class Solution(object):\n    \"\"\"\n        :type nums: List[int]\n        :type target: int\n        :rtype: List[int]\n    \"\"\"\n    def twoSum(self, nums, target):            \n        x = [[i, nums.index(target-j)] for i,j in enumerate(nums) if nums.count(target-j) &gt; 0 and nums.index(target-j)!=i]\n\n        return x.pop()\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8426473,"reputation":586,"user_id":6323537,"display_name":"Ping.Goblue"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1475373607,"creation_date":1475373607,"answer_id":39813169,"question_id":13042798,"body_markdown":"Here is my cpp solution with O(nlog(n)):\r\n\r\n    vector&lt;int&gt; two_sum(vector&lt;int&gt; &amp;numbers, int target) {\r\n        vector&lt;int&gt; result;\r\n        vector&lt;int&gt; numbers_dup = vector&lt;int&gt;(numbers);\r\n    \r\n        sort(numbers_dup.begin(), numbers_dup.end());\r\n    \r\n        int left = 0, right = numbers_dup.size() - 1;\r\n        while(left &lt;= right) {\r\n            int sum = numbers_dup[left] + numbers_dup[right];\r\n    \r\n            if(sum == target) {\r\n                //find the idex of numbers_dup[left] and numbers_dup[right]\r\n                for(int i = 0; i &lt; numbers.size(); i++) {\r\n                    if(numbers[i] == numbers_dup[left] || numbers[i] == numbers_dup[right]) {\r\n                        result.push_back(i);\r\n                    }\r\n                    if(result.size() == 2) {\r\n                        return result;\r\n                    }\r\n                }\r\n            }\r\n            else if(sum &gt; target) {\r\n                right--;\r\n            }\r\n            else {\r\n                left++;\r\n            }\r\n        }\r\n    }\r\n\r\nCheck out my blog for the detailed explanation.\r\nhttps://algorithm.pingzhang.io/Array/two_sum_problem.html","title":"twoSum Algorithm : How to improve this?","body":"<p>Here is my cpp solution with O(nlog(n)):</p>\n\n<pre><code>vector&lt;int&gt; two_sum(vector&lt;int&gt; &amp;numbers, int target) {\n    vector&lt;int&gt; result;\n    vector&lt;int&gt; numbers_dup = vector&lt;int&gt;(numbers);\n\n    sort(numbers_dup.begin(), numbers_dup.end());\n\n    int left = 0, right = numbers_dup.size() - 1;\n    while(left &lt;= right) {\n        int sum = numbers_dup[left] + numbers_dup[right];\n\n        if(sum == target) {\n            //find the idex of numbers_dup[left] and numbers_dup[right]\n            for(int i = 0; i &lt; numbers.size(); i++) {\n                if(numbers[i] == numbers_dup[left] || numbers[i] == numbers_dup[right]) {\n                    result.push_back(i);\n                }\n                if(result.size() == 2) {\n                    return result;\n                }\n            }\n        }\n        else if(sum &gt; target) {\n            right--;\n        }\n        else {\n            left++;\n        }\n    }\n}\n</code></pre>\n\n<p>Check out my blog for the detailed explanation.\n<a href=\"https://algorithm.pingzhang.io/Array/two_sum_problem.html\" rel=\"nofollow\">https://algorithm.pingzhang.io/Array/two_sum_problem.html</a></p>\n"},{"tags":[],"owner":{"account_id":11003375,"reputation":1,"user_id":8083225,"display_name":"user8083225"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1502078524,"creation_date":1502078524,"answer_id":45539249,"question_id":13042798,"body_markdown":"Here is the answer using HashMap in java with two passes of the array. Assuming that there are no duplicate elements in the array and there is exactly one solution exists.\r\n\r\n\r\n\r\n    import java.util.HashMap;\r\n    \r\n    public class TwoSum {\r\n    \r\n    \tint[] index = new int[2];\r\n    \tpublic int[] twoSum(int[] nums, int target)\r\n    \t{\r\n    \t\tint length = nums.length;\r\n            //initialize return values assuming that pair for the given target\r\n            //doesn&#39;t exist\r\n            index[0]=-1;\r\n            index[1]=-1;\r\n            //sanity check\r\n            if(length&lt;1) return index;\r\n    \r\n            HashMap&lt;Integer, Integer&gt; numHash = new HashMap&lt;&gt;(length);\r\n            //get the values from array into HashMap assuming that there aren&#39;t duplicate values\r\n            for(int i=0; i&lt;length;i++)\r\n            {\r\n                numHash.put(nums[i],i);\r\n            }\r\n    \r\n            //check for the value in the array and the difference between target and it. Assume that only\r\n            //one such pair exists\r\n            for(int i=0;i&lt;length;i++)\r\n            {\r\n                int val1 = nums[i];\r\n                int val2=target-val1;\r\n                //make sure that it doesn&#39;t return the index of the first number in the pait you are searching for\r\n                if( numHash.containsKey(val2) &amp;&amp; numHash.get(val2)!=i){\r\n                    index[0]=i;\r\n                    index[1] =numHash.get(target-nums[i]);\r\n                    break;\r\n                }\r\n            }\r\n            return index;\r\n    \t}\r\n    }\r\n\r\n","title":"twoSum Algorithm : How to improve this?","body":"<p>Here is the answer using HashMap in java with two passes of the array. Assuming that there are no duplicate elements in the array and there is exactly one solution exists.</p>\n\n<pre><code>import java.util.HashMap;\n\npublic class TwoSum {\n\n    int[] index = new int[2];\n    public int[] twoSum(int[] nums, int target)\n    {\n        int length = nums.length;\n        //initialize return values assuming that pair for the given target\n        //doesn't exist\n        index[0]=-1;\n        index[1]=-1;\n        //sanity check\n        if(length&lt;1) return index;\n\n        HashMap&lt;Integer, Integer&gt; numHash = new HashMap&lt;&gt;(length);\n        //get the values from array into HashMap assuming that there aren't duplicate values\n        for(int i=0; i&lt;length;i++)\n        {\n            numHash.put(nums[i],i);\n        }\n\n        //check for the value in the array and the difference between target and it. Assume that only\n        //one such pair exists\n        for(int i=0;i&lt;length;i++)\n        {\n            int val1 = nums[i];\n            int val2=target-val1;\n            //make sure that it doesn't return the index of the first number in the pait you are searching for\n            if( numHash.containsKey(val2) &amp;&amp; numHash.get(val2)!=i){\n                index[0]=i;\n                index[1] =numHash.get(target-nums[i]);\n                break;\n            }\n        }\n        return index;\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":4890276,"reputation":744,"user_id":3941604,"display_name":"mrun"},"score":0,"creation_date":1502708941,"post_id":45672847,"comment_id":78303579,"body_markdown":"Some explanations would significantly improve the quality of your answer","body":"Some explanations would significantly improve the quality of your answer"}],"tags":[],"owner":{"account_id":8218047,"reputation":83,"user_id":6183633,"display_name":"Prayer"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1502707692,"creation_date":1502707692,"answer_id":45672847,"question_id":13042798,"body_markdown":"     public static int[] twoSum(int[] nums, int target) {\r\n            int []resultarray=new int[2];\r\n            for (int i=0;i&lt;nums.length-1;i++){\r\n                for(int k=1;k&lt;nums.length;k++)\r\n                {\r\n                \t if(target==nums[i]+nums[k])\r\n                     {\r\n                    \t resultarray[0]=nums[i];\r\n                    \t resultarray[1]=nums[k];\r\n                     }\r\n                }\r\n            }\r\n     return resultarray;\r\n        }","title":"twoSum Algorithm : How to improve this?","body":"<pre><code> public static int[] twoSum(int[] nums, int target) {\n        int []resultarray=new int[2];\n        for (int i=0;i&lt;nums.length-1;i++){\n            for(int k=1;k&lt;nums.length;k++)\n            {\n                 if(target==nums[i]+nums[k])\n                 {\n                     resultarray[0]=nums[i];\n                     resultarray[1]=nums[k];\n                 }\n            }\n        }\n return resultarray;\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2598311,"reputation":183,"user_id":2251420,"accept_rate":18,"display_name":"Anton Erjomin"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1513716688,"creation_date":1513716688,"answer_id":47894986,"question_id":13042798,"body_markdown":"This is my python solution\r\n\r\n    class Solution:\r\n        def twoSum(self, nums, target):\r\n            &quot;&quot;&quot;\r\n            :type nums: List[int]\r\n            :type target: int\r\n            :rtype: List[int]\r\n            &quot;&quot;&quot;\r\n    \r\n            copy_dict = {}\r\n            for pos in range(0, len(nums)):\r\n                if nums[pos] not in copy_dict.keys():\r\n                    copy_dict[nums[pos]] = [pos]\r\n                else:\r\n                    copy_dict[nums[pos]].append(pos)\r\n    \r\n            def get_sum_indexes(sorted_array, target):\r\n                right_pointer = len(sorted_array) - 1\r\n                left_pointer = 0\r\n                while left_pointer &lt; len(sorted_array) or right_pointer &gt; 0:\r\n                    if sorted_array[right_pointer] + sorted_array[left_pointer] == target:\r\n                        return [sorted_array[left_pointer], sorted_array[right_pointer]]\r\n                    elif sorted_array[right_pointer] + sorted_array[left_pointer] &gt; target:\r\n                        right_pointer -= 1\r\n                    elif sorted_array[right_pointer] + sorted_array[left_pointer] &lt; target:\r\n                        left_pointer += 1\r\n                return None\r\n            sum_numbers = get_sum_indexes(sorted(nums), target)\r\n            if len(copy_dict[sum_numbers[0]]) == 1:\r\n                answer_1 = copy_dict[sum_numbers[0]][0]\r\n            else:\r\n                answer_1 = copy_dict[sum_numbers[0]][0]\r\n    \r\n            if len(copy_dict[sum_numbers[1]]) == 1:\r\n                answer_2 = copy_dict[sum_numbers[1]][0]\r\n            else:\r\n                answer_2 = copy_dict[sum_numbers[1]][1]\r\n            return sorted([answer_1, answer_2])\r\n    \r\n    print(Solution().twoSum(nums=[-1, -2, -3, -4, -5], target=-8))\r\n    print(Solution().twoSum(nums=[-3, -3], target=-6))","title":"twoSum Algorithm : How to improve this?","body":"<p>This is my python solution</p>\n\n<pre><code>class Solution:\n    def twoSum(self, nums, target):\n        \"\"\"\n        :type nums: List[int]\n        :type target: int\n        :rtype: List[int]\n        \"\"\"\n\n        copy_dict = {}\n        for pos in range(0, len(nums)):\n            if nums[pos] not in copy_dict.keys():\n                copy_dict[nums[pos]] = [pos]\n            else:\n                copy_dict[nums[pos]].append(pos)\n\n        def get_sum_indexes(sorted_array, target):\n            right_pointer = len(sorted_array) - 1\n            left_pointer = 0\n            while left_pointer &lt; len(sorted_array) or right_pointer &gt; 0:\n                if sorted_array[right_pointer] + sorted_array[left_pointer] == target:\n                    return [sorted_array[left_pointer], sorted_array[right_pointer]]\n                elif sorted_array[right_pointer] + sorted_array[left_pointer] &gt; target:\n                    right_pointer -= 1\n                elif sorted_array[right_pointer] + sorted_array[left_pointer] &lt; target:\n                    left_pointer += 1\n            return None\n        sum_numbers = get_sum_indexes(sorted(nums), target)\n        if len(copy_dict[sum_numbers[0]]) == 1:\n            answer_1 = copy_dict[sum_numbers[0]][0]\n        else:\n            answer_1 = copy_dict[sum_numbers[0]][0]\n\n        if len(copy_dict[sum_numbers[1]]) == 1:\n            answer_2 = copy_dict[sum_numbers[1]][0]\n        else:\n            answer_2 = copy_dict[sum_numbers[1]][1]\n        return sorted([answer_1, answer_2])\n\nprint(Solution().twoSum(nums=[-1, -2, -3, -4, -5], target=-8))\nprint(Solution().twoSum(nums=[-3, -3], target=-6))\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4739247,"reputation":771,"user_id":3832614,"accept_rate":14,"display_name":"appsdownload"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1519716168,"creation_date":1519716168,"answer_id":49003234,"question_id":13042798,"body_markdown":" 1. Sort the list in non-decreasing order. It takes `O(nlogn)` time complexity.\r\n 2. Find the two numbers, which can be done in `O(n)` time.\r\n 3. Find the two indices of the two numbers, which can be done in `O(n)` time.\r\n\r\nOverall complexity is `O(nlogn)`.\r\n\r\nImplementation in python: \r\n\r\n    class Solution:\r\n      def twoSum(self, nums, target):\r\n        &quot;&quot;&quot;\r\n        :type nums: List[int]\r\n        :type target: int\r\n        :rtype: List[int]\r\n        &quot;&quot;&quot;\r\n        p = nums[:]\r\n        p.sort() #sorting in -&gt; O(nlogn)\r\n        r = len(nums)-1\r\n        l =0 \r\n        \r\n        #find the indices -&gt; O(n)\r\n        for i in range(len(nums)):\r\n          if(p[l] + p[r]&lt;target): \r\n            l += 1\r\n          elif (p[l] + p[r]&gt;target): \r\n            r -=1\r\n          else :\r\n            first_num = p[l]\r\n            second_num = p[r]\r\n        \r\n        #find the indices of the numbers -&gt; O(n)\r\n        for i in range(len(nums)):\r\n          if(nums[i]==first_num):\r\n            first_index = i\r\n          elif (nums[i]==second_num):\r\n            second_index = i\r\n        return [first_index,second_index]","title":"twoSum Algorithm : How to improve this?","body":"<ol>\n<li>Sort the list in non-decreasing order. It takes <code>O(nlogn)</code> time complexity.</li>\n<li>Find the two numbers, which can be done in <code>O(n)</code> time.</li>\n<li>Find the two indices of the two numbers, which can be done in <code>O(n)</code> time.</li>\n</ol>\n\n<p>Overall complexity is <code>O(nlogn)</code>.</p>\n\n<p>Implementation in python: </p>\n\n<pre><code>class Solution:\n  def twoSum(self, nums, target):\n    \"\"\"\n    :type nums: List[int]\n    :type target: int\n    :rtype: List[int]\n    \"\"\"\n    p = nums[:]\n    p.sort() #sorting in -&gt; O(nlogn)\n    r = len(nums)-1\n    l =0 \n\n    #find the indices -&gt; O(n)\n    for i in range(len(nums)):\n      if(p[l] + p[r]&lt;target): \n        l += 1\n      elif (p[l] + p[r]&gt;target): \n        r -=1\n      else :\n        first_num = p[l]\n        second_num = p[r]\n\n    #find the indices of the numbers -&gt; O(n)\n    for i in range(len(nums)):\n      if(nums[i]==first_num):\n        first_index = i\n      elif (nums[i]==second_num):\n        second_index = i\n    return [first_index,second_index]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5213391,"reputation":989,"user_id":4169078,"accept_rate":54,"display_name":"Vamshi Krishna"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1540446704,"creation_date":1540446704,"answer_id":52982175,"question_id":13042798,"body_markdown":"Swift code with Time Complexity O(n) and Space complexity O(n):\r\n\r\n    import UIKit\r\n\r\n    class Solution{\r\n        func twoSum(_ nums: [Int], _ target: Int) -&gt; [Int]{\r\n            var finalArray = [Int]()\r\n            var newDictionary = [Int:Int]()\r\n            for i in 0..&lt;nums.count{\r\n                let complement = target - nums[i]\r\n                if newDictionary[complement] != nil &amp;&amp; newDictionary[complement] != i{\r\n                    \r\n                    finalArray.append(newDictionary[complement]!)\r\n                    finalArray.append(i)\r\n                    return finalArray\r\n                }\r\n                newDictionary[nums[i]] = i\r\n                \r\n            }\r\n            return []\r\n        }\r\n    }\r\n\r\n    func main(){\r\n        \r\n        let solution = Solution()\r\n        print(&quot;All Good&quot; ,solution.twoSum([1, 3, 4 , 5], 6))\r\n    }\r\n    \r\n    main()\r\n\r\n","title":"twoSum Algorithm : How to improve this?","body":"<p>Swift code with Time Complexity O(n) and Space complexity O(n):</p>\n\n<pre><code>import UIKit\n\nclass Solution{\n    func twoSum(_ nums: [Int], _ target: Int) -&gt; [Int]{\n        var finalArray = [Int]()\n        var newDictionary = [Int:Int]()\n        for i in 0..&lt;nums.count{\n            let complement = target - nums[i]\n            if newDictionary[complement] != nil &amp;&amp; newDictionary[complement] != i{\n\n                finalArray.append(newDictionary[complement]!)\n                finalArray.append(i)\n                return finalArray\n            }\n            newDictionary[nums[i]] = i\n\n        }\n        return []\n    }\n}\n\nfunc main(){\n\n    let solution = Solution()\n    print(\"All Good\" ,solution.twoSum([1, 3, 4 , 5], 6))\n}\n\nmain()\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4909154,"reputation":45,"user_id":6189360,"display_name":"Argha Chakraborty"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1545900780,"creation_date":1545900780,"answer_id":53942235,"question_id":13042798,"body_markdown":"An O(n) solution in c++ using hash map only exploiting **Commutative rule** of Addition in real numbers.\r\n\r\n    class Solution {\r\n    public:\r\n        vector&lt;int&gt; twoSum(vector&lt;int&gt;&amp; nums, int target) {\r\n            unordered_map&lt;int, int&gt; my_map;\r\n              for ( int i = 0 ; i &lt; nums.size(); i++ ){\r\n                    if(my_map.find(target - nums[i]) != my_map.end()){\r\n                        return vector&lt;int&gt; {my_map[target - nums[i]], i};\r\n                    }  \r\n                    my_map[nums[i]] = i ;\r\n              }\r\n        }\r\n    };\r\n\r\n\r\n","title":"twoSum Algorithm : How to improve this?","body":"<p>An O(n) solution in c++ using hash map only exploiting <strong>Commutative rule</strong> of Addition in real numbers.</p>\n\n<pre><code>class Solution {\npublic:\n    vector&lt;int&gt; twoSum(vector&lt;int&gt;&amp; nums, int target) {\n        unordered_map&lt;int, int&gt; my_map;\n          for ( int i = 0 ; i &lt; nums.size(); i++ ){\n                if(my_map.find(target - nums[i]) != my_map.end()){\n                    return vector&lt;int&gt; {my_map[target - nums[i]], i};\n                }  \n                my_map[nums[i]] = i ;\n          }\n    }\n};\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13486506,"reputation":154,"user_id":9730155,"display_name":"HuLu"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1545905277,"creation_date":1545904783,"answer_id":53943102,"question_id":13042798,"body_markdown":"Can provide an O(n) time solution, but his memory cannot be O(1)\r\n\r\nFirst you declare a key-value pair &lt;key, value&gt;, where key is the value in the array of integers and value is the index in the array of integers. And, you need to declare a hash table to hold the key-value pairs.\r\nThen you need to iterate through the entire array of integers,\r\nif the value of this array (=sum - array[i]) is in the hash table, congratulations you found it, \r\nif not, it is stored in the hash table.\r\n\r\n\r\nSo the entire time spent is the time to insert and query the hash table.\r\nMemory is the size of the hash table.\r\n\r\nMy English is not very good, I hope I can help you.\r\n\r\n&lt;pre&gt;&lt;code&gt;\r\n\r\n    public static void main(String args[]) {\r\n        int[] array = {150,24,79,50,88,345,3};\r\n        int sum = 200;\r\n\r\n\r\n        Map&lt;Integer,Integer&gt; table = new HashMap&lt;&gt;();\r\n        StringBuilder builder = new StringBuilder();\r\n        for(int i=0;i&lt;array.length;i++){\r\n            int key = sum - array[i];\r\n            if(table.containsKey(key)){\r\n                builder.append(&quot;index1=&quot;).append(table.get(key)).\r\n                        append(&quot; index2=&quot;).append(i);\r\n            }else{\r\n                table.put(array[i],i);\r\n            }\r\n        }\r\n        System.out.println(builder);\r\n    }\r\n\r\n&lt;/pre&gt;&lt;code&gt;\r\n","title":"twoSum Algorithm : How to improve this?","body":"<p>Can provide an O(n) time solution, but his memory cannot be O(1)</p>\n\n<p>First you declare a key-value pair , where key is the value in the array of integers and value is the index in the array of integers. And, you need to declare a hash table to hold the key-value pairs.\nThen you need to iterate through the entire array of integers,\nif the value of this array (=sum - array[i]) is in the hash table, congratulations you found it, \nif not, it is stored in the hash table.</p>\n\n<p>So the entire time spent is the time to insert and query the hash table.\nMemory is the size of the hash table.</p>\n\n<p>My English is not very good, I hope I can help you.</p>\n\n<p><pre><code></p>\n\n<pre>public static void main(String args[]) {\n    int[] array = {150,24,79,50,88,345,3};\n    int sum = 200;\n\n\n    Map&lt;Integer,Integer&gt; table = new HashMap&lt;&gt;();\n    StringBuilder builder = new StringBuilder();\n    for(int i=0;i&lt;array.length;i++){\n        int key = sum - array[i];\n        if(table.containsKey(key)){\n            builder.append(\"index1=\").append(table.get(key)).\n                    append(\" index2=\").append(i);\n        }else{\n            table.put(array[i],i);\n        }\n    }\n    System.out.println(builder);\n}\n</code></pre>\n\n<p></pre></p>\n"},{"tags":[],"owner":{"account_id":9446144,"reputation":3019,"user_id":7024836,"accept_rate":42,"display_name":"Extreme "},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1563941226,"creation_date":1563941226,"answer_id":57175101,"question_id":13042798,"body_markdown":"As @Prayer mentioned above, here is the accepted answer.\r\n\r\n    class Solution {\r\n        public int[] twoSum(int[] nums, int target) {\r\n            int[] resultarray=new int[2];\r\n            for (int i=0;i&lt;nums.length-1;i++){\r\n                for(int k=i+1;k&lt;nums.length;k++)\r\n                {\r\n                     if(target==nums[i]+nums[k])\r\n                     {\r\n                         resultarray[0]=i;\r\n                         resultarray[1]=k;\r\n                     }\r\n                }\r\n            }\r\n            return resultarray;\r\n        }\r\n    }","title":"twoSum Algorithm : How to improve this?","body":"<p>As @Prayer mentioned above, here is the accepted answer.</p>\n\n<pre><code>class Solution {\n    public int[] twoSum(int[] nums, int target) {\n        int[] resultarray=new int[2];\n        for (int i=0;i&lt;nums.length-1;i++){\n            for(int k=i+1;k&lt;nums.length;k++)\n            {\n                 if(target==nums[i]+nums[k])\n                 {\n                     resultarray[0]=i;\n                     resultarray[1]=k;\n                 }\n            }\n        }\n        return resultarray;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16843719,"reputation":4256,"user_id":12178460,"display_name":"Zstack"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1570761687,"creation_date":1570761687,"answer_id":58333542,"question_id":13042798,"body_markdown":"I tried most of the answers and they don&#39;t seem to handle the edge cases properly. Hence, throwing my two cents for python3 solution that handles the edge cases. I used Max&#39;s algorithm to implement it:\r\n\r\n       def twoSum(nums, target):\r\n        output=[]\r\n        arr=sorted(nums)\r\n        x=0\r\n        y=-1\r\n        X=len(nums)-1\r\n        while x&lt;X:\r\n            if (arr[X]+arr[x] &gt;  target):\r\n                X-=1 \r\n            elif (arr[X]+arr[x] &lt;  target):\r\n                x+=1\r\n            elif (arr[X]+arr[x] == target):\r\n                #print(&quot;Found&quot;,arr[X],arr[x])\r\n                num1=arr[x]\r\n                num2=arr[X]\r\n                x+=1\r\n                X-=1 \r\n        for i in range(len(nums)):\r\n            if num1 == nums[i] and y==-1:\r\n                index1=i\r\n                y=i\r\n            elif num2 == nums[i]:\r\n                index2=i         \r\n        return [index1, index2]\r\n\r\nN.B. It&#39;s important to consider edge cases and inputs like the following\r\n \r\n\r\n    print(twoSum([3,2,4],  6)) # [1,2]\r\n    print(twoSum([3,3],  6))  # [0,1]","title":"twoSum Algorithm : How to improve this?","body":"<p>I tried most of the answers and they don't seem to handle the edge cases properly. Hence, throwing my two cents for python3 solution that handles the edge cases. I used Max's algorithm to implement it:</p>\n\n<pre><code>   def twoSum(nums, target):\n    output=[]\n    arr=sorted(nums)\n    x=0\n    y=-1\n    X=len(nums)-1\n    while x&lt;X:\n        if (arr[X]+arr[x] &gt;  target):\n            X-=1 \n        elif (arr[X]+arr[x] &lt;  target):\n            x+=1\n        elif (arr[X]+arr[x] == target):\n            #print(\"Found\",arr[X],arr[x])\n            num1=arr[x]\n            num2=arr[X]\n            x+=1\n            X-=1 \n    for i in range(len(nums)):\n        if num1 == nums[i] and y==-1:\n            index1=i\n            y=i\n        elif num2 == nums[i]:\n            index2=i         \n    return [index1, index2]\n</code></pre>\n\n<p>N.B. It's important to consider edge cases and inputs like the following</p>\n\n<pre><code>print(twoSum([3,2,4],  6)) # [1,2]\nprint(twoSum([3,3],  6))  # [0,1]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":262594,"reputation":1446,"user_id":1328979,"display_name":"Marc Carr&#233;"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1579930220,"creation_date":1579928854,"answer_id":59906496,"question_id":13042798,"body_markdown":"The na&#239;ve solution to the two-sum problem is `O(n^2)`, s.t. `n` is the length of the array of numbers provided.\r\n\r\nHowever, we can do better by using a hash-map of the values seen so far (key=number, value=index) and checking if the complement is already there (`O(1)`) as we iterate over the numbers. This approach is optimal for an **unsorted array**:\r\n\r\n- Runtime complexity: `O(n)`\r\n- Space complexity: `O(n)` -- though if there is a solution, in practice this would be `O(n/2)`\r\n\r\nGiven the OP&#39;s question:\r\n\r\n- does **not** specify whether the input array is sorted or not (it is, therefore, safe to assume the input array can be anything), and\r\n- specifically asks for **indexes** of the provided array, as opposed to the actual numbers, any kind of solution sorting the array would need to copy it beforehand, keep a mapping of indexes between the sorted array and the unsorted one, or iterate over the original array, hence costing memory (`O(n)`) or time (`O(n)`), depending on the approach chosen. Therefore, the 1st part of the [(currently) accepted solution](https://stackoverflow.com/a/13042928/1328979) is, strictly speaking, _incorrect_.\r\n\r\nOptimal solution:\r\n\r\n- In Python:\r\n\r\n```lang-python\r\nclass Solution:\r\n    def twoSum(self, nums: List[int], target: int) -&gt; List[int]:\r\n        seen = {}\r\n        for j, num in enumerate(nums):\r\n            i = seen.get(target-num, -1)\r\n            if i != -1:\r\n                return [i+1, j+1]\r\n            seen[num] = j\r\n        return [-1, -1]\r\n```\r\n\r\n- In Java:\r\n\r\n```lang-java\r\nimport java.util.Map;\r\nimport java.util.HashMap;\r\n\r\npublic class Solution {\r\n    public int[] twoSum(int[] nums, int target) {\r\n        final Map&lt;Integer, Integer&gt; seen = new HashMap&lt;&gt;();\r\n        for (int j = 0; j &lt; nums.length; ++j) {\r\n            final Integer i = seen.get(target - nums[j]); // One hash-map access v.s. two when using contains beforehand.\r\n            if (i != null) {\r\n                return new int[]{ i+1, j+1 };\r\n            }\r\n            numbers.put(nums[j], j);\r\n        }\r\n        return new int[]{-1, -1};\r\n    }\r\n}\r\n```\r\n\r\nNote that by construction, if the complement is present in the map/dictionary, then the index stored will always be lower than the current index. Hence the following proposition is verified:\r\n\r\n&gt; index1 must be less than index2\r\n\r\nAlso note that the OP&#39;s question needed 1-based indexes, which is what I&#39;ve provided above, but the Leetcode question referred to seems to have been updated since then, and now is 0-based: https://leetcode.com/problems/two-sum.\r\n\r\nI hope this helps.","title":"twoSum Algorithm : How to improve this?","body":"<p>The naïve solution to the two-sum problem is <code>O(n^2)</code>, s.t. <code>n</code> is the length of the array of numbers provided.</p>\n\n<p>However, we can do better by using a hash-map of the values seen so far (key=number, value=index) and checking if the complement is already there (<code>O(1)</code>) as we iterate over the numbers. This approach is optimal for an <strong>unsorted array</strong>:</p>\n\n<ul>\n<li>Runtime complexity: <code>O(n)</code></li>\n<li>Space complexity: <code>O(n)</code> -- though if there is a solution, in practice this would be <code>O(n/2)</code></li>\n</ul>\n\n<p>Given the OP's question:</p>\n\n<ul>\n<li>does <strong>not</strong> specify whether the input array is sorted or not (it is, therefore, safe to assume the input array can be anything), and</li>\n<li>specifically asks for <strong>indexes</strong> of the provided array, as opposed to the actual numbers, any kind of solution sorting the array would need to copy it beforehand, keep a mapping of indexes between the sorted array and the unsorted one, or iterate over the original array, hence costing memory (<code>O(n)</code>) or time (<code>O(n)</code>), depending on the approach chosen. Therefore, the 1st part of the <a href=\"https://stackoverflow.com/a/13042928/1328979\">(currently) accepted solution</a> is, strictly speaking, <em>incorrect</em>.</li>\n</ul>\n\n<p>Optimal solution:</p>\n\n<ul>\n<li>In Python:</li>\n</ul>\n\n<pre class=\"lang-python prettyprint-override\"><code>class Solution:\n    def twoSum(self, nums: List[int], target: int) -&gt; List[int]:\n        seen = {}\n        for j, num in enumerate(nums):\n            i = seen.get(target-num, -1)\n            if i != -1:\n                return [i+1, j+1]\n            seen[num] = j\n        return [-1, -1]\n</code></pre>\n\n<ul>\n<li>In Java:</li>\n</ul>\n\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.Map;\nimport java.util.HashMap;\n\npublic class Solution {\n    public int[] twoSum(int[] nums, int target) {\n        final Map&lt;Integer, Integer&gt; seen = new HashMap&lt;&gt;();\n        for (int j = 0; j &lt; nums.length; ++j) {\n            final Integer i = seen.get(target - nums[j]); // One hash-map access v.s. two when using contains beforehand.\n            if (i != null) {\n                return new int[]{ i+1, j+1 };\n            }\n            numbers.put(nums[j], j);\n        }\n        return new int[]{-1, -1};\n    }\n}\n</code></pre>\n\n<p>Note that by construction, if the complement is present in the map/dictionary, then the index stored will always be lower than the current index. Hence the following proposition is verified:</p>\n\n<blockquote>\n  <p>index1 must be less than index2</p>\n</blockquote>\n\n<p>Also note that the OP's question needed 1-based indexes, which is what I've provided above, but the Leetcode question referred to seems to have been updated since then, and now is 0-based: <a href=\"https://leetcode.com/problems/two-sum\" rel=\"nofollow noreferrer\">https://leetcode.com/problems/two-sum</a>.</p>\n\n<p>I hope this helps.</p>\n"},{"comments":[{"owner":{"account_id":15974771,"reputation":1023,"user_id":11527968,"display_name":"Jimmy"},"score":0,"creation_date":1594211258,"post_id":60888710,"comment_id":111046102,"body_markdown":"It works only If array is sorted while **in case of unsorted array list you will get wrong result.**","body":"It works only If array is sorted while <b>in case of unsorted array list you will get wrong result.</b>"}],"tags":[],"owner":{"account_id":10057047,"reputation":129,"user_id":7434937,"display_name":"Abhay"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1585321665,"creation_date":1585321665,"answer_id":60888710,"question_id":13042798,"body_markdown":"Here is an Efficient Solution.\r\n\r\n\r\n**Time Complexity - O(n)** and **Space Complexity - O(1)**\r\n\r\nSol: Will take two-pointer(start_pointer and end_pointer). Initially start_pointer point at the first index and end_pointer point to the last. \r\n\r\nAdd both the element (**sum = array[start_pointer] + array[last_pointer]**. After that check, if the **sum &gt; target** element or not. If yes decrease the **end_pointer** else increase **start_pointer**.  If **sum = target**, means you got the indexes.\r\n\r\n    public int[] twoSum(int[] numbers, int target) {\r\n        \r\n        int[] arr = new int[2]; // to store result\r\n        int sum=0;\r\n\r\n        int start_pointer=0;     \r\n        int end_pointer = (numbers.length)-1;\r\n        \r\n        while(start_pointer&lt;=end_pointer){\r\n            \r\n            sum=numbers[start_pointer]+numbers[end_pointer]; \r\n           \r\n            if(sum&gt;target)\r\n                end_pointer-=1;\r\n            else if(sum&lt;target)\r\n                start_pointer+=1;\r\n            else{\r\n                arr[0]=start_pointer;\r\n                arr[1]=end_pointer;\r\n                break;\r\n            }       \r\n        }       \r\n        return arr;\r\n    }","title":"twoSum Algorithm : How to improve this?","body":"<p>Here is an Efficient Solution.</p>\n\n<p><strong>Time Complexity - O(n)</strong> and <strong>Space Complexity - O(1)</strong></p>\n\n<p>Sol: Will take two-pointer(start_pointer and end_pointer). Initially start_pointer point at the first index and end_pointer point to the last. </p>\n\n<p>Add both the element (<strong>sum = array[start_pointer] + array[last_pointer]</strong>. After that check, if the <strong>sum > target</strong> element or not. If yes decrease the <strong>end_pointer</strong> else increase <strong>start_pointer</strong>.  If <strong>sum = target</strong>, means you got the indexes.</p>\n\n<pre><code>public int[] twoSum(int[] numbers, int target) {\n\n    int[] arr = new int[2]; // to store result\n    int sum=0;\n\n    int start_pointer=0;     \n    int end_pointer = (numbers.length)-1;\n\n    while(start_pointer&lt;=end_pointer){\n\n        sum=numbers[start_pointer]+numbers[end_pointer]; \n\n        if(sum&gt;target)\n            end_pointer-=1;\n        else if(sum&lt;target)\n            start_pointer+=1;\n        else{\n            arr[0]=start_pointer;\n            arr[1]=end_pointer;\n            break;\n        }       \n    }       \n    return arr;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14689380,"reputation":1,"user_id":13417912,"display_name":"TejeshGangari"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1589741205,"creation_date":1589741205,"answer_id":61856990,"question_id":13042798,"body_markdown":"We can do with HashMap and the time complexity would be O(n)\r\n\r\n    public class ReturnIndicesOfElementsAddToSum {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tint[] nums = {2, 7, 11, 15};\r\n\t\tint target = 18;\r\n\t\t\r\n\t\tif(!getIndices(nums,target)) {\r\n\t\t\tSystem.out.println(&quot;No such numbers found&quot;);\r\n\t\t}\r\n\t\t\r\n\t}\r\n\t\r\n\tstatic boolean getIndices(int[] nums, int target) {\r\n\t\tMap&lt;Integer,Integer&gt; indexMap = new HashMap&lt;&gt;();\r\n\t\tboolean numFound = false;\r\n\t\tfor(int i=0;i&lt;nums.length;i++) {\r\n\t\t\tint temp = target - nums[i];\r\n\t\t\tindexMap.put(nums[i], i);\r\n\t\t\tif(indexMap.containsKey(temp)) {\r\n\t\t\t\tSystem.out.printf(&quot;%d and %d adds upto the target value and indices are %d and %d&quot;\r\n\t\t\t\t\t\t\t\t, nums[i], temp, i, indexMap.get(temp));\r\n\t\t\t\tnumFound = true;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn numFound;\r\n\t}\r\n\r\n}","title":"twoSum Algorithm : How to improve this?","body":"<p>We can do with HashMap and the time complexity would be O(n)</p>\n\n<pre><code>public class ReturnIndicesOfElementsAddToSum {\n\npublic static void main(String[] args) {\n    int[] nums = {2, 7, 11, 15};\n    int target = 18;\n\n    if(!getIndices(nums,target)) {\n        System.out.println(\"No such numbers found\");\n    }\n\n}\n\nstatic boolean getIndices(int[] nums, int target) {\n    Map&lt;Integer,Integer&gt; indexMap = new HashMap&lt;&gt;();\n    boolean numFound = false;\n    for(int i=0;i&lt;nums.length;i++) {\n        int temp = target - nums[i];\n        indexMap.put(nums[i], i);\n        if(indexMap.containsKey(temp)) {\n            System.out.printf(\"%d and %d adds upto the target value and indices are %d and %d\"\n                            , nums[i], temp, i, indexMap.get(temp));\n            numFound = true;\n        }\n    }\n    return numFound;\n}\n</code></pre>\n\n<p>}</p>\n"},{"tags":[],"owner":{"account_id":15974771,"reputation":1023,"user_id":11527968,"display_name":"Jimmy"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1594210878,"creation_date":1594210878,"answer_id":62794695,"question_id":13042798,"body_markdown":"Using HashMap this is also a solution if **complexity for search in HashMap** will in order of O(logn) then in worst case the complexity will be **O(nlogn)**  \r\n\r\n        public int[] twoSum(int[] nums, int target) {\r\n            \r\n            int [] resultIndex = null;\r\n            \r\n            HashMap&lt;Integer,Integer&gt; map = new HashMap&lt;Integer,Integer&gt;();\r\n            \r\n            for(int i=0;i&lt;nums.length;i++){\r\n                int temp = target - nums[i];\r\n                \r\n                if(map.containsKey(temp)){\r\n                    resultIndex = new int[2];\r\n                    resultIndex[0]=map.get(temp);\r\n                    resultIndex[1]=i;\r\n                }else{\r\n                    map.put(nums[i],i);\r\n                }\r\n            }\r\n            return resultIndex;\r\n        }\r\n","title":"twoSum Algorithm : How to improve this?","body":"<p>Using HashMap this is also a solution if <strong>complexity for search in HashMap</strong> will in order of O(logn) then in worst case the complexity will be <strong>O(nlogn)</strong></p>\n<pre><code>    public int[] twoSum(int[] nums, int target) {\n        \n        int [] resultIndex = null;\n        \n        HashMap&lt;Integer,Integer&gt; map = new HashMap&lt;Integer,Integer&gt;();\n        \n        for(int i=0;i&lt;nums.length;i++){\n            int temp = target - nums[i];\n            \n            if(map.containsKey(temp)){\n                resultIndex = new int[2];\n                resultIndex[0]=map.get(temp);\n                resultIndex[1]=i;\n            }else{\n                map.put(nums[i],i);\n            }\n        }\n        return resultIndex;\n    }\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1133296,"reputation":2292,"user_id":1118878,"accept_rate":52,"display_name":"drodil"},"score":1,"creation_date":1596176760,"post_id":63182710,"comment_id":111733719,"body_markdown":"It just checks if numbers next to each other match the target. Think about giving the following parameters: nums: {12, 3, 23, 4} and target: 7. The return should be [1, 3] but your answer does not find it.","body":"It just checks if numbers next to each other match the target. Think about giving the following parameters: nums: {12, 3, 23, 4} and target: 7. The return should be [1, 3] but your answer does not find it."}],"tags":[],"owner":{"account_id":19196052,"reputation":1,"user_id":14024725,"display_name":"Megha"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1596151018,"creation_date":1596151018,"answer_id":63182710,"question_id":13042798,"body_markdown":"Just curious, but what&#39;s wrong with this O(n) solution?\r\n\r\n    public int[] twoSum(int[] nums, int target) {\r\n        for (int i = 0; i &lt; nums.length - 1; i++){\r\n            if (nums[i] + nums[i+1] == target)\r\n                return new int[] {i, i+1};\r\n        }\r\n        return null;\r\n    }","title":"twoSum Algorithm : How to improve this?","body":"<p>Just curious, but what's wrong with this O(n) solution?</p>\n<pre><code>public int[] twoSum(int[] nums, int target) {\n    for (int i = 0; i &lt; nums.length - 1; i++){\n        if (nums[i] + nums[i+1] == target)\n            return new int[] {i, i+1};\n    }\n    return null;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11352859,"reputation":707,"user_id":8323260,"accept_rate":64,"display_name":"miserable"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1596331707,"creation_date":1596331707,"answer_id":63211541,"question_id":13042798,"body_markdown":"Here is an O(n):\r\n\r\n    public int[] findSumMatched(int[] numbers, int target) {\r\n        Map&lt;Integer, Integer&gt; mapOfNumbers = new HashMap&lt;Integer, Integer&gt;();\r\n        for (int i = 0; i&lt;numbers.length; i++) {\r\n        \tint secondNumber = target - numbers[i];\r\n            if (mapOfNumbers.get(secondNumber) != null){\r\n                return new int[] {mapOfNumbers.get(secondNumber), i};\r\n            }\r\n            mapOfNumbers.put(numbers[i], i);\r\n        }\r\n        throw new IllegalArgumentException();\r\n    }","title":"twoSum Algorithm : How to improve this?","body":"<p>Here is an O(n):</p>\n<pre><code>public int[] findSumMatched(int[] numbers, int target) {\n    Map&lt;Integer, Integer&gt; mapOfNumbers = new HashMap&lt;Integer, Integer&gt;();\n    for (int i = 0; i&lt;numbers.length; i++) {\n        int secondNumber = target - numbers[i];\n        if (mapOfNumbers.get(secondNumber) != null){\n            return new int[] {mapOfNumbers.get(secondNumber), i};\n        }\n        mapOfNumbers.put(numbers[i], i);\n    }\n    throw new IllegalArgumentException();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1487312,"reputation":6514,"user_id":1395259,"accept_rate":67,"display_name":"Narendra Pal"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1607982668,"creation_date":1607982668,"answer_id":65296989,"question_id":13042798,"body_markdown":"My solution to this problem would be,\r\n\r\n    public int[] twoSums(int[] unsortedNum, int target) {\r\n            int[] nums = Arrays.copyOf(unsortedNum, unsortedNum.length);\r\n            Arrays.sort(nums);\r\n            boolean isResultFound = false;\r\n            int start = 0;\r\n            int end = nums.length-1;\r\n            while(!(start &gt; end)) {\r\n                if(nums[start]+nums[end] &gt; target){\r\n                    end--;\r\n                } else if (nums[start]+nums[end] &lt; target){\r\n                    start++;\r\n                } else if(nums[start] + nums[end] == target){\r\n                    isResultFound = true;\r\n                    break;\r\n                }\r\n            }\r\n            if(isResultFound){\r\n                int s = -1;\r\n                int e = -1;\r\n                for(int i = 0; i&lt; unsortedNum.length; i++){\r\n                    if(s != -1 &amp;&amp; e != -1){\r\n                        break;\r\n                    }\r\n                    if(s == -1 &amp;&amp; unsortedNum[i] == nums[start]){\r\n                        s = i;\r\n                    } else if(e == -1 &amp;&amp; unsortedNum[i] == nums[end]) {\r\n                        e = i;\r\n                    }\r\n                }\r\n                return new int[] {s,e};\r\n            }\r\n            // for element not found\r\n            return new int[]{-1,-1};\r\n        }\r\n\r\nIn the end, if you get -1, -1 as the index then you can say that elements not found which could sum to the target element.","title":"twoSum Algorithm : How to improve this?","body":"<p>My solution to this problem would be,</p>\n<pre><code>public int[] twoSums(int[] unsortedNum, int target) {\n        int[] nums = Arrays.copyOf(unsortedNum, unsortedNum.length);\n        Arrays.sort(nums);\n        boolean isResultFound = false;\n        int start = 0;\n        int end = nums.length-1;\n        while(!(start &gt; end)) {\n            if(nums[start]+nums[end] &gt; target){\n                end--;\n            } else if (nums[start]+nums[end] &lt; target){\n                start++;\n            } else if(nums[start] + nums[end] == target){\n                isResultFound = true;\n                break;\n            }\n        }\n        if(isResultFound){\n            int s = -1;\n            int e = -1;\n            for(int i = 0; i&lt; unsortedNum.length; i++){\n                if(s != -1 &amp;&amp; e != -1){\n                    break;\n                }\n                if(s == -1 &amp;&amp; unsortedNum[i] == nums[start]){\n                    s = i;\n                } else if(e == -1 &amp;&amp; unsortedNum[i] == nums[end]) {\n                    e = i;\n                }\n            }\n            return new int[] {s,e};\n        }\n        // for element not found\n        return new int[]{-1,-1};\n    }\n</code></pre>\n<p>In the end, if you get -1, -1 as the index then you can say that elements not found which could sum to the target element.</p>\n"},{"comments":[{"owner":{"account_id":7012702,"reputation":3129,"user_id":5374999,"accept_rate":83,"display_name":"Afsanefda"},"score":1,"creation_date":1613768501,"post_id":66282799,"comment_id":117188032,"body_markdown":"Please add more context to the answer!","body":"Please add more context to the answer!"}],"tags":[],"owner":{"account_id":20758877,"reputation":11,"user_id":15244583,"display_name":"MahamadoulHafizou"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1613758357,"creation_date":1613757976,"answer_id":66282799,"question_id":13042798,"body_markdown":"```python\r\nclass Solution(object):\r\n    def twoSum(self, nums, target):\r\n        &quot;&quot;&quot;\r\n        :type nums: List[int]\r\n        :type target: int\r\n        :rtype: List[int]\r\n        &quot;&quot;&quot;\r\n        out_list=[] \r\n        for i in range(len(nums)):\r\n            for j in range(len(nums)):\r\n                if(target-nums[i]) == nums[j] and i != j:\r\n                    out_list.append(i)\r\n        return out_list\r\n```","title":"twoSum Algorithm : How to improve this?","body":"<pre class=\"lang-py prettyprint-override\"><code>class Solution(object):\n    def twoSum(self, nums, target):\n        &quot;&quot;&quot;\n        :type nums: List[int]\n        :type target: int\n        :rtype: List[int]\n        &quot;&quot;&quot;\n        out_list=[] \n        for i in range(len(nums)):\n            for j in range(len(nums)):\n                if(target-nums[i]) == nums[j] and i != j:\n                    out_list.append(i)\n        return out_list\n</code></pre>\n"},{"tags":[],"owner":{"account_id":915105,"reputation":598,"user_id":1114134,"display_name":"user1114134"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1624862793,"creation_date":1624862793,"answer_id":68158721,"question_id":13042798,"body_markdown":"    class Solution {\r\n    public int[] twoSum(int[] nums, int target) {\r\n        int[] sortedNums = Arrays.copyOf(nums, nums.length);\r\n        Arrays.sort(sortedNums);\r\n                \r\n        int leftSortedIndex = 0;\r\n        int rightSortedIndex = sortedNums.length - 1;\r\n        \r\n        while(leftSortedIndex &lt; rightSortedIndex) {\r\n            int sum = sortedNums[leftSortedIndex] + sortedNums[rightSortedIndex];\r\n            if(sum == target) {\r\n                break;\r\n            } else if(sum &lt; target) {\r\n                leftSortedIndex++;\r\n            } else {\r\n                rightSortedIndex--;\r\n            }\r\n        }\r\n                \r\n        int leftIndex = -1;\r\n        int rightIndex = -1;\r\n        for(int index=0; index &lt; nums.length; index++) {\r\n            if(leftIndex == -1 &amp;&amp; nums[index] == sortedNums[leftSortedIndex]) {\r\n                leftIndex = index;\r\n                continue;\r\n            }\r\n            \r\n            if(rightIndex == -1 &amp;&amp; nums[index] == sortedNums[rightSortedIndex]) {\r\n                rightIndex = index;\r\n            } \r\n        }\r\n        \r\n        \r\n        return (new int[] {leftIndex, rightIndex});\r\n    }\r\n}","title":"twoSum Algorithm : How to improve this?","body":"<pre><code>class Solution {\npublic int[] twoSum(int[] nums, int target) {\n    int[] sortedNums = Arrays.copyOf(nums, nums.length);\n    Arrays.sort(sortedNums);\n            \n    int leftSortedIndex = 0;\n    int rightSortedIndex = sortedNums.length - 1;\n    \n    while(leftSortedIndex &lt; rightSortedIndex) {\n        int sum = sortedNums[leftSortedIndex] + sortedNums[rightSortedIndex];\n        if(sum == target) {\n            break;\n        } else if(sum &lt; target) {\n            leftSortedIndex++;\n        } else {\n            rightSortedIndex--;\n        }\n    }\n            \n    int leftIndex = -1;\n    int rightIndex = -1;\n    for(int index=0; index &lt; nums.length; index++) {\n        if(leftIndex == -1 &amp;&amp; nums[index] == sortedNums[leftSortedIndex]) {\n            leftIndex = index;\n            continue;\n        }\n        \n        if(rightIndex == -1 &amp;&amp; nums[index] == sortedNums[rightSortedIndex]) {\n            rightIndex = index;\n        } \n    }\n    \n    \n    return (new int[] {leftIndex, rightIndex});\n}\n</code></pre>\n<p>}</p>\n"},{"tags":[],"owner":{"account_id":915105,"reputation":598,"user_id":1114134,"display_name":"user1114134"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1624863142,"creation_date":1624863142,"answer_id":68158784,"question_id":13042798,"body_markdown":"    class Solution {\r\n    public int[] twoSum(int[] nums, int target) {\r\n        int[] sortedNums = Arrays.copyOf(nums, nums.length);\r\n        Arrays.sort(sortedNums);\r\n                \r\n        int leftSortedIndex = 0;\r\n        int rightSortedIndex = sortedNums.length - 1;\r\n        \r\n        while(leftSortedIndex &lt; rightSortedIndex) {\r\n            int sum = sortedNums[leftSortedIndex] + sortedNums[rightSortedIndex];\r\n            if(sum == target) {\r\n                break;\r\n            } else if(sum &lt; target) {\r\n                leftSortedIndex++;\r\n            } else {\r\n                rightSortedIndex--;\r\n            }\r\n        }\r\n                \r\n        int leftIndex = -1;\r\n        int rightIndex = -1;\r\n        for(int index=0; index &lt; nums.length; index++) {\r\n            if(leftIndex == -1 &amp;&amp; nums[index] == sortedNums[leftSortedIndex]) {\r\n                leftIndex = index;\r\n            } else if(rightIndex == -1 &amp;&amp; nums[index] == sortedNums[rightSortedIndex]) {\r\n                rightIndex = index;\r\n            }\r\n        }\r\n        \r\n        \r\n        return (new int[] {leftIndex, rightIndex});\r\n    }\r\n}","title":"twoSum Algorithm : How to improve this?","body":"<pre><code>class Solution {\npublic int[] twoSum(int[] nums, int target) {\n    int[] sortedNums = Arrays.copyOf(nums, nums.length);\n    Arrays.sort(sortedNums);\n            \n    int leftSortedIndex = 0;\n    int rightSortedIndex = sortedNums.length - 1;\n    \n    while(leftSortedIndex &lt; rightSortedIndex) {\n        int sum = sortedNums[leftSortedIndex] + sortedNums[rightSortedIndex];\n        if(sum == target) {\n            break;\n        } else if(sum &lt; target) {\n            leftSortedIndex++;\n        } else {\n            rightSortedIndex--;\n        }\n    }\n            \n    int leftIndex = -1;\n    int rightIndex = -1;\n    for(int index=0; index &lt; nums.length; index++) {\n        if(leftIndex == -1 &amp;&amp; nums[index] == sortedNums[leftSortedIndex]) {\n            leftIndex = index;\n        } else if(rightIndex == -1 &amp;&amp; nums[index] == sortedNums[rightSortedIndex]) {\n            rightIndex = index;\n        }\n    }\n    \n    \n    return (new int[] {leftIndex, rightIndex});\n}\n</code></pre>\n<p>}</p>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":2,"creation_date":1631017896,"post_id":69087304,"comment_id":122105739,"body_markdown":"Please provide additional details in your answer. As it&#39;s currently written, it&#39;s hard to understand your solution.","body":"Please provide additional details in your answer. As it&#39;s currently written, it&#39;s hard to understand your solution."}],"tags":[],"owner":{"account_id":22671459,"reputation":1,"user_id":16843162,"display_name":"Nikhil Verma"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1631014039,"creation_date":1631013684,"answer_id":69087304,"question_id":13042798,"body_markdown":"If anyone want for C this might help...It is brute forced not with hashtable!\r\n\r\n````\r\n#include &lt;stdio.h&gt;\r\nint main(int argc, char const *argv[])\r\n{\r\n\tint\ti,j,l,target,m,n;\r\n\tprintf(&quot;Enter how many elements you want :\\n&quot;);\r\n\tscanf(&quot;%d&quot;,&amp;i);\r\n\tint array[i];\r\n\r\n\tprintf(&quot;Input elements\\n&quot; );\r\n\tfor (j=0;j&lt;i;j++)\r\n\tscanf(&quot;%d&quot;,&amp;array[j]);\r\n\t\r\n\tprintf(&quot;[&quot;);\r\n\tfor (l=0;l&lt;i;l++)\r\n\tprintf(&quot; %d &quot;,array[l] );\r\n\tprintf(&quot;]\\n&quot;);\r\n\r\n\tprintf(&quot;Input the target :&quot;);\r\n\tscanf(&quot;%d&quot;,&amp;target);\r\n\r\n\tfor (m=0;m&lt;i;m++)\r\n\t{\r\n\t\tfor (n=m+1;n&lt;i;n++)\r\n\t\t{\r\n\t\t\tif ((array[m]+array[n])==target)\r\n\t\t\t{\r\n\t\t\t\tprintf(&quot;Their indices is \\n[%d,%d]&quot;,m,n);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t\r\n\treturn 0;\r\n}\r\n````","title":"twoSum Algorithm : How to improve this?","body":"<p>If anyone want for C this might help...It is brute forced not with hashtable!</p>\n<pre><code>#include &lt;stdio.h&gt;\nint main(int argc, char const *argv[])\n{\n    int i,j,l,target,m,n;\n    printf(&quot;Enter how many elements you want :\\n&quot;);\n    scanf(&quot;%d&quot;,&amp;i);\n    int array[i];\n\n    printf(&quot;Input elements\\n&quot; );\n    for (j=0;j&lt;i;j++)\n    scanf(&quot;%d&quot;,&amp;array[j]);\n    \n    printf(&quot;[&quot;);\n    for (l=0;l&lt;i;l++)\n    printf(&quot; %d &quot;,array[l] );\n    printf(&quot;]\\n&quot;);\n\n    printf(&quot;Input the target :&quot;);\n    scanf(&quot;%d&quot;,&amp;target);\n\n    for (m=0;m&lt;i;m++)\n    {\n        for (n=m+1;n&lt;i;n++)\n        {\n            if ((array[m]+array[n])==target)\n            {\n                printf(&quot;Their indices is \\n[%d,%d]&quot;,m,n);\n            }\n        }\n    }\n    \n    return 0;\n}\n</code></pre>\n"}],"owner":{"account_id":107879,"reputation":3542,"user_id":286629,"accept_rate":91,"display_name":"SuperMan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":33875,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"accepted_answer_id":13042928,"answer_count":26,"score":11,"last_activity_date":1699386773,"creation_date":1351050898,"question_id":13042798,"body_markdown":"I felt like doing an algorithm and found this problem on [leetcode][1]\n\n&gt; Given an array of integers, find two numbers such that they add up to a specific target number.\n&gt;\n&gt; The function twoSum should return indices of the two numbers such that they add up to the target, where index1 must be less than index2. Please note that your returned answers (both index1 and index2) are not zero-based.\n&gt; \n&gt; You may assume that each input would have exactly one solution.\n&gt;\n&gt; Input: numbers={2, 7, 11, 15}, target=9\n&gt;\n&gt; Output: index1=1, index2=2\n\nMy solution is O(n^2). I wanted to know if there is better way of doing this? like O(n) or O(nlogn)\n\n    import java.util.Arrays;\n    public class ReturnIndex {\n        public int[] twoSum(int[] numbers, int target) {\n            int tail = numbers.length-1;\n            int[] n = new int[2];\n            for (int i=0;i&lt;tail;i++) {\n                for(int j=i+1;j&lt;tail;j++) {\n                    if(target ==(numbers[i]+numbers[j])) {\n                        n[0] = i+1;\n                        n[1] = j+1;\n                    }\n                }\n            }\n            return n;\n        }\n\n        public static void main(String[] args) {\n            int[] s = {150,24,79,50,88,345,3};\n            int value = 200;\n            ReturnIndex r = new ReturnIndex();\n            int[] a = r.twoSum(s,value);\n            System.out.println(Arrays.toString(a));\n        }\n    }\n\n\n\n  [1]: http://www.leetcode.com","title":"twoSum Algorithm : How to improve this?","body":"<p>I felt like doing an algorithm and found this problem on <a href=\"http://www.leetcode.com\" rel=\"noreferrer\">leetcode</a></p>\n<blockquote>\n<p>Given an array of integers, find two numbers such that they add up to a specific target number.</p>\n<p>The function twoSum should return indices of the two numbers such that they add up to the target, where index1 must be less than index2. Please note that your returned answers (both index1 and index2) are not zero-based.</p>\n<p>You may assume that each input would have exactly one solution.</p>\n<p>Input: numbers={2, 7, 11, 15}, target=9</p>\n<p>Output: index1=1, index2=2</p>\n</blockquote>\n<p>My solution is O(n^2). I wanted to know if there is better way of doing this? like O(n) or O(nlogn)</p>\n<pre><code>import java.util.Arrays;\npublic class ReturnIndex {\n    public int[] twoSum(int[] numbers, int target) {\n        int tail = numbers.length-1;\n        int[] n = new int[2];\n        for (int i=0;i&lt;tail;i++) {\n            for(int j=i+1;j&lt;tail;j++) {\n                if(target ==(numbers[i]+numbers[j])) {\n                    n[0] = i+1;\n                    n[1] = j+1;\n                }\n            }\n        }\n        return n;\n    }\n\n    public static void main(String[] args) {\n        int[] s = {150,24,79,50,88,345,3};\n        int value = 200;\n        ReturnIndex r = new ReturnIndex();\n        int[] a = r.twoSum(s,value);\n        System.out.println(Arrays.toString(a));\n    }\n}\n</code></pre>\n"},{"tags":["java","xslt","saxon","oxygenxml"],"answers":[{"comments":[{"owner":{"account_id":1084445,"reputation":60,"user_id":1080506,"display_name":"Jason Coleman"},"score":0,"creation_date":1699385711,"post_id":77408556,"comment_id":136524387,"body_markdown":"Thank you, @michael-kay. Those definitely helped me track down the issue. Your comment regarding the function name was certainly part of my confusion. Using appropriate labels in the `StructuredQName()` method and then, in turn, using those in the stylesheet was the answer to get the function working. \n\nAnd, as you rightly mentioned, I had the types wrong (from some other previous attempt).","body":"Thank you, @michael-kay. Those definitely helped me track down the issue. Your comment regarding the function name was certainly part of my confusion. Using appropriate labels in the <code>StructuredQName()</code> method and then, in turn, using those in the stylesheet was the answer to get the function working.   And, as you rightly mentioned, I had the types wrong (from some other previous attempt)."}],"tags":[],"owner":{"account_id":529122,"reputation":158120,"user_id":415448,"accept_rate":33,"display_name":"Michael Kay"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1698918771,"creation_date":1698918771,"answer_id":77408556,"question_id":77406836,"body_markdown":"My first thought was that you have simply failed to register the `ExtensionFunctionDefinition` with the Saxon Processor, for example by calling `Processor.registerExtensionFunction()`. But I think that would give you different diagnostics.\r\n\r\nFor diagnosing this kind of problem, the -TJ option on the command line can be helpful.\r\n\r\nI think you have confused matters by using a URI in your function name, &quot;java:TestPackage.TestClass&quot; that indicates this to be a reflexive extension function. I don&#39;t think this is the primary problem, but it might lead to confusing diagnostics.\r\n\r\nIn addition, you have declared the function to return `SequenceType.VOID`, but your stylesheet is trying to use the result, which will fail. The function should be changed to declare its actual result type, `SequenceType.SINGLE_STRING`.","title":"Init error with Saxon HE Java Extension function in Oxygen XML","body":"<p>My first thought was that you have simply failed to register the <code>ExtensionFunctionDefinition</code> with the Saxon Processor, for example by calling <code>Processor.registerExtensionFunction()</code>. But I think that would give you different diagnostics.</p>\n<p>For diagnosing this kind of problem, the -TJ option on the command line can be helpful.</p>\n<p>I think you have confused matters by using a URI in your function name, &quot;java:TestPackage.TestClass&quot; that indicates this to be a reflexive extension function. I don't think this is the primary problem, but it might lead to confusing diagnostics.</p>\n<p>In addition, you have declared the function to return <code>SequenceType.VOID</code>, but your stylesheet is trying to use the result, which will fail. The function should be changed to declare its actual result type, <code>SequenceType.SINGLE_STRING</code>.</p>\n"},{"comments":[{"owner":{"account_id":1084445,"reputation":60,"user_id":1080506,"display_name":"Jason Coleman"},"score":1,"creation_date":1699297494,"post_id":77414619,"comment_id":136511503,"body_markdown":"Thanks, @radu-coravu. That was indeed what resulted in the odd `&lt;init&gt;()` error. I figured it had to be something simple I was overlooking. Still some errors and issues, as Michael mentioned but this was also a very helpful pointer.","body":"Thanks, @radu-coravu. That was indeed what resulted in the odd <code>&lt;init&gt;()</code> error. I figured it had to be something simple I was overlooking. Still some errors and issues, as Michael mentioned but this was also a very helpful pointer."}],"tags":[],"owner":{"account_id":1111287,"reputation":1809,"user_id":1101698,"display_name":"Radu Coravu"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1698993305,"creation_date":1698993305,"answer_id":77414619,"question_id":77406836,"body_markdown":"To add to what Michael Kay said, your Java class should also be declared as public. As it is now, it can be accessed only from classes in the same package.","title":"Init error with Saxon HE Java Extension function in Oxygen XML","body":"<p>To add to what Michael Kay said, your Java class should also be declared as public. As it is now, it can be accessed only from classes in the same package.</p>\n"}],"owner":{"account_id":1084445,"reputation":60,"user_id":1080506,"display_name":"Jason Coleman"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77408556,"answer_count":2,"score":0,"last_activity_date":1699386175,"creation_date":1698897241,"question_id":77406836,"body_markdown":"I&#39;m trying to learn how to create extension functions for XSLT using Java &amp; Saxon-HE using the [ExtensionFunctionDefinition](https://www.saxonica.com/html/documentation11/extensibility/extension-functions-J/ext-full-J.html) class. So far, I&#39;ve been able to extract and then re-compile a .jar using the [Oxygen DITA-OT plugin to convert Latex to SVG](https://github.com/oxygenxml/dita-latex/blob/master/com.oxygenxml.latex.svg/src/com/oxygenxml/latex/svg/LatexToSVG.java). That works fine when I add the necessary jar files as extensions and transforms the input string as expected.\r\n\r\nI feel like the issue has to be something extremely simple (and I&#39;m very inexperienced when it comes to writing Java language, admittedly).\r\n\r\nHowever, when I make some fairly simple modifications to the Java code to simply concatenate a string together, I get very nondescript error: `E [Saxon-HE 11.4] TestPackage.TestClass.&lt;init&gt;()`.\r\n\r\nHere is my Java:\r\n\r\n```\r\npackage TestPackage;\r\n\r\nimport net.sf.saxon.expr.XPathContext;\r\nimport net.sf.saxon.lib.ExtensionFunctionCall;\r\nimport net.sf.saxon.lib.ExtensionFunctionDefinition;\r\nimport net.sf.saxon.om.Sequence;\r\nimport net.sf.saxon.om.StructuredQName;\r\nimport net.sf.saxon.trans.XPathException;\r\nimport net.sf.saxon.value.SequenceType;\r\nimport net.sf.saxon.value.StringValue;\r\n\r\npublic class TestClass extends ExtensionFunctionDefinition {\r\n    @Override\r\n    public StructuredQName getFunctionQName() {\r\n        return new StructuredQName(&quot;ex-ns&quot;, &quot;http://www.example.com/test-class&quot;, &quot;function&quot;);\r\n    }\r\n    \r\n    @Override\r\n    public SequenceType[] getArgumentTypes() {\r\n        return new SequenceType[] { SequenceType.SINGLE_STRING };\r\n    }\r\n    \r\n    @Override\r\n    public SequenceType getResultType(SequenceType[] suppliedArgumentTypes) {\r\n        return SequenceType.VOID;\r\n    }\r\n    \r\n    @Override\r\n    public ExtensionFunctionCall makeCallExpression() {\r\n        return new ExtensionFunctionCall() {\r\n            @Override\r\n            public Sequence call(XPathContext context, Sequence[] arguments) throws XPathException {\r\n                String str1 = &quot;Hello &quot;;\r\n                String str2 = &quot;!&quot;;\r\n                String first = arguments[0].head().getStringValue();\r\n                String result = str1.concat(first).concat(str2);\r\n                return StringValue.makeStringValue(result);\r\n            }\r\n        };\r\n    }\r\n}\r\n```\r\n\r\nand here is my stylesheet for the transformation:\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;xsl:stylesheet xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot;\r\n    version=&quot;3.0&quot;\r\n    xmlns:xs=&quot;http://www.w3.org/2001/XMLSchema&quot; \r\n    xmlns:saxon=&quot;http://saxon.sf.net/&quot;\r\n    xmlns:ex-ns=&quot;http://www.example.com/test-class&quot;&gt;\r\n    \r\n    &lt;xsl:template match=&quot;/doc&quot;&gt;\r\n        &lt;xsl:message&gt;Doc here!&lt;/xsl:message&gt;\r\n        &lt;doc&gt;\r\n            &lt;xsl:apply-templates/&gt;\r\n        &lt;/doc&gt;\r\n    &lt;/xsl:template&gt;\r\n    \r\n    &lt;xsl:template match=&quot;//name&quot;&gt;\r\n        &lt;xsl:variable name=&quot;first-name&quot; as=&quot;xs:string&quot; select=&quot;@first&quot;/&gt;\r\n        &lt;xsl:variable name=&quot;last-name&quot; as=&quot;xs:string&quot; select=&quot;@last&quot;/&gt;\r\n        &lt;name&gt;\r\n            &lt;xsl:copy-of select=&quot;mine:function($first-name)&quot;/&gt;\r\n        &lt;/name&gt;\r\n    &lt;/xsl:template&gt;\r\n&lt;/xsl:stylesheet&gt;\r\n```\r\n\r\nThe input XML file is a very simple structure (as you can imagine) of a &lt;doc&gt; element containing some `&lt;name first=&quot;example&quot;/&gt;` child elements. I would expect each element to be transformed to &lt;name&gt;Hello example!&lt;/name&gt;, but instead I simply get the above error. Further, it appears that Saxon-HE (or any Saxon edition, it doesn&#39;t seem to matter) gives this error upon reading the jar file before any transformations. That is, the message &quot;Doc here!&quot; is never produced before the error is given.\r\n\r\n**UPDATED**\r\nCorrected Java based on comments below (snippet). Use a public class and standard formats for the StructuredQName():\r\n```\r\npublic class TestClass extends ExtensionFunctionDefinition {\r\n    @Override\r\n    public StructuredQName getFunctionQName() {\r\n        return new StructuredQName(&quot;ex-ns&quot;, &quot;http://www.example.com/test-class&quot;, &quot;function&quot;);\r\n    }\r\n```\r\n\r\nCorrected XSLT to use with this correction. Note how the xmlns uses the values declared in the StructureQName:\r\n```\r\n&lt;xsl:stylesheet xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot;\r\n    version=&quot;3.0&quot;\r\n    xmlns:xs=&quot;http://www.w3.org/2001/XMLSchema&quot; \r\n    xmlns:saxon=&quot;http://saxon.sf.net/&quot;\r\n    xmlns:ex-ns=&quot;http://www.example.com/test-class&quot;&gt;\r\n\r\n...\r\n        &lt;name&gt;\r\n            &lt;xsl:copy-of select=&quot;ex-ns:function($first-name)&quot;/&gt;\r\n        &lt;/name&gt;\r\n```","title":"Init error with Saxon HE Java Extension function in Oxygen XML","body":"<p>I'm trying to learn how to create extension functions for XSLT using Java &amp; Saxon-HE using the <a href=\"https://www.saxonica.com/html/documentation11/extensibility/extension-functions-J/ext-full-J.html\" rel=\"nofollow noreferrer\">ExtensionFunctionDefinition</a> class. So far, I've been able to extract and then re-compile a .jar using the <a href=\"https://github.com/oxygenxml/dita-latex/blob/master/com.oxygenxml.latex.svg/src/com/oxygenxml/latex/svg/LatexToSVG.java\" rel=\"nofollow noreferrer\">Oxygen DITA-OT plugin to convert Latex to SVG</a>. That works fine when I add the necessary jar files as extensions and transforms the input string as expected.</p>\n<p>I feel like the issue has to be something extremely simple (and I'm very inexperienced when it comes to writing Java language, admittedly).</p>\n<p>However, when I make some fairly simple modifications to the Java code to simply concatenate a string together, I get very nondescript error: <code>E [Saxon-HE 11.4] TestPackage.TestClass.&lt;init&gt;()</code>.</p>\n<p>Here is my Java:</p>\n<pre><code>package TestPackage;\n\nimport net.sf.saxon.expr.XPathContext;\nimport net.sf.saxon.lib.ExtensionFunctionCall;\nimport net.sf.saxon.lib.ExtensionFunctionDefinition;\nimport net.sf.saxon.om.Sequence;\nimport net.sf.saxon.om.StructuredQName;\nimport net.sf.saxon.trans.XPathException;\nimport net.sf.saxon.value.SequenceType;\nimport net.sf.saxon.value.StringValue;\n\npublic class TestClass extends ExtensionFunctionDefinition {\n    @Override\n    public StructuredQName getFunctionQName() {\n        return new StructuredQName(&quot;ex-ns&quot;, &quot;http://www.example.com/test-class&quot;, &quot;function&quot;);\n    }\n    \n    @Override\n    public SequenceType[] getArgumentTypes() {\n        return new SequenceType[] { SequenceType.SINGLE_STRING };\n    }\n    \n    @Override\n    public SequenceType getResultType(SequenceType[] suppliedArgumentTypes) {\n        return SequenceType.VOID;\n    }\n    \n    @Override\n    public ExtensionFunctionCall makeCallExpression() {\n        return new ExtensionFunctionCall() {\n            @Override\n            public Sequence call(XPathContext context, Sequence[] arguments) throws XPathException {\n                String str1 = &quot;Hello &quot;;\n                String str2 = &quot;!&quot;;\n                String first = arguments[0].head().getStringValue();\n                String result = str1.concat(first).concat(str2);\n                return StringValue.makeStringValue(result);\n            }\n        };\n    }\n}\n</code></pre>\n<p>and here is my stylesheet for the transformation:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;xsl:stylesheet xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot;\n    version=&quot;3.0&quot;\n    xmlns:xs=&quot;http://www.w3.org/2001/XMLSchema&quot; \n    xmlns:saxon=&quot;http://saxon.sf.net/&quot;\n    xmlns:ex-ns=&quot;http://www.example.com/test-class&quot;&gt;\n    \n    &lt;xsl:template match=&quot;/doc&quot;&gt;\n        &lt;xsl:message&gt;Doc here!&lt;/xsl:message&gt;\n        &lt;doc&gt;\n            &lt;xsl:apply-templates/&gt;\n        &lt;/doc&gt;\n    &lt;/xsl:template&gt;\n    \n    &lt;xsl:template match=&quot;//name&quot;&gt;\n        &lt;xsl:variable name=&quot;first-name&quot; as=&quot;xs:string&quot; select=&quot;@first&quot;/&gt;\n        &lt;xsl:variable name=&quot;last-name&quot; as=&quot;xs:string&quot; select=&quot;@last&quot;/&gt;\n        &lt;name&gt;\n            &lt;xsl:copy-of select=&quot;mine:function($first-name)&quot;/&gt;\n        &lt;/name&gt;\n    &lt;/xsl:template&gt;\n&lt;/xsl:stylesheet&gt;\n</code></pre>\n<p>The input XML file is a very simple structure (as you can imagine) of a  element containing some <code>&lt;name first=&quot;example&quot;/&gt;</code> child elements. I would expect each element to be transformed to Hello example!, but instead I simply get the above error. Further, it appears that Saxon-HE (or any Saxon edition, it doesn't seem to matter) gives this error upon reading the jar file before any transformations. That is, the message &quot;Doc here!&quot; is never produced before the error is given.</p>\n<p><strong>UPDATED</strong>\nCorrected Java based on comments below (snippet). Use a public class and standard formats for the StructuredQName():</p>\n<pre><code>public class TestClass extends ExtensionFunctionDefinition {\n    @Override\n    public StructuredQName getFunctionQName() {\n        return new StructuredQName(&quot;ex-ns&quot;, &quot;http://www.example.com/test-class&quot;, &quot;function&quot;);\n    }\n</code></pre>\n<p>Corrected XSLT to use with this correction. Note how the xmlns uses the values declared in the StructureQName:</p>\n<pre><code>&lt;xsl:stylesheet xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot;\n    version=&quot;3.0&quot;\n    xmlns:xs=&quot;http://www.w3.org/2001/XMLSchema&quot; \n    xmlns:saxon=&quot;http://saxon.sf.net/&quot;\n    xmlns:ex-ns=&quot;http://www.example.com/test-class&quot;&gt;\n\n...\n        &lt;name&gt;\n            &lt;xsl:copy-of select=&quot;ex-ns:function($first-name)&quot;/&gt;\n        &lt;/name&gt;\n</code></pre>\n"},{"tags":["java","spring-boot","azure","ibm-mq","spring-jms"],"comments":[{"owner":{"account_id":9804285,"reputation":10345,"user_id":7264620,"display_name":"JoshMc"},"score":0,"creation_date":1699389434,"post_id":77440928,"comment_id":136524900,"body_markdown":"What error do you get?  What makes you think it is connected, can you see the channel running from your azure IP if you display channel status on the queue manager?","body":"What error do you get?  What makes you think it is connected, can you see the channel running from your azure IP if you display channel status on the queue manager?"},{"owner":{"account_id":14633560,"reputation":145,"user_id":10568521,"display_name":"NOT_FOUND"},"score":0,"creation_date":1699389912,"post_id":77440928,"comment_id":136524985,"body_markdown":"I am checking the connection using the connectionFactory like below:\n\n\n@Autowired\nprivate UserCredentialsConnectionFactoryAdapter MFConnectionFactory1;\nMQQueueConnection connection = (MQQueueConnection) MFConnectionFactory1.createConnection();\nif (connection != null) {\n\tconnection.start();\n\tneoLogger.information(&quot;IBM MQ connection is valid&quot;, &quot;&quot;);\n\tsuper.setStatus(MonitorConstants.STATUS_GREEN);\nCan you please suggest if there is any other way to check the connection between application and the MQ channel","body":"I am checking the connection using the connectionFactory like below:   @Autowired private UserCredentialsConnectionFactoryAdapter MFConnectionFactory1; MQQueueConnection connection = (MQQueueConnection) MFConnectionFactory1.createConnection(); if (connection != null) { \tconnection.start(); \tneoLogger.information(&quot;IBM MQ connection is valid&quot;, &quot;&quot;); \tsuper.setStatus(MonitorConstants.STATUS_GREEN); Can you please suggest if there is any other way to check the connection between application and the MQ channel"},{"owner":{"account_id":5032228,"reputation":7304,"user_id":4042083,"accept_rate":50,"display_name":"Morag Hughson"},"score":0,"creation_date":1699392892,"post_id":77440928,"comment_id":136525419,"body_markdown":"Use an MQ admin tool (runmqsc, MQ Explorer, Console, ....) to view both channel status and application connections to determine whether your application has connected correctly. If it works in other environments, then it is clearly something about this environment. It is unlikely we can tell what that is from your config, we need to see runtime status such as the ones I mention. Especially if you have not received any non-zero reason codes.","body":"Use an MQ admin tool (runmqsc, MQ Explorer, Console, ....) to view both channel status and application connections to determine whether your application has connected correctly. If it works in other environments, then it is clearly something about this environment. It is unlikely we can tell what that is from your config, we need to see runtime status such as the ones I mention. Especially if you have not received any non-zero reason codes."},{"owner":{"account_id":14633560,"reputation":145,"user_id":10568521,"display_name":"NOT_FOUND"},"score":0,"creation_date":1699468496,"post_id":77440928,"comment_id":136536701,"body_markdown":"I can see the instance of my application connected to the mq channel.","body":"I can see the instance of my application connected to the mq channel."},{"owner":{"account_id":5032228,"reputation":7304,"user_id":4042083,"accept_rate":50,"display_name":"Morag Hughson"},"score":0,"creation_date":1699867802,"post_id":77440928,"comment_id":136580347,"body_markdown":"Do the DISPLAY CONNECTION output where you see the instance of your application connecting in over the SVRCONN channel also show that your connection has a queue open? Use DISPLAY CONN(*) TYPE(ALL) to see the handles as well as the connections.","body":"Do the DISPLAY CONNECTION output where you see the instance of your application connecting in over the SVRCONN channel also show that your connection has a queue open? Use DISPLAY CONN(*) TYPE(ALL) to see the handles as well as the connections."}],"owner":{"account_id":14633560,"reputation":145,"user_id":10568521,"display_name":"NOT_FOUND"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":72,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1699385988,"creation_date":1699385078,"question_id":77440928,"body_markdown":"I have 2 different IBM MQ Hosts and thus 2 different channels, managers, and request/reply queues in my Spring Boot application. From my local and legacy Tomcat servers everything seems to work fine, but when we deploy to Azure cloud it shows connection to IBM MQ successful but unable to listen to the queue or put message on the queues. I don&#39;t see any errors as well.\r\n\r\nMy IBM MQ configuration looks like this (I have 2 host configured, I am just providing one here as both are similar):\r\n\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\r\n       xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n       xmlns:jms=&quot;http://www.springframework.org/schema/jms&quot;\r\n       xmlns:util=&quot;http://www.springframework.org/schema/util&quot;\r\n       xmlns:context=&quot;http://www.springframework.org/schema/context&quot; xmlns:p=&quot;http://www.springframework.org/schema/p&quot;\r\n       xsi:schemaLocation=&quot;        \r\n       http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context.xsd\r\n       http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-3.0.xsd\r\n       http://www.springframework.org/schema/jms http://www.springframework.org/schema/jms/spring-jms-3.0.xsd\r\n       http://www.springframework.org/schema/util http://www.springframework.org/schema/util/spring-util-3.0.xsd&quot;&gt;\r\n\t\t\r\n\t\t&lt;bean id=&quot;MFmqConnectionFactoryOne&quot; class=&quot;com.ibm.mq.jms.MQQueueConnectionFactory&quot;&gt;\r\n\t\t  &lt;property name=&quot;hostName&quot; value=&quot;${MQHost1}&quot; /&gt; \r\n\t\t  &lt;property name=&quot;port&quot; value=&quot;${MQPort1}&quot; /&gt; \r\n\t\t  &lt;property name=&quot;channel&quot; value=&quot;${MQChannel1}&quot; /&gt; \r\n\t\t  &lt;property name=&quot;queueManager&quot; value=&quot;${MQManager1}&quot; /&gt; \r\n\t\t  &lt;property name=&quot;useConnectionPooling&quot; value=&quot;true&quot; /&gt; \r\n\t\t  &lt;property name=&quot;failIfQuiesce&quot; value=&quot;1&quot; /&gt; \r\n\t\t  &lt;property name=&quot;transportType&quot; value=&quot;1&quot; /&gt;\r\n\t\t &lt;/bean&gt;\t\t \t\r\n\t\t &lt;bean id=&quot;MFConnectionFactory1&quot;\r\n\t\t\tclass=&quot;org.springframework.jms.connection.UserCredentialsConnectionFactoryAdapter&quot;&gt;\r\n\t\t\t&lt;property name=&quot;targetConnectionFactory&quot; ref=&quot;MFmqConnectionFactoryOne&quot; /&gt;\r\n\t\t\t&lt;property name=&quot;username&quot; value =&quot;${MQUser}&quot;/&gt;\r\n\t\t\t&lt;property name=&quot;password&quot; value=&quot;&quot;/&gt;\r\n\t\t&lt;/bean&gt;\t\t\r\n\t\t&lt;bean id=&quot;queue.mainframeRequest1&quot; class=&quot;com.ibm.mq.jms.MQQueue&quot; depends-on=&quot;MFConnectionFactory1&quot;&gt;\r\n\t\t\t&lt;property name=&quot;baseQueueManagerName&quot; value=&quot;${MQManager1}&quot; /&gt;\r\n\t\t\t&lt;property name=&quot;baseQueueName&quot; value=&quot;${requestMQName1}&quot; /&gt;\r\n\t\t\t&lt;property name=&quot;targetClient&quot; value=&quot;1&quot; /&gt;\r\n\t\t&lt;/bean&gt;\r\n\t\t&lt;bean id=&quot;queue.mainframeRequest2&quot; class=&quot;com.ibm.mq.jms.MQQueue&quot; depends-on=&quot;MFConnectionFactory1&quot;&gt;\r\n\t\t\t&lt;property name=&quot;baseQueueManagerName&quot; value=&quot;${MQManager1}&quot; /&gt;\r\n\t\t\t&lt;property name=&quot;baseQueueName&quot; value=&quot;${requestMQName2}&quot; /&gt;\r\n\t\t\t&lt;property name=&quot;targetClient&quot; value=&quot;1&quot; /&gt;\r\n\t\t&lt;/bean&gt;\r\n\t\t&lt;bean id=&quot;queue.mainframeResponse1&quot; class=&quot;com.ibm.mq.jms.MQQueue&quot; depends-on=&quot;MFConnectionFactory1&quot;&gt;\r\n\t\t\t&lt;!-- For cluster environment with Mainframe, Qmgr is no needed --&gt;\r\n\t\t\t&lt;property name=&quot;baseQueueManagerName&quot; value=&quot;${MQManager1}&quot; /&gt; \r\n\t\t\t&lt;property name=&quot;baseQueueName&quot; value=&quot;${responseMQName1}&quot; /&gt;\r\n\t\t\t&lt;property name=&quot;targetClient&quot; value=&quot;1&quot; /&gt;\r\n\t\t\t&lt;property name=&quot;persistence&quot; value=&quot;${persistenceFlag}&quot;/&gt;\r\n\t\t\t&lt;property name=&quot;expiry&quot; value=&quot;${expiryMilliSeconds}&quot;/&gt;\t\t\t\r\n\t\t&lt;/bean&gt;\t\t\r\n\t\t&lt;bean id=&quot;queue.mainframeResponse2&quot; class=&quot;com.ibm.mq.jms.MQQueue&quot; depends-on=&quot;MFConnectionFactory1&quot;&gt;\r\n\t\t\t&lt;!-- For cluster environment with Mainframe, Qmgr is no needed --&gt;\r\n\t\t\t&lt;property name=&quot;baseQueueManagerName&quot; value=&quot;${MQManager1}&quot; /&gt; \r\n\t\t\t&lt;property name=&quot;baseQueueName&quot; value=&quot;${responseMQName2}&quot; /&gt;\r\n\t\t\t&lt;property name=&quot;targetClient&quot; value=&quot;1&quot; /&gt;\r\n\t\t\t&lt;property name=&quot;persistence&quot; value=&quot;${persistenceFlag}&quot;/&gt;\r\n\t\t\t&lt;property name=&quot;expiry&quot; value=&quot;${expiryMilliSeconds}&quot;/&gt;\r\n\t\t&lt;/bean&gt;\t\t\r\n\t\t&lt;bean id=&quot;jmsTransactionManager1&quot; class=&quot;org.springframework.jms.connection.JmsTransactionManager&quot;&gt;\r\n\t\t\t&lt;property name=&quot;connectionFactory&quot; ref=&quot;MFConnectionFactory1&quot; /&gt;\r\n\t\t&lt;/bean&gt;\t\t\r\n\t\t&lt;!-- A POJO that implements the JMS message listener --&gt;\r\n\t\t&lt;bean id=&quot;messageListener1&quot; class=&quot;ListenerClass&quot;/&gt;\r\n\t\t&lt;bean id=&quot;messageListener2&quot; class=&quot;ListenerClass&quot; /&gt;\t\t\r\n\t\t&lt;bean id=&quot;expenseDestinationResolver1&quot; class=&quot;org.springframework.jms.support.destination.BeanFactoryDestinationResolver&quot;/&gt;\r\n\t\t&lt;!-- The Spring message listener container configuration --&gt;\t\t \r\n\t\t&lt;jms:listener-container\r\n\t\t      container-type=&quot;default&quot;\r\n\t\t      connection-factory=&quot;MFConnectionFactory1&quot;\t\t    \r\n\t\t      acknowledge=&quot;transacted&quot;\r\n\t\t       concurrency=&quot;15-30&quot;\r\n\t\t       transaction-manager=&quot;jmsTransactionManager1&quot;\r\n\t\t      destination-resolver = &quot;expenseDestinationResolver1&quot;\r\n\t\t      &gt;\r\n\t\t\t&lt;jms:listener destination=&quot;queue.mainframeRequest1&quot; ref=&quot;messageListener1&quot; method=&quot;onMessage&quot; /&gt; \r\n\t\t    &lt;jms:listener destination=&quot;queue.mainframeRequest2&quot; ref=&quot;messageListener2&quot; method=&quot;onMessage&quot; /&gt;\r\n\t\t&lt;/jms:listener-container&gt;\t\t\t\t\r\n\t\t&lt;util:list id=&quot;processCategories1&quot; value-type=&quot;java.lang.String&quot;&gt;\r\n\t\t\t&lt;value&gt;ONLINE&lt;/value&gt;\r\n\t\t\t&lt;value&gt;BATCH&lt;/value&gt;\r\n\t\t&lt;/util:list&gt;\t\t\t\r\n\t\t&lt;util:map id=&quot;categoryJmsTemplateMap1&quot; map-class=&quot;java.util.HashMap&quot;&gt;\r\n\t\t\t&lt;entry key=&quot;ONLINE&quot; value-ref=&quot;jmsResponseTemplate1&quot; /&gt;\r\n\t\t\t&lt;entry key=&quot;BATCH&quot; value-ref=&quot;jmsResponseTemplate2&quot; /&gt;\r\n\t\t&lt;/util:map&gt;\t\t\r\n\t\t&lt;bean id=&quot;routingConfiguration1&quot; class=&quot;JMSConfiguration&quot;&gt;\r\n\t\t\t&lt;property name=&quot;processCategories&quot; ref=&quot;processCategories1&quot; /&gt;\r\n\t\t\t&lt;property name=&quot;templateMap&quot; ref=&quot;categoryJmsTemplateMap1&quot; /&gt;\r\n\t\t&lt;/bean&gt;\t\t\r\n\t\t&lt;bean id=&quot;jmsResponseTemplate1&quot; class=&quot;org.springframework.jms.core.JmsTemplate&quot;\r\n\t\t\tp:connectionFactory-ref=&quot;MFConnectionFactory1&quot;\r\n\t\t\tp:defaultDestination-ref=&quot;queue.mainframeResponse1&quot; /&gt;\r\n\t\t&lt;bean id=&quot;jmsResponseTemplate2&quot; class=&quot;org.springframework.jms.core.JmsTemplate&quot;\r\n\t\t\tp:connectionFactory-ref=&quot;MFConnectionFactory1&quot;\r\n\t\t\tp:defaultDestination-ref=&quot;queue.mainframeResponse2&quot; /&gt;\t\r\n&lt;/beans&gt;\r\n```\r\nI have the firewall ports open. Any suggestions what I must be missing or doing wrong? I am confused because this does seem to be working just fine locally and also on legacy Tomcat.","title":"Problem reading and posting message to IBM MQ","body":"<p>I have 2 different IBM MQ Hosts and thus 2 different channels, managers, and request/reply queues in my Spring Boot application. From my local and legacy Tomcat servers everything seems to work fine, but when we deploy to Azure cloud it shows connection to IBM MQ successful but unable to listen to the queue or put message on the queues. I don't see any errors as well.</p>\n<p>My IBM MQ configuration looks like this (I have 2 host configured, I am just providing one here as both are similar):</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\n       xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n       xmlns:jms=&quot;http://www.springframework.org/schema/jms&quot;\n       xmlns:util=&quot;http://www.springframework.org/schema/util&quot;\n       xmlns:context=&quot;http://www.springframework.org/schema/context&quot; xmlns:p=&quot;http://www.springframework.org/schema/p&quot;\n       xsi:schemaLocation=&quot;        \n       http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context.xsd\n       http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-3.0.xsd\n       http://www.springframework.org/schema/jms http://www.springframework.org/schema/jms/spring-jms-3.0.xsd\n       http://www.springframework.org/schema/util http://www.springframework.org/schema/util/spring-util-3.0.xsd&quot;&gt;\n        \n        &lt;bean id=&quot;MFmqConnectionFactoryOne&quot; class=&quot;com.ibm.mq.jms.MQQueueConnectionFactory&quot;&gt;\n          &lt;property name=&quot;hostName&quot; value=&quot;${MQHost1}&quot; /&gt; \n          &lt;property name=&quot;port&quot; value=&quot;${MQPort1}&quot; /&gt; \n          &lt;property name=&quot;channel&quot; value=&quot;${MQChannel1}&quot; /&gt; \n          &lt;property name=&quot;queueManager&quot; value=&quot;${MQManager1}&quot; /&gt; \n          &lt;property name=&quot;useConnectionPooling&quot; value=&quot;true&quot; /&gt; \n          &lt;property name=&quot;failIfQuiesce&quot; value=&quot;1&quot; /&gt; \n          &lt;property name=&quot;transportType&quot; value=&quot;1&quot; /&gt;\n         &lt;/bean&gt;            \n         &lt;bean id=&quot;MFConnectionFactory1&quot;\n            class=&quot;org.springframework.jms.connection.UserCredentialsConnectionFactoryAdapter&quot;&gt;\n            &lt;property name=&quot;targetConnectionFactory&quot; ref=&quot;MFmqConnectionFactoryOne&quot; /&gt;\n            &lt;property name=&quot;username&quot; value =&quot;${MQUser}&quot;/&gt;\n            &lt;property name=&quot;password&quot; value=&quot;&quot;/&gt;\n        &lt;/bean&gt;     \n        &lt;bean id=&quot;queue.mainframeRequest1&quot; class=&quot;com.ibm.mq.jms.MQQueue&quot; depends-on=&quot;MFConnectionFactory1&quot;&gt;\n            &lt;property name=&quot;baseQueueManagerName&quot; value=&quot;${MQManager1}&quot; /&gt;\n            &lt;property name=&quot;baseQueueName&quot; value=&quot;${requestMQName1}&quot; /&gt;\n            &lt;property name=&quot;targetClient&quot; value=&quot;1&quot; /&gt;\n        &lt;/bean&gt;\n        &lt;bean id=&quot;queue.mainframeRequest2&quot; class=&quot;com.ibm.mq.jms.MQQueue&quot; depends-on=&quot;MFConnectionFactory1&quot;&gt;\n            &lt;property name=&quot;baseQueueManagerName&quot; value=&quot;${MQManager1}&quot; /&gt;\n            &lt;property name=&quot;baseQueueName&quot; value=&quot;${requestMQName2}&quot; /&gt;\n            &lt;property name=&quot;targetClient&quot; value=&quot;1&quot; /&gt;\n        &lt;/bean&gt;\n        &lt;bean id=&quot;queue.mainframeResponse1&quot; class=&quot;com.ibm.mq.jms.MQQueue&quot; depends-on=&quot;MFConnectionFactory1&quot;&gt;\n            &lt;!-- For cluster environment with Mainframe, Qmgr is no needed --&gt;\n            &lt;property name=&quot;baseQueueManagerName&quot; value=&quot;${MQManager1}&quot; /&gt; \n            &lt;property name=&quot;baseQueueName&quot; value=&quot;${responseMQName1}&quot; /&gt;\n            &lt;property name=&quot;targetClient&quot; value=&quot;1&quot; /&gt;\n            &lt;property name=&quot;persistence&quot; value=&quot;${persistenceFlag}&quot;/&gt;\n            &lt;property name=&quot;expiry&quot; value=&quot;${expiryMilliSeconds}&quot;/&gt;         \n        &lt;/bean&gt;     \n        &lt;bean id=&quot;queue.mainframeResponse2&quot; class=&quot;com.ibm.mq.jms.MQQueue&quot; depends-on=&quot;MFConnectionFactory1&quot;&gt;\n            &lt;!-- For cluster environment with Mainframe, Qmgr is no needed --&gt;\n            &lt;property name=&quot;baseQueueManagerName&quot; value=&quot;${MQManager1}&quot; /&gt; \n            &lt;property name=&quot;baseQueueName&quot; value=&quot;${responseMQName2}&quot; /&gt;\n            &lt;property name=&quot;targetClient&quot; value=&quot;1&quot; /&gt;\n            &lt;property name=&quot;persistence&quot; value=&quot;${persistenceFlag}&quot;/&gt;\n            &lt;property name=&quot;expiry&quot; value=&quot;${expiryMilliSeconds}&quot;/&gt;\n        &lt;/bean&gt;     \n        &lt;bean id=&quot;jmsTransactionManager1&quot; class=&quot;org.springframework.jms.connection.JmsTransactionManager&quot;&gt;\n            &lt;property name=&quot;connectionFactory&quot; ref=&quot;MFConnectionFactory1&quot; /&gt;\n        &lt;/bean&gt;     \n        &lt;!-- A POJO that implements the JMS message listener --&gt;\n        &lt;bean id=&quot;messageListener1&quot; class=&quot;ListenerClass&quot;/&gt;\n        &lt;bean id=&quot;messageListener2&quot; class=&quot;ListenerClass&quot; /&gt;        \n        &lt;bean id=&quot;expenseDestinationResolver1&quot; class=&quot;org.springframework.jms.support.destination.BeanFactoryDestinationResolver&quot;/&gt;\n        &lt;!-- The Spring message listener container configuration --&gt;         \n        &lt;jms:listener-container\n              container-type=&quot;default&quot;\n              connection-factory=&quot;MFConnectionFactory1&quot;         \n              acknowledge=&quot;transacted&quot;\n               concurrency=&quot;15-30&quot;\n               transaction-manager=&quot;jmsTransactionManager1&quot;\n              destination-resolver = &quot;expenseDestinationResolver1&quot;\n              &gt;\n            &lt;jms:listener destination=&quot;queue.mainframeRequest1&quot; ref=&quot;messageListener1&quot; method=&quot;onMessage&quot; /&gt; \n            &lt;jms:listener destination=&quot;queue.mainframeRequest2&quot; ref=&quot;messageListener2&quot; method=&quot;onMessage&quot; /&gt;\n        &lt;/jms:listener-container&gt;               \n        &lt;util:list id=&quot;processCategories1&quot; value-type=&quot;java.lang.String&quot;&gt;\n            &lt;value&gt;ONLINE&lt;/value&gt;\n            &lt;value&gt;BATCH&lt;/value&gt;\n        &lt;/util:list&gt;            \n        &lt;util:map id=&quot;categoryJmsTemplateMap1&quot; map-class=&quot;java.util.HashMap&quot;&gt;\n            &lt;entry key=&quot;ONLINE&quot; value-ref=&quot;jmsResponseTemplate1&quot; /&gt;\n            &lt;entry key=&quot;BATCH&quot; value-ref=&quot;jmsResponseTemplate2&quot; /&gt;\n        &lt;/util:map&gt;     \n        &lt;bean id=&quot;routingConfiguration1&quot; class=&quot;JMSConfiguration&quot;&gt;\n            &lt;property name=&quot;processCategories&quot; ref=&quot;processCategories1&quot; /&gt;\n            &lt;property name=&quot;templateMap&quot; ref=&quot;categoryJmsTemplateMap1&quot; /&gt;\n        &lt;/bean&gt;     \n        &lt;bean id=&quot;jmsResponseTemplate1&quot; class=&quot;org.springframework.jms.core.JmsTemplate&quot;\n            p:connectionFactory-ref=&quot;MFConnectionFactory1&quot;\n            p:defaultDestination-ref=&quot;queue.mainframeResponse1&quot; /&gt;\n        &lt;bean id=&quot;jmsResponseTemplate2&quot; class=&quot;org.springframework.jms.core.JmsTemplate&quot;\n            p:connectionFactory-ref=&quot;MFConnectionFactory1&quot;\n            p:defaultDestination-ref=&quot;queue.mainframeResponse2&quot; /&gt;  \n&lt;/beans&gt;\n</code></pre>\n<p>I have the firewall ports open. Any suggestions what I must be missing or doing wrong? I am confused because this does seem to be working just fine locally and also on legacy Tomcat.</p>\n"},{"tags":["java","date","utc","localdate"],"comments":[{"owner":{"account_id":45934,"reputation":203679,"user_id":135589,"accept_rate":100,"display_name":"Jesper"},"score":2,"creation_date":1664388727,"post_id":73885949,"comment_id":130462661,"body_markdown":"1. Yes 2. Yes 3. Not exactly, an old-fashioned `Date` object just stores a number of milliseconds since 01-01-1970, 00:00:00 UTC. It doesn&#39;t know anything about timezones. That the reference point is UTC does not mean it only stores UTC date and times. 4. What do you mean? That code takes a `LocalDate` and combines it with timezone information to create a `ZonedDateTime`, which *does* contain timezone information.","body":"1. Yes 2. Yes 3. Not exactly, an old-fashioned <code>Date</code> object just stores a number of milliseconds since 01-01-1970, 00:00:00 UTC. It doesn&#39;t know anything about timezones. That the reference point is UTC does not mean it only stores UTC date and times. 4. What do you mean? That code takes a <code>LocalDate</code> and combines it with timezone information to create a <code>ZonedDateTime</code>, which <i>does</i> contain timezone information."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1664389379,"post_id":73885949,"comment_id":130462836,"body_markdown":"To reduce confusion I recommend you don’t use the no-arg `LocalDate.now` method but rather `LocalDate.now(ZoneId.of(&quot;Europe/Madrid&quot;))` or `LocalDate.now(ZoneOffset.UTC))` (in your example these two will give different results).","body":"To reduce confusion I recommend you don’t use the no-arg <code>LocalDate.now</code> method but rather <code>LocalDate.now(ZoneId.of(&quot;Europe&#47;Madrid&quot;))</code> or <code>LocalDate.now(ZoneOffset.UTC))</code> (in your example these two will give different results)."}],"answers":[{"comments":[{"owner":{"account_id":3939456,"reputation":1801,"user_id":3254515,"accept_rate":52,"display_name":"fernando1979"},"score":1,"creation_date":1664401007,"post_id":73886431,"comment_id":130465973,"body_markdown":"About question 2, what I meant is that when you create a LocalDate, it is always considered the timezone of the system or the zoneId you pass as a parameter to create the date, but once you already have the date created, if you print it is not considered the timezone, it was at the time of creating it, not when printing it. That was my question","body":"About question 2, what I meant is that when you create a LocalDate, it is always considered the timezone of the system or the zoneId you pass as a parameter to create the date, but once you already have the date created, if you print it is not considered the timezone, it was at the time of creating it, not when printing it. That was my question"},{"owner":{"account_id":2179728,"reputation":73067,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"score":0,"creation_date":1664403232,"post_id":73886431,"comment_id":130466492,"body_markdown":"@fernando1979 If I have understood your comment correctly, [this](https://stackoverflow.com/a/67040099/10819573) can be helpful to you.","body":"@fernando1979 If I have understood your comment correctly, <a href=\"https://stackoverflow.com/a/67040099/10819573\">this</a> can be helpful to you."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":3,"creation_date":1664414343,"post_id":73886431,"comment_id":130468189,"body_markdown":"I think the important distinction here is between a `LocalDate` *object* and the static no-arg `now` method of the `LocalDate` *class*. The object *never* considers the system time zone. The no-arg method *always* does.","body":"I think the important distinction here is between a <code>LocalDate</code> <i>object</i> and the static no-arg <code>now</code> method of the <code>LocalDate</code> <i>class</i>. The object <i>never</i> considers the system time zone. The no-arg method <i>always</i> does."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":3,"creation_date":1664431747,"post_id":73886431,"comment_id":130470859,"body_markdown":"@fernando1979 If I understand you correctly, you are correct: When you create the `LocalDate` using one of the `now` methods, time zone is considered (and system time zone of none is given in the call). After that the `LocalDate` object is never altered again, so when you print it, all that is considered is the state it got in creation.","body":"@fernando1979 If I understand you correctly, you are correct: When you create the <code>LocalDate</code> using one of the <code>now</code> methods, time zone is considered (and system time zone of none is given in the call). After that the <code>LocalDate</code> object is never altered again, so when you print it, all that is considered is the state it got in creation."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1699385274,"post_id":73886431,"comment_id":136524317,"body_markdown":"&quot;print a LocalDate&quot; is confusing wording in your prose. I suggest you more distinctly separate the issues of (a) capturing the current date (zone involved), (b) representing simply the year-month-day with a `LocalDate` object (no zone involved, and (c) `LocalDate.toString` generating text, but no text inside `LocalDate` object (no zone).","body":"&quot;print a LocalDate&quot; is confusing wording in your prose. I suggest you more distinctly separate the issues of (a) capturing the current date (zone involved), (b) representing simply the year-month-day with a <code>LocalDate</code> object (no zone involved, and (c) <code>LocalDate.toString</code> generating text, but no text inside <code>LocalDate</code> object (no zone)."}],"tags":[],"owner":{"account_id":2179728,"reputation":73067,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"comment_count":5,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1664483400,"creation_date":1664390674,"answer_id":73886431,"question_id":73885949,"body_markdown":"[![enter image description here][1]][1]\r\n\r\nJesper has [already answered][2] all your questions. However, it seems he perceived your Q#2 in a way different from what you may be thinking. Your Q#2 is:\r\n\r\n&gt; When you print a LocalDate, it is not considered the timezone of the\r\n&gt; system to print it because LocalDate does not have any timezone\r\n&gt; information, just print the value stored, right?.\r\n\r\nThe fact is, when you print a `LocalDate`, it always considers the timezone of the system e.g. if you print `LocalDate.now()` in Madrid, India and New York at the same time, you may get different results (depending on what time you do it). Probably, this is what Ole V.V. has tried to tell you in his comment.\r\n\r\n**Demo**:\r\n\r\n    import java.time.LocalDate;\r\n    import java.time.ZoneId;\r\n    \r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            System.out.println(LocalDate.now(ZoneId.of(&quot;Europe/Madrid&quot;)));\r\n            System.out.println(LocalDate.now(ZoneId.of(&quot;Asia/Kolkata&quot;)));\r\n            System.out.println(LocalDate.now(ZoneId.of(&quot;America/New_York&quot;)));\r\n        }\r\n    }\r\n\r\n**Output**:\r\n\r\n    2022-09-28\r\n    2022-09-29\r\n    2022-09-28\r\n\r\nTo understand this difference, I suggest you print `LocalDateTime` instead of just `LocalDate` e.g.\r\n\r\n    import java.time.LocalDateTime;\r\n    import java.time.ZoneId;\r\n    \r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            System.out.println(LocalDateTime.now(ZoneId.of(&quot;Europe/Madrid&quot;)));\r\n            System.out.println(LocalDateTime.now(ZoneId.of(&quot;Asia/Kolkata&quot;)));\r\n            System.out.println(LocalDateTime.now(ZoneId.of(&quot;America/New_York&quot;)));\r\n        }\r\n    }\r\n\r\n**Output**:\r\n\r\n    2022-09-28T21:03:56.438167\r\n    2022-09-29T00:33:56.443577\r\n    2022-09-28T15:03:56.444049\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/XFS0N.png\r\n  [2]: https://stackoverflow.com/questions/73885949/localdate-in-java-stores-utc-date-or-local-date/73886431#comment130462661_73885949","title":"LocalDate in java stores UTC date or local date?","body":"<p><a href=\"https://i.stack.imgur.com/XFS0N.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/XFS0N.png\" alt=\"enter image description here\" /></a></p>\n<p>Jesper has <a href=\"https://stackoverflow.com/questions/73885949/localdate-in-java-stores-utc-date-or-local-date/73886431#comment130462661_73885949\">already answered</a> all your questions. However, it seems he perceived your Q#2 in a way different from what you may be thinking. Your Q#2 is:</p>\n<blockquote>\n<p>When you print a LocalDate, it is not considered the timezone of the\nsystem to print it because LocalDate does not have any timezone\ninformation, just print the value stored, right?.</p>\n</blockquote>\n<p>The fact is, when you print a <code>LocalDate</code>, it always considers the timezone of the system e.g. if you print <code>LocalDate.now()</code> in Madrid, India and New York at the same time, you may get different results (depending on what time you do it). Probably, this is what Ole V.V. has tried to tell you in his comment.</p>\n<p><strong>Demo</strong>:</p>\n<pre><code>import java.time.LocalDate;\nimport java.time.ZoneId;\n\npublic class Main {\n    public static void main(String[] args) {\n        System.out.println(LocalDate.now(ZoneId.of(&quot;Europe/Madrid&quot;)));\n        System.out.println(LocalDate.now(ZoneId.of(&quot;Asia/Kolkata&quot;)));\n        System.out.println(LocalDate.now(ZoneId.of(&quot;America/New_York&quot;)));\n    }\n}\n</code></pre>\n<p><strong>Output</strong>:</p>\n<pre><code>2022-09-28\n2022-09-29\n2022-09-28\n</code></pre>\n<p>To understand this difference, I suggest you print <code>LocalDateTime</code> instead of just <code>LocalDate</code> e.g.</p>\n<pre><code>import java.time.LocalDateTime;\nimport java.time.ZoneId;\n\npublic class Main {\n    public static void main(String[] args) {\n        System.out.println(LocalDateTime.now(ZoneId.of(&quot;Europe/Madrid&quot;)));\n        System.out.println(LocalDateTime.now(ZoneId.of(&quot;Asia/Kolkata&quot;)));\n        System.out.println(LocalDateTime.now(ZoneId.of(&quot;America/New_York&quot;)));\n    }\n}\n</code></pre>\n<p><strong>Output</strong>:</p>\n<pre><code>2022-09-28T21:03:56.438167\n2022-09-29T00:33:56.443577\n2022-09-28T15:03:56.444049\n</code></pre>\n"},{"comments":[{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1699385681,"post_id":77440906,"comment_id":136524378,"body_markdown":"I reworded your last half to be more precise, more explicit. And I added a bit about how the new `ZonedDateTime` will have its time-of-day adjusted if need be.","body":"I reworded your last half to be more precise, more explicit. And I added a bit about how the new <code>ZonedDateTime</code> will have its time-of-day adjusted if need be."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1699386014,"post_id":77440906,"comment_id":136524430,"body_markdown":"You make valuable points here in this Answer. But unfortunately, it is off-topic for this Question. This Question does not involve the `LocalDateTime` class nor the concept behind that class. This have been better placed as an Answer to a new and separate Question you authored. (Answering your own Question is not only allowed, it is encouraged on Stack Overflow.)","body":"You make valuable points here in this Answer. But unfortunately, it is off-topic for this Question. This Question does not involve the <code>LocalDateTime</code> class nor the concept behind that class. This have been better placed as an Answer to a new and separate Question you authored. (Answering your own Question is not only allowed, it is encouraged on Stack Overflow.)"}],"tags":[],"owner":{"account_id":236419,"reputation":126,"user_id":503894,"display_name":"John"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699385618,"creation_date":1699384768,"answer_id":77440906,"question_id":73885949,"body_markdown":"I don&#39;t think Question # 4 was answered well. I think it is obvious to Jasper and others but not so obvious to me and I think OP. \r\n\r\n`LocalDateTime.now()` will use either system clock or provided timezone to determine what &quot;now&quot; is, but then removes the time zone reference. It is impossible to determine what original time zone was used to create the `LocalDateTime` object.\r\n\r\nThat had me wondering how does `LocalDateTime.atZone(ZoneId.of(&quot;Europe/Madrid&quot;))` properly convert the `LocalDateTime` to `Europe/Madrid` timezone if there is no time zone reference point to convert from? For example, if `LocalDateTime` is 2022-09-28T21:03:56, how can it then convert that to Europe/Madrid when it does not understand what time zone the date/time it holds originated from? \r\n\r\nThe solution is obvious now. It doesn&#39;t convert and it does not try to figure out what timezone it originated from. It just appends the timezone specified to the date/time it has. \r\n\r\nSo if a `LocalDateTime` object has a value of 2022-09-28T21:03:56, then `LocalDateTime.atZone(ZoneId.of(&quot;Europe/Madrid&quot;))` instantiates a `ZonedDateTime` object with a value of 2022-09-28T21:03:56+01:00. Notice there is no change other than adding the +01:00 offset in use by the people of that time zone at that moment.\r\n\r\nIf that particular time-of-day does not exist in that time zone at that moment, such as during a Daylight Saving Time (DST) cutover, the time-of-day in the new `ZonedDateTime` is adjusted logically.\r\n\r\nAfter I understood those two points it was all really clear how it worked. \r\n\r\nHope this helps someone else that this was not that obvious for. ","title":"LocalDate in java stores UTC date or local date?","body":"<p>I don't think Question # 4 was answered well. I think it is obvious to Jasper and others but not so obvious to me and I think OP.</p>\n<p><code>LocalDateTime.now()</code> will use either system clock or provided timezone to determine what &quot;now&quot; is, but then removes the time zone reference. It is impossible to determine what original time zone was used to create the <code>LocalDateTime</code> object.</p>\n<p>That had me wondering how does <code>LocalDateTime.atZone(ZoneId.of(&quot;Europe/Madrid&quot;))</code> properly convert the <code>LocalDateTime</code> to <code>Europe/Madrid</code> timezone if there is no time zone reference point to convert from? For example, if <code>LocalDateTime</code> is 2022-09-28T21:03:56, how can it then convert that to Europe/Madrid when it does not understand what time zone the date/time it holds originated from?</p>\n<p>The solution is obvious now. It doesn't convert and it does not try to figure out what timezone it originated from. It just appends the timezone specified to the date/time it has.</p>\n<p>So if a <code>LocalDateTime</code> object has a value of 2022-09-28T21:03:56, then <code>LocalDateTime.atZone(ZoneId.of(&quot;Europe/Madrid&quot;))</code> instantiates a <code>ZonedDateTime</code> object with a value of 2022-09-28T21:03:56+01:00. Notice there is no change other than adding the +01:00 offset in use by the people of that time zone at that moment.</p>\n<p>If that particular time-of-day does not exist in that time zone at that moment, such as during a Daylight Saving Time (DST) cutover, the time-of-day in the new <code>ZonedDateTime</code> is adjusted logically.</p>\n<p>After I understood those two points it was all really clear how it worked.</p>\n<p>Hope this helps someone else that this was not that obvious for.</p>\n"}],"owner":{"account_id":3939456,"reputation":1801,"user_id":3254515,"accept_rate":52,"display_name":"fernando1979"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":874,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":2,"score":1,"last_activity_date":1699385618,"creation_date":1664387898,"question_id":73885949,"body_markdown":"reading documentation about LocalDate in Java, the documentation says LocalDate.now() &quot;Obtains the current date from the system clock in the default time-zone.&quot;. So if I am in Madrid-Spain and lets imagine right now is 28-09-2022 01:12(GMT+02:00)\r\n\r\n \r\n\r\n 1. The date stored in LocalDate is 28-09-2022, not 27-09-2022 that would be UTC date. Right? \r\n\r\n 2. When you print a LocalDate, it is not considered the timezone of the system to print it because LocalDate does not have any timezone information, just print the value stored, right?. \r\n 3. So, there are differences with Date objects because Date objects store UTC date and times, right?\r\n\r\n 4. The documentation says &quot;This class does not store or represent a date or time-zone&quot;, so in order to do the next, how can it be done the second sentence if localDate has not timezone information? \r\n\r\n            LocalDate localDate = LocalDate.now();\r\n\r\n            ZonedDateTime zonedDateTime = localDate.atStartOfDay(ZoneId.of(&quot;EST5EDT&quot;));\r\n\r\n            System.out.println(zonedDateTime);\r\n\r\n","title":"LocalDate in java stores UTC date or local date?","body":"<p>reading documentation about LocalDate in Java, the documentation says LocalDate.now() &quot;Obtains the current date from the system clock in the default time-zone.&quot;. So if I am in Madrid-Spain and lets imagine right now is 28-09-2022 01:12(GMT+02:00)</p>\n<ol>\n<li><p>The date stored in LocalDate is 28-09-2022, not 27-09-2022 that would be UTC date. Right?</p>\n</li>\n<li><p>When you print a LocalDate, it is not considered the timezone of the system to print it because LocalDate does not have any timezone information, just print the value stored, right?.</p>\n</li>\n<li><p>So, there are differences with Date objects because Date objects store UTC date and times, right?</p>\n</li>\n<li><p>The documentation says &quot;This class does not store or represent a date or time-zone&quot;, so in order to do the next, how can it be done the second sentence if localDate has not timezone information?</p>\n<pre><code>    LocalDate localDate = LocalDate.now();\n\n    ZonedDateTime zonedDateTime = localDate.atStartOfDay(ZoneId.of(&quot;EST5EDT&quot;));\n\n    System.out.println(zonedDateTime);\n</code></pre>\n</li>\n</ol>\n"},{"tags":["java","eclipse","jpa","eclipse-jee","toplink-essentials"],"comments":[{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1699389888,"post_id":77440836,"comment_id":136524980,"body_markdown":"Why are you trying to use TopLink-essentials? That was a first pass JPA 1.0 implementation based on partial TopLink code, when the full TopLink code base was then opened sourced as EclipseLink. Unless you have strong reason to use TopLink-essentials, I&#39;d suggest you just any JPA version and EclipseLink - the latest that works with javax.persistence being 2.7.13. javax.persistence can be obtained from maven repos: https://mvnrepository.com/artifact/javax.persistence/javax.persistence-api/2.2","body":"Why are you trying to use TopLink-essentials? That was a first pass JPA 1.0 implementation based on partial TopLink code, when the full TopLink code base was then opened sourced as EclipseLink. Unless you have strong reason to use TopLink-essentials, I&#39;d suggest you just any JPA version and EclipseLink - the latest that works with javax.persistence being 2.7.13. javax.persistence can be obtained from maven repos: <a href=\"https://mvnrepository.com/artifact/javax.persistence/javax.persistence-api/2.2\" rel=\"nofollow noreferrer\">mvnrepository.com/artifact/javax.persistence/&hellip;</a>"},{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":0,"creation_date":1699393682,"post_id":77440836,"comment_id":136525524,"body_markdown":"Be aware that `javax.persistence` has become `jakarta.persistence` in more recent versions. If you start on that, you won&#39;t have to change it when you upgrade later.","body":"Be aware that <code>javax.persistence</code> has become <code>jakarta.persistence</code> in more recent versions. If you start on that, you won&#39;t have to change it when you upgrade later."}],"owner":{"account_id":29848871,"reputation":1,"user_id":22875250,"display_name":"Ahlem Brinsi"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":18,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1699385510,"creation_date":1699384137,"question_id":77440836,"body_markdown":"I&#39;m working on a java project and we start using javax.persistence and toplink-essentials and toplink-essentials-agents and i&#39;m confused which version of them i&#39;m supposed to use in my project . I&#39;m working with a eclipse and i&#39;m using mysql version 8.0.30 to work on my database. Could you guys give me a hand and tell me which version I&#39;m supposed to use and thank you very much in advance.\r\n\r\nI&#39;m expecting that you guys may help me to solve my problem","title":"how do i chose javax and toplink versions","body":"<p>I'm working on a java project and we start using javax.persistence and toplink-essentials and toplink-essentials-agents and i'm confused which version of them i'm supposed to use in my project . I'm working with a eclipse and i'm using mysql version 8.0.30 to work on my database. Could you guys give me a hand and tell me which version I'm supposed to use and thank you very much in advance.</p>\n<p>I'm expecting that you guys may help me to solve my problem</p>\n"},{"tags":["java","docker","maven","docker-compose"],"comments":[{"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1699385191,"post_id":77440843,"comment_id":136524305,"body_markdown":"Have you tried to mark the dependencies with runtime scope?","body":"Have you tried to mark the dependencies with runtime scope?"},{"owner":{"account_id":11555562,"reputation":316,"user_id":8466853,"display_name":"Arno"},"score":0,"creation_date":1699389568,"post_id":77440843,"comment_id":136524925,"body_markdown":"Alternatively to runtime you can try the optional dependency\nhttps://maven.apache.org/guides/introduction/introduction-to-optional-and-excludes-dependencies.html","body":"Alternatively to runtime you can try the optional dependency <a href=\"https://maven.apache.org/guides/introduction/introduction-to-optional-and-excludes-dependencies.html\" rel=\"nofollow noreferrer\">maven.apache.org/guides/introduction/&hellip;</a>"},{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1699408921,"post_id":77440843,"comment_id":136527009,"body_markdown":"If you like ` I still need to somehow make sure I&#39;m not downloading every dependency each build.`  you need to make your cache non volatile.. either provide it as a volume during the build in your continainer or build your app locally on your CI before you build the container... and only copy the final app into your container or layered container with different deps. Apart from that: `dependency:go-offline dependency:resolve-plugins` if you go-offline no resolution will work which has not been resolved already ... this looks completely wrong..","body":"If you like ` I still need to somehow make sure I&#39;m not downloading every dependency each build.`  you need to make your cache non volatile.. either provide it as a volume during the build in your continainer or build your app locally on your CI before you build the container... and only copy the final app into your container or layered container with different deps. Apart from that: <code>dependency:go-offline dependency:resolve-plugins</code> if you go-offline no resolution will work which has not been resolved already ... this looks completely wrong.."},{"owner":{"account_id":7495825,"reputation":504,"user_id":5696129,"accept_rate":43,"display_name":"Nephilim"},"score":0,"creation_date":1699888633,"post_id":77440843,"comment_id":136584082,"body_markdown":"Provide it during build time? If that was possible that would be very easy, but I specified that I don&#39;t have access to this. I&#39;m using podman, 3.4.4 and that does not have build time volumes. Building it somewhere else defeats the purpose completely.","body":"Provide it during build time? If that was possible that would be very easy, but I specified that I don&#39;t have access to this. I&#39;m using podman, 3.4.4 and that does not have build time volumes. Building it somewhere else defeats the purpose completely."},{"owner":{"account_id":7495825,"reputation":504,"user_id":5696129,"accept_rate":43,"display_name":"Nephilim"},"score":0,"creation_date":1699888768,"post_id":77440843,"comment_id":136584120,"body_markdown":"@aled how would I do that? All resources take me to changing pom.xml, so I&#39;m not quite sure where I&#39;d find the right flag to set.","body":"@aled how would I do that? All resources take me to changing pom.xml, so I&#39;m not quite sure where I&#39;d find the right flag to set."},{"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1699889394,"post_id":77440843,"comment_id":136584251,"body_markdown":"Add to the question examples of the dependencies in the pom.","body":"Add to the question examples of the dependencies in the pom."}],"owner":{"account_id":7495825,"reputation":504,"user_id":5696129,"accept_rate":43,"display_name":"Nephilim"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1699384188,"creation_date":1699384188,"question_id":77440843,"body_markdown":"I&#39;m containerizing some ancient app, with a bunch of dependencies that work fine when building, but make dependency:go-offline and dependency:resolve go crazy. Since I can&#39;t use build kit or volumes during build time, I still need to somehow make sure I&#39;m not downloading every dependency each build. \r\n\r\nThe thing is, the ones that are failing aren&#39;t necessary. They get created during the install. I don&#39;t need them, let them fail. \r\n\r\nI&#39;ve gone so far as to create a fake jar file with &quot;touch&quot; but clearly there has to be a better way. \r\n\r\n 1. Fixing these dependencies so they resolve on their own would take forever and yield very little reward\r\n 2. I can&#39;t really create new profiles because these pom.xml are massive and there&#39;s like 9 of them. It&#39;s not feasible.\r\n\r\n \r\n\r\nI&#39;ve been trying with \r\n\r\n    RUN mvn dependency:go-offline dependency:resolve-plugins -DexcludeGroupIds -DexcludeTransitive=true -DexcludeGroupIds=com.problematic.group -f path-to-pom\r\n\r\nAnd got nowhere. It doesn&#39;t seem that these arguments work how I imagine them to work. I just don&#39;t want this plugin to resolve them. They&#39;re there, just don&#39;t worry about it and stop failing. \r\n\r\nWhat *kinda* works (but it&#39;s an awful solution) is that I just ignore the failure on a docker level. \r\n\r\nI don&#39;t think I really need to share code here, and all these inter-connected pom.xml because you either know exactly what I&#39;m talking about or you don&#39;t. \r\n\r\nOverall I feel like there has to be a better solution in 2023 with these kind of apps getting on docker.  I already have like 59 layers, I&#39;m going insane.\r\n\r\n","title":"Maven download dependencies while ignoring failures","body":"<p>I'm containerizing some ancient app, with a bunch of dependencies that work fine when building, but make dependency:go-offline and dependency:resolve go crazy. Since I can't use build kit or volumes during build time, I still need to somehow make sure I'm not downloading every dependency each build.</p>\n<p>The thing is, the ones that are failing aren't necessary. They get created during the install. I don't need them, let them fail.</p>\n<p>I've gone so far as to create a fake jar file with &quot;touch&quot; but clearly there has to be a better way.</p>\n<ol>\n<li>Fixing these dependencies so they resolve on their own would take forever and yield very little reward</li>\n<li>I can't really create new profiles because these pom.xml are massive and there's like 9 of them. It's not feasible.</li>\n</ol>\n<p>I've been trying with</p>\n<pre><code>RUN mvn dependency:go-offline dependency:resolve-plugins -DexcludeGroupIds -DexcludeTransitive=true -DexcludeGroupIds=com.problematic.group -f path-to-pom\n</code></pre>\n<p>And got nowhere. It doesn't seem that these arguments work how I imagine them to work. I just don't want this plugin to resolve them. They're there, just don't worry about it and stop failing.</p>\n<p>What <em>kinda</em> works (but it's an awful solution) is that I just ignore the failure on a docker level.</p>\n<p>I don't think I really need to share code here, and all these inter-connected pom.xml because you either know exactly what I'm talking about or you don't.</p>\n<p>Overall I feel like there has to be a better solution in 2023 with these kind of apps getting on docker.  I already have like 59 layers, I'm going insane.</p>\n"},{"tags":["java","javafx","mvvm","javafx-bindings"],"comments":[{"owner":{"account_id":16559,"reputation":1856,"user_id":36223,"display_name":"DaveB"},"score":4,"creation_date":1699385169,"post_id":77440817,"comment_id":136524301,"body_markdown":"You&#39;re conflating the View and the ViewModel.  The ViewModel has no knowledge of the inner workings of the View and it shouldn&#39;t even know about Tabs at all.  If you have a need to control Tab selection from outside the View, do it in a &quot;data centric&quot; way.  For instance, if you have a &quot;Customers&quot; Tab and an &quot;Orders&quot; Tab and you want the switch to the &quot;Orders&quot; tab when data is loaded for it after a Button in the &quot;Customers&quot; Tab is clicked - then have a data element called &quot;OrderDataPresent&quot;, and use a ChangeListener in the View to make the &quot;Orders&quot; Tab selected when it changes to &quot;true&quot;.","body":"You&#39;re conflating the View and the ViewModel.  The ViewModel has no knowledge of the inner workings of the View and it shouldn&#39;t even know about Tabs at all.  If you have a need to control Tab selection from outside the View, do it in a &quot;data centric&quot; way.  For instance, if you have a &quot;Customers&quot; Tab and an &quot;Orders&quot; Tab and you want the switch to the &quot;Orders&quot; tab when data is loaded for it after a Button in the &quot;Customers&quot; Tab is clicked - then have a data element called &quot;OrderDataPresent&quot;, and use a ChangeListener in the View to make the &quot;Orders&quot; Tab selected when it changes to &quot;true&quot;."},{"owner":{"account_id":6539656,"reputation":11090,"user_id":5057736,"accept_rate":84,"display_name":"Pavel_K"},"score":0,"creation_date":1699394703,"post_id":77440817,"comment_id":136525676,"body_markdown":"@DaveB I am afraid I don&#39;t agree with you. See this link https://github.com/sialcasa/mvvmFX/wiki/MVVM-in-more-detail : The View defines how the UI looks like, what controls are used and what layout the UI has. The View doesn&#39;t contain any logic. For example, the View only knows that there is a button but not under which conditions this button is enabled or disabled or what happens when the button is pressed. I absolutely agree with it. All logic must be in `ViewModel` which doesn&#39;t know about `View`. For example it allows us to test `ViewModel` very easily.","body":"@DaveB I am afraid I don&#39;t agree with you. See this link <a href=\"https://github.com/sialcasa/mvvmFX/wiki/MVVM-in-more-detail\" rel=\"nofollow noreferrer\">github.com/sialcasa/mvvmFX/wiki/MVVM-in-more-detail</a> : The View defines how the UI looks like, what controls are used and what layout the UI has. The View doesn&#39;t contain any logic. For example, the View only knows that there is a button but not under which conditions this button is enabled or disabled or what happens when the button is pressed. I absolutely agree with it. All logic must be in <code>ViewModel</code> which doesn&#39;t know about <code>View</code>. For example it allows us to test <code>ViewModel</code> very easily."},{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":1,"creation_date":1699401095,"post_id":77440817,"comment_id":136526424,"body_markdown":"The selection model for tabs is pretty simple, it can only be a single selection model, so rather than exposing the whole model, you could just expose the `selectedItem`, but it is a read-only property, so you can&#39;t bidirectionally bind it.  So, create a new read-write property, and when it changes have a listener update the actual selection to keep the properties in sync.  That is just my off-hand thought without giving your question a lot of consideration.","body":"The selection model for tabs is pretty simple, it can only be a single selection model, so rather than exposing the whole model, you could just expose the <code>selectedItem</code>, but it is a read-only property, so you can&#39;t bidirectionally bind it.  So, create a new read-write property, and when it changes have a listener update the actual selection to keep the properties in sync.  That is just my off-hand thought without giving your question a lot of consideration."},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":2,"creation_date":1699404131,"post_id":77440817,"comment_id":136526667,"body_markdown":"@Pavel_K The very same link you referenced says: “However, the ViewModel does not know about any specific controls.”. A `Tab` is a control. The ViewModel should have no knowledge of the tabs, and should not gave to change if you wanted to change the view so it didn’t use tabs or a tab pane at all.","body":"@Pavel_K The very same link you referenced says: “However, the ViewModel does not know about any specific controls.”. A <code>Tab</code> is a control. The ViewModel should have no knowledge of the tabs, and should not gave to change if you wanted to change the view so it didn’t use tabs or a tab pane at all."},{"owner":{"account_id":16559,"reputation":1856,"user_id":36223,"display_name":"DaveB"},"score":3,"creation_date":1699461474,"post_id":77440817,"comment_id":136535337,"body_markdown":"@Pavel_K, your sample code has ObservableList&lt;Tab&gt; in the ViewModel.  As we&#39;ve both said, the ViewModel should have no knowledge of the details of the View.  Tab is a View Node and should NEVER be referenced outside of the View.  By putting Tab into your ViewModel, your pulling elements of the View into the ViewModel.  Your Presentation Model, which is the data part of the ViewModel which is shared with the View, should contain elements which are updated by the business logic and used by the View to determine which Tab is selected.  But you don&#39;t select Tabs in the ViewModel.","body":"@Pavel_K, your sample code has ObservableList&lt;Tab&gt; in the ViewModel.  As we&#39;ve both said, the ViewModel should have no knowledge of the details of the View.  Tab is a View Node and should NEVER be referenced outside of the View.  By putting Tab into your ViewModel, your pulling elements of the View into the ViewModel.  Your Presentation Model, which is the data part of the ViewModel which is shared with the View, should contain elements which are updated by the business logic and used by the View to determine which Tab is selected.  But you don&#39;t select Tabs in the ViewModel."}],"owner":{"account_id":6539656,"reputation":11090,"user_id":5057736,"accept_rate":84,"display_name":"Pavel_K"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":86,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1699383835,"creation_date":1699383835,"question_id":77440817,"body_markdown":"I want to try to use `TabPane` in `MVVM` design. For this I need to separate `TabPane` tabs and selection model and make an unidirectional binding for tabs an bidirectional binding for selection model. So, I have\r\n\r\n\r\n    public class View {\r\n    \r\n        private final TabPane tabPane = new TabPane();\r\n    \r\n        private void initialize() {\r\n            Bindings.bindContent(this.tabPane.getTabs(), this.getViewModel().getTabPaneTabs());\r\n            this.tabPane.selectionModelProperty()\r\n                .bindBidirectional(this.getViewModel().getTabPaneSelectionModel()); ?????\r\n        }\r\n\r\n        public ViewModel getViewModel() {\r\n            return this.viewModel;\r\n        }\r\n        ...\r\n    }\r\n    \r\n    public class ViewModel {\r\n    \r\n        private final ObservableList&lt;Tab&gt; tabPaneTabs = FXCollections.observableArrayList();\r\n    \r\n        private final SingleSelectionModel&lt;Tab&gt; tabPaneSelectionModel = new SingleSelectionModel&lt;Tab&gt;() {\r\n    \r\n            @Override\r\n            protected Tab getModelItem(int index) {\r\n                return tabPaneTabs.get(index);\r\n            }\r\n    \r\n            @Override\r\n            protected int getItemCount() {\r\n                return tabPaneTabs.size();\r\n            }\r\n        };\r\n    \r\n        public ObservableList&lt;Tab&gt; getTabPaneTabs() {\r\n            return tabPaneTabs;\r\n        }\r\n    \r\n        public SingleSelectionModel&lt;Tab&gt; getTabPaneSelectionModel() {\r\n            return tabPaneSelectionModel;\r\n        }\r\n    \r\n        ....\r\n    }\r\n\r\nI think my solution for tabs is correct (or I am wrong) but I can&#39;t find how to do binding with selection model. Could anyone help me?","title":"How to use TabPane tabs and selection model in MVVM pattern in JavaFX?","body":"<p>I want to try to use <code>TabPane</code> in <code>MVVM</code> design. For this I need to separate <code>TabPane</code> tabs and selection model and make an unidirectional binding for tabs an bidirectional binding for selection model. So, I have</p>\n<pre><code>public class View {\n\n    private final TabPane tabPane = new TabPane();\n\n    private void initialize() {\n        Bindings.bindContent(this.tabPane.getTabs(), this.getViewModel().getTabPaneTabs());\n        this.tabPane.selectionModelProperty()\n            .bindBidirectional(this.getViewModel().getTabPaneSelectionModel()); ?????\n    }\n\n    public ViewModel getViewModel() {\n        return this.viewModel;\n    }\n    ...\n}\n\npublic class ViewModel {\n\n    private final ObservableList&lt;Tab&gt; tabPaneTabs = FXCollections.observableArrayList();\n\n    private final SingleSelectionModel&lt;Tab&gt; tabPaneSelectionModel = new SingleSelectionModel&lt;Tab&gt;() {\n\n        @Override\n        protected Tab getModelItem(int index) {\n            return tabPaneTabs.get(index);\n        }\n\n        @Override\n        protected int getItemCount() {\n            return tabPaneTabs.size();\n        }\n    };\n\n    public ObservableList&lt;Tab&gt; getTabPaneTabs() {\n        return tabPaneTabs;\n    }\n\n    public SingleSelectionModel&lt;Tab&gt; getTabPaneSelectionModel() {\n        return tabPaneSelectionModel;\n    }\n\n    ....\n}\n</code></pre>\n<p>I think my solution for tabs is correct (or I am wrong) but I can't find how to do binding with selection model. Could anyone help me?</p>\n"},{"tags":["java","stream"],"comments":[{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":0,"creation_date":1699378413,"post_id":77440283,"comment_id":136523154,"body_markdown":"Are we missing some context? Because if you want to retrieve data from a database you need to write a query in whatever syntax the db supports, period.","body":"Are we missing some context? Because if you want to retrieve data from a database you need to write a query in whatever syntax the db supports, period."},{"owner":{"account_id":9760,"reputation":85860,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":0,"creation_date":1699383808,"post_id":77440283,"comment_id":136524085,"body_markdown":"The question as posed to you (_&quot;retrieve data from a database without using SQL queries&quot;_) is lacking sufficient context to be answered.  They obviously are looking for a very specific answer that will depend on the details of their environment.  If this caused you to fail an interview, I&#39;d say your were lucky to find out now.","body":"The question as posed to you (<i>&quot;retrieve data from a database without using SQL queries&quot;</i>) is lacking sufficient context to be answered.  They obviously are looking for a very specific answer that will depend on the details of their environment.  If this caused you to fail an interview, I&#39;d say your were lucky to find out now."}],"answers":[{"tags":[],"owner":{"account_id":21741636,"reputation":1162,"user_id":16048914,"display_name":"David Weber"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699379586,"creation_date":1699379586,"answer_id":77440413,"question_id":77440283,"body_markdown":"If you use a database, e.g. in SQL, you MUST create a SQL query for querying. There is no other way.\r\n\r\nIf you use a database, e.g. in Mongo, you MUST create a Mongo query for querying. There is no other way. \r\n\r\nORMs use SQL/Mongo/DB specific queries under their hood.\r\n\r\nSo you see...\r\n\r\nThe only way for getting data with Streams is to not use a real database as database, but a file or several files instead. \r\n\r\nI don&#39;t want to judge, but using a manually created Files instead of a real database is not a good idea.\r\n\r\n**But:** \r\n\r\nMaybe they meant something like SQL streaming: \r\nhttps://materialize.com/guides/streaming-sql/","title":"Fetching Data from DB using streams","body":"<p>If you use a database, e.g. in SQL, you MUST create a SQL query for querying. There is no other way.</p>\n<p>If you use a database, e.g. in Mongo, you MUST create a Mongo query for querying. There is no other way.</p>\n<p>ORMs use SQL/Mongo/DB specific queries under their hood.</p>\n<p>So you see...</p>\n<p>The only way for getting data with Streams is to not use a real database as database, but a file or several files instead.</p>\n<p>I don't want to judge, but using a manually created Files instead of a real database is not a good idea.</p>\n<p><strong>But:</strong></p>\n<p>Maybe they meant something like SQL streaming:\n<a href=\"https://materialize.com/guides/streaming-sql/\" rel=\"nofollow noreferrer\">https://materialize.com/guides/streaming-sql/</a></p>\n"},{"tags":[],"owner":{"account_id":18284142,"reputation":471,"user_id":13312433,"display_name":"morsapaes"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1699382324,"creation_date":1699382324,"answer_id":77440674,"question_id":77440283,"body_markdown":"It&#39;s possible that the answer they were looking for is [log-based Change Data Capture (CDC)][1], either via established tools like Debezium or custom-built CDC connectors. The gist of this approach is to read directly from the write-ahead log as CRUD operations happen in the database, rather than poll the database on some cadence using SQL (aka query-based CDC).\r\n\r\n\r\n  [1]: https://debezium.io/blog/2018/07/19/advantages-of-log-based-change-data-capture/","title":"Fetching Data from DB using streams","body":"<p>It's possible that the answer they were looking for is <a href=\"https://debezium.io/blog/2018/07/19/advantages-of-log-based-change-data-capture/\" rel=\"nofollow noreferrer\">log-based Change Data Capture (CDC)</a>, either via established tools like Debezium or custom-built CDC connectors. The gist of this approach is to read directly from the write-ahead log as CRUD operations happen in the database, rather than poll the database on some cadence using SQL (aka query-based CDC).</p>\n"}],"owner":{"account_id":23263547,"reputation":11,"user_id":17349479,"display_name":"Aravindh_P"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":60,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":77440674,"answer_count":2,"score":-2,"last_activity_date":1699382324,"creation_date":1699378118,"question_id":77440283,"body_markdown":"Recently, I was asked how to retrieve data from a database without using SQL queries. They suggested using streams to accomplish this, and I&#39;d like someone to explain how this can be done.\r\n\r\nI initially mentioned ORM frameworks, but the interviewer said that wasn&#39;t the right answer as the frameworks use sql queries against the database to retrieve data. ","title":"Fetching Data from DB using streams","body":"<p>Recently, I was asked how to retrieve data from a database without using SQL queries. They suggested using streams to accomplish this, and I'd like someone to explain how this can be done.</p>\n<p>I initially mentioned ORM frameworks, but the interviewer said that wasn't the right answer as the frameworks use sql queries against the database to retrieve data.</p>\n"},{"tags":["java","maven","selenium-webdriver"],"comments":[{"owner":{"account_id":16733196,"reputation":496,"user_id":12095040,"display_name":"Adnan"},"score":0,"creation_date":1624374064,"post_id":68085723,"comment_id":120338609,"body_markdown":"try in a new command prompt window after saving path","body":"try in a new command prompt window after saving path"},{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":4,"creation_date":1624374430,"post_id":68085723,"comment_id":120338767,"body_markdown":"First remove `MAVEN_HOME` because it&#39;s not needed. Just use the path `C:\\Users\\Dell\\Desktop\\Selenium Course\\apache-maven-3.8.1\\bin` in your `PATH` variable. Or if you like to keep `MAVEN_HOME` then remove `\\bin` from `PATH` variable otherwise you have `..\\apache-maven-3.8.1\\bin\\bin` which is the reason for not working.","body":"First remove <code>MAVEN_HOME</code> because it&#39;s not needed. Just use the path <code>C:\\Users\\Dell\\Desktop\\Selenium Course\\apache-maven-3.8.1\\bin</code> in your <code>PATH</code> variable. Or if you like to keep <code>MAVEN_HOME</code> then remove <code>\\bin</code> from <code>PATH</code> variable otherwise you have <code>..\\apache-maven-3.8.1\\bin\\bin</code> which is the reason for not working."},{"owner":{"account_id":19127838,"reputation":1742,"user_id":13970434,"display_name":"Andr&#233;"},"score":0,"creation_date":1692397635,"post_id":68085723,"comment_id":135622553,"body_markdown":"Did the answer solve your problem?","body":"Did the answer solve your problem?"}],"answers":[{"tags":[],"owner":{"account_id":19127838,"reputation":1742,"user_id":13970434,"display_name":"Andr&#233;"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1646641866,"creation_date":1646641866,"answer_id":71378264,"question_id":68085723,"body_markdown":"Inside System variables add:\r\n\r\n - Variable name: MAVEN_HOME  \r\n - Variable value: &lt;path to maven&gt;\\apache-maven-3.8.4\r\n\r\nThen on your path add:\r\n\r\n - %MAVEN_HOME%\\bin\r\n\r\nDon&#39;t forget to restart your terminal. Then check if it&#39;s working with the command `mvn -version`.\r\n","title":"How to add Maven to the Path variable windows 10?","body":"<p>Inside System variables add:</p>\n<ul>\n<li>Variable name: MAVEN_HOME</li>\n<li>Variable value: \\apache-maven-3.8.4</li>\n</ul>\n<p>Then on your path add:</p>\n<ul>\n<li>%MAVEN_HOME%\\bin</li>\n</ul>\n<p>Don't forget to restart your terminal. Then check if it's working with the command <code>mvn -version</code>.</p>\n"}],"owner":{"account_id":22020968,"reputation":21,"user_id":16289801,"display_name":"Abdelrahman Rawag"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4315,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1699382008,"creation_date":1624373111,"question_id":68085723,"body_markdown":"Then I tried to add it to the path of Windows 10 as below:\r\n\r\nRight click on my computer\r\n\r\nProperties\r\n\r\nAdvanced System Setting\r\n\r\nEnvironment Variable\r\n\r\nNew user variable and added Maven_Home with value:\r\n\r\n`C:\\Users\\Dell\\Desktop\\Selenium Course\\apache-maven-3.8.1\\bin`\r\n\r\nAdd it to path variable with: \r\n\r\n`C:\\Program Files (x86)\\Common Files\\Oracle\\Java\\javapath;%MAVEN_HOME%\\bin;`\r\n\r\nOpen cmd and ask for mvn -version in desktop\r\n\r\nCMD : `&#39;mvn&#39; is not recognized as an internal or external command, operable program or batch file.`\r\n\r\nAny help please","title":"How to add Maven to the Path variable windows 10?","body":"<p>Then I tried to add it to the path of Windows 10 as below:</p>\n<p>Right click on my computer</p>\n<p>Properties</p>\n<p>Advanced System Setting</p>\n<p>Environment Variable</p>\n<p>New user variable and added Maven_Home with value:</p>\n<p><code>C:\\Users\\Dell\\Desktop\\Selenium Course\\apache-maven-3.8.1\\bin</code></p>\n<p>Add it to path variable with:</p>\n<p><code>C:\\Program Files (x86)\\Common Files\\Oracle\\Java\\javapath;%MAVEN_HOME%\\bin;</code></p>\n<p>Open cmd and ask for mvn -version in desktop</p>\n<p>CMD : <code>'mvn' is not recognized as an internal or external command, operable program or batch file.</code></p>\n<p>Any help please</p>\n"},{"tags":["java","python","python-3.x"],"comments":[{"owner":{"account_id":2843470,"reputation":4620,"user_id":2442526,"display_name":"xtratic"},"score":3,"creation_date":1555430024,"post_id":55712130,"comment_id":98104957,"body_markdown":"&quot;run python without an interpreter&quot;.. huh? That&#39;s like asking to run Java without a JVM.","body":"&quot;run python without an interpreter&quot;.. huh? That&#39;s like asking to run Java without a JVM."},{"owner":{"account_id":6475833,"reputation":90585,"user_id":5014455,"display_name":"juanpa.arrivillaga"},"score":2,"creation_date":1555430210,"post_id":55712130,"comment_id":98105080,"body_markdown":"For Java to be able to run python without an interpreter would sort of require it to implement an interpreter.","body":"For Java to be able to run python without an interpreter would sort of require it to implement an interpreter."},{"owner":{"account_id":43861,"reputation":59786,"user_id":128397,"accept_rate":82,"display_name":"Daniel Pryden"},"score":1,"creation_date":1555430412,"post_id":55712130,"comment_id":98105198,"body_markdown":"@JustAFellowCoder: You will probably need to have two operating system processes, one for your Python code and one for your Java code, which can communicate in some way (e.g. TCP sockets on the loopback interface). This is a general solution that works for any software written in any language. Of course, in this scenario, the Python code would need a Python interpreter (or equivalent) to execute, and the Java code would need a JVM to execute; those environments would simply exist in separate (parallel) operating system processes.","body":"@JustAFellowCoder: You will probably need to have two operating system processes, one for your Python code and one for your Java code, which can communicate in some way (e.g. TCP sockets on the loopback interface). This is a general solution that works for any software written in any language. Of course, in this scenario, the Python code would need a Python interpreter (or equivalent) to execute, and the Java code would need a JVM to execute; those environments would simply exist in separate (parallel) operating system processes."},{"owner":{"account_id":15545016,"reputation":300,"user_id":11214549,"display_name":"JustAFellowCoder"},"score":0,"creation_date":1555430488,"post_id":55712130,"comment_id":98105232,"body_markdown":"@juanpa.arrivillaga Is there such an implementation of an interpreter, in the form of a jar file.","body":"@juanpa.arrivillaga Is there such an implementation of an interpreter, in the form of a jar file."},{"owner":{"account_id":43861,"reputation":59786,"user_id":128397,"accept_rate":82,"display_name":"Daniel Pryden"},"score":1,"creation_date":1555430501,"post_id":55712130,"comment_id":98105247,"body_markdown":"@JustAFellowCoder: Yes, it&#39;s called Jython.","body":"@JustAFellowCoder: Yes, it&#39;s called Jython."},{"owner":{"account_id":15545016,"reputation":300,"user_id":11214549,"display_name":"JustAFellowCoder"},"score":0,"creation_date":1555430534,"post_id":55712130,"comment_id":98105266,"body_markdown":"@DanielPryden as I have specifically stated in the question, Jython is not an option for it does not handle 3.x python code.","body":"@DanielPryden as I have specifically stated in the question, Jython is not an option for it does not handle 3.x python code."},{"owner":{"account_id":43861,"reputation":59786,"user_id":128397,"accept_rate":82,"display_name":"Daniel Pryden"},"score":3,"creation_date":1555430590,"post_id":55712130,"comment_id":98105288,"body_markdown":"@JustAFellowCoder: To the best of my knowledge, there does not exist a non-Jython implementation of a Python interpreter written in pure Java. If one existed, it would be a competitor to Jython; if it were open-source, it would probably be absorbed by the Jython project (or vice versa). You are welcome to write such an interpreter yourself if that&#39;s what you need!","body":"@JustAFellowCoder: To the best of my knowledge, there does not exist a non-Jython implementation of a Python interpreter written in pure Java. If one existed, it would be a competitor to Jython; if it were open-source, it would probably be absorbed by the Jython project (or vice versa). You are welcome to write such an interpreter yourself if that&#39;s what you need!"},{"owner":{"account_id":43861,"reputation":59786,"user_id":128397,"accept_rate":82,"display_name":"Daniel Pryden"},"score":0,"creation_date":1555430679,"post_id":55712130,"comment_id":98105343,"body_markdown":"@JustAFellowCoder: Also, at this point, it looks like your question is no longer asking a *question* about *programming*: instead, you&#39;re asking for a *recommendation* of a *programming tool*, which is explicitly off-topic for Stack Overflow.","body":"@JustAFellowCoder: Also, at this point, it looks like your question is no longer asking a <i>question</i> about <i>programming</i>: instead, you&#39;re asking for a <i>recommendation</i> of a <i>programming tool</i>, which is explicitly off-topic for Stack Overflow."},{"owner":{"account_id":43861,"reputation":59786,"user_id":128397,"accept_rate":82,"display_name":"Daniel Pryden"},"score":0,"creation_date":1555431049,"post_id":55712130,"comment_id":98105539,"body_markdown":"possible duplicate of https://stackoverflow.com/questions/2351008/when-will-jython-support-python-3","body":"possible duplicate of <a href=\"https://stackoverflow.com/questions/2351008/when-will-jython-support-python-3\" title=\"when will jython support python 3\">stackoverflow.com/questions/2351008/&hellip;</a>"},{"owner":{"account_id":15545016,"reputation":300,"user_id":11214549,"display_name":"JustAFellowCoder"},"score":0,"creation_date":1555431287,"post_id":55712130,"comment_id":98105687,"body_markdown":"@danielpryden One would argue the &quot;duplicate emphasizes jython.","body":"@danielpryden One would argue the &quot;duplicate emphasizes jython."}],"answers":[{"comments":[{"owner":{"account_id":43861,"reputation":59786,"user_id":128397,"accept_rate":82,"display_name":"Daniel Pryden"},"score":1,"creation_date":1555430288,"post_id":55712241,"comment_id":98105125,"body_markdown":"Or a Python compiler/transpiler that targets another language (e.g. Cython), although that has its own limitations.","body":"Or a Python compiler/transpiler that targets another language (e.g. Cython), although that has its own limitations."}],"tags":[],"owner":{"account_id":1075423,"reputation":2729,"user_id":1073696,"display_name":"brunns"},"comment_count":1,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1555430172,"creation_date":1555430172,"answer_id":55712241,"question_id":55712130,"body_markdown":"No, running Python code requires some Python interpreter or other.","title":"Java Python without interpreter","body":"<p>No, running Python code requires some Python interpreter or other.</p>\n"},{"comments":[{"owner":{"account_id":43861,"reputation":59786,"user_id":128397,"accept_rate":82,"display_name":"Daniel Pryden"},"score":0,"creation_date":1555430828,"post_id":55712394,"comment_id":98105419,"body_markdown":"That doesn&#39;t run &quot;without an interpreter&quot;, it simply embeds the interpreter into an executable file along with the compiled Python bytecode. You still need an out-of-process Python interpreter.","body":"That doesn&#39;t run &quot;without an interpreter&quot;, it simply embeds the interpreter into an executable file along with the compiled Python bytecode. You still need an out-of-process Python interpreter."},{"owner":{"account_id":15545016,"reputation":300,"user_id":11214549,"display_name":"JustAFellowCoder"},"score":0,"creation_date":1555431131,"post_id":55712394,"comment_id":98105587,"body_markdown":"If Python scripts interact with other Python scripts in that framework, will this method mess with it.","body":"If Python scripts interact with other Python scripts in that framework, will this method mess with it."},{"owner":{"account_id":10268674,"reputation":11,"user_id":7577775,"display_name":"Chris P"},"score":0,"creation_date":1555431756,"post_id":55712394,"comment_id":98105920,"body_markdown":"@JustAFellowCoder Check out py2exe","body":"@JustAFellowCoder Check out py2exe"},{"owner":{"account_id":10268674,"reputation":11,"user_id":7577775,"display_name":"Chris P"},"score":0,"creation_date":1555432248,"post_id":55712394,"comment_id":98106192,"body_markdown":"@JustAFellowCoder If the actual python interpreter is installed on the machines you want to run from, then you don&#39;t need to convert to an exe. You can just run the python process from java as you would on a command line","body":"@JustAFellowCoder If the actual python interpreter is installed on the machines you want to run from, then you don&#39;t need to convert to an exe. You can just run the python process from java as you would on a command line"}],"tags":[],"owner":{"account_id":10268674,"reputation":11,"user_id":7577775,"display_name":"Chris P"},"comment_count":4,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1555430849,"creation_date":1555430766,"answer_id":55712394,"question_id":55712130,"body_markdown":"Since you won&#39;t change it, you could convert the Python to an executable and use Java to spawn it as a new process. \r\n\r\n    ProcessBuilder pb = new ProcessBuilder(&quot;C:\\\\...\\\\file.exe&quot;, command arguments, ..., ...);\r\n    pb.start();\r\n\r\nYou could use File I/O to communicate between Python and Java as the easiest solution. ","title":"Java Python without interpreter","body":"<p>Since you won't change it, you could convert the Python to an executable and use Java to spawn it as a new process. </p>\n\n<pre><code>ProcessBuilder pb = new ProcessBuilder(\"C:\\\\...\\\\file.exe\", command arguments, ..., ...);\npb.start();\n</code></pre>\n\n<p>You could use File I/O to communicate between Python and Java as the easiest solution. </p>\n"},{"comments":[{"owner":{"account_id":125486,"reputation":2893,"user_id":321302,"accept_rate":100,"display_name":"Steves"},"score":1,"creation_date":1699374443,"post_id":55713687,"comment_id":136522391,"body_markdown":"Update: GraalPy is now aims to be Python 3.10 compatible and has made significant progress towards this goal. At this point packages such as numpy or pandas can be installed and run on GraalPy. Compatibility with plain Python code should be very good - I believe much better than Jython used to be.","body":"Update: GraalPy is now aims to be Python 3.10 compatible and has made significant progress towards this goal. At this point packages such as numpy or pandas can be installed and run on GraalPy. Compatibility with plain Python code should be very good - I believe much better than Jython used to be."},{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":1,"creation_date":1699381943,"post_id":55713687,"comment_id":136523729,"body_markdown":"Thank you, @Steves. I updated my answer.","body":"Thank you, @Steves. I updated my answer."}],"tags":[],"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"comment_count":2,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1699381916,"creation_date":1555435944,"answer_id":55713687,"question_id":55712130,"body_markdown":"[GraalVM](https://www.graalvm.org/) compiles Python code to Java bytecode and runs it on the JVM using [graalpython](https://github.com/graalvm/graalpython), with this caveat:\r\n\r\n&gt; This Python implementation currently aims to be compatible with Python 3.10, but it is a long way from there, and it is very likely that any Python program that requires any imports at all will hit something unsupported. At this point, the Python implementation is made available for experimentation and curious end-users. We welcome issue reports of all kinds and are working hard to close our compatibility gaps.","title":"Java Python without interpreter","body":"<p><a href=\"https://www.graalvm.org/\" rel=\"nofollow noreferrer\">GraalVM</a> compiles Python code to Java bytecode and runs it on the JVM using <a href=\"https://github.com/graalvm/graalpython\" rel=\"nofollow noreferrer\">graalpython</a>, with this caveat:</p>\n<blockquote>\n<p>This Python implementation currently aims to be compatible with Python 3.10, but it is a long way from there, and it is very likely that any Python program that requires any imports at all will hit something unsupported. At this point, the Python implementation is made available for experimentation and curious end-users. We welcome issue reports of all kinds and are working hard to close our compatibility gaps.</p>\n</blockquote>\n"}],"owner":{"account_id":15545016,"reputation":300,"user_id":11214549,"display_name":"JustAFellowCoder"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":280,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":55713687,"answer_count":3,"score":-2,"last_activity_date":1699381916,"creation_date":1555429806,"question_id":55712130,"body_markdown":"So I was looking at various packages for for Java that allow you to run python code via Java. Jython does not handle the equivalent of python 3.6 code. So basically, I have code written in python 3.6 and requires so. I need to be able to utilize that python code via Java without having a python interpreter. Is there such a package? (Note I will not be changing the python code because that is a framework and that traditionally be used in python.\r\nI have a python framework that would be traditionally utilized via python code of course, for python 3.6. Instead, I would like to be utilize it via Java 8 code. Now I looked into Jython but it does not handle 3.6 or 3.x for that matter. I will not be changing the python code from the framework. Additionally, the Java Package should be able to run the python code without an interpreter. Is there such a thing? Py4j requires a python interpreter.","title":"Java Python without interpreter","body":"<p>So I was looking at various packages for for Java that allow you to run python code via Java. Jython does not handle the equivalent of python 3.6 code. So basically, I have code written in python 3.6 and requires so. I need to be able to utilize that python code via Java without having a python interpreter. Is there such a package? (Note I will not be changing the python code because that is a framework and that traditionally be used in python.\nI have a python framework that would be traditionally utilized via python code of course, for python 3.6. Instead, I would like to be utilize it via Java 8 code. Now I looked into Jython but it does not handle 3.6 or 3.x for that matter. I will not be changing the python code from the framework. Additionally, the Java Package should be able to run the python code without an interpreter. Is there such a thing? Py4j requires a python interpreter.</p>\n"},{"tags":["java","eclipse"],"comments":[{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":2,"creation_date":1699382088,"post_id":77440637,"comment_id":136523755,"body_markdown":"This has nothing to do with Eclipse. Eclipse is just an IDE. This is about Java - and your incorrect expectation about how integer division works. When `characters` has a value of 38, and `words` has a value of 10, then the value of `characters / words` is 3, not 3.8.","body":"This has nothing to do with Eclipse. Eclipse is just an IDE. This is about Java - and your incorrect expectation about how integer division works. When <code>characters</code> has a value of 38, and <code>words</code> has a value of 10, then the value of <code>characters &#47; words</code> is 3, not 3.8."},{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":0,"creation_date":1699382116,"post_id":77440637,"comment_id":136523758,"body_markdown":"If you want `characters / words` (and indeed `words / sentences`) to be performed in floating point arithmetic, you should cast one of the operands to `double`.","body":"If you want <code>characters &#47; words</code> (and indeed <code>words &#47; sentences</code>) to be performed in floating point arithmetic, you should cast one of the operands to <code>double</code>."},{"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"score":0,"creation_date":1699387156,"post_id":77440637,"comment_id":136524577,"body_markdown":"Also, for equal precedence operators, the operations and casting go left to right.  So `38/10/(double)2` will produce 1.5, not 1.9 since the 38/10 is first computed as an `int`  and only then division by a double yields 1.5.","body":"Also, for equal precedence operators, the operations and casting go left to right.  So <code>38&#47;10&#47;(double)2</code> will produce 1.5, not 1.9 since the 38/10 is first computed as an <code>int</code>  and only then division by a double yields 1.5."},{"owner":{"account_id":6017640,"reputation":8919,"user_id":4725875,"display_name":"DevilsHnd - 退した"},"score":0,"creation_date":1699391734,"post_id":77440637,"comment_id":136525228,"body_markdown":"Cast everything to double type: `index = (471d * (double)characters/(double)words) + (0.5d * ((double)words/(double)sentences)) - 21.43d;`. Doing this, `index` will hold `1773.37`.","body":"Cast everything to double type: <code>index = (471d * (double)characters&#47;(double)words) + (0.5d * ((double)words&#47;(double)sentences)) - 21.43d;</code>. Doing this, <code>index</code> will hold <code>1773.37</code>."},{"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"score":0,"creation_date":1699394622,"post_id":77440637,"comment_id":136525662,"body_markdown":"@DevilsHnd-退した  It may be a safe way of doing it but It is not necessary to cast everything to a double.","body":"@DevilsHnd-退した  It may be a safe way of doing it but It is not necessary to cast everything to a double."},{"owner":{"account_id":6017640,"reputation":8919,"user_id":4725875,"display_name":"DevilsHnd - 退した"},"score":0,"creation_date":1699404887,"post_id":77440637,"comment_id":136526711,"body_markdown":"I realize that. It&#39;s just a crazy little personal rule I have for doing calculations involving doubles and resulting in double.","body":"I realize that. It&#39;s just a crazy little personal rule I have for doing calculations involving doubles and resulting in double."}],"owner":{"account_id":19509475,"reputation":1,"user_id":14273716,"display_name":"Nightshade586"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1699382142,"answer_count":0,"score":0,"last_activity_date":1699381829,"creation_date":1699381829,"question_id":77440637,"body_markdown":"So I&#39;m pretty new to working with Eclipse but my uni classes demand I use it and it doesn&#39;t seem to follow BODMAS for some reason.\r\n\r\n```\r\n\t\r\n\tpublic static double readabilityIndex(int words, int sentences, int characters) {\r\n\t\tdouble index;\r\n\t\tindex = 471*(characters/words) + 0.5 * (words/sentences) - 21.43;\r\n\t\treturn index;\r\n\t}\r\n\t\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\t\r\n\t\tScanner text_input = new Scanner(System.in);\r\n\t\tSystem.out.println(&quot;Enter the text you&#39;d like analysed: &quot;);\r\n\t\t\r\n\t\tString text = text_input.nextLine();\r\n\t\ttext_input.close();\r\n\t\tList&lt;Character&gt; characters = convertsStringtoCharList(text);\r\n\t\t//System.out.println(characters);\r\n\t\tint number_of_words = countWords(text);\r\n\t\tSystem.out.println(number_of_words);\r\n\t\tint number_of_sentences = countSentences(text);\r\n\t\tSystem.out.println(number_of_sentences);\r\n\t\tint number_of_characters = countCharacters(characters);\r\n\t\tSystem.out.println(number_of_characters);\r\n\t\tdouble readabilityScore = readabilityIndex(number_of_words, number_of_sentences, number_of_characters);\r\n\t\tSystem.out.println(&quot;The readability score of the text submitted is: &quot; + readabilityScore);\r\n\t}\r\n\r\n}\r\n\r\n```\r\n`\r\n\r\nThe values being passed in are integers but that doesn&#39;t seem to be causing the problem, characters = 38; words = 10; sentences = 1.\r\nBy my working I should be getting 1773.37 but eclipse keeps returning 1396.57 and I can&#39;t pinpoint why.\r\n\r\nI&#39;ve tried hardcoding values in and keep getting the same issue, I&#39;ve also tried adding more brackets to the equation to make it more set in stone how it should be done but neither have worked.\r\n","title":"Eclipse giving incorrect answer to equation","body":"<p>So I'm pretty new to working with Eclipse but my uni classes demand I use it and it doesn't seem to follow BODMAS for some reason.</p>\n<pre><code>    \n    public static double readabilityIndex(int words, int sentences, int characters) {\n        double index;\n        index = 471*(characters/words) + 0.5 * (words/sentences) - 21.43;\n        return index;\n    }\n    \n\n    public static void main(String[] args) {\n        \n        Scanner text_input = new Scanner(System.in);\n        System.out.println(&quot;Enter the text you'd like analysed: &quot;);\n        \n        String text = text_input.nextLine();\n        text_input.close();\n        List&lt;Character&gt; characters = convertsStringtoCharList(text);\n        //System.out.println(characters);\n        int number_of_words = countWords(text);\n        System.out.println(number_of_words);\n        int number_of_sentences = countSentences(text);\n        System.out.println(number_of_sentences);\n        int number_of_characters = countCharacters(characters);\n        System.out.println(number_of_characters);\n        double readabilityScore = readabilityIndex(number_of_words, number_of_sentences, number_of_characters);\n        System.out.println(&quot;The readability score of the text submitted is: &quot; + readabilityScore);\n    }\n\n}\n\n</code></pre>\n<p>`</p>\n<p>The values being passed in are integers but that doesn't seem to be causing the problem, characters = 38; words = 10; sentences = 1.\nBy my working I should be getting 1773.37 but eclipse keeps returning 1396.57 and I can't pinpoint why.</p>\n<p>I've tried hardcoding values in and keep getting the same issue, I've also tried adding more brackets to the equation to make it more set in stone how it should be done but neither have worked.</p>\n"},{"tags":["java","android","xml","firebase"],"owner":{"account_id":29848709,"reputation":1,"user_id":22875125,"display_name":"Daanylo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":15,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1699428166,"answer_count":0,"score":0,"last_activity_date":1699381749,"creation_date":1699381749,"question_id":77440630,"body_markdown":"Im trying to make an android app using Firebase. I believe I have done everything right to set it up, but I&#39;m still getting this error message: &quot;Default FirebaseApp is not initialized in this process com.example.squadunite. Make sure to call FirebaseApp.initializeApp(Context) first.&quot;\r\n\r\n\r\n\r\nI&#39;ve been trying many solutions so my code might look a bit messy.\r\n\r\nApp-level build.gradle file:\r\n\r\n```\r\nplugins {\r\n    id &#39;com.android.application&#39;\r\n    id &#39;com.google.gms.google-services&#39;\r\n}\r\napply plugin: &#39;com.android.application&#39;\r\nandroid {\r\n    namespace &#39;com.example.squadunite&#39;\r\n    compileSdk 34\r\n\r\n    defaultConfig {\r\n        applicationId &quot;com.example.squadunite&quot;\r\n        minSdk 24\r\n        targetSdk 32\r\n        versionCode 1\r\n        versionName &quot;1.0&quot;\r\n\r\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\r\n    }\r\n\r\n    buildTypes {\r\n        release {\r\n            minifyEnabled false\r\n            proguardFiles getDefaultProguardFile(&#39;proguard-android-optimize.txt&#39;), &#39;proguard-rules.pro&#39;\r\n        }\r\n    }\r\n    compileOptions {\r\n        sourceCompatibility JavaVersion.VERSION_1_8\r\n        targetCompatibility JavaVersion.VERSION_1_8\r\n    }\r\n}\r\n\r\ndependencies {\r\n    implementation &#39;androidx.appcompat:appcompat:1.6.1&#39;\r\n    implementation &#39;com.google.android.material:material:1.10.0&#39;\r\n    implementation &#39;androidx.constraintlayout:constraintlayout:2.1.4&#39;\r\n    testImplementation &#39;junit:junit:4.13.2&#39;\r\n    androidTestImplementation &#39;androidx.test.ext:junit:1.1.5&#39;\r\n    androidTestImplementation &#39;androidx.test.espresso:espresso-core:3.5.1&#39;\r\n    implementation platform(&#39;com.google.firebase:firebase-bom:32.5.0&#39;)\r\n    implementation &#39;com.google.firebase:firebase-analytics&#39;\r\n    implementation &#39;com.google.firebase:firebase-database&#39;\r\n}\r\napply plugin: &#39;com.google.gms.google-services&#39;\r\n```\r\n\r\nProject level build.gradle file:\r\n\r\n```\r\nbuildscript {\r\n    repositories {\r\n        google()\r\n    }\r\n    dependencies {\r\n        classpath &#39;com.android.tools.build:gradle:7.3.1&#39;\r\n        classpath &#39;com.google.gms:google-services:4.4.0&#39;\r\n    }\r\n}\r\nplugins {\r\n    id &#39;com.android.application&#39; version &#39;7.3.0&#39; apply false\r\n    id &#39;com.android.library&#39; version &#39;7.3.0&#39; apply false\r\n    id &#39;com.google.gms.google-services&#39; version &#39;4.4.0&#39; apply false\r\n}\r\n```\r\n\r\nActivity using Firebase:\r\n\r\n```\r\npublic class RegisterActivity extends AppCompatActivity {\r\n\r\n    MaterialButton registerButton;\r\n    TextInputLayout usernameLayout;\r\n    TextInputEditText usernameInput;\r\n    TextInputLayout passwordLayout;\r\n    TextInputEditText passwordInput;\r\n    TextInputLayout repeatPasswordLayout;\r\n    CheckBox termsCheckbox;\r\n    Animation termsCheckboxAnimation;\r\n    TextView loginLink;\r\n    FirebaseDatabase database;\r\n    DatabaseReference databaseReference;\r\n\r\n    public void initializeElements() {\r\n        registerButton = findViewById(R.id.registerButton);\r\n        usernameLayout = findViewById(R.id.usernameLayout);\r\n        usernameInput = findViewById(R.id.usernameInput);\r\n        passwordLayout = findViewById(R.id.passwordLayout);\r\n        passwordInput = findViewById(R.id.passwordInput);\r\n        repeatPasswordLayout = findViewById(R.id.repeatPassword);\r\n        termsCheckbox = findViewById(R.id.termsCheckbox);\r\n        loginLink = findViewById(R.id.loginLink);\r\n        termsCheckboxAnimation = AnimationUtils.loadAnimation(this, R.anim.shake_animation);\r\n\r\n        // Initialize Firebase Database\r\n        database = FirebaseDatabase.getInstance();\r\n        databaseReference = database.getReference(&quot;users&quot;);\r\n    }\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n\r\n        FirebaseApp.initializeApp(getApplicationContext());\r\n\r\n        // Remove toolbar\r\n        supportRequestWindowFeature(Window.FEATURE_NO_TITLE);\r\n        this.getWindow().setFlags(WindowManager.LayoutParams.FLAG_FULLSCREEN, WindowManager.LayoutParams.FLAG_FULLSCREEN);\r\n\r\n        setContentView(R.layout.activity_register);\r\n\r\n        initializeElements();\r\n        termsCheckbox.setMovementMethod(LinkMovementMethod.getInstance());\r\n\r\n        // When username input is focused\r\n        usernameInput.setOnFocusChangeListener((v, hasFocus) -&gt; {\r\n            if (hasFocus) {\r\n                usernameLayout.setHelperTextEnabled(true);\r\n                usernameLayout.setHelperText(&quot;Pick a username between 3 and 16 characters long.&quot;);\r\n            }\r\n            if (!hasFocus) {\r\n                usernameLayout.setHelperTextEnabled(false);\r\n            }\r\n        });\r\n\r\n        // When password input is focused\r\n        passwordInput.setOnFocusChangeListener((v, hasFocus) -&gt; {\r\n            if (hasFocus) {\r\n                passwordLayout.setHelperTextEnabled(true);\r\n                passwordLayout.setHelperText(getString(R.string.passwordHelperText));\r\n            }\r\n            if (!hasFocus) {\r\n                passwordLayout.setHelperTextEnabled(false);\r\n            }\r\n        });\r\n\r\n        // When register button is clicked\r\n        registerButton.setOnClickListener(v -&gt; {\r\n            String username = usernameLayout.getEditText().getText().toString();\r\n            String password = passwordLayout.getEditText().getText().toString();\r\n            String repeatPassword = repeatPasswordLayout.getEditText().getText().toString();\r\n            if (validateUsername(username)) {\r\n                usernameLayout.setErrorEnabled(false);\r\n            }\r\n            if (validatePassword(password)) {\r\n                passwordLayout.setErrorEnabled(false);\r\n            }\r\n            if (validateRepeatPassword(repeatPassword, password)) {\r\n                repeatPasswordLayout.setErrorEnabled(false);\r\n            }\r\n            if (validateRegister(username, password, repeatPassword, termsCheckbox.isChecked())) {\r\n                String userId = databaseReference.push().getKey();\r\n                databaseReference.child(userId).child(&quot;username&quot;).setValue(username);\r\n                databaseReference.child(userId).child(&quot;password&quot;).setValue(password);\r\n                openMainActivity();\r\n            }\r\n        });\r\n\r\n        // When login link is clicked\r\n        loginLink.setOnClickListener(v -&gt; {\r\n            openLoginActivity();\r\n        });\r\n    }\r\n\r\n    enum Error {\r\n        USERNAME_MISSING,\r\n        USERNAME_TOO_LONG,\r\n        USERNAME_TOO_SHORT,\r\n        USERNAME_ILLEGAL_CHARACTERS,\r\n        PASSWORD_MISSING,\r\n        PASSWORD_TOO_SHORT,\r\n        PASSWORDS_DONT_MATCH,\r\n        PASSWORD_ILLEGAL_CHARACTERS,\r\n        REPEATPASSWORD_MISSING,\r\n        TERMS_NOT_ACCEPTED\r\n    }\r\n\r\n    public void onError(Error error) {\r\n\r\n        switch (error) {\r\n            case USERNAME_MISSING:\r\n                usernameLayout.setError(&quot;Choose a username.&quot;);\r\n                break;\r\n            case USERNAME_TOO_LONG:\r\n                usernameLayout.setError(&quot;Username too long.&quot;);\r\n                break;\r\n            case USERNAME_TOO_SHORT:\r\n                usernameLayout.setError(&quot;Username too short.&quot;);\r\n                break;\r\n            case USERNAME_ILLEGAL_CHARACTERS:\r\n                usernameLayout.setError(&quot;Username contains illegal characters.&quot;);\r\n                break;\r\n            case PASSWORD_MISSING:\r\n                passwordLayout.setError(&quot;Choose a password.&quot;);\r\n                break;\r\n            case PASSWORD_ILLEGAL_CHARACTERS:\r\n                passwordLayout.setError(&quot;Password contains illegal characters.&quot;);\r\n                break;\r\n            case PASSWORD_TOO_SHORT:\r\n                passwordLayout.setError(&quot;Password too short.&quot;);\r\n                break;\r\n            case PASSWORDS_DONT_MATCH:\r\n                passwordLayout.setError(&quot; &quot;);\r\n                passwordLayout.setErrorTextAppearance(R.style.emptyError);\r\n                repeatPasswordLayout.setError(&quot;Passwords don&#39;t match.&quot;);\r\n                break;\r\n            case REPEATPASSWORD_MISSING:\r\n                repeatPasswordLayout.setError(&quot;Repeat your password.&quot;);\r\n                break;\r\n            case TERMS_NOT_ACCEPTED:\r\n                termsCheckbox.startAnimation(termsCheckboxAnimation);\r\n                Toast.makeText(this, &quot;You have to agree with the Terms &amp; Conditions&quot;, Toast.LENGTH_SHORT).show();\r\n                break;\r\n        }\r\n    }\r\n\r\n    private boolean validateUsername(String username) {\r\n        if (username.length() &lt; 1) {\r\n            onError(Error.USERNAME_MISSING);\r\n            return false;\r\n        }\r\n        if (username.length() &lt; 4) {\r\n            onError(Error.USERNAME_TOO_SHORT);\r\n            return false;\r\n        }\r\n        if (username.length() &gt; 16) {\r\n            onError(Error.USERNAME_TOO_LONG);\r\n            return false;\r\n        }\r\n        if (!username.matches(&quot;[a-zA-Z0-9_.]+&quot;)) {\r\n            onError(Error.USERNAME_ILLEGAL_CHARACTERS);\r\n            return false;\r\n        }\r\n        return true;\r\n    }\r\n\r\n    private boolean validatePassword(String password) {\r\n        if (password.length() &lt; 1) {\r\n            onError(Error.PASSWORD_MISSING);\r\n            return false;\r\n        }\r\n        if (password.length() &lt; 8) {\r\n            onError(Error.PASSWORD_TOO_SHORT);\r\n            return false;\r\n        }\r\n        if (!password.matches(&quot;[a-zA-Z0-9_.\\\\-!?@&amp;]+&quot;)) {\r\n            onError(Error.PASSWORD_ILLEGAL_CHARACTERS);\r\n            return false;\r\n        }\r\n        return true;\r\n    }\r\n\r\n    private boolean validateRepeatPassword(String repeatPassword, String password) {\r\n        if (repeatPassword.length() &lt; 1) {\r\n            onError(Error.REPEATPASSWORD_MISSING);\r\n            return false;\r\n        }\r\n        if (!repeatPassword.equals(password)) {\r\n            onError(Error.PASSWORDS_DONT_MATCH);\r\n            return false;\r\n        }\r\n        return true;\r\n    }\r\n\r\n    private boolean validateTerms(boolean terms) {\r\n        if (!terms) {\r\n            onError(Error.TERMS_NOT_ACCEPTED);\r\n            return false;\r\n        }\r\n        return true;\r\n    }\r\n\r\n    public boolean validateRegister(String username, String password, String repeatPassword, boolean terms) {\r\n        return (validateUsername(username) &amp;&amp; validatePassword(password) &amp;&amp; validateRepeatPassword(repeatPassword, password) &amp;&amp; validateTerms(terms));\r\n    }\r\n\r\n    public void openMainActivity() {\r\n        Intent intent = new Intent(this, MainActivity.class);\r\n        startActivity(intent);\r\n        Toast.makeText(this, &quot;Successfully registered!&quot;, Toast.LENGTH_SHORT).show();\r\n        this.finish();\r\n    }\r\n\r\n    public void openLoginActivity() {\r\n        Intent intent = new Intent(this, LoginActivity.class);\r\n        startActivity(intent);\r\n        this.finish();\r\n    }\r\n\r\n}\r\n\r\n```","title":"Default FirebaseApp is not initialized in this process com.example.(appname). Make sure to call FirebaseApp.initializeApp(Context) first","body":"<p>Im trying to make an android app using Firebase. I believe I have done everything right to set it up, but I'm still getting this error message: &quot;Default FirebaseApp is not initialized in this process com.example.squadunite. Make sure to call FirebaseApp.initializeApp(Context) first.&quot;</p>\n<p>I've been trying many solutions so my code might look a bit messy.</p>\n<p>App-level build.gradle file:</p>\n<pre><code>plugins {\n    id 'com.android.application'\n    id 'com.google.gms.google-services'\n}\napply plugin: 'com.android.application'\nandroid {\n    namespace 'com.example.squadunite'\n    compileSdk 34\n\n    defaultConfig {\n        applicationId &quot;com.example.squadunite&quot;\n        minSdk 24\n        targetSdk 32\n        versionCode 1\n        versionName &quot;1.0&quot;\n\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\n    }\n\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'\n        }\n    }\n    compileOptions {\n        sourceCompatibility JavaVersion.VERSION_1_8\n        targetCompatibility JavaVersion.VERSION_1_8\n    }\n}\n\ndependencies {\n    implementation 'androidx.appcompat:appcompat:1.6.1'\n    implementation 'com.google.android.material:material:1.10.0'\n    implementation 'androidx.constraintlayout:constraintlayout:2.1.4'\n    testImplementation 'junit:junit:4.13.2'\n    androidTestImplementation 'androidx.test.ext:junit:1.1.5'\n    androidTestImplementation 'androidx.test.espresso:espresso-core:3.5.1'\n    implementation platform('com.google.firebase:firebase-bom:32.5.0')\n    implementation 'com.google.firebase:firebase-analytics'\n    implementation 'com.google.firebase:firebase-database'\n}\napply plugin: 'com.google.gms.google-services'\n</code></pre>\n<p>Project level build.gradle file:</p>\n<pre><code>buildscript {\n    repositories {\n        google()\n    }\n    dependencies {\n        classpath 'com.android.tools.build:gradle:7.3.1'\n        classpath 'com.google.gms:google-services:4.4.0'\n    }\n}\nplugins {\n    id 'com.android.application' version '7.3.0' apply false\n    id 'com.android.library' version '7.3.0' apply false\n    id 'com.google.gms.google-services' version '4.4.0' apply false\n}\n</code></pre>\n<p>Activity using Firebase:</p>\n<pre><code>public class RegisterActivity extends AppCompatActivity {\n\n    MaterialButton registerButton;\n    TextInputLayout usernameLayout;\n    TextInputEditText usernameInput;\n    TextInputLayout passwordLayout;\n    TextInputEditText passwordInput;\n    TextInputLayout repeatPasswordLayout;\n    CheckBox termsCheckbox;\n    Animation termsCheckboxAnimation;\n    TextView loginLink;\n    FirebaseDatabase database;\n    DatabaseReference databaseReference;\n\n    public void initializeElements() {\n        registerButton = findViewById(R.id.registerButton);\n        usernameLayout = findViewById(R.id.usernameLayout);\n        usernameInput = findViewById(R.id.usernameInput);\n        passwordLayout = findViewById(R.id.passwordLayout);\n        passwordInput = findViewById(R.id.passwordInput);\n        repeatPasswordLayout = findViewById(R.id.repeatPassword);\n        termsCheckbox = findViewById(R.id.termsCheckbox);\n        loginLink = findViewById(R.id.loginLink);\n        termsCheckboxAnimation = AnimationUtils.loadAnimation(this, R.anim.shake_animation);\n\n        // Initialize Firebase Database\n        database = FirebaseDatabase.getInstance();\n        databaseReference = database.getReference(&quot;users&quot;);\n    }\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n\n        FirebaseApp.initializeApp(getApplicationContext());\n\n        // Remove toolbar\n        supportRequestWindowFeature(Window.FEATURE_NO_TITLE);\n        this.getWindow().setFlags(WindowManager.LayoutParams.FLAG_FULLSCREEN, WindowManager.LayoutParams.FLAG_FULLSCREEN);\n\n        setContentView(R.layout.activity_register);\n\n        initializeElements();\n        termsCheckbox.setMovementMethod(LinkMovementMethod.getInstance());\n\n        // When username input is focused\n        usernameInput.setOnFocusChangeListener((v, hasFocus) -&gt; {\n            if (hasFocus) {\n                usernameLayout.setHelperTextEnabled(true);\n                usernameLayout.setHelperText(&quot;Pick a username between 3 and 16 characters long.&quot;);\n            }\n            if (!hasFocus) {\n                usernameLayout.setHelperTextEnabled(false);\n            }\n        });\n\n        // When password input is focused\n        passwordInput.setOnFocusChangeListener((v, hasFocus) -&gt; {\n            if (hasFocus) {\n                passwordLayout.setHelperTextEnabled(true);\n                passwordLayout.setHelperText(getString(R.string.passwordHelperText));\n            }\n            if (!hasFocus) {\n                passwordLayout.setHelperTextEnabled(false);\n            }\n        });\n\n        // When register button is clicked\n        registerButton.setOnClickListener(v -&gt; {\n            String username = usernameLayout.getEditText().getText().toString();\n            String password = passwordLayout.getEditText().getText().toString();\n            String repeatPassword = repeatPasswordLayout.getEditText().getText().toString();\n            if (validateUsername(username)) {\n                usernameLayout.setErrorEnabled(false);\n            }\n            if (validatePassword(password)) {\n                passwordLayout.setErrorEnabled(false);\n            }\n            if (validateRepeatPassword(repeatPassword, password)) {\n                repeatPasswordLayout.setErrorEnabled(false);\n            }\n            if (validateRegister(username, password, repeatPassword, termsCheckbox.isChecked())) {\n                String userId = databaseReference.push().getKey();\n                databaseReference.child(userId).child(&quot;username&quot;).setValue(username);\n                databaseReference.child(userId).child(&quot;password&quot;).setValue(password);\n                openMainActivity();\n            }\n        });\n\n        // When login link is clicked\n        loginLink.setOnClickListener(v -&gt; {\n            openLoginActivity();\n        });\n    }\n\n    enum Error {\n        USERNAME_MISSING,\n        USERNAME_TOO_LONG,\n        USERNAME_TOO_SHORT,\n        USERNAME_ILLEGAL_CHARACTERS,\n        PASSWORD_MISSING,\n        PASSWORD_TOO_SHORT,\n        PASSWORDS_DONT_MATCH,\n        PASSWORD_ILLEGAL_CHARACTERS,\n        REPEATPASSWORD_MISSING,\n        TERMS_NOT_ACCEPTED\n    }\n\n    public void onError(Error error) {\n\n        switch (error) {\n            case USERNAME_MISSING:\n                usernameLayout.setError(&quot;Choose a username.&quot;);\n                break;\n            case USERNAME_TOO_LONG:\n                usernameLayout.setError(&quot;Username too long.&quot;);\n                break;\n            case USERNAME_TOO_SHORT:\n                usernameLayout.setError(&quot;Username too short.&quot;);\n                break;\n            case USERNAME_ILLEGAL_CHARACTERS:\n                usernameLayout.setError(&quot;Username contains illegal characters.&quot;);\n                break;\n            case PASSWORD_MISSING:\n                passwordLayout.setError(&quot;Choose a password.&quot;);\n                break;\n            case PASSWORD_ILLEGAL_CHARACTERS:\n                passwordLayout.setError(&quot;Password contains illegal characters.&quot;);\n                break;\n            case PASSWORD_TOO_SHORT:\n                passwordLayout.setError(&quot;Password too short.&quot;);\n                break;\n            case PASSWORDS_DONT_MATCH:\n                passwordLayout.setError(&quot; &quot;);\n                passwordLayout.setErrorTextAppearance(R.style.emptyError);\n                repeatPasswordLayout.setError(&quot;Passwords don't match.&quot;);\n                break;\n            case REPEATPASSWORD_MISSING:\n                repeatPasswordLayout.setError(&quot;Repeat your password.&quot;);\n                break;\n            case TERMS_NOT_ACCEPTED:\n                termsCheckbox.startAnimation(termsCheckboxAnimation);\n                Toast.makeText(this, &quot;You have to agree with the Terms &amp; Conditions&quot;, Toast.LENGTH_SHORT).show();\n                break;\n        }\n    }\n\n    private boolean validateUsername(String username) {\n        if (username.length() &lt; 1) {\n            onError(Error.USERNAME_MISSING);\n            return false;\n        }\n        if (username.length() &lt; 4) {\n            onError(Error.USERNAME_TOO_SHORT);\n            return false;\n        }\n        if (username.length() &gt; 16) {\n            onError(Error.USERNAME_TOO_LONG);\n            return false;\n        }\n        if (!username.matches(&quot;[a-zA-Z0-9_.]+&quot;)) {\n            onError(Error.USERNAME_ILLEGAL_CHARACTERS);\n            return false;\n        }\n        return true;\n    }\n\n    private boolean validatePassword(String password) {\n        if (password.length() &lt; 1) {\n            onError(Error.PASSWORD_MISSING);\n            return false;\n        }\n        if (password.length() &lt; 8) {\n            onError(Error.PASSWORD_TOO_SHORT);\n            return false;\n        }\n        if (!password.matches(&quot;[a-zA-Z0-9_.\\\\-!?@&amp;]+&quot;)) {\n            onError(Error.PASSWORD_ILLEGAL_CHARACTERS);\n            return false;\n        }\n        return true;\n    }\n\n    private boolean validateRepeatPassword(String repeatPassword, String password) {\n        if (repeatPassword.length() &lt; 1) {\n            onError(Error.REPEATPASSWORD_MISSING);\n            return false;\n        }\n        if (!repeatPassword.equals(password)) {\n            onError(Error.PASSWORDS_DONT_MATCH);\n            return false;\n        }\n        return true;\n    }\n\n    private boolean validateTerms(boolean terms) {\n        if (!terms) {\n            onError(Error.TERMS_NOT_ACCEPTED);\n            return false;\n        }\n        return true;\n    }\n\n    public boolean validateRegister(String username, String password, String repeatPassword, boolean terms) {\n        return (validateUsername(username) &amp;&amp; validatePassword(password) &amp;&amp; validateRepeatPassword(repeatPassword, password) &amp;&amp; validateTerms(terms));\n    }\n\n    public void openMainActivity() {\n        Intent intent = new Intent(this, MainActivity.class);\n        startActivity(intent);\n        Toast.makeText(this, &quot;Successfully registered!&quot;, Toast.LENGTH_SHORT).show();\n        this.finish();\n    }\n\n    public void openLoginActivity() {\n        Intent intent = new Intent(this, LoginActivity.class);\n        startActivity(intent);\n        this.finish();\n    }\n\n}\n\n</code></pre>\n"},{"tags":["java","jbpm","kie","kie-workbench"],"answers":[{"comments":[{"owner":{"account_id":4236446,"reputation":137,"user_id":3467471,"accept_rate":64,"display_name":"user3467471"},"score":0,"creation_date":1473688652,"post_id":39436334,"comment_id":66225356,"body_markdown":"Hey Thomas, how could I properly extend AbstractWorkItem class?\nI make it as follows: \npublic class WI extends AbstractWorkItemHandler {\n\tpublic WI(StatefulKnowledgeSession ksession) {\n\t\tsuper(ksession);\n\t}\nKieSession kSession = getSession(); \nProcessContext context = new ProcessContext(kSession);\nMap&lt;String, Object&gt; params = new HashMap&lt;&gt;();\npublic void executeWorkItem(WorkItem workItem, WorkItemManager manager) {\nparams.put(&quot;lane&quot;, context.getNodeInstance().getNode().getMetaData().get(&quot;Lane&quot;).toString());\nmanager.completeWorkItem(workItem.getId(), params);}","body":"Hey Thomas, how could I properly extend AbstractWorkItem class? I make it as follows:  public class WI extends AbstractWorkItemHandler { \tpublic WI(StatefulKnowledgeSession ksession) { \t\tsuper(ksession); \t} KieSession kSession = getSession();  ProcessContext context = new ProcessContext(kSession); Map&lt;String, Object&gt; params = new HashMap&lt;&gt;(); public void executeWorkItem(WorkItem workItem, WorkItemManager manager) { params.put(&quot;lane&quot;, context.getNodeInstance().getNode().getMetaData().get(&quot;Lane&quot;&zwnj;&#8203;).toString()); manager.completeWorkItem(workItem.getId(), params);}"},{"owner":{"account_id":4236446,"reputation":137,"user_id":3467471,"accept_rate":64,"display_name":"user3467471"},"score":0,"creation_date":1473689028,"post_id":39436334,"comment_id":66225631,"body_markdown":"But unfortunately I get a RuntimeException trying to build and deploy my project in Kie WorkBench.\nHave I properly understood, that actual StatefulKnowledgeSession should be injected by creating an instance of my WI - class? Or something wrong with my code?","body":"But unfortunately I get a RuntimeException trying to build and deploy my project in Kie WorkBench. Have I properly understood, that actual StatefulKnowledgeSession should be injected by creating an instance of my WI - class? Or something wrong with my code?"},{"owner":{"account_id":3655415,"reputation":1180,"user_id":3047439,"accept_rate":29,"display_name":"livthomas"},"score":1,"creation_date":1473691218,"post_id":39436334,"comment_id":66227224,"body_markdown":"Do you register your work item handler globally in kie-wb.war/WEB-INF/classes/META-INF/kie-wb-deployment-descriptor.xml or only for your project directly in KIE Workbench? In any case have a look at other work item handlers there and see how ksession is passed to their constructors.","body":"Do you register your work item handler globally in kie-wb.war/WEB-INF/classes/META-INF/kie-wb-deployment-descri&zwnj;&#8203;ptor.xml or only for your project directly in KIE Workbench? In any case have a look at other work item handlers there and see how ksession is passed to their constructors."},{"owner":{"account_id":4236446,"reputation":137,"user_id":3467471,"accept_rate":64,"display_name":"user3467471"},"score":0,"creation_date":1473759480,"post_id":39436334,"comment_id":66253667,"body_markdown":"I&#39;ve tried to register it as other WItems are respectively their Constructors in kie-deployment-descriptor.xml, namely as follows: new package.WI(ksession);\nUnfortunately it gets also not be deployed and throws the same RuntimeException: cannot instance WorkItem","body":"I&#39;ve tried to register it as other WItems are respectively their Constructors in kie-deployment-descriptor.xml, namely as follows: new package.WI(ksession); Unfortunately it gets also not be deployed and throws the same RuntimeException: cannot instance WorkItem"},{"owner":{"account_id":3655415,"reputation":1180,"user_id":3047439,"accept_rate":29,"display_name":"livthomas"},"score":0,"creation_date":1473765515,"post_id":39436334,"comment_id":66257200,"body_markdown":"Can you please upload somewhere your exception stack trace and post a link here? It is hard to say what can be wrong. Do you set unique name of your work item handler? Have you uploaded the JAR file with your work item handler implementation to KIE Workbench?","body":"Can you please upload somewhere your exception stack trace and post a link here? It is hard to say what can be wrong. Do you set unique name of your work item handler? Have you uploaded the JAR file with your work item handler implementation to KIE Workbench?"},{"owner":{"account_id":4236446,"reputation":137,"user_id":3467471,"accept_rate":64,"display_name":"user3467471"},"score":0,"creation_date":1473767143,"post_id":39436334,"comment_id":66258108,"body_markdown":"I&#39;ve added stack trace. Sure, I do set a unique name and add as dependency my .jar file. I mean, I can without any problem deploy an App with a process, where I use my CustomWorkItem, which implements WorkItemHandler, and it works perfect. But it is not the case with AbstractWorkItemHandler. I have also checked maven repository, cause for AbstractWorkItemHandler I need to use additional dependence, namely jbpm-workitems, it is also on the server, where I deploy my app in .m2 - folder.","body":"I&#39;ve added stack trace. Sure, I do set a unique name and add as dependency my .jar file. I mean, I can without any problem deploy an App with a process, where I use my CustomWorkItem, which implements WorkItemHandler, and it works perfect. But it is not the case with AbstractWorkItemHandler. I have also checked maven repository, cause for AbstractWorkItemHandler I need to use additional dependence, namely jbpm-workitems, it is also on the server, where I deploy my app in .m2 - folder."},{"owner":{"account_id":3655415,"reputation":1180,"user_id":3047439,"accept_rate":29,"display_name":"livthomas"},"score":0,"creation_date":1473777149,"post_id":39436334,"comment_id":66264551,"body_markdown":"I do not know if this solves your problem but you should move initialization of `ksession` and `context` to the constructor. Because otherwise they are initialized before the constructor with values you do not expect there.","body":"I do not know if this solves your problem but you should move initialization of <code>ksession</code> and <code>context</code> to the constructor. Because otherwise they are initialized before the constructor with values you do not expect there."}],"tags":[],"owner":{"account_id":3655415,"reputation":1180,"user_id":3047439,"accept_rate":29,"display_name":"livthomas"},"comment_count":7,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1473598639,"creation_date":1473598639,"answer_id":39436334,"question_id":39427110,"body_markdown":"You need to either extend [AbstractWorkItemHandler][1] or implement your work item handler in a similar way. Then just pass `ksession` instance as a parameter of its constructor when you register it. Once you have a reference to KIE session, you can get global variables calling its `getGlobals()` method.\r\n\r\n\r\n  [1]: https://github.com/droolsjbpm/jbpm/blob/6.4.x/jbpm-workitems/src/main/java/org/jbpm/process/workitem/AbstractWorkItemHandler.java","title":"How to get global variables from jbpm-process within WorkItem","body":"<p>You need to either extend <a href=\"https://github.com/droolsjbpm/jbpm/blob/6.4.x/jbpm-workitems/src/main/java/org/jbpm/process/workitem/AbstractWorkItemHandler.java\" rel=\"nofollow\">AbstractWorkItemHandler</a> or implement your work item handler in a similar way. Then just pass <code>ksession</code> instance as a parameter of its constructor when you register it. Once you have a reference to KIE session, you can get global variables calling its <code>getGlobals()</code> method.</p>\n"},{"tags":[],"owner":{"account_id":11523161,"reputation":1,"user_id":8444362,"display_name":"Ahmed Oueslati"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699381309,"creation_date":1699381309,"answer_id":77440595,"question_id":39427110,"body_markdown":"The workitem should extends from AbstractWorkItemHandler to have the access to NodeInstance and kieSession \r\n\r\nin execute you can do that : \r\n\r\nList&lt;Variable&gt; variables =\r\n\t\t\t\t((VariableScope) ((NodeInstanceImpl) getNodeInstance(workItem)).resolveContextInstance(VariableScope.VARIABLE_SCOPE).get(0)).getVariables();","title":"How to get global variables from jbpm-process within WorkItem","body":"<p>The workitem should extends from AbstractWorkItemHandler to have the access to NodeInstance and kieSession</p>\n<p>in execute you can do that :</p>\n<p>List variables =\n((VariableScope) ((NodeInstanceImpl) getNodeInstance(workItem)).resolveContextInstance(VariableScope.VARIABLE_SCOPE).get(0)).getVariables();</p>\n"}],"owner":{"account_id":4236446,"reputation":137,"user_id":3467471,"accept_rate":64,"display_name":"user3467471"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2916,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":39436334,"answer_count":2,"score":1,"last_activity_date":1699381309,"creation_date":1473518247,"question_id":39427110,"body_markdown":"I can successfully retrieve global variables (such as NodeInstance, ProcessInstance and so on) from within the process with help of Script-Task and kcontext-instance; But what if I need retrieve those global variables within WorkItem? I could of course put Script-Task before my WorkItem within Process and then assign a global variable to one of Variable Definitions, in order to use it within WorkItem with getParameter()-method; \r\n\r\nBut we do understand, that it is double made work, doesn&#39;t we?\r\nSo how could I get global variables within WorkItem without additional Script-Task? I thought firstly, that I could use the same name of the session within WorkItem, such we define by registering WorkItem in KieWorkBench, that&#39;s why I created a ProcessContext within my WI as follows:\r\n\r\n    KieServices ks = KieServices.Factory.get();\r\n    KieContainer kContainer = ks.getKieClasspathContainer();\r\n\tKieSession kSession = kContainer.newKieSession(&quot;ksession-process&quot;);\r\n\tProcessContext context = new ProcessContext(kSession);\r\n\tMap&lt;String, Object&gt; params = new HashMap&lt;&gt;();\r\n\t\r\n\tpublic void executeWorkItem(WorkItem workItem, WorkItemManager manager) {\r\n\r\n\t\tparams.put(&quot;lane&quot;, context.getNodeInstance().getNode().getMetaData().get(&quot;Lane&quot;).toString());\r\n\t\tmanager.completeWorkItem(workItem.getId(), params);\r\n\t\t\r\n\t}\r\n\r\nWith this code snippet within executeWorkItem(), but rather with kcontext in Script-Task I can retrieve successfuly the name of the Lane and assign it to variable, but when I execute the process with this WorkItem I get an Error - WorkItem -- null not by deploying, rather by starting the process; Of course I also registry the same ksession - name as within WorkItem (namely &quot;ksession-process&quot;) in KieWorkBench, but apparently I cannot use the context this way, as I thought.\r\n\r\nSo I really appreciate your help! It doesn&#39;t really bother, but to make a code resp. BProcess a little bit concisely and without any redundant variables, it pays to ask.\r\n\r\njBPM 6.4, wildfly 8.2\r\n\r\n**UPDATE:**\r\nas user livthomas has suggested, instead of WorkItemHandler interface I&#39;ve tried to extend my class to AbstractWorkiItemHandler as follows:\r\n\r\n    public class WI extends AbstractWorkItemHandler {\r\n\t\r\n\tpublic WI(StatefulKnowledgeSession ksession) {\r\n\t\tsuper(ksession);\r\n\t}\r\n\r\n    KieSession kSession = getSession(); \r\n\tProcessContext context = new ProcessContext(kSession);\r\n\tMap&lt;String, Object&gt; params = new HashMap&lt;&gt;();\r\n\t\r\n\tpublic void executeWorkItem(WorkItem workItem, WorkItemManager manager) {\r\n\t\tparams.put(&quot;lane&quot;, context.getNodeInstance().getNode().getMetaData().get(&quot;Lane&quot;));\r\n\t\tmanager.completeWorkItem(workItem.getId(), params);\r\n\t}\r\n    ...\r\n\r\nAnd then register it in Project&#39;s descriptor.xml as new my_package.WI(ksession); \r\nUnfortunately I get the RuntimeException: cannot instance WorkItem...\r\n\r\n**UPDATE2: STACK TRACE**\r\n\r\n    2016-09-13 11:49:59,355 ERROR [org.jbpm.console.ng.bd.backend.server.DeploymentManagerEntryPointImpl] (default task-24) Deployment of unit testing:testing-work-item-handler:1.0 failed: java.lang.RuntimeException: java.lang.RuntimeException: Cannot instance WorkItemHandler bpmstest.test.WI: org.jbpm.console.ng.bd.exception.DeploymentException: java.lang.RuntimeException: java.lang.RuntimeException: Cannot instance WorkItemHandler bpmstest.test.WI\r\n        at org.jbpm.console.ng.bd.backend.server.DeploymentManagerEntryPointImpl.deploy(DeploymentManagerEntryPointImpl.java:203) [jbpm-console-ng-business-domain-backend-6.4.0.Final.jar:6.4.0.Final]\r\n        at org.jbpm.console.ng.bd.backend.server.DeploymentManagerEntryPointImpl.deploy(DeploymentManagerEntryPointImpl.java:158) [jbpm-console-ng-business-domain-backend-6.4.0.Final.jar:6.4.0.Final]\r\n        at org.jbpm.console.ng.bd.backend.server.DeploymentManagerEntryPointImpl.process(DeploymentManagerEntryPointImpl.java:517) [jbpm-console-ng-business-domain-backend-6.4.0.Final.jar:6.4.0.Final]\r\n        at org.jbpm.console.ng.bd.backend.server.DeploymentManagerEntryPointImpl$Proxy$_$$_WeldClientProxy.process(Unknown Source) [jbpm-console-ng-business-domain-backend-6.4.0.Final.jar:6.4.0.Final]\r\n        at org.kie.workbench.common.services.backend.builder.BuildServiceImpl.doBuildAndDeploy(BuildServiceImpl.java:178) [kie-wb-common-services-backend-6.4.0.Final.jar:6.4.0.Final]\r\n        at org.kie.workbench.common.services.backend.builder.BuildServiceImpl.buildAndDeploy(BuildServiceImpl.java:134) [kie-wb-common-services-backend-6.4.0.Final.jar:6.4.0.Final]\r\n        at org.kie.workbench.common.services.backend.builder.BuildServiceImpl$Proxy$_$$_WeldClientProxy.buildAndDeploy(Unknown Source) [kie-wb-common-services-backend-6.4.0.Final.jar:6.4.0.Final]\r\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) [rt.jar:1.8.0_72]\r\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) [rt.jar:1.8.0_72]\r\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) [rt.jar:1.8.0_72]\r\n        at java.lang.reflect.Method.invoke(Method.java:498) [rt.jar:1.8.0_72]\r\n        at org.jboss.errai.bus.server.io.AbstractRPCMethodCallback.invokeMethodFromMessage(AbstractRPCMethodCallback.java:48) [errai-bus-3.2.3.Final.jar:3.2.3.Final]\r\n        at org.jboss.errai.bus.server.io.ValueReplyRPCEndpointCallback.callback(ValueReplyRPCEndpointCallback.java:22) [errai-bus-3.2.3.Final.jar:3.2.3.Final]\r\n        at org.jboss.errai.bus.server.io.RemoteServiceCallback.callback(RemoteServiceCallback.java:54) [errai-bus-3.2.3.Final.jar:3.2.3.Final]\r\n        at org.jboss.errai.cdi.server.CDIExtensionPoints$2.callback(CDIExtensionPoints.java:410) [errai-weld-integration-3.2.3.Final.jar:3.2.3.Final]\r\n        at org.jboss.errai.bus.server.DeliveryPlan.deliver(DeliveryPlan.java:47) [errai-bus-3.2.3.Final.jar:3.2.3.Final]\r\n        at org.jboss.errai.bus.server.ServerMessageBusImpl.sendGlobal(ServerMessageBusImpl.java:296) [errai-bus-3.2.3.Final.jar:3.2.3.Final]\r\n        at org.jboss.errai.bus.server.SimpleDispatcher.dispatchGlobal(SimpleDispatcher.java:46) [errai-bus-3.2.3.Final.jar:3.2.3.Final]\r\n        at org.jboss.errai.bus.server.service.ErraiServiceImpl.store(ErraiServiceImpl.java:97) [errai-bus-3.2.3.Final.jar:3.2.3.Final]\r\n        at org.jboss.errai.bus.server.service.ErraiServiceImpl.store(ErraiServiceImpl.java:114) [errai-bus-3.2.3.Final.jar:3.2.3.Final]\r\n        at org.jboss.errai.bus.server.servlet.DefaultBlockingServlet.doPost(DefaultBlockingServlet.java:142) [errai-bus-3.2.3.Final.jar:3.2.3.Final]\r\n        at javax.servlet.http.HttpServlet.service(HttpServlet.java:707) [jboss-servlet-api_3.1_spec-1.0.0.Final.jar:1.0.0.Final]\r\n        at javax.servlet.http.HttpServlet.service(HttpServlet.java:790) [jboss-servlet-api_3.1_spec-1.0.0.Final.jar:1.0.0.Final]\r\n        at io.undertow.servlet.handlers.ServletHandler.handleRequest(ServletHandler.java:86) [undertow-servlet-1.1.8.Final.jar:1.1.8.Final]\r\n        at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:130) [undertow-servlet-1.1.8.Final.jar:1.1.8.Final]\r\n        at org.uberfire.ext.security.server.SecureHeadersFilter.doFilter(SecureHeadersFilter.java:69) [uberfire-servlet-security-0.8.0.Final.jar:0.8.0.Final]\r\n        at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:60) [undertow-servlet-1.1.8.Final.jar:1.1.8.Final]\r\n        at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:132) [undertow-servlet-1.1.8.Final.jar:1.1.8.Final]\r\n        at org.uberfire.ext.security.server.SecurityIntegrationFilter.doFilter(SecurityIntegrationFilter.java:61) [uberfire-servlet-security-0.8.0.Final.jar:0.8.0.Final]\r\n        at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:60) [undertow-servlet-1.1.8.Final.jar:1.1.8.Final]\r\n        at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:132) [undertow-servlet-1.1.8.Final.jar:1.1.8.Final]\r\n        at io.undertow.servlet.handlers.FilterHandler.handleRequest(FilterHandler.java:85) [undertow-servlet-1.1.8.Final.jar:1.1.8.Final]\r\n        at io.undertow.servlet.handlers.security.ServletSecurityRoleHandler.handleRequest(ServletSecurityRoleHandler.java:62) [undertow-servlet-1.1.8.Final.jar:1.1.8.Final]\r\n        at io.undertow.servlet.handlers.ServletDispatchingHandler.handleRequest(ServletDispatchingHandler.java:36) [undertow-servlet-1.1.8.Final.jar:1.1.8.Final]\r\n        at org.wildfly.extension.undertow.security.SecurityContextAssociationHandler.handleRequest(SecurityContextAssociationHandler.java:78)\r\n        at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43) [undertow-core-1.1.8.Final.jar:1.1.8.Final]\r\n        at io.undertow.servlet.handlers.security.SSLInformationAssociationHandler.handleRequest(SSLInformationAssociationHandler.java:131) [undertow-servlet-1.1.8.Final.jar:1.1.8.Final]\r\n        at io.undertow.servlet.handlers.security.ServletAuthenticationCallHandler.handleRequest(ServletAuthenticationCallHandler.java:57) [undertow-servlet-1.1.8.Final.jar:1.1.8.Final]\r\n        at io.undertow.server.handlers.DisableCacheHandler.handleRequest(DisableCacheHandler.java:33) [undertow-core-1.1.8.Final.jar:1.1.8.Final]\r\n        at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43) [undertow-core-1.1.8.Final.jar:1.1.8.Final]\r\n        at io.undertow.security.handlers.AuthenticationConstraintHandler.handleRequest(AuthenticationConstraintHandler.java:51) [undertow-core-1.1.8.Final.jar:1.1.8.Final]\r\n        at io.undertow.security.handlers.AbstractConfidentialityHandler.handleRequest(AbstractConfidentialityHandler.java:46) [undertow-core-1.1.8.Final.jar:1.1.8.Final]\r\n        at io.undertow.servlet.handlers.security.ServletConfidentialityConstraintHandler.handleRequest(ServletConfidentialityConstraintHandler.java:64) [undertow-servlet-1.1.8.Final.jar:1.1.8.Final]\r\n        at io.undertow.servlet.handlers.security.ServletSecurityConstraintHandler.handleRequest(ServletSecurityConstraintHandler.java:56) [undertow-servlet-1.1.8.Final.jar:1.1.8.Final]\r\n        at io.undertow.security.handlers.AuthenticationMechanismsHandler.handleRequest(AuthenticationMechanismsHandler.java:58) [undertow-core-1.1.8.Final.jar:1.1.8.Final]\r\n        at io.undertow.servlet.handlers.security.CachedAuthenticatedSessionHandler.handleRequest(CachedAuthenticatedSessionHandler.java:70) [undertow-servlet-1.1.8.Final.jar:1.1.8.Final]\r\n        at io.undertow.security.handlers.SecurityInitialHandler.handleRequest(SecurityInitialHandler.java:76) [undertow-core-1.1.8.Final.jar:1.1.8.Final]\r\n        at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43) [undertow-core-1.1.8.Final.jar:1.1.8.Final]\r\n        at org.wildfly.extension.undertow.security.jacc.JACCContextIdHandler.handleRequest(JACCContextIdHandler.java:61)\r\n        at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43) [undertow-core-1.1.8.Final.jar:1.1.8.Final]\r\n        at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43) [undertow-core-1.1.8.Final.jar:1.1.8.Final]\r\n        at io.undertow.servlet.handlers.ServletInitialHandler.handleFirstRequest(ServletInitialHandler.java:261) [undertow-servlet-1.1.8.Final.jar:1.1.8.Final]\r\n        at io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(ServletInitialHandler.java:248) [undertow-servlet-1.1.8.Final.jar:1.1.8.Final]\r\n        at io.undertow.servlet.handlers.ServletInitialHandler.access$000(ServletInitialHandler.java:77) [undertow-servlet-1.1.8.Final.jar:1.1.8.Final]\r\n        at io.undertow.servlet.handlers.ServletInitialHandler$1.handleRequest(ServletInitialHandler.java:167) [undertow-servlet-1.1.8.Final.jar:1.1.8.Final]\r\n        at io.undertow.server.Connectors.executeRootHandler(Connectors.java:199) [undertow-core-1.1.8.Final.jar:1.1.8.Final]\r\n        at io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:761) [undertow-core-1.1.8.Final.jar:1.1.8.Final]\r\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142) [rt.jar:1.8.0_72]\r\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617) [rt.jar:1.8.0_72]\r\n        at java.lang.Thread.run(Thread.java:745) [rt.jar:1.8.0_72]\r\n    Caused by: java.lang.RuntimeException: java.lang.RuntimeException: java.lang.RuntimeException: Cannot instance WorkItemHandler bpmstest.test.WI\r\n        at org.jbpm.kie.services.impl.KModuleDeploymentService.deploy(KModuleDeploymentService.java:201) [jbpm-kie-services-6.4.0.Final.jar:6.4.0.Final]\r\n        at org.jbpm.services.cdi.impl.DeploymentServiceCDIImpl$Proxy$_$$_WeldClientProxy.deploy(Unknown Source) [jbpm-services-cdi-6.4.0.Final.jar:6.4.0.Final]\r\n        at org.jbpm.console.ng.bd.backend.server.DeploymentManagerEntryPointImpl.deploy(DeploymentManagerEntryPointImpl.java:194) [jbpm-console-ng-business-domain-backend-6.4.0.Final.jar:6.4.0.Final]\r\n        ... 59 more\r\n    Caused by: java.lang.RuntimeException: java.lang.RuntimeException: Cannot instance WorkItemHandler bpmstest.test.WI\r\n        at org.jbpm.kie.services.impl.AbstractDeploymentService.commonDeploy(AbstractDeploymentService.java:161) [jbpm-kie-services-6.4.0.Final.jar:6.4.0.Final]\r\n        at org.jbpm.kie.services.impl.KModuleDeploymentService.deploy(KModuleDeploymentService.java:196) [jbpm-kie-services-6.4.0.Final.jar:6.4.0.Final]\r\n        ... 61 more\r\n    Caused by: java.lang.RuntimeException: Cannot instance WorkItemHandler bpmstest.test.WI","title":"How to get global variables from jbpm-process within WorkItem","body":"<p>I can successfully retrieve global variables (such as NodeInstance, ProcessInstance and so on) from within the process with help of Script-Task and kcontext-instance; But what if I need retrieve those global variables within WorkItem? I could of course put Script-Task before my WorkItem within Process and then assign a global variable to one of Variable Definitions, in order to use it within WorkItem with getParameter()-method; </p>\n\n<p>But we do understand, that it is double made work, doesn't we?\nSo how could I get global variables within WorkItem without additional Script-Task? I thought firstly, that I could use the same name of the session within WorkItem, such we define by registering WorkItem in KieWorkBench, that's why I created a ProcessContext within my WI as follows:</p>\n\n<pre><code>KieServices ks = KieServices.Factory.get();\nKieContainer kContainer = ks.getKieClasspathContainer();\nKieSession kSession = kContainer.newKieSession(\"ksession-process\");\nProcessContext context = new ProcessContext(kSession);\nMap&lt;String, Object&gt; params = new HashMap&lt;&gt;();\n\npublic void executeWorkItem(WorkItem workItem, WorkItemManager manager) {\n\n    params.put(\"lane\", context.getNodeInstance().getNode().getMetaData().get(\"Lane\").toString());\n    manager.completeWorkItem(workItem.getId(), params);\n\n}\n</code></pre>\n\n<p>With this code snippet within executeWorkItem(), but rather with kcontext in Script-Task I can retrieve successfuly the name of the Lane and assign it to variable, but when I execute the process with this WorkItem I get an Error - WorkItem -- null not by deploying, rather by starting the process; Of course I also registry the same ksession - name as within WorkItem (namely \"ksession-process\") in KieWorkBench, but apparently I cannot use the context this way, as I thought.</p>\n\n<p>So I really appreciate your help! It doesn't really bother, but to make a code resp. BProcess a little bit concisely and without any redundant variables, it pays to ask.</p>\n\n<p>jBPM 6.4, wildfly 8.2</p>\n\n<p><strong>UPDATE:</strong>\nas user livthomas has suggested, instead of WorkItemHandler interface I've tried to extend my class to AbstractWorkiItemHandler as follows:</p>\n\n<pre><code>public class WI extends AbstractWorkItemHandler {\n\npublic WI(StatefulKnowledgeSession ksession) {\n    super(ksession);\n}\n\nKieSession kSession = getSession(); \nProcessContext context = new ProcessContext(kSession);\nMap&lt;String, Object&gt; params = new HashMap&lt;&gt;();\n\npublic void executeWorkItem(WorkItem workItem, WorkItemManager manager) {\n    params.put(\"lane\", context.getNodeInstance().getNode().getMetaData().get(\"Lane\"));\n    manager.completeWorkItem(workItem.getId(), params);\n}\n...\n</code></pre>\n\n<p>And then register it in Project's descriptor.xml as new my_package.WI(ksession); \nUnfortunately I get the RuntimeException: cannot instance WorkItem...</p>\n\n<p><strong>UPDATE2: STACK TRACE</strong></p>\n\n<pre><code>2016-09-13 11:49:59,355 ERROR [org.jbpm.console.ng.bd.backend.server.DeploymentManagerEntryPointImpl] (default task-24) Deployment of unit testing:testing-work-item-handler:1.0 failed: java.lang.RuntimeException: java.lang.RuntimeException: Cannot instance WorkItemHandler bpmstest.test.WI: org.jbpm.console.ng.bd.exception.DeploymentException: java.lang.RuntimeException: java.lang.RuntimeException: Cannot instance WorkItemHandler bpmstest.test.WI\n    at org.jbpm.console.ng.bd.backend.server.DeploymentManagerEntryPointImpl.deploy(DeploymentManagerEntryPointImpl.java:203) [jbpm-console-ng-business-domain-backend-6.4.0.Final.jar:6.4.0.Final]\n    at org.jbpm.console.ng.bd.backend.server.DeploymentManagerEntryPointImpl.deploy(DeploymentManagerEntryPointImpl.java:158) [jbpm-console-ng-business-domain-backend-6.4.0.Final.jar:6.4.0.Final]\n    at org.jbpm.console.ng.bd.backend.server.DeploymentManagerEntryPointImpl.process(DeploymentManagerEntryPointImpl.java:517) [jbpm-console-ng-business-domain-backend-6.4.0.Final.jar:6.4.0.Final]\n    at org.jbpm.console.ng.bd.backend.server.DeploymentManagerEntryPointImpl$Proxy$_$$_WeldClientProxy.process(Unknown Source) [jbpm-console-ng-business-domain-backend-6.4.0.Final.jar:6.4.0.Final]\n    at org.kie.workbench.common.services.backend.builder.BuildServiceImpl.doBuildAndDeploy(BuildServiceImpl.java:178) [kie-wb-common-services-backend-6.4.0.Final.jar:6.4.0.Final]\n    at org.kie.workbench.common.services.backend.builder.BuildServiceImpl.buildAndDeploy(BuildServiceImpl.java:134) [kie-wb-common-services-backend-6.4.0.Final.jar:6.4.0.Final]\n    at org.kie.workbench.common.services.backend.builder.BuildServiceImpl$Proxy$_$$_WeldClientProxy.buildAndDeploy(Unknown Source) [kie-wb-common-services-backend-6.4.0.Final.jar:6.4.0.Final]\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) [rt.jar:1.8.0_72]\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) [rt.jar:1.8.0_72]\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) [rt.jar:1.8.0_72]\n    at java.lang.reflect.Method.invoke(Method.java:498) [rt.jar:1.8.0_72]\n    at org.jboss.errai.bus.server.io.AbstractRPCMethodCallback.invokeMethodFromMessage(AbstractRPCMethodCallback.java:48) [errai-bus-3.2.3.Final.jar:3.2.3.Final]\n    at org.jboss.errai.bus.server.io.ValueReplyRPCEndpointCallback.callback(ValueReplyRPCEndpointCallback.java:22) [errai-bus-3.2.3.Final.jar:3.2.3.Final]\n    at org.jboss.errai.bus.server.io.RemoteServiceCallback.callback(RemoteServiceCallback.java:54) [errai-bus-3.2.3.Final.jar:3.2.3.Final]\n    at org.jboss.errai.cdi.server.CDIExtensionPoints$2.callback(CDIExtensionPoints.java:410) [errai-weld-integration-3.2.3.Final.jar:3.2.3.Final]\n    at org.jboss.errai.bus.server.DeliveryPlan.deliver(DeliveryPlan.java:47) [errai-bus-3.2.3.Final.jar:3.2.3.Final]\n    at org.jboss.errai.bus.server.ServerMessageBusImpl.sendGlobal(ServerMessageBusImpl.java:296) [errai-bus-3.2.3.Final.jar:3.2.3.Final]\n    at org.jboss.errai.bus.server.SimpleDispatcher.dispatchGlobal(SimpleDispatcher.java:46) [errai-bus-3.2.3.Final.jar:3.2.3.Final]\n    at org.jboss.errai.bus.server.service.ErraiServiceImpl.store(ErraiServiceImpl.java:97) [errai-bus-3.2.3.Final.jar:3.2.3.Final]\n    at org.jboss.errai.bus.server.service.ErraiServiceImpl.store(ErraiServiceImpl.java:114) [errai-bus-3.2.3.Final.jar:3.2.3.Final]\n    at org.jboss.errai.bus.server.servlet.DefaultBlockingServlet.doPost(DefaultBlockingServlet.java:142) [errai-bus-3.2.3.Final.jar:3.2.3.Final]\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:707) [jboss-servlet-api_3.1_spec-1.0.0.Final.jar:1.0.0.Final]\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:790) [jboss-servlet-api_3.1_spec-1.0.0.Final.jar:1.0.0.Final]\n    at io.undertow.servlet.handlers.ServletHandler.handleRequest(ServletHandler.java:86) [undertow-servlet-1.1.8.Final.jar:1.1.8.Final]\n    at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:130) [undertow-servlet-1.1.8.Final.jar:1.1.8.Final]\n    at org.uberfire.ext.security.server.SecureHeadersFilter.doFilter(SecureHeadersFilter.java:69) [uberfire-servlet-security-0.8.0.Final.jar:0.8.0.Final]\n    at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:60) [undertow-servlet-1.1.8.Final.jar:1.1.8.Final]\n    at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:132) [undertow-servlet-1.1.8.Final.jar:1.1.8.Final]\n    at org.uberfire.ext.security.server.SecurityIntegrationFilter.doFilter(SecurityIntegrationFilter.java:61) [uberfire-servlet-security-0.8.0.Final.jar:0.8.0.Final]\n    at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:60) [undertow-servlet-1.1.8.Final.jar:1.1.8.Final]\n    at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:132) [undertow-servlet-1.1.8.Final.jar:1.1.8.Final]\n    at io.undertow.servlet.handlers.FilterHandler.handleRequest(FilterHandler.java:85) [undertow-servlet-1.1.8.Final.jar:1.1.8.Final]\n    at io.undertow.servlet.handlers.security.ServletSecurityRoleHandler.handleRequest(ServletSecurityRoleHandler.java:62) [undertow-servlet-1.1.8.Final.jar:1.1.8.Final]\n    at io.undertow.servlet.handlers.ServletDispatchingHandler.handleRequest(ServletDispatchingHandler.java:36) [undertow-servlet-1.1.8.Final.jar:1.1.8.Final]\n    at org.wildfly.extension.undertow.security.SecurityContextAssociationHandler.handleRequest(SecurityContextAssociationHandler.java:78)\n    at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43) [undertow-core-1.1.8.Final.jar:1.1.8.Final]\n    at io.undertow.servlet.handlers.security.SSLInformationAssociationHandler.handleRequest(SSLInformationAssociationHandler.java:131) [undertow-servlet-1.1.8.Final.jar:1.1.8.Final]\n    at io.undertow.servlet.handlers.security.ServletAuthenticationCallHandler.handleRequest(ServletAuthenticationCallHandler.java:57) [undertow-servlet-1.1.8.Final.jar:1.1.8.Final]\n    at io.undertow.server.handlers.DisableCacheHandler.handleRequest(DisableCacheHandler.java:33) [undertow-core-1.1.8.Final.jar:1.1.8.Final]\n    at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43) [undertow-core-1.1.8.Final.jar:1.1.8.Final]\n    at io.undertow.security.handlers.AuthenticationConstraintHandler.handleRequest(AuthenticationConstraintHandler.java:51) [undertow-core-1.1.8.Final.jar:1.1.8.Final]\n    at io.undertow.security.handlers.AbstractConfidentialityHandler.handleRequest(AbstractConfidentialityHandler.java:46) [undertow-core-1.1.8.Final.jar:1.1.8.Final]\n    at io.undertow.servlet.handlers.security.ServletConfidentialityConstraintHandler.handleRequest(ServletConfidentialityConstraintHandler.java:64) [undertow-servlet-1.1.8.Final.jar:1.1.8.Final]\n    at io.undertow.servlet.handlers.security.ServletSecurityConstraintHandler.handleRequest(ServletSecurityConstraintHandler.java:56) [undertow-servlet-1.1.8.Final.jar:1.1.8.Final]\n    at io.undertow.security.handlers.AuthenticationMechanismsHandler.handleRequest(AuthenticationMechanismsHandler.java:58) [undertow-core-1.1.8.Final.jar:1.1.8.Final]\n    at io.undertow.servlet.handlers.security.CachedAuthenticatedSessionHandler.handleRequest(CachedAuthenticatedSessionHandler.java:70) [undertow-servlet-1.1.8.Final.jar:1.1.8.Final]\n    at io.undertow.security.handlers.SecurityInitialHandler.handleRequest(SecurityInitialHandler.java:76) [undertow-core-1.1.8.Final.jar:1.1.8.Final]\n    at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43) [undertow-core-1.1.8.Final.jar:1.1.8.Final]\n    at org.wildfly.extension.undertow.security.jacc.JACCContextIdHandler.handleRequest(JACCContextIdHandler.java:61)\n    at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43) [undertow-core-1.1.8.Final.jar:1.1.8.Final]\n    at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43) [undertow-core-1.1.8.Final.jar:1.1.8.Final]\n    at io.undertow.servlet.handlers.ServletInitialHandler.handleFirstRequest(ServletInitialHandler.java:261) [undertow-servlet-1.1.8.Final.jar:1.1.8.Final]\n    at io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(ServletInitialHandler.java:248) [undertow-servlet-1.1.8.Final.jar:1.1.8.Final]\n    at io.undertow.servlet.handlers.ServletInitialHandler.access$000(ServletInitialHandler.java:77) [undertow-servlet-1.1.8.Final.jar:1.1.8.Final]\n    at io.undertow.servlet.handlers.ServletInitialHandler$1.handleRequest(ServletInitialHandler.java:167) [undertow-servlet-1.1.8.Final.jar:1.1.8.Final]\n    at io.undertow.server.Connectors.executeRootHandler(Connectors.java:199) [undertow-core-1.1.8.Final.jar:1.1.8.Final]\n    at io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:761) [undertow-core-1.1.8.Final.jar:1.1.8.Final]\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142) [rt.jar:1.8.0_72]\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617) [rt.jar:1.8.0_72]\n    at java.lang.Thread.run(Thread.java:745) [rt.jar:1.8.0_72]\nCaused by: java.lang.RuntimeException: java.lang.RuntimeException: java.lang.RuntimeException: Cannot instance WorkItemHandler bpmstest.test.WI\n    at org.jbpm.kie.services.impl.KModuleDeploymentService.deploy(KModuleDeploymentService.java:201) [jbpm-kie-services-6.4.0.Final.jar:6.4.0.Final]\n    at org.jbpm.services.cdi.impl.DeploymentServiceCDIImpl$Proxy$_$$_WeldClientProxy.deploy(Unknown Source) [jbpm-services-cdi-6.4.0.Final.jar:6.4.0.Final]\n    at org.jbpm.console.ng.bd.backend.server.DeploymentManagerEntryPointImpl.deploy(DeploymentManagerEntryPointImpl.java:194) [jbpm-console-ng-business-domain-backend-6.4.0.Final.jar:6.4.0.Final]\n    ... 59 more\nCaused by: java.lang.RuntimeException: java.lang.RuntimeException: Cannot instance WorkItemHandler bpmstest.test.WI\n    at org.jbpm.kie.services.impl.AbstractDeploymentService.commonDeploy(AbstractDeploymentService.java:161) [jbpm-kie-services-6.4.0.Final.jar:6.4.0.Final]\n    at org.jbpm.kie.services.impl.KModuleDeploymentService.deploy(KModuleDeploymentService.java:196) [jbpm-kie-services-6.4.0.Final.jar:6.4.0.Final]\n    ... 61 more\nCaused by: java.lang.RuntimeException: Cannot instance WorkItemHandler bpmstest.test.WI\n</code></pre>\n"},{"tags":["java","clojure","base64","urlencode"],"comments":[{"owner":{"account_id":203680,"reputation":112068,"user_id":451475,"accept_rate":100,"display_name":"zaph"},"score":0,"creation_date":1467318081,"post_id":38132016,"comment_id":63696300,"body_markdown":"Base64 outputs multiples of 4-bytes, if the input does not require that the output is padded with &quot;=&quot; characters, that is how Base64 works. It is possible to remove the &quot;=&quot; characters and sone decoders might accept that but not most. You could restore and deleted prior to decoding based on the Base64 length, but this is not recommended. Just leave the padding, that is the common practice.","body":"Base64 outputs multiples of 4-bytes, if the input does not require that the output is padded with &quot;=&quot; characters, that is how Base64 works. It is possible to remove the &quot;=&quot; characters and sone decoders might accept that but not most. You could restore and deleted prior to decoding based on the Base64 length, but this is not recommended. Just leave the padding, that is the common practice."},{"owner":{"account_id":2607631,"reputation":20116,"user_id":2258453,"display_name":"noisesmith"},"score":1,"creation_date":1467347824,"post_id":38132016,"comment_id":63704906,"body_markdown":"to be clear, base64 is not an encryption method, it is an encoding","body":"to be clear, base64 is not an encryption method, it is an encoding"}],"answers":[{"tags":[],"owner":{"account_id":101544,"reputation":1205,"user_id":273115,"accept_rate":100,"display_name":"Garrett Rowe"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1467318248,"creation_date":1467318248,"answer_id":38132602,"question_id":38132016,"body_markdown":"You have to call `withoutPadding` on the Encoder itself:\r\n\r\n    user&gt; (import java.util.Base64)\r\n    java.util.Base64\r\n    user&gt; (let [encoder (Base64/getUrlEncoder)]\r\n            (String. (.encode encoder (.getBytes &quot;Hello StackOverflow&quot;))))\r\n    &quot;SGVsbG8gU3RhY2tPdmVyZmxvdw==&quot;\r\n    user&gt; (let [encoder (.withoutPadding (Base64/getUrlEncoder))]\r\n            (String. (.encode encoder (.getBytes &quot;Hello StackOverflow&quot;))))\r\n    &quot;SGVsbG8gU3RhY2tPdmVyZmxvdw&quot;\r\n\r\n","title":"How to get Base64-encoded data without padding?","body":"<p>You have to call <code>withoutPadding</code> on the Encoder itself:</p>\n\n<pre><code>user&gt; (import java.util.Base64)\njava.util.Base64\nuser&gt; (let [encoder (Base64/getUrlEncoder)]\n        (String. (.encode encoder (.getBytes \"Hello StackOverflow\"))))\n\"SGVsbG8gU3RhY2tPdmVyZmxvdw==\"\nuser&gt; (let [encoder (.withoutPadding (Base64/getUrlEncoder))]\n        (String. (.encode encoder (.getBytes \"Hello StackOverflow\"))))\n\"SGVsbG8gU3RhY2tPdmVyZmxvdw\"\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6531900,"reputation":58,"user_id":5052801,"display_name":"Zakariae BEN ALLAL"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699380776,"creation_date":1699380776,"answer_id":77440545,"question_id":38132016,"body_markdown":"For **JAVA 21**, i used this code : \r\n\r\n\r\n```java\r\nBase64.getUrlEncoder().withoutPadding().encodeToString(bytes)\r\n```","title":"How to get Base64-encoded data without padding?","body":"<p>For <strong>JAVA 21</strong>, i used this code :</p>\n<pre class=\"lang-java prettyprint-override\"><code>Base64.getUrlEncoder().withoutPadding().encodeToString(bytes)\n</code></pre>\n"}],"owner":{"account_id":7435541,"reputation":43,"user_id":5655114,"display_name":"Robin"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6062,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":38132602,"answer_count":2,"score":1,"last_activity_date":1699380776,"creation_date":1467316112,"question_id":38132016,"body_markdown":"I&#39;m very new to Clojure. I don&#39;t have any experience with Java and its library functions. I wrote a function in clojure which returns Base64-encoded data using java.util.Base64/getUrlEncoder. My code looks like this:\r\n\r\n    user&gt; (import java.util.Base64)\r\n    java.util.Base64\r\n    user&gt; (let [encoder (Base64/getUrlEncoder)]\r\n            (String. (.encode encoder (.getBytes &quot;Hello StackOverflow&quot;))))\r\n    &quot;SGVsbG8gU3RhY2tPdmVyZmxvdw==&quot;\r\n\r\nAs you can see, the output contains padding: two equals signs at the end. I don&#39;t want that padding.\r\n\r\nI see that Java&#39;s Base64.Encoder class has [a &#39;withoutPadding()&#39; method](https://docs.oracle.com/javase/8/docs/api/java/util/Base64.Encoder.html#withoutPadding--) for this purpose, but I can&#39;t figure out how to use it in Clojure. I tried something like this:\r\n\r\n    user&gt; (let [encoder (Base64/getUrlEncoder))]\r\n            (doto (java.util.Base64/Encoder (.withoutPadding (String. (.encode encoder (.getBytes &quot;Hello StackOverflow&quot;))))))\r\n\r\nbut it didn&#39;t work. How can I do this?","title":"How to get Base64-encoded data without padding?","body":"<p>I'm very new to Clojure. I don't have any experience with Java and its library functions. I wrote a function in clojure which returns Base64-encoded data using java.util.Base64/getUrlEncoder. My code looks like this:</p>\n<pre><code>user&gt; (import java.util.Base64)\njava.util.Base64\nuser&gt; (let [encoder (Base64/getUrlEncoder)]\n        (String. (.encode encoder (.getBytes &quot;Hello StackOverflow&quot;))))\n&quot;SGVsbG8gU3RhY2tPdmVyZmxvdw==&quot;\n</code></pre>\n<p>As you can see, the output contains padding: two equals signs at the end. I don't want that padding.</p>\n<p>I see that Java's Base64.Encoder class has <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Base64.Encoder.html#withoutPadding--\" rel=\"nofollow noreferrer\">a 'withoutPadding()' method</a> for this purpose, but I can't figure out how to use it in Clojure. I tried something like this:</p>\n<pre><code>user&gt; (let [encoder (Base64/getUrlEncoder))]\n        (doto (java.util.Base64/Encoder (.withoutPadding (String. (.encode encoder (.getBytes &quot;Hello StackOverflow&quot;))))))\n</code></pre>\n<p>but it didn't work. How can I do this?</p>\n"},{"tags":["java","apache-kafka","protocol-buffers","apache-kafka-streams","classcastexception"],"owner":{"account_id":15821185,"reputation":21,"user_id":11415477,"display_name":"Jyothi Siva"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1699380724,"creation_date":1699380724,"question_id":77440534,"body_markdown":"I have stream of protobuf messages with one type AccountHolder.proto with {name,balance,time} as fields and doing some aggregations on the data content and writing the result as protobuf message of another format ie,pojo of ProcessedStream.proto {count,balance,time}. In StreamOperation.java, at aggregate() its giving class cast exception. Attaching the java classes. I am new to kafka stream, any help would be greatly appreciated.\r\n\r\n\r\n```\r\nStreamOperation.java \r\n{\r\nKafkaProtobufSerde&lt;AccountHolderOuterClass.AccountHolder&gt; accountHolderSerde = serde.accHolderSerde(props);\r\n        KafkaProtobufSerde&lt;AccountHolderOuterClass.AccountHolder&gt; processedStreamSerde = serde.accHolderSerde(props);\r\n        StreamsBuilder builder = new StreamsBuilder();\r\n        KStream&lt;String, AccountHolderOuterClass.AccountHolder&gt; stream = builder.stream(&quot;streams-test-app-input&quot;, Consumed.with(Serdes.String(),accountHolderSerde));\r\n        AccountHolderOuterClass.AccountHolder initialValues = AccountHolderOuterClass.AccountHolder.newBuilder()\r\n                .setAmount(0).setName(null).setTime(Instant.ofEpochMilli(0L).toString())\r\n                .build();\r\n\r\n        KTable&lt;String, ProcessedStreamOuterClass.ProcessedStream&gt; bankbalance = stream.groupByKey(Grouped.with(Serdes.String(),accountHolderSerde))\r\n                .aggregate(() -&gt; initialValues,(key, transaction, balance) -&gt; balanceCalc(transaction,  balance), Named.as(&quot;balance-agg&quot;),Materialized.with(Serdes.String(),accountHolderSerde));\r\n\r\n        bankbalance.toStream().to(&quot;bank-trans-output&quot;,Produced.with(Serdes.String(),processedStreamSerde));\r\n\r\n        KafkaStreams streams = new KafkaStreams(builder.build(),props);\r\n        streams.start();\r\n}\r\nprivate static ProcessedStreamOuterClass.ProcessedStream balanceCalc(AccountHolderOuterClass.AccountHolder transaction, AccountHolderOuterClass.AccountHolder balance){\r\n\r\n        Long bal_time = Instant.parse(balance.getTime()).toEpochMilli();\r\n        Long trans_time = Instant.parse(transaction.getTime()).toEpochMilli();\r\n        Instant max = Instant.ofEpochMilli(Math.max(bal_time,trans_time));\r\n\r\n        int count = 1;\r\n        count++;\r\n        ProcessedStreamOuterClass.ProcessedStream totalBalance = ProcessedStreamOuterClass.ProcessedStream.newBuilder()\r\n                .setBalance(balance.getAmount()+transaction.getAmount())\r\n                .setCount(Integer.toString(count))\r\n                .setTime(max.toString())\r\n                .build();\r\n\r\n        return totalBalance;\r\n\r\n    }\r\n\r\n```\r\n\r\n\r\n```\r\n`AccountHolder.proto`\r\nsyntax = &quot;proto3&quot;;\r\npackage holder;\r\noption java_package = &quot;dk.danske.model.accholder&quot;;\r\n\r\nmessage AccountHolder{\r\n  string name=1;\r\n  int32 amount=2;\r\n  string time=3;\r\n\r\n}\r\n```\r\n\r\n\r\n```\r\n`ProtobufSerde.java`\r\n\r\n public KafkaProtobufSerde&lt;AccountHolderOuterClass.AccountHolder&gt; accHolderSerde(Properties envProps) {\r\n        final KafkaProtobufSerde&lt;AccountHolderOuterClass.AccountHolder&gt; protobufSerde = new KafkaProtobufSerde&lt;&gt;();\r\n        Map&lt;String, String&gt; serdeConfig = new HashMap&lt;&gt;();\r\n        serdeConfig.put(SCHEMA_REGISTRY_URL_CONFIG, envProps.getProperty(&quot;schema.registry.url&quot;));\r\n        protobufSerde.configure(serdeConfig, false);\r\n        return protobufSerde;\r\n    }\r\npublic KafkaProtobufSerde&lt;ProcessedStreamOuterClass.ProcessedStream&gt; processedStreamSerde(Properties envProps) {\r\n        final KafkaProtobufSerde&lt;ProcessedStreamOuterClass.ProcessedStream&gt; protobufSerde = new KafkaProtobufSerde&lt;&gt;();\r\n        Map&lt;String, String&gt; serdeConfig = new HashMap&lt;&gt;();\r\n        serdeConfig.put(SCHEMA_REGISTRY_URL_CONFIG, envProps.getProperty(&quot;schema.registry.url&quot;));\r\n        protobufSerde.configure(serdeConfig, false);\r\n        return protobufSerde;\r\n    }\r\n```\r\n\r\n\r\n```\r\n`KafkaProducer.java`\r\n\r\n\r\n Properties props = new Properties();\r\n        props.put(&quot;bootstrap.servers&quot;, &quot;http://127.0.0.1:9200&quot;);\r\n        props.put(&quot;key.serializer&quot;, &quot;org.apache.kafka.common.serialization.StringSerializer&quot;);\r\n        props.put(&quot;value.serializer&quot;, &quot;io.confluent.kafka.serializers.protobuf.KafkaProtobufSerializer&quot;);\r\n\r\n        props.put(&quot;schema.registry.url&quot;, &quot;http://localhost:3200&quot;);\r\n\r\n        KafkaProducer&lt;String, AccountHolderOuterClass.AccountHolder&gt; producer = new KafkaProducer&lt;&gt;(props);\r\n\r\n        List&lt;String&gt; nameList = new ArrayList&lt;&gt;();\r\n        nameList.add(&quot;Johny&quot;);\r\n        nameList.add(&quot;Thomas&quot;);\r\n        nameList.add(&quot;Roger&quot;);\r\n        nameList.add(&quot;Micheal&quot;);\r\n        nameList.add(&quot;William&quot;);\r\n        nameList.add(&quot;Jonas&quot;);\r\n        nameList.add(&quot;Mike&quot;);\r\n        nameList.add(&quot;Kim&quot;);\r\n\r\n        for( String name:nameList){\r\n            producer.send(createTransaction(name));\r\n            Thread.sleep(100);\r\n            log.info(&quot;proto message sent to kafka producer&quot;,createTransaction(name));\r\n        }\r\n       producer.flush();\r\n        producer.close();\r\n  }\r\n\r\n    private static ProducerRecord&lt;String, AccountHolderOuterClass.AccountHolder&gt; createTransaction(String name) {\r\n\r\n\r\n\r\n        AccountHolderOuterClass.AccountHolder accountHolder = AccountHolderOuterClass.AccountHolder.newBuilder()\r\n\r\n                                                              .setAmount(ThreadLocalRandom.current().nextInt(0,9000))\r\n                                                              .setName(name)\r\n                                                              .setTime(Instant.now().toString())\r\n                                                               .build();\r\n\r\n        return new ProducerRecord&lt;&gt;(TOPIC,name,accountHolder);\r\n\r\n\r\n    }\r\n```\r\n\r\n\r\n```\r\n`pom.xml`\r\n\r\n &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.kafka&lt;/groupId&gt;\r\n            &lt;artifactId&gt;kafka-streams&lt;/artifactId&gt;\r\n            &lt;version&gt;3.5.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.confluent&lt;/groupId&gt;\r\n            &lt;artifactId&gt;kafka-streams-protobuf-serde&lt;/artifactId&gt;\r\n            &lt;version&gt;7.5.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\r\n            &lt;version&gt;2.0.9&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;slf4j-log4j12&lt;/artifactId&gt;\r\n            &lt;version&gt;2.0.9&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.google.protobuf&lt;/groupId&gt;\r\n            &lt;artifactId&gt;protobuf-java&lt;/artifactId&gt;\r\n            &lt;version&gt;3.24.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.confluent&lt;/groupId&gt;\r\n            &lt;artifactId&gt;kafka-protobuf-serializer&lt;/artifactId&gt;\r\n            &lt;version&gt;5.5.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n &lt;/dependencies&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.8.1&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;source&gt;17&lt;/source&gt;\r\n                    &lt;target&gt;17&lt;/target&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;com.github.os72&lt;/groupId&gt;\r\n                &lt;artifactId&gt;protoc-jar-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.1.0.1&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;phase&gt;generate-sources&lt;/phase&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;run&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;protocVersion&gt;3.1.0&lt;/protocVersion&gt;\r\n                            &lt;inputDirectories&gt;\r\n                                &lt;include&gt;src/main/resources&lt;/include&gt;\r\n                            &lt;/inputDirectories&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n```\r\n\r\n\r\n\r\n\r\n\r\nExpecting: map the content of AccountHolder to ProcessedStream after aggregation of total balance amount in AccountHolder","title":"Kafka stream with protobuf messages","body":"<p>I have stream of protobuf messages with one type AccountHolder.proto with {name,balance,time} as fields and doing some aggregations on the data content and writing the result as protobuf message of another format ie,pojo of ProcessedStream.proto {count,balance,time}. In StreamOperation.java, at aggregate() its giving class cast exception. Attaching the java classes. I am new to kafka stream, any help would be greatly appreciated.</p>\n<pre><code>StreamOperation.java \n{\nKafkaProtobufSerde&lt;AccountHolderOuterClass.AccountHolder&gt; accountHolderSerde = serde.accHolderSerde(props);\n        KafkaProtobufSerde&lt;AccountHolderOuterClass.AccountHolder&gt; processedStreamSerde = serde.accHolderSerde(props);\n        StreamsBuilder builder = new StreamsBuilder();\n        KStream&lt;String, AccountHolderOuterClass.AccountHolder&gt; stream = builder.stream(&quot;streams-test-app-input&quot;, Consumed.with(Serdes.String(),accountHolderSerde));\n        AccountHolderOuterClass.AccountHolder initialValues = AccountHolderOuterClass.AccountHolder.newBuilder()\n                .setAmount(0).setName(null).setTime(Instant.ofEpochMilli(0L).toString())\n                .build();\n\n        KTable&lt;String, ProcessedStreamOuterClass.ProcessedStream&gt; bankbalance = stream.groupByKey(Grouped.with(Serdes.String(),accountHolderSerde))\n                .aggregate(() -&gt; initialValues,(key, transaction, balance) -&gt; balanceCalc(transaction,  balance), Named.as(&quot;balance-agg&quot;),Materialized.with(Serdes.String(),accountHolderSerde));\n\n        bankbalance.toStream().to(&quot;bank-trans-output&quot;,Produced.with(Serdes.String(),processedStreamSerde));\n\n        KafkaStreams streams = new KafkaStreams(builder.build(),props);\n        streams.start();\n}\nprivate static ProcessedStreamOuterClass.ProcessedStream balanceCalc(AccountHolderOuterClass.AccountHolder transaction, AccountHolderOuterClass.AccountHolder balance){\n\n        Long bal_time = Instant.parse(balance.getTime()).toEpochMilli();\n        Long trans_time = Instant.parse(transaction.getTime()).toEpochMilli();\n        Instant max = Instant.ofEpochMilli(Math.max(bal_time,trans_time));\n\n        int count = 1;\n        count++;\n        ProcessedStreamOuterClass.ProcessedStream totalBalance = ProcessedStreamOuterClass.ProcessedStream.newBuilder()\n                .setBalance(balance.getAmount()+transaction.getAmount())\n                .setCount(Integer.toString(count))\n                .setTime(max.toString())\n                .build();\n\n        return totalBalance;\n\n    }\n\n</code></pre>\n<pre><code>`AccountHolder.proto`\nsyntax = &quot;proto3&quot;;\npackage holder;\noption java_package = &quot;dk.danske.model.accholder&quot;;\n\nmessage AccountHolder{\n  string name=1;\n  int32 amount=2;\n  string time=3;\n\n}\n</code></pre>\n<pre><code>`ProtobufSerde.java`\n\n public KafkaProtobufSerde&lt;AccountHolderOuterClass.AccountHolder&gt; accHolderSerde(Properties envProps) {\n        final KafkaProtobufSerde&lt;AccountHolderOuterClass.AccountHolder&gt; protobufSerde = new KafkaProtobufSerde&lt;&gt;();\n        Map&lt;String, String&gt; serdeConfig = new HashMap&lt;&gt;();\n        serdeConfig.put(SCHEMA_REGISTRY_URL_CONFIG, envProps.getProperty(&quot;schema.registry.url&quot;));\n        protobufSerde.configure(serdeConfig, false);\n        return protobufSerde;\n    }\npublic KafkaProtobufSerde&lt;ProcessedStreamOuterClass.ProcessedStream&gt; processedStreamSerde(Properties envProps) {\n        final KafkaProtobufSerde&lt;ProcessedStreamOuterClass.ProcessedStream&gt; protobufSerde = new KafkaProtobufSerde&lt;&gt;();\n        Map&lt;String, String&gt; serdeConfig = new HashMap&lt;&gt;();\n        serdeConfig.put(SCHEMA_REGISTRY_URL_CONFIG, envProps.getProperty(&quot;schema.registry.url&quot;));\n        protobufSerde.configure(serdeConfig, false);\n        return protobufSerde;\n    }\n</code></pre>\n<pre><code>`KafkaProducer.java`\n\n\n Properties props = new Properties();\n        props.put(&quot;bootstrap.servers&quot;, &quot;http://127.0.0.1:9200&quot;);\n        props.put(&quot;key.serializer&quot;, &quot;org.apache.kafka.common.serialization.StringSerializer&quot;);\n        props.put(&quot;value.serializer&quot;, &quot;io.confluent.kafka.serializers.protobuf.KafkaProtobufSerializer&quot;);\n\n        props.put(&quot;schema.registry.url&quot;, &quot;http://localhost:3200&quot;);\n\n        KafkaProducer&lt;String, AccountHolderOuterClass.AccountHolder&gt; producer = new KafkaProducer&lt;&gt;(props);\n\n        List&lt;String&gt; nameList = new ArrayList&lt;&gt;();\n        nameList.add(&quot;Johny&quot;);\n        nameList.add(&quot;Thomas&quot;);\n        nameList.add(&quot;Roger&quot;);\n        nameList.add(&quot;Micheal&quot;);\n        nameList.add(&quot;William&quot;);\n        nameList.add(&quot;Jonas&quot;);\n        nameList.add(&quot;Mike&quot;);\n        nameList.add(&quot;Kim&quot;);\n\n        for( String name:nameList){\n            producer.send(createTransaction(name));\n            Thread.sleep(100);\n            log.info(&quot;proto message sent to kafka producer&quot;,createTransaction(name));\n        }\n       producer.flush();\n        producer.close();\n  }\n\n    private static ProducerRecord&lt;String, AccountHolderOuterClass.AccountHolder&gt; createTransaction(String name) {\n\n\n\n        AccountHolderOuterClass.AccountHolder accountHolder = AccountHolderOuterClass.AccountHolder.newBuilder()\n\n                                                              .setAmount(ThreadLocalRandom.current().nextInt(0,9000))\n                                                              .setName(name)\n                                                              .setTime(Instant.now().toString())\n                                                               .build();\n\n        return new ProducerRecord&lt;&gt;(TOPIC,name,accountHolder);\n\n\n    }\n</code></pre>\n<pre><code>`pom.xml`\n\n &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.kafka&lt;/groupId&gt;\n            &lt;artifactId&gt;kafka-streams&lt;/artifactId&gt;\n            &lt;version&gt;3.5.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.confluent&lt;/groupId&gt;\n            &lt;artifactId&gt;kafka-streams-protobuf-serde&lt;/artifactId&gt;\n            &lt;version&gt;7.5.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n            &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\n            &lt;version&gt;2.0.9&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n            &lt;artifactId&gt;slf4j-log4j12&lt;/artifactId&gt;\n            &lt;version&gt;2.0.9&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.protobuf&lt;/groupId&gt;\n            &lt;artifactId&gt;protobuf-java&lt;/artifactId&gt;\n            &lt;version&gt;3.24.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.confluent&lt;/groupId&gt;\n            &lt;artifactId&gt;kafka-protobuf-serializer&lt;/artifactId&gt;\n            &lt;version&gt;5.5.1&lt;/version&gt;\n        &lt;/dependency&gt;\n &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.8.1&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;source&gt;17&lt;/source&gt;\n                    &lt;target&gt;17&lt;/target&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;com.github.os72&lt;/groupId&gt;\n                &lt;artifactId&gt;protoc-jar-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.1.0.1&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;phase&gt;generate-sources&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;run&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;configuration&gt;\n                            &lt;protocVersion&gt;3.1.0&lt;/protocVersion&gt;\n                            &lt;inputDirectories&gt;\n                                &lt;include&gt;src/main/resources&lt;/include&gt;\n                            &lt;/inputDirectories&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n</code></pre>\n<p>Expecting: map the content of AccountHolder to ProcessedStream after aggregation of total balance amount in AccountHolder</p>\n"},{"tags":["java","compiler-errors","classpath"],"comments":[{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":1,"creation_date":1699382302,"post_id":77440475,"comment_id":136523800,"body_markdown":"`src` should not be part of the classpath.","body":"<code>src</code> should not be part of the classpath."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1699396755,"post_id":77440475,"comment_id":136525952,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"owner":{"account_id":29848567,"reputation":1,"user_id":22875019,"display_name":"clcman"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1699380493,"creation_date":1699380150,"question_id":77440475,"body_markdown":"I am trying to wrangle my professor&#39;s code which is organized in the following fashion:\r\n```\r\nhome directory\r\n  src\r\n    bn\r\n      base\r\n      core\r\n      parser\r\n    util\r\n```\r\n\r\nI&#39;ve managed to compile it all, but trying commands such as `java -cp src/bn/base Main` aren&#39;t working. I have tried variations of this as well but each time I get the following error message: \r\n```\r\nError: Could not find or load main class Main\r\nCaused by: java.lang.NoClassDefFoundError: bn/base/Main (wrong name: Main)\r\n```\r\n(yes i have checked there is Main.java and Main.class in this directory)\r\n\r\n","title":"ClassNotFoundException with Java&#39;s -cp on Mac OS X","body":"<p>I am trying to wrangle my professor's code which is organized in the following fashion:</p>\n<pre><code>home directory\n  src\n    bn\n      base\n      core\n      parser\n    util\n</code></pre>\n<p>I've managed to compile it all, but trying commands such as <code>java -cp src/bn/base Main</code> aren't working. I have tried variations of this as well but each time I get the following error message:</p>\n<pre><code>Error: Could not find or load main class Main\nCaused by: java.lang.NoClassDefFoundError: bn/base/Main (wrong name: Main)\n</code></pre>\n<p>(yes i have checked there is Main.java and Main.class in this directory)</p>\n"},{"tags":["java","algorithm","kotlin"],"answers":[{"comments":[{"owner":{"account_id":29848097,"reputation":3,"user_id":22874670,"display_name":"MbeezyP"},"score":0,"creation_date":1699377395,"post_id":77440172,"comment_id":136522983,"body_markdown":"You&#39;re right, unfortunately this did not solve the issue tho","body":"You&#39;re right, unfortunately this did not solve the issue tho"},{"owner":{"account_id":29848097,"reputation":3,"user_id":22874670,"display_name":"MbeezyP"},"score":0,"creation_date":1699378443,"post_id":77440172,"comment_id":136523161,"body_markdown":"I changed the map type to mutableMap but it doesn&#39;t fix the error.","body":"I changed the map type to mutableMap but it doesn&#39;t fix the error."},{"owner":{"account_id":29848097,"reputation":3,"user_id":22874670,"display_name":"MbeezyP"},"score":0,"creation_date":1699379542,"post_id":77440172,"comment_id":136523371,"body_markdown":"Not sure if I got you wrong initially, but I changed the code from resourceAllocation.add(mapOf(... to mutableMapOf, nothing else. I still get the initial error. Please excuse if I understood you wrong and feel free to elaborate.","body":"Not sure if I got you wrong initially, but I changed the code from resourceAllocation.add(mapOf(... to mutableMapOf, nothing else. I still get the initial error. Please excuse if I understood you wrong and feel free to elaborate."},{"owner":{"account_id":19118721,"reputation":6319,"user_id":13963086,"display_name":"k314159"},"score":0,"creation_date":1699379938,"post_id":77440172,"comment_id":136523431,"body_markdown":"@MbeezyP did you miss the other important change: val resourceAllocation = mutableListOf **MutableMap** ?","body":"@MbeezyP did you miss the other important change: val resourceAllocation = mutableListOf <b>MutableMap</b> ?"},{"owner":{"account_id":29848097,"reputation":3,"user_id":22874670,"display_name":"MbeezyP"},"score":1,"creation_date":1699380313,"post_id":77440172,"comment_id":136523481,"body_markdown":"@k314159 omg yes I did, I&#39;m so dumb... I spent one hour troubleshooting this stuff :&#39;(","body":"@k314159 omg yes I did, I&#39;m so dumb... I spent one hour troubleshooting this stuff :&#39;("}],"tags":[],"owner":{"account_id":10259286,"reputation":3326,"user_id":19090048,"display_name":"mandy8055"},"comment_count":5,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1699380433,"creation_date":1699376811,"answer_id":77440172,"question_id":77440081,"body_markdown":"In the code you&#39;re using an **immutable `Map&lt;String, Any&gt;`** which doesn&#39;t allow you to modify its content. You just need to use [`MutableMap`](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/-mutable-map/) which will allow you to change the `usage` values. Something like:\r\n\r\n```kotlin\r\nfun lastFinishMetric(currentSchedulePlan: List&lt;Map&lt;String, Any&gt;&gt;): Triple&lt;Int, Int, Double&gt; {\r\n    var constraintResource = 0\r\n    val resourceAllocation = mutableListOf&lt;MutableMap&lt;String, Any&gt;&gt;() // &lt;---notice this\r\n    // Rest of code...\r\n        // If the resource has not been visited yet, include it on the list\r\n        if (!foundResource) {\r\n            resourceAllocation.add(mutableMapOf(&quot;resource&quot; to taskResource, &quot;usage&quot; to taskDuration)) \r\n                                 // ^^^^^^^^^^ Notice this\r\n        }\r\n    }\r\n\r\n    // Finds the constraint resource (with highest allocation)\r\n    val constraint = resourceAllocation.maxBy { it[&quot;usage&quot;] as Int }\r\n    constraintResource = constraint.get(&quot;resource&quot;) as Int // &lt;-- Notice this\r\n    val constraintUsage = constraint.get(&quot;usage&quot;) as Int // &lt;-- Notice this\r\n\r\n    // Finds the constraint occupation rate over the scheduling horizon\r\n    val occupationRate = constraintUsage.toDouble().div(latestFinish.toDouble())\r\n\r\n    return Triple(latestFinish, constraintResource, occupationRate)\r\n}\r\n```","title":"No set method providing array access error kotlin","body":"<p>In the code you're using an <strong>immutable <code>Map&lt;String, Any&gt;</code></strong> which doesn't allow you to modify its content. You just need to use <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/-mutable-map/\" rel=\"nofollow noreferrer\"><code>MutableMap</code></a> which will allow you to change the <code>usage</code> values. Something like:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>fun lastFinishMetric(currentSchedulePlan: List&lt;Map&lt;String, Any&gt;&gt;): Triple&lt;Int, Int, Double&gt; {\n    var constraintResource = 0\n    val resourceAllocation = mutableListOf&lt;MutableMap&lt;String, Any&gt;&gt;() // &lt;---notice this\n    // Rest of code...\n        // If the resource has not been visited yet, include it on the list\n        if (!foundResource) {\n            resourceAllocation.add(mutableMapOf(&quot;resource&quot; to taskResource, &quot;usage&quot; to taskDuration)) \n                                 // ^^^^^^^^^^ Notice this\n        }\n    }\n\n    // Finds the constraint resource (with highest allocation)\n    val constraint = resourceAllocation.maxBy { it[&quot;usage&quot;] as Int }\n    constraintResource = constraint.get(&quot;resource&quot;) as Int // &lt;-- Notice this\n    val constraintUsage = constraint.get(&quot;usage&quot;) as Int // &lt;-- Notice this\n\n    // Finds the constraint occupation rate over the scheduling horizon\n    val occupationRate = constraintUsage.toDouble().div(latestFinish.toDouble())\n\n    return Triple(latestFinish, constraintResource, occupationRate)\n}\n</code></pre>\n"}],"owner":{"account_id":29848097,"reputation":3,"user_id":22874670,"display_name":"MbeezyP"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":79,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77440172,"answer_count":1,"score":0,"last_activity_date":1699380433,"creation_date":1699376089,"question_id":77440081,"body_markdown":"I&#39;m pretty new to Kotlin and just can&#39;t get this code to work:\r\n\r\n```\r\nfor (resource in resourceAllocation) {\r\n    if (resource[&quot;resource&quot;] == taskResource) {\r\n        resource[&quot;usage&quot;] += taskDuration\r\n        foundResource = true\r\n    }\r\n}\r\n```\r\n\r\nit just won&#39;t let me assign any value to resource[&quot;usage&quot;], no matter which datatypes I use.\r\n\r\nI also tried the following, which did not fix the issue:\r\n\r\n```\r\nfor (resource in resourceAllocation) {\r\n    if (resource[&quot;resource&quot;] == taskResource) {\r\n        val currentUsage = resource[&quot;usage&quot;] as Int\r\n        resource[&quot;usage&quot;] = currentUsage + taskDuration\r\n        foundResource = true\r\n    }\r\n}\r\n```\r\n\r\nHere&#39;s the full code:\r\n\r\n```\r\nfun lastFinishMetric(currentSchedulePlan: List&lt;Map&lt;String, Any&gt;&gt;): Triple&lt;Int, Int, Double&gt; {\r\n    var constraintResource = 0\r\n    val resourceAllocation = mutableListOf&lt;Map&lt;String, Any&gt;&gt;()\r\n    var latestFinish = 0\r\n\r\n    for (task in currentSchedulePlan) {\r\n        val taskFinish = task[&quot;finish&quot;] as Int\r\n        val taskResource = task[&quot;resource&quot;] as Int\r\n        val taskDuration = task[&quot;duration&quot;] as Int\r\n\r\n        if (taskFinish &gt; latestFinish) {\r\n            latestFinish = taskFinish\r\n        }\r\n\r\n        // Finds the corresponding resource on the resource list and adds task duration to it\r\n        var foundResource = false\r\n        for (resource in resourceAllocation) {\r\n            if (resource[&quot;resource&quot;] == taskResource) {\r\n                val currentUsage = resource[&quot;usage&quot;] as Int\r\n                resource[&quot;usage&quot;] = currentUsage + taskDuration\r\n                foundResource = true\r\n            }\r\n        }\r\n\r\n\r\n        // If the resource has not been visited yet, include it on the list\r\n        if (!foundResource) {\r\n            resourceAllocation.add(mapOf(&quot;resource&quot; to taskResource, &quot;usage&quot; to taskDuration))\r\n        }\r\n    }\r\n\r\n    // Finds the constraint resource (with highest allocation)\r\n    val constraint = resourceAllocation.maxBy { it[&quot;usage&quot;] as Int }\r\n    constraintResource = constraint[&quot;resource&quot;] as Int\r\n    val constraintUsage = constraint[&quot;usage&quot;] as Int\r\n\r\n    // Finds the constraint occupation rate over the scheduling horizon\r\n    val occupationRate = constraintUsage.toDouble().div(latestFinish.toDouble())\r\n\r\n    return Triple(latestFinish, constraintResource, occupationRate)\r\n}\r\n```\r\n","title":"No set method providing array access error kotlin","body":"<p>I'm pretty new to Kotlin and just can't get this code to work:</p>\n<pre><code>for (resource in resourceAllocation) {\n    if (resource[&quot;resource&quot;] == taskResource) {\n        resource[&quot;usage&quot;] += taskDuration\n        foundResource = true\n    }\n}\n</code></pre>\n<p>it just won't let me assign any value to resource[&quot;usage&quot;], no matter which datatypes I use.</p>\n<p>I also tried the following, which did not fix the issue:</p>\n<pre><code>for (resource in resourceAllocation) {\n    if (resource[&quot;resource&quot;] == taskResource) {\n        val currentUsage = resource[&quot;usage&quot;] as Int\n        resource[&quot;usage&quot;] = currentUsage + taskDuration\n        foundResource = true\n    }\n}\n</code></pre>\n<p>Here's the full code:</p>\n<pre><code>fun lastFinishMetric(currentSchedulePlan: List&lt;Map&lt;String, Any&gt;&gt;): Triple&lt;Int, Int, Double&gt; {\n    var constraintResource = 0\n    val resourceAllocation = mutableListOf&lt;Map&lt;String, Any&gt;&gt;()\n    var latestFinish = 0\n\n    for (task in currentSchedulePlan) {\n        val taskFinish = task[&quot;finish&quot;] as Int\n        val taskResource = task[&quot;resource&quot;] as Int\n        val taskDuration = task[&quot;duration&quot;] as Int\n\n        if (taskFinish &gt; latestFinish) {\n            latestFinish = taskFinish\n        }\n\n        // Finds the corresponding resource on the resource list and adds task duration to it\n        var foundResource = false\n        for (resource in resourceAllocation) {\n            if (resource[&quot;resource&quot;] == taskResource) {\n                val currentUsage = resource[&quot;usage&quot;] as Int\n                resource[&quot;usage&quot;] = currentUsage + taskDuration\n                foundResource = true\n            }\n        }\n\n\n        // If the resource has not been visited yet, include it on the list\n        if (!foundResource) {\n            resourceAllocation.add(mapOf(&quot;resource&quot; to taskResource, &quot;usage&quot; to taskDuration))\n        }\n    }\n\n    // Finds the constraint resource (with highest allocation)\n    val constraint = resourceAllocation.maxBy { it[&quot;usage&quot;] as Int }\n    constraintResource = constraint[&quot;resource&quot;] as Int\n    val constraintUsage = constraint[&quot;usage&quot;] as Int\n\n    // Finds the constraint occupation rate over the scheduling horizon\n    val occupationRate = constraintUsage.toDouble().div(latestFinish.toDouble())\n\n    return Triple(latestFinish, constraintResource, occupationRate)\n}\n</code></pre>\n"},{"tags":["java","spring","mockito","applicationcontext"],"answers":[{"tags":[],"owner":{"account_id":7828073,"reputation":81,"user_id":5974240,"accept_rate":0,"display_name":"Arnout Cator"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1522078436,"creation_date":1485358240,"answer_id":41855447,"question_id":41829094,"body_markdown":"I resolved this problem by creating a copy of the spring configuration file and changing \r\n\r\n    &lt;bean id=&quot;Config&quot; class=&quot;com.generators.analytics.Config&quot;&gt;\r\n        &lt;property name=&quot;reportLocation&quot; value=&quot;/Users/arnout/dev/soton-test/workarea/assets/generated-list/google-analytics.json&quot;/&gt;\r\n        &lt;property name=&quot;runtimeLocation&quot; value=&quot;/Users/arnout/dev/soton-test/workarea/&quot;/&gt;\r\n    &lt;/bean&gt;\r\n\r\nand then changing \r\n\r\n    @ContextConfiguration(locations = {\r\n        &quot;classpath*:/WEB-INF/conf/livesite_customer/resources/test-analytics-resource-config.xml&quot;\r\n    })\r\n    public class GeneratorTest {\r\n\r\nI did some lateral thinking after I read up on Profiles in Spring configurations. In fact I did not need a profile, it was just as easy as taking another spring configuration in test mode.","title":"JUnit, Mockito and Spring ApplicationContext: Trouble mocking a property","body":"<p>I resolved this problem by creating a copy of the spring configuration file and changing </p>\n\n<pre><code>&lt;bean id=\"Config\" class=\"com.generators.analytics.Config\"&gt;\n    &lt;property name=\"reportLocation\" value=\"/Users/arnout/dev/soton-test/workarea/assets/generated-list/google-analytics.json\"/&gt;\n    &lt;property name=\"runtimeLocation\" value=\"/Users/arnout/dev/soton-test/workarea/\"/&gt;\n&lt;/bean&gt;\n</code></pre>\n\n<p>and then changing </p>\n\n<pre><code>@ContextConfiguration(locations = {\n    \"classpath*:/WEB-INF/conf/livesite_customer/resources/test-analytics-resource-config.xml\"\n})\npublic class GeneratorTest {\n</code></pre>\n\n<p>I did some lateral thinking after I read up on Profiles in Spring configurations. In fact I did not need a profile, it was just as easy as taking another spring configuration in test mode.</p>\n"}],"owner":{"account_id":7828073,"reputation":81,"user_id":5974240,"accept_rate":0,"display_name":"Arnout Cator"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":11018,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1699380195,"creation_date":1485263452,"question_id":41829094,"body_markdown":"Problem description:   I have trouble setting up a mock for a particular spring bean to return the correct mock test resource location on my development box, rather than the runtime web application root. I am sure I am doing something silly with my refactoring. I hope someone sees it.\r\n\r\nI am using Quartz to execute a job over Spring. The Quartz job is working fine and picking up the Spring applicationcontext ok. The only thing left is to wire up a configuration property for the test or runtime location where the web resources are located. :\r\n\r\nJUnit 4, Spring 3.1, Quartz, Java 8, Mockito\r\n\r\nThe interface:\r\n\r\n    public interface ITitle {\r\n      /**\r\n       * Gets the root of the application.\r\n       * @return location String\r\n       */\r\n      public String getRuntimeLocation();\r\n    }\r\n\r\n\r\n\r\nThe implementation:\r\n\r\n    @Component(&quot;Title&quot;)\r\n    public class Title implements ITitle, ApplicationContextAware {\r\n\r\n      private String location;\r\n\r\n      /**\r\n       * Gets the root of the application.\r\n       * @return location String\r\n      */\r\n     public String getRuntimeLocation() {\r\n      String location = &quot;&quot;;\r\n\r\n      config = getConfig();\r\n      log.debug(&quot;Class Title --- Method getRuntimeLocation -- config is &quot; + config );\r\n\r\n      location = config.getRuntimeLocation();\r\n      log.debug(&quot;Class Title --- Method getRuntimeMethod -- runtime location is &quot; + location );\r\n\r\n      return location;\r\n      }\r\n     }\r\n\r\nThe Unit Test\r\n\r\n    import org.junit.Assert;\r\n    import org.junit.Test;\r\n    import org.mockito.Mock;\r\n    import org.mockito.MockitoAnnotations;\r\n    import org.slf4j.Logger;\r\n    import org.slf4j.LoggerFactory;\r\n    import org.springframework.context.ApplicationContext;\r\n    import org.springframework.test.context.junit4.SpringJUnit4ClassRunner;\r\n    import com.generators.analytics.serialised.ITitle;\r\n\r\n    import java.io.File;\r\n\r\n    import static org.junit.Assert.assertNotNull;\r\n    import static org.mockito.Mockito.when;\r\n\r\n    @RunWith(SpringJUnit4ClassRunner.class)\r\n    @ContextConfiguration(locations = {\r\n        &quot;classpath*:/WEB-INF/conf/analytics-context.xml&quot;\r\n    })\r\n    public class GeneratorTest {\r\n\r\n      private AnalyticsGenerator generator;\r\n\r\n      @Mock\r\n      private IConfig config;\r\n\r\n      @Mock\r\n      private ApplicationContext applicationContext;\r\n\r\n      @Mock\r\n      private ITitle title;\r\n\r\n      // Set a logger\r\n      private static Logger log =   LoggerFactory.getLogger(GeneratorTest.class);\r\n      private JobExecutionContext job;\r\n\r\n      /**\r\n       * Initialises the test parameters.\r\n       */\r\n      @Before\r\n      public void setUp() throws Exception {\r\n          //create a generator object\r\n          generator = new AnalyticsGenerator();\r\n\r\n          MockitoAnnotations.initMocks(this);\r\n\r\n          when(applicationContext.getBean(&quot;Query&quot;)).thenReturn(query);\r\n          when(applicationContext.getBean(&quot;Config&quot;)).thenReturn(config);\r\n\r\n                when(config.getRuntimeLocation()).thenReturn(“/Users/me/dev/workarea/&quot;);\r\n\r\n         generator.executeInternal(ctx);\r\n         }\r\n\r\n    /**\r\n     * Expected: Json exists\r\n     */\r\n    @Test\r\n    public void testThatExecuteInternalCreatesAJsonFile() throws JobExecutionException {\r\n\r\n        generator.executeInternal(job);\r\n\r\n        File returnedJson = new File(&quot;classpath:/google-analytics.json&quot;);\r\n\r\n        Assert.assertNotNull(&quot;The JSON file does not exist&quot;, returnedJson );\r\n    }\r\n\r\n    /**\r\n     * Remove objects from memory.\r\n     */\r\n    @After\r\n    public void tearDown() throws Exception {\r\n        generator = null;\r\n    }\r\n}\r\n\r\n\r\n\r\nThe spring xml file\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;!--\r\n      * analytics-context.xml\r\n      *\r\n      * resource configuration file for Google Analytics recommendations integration framework.\r\n      *\r\n      * All custom beans and services must be defined in this file.\r\n      --&gt;\r\n     &lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\r\n       xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n       xmlns:context=&quot;http://www.springframework.org/schema/context&quot;\r\n       xmlns:p=&quot;http://www.springframework.org/schema/p&quot;\r\n       xmlns:c=&quot;http://www.springframework.org/schema/c&quot;\r\n       xmlns:util=&quot;http://www.springframework.org/schema/util&quot;\r\n       xmlns:ehcache=&quot;http://ehcache-spring-annotations.googlecode.com/svn/schema/ehcache-spring&quot;\r\n       xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans\r\n                            http://www.springframework.org/schema/beans/spring-beans-3.2.xsd\r\n                            http://www.springframework.org/schema/context\r\n                            http://www.springframework.org/schema/context/spring-context-3.2.xsd\r\n                            http://www.springframework.org/schema/util\r\n                            http://www.springframework.org/schema/util/spring-util-3.2.xsd\r\n                            http://ehcache-spring-annotations.googlecode.com/svn/schema/ehcache-spring\r\n                            http://ehcache-spring-annotations.googlecode.com/svn/schema/ehcache-spring/ehcache-spring-1.1.xsd&quot;&gt;\r\n\r\n    &lt;context:annotation-config/&gt;\r\n\r\n    &lt;!--\r\n        START Globally used Google Analytics Query parameters\r\n    --&gt;\r\n    &lt;bean id=&quot;Config&quot; class=“com.generators.analytics.Config&quot;&gt;\r\n        &lt;property name=&quot;reportLocation&quot; value=&quot;/data/runtime/web/assets/generated-list/google-analytics.json&quot;/&gt;\r\n        &lt;property name=&quot;runtimeLocation&quot; value=&quot;/data/runtime/web/&quot;/&gt;\r\n    &lt;/bean&gt;\r\n\r\n    &lt;bean id=&quot;configFactory&quot; class=&quot;org.springframework.beans.factory.config.ServiceLocatorFactoryBean&quot;&gt;\r\n        &lt;property name=&quot;serviceLocatorInterface&quot; value=“com.generators.analytics.ConfigFactory&quot; /&gt;\r\n    &lt;/bean&gt;\r\n\r\n    &lt;alias name=&quot;Config&quot; alias=&quot;C&quot; /&gt;\r\n\r\n    &lt;bean id=&quot;Title&quot; class=“com.generators.analytics.serialised.Title&quot;&gt;\r\n        &lt;property name=&quot;config&quot; ref=&quot;Config&quot;/&gt;\r\n    &lt;/bean&gt;\r\n\r\n    &lt;context:component-scan base-package=“com.generators.analytics&quot; /&gt;\r\n\r\n    &lt;!--\r\n        END Globally used Google Analytics Query parameters\r\n     --&gt;\r\n\r\n&lt;/beans&gt;\r\n\r\nAfter running the test I get this in the log:\r\n\r\n    11:51:43.020 [main] DEBUG com.generators.analytics.serialised.Title - Class Title --- Method getConfig -- applicationContext is org.springframework.context.support.GenericApplicationContext@57f23557: startup date [Tue Jan 24 11:51:31 GMT 2017]; root of context hierarchy\r\n    11:51:43.020 [main] DEBUG com.generators.analytics.serialised.Title - Class Title --- Method getConfig -- config is com.generators.analytics.Config@13d9cbf5\r\n    11:51:43.020 [main] DEBUG com.generators.analytics.serialised.Title - Class Title --- Method getRuntimeLocation -- config is com.generators.analytics.Config@13d9cbf5\r\n    11:51:43.020 [main] DEBUG com.generators.analytics.serialised.Title - Class Title --- Method getRuntimeMethod -- runtime location is /data/runtime/web/\r\n\r\nThe question is, is there anything obvious that I do wrong to get the intended path  /Users/me/dev/workarea/ ?\r\n\r\nI guess I need to do refactoring to extract the location from the method ? I am not sure how to refactor this particular step.\r\n\r\n        when(config.getRuntimeLocation()).thenReturn(“/Users/me/dev/workarea/&quot;);","title":"JUnit, Mockito and Spring ApplicationContext: Trouble mocking a property","body":"<p>Problem description:   I have trouble setting up a mock for a particular spring bean to return the correct mock test resource location on my development box, rather than the runtime web application root. I am sure I am doing something silly with my refactoring. I hope someone sees it.</p>\n\n<p>I am using Quartz to execute a job over Spring. The Quartz job is working fine and picking up the Spring applicationcontext ok. The only thing left is to wire up a configuration property for the test or runtime location where the web resources are located. :</p>\n\n<p>JUnit 4, Spring 3.1, Quartz, Java 8, Mockito</p>\n\n<p>The interface:</p>\n\n<pre><code>public interface ITitle {\n  /**\n   * Gets the root of the application.\n   * @return location String\n   */\n  public String getRuntimeLocation();\n}\n</code></pre>\n\n<p>The implementation:</p>\n\n<pre><code>@Component(\"Title\")\npublic class Title implements ITitle, ApplicationContextAware {\n\n  private String location;\n\n  /**\n   * Gets the root of the application.\n   * @return location String\n  */\n public String getRuntimeLocation() {\n  String location = \"\";\n\n  config = getConfig();\n  log.debug(\"Class Title --- Method getRuntimeLocation -- config is \" + config );\n\n  location = config.getRuntimeLocation();\n  log.debug(\"Class Title --- Method getRuntimeMethod -- runtime location is \" + location );\n\n  return location;\n  }\n }\n</code></pre>\n\n<p>The Unit Test</p>\n\n<pre><code>import org.junit.Assert;\nimport org.junit.Test;\nimport org.mockito.Mock;\nimport org.mockito.MockitoAnnotations;\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\nimport org.springframework.context.ApplicationContext;\nimport org.springframework.test.context.junit4.SpringJUnit4ClassRunner;\nimport com.generators.analytics.serialised.ITitle;\n\nimport java.io.File;\n\nimport static org.junit.Assert.assertNotNull;\nimport static org.mockito.Mockito.when;\n\n@RunWith(SpringJUnit4ClassRunner.class)\n@ContextConfiguration(locations = {\n    \"classpath*:/WEB-INF/conf/analytics-context.xml\"\n})\npublic class GeneratorTest {\n\n  private AnalyticsGenerator generator;\n\n  @Mock\n  private IConfig config;\n\n  @Mock\n  private ApplicationContext applicationContext;\n\n  @Mock\n  private ITitle title;\n\n  // Set a logger\n  private static Logger log =   LoggerFactory.getLogger(GeneratorTest.class);\n  private JobExecutionContext job;\n\n  /**\n   * Initialises the test parameters.\n   */\n  @Before\n  public void setUp() throws Exception {\n      //create a generator object\n      generator = new AnalyticsGenerator();\n\n      MockitoAnnotations.initMocks(this);\n\n      when(applicationContext.getBean(\"Query\")).thenReturn(query);\n      when(applicationContext.getBean(\"Config\")).thenReturn(config);\n\n            when(config.getRuntimeLocation()).thenReturn(“/Users/me/dev/workarea/\");\n\n     generator.executeInternal(ctx);\n     }\n\n/**\n * Expected: Json exists\n */\n@Test\npublic void testThatExecuteInternalCreatesAJsonFile() throws JobExecutionException {\n\n    generator.executeInternal(job);\n\n    File returnedJson = new File(\"classpath:/google-analytics.json\");\n\n    Assert.assertNotNull(\"The JSON file does not exist\", returnedJson );\n}\n\n/**\n * Remove objects from memory.\n */\n@After\npublic void tearDown() throws Exception {\n    generator = null;\n}\n</code></pre>\n\n<p>}</p>\n\n<p>The spring xml file</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;!--\n  * analytics-context.xml\n  *\n  * resource configuration file for Google Analytics recommendations integration framework.\n  *\n  * All custom beans and services must be defined in this file.\n  --&gt;\n &lt;beans xmlns=\"http://www.springframework.org/schema/beans\"\n   xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n   xmlns:context=\"http://www.springframework.org/schema/context\"\n   xmlns:p=\"http://www.springframework.org/schema/p\"\n   xmlns:c=\"http://www.springframework.org/schema/c\"\n   xmlns:util=\"http://www.springframework.org/schema/util\"\n   xmlns:ehcache=\"http://ehcache-spring-annotations.googlecode.com/svn/schema/ehcache-spring\"\n   xsi:schemaLocation=\"http://www.springframework.org/schema/beans\n                        http://www.springframework.org/schema/beans/spring-beans-3.2.xsd\n                        http://www.springframework.org/schema/context\n                        http://www.springframework.org/schema/context/spring-context-3.2.xsd\n                        http://www.springframework.org/schema/util\n                        http://www.springframework.org/schema/util/spring-util-3.2.xsd\n                        http://ehcache-spring-annotations.googlecode.com/svn/schema/ehcache-spring\n                        http://ehcache-spring-annotations.googlecode.com/svn/schema/ehcache-spring/ehcache-spring-1.1.xsd\"&gt;\n\n&lt;context:annotation-config/&gt;\n\n&lt;!--\n    START Globally used Google Analytics Query parameters\n--&gt;\n&lt;bean id=\"Config\" class=“com.generators.analytics.Config\"&gt;\n    &lt;property name=\"reportLocation\" value=\"/data/runtime/web/assets/generated-list/google-analytics.json\"/&gt;\n    &lt;property name=\"runtimeLocation\" value=\"/data/runtime/web/\"/&gt;\n&lt;/bean&gt;\n\n&lt;bean id=\"configFactory\" class=\"org.springframework.beans.factory.config.ServiceLocatorFactoryBean\"&gt;\n    &lt;property name=\"serviceLocatorInterface\" value=“com.generators.analytics.ConfigFactory\" /&gt;\n&lt;/bean&gt;\n\n&lt;alias name=\"Config\" alias=\"C\" /&gt;\n\n&lt;bean id=\"Title\" class=“com.generators.analytics.serialised.Title\"&gt;\n    &lt;property name=\"config\" ref=\"Config\"/&gt;\n&lt;/bean&gt;\n\n&lt;context:component-scan base-package=“com.generators.analytics\" /&gt;\n\n&lt;!--\n    END Globally used Google Analytics Query parameters\n --&gt;\n</code></pre>\n\n<p></p>\n\n<p>After running the test I get this in the log:</p>\n\n<pre><code>11:51:43.020 [main] DEBUG com.generators.analytics.serialised.Title - Class Title --- Method getConfig -- applicationContext is org.springframework.context.support.GenericApplicationContext@57f23557: startup date [Tue Jan 24 11:51:31 GMT 2017]; root of context hierarchy\n11:51:43.020 [main] DEBUG com.generators.analytics.serialised.Title - Class Title --- Method getConfig -- config is com.generators.analytics.Config@13d9cbf5\n11:51:43.020 [main] DEBUG com.generators.analytics.serialised.Title - Class Title --- Method getRuntimeLocation -- config is com.generators.analytics.Config@13d9cbf5\n11:51:43.020 [main] DEBUG com.generators.analytics.serialised.Title - Class Title --- Method getRuntimeMethod -- runtime location is /data/runtime/web/\n</code></pre>\n\n<p>The question is, is there anything obvious that I do wrong to get the intended path  /Users/me/dev/workarea/ ?</p>\n\n<p>I guess I need to do refactoring to extract the location from the method ? I am not sure how to refactor this particular step.</p>\n\n<pre><code>    when(config.getRuntimeLocation()).thenReturn(“/Users/me/dev/workarea/\");\n</code></pre>\n"},{"tags":["java","android","json"],"comments":[{"owner":{"account_id":195331,"reputation":275428,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":7,"creation_date":1426283844,"post_id":29042622,"comment_id":46325311,"body_markdown":"_the default libraries_ The JDK you use for developing on Android is provided by Android, not Oracle. Also `javax.json` is part of Java EE, not Java SE.","body":"<i>the default libraries</i> The JDK you use for developing on Android is provided by Android, not Oracle. Also <code>javax.json</code> is part of Java EE, not Java SE."},{"owner":{"account_id":5936031,"reputation":633,"user_id":4669005,"display_name":"Phyxius81"},"score":0,"creation_date":1426285464,"post_id":29042622,"comment_id":46325877,"body_markdown":"I didn&#39;t download an additional jdk when I moved from straight Java to Android. Is the alternate JDK included in the AndroidStudio application?","body":"I didn&#39;t download an additional jdk when I moved from straight Java to Android. Is the alternate JDK included in the AndroidStudio application?"}],"answers":[{"comments":[{"owner":{"account_id":5936031,"reputation":633,"user_id":4669005,"display_name":"Phyxius81"},"score":0,"creation_date":1426290417,"post_id":29043450,"comment_id":46327289,"body_markdown":"I&#39;m not disagreeing, just unfamiliar with this topic. What exactly do you mean by &quot;a huge problem during the development of Android apps?&quot; (sources appreciated). Also, why does developer.android.com use org.json if it causes problems with Android development?","body":"I&#39;m not disagreeing, just unfamiliar with this topic. What exactly do you mean by &quot;a huge problem during the development of Android apps?&quot; (sources appreciated). Also, why does developer.android.com use org.json if it causes problems with Android development?"},{"owner":{"account_id":3070251,"reputation":363,"user_id":2601107,"display_name":"michip96"},"score":0,"creation_date":1426291977,"post_id":29043450,"comment_id":46327680,"body_markdown":"Recently I found out that some packages in old Android versions do not work properly and have to get downloaded and implemented as a jar (&quot;shadowed&quot;). I&#39;m not quite sure how org.json is affected by this problem, but it was very hard for me to shadow the dependencies with Gradle.\n\nIn my example &quot;org.apache.http.conn.ssl&quot; and bouncycastle didn&#39;t work as expected.","body":"Recently I found out that some packages in old Android versions do not work properly and have to get downloaded and implemented as a jar (&quot;shadowed&quot;). I&#39;m not quite sure how org.json is affected by this problem, but it was very hard for me to shadow the dependencies with Gradle.  In my example &quot;org.apache.http.conn.ssl&quot; and bouncycastle didn&#39;t work as expected."},{"owner":{"account_id":2674923,"reputation":9479,"user_id":2311528,"accept_rate":59,"display_name":"Lonzak"},"score":4,"creation_date":1550677706,"post_id":29043450,"comment_id":96358770,"body_markdown":"_Update 2019_: Please note that json simple is dead and not maintained anymore.","body":"<i>Update 2019</i>: Please note that json simple is dead and not maintained anymore."}],"tags":[],"owner":{"account_id":3070251,"reputation":363,"user_id":2601107,"display_name":"michip96"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699378859,"creation_date":1426288416,"answer_id":29043450,"question_id":29042622,"body_markdown":"I recommend you to use Yidong Fang&#39;s [json-simple][1] toolkit in order to work with JSON Objects. It provides useful functions and has no dependency on external libraries which turned out to be a huge problem during the development of Android apps.\r\n\r\nTo answer your question: If you don&#39;t want to use json-simple in you project you should use the JSONObject from org.json, because it&#39;s provided by the Android JDK. For further information see http://developer.android.com/reference/org/json/JSONObject.html.\r\n\r\n\r\n  [1]: https://code.google.com/p/json-simple/","title":"Which one to use? JSONObject from org.json VS JsonObject from javax.json","body":"<p>I recommend you to use Yidong Fang's <a href=\"https://code.google.com/p/json-simple/\" rel=\"nofollow noreferrer\">json-simple</a> toolkit in order to work with JSON Objects. It provides useful functions and has no dependency on external libraries which turned out to be a huge problem during the development of Android apps.</p>\n<p>To answer your question: If you don't want to use json-simple in you project you should use the JSONObject from org.json, because it's provided by the Android JDK. For further information see <a href=\"http://developer.android.com/reference/org/json/JSONObject.html\" rel=\"nofollow noreferrer\">http://developer.android.com/reference/org/json/JSONObject.html</a>.</p>\n"},{"comments":[{"owner":{"account_id":8583327,"reputation":456,"user_id":6430269,"accept_rate":50,"display_name":"GreenThor"},"score":4,"creation_date":1481106395,"post_id":32827305,"comment_id":69237177,"body_markdown":"It should be noted that javax.json makes full use of the existing interfaces while org.json works with no interfaces at all, so e.g. a JSONArray cannot be used in an foreach block. org.json may be made more practical, but not using the existing interfaces could be seen as a design flaw.","body":"It should be noted that javax.json makes full use of the existing interfaces while org.json works with no interfaces at all, so e.g. a JSONArray cannot be used in an foreach block. org.json may be made more practical, but not using the existing interfaces could be seen as a design flaw."},{"owner":{"account_id":956759,"reputation":8316,"user_id":981922,"accept_rate":89,"display_name":"dokaspar"},"score":1,"creation_date":1506688777,"post_id":32827305,"comment_id":79932433,"body_markdown":"What about `org.codehaus.jettison.json.JSONArray`? How does that relate to the two options mentioned here?","body":"What about <code>org.codehaus.jettison.json.JSONArray</code>? How does that relate to the two options mentioned here?"},{"owner":{"account_id":3444749,"reputation":601,"user_id":2885826,"display_name":"Samuel M&#233;ndez"},"score":0,"creation_date":1510908397,"post_id":32827305,"comment_id":81644830,"body_markdown":"@dokaspar I didn&#39;t use that library that much so cannot say","body":"@dokaspar I didn&#39;t use that library that much so cannot say"}],"tags":[],"owner":{"account_id":3444749,"reputation":601,"user_id":2885826,"display_name":"Samuel M&#233;ndez"},"comment_count":3,"down_vote_count":1,"up_vote_count":33,"is_accepted":true,"score":32,"last_activity_date":1443456372,"creation_date":1443456372,"answer_id":32827305,"question_id":29042622,"body_markdown":"Bit late, but I wanted to share my opinion on this.\r\n\r\nI faced this problem recently when I found a Java project with both libraries and they were used at the same time.\r\n\r\nI think that `org.json` is easier to read and to use, for 2 main reasons (for my needs):\r\n\r\n1. JsonObject is immutable. You can&#39;t add new key/value pairs to an already existing JsonObject (reference here: https://stackoverflow.com/questions/26346060/javax-json-add-new-jsonnumber-to-existing-jsonobject)\r\n\r\n2. It takes a few lines to pretty print a JsonObject or JsonArray, while it only takes 1 line to do it with JSONObject or JSONArray. Example:\r\n\r\n        StringWriter sw = new StringWriter();\r\n\t\tMap&lt;String, Object&gt; properties = new HashMap&lt;&gt;();\r\n        properties.put(JsonGenerator.PRETTY_PRINTING, true);\r\n        \r\n\t\tJsonWriterFactory writerFactory = Json.createWriterFactory(properties);\r\n\t\tJsonWriter jsonWriter = writerFactory.createWriter(sw);\r\n\r\n\t\tjsonWriter.writeObject(jsonObject); //JsonObject created before\r\n\t\tjsonWriter.close();\r\n        String prettyPrintedJSON = sw.toString();\r\n\r\nThat is the code I use to get an indented JSON to write to a file. And with org.json I only need `jsonObject.toString(4)`. \r\n\r\nAnother difference is the constructors. You will need a `JsonObjectBuilder` to create a JSON with `javax.json`. One step more that can be avoided.\r\n\r\nI&#39;m sure there are more differences (not sure if it&#39;s possible to create a  `JsonObject` from a String) but these are my thoughts.","title":"Which one to use? JSONObject from org.json VS JsonObject from javax.json","body":"<p>Bit late, but I wanted to share my opinion on this.</p>\n\n<p>I faced this problem recently when I found a Java project with both libraries and they were used at the same time.</p>\n\n<p>I think that <code>org.json</code> is easier to read and to use, for 2 main reasons (for my needs):</p>\n\n<ol>\n<li><p>JsonObject is immutable. You can't add new key/value pairs to an already existing JsonObject (reference here: <a href=\"https://stackoverflow.com/questions/26346060/javax-json-add-new-jsonnumber-to-existing-jsonobject\">javax.json: Add new JsonNumber to existing JsonObject</a>)</p></li>\n<li><p>It takes a few lines to pretty print a JsonObject or JsonArray, while it only takes 1 line to do it with JSONObject or JSONArray. Example:</p>\n\n<pre><code>StringWriter sw = new StringWriter();\nMap&lt;String, Object&gt; properties = new HashMap&lt;&gt;();\nproperties.put(JsonGenerator.PRETTY_PRINTING, true);\n\nJsonWriterFactory writerFactory = Json.createWriterFactory(properties);\nJsonWriter jsonWriter = writerFactory.createWriter(sw);\n\njsonWriter.writeObject(jsonObject); //JsonObject created before\njsonWriter.close();\nString prettyPrintedJSON = sw.toString();\n</code></pre></li>\n</ol>\n\n<p>That is the code I use to get an indented JSON to write to a file. And with org.json I only need <code>jsonObject.toString(4)</code>. </p>\n\n<p>Another difference is the constructors. You will need a <code>JsonObjectBuilder</code> to create a JSON with <code>javax.json</code>. One step more that can be avoided.</p>\n\n<p>I'm sure there are more differences (not sure if it's possible to create a  <code>JsonObject</code> from a String) but these are my thoughts.</p>\n"},{"comments":[{"owner":{"account_id":1264519,"reputation":717,"user_id":1222122,"accept_rate":100,"display_name":"Gillfish"},"score":4,"creation_date":1496257140,"post_id":44253062,"comment_id":75591804,"body_markdown":"`org.json` can parse a JSON string by passing it to the `JSONObject` constructor. And it sounds like you are suggesting using both libraries, which will certainly lead to confusion. Pick one and go with it.","body":"<code>org.json</code> can parse a JSON string by passing it to the <code>JSONObject</code> constructor. And it sounds like you are suggesting using both libraries, which will certainly lead to confusion. Pick one and go with it."}],"tags":[],"owner":{"account_id":10925495,"reputation":11,"user_id":8030345,"display_name":"Varma"},"comment_count":1,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1496117201,"creation_date":1496115863,"answer_id":44253062,"question_id":29042622,"body_markdown":"1. `org.json` does not contain a parse class for parsing the JSON string. while`org.json.simple` contains a parse class.\r\n\r\n2. `org.json.JSONObject` contains lots of getter methods to get directly as int, boolean, object, string, JSON Array, etc. `org.json.simple.JSONObject` does not contain specific methods, so you need to type cast every time while getting value of a particular key.\r\n\r\n3. In simple words use `org.json.simple.JSONObject` for parsing alone and type cast it into `org.json.JSONObject` for further use inside the program.","title":"Which one to use? JSONObject from org.json VS JsonObject from javax.json","body":"<ol>\n<li><p><code>org.json</code> does not contain a parse class for parsing the JSON string. while<code>org.json.simple</code> contains a parse class.</p></li>\n<li><p><code>org.json.JSONObject</code> contains lots of getter methods to get directly as int, boolean, object, string, JSON Array, etc. <code>org.json.simple.JSONObject</code> does not contain specific methods, so you need to type cast every time while getting value of a particular key.</p></li>\n<li><p>In simple words use <code>org.json.simple.JSONObject</code> for parsing alone and type cast it into <code>org.json.JSONObject</code> for further use inside the program.</p></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":12188737,"reputation":91,"user_id":8897298,"display_name":"Full Stack"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1534803862,"creation_date":1534803862,"answer_id":51939264,"question_id":29042622,"body_markdown":"JSONObject, as mentioned, is provided by android&#39;s API. JsonObject is specifically used for Java EE development which is essentially for web applications and networking capabilities among other things. \r\n\r\nThe reason Android does not prepackage JsonObject from Oracle Java EE package is because alot of the things javax can do, are not allowed within android like accessing the internet without permission. This means importing the entire jars files of javax would conflict with Android.\r\n\r\nIf you plan to build your own backend with Java EE, I would highly suggest using JsonObject over JSONObject. On the other hand, if you know a prebuilt rest service or something similar that supports Android&#39;s JSON even better. \r\n\r\n  ","title":"Which one to use? JSONObject from org.json VS JsonObject from javax.json","body":"<p>JSONObject, as mentioned, is provided by android's API. JsonObject is specifically used for Java EE development which is essentially for web applications and networking capabilities among other things. </p>\n\n<p>The reason Android does not prepackage JsonObject from Oracle Java EE package is because alot of the things javax can do, are not allowed within android like accessing the internet without permission. This means importing the entire jars files of javax would conflict with Android.</p>\n\n<p>If you plan to build your own backend with Java EE, I would highly suggest using JsonObject over JSONObject. On the other hand, if you know a prebuilt rest service or something similar that supports Android's JSON even better. </p>\n"}],"owner":{"account_id":5936031,"reputation":633,"user_id":4669005,"display_name":"Phyxius81"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":49529,"favorite_count":0,"down_vote_count":0,"up_vote_count":57,"accepted_answer_id":32827305,"answer_count":4,"score":57,"last_activity_date":1699378859,"creation_date":1426283676,"question_id":29042622,"body_markdown":"This is my first post. As a budding Android developer, I read SO posts on a near daily basis on various topics, but for this question, I didn&#39;t find any help from Google or SO.\r\n\r\nMy research so far:  \r\nSearching for this question was harder than normal because the search engines don&#39;t seem to care about case-sensitivity, which is vital in this issue. Searching Google only gave me links to the classes themselves, old articles, or completely irrelevant articles. The closest I got was JSONArray vs JSONObject, and that is a completely different question. SO searching gave the same results. As far as I can tell, ALL pertinent posts on SO refer to JSONObject and not JsonObject.\r\n\r\nNeither Oracle nor json.org documentation mentioned the other side, nor did the Android developer JSONObject page which uses the org.json library.\r\n\r\nhttp://docs.oracle.com/javaee/7/api/javax/json/JsonObject.html  \r\nhttp://www.json.org/javadoc/org/json/JSONObject.html  \r\nI would have also posted a link to the Android reference page for JSONObject, but my rep as a newbie is too low.\r\n\r\nHistory of problem(s):\r\nI was reading about Json encoding and decoding from the Oracle page, and I tried copying and pasting into my AndriodStudio IDE, which immediately produced an error, for which it did not suggest an import statement like it normally does. I have come to learn that means the class is not part of the built-in libraries.\r\n\r\nThe problem was that the code I pasted in used JsonObject (which comes from javax.json library) and not JSONObject (which comes from org.json library). When I noticed the difference in case between the Android page and the Oracle page, I altered my code from Json to JSON and immediately my IDE offered the org.json import statement.\r\n\r\nQuestion(s):\r\nWhy is an Oracle made class not part of the default libraries when an external library is?  \r\nIs JSON the old, deprecated way and Json the new, proper way?  \r\nAre they functionally identical? If not, please provide examples?  \r\nAre some situations better for one and some better for the other?  \r\nULTIMATELY, which should I use, and why (if not already covered)?  \r\nIf, javax.json, where is the best (safest) place to download that library)?","title":"Which one to use? JSONObject from org.json VS JsonObject from javax.json","body":"<p>This is my first post. As a budding Android developer, I read SO posts on a near daily basis on various topics, but for this question, I didn't find any help from Google or SO.</p>\n\n<p>My research so far:<br>\nSearching for this question was harder than normal because the search engines don't seem to care about case-sensitivity, which is vital in this issue. Searching Google only gave me links to the classes themselves, old articles, or completely irrelevant articles. The closest I got was JSONArray vs JSONObject, and that is a completely different question. SO searching gave the same results. As far as I can tell, ALL pertinent posts on SO refer to JSONObject and not JsonObject.</p>\n\n<p>Neither Oracle nor json.org documentation mentioned the other side, nor did the Android developer JSONObject page which uses the org.json library.</p>\n\n<p><a href=\"http://docs.oracle.com/javaee/7/api/javax/json/JsonObject.html\">http://docs.oracle.com/javaee/7/api/javax/json/JsonObject.html</a><br>\n<a href=\"http://www.json.org/javadoc/org/json/JSONObject.html\">http://www.json.org/javadoc/org/json/JSONObject.html</a><br>\nI would have also posted a link to the Android reference page for JSONObject, but my rep as a newbie is too low.</p>\n\n<p>History of problem(s):\nI was reading about Json encoding and decoding from the Oracle page, and I tried copying and pasting into my AndriodStudio IDE, which immediately produced an error, for which it did not suggest an import statement like it normally does. I have come to learn that means the class is not part of the built-in libraries.</p>\n\n<p>The problem was that the code I pasted in used JsonObject (which comes from javax.json library) and not JSONObject (which comes from org.json library). When I noticed the difference in case between the Android page and the Oracle page, I altered my code from Json to JSON and immediately my IDE offered the org.json import statement.</p>\n\n<p>Question(s):\nWhy is an Oracle made class not part of the default libraries when an external library is?<br>\nIs JSON the old, deprecated way and Json the new, proper way?<br>\nAre they functionally identical? If not, please provide examples?<br>\nAre some situations better for one and some better for the other?<br>\nULTIMATELY, which should I use, and why (if not already covered)?<br>\nIf, javax.json, where is the best (safest) place to download that library)?</p>\n"},{"tags":["java","intellij-idea","mapstruct"],"comments":[{"owner":{"account_id":9760,"reputation":85860,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":0,"creation_date":1615500122,"post_id":66591176,"comment_id":117717560,"body_markdown":"Please properly format your stack trace.  Look for the first mention of your code to see the statement in your code that caused the exception.  You will find that it is passing a null value to whatever API it invokes.","body":"Please properly format your stack trace.  Look for the first mention of your code to see the statement in your code that caused the exception.  You will find that it is passing a null value to whatever API it invokes."}],"answers":[{"comments":[{"owner":{"account_id":16197209,"reputation":595,"user_id":11694539,"display_name":"Arthur"},"score":1,"creation_date":1615500896,"post_id":66591307,"comment_id":117717822,"body_markdown":"Hello, Serge! No, it was not fixed. I have latest Idea as you see and mapstruct.","body":"Hello, Serge! No, it was not fixed. I have latest Idea as you see and mapstruct."},{"owner":{"account_id":36734,"reputation":392137,"user_id":104891,"display_name":"CrazyCoder"},"score":2,"creation_date":1615500939,"post_id":66591307,"comment_id":117717833,"body_markdown":"What MapStruct version do you use? Does `-Djps.track.ap.dependencies=false` option help?","body":"What MapStruct version do you use? Does <code>-Djps.track.ap.dependencies=false</code> option help?"},{"owner":{"account_id":16197209,"reputation":595,"user_id":11694539,"display_name":"Arthur"},"score":0,"creation_date":1615501470,"post_id":66591307,"comment_id":117718020,"body_markdown":"1.4.2.Final. How to apply mentioned option? Preferences -&gt;  Build, Execution, Deployment -&gt; Compiler\nUser-local build process VM options (overrides Shared options):\n-Djps.track.ap.dependencies=false=========&gt; new error.","body":"1.4.2.Final. How to apply mentioned option? Preferences -&gt;  Build, Execution, Deployment -&gt; Compiler User-local build process VM options (overrides Shared options): -Djps.track.ap.dependencies=false=========&gt; new error."},{"owner":{"account_id":36734,"reputation":392137,"user_id":104891,"display_name":"CrazyCoder"},"score":1,"creation_date":1615501534,"post_id":66591307,"comment_id":117718033,"body_markdown":"Feel free to report at https://github.com/mapstruct/mapstruct/issues.","body":"Feel free to report at <a href=\"https://github.com/mapstruct/mapstruct/issues\" rel=\"nofollow noreferrer\">github.com/mapstruct/mapstruct/issues</a>."},{"owner":{"account_id":1128956,"reputation":19765,"user_id":1115491,"display_name":"Filip"},"score":0,"creation_date":1615505738,"post_id":66591307,"comment_id":117719135,"body_markdown":"Make sure that you also update the mapstruct-processor version as well. This bug has been fixed a while ago in MapStruct","body":"Make sure that you also update the mapstruct-processor version as well. This bug has been fixed a while ago in MapStruct"},{"owner":{"account_id":3832252,"reputation":938,"user_id":3177532,"accept_rate":91,"display_name":"solujic"},"score":0,"creation_date":1675073051,"post_id":66591307,"comment_id":132842336,"body_markdown":"updating to latest version of mapstruct-processor fixed this error for me...","body":"updating to latest version of mapstruct-processor fixed this error for me..."}],"tags":[],"owner":{"account_id":36734,"reputation":392137,"user_id":104891,"display_name":"CrazyCoder"},"comment_count":6,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1615500714,"creation_date":1615500714,"answer_id":66591307,"question_id":66591176,"body_markdown":"Please update to the current IDE and MapStruct versions. This issue [was fixed](https://youtrack.jetbrains.com/issue/IDEA-250718#focus=Comments-27-4418347.0-0) long time ago.\r\n\r\nSee also [this answer](https://stackoverflow.com/a/65113549/104891) for the workaround.","title":"java.lang.NullPointerException: Cannot invoke &quot;java.net.URL.toExternalForm()&quot; because &quot;resource&quot; is null at org.mapstruct","body":"<p>Please update to the current IDE and MapStruct versions. This issue <a href=\"https://youtrack.jetbrains.com/issue/IDEA-250718#focus=Comments-27-4418347.0-0\" rel=\"nofollow noreferrer\">was fixed</a> long time ago.</p>\n<p>See also <a href=\"https://stackoverflow.com/a/65113549/104891\">this answer</a> for the workaround.</p>\n"},{"tags":[],"owner":{"account_id":21731888,"reputation":111,"user_id":16040522,"display_name":"AnaMelem"},"comment_count":0,"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1622050485,"creation_date":1622050485,"answer_id":67710019,"question_id":66591176,"body_markdown":"I had a problem with MapStruct in Intellij 20.3.2. Error *Internal error in the mapping processor: java.lang.NullPointerException: Cannot invoke &quot;java.net.URL.toExternalForm()&quot; because &quot;resource&quot; is null[...].*\r\nI did a little research and saw that it was enough to just change the version in pom.xml. Here on the documentation website we can see the package installation configuration:https:**//mapstruct.org/documentation/installation/**\r\nThere was still an error in the following excerpt:\r\n\r\n&lt;dependency&gt;\r\n\r\n      &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\r\n\r\n      &lt;artifactId&gt;mapstruct&lt;/artifactId&gt;\r\n\r\n      &lt;version&gt;**${org.mapstruct.version}**&lt;/version&gt;\r\n\r\n&lt;/dependency&gt;\r\n\r\nFinally, placing the following version in **&lt;version&gt; 1.4.2.Final &lt;/version&gt;** ran the application smoothly.","title":"java.lang.NullPointerException: Cannot invoke &quot;java.net.URL.toExternalForm()&quot; because &quot;resource&quot; is null at org.mapstruct","body":"<p>I had a problem with MapStruct in Intellij 20.3.2. Error <em>Internal error in the mapping processor: java.lang.NullPointerException: Cannot invoke &quot;java.net.URL.toExternalForm()&quot; because &quot;resource&quot; is null[...].</em>\nI did a little research and saw that it was enough to just change the version in pom.xml. Here on the documentation website we can see the package installation configuration:https:<strong>//mapstruct.org/documentation/installation/</strong>\nThere was still an error in the following excerpt:</p>\n\n<pre><code>  &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\n\n  &lt;artifactId&gt;mapstruct&lt;/artifactId&gt;\n\n  &lt;version&gt;**${org.mapstruct.version}**&lt;/version&gt;\n</code></pre>\n\n<p>Finally, placing the following version in <strong> 1.4.2.Final </strong> ran the application smoothly.</p>\n"},{"comments":[{"owner":{"account_id":15628583,"reputation":85,"user_id":11275490,"display_name":"Moaaz Gaballah"},"score":0,"creation_date":1667302143,"post_id":68722870,"comment_id":131131375,"body_markdown":"Hello there, thank you for your solution! Can you explain with more details why this works ?","body":"Hello there, thank you for your solution! Can you explain with more details why this works ?"},{"owner":{"account_id":18524173,"reputation":104,"user_id":13496430,"display_name":"Peter Wang"},"score":0,"creation_date":1679377035,"post_id":68722870,"comment_id":133706326,"body_markdown":"I can update This answer works for \nmapstruct 1.5.3.Final \nIntelij 2022.3.3 Ultimate Edition Build #IU-223.8836.41, built on March 10, 2023","body":"I can update This answer works for  mapstruct 1.5.3.Final  Intelij 2022.3.3 Ultimate Edition Build #IU-223.8836.41, built on March 10, 2023"}],"tags":[],"owner":{"account_id":11433301,"reputation":380,"user_id":8381420,"display_name":"saba"},"comment_count":2,"down_vote_count":0,"up_vote_count":27,"is_accepted":false,"score":27,"last_activity_date":1628581649,"creation_date":1628581649,"answer_id":68722870,"question_id":66591176,"body_markdown":"In your Intellij IDEA:\r\n\r\n    File | Settings | Build, Execution, Deployment | Compiler | user-local build process vm options\r\n\r\nset this value :\r\n\r\n    -Djps.track.ap.dependencies=false","title":"java.lang.NullPointerException: Cannot invoke &quot;java.net.URL.toExternalForm()&quot; because &quot;resource&quot; is null at org.mapstruct","body":"<p>In your Intellij IDEA:</p>\n<pre><code>File | Settings | Build, Execution, Deployment | Compiler | user-local build process vm options\n</code></pre>\n<p>set this value :</p>\n<pre><code>-Djps.track.ap.dependencies=false\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23407749,"reputation":1,"user_id":17469892,"display_name":"ddthien"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1638013046,"creation_date":1638013046,"answer_id":70134426,"question_id":66591176,"body_markdown":"Please update newVersion mapstruct \r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\r\n        &lt;artifactId&gt;mapstruct&lt;/artifactId&gt;\r\n        &lt;version&gt;1.4.2.Final&lt;/version&gt;\r\n    &lt;/dependency&gt;","title":"java.lang.NullPointerException: Cannot invoke &quot;java.net.URL.toExternalForm()&quot; because &quot;resource&quot; is null at org.mapstruct","body":"<p>Please update newVersion mapstruct</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\n    &lt;artifactId&gt;mapstruct&lt;/artifactId&gt;\n    &lt;version&gt;1.4.2.Final&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":29848408,"reputation":1,"user_id":22874908,"display_name":"Prem kamal"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699378771,"creation_date":1699378771,"answer_id":77440344,"question_id":66591176,"body_markdown":"Make sure you are using same versions of mapstruct and mapstruct-processor:\r\n\r\n    &lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;mapstruct-processor&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;1.5.3.Final&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;mapstruct&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;1.5.3.Final&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n\r\n","title":"java.lang.NullPointerException: Cannot invoke &quot;java.net.URL.toExternalForm()&quot; because &quot;resource&quot; is null at org.mapstruct","body":"<p>Make sure you are using same versions of mapstruct and mapstruct-processor:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\n    &lt;artifactId&gt;mapstruct-processor&lt;/artifactId&gt;\n    &lt;version&gt;1.5.3.Final&lt;/version&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n    &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\n    &lt;artifactId&gt;mapstruct&lt;/artifactId&gt;\n    &lt;version&gt;1.5.3.Final&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":16197209,"reputation":595,"user_id":11694539,"display_name":"Arthur"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":19357,"favorite_count":0,"down_vote_count":1,"up_vote_count":13,"answer_count":5,"score":12,"last_activity_date":1699378771,"creation_date":1615500011,"question_id":66591176,"body_markdown":"mvn compilation using Idea works fine.\r\n\r\nFails during App.main start.\r\n\r\nWorks well on older Idea on other PC on Ubuntu.\r\n\r\nENV:\r\n\r\n- Intellij 2020.3.2 as admin;\r\n\r\n- Java 15.02;\r\n\r\n- Windows 10 x64;\r\n\r\n- latest mapstruct.\r\n\r\nHow to fix this?\r\n\r\n```\r\nD:\\back\\src\\main\\java\\io\\x\\mapper\\Mapper.java:15:8 java: Internal error in the mapping processor: java.lang.NullPointerException: Cannot invoke &quot;java.net.URL.toExternalForm()&quot; because &quot;resource&quot; is null\r\nat org.mapstruct.ap.internal.processor.DefaultVersionInformation.createManifestUrl(DefaultVersionInformation.java:182)\r\nat org.mapstruct.ap.internal.processor.DefaultVersionInformation.openManifest(DefaultVersionInformation.java:153)\r\nat org.mapstruct.ap.internal.processor.DefaultVersionInformation.getLibraryName(DefaultVersionInformation.java:129)\r\nat org.mapstruct.ap.internal.processor.DefaultVersionInformation.getCompiler(DefaultVersionInformation.java:122)\r\nat org.mapstruct.ap.internal.processor.DefaultVersionInformation.fromProcessingEnvironment(DefaultVersionInformation.java:95)\r\nat org.mapstruct.ap.internal.processor.DefaultModelElementProcessorContext.&lt;init&gt;(DefaultModelElementProcessorContext.java:50)\r\nat org.mapstruct.ap.MappingProcessor.processMapperElements(MappingProcessor.java:218)\r\nat org.mapstruct.ap.MappingProcessor.process(MappingProcessor.java:156)\r\nat jdk.internal.reflect.GeneratedMethodAccessor207.invoke(Unknown Source)\r\nat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\nat java.base/java.lang.reflect.Method.invoke(Method.java:564)\r\nat org.jetbrains.jps.javac.APIWrappers$1.invoke(APIWrappers.java:248)\r\nat lombok.launch.AnnotationProcessorHider$AnnotationProcessor.process(Unknown Source)\r\nat jdk.compiler/com.sun.tools.javac.processing.JavacProcessingEnvironment.callProcessor(JavacProcessingEnvironment.java:1025)\r\nat jdk.compiler/com.sun.tools.javac.processing.JavacProcessingEnvironment.discoverAndRunProcs(JavacProcessingEnvironment.java:940)\r\nat jdk.compiler/com.sun.tools.javac.processing.JavacProcessingEnvironment$Round.run(JavacProcessingEnvironment.java:1269)\r\nat jdk.compiler/com.sun.tools.javac.processing.JavacProcessingEnvironment.doProcessing(JavacProcessingEnvironment.java:1383)\r\nat jdk.compiler/com.sun.tools.javac.main.JavaCompiler.processAnnotations(JavaCompiler.java:1261)\r\nat jdk.compiler/com.sun.tools.javac.main.JavaCompiler.compile(JavaCompiler.java:935)\r\nat jdk.compiler/com.sun.tools.javac.api.JavacTaskImpl.lambda$doCall$0(JavacTaskImpl.java:104)\r\nat jdk.compiler/com.sun.tools.javac.api.JavacTaskImpl.handleExceptions(JavacTaskImpl.java:147)\r\nat jdk.compiler/com.sun.tools.javac.api.JavacTaskImpl.doCall(JavacTaskImpl.java:100)\r\nat jdk.compiler/com.sun.tools.javac.api.JavacTaskImpl.call(JavacTaskImpl.java:94)\r\nat org.jetbrains.jps.javac.JavacMain.compile(JavacMain.java:231)\r\nat org.jetbrains.jps.incremental.java.JavaBuilder.compileJava(JavaBuilder.java:501)\r\nat org.jetbrains.jps.incremental.java.JavaBuilder.compile(JavaBuilder.java:353)\r\nat org.jetbrains.jps.incremental.java.JavaBuilder.doBuild(JavaBuilder.java:277)\r\nat org.jetbrains.jps.incremental.java.JavaBuilder.build(JavaBuilder.java:231)\r\nat org.jetbrains.jps.incremental.IncProjectBuilder.runModuleLevelBuilders(IncProjectBuilder.java:1441)\r\nat org.jetbrains.jps.incremental.IncProjectBuilder.runBuildersForChunk(IncProjectBuilder.java:1100)\r\nat org.jetbrains.jps.incremental.IncProjectBuilder.buildTargetsChunk(IncProjectBuilder.java:1224)\r\nat org.jetbrains.jps.incremental.IncProjectBuilder.buildChunkIfAffected(IncProjectBuilder.java:1066)\r\nat org.jetbrains.jps.incremental.IncProjectBuilder.access$1200(IncProjectBuilder.java:67)\r\nat org.jetbrains.jps.incremental.IncProjectBuilder$BuildParallelizer$1.run(IncProjectBuilder.java:1006)\r\nat com.intellij.util.concurrency.BoundedTaskExecutor.doRun(BoundedTaskExecutor.java:216)\r\nat com.intellij.util.concurrency.BoundedTaskExecutor.access$200(BoundedTaskExecutor.java:27)\r\nat com.intellij.util.concurrency.BoundedTaskExecutor$1.execute(BoundedTaskExecutor.java:195)\r\nat com.intellij.util.ConcurrencyUtil.runUnderThreadName(ConcurrencyUtil.java:208)\r\nat com.intellij.util.concurrency.BoundedTaskExecutor$1.run(BoundedTaskExecutor.java:184)\r\nat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1130)\r\nat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:630)\r\nat java.base/java.lang.Thread.run(Thread.java:832)\r\n```","title":"java.lang.NullPointerException: Cannot invoke &quot;java.net.URL.toExternalForm()&quot; because &quot;resource&quot; is null at org.mapstruct","body":"<p>mvn compilation using Idea works fine.</p>\n<p>Fails during App.main start.</p>\n<p>Works well on older Idea on other PC on Ubuntu.</p>\n<p>ENV:</p>\n<ul>\n<li><p>Intellij 2020.3.2 as admin;</p>\n</li>\n<li><p>Java 15.02;</p>\n</li>\n<li><p>Windows 10 x64;</p>\n</li>\n<li><p>latest mapstruct.</p>\n</li>\n</ul>\n<p>How to fix this?</p>\n<pre><code>D:\\back\\src\\main\\java\\io\\x\\mapper\\Mapper.java:15:8 java: Internal error in the mapping processor: java.lang.NullPointerException: Cannot invoke &quot;java.net.URL.toExternalForm()&quot; because &quot;resource&quot; is null\nat org.mapstruct.ap.internal.processor.DefaultVersionInformation.createManifestUrl(DefaultVersionInformation.java:182)\nat org.mapstruct.ap.internal.processor.DefaultVersionInformation.openManifest(DefaultVersionInformation.java:153)\nat org.mapstruct.ap.internal.processor.DefaultVersionInformation.getLibraryName(DefaultVersionInformation.java:129)\nat org.mapstruct.ap.internal.processor.DefaultVersionInformation.getCompiler(DefaultVersionInformation.java:122)\nat org.mapstruct.ap.internal.processor.DefaultVersionInformation.fromProcessingEnvironment(DefaultVersionInformation.java:95)\nat org.mapstruct.ap.internal.processor.DefaultModelElementProcessorContext.&lt;init&gt;(DefaultModelElementProcessorContext.java:50)\nat org.mapstruct.ap.MappingProcessor.processMapperElements(MappingProcessor.java:218)\nat org.mapstruct.ap.MappingProcessor.process(MappingProcessor.java:156)\nat jdk.internal.reflect.GeneratedMethodAccessor207.invoke(Unknown Source)\nat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\nat java.base/java.lang.reflect.Method.invoke(Method.java:564)\nat org.jetbrains.jps.javac.APIWrappers$1.invoke(APIWrappers.java:248)\nat lombok.launch.AnnotationProcessorHider$AnnotationProcessor.process(Unknown Source)\nat jdk.compiler/com.sun.tools.javac.processing.JavacProcessingEnvironment.callProcessor(JavacProcessingEnvironment.java:1025)\nat jdk.compiler/com.sun.tools.javac.processing.JavacProcessingEnvironment.discoverAndRunProcs(JavacProcessingEnvironment.java:940)\nat jdk.compiler/com.sun.tools.javac.processing.JavacProcessingEnvironment$Round.run(JavacProcessingEnvironment.java:1269)\nat jdk.compiler/com.sun.tools.javac.processing.JavacProcessingEnvironment.doProcessing(JavacProcessingEnvironment.java:1383)\nat jdk.compiler/com.sun.tools.javac.main.JavaCompiler.processAnnotations(JavaCompiler.java:1261)\nat jdk.compiler/com.sun.tools.javac.main.JavaCompiler.compile(JavaCompiler.java:935)\nat jdk.compiler/com.sun.tools.javac.api.JavacTaskImpl.lambda$doCall$0(JavacTaskImpl.java:104)\nat jdk.compiler/com.sun.tools.javac.api.JavacTaskImpl.handleExceptions(JavacTaskImpl.java:147)\nat jdk.compiler/com.sun.tools.javac.api.JavacTaskImpl.doCall(JavacTaskImpl.java:100)\nat jdk.compiler/com.sun.tools.javac.api.JavacTaskImpl.call(JavacTaskImpl.java:94)\nat org.jetbrains.jps.javac.JavacMain.compile(JavacMain.java:231)\nat org.jetbrains.jps.incremental.java.JavaBuilder.compileJava(JavaBuilder.java:501)\nat org.jetbrains.jps.incremental.java.JavaBuilder.compile(JavaBuilder.java:353)\nat org.jetbrains.jps.incremental.java.JavaBuilder.doBuild(JavaBuilder.java:277)\nat org.jetbrains.jps.incremental.java.JavaBuilder.build(JavaBuilder.java:231)\nat org.jetbrains.jps.incremental.IncProjectBuilder.runModuleLevelBuilders(IncProjectBuilder.java:1441)\nat org.jetbrains.jps.incremental.IncProjectBuilder.runBuildersForChunk(IncProjectBuilder.java:1100)\nat org.jetbrains.jps.incremental.IncProjectBuilder.buildTargetsChunk(IncProjectBuilder.java:1224)\nat org.jetbrains.jps.incremental.IncProjectBuilder.buildChunkIfAffected(IncProjectBuilder.java:1066)\nat org.jetbrains.jps.incremental.IncProjectBuilder.access$1200(IncProjectBuilder.java:67)\nat org.jetbrains.jps.incremental.IncProjectBuilder$BuildParallelizer$1.run(IncProjectBuilder.java:1006)\nat com.intellij.util.concurrency.BoundedTaskExecutor.doRun(BoundedTaskExecutor.java:216)\nat com.intellij.util.concurrency.BoundedTaskExecutor.access$200(BoundedTaskExecutor.java:27)\nat com.intellij.util.concurrency.BoundedTaskExecutor$1.execute(BoundedTaskExecutor.java:195)\nat com.intellij.util.ConcurrencyUtil.runUnderThreadName(ConcurrencyUtil.java:208)\nat com.intellij.util.concurrency.BoundedTaskExecutor$1.run(BoundedTaskExecutor.java:184)\nat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1130)\nat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:630)\nat java.base/java.lang.Thread.run(Thread.java:832)\n</code></pre>\n"},{"tags":["java","spring","spring-boot","spring-security","spring-data-jpa"],"comments":[{"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1699374904,"post_id":77439901,"comment_id":136522469,"body_markdown":"The code that you shared doesn&#39;t seem to be using HttpRequest. Is this the correct code?","body":"The code that you shared doesn&#39;t seem to be using HttpRequest. Is this the correct code?"},{"owner":{"account_id":29847915,"reputation":21,"user_id":22874531,"display_name":"Thiu L&#234; Văn"},"score":0,"creation_date":1699375334,"post_id":77439901,"comment_id":136522558,"body_markdown":"Sorry, i have edited the code and add the httprequest","body":"Sorry, i have edited the code and add the httprequest"},{"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1699378511,"post_id":77439901,"comment_id":136523170,"body_markdown":"None of the code seems directly related to the error. Are you using class `java.net.http.HttpRequest` somewhere in your application?","body":"None of the code seems directly related to the error. Are you using class <code>java.net.http.HttpRequest</code> somewhere in your application?"}],"answers":[{"tags":[],"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1699378741,"creation_date":1699378741,"answer_id":77440339,"question_id":77439901,"body_markdown":"The error seems to indicate that somewhere in your application it is trying to use the [constructor][1] for class `java.net.http.HttpRequest`. Since that constructor is declared as protected (`protected HttpRequest()`) you can not use directly. Instead you have to use one of the builder methods to construct an HttpRequest instance. For example `HttpRequest.newBuilder()`. See https://www.baeldung.com/java-9-http-client for examples.\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/11/docs/api/java.net.http/java/net/http/HttpRequest.html#%3Cinit%3E()","title":"Unable to make protected java.net.http.HttpRequest() accessible: module java.net.http does not &quot;opens java.net.http&quot; to unnamed module @41d477ed","body":"<p>The error seems to indicate that somewhere in your application it is trying to use the <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.net.http/java/net/http/HttpRequest.html#%3Cinit%3E()\" rel=\"nofollow noreferrer\">constructor</a> for class <code>java.net.http.HttpRequest</code>. Since that constructor is declared as protected (<code>protected HttpRequest()</code>) you can not use directly. Instead you have to use one of the builder methods to construct an HttpRequest instance. For example <code>HttpRequest.newBuilder()</code>. See <a href=\"https://www.baeldung.com/java-9-http-client\" rel=\"nofollow noreferrer\">https://www.baeldung.com/java-9-http-client</a> for examples.</p>\n"}],"owner":{"account_id":29847915,"reputation":21,"user_id":22874531,"display_name":"Thiu L&#234; Văn"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":88,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1699378741,"creation_date":1699374377,"question_id":77439901,"body_markdown":"Here is my error : \r\n```\r\n2023-11-07T23:21:13.207+07:00 ERROR 22720 --- [nio-8000-exec-2] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: java.lang.reflect.InaccessibleObjectException: Unable to make protected java.net.http.HttpRequest() accessible: module java.net.http does not &quot;opens java.net.http&quot; to unnamed module @41d477ed] with root cause\r\n\r\njava.lang.reflect.InaccessibleObjectException: Unable to make protected java.net.http.HttpRequest() accessible: module java.net.http does not &quot;opens java.net.http&quot; to unnamed module @41d477ed\r\n\tat java.base/java.lang.reflect.AccessibleObject.throwInaccessibleObjectException(AccessibleObject.java:387) ~[na:na]\r\n\tat java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:363) ~[na:na]\r\n\tat java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:311) ~[na:na]\r\n\r\n```\r\n\r\nI have tried congfig the java security but it does not work and have the above error\r\n```\r\n    @Bean\r\n    public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception{\r\n        http\r\n                .csrf(AbstractHttpConfigurer::disable)\r\n//                .securityContext((securityContext) -&gt; securityContext.requireExplicitSave(true))\r\n                .authorizeHttpRequests(req -&gt;  req.requestMatchers(&quot;/api/v1/auth/**&quot;)\r\n                        .permitAll()\r\n                        .anyRequest()\r\n                        .authenticated()\r\n\r\n\r\n                )\r\n                .sessionManagement(session -&gt; session.sessionCreationPolicy(SessionCreationPolicy.STATELESS))\r\n                .authenticationProvider(authenticationProvider)\r\n                .addFilterBefore(jwtAuthenticationFilter, UsernamePasswordAuthenticationFilter.class);\r\n\r\n        return http.build();\r\n    }\r\n```\r\nHere is my HttpRequest filter and my request: http://localhost:8000/api/v1/auth/signup\r\nI  think there is a error when i config the authorizeHttpRequests(req -&gt;  req.requestMatchers(&quot;/api/v1/auth/**&quot;)\r\n```\r\n    @Override\r\n    protected void doFilterInternal(  HttpServletRequest request, HttpServletResponse response, FilterChain filterChain) throws ServletException, IOException {\r\n        if(request.getServletPath().contains(&quot;/api/v1/auth&quot;)){\r\n            filterChain.doFilter(request,response);\r\n            return;\r\n        }\r\n        final String authHeader = request.getHeader(&quot;Authorization&quot;);\r\n        final String jwt;\r\n        final String userEmail;\r\n        if (authHeader==null || !authHeader.startsWith(&quot;Bearer &quot;)){\r\n            filterChain.doFilter(request,response);\r\n        }\r\n        assert authHeader != null;\r\n        jwt = authHeader.substring(7);\r\n        userEmail = jwtService.extractUsername(jwt);\r\n        //        SecurityContextHolder l&#224; nơi SpringSecurity lưu trữ th&#244;ng tin x&#225;c thực.\r\n        //SecuritySecurity sẽ kh&#244;ng x&#225;c thực c&#225;ch tạo SecurityContextHolder.\r\n        //Khi n&#243; t&#236;m thấy c&#225;c gi&#225; trị trong SecurityContextHolder, n&#243; giả định rằng người d&#249;ng hiện tại l&#224; người d&#249;ng được x&#225;c thực.\r\n        if(userEmail!=null &amp;&amp; SecurityContextHolder.getContext().getAuthentication()==null){\r\n            UserDetails userDetails = this.userDetailsService.loadUserByUsername(userEmail);\r\n            var isTokenValid = tokenRepo.findTokenByToken(jwt).map(token -&gt; !token.isExpired() &amp;&amp; token.revoked).orElse(false);\r\n            if(jwtService.isTokenValid(jwt,userDetails)&amp;&amp; isTokenValid){\r\n                UsernamePasswordAuthenticationToken authenticationToken = new UsernamePasswordAuthenticationToken(\r\n                        userDetails,\r\n                        null,\r\n                        userDetails.getAuthorities()\r\n                );\r\n//                authenticationToken.setDetails(\r\n//                        new We\r\n//                );\r\n                SecurityContextHolder.getContext().setAuthentication(authenticationToken);\r\n            }\r\n        }\r\n        filterChain.doFilter(request,response);\r\n    }\r\n```\r\n","title":"Unable to make protected java.net.http.HttpRequest() accessible: module java.net.http does not &quot;opens java.net.http&quot; to unnamed module @41d477ed","body":"<p>Here is my error :</p>\n<pre><code>2023-11-07T23:21:13.207+07:00 ERROR 22720 --- [nio-8000-exec-2] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: java.lang.reflect.InaccessibleObjectException: Unable to make protected java.net.http.HttpRequest() accessible: module java.net.http does not &quot;opens java.net.http&quot; to unnamed module @41d477ed] with root cause\n\njava.lang.reflect.InaccessibleObjectException: Unable to make protected java.net.http.HttpRequest() accessible: module java.net.http does not &quot;opens java.net.http&quot; to unnamed module @41d477ed\n    at java.base/java.lang.reflect.AccessibleObject.throwInaccessibleObjectException(AccessibleObject.java:387) ~[na:na]\n    at java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:363) ~[na:na]\n    at java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:311) ~[na:na]\n\n</code></pre>\n<p>I have tried congfig the java security but it does not work and have the above error</p>\n<pre><code>    @Bean\n    public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception{\n        http\n                .csrf(AbstractHttpConfigurer::disable)\n//                .securityContext((securityContext) -&gt; securityContext.requireExplicitSave(true))\n                .authorizeHttpRequests(req -&gt;  req.requestMatchers(&quot;/api/v1/auth/**&quot;)\n                        .permitAll()\n                        .anyRequest()\n                        .authenticated()\n\n\n                )\n                .sessionManagement(session -&gt; session.sessionCreationPolicy(SessionCreationPolicy.STATELESS))\n                .authenticationProvider(authenticationProvider)\n                .addFilterBefore(jwtAuthenticationFilter, UsernamePasswordAuthenticationFilter.class);\n\n        return http.build();\n    }\n</code></pre>\n<p>Here is my HttpRequest filter and my request: http://localhost:8000/api/v1/auth/signup\nI  think there is a error when i config the authorizeHttpRequests(req -&gt;  req.requestMatchers(&quot;/api/v1/auth/**&quot;)</p>\n<pre><code>    @Override\n    protected void doFilterInternal(  HttpServletRequest request, HttpServletResponse response, FilterChain filterChain) throws ServletException, IOException {\n        if(request.getServletPath().contains(&quot;/api/v1/auth&quot;)){\n            filterChain.doFilter(request,response);\n            return;\n        }\n        final String authHeader = request.getHeader(&quot;Authorization&quot;);\n        final String jwt;\n        final String userEmail;\n        if (authHeader==null || !authHeader.startsWith(&quot;Bearer &quot;)){\n            filterChain.doFilter(request,response);\n        }\n        assert authHeader != null;\n        jwt = authHeader.substring(7);\n        userEmail = jwtService.extractUsername(jwt);\n        //        SecurityContextHolder là nơi SpringSecurity lưu trữ thông tin xác thực.\n        //SecuritySecurity sẽ không xác thực cách tạo SecurityContextHolder.\n        //Khi nó tìm thấy các giá trị trong SecurityContextHolder, nó giả định rằng người dùng hiện tại là người dùng được xác thực.\n        if(userEmail!=null &amp;&amp; SecurityContextHolder.getContext().getAuthentication()==null){\n            UserDetails userDetails = this.userDetailsService.loadUserByUsername(userEmail);\n            var isTokenValid = tokenRepo.findTokenByToken(jwt).map(token -&gt; !token.isExpired() &amp;&amp; token.revoked).orElse(false);\n            if(jwtService.isTokenValid(jwt,userDetails)&amp;&amp; isTokenValid){\n                UsernamePasswordAuthenticationToken authenticationToken = new UsernamePasswordAuthenticationToken(\n                        userDetails,\n                        null,\n                        userDetails.getAuthorities()\n                );\n//                authenticationToken.setDetails(\n//                        new We\n//                );\n                SecurityContextHolder.getContext().setAuthentication(authenticationToken);\n            }\n        }\n        filterChain.doFilter(request,response);\n    }\n</code></pre>\n"},{"tags":["java","apache-flink","pyflink","amazon-kinesis-analytics"],"owner":{"account_id":29848261,"reputation":1,"user_id":22874795,"display_name":"m.clearpark"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1699378734,"creation_date":1699378734,"question_id":77440338,"body_markdown":"I have a simple Apache Flink (PyFlink) application which reads data from an AWS Kinesis stream using the Official flink connector and the Flink TableAPI https://nightlies.apache.org/flink/flink-docs-master/docs/connectors/datastream/kinesis/ \r\n\r\n```\r\nfrom pyflink.table import EnvironmentSettings, TableEnvironment\r\nimport os\r\nimport json\r\n\r\n# 1. Creates a Table Environment\r\nenv_settings = EnvironmentSettings.in_streaming_mode()\r\ntable_env = TableEnvironment.create(env_settings)\r\n\r\nstatement_set = table_env.create_statement_set()\r\n\r\nAPPLICATION_PROPERTIES_FILE_PATH = &quot;/etc/flink/application_properties.json&quot;  # on kda\r\n\r\nis_local = (\r\n    True if os.environ.get(&quot;IS_LOCAL&quot;) else False\r\n)  # set this env var in your local environment\r\n\r\nif is_local:\r\n    # only for local, overwrite variable to properties and pass in your jars delimited by a semicolon (;)\r\n    APPLICATION_PROPERTIES_FILE_PATH = &quot;application_properties.json&quot;  # local\r\n\r\n    CURRENT_DIR = os.path.dirname(os.path.realpath(__file__))\r\n    table_env.get_config().get_configuration().set_string(\r\n        &quot;pipeline.jars&quot;,\r\n        &quot;file:///&quot; + CURRENT_DIR + &quot;/lib/flink-sql-connector-kinesis-1.15.2.jar&quot;,\r\n    )\r\n\r\n\r\ndef get_application_properties():\r\n    if os.path.isfile(APPLICATION_PROPERTIES_FILE_PATH):\r\n        with open(APPLICATION_PROPERTIES_FILE_PATH, &quot;r&quot;) as file:\r\n            contents = file.read()\r\n            properties = json.loads(contents)\r\n            return properties\r\n    else:\r\n        print(&#39;A file at &quot;{}&quot; was not found&#39;.format(APPLICATION_PROPERTIES_FILE_PATH))\r\n\r\n\r\ndef property_map(props, property_group_id):\r\n    for prop in props:\r\n        if prop[&quot;PropertyGroupId&quot;] == property_group_id:\r\n            return prop[&quot;PropertyMap&quot;]\r\n\r\ndef create_source_table(table_name, stream_name, region, stream_initpos):\r\n    return &quot;&quot;&quot; CREATE TABLE {0} (\r\n                ticker VARCHAR(6),\r\n                price DOUBLE,\r\n                event_time TIMESTAMP(3),\r\n                WATERMARK FOR event_time AS event_time - INTERVAL &#39;5&#39; SECOND\r\n\r\n              )\r\n              PARTITIONED BY (ticker)\r\n              WITH (\r\n                &#39;connector&#39; = &#39;kinesis&#39;,\r\n                &#39;stream&#39; = &#39;{1}&#39;,\r\n                &#39;aws.region&#39; = &#39;{2}&#39;,\r\n                &#39;scan.stream.initpos&#39; = &#39;{3}&#39;,\r\n                &#39;format&#39; = &#39;json&#39;,\r\n                &#39;json.timestamp-format.standard&#39; = &#39;ISO-8601&#39;\r\n              ) &quot;&quot;&quot;.format(\r\n        table_name, stream_name, region, stream_initpos\r\n    )\r\n\r\n\r\ndef create_sink_table(table_name, stream_name, region, stream_initpos):\r\n    return &quot;&quot;&quot; CREATE TABLE {0} (\r\n                ticker VARCHAR(6),\r\n                price DOUBLE,\r\n                event_time TIMESTAMP(3),\r\n                WATERMARK FOR event_time AS event_time - INTERVAL &#39;5&#39; SECOND\r\n\r\n              )\r\n              PARTITIONED BY (ticker)\r\n              WITH (\r\n                &#39;connector&#39; = &#39;kinesis&#39;,\r\n                &#39;stream&#39; = &#39;{1}&#39;,\r\n                &#39;aws.region&#39; = &#39;{2}&#39;,\r\n                &#39;sink.partitioner-field-delimiter&#39; = &#39;;&#39;,\r\n                &#39;sink.batch.max-size&#39; = &#39;100&#39;,\r\n                &#39;format&#39; = &#39;json&#39;,\r\n                &#39;json.timestamp-format.standard&#39; = &#39;ISO-8601&#39;\r\n              ) &quot;&quot;&quot;.format(\r\n        table_name, stream_name, region\r\n    )\r\n\r\n\r\ndef create_print_table(table_name, stream_name, region, stream_initpos):\r\n    return &quot;&quot;&quot; CREATE TABLE {0} (\r\n                ticker VARCHAR(6),\r\n                price DOUBLE,\r\n                event_time TIMESTAMP(3),\r\n                WATERMARK FOR event_time AS event_time - INTERVAL &#39;5&#39; SECOND\r\n\r\n              )\r\n              WITH (\r\n                &#39;connector&#39; = &#39;print&#39;\r\n              ) &quot;&quot;&quot;.format(\r\n        table_name, stream_name, region, stream_initpos\r\n    )\r\n\r\ndef main():\r\n    # Application Property Keys\r\n    input_property_group_key = &quot;consumer.config.0&quot;\r\n    producer_property_group_key = &quot;producer.config.0&quot;\r\n\r\n    input_stream_key = &quot;input.stream.name&quot;\r\n    input_region_key = &quot;aws.region&quot;\r\n    input_starting_position_key = &quot;flink.stream.initpos&quot;\r\n\r\n    output_stream_key = &quot;output.stream.name&quot;\r\n    output_region_key = &quot;aws.region&quot;\r\n\r\n    # tables\r\n    input_table_name = &quot;input_table&quot;\r\n    output_table_name = &quot;output_table&quot;\r\n\r\n    # get application properties\r\n    props = get_application_properties()\r\n\r\n    input_property_map = property_map(props, input_property_group_key)\r\n    output_property_map = property_map(props, producer_property_group_key)\r\n\r\n    input_stream = input_property_map[input_stream_key]\r\n    input_region = input_property_map[input_region_key]\r\n    stream_initpos = input_property_map[input_starting_position_key]\r\n\r\n    output_stream = output_property_map[output_stream_key]\r\n    output_region = output_property_map[output_region_key]\r\n\r\n    # 2. Creates a source table from a Kinesis Data Stream\r\n    table_env.execute_sql(\r\n        create_source_table(input_table_name, input_stream, input_region, stream_initpos)\r\n    )\r\n\r\n    # 3. Creates a sink table writing to a Kinesis Data Stream\r\n    table_env.execute_sql(\r\n        create_sink_table(output_table_name, output_stream, output_region, stream_initpos)\r\n    )\r\n\r\n    # 4. Inserts the source table data into the sink table\r\n    table_result = table_env.execute_sql(&quot;INSERT INTO {0} SELECT * FROM {1}&quot;\r\n                                         .format(output_table_name, input_table_name))\r\n\r\n    if is_local:\r\n        table_result.wait()\r\n    else:\r\n        # get job status through TableResult\r\n        print(table_result.get_job_client().get_job_status())\r\n\r\n\r\nif __name__ == &quot;__main__&quot;:\r\n    main() \r\n```\r\n\r\nThe issue is that occasionally there is Malformed JSON in the Kinesis stream, which causes a\r\n`java.lang.RuntimeException: java.io.IOException: Failed to deserialize JSON` Exception to be raised. How can I configure the application/ Connector to ignore malformed entries in the Kinesis stream and continue?\r\n\r\nI tried handling this using standard try/except, however as this exception is likely being caused in the prepackaged Flink/Kinesis connector .jar, this has no effect.","title":"How to handle invalid JSON in the Apache Flink / AWS Kinesis Connector?","body":"<p>I have a simple Apache Flink (PyFlink) application which reads data from an AWS Kinesis stream using the Official flink connector and the Flink TableAPI <a href=\"https://nightlies.apache.org/flink/flink-docs-master/docs/connectors/datastream/kinesis/\" rel=\"nofollow noreferrer\">https://nightlies.apache.org/flink/flink-docs-master/docs/connectors/datastream/kinesis/</a></p>\n<pre><code>from pyflink.table import EnvironmentSettings, TableEnvironment\nimport os\nimport json\n\n# 1. Creates a Table Environment\nenv_settings = EnvironmentSettings.in_streaming_mode()\ntable_env = TableEnvironment.create(env_settings)\n\nstatement_set = table_env.create_statement_set()\n\nAPPLICATION_PROPERTIES_FILE_PATH = &quot;/etc/flink/application_properties.json&quot;  # on kda\n\nis_local = (\n    True if os.environ.get(&quot;IS_LOCAL&quot;) else False\n)  # set this env var in your local environment\n\nif is_local:\n    # only for local, overwrite variable to properties and pass in your jars delimited by a semicolon (;)\n    APPLICATION_PROPERTIES_FILE_PATH = &quot;application_properties.json&quot;  # local\n\n    CURRENT_DIR = os.path.dirname(os.path.realpath(__file__))\n    table_env.get_config().get_configuration().set_string(\n        &quot;pipeline.jars&quot;,\n        &quot;file:///&quot; + CURRENT_DIR + &quot;/lib/flink-sql-connector-kinesis-1.15.2.jar&quot;,\n    )\n\n\ndef get_application_properties():\n    if os.path.isfile(APPLICATION_PROPERTIES_FILE_PATH):\n        with open(APPLICATION_PROPERTIES_FILE_PATH, &quot;r&quot;) as file:\n            contents = file.read()\n            properties = json.loads(contents)\n            return properties\n    else:\n        print('A file at &quot;{}&quot; was not found'.format(APPLICATION_PROPERTIES_FILE_PATH))\n\n\ndef property_map(props, property_group_id):\n    for prop in props:\n        if prop[&quot;PropertyGroupId&quot;] == property_group_id:\n            return prop[&quot;PropertyMap&quot;]\n\ndef create_source_table(table_name, stream_name, region, stream_initpos):\n    return &quot;&quot;&quot; CREATE TABLE {0} (\n                ticker VARCHAR(6),\n                price DOUBLE,\n                event_time TIMESTAMP(3),\n                WATERMARK FOR event_time AS event_time - INTERVAL '5' SECOND\n\n              )\n              PARTITIONED BY (ticker)\n              WITH (\n                'connector' = 'kinesis',\n                'stream' = '{1}',\n                'aws.region' = '{2}',\n                'scan.stream.initpos' = '{3}',\n                'format' = 'json',\n                'json.timestamp-format.standard' = 'ISO-8601'\n              ) &quot;&quot;&quot;.format(\n        table_name, stream_name, region, stream_initpos\n    )\n\n\ndef create_sink_table(table_name, stream_name, region, stream_initpos):\n    return &quot;&quot;&quot; CREATE TABLE {0} (\n                ticker VARCHAR(6),\n                price DOUBLE,\n                event_time TIMESTAMP(3),\n                WATERMARK FOR event_time AS event_time - INTERVAL '5' SECOND\n\n              )\n              PARTITIONED BY (ticker)\n              WITH (\n                'connector' = 'kinesis',\n                'stream' = '{1}',\n                'aws.region' = '{2}',\n                'sink.partitioner-field-delimiter' = ';',\n                'sink.batch.max-size' = '100',\n                'format' = 'json',\n                'json.timestamp-format.standard' = 'ISO-8601'\n              ) &quot;&quot;&quot;.format(\n        table_name, stream_name, region\n    )\n\n\ndef create_print_table(table_name, stream_name, region, stream_initpos):\n    return &quot;&quot;&quot; CREATE TABLE {0} (\n                ticker VARCHAR(6),\n                price DOUBLE,\n                event_time TIMESTAMP(3),\n                WATERMARK FOR event_time AS event_time - INTERVAL '5' SECOND\n\n              )\n              WITH (\n                'connector' = 'print'\n              ) &quot;&quot;&quot;.format(\n        table_name, stream_name, region, stream_initpos\n    )\n\ndef main():\n    # Application Property Keys\n    input_property_group_key = &quot;consumer.config.0&quot;\n    producer_property_group_key = &quot;producer.config.0&quot;\n\n    input_stream_key = &quot;input.stream.name&quot;\n    input_region_key = &quot;aws.region&quot;\n    input_starting_position_key = &quot;flink.stream.initpos&quot;\n\n    output_stream_key = &quot;output.stream.name&quot;\n    output_region_key = &quot;aws.region&quot;\n\n    # tables\n    input_table_name = &quot;input_table&quot;\n    output_table_name = &quot;output_table&quot;\n\n    # get application properties\n    props = get_application_properties()\n\n    input_property_map = property_map(props, input_property_group_key)\n    output_property_map = property_map(props, producer_property_group_key)\n\n    input_stream = input_property_map[input_stream_key]\n    input_region = input_property_map[input_region_key]\n    stream_initpos = input_property_map[input_starting_position_key]\n\n    output_stream = output_property_map[output_stream_key]\n    output_region = output_property_map[output_region_key]\n\n    # 2. Creates a source table from a Kinesis Data Stream\n    table_env.execute_sql(\n        create_source_table(input_table_name, input_stream, input_region, stream_initpos)\n    )\n\n    # 3. Creates a sink table writing to a Kinesis Data Stream\n    table_env.execute_sql(\n        create_sink_table(output_table_name, output_stream, output_region, stream_initpos)\n    )\n\n    # 4. Inserts the source table data into the sink table\n    table_result = table_env.execute_sql(&quot;INSERT INTO {0} SELECT * FROM {1}&quot;\n                                         .format(output_table_name, input_table_name))\n\n    if is_local:\n        table_result.wait()\n    else:\n        # get job status through TableResult\n        print(table_result.get_job_client().get_job_status())\n\n\nif __name__ == &quot;__main__&quot;:\n    main() \n</code></pre>\n<p>The issue is that occasionally there is Malformed JSON in the Kinesis stream, which causes a\n<code>java.lang.RuntimeException: java.io.IOException: Failed to deserialize JSON</code> Exception to be raised. How can I configure the application/ Connector to ignore malformed entries in the Kinesis stream and continue?</p>\n<p>I tried handling this using standard try/except, however as this exception is likely being caused in the prepackaged Flink/Kinesis connector .jar, this has no effect.</p>\n"},{"tags":["java","spring","spring-security","jwt","spring-cloud"],"comments":[{"owner":{"account_id":6875395,"reputation":1037,"user_id":5284011,"display_name":"JohnXF"},"score":0,"creation_date":1699377366,"post_id":77440201,"comment_id":136522976,"body_markdown":"Perhaps share the exception/error you are getting. It will help diagnose the issue.","body":"Perhaps share the exception/error you are getting. It will help diagnose the issue."},{"owner":{"account_id":19482860,"reputation":45,"user_id":14252779,"display_name":"Robin Singh"},"score":0,"creation_date":1699378694,"post_id":77440201,"comment_id":136523203,"body_markdown":"io.jsonwebtoken.security.SignatureException: JWT signature does not match locally computed signature. JWT validity cannot be asserted and should not be trusted.","body":"io.jsonwebtoken.security.SignatureException: JWT signature does not match locally computed signature. JWT validity cannot be asserted and should not be trusted."},{"owner":{"account_id":6875395,"reputation":1037,"user_id":5284011,"display_name":"JohnXF"},"score":0,"creation_date":1699379184,"post_id":77440201,"comment_id":136523300,"body_markdown":"are you sure your signing key is the correct key required for verifying the signature? The key is signed with a private key and you should be using the corresponding public key to verify the signature.","body":"are you sure your signing key is the correct key required for verifying the signature? The key is signed with a private key and you should be using the corresponding public key to verify the signature."},{"owner":{"account_id":19482860,"reputation":45,"user_id":14252779,"display_name":"Robin Singh"},"score":0,"creation_date":1699379354,"post_id":77440201,"comment_id":136523326,"body_markdown":"using same key on both sides.","body":"using same key on both sides."},{"owner":{"account_id":6875395,"reputation":1037,"user_id":5284011,"display_name":"JohnXF"},"score":1,"creation_date":1699379706,"post_id":77440201,"comment_id":136523398,"body_markdown":"In the `ApplicationFilter` you are getting the secret from an ENV, getting the bytes and then getting the Base64 of those. You do not get the Base64 in the `AuthroizationHeaderFilter`. I think you need to remove the Base64 bit.","body":"In the <code>ApplicationFilter</code> you are getting the secret from an ENV, getting the bytes and then getting the Base64 of those. You do not get the Base64 in the <code>AuthroizationHeaderFilter</code>. I think you need to remove the Base64 bit."},{"owner":{"account_id":19482860,"reputation":45,"user_id":14252779,"display_name":"Robin Singh"},"score":0,"creation_date":1699380138,"post_id":77440201,"comment_id":136523453,"body_markdown":"thanks I see progress, although getting different error now.\nio.jsonwebtoken.UnsupportedJwtException: Unexpected Claims JWS.","body":"thanks I see progress, although getting different error now. io.jsonwebtoken.UnsupportedJwtException: Unexpected Claims JWS."}],"owner":{"account_id":19482860,"reputation":45,"user_id":14252779,"display_name":"Robin Singh"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1699378683,"creation_date":1699377160,"question_id":77440201,"body_markdown":"Its possible I am making holy grail of mistake here, been following guide to implement JWT authentication on spring-cloud. Library (jjwt) used in guide has has gone through some changes from the time when guide was published.\r\nAdding token header to response received from successful authentication.\r\nI was trying to implement as per latest documentation, I am really clueless what is going wrong.\r\n\r\nAPI Gateway/ AuthorizationHeaderFilter.java\r\n\r\n    private boolean isJwtValid(String jwt) {\r\n    \t\tboolean isValid = false;\r\n    \t\tString subject = null;\r\n    \t\tString tokenSecret = env.getProperty(&quot;token.secret&quot;);\r\n    \t\tSecretKey signingKey = Keys.hmacShaKeyFor(tokenSecret.getBytes());\r\n    \r\n    \t\tJwtParser parser = Jwts.parser().verifyWith(signingKey).build();\r\n    \t\t\r\n    \t\ttry {\r\n    \t\t\tJwt&lt;Header, Claims&gt; parsedToken = (Jwt&lt;Header, Claims&gt;) parser.parseUnsecuredClaims(jwt);\r\n    \t\t\tsubject = parsedToken.getPayload().getSubject();\r\n    \t\t}\r\n    \t\tcatch(Exception ex) {\r\n     \t\t\tSystem.out.println(&quot;ERRRRRRRRROR&quot;);\r\n    \t\t}\r\n    \t\t\r\n    \t\tif(subject !=null &amp;&amp; !subject.isEmpty()) {\r\n    \t\t\tisValid = true;\r\n    \t\t}\r\n    \t\treturn isValid;\r\n    \t}\r\n\r\n\r\nUserApplication / AuthenticationFilter.java\r\n\r\n    @Override\r\n    \tprotected void successfulAuthentication(HttpServletRequest req, HttpServletResponse res, FilterChain chain,\r\n    \t\t\tAuthentication auth) throws IOException, ServletException {\r\n    \t\tString userName = ((User) auth.getPrincipal()).getUsername();\r\n    \t\tUserDto userDto = userService.getUserDetailsByEmail(userName);\r\n    \t\tString tokenSecret = environment.getProperty(&quot;token.secret&quot;);\r\n    \t\tbyte[] secretKeyBytes = Base64.encodeBase64(tokenSecret.getBytes());\r\n    \t\tSecretKey secretKey = Keys.hmacShaKeyFor(secretKeyBytes);\r\n    \t\t\r\n    \t\tInstant now = Instant.now();\r\n    \t\tString token = Jwts.builder().subject(userDto.getUserId()).expiration(\r\n    \t\t\t\tDate.from(now.plusMillis(Long.parseLong(environment.getProperty(&quot;token.expiration_time&quot;)))))\r\n    \t\t.issuedAt(Date.from(now))\r\n    \t\t.signWith(secretKey)\r\n    \t\t.compact();\r\n    \t\t\r\n    \t\tres.addHeader(&quot;token&quot;, token);\r\n    \t\tres.addHeader(&quot;userId&quot;, userDto.getUserId());\r\n    \t}\r\n\r\nException Message: io.jsonwebtoken.security.SignatureException: JWT signature does not match locally computed signature. JWT validity cannot be asserted and should not be trusted.","title":"JWT mismatch error while authenticating at APIGateway","body":"<p>Its possible I am making holy grail of mistake here, been following guide to implement JWT authentication on spring-cloud. Library (jjwt) used in guide has has gone through some changes from the time when guide was published.\nAdding token header to response received from successful authentication.\nI was trying to implement as per latest documentation, I am really clueless what is going wrong.</p>\n<p>API Gateway/ AuthorizationHeaderFilter.java</p>\n<pre><code>private boolean isJwtValid(String jwt) {\n        boolean isValid = false;\n        String subject = null;\n        String tokenSecret = env.getProperty(&quot;token.secret&quot;);\n        SecretKey signingKey = Keys.hmacShaKeyFor(tokenSecret.getBytes());\n\n        JwtParser parser = Jwts.parser().verifyWith(signingKey).build();\n        \n        try {\n            Jwt&lt;Header, Claims&gt; parsedToken = (Jwt&lt;Header, Claims&gt;) parser.parseUnsecuredClaims(jwt);\n            subject = parsedToken.getPayload().getSubject();\n        }\n        catch(Exception ex) {\n            System.out.println(&quot;ERRRRRRRRROR&quot;);\n        }\n        \n        if(subject !=null &amp;&amp; !subject.isEmpty()) {\n            isValid = true;\n        }\n        return isValid;\n    }\n</code></pre>\n<p>UserApplication / AuthenticationFilter.java</p>\n<pre><code>@Override\n    protected void successfulAuthentication(HttpServletRequest req, HttpServletResponse res, FilterChain chain,\n            Authentication auth) throws IOException, ServletException {\n        String userName = ((User) auth.getPrincipal()).getUsername();\n        UserDto userDto = userService.getUserDetailsByEmail(userName);\n        String tokenSecret = environment.getProperty(&quot;token.secret&quot;);\n        byte[] secretKeyBytes = Base64.encodeBase64(tokenSecret.getBytes());\n        SecretKey secretKey = Keys.hmacShaKeyFor(secretKeyBytes);\n        \n        Instant now = Instant.now();\n        String token = Jwts.builder().subject(userDto.getUserId()).expiration(\n                Date.from(now.plusMillis(Long.parseLong(environment.getProperty(&quot;token.expiration_time&quot;)))))\n        .issuedAt(Date.from(now))\n        .signWith(secretKey)\n        .compact();\n        \n        res.addHeader(&quot;token&quot;, token);\n        res.addHeader(&quot;userId&quot;, userDto.getUserId());\n    }\n</code></pre>\n<p>Exception Message: io.jsonwebtoken.security.SignatureException: JWT signature does not match locally computed signature. JWT validity cannot be asserted and should not be trusted.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1083854,"reputation":13775,"user_id":1080064,"accept_rate":43,"display_name":"tkausl"},"score":3,"creation_date":1699377373,"post_id":77440209,"comment_id":136522977,"body_markdown":"You cannot read a file without knowing its structure.","body":"You cannot read a file without knowing its structure."},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":1,"creation_date":1699378095,"post_id":77440209,"comment_id":136523096,"body_markdown":"Whatever software wrote the data must provide you with the format.  All software works this way;  even web browsers are only able to function because [HTTP is a standard](https://datatracker.ietf.org/doc/html/rfc2616).","body":"Whatever software wrote the data must provide you with the format.  All software works this way;  even web browsers are only able to function because <a href=\"https://datatracker.ietf.org/doc/html/rfc2616\" rel=\"nofollow noreferrer\">HTTP is a standard</a>."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1699420470,"post_id":77440209,"comment_id":136527824,"body_markdown":"The information technology industry has never established a standard way of communicating file system metadata such as character encoding. Software must fall back on guesswork and luck, [heuristics](https://en.wikipedia.org/wiki/Heuristic).","body":"The information technology industry has never established a standard way of communicating file system metadata such as character encoding. Software must fall back on guesswork and luck, <a href=\"https://en.wikipedia.org/wiki/Heuristic\" rel=\"nofollow noreferrer\">heuristics</a>."}],"answers":[{"tags":[],"owner":{"account_id":465573,"reputation":192703,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1699378663,"creation_date":1699378663,"answer_id":77440328,"question_id":77440209,"body_markdown":"&gt; How am I supposed to read the content of a file while I don&#39;t know anything about its content (byte array and List Array together in one file)?\r\n\r\nYou aren&#39;t.\r\n\r\nTo process a file, you must know, or be able to detect (e.g. by a special set of bytes that indicates the file type), how the data in the file is structured.","title":"How to read a file while it consists of different encoding?","body":"<blockquote>\n<p>How am I supposed to read the content of a file while I don't know anything about its content (byte array and List Array together in one file)?</p>\n</blockquote>\n<p>You aren't.</p>\n<p>To process a file, you must know, or be able to detect (e.g. by a special set of bytes that indicates the file type), how the data in the file is structured.</p>\n"}],"owner":{"account_id":25817348,"reputation":15,"user_id":19557082,"display_name":"Hamed"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77440328,"answer_count":1,"score":0,"last_activity_date":1699378663,"creation_date":1699377243,"question_id":77440209,"body_markdown":"It is possible to write both **byte array** and **List&lt;String&gt; array** in one file, such as h.txt, in Java. However, as you know they have different formats and encodings. One possible way to write both byte array and List&lt;String&gt; array in one file is to use a DataOutputStream, which allows you to write primitive values and strings to an output stream:\r\n\r\n    `byte[] bytes = {1, 2, 3, 4, 5};\r\n     List&lt;String&gt; strings = new ArrayList&lt;&gt;();\r\n     strings.add(&quot;Hello&quot;);\r\n     strings.add(&quot;World&quot;);\r\n     strings.add(&quot;!&quot;);\r\n\r\n     FileOutputStream fos = new FileOutputStream(&quot;h.txt&quot;);\r\n     DataOutputStream dos = new DataOutputStream(fos);\r\n     dos.writeInt(bytes.length);\r\n     dos.write(bytes);\r\n     dos.writeInt(strings.size());\r\n     for (String s : strings) {\r\n        dos.writeUTF(s);\r\n     }`\r\n\r\nAnd, in order to read the data from the file you can use the following code:\r\n\r\n    `FileInputStream fis = new FileInputStream(&quot;h.txt&quot;);\r\n     DataInputStream dis = new DataInputStream(fis);\r\n     int byteLength = dis.readInt();\r\n     byte[] bytes = new byte[byteLength];\r\n     dis.readFully(bytes);\r\n     int stringSize = dis.readInt();\r\n     List&lt;String&gt; strings = new ArrayList&lt;&gt;();\r\n     for (int i = 0; i &lt; stringSize; i++) {\r\n        String s = dis.readUTF();\r\n        strings.add(s);\r\n     }`\r\n\r\nBut reading the data here was based on the fact that I was completely aware of the h.txt content. \r\nMy Question is: \r\nHow am I supposed to read the content of a file while I don&#39;t know anything about its content (byte array and List&lt;String&gt; Array together in one file)?","title":"How to read a file while it consists of different encoding?","body":"<p>It is possible to write both <strong>byte array</strong> and <strong>List array</strong> in one file, such as h.txt, in Java. However, as you know they have different formats and encodings. One possible way to write both byte array and List array in one file is to use a DataOutputStream, which allows you to write primitive values and strings to an output stream:</p>\n<pre><code>`byte[] bytes = {1, 2, 3, 4, 5};\n List&lt;String&gt; strings = new ArrayList&lt;&gt;();\n strings.add(&quot;Hello&quot;);\n strings.add(&quot;World&quot;);\n strings.add(&quot;!&quot;);\n\n FileOutputStream fos = new FileOutputStream(&quot;h.txt&quot;);\n DataOutputStream dos = new DataOutputStream(fos);\n dos.writeInt(bytes.length);\n dos.write(bytes);\n dos.writeInt(strings.size());\n for (String s : strings) {\n    dos.writeUTF(s);\n }`\n</code></pre>\n<p>And, in order to read the data from the file you can use the following code:</p>\n<pre><code>`FileInputStream fis = new FileInputStream(&quot;h.txt&quot;);\n DataInputStream dis = new DataInputStream(fis);\n int byteLength = dis.readInt();\n byte[] bytes = new byte[byteLength];\n dis.readFully(bytes);\n int stringSize = dis.readInt();\n List&lt;String&gt; strings = new ArrayList&lt;&gt;();\n for (int i = 0; i &lt; stringSize; i++) {\n    String s = dis.readUTF();\n    strings.add(s);\n }`\n</code></pre>\n<p>But reading the data here was based on the fact that I was completely aware of the h.txt content.\nMy Question is:\nHow am I supposed to read the content of a file while I don't know anything about its content (byte array and List Array together in one file)?</p>\n"},{"tags":["java","oauth-2.0","google-api","google-oauth","google-calendar-api"],"answers":[{"comments":[{"owner":{"account_id":29846869,"reputation":1,"user_id":22873757,"display_name":"themsleeves"},"score":0,"creation_date":1699372126,"post_id":77438956,"comment_id":136521938,"body_markdown":"Thank you @Linda ! Very useful informations !","body":"Thank you @Linda ! Very useful informations !"},{"owner":{"account_id":29846869,"reputation":1,"user_id":22873757,"display_name":"themsleeves"},"score":0,"creation_date":1699378778,"post_id":77438956,"comment_id":136523221,"body_markdown":"please, is Google Workspace some kind of enterprise edition ? I mean... the final user will probably have gmail entreprise account and will not use his personnal gmail account... Would it be in this case possible to have one access for all users and once for all ?","body":"please, is Google Workspace some kind of enterprise edition ? I mean... the final user will probably have gmail entreprise account and will not use his personnal gmail account... Would it be in this case possible to have one access for all users and once for all ?"},{"owner":{"account_id":2066403,"reputation":109440,"user_id":1841839,"accept_rate":71,"display_name":"Linda Lawton - DaImTo"},"score":0,"creation_date":1699379096,"post_id":77438956,"comment_id":136523285,"body_markdown":"Check - https://workspace.google.com/  if it is then the admin can set it up so you can access all the users on the domain.","body":"Check - <a href=\"https://workspace.google.com/\" rel=\"nofollow noreferrer\">workspace.google.com</a>  if it is then the admin can set it up so you can access all the users on the domain."}],"tags":[],"owner":{"account_id":2066403,"reputation":109440,"user_id":1841839,"accept_rate":71,"display_name":"Linda Lawton - DaImTo"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699366698,"creation_date":1699366698,"answer_id":77438956,"question_id":77438925,"body_markdown":"&gt;As I already read, google calendar API will need authorization for each calendar you will need to insert events...\r\n\r\nGoogle calendar api will need authorization to the user who owns the calendar. You get access to all of a users calendars. So if you want access to 5 calendars and they are owned by a single user only that user need authorize your application.  However if you want access to 5 calendars owned by different users then they will need all authorize your application.\r\n\r\n&gt;My Need : Insert events for multiple users without having to wait for users to authorize before the insertions...\r\n\r\nGoogle calendar data is private user data if you want access to a users Google calendar you need to ask for their consent. There is no way around this.\r\n\r\n&gt;Is there any way to bypass user authorization ? Is there any kind of supervisor account to do so ? \r\n\r\nNot unless the accounts are on google workspace, in which case the admin of the workspace domain you can configure a service account with domain wide delegation to access the users accounts.  This will not work with a standard Google gmail domain account.\r\n\r\n\r\n","title":"Insert events with google calendar API into multiple calendars for multiple users","body":"<blockquote>\n<p>As I already read, google calendar API will need authorization for each calendar you will need to insert events...</p>\n</blockquote>\n<p>Google calendar api will need authorization to the user who owns the calendar. You get access to all of a users calendars. So if you want access to 5 calendars and they are owned by a single user only that user need authorize your application.  However if you want access to 5 calendars owned by different users then they will need all authorize your application.</p>\n<blockquote>\n<p>My Need : Insert events for multiple users without having to wait for users to authorize before the insertions...</p>\n</blockquote>\n<p>Google calendar data is private user data if you want access to a users Google calendar you need to ask for their consent. There is no way around this.</p>\n<blockquote>\n<p>Is there any way to bypass user authorization ? Is there any kind of supervisor account to do so ?</p>\n</blockquote>\n<p>Not unless the accounts are on google workspace, in which case the admin of the workspace domain you can configure a service account with domain wide delegation to access the users accounts.  This will not work with a standard Google gmail domain account.</p>\n"}],"owner":{"account_id":29846869,"reputation":1,"user_id":22873757,"display_name":"themsleeves"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1699378602,"creation_date":1699366435,"question_id":77438925,"body_markdown":"As I already read, google calendar API will need authorization for each calendar you will need to insert events... \r\n\r\nMy needs : Beeing able to insert events for multiple users without having to wait for users to authorize before the insertions...\r\n\r\n(Some kind of batch export will call multiple times the insert method for several users)\r\n\r\nI tried inserting for one user and needed to authorize before the API can work...\r\n\r\nIs there any way to bypass user authorization ? \r\n\r\nIs there any kind of supervisor account to do so ?\r\n\r\nIs there any kind of google paid service who can handle this task ?","title":"Insert events with google calendar API into multiple calendars for multiple users","body":"<p>As I already read, google calendar API will need authorization for each calendar you will need to insert events...</p>\n<p>My needs : Beeing able to insert events for multiple users without having to wait for users to authorize before the insertions...</p>\n<p>(Some kind of batch export will call multiple times the insert method for several users)</p>\n<p>I tried inserting for one user and needed to authorize before the API can work...</p>\n<p>Is there any way to bypass user authorization ?</p>\n<p>Is there any kind of supervisor account to do so ?</p>\n<p>Is there any kind of google paid service who can handle this task ?</p>\n"},{"tags":["java","spring","testing","spring-boot","spring-test"],"comments":[{"owner":{"account_id":165479,"reputation":30126,"user_id":388980,"display_name":"Sam Brannen"},"score":0,"creation_date":1472841388,"post_id":39296329,"comment_id":65931624,"body_markdown":"Are you absolutely positive that you did not change _any_ of the related code?","body":"Are you absolutely positive that you did not change <i>any</i> of the related code?"},{"owner":{"account_id":165479,"reputation":30126,"user_id":388980,"display_name":"Sam Brannen"},"score":0,"creation_date":1472905327,"post_id":39296329,"comment_id":65946471,"body_markdown":"Can you please tell us the exact versions of `spring-test` that you were using _before_ and _after_ you migrated?","body":"Can you please tell us the exact versions of <code>spring-test</code> that you were using <i>before</i> and <i>after</i> you migrated?"},{"owner":{"account_id":165479,"reputation":30126,"user_id":388980,"display_name":"Sam Brannen"},"score":0,"creation_date":1472906249,"post_id":39296329,"comment_id":65946719,"body_markdown":"FYI: if you upgraded from Spring Framework 4.1 to Spring Framework 4.2, then the following issue could be the cause of the different behavior: https://jira.spring.io/browse/SPR-13068","body":"FYI: if you upgraded from Spring Framework 4.1 to Spring Framework 4.2, then the following issue could be the cause of the different behavior: <a href=\"https://jira.spring.io/browse/SPR-13068\" rel=\"nofollow noreferrer\">jira.spring.io/browse/SPR-13068</a>"},{"owner":{"account_id":165479,"reputation":30126,"user_id":388980,"display_name":"Sam Brannen"},"score":3,"creation_date":1473504256,"post_id":39296329,"comment_id":66174505,"body_markdown":"Just a friendly note that if you find one of the answers to your question acceptable, feel free to [accept it](http://stackoverflow.com/help/accepted-answer) if you want to.","body":"Just a friendly note that if you find one of the answers to your question acceptable, feel free to <a href=\"http://stackoverflow.com/help/accepted-answer\">accept it</a> if you want to."}],"answers":[{"tags":[],"owner":{"account_id":165479,"reputation":30126,"user_id":388980,"display_name":"Sam Brannen"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1472907127,"creation_date":1472907127,"answer_id":39307103,"question_id":39296329,"body_markdown":"&gt; With spring boot 1.3 is there a different way of doing this? So that parent class scripts are run before child class scripts?\r\n\r\nOK, after some investigative work, I have come up with an answer to your question.\r\n\r\n**Short Answer**\r\n\r\nNo, what you are attempting to do is unfortunately not possible.\r\n\r\n**Detailed Answer**\r\n\r\nBy design, merging of a local class-level declaration of `@Sql` with a class-level declaration of `@Sql` on a superclass has never been supported. A local declaration was always intended to _override_ a declaration on a superclass.\r\n\r\nThus, you were simply lucky (or unlucky, depending on how you see it) that it worked for you at all.\r\n\r\nThe only reason it ever worked for you was due to a bug in core Spring&#39;s support for looking up `@Repeatable` annotations (see [SPR-13068][1] for details).\r\n\r\nHowever, this bug was fixed in Spring Framework 4.2, and since Spring Boot 1.3 automatically upgraded your Spring Framework dependencies to 4.2 that&#39;s why you noticed the issue after the Spring Boot upgrade.\r\n\r\nRegards,\r\n\r\nSam (_author of the Spring TestContext Framework_)\r\n\r\n  [1]: https://jira.spring.io/browse/SPR-13068","title":"Merging @Sql from superclass with @Sql in subclass","body":"<blockquote>\n  <p>With spring boot 1.3 is there a different way of doing this? So that parent class scripts are run before child class scripts?</p>\n</blockquote>\n\n<p>OK, after some investigative work, I have come up with an answer to your question.</p>\n\n<p><strong>Short Answer</strong></p>\n\n<p>No, what you are attempting to do is unfortunately not possible.</p>\n\n<p><strong>Detailed Answer</strong></p>\n\n<p>By design, merging of a local class-level declaration of <code>@Sql</code> with a class-level declaration of <code>@Sql</code> on a superclass has never been supported. A local declaration was always intended to <em>override</em> a declaration on a superclass.</p>\n\n<p>Thus, you were simply lucky (or unlucky, depending on how you see it) that it worked for you at all.</p>\n\n<p>The only reason it ever worked for you was due to a bug in core Spring's support for looking up <code>@Repeatable</code> annotations (see <a href=\"https://jira.spring.io/browse/SPR-13068\" rel=\"noreferrer\">SPR-13068</a> for details).</p>\n\n<p>However, this bug was fixed in Spring Framework 4.2, and since Spring Boot 1.3 automatically upgraded your Spring Framework dependencies to 4.2 that's why you noticed the issue after the Spring Boot upgrade.</p>\n\n<p>Regards,</p>\n\n<p>Sam (<em>author of the Spring TestContext Framework</em>)</p>\n"},{"tags":[],"owner":{"account_id":7844116,"reputation":912,"user_id":5929690,"accept_rate":50,"display_name":"Rahul Sharma"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1474784533,"creation_date":1473565902,"answer_id":39432680,"question_id":39296329,"body_markdown":"After @SamBrannen&#39;s [answer](https://stackoverflow.com/a/39307103/5929690), I ended up running the script from child class using `ScriptUtils.execute` method.","title":"Merging @Sql from superclass with @Sql in subclass","body":"<p>After @SamBrannen's <a href=\"https://stackoverflow.com/a/39307103/5929690\">answer</a>, I ended up running the script from child class using <code>ScriptUtils.execute</code> method.</p>\n"},{"tags":[],"owner":{"account_id":13463936,"reputation":73,"user_id":9714946,"display_name":"Sergey Yaushev"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699378335,"creation_date":1699378335,"answer_id":77440304,"question_id":39296329,"body_markdown":"Agree with @Rahul Sharma,\r\nhere is my implementation in abstract class\r\n```\r\n  @AfterEach\r\n    void tearDown() {\r\n        try {\r\n            ScriptUtils.executeSqlScript( Objects.requireNonNull(jdbcTemplate.getDataSource()).getConnection(), new ClassPathResource(&quot;/sql/clean.sql&quot;));\r\n        } catch (SQLException e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n    }`","title":"Merging @Sql from superclass with @Sql in subclass","body":"<p>Agree with @Rahul Sharma,\nhere is my implementation in abstract class</p>\n<pre><code>  @AfterEach\n    void tearDown() {\n        try {\n            ScriptUtils.executeSqlScript( Objects.requireNonNull(jdbcTemplate.getDataSource()).getConnection(), new ClassPathResource(&quot;/sql/clean.sql&quot;));\n        } catch (SQLException e) {\n            throw new RuntimeException(e);\n        }\n    }`\n</code></pre>\n"}],"owner":{"account_id":7844116,"reputation":912,"user_id":5929690,"accept_rate":50,"display_name":"Rahul Sharma"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1935,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":39432680,"answer_count":3,"score":5,"last_activity_date":1699378335,"creation_date":1472831272,"question_id":39296329,"body_markdown":"I have an abstract class annotated with `@Sql(executionPhase = ExecutionPhase.BEFORE_TEST_METHOD, scripts=&quot;someScript&quot;)` . \r\n\r\nI have a test class which inherits from the abstract class. The child class is also annotated with `@Sql(executionPhase = ExecutionPhase.BEFORE_TEST_METHOD, scripts=&quot;someOtherScript&quot;)`.\r\n\r\nWhen I was running spring boot 1.2, everything worked as I expected it to: scripts from parent class were run before child class. I upgraded to spring boot 1.3 and now, the child class&#39;s `@Sql` overrides parent class&#39;s `@Sql` and the parent class scripts are never run.\r\n\r\nWith spring boot 1.3 is there a different way of doing this? So that parent class scripts are run before child class scripts?","title":"Merging @Sql from superclass with @Sql in subclass","body":"<p>I have an abstract class annotated with <code>@Sql(executionPhase = ExecutionPhase.BEFORE_TEST_METHOD, scripts=\"someScript\")</code> . </p>\n\n<p>I have a test class which inherits from the abstract class. The child class is also annotated with <code>@Sql(executionPhase = ExecutionPhase.BEFORE_TEST_METHOD, scripts=\"someOtherScript\")</code>.</p>\n\n<p>When I was running spring boot 1.2, everything worked as I expected it to: scripts from parent class were run before child class. I upgraded to spring boot 1.3 and now, the child class's <code>@Sql</code> overrides parent class's <code>@Sql</code> and the parent class scripts are never run.</p>\n\n<p>With spring boot 1.3 is there a different way of doing this? So that parent class scripts are run before child class scripts?</p>\n"},{"tags":["java","swing","google-maps","google-maps-api-3"],"comments":[{"owner":{"account_id":114128,"reputation":50467,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":0,"creation_date":1699384553,"post_id":77440230,"comment_id":136524210,"body_markdown":"You can use the [Java Client for Google Maps Services](https://github.com/googlemaps/google-maps-services-java) but this requires extremely advanced Java coding and understanding.","body":"You can use the <a href=\"https://github.com/googlemaps/google-maps-services-java\" rel=\"nofollow noreferrer\">Java Client for Google Maps Services</a> but this requires extremely advanced Java coding and understanding."}],"owner":{"account_id":28188919,"reputation":1,"user_id":21544637,"display_name":"solyssa"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1699377510,"creation_date":1699377400,"question_id":77440230,"body_markdown":"I need to display an interactive map in a JPanel using Swing, so I decided to use the Google Maps API, but I have no idea how to do it. I&#39;ve looked at previous posts that have answered my question, but they are outdated solutions. Alternatively, if I can&#39;t embed it into my program, I have considered using the Mapbox API as well, but I run into the same problem of not knowing how to embed it into my program. Also important to note: I have to use IntelliJ IDEA, so I can&#39;t use other IDEs like Netbean to get this working. If anyone knows how to display an interactive map using through a JPanel without using JxBrowser, please let me know!\r\n\r\nI&#39;ve tried using JxBrowser&#39;s tutorial: https://jxbrowser-support.teamdev.com/docs/tutorials/maps.html but my license won&#39;t work for some reason. Whenever I run\r\n\r\n`EngineOptions options = EngineOptions.newBuilder(HARDWARE_ACCELERATED).licenseKey(&quot;API_KEY&quot;).build();`\r\n\r\nI end up getting an InvalidLicenseException even though I just got the license so I can&#39;t use the JxBrowser library for this. I have also tried using the JavaFX libraries. Admittedly, I am unfamiliar with how to use this library so I used code generated by ChatGPT, but it resulted in a blank screen:\r\n\r\n\r\n```\r\nimport javax.swing.*;\r\nimport java.awt.*;\r\n\r\npublic class GoogleMapsSwingExample extends JFrame {\r\n\r\n    public GoogleMapsSwingExample() {\r\n        super(&quot;Google Maps in Java Swing&quot;);\r\n\r\n        JEditorPane editorPane = new JEditorPane();\r\n        editorPane.setEditable(false);\r\n        editorPane.setContentType(&quot;text/html&quot;);\r\n        // Enable debugging output\r\n        editorPane.putClientProperty(JEditorPane.HONOR_DISPLAY_PROPERTIES, true);\r\n\r\n        editorPane.setText(&quot;&lt;html&gt;&lt;body&gt;&lt;iframe width=\\&quot;600\\&quot; height=\\&quot;450\\&quot; style=\\&quot;border: 0\\&quot; loading=\\&quot;lazy\\&quot; allowfullscreen &quot; +\r\n                &quot;src=\\&quot;https://www.google.com/maps/embed/v1/place?key=AIzaSyAMz9doGhcdEYjPoXY3Cv4TCd58-eHDubU&amp;q=Eiffel%20Tower\\&quot; &quot; +\r\n                &quot;onerror=\\&quot;alert(&#39;Failed to load Google Maps&#39;)\\&quot;&gt;&lt;/iframe&gt;&lt;/body&gt;&lt;/html&gt;&quot;);\r\n\r\n        JScrollPane scrollPane = new JScrollPane(editorPane);\r\n        add(scrollPane, BorderLayout.CENTER);\r\n\r\n        setSize(800, 600);\r\n        setLocationRelativeTo(null);\r\n        setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        SwingUtilities.invokeLater(() -&gt; {\r\n            GoogleMapsSwingExample example = new GoogleMapsSwingExample();\r\n            example.setVisible(true);\r\n        });\r\n    }\r\n}\r\n```\r\n\r\nI really have no idea what to do. Any help is appreciated.\r\n  ","title":"How do I display an interactive map generated by the Google Maps API onto a Java application?","body":"<p>I need to display an interactive map in a JPanel using Swing, so I decided to use the Google Maps API, but I have no idea how to do it. I've looked at previous posts that have answered my question, but they are outdated solutions. Alternatively, if I can't embed it into my program, I have considered using the Mapbox API as well, but I run into the same problem of not knowing how to embed it into my program. Also important to note: I have to use IntelliJ IDEA, so I can't use other IDEs like Netbean to get this working. If anyone knows how to display an interactive map using through a JPanel without using JxBrowser, please let me know!</p>\n<p>I've tried using JxBrowser's tutorial: <a href=\"https://jxbrowser-support.teamdev.com/docs/tutorials/maps.html\" rel=\"nofollow noreferrer\">https://jxbrowser-support.teamdev.com/docs/tutorials/maps.html</a> but my license won't work for some reason. Whenever I run</p>\n<p><code>EngineOptions options = EngineOptions.newBuilder(HARDWARE_ACCELERATED).licenseKey(&quot;API_KEY&quot;).build();</code></p>\n<p>I end up getting an InvalidLicenseException even though I just got the license so I can't use the JxBrowser library for this. I have also tried using the JavaFX libraries. Admittedly, I am unfamiliar with how to use this library so I used code generated by ChatGPT, but it resulted in a blank screen:</p>\n<pre><code>import javax.swing.*;\nimport java.awt.*;\n\npublic class GoogleMapsSwingExample extends JFrame {\n\n    public GoogleMapsSwingExample() {\n        super(&quot;Google Maps in Java Swing&quot;);\n\n        JEditorPane editorPane = new JEditorPane();\n        editorPane.setEditable(false);\n        editorPane.setContentType(&quot;text/html&quot;);\n        // Enable debugging output\n        editorPane.putClientProperty(JEditorPane.HONOR_DISPLAY_PROPERTIES, true);\n\n        editorPane.setText(&quot;&lt;html&gt;&lt;body&gt;&lt;iframe width=\\&quot;600\\&quot; height=\\&quot;450\\&quot; style=\\&quot;border: 0\\&quot; loading=\\&quot;lazy\\&quot; allowfullscreen &quot; +\n                &quot;src=\\&quot;https://www.google.com/maps/embed/v1/place?key=AIzaSyAMz9doGhcdEYjPoXY3Cv4TCd58-eHDubU&amp;q=Eiffel%20Tower\\&quot; &quot; +\n                &quot;onerror=\\&quot;alert('Failed to load Google Maps')\\&quot;&gt;&lt;/iframe&gt;&lt;/body&gt;&lt;/html&gt;&quot;);\n\n        JScrollPane scrollPane = new JScrollPane(editorPane);\n        add(scrollPane, BorderLayout.CENTER);\n\n        setSize(800, 600);\n        setLocationRelativeTo(null);\n        setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n    }\n\n    public static void main(String[] args) {\n        SwingUtilities.invokeLater(() -&gt; {\n            GoogleMapsSwingExample example = new GoogleMapsSwingExample();\n            example.setVisible(true);\n        });\n    }\n}\n</code></pre>\n<p>I really have no idea what to do. Any help is appreciated.</p>\n"},{"tags":["java","javac"],"comments":[{"owner":{"account_id":31180,"reputation":29173,"user_id":85421,"display_name":"user85421"},"score":0,"creation_date":1699029060,"post_id":77417411,"comment_id":136483960,"body_markdown":"probably it would be better to ask the developers of that code, here you&#39;ll probably only get some guesses, or maybe some reference to some explanation. It could be to allow an index/pointer to the byte after the last valid one; or to allow an eventual additional zero-byte (historically based on C strings); or just the *old* Off-by-one error  ....","body":"probably it would be better to ask the developers of that code, here you&#39;ll probably only get some guesses, or maybe some reference to some explanation. It could be to allow an index/pointer to the byte after the last valid one; or to allow an eventual additional zero-byte (historically based on C strings); or just the <i>old</i> Off-by-one error  ...."},{"owner":{"account_id":2139538,"reputation":42521,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":1,"creation_date":1699029929,"post_id":77417411,"comment_id":136484148,"body_markdown":"I was curious what the Eclipse compiler does, since that&#39;s based on the same spec, but is a totally unique implementation. If Eclipse failed on 65536, that would be decent support for the argument that javac is wrong. In fact, Eclipse allows longer string literals longer than even 65535, but it will chop them up under the hood into multiple constants, concatenated at runtime.","body":"I was curious what the Eclipse compiler does, since that&#39;s based on the same spec, but is a totally unique implementation. If Eclipse failed on 65536, that would be decent support for the argument that javac is wrong. In fact, Eclipse allows longer string literals longer than even 65535, but it will chop them up under the hood into multiple constants, concatenated at runtime."},{"owner":{"account_id":2182945,"reputation":1298,"user_id":1932017,"display_name":"YujiSoftware"},"score":0,"creation_date":1699031949,"post_id":77417411,"comment_id":136484545,"body_markdown":"@Michael I tested with Eclipse Version 2023-09 (4.29.0). The result was a compilation error: &quot;The type generates a string that requires more than 65535 bytes to encode in Utf8 format in the constant pool&quot;","body":"@Michael I tested with Eclipse Version 2023-09 (4.29.0). The result was a compilation error: &quot;The type generates a string that requires more than 65535 bytes to encode in Utf8 format in the constant pool&quot;"},{"owner":{"account_id":2139538,"reputation":42521,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":0,"creation_date":1699032588,"post_id":77417411,"comment_id":136484651,"body_markdown":"@YujiSoftware Ah, I got that too after retrying with something different. It seems like Eclipse can only pull that chopping trick in certain safe situations. If the literal is used directly within a method, it can do it. If the literal is an initializer for a `final` field, it can&#39;t.","body":"@YujiSoftware Ah, I got that too after retrying with something different. It seems like Eclipse can only pull that chopping trick in certain safe situations. If the literal is used directly within a method, it can do it. If the literal is an initializer for a <code>final</code> field, it can&#39;t."},{"owner":{"account_id":2139538,"reputation":42521,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":0,"creation_date":1699032706,"post_id":77417411,"comment_id":136484672,"body_markdown":"@YujiSoftware In that case, then, both Eclipse and javac are consistent, which makes me think they use that 1 byte for something.","body":"@YujiSoftware In that case, then, both Eclipse and javac are consistent, which makes me think they use that 1 byte for something."},{"owner":{"account_id":2182945,"reputation":1298,"user_id":1932017,"display_name":"YujiSoftware"},"score":0,"creation_date":1699033565,"post_id":77417411,"comment_id":136484828,"body_markdown":"@Michael Thank you. I understood. It seems to do it inside the static initializer if there is no &quot;final&quot;. The eclipse compiler is smart. It may be the \\0 at the end, but it&#39;s not necessary as part of the JVM specification, so it&#39;s a mystery.","body":"@Michael Thank you. I understood. It seems to do it inside the static initializer if there is no &quot;final&quot;. The eclipse compiler is smart. It may be the \\0 at the end, but it&#39;s not necessary as part of the JVM specification, so it&#39;s a mystery."},{"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1699054275,"post_id":77417411,"comment_id":136487602,"body_markdown":"I&#39;m guessing it is an off by one bug.","body":"I&#39;m guessing it is an off by one bug."}],"answers":[{"comments":[{"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"score":1,"creation_date":1699026718,"post_id":77417759,"comment_id":136483416,"body_markdown":"Link fixed. Now it points to the original GitHub commit.","body":"Link fixed. Now it points to the original GitHub commit."}],"tags":[],"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"comment_count":1,"down_vote_count":2,"up_vote_count":4,"is_accepted":false,"score":2,"last_activity_date":1699026657,"creation_date":1699024197,"answer_id":77417759,"question_id":77417411,"body_markdown":"The comparison has been in there since [at least 2007][1]. So it may be a bug that no one reported because no one used a string literal that big. I&#39;m guessing the question is just about curiosity because I don&#39;t think anyone really needs that extra byte.\r\n\r\n\r\n\r\n  [1]: https://github.com/openjdk/jdk/blob/f57b87e8f6b8ca9e3c1e640dca51c2a18ee1ef6a/langtools/src/share/classes/com/sun/tools/javac/jvm/Gen.java#L530","title":"Why is the maximum string literal length in Java 65534?","body":"<p>The comparison has been in there since <a href=\"https://github.com/openjdk/jdk/blob/f57b87e8f6b8ca9e3c1e640dca51c2a18ee1ef6a/langtools/src/share/classes/com/sun/tools/javac/jvm/Gen.java#L530\" rel=\"nofollow noreferrer\">at least 2007</a>. So it may be a bug that no one reported because no one used a string literal that big. I'm guessing the question is just about curiosity because I don't think anyone really needs that extra byte.</p>\n"},{"comments":[{"owner":{"account_id":2182945,"reputation":1298,"user_id":1932017,"display_name":"YujiSoftware"},"score":0,"creation_date":1699410083,"post_id":77440237,"comment_id":136527088,"body_markdown":"This message is defined: https://github.com/openjdk/jdk/blob/cc4b0d9217ed27a9555dc82f0a4247bf9b703f2b/src/jdk.compiler/share/classes/com/sun/tools/javac/resources/compiler.properties#L869-L870\n Used: https://github.com/openjdk/jdk/blob/cc4b0d9217ed27a9555dc82f0a4247bf9b703f2b/src/jdk.compiler/share/classes/com/sun/tools/javac/main/JavaCompiler.java#L775","body":"This message is defined: <a href=\"https://github.com/openjdk/jdk/blob/cc4b0d9217ed27a9555dc82f0a4247bf9b703f2b/src/jdk.compiler/share/classes/com/sun/tools/javac/resources/compiler.properties#L869-L870\" rel=\"nofollow noreferrer\">github.com/openjdk/jdk/blob/&hellip;</a>  Used: <a href=\"https://github.com/openjdk/jdk/blob/cc4b0d9217ed27a9555dc82f0a4247bf9b703f2b/src/jdk.compiler/share/classes/com/sun/tools/javac/main/JavaCompiler.java#L775\" rel=\"nofollow noreferrer\">github.com/openjdk/jdk/blob/&hellip;</a>"},{"owner":{"account_id":2182945,"reputation":1298,"user_id":1932017,"display_name":"YujiSoftware"},"score":0,"creation_date":1699410118,"post_id":77440237,"comment_id":136527092,"body_markdown":"Throw ClassWriter.StringOverflow: https://github.com/openjdk/jdk/blob/cc4b0d9217ed27a9555dc82f0a4247bf9b703f2b/src/jdk.compiler/share/classes/com/sun/tools/javac/jvm/PoolWriter.java#L260\n Cause: https://github.com/openjdk/jdk/blob/cc4b0d9217ed27a9555dc82f0a4247bf9b703f2b/src/jdk.compiler/share/classes/com/sun/tools/javac/jvm/PoolWriter.java#L387-L390","body":"Throw ClassWriter.StringOverflow: <a href=\"https://github.com/openjdk/jdk/blob/cc4b0d9217ed27a9555dc82f0a4247bf9b703f2b/src/jdk.compiler/share/classes/com/sun/tools/javac/jvm/PoolWriter.java#L260\" rel=\"nofollow noreferrer\">github.com/openjdk/jdk/blob/&hellip;</a>  Cause: <a href=\"https://github.com/openjdk/jdk/blob/cc4b0d9217ed27a9555dc82f0a4247bf9b703f2b/src/jdk.compiler/share/classes/com/sun/tools/javac/jvm/PoolWriter.java#L387-L390\" rel=\"nofollow noreferrer\">github.com/openjdk/jdk/blob/&hellip;</a>"}],"tags":[],"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1699377464,"creation_date":1699377464,"answer_id":77440237,"question_id":77417411,"body_markdown":"&gt; Is the correct code `str.length() &lt;= PoolWriter.MAX_STRING_LENGTH` ?\r\n\r\nNo, whether you use `&lt;` or `&lt;=` here makes no difference for the correctness of this check.\r\n\r\nThe [cited format] and its limitation apply to the number of *encoded bytes* in the [modified UTF-8 format], not the length of the actual (UTF-16) string.\r\n\r\nThe number of bytes happen to be equal to the string length if you use only ASCII characters (excluding NUL), like your `A`s. But when you replace the 65534th `A` with, e.g. an `&#196;`, it will still pass the “maximum string length” check and create a constant pool entry with 65535 bytes.\r\n\r\nNow, if you replace another `A` with `&#196;`, it will still pass the string length check but a new error will appear:\r\n\r\n```none\r\nerror: UTF8 representation for string &quot;AAAAAAAAAAAAAAAAAAAA...&quot; is too long for the constant pool\r\n```\r\n\r\nwhich demonstrates that a check for “the real thing” is in place, which makes the preceding string length check entirely obsolete.\r\n\r\n\r\n[cited format]: https://docs.oracle.com/javase/specs/jvms/se21/html/jvms-4.html#jvms-4.4.7\r\n[modified UTF-8 format]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/DataInput.html#modified-utf-8","title":"Why is the maximum string literal length in Java 65534?","body":"<blockquote>\n<p>Is the correct code <code>str.length() &lt;= PoolWriter.MAX_STRING_LENGTH</code> ?</p>\n</blockquote>\n<p>No, whether you use <code>&lt;</code> or <code>&lt;=</code> here makes no difference for the correctness of this check.</p>\n<p>The <a href=\"https://docs.oracle.com/javase/specs/jvms/se21/html/jvms-4.html#jvms-4.4.7\" rel=\"nofollow noreferrer\">cited format</a> and its limitation apply to the number of <em>encoded bytes</em> in the <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/DataInput.html#modified-utf-8\" rel=\"nofollow noreferrer\">modified UTF-8 format</a>, not the length of the actual (UTF-16) string.</p>\n<p>The number of bytes happen to be equal to the string length if you use only ASCII characters (excluding NUL), like your <code>A</code>s. But when you replace the 65534th <code>A</code> with, e.g. an <code>Ä</code>, it will still pass the “maximum string length” check and create a constant pool entry with 65535 bytes.</p>\n<p>Now, if you replace another <code>A</code> with <code>Ä</code>, it will still pass the string length check but a new error will appear:</p>\n<pre class=\"lang-none prettyprint-override\"><code>error: UTF8 representation for string &quot;AAAAAAAAAAAAAAAAAAAA...&quot; is too long for the constant pool\n</code></pre>\n<p>which demonstrates that a check for “the real thing” is in place, which makes the preceding string length check entirely obsolete.</p>\n"}],"owner":{"account_id":2182945,"reputation":1298,"user_id":1932017,"display_name":"YujiSoftware"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":274,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1699377464,"creation_date":1699021315,"question_id":77417411,"body_markdown":"I compiled this code.　(use `javac 21.0.1`)\r\n\r\n```java\r\npublic static final String MAX = &quot;AAAAA ...&quot;;\r\n```\r\n\r\nIf I repeat &#39;A&#39; 65534 times in a literal, the compilation is OK.  \r\n**But if I repeat &#39;A&#39; 65535 times in a literal, I get a compile error &#39;constant string too long&#39;.**\r\n\r\nWhy is the length limit 65534 instead of 65535?\r\n\r\n# Specification\r\n\r\n&gt; CONSTANT_Utf8_info {  \r\n&gt;    u1 tag;  \r\n&gt;    u2 length;  \r\n&gt;    u1 bytes[length];  \r\n&gt; }  \r\n&gt; \r\n&gt; `length`: The value of the length item gives the number of bytes in the bytes array (not the length of the resulting string).\r\n&gt; \r\n&gt; [Chapter&#160;4.&#160;The class File Format](https://docs.oracle.com/javase/specs/jvms/se21/html/jvms-4.html#jvms-4.4.7)\r\n\r\nThe maximum length of u2 is 0xFFFF = 65535, not 65534.  \r\nIn UTF-8, &quot;A&quot; is 1 byte, so isn&#39;t the string length limited to 65535?\r\n\r\n# Javac source code\r\n\r\n[jdk/langtools/src/share/classes/com/sun/tools/javac/jvm/Gen.java &#183; openjdk/jdk](https://github.com/openjdk/jdk/blob/f57b87e8f6b8ca9e3c1e640dca51c2a18ee1ef6a/langtools/src/share/classes/com/sun/tools/javac/jvm/Gen.java#L530-L538)\r\n\r\n```java\r\nprivate void checkStringConstant(DiagnosticPosition pos, Object constValue) {\r\n    if (nerrs != 0 || // only complain about a long string once\r\n        constValue == null ||\r\n        !(constValue instanceof String str) ||\r\n        str.length() &lt; PoolWriter.MAX_STRING_LENGTH)\r\n        return;\r\n    log.error(pos, Errors.LimitString);\r\n    nerrs++;\r\n}\r\n```\r\n\r\nIs the correct code `str.length() &lt;= PoolWriter.MAX_STRING_LENGTH` ?","title":"Why is the maximum string literal length in Java 65534?","body":"<p>I compiled this code.　(use <code>javac 21.0.1</code>)</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static final String MAX = &quot;AAAAA ...&quot;;\n</code></pre>\n<p>If I repeat 'A' 65534 times in a literal, the compilation is OK.<br />\n<strong>But if I repeat 'A' 65535 times in a literal, I get a compile error 'constant string too long'.</strong></p>\n<p>Why is the length limit 65534 instead of 65535?</p>\n<h1>Specification</h1>\n<blockquote>\n<p>CONSTANT_Utf8_info {<br />\nu1 tag;<br />\nu2 length;<br />\nu1 bytes[length];<br />\n}</p>\n<p><code>length</code>: The value of the length item gives the number of bytes in the bytes array (not the length of the resulting string).</p>\n<p><a href=\"https://docs.oracle.com/javase/specs/jvms/se21/html/jvms-4.html#jvms-4.4.7\" rel=\"nofollow noreferrer\">Chapter 4. The class File Format</a></p>\n</blockquote>\n<p>The maximum length of u2 is 0xFFFF = 65535, not 65534.<br />\nIn UTF-8, &quot;A&quot; is 1 byte, so isn't the string length limited to 65535?</p>\n<h1>Javac source code</h1>\n<p><a href=\"https://github.com/openjdk/jdk/blob/f57b87e8f6b8ca9e3c1e640dca51c2a18ee1ef6a/langtools/src/share/classes/com/sun/tools/javac/jvm/Gen.java#L530-L538\" rel=\"nofollow noreferrer\">jdk/langtools/src/share/classes/com/sun/tools/javac/jvm/Gen.java · openjdk/jdk</a></p>\n<pre class=\"lang-java prettyprint-override\"><code>private void checkStringConstant(DiagnosticPosition pos, Object constValue) {\n    if (nerrs != 0 || // only complain about a long string once\n        constValue == null ||\n        !(constValue instanceof String str) ||\n        str.length() &lt; PoolWriter.MAX_STRING_LENGTH)\n        return;\n    log.error(pos, Errors.LimitString);\n    nerrs++;\n}\n</code></pre>\n<p>Is the correct code <code>str.length() &lt;= PoolWriter.MAX_STRING_LENGTH</code> ?</p>\n"},{"tags":["java","android","parse-platform","email-verification"],"comments":[{"owner":{"account_id":1806535,"reputation":13755,"user_id":1686001,"accept_rate":48,"display_name":"Nirav Ranpara"},"score":0,"creation_date":1462454460,"post_id":37051487,"comment_id":61650707,"body_markdown":"You can not put expiry on parse.","body":"You can not put expiry on parse."}],"answers":[{"tags":[],"owner":{"account_id":4015385,"reputation":5418,"user_id":3307720,"accept_rate":51,"display_name":"nasch"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1462540696,"creation_date":1462540696,"answer_id":37073472,"question_id":37051487,"body_markdown":"I don&#39;t know about doing it on parse.com but since you&#39;ll have to migrate off of that anyway, here&#39;s some information about how they&#39;re supporting it in parse server:\r\n\r\nhttps://github.com/ParsePlatform/parse-server/issues/275\r\n\r\nI just skimmed it so I&#39;m not sure if there&#39;s enough detail to really implement it but maybe it will get you started when you&#39;re on parse server.","title":"Parse.com email verification link expiry","body":"<p>I don't know about doing it on parse.com but since you'll have to migrate off of that anyway, here's some information about how they're supporting it in parse server:</p>\n\n<p><a href=\"https://github.com/ParsePlatform/parse-server/issues/275\" rel=\"nofollow\">https://github.com/ParsePlatform/parse-server/issues/275</a></p>\n\n<p>I just skimmed it so I'm not sure if there's enough detail to really implement it but maybe it will get you started when you're on parse server.</p>\n"}],"owner":{"account_id":6836500,"reputation":190,"user_id":5258247,"accept_rate":20,"display_name":"jaxarroyo"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":76,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1699377223,"creation_date":1462453744,"question_id":37051487,"body_markdown":"I am using Parse.com for the user registration of my mobile application. Is there a way to set the length of time that the link sent by parse.com to the email of the user is only valid (e.g. the email verification link is only valid for 12 hours)? I can&#39;t see any such function on the dashboard of parse.com.","title":"Parse.com email verification link expiry","body":"<p>I am using Parse.com for the user registration of my mobile application. Is there a way to set the length of time that the link sent by parse.com to the email of the user is only valid (e.g. the email verification link is only valid for 12 hours)? I can't see any such function on the dashboard of parse.com.</p>\n"},{"tags":["java","spring-boot","spring-cloud","spring-cloud-stream","amazon-kinesis"],"owner":{"account_id":3745994,"reputation":3,"user_id":3114646,"display_name":"Lucas1983"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":12,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1699376132,"creation_date":1699376132,"question_id":77440086,"body_markdown":"I have a project that use the &quot;software.amazon.kinesis:amazon-kinesis-client:2.5.0&quot; library for quite some time for consuming events from kinesis stream. \r\nRecently we started using &quot;org.springframework.cloud:spring-cloud-stream-binder-kinesis:3.0.0&quot; library that turns out to have a transitive dependency of this kinesis client but in the older version, in particular &quot;com.amazonaws:amazon-kinesis-client:1.14.9&quot;. \r\n\r\nAs a result, whenever we run an app, it stops consuming events from stream that use version 2.5.0 - there is no error nor exception, it&#39;s like it skips its completely.\r\n\r\nI&#39;m wondering if the above issue can be caused by a library clash? which in my opinion would be strange as they come from different groups: &quot;software.amazon.kinesis&quot; vs &quot;com.amazonaws&quot; and have different API. \r\n\r\nI&#39;m a bit stuck with this situation as there is a lot of old code that uses kinesis client in version 2.5.0, and we made some effort already to develop new code that uses &quot;org.springframework.cloud:spring-cloud-stream-binder-kinesis:3.0.0&quot;, and doesn&#39;t really have time to refactor it. \r\nDoes anyone have any suggestions on how to solve this situation, without removing any of these libraries?\r\n\r\nThanks\r\n\r\n\r\nWe were checking the possibility of upgrading &quot;org.springframework.cloud:spring-cloud-stream-binder-kinesis&quot; to version 4.0.0 ( that internally uses &quot;software.amazon.kinesis:amazon-kinesis-client:2.5.0&quot; ), but unfortunately, it requires at least Spring Boot in version 3.0, and we use version 2.7.\r\nWe were also trying to enforce &quot;org.springframework.cloud:spring-cloud-stream-binder-kinesis&quot; library to use version 2.5.0 but as I mentioned API is different ant it fails to compile.","title":"2 versions of amazon-kinesis-client library in one project","body":"<p>I have a project that use the &quot;software.amazon.kinesis:amazon-kinesis-client:2.5.0&quot; library for quite some time for consuming events from kinesis stream.\nRecently we started using &quot;org.springframework.cloud:spring-cloud-stream-binder-kinesis:3.0.0&quot; library that turns out to have a transitive dependency of this kinesis client but in the older version, in particular &quot;com.amazonaws:amazon-kinesis-client:1.14.9&quot;.</p>\n<p>As a result, whenever we run an app, it stops consuming events from stream that use version 2.5.0 - there is no error nor exception, it's like it skips its completely.</p>\n<p>I'm wondering if the above issue can be caused by a library clash? which in my opinion would be strange as they come from different groups: &quot;software.amazon.kinesis&quot; vs &quot;com.amazonaws&quot; and have different API.</p>\n<p>I'm a bit stuck with this situation as there is a lot of old code that uses kinesis client in version 2.5.0, and we made some effort already to develop new code that uses &quot;org.springframework.cloud:spring-cloud-stream-binder-kinesis:3.0.0&quot;, and doesn't really have time to refactor it.\nDoes anyone have any suggestions on how to solve this situation, without removing any of these libraries?</p>\n<p>Thanks</p>\n<p>We were checking the possibility of upgrading &quot;org.springframework.cloud:spring-cloud-stream-binder-kinesis&quot; to version 4.0.0 ( that internally uses &quot;software.amazon.kinesis:amazon-kinesis-client:2.5.0&quot; ), but unfortunately, it requires at least Spring Boot in version 3.0, and we use version 2.7.\nWe were also trying to enforce &quot;org.springframework.cloud:spring-cloud-stream-binder-kinesis&quot; library to use version 2.5.0 but as I mentioned API is different ant it fails to compile.</p>\n"},{"tags":["java","spring","flyway","testcontainers"],"comments":[{"owner":{"account_id":7233893,"reputation":111,"user_id":5519813,"display_name":"Serghei Motpan"},"score":0,"creation_date":1699378746,"post_id":77439990,"comment_id":136523213,"body_markdown":"Provide some test samples and configs you are using","body":"Provide some test samples and configs you are using"},{"owner":{"account_id":417733,"reputation":2685,"user_id":793896,"display_name":"Grant Fritchey"},"score":0,"creation_date":1699458514,"post_id":77439990,"comment_id":136534674,"body_markdown":"No sure way to make suggestions because I don&#39;t understand what exactly is slowing things down. Heck, what kind of database is it?","body":"No sure way to make suggestions because I don&#39;t understand what exactly is slowing things down. Heck, what kind of database is it?"},{"owner":{"account_id":55854,"reputation":5789,"user_id":167364,"display_name":"David Atkinson"},"score":0,"creation_date":1699515884,"post_id":77439990,"comment_id":136542271,"body_markdown":"Is this a problem introduced in Flyway v10?","body":"Is this a problem introduced in Flyway v10?"}],"owner":{"account_id":13307423,"reputation":39,"user_id":10362469,"display_name":"Black Rabbit"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":59,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1699375275,"creation_date":1699375275,"question_id":77439990,"body_markdown":"We have encountered a problem where we have many tests running inside a test container, and before each test, migration starts, resulting in a significant amount of time being consumed. Could you please share some ways to improve the test performance?","title":"Flyway using Testcontainers Optimization","body":"<p>We have encountered a problem where we have many tests running inside a test container, and before each test, migration starts, resulting in a significant amount of time being consumed. Could you please share some ways to improve the test performance?</p>\n"},{"tags":["java","macos","menu"],"comments":[{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1699378195,"post_id":77439989,"comment_id":136523114,"body_markdown":"What kind of menus?  What GUI framework?  And if you have “menu enabling code,” I would definitely suspect that as the first culprit.","body":"What kind of menus?  What GUI framework?  And if you have “menu enabling code,” I would definitely suspect that as the first culprit."},{"owner":{"account_id":1138987,"reputation":615,"user_id":1123409,"accept_rate":12,"display_name":"CasaDelGato"},"score":0,"creation_date":1699385497,"post_id":77439989,"comment_id":136524351,"body_markdown":"Umm, this is a Java Application.  That has a Main Menu - which on MacOS is the menu at the top of the screen.  Kinda like every other Mac OS application.  We do use Swing for the GUI.\nALL apps have some menu enabling code - unless every menu item is always enabled, which is highly unlikely in any non-trivial application.\nThis code WORKS on some Mac OS 14.1 machines, and not on others.","body":"Umm, this is a Java Application.  That has a Main Menu - which on MacOS is the menu at the top of the screen.  Kinda like every other Mac OS application.  We do use Swing for the GUI. ALL apps have some menu enabling code - unless every menu item is always enabled, which is highly unlikely in any non-trivial application. This code WORKS on some Mac OS 14.1 machines, and not on others."},{"owner":{"account_id":1138987,"reputation":615,"user_id":1123409,"accept_rate":12,"display_name":"CasaDelGato"},"score":0,"creation_date":1699385592,"post_id":77439989,"comment_id":136524365,"body_markdown":"Oh, and I did check source control  We haven&#39;t changed any of our menu handling code.\nThis works just fine in earlier releases of Mac OS.","body":"Oh, and I did check source control  We haven&#39;t changed any of our menu handling code. This works just fine in earlier releases of Mac OS."},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1699385622,"post_id":77439989,"comment_id":136524374,"body_markdown":"Are these application menus provided by OSX, or JMenus created by your code?","body":"Are these application menus provided by OSX, or JMenus created by your code?"},{"owner":{"account_id":1138987,"reputation":615,"user_id":1123409,"accept_rate":12,"display_name":"CasaDelGato"},"score":0,"creation_date":1699401478,"post_id":77439989,"comment_id":136526450,"body_markdown":"It&#39;s Java, so we do use JMenu","body":"It&#39;s Java, so we do use JMenu"},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1699449536,"post_id":77439989,"comment_id":136532387,"body_markdown":"Is the menu handling code enabling/disabling the menus in the AWT event dispatch thread, like it’s supposed to?  If a program alters Swing components outside of that thread, unpredictable behavior is the result.  Often, it will work simply because the program got lucky.  (This really would be easier if you would edit your question and include that code.)","body":"Is the menu handling code enabling/disabling the menus in the AWT event dispatch thread, like it’s supposed to?  If a program alters Swing components outside of that thread, unpredictable behavior is the result.  Often, it will work simply because the program got lucky.  (This really would be easier if you would edit your question and include that code.)"},{"owner":{"account_id":1138987,"reputation":615,"user_id":1123409,"accept_rate":12,"display_name":"CasaDelGato"},"score":0,"creation_date":1699452690,"post_id":77439989,"comment_id":136533116,"body_markdown":"Yes, we are very careful to do UI work in the AWT event thread.","body":"Yes, we are very careful to do UI work in the AWT event thread."},{"owner":{"account_id":1138987,"reputation":615,"user_id":1123409,"accept_rate":12,"display_name":"CasaDelGato"},"score":0,"creation_date":1701209967,"post_id":77439989,"comment_id":136746750,"body_markdown":"So far, we&#39;ve only found 1 Mac that this fails on.  We have NO IDEA why it fails on just this one Mac.  (We finally got other people to test this.)\nThe mac has the same corporate software as all the others.\n\nFor now, we&#39;ve given up, and will wait to see if any real users hit this problem.","body":"So far, we&#39;ve only found 1 Mac that this fails on.  We have NO IDEA why it fails on just this one Mac.  (We finally got other people to test this.) The mac has the same corporate software as all the others.  For now, we&#39;ve given up, and will wait to see if any real users hit this problem."},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1701213526,"post_id":77439989,"comment_id":136747206,"body_markdown":"When you say the menus get disabled, does that mean they’re grayed out, as if `setEnabled(false)` was called on them?  Or is it that they don’t respond to the mouse?","body":"When you say the menus get disabled, does that mean they’re grayed out, as if <code>setEnabled(false)</code> was called on them?  Or is it that they don’t respond to the mouse?"}],"owner":{"account_id":1138987,"reputation":615,"user_id":1123409,"accept_rate":12,"display_name":"CasaDelGato"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1699375270,"creation_date":1699375270,"question_id":77439989,"body_markdown":"We have a large java app that has been working on Mac OS for many years, through multiple version of Java as well.\r\n\r\nNow, with Mac OS 14, and Java 17, on SOME Macs, the Menus get disabled after using a dialog.  All the Menus.\r\n\r\nThis isn&#39;t happening using Mac OS 13.\r\n\r\nI&#39;ve checked our Menu enabling code just to be sure, and as far as we know, the Menus are still enabled.\r\n\r\nAny suggestions on how to at least figure out what is happening?  (oh, and, of course, it works just fine on my Mac, but always fails on the users Mac.)","title":"MacOS 14 disabled Menus for Java 17 applications (Sometimes...)","body":"<p>We have a large java app that has been working on Mac OS for many years, through multiple version of Java as well.</p>\n<p>Now, with Mac OS 14, and Java 17, on SOME Macs, the Menus get disabled after using a dialog.  All the Menus.</p>\n<p>This isn't happening using Mac OS 13.</p>\n<p>I've checked our Menu enabling code just to be sure, and as far as we know, the Menus are still enabled.</p>\n<p>Any suggestions on how to at least figure out what is happening?  (oh, and, of course, it works just fine on my Mac, but always fails on the users Mac.)</p>\n"},{"tags":["java","spring","spring-boot","java-17","spring-3"],"comments":[{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":1,"creation_date":1699372285,"post_id":77439627,"comment_id":136521975,"body_markdown":"The answer is literally in the error message you posted: &quot;Relying upon circular references is discouraged and they are prohibited by default. (...) As a last resort, it may be possible to break the cycle automatically by setting `spring.main.allow-circular-references` to true.&quot;","body":"The answer is literally in the error message you posted: &quot;Relying upon circular references is discouraged and they are prohibited by default. (...) As a last resort, it may be possible to break the cycle automatically by setting <code>spring.main.allow-circular-references</code> to true.&quot;"},{"owner":{"account_id":15206782,"reputation":61,"user_id":10972954,"display_name":"clorzs"},"score":0,"creation_date":1699372384,"post_id":77439627,"comment_id":136521999,"body_markdown":"yes but that&#39;s not what everybody is saying on the internet. They litteraly say we should get no error if we use setter/field injection","body":"yes but that&#39;s not what everybody is saying on the internet. They litteraly say we should get no error if we use setter/field injection"},{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1699372430,"post_id":77439627,"comment_id":136522007,"body_markdown":"Well, either the internet is wrong (surprise!) or you&#39;ve misunderstood something.","body":"Well, either the internet is wrong (surprise!) or you&#39;ve misunderstood something."},{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":1,"creation_date":1699372440,"post_id":77439627,"comment_id":136522009,"body_markdown":"You need to tell spring to allow circular dependencies - [this question](https://stackoverflow.com/questions/70036903/spring-boot-application-fails-to-start-after-upgrading-to-2-6-0-due-to-circular) should help. Now that it&#39;s allowed, keep in mind that you are not resolving the circular dependency by using fields/setters, you are merely circumventing it.","body":"You need to tell spring to allow circular dependencies - <a href=\"https://stackoverflow.com/questions/70036903/spring-boot-application-fails-to-start-after-upgrading-to-2-6-0-due-to-circular\">this question</a> should help. Now that it&#39;s allowed, keep in mind that you are not resolving the circular dependency by using fields/setters, you are merely circumventing it."},{"owner":{"account_id":15206782,"reputation":61,"user_id":10972954,"display_name":"clorzs"},"score":0,"creation_date":1699372901,"post_id":77439627,"comment_id":136522098,"body_markdown":"Apparently it&#39;s related to spring version, in older spring versions switching to setter/field injection would result in&quot;circumventing &quot; it?","body":"Apparently it&#39;s related to spring version, in older spring versions switching to setter/field injection would result in&quot;circumventing &quot; it?"},{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":1,"creation_date":1699373557,"post_id":77439627,"comment_id":136522227,"body_markdown":"@clorzs Yes in older versions that would be enough, as they did not prohibit it by default. In newer ones you need to allow it, before proceeding to &quot;circumvent&quot; with field/setter injection.","body":"@clorzs Yes in older versions that would be enough, as they did not prohibit it by default. In newer ones you need to allow it, before proceeding to &quot;circumvent&quot; with field/setter injection."}],"answers":[{"tags":[],"owner":{"account_id":1539445,"reputation":65,"user_id":1434443,"display_name":"SachinKakkar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699375265,"creation_date":1699375265,"answer_id":77439988,"question_id":77439627,"body_markdown":"You can try adding following values in application.properties/yaml file:\r\nspring.main.allow-circular-references=true","title":"spring boot circular dependency happening with field and setter injection","body":"<p>You can try adding following values in application.properties/yaml file:\nspring.main.allow-circular-references=true</p>\n"}],"owner":{"account_id":15206782,"reputation":61,"user_id":10972954,"display_name":"clorzs"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1699375265,"creation_date":1699372116,"question_id":77439627,"body_markdown":"I&#39;ve read that to resolve circular dependency we should either use setter or field injection.\r\nI tried both but I still have the same issue. I am using spring boot app : java17/spring 3.1.5.\r\n\r\n 1. Setter injection \r\n\r\nBeanA\r\n\r\n    @Component\r\n    public class BeanA {\r\n    \r\n        BeanA() {\r\n            System.out.println(&quot;BeanA constructor called !!!&quot;);\r\n        }\r\n    \r\n        private BeanB beanB;\r\n    \r\n        @Autowired\r\n        public void setBeanB(BeanB beanB) {\r\n            System.out.println(&quot;Setting property beanB of BeanA instance&quot;);\r\n            this.beanB = beanB;\r\n        }\r\n    }\r\n\r\nBeanB\r\n\r\n    @Component\r\n    public class BeanB {\r\n    \r\n    BeanB() {\r\n            System.out.println(&quot;BeanB constructor called !!!&quot;);\r\n        }\r\n    \r\n        private BeanA beanA;\r\n    \r\n        @Autowired\r\n        public void setBeanA(BeanA beanA) {\r\n            System.out.println(&quot;Setting property beanA of BeanB instance&quot;);\r\n            this.beanA = beanA;\r\n        }\r\n    }\r\n\r\n \r\n 2. Field injection\r\n\r\nBeanA\r\n\r\n    @Component\r\n    public class BeanA {\r\n    \r\n        @Autowired\r\n        BeanB beanB;\r\n    \r\n        BeanA(){\r\n    //        System.out.println(&quot;beanA init!&quot;);\r\n        }\r\n    }\r\n\r\nBean B\r\n\r\n    @Component\r\n    public class BeanB {\r\n    \r\n        @Autowired\r\n        BeanA beanA;\r\n    \r\n        BeanB(){\r\n            System.out.println(&quot;beanB init!&quot;);\r\n        }\r\n    }\r\n\r\n\r\nfor both examples I get the following error\r\n\r\n    **************************\r\n    APPLICATION FAILED TO START\r\n    ***************************\r\n    \r\n    Description:\r\n    \r\n    The dependencies of some of the beans in the application context form a cycle:\r\n    \r\n    ┌─────┐\r\n    |  beanA\r\n    ↑     ↓\r\n    |  beanB\r\n    └─────┘\r\n    \r\n    \r\n    Action:\r\n    \r\n    Relying upon circular references is discouraged and they are prohibited by default. Update your application to remove the dependency cycle between beans. As a last resort, it may be possible to break the cycle automatically by setting spring.main.allow-circular-references to true.\r\n\r\nbelow is the hierarchy of the app\r\n\r\n    com.demo.example\r\n    MainApp.java\r\n    setterInjection\r\n    ..beanA\r\n    ..beanB\r\n    fieldIjection\r\n    ..beanA\r\n    ..beanB\r\n\r\n\r\n\r\n","title":"spring boot circular dependency happening with field and setter injection","body":"<p>I've read that to resolve circular dependency we should either use setter or field injection.\nI tried both but I still have the same issue. I am using spring boot app : java17/spring 3.1.5.</p>\n<ol>\n<li>Setter injection</li>\n</ol>\n<p>BeanA</p>\n<pre><code>@Component\npublic class BeanA {\n\n    BeanA() {\n        System.out.println(&quot;BeanA constructor called !!!&quot;);\n    }\n\n    private BeanB beanB;\n\n    @Autowired\n    public void setBeanB(BeanB beanB) {\n        System.out.println(&quot;Setting property beanB of BeanA instance&quot;);\n        this.beanB = beanB;\n    }\n}\n</code></pre>\n<p>BeanB</p>\n<pre><code>@Component\npublic class BeanB {\n\nBeanB() {\n        System.out.println(&quot;BeanB constructor called !!!&quot;);\n    }\n\n    private BeanA beanA;\n\n    @Autowired\n    public void setBeanA(BeanA beanA) {\n        System.out.println(&quot;Setting property beanA of BeanB instance&quot;);\n        this.beanA = beanA;\n    }\n}\n</code></pre>\n<ol start=\"2\">\n<li>Field injection</li>\n</ol>\n<p>BeanA</p>\n<pre><code>@Component\npublic class BeanA {\n\n    @Autowired\n    BeanB beanB;\n\n    BeanA(){\n//        System.out.println(&quot;beanA init!&quot;);\n    }\n}\n</code></pre>\n<p>Bean B</p>\n<pre><code>@Component\npublic class BeanB {\n\n    @Autowired\n    BeanA beanA;\n\n    BeanB(){\n        System.out.println(&quot;beanB init!&quot;);\n    }\n}\n</code></pre>\n<p>for both examples I get the following error</p>\n<pre><code>**************************\nAPPLICATION FAILED TO START\n***************************\n\nDescription:\n\nThe dependencies of some of the beans in the application context form a cycle:\n\n┌─────┐\n|  beanA\n↑     ↓\n|  beanB\n└─────┘\n\n\nAction:\n\nRelying upon circular references is discouraged and they are prohibited by default. Update your application to remove the dependency cycle between beans. As a last resort, it may be possible to break the cycle automatically by setting spring.main.allow-circular-references to true.\n</code></pre>\n<p>below is the hierarchy of the app</p>\n<pre><code>com.demo.example\nMainApp.java\nsetterInjection\n..beanA\n..beanB\nfieldIjection\n..beanA\n..beanB\n</code></pre>\n"},{"tags":["java","spring-boot","tomcat","tomcat10"],"owner":{"account_id":17629753,"reputation":89,"user_id":12794090,"display_name":"Martin Kršek"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1699375083,"creation_date":1699373803,"question_id":77439832,"body_markdown":"I have old java application. I need to deploy it into tomcat 10. **It works only if I move file to webapps-javaee and restart tomcat.** But I do not want to manually restart tomcat each time.\r\n\r\nIf I only copy new .war file into webapps-javaee folder(without tomcat restart), tomcat does nothing. Also nothing in logs.\r\n\r\nIs there a way to use tomcat autoDeploy feature in webapps-javaee folder?\r\n\r\nMy server.xml configuration looks like this:\r\n```\t\r\n  &lt;Host \r\n    name=&quot;localhost&quot; \r\n    appBase=&quot;webapps&quot; \r\n    legacyAppBase=&quot;webapps-javaee&quot; \r\n    unpackWARs=&quot;true&quot; \r\n    autoDeploy=&quot;true&quot;&gt;\r\n  &lt;/Host&gt;\r\n```\r\n","title":"Tomcat autoredeploy not working in legacyAppBase","body":"<p>I have old java application. I need to deploy it into tomcat 10. <strong>It works only if I move file to webapps-javaee and restart tomcat.</strong> But I do not want to manually restart tomcat each time.</p>\n<p>If I only copy new .war file into webapps-javaee folder(without tomcat restart), tomcat does nothing. Also nothing in logs.</p>\n<p>Is there a way to use tomcat autoDeploy feature in webapps-javaee folder?</p>\n<p>My server.xml configuration looks like this:</p>\n<pre><code>  &lt;Host \n    name=&quot;localhost&quot; \n    appBase=&quot;webapps&quot; \n    legacyAppBase=&quot;webapps-javaee&quot; \n    unpackWARs=&quot;true&quot; \n    autoDeploy=&quot;true&quot;&gt;\n  &lt;/Host&gt;\n</code></pre>\n"},{"tags":["java","eclipse","m2eclipse","m2e-wtp"],"comments":[{"owner":{"account_id":422032,"reputation":3272,"user_id":800579,"display_name":"cyfur01"},"score":0,"creation_date":1437349976,"post_id":31148282,"comment_id":50977007,"body_markdown":"Do you have the Google plugin for Eclipse installed? If so, you might be running into [this issue](https://github.com/gwtproject/gwt/issues/9160).","body":"Do you have the Google plugin for Eclipse installed? If so, you might be running into <a href=\"https://github.com/gwtproject/gwt/issues/9160\" rel=\"nofollow noreferrer\">this issue</a>."},{"owner":{"account_id":2134008,"reputation":2540,"user_id":1894204,"accept_rate":65,"display_name":"Jan Krakora"},"score":0,"creation_date":1445498998,"post_id":31148282,"comment_id":54351578,"body_markdown":"@cyfur01 No, I don&#39;t. But all symptoms seem similar.","body":"@cyfur01 No, I don&#39;t. But all symptoms seem similar."},{"owner":{"account_id":297276,"reputation":2523,"user_id":4506703,"display_name":"DEWA Kazuyuki - 出羽和之"},"score":0,"creation_date":1536559604,"post_id":31148282,"comment_id":91451267,"body_markdown":"probably same on official issue tracker: https://bugs.eclipse.org/bugs/show_bug.cgi?id=462591","body":"probably same on official issue tracker: <a href=\"https://bugs.eclipse.org/bugs/show_bug.cgi?id=462591\" rel=\"nofollow noreferrer\">bugs.eclipse.org/bugs/show_bug.cgi?id=462591</a>"}],"answers":[{"comments":[{"owner":{"account_id":2134008,"reputation":2540,"user_id":1894204,"accept_rate":65,"display_name":"Jan Krakora"},"score":8,"creation_date":1436297963,"post_id":31261082,"comment_id":50549487,"body_markdown":"Thanks for your response but as I wrote in my question, I tried to add Maven Dependencies using &#39;Add&#39; in Deployment Assembly. It works but only until I run Maven-&gt;Update Project. Then it disappears again...","body":"Thanks for your response but as I wrote in my question, I tried to add Maven Dependencies using &#39;Add&#39; in Deployment Assembly. It works but only until I run Maven-&gt;Update Project. Then it disappears again..."},{"owner":{"account_id":1085200,"reputation":1184,"user_id":1081060,"display_name":"Jebil"},"score":0,"creation_date":1436326622,"post_id":31261082,"comment_id":50558924,"body_markdown":"@Behnil as in my first point, is `&lt;packaging&gt;war&lt;/packaging&gt;`  there in your `pom.xml` ?\nAlso the scope of the dependencies ?","body":"@Behnil as in my first point, is <code>&lt;packaging&gt;war&lt;&#47;packaging&gt;</code>  there in your <code>pom.xml</code> ? Also the scope of the dependencies ?"},{"owner":{"account_id":2134008,"reputation":2540,"user_id":1894204,"accept_rate":65,"display_name":"Jan Krakora"},"score":0,"creation_date":1436336799,"post_id":31261082,"comment_id":50562236,"body_markdown":"Yes, it is. The application has been working fine for 2 years until I switched to the Eclipse Mars. I think the m2e-WTP ignores it&#39;s a maven project or something.","body":"Yes, it is. The application has been working fine for 2 years until I switched to the Eclipse Mars. I think the m2e-WTP ignores it&#39;s a maven project or something."},{"owner":{"account_id":1661507,"reputation":9914,"user_id":1529709,"accept_rate":100,"display_name":"zb226"},"score":1,"creation_date":1447337607,"post_id":31261082,"comment_id":55119558,"body_markdown":"In my case, the missing `&lt;packaging&gt;war&lt;/packaging&gt;` was indeed the culprit.","body":"In my case, the missing <code>&lt;packaging&gt;war&lt;&#47;packaging&gt;</code> was indeed the culprit."},{"owner":{"account_id":238631,"reputation":1030,"user_id":507654,"display_name":"hbobenicio"},"score":0,"creation_date":1496256321,"post_id":31261082,"comment_id":75591369,"body_markdown":"Why do we need to setup this manually? Shouldn&#39;t this be m2e-wtp&#39;s job? (configure eclipse projects and m2e to deploy maven projects as it is specified by pom.xml).\nMaven Update feature should care about adding Maven Dependecies to the Deployment Assembly, I&#39;m point of view. Is something missing or misconfigurated in my pom.xml which breaks m2e-wtp anyhow? It should let me know what it is then, if this is the case. m2e-wtp just seems too buggy for me...","body":"Why do we need to setup this manually? Shouldn&#39;t this be m2e-wtp&#39;s job? (configure eclipse projects and m2e to deploy maven projects as it is specified by pom.xml). Maven Update feature should care about adding Maven Dependecies to the Deployment Assembly, I&#39;m point of view. Is something missing or misconfigurated in my pom.xml which breaks m2e-wtp anyhow? It should let me know what it is then, if this is the case. m2e-wtp just seems too buggy for me..."}],"tags":[],"owner":{"account_id":1085200,"reputation":1184,"user_id":1081060,"display_name":"Jebil"},"comment_count":5,"down_vote_count":1,"up_vote_count":17,"is_accepted":false,"score":16,"last_activity_date":1447337454,"creation_date":1436249647,"answer_id":31261082,"question_id":31148282,"body_markdown":"This should have nothing to do with eclipse and m2eclipse, and optionally for better support - m2e-wtp. Also, you don&#39;t need copy-dependencies. Here are a few possible reasons:\r\n\r\n - you should invoke mvn package (or right-click &gt; maven &gt; package) and obtain a war file - the &lt;packaging&gt; (in the pom) must be war\r\n\r\n    &amp;lt;packaging&amp;gt;war&amp;lt;/packaging&amp;gt;\r\n\r\n - your dependencies should be with the default scope (if they are provided or test they will not be included in the archive)\r\n - if you are running the project as dynamic web project on a server within eclipse, then you should open the project properties (right click &gt; properties) and select &quot;Deployment Assembly&quot;. There click &quot;add&quot;, select &quot;build path entries&quot;, and choose &quot;maven dependencies&quot;. This will instruct WTP to send the maven dependencies to the server dir.\r\n","title":"Missing maven dependencies from deployment assembly","body":"<p>This should have nothing to do with eclipse and m2eclipse, and optionally for better support - m2e-wtp. Also, you don't need copy-dependencies. Here are a few possible reasons:</p>\n\n<ul>\n<li><p>you should invoke mvn package (or right-click > maven > package) and obtain a war file - the  (in the pom) must be war</p>\n\n<p>&lt;packaging&gt;war&lt;/packaging&gt;</p></li>\n<li><p>your dependencies should be with the default scope (if they are provided or test they will not be included in the archive)</p></li>\n<li>if you are running the project as dynamic web project on a server within eclipse, then you should open the project properties (right click > properties) and select \"Deployment Assembly\". There click \"add\", select \"build path entries\", and choose \"maven dependencies\". This will instruct WTP to send the maven dependencies to the server dir.</li>\n</ul>\n"},{"comments":[{"owner":{"account_id":2134008,"reputation":2540,"user_id":1894204,"accept_rate":65,"display_name":"Jan Krakora"},"score":0,"creation_date":1436516823,"post_id":31320275,"comment_id":50656404,"body_markdown":"Actually I clone my GIT repo from scratch as well I create a new workspace directory for the Eclipse. Then I run &quot;Import Maven Projects...&quot; from Git Repositories view. Note that my repo doesn&#39;t contain any eclipse related files, so they have been generated - ie they should be fine. Anyway I will try it.","body":"Actually I clone my GIT repo from scratch as well I create a new workspace directory for the Eclipse. Then I run &quot;Import Maven Projects...&quot; from Git Repositories view. Note that my repo doesn&#39;t contain any eclipse related files, so they have been generated - ie they should be fine. Anyway I will try it."}],"tags":[],"owner":{"account_id":6301885,"reputation":385,"user_id":4896247,"accept_rate":25,"display_name":"Bhupi"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1436470345,"creation_date":1436451597,"answer_id":31320275,"question_id":31148282,"body_markdown":"can you please try to cleanse setup by following below steps\r\n\r\n1. disable Maven nature of application : \r\n\r\n&lt;pre&gt;&lt;code&gt;Right Click Project -&gt; Maven -&gt; Disable Maven Nature&lt;/pre&gt;&lt;/code&gt;\r\n\r\n2. open cmd , go to project location , Run `mvn clean install eclipse:eclipse -Dwtpversion=2.0`(This goal just deletes the `.project`, `.classpath` and `.settings/ files/directories`. You can also just remove those files (again while the project is open) instead of running `mvn eclipse clean.`)\r\n\r\n3. Re-enable the maven nature.\r\n(Most of the time, this can be done by right-clicking on the project in question in the package explorer pane, and then choosing `&#39;Configure&#39;-&gt; &#39;Convert to Maven Project&#39;`)\r\n\r\nother things you can try of \r\n\r\n    1. reimport project into some other workspace \r\n    2. resintall eclipse \r\n\r\nif it still didn&#39;t solve your problem , most probably you might need to raise `Jira` to eclipse team .\r\n","title":"Missing maven dependencies from deployment assembly","body":"<p>can you please try to cleanse setup by following below steps</p>\n\n<ol>\n<li>disable Maven nature of application : </li>\n</ol>\n\n<p><pre><code>Right Click Project -> Maven -> Disable Maven Nature</pre></code></p>\n\n<ol start=\"2\">\n<li><p>open cmd , go to project location , Run <code>mvn clean install eclipse:eclipse -Dwtpversion=2.0</code>(This goal just deletes the <code>.project</code>, <code>.classpath</code> and <code>.settings/ files/directories</code>. You can also just remove those files (again while the project is open) instead of running <code>mvn eclipse clean.</code>)</p></li>\n<li><p>Re-enable the maven nature.\n(Most of the time, this can be done by right-clicking on the project in question in the package explorer pane, and then choosing <code>'Configure'-&gt; 'Convert to Maven Project'</code>)</p></li>\n</ol>\n\n<p>other things you can try of </p>\n\n<pre><code>1. reimport project into some other workspace \n2. resintall eclipse \n</code></pre>\n\n<p>if it still didn't solve your problem , most probably you might need to raise <code>Jira</code> to eclipse team .</p>\n"},{"comments":[{"owner":{"account_id":2134008,"reputation":2540,"user_id":1894204,"accept_rate":65,"display_name":"Jan Krakora"},"score":0,"creation_date":1445499639,"post_id":33275123,"comment_id":54351930,"body_markdown":"I&#39;ve just tried. But the Maven Dependencies disappeared again.","body":"I&#39;ve just tried. But the Maven Dependencies disappeared again."},{"owner":{"account_id":3821003,"reputation":21,"user_id":3169115,"display_name":"Patrick He"},"score":0,"creation_date":1445586829,"post_id":33275123,"comment_id":54393882,"body_markdown":"Thanks for your notice. \nPlease check the setting: &lt;installed facet=&quot;jst.web&quot; version=&quot;3.0&quot;/&gt; inside org.eclipse.wst.common.project.facet.core.xml \nwithin .settings folder, the jst.web version should be the same as the web-app version in web.xml header : \n`&lt;web-app xmlns=&quot;http://java.sun.com/xml/ns/javaee&quot; \n\txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n\txsi:schemaLocation=&quot;http://java.sun.com/xml/ns/javaee \n\thttp://java.sun.com/xml/ns/javaee/web-app_3_0.xsd&quot;\n\tversion=&quot;3.0&quot;&gt;`","body":"Thanks for your notice.  Please check the setting: &lt;installed facet=&quot;jst.web&quot; version=&quot;3.0&quot;/&gt; inside org.eclipse.wst.common.project.facet.core.xml  within .settings folder, the jst.web version should be the same as the web-app version in web.xml header :  <code>&lt;web-app xmlns=&quot;http:&#47;&#47;java.sun.com&#47;xml&#47;ns&#47;javaee&quot;  \txmlns:xsi=&quot;http:&#47;&#47;www.w3.org&#47;2001&#47;XMLSchema-instance&quot; \txsi:schemaLocation=&quot;http:&#47;&#47;java.sun.com&#47;xml&#47;ns&#47;javaee  \thttp:&#47;&#47;java.sun.com&#47;xml&#47;ns&#47;javaee&#47;web-app_3_0.xsd&quot; \tversion=&quot;3.0&quot;&gt;</code>"},{"owner":{"account_id":2134008,"reputation":2540,"user_id":1894204,"accept_rate":65,"display_name":"Jan Krakora"},"score":0,"creation_date":1445599186,"post_id":33275123,"comment_id":54400908,"body_markdown":"I&#39;ve found &lt;installed facet=&quot;jst.web&quot; version=&quot;2.5&quot;/&gt; and yes, it&#39;s the same as web-app version in web.xml header.","body":"I&#39;ve found &lt;installed facet=&quot;jst.web&quot; version=&quot;2.5&quot;/&gt; and yes, it&#39;s the same as web-app version in web.xml header."}],"tags":[],"owner":{"account_id":3821003,"reputation":21,"user_id":3169115,"display_name":"Patrick He"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1445500418,"creation_date":1445497469,"answer_id":33275123,"question_id":31148282,"body_markdown":"I recently had the same issue just like your description above and I got it working this way:\r\n\r\n 1. right-click on project &gt; Maven &gt; Disable Maven Nature\r\n 2. right-click on project &gt; Configure &gt; Convert to Maven Project\r\n\r\nThen call the Maven update project, the Maven dependencies will not disappear from the view of Deployment Assembly again.","title":"Missing maven dependencies from deployment assembly","body":"<p>I recently had the same issue just like your description above and I got it working this way:</p>\n\n<ol>\n<li>right-click on project > Maven > Disable Maven Nature</li>\n<li>right-click on project > Configure > Convert to Maven Project</li>\n</ol>\n\n<p>Then call the Maven update project, the Maven dependencies will not disappear from the view of Deployment Assembly again.</p>\n"},{"tags":[],"owner":{"account_id":6085211,"reputation":536,"user_id":4749531,"display_name":"Hatem Badawi"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1451516174,"creation_date":1451516174,"answer_id":34538521,"question_id":31148282,"body_markdown":"I solved the same issue this way:\r\n\r\n1. Open pom.xml and make Packaging `war` .\r\n2. Right click the project and select `Maven&gt;Update Project`.\r\n\r\nWill update the project without deleting the Maven Dependencies from Deployment Assembly ; And if the Maven Dependencies is missing the `Maven&gt;Update Project` will automatically add it to the project Deployment Assembly","title":"Missing maven dependencies from deployment assembly","body":"<p>I solved the same issue this way:</p>\n\n<ol>\n<li>Open pom.xml and make Packaging <code>war</code> .</li>\n<li>Right click the project and select <code>Maven&gt;Update Project</code>.</li>\n</ol>\n\n<p>Will update the project without deleting the Maven Dependencies from Deployment Assembly ; And if the Maven Dependencies is missing the <code>Maven&gt;Update Project</code> will automatically add it to the project Deployment Assembly</p>\n"},{"tags":[],"owner":{"account_id":1330077,"reputation":73,"user_id":1274180,"display_name":"David SCHERRER"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1464170315,"creation_date":1464170315,"answer_id":37433709,"question_id":31148282,"body_markdown":"I solved a similar issue by doing following actions on my web project:\r\n\r\n - removing maven nature \r\n - cleaning up all m2e generated files\r\n - adding maven nature\r\n - alt + F5\r\n\r\nNote : I had this issue after adding maven nature to my java projects in order to use them with m2e instead of prior maven eclipse plugin (legacy...)","title":"Missing maven dependencies from deployment assembly","body":"<p>I solved a similar issue by doing following actions on my web project:</p>\n\n<ul>\n<li>removing maven nature </li>\n<li>cleaning up all m2e generated files</li>\n<li>adding maven nature</li>\n<li>alt + F5</li>\n</ul>\n\n<p>Note : I had this issue after adding maven nature to my java projects in order to use them with m2e instead of prior maven eclipse plugin (legacy...)</p>\n"},{"tags":[],"owner":{"account_id":9720713,"reputation":906,"user_id":7209547,"display_name":"Mukul Bansal"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1480075160,"creation_date":1480075160,"answer_id":40804583,"question_id":31148282,"body_markdown":"What I was doing - I was replacing the default web.xml file with my own web.xml. \r\n\r\nThe moment I replaced my default web.xml (which is created while creating a new maven web project), the Maven Dependencies disappeared from the Deployment Assembly. So, instead of replacing, I copy-pasted my content in the original/default web.xml.\r\n\r\nThat resolved my problem.","title":"Missing maven dependencies from deployment assembly","body":"<p>What I was doing - I was replacing the default web.xml file with my own web.xml. </p>\n\n<p>The moment I replaced my default web.xml (which is created while creating a new maven web project), the Maven Dependencies disappeared from the Deployment Assembly. So, instead of replacing, I copy-pasted my content in the original/default web.xml.</p>\n\n<p>That resolved my problem.</p>\n"},{"tags":[],"owner":{"account_id":9852104,"reputation":1,"user_id":7297871,"display_name":"Elias"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1488666967,"creation_date":1488666967,"answer_id":42602195,"question_id":31148282,"body_markdown":"I resolved this problem as follows;\r\n\r\n1. copy the content of the web.xml file and save it somewhere for later use.\r\n\r\n2. delete the web.xml file.\r\n\r\n3. Right click on the project -&gt; Java EE Tools -&gt; Generate Deployment Descriptor Stub\r\n\r\nstep 3 will generate the web.xml file in the WEB-INF folder. then you can paste your saved content in step 1 to the newly generated web.xml file.\r\n\r\nAfter this your maven dependencies will not be removed from the deployment Assembly.","title":"Missing maven dependencies from deployment assembly","body":"<p>I resolved this problem as follows;</p>\n\n<ol>\n<li><p>copy the content of the web.xml file and save it somewhere for later use.</p></li>\n<li><p>delete the web.xml file.</p></li>\n<li><p>Right click on the project -> Java EE Tools -> Generate Deployment Descriptor Stub</p></li>\n</ol>\n\n<p>step 3 will generate the web.xml file in the WEB-INF folder. then you can paste your saved content in step 1 to the newly generated web.xml file.</p>\n\n<p>After this your maven dependencies will not be removed from the deployment Assembly.</p>\n"},{"tags":[],"owner":{"account_id":2377694,"reputation":846,"user_id":2080575,"accept_rate":38,"display_name":"Alex R"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1503348428,"creation_date":1503348428,"answer_id":45805277,"question_id":31148282,"body_markdown":"In my case, it was a `pluginExecutionFilter` in the `pluginManagement` section in the pom.xml.\r\n\r\nRemoving the section for `org.apache.maven.plugins:maven-war-plugin` eliminated the problem of the maven dependencies that would vanish from the deployment assembly, along with the issue that after adding the maven dependencies manually, deployment would also install test dependencies:\r\n\r\n\t\t\t\t\t&lt;!-- Remove to eliminate vanishing maven dependencies\r\n\t\t                       &lt;pluginExecution&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;pluginExecutionFilter&gt;\r\n\t\t\t\t\t\t\t\t\t\t&lt;groupId&gt;\r\n\t\t\t\t\t\t\t\t\t\t\torg.apache.maven.plugins\r\n\t\t\t\t\t\t\t\t\t\t&lt;/groupId&gt;\r\n\t\t\t\t\t\t\t\t\t\t&lt;artifactId&gt;\r\n\t\t\t\t\t\t\t\t\t\t\tmaven-war-plugin\r\n\t\t\t\t\t\t\t\t\t\t&lt;/artifactId&gt;\r\n\t\t\t\t\t\t\t\t\t\t&lt;versionRange&gt;\r\n\t\t\t\t\t\t\t\t\t\t\t[3.0.0,)\r\n\t\t\t\t\t\t\t\t\t\t&lt;/versionRange&gt;\r\n\t\t\t\t\t\t\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t\t\t\t\t\t\t\t&lt;goal&gt;war&lt;/goal&gt;\r\n\t\t\t\t\t\t\t\t\t\t&lt;/goals&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;/pluginExecutionFilter&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;action&gt;\r\n\t\t\t\t\t\t\t\t\t\t&lt;ignore&gt;&lt;/ignore&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;/action&gt;\r\n\t\t\t\t\t\t\t\t&lt;/pluginExecution&gt; --&gt;","title":"Missing maven dependencies from deployment assembly","body":"<p>In my case, it was a <code>pluginExecutionFilter</code> in the <code>pluginManagement</code> section in the pom.xml.</p>\n\n<p>Removing the section for <code>org.apache.maven.plugins:maven-war-plugin</code> eliminated the problem of the maven dependencies that would vanish from the deployment assembly, along with the issue that after adding the maven dependencies manually, deployment would also install test dependencies:</p>\n\n<pre><code>                &lt;!-- Remove to eliminate vanishing maven dependencies\n                           &lt;pluginExecution&gt;\n                                &lt;pluginExecutionFilter&gt;\n                                    &lt;groupId&gt;\n                                        org.apache.maven.plugins\n                                    &lt;/groupId&gt;\n                                    &lt;artifactId&gt;\n                                        maven-war-plugin\n                                    &lt;/artifactId&gt;\n                                    &lt;versionRange&gt;\n                                        [3.0.0,)\n                                    &lt;/versionRange&gt;\n                                    &lt;goals&gt;\n                                        &lt;goal&gt;war&lt;/goal&gt;\n                                    &lt;/goals&gt;\n                                &lt;/pluginExecutionFilter&gt;\n                                &lt;action&gt;\n                                    &lt;ignore&gt;&lt;/ignore&gt;\n                                &lt;/action&gt;\n                            &lt;/pluginExecution&gt; --&gt;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2377694,"reputation":846,"user_id":2080575,"accept_rate":38,"display_name":"Alex R"},"score":0,"creation_date":1555674422,"post_id":48955710,"comment_id":98197294,"body_markdown":"Thanks for the hint, I just disabled workspace resolution and the Maven dependencies magically reappeared in the deployment assembly... I could enable again without adverse effect","body":"Thanks for the hint, I just disabled workspace resolution and the Maven dependencies magically reappeared in the deployment assembly... I could enable again without adverse effect"}],"tags":[],"owner":{"account_id":4156256,"reputation":80,"user_id":3407477,"display_name":"Robert Fornesdale"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1519417350,"creation_date":1519417350,"answer_id":48955710,"question_id":31148282,"body_markdown":"my case was the following:\r\nI wasn&#39;t even able to choose the &quot;Maven Dependencies&quot; for the &quot;Deployment Assembly&quot;.\r\n\r\nI could finally (!) solve it this way:\r\nrightclick on project -&gt; Maven -&gt; Enable Workspace Resolution\r\n\r\nwatch out again in &quot;Deployment Assembly&quot; (project properties), if it worked.\r\n","title":"Missing maven dependencies from deployment assembly","body":"<p>my case was the following:\nI wasn't even able to choose the \"Maven Dependencies\" for the \"Deployment Assembly\".</p>\n\n<p>I could finally (!) solve it this way:\nrightclick on project -> Maven -> Enable Workspace Resolution</p>\n\n<p>watch out again in \"Deployment Assembly\" (project properties), if it worked.</p>\n"},{"tags":[],"owner":{"account_id":14037711,"reputation":1,"user_id":10139994,"display_name":"roger"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1532618727,"creation_date":1532618727,"answer_id":51542470,"question_id":31148282,"body_markdown":"My solution was:\r\n\r\nEclipse &gt; Window &gt; Preferences &gt; Maven &gt; Java EE Integration &gt; Check &quot;Enable Java EE configuration&quot;","title":"Missing maven dependencies from deployment assembly","body":"<p>My solution was:</p>\n\n<p>Eclipse > Window > Preferences > Maven > Java EE Integration > Check \"Enable Java EE configuration\"</p>\n"},{"tags":[],"owner":{"account_id":8280887,"reputation":1297,"user_id":6225635,"display_name":"Eric"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1547259497,"creation_date":1547259497,"answer_id":54156259,"question_id":31148282,"body_markdown":"My solution is because web.xml version is not compatible, change it from 2.4 to 3.0.","title":"Missing maven dependencies from deployment assembly","body":"<p>My solution is because web.xml version is not compatible, change it from 2.4 to 3.0.</p>\n"},{"tags":[],"owner":{"account_id":95888,"reputation":511,"user_id":260925,"accept_rate":60,"display_name":"Fulvius"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1553708034,"creation_date":1553708034,"answer_id":55383356,"question_id":31148282,"body_markdown":"Right Click on Project &gt; Properites&gt; Maven  \r\nUncheck and Apply &quot;Resolve dependencies from Wrokspace projects&quot;. After that check &quot;Resolve dependencies from Wrokspace projects&quot; and click OK. \r\n\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/BObHZ.png","title":"Missing maven dependencies from deployment assembly","body":"<p>Right Click on Project > Properites> Maven<br>\nUncheck and Apply \"Resolve dependencies from Wrokspace projects\". After that check \"Resolve dependencies from Wrokspace projects\" and click OK. </p>\n\n<p><a href=\"https://i.stack.imgur.com/BObHZ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/BObHZ.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":[],"owner":{"account_id":1083227,"reputation":178,"user_id":1079614,"display_name":"irbian"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699375034,"creation_date":1699375034,"answer_id":77439967,"question_id":31148282,"body_markdown":"In my case the other answers didn&#39;t work until I make sure that all the relevant configurations relative to the Java version where aligned. That means:\r\n\r\n - Java Compiler Level\r\n - maven-compiler-plugin java target version\r\n - JRE Runtime installed\r\n - Java Proyect facet\r\n","title":"Missing maven dependencies from deployment assembly","body":"<p>In my case the other answers didn't work until I make sure that all the relevant configurations relative to the Java version where aligned. That means:</p>\n<ul>\n<li>Java Compiler Level</li>\n<li>maven-compiler-plugin java target version</li>\n<li>JRE Runtime installed</li>\n<li>Java Proyect facet</li>\n</ul>\n"}],"owner":{"account_id":2134008,"reputation":2540,"user_id":1894204,"accept_rate":65,"display_name":"Jan Krakora"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":38283,"favorite_count":0,"down_vote_count":0,"up_vote_count":28,"answer_count":13,"score":28,"last_activity_date":1699375034,"creation_date":1435697536,"question_id":31148282,"body_markdown":"I&#39;ve recently upgraded from eclipse 4.4.2 (Luna) to 4.5 (Mars). My dynamic web project now doesn&#39;t include the Maven Dependencies in its deployment assembly &quot;Project-&gt;Properties-&gt;Deployment assembly&quot;.\r\n\r\nI can add them manually (using &quot;Project-&gt;Properties-&gt;Deployment assembly-&gt;Add-&gt;Java Build Path Entries-&gt;Maven Dependencies&quot;), but every time I run &quot;Project-&gt;Maven-&gt;Update Project Configuration&quot;, the Maven Dependencies are removed again.\r\n\r\nNote that I run the project using the Apache Tomcat Server within the Eclipse IDE.\r\n\r\nI have installed \r\n\r\n - m2e 1.6.0.20150526-2032\r\n - m2e-wtp 1.2.0.20150602-1740\r\n\r\n","title":"Missing maven dependencies from deployment assembly","body":"<p>I've recently upgraded from eclipse 4.4.2 (Luna) to 4.5 (Mars). My dynamic web project now doesn't include the Maven Dependencies in its deployment assembly \"Project->Properties->Deployment assembly\".</p>\n\n<p>I can add them manually (using \"Project->Properties->Deployment assembly->Add->Java Build Path Entries->Maven Dependencies\"), but every time I run \"Project->Maven->Update Project Configuration\", the Maven Dependencies are removed again.</p>\n\n<p>Note that I run the project using the Apache Tomcat Server within the Eclipse IDE.</p>\n\n<p>I have installed </p>\n\n<ul>\n<li>m2e 1.6.0.20150526-2032</li>\n<li>m2e-wtp 1.2.0.20150602-1740</li>\n</ul>\n"},{"tags":["java","html","audio","vaadin"],"comments":[{"owner":{"account_id":12280349,"reputation":10212,"user_id":8962195,"display_name":"Tatu Lund"},"score":0,"creation_date":1699369464,"post_id":77438126,"comment_id":136521347,"body_markdown":"Check this answer https://stackoverflow.com/a/71044894/8962195","body":"Check this answer <a href=\"https://stackoverflow.com/a/71044894/8962195\">stackoverflow.com/a/71044894/8962195</a>"},{"owner":{"account_id":2497210,"reputation":1189,"user_id":2173320,"accept_rate":65,"display_name":"padmalcom"},"score":0,"creation_date":1699369704,"post_id":77438126,"comment_id":136521405,"body_markdown":"Thanks, that looks good. Unfortunately, in my case the event I get is empty (a &quot;generic event&quot; as described here: https://developer.mozilla.org/en-US/docs/Web/API/HTMLMediaElement/timeupdate_event). So I need to access the element to see the chaning data.","body":"Thanks, that looks good. Unfortunately, in my case the event I get is empty (a &quot;generic event&quot; as described here: <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/HTMLMediaElement/timeupdate_event\" rel=\"nofollow noreferrer\">developer.mozilla.org/en-US/docs/Web/API/HTMLMediaElement/&hellip;</a>)&zwnj;&#8203;. So I need to access the element to see the chaning data."}],"answers":[{"tags":[],"owner":{"account_id":2497210,"reputation":1189,"user_id":2173320,"accept_rate":65,"display_name":"padmalcom"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1699374726,"creation_date":1699374726,"answer_id":77439938,"question_id":77438126,"body_markdown":"Okay, I found a way using property chance listeners. I&#39;m observice the javascript property *currentTime* and react to the *timeupdate* event. This does not emit a *ComponentEvent* but I can live with that.\r\n\r\n    public Audio() {\r\n    \tsuper();\r\n    \tthis.getElement().addPropertyChangeListener(&quot;currentTime&quot;, &quot;timeupdate&quot;, e -&gt; {\r\n    \t\tcurrentTime = Float.parseFloat(e.getValue().toString());\r\n    \t});\r\n    \tgetElement().setProperty(&quot;controls&quot;, true);\r\n    }","title":"Catch timeupdate event of an audio tag in vaadin","body":"<p>Okay, I found a way using property chance listeners. I'm observice the javascript property <em>currentTime</em> and react to the <em>timeupdate</em> event. This does not emit a <em>ComponentEvent</em> but I can live with that.</p>\n<pre><code>public Audio() {\n    super();\n    this.getElement().addPropertyChangeListener(&quot;currentTime&quot;, &quot;timeupdate&quot;, e -&gt; {\n        currentTime = Float.parseFloat(e.getValue().toString());\n    });\n    getElement().setProperty(&quot;controls&quot;, true);\n}\n</code></pre>\n"}],"owner":{"account_id":2497210,"reputation":1189,"user_id":2173320,"accept_rate":65,"display_name":"padmalcom"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77439938,"answer_count":1,"score":1,"last_activity_date":1699374726,"creation_date":1699359121,"question_id":77438126,"body_markdown":"I use the audio tag in a component as propsed here: https://cookbook.vaadin.com/embed-audio\r\n\r\nNow I want to fire an event when the audio plays. I found out that the audio tag provides the *timeupdate* event. I can catch it and it workes well. But now I want to get the current time of the audio playing. I read that the audio element has an attribute *currentTime*. But when I want to get that attribute from the audio element, it is not existing.\r\n\r\nI printed all attributes of audio and everyting a get is *src* and *style*. Hope you can point me in the right direction here, since this does absolutely not make sense to me.\r\n\r\nEdit: When I query the attribute via executeJs like:\r\n\r\n    UI.getCurrent().getPage().executeJs(&quot;return $0.currentTime&quot;, audio.getElement());\r\n\r\n... , I get the value I&#39;m looking for but then, the event listener does not work synchrnously anymore.\r\n\r\nMy class looks like that:\r\n\r\n    @Tag(&quot;audio&quot;)\r\n    public class Audio extends Component implements HasSize {\r\n    \r\n    \tprivate static final long serialVersionUID = 1L;\r\n    \r\n    \tprivate static final PropertyDescriptor&lt;String, String&gt; srcDescriptor = PropertyDescriptors\r\n    \t\t\t.attributeWithDefault(&quot;src&quot;, &quot;&quot;);\r\n    \r\n    \tpublic Audio() {\r\n    \t\tsuper();\r\n    \t\tgetElement().setProperty(&quot;controls&quot;, true);\r\n    \t}\r\n    \r\n    \tpublic Audio(String src) {\r\n    \t\tsetSrc(src);\r\n    \t\tgetElement().setProperty(&quot;controls&quot;, true);\r\n    \t}\r\n    \r\n    \tpublic String getSrc() {\r\n    \t\treturn get(srcDescriptor);\r\n    \t}\r\n    \r\n    \tpublic void setSrc(String src) {\r\n    \t\tset(srcDescriptor, src);\r\n    \t}\r\n    \r\n    \tpublic void setSrc(final AbstractStreamResource resource) {\r\n    \t\tgetElement().setAttribute(&quot;src&quot;, resource);\r\n    \t}\r\n    \r\n    \tpublic void play() {\r\n    \t\tgetElement().callJsFunction(&quot;play&quot;);\r\n    \t}\r\n    \r\n    \tpublic void stop() {\r\n    \t\tgetElement().callJsFunction(&quot;stop&quot;);\r\n    \t}\r\n    \r\n    \t@DomEvent(&quot;timeupdate&quot;)\r\n    \tpublic static class TimeUpdateEvent extends ComponentEvent&lt;Audio&gt; {\r\n    \r\n    \t\tprivate final int progress;\r\n    \r\n    \t\tpublic TimeUpdateEvent(Audio audio, boolean fromClient) {\r\n    \t\t\tsuper(audio, fromClient);\r\n    \t\t\tString currentTime = audio.getElement().getAttribute(&quot;currentTime&quot;);\r\n    \t\t\tthis.progress = Integer.valueOf(currentTime);\r\n    \t\t}\r\n    \r\n    \t\tpublic Audio getAudio() {\r\n    \t\t\treturn (Audio) this.source;\r\n    \t\t}\r\n    \r\n    \t\tpublic int getProgress() {\r\n    \t\t\treturn this.progress;\r\n    \t\t}\r\n    \t}\r\n    \r\n    \tpublic Registration addTimeUpdateListener(ComponentEventListener&lt;Audio.TimeUpdateEvent&gt; listener) {\r\n    \t\treturn addListener(Audio.TimeUpdateEvent.class, listener);\r\n    \t}\r\n    }","title":"Catch timeupdate event of an audio tag in vaadin","body":"<p>I use the audio tag in a component as propsed here: <a href=\"https://cookbook.vaadin.com/embed-audio\" rel=\"nofollow noreferrer\">https://cookbook.vaadin.com/embed-audio</a></p>\n<p>Now I want to fire an event when the audio plays. I found out that the audio tag provides the <em>timeupdate</em> event. I can catch it and it workes well. But now I want to get the current time of the audio playing. I read that the audio element has an attribute <em>currentTime</em>. But when I want to get that attribute from the audio element, it is not existing.</p>\n<p>I printed all attributes of audio and everyting a get is <em>src</em> and <em>style</em>. Hope you can point me in the right direction here, since this does absolutely not make sense to me.</p>\n<p>Edit: When I query the attribute via executeJs like:</p>\n<pre><code>UI.getCurrent().getPage().executeJs(&quot;return $0.currentTime&quot;, audio.getElement());\n</code></pre>\n<p>... , I get the value I'm looking for but then, the event listener does not work synchrnously anymore.</p>\n<p>My class looks like that:</p>\n<pre><code>@Tag(&quot;audio&quot;)\npublic class Audio extends Component implements HasSize {\n\n    private static final long serialVersionUID = 1L;\n\n    private static final PropertyDescriptor&lt;String, String&gt; srcDescriptor = PropertyDescriptors\n            .attributeWithDefault(&quot;src&quot;, &quot;&quot;);\n\n    public Audio() {\n        super();\n        getElement().setProperty(&quot;controls&quot;, true);\n    }\n\n    public Audio(String src) {\n        setSrc(src);\n        getElement().setProperty(&quot;controls&quot;, true);\n    }\n\n    public String getSrc() {\n        return get(srcDescriptor);\n    }\n\n    public void setSrc(String src) {\n        set(srcDescriptor, src);\n    }\n\n    public void setSrc(final AbstractStreamResource resource) {\n        getElement().setAttribute(&quot;src&quot;, resource);\n    }\n\n    public void play() {\n        getElement().callJsFunction(&quot;play&quot;);\n    }\n\n    public void stop() {\n        getElement().callJsFunction(&quot;stop&quot;);\n    }\n\n    @DomEvent(&quot;timeupdate&quot;)\n    public static class TimeUpdateEvent extends ComponentEvent&lt;Audio&gt; {\n\n        private final int progress;\n\n        public TimeUpdateEvent(Audio audio, boolean fromClient) {\n            super(audio, fromClient);\n            String currentTime = audio.getElement().getAttribute(&quot;currentTime&quot;);\n            this.progress = Integer.valueOf(currentTime);\n        }\n\n        public Audio getAudio() {\n            return (Audio) this.source;\n        }\n\n        public int getProgress() {\n            return this.progress;\n        }\n    }\n\n    public Registration addTimeUpdateListener(ComponentEventListener&lt;Audio.TimeUpdateEvent&gt; listener) {\n        return addListener(Audio.TimeUpdateEvent.class, listener);\n    }\n}\n</code></pre>\n"},{"tags":["java","json","wiremock","wiremock-standalone"],"owner":{"account_id":26021805,"reputation":1,"user_id":19758411,"display_name":"6ig6or6"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1699374188,"creation_date":1699374151,"question_id":77439878,"body_markdown":"I am using a standalone version of WireMock for my application.\r\nPreviously I had mappings.json where some my endpoints returned a json arrays that were stored in separate files.\r\nLike \r\n```\r\n{\r\n &quot;mappings&quot;: [\r\n{ \r\n&quot;request&quot;: {\r\n&quot;url&quot; : &quot;/path&quot;,\r\n&quot;method&quot; : &quot;GET&quot;\r\n},\r\n&quot;response&quot;:\r\n  &quot;status&quot;: 200,\r\n  &quot;bodyFileName&quot;: &quot;fileName.json&quot;\r\n}\r\n]\r\n\r\n}\r\n```\r\nNow I want to return only one JSON object from that file&#39;s array according to the query param.\r\nFor example return an object by its id\r\n\r\n\r\nIs it possible using WireMock?\r\nI&#39;ve tried a few ways, but nothing is working.","title":"WireMock stub to return one element from a JSON array","body":"<p>I am using a standalone version of WireMock for my application.\nPreviously I had mappings.json where some my endpoints returned a json arrays that were stored in separate files.\nLike</p>\n<pre><code>{\n &quot;mappings&quot;: [\n{ \n&quot;request&quot;: {\n&quot;url&quot; : &quot;/path&quot;,\n&quot;method&quot; : &quot;GET&quot;\n},\n&quot;response&quot;:\n  &quot;status&quot;: 200,\n  &quot;bodyFileName&quot;: &quot;fileName.json&quot;\n}\n]\n\n}\n</code></pre>\n<p>Now I want to return only one JSON object from that file's array according to the query param.\nFor example return an object by its id</p>\n<p>Is it possible using WireMock?\nI've tried a few ways, but nothing is working.</p>\n"},{"tags":["javascript","java","vaadin","p5.js"],"answers":[{"comments":[{"owner":{"account_id":24731418,"reputation":1,"user_id":18619342,"display_name":"Nick Palishkin"},"score":0,"creation_date":1650902851,"post_id":72000147,"comment_id":127227988,"body_markdown":"Thanks, Tatu. To convince myself that JavaScript do automaticly execute I create an empty html with minimal code inside with script tags to both files`&lt;script src=&quot;p5.js&quot;&gt;&lt;/script&gt; &lt;script src=&quot;sketch.js&quot;&gt;&lt;/script&gt;`. It started automaticaly and runs perfectly. Also the invocation in MyView constructor `getElement().executeJs(&quot;console.log(test)&quot;);` also works. But the suggested `getElement().executeJs(&quot;setup()&quot;);` doesn&#39;t work with error messge &quot;Uncaught ReferenceError: setup is not defined&quot; in console.","body":"Thanks, Tatu. To convince myself that JavaScript do automaticly execute I create an empty html with minimal code inside with script tags to both files<code>&lt;script src=&quot;p5.js&quot;&gt;&lt;&#47;script&gt; &lt;script src=&quot;sketch.js&quot;&gt;&lt;&#47;script&gt;</code>. It started automaticaly and runs perfectly. Also the invocation in MyView constructor <code>getElement().executeJs(&quot;console.log(test)&quot;);</code> also works. But the suggested <code>getElement().executeJs(&quot;setup()&quot;);</code> doesn&#39;t work with error messge &quot;Uncaught ReferenceError: setup is not defined&quot; in console."},{"owner":{"account_id":12280349,"reputation":10212,"user_id":8962195,"display_name":"Tatu Lund"},"score":0,"creation_date":1650909996,"post_id":72000147,"comment_id":127230450,"body_markdown":"In which scope those functions hace been defined? Do you need to call them using window.setup()?","body":"In which scope those functions hace been defined? Do you need to call them using window.setup()?"},{"owner":{"account_id":24731418,"reputation":1,"user_id":18619342,"display_name":"Nick Palishkin"},"score":0,"creation_date":1650956493,"post_id":72000147,"comment_id":127239957,"body_markdown":"Here above is the code of script within &quot;setup()&quot; function with no any additional scope or name space defenition. I&#39;m just plug it with @JavaScript annotation. But I&#39;m not so experienced in JavaScript. How can I check in wich scope scripts works? \n&quot;window.setup()&quot; in console lead to the error &quot;Uncaught TypeError: window.setup is not a function\n    at &lt;anonymous&gt;:1:8&quot;","body":"Here above is the code of script within &quot;setup()&quot; function with no any additional scope or name space defenition. I&#39;m just plug it with @JavaScript annotation. But I&#39;m not so experienced in JavaScript. How can I check in wich scope scripts works?  &quot;window.setup()&quot; in console lead to the error &quot;Uncaught TypeError: window.setup is not a function     at &lt;anonymous&gt;:1:8&quot;"}],"tags":[],"owner":{"account_id":12280349,"reputation":10212,"user_id":8962195,"display_name":"Tatu Lund"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650892360,"creation_date":1650892360,"answer_id":72000147,"question_id":71998793,"body_markdown":"The content of the JavaScript is not automatically executed. You need to add JavaScript call in your view, something like.\r\n\r\n    @Route(value = &quot;/MyView&quot;)\r\n    @JavaScript(&quot;./p5.js&quot;)\r\n    @JavaScript(&quot;./sketch.js&quot;)\r\n    public class MyView extends VerticalLayout {\r\n        public MyView() {\r\n            getElement().executeJs(&quot;setup();draw();&quot;);\r\n        }\r\n    }\r\n\r\n","title":"Why p5js skethch integrated with Vaadin won&#39;t start?","body":"<p>The content of the JavaScript is not automatically executed. You need to add JavaScript call in your view, something like.</p>\n<pre><code>@Route(value = &quot;/MyView&quot;)\n@JavaScript(&quot;./p5.js&quot;)\n@JavaScript(&quot;./sketch.js&quot;)\npublic class MyView extends VerticalLayout {\n    public MyView() {\n        getElement().executeJs(&quot;setup();draw();&quot;);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":325589,"reputation":2118,"user_id":646863,"display_name":"eeq"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699373605,"creation_date":1699373605,"answer_id":77439815,"question_id":71998793,"body_markdown":"Looks like p5 works the other way around and you need to load the sketch *before* p5. See https://github.com/processing/p5.js/wiki/Global-and-instance-mode#when-is-global-mode-assumed\r\n\r\nThis can lead to problems and confusion down the road when mixing other JS libraries or trying to embed multiple p5 sketches on the same page. So it is better to use &quot;instance mode&quot;. \r\n\r\nHere is example using `@NpmPackage` in Vaadin:\r\n\r\n     @Route(&quot;/p5demo&quot;)\r\n     @NpmPackage(value = &quot;p5&quot;, version = &quot;1.8.0&quot;)\r\n     @JsModule(&quot;./mySketch.js&quot;)\r\n     public class P5Demo extends Div {\r\n     \r\n       Div demo = new Div();\r\n     \r\n       public P5Demo() {\r\n         demo.getElement().executeJs(&quot;initMySketch(this)&quot;);\r\n         add(demo);\r\n       }\r\n     }\r\n\r\nAnd in `frontend/mySketch.js` you should import `p5` and define the `window.initMySketch`:\r\n\r\n    import p5 from &#39;p5&#39;\r\n\r\n    const mySketch = (sketch) =&gt; {\r\n  \r\n      sketch.setup = () =&gt; {\r\n        sketch.createCanvas(400, 400, sketch.WEBGL);\r\n      };\r\n  \r\n      sketch.draw = () =&gt; {\r\n        sketch.background(250);\r\n        sketch.normalMaterial();\r\n        sketch.push();\r\n        sketch.translate(0, -100, 0);\r\n        sketch.rotateZ(sketch.frameCount * 0.01);\r\n        sketch.rotateX(sketch.frameCount * 0.01);\r\n        sketch.rotateY(sketch.frameCount * 0.01);\r\n        sketch.box(70, 70, 70);\r\n        sketch.pop();\r\n      };\r\n    }\r\n    \r\n    /* This is visible to to getElement().executeJs(...) method. */\r\n    window.initMySketch = (el) =&gt; { new p5(mySketch, el); }\r\n\r\n\r\nNote: This example is using Vaadin&#39;s `@JsModule` and it will result a frontend build every time you your sketch. ","title":"Why p5js skethch integrated with Vaadin won&#39;t start?","body":"<p>Looks like p5 works the other way around and you need to load the sketch <em>before</em> p5. See <a href=\"https://github.com/processing/p5.js/wiki/Global-and-instance-mode#when-is-global-mode-assumed\" rel=\"nofollow noreferrer\">https://github.com/processing/p5.js/wiki/Global-and-instance-mode#when-is-global-mode-assumed</a></p>\n<p>This can lead to problems and confusion down the road when mixing other JS libraries or trying to embed multiple p5 sketches on the same page. So it is better to use &quot;instance mode&quot;.</p>\n<p>Here is example using <code>@NpmPackage</code> in Vaadin:</p>\n<pre><code> @Route(&quot;/p5demo&quot;)\n @NpmPackage(value = &quot;p5&quot;, version = &quot;1.8.0&quot;)\n @JsModule(&quot;./mySketch.js&quot;)\n public class P5Demo extends Div {\n \n   Div demo = new Div();\n \n   public P5Demo() {\n     demo.getElement().executeJs(&quot;initMySketch(this)&quot;);\n     add(demo);\n   }\n }\n</code></pre>\n<p>And in <code>frontend/mySketch.js</code> you should import <code>p5</code> and define the <code>window.initMySketch</code>:</p>\n<pre><code>import p5 from 'p5'\n\nconst mySketch = (sketch) =&gt; {\n\n  sketch.setup = () =&gt; {\n    sketch.createCanvas(400, 400, sketch.WEBGL);\n  };\n\n  sketch.draw = () =&gt; {\n    sketch.background(250);\n    sketch.normalMaterial();\n    sketch.push();\n    sketch.translate(0, -100, 0);\n    sketch.rotateZ(sketch.frameCount * 0.01);\n    sketch.rotateX(sketch.frameCount * 0.01);\n    sketch.rotateY(sketch.frameCount * 0.01);\n    sketch.box(70, 70, 70);\n    sketch.pop();\n  };\n}\n\n/* This is visible to to getElement().executeJs(...) method. */\nwindow.initMySketch = (el) =&gt; { new p5(mySketch, el); }\n</code></pre>\n<p>Note: This example is using Vaadin's <code>@JsModule</code> and it will result a frontend build every time you your sketch.</p>\n"}],"owner":{"account_id":24731418,"reputation":1,"user_id":18619342,"display_name":"Nick Palishkin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":93,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1699373605,"creation_date":1650886011,"question_id":71998793,"body_markdown":"  I&#39;m trying to integrate a p5js with the Vaadin. The goal is to plug p5js library and my p5js Sketch as well into the Vaadin&#39;s view component. So I would be able to launch and render my a p5js Sketch on client side and refer to some logic on the server side.\r\n\r\n  As I am figuring out once p5js library loaded it would start automaticaly (The p5js library is a script file with a main function inside round brakets) and catch my &quot;setup()&quot; and &quot;draw()&quot; functions from sketch. And this is exactly how it works if I make an empty html page and plug scripts there with &lt;script&gt; tags.\r\n\r\nIn Vaadin I used @JavaScript annotation for both scripts and start localhost but hothing happens. Sketch won&#39;t start. There is test &quot;console.log()&quot; inside &quot;setup()&quot; function it won&#39;t works off too. \r\n\r\nAlso somehow I can&#39;t reach the sketch&#39;s functions from browser&#39;s console (Neither just &quot;setup()&quot;, nor &quot;window.setup()&quot;, nor &quot;p5.setup() fit) but with tiny code modification I can. If I place my sketch code inside &quot;window.ns={// my code}&quot; I can refer to it via &quot;window.ns...&quot; in the console. So I&#39;m pretty sure sketches are loaded with page.\r\n\r\n  What am I missing?\r\n\r\nHere is Vaadin&#39;s view class I&#39;ve made (Java):\r\n\r\n    @Route(value = &quot;/MyView&quot;)\r\n    @JavaScript(&quot;p5.js&quot;)\r\n    @JavaScript(&quot;sketch.js&quot;)\r\n    public class MyView extends VerticalLayout {\r\n        public MyView() {\r\n        }\r\n    }\r\n\r\nHere is the Sketch&#39;s code (JavaScript):\r\n\r\n     function setup () {\r\n        console.log(`test message`);\r\n        createCanvas(400, 400);\r\n    }\r\n     function draw () {\r\n        background(220);\r\n    }\r\n\r\nThere is no any error message relevant to the issue. The console is silent. \r\n\r\nUpdate:\r\n  \r\n  Also it might be useful if someone experienced look at the high-levevel library code to figure out how it starts:\r\n[high-levevel library code][1]\r\n  \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/vdn5V.png","title":"Why p5js skethch integrated with Vaadin won&#39;t start?","body":"<p>I'm trying to integrate a p5js with the Vaadin. The goal is to plug p5js library and my p5js Sketch as well into the Vaadin's view component. So I would be able to launch and render my a p5js Sketch on client side and refer to some logic on the server side.</p>\n<p>As I am figuring out once p5js library loaded it would start automaticaly (The p5js library is a script file with a main function inside round brakets) and catch my &quot;setup()&quot; and &quot;draw()&quot; functions from sketch. And this is exactly how it works if I make an empty html page and plug scripts there with  tags.</p>\n<p>In Vaadin I used @JavaScript annotation for both scripts and start localhost but hothing happens. Sketch won't start. There is test &quot;console.log()&quot; inside &quot;setup()&quot; function it won't works off too.</p>\n<p>Also somehow I can't reach the sketch's functions from browser's console (Neither just &quot;setup()&quot;, nor &quot;window.setup()&quot;, nor &quot;p5.setup() fit) but with tiny code modification I can. If I place my sketch code inside &quot;window.ns={// my code}&quot; I can refer to it via &quot;window.ns...&quot; in the console. So I'm pretty sure sketches are loaded with page.</p>\n<p>What am I missing?</p>\n<p>Here is Vaadin's view class I've made (Java):</p>\n<pre><code>@Route(value = &quot;/MyView&quot;)\n@JavaScript(&quot;p5.js&quot;)\n@JavaScript(&quot;sketch.js&quot;)\npublic class MyView extends VerticalLayout {\n    public MyView() {\n    }\n}\n</code></pre>\n<p>Here is the Sketch's code (JavaScript):</p>\n<pre><code> function setup () {\n    console.log(`test message`);\n    createCanvas(400, 400);\n}\n function draw () {\n    background(220);\n}\n</code></pre>\n<p>There is no any error message relevant to the issue. The console is silent.</p>\n<p>Update:</p>\n<p>Also it might be useful if someone experienced look at the high-levevel library code to figure out how it starts:\n<a href=\"https://i.stack.imgur.com/vdn5V.png\" rel=\"nofollow noreferrer\">high-levevel library code</a></p>\n"},{"tags":["java","android","audio-recording","audiorecord","android-audiorecord"],"answers":[{"comments":[{"owner":{"account_id":28159606,"reputation":31,"user_id":21519777,"display_name":"AllahinAskeri"},"score":0,"creation_date":1697971604,"post_id":77208214,"comment_id":136343918,"body_markdown":"Thank you for your answer, I changed my code as `bufferSize = AudioRecord.getMinBufferSize(44100, AudioFormat.CHANNEL_IN_STEREO, AudioFormat.ENCODING_PCM_16BIT);` but it didn&#39;t solve the issue, today I realized problem can be fixed by just changing YouTube video quality. For example if audio is bad I just change the video quality and it fixes itself, but I couldn&#39;t find how changing the video quality fixes this problem.","body":"Thank you for your answer, I changed my code as <code>bufferSize = AudioRecord.getMinBufferSize(44100, AudioFormat.CHANNEL_IN_STEREO, AudioFormat.ENCODING_PCM_16BIT);</code> but it didn&#39;t solve the issue, today I realized problem can be fixed by just changing YouTube video quality. For example if audio is bad I just change the video quality and it fixes itself, but I couldn&#39;t find how changing the video quality fixes this problem."}],"tags":[],"owner":{"account_id":6955106,"reputation":31,"user_id":5424036,"display_name":"Karolis"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1696102988,"creation_date":1696102988,"answer_id":77208214,"question_id":77203409,"body_markdown":"I think it is related to the fact that you are using hard coded buffer size.\r\nDocumentation states that:\r\n\r\n&gt; Returns the minimum buffer size required for the successful creation of an AudioRecord object, in byte units. **Note that this size doesn&#39;t guarantee a smooth recording under load**, and higher values should be chosen according to the expected frequency at which the AudioRecord instance will be polled for new data. See AudioRecord(int, int, int, int, int) for more information on valid configuration values.\r\n\r\nRef: [getMinBufferSize][1]\r\n\r\n\r\n  [1]: https://developer.android.com/reference/android/media/AudioRecord#getMinBufferSize(int,%20int,%20int)","title":"Audio record glitchy audio","body":"<p>I think it is related to the fact that you are using hard coded buffer size.\nDocumentation states that:</p>\n<blockquote>\n<p>Returns the minimum buffer size required for the successful creation of an AudioRecord object, in byte units. <strong>Note that this size doesn't guarantee a smooth recording under load</strong>, and higher values should be chosen according to the expected frequency at which the AudioRecord instance will be polled for new data. See AudioRecord(int, int, int, int, int) for more information on valid configuration values.</p>\n</blockquote>\n<p>Ref: <a href=\"https://developer.android.com/reference/android/media/AudioRecord#getMinBufferSize(int,%20int,%20int)\" rel=\"nofollow noreferrer\">getMinBufferSize</a></p>\n"},{"comments":[{"owner":{"account_id":28159606,"reputation":31,"user_id":21519777,"display_name":"AllahinAskeri"},"score":0,"creation_date":1700846404,"post_id":77439328,"comment_id":136706787,"body_markdown":"Hello, thank you for your answer. Do we need to repeat `buffer.order(ByteOrder.nativeOrder());`in while loop?","body":"Hello, thank you for your answer. Do we need to repeat <code>buffer.order(ByteOrder.nativeOrder());</code>in while loop?"},{"owner":{"account_id":5376192,"reputation":9447,"user_id":4283005,"display_name":"dev.bmax"},"score":1,"creation_date":1700940288,"post_id":77439328,"comment_id":136714498,"body_markdown":"If you create a new buffer in each loop iteration then yes. But it would be more efficient to create the buffer outside the loop and reuse it. Note that you will probably need to call buffer.clear() before re-filling it.","body":"If you create a new buffer in each loop iteration then yes. But it would be more efficient to create the buffer outside the loop and reuse it. Note that you will probably need to call buffer.clear() before re-filling it."}],"tags":[],"owner":{"account_id":5376192,"reputation":9447,"user_id":4283005,"display_name":"dev.bmax"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1699369626,"creation_date":1699369626,"answer_id":77439328,"question_id":77203409,"body_markdown":"If you look at the [documentation][1] of `ENCODING_PCM_16BIT` you will see:\r\n\r\n&gt; The audio sample is a 16 bit signed integer typically stored as a Java short in a short array, but when the short is stored in a ByteBuffer, it is native endian (as compared to the default Java big endian).\r\n\r\nSo it&#39;s important to use the native byte order when you create the buffer:\r\n\r\n    ByteBuffer buffer = ByteBuffer.allocateDirect(bufferSize);\r\n    buffer.order(ByteOrder.nativeOrder());\r\n\r\nWhen `AudioRecord` reads samples it tells you the number of bytes that were actually read.\r\n\r\n    int bytesRead = audioRecord.read(buffer, bufferSize);\r\n    if (bytesRead &lt; 0) {\r\n        // todo: handle the error\r\n    }\r\n\r\nYou should use this number instead of assuming that the buffer is always full.\r\n\r\n  [1]: https://developer.android.com/reference/android/media/AudioFormat#encoding\r\n\r\n","title":"Audio record glitchy audio","body":"<p>If you look at the <a href=\"https://developer.android.com/reference/android/media/AudioFormat#encoding\" rel=\"nofollow noreferrer\">documentation</a> of <code>ENCODING_PCM_16BIT</code> you will see:</p>\n<blockquote>\n<p>The audio sample is a 16 bit signed integer typically stored as a Java short in a short array, but when the short is stored in a ByteBuffer, it is native endian (as compared to the default Java big endian).</p>\n</blockquote>\n<p>So it's important to use the native byte order when you create the buffer:</p>\n<pre><code>ByteBuffer buffer = ByteBuffer.allocateDirect(bufferSize);\nbuffer.order(ByteOrder.nativeOrder());\n</code></pre>\n<p>When <code>AudioRecord</code> reads samples it tells you the number of bytes that were actually read.</p>\n<pre><code>int bytesRead = audioRecord.read(buffer, bufferSize);\nif (bytesRead &lt; 0) {\n    // todo: handle the error\n}\n</code></pre>\n<p>You should use this number instead of assuming that the buffer is always full.</p>\n"}],"owner":{"account_id":28159606,"reputation":31,"user_id":21519777,"display_name":"AllahinAskeri"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1699373107,"creation_date":1696004238,"question_id":77203409,"body_markdown":"I&#39;m using AudioRecord class to record internal audio. Sometimes this code works and records the audio perfectly but sometimes it is glitchy. I tried different record techniques but none of them worked exactly there is still sometimes glitch in background.\r\n\r\nLink of bad recorded audio: https://youtu.be/Ccundu91Kjs\r\n\r\n```\r\n                AudioPlaybackCaptureConfiguration configuration = new AudioPlaybackCaptureConfiguration.Builder(mediaProjection)\r\n                        .addMatchingUsage(AudioAttributes.USAGE_MEDIA)\r\n                        .build();\r\n\r\n                audioFormat = new AudioFormat.Builder()\r\n                        .setEncoding(AudioFormat.ENCODING_PCM_16BIT)\r\n                        .setSampleRate(44100)\r\n                        .setChannelMask(AudioFormat.CHANNEL_IN_STEREO)\r\n                        .build();\r\n\r\n                audioRecord = new AudioRecord.Builder()\r\n                        .setAudioFormat(audioFormat)\r\n                        .setAudioPlaybackCaptureConfig(konfigurasyon)\r\n                        .build();\r\n\r\n                audioRecord.startRecording();\r\n```\r\n\r\n\r\n```\r\n        new Thread(() -&gt; {\r\n            while(recordAudio) {\r\n\r\n                try {\r\n                    \r\n                    final ByteBuffer buffer = ByteBuffer.allocateDirect(AudioRecord.getMinBufferSize(44100, AudioFormat.CHANNEL_IN_STEREO, AudioFormat.ENCODING_PCM_16BIT));\r\n\r\n                    try {\r\n                       os = new FileOutputStream(context.getExternalFilesDir(Environment.DIRECTORY_MUSIC) + &quot;/tempAudio.pcm&quot;);\r\n                    } catch (Exception e) {\r\n                       e.printStackTrace();\r\n                    }\r\n\r\n                                      \r\n                    Log.e(&quot;writeAudioDataToFile&quot;, &quot;Recording.&quot;);\r\n\r\n                    Log.e(&quot;writeAudioDataToFile&quot;, String.valueOf(AudioRecord.getMinBufferSize(44100, AudioFormat.CHANNEL_IN_STEREO, AudioFormat.ENCODING_PCM_16BIT)));\r\n\r\n                    audioRecord.read(buffer.array(), 0, AudioRecord.getMinBufferSize(44100, AudioFormat.CHANNEL_IN_STEREO, AudioFormat.ENCODING_PCM_16BIT));                    \r\n                  \r\n                    os.write(buffer.array(), 0, AudioRecord.getMinBufferSize(44100, AudioFormat.CHANNEL_IN_STEREO, AudioFormat.ENCODING_PCM_16BIT));\r\n                    buffer.clear();\r\n                } catch (Exception e) {\r\n\r\n                    recordAudio = false;\r\n                    audioRecord.stop();\r\n                    audioRecord.release();\r\n                    audioRecord = null;\r\n                    Data = null;\r\n\r\n                    try {\r\n                        os.close();\r\n                    } catch (Exception e1) {\r\n                        e.printStackTrace();\r\n                    }\r\n\r\n                    os = null;\r\n\r\n                    new File(context.getExternalFilesDir(Environment.DIRECTORY_MUSIC) + &quot;/tempAudioInProcess.pcm&quot;).delete();\r\n                    new File(context.getExternalFilesDir(Environment.DIRECTORY_MUSIC) + &quot;/tempAudio.pcm&quot;).delete();\r\n                    new File(context.getExternalFilesDir(Environment.DIRECTORY_MUSIC) + &quot;/tempAudio.mp3&quot;).delete();\r\n\r\n                    showNotification(context);\r\n\r\n                    e.printStackTrace();\r\n                }\r\n```\r\n\r\n\r\nIt should record audio without glitch in background.","title":"Audio record glitchy audio","body":"<p>I'm using AudioRecord class to record internal audio. Sometimes this code works and records the audio perfectly but sometimes it is glitchy. I tried different record techniques but none of them worked exactly there is still sometimes glitch in background.</p>\n<p>Link of bad recorded audio: <a href=\"https://youtu.be/Ccundu91Kjs\" rel=\"nofollow noreferrer\">https://youtu.be/Ccundu91Kjs</a></p>\n<pre><code>                AudioPlaybackCaptureConfiguration configuration = new AudioPlaybackCaptureConfiguration.Builder(mediaProjection)\n                        .addMatchingUsage(AudioAttributes.USAGE_MEDIA)\n                        .build();\n\n                audioFormat = new AudioFormat.Builder()\n                        .setEncoding(AudioFormat.ENCODING_PCM_16BIT)\n                        .setSampleRate(44100)\n                        .setChannelMask(AudioFormat.CHANNEL_IN_STEREO)\n                        .build();\n\n                audioRecord = new AudioRecord.Builder()\n                        .setAudioFormat(audioFormat)\n                        .setAudioPlaybackCaptureConfig(konfigurasyon)\n                        .build();\n\n                audioRecord.startRecording();\n</code></pre>\n<pre><code>        new Thread(() -&gt; {\n            while(recordAudio) {\n\n                try {\n                    \n                    final ByteBuffer buffer = ByteBuffer.allocateDirect(AudioRecord.getMinBufferSize(44100, AudioFormat.CHANNEL_IN_STEREO, AudioFormat.ENCODING_PCM_16BIT));\n\n                    try {\n                       os = new FileOutputStream(context.getExternalFilesDir(Environment.DIRECTORY_MUSIC) + &quot;/tempAudio.pcm&quot;);\n                    } catch (Exception e) {\n                       e.printStackTrace();\n                    }\n\n                                      \n                    Log.e(&quot;writeAudioDataToFile&quot;, &quot;Recording.&quot;);\n\n                    Log.e(&quot;writeAudioDataToFile&quot;, String.valueOf(AudioRecord.getMinBufferSize(44100, AudioFormat.CHANNEL_IN_STEREO, AudioFormat.ENCODING_PCM_16BIT)));\n\n                    audioRecord.read(buffer.array(), 0, AudioRecord.getMinBufferSize(44100, AudioFormat.CHANNEL_IN_STEREO, AudioFormat.ENCODING_PCM_16BIT));                    \n                  \n                    os.write(buffer.array(), 0, AudioRecord.getMinBufferSize(44100, AudioFormat.CHANNEL_IN_STEREO, AudioFormat.ENCODING_PCM_16BIT));\n                    buffer.clear();\n                } catch (Exception e) {\n\n                    recordAudio = false;\n                    audioRecord.stop();\n                    audioRecord.release();\n                    audioRecord = null;\n                    Data = null;\n\n                    try {\n                        os.close();\n                    } catch (Exception e1) {\n                        e.printStackTrace();\n                    }\n\n                    os = null;\n\n                    new File(context.getExternalFilesDir(Environment.DIRECTORY_MUSIC) + &quot;/tempAudioInProcess.pcm&quot;).delete();\n                    new File(context.getExternalFilesDir(Environment.DIRECTORY_MUSIC) + &quot;/tempAudio.pcm&quot;).delete();\n                    new File(context.getExternalFilesDir(Environment.DIRECTORY_MUSIC) + &quot;/tempAudio.mp3&quot;).delete();\n\n                    showNotification(context);\n\n                    e.printStackTrace();\n                }\n</code></pre>\n<p>It should record audio without glitch in background.</p>\n"},{"tags":["java","amazon-s3"],"comments":[{"owner":{"account_id":5777595,"reputation":2976,"user_id":5189673,"display_name":"Leon"},"score":2,"creation_date":1491163423,"post_id":43172909,"comment_id":73419933,"body_markdown":"The key should be `files/image.jpeg`. To check the key click on the file and look at the link. It should be `https://s3-[region]..amazonaws.com/[bucket name]/[file key]`.","body":"The key should be <code>files&#47;image.jpeg</code>. To check the key click on the file and look at the link. It should be <code>https:&#47;&#47;s3-[region]..amazonaws.com&#47;[bucket name]&#47;[file key]</code>."},{"owner":{"account_id":4277860,"reputation":1575,"user_id":3498071,"accept_rate":36,"display_name":"Ali-Alrabi"},"score":1,"creation_date":1491164719,"post_id":43172909,"comment_id":73420320,"body_markdown":"doesn&#39;t  not work and get \nCaught an AmazonClientException, which means the client encountered an\ninternal error while trying to communicate with S3, such as not being able\nto access the network.\nError Message: Unable to calculate a request signature: Unable to   \ncalculate a request signature: Empty key","body":"doesn&#39;t  not work and get  Caught an AmazonClientException, which means the client encountered an internal error while trying to communicate with S3, such as not being able to access the network. Error Message: Unable to calculate a request signature: Unable to    calculate a request signature: Empty key"},{"owner":{"account_id":5777595,"reputation":2976,"user_id":5189673,"display_name":"Leon"},"score":1,"creation_date":1491165169,"post_id":43172909,"comment_id":73420474,"body_markdown":"Apparently, you are passing an empty key to the function to retrieve the object. Can you please add the code you use to get the object to the question?","body":"Apparently, you are passing an empty key to the function to retrieve the object. Can you please add the code you use to get the object to the question?"},{"owner":{"account_id":5777595,"reputation":2976,"user_id":5189673,"display_name":"Leon"},"score":2,"creation_date":1491166205,"post_id":43172909,"comment_id":73420776,"body_markdown":"The code seems correct to me. Are your AWS credentials in place for the credentials provider (the file `~/.aws/credentials` should contain your credentials)? Also, there is a shorthand for [`getObject`](http://docs.aws.amazon.com/AWSJavaSDK/latest/javadoc/com/amazonaws/services/s3/AmazonS3Client.html#getObject-java.lang.String-java.lang.String-) if you only want to provide the object key and bucket name.","body":"The code seems correct to me. Are your AWS credentials in place for the credentials provider (the file <code>~&#47;.aws&#47;credentials</code> should contain your credentials)? Also, there is a shorthand for <a href=\"http://docs.aws.amazon.com/AWSJavaSDK/latest/javadoc/com/amazonaws/services/s3/AmazonS3Client.html#getObject-java.lang.String-java.lang.String-\" rel=\"nofollow noreferrer\"><code>getObject</code></a> if you only want to provide the object key and bucket name."},{"owner":{"account_id":4277860,"reputation":1575,"user_id":3498071,"accept_rate":36,"display_name":"Ali-Alrabi"},"score":1,"creation_date":1491205445,"post_id":43172909,"comment_id":73431197,"body_markdown":"@Leon  Thanks for your help,it was credential issue.","body":"@Leon  Thanks for your help,it was credential issue."}],"answers":[{"tags":[],"owner":{"account_id":53076,"reputation":50835,"user_id":158668,"accept_rate":100,"display_name":"Dennis Traub"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1686219955,"creation_date":1686219955,"answer_id":76430910,"question_id":43172909,"body_markdown":"The short answer: In your specific case, the object key is `files/image.jpg`\r\n\r\nIn technical terms, Amazon S3 is a simple **key-based object store**. When you store data, you assign a unique object key that can later be used to retrieve the data. **The S3 data model is a flat structure**: You create a bucket, and the bucket stores objects. There is no hierarchy of &quot;subbuckets&quot; or subfolders. However, you can infer logical hierarchy using key name prefixes. \r\n\r\nIn your case, the prefix is `files/` and the object name is `image.jpg`. The key is the prefix concatenated with the object name.\r\n\r\nFor example, a traditional file-based structure with directories that looks like this:\r\n\r\n    - files\r\n        - index.html\r\n        - images\r\n            - logo.png\r\n            - photo.jpg\r\n\r\nWould translate to the following flat structure on S3, which each of the following lines representing the **key** of the respective objects:\r\n\r\n    files/index.html\r\n    files/images/logo.png\r\n    files/images/photo.jpg\r\n\r\nYou can learn more about the creation and usage of Amazon S3 object keys here: https://docs.aws.amazon.com/AmazonS3/latest/userguide/object-keys.html","title":"How to get object key for amazon s3 service","body":"<p>The short answer: In your specific case, the object key is <code>files/image.jpg</code></p>\n<p>In technical terms, Amazon S3 is a simple <strong>key-based object store</strong>. When you store data, you assign a unique object key that can later be used to retrieve the data. <strong>The S3 data model is a flat structure</strong>: You create a bucket, and the bucket stores objects. There is no hierarchy of &quot;subbuckets&quot; or subfolders. However, you can infer logical hierarchy using key name prefixes.</p>\n<p>In your case, the prefix is <code>files/</code> and the object name is <code>image.jpg</code>. The key is the prefix concatenated with the object name.</p>\n<p>For example, a traditional file-based structure with directories that looks like this:</p>\n<pre><code>- files\n    - index.html\n    - images\n        - logo.png\n        - photo.jpg\n</code></pre>\n<p>Would translate to the following flat structure on S3, which each of the following lines representing the <strong>key</strong> of the respective objects:</p>\n<pre><code>files/index.html\nfiles/images/logo.png\nfiles/images/photo.jpg\n</code></pre>\n<p>You can learn more about the creation and usage of Amazon S3 object keys here: <a href=\"https://docs.aws.amazon.com/AmazonS3/latest/userguide/object-keys.html\" rel=\"nofollow noreferrer\">https://docs.aws.amazon.com/AmazonS3/latest/userguide/object-keys.html</a></p>\n"}],"owner":{"account_id":4277860,"reputation":1575,"user_id":3498071,"accept_rate":36,"display_name":"Ali-Alrabi"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":21266,"favorite_count":0,"down_vote_count":1,"up_vote_count":7,"answer_count":1,"score":6,"last_activity_date":1699373060,"creation_date":1491163060,"question_id":43172909,"body_markdown":"I&#39;m trying to get a file stored in Amazon S3 with Java (http://docs.aws.amazon.com/AmazonS3/latest/dev/RetrievingObjectUsingJava.html), but I have problem with the object key as I don&#39;t know what it is.\r\n\r\nThe bucket name is `testbucket` and I have a folder with the name `files` in this bucket. If I have a file with the name `image.jpeg`; what is the object key? \r\n\r\n    private static String bucketName = &quot;testbucket&quot;; \r\n\tprivate static String key=&quot;files/image.jpeg&quot;;      \r\n\t\r\n\t\r\n\tpublic static void main(String[] args) throws IOException {\r\n        AmazonS3 s3Client = new AmazonS3Client(new ProfileCredentialsProvider());\r\n        S3Object s3object = s3Client.getObject(new GetObjectRequest(\r\n            \t\tbucketName, key));\r\n         } \r\n\r\nI get this output:\r\n\r\n\r\n      21:43:54.054 [main] DEBUG com.amazonaws.request - Sending Request: GET https://adap-demo.s3.amazonaws.com /report_templates/Testreport_1.jrxml\r\n    Headers: (User-Agent: aws-sdk-java/1.10.30 Linux/4.4.0-70-generic\r\n    OpenJDK_64-Bit_Server_VM/25.121-b13/1.8.0_121, Content-Type:\r\n    application/x-www-form-urlencoded; charset=utf-8, ) \r\n    21:43:54.164 [main] DEBUG c.a.services.s3.internal.S3Signer - Calculated\r\n    string to sign:\r\n    &quot;GET\r\n    application/x-www-form-urlencoded; charset=utf-8\r\n    Sun, 02 Apr 2017 19:43:54 GMT\r\n    /adap-demo/report_templates/Testreport_1.jrxml&quot;\r\n    Caught an AmazonClientException, which means the client encountered an\r\n    internal error while trying to communicate with S3, such as not being able\r\n    to access the network.\r\n    Error Message: Unable to calculate a request signature: Unable to   \r\n    calculate a request signature: Empty key \r\n","title":"How to get object key for amazon s3 service","body":"<p>I'm trying to get a file stored in Amazon S3 with Java (<a href=\"http://docs.aws.amazon.com/AmazonS3/latest/dev/RetrievingObjectUsingJava.html\" rel=\"noreferrer\">http://docs.aws.amazon.com/AmazonS3/latest/dev/RetrievingObjectUsingJava.html</a>), but I have problem with the object key as I don't know what it is.</p>\n\n<p>The bucket name is <code>testbucket</code> and I have a folder with the name <code>files</code> in this bucket. If I have a file with the name <code>image.jpeg</code>; what is the object key? </p>\n\n<pre><code>private static String bucketName = \"testbucket\"; \nprivate static String key=\"files/image.jpeg\";      \n\n\npublic static void main(String[] args) throws IOException {\n    AmazonS3 s3Client = new AmazonS3Client(new ProfileCredentialsProvider());\n    S3Object s3object = s3Client.getObject(new GetObjectRequest(\n                bucketName, key));\n     } \n</code></pre>\n\n<p>I get this output:</p>\n\n<pre><code>  21:43:54.054 [main] DEBUG com.amazonaws.request - Sending Request: GET https://adap-demo.s3.amazonaws.com /report_templates/Testreport_1.jrxml\nHeaders: (User-Agent: aws-sdk-java/1.10.30 Linux/4.4.0-70-generic\nOpenJDK_64-Bit_Server_VM/25.121-b13/1.8.0_121, Content-Type:\napplication/x-www-form-urlencoded; charset=utf-8, ) \n21:43:54.164 [main] DEBUG c.a.services.s3.internal.S3Signer - Calculated\nstring to sign:\n\"GET\napplication/x-www-form-urlencoded; charset=utf-8\nSun, 02 Apr 2017 19:43:54 GMT\n/adap-demo/report_templates/Testreport_1.jrxml\"\nCaught an AmazonClientException, which means the client encountered an\ninternal error while trying to communicate with S3, such as not being able\nto access the network.\nError Message: Unable to calculate a request signature: Unable to   \ncalculate a request signature: Empty key \n</code></pre>\n"},{"tags":["java","jvm","tools.jar"],"comments":[{"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1699373389,"post_id":77439746,"comment_id":136522198,"body_markdown":"Does this answer your question? [sun.tools.attach.WindowsAttachProvider could not be instantiated](https://stackoverflow.com/questions/57006881/sun-tools-attach-windowsattachprovider-could-not-be-instantiated)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/57006881/sun-tools-attach-windowsattachprovider-could-not-be-instantiated\">sun.tools.attach.WindowsAttachProvider could not be instantiated</a>"},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1699373402,"post_id":77439746,"comment_id":136522202,"body_markdown":"You should not mess around with the `java.library.path` property. Neither should you add the `tools.jar` of one Java installation to another. JDK&#160;17 ships with its own implementation of the APIs contained in tools.jar. Does you application even use any of them? And whatever “vm parameter” you added, it’s likely to be unnecessary as well.","body":"You should not mess around with the <code>java.library.path</code> property. Neither should you add the <code>tools.jar</code> of one Java installation to another. JDK 17 ships with its own implementation of the APIs contained in tools.jar. Does you application even use any of them? And whatever “vm parameter” you added, it’s likely to be unnecessary as well."},{"owner":{"account_id":18006482,"reputation":5,"user_id":13841743,"display_name":"vashdivan"},"score":0,"creation_date":1699373636,"post_id":77439746,"comment_id":136522240,"body_markdown":"@aled yes, i mentioned this above. I tried, it didn&#39;t help. And also there was another problem - could not be instantiated (in my case - not found)","body":"@aled yes, i mentioned this above. I tried, it didn&#39;t help. And also there was another problem - could not be instantiated (in my case - not found)"},{"owner":{"account_id":18006482,"reputation":5,"user_id":13841743,"display_name":"vashdivan"},"score":0,"creation_date":1699373826,"post_id":77439746,"comment_id":136522269,"body_markdown":"@Holger i know, that the best solution is to compiler with java17 either. But i required to compile with java8. Speaking about vm parameter - i meant java.vm.version, but it&#39;s not so important in my question i think","body":"@Holger i know, that the best solution is to compiler with java17 either. But i required to compile with java8. Speaking about vm parameter - i meant java.vm.version, but it&#39;s not so important in my question i think"},{"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1699374331,"post_id":77439746,"comment_id":136522368,"body_markdown":"Please provide more details on the code you are trying to build and it needs un.tools.attach.LinuxAttachProvider.","body":"Please provide more details on the code you are trying to build and it needs un.tools.attach.LinuxAttachProvider."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1699374963,"post_id":77439746,"comment_id":136522480,"body_markdown":"It doesn’t matter which version you use for compiling. When you *run* it on JDK&#160;17, you should not modify the `java.library.path` and not add a `tools.jar` from another JDK to it. Neither is necessary.","body":"It doesn’t matter which version you use for compiling. When you <i>run</i> it on JDK 17, you should not modify the <code>java.library.path</code> and not add a <code>tools.jar</code> from another JDK to it. Neither is necessary."},{"owner":{"account_id":18006482,"reputation":5,"user_id":13841743,"display_name":"vashdivan"},"score":0,"creation_date":1699375411,"post_id":77439746,"comment_id":136522574,"body_markdown":"@aled it seems that ehcache uses it for reflection","body":"@aled it seems that ehcache uses it for reflection"},{"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1699378835,"post_id":77439746,"comment_id":136523231,"body_markdown":"That is information that should be in the question. It seems that a [minimal reproducible example](http://stackoverflow.com/help/minimal-reproducible-example) is missing.","body":"That is information that should be in the question. It seems that a <a href=\"http://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> is missing."}],"owner":{"account_id":18006482,"reputation":5,"user_id":13841743,"display_name":"vashdivan"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1699373057,"creation_date":1699373057,"question_id":77439746,"body_markdown":"I am trying to compile an app with java 8 and run it with java 17.\r\n\r\nI have both in my machine installed - java 8 and java 17. \r\nJava 8 set as $JAVA_HOME and java 17 has its own variable $JDK170_HOME.\r\n\r\nI compiled application with java 8, added vm parameter to run it with java 17. \r\nAlso i added \r\n\r\n&gt; -Djava.library.path=&quot;%JAVA_HOME%\\lib&quot;\r\n\r\n to add tools.jar from jdk8 to runtime jdk17 to my path.\r\n\r\nbut in stdOut.log I see \r\n\r\n     java.util.ServiceConfigurationError:\r\n     com.sun.tools.attach.spi.AttachProvider: Provider\r\n     sun.tools.attach.LinuxAttachProvider not found\r\n\r\nPlease tell me what is wrong here?","title":"Provider sun.tools.attach.LinuxAttachProvider not found","body":"<p>I am trying to compile an app with java 8 and run it with java 17.</p>\n<p>I have both in my machine installed - java 8 and java 17.\nJava 8 set as $JAVA_HOME and java 17 has its own variable $JDK170_HOME.</p>\n<p>I compiled application with java 8, added vm parameter to run it with java 17.\nAlso i added</p>\n<blockquote>\n<p>-Djava.library.path=&quot;%JAVA_HOME%\\lib&quot;</p>\n</blockquote>\n<p>to add tools.jar from jdk8 to runtime jdk17 to my path.</p>\n<p>but in stdOut.log I see</p>\n<pre><code> java.util.ServiceConfigurationError:\n com.sun.tools.attach.spi.AttachProvider: Provider\n sun.tools.attach.LinuxAttachProvider not found\n</code></pre>\n<p>Please tell me what is wrong here?</p>\n"},{"tags":["java","docker","package","alpine-linux","libcrypto"],"answers":[{"tags":[],"owner":{"account_id":29833236,"reputation":1,"user_id":22863286,"display_name":"containercrusader"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699372988,"creation_date":1699372847,"answer_id":77439719,"question_id":77439446,"body_markdown":"I run the following minimal docker container you mentioned(`alpine:3.18.4`) and symlink from `/usr/lib/jvm/java-17-openjdk/lib/security/cacerts -&gt; /etc/ssl/certs/java/cacerts` was successfully created during installation of the packages.\r\nI suspect the issue somewhere else, can you provide a minimal `Dockerfile` which still produces the `java.security.InvalidAlgorithmParameterException` when executing ?\r\nEven when installing the latest openjdk17-jre (`17.0.9_p8-r0`) the symlink is still present.\r\n\r\n```bash\r\n$ docker run -it --rm alpine:3.18.4 sh\r\n# apk upgrade --no-cache &amp;&amp; apk add --no-cache openjdk17-jre=&quot;17.0.9_p8-r0&quot; \r\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.18/main/x86_64/APKINDEX.tar.gz\r\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.18/community/x86_64/APKINDEX.tar.gz\r\n(1/7) Upgrading musl (1.2.4-r1 -&gt; 1.2.4-r2)\r\n(2/7) Upgrading busybox (1.36.1-r2 -&gt; 1.36.1-r5)\r\nExecuting busybox-1.36.1-r5.post-upgrade\r\n(3/7) Upgrading busybox-binsh (1.36.1-r2 -&gt; 1.36.1-r5)\r\n(4/7) Upgrading libcrypto3 (3.1.3-r0 -&gt; 3.1.4-r0)\r\n(5/7) Upgrading libssl3 (3.1.3-r0 -&gt; 3.1.4-r0)\r\n(6/7) Upgrading ssl_client (1.36.1-r2 -&gt; 1.36.1-r5)\r\n(7/7) Upgrading musl-utils (1.2.4-r1 -&gt; 1.2.4-r2)\r\nExecuting busybox-1.36.1-r5.trigger\r\nOK: 7 MiB in 15 packages\r\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.18/main/x86_64/APKINDEX.tar.gz\r\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.18/community/x86_64/APKINDEX.tar.gz\r\n(1/27) Installing java-common (0.5-r0)\r\n(2/27) Installing libffi (3.4.4-r2)\r\n(3/27) Installing p11-kit (0.24.1-r2)\r\n(4/27) Installing libtasn1 (4.19.0-r1)\r\n(5/27) Installing p11-kit-trust (0.24.1-r2)\r\n(6/27) Installing ca-certificates (20230506-r0)\r\n(7/27) Installing java-cacerts (1.0-r1)\r\n(8/27) Installing openjdk17-jre-headless (17.0.9_p8-r0)\r\n(9/27) Installing libxau (1.0.11-r2)\r\n(10/27) Installing libmd (1.0.4-r2)\r\n(11/27) Installing libbsd (0.11.7-r1)\r\n(12/27) Installing libxdmcp (1.1.4-r2)\r\n(13/27) Installing libxcb (1.15-r1)\r\n(14/27) Installing libx11 (1.8.7-r0)\r\n(15/27) Installing libxext (1.3.5-r2)\r\n(16/27) Installing libxi (1.8.1-r0)\r\n(17/27) Installing libxrender (0.9.11-r3)\r\n(18/27) Installing libxtst (1.2.4-r2)\r\n(19/27) Installing alsa-lib (1.2.9-r1)\r\n(20/27) Installing brotli-libs (1.0.9-r14)\r\n(21/27) Installing libbz2 (1.0.8-r5)\r\n(22/27) Installing libpng (1.6.39-r3)\r\n(23/27) Installing freetype (2.13.0-r5)\r\n(24/27) Installing giflib (5.2.1-r4)\r\n(25/27) Installing libjpeg-turbo (2.1.5.1-r3)\r\n(26/27) Installing lcms2 (2.15-r2)\r\n(27/27) Installing openjdk17-jre (17.0.9_p8-r0)\r\nExecuting busybox-1.36.1-r5.trigger\r\nExecuting java-common-0.5-r0.trigger\r\nExecuting ca-certificates-20230506-r0.trigger\r\nOK: 199 MiB in 42 packages\r\n/ # ls -lah /usr/lib/jvm/java-17-openjdk/lib/security/cacerts\r\nlrwxrwxrwx    1 root     root          27 Nov  7 15:56 /usr/lib/jvm/java-17-openjdk/lib/security/cacerts -&gt; /etc/ssl/certs/java/cacerts\r\n```\r\n","title":"Alpine Package libcrypto3 (3.1.4-r0) crash java-cacerts /etc/ssl/certs/java/cacerts","body":"<p>I run the following minimal docker container you mentioned(<code>alpine:3.18.4</code>) and symlink from <code>/usr/lib/jvm/java-17-openjdk/lib/security/cacerts -&gt; /etc/ssl/certs/java/cacerts</code> was successfully created during installation of the packages.\nI suspect the issue somewhere else, can you provide a minimal <code>Dockerfile</code> which still produces the <code>java.security.InvalidAlgorithmParameterException</code> when executing ?\nEven when installing the latest openjdk17-jre (<code>17.0.9_p8-r0</code>) the symlink is still present.</p>\n<pre class=\"lang-bash prettyprint-override\"><code>$ docker run -it --rm alpine:3.18.4 sh\n# apk upgrade --no-cache &amp;&amp; apk add --no-cache openjdk17-jre=&quot;17.0.9_p8-r0&quot; \nfetch https://dl-cdn.alpinelinux.org/alpine/v3.18/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.18/community/x86_64/APKINDEX.tar.gz\n(1/7) Upgrading musl (1.2.4-r1 -&gt; 1.2.4-r2)\n(2/7) Upgrading busybox (1.36.1-r2 -&gt; 1.36.1-r5)\nExecuting busybox-1.36.1-r5.post-upgrade\n(3/7) Upgrading busybox-binsh (1.36.1-r2 -&gt; 1.36.1-r5)\n(4/7) Upgrading libcrypto3 (3.1.3-r0 -&gt; 3.1.4-r0)\n(5/7) Upgrading libssl3 (3.1.3-r0 -&gt; 3.1.4-r0)\n(6/7) Upgrading ssl_client (1.36.1-r2 -&gt; 1.36.1-r5)\n(7/7) Upgrading musl-utils (1.2.4-r1 -&gt; 1.2.4-r2)\nExecuting busybox-1.36.1-r5.trigger\nOK: 7 MiB in 15 packages\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.18/main/x86_64/APKINDEX.tar.gz\nfetch https://dl-cdn.alpinelinux.org/alpine/v3.18/community/x86_64/APKINDEX.tar.gz\n(1/27) Installing java-common (0.5-r0)\n(2/27) Installing libffi (3.4.4-r2)\n(3/27) Installing p11-kit (0.24.1-r2)\n(4/27) Installing libtasn1 (4.19.0-r1)\n(5/27) Installing p11-kit-trust (0.24.1-r2)\n(6/27) Installing ca-certificates (20230506-r0)\n(7/27) Installing java-cacerts (1.0-r1)\n(8/27) Installing openjdk17-jre-headless (17.0.9_p8-r0)\n(9/27) Installing libxau (1.0.11-r2)\n(10/27) Installing libmd (1.0.4-r2)\n(11/27) Installing libbsd (0.11.7-r1)\n(12/27) Installing libxdmcp (1.1.4-r2)\n(13/27) Installing libxcb (1.15-r1)\n(14/27) Installing libx11 (1.8.7-r0)\n(15/27) Installing libxext (1.3.5-r2)\n(16/27) Installing libxi (1.8.1-r0)\n(17/27) Installing libxrender (0.9.11-r3)\n(18/27) Installing libxtst (1.2.4-r2)\n(19/27) Installing alsa-lib (1.2.9-r1)\n(20/27) Installing brotli-libs (1.0.9-r14)\n(21/27) Installing libbz2 (1.0.8-r5)\n(22/27) Installing libpng (1.6.39-r3)\n(23/27) Installing freetype (2.13.0-r5)\n(24/27) Installing giflib (5.2.1-r4)\n(25/27) Installing libjpeg-turbo (2.1.5.1-r3)\n(26/27) Installing lcms2 (2.15-r2)\n(27/27) Installing openjdk17-jre (17.0.9_p8-r0)\nExecuting busybox-1.36.1-r5.trigger\nExecuting java-common-0.5-r0.trigger\nExecuting ca-certificates-20230506-r0.trigger\nOK: 199 MiB in 42 packages\n/ # ls -lah /usr/lib/jvm/java-17-openjdk/lib/security/cacerts\nlrwxrwxrwx    1 root     root          27 Nov  7 15:56 /usr/lib/jvm/java-17-openjdk/lib/security/cacerts -&gt; /etc/ssl/certs/java/cacerts\n</code></pre>\n"}],"owner":{"account_id":29847346,"reputation":21,"user_id":22874116,"display_name":"Evann"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":410,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1699372988,"creation_date":1699370534,"question_id":77439446,"body_markdown":"I tried to build a Java 17 image based on Alpine (3.18.4)\r\n\r\nI ran the following command:\r\n\r\n```\r\napk upgrade --no-cache &amp;&amp; apk add --no-cache openjdk17-jre=&quot;17.0.9_p8-r0&quot; \r\n```\r\n\r\nwhen i tried to execute my container, it raised the following error:\r\n\r\n```\r\njava.security.InvalidAlgorithmParameterException: the trustAnchors parameter must be non-empty\r\n```\r\n\r\nAfter some investigation, this problem raises if the **/usr/lib/jvm/java-17-openjdk/lib/security/cacerts -\\&gt; /etc/ssl/certs/java/cacerts** does not exist\r\n\r\nIt looks like openjdk17-jre depends on openjdk17-jre-headless -\\&gt; java-cacerts -\\&gt; ca-certificates -\\&gt; libcrypto3\r\n\r\nWith my libcrypto3 and libssl3 in version 3.1.3-r0, after installing the openjdk17-jre, the file /etc/ssl/certs/java/cacerts was generated\r\n\r\nsince i upgraded libcrypto3 and libssl3 to version 3.1.4-r0, the file was no more generated","title":"Alpine Package libcrypto3 (3.1.4-r0) crash java-cacerts /etc/ssl/certs/java/cacerts","body":"<p>I tried to build a Java 17 image based on Alpine (3.18.4)</p>\n<p>I ran the following command:</p>\n<pre><code>apk upgrade --no-cache &amp;&amp; apk add --no-cache openjdk17-jre=&quot;17.0.9_p8-r0&quot; \n</code></pre>\n<p>when i tried to execute my container, it raised the following error:</p>\n<pre><code>java.security.InvalidAlgorithmParameterException: the trustAnchors parameter must be non-empty\n</code></pre>\n<p>After some investigation, this problem raises if the <strong>/usr/lib/jvm/java-17-openjdk/lib/security/cacerts -&gt; /etc/ssl/certs/java/cacerts</strong> does not exist</p>\n<p>It looks like openjdk17-jre depends on openjdk17-jre-headless -&gt; java-cacerts -&gt; ca-certificates -&gt; libcrypto3</p>\n<p>With my libcrypto3 and libssl3 in version 3.1.3-r0, after installing the openjdk17-jre, the file /etc/ssl/certs/java/cacerts was generated</p>\n<p>since i upgraded libcrypto3 and libssl3 to version 3.1.4-r0, the file was no more generated</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1629049515,"post_id":68793978,"comment_id":121578480,"body_markdown":"Well, you&#39;re appending the same character each time through the loop.  Maybe add one line inside the loop that calls the random generator each time?","body":"Well, you&#39;re appending the same character each time through the loop.  Maybe add one line inside the loop that calls the random generator each time?"},{"owner":{"account_id":22354222,"reputation":1,"user_id":16571789,"display_name":"Muguwaranojar "},"score":0,"creation_date":1629049721,"post_id":68793978,"comment_id":121578544,"body_markdown":"oh, i thought initializing random int once meant it was always random. but yes this tip worked it out. thank you so much!","body":"oh, i thought initializing random int once meant it was always random. but yes this tip worked it out. thank you so much!"}],"answers":[{"comments":[{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1629049630,"post_id":68794006,"comment_id":121578513,"body_markdown":"Nope, still broken.","body":"Nope, still broken."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1629049636,"post_id":68794006,"comment_id":121578516,"body_markdown":"That won&#39;t make any difference to the main problem ;)","body":"That won&#39;t make any difference to the main problem ;)"},{"owner":{"account_id":21330249,"reputation":297,"user_id":15702124,"display_name":"LenglBoy"},"score":0,"creation_date":1629049652,"post_id":68794006,"comment_id":121578524,"body_markdown":"I forgot to set the while ontop of the method - adjusted","body":"I forgot to set the while ontop of the method - adjusted"},{"owner":{"account_id":22354222,"reputation":1,"user_id":16571789,"display_name":"Muguwaranojar "},"score":0,"creation_date":1629049773,"post_id":68794006,"comment_id":121578562,"body_markdown":"thank you! it worked once i placed them inside the loop. i thought random was always random and didnt need to be re-initialized between each iteration.","body":"thank you! it worked once i placed them inside the loop. i thought random was always random and didnt need to be re-initialized between each iteration."},{"owner":{"account_id":21330249,"reputation":297,"user_id":15702124,"display_name":"LenglBoy"},"score":0,"creation_date":1629049932,"post_id":68794006,"comment_id":121578602,"body_markdown":"@Muguwaranojar thats true for the main `Random` class instance which generates a random number/... but ofcause selecting values from it need to be done every time looped/from scratch.","body":"@Muguwaranojar thats true for the main <code>Random</code> class instance which generates a random number/... but ofcause selecting values from it need to be done every time looped/from scratch."}],"tags":[],"owner":{"account_id":21330249,"reputation":297,"user_id":15702124,"display_name":"LenglBoy"},"comment_count":5,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1629049764,"creation_date":1629049548,"answer_id":68794006,"question_id":68793978,"body_markdown":"You are setting `nextInt` and `nextChar` gloabally. This need to be moved to your generation method.\r\n\r\n    String generate (String string) {\r\n           StringBuilder sb = new StringBuilder();\r\n           while (sb.length() &lt; 10) {\r\n               int randomInt = rand.nextInt(all.length());\r\n               char randomchar = all.charAt(randomInt);\r\n               sb.append(randomchar);\r\n            }\r\n            return sb.toString();\r\n    }","title":"Java pword-generator does not update random inside loop","body":"<p>You are setting <code>nextInt</code> and <code>nextChar</code> gloabally. This need to be moved to your generation method.</p>\n<pre><code>String generate (String string) {\n       StringBuilder sb = new StringBuilder();\n       while (sb.length() &lt; 10) {\n           int randomInt = rand.nextInt(all.length());\n           char randomchar = all.charAt(randomInt);\n           sb.append(randomchar);\n        }\n        return sb.toString();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1629050467,"creation_date":1629050467,"answer_id":68794128,"question_id":68793978,"body_markdown":"Size your `StringBuilder` for efficiency (and big passwords)\r\n```\r\npublic String generatePassword(String candidateChars, int passwordLength) {\r\n\r\n    Random rand = new Random();\r\n    int max = candidateChars.length();\r\n\r\n    StringBuilder sb = new StringBuilder(passwordLength);\r\n\r\n    for (int i = 0; i &lt; passwordLength; i++) {\r\n        char randomchar = candidateChars.charAt(rand.nextInt(max));\r\n\r\n        sb.append(randomchar);\r\n    }\r\n    return sb.toString();\r\n}\r\n```","title":"Java pword-generator does not update random inside loop","body":"<p>Size your <code>StringBuilder</code> for efficiency (and big passwords)</p>\n<pre><code>public String generatePassword(String candidateChars, int passwordLength) {\n\n    Random rand = new Random();\n    int max = candidateChars.length();\n\n    StringBuilder sb = new StringBuilder(passwordLength);\n\n    for (int i = 0; i &lt; passwordLength; i++) {\n        char randomchar = candidateChars.charAt(rand.nextInt(max));\n\n        sb.append(randomchar);\n    }\n    return sb.toString();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2684795,"reputation":182470,"user_id":2319407,"display_name":"Dmitry Bychenko"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699372911,"creation_date":1629052993,"answer_id":68794427,"question_id":68793978,"body_markdown":"You should (re-)generate `randomInt` as well as `randomchar` *within* loop:\r\n\r\n    while (sb.length() &lt; 10) {\r\n      // we want fresh value on each iteration  \r\n      int randomInt = rand.nextInt(all.length());\r\n      char randomchar = all.charAt(randomInt);\r\n\r\n      sb.append(randomchar);\r\n    }","title":"Java pword-generator does not update random inside loop","body":"<p>You should (re-)generate <code>randomInt</code> as well as <code>randomchar</code> <em>within</em> loop:</p>\n<pre><code>while (sb.length() &lt; 10) {\n  // we want fresh value on each iteration  \n  int randomInt = rand.nextInt(all.length());\n  char randomchar = all.charAt(randomInt);\n\n  sb.append(randomchar);\n}\n</code></pre>\n"}],"owner":{"account_id":22354222,"reputation":1,"user_id":16571789,"display_name":"Muguwaranojar "},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":52,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":3,"score":-1,"last_activity_date":1699372911,"creation_date":1629049335,"question_id":68793978,"body_markdown":"Im working on an assignment for school where i am going to finish a short password generator. \r\nwhen trying to loop adding characters out of the string, it ends up adding the same character, but if i would just print out characters it gives different ones. could someone explain why this is? i would really like to learn.\r\n\r\n\r\n\r\n    private void program() {\r\n        \r\n        System.out.println(generate(all));\r\n\r\n        }\r\n\r\n    Random rand = new Random();\r\n\r\n    String all = &quot;abcdefghijklmnopqrstuwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789&quot;;\r\n\r\n        int randomInt = rand.nextInt(all.length());\r\n        char randomchar = all.charAt(randomInt);\r\n        StringBuilder sb = new StringBuilder();\r\n\r\n        String generate (String string) {\r\n\r\n            while (sb.length() &lt; 10) {\r\n                sb.append(randomchar);\r\n            }\r\n            return sb.toString();\r\n    }\r\n}","title":"Java pword-generator does not update random inside loop","body":"<p>Im working on an assignment for school where i am going to finish a short password generator.\nwhen trying to loop adding characters out of the string, it ends up adding the same character, but if i would just print out characters it gives different ones. could someone explain why this is? i would really like to learn.</p>\n<pre><code>private void program() {\n    \n    System.out.println(generate(all));\n\n    }\n\nRandom rand = new Random();\n\nString all = &quot;abcdefghijklmnopqrstuwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789&quot;;\n\n    int randomInt = rand.nextInt(all.length());\n    char randomchar = all.charAt(randomInt);\n    StringBuilder sb = new StringBuilder();\n\n    String generate (String string) {\n\n        while (sb.length() &lt; 10) {\n            sb.append(randomchar);\n        }\n        return sb.toString();\n}\n</code></pre>\n<p>}</p>\n"},{"tags":["java","hibernate","jpa","one-to-many"],"comments":[{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1699198232,"post_id":77422540,"comment_id":136498604,"body_markdown":"I don’t believe you can have reference mappings inside primary keys (in embeddedid). Your mapsId in keyVersion should refer to a basic mapping for KeyId. I’m not sure why you bother with an embededId for keyId when it is just a  wrapper for a lnog value","body":"I don’t believe you can have reference mappings inside primary keys (in embeddedid). Your mapsId in keyVersion should refer to a basic mapping for KeyId. I’m not sure why you bother with an embededId for keyId when it is just a  wrapper for a lnog value"},{"owner":{"account_id":7857669,"reputation":1,"user_id":5938954,"display_name":"Archana"},"score":0,"creation_date":1699204277,"post_id":77422540,"comment_id":136499328,"body_markdown":"Yes, I can have basic mapping for keyId. But even with that how can I establish relationship between KeyVersion and keyVersionBlock?","body":"Yes, I can have basic mapping for keyId. But even with that how can I establish relationship between KeyVersion and keyVersionBlock?"}],"answers":[{"tags":[],"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699281152,"creation_date":1699281152,"answer_id":77431912,"question_id":77422540,"body_markdown":"\r\nJPA does not allow relationships in the primary key itself. JPA 3.0 Section 11.1.17: \r\n\r\n&gt; Relationship mappings defined within an embedded id class are not\r\n&gt; supported.\r\n\r\nDerived ID does allow you to reference the key of a referenced class within the ID, so what you need instead is:\r\n\r\n\r\n    public class Key implements Serializable {\r\n      @Id\r\n      @Column(name = &quot;KEY_ID&quot;, nullable = false)\r\n      public Long keyId;\r\n    \r\n    \r\n      @OneToMany(mappedBy = &quot;Key&quot;, fetch = FetchType.LAZY, cascade = CascadeType.ALL, orphanRemoval = true)\r\n      private List&lt;KeyVersion&gt; keyVersions;\r\n    .....\r\n    }\r\n    \r\n    public class KeyVersion implements Serializable {\r\n    \r\n      @EmbeddedId\r\n      private KeyVersionId versionId;\r\n    \r\n      @MapsId(&quot;key&quot;)\r\n      @JoinColumns({ @JoinColumn(name = &quot;KEY_ID&quot;, referencedColumnName = &quot;KEY_ID&quot;) })\r\n      @ManyToOne\r\n      public Key key;\r\n    \r\n      @OneToMany(mappedBy = &quot;KeyVersion&quot;, fetch = FetchType.LAZY, cascade = CascadeType.ALL, orphanRemoval = true)\r\n      private List&lt;KeyVersionBlock&gt; keyVersionBlocks;\r\n    \r\n    .....\r\n    }\r\n    \r\n    @Embeddable\r\n    public class KeyVersionId implements Serializable {\r\n      //named this way as this could be used as an ID class instead of embeddable\r\n      private Long key;\r\n    \r\n      @Column(name = &quot;VERSION&quot;)\r\n      private Integer version;\r\n    \r\n    .....\r\n    }\r\n\r\nWhat you have for the KeyVersionBlock and KeyVersionBlockId should then work since there are no longer any relationships in the key objects despite nesting of embeddables.","title":"Nested OneToMany mapping with 3 tables","body":"<p>JPA does not allow relationships in the primary key itself. JPA 3.0 Section 11.1.17:</p>\n<blockquote>\n<p>Relationship mappings defined within an embedded id class are not\nsupported.</p>\n</blockquote>\n<p>Derived ID does allow you to reference the key of a referenced class within the ID, so what you need instead is:</p>\n<pre><code>public class Key implements Serializable {\n  @Id\n  @Column(name = &quot;KEY_ID&quot;, nullable = false)\n  public Long keyId;\n\n\n  @OneToMany(mappedBy = &quot;Key&quot;, fetch = FetchType.LAZY, cascade = CascadeType.ALL, orphanRemoval = true)\n  private List&lt;KeyVersion&gt; keyVersions;\n.....\n}\n\npublic class KeyVersion implements Serializable {\n\n  @EmbeddedId\n  private KeyVersionId versionId;\n\n  @MapsId(&quot;key&quot;)\n  @JoinColumns({ @JoinColumn(name = &quot;KEY_ID&quot;, referencedColumnName = &quot;KEY_ID&quot;) })\n  @ManyToOne\n  public Key key;\n\n  @OneToMany(mappedBy = &quot;KeyVersion&quot;, fetch = FetchType.LAZY, cascade = CascadeType.ALL, orphanRemoval = true)\n  private List&lt;KeyVersionBlock&gt; keyVersionBlocks;\n\n.....\n}\n\n@Embeddable\npublic class KeyVersionId implements Serializable {\n  //named this way as this could be used as an ID class instead of embeddable\n  private Long key;\n\n  @Column(name = &quot;VERSION&quot;)\n  private Integer version;\n\n.....\n}\n</code></pre>\n<p>What you have for the KeyVersionBlock and KeyVersionBlockId should then work since there are no longer any relationships in the key objects despite nesting of embeddables.</p>\n"}],"owner":{"account_id":7857669,"reputation":1,"user_id":5938954,"display_name":"Archana"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1699372871,"creation_date":1699109767,"question_id":77422540,"body_markdown":"I have 3 tables with below Schema:\r\n\r\n&gt;Table 1: KEY\r\n&gt;Primary Key: **KEY_ID**\r\n\r\n&gt;Table 2: KEY_VERSION:\r\n&gt;Primary Key: **KEY_ID** (Foreign key to KEY.KEY_ID) and **VERSION**\r\n\r\n&gt;Table 3: KEY_VERSION_BLOCK:\r\n&gt;Primary Key: **KEY_ID**, **VERSION** (Foreign key to KEY_VERSION.KEY_ID, KEY_VERSION.VERSION), **BLOCK_TYPE**\r\n\r\nI am trying to establish this relationship using hibernate like below.\r\n\r\n\r\n```\r\npublic class Key implements Serializable {\r\n    @EmbeddedId\r\n    private KeyId keyId;\r\n\r\n\r\n    @OneToMany(mappedBy = &quot;Key&quot;, fetch = FetchType.LAZY, cascade = CascadeType.ALL, orphanRemoval = true)\r\n    private List&lt;KeyVersion&gt; keyVersions;\r\n.....\r\n}\r\n```\r\n\r\n\r\n```\r\n// Embedded ID is not required here as it has only one key column, I will replace it, please ignore for now\r\n@Embeddable\r\npublic class KeyId implements Serializable {\r\n\r\n    @Column(name = &quot;KEY_ID&quot;, nullable = false)\r\n    public Long keyId;\r\n\r\n}\r\n```\r\n\r\n\r\n```\r\npublic class KeyVersion implements Serializable {\r\n\r\n    @EmbeddedId\r\n    private KeyVersionId versionId;\r\n\r\n    @MapsId(&quot;KeyId&quot;)\r\n    @JoinColumns({ @JoinColumn(name = &quot;KEY_ID&quot;, referencedColumnName = &quot;KEY_ID&quot;) })\r\n    @ManyToOne\r\n    public Key key;\r\n\r\n  @OneToMany(mappedBy = &quot;KeyVersion&quot;, fetch = FetchType.LAZY, cascade = CascadeType.ALL, orphanRemoval = true)\r\n    private List&lt;KeyVersionBlock&gt; keyVersionBlocks;\r\n\r\n.....\r\n}\r\n```\r\n\r\n\r\n```\r\n@Embeddable\r\npublic class KeyVersionId implements Serializable {\r\n\r\n    @ManyToOne\r\n    private Key key;\r\n\r\n    @Column(name = &quot;VERSION&quot;)\r\n    private Integer version;\r\n\r\n.....\r\n}\r\n```\r\n\r\n\r\n```\r\npublic class KeyVersionBlock implements Serializable {\r\n\r\n    @EmbeddedId\r\n    private KeyVersionBlockId keyVersionBlockId;\r\n\r\n    @MapsId(&quot;keyVersionId&quot;)\r\n    @JoinColumns({ @JoinColumn(name = &quot;KEY_ID&quot;, referencedColumnName = &quot;KEY_ID&quot;),\r\n        @JoinColumn(name = &quot;VERSION&quot;, referencedColumnName = &quot;VERSION&quot;) })\r\n    @ManyToOne\r\n    private KeyVersion keyVersion;\r\n\r\n....\r\n}\r\n\r\n```\r\n\r\n\r\n```\r\npublic class KeyVersionBlockId implements Serializable {\r\n\r\n    @Column(name = &quot;BLOCK_TYPE&quot;)\r\n    private Long blockType;\r\n\r\n    private KeyVersionId keyVersionId;\r\n\r\n....\r\n}\r\n\r\n```\r\n\r\n\r\nI am getting below error\r\n\r\n\r\n&gt; Caused by: org.hibernate.AnnotationException:\r\n&gt; referencedColumnNames(KEY_ID, VERSION) of\r\n&gt; com.akamai.portal.dexp.kms.core.model.KeyVersionBlock.keyVersion\r\n&gt; referencing com.akamai.portal.dexp.kms.core.model.KeyVersion not\r\n&gt; mapped to a single property \tat\r\n&gt; org.hibernate.cfg.BinderHelper.createSyntheticPropertyReference(BinderHelper.java:203)\r\n&gt; ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final] \tat\r\n&gt; org.hibernate.cfg.ToOneFkSecondPass.doSecondPass(ToOneFkSecondPass.java:104)\r\n&gt; ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final] \tat\r\n&gt; org.hibernate.boot.internal.InFlightMetadataCollectorImpl.processEndOfQueue(InFlightMetadataCollectorImpl.java:1750)\r\n&gt; ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]\r\n\r\nPlease help me getting rid of this error or establishing this relationship in some other way.\r\n\r\n\r\n\r\n\r\nI also tried adding below in `KEY_VERSION` table, but that didn&#39;t help:\r\n\r\n`@Column(name = &quot;KEY_ID&quot;, nullable = false, updatable = false, insertable = false)\r\n private Long keyId;`\r\n","title":"Nested OneToMany mapping with 3 tables","body":"<p>I have 3 tables with below Schema:</p>\n<blockquote>\n<p>Table 1: KEY\nPrimary Key: <strong>KEY_ID</strong></p>\n</blockquote>\n<blockquote>\n<p>Table 2: KEY_VERSION:\nPrimary Key: <strong>KEY_ID</strong> (Foreign key to KEY.KEY_ID) and <strong>VERSION</strong></p>\n</blockquote>\n<blockquote>\n<p>Table 3: KEY_VERSION_BLOCK:\nPrimary Key: <strong>KEY_ID</strong>, <strong>VERSION</strong> (Foreign key to KEY_VERSION.KEY_ID, KEY_VERSION.VERSION), <strong>BLOCK_TYPE</strong></p>\n</blockquote>\n<p>I am trying to establish this relationship using hibernate like below.</p>\n<pre><code>public class Key implements Serializable {\n    @EmbeddedId\n    private KeyId keyId;\n\n\n    @OneToMany(mappedBy = &quot;Key&quot;, fetch = FetchType.LAZY, cascade = CascadeType.ALL, orphanRemoval = true)\n    private List&lt;KeyVersion&gt; keyVersions;\n.....\n}\n</code></pre>\n<pre><code>// Embedded ID is not required here as it has only one key column, I will replace it, please ignore for now\n@Embeddable\npublic class KeyId implements Serializable {\n\n    @Column(name = &quot;KEY_ID&quot;, nullable = false)\n    public Long keyId;\n\n}\n</code></pre>\n<pre><code>public class KeyVersion implements Serializable {\n\n    @EmbeddedId\n    private KeyVersionId versionId;\n\n    @MapsId(&quot;KeyId&quot;)\n    @JoinColumns({ @JoinColumn(name = &quot;KEY_ID&quot;, referencedColumnName = &quot;KEY_ID&quot;) })\n    @ManyToOne\n    public Key key;\n\n  @OneToMany(mappedBy = &quot;KeyVersion&quot;, fetch = FetchType.LAZY, cascade = CascadeType.ALL, orphanRemoval = true)\n    private List&lt;KeyVersionBlock&gt; keyVersionBlocks;\n\n.....\n}\n</code></pre>\n<pre><code>@Embeddable\npublic class KeyVersionId implements Serializable {\n\n    @ManyToOne\n    private Key key;\n\n    @Column(name = &quot;VERSION&quot;)\n    private Integer version;\n\n.....\n}\n</code></pre>\n<pre><code>public class KeyVersionBlock implements Serializable {\n\n    @EmbeddedId\n    private KeyVersionBlockId keyVersionBlockId;\n\n    @MapsId(&quot;keyVersionId&quot;)\n    @JoinColumns({ @JoinColumn(name = &quot;KEY_ID&quot;, referencedColumnName = &quot;KEY_ID&quot;),\n        @JoinColumn(name = &quot;VERSION&quot;, referencedColumnName = &quot;VERSION&quot;) })\n    @ManyToOne\n    private KeyVersion keyVersion;\n\n....\n}\n\n</code></pre>\n<pre><code>public class KeyVersionBlockId implements Serializable {\n\n    @Column(name = &quot;BLOCK_TYPE&quot;)\n    private Long blockType;\n\n    private KeyVersionId keyVersionId;\n\n....\n}\n\n</code></pre>\n<p>I am getting below error</p>\n<blockquote>\n<p>Caused by: org.hibernate.AnnotationException:\nreferencedColumnNames(KEY_ID, VERSION) of\ncom.akamai.portal.dexp.kms.core.model.KeyVersionBlock.keyVersion\nreferencing com.akamai.portal.dexp.kms.core.model.KeyVersion not\nmapped to a single property   at\norg.hibernate.cfg.BinderHelper.createSyntheticPropertyReference(BinderHelper.java:203)\n~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]   at\norg.hibernate.cfg.ToOneFkSecondPass.doSecondPass(ToOneFkSecondPass.java:104)\n~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]   at\norg.hibernate.boot.internal.InFlightMetadataCollectorImpl.processEndOfQueue(InFlightMetadataCollectorImpl.java:1750)\n~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]</p>\n</blockquote>\n<p>Please help me getting rid of this error or establishing this relationship in some other way.</p>\n<p>I also tried adding below in <code>KEY_VERSION</code> table, but that didn't help:</p>\n<p><code>@Column(name = &quot;KEY_ID&quot;, nullable = false, updatable = false, insertable = false) private Long keyId;</code></p>\n"},{"tags":["java","spring","http"],"comments":[{"owner":{"account_id":10490448,"reputation":640,"user_id":7732540,"display_name":"Pierre Jones"},"score":0,"creation_date":1701341600,"post_id":77433510,"comment_id":136764732,"body_markdown":"Hi @Toniotti. Did you find a solution ? I&#39;m facing the same issue. Thanks","body":"Hi @Toniotti. Did you find a solution ? I&#39;m facing the same issue. Thanks"}],"owner":{"account_id":10450488,"reputation":85,"user_id":8839342,"display_name":"Toniotti"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1699372827,"creation_date":1699296408,"question_id":77433510,"body_markdown":"When using the new Spring HTTP Interface, how do you make it&#39;s methods &quot;cacheable&quot;, using the `@Cacheable` annotation?\r\n\r\nI have the following interface:\r\n\r\n    @HttpExchange(url = &quot;/v1/example&quot;, accept = &quot;application/json&quot;, contentType = &quot;application/json&quot;)\r\n    public interface ExampleClient {\r\n    \r\n        @GetExchange(url = &quot;/test&quot;)\r\n        @Cacheable(&quot;example&quot;)\r\n        ResponseEntity&lt;ExampleClientResponse&gt; test();\r\n    }\r\n\r\nThe proxy is generated in this way:\r\n\r\n    HttpServiceProxyFactory\r\n                    .builder(WebClientAdapter.forClient(webClient))\r\n                    .blockTimeout(Duration.ofSeconds(30))\r\n                    .build()\r\n                    .createClient(ExampleClient.class);\r\n\r\nMy main class is annotated with `@SpringBootApplication` and `@EnableCaching`.\r\n\r\nBy just adding the `@Cacheable` annotation to the `test()` method the cache does not work.","title":"Spring 6 HTTP Interface caching","body":"<p>When using the new Spring HTTP Interface, how do you make it's methods &quot;cacheable&quot;, using the <code>@Cacheable</code> annotation?</p>\n<p>I have the following interface:</p>\n<pre><code>@HttpExchange(url = &quot;/v1/example&quot;, accept = &quot;application/json&quot;, contentType = &quot;application/json&quot;)\npublic interface ExampleClient {\n\n    @GetExchange(url = &quot;/test&quot;)\n    @Cacheable(&quot;example&quot;)\n    ResponseEntity&lt;ExampleClientResponse&gt; test();\n}\n</code></pre>\n<p>The proxy is generated in this way:</p>\n<pre><code>HttpServiceProxyFactory\n                .builder(WebClientAdapter.forClient(webClient))\n                .blockTimeout(Duration.ofSeconds(30))\n                .build()\n                .createClient(ExampleClient.class);\n</code></pre>\n<p>My main class is annotated with <code>@SpringBootApplication</code> and <code>@EnableCaching</code>.</p>\n<p>By just adding the <code>@Cacheable</code> annotation to the <code>test()</code> method the cache does not work.</p>\n"},{"tags":["java","android","android-xml"],"answers":[{"tags":[],"owner":{"account_id":29804693,"reputation":1,"user_id":22841632,"display_name":"sanzidan555"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699372810,"creation_date":1698861048,"answer_id":77404628,"question_id":75905388,"body_markdown":"I solved using the issue using the `1.6.0` version instead of the last one.\r\n\r\nPut this in your `build.gradle` module:\r\n\r\n    dependencies {   \r\n         implementation &#39;com.github.prolificinteractive:material-calendarview:1.6.0&#39; \r\n    }\r\n\r\n","title":"After I add MaterialCalendarView, Android studio does not show layout preview","body":"<p>I solved using the issue using the <code>1.6.0</code> version instead of the last one.</p>\n<p>Put this in your <code>build.gradle</code> module:</p>\n<pre><code>dependencies {   \n     implementation 'com.github.prolificinteractive:material-calendarview:1.6.0' \n}\n</code></pre>\n"}],"owner":{"account_id":28185836,"reputation":11,"user_id":21542045,"display_name":"toanndm"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1699372810,"creation_date":1680342137,"question_id":75905388,"body_markdown":"I want to design ConstraintLayout containing MaterialCalendarView\r\nBut when I add MaterialCalendarView to XML file, Android studio doesn&#39;t show layout preview:\r\n[enter image description here](https://i.stack.imgur.com/z0yNs.png)\r\n\r\n\r\nXML file:\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    tools:context=&quot;.fragment.SchedulesFragment&quot;&gt;\r\n\r\n\r\n    &lt;TextView\r\n        android:id=&quot;@+id/tv_title_fg_schedules&quot;\r\n        android:textSize=&quot;24sp&quot;\r\n        android:textStyle=&quot;bold&quot;\r\n        android:textColor=&quot;@color/gray_black&quot;\r\n        android:gravity=&quot;center&quot;\r\n        android:layout_marginTop=&quot;10dp&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n        app:layout_constraintLeft_toLeftOf=&quot;parent&quot;\r\n        app:layout_constraintRight_toRightOf=&quot;parent&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:text=&quot;@string/schedules&quot; /&gt;\r\n\r\n    &lt;com.prolificinteractive.materialcalendarview.MaterialCalendarView\r\n        android:id=&quot;@+id/calendarView&quot;\r\n        app:layout_constraintTop_toBottomOf=&quot;@id/tv_title_fg_schedules&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        app:mcv_calendarMode=&quot;week&quot;\r\n        app:mcv_showOtherDates=&quot;all&quot;\r\n        app:mcv_selectionColor=&quot;@color/gray&quot; /&gt;\r\n\r\n    &lt;androidx.recyclerview.widget.RecyclerView\r\n        android:id=&quot;@+id/rcv_schedules&quot;\r\n        app:layout_constraintTop_toBottomOf=&quot;@id/calendarView&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;0dp&quot;/&gt;\r\n\r\n\r\n\r\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n```\r\n\r\n\r\nI hope someone can help me. Thank you very much!!","title":"After I add MaterialCalendarView, Android studio does not show layout preview","body":"<p>I want to design ConstraintLayout containing MaterialCalendarView\nBut when I add MaterialCalendarView to XML file, Android studio doesn't show layout preview:\n<a href=\"https://i.stack.imgur.com/z0yNs.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>XML file:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    tools:context=&quot;.fragment.SchedulesFragment&quot;&gt;\n\n\n    &lt;TextView\n        android:id=&quot;@+id/tv_title_fg_schedules&quot;\n        android:textSize=&quot;24sp&quot;\n        android:textStyle=&quot;bold&quot;\n        android:textColor=&quot;@color/gray_black&quot;\n        android:gravity=&quot;center&quot;\n        android:layout_marginTop=&quot;10dp&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\n        app:layout_constraintLeft_toLeftOf=&quot;parent&quot;\n        app:layout_constraintRight_toRightOf=&quot;parent&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:text=&quot;@string/schedules&quot; /&gt;\n\n    &lt;com.prolificinteractive.materialcalendarview.MaterialCalendarView\n        android:id=&quot;@+id/calendarView&quot;\n        app:layout_constraintTop_toBottomOf=&quot;@id/tv_title_fg_schedules&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        app:mcv_calendarMode=&quot;week&quot;\n        app:mcv_showOtherDates=&quot;all&quot;\n        app:mcv_selectionColor=&quot;@color/gray&quot; /&gt;\n\n    &lt;androidx.recyclerview.widget.RecyclerView\n        android:id=&quot;@+id/rcv_schedules&quot;\n        app:layout_constraintTop_toBottomOf=&quot;@id/calendarView&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;0dp&quot;/&gt;\n\n\n\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n<p>I hope someone can help me. Thank you very much!!</p>\n"},{"tags":["java","algorithm","iterator","iteration","permutation"],"comments":[{"owner":{"account_id":465573,"reputation":192703,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1699320708,"post_id":77434970,"comment_id":136514405,"body_markdown":"It sounds like you&#39;re partially reinventing `ListIterator`?","body":"It sounds like you&#39;re partially reinventing <code>ListIterator</code>?"},{"owner":{"account_id":286249,"reputation":43961,"user_id":585411,"accept_rate":60,"display_name":"btilly"},"score":1,"creation_date":1699321110,"post_id":77434970,"comment_id":136514441,"body_markdown":"I would create a function that takes an index, and returns a permutation. That reduces the problem to simply keeping the index internally, and being able to add/subtract 1 from it.","body":"I would create a function that takes an index, and returns a permutation. That reduces the problem to simply keeping the index internally, and being able to add/subtract 1 from it."},{"owner":{"account_id":23243511,"reputation":52,"user_id":18552948,"display_name":"Kate Johnson"},"score":0,"creation_date":1699322019,"post_id":77434970,"comment_id":136514502,"body_markdown":"@btilly can you explain that further please","body":"@btilly can you explain that further please"}],"answers":[{"tags":[],"owner":{"account_id":286249,"reputation":43961,"user_id":585411,"accept_rate":60,"display_name":"btilly"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699372655,"creation_date":1699372655,"answer_id":77439696,"question_id":77434970,"body_markdown":"I won&#39;t give code for what I think is homework. But I&#39;ll explain the strategy.\r\n\r\nSuppose that your list of sorted characters is `KCdht`. Which index would produce `KChdt`? Let&#39;s count the ones before it.\r\n\r\n- We had `5` single element permutations. (BTW these aren&#39;t really permutations, but I&#39;ll use the same terminology as your question.) Total `5`.\r\n- We had `5*4` 2 element permutations. Total `5+20 = 25`.\r\n- We had `5*4*3` 3 element permutations. Total `60+25 = 85`.\r\n- We had `5*4*3*2` 4 element permutations. Total `120+85 = 205`.\r\n- In the 5 element permutations we haven&#39;t yet exhausted `K` first, or `C` first. Total still `205`.\r\n- We had 2 permutations of the form `KCd..`. Total `2+205 = 207`.\r\n\r\nAnd that&#39;s it. So there were `207` permutations before, we must be on permutation `208`.\r\n\r\nThis is called &quot;ranking&quot; the permutation.\r\n\r\nNow to move earlier we want permutation `207`. Which means that there `206` before this one.\r\n\r\n- We had `5` single element permutations. `206-5 = 201` left.\r\n- We had `5*4` 2 element permutations. `201-20 = 181` left.\r\n- We had `5*4*3` 3 element permutations. Total `181-60 = 121` left.\r\n- We had `5*4*3*2` 4 element permutations. Total `121-120 = 1` left.\r\n- We haven&#39;t exhausted the `24` with `K` first, so we start with `K` and have `1` left.\r\n- We haven&#39;t exhausted the `6` with `KC` first, so we start with `KC` and have `1` left.\r\n- We haven&#39;t exhausted the `2` with `KCh` first, so we start with `KCh` and have `1` left.\r\n- There is one permutation with `KChd` first, so we exhaust that and start with `KCht`.\r\n- The answer is `KChtd`.\r\n\r\nThis is called unranking the permutation.\r\n\r\nSo just build functions to find the rank from a permutation, and the permutation from the rank, and then moving forward/backwards can be reduced to adding or subtracting 1.","title":"How to iterate backwards with a custom iterator in Java using permutations","body":"<p>I won't give code for what I think is homework. But I'll explain the strategy.</p>\n<p>Suppose that your list of sorted characters is <code>KCdht</code>. Which index would produce <code>KChdt</code>? Let's count the ones before it.</p>\n<ul>\n<li>We had <code>5</code> single element permutations. (BTW these aren't really permutations, but I'll use the same terminology as your question.) Total <code>5</code>.</li>\n<li>We had <code>5*4</code> 2 element permutations. Total <code>5+20 = 25</code>.</li>\n<li>We had <code>5*4*3</code> 3 element permutations. Total <code>60+25 = 85</code>.</li>\n<li>We had <code>5*4*3*2</code> 4 element permutations. Total <code>120+85 = 205</code>.</li>\n<li>In the 5 element permutations we haven't yet exhausted <code>K</code> first, or <code>C</code> first. Total still <code>205</code>.</li>\n<li>We had 2 permutations of the form <code>KCd..</code>. Total <code>2+205 = 207</code>.</li>\n</ul>\n<p>And that's it. So there were <code>207</code> permutations before, we must be on permutation <code>208</code>.</p>\n<p>This is called &quot;ranking&quot; the permutation.</p>\n<p>Now to move earlier we want permutation <code>207</code>. Which means that there <code>206</code> before this one.</p>\n<ul>\n<li>We had <code>5</code> single element permutations. <code>206-5 = 201</code> left.</li>\n<li>We had <code>5*4</code> 2 element permutations. <code>201-20 = 181</code> left.</li>\n<li>We had <code>5*4*3</code> 3 element permutations. Total <code>181-60 = 121</code> left.</li>\n<li>We had <code>5*4*3*2</code> 4 element permutations. Total <code>121-120 = 1</code> left.</li>\n<li>We haven't exhausted the <code>24</code> with <code>K</code> first, so we start with <code>K</code> and have <code>1</code> left.</li>\n<li>We haven't exhausted the <code>6</code> with <code>KC</code> first, so we start with <code>KC</code> and have <code>1</code> left.</li>\n<li>We haven't exhausted the <code>2</code> with <code>KCh</code> first, so we start with <code>KCh</code> and have <code>1</code> left.</li>\n<li>There is one permutation with <code>KChd</code> first, so we exhaust that and start with <code>KCht</code>.</li>\n<li>The answer is <code>KChtd</code>.</li>\n</ul>\n<p>This is called unranking the permutation.</p>\n<p>So just build functions to find the rank from a permutation, and the permutation from the rank, and then moving forward/backwards can be reduced to adding or subtracting 1.</p>\n"}],"owner":{"account_id":23243511,"reputation":52,"user_id":18552948,"display_name":"Kate Johnson"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1699372655,"creation_date":1699318142,"question_id":77434970,"body_markdown":"I am trying to create a a class of Permutation that extends Iterator and adds two methods: previous() and hasPrevious().\r\n\r\n* It must offer a constructor with one argument: a string containing the ordered sequence of characters from which the permutations will be generated. Invalid parameters should throw an IllegalArgumentException.\r\n* It must offer a constructor with two arguments: a string containing the ordered sequence of characters from which the permutations will be generated, and the starting length of the first permutation. The length of the first permutation must be between 1 and the length of the string (inclusive) and the iterator should start on the first possible permutation of the given length. For example, new Permuations(&quot;abcd&quot;, 3) would start iterating on &quot;abc&quot; while newPermutations(&quot;abcd&quot;, 2) would start iterating on &quot;ab&quot;. Invalid parameters should throw an IllegalArgumentException.\r\n* Since the number of permutations grows exponentially with the length of the sequence, your implementation should only use constant storage. In other words, it cannot store any collection that will grow to contain the same number of elements as the number of permutations.Note that according to the above specification, the sequence may begin in the middle of a sequence (depending on the starting length) and still be able to iterate over all of the permutations in the sequence.\r\n\r\nI have successfully figured out a way to implement the hasNext() and next() methods from Iterator but I am really struggling with hasPrevious() and previous(). I am attempting to reverse what I am doing when I advance the indexes in the next method by returning the previous element in the sequence and moves the cursor position backwards.  I have been at this for hours and I cannot figure out where I am going wrong. I highly suspect I am significantly over complicating things and there is a much more finessed way to go about this task. Any help would be greatly appreciated.\r\n\r\n```java\r\n  public Permutations(String sequence, int startingLength) throws IllegalArgumentException {\r\n    if (sequence == null || sequence.isEmpty()) {\r\n      throw new IllegalArgumentException(&quot;Sequence must not be null or empty.&quot;);\r\n    }\r\n    if (startingLength &lt; 1 || startingLength &gt; sequence.length()) {\r\n      throw new IllegalArgumentException(\r\n              &quot;Starting length must be between 1 and the length of the sequence.&quot;);\r\n    }\r\n    this.input = sequence;\r\n    this.minPermutationLength = startingLength;\r\n    this.maxPermutationLength = sequence.length();\r\n    this.currentLength = startingLength;\r\n    this.indexes = new int[startingLength];\r\n    for (int i = 0; i &lt; startingLength; i++) {\r\n      indexes[i] = i;\r\n    }\r\n    this.hasPrevious = startingLength &gt; 1;\r\n    this.hasNext = true;\r\n    System.out.println(&quot;input: &quot; + input);\r\n    System.out.println(&quot;startingLength: &quot; + startingLength);\r\n  }\r\n\r\n  @Override\r\n  public boolean hasNext() {\r\n    return hasNext;\r\n  }\r\n\r\n  @Override\r\n  public String next() throws NoSuchElementException {\r\n    if (!hasNext) {\r\n      throw new NoSuchElementException(&quot;No more permutations available.&quot;);\r\n    }\r\n    StringBuilder sb = new StringBuilder();\r\n    for (int i = 0; i &lt; currentLength; i++) {\r\n      sb.append(input.charAt(indexes[i]));\r\n    }\r\n    advanceIndexes();\r\n    return sb.toString();\r\n  }\r\n\r\n  @Override\r\n  public boolean hasPrevious() {\r\n    return hasPrevious;\r\n  }\r\n\r\n  @Override\r\n  public String previous() throws NoSuchElementException {\r\n    if (!hasPrevious) {\r\n      throw new NoSuchElementException(&quot;No previous permutations available.&quot;);\r\n    }\r\n    StringBuilder sb = new StringBuilder();\r\n    for (int i = 0; i &lt; currentLength; i++) {\r\n      sb.append(input.charAt(indexes[i]));\r\n    }\r\n    regressIndexes();\r\n    System.out.println(&quot;previous: &quot; + sb);\r\n    return sb.toString();\r\n  }\r\n\r\n  private void advanceIndexes() {\r\n    int i = currentLength - 1;\r\n    while (i &gt;= 0 &amp;&amp; indexes[i] == maxPermutationLength - currentLength + i) {\r\n      i--;\r\n    }\r\n    if (i &gt;= 0) {\r\n      indexes[i]++;\r\n      for (int j = i + 1; j &lt; currentLength; j++) {\r\n        indexes[j] = indexes[j - 1] + 1;\r\n      }\r\n    } else {\r\n      if (currentLength &lt; maxPermutationLength) {\r\n        currentLength++;\r\n        indexes = new int[currentLength];\r\n        for (int j = 0; j &lt; currentLength; j++) {\r\n          indexes[j] = j;\r\n        }\r\n      } else {\r\n        hasNext = false;\r\n      }\r\n      hasPrevious = (currentLength &gt; minPermutationLength) || (indexes[0] &gt; 0);\r\n    }\r\n  }\r\n\r\n  private void regressIndexes() {\r\n    if (currentLength == minPermutationLength &amp;&amp; indexes[0] == 0) {\r\n      hasPrevious = false;\r\n      return;\r\n    }\r\n\r\n    int i = currentLength - 1;\r\n    while (i &gt;= 0 &amp;&amp; indexes[i] == i) {\r\n      i--;\r\n    }\r\n\r\n    if (i &gt;= 0) {\r\n      indexes[i]--;\r\n      for (int j = i + 1; j &lt; currentLength; j++) {\r\n        indexes[j] = maxPermutationLength - currentLength + j;\r\n      }\r\n    } else {\r\n      currentLength--;\r\n      indexes = new int[currentLength];\r\n      for (int j = 0; j &lt; currentLength; j++) {\r\n        indexes[j] = maxPermutationLength - currentLength + j;\r\n      }\r\n      hasPrevious = currentLength != minPermutationLength || indexes[0] &gt; 0;\r\n    }\r\n  }\r\n```\r\n\r\nHere is an example console output from a failed test\r\n\r\nTest Failed: previous() did not return the correct value expected: t but was: KC\r\ninput: KChdt\r\nstartingLength: 1\r\nprevious: KC","title":"How to iterate backwards with a custom iterator in Java using permutations","body":"<p>I am trying to create a a class of Permutation that extends Iterator and adds two methods: previous() and hasPrevious().</p>\n<ul>\n<li>It must offer a constructor with one argument: a string containing the ordered sequence of characters from which the permutations will be generated. Invalid parameters should throw an IllegalArgumentException.</li>\n<li>It must offer a constructor with two arguments: a string containing the ordered sequence of characters from which the permutations will be generated, and the starting length of the first permutation. The length of the first permutation must be between 1 and the length of the string (inclusive) and the iterator should start on the first possible permutation of the given length. For example, new Permuations(&quot;abcd&quot;, 3) would start iterating on &quot;abc&quot; while newPermutations(&quot;abcd&quot;, 2) would start iterating on &quot;ab&quot;. Invalid parameters should throw an IllegalArgumentException.</li>\n<li>Since the number of permutations grows exponentially with the length of the sequence, your implementation should only use constant storage. In other words, it cannot store any collection that will grow to contain the same number of elements as the number of permutations.Note that according to the above specification, the sequence may begin in the middle of a sequence (depending on the starting length) and still be able to iterate over all of the permutations in the sequence.</li>\n</ul>\n<p>I have successfully figured out a way to implement the hasNext() and next() methods from Iterator but I am really struggling with hasPrevious() and previous(). I am attempting to reverse what I am doing when I advance the indexes in the next method by returning the previous element in the sequence and moves the cursor position backwards.  I have been at this for hours and I cannot figure out where I am going wrong. I highly suspect I am significantly over complicating things and there is a much more finessed way to go about this task. Any help would be greatly appreciated.</p>\n<pre class=\"lang-java prettyprint-override\"><code>  public Permutations(String sequence, int startingLength) throws IllegalArgumentException {\n    if (sequence == null || sequence.isEmpty()) {\n      throw new IllegalArgumentException(&quot;Sequence must not be null or empty.&quot;);\n    }\n    if (startingLength &lt; 1 || startingLength &gt; sequence.length()) {\n      throw new IllegalArgumentException(\n              &quot;Starting length must be between 1 and the length of the sequence.&quot;);\n    }\n    this.input = sequence;\n    this.minPermutationLength = startingLength;\n    this.maxPermutationLength = sequence.length();\n    this.currentLength = startingLength;\n    this.indexes = new int[startingLength];\n    for (int i = 0; i &lt; startingLength; i++) {\n      indexes[i] = i;\n    }\n    this.hasPrevious = startingLength &gt; 1;\n    this.hasNext = true;\n    System.out.println(&quot;input: &quot; + input);\n    System.out.println(&quot;startingLength: &quot; + startingLength);\n  }\n\n  @Override\n  public boolean hasNext() {\n    return hasNext;\n  }\n\n  @Override\n  public String next() throws NoSuchElementException {\n    if (!hasNext) {\n      throw new NoSuchElementException(&quot;No more permutations available.&quot;);\n    }\n    StringBuilder sb = new StringBuilder();\n    for (int i = 0; i &lt; currentLength; i++) {\n      sb.append(input.charAt(indexes[i]));\n    }\n    advanceIndexes();\n    return sb.toString();\n  }\n\n  @Override\n  public boolean hasPrevious() {\n    return hasPrevious;\n  }\n\n  @Override\n  public String previous() throws NoSuchElementException {\n    if (!hasPrevious) {\n      throw new NoSuchElementException(&quot;No previous permutations available.&quot;);\n    }\n    StringBuilder sb = new StringBuilder();\n    for (int i = 0; i &lt; currentLength; i++) {\n      sb.append(input.charAt(indexes[i]));\n    }\n    regressIndexes();\n    System.out.println(&quot;previous: &quot; + sb);\n    return sb.toString();\n  }\n\n  private void advanceIndexes() {\n    int i = currentLength - 1;\n    while (i &gt;= 0 &amp;&amp; indexes[i] == maxPermutationLength - currentLength + i) {\n      i--;\n    }\n    if (i &gt;= 0) {\n      indexes[i]++;\n      for (int j = i + 1; j &lt; currentLength; j++) {\n        indexes[j] = indexes[j - 1] + 1;\n      }\n    } else {\n      if (currentLength &lt; maxPermutationLength) {\n        currentLength++;\n        indexes = new int[currentLength];\n        for (int j = 0; j &lt; currentLength; j++) {\n          indexes[j] = j;\n        }\n      } else {\n        hasNext = false;\n      }\n      hasPrevious = (currentLength &gt; minPermutationLength) || (indexes[0] &gt; 0);\n    }\n  }\n\n  private void regressIndexes() {\n    if (currentLength == minPermutationLength &amp;&amp; indexes[0] == 0) {\n      hasPrevious = false;\n      return;\n    }\n\n    int i = currentLength - 1;\n    while (i &gt;= 0 &amp;&amp; indexes[i] == i) {\n      i--;\n    }\n\n    if (i &gt;= 0) {\n      indexes[i]--;\n      for (int j = i + 1; j &lt; currentLength; j++) {\n        indexes[j] = maxPermutationLength - currentLength + j;\n      }\n    } else {\n      currentLength--;\n      indexes = new int[currentLength];\n      for (int j = 0; j &lt; currentLength; j++) {\n        indexes[j] = maxPermutationLength - currentLength + j;\n      }\n      hasPrevious = currentLength != minPermutationLength || indexes[0] &gt; 0;\n    }\n  }\n</code></pre>\n<p>Here is an example console output from a failed test</p>\n<p>Test Failed: previous() did not return the correct value expected: t but was: KC\ninput: KChdt\nstartingLength: 1\nprevious: KC</p>\n"},{"tags":["java","android","flutter","firebase","flutter-dependencies"],"owner":{"account_id":15645174,"reputation":263,"user_id":11287483,"display_name":"Saayeed M Daawoud"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1699372417,"creation_date":1699372417,"question_id":77439663,"body_markdown":"I have a problem since I want to try Firebase Authentication with a mobile phone \r\n\r\nI followed the Docs&#39; instructions and made it step-by-step \r\n\r\n 1. create a flutter project\r\n 2. create Firebase project\r\n 3. connect with SHA-1 and SHA-256\r\n 4. Download JSON file in ```android/app/```\r\n 5. enable the phone sign-in method from Firebase console\r\n 6. doing the additional configuration for Android\r\n 7. and put two numbers for testing\r\n\r\nnow in my code, I&#39;m prompt the user to enter his phone number and pass it as an argument to the following function \r\n\r\n\r\n```\r\nFirebaseAuth auth = FirebaseAuth.instance;\r\n  Future phoneAuth() async {\r\n    debugPrint(&#39;+2${phoneAuthController.text.trim().toString()}&#39;);\r\n    debugPrint(&#39;Started Auth&#39;); \r\n    await FirebaseAuth.instance.verifyPhoneNumber(\r\n      phoneNumber: &#39;+2${phoneAuthController.text.trim().toString()}&#39;, // +2 is the country code\r\n      timeout: const Duration(seconds: 60),\r\n// from here code skipped \r\n      verificationCompleted: (PhoneAuthCredential credential) async {\r\n        debugPrint(&#39;verificationCompleted&#39;);\r\n        await auth.signInWithCredential(credential);\r\n        debugPrint(&#39;credential.smsCode is : ${credential.smsCode}&#39;);\r\n        debugPrint(&#39;credential.verificationId is : ${credential.verificationId}&#39;);\r\n        debugPrint(&#39;credential.accessToken is : ${credential.accessToken}&#39;);\r\n        debugPrint(&#39;credential.providerId is : ${credential.providerId}&#39;);\r\n        debugPrint(&#39;credential.signInMethod is : ${credential.signInMethod}&#39;);\r\n        debugPrint(&#39;credential.token is : ${credential.token}&#39;);\r\n      },\r\n      verificationFailed: (FirebaseAuthException e) {\r\n        debugPrint(&#39;verificationFailed&#39;);\r\n        debugPrint(&#39;e.credential is : ${e.credential}&#39;);\r\n        debugPrint(&#39;e.phoneNumber is : ${e.phoneNumber}&#39;);\r\n        debugPrint(&#39;e.tenantId is : ${e.tenantId}&#39;);\r\n        debugPrint(&#39;e.code is : ${e.code}&#39;);\r\n        debugPrint(&#39;e.message is : ${e.message}&#39;);\r\n        debugPrint(&#39;e.plugin is : ${e.plugin}&#39;);\r\n        debugPrint(&#39;e.stackTrace is : ${e.stackTrace}&#39;);\r\n      },\r\n      codeSent: (String verificationId, int? resendToken) async {\r\n        debugPrint(&#39;codeSent&#39;);\r\n        String smsCode = &#39;123456&#39;;\r\n        PhoneAuthCredential credential = PhoneAuthProvider.credential(\r\n            verificationId: verificationId, smsCode: smsCode);\r\n        await auth.signInWithCredential(credential);\r\n      },\r\n      codeAutoRetrievalTimeout: (String verificationId) {\r\n        debugPrint(&#39;codeAutoRetrievalTimeout&#39;);\r\n      },\r\n    );\r\n// code return worked here again\r\n    debugPrint(&#39;Finished Auth&#39;);\r\n  }\r\n```\r\n\r\n\r\nhere&#39;s the debug console output \r\n\r\n```\r\nI/flutter (21979): +201090461339\r\nI/flutter (21979): Started Auth\r\nI/flutter (21979): Finsihed Auth\r\nW/System  (21979): Ignoring header X-Firebase-Locale because its value was null.\r\nW/System  (21979): ClassLoader referenced unknown path: system/framework/mediatek-cta.jar\r\nI/System.out(21979): e:java.lang.ClassNotFoundException: com.mediatek.cta.CtaHttp\r\nW/System  (21979): ClassLoader referenced unknown path: system/framework/mediatek-cta.jar\r\nI/System.out(21979): e:java.lang.ClassNotFoundException: com.mediatek.cta.CtaHttp\r\n3\r\nE/FirebaseAuth(21979): [SmsRetrieverHelper] SMS verification code request failed: unknown status code: 17020 null\r\n```\r\nmy dependences in pubspec.yaml\r\n```\r\nfirebase_core: ^2.15.1\r\nfirebase_auth: ^4.9.0\r\n```\r\n\r\nkotlen version\r\n```\r\next.kotlin_version = &#39;1.9.0&#39;\r\n\r\n```\r\nandroid\\app\\build.gradle\r\n```\r\ndependencies {\r\n    implementation(platform(&quot;com.google.firebase:firebase-bom:32.5.0&quot;))\r\n    implementation(&quot;com.google.firebase:firebase-auth&quot;)\r\n}\r\n```\r\nandroid\\app\\src\\main\\AndroidMainfest.xml\r\n```\r\n&lt;uses-permission android:name=&quot;android.permission.INTERNET&quot;/&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_WIFI_STATE&quot;/&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot;/&gt;\r\n...\r\n&lt;application ... android:usesCleartextTraffic=&quot;true&quot;&gt;\r\n\r\n```\r\nhow can I solve this problem? It took a long time from me.\r\n\r\n ","title":"Firebase Auth Error: [SmsRetrieverHelper] SMS verification code request failed: unknown status code: 17020 null","body":"<p>I have a problem since I want to try Firebase Authentication with a mobile phone</p>\n<p>I followed the Docs' instructions and made it step-by-step</p>\n<ol>\n<li>create a flutter project</li>\n<li>create Firebase project</li>\n<li>connect with SHA-1 and SHA-256</li>\n<li>Download JSON file in <code>android/app/</code></li>\n<li>enable the phone sign-in method from Firebase console</li>\n<li>doing the additional configuration for Android</li>\n<li>and put two numbers for testing</li>\n</ol>\n<p>now in my code, I'm prompt the user to enter his phone number and pass it as an argument to the following function</p>\n<pre><code>FirebaseAuth auth = FirebaseAuth.instance;\n  Future phoneAuth() async {\n    debugPrint('+2${phoneAuthController.text.trim().toString()}');\n    debugPrint('Started Auth'); \n    await FirebaseAuth.instance.verifyPhoneNumber(\n      phoneNumber: '+2${phoneAuthController.text.trim().toString()}', // +2 is the country code\n      timeout: const Duration(seconds: 60),\n// from here code skipped \n      verificationCompleted: (PhoneAuthCredential credential) async {\n        debugPrint('verificationCompleted');\n        await auth.signInWithCredential(credential);\n        debugPrint('credential.smsCode is : ${credential.smsCode}');\n        debugPrint('credential.verificationId is : ${credential.verificationId}');\n        debugPrint('credential.accessToken is : ${credential.accessToken}');\n        debugPrint('credential.providerId is : ${credential.providerId}');\n        debugPrint('credential.signInMethod is : ${credential.signInMethod}');\n        debugPrint('credential.token is : ${credential.token}');\n      },\n      verificationFailed: (FirebaseAuthException e) {\n        debugPrint('verificationFailed');\n        debugPrint('e.credential is : ${e.credential}');\n        debugPrint('e.phoneNumber is : ${e.phoneNumber}');\n        debugPrint('e.tenantId is : ${e.tenantId}');\n        debugPrint('e.code is : ${e.code}');\n        debugPrint('e.message is : ${e.message}');\n        debugPrint('e.plugin is : ${e.plugin}');\n        debugPrint('e.stackTrace is : ${e.stackTrace}');\n      },\n      codeSent: (String verificationId, int? resendToken) async {\n        debugPrint('codeSent');\n        String smsCode = '123456';\n        PhoneAuthCredential credential = PhoneAuthProvider.credential(\n            verificationId: verificationId, smsCode: smsCode);\n        await auth.signInWithCredential(credential);\n      },\n      codeAutoRetrievalTimeout: (String verificationId) {\n        debugPrint('codeAutoRetrievalTimeout');\n      },\n    );\n// code return worked here again\n    debugPrint('Finished Auth');\n  }\n</code></pre>\n<p>here's the debug console output</p>\n<pre><code>I/flutter (21979): +201090461339\nI/flutter (21979): Started Auth\nI/flutter (21979): Finsihed Auth\nW/System  (21979): Ignoring header X-Firebase-Locale because its value was null.\nW/System  (21979): ClassLoader referenced unknown path: system/framework/mediatek-cta.jar\nI/System.out(21979): e:java.lang.ClassNotFoundException: com.mediatek.cta.CtaHttp\nW/System  (21979): ClassLoader referenced unknown path: system/framework/mediatek-cta.jar\nI/System.out(21979): e:java.lang.ClassNotFoundException: com.mediatek.cta.CtaHttp\n3\nE/FirebaseAuth(21979): [SmsRetrieverHelper] SMS verification code request failed: unknown status code: 17020 null\n</code></pre>\n<p>my dependences in pubspec.yaml</p>\n<pre><code>firebase_core: ^2.15.1\nfirebase_auth: ^4.9.0\n</code></pre>\n<p>kotlen version</p>\n<pre><code>ext.kotlin_version = '1.9.0'\n\n</code></pre>\n<p>android\\app\\build.gradle</p>\n<pre><code>dependencies {\n    implementation(platform(&quot;com.google.firebase:firebase-bom:32.5.0&quot;))\n    implementation(&quot;com.google.firebase:firebase-auth&quot;)\n}\n</code></pre>\n<p>android\\app\\src\\main\\AndroidMainfest.xml</p>\n<pre><code>&lt;uses-permission android:name=&quot;android.permission.INTERNET&quot;/&gt;\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_WIFI_STATE&quot;/&gt;\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot;/&gt;\n...\n&lt;application ... android:usesCleartextTraffic=&quot;true&quot;&gt;\n\n</code></pre>\n<p>how can I solve this problem? It took a long time from me.</p>\n"},{"tags":["java","apache-camel","activemq-artemis"],"comments":[{"owner":{"account_id":11434008,"reputation":30715,"user_id":8381946,"display_name":"Justin Bertram"},"score":0,"creation_date":1698936398,"post_id":77409378,"comment_id":136469865,"body_markdown":"Is there a stack trace of any further details associated with the `JMSSecurityException`? The text &quot;has too many connections&quot; doesn&#39;t appear in the ActiveMQ Artemis code-base so I don&#39;t think it&#39;s coming from the broker but rather from somewhere else.","body":"Is there a stack trace of any further details associated with the <code>JMSSecurityException</code>? The text &quot;has too many connections&quot; doesn&#39;t appear in the ActiveMQ Artemis code-base so I don&#39;t think it&#39;s coming from the broker but rather from somewhere else."},{"owner":{"account_id":123756,"reputation":4386,"user_id":318414,"accept_rate":95,"display_name":"simonalexander2005"},"score":0,"creation_date":1699002925,"post_id":77409378,"comment_id":136478634,"body_markdown":"yeah, I think it&#39;s a custom interceptor of some kind on their end that tracks for &quot;spammy users&quot; (literally - `ClientConnectionLimiter.lambda$checkForSpammyUser$0(ClientConnectionLimiter.java:28)`). When I look in Eclipse in debug view I see a thread for the connection flickering in and out of life - so there&#39;s definitely some quick opening and closing of connections going on","body":"yeah, I think it&#39;s a custom interceptor of some kind on their end that tracks for &quot;spammy users&quot; (literally - <code>ClientConnectionLimiter.lambda$checkForSpammyUser$0(ClientCo&zwnj;&#8203;nnectionLimiter.java&zwnj;&#8203;:28)</code>). When I look in Eclipse in debug view I see a thread for the connection flickering in and out of life - so there&#39;s definitely some quick opening and closing of connections going on"},{"owner":{"account_id":11434008,"reputation":30715,"user_id":8381946,"display_name":"Justin Bertram"},"score":0,"creation_date":1699021777,"post_id":77409378,"comment_id":136482177,"body_markdown":"If it&#39;s a custom interceptor that&#39;s enforcing these restrictions then there&#39;s not much anybody on Stack Overflow can help with here. You&#39;d have to work directly with the author(s) of the interceptor or the administrators of that service.","body":"If it&#39;s a custom interceptor that&#39;s enforcing these restrictions then there&#39;s not much anybody on Stack Overflow can help with here. You&#39;d have to work directly with the author(s) of the interceptor or the administrators of that service."},{"owner":{"account_id":123756,"reputation":4386,"user_id":318414,"accept_rate":95,"display_name":"simonalexander2005"},"score":0,"creation_date":1699025634,"post_id":77409378,"comment_id":136483129,"body_markdown":"My point is, though, Camel shouldn&#39;t be connecting and disconnecting over and over again - it should make a single subscription to the topic and then receive messages. Or even if it does need to poll, it shouldn&#39;t disconnect and reconnect each time it wants to do it","body":"My point is, though, Camel shouldn&#39;t be connecting and disconnecting over and over again - it should make a single subscription to the topic and then receive messages. Or even if it does need to poll, it shouldn&#39;t disconnect and reconnect each time it wants to do it"},{"owner":{"account_id":123756,"reputation":4386,"user_id":318414,"accept_rate":95,"display_name":"simonalexander2005"},"score":0,"creation_date":1699269161,"post_id":77409378,"comment_id":136505967,"body_markdown":"@JustinBertram see https://stackoverflow.com/questions/63120705/spring-integration-how-to-use-singleconnectionfactory-with-activemq - &quot; with each poll, it creates a new connection to the Broker - flooding my broker with hundreds of connections.&quot;","body":"@JustinBertram see <a href=\"https://stackoverflow.com/questions/63120705/spring-integration-how-to-use-singleconnectionfactory-with-activemq\" title=\"spring integration how to use singleconnectionfactory with activemq\">stackoverflow.com/questions/63120705/&hellip;</a> - &quot; with each poll, it creates a new connection to the Broker - flooding my broker with hundreds of connections.&quot;"}],"answers":[{"comments":[{"owner":{"account_id":5765894,"reputation":972,"user_id":4550871,"display_name":"Doug Grove"},"score":1,"creation_date":1699285152,"post_id":77431656,"comment_id":136509181,"body_markdown":"For clarity, it is the Spring JMS code, not the connection factory, that is doing the disconnect and reconnect.  In fact, it still does this even when using the caching connection factory.  The caching connection factory vends a proxy to Spring JMS and keeps the connection open.","body":"For clarity, it is the Spring JMS code, not the connection factory, that is doing the disconnect and reconnect.  In fact, it still does this even when using the caching connection factory.  The caching connection factory vends a proxy to Spring JMS and keeps the connection open."},{"owner":{"account_id":123756,"reputation":4386,"user_id":318414,"accept_rate":95,"display_name":"simonalexander2005"},"score":0,"creation_date":1699348973,"post_id":77431656,"comment_id":136517241,"body_markdown":"Thanks. @DougGrove do you mind if I copy that into the answer somewhere?","body":"Thanks. @DougGrove do you mind if I copy that into the answer somewhere?"},{"owner":{"account_id":5765894,"reputation":972,"user_id":4550871,"display_name":"Doug Grove"},"score":0,"creation_date":1699362985,"post_id":77431656,"comment_id":136519916,"body_markdown":"please, feel free.","body":"please, feel free."}],"tags":[],"owner":{"account_id":123756,"reputation":4386,"user_id":318414,"accept_rate":95,"display_name":"simonalexander2005"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1699372186,"creation_date":1699279234,"answer_id":77431656,"question_id":77409378,"body_markdown":"This answer: https://stackoverflow.com/questions/63120705/spring-integration-how-to-use-singleconnectionfactory-with-activemq pointed me in the right direction.\r\n\r\nEssentially, the connection factory determines the approach; and the default connection factory will disconnect and reconnect regularly.\r\n\r\n*For clarity, it is the Spring JMS code, not the connection factory, that is doing the disconnect and reconnect. In fact, it still does this even when using the solution outlined below. The caching connection factory vends a proxy to Spring JMS and keeps the connection open. Thanks to Doug Grove in the comments for pointing this out.* \r\n\r\nTo fix this, use a `SingleConnectionFactory` or its subclass, `CachingConnectionFactory` instead. \r\n\r\nNow, these can&#39;t accept user/password like the standard AMQ one can, and so you need to use a `UserCredentialsConnectionFactoryAdapter` to provide those.\r\n\r\nSimple, right?\r\n\r\nHere&#39;s some code:\r\n\r\n```java\r\nActiveMQComponent amqComponent = new ActiveMQComponent();\r\nActiveMQConnectionFactory cf = new ActiveMQConnectionFactory();\r\ncf.setBrokerURL(&quot;tcp://&quot; + amqServer + &quot;:&quot; + amqPort + &quot; jms.watchTopicAdvisories=false&quot;);\r\n       \r\nUserCredentialsConnectionFactoryAdapter uca = new UserCredentialsConnectionFactoryAdapter();\r\nuca.setUsername(amqUser);\r\nuca.setPassword(amqPassword);\r\nuca.setTargetConnectionFactory(cf);\r\n\t\t\t\r\nCachingConnectionFactory ccf = new CachingConnectionFactory(uca);\r\nccf.setClientId(amqClientID);\r\n\t\t\t\r\namqComponent.setConnectionFactory(ccf);\r\namqComponent.setMaxConcurrentConsumers(1);\r\n\t        \r\ncontext.addComponent(&quot;activemq&quot;, amqComponent);\r\n```\r\n\r\nNote also, with this approach, you can only have one Camel Route using this Caching Connection Factory. If you try to add more than one, you&#39;ll get errors on the other routes.\r\n\r\nTo fix this, you&#39;ll need to use a whole new Camel Context for each Route, and configure these connections factories on each.","title":"Camel connecting multiple times to ActiveMQ Artemis","body":"<p>This answer: <a href=\"https://stackoverflow.com/questions/63120705/spring-integration-how-to-use-singleconnectionfactory-with-activemq\">Spring Integration: How to use SingleConnectionFactory with ActiveMQ?</a> pointed me in the right direction.</p>\n<p>Essentially, the connection factory determines the approach; and the default connection factory will disconnect and reconnect regularly.</p>\n<p><em>For clarity, it is the Spring JMS code, not the connection factory, that is doing the disconnect and reconnect. In fact, it still does this even when using the solution outlined below. The caching connection factory vends a proxy to Spring JMS and keeps the connection open. Thanks to Doug Grove in the comments for pointing this out.</em></p>\n<p>To fix this, use a <code>SingleConnectionFactory</code> or its subclass, <code>CachingConnectionFactory</code> instead.</p>\n<p>Now, these can't accept user/password like the standard AMQ one can, and so you need to use a <code>UserCredentialsConnectionFactoryAdapter</code> to provide those.</p>\n<p>Simple, right?</p>\n<p>Here's some code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>ActiveMQComponent amqComponent = new ActiveMQComponent();\nActiveMQConnectionFactory cf = new ActiveMQConnectionFactory();\ncf.setBrokerURL(&quot;tcp://&quot; + amqServer + &quot;:&quot; + amqPort + &quot; jms.watchTopicAdvisories=false&quot;);\n       \nUserCredentialsConnectionFactoryAdapter uca = new UserCredentialsConnectionFactoryAdapter();\nuca.setUsername(amqUser);\nuca.setPassword(amqPassword);\nuca.setTargetConnectionFactory(cf);\n            \nCachingConnectionFactory ccf = new CachingConnectionFactory(uca);\nccf.setClientId(amqClientID);\n            \namqComponent.setConnectionFactory(ccf);\namqComponent.setMaxConcurrentConsumers(1);\n            \ncontext.addComponent(&quot;activemq&quot;, amqComponent);\n</code></pre>\n<p>Note also, with this approach, you can only have one Camel Route using this Caching Connection Factory. If you try to add more than one, you'll get errors on the other routes.</p>\n<p>To fix this, you'll need to use a whole new Camel Context for each Route, and configure these connections factories on each.</p>\n"}],"owner":{"account_id":123756,"reputation":4386,"user_id":318414,"accept_rate":95,"display_name":"simonalexander2005"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":89,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77431656,"answer_count":1,"score":0,"last_activity_date":1699372186,"creation_date":1698926318,"question_id":77409378,"body_markdown":"I am using Apache Camel to connect and subscribe to ActiveMQ Artemis feeds and forward to Kafka topics.\r\n\r\nIt runs fine for a while, but then stops with an exception: \r\n`jakarta.jms.JMSSecurityException: username &#39;x...@yy.com&#39; has too many connections`\r\n\r\nSo clearly there&#39;s something in the way Camel works that ActiveMQ Artemis, or some security settings on that side of the connection, doesn&#39;t like. I know that the feed I&#39;m connecting to does have some checks in place to prevent applications from connecting and disconnecting multiple times in quick succession; so I think I&#39;m hitting that.\r\n\r\nLooking into it, it appears that camel reconnects and pulls regularly, rather than creating a single connection (or even a single connection per Camel Route); and so I think this is causing the broker to kick me out.\r\n\r\nHas anyone else come across this? Any ideas?\r\n\r\nCode for reference:\r\n\r\n```java\r\nActiveMQComponent amqComponent = new ActiveMQComponent();\r\namqComponent.setUsername(amqUser);\r\namqComponent.setPassword(amqPassword);\r\namqComponent.setClientId(&quot;clientID&quot;);\r\n\r\nActiveMQConnectionFactory cf = new ActiveMQConnectionFactory();\r\ncf.setTrustedPackages(List.of(&quot;com...&quot;));\r\ncf.setBrokerURL(&quot;tcp://&quot; + amqServer + &quot;:&quot; + amqPort + &quot;?jms.watchTopicAdvisories=false&quot;);\r\namqComponent.setConnectionFactory(cf);\r\n//amqComponent.setMaxConcurrentConsumers(1);\r\n//amqComponent.setSubscriptionShared(true);\r\n//amqComponent.setUsePooledConnection(true);\r\n\t       \r\ncontext.addComponent(&quot;activemq&quot;, amqComponent);\r\n\r\n//...\r\n\r\nfrom(&quot;activemq:topic:&quot; + amqFeedTopic + &quot;?clientId=&quot; + clientid  + &quot;&amp;durableSubscriptionName=&quot; + clientid + &quot;-sub&quot;)\r\n                .id(clientid)\r\n                .description(&quot;Connection for &quot; + clientid)\r\n                .to(&quot;kafka:&quot; + kafkaTopic + &quot;?brokers=&quot; + kafkaBootstrapServers);\r\n```","title":"Camel connecting multiple times to ActiveMQ Artemis","body":"<p>I am using Apache Camel to connect and subscribe to ActiveMQ Artemis feeds and forward to Kafka topics.</p>\n<p>It runs fine for a while, but then stops with an exception:\n<code>jakarta.jms.JMSSecurityException: username 'x...@yy.com' has too many connections</code></p>\n<p>So clearly there's something in the way Camel works that ActiveMQ Artemis, or some security settings on that side of the connection, doesn't like. I know that the feed I'm connecting to does have some checks in place to prevent applications from connecting and disconnecting multiple times in quick succession; so I think I'm hitting that.</p>\n<p>Looking into it, it appears that camel reconnects and pulls regularly, rather than creating a single connection (or even a single connection per Camel Route); and so I think this is causing the broker to kick me out.</p>\n<p>Has anyone else come across this? Any ideas?</p>\n<p>Code for reference:</p>\n<pre class=\"lang-java prettyprint-override\"><code>ActiveMQComponent amqComponent = new ActiveMQComponent();\namqComponent.setUsername(amqUser);\namqComponent.setPassword(amqPassword);\namqComponent.setClientId(&quot;clientID&quot;);\n\nActiveMQConnectionFactory cf = new ActiveMQConnectionFactory();\ncf.setTrustedPackages(List.of(&quot;com...&quot;));\ncf.setBrokerURL(&quot;tcp://&quot; + amqServer + &quot;:&quot; + amqPort + &quot;?jms.watchTopicAdvisories=false&quot;);\namqComponent.setConnectionFactory(cf);\n//amqComponent.setMaxConcurrentConsumers(1);\n//amqComponent.setSubscriptionShared(true);\n//amqComponent.setUsePooledConnection(true);\n           \ncontext.addComponent(&quot;activemq&quot;, amqComponent);\n\n//...\n\nfrom(&quot;activemq:topic:&quot; + amqFeedTopic + &quot;?clientId=&quot; + clientid  + &quot;&amp;durableSubscriptionName=&quot; + clientid + &quot;-sub&quot;)\n                .id(clientid)\n                .description(&quot;Connection for &quot; + clientid)\n                .to(&quot;kafka:&quot; + kafkaTopic + &quot;?brokers=&quot; + kafkaBootstrapServers);\n</code></pre>\n"},{"tags":["java","jackson","java-21","sequencedset"],"comments":[{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":4,"creation_date":1699358466,"post_id":77437612,"comment_id":136519084,"body_markdown":"What actual implementation class do you expect when you only specify the interface `SequencedSet`?","body":"What actual implementation class do you expect when you only specify the interface <code>SequencedSet</code>?"},{"owner":{"account_id":19118721,"reputation":6319,"user_id":13963086,"display_name":"k314159"},"score":0,"creation_date":1699372426,"post_id":77437612,"comment_id":136522006,"body_markdown":"It&#39;s nothing to do with `SequencedSet`. It would be exactly the same if you had tried to use `Set`. You can still achieve what you want by getting Jackson to create a `LinkedHashSet` and casting it yourself to a `SequencedSet`.","body":"It&#39;s nothing to do with <code>SequencedSet</code>. It would be exactly the same if you had tried to use <code>Set</code>. You can still achieve what you want by getting Jackson to create a <code>LinkedHashSet</code> and casting it yourself to a <code>SequencedSet</code>."}],"owner":{"account_id":5992306,"reputation":3409,"user_id":4708077,"accept_rate":60,"display_name":"Fundhor"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1699372065,"creation_date":1699354435,"question_id":77437612,"body_markdown":"I have a SequencedSet, but I can&#39;t find a way to make it work with jackson deserialization.\r\n\r\nI get this error\r\n\r\n`InvalidDefinition Cannot find a deserializer for non-concrete Collection type [collection type; class java.util.SequencedSet, contains [simple type, class java.util.UUID]]`\r\n\r\nI ended up sticking with LinkedHashSet but I&#39;d like to make it work anyway ;)\r\n\r\nI ended up using LinkedHashSet","title":"How to use latest SequencedSet interface (java21) with jackson?","body":"<p>I have a SequencedSet, but I can't find a way to make it work with jackson deserialization.</p>\n<p>I get this error</p>\n<p><code>InvalidDefinition Cannot find a deserializer for non-concrete Collection type [collection type; class java.util.SequencedSet, contains [simple type, class java.util.UUID]]</code></p>\n<p>I ended up sticking with LinkedHashSet but I'd like to make it work anyway ;)</p>\n<p>I ended up using LinkedHashSet</p>\n"},{"tags":["java","spring-boot","spring-data-jpa","transactions","jooq"],"comments":[{"owner":{"account_id":247217,"reputation":213465,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"score":0,"creation_date":1699383186,"post_id":77439586,"comment_id":136523966,"body_markdown":"Your log indicates that the rollback works correctly, so what appears to be failing then?","body":"Your log indicates that the rollback works correctly, so what appears to be failing then?"},{"owner":{"account_id":18268292,"reputation":1,"user_id":13299529,"display_name":"Nh&#226;n Nguyễn"},"score":0,"creation_date":1699427174,"post_id":77439586,"comment_id":136528458,"body_markdown":"@LukasEder Yes, I&#39;ve read the logs and noticed that the rollback process is successful. However, when I check the data in the database, the data added in `NoKhoDoiService` still persists without rollback. I&#39;m really struggling to find where the issue might be.","body":"@LukasEder Yes, I&#39;ve read the logs and noticed that the rollback process is successful. However, when I check the data in the database, the data added in <code>NoKhoDoiService</code> still persists without rollback. I&#39;m really struggling to find where the issue might be."},{"owner":{"account_id":247217,"reputation":213465,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"score":0,"creation_date":1699434599,"post_id":77439586,"comment_id":136529644,"body_markdown":"I guess this is more of a Spring problem than a jOOQ one. Some hypotheses: 1) Perhaps you declared something wrong in your `CNHSoUploadNKDRepository` interface (i.e. different transaction semantics)? 2) Perhaps you injected a wrong `DataSource` to jOOQ? Does jOOQ get the same `HikariProxyConnection` instance as your logs?","body":"I guess this is more of a Spring problem than a jOOQ one. Some hypotheses: 1) Perhaps you declared something wrong in your <code>CNHSoUploadNKDRepository</code> interface (i.e. different transaction semantics)? 2) Perhaps you injected a wrong <code>DataSource</code> to jOOQ? Does jOOQ get the same <code>HikariProxyConnection</code> instance as your logs?"}],"owner":{"account_id":18268292,"reputation":1,"user_id":13299529,"display_name":"Nh&#226;n Nguyễn"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1699371777,"creation_date":1699371777,"question_id":77439586,"body_markdown":"I need some help here, I can&#39;t understand why my transactions aren&#39;t being rolled back in case of exceptions. I&#39;m using Spring Boot 3.0.11 and JOOQ 3.17.15 with an Oracle Database 12c.\r\n\r\n`JooqConfiguration`\r\n\r\n```\r\n@Configuration\r\n@EnableTransactionManagement\r\npublic class JooqConfiguration {\r\n\r\n    @Primary\r\n    @Bean\r\n    @ConfigurationProperties(prefix = &quot;spring.datasource.thutienchamno&quot;)\r\n    public DataSource dataSourceThuTienChamNo() {\r\n        return DataSourceBuilder.create().build();\r\n    }\r\n\r\n    @Bean\r\n    public DSLContext dslThuTienChamNo(@Qualifier(&quot;dataSourceThuTienChamNo&quot;) DataSource dataSource) {\r\n        return DSL.using(dataSource, SQLDialect.ORACLE);\r\n    }\r\n\r\n}\r\n```\r\n\r\n`GlobalExceptionHandlerController`\r\n\r\n```\r\n@RestControllerAdvice\r\npublic class GlobalExceptionHandlerController {\r\n    private static final Logger logger = LoggerFactory.getLogger(GlobalExceptionHandlerController.class);\r\n\r\n    @Bean\r\n    public ErrorAttributes errorAttributes() {\r\n        // Hide exception field in the return object\r\n        return new DefaultErrorAttributes() {\r\n            @Override\r\n            public Map&lt;String, Object&gt; getErrorAttributes(WebRequest webRequest, ErrorAttributeOptions options) {\r\n                return super.getErrorAttributes(webRequest, ErrorAttributeOptions.defaults().excluding(ErrorAttributeOptions.Include.EXCEPTION));\r\n            }\r\n        };\r\n    }\r\n\r\n    @ExceptionHandler(CustomException.class)\r\n    public ResponseEntity&lt;ResponseDTO&gt; handleCustomException(CustomException ex) {\r\n        ResponseDTO responseDTO = new ResponseDTO(false, ex.getMessage(), null);\r\n\r\n        logger.error(&quot;C&#243; lỗi xả ra với service Nợ kh&#243; đ&#242;i: &quot;, ex);\r\n\r\n        return ResponseEntity.status(ex.getHttpStatus()).body(responseDTO);\r\n    }\r\n\r\n    @ExceptionHandler(Exception.class)\r\n    public ResponseEntity&lt;ResponseDTO&gt; handleException(Exception ex) {\r\n        ResponseDTO responseDTO = new ResponseDTO();\r\n\r\n        // Lấy chi tiết lỗi ra\r\n        StackTraceElement[] stackTraceElement = ex.getStackTrace();\r\n        if (stackTraceElement != null &amp;&amp; stackTraceElement.length &gt; 0) {\r\n            OutputError outputError = new OutputError(stackTraceElement[0].getFileName(), stackTraceElement[0].getClassName(), stackTraceElement[0].getMethodName(), stackTraceElement[0].getLineNumber());\r\n\r\n            responseDTO = new ResponseDTO(false, &quot;C&#243; lỗi xả ra với service Nợ kh&#243; đ&#242;i: &quot; + ex.getMessage(), outputError);\r\n        } else {\r\n            responseDTO = new ResponseDTO(false, &quot;C&#243; lỗi xả ra với service Nợ kh&#243; đ&#242;i: &quot; + ex.getMessage(), null);\r\n        }\r\n\r\n        // logger.error(&quot;C&#243; lỗi xả ra với service Nợ kh&#243; đ&#242;i: &quot;, ex);\r\n\r\n        return ResponseEntity.status(HttpStatus.INTERNAL_SERVER_ERROR).body(responseDTO);\r\n    }\r\n\r\n    @ExceptionHandler(MethodArgumentNotValidException.class)\r\n    public ResponseEntity&lt;ResponseDTO&gt; handleInvalidArgument(MethodArgumentNotValidException ex, HttpServletResponse res) {\r\n        Map&lt;String, String&gt; errors = new HashMap&lt;&gt;();\r\n        ex.getBindingResult().getAllErrors().forEach((error) -&gt; {\r\n            String fieldName = ((FieldError) error).getField();\r\n            String message = error.getDefaultMessage();\r\n            errors.put(fieldName, message);\r\n        });\r\n\r\n        logger.error(&quot;C&#243; lỗi xả ra với service Nợ kh&#243; đ&#242;i: &quot;, ex);\r\n\r\n        ObjectMapper mapper = new ObjectMapper();\r\n        String jsonResult;\r\n        try {\r\n            jsonResult = mapper.writerWithDefaultPrettyPrinter().writeValueAsString(errors);\r\n\r\n            return ResponseEntity.status(HttpStatus.BAD_REQUEST).body(new ResponseDTO(false, HttpStatus.BAD_REQUEST.name(), mapper.readValue(jsonResult, Object.class)));\r\n        } catch (JsonProcessingException e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n    }\r\n\r\n    @ExceptionHandler(BindException.class)\r\n    @ResponseStatus(HttpStatus.BAD_REQUEST)\r\n    public String handleBindException(BindException e) {\r\n        // Trả về message của lỗi đầu ti&#234;n\r\n        if (e.getBindingResult().hasErrors()) {\r\n            e.getBindingResult().getAllErrors().get(0).getDefaultMessage();\r\n        }\r\n\r\n        return &quot;Request kh&#244;ng hợp lệ&quot;;\r\n    }\r\n}\r\n\r\n```\r\n\r\n`CustomException`\r\n\r\n```\r\npublic class CustomException extends RuntimeException {\r\n\r\n    private static final long serialVersionUID = 1L;\r\n\r\n    private final String message;\r\n    private final HttpStatus httpStatus;\r\n\r\n    public CustomException(String message, HttpStatus httpStatus) {\r\n        super(message);\r\n\r\n        this.message = message;\r\n        this.httpStatus = httpStatus;\r\n    }\r\n\r\n    @Override\r\n    public String getMessage() {\r\n        return message;\r\n    }\r\n\r\n    public HttpStatus getHttpStatus() {\r\n        return httpStatus;\r\n    }\r\n\r\n}\r\n```\r\n\r\n`CNHSoUploadNKDRepositoryImpl`\r\n\r\n```\r\n@Repository\r\npublic class CNHSoUploadNKDRepositoryImpl implements CNHSoUploadNKDRepository {\r\n    private final DSLContext dslContext;\r\n    CnHsoUpload cnHsoUpload = CnHsoUpload.CN_HSO_UPLOAD.as(&quot;cnHsoUpload&quot;);\r\n\r\n    public CNHSoUploadNKDRepositoryImpl(DSLContext dslContext) {\r\n        this.dslContext = dslContext;\r\n    }\r\n\r\n\r\n    @Override\r\n    public Boolean save(ThongTinHoSoNKD hoSo) {\r\n        dslContext.insertInto(cnHsoUpload)\r\n                .set(cnHsoUpload.ID_TTHAI_NO, hoSo.ID_TTHAI_NO)\r\n                .set(cnHsoUpload.MA_LOAI_HSO, hoSo.MA_LOAI_HSO)\r\n                .set(cnHsoUpload.MA_DVIQLY, hoSo.MA_DVIQLY)\r\n                .set(cnHsoUpload.ID_HSO, dslContext.nextval(Sequences.SEQ_CN_HSO_UPLOAD))\r\n                .execute();\r\n\r\n        return true;\r\n    }\r\n\r\n\r\n    @Override\r\n    public Boolean update(ThongTinHoSoNKD hoSo) {\r\n\r\n        // I intentionally handled it this way to trigger an exception to enable transaction rollback.\r\n        String aa = hoSo.MA_DVIQLY.concat(&quot;&quot;);\r\n\r\n        dslContext.update(cnHsoUpload)\r\n                .set(cnHsoUpload.ID_TTHAI_NO, hoSo.ID_TTHAI_NO)\r\n                .set(cnHsoUpload.MA_LOAI_HSO, hoSo.MA_LOAI_HSO)\r\n                .set(cnHsoUpload.MA_DVIQLY, hoSo.MA_DVIQLY)\r\n                .where(cnHsoUpload.ID_HSO.eq(hoSo.ID_HSO))\r\n                .execute();\r\n\r\n        return true;\r\n    }\r\n}\r\n```\r\n\r\n`NoKhoDoiService`\r\n\r\n```\r\n@Service\r\npublic class NoKhoDoiService {\r\n    private final CNHSoUploadNKDRepository cnhSoUploadNKDRepository;\r\n\r\n    public NoKhoDoiService(CNHSoUploadNKDRepository cnhSoUploadNKDRepository) {\r\n        super();\r\n        this.cnhSoUploadNKDRepository = cnhSoUploadNKDRepository;\r\n    }\r\n\r\n    @Transactional(propagation = Propagation.REQUIRED, rollbackFor = {CustomException.class, Exception.class, RuntimeException.class})\r\n    public void testRollBackData() throws CustomException {\r\n        ThongTinHoSoNKD thongTinHoSoNKD_1 = new ThongTinHoSoNKD(&quot;PD0601&quot;, -1l, -1l, &quot;TEST_1&quot;);\r\n        thongTinHoSoNKD_1 = cnhSoUploadNKDRepository.saveAndReturn(thongTinHoSoNKD_1);\r\n\r\n        //The code I intentionally triggered an exception, but the data inserted above is still not rolled back.\r\n        cnhSoUploadNKDRepository.update(new ThongTinHoSoNKD()); \r\n    }\r\n}\r\n```\r\n\r\n`application.yml`\r\n```\r\nserver:\r\n  port: 8804\r\n\r\nspring:\r\n  profiles:\r\n    active: debug\r\n  application:\r\n    name: service-nokhodoi\r\n  main:\r\n    allow-bean-definition-overriding: true\r\n  datasource:\r\n    type: com.zaxxer.hikari.HikariDataSource\r\n    thutienchamno:\r\n      jdbcUrl: jdbc:oracle:thin:@10.0.40.87:1522:CMIS3\r\n      username: TTIENCNO\r\n      password: TTIENCNODB27\r\n      hikari:\r\n        auto-commit: false\r\n```\r\n\r\nThat&#39;s my code. I logged the process, and when I tested it, the log output was as follows.\r\n\r\n```\r\n22:36:09.660 [http-nio-8804-exec-6] DEBUG o.s.j.support.JdbcTransactionManager - Creating new transaction with name [evn.evnict.nokhodoi.services.NoKhoDoiService.testGetData]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,-evn.evnict.nokhodoi.exceptions.CustomException,-java.lang.Exception,-java.lang.RuntimeException\r\n22:36:09.663 [http-nio-8804-exec-6] DEBUG o.s.j.support.JdbcTransactionManager - Acquired Connection [HikariProxyConnection@2110726266 wrapping oracle.jdbc.driver.T4CConnection@d7732f5] for JDBC transaction\r\n22:36:09.663 [http-nio-8804-exec-6] DEBUG o.s.j.support.JdbcTransactionManager - Switching JDBC Connection [HikariProxyConnection@2110726266 wrapping oracle.jdbc.driver.T4CConnection@d7732f5] to manual commit\r\n22:36:09.664 [http-nio-8804-exec-6] DEBUG org.jooq.tools.LoggerListener - Executing query          : select &quot;TTIENCNO&quot;.&quot;SEQ_CN_HSO_UPLOAD&quot;.nextval from DUAL\r\n22:36:09.670 [http-nio-8804-exec-6] DEBUG org.jooq.tools.LoggerListener - Fetched result           : +-------+\r\n22:36:09.670 [http-nio-8804-exec-6] DEBUG org.jooq.tools.LoggerListener -                          : |nextval|\r\n22:36:09.670 [http-nio-8804-exec-6] DEBUG org.jooq.tools.LoggerListener -                          : +-------+\r\n22:36:09.670 [http-nio-8804-exec-6] DEBUG org.jooq.tools.LoggerListener -                          : |     77|\r\n22:36:09.670 [http-nio-8804-exec-6] DEBUG org.jooq.tools.LoggerListener -                          : +-------+\r\n22:36:09.670 [http-nio-8804-exec-6] DEBUG org.jooq.tools.LoggerListener - Fetched row(s)           : 1\r\n22:36:09.671 [http-nio-8804-exec-6] DEBUG org.jooq.tools.LoggerListener - Executing query          : insert into &quot;TTIENCNO&quot;.&quot;CN_HSO_UPLOAD&quot; &quot;cnHsoUpload&quot; (&quot;ID_TTHAI_NO&quot;, &quot;MA_LOAI_HSO&quot;, &quot;MA_DVIQLY&quot;, &quot;ID_HSO&quot;) values (?, ?, ?, ?)\r\n22:36:09.671 [http-nio-8804-exec-6] DEBUG org.jooq.tools.LoggerListener - -&gt; with bind values      : insert into &quot;TTIENCNO&quot;.&quot;CN_HSO_UPLOAD&quot; &quot;cnHsoUpload&quot; (&quot;ID_TTHAI_NO&quot;, &quot;MA_LOAI_HSO&quot;, &quot;MA_DVIQLY&quot;, &quot;ID_HSO&quot;) values (-1, &#39;TEST_1&#39;, &#39;PD0601&#39;, 77)\r\n22:36:09.680 [http-nio-8804-exec-6] DEBUG org.jooq.tools.LoggerListener - Affected row(s)          : 1\r\n22:36:09.681 [http-nio-8804-exec-6] DEBUG org.jooq.tools.LoggerListener - Fetched result           : +---------+------+-----------+-----------+\r\n22:36:09.681 [http-nio-8804-exec-6] DEBUG org.jooq.tools.LoggerListener -                          : |MA_DVIQLY|ID_HSO|ID_TTHAI_NO|MA_LOAI_HSO|\r\n22:36:09.681 [http-nio-8804-exec-6] DEBUG org.jooq.tools.LoggerListener -                          : +---------+------+-----------+-----------+\r\n22:36:09.681 [http-nio-8804-exec-6] DEBUG org.jooq.tools.LoggerListener -                          : |PD0601   |    77|         -1|TEST_1     |\r\n22:36:09.681 [http-nio-8804-exec-6] DEBUG org.jooq.tools.LoggerListener -                          : +---------+------+-----------+-----------+\r\n22:36:09.681 [http-nio-8804-exec-6] DEBUG org.jooq.tools.LoggerListener - Fetched row(s)           : 1\r\n22:36:09.681 [http-nio-8804-exec-6] DEBUG o.s.j.support.JdbcTransactionManager - Initiating transaction rollback\r\n22:36:09.681 [http-nio-8804-exec-6] DEBUG o.s.j.support.JdbcTransactionManager - Rolling back JDBC transaction on Connection [HikariProxyConnection@2110726266 wrapping oracle.jdbc.driver.T4CConnection@d7732f5]\r\n22:36:09.682 [http-nio-8804-exec-6] DEBUG o.s.j.support.JdbcTransactionManager - Releasing JDBC Connection [HikariProxyConnection@2110726266 wrapping oracle.jdbc.driver.T4CConnection@d7732f5] after transaction\r\n22:36:09.683 [http-nio-8804-exec-6] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler evn.evnict.nokhodoi.exceptions.GlobalExceptionHandlerController#handleException(Exception)\r\n22:36:09.683 [http-nio-8804-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using &#39;application/json&#39;, given [application/json] and supported [application/json, application/*+json]\r\n22:36:09.683 [http-nio-8804-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ResponseDTO(success=false, message=C&#243; lỗi xả ra với service Nợ kh&#243; đ&#242;i: Cannot invoke &quot;String.concat (truncated)...]\r\n22:36:09.684 [http-nio-8804-exec-6] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [java.lang.NullPointerException: Cannot invoke &quot;String.concat(String)&quot; because &quot;hoSo.MA_DVIQLY&quot; is null]\r\n22:36:09.684 [http-nio-8804-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR\r\n22:36:09.685 [http-nio-8804-exec-6] DEBUG o.a.coyote.http11.Http11Processor - Socket: [org.apache.tomcat.util.net.NioEndpoint$NioSocketWrapper@1ab663d1:org.apache.tomcat.util.net.NioChannel@459072d5:java.nio.channels.SocketChannel[connected local=/127.0.0.1:8804 remote=/127.0.0.1:52455]], Status in: [OPEN_READ], State out: [CLOSED]\r\n22:36:09.685 [http-nio-8804-exec-6] DEBUG o.a.coyote.http11.Http11NioProtocol - Pushed Processor [org.apache.coyote.http11.Http11Processor@11b95d27]\r\n22:36:09.685 [http-nio-8804-exec-6] DEBUG o.a.tomcat.util.threads.LimitLatch - Counting down[http-nio-8804-exec-6] latch=1\r\n22:36:09.685 [http-nio-8804-exec-6] DEBUG o.apache.tomcat.util.net.NioEndpoint - Calling [org.apache.tomcat.util.net.NioEndpoint@3d68f3a5].closeSocket([org.apache.tomcat.util.net.NioEndpoint$NioSocketWrapper@1ab663d1:org.apache.tomcat.util.net.NioChannel@459072d5:java.nio.channels.SocketChannel[connected local=/127.0.0.1:8804 remote=/127.0.0.1:52455]])\r\n```\r\n\r\n\r\nI&#39;ve researched and tried various approaches, but I still can&#39;t roll back the data when an exception occurs. Can you please look at my code and help me identify where the issue might be?","title":"Spring Boot @Transactional does not roll back database inserts when I handle exceptions","body":"<p>I need some help here, I can't understand why my transactions aren't being rolled back in case of exceptions. I'm using Spring Boot 3.0.11 and JOOQ 3.17.15 with an Oracle Database 12c.</p>\n<p><code>JooqConfiguration</code></p>\n<pre><code>@Configuration\n@EnableTransactionManagement\npublic class JooqConfiguration {\n\n    @Primary\n    @Bean\n    @ConfigurationProperties(prefix = &quot;spring.datasource.thutienchamno&quot;)\n    public DataSource dataSourceThuTienChamNo() {\n        return DataSourceBuilder.create().build();\n    }\n\n    @Bean\n    public DSLContext dslThuTienChamNo(@Qualifier(&quot;dataSourceThuTienChamNo&quot;) DataSource dataSource) {\n        return DSL.using(dataSource, SQLDialect.ORACLE);\n    }\n\n}\n</code></pre>\n<p><code>GlobalExceptionHandlerController</code></p>\n<pre><code>@RestControllerAdvice\npublic class GlobalExceptionHandlerController {\n    private static final Logger logger = LoggerFactory.getLogger(GlobalExceptionHandlerController.class);\n\n    @Bean\n    public ErrorAttributes errorAttributes() {\n        // Hide exception field in the return object\n        return new DefaultErrorAttributes() {\n            @Override\n            public Map&lt;String, Object&gt; getErrorAttributes(WebRequest webRequest, ErrorAttributeOptions options) {\n                return super.getErrorAttributes(webRequest, ErrorAttributeOptions.defaults().excluding(ErrorAttributeOptions.Include.EXCEPTION));\n            }\n        };\n    }\n\n    @ExceptionHandler(CustomException.class)\n    public ResponseEntity&lt;ResponseDTO&gt; handleCustomException(CustomException ex) {\n        ResponseDTO responseDTO = new ResponseDTO(false, ex.getMessage(), null);\n\n        logger.error(&quot;Có lỗi xả ra với service Nợ khó đòi: &quot;, ex);\n\n        return ResponseEntity.status(ex.getHttpStatus()).body(responseDTO);\n    }\n\n    @ExceptionHandler(Exception.class)\n    public ResponseEntity&lt;ResponseDTO&gt; handleException(Exception ex) {\n        ResponseDTO responseDTO = new ResponseDTO();\n\n        // Lấy chi tiết lỗi ra\n        StackTraceElement[] stackTraceElement = ex.getStackTrace();\n        if (stackTraceElement != null &amp;&amp; stackTraceElement.length &gt; 0) {\n            OutputError outputError = new OutputError(stackTraceElement[0].getFileName(), stackTraceElement[0].getClassName(), stackTraceElement[0].getMethodName(), stackTraceElement[0].getLineNumber());\n\n            responseDTO = new ResponseDTO(false, &quot;Có lỗi xả ra với service Nợ khó đòi: &quot; + ex.getMessage(), outputError);\n        } else {\n            responseDTO = new ResponseDTO(false, &quot;Có lỗi xả ra với service Nợ khó đòi: &quot; + ex.getMessage(), null);\n        }\n\n        // logger.error(&quot;Có lỗi xả ra với service Nợ khó đòi: &quot;, ex);\n\n        return ResponseEntity.status(HttpStatus.INTERNAL_SERVER_ERROR).body(responseDTO);\n    }\n\n    @ExceptionHandler(MethodArgumentNotValidException.class)\n    public ResponseEntity&lt;ResponseDTO&gt; handleInvalidArgument(MethodArgumentNotValidException ex, HttpServletResponse res) {\n        Map&lt;String, String&gt; errors = new HashMap&lt;&gt;();\n        ex.getBindingResult().getAllErrors().forEach((error) -&gt; {\n            String fieldName = ((FieldError) error).getField();\n            String message = error.getDefaultMessage();\n            errors.put(fieldName, message);\n        });\n\n        logger.error(&quot;Có lỗi xả ra với service Nợ khó đòi: &quot;, ex);\n\n        ObjectMapper mapper = new ObjectMapper();\n        String jsonResult;\n        try {\n            jsonResult = mapper.writerWithDefaultPrettyPrinter().writeValueAsString(errors);\n\n            return ResponseEntity.status(HttpStatus.BAD_REQUEST).body(new ResponseDTO(false, HttpStatus.BAD_REQUEST.name(), mapper.readValue(jsonResult, Object.class)));\n        } catch (JsonProcessingException e) {\n            throw new RuntimeException(e);\n        }\n    }\n\n    @ExceptionHandler(BindException.class)\n    @ResponseStatus(HttpStatus.BAD_REQUEST)\n    public String handleBindException(BindException e) {\n        // Trả về message của lỗi đầu tiên\n        if (e.getBindingResult().hasErrors()) {\n            e.getBindingResult().getAllErrors().get(0).getDefaultMessage();\n        }\n\n        return &quot;Request không hợp lệ&quot;;\n    }\n}\n\n</code></pre>\n<p><code>CustomException</code></p>\n<pre><code>public class CustomException extends RuntimeException {\n\n    private static final long serialVersionUID = 1L;\n\n    private final String message;\n    private final HttpStatus httpStatus;\n\n    public CustomException(String message, HttpStatus httpStatus) {\n        super(message);\n\n        this.message = message;\n        this.httpStatus = httpStatus;\n    }\n\n    @Override\n    public String getMessage() {\n        return message;\n    }\n\n    public HttpStatus getHttpStatus() {\n        return httpStatus;\n    }\n\n}\n</code></pre>\n<p><code>CNHSoUploadNKDRepositoryImpl</code></p>\n<pre><code>@Repository\npublic class CNHSoUploadNKDRepositoryImpl implements CNHSoUploadNKDRepository {\n    private final DSLContext dslContext;\n    CnHsoUpload cnHsoUpload = CnHsoUpload.CN_HSO_UPLOAD.as(&quot;cnHsoUpload&quot;);\n\n    public CNHSoUploadNKDRepositoryImpl(DSLContext dslContext) {\n        this.dslContext = dslContext;\n    }\n\n\n    @Override\n    public Boolean save(ThongTinHoSoNKD hoSo) {\n        dslContext.insertInto(cnHsoUpload)\n                .set(cnHsoUpload.ID_TTHAI_NO, hoSo.ID_TTHAI_NO)\n                .set(cnHsoUpload.MA_LOAI_HSO, hoSo.MA_LOAI_HSO)\n                .set(cnHsoUpload.MA_DVIQLY, hoSo.MA_DVIQLY)\n                .set(cnHsoUpload.ID_HSO, dslContext.nextval(Sequences.SEQ_CN_HSO_UPLOAD))\n                .execute();\n\n        return true;\n    }\n\n\n    @Override\n    public Boolean update(ThongTinHoSoNKD hoSo) {\n\n        // I intentionally handled it this way to trigger an exception to enable transaction rollback.\n        String aa = hoSo.MA_DVIQLY.concat(&quot;&quot;);\n\n        dslContext.update(cnHsoUpload)\n                .set(cnHsoUpload.ID_TTHAI_NO, hoSo.ID_TTHAI_NO)\n                .set(cnHsoUpload.MA_LOAI_HSO, hoSo.MA_LOAI_HSO)\n                .set(cnHsoUpload.MA_DVIQLY, hoSo.MA_DVIQLY)\n                .where(cnHsoUpload.ID_HSO.eq(hoSo.ID_HSO))\n                .execute();\n\n        return true;\n    }\n}\n</code></pre>\n<p><code>NoKhoDoiService</code></p>\n<pre><code>@Service\npublic class NoKhoDoiService {\n    private final CNHSoUploadNKDRepository cnhSoUploadNKDRepository;\n\n    public NoKhoDoiService(CNHSoUploadNKDRepository cnhSoUploadNKDRepository) {\n        super();\n        this.cnhSoUploadNKDRepository = cnhSoUploadNKDRepository;\n    }\n\n    @Transactional(propagation = Propagation.REQUIRED, rollbackFor = {CustomException.class, Exception.class, RuntimeException.class})\n    public void testRollBackData() throws CustomException {\n        ThongTinHoSoNKD thongTinHoSoNKD_1 = new ThongTinHoSoNKD(&quot;PD0601&quot;, -1l, -1l, &quot;TEST_1&quot;);\n        thongTinHoSoNKD_1 = cnhSoUploadNKDRepository.saveAndReturn(thongTinHoSoNKD_1);\n\n        //The code I intentionally triggered an exception, but the data inserted above is still not rolled back.\n        cnhSoUploadNKDRepository.update(new ThongTinHoSoNKD()); \n    }\n}\n</code></pre>\n<p><code>application.yml</code></p>\n<pre><code>server:\n  port: 8804\n\nspring:\n  profiles:\n    active: debug\n  application:\n    name: service-nokhodoi\n  main:\n    allow-bean-definition-overriding: true\n  datasource:\n    type: com.zaxxer.hikari.HikariDataSource\n    thutienchamno:\n      jdbcUrl: jdbc:oracle:thin:@10.0.40.87:1522:CMIS3\n      username: TTIENCNO\n      password: TTIENCNODB27\n      hikari:\n        auto-commit: false\n</code></pre>\n<p>That's my code. I logged the process, and when I tested it, the log output was as follows.</p>\n<pre><code>22:36:09.660 [http-nio-8804-exec-6] DEBUG o.s.j.support.JdbcTransactionManager - Creating new transaction with name [evn.evnict.nokhodoi.services.NoKhoDoiService.testGetData]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,-evn.evnict.nokhodoi.exceptions.CustomException,-java.lang.Exception,-java.lang.RuntimeException\n22:36:09.663 [http-nio-8804-exec-6] DEBUG o.s.j.support.JdbcTransactionManager - Acquired Connection [HikariProxyConnection@2110726266 wrapping oracle.jdbc.driver.T4CConnection@d7732f5] for JDBC transaction\n22:36:09.663 [http-nio-8804-exec-6] DEBUG o.s.j.support.JdbcTransactionManager - Switching JDBC Connection [HikariProxyConnection@2110726266 wrapping oracle.jdbc.driver.T4CConnection@d7732f5] to manual commit\n22:36:09.664 [http-nio-8804-exec-6] DEBUG org.jooq.tools.LoggerListener - Executing query          : select &quot;TTIENCNO&quot;.&quot;SEQ_CN_HSO_UPLOAD&quot;.nextval from DUAL\n22:36:09.670 [http-nio-8804-exec-6] DEBUG org.jooq.tools.LoggerListener - Fetched result           : +-------+\n22:36:09.670 [http-nio-8804-exec-6] DEBUG org.jooq.tools.LoggerListener -                          : |nextval|\n22:36:09.670 [http-nio-8804-exec-6] DEBUG org.jooq.tools.LoggerListener -                          : +-------+\n22:36:09.670 [http-nio-8804-exec-6] DEBUG org.jooq.tools.LoggerListener -                          : |     77|\n22:36:09.670 [http-nio-8804-exec-6] DEBUG org.jooq.tools.LoggerListener -                          : +-------+\n22:36:09.670 [http-nio-8804-exec-6] DEBUG org.jooq.tools.LoggerListener - Fetched row(s)           : 1\n22:36:09.671 [http-nio-8804-exec-6] DEBUG org.jooq.tools.LoggerListener - Executing query          : insert into &quot;TTIENCNO&quot;.&quot;CN_HSO_UPLOAD&quot; &quot;cnHsoUpload&quot; (&quot;ID_TTHAI_NO&quot;, &quot;MA_LOAI_HSO&quot;, &quot;MA_DVIQLY&quot;, &quot;ID_HSO&quot;) values (?, ?, ?, ?)\n22:36:09.671 [http-nio-8804-exec-6] DEBUG org.jooq.tools.LoggerListener - -&gt; with bind values      : insert into &quot;TTIENCNO&quot;.&quot;CN_HSO_UPLOAD&quot; &quot;cnHsoUpload&quot; (&quot;ID_TTHAI_NO&quot;, &quot;MA_LOAI_HSO&quot;, &quot;MA_DVIQLY&quot;, &quot;ID_HSO&quot;) values (-1, 'TEST_1', 'PD0601', 77)\n22:36:09.680 [http-nio-8804-exec-6] DEBUG org.jooq.tools.LoggerListener - Affected row(s)          : 1\n22:36:09.681 [http-nio-8804-exec-6] DEBUG org.jooq.tools.LoggerListener - Fetched result           : +---------+------+-----------+-----------+\n22:36:09.681 [http-nio-8804-exec-6] DEBUG org.jooq.tools.LoggerListener -                          : |MA_DVIQLY|ID_HSO|ID_TTHAI_NO|MA_LOAI_HSO|\n22:36:09.681 [http-nio-8804-exec-6] DEBUG org.jooq.tools.LoggerListener -                          : +---------+------+-----------+-----------+\n22:36:09.681 [http-nio-8804-exec-6] DEBUG org.jooq.tools.LoggerListener -                          : |PD0601   |    77|         -1|TEST_1     |\n22:36:09.681 [http-nio-8804-exec-6] DEBUG org.jooq.tools.LoggerListener -                          : +---------+------+-----------+-----------+\n22:36:09.681 [http-nio-8804-exec-6] DEBUG org.jooq.tools.LoggerListener - Fetched row(s)           : 1\n22:36:09.681 [http-nio-8804-exec-6] DEBUG o.s.j.support.JdbcTransactionManager - Initiating transaction rollback\n22:36:09.681 [http-nio-8804-exec-6] DEBUG o.s.j.support.JdbcTransactionManager - Rolling back JDBC transaction on Connection [HikariProxyConnection@2110726266 wrapping oracle.jdbc.driver.T4CConnection@d7732f5]\n22:36:09.682 [http-nio-8804-exec-6] DEBUG o.s.j.support.JdbcTransactionManager - Releasing JDBC Connection [HikariProxyConnection@2110726266 wrapping oracle.jdbc.driver.T4CConnection@d7732f5] after transaction\n22:36:09.683 [http-nio-8804-exec-6] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler evn.evnict.nokhodoi.exceptions.GlobalExceptionHandlerController#handleException(Exception)\n22:36:09.683 [http-nio-8804-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json] and supported [application/json, application/*+json]\n22:36:09.683 [http-nio-8804-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ResponseDTO(success=false, message=Có lỗi xả ra với service Nợ khó đòi: Cannot invoke &quot;String.concat (truncated)...]\n22:36:09.684 [http-nio-8804-exec-6] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [java.lang.NullPointerException: Cannot invoke &quot;String.concat(String)&quot; because &quot;hoSo.MA_DVIQLY&quot; is null]\n22:36:09.684 [http-nio-8804-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR\n22:36:09.685 [http-nio-8804-exec-6] DEBUG o.a.coyote.http11.Http11Processor - Socket: [org.apache.tomcat.util.net.NioEndpoint$NioSocketWrapper@1ab663d1:org.apache.tomcat.util.net.NioChannel@459072d5:java.nio.channels.SocketChannel[connected local=/127.0.0.1:8804 remote=/127.0.0.1:52455]], Status in: [OPEN_READ], State out: [CLOSED]\n22:36:09.685 [http-nio-8804-exec-6] DEBUG o.a.coyote.http11.Http11NioProtocol - Pushed Processor [org.apache.coyote.http11.Http11Processor@11b95d27]\n22:36:09.685 [http-nio-8804-exec-6] DEBUG o.a.tomcat.util.threads.LimitLatch - Counting down[http-nio-8804-exec-6] latch=1\n22:36:09.685 [http-nio-8804-exec-6] DEBUG o.apache.tomcat.util.net.NioEndpoint - Calling [org.apache.tomcat.util.net.NioEndpoint@3d68f3a5].closeSocket([org.apache.tomcat.util.net.NioEndpoint$NioSocketWrapper@1ab663d1:org.apache.tomcat.util.net.NioChannel@459072d5:java.nio.channels.SocketChannel[connected local=/127.0.0.1:8804 remote=/127.0.0.1:52455]])\n</code></pre>\n<p>I've researched and tried various approaches, but I still can't roll back the data when an exception occurs. Can you please look at my code and help me identify where the issue might be?</p>\n"},{"tags":["java","powershell","windows-installer","synchronous"],"comments":[{"owner":{"account_id":285798,"reputation":19923,"user_id":584676,"accept_rate":94,"display_name":"codewario"},"score":1,"creation_date":1631114894,"post_id":69093794,"comment_id":122138065,"body_markdown":"Does this answer your question? [Java Silent installer command](https://stackoverflow.com/questions/68914609/java-silent-installer-command)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/68914609/java-silent-installer-command\">Java Silent installer command</a>"}],"answers":[{"comments":[{"owner":{"display_name":"user14029480"},"score":0,"creation_date":1631049811,"post_id":69094199,"comment_id":122118106,"body_markdown":"thanks for the lengthy response as well as being informative very helpful I appreciated a lot, I went ahead and test it and it seems to be working as intended but I&#39;m curious to know why mine using the start process msiexec.exe didn&#39;t. I have uploaded the error code on the main post.","body":"thanks for the lengthy response as well as being informative very helpful I appreciated a lot, I went ahead and test it and it seems to be working as intended but I&#39;m curious to know why mine using the start process msiexec.exe didn&#39;t. I have uploaded the error code on the main post."},{"owner":{"account_id":285798,"reputation":19923,"user_id":584676,"accept_rate":94,"display_name":"codewario"},"score":0,"creation_date":1631067529,"post_id":69094199,"comment_id":122121066,"body_markdown":"Two reasons: you stuck -Wait between msiexec arguments, it should be a direct parameter off of Start-Process, and also you did not provide the -ArgumentList parameter as an array of strings. See the code block where I set $msiExecArgs and the explanation following it, and compare it to your code. If you still don&#39;t understand, I will try to explain further when I&#39;m not on mobile.","body":"Two reasons: you stuck -Wait between msiexec arguments, it should be a direct parameter off of Start-Process, and also you did not provide the -ArgumentList parameter as an array of strings. See the code block where I set $msiExecArgs and the explanation following it, and compare it to your code. If you still don&#39;t understand, I will try to explain further when I&#39;m not on mobile."}],"tags":[],"owner":{"account_id":285798,"reputation":19923,"user_id":584676,"accept_rate":94,"display_name":"codewario"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1631111653,"creation_date":1631046353,"answer_id":69094199,"question_id":69093794,"body_markdown":"`msiexec.exe` is a GUI tool, and Windows CLI (Command Prompt or PowerShell) will not block by default. Conversely, console applications will block by default. In PowerShell, you can alter this default behavior (as well as gain additional control and information about the child process) by using `Start-Process`.\r\n\r\n&gt; **Note:** This answer focuses on `Start-Process` but the equivalent way to force a program to wait before continuing in the Command Prompt or `.bat` script is\r\n&gt; \r\n&gt; ```\r\n&gt; start &quot;title&quot; /WAIT [command/program] [parameters]\r\n&gt; ```\r\n&gt; Note that the &quot;title&quot; can be a blank string `&quot;&quot;`.\r\n---\r\n\r\nSince you&#39;ve updated your question with your `Start-Process` attempt, it failed because you provided the `-Wait` parameter in the middle of the `-ArgumentList` arguments. `-ArgumentList` is defined specially, so all remaining positional arguments following it are considered part of it. The problem is when you stick another named parameter there, you&#39;ve now broken the chain of arguments. The solution is shown below, but make sure you provide the `-ArgumentList` arguments without separating them with other parameters to `Start-Process`:\r\n\r\n```powershell\r\n$msiExecArgs = @(\r\n  &#39;/i&#39;,\r\n  &#39;C:\\MagtekCC\\Files\\Java\\jre1.8.0_144.msi&#39;,\r\n  &#39;/QN&#39;,\r\n  &#39;/L*V&#39;, &#39;C:\\Temp\\msilog.log&#39;,\r\n  &#39;TRANSFORMS=&quot;jre1.8.0_144.mst&#39;\r\n) -join &#39; &#39;\r\n\r\nStart-Process msiexec -Wait -ArgumentList $msiExecArgs\r\n```\r\n\r\nThis works in the following way:\r\n\r\n- Create an array of `msiexec` arguments. This can be an array of each space-separated argument you would normally pass to `msiexec.exe` in the same order you would specify interactively. Alternatively, you can also provide it as a single string. Read the sub-point below to understand why I declare this as an array only to `-join` it to a string.\r\n  - [Due to this bug][1] providing arguments as a string is recommended, and is why I took the array arguments and use `-join` to create a space-delimited string out of them. The array code is a bit easier to manage as now we don&#39;t have to use `+=` (gross and not recommended) or `StringBuilder` (recommended over `+=` but overkill for building an array of arguments) and we still get the string which avoids the bug. \r\n- `-Wait` tells `Start-Process` to block further execution until the program exits.\r\n- `-ArgumentList` is used to pass our array of `$msiExecArgs` arguments to `msiexec`.\r\n\r\n---\r\n\r\n&gt; **Note:** A prior revision of this answer incorrectly stated that `Start-Process` needs&lt;br/&gt;`-Wait:$false` in order not to block on execution for CLI applications. While the default behavior for external programs is to block for CLI and not block for GUI, `Start-Process` actually ignores this and does not block by default regardless of the program type. Use the `-Wait` parameter to block, and omit or provide `-Wait:$false` not to block.\r\n\r\nConversely, if you wanted to run a CLI program in the background, do the same thing as above but omit the `-Wait` parameter instead (you will probably want to check the result as well which requires a little extra elbow-grease with `-PassThru` so we can check whether it&#39;s done and its exit code):\r\n\r\n```powershell\r\n$p = Start-Process ping -PassThru -ArgumentList www.google.com\r\n\r\n# Do other stuff, then check the result when ready\r\nWrite-Host &quot;Checking that ping.exe has finished&quot;\r\nwhile( !$p.HasExited ) {\r\n\r\n  # Wait 1 second before checking again\r\n  Start-Sleep 1\r\n}\r\n\r\nif( $p.ExitCode -ne 0 ) {\r\n  Write-Error &quot;ping failed with exit code $($p.ExitCode)&quot;\r\n}\r\n```\r\n\r\n- Using `ping.exe` as an example, we run it through `Start-Process`. `ping.exe` is a console application, and would normally block until execution completes.\r\n- `-PassThru` is used to tell `Start-Process` to return the `Process` object. `Start-Process` does not return anything by default, but in this case we later want to check that this is done running and whether it succeeded. This is optional but required to check the result later on.\r\n- The `while` loop waits for `$p.HasExited` to return true. `Process.HasExited` is used to determine whether the process execution has finished, regardless of success or failure.\r\n- The `if` statement checks that the exit code of the `Process` object returned `0`. As a matter of standard, a program can normally be considered successful if it returns `0`, though you can specify an array of acceptable exit codes should a program use other codes for different end states.\r\n\r\n---\r\n\r\nThere are other things you can do with the process object as well, play around with it. However, while `Start-Process` can be a powerful tool it is often overused, unnecessarily complicating code which does not need it. While your use case for MSIEXEC is a perfect example of when to use it, oftentimes you can simplify the use of `Start-Process` by omitting it altogether and relying instead on the call operator `&amp;` to execute programs.\r\n\r\n\r\n  [1]: https://github.com/PowerShell/PowerShell/issues/5576","title":"Java MSI silent installer","body":"<p><code>msiexec.exe</code> is a GUI tool, and Windows CLI (Command Prompt or PowerShell) will not block by default. Conversely, console applications will block by default. In PowerShell, you can alter this default behavior (as well as gain additional control and information about the child process) by using <code>Start-Process</code>.</p>\n<blockquote>\n<p><strong>Note:</strong> This answer focuses on <code>Start-Process</code> but the equivalent way to force a program to wait before continuing in the Command Prompt or <code>.bat</code> script is</p>\n<pre><code>start &quot;title&quot; /WAIT [command/program] [parameters]\n</code></pre>\n<p>Note that the &quot;title&quot; can be a blank string <code>&quot;&quot;</code>.</p>\n</blockquote>\n<hr />\n<p>Since you've updated your question with your <code>Start-Process</code> attempt, it failed because you provided the <code>-Wait</code> parameter in the middle of the <code>-ArgumentList</code> arguments. <code>-ArgumentList</code> is defined specially, so all remaining positional arguments following it are considered part of it. The problem is when you stick another named parameter there, you've now broken the chain of arguments. The solution is shown below, but make sure you provide the <code>-ArgumentList</code> arguments without separating them with other parameters to <code>Start-Process</code>:</p>\n<pre><code>$msiExecArgs = @(\n  '/i',\n  'C:\\MagtekCC\\Files\\Java\\jre1.8.0_144.msi',\n  '/QN',\n  '/L*V', 'C:\\Temp\\msilog.log',\n  'TRANSFORMS=&quot;jre1.8.0_144.mst'\n) -join ' '\n\nStart-Process msiexec -Wait -ArgumentList $msiExecArgs\n</code></pre>\n<p>This works in the following way:</p>\n<ul>\n<li>Create an array of <code>msiexec</code> arguments. This can be an array of each space-separated argument you would normally pass to <code>msiexec.exe</code> in the same order you would specify interactively. Alternatively, you can also provide it as a single string. Read the sub-point below to understand why I declare this as an array only to <code>-join</code> it to a string.\n<ul>\n<li><a href=\"https://github.com/PowerShell/PowerShell/issues/5576\" rel=\"nofollow noreferrer\">Due to this bug</a> providing arguments as a string is recommended, and is why I took the array arguments and use <code>-join</code> to create a space-delimited string out of them. The array code is a bit easier to manage as now we don't have to use <code>+=</code> (gross and not recommended) or <code>StringBuilder</code> (recommended over <code>+=</code> but overkill for building an array of arguments) and we still get the string which avoids the bug.</li>\n</ul>\n</li>\n<li><code>-Wait</code> tells <code>Start-Process</code> to block further execution until the program exits.</li>\n<li><code>-ArgumentList</code> is used to pass our array of <code>$msiExecArgs</code> arguments to <code>msiexec</code>.</li>\n</ul>\n<hr />\n<blockquote>\n<p><strong>Note:</strong> A prior revision of this answer incorrectly stated that <code>Start-Process</code> needs<br/><code>-Wait:$false</code> in order not to block on execution for CLI applications. While the default behavior for external programs is to block for CLI and not block for GUI, <code>Start-Process</code> actually ignores this and does not block by default regardless of the program type. Use the <code>-Wait</code> parameter to block, and omit or provide <code>-Wait:$false</code> not to block.</p>\n</blockquote>\n<p>Conversely, if you wanted to run a CLI program in the background, do the same thing as above but omit the <code>-Wait</code> parameter instead (you will probably want to check the result as well which requires a little extra elbow-grease with <code>-PassThru</code> so we can check whether it's done and its exit code):</p>\n<pre><code>$p = Start-Process ping -PassThru -ArgumentList www.google.com\n\n# Do other stuff, then check the result when ready\nWrite-Host &quot;Checking that ping.exe has finished&quot;\nwhile( !$p.HasExited ) {\n\n  # Wait 1 second before checking again\n  Start-Sleep 1\n}\n\nif( $p.ExitCode -ne 0 ) {\n  Write-Error &quot;ping failed with exit code $($p.ExitCode)&quot;\n}\n</code></pre>\n<ul>\n<li>Using <code>ping.exe</code> as an example, we run it through <code>Start-Process</code>. <code>ping.exe</code> is a console application, and would normally block until execution completes.</li>\n<li><code>-PassThru</code> is used to tell <code>Start-Process</code> to return the <code>Process</code> object. <code>Start-Process</code> does not return anything by default, but in this case we later want to check that this is done running and whether it succeeded. This is optional but required to check the result later on.</li>\n<li>The <code>while</code> loop waits for <code>$p.HasExited</code> to return true. <code>Process.HasExited</code> is used to determine whether the process execution has finished, regardless of success or failure.</li>\n<li>The <code>if</code> statement checks that the exit code of the <code>Process</code> object returned <code>0</code>. As a matter of standard, a program can normally be considered successful if it returns <code>0</code>, though you can specify an array of acceptable exit codes should a program use other codes for different end states.</li>\n</ul>\n<hr />\n<p>There are other things you can do with the process object as well, play around with it. However, while <code>Start-Process</code> can be a powerful tool it is often overused, unnecessarily complicating code which does not need it. While your use case for MSIEXEC is a perfect example of when to use it, oftentimes you can simplify the use of <code>Start-Process</code> by omitting it altogether and relying instead on the call operator <code>&amp;</code> to execute programs.</p>\n"},{"comments":[{"owner":{"account_id":285798,"reputation":19923,"user_id":584676,"accept_rate":94,"display_name":"codewario"},"score":0,"creation_date":1631111209,"post_id":69096536,"comment_id":122136365,"body_markdown":"Neat trick with piping to `Out-Null` to block execution. Is this behavior only with `Out-Null` or does this extend to piping the down the pipeline in general? E.g. would piping to `Write-Output` or `Write-Verbose` work?","body":"Neat trick with piping to <code>Out-Null</code> to block execution. Is this behavior only with <code>Out-Null</code> or does this extend to piping the down the pipeline in general? E.g. would piping to <code>Write-Output</code> or <code>Write-Verbose</code> work?"},{"owner":{"account_id":285798,"reputation":19923,"user_id":584676,"accept_rate":94,"display_name":"codewario"},"score":0,"creation_date":1631111938,"post_id":69096536,"comment_id":122136710,"body_markdown":"That&#39;s not necessarily true. GUI applications can be made to write to STDOUT and STDERR, and if run in the console will write output to the console. I used to work on software which did this. Although admittedly I may be remembering this backwards, that project might have been built as a console application that then invoked GUI components; which would support what you said as it would still technically be built as a console application.","body":"That&#39;s not necessarily true. GUI applications can be made to write to STDOUT and STDERR, and if run in the console will write output to the console. I used to work on software which did this. Although admittedly I may be remembering this backwards, that project might have been built as a console application that then invoked GUI components; which would support what you said as it would still technically be built as a console application."},{"owner":{"account_id":285798,"reputation":19923,"user_id":584676,"accept_rate":94,"display_name":"codewario"},"score":0,"creation_date":1631112085,"post_id":69096536,"comment_id":122136772,"body_markdown":"However, [is it still possible](https://stackoverflow.com/a/9943162/584676) to write to the console using an executable built Windows Application","body":"However, <a href=\"https://stackoverflow.com/a/9943162/584676\">is it still possible</a> to write to the console using an executable built Windows Application"},{"owner":{"account_id":285798,"reputation":19923,"user_id":584676,"accept_rate":94,"display_name":"codewario"},"score":0,"creation_date":1631112827,"post_id":69096536,"comment_id":122137108,"body_markdown":"I&#39;ve done this in two cases: programs which have already been defined as GUI applications which then need to later provide console output. Changing the program type could be considered a breaking change in some contexts in part due to the differing execution behavior. The second case is to provide debug or trace level output to a program already defined as a GUI application. Usually I would agree and not recommend this approach, but the suite of products I was working on at the time was somewhat bespoke functionality and changing the program to console broke some things for key customers.","body":"I&#39;ve done this in two cases: programs which have already been defined as GUI applications which then need to later provide console output. Changing the program type could be considered a breaking change in some contexts in part due to the differing execution behavior. The second case is to provide debug or trace level output to a program already defined as a GUI application. Usually I would agree and not recommend this approach, but the suite of products I was working on at the time was somewhat bespoke functionality and changing the program to console broke some things for key customers."},{"owner":{"account_id":285798,"reputation":19923,"user_id":584676,"accept_rate":94,"display_name":"codewario"},"score":0,"creation_date":1631112834,"post_id":69096536,"comment_id":122137110,"body_markdown":"So while uncommon, and maybe not recommended, piping to something other than `Out-Null` would catch these (technically correct, the best kind of &quot;correct&quot; `;)`) edge cases.","body":"So while uncommon, and maybe not recommended, piping to something other than <code>Out-Null</code> would catch these (technically correct, the best kind of &quot;correct&quot; <code>;)</code>) edge cases."},{"owner":{"account_id":285798,"reputation":19923,"user_id":584676,"accept_rate":94,"display_name":"codewario"},"score":0,"creation_date":1631113489,"post_id":69096536,"comment_id":122137444,"body_markdown":"I don&#39;t understand; external programs STDOUT get written to the success stream. Why would it matter whether it&#39;s a GUI or console application as long as you either redirect process output (not possible directly with `Start-Process`, you would need to go full `[Thread]::Start(ProcessStartInfo)` for this) or specify `Start-Process -NoNewWindow`?","body":"I don&#39;t understand; external programs STDOUT get written to the success stream. Why would it matter whether it&#39;s a GUI or console application as long as you either redirect process output (not possible directly with <code>Start-Process</code>, you would need to go full <code>[Thread]::Start(ProcessStartInfo)</code> for this) or specify <code>Start-Process -NoNewWindow</code>?"},{"owner":{"account_id":19375,"reputation":396793,"user_id":45375,"display_name":"mklement0"},"score":0,"creation_date":1631117299,"post_id":69096536,"comment_id":122139118,"body_markdown":"@BendertheGreatest, I stand corrected: stdout output from a directly invoked GUI that is forced into synchronous execution with an additional pipeline segment _is_ passed through the success output stream, so I&#39;ve changed the answer to recommend `Write-Output` instead - please see the footnote. Note that with `Start-Process` you&#39;d use `-RedirectStandardOutput` / `-RedirectStandardErr` to _capture_ such output; to simply _see_ it in the current console (without being able to capture it), yes, `-NoNewWindow` works.","body":"@BendertheGreatest, I stand corrected: stdout output from a directly invoked GUI that is forced into synchronous execution with an additional pipeline segment <i>is</i> passed through the success output stream, so I&#39;ve changed the answer to recommend <code>Write-Output</code> instead - please see the footnote. Note that with <code>Start-Process</code> you&#39;d use <code>-RedirectStandardOutput</code> / <code>-RedirectStandardErr</code> to <i>capture</i> such output; to simply <i>see</i> it in the current console (without being able to capture it), yes, <code>-NoNewWindow</code> works."},{"owner":{"account_id":285798,"reputation":19923,"user_id":584676,"accept_rate":94,"display_name":"codewario"},"score":0,"creation_date":1631131405,"post_id":69096536,"comment_id":122144121,"body_markdown":"Now I recall; `-RedirectStandard*` outputs to a file. This works but I prefer variables especially if I need to run a process multiple times. Oftentimes I absolutely don&#39;t want output going to a file and would rather keep it in memory. `[Process]::Start(ProcessStartInfo)` lets you read STDOUT and STDERR from the returned `Process` object instead. I can&#39;t recall, but I *think* I&#39;ve tried outputting to a `Variable:\\ ` path and was met with an error.","body":"Now I recall; <code>-RedirectStandard*</code> outputs to a file. This works but I prefer variables especially if I need to run a process multiple times. Oftentimes I absolutely don&#39;t want output going to a file and would rather keep it in memory. <code>[Process]::Start(ProcessStartInfo)</code> lets you read STDOUT and STDERR from the returned <code>Process</code> object instead. I can&#39;t recall, but I <i>think</i> I&#39;ve tried outputting to a <code>Variable:\\ </code> path and was met with an error."},{"owner":{"account_id":285798,"reputation":19923,"user_id":584676,"accept_rate":94,"display_name":"codewario"},"score":0,"creation_date":1631131893,"post_id":69096536,"comment_id":122144289,"body_markdown":"Confirmed, using `Start-Process ping -ArgumentList google.com -RedirectStandardOutput Variable:\\pingOutput` is met with an error: `Cannot open file because the current provider (Microsoft.PowerShell.Core\\Variable) cannot open a file`. My guess is `Start-Process` explicitly opens a `FileStream` which the `Variable` provider doesn&#39;t support.","body":"Confirmed, using <code>Start-Process ping -ArgumentList google.com -RedirectStandardOutput Variable:\\pingOutput</code> is met with an error: <code>Cannot open file because the current provider (Microsoft.PowerShell.Core\\Variable) cannot open a file</code>. My guess is <code>Start-Process</code> explicitly opens a <code>FileStream</code> which the <code>Variable</code> provider doesn&#39;t support."},{"owner":{"account_id":19375,"reputation":396793,"user_id":45375,"display_name":"mklement0"},"score":1,"creation_date":1631133164,"post_id":69096536,"comment_id":122144703,"body_markdown":"@BendertheGreatest, yes, these parameters only support capturing stream output _in files_ (and you can&#39;t _merge_ streams unless you call _via a shell_ and make `2&gt;&amp;1` part of the shell command). It would indeed be nice to be able to capture in _variables_, as direct execution can do (but not separately with `2&gt;`);allowing namespace notation (`variable:output`) wherever file paths are expected would make for a great _future enhancement_, discussed in [GitHub issue #5184](https://github.com/PowerShell/PowerShell/issues/5184) and [#4332](https://github.com/PowerShell/PowerShell/issues/4332)","body":"@BendertheGreatest, yes, these parameters only support capturing stream output <i>in files</i> (and you can&#39;t <i>merge</i> streams unless you call <i>via a shell</i> and make <code>2&gt;&amp;1</code> part of the shell command). It would indeed be nice to be able to capture in <i>variables</i>, as direct execution can do (but not separately with <code>2&gt;</code>);allowing namespace notation (<code>variable:output</code>) wherever file paths are expected would make for a great <i>future enhancement</i>, discussed in <a href=\"https://github.com/PowerShell/PowerShell/issues/5184\" rel=\"nofollow noreferrer\">GitHub issue #5184</a> and <a href=\"https://github.com/PowerShell/PowerShell/issues/4332\" rel=\"nofollow noreferrer\">#4332</a>"},{"owner":{"account_id":19375,"reputation":396793,"user_id":45375,"display_name":"mklement0"},"score":1,"creation_date":1699371540,"post_id":69096536,"comment_id":136521812,"body_markdown":"Thanks for fixing the typo, @JakeRobb.","body":"Thanks for fixing the typo, @JakeRobb."}],"tags":[],"owner":{"account_id":19375,"reputation":396793,"user_id":45375,"display_name":"mklement0"},"comment_count":11,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1699371506,"creation_date":1631070569,"answer_id":69096536,"question_id":69093794,"body_markdown":"&lt;!-- language-all: sh --&gt;\r\n\r\n`msiexec.exe` is unusual in that, while it has an extensive CLI (command-line interface) with many supported parameters, it is a _GUI_-subsystem executable that runs independently of any calling console.\r\n\r\n**PowerShell runs GUI-subsystem executables _asynchronously_ when you invoke them directly**; that is, unlike with _console_-subsystem executables, it _doesn&#39;t wait for the executable to terminate_ before continuing.\r\n\r\nWhile **[`Start-Process`](https://learn.microsoft.com/powershell/module/microsoft.powershell.management/start-process) `-Wait`** is indeed the typical way to **invoke a GUI-subsystem executable _synchronously_**, there is also a **convenient _shortcut_**:\r\n\r\nIf you **pipe to [`Write-Output`](https://learn.microsoft.com/powershell/module/microsoft.powershell.core/out-null)**:&lt;sup&gt;[1]&lt;/sup&gt;\r\n\r\n* **PowerShell _will_ wait for the executable(&#39;s process) to terminate**, even if it is a GUI-subsystem application.\r\n\r\n   * Note: **If you know that the GUI application produces _no stdout output_ - and _not_ doing so is typical - you can also pipe to `Wait-Process` for better conceptual clarity** or, if you want **to _suppress_ any stdout output, pipe to `Out-Null`**  (again, see footnote [1])\r\n\r\n* Additionally, **the [automatic `$LASTEXITCODE` variable](https://learn.microsoft.com/en-us/powershell/module/microsoft.powershell.core/about/about_Automatic_Variables#lastexitcode) will properly reflect the process&#39; exit code** (which not many _GUI_-subsystem executables meaningfully set, but `misexec.exe` does), allowing you to infer _success_ (exit code `0`) vs. _failure_ (any _nonzero_ exit code), by convention.\r\n   * That said, **`msiexec.exe` uses two _nonzero_ exit codes that _also_ indicate - qualified - success** (see [the docs](https://learn.microsoft.com/en-us/windows/win32/msi/error-codes) for a full list of exit / error codes and their description):\r\n      * `3010` (`ERROR_SUCCESS_REBOOT_REQUIRED`)\r\n      * `1641` (`ERROR_SUCCESS_REBOOT_INITIATED`)\r\n\r\nTherefore, you can use the following:\r\n\r\n```\r\n# Note the `| Write-Output` at the end of the line, which ensures *synchronous* execution.\r\nmsiexec.exe /i &quot;C:\\MagtekCC\\Files\\Java\\jre1.8.0_144.msi&quot; /QN TRANSFORMS=&quot;jre1.8.0_144.mst&quot; /L*V &quot;C:\\Temp\\msilog.log&quot; | Write-Output\r\n$exitCode = $LASTEXITCODE\r\n\r\nWrite-Host -ForegroundColor Cyan &quot;Installation finished with exit code $exitCode.&quot;\r\n```\r\n\r\n---\r\n\r\n**Alternatively**, pass the `msiexec` command line to ***`cmd.exe`* via its `/c` parameter**, which:\r\n  * *implicitly* makes the call synchronous (and also sets `$LASTEXITCODE`)\r\n  * ***preserves the original quoting*, which is necessary if you pass property values with _embedded spaces_**, e.g. `MYPROP=&quot;foo bar&quot;` is then passed exactly as such, whereas _PowerShell_ would convert this argument to `&quot;MYPROP=foo bar&quot;` when it rebuilds the actual command line behind the scenes, which `msiexec.exe` doesn&#39;t recognize.\r\n\r\n```\r\ncmd /c @&quot;\r\nmsiexec.exe /i &quot;C:\\MagtekCC\\Files\\Java\\jre1.8.0_144.msi&quot; /QN TRANSFORMS=&quot;jre1.8.0_144.mst&quot; /L*V &quot;C:\\Temp\\msilog.log&quot;\r\n&quot;@\r\n$exitCode = $LASTEXITCODE\r\n\r\nWrite-Host -ForegroundColor Cyan &quot;Installation finished with exit code $exitCode.&quot;\r\n```\r\n\r\nNote the use of a [here-string](https://learn.microsoft.com/en-us/powershell/module/microsoft.powershell.core/about/about_Quoting_Rules#here-strings) (`@&quot;&lt;newline&gt;...&lt;newline&gt;&quot;@` in this example to make embedded quoting easier.\r\n\r\n\r\n---\r\n\r\nThe above solutions are more convenient alternatives to the following **`Start-Process -Wait` solution**, which additionally uses `-PassThru` to pass an object representing the launched process through, so that its `.ExitCode` property can be checked:\r\n\r\n```\r\n$exitCode = (Start-Process -Wait -NoNewWindow -PassThru msiexec.exe @&#39;\r\n/i &quot;C:\\MagtekCC\\Files\\Java\\jre1.8.0_144.msi&quot; /QN TRANSFORMS=&quot;jre1.8.0_144.mst&quot; /L*V &quot;C:\\Temp\\msilog.log&quot;\r\n&#39;@).ExitCode\r\n\r\nWrite-Host -ForegroundColor Cyan &quot;Installation finished with exit code $exitCode.&quot;\r\n```\r\n\r\nNote how **_all_ arguments for `misexec.exe` are passed _as a single string_ to `Start-Process`** (using a [here-string](https://learn.microsoft.com/en-us/powershell/module/microsoft.powershell.core/about/about_Quoting_Rules#here-strings) for readability here), which positionally binds to the `-ArgumentList` parameter.\r\n\r\nWhile the `-ArgumentList` parameter technically accepts an _array_ of arguments - i.e. allows you to pass arguments _individually_ - a long-standing bugs makes that unadvisable - see [this answer](https://stackoverflow.com/a/62784608/45375).\r\n\r\n---\r\n\r\nAs for **what you tried**:\r\n\r\nYour `Start-Process -Wait` call failed, because you ended up passing _more than two_ positional arguments:\r\n\r\n```\r\nstart-process msiexec.exe  &quot;/i ...&quot; -wait /QN ...\r\n```\r\n\r\n* `msiexec.exe` positionally binds to the `-FilePath` parameter.\r\n* Only the `&quot;/i ...&quot;` argument positionally argument binds to the `-ArgumentList` parameter.   \r\n* Since no other `Start-Process` parameters support positional binding, `Start-Process` doesn&#39;t know what to do with `/QN` (and all subsequent positional (unnamed) arguments), which is what the error message in your question indicates.\r\n\r\n\r\nNote: If you did want to pass parameters _individually_ - which is best avoided, as stated above - you&#39;d have to pass them  as an _array_, separated by `,`  \r\n(`Start-Process -Wait msiexec.exe &#39;/i&#39;, ...`)\r\n\r\n---\r\n\r\n&lt;sup&gt;[1] Note that _any_ command in a subsequent pipeline segment works to ensure synchronous execution, because PowerShell always has to wait for the preceding segment&#39;s command to terminate, so as to ensure that all input has been received; While it ultimately doesn&#39;t matter what command you choose, `Write-Output`, which in this case will _typically_ be a no-op, has the advantage of passing stdout output through so that it becomes visible / can be captured, _if_ the GUI application at hand produces such output, which is rare (append `2&gt;&amp;1` to the GUI-application call to also capture _stderr_ output). As [Bender the Greatest](https://stackoverflow.com/users/584676/bender-the-greatest) points out, some GUI applications do so in order to produce _debugging output_, by explicitly [_attaching to the caller&#39;s console_](https://stackoverflow.com/a/9943162/584676). If you&#39;d rather _suppress_ this information, pipe to `Out-Null` instead.&lt;/sup&gt;\r\n\r\n&lt;!-- character limits are dumb: https://meta.stackexchange.com/a/90014/238319 --&gt;","title":"Java MSI silent installer","body":"\n<p><code>msiexec.exe</code> is unusual in that, while it has an extensive CLI (command-line interface) with many supported parameters, it is a <em>GUI</em>-subsystem executable that runs independently of any calling console.</p>\n<p><strong>PowerShell runs GUI-subsystem executables <em>asynchronously</em> when you invoke them directly</strong>; that is, unlike with <em>console</em>-subsystem executables, it <em>doesn't wait for the executable to terminate</em> before continuing.</p>\n<p>While <strong><a href=\"https://learn.microsoft.com/powershell/module/microsoft.powershell.management/start-process\" rel=\"nofollow noreferrer\"><code>Start-Process</code></a> <code>-Wait</code></strong> is indeed the typical way to <strong>invoke a GUI-subsystem executable <em>synchronously</em></strong>, there is also a <strong>convenient <em>shortcut</em></strong>:</p>\n<p>If you <strong>pipe to <a href=\"https://learn.microsoft.com/powershell/module/microsoft.powershell.core/out-null\" rel=\"nofollow noreferrer\"><code>Write-Output</code></a></strong>:<sup>[1]</sup></p>\n<ul>\n<li><p><strong>PowerShell <em>will</em> wait for the executable('s process) to terminate</strong>, even if it is a GUI-subsystem application.</p>\n<ul>\n<li>Note: <strong>If you know that the GUI application produces <em>no stdout output</em> - and <em>not</em> doing so is typical - you can also pipe to <code>Wait-Process</code> for better conceptual clarity</strong> or, if you want <strong>to <em>suppress</em> any stdout output, pipe to <code>Out-Null</code></strong>  (again, see footnote [1])</li>\n</ul>\n</li>\n<li><p>Additionally, <strong>the <a href=\"https://learn.microsoft.com/en-us/powershell/module/microsoft.powershell.core/about/about_Automatic_Variables#lastexitcode\" rel=\"nofollow noreferrer\">automatic <code>$LASTEXITCODE</code> variable</a> will properly reflect the process' exit code</strong> (which not many <em>GUI</em>-subsystem executables meaningfully set, but <code>misexec.exe</code> does), allowing you to infer <em>success</em> (exit code <code>0</code>) vs. <em>failure</em> (any <em>nonzero</em> exit code), by convention.</p>\n<ul>\n<li>That said, <strong><code>msiexec.exe</code> uses two <em>nonzero</em> exit codes that <em>also</em> indicate - qualified - success</strong> (see <a href=\"https://learn.microsoft.com/en-us/windows/win32/msi/error-codes\" rel=\"nofollow noreferrer\">the docs</a> for a full list of exit / error codes and their description):\n<ul>\n<li><code>3010</code> (<code>ERROR_SUCCESS_REBOOT_REQUIRED</code>)</li>\n<li><code>1641</code> (<code>ERROR_SUCCESS_REBOOT_INITIATED</code>)</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<p>Therefore, you can use the following:</p>\n<pre class=\"lang-bash prettyprint-override\"><code># Note the `| Write-Output` at the end of the line, which ensures *synchronous* execution.\nmsiexec.exe /i &quot;C:\\MagtekCC\\Files\\Java\\jre1.8.0_144.msi&quot; /QN TRANSFORMS=&quot;jre1.8.0_144.mst&quot; /L*V &quot;C:\\Temp\\msilog.log&quot; | Write-Output\n$exitCode = $LASTEXITCODE\n\nWrite-Host -ForegroundColor Cyan &quot;Installation finished with exit code $exitCode.&quot;\n</code></pre>\n<hr />\n<p><strong>Alternatively</strong>, pass the <code>msiexec</code> command line to <strong><em><code>cmd.exe</code></em> via its <code>/c</code> parameter</strong>, which:</p>\n<ul>\n<li><em>implicitly</em> makes the call synchronous (and also sets <code>$LASTEXITCODE</code>)</li>\n<li><strong><em>preserves the original quoting</em>, which is necessary if you pass property values with <em>embedded spaces</em></strong>, e.g. <code>MYPROP=&quot;foo bar&quot;</code> is then passed exactly as such, whereas <em>PowerShell</em> would convert this argument to <code>&quot;MYPROP=foo bar&quot;</code> when it rebuilds the actual command line behind the scenes, which <code>msiexec.exe</code> doesn't recognize.</li>\n</ul>\n<pre class=\"lang-bash prettyprint-override\"><code>cmd /c @&quot;\nmsiexec.exe /i &quot;C:\\MagtekCC\\Files\\Java\\jre1.8.0_144.msi&quot; /QN TRANSFORMS=&quot;jre1.8.0_144.mst&quot; /L*V &quot;C:\\Temp\\msilog.log&quot;\n&quot;@\n$exitCode = $LASTEXITCODE\n\nWrite-Host -ForegroundColor Cyan &quot;Installation finished with exit code $exitCode.&quot;\n</code></pre>\n<p>Note the use of a <a href=\"https://learn.microsoft.com/en-us/powershell/module/microsoft.powershell.core/about/about_Quoting_Rules#here-strings\" rel=\"nofollow noreferrer\">here-string</a> (<code>@&quot;&lt;newline&gt;...&lt;newline&gt;&quot;@</code> in this example to make embedded quoting easier.</p>\n<hr />\n<p>The above solutions are more convenient alternatives to the following <strong><code>Start-Process -Wait</code> solution</strong>, which additionally uses <code>-PassThru</code> to pass an object representing the launched process through, so that its <code>.ExitCode</code> property can be checked:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>$exitCode = (Start-Process -Wait -NoNewWindow -PassThru msiexec.exe @'\n/i &quot;C:\\MagtekCC\\Files\\Java\\jre1.8.0_144.msi&quot; /QN TRANSFORMS=&quot;jre1.8.0_144.mst&quot; /L*V &quot;C:\\Temp\\msilog.log&quot;\n'@).ExitCode\n\nWrite-Host -ForegroundColor Cyan &quot;Installation finished with exit code $exitCode.&quot;\n</code></pre>\n<p>Note how <strong><em>all</em> arguments for <code>misexec.exe</code> are passed <em>as a single string</em> to <code>Start-Process</code></strong> (using a <a href=\"https://learn.microsoft.com/en-us/powershell/module/microsoft.powershell.core/about/about_Quoting_Rules#here-strings\" rel=\"nofollow noreferrer\">here-string</a> for readability here), which positionally binds to the <code>-ArgumentList</code> parameter.</p>\n<p>While the <code>-ArgumentList</code> parameter technically accepts an <em>array</em> of arguments - i.e. allows you to pass arguments <em>individually</em> - a long-standing bugs makes that unadvisable - see <a href=\"https://stackoverflow.com/a/62784608/45375\">this answer</a>.</p>\n<hr />\n<p>As for <strong>what you tried</strong>:</p>\n<p>Your <code>Start-Process -Wait</code> call failed, because you ended up passing <em>more than two</em> positional arguments:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>start-process msiexec.exe  &quot;/i ...&quot; -wait /QN ...\n</code></pre>\n<ul>\n<li><code>msiexec.exe</code> positionally binds to the <code>-FilePath</code> parameter.</li>\n<li>Only the <code>&quot;/i ...&quot;</code> argument positionally argument binds to the <code>-ArgumentList</code> parameter.</li>\n<li>Since no other <code>Start-Process</code> parameters support positional binding, <code>Start-Process</code> doesn't know what to do with <code>/QN</code> (and all subsequent positional (unnamed) arguments), which is what the error message in your question indicates.</li>\n</ul>\n<p>Note: If you did want to pass parameters <em>individually</em> - which is best avoided, as stated above - you'd have to pass them  as an <em>array</em>, separated by <code>,</code><br />\n(<code>Start-Process -Wait msiexec.exe '/i', ...</code>)</p>\n<hr />\n<p><sup>[1] Note that <em>any</em> command in a subsequent pipeline segment works to ensure synchronous execution, because PowerShell always has to wait for the preceding segment's command to terminate, so as to ensure that all input has been received; While it ultimately doesn't matter what command you choose, <code>Write-Output</code>, which in this case will <em>typically</em> be a no-op, has the advantage of passing stdout output through so that it becomes visible / can be captured, <em>if</em> the GUI application at hand produces such output, which is rare (append <code>2&gt;&amp;1</code> to the GUI-application call to also capture <em>stderr</em> output). As <a href=\"https://stackoverflow.com/users/584676/bender-the-greatest\">Bender the Greatest</a> points out, some GUI applications do so in order to produce <em>debugging output</em>, by explicitly <a href=\"https://stackoverflow.com/a/9943162/584676\"><em>attaching to the caller's console</em></a>. If you'd rather <em>suppress</em> this information, pipe to <code>Out-Null</code> instead.</sup></p>\n\n"}],"owner":{"display_name":"user14029480"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":429,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":69096536,"answer_count":2,"score":1,"last_activity_date":1699371506,"creation_date":1631043859,"question_id":69093794,"body_markdown":"Hello i&#39;m having issues with this line of code I been working on, for some reason is not working anymore I&#39;m trying to invoke the MSI installer silently and wait till it&#39;s done so I can execute next line of code I had it working but now is not, I tried executing start-process and using the -wait parameter but it&#39;s returning with an error message, and when I call &quot;msiexec.exe&quot; it doesn&#39;t have a -wait parameter\r\n\r\n    msiexec.exe /i &quot;C:\\MagtekCC\\Files\\Java\\jre1.8.0_144.msi&quot; /QN TRANSFORMS=&quot;jre1.8.0_144.mst&quot; /L*V &quot;C:\\Temp\\msilog.log&quot;\r\n    Write-Host -NoNewLine &quot;Done.`n&quot; -ForegroundColor Cyan\r\n    Start-Sleep -s 2\r\n\r\n  \r\n\r\n      start-process msiexec.exe  &quot;/i C:\\MagtekCC\\Files\\Java\\jre1.8.0_144.msi&quot; -wait /QN TRANSFORMS=&quot;jre1.8.0_144.mst&quot; /L*V &quot;C:\\Temp\\msilog.log&quot; \r\n         Write-Host -NoNewLine &quot;Done.`n&quot; -ForegroundColor Cyan\r\n          Start-Sleep -s 2\r\n    \r\n    &gt; Start-Process : A positional parameter cannot be found that accepts argument &#39;/QN&#39;.\r\n    At line:1 char:1\r\n    \r\n        + start-process msiexec.exe  &quot;/i C:\\MagtekCC\\Files\\Java\\jre1.8.0_144.ms ...\r\n        + ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\r\n            + CategoryInfo          : InvalidArgument: (:) [Start-Process], ParameterBindingException\r\n            + FullyQualifiedErrorId : PositionalParameterNotFound,Microsoft.PowerShell.Commands.StartProcessCommand","title":"Java MSI silent installer","body":"<p>Hello i'm having issues with this line of code I been working on, for some reason is not working anymore I'm trying to invoke the MSI installer silently and wait till it's done so I can execute next line of code I had it working but now is not, I tried executing start-process and using the -wait parameter but it's returning with an error message, and when I call &quot;msiexec.exe&quot; it doesn't have a -wait parameter</p>\n<pre><code>msiexec.exe /i &quot;C:\\MagtekCC\\Files\\Java\\jre1.8.0_144.msi&quot; /QN TRANSFORMS=&quot;jre1.8.0_144.mst&quot; /L*V &quot;C:\\Temp\\msilog.log&quot;\nWrite-Host -NoNewLine &quot;Done.`n&quot; -ForegroundColor Cyan\nStart-Sleep -s 2\n\n\n\n  start-process msiexec.exe  &quot;/i C:\\MagtekCC\\Files\\Java\\jre1.8.0_144.msi&quot; -wait /QN TRANSFORMS=&quot;jre1.8.0_144.mst&quot; /L*V &quot;C:\\Temp\\msilog.log&quot; \n     Write-Host -NoNewLine &quot;Done.`n&quot; -ForegroundColor Cyan\n      Start-Sleep -s 2\n\n&gt; Start-Process : A positional parameter cannot be found that accepts argument '/QN'.\nAt line:1 char:1\n\n    + start-process msiexec.exe  &quot;/i C:\\MagtekCC\\Files\\Java\\jre1.8.0_144.ms ...\n    + ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\n        + CategoryInfo          : InvalidArgument: (:) [Start-Process], ParameterBindingException\n        + FullyQualifiedErrorId : PositionalParameterNotFound,Microsoft.PowerShell.Commands.StartProcessCommand\n</code></pre>\n"},{"tags":["java","spring","memory-management","memory-leaks","jvm"],"comments":[{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1699366774,"post_id":77438952,"comment_id":136520745,"body_markdown":"There is an algorithm on when to trigger a gc, apparently the limits aren&#39;t such that the GC was deemed needed by the JVM.","body":"There is an algorithm on when to trigger a gc, apparently the limits aren&#39;t such that the GC was deemed needed by the JVM."},{"owner":{"account_id":2792262,"reputation":163877,"user_id":2402272,"accept_rate":85,"display_name":"John Bollinger"},"score":0,"creation_date":1699366778,"post_id":77438952,"comment_id":136520748,"body_markdown":"How are you measuring memory usage?","body":"How are you measuring memory usage?"},{"owner":{"account_id":10309490,"reputation":131,"user_id":7605766,"accept_rate":32,"display_name":"Yunus Emre Guney Student"},"score":0,"creation_date":1699367565,"post_id":77438952,"comment_id":136520932,"body_markdown":"@JohnBollinger i get total os physical memory with  (((UnixOperatingSystemMXBean) osBean).getTotalPhysicalMemorySize());\n\nthen i get free os physical memory with (UnixOperatingSystemMXBean) osBean).getFreePhysicalMemorySize();\n\ni check the difference between and calculate memory in usage","body":"@JohnBollinger i get total os physical memory with  (((UnixOperatingSystemMXBean) osBean).getTotalPhysicalMemorySize());  then i get free os physical memory with (UnixOperatingSystemMXBean) osBean).getFreePhysicalMemorySize();  i check the difference between and calculate memory in usage"},{"owner":{"account_id":10309490,"reputation":131,"user_id":7605766,"accept_rate":32,"display_name":"Yunus Emre Guney Student"},"score":0,"creation_date":1699367641,"post_id":77438952,"comment_id":136520951,"body_markdown":"@M.Deinum is there anything i can do to change this behaviour or should i?","body":"@M.Deinum is there anything i can do to change this behaviour or should i?"},{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1699367802,"post_id":77438952,"comment_id":136521002,"body_markdown":"Why should you change it? There is no out-of-memory and there is no performance issue, so why tamper with it? The GC will kick in when needed. GC tuning is a special kind of witchcraft (yes that is delibarate) you need to know which GC strategy is used and how to influence it. It might be that it works on one environment but gets worse on another.","body":"Why should you change it? There is no out-of-memory and there is no performance issue, so why tamper with it? The GC will kick in when needed. GC tuning is a special kind of witchcraft (yes that is delibarate) you need to know which GC strategy is used and how to influence it. It might be that it works on one environment but gets worse on another."},{"owner":{"account_id":2792262,"reputation":163877,"user_id":2402272,"accept_rate":85,"display_name":"John Bollinger"},"score":1,"creation_date":1699368035,"post_id":77438952,"comment_id":136521053,"body_markdown":"You are not measuring what you think you are measuring, @YunusEmreGuneyStudent.  There are at least three confounding factors here: (i) other processes running on the system contribute to the memory load; (ii) you are looking at physical memory only, ignoring virtual memory; but most of all (iii) the amount of memory attributed to the Java VM is not the same thing as the amount of space occupied by live objects.  A process does not necessarily return memory to the operating system when it is freed.  Often the free memory remains assigned to the process.","body":"You are not measuring what you think you are measuring, @YunusEmreGuneyStudent.  There are at least three confounding factors here: (i) other processes running on the system contribute to the memory load; (ii) you are looking at physical memory only, ignoring virtual memory; but most of all (iii) the amount of memory attributed to the Java VM is not the same thing as the amount of space occupied by live objects.  A process does not necessarily return memory to the operating system when it is freed.  Often the free memory remains assigned to the process."},{"owner":{"account_id":10309490,"reputation":131,"user_id":7605766,"accept_rate":32,"display_name":"Yunus Emre Guney Student"},"score":0,"creation_date":1699368589,"post_id":77438952,"comment_id":136521161,"body_markdown":"This behavior leads to Kubernetes autoscaling initiating the creation of new nodes, even when it&#39;s not truly required. Any thoughts on this matter?","body":"This behavior leads to Kubernetes autoscaling initiating the creation of new nodes, even when it&#39;s not truly required. Any thoughts on this matter?"},{"owner":{"account_id":465573,"reputation":192703,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1699372897,"post_id":77438952,"comment_id":136522096,"body_markdown":"Java will expand to consume as much memory as you allow it.  If you don&#39;t wish it to use as much memory, limit its maximum heap size.","body":"Java will expand to consume as much memory as you allow it.  If you don&#39;t wish it to use as much memory, limit its maximum heap size."},{"owner":{"account_id":31180,"reputation":29173,"user_id":85421,"display_name":"user85421"},"score":0,"creation_date":1699376600,"post_id":77438952,"comment_id":136522840,"body_markdown":"Bad Title: &quot;Why does invoking System.gc() lead to a significant decrease in memory usage?&quot; is not the same as &quot;Why does JVM not perform this garbage collection automatically?&quot;","body":"Bad Title: &quot;Why does invoking System.gc() lead to a significant decrease in memory usage?&quot; is not the same as &quot;Why does JVM not perform this garbage collection automatically?&quot;"}],"answers":[{"tags":[],"owner":{"account_id":2792262,"reputation":163877,"user_id":2402272,"accept_rate":85,"display_name":"John Bollinger"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1699370695,"creation_date":1699370695,"answer_id":77439469,"question_id":77438952,"body_markdown":"&gt; **Why does JVM not perform this garbage collection automatically?**\r\n\r\nJava does run the garbage collector automatically, at its own discretion.  The timing and effect of it doing so depends on many factors, and not all GC runs are the same.  Among other things, collecting unreachable objects makes more memory available to the VM, but that does not necessarily reduce the VM&#39;s memory usage from the OS&#39;s perspective.\r\n\r\nNor does manually requesting GC via `System.gc()` necessarily reduce the VM&#39;s memory usage from the OS&#39;s perspective.  Indeed, [its docs][1] make no specific promises, and expressly disclaim several:\r\n\r\n&gt; When control returns from the method call, the Java Virtual Machine\r\n&gt; has made a best effort to reclaim space from all unused objects. There\r\n&gt; is no guarantee that this effort will recycle any particular number of\r\n&gt; unused objects, reclaim any particular amount of space, or complete at\r\n&gt; any particular time, if at all, before the method returns or ever.\r\n&gt; There is also no guarantee that this effort will determine the change\r\n&gt; of reachability in any particular number of objects, or that any\r\n&gt; particular number of `Reference` objects will be cleared and enqueued.\r\n\r\nYou go on to say,\r\n\r\n&gt; **This is an autoscaling application running on Kubernetes, and this\r\n&gt; behavior results in the unnecessary creation of additional instances\r\n&gt; due to the memory increase.**\r\n&gt;\r\n&gt; **Is there a parameter which i can pass to\r\n&gt; JVM related to this behaviour?**\r\n\r\nThis is a function of your particular VM.  There are no standard VM options relevant to the question, but your particular VM probably has options that affect GC strategy and timing, and maybe some that affect the total amount of memory that the VM will use.  You should check the documentation for your VM for more information.\r\n\r\nIf you happen to be using the Oracle / OpenJDK VM then Oracle&#39;s fairly extensive documentation on GC tuning will be of interest to you.  Choose the version of that documentation that applies to your particular version of the VM.  For example, if you are using Java 21 then you&#39;re looking for https://docs.oracle.com/en/java/javase/21/gctuning/introduction-garbage-collection-tuning.html#GUID-326EB4CF-8C8C-4267-8355-21AB04F0D304.\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/System.html#gc()","title":"Why does invoking System.gc() lead to a significant decrease in memory usage?","body":"<blockquote>\n<p><strong>Why does JVM not perform this garbage collection automatically?</strong></p>\n</blockquote>\n<p>Java does run the garbage collector automatically, at its own discretion.  The timing and effect of it doing so depends on many factors, and not all GC runs are the same.  Among other things, collecting unreachable objects makes more memory available to the VM, but that does not necessarily reduce the VM's memory usage from the OS's perspective.</p>\n<p>Nor does manually requesting GC via <code>System.gc()</code> necessarily reduce the VM's memory usage from the OS's perspective.  Indeed, <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/System.html#gc()\" rel=\"nofollow noreferrer\">its docs</a> make no specific promises, and expressly disclaim several:</p>\n<blockquote>\n<p>When control returns from the method call, the Java Virtual Machine\nhas made a best effort to reclaim space from all unused objects. There\nis no guarantee that this effort will recycle any particular number of\nunused objects, reclaim any particular amount of space, or complete at\nany particular time, if at all, before the method returns or ever.\nThere is also no guarantee that this effort will determine the change\nof reachability in any particular number of objects, or that any\nparticular number of <code>Reference</code> objects will be cleared and enqueued.</p>\n</blockquote>\n<p>You go on to say,</p>\n<blockquote>\n<p><strong>This is an autoscaling application running on Kubernetes, and this\nbehavior results in the unnecessary creation of additional instances\ndue to the memory increase.</strong></p>\n<p><strong>Is there a parameter which i can pass to\nJVM related to this behaviour?</strong></p>\n</blockquote>\n<p>This is a function of your particular VM.  There are no standard VM options relevant to the question, but your particular VM probably has options that affect GC strategy and timing, and maybe some that affect the total amount of memory that the VM will use.  You should check the documentation for your VM for more information.</p>\n<p>If you happen to be using the Oracle / OpenJDK VM then Oracle's fairly extensive documentation on GC tuning will be of interest to you.  Choose the version of that documentation that applies to your particular version of the VM.  For example, if you are using Java 21 then you're looking for <a href=\"https://docs.oracle.com/en/java/javase/21/gctuning/introduction-garbage-collection-tuning.html#GUID-326EB4CF-8C8C-4267-8355-21AB04F0D304\" rel=\"nofollow noreferrer\">https://docs.oracle.com/en/java/javase/21/gctuning/introduction-garbage-collection-tuning.html#GUID-326EB4CF-8C8C-4267-8355-21AB04F0D304</a>.</p>\n"}],"owner":{"account_id":10309490,"reputation":131,"user_id":7605766,"accept_rate":32,"display_name":"Yunus Emre Guney Student"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":88,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"answer_count":1,"score":2,"last_activity_date":1699370695,"creation_date":1699366663,"question_id":77438952,"body_markdown":"I have a long-running JVM Spring server application that undergoes continuous processing. I&#39;ve noticed a gradual increase in memory usage over time, but it never leads to a JVM out-of-memory crash. However, when I manually generate a heap dump, I observe a significant drop in memory usage, returning to the initially expected levels. When i analyze the dump i dont see anything unusual because probably dump is generated with garbage collecetd memory. As i know this drop occurs because generating a heap dump triggers the garbage collector to work.\r\n\r\nTo test this behavior, I tried calling System.gc(), and it reproduced the memory drop. I&#39;m curious about why this happens. **Why does JVM not perform this garbage collection automatically?** It appears that, for some reason, it doesn&#39;t do so without me explicitly forcing it to clear. But as i mentioned this does not cause JVM crash. Probably it releases that memory when it needs it. **This is an autoscaling application running on Kubernetes, and this behavior results in the unnecessary creation of additional instances due to the memory increase.**\r\n\r\n**Is there a parameter which i can pass to JVM related to this behaviour?**\r\n\r\n \r\n\r\nI expect JVM to clear memory automaticly without me explicitly calling System.gc()\r\n\r\n","title":"Why does invoking System.gc() lead to a significant decrease in memory usage?","body":"<p>I have a long-running JVM Spring server application that undergoes continuous processing. I've noticed a gradual increase in memory usage over time, but it never leads to a JVM out-of-memory crash. However, when I manually generate a heap dump, I observe a significant drop in memory usage, returning to the initially expected levels. When i analyze the dump i dont see anything unusual because probably dump is generated with garbage collecetd memory. As i know this drop occurs because generating a heap dump triggers the garbage collector to work.</p>\n<p>To test this behavior, I tried calling System.gc(), and it reproduced the memory drop. I'm curious about why this happens. <strong>Why does JVM not perform this garbage collection automatically?</strong> It appears that, for some reason, it doesn't do so without me explicitly forcing it to clear. But as i mentioned this does not cause JVM crash. Probably it releases that memory when it needs it. <strong>This is an autoscaling application running on Kubernetes, and this behavior results in the unnecessary creation of additional instances due to the memory increase.</strong></p>\n<p><strong>Is there a parameter which i can pass to JVM related to this behaviour?</strong></p>\n<p>I expect JVM to clear memory automaticly without me explicitly calling System.gc()</p>\n"},{"tags":["java","abstract"],"comments":[{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":3,"creation_date":1699357787,"post_id":77437936,"comment_id":136518967,"body_markdown":"The type of field content is  `ContentClass` the generic parameter of `Node`, not your own class `ContentClass`. Do you want nodes to work with `ContentClass` only, or with any class?","body":"The type of field content is  <code>ContentClass</code> the generic parameter of <code>Node</code>, not your own class <code>ContentClass</code>. Do you want nodes to work with <code>ContentClass</code> only, or with any class?"},{"owner":{"account_id":1692034,"reputation":3196,"user_id":1554195,"display_name":"tquadrat"},"score":2,"creation_date":1699357838,"post_id":77437936,"comment_id":136518976,"body_markdown":"`content::getSortId` is marked in the IDE, or you got a compiler error? And I suggest that you write `public class Node&lt;C extends ContentClass&gt;` and `private C content;` and `public C getContent() {…}`.","body":"<code>content::getSortId</code> is marked in the IDE, or you got a compiler error? And I suggest that you write <code>public class Node&lt;C extends ContentClass&gt;</code> and <code>private C content;</code> and <code>public C getContent() {…}</code>."},{"owner":{"account_id":29845813,"reputation":3,"user_id":22872909,"display_name":"Emily Hl&#237;f Carozzini"},"score":0,"creation_date":1699357949,"post_id":77437936,"comment_id":136518995,"body_markdown":"Node should only be able to take in a class that extends ContentClass as &quot;Content&quot; variable","body":"Node should only be able to take in a class that extends ContentClass as &quot;Content&quot; variable"},{"owner":{"account_id":31180,"reputation":29173,"user_id":85421,"display_name":"user85421"},"score":0,"creation_date":1699357974,"post_id":77437936,"comment_id":136519001,"body_markdown":"are these classes in  the same package? Otherwise the methods must be `public` (it is always better to include a [mre] in such questions)","body":"are these classes in  the same package? Otherwise the methods must be <code>public</code> (it is always better to include a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> in such questions)"},{"owner":{"account_id":9942939,"reputation":420,"user_id":7358869,"display_name":"Shivam..."},"score":0,"creation_date":1699358036,"post_id":77437936,"comment_id":136519013,"body_markdown":"Use an interface not abstract class.","body":"Use an interface not abstract class."},{"owner":{"account_id":31180,"reputation":29173,"user_id":85421,"display_name":"user85421"},"score":3,"creation_date":1699358127,"post_id":77437936,"comment_id":136519027,"body_markdown":"Sorry, my last comment is not (yet) relevant - You are declaring a `&lt;ContentClass&gt;` as  a type in `class Node &lt;ContentClass&gt;` (similar to `public class Node &lt;T&gt;` - `T` is NOT a class) - you probably want `class Node&lt;T extends ContentClass&gt;`, `private T content;`, `Node(Node l, Node r,T c)`, ... or no generics at all `public class Node {`","body":"Sorry, my last comment is not (yet) relevant - You are declaring a <code>&lt;ContentClass&gt;</code> as  a type in <code>class Node &lt;ContentClass&gt;</code> (similar to <code>public class Node &lt;T&gt;</code> - <code>T</code> is NOT a class) - you probably want <code>class Node&lt;T extends ContentClass&gt;</code>, <code>private T content;</code>, <code>Node(Node l, Node r,T c)</code>, ... or no generics at all <code>public class Node {</code>"},{"owner":{"account_id":29845813,"reputation":3,"user_id":22872909,"display_name":"Emily Hl&#237;f Carozzini"},"score":0,"creation_date":1699358144,"post_id":77437936,"comment_id":136519030,"body_markdown":"there is a implemented class &quot;TermNode&quot; already but the point of ContentClass variable content in Node is to act as a place holder for the actual content that will be passed on in the constructor when the code is run","body":"there is a implemented class &quot;TermNode&quot; already but the point of ContentClass variable content in Node is to act as a place holder for the actual content that will be passed on in the constructor when the code is run"},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1699358180,"post_id":77437936,"comment_id":136519035,"body_markdown":"Looks like an assignment to me. Is it? If so, then are you required to make class `Node` a generic class?","body":"Looks like an assignment to me. Is it? If so, then are you required to make class <code>Node</code> a generic class?"},{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":3,"creation_date":1699358311,"post_id":77437936,"comment_id":136519057,"body_markdown":"@EmilyHl&#237;fCarozzini If you want to know the actual subtype, then use bounds for the generic - `T extends ContentType`. Otherwise just remove the generic and directly make the field of type `ContentType`.","body":"@EmilyHl&#237;fCarozzini If you want to know the actual subtype, then use bounds for the generic - <code>T extends ContentType</code>. Otherwise just remove the generic and directly make the field of type <code>ContentType</code>."}],"answers":[{"tags":[],"owner":{"account_id":29350271,"reputation":1,"user_id":22487579,"display_name":"val didar singh"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699358566,"creation_date":1699358566,"answer_id":77438062,"question_id":77437936,"body_markdown":"The issue is due to the way you&#39;re defining the generic class Node. You&#39;ve defined Node to take a type parameter ContentClass, but it looks like you&#39;re trying to use it as if ContentClass is a class, rather than a type parameter. In your current code, ContentClass is being treated as a placeholder for a generic type, not as a reference to your ContentClass abstract class.\r\n\r\nremove \r\n\r\n    &lt;ContentClass&gt;\r\n\r\n from \r\n\r\n    public class Node &lt;ContentClass&gt;\r\n        {\r\n            private ContentClass content;\r\n            private Node left;\r\nthis will solve your problem. \r\n\r\n\r\n","title":"Using abstract method in non-abstract class","body":"<p>The issue is due to the way you're defining the generic class Node. You've defined Node to take a type parameter ContentClass, but it looks like you're trying to use it as if ContentClass is a class, rather than a type parameter. In your current code, ContentClass is being treated as a placeholder for a generic type, not as a reference to your ContentClass abstract class.</p>\n<p>remove</p>\n<pre><code>&lt;ContentClass&gt;\n</code></pre>\n<p>from</p>\n<pre><code>public class Node &lt;ContentClass&gt;\n    {\n        private ContentClass content;\n        private Node left;\n</code></pre>\n<p>this will solve your problem.</p>\n"},{"tags":[],"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1699370302,"creation_date":1699368437,"answer_id":77439189,"question_id":77437936,"body_markdown":"You have misunderstood how a generic type is declared for a class.\r\n\r\n`public class Node &lt;ContentClass&gt;` **does not** make use of the abstract class named ContentClass.  That line is actually declaring a brand new generic type identifier, which you happened to name `ContentClass`.  It has no relationship whatsoever to the abstract class named ContentClass.\r\n\r\nIf you look at, say, [List](https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/List.html) or [Comparable](https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Comparable.html), you will see that they declare their generic argument type using a single capital letter:  `List&lt;E&gt;`, `Comparable&lt;T&gt;`.  Nearly all Java SE classes use this convention, and for good reason:  it greatly reduces the likelihood of making this kind of mistake.\r\n\r\nWhat you probably want is this:\r\n\r\n    public class Node&lt;C extends ContentClass&gt;\r\n    {\r\n        private C content;\r\n        private Node left;\r\n        private Node right;\r\n\r\n        public Node(Node l, Node r, C c)\r\n        {\r\n            content = c;\r\n            left = l;\r\n            right = r;\r\n        }\r\n\r\n        // ...\r\n\r\n        public C getContent() {\r\n            return content;\r\n        }\r\n\r\nIn the above code, `C` is the type argument.  Because it was declared as a type which must inherit from ContentClass, any object of type C is guaranteed to have the getClassType() and getSortId() methods.\r\n\r\nAside from the declaration of `C`, the name “ContentClass” should not appear anywhere in your Node class.\r\n","title":"Using abstract method in non-abstract class","body":"<p>You have misunderstood how a generic type is declared for a class.</p>\n<p><code>public class Node &lt;ContentClass&gt;</code> <strong>does not</strong> make use of the abstract class named ContentClass.  That line is actually declaring a brand new generic type identifier, which you happened to name <code>ContentClass</code>.  It has no relationship whatsoever to the abstract class named ContentClass.</p>\n<p>If you look at, say, <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/List.html\" rel=\"nofollow noreferrer\">List</a> or <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Comparable.html\" rel=\"nofollow noreferrer\">Comparable</a>, you will see that they declare their generic argument type using a single capital letter:  <code>List&lt;E&gt;</code>, <code>Comparable&lt;T&gt;</code>.  Nearly all Java SE classes use this convention, and for good reason:  it greatly reduces the likelihood of making this kind of mistake.</p>\n<p>What you probably want is this:</p>\n<pre><code>public class Node&lt;C extends ContentClass&gt;\n{\n    private C content;\n    private Node left;\n    private Node right;\n\n    public Node(Node l, Node r, C c)\n    {\n        content = c;\n        left = l;\n        right = r;\n    }\n\n    // ...\n\n    public C getContent() {\n        return content;\n    }\n</code></pre>\n<p>In the above code, <code>C</code> is the type argument.  Because it was declared as a type which must inherit from ContentClass, any object of type C is guaranteed to have the getClassType() and getSortId() methods.</p>\n<p>Aside from the declaration of <code>C</code>, the name “ContentClass” should not appear anywhere in your Node class.</p>\n"}],"owner":{"account_id":29845813,"reputation":3,"user_id":22872909,"display_name":"Emily Hl&#237;f Carozzini"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":92,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1702016370,"accepted_answer_id":77439189,"answer_count":2,"score":-1,"last_activity_date":1699370302,"creation_date":1699357304,"question_id":77437936,"body_markdown":"I got the abstract class `ContentClass`\r\n\r\n    public abstract class ContentClass\r\n    {\r\n        public abstract String getClassType();\r\n        public abstract String getSortId();\r\n    }\r\n\r\nAnd the non abstract class `Node`\r\n\r\n    public class Node &lt;ContentClass&gt;\r\n    {\r\n        private ContentClass content;\r\n        private Node left;\r\n        private Node right;\r\n\r\n        public Node(Node l, Node r,ContentClass c)\r\n        {\r\n            content = c;\r\n            left = l;\r\n            right = r;\r\n        }\r\n\r\n        public String getNodeSortId(){\r\n        return content.getSortId();\r\n        }\r\n        public String getNodeType(){\r\n        return content.getClassType();\r\n        }\r\n        public ContentClass getContent(){\r\n            return content;\r\n        }\r\n\r\n        public Node getLeft(){\r\n            return left;\r\n        }\r\n\r\n        public Node getRight(){\r\n            return right;\r\n        }\r\n    }\r\n\r\nThe problem at hand being that `content.getSortId()` and `content.getNodeType()` are both marked as &quot;undeclared method&quot;.\r\nHow do I fix this and what did I do wrong?\r\n\r\nI want to later on create non-abstract content classes that can contain different types of content and the class Node is supposed to be able to take in any contentclass as a variable","title":"Using abstract method in non-abstract class","body":"<p>I got the abstract class <code>ContentClass</code></p>\n<pre><code>public abstract class ContentClass\n{\n    public abstract String getClassType();\n    public abstract String getSortId();\n}\n</code></pre>\n<p>And the non abstract class <code>Node</code></p>\n<pre><code>public class Node &lt;ContentClass&gt;\n{\n    private ContentClass content;\n    private Node left;\n    private Node right;\n\n    public Node(Node l, Node r,ContentClass c)\n    {\n        content = c;\n        left = l;\n        right = r;\n    }\n\n    public String getNodeSortId(){\n    return content.getSortId();\n    }\n    public String getNodeType(){\n    return content.getClassType();\n    }\n    public ContentClass getContent(){\n        return content;\n    }\n\n    public Node getLeft(){\n        return left;\n    }\n\n    public Node getRight(){\n        return right;\n    }\n}\n</code></pre>\n<p>The problem at hand being that <code>content.getSortId()</code> and <code>content.getNodeType()</code> are both marked as &quot;undeclared method&quot;.\nHow do I fix this and what did I do wrong?</p>\n<p>I want to later on create non-abstract content classes that can contain different types of content and the class Node is supposed to be able to take in any contentclass as a variable</p>\n"},{"tags":["java","postgresql","hibernate","rest","date"],"comments":[{"owner":{"account_id":19655452,"reputation":301,"user_id":14388200,"display_name":"David A."},"score":0,"creation_date":1699286491,"post_id":77432299,"comment_id":136509481,"body_markdown":"Are the time and Date of the server and the database synchronized?\nHow are you reading the Booking from the DB ? are you making any type of conversion?","body":"Are the time and Date of the server and the database synchronized? How are you reading the Booking from the DB ? are you making any type of conversion?"},{"owner":{"account_id":24040475,"reputation":93,"user_id":18020228,"display_name":"sfeng"},"score":0,"creation_date":1699287290,"post_id":77432299,"comment_id":136509653,"body_markdown":"@DavidA. I just added some info to the question. LMK if that answers your question.","body":"@DavidA. I just added some info to the question. LMK if that answers your question."},{"owner":{"account_id":19655452,"reputation":301,"user_id":14388200,"display_name":"David A."},"score":0,"creation_date":1699292474,"post_id":77432299,"comment_id":136510674,"body_markdown":"It looks everything set as should be, and i could proceed asking for more data, but lets try something else, could you change the `date` (that is a little old) to `LocalDate` or `LocalDateTime`? and then you could set `new Booking(LocalDateTime.now())`","body":"It looks everything set as should be, and i could proceed asking for more data, but lets try something else, could you change the <code>date</code> (that is a little old) to <code>LocalDate</code> or <code>LocalDateTime</code>? and then you could set <code>new Booking(LocalDateTime.now())</code>"},{"owner":{"account_id":19716283,"reputation":79,"user_id":14435654,"display_name":"mrxaxen"},"score":0,"creation_date":1699293722,"post_id":77432299,"comment_id":136510893,"body_markdown":"Any chance you have the date sent without timezones, but saved in timezone included format DB side? Just trying to brainstorm here.","body":"Any chance you have the date sent without timezones, but saved in timezone included format DB side? Just trying to brainstorm here."},{"owner":{"account_id":24040475,"reputation":93,"user_id":18020228,"display_name":"sfeng"},"score":0,"creation_date":1699296612,"post_id":77432299,"comment_id":136511358,"body_markdown":"@DavidA. The `Booking` model was made with Umple model, which defaults to using `java.sql.Date`. Changing the date type would require me to go over many files and I tend not to do that unless it&#39;s my very last option.\nHowever, check my new edit for more info.","body":"@DavidA. The <code>Booking</code> model was made with Umple model, which defaults to using <code>java.sql.Date</code>. Changing the date type would require me to go over many files and I tend not to do that unless it&#39;s my very last option. However, check my new edit for more info."},{"owner":{"account_id":24040475,"reputation":93,"user_id":18020228,"display_name":"sfeng"},"score":0,"creation_date":1699296700,"post_id":77432299,"comment_id":136511372,"body_markdown":"@mrxaxen the problem looks more like a client-server parsing issue rather than DB issue. See my comment.","body":"@mrxaxen the problem looks more like a client-server parsing issue rather than DB issue. See my comment."}],"answers":[{"tags":[],"owner":{"account_id":24040475,"reputation":93,"user_id":18020228,"display_name":"sfeng"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699370053,"creation_date":1699370053,"answer_id":77439383,"question_id":77432299,"body_markdown":"Forcing the application to UTC time seems to work.\r\n\r\nFollow [this][1] for how to do it.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/54316667/how-do-i-force-a-spring-boot-jvm-into-utc-time-zone","title":"Java Spring Boot Date Value Changed After Parsing","body":"<p>Forcing the application to UTC time seems to work.</p>\n<p>Follow <a href=\"https://stackoverflow.com/questions/54316667/how-do-i-force-a-spring-boot-jvm-into-utc-time-zone\">this</a> for how to do it.</p>\n"}],"owner":{"account_id":24040475,"reputation":93,"user_id":18020228,"display_name":"sfeng"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":79,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1699370053,"creation_date":1699284602,"question_id":77432299,"body_markdown":"I&#39;m trying to create a REST API with Java Spring Boot, and currently writing JUnit test cases on it.\r\n\r\nIt appears that, given an entity containing a `java.sql.Date` instance, after saving it to the database and responding with the returned value of `save()`, the date value is no longer the same.\r\n\r\nAfter double-checking, I&#39;m indeed using `java.sql.Date` everywhere, not `java.util.Date`.\r\n\r\nI&#39;m using PostgreSQL and Hibernate for database management.\r\n\r\nHere&#39;s the problematic code:\r\n```java\r\n        Booking createdBooking = new Booking(\r\n                new Date(System.currentTimeMillis()),\r\n                ..., // rest of the arguments are not important for the discussion\r\n        );\r\n\r\n        ResponseEntity&lt;BookingDto&gt; response = client.postForEntity(\r\n                &quot;/createBooking&quot;,\r\n                BookingDto.toDTO(createdBooking),\r\n                BookingDto.class);\r\n\r\n        assertEquals(HttpStatus.CREATED, response.getStatusCode());\r\n\r\n        assertNotNull(response.getBody());\r\n\r\n        assertEquals(createdBooking.getCheckInDate(), response.getBody().getCheckInDate());\r\n```\r\n\r\nHere&#39;s the controller implementation:\r\n\r\n```java\r\n    @PostMapping(value = { &quot;/createBooking&quot;, &quot;/createBooking/&quot; })\r\n    @ResponseStatus(HttpStatus.CREATED)\r\n    public BookingDto createBooking(@RequestBody BookingDto bookingDto) {\r\n        Booking booking = bookingService.createBooking(bookingDto);\r\n        return BookingDto.toDTO(booking);\r\n    }\r\n\r\n```\r\n\r\nHere&#39;s the simplified service implementation:\r\n\r\n```java\r\n    public Booking createBooking(BookingDto bookingDto) {\r\n        Booking booking = new Booking();\r\n        booking.setCheckInDate(bookingDto.getCheckInDate());\r\n        // rest of the arguments are not important for the discussion\r\n        return bookingRepository.save(booking);\r\n    }\r\n\r\n```\r\nAs for the `Booking` class, the default constructor is empty.\r\n\r\n\r\nThe assertion fails on the one to check if the dates are equal. The output is:\r\n```\r\nExpected :2023-11-06\r\nActual   :2023-11-04\r\n```\r\n`2023-11-06` being the actual GMT and local time when I run the test, `2023-11-04` I don&#39;t know why.\r\n\r\nI&#39;ve looked at several posts regarding using `SimpleDateFormat`, [this one][1] for example, but I believe my case is a bit different because my date value literally &quot;changed&quot; after having a run through the database.\r\n\r\nI&#39;m looking for help to explain why this behavior occurs, and how can I make sure the date values will be consistent. Thanks in advance.\r\n\r\n**EDIT 1:**\r\n\r\nProject has been initialized with [Spring initializr][2] with Spring Boot 3.1.4 and Java 17, both compatible with my system.\r\n\r\nReading/writing to database are handled by the `BookingRepository`, which extends `CrudRepository` and thus injected by Spring:\r\n\r\n```java\r\npublic interface BookingRepository extends CrudRepository&lt;Booking, Integer&gt; {\r\n...\r\n```\r\n\r\nAnd I didn&#39;t define any explicit conversion or synchronization beside the application properties:\r\n\r\n```\r\nspring.datasource.driver-class-name=org.postgresql.Driver\r\nspring.jpa.hibernate.ddl-auto=create-drop\r\n\r\nspring.datasource.url=jdbc:postgresql://localhost:5432/hotel_management\r\nspring.datasource.username={omitted}\r\nspring.datasource.password={omitted}\r\n```\r\n\r\n**EDIT 2:**\r\n\r\nAfter digging further, I find out that the problem comes from the date conversion, as the `java.sql.Date` instance on the client&#39;s side is parsed to the last GMT time value at 12:00:00 AM, but the server&#39;s side receives the same value but take it as a local time value in its `java.sql.Date` instance, which is 5 hours off. After rounding, the date would be off by a day. The same process happens vice-versa.\r\n\r\nStill trying to figure out how to solve it while keep using `java.sql.Date`, as switching to other data types isn&#39;t very much an option in my case.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/74948209/why-converting-java-util-date-to-java-sql-date-results-in-a-wrong-date\r\n  [2]: https://start.spring.io/","title":"Java Spring Boot Date Value Changed After Parsing","body":"<p>I'm trying to create a REST API with Java Spring Boot, and currently writing JUnit test cases on it.</p>\n<p>It appears that, given an entity containing a <code>java.sql.Date</code> instance, after saving it to the database and responding with the returned value of <code>save()</code>, the date value is no longer the same.</p>\n<p>After double-checking, I'm indeed using <code>java.sql.Date</code> everywhere, not <code>java.util.Date</code>.</p>\n<p>I'm using PostgreSQL and Hibernate for database management.</p>\n<p>Here's the problematic code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>        Booking createdBooking = new Booking(\n                new Date(System.currentTimeMillis()),\n                ..., // rest of the arguments are not important for the discussion\n        );\n\n        ResponseEntity&lt;BookingDto&gt; response = client.postForEntity(\n                &quot;/createBooking&quot;,\n                BookingDto.toDTO(createdBooking),\n                BookingDto.class);\n\n        assertEquals(HttpStatus.CREATED, response.getStatusCode());\n\n        assertNotNull(response.getBody());\n\n        assertEquals(createdBooking.getCheckInDate(), response.getBody().getCheckInDate());\n</code></pre>\n<p>Here's the controller implementation:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @PostMapping(value = { &quot;/createBooking&quot;, &quot;/createBooking/&quot; })\n    @ResponseStatus(HttpStatus.CREATED)\n    public BookingDto createBooking(@RequestBody BookingDto bookingDto) {\n        Booking booking = bookingService.createBooking(bookingDto);\n        return BookingDto.toDTO(booking);\n    }\n\n</code></pre>\n<p>Here's the simplified service implementation:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    public Booking createBooking(BookingDto bookingDto) {\n        Booking booking = new Booking();\n        booking.setCheckInDate(bookingDto.getCheckInDate());\n        // rest of the arguments are not important for the discussion\n        return bookingRepository.save(booking);\n    }\n\n</code></pre>\n<p>As for the <code>Booking</code> class, the default constructor is empty.</p>\n<p>The assertion fails on the one to check if the dates are equal. The output is:</p>\n<pre><code>Expected :2023-11-06\nActual   :2023-11-04\n</code></pre>\n<p><code>2023-11-06</code> being the actual GMT and local time when I run the test, <code>2023-11-04</code> I don't know why.</p>\n<p>I've looked at several posts regarding using <code>SimpleDateFormat</code>, <a href=\"https://stackoverflow.com/questions/74948209/why-converting-java-util-date-to-java-sql-date-results-in-a-wrong-date\">this one</a> for example, but I believe my case is a bit different because my date value literally &quot;changed&quot; after having a run through the database.</p>\n<p>I'm looking for help to explain why this behavior occurs, and how can I make sure the date values will be consistent. Thanks in advance.</p>\n<p><strong>EDIT 1:</strong></p>\n<p>Project has been initialized with <a href=\"https://start.spring.io/\" rel=\"nofollow noreferrer\">Spring initializr</a> with Spring Boot 3.1.4 and Java 17, both compatible with my system.</p>\n<p>Reading/writing to database are handled by the <code>BookingRepository</code>, which extends <code>CrudRepository</code> and thus injected by Spring:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public interface BookingRepository extends CrudRepository&lt;Booking, Integer&gt; {\n...\n</code></pre>\n<p>And I didn't define any explicit conversion or synchronization beside the application properties:</p>\n<pre><code>spring.datasource.driver-class-name=org.postgresql.Driver\nspring.jpa.hibernate.ddl-auto=create-drop\n\nspring.datasource.url=jdbc:postgresql://localhost:5432/hotel_management\nspring.datasource.username={omitted}\nspring.datasource.password={omitted}\n</code></pre>\n<p><strong>EDIT 2:</strong></p>\n<p>After digging further, I find out that the problem comes from the date conversion, as the <code>java.sql.Date</code> instance on the client's side is parsed to the last GMT time value at 12:00:00 AM, but the server's side receives the same value but take it as a local time value in its <code>java.sql.Date</code> instance, which is 5 hours off. After rounding, the date would be off by a day. The same process happens vice-versa.</p>\n<p>Still trying to figure out how to solve it while keep using <code>java.sql.Date</code>, as switching to other data types isn't very much an option in my case.</p>\n"},{"tags":["java","swing","header","jtable","jtableheader"],"owner":{"account_id":19808077,"reputation":1,"user_id":14507604,"display_name":"Akilesh Balireddi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1699369955,"creation_date":1698671284,"question_id":77388913,"body_markdown":"I am checking for solution to show Header column span where we need to add two columns under one header . The solutions which were present are creating own Jtable component which is very complex. Can someone please help me solve this?\r\n\r\nBelow is the sample table pattern:\r\n\r\n[![https://i.stack.imgur.com/VeqIl.png][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/VeqIl.png","title":"Header column span in Jtable to show two columns under one header- Jtable Java swings","body":"<p>I am checking for solution to show Header column span where we need to add two columns under one header . The solutions which were present are creating own Jtable component which is very complex. Can someone please help me solve this?</p>\n<p>Below is the sample table pattern:</p>\n<p><a href=\"https://i.stack.imgur.com/VeqIl.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/VeqIl.png\" alt=\"https://i.stack.imgur.com/VeqIl.png\" /></a></p>\n"},{"tags":["java","spring-boot","mocking"],"comments":[{"owner":{"account_id":11555562,"reputation":316,"user_id":8466853,"display_name":"Arno"},"score":1,"creation_date":1699390529,"post_id":77439263,"comment_id":136525074,"body_markdown":"why not using this one? https://www.mock-server.com/mock_server/using_openapi.html","body":"why not using this one? <a href=\"https://www.mock-server.com/mock_server/using_openapi.html\" rel=\"nofollow noreferrer\">mock-server.com/mock_server/using_openapi.html</a>"}],"owner":{"account_id":16025789,"reputation":29,"user_id":11566058,"display_name":"Rikissssss"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":18,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1699369413,"creation_date":1699369090,"question_id":77439263,"body_markdown":"Hi I am trying to create a mock server written in Java preferibly using Spring-boot, using a given 3GPP Open-API specifications. Do you have some hints, framework to use to create a basic configuration starting from the given Open-API definition? \r\nI know it is a general question but I am searching for advice to follow, thanks.","title":"Mock server based on Open-API specifications","body":"<p>Hi I am trying to create a mock server written in Java preferibly using Spring-boot, using a given 3GPP Open-API specifications. Do you have some hints, framework to use to create a basic configuration starting from the given Open-API definition?\nI know it is a general question but I am searching for advice to follow, thanks.</p>\n"},{"tags":["java","spring","spring-boot","logback"],"comments":[{"owner":{"account_id":1674328,"reputation":2652,"user_id":1540177,"display_name":"grekier"},"score":0,"creation_date":1668592851,"post_id":74458379,"comment_id":131441033,"body_markdown":"I guess `LOGSTASH_URL` is empty in `&lt;destination&gt;${LOGSTASH_URL}&lt;/destination&gt;`. Have you tried setting the URL there to check it out?","body":"I guess <code>LOGSTASH_URL</code> is empty in <code>&lt;destination&gt;${LOGSTASH_URL}&lt;&#47;destination&gt;</code>. Have you tried setting the URL there to check it out?"},{"owner":{"account_id":26948369,"reputation":1,"user_id":20517991,"display_name":"Francesc"},"score":0,"creation_date":1668594292,"post_id":74458379,"comment_id":131441525,"body_markdown":"Placing &quot;${LOGBACK_URL:- }:${LOGBACK_PORT:- }&quot; inside the &quot;destination&quot; tag makes the app to compile but unable to connect to anywhere, showing me this:\n\nhttps://gyazo.com/bcd0308df52ed0425dc2d541dacc5848","body":"Placing &quot;${LOGBACK_URL:- }:${LOGBACK_PORT:- }&quot; inside the &quot;destination&quot; tag makes the app to compile but unable to connect to anywhere, showing me this:  <a href=\"https://gyazo.com/bcd0308df52ed0425dc2d541dacc5848\" rel=\"nofollow noreferrer\">gyazo.com/bcd0308df52ed0425dc2d541dacc5848</a>"},{"owner":{"account_id":1674328,"reputation":2652,"user_id":1540177,"display_name":"grekier"},"score":0,"creation_date":1668596050,"post_id":74458379,"comment_id":131442186,"body_markdown":"The error confirms that those 2 are empty. Not sure how you want them to be set but can confirm that it doesn&#39;t work. Are they supposed to be env variables?","body":"The error confirms that those 2 are empty. Not sure how you want them to be set but can confirm that it doesn&#39;t work. Are they supposed to be env variables?"},{"owner":{"account_id":26948369,"reputation":1,"user_id":20517991,"display_name":"Francesc"},"score":0,"creation_date":1668597610,"post_id":74458379,"comment_id":131442747,"body_markdown":"Yes, both are in config.env file.","body":"Yes, both are in config.env file."},{"owner":{"account_id":1674328,"reputation":2652,"user_id":1540177,"display_name":"grekier"},"score":0,"creation_date":1668599563,"post_id":74458379,"comment_id":131443371,"body_markdown":"And how is it read from this file? naming a file .env doesn&#39;t mean it will be read without doing anything...","body":"And how is it read from this file? naming a file .env doesn&#39;t mean it will be read without doing anything..."},{"owner":{"account_id":26948369,"reputation":1,"user_id":20517991,"display_name":"Francesc"},"score":0,"creation_date":1668603528,"post_id":74458379,"comment_id":131444861,"body_markdown":"Thanks for your time, I&#39;ve solved this problem by adding &quot;spring.profiles.active=local&quot; to the environment variables.","body":"Thanks for your time, I&#39;ve solved this problem by adding &quot;spring.profiles.active=local&quot; to the environment variables."}],"answers":[{"tags":[],"owner":{"account_id":8192444,"reputation":31,"user_id":6166312,"display_name":"Juan Fernandez Ridano"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699369353,"creation_date":1699369353,"answer_id":77439291,"question_id":74458379,"body_markdown":"If you use application.yml:\r\n\r\n    logstash:\r\n        destination: your.tcp.address:8080\r\n\r\n\r\nIf you use application.properties:\r\n\r\n    logstash.destination: your.tcp.address:8080\r\n\r\n\r\nand in your logback-spring.xml, you are missing:\r\n\r\n    &lt;configuration debug=&quot;false&quot;&gt;\r\n      &lt;springProperty name=&quot;LOGSTASH_URL&quot; source=&quot;logstash.destination&quot;/&gt; \r\n\r\n\r\n","title":"LogstashTcpSocketAppender[LOGSTASH] - No destination was configured","body":"<p>If you use application.yml:</p>\n<pre><code>logstash:\n    destination: your.tcp.address:8080\n</code></pre>\n<p>If you use application.properties:</p>\n<pre><code>logstash.destination: your.tcp.address:8080\n</code></pre>\n<p>and in your logback-spring.xml, you are missing:</p>\n<pre><code>&lt;configuration debug=&quot;false&quot;&gt;\n  &lt;springProperty name=&quot;LOGSTASH_URL&quot; source=&quot;logstash.destination&quot;/&gt; \n</code></pre>\n"}],"owner":{"account_id":26948369,"reputation":1,"user_id":20517991,"display_name":"Francesc"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":679,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1699369353,"creation_date":1668592362,"question_id":74458379,"body_markdown":"I&#39;ve tryng to run a subscriber in Java in a Pub-Sub system. I keep getting hit with this error despite trying all solutions I&#39;ve seen online.\r\n\r\n```\r\nException in thread &quot;main&quot; java.lang.IllegalStateException: Logback configuration error detected: \r\nERROR in ch.qos.logback.core.joran.util.PropertySetter@75ed9710 - Could not invoke method addDestination in class net.logstash.logback.appender.LogstashTcpSocketAppender with parameter of type java.lang.String java.lang.reflect.InvocationTargetException\r\nERROR in net.logstash.logback.appender.LogstashTcpSocketAppender[LOGSTASH] - No destination was configured. Use &lt;destination&gt; to add one or more destinations to the appender\r\n\tat org.springframework.boot.logging.logback.LogbackLoggingSystem.loadConfiguration(LogbackLoggingSystem.java:169)\r\n\tat org.springframework.boot.logging.AbstractLoggingSystem.initializeWithConventions(AbstractLoggingSystem.java:80)\r\n\tat org.springframework.boot.logging.AbstractLoggingSystem.initialize(AbstractLoggingSystem.java:60)\r\n\tat org.springframework.boot.logging.logback.LogbackLoggingSystem.initialize(LogbackLoggingSystem.java:118)\r\n\tat org.springframework.boot.context.logging.LoggingApplicationListener.initializeSystem(LoggingApplicationListener.java:306)\r\n\tat org.springframework.boot.context.logging.LoggingApplicationListener.initialize(LoggingApplicationListener.java:281)\r\n\tat org.springframework.boot.context.logging.LoggingApplicationListener.onApplicationEnvironmentPreparedEvent(LoggingApplicationListener.java:239)\r\n\tat org.springframework.boot.context.logging.LoggingApplicationListener.onApplicationEvent(LoggingApplicationListener.java:216)\r\n\tat org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:172)\r\n\tat org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:165)\r\n\tat org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:139)\r\n\tat org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:127)\r\n\tat org.springframework.boot.context.event.EventPublishingRunListener.environmentPrepared(EventPublishingRunListener.java:80)\r\n\tat org.springframework.boot.SpringApplicationRunListeners.environmentPrepared(SpringApplicationRunListeners.java:53)\r\n\tat org.springframework.boot.SpringApplication.prepareEnvironment(SpringApplication.java:345)\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:308)\r\n\tat org.springframework.boot.builder.SpringApplicationBuilder.run(SpringApplicationBuilder.java:140)\r\n\tat org.springframework.cloud.bootstrap.BootstrapApplicationListener.bootstrapServiceContext(BootstrapApplicationListener.java:206)\r\n\tat org.springframework.cloud.bootstrap.BootstrapApplicationListener.onApplicationEvent(BootstrapApplicationListener.java:117)\r\n\tat org.springframework.cloud.bootstrap.BootstrapApplicationListener.onApplicationEvent(BootstrapApplicationListener.java:74)\r\n\tat org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:172)\r\n\tat org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:165)\r\n\tat org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:139)\r\n\tat org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:127)\r\n\tat org.springframework.boot.context.event.EventPublishingRunListener.environmentPrepared(EventPublishingRunListener.java:80)\r\n\tat org.springframework.boot.SpringApplicationRunListeners.environmentPrepared(SpringApplicationRunListeners.java:53)\r\n\tat org.springframework.boot.SpringApplication.prepareEnvironment(SpringApplication.java:345)\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:308)\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1237)\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1226)\r\n\tat com.idrica.goaigua.asset.start.Runner.main(Runner.java:35)\r\n\r\nProcess finished with exit code 1\r\n\r\n```\r\nThis is my logback:\r\n\r\n```\r\n```\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;configuration debug=&quot;false&quot;&gt;\r\n    &lt;!-- local profile logs to stdout --&gt;\r\n    &lt;springProfile name=&quot;local&quot;&gt;\r\n\r\n        &lt;appender name=&quot;STDOUT&quot;\r\n                  class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\r\n            &lt;encoder class=&quot;ch.qos.logback.classic.encoder.PatternLayoutEncoder&quot;&gt;\r\n                &lt;Pattern&gt;\r\n                    %green(%d{yyyy-MM-dd HH:mm:ss}) %magenta([%thread]) %blue(%-5level) %yellow(%logger{36}) - %msg%n\r\n                &lt;/Pattern&gt;\r\n            &lt;/encoder&gt;\r\n        &lt;/appender&gt;\r\n\r\n        &lt;root&gt;\r\n            &lt;appender-ref ref=&quot;STDOUT&quot;/&gt;\r\n        &lt;/root&gt;\r\n\r\n    &lt;/springProfile&gt;\r\n\r\n    &lt;!-- not local profile logs to logstash --&gt;\r\n    &lt;springProfile name=&quot;!local&quot;&gt;\r\n\r\n        &lt;appender name=&quot;LOGSTASH&quot;\r\n                  class=&quot;net.logstash.logback.appender.LogstashTcpSocketAppender&quot;&gt;\r\n            &lt;destination&gt;${LOGSTASH_URL}&lt;/destination&gt;\r\n            &lt;encoder\r\n                    class=&quot;net.logstash.logback.encoder.LoggingEventCompositeJsonEncoder&quot;&gt;\r\n                &lt;providers&gt;\r\n                    &lt;mdc/&gt;\r\n                    &lt;context/&gt;\r\n                    &lt;version/&gt;\r\n                    &lt;logLevel/&gt;\r\n                    &lt;loggerName/&gt;\r\n                    &lt;message/&gt;\r\n                    &lt;pattern&gt;\r\n                        &lt;pattern&gt;\r\n                            {\r\n                            &quot;appName&quot;: &quot;@service.name@&quot;,\r\n                            &quot;serviceName&quot;: &quot;@service.name@&quot;,\r\n                            &quot;profileName&quot;: &quot;${PROFILE}&quot;,\r\n                            &quot;type&quot;: &quot;logback&quot;\r\n                            }\r\n                        &lt;/pattern&gt;\r\n                    &lt;/pattern&gt;\r\n                    &lt;threadName/&gt;\r\n                    &lt;stackTrace/&gt;\r\n                &lt;/providers&gt;\r\n            &lt;/encoder&gt;\r\n        &lt;/appender&gt;\r\n\r\n        &lt;root&gt;\r\n            &lt;appender-ref ref=&quot;LOGSTASH&quot;/&gt;\r\n        &lt;/root&gt;\r\n\r\n    &lt;/springProfile&gt;\r\n&lt;/configuration&gt;\r\n```\r\n\r\n```\r\n```\r\n\r\nI tried several solutions I&#39;ve seen online such as:\r\n\r\nhttps://stackoverflow.com/questions/48990948/getting-java-lang-illegalstateexception-logback-configuration-error-detected-er\r\n\r\nhttps://github.com/logfellow/logstash-logback-encoder/issues/361\r\n\r\nhttps://www.programcreek.com/java-api-examples/?class=net.logstash.logback.appender.LogstashTcpSocketAppender&amp;method=addDestinations\r\n\r\nAnd nothing works for me.","title":"LogstashTcpSocketAppender[LOGSTASH] - No destination was configured","body":"<p>I've tryng to run a subscriber in Java in a Pub-Sub system. I keep getting hit with this error despite trying all solutions I've seen online.</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.IllegalStateException: Logback configuration error detected: \nERROR in ch.qos.logback.core.joran.util.PropertySetter@75ed9710 - Could not invoke method addDestination in class net.logstash.logback.appender.LogstashTcpSocketAppender with parameter of type java.lang.String java.lang.reflect.InvocationTargetException\nERROR in net.logstash.logback.appender.LogstashTcpSocketAppender[LOGSTASH] - No destination was configured. Use &lt;destination&gt; to add one or more destinations to the appender\n    at org.springframework.boot.logging.logback.LogbackLoggingSystem.loadConfiguration(LogbackLoggingSystem.java:169)\n    at org.springframework.boot.logging.AbstractLoggingSystem.initializeWithConventions(AbstractLoggingSystem.java:80)\n    at org.springframework.boot.logging.AbstractLoggingSystem.initialize(AbstractLoggingSystem.java:60)\n    at org.springframework.boot.logging.logback.LogbackLoggingSystem.initialize(LogbackLoggingSystem.java:118)\n    at org.springframework.boot.context.logging.LoggingApplicationListener.initializeSystem(LoggingApplicationListener.java:306)\n    at org.springframework.boot.context.logging.LoggingApplicationListener.initialize(LoggingApplicationListener.java:281)\n    at org.springframework.boot.context.logging.LoggingApplicationListener.onApplicationEnvironmentPreparedEvent(LoggingApplicationListener.java:239)\n    at org.springframework.boot.context.logging.LoggingApplicationListener.onApplicationEvent(LoggingApplicationListener.java:216)\n    at org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:172)\n    at org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:165)\n    at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:139)\n    at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:127)\n    at org.springframework.boot.context.event.EventPublishingRunListener.environmentPrepared(EventPublishingRunListener.java:80)\n    at org.springframework.boot.SpringApplicationRunListeners.environmentPrepared(SpringApplicationRunListeners.java:53)\n    at org.springframework.boot.SpringApplication.prepareEnvironment(SpringApplication.java:345)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:308)\n    at org.springframework.boot.builder.SpringApplicationBuilder.run(SpringApplicationBuilder.java:140)\n    at org.springframework.cloud.bootstrap.BootstrapApplicationListener.bootstrapServiceContext(BootstrapApplicationListener.java:206)\n    at org.springframework.cloud.bootstrap.BootstrapApplicationListener.onApplicationEvent(BootstrapApplicationListener.java:117)\n    at org.springframework.cloud.bootstrap.BootstrapApplicationListener.onApplicationEvent(BootstrapApplicationListener.java:74)\n    at org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:172)\n    at org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:165)\n    at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:139)\n    at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:127)\n    at org.springframework.boot.context.event.EventPublishingRunListener.environmentPrepared(EventPublishingRunListener.java:80)\n    at org.springframework.boot.SpringApplicationRunListeners.environmentPrepared(SpringApplicationRunListeners.java:53)\n    at org.springframework.boot.SpringApplication.prepareEnvironment(SpringApplication.java:345)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:308)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1237)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1226)\n    at com.idrica.goaigua.asset.start.Runner.main(Runner.java:35)\n\nProcess finished with exit code 1\n\n</code></pre>\n<p>This is my logback:</p>\n<pre><code></code></pre>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;configuration debug=&quot;false&quot;&gt;\n    &lt;!-- local profile logs to stdout --&gt;\n    &lt;springProfile name=&quot;local&quot;&gt;\n\n        &lt;appender name=&quot;STDOUT&quot;\n                  class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\n            &lt;encoder class=&quot;ch.qos.logback.classic.encoder.PatternLayoutEncoder&quot;&gt;\n                &lt;Pattern&gt;\n                    %green(%d{yyyy-MM-dd HH:mm:ss}) %magenta([%thread]) %blue(%-5level) %yellow(%logger{36}) - %msg%n\n                &lt;/Pattern&gt;\n            &lt;/encoder&gt;\n        &lt;/appender&gt;\n\n        &lt;root&gt;\n            &lt;appender-ref ref=&quot;STDOUT&quot;/&gt;\n        &lt;/root&gt;\n\n    &lt;/springProfile&gt;\n\n    &lt;!-- not local profile logs to logstash --&gt;\n    &lt;springProfile name=&quot;!local&quot;&gt;\n\n        &lt;appender name=&quot;LOGSTASH&quot;\n                  class=&quot;net.logstash.logback.appender.LogstashTcpSocketAppender&quot;&gt;\n            &lt;destination&gt;${LOGSTASH_URL}&lt;/destination&gt;\n            &lt;encoder\n                    class=&quot;net.logstash.logback.encoder.LoggingEventCompositeJsonEncoder&quot;&gt;\n                &lt;providers&gt;\n                    &lt;mdc/&gt;\n                    &lt;context/&gt;\n                    &lt;version/&gt;\n                    &lt;logLevel/&gt;\n                    &lt;loggerName/&gt;\n                    &lt;message/&gt;\n                    &lt;pattern&gt;\n                        &lt;pattern&gt;\n                            {\n                            &quot;appName&quot;: &quot;@service.name@&quot;,\n                            &quot;serviceName&quot;: &quot;@service.name@&quot;,\n                            &quot;profileName&quot;: &quot;${PROFILE}&quot;,\n                            &quot;type&quot;: &quot;logback&quot;\n                            }\n                        &lt;/pattern&gt;\n                    &lt;/pattern&gt;\n                    &lt;threadName/&gt;\n                    &lt;stackTrace/&gt;\n                &lt;/providers&gt;\n            &lt;/encoder&gt;\n        &lt;/appender&gt;\n\n        &lt;root&gt;\n            &lt;appender-ref ref=&quot;LOGSTASH&quot;/&gt;\n        &lt;/root&gt;\n\n    &lt;/springProfile&gt;\n&lt;/configuration&gt;\n</code></pre>\n<pre><code></code></pre>\n<p>I tried several solutions I've seen online such as:</p>\n<p><a href=\"https://stackoverflow.com/questions/48990948/getting-java-lang-illegalstateexception-logback-configuration-error-detected-er\">Getting java.lang.IllegalStateException: Logback configuration error detected error</a></p>\n<p><a href=\"https://github.com/logfellow/logstash-logback-encoder/issues/361\" rel=\"nofollow noreferrer\">https://github.com/logfellow/logstash-logback-encoder/issues/361</a></p>\n<p><a href=\"https://www.programcreek.com/java-api-examples/?class=net.logstash.logback.appender.LogstashTcpSocketAppender&amp;method=addDestinations\" rel=\"nofollow noreferrer\">https://www.programcreek.com/java-api-examples/?class=net.logstash.logback.appender.LogstashTcpSocketAppender&amp;method=addDestinations</a></p>\n<p>And nothing works for me.</p>\n"},{"tags":["java","android","image","error-handling"],"answers":[{"tags":[],"owner":{"account_id":23786770,"reputation":1,"user_id":17798716,"display_name":"G&#246;kdeniz"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699368638,"creation_date":1699368638,"answer_id":77439210,"question_id":77430051,"body_markdown":"Probably this problem about your background image. You should compress your image with 1080x1920 or something like that. If the picture quality is very high, some devices can&#39;t be use that picture. ","title":"Background picture of my app is not showing in other phones only in my phone","body":"<p>Probably this problem about your background image. You should compress your image with 1080x1920 or something like that. If the picture quality is very high, some devices can't be use that picture.</p>\n"}],"owner":{"account_id":26468897,"reputation":15,"user_id":20109764,"display_name":"takis Paras"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1699368638,"creation_date":1699263349,"question_id":77430051,"body_markdown":"Hello I got the following code:\r\n\r\n    &lt;androidx.constraintlayout.widget.ConstraintLayout\r\n        xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n        xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n        xmlns:card_view=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:orientation=&quot;vertical&quot;\r\n        android:background=&quot;@drawable/test6&quot;\r\n        tools:context=&quot;.LoginActivity&quot;&gt;\r\n\r\nthat represents a login screen with a background picture. When I do the command\r\n\r\n ./gradlew assembleDebug    \r\n\r\nto take the apk, I upload it to a cloud server then, and when I download it from my phone the background picture is showing. The problem is that every other phone that downloads the same apk , the background picture is not showing only a white default background. Any idea why is this happening? ","title":"Background picture of my app is not showing in other phones only in my phone","body":"<p>Hello I got the following code:</p>\n<pre><code>&lt;androidx.constraintlayout.widget.ConstraintLayout\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    xmlns:card_view=&quot;http://schemas.android.com/apk/res-auto&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    android:orientation=&quot;vertical&quot;\n    android:background=&quot;@drawable/test6&quot;\n    tools:context=&quot;.LoginActivity&quot;&gt;\n</code></pre>\n<p>that represents a login screen with a background picture. When I do the command</p>\n<p>./gradlew assembleDebug</p>\n<p>to take the apk, I upload it to a cloud server then, and when I download it from my phone the background picture is showing. The problem is that every other phone that downloads the same apk , the background picture is not showing only a white default background. Any idea why is this happening?</p>\n"},{"tags":["java","testing","tags","google-cloud-dataflow","junit4"],"comments":[{"owner":{"account_id":5656621,"reputation":563,"user_id":4475588,"accept_rate":0,"display_name":"Igor Tiulkanov"},"score":0,"creation_date":1699377374,"post_id":77432949,"comment_id":136522978,"body_markdown":"Solved, by proper instantiation of the tags","body":"Solved, by proper instantiation of the tags"}],"answers":[{"comments":[{"owner":{"account_id":5656621,"reputation":563,"user_id":4475588,"accept_rate":0,"display_name":"Igor Tiulkanov"},"score":0,"creation_date":1699377343,"post_id":77439200,"comment_id":136522968,"body_markdown":"It appears that the instantiation of the tags was the main issue. I should have simply created both of them within the testProcessElement function.","body":"It appears that the instantiation of the tags was the main issue. I should have simply created both of them within the testProcessElement function."}],"tags":[],"owner":{"account_id":27957421,"reputation":76,"user_id":21349971,"display_name":"John Casey"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1699368577,"creation_date":1699368577,"answer_id":77439200,"question_id":77432949,"body_markdown":"There are two places to start checking. First, be sure to add .withOutputTags() to your ParDo.\r\n\r\nSecond, its possible this is being run on different runners in the test versus the main pipeline, which can cause inconsistent behavior. ","title":"Apache Beam Test Fails Due to Unknown Output Tag Exception in Java SDK","body":"<p>There are two places to start checking. First, be sure to add .withOutputTags() to your ParDo.</p>\n<p>Second, its possible this is being run on different runners in the test versus the main pipeline, which can cause inconsistent behavior.</p>\n"}],"owner":{"account_id":5656621,"reputation":563,"user_id":4475588,"accept_rate":0,"display_name":"Igor Tiulkanov"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77439200,"answer_count":1,"score":0,"last_activity_date":1699368577,"creation_date":1699290253,"question_id":77432949,"body_markdown":"I&#39;m working on an Apache Beam project using the Java SDK, and I&#39;ve encountered a persistent issue during testing. My pipeline uses a DoFn that emits elements to a main output and a side output. However, when running my tests, I&#39;m receiving an IllegalArgumentException indicating an &quot;Unknown output tag.&quot;\r\n\r\nHere&#39;s the stack trace that pinpoints the problem:\r\n\r\n    Caused by: java.lang.IllegalArgumentException: Unknown output tag Tag&lt;com.myproject.SomeClassWithDefinedTags#10&gt;\r\n    \tat org.apache.beam.vendor.guava.v26_0_jre.com.google.common.base.Preconditions.checkArgument(Preconditions.java:216)\r\n    \tat org.apache.beam.repackaged.direct_java.runners.core.SimpleDoFnRunner.outputWindowedValue(SimpleDoFnRunner.java:274)\r\n    \tat org.apache.beam.repackaged.direct_java.runners.core.SimpleDoFnRunner.access$900(SimpleDoFnRunner.java:85)\r\n    \tat org.apache.beam.repackaged.direct_java.runners.core.SimpleDoFnRunner$DoFnProcessContext.output(SimpleDoFnRunner.java:423)\r\n    \tat org.apache.beam.sdk.transforms.DoFnOutputReceivers$WindowedContextOutputReceiver.output(DoFnOutputReceivers.java:76)\r\n    \tat myProject.DoFn.processElement(DoFn.java:136)\r\n\r\n\r\nI&#39;ve double-checked that my TupleTags are imported and utilized correctly in the test. Here&#39;s a snippet for context:\r\n\r\n\r\n    import static com.myproject.transform.SomeClassWithDefinedTags.SuccessTag;\r\n    import static com.myproject.transform.SomeClassWithDefinedTags.FailTag; \r\n\r\n    @Test\r\n        @Category(NeedsRunner.class)\r\n        public void testProcessElement() {\r\n            String testInput = &quot;&quot;;\r\n            List&lt;String&gt; input = List.of(testInput);\r\n            PCollection&lt;String&gt; output =\r\n                    p.apply(Create.of(input))\r\n                            .apply(ParDo.of(new DoFn(SuccessTag, FailTag)));\r\n            PAssert.that(output).containsInAnyOrder(&quot;&quot;);\r\n            p.run().waitUntilFinish();\r\n        }\r\n\r\nThe MyDoFn class is structured to output to SuccessTag and FailTag tags accordingly. Despite ensuring that the tags are consistent, the test fails with the above exception. The DoFn is also used in the main pipeline without any issues.\r\n\r\nCould someone help me understand what might be causing this &quot;Unknown output tag&quot; exception in the test environment and how to resolve it?\r\n","title":"Apache Beam Test Fails Due to Unknown Output Tag Exception in Java SDK","body":"<p>I'm working on an Apache Beam project using the Java SDK, and I've encountered a persistent issue during testing. My pipeline uses a DoFn that emits elements to a main output and a side output. However, when running my tests, I'm receiving an IllegalArgumentException indicating an &quot;Unknown output tag.&quot;</p>\n<p>Here's the stack trace that pinpoints the problem:</p>\n<pre><code>Caused by: java.lang.IllegalArgumentException: Unknown output tag Tag&lt;com.myproject.SomeClassWithDefinedTags#10&gt;\n    at org.apache.beam.vendor.guava.v26_0_jre.com.google.common.base.Preconditions.checkArgument(Preconditions.java:216)\n    at org.apache.beam.repackaged.direct_java.runners.core.SimpleDoFnRunner.outputWindowedValue(SimpleDoFnRunner.java:274)\n    at org.apache.beam.repackaged.direct_java.runners.core.SimpleDoFnRunner.access$900(SimpleDoFnRunner.java:85)\n    at org.apache.beam.repackaged.direct_java.runners.core.SimpleDoFnRunner$DoFnProcessContext.output(SimpleDoFnRunner.java:423)\n    at org.apache.beam.sdk.transforms.DoFnOutputReceivers$WindowedContextOutputReceiver.output(DoFnOutputReceivers.java:76)\n    at myProject.DoFn.processElement(DoFn.java:136)\n</code></pre>\n<p>I've double-checked that my TupleTags are imported and utilized correctly in the test. Here's a snippet for context:</p>\n<pre><code>import static com.myproject.transform.SomeClassWithDefinedTags.SuccessTag;\nimport static com.myproject.transform.SomeClassWithDefinedTags.FailTag; \n\n@Test\n    @Category(NeedsRunner.class)\n    public void testProcessElement() {\n        String testInput = &quot;&quot;;\n        List&lt;String&gt; input = List.of(testInput);\n        PCollection&lt;String&gt; output =\n                p.apply(Create.of(input))\n                        .apply(ParDo.of(new DoFn(SuccessTag, FailTag)));\n        PAssert.that(output).containsInAnyOrder(&quot;&quot;);\n        p.run().waitUntilFinish();\n    }\n</code></pre>\n<p>The MyDoFn class is structured to output to SuccessTag and FailTag tags accordingly. Despite ensuring that the tags are consistent, the test fails with the above exception. The DoFn is also used in the main pipeline without any issues.</p>\n<p>Could someone help me understand what might be causing this &quot;Unknown output tag&quot; exception in the test environment and how to resolve it?</p>\n"},{"tags":["java","spring","spring-integration","spring-integration-sftp"],"answers":[{"comments":[{"owner":{"account_id":15925517,"reputation":87,"user_id":11491219,"display_name":"Shail"},"score":0,"creation_date":1699401911,"post_id":77439191,"comment_id":136526485,"body_markdown":"Thanks Artem, this resolved the issue and the service is working as we were expecting.","body":"Thanks Artem, this resolved the issue and the service is working as we were expecting."}],"tags":[],"owner":{"account_id":3273937,"reputation":114870,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1699368453,"creation_date":1699368453,"answer_id":77439191,"question_id":77438106,"body_markdown":"The `@Poller` for the `@InboundChannelAdapter` polls one message per task. Consider to configure it like `maxMessagesPerPoll = &quot;-1&quot;`. This way all the available files are going to be processed in a single polling task. Then, since there is no local files, it is going to request for more from SFTP on the next polling cycle. In your case at about after a minute since `fixedRate` means to start a new polling task just after this one has started.","title":"Spring Integration sftp new file not polled till message handler goes through the list of all files cached on local","body":"<p>The <code>@Poller</code> for the <code>@InboundChannelAdapter</code> polls one message per task. Consider to configure it like <code>maxMessagesPerPoll = &quot;-1&quot;</code>. This way all the available files are going to be processed in a single polling task. Then, since there is no local files, it is going to request for more from SFTP on the next polling cycle. In your case at about after a minute since <code>fixedRate</code> means to start a new polling task just after this one has started.</p>\n"}],"owner":{"account_id":15925517,"reputation":87,"user_id":11491219,"display_name":"Shail"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77439191,"answer_count":1,"score":0,"last_activity_date":1699368453,"creation_date":1699358912,"question_id":77438106,"body_markdown":"```\r\n\t@Bean\r\n\tpublic SessionFactory&lt;SftpClient.DirEntry&gt; sftpSessionFactory() {\r\n\t\tDefaultSftpSessionFactory factory = new DefaultSftpSessionFactory(true);\r\n\t\tfactory.setHost(sftpHost);\r\n\t\tfactory.setPort(sftpPort);\r\n\t\tfactory.setUser(sftpUser);\r\n//\t\tif (sftpPrivateKey != null) {\r\n//\t\t\tfactory.setPrivateKey(sftpPrivateKey);\r\n//\t\t\tfactory.setPrivateKeyPassphrase(sftpPrivateKeyPassphrase);\r\n//\t\t}\r\n\t\tfactory.setPassword(sftpPassword);\r\n\t\tfactory.setAllowUnknownKeys(true);\r\n\r\n\t\treturn new CachingSessionFactory&lt;&gt;(factory);\r\n\t}\r\n\t\r\n```\r\n\r\n  \r\n**SftpInboundConfig.java**\r\n\r\n```\r\npackage com.shail.sftp.config;\r\n\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.integration.annotation.InboundChannelAdapter;\r\nimport org.springframework.integration.annotation.Poller;\r\nimport org.springframework.integration.annotation.ServiceActivator;\r\nimport org.springframework.integration.core.MessageSource;\r\n\r\n\r\nimport org.springframework.integration.file.filters.AcceptOnceFileListFilter;\r\n\r\nimport org.springframework.integration.file.remote.session.SessionFactory;\r\nimport org.springframework.integration.sftp.filters.SftpSimplePatternFileListFilter;\r\nimport org.springframework.integration.sftp.inbound.SftpInboundFileSynchronizer;\r\nimport org.springframework.integration.sftp.inbound.SftpInboundFileSynchronizingMessageSource;\r\n\r\nimport org.springframework.messaging.MessageHandler;\r\n\r\nimport java.io.File;\r\n\r\n@Configuration\r\npublic class SftpInboundConfig {\r\n\r\n    @Autowired\r\n    private SessionFactory session;\r\n    @Bean\r\n    public SftpInboundFileSynchronizer sftpInboundFileSynchronizer() {\r\n        SftpInboundFileSynchronizer synchronizer = new SftpInboundFileSynchronizer(session);\r\n        synchronizer.setDeleteRemoteFiles(true); \r\n        synchronizer.setRemoteDirectory(&quot;/home/shail/sftp_dir/patient/&quot;);\r\n        synchronizer.setFilter(new SftpSimplePatternFileListFilter(&quot;*.*&quot;)); // File filter pattern\r\n        return synchronizer;\r\n    }\r\n\r\n\r\n    @Bean\r\n    @InboundChannelAdapter(value = &quot;sftpChannel&quot;, poller = @Poller(fixedRate = &quot;60000&quot;)) // Poll every 60 seconds\r\n    public MessageSource&lt;File&gt; sftpInboundAdapter() {\r\n        SftpInboundFileSynchronizingMessageSource source =\r\n                new SftpInboundFileSynchronizingMessageSource(sftpInboundFileSynchronizer());\r\n        source.setLocalDirectory(new File(&quot;src/main/resources/localDownload/patient/&quot;));\r\n        source.setAutoCreateLocalDirectory(true);\r\n        //source.setLocalFilter(new AcceptOnceFileListFilter&lt;&gt;());\r\n        source.setMaxFetchSize(-1); // Set to a higher value if you want to fetch multiple files at a time\r\n        return source;\r\n    }\r\n\r\n\r\n\r\n    @Bean\r\n    @ServiceActivator(inputChannel = &quot;sftpChannel&quot;)\r\n    public MessageHandler sftpMessageHandler() {\r\n        return message -&gt; {\r\n            // Handle the downloaded file (e.g., process or save it)\r\n            File file = (File) message.getPayload();\r\n            System.out.println(&quot;Received file: &quot; + file.getName() + &quot;  @  &quot; + LocalDateTime.now());\r\n        };\r\n    }\r\n}\r\n```\r\n\r\n  \r\nWhen the application is started, during the first poll all the files are getting downloaded in the local directory; but the message handler is receiving one file in each Poll i.e,  in console at every 1 minute i see the log `Received file: Product_1_20231107162209.json  @  2023-11-07T17:01:16.124739600` .  \r\nAnd in between if new files are added in the sftp server, then the service (code) does not downloads new files till the `MessageHandler` has gone through the list of all files downloaded in the initial caching.  \r\n  \r\nPlease see the below screenshot of logs and file explorer for more details on timing behavior  \r\n  \r\nFileExplorer  \r\n[![enter image description here](https://i.stack.imgur.com/uRgRo.png)](https://i.stack.imgur.com/uRgRo.png)  \r\n  \r\n  \r\nConsole Log  \r\n[![enter image description here](https://i.stack.imgur.com/o0sTF.png)](https://i.stack.imgur.com/o0sTF.png)\r\n\r\n**What I am trying to do:**\r\n\r\nI want to implement the inbound adapter so that in each polling all the on the sftp server should be downloaded to local directory, meaning when the first polling happened at 17:12, the first 5 files should have been downloaded and at 17:14 when the second set of files were added on sftp server, they all should have been downloaded at 17:15 instead of waiting till 17:17  for MessageHandler to go through the list of files received at 17:12.Could you please suggest how to handle this issue?  \r\n  \r\n**What I have tried:**\r\n\r\nI tried increasing decreasing the maxFetchSize and also tried removing the `AcceptOnceFileListFilter` but this didn&#39;t helped. ","title":"Spring Integration sftp new file not polled till message handler goes through the list of all files cached on local","body":"<pre><code>    @Bean\n    public SessionFactory&lt;SftpClient.DirEntry&gt; sftpSessionFactory() {\n        DefaultSftpSessionFactory factory = new DefaultSftpSessionFactory(true);\n        factory.setHost(sftpHost);\n        factory.setPort(sftpPort);\n        factory.setUser(sftpUser);\n//      if (sftpPrivateKey != null) {\n//          factory.setPrivateKey(sftpPrivateKey);\n//          factory.setPrivateKeyPassphrase(sftpPrivateKeyPassphrase);\n//      }\n        factory.setPassword(sftpPassword);\n        factory.setAllowUnknownKeys(true);\n\n        return new CachingSessionFactory&lt;&gt;(factory);\n    }\n    \n</code></pre>\n<p><strong>SftpInboundConfig.java</strong></p>\n<pre><code>package com.shail.sftp.config;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.integration.annotation.InboundChannelAdapter;\nimport org.springframework.integration.annotation.Poller;\nimport org.springframework.integration.annotation.ServiceActivator;\nimport org.springframework.integration.core.MessageSource;\n\n\nimport org.springframework.integration.file.filters.AcceptOnceFileListFilter;\n\nimport org.springframework.integration.file.remote.session.SessionFactory;\nimport org.springframework.integration.sftp.filters.SftpSimplePatternFileListFilter;\nimport org.springframework.integration.sftp.inbound.SftpInboundFileSynchronizer;\nimport org.springframework.integration.sftp.inbound.SftpInboundFileSynchronizingMessageSource;\n\nimport org.springframework.messaging.MessageHandler;\n\nimport java.io.File;\n\n@Configuration\npublic class SftpInboundConfig {\n\n    @Autowired\n    private SessionFactory session;\n    @Bean\n    public SftpInboundFileSynchronizer sftpInboundFileSynchronizer() {\n        SftpInboundFileSynchronizer synchronizer = new SftpInboundFileSynchronizer(session);\n        synchronizer.setDeleteRemoteFiles(true); \n        synchronizer.setRemoteDirectory(&quot;/home/shail/sftp_dir/patient/&quot;);\n        synchronizer.setFilter(new SftpSimplePatternFileListFilter(&quot;*.*&quot;)); // File filter pattern\n        return synchronizer;\n    }\n\n\n    @Bean\n    @InboundChannelAdapter(value = &quot;sftpChannel&quot;, poller = @Poller(fixedRate = &quot;60000&quot;)) // Poll every 60 seconds\n    public MessageSource&lt;File&gt; sftpInboundAdapter() {\n        SftpInboundFileSynchronizingMessageSource source =\n                new SftpInboundFileSynchronizingMessageSource(sftpInboundFileSynchronizer());\n        source.setLocalDirectory(new File(&quot;src/main/resources/localDownload/patient/&quot;));\n        source.setAutoCreateLocalDirectory(true);\n        //source.setLocalFilter(new AcceptOnceFileListFilter&lt;&gt;());\n        source.setMaxFetchSize(-1); // Set to a higher value if you want to fetch multiple files at a time\n        return source;\n    }\n\n\n\n    @Bean\n    @ServiceActivator(inputChannel = &quot;sftpChannel&quot;)\n    public MessageHandler sftpMessageHandler() {\n        return message -&gt; {\n            // Handle the downloaded file (e.g., process or save it)\n            File file = (File) message.getPayload();\n            System.out.println(&quot;Received file: &quot; + file.getName() + &quot;  @  &quot; + LocalDateTime.now());\n        };\n    }\n}\n</code></pre>\n<p>When the application is started, during the first poll all the files are getting downloaded in the local directory; but the message handler is receiving one file in each Poll i.e,  in console at every 1 minute i see the log <code>Received file: Product_1_20231107162209.json  @  2023-11-07T17:01:16.124739600</code> .<br />\nAnd in between if new files are added in the sftp server, then the service (code) does not downloads new files till the <code>MessageHandler</code> has gone through the list of all files downloaded in the initial caching.</p>\n<p>Please see the below screenshot of logs and file explorer for more details on timing behavior</p>\n<p>FileExplorer<br />\n<a href=\"https://i.stack.imgur.com/uRgRo.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/uRgRo.png\" alt=\"enter image description here\" /></a></p>\n<p>Console Log<br />\n<a href=\"https://i.stack.imgur.com/o0sTF.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/o0sTF.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>What I am trying to do:</strong></p>\n<p>I want to implement the inbound adapter so that in each polling all the on the sftp server should be downloaded to local directory, meaning when the first polling happened at 17:12, the first 5 files should have been downloaded and at 17:14 when the second set of files were added on sftp server, they all should have been downloaded at 17:15 instead of waiting till 17:17  for MessageHandler to go through the list of files received at 17:12.Could you please suggest how to handle this issue?</p>\n<p><strong>What I have tried:</strong></p>\n<p>I tried increasing decreasing the maxFetchSize and also tried removing the <code>AcceptOnceFileListFilter</code> but this didn't helped.</p>\n"},{"tags":["java","selenium-webdriver","selenium-chromedriver","automated-tests"],"answers":[{"comments":[{"owner":{"account_id":22689437,"reputation":33,"user_id":16858573,"display_name":"Samathi kisalka"},"score":0,"creation_date":1698905204,"post_id":77407202,"comment_id":136464175,"body_markdown":"Thankyou for the answer .I have actually added them. All my test cases work fine tif I run them individually. But if I run all test classes together as a suit in &quot;testng.xml&quot; then I encounter issues like not find locators, the driver is null etc.","body":"Thankyou for the answer .I have actually added them. All my test cases work fine tif I run them individually. But if I run all test classes together as a suit in &quot;testng.xml&quot; then I encounter issues like not find locators, the driver is null etc."}],"tags":[],"owner":{"account_id":27938804,"reputation":102,"user_id":21335232,"display_name":"Bhairu"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698904145,"creation_date":1698904145,"answer_id":77407202,"question_id":77406379,"body_markdown":"    The exception clearly points to the Timeout Exception, add a Wait mechanism after every test.\r\n    \r\n    **@Test**\r\n    Test1()\r\n    {\r\n    //code\r\n    Wait&lt;Webdriver&gt; wait=new WebdriverWait(driver, Duration.ofSeconds(20));\r\n    wait.until(ExpectedConditions.presenceOfElementLocated(By.xpath(&quot;pass the element it take a time to appear in the page&quot;));\r\n    }\r\n    \r\n    **@Test**\r\n    Test2()\r\n    //your code\r\n    Wait&lt;Webdriver&gt; wait=new WebdriverWait(driver, Duration.of seconds(20));\r\n    \r\n    wait.until(ExpectedConditions.presenceOfElementLocated(By.xpath(&quot;pass the element it take a time to appear in the page&quot;));\r\n    \r\n    }\r\n\r\n**And for the closing browser, have a look into your afterTest or you can remove the closing browser code.**","title":"Java Selenium Automation Chrome close before all tests complete","body":"<pre><code>The exception clearly points to the Timeout Exception, add a Wait mechanism after every test.\n\n**@Test**\nTest1()\n{\n//code\nWait&lt;Webdriver&gt; wait=new WebdriverWait(driver, Duration.ofSeconds(20));\nwait.until(ExpectedConditions.presenceOfElementLocated(By.xpath(&quot;pass the element it take a time to appear in the page&quot;));\n}\n\n**@Test**\nTest2()\n//your code\nWait&lt;Webdriver&gt; wait=new WebdriverWait(driver, Duration.of seconds(20));\n\nwait.until(ExpectedConditions.presenceOfElementLocated(By.xpath(&quot;pass the element it take a time to appear in the page&quot;));\n\n}\n</code></pre>\n<p><strong>And for the closing browser, have a look into your afterTest or you can remove the closing browser code.</strong></p>\n"}],"owner":{"account_id":22689437,"reputation":33,"user_id":16858573,"display_name":"Samathi kisalka"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1699368329,"creation_date":1698886364,"question_id":77406379,"body_markdown":"I&#39;m currently doing UI automation using Java Selenium, there I have 3 test classes. When I run them separately I don&#39;t encounter any problems. However if I run all 3 pages togather then some test fails saying they cant find the locator. How to solve this issue. Is this an issue with synchronization or is my waiting times could be too long?\r\n\r\n```\r\nat org.openqa.selenium.support.ui.WebDriverWait.timeoutException(WebDriverWait.java:84)\r\n\tat org.openqa.selenium.support.ui.FluentWait.until(FluentWait.java:230)\r\n\tat pages.CartPage.addItemsToCart(CartPage.java:37)\r\n\tat tests.CartPageTest.updateCart(CartPageTest.java:27)\r\n```","title":"Java Selenium Automation Chrome close before all tests complete","body":"<p>I'm currently doing UI automation using Java Selenium, there I have 3 test classes. When I run them separately I don't encounter any problems. However if I run all 3 pages togather then some test fails saying they cant find the locator. How to solve this issue. Is this an issue with synchronization or is my waiting times could be too long?</p>\n<pre><code>at org.openqa.selenium.support.ui.WebDriverWait.timeoutException(WebDriverWait.java:84)\n    at org.openqa.selenium.support.ui.FluentWait.until(FluentWait.java:230)\n    at pages.CartPage.addItemsToCart(CartPage.java:37)\n    at tests.CartPageTest.updateCart(CartPageTest.java:27)\n</code></pre>\n"},{"tags":["java","xml","spring","maven","spring-mvc"],"comments":[{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":10,"creation_date":1642056437,"post_id":70692260,"comment_id":124971571,"body_markdown":"Use `https` for the location of the xsd not `http`.","body":"Use <code>https</code> for the location of the xsd not <code>http</code>."},{"owner":{"account_id":529122,"reputation":158120,"user_id":415448,"accept_rate":33,"display_name":"Michael Kay"},"score":3,"creation_date":1642063705,"post_id":70692260,"comment_id":124973785,"body_markdown":"Please don&#39;t display your code as an image. No-one wants to retype a long URL copied manually from an image.","body":"Please don&#39;t display your code as an image. No-one wants to retype a long URL copied manually from an image."},{"owner":{"account_id":23926385,"reputation":517,"user_id":17921449,"display_name":"Mussawir Ahmad Paul"},"score":2,"creation_date":1642064734,"post_id":70692260,"comment_id":124974166,"body_markdown":"@MichaelKay I have edited the question and removed the image, instead I added the code. I am Actually new here so I barely knew how this worked","body":"@MichaelKay I have edited the question and removed the image, instead I added the code. I am Actually new here so I barely knew how this worked"},{"owner":{"account_id":23926385,"reputation":517,"user_id":17921449,"display_name":"Mussawir Ahmad Paul"},"score":0,"creation_date":1642064798,"post_id":70692260,"comment_id":124974183,"body_markdown":"@M.Deinum Thank You Sir, Your solution has helped get rid of this error","body":"@M.Deinum Thank You Sir, Your solution has helped get rid of this error"},{"owner":{"account_id":246313,"reputation":10189,"user_id":520394,"display_name":"barti_ddu"},"score":1,"creation_date":1642064816,"post_id":70692260,"comment_id":124974193,"body_markdown":"And providing the error message would be helpful too :)","body":"And providing the error message would be helpful too :)"},{"owner":{"account_id":23926385,"reputation":517,"user_id":17921449,"display_name":"Mussawir Ahmad Paul"},"score":0,"creation_date":1642065405,"post_id":70692260,"comment_id":124974412,"body_markdown":"@barti_ddu Okay","body":"@barti_ddu Okay"},{"owner":{"account_id":529122,"reputation":158120,"user_id":415448,"accept_rate":33,"display_name":"Michael Kay"},"score":2,"creation_date":1642073246,"post_id":70692260,"comment_id":124977458,"body_markdown":"If I paste your XML into Oxygen and click &quot;validate&quot;, it validates just fine (and shows errors if I make it deliberately invalid). So the problem is something to do with the way you are running the validation (which you haven&#39;t said anything about). You say &quot;it starts displaying this error&quot;, but what is &quot;it&quot;?","body":"If I paste your XML into Oxygen and click &quot;validate&quot;, it validates just fine (and shows errors if I make it deliberately invalid). So the problem is something to do with the way you are running the validation (which you haven&#39;t said anything about). You say &quot;it starts displaying this error&quot;, but what is &quot;it&quot;?"},{"owner":{"account_id":23926385,"reputation":517,"user_id":17921449,"display_name":"Mussawir Ahmad Paul"},"score":1,"creation_date":1642076218,"post_id":70692260,"comment_id":124978506,"body_markdown":"By &#39;it&#39; I meant IDE. I wanted to create a simple project using with MVC functionality, I chose maven and selected archetype as &#39;webapp&#39;. after the project and the files in it were successfully loaded, an error blip appeared on &#39;pom.xml&#39;. Inside pom.xml, the IDE was indicating the error at the first line where the &#39;&lt;Project&gt;&#39; tag starts.\nwhen you hover on the red blip at line one(where it is indicating the error) it displays a tooltip message:\n\nerror: cvc-elt.1.a: Cannot find the declaration of element &#39;project&#39;","body":"By &#39;it&#39; I meant IDE. I wanted to create a simple project using with MVC functionality, I chose maven and selected archetype as &#39;webapp&#39;. after the project and the files in it were successfully loaded, an error blip appeared on &#39;pom.xml&#39;. Inside pom.xml, the IDE was indicating the error at the first line where the &#39;&lt;Project&gt;&#39; tag starts. when you hover on the red blip at line one(where it is indicating the error) it displays a tooltip message:  error: cvc-elt.1.a: Cannot find the declaration of element &#39;project&#39;"}],"answers":[{"comments":[{"owner":{"account_id":1187908,"reputation":8615,"user_id":1161484,"accept_rate":93,"display_name":"Daniel Widdis"},"score":0,"creation_date":1643132688,"post_id":70693979,"comment_id":125257048,"body_markdown":"You would think `mvn tidy:pom` wouldn&#39;t break perfectly-good https links, but it does.","body":"You would think <code>mvn tidy:pom</code> wouldn&#39;t break perfectly-good https links, but it does."},{"owner":{"account_id":2452792,"reputation":6158,"user_id":2138633,"accept_rate":80,"display_name":"ManojP"},"score":0,"creation_date":1672727206,"post_id":70693979,"comment_id":132334558,"body_markdown":"Thanks, it solved the problems after replacing the HTTP with HTTPS.","body":"Thanks, it solved the problems after replacing the HTTP with HTTPS."}],"tags":[],"owner":{"account_id":23926385,"reputation":517,"user_id":17921449,"display_name":"Mussawir Ahmad Paul"},"comment_count":2,"down_vote_count":0,"up_vote_count":30,"is_accepted":true,"score":30,"last_activity_date":1642065227,"creation_date":1642065227,"answer_id":70693979,"question_id":70692260,"body_markdown":"I have Found the Solution to this problem, Thanks to @M.Deinum who commented the solution below the question.\r\n\r\nAll I did was add https to the link in the tag, instead of http.\r\n\r\nhere is the previous code:\r\n\r\n\r\n\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n      xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;\r\n      &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n      &lt;groupId&gt;com.myfirstmvcapp&lt;/groupId&gt;\r\n      &lt;artifactId&gt;helloworldabc&lt;/artifactId&gt;\r\n      &lt;packaging&gt;war&lt;/packaging&gt;\r\n      &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n      &lt;name&gt;helloworldabc Maven Webapp&lt;/name&gt;\r\n      &lt;url&gt;http://maven.apache.org&lt;/url&gt;\r\n      &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;junit&lt;/groupId&gt;\r\n          &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n          &lt;version&gt;3.8.1&lt;/version&gt;\r\n          &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n      &lt;/dependencies&gt;\r\n      &lt;build&gt;\r\n      &lt;plugins&gt;\r\n      &lt;plugin&gt;\r\n      &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n      &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\r\n      &lt;version&gt;3.3.1&lt;/version&gt;\r\n      &lt;/plugin&gt;\r\n      &lt;/plugins&gt;\r\n        &lt;finalName&gt;helloworldabc&lt;/finalName&gt;\r\n      &lt;/build&gt;\r\n    &lt;/project&gt;\r\n\r\n\r\n\r\nHere is the lastest code, all that is needed is to add https instead of http to the xsd link in the last link of project tag.\r\n\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n      xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;\r\n      &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n      &lt;groupId&gt;com.myfirstmvcapp&lt;/groupId&gt;\r\n      &lt;artifactId&gt;helloworldabc&lt;/artifactId&gt;\r\n      &lt;packaging&gt;war&lt;/packaging&gt;\r\n      &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n      &lt;name&gt;helloworldabc Maven Webapp&lt;/name&gt;\r\n      &lt;url&gt;http://maven.apache.org&lt;/url&gt;\r\n      &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;junit&lt;/groupId&gt;\r\n          &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n          &lt;version&gt;3.8.1&lt;/version&gt;\r\n          &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n      &lt;/dependencies&gt;\r\n      &lt;build&gt;\r\n      &lt;plugins&gt;\r\n      &lt;plugin&gt;\r\n      &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n      &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\r\n      &lt;version&gt;3.3.1&lt;/version&gt;\r\n      &lt;/plugin&gt;\r\n      &lt;/plugins&gt;\r\n        &lt;finalName&gt;helloworldabc&lt;/finalName&gt;\r\n      &lt;/build&gt;\r\n    &lt;/project&gt;\r\n\r\n","title":"cvc-elt.1.a: Cannot find the declaration of element &#39;project&#39;","body":"<p>I have Found the Solution to this problem, Thanks to @M.Deinum who commented the solution below the question.</p>\n<p>All I did was add https to the link in the tag, instead of http.</p>\n<p>here is the previous code:</p>\n<pre><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n  xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n  &lt;groupId&gt;com.myfirstmvcapp&lt;/groupId&gt;\n  &lt;artifactId&gt;helloworldabc&lt;/artifactId&gt;\n  &lt;packaging&gt;war&lt;/packaging&gt;\n  &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n  &lt;name&gt;helloworldabc Maven Webapp&lt;/name&gt;\n  &lt;url&gt;http://maven.apache.org&lt;/url&gt;\n  &lt;dependencies&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;junit&lt;/groupId&gt;\n      &lt;artifactId&gt;junit&lt;/artifactId&gt;\n      &lt;version&gt;3.8.1&lt;/version&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n  &lt;/dependencies&gt;\n  &lt;build&gt;\n  &lt;plugins&gt;\n  &lt;plugin&gt;\n  &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n  &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\n  &lt;version&gt;3.3.1&lt;/version&gt;\n  &lt;/plugin&gt;\n  &lt;/plugins&gt;\n    &lt;finalName&gt;helloworldabc&lt;/finalName&gt;\n  &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<p>Here is the lastest code, all that is needed is to add https instead of http to the xsd link in the last link of project tag.</p>\n<pre><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n  xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n  &lt;groupId&gt;com.myfirstmvcapp&lt;/groupId&gt;\n  &lt;artifactId&gt;helloworldabc&lt;/artifactId&gt;\n  &lt;packaging&gt;war&lt;/packaging&gt;\n  &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n  &lt;name&gt;helloworldabc Maven Webapp&lt;/name&gt;\n  &lt;url&gt;http://maven.apache.org&lt;/url&gt;\n  &lt;dependencies&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;junit&lt;/groupId&gt;\n      &lt;artifactId&gt;junit&lt;/artifactId&gt;\n      &lt;version&gt;3.8.1&lt;/version&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n  &lt;/dependencies&gt;\n  &lt;build&gt;\n  &lt;plugins&gt;\n  &lt;plugin&gt;\n  &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n  &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\n  &lt;version&gt;3.3.1&lt;/version&gt;\n  &lt;/plugin&gt;\n  &lt;/plugins&gt;\n    &lt;finalName&gt;helloworldabc&lt;/finalName&gt;\n  &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15207672,"reputation":1864,"user_id":10973514,"display_name":"pref"},"comment_count":0,"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1680887932,"creation_date":1653978722,"answer_id":72443134,"question_id":70692260,"body_markdown":"I had to use **https** for all of them  i.e.\r\n\r\n    &lt;project xmlns=&quot;https://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;https://www.w3.org/2001/XMLSchema-instance&quot; \r\n             xsi:schemaLocation=&quot;https://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\r\nfor the warning to go away in VSCode.","title":"cvc-elt.1.a: Cannot find the declaration of element &#39;project&#39;","body":"<p>I had to use <strong>https</strong> for all of them  i.e.</p>\n<pre><code>&lt;project xmlns=&quot;https://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;https://www.w3.org/2001/XMLSchema-instance&quot; \n         xsi:schemaLocation=&quot;https://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n</code></pre>\n<p>for the warning to go away in VSCode.</p>\n"},{"tags":[],"owner":{"account_id":27996809,"reputation":51,"user_id":21381857,"display_name":"nqmeh"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1698056684,"creation_date":1698056684,"answer_id":77344414,"question_id":70692260,"body_markdown":"As there is no such issue like replacing http with https in Eclipse IDE for Enterprise Java and Web Developers Version: 2023-09 (4.29.0), and using Java version: 17.0.8.1\r\n\r\nYou need to **force download** https://maven.apache.org/xsd/maven-4.0.0.xsd; for that simply hover the mouse on this link and click download.","title":"cvc-elt.1.a: Cannot find the declaration of element &#39;project&#39;","body":"<p>As there is no such issue like replacing http with https in Eclipse IDE for Enterprise Java and Web Developers Version: 2023-09 (4.29.0), and using Java version: 17.0.8.1</p>\n<p>You need to <strong>force download</strong> <a href=\"https://maven.apache.org/xsd/maven-4.0.0.xsd;\" rel=\"nofollow noreferrer\">https://maven.apache.org/xsd/maven-4.0.0.xsd;</a> for that simply hover the mouse on this link and click download.</p>\n"}],"owner":{"account_id":23926385,"reputation":517,"user_id":17921449,"display_name":"Mussawir Ahmad Paul"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":48199,"favorite_count":0,"down_vote_count":1,"up_vote_count":22,"accepted_answer_id":70693979,"answer_count":3,"score":21,"last_activity_date":1699368007,"creation_date":1642055074,"question_id":70692260,"body_markdown":"error: cvc-elt.1.a: Cannot find the declaration of element &#39;project&#39;\r\n\r\nI am getting this error constantly. Whenever I create a project using maven it starts displaying this error. I have even mentioned the &#39;maven-war-plugin&#39; under plugin tag and then updated and refreshed the project as well.\r\n\r\n\r\n\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n      xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;\r\n      &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n      &lt;groupId&gt;com.myfirstmvcapp&lt;/groupId&gt;\r\n      &lt;artifactId&gt;helloworldabc&lt;/artifactId&gt;\r\n      &lt;packaging&gt;war&lt;/packaging&gt;\r\n      &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n      &lt;name&gt;helloworldabc Maven Webapp&lt;/name&gt;\r\n      &lt;url&gt;http://maven.apache.org&lt;/url&gt;\r\n      &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;junit&lt;/groupId&gt;\r\n          &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n          &lt;version&gt;3.8.1&lt;/version&gt;\r\n          &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n      &lt;/dependencies&gt;\r\n      &lt;build&gt;\r\n      &lt;plugins&gt;\r\n      &lt;plugin&gt;\r\n      &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n      &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\r\n      &lt;version&gt;3.3.1&lt;/version&gt;\r\n      &lt;/plugin&gt;\r\n      &lt;/plugins&gt;\r\n        &lt;finalName&gt;helloworldabc&lt;/finalName&gt;\r\n      &lt;/build&gt;\r\n    &lt;/project&gt;\r\n\r\n","title":"cvc-elt.1.a: Cannot find the declaration of element &#39;project&#39;","body":"<p>error: cvc-elt.1.a: Cannot find the declaration of element 'project'</p>\n<p>I am getting this error constantly. Whenever I create a project using maven it starts displaying this error. I have even mentioned the 'maven-war-plugin' under plugin tag and then updated and refreshed the project as well.</p>\n<pre><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n  xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n  &lt;groupId&gt;com.myfirstmvcapp&lt;/groupId&gt;\n  &lt;artifactId&gt;helloworldabc&lt;/artifactId&gt;\n  &lt;packaging&gt;war&lt;/packaging&gt;\n  &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n  &lt;name&gt;helloworldabc Maven Webapp&lt;/name&gt;\n  &lt;url&gt;http://maven.apache.org&lt;/url&gt;\n  &lt;dependencies&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;junit&lt;/groupId&gt;\n      &lt;artifactId&gt;junit&lt;/artifactId&gt;\n      &lt;version&gt;3.8.1&lt;/version&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n  &lt;/dependencies&gt;\n  &lt;build&gt;\n  &lt;plugins&gt;\n  &lt;plugin&gt;\n  &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n  &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\n  &lt;version&gt;3.3.1&lt;/version&gt;\n  &lt;/plugin&gt;\n  &lt;/plugins&gt;\n    &lt;finalName&gt;helloworldabc&lt;/finalName&gt;\n  &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n"},{"tags":["java","image","jasper-reports","base64"],"comments":[{"owner":{"account_id":23551,"reputation":30672,"user_id":59087,"accept_rate":99,"display_name":"Dave Jarvis"},"score":0,"creation_date":1532709547,"post_id":33571520,"comment_id":90091187,"body_markdown":"See also: https://stackoverflow.com/a/39320863/59087","body":"See also: <a href=\"https://stackoverflow.com/a/39320863/59087\">stackoverflow.com/a/39320863/59087</a>"}],"answers":[{"comments":[{"owner":{"account_id":6287842,"reputation":410,"user_id":4886416,"accept_rate":60,"display_name":"Shelly"},"score":0,"creation_date":1550136033,"post_id":33572586,"comment_id":96161832,"body_markdown":"this doesnt work for me, any help would be appreciated.","body":"this doesnt work for me, any help would be appreciated."}],"tags":[],"owner":{"account_id":143651,"reputation":19969,"user_id":352131,"accept_rate":77,"display_name":"Durandal"},"comment_count":1,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1446831773,"creation_date":1446831773,"answer_id":33572586,"question_id":33571520,"body_markdown":"You need to decode the image somehow, e.g. use an imageExpression:\r\n\r\n    &lt;image scaleImage=&quot;RetainShape&quot; hAlign=&quot;Center&quot; vAlign=&quot;Bottom&quot; isUsingCache=&quot;false&quot;&gt;\r\n      &lt;reportElement uuid=&quot;53a340b3-7d64-4104-9e9f-0f603059579a&quot; key=&quot;Logo_Footer&quot; x=&quot;55&quot; y=&quot;760&quot; width=&quot;370&quot; height=&quot;42&quot;/&gt;\r\n        &lt;imageExpression&gt;&lt;![CDATA[new java.io.StringBufferInputStream(new org.w3c.tools.codec.Base64Decoder(&quot; Base 64 String Data &quot;).processString())]]&gt;\r\n      &lt;/imageExpression&gt;\r\n    &lt;/image&gt;\r\n\r\nI&#39;m using this to embed images, but it should work with a variable, field or parameter too.","title":"How/Can I use base64 as image source in a Jasper Report template?","body":"<p>You need to decode the image somehow, e.g. use an imageExpression:</p>\n\n<pre><code>&lt;image scaleImage=\"RetainShape\" hAlign=\"Center\" vAlign=\"Bottom\" isUsingCache=\"false\"&gt;\n  &lt;reportElement uuid=\"53a340b3-7d64-4104-9e9f-0f603059579a\" key=\"Logo_Footer\" x=\"55\" y=\"760\" width=\"370\" height=\"42\"/&gt;\n    &lt;imageExpression&gt;&lt;![CDATA[new java.io.StringBufferInputStream(new org.w3c.tools.codec.Base64Decoder(\" Base 64 String Data \").processString())]]&gt;\n  &lt;/imageExpression&gt;\n&lt;/image&gt;\n</code></pre>\n\n<p>I'm using this to embed images, but it should work with a variable, field or parameter too.</p>\n"},{"comments":[{"owner":{"account_id":423105,"reputation":17235,"user_id":802281,"accept_rate":90,"display_name":"iCodeLikeImDrunk"},"score":0,"creation_date":1446837203,"post_id":33572720,"comment_id":54925875,"body_markdown":"nope(wish i had), im fixing some old old codebase so i dont even know how to get a stacktrace for it lol...","body":"nope(wish i had), im fixing some old old codebase so i dont even know how to get a stacktrace for it lol..."},{"owner":{"account_id":423105,"reputation":17235,"user_id":802281,"accept_rate":90,"display_name":"iCodeLikeImDrunk"},"score":0,"creation_date":1446837758,"post_id":33572720,"comment_id":54926184,"body_markdown":"whelp, guess it must be my shitty codebase lol. i&#39;ll work with what u show me and hopefully get it working! thanks!","body":"whelp, guess it must be my shitty codebase lol. i&#39;ll work with what u show me and hopefully get it working! thanks!"},{"owner":{"account_id":6887735,"reputation":21370,"user_id":5292302,"accept_rate":100,"display_name":"Petter Friberg"},"score":0,"creation_date":1446837861,"post_id":33572720,"comment_id":54926232,"body_markdown":"It starts with &quot;iVBORw0KGgoAAAANS&quot; and ends with &quot;ywAAAAASUVORK5CYII=&quot;","body":"It starts with &quot;iVBORw0KGgoAAAANS&quot; and ends with &quot;ywAAAAASUVORK5CYII=&quot;"},{"owner":{"account_id":423105,"reputation":17235,"user_id":802281,"accept_rate":90,"display_name":"iCodeLikeImDrunk"},"score":0,"creation_date":1446838103,"post_id":33572720,"comment_id":54926381,"body_markdown":"yep. that is exactly. im sure there&#39;s something in the code thats doing something stupid to cause this to not work. ive look around other solutions online and they look about the same as yours.","body":"yep. that is exactly. im sure there&#39;s something in the code thats doing something stupid to cause this to not work. ive look around other solutions online and they look about the same as yours."},{"owner":{"account_id":423105,"reputation":17235,"user_id":802281,"accept_rate":90,"display_name":"iCodeLikeImDrunk"},"score":0,"creation_date":1446839520,"post_id":33572720,"comment_id":54927132,"body_markdown":"Let us [continue this discussion in chat](http://chat.stackoverflow.com/rooms/94455/discussion-between-yao-chen-and-petter-friberg).","body":"Let us <a href=\"http://chat.stackoverflow.com/rooms/94455/discussion-between-yao-chen-and-petter-friberg\">continue this discussion in chat</a>."}],"tags":[],"owner":{"account_id":6887735,"reputation":21370,"user_id":5292302,"accept_rate":100,"display_name":"Petter Friberg"},"comment_count":5,"down_vote_count":0,"up_vote_count":21,"is_accepted":true,"score":21,"last_activity_date":1489062348,"creation_date":1446832268,"answer_id":33572720,"question_id":33571520,"body_markdown":"Passing parameter as `String` makes jasper report believe its a absolute file path, so you need another class. The most obvious would be `java.awt.Image` or `java.io.InputStream`.\r\n\r\nI choose `java.io.InputStream` since this will require less code, so the first thing we need to do now is to `decode` the `base64` image `String`.\r\n\r\nThere are [several][1] Base64 class that will do the job, I choose the `org.apache.commons.codec.binary.Base64` since apache `commons-codec.jar` is already distributed with jasper report ([dependencies][2]). The decode will give us a byte array `byte[]`, so now we need only to add a `ByteArrayInputStream`\r\n\r\nThe java code would be:\r\n\r\n    InputStream stream = new ByteArrayInputStream(Base64.decodeBase64(smileyfaceimage.getBytes()));\r\n\r\nTime to pass it into the jasper report `imageExpression`\r\n\r\n    &lt;image scaleImage=&quot;FillFrame&quot; onErrorType=&quot;Blank&quot;&gt;\r\n    &lt;reportElement x=&quot;167&quot; y=&quot;62&quot; width=&quot;363&quot; height=&quot;171&quot; backcolor=&quot;#333333&quot;/&gt;\r\n\t\t&lt;imageExpression class=&quot;java.io.InputStream&quot;&gt;&lt;![CDATA[new java.io.ByteArrayInputStream(org.apache.commons.codec.binary.Base64.decodeBase64($P{smileyfaceimage}.getBytes()))]]&gt;&lt;/imageExpression&gt;\r\n\t&lt;/image&gt;\r\n\r\n\r\nHope for the best and press the **preview**:\r\n\r\n\r\n[![Result][3]][3]\r\n\r\n**Important notice**: The `smileyfaceimage` needs to be **without**:`data:image/png;base64,`\r\n\r\n**EDIT**: The problem of the OP (comments) was that with old jasper report lib (3.0) you need to specify the class in the `imageExpression` @see `class=&quot;java.io.InputStream&quot;` the post has been update consequently since this works also in 6.0.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/469695/decode-base64-data-in-java\r\n  [2]: http://mvnrepository.com/artifact/net.sf.jasperreports/jasperreports/6.1.0\r\n  [3]: http://i.stack.imgur.com/bOztH.png","title":"How/Can I use base64 as image source in a Jasper Report template?","body":"<p>Passing parameter as <code>String</code> makes jasper report believe its a absolute file path, so you need another class. The most obvious would be <code>java.awt.Image</code> or <code>java.io.InputStream</code>.</p>\n\n<p>I choose <code>java.io.InputStream</code> since this will require less code, so the first thing we need to do now is to <code>decode</code> the <code>base64</code> image <code>String</code>.</p>\n\n<p>There are <a href=\"https://stackoverflow.com/questions/469695/decode-base64-data-in-java\">several</a> Base64 class that will do the job, I choose the <code>org.apache.commons.codec.binary.Base64</code> since apache <code>commons-codec.jar</code> is already distributed with jasper report (<a href=\"http://mvnrepository.com/artifact/net.sf.jasperreports/jasperreports/6.1.0\" rel=\"noreferrer\">dependencies</a>). The decode will give us a byte array <code>byte[]</code>, so now we need only to add a <code>ByteArrayInputStream</code></p>\n\n<p>The java code would be:</p>\n\n<pre><code>InputStream stream = new ByteArrayInputStream(Base64.decodeBase64(smileyfaceimage.getBytes()));\n</code></pre>\n\n<p>Time to pass it into the jasper report <code>imageExpression</code></p>\n\n<pre><code>&lt;image scaleImage=\"FillFrame\" onErrorType=\"Blank\"&gt;\n&lt;reportElement x=\"167\" y=\"62\" width=\"363\" height=\"171\" backcolor=\"#333333\"/&gt;\n    &lt;imageExpression class=\"java.io.InputStream\"&gt;&lt;![CDATA[new java.io.ByteArrayInputStream(org.apache.commons.codec.binary.Base64.decodeBase64($P{smileyfaceimage}.getBytes()))]]&gt;&lt;/imageExpression&gt;\n&lt;/image&gt;\n</code></pre>\n\n<p>Hope for the best and press the <strong>preview</strong>:</p>\n\n<p><a href=\"https://i.stack.imgur.com/bOztH.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/bOztH.png\" alt=\"Result\"></a></p>\n\n<p><strong>Important notice</strong>: The <code>smileyfaceimage</code> needs to be <strong>without</strong>:<code>data:image/png;base64,</code></p>\n\n<p><strong>EDIT</strong>: The problem of the OP (comments) was that with old jasper report lib (3.0) you need to specify the class in the <code>imageExpression</code> @see <code>class=\"java.io.InputStream\"</code> the post has been update consequently since this works also in 6.0.</p>\n"},{"tags":[],"owner":{"account_id":10984350,"reputation":380,"user_id":8070550,"display_name":"Rok T."},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1554883609,"creation_date":1554445817,"answer_id":55529452,"question_id":33571520,"body_markdown":"Java 8+ without external libraries:\r\n\r\n    &lt;imageExpression&gt;&lt;![CDATA[javax.imageio.ImageIO.read(new java.io.ByteArrayInputStream(Base64.getDecoder().decode($P{barcodeHeader})))]]&gt;&lt;/imageExpression&gt;\r\n\r\nIf that doesn&#39;t work, this should definitely:\r\n\r\n    &lt;imageExpression&gt;&lt;![CDATA[javax.imageio.ImageIO.read(new java.io.ByteArrayInputStream(java.util.Base64.getDecoder().decode($P{barcodeHeader})))]]&gt;&lt;/imageExpression&gt;\r\n","title":"How/Can I use base64 as image source in a Jasper Report template?","body":"<p>Java 8+ without external libraries:</p>\n\n<pre><code>&lt;imageExpression&gt;&lt;![CDATA[javax.imageio.ImageIO.read(new java.io.ByteArrayInputStream(Base64.getDecoder().decode($P{barcodeHeader})))]]&gt;&lt;/imageExpression&gt;\n</code></pre>\n\n<p>If that doesn't work, this should definitely:</p>\n\n<pre><code>&lt;imageExpression&gt;&lt;![CDATA[javax.imageio.ImageIO.read(new java.io.ByteArrayInputStream(java.util.Base64.getDecoder().decode($P{barcodeHeader})))]]&gt;&lt;/imageExpression&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17821511,"reputation":1,"user_id":12943785,"display_name":"Lakshmi s"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1613820141,"creation_date":1613820141,"answer_id":66290938,"question_id":33571520,"body_markdown":"In my oracle DB, I have clob datatype for the base64 image, but Jaspersoft studio supports only string format, so I added image expressions as below,\r\nImage Expressions:\r\n\r\n    new java.io.ByteArrayInputStream(org.apache.commons.codec.binary.Base64.decodeBase64(new String($F{IMAGE_FRONT}).getBytes(&quot;UTF-8&quot;))) \r\n\r\nSource:\r\n  \r\n\r\n      &lt;image&gt;\r\n        &lt;reportElement x=&quot;60&quot; y=&quot;60&quot; width=&quot;510&quot; height=&quot;230&quot; uuid=&quot;a06352ef-7ebf-4691-91a1-c8bc1371f90b&quot;&gt;\r\n        &lt;property name=&quot;com.jaspersoft.studio.unit.x&quot; value=&quot;pixel&quot;/&gt;\r\n        &lt;/reportElement&gt;\r\n        &lt;imageExpression&gt;\r\n        &lt;![CDATA[new java.io.ByteArrayInputStream(org.apache.commons.codec.binary.Base64.decodeBase64(new String($F{CLOB_DATA_FIELD}).getBytes(&quot;UTF-8&quot;)))]]&gt;&lt;/imageExpression&gt;\r\n        &lt;/image&gt;\r\n\r\nBase64 is not defined issue is cleared after added jar file into MY REPORTS -&gt; PROPERTIES -&gt; JAVA BUILD PATH -&gt; ADD EXTERNAL JAR -&gt;jasperreports-6.1.0.jar\r\nThe jar file downloaded from\r\nhttps://mvnrepository.com/artifact/net.sf.jasperreports/jasperreports/6.1.0\r\n\r\n","title":"How/Can I use base64 as image source in a Jasper Report template?","body":"<p>In my oracle DB, I have clob datatype for the base64 image, but Jaspersoft studio supports only string format, so I added image expressions as below,\nImage Expressions:</p>\n<pre><code>new java.io.ByteArrayInputStream(org.apache.commons.codec.binary.Base64.decodeBase64(new String($F{IMAGE_FRONT}).getBytes(&quot;UTF-8&quot;))) \n</code></pre>\n<p>Source:</p>\n<pre><code>  &lt;image&gt;\n    &lt;reportElement x=&quot;60&quot; y=&quot;60&quot; width=&quot;510&quot; height=&quot;230&quot; uuid=&quot;a06352ef-7ebf-4691-91a1-c8bc1371f90b&quot;&gt;\n    &lt;property name=&quot;com.jaspersoft.studio.unit.x&quot; value=&quot;pixel&quot;/&gt;\n    &lt;/reportElement&gt;\n    &lt;imageExpression&gt;\n    &lt;![CDATA[new java.io.ByteArrayInputStream(org.apache.commons.codec.binary.Base64.decodeBase64(new String($F{CLOB_DATA_FIELD}).getBytes(&quot;UTF-8&quot;)))]]&gt;&lt;/imageExpression&gt;\n    &lt;/image&gt;\n</code></pre>\n<p>Base64 is not defined issue is cleared after added jar file into MY REPORTS -&gt; PROPERTIES -&gt; JAVA BUILD PATH -&gt; ADD EXTERNAL JAR -&gt;jasperreports-6.1.0.jar\nThe jar file downloaded from\n<a href=\"https://mvnrepository.com/artifact/net.sf.jasperreports/jasperreports/6.1.0\" rel=\"nofollow noreferrer\">https://mvnrepository.com/artifact/net.sf.jasperreports/jasperreports/6.1.0</a></p>\n"},{"tags":[],"owner":{"account_id":14174753,"reputation":3,"user_id":10240398,"display_name":"Felix Njenga"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660557847,"creation_date":1660557612,"answer_id":73359448,"question_id":33571520,"body_markdown":"I tried the solutions above and didn&#39;t work for me\r\nI am currently using Jasper Reports Version 6.19.1 and found this Base64Util class at net.sf.jasperreports.util. You can look at it and check the method\r\nthat would help solve your problem\r\n```\r\n&lt;image evaluationTime=&quot;Report&quot;&gt;\r\n\t\t\t\t&lt;reportElement x=&quot;400&quot; y=&quot;50&quot; width=&quot;154&quot; height=&quot;84&quot; uuid=&quot;fa0e76f4-ffe9-4090-8a5c-68683b97ac38&quot;/&gt;\r\n\t\t\t\t&lt;imageExpression&gt;&lt;![CDATA[net.sf.jasperreports.util.Base64Util.decode($P{photo})]]&gt;&lt;/imageExpression&gt;\r\n\t\t\t&lt;/image&gt;\r\n```\r\n$P{photo} it is my variable that contains the base64 string\r\n\r\n\r\nThe decode method returns a byte[] array to your ImageExpression\r\n```java\r\npublic static byte[] decode(String data) throws IOException {\r\n        ByteArrayInputStream input = new ByteArrayInputStream(data.getBytes(StandardCharsets.US_ASCII));\r\n        ByteArrayOutputStream out = new ByteArrayOutputStream();\r\n        decode(input, out);\r\n        return out.toByteArray();\r\n    }\r\n```\r\n\r\n\r\n\r\n","title":"How/Can I use base64 as image source in a Jasper Report template?","body":"<p>I tried the solutions above and didn't work for me\nI am currently using Jasper Reports Version 6.19.1 and found this Base64Util class at net.sf.jasperreports.util. You can look at it and check the method\nthat would help solve your problem</p>\n<pre><code>&lt;image evaluationTime=&quot;Report&quot;&gt;\n                &lt;reportElement x=&quot;400&quot; y=&quot;50&quot; width=&quot;154&quot; height=&quot;84&quot; uuid=&quot;fa0e76f4-ffe9-4090-8a5c-68683b97ac38&quot;/&gt;\n                &lt;imageExpression&gt;&lt;![CDATA[net.sf.jasperreports.util.Base64Util.decode($P{photo})]]&gt;&lt;/imageExpression&gt;\n            &lt;/image&gt;\n</code></pre>\n<p>$P{photo} it is my variable that contains the base64 string</p>\n<p>The decode method returns a byte[] array to your ImageExpression</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static byte[] decode(String data) throws IOException {\n        ByteArrayInputStream input = new ByteArrayInputStream(data.getBytes(StandardCharsets.US_ASCII));\n        ByteArrayOutputStream out = new ByteArrayOutputStream();\n        decode(input, out);\n        return out.toByteArray();\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":501550,"reputation":7438,"user_id":1057961,"display_name":"Max"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699367846,"creation_date":1699367846,"answer_id":77439110,"question_id":33571520,"body_markdown":"I&#39;m using Jasper 6.20.6.  \r\nI tried all the similar solution I found (on Stackoverflow, and on Jasper forum).  \r\nNone worked.  \r\nThe only way I found to make it work, is to completely remove the string parameter, and then put the base64 encoded image directly in the decodeBase64() call.  \r\n\r\nHere is the complete report code.  \r\nThere are 2 picture, the first one use the string parameter, and it doesnt work, it get rendered as a blank box.  \r\nThe second image use the base64 encoded image directly in the decodeBase64() call, and it seem to work.  \r\n  \r\nReport jrxml file:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;!-- Created with Jaspersoft Studio version 6.20.6.final utlizzo versione della libreria JasperReports6.20.6-5c96b6aa8a39ac1dc6b6bea4b81168e16dd39231  --&gt;\r\n    &lt;jasperReport xmlns=&quot;http://jasperreports.sourceforge.net/jasperreports&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://jasperreports.sourceforge.net/jasperreports http://jasperreports.sourceforge.net/xsd/jasperreport.xsd&quot; name=&quot;test001&quot; pageWidth=&quot;595&quot; pageHeight=&quot;842&quot; columnWidth=&quot;555&quot; leftMargin=&quot;20&quot; rightMargin=&quot;20&quot; topMargin=&quot;20&quot; bottomMargin=&quot;20&quot; uuid=&quot;1a700ddc-bfd8-437f-9138-b41487cbe1ea&quot;&gt;\r\n    \t&lt;property name=&quot;com.jaspersoft.studio.data.defaultdataadapter&quot; value=&quot;One Empty Record&quot;/&gt;\r\n    \t&lt;queryString&gt;\r\n    \t\t&lt;![CDATA[]]&gt;\r\n    \t&lt;/queryString&gt;\r\n    \t&lt;variable name=&quot;myImg1&quot; class=&quot;java.lang.String&quot;&gt;\r\n    \t\t&lt;variableExpression&gt;&lt;![CDATA[&quot;iVBORw0KGgoAAAANSUhEUgAAAEAAAABABAMAAABYR2ztAAAAMFBMVEU6FCJ+dnlaRE2qqaaIUmO+f3hyJzfauLI7T3S6jaU8KD/q4M+2U2Rvg6acvtZlVnQDf/9NAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAFwElEQVRIDW2VX2jj2BXGxT7kwW83f+hMIaS5VcwgWExIiwklCzHXBheHkJlojUGFYLwX1gSW6Yy4GG0Xdp5EYHYIM6m4MJ6mpoRwYcnDMpiiNlCwXQzqQzYpJA9XpvRhKSWCGBfSoUE9V0mGGXY/kBD+fjrf8RFH0m619kEdzruaALUMbIgbJeZPtFRrPm3AFaU5BWCMf/wukAMApdMUNKcAjDN4/F0Aj1E8iQGo0jymcH+8PISQ1tYtUKXV/Doe0qpeWx+lqxhfrI0DcE+8BQrVuYd4Ml0jpKOvxsP4wpwBAN8Cqb37eM7O6ISQUoeQ1Ti+a69hbABg7CuAUj03Z2awDoBF+p0Y8efzQ4yf4HvCTXxaRRfliW8nSSmw8hZB0zt8e3jPdd2t/RugtjxV/ugf6wCYlQ7ifA2hSxfUQlsKAC1XHizNExL0ecPkDY7QjAK2vnSNG2B2ojw/Q6bMPmtwxrbRTOw+PXXdO65I/DGq32UPR8SsVBj3WGM7ji/d6VP3S1dVAEDsZaadX1/kTV5WBZpHEhLuuE+RCxXGKK1rqc8m/PvINBuMM99pymgJoSMpj1z3iSpQ300d/MgfnzJZgzHfb/8zjCI5LaU8vQGolsp4r2fLjxhjju/7kdJSGC0p4hbIziOW+IxFtzp/C6Ra8cT8hAL8bxbP5EdR9O9DRUiZADVaTyF0nHXazGk/kqCziPnXJaQCNgv11NX2cdZvQ4kl6B3FK6qXQwBuIuriii/8Atpr//xXUs0g9gCAiKTCJk3Xdz/kx6r/xhoKoYb7rPgdFLiJ2AxIQfz+70UF2OQqGcAgPnOSJp+eaptB0DWN1lHeBz3Wj4b3rqJwEMswafJKapumadr3BVoG/3VhWYC+Oj+Pr6QCTq9ONRoAsW58uNaGhOobIdwtEYY/GzWTiHP1L4KK1c0drKkpVvfIat0VX0fno/5vwkiG10C31FkV/wHgT7T0siBcIeDmYjOEDBeAdMkigXzzSZa1Py/1Ayr2t8RX4fn/eBiF8lRqlBCzEjTf6J7n20H/ZR2WQXwd/nnEz6IovHOs0Rrpe2TlW73MHTv4a0/siVx9Pzw8eSWfQ8RTba9Kunxy9VTvN5x2UKF7uSqp78vDk2KT/2twCT1USZE/PjrKFBnzX/Y7q7FuGfvyuxfFxeeLCqhikucPR6/ikec5fwyClbhmJwCZPj6PAcBYz/Pt1sogLjY8v83lsPaingBk5SS+fKLl8Nwy53FGzow87viH58YfzOsKJ4TEl0LLjc89rjAZ//d3mSL3/GhgfGIaB5J1+nySxG+EhtCcXfH4YDQYZkp/i+QWzTfqccisPkerIwBmESrDvjYHcWw8G8kY6+XPDwYhg5mRpAJGD8o2Z5zLgRD7bkufYh9/NhM2+sFb4O4i416Dy3goxEGsl+1ebXWhYQKQIwC0ZtFCtuGxpoSQeDTU2Y7VIV7DCnhA+LqAV+jsRNZZZIw3AZAjzk2rs+zZZqcS1AgpaDCpiwWnzbONL14Nrk6KfGenS/7CXnYDePSZak4BGGX9b5rPudJJ3rOtUqVtda0goFRQ9ZrEs1OwVk3ZVYTHdtZL5ddWN9jsqZXSQC0gFhh7dOap/W6vk7xjvweMAYGOF5jvXPtBuW0G3d5mh0IGtAAuQmtTDvuCMb/9WC+Zjm32Pv24VoAWUpr6ejyL0dQDBmrbMJyu49tW79Pf1gp11WMLYRDippll5nq6qpfKPiT0ii9oYUMDYWy0DH3KCsgMXGEMAW3bDGjfonRXAbspAQx0LMQuXKXLDrODoEdLgVEHAKT2YI8K8FPg18rMTkZUKvxSu1ZKKO0l/iyGTbZ6UA8AeAzvIvDUDIzmLPCpUqFA3wPUqTU7JF2rk/gapWMb7wDJ0ZrBpYAUlL+hbdwWeAtp2k/HSUBoIvWRfl8CDjQiN/7G94AUHB/MYAzJif89IIFwOrHg9MNAS4gf+PX/vf2ie9pGNdsAAAAASUVORK5CYII=&quot;]]&gt;&lt;/variableExpression&gt;\r\n    \t&lt;/variable&gt;\r\n    \t&lt;background&gt;\r\n    \t\t&lt;band splitType=&quot;Stretch&quot;/&gt;\r\n    \t&lt;/background&gt;\r\n    \t&lt;title&gt;\r\n    \t\t&lt;band height=&quot;240&quot; splitType=&quot;Stretch&quot;&gt;\r\n    \t\t\t&lt;staticText&gt;\r\n    \t\t\t\t&lt;reportElement x=&quot;10&quot; y=&quot;0&quot; width=&quot;100&quot; height=&quot;30&quot; uuid=&quot;1c61fd46-226e-491b-9891-6050014f68f6&quot;/&gt;\r\n    \t\t\t\t&lt;text&gt;&lt;![CDATA[test texte, test text]]&gt;&lt;/text&gt;\r\n    \t\t\t&lt;/staticText&gt;\r\n    \t\t\t&lt;image&gt;\r\n    \t\t\t\t&lt;reportElement mode=&quot;Transparent&quot; x=&quot;70&quot; y=&quot;10&quot; width=&quot;190&quot; height=&quot;210&quot; uuid=&quot;21e88b95-1d09-4108-8cbf-dcf8b4b2ed9e&quot;/&gt;\r\n    \t\t\t\t&lt;box padding=&quot;1&quot;&gt;\r\n    \t\t\t\t\t&lt;topPen lineWidth=&quot;1.0&quot; lineStyle=&quot;Solid&quot; lineColor=&quot;#000000&quot;/&gt;\r\n    \t\t\t\t\t&lt;leftPen lineWidth=&quot;1.0&quot; lineStyle=&quot;Solid&quot; lineColor=&quot;#000000&quot;/&gt;\r\n    \t\t\t\t\t&lt;bottomPen lineWidth=&quot;1.0&quot; lineStyle=&quot;Solid&quot; lineColor=&quot;#000000&quot;/&gt;\r\n    \t\t\t\t\t&lt;rightPen lineWidth=&quot;1.0&quot; lineStyle=&quot;Solid&quot; lineColor=&quot;#000000&quot;/&gt;\r\n    \t\t\t\t&lt;/box&gt;\r\n    \t\t\t\t&lt;imageExpression&gt;&lt;![CDATA[new ByteArrayInputStream(org.apache.commons.codec.binary.Base64.decodeBase64($V{myImg1}.getBytes()))]]&gt;&lt;/imageExpression&gt;\r\n    \t\t\t&lt;/image&gt;\r\n    \t\t\t&lt;image&gt;\r\n    \t\t\t\t&lt;reportElement mode=&quot;Transparent&quot; x=&quot;310&quot; y=&quot;10&quot; width=&quot;190&quot; height=&quot;210&quot; uuid=&quot;28050615-9a40-48c3-b64b-1e6271ee9a95&quot;/&gt;\r\n    \t\t\t\t&lt;box padding=&quot;1&quot;&gt;\r\n    \t\t\t\t\t&lt;topPen lineWidth=&quot;1.0&quot; lineStyle=&quot;Solid&quot; lineColor=&quot;#000000&quot;/&gt;\r\n    \t\t\t\t\t&lt;leftPen lineWidth=&quot;1.0&quot; lineStyle=&quot;Solid&quot; lineColor=&quot;#000000&quot;/&gt;\r\n    \t\t\t\t\t&lt;bottomPen lineWidth=&quot;1.0&quot; lineStyle=&quot;Solid&quot; lineColor=&quot;#000000&quot;/&gt;\r\n    \t\t\t\t\t&lt;rightPen lineWidth=&quot;1.0&quot; lineStyle=&quot;Solid&quot; lineColor=&quot;#000000&quot;/&gt;\r\n    \t\t\t\t&lt;/box&gt;\r\n    \t\t\t\t&lt;imageExpression&gt;&lt;![CDATA[new ByteArrayInputStream(org.apache.commons.codec.binary.Base64.decodeBase64(&quot;iVBORw0KGgoAAAANSUhEUgAAAEAAAABABAMAAABYR2ztAAAAMFBMVEU6FCJ+dnlaRE2qqaaIUmO+f3hyJzfauLI7T3S6jaU8KD/q4M+2U2Rvg6acvtZlVnQDf/9NAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAFwElEQVRIDW2VX2jj2BXGxT7kwW83f+hMIaS5VcwgWExIiwklCzHXBheHkJlojUGFYLwX1gSW6Yy4GG0Xdp5EYHYIM6m4MJ6mpoRwYcnDMpiiNlCwXQzqQzYpJA9XpvRhKSWCGBfSoUE9V0mGGXY/kBD+fjrf8RFH0m619kEdzruaALUMbIgbJeZPtFRrPm3AFaU5BWCMf/wukAMApdMUNKcAjDN4/F0Aj1E8iQGo0jymcH+8PISQ1tYtUKXV/Doe0qpeWx+lqxhfrI0DcE+8BQrVuYd4Ml0jpKOvxsP4wpwBAN8Cqb37eM7O6ISQUoeQ1Ti+a69hbABg7CuAUj03Z2awDoBF+p0Y8efzQ4yf4HvCTXxaRRfliW8nSSmw8hZB0zt8e3jPdd2t/RugtjxV/ugf6wCYlQ7ifA2hSxfUQlsKAC1XHizNExL0ecPkDY7QjAK2vnSNG2B2ojw/Q6bMPmtwxrbRTOw+PXXdO65I/DGq32UPR8SsVBj3WGM7ji/d6VP3S1dVAEDsZaadX1/kTV5WBZpHEhLuuE+RCxXGKK1rqc8m/PvINBuMM99pymgJoSMpj1z3iSpQ300d/MgfnzJZgzHfb/8zjCI5LaU8vQGolsp4r2fLjxhjju/7kdJSGC0p4hbIziOW+IxFtzp/C6Ra8cT8hAL8bxbP5EdR9O9DRUiZADVaTyF0nHXazGk/kqCziPnXJaQCNgv11NX2cdZvQ4kl6B3FK6qXQwBuIuriii/8Atpr//xXUs0g9gCAiKTCJk3Xdz/kx6r/xhoKoYb7rPgdFLiJ2AxIQfz+70UF2OQqGcAgPnOSJp+eaptB0DWN1lHeBz3Wj4b3rqJwEMswafJKapumadr3BVoG/3VhWYC+Oj+Pr6QCTq9ONRoAsW58uNaGhOobIdwtEYY/GzWTiHP1L4KK1c0drKkpVvfIat0VX0fno/5vwkiG10C31FkV/wHgT7T0siBcIeDmYjOEDBeAdMkigXzzSZa1Py/1Ayr2t8RX4fn/eBiF8lRqlBCzEjTf6J7n20H/ZR2WQXwd/nnEz6IovHOs0Rrpe2TlW73MHTv4a0/siVx9Pzw8eSWfQ8RTba9Kunxy9VTvN5x2UKF7uSqp78vDk2KT/2twCT1USZE/PjrKFBnzX/Y7q7FuGfvyuxfFxeeLCqhikucPR6/ikec5fwyClbhmJwCZPj6PAcBYz/Pt1sogLjY8v83lsPaingBk5SS+fKLl8Nwy53FGzow87viH58YfzOsKJ4TEl0LLjc89rjAZ//d3mSL3/GhgfGIaB5J1+nySxG+EhtCcXfH4YDQYZkp/i+QWzTfqccisPkerIwBmESrDvjYHcWw8G8kY6+XPDwYhg5mRpAJGD8o2Z5zLgRD7bkufYh9/NhM2+sFb4O4i416Dy3goxEGsl+1ebXWhYQKQIwC0ZtFCtuGxpoSQeDTU2Y7VIV7DCnhA+LqAV+jsRNZZZIw3AZAjzk2rs+zZZqcS1AgpaDCpiwWnzbONL14Nrk6KfGenS/7CXnYDePSZak4BGGX9b5rPudJJ3rOtUqVtda0goFRQ9ZrEs1OwVk3ZVYTHdtZL5ddWN9jsqZXSQC0gFhh7dOap/W6vk7xjvweMAYGOF5jvXPtBuW0G3d5mh0IGtAAuQmtTDvuCMb/9WC+Zjm32Pv24VoAWUpr6ejyL0dQDBmrbMJyu49tW79Pf1gp11WMLYRDippll5nq6qpfKPiT0ii9oYUMDYWy0DH3KCsgMXGEMAW3bDGjfonRXAbspAQx0LMQuXKXLDrODoEdLgVEHAKT2YI8K8FPg18rMTkZUKvxSu1ZKKO0l/iyGTbZ6UA8AeAzvIvDUDIzmLPCpUqFA3wPUqTU7JF2rk/gapWMb7wDJ0ZrBpYAUlL+hbdwWeAtp2k/HSUBoIvWRfl8CDjQiN/7G94AUHB/MYAzJif89IIFwOrHg9MNAS4gf+PX/vf2ie9pGNdsAAAAASUVORK5CYII=&quot;.getBytes()))]]&gt;&lt;/imageExpression&gt;\r\n    \t\t\t&lt;/image&gt;\r\n    \t\t&lt;/band&gt;\r\n    \t&lt;/title&gt;\r\n    \t&lt;pageHeader&gt;\r\n    \t\t&lt;band height=&quot;35&quot; splitType=&quot;Stretch&quot;/&gt;\r\n    \t&lt;/pageHeader&gt;\r\n    \t&lt;columnHeader&gt;\r\n    \t\t&lt;band height=&quot;61&quot; splitType=&quot;Stretch&quot;/&gt;\r\n    \t&lt;/columnHeader&gt;\r\n    \t&lt;detail&gt;\r\n    \t\t&lt;band height=&quot;125&quot; splitType=&quot;Stretch&quot;&gt;\r\n    \t\t\t&lt;staticText&gt;\r\n    \t\t\t\t&lt;reportElement x=&quot;150&quot; y=&quot;20&quot; width=&quot;100&quot; height=&quot;30&quot; uuid=&quot;d00ab4fa-eb41-47c8-9bb0-0c7884b5c36a&quot;/&gt;\r\n    \t\t\t\t&lt;text&gt;&lt;![CDATA[test text 2, test text 2, ]]&gt;&lt;/text&gt;\r\n    \t\t\t&lt;/staticText&gt;\r\n    \t\t&lt;/band&gt;\r\n    \t&lt;/detail&gt;\r\n    \t&lt;columnFooter&gt;\r\n    \t\t&lt;band height=&quot;45&quot; splitType=&quot;Stretch&quot;/&gt;\r\n    \t&lt;/columnFooter&gt;\r\n    \t&lt;pageFooter&gt;\r\n    \t\t&lt;band height=&quot;54&quot; splitType=&quot;Stretch&quot;/&gt;\r\n    \t&lt;/pageFooter&gt;\r\n    \t&lt;summary&gt;\r\n    \t\t&lt;band height=&quot;42&quot; splitType=&quot;Stretch&quot;/&gt;\r\n    \t&lt;/summary&gt;\r\n    &lt;/jasperReport&gt;\r\n\r\nThis report get rendered like this:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nAny idea about why the imagebox that use the string parameter get rendered as a white box?\r\n\r\n  [1]: https://i.stack.imgur.com/lT26H.png","title":"How/Can I use base64 as image source in a Jasper Report template?","body":"<p>I'm using Jasper 6.20.6.<br />\nI tried all the similar solution I found (on Stackoverflow, and on Jasper forum).<br />\nNone worked.<br />\nThe only way I found to make it work, is to completely remove the string parameter, and then put the base64 encoded image directly in the decodeBase64() call.</p>\n<p>Here is the complete report code.<br />\nThere are 2 picture, the first one use the string parameter, and it doesnt work, it get rendered as a blank box.<br />\nThe second image use the base64 encoded image directly in the decodeBase64() call, and it seem to work.</p>\n<p>Report jrxml file:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;!-- Created with Jaspersoft Studio version 6.20.6.final utlizzo versione della libreria JasperReports6.20.6-5c96b6aa8a39ac1dc6b6bea4b81168e16dd39231  --&gt;\n&lt;jasperReport xmlns=&quot;http://jasperreports.sourceforge.net/jasperreports&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://jasperreports.sourceforge.net/jasperreports http://jasperreports.sourceforge.net/xsd/jasperreport.xsd&quot; name=&quot;test001&quot; pageWidth=&quot;595&quot; pageHeight=&quot;842&quot; columnWidth=&quot;555&quot; leftMargin=&quot;20&quot; rightMargin=&quot;20&quot; topMargin=&quot;20&quot; bottomMargin=&quot;20&quot; uuid=&quot;1a700ddc-bfd8-437f-9138-b41487cbe1ea&quot;&gt;\n    &lt;property name=&quot;com.jaspersoft.studio.data.defaultdataadapter&quot; value=&quot;One Empty Record&quot;/&gt;\n    &lt;queryString&gt;\n        &lt;![CDATA[]]&gt;\n    &lt;/queryString&gt;\n    &lt;variable name=&quot;myImg1&quot; class=&quot;java.lang.String&quot;&gt;\n        &lt;variableExpression&gt;&lt;![CDATA[&quot;iVBORw0KGgoAAAANSUhEUgAAAEAAAABABAMAAABYR2ztAAAAMFBMVEU6FCJ+dnlaRE2qqaaIUmO+f3hyJzfauLI7T3S6jaU8KD/q4M+2U2Rvg6acvtZlVnQDf/9NAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAFwElEQVRIDW2VX2jj2BXGxT7kwW83f+hMIaS5VcwgWExIiwklCzHXBheHkJlojUGFYLwX1gSW6Yy4GG0Xdp5EYHYIM6m4MJ6mpoRwYcnDMpiiNlCwXQzqQzYpJA9XpvRhKSWCGBfSoUE9V0mGGXY/kBD+fjrf8RFH0m619kEdzruaALUMbIgbJeZPtFRrPm3AFaU5BWCMf/wukAMApdMUNKcAjDN4/F0Aj1E8iQGo0jymcH+8PISQ1tYtUKXV/Doe0qpeWx+lqxhfrI0DcE+8BQrVuYd4Ml0jpKOvxsP4wpwBAN8Cqb37eM7O6ISQUoeQ1Ti+a69hbABg7CuAUj03Z2awDoBF+p0Y8efzQ4yf4HvCTXxaRRfliW8nSSmw8hZB0zt8e3jPdd2t/RugtjxV/ugf6wCYlQ7ifA2hSxfUQlsKAC1XHizNExL0ecPkDY7QjAK2vnSNG2B2ojw/Q6bMPmtwxrbRTOw+PXXdO65I/DGq32UPR8SsVBj3WGM7ji/d6VP3S1dVAEDsZaadX1/kTV5WBZpHEhLuuE+RCxXGKK1rqc8m/PvINBuMM99pymgJoSMpj1z3iSpQ300d/MgfnzJZgzHfb/8zjCI5LaU8vQGolsp4r2fLjxhjju/7kdJSGC0p4hbIziOW+IxFtzp/C6Ra8cT8hAL8bxbP5EdR9O9DRUiZADVaTyF0nHXazGk/kqCziPnXJaQCNgv11NX2cdZvQ4kl6B3FK6qXQwBuIuriii/8Atpr//xXUs0g9gCAiKTCJk3Xdz/kx6r/xhoKoYb7rPgdFLiJ2AxIQfz+70UF2OQqGcAgPnOSJp+eaptB0DWN1lHeBz3Wj4b3rqJwEMswafJKapumadr3BVoG/3VhWYC+Oj+Pr6QCTq9ONRoAsW58uNaGhOobIdwtEYY/GzWTiHP1L4KK1c0drKkpVvfIat0VX0fno/5vwkiG10C31FkV/wHgT7T0siBcIeDmYjOEDBeAdMkigXzzSZa1Py/1Ayr2t8RX4fn/eBiF8lRqlBCzEjTf6J7n20H/ZR2WQXwd/nnEz6IovHOs0Rrpe2TlW73MHTv4a0/siVx9Pzw8eSWfQ8RTba9Kunxy9VTvN5x2UKF7uSqp78vDk2KT/2twCT1USZE/PjrKFBnzX/Y7q7FuGfvyuxfFxeeLCqhikucPR6/ikec5fwyClbhmJwCZPj6PAcBYz/Pt1sogLjY8v83lsPaingBk5SS+fKLl8Nwy53FGzow87viH58YfzOsKJ4TEl0LLjc89rjAZ//d3mSL3/GhgfGIaB5J1+nySxG+EhtCcXfH4YDQYZkp/i+QWzTfqccisPkerIwBmESrDvjYHcWw8G8kY6+XPDwYhg5mRpAJGD8o2Z5zLgRD7bkufYh9/NhM2+sFb4O4i416Dy3goxEGsl+1ebXWhYQKQIwC0ZtFCtuGxpoSQeDTU2Y7VIV7DCnhA+LqAV+jsRNZZZIw3AZAjzk2rs+zZZqcS1AgpaDCpiwWnzbONL14Nrk6KfGenS/7CXnYDePSZak4BGGX9b5rPudJJ3rOtUqVtda0goFRQ9ZrEs1OwVk3ZVYTHdtZL5ddWN9jsqZXSQC0gFhh7dOap/W6vk7xjvweMAYGOF5jvXPtBuW0G3d5mh0IGtAAuQmtTDvuCMb/9WC+Zjm32Pv24VoAWUpr6ejyL0dQDBmrbMJyu49tW79Pf1gp11WMLYRDippll5nq6qpfKPiT0ii9oYUMDYWy0DH3KCsgMXGEMAW3bDGjfonRXAbspAQx0LMQuXKXLDrODoEdLgVEHAKT2YI8K8FPg18rMTkZUKvxSu1ZKKO0l/iyGTbZ6UA8AeAzvIvDUDIzmLPCpUqFA3wPUqTU7JF2rk/gapWMb7wDJ0ZrBpYAUlL+hbdwWeAtp2k/HSUBoIvWRfl8CDjQiN/7G94AUHB/MYAzJif89IIFwOrHg9MNAS4gf+PX/vf2ie9pGNdsAAAAASUVORK5CYII=&quot;]]&gt;&lt;/variableExpression&gt;\n    &lt;/variable&gt;\n    &lt;background&gt;\n        &lt;band splitType=&quot;Stretch&quot;/&gt;\n    &lt;/background&gt;\n    &lt;title&gt;\n        &lt;band height=&quot;240&quot; splitType=&quot;Stretch&quot;&gt;\n            &lt;staticText&gt;\n                &lt;reportElement x=&quot;10&quot; y=&quot;0&quot; width=&quot;100&quot; height=&quot;30&quot; uuid=&quot;1c61fd46-226e-491b-9891-6050014f68f6&quot;/&gt;\n                &lt;text&gt;&lt;![CDATA[test texte, test text]]&gt;&lt;/text&gt;\n            &lt;/staticText&gt;\n            &lt;image&gt;\n                &lt;reportElement mode=&quot;Transparent&quot; x=&quot;70&quot; y=&quot;10&quot; width=&quot;190&quot; height=&quot;210&quot; uuid=&quot;21e88b95-1d09-4108-8cbf-dcf8b4b2ed9e&quot;/&gt;\n                &lt;box padding=&quot;1&quot;&gt;\n                    &lt;topPen lineWidth=&quot;1.0&quot; lineStyle=&quot;Solid&quot; lineColor=&quot;#000000&quot;/&gt;\n                    &lt;leftPen lineWidth=&quot;1.0&quot; lineStyle=&quot;Solid&quot; lineColor=&quot;#000000&quot;/&gt;\n                    &lt;bottomPen lineWidth=&quot;1.0&quot; lineStyle=&quot;Solid&quot; lineColor=&quot;#000000&quot;/&gt;\n                    &lt;rightPen lineWidth=&quot;1.0&quot; lineStyle=&quot;Solid&quot; lineColor=&quot;#000000&quot;/&gt;\n                &lt;/box&gt;\n                &lt;imageExpression&gt;&lt;![CDATA[new ByteArrayInputStream(org.apache.commons.codec.binary.Base64.decodeBase64($V{myImg1}.getBytes()))]]&gt;&lt;/imageExpression&gt;\n            &lt;/image&gt;\n            &lt;image&gt;\n                &lt;reportElement mode=&quot;Transparent&quot; x=&quot;310&quot; y=&quot;10&quot; width=&quot;190&quot; height=&quot;210&quot; uuid=&quot;28050615-9a40-48c3-b64b-1e6271ee9a95&quot;/&gt;\n                &lt;box padding=&quot;1&quot;&gt;\n                    &lt;topPen lineWidth=&quot;1.0&quot; lineStyle=&quot;Solid&quot; lineColor=&quot;#000000&quot;/&gt;\n                    &lt;leftPen lineWidth=&quot;1.0&quot; lineStyle=&quot;Solid&quot; lineColor=&quot;#000000&quot;/&gt;\n                    &lt;bottomPen lineWidth=&quot;1.0&quot; lineStyle=&quot;Solid&quot; lineColor=&quot;#000000&quot;/&gt;\n                    &lt;rightPen lineWidth=&quot;1.0&quot; lineStyle=&quot;Solid&quot; lineColor=&quot;#000000&quot;/&gt;\n                &lt;/box&gt;\n                &lt;imageExpression&gt;&lt;![CDATA[new ByteArrayInputStream(org.apache.commons.codec.binary.Base64.decodeBase64(&quot;iVBORw0KGgoAAAANSUhEUgAAAEAAAABABAMAAABYR2ztAAAAMFBMVEU6FCJ+dnlaRE2qqaaIUmO+f3hyJzfauLI7T3S6jaU8KD/q4M+2U2Rvg6acvtZlVnQDf/9NAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAFwElEQVRIDW2VX2jj2BXGxT7kwW83f+hMIaS5VcwgWExIiwklCzHXBheHkJlojUGFYLwX1gSW6Yy4GG0Xdp5EYHYIM6m4MJ6mpoRwYcnDMpiiNlCwXQzqQzYpJA9XpvRhKSWCGBfSoUE9V0mGGXY/kBD+fjrf8RFH0m619kEdzruaALUMbIgbJeZPtFRrPm3AFaU5BWCMf/wukAMApdMUNKcAjDN4/F0Aj1E8iQGo0jymcH+8PISQ1tYtUKXV/Doe0qpeWx+lqxhfrI0DcE+8BQrVuYd4Ml0jpKOvxsP4wpwBAN8Cqb37eM7O6ISQUoeQ1Ti+a69hbABg7CuAUj03Z2awDoBF+p0Y8efzQ4yf4HvCTXxaRRfliW8nSSmw8hZB0zt8e3jPdd2t/RugtjxV/ugf6wCYlQ7ifA2hSxfUQlsKAC1XHizNExL0ecPkDY7QjAK2vnSNG2B2ojw/Q6bMPmtwxrbRTOw+PXXdO65I/DGq32UPR8SsVBj3WGM7ji/d6VP3S1dVAEDsZaadX1/kTV5WBZpHEhLuuE+RCxXGKK1rqc8m/PvINBuMM99pymgJoSMpj1z3iSpQ300d/MgfnzJZgzHfb/8zjCI5LaU8vQGolsp4r2fLjxhjju/7kdJSGC0p4hbIziOW+IxFtzp/C6Ra8cT8hAL8bxbP5EdR9O9DRUiZADVaTyF0nHXazGk/kqCziPnXJaQCNgv11NX2cdZvQ4kl6B3FK6qXQwBuIuriii/8Atpr//xXUs0g9gCAiKTCJk3Xdz/kx6r/xhoKoYb7rPgdFLiJ2AxIQfz+70UF2OQqGcAgPnOSJp+eaptB0DWN1lHeBz3Wj4b3rqJwEMswafJKapumadr3BVoG/3VhWYC+Oj+Pr6QCTq9ONRoAsW58uNaGhOobIdwtEYY/GzWTiHP1L4KK1c0drKkpVvfIat0VX0fno/5vwkiG10C31FkV/wHgT7T0siBcIeDmYjOEDBeAdMkigXzzSZa1Py/1Ayr2t8RX4fn/eBiF8lRqlBCzEjTf6J7n20H/ZR2WQXwd/nnEz6IovHOs0Rrpe2TlW73MHTv4a0/siVx9Pzw8eSWfQ8RTba9Kunxy9VTvN5x2UKF7uSqp78vDk2KT/2twCT1USZE/PjrKFBnzX/Y7q7FuGfvyuxfFxeeLCqhikucPR6/ikec5fwyClbhmJwCZPj6PAcBYz/Pt1sogLjY8v83lsPaingBk5SS+fKLl8Nwy53FGzow87viH58YfzOsKJ4TEl0LLjc89rjAZ//d3mSL3/GhgfGIaB5J1+nySxG+EhtCcXfH4YDQYZkp/i+QWzTfqccisPkerIwBmESrDvjYHcWw8G8kY6+XPDwYhg5mRpAJGD8o2Z5zLgRD7bkufYh9/NhM2+sFb4O4i416Dy3goxEGsl+1ebXWhYQKQIwC0ZtFCtuGxpoSQeDTU2Y7VIV7DCnhA+LqAV+jsRNZZZIw3AZAjzk2rs+zZZqcS1AgpaDCpiwWnzbONL14Nrk6KfGenS/7CXnYDePSZak4BGGX9b5rPudJJ3rOtUqVtda0goFRQ9ZrEs1OwVk3ZVYTHdtZL5ddWN9jsqZXSQC0gFhh7dOap/W6vk7xjvweMAYGOF5jvXPtBuW0G3d5mh0IGtAAuQmtTDvuCMb/9WC+Zjm32Pv24VoAWUpr6ejyL0dQDBmrbMJyu49tW79Pf1gp11WMLYRDippll5nq6qpfKPiT0ii9oYUMDYWy0DH3KCsgMXGEMAW3bDGjfonRXAbspAQx0LMQuXKXLDrODoEdLgVEHAKT2YI8K8FPg18rMTkZUKvxSu1ZKKO0l/iyGTbZ6UA8AeAzvIvDUDIzmLPCpUqFA3wPUqTU7JF2rk/gapWMb7wDJ0ZrBpYAUlL+hbdwWeAtp2k/HSUBoIvWRfl8CDjQiN/7G94AUHB/MYAzJif89IIFwOrHg9MNAS4gf+PX/vf2ie9pGNdsAAAAASUVORK5CYII=&quot;.getBytes()))]]&gt;&lt;/imageExpression&gt;\n            &lt;/image&gt;\n        &lt;/band&gt;\n    &lt;/title&gt;\n    &lt;pageHeader&gt;\n        &lt;band height=&quot;35&quot; splitType=&quot;Stretch&quot;/&gt;\n    &lt;/pageHeader&gt;\n    &lt;columnHeader&gt;\n        &lt;band height=&quot;61&quot; splitType=&quot;Stretch&quot;/&gt;\n    &lt;/columnHeader&gt;\n    &lt;detail&gt;\n        &lt;band height=&quot;125&quot; splitType=&quot;Stretch&quot;&gt;\n            &lt;staticText&gt;\n                &lt;reportElement x=&quot;150&quot; y=&quot;20&quot; width=&quot;100&quot; height=&quot;30&quot; uuid=&quot;d00ab4fa-eb41-47c8-9bb0-0c7884b5c36a&quot;/&gt;\n                &lt;text&gt;&lt;![CDATA[test text 2, test text 2, ]]&gt;&lt;/text&gt;\n            &lt;/staticText&gt;\n        &lt;/band&gt;\n    &lt;/detail&gt;\n    &lt;columnFooter&gt;\n        &lt;band height=&quot;45&quot; splitType=&quot;Stretch&quot;/&gt;\n    &lt;/columnFooter&gt;\n    &lt;pageFooter&gt;\n        &lt;band height=&quot;54&quot; splitType=&quot;Stretch&quot;/&gt;\n    &lt;/pageFooter&gt;\n    &lt;summary&gt;\n        &lt;band height=&quot;42&quot; splitType=&quot;Stretch&quot;/&gt;\n    &lt;/summary&gt;\n&lt;/jasperReport&gt;\n</code></pre>\n<p>This report get rendered like this:</p>\n<p><a href=\"https://i.stack.imgur.com/lT26H.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/lT26H.png\" alt=\"enter image description here\" /></a></p>\n<p>Any idea about why the imagebox that use the string parameter get rendered as a white box?</p>\n"}],"owner":{"account_id":423105,"reputation":17235,"user_id":802281,"accept_rate":90,"display_name":"iCodeLikeImDrunk"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":32876,"favorite_count":0,"down_vote_count":0,"up_vote_count":13,"accepted_answer_id":33572720,"answer_count":6,"score":13,"last_activity_date":1699367846,"creation_date":1446828007,"question_id":33571520,"body_markdown":"So in my jrxml file I have the following:\r\n\r\n    &lt;parameter name=&quot;smileyfaceimage&quot; class=&quot;java.lang.String&quot;/&gt;\r\n\r\nThen I reference it in:\r\n\r\n    &lt;image scaleImage=&quot;FillFrame&quot; onErrorType=&quot;Blank&quot;&gt;\r\n        &lt;reportElement x=&quot;167&quot; y=&quot;62&quot; width=&quot;363&quot; height=&quot;171&quot; backcolor=&quot;#333333&quot;/&gt;\r\n        &lt;imageExpression class=&quot;java.lang.String&quot;&gt;&lt;![CDATA[$P{smileyfaceimage}]]&gt;&lt;/imageExpression&gt;\r\n    &lt;/image&gt;\r\n\r\nIs this not correct? \r\n\r\nI&#39;ve tried the base64 both with and without:\r\n\r\n    data:image/png;base64,\r\n\r\nHere&#39;s the image im working with \r\n\r\n[![just a random screenshot][1]][1]\r\n\r\nThen I used https://www.base64-image.de/ or any random site to get the base64 string. I tested the string it produces and it&#39;s valid.\r\n\r\nNow in my code;\r\n\r\n* set the value of a variable to the based64 string\r\n* on the template \r\n * set the parameter: `&lt;parameter name=&quot;smileyfaceimage&quot; class=&quot;java.lang.String&quot;/&gt;`\r\n* then add the image data to the page:\r\n * \r\n\r\n            &lt;image scaleImage=&quot;FillFrame&quot; onErrorType=&quot;Blank&quot;&gt;\r\n                &lt;reportElement x=&quot;167&quot; y=&quot;62&quot; width=&quot;363&quot; height=&quot;171&quot; backcolor=&quot;#333333&quot;/&gt;\r\n                &lt;imageExpression&gt;&lt;![CDATA[new java.io.ByteArrayInputStream(org.apache.commons.codec.binary.Base64.decodeBase64($P{smileyfaceimage}.getBytes()))]]&gt;&lt;/imageExpression&gt;\r\n            &lt;/image&gt;\r\n\r\nAm I missing a step?\r\n  [1]: http://i.stack.imgur.com/aNjwG.png","title":"How/Can I use base64 as image source in a Jasper Report template?","body":"<p>So in my jrxml file I have the following:</p>\n\n<pre><code>&lt;parameter name=\"smileyfaceimage\" class=\"java.lang.String\"/&gt;\n</code></pre>\n\n<p>Then I reference it in:</p>\n\n<pre><code>&lt;image scaleImage=\"FillFrame\" onErrorType=\"Blank\"&gt;\n    &lt;reportElement x=\"167\" y=\"62\" width=\"363\" height=\"171\" backcolor=\"#333333\"/&gt;\n    &lt;imageExpression class=\"java.lang.String\"&gt;&lt;![CDATA[$P{smileyfaceimage}]]&gt;&lt;/imageExpression&gt;\n&lt;/image&gt;\n</code></pre>\n\n<p>Is this not correct? </p>\n\n<p>I've tried the base64 both with and without:</p>\n\n<pre><code>data:image/png;base64,\n</code></pre>\n\n<p>Here's the image im working with </p>\n\n<p><a href=\"https://i.stack.imgur.com/aNjwG.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/aNjwG.png\" alt=\"just a random screenshot\"></a></p>\n\n<p>Then I used <a href=\"https://www.base64-image.de/\" rel=\"noreferrer\">https://www.base64-image.de/</a> or any random site to get the base64 string. I tested the string it produces and it's valid.</p>\n\n<p>Now in my code;</p>\n\n<ul>\n<li>set the value of a variable to the based64 string</li>\n<li>on the template \n\n<ul>\n<li>set the parameter: <code>&lt;parameter name=\"smileyfaceimage\" class=\"java.lang.String\"/&gt;</code></li>\n</ul></li>\n<li><p>then add the image data to the page:</p>\n\n<ul>\n<li><pre><code>&lt;image scaleImage=\"FillFrame\" onErrorType=\"Blank\"&gt;\n    &lt;reportElement x=\"167\" y=\"62\" width=\"363\" height=\"171\" backcolor=\"#333333\"/&gt;\n    &lt;imageExpression&gt;&lt;![CDATA[new java.io.ByteArrayInputStream(org.apache.commons.codec.binary.Base64.decodeBase64($P{smileyfaceimage}.getBytes()))]]&gt;&lt;/imageExpression&gt;\n&lt;/image&gt;\n</code></pre></li>\n</ul></li>\n</ul>\n\n<p>Am I missing a step?</p>\n"},{"tags":["java","spring","spring-boot","spring-mvc","spring-restcontroller"],"comments":[{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":2,"creation_date":1699367480,"post_id":77439021,"comment_id":136520912,"body_markdown":"A package named `controllers` doesn&#39;t seem the right one. You probably have your `@SpringBootApplication` annotated class in another package which doesn&#39;t cover this. I would suggest following the best practices for structuring a spring boot application. Put the `@SpringBootApplication` in a top level package everything else in the same or a subpackage.","body":"A package named <code>controllers</code> doesn&#39;t seem the right one. You probably have your <code>@SpringBootApplication</code> annotated class in another package which doesn&#39;t cover this. I would suggest following the best practices for structuring a spring boot application. Put the <code>@SpringBootApplication</code> in a top level package everything else in the same or a subpackage."},{"owner":{"account_id":29846893,"reputation":1,"user_id":22873778,"display_name":"Zaso"},"score":0,"creation_date":1699368194,"post_id":77439021,"comment_id":136521082,"body_markdown":"Thank you. I created a top-level package where I put my @SpringBootApplication and I put the other packages in the same top-level package I created and it worked!!","body":"Thank you. I created a top-level package where I put my @SpringBootApplication and I put the other packages in the same top-level package I created and it worked!!"}],"owner":{"account_id":29846893,"reputation":1,"user_id":22873778,"display_name":"Zaso"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1699367198,"creation_date":1699367198,"question_id":77439021,"body_markdown":"Please help if you have any idea why it&#39;s not working. I have been trying to test it with Postman for hours but no luck. I am trying to test my API with Postman but every time I try to send a post I get the same error, &quot;No mapping for POST /api/v1/cont/parties&quot;.\r\n\r\nPartyController:\r\n```\r\npackage controllers;\r\n\r\nimport assemblers.PartyModelAssembler;\r\nimport dto.PartyDto;\r\nimport model.Party;\r\nimport org.modelmapper.ModelMapper;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.hateoas.CollectionModel;\r\nimport org.springframework.hateoas.EntityModel;\r\nimport org.springframework.hateoas.IanaLinkRelations;\r\nimport org.springframework.http.ResponseEntity;\r\nimport org.springframework.web.bind.annotation.*;\r\nimport services.IPartyService;\r\n\r\nimport java.util.List;\r\n\r\n@RestController\r\n@RequestMapping(&quot;api/v1/cont&quot;)\r\npublic class PartyController {\r\n\r\n    @Autowired\r\n    private ModelMapper modelMapper;\r\n\r\n    @Autowired\r\n    private IPartyService partyService;\r\n\r\n    @Autowired\r\n    private PartyModelAssembler partyModelAssembler;\r\n\r\n    public PartyController() { super();}\r\n\r\n    @PostMapping(&quot;/parties&quot;)\r\n    public ResponseEntity&lt;EntityModel&lt;PartyDto&gt;&gt; newParty (@RequestBody PartyDto partyDto){\r\n        Party partyRequest = modelMapper.map(partyDto, Party.class);\r\n        Party newParty = partyService.createParty(partyRequest);\r\n\r\n        EntityModel&lt;PartyDto&gt; partyEntityModel = partyModelAssembler\r\n                .toModel(modelMapper.map(newParty, PartyDto.class));\r\n\r\n        return ResponseEntity.created(partyEntityModel.getRequiredLink(IanaLinkRelations.SELF).toUri())\r\n                .body(partyEntityModel);\r\n    }\r\n\r\n}\r\n\r\n```\r\n\r\nThis is the Controller that has the request and the mappings.\r\n\r\nThe URL I&#39;m using in postman is:\r\n\r\nhttp://localhost:8080/api/v1/cont/parties\r\n\r\n\r\nI double-checked the URL I&#39;m sending in Postman and in my Controller class but still did not work.","title":"No mapping for POST. 404 Not Found","body":"<p>Please help if you have any idea why it's not working. I have been trying to test it with Postman for hours but no luck. I am trying to test my API with Postman but every time I try to send a post I get the same error, &quot;No mapping for POST /api/v1/cont/parties&quot;.</p>\n<p>PartyController:</p>\n<pre><code>package controllers;\n\nimport assemblers.PartyModelAssembler;\nimport dto.PartyDto;\nimport model.Party;\nimport org.modelmapper.ModelMapper;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.hateoas.CollectionModel;\nimport org.springframework.hateoas.EntityModel;\nimport org.springframework.hateoas.IanaLinkRelations;\nimport org.springframework.http.ResponseEntity;\nimport org.springframework.web.bind.annotation.*;\nimport services.IPartyService;\n\nimport java.util.List;\n\n@RestController\n@RequestMapping(&quot;api/v1/cont&quot;)\npublic class PartyController {\n\n    @Autowired\n    private ModelMapper modelMapper;\n\n    @Autowired\n    private IPartyService partyService;\n\n    @Autowired\n    private PartyModelAssembler partyModelAssembler;\n\n    public PartyController() { super();}\n\n    @PostMapping(&quot;/parties&quot;)\n    public ResponseEntity&lt;EntityModel&lt;PartyDto&gt;&gt; newParty (@RequestBody PartyDto partyDto){\n        Party partyRequest = modelMapper.map(partyDto, Party.class);\n        Party newParty = partyService.createParty(partyRequest);\n\n        EntityModel&lt;PartyDto&gt; partyEntityModel = partyModelAssembler\n                .toModel(modelMapper.map(newParty, PartyDto.class));\n\n        return ResponseEntity.created(partyEntityModel.getRequiredLink(IanaLinkRelations.SELF).toUri())\n                .body(partyEntityModel);\n    }\n\n}\n\n</code></pre>\n<p>This is the Controller that has the request and the mappings.</p>\n<p>The URL I'm using in postman is:</p>\n<p>http://localhost:8080/api/v1/cont/parties</p>\n<p>I double-checked the URL I'm sending in Postman and in my Controller class but still did not work.</p>\n"},{"tags":["java","object","getter"],"comments":[{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1699367579,"post_id":77439004,"comment_id":136520934,"body_markdown":"I&#39;m not sure what you&#39;re trying to do with `groupMenu(smallMan.getCharacterName)`, that&#39;s never valid syntax. You second example could work, but you&#39;ll need a `Main` instance since that&#39;s where you defined the `smallMan` field. So remove the `static` modifier and make sure the method is in the `Main` class, and it should work.","body":"I&#39;m not sure what you&#39;re trying to do with <code>groupMenu(smallMan.getCharacterName)</code>, that&#39;s never valid syntax. You second example could work, but you&#39;ll need a <code>Main</code> instance since that&#39;s where you defined the <code>smallMan</code> field. So remove the <code>static</code> modifier and make sure the method is in the <code>Main</code> class, and it should work."},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1699382699,"post_id":77439004,"comment_id":136523874,"body_markdown":"Remove *all* occurrences of the word `static` from your Characters class.  That word is forcing all instances of Characters to have exactly the same data.","body":"Remove <i>all</i> occurrences of the word <code>static</code> from your Characters class.  That word is forcing all instances of Characters to have exactly the same data."}],"owner":{"account_id":29634217,"reputation":1,"user_id":22711917,"display_name":"Will Blanchard"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1699367091,"creation_date":1699367091,"question_id":77439004,"body_markdown":"I&#39;m writing a text based game for my computer science class (I&#39;m a beginner and still learning new stuff pretty much everyday) and I&#39;m trying to make a method that will print out the information of the four party members; however, I ran into some trouble trying to make the getter method get the information about a specific player object that is in the main class. I&#39;m trying to use the getter in a different class. \r\n\r\nHere are the three classes in play with the related methods:\r\n\r\n\r\n```\r\npublic class Main {\r\n\t\r\n\tpublic static void main(String[] args) {\r\n\r\n\t\tUIFunctions.startMenu();\r\n\r\n\t}//End of main method\r\n\r\n\tCharacters smallMan = new Characters(&quot;Stuart Little&quot;, 2, 1.2, 0.45, false);\r\n    Characters tallMan = new Characters(&quot;Big Mike&quot;, 6, 2.0, 0.30, false);\r\n    Characters strongMan = new Characters(&quot;Barney Buff&quot;, 10, 1.5, 0.10, true);\r\n    Characters deepPockets = new Characters(&quot;Guilo Baggin&quot;, 3, 1.6, 0.65, false);\r\n    \r\n}//End of main\r\n```\r\n\r\n\r\n```\r\npublic class Characters {\r\n\r\n\tprivate static String name;\r\n    private static int strength;\r\n    private static double height;\r\n    private static double luck;\r\n    private static boolean isGullible;\r\n\r\n    public Characters() {}\r\n    \r\n    public Characters(String characterName, int characterStrength, double characterHeight, double characterLuck, boolean isStupid){\r\n        name = characterName;\r\n        strength = characterStrength;\r\n        height = characterHeight;\r\n        luck = characterLuck;\r\n        isGullible = isStupid;\r\n        \r\n    }\r\n\r\n    //--------------------------------------------------------\r\n    // Getter methods\r\n    //--------------------------------------------------------\r\n    \r\n    \r\n    public static String getCharacterName() {\r\n    \treturn name;\r\n    }\r\n\r\n    public static int getCharacterStrength() {\r\n    \treturn strength;\r\n    }\r\n    \r\n    public static double getCharacterHeight() {\r\n    \treturn height;\r\n    }\r\n    \r\n    public static double getCharacterLuck() {\r\n    \treturn luck;\r\n    }\r\n}\r\n```\r\n\r\n\r\n```\r\npublic class UIFunctions{\r\n\r\npublic static void groupMenu(smallMan.getCharacterName) {\r\n\t\t  \r\n\t\t \r\n\t  }\r\n}\r\n```\r\n\r\n\r\nI tried excluding the character name in front of the method declaration and just straight up putting the getter in the groupMenu method, but when I tested the program nothing happened, and it just finished.\r\n\r\nI then tried the same thing but doing this instead:\r\n\r\n```\r\npublic static void groupMenu(){\r\n\r\n     smallMan.getCharacterName();\r\n}\r\n```\r\n\r\nBut that also failed.","title":"I&#39;m having trouble using a getter method for an object that has been initialized, but is not in the same class as the getter method","body":"<p>I'm writing a text based game for my computer science class (I'm a beginner and still learning new stuff pretty much everyday) and I'm trying to make a method that will print out the information of the four party members; however, I ran into some trouble trying to make the getter method get the information about a specific player object that is in the main class. I'm trying to use the getter in a different class.</p>\n<p>Here are the three classes in play with the related methods:</p>\n<pre><code>public class Main {\n    \n    public static void main(String[] args) {\n\n        UIFunctions.startMenu();\n\n    }//End of main method\n\n    Characters smallMan = new Characters(&quot;Stuart Little&quot;, 2, 1.2, 0.45, false);\n    Characters tallMan = new Characters(&quot;Big Mike&quot;, 6, 2.0, 0.30, false);\n    Characters strongMan = new Characters(&quot;Barney Buff&quot;, 10, 1.5, 0.10, true);\n    Characters deepPockets = new Characters(&quot;Guilo Baggin&quot;, 3, 1.6, 0.65, false);\n    \n}//End of main\n</code></pre>\n<pre><code>public class Characters {\n\n    private static String name;\n    private static int strength;\n    private static double height;\n    private static double luck;\n    private static boolean isGullible;\n\n    public Characters() {}\n    \n    public Characters(String characterName, int characterStrength, double characterHeight, double characterLuck, boolean isStupid){\n        name = characterName;\n        strength = characterStrength;\n        height = characterHeight;\n        luck = characterLuck;\n        isGullible = isStupid;\n        \n    }\n\n    //--------------------------------------------------------\n    // Getter methods\n    //--------------------------------------------------------\n    \n    \n    public static String getCharacterName() {\n        return name;\n    }\n\n    public static int getCharacterStrength() {\n        return strength;\n    }\n    \n    public static double getCharacterHeight() {\n        return height;\n    }\n    \n    public static double getCharacterLuck() {\n        return luck;\n    }\n}\n</code></pre>\n<pre><code>public class UIFunctions{\n\npublic static void groupMenu(smallMan.getCharacterName) {\n          \n         \n      }\n}\n</code></pre>\n<p>I tried excluding the character name in front of the method declaration and just straight up putting the getter in the groupMenu method, but when I tested the program nothing happened, and it just finished.</p>\n<p>I then tried the same thing but doing this instead:</p>\n<pre><code>public static void groupMenu(){\n\n     smallMan.getCharacterName();\n}\n</code></pre>\n<p>But that also failed.</p>\n"},{"tags":["java","gson","openapi-generator","java-module"],"answers":[{"tags":[],"owner":{"account_id":8448295,"reputation":702,"user_id":6338085,"display_name":"David Miller"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699224826,"creation_date":1699224826,"answer_id":77427962,"question_id":77427961,"body_markdown":"In build.gradle include &quot;--add-exports $MODULE/$PACKAGE=$READING_MODULE&quot;:\r\n\r\n    compileJava {\r\n    doFirst {\r\n        options.compilerArgs = [\r\n                &#39;--module-path&#39;, classpath.asPath,                \r\n                &#39;--add-exports&#39;, &#39;com.google.gson/com.google.gson.internal.bind.util=MyModule&#39; // resolves &quot;package com.google.gson.internal.bind.util is declared in module com.google.gson, which does not export it&quot; \r\n        ]\r\n        classpath = files()                                            \r\n    }\r\n}","title":"package com.google.gson.internal.bind.util is declared in module com.google.gson, which does not export it","body":"<p>In build.gradle include &quot;--add-exports $MODULE/$PACKAGE=$READING_MODULE&quot;:</p>\n<pre><code>compileJava {\ndoFirst {\n    options.compilerArgs = [\n            '--module-path', classpath.asPath,                \n            '--add-exports', 'com.google.gson/com.google.gson.internal.bind.util=MyModule' // resolves &quot;package com.google.gson.internal.bind.util is declared in module com.google.gson, which does not export it&quot; \n    ]\n    classpath = files()                                            \n}\n</code></pre>\n<p>}</p>\n"},{"comments":[{"owner":{"account_id":8448295,"reputation":702,"user_id":6338085,"display_name":"David Miller"},"score":0,"creation_date":1699365468,"post_id":77434071,"comment_id":136520451,"body_markdown":"Thanks for your helpful and instructive comments. I totally agree. Sorry I failed to include that I didn&#39;t write the code that used Gson internal but it was generated by the OpenAPI generator and so I was trying to correct a compile error with this code - working with what I was given. Perhaps there&#39;s an option in the OpenAPI config that prevents Gson being used but I haven&#39;t seen this yet. By posting this error and solution I was trying to help other OpenAPI user&#39;s.","body":"Thanks for your helpful and instructive comments. I totally agree. Sorry I failed to include that I didn&#39;t write the code that used Gson internal but it was generated by the OpenAPI generator and so I was trying to correct a compile error with this code - working with what I was given. Perhaps there&#39;s an option in the OpenAPI config that prevents Gson being used but I haven&#39;t seen this yet. By posting this error and solution I was trying to help other OpenAPI user&#39;s."},{"owner":{"account_id":5384013,"reputation":6035,"user_id":4288506,"accept_rate":77,"display_name":"Marcono1234"},"score":0,"creation_date":1699399018,"post_id":77434071,"comment_id":136526191,"body_markdown":"Looks like there is an existing [openapi-generator issue](https://github.com/OpenAPITools/openapi-generator/issues/3420) for this, but it is currently still unresolved. Maybe you can work around this by choosing a different `serializationLibrary`, see the [Java generator config options](https://openapi-generator.tech/docs/generators/java#config-options). Not sure if this could cause any behavior change.","body":"Looks like there is an existing <a href=\"https://github.com/OpenAPITools/openapi-generator/issues/3420\" rel=\"nofollow noreferrer\">openapi-generator issue</a> for this, but it is currently still unresolved. Maybe you can work around this by choosing a different <code>serializationLibrary</code>, see the <a href=\"https://openapi-generator.tech/docs/generators/java#config-options\" rel=\"nofollow noreferrer\">Java generator config options</a>. Not sure if this could cause any behavior change."}],"tags":[],"owner":{"account_id":5384013,"reputation":6035,"user_id":4288506,"accept_rate":77,"display_name":"Marcono1234"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699302760,"creation_date":1699302760,"answer_id":77434071,"question_id":77427961,"body_markdown":"While adding compiler options to allow access to this package solves the error, the question is rather why you rely on internal Gson packages in the first place, and if there are official alternatives to this.\r\n\r\nBased on the package name it sounds like you are using Gson&#39;s internal `ISO8601Utils` class. A better alternative to this would be to use the classes from the [`java.time` package](https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/time/package-summary.html) or the [`java.time.format.DateTimeFormatter` class](https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/time/format/DateTimeFormatter.html) for formatting and parsing dates.","title":"package com.google.gson.internal.bind.util is declared in module com.google.gson, which does not export it","body":"<p>While adding compiler options to allow access to this package solves the error, the question is rather why you rely on internal Gson packages in the first place, and if there are official alternatives to this.</p>\n<p>Based on the package name it sounds like you are using Gson's internal <code>ISO8601Utils</code> class. A better alternative to this would be to use the classes from the <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/time/package-summary.html\" rel=\"nofollow noreferrer\"><code>java.time</code> package</a> or the <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/time/format/DateTimeFormatter.html\" rel=\"nofollow noreferrer\"><code>java.time.format.DateTimeFormatter</code> class</a> for formatting and parsing dates.</p>\n"}],"owner":{"account_id":8448295,"reputation":702,"user_id":6338085,"display_name":"David Miller"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1699367016,"creation_date":1699224826,"question_id":77427961,"body_markdown":"I got this error message when compiling code generated from the OpenAPI generator:\r\n\r\n    package com.google.gson.internal.bind.util is declared in module com.google.gson, which does not export it\r\n\r\nIn my build.gradle I used this dependency:\r\n\r\n    implementation &#39;com.google.code.gson:gson:2.10.1&#39;\r\n\r\nand in my module-info.java I included:\r\n\r\n    requires com.google.gson;","title":"package com.google.gson.internal.bind.util is declared in module com.google.gson, which does not export it","body":"<p>I got this error message when compiling code generated from the OpenAPI generator:</p>\n<pre><code>package com.google.gson.internal.bind.util is declared in module com.google.gson, which does not export it\n</code></pre>\n<p>In my build.gradle I used this dependency:</p>\n<pre><code>implementation 'com.google.code.gson:gson:2.10.1'\n</code></pre>\n<p>and in my module-info.java I included:</p>\n<pre><code>requires com.google.gson;\n</code></pre>\n"},{"tags":["java","exception","option-type","java-9","java-11"],"answers":[{"comments":[{"owner":{"account_id":1476930,"reputation":9005,"user_id":1387113,"accept_rate":100,"display_name":"hd84335"},"score":0,"creation_date":1595069075,"post_id":62954307,"comment_id":111350957,"body_markdown":"Thanks for the answer, yes I can use orElseThrow as you said, but my question was exactly on java-9 `ifPresentOrElse` which works for unchecked exceptions in the case of absent values, but not with checked ones. So just to understand why and if there is an alternative provided in java9 Optionals. Thanks","body":"Thanks for the answer, yes I can use orElseThrow as you said, but my question was exactly on java-9 <code>ifPresentOrElse</code> which works for unchecked exceptions in the case of absent values, but not with checked ones. So just to understand why and if there is an alternative provided in java9 Optionals. Thanks"},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":3,"creation_date":1595856164,"post_id":62954307,"comment_id":111610513,"body_markdown":"The technical reason is that you are passing a `Runnable` and its `run()` method does not declare any checked exceptions, hence, you cannot throw checked exceptions. The semantic reason, to use a `Runnable` which doesn’t support checked exceptions, has been given in the answer; it is not the intended use case. The alternative, the intended way to use it, has also been given in the answer already.","body":"The technical reason is that you are passing a <code>Runnable</code> and its <code>run()</code> method does not declare any checked exceptions, hence, you cannot throw checked exceptions. The semantic reason, to use a <code>Runnable</code> which doesn’t support checked exceptions, has been given in the answer; it is not the intended use case. The alternative, the intended way to use it, has also been given in the answer already."}],"tags":[],"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"comment_count":2,"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1594992274,"creation_date":1594990093,"answer_id":62954307,"question_id":62944518,"body_markdown":"The method `ifPresentOrElse` is a useful tool when you want to specify two non-throwing actions, so that you can continue after the method invocation in either case. But when you want to throw in the case of absent values, it’s an unnecessary complication. Just use\r\n\r\n```\r\nvar book = dao.findBook(id).orElseThrow(BookNotFoundException::new);\r\nprintingService.print(book, printerName);\r\nchangeBookPrintDate(book.getId(), LocalDateTime.now());\r\n```\r\n\r\nSince this construct will throw for an absent value, the code flow will only continue for present values. So you can use `book` in the follow-up code like an ordinary local variable, but with the guaranty that it will never be `null`.\r\n\r\nThe method [`orElseThrow`] expects a `Supplier` for the exception to be thrown, instead of a function that throws. That way, the supplier can construct a checked exception without throwing it and the generic signature of [`orElseThrow`] declares to throw whatever type the supplier produced.\r\n\r\n[`orElseThrow`]: https://docs.oracle.com/en/java/javase/14/docs/api/java.base/java/util/Optional.html#orElseThrow()\r\n\r\n&gt; ```public &lt;X extends Throwable&gt; T orElseThrow​(Supplier&lt;? extends X&gt; exceptionSupplier) throws X```","title":"Unable to throw a `checked` exception when using Java Optional ifPresentOrElse method","body":"<p>The method <code>ifPresentOrElse</code> is a useful tool when you want to specify two non-throwing actions, so that you can continue after the method invocation in either case. But when you want to throw in the case of absent values, it’s an unnecessary complication. Just use</p>\n<pre><code>var book = dao.findBook(id).orElseThrow(BookNotFoundException::new);\nprintingService.print(book, printerName);\nchangeBookPrintDate(book.getId(), LocalDateTime.now());\n</code></pre>\n<p>Since this construct will throw for an absent value, the code flow will only continue for present values. So you can use <code>book</code> in the follow-up code like an ordinary local variable, but with the guaranty that it will never be <code>null</code>.</p>\n<p>The method <a href=\"https://docs.oracle.com/en/java/javase/14/docs/api/java.base/java/util/Optional.html#orElseThrow()\" rel=\"noreferrer\"><code>orElseThrow</code></a> expects a <code>Supplier</code> for the exception to be thrown, instead of a function that throws. That way, the supplier can construct a checked exception without throwing it and the generic signature of <a href=\"https://docs.oracle.com/en/java/javase/14/docs/api/java.base/java/util/Optional.html#orElseThrow()\" rel=\"noreferrer\"><code>orElseThrow</code></a> declares to throw whatever type the supplier produced.</p>\n<blockquote>\n<p><code>public &lt;X extends Throwable&gt; T orElseThrow​(Supplier&lt;? extends X&gt; exceptionSupplier) throws X</code></p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":11264334,"reputation":259,"user_id":8261640,"display_name":"Feliciano J&#250;nior"},"comment_count":0,"down_vote_count":1,"up_vote_count":26,"is_accepted":false,"score":25,"last_activity_date":1699366873,"creation_date":1612989277,"answer_id":66144610,"question_id":62944518,"body_markdown":"You must enclose the throw within curly braces:\r\n\r\n    *() -&gt; { throw new BookNotFoundException(); }*","title":"Unable to throw a `checked` exception when using Java Optional ifPresentOrElse method","body":"<p>You must enclose the throw within curly braces:</p>\n<pre><code>*() -&gt; { throw new BookNotFoundException(); }*\n</code></pre>\n"}],"owner":{"account_id":1476930,"reputation":9005,"user_id":1387113,"accept_rate":100,"display_name":"hd84335"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15946,"favorite_count":0,"down_vote_count":1,"up_vote_count":10,"answer_count":2,"score":9,"last_activity_date":1699366873,"creation_date":1594939056,"question_id":62944518,"body_markdown":"Why a checked Exception can&#39;t be thrown in the orElse part when using `ifPresentOrElse` java Optional method ?\r\n\r\n\r\nFor example: \r\n\r\n    dao.findBook(id).ifPresentOrElse(book -&gt; {\r\n        printingService.print(book, printerName);\r\n\t    changeBookPrintDate(book.getId(), LocalDateTime.now());\r\n    }, () -&gt; new BookNotFoundException());\r\n\r\nwhere `BookNotFoundException` is a custom exception extending `Exception` class (checked exception).\r\n\r\nbut this code makes the compiler upset: \r\n\r\n    unreported exception com...exception.BookNotFoundException; must be caught or declared to be thrown\r\n\r\n(knowing that it is already thrown in the method declaration, and surrounding this block with try catch doesn&#39;t resolve the compilation problem).\r\n\r\nBut if we make `BookNotFoundException` to be extending `RuntimeException` (which is unchecked), then all works perfectly.\r\n\r\nAnyone knows why ?\r\n\r\nWhat&#39;s the reason that prevents throwing such kind of exceptions in this java 9 Optional method ?\r\n\r\nAnd why should I make my exception a RuntimeException to make it works while it is more to be considered a &#39;*custom exception*&#39; more than it is &#39;*runtime*&#39; ?\r\n\r\nThis [question](https://stackoverflow.com/questions/37726874/why-cant-i-throw-an-exception-in-a-java-8-lambda-expression) is addressing the same problem but for java 8 lambdas, so I don&#39;t know if the same applies for java 9 Optionals.\r\n\r\nOther [researches](https://stackoverflow.com/questions/6302015/throw-checked-exceptions) leaded nowhere other than confirming that [it is not possible](https://stackoverflow.com/questions/51503870/how-to-handle-an-exception-inside-of-ifpresent).\r\n\r\nAny Idea ?","title":"Unable to throw a `checked` exception when using Java Optional ifPresentOrElse method","body":"<p>Why a checked Exception can't be thrown in the orElse part when using <code>ifPresentOrElse</code> java Optional method ?</p>\n<p>For example:</p>\n<pre><code>dao.findBook(id).ifPresentOrElse(book -&gt; {\n    printingService.print(book, printerName);\n    changeBookPrintDate(book.getId(), LocalDateTime.now());\n}, () -&gt; new BookNotFoundException());\n</code></pre>\n<p>where <code>BookNotFoundException</code> is a custom exception extending <code>Exception</code> class (checked exception).</p>\n<p>but this code makes the compiler upset:</p>\n<pre><code>unreported exception com...exception.BookNotFoundException; must be caught or declared to be thrown\n</code></pre>\n<p>(knowing that it is already thrown in the method declaration, and surrounding this block with try catch doesn't resolve the compilation problem).</p>\n<p>But if we make <code>BookNotFoundException</code> to be extending <code>RuntimeException</code> (which is unchecked), then all works perfectly.</p>\n<p>Anyone knows why ?</p>\n<p>What's the reason that prevents throwing such kind of exceptions in this java 9 Optional method ?</p>\n<p>And why should I make my exception a RuntimeException to make it works while it is more to be considered a '<em>custom exception</em>' more than it is '<em>runtime</em>' ?</p>\n<p>This <a href=\"https://stackoverflow.com/questions/37726874/why-cant-i-throw-an-exception-in-a-java-8-lambda-expression\">question</a> is addressing the same problem but for java 8 lambdas, so I don't know if the same applies for java 9 Optionals.</p>\n<p>Other <a href=\"https://stackoverflow.com/questions/6302015/throw-checked-exceptions\">researches</a> leaded nowhere other than confirming that <a href=\"https://stackoverflow.com/questions/51503870/how-to-handle-an-exception-inside-of-ifpresent\">it is not possible</a>.</p>\n<p>Any Idea ?</p>\n"},{"tags":["java","xml","spring","spring-boot","maven"],"comments":[{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1699363765,"post_id":77438590,"comment_id":136520086,"body_markdown":"switch the order of the modules in your parent .","body":"switch the order of the modules in your parent ."},{"owner":{"account_id":6995665,"reputation":475,"user_id":5363433,"accept_rate":52,"display_name":"Utkarsh Saraf"},"score":0,"creation_date":1699366519,"post_id":77438590,"comment_id":136520697,"body_markdown":"It is trying to download from artifactory still..not getting reason or issue? @M.Deinum","body":"It is trying to download from artifactory still..not getting reason or issue? @M.Deinum"},{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1699366691,"post_id":77438590,"comment_id":136520730,"body_markdown":"Have you tried specifying a relative path for the parent?","body":"Have you tried specifying a relative path for the parent?"},{"owner":{"account_id":6995665,"reputation":475,"user_id":5363433,"accept_rate":52,"display_name":"Utkarsh Saraf"},"score":0,"creation_date":1699366903,"post_id":77438590,"comment_id":136520777,"body_markdown":"Can you clarify more where to mention which relative path.quite new to multimodule architecture.thanks in advance @M.Deinum","body":"Can you clarify more where to mention which relative path.quite new to multimodule architecture.thanks in advance @M.Deinum"},{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1699367024,"post_id":77438590,"comment_id":136520797,"body_markdown":"In the `&lt;parent/&gt;` segment, you can delcare a `relativePath` and point it to the parent pom.","body":"In the <code>&lt;parent&#47;&gt;</code> segment, you can delcare a <code>relativePath</code> and point it to the parent pom."},{"owner":{"account_id":6995665,"reputation":475,"user_id":5363433,"accept_rate":52,"display_name":"Utkarsh Saraf"},"score":0,"creation_date":1699367152,"post_id":77438590,"comment_id":136520841,"body_markdown":"One question, does this entry needs to be in utils-module or ingestion-module in which i am trying to import utils-module","body":"One question, does this entry needs to be in utils-module or ingestion-module in which i am trying to import utils-module"},{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1699367212,"post_id":77438590,"comment_id":136520856,"body_markdown":"all of them except the parent itself.","body":"all of them except the parent itself."},{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1699373225,"post_id":77438590,"comment_id":136522154,"body_markdown":"Can you please try first: `mvn clean` on plain command line from the root of your project (`Experimental/cds-monorepo-demo`) and post the result here...","body":"Can you please try first: <code>mvn clean</code> on plain command line from the root of your project (<code>Experimental&#47;cds-monorepo-demo</code>) and post the result here..."}],"owner":{"account_id":6995665,"reputation":475,"user_id":5363433,"accept_rate":52,"display_name":"Utkarsh Saraf"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1699366614,"creation_date":1699363602,"question_id":77438590,"body_markdown":"I have written multimodule spring boot project having following structure.\r\n[![enter image description here][1]][1]\r\n\r\nCurrently I am trying to call ```utils-module``` into two separate self running modules, ```ingestion-service``` and ```alert-service```.The pom of modules are as follows:\r\n\r\n**parent module pom.xml**\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.7.14&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\r\n\t&lt;groupId&gt;org.common.io&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;cds-monorepo-demo&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    &lt;packaging&gt;pom&lt;/packaging&gt;\r\n    &lt;name&gt;cds-monorepo-demo&lt;/name&gt;\r\n\t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n\r\n\t&lt;modules&gt;\r\n\t\t&lt;module&gt;ingestion-service&lt;/module&gt;\r\n\t\t&lt;module&gt;alert-service&lt;/module&gt;\r\n\t\t&lt;module&gt;utils-module&lt;/module&gt;\r\n\t&lt;/modules&gt;\r\n\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;1.8&lt;/java.version&gt;\r\n\t\t&lt;maven.compiler.source&gt;8&lt;/maven.compiler.source&gt;\r\n\t\t&lt;maven.compiler.target&gt;8&lt;/maven.compiler.target&gt;\r\n\t\t&lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n\t&lt;/properties&gt;\r\n\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t&lt;/dependencies&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\n\r\n**ingestion-service pom.xml**\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;org.common.io&lt;/groupId&gt;\r\n        &lt;artifactId&gt;cds-monorepo-demo&lt;/artifactId&gt;\r\n        &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    &lt;/parent&gt;\r\n\r\n    &lt;artifactId&gt;ingestion-service&lt;/artifactId&gt;\r\n    &lt;packaging&gt;jar&lt;/packaging&gt;\r\n\r\n    &lt;properties&gt;\r\n        &lt;maven.compiler.source&gt;8&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;8&lt;/maven.compiler.target&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    &lt;/properties&gt;\r\n&lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.common.io&lt;/groupId&gt;\r\n            &lt;artifactId&gt;utils-module&lt;/artifactId&gt;\r\n            &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n    &lt;build&gt;\r\n    &lt;plugins&gt;\r\n        &lt;plugin&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n            &lt;configuration&gt;\r\n                &lt;mainClass&gt;org.common.io.Main&lt;/mainClass&gt;\r\n                &lt;layout&gt;JAR&lt;/layout&gt;\r\n            &lt;/configuration&gt;\r\n        &lt;/plugin&gt;\r\n    &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\n\r\n**alert-service pom.xml**\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;org.common.io&lt;/groupId&gt;\r\n        &lt;artifactId&gt;cds-monorepo-demo&lt;/artifactId&gt;\r\n        &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    &lt;/parent&gt;\r\n\r\n    &lt;artifactId&gt;alert-service&lt;/artifactId&gt;\r\n    &lt;packaging&gt;jar&lt;/packaging&gt;\r\n\r\n    &lt;properties&gt;\r\n        &lt;maven.compiler.source&gt;8&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;8&lt;/maven.compiler.target&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    &lt;/properties&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;mainClass&gt;org.common.io.Main&lt;/mainClass&gt;\r\n                    &lt;layout&gt;JAR&lt;/layout&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\n**utils-module pom.xml**\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;org.common.io&lt;/groupId&gt;\r\n        &lt;artifactId&gt;cds-monorepo-demo&lt;/artifactId&gt;\r\n        &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    &lt;/parent&gt;\r\n\r\n    &lt;artifactId&gt;utils-module&lt;/artifactId&gt;\r\n    &lt;packaging&gt;jar&lt;/packaging&gt;\r\n\r\n    &lt;properties&gt;\r\n        &lt;maven.compiler.source&gt;8&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;8&lt;/maven.compiler.target&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    &lt;/properties&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\n\r\nI am facing following error:\r\n\r\n**[ERROR] Failed to execute goal on project ingestion-service: Could not resolve dependencies for project org.common.io:ingestion-service:jar:0.0.1-SNAPSHOT: The following artifacts could not be resolved: org.common.io:utils-module:jar:0.0.1-SNAPSHOT (absent): Could not find artifact org.common.io:utils-module:jar:0.0.1-SNAPSHOT in snapshots (http://artifactory.abc-internal.com/artifactory/libs-snapshot) -&gt; [Help 1]\r\n[ERROR] \r\n[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\r\n[ERROR] Re-run Maven using the -X switch to enable full debug logging.\r\n[ERROR] \r\n[ERROR] For more information about the errors and possible solutions, please read the following articles:\r\n[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/DependencyResolutionException**\r\n\r\n\r\nSince module is in same repository.Why it is giving error?\r\n\r\n**Update:**\r\n\r\nChanging the order of modules in parent pom have no effect.its trying to download from artifactory still.\r\n\r\n  [1]: https://i.stack.imgur.com/TUm10.png","title":"Import util module in multi-module spring project","body":"<p>I have written multimodule spring boot project having following structure.\n<a href=\"https://i.stack.imgur.com/TUm10.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/TUm10.png\" alt=\"enter image description here\" /></a></p>\n<p>Currently I am trying to call <code>utils-module</code> into two separate self running modules, <code>ingestion-service</code> and <code>alert-service</code>.The pom of modules are as follows:</p>\n<p><strong>parent module pom.xml</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.7.14&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n\n    &lt;groupId&gt;org.common.io&lt;/groupId&gt;\n    &lt;artifactId&gt;cds-monorepo-demo&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;packaging&gt;pom&lt;/packaging&gt;\n    &lt;name&gt;cds-monorepo-demo&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n\n    &lt;modules&gt;\n        &lt;module&gt;ingestion-service&lt;/module&gt;\n        &lt;module&gt;alert-service&lt;/module&gt;\n        &lt;module&gt;utils-module&lt;/module&gt;\n    &lt;/modules&gt;\n\n    &lt;properties&gt;\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\n        &lt;maven.compiler.source&gt;8&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;8&lt;/maven.compiler.target&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n    &lt;/dependencies&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p><strong>ingestion-service pom.xml</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.common.io&lt;/groupId&gt;\n        &lt;artifactId&gt;cds-monorepo-demo&lt;/artifactId&gt;\n        &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;/parent&gt;\n\n    &lt;artifactId&gt;ingestion-service&lt;/artifactId&gt;\n    &lt;packaging&gt;jar&lt;/packaging&gt;\n\n    &lt;properties&gt;\n        &lt;maven.compiler.source&gt;8&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;8&lt;/maven.compiler.target&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;/properties&gt;\n&lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.common.io&lt;/groupId&gt;\n            &lt;artifactId&gt;utils-module&lt;/artifactId&gt;\n            &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n    &lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;configuration&gt;\n                &lt;mainClass&gt;org.common.io.Main&lt;/mainClass&gt;\n                &lt;layout&gt;JAR&lt;/layout&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p><strong>alert-service pom.xml</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.common.io&lt;/groupId&gt;\n        &lt;artifactId&gt;cds-monorepo-demo&lt;/artifactId&gt;\n        &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;/parent&gt;\n\n    &lt;artifactId&gt;alert-service&lt;/artifactId&gt;\n    &lt;packaging&gt;jar&lt;/packaging&gt;\n\n    &lt;properties&gt;\n        &lt;maven.compiler.source&gt;8&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;8&lt;/maven.compiler.target&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;/properties&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;mainClass&gt;org.common.io.Main&lt;/mainClass&gt;\n                    &lt;layout&gt;JAR&lt;/layout&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<p><strong>utils-module pom.xml</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.common.io&lt;/groupId&gt;\n        &lt;artifactId&gt;cds-monorepo-demo&lt;/artifactId&gt;\n        &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;/parent&gt;\n\n    &lt;artifactId&gt;utils-module&lt;/artifactId&gt;\n    &lt;packaging&gt;jar&lt;/packaging&gt;\n\n    &lt;properties&gt;\n        &lt;maven.compiler.source&gt;8&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;8&lt;/maven.compiler.target&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;/properties&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>I am facing following error:</p>\n<p><strong>[ERROR] Failed to execute goal on project ingestion-service: Could not resolve dependencies for project org.common.io:ingestion-service:jar:0.0.1-SNAPSHOT: The following artifacts could not be resolved: org.common.io:utils-module:jar:0.0.1-SNAPSHOT (absent): Could not find artifact org.common.io:utils-module:jar:0.0.1-SNAPSHOT in snapshots (<a href=\"http://artifactory.abc-internal.com/artifactory/libs-snapshot\" rel=\"nofollow noreferrer\">http://artifactory.abc-internal.com/artifactory/libs-snapshot</a>) -&gt; [Help 1]\n[ERROR]\n[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\n[ERROR] Re-run Maven using the -X switch to enable full debug logging.\n[ERROR]\n[ERROR] For more information about the errors and possible solutions, please read the following articles:\n[ERROR] [Help 1] <a href=\"http://cwiki.apache.org/confluence/display/MAVEN/DependencyResolutionException\" rel=\"nofollow noreferrer\">http://cwiki.apache.org/confluence/display/MAVEN/DependencyResolutionException</a></strong></p>\n<p>Since module is in same repository.Why it is giving error?</p>\n<p><strong>Update:</strong></p>\n<p>Changing the order of modules in parent pom have no effect.its trying to download from artifactory still.</p>\n"},{"tags":["java","csv","filewriter","opencsv","csvwriter"],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1699366278,"creation_date":1699365816,"answer_id":77438850,"question_id":77431861,"body_markdown":"If you look at the source code of the latest version of OpenCSV, you will see that `writeNext(array)` calls `writeNext(array, true)` where the 2nd argument is `applyQuotesToAll`.  That argument tells the writer to output each value in quotes, irrespective of whether quoting is required based on the value&#39;s characters.\r\n\r\nThe same applies to the older version that you are using.\r\n\r\nBased on this, I conclude that:\r\n\r\n  1.  You are generating a CSV file where the values are all quoted.\r\n  2.  The unexpected character at the start of the first line would therefore be a double quote; i.e. the writer&#39;s default quoting character.\r\n\r\n      I don&#39;t know why you couldn&#39;t see the character, but it may be that the website&#39;s error message is tricky to read.  For example, if it enclosed the unexpected character in quotes, you might misinterpret &#39;&quot;&#39; or &quot;&quot;&quot;.\r\n  3.  The fix would be to use `writeNext(array, false)` instead of `writeNext(array)`.\r\n\r\nThe source code link for `CSVWriter` in OpenCSV 4.1 is  [here](https://sourceforge.net/p/opencsv/source/ci/Release_4_1/tree/src/main/java/com/opencsv/CSVWriter.java) and the relevant code is at line 368.\r\n\r\n","title":"OpenCsv csvwriter adding leading space in each row?","body":"<p>If you look at the source code of the latest version of OpenCSV, you will see that <code>writeNext(array)</code> calls <code>writeNext(array, true)</code> where the 2nd argument is <code>applyQuotesToAll</code>.  That argument tells the writer to output each value in quotes, irrespective of whether quoting is required based on the value's characters.</p>\n<p>The same applies to the older version that you are using.</p>\n<p>Based on this, I conclude that:</p>\n<ol>\n<li><p>You are generating a CSV file where the values are all quoted.</p>\n</li>\n<li><p>The unexpected character at the start of the first line would therefore be a double quote; i.e. the writer's default quoting character.</p>\n<p>I don't know why you couldn't see the character, but it may be that the website's error message is tricky to read.  For example, if it enclosed the unexpected character in quotes, you might misinterpret '&quot;' or &quot;&quot;&quot;.</p>\n</li>\n<li><p>The fix would be to use <code>writeNext(array, false)</code> instead of <code>writeNext(array)</code>.</p>\n</li>\n</ol>\n<p>The source code link for <code>CSVWriter</code> in OpenCSV 4.1 is  <a href=\"https://sourceforge.net/p/opencsv/source/ci/Release_4_1/tree/src/main/java/com/opencsv/CSVWriter.java\" rel=\"nofollow noreferrer\">here</a> and the relevant code is at line 368.</p>\n"}],"owner":{"account_id":24204646,"reputation":3,"user_id":18162025,"display_name":"ash22"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77438850,"answer_count":1,"score":0,"last_activity_date":1699366278,"creation_date":1699280731,"question_id":77431861,"body_markdown":"I am using openCsv to read strings from list and write in csv file. This file will be uploaded in a website which validates the string(a combination of letters and numbers seaprated by ~) present in files and does not accept any spaces or other characters.\r\n\r\nWhen the file is uploaded the website is saying it has invalid entries.While the data is written in the .csv, I am seeing a extra character added before each column. I initially thought it is a leading space but I am not able to see any. Just in case I tried hitting blankspace before each value in row and tried uploading the file. It is getting uploaded. \r\n\r\nSo what should I do to not add that leading character? These files will be used in automation process so I won&#39;t be able to open amd edit every time.\r\n\r\nI tried using strip() and trim() to the string before adding it in an array and then passing it to writenext():\r\n\r\n\r\n```\r\nFileWriter fw=new FileWriter(&quot;check.csv&quot;);\r\nString setup=&quot;12348448~RR&quot;;\r\nString arr[]=new String[1];\r\narr[0]=setup.strip();\r\nCsvWriter csvw=new CsvWriter(fw);\r\ncsvw.writeNext(arr);\r\n```\r\nBut still the the text inside is shown as invalid but once I hit the backspace in front of the data in each row and upload the same file, it is getting uploaded.\r\n\r\nWhat is the leading character used here? Is there any way to not open and edit the file every time after writing? Any suggestions even on using other csv libraries would also be useful.\r\n\r\nEdit: I am using Java SE 11 in Windows. I am using openCsv version 4.1.","title":"OpenCsv csvwriter adding leading space in each row?","body":"<p>I am using openCsv to read strings from list and write in csv file. This file will be uploaded in a website which validates the string(a combination of letters and numbers seaprated by ~) present in files and does not accept any spaces or other characters.</p>\n<p>When the file is uploaded the website is saying it has invalid entries.While the data is written in the .csv, I am seeing a extra character added before each column. I initially thought it is a leading space but I am not able to see any. Just in case I tried hitting blankspace before each value in row and tried uploading the file. It is getting uploaded.</p>\n<p>So what should I do to not add that leading character? These files will be used in automation process so I won't be able to open amd edit every time.</p>\n<p>I tried using strip() and trim() to the string before adding it in an array and then passing it to writenext():</p>\n<pre><code>FileWriter fw=new FileWriter(&quot;check.csv&quot;);\nString setup=&quot;12348448~RR&quot;;\nString arr[]=new String[1];\narr[0]=setup.strip();\nCsvWriter csvw=new CsvWriter(fw);\ncsvw.writeNext(arr);\n</code></pre>\n<p>But still the the text inside is shown as invalid but once I hit the backspace in front of the data in each row and upload the same file, it is getting uploaded.</p>\n<p>What is the leading character used here? Is there any way to not open and edit the file every time after writing? Any suggestions even on using other csv libraries would also be useful.</p>\n<p>Edit: I am using Java SE 11 in Windows. I am using openCsv version 4.1.</p>\n"},{"tags":["java","groovy","java-8","serviceloader"],"comments":[{"owner":{"account_id":1333316,"reputation":26958,"user_id":1276664,"accept_rate":17,"display_name":"daggett"},"score":0,"creation_date":1699310226,"post_id":77434511,"comment_id":136513387,"body_markdown":"do you have full stacktrace of the error? it should have caused by section with a reason... just a guess - tomcat is running on java 11+ when groovy version is quite old.","body":"do you have full stacktrace of the error? it should have caused by section with a reason... just a guess - tomcat is running on java 11+ when groovy version is quite old."},{"owner":{"account_id":6104226,"reputation":775,"user_id":4762316,"display_name":"Apoorva Manjunath"},"score":0,"creation_date":1699320693,"post_id":77434511,"comment_id":136514403,"body_markdown":"Updated with stacktrace partially. Java is 1.8.","body":"Updated with stacktrace partially. Java is 1.8."},{"owner":{"account_id":3837378,"reputation":35488,"user_id":3181392,"display_name":"cfrick"},"score":0,"creation_date":1699340179,"post_id":77434511,"comment_id":136515939,"body_markdown":"If it runs standalone, then very likely something else tries to register this service and/or poisons the classloader. The error you are showing is the _result_ of that failure - but we need to know if there is a _reason_. E.g. what are the errors _before_, or what is the _full_ stacktrace. As of now, this looks like information is withheld.","body":"If it runs standalone, then very likely something else tries to register this service and/or poisons the classloader. The error you are showing is the <i>result</i> of that failure - but we need to know if there is a <i>reason</i>. E.g. what are the errors <i>before</i>, or what is the <i>full</i> stacktrace. As of now, this looks like information is withheld."},{"owner":{"account_id":6104226,"reputation":775,"user_id":4762316,"display_name":"Apoorva Manjunath"},"score":0,"creation_date":1699365747,"post_id":77434511,"comment_id":136520515,"body_markdown":"@cfrick Added cause in stacktrace.","body":"@cfrick Added cause in stacktrace."},{"owner":{"account_id":1333316,"reputation":26958,"user_id":1276664,"accept_rate":17,"display_name":"daggett"},"score":0,"creation_date":1699370080,"post_id":77434511,"comment_id":136521470,"body_markdown":"is groovy a part of your war?","body":"is groovy a part of your war?"},{"owner":{"account_id":6104226,"reputation":775,"user_id":4762316,"display_name":"Apoorva Manjunath"},"score":0,"creation_date":1699374873,"post_id":77434511,"comment_id":136522462,"body_markdown":"groovy is not in file system, its fetched from my database. @daggett","body":"groovy is not in file system, its fetched from my database. @daggett"},{"owner":{"account_id":1333316,"reputation":26958,"user_id":1276664,"accept_rate":17,"display_name":"daggett"},"score":0,"creation_date":1699380426,"post_id":77434511,"comment_id":136523499,"body_markdown":"sounds like you don&#39;t have groovy libraries in your application. or two conflicting versions of groovy inside tomcat/application...","body":"sounds like you don&#39;t have groovy libraries in your application. or two conflicting versions of groovy inside tomcat/application..."},{"owner":{"account_id":6104226,"reputation":775,"user_id":4762316,"display_name":"Apoorva Manjunath"},"score":0,"creation_date":1699407792,"post_id":77434511,"comment_id":136526938,"body_markdown":"Library is present in my war’s META-INF/lib folder just like all other deps. I checked dependency hierarchy from IDE and it doesnt show multiple versions. Adding jar explicitly in tomcat lib folder resolves issue, but not consistently.","body":"Library is present in my war’s META-INF/lib folder just like all other deps. I checked dependency hierarchy from IDE and it doesnt show multiple versions. Adding jar explicitly in tomcat lib folder resolves issue, but not consistently."},{"owner":{"account_id":3837378,"reputation":35488,"user_id":3181392,"display_name":"cfrick"},"score":0,"creation_date":1699436735,"post_id":77434511,"comment_id":136530100,"body_markdown":"What does &quot;not consistently&quot; mean? As in: it works, restart, does not\nwork?  This could mean, that there are clashing resources (e.g. multiple\njars with similar content) and you get random results from the class\nloader.","body":"What does &quot;not consistently&quot; mean? As in: it works, restart, does not work?  This could mean, that there are clashing resources (e.g. multiple jars with similar content) and you get random results from the class loader."},{"owner":{"account_id":6104226,"reputation":775,"user_id":4762316,"display_name":"Apoorva Manjunath"},"score":0,"creation_date":1699545148,"post_id":77434511,"comment_id":136548178,"body_markdown":"Yeah on some restarts it works fine, but not in some. This is with adding lib in tomcat lib folder along with my application&#39;s lib.","body":"Yeah on some restarts it works fine, but not in some. This is with adding lib in tomcat lib folder along with my application&#39;s lib."}],"answers":[{"comments":[{"owner":{"account_id":6104226,"reputation":775,"user_id":4762316,"display_name":"Apoorva Manjunath"},"score":0,"creation_date":1699312588,"post_id":77434570,"comment_id":136513705,"body_markdown":"In this scenario, source code for groovy is passed dynamically. Not stored in file system.","body":"In this scenario, source code for groovy is passed dynamically. Not stored in file system."}],"tags":[],"owner":{"account_id":10328218,"reputation":2812,"user_id":7619034,"display_name":"Rob Evans"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699309784,"creation_date":1699309784,"answer_id":77434570,"question_id":77434511,"body_markdown":"Sometimes, the compiler finds it difficult to resolve dependencies when source code for java and groovy is in more than one source dir, so you can tell gradle/the compiler where to find the source to compile for the project by adding the following to your `build.gradle`: \r\n\r\n\r\n```\r\nsourceSets {\r\n  main {\r\n    groovy {\r\n      srcDirs = [&#39;src/main/java&#39;, &#39;src/main/groovy&#39;]\r\n    }\r\n    resources {\r\n      srcDirs = [&#39;src/main/resources&#39;]\r\n    }\r\n  }\r\n}\r\n```","title":"Java8 ServiceLoader : Unable to load","body":"<p>Sometimes, the compiler finds it difficult to resolve dependencies when source code for java and groovy is in more than one source dir, so you can tell gradle/the compiler where to find the source to compile for the project by adding the following to your <code>build.gradle</code>:</p>\n<pre><code>sourceSets {\n  main {\n    groovy {\n      srcDirs = ['src/main/java', 'src/main/groovy']\n    }\n    resources {\n      srcDirs = ['src/main/resources']\n    }\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":6104226,"reputation":775,"user_id":4762316,"display_name":"Apoorva Manjunath"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":83,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1699366053,"creation_date":1699308717,"question_id":77434511,"body_markdown":"In my Java8 Spring boot application that has a dependency on `groovy-json` library version 3.0.19 to execute groovy scripts, it fails with below exception when my application war file is deployed in Tomcat, but not in Docker or local development setup. On execution of script like `new groovy.json.JsonSlurper().parseText(&#39;{}&#39;)` I see below exception:\r\n\r\n&#39;javax.script.ScriptException: java.lang.RuntimeException: Unable to load FastStringService&#39;\r\n\r\nAbove runtime exception is from this portion of code in groovy-json package: https://github.com/apache/groovy/blob/GROOVY_3_0_19/subprojects/groovy-json/src/main/java/org/apache/groovy/json/internal/FastStringUtils.java#L35-L59 \r\n\r\nI&#39;ve looked for conflicting dependencies, there is only this version of groovy-json library in my app. The particular class in question does actually exist in my artifact. Any ideas on this error?\r\n\r\n**Updates:**\r\n\r\nStacktrace: \r\n\r\n```\r\n&quot;org.flowable.common.engine.impl.scripting.FlowableScriptEvaluationException: groovy script evaluation failed: &#39;javax.script.ScriptException: org.flowable.common.engine.impl.scripting.FlowableScriptEvaluationException: groovy script evaluation failed: &#39;javax.script.ScriptException: java.lang.RuntimeException: Unable to load FastStringService&#39;&#39;&quot;,\r\n  &quot;  at org.flowable.common.engine.impl.scripting.ScriptingEngines.evaluate(ScriptingEngines.java:132)&quot;,\r\n\r\n  &quot;Caused by: javax.script.ScriptException: javax.script.ScriptException: java.lang.RuntimeException: Unable to load FastStringService&quot;,\r\n  &quot;  at org.codehaus.groovy.jsr223.GroovyScriptEngineImpl.eval(GroovyScriptEngineImpl.java:158)&quot;,\r\n  &quot;  at javax.script.AbstractScriptEngine.eval(AbstractScriptEngine.java:233)&quot;,\r\n  &quot;  at org.flowable.common.engine.impl.scripting.ScriptingEngines.evaluate(ScriptingEngines.java:111)&quot;,\r\n  &quot;  ... 152 more&quot;,\r\n  &quot;Caused by: javax.script.ScriptException: java.lang.RuntimeException: Unable to load FastStringService&quot;,\r\n  &quot;  at org.codehaus.groovy.jsr223.GroovyScriptEngineImpl.eval(GroovyScriptEngineImpl.java:320)&quot;,\r\n  &quot;  at org.codehaus.groovy.jsr223.GroovyScriptEngineImpl.eval(GroovyScriptEngineImpl.java:155)&quot;,\r\n  &quot;  ... 154 more&quot;,\r\n  &quot;Caused by: java.lang.RuntimeException: Unable to load FastStringService&quot;,\r\n  &quot;  at org.apache.groovy.json.internal.FastStringUtils.getService(FastStringUtils.java:56)&quot;,\r\n  &quot;  at org.apache.groovy.json.internal.FastStringUtils.toCharArray(FastStringUtils.java:66)&quot;,\r\n  &quot;  at org.apache.groovy.json.internal.BaseJsonParser.parse(BaseJsonParser.java:113)&quot;,\r\n  &quot;  at groovy.json.JsonSlurper.parseText(JsonSlurper.java:204)&quot;,\r\n  &quot;  at groovy.json.JsonSlurper$parseText.call(Unknown Source)&quot;,\r\n  &quot;  at org.codehaus.groovy.runtime.callsite.CallSiteArray.defaultCall(CallSiteArray.java:47)&quot;,\r\n  &quot;  at org.codehaus.groovy.runtime.callsite.AbstractCallSite.call(AbstractCallSite.java:125)&quot;,\r\n  &quot;  at org.codehaus.groovy.runtime.callsite.AbstractCallSite.call(AbstractCallSite.java:139)&quot;,\r\n  &quot;  at Script449.run(Script449.groovy:2)&quot;,\r\n  &quot;  at org.codehaus.groovy.jsr223.GroovyScriptEngineImpl.eval(GroovyScriptEngineImpl.java:317)&quot;,\r\n  &quot;  ... 155 more&quot;```\r\n\r\nTomcat version: 9.0.71","title":"Java8 ServiceLoader : Unable to load","body":"<p>In my Java8 Spring boot application that has a dependency on <code>groovy-json</code> library version 3.0.19 to execute groovy scripts, it fails with below exception when my application war file is deployed in Tomcat, but not in Docker or local development setup. On execution of script like <code>new groovy.json.JsonSlurper().parseText('{}')</code> I see below exception:</p>\n<p>'javax.script.ScriptException: java.lang.RuntimeException: Unable to load FastStringService'</p>\n<p>Above runtime exception is from this portion of code in groovy-json package: <a href=\"https://github.com/apache/groovy/blob/GROOVY_3_0_19/subprojects/groovy-json/src/main/java/org/apache/groovy/json/internal/FastStringUtils.java#L35-L59\" rel=\"nofollow noreferrer\">https://github.com/apache/groovy/blob/GROOVY_3_0_19/subprojects/groovy-json/src/main/java/org/apache/groovy/json/internal/FastStringUtils.java#L35-L59</a></p>\n<p>I've looked for conflicting dependencies, there is only this version of groovy-json library in my app. The particular class in question does actually exist in my artifact. Any ideas on this error?</p>\n<p><strong>Updates:</strong></p>\n<p>Stacktrace:</p>\n<pre><code>&quot;org.flowable.common.engine.impl.scripting.FlowableScriptEvaluationException: groovy script evaluation failed: 'javax.script.ScriptException: org.flowable.common.engine.impl.scripting.FlowableScriptEvaluationException: groovy script evaluation failed: 'javax.script.ScriptException: java.lang.RuntimeException: Unable to load FastStringService''&quot;,\n  &quot;  at org.flowable.common.engine.impl.scripting.ScriptingEngines.evaluate(ScriptingEngines.java:132)&quot;,\n\n  &quot;Caused by: javax.script.ScriptException: javax.script.ScriptException: java.lang.RuntimeException: Unable to load FastStringService&quot;,\n  &quot;  at org.codehaus.groovy.jsr223.GroovyScriptEngineImpl.eval(GroovyScriptEngineImpl.java:158)&quot;,\n  &quot;  at javax.script.AbstractScriptEngine.eval(AbstractScriptEngine.java:233)&quot;,\n  &quot;  at org.flowable.common.engine.impl.scripting.ScriptingEngines.evaluate(ScriptingEngines.java:111)&quot;,\n  &quot;  ... 152 more&quot;,\n  &quot;Caused by: javax.script.ScriptException: java.lang.RuntimeException: Unable to load FastStringService&quot;,\n  &quot;  at org.codehaus.groovy.jsr223.GroovyScriptEngineImpl.eval(GroovyScriptEngineImpl.java:320)&quot;,\n  &quot;  at org.codehaus.groovy.jsr223.GroovyScriptEngineImpl.eval(GroovyScriptEngineImpl.java:155)&quot;,\n  &quot;  ... 154 more&quot;,\n  &quot;Caused by: java.lang.RuntimeException: Unable to load FastStringService&quot;,\n  &quot;  at org.apache.groovy.json.internal.FastStringUtils.getService(FastStringUtils.java:56)&quot;,\n  &quot;  at org.apache.groovy.json.internal.FastStringUtils.toCharArray(FastStringUtils.java:66)&quot;,\n  &quot;  at org.apache.groovy.json.internal.BaseJsonParser.parse(BaseJsonParser.java:113)&quot;,\n  &quot;  at groovy.json.JsonSlurper.parseText(JsonSlurper.java:204)&quot;,\n  &quot;  at groovy.json.JsonSlurper$parseText.call(Unknown Source)&quot;,\n  &quot;  at org.codehaus.groovy.runtime.callsite.CallSiteArray.defaultCall(CallSiteArray.java:47)&quot;,\n  &quot;  at org.codehaus.groovy.runtime.callsite.AbstractCallSite.call(AbstractCallSite.java:125)&quot;,\n  &quot;  at org.codehaus.groovy.runtime.callsite.AbstractCallSite.call(AbstractCallSite.java:139)&quot;,\n  &quot;  at Script449.run(Script449.groovy:2)&quot;,\n  &quot;  at org.codehaus.groovy.jsr223.GroovyScriptEngineImpl.eval(GroovyScriptEngineImpl.java:317)&quot;,\n  &quot;  ... 155 more&quot;```\n\nTomcat version: 9.0.71\n</code></pre>\n"},{"tags":["java","arrays"],"answers":[{"comments":[{"owner":{"account_id":20103818,"reputation":4985,"user_id":14747039,"display_name":"Aalexander"},"score":0,"creation_date":1610272165,"post_id":65651882,"comment_id":116075059,"body_markdown":"Ty for the advice, there is a need for a case when a[i] is not greater then the highest but a[i] is greater then the second highest. I uptated it","body":"Ty for the advice, there is a need for a case when a[i] is not greater then the highest but a[i] is greater then the second highest. I uptated it"},{"owner":{"account_id":4714018,"reputation":35,"user_id":3813730,"display_name":"Harsha A"},"score":0,"creation_date":1610272760,"post_id":65651882,"comment_id":116075168,"body_markdown":"But i need 7, as second highest is 7","body":"But i need 7, as second highest is 7"},{"owner":{"account_id":20103818,"reputation":4985,"user_id":14747039,"display_name":"Aalexander"},"score":0,"creation_date":1610272808,"post_id":65651882,"comment_id":116075178,"body_markdown":"then get rid of &lt;= and do &lt;. In the second if do only the assignment when a[i] != max","body":"then get rid of &lt;= and do &lt;. In the second if do only the assignment when a[i] != max"},{"owner":{"account_id":20103818,"reputation":4985,"user_id":14747039,"display_name":"Aalexander"},"score":0,"creation_date":1610273031,"post_id":65651882,"comment_id":116075232,"body_markdown":"@HarshaA I have updated my example try it out","body":"@HarshaA I have updated my example try it out"},{"owner":{"account_id":20103818,"reputation":4985,"user_id":14747039,"display_name":"Aalexander"},"score":0,"creation_date":1610273400,"post_id":65651882,"comment_id":116075327,"body_markdown":"You&#39;re welcome, but consider for arrays of length 1 it will not work because they have no second highest. you should catch this","body":"You&#39;re welcome, but consider for arrays of length 1 it will not work because they have no second highest. you should catch this"},{"owner":{"account_id":20103818,"reputation":4985,"user_id":14747039,"display_name":"Aalexander"},"score":0,"creation_date":1610275183,"post_id":65651882,"comment_id":116075743,"body_markdown":"I added that every every array below the length of 2 will not considered","body":"I added that every every array below the length of 2 will not considered"},{"owner":{"account_id":2006972,"reputation":43182,"user_id":1796579,"display_name":"Henry"},"score":0,"creation_date":1610276106,"post_id":65651882,"comment_id":116075958,"body_markdown":"There are also arrays longer than 2 that don&#39;t have a second largest element: e.g. `{5,5,5}`.","body":"There are also arrays longer than 2 that don&#39;t have a second largest element: e.g. <code>{5,5,5}</code>."},{"owner":{"account_id":20103818,"reputation":4985,"user_id":14747039,"display_name":"Aalexander"},"score":0,"creation_date":1610276291,"post_id":65651882,"comment_id":116076014,"body_markdown":"@Henry True didn&#39;t considered, to solve this you can do a check before printing if second_max == Integer_MIN_VALUE, if yes this means the value was not set","body":"@Henry True didn&#39;t considered, to solve this you can do a check before printing if second_max == Integer_MIN_VALUE, if yes this means the value was not set"}],"tags":[],"owner":{"account_id":20103818,"reputation":4985,"user_id":14747039,"display_name":"Aalexander"},"comment_count":8,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1610281826,"creation_date":1610271711,"answer_id":65651882,"question_id":65651835,"body_markdown":"## Solution\r\n\r\n\r\n-  Initialize max and second_max with the lowest possible value `Integer.MIN_Value`\r\n- Then go through your array and check for each element if it is greater then the `max_value` -&gt; When yes reassign your max_value with a[i] and reassign your second_max_value with max_malue\r\n \r\n----\r\n\r\n     if (a[i] &gt; max) {\r\n                    temp = max;\r\n                    max = a[i];\r\n                    second_max = temp;\r\n\r\n- Then check if your a[i] is greater then your second_max_value and not equal to your max_value . If yes reassign your second_max_value with a[i]\r\n&lt;br&gt;`a[i] &gt; second_max &amp;&amp; a[i] != max`\r\n\r\n- Last but not least check if second_max is equal to the initial value\r\n&lt;br&gt;If yes then there is no second highest Value in your Array. Example Arrays for this case\r\n{5, 5, 5}, {1}\r\n@Thanks to Henry\r\n\r\nHere the Code\r\n\r\n   \r\n    \tpublic static void main(String[] args) {\r\n    \r\n    \t\tint[] a = { 6, 8, 2, 4, 3, 1, 5, 7 };\r\n    \t\tint max = Integer.MIN_VALUE;\r\n    \t\tint second_max = Integer.MIN_VALUE;\r\n    \t\tint temp;\r\n    \r\n    \t\tfor (int i = 0; i &lt; a.length; i++) {\r\n    \t\t\tif (a[i] &gt; max) {\r\n    \t\t\t\ttemp = max;\r\n    \t\t\t\tmax = a[i];\r\n    \t\t\t\tsecond_max = temp;\r\n    \t\t\t} else if (a[i] &gt; second_max &amp;&amp; a[i] != max) {\r\n    \t\t\t\tsecond_max = a[i];\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\tif (second_max == Integer.MIN_VALUE) {\r\n    \t\t\tSystem.out.println(&quot;No Second Highest value&quot;);\r\n    \t\t} else {\r\n    \t\t\tSystem.out.println(second_max);\r\n    \t\t}\r\n    }\r\n\r\n\t\r\n\r\n### Output \r\n\r\n7","title":"Find the 2nd highest no from array, where array contains duplicate values","body":"<h2>Solution</h2>\n<ul>\n<li>Initialize max and second_max with the lowest possible value <code>Integer.MIN_Value</code></li>\n<li>Then go through your array and check for each element if it is greater then the <code>max_value</code> -&gt; When yes reassign your max_value with a[i] and reassign your second_max_value with max_malue</li>\n</ul>\n<hr />\n<pre><code> if (a[i] &gt; max) {\n                temp = max;\n                max = a[i];\n                second_max = temp;\n</code></pre>\n<ul>\n<li><p>Then check if your a[i] is greater then your second_max_value and not equal to your max_value . If yes reassign your second_max_value with a[i]\n<br><code>a[i] &gt; second_max &amp;&amp; a[i] != max</code></p>\n</li>\n<li><p>Last but not least check if second_max is equal to the initial value\n<br>If yes then there is no second highest Value in your Array. Example Arrays for this case\n{5, 5, 5}, {1}\n@Thanks to Henry</p>\n</li>\n</ul>\n<p>Here the Code</p>\n<pre><code>    public static void main(String[] args) {\n\n        int[] a = { 6, 8, 2, 4, 3, 1, 5, 7 };\n        int max = Integer.MIN_VALUE;\n        int second_max = Integer.MIN_VALUE;\n        int temp;\n\n        for (int i = 0; i &lt; a.length; i++) {\n            if (a[i] &gt; max) {\n                temp = max;\n                max = a[i];\n                second_max = temp;\n            } else if (a[i] &gt; second_max &amp;&amp; a[i] != max) {\n                second_max = a[i];\n            }\n        }\n        if (second_max == Integer.MIN_VALUE) {\n            System.out.println(&quot;No Second Highest value&quot;);\n        } else {\n            System.out.println(second_max);\n        }\n}\n</code></pre>\n<h3>Output</h3>\n<p>7</p>\n"},{"tags":[],"owner":{"account_id":15159660,"reputation":1770,"user_id":10939204,"display_name":"Traian GEICU"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1610273865,"creation_date":1610273865,"answer_id":65652150,"question_id":65651835,"body_markdown":"You could take advantage of java inbuild collection.&lt;br&gt;\r\nFor that you need a structure that retain values with no duplicates and also store values in order &lt;br&gt;\r\n(eg: natural-order, ascending this case).\r\n\r\n    import java.util.SortedSet;\r\n    import java.util.TreeSet;\r\n    \r\n    public class MinArr {\r\n    \tpublic static void main(String[] args) {\r\n    \t\tint[] a = { 6, 8, 2, 4, 3, 1, 5, 7, 7, 8, 8 };\r\n    \t\tSortedSet&lt;Integer&gt; set = new TreeSet&lt;Integer&gt;();\r\n    \t\tfor (int i = 0; i &lt; a.length; i++) {\r\n    \t\t\tset.add(a[i]);\r\n    \t\t}\r\n    \t\tset.forEach(System.out::println);\r\n    \t\tif (set.size() &gt;= 2) {\r\n    \t\t\tset.remove(set.last());\r\n    \t\t\tSystem.out.println(&quot;second max is =&quot; + set.last());\r\n    \t\t} else {\r\n    \t\t\tSystem.out.println(&quot;there is no second max&quot;);\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\nOutput:\r\n\r\n    //list values\r\n    1\r\n    2\r\n    3\r\n    4\r\n    5\r\n    6\r\n    7\r\n    8\r\n    second max is =7\r\n\r\n","title":"Find the 2nd highest no from array, where array contains duplicate values","body":"<p>You could take advantage of java inbuild collection.<br>\nFor that you need a structure that retain values with no duplicates and also store values in order <br>\n(eg: natural-order, ascending this case).</p>\n<pre><code>import java.util.SortedSet;\nimport java.util.TreeSet;\n\npublic class MinArr {\n    public static void main(String[] args) {\n        int[] a = { 6, 8, 2, 4, 3, 1, 5, 7, 7, 8, 8 };\n        SortedSet&lt;Integer&gt; set = new TreeSet&lt;Integer&gt;();\n        for (int i = 0; i &lt; a.length; i++) {\n            set.add(a[i]);\n        }\n        set.forEach(System.out::println);\n        if (set.size() &gt;= 2) {\n            set.remove(set.last());\n            System.out.println(&quot;second max is =&quot; + set.last());\n        } else {\n            System.out.println(&quot;there is no second max&quot;);\n        }\n    }\n}\n</code></pre>\n<p>Output:</p>\n<pre><code>//list values\n1\n2\n3\n4\n5\n6\n7\n8\nsecond max is =7\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1449510,"reputation":48182,"user_id":1366871,"accept_rate":100,"display_name":"dreamcrash"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1610277782,"creation_date":1610274014,"answer_id":65652172,"question_id":65651835,"body_markdown":"Alternatively to the correct answer, one can also use the following algorithm:\r\n\r\n    public static void main(String[] args) {\r\n        int [] a= {6,8,2,4,3,1,5,7,8} ;\r\n        SortedSet&lt;Integer&gt; sortedSet = new TreeSet&lt;Integer&gt;();\r\n        Arrays.stream(a).forEach(sortedSet::add);\r\n        sortedSet.remove(sortedSet.last());\r\n        System.out.println(sortedSet.last());\r\n    }\r\n\r\nAdd to a sorted set, so that the highest values will be at the end of that set. Moreover, by using a set we are removing any duplicated values. To get the highest element one would do `sorted_set.last()`, for the second highest one has to first remove the last element.\r\n\r\nOne can generalize the function to any `nth` max element, like so:\r\n\r\n    public static int getNthMaxElement(int [] array, int nth){\r\n        SortedSet&lt;Integer&gt; sortedSet = new TreeSet&lt;Integer&gt;();\r\n        Arrays.stream(array).forEach(sortedSet::add);\r\n        if(array.length &lt; nth) return Integer.MIN_VALUE;\r\n        for(int i = 1; i &lt; nth; i++)\r\n            sortedSet.remove(sortedSet.last());\r\n        return sortedSet.last();\r\n    }\r\n\r\nTest:\r\n\r\n    public static void main(String[] args) {\r\n        int [] a= {6,8,2,4,3,1,5,7,8} ;\r\n        for(int i = 1; i &lt; a.length; i++)\r\n            System.out.println(i+&quot;th max : &quot;+getNthMaxElement(a, i));\r\n    }\r\n\r\n**output:**\r\n\r\n    1th max : 8\r\n    2th max : 7\r\n    3th max : 6\r\n    4th max : 5\r\n    5th max : 4\r\n    6th max : 3\r\n    7th max : 2\r\n    8th max : 1","title":"Find the 2nd highest no from array, where array contains duplicate values","body":"<p>Alternatively to the correct answer, one can also use the following algorithm:</p>\n<pre><code>public static void main(String[] args) {\n    int [] a= {6,8,2,4,3,1,5,7,8} ;\n    SortedSet&lt;Integer&gt; sortedSet = new TreeSet&lt;Integer&gt;();\n    Arrays.stream(a).forEach(sortedSet::add);\n    sortedSet.remove(sortedSet.last());\n    System.out.println(sortedSet.last());\n}\n</code></pre>\n<p>Add to a sorted set, so that the highest values will be at the end of that set. Moreover, by using a set we are removing any duplicated values. To get the highest element one would do <code>sorted_set.last()</code>, for the second highest one has to first remove the last element.</p>\n<p>One can generalize the function to any <code>nth</code> max element, like so:</p>\n<pre><code>public static int getNthMaxElement(int [] array, int nth){\n    SortedSet&lt;Integer&gt; sortedSet = new TreeSet&lt;Integer&gt;();\n    Arrays.stream(array).forEach(sortedSet::add);\n    if(array.length &lt; nth) return Integer.MIN_VALUE;\n    for(int i = 1; i &lt; nth; i++)\n        sortedSet.remove(sortedSet.last());\n    return sortedSet.last();\n}\n</code></pre>\n<p>Test:</p>\n<pre><code>public static void main(String[] args) {\n    int [] a= {6,8,2,4,3,1,5,7,8} ;\n    for(int i = 1; i &lt; a.length; i++)\n        System.out.println(i+&quot;th max : &quot;+getNthMaxElement(a, i));\n}\n</code></pre>\n<p><strong>output:</strong></p>\n<pre><code>1th max : 8\n2th max : 7\n3th max : 6\n4th max : 5\n5th max : 4\n6th max : 3\n7th max : 2\n8th max : 1\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18968948,"reputation":157,"user_id":13842872,"display_name":"murari99732"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1610291073,"creation_date":1610291073,"answer_id":65654691,"question_id":65651835,"body_markdown":" The best way to get k highest number in the array if space is not a constraint then we can use priority queue.\r\n\r\n     int[] a = {6,8,2,4,3,1,5,7}; \r\n            \r\n            PriorityQueue&lt;Integer&gt; pr = new PriorityQueue&lt;Integer&gt;(Collections.reverseOrder());\r\n    \t\tfor (int i = 0; i &lt; a.length; i++) {\r\n    \t\t\tpr.add(a[i]);\r\n    \t\t}\r\n    \t\tpr.poll();\r\n    \t\tSystem.out.println(pr.poll());``","title":"Find the 2nd highest no from array, where array contains duplicate values","body":"<p>The best way to get k highest number in the array if space is not a constraint then we can use priority queue.</p>\n<pre><code> int[] a = {6,8,2,4,3,1,5,7}; \n        \n        PriorityQueue&lt;Integer&gt; pr = new PriorityQueue&lt;Integer&gt;(Collections.reverseOrder());\n        for (int i = 0; i &lt; a.length; i++) {\n            pr.add(a[i]);\n        }\n        pr.poll();\n        System.out.println(pr.poll());``\n</code></pre>\n"},{"comments":[{"owner":{"account_id":460548,"reputation":106041,"user_id":861716,"accept_rate":100,"display_name":"Gert Arnold"},"score":2,"creation_date":1673193887,"post_id":75049192,"comment_id":132438578,"body_markdown":"Please don&#39;t post code-only answers. The main audience, future readers, will be grateful to see explained *why* this answers the question instead of having to infer it from the code. Also, since this is an old, well answered question, please explain how it complements the other answers.","body":"Please don&#39;t post code-only answers. The main audience, future readers, will be grateful to see explained <i>why</i> this answers the question instead of having to infer it from the code. Also, since this is an old, well answered question, please explain how it complements the other answers."}],"tags":[],"owner":{"account_id":17000634,"reputation":421,"user_id":12298117,"display_name":"Roshan Wickramaarachchi"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673193219,"creation_date":1673193219,"answer_id":75049192,"question_id":65651835,"body_markdown":"\r\n    public static void main(String[] args) {\r\n        int[] a = {6, 8, 2, 4, 3, 1, 5, 7, 8};\r\n        TreeSet&lt;Integer&gt; sortedSet = new TreeSet&lt;&gt;();\r\n        stream(a).forEach(sortedSet::add);\r\n        sortedSet.remove(sortedSet.last());\r\n        System.out.println(sortedSet.last());\r\n    }\r\n\r\n","title":"Find the 2nd highest no from array, where array contains duplicate values","body":"<pre><code>public static void main(String[] args) {\n    int[] a = {6, 8, 2, 4, 3, 1, 5, 7, 8};\n    TreeSet&lt;Integer&gt; sortedSet = new TreeSet&lt;&gt;();\n    stream(a).forEach(sortedSet::add);\n    sortedSet.remove(sortedSet.last());\n    System.out.println(sortedSet.last());\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":4083966,"reputation":1293,"user_id":3353717,"display_name":"roj"},"score":0,"creation_date":1693371750,"post_id":76994759,"comment_id":135750153,"body_markdown":"Try adding comments to your code to explain what it&#39;s trying to do at each step. This will help others to understand what you intended and then help you.","body":"Try adding comments to your code to explain what it&#39;s trying to do at each step. This will help others to understand what you intended and then help you."}],"tags":[],"owner":{"account_id":11959453,"reputation":35,"user_id":8750863,"display_name":"mutabazigakuba"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693261567,"creation_date":1693242474,"answer_id":76994759,"question_id":65651835,"body_markdown":"***Here is what i came up with, different from the ones above***\r\n\r\n    public class SecondLargestNumber {\r\n    \r\n        public static void main(String[] args) {\r\n            \r\n            int[] nums = {1,8,8,5,7,9,9,-1,-5,1,7};\r\n            \r\n            int arrsize = nums.length;\r\n            \r\n            Arrays.sort(nums);\r\n            \r\n            int[] sortedarry = new int[arrsize];\r\n            \r\n            for(int i=0; i&lt;arrsize; i++){\r\n                sortedarry[i] = nums[arrsize - i -1];\r\n            }\r\n            \r\n            for(int i=0; i &lt;arrsize; i++){\r\n                if(sortedarry[i] != sortedarry[i+1]){\r\n                    System.out.println(&quot;Second largest number is: &quot;+sortedarry[i+1]);\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n***COULD HELP ANYONE ELSE!! ***","title":"Find the 2nd highest no from array, where array contains duplicate values","body":"<p><em><strong>Here is what i came up with, different from the ones above</strong></em></p>\n<pre><code>public class SecondLargestNumber {\n\n    public static void main(String[] args) {\n        \n        int[] nums = {1,8,8,5,7,9,9,-1,-5,1,7};\n        \n        int arrsize = nums.length;\n        \n        Arrays.sort(nums);\n        \n        int[] sortedarry = new int[arrsize];\n        \n        for(int i=0; i&lt;arrsize; i++){\n            sortedarry[i] = nums[arrsize - i -1];\n        }\n        \n        for(int i=0; i &lt;arrsize; i++){\n            if(sortedarry[i] != sortedarry[i+1]){\n                System.out.println(&quot;Second largest number is: &quot;+sortedarry[i+1]);\n                break;\n            }\n        }\n    }\n}\n</code></pre>\n<p>***COULD HELP ANYONE ELSE!! ***</p>\n"},{"comments":[{"owner":{"account_id":31180,"reputation":29173,"user_id":85421,"display_name":"user85421"},"score":0,"creation_date":1699278534,"post_id":77430677,"comment_id":136507665,"body_markdown":"how is this solution different from the one posted in this [answer](https://stackoverflow.com/a/65651882/85421), more than two years ago? But for the same error as the posted one also had when posted - and corrected... and basically the same error as the question. Have you at least tested? It will return `8`, the first highest value, not the second.","body":"how is this solution different from the one posted in this <a href=\"https://stackoverflow.com/a/65651882/85421\">answer</a>, more than two years ago? But for the same error as the posted one also had when posted - and corrected... and basically the same error as the question. Have you at least tested? It will return <code>8</code>, the first highest value, not the second."}],"tags":[],"owner":{"account_id":19470178,"reputation":21,"user_id":14242702,"display_name":"Ashutosh Patel"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699366049,"creation_date":1699269466,"answer_id":77430677,"question_id":65651835,"body_markdown":"Instead of using unnecessary collection algorithms or data structures. This problem can be solved just by t**racking the largest and second largest element using two simple variables**, which significantly reduces time complexity compared to sorting or other methods.\r\nHere is the solution in JAVA\r\n\r\n    \r\npublic class Second_Largest_Number_In_Array_with_Dupes {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tint arr[] = { 6, 8, 2, 4, 3, 1, 5, 7, 8 };\r\n\r\n\t\tint largest = Integer.MIN_VALUE;\r\n\t\tint second_largest = Integer.MIN_VALUE;\r\n\r\n\t\tfor (int i = 0; i &lt; arr.length; i++) {\r\n\t\t\tif (arr[i] &gt; largest) {\r\n\t\t\t\tsecond_largest = largest;\r\n\t\t\t\tlargest = arr[i];\r\n\t\t\t}\r\n\t\t\tif (arr[i] &gt;= second_largest &amp;&amp; arr[i] &lt; largest) {\r\n\t\t\t\tsecond_largest = arr[i];\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tSystem.out.println(&quot;Second Largest element is &quot; + second_largest);\r\n\t}\r\n\r\n}","title":"Find the 2nd highest no from array, where array contains duplicate values","body":"<p>Instead of using unnecessary collection algorithms or data structures. This problem can be solved just by t<strong>racking the largest and second largest element using two simple variables</strong>, which significantly reduces time complexity compared to sorting or other methods.\nHere is the solution in JAVA</p>\n<p>public class Second_Largest_Number_In_Array_with_Dupes {</p>\n<pre><code>public static void main(String[] args) {\n    int arr[] = { 6, 8, 2, 4, 3, 1, 5, 7, 8 };\n\n    int largest = Integer.MIN_VALUE;\n    int second_largest = Integer.MIN_VALUE;\n\n    for (int i = 0; i &lt; arr.length; i++) {\n        if (arr[i] &gt; largest) {\n            second_largest = largest;\n            largest = arr[i];\n        }\n        if (arr[i] &gt;= second_largest &amp;&amp; arr[i] &lt; largest) {\n            second_largest = arr[i];\n        }\n    }\n\n    System.out.println(&quot;Second Largest element is &quot; + second_largest);\n}\n</code></pre>\n<p>}</p>\n"}],"owner":{"account_id":4714018,"reputation":35,"user_id":3813730,"display_name":"Harsha A"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3306,"favorite_count":0,"down_vote_count":2,"up_vote_count":3,"accepted_answer_id":65652172,"answer_count":7,"score":1,"last_activity_date":1699366049,"creation_date":1610271374,"question_id":65651835,"body_markdown":"``` lang-java\r\npublic class Second_Largest_Number_In_Array_with_Dupes {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tint[] a = {6,8,2,4,3,1,5,7}; \r\n\t\t\r\n\t\tint temp ;\t\r\n\t\tfor (int i = 0; i &lt; a.length; i++){\r\n\t\t\tfor (int j = i + 1; j &lt; a.length; j++){\r\n\t\t\t\tif (a[i] &lt; a[j]){\r\n\t\t\t\t\ttemp = a[i];\r\n\t\t\t\t\ta[i] = a[j];\r\n\t\t\t\t\ta[j] = temp;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\tSystem.out.println(&quot;Second Largest element is &quot; + a[1]);\r\n\t}\r\n}\r\n```\r\n\r\nThis only works for array with no duplicate values. \r\n\r\nFor example it does not work for this array: `int[] a = {6,8,2,4,3,1,5,7,8};`","title":"Find the 2nd highest no from array, where array contains duplicate values","body":"<pre class=\"lang-java prettyprint-override\"><code>public class Second_Largest_Number_In_Array_with_Dupes {\n\n    public static void main(String[] args) {\n        int[] a = {6,8,2,4,3,1,5,7}; \n        \n        int temp ;  \n        for (int i = 0; i &lt; a.length; i++){\n            for (int j = i + 1; j &lt; a.length; j++){\n                if (a[i] &lt; a[j]){\n                    temp = a[i];\n                    a[i] = a[j];\n                    a[j] = temp;\n                }\n            }\n        }\n        \n        System.out.println(&quot;Second Largest element is &quot; + a[1]);\n    }\n}\n</code></pre>\n<p>This only works for array with no duplicate values.</p>\n<p>For example it does not work for this array: <code>int[] a = {6,8,2,4,3,1,5,7,8};</code></p>\n"},{"tags":["java","arraylist","java.util.scanner"],"comments":[{"owner":{"account_id":2667845,"reputation":10491,"user_id":2305826,"accept_rate":89,"display_name":"MarsAtomic"},"score":0,"creation_date":1592322236,"post_id":62411586,"comment_id":110381315,"body_markdown":"Does this answer your question? [Scanner is skipping nextLine() after using next() or nextFoo()?](https://stackoverflow.com/questions/13102045/scanner-is-skipping-nextline-after-using-next-or-nextfoo)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/13102045/scanner-is-skipping-nextline-after-using-next-or-nextfoo\">Scanner is skipping nextLine() after using next() or nextFoo()?</a>"},{"owner":{"account_id":2667845,"reputation":10491,"user_id":2305826,"accept_rate":89,"display_name":"MarsAtomic"},"score":1,"creation_date":1592322392,"post_id":62411586,"comment_id":110381409,"body_markdown":"When posting a question, make sure you methodically list each step required to reproduce your problem, include the exact text of your error message and indicate which line of code the error message complains about. You can&#39;t assume people are going to run your code to see what the problem is -- in fact, most people who provide answers read the code without running it.","body":"When posting a question, make sure you methodically list each step required to reproduce your problem, include the exact text of your error message and indicate which line of code the error message complains about. You can&#39;t assume people are going to run your code to see what the problem is -- in fact, most people who provide answers read the code without running it."},{"owner":{"account_id":1692258,"reputation":26916,"user_id":1554386,"accept_rate":71,"display_name":"Alastair McCormack"},"score":0,"creation_date":1699366091,"post_id":62411586,"comment_id":136520593,"body_markdown":"What&#39;s your actual problem?","body":"What&#39;s your actual problem?"}],"answers":[{"tags":[],"owner":{"account_id":15974771,"reputation":1023,"user_id":11527968,"display_name":"Jimmy"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1592333550,"creation_date":1592333550,"answer_id":62415611,"question_id":62411586,"body_markdown":"You are missing the actual operation of adding removing from the list. @DrMe go through these program you can find where you&#39;r doing wrong. I hope this can help you\r\n\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    import java.util.Scanner;\r\n    \r\n    public class TestToDoList {\r\n    \r\n    \tprivate static List&lt;String&gt; currentList = new ArrayList&lt;String&gt;();\r\n    \t\r\n    \tpublic static void main(String[] args) {\r\n    \r\n    \t\tint menuItem = -1;\r\n    \t\twhile (menuItem != 0) {\r\n    \t\t\tmenuItem = menu();\r\n    \t\t\tswitch (menuItem) {\r\n    \t\t\tcase 1:\r\n    \t\t\t\tshowList();\r\n    \t\t\t\tbreak;\r\n    \t\t\tcase 2:\r\n    \t\t\t\taddItem();\r\n    \t\t\t\tbreak;\r\n    \t\t\tcase 3:\r\n    \t\t\t\tremoveItem();\r\n    \t\t\t\tbreak;\r\n    \t\t\tcase 0:\r\n    \t\t\t\tbreak;\r\n    \t\t\tdefault:\r\n    \t\t\t\tSystem.out.println(&quot;Enter a valid option&quot;);\r\n    \t\t\t}\r\n    \t\t}\r\n    \t}\r\n    \r\n    \tpublic static int menu() {\r\n    \t\tSystem.out.println();\r\n    \t\tSystem.out.println(&quot;----------------------&quot;);\r\n    \t\tSystem.out.println(&quot;Main Menu&quot;);\r\n    \t\tSystem.out.println(&quot;----------------------&quot;);\r\n    \t\tSystem.out.println(&quot;0. Exit the program&quot;);\r\n    \t\tSystem.out.println(&quot;1. Display to-do list&quot;);\r\n    \t\tSystem.out.println(&quot;2. Add item to list&quot;);\r\n    \t\tSystem.out.println(&quot;3. Remove item from list&quot;);\r\n    \t\tSystem.out.println();\r\n    \t\tSystem.out.print(&quot;Enter choice: &quot;);\r\n    \t\tint choice = scanner.nextInt();\r\n    \t\treturn choice;\r\n    \t}\r\n    \r\n    \tpublic static void showList() {\r\n    \t\tSystem.out.println();\r\n    \t\tSystem.out.println(&quot;----------------------&quot;);\t\t\r\n    \t\tSystem.out.println(&quot;To-Do List&quot;);\r\n    \t\tSystem.out.println(&quot;----------------------&quot;);\r\n    \t\tint number = 0;\r\n    \t\tfor (String item : currentList) {\r\n    \t\t\tSystem.out.println(++number + &quot; &quot; + item);\r\n    \t\t}\r\n    \t\tSystem.out.println(&quot;----------------------&quot;);\r\n    \t\t\r\n    \r\n    \t}\r\n    \r\n    \tpublic static void addItem() {\r\n    \t\tSystem.out.println(&quot;Add Item&quot;);\r\n    \t\tSystem.out.println(&quot;----------------------&quot;);\r\n    \t\tSystem.out.print(&quot;Enter an item: &quot;);\r\n    \t\tScanner scanner = new Scanner(System.in);\r\n    \t\tString item = scanner.nextLine();\r\n    \t\tcurrentList.add(item);\r\n    \t\tshowList();\r\n    \t}\r\n    \r\n    \tpublic static void removeItem() {\r\n    \t\tSystem.out.println(&quot;Remove Item&quot;);\r\n    \t\tSystem.out.println(&quot;----------------------&quot;);\r\n    \t\tScanner scanner = new Scanner(System.in);\r\n    \t\tSystem.out.print(&quot;What do you want to remove?&quot;);\r\n    \t\tint index = scanner.nextInt();\r\n    \t\tif((index-1)&lt;0 || index&gt;currentList.size()) {\r\n    \t\t\tSystem.out.println(&quot;Wrong index number! Please enter in range of 1 to &quot;+currentList.size());\t\t\t\r\n    \t\t}else {\r\n    \t\t\tcurrentList.remove(index-1);\r\n    \t\t}\r\n    \t\tSystem.out.println(&quot;----------------------&quot;);\r\n    \t\tshowList();\r\n    \t\t\r\n    \r\n    \t}\r\n    }\r\n\r\nFurther improve using generic and utils methods.\r\n","title":"How to make a To-Do List in java?","body":"<p>You are missing the actual operation of adding removing from the list. @DrMe go through these program you can find where you'r doing wrong. I hope this can help you</p>\n\n<pre><code>import java.util.ArrayList;\nimport java.util.List;\nimport java.util.Scanner;\n\npublic class TestToDoList {\n\n    private static List&lt;String&gt; currentList = new ArrayList&lt;String&gt;();\n\n    public static void main(String[] args) {\n\n        int menuItem = -1;\n        while (menuItem != 0) {\n            menuItem = menu();\n            switch (menuItem) {\n            case 1:\n                showList();\n                break;\n            case 2:\n                addItem();\n                break;\n            case 3:\n                removeItem();\n                break;\n            case 0:\n                break;\n            default:\n                System.out.println(\"Enter a valid option\");\n            }\n        }\n    }\n\n    public static int menu() {\n        System.out.println();\n        System.out.println(\"----------------------\");\n        System.out.println(\"Main Menu\");\n        System.out.println(\"----------------------\");\n        System.out.println(\"0. Exit the program\");\n        System.out.println(\"1. Display to-do list\");\n        System.out.println(\"2. Add item to list\");\n        System.out.println(\"3. Remove item from list\");\n        System.out.println();\n        System.out.print(\"Enter choice: \");\n        int choice = scanner.nextInt();\n        return choice;\n    }\n\n    public static void showList() {\n        System.out.println();\n        System.out.println(\"----------------------\");       \n        System.out.println(\"To-Do List\");\n        System.out.println(\"----------------------\");\n        int number = 0;\n        for (String item : currentList) {\n            System.out.println(++number + \" \" + item);\n        }\n        System.out.println(\"----------------------\");\n\n\n    }\n\n    public static void addItem() {\n        System.out.println(\"Add Item\");\n        System.out.println(\"----------------------\");\n        System.out.print(\"Enter an item: \");\n        Scanner scanner = new Scanner(System.in);\n        String item = scanner.nextLine();\n        currentList.add(item);\n        showList();\n    }\n\n    public static void removeItem() {\n        System.out.println(\"Remove Item\");\n        System.out.println(\"----------------------\");\n        Scanner scanner = new Scanner(System.in);\n        System.out.print(\"What do you want to remove?\");\n        int index = scanner.nextInt();\n        if((index-1)&lt;0 || index&gt;currentList.size()) {\n            System.out.println(\"Wrong index number! Please enter in range of 1 to \"+currentList.size());            \n        }else {\n            currentList.remove(index-1);\n        }\n        System.out.println(\"----------------------\");\n        showList();\n\n\n    }\n}\n</code></pre>\n\n<p>Further improve using generic and utils methods.</p>\n"}],"owner":{"account_id":16690156,"reputation":329,"user_id":12062972,"display_name":"bean"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":12191,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1699365860,"creation_date":1592319738,"question_id":62411586,"body_markdown":"I need to create a functioning To-Do list in java that allows a user to: \r\n\r\n1. Add an item \r\n\r\n2. Delete an item \r\n\r\n3. Show the list \r\n\r\n4. Delete all tasks\r\n\r\n5. Exit the program\r\n\r\nI am currently having trouble adding an item to my list. Each time I enter an item to add this is the output I receive: \r\n\r\n    Exception in thread &quot;main&quot; java.util.InputMismatchException\r\n\tat java.base/java.util.Scanner.throwFor(Scanner.java:939)\r\n\tat java.base/java.util.Scanner.next(Scanner.java:1594)\r\n\tat java.base/java.util.Scanner.nextInt(Scanner.java:2258)\r\n\tat java.base/java.util.Scanner.nextInt(Scanner.java:2212)\r\n\tat Test.menu(Test.java:50)\r\n\tat Test.main(Test.java:11)\r\n\r\nHere is what I have tried so far, any help would be greatly appreciated: \r\n\r\n    import java.util.Scanner;\r\n    import java.util.ArrayList;\r\n\r\n    public class Test {\r\n\t\r\n\tpublic static void main(String[] args) {\r\n\t\t\r\n\t\tint menuItem = -1;\r\n\t\t\r\n\t\twhile(menuItem !=0) {\r\n\t\t\tmenuItem = menu();\r\n\r\n\t\t\tswitch(menuItem) {\r\n\t\t\t\r\n\t\t\tcase 1: \r\n\t\t\t\tshowList();\r\n\t\t\t\tbreak;\r\n\t\t\t\t\r\n\t\t\tcase 2: \r\n\t\t\t\taddItem();\r\n\t\t\t\tbreak;\r\n\t\t\t\t\r\n\t\t\tcase 3: \r\n\t\t\t\tremoveItem();\r\n\t\t\t\tbreak;\r\n\t\t\t\t\r\n\t\t\tcase 0: \r\n\t\t\t\tbreak;\r\n\t\t\t\t\r\n\t\t\tdefault: \r\n\t\t\t\tSystem.out.println(&quot;Enter a valid option&quot;);\r\n\t\t\t}\r\n\t\t\t\r\n\t\t}\r\n\t}\r\n\r\n    public static int menu() {\r\n\t\r\n\tint choice; \r\n\t\r\n\tScanner keyboard = new Scanner(System.in);\r\n\tSystem.out.println(&quot;Main Menu&quot;);\r\n\tSystem.out.println();\r\n\tSystem.out.println(&quot;0. Exit the program&quot;);\r\n\tSystem.out.println(&quot;1. Display to-do list&quot;);\r\n\tSystem.out.println(&quot;2. Add item to list&quot;);\r\n\tSystem.out.println(&quot;3. Remove item from list&quot;);\r\n\tSystem.out.println();\r\n\tSystem.out.print(&quot;Enter choice: &quot;);\r\n\tchoice = keyboard.nextInt();\r\n\t\r\n\treturn choice;\r\n    }\r\n\r\n    public static void showList() {\r\n\t\r\n\tSystem.out.println(&quot;To-Do List&quot;);\r\n\t\r\n\tScanner input = new Scanner(System.in);\r\n\tString line;\r\n\tint number = 1;\r\n\t\r\n\twhile (input.hasNextLine()){\r\n\t\tline = input.nextLine();\r\n\t\tSystem.out.println(number + &quot; &quot;);\r\n\t\tSystem.out.println(line);\r\n\t\t++number;\r\n\t}\r\n\t\r\n\tSystem.out.println();\r\n\t\r\n\r\n    }\r\n\r\n    public static void addItem() {\r\n\t\r\n\tSystem.out.println(&quot;Add Item&quot;);\r\n\t\r\n\tScanner input = new Scanner(System.in);\r\n\tSystem.out.println(&quot;Enter an item: &quot;);\r\n\tString item = input.nextLine();\r\n\tSystem.out.println(item);\r\n\t\r\n\t\r\n    }\r\n\r\n    public static void removeItem() {\r\n\t\r\n\tint choice;\r\n\tshowList();\r\n\t\r\n\tScanner input = new Scanner(System.in);\r\n\tSystem.out.println(&quot;What do you want to remove?&quot;);\r\n\tchoice = input.nextInt();\r\n\t\r\n\tArrayList&lt;String&gt; items = new ArrayList&lt;String&gt;();\r\n\tint number = 1;\r\n\t\r\n\tScanner input2 = new Scanner(System.in);\r\n\tString item; \r\n\t\r\n\twhile (input2.hasNextLine()) {\r\n\t\titem = input2.nextLine();\r\n\t\t\r\n\t\tif (number != choice) \r\n\t\t\titems.add(item);\r\n\t\t\r\n\t\t++number;\t\r\n\t}\r\n\t\r\n\tfor(int i = 0; i &lt; items.size(); i++)\r\n\t\tSystem.out.println(items.get(i));\r\n\t\r\n        }\r\n    }\r\n\r\n","title":"How to make a To-Do List in java?","body":"<p>I need to create a functioning To-Do list in java that allows a user to: </p>\n\n<ol>\n<li><p>Add an item </p></li>\n<li><p>Delete an item </p></li>\n<li><p>Show the list </p></li>\n<li><p>Delete all tasks</p></li>\n<li><p>Exit the program</p></li>\n</ol>\n\n<p>I am currently having trouble adding an item to my list. Each time I enter an item to add this is the output I receive: </p>\n\n<pre><code>Exception in thread \"main\" java.util.InputMismatchException\nat java.base/java.util.Scanner.throwFor(Scanner.java:939)\nat java.base/java.util.Scanner.next(Scanner.java:1594)\nat java.base/java.util.Scanner.nextInt(Scanner.java:2258)\nat java.base/java.util.Scanner.nextInt(Scanner.java:2212)\nat Test.menu(Test.java:50)\nat Test.main(Test.java:11)\n</code></pre>\n\n<p>Here is what I have tried so far, any help would be greatly appreciated: </p>\n\n<pre><code>import java.util.Scanner;\nimport java.util.ArrayList;\n\npublic class Test {\n\npublic static void main(String[] args) {\n\n    int menuItem = -1;\n\n    while(menuItem !=0) {\n        menuItem = menu();\n\n        switch(menuItem) {\n\n        case 1: \n            showList();\n            break;\n\n        case 2: \n            addItem();\n            break;\n\n        case 3: \n            removeItem();\n            break;\n\n        case 0: \n            break;\n\n        default: \n            System.out.println(\"Enter a valid option\");\n        }\n\n    }\n}\n\npublic static int menu() {\n\nint choice; \n\nScanner keyboard = new Scanner(System.in);\nSystem.out.println(\"Main Menu\");\nSystem.out.println();\nSystem.out.println(\"0. Exit the program\");\nSystem.out.println(\"1. Display to-do list\");\nSystem.out.println(\"2. Add item to list\");\nSystem.out.println(\"3. Remove item from list\");\nSystem.out.println();\nSystem.out.print(\"Enter choice: \");\nchoice = keyboard.nextInt();\n\nreturn choice;\n}\n\npublic static void showList() {\n\nSystem.out.println(\"To-Do List\");\n\nScanner input = new Scanner(System.in);\nString line;\nint number = 1;\n\nwhile (input.hasNextLine()){\n    line = input.nextLine();\n    System.out.println(number + \" \");\n    System.out.println(line);\n    ++number;\n}\n\nSystem.out.println();\n\n\n}\n\npublic static void addItem() {\n\nSystem.out.println(\"Add Item\");\n\nScanner input = new Scanner(System.in);\nSystem.out.println(\"Enter an item: \");\nString item = input.nextLine();\nSystem.out.println(item);\n\n\n}\n\npublic static void removeItem() {\n\nint choice;\nshowList();\n\nScanner input = new Scanner(System.in);\nSystem.out.println(\"What do you want to remove?\");\nchoice = input.nextInt();\n\nArrayList&lt;String&gt; items = new ArrayList&lt;String&gt;();\nint number = 1;\n\nScanner input2 = new Scanner(System.in);\nString item; \n\nwhile (input2.hasNextLine()) {\n    item = input2.nextLine();\n\n    if (number != choice) \n        items.add(item);\n\n    ++number;   \n}\n\nfor(int i = 0; i &lt; items.size(); i++)\n    System.out.println(items.get(i));\n\n    }\n}\n</code></pre>\n"},{"tags":["java","mysql","maven","jakarta-ee","openjpa"],"answers":[{"tags":[],"owner":{"account_id":1321780,"reputation":415,"user_id":1267456,"display_name":"skegg99"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1450027402,"creation_date":1450027402,"answer_id":34253985,"question_id":34220501,"body_markdown":"Have you configured build-time enhancement? OpenJPA needs to modify class files in order to use them, so you should allow it to do it at some point. This [doc page][1] gives a nice overview of how to do it. It can be done with maven, for example. Another approach is runtime enhancement. \r\n\r\n\r\n  [1]: http://openjpa.apache.org/entity-enhancement.html","title":"OpenJPA:This configuration disallows runtime optimization,but the listed types were not enhanced at build time or at class load time with a javaagent","body":"<p>Have you configured build-time enhancement? OpenJPA needs to modify class files in order to use them, so you should allow it to do it at some point. This <a href=\"http://openjpa.apache.org/entity-enhancement.html\" rel=\"nofollow\">doc page</a> gives a nice overview of how to do it. It can be done with maven, for example. Another approach is runtime enhancement. </p>\n"},{"tags":[],"owner":{"display_name":"user4947541"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1543418666,"creation_date":1543418666,"answer_id":53522814,"question_id":34220501,"body_markdown":"I do not have configured enhancement and in your and alike in my log I saw this &quot;Entities.User&quot;. What does it mean I said? Answer: e.g. DOUBLE CHECK you your code and me my code if exists some mistakes in it. In my case it were double @Id: at column ID and at username also! That&#39;s a magic.","title":"OpenJPA:This configuration disallows runtime optimization,but the listed types were not enhanced at build time or at class load time with a javaagent","body":"<p>I do not have configured enhancement and in your and alike in my log I saw this \"Entities.User\". What does it mean I said? Answer: e.g. DOUBLE CHECK you your code and me my code if exists some mistakes in it. In my case it were double @Id: at column ID and at username also! That's a magic.</p>\n"},{"tags":[],"owner":{"account_id":18198644,"reputation":1,"user_id":13243263,"display_name":"Afshin Parhizkari"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1614817117,"creation_date":1614817117,"answer_id":66466830,"question_id":34220501,"body_markdown":"Just add a Provider in your persistence.xml file, like:\r\n\r\n    &lt;persistence-unit name=&quot;persistenceUnit&quot;&gt;\r\n        **&lt;provider&gt;org.hibernate.jpa.HibernatePersistenceProvider&lt;/provider&gt;**\r\n        &lt;class&gt;Entities.User&lt;/class&gt;\r\n\r\n","title":"OpenJPA:This configuration disallows runtime optimization,but the listed types were not enhanced at build time or at class load time with a javaagent","body":"<p>Just add a Provider in your persistence.xml file, like:</p>\n<pre><code>&lt;persistence-unit name=&quot;persistenceUnit&quot;&gt;\n    **&lt;provider&gt;org.hibernate.jpa.HibernatePersistenceProvider&lt;/provider&gt;**\n    &lt;class&gt;Entities.User&lt;/class&gt;\n</code></pre>\n"}],"owner":{"account_id":3843253,"reputation":69,"user_id":3185672,"accept_rate":67,"display_name":"user3185672"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":8409,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":3,"score":4,"last_activity_date":1699365860,"creation_date":1449827387,"question_id":34220501,"body_markdown":"So, after a lot of searching (in vain) I&#39;ve decided to post this. So, I&#39;m developing this web application using Open JPA (2.2.0). Executing the application throws the following error:\r\n\r\nConsole printout :\r\n\r\n    &lt;openjpa-2.3.0-r422266:1540826 nonfatal user error&gt; org.apache.openjpa.persistence.ArgumentException: This configuration disallows runtime optimization, but the following listed types were not enhanced at build time or at class load time with a javaagent: &quot;\r\n    Entities.User&quot;.\r\n    \torg.apache.openjpa.enhance.ManagedClassSubclasser.prepareUnenhancedClasses(ManagedClassSubclasser.java:115)\r\n    \torg.apache.openjpa.kernel.AbstractBrokerFactory.loadPersistentTypes(AbstractBrokerFactory.java:312)\r\n    \torg.apache.openjpa.kernel.AbstractBrokerFactory.initializeBroker(AbstractBrokerFactory.java:236)\r\n    \torg.apache.openjpa.kernel.AbstractBrokerFactory.newBroker(AbstractBrokerFactory.java:212)\r\n    \torg.apache.openjpa.kernel.DelegatingBrokerFactory.newBroker(DelegatingBrokerFactory.java:155)\r\n    \torg.apache.openjpa.persistence.EntityManagerFactoryImpl.createEntityManager(EntityManagerFactoryImpl.java:226)\r\n    \torg.apache.openjpa.persistence.EntityManagerFactoryImpl.createEntityManager(EntityManagerFactoryImpl.java:153)\r\n    \torg.apache.openjpa.persistence.EntityManagerFactoryImpl.createEntityManager(EntityManagerFactoryImpl.java:59)\r\n    \tServlet.Registration.doPost(Registration.java:78)\r\n    \tjavax.servlet.http.HttpServlet.service(HttpServlet.java:650)\r\n    \tjavax.servlet.http.HttpServlet.service(HttpServlet.java:731)\r\n    \torg.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52)\r\n\r\nConfig :\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;persistence version=&quot;2.0&quot;\r\n      xmlns=&quot;http://java.sun.com/xml/ns/persistence&quot; \r\n      xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n      xsi:schemaLocation=&quot;http://java.sun.com/xml/ns/persistence \r\n    \t              http://java.sun.com/xml/ns/persistence/persistence_2_0.xsd&quot;&gt;\r\n      &lt;persistence-unit name=&quot;persistenceUnit&quot;&gt;\r\n        &lt;class&gt;Entities.User&lt;/class&gt;\r\n        &lt;properties&gt;\r\n          &lt;property name=&quot;javax.persistence.jdbc.url&quot; value=&quot;jdbc:mysql://localhost:3306/alda&quot; /&gt;\r\n          &lt;property name=&quot;javax.persistence.jdbc.driver&quot; value=&quot;com.mysql.jdbc.Driver&quot; /&gt;\r\n          &lt;property name=&quot;javax.persistence.jdbc.user&quot; value=&quot;root&quot; /&gt;\r\n          &lt;property name=&quot;javax.persistence.jdbc.password&quot; value=&quot;&quot; /&gt;\r\n          &lt;property name=&quot;openjpa.jdbc.DBDictionary&quot; value=&quot;mysql&quot; /&gt;\r\n          &lt;!-- Cette propri&#233;t&#233; active la log des requ&#234;tes SQL r&#233;alis&#233;es par OpenJPA --&gt;\r\n          &lt;property name=&quot;openjpa.Log&quot; value=&quot;SQL=Trace&quot; /&gt;\r\n          &lt;property name=&quot;openjpa.jdbc.SynchronizeMappings&quot; value=&quot;buildSchema(ForeignKeys=true)&quot;/&gt;\r\n        &lt;/properties&gt;\r\n      &lt;/persistence-unit&gt;\r\n    &lt;/persistence&gt;\r\n\r\nRegistration class :\r\n\r\n    public class Registration extends HttpServlet {\r\n    \t@Override\r\n    \tprotected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\r\n    \t\r\n    \t}\r\n    \r\n    \r\n    \t@Override\r\n    \tprotected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\r\n    \r\n    \t\tString name = request.getParameter(&quot;name&quot;);\r\n    \t\tString firstName = request.getParameter(&quot;firstName&quot;);\r\n    \t\tString email = request.getParameter(&quot;email&quot;);\r\n    \t\tString password = request.getParameter(&quot;password&quot;);\r\n    \t\tString confirmation = request.getParameter(&quot;confirmation&quot;);\r\n    \t\tString phone = request.getParameter(&quot;phone&quot;);\r\n    \t\tString address = request.getParameter(&quot;address&quot;);\r\n    \t\t\r\n    \t\tSystem.out.println(&quot;Ajout d&#39;un utilisateur:&quot;+name+&quot;,&quot;+firstName+&quot;,&quot;+email+&quot;,&quot;+password+&quot;,&quot;+confirmation);\r\n    \t\t\r\n    \t\t\r\n    \t\tEntityManagerFactory emf = Persistence.createEntityManagerFactory(&quot;persistenceUnit&quot;);\r\n    \t\tEntityManager em = emf.createEntityManager();\r\n    \t\tem.getTransaction().begin();\r\n    \t\t\r\n    \t\tUser u = new User();\r\n    \t\t\r\n    \t\tu.setName(name);\r\n    \t\tu.setFirstName(firstName);\r\n    \t\tu.setPassword(password);\r\n    \t\tu.setEmail(email);\r\n    \t\tu.setAddress(address);\r\n    \t\tu.setPhone(phone);\r\n    \t\tem.persist(u);\r\n    \t\tem.getTransaction().commit();\r\n    \r\n    \r\n    \t\t\r\n    \t\tthis.getServletContext().getRequestDispatcher(&quot;/Home.jsp&quot;).forward(request, response);\r\n    \t\t\r\n    \t}\r\n    }","title":"OpenJPA:This configuration disallows runtime optimization,but the listed types were not enhanced at build time or at class load time with a javaagent","body":"<p>So, after a lot of searching (in vain) I've decided to post this. So, I'm developing this web application using Open JPA (2.2.0). Executing the application throws the following error:</p>\n\n<p>Console printout :</p>\n\n<pre><code>&lt;openjpa-2.3.0-r422266:1540826 nonfatal user error&gt; org.apache.openjpa.persistence.ArgumentException: This configuration disallows runtime optimization, but the following listed types were not enhanced at build time or at class load time with a javaagent: \"\nEntities.User\".\n    org.apache.openjpa.enhance.ManagedClassSubclasser.prepareUnenhancedClasses(ManagedClassSubclasser.java:115)\n    org.apache.openjpa.kernel.AbstractBrokerFactory.loadPersistentTypes(AbstractBrokerFactory.java:312)\n    org.apache.openjpa.kernel.AbstractBrokerFactory.initializeBroker(AbstractBrokerFactory.java:236)\n    org.apache.openjpa.kernel.AbstractBrokerFactory.newBroker(AbstractBrokerFactory.java:212)\n    org.apache.openjpa.kernel.DelegatingBrokerFactory.newBroker(DelegatingBrokerFactory.java:155)\n    org.apache.openjpa.persistence.EntityManagerFactoryImpl.createEntityManager(EntityManagerFactoryImpl.java:226)\n    org.apache.openjpa.persistence.EntityManagerFactoryImpl.createEntityManager(EntityManagerFactoryImpl.java:153)\n    org.apache.openjpa.persistence.EntityManagerFactoryImpl.createEntityManager(EntityManagerFactoryImpl.java:59)\n    Servlet.Registration.doPost(Registration.java:78)\n    javax.servlet.http.HttpServlet.service(HttpServlet.java:650)\n    javax.servlet.http.HttpServlet.service(HttpServlet.java:731)\n    org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52)\n</code></pre>\n\n<p>Config :</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;persistence version=\"2.0\"\n  xmlns=\"http://java.sun.com/xml/ns/persistence\" \n  xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n  xsi:schemaLocation=\"http://java.sun.com/xml/ns/persistence \n                  http://java.sun.com/xml/ns/persistence/persistence_2_0.xsd\"&gt;\n  &lt;persistence-unit name=\"persistenceUnit\"&gt;\n    &lt;class&gt;Entities.User&lt;/class&gt;\n    &lt;properties&gt;\n      &lt;property name=\"javax.persistence.jdbc.url\" value=\"jdbc:mysql://localhost:3306/alda\" /&gt;\n      &lt;property name=\"javax.persistence.jdbc.driver\" value=\"com.mysql.jdbc.Driver\" /&gt;\n      &lt;property name=\"javax.persistence.jdbc.user\" value=\"root\" /&gt;\n      &lt;property name=\"javax.persistence.jdbc.password\" value=\"\" /&gt;\n      &lt;property name=\"openjpa.jdbc.DBDictionary\" value=\"mysql\" /&gt;\n      &lt;!-- Cette propriété active la log des requêtes SQL réalisées par OpenJPA --&gt;\n      &lt;property name=\"openjpa.Log\" value=\"SQL=Trace\" /&gt;\n      &lt;property name=\"openjpa.jdbc.SynchronizeMappings\" value=\"buildSchema(ForeignKeys=true)\"/&gt;\n    &lt;/properties&gt;\n  &lt;/persistence-unit&gt;\n&lt;/persistence&gt;\n</code></pre>\n\n<p>Registration class :</p>\n\n<pre><code>public class Registration extends HttpServlet {\n    @Override\n    protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\n\n    }\n\n\n    @Override\n    protected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\n\n        String name = request.getParameter(\"name\");\n        String firstName = request.getParameter(\"firstName\");\n        String email = request.getParameter(\"email\");\n        String password = request.getParameter(\"password\");\n        String confirmation = request.getParameter(\"confirmation\");\n        String phone = request.getParameter(\"phone\");\n        String address = request.getParameter(\"address\");\n\n        System.out.println(\"Ajout d'un utilisateur:\"+name+\",\"+firstName+\",\"+email+\",\"+password+\",\"+confirmation);\n\n\n        EntityManagerFactory emf = Persistence.createEntityManagerFactory(\"persistenceUnit\");\n        EntityManager em = emf.createEntityManager();\n        em.getTransaction().begin();\n\n        User u = new User();\n\n        u.setName(name);\n        u.setFirstName(firstName);\n        u.setPassword(password);\n        u.setEmail(email);\n        u.setAddress(address);\n        u.setPhone(phone);\n        em.persist(u);\n        em.getTransaction().commit();\n\n\n\n        this.getServletContext().getRequestDispatcher(\"/Home.jsp\").forward(request, response);\n\n    }\n}\n</code></pre>\n"},{"tags":["java","cassandra","cql"],"comments":[{"owner":{"account_id":135093,"reputation":9171,"user_id":337678,"accept_rate":100,"display_name":"akaIDIOT"},"score":2,"creation_date":1358330113,"post_id":14355439,"comment_id":19958335,"body_markdown":"Keep in mind that CQL is a lot more restricted than SQL. Not really sure about your issue, but the error message suggests that &#39;id&#39; is not a key or a key alias (see [1](http://cassandra.apache.org/doc/cql/CQL.html#update)). \nAs id is a column rather than (part of) a row key, I&#39;d guess that this operation is simply not possible with Cassandra.","body":"Keep in mind that CQL is a lot more restricted than SQL. Not really sure about your issue, but the error message suggests that &#39;id&#39; is not a key or a key alias (see <a href=\"http://cassandra.apache.org/doc/cql/CQL.html#update\" rel=\"nofollow noreferrer\">1</a>).  As id is a column rather than (part of) a row key, I&#39;d guess that this operation is simply not possible with Cassandra."},{"owner":{"account_id":1448087,"reputation":8935,"user_id":1365913,"accept_rate":86,"display_name":"rs_atl"},"score":1,"creation_date":1358369895,"post_id":14355439,"comment_id":19979343,"body_markdown":"Can you post your CF definition?","body":"Can you post your CF definition?"}],"answers":[{"comments":[{"owner":{"account_id":7342540,"reputation":940,"user_id":5718679,"accept_rate":75,"display_name":"Orar"},"score":0,"creation_date":1527270116,"post_id":14409107,"comment_id":88080784,"body_markdown":"It would&#39;ve been useful if you provided an example instead of a formular","body":"It would&#39;ve been useful if you provided an example instead of a formular"}],"tags":[],"owner":{"account_id":1355465,"reputation":3660,"user_id":1293955,"accept_rate":44,"display_name":"NG Algo"},"comment_count":1,"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1358550563,"creation_date":1358550563,"answer_id":14409107,"question_id":14355439,"body_markdown":"Inserts and updates require specifying the row key, whereas you seem to be trying to use a column name. What key have you used when inserting new id,name pairs?\r\n\r\nRefer to the CQL documentation on [http://cassandra.apache.org/doc/cql3/CQL.html][1]\r\n\r\n    &lt;update-stmt&gt; ::= UPDATE &lt;tablename&gt;\r\n                      ( USING &lt;option&gt; ( AND &lt;option&gt; )* )?\r\n                      SET &lt;assignment&gt; ( &#39;,&#39; &lt;assignment&gt; )*\r\n                      WHERE &lt;where-clause&gt;\r\n    The UPDATE statement writes one or more columns for a given row in a table. The \r\n    &lt;where-clause&gt; is used to select the row to update and must include all columns \r\n    composing the PRIMARY KEY. Other columns values are specified through &lt;assignment&gt; \r\n    after the SET keyword.\r\n\r\nYou need to take a look at your ColumnFamily definition and see what your primary key is.","title":"How to update a column value in Cassandra Using CQL?","body":"<p>Inserts and updates require specifying the row key, whereas you seem to be trying to use a column name. What key have you used when inserting new id,name pairs?</p>\n\n<p>Refer to the CQL documentation on [http://cassandra.apache.org/doc/cql3/CQL.html][1]</p>\n\n<pre><code>&lt;update-stmt&gt; ::= UPDATE &lt;tablename&gt;\n                  ( USING &lt;option&gt; ( AND &lt;option&gt; )* )?\n                  SET &lt;assignment&gt; ( ',' &lt;assignment&gt; )*\n                  WHERE &lt;where-clause&gt;\nThe UPDATE statement writes one or more columns for a given row in a table. The \n&lt;where-clause&gt; is used to select the row to update and must include all columns \ncomposing the PRIMARY KEY. Other columns values are specified through &lt;assignment&gt; \nafter the SET keyword.\n</code></pre>\n\n<p>You need to take a look at your ColumnFamily definition and see what your primary key is.</p>\n"},{"tags":[],"owner":{"account_id":14737435,"reputation":329,"user_id":10643026,"display_name":"John"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1591196614,"creation_date":1591196614,"answer_id":62176131,"question_id":14355439,"body_markdown":"Have you tried:\r\nUPDATE keyspaceName/columnFalmilyName SET name=&#39;name&#39; WHERE id = &lt;id&gt; (without &#39;&#39;) ","title":"How to update a column value in Cassandra Using CQL?","body":"<p>Have you tried:\nUPDATE keyspaceName/columnFalmilyName SET name='name' WHERE id =  (without '') </p>\n"}],"owner":{"account_id":1712713,"reputation":223,"user_id":1570402,"accept_rate":44,"display_name":"Anand Murugan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":10034,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1699365860,"creation_date":1358329711,"question_id":14355439,"body_markdown":"I have created a keyspace with two column fields. One is Id and another one is name. I have inserted records in that keyspace. I want to update the name filed of a particular id.\r\n\r\nI have used the following CQL query\r\n \r\n    UPDATE keyspaceName/columnFalmilyName SET name=&#39;name&#39; WHERE id = &#39;id&#39; \r\n\r\nWhile Executing this query it throws the Exception of  \r\n       \r\n    InvalidRequestException(why:line 1:56 mismatched input &#39;id&#39; expecting K_KEY)...\r\n\r\nIf the query framed is wrong means, how to update the record using CQL?\r\n\r\n","title":"How to update a column value in Cassandra Using CQL?","body":"<p>I have created a keyspace with two column fields. One is Id and another one is name. I have inserted records in that keyspace. I want to update the name filed of a particular id.</p>\n\n<p>I have used the following CQL query</p>\n\n<pre><code>UPDATE keyspaceName/columnFalmilyName SET name='name' WHERE id = 'id' \n</code></pre>\n\n<p>While Executing this query it throws the Exception of  </p>\n\n<pre><code>InvalidRequestException(why:line 1:56 mismatched input 'id' expecting K_KEY)...\n</code></pre>\n\n<p>If the query framed is wrong means, how to update the record using CQL?</p>\n"},{"tags":["java","apache-spark"],"answers":[{"tags":[],"owner":{"account_id":1017255,"reputation":1526,"user_id":1028537,"display_name":"Chris"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699365765,"creation_date":1699365765,"answer_id":77438845,"question_id":77433146,"body_markdown":"A small family of helper functions (or use Scala) e.g.:\r\n\r\n```java\r\npublic static &lt;T, R&gt; MapFunction&lt;T, R&gt; mapF(MapFunction&lt;T,R&gt; function)\r\n{\r\n    return function;\r\n}\r\n\r\n.map(mapF(v -&gt; v.toLowerCase()), Encoders.STRING())\r\n```\r\n\r\nis a third option, type inference will improve and your most difficult task is to remember the function name and imports.\r\n\r\nAdd a static function to the util class for each ambiguity you have in your source code.","title":"Java Spark3 avoid lambda casting: reference is ambigous","body":"<p>A small family of helper functions (or use Scala) e.g.:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static &lt;T, R&gt; MapFunction&lt;T, R&gt; mapF(MapFunction&lt;T,R&gt; function)\n{\n    return function;\n}\n\n.map(mapF(v -&gt; v.toLowerCase()), Encoders.STRING())\n</code></pre>\n<p>is a third option, type inference will improve and your most difficult task is to remember the function name and imports.</p>\n<p>Add a static function to the util class for each ambiguity you have in your source code.</p>\n"}],"owner":{"account_id":6132770,"reputation":107,"user_id":4782478,"display_name":"Zgravada"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1699365765,"creation_date":1699292286,"question_id":77433146,"body_markdown":"I&#39;ve been developing a lot on Spark2 and I&#39;m trying to move my codebase in Spark3.\r\n\r\nThe problem is that all my lambda code with the Datasets is no longer working, the reference to map is ambigous :\r\n\r\n\r\n```\r\njava: reference to map is ambiguous\r\n  both method &lt;U&gt;map(scala.Function1&lt;T,U&gt;,org.apache.spark.sql.Encoder&lt;U&gt;) in org.apache.spark.sql.Dataset and method &lt;U&gt;map(org.apache.spark.api.java.function.MapFunction&lt;T,U&gt;,org.apache.spark.sql.Encoder&lt;U&gt;) in org.apache.spark.sql.Dataset match\r\n```\r\n\r\nHere is a quick code to replicate it on Spark3 :\r\n\r\n\r\n```\r\npublic static void main(String[] args) {\r\n        SparkSession\r\n                .builder()\r\n                .master(&quot;local[1]&quot;)\r\n                .getOrCreate()\r\n                .createDataset(Arrays.asList(&quot;A&quot;, &quot;b&quot;, &quot;C&quot;), Encoders.STRING())\r\n                // error is here\r\n                .map(v -&gt; v.toLowerCase(), Encoders.STRING())\r\n                .show();\r\n    }\r\n```\r\n\r\nThis error aslo applies to every other Dataset transformations like filter, flatMap, ...\r\n\r\n\r\nI tried different version of Java (8, 11 and 17), but the error is always the same.\r\n\r\nIn the past, I used to have a similar issue with the Scala plugin with Intellij, but now, even Java cannot compile this code with Spark3.\r\n\r\nIt doesn&#39;t even work with method reference. The only fix is eiter a cast :\r\n\r\n\r\n```\r\npublic static void main(String[] args) {\r\n        SparkSession\r\n                .builder()\r\n                .master(&quot;local[1]&quot;)\r\n                .getOrCreate()\r\n                .createDataset(Arrays.asList(&quot;A&quot;, &quot;b&quot;, &quot;C&quot;), Encoders.STRING())\r\n                // A cast fixes the issue\r\n                .map((MapFunction&lt;String, String&gt;) v -&gt; v.toLowerCase(), Encoders.STRING())\r\n                .show();\r\n    }\r\n```\r\n\r\nOr by creating a class that implements the wanted function\r\n\r\n```\r\npublic class Main {\r\n\r\n    public static void main(String[] args) {\r\n        SparkSession\r\n                .builder()\r\n                .master(&quot;local[1]&quot;)\r\n                .getOrCreate()\r\n                .createDataset(Arrays.asList(&quot;A&quot;, &quot;b&quot;, &quot;C&quot;), Encoders.STRING())\r\n                .map(new LowerCaseSparkFunction(), Encoders.STRING())\r\n                .show();\r\n    }\r\n\r\n}\r\n\r\nclass LowerCaseSparkFunction implements MapFunction&lt;String, String&gt; {\r\n\r\n    @Override\r\n    public String call(String s) throws Exception {\r\n        return s.toLowerCase();\r\n    }\r\n}\r\n```\r\n\r\nI find the casting solution to be too verbose and I need to update a lot of code for it to work. Is there any other solution ?\r\n\r\n","title":"Java Spark3 avoid lambda casting: reference is ambigous","body":"<p>I've been developing a lot on Spark2 and I'm trying to move my codebase in Spark3.</p>\n<p>The problem is that all my lambda code with the Datasets is no longer working, the reference to map is ambigous :</p>\n<pre><code>java: reference to map is ambiguous\n  both method &lt;U&gt;map(scala.Function1&lt;T,U&gt;,org.apache.spark.sql.Encoder&lt;U&gt;) in org.apache.spark.sql.Dataset and method &lt;U&gt;map(org.apache.spark.api.java.function.MapFunction&lt;T,U&gt;,org.apache.spark.sql.Encoder&lt;U&gt;) in org.apache.spark.sql.Dataset match\n</code></pre>\n<p>Here is a quick code to replicate it on Spark3 :</p>\n<pre><code>public static void main(String[] args) {\n        SparkSession\n                .builder()\n                .master(&quot;local[1]&quot;)\n                .getOrCreate()\n                .createDataset(Arrays.asList(&quot;A&quot;, &quot;b&quot;, &quot;C&quot;), Encoders.STRING())\n                // error is here\n                .map(v -&gt; v.toLowerCase(), Encoders.STRING())\n                .show();\n    }\n</code></pre>\n<p>This error aslo applies to every other Dataset transformations like filter, flatMap, ...</p>\n<p>I tried different version of Java (8, 11 and 17), but the error is always the same.</p>\n<p>In the past, I used to have a similar issue with the Scala plugin with Intellij, but now, even Java cannot compile this code with Spark3.</p>\n<p>It doesn't even work with method reference. The only fix is eiter a cast :</p>\n<pre><code>public static void main(String[] args) {\n        SparkSession\n                .builder()\n                .master(&quot;local[1]&quot;)\n                .getOrCreate()\n                .createDataset(Arrays.asList(&quot;A&quot;, &quot;b&quot;, &quot;C&quot;), Encoders.STRING())\n                // A cast fixes the issue\n                .map((MapFunction&lt;String, String&gt;) v -&gt; v.toLowerCase(), Encoders.STRING())\n                .show();\n    }\n</code></pre>\n<p>Or by creating a class that implements the wanted function</p>\n<pre><code>public class Main {\n\n    public static void main(String[] args) {\n        SparkSession\n                .builder()\n                .master(&quot;local[1]&quot;)\n                .getOrCreate()\n                .createDataset(Arrays.asList(&quot;A&quot;, &quot;b&quot;, &quot;C&quot;), Encoders.STRING())\n                .map(new LowerCaseSparkFunction(), Encoders.STRING())\n                .show();\n    }\n\n}\n\nclass LowerCaseSparkFunction implements MapFunction&lt;String, String&gt; {\n\n    @Override\n    public String call(String s) throws Exception {\n        return s.toLowerCase();\n    }\n}\n</code></pre>\n<p>I find the casting solution to be too verbose and I need to update a lot of code for it to work. Is there any other solution ?</p>\n"},{"tags":["java","collections","immutability"],"comments":[{"owner":{"account_id":1189417,"reputation":30924,"user_id":1162620,"accept_rate":70,"display_name":"Ravi"},"score":0,"creation_date":1535992216,"post_id":52153504,"comment_id":91257165,"body_markdown":"and what is the specific reason for that ? can you share the background of this requirement ?","body":"and what is the specific reason for that ? can you share the background of this requirement ?"},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1535992352,"post_id":52153504,"comment_id":91257220,"body_markdown":"Well, you could use enums instead of strings (any maybe some mapping to get the enum for a string if that&#39;s needed). Then you could use `EnumMap`.","body":"Well, you could use enums instead of strings (any maybe some mapping to get the enum for a string if that&#39;s needed). Then you could use <code>EnumMap</code>."},{"owner":{"account_id":7421543,"reputation":2874,"user_id":5645656,"accept_rate":100,"display_name":"Cardinal System"},"score":0,"creation_date":1535992593,"post_id":52153504,"comment_id":91257311,"body_markdown":"When you say that you want to be able to change the values, do you mean that you want to change their object type or simply their values?","body":"When you say that you want to be able to change the values, do you mean that you want to change their object type or simply their values?"},{"owner":{"account_id":20847162,"reputation":894,"user_id":15312420,"display_name":"Mehdi Charife"},"score":0,"creation_date":1699364686,"post_id":52153504,"comment_id":136520292,"body_markdown":"@Ravi , I stumbled upon this question while trying to achieve a similar behaviour. Bascially, while trying to design a system for online debating, I created this `Debate` class, which holds a reference to a `DebateTopic` and has a private Map field for storing which `User` corresponds to which `DebatePosition` . The idea is that the `Debate` constructor accepts a reference to a `DebateTopic` and initializes the map with keys corresponding to the different `DebatePosition`s in the `DebateTopic`. This is done to prevent others from adding a position that is unrelated to the debate.","body":"@Ravi , I stumbled upon this question while trying to achieve a similar behaviour. Bascially, while trying to design a system for online debating, I created this <code>Debate</code> class, which holds a reference to a <code>DebateTopic</code> and has a private Map field for storing which <code>User</code> corresponds to which <code>DebatePosition</code> . The idea is that the <code>Debate</code> constructor accepts a reference to a <code>DebateTopic</code> and initializes the map with keys corresponding to the different <code>DebatePosition</code>s in the <code>DebateTopic</code>. This is done to prevent others from adding a position that is unrelated to the debate."}],"answers":[{"comments":[{"owner":{"account_id":9460858,"reputation":2349,"user_id":7034613,"accept_rate":68,"display_name":"DsCpp"},"score":0,"creation_date":1535995104,"post_id":52153867,"comment_id":91258170,"body_markdown":"Amazing, just what I&#39;ve needed. @cardinal, is there a way to apply a foreach with a different lambda on the key that does equals the trigger?(i.e apply two functions on different keys in the same stream)","body":"Amazing, just what I&#39;ve needed. @cardinal, is there a way to apply a foreach with a different lambda on the key that does equals the trigger?(i.e apply two functions on different keys in the same stream)"},{"owner":{"account_id":7421543,"reputation":2874,"user_id":5645656,"accept_rate":100,"display_name":"Cardinal System"},"score":0,"creation_date":1535995165,"post_id":52153867,"comment_id":91258194,"body_markdown":"@DsCpp sure there is, just remove the NOT operator `!` from `!e.getKey().equals(trigger)`.","body":"@DsCpp sure there is, just remove the NOT operator <code>!</code> from <code>!e.getKey().equals(trigger)</code>."},{"owner":{"account_id":9460858,"reputation":2349,"user_id":7034613,"accept_rate":68,"display_name":"DsCpp"},"score":0,"creation_date":1535995263,"post_id":52153867,"comment_id":91258226,"body_markdown":"In the same stream? after the filter I can&#39;t access the key that equals, it&#39;s no longer part of the stream","body":"In the same stream? after the filter I can&#39;t access the key that equals, it&#39;s no longer part of the stream"},{"owner":{"account_id":7421543,"reputation":2874,"user_id":5645656,"accept_rate":100,"display_name":"Cardinal System"},"score":0,"creation_date":1535995305,"post_id":52153867,"comment_id":91258239,"body_markdown":"@DsCpp Can you give me an example of what you are trying to do? I cannot understand what it is that you want.","body":"@DsCpp Can you give me an example of what you are trying to do? I cannot understand what it is that you want."},{"owner":{"account_id":9460858,"reputation":2349,"user_id":7034613,"accept_rate":68,"display_name":"DsCpp"},"score":0,"creation_date":1535995410,"post_id":52153867,"comment_id":91258278,"body_markdown":"e.g multiply all the non-equal keys by multiplyAmount, and the key that equals sub by SubtractAmount","body":"e.g multiply all the non-equal keys by multiplyAmount, and the key that equals sub by SubtractAmount"},{"owner":{"account_id":1548079,"reputation":128727,"user_id":1441122,"display_name":"Stuart Marks"},"score":0,"creation_date":1536111685,"post_id":52153867,"comment_id":91302468,"body_markdown":"@DsCpp I would avoid extending `HashMap` and instead use the approach in [Mike&#39;s answer](https://stackoverflow.com/a/5601374/1441122) of implementing `Map` and having your map contain a `HashMap`. This involves implementing the `Map` interface, which has a lot of methods, so if you extend from `AbstractMap` it will save a lot of implementation work.","body":"@DsCpp I would avoid extending <code>HashMap</code> and instead use the approach in <a href=\"https://stackoverflow.com/a/5601374/1441122\">Mike&#39;s answer</a> of implementing <code>Map</code> and having your map contain a <code>HashMap</code>. This involves implementing the <code>Map</code> interface, which has a lot of methods, so if you extend from <code>AbstractMap</code> it will save a lot of implementation work."}],"tags":[],"owner":{"account_id":7421543,"reputation":2874,"user_id":5645656,"accept_rate":100,"display_name":"Cardinal System"},"comment_count":6,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1699365613,"creation_date":1535994263,"answer_id":52153867,"question_id":52153504,"body_markdown":"I suggest you first look at [Mike&#39;s answer][1] to get an idea of how to go about solving this problem, then make some changes to the code he provided so it will work in your situation:\r\n\r\n    import java.util.HashMap;\r\n    \r\n    public class InstrumentedHashMap&lt;K&gt; extends HashMap&lt;K, Float&gt; {\r\n    \r\n    \tprivate static final long serialVersionUID = 1L;\r\n    \tprivate int max;\r\n    \r\n    \tpublic InstrumentedHashMap(int capacity) {\r\n    \t\tsuper();\r\n    \t\tthis.max = capacity;\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic Float put(K key, Float value) {\r\n    \t\tif (super.size() &gt;= this.max &amp;&amp; !super.containsKey(key)) {\r\n    \t\t\treturn null;\r\n    \t\t} else {\r\n    \t\t\tsuper.put(key, value);\r\n    \t\t\treturn value;\r\n    \t\t}\r\n    \t}\r\n    \r\n    \tpublic void event(K trigger, int multiplyAmount, float subtractAmount) {\r\n    \t\tsuper.entrySet().stream().forEach(e -&gt; {\r\n    \t\t\tif (!e.getKey().equals(trigger))\r\n    \t\t\t\te.setValue(e.getValue() * multiplyAmount);\r\n    \t\t\telse\r\n    \t\t\t\te.setValue(e.getValue() - subtractAmount);\r\n    \t\t});\r\n    \t}\r\n    }\r\n\r\nYou can use the `InstrumentedHashMap#event` method to handle your &quot;specific event&quot;, with the `multiplyAmount` parameter being the value that you want to multiply your floats by.\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/5601374/5645656","title":"Immutable keys - fixed length map in Java","body":"<p>I suggest you first look at <a href=\"https://stackoverflow.com/a/5601374/5645656\">Mike's answer</a> to get an idea of how to go about solving this problem, then make some changes to the code he provided so it will work in your situation:</p>\n<pre><code>import java.util.HashMap;\n\npublic class InstrumentedHashMap&lt;K&gt; extends HashMap&lt;K, Float&gt; {\n\n    private static final long serialVersionUID = 1L;\n    private int max;\n\n    public InstrumentedHashMap(int capacity) {\n        super();\n        this.max = capacity;\n    }\n\n    @Override\n    public Float put(K key, Float value) {\n        if (super.size() &gt;= this.max &amp;&amp; !super.containsKey(key)) {\n            return null;\n        } else {\n            super.put(key, value);\n            return value;\n        }\n    }\n\n    public void event(K trigger, int multiplyAmount, float subtractAmount) {\n        super.entrySet().stream().forEach(e -&gt; {\n            if (!e.getKey().equals(trigger))\n                e.setValue(e.getValue() * multiplyAmount);\n            else\n                e.setValue(e.getValue() - subtractAmount);\n        });\n    }\n}\n</code></pre>\n<p>You can use the <code>InstrumentedHashMap#event</code> method to handle your &quot;specific event&quot;, with the <code>multiplyAmount</code> parameter being the value that you want to multiply your floats by.</p>\n"}],"owner":{"account_id":9460858,"reputation":2349,"user_id":7034613,"accept_rate":68,"display_name":"DsCpp"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1697,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":52153867,"answer_count":1,"score":8,"last_activity_date":1699365613,"creation_date":1535992151,"question_id":52153504,"body_markdown":"Is there a way in Java to create a collection (map) with fixed size and length?\r\nI.e., I would like to initialize it with K constant keys (e.g. strings) but still want to be able to change the values.\r\n\r\n**Edit:**\r\nThe test case has a fixed number of objects, each one corresponds to a number (float). Each time a specific event in the application occurs, I would like to multiply all the numbers in the collection, except the number that corresponds to the object that &quot;caused&quot; the event.\r\nThe number is not logically an attribiute of the object.","title":"Immutable keys - fixed length map in Java","body":"<p>Is there a way in Java to create a collection (map) with fixed size and length?\nI.e., I would like to initialize it with K constant keys (e.g. strings) but still want to be able to change the values.</p>\n\n<p><strong>Edit:</strong>\nThe test case has a fixed number of objects, each one corresponds to a number (float). Each time a specific event in the application occurs, I would like to multiply all the numbers in the collection, except the number that corresponds to the object that \"caused\" the event.\nThe number is not logically an attribiute of the object.</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":14722107,"reputation":5143,"user_id":10632369,"display_name":"tomerpacific"},"score":0,"creation_date":1699367756,"post_id":77438734,"comment_id":136520985,"body_markdown":"What gradle version is set up for your project?","body":"What gradle version is set up for your project?"},{"owner":{"account_id":20543423,"reputation":1,"user_id":15077862,"display_name":"neves neves"},"score":0,"creation_date":1699368498,"post_id":77438734,"comment_id":136521145,"body_markdown":"android gradle version-7.3.1 gradle version -7.4","body":"android gradle version-7.3.1 gradle version -7.4"}],"owner":{"account_id":20543423,"reputation":1,"user_id":15077862,"display_name":"neves neves"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1699364857,"creation_date":1699364780,"question_id":77438734,"body_markdown":"I&#39;m working on an Android app for my college project, but I&#39;m encountering an error that&#39;s preventing me from building the app successfully. The error message I&#39;m getting is as follows:\r\n\r\n&gt; (3 files found with path &#39;META-INF/INDEX.LIST&#39;.\r\n&gt; Adding a packagingOptions block may help, please refer to\r\n&gt; https://developer.android.com/reference/tools/gradle-api/7.3/com/android/build/api/dsl/ResourcesPackagingOptions\r\n&gt; for more information)\r\n\r\n\r\nI tried to resolve the issue by adding a packagingOptions block in my Gradle build file like this:\r\n\r\n\r\n```\r\n(3 files found with path &#39;META-INF/INDEX.LIST&#39;.\r\nAdding a packagingOptions block may help, please refer to\r\nhttps://developer.android.com/reference/tools/gradle-api/7.3/com/android/build/api/dsl/ResourcesPackagingOptions\r\nfor more information)\r\n```\r\n\r\n\r\n\r\n\r\n\r\n\r\nHowever, when I added this block, the &quot;Run&quot; option disappeared in Android Studio.\r\n\r\nHere is my complete Gradle file:\r\n\r\n\r\n```\r\nplugins {\r\n    id &#39;com.android.application&#39;\r\n}\r\n\r\nandroid {\r\n    namespace &#39;com.example.primeiraapp&#39;\r\n    compileSdk 32\r\n\r\n    defaultConfig {\r\n        applicationId &quot;com.example.primeiraapp&quot;\r\n        minSdk 21\r\n        targetSdk 32\r\n        versionCode 1\r\n        versionName &quot;1.0&quot;\r\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\r\n    }\r\n\r\n    buildTypes {\r\n        release {\r\n            minifyEnabled false\r\n            proguardFiles getDefaultProguardFile(&#39;proguard-android-optimize.txt&#39;), &#39;proguard-rules.pro&#39;\r\n        }\r\n    }\r\n\r\n    compileOptions {\r\n        sourceCompatibility JavaVersion.VERSION_1_8\r\n        targetCompatibility JavaVersion.VERSION_1_8\r\n    }\r\n\r\n    packagingOptions {\r\n        exclude &#39;META-INF/INDEX.LIST&#39;\r\n    }\r\n}\r\n\r\ndependencies {\r\n    implementation &#39;androidx.appcompat:appcompat:1.5.1&#39;\r\n    implementation &#39;com.google.android.material:material:1.7.0&#39;\r\n    implementation &#39;androidx.constraintlayout:constraintlayout:2.1.4&#39;\r\n    implementation &#39;com.google.cloud:google-cloud-translate:1.27.0&#39;\r\n    implementation &#39;com.google.guava:listenablefuture:9999.0-empty-to-avoid-conflict-with-guava&#39;\r\n    testImplementation &#39;junit:junit:4.13.2&#39;\r\n    testImplementation &#39;junit:junit:4.13.2&#39;\r\n    androidTestImplementation &#39;androidx.test.ext:junit:1.1.4&#39;\r\n    androidTestImplementation &#39;androidx.test.espresso:espresso-core:3.5.0&#39;\r\n}\r\n\r\n```\r\n\r\n\r\n\r\n\r\n\r\nCan anyone help me understand why the &quot;Run&quot; option disappeared after adding the packagingOptions block and how to resolve this issue? ","title":"Android Gradle Error: &#39;META-INF/INDEX.LIST&#39; Conflict Causes Run Option to Disappear","body":"<p>I'm working on an Android app for my college project, but I'm encountering an error that's preventing me from building the app successfully. The error message I'm getting is as follows:</p>\n<blockquote>\n<p>(3 files found with path 'META-INF/INDEX.LIST'.\nAdding a packagingOptions block may help, please refer to\n<a href=\"https://developer.android.com/reference/tools/gradle-api/7.3/com/android/build/api/dsl/ResourcesPackagingOptions\" rel=\"nofollow noreferrer\">https://developer.android.com/reference/tools/gradle-api/7.3/com/android/build/api/dsl/ResourcesPackagingOptions</a>\nfor more information)</p>\n</blockquote>\n<p>I tried to resolve the issue by adding a packagingOptions block in my Gradle build file like this:</p>\n<pre><code>(3 files found with path 'META-INF/INDEX.LIST'.\nAdding a packagingOptions block may help, please refer to\nhttps://developer.android.com/reference/tools/gradle-api/7.3/com/android/build/api/dsl/ResourcesPackagingOptions\nfor more information)\n</code></pre>\n<p>However, when I added this block, the &quot;Run&quot; option disappeared in Android Studio.</p>\n<p>Here is my complete Gradle file:</p>\n<pre><code>plugins {\n    id 'com.android.application'\n}\n\nandroid {\n    namespace 'com.example.primeiraapp'\n    compileSdk 32\n\n    defaultConfig {\n        applicationId &quot;com.example.primeiraapp&quot;\n        minSdk 21\n        targetSdk 32\n        versionCode 1\n        versionName &quot;1.0&quot;\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\n    }\n\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'\n        }\n    }\n\n    compileOptions {\n        sourceCompatibility JavaVersion.VERSION_1_8\n        targetCompatibility JavaVersion.VERSION_1_8\n    }\n\n    packagingOptions {\n        exclude 'META-INF/INDEX.LIST'\n    }\n}\n\ndependencies {\n    implementation 'androidx.appcompat:appcompat:1.5.1'\n    implementation 'com.google.android.material:material:1.7.0'\n    implementation 'androidx.constraintlayout:constraintlayout:2.1.4'\n    implementation 'com.google.cloud:google-cloud-translate:1.27.0'\n    implementation 'com.google.guava:listenablefuture:9999.0-empty-to-avoid-conflict-with-guava'\n    testImplementation 'junit:junit:4.13.2'\n    testImplementation 'junit:junit:4.13.2'\n    androidTestImplementation 'androidx.test.ext:junit:1.1.4'\n    androidTestImplementation 'androidx.test.espresso:espresso-core:3.5.0'\n}\n\n</code></pre>\n<p>Can anyone help me understand why the &quot;Run&quot; option disappeared after adding the packagingOptions block and how to resolve this issue?</p>\n"},{"tags":["java","csv","opencsv"],"comments":[{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1699362896,"post_id":77438440,"comment_id":136519899,"body_markdown":"If this really is what your CSV parser is doing, then it&#39;s failing to do CSV correctly at a fundamental level. May I suggest switching to a *capable* CSV parser?","body":"If this really is what your CSV parser is doing, then it&#39;s failing to do CSV correctly at a fundamental level. May I suggest switching to a <i>capable</i> CSV parser?"},{"owner":{"account_id":3637776,"reputation":433,"user_id":3032736,"accept_rate":0,"display_name":"deadpoint"},"score":0,"creation_date":1699363137,"post_id":77438440,"comment_id":136519949,"body_markdown":"mhm I think the CSV format isn&#39;t correctly, I guess the format should be &quot;text &quot;&quot; other text&quot;&quot;&quot;.  Then the result is fine. But I need a solution for this &quot;not correctly&quot; CSV format.","body":"mhm I think the CSV format isn&#39;t correctly, I guess the format should be &quot;text &quot;&quot; other text&quot;&quot;&quot;.  Then the result is fine. But I need a solution for this &quot;not correctly&quot; CSV format."},{"owner":{"account_id":17717155,"reputation":527,"user_id":12863192,"display_name":"Ishan"},"score":0,"creation_date":1699363194,"post_id":77438440,"comment_id":136519958,"body_markdown":"Is the CSV in your control? Can you just try to have `123;00234;123;&quot;Max &quot;&quot;Mustermann&quot;&quot;&quot;;something` in your CSV and see if it works?","body":"Is the CSV in your control? Can you just try to have <code>123;00234;123;&quot;Max &quot;&quot;Mustermann&quot;&quot;&quot;;something</code> in your CSV and see if it works?"},{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1699363204,"post_id":77438440,"comment_id":136519961,"body_markdown":"The CSV spec says it&#39;s allowed to quote fields. And if you do, any quotes in the text should be escaped. It doesn&#39;t say it&#39;s okay to remove a quote at the end of a text if there&#39;s no quote at the start.","body":"The CSV spec says it&#39;s allowed to quote fields. And if you do, any quotes in the text should be escaped. It doesn&#39;t say it&#39;s okay to remove a quote at the end of a text if there&#39;s no quote at the start."},{"owner":{"account_id":17717155,"reputation":527,"user_id":12863192,"display_name":"Ishan"},"score":0,"creation_date":1699363292,"post_id":77438440,"comment_id":136519982,"body_markdown":"Yeah, 2-quotes should be used inside the data to escape quotes and that should result in one quote when extracted as value, and the whole field value should be enclosed in quotes.","body":"Yeah, 2-quotes should be used inside the data to escape quotes and that should result in one quote when extracted as value, and the whole field value should be enclosed in quotes."},{"owner":{"account_id":3637776,"reputation":433,"user_id":3032736,"accept_rate":0,"display_name":"deadpoint"},"score":0,"creation_date":1699363543,"post_id":77438440,"comment_id":136520035,"body_markdown":"The problem is, no I have the CSV not under my control :-) I could manipulate it, but if possible I would like avoid this.","body":"The problem is, no I have the CSV not under my control :-) I could manipulate it, but if possible I would like avoid this."},{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1699363610,"post_id":77438440,"comment_id":136520049,"body_markdown":"@deadpoint The source CSV is not the problem. It&#39;s perfectly valid. The problem is your parser has a bug.","body":"@deadpoint The source CSV is not the problem. It&#39;s perfectly valid. The problem is your parser has a bug."},{"owner":{"account_id":17717155,"reputation":527,"user_id":12863192,"display_name":"Ishan"},"score":0,"creation_date":1699364149,"post_id":77438440,"comment_id":136520165,"body_markdown":"Use Apache Commons CSV - https://commons.apache.org/proper/commons-csv/download_csv.cgi - I used 1.10.0 - it works on your CSV sample record without any change. I just tried with that string as input:\n`CSVRecord [comment=&#39;null&#39;, recordNumber=1, values=[123, 00234, 123, Max &quot;Mustermann&quot;, something]]` - parses and returns proper record","body":"Use Apache Commons CSV - <a href=\"https://commons.apache.org/proper/commons-csv/download_csv.cgi\" rel=\"nofollow noreferrer\">commons.apache.org/proper/commons-csv/download_csv.cgi</a> - I used 1.10.0 - it works on your CSV sample record without any change. I just tried with that string as input: <code>CSVRecord [comment=&#39;null&#39;, recordNumber=1, values=[123, 00234, 123, Max &quot;Mustermann&quot;, something]]</code> - parses and returns proper record"}],"answers":[{"tags":[],"owner":{"account_id":17717155,"reputation":527,"user_id":12863192,"display_name":"Ishan"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1699364501,"creation_date":1699364501,"answer_id":77438704,"question_id":77438440,"body_markdown":"Using Apache Commons CSV parser - https://commons.apache.org/proper/commons-csv/download_csv.cgi - Version 1.10.0.\r\n\r\n```\r\nString str = &quot;123;00234;123;Max \\&quot;Mustermann\\&quot;;something&quot;;\r\ntry (CSVParser parser = CSVParser.parse(str, CSVFormat.DEFAULT.builder().setDelimiter(&#39;;&#39;).build())) {\r\n\tparser.forEach(System.out::println);\r\n}\r\n```\r\n\r\nParses and returns it properly:\r\n```\r\nCSVRecord [comment=&#39;null&#39;, recordNumber=1, values=[123, 00234, 123, Max &quot;Mustermann&quot;, something]]\r\n```","title":"Double Quotes with opencsv (java)","body":"<p>Using Apache Commons CSV parser - <a href=\"https://commons.apache.org/proper/commons-csv/download_csv.cgi\" rel=\"nofollow noreferrer\">https://commons.apache.org/proper/commons-csv/download_csv.cgi</a> - Version 1.10.0.</p>\n<pre><code>String str = &quot;123;00234;123;Max \\&quot;Mustermann\\&quot;;something&quot;;\ntry (CSVParser parser = CSVParser.parse(str, CSVFormat.DEFAULT.builder().setDelimiter(';').build())) {\n    parser.forEach(System.out::println);\n}\n</code></pre>\n<p>Parses and returns it properly:</p>\n<pre><code>CSVRecord [comment='null', recordNumber=1, values=[123, 00234, 123, Max &quot;Mustermann&quot;, something]]\n</code></pre>\n"}],"owner":{"account_id":3637776,"reputation":433,"user_id":3032736,"accept_rate":0,"display_name":"deadpoint"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1699364501,"creation_date":1699362348,"question_id":77438440,"body_markdown":"I am using opencsv to read a file in Java.\r\nThis is my config for the reader\r\n\r\n    try (Reader reader = Files.newBufferedReader(pathToFile)) {\r\n        CSVParser parser = new CSVParserBuilder().withSeparator(&quot;;&quot;).build();\r\n        try (CSVReader csvReader = new CSVReaderBuilder(reader).withSkipLines(1)\r\n            .withCSVParser(parser).build()) {\r\n            List&lt;String[]&gt; csvFileData = csvReader.readAll();\r\n            ....\r\n        }}\r\nMy CSV file has following line:\r\n\r\n&gt; 123;00234;123;Max &quot;Mustermann&quot;;something\r\n\r\nThe Result after parsing is:\r\n\r\n&gt; Max &quot;Mustermann\r\n\r\nThe double Quote at the end disappears.\r\n\r\nIs there any possibility to config the CsvParser to keep the quotes at the end of the field, I have tried withIgnoreQuotations(true), but that has no effect?","title":"Double Quotes with opencsv (java)","body":"<p>I am using opencsv to read a file in Java.\nThis is my config for the reader</p>\n<pre><code>try (Reader reader = Files.newBufferedReader(pathToFile)) {\n    CSVParser parser = new CSVParserBuilder().withSeparator(&quot;;&quot;).build();\n    try (CSVReader csvReader = new CSVReaderBuilder(reader).withSkipLines(1)\n        .withCSVParser(parser).build()) {\n        List&lt;String[]&gt; csvFileData = csvReader.readAll();\n        ....\n    }}\n</code></pre>\n<p>My CSV file has following line:</p>\n<blockquote>\n<p>123;00234;123;Max &quot;Mustermann&quot;;something</p>\n</blockquote>\n<p>The Result after parsing is:</p>\n<blockquote>\n<p>Max &quot;Mustermann</p>\n</blockquote>\n<p>The double Quote at the end disappears.</p>\n<p>Is there any possibility to config the CsvParser to keep the quotes at the end of the field, I have tried withIgnoreQuotations(true), but that has no effect?</p>\n"},{"tags":["java","sockets","encoder-decoder"],"comments":[{"owner":{"account_id":20782878,"reputation":893,"user_id":15982771,"display_name":"Blue Robin"},"score":0,"creation_date":1699567176,"post_id":77438695,"comment_id":136552071,"body_markdown":"You didn&#39;t format your post properly. The code block is kinda messed up. It&#39;s super hard to read","body":"You didn&#39;t format your post properly. The code block is kinda messed up. It&#39;s super hard to read"}],"owner":{"account_id":19744437,"reputation":1,"user_id":14457213,"display_name":"Waf19"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1699364407,"creation_date":1699364407,"question_id":77438695,"body_markdown":"I&#39;m working on a project where I need to connect to a remote server via a socket in Java and send a logon message with SBE (Simple Binary Encoding) format. However, even though I&#39;m following the correct steps and encoding the logon message, the server is reporting that it received an unknown message instead. Here are the details of my setup and the code I&#39;m using:\r\n\r\n1. Project Setup:\r\n   - I&#39;m using a Spring Boot project.\r\n   - I&#39;ve included the SBE dependency in my `pom.xml` file as follows:\r\n\r\n```xml\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;uk.co.real-logic&lt;/groupId&gt;\r\n    &lt;artifactId&gt;sbe-all&lt;/artifactId&gt;\r\n    &lt;version&gt;1.27.0&lt;/version&gt;\r\n&lt;/dependency&gt;\r\nCode Generation:\r\nI generated Java classes for the decoder and encoder of each sub-message using the following command:\r\njava -jar -Dsbe.output.dir=target/generated-sources/java \\\r\n  &lt;local-maven-directory&gt;/repository/uk/co/real-logic/sbe-all/1.26.0/sbe-all-1.26.0.jar \\\r\n  src/main/resources/schema.xml\r\nCode to Connect and Send Logon Message:\r\nI&#39;m connecting to the server on ports 30001 to 30005.\r\nI&#39;m using LogonEncoder and MessageHeaderEncoder to construct and send the logon message.\r\nHere&#39;s a snippet of my code:\r\ntry {\r\n    for (int port = 30001; port &lt;= 30005; port++) {\r\n        Socket socket = new Socket(&quot;192.z.x.y&quot;, port);\r\n        // ... (Other initialization code)\r\n\r\n        // Construct and send the logon message\r\n        if (port == 30001) {\r\n            LogonEncoder logonEncoder = new LogonEncoder();\r\n            MessageHeaderEncoder message = new MessageHeaderEncoder();\r\n            // ... (Setting logon message fields)\r\n            int messageLength = message.encodedLength() + logonEncoder.encodedLength();\r\n            outStream.write(buffer.byteArray(), 0, messageLength);\r\n            outStream.flush();\r\n        }\r\n    }\r\n    // ... (Error handling and other code)\r\n} catch (Exception e) {\r\n    e.printStackTrace();\r\n}\r\nProblem:\r\nWhen I run the code, I receive the following log from the server:\r\nSBE Accepted TCP connection - Remote 192.168.249.178:59526 - Local 0.0.0.0:30001\r\n2023/11/07 11:45:45.138481 | DROP_COP[23435-01.35] | warning  | 00 | #9025 | OEChainTCPConnectionSBEActor.hpp:76 | Warning [Invalid schemaId: 120]\r\n2023/11/07 11:45:45.138498 | DROP_COP[23435-01.35] | warning  | 00 | #5011 | AbstractOEChainTCPConnectionActor.hpp:293 | SBE TCP Disconnecting: expected a logon message, an unknown message was sent instead - Remote 192.168.249.178:59526 - Local 0.0.0.0:30001\r\nI suspect there might be an issue with the buffer offset or something else. Can you help me identify what could be causing the problem? please help :( This code is causing me trouble.","title":"Problem with Sending Logon Message Using SBE Over a Socket in Java","body":"<p>I'm working on a project where I need to connect to a remote server via a socket in Java and send a logon message with SBE (Simple Binary Encoding) format. However, even though I'm following the correct steps and encoding the logon message, the server is reporting that it received an unknown message instead. Here are the details of my setup and the code I'm using:</p>\n<ol>\n<li>Project Setup:\n<ul>\n<li>I'm using a Spring Boot project.</li>\n<li>I've included the SBE dependency in my <code>pom.xml</code> file as follows:</li>\n</ul>\n</li>\n</ol>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;uk.co.real-logic&lt;/groupId&gt;\n    &lt;artifactId&gt;sbe-all&lt;/artifactId&gt;\n    &lt;version&gt;1.27.0&lt;/version&gt;\n&lt;/dependency&gt;\nCode Generation:\nI generated Java classes for the decoder and encoder of each sub-message using the following command:\njava -jar -Dsbe.output.dir=target/generated-sources/java \\\n  &lt;local-maven-directory&gt;/repository/uk/co/real-logic/sbe-all/1.26.0/sbe-all-1.26.0.jar \\\n  src/main/resources/schema.xml\nCode to Connect and Send Logon Message:\nI'm connecting to the server on ports 30001 to 30005.\nI'm using LogonEncoder and MessageHeaderEncoder to construct and send the logon message.\nHere's a snippet of my code:\ntry {\n    for (int port = 30001; port &lt;= 30005; port++) {\n        Socket socket = new Socket(&quot;192.z.x.y&quot;, port);\n        // ... (Other initialization code)\n\n        // Construct and send the logon message\n        if (port == 30001) {\n            LogonEncoder logonEncoder = new LogonEncoder();\n            MessageHeaderEncoder message = new MessageHeaderEncoder();\n            // ... (Setting logon message fields)\n            int messageLength = message.encodedLength() + logonEncoder.encodedLength();\n            outStream.write(buffer.byteArray(), 0, messageLength);\n            outStream.flush();\n        }\n    }\n    // ... (Error handling and other code)\n} catch (Exception e) {\n    e.printStackTrace();\n}\nProblem:\nWhen I run the code, I receive the following log from the server:\nSBE Accepted TCP connection - Remote 192.168.249.178:59526 - Local 0.0.0.0:30001\n2023/11/07 11:45:45.138481 | DROP_COP[23435-01.35] | warning  | 00 | #9025 | OEChainTCPConnectionSBEActor.hpp:76 | Warning [Invalid schemaId: 120]\n2023/11/07 11:45:45.138498 | DROP_COP[23435-01.35] | warning  | 00 | #5011 | AbstractOEChainTCPConnectionActor.hpp:293 | SBE TCP Disconnecting: expected a logon message, an unknown message was sent instead - Remote 192.168.249.178:59526 - Local 0.0.0.0:30001\nI suspect there might be an issue with the buffer offset or something else. Can you help me identify what could be causing the problem? please help :( This code is causing me trouble.\n</code></pre>\n"},{"tags":["java","swagger","swagger-ui","swagger-2.0"],"comments":[{"owner":{"account_id":1939636,"reputation":28467,"user_id":1746118,"accept_rate":95,"display_name":"Naman"},"score":0,"creation_date":1559799158,"post_id":56471246,"comment_id":99533566,"body_markdown":"Related to and possible duplicate of [serialize/deserialize java 8 java.time with Jackson JSON mapper](https://stackoverflow.com/questions/27952472/serialize-deserialize-java-8-java-time-with-jackson-json-mapper)","body":"Related to and possible duplicate of <a href=\"https://stackoverflow.com/questions/27952472/serialize-deserialize-java-8-java-time-with-jackson-json-mapper\">serialize/deserialize java 8 java.time with Jackson JSON mapper</a>"},{"owner":{"account_id":6261329,"reputation":2428,"user_id":4868442,"display_name":"Dulanjaya Tennekoon"},"score":3,"creation_date":1559799416,"post_id":56471246,"comment_id":99533646,"body_markdown":"The above one is related to marshalling and unmarshalling of java8 dates. But this question is regarding the swagger-ui, how to change the example value and model representation in swagger-ui. Thanks","body":"The above one is related to marshalling and unmarshalling of java8 dates. But this question is regarding the swagger-ui, how to change the example value and model representation in swagger-ui. Thanks"}],"answers":[{"comments":[{"owner":{"account_id":6261329,"reputation":2428,"user_id":4868442,"display_name":"Dulanjaya Tennekoon"},"score":0,"creation_date":1559810375,"post_id":56472105,"comment_id":99538184,"body_markdown":"This is the exact answer. Thanks","body":"This is the exact answer. Thanks"},{"owner":{"account_id":5752194,"reputation":1093,"user_id":4541480,"accept_rate":33,"display_name":"Nicofisi"},"score":1,"creation_date":1685785466,"post_id":56472105,"comment_id":134712106,"body_markdown":"Do you know a solution for springdoc-openapi-starter-webmvc-ui? There is no Docket class","body":"Do you know a solution for springdoc-openapi-starter-webmvc-ui? There is no Docket class"}],"tags":[],"owner":{"account_id":889764,"reputation":4441,"user_id":928276,"accept_rate":75,"display_name":"soorapadman"},"comment_count":2,"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1559803261,"creation_date":1559803261,"answer_id":56472105,"question_id":56471246,"body_markdown":"Try this in the swagger config\r\n\r\n**directModelSubstitute** will resolve this issue\r\n\r\n    @Bean\r\n       public Docket postsApi() {\r\n          return new Docket(DocumentationType.SWAGGER_2)//.groupName(&quot;public-api&quot;)\r\n                  .groupName(&quot;&quot;)\r\n                    .directModelSubstitute(LocalDateTime.class, String.class)\r\n                   .directModelSubstitute(LocalDate.class, String.class)\r\n                   .directModelSubstitute(LocalTime.class, String.class)\r\n                   .directModelSubstitute(ZonedDateTime.class, String.class)\r\n                .apiInfo(apiInfo())\r\n                .select()\r\n                .apis(RequestHandlerSelectors.withClassAnnotation(RestController.class))\r\n    \r\n                .paths(PathSelectors.any())\r\n                .paths(postPaths()).build().useDefaultResponseMessages(false)\r\n                    .globalResponseMessage(RequestMethod.GET, getCustomizedResponseMessages());\r\n       }\r\n\r\n","title":"How to show Java8 LocalTime as a string in Swagger?","body":"<p>Try this in the swagger config</p>\n\n<p><strong>directModelSubstitute</strong> will resolve this issue</p>\n\n<pre><code>@Bean\n   public Docket postsApi() {\n      return new Docket(DocumentationType.SWAGGER_2)//.groupName(\"public-api\")\n              .groupName(\"\")\n                .directModelSubstitute(LocalDateTime.class, String.class)\n               .directModelSubstitute(LocalDate.class, String.class)\n               .directModelSubstitute(LocalTime.class, String.class)\n               .directModelSubstitute(ZonedDateTime.class, String.class)\n            .apiInfo(apiInfo())\n            .select()\n            .apis(RequestHandlerSelectors.withClassAnnotation(RestController.class))\n\n            .paths(PathSelectors.any())\n            .paths(postPaths()).build().useDefaultResponseMessages(false)\n                .globalResponseMessage(RequestMethod.GET, getCustomizedResponseMessages());\n   }\n</code></pre>\n"},{"comments":[{"owner":{"account_id":10178814,"reputation":139,"user_id":7516451,"display_name":"phirzel"},"score":0,"creation_date":1698740639,"post_id":77022817,"comment_id":136440368,"body_markdown":"works for generated openapi.yaml/JSON-specification (but enforces give-up of the generated ApiClient types, by means String as well instead of LocalTime)","body":"works for generated openapi.yaml/JSON-specification (but enforces give-up of the generated ApiClient types, by means String as well instead of LocalTime)"}],"tags":[],"owner":{"account_id":15303494,"reputation":51,"user_id":11041054,"display_name":"Jacek Andrzejczyk"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1693568535,"creation_date":1693568535,"answer_id":77022817,"question_id":56471246,"body_markdown":"For springdoc-openapi-starter-webmvc-ui you can add Schema annotation\r\n\r\n```\r\n@Schema(type = &quot;String&quot;, pattern = &quot;HH:mm:SS&quot;)\r\nLocalTime localTime\r\n    ","title":"How to show Java8 LocalTime as a string in Swagger?","body":"<p>For springdoc-openapi-starter-webmvc-ui you can add Schema annotation</p>\n<pre><code>@Schema(type = &quot;String&quot;, pattern = &quot;HH:mm:SS&quot;)\nLocalTime localTime\n    \n</code></pre>\n"},{"tags":[],"owner":{"account_id":3457417,"reputation":183,"user_id":2895599,"accept_rate":40,"display_name":"czs"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699364277,"creation_date":1699364277,"answer_id":77438678,"question_id":56471246,"body_markdown":"There is an undocumented static **public** method called [PrimitiveType.enablePartialTime()][1]. When you run this method during the loading context phase, it adds `java.util.LocalTime` to the list of primitive types and translates it into the `string` type with a `partial-time` format.\r\n\r\nI needed to use it in an XML definition so I used the following configuration:\r\n```\r\n&lt;bean name=&quot;localTimeFixer&quot; class=&quot;io.swagger.v3.core.util.PrimitiveType&quot; factory-method=&quot;enablePartialTime&quot;/&gt;\r\n```\r\nHowever, in *annotated* or *Spring Boot* contexts, it&#39;s even simpler, as you can call this method directly within an initialization bean.\r\n\r\n```\r\nPrimitiveType.enablePartialTime()\r\n```\r\nIt&#39;s in the library since version `2.0.6` where the [issue][2] was fixed.\r\n\r\n\r\n  [1]: https://github.com/swagger-api/swagger-core/blob/74d826dee89e8af0a87e664cd4e5485141877047/modules/swagger-core/src/main/java/io/swagger/v3/core/util/PrimitiveType.java#L438\r\n  [2]: https://github.com/swagger-api/swagger-core/issues/2992","title":"How to show Java8 LocalTime as a string in Swagger?","body":"<p>There is an undocumented static <strong>public</strong> method called <a href=\"https://github.com/swagger-api/swagger-core/blob/74d826dee89e8af0a87e664cd4e5485141877047/modules/swagger-core/src/main/java/io/swagger/v3/core/util/PrimitiveType.java#L438\" rel=\"nofollow noreferrer\">PrimitiveType.enablePartialTime()</a>. When you run this method during the loading context phase, it adds <code>java.util.LocalTime</code> to the list of primitive types and translates it into the <code>string</code> type with a <code>partial-time</code> format.</p>\n<p>I needed to use it in an XML definition so I used the following configuration:</p>\n<pre><code>&lt;bean name=&quot;localTimeFixer&quot; class=&quot;io.swagger.v3.core.util.PrimitiveType&quot; factory-method=&quot;enablePartialTime&quot;/&gt;\n</code></pre>\n<p>However, in <em>annotated</em> or <em>Spring Boot</em> contexts, it's even simpler, as you can call this method directly within an initialization bean.</p>\n<pre><code>PrimitiveType.enablePartialTime()\n</code></pre>\n<p>It's in the library since version <code>2.0.6</code> where the <a href=\"https://github.com/swagger-api/swagger-core/issues/2992\" rel=\"nofollow noreferrer\">issue</a> was fixed.</p>\n"}],"owner":{"account_id":6261329,"reputation":2428,"user_id":4868442,"display_name":"Dulanjaya Tennekoon"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6087,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":56472105,"answer_count":3,"score":7,"last_activity_date":1699364277,"creation_date":1559798167,"question_id":56471246,"body_markdown":"I have **swagger 2.8.0** and My POJO class is as follows,\r\n\r\n    public class Item {\r\n       \r\n       @JsonFormat(pattern=&quot;yyyy-MM-dd&quot;)\r\n       private LocalDate date;\r\n\r\n       @JsonFormat(pattern=&quot;HH:mm&quot;)\r\n       private LocalTime time;\r\n    \r\n       // other fields and Getters and Setters are omitted for brevity\r\n    }\r\n\r\nNow in the swagger-ui, in the example value section, my POJO model is shown as\r\n\r\n    \r\n    {\r\n      &quot;date&quot;: &quot;string&quot;,\r\n      &quot;time&quot;: {\r\n        &quot;hour&quot;: 0,\r\n        &quot;minute&quot;: 0,\r\n        &quot;nano&quot;: 0,\r\n        &quot;second&quot;: 0\r\n      }\r\n    }\r\n\r\nHow to show the LocalTime as a string in the swagger-ui?","title":"How to show Java8 LocalTime as a string in Swagger?","body":"<p>I have <strong>swagger 2.8.0</strong> and My POJO class is as follows,</p>\n\n<pre><code>public class Item {\n\n   @JsonFormat(pattern=\"yyyy-MM-dd\")\n   private LocalDate date;\n\n   @JsonFormat(pattern=\"HH:mm\")\n   private LocalTime time;\n\n   // other fields and Getters and Setters are omitted for brevity\n}\n</code></pre>\n\n<p>Now in the swagger-ui, in the example value section, my POJO model is shown as</p>\n\n<pre><code>{\n  \"date\": \"string\",\n  \"time\": {\n    \"hour\": 0,\n    \"minute\": 0,\n    \"nano\": 0,\n    \"second\": 0\n  }\n}\n</code></pre>\n\n<p>How to show the LocalTime as a string in the swagger-ui?</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9840,"page":77,"page_size":100}
