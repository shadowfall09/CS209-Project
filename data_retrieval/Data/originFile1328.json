{"items":[{"tags":["java","hashmap"],"comments":[{"owner":{"account_id":2819940,"reputation":12538,"user_id":2423906,"accept_rate":100,"display_name":"SedJ601"},"score":0,"creation_date":1653064001,"post_id":72321768,"comment_id":127767883,"body_markdown":"I am not sure I understand what you are trying to do here. Are you breaking your code and or explanation down in parts? -&gt; Initial state -&gt; find code -&gt; output -&gt; current output -&gt; expected output.","body":"I am not sure I understand what you are trying to do here. Are you breaking your code and or explanation down in parts? -&gt; Initial state -&gt; find code -&gt; output -&gt; current output -&gt; expected output."},{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":1,"creation_date":1653065659,"post_id":72321768,"comment_id":127768389,"body_markdown":"Why is your `find` function putting elements in the map? If you need to put elements, create a different function. This is CLEARLY a violation of Single Responsibility Principle and most likely the reason why your code is not working as intended.","body":"Why is your <code>find</code> function putting elements in the map? If you need to put elements, create a different function. This is CLEARLY a violation of Single Responsibility Principle and most likely the reason why your code is not working as intended."},{"owner":{"account_id":20967209,"reputation":1,"user_id":19162696,"display_name":"Vibhav"},"score":0,"creation_date":1653110627,"post_id":72321768,"comment_id":127776298,"body_markdown":"@SedJ601 I have explained different parts of the program:\n\nFirst entry that is going into the map-&gt; Key=&quot;&quot;, Value=[[]] .        Next entry that is going into the map-&gt; Key=&quot;2&quot;, Value=[[2]] .      But after first two entries, map is containing these entries-&gt; **{=[[2]], 2=[[2]]}** when it should have been   **{=[[]], 2=[[2]]}**","body":"@SedJ601 I have explained different parts of the program:  First entry that is going into the map-&gt; Key=&quot;&quot;, Value=[[]] .        Next entry that is going into the map-&gt; Key=&quot;2&quot;, Value=[[2]] .      But after first two entries, map is containing these entries-&gt; <b>{=[[2]], 2=[[2]]}</b> when it should have been   <b>{=[[]], 2=[[2]]}</b>"},{"owner":{"account_id":20967209,"reputation":1,"user_id":19162696,"display_name":"Vibhav"},"score":0,"creation_date":1653111015,"post_id":72321768,"comment_id":127776333,"body_markdown":"@hfontanez I have rectified that concern. Please check now.","body":"@hfontanez I have rectified that concern. Please check now."},{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":0,"creation_date":1653131340,"post_id":72321768,"comment_id":127779503,"body_markdown":"How? Looks basically the same to me.","body":"How? Looks basically the same to me."},{"owner":{"account_id":2819940,"reputation":12538,"user_id":2423906,"accept_rate":100,"display_name":"SedJ601"},"score":0,"creation_date":1653187784,"post_id":72321768,"comment_id":127788625,"body_markdown":"I ran your code. In the first input, you get a return of [2]. Break your code down into parts. `Find` should only find. You need an `Insert` method to only add elements to the `Map`. You got the `Find` method doing both. That is probably why your code is hard to follow and why you are having difficulty pinpointing your logical error.","body":"I ran your code. In the first input, you get a return of [2]. Break your code down into parts. <code>Find</code> should only find. You need an <code>Insert</code> method to only add elements to the <code>Map</code>. You got the <code>Find</code> method doing both. That is probably why your code is hard to follow and why you are having difficulty pinpointing your logical error."},{"owner":{"account_id":20967209,"reputation":1,"user_id":19162696,"display_name":"Vibhav"},"score":1,"creation_date":1653302696,"post_id":72321768,"comment_id":127810252,"body_markdown":"@SedJ601 Hey, thanks for the suggestion! I figured it out.","body":"@SedJ601 Hey, thanks for the suggestion! I figured it out."}],"owner":{"account_id":20967209,"reputation":1,"user_id":19162696,"display_name":"Vibhav"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":77,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1653134872,"creation_date":1653062355,"question_id":72321768,"body_markdown":"I have implemented program to find unique permutations of elements in input list. I have used backtracking and I am using map to prevent repetitive recursion.\r\n\r\nInitially, first entry in map is: `Key=&quot;&quot;, Value=[[]]`.\r\nHowever, when I add more entries, the value in first entry gets modified. I am not able to understand the reason.\r\n\r\nBelow is the code-\r\n```\r\npublic static void main(String[] ar){\r\n    \t\r\n \tList&lt;Integer&gt; l=new ArrayList&lt;&gt;();\r\n   \tl.add(1);\r\n   \tl.add(1);\r\n   \tl.add(2);\r\n    \t\r\n   \tfind(l);\r\n}\r\n    \r\nstatic Map&lt;String,List&lt;List&lt;Integer&gt;&gt;&gt; map=new HashMap&lt;&gt;();\r\n    \r\npublic static List&lt;List&lt;Integer&gt;&gt; find(List&lt;Integer&gt; numbers){\r\n  \tString s=&quot;&quot;;\r\n   \tfor(Integer i:numbers){\r\n   \t\ts+=Character.forDigit(i,10); \r\n   \t}\r\n\r\n   \tif(map.containsKey(s)){\r\n   \t\tSystem.out.println(map.get(s));\r\n   \t\treturn map.get(s);\r\n   \t}\r\n   \telse if(numbers.isEmpty()){\r\n   \t\tList&lt;List&lt;Integer&gt;&gt; list=new ArrayList&lt;&gt;();\r\n   \t\tList&lt;Integer&gt; l=new ArrayList&lt;&gt;();\r\n   \t\tlist.add(l);\r\n   \t\t//System.out.println(list);\r\n   \t\tupdateMap(&quot;&quot;, list);\r\n   \t\t\r\n   \t\treturn list;\r\n   \t}\r\n    \t\r\n   \tList&lt;List&lt;Integer&gt;&gt; result=new ArrayList&lt;&gt;();\r\n   \tList&lt;Integer&gt; list=new ArrayList&lt;&gt;(numbers);\r\n   \tSet&lt;Integer&gt; set=new HashSet&lt;&gt;();\r\n    \t\r\n   \tfor(int i=0;i&lt;numbers.size();i++){\r\n   \t\tif(!set.contains(numbers.get(i))){\r\n   \t\t\tset.add(numbers.get(i));\r\n   \t\t\r\n    \t\tlist.remove(i);\r\n\t    \t\t\r\n    \t\tList&lt;List&lt;Integer&gt;&gt; li=find(list);\r\n    \t\tfor(List it:li){\r\n    \t\t\tit.add(0, numbers.get(i));\r\n    \t\t\tSystem.out.println(it);\r\n    \t\t\tresult.add(it);\r\n    \t\t}\r\n    \t\t\r\n    \t\tlist.add(i, numbers.get(i));\r\n   \t\t}\r\n   \t}\r\n    \t\r\n   \tSystem.out.println(&quot;Result &quot;+result);\r\n   \tupdateMap(s,result);\r\n    \t\r\n   \treturn result;\r\n}\r\n    \r\npublic static void updateMap(String s,List&lt;List&lt;Integer&gt;&gt; result){\r\n   \tmap.put(s, result);\r\n   \tSystem.out.println(&quot;Put in map &quot;+map);\r\n}\r\n```\r\nFollowing is the result after first 2 steps-\r\n```\r\nFirst entry-&gt; =[[]]\r\nmap {=[[]]}\r\n\r\nSecond entry-&gt; 2=[[2]]\r\nmap {=[[2]], 2=[[2]]} -&gt; it should have been {=[[]], 2=[[2]]}\r\n```","title":"Static HashMap giving incorrect result","body":"<p>I have implemented program to find unique permutations of elements in input list. I have used backtracking and I am using map to prevent repetitive recursion.</p>\n<p>Initially, first entry in map is: <code>Key=&quot;&quot;, Value=[[]]</code>.\nHowever, when I add more entries, the value in first entry gets modified. I am not able to understand the reason.</p>\n<p>Below is the code-</p>\n<pre><code>public static void main(String[] ar){\n        \n    List&lt;Integer&gt; l=new ArrayList&lt;&gt;();\n    l.add(1);\n    l.add(1);\n    l.add(2);\n        \n    find(l);\n}\n    \nstatic Map&lt;String,List&lt;List&lt;Integer&gt;&gt;&gt; map=new HashMap&lt;&gt;();\n    \npublic static List&lt;List&lt;Integer&gt;&gt; find(List&lt;Integer&gt; numbers){\n    String s=&quot;&quot;;\n    for(Integer i:numbers){\n        s+=Character.forDigit(i,10); \n    }\n\n    if(map.containsKey(s)){\n        System.out.println(map.get(s));\n        return map.get(s);\n    }\n    else if(numbers.isEmpty()){\n        List&lt;List&lt;Integer&gt;&gt; list=new ArrayList&lt;&gt;();\n        List&lt;Integer&gt; l=new ArrayList&lt;&gt;();\n        list.add(l);\n        //System.out.println(list);\n        updateMap(&quot;&quot;, list);\n        \n        return list;\n    }\n        \n    List&lt;List&lt;Integer&gt;&gt; result=new ArrayList&lt;&gt;();\n    List&lt;Integer&gt; list=new ArrayList&lt;&gt;(numbers);\n    Set&lt;Integer&gt; set=new HashSet&lt;&gt;();\n        \n    for(int i=0;i&lt;numbers.size();i++){\n        if(!set.contains(numbers.get(i))){\n            set.add(numbers.get(i));\n        \n            list.remove(i);\n                \n            List&lt;List&lt;Integer&gt;&gt; li=find(list);\n            for(List it:li){\n                it.add(0, numbers.get(i));\n                System.out.println(it);\n                result.add(it);\n            }\n            \n            list.add(i, numbers.get(i));\n        }\n    }\n        \n    System.out.println(&quot;Result &quot;+result);\n    updateMap(s,result);\n        \n    return result;\n}\n    \npublic static void updateMap(String s,List&lt;List&lt;Integer&gt;&gt; result){\n    map.put(s, result);\n    System.out.println(&quot;Put in map &quot;+map);\n}\n</code></pre>\n<p>Following is the result after first 2 steps-</p>\n<pre><code>First entry-&gt; =[[]]\nmap {=[[]]}\n\nSecond entry-&gt; 2=[[2]]\nmap {=[[2]], 2=[[2]]} -&gt; it should have been {=[[]], 2=[[2]]}\n</code></pre>\n"},{"tags":["java","eclipse","worldwind"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1652883679,"post_id":72280611,"comment_id":127715358,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."},{"owner":{"account_id":23161150,"reputation":35,"user_id":17261785,"display_name":"GenesysRTA"},"score":0,"creation_date":1653134226,"post_id":72280611,"comment_id":127795124,"body_markdown":"For anyone having this issue, you can find the resolve on GitHub/WorldWind at this link: https://github.com/NASAWorldWind/WorldWindJava/issues/195","body":"For anyone having this issue, you can find the resolve on GitHub/WorldWind at this link: <a href=\"https://github.com/NASAWorldWind/WorldWindJava/issues/195\" rel=\"nofollow noreferrer\">github.com/NASAWorldWind/WorldWindJava/issues/195</a>"}],"owner":{"account_id":23161150,"reputation":35,"user_id":17261785,"display_name":"GenesysRTA"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1653134226,"creation_date":1652821075,"question_id":72280611,"body_markdown":"As mentioned in the question, my WorldWind application renders the globe and all my window elements in a bizarre manner. It seems to be anchored in the bottom left corner. I attach an image as an example. I mention that I am running it on a laptop with Windows 11 using Eclipse and that the app works just fine on my PC with Windows 10. The thing is I need this program to be on my laptop... Any help would be appreciated.\r\n\r\nThanks!\r\n[WorldWindApp.png][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/6o0Ra.png","title":"Does somebody know why WorldWind opens up this way?","body":"<p>As mentioned in the question, my WorldWind application renders the globe and all my window elements in a bizarre manner. It seems to be anchored in the bottom left corner. I attach an image as an example. I mention that I am running it on a laptop with Windows 11 using Eclipse and that the app works just fine on my PC with Windows 10. The thing is I need this program to be on my laptop... Any help would be appreciated.</p>\n<p>Thanks!\n<a href=\"https://i.stack.imgur.com/6o0Ra.png\" rel=\"nofollow noreferrer\">WorldWindApp.png</a></p>\n"},{"tags":["java","android","gradle","ionic-framework"],"comments":[{"owner":{"account_id":7813562,"reputation":3206,"user_id":5909026,"accept_rate":45,"display_name":"Najam Us Saqib"},"score":0,"creation_date":1652106621,"post_id":72171004,"comment_id":127519396,"body_markdown":"Check `root &gt; resources &gt; android &gt; xml` folder in your project. if not then google how to add network security file in cordova project.","body":"Check <code>root &gt; resources &gt; android &gt; xml</code> folder in your project. if not then google how to add network security file in cordova project."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1652124051,"post_id":72171004,"comment_id":127525626,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"owner":{"account_id":25242109,"reputation":1,"user_id":19075851,"display_name":"fizer"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1653134146,"creation_date":1652094558,"question_id":72171004,"body_markdown":"I have a issue with:\r\n-ionic cordova build android,\r\nI get:\r\n\r\n FAILED\r\n\r\nFAILURE: Build failed with an exception.\r\n\r\n* What went wrong:\r\nExecution failed for task &#39;:processDebugResources&#39;.\r\n&gt; com.android.ide.common.process.ProcessException: Failed to execute aapt\r\n\r\n* Try:\r\nRun with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output.\r\n\r\nBUILD FAILED\r\n\r\nTotal time: 1.952 secs\r\ncmd: Command failed with exit code 1 Error output:\r\nC:\\Users\\mpta\\Desktop\\projekt\\AssemblyApp\\platforms\\android\\res\\xml\\config.xml:32:53-81: AAPT: No resource found that matches the given name (at &#39;networkSecurityConfig&#39; with value &#39;@xml/network_security_config&#39;).\r\n\r\nC:\\Users\\mpta\\Desktop\\projekt\\AssemblyApp\\platforms\\android\\build\\intermediates\\res\\merged\\debug\\xml\\config.xml:32: error: Error: No resource found that matches the given name (at &#39;networkSecurityConfig&#39; with value &#39;@xml/network_security_config&#39;).\r\n\r\n\r\n\r\nFAILURE: Build failed with an exception.\r\n\r\n* What went wrong:\r\nExecution failed for task &#39;:processDebugResources&#39;.\r\n&gt; com.android.ide.common.process.ProcessException: Failed to execute aapt\r\n\r\n* Try:\r\nRun with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output.\r\n[ERROR] An error occurred while running subprocess cordova.\r\n\r\n        cordova.cmd build android exited with exit code 1.\r\n\r\n        Re-running this command with the --verbose flag may provide more information.\r\n\r\nI have tried many options,and any solutions doesn&#39;t work to me.\r\n","title":"Execution failed for task &#39;:processDebugResources&#39;","body":"<p>I have a issue with:\n-ionic cordova build android,\nI get:</p>\n<p>FAILED</p>\n<p>FAILURE: Build failed with an exception.</p>\n<ul>\n<li>What went wrong:\nExecution failed for task ':processDebugResources'.</li>\n</ul>\n<blockquote>\n<p>com.android.ide.common.process.ProcessException: Failed to execute aapt</p>\n</blockquote>\n<ul>\n<li>Try:\nRun with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output.</li>\n</ul>\n<p>BUILD FAILED</p>\n<p>Total time: 1.952 secs\ncmd: Command failed with exit code 1 Error output:\nC:\\Users\\mpta\\Desktop\\projekt\\AssemblyApp\\platforms\\android\\res\\xml\\config.xml:32:53-81: AAPT: No resource found that matches the given name (at 'networkSecurityConfig' with value '@xml/network_security_config').</p>\n<p>C:\\Users\\mpta\\Desktop\\projekt\\AssemblyApp\\platforms\\android\\build\\intermediates\\res\\merged\\debug\\xml\\config.xml:32: error: Error: No resource found that matches the given name (at 'networkSecurityConfig' with value '@xml/network_security_config').</p>\n<p>FAILURE: Build failed with an exception.</p>\n<ul>\n<li>What went wrong:\nExecution failed for task ':processDebugResources'.</li>\n</ul>\n<blockquote>\n<p>com.android.ide.common.process.ProcessException: Failed to execute aapt</p>\n</blockquote>\n<ul>\n<li><p>Try:\nRun with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output.\n[ERROR] An error occurred while running subprocess cordova.</p>\n<pre><code>  cordova.cmd build android exited with exit code 1.\n\n  Re-running this command with the --verbose flag may provide more information.\n</code></pre>\n</li>\n</ul>\n<p>I have tried many options,and any solutions doesn't work to me.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":2772450,"reputation":22416,"user_id":2386774,"display_name":"JeffC"},"score":3,"creation_date":1442717318,"post_id":32675238,"comment_id":53195885,"body_markdown":"What have you tried and what was the result? As you did in school... please show your work. :) It&#39;s part of the process of getting questions answered on SO. It&#39;s helpful to you because it forces you to investigate your own problem and think it through. It also proves to readers that you did your homework and made a reasonable attempt to answer your own question. Thirdly, it helps readers find and diagnose the problem resulting in a better answer for you and less time wasted for us.","body":"What have you tried and what was the result? As you did in school... please show your work. :) It&#39;s part of the process of getting questions answered on SO. It&#39;s helpful to you because it forces you to investigate your own problem and think it through. It also proves to readers that you did your homework and made a reasonable attempt to answer your own question. Thirdly, it helps readers find and diagnose the problem resulting in a better answer for you and less time wasted for us."}],"answers":[{"tags":[],"owner":{"account_id":5048364,"reputation":27671,"user_id":4053652,"display_name":"Stanislav"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1442728758,"creation_date":1442727831,"answer_id":32676223,"question_id":32675238,"body_markdown":"The Queue interface could not be used to traverse it&#39;s values or get a value by it&#39;s position, without removing elements from queue. Take a look at [JavaDoc for it&#39;s methods][1].\r\n\r\nBut as long as it implements LinkedList in your case, you are able to cast your queue to List or even to LinkedList, if you need it&#39;s specific behaviour, and use it as you need it. For example, with simle List:\r\n\r\n    List list = (LinkedList) queue;\r\n    //print all content\r\n    for (String temp : list) {\r\n      System.out.println(temp);\r\n\t}\r\n    //get the second element in a list\r\n    String value = list.get(1);\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/util/Queue.html","title":"Deque get a value by its position","body":"<p>The Queue interface could not be used to traverse it's values or get a value by it's position, without removing elements from queue. Take a look at <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/Queue.html\" rel=\"nofollow\">JavaDoc for it's methods</a>.</p>\n\n<p>But as long as it implements LinkedList in your case, you are able to cast your queue to List or even to LinkedList, if you need it's specific behaviour, and use it as you need it. For example, with simle List:</p>\n\n<pre><code>List list = (LinkedList) queue;\n//print all content\nfor (String temp : list) {\n  System.out.println(temp);\n}\n//get the second element in a list\nString value = list.get(1);\n</code></pre>\n"}],"owner":{"account_id":6724714,"reputation":123,"user_id":5183209,"accept_rate":73,"display_name":"2Hash"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13873,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"closed_date":1442733995,"accepted_answer_id":32676223,"answer_count":1,"score":6,"last_activity_date":1653133895,"creation_date":1442717084,"question_id":32675238,"body_markdown":"How would I be able to return a list of queues and get the second one in line?\r\nHow would I return a value by its position with Deque?\r\n\r\nExample:\r\n\r\n    Deque queue = new LinkedList();\r\n\r\n    public void QueneTesting(){\r\n      queue.add(&quot;First in line&quot;);\r\n      quene.add(&quot;Second in line&quot;);\r\n      quene.add(&quot;Third in line&quot;);\r\n    }\r\n\r\n\r\n","title":"Deque get a value by its position","body":"<p>How would I be able to return a list of queues and get the second one in line?\nHow would I return a value by its position with Deque?</p>\n<p>Example:</p>\n<pre><code>Deque queue = new LinkedList();\n\npublic void QueneTesting(){\n  queue.add(&quot;First in line&quot;);\n  quene.add(&quot;Second in line&quot;);\n  quene.add(&quot;Third in line&quot;);\n}\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":2,"creation_date":1653133923,"post_id":72329269,"comment_id":127779948,"body_markdown":"You&#39;re initializing it as a raw type: `routers = new ArrayList();`. Oh yeah, you&#39;re missing generics in a load of places.","body":"You&#39;re initializing it as a raw type: <code>routers = new ArrayList();</code>. Oh yeah, you&#39;re missing generics in a load of places."},{"owner":{"account_id":9059972,"reputation":3080,"user_id":6746785,"display_name":"gthanop"},"score":5,"creation_date":1653133944,"post_id":72329269,"comment_id":127779951,"body_markdown":"`List getRouters()` should be `List&lt;Router&gt; getRouters()`. `setRouters(List routers)` should correspondingly be `setRouters(List&lt;Router&gt; routers)`.","body":"<code>List getRouters()</code> should be <code>List&lt;Router&gt; getRouters()</code>. <code>setRouters(List routers)</code> should correspondingly be <code>setRouters(List&lt;Router&gt; routers)</code>."},{"owner":{"account_id":19781140,"reputation":171,"user_id":14486133,"display_name":"Aldomond"},"score":0,"creation_date":1653134834,"post_id":72329269,"comment_id":127780094,"body_markdown":"@gthanop Thank you, can&#39;t believe that this was such a stupid mistake.","body":"@gthanop Thank you, can&#39;t believe that this was such a stupid mistake."}],"owner":{"account_id":19781140,"reputation":171,"user_id":14486133,"display_name":"Aldomond"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":141,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1653133798,"creation_date":1653133798,"question_id":72329269,"body_markdown":"I have been playing around and beginning to make my project, although at the very beginning I am getting the following error: \r\nMain.java:21: warning: [unchecked] unchecked call to add(E) as a member of the raw type List\r\n        network.getRouters().add(routerA); &lt;br&gt; And this error continues for all of my attempts trying to add a Router to the list in Main.java &lt;br&gt;\r\nThis is my Main.java:\r\n\r\n    import java.util.Scanner;\r\n    \r\n    public class Main {\r\n    \r\n        public static void main(String[] args) {\r\n    \t\tNetwork network = new Network();\r\n    \t\t\r\n             setData(network);         \r\n        }\r\n    \r\n        public static void setData(Network network) {\r\n            Router routerA = new Router(1);\r\n            Router routerB = new Router(2);\r\n            Router routerC = new Router(3);\r\n            Router routerD = new Router(4);\r\n            Router routerE = new Router(5);\r\n            Router routerF = new Router(6);\r\n            Router routerG = new Router(7);\r\n            Router routerH = new Router(8);\r\n    \r\n            network.getRouters().add(routerA);\r\n            network.getRouters().add(routerB);\r\n            network.getRouters().add(routerC);\r\n            network.getRouters().add(routerD);\r\n            network.getRouters().add(routerE);\r\n            network.getRouters().add(routerF);\r\n            network.getRouters().add(routerG);\r\n            network.getRouters().add(routerH);\r\n    \r\n        }\r\n    }\r\n    \r\nThis is Network.java:\r\n\r\n    import java.util.ArrayList;\r\n    import java.util.Enumeration;\r\n    import java.util.List;\r\n    \r\n    public class Network {\r\n    \r\n        private List&lt;Router&gt; routers;\r\n    \t\r\n    \tpublic Network() {\r\n            routers = new ArrayList();\r\n        }\r\n    \r\n        public List getRouters() {\r\n            return routers;\r\n        }\r\n    \r\n        public void setRouters(List routers) {\r\n            this.routers = routers;\r\n        }\r\n    }\r\nAnd this is Router.java:\r\n\r\n    import java.util.ArrayList;\r\n    import java.util.Hashtable;\r\n    import java.util.List;\r\n    \r\n    public class Router {\r\n    \r\n        public int id;\r\n        public List&lt;Neighbour&gt; neighbours;\r\n        public Hashtable&lt;Router, Table&gt; table;\r\n    \r\n        public Router(int id) {\r\n            this.id = id;\r\n            neighbours = new ArrayList&lt;&gt;();\r\n            table = new Hashtable&lt;&gt;();\r\n        }\r\n    \r\n        public int getId() {\r\n            return id;\r\n        }\r\n    \r\n        public void setId(int id) {\r\n            this.id = id;\r\n        }\r\n    }\r\n\r\nSo that error doesn&#39;t like this part:\r\n\r\n    network.getRouters().add(routerA);\r\n    network.getRouters().add(routerB);\r\n    network.getRouters().add(routerC);\r\n    network.getRouters().add(routerD);\r\n    network.getRouters().add(routerE);\r\n    network.getRouters().add(routerF);\r\n    network.getRouters().add(routerG);\r\n    network.getRouters().add(routerH);\r\n\r\nWhy am I unable to insert a Router into a list, that has been declared as `private List&lt;Router&gt; routers;` in Network.java? This error tells me, that the List has a raw type, although that list does have a type which is `Router` so perhaps I am missing something here and I don&#39;t know what.","title":"warning: [unchecked] unchecked call to add(E) as a member of the raw type List","body":"<p>I have been playing around and beginning to make my project, although at the very beginning I am getting the following error:\nMain.java:21: warning: [unchecked] unchecked call to add(E) as a member of the raw type List\nnetwork.getRouters().add(routerA); <br> And this error continues for all of my attempts trying to add a Router to the list in Main.java <br>\nThis is my Main.java:</p>\n<pre><code>import java.util.Scanner;\n\npublic class Main {\n\n    public static void main(String[] args) {\n        Network network = new Network();\n        \n         setData(network);         \n    }\n\n    public static void setData(Network network) {\n        Router routerA = new Router(1);\n        Router routerB = new Router(2);\n        Router routerC = new Router(3);\n        Router routerD = new Router(4);\n        Router routerE = new Router(5);\n        Router routerF = new Router(6);\n        Router routerG = new Router(7);\n        Router routerH = new Router(8);\n\n        network.getRouters().add(routerA);\n        network.getRouters().add(routerB);\n        network.getRouters().add(routerC);\n        network.getRouters().add(routerD);\n        network.getRouters().add(routerE);\n        network.getRouters().add(routerF);\n        network.getRouters().add(routerG);\n        network.getRouters().add(routerH);\n\n    }\n}\n</code></pre>\n<p>This is Network.java:</p>\n<pre><code>import java.util.ArrayList;\nimport java.util.Enumeration;\nimport java.util.List;\n\npublic class Network {\n\n    private List&lt;Router&gt; routers;\n    \n    public Network() {\n        routers = new ArrayList();\n    }\n\n    public List getRouters() {\n        return routers;\n    }\n\n    public void setRouters(List routers) {\n        this.routers = routers;\n    }\n}\n</code></pre>\n<p>And this is Router.java:</p>\n<pre><code>import java.util.ArrayList;\nimport java.util.Hashtable;\nimport java.util.List;\n\npublic class Router {\n\n    public int id;\n    public List&lt;Neighbour&gt; neighbours;\n    public Hashtable&lt;Router, Table&gt; table;\n\n    public Router(int id) {\n        this.id = id;\n        neighbours = new ArrayList&lt;&gt;();\n        table = new Hashtable&lt;&gt;();\n    }\n\n    public int getId() {\n        return id;\n    }\n\n    public void setId(int id) {\n        this.id = id;\n    }\n}\n</code></pre>\n<p>So that error doesn't like this part:</p>\n<pre><code>network.getRouters().add(routerA);\nnetwork.getRouters().add(routerB);\nnetwork.getRouters().add(routerC);\nnetwork.getRouters().add(routerD);\nnetwork.getRouters().add(routerE);\nnetwork.getRouters().add(routerF);\nnetwork.getRouters().add(routerG);\nnetwork.getRouters().add(routerH);\n</code></pre>\n<p>Why am I unable to insert a Router into a list, that has been declared as <code>private List&lt;Router&gt; routers;</code> in Network.java? This error tells me, that the List has a raw type, although that list does have a type which is <code>Router</code> so perhaps I am missing something here and I don't know what.</p>\n"},{"tags":["java","file","sorting","text-files"],"comments":[{"owner":{"account_id":5534380,"reputation":268,"user_id":4472711,"display_name":"MNEMO"},"score":2,"creation_date":1653028635,"post_id":72314505,"comment_id":127755108,"body_markdown":"output text file&#39;s containing long lines means your output method calls are not adding newlines appropriately, I suppose. Show your &quot;reproducible example&quot; here to describe your &quot;real&quot; problem.","body":"output text file&#39;s containing long lines means your output method calls are not adding newlines appropriately, I suppose. Show your &quot;reproducible example&quot; here to describe your &quot;real&quot; problem."},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":1,"creation_date":1653053141,"post_id":72314505,"comment_id":127763523,"body_markdown":"Please share your attempt. [Edit](https://stackoverflow.com/posts/72314505/edit) the question and provide your existing code as a text with the appropriate formatting applied.","body":"Please share your attempt. <a href=\"https://stackoverflow.com/posts/72314505/edit\">Edit</a> the question and provide your existing code as a text with the appropriate formatting applied."}],"answers":[{"tags":[],"owner":{"account_id":24478217,"reputation":1,"user_id":18397003,"display_name":"ginola"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653132637,"creation_date":1653132637,"answer_id":72329139,"question_id":72314505,"body_markdown":"You can easily sort records in a text file and export the result to another txt file with [esProc SPL][1](a java based open-source scripting language for data processing):\r\n\r\nIIUC,the data.txt like this:\r\n\r\n    PID1,POND^AMY,F,19890224 PID2,WILLIAMS^RORY,M,19881102 PID3,POND^AMY,F,19890224 PID4,POND^AMY,F,20010911\r\n\r\nand you wanna sort records by the 2nd field(POND^AMY,WILLIAMS^RORY) and the result.txt like this:\r\n\r\n    0: PID1,POND^AMY,F,19890224 PID3,POND^AMY,F,19890224 PID4,POND^AMY,F,20010911 1: PID2,WILLIAMS^RORY,M,19881102\r\n\r\nSPL code:\r\n\t\r\n\t=file(&quot;result.txt&quot;).write(file(&quot;data.txt&quot;).read().split(&quot; &quot;).group(~.split@c()(2)).((#-1)/&quot;: &quot;/~.concat(&quot; &quot;)).concat(&quot; &quot;))\r\n\r\nSPL offers JDBC driver to be invoked by Java. Just store the above SPL script as sort.splx and invoke it in a Java application as you call a stored procedure:\r\n\r\n    ...\r\n    Class.forName(&quot;com.esproc.jdbc.InternalDriver&quot;);\r\n    con = DriverManager.getConnection(&quot;jdbc:esproc:local://&quot;);\r\n    st = con.prepareCall(&quot;call sort.splx()&quot;);\r\n\tst.execute();\r\n    ...\r\n\r\nwith\r\n\r\n    &lt;!-- https://mvnrepository.com/artifact/com.scudata.esproc/esproc --&gt;\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;com.scudata.esproc&lt;/groupId&gt;\r\n        &lt;artifactId&gt;esproc&lt;/artifactId&gt;\r\n        &lt;version&gt;20220402&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nYou can also execute the SPL code within a Java program as we execute a SQL statement:\r\n    \r\n\t...\r\n\tst = con.prepareStatement(&quot;==file(\\&quot;result.txt\\&quot;).export@c(file(\\&quot;data.txt\\&quot;).import@c().sort(_2))&quot;);\r\n    st.execute();\r\n\t...\r\n\t\r\nOr if your txt actually is a csv format like this:\r\n\r\n    PID1,POND^AMY,F,19890224\r\n    PID2,WILLIAMS^RORY,M,19881102\r\n    PID3,POND^AMY,F,19890224\r\n    PID4,POND^AMY,F,20010911\r\n\r\nand you wanna get the result.txt like this:\r\n\r\n    PID1,POND^AMY,F,19890224\r\n    PID3,POND^AMY,F,19890224\r\n    PID4,POND^AMY,F,20010911\r\n\tPID2,WILLIAMS^RORY,M,19881102\r\n\t\r\nuse this SPL code:\r\n\r\n\t=file(&quot;result.txt&quot;).export@c(file(&quot;data.txt&quot;).import@c().sort(_2))\r\n\r\n  [1]: https://github.com/SPLWare/esProc","title":"How do I sort records in a text file and how to print other txt file using Java?","body":"<p>You can easily sort records in a text file and export the result to another txt file with <a href=\"https://github.com/SPLWare/esProc\" rel=\"nofollow noreferrer\">esProc SPL</a>(a java based open-source scripting language for data processing):</p>\n<p>IIUC,the data.txt like this:</p>\n<pre><code>PID1,POND^AMY,F,19890224 PID2,WILLIAMS^RORY,M,19881102 PID3,POND^AMY,F,19890224 PID4,POND^AMY,F,20010911\n</code></pre>\n<p>and you wanna sort records by the 2nd field(POND^AMY,WILLIAMS^RORY) and the result.txt like this:</p>\n<pre><code>0: PID1,POND^AMY,F,19890224 PID3,POND^AMY,F,19890224 PID4,POND^AMY,F,20010911 1: PID2,WILLIAMS^RORY,M,19881102\n</code></pre>\n<p>SPL code:</p>\n<pre><code>=file(&quot;result.txt&quot;).write(file(&quot;data.txt&quot;).read().split(&quot; &quot;).group(~.split@c()(2)).((#-1)/&quot;: &quot;/~.concat(&quot; &quot;)).concat(&quot; &quot;))\n</code></pre>\n<p>SPL offers JDBC driver to be invoked by Java. Just store the above SPL script as sort.splx and invoke it in a Java application as you call a stored procedure:</p>\n<pre><code>...\nClass.forName(&quot;com.esproc.jdbc.InternalDriver&quot;);\ncon = DriverManager.getConnection(&quot;jdbc:esproc:local://&quot;);\nst = con.prepareCall(&quot;call sort.splx()&quot;);\nst.execute();\n...\n</code></pre>\n<p>with</p>\n<pre><code>&lt;!-- https://mvnrepository.com/artifact/com.scudata.esproc/esproc --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;com.scudata.esproc&lt;/groupId&gt;\n    &lt;artifactId&gt;esproc&lt;/artifactId&gt;\n    &lt;version&gt;20220402&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>You can also execute the SPL code within a Java program as we execute a SQL statement:</p>\n<pre><code>...\nst = con.prepareStatement(&quot;==file(\\&quot;result.txt\\&quot;).export@c(file(\\&quot;data.txt\\&quot;).import@c().sort(_2))&quot;);\nst.execute();\n...\n</code></pre>\n<p>Or if your txt actually is a csv format like this:</p>\n<pre><code>PID1,POND^AMY,F,19890224\nPID2,WILLIAMS^RORY,M,19881102\nPID3,POND^AMY,F,19890224\nPID4,POND^AMY,F,20010911\n</code></pre>\n<p>and you wanna get the result.txt like this:</p>\n<pre><code>PID1,POND^AMY,F,19890224\nPID3,POND^AMY,F,19890224\nPID4,POND^AMY,F,20010911\nPID2,WILLIAMS^RORY,M,19881102\n</code></pre>\n<p>use this SPL code:</p>\n<pre><code>=file(&quot;result.txt&quot;).export@c(file(&quot;data.txt&quot;).import@c().sort(_2))\n</code></pre>\n"}],"owner":{"account_id":22231643,"reputation":1,"user_id":16467696,"display_name":"Nik"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":114,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1653132637,"creation_date":1653028383,"question_id":72314505,"body_markdown":"Some amendments to the data in the text file. I have tried the suggested code but I&#39;m not successfully writing it again in the txt file with this format. I&#39;ve tried the collection. sort but it writes the data in long lines.\r\n\r\nMy txt file contains these data:\r\n\r\nPID1,POND^AMY,F,19890224\r\nPID2,WILLIAMS^RORY,M,19881102\r\nPID3,POND^AMY,F,19890224\r\nPID4,POND^AMY,F,20010911\r\n\r\nHow can I sort those data in ascending order and store them again in a txt file after sorting?\r\n\r\n0:\r\nPID1,POND^AMY,F,19890224\r\nPID3,POND^AMY,F,19890224\r\nPID4,POND^AMY,F,20010911\r\n1:\r\nPID2,WILLIAMS^RORY,M,19881102","title":"How do I sort records in a text file and how to print other txt file using Java?","body":"<p>Some amendments to the data in the text file. I have tried the suggested code but I'm not successfully writing it again in the txt file with this format. I've tried the collection. sort but it writes the data in long lines.</p>\n<p>My txt file contains these data:</p>\n<p>PID1,POND^AMY,F,19890224\nPID2,WILLIAMS^RORY,M,19881102\nPID3,POND^AMY,F,19890224\nPID4,POND^AMY,F,20010911</p>\n<p>How can I sort those data in ascending order and store them again in a txt file after sorting?</p>\n<p>0:\nPID1,POND^AMY,F,19890224\nPID3,POND^AMY,F,19890224\nPID4,POND^AMY,F,20010911\n1:\nPID2,WILLIAMS^RORY,M,19881102</p>\n"},{"tags":["java","api","rabbitmq","spring-rabbit"],"answers":[{"tags":[],"owner":{"account_id":25063070,"reputation":11,"user_id":18917712,"display_name":"GrayNeel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653052443,"creation_date":1653052443,"answer_id":72319544,"question_id":72319422,"body_markdown":"This problem may be due to the fact that you are listening on the wrong port or a firewall is blocking your connection. Make sure your RabbitMQ broker is up and listening on port 5672 and that the firewall allows tcp connections to that port.","title":"Getting a strange Rabbitmq error when I start my Spring Boot server","body":"<p>This problem may be due to the fact that you are listening on the wrong port or a firewall is blocking your connection. Make sure your RabbitMQ broker is up and listening on port 5672 and that the firewall allows tcp connections to that port.</p>\n"}],"owner":{"account_id":15139456,"reputation":77,"user_id":10924902,"display_name":"youssef manyalawy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2168,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1653132276,"creation_date":1653051985,"question_id":72319422,"body_markdown":"I am trying to create a Spring Boot endpoint that consumes a message from a queue, this is my code:\r\n\r\n    @PostMapping(&quot;test&quot;)\r\n    @RabbitListener(queues = &quot;test-queue&quot;)\r\n    public String test(@RequestBody String body, String in) {\r\n        ConnectionFactory connectionFactory = new CachingConnectionFactory();\r\n        AmqpAdmin admin = new RabbitAdmin(connectionFactory);\r\n        admin.declareQueue(new Queue(&quot;test-queue&quot;));\r\n        return in;\r\n    }\r\n\r\nHowever, I get a really strange warning when I start the Spring Boot application:\r\n\r\n    2022-05-20 14:58:40.713  WARN 78294 --- [92.168.1.3:5672] c.r.c.impl.ForgivingExceptionHandler     : An unexpected connection driver error occurred (Exception message: Socket closed)\r\n    2022-05-20 14:58:40.719  WARN 78294 --- [e01:f475%4:5672] c.r.c.impl.ForgivingExceptionHandler     : An unexpected connection driver error occurred (Exception message: Socket closed)\r\n    2022-05-20 14:58:40.726  WARN 78294 --- [e01:f474%5:5672] c.r.c.impl.ForgivingExceptionHandler     : An unexpected connection driver error occurred (Exception message: Socket closed)\r\n    2022-05-20 14:58:40.730  WARN 78294 --- [dc:4823%12:5672] c.r.c.impl.ForgivingExceptionHandler     : An unexpected connection driver error occurred (Exception message: Socket closed)\r\n    2022-05-20 14:59:40.769  WARN 78294 --- [80:5beb%14:5672] c.r.c.impl.ForgivingExceptionHandler     : An unexpected connection driver error occurred (Exception message: Socket closed)\r\n\r\nHow can I fix this?\r\n","title":"Getting a strange Rabbitmq error when I start my Spring Boot server","body":"<p>I am trying to create a Spring Boot endpoint that consumes a message from a queue, this is my code:</p>\n<pre><code>@PostMapping(&quot;test&quot;)\n@RabbitListener(queues = &quot;test-queue&quot;)\npublic String test(@RequestBody String body, String in) {\n    ConnectionFactory connectionFactory = new CachingConnectionFactory();\n    AmqpAdmin admin = new RabbitAdmin(connectionFactory);\n    admin.declareQueue(new Queue(&quot;test-queue&quot;));\n    return in;\n}\n</code></pre>\n<p>However, I get a really strange warning when I start the Spring Boot application:</p>\n<pre><code>2022-05-20 14:58:40.713  WARN 78294 --- [92.168.1.3:5672] c.r.c.impl.ForgivingExceptionHandler     : An unexpected connection driver error occurred (Exception message: Socket closed)\n2022-05-20 14:58:40.719  WARN 78294 --- [e01:f475%4:5672] c.r.c.impl.ForgivingExceptionHandler     : An unexpected connection driver error occurred (Exception message: Socket closed)\n2022-05-20 14:58:40.726  WARN 78294 --- [e01:f474%5:5672] c.r.c.impl.ForgivingExceptionHandler     : An unexpected connection driver error occurred (Exception message: Socket closed)\n2022-05-20 14:58:40.730  WARN 78294 --- [dc:4823%12:5672] c.r.c.impl.ForgivingExceptionHandler     : An unexpected connection driver error occurred (Exception message: Socket closed)\n2022-05-20 14:59:40.769  WARN 78294 --- [80:5beb%14:5672] c.r.c.impl.ForgivingExceptionHandler     : An unexpected connection driver error occurred (Exception message: Socket closed)\n</code></pre>\n<p>How can I fix this?</p>\n"},{"tags":["java","c#","encryption","bouncycastle","porting"],"comments":[{"owner":{"account_id":109518,"reputation":1863,"user_id":290136,"accept_rate":89,"display_name":"cryptic_star"},"score":0,"creation_date":1443017596,"post_id":32741513,"comment_id":53324694,"body_markdown":"It would be helpful to more explicitly state what problem you&#39;re having translating between Java and C#.","body":"It would be helpful to more explicitly state what problem you&#39;re having translating between Java and C#."},{"owner":{"account_id":85671,"reputation":40858,"user_id":238704,"display_name":"President James K. Polk"},"score":0,"creation_date":1443057156,"post_id":32741513,"comment_id":53344189,"body_markdown":"I don&#39;t see anything either. It looks like you may have to write your own code from scratch, or extract the keys from a Java program and write them to a C# keystore format. It looks like BouncyCastle C# supports a PKCS12Store, though I&#39;m not sure if that supports secret keys.","body":"I don&#39;t see anything either. It looks like you may have to write your own code from scratch, or extract the keys from a Java program and write them to a C# keystore format. It looks like BouncyCastle C# supports a PKCS12Store, though I&#39;m not sure if that supports secret keys."},{"owner":{"account_id":6605,"reputation":61212,"user_id":11182,"display_name":"Lex Li"},"score":0,"creation_date":1443061859,"post_id":32741513,"comment_id":53345266,"body_markdown":"C# or .NET in general uses Windows built in support for certificate stores and so forth, so you will have to relevant API to replace that.","body":"C# or .NET in general uses Windows built in support for certificate stores and so forth, so you will have to relevant API to replace that."},{"owner":{"account_id":4693828,"reputation":451,"user_id":3799247,"display_name":"Neven"},"score":0,"creation_date":1443088052,"post_id":32741513,"comment_id":53355764,"body_markdown":"@JamesKPolk That was my backup plan - using Java code to extract key, and store it afterwards in Windows certificate store, as Lex Li suggested. Thanks for your help.","body":"@JamesKPolk That was my backup plan - using Java code to extract key, and store it afterwards in Windows certificate store, as Lex Li suggested. Thanks for your help."}],"answers":[{"tags":[],"owner":{"account_id":10284731,"reputation":31,"user_id":7588446,"display_name":"Rainer Kn&#246;terich"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1653131940,"creation_date":1653131940,"answer_id":72329066,"question_id":32741513,"body_markdown":"BouncyCastle on C# can only read PKCS12 files or PEM (Base64 coded) files.\r\nCurrently I don&#39;t see a way to read jks.","title":"Is there a C# equivalent of Java&#39;s BouncyCastleStore?","body":"<p>BouncyCastle on C# can only read PKCS12 files or PEM (Base64 coded) files.\nCurrently I don't see a way to read jks.</p>\n"}],"owner":{"account_id":4693828,"reputation":451,"user_id":3799247,"display_name":"Neven"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":945,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1653131940,"creation_date":1443016295,"question_id":32741513,"body_markdown":"I have a password protected Bouncy Castle key store file created with Bouncy Castle Java API, and I can read key from that store using following Java code: \r\n\r\n    BouncyCastleStore uberStore = new BouncyCastleStore();\r\n    char[] uberStorePassword = props.getProperty(&quot;keystore.pwd&quot;).toCharArray();\r\n    FileInputStream finUberStore = new FileInputStream(props.getProperty(&quot;keystore.path&quot;));\r\n    uberStore.engineLoad(finUberStore, uberStorePassword);\r\n    KeyStore.PasswordProtection keystorePassProt = new KeyStore.PasswordProtection(uberStorePassword);\r\n    SecretKey aesKey = ((KeyStore.SecretKeyEntry) uberStore.engineGetEntry(props.getProperty(&quot;keystore.alias&quot;), keystorePassProt)).getSecretKey();\r\n\r\nOn the other hand, I have an application in C#, where I have to do some AES-EAX encryption using key stored in the Bouncy Castle key store. \r\n\r\nWhile most of the classes in Bouncy Castle Java cryptography API have their equivalent in Bouncy Castle C# API, I couldn’t find any class in Bouncy Castle C# API that resembles BouncyCastleStore. Therefore I was not able to extract key from the Bouncy Castle key store file via C#.\r\nIs it possible to read this key store using c#?\r\n\r\n**Edit**: I’ve rephrased my inital question because it was somehow misleading (thanks to @cryptic_star). My goal is not to make exact translation of sampled Java code, but to find whatever possible way to extract key from Bouncy Castle key store using C#.\r\n\r\n","title":"Is there a C# equivalent of Java&#39;s BouncyCastleStore?","body":"<p>I have a password protected Bouncy Castle key store file created with Bouncy Castle Java API, and I can read key from that store using following Java code: </p>\n\n<pre><code>BouncyCastleStore uberStore = new BouncyCastleStore();\nchar[] uberStorePassword = props.getProperty(\"keystore.pwd\").toCharArray();\nFileInputStream finUberStore = new FileInputStream(props.getProperty(\"keystore.path\"));\nuberStore.engineLoad(finUberStore, uberStorePassword);\nKeyStore.PasswordProtection keystorePassProt = new KeyStore.PasswordProtection(uberStorePassword);\nSecretKey aesKey = ((KeyStore.SecretKeyEntry) uberStore.engineGetEntry(props.getProperty(\"keystore.alias\"), keystorePassProt)).getSecretKey();\n</code></pre>\n\n<p>On the other hand, I have an application in C#, where I have to do some AES-EAX encryption using key stored in the Bouncy Castle key store. </p>\n\n<p>While most of the classes in Bouncy Castle Java cryptography API have their equivalent in Bouncy Castle C# API, I couldn’t find any class in Bouncy Castle C# API that resembles BouncyCastleStore. Therefore I was not able to extract key from the Bouncy Castle key store file via C#.\nIs it possible to read this key store using c#?</p>\n\n<p><strong>Edit</strong>: I’ve rephrased my inital question because it was somehow misleading (thanks to @cryptic_star). My goal is not to make exact translation of sampled Java code, but to find whatever possible way to extract key from Bouncy Castle key store using C#.</p>\n"},{"tags":["java","iterator"],"comments":[{"owner":{"account_id":17832421,"reputation":4234,"user_id":12952113,"display_name":"Alex Sveshnikov"},"score":0,"creation_date":1653056863,"post_id":72320385,"comment_id":127765090,"body_markdown":"You have a queue, elements of which are queues themselves. When you call `next` on the outer queue you take the next element from q, which is an inner queue and then return the first element of this inner queue. After that the outer queue q is empty, because you removed from it the whole inner queue.","body":"You have a queue, elements of which are queues themselves. When you call <code>next</code> on the outer queue you take the next element from q, which is an inner queue and then return the first element of this inner queue. After that the outer queue q is empty, because you removed from it the whole inner queue."}],"owner":{"account_id":20950173,"reputation":53,"user_id":16013216,"display_name":"Sohaib"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1653131936,"creation_date":1653056080,"question_id":72320385,"body_markdown":"I am attempting to implement an interface that is identical to the `iterator()` method found in Java. For my specific program, the interface is implemented as an inner class `PriorityQueueIterator` to the outer class `PriorityQueueLinked`. It has methods `hasNext()` and `next()` just like in `iterator()` and it&#39;s design is to iterate through elements of a linked list Priority Queue. What the implementation should be outputting is all the elements within the passed Priority Queue, however, I am only getting the first element of the Priority Queue as an output. Below is the snippet of code:\r\n\r\n     public Iterator iterator() {\r\n      return new PriorityQueueIterator(this);\r\n    }\r\n\r\n    class PriorityQueueIterator implements Iterator&lt;Object&gt; {\r\n      \r\n      private Queue&lt;PriorityQueueLinked&gt; q = new LinkedList&lt;PriorityQueueLinked&gt;();\r\n      \r\n      public PriorityQueueIterator(PriorityQueueLinked pq) {\r\n          if(pq.isEmpty()) {\r\n              return;\r\n          }\r\n          else {\r\n              q.add(pq);\r\n          }\r\n      }\r\n      \r\n      public boolean hasNext() {\r\n          return !q.isEmpty();\r\n      }\r\n      \r\n      public Object next() {\r\n          if(hasNext()) {\r\n              PriorityQueueLinked pq = q.remove();\r\n              Object o = new Object();\r\n              if(!pq.isEmpty()) {\r\n                  // examine() retrieves the element at the front of the Priority Queue\r\n                  o = pq.examine();\r\n              }\r\n              return o;\r\n          }\r\n          else {\r\n              throw new OutOfBounds(&quot;No elements in queue.&quot;);\r\n          }\r\n      }\r\n    }\r\n\r\nIn the `main(String[] args)` method:\r\n\r\n    PriorityQueueIterator it = PriorityQueueLinked.PriorityQueueIterator(PriorityQueue);\r\n    while (it.hasNext()) {\r\n         System.out.println(it.next());\r\n    }\r\n\r\nIf I passed a Priority Queue which had an element structure: 6, 9, 1 (note, the commas are only used here to show the separation of elements and in effect the individual links), the output should be `6 9 1`. However, I am getting an output of `6`. How should I fix this?\r\n ","title":"An implementation of a custom interface identical to the Java method iterator() is not working","body":"<p>I am attempting to implement an interface that is identical to the <code>iterator()</code> method found in Java. For my specific program, the interface is implemented as an inner class <code>PriorityQueueIterator</code> to the outer class <code>PriorityQueueLinked</code>. It has methods <code>hasNext()</code> and <code>next()</code> just like in <code>iterator()</code> and it's design is to iterate through elements of a linked list Priority Queue. What the implementation should be outputting is all the elements within the passed Priority Queue, however, I am only getting the first element of the Priority Queue as an output. Below is the snippet of code:</p>\n<pre><code> public Iterator iterator() {\n  return new PriorityQueueIterator(this);\n}\n\nclass PriorityQueueIterator implements Iterator&lt;Object&gt; {\n  \n  private Queue&lt;PriorityQueueLinked&gt; q = new LinkedList&lt;PriorityQueueLinked&gt;();\n  \n  public PriorityQueueIterator(PriorityQueueLinked pq) {\n      if(pq.isEmpty()) {\n          return;\n      }\n      else {\n          q.add(pq);\n      }\n  }\n  \n  public boolean hasNext() {\n      return !q.isEmpty();\n  }\n  \n  public Object next() {\n      if(hasNext()) {\n          PriorityQueueLinked pq = q.remove();\n          Object o = new Object();\n          if(!pq.isEmpty()) {\n              // examine() retrieves the element at the front of the Priority Queue\n              o = pq.examine();\n          }\n          return o;\n      }\n      else {\n          throw new OutOfBounds(&quot;No elements in queue.&quot;);\n      }\n  }\n}\n</code></pre>\n<p>In the <code>main(String[] args)</code> method:</p>\n<pre><code>PriorityQueueIterator it = PriorityQueueLinked.PriorityQueueIterator(PriorityQueue);\nwhile (it.hasNext()) {\n     System.out.println(it.next());\n}\n</code></pre>\n<p>If I passed a Priority Queue which had an element structure: 6, 9, 1 (note, the commas are only used here to show the separation of elements and in effect the individual links), the output should be <code>6 9 1</code>. However, I am getting an output of <code>6</code>. How should I fix this?</p>\n"},{"tags":["java","css","selenium","nosuchelementexception"],"answers":[{"tags":[],"owner":{"account_id":256108,"reputation":19126,"user_id":536607,"accept_rate":88,"display_name":"MxLDevs"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653098506,"creation_date":1653098506,"answer_id":72326149,"question_id":72326141,"body_markdown":"Use browser inspector and copy that xpath into element search. If it doesn&#39;t find anything, your xpath doesn&#39;t work.\r\n\r\nYou may need to check if the elements are located inside an iframe, which requires you to switch to that frame first.","title":"Selenium/Java Is returning error No such Element: Unable to locate the element","body":"<p>Use browser inspector and copy that xpath into element search. If it doesn't find anything, your xpath doesn't work.</p>\n<p>You may need to check if the elements are located inside an iframe, which requires you to switch to that frame first.</p>\n"},{"tags":[],"owner":{"account_id":25315064,"reputation":366,"user_id":19137302,"display_name":"Ruben"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653130926,"creation_date":1653130926,"answer_id":72328947,"question_id":72326141,"body_markdown":"The class of the element seems to be unique on that webpage, maybe you can try locating it by class?\r\n```\r\ndriver.findElement(By.className(&quot;store-ymm-newvehsearch&quot;))\r\n```\r\n","title":"Selenium/Java Is returning error No such Element: Unable to locate the element","body":"<p>The class of the element seems to be unique on that webpage, maybe you can try locating it by class?</p>\n<pre><code>driver.findElement(By.className(&quot;store-ymm-newvehsearch&quot;))\n</code></pre>\n"}],"owner":{"account_id":16976222,"reputation":11,"user_id":12279512,"display_name":"Alex Slepenkof"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":334,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1653130926,"creation_date":1653098382,"question_id":72326141,"body_markdown":"I am trying to click &quot;New Vehicle Search&quot; on the page, but it seems to me I have the wrong web element locator (XPath or CSS) for this. I tried all possible options (CSS, XPath..) without success and I got an error:\r\n\r\n&gt; Blockquote\r\n\r\n[ERROR] NoSuchElementException: \r\nno such element: Unable to locate element: {&quot;method&quot;:&quot;xpath&quot;,&quot;selector&quot;:&quot;/html/body/div[5]/div/div[4]/div[1]/div[2]&quot;}\r\n  (Session info: chrome=101.0.4951.67)\r\n\r\n&gt; Blockquote\r\n\r\n  [New Vehicle Search button-Unable to locate the element] [1]\r\n\r\n   sleep(10000);\r\n\r\n   driver.findElement(By.xpath(&quot;/html/body/div[5]/div/div[4]/div[1]/div[2]&quot;)).click();\r\n\r\n\r\n\r\n&gt; Blockquote\r\n\r\n  [1]: https://www.fitmentindustries.com/store/wheels?sort=instock&amp;year=2019&amp;make=Ford&amp;model=Fiesta&amp;trim=S&amp;DRChassisID=28352&amp;vehicle_type=Car&amp;dia=17&amp;width=7&amp;offset=40&amp;brand=Enkei&amp;bolt=4x4.25%2C4x108&amp;saleToggle=0&amp;qdToggle=0&amp;suspension=Stock&amp;modification=No%20Modification&amp;rubbing=No%20rubbing%20or%20scrubbing&amp;affirm=1\r\n  ","title":"Selenium/Java Is returning error No such Element: Unable to locate the element","body":"<p>I am trying to click &quot;New Vehicle Search&quot; on the page, but it seems to me I have the wrong web element locator (XPath or CSS) for this. I tried all possible options (CSS, XPath..) without success and I got an error:</p>\n<blockquote>\n<p>Blockquote</p>\n</blockquote>\n<p>[ERROR] NoSuchElementException:\nno such element: Unable to locate element: {&quot;method&quot;:&quot;xpath&quot;,&quot;selector&quot;:&quot;/html/body/div[5]/div/div[4]/div<a href=\"https://www.fitmentindustries.com/store/wheels?sort=instock&amp;year=2019&amp;make=Ford&amp;model=Fiesta&amp;trim=S&amp;DRChassisID=28352&amp;vehicle_type=Car&amp;dia=17&amp;width=7&amp;offset=40&amp;brand=Enkei&amp;bolt=4x4.25%2C4x108&amp;saleToggle=0&amp;qdToggle=0&amp;suspension=Stock&amp;modification=No%20Modification&amp;rubbing=No%20rubbing%20or%20scrubbing&amp;affirm=1\" rel=\"nofollow noreferrer\">1</a>/div[2]&quot;}\n(Session info: chrome=101.0.4951.67)</p>\n<blockquote>\n<p>Blockquote</p>\n</blockquote>\n<p>[New Vehicle Search button-Unable to locate the element] <a href=\"https://www.fitmentindustries.com/store/wheels?sort=instock&amp;year=2019&amp;make=Ford&amp;model=Fiesta&amp;trim=S&amp;DRChassisID=28352&amp;vehicle_type=Car&amp;dia=17&amp;width=7&amp;offset=40&amp;brand=Enkei&amp;bolt=4x4.25%2C4x108&amp;saleToggle=0&amp;qdToggle=0&amp;suspension=Stock&amp;modification=No%20Modification&amp;rubbing=No%20rubbing%20or%20scrubbing&amp;affirm=1\" rel=\"nofollow noreferrer\">1</a></p>\n<p>sleep(10000);</p>\n<p>driver.findElement(By.xpath(&quot;/html/body/div[5]/div/div[4]/div<a href=\"https://www.fitmentindustries.com/store/wheels?sort=instock&amp;year=2019&amp;make=Ford&amp;model=Fiesta&amp;trim=S&amp;DRChassisID=28352&amp;vehicle_type=Car&amp;dia=17&amp;width=7&amp;offset=40&amp;brand=Enkei&amp;bolt=4x4.25%2C4x108&amp;saleToggle=0&amp;qdToggle=0&amp;suspension=Stock&amp;modification=No%20Modification&amp;rubbing=No%20rubbing%20or%20scrubbing&amp;affirm=1\" rel=\"nofollow noreferrer\">1</a>/div[2]&quot;)).click();</p>\n<blockquote>\n<p>Blockquote</p>\n</blockquote>\n"},{"tags":["java","android","android-studio","class","menuitem"],"answers":[{"tags":[],"owner":{"account_id":11163581,"reputation":1048,"user_id":8192914,"display_name":"ganjaam"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1653130454,"creation_date":1653130454,"answer_id":72328889,"question_id":72328528,"body_markdown":"Here, `TerminalFragment` is a fragment, not an activity. And so, instead of using `TerminalFragment.this` in `new Intent()`, you should use `getActivity()`.\r\n\r\nSo, the final code would look something like this:\r\n```java\r\nIntent intent = new Intent(getActivity(), MainActivity2.class);\r\nstartActivity(intent);\r\n```\r\n\r\nYou can also check this: https://stackoverflow.com/q/20835933/8192914\r\n","title":"How to call another activity by menuitem? Android Studio Error: method call expected","body":"<p>Here, <code>TerminalFragment</code> is a fragment, not an activity. And so, instead of using <code>TerminalFragment.this</code> in <code>new Intent()</code>, you should use <code>getActivity()</code>.</p>\n<p>So, the final code would look something like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Intent intent = new Intent(getActivity(), MainActivity2.class);\nstartActivity(intent);\n</code></pre>\n<p>You can also check this: <a href=\"https://stackoverflow.com/q/20835933/8192914\">Intent from Fragment to Activity</a></p>\n"}],"owner":{"account_id":23662142,"reputation":33,"user_id":17690070,"display_name":"TSLee"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":127,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":72328889,"answer_count":1,"score":0,"last_activity_date":1653130454,"creation_date":1653127327,"question_id":72328528,"body_markdown":"I am completely new to Android Studio and just learned Object-oriented programming. My project requires me to build something on open-source code. I added a new menu item to a menu and want to start another activity once the user clicks the menu item with id: plot. I followed a recipe on the internet but got an error with it. It said &#39;method call expected&#39; which means Terminal Fragment may be a method. I got confused, as I thought it is a class(an activity). Could anyone give me instructions to start an activity (turn to the next page with a different activity) in this case? What will be the simplest way to do this? Much Appreciated.\r\n\r\nI added this in onOptionsItemSelected(MenuItem item).\r\n```\r\nif (id == R.id.plot){\r\n            Intent intent = new Intent(TerminalFragment.this, MainActivity2.class);\r\n            startActivity(intent);\r\n        }\r\n```\r\nTerminalFragment.java (entire code)\r\n```\r\npackage de.kai_morich.simple_bluetooth_le_terminal;\r\n\r\nimport android.app.Activity;\r\nimport android.app.AlertDialog;\r\nimport android.bluetooth.BluetoothAdapter;\r\nimport android.bluetooth.BluetoothDevice;\r\nimport android.content.ComponentName;\r\nimport android.content.Context;\r\nimport android.content.Intent;\r\nimport android.content.ServiceConnection;\r\nimport android.os.Bundle;\r\nimport android.os.IBinder;\r\nimport android.text.Editable;\r\nimport android.text.Spannable;\r\nimport android.text.SpannableStringBuilder;\r\nimport android.text.method.ScrollingMovementMethod;\r\nimport android.text.style.ForegroundColorSpan;\r\nimport android.view.LayoutInflater;\r\nimport android.view.Menu;\r\nimport android.view.MenuInflater;\r\nimport android.view.MenuItem;\r\nimport android.view.View;\r\nimport android.view.ViewGroup;\r\nimport android.widget.TextView;\r\nimport android.widget.Toast;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.annotation.Nullable;\r\nimport androidx.fragment.app.Fragment;\r\n\r\npublic class TerminalFragment extends Fragment implements ServiceConnection, SerialListener {\r\n\r\n    private MenuItem menuItem;\r\n    private enum Connected { False, Pending, True }\r\n\r\n    private String deviceAddress;\r\n    private SerialService service;\r\n\r\n    private TextView receiveText;\r\n    private TextView sendText;\r\n    private TextUtil.HexWatcher hexWatcher;\r\n\r\n    private Connected connected = Connected.False;\r\n    private boolean initialStart = true;\r\n    private boolean hexEnabled = false;\r\n    private boolean pendingNewline = false;\r\n    private String newline = TextUtil.newline_crlf;\r\n\r\n    /*\r\n     * Lifecycle\r\n     */\r\n    @Override\r\n    public void onCreate(@Nullable Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setHasOptionsMenu(true);\r\n        //Register with activity\r\n        // You must inform the system that your app bar fragment is participating in the population of the options menu.\r\n        // tells the system that your fragment would like to receive menu-related callbacks.\r\n        setRetainInstance(true);\r\n        deviceAddress = getArguments().getString(&quot;device&quot;);\r\n    }\r\n\r\n    @Override\r\n    public void onDestroy() {\r\n        if (connected != Connected.False)\r\n            disconnect();\r\n        getActivity().stopService(new Intent(getActivity(), SerialService.class));\r\n        super.onDestroy();\r\n    }\r\n\r\n    @Override\r\n    public void onStart() {\r\n        super.onStart();\r\n        if(service != null)\r\n            service.attach(this);\r\n        else\r\n            getActivity().startService(new Intent(getActivity(), SerialService.class)); // prevents service destroy on unbind from recreated activity caused by orientation change\r\n    }\r\n\r\n    @Override\r\n    public void onStop() {\r\n        if(service != null &amp;&amp; !getActivity().isChangingConfigurations())\r\n            service.detach();\r\n        super.onStop();\r\n    }\r\n\r\n    @SuppressWarnings(&quot;deprecation&quot;) // onAttach(context) was added with API 23. onAttach(activity) works for all API versions\r\n    @Override\r\n    public void onAttach(@NonNull Activity activity) {\r\n        super.onAttach(activity);\r\n        getActivity().bindService(new Intent(getActivity(), SerialService.class), this, Context.BIND_AUTO_CREATE);\r\n    }\r\n\r\n    @Override\r\n    public void onDetach() {\r\n        try { getActivity().unbindService(this); } catch(Exception ignored) {}\r\n        super.onDetach();\r\n    }\r\n\r\n    @Override\r\n    public void onResume() {\r\n        super.onResume();\r\n        if(initialStart &amp;&amp; service != null) {\r\n            initialStart = false;\r\n            getActivity().runOnUiThread(this::connect);\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public void onServiceConnected(ComponentName name, IBinder binder) {\r\n        service = ((SerialService.SerialBinder) binder).getService();\r\n        service.attach(this);\r\n        if(initialStart &amp;&amp; isResumed()) {\r\n            initialStart = false;\r\n            getActivity().runOnUiThread(this::connect);\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public void onServiceDisconnected(ComponentName name) {\r\n        service = null;\r\n    }\r\n\r\n    /*\r\n     * UI\r\n     */\r\n    @Override\r\n    public View onCreateView(@NonNull LayoutInflater inflater, ViewGroup container, Bundle savedInstanceState) {\r\n        View view = inflater.inflate(R.layout.fragment_terminal, container, false);\r\n        receiveText = view.findViewById(R.id.receive_text);                          // TextView performance decreases with number of spans\r\n        receiveText.setTextColor(getResources().getColor(R.color.colorRecieveText)); // set as default color to reduce number of spans\r\n        receiveText.setMovementMethod(ScrollingMovementMethod.getInstance());\r\n\r\n        sendText = view.findViewById(R.id.send_text);\r\n        hexWatcher = new TextUtil.HexWatcher(sendText);\r\n        hexWatcher.enable(hexEnabled);\r\n        sendText.addTextChangedListener(hexWatcher);\r\n        sendText.setHint(hexEnabled ? &quot;HEX mode&quot; : &quot;&quot;);\r\n\r\n        View sendBtn = view.findViewById(R.id.send_btn);\r\n        sendBtn.setOnClickListener(v -&gt; send(sendText.getText().toString()));\r\n        return view;\r\n    }\r\n\r\n    @Override\r\n    public void onCreateOptionsMenu(@NonNull Menu menu, MenuInflater inflater) {\r\n        inflater.inflate(R.menu.menu_terminal, menu);\r\n        menu.findItem(R.id.hex).setChecked(hexEnabled);\r\n    }\r\n\r\n    @Override\r\n    public boolean onOptionsItemSelected(MenuItem item) {\r\n        int id = item.getItemId();\r\n        if (id == R.id.clear) {\r\n            receiveText.setText(&quot;&quot;);\r\n            return true;\r\n        } if (id == R.id.plot){\r\n            Intent intent = new Intent(TerminalFragment.this, MainActivity2.class);\r\n            startActivity(intent);\r\n        }else if (id == R.id.newline) {\r\n            String[] newlineNames = getResources().getStringArray(R.array.newline_names);\r\n            String[] newlineValues = getResources().getStringArray(R.array.newline_values);\r\n            int pos = java.util.Arrays.asList(newlineValues).indexOf(newline);\r\n            AlertDialog.Builder builder = new AlertDialog.Builder(getActivity());\r\n            builder.setTitle(&quot;Newline&quot;);\r\n            builder.setSingleChoiceItems(newlineNames, pos, (dialog, item1) -&gt; {\r\n                newline = newlineValues[item1];\r\n                dialog.dismiss();\r\n            });\r\n            builder.create().show();\r\n            return true;\r\n        } else if (id == R.id.hex) {\r\n            hexEnabled = !hexEnabled;\r\n            sendText.setText(&quot;&quot;);\r\n            hexWatcher.enable(hexEnabled);\r\n            sendText.setHint(hexEnabled ? &quot;HEX mode&quot; : &quot;&quot;);\r\n            item.setChecked(hexEnabled);\r\n            return true;\r\n        } else {\r\n            return super.onOptionsItemSelected(item);\r\n        }\r\n    }\r\n\r\n    /*\r\n     * Serial + UI\r\n     */\r\n    private void connect() {\r\n        try {\r\n            BluetoothAdapter bluetoothAdapter = BluetoothAdapter.getDefaultAdapter();\r\n            BluetoothDevice device = bluetoothAdapter.getRemoteDevice(deviceAddress);\r\n            status(&quot;connecting...&quot;);\r\n            connected = Connected.Pending;\r\n            SerialSocket socket = new SerialSocket(getActivity().getApplicationContext(), device);\r\n            service.connect(socket);\r\n        } catch (Exception e) {\r\n            onSerialConnectError(e);\r\n        }\r\n    }\r\n\r\n    private void disconnect() {\r\n        connected = Connected.False;\r\n        service.disconnect();\r\n    }\r\n\r\n    private void send(String str) {\r\n        if(connected != Connected.True) {\r\n            Toast.makeText(getActivity(), &quot;not connected&quot;, Toast.LENGTH_SHORT).show();\r\n            return;\r\n        }\r\n        try {\r\n            String msg;\r\n            byte[] data;\r\n            if(hexEnabled) {\r\n                StringBuilder sb = new StringBuilder();\r\n                TextUtil.toHexString(sb, TextUtil.fromHexString(str));\r\n                TextUtil.toHexString(sb, newline.getBytes());\r\n                msg = sb.toString();\r\n                data = TextUtil.fromHexString(msg);\r\n            } else {\r\n                msg = str;\r\n                data = (str + newline).getBytes();\r\n            }\r\n            SpannableStringBuilder spn = new SpannableStringBuilder(msg + &#39;\\n&#39;);\r\n            spn.setSpan(new ForegroundColorSpan(getResources().getColor(R.color.colorSendText)), 0, spn.length(), Spannable.SPAN_EXCLUSIVE_EXCLUSIVE);\r\n            receiveText.append(spn);\r\n            service.write(data);\r\n        } catch (Exception e) {\r\n            onSerialIoError(e);\r\n        }\r\n    }\r\n\r\n    private void receive(byte[] data) {\r\n        if(hexEnabled) {\r\n            receiveText.append(&quot;Hello&quot; + TextUtil.toHexString(data) + &#39;\\n&#39;);\r\n        } else {\r\n            String msg = new String(data);\r\n            if(newline.equals(TextUtil.newline_crlf) &amp;&amp; msg.length() &gt; 0) {\r\n                // don&#39;t show CR as ^M if directly before LF\r\n                msg = msg.replace(TextUtil.newline_crlf, TextUtil.newline_lf);\r\n                // special handling if CR and LF come in separate fragments\r\n                if (pendingNewline &amp;&amp; msg.charAt(0) == &#39;\\n&#39;) {\r\n                    Editable edt = receiveText.getEditableText();\r\n                    if (edt != null &amp;&amp; edt.length() &gt; 1)\r\n                        edt.replace(edt.length() - 2, edt.length(), &quot;&quot;);\r\n                }\r\n                pendingNewline = msg.charAt(msg.length() - 1) == &#39;\\r&#39;;\r\n            }\r\n            receiveText.append(TextUtil.toCaretString(msg, newline.length() != 0)); //print out data\r\n        }\r\n    }\r\n\r\n    private void status(String str) {\r\n        SpannableStringBuilder spn = new SpannableStringBuilder(str + &#39;\\n&#39;);\r\n        spn.setSpan(new ForegroundColorSpan(getResources().getColor(R.color.colorStatusText)), 0, spn.length(), Spannable.SPAN_EXCLUSIVE_EXCLUSIVE);\r\n        receiveText.append(spn);\r\n    }\r\n\r\n    /*\r\n     * SerialListener\r\n     */\r\n    @Override\r\n    public void onSerialConnect() {\r\n        status(&quot;connected&quot;);\r\n        connected = Connected.True;\r\n    }\r\n\r\n    @Override\r\n    public void onSerialConnectError(Exception e) {\r\n        status(&quot;connection failed: &quot; + e.getMessage());\r\n        disconnect();\r\n    }\r\n\r\n    @Override\r\n    public void onSerialRead(byte[] data) {\r\n        receive(data);\r\n    }\r\n\r\n    @Override\r\n    public void onSerialIoError(Exception e) {\r\n        status(&quot;connection lost: &quot; + e.getMessage());\r\n        disconnect();\r\n    }\r\n\r\n}\r\n```\r\nmenu_terminal.xml\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;menu xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\r\n    &lt;item\r\n        android:id=&quot;@+id/plot&quot;\r\n        android:title=&quot;PLOTDATA&quot;\r\n        app:showAsAction=&quot;always&quot; /&gt;\r\n    &lt;item\r\n        android:id=&quot;@+id/clear&quot;\r\n        android:icon=&quot;@drawable/ic_delete_white_24dp&quot;\r\n        android:title=&quot;Clear&quot;\r\n        app:showAsAction=&quot;always&quot; /&gt;\r\n    &lt;item\r\n        android:id=&quot;@+id/newline&quot;\r\n        android:title=&quot;Newline&quot;\r\n        app:showAsAction=&quot;never&quot; /&gt;\r\n    &lt;item\r\n        android:id=&quot;@+id/hex&quot;\r\n        android:title=&quot;HEX Mode&quot;\r\n        android:checkable=&quot;true&quot;\r\n        app:showAsAction=&quot;never&quot; /&gt;\r\n&lt;/menu&gt;\r\n```\r\n\r\n","title":"How to call another activity by menuitem? Android Studio Error: method call expected","body":"<p>I am completely new to Android Studio and just learned Object-oriented programming. My project requires me to build something on open-source code. I added a new menu item to a menu and want to start another activity once the user clicks the menu item with id: plot. I followed a recipe on the internet but got an error with it. It said 'method call expected' which means Terminal Fragment may be a method. I got confused, as I thought it is a class(an activity). Could anyone give me instructions to start an activity (turn to the next page with a different activity) in this case? What will be the simplest way to do this? Much Appreciated.</p>\n<p>I added this in onOptionsItemSelected(MenuItem item).</p>\n<pre><code>if (id == R.id.plot){\n            Intent intent = new Intent(TerminalFragment.this, MainActivity2.class);\n            startActivity(intent);\n        }\n</code></pre>\n<p>TerminalFragment.java (entire code)</p>\n<pre><code>package de.kai_morich.simple_bluetooth_le_terminal;\n\nimport android.app.Activity;\nimport android.app.AlertDialog;\nimport android.bluetooth.BluetoothAdapter;\nimport android.bluetooth.BluetoothDevice;\nimport android.content.ComponentName;\nimport android.content.Context;\nimport android.content.Intent;\nimport android.content.ServiceConnection;\nimport android.os.Bundle;\nimport android.os.IBinder;\nimport android.text.Editable;\nimport android.text.Spannable;\nimport android.text.SpannableStringBuilder;\nimport android.text.method.ScrollingMovementMethod;\nimport android.text.style.ForegroundColorSpan;\nimport android.view.LayoutInflater;\nimport android.view.Menu;\nimport android.view.MenuInflater;\nimport android.view.MenuItem;\nimport android.view.View;\nimport android.view.ViewGroup;\nimport android.widget.TextView;\nimport android.widget.Toast;\n\nimport androidx.annotation.NonNull;\nimport androidx.annotation.Nullable;\nimport androidx.fragment.app.Fragment;\n\npublic class TerminalFragment extends Fragment implements ServiceConnection, SerialListener {\n\n    private MenuItem menuItem;\n    private enum Connected { False, Pending, True }\n\n    private String deviceAddress;\n    private SerialService service;\n\n    private TextView receiveText;\n    private TextView sendText;\n    private TextUtil.HexWatcher hexWatcher;\n\n    private Connected connected = Connected.False;\n    private boolean initialStart = true;\n    private boolean hexEnabled = false;\n    private boolean pendingNewline = false;\n    private String newline = TextUtil.newline_crlf;\n\n    /*\n     * Lifecycle\n     */\n    @Override\n    public void onCreate(@Nullable Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setHasOptionsMenu(true);\n        //Register with activity\n        // You must inform the system that your app bar fragment is participating in the population of the options menu.\n        // tells the system that your fragment would like to receive menu-related callbacks.\n        setRetainInstance(true);\n        deviceAddress = getArguments().getString(&quot;device&quot;);\n    }\n\n    @Override\n    public void onDestroy() {\n        if (connected != Connected.False)\n            disconnect();\n        getActivity().stopService(new Intent(getActivity(), SerialService.class));\n        super.onDestroy();\n    }\n\n    @Override\n    public void onStart() {\n        super.onStart();\n        if(service != null)\n            service.attach(this);\n        else\n            getActivity().startService(new Intent(getActivity(), SerialService.class)); // prevents service destroy on unbind from recreated activity caused by orientation change\n    }\n\n    @Override\n    public void onStop() {\n        if(service != null &amp;&amp; !getActivity().isChangingConfigurations())\n            service.detach();\n        super.onStop();\n    }\n\n    @SuppressWarnings(&quot;deprecation&quot;) // onAttach(context) was added with API 23. onAttach(activity) works for all API versions\n    @Override\n    public void onAttach(@NonNull Activity activity) {\n        super.onAttach(activity);\n        getActivity().bindService(new Intent(getActivity(), SerialService.class), this, Context.BIND_AUTO_CREATE);\n    }\n\n    @Override\n    public void onDetach() {\n        try { getActivity().unbindService(this); } catch(Exception ignored) {}\n        super.onDetach();\n    }\n\n    @Override\n    public void onResume() {\n        super.onResume();\n        if(initialStart &amp;&amp; service != null) {\n            initialStart = false;\n            getActivity().runOnUiThread(this::connect);\n        }\n    }\n\n    @Override\n    public void onServiceConnected(ComponentName name, IBinder binder) {\n        service = ((SerialService.SerialBinder) binder).getService();\n        service.attach(this);\n        if(initialStart &amp;&amp; isResumed()) {\n            initialStart = false;\n            getActivity().runOnUiThread(this::connect);\n        }\n    }\n\n    @Override\n    public void onServiceDisconnected(ComponentName name) {\n        service = null;\n    }\n\n    /*\n     * UI\n     */\n    @Override\n    public View onCreateView(@NonNull LayoutInflater inflater, ViewGroup container, Bundle savedInstanceState) {\n        View view = inflater.inflate(R.layout.fragment_terminal, container, false);\n        receiveText = view.findViewById(R.id.receive_text);                          // TextView performance decreases with number of spans\n        receiveText.setTextColor(getResources().getColor(R.color.colorRecieveText)); // set as default color to reduce number of spans\n        receiveText.setMovementMethod(ScrollingMovementMethod.getInstance());\n\n        sendText = view.findViewById(R.id.send_text);\n        hexWatcher = new TextUtil.HexWatcher(sendText);\n        hexWatcher.enable(hexEnabled);\n        sendText.addTextChangedListener(hexWatcher);\n        sendText.setHint(hexEnabled ? &quot;HEX mode&quot; : &quot;&quot;);\n\n        View sendBtn = view.findViewById(R.id.send_btn);\n        sendBtn.setOnClickListener(v -&gt; send(sendText.getText().toString()));\n        return view;\n    }\n\n    @Override\n    public void onCreateOptionsMenu(@NonNull Menu menu, MenuInflater inflater) {\n        inflater.inflate(R.menu.menu_terminal, menu);\n        menu.findItem(R.id.hex).setChecked(hexEnabled);\n    }\n\n    @Override\n    public boolean onOptionsItemSelected(MenuItem item) {\n        int id = item.getItemId();\n        if (id == R.id.clear) {\n            receiveText.setText(&quot;&quot;);\n            return true;\n        } if (id == R.id.plot){\n            Intent intent = new Intent(TerminalFragment.this, MainActivity2.class);\n            startActivity(intent);\n        }else if (id == R.id.newline) {\n            String[] newlineNames = getResources().getStringArray(R.array.newline_names);\n            String[] newlineValues = getResources().getStringArray(R.array.newline_values);\n            int pos = java.util.Arrays.asList(newlineValues).indexOf(newline);\n            AlertDialog.Builder builder = new AlertDialog.Builder(getActivity());\n            builder.setTitle(&quot;Newline&quot;);\n            builder.setSingleChoiceItems(newlineNames, pos, (dialog, item1) -&gt; {\n                newline = newlineValues[item1];\n                dialog.dismiss();\n            });\n            builder.create().show();\n            return true;\n        } else if (id == R.id.hex) {\n            hexEnabled = !hexEnabled;\n            sendText.setText(&quot;&quot;);\n            hexWatcher.enable(hexEnabled);\n            sendText.setHint(hexEnabled ? &quot;HEX mode&quot; : &quot;&quot;);\n            item.setChecked(hexEnabled);\n            return true;\n        } else {\n            return super.onOptionsItemSelected(item);\n        }\n    }\n\n    /*\n     * Serial + UI\n     */\n    private void connect() {\n        try {\n            BluetoothAdapter bluetoothAdapter = BluetoothAdapter.getDefaultAdapter();\n            BluetoothDevice device = bluetoothAdapter.getRemoteDevice(deviceAddress);\n            status(&quot;connecting...&quot;);\n            connected = Connected.Pending;\n            SerialSocket socket = new SerialSocket(getActivity().getApplicationContext(), device);\n            service.connect(socket);\n        } catch (Exception e) {\n            onSerialConnectError(e);\n        }\n    }\n\n    private void disconnect() {\n        connected = Connected.False;\n        service.disconnect();\n    }\n\n    private void send(String str) {\n        if(connected != Connected.True) {\n            Toast.makeText(getActivity(), &quot;not connected&quot;, Toast.LENGTH_SHORT).show();\n            return;\n        }\n        try {\n            String msg;\n            byte[] data;\n            if(hexEnabled) {\n                StringBuilder sb = new StringBuilder();\n                TextUtil.toHexString(sb, TextUtil.fromHexString(str));\n                TextUtil.toHexString(sb, newline.getBytes());\n                msg = sb.toString();\n                data = TextUtil.fromHexString(msg);\n            } else {\n                msg = str;\n                data = (str + newline).getBytes();\n            }\n            SpannableStringBuilder spn = new SpannableStringBuilder(msg + '\\n');\n            spn.setSpan(new ForegroundColorSpan(getResources().getColor(R.color.colorSendText)), 0, spn.length(), Spannable.SPAN_EXCLUSIVE_EXCLUSIVE);\n            receiveText.append(spn);\n            service.write(data);\n        } catch (Exception e) {\n            onSerialIoError(e);\n        }\n    }\n\n    private void receive(byte[] data) {\n        if(hexEnabled) {\n            receiveText.append(&quot;Hello&quot; + TextUtil.toHexString(data) + '\\n');\n        } else {\n            String msg = new String(data);\n            if(newline.equals(TextUtil.newline_crlf) &amp;&amp; msg.length() &gt; 0) {\n                // don't show CR as ^M if directly before LF\n                msg = msg.replace(TextUtil.newline_crlf, TextUtil.newline_lf);\n                // special handling if CR and LF come in separate fragments\n                if (pendingNewline &amp;&amp; msg.charAt(0) == '\\n') {\n                    Editable edt = receiveText.getEditableText();\n                    if (edt != null &amp;&amp; edt.length() &gt; 1)\n                        edt.replace(edt.length() - 2, edt.length(), &quot;&quot;);\n                }\n                pendingNewline = msg.charAt(msg.length() - 1) == '\\r';\n            }\n            receiveText.append(TextUtil.toCaretString(msg, newline.length() != 0)); //print out data\n        }\n    }\n\n    private void status(String str) {\n        SpannableStringBuilder spn = new SpannableStringBuilder(str + '\\n');\n        spn.setSpan(new ForegroundColorSpan(getResources().getColor(R.color.colorStatusText)), 0, spn.length(), Spannable.SPAN_EXCLUSIVE_EXCLUSIVE);\n        receiveText.append(spn);\n    }\n\n    /*\n     * SerialListener\n     */\n    @Override\n    public void onSerialConnect() {\n        status(&quot;connected&quot;);\n        connected = Connected.True;\n    }\n\n    @Override\n    public void onSerialConnectError(Exception e) {\n        status(&quot;connection failed: &quot; + e.getMessage());\n        disconnect();\n    }\n\n    @Override\n    public void onSerialRead(byte[] data) {\n        receive(data);\n    }\n\n    @Override\n    public void onSerialIoError(Exception e) {\n        status(&quot;connection lost: &quot; + e.getMessage());\n        disconnect();\n    }\n\n}\n</code></pre>\n<p>menu_terminal.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;menu xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\n    &lt;item\n        android:id=&quot;@+id/plot&quot;\n        android:title=&quot;PLOTDATA&quot;\n        app:showAsAction=&quot;always&quot; /&gt;\n    &lt;item\n        android:id=&quot;@+id/clear&quot;\n        android:icon=&quot;@drawable/ic_delete_white_24dp&quot;\n        android:title=&quot;Clear&quot;\n        app:showAsAction=&quot;always&quot; /&gt;\n    &lt;item\n        android:id=&quot;@+id/newline&quot;\n        android:title=&quot;Newline&quot;\n        app:showAsAction=&quot;never&quot; /&gt;\n    &lt;item\n        android:id=&quot;@+id/hex&quot;\n        android:title=&quot;HEX Mode&quot;\n        android:checkable=&quot;true&quot;\n        app:showAsAction=&quot;never&quot; /&gt;\n&lt;/menu&gt;\n</code></pre>\n"},{"tags":["java","eclipse","tomcat","vaadin"],"comments":[{"owner":{"account_id":16269349,"reputation":13452,"user_id":11748454,"display_name":"Piotr P. Karwasz"},"score":3,"creation_date":1620153569,"post_id":67387060,"comment_id":119115456,"body_markdown":"You are asking about an Apache Tomcat run configuration, but all your images show a Maven run configuration, which runs the project using Jetty.","body":"You are asking about an Apache Tomcat run configuration, but all your images show a Maven run configuration, which runs the project using Jetty."},{"owner":{"account_id":17813292,"reputation":13,"user_id":12952371,"display_name":"pablo villa"},"score":0,"creation_date":1620198686,"post_id":67387060,"comment_id":119126237,"body_markdown":"Sorry, I recently started programming on this technology.\nI appreciate your comment, because it makes me improve","body":"Sorry, I recently started programming on this technology. I appreciate your comment, because it makes me improve"},{"owner":{"account_id":16269349,"reputation":13452,"user_id":11748454,"display_name":"Piotr P. Karwasz"},"score":0,"creation_date":1620204313,"post_id":67387060,"comment_id":119128501,"body_markdown":"There are many ways to start a server in Eclipse. One of them is the [Servers View](https://help.eclipse.org/2021-03/topic/org.eclipse.wst.server.ui.doc.user/topics/rwrcview.html?cp=90_4_0_0), which allows you to configure the Apache Tomcat run configurations and the _&quot;Run as &gt; Run on Server&quot;_ action on web projects.","body":"There are many ways to start a server in Eclipse. One of them is the <a href=\"https://help.eclipse.org/2021-03/topic/org.eclipse.wst.server.ui.doc.user/topics/rwrcview.html?cp=90_4_0_0\" rel=\"nofollow noreferrer\">Servers View</a>, which allows you to configure the Apache Tomcat run configurations and the <i>&quot;Run as &gt; Run on Server&quot;</i> action on web projects."},{"owner":{"account_id":16269349,"reputation":13452,"user_id":11748454,"display_name":"Piotr P. Karwasz"},"score":0,"creation_date":1620204873,"post_id":67387060,"comment_id":119128732,"body_markdown":"If you **really** want to start Tomcat using Maven, there is an old [tomcat7-maven-plugin](http://tomcat.apache.org/maven-plugin-trunk/run-mojo-features.html). However this way you won&#39;t be able to run multiple projects on the same server. Using the _Servers View_ on the other hand automatically takes care of source lookups, when you add a project to a server.","body":"If you <b>really</b> want to start Tomcat using Maven, there is an old <a href=\"http://tomcat.apache.org/maven-plugin-trunk/run-mojo-features.html\" rel=\"nofollow noreferrer\">tomcat7-maven-plugin</a>. However this way you won&#39;t be able to run multiple projects on the same server. Using the <i>Servers View</i> on the other hand automatically takes care of source lookups, when you add a project to a server."}],"answers":[{"tags":[],"owner":{"account_id":21487314,"reputation":1,"user_id":15833696,"display_name":"Melainine Bougueyah"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1620140121,"creation_date":1620140121,"answer_id":67387186,"question_id":67387060,"body_markdown":"see this post &lt;https://mkyong.com/eclipse/how-to-configure-hot-deploy-in-eclipse/&gt;. Even though the hot deploy will only be applied if you add a new method or class.","title":"(Maven run configuration)change Java project in local tomcat server","body":"<p>see this post <a href=\"https://mkyong.com/eclipse/how-to-configure-hot-deploy-in-eclipse/\" rel=\"nofollow noreferrer\">https://mkyong.com/eclipse/how-to-configure-hot-deploy-in-eclipse/</a>. Even though the hot deploy will only be applied if you add a new method or class.</p>\n"},{"tags":[],"owner":{"account_id":2718790,"reputation":1410,"user_id":2345535,"display_name":"Alejandro Duarte"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1620213205,"creation_date":1620213205,"answer_id":67400176,"question_id":67387060,"body_markdown":"It seems like you are not using Tomcat but Jetty through a Maven goal invoked by a Debug configuration in Eclipse. Tomcat and Jetty are two different web servers that you can use to deploy Java web applications including Vaadin apps.\r\n\r\n**Maven** is a project management tool to configure dependencies, packaging, deployment, testing, and more. A Maven goal is a task that Maven performs. One of those tasks is running a Jetty server with the application deployed in it. It&#39;s like if your application included (although it&#39;s not really true) a ready-to-use Jetty server. This is configured in the pom.xml file, and you can run it by executing the `jetty:run` goal.\r\n\r\nYou can run a Maven goal using the command line or a **Debug/Run configuration** in Eclipse. For example, to start the Jetty server declared in each Vaadin project, can execute `mvn jetty:run` in the command line or create a Debug/Run Maven configuration that specifies the `jetty:run` goal.\r\n\r\nIf you have two Vaadin projects, each one declares a Jetty server for developing and testing purposes (so you don&#39;t have to install your own). And you can run it as I described before. Just make sure that the port is free before starting a server. By default, this port is 8080. Most likely you want to stop a running Jetty before starting another one. If you need both running at the same time, you have to [configure the port][1].\r\n\r\nSome things to consider:\r\n\r\n- When you want to build your Vaadin application for a production environment, you have to activate the `production` profile (available if you created the project using one of the tools at https://vaadin.com/start). You can do this in the command line by executing `mvn package -P production`. After this, depending on your packaging configuration, you can deploy the WAR file to an external (Jetty, Tomcat, or any other) Java server, or run the JAR file in a production environment. [This video][3] shows how to build a Vaadin app for production.\r\n\r\n- [This article][2] explains the main concepts in Maven, in case you are interested in learning more about it or refreshing your memory.\r\n\r\n- [This video][4] shows how to create and run a Vaadin 7 application in Eclipse. Note that Vaadin 7 is not the latest version of the framework and things have changed since. Check [this tutorial][5] for more recent versions of Vaadin.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/25644036/how-to-set-server-port-with-org-eclipse-jettyjetty-maven-plugin\r\n  [2]: https://vaadin.com/learn/tutorials/learning-maven-concepts\r\n  [3]: https://www.youtube.com/watch?v=-63-PvP0T1E\r\n  [4]: https://www.youtube.com/watch?v=o93ofXBIkf8\r\n  [5]: https://vaadin.com/docs/v14/guide/introduction","title":"(Maven run configuration)change Java project in local tomcat server","body":"<p>It seems like you are not using Tomcat but Jetty through a Maven goal invoked by a Debug configuration in Eclipse. Tomcat and Jetty are two different web servers that you can use to deploy Java web applications including Vaadin apps.</p>\n<p><strong>Maven</strong> is a project management tool to configure dependencies, packaging, deployment, testing, and more. A Maven goal is a task that Maven performs. One of those tasks is running a Jetty server with the application deployed in it. It's like if your application included (although it's not really true) a ready-to-use Jetty server. This is configured in the pom.xml file, and you can run it by executing the <code>jetty:run</code> goal.</p>\n<p>You can run a Maven goal using the command line or a <strong>Debug/Run configuration</strong> in Eclipse. For example, to start the Jetty server declared in each Vaadin project, can execute <code>mvn jetty:run</code> in the command line or create a Debug/Run Maven configuration that specifies the <code>jetty:run</code> goal.</p>\n<p>If you have two Vaadin projects, each one declares a Jetty server for developing and testing purposes (so you don't have to install your own). And you can run it as I described before. Just make sure that the port is free before starting a server. By default, this port is 8080. Most likely you want to stop a running Jetty before starting another one. If you need both running at the same time, you have to <a href=\"https://stackoverflow.com/questions/25644036/how-to-set-server-port-with-org-eclipse-jettyjetty-maven-plugin\">configure the port</a>.</p>\n<p>Some things to consider:</p>\n<ul>\n<li><p>When you want to build your Vaadin application for a production environment, you have to activate the <code>production</code> profile (available if you created the project using one of the tools at <a href=\"https://vaadin.com/start\" rel=\"nofollow noreferrer\">https://vaadin.com/start</a>). You can do this in the command line by executing <code>mvn package -P production</code>. After this, depending on your packaging configuration, you can deploy the WAR file to an external (Jetty, Tomcat, or any other) Java server, or run the JAR file in a production environment. <a href=\"https://www.youtube.com/watch?v=-63-PvP0T1E\" rel=\"nofollow noreferrer\">This video</a> shows how to build a Vaadin app for production.</p>\n</li>\n<li><p><a href=\"https://vaadin.com/learn/tutorials/learning-maven-concepts\" rel=\"nofollow noreferrer\">This article</a> explains the main concepts in Maven, in case you are interested in learning more about it or refreshing your memory.</p>\n</li>\n<li><p><a href=\"https://www.youtube.com/watch?v=o93ofXBIkf8\" rel=\"nofollow noreferrer\">This video</a> shows how to create and run a Vaadin 7 application in Eclipse. Note that Vaadin 7 is not the latest version of the framework and things have changed since. Check <a href=\"https://vaadin.com/docs/v14/guide/introduction\" rel=\"nofollow noreferrer\">this tutorial</a> for more recent versions of Vaadin.</p>\n</li>\n</ul>\n"}],"owner":{"account_id":17813292,"reputation":13,"user_id":12952371,"display_name":"pablo villa"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":579,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":67400176,"answer_count":2,"score":0,"last_activity_date":1653129617,"creation_date":1620139615,"question_id":67387060,"body_markdown":"I have uploaded a Java project to the Tomcat server in Eclipse and when I want to change it to a new project, the changes are not applied and the old project is always displayed.\r\n\r\nI need to change the Java project to see it at localhost, This is what I tried to do:\r\n\r\n1. Open Eclipse and create new Vaadin 7 project\r\n\r\n2. Install Vaadin and Apache Tomcat at Eclipse marketplace\r\n![enter image description here][1]\r\n\r\n3. Create a tomcat server and change in debug configuration with the name of the first project.\r\nAnd write into Web Browser localhost:8080 and visualize it.\r\n\r\n4. Change on debug configuration the name of the new project:\r\n![enter image description here][2]\r\nI add the new project and delete the old.\r\n![enter image description here][3]\r\n\r\nWhen I do all this, the old project one is always displayed in the browser and not the new project like I want to do.\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/sltHo.png\r\n  [2]: https://i.stack.imgur.com/fNnJD.png\r\n  [3]: https://i.stack.imgur.com/9Kw38.png","title":"(Maven run configuration)change Java project in local tomcat server","body":"<p>I have uploaded a Java project to the Tomcat server in Eclipse and when I want to change it to a new project, the changes are not applied and the old project is always displayed.</p>\n<p>I need to change the Java project to see it at localhost, This is what I tried to do:</p>\n<ol>\n<li><p>Open Eclipse and create new Vaadin 7 project</p>\n</li>\n<li><p>Install Vaadin and Apache Tomcat at Eclipse marketplace\n<img src=\"https://i.stack.imgur.com/sltHo.png\" alt=\"enter image description here\" /></p>\n</li>\n<li><p>Create a tomcat server and change in debug configuration with the name of the first project.\nAnd write into Web Browser localhost:8080 and visualize it.</p>\n</li>\n<li><p>Change on debug configuration the name of the new project:\n<img src=\"https://i.stack.imgur.com/fNnJD.png\" alt=\"enter image description here\" />\nI add the new project and delete the old.\n<img src=\"https://i.stack.imgur.com/9Kw38.png\" alt=\"enter image description here\" /></p>\n</li>\n</ol>\n<p>When I do all this, the old project one is always displayed in the browser and not the new project like I want to do.</p>\n"},{"tags":["java","csv","opencsv"],"comments":[{"owner":{"account_id":140630,"reputation":851,"user_id":347094,"accept_rate":56,"display_name":"bynary"},"score":0,"creation_date":1653069058,"post_id":72322679,"comment_id":127769431,"body_markdown":"What have you tried so far?","body":"What have you tried so far?"},{"owner":{"account_id":25345408,"reputation":1,"user_id":19163167,"display_name":"Denis Dem"},"score":0,"creation_date":1653073941,"post_id":72322679,"comment_id":127770945,"body_markdown":"I&#39;ve checked existing OpenCSV annotations, but cannot find anything useful there. Annotations that I saw will transform a list/array into a string and write it as one column (CsvBindAndSplitByName/CsvCustomBindByName).\nI will try to write a custom mapping strategy or whatever there is needed if I there are no other options.","body":"I&#39;ve checked existing OpenCSV annotations, but cannot find anything useful there. Annotations that I saw will transform a list/array into a string and write it as one column (CsvBindAndSplitByName/CsvCustomBindByName). I will try to write a custom mapping strategy or whatever there is needed if I there are no other options."}],"answers":[{"tags":[],"owner":{"account_id":25346077,"reputation":1,"user_id":19163712,"display_name":"Jack"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653073391,"creation_date":1653073391,"answer_id":72323733,"question_id":72322679,"body_markdown":"Use &quot;@CsvBindAndSplitByName&quot;. It will split values of the list","title":"How to write a List into CSV file as multiple columns (repeat column for each value of the list)","body":"<p>Use &quot;@CsvBindAndSplitByName&quot;. It will split values of the list</p>\n"}],"owner":{"account_id":25345408,"reputation":1,"user_id":19163167,"display_name":"Denis Dem"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":300,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1653129432,"creation_date":1653067495,"question_id":72322679,"body_markdown":"In my autotest, I have a collection of Strings and I need to insert all values into a CSV file into different columns with the same name.\r\n\r\nE.g. I have:\r\n\r\n    String name;\r\n    List&lt;String&gt; roles;\r\n\r\nSo in a result, I should get a CSV file with:\r\n\r\n    |name|roles|roles|roles|\r\n    |Anna|CVV  |CDD  |CVD  |\r\n","title":"How to write a List into CSV file as multiple columns (repeat column for each value of the list)","body":"<p>In my autotest, I have a collection of Strings and I need to insert all values into a CSV file into different columns with the same name.</p>\n<p>E.g. I have:</p>\n<pre><code>String name;\nList&lt;String&gt; roles;\n</code></pre>\n<p>So in a result, I should get a CSV file with:</p>\n<pre><code>|name|roles|roles|roles|\n|Anna|CVV  |CDD  |CVD  |\n</code></pre>\n"},{"tags":["java","arrays"],"answers":[{"tags":[],"owner":{"account_id":1263831,"reputation":388998,"user_id":1221571,"accept_rate":67,"display_name":"Eran"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1483191137,"creation_date":1483189886,"answer_id":41408586,"question_id":41408541,"body_markdown":"It doesn&#39;t look like you are following the rules. You don&#39;t need to iterate over the entire array. You should only test the first two and last two elements. \r\n\r\nEDIT :\r\n\r\nReading the exercise again, it seems you should return true even if the 1 followed by 3 are in indices 1 and 2 of the array (since the requirement is that the unlucky 1 is either in the first two or last two positions - the 3 doesn&#39;t have to be in the first two positions).\r\n\r\n    public boolean unlucky1(int[] nums) {   \r\n      if (nums.length &gt; 1) {\r\n        if (nums[0] == 1 &amp;&amp; nums[1] == 3)\r\n          return true;\r\n        if (nums[nums.length-2] == 1 &amp;&amp; nums[nums.length-1] == 3)\r\n          return true;\r\n      }\r\n      if (nums.length &gt; 2 &amp;&amp; nums[1] == 1 &amp;&amp; nums[2] == 3) {\r\n        return true;\r\n      }\r\n      return false;\r\n    }","title":"CodingBat-Excercise: Return true if the given array contains an unlucky 1 in the first 2 or last 2 positions in the array","body":"<p>It doesn't look like you are following the rules. You don't need to iterate over the entire array. You should only test the first two and last two elements. </p>\n\n<p>EDIT :</p>\n\n<p>Reading the exercise again, it seems you should return true even if the 1 followed by 3 are in indices 1 and 2 of the array (since the requirement is that the unlucky 1 is either in the first two or last two positions - the 3 doesn't have to be in the first two positions).</p>\n\n<pre><code>public boolean unlucky1(int[] nums) {   \n  if (nums.length &gt; 1) {\n    if (nums[0] == 1 &amp;&amp; nums[1] == 3)\n      return true;\n    if (nums[nums.length-2] == 1 &amp;&amp; nums[nums.length-1] == 3)\n      return true;\n  }\n  if (nums.length &gt; 2 &amp;&amp; nums[1] == 1 &amp;&amp; nums[2] == 3) {\n    return true;\n  }\n  return false;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3031328,"reputation":1487,"user_id":2570280,"display_name":"Cahit Gungor"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1483191117,"creation_date":1483191117,"answer_id":41408729,"question_id":41408541,"body_markdown":"Problem definition is\n\n&gt; 1 in the first 2 or last 2 positions\n\n\n    **[X,X,.......,X,X]**\n       \\ /         \\ /\n      first        last\n        2           2\n    positions    positions \n\nThe `X` marked positions are the locations where **unlucky 1** can be located at.\n\n&gt; [2,**1**,3,.....,4,5]\n&gt;\n&gt; [X,**X**,.......,X,X]\n     \nThe **unlucky 1** is in *first two* elements.","title":"CodingBat-Excercise: Return true if the given array contains an unlucky 1 in the first 2 or last 2 positions in the array","body":"<p>Problem definition is</p>\n<blockquote>\n<p>1 in the first 2 or last 2 positions</p>\n</blockquote>\n<pre><code>**[X,X,.......,X,X]**\n   \\ /         \\ /\n  first        last\n    2           2\npositions    positions \n</code></pre>\n<p>The <code>X</code> marked positions are the locations where <strong>unlucky 1</strong> can be located at.</p>\n<blockquote>\n<p>[2,<strong>1</strong>,3,.....,4,5]</p>\n<p>[X,<strong>X</strong>,.......,X,X]</p>\n</blockquote>\n<p>The <strong>unlucky 1</strong> is in <em>first two</em> elements.</p>\n"},{"tags":[],"owner":{"account_id":15365367,"reputation":1,"user_id":11085065,"display_name":"AlexSan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1550587509,"creation_date":1550587509,"answer_id":54768868,"question_id":41408541,"body_markdown":"For example :\r\n\r\n    if(nums.length&lt;2){\r\n                return false;\r\n            }\r\n            for (int i = 0; i&lt;2;i++) {\r\n                if(nums[i]==1&amp;&amp;nums[i+1]==3){\r\n                    return true;\r\n                }\r\n            }\r\n            for (int i = nums.length-1; i&gt;nums.length-2;i--) {\r\n                if(nums[i-1]==1&amp;&amp;nums[i]==3){\r\n                    return true;\r\n                }\r\n            }\r\n            return false;","title":"CodingBat-Excercise: Return true if the given array contains an unlucky 1 in the first 2 or last 2 positions in the array","body":"<p>For example :</p>\n\n<pre><code>if(nums.length&lt;2){\n            return false;\n        }\n        for (int i = 0; i&lt;2;i++) {\n            if(nums[i]==1&amp;&amp;nums[i+1]==3){\n                return true;\n            }\n        }\n        for (int i = nums.length-1; i&gt;nums.length-2;i--) {\n            if(nums[i-1]==1&amp;&amp;nums[i]==3){\n                return true;\n            }\n        }\n        return false;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16521530,"reputation":1,"user_id":11937561,"display_name":"Rares"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1565982717,"creation_date":1565982717,"answer_id":57529956,"question_id":41408541,"body_markdown":"    public boolean unlucky1(int[] nums) {\r\n      if(nums.length&gt;1){\r\n    if(nums[0]==1 &amp;&amp; nums[1]==3) return true;\r\n    if(nums[1]==1 &amp;&amp; nums[2]==3) return true;\r\n    if(nums[nums.length-2]==1 &amp;&amp; nums[nums.length-1]==3) return true;\r\n    \r\n    \r\n     }\r\n     return false;\r\n    }\r\n","title":"CodingBat-Excercise: Return true if the given array contains an unlucky 1 in the first 2 or last 2 positions in the array","body":"<pre><code>public boolean unlucky1(int[] nums) {\n  if(nums.length&gt;1){\nif(nums[0]==1 &amp;&amp; nums[1]==3) return true;\nif(nums[1]==1 &amp;&amp; nums[2]==3) return true;\nif(nums[nums.length-2]==1 &amp;&amp; nums[nums.length-1]==3) return true;\n\n\n }\n return false;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9180871,"reputation":11,"user_id":6824742,"display_name":"Jailton Alkimin Louzada"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1568810578,"creation_date":1568810578,"answer_id":57993118,"question_id":41408541,"body_markdown":"I&#39;m trying to solve those CodingBat problems with fewer code lines as possible. Let me share my solution for this problems using the ternary operator.\r\n\r\n\tpublic boolean unlucky1(int[] nums) {\r\n\t\t  return nums.length &lt;= 1 ? false : (nums.length == 2 &amp;&amp; nums[0] == 1 &amp;&amp; nums[1] == 3) ? true \r\n\t\t\t\t  : (nums[0] == 1 &amp;&amp; nums[1] ==3) ? true : (nums[1] == 1 &amp;&amp; nums[2] ==3) \r\n\t\t\t\t\t\t  ? true : (nums[nums.length-2] == 1 &amp;&amp; nums[nums.length-1] ==3);\r\n\t}","title":"CodingBat-Excercise: Return true if the given array contains an unlucky 1 in the first 2 or last 2 positions in the array","body":"<p>I'm trying to solve those CodingBat problems with fewer code lines as possible. Let me share my solution for this problems using the ternary operator.</p>\n\n<pre><code>public boolean unlucky1(int[] nums) {\n      return nums.length &lt;= 1 ? false : (nums.length == 2 &amp;&amp; nums[0] == 1 &amp;&amp; nums[1] == 3) ? true \n              : (nums[0] == 1 &amp;&amp; nums[1] ==3) ? true : (nums[1] == 1 &amp;&amp; nums[2] ==3) \n                      ? true : (nums[nums.length-2] == 1 &amp;&amp; nums[nums.length-1] ==3);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18326680,"reputation":157,"user_id":13346152,"display_name":"ritesh_ratn"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1592815278,"creation_date":1592815278,"answer_id":62510510,"question_id":41408541,"body_markdown":"This code works fine:-\r\n\r\n    public boolean unlucky1(int[] nums) {\r\n      int length=nums.length;\r\n      if(nums.length==0||nums.length==1){\r\n        return false;\r\n      }\r\n     else if((nums[0]==1&amp;&amp;nums[1]==3)||(nums[1] ==1 &amp;&amp; nums[2] ==3)||(nums[length-1]==3)&amp;&amp;nums[length-2]==1){\r\n        return true;\r\n      }\r\n      return false;\r\n    }\r\n\r\n","title":"CodingBat-Excercise: Return true if the given array contains an unlucky 1 in the first 2 or last 2 positions in the array","body":"<p>This code works fine:-</p>\n<pre><code>public boolean unlucky1(int[] nums) {\n  int length=nums.length;\n  if(nums.length==0||nums.length==1){\n    return false;\n  }\n else if((nums[0]==1&amp;&amp;nums[1]==3)||(nums[1] ==1 &amp;&amp; nums[2] ==3)||(nums[length-1]==3)&amp;&amp;nums[length-2]==1){\n    return true;\n  }\n  return false;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22312572,"reputation":140,"user_id":16561343,"display_name":"Evgeniy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653129148,"creation_date":1653129148,"answer_id":72328733,"question_id":41408541,"body_markdown":"My solution passes all the tests:\r\n\r\n    public boolean unlucky1(int[] nums) {\r\n      \r\n      if (nums.length == 2 &amp;&amp; nums[0] == 1 &amp;&amp; nums[1] == 3) {\r\n        return true;\r\n      }\r\n      \r\n      if (nums.length &gt;= 3) {\r\n        for (int i = 0; i &lt; 2; i++) {\r\n          if (nums[i] == 1 &amp;&amp; nums[i+1] == 3) {\r\n            return true;\r\n          }\r\n          \r\n          if (nums[nums.length - 2] == 1 &amp;&amp; nums[nums.length - 1] == 3) {\r\n            return true;\r\n          }\r\n        }\r\n      }\r\n      \r\n      \r\n      return false;\r\n    }\r\n\r\n\r\n","title":"CodingBat-Excercise: Return true if the given array contains an unlucky 1 in the first 2 or last 2 positions in the array","body":"<p>My solution passes all the tests:</p>\n<pre><code>public boolean unlucky1(int[] nums) {\n  \n  if (nums.length == 2 &amp;&amp; nums[0] == 1 &amp;&amp; nums[1] == 3) {\n    return true;\n  }\n  \n  if (nums.length &gt;= 3) {\n    for (int i = 0; i &lt; 2; i++) {\n      if (nums[i] == 1 &amp;&amp; nums[i+1] == 3) {\n        return true;\n      }\n      \n      if (nums[nums.length - 2] == 1 &amp;&amp; nums[nums.length - 1] == 3) {\n        return true;\n      }\n    }\n  }\n  \n  \n  return false;\n}\n</code></pre>\n"}],"owner":{"account_id":8572109,"reputation":311,"user_id":7149408,"accept_rate":84,"display_name":"Julian "},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1981,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":41408729,"answer_count":7,"score":1,"last_activity_date":1653129148,"creation_date":1483189594,"question_id":41408541,"body_markdown":"&gt;We&#39;ll say that a 1 immediately followed by a 3 in an array is an &quot;unlucky&quot; 1. Return true if the given array contains an unlucky 1 in the first 2 or last 2 positions in the array.\r\n\r\nThe excercise can be found here:\r\n\r\nhttp://codingbat.com/prob/p197308\r\n\r\nMy own approach works like this:\r\n\r\n    public boolean unlucky1(int[] nums) {\r\n  \r\n      for (int i = 0; i &lt; nums.length-1; i++) {\r\n        if (nums[i] == 1 &amp;&amp; nums[i+1] == 3)\r\n          return true;\r\n      }\r\n      return false;\r\n    }\r\n\r\nThis is true for every array except for [1, 1, 1, 3, 1]. Now I understand why it doesn&#39;t work for this array, but why does it work for [2, 1, 3, 4, 5] then? This array doesn&#39;t have a 1 followed by a 3 in the first two or last positions either. Am I getting this excercise wrong?","title":"CodingBat-Excercise: Return true if the given array contains an unlucky 1 in the first 2 or last 2 positions in the array","body":"<blockquote>\n  <p>We'll say that a 1 immediately followed by a 3 in an array is an \"unlucky\" 1. Return true if the given array contains an unlucky 1 in the first 2 or last 2 positions in the array.</p>\n</blockquote>\n\n<p>The excercise can be found here:</p>\n\n<p><a href=\"http://codingbat.com/prob/p197308\" rel=\"nofollow noreferrer\">http://codingbat.com/prob/p197308</a></p>\n\n<p>My own approach works like this:</p>\n\n<pre><code>public boolean unlucky1(int[] nums) {\n\n  for (int i = 0; i &lt; nums.length-1; i++) {\n    if (nums[i] == 1 &amp;&amp; nums[i+1] == 3)\n      return true;\n  }\n  return false;\n}\n</code></pre>\n\n<p>This is true for every array except for [1, 1, 1, 3, 1]. Now I understand why it doesn't work for this array, but why does it work for [2, 1, 3, 4, 5] then? This array doesn't have a 1 followed by a 3 in the first two or last positions either. Am I getting this excercise wrong?</p>\n"},{"tags":["java","android","firebase-realtime-database","exoplayer"],"comments":[{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1653209757,"post_id":72325184,"comment_id":127791479,"body_markdown":"Are you getting the video from Firebase Storage?","body":"Are you getting the video from Firebase Storage?"},{"owner":{"display_name":"user15994341"},"score":0,"creation_date":1653221743,"post_id":72325184,"comment_id":127793584,"body_markdown":"@AlexMamo yess I&#39;m reading a url from firebase storage.","body":"@AlexMamo yess I&#39;m reading a url from firebase storage."}],"owner":{"display_name":"user15994341"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":200,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1653128841,"creation_date":1653084255,"question_id":72325184,"body_markdown":"I&#39;m making an app which plays videos from a URL. I&#39;m using Exoplayer, but I noticed that when I play an online video in Exoplayer, it consumes too much data. For example, when I play a movie URL, it just loads for 2-3 seconds and my Exoplayer consumes around 400mb, and I&#39;m not sure why.\r\n\r\nThis my video playing method in Exoplayer. Is there something I did wrong?\r\n\r\n```java\r\nprivate void playvideo() {\r\n\r\n        String MOVIEURL = getIntent().getStringExtra(&quot;playthis&quot;);\r\nUri uri = Uri.parse(MOVIEURL);\r\nplayer = new SimpleExoPlayer.Builder(this).setSeekForwardIncrementMs(10000).setSeekBackIncrementMs(10000).build();\r\n\r\n        DefaultDataSourceFactory dataSourceFactory = new DefaultDataSourceFactory(\r\n                this, Util.getUserAgent(this , &quot;app&quot;));\r\nconcatenatingMediaSource = new ConcatenatingMediaSource();\r\n\r\n//  app:rewind_increment=&quot;1e000&quot;\r\n//    app:fastforward_increment=&quot;10000&quot;\r\n\r\n        MediaSource mediaSource = new ProgressiveMediaSource.Factory(dataSourceFactory)\r\n                .createMediaSource(MediaItem.fromUri(Uri.parse(String.valueOf(uri))));\r\n\r\n        concatenatingMediaSource.addMediaSource(mediaSource);\r\n        playerView.setPlayer(player);\r\n        playerView.setKeepScreenOn(true);\r\n        player.prepare(concatenatingMediaSource);\r\n        player.seekTo(position , C.TIME_UNSET);\r\n        playError();\r\n        \r\n\r\n    }\r\n\r\n    private void playError() {\r\n        player.addListener(new Player.Listener() {\r\n            @Override\r\n            public void onPlayerError(PlaybackException error) {\r\n                Toast.makeText(video_player.this, &quot;Error&quot;, Toast.LENGTH_SHORT).show();\r\n            }\r\n        });\r\n\r\n\r\n```","title":"Exoplayer consumes too much data while playing online video","body":"<p>I'm making an app which plays videos from a URL. I'm using Exoplayer, but I noticed that when I play an online video in Exoplayer, it consumes too much data. For example, when I play a movie URL, it just loads for 2-3 seconds and my Exoplayer consumes around 400mb, and I'm not sure why.</p>\n<p>This my video playing method in Exoplayer. Is there something I did wrong?</p>\n<pre class=\"lang-java prettyprint-override\"><code>private void playvideo() {\n\n        String MOVIEURL = getIntent().getStringExtra(&quot;playthis&quot;);\nUri uri = Uri.parse(MOVIEURL);\nplayer = new SimpleExoPlayer.Builder(this).setSeekForwardIncrementMs(10000).setSeekBackIncrementMs(10000).build();\n\n        DefaultDataSourceFactory dataSourceFactory = new DefaultDataSourceFactory(\n                this, Util.getUserAgent(this , &quot;app&quot;));\nconcatenatingMediaSource = new ConcatenatingMediaSource();\n\n//  app:rewind_increment=&quot;1e000&quot;\n//    app:fastforward_increment=&quot;10000&quot;\n\n        MediaSource mediaSource = new ProgressiveMediaSource.Factory(dataSourceFactory)\n                .createMediaSource(MediaItem.fromUri(Uri.parse(String.valueOf(uri))));\n\n        concatenatingMediaSource.addMediaSource(mediaSource);\n        playerView.setPlayer(player);\n        playerView.setKeepScreenOn(true);\n        player.prepare(concatenatingMediaSource);\n        player.seekTo(position , C.TIME_UNSET);\n        playError();\n        \n\n    }\n\n    private void playError() {\n        player.addListener(new Player.Listener() {\n            @Override\n            public void onPlayerError(PlaybackException error) {\n                Toast.makeText(video_player.this, &quot;Error&quot;, Toast.LENGTH_SHORT).show();\n            }\n        });\n\n\n</code></pre>\n"},{"tags":["java","exception","input"],"comments":[{"owner":{"account_id":263656,"reputation":1,"user_id":549372,"accept_rate":100,"display_name":"Martin Zeitler"},"score":0,"creation_date":1653119944,"post_id":72327668,"comment_id":127777495,"body_markdown":"Does this answer your question? [Scanner nextLine() NoSuchElementException](https://stackoverflow.com/questions/12273794/scanner-nextline-nosuchelementexception)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/12273794/scanner-nextline-nosuchelementexception\">Scanner nextLine() NoSuchElementException</a>"},{"owner":{"account_id":20747331,"reputation":35,"user_id":15235665,"display_name":"John Ng"},"score":0,"creation_date":1653123753,"post_id":72327668,"comment_id":127778132,"body_markdown":"Starting to understand now. Need a bit more time.","body":"Starting to understand now. Need a bit more time."}],"answers":[{"tags":[],"owner":{"account_id":20747331,"reputation":35,"user_id":15235665,"display_name":"John Ng"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1653128530,"creation_date":1653127972,"answer_id":72328609,"question_id":72327668,"body_markdown":"Got it!, the code ```hasNext()``` will ensure that the error will not appear. This method is to check whether there is another line in the input of the scanner and to check if its filled or empty. I am also using ```null``` to check my statement after passing the loop so the program stops if the input value is still ```null``` while keeping the function of ```Ctrl+D```.\r\n\r\n    public static void main(String[] args) {\r\n        Integer input1 = null;\r\n        System.out.println(&quot;Your first input integer? &quot;);\r\n        Scanner scanner1 = new Scanner(System.in);\r\n        while(scanner1.hasNextLine()) {\r\n            String line = scanner1.nextLine();\r\n            try {\r\n                input1 = Integer.parseInt(line);\r\n                break;\r\n            }\r\n            catch (NumberFormatException e) {\r\n                System.out.println(&quot;Use an integer! Try again!&quot;);\r\n                System.out.println(&quot;Your first input integer? &quot;);\r\n            }\r\n        }\r\n        if (input1 == null) {\r\n            System.out.println(&quot;Console has been terminated successfully!&quot;);\r\n            System.exit(0);\r\n        }\r\n        System.out.println(input1);\r\n    }\r\n\r\nThis solution is not prefect of course but I would appreciate if there were much simpler options.","title":"NoSuchElementException Problem in User Input Java","body":"<p>Got it!, the code <code>hasNext()</code> will ensure that the error will not appear. This method is to check whether there is another line in the input of the scanner and to check if its filled or empty. I am also using <code>null</code> to check my statement after passing the loop so the program stops if the input value is still <code>null</code> while keeping the function of <code>Ctrl+D</code>.</p>\n<pre><code>public static void main(String[] args) {\n    Integer input1 = null;\n    System.out.println(&quot;Your first input integer? &quot;);\n    Scanner scanner1 = new Scanner(System.in);\n    while(scanner1.hasNextLine()) {\n        String line = scanner1.nextLine();\n        try {\n            input1 = Integer.parseInt(line);\n            break;\n        }\n        catch (NumberFormatException e) {\n            System.out.println(&quot;Use an integer! Try again!&quot;);\n            System.out.println(&quot;Your first input integer? &quot;);\n        }\n    }\n    if (input1 == null) {\n        System.out.println(&quot;Console has been terminated successfully!&quot;);\n        System.exit(0);\n    }\n    System.out.println(input1);\n}\n</code></pre>\n<p>This solution is not prefect of course but I would appreciate if there were much simpler options.</p>\n"}],"owner":{"account_id":20747331,"reputation":35,"user_id":15235665,"display_name":"John Ng"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72328609,"answer_count":1,"score":0,"last_activity_date":1653128530,"creation_date":1653119361,"question_id":72327668,"body_markdown":"I&#39;m confused while using an Java program I created.\r\n\r\n    public static void main(String[] args) {\r\n        Scanner scanner1 = new Scanner(System.in);\r\n        int input1 = 0;\r\n        boolean Input1Real = false;\r\n        System.out.print(&quot;Your first input integer? &quot;);\r\n        while (!Input1Real) {\r\n            String line = scanner1.nextLine();\r\n            try {\r\n                input1 = Integer.parseInt(line);\r\n                Input1Real = true;\r\n            }\r\n            catch (NumberFormatException e) {\r\n                System.out.println(&quot;Use an integer! Try again!&quot;);\r\n                System.out.print(&quot;Your first input integer? &quot;);\r\n            }\r\n        }\r\n        System.out.println(&quot;Your first input is &quot; + input1);\r\n    }\r\n\r\nInitially, when a user ```Ctrl+D``` during the input, it will promptly end the program and display an error in the form of this,      \r\n        \r\n        Your first input integer? ^D\r\n        Class transformation time: 0.0073103s for 244 classes or 2.9960245901639343E-5s per class\r\n        Exception in thread &quot;main&quot; java.util.NoSuchElementException: No line found\r\n            at java.base/java.util.Scanner.nextLine(Scanner.java:1651);\r\n            at Playground.Test1.main(Test1.java:13)\r\n\r\nDoing a bit of research I note that ```Ctrl+D``` terminates the input of sort. Therefore, I tried add few more lines to my codes to prevent the error from appearing again and instead printing a simple  ```&quot;Console has been terminated successfully!&quot;``` and as far as my skills can go.\r\n\r\n    public static void main(String[] args) {\r\n        Scanner scanner1 = new Scanner(System.in);\r\n        int input1 = 0;\r\n        boolean Input1Real = false;\r\n        System.out.print(&quot;Your first input integer? &quot;);\r\n        while (!Input1Real) {\r\n            String line = scanner1.nextLine();\r\n            try {\r\n                try {\r\n                    input1 = Integer.parseInt(line);\r\n                    Input1Real = true;\r\n                }\r\n                catch (NumberFormatException e) {\r\n                    System.out.println(&quot;Use an integer! Try again!&quot;);\r\n                    System.out.print(&quot;Your first input integer? &quot;);\r\n                }\r\n            }\r\n            catch (NoSuchElementException e) {\r\n                System.out.println(&quot;Console has been terminated successfully!&quot;);\r\n            }\r\n        }\r\n        System.out.println(&quot;Your first input is &quot; + input1);\r\n    }\r\n\r\nIn the end, I still got the same error. ","title":"NoSuchElementException Problem in User Input Java","body":"<p>I'm confused while using an Java program I created.</p>\n<pre><code>public static void main(String[] args) {\n    Scanner scanner1 = new Scanner(System.in);\n    int input1 = 0;\n    boolean Input1Real = false;\n    System.out.print(&quot;Your first input integer? &quot;);\n    while (!Input1Real) {\n        String line = scanner1.nextLine();\n        try {\n            input1 = Integer.parseInt(line);\n            Input1Real = true;\n        }\n        catch (NumberFormatException e) {\n            System.out.println(&quot;Use an integer! Try again!&quot;);\n            System.out.print(&quot;Your first input integer? &quot;);\n        }\n    }\n    System.out.println(&quot;Your first input is &quot; + input1);\n}\n</code></pre>\n<p>Initially, when a user <code>Ctrl+D</code> during the input, it will promptly end the program and display an error in the form of this,</p>\n<pre><code>    Your first input integer? ^D\n    Class transformation time: 0.0073103s for 244 classes or 2.9960245901639343E-5s per class\n    Exception in thread &quot;main&quot; java.util.NoSuchElementException: No line found\n        at java.base/java.util.Scanner.nextLine(Scanner.java:1651);\n        at Playground.Test1.main(Test1.java:13)\n</code></pre>\n<p>Doing a bit of research I note that <code>Ctrl+D</code> terminates the input of sort. Therefore, I tried add few more lines to my codes to prevent the error from appearing again and instead printing a simple  <code>&quot;Console has been terminated successfully!&quot;</code> and as far as my skills can go.</p>\n<pre><code>public static void main(String[] args) {\n    Scanner scanner1 = new Scanner(System.in);\n    int input1 = 0;\n    boolean Input1Real = false;\n    System.out.print(&quot;Your first input integer? &quot;);\n    while (!Input1Real) {\n        String line = scanner1.nextLine();\n        try {\n            try {\n                input1 = Integer.parseInt(line);\n                Input1Real = true;\n            }\n            catch (NumberFormatException e) {\n                System.out.println(&quot;Use an integer! Try again!&quot;);\n                System.out.print(&quot;Your first input integer? &quot;);\n            }\n        }\n        catch (NoSuchElementException e) {\n            System.out.println(&quot;Console has been terminated successfully!&quot;);\n        }\n    }\n    System.out.println(&quot;Your first input is &quot; + input1);\n}\n</code></pre>\n<p>In the end, I still got the same error.</p>\n"},{"tags":["java","user-interface","javafx","termux"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1651408080,"post_id":72076687,"comment_id":127353323,"body_markdown":"Really! What is termux running on?","body":"Really! What is termux running on?"},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":2,"creation_date":1651411928,"post_id":72076687,"comment_id":127354112,"body_markdown":"As far as I am aware, [OpenJDK](https://openjdk.java.net/) does not include JavaFX. You can download JavaFX SDK from [openjfx](https://openjfx.io/).","body":"As far as I am aware, <a href=\"https://openjdk.java.net/\" rel=\"nofollow noreferrer\">OpenJDK</a> does not include JavaFX. You can download JavaFX SDK from <a href=\"https://openjfx.io/\" rel=\"nofollow noreferrer\">openjfx</a>."},{"owner":{"account_id":5347179,"reputation":10433,"user_id":4262407,"accept_rate":40,"display_name":"mipa"},"score":1,"creation_date":1651414391,"post_id":72076687,"comment_id":127354704,"body_markdown":"The JavaFX downloads are not bound to a specific version of Java. Any version &gt;=11 will do.","body":"The JavaFX downloads are not bound to a specific version of Java. Any version &gt;=11 will do."}],"answers":[{"tags":[],"owner":{"account_id":25350114,"reputation":36,"user_id":19167113,"display_name":"Yasin Ahmed"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1653128434,"creation_date":1653128251,"answer_id":72328639,"question_id":72076687,"body_markdown":"For faster development and improvement, JavaFX was excluded from Java SE since OpenJDK 11, and now managed as a separate project (see https://github.com/openjdk/jfx). If you want to use JavaFX with Java SE, you need to download JavaFX jmods/SDK from https://www.gluonhq.com/products/javafx, and put them in module path / class path when building.\r\n\r\nHowever, the official builds of JavaFX can&#39;t be used in Termux because the architecture is incompatible. There is already a package request in Termux&#39;s official packages Github repository (see https://github.com/termux/termux-packages/issues/10225), if this package is built and added into Termux, then you can install it simply by `apt install openjfx` and use it in your build.","title":"Openjdk-17.0.2 with javafx in termux","body":"<p>For faster development and improvement, JavaFX was excluded from Java SE since OpenJDK 11, and now managed as a separate project (see <a href=\"https://github.com/openjdk/jfx\" rel=\"nofollow noreferrer\">https://github.com/openjdk/jfx</a>). If you want to use JavaFX with Java SE, you need to download JavaFX jmods/SDK from <a href=\"https://www.gluonhq.com/products/javafx\" rel=\"nofollow noreferrer\">https://www.gluonhq.com/products/javafx</a>, and put them in module path / class path when building.</p>\n<p>However, the official builds of JavaFX can't be used in Termux because the architecture is incompatible. There is already a package request in Termux's official packages Github repository (see <a href=\"https://github.com/termux/termux-packages/issues/10225\" rel=\"nofollow noreferrer\">https://github.com/termux/termux-packages/issues/10225</a>), if this package is built and added into Termux, then you can install it simply by <code>apt install openjfx</code> and use it in your build.</p>\n"}],"owner":{"account_id":22922827,"reputation":65,"user_id":18645785,"display_name":"Adarshyodha"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2369,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":72328639,"answer_count":1,"score":0,"last_activity_date":1653128434,"creation_date":1651407916,"question_id":72076687,"body_markdown":"Hello I installed openjdk-17.0.2\r\nIn termux and I want to make a javafx application I start finding the sdk of javafx for java 17.0.2 but I got nothing. Can anybody tell how can I install the javafx for the openjdk 17.0.2. Or how can I install java 18.0.1 in termux because there is a option to download javafx sdk for java 18.0.1 but not for java 17.0.2.","title":"Openjdk-17.0.2 with javafx in termux","body":"<p>Hello I installed openjdk-17.0.2\nIn termux and I want to make a javafx application I start finding the sdk of javafx for java 17.0.2 but I got nothing. Can anybody tell how can I install the javafx for the openjdk 17.0.2. Or how can I install java 18.0.1 in termux because there is a option to download javafx sdk for java 18.0.1 but not for java 17.0.2.</p>\n"},{"tags":["java","loops","if-statement","file-structure"],"comments":[{"owner":{"account_id":10491815,"reputation":26310,"user_id":7733418,"display_name":"Yunnosch"},"score":2,"creation_date":1620954017,"post_id":67527843,"comment_id":119357597,"body_markdown":"Please provide a [mre], this does not look like all of your relevant code. Maybe that is the problem, but that must be clarified.","body":"Please provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>, this does not look like all of your relevant code. Maybe that is the problem, but that must be clarified."}],"answers":[{"tags":[],"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1620954129,"creation_date":1620954129,"answer_id":67527880,"question_id":67527843,"body_markdown":"You have two options, use the class name `go` to identify the class containing the method\r\n\r\n    public static void main(String[] args) {\r\n        go.go(7,3);\r\n    }\r\n\r\n**or** `static import` it like\r\n\r\n    import static go.go;\r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            go(7,3);\r\n        }\r\n    }","title":"I cant access a class I defined from the main loop?","body":"<p>You have two options, use the class name <code>go</code> to identify the class containing the method</p>\n<pre><code>public static void main(String[] args) {\n    go.go(7,3);\n}\n</code></pre>\n<p><strong>or</strong> <code>static import</code> it like</p>\n<pre><code>import static go.go;\npublic class Main {\n    public static void main(String[] args) {\n        go(7,3);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6243711,"reputation":1571,"user_id":4856413,"display_name":"sanjeevRm"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1620954309,"creation_date":1620954309,"answer_id":67527892,"question_id":67527843,"body_markdown":"First thing first, Class name should start with upper case, your another class should be *Go.java* , to access static method\r\nRefer Class name that is **Go.go(7,3);**","title":"I cant access a class I defined from the main loop?","body":"<p>First thing first, Class name should start with upper case, your another class should be <em>Go.java</em> , to access static method\nRefer Class name that is <strong>Go.go(7,3);</strong></p>\n"}],"owner":{"account_id":21244947,"reputation":17,"user_id":15627761,"display_name":"RustyPaperPlate"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":53,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":2,"score":-2,"last_activity_date":1653128381,"creation_date":1620953724,"question_id":67527843,"body_markdown":"I have an extremely simple piece of code where I am calling a method that I defined, and it wont run because it says I haven&#39;t defined the method?\r\n\r\n    class Main {\r\n      public static void main(String[] args) {\r\n    go(7,3);\r\n      }\r\n\r\n}\r\n/// in a separate file named go.java --&gt;\r\n\r\n     class go{\r\n    public static int go(int x, int y){\r\n     if(x &lt;= 1)\r\n         return y;\r\n      else\r\n          return go(x - 1, y) + y;\r\n  }\r\n}","title":"I cant access a class I defined from the main loop?","body":"<p>I have an extremely simple piece of code where I am calling a method that I defined, and it wont run because it says I haven't defined the method?</p>\n<pre><code>class Main {\n  public static void main(String[] args) {\ngo(7,3);\n  }\n</code></pre>\n<p>}\n/// in a separate file named go.java --&gt;</p>\n<pre><code> class go{\npublic static int go(int x, int y){\n if(x &lt;= 1)\n     return y;\n  else\n      return go(x - 1, y) + y;\n</code></pre>\n<p>}\n}</p>\n"},{"tags":["java","intellij-idea","jar"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":1,"creation_date":1621199722,"post_id":67561638,"comment_id":119417344,"body_markdown":"Looks like JavaFX was not packaged into the jar. Notice that [from Java 11 onward, JavaFX is no longer packaged with the JDK](https://www.infoworld.com/article/3261066/javafx-will-be-removed-from-the-java-jdk.html).","body":"Looks like JavaFX was not packaged into the jar. Notice that <a href=\"https://www.infoworld.com/article/3261066/javafx-will-be-removed-from-the-java-jdk.html\" rel=\"nofollow noreferrer\">from Java 11 onward, JavaFX is no longer packaged with the JDK</a>."},{"owner":{"account_id":21612150,"reputation":53,"user_id":15938510,"display_name":"Dyson"},"score":0,"creation_date":1621200762,"post_id":67561638,"comment_id":119417558,"body_markdown":"I then follow this [link](https://www.jetbrains.com/help/idea/packaging-javafx-applications.html#java_fx_build_artifact) on IntelliJ page to build an artifact of JavaFx Application, but exact same error occurs. Any idea how can I package JavaFX in to the Jar? Thanks.","body":"I then follow this <a href=\"https://www.jetbrains.com/help/idea/packaging-javafx-applications.html#java_fx_build_artifact\" rel=\"nofollow noreferrer\">link</a> on IntelliJ page to build an artifact of JavaFx Application, but exact same error occurs. Any idea how can I package JavaFX in to the Jar? Thanks."},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":1,"creation_date":1621202054,"post_id":67561638,"comment_id":119417813,"body_markdown":"When packaged in the JAR with your application, JavaFX ends up on the class-path. Technically that configuration is not supported and, since JavaFX 16, a warning is actually emitted. However, everything should still work except for one caveat: _Your main class cannot be assignable to `Application`_. Create a separate main class whose main method simply calls `Application.launch(MainApp.class, args)`. That all being said, you may want to look into alternative deployment strategies (e.g. `jlink` or `jpackage`).","body":"When packaged in the JAR with your application, JavaFX ends up on the class-path. Technically that configuration is not supported and, since JavaFX 16, a warning is actually emitted. However, everything should still work except for one caveat: <i>Your main class cannot be assignable to <code>Application</code></i>. Create a separate main class whose main method simply calls <code>Application.launch(MainApp.class, args)</code>. That all being said, you may want to look into alternative deployment strategies (e.g. <code>jlink</code> or <code>jpackage</code>)."},{"owner":{"account_id":21612150,"reputation":53,"user_id":15938510,"display_name":"Dyson"},"score":0,"creation_date":1621203227,"post_id":67561638,"comment_id":119418054,"body_markdown":"Hi, I then create a class `Driver` with one `public static void main(String[] args) {Application.launch(MainApp.class, args) }` but same error occurs (Instead, this time it&#39;s an exception of `Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: javafx/application/Application`).\n\nSame thing of runnable in IntelliJ but not in teminal.","body":"Hi, I then create a class <code>Driver</code> with one <code>public static void main(String[] args) {Application.launch(MainApp.class, args) }</code> but same error occurs (Instead, this time it&#39;s an exception of <code>Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: javafx&#47;application&#47;Application</code>).  Same thing of runnable in IntelliJ but not in teminal."},{"owner":{"account_id":21612150,"reputation":53,"user_id":15938510,"display_name":"Dyson"},"score":0,"creation_date":1621212296,"post_id":67561638,"comment_id":119419408,"body_markdown":"@Slaw Looking closely into what you suggested along with some search on internet, I am able to run the jar file by `java --module-path $PATH_TO_FX --add-modules javafx.controls -jar Java_Playground.jar`\nTo run this, first need to download [Link](https://gluonhq.com/products/javafx/) JavaFX SDK as it&#39;s not included in Java 16. And then `export PATH_TO_FX=&lt;path&gt;/&lt;sdk&gt;/lib`. Then the above command can be used to run the jar outside of IDE. For anyone who runs into similar problem, I hope this helps. And I will look into other deployment strategies since this is not ideal still. Thanks for help.","body":"@Slaw Looking closely into what you suggested along with some search on internet, I am able to run the jar file by <code>java --module-path $PATH_TO_FX --add-modules javafx.controls -jar Java_Playground.jar</code> To run this, first need to download <a href=\"https://gluonhq.com/products/javafx/\" rel=\"nofollow noreferrer\">Link</a> JavaFX SDK as it&#39;s not included in Java 16. And then <code>export PATH_TO_FX=&lt;path&gt;&#47;&lt;sdk&gt;&#47;lib</code>. Then the above command can be used to run the jar outside of IDE. For anyone who runs into similar problem, I hope this helps. And I will look into other deployment strategies since this is not ideal still. Thanks for help."}],"owner":{"account_id":21612150,"reputation":53,"user_id":15938510,"display_name":"Dyson"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":547,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1653128143,"creation_date":1621199620,"question_id":67561638,"body_markdown":"I build a JavaFX project in IntelliJ IDE, and try to build executable Jar using built in artifacts. The output jar can be executed using `Right Click` -&gt; `Run &#39;Java_Playground.jar&#39;` and runs perfectly. However, if I try to execute the jar in terminal by `java -jar Java_Playground.jar` I got error message of\r\n```\r\nError: Could not find or load main class main.MainApp\r\nCaused by: java.lang.NoClassDefFoundError: javafx/application/Application\r\n```\r\n\r\nI have the `MANIFEST.MF` generated by IntelliJ in `src/main/META-INF/` and I have tried setting it up by manually in `src/main/resources/META-INF/` and both generate the same error.\r\n\r\nI have tried specified the `Class-Path` in the `MANIFEST.MF` with `.` and same error.\r\n\r\nI have checked the output jar by unarchive it and it does contain the `main.MainApp.class` and the correct `MANIFEST.MF` along with all other classes.\r\n\r\nSample code is below:\r\n\r\nMANIFEST.MF\r\n```\r\nManifest-Version: 1.0\r\nMain-Class: main.MainApp\r\n```\r\n\r\nMainApp\r\n```\r\npublic class MainApp extends Application {\r\n    private Stage primaryStage;\r\n    private BorderPane rootLayout;\r\n\r\n    private ObservableList&lt;Person&gt; personObservableList = FXCollections.observableArrayList();\r\n\r\n    /**\r\n     * Constructor\r\n     */\r\n    public MainApp() {\r\n        personObservableList.add(new Person(&quot;aaa&quot;, &quot;1234&quot;, &quot;WS&quot;));\r\n        personObservableList.add(new Person(&quot;bbb&quot;, &quot;2345&quot;, &quot;S&quot;));\r\n        personObservableList.add(new Person(&quot;ccc&quot;, &quot;3456&quot;, &quot;WS&quot;));\r\n        personObservableList.add(new Person(&quot;ddd&quot;, &quot;4567&quot;, &quot;L&quot;));\r\n    }\r\n\r\n    /**\r\n     * Returns the data as an observable list of Person\r\n     * @return\r\n     */\r\n    public ObservableList&lt;Person&gt; getPersonObservableList() {\r\n        return personObservableList;\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        launch(args);\r\n    }\r\n\\*\r\nRest of code\r\n*/\r\n}\r\n```\r\n\r\nProject Structure\r\n\r\n![Project Structure][1]\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/SvaDg.png","title":"Jar file created by IntelliJ won&#39;t run outside of the IDE (Java)","body":"<p>I build a JavaFX project in IntelliJ IDE, and try to build executable Jar using built in artifacts. The output jar can be executed using <code>Right Click</code> -&gt; <code>Run 'Java_Playground.jar'</code> and runs perfectly. However, if I try to execute the jar in terminal by <code>java -jar Java_Playground.jar</code> I got error message of</p>\n<pre><code>Error: Could not find or load main class main.MainApp\nCaused by: java.lang.NoClassDefFoundError: javafx/application/Application\n</code></pre>\n<p>I have the <code>MANIFEST.MF</code> generated by IntelliJ in <code>src/main/META-INF/</code> and I have tried setting it up by manually in <code>src/main/resources/META-INF/</code> and both generate the same error.</p>\n<p>I have tried specified the <code>Class-Path</code> in the <code>MANIFEST.MF</code> with <code>.</code> and same error.</p>\n<p>I have checked the output jar by unarchive it and it does contain the <code>main.MainApp.class</code> and the correct <code>MANIFEST.MF</code> along with all other classes.</p>\n<p>Sample code is below:</p>\n<p>MANIFEST.MF</p>\n<pre><code>Manifest-Version: 1.0\nMain-Class: main.MainApp\n</code></pre>\n<p>MainApp</p>\n<pre><code>public class MainApp extends Application {\n    private Stage primaryStage;\n    private BorderPane rootLayout;\n\n    private ObservableList&lt;Person&gt; personObservableList = FXCollections.observableArrayList();\n\n    /**\n     * Constructor\n     */\n    public MainApp() {\n        personObservableList.add(new Person(&quot;aaa&quot;, &quot;1234&quot;, &quot;WS&quot;));\n        personObservableList.add(new Person(&quot;bbb&quot;, &quot;2345&quot;, &quot;S&quot;));\n        personObservableList.add(new Person(&quot;ccc&quot;, &quot;3456&quot;, &quot;WS&quot;));\n        personObservableList.add(new Person(&quot;ddd&quot;, &quot;4567&quot;, &quot;L&quot;));\n    }\n\n    /**\n     * Returns the data as an observable list of Person\n     * @return\n     */\n    public ObservableList&lt;Person&gt; getPersonObservableList() {\n        return personObservableList;\n    }\n\n    public static void main(String[] args) {\n        launch(args);\n    }\n\\*\nRest of code\n*/\n}\n</code></pre>\n<p>Project Structure</p>\n<p><img src=\"https://i.stack.imgur.com/SvaDg.png\" alt=\"Project Structure\" /></p>\n"},{"tags":["java","selenium"],"comments":[{"owner":{"account_id":24920282,"reputation":186,"user_id":18788632,"display_name":"zodiac508"},"score":0,"creation_date":1652982641,"post_id":72308990,"comment_id":127745811,"body_markdown":"Does this answer your question? [Converting string into datetime](https://stackoverflow.com/questions/466345/converting-string-into-datetime)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/466345/converting-string-into-datetime\">Converting string into datetime</a>"},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1652986973,"post_id":72308990,"comment_id":127747179,"body_markdown":"What did your search bring up? It would probably get you a good answer faster than waiting for one to be posted here.","body":"What did your search bring up? It would probably get you a good answer faster than waiting for one to be posted here."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1652986978,"post_id":72308990,"comment_id":127747184,"body_markdown":"In Java: `LocalDate.parse(&quot;5/14/2022&quot;, DateTimeFormatter.ofPattern(&quot;M/d/u&quot;)).format(DateTimeFormatter.ofPattern(&quot;MMdduuuu&quot;))`","body":"In Java: <code>LocalDate.parse(&quot;5&#47;14&#47;2022&quot;, DateTimeFormatter.ofPattern(&quot;M&#47;d&#47;u&quot;)).format(DateTimeFormatt&zwnj;&#8203;er.ofPattern(&quot;MMdduu&zwnj;&#8203;uu&quot;))</code>"},{"owner":{"account_id":25336716,"reputation":27,"user_id":19155750,"display_name":"ariana"},"score":0,"creation_date":1652988188,"post_id":72308990,"comment_id":127747539,"body_markdown":"@OleV.V. Hours of search didnt work, hence posted here. It worked, Thanks a lot!","body":"@OleV.V. Hours of search didnt work, hence posted here. It worked, Thanks a lot!"}],"answers":[{"tags":[],"owner":{"account_id":2132733,"reputation":175,"user_id":1893174,"display_name":"r Blue"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1652988415,"creation_date":1652988415,"answer_id":72310108,"question_id":72308990,"body_markdown":"One way you can do this conversion through Java, is by using two SimpleDateFormat objects, which will handle String values that have single character values for month and day.\r\n\r\n```java\r\n    String dateInputString = &quot;5/5/2022&quot;;\r\n    SimpleDateFormat sdfIn = new SimpleDateFormat( &quot;MM/dd/yyyy&quot; );\r\n\tSimpleDateFormat sdfOut = new SimpleDateFormat( &quot;MMddyyyy&quot; );\r\n\t\t\r\n\tString output = sdfOut.format( sdfIn.parse( dateInputString ) );\r\n    // output will be &quot;05052022&quot;\r\n```\r\n\r\nAlso, since you are working with a string input and output, it may be tempting to just remove the separators and skip the date conversions, but this will not work correctly if you cannot ensure that the months and days are zero-filled.  Hence, this is why its best to convert to date, otherwise the manual string manipulations to inject the needed zeros would become a little more complicated. \r\n\r\n```java\r\n    String dateInputString = &quot;5/5/2022&quot;; \r\n    String output = dateInputString.replace(&quot;/&quot;,&quot;&quot;); \r\n    // output will be &quot;552022&quot;\r\n```","title":"How to format date webelement in Selenium Java?","body":"<p>One way you can do this conversion through Java, is by using two SimpleDateFormat objects, which will handle String values that have single character values for month and day.</p>\n<pre class=\"lang-java prettyprint-override\"><code>    String dateInputString = &quot;5/5/2022&quot;;\n    SimpleDateFormat sdfIn = new SimpleDateFormat( &quot;MM/dd/yyyy&quot; );\n    SimpleDateFormat sdfOut = new SimpleDateFormat( &quot;MMddyyyy&quot; );\n        \n    String output = sdfOut.format( sdfIn.parse( dateInputString ) );\n    // output will be &quot;05052022&quot;\n</code></pre>\n<p>Also, since you are working with a string input and output, it may be tempting to just remove the separators and skip the date conversions, but this will not work correctly if you cannot ensure that the months and days are zero-filled.  Hence, this is why its best to convert to date, otherwise the manual string manipulations to inject the needed zeros would become a little more complicated.</p>\n<pre class=\"lang-java prettyprint-override\"><code>    String dateInputString = &quot;5/5/2022&quot;; \n    String output = dateInputString.replace(&quot;/&quot;,&quot;&quot;); \n    // output will be &quot;552022&quot;\n</code></pre>\n"}],"owner":{"account_id":25336716,"reputation":27,"user_id":19155750,"display_name":"ariana"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1309,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1653127937,"accepted_answer_id":72310108,"answer_count":1,"score":1,"last_activity_date":1653128000,"creation_date":1652982290,"question_id":72308990,"body_markdown":"My webelement is a date 5/14/2022, I located the element using findElement() and stored as string in a variable using getText().\r\nHow can I format the date as mmddyyyy i.e 05142022?\r\nIt should work even if my webelement date is in a format of 5/5/2022.","title":"How to format date webelement in Selenium Java?","body":"<p>My webelement is a date 5/14/2022, I located the element using findElement() and stored as string in a variable using getText().\nHow can I format the date as mmddyyyy i.e 05142022?\nIt should work even if my webelement date is in a format of 5/5/2022.</p>\n"},{"tags":["java","spring-boot","ssl","proxy","netflix-zuul"],"comments":[{"owner":{"account_id":25266764,"reputation":44,"user_id":19096791,"display_name":"r_benedikt"},"score":0,"creation_date":1653052097,"post_id":69098279,"comment_id":127763107,"body_markdown":"Does this answer your question? [Is there a way to use Zuul to proxy inner http calls?](https://stackoverflow.com/questions/48867045/is-there-a-way-to-use-zuul-to-proxy-inner-http-calls)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/48867045/is-there-a-way-to-use-zuul-to-proxy-inner-http-calls\">Is there a way to use Zuul to proxy inner http calls?</a>"}],"owner":{"account_id":21522169,"reputation":21,"user_id":15863118,"display_name":"Initials"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":162,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1653127869,"creation_date":1631084088,"question_id":69098279,"body_markdown":"I need to add external proxy to the routing API as it&#39;s giving SSL error.\r\nJust like creating custom resttemplate as follow:\r\n```\r\n SimpleClientHttpRequestFactory requestFactory = new SimpleClientHttpRequestFactory();\r\n\r\nProxy proxy = new Proxy(Type.HTTP, new InetSocketAddress(&quot;abc.xyz.com&quot;, 80));\r\nrequestFactory.setProxy(proxy);\r\n\r\nreturn new RestTemplate(requestFactory);\r\n```\r\nCustom resttemplate is working and not giving error, but I need to redirect API in Zuul. I am not able to understand how to set proxies and port.\r\n```\r\n@Override\r\npublic Object run() {\r\n    RequestContext ctx = RequestContext.getCurrentContext();\r\n    String remoteHost = ctx.getRequest().getRemoteHost();\r\n    String requestURL = ctx.getRequest().getRequestURL().toString();\r\n}\r\n```","title":"how to add external proxy on routing apis of zuul","body":"<p>I need to add external proxy to the routing API as it's giving SSL error.\nJust like creating custom resttemplate as follow:</p>\n<pre><code> SimpleClientHttpRequestFactory requestFactory = new SimpleClientHttpRequestFactory();\n\nProxy proxy = new Proxy(Type.HTTP, new InetSocketAddress(&quot;abc.xyz.com&quot;, 80));\nrequestFactory.setProxy(proxy);\n\nreturn new RestTemplate(requestFactory);\n</code></pre>\n<p>Custom resttemplate is working and not giving error, but I need to redirect API in Zuul. I am not able to understand how to set proxies and port.</p>\n<pre><code>@Override\npublic Object run() {\n    RequestContext ctx = RequestContext.getCurrentContext();\n    String remoteHost = ctx.getRequest().getRemoteHost();\n    String requestURL = ctx.getRequest().getRequestURL().toString();\n}\n</code></pre>\n"},{"tags":["java","concurrency","clojure","locking","file-locking"],"comments":[{"owner":{"account_id":18645516,"reputation":7468,"user_id":13590263,"display_name":"Martin Půda"},"score":0,"creation_date":1653053831,"post_id":72319171,"comment_id":127763819,"body_markdown":"Does this answer your question? [idiomatic file locking in clojure?](https://stackoverflow.com/questions/6404717/idiomatic-file-locking-in-clojure)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/6404717/idiomatic-file-locking-in-clojure\">idiomatic file locking in clojure?</a>"},{"owner":{"account_id":4602967,"reputation":161,"user_id":3733191,"accept_rate":0,"display_name":"Suvrat Apte"},"score":0,"creation_date":1653054078,"post_id":72319171,"comment_id":127763923,"body_markdown":"@MartinPůda: I tried that. But it is useful only for locking the file between threads. Not between processes. And the second answer has the same problem that I have mentioned here.","body":"@MartinPůda: I tried that. But it is useful only for locking the file between threads. Not between processes. And the second answer has the same problem that I have mentioned here."}],"answers":[{"tags":[],"owner":{"account_id":311679,"reputation":89812,"user_id":625403,"accept_rate":82,"display_name":"amalloy"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1653059239,"creation_date":1653059239,"answer_id":72321152,"question_id":72319171,"body_markdown":"If you want to coordinate things across processes, you need the operating system&#39;s help, of course: there&#39;s nothing you could do to affect another process without involving the OS. So, figure out what operating system you want to run this on, and look up if and how it manages file locks. On Linux, for example, all file locks are advisory. You can say, &quot;hey, I&#39;m using this file, and you probably shouldn&#39;t&quot;. But if another process ignores this advice, it can still use the file. See [Obtain exclusive read/write lock on a file for atomic updates](https://unix.stackexchange.com/questions/107038/obtain-exclusive-read-write-lock-on-a-file-for-atomic-updates) for some further discussion on this. Likewise the [Javadoc for FileLock](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/nio/channels/FileLock.html) talks about how the behavior of file locks varies across operating systems.","title":"File locking in Clojure","body":"<p>If you want to coordinate things across processes, you need the operating system's help, of course: there's nothing you could do to affect another process without involving the OS. So, figure out what operating system you want to run this on, and look up if and how it manages file locks. On Linux, for example, all file locks are advisory. You can say, &quot;hey, I'm using this file, and you probably shouldn't&quot;. But if another process ignores this advice, it can still use the file. See <a href=\"https://unix.stackexchange.com/questions/107038/obtain-exclusive-read-write-lock-on-a-file-for-atomic-updates\">Obtain exclusive read/write lock on a file for atomic updates</a> for some further discussion on this. Likewise the <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/nio/channels/FileLock.html\" rel=\"nofollow noreferrer\">Javadoc for FileLock</a> talks about how the behavior of file locks varies across operating systems.</p>\n"}],"owner":{"account_id":4602967,"reputation":161,"user_id":3733191,"accept_rate":0,"display_name":"Suvrat Apte"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":116,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1653127806,"creation_date":1653050784,"question_id":72319171,"body_markdown":"I&#39;m using Java `FileLock` to lock files in Clojure (on macOS). This is my code to acquire a lock:\r\n```\r\n(defn lock-file\r\n  [file-path]\r\n  (try\r\n    (let [file (io/file file-path)\r\n          channel (.getChannel (RandomAccessFile. file &quot;rw&quot;))]\r\n      (if-let [lock (.tryLock channel)]\r\n        channel\r\n        (do\r\n          (println (format &quot;Lock on %s couldn&#39;t be acquired&quot; file-path))\r\n          (System/exit 1))))\r\n    (catch OverlappingFileLockException _\r\n      (println (format &quot;Lock on %s couldn&#39;t be acquired&quot; file-path))\r\n      (System/exit 1))))\r\n```\r\n\r\nThis works when both the processes are using `lock-file`.\r\n\r\nBut a process can write to a file using `spit` even if the file is locked by some other process. Does `FileLock` not protect against that?\r\n\r\nI&#39;m failing to understand what is the use of `FileLock` if it can&#39;t prevent this.\r\n\r\nI want to get a read-write lock on a file. Any other process should not be able to read/write the locked file. Is there an idiomatic Clojure way of doing this?\r\n\r\n","title":"File locking in Clojure","body":"<p>I'm using Java <code>FileLock</code> to lock files in Clojure (on macOS). This is my code to acquire a lock:</p>\n<pre><code>(defn lock-file\n  [file-path]\n  (try\n    (let [file (io/file file-path)\n          channel (.getChannel (RandomAccessFile. file &quot;rw&quot;))]\n      (if-let [lock (.tryLock channel)]\n        channel\n        (do\n          (println (format &quot;Lock on %s couldn't be acquired&quot; file-path))\n          (System/exit 1))))\n    (catch OverlappingFileLockException _\n      (println (format &quot;Lock on %s couldn't be acquired&quot; file-path))\n      (System/exit 1))))\n</code></pre>\n<p>This works when both the processes are using <code>lock-file</code>.</p>\n<p>But a process can write to a file using <code>spit</code> even if the file is locked by some other process. Does <code>FileLock</code> not protect against that?</p>\n<p>I'm failing to understand what is the use of <code>FileLock</code> if it can't prevent this.</p>\n<p>I want to get a read-write lock on a file. Any other process should not be able to read/write the locked file. Is there an idiomatic Clojure way of doing this?</p>\n"},{"tags":["java","excel","multithreading","apache-poi"],"comments":[{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":1,"creation_date":1652995631,"post_id":72310943,"comment_id":127749672,"body_markdown":"Guessing at contention for one file, try 10 copies.","body":"Guessing at contention for one file, try 10 copies."},{"owner":{"account_id":289798,"reputation":567,"user_id":590984,"accept_rate":29,"display_name":"Nick G."},"score":0,"creation_date":1653055862,"post_id":72310943,"comment_id":127764697,"body_markdown":"Thank you for taking a look @trashgod! Same results with 10 different files :( . Running multithreading via Executor seems to perform a bit better, but still the same patter...","body":"Thank you for taking a look @trashgod! Same results with 10 different files :( . Running multithreading via Executor seems to perform a bit better, but still the same patter..."},{"owner":{"account_id":964210,"reputation":1018,"user_id":987959,"display_name":"PJ Fanning"},"score":1,"creation_date":1653058982,"post_id":72310943,"comment_id":127765943,"body_markdown":"POI XSSF uses loads of memory - so processing multiple files in parallel could be leading to extra GC and general memory contention - could you try running with a higher Xmx? - Really, the only way to get this right is through trial and error - increasing/decreasing the number of files processed in parallel and increasing memory settings as far as you can - if you want fast xlsx processing, you might be better to use https://github.com/dhatim/fastexcel or https://github.com/pjfanning/excel-streaming-reader or some other lib that worries more about fast processing","body":"POI XSSF uses loads of memory - so processing multiple files in parallel could be leading to extra GC and general memory contention - could you try running with a higher Xmx? - Really, the only way to get this right is through trial and error - increasing/decreasing the number of files processed in parallel and increasing memory settings as far as you can - if you want fast xlsx processing, you might be better to use <a href=\"https://github.com/dhatim/fastexcel\" rel=\"nofollow noreferrer\">github.com/dhatim/fastexcel</a> or <a href=\"https://github.com/pjfanning/excel-streaming-reader\" rel=\"nofollow noreferrer\">github.com/pjfanning/excel-streaming-reader</a> or some other lib that worries more about fast processing"},{"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"score":0,"creation_date":1653067871,"post_id":72310943,"comment_id":127769046,"body_markdown":"Me not a thread expert, but I believe this only shows the memory overhead and the overhead of CPU usage of holding the 10 threads in a list in memory. I suspect it doesn&#39;t matter what happens in the threads. Try simply something else than using `XSSFWorkbook` in the threads. I suspect even then each thread will run slower in your `runMultiThreaded` than in your `runSingleThreaded`.","body":"Me not a thread expert, but I believe this only shows the memory overhead and the overhead of CPU usage of holding the 10 threads in a list in memory. I suspect it doesn&#39;t matter what happens in the threads. Try simply something else than using <code>XSSFWorkbook</code> in the threads. I suspect even then each thread will run slower in your <code>runMultiThreaded</code> than in your <code>runSingleThreaded</code>."}],"answers":[{"tags":[],"owner":{"account_id":289798,"reputation":567,"user_id":590984,"accept_rate":29,"display_name":"Nick G."},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653100443,"creation_date":1653100443,"answer_id":72326260,"question_id":72310943,"body_markdown":"Huge thank you to all who&#39;ve taken a look &#128591;&#128591;&#128591;!\r\n\r\nLooks like there are some caching/performance optimizations (JIT/C2?) happening at JVM/OS level that result in significant performance gains. Single threaded starts slow, and then picks up very quickly. Same for multi-threaded, each thread starts slow then picks up. If we start 10 threads - each starts with the worst performance, but then improves with subsequent runs. \r\n\r\nSo repeating each test 10 times (i.e. 100 files) will actually result in much better overall multi-threaded performance. It ends up being twice as fast as single threaded.","title":"POI single vs multithreaded performance","body":"<p>Huge thank you to all who've taken a look 🙏🙏🙏!</p>\n<p>Looks like there are some caching/performance optimizations (JIT/C2?) happening at JVM/OS level that result in significant performance gains. Single threaded starts slow, and then picks up very quickly. Same for multi-threaded, each thread starts slow then picks up. If we start 10 threads - each starts with the worst performance, but then improves with subsequent runs.</p>\n<p>So repeating each test 10 times (i.e. 100 files) will actually result in much better overall multi-threaded performance. It ends up being twice as fast as single threaded.</p>\n"},{"tags":[],"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653127108,"creation_date":1653127108,"answer_id":72328508,"question_id":72310943,"body_markdown":"I don&#39;t believe your test case shows what you think it does. \r\n\r\nBoth of your methods, `runSingleThreaded` as well as `runMultiThreaded`, are running multi threaded. The only difference is that in your `runMultiThreaded` each thread uses `Thread.join` to wait for this thread to die. Furthermore your `runMultiThreaded` increases the memory overhead by storing all thread objects in a list in memory. So it is not really surprising that your `runMultiThreaded` performs worse.\r\n\r\nConsider the following code:\r\n\r\n    import org.apache.poi.xssf.usermodel.XSSFWorkbook;\r\n    \r\n    import java.io.BufferedInputStream;\r\n    import java.io.FileInputStream;\r\n    \r\n    public class PerfTest {\r\n    \r\n        public void runSingleThreaded() throws Throwable {\r\n            System.out.println(&quot;Running Single Threaded&quot;);\r\n    \r\n            long start = System.currentTimeMillis();\r\n            for (int i = 0; i &lt; 10; i++) {\r\n                doTheWork(&quot;Work &quot; + i);\r\n            }\r\n            \r\n            System.out.println(String.format(&quot;runSingleThreaded finished in %s millis.&quot;, (System.currentTimeMillis() - start)));\r\n        }\r\n    \r\n        public void runMultiThreaded() throws Throwable {\r\n            System.out.println(&quot;Running Multi Threaded&quot;);\r\n    \r\n            long start = System.currentTimeMillis();\r\n            Thread t = null;\r\n            for (int i = 0; i &lt; 10; i++) {\r\n                t = new PoiThread();\r\n                t.start();\r\n            }\r\n            \r\n            // wait until last thread is finished\r\n            if (t != null) t.join();\r\n            \r\n            System.out.println(String.format(&quot;runMultiThreaded finished in %s millis.&quot;, (System.currentTimeMillis() - start)));\r\n        }\r\n        \r\n        public static void doTheWork(String workName) throws Throwable {\r\n            long start = System.currentTimeMillis();\r\n            BufferedInputStream in = new BufferedInputStream(new FileInputStream(&quot;./ExcelExampleIn.xlsx&quot;));\r\n            XSSFWorkbook workbook = new XSSFWorkbook(in);\r\n            in.close();\r\n            workbook.getCreationHelper().createFormulaEvaluator().evaluateAll();\r\n            workbook.close();\r\n            System.out.println(String.format(&quot;%s finished in %s millis.&quot;, workName, (System.currentTimeMillis() - start)));\r\n        }\r\n    \r\n        public static class PoiThread extends Thread {\r\n            @Override\r\n            public void run() {\r\n                try {\r\n                    doTheWork(this.getName());          \r\n                } catch (Throwable e) {\r\n                    e.printStackTrace();\r\n                }\r\n            }\r\n        }\r\n        \r\n        public static void main(String[] args) throws Throwable {\r\n            //XSSFWorkbook workbook = new XSSFWorkbook(); workbook.close();\r\n            \r\n            PerfTest test = new PerfTest();\r\n            test.runSingleThreaded();\r\n            //test.runMultiThreaded();\r\n        }\r\n    }\r\n\r\nHere the `runSingleThreaded` really runs single threaded, means all in main thread. The `runMultiThreaded` starts threads and only waits for the last started thread to die. \r\n\r\nIf started using:\r\n\r\n    public static void main(String[] args) throws Throwable {\r\n        //XSSFWorkbook workbook = new XSSFWorkbook(); workbook.close();\r\n        \r\n        PerfTest test = new PerfTest();\r\n        test.runSingleThreaded();\r\n        //test.runMultiThreaded();\r\n    }\r\n\r\nIt prints:\r\n\r\n    Running Single Threaded\r\n    Work 0 finished in 1850 millis.\r\n    Work 1 finished in 434 millis.\r\n    Work 2 finished in 396 millis.\r\n    Work 3 finished in 409 millis.\r\n    Work 4 finished in 351 millis.\r\n    Work 5 finished in 378 millis.\r\n    Work 6 finished in 368 millis.\r\n    Work 7 finished in 371 millis.\r\n    Work 8 finished in 318 millis.\r\n    Work 9 finished in 305 millis.\r\n    runSingleThreaded finished in 5199 millis.\r\n\r\nWhy the first work takes longer? This is because while first instantiating `apache poi` classes, as well as most other classes, super-ordinate tasks are running which need to run only once for each thread. For example to prepare the environment.\r\n\r\nIf started using:\r\n\r\n    public static void main(String[] args) throws Throwable {\r\n        //XSSFWorkbook workbook = new XSSFWorkbook(); workbook.close();\r\n        \r\n        PerfTest test = new PerfTest();\r\n        //test.runSingleThreaded();\r\n        test.runMultiThreaded();\r\n    }\r\n\r\n\r\nIt prints:\r\n\r\n    Running Multi Threaded\r\n    Thread-2 finished in 3743 millis.\r\n    Thread-8 finished in 3747 millis.\r\n    Thread-5 finished in 3747 millis.\r\n    Thread-0 finished in 3747 millis.\r\n    Thread-9 finished in 3745 millis.\r\n    Thread-3 finished in 3745 millis.\r\n    Thread-7 finished in 3744 millis.\r\n    Thread-6 finished in 3744 millis.\r\n    Thread-1 finished in 3744 millis.\r\n    Thread-4 finished in 3743 millis.\r\n    runMultiThreaded finished in 3752 millis.\r\n\r\nHere the super-ordinate tasks are running for each thread. But in whole it is faster than the single threaded processing.\r\n\r\nSome of the super-ordinate tasks could be done before the main work starts. Using `apache poi` for example one could triggering the super-ordinate tasks, which will be in main thread only, by instantiating a main `apache poi` class.\r\n\r\nIf started using:\r\n\r\n    public static void main(String[] args) throws Throwable {\r\n        XSSFWorkbook workbook = new XSSFWorkbook(); workbook.close();\r\n        \r\n        PerfTest test = new PerfTest();\r\n        //test.runSingleThreaded();\r\n        test.runMultiThreaded();\r\n    }\r\n\r\nit prints:\r\n\r\n    Running Multi Threaded\r\n    Thread-0 finished in 2799 millis.\r\n    Thread-4 finished in 2805 millis.\r\n    Thread-2 finished in 2803 millis.\r\n    Thread-7 finished in 2800 millis.\r\n    Thread-5 finished in 2801 millis.\r\n    Thread-1 finished in 2800 millis.\r\n    Thread-8 finished in 2798 millis.\r\n    Thread-9 finished in 2797 millis.\r\n    Thread-6 finished in 2798 millis.\r\n    Thread-3 finished in 2800 millis.\r\n    runMultiThreaded finished in 2812 millis.\r\n\r\nHere each single thread runs faster because the super-ordinate tasks, which are main thread only,, had run by instantiating the `XSSFWorkbook` class.\r\n","title":"POI single vs multithreaded performance","body":"<p>I don't believe your test case shows what you think it does.</p>\n<p>Both of your methods, <code>runSingleThreaded</code> as well as <code>runMultiThreaded</code>, are running multi threaded. The only difference is that in your <code>runMultiThreaded</code> each thread uses <code>Thread.join</code> to wait for this thread to die. Furthermore your <code>runMultiThreaded</code> increases the memory overhead by storing all thread objects in a list in memory. So it is not really surprising that your <code>runMultiThreaded</code> performs worse.</p>\n<p>Consider the following code:</p>\n<pre><code>import org.apache.poi.xssf.usermodel.XSSFWorkbook;\n\nimport java.io.BufferedInputStream;\nimport java.io.FileInputStream;\n\npublic class PerfTest {\n\n    public void runSingleThreaded() throws Throwable {\n        System.out.println(&quot;Running Single Threaded&quot;);\n\n        long start = System.currentTimeMillis();\n        for (int i = 0; i &lt; 10; i++) {\n            doTheWork(&quot;Work &quot; + i);\n        }\n        \n        System.out.println(String.format(&quot;runSingleThreaded finished in %s millis.&quot;, (System.currentTimeMillis() - start)));\n    }\n\n    public void runMultiThreaded() throws Throwable {\n        System.out.println(&quot;Running Multi Threaded&quot;);\n\n        long start = System.currentTimeMillis();\n        Thread t = null;\n        for (int i = 0; i &lt; 10; i++) {\n            t = new PoiThread();\n            t.start();\n        }\n        \n        // wait until last thread is finished\n        if (t != null) t.join();\n        \n        System.out.println(String.format(&quot;runMultiThreaded finished in %s millis.&quot;, (System.currentTimeMillis() - start)));\n    }\n    \n    public static void doTheWork(String workName) throws Throwable {\n        long start = System.currentTimeMillis();\n        BufferedInputStream in = new BufferedInputStream(new FileInputStream(&quot;./ExcelExampleIn.xlsx&quot;));\n        XSSFWorkbook workbook = new XSSFWorkbook(in);\n        in.close();\n        workbook.getCreationHelper().createFormulaEvaluator().evaluateAll();\n        workbook.close();\n        System.out.println(String.format(&quot;%s finished in %s millis.&quot;, workName, (System.currentTimeMillis() - start)));\n    }\n\n    public static class PoiThread extends Thread {\n        @Override\n        public void run() {\n            try {\n                doTheWork(this.getName());          \n            } catch (Throwable e) {\n                e.printStackTrace();\n            }\n        }\n    }\n    \n    public static void main(String[] args) throws Throwable {\n        //XSSFWorkbook workbook = new XSSFWorkbook(); workbook.close();\n        \n        PerfTest test = new PerfTest();\n        test.runSingleThreaded();\n        //test.runMultiThreaded();\n    }\n}\n</code></pre>\n<p>Here the <code>runSingleThreaded</code> really runs single threaded, means all in main thread. The <code>runMultiThreaded</code> starts threads and only waits for the last started thread to die.</p>\n<p>If started using:</p>\n<pre><code>public static void main(String[] args) throws Throwable {\n    //XSSFWorkbook workbook = new XSSFWorkbook(); workbook.close();\n    \n    PerfTest test = new PerfTest();\n    test.runSingleThreaded();\n    //test.runMultiThreaded();\n}\n</code></pre>\n<p>It prints:</p>\n<pre><code>Running Single Threaded\nWork 0 finished in 1850 millis.\nWork 1 finished in 434 millis.\nWork 2 finished in 396 millis.\nWork 3 finished in 409 millis.\nWork 4 finished in 351 millis.\nWork 5 finished in 378 millis.\nWork 6 finished in 368 millis.\nWork 7 finished in 371 millis.\nWork 8 finished in 318 millis.\nWork 9 finished in 305 millis.\nrunSingleThreaded finished in 5199 millis.\n</code></pre>\n<p>Why the first work takes longer? This is because while first instantiating <code>apache poi</code> classes, as well as most other classes, super-ordinate tasks are running which need to run only once for each thread. For example to prepare the environment.</p>\n<p>If started using:</p>\n<pre><code>public static void main(String[] args) throws Throwable {\n    //XSSFWorkbook workbook = new XSSFWorkbook(); workbook.close();\n    \n    PerfTest test = new PerfTest();\n    //test.runSingleThreaded();\n    test.runMultiThreaded();\n}\n</code></pre>\n<p>It prints:</p>\n<pre><code>Running Multi Threaded\nThread-2 finished in 3743 millis.\nThread-8 finished in 3747 millis.\nThread-5 finished in 3747 millis.\nThread-0 finished in 3747 millis.\nThread-9 finished in 3745 millis.\nThread-3 finished in 3745 millis.\nThread-7 finished in 3744 millis.\nThread-6 finished in 3744 millis.\nThread-1 finished in 3744 millis.\nThread-4 finished in 3743 millis.\nrunMultiThreaded finished in 3752 millis.\n</code></pre>\n<p>Here the super-ordinate tasks are running for each thread. But in whole it is faster than the single threaded processing.</p>\n<p>Some of the super-ordinate tasks could be done before the main work starts. Using <code>apache poi</code> for example one could triggering the super-ordinate tasks, which will be in main thread only, by instantiating a main <code>apache poi</code> class.</p>\n<p>If started using:</p>\n<pre><code>public static void main(String[] args) throws Throwable {\n    XSSFWorkbook workbook = new XSSFWorkbook(); workbook.close();\n    \n    PerfTest test = new PerfTest();\n    //test.runSingleThreaded();\n    test.runMultiThreaded();\n}\n</code></pre>\n<p>it prints:</p>\n<pre><code>Running Multi Threaded\nThread-0 finished in 2799 millis.\nThread-4 finished in 2805 millis.\nThread-2 finished in 2803 millis.\nThread-7 finished in 2800 millis.\nThread-5 finished in 2801 millis.\nThread-1 finished in 2800 millis.\nThread-8 finished in 2798 millis.\nThread-9 finished in 2797 millis.\nThread-6 finished in 2798 millis.\nThread-3 finished in 2800 millis.\nrunMultiThreaded finished in 2812 millis.\n</code></pre>\n<p>Here each single thread runs faster because the super-ordinate tasks, which are main thread only,, had run by instantiating the <code>XSSFWorkbook</code> class.</p>\n"}],"owner":{"account_id":289798,"reputation":567,"user_id":590984,"accept_rate":29,"display_name":"Nick G."},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":371,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1653127108,"creation_date":1652993548,"question_id":72310943,"body_markdown":"I have a pretty simple use case - read an Excel spreadsheet with POI, populate some values, run cell updates and retrieve calculation outputs.\r\n\r\nWhat puzzles me is performance. If I run single-threaded, Excel file takes a few seconds to get loaded/parsed, but for each subsequent request processing time decreases. If I run exactly the task via multiple threads and then join, the performance is actually 10 times slower on all threads. Where am I messing up?\r\n\r\nHere is the test output:\r\n\r\n```\r\nRunning Multi Threaded\r\nThread Thread-8 finished run 7092\r\nThread Thread-9 finished run 7092\r\nThread Thread-7 finished run 7092\r\nThread Thread-10 finished run 7092\r\nThread Thread-4 finished run 7092\r\nThread Thread-5 finished run 7092\r\nThread Thread-3 finished run 7107\r\nThread Thread-2 finished run 7107\r\nThread Thread-6 finished run 7107\r\nThread Thread-1 finished run 7108\r\nFinished in 7113\r\n\r\nRunning Single Threaded\r\nThread Thread-11 finished run 591\r\nThread Thread-12 finished run 192\r\nThread Thread-13 finished run 173\r\nThread Thread-14 finished run 149\r\nThread Thread-15 finished run 126\r\nThread Thread-16 finished run 133\r\nThread Thread-17 finished run 159\r\nThread Thread-18 finished run 124\r\nThread Thread-19 finished run 131\r\nThread Thread-20 finished run 121\r\nFinished in 1907\r\nProcess finished with exit code 0\r\n```\r\n\r\nHere is the test:\r\n\r\n```\r\npackage com.test;\r\n\r\nimport org.apache.poi.xssf.usermodel.XSSFWorkbook;\r\nimport org.junit.jupiter.api.Test;\r\n\r\nimport java.io.BufferedInputStream;\r\nimport java.io.FileInputStream;\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\nimport java.util.Map;\r\n\r\npublic class PerfTest {\r\n\r\n    @Test\r\n    public void runSingleThreaded() throws Exception {\r\n        System.out.println(&quot;Running Single Threaded&quot;);\r\n\r\n        long start = System.currentTimeMillis();\r\n        for (int i = 0; i &lt; 10; i++) {\r\n            new PoiThread().run();\r\n        }\r\n        System.out.println(&quot;Finished in &quot; + (System.currentTimeMillis() - start));\r\n    }\r\n\r\n    @Test\r\n    public void runMultiThreaded() throws Throwable {\r\n        System.out.println(&quot;Running Multi Threaded&quot;);\r\n\r\n        List&lt;Thread&gt; threads = new ArrayList&lt;&gt;();\r\n        for (int i = 0; i &lt; 10; i++) {\r\n            threads.add(new PoiThread());\r\n        }\r\n\r\n        long start = System.currentTimeMillis();\r\n        threads.forEach(t -&gt; t.start());\r\n        threads.forEach(t -&gt; {\r\n            try {\r\n                t.join();\r\n            } catch (InterruptedException e) {\r\n                e.printStackTrace();\r\n            }\r\n        });\r\n        System.out.println(&quot;Finished in &quot; + (System.currentTimeMillis() - start));\r\n    }\r\n\r\n    public static class PoiThread extends Thread {\r\n\r\n        @Override\r\n        public void run() {\r\n            try {\r\n                long runStart = System.currentTimeMillis();\r\n                XSSFWorkbook workbook = new XSSFWorkbook(new BufferedInputStream(new FileInputStream(&quot;src/main/resources/customer.xlsx&quot;)));\r\n                Helper helper = new Helper(workbook, &quot;test&quot;, workbook.getCreationHelper().createFormulaEvaluator());\r\n                String ref = helper.getFieldValueCellReference(&quot;Inputs&quot;, &quot;customer&quot;);\r\n                helper.evaluateAllCells();\r\n                Map&lt;String, Double&gt; premiums = helper.getAllNumericFields(&quot;Premium Outputs&quot;);\r\n                System.out.println(String.format(&quot;Thread %s finished run %s&quot;, this.getName(), (System.currentTimeMillis() - runStart)));\r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n\r\n    }\r\n\r\n}\r\n```","title":"POI single vs multithreaded performance","body":"<p>I have a pretty simple use case - read an Excel spreadsheet with POI, populate some values, run cell updates and retrieve calculation outputs.</p>\n<p>What puzzles me is performance. If I run single-threaded, Excel file takes a few seconds to get loaded/parsed, but for each subsequent request processing time decreases. If I run exactly the task via multiple threads and then join, the performance is actually 10 times slower on all threads. Where am I messing up?</p>\n<p>Here is the test output:</p>\n<pre><code>Running Multi Threaded\nThread Thread-8 finished run 7092\nThread Thread-9 finished run 7092\nThread Thread-7 finished run 7092\nThread Thread-10 finished run 7092\nThread Thread-4 finished run 7092\nThread Thread-5 finished run 7092\nThread Thread-3 finished run 7107\nThread Thread-2 finished run 7107\nThread Thread-6 finished run 7107\nThread Thread-1 finished run 7108\nFinished in 7113\n\nRunning Single Threaded\nThread Thread-11 finished run 591\nThread Thread-12 finished run 192\nThread Thread-13 finished run 173\nThread Thread-14 finished run 149\nThread Thread-15 finished run 126\nThread Thread-16 finished run 133\nThread Thread-17 finished run 159\nThread Thread-18 finished run 124\nThread Thread-19 finished run 131\nThread Thread-20 finished run 121\nFinished in 1907\nProcess finished with exit code 0\n</code></pre>\n<p>Here is the test:</p>\n<pre><code>package com.test;\n\nimport org.apache.poi.xssf.usermodel.XSSFWorkbook;\nimport org.junit.jupiter.api.Test;\n\nimport java.io.BufferedInputStream;\nimport java.io.FileInputStream;\nimport java.util.ArrayList;\nimport java.util.List;\nimport java.util.Map;\n\npublic class PerfTest {\n\n    @Test\n    public void runSingleThreaded() throws Exception {\n        System.out.println(&quot;Running Single Threaded&quot;);\n\n        long start = System.currentTimeMillis();\n        for (int i = 0; i &lt; 10; i++) {\n            new PoiThread().run();\n        }\n        System.out.println(&quot;Finished in &quot; + (System.currentTimeMillis() - start));\n    }\n\n    @Test\n    public void runMultiThreaded() throws Throwable {\n        System.out.println(&quot;Running Multi Threaded&quot;);\n\n        List&lt;Thread&gt; threads = new ArrayList&lt;&gt;();\n        for (int i = 0; i &lt; 10; i++) {\n            threads.add(new PoiThread());\n        }\n\n        long start = System.currentTimeMillis();\n        threads.forEach(t -&gt; t.start());\n        threads.forEach(t -&gt; {\n            try {\n                t.join();\n            } catch (InterruptedException e) {\n                e.printStackTrace();\n            }\n        });\n        System.out.println(&quot;Finished in &quot; + (System.currentTimeMillis() - start));\n    }\n\n    public static class PoiThread extends Thread {\n\n        @Override\n        public void run() {\n            try {\n                long runStart = System.currentTimeMillis();\n                XSSFWorkbook workbook = new XSSFWorkbook(new BufferedInputStream(new FileInputStream(&quot;src/main/resources/customer.xlsx&quot;)));\n                Helper helper = new Helper(workbook, &quot;test&quot;, workbook.getCreationHelper().createFormulaEvaluator());\n                String ref = helper.getFieldValueCellReference(&quot;Inputs&quot;, &quot;customer&quot;);\n                helper.evaluateAllCells();\n                Map&lt;String, Double&gt; premiums = helper.getAllNumericFields(&quot;Premium Outputs&quot;);\n                System.out.println(String.format(&quot;Thread %s finished run %s&quot;, this.getName(), (System.currentTimeMillis() - runStart)));\n            } catch (Exception e) {\n                e.printStackTrace();\n            }\n        }\n\n    }\n\n}\n</code></pre>\n"},{"tags":["java","json"],"comments":[{"owner":{"account_id":9685245,"reputation":9521,"user_id":7185318,"accept_rate":88,"display_name":"Luatic"},"score":1,"creation_date":1653072172,"post_id":72323504,"comment_id":127770450,"body_markdown":"It is a duplicate. The fact that VSC was mentioned is entirely irrelevant and just an instance of the XY problem. And no, you can&#39;t use an editor extension to parse JSON in your Java code???","body":"It is a duplicate. The fact that VSC was mentioned is entirely irrelevant and just an instance of the XY problem. And no, you can&#39;t use an editor extension to parse JSON in your Java code???"},{"owner":{"account_id":3467880,"reputation":5813,"user_id":2902996,"accept_rate":44,"display_name":"Joel"},"score":0,"creation_date":1653072320,"post_id":72323504,"comment_id":127770487,"body_markdown":"@LMD What I think OP is asking for is something in the lines of a maven extension for installing plugins. In this case, a plugin for parsing JSON data. Like in IntelliJ, you can browse and download extensions. I think that&#39;s what OP is looking for, hence why Vs Code is relevant. Could be wrong tho.","body":"@LMD What I think OP is asking for is something in the lines of a maven extension for installing plugins. In this case, a plugin for parsing JSON data. Like in IntelliJ, you can browse and download extensions. I think that&#39;s what OP is looking for, hence why Vs Code is relevant. Could be wrong tho."}],"owner":{"account_id":24107405,"reputation":161,"user_id":18078409,"display_name":"Kalindu"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1653127008,"answer_count":0,"score":0,"last_activity_date":1653127002,"creation_date":1653071992,"question_id":72323504,"body_markdown":"I am coding a simple java project in VS code and I want to deserialize the JSON string I receive from an API. How can I do it? Can I do it by downloading an extension?","title":"How to deserialize a JSON string in java when using VS code?","body":"<p>I am coding a simple java project in VS code and I want to deserialize the JSON string I receive from an API. How can I do it? Can I do it by downloading an extension?</p>\n"},{"tags":["java","json","parsing"],"comments":[{"owner":{"account_id":12583055,"reputation":447,"user_id":9732672,"display_name":"NomadMaker"},"score":1,"creation_date":1586883611,"post_id":61138960,"comment_id":108290584,"body_markdown":"If this question is solved, please select the best answer.","body":"If this question is solved, please select the best answer."}],"answers":[{"tags":[],"owner":{"account_id":4162532,"reputation":415,"user_id":3412288,"accept_rate":50,"display_name":"zfChaos"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1586517732,"creation_date":1586517732,"answer_id":61139248,"question_id":61138960,"body_markdown":"In that line you pass an iterator:\r\n\r\n    JsonObject object = (JsonObject) parser.parse((JsonReader) itr);\r\n\r\nBut you should pass a next element:\r\n\r\n    JsonObject object = (JsonObject) parser.parse(itr.next());\r\n\r\n\r\nIn addition you got an extra comma in you JSON.\r\n\r\n\r\n----------\r\n\r\n\r\nYou can replace the whole block with that line:\r\n\r\n    Data data = gson.fromJson(itr.next(),Data.class)","title":"Java: Get value from a Json string (Set&lt;String&gt;)","body":"<p>In that line you pass an iterator:</p>\n\n<pre><code>JsonObject object = (JsonObject) parser.parse((JsonReader) itr);\n</code></pre>\n\n<p>But you should pass a next element:</p>\n\n<pre><code>JsonObject object = (JsonObject) parser.parse(itr.next());\n</code></pre>\n\n<p>In addition you got an extra comma in you JSON.</p>\n\n<hr>\n\n<p>You can replace the whole block with that line:</p>\n\n<pre><code>Data data = gson.fromJson(itr.next(),Data.class)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10322038,"reputation":189,"user_id":7614602,"display_name":"Prabhakaran"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1586522421,"creation_date":1586522421,"answer_id":61140448,"question_id":61138960,"body_markdown":"Use Jackson mapper. You can directly convert it into an object and retrieve through getters.\r\n\r\n   \r\n\r\n     ObjectMapper objectMapper = new ObjectMapper();\r\n    \r\n    String carJson =\r\n        &quot;{ \\&quot;brand\\&quot; : \\&quot;Mercedes\\&quot;, \\&quot;doors\\&quot; : 5 }&quot;;\r\n    \r\n    try {\r\n        Car car = objectMapper.readValue(carJson, Car.class);\r\n    \r\n        System.out.println(&quot;car brand = &quot; + car.getBrand());\r\n        System.out.println(&quot;car doors = &quot; + car.getDoors());\r\n    } catch (IOException e) {\r\n        e.printStackTrace();\r\n    }","title":"Java: Get value from a Json string (Set&lt;String&gt;)","body":"<p>Use Jackson mapper. You can directly convert it into an object and retrieve through getters.</p>\n\n<pre><code> ObjectMapper objectMapper = new ObjectMapper();\n\nString carJson =\n    \"{ \\\"brand\\\" : \\\"Mercedes\\\", \\\"doors\\\" : 5 }\";\n\ntry {\n    Car car = objectMapper.readValue(carJson, Car.class);\n\n    System.out.println(\"car brand = \" + car.getBrand());\n    System.out.println(\"car doors = \" + car.getDoors());\n} catch (IOException e) {\n    e.printStackTrace();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15324512,"reputation":88,"user_id":11056025,"display_name":"Juan Carlos Zarate"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1586771270,"creation_date":1586771270,"answer_id":61185211,"question_id":61138960,"body_markdown":"So, following this related issue: https://github.com/seleniumhq/selenium-google-code-issue-archive/issues/5154, finally I map this using JSONArray and streams from java8\r\n\r\n    Set&lt;String&gt; availableData = getData();\r\n            JSONArray dataArray = new JSONArray(availableData);\r\n            List&lt;Object&gt; dataList = dataArray.toList();\r\n            Object o = dataList.stream()\r\n                    .filter(c -&gt; ((Map) c).get(&quot;id&quot;).toString().contains(&quot;Id1&quot;))\r\n                    .findFirst().orElse(null);\r\n            return ((Map)o).get(&quot;id&quot;).toString();","title":"Java: Get value from a Json string (Set&lt;String&gt;)","body":"<p>So, following this related issue: <a href=\"https://github.com/seleniumhq/selenium-google-code-issue-archive/issues/5154\" rel=\"nofollow noreferrer\">https://github.com/seleniumhq/selenium-google-code-issue-archive/issues/5154</a>, finally I map this using JSONArray and streams from java8</p>\n\n<pre><code>Set&lt;String&gt; availableData = getData();\n        JSONArray dataArray = new JSONArray(availableData);\n        List&lt;Object&gt; dataList = dataArray.toList();\n        Object o = dataList.stream()\n                .filter(c -&gt; ((Map) c).get(\"id\").toString().contains(\"Id1\"))\n                .findFirst().orElse(null);\n        return ((Map)o).get(\"id\").toString();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1274168,"reputation":76,"user_id":1229760,"display_name":"Le Wang"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1586773296,"creation_date":1586773296,"answer_id":61185784,"question_id":61138960,"body_markdown":"Maybe you want to known how to use Gson to unserialized json to java object. \r\n\r\nHere are two ways I can give you.\r\n\r\n```java\r\n    public void parse() {\r\n        String jsonString = &quot;[\\n&quot; +\r\n            &quot;  {\\n&quot; +\r\n            &quot;   \\&quot;id\\&quot;:\\&quot;Id1\\&quot;\\n&quot; +\r\n            &quot;  },\\n&quot; +\r\n            &quot;  {\\n&quot; +\r\n            &quot;  \\&quot;id\\&quot;:\\&quot;Id2\\&quot;,\\n&quot; +\r\n            &quot;  \\&quot;title\\&quot;:\\&quot;anyTitle\\&quot;\\n&quot; +\r\n            &quot;  }\\n&quot; +\r\n            &quot;]&quot;;\r\n\r\n        Gson gson = new Gson();\r\n        \r\n        // Use Gson Type\r\n        Type setType = new TypeToken&lt;HashSet&lt;Data&gt;&gt;(){}.getType();\r\n        Set&lt;Data&gt; dataSet = gson.fromJson(jsonString, setType);\r\n        \r\n        // Print [Data{id=&#39;Id2&#39;, title=&#39;anyTitle&#39;}, Data{id=&#39;Id1&#39;, title=&#39;null&#39;}]\r\n        System.out.println(dataSet);\r\n\r\n        // Use Java Array\r\n        Data[] dataArray = gson.fromJson(jsonString, Data[].class);\r\n        \r\n        // Print [Data{id=&#39;Id1&#39;, title=&#39;null&#39;}, Data{id=&#39;Id2&#39;, title=&#39;anyTitle&#39;}]\r\n        System.out.println(Arrays.toString(dataArray));\r\n\r\n    }\r\n```","title":"Java: Get value from a Json string (Set&lt;String&gt;)","body":"<p>Maybe you want to known how to use Gson to unserialized json to java object. </p>\n\n<p>Here are two ways I can give you.</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>    public void parse() {\n        String jsonString = \"[\\n\" +\n            \"  {\\n\" +\n            \"   \\\"id\\\":\\\"Id1\\\"\\n\" +\n            \"  },\\n\" +\n            \"  {\\n\" +\n            \"  \\\"id\\\":\\\"Id2\\\",\\n\" +\n            \"  \\\"title\\\":\\\"anyTitle\\\"\\n\" +\n            \"  }\\n\" +\n            \"]\";\n\n        Gson gson = new Gson();\n\n        // Use Gson Type\n        Type setType = new TypeToken&lt;HashSet&lt;Data&gt;&gt;(){}.getType();\n        Set&lt;Data&gt; dataSet = gson.fromJson(jsonString, setType);\n\n        // Print [Data{id='Id2', title='anyTitle'}, Data{id='Id1', title='null'}]\n        System.out.println(dataSet);\n\n        // Use Java Array\n        Data[] dataArray = gson.fromJson(jsonString, Data[].class);\n\n        // Print [Data{id='Id1', title='null'}, Data{id='Id2', title='anyTitle'}]\n        System.out.println(Arrays.toString(dataArray));\n\n    }\n</code></pre>\n"}],"owner":{"account_id":15324512,"reputation":88,"user_id":11056025,"display_name":"Juan Carlos Zarate"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1370,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":4,"score":2,"last_activity_date":1653126046,"creation_date":1586516612,"question_id":61138960,"body_markdown":"I&#39;m using this method that returns a `Set&lt;String&gt;` but in fact what I got is a Json string like this\r\n```\r\n[\r\n  {\r\n   &quot;id&quot;:&quot;Id1&quot;\r\n  },\r\n  {\r\n  &quot;id&quot;:&quot;Id2&quot;,\r\n  &quot;title&quot;:&quot;anyTitle&quot;\r\n  }\r\n]\r\n```\r\n\r\nMy goal is to get the value of key &quot;id&quot;. I&#39;ve also made a java bean to map the data:\r\n\r\n    public class Data {\r\n        private String id;\r\n        private String title;\r\n    \r\n        public String getId() {\r\n            return id;\r\n        }\r\n    \r\n        public void setId(String id) {\r\n            this.id = id;\r\n        }\r\n    \r\n        public String getTitle() {\r\n            return title;\r\n        }\r\n    \r\n        public void setTitle(String title) {\r\n            this.title = title;\r\n        }\r\n    }\r\n\r\nI tryied to parse using gson but all I can get is an error: Cannot cast &#39;java.util.LinkedHashMap$LinkedKeyIterator&#39; to &#39;com.google.gson.stream.JsonReader&#39;\r\n\r\nSo, obviously I&#39;m doing something wrong:\r\n\r\n    Set&lt;String&gt; availableData = getData(); //this method returns a json string\r\n    Iterator&lt;String&gt; itr = availableData.iterator();\r\n            while (itr.hasNext()) {\r\n                Gson gson = new Gson();\r\n                JsonParser parser = new JsonParser();\r\n                JsonObject object = (JsonObject) parser.parse(itr.next());\r\n                Data data = gson.fromJson(object, Data.class);\r\n            }\r\n\r\nupdate: The actual error is: Type mismatch Can&#39;t assign com.google.common.collect.Maps$TransformedEntriesMap to java.lang.String","title":"Java: Get value from a Json string (Set&lt;String&gt;)","body":"<p>I'm using this method that returns a <code>Set&lt;String&gt;</code> but in fact what I got is a Json string like this</p>\n<pre><code>[\n  {\n   &quot;id&quot;:&quot;Id1&quot;\n  },\n  {\n  &quot;id&quot;:&quot;Id2&quot;,\n  &quot;title&quot;:&quot;anyTitle&quot;\n  }\n]\n</code></pre>\n<p>My goal is to get the value of key &quot;id&quot;. I've also made a java bean to map the data:</p>\n<pre><code>public class Data {\n    private String id;\n    private String title;\n\n    public String getId() {\n        return id;\n    }\n\n    public void setId(String id) {\n        this.id = id;\n    }\n\n    public String getTitle() {\n        return title;\n    }\n\n    public void setTitle(String title) {\n        this.title = title;\n    }\n}\n</code></pre>\n<p>I tryied to parse using gson but all I can get is an error: Cannot cast 'java.util.LinkedHashMap$LinkedKeyIterator' to 'com.google.gson.stream.JsonReader'</p>\n<p>So, obviously I'm doing something wrong:</p>\n<pre><code>Set&lt;String&gt; availableData = getData(); //this method returns a json string\nIterator&lt;String&gt; itr = availableData.iterator();\n        while (itr.hasNext()) {\n            Gson gson = new Gson();\n            JsonParser parser = new JsonParser();\n            JsonObject object = (JsonObject) parser.parse(itr.next());\n            Data data = gson.fromJson(object, Data.class);\n        }\n</code></pre>\n<p>update: The actual error is: Type mismatch Can't assign com.google.common.collect.Maps$TransformedEntriesMap to java.lang.String</p>\n"},{"tags":["java","android","xamarin"],"comments":[{"owner":{"account_id":22071021,"reputation":1984,"user_id":16331993,"display_name":"Adrain"},"score":1,"creation_date":1652690790,"post_id":72245712,"comment_id":127658227,"body_markdown":"Did you set the manifest? refer to https://developer.android.com/guide/topics/connectivity/usb/host","body":"Did you set the manifest? refer to <a href=\"https://developer.android.com/guide/topics/connectivity/usb/host\" rel=\"nofollow noreferrer\">developer.android.com/guide/topics/connectivity/usb/host</a>"},{"owner":{"account_id":25073739,"reputation":316,"user_id":18972846,"display_name":"TechGeek"},"score":0,"creation_date":1652721330,"post_id":72245712,"comment_id":127669217,"body_markdown":"Looks like I did not specify the meta files references, can you post an answer on hot to add the meta data to xamarin android","body":"Looks like I did not specify the meta files references, can you post an answer on hot to add the meta data to xamarin android"},{"owner":{"account_id":25073739,"reputation":316,"user_id":18972846,"display_name":"TechGeek"},"score":0,"creation_date":1652723065,"post_id":72245712,"comment_id":127669854,"body_markdown":"Added the manifest, still not working","body":"Added the manifest, still not working"},{"owner":{"account_id":22071021,"reputation":1984,"user_id":16331993,"display_name":"Adrain"},"score":0,"creation_date":1652866025,"post_id":72245712,"comment_id":127707931,"body_markdown":"The OnReceive not fire?","body":"The OnReceive not fire?"},{"owner":{"account_id":25073739,"reputation":316,"user_id":18972846,"display_name":"TechGeek"},"score":0,"creation_date":1652868035,"post_id":72245712,"comment_id":127708746,"body_markdown":"Yes, I pasted the meta data tags exactly as instructed on the official android dev page but I got nothing","body":"Yes, I pasted the meta data tags exactly as instructed on the official android dev page but I got nothing"}],"owner":{"account_id":25073739,"reputation":316,"user_id":18972846,"display_name":"TechGeek"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":693,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1653125965,"creation_date":1652592342,"question_id":72245712,"body_markdown":"I am trying to receive USB attached Broadcast events on my app with this code, I registered the IntentFilter statically and went an extra mile to register the Receiver and the IntentFilter in the OnCreate method of my MainActivity, however when I connect a USB cable to from my phone to my laptop, it does not call the code inside the OnReceive which is supposed to show a Toast. Help me find a workaround to this.\r\n\r\n***Manifest file with meta data***\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot; \r\n          android:versionCode=&quot;1&quot; \r\n          android:versionName=&quot;1.0&quot; \r\n          package=&quot;com.companyname.poc&quot;&gt;\r\n  &lt;uses-sdk android:minSdkVersion=&quot;21&quot; android:targetSdkVersion=&quot;31&quot; /&gt;\r\n  &lt;uses-feature android:name=&quot;android.hardware.usb.host&quot; /&gt;\r\n\t &lt;application android:allowBackup=&quot;true&quot; android:icon=&quot;@mipmap/ic_launcher&quot; android:label=&quot;@string/app_name&quot; android:roundIcon=&quot;@mipmap/ic_launcher_round&quot; android:supportsRtl=&quot;true&quot; android:theme=&quot;@style/AppTheme&quot;&gt;\r\n\t  &lt;activity android:name=&quot;MainActivity&quot;&gt;\r\n\t\t  &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.hardware.usb.action.USB_DEVICE_ATTACHED&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n\r\n            &lt;meta-data android:name=&quot;android.hardware.usb.action.USB_DEVICE_ATTACHED&quot;\r\n                android:resource=&quot;@xml/device_filter&quot; /&gt;\r\n\t\t  \r\n\t  &lt;/activity&gt;\r\n\t  \r\n  &lt;/application&gt;\r\n  &lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot; /&gt;\r\n&lt;/manifest&gt;\r\n```\r\n****device_filter.xml***\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n\r\n&lt;resources&gt;\r\n    &lt;usb-device vendor-id=&quot;1234&quot; product-id=&quot;5678&quot; class=&quot;255&quot; subclass=&quot;66&quot; protocol=&quot;1&quot; /&gt;\r\n&lt;/resources&gt;\r\n```\r\n\r\n***MainActivity.cs***\r\n```\r\n protected override void OnCreate(Bundle savedInstanceState)\r\n        {\r\n            base.OnCreate(savedInstanceState);\r\n            Xamarin.Essentials.Platform.Init(this, savedInstanceState);\r\n            // Set our view from the &quot;main&quot; layout resource\r\n            SetContentView(Resource.Layout.activity_main);\r\n            main = FindViewById&lt;TextView&gt;(Resource.Id.textView1);\r\n            UsbManager usbManager=(UsbManager)GetSystemService(Context.UsbService);\r\n            PendingIntent pIntent = PendingIntent.GetBroadcast(this, 0, new Intent(UsbManager.ExtraPermissionGranted), 0);\r\n            //create a new instanceof usb reciever\r\n            UsbReceiver usbReceiver = new UsbReceiver();\r\n            //register the broadcast event receiver\r\n            RegisterReceiver(usbReceiver, new IntentFilter(UsbManager.ActionUsbDeviceAttached)); \r\n}\r\n```\r\nBelow is how I extended the BroadcastReceiver class to implement a listener for a USB device attached event.\r\n\r\n***BroadcastReceiver***\r\n\r\n```\r\n[BroadcastReceiver(Enabled=true)]\r\n    [IntentFilter(new[] {UsbManager.ActionUsbDeviceAttached })]\r\n    public class UsbReceiver : BroadcastReceiver\r\n\t{\r\n\t\tpublic override void OnReceive(Context context, Intent intent)\r\n\t\t{\r\n\t\t\tif(intent.Action==UsbManager.ActionUsbDeviceAttached)\r\n\t\t\t{\r\n                UsbDevice device= (UsbDevice) intent.GetParcelableExtra(UsbManager.ExtraDevice);\r\n                //request for permission to access thr udb device\r\n                Toast.MakeText(context,&quot;Usb device attached&quot;,ToastLength.Short).Show(); \r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n```","title":"How to receive USB device attached broadcast in Android Xamarin?","body":"<p>I am trying to receive USB attached Broadcast events on my app with this code, I registered the IntentFilter statically and went an extra mile to register the Receiver and the IntentFilter in the OnCreate method of my MainActivity, however when I connect a USB cable to from my phone to my laptop, it does not call the code inside the OnReceive which is supposed to show a Toast. Help me find a workaround to this.</p>\n<p><em><strong>Manifest file with meta data</strong></em></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot; \n          android:versionCode=&quot;1&quot; \n          android:versionName=&quot;1.0&quot; \n          package=&quot;com.companyname.poc&quot;&gt;\n  &lt;uses-sdk android:minSdkVersion=&quot;21&quot; android:targetSdkVersion=&quot;31&quot; /&gt;\n  &lt;uses-feature android:name=&quot;android.hardware.usb.host&quot; /&gt;\n     &lt;application android:allowBackup=&quot;true&quot; android:icon=&quot;@mipmap/ic_launcher&quot; android:label=&quot;@string/app_name&quot; android:roundIcon=&quot;@mipmap/ic_launcher_round&quot; android:supportsRtl=&quot;true&quot; android:theme=&quot;@style/AppTheme&quot;&gt;\n      &lt;activity android:name=&quot;MainActivity&quot;&gt;\n          &lt;intent-filter&gt;\n                &lt;action android:name=&quot;android.hardware.usb.action.USB_DEVICE_ATTACHED&quot; /&gt;\n            &lt;/intent-filter&gt;\n\n            &lt;meta-data android:name=&quot;android.hardware.usb.action.USB_DEVICE_ATTACHED&quot;\n                android:resource=&quot;@xml/device_filter&quot; /&gt;\n          \n      &lt;/activity&gt;\n      \n  &lt;/application&gt;\n  &lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot; /&gt;\n&lt;/manifest&gt;\n</code></pre>\n<p>*<em><strong>device_filter.xml</strong></em></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n\n&lt;resources&gt;\n    &lt;usb-device vendor-id=&quot;1234&quot; product-id=&quot;5678&quot; class=&quot;255&quot; subclass=&quot;66&quot; protocol=&quot;1&quot; /&gt;\n&lt;/resources&gt;\n</code></pre>\n<p><em><strong>MainActivity.cs</strong></em></p>\n<pre><code> protected override void OnCreate(Bundle savedInstanceState)\n        {\n            base.OnCreate(savedInstanceState);\n            Xamarin.Essentials.Platform.Init(this, savedInstanceState);\n            // Set our view from the &quot;main&quot; layout resource\n            SetContentView(Resource.Layout.activity_main);\n            main = FindViewById&lt;TextView&gt;(Resource.Id.textView1);\n            UsbManager usbManager=(UsbManager)GetSystemService(Context.UsbService);\n            PendingIntent pIntent = PendingIntent.GetBroadcast(this, 0, new Intent(UsbManager.ExtraPermissionGranted), 0);\n            //create a new instanceof usb reciever\n            UsbReceiver usbReceiver = new UsbReceiver();\n            //register the broadcast event receiver\n            RegisterReceiver(usbReceiver, new IntentFilter(UsbManager.ActionUsbDeviceAttached)); \n}\n</code></pre>\n<p>Below is how I extended the BroadcastReceiver class to implement a listener for a USB device attached event.</p>\n<p><em><strong>BroadcastReceiver</strong></em></p>\n<pre><code>[BroadcastReceiver(Enabled=true)]\n    [IntentFilter(new[] {UsbManager.ActionUsbDeviceAttached })]\n    public class UsbReceiver : BroadcastReceiver\n    {\n        public override void OnReceive(Context context, Intent intent)\n        {\n            if(intent.Action==UsbManager.ActionUsbDeviceAttached)\n            {\n                UsbDevice device= (UsbDevice) intent.GetParcelableExtra(UsbManager.ExtraDevice);\n                //request for permission to access thr udb device\n                Toast.MakeText(context,&quot;Usb device attached&quot;,ToastLength.Short).Show(); \n            }\n        }\n    }\n</code></pre>\n"},{"tags":["java","tomcat","intellij-idea"],"comments":[{"owner":{"account_id":1720906,"reputation":372,"user_id":1576796,"accept_rate":31,"display_name":"therealscifi"},"score":1,"creation_date":1462481769,"post_id":36796251,"comment_id":61667248,"body_markdown":"I&#39;m experiencing the same thing on the newest version of IntelliJ (2016.1.1). This maybe a bug, as I&#39;m seeing it on both my Mac and Linux workstations. Since I haven&#39;t noticed it until now, it may be related to a specific configuration profile.\n\nI&#39;ll add a ticket when I track down when exactly it occurs (it&#39;s intermittent for me.)","body":"I&#39;m experiencing the same thing on the newest version of IntelliJ (2016.1.1). This maybe a bug, as I&#39;m seeing it on both my Mac and Linux workstations. Since I haven&#39;t noticed it until now, it may be related to a specific configuration profile.  I&#39;ll add a ticket when I track down when exactly it occurs (it&#39;s intermittent for me.)"}],"answers":[{"tags":[],"owner":{"account_id":1473557,"reputation":487,"user_id":1384523,"display_name":"E3G"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1510254556,"creation_date":1510254556,"answer_id":47209743,"question_id":36796251,"body_markdown":"Check that you are using the Tomcat provided &quot;startup&quot; and &quot;shutdown&quot; scripts under the &quot;Run Configuration -&gt; Startup / Connection&quot; tab. The defaults don&#39;t work always.\r\n","title":"IntelliJ does not stop tomcat/tcServer","body":"<p>Check that you are using the Tomcat provided \"startup\" and \"shutdown\" scripts under the \"Run Configuration -> Startup / Connection\" tab. The defaults don't work always.</p>\n"}],"owner":{"account_id":2521267,"reputation":101,"user_id":2191597,"accept_rate":0,"display_name":"Peadar O&#39;Maoileoin"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5840,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":1,"score":6,"last_activity_date":1653125905,"creation_date":1461334644,"question_id":36796251,"body_markdown":"As described, the latest version of IntelliJ does not stop tomcat/tcServer.\r\n\r\nIt says it has stopped/disconnected, but the process is still running and it&#39;s available in my browser on port 8080.\r\n\r\nIn order to actually stop it I have to kill wrapper.exe and then kill all java processes.\r\n\r\nThis is becoming tedious. \r\n\r\nIs anyone else experiencing this issue? Is there a workaround?","title":"IntelliJ does not stop tomcat/tcServer","body":"<p>As described, the latest version of IntelliJ does not stop tomcat/tcServer.</p>\n\n<p>It says it has stopped/disconnected, but the process is still running and it's available in my browser on port 8080.</p>\n\n<p>In order to actually stop it I have to kill wrapper.exe and then kill all java processes.</p>\n\n<p>This is becoming tedious. </p>\n\n<p>Is anyone else experiencing this issue? Is there a workaround?</p>\n"},{"tags":["java","flutter","dart"],"comments":[{"owner":{"account_id":3817995,"reputation":4725,"user_id":3166846,"display_name":"Dan Harms"},"score":0,"creation_date":1653080071,"post_id":72324646,"comment_id":127772558,"body_markdown":"Yes you&#39;d only want to write Android-specific code in Java where possible. Anything done in Java would also have to be done in Swift if you want it to work the same way on iOS.","body":"Yes you&#39;d only want to write Android-specific code in Java where possible. Anything done in Java would also have to be done in Swift if you want it to work the same way on iOS."},{"owner":{"account_id":11135656,"reputation":3899,"user_id":8174223,"display_name":"Michael Horn"},"score":0,"creation_date":1653080231,"post_id":72324646,"comment_id":127772602,"body_markdown":"You&#39;re right that Java can only execute on android, but this doesn&#39;t necessarily stop your app from being cross platform compatible. You would simply need to provide platform specific code for any platform you do want to support - This is typically done through a plugin package: https://docs.flutter.dev/development/packages-and-plugins/developing-packages#plugin","body":"You&#39;re right that Java can only execute on android, but this doesn&#39;t necessarily stop your app from being cross platform compatible. You would simply need to provide platform specific code for any platform you do want to support - This is typically done through a plugin package: <a href=\"https://docs.flutter.dev/development/packages-and-plugins/developing-packages#plugin\" rel=\"nofollow noreferrer\">docs.flutter.dev/development/packages-and-plugins/&hellip;</a>"},{"owner":{"account_id":21437753,"reputation":143,"user_id":15792934,"display_name":"mikwee"},"score":0,"creation_date":1653125765,"post_id":72324646,"comment_id":127778478,"body_markdown":"One thing I forgot to mention is that I&#39;m not really coding in Java. I just have to use a piece of software that was written in Java, and is too big for me to rewrite in Dart. I&#39;ll add  that to the question.","body":"One thing I forgot to mention is that I&#39;m not really coding in Java. I just have to use a piece of software that was written in Java, and is too big for me to rewrite in Dart. I&#39;ll add  that to the question."}],"answers":[{"tags":[],"owner":{"account_id":24970018,"reputation":1,"user_id":18833270,"display_name":"Ahmed Samir"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653099330,"creation_date":1653099330,"answer_id":72326201,"question_id":72324646,"body_markdown":"Flutter allows us to call platform-specific APIs available in Java or Kotlin code on Android and in Objective C or Swift code on iOS.\r\n\r\nFlutter’s platform-specific API works with message passing.\r\n\r\nFrom the Flutter app, we have to send messages to a host on iOS or Android parts of the app over a platform channel. The host listens on the platform channel and receives the message. It then uses any platform-specific APIs using the native programming language and sends back a response to the Flutter portion of the app.\r\n\r\n[this is a clear architectural view][1]\r\n\r\n  [1]: https://i.stack.imgur.com/pBnyi.png\r\n\r\nMessages are passed between the Flutter Code(UI) and host (platform) using platform channels. Messages and responses are passed asynchronously and the user interface remains responsive.\r\n\r\nOn the Dart side using MethodChannel(API) we send a message which is corresponding to a method call. On the Android side MethodChannel Android (API) and on the iOS side FlutterMessageChannel (API) is used for receiving method calls and sending back results. These classes allow us to develop a platform plugin with very simple code.\r\n\r\nIf required, method calls can also be sent in the reverse direction, with the Android/IOS platform acting as the client and the method implemented in Dart.","title":"Can Flutter communicate with Java code only on Android?","body":"<p>Flutter allows us to call platform-specific APIs available in Java or Kotlin code on Android and in Objective C or Swift code on iOS.</p>\n<p>Flutter’s platform-specific API works with message passing.</p>\n<p>From the Flutter app, we have to send messages to a host on iOS or Android parts of the app over a platform channel. The host listens on the platform channel and receives the message. It then uses any platform-specific APIs using the native programming language and sends back a response to the Flutter portion of the app.</p>\n<p><a href=\"https://i.stack.imgur.com/pBnyi.png\" rel=\"nofollow noreferrer\">this is a clear architectural view</a></p>\n<p>Messages are passed between the Flutter Code(UI) and host (platform) using platform channels. Messages and responses are passed asynchronously and the user interface remains responsive.</p>\n<p>On the Dart side using MethodChannel(API) we send a message which is corresponding to a method call. On the Android side MethodChannel Android (API) and on the iOS side FlutterMessageChannel (API) is used for receiving method calls and sending back results. These classes allow us to develop a platform plugin with very simple code.</p>\n<p>If required, method calls can also be sent in the reverse direction, with the Android/IOS platform acting as the client and the method implemented in Dart.</p>\n"}],"owner":{"account_id":21437753,"reputation":143,"user_id":15792934,"display_name":"mikwee"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":809,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1653125788,"creation_date":1653079817,"question_id":72324646,"body_markdown":"From what I understand, Java code that interacts with Flutter has to be put in the `android` directory. Does that mean using Java kills my app&#39;s cross-platform availability?\r\n\r\nI should note, I&#39;m not really coding in Java. I just have to use a piece of software that was written in Java, and is too big for me to rewrite in Dart.","title":"Can Flutter communicate with Java code only on Android?","body":"<p>From what I understand, Java code that interacts with Flutter has to be put in the <code>android</code> directory. Does that mean using Java kills my app's cross-platform availability?</p>\n<p>I should note, I'm not really coding in Java. I just have to use a piece of software that was written in Java, and is too big for me to rewrite in Dart.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1621527071,"post_id":67624076,"comment_id":119529164,"body_markdown":"where is the code for MoneySorter?","body":"where is the code for MoneySorter?"},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1621529389,"post_id":67624076,"comment_id":119530253,"body_markdown":"[Java Client Technologies](https://docs.oracle.com/javase/8/javase-clienttechnologies.htm)","body":"<a href=\"https://docs.oracle.com/javase/8/javase-clienttechnologies.htm\" rel=\"nofollow noreferrer\">Java Client Technologies</a>"},{"owner":{"account_id":21664388,"reputation":23,"user_id":15983031,"display_name":"Jackie"},"score":0,"creation_date":1621531398,"post_id":67624076,"comment_id":119531015,"body_markdown":"the code doesn&#39;t do much yet, if you were to see it all you would see is a method that returns it&#39;s input as a string","body":"the code doesn&#39;t do much yet, if you were to see it all you would see is a method that returns it&#39;s input as a string"}],"answers":[{"tags":[],"owner":{"account_id":20030133,"reputation":96,"user_id":14683106,"display_name":"Tschogge"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1621528001,"creation_date":1621527242,"answer_id":67624221,"question_id":67624076,"body_markdown":"It looks like you forgot to set the ```ActionListener```. You should also change your method to another name, because your method has the same name as the ```actionPerformed``` of the ```ActionListener```.\r\n```\r\ndoThing.addActionListener(new ActionListener() {\r\n            @Override\r\n            public void actionPerformed(ActionEvent e) {\r\n                new MoneySorterRunner().actionPerformedMethod(e);\r\n            }\r\n        });\r\n```","title":"Issues Getting Button to Change Label Text","body":"<p>It looks like you forgot to set the <code>ActionListener</code>. You should also change your method to another name, because your method has the same name as the <code>actionPerformed</code> of the <code>ActionListener</code>.</p>\n<pre><code>doThing.addActionListener(new ActionListener() {\n            @Override\n            public void actionPerformed(ActionEvent e) {\n                new MoneySorterRunner().actionPerformedMethod(e);\n            }\n        });\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19647165,"reputation":386,"user_id":15093679,"display_name":"TheSj"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1621528588,"creation_date":1621528588,"answer_id":67624547,"question_id":67624076,"body_markdown":"You forgot to add the ActionListener. \r\nIn order to fix this, you need to do two things:\r\n\r\n1) Add this statement to your code, preferably near where you create the button (so that it is easier to keep track). - \r\n```java\r\ndoThing.addActionListener(this);\r\n```\r\n\r\n2) When you write &quot;public class&quot;, you also need this keyword: `implements ActionListener` - meaning your class (basically the first line) should look like:\r\n```java\r\npublic class MoneySorterRunner implements ActionListener\r\n```\r\n\r\nAnd that should make it work. \r\n","title":"Issues Getting Button to Change Label Text","body":"<p>You forgot to add the ActionListener.\nIn order to fix this, you need to do two things:</p>\n<ol>\n<li>Add this statement to your code, preferably near where you create the button (so that it is easier to keep track). -</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>doThing.addActionListener(this);\n</code></pre>\n<ol start=\"2\">\n<li>When you write &quot;public class&quot;, you also need this keyword: <code>implements ActionListener</code> - meaning your class (basically the first line) should look like:</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>public class MoneySorterRunner implements ActionListener\n</code></pre>\n<p>And that should make it work.</p>\n"},{"tags":[],"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1621578073,"creation_date":1621578073,"answer_id":67631747,"question_id":67624076,"body_markdown":"I understand that your program is supposed to do the following.\r\n\r\nUser enters an amount of money in a `JTextField` and when she clicks on a `JButton` the `JLabel`s show the entered amount in dollars, half-dollars and quarters (as per U.S. currency). My answer, below, is based on this understanding.\r\n\r\nI don&#39;t know if making all the variables static is good or bad but I never use static class member variables in my *Swing* programs.\r\n\r\nHere is my analysis of your code.\r\n```java\r\nprivate double money = Double.parseDouble(input);\r\n```\r\nThis line of code will be executed precisely once, when you launch class `MoneySorterRunner`. You want to do this every time the `JButton` is clicked, hence parsing the text entered into the [JTextField](https://docs.oracle.com/javase/tutorial/uiswing/components/text.html) should be performed in the [actionPerformed](https://docs.oracle.com/javase/tutorial/uiswing/events/index.html) method.\r\n```java\r\nJPanel panel = new JPanel();\r\npanel.setLayout(null);\r\n```\r\nIt is almost never needed to set the [layout manager](https://docs.oracle.com/javase/tutorial/uiswing/layout/index.html) to null. You can almost always find an appropriate layout manager or you can place one `JPanel` within another and use different layout managers for each `JPanel` in order to get the desired placement of [components](https://docs.oracle.com/javase/tutorial/uiswing/components/index.html) within the *Swing* application [window](https://docs.oracle.com/javase/tutorial/uiswing/components/toplevel.html).\r\n```java\r\nJButton doThing = new JButton(&quot;Do a Thing&quot;);\r\ndoThing.setActionCommand(&quot;Do a Thing&quot;);\r\n```\r\nBy default, the text of a [JButton](https://docs.oracle.com/javase/tutorial/uiswing/components/button.html) is also its *action command* so no need to explicitly set it.\r\n```java\r\nframe.setLocation(200, 200);\r\nframe.setLocationRelativeTo(null);\r\n```\r\nThese are two different ways to set the location of the `JFrame` and they do not complement each other. Use one or the other, but not both.\r\n```java\r\nframe.setVisible(true);\r\n```\r\nOnly after you have created all the [GUI] components and added them to the `JFrame` should you make the `JFrame` visible. So this should be the last line of the code that creates your GUI.\r\n```java\r\ndoThing.setBounds(250, 150, 100, 25);\r\n```\r\nIf you use a layout manager, you never need to call method `setBounds`.\r\n```java\r\nif(input != &quot;0&quot;){\r\n```\r\nThis is not the way to [compare strings](https://stackoverflow.com/questions/513832/how-do-i-compare-strings-in-java). Use method `equals` as you have done here\r\n```java\r\nif(check.equals(&quot;Do a Thing&quot;)){\r\n```\r\nHere is my rewrite of your application. Note that since I could not find the code for class `MoneySorter`, in your question, I just created my own version of that class. The point is to show how to change the text of the `JLabel` after clicking on the `JButton` and not how to create the actual text to display.\r\n```java\r\nimport java.awt.BorderLayout;\r\nimport java.awt.FlowLayout;\r\nimport java.awt.Font;\r\nimport java.awt.GridLayout;\r\nimport java.awt.event.ActionEvent;\r\nimport java.awt.event.ActionListener;\r\n\r\nimport javax.swing.BorderFactory;\r\nimport javax.swing.JButton;\r\nimport javax.swing.JFrame;\r\nimport javax.swing.JLabel;\r\nimport javax.swing.JPanel;\r\nimport javax.swing.JTextField;\r\n\r\npublic class MoneySorterRunner implements ActionListener {\r\n    private MoneySorter sorter = new MoneySorter();\r\n    private JTextField typeHere = new JTextField();\r\n\r\n    private JLabel num1;\r\n    private JLabel num2;\r\n    private JLabel num3;\r\n\r\n    private void createAndShowGui() {\r\n        JFrame frame = new JFrame(&quot;Money Calculator - v0.1a&quot;);\r\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n        frame.setResizable(false);\r\n        frame.add(createLabels(), BorderLayout.PAGE_START);\r\n        frame.add(createForm(), BorderLayout.CENTER);\r\n        frame.setSize(550, 250);\r\n        frame.setLocationRelativeTo(null);\r\n        frame.setVisible(true);\r\n    }\r\n\r\n    private JPanel createForm() {\r\n        JPanel panel = new JPanel(new FlowLayout(FlowLayout.CENTER, 10, 0));\r\n        panel.setBorder(BorderFactory.createEmptyBorder(20, 0, 0, 0));\r\n        typeHere = new JTextField(10);\r\n        panel.add(typeHere);\r\n        JButton doThing = new JButton(&quot;Do a Thing&quot;);\r\n        doThing.addActionListener(this);\r\n        panel.add(doThing);\r\n        return panel;\r\n    }\r\n\r\n    private static JLabel createLabel(String text) {\r\n        JLabel label = new JLabel(text);\r\n        label.setFont(new Font(&quot;Arial&quot;, Font.PLAIN, 25));\r\n        return label;\r\n    }\r\n\r\n    private JPanel createLabels() {\r\n        JPanel panel = new JPanel(new GridLayout());\r\n        num1 = createLabel(&quot;num1&quot;);\r\n        panel.add(num1);\r\n        num2 = createLabel(&quot;num2&quot;);\r\n        panel.add(num2);\r\n        num3 = createLabel(&quot;num3&quot;);\r\n        panel.add(num3);\r\n        return panel;\r\n    }\r\n\r\n    public static void main(String args[]) {\r\n        new MoneySorterRunner().createAndShowGui();\r\n    }\r\n\r\n    public void actionPerformed(ActionEvent event){\r\n        String check = event.getActionCommand();\r\n        if(check.equals(&quot;Do a Thing&quot;)){\r\n            String text = typeHere.getText();\r\n            if (!text.isEmpty()) {\r\n                double money = Double.parseDouble(text);\r\n                num1.setText(sorter.divQuarter(money));\r\n                num2.setText(sorter.divQuarter(money));\r\n                num3.setText(sorter.divHalf(money));\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\nclass MoneySorter {\r\n\r\n    public String divQuarter(double money) {\r\n        return &quot;divQuarter(&quot; + money + &quot;)&quot;;\r\n    }\r\n\r\n    public String divHalf(double money) {\r\n        return &quot;divHalf(&quot; + money + &quot;)&quot;;\r\n    }\r\n}\r\n```\r\nThis is how your GUI looked when I ran your original code (as posted in your question).\r\n\r\n[![original app screen capture][1]][1]\r\n\r\nThis is how the GUI looks when running the code in this answer.\r\n\r\nAfter launching\r\n\r\n[![my app after launch screen capture][2]][2]\r\n\r\nAfter entering a value and clicking the `JButton`\r\n\r\n[![my app after button click][3]][3]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/7hj85.png\r\n  [2]: https://i.stack.imgur.com/pxJZ7.png\r\n  [3]: https://i.stack.imgur.com/AChWd.png","title":"Issues Getting Button to Change Label Text","body":"<p>I understand that your program is supposed to do the following.</p>\n<p>User enters an amount of money in a <code>JTextField</code> and when she clicks on a <code>JButton</code> the <code>JLabel</code>s show the entered amount in dollars, half-dollars and quarters (as per U.S. currency). My answer, below, is based on this understanding.</p>\n<p>I don't know if making all the variables static is good or bad but I never use static class member variables in my <em>Swing</em> programs.</p>\n<p>Here is my analysis of your code.</p>\n<pre class=\"lang-java prettyprint-override\"><code>private double money = Double.parseDouble(input);\n</code></pre>\n<p>This line of code will be executed precisely once, when you launch class <code>MoneySorterRunner</code>. You want to do this every time the <code>JButton</code> is clicked, hence parsing the text entered into the <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/components/text.html\" rel=\"nofollow noreferrer\">JTextField</a> should be performed in the <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/events/index.html\" rel=\"nofollow noreferrer\">actionPerformed</a> method.</p>\n<pre class=\"lang-java prettyprint-override\"><code>JPanel panel = new JPanel();\npanel.setLayout(null);\n</code></pre>\n<p>It is almost never needed to set the <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/layout/index.html\" rel=\"nofollow noreferrer\">layout manager</a> to null. You can almost always find an appropriate layout manager or you can place one <code>JPanel</code> within another and use different layout managers for each <code>JPanel</code> in order to get the desired placement of <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/components/index.html\" rel=\"nofollow noreferrer\">components</a> within the <em>Swing</em> application <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/components/toplevel.html\" rel=\"nofollow noreferrer\">window</a>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>JButton doThing = new JButton(&quot;Do a Thing&quot;);\ndoThing.setActionCommand(&quot;Do a Thing&quot;);\n</code></pre>\n<p>By default, the text of a <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/components/button.html\" rel=\"nofollow noreferrer\">JButton</a> is also its <em>action command</em> so no need to explicitly set it.</p>\n<pre class=\"lang-java prettyprint-override\"><code>frame.setLocation(200, 200);\nframe.setLocationRelativeTo(null);\n</code></pre>\n<p>These are two different ways to set the location of the <code>JFrame</code> and they do not complement each other. Use one or the other, but not both.</p>\n<pre class=\"lang-java prettyprint-override\"><code>frame.setVisible(true);\n</code></pre>\n<p>Only after you have created all the [GUI] components and added them to the <code>JFrame</code> should you make the <code>JFrame</code> visible. So this should be the last line of the code that creates your GUI.</p>\n<pre class=\"lang-java prettyprint-override\"><code>doThing.setBounds(250, 150, 100, 25);\n</code></pre>\n<p>If you use a layout manager, you never need to call method <code>setBounds</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>if(input != &quot;0&quot;){\n</code></pre>\n<p>This is not the way to <a href=\"https://stackoverflow.com/questions/513832/how-do-i-compare-strings-in-java\">compare strings</a>. Use method <code>equals</code> as you have done here</p>\n<pre class=\"lang-java prettyprint-override\"><code>if(check.equals(&quot;Do a Thing&quot;)){\n</code></pre>\n<p>Here is my rewrite of your application. Note that since I could not find the code for class <code>MoneySorter</code>, in your question, I just created my own version of that class. The point is to show how to change the text of the <code>JLabel</code> after clicking on the <code>JButton</code> and not how to create the actual text to display.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.awt.BorderLayout;\nimport java.awt.FlowLayout;\nimport java.awt.Font;\nimport java.awt.GridLayout;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\n\nimport javax.swing.BorderFactory;\nimport javax.swing.JButton;\nimport javax.swing.JFrame;\nimport javax.swing.JLabel;\nimport javax.swing.JPanel;\nimport javax.swing.JTextField;\n\npublic class MoneySorterRunner implements ActionListener {\n    private MoneySorter sorter = new MoneySorter();\n    private JTextField typeHere = new JTextField();\n\n    private JLabel num1;\n    private JLabel num2;\n    private JLabel num3;\n\n    private void createAndShowGui() {\n        JFrame frame = new JFrame(&quot;Money Calculator - v0.1a&quot;);\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        frame.setResizable(false);\n        frame.add(createLabels(), BorderLayout.PAGE_START);\n        frame.add(createForm(), BorderLayout.CENTER);\n        frame.setSize(550, 250);\n        frame.setLocationRelativeTo(null);\n        frame.setVisible(true);\n    }\n\n    private JPanel createForm() {\n        JPanel panel = new JPanel(new FlowLayout(FlowLayout.CENTER, 10, 0));\n        panel.setBorder(BorderFactory.createEmptyBorder(20, 0, 0, 0));\n        typeHere = new JTextField(10);\n        panel.add(typeHere);\n        JButton doThing = new JButton(&quot;Do a Thing&quot;);\n        doThing.addActionListener(this);\n        panel.add(doThing);\n        return panel;\n    }\n\n    private static JLabel createLabel(String text) {\n        JLabel label = new JLabel(text);\n        label.setFont(new Font(&quot;Arial&quot;, Font.PLAIN, 25));\n        return label;\n    }\n\n    private JPanel createLabels() {\n        JPanel panel = new JPanel(new GridLayout());\n        num1 = createLabel(&quot;num1&quot;);\n        panel.add(num1);\n        num2 = createLabel(&quot;num2&quot;);\n        panel.add(num2);\n        num3 = createLabel(&quot;num3&quot;);\n        panel.add(num3);\n        return panel;\n    }\n\n    public static void main(String args[]) {\n        new MoneySorterRunner().createAndShowGui();\n    }\n\n    public void actionPerformed(ActionEvent event){\n        String check = event.getActionCommand();\n        if(check.equals(&quot;Do a Thing&quot;)){\n            String text = typeHere.getText();\n            if (!text.isEmpty()) {\n                double money = Double.parseDouble(text);\n                num1.setText(sorter.divQuarter(money));\n                num2.setText(sorter.divQuarter(money));\n                num3.setText(sorter.divHalf(money));\n            }\n        }\n    }\n}\n\nclass MoneySorter {\n\n    public String divQuarter(double money) {\n        return &quot;divQuarter(&quot; + money + &quot;)&quot;;\n    }\n\n    public String divHalf(double money) {\n        return &quot;divHalf(&quot; + money + &quot;)&quot;;\n    }\n}\n</code></pre>\n<p>This is how your GUI looked when I ran your original code (as posted in your question).</p>\n<p><a href=\"https://i.stack.imgur.com/7hj85.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/7hj85.png\" alt=\"original app screen capture\" /></a></p>\n<p>This is how the GUI looks when running the code in this answer.</p>\n<p>After launching</p>\n<p><a href=\"https://i.stack.imgur.com/pxJZ7.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/pxJZ7.png\" alt=\"my app after launch screen capture\" /></a></p>\n<p>After entering a value and clicking the <code>JButton</code></p>\n<p><a href=\"https://i.stack.imgur.com/AChWd.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/AChWd.png\" alt=\"my app after button click\" /></a></p>\n"}],"owner":{"account_id":21664388,"reputation":23,"user_id":15983031,"display_name":"Jackie"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":286,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":67631747,"answer_count":3,"score":2,"last_activity_date":1653125335,"creation_date":1621526675,"question_id":67624076,"body_markdown":"Recently I&#39;ve been trying to make a program that takes in a double in the form of a string. It then parses that to a double which goes to another class to be divided to a quarter or a half and then returns that output to a label. \r\n\r\nI&#39;ve been having an issue where when I click a button to actually submit what is inside the text field, the label doesn&#39;t change.\r\n\r\nI&#39;ve tried a lot of trial and error and I know I can change the text after doing new JLabel(&quot;test&quot;) for example. However, there seems to be an issue with my action listener for when the button is pushed. I can&#39;t tell if it&#39;s not seeing the button as being pushed.\r\n\r\n**NOTE:** I am new to awt event things and swing as a whole, I usually operate just using the output terminal of visual studio code where it&#39;s just text and no graphics.\r\n\r\n```\r\nimport javax.swing.*;\r\nimport java.awt.event.*;\r\nimport java.awt.Font;\r\nimport java.awt.Dimension;\r\n\r\npublic class MoneySorterRunner {\r\n    \r\n    private  MoneySorter sorter = new MoneySorter();\r\n\r\n    private String input = &quot;0&quot;;\r\n    private double money = Double.parseDouble(input);\r\n    private static JTextField typeHere = new JTextField();\r\n\r\n\r\n///labels num1-3 are the labels being changed\r\n    private static JLabel num1 = new JLabel(new MoneySorterRunner().sorter.divQuarter(new MoneySorterRunner().money));\r\n    private static JLabel num2 = new JLabel(new MoneySorterRunner().sorter.divQuarter(new MoneySorterRunner().money));\r\n    private static JLabel num3 = new JLabel(new MoneySorterRunner().sorter.divHalf(new MoneySorterRunner().money));\r\n\r\n    public static void main(String args[]) {\r\n        JFrame frame = new JFrame(&quot;Money Calculator - v0.1a&quot;);\r\n        JPanel panel = new JPanel();\r\n        JButton doThing = new JButton(&quot;Do a Thing&quot;);\r\n        doThing.setActionCommand(&quot;Do a Thing&quot;);\r\n        frame.add(panel);\r\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n        frame.setSize(500, 250);\r\n        frame.setLocation(200, 200);\r\n        frame.setResizable(false);\r\n        frame.setLocationRelativeTo(null);\r\n        panel.setLayout(null);\r\n        frame.setVisible(true);\r\n        JLabel item1 = new JLabel(&quot;test&quot;);\r\n        JLabel item2 = new JLabel(&quot;test&quot;);\r\n        JLabel item3 = new JLabel(&quot;test&quot;);\r\n        item1.setFont(new Font(&quot;Arial&quot;, Font.PLAIN, 30));\r\n        item2.setFont(new Font(&quot;Arial&quot;, Font.PLAIN, 30));\r\n        item3.setFont(new Font(&quot;Arial&quot;, Font.PLAIN, 30));\r\n        num1.setFont(new Font(&quot;Arial&quot;, Font.PLAIN, 25));\r\n        num2.setFont(new Font(&quot;Arial&quot;, Font.PLAIN, 25));\r\n        num3.setFont(new Font(&quot;Arial&quot;, Font.PLAIN, 25));\r\n        Dimension size1 = item1.getPreferredSize();\r\n        Dimension size2 = item2.getPreferredSize();\r\n        Dimension size3 = item3.getPreferredSize();\r\n        panel.add(item1);\r\n        panel.add(item2);\r\n        panel.add(item3);\r\n        panel.add(num1);\r\n        panel.add(num2);\r\n        panel.add(num3);\r\n        panel.add(doThing);\r\n        panel.add(typeHere);\r\n        item1.setBounds(10, 10, size1.width + 3, size1.height);\r\n        item2.setBounds(190, 10, size2.width + 3, size2.height);\r\n        item3.setBounds(325, 10, size3.width + 3, size3.height);\r\n        num1.setBounds(50, 50, 50, 25);\r\n        num2.setBounds(200, 50, 50, 25);\r\n        num3.setBounds(350, 50, 50, 25);\r\n        doThing.setBounds(250, 150, 100, 25);\r\n        typeHere.setBounds(100, 150, 150, 25);\r\n\r\n    }\r\n\r\n    public void actionPerformed(ActionEvent event){\r\n        String check = event.getActionCommand();\r\n        if(check.equals(&quot;Do a Thing&quot;)){\r\n            input = typeHere.getText();\r\n        }\r\n        if(input != &quot;0&quot;){\r\n            num1.setText(sorter.divQuarter(money));\r\n            num2.setText(sorter.divQuarter(money));\r\n            num3.setText(sorter.divHalf(money));\r\n        }\r\n    }\r\n\r\n}\r\n```\r\n\r\n**For those who wanted the MoneySorter.java:**\r\n```public class MoneySorter {\r\n\r\n\r\n    public MoneySorter(){\r\n\r\n    }\r\n\r\n    public String divQuarter(double moneyIn){\r\n        String answer = Double.toString(moneyIn);\r\n        return answer;\r\n    }\r\n\r\n    public String divHalf(double moneyIn){\r\n        String answer = Double.toString(moneyIn);\r\n        return answer;\r\n    }\r\n}\r\n```","title":"Issues Getting Button to Change Label Text","body":"<p>Recently I've been trying to make a program that takes in a double in the form of a string. It then parses that to a double which goes to another class to be divided to a quarter or a half and then returns that output to a label.</p>\n<p>I've been having an issue where when I click a button to actually submit what is inside the text field, the label doesn't change.</p>\n<p>I've tried a lot of trial and error and I know I can change the text after doing new JLabel(&quot;test&quot;) for example. However, there seems to be an issue with my action listener for when the button is pushed. I can't tell if it's not seeing the button as being pushed.</p>\n<p><strong>NOTE:</strong> I am new to awt event things and swing as a whole, I usually operate just using the output terminal of visual studio code where it's just text and no graphics.</p>\n<pre><code>import javax.swing.*;\nimport java.awt.event.*;\nimport java.awt.Font;\nimport java.awt.Dimension;\n\npublic class MoneySorterRunner {\n    \n    private  MoneySorter sorter = new MoneySorter();\n\n    private String input = &quot;0&quot;;\n    private double money = Double.parseDouble(input);\n    private static JTextField typeHere = new JTextField();\n\n\n///labels num1-3 are the labels being changed\n    private static JLabel num1 = new JLabel(new MoneySorterRunner().sorter.divQuarter(new MoneySorterRunner().money));\n    private static JLabel num2 = new JLabel(new MoneySorterRunner().sorter.divQuarter(new MoneySorterRunner().money));\n    private static JLabel num3 = new JLabel(new MoneySorterRunner().sorter.divHalf(new MoneySorterRunner().money));\n\n    public static void main(String args[]) {\n        JFrame frame = new JFrame(&quot;Money Calculator - v0.1a&quot;);\n        JPanel panel = new JPanel();\n        JButton doThing = new JButton(&quot;Do a Thing&quot;);\n        doThing.setActionCommand(&quot;Do a Thing&quot;);\n        frame.add(panel);\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        frame.setSize(500, 250);\n        frame.setLocation(200, 200);\n        frame.setResizable(false);\n        frame.setLocationRelativeTo(null);\n        panel.setLayout(null);\n        frame.setVisible(true);\n        JLabel item1 = new JLabel(&quot;test&quot;);\n        JLabel item2 = new JLabel(&quot;test&quot;);\n        JLabel item3 = new JLabel(&quot;test&quot;);\n        item1.setFont(new Font(&quot;Arial&quot;, Font.PLAIN, 30));\n        item2.setFont(new Font(&quot;Arial&quot;, Font.PLAIN, 30));\n        item3.setFont(new Font(&quot;Arial&quot;, Font.PLAIN, 30));\n        num1.setFont(new Font(&quot;Arial&quot;, Font.PLAIN, 25));\n        num2.setFont(new Font(&quot;Arial&quot;, Font.PLAIN, 25));\n        num3.setFont(new Font(&quot;Arial&quot;, Font.PLAIN, 25));\n        Dimension size1 = item1.getPreferredSize();\n        Dimension size2 = item2.getPreferredSize();\n        Dimension size3 = item3.getPreferredSize();\n        panel.add(item1);\n        panel.add(item2);\n        panel.add(item3);\n        panel.add(num1);\n        panel.add(num2);\n        panel.add(num3);\n        panel.add(doThing);\n        panel.add(typeHere);\n        item1.setBounds(10, 10, size1.width + 3, size1.height);\n        item2.setBounds(190, 10, size2.width + 3, size2.height);\n        item3.setBounds(325, 10, size3.width + 3, size3.height);\n        num1.setBounds(50, 50, 50, 25);\n        num2.setBounds(200, 50, 50, 25);\n        num3.setBounds(350, 50, 50, 25);\n        doThing.setBounds(250, 150, 100, 25);\n        typeHere.setBounds(100, 150, 150, 25);\n\n    }\n\n    public void actionPerformed(ActionEvent event){\n        String check = event.getActionCommand();\n        if(check.equals(&quot;Do a Thing&quot;)){\n            input = typeHere.getText();\n        }\n        if(input != &quot;0&quot;){\n            num1.setText(sorter.divQuarter(money));\n            num2.setText(sorter.divQuarter(money));\n            num3.setText(sorter.divHalf(money));\n        }\n    }\n\n}\n</code></pre>\n<p><strong>For those who wanted the MoneySorter.java:</strong></p>\n<pre><code>\n\n    public MoneySorter(){\n\n    }\n\n    public String divQuarter(double moneyIn){\n        String answer = Double.toString(moneyIn);\n        return answer;\n    }\n\n    public String divHalf(double moneyIn){\n        String answer = Double.toString(moneyIn);\n        return answer;\n    }\n}\n</code></pre>\n"},{"tags":["java","spring-boot","spring-mvc"],"comments":[{"owner":{"account_id":25296580,"reputation":2100,"user_id":19121623,"display_name":"Eskandar Abedini"},"score":1,"creation_date":1653124440,"post_id":72328037,"comment_id":127778263,"body_markdown":"Please check this answer:\n[Spring MVC how to get progress of running async task](https://stackoverflow.com/questions/10899635/spring-mvc-how-to-get-progress-of-running-async-task)","body":"Please check this answer: <a href=\"https://stackoverflow.com/questions/10899635/spring-mvc-how-to-get-progress-of-running-async-task\">Spring MVC how to get progress of running async task</a>"}],"answers":[{"tags":[],"owner":{"account_id":25296580,"reputation":2100,"user_id":19121623,"display_name":"Eskandar Abedini"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653124947,"creation_date":1653124947,"answer_id":72328240,"question_id":72328037,"body_markdown":"[Spring MVC 3.2 Preview: Techniques for Real-time Updates][1] \r\n\r\n\r\n  [1]: https://spring.io/blog/2012/05/08/spring-mvc-3-2-preview-techniques-for-real-time-updates/\r\n\r\nmay be useful too.","title":"Springboot MVC - how to report status of long running HTTP request","body":"<p><a href=\"https://spring.io/blog/2012/05/08/spring-mvc-3-2-preview-techniques-for-real-time-updates/\" rel=\"nofollow noreferrer\">Spring MVC 3.2 Preview: Techniques for Real-time Updates</a></p>\n<p>may be useful too.</p>\n"}],"owner":{"account_id":13266298,"reputation":1211,"user_id":9578985,"display_name":"Jerald Baker"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":868,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1653124947,"creation_date":1653123058,"question_id":72328037,"body_markdown":"I am using Springboot MVC and say a HTTP call results in a long running operation :-\r\n\r\n    @PostMapping\r\n    public ResponseEntity&lt;String&gt; doSomething() throws IOException {\r\n        this.someService.doLongRunningOperationSync(); //Long running operation. \r\n        return new ResponseEntity&lt;&gt;(org.springframework.http.HttpStatus.OK);\r\n    }\r\n\r\nNow, how can I periodically update the client of the progress? \r\n\r\nThis draft - https://tools.ietf.org/id/draft-wright-http-progress-01.html - defines a way to report status of long running HTTP operations. Is something possible like this in springboot MVC? Any other alternative of how I can achieve this?","title":"Springboot MVC - how to report status of long running HTTP request","body":"<p>I am using Springboot MVC and say a HTTP call results in a long running operation :-</p>\n<pre><code>@PostMapping\npublic ResponseEntity&lt;String&gt; doSomething() throws IOException {\n    this.someService.doLongRunningOperationSync(); //Long running operation. \n    return new ResponseEntity&lt;&gt;(org.springframework.http.HttpStatus.OK);\n}\n</code></pre>\n<p>Now, how can I periodically update the client of the progress?</p>\n<p>This draft - <a href=\"https://tools.ietf.org/id/draft-wright-http-progress-01.html\" rel=\"nofollow noreferrer\">https://tools.ietf.org/id/draft-wright-http-progress-01.html</a> - defines a way to report status of long running HTTP operations. Is something possible like this in springboot MVC? Any other alternative of how I can achieve this?</p>\n"},{"tags":["java","junit","mockito","junit5"],"comments":[{"owner":{"account_id":5565947,"reputation":2509,"user_id":4413257,"accept_rate":68,"display_name":"matoni"},"score":0,"creation_date":1653126589,"post_id":72328221,"comment_id":127778624,"body_markdown":"As far as I know, you can not mock `new` instance in JUnit 5 + Mockito.","body":"As far as I know, you can not mock <code>new</code> instance in JUnit 5 + Mockito."},{"owner":{"account_id":19020382,"reputation":249,"user_id":13884568,"display_name":"jjnrmason"},"score":0,"creation_date":1653126758,"post_id":72328221,"comment_id":127778651,"body_markdown":"do you know how I&#39;d go about doing it?","body":"do you know how I&#39;d go about doing it?"},{"owner":{"account_id":5565947,"reputation":2509,"user_id":4413257,"accept_rate":68,"display_name":"matoni"},"score":0,"creation_date":1653126954,"post_id":72328221,"comment_id":127778680,"body_markdown":"If you had something like this: `getAssignedModulesWithDetails(CourseLoader courseLoader)` you will be able to pass mock and verify interactions. Or alternativelly, `getAssignedModulesWithDetails() { CourseLoader courseLoader = createCourseLoader(); }` in such case, you will be able to mock createCourseLoader() method to return mock and verify interactions.","body":"If you had something like this: <code>getAssignedModulesWithDetails(CourseLoader courseLoader)</code> you will be able to pass mock and verify interactions. Or alternativelly, <code>getAssignedModulesWithDetails() { CourseLoader courseLoader = createCourseLoader(); }</code> in such case, you will be able to mock createCourseLoader() method to return mock and verify interactions."},{"owner":{"account_id":19020382,"reputation":249,"user_id":13884568,"display_name":"jjnrmason"},"score":0,"creation_date":1653127292,"post_id":72328221,"comment_id":127778741,"body_markdown":"Hmm okay I&#39;ll have a think about refactoring thanks!","body":"Hmm okay I&#39;ll have a think about refactoring thanks!"},{"owner":{"account_id":4741976,"reputation":5385,"user_id":3834413,"display_name":"Eugene"},"score":0,"creation_date":1653342033,"post_id":72328221,"comment_id":127824407,"body_markdown":"Since Mockito 3.5 version you can mock object construction. Example: https://stackoverflow.com/questions/72337164/powermock-whennew-alternative/72338212#72338212","body":"Since Mockito 3.5 version you can mock object construction. Example: <a href=\"https://stackoverflow.com/questions/72337164/powermock-whennew-alternative/72338212#72338212\" title=\"powermock whennew alternative\">stackoverflow.com/questions/72337164/&hellip;</a>"}],"owner":{"account_id":19020382,"reputation":249,"user_id":13884568,"display_name":"jjnrmason"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1006,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1653124753,"creation_date":1653124753,"question_id":72328221,"body_markdown":"I am trying to mock the new instance of `CourseLoader` in the method I&#39;m testing so when I call `loadAll()` it returns my mock. \r\n\r\nI have setup a `mock()` in the unit test but it seems to be ignoring what I&#39;m doing, is some of the setup wrong?\r\n\r\nMethod I&#39;m testing\r\n```java\r\npublic ArrayList&lt;Module&gt; getAssignedModulesWithDetails() {\r\n        CourseLoader courseLoader = new CourseLoader();\r\n        ArrayList&lt;Module&gt; assignedModules = new ArrayList&lt;&gt;();\r\n        \r\n        for (Course course : courseLoader.loadAll()) {\r\n            ArrayList&lt;Module&gt; courseModules = course.getModules();\r\n            for (Module module : courseModules) {\r\n                if (module.getInstructor() != null &amp;&amp; module.getInstructor().equals(this.getId())) {\r\n                    assignedModules.add(module);\r\n                }\r\n            }\r\n        }\r\n\r\n        return assignedModules;\r\n    }\r\n```\r\n\r\nUnit test\r\n```java\r\n@Test\r\n    public void testYouCanGetAssignedModulesWithDetails() {\r\n        CourseLoader courseLoaderMock = mock(CourseLoader.class);\r\n        ArrayList&lt;Course&gt; mockedCourses = new ArrayList&lt;&gt;();\r\n\r\n        ArrayList&lt;Module&gt; mockedModules = new ArrayList&lt;&gt;();\r\n        Module module1 = new Module(this.module1, &quot;Module1&quot;, true, 4, false, this.id);\r\n        Module module2 = new Module(this.module2, &quot;Module2&quot;, true, 4, false, this.id);\r\n        Module module3 = new Module(this.module3, &quot;Module3&quot;, true, 4, false, this.id);\r\n        mockedModules.add(module1);\r\n        mockedModules.add(module2);\r\n        mockedModules.add(module3);\r\n        Course mockedCourse = new Course(UUID.randomUUID(), &quot;Mocked Course&quot;, true, mockedModules);\r\n\r\n        mockedCourses.add(mockedCourse);\r\n        when(courseLoaderMock.loadAll()).thenReturn(mockedCourses);\r\n\r\n        ArrayList&lt;Module&gt; assignedModulesWithDetails = this.instructor.getAssignedModulesWithDetails();\r\n\r\n        assertEquals(0, assignedModulesWithDetails.size());\r\n    }\r\n```","title":"How to mock new instance of class in JUnit 5","body":"<p>I am trying to mock the new instance of <code>CourseLoader</code> in the method I'm testing so when I call <code>loadAll()</code> it returns my mock.</p>\n<p>I have setup a <code>mock()</code> in the unit test but it seems to be ignoring what I'm doing, is some of the setup wrong?</p>\n<p>Method I'm testing</p>\n<pre class=\"lang-java prettyprint-override\"><code>public ArrayList&lt;Module&gt; getAssignedModulesWithDetails() {\n        CourseLoader courseLoader = new CourseLoader();\n        ArrayList&lt;Module&gt; assignedModules = new ArrayList&lt;&gt;();\n        \n        for (Course course : courseLoader.loadAll()) {\n            ArrayList&lt;Module&gt; courseModules = course.getModules();\n            for (Module module : courseModules) {\n                if (module.getInstructor() != null &amp;&amp; module.getInstructor().equals(this.getId())) {\n                    assignedModules.add(module);\n                }\n            }\n        }\n\n        return assignedModules;\n    }\n</code></pre>\n<p>Unit test</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Test\n    public void testYouCanGetAssignedModulesWithDetails() {\n        CourseLoader courseLoaderMock = mock(CourseLoader.class);\n        ArrayList&lt;Course&gt; mockedCourses = new ArrayList&lt;&gt;();\n\n        ArrayList&lt;Module&gt; mockedModules = new ArrayList&lt;&gt;();\n        Module module1 = new Module(this.module1, &quot;Module1&quot;, true, 4, false, this.id);\n        Module module2 = new Module(this.module2, &quot;Module2&quot;, true, 4, false, this.id);\n        Module module3 = new Module(this.module3, &quot;Module3&quot;, true, 4, false, this.id);\n        mockedModules.add(module1);\n        mockedModules.add(module2);\n        mockedModules.add(module3);\n        Course mockedCourse = new Course(UUID.randomUUID(), &quot;Mocked Course&quot;, true, mockedModules);\n\n        mockedCourses.add(mockedCourse);\n        when(courseLoaderMock.loadAll()).thenReturn(mockedCourses);\n\n        ArrayList&lt;Module&gt; assignedModulesWithDetails = this.instructor.getAssignedModulesWithDetails();\n\n        assertEquals(0, assignedModulesWithDetails.size());\n    }\n</code></pre>\n"},{"tags":["java","android","android-fragments","android-activity"],"comments":[{"owner":{"account_id":18712697,"reputation":564,"user_id":13642440,"display_name":"Jan Rozenbajgier"},"score":0,"creation_date":1649496509,"post_id":71806688,"comment_id":126893978,"body_markdown":"Please share your activity content view xml file, I will try to help.","body":"Please share your activity content view xml file, I will try to help."},{"owner":{"account_id":18712697,"reputation":564,"user_id":13642440,"display_name":"Jan Rozenbajgier"},"score":0,"creation_date":1649496572,"post_id":71806688,"comment_id":126893983,"body_markdown":"And does your app not compile or it&#39;s only android studio warning?","body":"And does your app not compile or it&#39;s only android studio warning?"},{"owner":{"account_id":13060317,"reputation":580,"user_id":9437740,"display_name":"VanessaF"},"score":0,"creation_date":1649502150,"post_id":71806688,"comment_id":126895023,"body_markdown":"@JanRozenbajgier: Thanks for your comments. Actually the code does not compile (as always when you get the error &quot;Cannot resolve symbol&quot;)","body":"@JanRozenbajgier: Thanks for your comments. Actually the code does not compile (as always when you get the error &quot;Cannot resolve symbol&quot;)"},{"owner":{"account_id":13060317,"reputation":580,"user_id":9437740,"display_name":"VanessaF"},"score":0,"creation_date":1649502329,"post_id":71806688,"comment_id":126895060,"body_markdown":"When looking at my 2 examples from Stackoverflow answers, do you know which value I should use for `&quot;testID&quot;` (approach 1) or `R.id.fragment_container` (approach 2)?","body":"When looking at my 2 examples from Stackoverflow answers, do you know which value I should use for <code>&quot;testID&quot;</code> (approach 1) or <code>R.id.fragment_container</code> (approach 2)?"},{"owner":{"account_id":18712697,"reputation":564,"user_id":13642440,"display_name":"Jan Rozenbajgier"},"score":0,"creation_date":1649506372,"post_id":71806688,"comment_id":126895887,"body_markdown":"R.id.fragment_container is the id of the `FragmentContainerView`. TestId should be the tag set when adding fragment into container. I will write an answer and explain everything.","body":"R.id.fragment_container is the id of the <code>FragmentContainerView</code>. TestId should be the tag set when adding fragment into container. I will write an answer and explain everything."},{"owner":{"account_id":22564906,"reputation":3594,"user_id":17133283,"display_name":"Sambhav Khandelwal"},"score":1,"creation_date":1649605596,"post_id":71806688,"comment_id":126912776,"body_markdown":"I think you need to rephrase your question to `How to get the currently displaying fragment in Nav Controller`","body":"I think you need to rephrase your question to <code>How to get the currently displaying fragment in Nav Controller</code>"},{"owner":{"account_id":13060317,"reputation":580,"user_id":9437740,"display_name":"VanessaF"},"score":0,"creation_date":1649707220,"post_id":71806688,"comment_id":126940023,"body_markdown":"@Sambhav.K: I just renamed the question as you suggested","body":"@Sambhav.K: I just renamed the question as you suggested"}],"answers":[{"tags":[],"owner":{"account_id":22564906,"reputation":3594,"user_id":17133283,"display_name":"Sambhav Khandelwal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653124489,"creation_date":1649499411,"answer_id":71807141,"question_id":71806688,"body_markdown":"You can do something like this:\r\n1. Create a field of `Fragment` in your activity. Like this:\r\n```java\r\nprivate Fragment mCurrentlyDisplayingFragment;\r\n```\r\n2. Whenever changing the fragment, just pass that fragment object to that. Like this:\r\n```java\r\nMyFragment fragment = new MyFragment();\r\n// show it in the frame layout\r\nmCurrentlyDisplayingFragment = fragment;\r\n```\r\n\r\nNow, whenever you are checking, just check this field.\r\n","title":"How to get the currently displaying fragment in Nav Controller","body":"<p>You can do something like this:</p>\n<ol>\n<li>Create a field of <code>Fragment</code> in your activity. Like this:</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>private Fragment mCurrentlyDisplayingFragment;\n</code></pre>\n<ol start=\"2\">\n<li>Whenever changing the fragment, just pass that fragment object to that. Like this:</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>MyFragment fragment = new MyFragment();\n// show it in the frame layout\nmCurrentlyDisplayingFragment = fragment;\n</code></pre>\n<p>Now, whenever you are checking, just check this field.</p>\n"},{"tags":[],"owner":{"account_id":18712697,"reputation":564,"user_id":13642440,"display_name":"Jan Rozenbajgier"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1649507495,"creation_date":1649507495,"answer_id":71808070,"question_id":71806688,"body_markdown":"**Your 1st approach:**&lt;br&gt;&lt;br&gt;\r\nIf you want to find fragment by tag you need to set the tag first. You do it while making transaction, for ex:&lt;br&gt;&lt;br&gt;\r\n\r\n    getSupportFragmentManager()\r\n    .beginTransaction()\r\n    .replace(R.id.container, SheetEditorScreen.class, args, &quot;testID&quot; //Here you set the tag\r\n    )\r\n\r\nand then you will be able to get fragment by tag as you did:&lt;br&gt;\r\n\r\n    getSupportFragmentManager().findFragmentByTag(&quot;testID&quot;);\r\n\r\n&lt;br&gt;\r\n\r\n**Your 2nd approach:**&lt;br&gt;\r\n \r\nIf you want to get fragment by id you need to pass container&#39;s view id which you declare in your activity&#39;s layout xml file (set in `setContentView(R.id.main_activity)`):&lt;br&gt;\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;androidx.constraintlayout.widget.ConstraintLayout \r\n       xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n       android:layout_width=&quot;match_parent&quot;\r\n       android:layout_height=&quot;match_parent&quot;\r\n       xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;&gt;\r\n\r\n       &lt;androidx.fragment.app.FragmentContainerView\r\n           android:id=&quot;@+id/fragment_container&quot; &lt;--- here is the id\r\n           android:layout_width=&quot;match_parent&quot;\r\n           android:layout_height=&quot;match_parent&quot; /&gt;\r\n\r\n    &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n\r\n\r\nand then you can find the visible fragment with:&lt;br&gt;\r\n\r\n    getSupportFragmentManager().findFragmentById(R.id.fragment_container);","title":"How to get the currently displaying fragment in Nav Controller","body":"<p><strong>Your 1st approach:</strong><br><br>\nIf you want to find fragment by tag you need to set the tag first. You do it while making transaction, for ex:<br><br></p>\n<pre><code>getSupportFragmentManager()\n.beginTransaction()\n.replace(R.id.container, SheetEditorScreen.class, args, &quot;testID&quot; //Here you set the tag\n)\n</code></pre>\n<p>and then you will be able to get fragment by tag as you did:<br></p>\n<pre><code>getSupportFragmentManager().findFragmentByTag(&quot;testID&quot;);\n</code></pre>\n<br>\n<p><strong>Your 2nd approach:</strong><br></p>\n<p>If you want to get fragment by id you need to pass container's view id which you declare in your activity's layout xml file (set in <code>setContentView(R.id.main_activity)</code>):<br></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.constraintlayout.widget.ConstraintLayout \n   xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n   android:layout_width=&quot;match_parent&quot;\n   android:layout_height=&quot;match_parent&quot;\n   xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;&gt;\n\n   &lt;androidx.fragment.app.FragmentContainerView\n       android:id=&quot;@+id/fragment_container&quot; &lt;--- here is the id\n       android:layout_width=&quot;match_parent&quot;\n       android:layout_height=&quot;match_parent&quot; /&gt;\n\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n<p>and then you can find the visible fragment with:<br></p>\n<pre><code>getSupportFragmentManager().findFragmentById(R.id.fragment_container);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22564906,"reputation":3594,"user_id":17133283,"display_name":"Sambhav Khandelwal"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1649566334,"creation_date":1649566334,"answer_id":71813848,"question_id":71806688,"body_markdown":"Now, because I get clearer about your problem, I am adding another solution. That worked with `FrameLayout` and fragment transaction. But, this will work with `NavController` also. Try this code:\r\n```java\r\npublic Fragment getCurrentlyVisibleFragment(){\r\n    Fragment navHostFragment = getSupportFragmentManager().findFragmentById(R.id.navHostFragment);\r\n    return navHostFragment == null ? null : navHostFragment.getChildFragmentManager().getFragments().get(0);\r\n}\r\n```","title":"How to get the currently displaying fragment in Nav Controller","body":"<p>Now, because I get clearer about your problem, I am adding another solution. That worked with <code>FrameLayout</code> and fragment transaction. But, this will work with <code>NavController</code> also. Try this code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public Fragment getCurrentlyVisibleFragment(){\n    Fragment navHostFragment = getSupportFragmentManager().findFragmentById(R.id.navHostFragment);\n    return navHostFragment == null ? null : navHostFragment.getChildFragmentManager().getFragments().get(0);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22564906,"reputation":3594,"user_id":17133283,"display_name":"Sambhav Khandelwal"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1649567487,"creation_date":1649567487,"answer_id":71813931,"question_id":71806688,"body_markdown":"I know there are already 2 answers on mine here but still have 1 more solution so I am writing it here. This is the code:\r\n```java\r\nNavController navController = Navigation.findNavController(this, R.id.fragment);\r\n        int id=navController.getCurrentDestination().getId();\r\n      if(id==R.id.startGameFragment ){ // change the fragment id\r\n          selectedPosition(0);\r\n\r\n      }else if(id==R.id.gameFragment ){ // change the fragment id\r\n          selectedPosition(1);\r\n\r\n      }else if(id==R.id.endGameFragment ){ // change the fragment id\r\n          selectedPosition(2);\r\n\r\n      }\r\n```","title":"How to get the currently displaying fragment in Nav Controller","body":"<p>I know there are already 2 answers on mine here but still have 1 more solution so I am writing it here. This is the code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>NavController navController = Navigation.findNavController(this, R.id.fragment);\n        int id=navController.getCurrentDestination().getId();\n      if(id==R.id.startGameFragment ){ // change the fragment id\n          selectedPosition(0);\n\n      }else if(id==R.id.gameFragment ){ // change the fragment id\n          selectedPosition(1);\n\n      }else if(id==R.id.endGameFragment ){ // change the fragment id\n          selectedPosition(2);\n\n      }\n</code></pre>\n"}],"owner":{"account_id":13060317,"reputation":580,"user_id":9437740,"display_name":"VanessaF"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3004,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":71813931,"answer_count":4,"score":4,"last_activity_date":1653124489,"creation_date":1649495559,"question_id":71806688,"body_markdown":"I use a singe activity and embed multiple fragments into it. Now I would like to know within the single activity class, which Fragment is currently being displayed. How can I do this? I had a look at the solution from here https://stackoverflow.com/questions/16652095/how-to-know-if-a-fragment-is-visible\r\n\r\n    MyFragmentClass test = (MyFragmentClass) getSupportFragmentManager().findFragmentByTag(&quot;testID&quot;);\r\n    if (test != null &amp;&amp; test.isVisible()) {\r\n         //DO STUFF\r\n    }\r\n    else {\r\n        //Whatever\r\n    }\r\n\r\nBut I don&#39;t know what to you for the parameter `&quot;testID&quot;`. Further, I tried to implement the solution from https://stackoverflow.com/questions/6750069/get-the-current-fragment-object/6751537#6751537\r\n\r\n    Fragment currentFragment = getActivity().getFragmentManager().findFragmentById(R.id.fragment_container);\r\n\r\nBut here I get the error message: &quot;Cannot resolve symbol &#39;fragment_container&#39;&quot;\r\n\r\nDoes anyone have an idea how to get the name of the current Fragment that is being displayed when using a single activity and multiple fragments approach?","title":"How to get the currently displaying fragment in Nav Controller","body":"<p>I use a singe activity and embed multiple fragments into it. Now I would like to know within the single activity class, which Fragment is currently being displayed. How can I do this? I had a look at the solution from here <a href=\"https://stackoverflow.com/questions/16652095/how-to-know-if-a-fragment-is-visible\">How to know if a Fragment is Visible?</a></p>\n<pre><code>MyFragmentClass test = (MyFragmentClass) getSupportFragmentManager().findFragmentByTag(&quot;testID&quot;);\nif (test != null &amp;&amp; test.isVisible()) {\n     //DO STUFF\n}\nelse {\n    //Whatever\n}\n</code></pre>\n<p>But I don't know what to you for the parameter <code>&quot;testID&quot;</code>. Further, I tried to implement the solution from <a href=\"https://stackoverflow.com/questions/6750069/get-the-current-fragment-object/6751537#6751537\">Get the current fragment object</a></p>\n<pre><code>Fragment currentFragment = getActivity().getFragmentManager().findFragmentById(R.id.fragment_container);\n</code></pre>\n<p>But here I get the error message: &quot;Cannot resolve symbol 'fragment_container'&quot;</p>\n<p>Does anyone have an idea how to get the name of the current Fragment that is being displayed when using a single activity and multiple fragments approach?</p>\n"},{"tags":["java","android","gradle","kotlin"],"comments":[{"owner":{"account_id":15543486,"reputation":59,"user_id":11213480,"display_name":"Rudresh Rajvansh"},"score":0,"creation_date":1585564784,"post_id":60928739,"comment_id":107794589,"body_markdown":"please answer fast","body":"please answer fast"},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1585577355,"post_id":60928739,"comment_id":107801491,"body_markdown":"&quot;please answer fast&quot; – [Under what circumstances may I add “urgent” or other similar phrases to my question, in order to obtain faster answers?](https://meta.stackoverflow.com/questions/326569/).","body":"&quot;please answer fast&quot; – <a href=\"https://meta.stackoverflow.com/questions/326569/\">Under what circumstances may I add “urgent” or other similar phrases to my question, in order to obtain faster answers?</a>."}],"answers":[{"tags":[],"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1585567494,"creation_date":1585567494,"answer_id":60929509,"question_id":60928739,"body_markdown":"No need to hurry - as long as you don&#39;t upgrade to Gradle 7.0 nothing bad will happen. And since Gradle 6.3 has been released quite recently the next release is at least 5 to 6 weeks away...\r\n\r\nIf your project is a simple project without subprojects, the `settings.gradle` file can be an empty file (though it needs to exist).\r\n\r\nYou must place it into the same directory as your `build.gradle` file.\r\n\r\nYou need more content in the `settings.gradle` file if you start creating multi-project builds. The documentation about multi-project builds is part of the gradle documentation (what a surpise!): https://guides.gradle.org/creating-multi-project-builds/\r\n\r\nDetailed information about the allowed settings are available at https://docs.gradle.org/current/dsl/org.gradle.api.initialization.Settings.html ","title":"Executing Gradle without a settings file has been deprecated : How to write a setting file and where to save","body":"<p>No need to hurry - as long as you don't upgrade to Gradle 7.0 nothing bad will happen. And since Gradle 6.3 has been released quite recently the next release is at least 5 to 6 weeks away...</p>\n\n<p>If your project is a simple project without subprojects, the <code>settings.gradle</code> file can be an empty file (though it needs to exist).</p>\n\n<p>You must place it into the same directory as your <code>build.gradle</code> file.</p>\n\n<p>You need more content in the <code>settings.gradle</code> file if you start creating multi-project builds. The documentation about multi-project builds is part of the gradle documentation (what a surpise!): <a href=\"https://guides.gradle.org/creating-multi-project-builds/\" rel=\"nofollow noreferrer\">https://guides.gradle.org/creating-multi-project-builds/</a></p>\n\n<p>Detailed information about the allowed settings are available at <a href=\"https://docs.gradle.org/current/dsl/org.gradle.api.initialization.Settings.html\" rel=\"nofollow noreferrer\">https://docs.gradle.org/current/dsl/org.gradle.api.initialization.Settings.html</a> </p>\n"}],"owner":{"account_id":15543486,"reputation":59,"user_id":11213480,"display_name":"Rudresh Rajvansh"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":18535,"favorite_count":0,"down_vote_count":2,"up_vote_count":4,"answer_count":1,"score":2,"last_activity_date":1653123722,"creation_date":1585564758,"question_id":60928739,"body_markdown":"hello friends i am new to android studio(ver :3.6.1) and gradle(ver:6.0.3) i have just somehow installed it (means my gradle was not installing or taking time so i manually installed files in chrome and placed it in folder and everything is okay but due to version upgrade i am facing this issue) and when i used to sync it , it shows me error that the **Deprecated Gradle features were used in this build, making it incompatible with\r\nGradle 7.0.Use &#39;--warning-mode all&#39; to show the individual deprecation warnings.\r\nSee https://docs.gradle.org/6.3/userguide/command_line_interface.html#sec:command_line_warnings** then i did same build with **--warning-mode all** and i got this message --**Executing Gradle tasks as part of an undefined build has been deprecated. This will fail with an error in Gradle 7.0. Consult the upgrading guide for further in\r\nformation: https://docs.gradle.org/6.3/userguide/upgrading_version_5.html#executing_gradle_without_a_settings_file_has_been_deprecated**\r\nafterthat i went to the given link and then i found this \r\n&lt;a href=&quot;https://i.stack.imgur.com/95TDE.png&quot;&gt;Have A look to Image&lt;/a&gt;\r\ni don&#39;t know how to write the setting.gradle or setting.gradle.kts file and where to save it i once tries to save it in my gradle home folder but it gave me another error that the method i used to do so is not known i have attached my gradle project build log  screenshots \r\n&lt;a href=&quot;https://i.stack.imgur.com/WJZe8.png&quot;&gt;have a look to image&lt;/a&gt;\r\nthank u i hope u will help me please give me suggestions and help me to do it &#128542;&#128542;\r\n\r\n  \r\n  ","title":"Executing Gradle without a settings file has been deprecated : How to write a setting file and where to save","body":"<p>hello friends i am new to android studio(ver :3.6.1) and gradle(ver:6.0.3) i have just somehow installed it (means my gradle was not installing or taking time so i manually installed files in chrome and placed it in folder and everything is okay but due to version upgrade i am facing this issue) and when i used to sync it , it shows me error that the <strong>Deprecated Gradle features were used in this build, making it incompatible with\nGradle 7.0.Use '--warning-mode all' to show the individual deprecation warnings.\nSee <a href=\"https://docs.gradle.org/6.3/userguide/command_line_interface.html#sec:command_line_warnings\" rel=\"nofollow noreferrer\">https://docs.gradle.org/6.3/userguide/command_line_interface.html#sec:command_line_warnings</a></strong> then i did same build with <strong>--warning-mode all</strong> and i got this message --<strong>Executing Gradle tasks as part of an undefined build has been deprecated. This will fail with an error in Gradle 7.0. Consult the upgrading guide for further in\nformation: <a href=\"https://docs.gradle.org/6.3/userguide/upgrading_version_5.html#executing_gradle_without_a_settings_file_has_been_deprecated\" rel=\"nofollow noreferrer\">https://docs.gradle.org/6.3/userguide/upgrading_version_5.html#executing_gradle_without_a_settings_file_has_been_deprecated</a></strong>\nafterthat i went to the given link and then i found this \n<a href=\"https://i.stack.imgur.com/95TDE.png\" rel=\"nofollow noreferrer\">Have A look to Image</a>\ni don't know how to write the setting.gradle or setting.gradle.kts file and where to save it i once tries to save it in my gradle home folder but it gave me another error that the method i used to do so is not known i have attached my gradle project build log  screenshots \n<a href=\"https://i.stack.imgur.com/WJZe8.png\" rel=\"nofollow noreferrer\">have a look to image</a>\nthank u i hope u will help me please give me suggestions and help me to do it 😞😞</p>\n"},{"tags":["java","validation","if-statement","comparison"],"answers":[{"tags":[],"owner":{"account_id":1385066,"reputation":386,"user_id":1317286,"accept_rate":58,"display_name":"csn"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1391202140,"creation_date":1391202140,"answer_id":21489975,"question_id":21489908,"body_markdown":"May be you can do something like this\r\n\r\n    System.out.println(Mode == 1 ? &quot;1&quot; : Mode == 2 ? &quot;2&quot; : &quot;3&quot;);\r\n\r\n\r\n[switch-case][1] also makes code more readable than multiple if-else \r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/tutorial/java/nutsandbolts/switch.html","title":"Short|quick int values comparison","body":"<p>May be you can do something like this</p>\n\n<pre><code>System.out.println(Mode == 1 ? \"1\" : Mode == 2 ? \"2\" : \"3\");\n</code></pre>\n\n<p><a href=\"http://docs.oracle.com/javase/tutorial/java/nutsandbolts/switch.html\" rel=\"nofollow\">switch-case</a> also makes code more readable than multiple if-else </p>\n"},{"tags":[],"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1391202267,"creation_date":1391202267,"answer_id":21490004,"question_id":21489908,"body_markdown":"Well, if you don&#39;t mind the boxing hit, you could use a set which you prepared earlier:\r\n\r\n    // Use a more appropriate name if necessary\r\n    private static final Set&lt;Integer&gt; VALID_MODES\r\n        = new HashSet&lt;&gt;(Arrays.asList(1, 2, 3));\r\n\r\n    ...\r\n\r\n    if (VALID_MODES.contains(mode)) {\r\n    }\r\n\r\nYou could use an `int[]` and a custom &quot;does this array contain this value&quot; method if you wanted... it would be O(N) or O(log N) for a binary search, but I suspect we&#39;re talking about small sets anyway.","title":"Short|quick int values comparison","body":"<p>Well, if you don't mind the boxing hit, you could use a set which you prepared earlier:</p>\n\n<pre><code>// Use a more appropriate name if necessary\nprivate static final Set&lt;Integer&gt; VALID_MODES\n    = new HashSet&lt;&gt;(Arrays.asList(1, 2, 3));\n\n...\n\nif (VALID_MODES.contains(mode)) {\n}\n</code></pre>\n\n<p>You could use an <code>int[]</code> and a custom \"does this array contain this value\" method if you wanted... it would be O(N) or O(log N) for a binary search, but I suspect we're talking about small sets anyway.</p>\n"},{"tags":[],"owner":{"account_id":2761390,"reputation":1159,"user_id":2378225,"accept_rate":62,"display_name":"Steve Oh"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1653123659,"creation_date":1391214929,"answer_id":21492604,"question_id":21489908,"body_markdown":"I strongly recommend to use a more typed approach:\r\n\r\n\r\n    public class QuickIntSample {\r\n\r\n\tenum Modes {\r\n\t\tONE(1),TWO(2),THREE(3); // you may choose more useful and readable names\r\n\t\t\r\n\t\tint code;\r\n\t\tprivate Modes(int code)  {\r\n\t\t\tthis.code = code;\r\n\t\t}\r\n\r\n\t\tpublic static Modes fromCode(final int intCode) {\r\n\t\t\tfor (final Modes mode : values()) {\r\n\t\t\t\tif (mode.code == intCode) {\r\n\t\t\t\t\treturn mode;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn null;\r\n\t\t}\r\n\t} // -- END of enum\r\n\r\n\r\n\tpublic static void main(String[] args) {\r\n\r\n\t\tint mode = 2;\r\n\r\n\t\tif( Modes.fromCode(mode) == Modes.TWO ) {\r\n\t\t\tSystem.out.println(&quot;got code 2&quot;);\r\n\t\t}\r\n\r\n\t}\r\n\r\n    }\r\n","title":"Short|quick int values comparison","body":"<p>I strongly recommend to use a more typed approach:</p>\n<pre><code>public class QuickIntSample {\n\nenum Modes {\n    ONE(1),TWO(2),THREE(3); // you may choose more useful and readable names\n    \n    int code;\n    private Modes(int code)  {\n        this.code = code;\n    }\n\n    public static Modes fromCode(final int intCode) {\n        for (final Modes mode : values()) {\n            if (mode.code == intCode) {\n                return mode;\n            }\n        }\n        return null;\n    }\n} // -- END of enum\n\n\npublic static void main(String[] args) {\n\n    int mode = 2;\n\n    if( Modes.fromCode(mode) == Modes.TWO ) {\n        System.out.println(&quot;got code 2&quot;);\n    }\n\n}\n\n}\n</code></pre>\n"}],"owner":{"account_id":2998908,"reputation":1423,"user_id":2544787,"accept_rate":85,"display_name":"Murillo Ferreira"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":75,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":21490004,"answer_count":3,"score":1,"last_activity_date":1653123659,"creation_date":1391201901,"question_id":21489908,"body_markdown":"I learned about terminary expression, but what I want is a little different.\r\n\r\nI have the following:\r\n\r\n    int MODE = getMyIntValue();\r\n\r\nI do comparison as the following:\r\n\r\n    if(MODE == 1 || MODE == 2 || MODE == 3) //do something\r\n\r\nI would like to know if there is a short way of doing this, I tried something like this but it didn&#39;t work:\r\n\r\n    if(MODE == 1 || 2 || 3) //do something\r\n\r\nThere is a short|quick way of doing it? I like quick &quot;ifs&quot; because it makes the code more clear, for example, it is more clear this:\r\n\r\n    System.out.println(MODE == 1 ? text1 : text2):\r\n\r\nThan this:\r\n\r\n    if(MODE == 1) System.out.println(text1):\r\n\r\n    else System.out.println(text1):\r\n\r\nThanks in advance!\r\n\r\n","title":"Short|quick int values comparison","body":"<p>I learned about terminary expression, but what I want is a little different.</p>\n\n<p>I have the following:</p>\n\n<pre><code>int MODE = getMyIntValue();\n</code></pre>\n\n<p>I do comparison as the following:</p>\n\n<pre><code>if(MODE == 1 || MODE == 2 || MODE == 3) //do something\n</code></pre>\n\n<p>I would like to know if there is a short way of doing this, I tried something like this but it didn't work:</p>\n\n<pre><code>if(MODE == 1 || 2 || 3) //do something\n</code></pre>\n\n<p>There is a short|quick way of doing it? I like quick \"ifs\" because it makes the code more clear, for example, it is more clear this:</p>\n\n<pre><code>System.out.println(MODE == 1 ? text1 : text2):\n</code></pre>\n\n<p>Than this:</p>\n\n<pre><code>if(MODE == 1) System.out.println(text1):\n\nelse System.out.println(text1):\n</code></pre>\n\n<p>Thanks in advance!</p>\n"},{"tags":["java","properties-file"],"comments":[{"owner":{"account_id":1190755,"reputation":48912,"user_id":1163607,"accept_rate":97,"display_name":"AllTooSir"},"score":8,"creation_date":1370791561,"post_id":17011108,"comment_id":24581884,"body_markdown":"Can this [answer](http://stackoverflow.com/a/54454/1163607) help ?","body":"Can this <a href=\"http://stackoverflow.com/a/54454/1163607\">answer</a> help ?"},{"owner":{"account_id":220789,"reputation":114430,"user_id":478399,"accept_rate":83,"display_name":"AlexR"},"score":1,"creation_date":1370791870,"post_id":17011108,"comment_id":24581954,"body_markdown":"Just override `public synchronized Enumeration&lt;K&gt; keys()` instead of `keySet()`.","body":"Just override <code>public synchronized Enumeration&lt;K&gt; keys()</code> instead of <code>keySet()</code>."},{"owner":{"account_id":1101161,"reputation":119804,"user_id":1093528,"accept_rate":65,"display_name":"fge"},"score":1,"creation_date":1370792371,"post_id":17011108,"comment_id":24582088,"body_markdown":"That will not cover the case of _insertion order_, though.","body":"That will not cover the case of <i>insertion order</i>, though."},{"owner":{"account_id":2146,"reputation":51871,"user_id":2959,"accept_rate":67,"display_name":"Steve McLeod"},"score":0,"creation_date":1370868120,"post_id":17011108,"comment_id":24604709,"body_markdown":"fge you are correct. But as the OP, I&#39;m somewhat satisfied for alphabetical order.","body":"fge you are correct. But as the OP, I&#39;m somewhat satisfied for alphabetical order."}],"answers":[{"tags":[],"owner":{"account_id":2146,"reputation":51871,"user_id":2959,"accept_rate":67,"display_name":"Steve McLeod"},"down_vote_count":0,"up_vote_count":65,"is_accepted":true,"score":65,"last_activity_date":1370792763,"creation_date":1370792763,"answer_id":17011319,"question_id":17011108,"body_markdown":"As per &quot;The New Idiot&#39;s&quot; suggestion, this stores in alphabetical key order.\r\n\r\n    Properties tmp = new Properties() {\r\n        @Override\r\n        public synchronized Enumeration&lt;Object&gt; keys() {\r\n            return Collections.enumeration(new TreeSet&lt;Object&gt;(super.keySet()));\r\n        }\r\n    };\r\n    tmp.putAll(properties);\r\n    tmp.store(new FileWriter(file), null);","title":"How can I write Java properties in a defined order?","body":"<p>As per \"The New Idiot's\" suggestion, this stores in alphabetical key order.</p>\n\n<pre><code>Properties tmp = new Properties() {\n    @Override\n    public synchronized Enumeration&lt;Object&gt; keys() {\n        return Collections.enumeration(new TreeSet&lt;Object&gt;(super.keySet()));\n    }\n};\ntmp.putAll(properties);\ntmp.store(new FileWriter(file), null);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4911732,"reputation":301,"user_id":3956859,"display_name":"Etienne Studer"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1418401921,"creation_date":1418401921,"answer_id":27447986,"question_id":17011108,"body_markdown":"See https://github.com/etiennestuder/java-ordered-properties for a complete implementation that allows to read/write properties files in a well-defined order.\r\n\r\n    OrderedProperties properties = new OrderedProperties();\r\n    properties.load(new FileInputStream(new File(&quot;~/some.properties&quot;)));","title":"How can I write Java properties in a defined order?","body":"<p>See <a href=\"https://github.com/etiennestuder/java-ordered-properties\" rel=\"noreferrer\">https://github.com/etiennestuder/java-ordered-properties</a> for a complete implementation that allows to read/write properties files in a well-defined order.</p>\n\n<pre><code>OrderedProperties properties = new OrderedProperties();\nproperties.load(new FileInputStream(new File(\"~/some.properties\")));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4201971,"reputation":1261,"user_id":3441898,"accept_rate":100,"display_name":"kevcodez"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1484645902,"creation_date":1484645902,"answer_id":41693604,"question_id":17011108,"body_markdown":"The solution from Steve McLeod did not not work when trying to sort case insensitive.\r\n\r\nThis is what I came up with\r\n\r\n    Properties newProperties = new Properties() {\r\n        \r\n        private static final long serialVersionUID = 4112578634029874840L;\r\n        \r\n        @Override\r\n        public synchronized Enumeration&lt;Object&gt; keys() {\r\n            Comparator&lt;Object&gt; byCaseInsensitiveString = Comparator.comparing(Object::toString,\r\n                            String.CASE_INSENSITIVE_ORDER);\r\n            \r\n            Supplier&lt;TreeSet&lt;Object&gt;&gt; supplier = () -&gt; new TreeSet&lt;&gt;(byCaseInsensitiveString);\r\n        \r\n            TreeSet&lt;Object&gt; sortedSet = super.keySet().stream()\r\n                            .collect(Collectors.toCollection(supplier));\r\n            \r\n            return Collections.enumeration(sortedSet);\r\n        }\r\n     };\r\n        \r\n        // propertyMap is a simple LinkedHashMap&lt;String,String&gt;\r\n        newProperties.putAll(propertyMap);\r\n        File file = new File(filepath);\r\n        try (FileOutputStream fileOutputStream = new FileOutputStream(file, false)) {\r\n            newProperties.store(fileOutputStream, null);\r\n        }","title":"How can I write Java properties in a defined order?","body":"<p>The solution from Steve McLeod did not not work when trying to sort case insensitive.</p>\n\n<p>This is what I came up with</p>\n\n<pre><code>Properties newProperties = new Properties() {\n\n    private static final long serialVersionUID = 4112578634029874840L;\n\n    @Override\n    public synchronized Enumeration&lt;Object&gt; keys() {\n        Comparator&lt;Object&gt; byCaseInsensitiveString = Comparator.comparing(Object::toString,\n                        String.CASE_INSENSITIVE_ORDER);\n\n        Supplier&lt;TreeSet&lt;Object&gt;&gt; supplier = () -&gt; new TreeSet&lt;&gt;(byCaseInsensitiveString);\n\n        TreeSet&lt;Object&gt; sortedSet = super.keySet().stream()\n                        .collect(Collectors.toCollection(supplier));\n\n        return Collections.enumeration(sortedSet);\n    }\n };\n\n    // propertyMap is a simple LinkedHashMap&lt;String,String&gt;\n    newProperties.putAll(propertyMap);\n    File file = new File(filepath);\n    try (FileOutputStream fileOutputStream = new FileOutputStream(file, false)) {\n        newProperties.store(fileOutputStream, null);\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14613911,"reputation":31,"user_id":10554607,"display_name":"Dorian Gray"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1540420002,"creation_date":1540417033,"answer_id":52978237,"question_id":17011108,"body_markdown":"To use a `TreeSet` is dangerous!\r\nBecause in the `CASE_INSENSITIVE_ORDER` the strings &quot;mykey&quot;, &quot;MyKey&quot; and &quot;MYKEY&quot; will result in the same index! (so 2 keys will be omitted).\r\n\r\nI use `List` instead, to be sure to keep all keys.\r\n\r\n     List&lt;Object&gt; list = new ArrayList&lt;&gt;( super.keySet());\r\n     Comparator&lt;Object&gt; comparator = Comparator.comparing( Object::toString, String.CASE_INSENSITIVE_ORDER );\r\n     Collections.sort( list, comparator );\r\n     return Collections.enumeration( list );\r\n\r\n","title":"How can I write Java properties in a defined order?","body":"<p>To use a <code>TreeSet</code> is dangerous!\nBecause in the <code>CASE_INSENSITIVE_ORDER</code> the strings \"mykey\", \"MyKey\" and \"MYKEY\" will result in the same index! (so 2 keys will be omitted).</p>\n\n<p>I use <code>List</code> instead, to be sure to keep all keys.</p>\n\n<pre><code> List&lt;Object&gt; list = new ArrayList&lt;&gt;( super.keySet());\n Comparator&lt;Object&gt; comparator = Comparator.comparing( Object::toString, String.CASE_INSENSITIVE_ORDER );\n Collections.sort( list, comparator );\n return Collections.enumeration( list );\n</code></pre>\n"},{"tags":[],"owner":{"account_id":551250,"reputation":1374,"user_id":916046,"accept_rate":71,"display_name":"CompEng88"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1548365412,"creation_date":1548365412,"answer_id":54355584,"question_id":17011108,"body_markdown":"Steve McLeod&#39;s answer used to work for me, but since Java 11, it doesn&#39;t.\r\n\r\nThe problem seemed to be EntrySet ordering, so, here you go:\r\n\r\n    @SuppressWarnings(&quot;serial&quot;)\r\n    private static Properties newOrderedProperties() \r\n    {\r\n    \treturn new Properties() {\r\n    \t    @Override public synchronized Set&lt;Map.Entry&lt;Object, Object&gt;&gt; entrySet() {\r\n    \t\t\treturn Collections.synchronizedSet(\r\n    \t\t\t\t\tsuper.entrySet()\r\n    \t\t\t\t\t.stream()\r\n    \t\t\t\t\t.sorted(Comparator.comparing(e -&gt; e.getKey().toString()))\r\n    \t\t\t\t\t.collect(Collectors.toCollection(LinkedHashSet::new)));\r\n    \t\t}\r\n    \t};\r\n    }\r\n\r\n\r\nI will warn that this is not fast by any means. It forces iteration over a LinkedHashSet which isn&#39;t ideal, but I&#39;m open to suggestions.","title":"How can I write Java properties in a defined order?","body":"<p>Steve McLeod's answer used to work for me, but since Java 11, it doesn't.</p>\n\n<p>The problem seemed to be EntrySet ordering, so, here you go:</p>\n\n<pre><code>@SuppressWarnings(\"serial\")\nprivate static Properties newOrderedProperties() \n{\n    return new Properties() {\n        @Override public synchronized Set&lt;Map.Entry&lt;Object, Object&gt;&gt; entrySet() {\n            return Collections.synchronizedSet(\n                    super.entrySet()\n                    .stream()\n                    .sorted(Comparator.comparing(e -&gt; e.getKey().toString()))\n                    .collect(Collectors.toCollection(LinkedHashSet::new)));\n        }\n    };\n}\n</code></pre>\n\n<p>I will warn that this is not fast by any means. It forces iteration over a LinkedHashSet which isn't ideal, but I'm open to suggestions.</p>\n"},{"tags":[],"owner":{"account_id":6731003,"reputation":89,"user_id":5187346,"display_name":"Babak Farhang"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1629577595,"creation_date":1629577595,"answer_id":68876510,"question_id":17011108,"body_markdown":"I&#39;m having the same itch, so I implemented a simple kludge subclass that allows you to explicitly pre-define the order name/values appear in one block and lexically order them in another block.\r\n\r\nhttps://github.com/crums-io/io-util/blob/master/src/main/java/io/crums/util/TidyProperties.java\r\n\r\nIn any event, you need to override `public Set&lt;Map.Entry&lt;Object, Object&gt;&gt; entrySet()`, not `public Enumeration&lt;Object&gt; keys()`; the latter, as https://stackoverflow.com/users/704335/timmos points out, never hits on the `store(..)` method.\r\n","title":"How can I write Java properties in a defined order?","body":"<p>I'm having the same itch, so I implemented a simple kludge subclass that allows you to explicitly pre-define the order name/values appear in one block and lexically order them in another block.</p>\n<p><a href=\"https://github.com/crums-io/io-util/blob/master/src/main/java/io/crums/util/TidyProperties.java\" rel=\"nofollow noreferrer\">https://github.com/crums-io/io-util/blob/master/src/main/java/io/crums/util/TidyProperties.java</a></p>\n<p>In any event, you need to override <code>public Set&lt;Map.Entry&lt;Object, Object&gt;&gt; entrySet()</code>, not <code>public Enumeration&lt;Object&gt; keys()</code>; the latter, as <a href=\"https://stackoverflow.com/users/704335/timmos\">https://stackoverflow.com/users/704335/timmos</a> points out, never hits on the <code>store(..)</code> method.</p>\n"},{"tags":[],"owner":{"account_id":457719,"reputation":321,"user_id":857194,"display_name":"sken130"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1630804407,"creation_date":1630491289,"answer_id":69011847,"question_id":17011108,"body_markdown":"If your properties file is small, and you want a future-proof solution, then I suggest you to store the Properties object on a file and load the file back to a String (or store it to ByteArrayOutputStream and convert it to a String), split the string into lines, sort the lines, and write the lines to the destination file you want.\r\n\r\nIt&#39;s because the internal implementation of Properties class is always changing, and to achieve the sorting in store(), you need to override different methods of Properties class in different versions of Java (see https://stackoverflow.com/questions/10275862/how-to-sort-properties-in-java). If your properties file is not large, then I prefer a future-proof solution over the best performance one.\r\n\r\nFor the correct way to split the string into lines, some reliable solutions are:\r\n- Files.lines()/Files.readAllLines(), if you use a File\r\n- BufferedReader.readLine() (Java 7 or earlier)\r\n- IOUtils.readLines(bufferedReader) (org.apache.commons.io.IOUtils, Java 7 or earlier)\r\n- BufferedReader.lines() (Java 8+) as mentioned in https://stackoverflow.com/questions/454908/split-java-string-by-new-line/49160134#49160134\r\n- String.lines() (Java 11+) as mentioned in https://stackoverflow.com/questions/454908/split-java-string-by-new-line/51079545#51079545.\r\n\r\nAnd you don&#39;t need to be worried about values with multiple lines, because Properties.store() will escape the whole multi-line String into one line in the output file.\r\n\r\nSample codes for Java 8:\r\n\r\n&lt;!-- language: Java --&gt;\r\n```\r\npublic static void test() {\r\n    ......\r\n    String comments = &quot;Your multiline comments, this should be line 1.&quot; +\r\n            &quot;\\n&quot; +\r\n            &quot;The sorting should not mess up the comment lines&#39; ordering, this should be line 2 even if T is smaller than Y&quot;;\r\n\r\n    saveSortedPropertiesToFile(inputProperties, comments, Paths.get(&quot;C:\\\\dev\\\\sorted.properties&quot;));\r\n}\r\n\r\npublic static void saveSortedPropertiesToFile(Properties properties, String comments, Path destination) {\r\n    try (ByteArrayOutputStream outputStream = new ByteArrayOutputStream()) {\r\n        // Storing it to output stream is the only way to make sure correct encoding is used.\r\n        properties.store(outputStream, comments);\r\n\r\n        /* The encoding here shouldn&#39;t matter, since you are not going to modify the contents,\r\n           and you are only going to split them to lines and reorder them.\r\n           And Properties.store(OutputStream, String) should have translated unicode characters into (backslash)uXXXX anyway.\r\n         */\r\n        String propertiesContentUnsorted = outputStream.toString(&quot;UTF-8&quot;);\r\n\r\n        String propertiesContentSorted;\r\n        try (BufferedReader bufferedReader = new BufferedReader(new StringReader(propertiesContentUnsorted))) {\r\n            List&lt;String&gt; commentLines = new ArrayList&lt;&gt;();\r\n            List&lt;String&gt; contentLines = new ArrayList&lt;&gt;();\r\n\r\n            boolean commentSectionEnded = false;\r\n            for (Iterator&lt;String&gt; it = bufferedReader.lines().iterator(); it.hasNext(); ) {\r\n                String line = it.next();\r\n                if (!commentSectionEnded) {\r\n                    if (line.startsWith(&quot;#&quot;)) {\r\n                        commentLines.add(line);\r\n                    } else {\r\n                        contentLines.add(line);\r\n                        commentSectionEnded = true;\r\n                    }\r\n                } else {\r\n                    contentLines.add(line);\r\n                }\r\n            }\r\n            // Sort on content lines only\r\n            propertiesContentSorted = Stream.concat(commentLines.stream(), contentLines.stream().sorted())\r\n                    .collect(Collectors.joining(System.lineSeparator()));\r\n        }\r\n\r\n        // Just make sure you use the same encoding as above.\r\n        Files.write(destination, propertiesContentSorted.getBytes(StandardCharsets.UTF_8));\r\n\r\n    } catch (IOException e) {\r\n        // Log it if necessary\r\n    }\r\n}\r\n```\r\n\r\nSample codes for Java 7:\r\n\r\n&lt;!-- language: Java --&gt;\r\n```\r\nimport org.apache.commons.collections4.IterableUtils;\r\nimport org.apache.commons.io.IOUtils;\r\nimport org.apache.commons.lang.StringUtils;\r\n\r\n......\r\n\r\npublic static void test() {\r\n    ......\r\n    String comments = &quot;Your multiline comments, this should be line 1.&quot; +\r\n            &quot;\\n&quot; +\r\n            &quot;The sorting should not mess up the comment lines&#39; ordering, this should be line 2 even if T is smaller than Y&quot;;\r\n\r\n    saveSortedPropertiesToFile(inputProperties, comments, Paths.get(&quot;C:\\\\dev\\\\sorted.properties&quot;));\r\n}\r\n\r\npublic static void saveSortedPropertiesToFile(Properties properties, String comments, Path destination) {\r\n    try (ByteArrayOutputStream outputStream = new ByteArrayOutputStream()) {\r\n        // Storing it to output stream is the only way to make sure correct encoding is used.\r\n        properties.store(outputStream, comments);\r\n\r\n        /* The encoding here shouldn&#39;t matter, since you are not going to modify the contents,\r\n           and you are only going to split them to lines and reorder them.\r\n           And Properties.store(OutputStream, String) should have translated unicode characters into (backslash)uXXXX anyway.\r\n         */\r\n        String propertiesContentUnsorted = outputStream.toString(&quot;UTF-8&quot;);\r\n\r\n        String propertiesContentSorted;\r\n        try (BufferedReader bufferedReader = new BufferedReader(new StringReader(propertiesContentUnsorted))) {\r\n            List&lt;String&gt; commentLines = new ArrayList&lt;&gt;();\r\n            List&lt;String&gt; contentLines = new ArrayList&lt;&gt;();\r\n\r\n            boolean commentSectionEnded = false;\r\n\r\n            for (Iterator&lt;String&gt; it = IOUtils.readLines(bufferedReader).iterator(); it.hasNext(); ) {\r\n                String line = it.next();\r\n                if (!commentSectionEnded) {\r\n                    if (line.startsWith(&quot;#&quot;)) {\r\n                        commentLines.add(line);\r\n                    } else {\r\n                        contentLines.add(line);\r\n                        commentSectionEnded = true;\r\n                    }\r\n                } else {\r\n                    contentLines.add(line);\r\n                }\r\n            }\r\n            // Sort on content lines only\r\n            Collections.sort(contentLines);\r\n\r\n            propertiesContentSorted = StringUtils.join(IterableUtils.chainedIterable(commentLines, contentLines).iterator(), System.lineSeparator());\r\n        }\r\n\r\n        // Just make sure you use the same encoding as above.\r\n        Files.write(destination, propertiesContentSorted.getBytes(StandardCharsets.UTF_8));\r\n\r\n    } catch (IOException e) {\r\n        // Log it if necessary\r\n    }\r\n}\r\n```","title":"How can I write Java properties in a defined order?","body":"<p>If your properties file is small, and you want a future-proof solution, then I suggest you to store the Properties object on a file and load the file back to a String (or store it to ByteArrayOutputStream and convert it to a String), split the string into lines, sort the lines, and write the lines to the destination file you want.</p>\n<p>It's because the internal implementation of Properties class is always changing, and to achieve the sorting in store(), you need to override different methods of Properties class in different versions of Java (see <a href=\"https://stackoverflow.com/questions/10275862/how-to-sort-properties-in-java\">How to sort Properties in java?</a>). If your properties file is not large, then I prefer a future-proof solution over the best performance one.</p>\n<p>For the correct way to split the string into lines, some reliable solutions are:</p>\n<ul>\n<li>Files.lines()/Files.readAllLines(), if you use a File</li>\n<li>BufferedReader.readLine() (Java 7 or earlier)</li>\n<li>IOUtils.readLines(bufferedReader) (org.apache.commons.io.IOUtils, Java 7 or earlier)</li>\n<li>BufferedReader.lines() (Java 8+) as mentioned in <a href=\"https://stackoverflow.com/questions/454908/split-java-string-by-new-line/49160134#49160134\">Split Java String by New Line</a></li>\n<li>String.lines() (Java 11+) as mentioned in <a href=\"https://stackoverflow.com/questions/454908/split-java-string-by-new-line/51079545#51079545\">Split Java String by New Line</a>.</li>\n</ul>\n<p>And you don't need to be worried about values with multiple lines, because Properties.store() will escape the whole multi-line String into one line in the output file.</p>\n<p>Sample codes for Java 8:</p>\n<pre><code>public static void test() {\n    ......\n    String comments = &quot;Your multiline comments, this should be line 1.&quot; +\n            &quot;\\n&quot; +\n            &quot;The sorting should not mess up the comment lines' ordering, this should be line 2 even if T is smaller than Y&quot;;\n\n    saveSortedPropertiesToFile(inputProperties, comments, Paths.get(&quot;C:\\\\dev\\\\sorted.properties&quot;));\n}\n\npublic static void saveSortedPropertiesToFile(Properties properties, String comments, Path destination) {\n    try (ByteArrayOutputStream outputStream = new ByteArrayOutputStream()) {\n        // Storing it to output stream is the only way to make sure correct encoding is used.\n        properties.store(outputStream, comments);\n\n        /* The encoding here shouldn't matter, since you are not going to modify the contents,\n           and you are only going to split them to lines and reorder them.\n           And Properties.store(OutputStream, String) should have translated unicode characters into (backslash)uXXXX anyway.\n         */\n        String propertiesContentUnsorted = outputStream.toString(&quot;UTF-8&quot;);\n\n        String propertiesContentSorted;\n        try (BufferedReader bufferedReader = new BufferedReader(new StringReader(propertiesContentUnsorted))) {\n            List&lt;String&gt; commentLines = new ArrayList&lt;&gt;();\n            List&lt;String&gt; contentLines = new ArrayList&lt;&gt;();\n\n            boolean commentSectionEnded = false;\n            for (Iterator&lt;String&gt; it = bufferedReader.lines().iterator(); it.hasNext(); ) {\n                String line = it.next();\n                if (!commentSectionEnded) {\n                    if (line.startsWith(&quot;#&quot;)) {\n                        commentLines.add(line);\n                    } else {\n                        contentLines.add(line);\n                        commentSectionEnded = true;\n                    }\n                } else {\n                    contentLines.add(line);\n                }\n            }\n            // Sort on content lines only\n            propertiesContentSorted = Stream.concat(commentLines.stream(), contentLines.stream().sorted())\n                    .collect(Collectors.joining(System.lineSeparator()));\n        }\n\n        // Just make sure you use the same encoding as above.\n        Files.write(destination, propertiesContentSorted.getBytes(StandardCharsets.UTF_8));\n\n    } catch (IOException e) {\n        // Log it if necessary\n    }\n}\n</code></pre>\n<p>Sample codes for Java 7:</p>\n<pre><code>import org.apache.commons.collections4.IterableUtils;\nimport org.apache.commons.io.IOUtils;\nimport org.apache.commons.lang.StringUtils;\n\n......\n\npublic static void test() {\n    ......\n    String comments = &quot;Your multiline comments, this should be line 1.&quot; +\n            &quot;\\n&quot; +\n            &quot;The sorting should not mess up the comment lines' ordering, this should be line 2 even if T is smaller than Y&quot;;\n\n    saveSortedPropertiesToFile(inputProperties, comments, Paths.get(&quot;C:\\\\dev\\\\sorted.properties&quot;));\n}\n\npublic static void saveSortedPropertiesToFile(Properties properties, String comments, Path destination) {\n    try (ByteArrayOutputStream outputStream = new ByteArrayOutputStream()) {\n        // Storing it to output stream is the only way to make sure correct encoding is used.\n        properties.store(outputStream, comments);\n\n        /* The encoding here shouldn't matter, since you are not going to modify the contents,\n           and you are only going to split them to lines and reorder them.\n           And Properties.store(OutputStream, String) should have translated unicode characters into (backslash)uXXXX anyway.\n         */\n        String propertiesContentUnsorted = outputStream.toString(&quot;UTF-8&quot;);\n\n        String propertiesContentSorted;\n        try (BufferedReader bufferedReader = new BufferedReader(new StringReader(propertiesContentUnsorted))) {\n            List&lt;String&gt; commentLines = new ArrayList&lt;&gt;();\n            List&lt;String&gt; contentLines = new ArrayList&lt;&gt;();\n\n            boolean commentSectionEnded = false;\n\n            for (Iterator&lt;String&gt; it = IOUtils.readLines(bufferedReader).iterator(); it.hasNext(); ) {\n                String line = it.next();\n                if (!commentSectionEnded) {\n                    if (line.startsWith(&quot;#&quot;)) {\n                        commentLines.add(line);\n                    } else {\n                        contentLines.add(line);\n                        commentSectionEnded = true;\n                    }\n                } else {\n                    contentLines.add(line);\n                }\n            }\n            // Sort on content lines only\n            Collections.sort(contentLines);\n\n            propertiesContentSorted = StringUtils.join(IterableUtils.chainedIterable(commentLines, contentLines).iterator(), System.lineSeparator());\n        }\n\n        // Just make sure you use the same encoding as above.\n        Files.write(destination, propertiesContentSorted.getBytes(StandardCharsets.UTF_8));\n\n    } catch (IOException e) {\n        // Log it if necessary\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2164426,"reputation":61,"user_id":1917821,"display_name":"Logan Waggoner"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1630611551,"creation_date":1630611551,"answer_id":69036149,"question_id":17011108,"body_markdown":"In case someone has to do this in kotlin:\r\n\r\n    class OrderedProperties: Properties() {\r\n    \r\n        override val entries: MutableSet&lt;MutableMap.MutableEntry&lt;Any, Any&gt;&gt;\r\n            get(){\r\n                return Collections.synchronizedSet(\r\n                    super.entries\r\n                        .stream()\r\n                        .sorted(Comparator.comparing { e -&gt; e.key.toString() })\r\n                        .collect(\r\n                            Collectors.toCollection(\r\n                                Supplier { LinkedHashSet() })\r\n                        )\r\n                )\r\n            }\r\n    \r\n    }\r\n\r\n","title":"How can I write Java properties in a defined order?","body":"<p>In case someone has to do this in kotlin:</p>\n<pre><code>class OrderedProperties: Properties() {\n\n    override val entries: MutableSet&lt;MutableMap.MutableEntry&lt;Any, Any&gt;&gt;\n        get(){\n            return Collections.synchronizedSet(\n                super.entries\n                    .stream()\n                    .sorted(Comparator.comparing { e -&gt; e.key.toString() })\n                    .collect(\n                        Collectors.toCollection(\n                            Supplier { LinkedHashSet() })\n                    )\n            )\n        }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3531343,"reputation":549,"user_id":2950805,"display_name":"Laurent Duverg&#233;"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653123601,"creation_date":1653123601,"answer_id":72328099,"question_id":17011108,"body_markdown":"True that keys() is not triggered so instead of passing trough a list as Timmos suggested you can do it like this: \r\n\r\n    Properties alphaproperties = new Properties() {\r\n            @Override\r\n            public Set&lt;Map.Entry&lt;Object, Object&gt;&gt; entrySet() {\r\n                Set&lt;Map.Entry&lt;Object, Object&gt;&gt; setnontrie = super.entrySet();\r\n                Set&lt;Map.Entry&lt;Object, Object&gt;&gt; unSetTrie = new ConcurrentSkipListSet&lt;Map.Entry&lt;Object, Object&gt;&gt;(new Comparator&lt;Map.Entry&lt;Object, Object&gt;&gt;() {\r\n                    @Override\r\n                    public int compare(Map.Entry&lt;Object, Object&gt; o1, Map.Entry&lt;Object, Object&gt; o2) {\r\n                        return o1.getKey().toString().compareTo(o2.getKey().toString());\r\n                    }\r\n                });\r\n                unSetTrie.addAll(setnontrie);\r\n                return unSetTrie;\r\n                }\r\n        };\r\n        alphaproperties.putAll(properties);\r\n        alphaproperties.store(fw, &quot;UpdatedBy Me&quot;);\r\n        fw.close();","title":"How can I write Java properties in a defined order?","body":"<p>True that keys() is not triggered so instead of passing trough a list as Timmos suggested you can do it like this:</p>\n<pre><code>Properties alphaproperties = new Properties() {\n        @Override\n        public Set&lt;Map.Entry&lt;Object, Object&gt;&gt; entrySet() {\n            Set&lt;Map.Entry&lt;Object, Object&gt;&gt; setnontrie = super.entrySet();\n            Set&lt;Map.Entry&lt;Object, Object&gt;&gt; unSetTrie = new ConcurrentSkipListSet&lt;Map.Entry&lt;Object, Object&gt;&gt;(new Comparator&lt;Map.Entry&lt;Object, Object&gt;&gt;() {\n                @Override\n                public int compare(Map.Entry&lt;Object, Object&gt; o1, Map.Entry&lt;Object, Object&gt; o2) {\n                    return o1.getKey().toString().compareTo(o2.getKey().toString());\n                }\n            });\n            unSetTrie.addAll(setnontrie);\n            return unSetTrie;\n            }\n    };\n    alphaproperties.putAll(properties);\n    alphaproperties.store(fw, &quot;UpdatedBy Me&quot;);\n    fw.close();\n</code></pre>\n"}],"owner":{"account_id":2146,"reputation":51871,"user_id":2959,"accept_rate":67,"display_name":"Steve McLeod"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":35239,"favorite_count":0,"down_vote_count":0,"up_vote_count":32,"accepted_answer_id":17011319,"answer_count":9,"score":32,"last_activity_date":1653123601,"creation_date":1370791388,"question_id":17011108,"body_markdown":"I&#39;m using java.util.Properties&#39;s store(Writer, String) method to store the properties. In the resulting text file, the properties are stored in a haphazard order. \r\n\r\nThis is what I&#39;m doing:\r\n\r\n    Properties properties = createProperties();\r\n    properties.store(new FileWriter(file), null);\r\n\r\nHow can I ensure the properties are written out in alphabetical order, or in the order the properties were added?\r\n\r\nI&#39;m hoping for a solution simpler than &quot;manually create the properties file&quot;.","title":"How can I write Java properties in a defined order?","body":"<p>I'm using java.util.Properties's store(Writer, String) method to store the properties. In the resulting text file, the properties are stored in a haphazard order. </p>\n\n<p>This is what I'm doing:</p>\n\n<pre><code>Properties properties = createProperties();\nproperties.store(new FileWriter(file), null);\n</code></pre>\n\n<p>How can I ensure the properties are written out in alphabetical order, or in the order the properties were added?</p>\n\n<p>I'm hoping for a solution simpler than \"manually create the properties file\".</p>\n"},{"tags":["java","swing","jframe"],"answers":[{"tags":[],"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1653123578,"creation_date":1653086668,"answer_id":72325383,"question_id":72325059,"body_markdown":"I would recommend you start by taking a look at [Painting in AWT and Swing](https://www.oracle.com/java/technologies/painting.html) and [Performing Custom Painting](https://docs.oracle.com/javase/tutorial/uiswing/painting/index.html).\r\n\r\nSwing components, when used correctly, are double buffered by default.\r\n\r\nPainting is very complex, there&#39;s a lot of work that goes into a paint pass.  When you override a &quot;paint&quot; method, you either need to honour the existing workflow (ie, call the `super.paintXxx` method) or be prepared to take over the full responsibility of the method. Your code has circumvented whole sections of the paint workflow, this is never a good idea.\r\n\r\nIt&#39;s not generally recommend that you extend from top level containers like `JFrame`, you&#39;re not adding any new functionality and they are generally complex components to start with.  `JFrame` for example, is actually a composite component, that is, it has a number of child components added to it that form it&#39;s core functionality\r\n\r\n[![enter image description here][1]][1]\r\n\r\nBy overriding `paint` (of `JFrame`), you start competing with these components, and because a child component can be painted without the parent been involved, this can lead to any number of issues.\r\n\r\nInstead, start with a `JPanel` and override it&#39;s `paintComponent` method, this guarantees that you will be operating in a double buffered workflow.\r\n\r\n    import java.awt.Dimension;\r\n    import java.awt.EventQueue;\r\n    import java.awt.Graphics;\r\n    import java.awt.Graphics2D;\r\n    import java.awt.event.ActionEvent;\r\n    import java.awt.event.ActionListener;\r\n    import java.awt.image.BufferedImage;\r\n    import java.io.IOException;\r\n    import java.util.logging.Level;\r\n    import java.util.logging.Logger;\r\n    import javax.imageio.ImageIO;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JPanel;\r\n    import javax.swing.Timer;\r\n\r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            new Main();\r\n        }\r\n\r\n        public Main() {\r\n            EventQueue.invokeLater(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    try {\r\n                        JFrame frame = new JFrame();\r\n                        frame.add(new MainPane());\r\n                        frame.pack();\r\n                        frame.setLocationRelativeTo(null);\r\n                        frame.setVisible(true);\r\n                    } catch (IOException ex) {\r\n                        Logger.getLogger(Main.class.getName()).log(Level.SEVERE, null, ex);\r\n                    }\r\n                }\r\n            });\r\n        }\r\n\r\n        public class MainPane extends JPanel {\r\n\r\n            private int xDelta = 1;\r\n            private int xPos = 0;\r\n            private BufferedImage ufo;\r\n\r\n            public MainPane() throws IOException {\r\n                ufo = ImageIO.read(getClass().getResource(&quot;/images/ufo.png&quot;));\r\n\r\n                Timer timer = new Timer(5, new ActionListener() {\r\n                    @Override\r\n                    public void actionPerformed(ActionEvent e) {\r\n                        xPos += xDelta;\r\n                        if (xPos + ufo.getWidth() &gt; getWidth()) {\r\n                            xPos = getWidth() - ufo.getWidth();\r\n                            xDelta *= -1;\r\n                        } else if (xPos &lt; 0) {\r\n                            xPos = 0;\r\n                            xDelta *= -1;\r\n                        }\r\n                        repaint();\r\n                    }\r\n                });\r\n                timer.start();\r\n            }\r\n\r\n            @Override\r\n            public Dimension getPreferredSize() {\r\n                return new Dimension(400, 400);\r\n            }\r\n\r\n            @Override\r\n            protected void paintComponent(Graphics g) {\r\n                super.paintComponent(g);\r\n                Graphics2D g2d = (Graphics2D) g.create();\r\n                paintUFO(g2d);\r\n                g2d.dispose();\r\n            }\r\n\r\n            protected void paintUFO(Graphics2D g2d) {\r\n                int y = (getHeight() - ufo.getHeight()) / 2;\r\n                g2d.drawImage(ufo, xPos, y, this);\r\n            }\r\n\r\n        }\r\n    }\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/WwUDt.gif","title":"flickering my jframe even i used doubleBuffer","body":"<p>I would recommend you start by taking a look at <a href=\"https://www.oracle.com/java/technologies/painting.html\" rel=\"nofollow noreferrer\">Painting in AWT and Swing</a> and <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/painting/index.html\" rel=\"nofollow noreferrer\">Performing Custom Painting</a>.</p>\n<p>Swing components, when used correctly, are double buffered by default.</p>\n<p>Painting is very complex, there's a lot of work that goes into a paint pass.  When you override a &quot;paint&quot; method, you either need to honour the existing workflow (ie, call the <code>super.paintXxx</code> method) or be prepared to take over the full responsibility of the method. Your code has circumvented whole sections of the paint workflow, this is never a good idea.</p>\n<p>It's not generally recommend that you extend from top level containers like <code>JFrame</code>, you're not adding any new functionality and they are generally complex components to start with.  <code>JFrame</code> for example, is actually a composite component, that is, it has a number of child components added to it that form it's core functionality</p>\n<p><a href=\"https://i.stack.imgur.com/WwUDt.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/WwUDt.gif\" alt=\"enter image description here\" /></a></p>\n<p>By overriding <code>paint</code> (of <code>JFrame</code>), you start competing with these components, and because a child component can be painted without the parent been involved, this can lead to any number of issues.</p>\n<p>Instead, start with a <code>JPanel</code> and override it's <code>paintComponent</code> method, this guarantees that you will be operating in a double buffered workflow.</p>\n<pre><code>import java.awt.Dimension;\nimport java.awt.EventQueue;\nimport java.awt.Graphics;\nimport java.awt.Graphics2D;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\nimport java.awt.image.BufferedImage;\nimport java.io.IOException;\nimport java.util.logging.Level;\nimport java.util.logging.Logger;\nimport javax.imageio.ImageIO;\nimport javax.swing.JFrame;\nimport javax.swing.JPanel;\nimport javax.swing.Timer;\n\npublic class Main {\n    public static void main(String[] args) {\n        new Main();\n    }\n\n    public Main() {\n        EventQueue.invokeLater(new Runnable() {\n            @Override\n            public void run() {\n                try {\n                    JFrame frame = new JFrame();\n                    frame.add(new MainPane());\n                    frame.pack();\n                    frame.setLocationRelativeTo(null);\n                    frame.setVisible(true);\n                } catch (IOException ex) {\n                    Logger.getLogger(Main.class.getName()).log(Level.SEVERE, null, ex);\n                }\n            }\n        });\n    }\n\n    public class MainPane extends JPanel {\n\n        private int xDelta = 1;\n        private int xPos = 0;\n        private BufferedImage ufo;\n\n        public MainPane() throws IOException {\n            ufo = ImageIO.read(getClass().getResource(&quot;/images/ufo.png&quot;));\n\n            Timer timer = new Timer(5, new ActionListener() {\n                @Override\n                public void actionPerformed(ActionEvent e) {\n                    xPos += xDelta;\n                    if (xPos + ufo.getWidth() &gt; getWidth()) {\n                        xPos = getWidth() - ufo.getWidth();\n                        xDelta *= -1;\n                    } else if (xPos &lt; 0) {\n                        xPos = 0;\n                        xDelta *= -1;\n                    }\n                    repaint();\n                }\n            });\n            timer.start();\n        }\n\n        @Override\n        public Dimension getPreferredSize() {\n            return new Dimension(400, 400);\n        }\n\n        @Override\n        protected void paintComponent(Graphics g) {\n            super.paintComponent(g);\n            Graphics2D g2d = (Graphics2D) g.create();\n            paintUFO(g2d);\n            g2d.dispose();\n        }\n\n        protected void paintUFO(Graphics2D g2d) {\n            int y = (getHeight() - ufo.getHeight()) / 2;\n            g2d.drawImage(ufo, xPos, y, this);\n        }\n\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":20476218,"reputation":11,"user_id":15025498,"display_name":"Panakova1"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1653123578,"creation_date":1653083148,"question_id":72325059,"body_markdown":"when I call a repaint method its flickering, I was searching on the internet about doubleBuffered but its stil flickering all of objects on the same time,\r\n``` \r\n\r\nimport javax.swing.*;\r\nimport java.awt.*;\r\nimport java.awt.event.*;\r\nimport java.io.*;\r\nimport java.util.ArrayList;\r\nimport java.util.Random;\r\n\r\n\r\npublic class GuiGame extends JFrame implements ActionListener {\r\n  \r\n    private final Flower flower;\r\n    private final ArrayList&lt;MyObjects&gt; objekty;\r\n\r\n    private Image dbImage;\r\n    private Graphics dbGraphics;\r\n\r\n\r\n    public GuiGame() {\r\n        this.setFocusable(true);\r\n        Timer timer = new Timer(40, this);\r\n        timer.start();\r\n        this.setVisible(true);\r\n/*\r\n\r\n    public void paint(Graphics g) {\r\n         this.dbImage = this.createImage(this.getWidth(), this.getHeight());\r\n        this.dbGraphics = this.dbImage.getGraphics();\r\n        this.paintComponents(g);\r\n        g.drawImage(this.dbImage, 0 ,0, this);\r\n    }\r\n\r\n*/\r\n    public void paint(Graphics g) {\r\n  //when i use doubleBuffering this method was called paintComponents\r\n       \r\n        g.drawImage(background.getImage(), 0, 0, this);\r\n        g.drawImage(flower.getImage(), flower.getPozX(), flower.getPozY(), this);\r\n        String skore = &quot;Score: &quot; + player.getScore() ;\r\n        g.drawString(skore, 20, 50);\r\n        this.paintObjects(g);\r\n    }\r\n\r\n    public void paintObjects(Graphics g) {\r\n        if (this.objekty != null) {\r\n            for (objekty o : this.objekty) {\r\n                o.move();\r\n                g.drawImage(o.getImage(), o.getPozX(), o.getPozY(), this);\r\n            }\r\n        }\r\n    }\r\n\r\n```\r\nwhen I used doubleBuffering I tried to slow down a timer e.g. to 1000, it was blank page for most of the time and my objects was there only for moment. \r\n\r\nwhen I do not used it, only last objects which i draw were flickering.\r\nhow can I avoid?\r\n","title":"flickering my jframe even i used doubleBuffer","body":"<p>when I call a repaint method its flickering, I was searching on the internet about doubleBuffered but its stil flickering all of objects on the same time,</p>\n<pre><code>\nimport javax.swing.*;\nimport java.awt.*;\nimport java.awt.event.*;\nimport java.io.*;\nimport java.util.ArrayList;\nimport java.util.Random;\n\n\npublic class GuiGame extends JFrame implements ActionListener {\n  \n    private final Flower flower;\n    private final ArrayList&lt;MyObjects&gt; objekty;\n\n    private Image dbImage;\n    private Graphics dbGraphics;\n\n\n    public GuiGame() {\n        this.setFocusable(true);\n        Timer timer = new Timer(40, this);\n        timer.start();\n        this.setVisible(true);\n/*\n\n    public void paint(Graphics g) {\n         this.dbImage = this.createImage(this.getWidth(), this.getHeight());\n        this.dbGraphics = this.dbImage.getGraphics();\n        this.paintComponents(g);\n        g.drawImage(this.dbImage, 0 ,0, this);\n    }\n\n*/\n    public void paint(Graphics g) {\n  //when i use doubleBuffering this method was called paintComponents\n       \n        g.drawImage(background.getImage(), 0, 0, this);\n        g.drawImage(flower.getImage(), flower.getPozX(), flower.getPozY(), this);\n        String skore = &quot;Score: &quot; + player.getScore() ;\n        g.drawString(skore, 20, 50);\n        this.paintObjects(g);\n    }\n\n    public void paintObjects(Graphics g) {\n        if (this.objekty != null) {\n            for (objekty o : this.objekty) {\n                o.move();\n                g.drawImage(o.getImage(), o.getPozX(), o.getPozY(), this);\n            }\n        }\n    }\n\n</code></pre>\n<p>when I used doubleBuffering I tried to slow down a timer e.g. to 1000, it was blank page for most of the time and my objects was there only for moment.</p>\n<p>when I do not used it, only last objects which i draw were flickering.\nhow can I avoid?</p>\n"},{"tags":["java","kotlin","enums"],"comments":[{"owner":{"account_id":202054,"reputation":23899,"user_id":448875,"display_name":"broot"},"score":0,"creation_date":1653122329,"post_id":72327832,"comment_id":127777878,"body_markdown":"This is as expected. Usually, enum values are instances of the same class, similarly as you have for example 20 users and each of them is another instance of the `User` class. Why is it a problem? Each instance of `Command` has its own `commands` field, so it should do what you need. Is there anything in your code that doesn&#39;t work as you expected?","body":"This is as expected. Usually, enum values are instances of the same class, similarly as you have for example 20 users and each of them is another instance of the <code>User</code> class. Why is it a problem? Each instance of <code>Command</code> has its own <code>commands</code> field, so it should do what you need. Is there anything in your code that doesn&#39;t work as you expected?"},{"owner":{"account_id":25276922,"reputation":23,"user_id":19105402,"display_name":"misha.skorhodov"},"score":0,"creation_date":1653122811,"post_id":72327832,"comment_id":127777956,"body_markdown":"Yeah. Problem that i can&#39;t fetch certain class of enum to set field to actual enum instance.","body":"Yeah. Problem that i can&#39;t fetch certain class of enum to set field to actual enum instance."},{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":1,"creation_date":1653123151,"post_id":72327832,"comment_id":127778027,"body_markdown":"I think when you start manipulating enums with reflection, you&#39;re pretty much asking for all the trouble you get.","body":"I think when you start manipulating enums with reflection, you&#39;re pretty much asking for all the trouble you get."},{"owner":{"account_id":202054,"reputation":23899,"user_id":448875,"display_name":"broot"},"score":1,"creation_date":1653123989,"post_id":72327832,"comment_id":127778180,"body_markdown":"There are no &quot;certain classes&quot; of `Command` enum. There is only a single class, because there is no need to create more of them.","body":"There are no &quot;certain classes&quot; of <code>Command</code> enum. There is only a single class, because there is no need to create more of them."}],"answers":[{"tags":[],"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1653123554,"creation_date":1653123554,"answer_id":72328095,"question_id":72327832,"body_markdown":"It works for `CreatingCarStep` because its enum constants have a non-empty body. This forces the kotlin compiler to create subclasses of the enum class  for each of the enum constants. Additionally, the annotations on the enum constant will be put on the generated subclass. Therefore, `enum::class.java` evaluates to a `Class&lt;*&gt;` instance that represents a subclass of `CreatingCarStep` that has a `FieldEnrich` annotation.\r\n\r\nWhen the enum constants have an empty body, or do not have a body at all, no subclasses are generated. The enum constants are instances of the enum class itself. Hence, `enum::class.java` evaluates to `Command::class.java`, which has no `FieldEnrich` annotation.\r\n\r\nRather than getting `clazz.enumConstants` and getting the annotations on their `::class.java`, you should get the annotations on the enum constant *fields*. This way, you do not depend on whether or not the enum constants have empty bodies.\r\n\r\n```\r\nfun enrichClass(clazz: Class&lt;*&gt;) {\r\n    clazz.declaredFields.forEach {\r\n        if (it.isEnumConstant) {\r\n            enrichField(it, clazz)\r\n        }\r\n    }\r\n}\r\n\r\nprivate fun enrichField(enumField: Field, clazz: Class&lt;*&gt;) {\r\n    if (enumField.isAnnotationPresent(FieldEnrich::class.java)) {\r\n        val fieldEnrich = enumField.getAnnotation(FieldEnrich::class.java)\r\n        val values = configurationProvider.getProperty(fieldEnrich.property, Array&lt;String&gt;::class.java)\r\n        val field = clazz.declaredFields.firstOrNull { it.name == fieldEnrich.field }\r\n        field?.isAccessible = true\r\n        field?.set(enumField.get(null), values)\r\n    }\r\n}\r\n```","title":"I tried to set enum field by reflection","body":"<p>It works for <code>CreatingCarStep</code> because its enum constants have a non-empty body. This forces the kotlin compiler to create subclasses of the enum class  for each of the enum constants. Additionally, the annotations on the enum constant will be put on the generated subclass. Therefore, <code>enum::class.java</code> evaluates to a <code>Class&lt;*&gt;</code> instance that represents a subclass of <code>CreatingCarStep</code> that has a <code>FieldEnrich</code> annotation.</p>\n<p>When the enum constants have an empty body, or do not have a body at all, no subclasses are generated. The enum constants are instances of the enum class itself. Hence, <code>enum::class.java</code> evaluates to <code>Command::class.java</code>, which has no <code>FieldEnrich</code> annotation.</p>\n<p>Rather than getting <code>clazz.enumConstants</code> and getting the annotations on their <code>::class.java</code>, you should get the annotations on the enum constant <em>fields</em>. This way, you do not depend on whether or not the enum constants have empty bodies.</p>\n<pre><code>fun enrichClass(clazz: Class&lt;*&gt;) {\n    clazz.declaredFields.forEach {\n        if (it.isEnumConstant) {\n            enrichField(it, clazz)\n        }\n    }\n}\n\nprivate fun enrichField(enumField: Field, clazz: Class&lt;*&gt;) {\n    if (enumField.isAnnotationPresent(FieldEnrich::class.java)) {\n        val fieldEnrich = enumField.getAnnotation(FieldEnrich::class.java)\n        val values = configurationProvider.getProperty(fieldEnrich.property, Array&lt;String&gt;::class.java)\n        val field = clazz.declaredFields.firstOrNull { it.name == fieldEnrich.field }\n        field?.isAccessible = true\n        field?.set(enumField.get(null), values)\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":25276922,"reputation":23,"user_id":19105402,"display_name":"misha.skorhodov"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":507,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":72328095,"answer_count":1,"score":2,"last_activity_date":1653123554,"creation_date":1653121211,"question_id":72327832,"body_markdown":"\r\n    enum class Command(private vararg val commands: String) {\r\n    \r\n      @FieldEnrich(&quot;changeLanguages&quot;, &quot;commands&quot;)\r\n      CHANGE_LANGUAGE;\r\n    }\r\n\r\n    enum class CreatingCarStep(private vararg val values: String) : AbstractStep&lt;CreatingCarStep&gt; {\r\n      @FieldEnrich(&quot;brand-name&quot;, &quot;values&quot;)\r\n      BRAND_NAME {\r\n        override fun next() = MODEL\r\n        override fun previous() = BRAND_NAME\r\n      };\r\n    }\r\n\r\nI have two enums with vararg property and @FieldEnrich annotation.\r\n\r\nAnnotation looks like \r\n\r\n    @Target(FIELD, CLASS)\r\n    @Retention(RUNTIME)\r\n    annotation class FieldEnrich(\r\n      val property: String,\r\n      val field: String\r\n    )\r\n\r\nAnnotation is processing by object \r\n\r\n    object FieldEnricher {\r\n    \r\n      lateinit var configurationProvider: ConfigurationProvider\r\n    \r\n      fun enrichClass(clazz: Class&lt;*&gt;) {\r\n        clazz.enumConstants.forEach {\r\n          enrichField(it, clazz)\r\n        }\r\n      }\r\n    \r\n      private fun enrichField(enum: Any, clazz: Class&lt;*&gt;) {\r\n        val enumClass = enum::class.java\r\n        if (enumClass.isAnnotationPresent(FieldEnrich::class.java)) {\r\n          val fieldEnrich = enumClass.getAnnotation(FieldEnrich::class.java)\r\n          val values = configurationProvider.getProperty(fieldEnrich.property, Array&lt;String&gt;::class.java)\r\n          val field = clazz.declaredFields.firstOrNull { it.name == fieldEnrich.field }\r\n          field?.isAccessible = true\r\n          field?.set(enum, values)\r\n        }\r\n      }\r\n    }\r\n\r\nThe logic is as follows. We annotate an enum member with the annotation @FieldEnrich and pass the property we would like to read value from and the name of the field to which we set the value of the property.\r\n\r\nI was debugging and found out when it was trying to process CreatingCarStep enum is okay, because the enumConstants method returns actual objects of the enum values. So i can just take the class of this value and get the actual class of this enum and process it by my method enrichField. But when it was trying to process Command enum, I got just enum values. So if we take the class of enum value, the same class of Command will be returned.&#160;Enter the image description here.\r\n\r\nCommand image -&gt;\r\n[enter image description here][1]\r\n\r\nCreatingCarStep image -&gt;\r\n[enter image description here][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/LgwrQ.png\r\n  [2]: https://i.stack.imgur.com/sypdt.png","title":"I tried to set enum field by reflection","body":"<pre><code>enum class Command(private vararg val commands: String) {\n\n  @FieldEnrich(&quot;changeLanguages&quot;, &quot;commands&quot;)\n  CHANGE_LANGUAGE;\n}\n\nenum class CreatingCarStep(private vararg val values: String) : AbstractStep&lt;CreatingCarStep&gt; {\n  @FieldEnrich(&quot;brand-name&quot;, &quot;values&quot;)\n  BRAND_NAME {\n    override fun next() = MODEL\n    override fun previous() = BRAND_NAME\n  };\n}\n</code></pre>\n<p>I have two enums with vararg property and @FieldEnrich annotation.</p>\n<p>Annotation looks like</p>\n<pre><code>@Target(FIELD, CLASS)\n@Retention(RUNTIME)\nannotation class FieldEnrich(\n  val property: String,\n  val field: String\n)\n</code></pre>\n<p>Annotation is processing by object</p>\n<pre><code>object FieldEnricher {\n\n  lateinit var configurationProvider: ConfigurationProvider\n\n  fun enrichClass(clazz: Class&lt;*&gt;) {\n    clazz.enumConstants.forEach {\n      enrichField(it, clazz)\n    }\n  }\n\n  private fun enrichField(enum: Any, clazz: Class&lt;*&gt;) {\n    val enumClass = enum::class.java\n    if (enumClass.isAnnotationPresent(FieldEnrich::class.java)) {\n      val fieldEnrich = enumClass.getAnnotation(FieldEnrich::class.java)\n      val values = configurationProvider.getProperty(fieldEnrich.property, Array&lt;String&gt;::class.java)\n      val field = clazz.declaredFields.firstOrNull { it.name == fieldEnrich.field }\n      field?.isAccessible = true\n      field?.set(enum, values)\n    }\n  }\n}\n</code></pre>\n<p>The logic is as follows. We annotate an enum member with the annotation @FieldEnrich and pass the property we would like to read value from and the name of the field to which we set the value of the property.</p>\n<p>I was debugging and found out when it was trying to process CreatingCarStep enum is okay, because the enumConstants method returns actual objects of the enum values. So i can just take the class of this value and get the actual class of this enum and process it by my method enrichField. But when it was trying to process Command enum, I got just enum values. So if we take the class of enum value, the same class of Command will be returned. Enter the image description here.</p>\n<p>Command image -&gt;\n<a href=\"https://i.stack.imgur.com/LgwrQ.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>CreatingCarStep image -&gt;\n<a href=\"https://i.stack.imgur.com/sypdt.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":62515,"reputation":45036,"user_id":185722,"accept_rate":100,"display_name":"Alexander Pogrebnyak"},"score":0,"creation_date":1263839752,"post_id":2088299,"comment_id":2020379,"body_markdown":"Dup? http://stackoverflow.com/questions/1794141/java-instance-variables-vs-local-variables","body":"Dup? <a href=\"http://stackoverflow.com/questions/1794141/java-instance-variables-vs-local-variables\" title=\"java instance variables vs local variables\">stackoverflow.com/questions/1794141/&hellip;</a>"},{"owner":{"account_id":23699,"reputation":5769,"user_id":59572,"display_name":"Fredrik"},"score":4,"creation_date":1263839805,"post_id":2088299,"comment_id":2020384,"body_markdown":"&quot;except for the differences, what are the differences?&quot; :-) What kind of differences are you looking for? optimizations and life span or something else?","body":"&quot;except for the differences, what are the differences?&quot; :-) What kind of differences are you looking for? optimizations and life span or something else?"}],"answers":[{"tags":[],"owner":{"account_id":75807,"reputation":81445,"user_id":217332,"accept_rate":100,"display_name":"danben"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1610034524,"creation_date":1263839763,"answer_id":2088314,"question_id":2088299,"body_markdown":"No, you pretty much covered it.  An instance variable belongs to an instance of a class, and a local variable belongs to a stack frame.\r\n\r\nInstance variables are initialized to default values, but it&#39;s generally good practice to use explicit initializations anyway.\r\n","title":"What is the difference between local and instance variables in Java?","body":"<p>No, you pretty much covered it.  An instance variable belongs to an instance of a class, and a local variable belongs to a stack frame.</p>\n<p>Instance variables are initialized to default values, but it's generally good practice to use explicit initializations anyway.</p>\n"},{"tags":[],"owner":{"account_id":32598,"reputation":13160,"user_id":90573,"display_name":"Tom Jefferys"},"down_vote_count":0,"up_vote_count":34,"is_accepted":true,"score":34,"last_activity_date":1610034455,"creation_date":1263839826,"answer_id":2088322,"question_id":2088299,"body_markdown":"One extra thing I can think of:\r\n\r\nInstance variables are given default values, i.e., null if it&#39;s an object reference, and 0 if it&#39;s an int.\r\n\r\nLocal variables don&#39;t get default values, and therefore need to be explicitly initialized (and the compiler usually complains if you fail to do this).\r\n","title":"What is the difference between local and instance variables in Java?","body":"<p>One extra thing I can think of:</p>\n<p>Instance variables are given default values, i.e., null if it's an object reference, and 0 if it's an int.</p>\n<p>Local variables don't get default values, and therefore need to be explicitly initialized (and the compiler usually complains if you fail to do this).</p>\n"},{"tags":[],"owner":{"account_id":83700,"reputation":8982,"user_id":234499,"accept_rate":50,"display_name":"Alex Ntousias"},"down_vote_count":0,"up_vote_count":45,"is_accepted":false,"score":45,"last_activity_date":1610034651,"creation_date":1263840117,"answer_id":2088370,"question_id":2088299,"body_markdown":"The main differences that I see are in their:\r\n\r\n**Scope:** Local variables are visible only in the method or block they are declared whereas instance variables can been seen by all methods in the class.\r\n\r\n**Place where they are declared:** Local variables are declared inside a method or a block whereas instance variables inside a class, but outside a method.\r\n\r\n**Existence time:** Local variables are created when a method is called and destroyed when the method exits whereas instance variables are created using *new* and destroyed by the garbage collector when there aren&#39;t any reference to them.\r\n\r\n**Access:** You can&#39;t access local variables, whereas instance variables can be accessed if they are declared as public.\r\n\r\n**Where they are declared:** Local variables are declared in a method or a block before they are called, whereas instance variables can be declared anywhere in the class level (even after their use).\r\n\r\nInstance variables always have value, even if they are not assigned by the code (then they will have for example null, 0, 0.0, and false). For local variables, there must be an assigned value by the code. Otherwise the compiler generates an error.\r\n\r\n\r\n","title":"What is the difference between local and instance variables in Java?","body":"<p>The main differences that I see are in their:</p>\n<p><strong>Scope:</strong> Local variables are visible only in the method or block they are declared whereas instance variables can been seen by all methods in the class.</p>\n<p><strong>Place where they are declared:</strong> Local variables are declared inside a method or a block whereas instance variables inside a class, but outside a method.</p>\n<p><strong>Existence time:</strong> Local variables are created when a method is called and destroyed when the method exits whereas instance variables are created using <em>new</em> and destroyed by the garbage collector when there aren't any reference to them.</p>\n<p><strong>Access:</strong> You can't access local variables, whereas instance variables can be accessed if they are declared as public.</p>\n<p><strong>Where they are declared:</strong> Local variables are declared in a method or a block before they are called, whereas instance variables can be declared anywhere in the class level (even after their use).</p>\n<p>Instance variables always have value, even if they are not assigned by the code (then they will have for example null, 0, 0.0, and false). For local variables, there must be an assigned value by the code. Otherwise the compiler generates an error.</p>\n"},{"tags":[],"owner":{"account_id":86591,"reputation":26893,"user_id":240698,"accept_rate":62,"display_name":"giri"},"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1610034755,"creation_date":1263840412,"answer_id":2088405,"question_id":2088299,"body_markdown":"The main difference is instance variables get default values. Like an int value gets zero and a char gets a null, but not the local variables.\r\n\r\nYou can leave uninitialized instance variable, but where as local variables must be initialized otherwise you will get compiler error.\r\n\r\n","title":"What is the difference between local and instance variables in Java?","body":"<p>The main difference is instance variables get default values. Like an int value gets zero and a char gets a null, but not the local variables.</p>\n<p>You can leave uninitialized instance variable, but where as local variables must be initialized otherwise you will get compiler error.</p>\n"},{"tags":[],"owner":{"account_id":70373,"reputation":7742,"user_id":204143,"accept_rate":57,"display_name":"Steve Emmerson"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1610034775,"creation_date":1263840602,"answer_id":2088423,"question_id":2088299,"body_markdown":"One other difference is you don&#39;t have to worry about concurrent access to local variables; whereas you do with instance variables in a multi-threaded environment.\r\n","title":"What is the difference between local and instance variables in Java?","body":"<p>One other difference is you don't have to worry about concurrent access to local variables; whereas you do with instance variables in a multi-threaded environment.</p>\n"},{"tags":[],"owner":{"account_id":85022,"reputation":13917,"user_id":237321,"accept_rate":75,"display_name":"x4u"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1610034854,"creation_date":1263843258,"answer_id":2088680,"question_id":2088299,"body_markdown":"Aside from all that is already mentioned here, I would like to point out that local variables are a bit faster to access for the JVM. The JVM has got more work to do to read or write an instance variable compared to a a local variable.\r\n\r\nThis is still true for the current [HotSpot][1] server JVM, because it&#39;s not a VM optimization problem. It&#39;s rather caused by the fact that an instance variable is visible outside of the method and could thus be accessed from other threads while the method is executed.\r\n\r\n  [1]: https://en.wikipedia.org/wiki/HotSpot_(virtual_machine)\r\n\r\n\r\n","title":"What is the difference between local and instance variables in Java?","body":"<p>Aside from all that is already mentioned here, I would like to point out that local variables are a bit faster to access for the JVM. The JVM has got more work to do to read or write an instance variable compared to a a local variable.</p>\n<p>This is still true for the current <a href=\"https://en.wikipedia.org/wiki/HotSpot_(virtual_machine)\" rel=\"nofollow noreferrer\">HotSpot</a> server JVM, because it's not a VM optimization problem. It's rather caused by the fact that an instance variable is visible outside of the method and could thus be accessed from other threads while the method is executed.</p>\n"},{"tags":[],"owner":{"account_id":5008594,"reputation":9,"user_id":4025466,"display_name":"user4025466"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1410327612,"creation_date":1410327612,"answer_id":25758030,"question_id":2088299,"body_markdown":"Variables defined inside methods, constructors or blocks are called local variables. The variable will be declared and initialized within the method and it will be destroyed when the method has completed.\r\n\r\n\r\nInstance variables are variables within a class but outside any method. These variables are instantiated when the class is loaded. \r\n","title":"What is the difference between local and instance variables in Java?","body":"<p>Variables defined inside methods, constructors or blocks are called local variables. The variable will be declared and initialized within the method and it will be destroyed when the method has completed.</p>\n\n<p>Instance variables are variables within a class but outside any method. These variables are instantiated when the class is loaded. </p>\n"},{"tags":[],"owner":{"account_id":5017574,"reputation":1145,"user_id":4032028,"display_name":"Sanchit"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1610034953,"creation_date":1416049723,"answer_id":26945155,"question_id":2088299,"body_markdown":"A local variable:\r\n\r\n - is declared inside a method/constructor or within a block (enclosed in braces)\r\n - must be initialized before use. Otherwise it won&#39;t compile.\r\n\r\n\r\nAn instance variable:\r\n\r\n - is declared inside a class.\r\n - initialization is not compulsory: if omitted, it contains the default value (0, 0.0, `false`, `null`, etc.)\r\n\r\n\r\n\r\n","title":"What is the difference between local and instance variables in Java?","body":"<p>A local variable:</p>\n<ul>\n<li>is declared inside a method/constructor or within a block (enclosed in braces)</li>\n<li>must be initialized before use. Otherwise it won't compile.</li>\n</ul>\n<p>An instance variable:</p>\n<ul>\n<li>is declared inside a class.</li>\n<li>initialization is not compulsory: if omitted, it contains the default value (0, 0.0, <code>false</code>, <code>null</code>, etc.)</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":4089463,"reputation":381,"user_id":3357884,"accept_rate":100,"display_name":"Mahan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1610035266,"creation_date":1468776043,"answer_id":38423934,"question_id":2088299,"body_markdown":"Aside from all the differences mentioned in previous answers, I would like to point out one more difference that, **instance variables** can have access modifiers (like private, public, protected, etc.), but **local variables** will not have any access modifiers.\r\n\r\n\r\n","title":"What is the difference between local and instance variables in Java?","body":"<p>Aside from all the differences mentioned in previous answers, I would like to point out one more difference that, <strong>instance variables</strong> can have access modifiers (like private, public, protected, etc.), but <strong>local variables</strong> will not have any access modifiers.</p>\n"},{"tags":[],"owner":{"display_name":"user6688351"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1470610542,"creation_date":1470610542,"answer_id":38819300,"question_id":2088299,"body_markdown":"Local variables are declared within a method.\r\n\r\nInstance variables are declared inside a class but not within a method.\r\n\r\nLocal variables do not get a default value. The compiler complains if you try to use a local variable before before the variable is initialised.\r\n\r\nHowever, instance variables always get a default value. If you don&#39;t explicitly assign a value to an instance variable, the instance variable still has a value.\r\n\r\nintegers             0\r\n\r\nfloating points      0\r\n\r\nBoolean             false\r\n\r\nreferences           null","title":"What is the difference between local and instance variables in Java?","body":"<p>Local variables are declared within a method.</p>\n\n<p>Instance variables are declared inside a class but not within a method.</p>\n\n<p>Local variables do not get a default value. The compiler complains if you try to use a local variable before before the variable is initialised.</p>\n\n<p>However, instance variables always get a default value. If you don't explicitly assign a value to an instance variable, the instance variable still has a value.</p>\n\n<p>integers             0</p>\n\n<p>floating points      0</p>\n\n<p>Boolean             false</p>\n\n<p>references           null</p>\n"},{"tags":[],"owner":{"account_id":8464877,"reputation":51,"user_id":6355707,"display_name":"Huang"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1610050417,"creation_date":1555382596,"answer_id":55699815,"question_id":2088299,"body_markdown":"Local variables are on the stack, but member variables (instance variables) are on the heap.\r\n","title":"What is the difference between local and instance variables in Java?","body":"<p>Local variables are on the stack, but member variables (instance variables) are on the heap.</p>\n"},{"tags":[],"owner":{"account_id":14492953,"reputation":191,"user_id":10468540,"display_name":"Ahmed Ramadan"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1586346173,"creation_date":1586287960,"answer_id":61087999,"question_id":2088299,"body_markdown":"-&gt; local variable is declared in the body of a method and can be used\r\nonly from the point at which it’s declared through the end of the method\r\ndeclaration.\r\n\r\n-&gt; An instance variable is declared in a class, but not in the body\r\nof any of the class’s methods. Also, instance variables are accessible to all\r\nmethods of the class.","title":"What is the difference between local and instance variables in Java?","body":"<p>-> local variable is declared in the body of a method and can be used\nonly from the point at which it’s declared through the end of the method\ndeclaration.</p>\n\n<p>-> An instance variable is declared in a class, but not in the body\nof any of the class’s methods. Also, instance variables are accessible to all\nmethods of the class.</p>\n"},{"tags":[],"owner":{"account_id":23678540,"reputation":343,"user_id":17704418,"display_name":"salam_verdim_alana_panyatkasi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653123264,"creation_date":1653123264,"answer_id":72328064,"question_id":2088299,"body_markdown":"**Existence time:**\r\nI would like to tell you the major important difference between these variables is that when I encountered a problem where my instance variable during my software development worker life. Problem was occurring when user log in I have to return a username of user, who log in, but there is a problem, where for example one user log in it work successful but when another user log in while program run it return again a username, which log in before. I did run the program like debug mode and I could see a problem within my instance variable, which it could be local variable in my authentication method. The reason I tell that be careful when you work local and instance variable in programming language. All programmers don&#39;t take enough time simply topics, but small problems create great complexity.","title":"What is the difference between local and instance variables in Java?","body":"<p><strong>Existence time:</strong>\nI would like to tell you the major important difference between these variables is that when I encountered a problem where my instance variable during my software development worker life. Problem was occurring when user log in I have to return a username of user, who log in, but there is a problem, where for example one user log in it work successful but when another user log in while program run it return again a username, which log in before. I did run the program like debug mode and I could see a problem within my instance variable, which it could be local variable in my authentication method. The reason I tell that be careful when you work local and instance variable in programming language. All programmers don't take enough time simply topics, but small problems create great complexity.</p>\n"}],"owner":{"account_id":87077,"reputation":25964,"user_id":241717,"accept_rate":73,"display_name":"GuruKulki"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":100019,"favorite_count":0,"down_vote_count":1,"up_vote_count":21,"accepted_answer_id":2088322,"answer_count":13,"score":20,"last_activity_date":1653123264,"creation_date":1263839635,"question_id":2088299,"body_markdown":"Except the scope and the storage differences, are there any other major difference between instance and local variables in Java?\r\n\r\n\r\n","title":"What is the difference between local and instance variables in Java?","body":"<p>Except the scope and the storage differences, are there any other major difference between instance and local variables in Java?</p>\n"},{"tags":["java","csv","opencsv"],"comments":[{"owner":{"account_id":16914570,"reputation":1532,"user_id":12232870,"display_name":"terrorrussia-keeps-killing"},"score":0,"creation_date":1641450471,"post_id":70603268,"comment_id":124808929,"body_markdown":"Use [CSVReaderHeaderAware](http://opencsv.sourceforge.net/apidocs/com/opencsv/CSVReaderHeaderAware.html).","body":"Use <a href=\"http://opencsv.sourceforge.net/apidocs/com/opencsv/CSVReaderHeaderAware.html\" rel=\"nofollow noreferrer\">CSVReaderHeaderAware</a>."}],"answers":[{"tags":[],"owner":{"account_id":82592,"reputation":355,"user_id":232115,"display_name":"Mike"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653121636,"creation_date":1653121636,"answer_id":72327877,"question_id":70603268,"body_markdown":"You can read easily the csv file using automatic mapping.\r\nHere a simple method to read a generic type of row: \r\n\r\n       private &lt;T&gt; List&lt;T&gt; readMapped(File file, Class&lt;T&gt; clazz, int skipLines) {\r\n        List&lt;T&gt; beans = null;\r\n        try {\r\n            beans = new CsvToBeanBuilder&lt;T&gt;(\r\n                    new FileReader(file))\r\n                    .withType(clazz).withSkipLines(skipLines)\r\n                    .withSeparator(&#39;;&#39;)\r\n                    .build()\r\n                    .parse();\r\n        } catch (IllegalStateException | IOException e) {\r\n            throw new MyException(&quot;cannot read csv file&quot;, e);\r\n        }\r\n        return beans;\r\n    }\r\n\r\nNow, you can define the following data type (I use lombok, but if you don&#39;t, remove the ToString and getter/setter annotations and write the corresponding methods):\r\n\r\n    @ToString\r\n        @Getter\r\n        @Setter\r\n        public class Student {\r\n            @CsvBindByPosition(position = 0)\r\n            private String name;\r\n            @CsvBindByPosition(position = 1)\r\n            private Integer rollNumber;\r\n            @CsvBindByPosition(position = 2)\r\n            private Integer mark;\r\n        \r\n        }\r\n\r\nAlternatively, you can use \r\n\r\n    @CsvBindByName(column = &quot;COLUMN_NAME&quot;)\r\n\r\n\r\nThen, use the following call:\r\n\r\n\r\n    public List&lt;Student&gt; readStudent(File file) {\r\n        return readMapped(file, Student.class, 1); //first row is the head, if you have put labels on the first line\r\n    }\r\n\r\n\r\nThat&#39;s all!","title":"How to read csv file in Java and convert the column as key and row-value as value pairs","body":"<p>You can read easily the csv file using automatic mapping.\nHere a simple method to read a generic type of row:</p>\n<pre><code>   private &lt;T&gt; List&lt;T&gt; readMapped(File file, Class&lt;T&gt; clazz, int skipLines) {\n    List&lt;T&gt; beans = null;\n    try {\n        beans = new CsvToBeanBuilder&lt;T&gt;(\n                new FileReader(file))\n                .withType(clazz).withSkipLines(skipLines)\n                .withSeparator(';')\n                .build()\n                .parse();\n    } catch (IllegalStateException | IOException e) {\n        throw new MyException(&quot;cannot read csv file&quot;, e);\n    }\n    return beans;\n}\n</code></pre>\n<p>Now, you can define the following data type (I use lombok, but if you don't, remove the ToString and getter/setter annotations and write the corresponding methods):</p>\n<pre><code>@ToString\n    @Getter\n    @Setter\n    public class Student {\n        @CsvBindByPosition(position = 0)\n        private String name;\n        @CsvBindByPosition(position = 1)\n        private Integer rollNumber;\n        @CsvBindByPosition(position = 2)\n        private Integer mark;\n    \n    }\n</code></pre>\n<p>Alternatively, you can use</p>\n<pre><code>@CsvBindByName(column = &quot;COLUMN_NAME&quot;)\n</code></pre>\n<p>Then, use the following call:</p>\n<pre><code>public List&lt;Student&gt; readStudent(File file) {\n    return readMapped(file, Student.class, 1); //first row is the head, if you have put labels on the first line\n}\n</code></pre>\n<p>That's all!</p>\n"}],"owner":{"account_id":20276759,"reputation":255,"user_id":14871599,"display_name":"Ranyk"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":545,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1653122850,"creation_date":1641449999,"question_id":70603268,"body_markdown":"I have a CSV input file `sample.csv`:\r\n```\r\nStudent_name   Roll_num   Marks \r\nAnvay          1001         80\r\nVini           1002         69\r\nJay            1003         70\r\n```\r\nHow can I read the data line by line in Java 8 using OpenCSV and parse it as list of key value pairs? (keeping key as column_name &amp; value as row-value)?\r\n\r\n**Expected output**:\r\n```\r\n[&#39;Student_name&#39;: &#39;Anvay&#39;, &#39;Roll_num&#39;: 1001, &#39;Marks&#39;:80]\r\n[&#39;Student_name&#39;: &#39;Vini&#39;, &#39;Roll_num&#39;: 1002, &#39;Marks&#39;:69]\r\n[&#39;Student_name&#39;: &#39;Jay&#39;, &#39;Roll_num&#39;: 1003, &#39;Marks&#39;:70]\r\n```","title":"How to read csv file in Java and convert the column as key and row-value as value pairs","body":"<p>I have a CSV input file <code>sample.csv</code>:</p>\n<pre><code>Student_name   Roll_num   Marks \nAnvay          1001         80\nVini           1002         69\nJay            1003         70\n</code></pre>\n<p>How can I read the data line by line in Java 8 using OpenCSV and parse it as list of key value pairs? (keeping key as column_name &amp; value as row-value)?</p>\n<p><strong>Expected output</strong>:</p>\n<pre><code>['Student_name': 'Anvay', 'Roll_num': 1001, 'Marks':80]\n['Student_name': 'Vini', 'Roll_num': 1002, 'Marks':69]\n['Student_name': 'Jay', 'Roll_num': 1003, 'Marks':70]\n</code></pre>\n"},{"tags":["java","android","firebase","android-studio","crash"],"comments":[{"owner":{"account_id":23787141,"reputation":559,"user_id":17799032,"display_name":"Daniel Knauf"},"score":0,"creation_date":1653119305,"post_id":72327267,"comment_id":127777388,"body_markdown":"Can you include the stack trace of your crash? This would help to find the problem in your code.","body":"Can you include the stack trace of your crash? This would help to find the problem in your code."},{"owner":{"display_name":"user12619636"},"score":0,"creation_date":1653121447,"post_id":72327267,"comment_id":127777721,"body_markdown":"hey Daniel , i just edited the post by adding Logcat of the error i am getting while reacting to a message in my app , can you check whats wrong with my code?","body":"hey Daniel , i just edited the post by adding Logcat of the error i am getting while reacting to a message in my app , can you check whats wrong with my code?"}],"answers":[{"tags":[],"owner":{"account_id":23787141,"reputation":559,"user_id":17799032,"display_name":"Daniel Knauf"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1653122593,"creation_date":1653122593,"answer_id":72327974,"question_id":72327267,"body_markdown":"You have a NPE for the argument **pathString** but I cannot find it in your code. You should add a null-check to the relevant part and see if it works.\r\n\r\n```\r\nE/MessageQueue-JNI: java.lang.NullPointerException: Can&#39;t pass null for argument &#39;pathString&#39; in child()\r\n```","title":"my chat application crashes when ever in try to react on a message","body":"<p>You have a NPE for the argument <strong>pathString</strong> but I cannot find it in your code. You should add a null-check to the relevant part and see if it works.</p>\n<pre><code>E/MessageQueue-JNI: java.lang.NullPointerException: Can't pass null for argument 'pathString' in child()\n</code></pre>\n"}],"owner":{"display_name":"user12619636"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":77,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1653210192,"accepted_answer_id":72327974,"answer_count":1,"score":0,"last_activity_date":1653122593,"creation_date":1653115177,"question_id":72327267,"body_markdown":"When ever I try to send messages from device to device the app works fine a\r\n,But when ever i try to react in a message the app crashes and returns back to main activity page, i don&#39;t know what is causing the error \r\n\r\n\r\n**here is the messageAdapter.java code :**\r\n\r\n```\r\npackage com.example.baatcheet.Adapters;\r\n\r\n\r\nimport com.bumptech.glide.Glide;\r\nimport com.example.baatcheet.Models.Message;\r\nimport android.content.Context;\r\nimport android.view.LayoutInflater;\r\nimport android.view.MotionEvent;\r\nimport android.view.View;\r\nimport android.view.ViewGroup;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.recyclerview.widget.RecyclerView;\r\n\r\n\r\nimport com.example.baatcheet.R;\r\nimport com.example.baatcheet.databinding.ItemReceiveBinding;\r\nimport com.example.baatcheet.databinding.ItemSentBinding;\r\nimport com.github.pgreze.reactions.ReactionPopup;\r\nimport com.github.pgreze.reactions.ReactionsConfig;\r\nimport com.github.pgreze.reactions.ReactionsConfigBuilder;\r\nimport com.google.firebase.auth.FirebaseAuth;\r\nimport com.google.firebase.database.FirebaseDatabase;\r\n\r\n\r\nimport java.util.ArrayList;\r\n\r\n\r\npublic class MessagesAdapter extends RecyclerView.Adapter {\r\n\r\n    Context context;\r\n    ArrayList&lt;Message&gt; messages;\r\n    final int ITEM_SENT  = 1;\r\n    final int ITEM_RECEIVE = 2;\r\n\r\n    String senderRoom;\r\n    String receiverRoom;\r\n\r\n    public MessagesAdapter(Context context , ArrayList&lt;Message&gt; messages , String senderRoom , String receiverRoom){\r\n        this.context = context;\r\n        this.messages = messages;\r\n        this.senderRoom = senderRoom;\r\n        this.receiverRoom = receiverRoom;\r\n\r\n\r\n    }\r\n    @NonNull\r\n    @Override\r\n    public RecyclerView.ViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n        if(viewType == ITEM_SENT){\r\n            View view = LayoutInflater.from(context).inflate(R.layout.item_sent, parent, false);\r\n            return  new SentViewHolder(view);\r\n        }else{\r\n            View view = LayoutInflater.from(context).inflate(R.layout.item_receive, parent, false);\r\n            return  new ReceiverViewHolder(view);\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public int getItemViewType(int position) {\r\n        Message message = messages.get(position);\r\n        if(FirebaseAuth.getInstance().getUid().equals(message.getSenderId())){\r\n            return ITEM_SENT;\r\n        }else{\r\n            return ITEM_RECEIVE;\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public void onBindViewHolder(@NonNull RecyclerView.ViewHolder holder, int position) {\r\n        Message message = messages.get(position);\r\n\r\n        int[] reactions =  new int[]{\r\n                R.drawable.ic_fb_like,\r\n                R.drawable.ic_fb_love,\r\n                R.drawable.ic_fb_laugh,\r\n                R.drawable.ic_fb_wow,\r\n                R.drawable.ic_fb_sad,\r\n                R.drawable.ic_fb_angry\r\n        };\r\n        ReactionsConfig config = new ReactionsConfigBuilder(context)\r\n                .withReactions(reactions)\r\n                .build();\r\n\r\n        ReactionPopup popup = new ReactionPopup(context, config, (pos) -&gt; {\r\n\r\n            if(holder.getClass() == SentViewHolder.class){\r\n                SentViewHolder viewHolder = (SentViewHolder)holder;\r\n                if(pos &gt;= 0 &amp;&amp; pos &lt;= 6) {\r\n                    viewHolder.binding.feeling.setImageResource(reactions[pos]);\r\n                    viewHolder.binding.feeling.setVisibility(View.VISIBLE);\r\n                }\r\n            }else {\r\n                ReceiverViewHolder viewHolder = (ReceiverViewHolder) holder;\r\n                if (pos &gt;= 0 &amp;&amp; pos &lt;= 6) {\r\n                    viewHolder.binding.feeling.setImageResource(reactions[pos]);\r\n                    viewHolder.binding.feeling.setVisibility(View.VISIBLE);\r\n                }\r\n            }\r\n\r\n            message.setFeeling(pos);\r\n            FirebaseDatabase.getInstance().getReference()\r\n                    .child(&quot;chats&quot;)\r\n                    .child(senderRoom)\r\n                    .child(&quot;messages&quot;)\r\n                    .child(message.getMessageId())\r\n                    .setValue(message);\r\n\r\n            FirebaseDatabase.getInstance().getReference()\r\n                    .child(&quot;chats&quot;)\r\n                    .child(receiverRoom)\r\n                    .child(&quot;messages&quot;)\r\n                    .child(message.getMessageId())\r\n                    .setValue(message);\r\n\r\n\r\n\r\n            return true; // true is closing popup, false is requesting a new selection\r\n        });\r\n\r\n        if(holder.getClass() == SentViewHolder.class){\r\n            SentViewHolder viewHolder = (SentViewHolder)holder;\r\n\r\n\r\n\r\n                    viewHolder.binding.message.setText(message.getMessage());\r\n\r\n                    if(message.getFeeling() &gt;= 0){\r\n//                        message.setFeeling(reactions[(int)message.getFeeling()]);\r\n                        viewHolder.binding.feeling.setImageResource(reactions[message.getFeeling()]);\r\n                        viewHolder.binding.feeling.setVisibility(View.VISIBLE);\r\n                    }\r\n                    else{\r\n                        viewHolder.binding.feeling.setVisibility(View.GONE);\r\n                    }\r\n                    viewHolder.binding.message.setOnTouchListener(new View.OnTouchListener() {\r\n                        @Override\r\n                        public boolean onTouch(View v, MotionEvent event) {\r\n                            popup.onTouch(v,event);\r\n                            return false;\r\n                        }\r\n                    });\r\n        }else{\r\n            ReceiverViewHolder viewHolder = (ReceiverViewHolder) holder;\r\n            viewHolder.binding.message.setText(message.getMessage());\r\n\r\n            if(message.getFeeling() &gt;= 0){\r\n//                message.setFeeling(reactions[(int)message.getFeeling()]);\r\n                viewHolder.binding.feeling.setImageResource(reactions[message.getFeeling()]);\r\n                viewHolder.binding.feeling.setVisibility(View.VISIBLE);\r\n\r\n            }\r\n            else{\r\n                viewHolder.binding.feeling.setVisibility(View.GONE);\r\n            }\r\n\r\n            viewHolder.binding.message.setOnTouchListener(new View.OnTouchListener() {\r\n                @Override\r\n                public boolean onTouch(View v, MotionEvent event) {\r\n                    popup.onTouch(v,event);\r\n                    return false;\r\n                }\r\n            });\r\n\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public int getItemCount() {\r\n\r\n        return messages.size();\r\n    }\r\n\r\n    public class SentViewHolder extends RecyclerView.ViewHolder{\r\n\r\n        ItemSentBinding binding;\r\n        public SentViewHolder(@NonNull View itemView) {\r\n            super(itemView);\r\n            binding  = ItemSentBinding.bind(itemView);\r\n        }\r\n\r\n    }\r\n    public class ReceiverViewHolder extends RecyclerView.ViewHolder{\r\n        ItemReceiveBinding binding;\r\n        public ReceiverViewHolder(@NonNull View itemView) {\r\n            super(itemView);\r\n            binding = ItemReceiveBinding.bind(itemView);\r\n        }\r\n    }\r\n}\r\n\r\n```\r\n\r\n**Here is the getter and setter class for above adapter class ,\r\nmessgaes.java :**\r\n\r\n```\r\npackage com.example.baatcheet.Models;\r\n\r\npublic class Message {\r\n    private String messageId , message , senderId;\r\n    private long timeStamp;\r\n    private int feeling = -1;\r\n    public String imageUrl;\r\n\r\n\r\n    public Message() {\r\n\r\n    }\r\n\r\n    public Message(String message, String senderId, long timeStamp) {\r\n        this.message = message;\r\n        this.senderId = senderId;\r\n        this.timeStamp = timeStamp;\r\n    }\r\n\r\n    public void setMessageId(String messageId) {\r\n        this.messageId = messageId;\r\n    }\r\n\r\n    public void setMessage(String message) {\r\n        this.message = message;\r\n    }\r\n\r\n    public void setSenderId(String senderId) {\r\n        this.senderId = senderId;\r\n    }\r\n\r\n    public void setTimeStamp(long timeStamp) {\r\n        this.timeStamp = timeStamp;\r\n    }\r\n\r\n    public void setFeeling(int feeling) {\r\n        this.feeling = feeling;\r\n\r\n    }\r\n\r\n    public String getImageUrl() {\r\n        return imageUrl;\r\n    }\r\n\r\n    public void setImageUrl(String imageUrl) {\r\n        this.imageUrl = imageUrl;\r\n    }\r\n\r\n    public String getMessageId() {\r\n        return messageId;\r\n    }\r\n\r\n    public String getMessage() {\r\n        return message;\r\n    }\r\n\r\n    public String getSenderId() {\r\n        return senderId;\r\n    }\r\n\r\n    public long getTimeStamp() {\r\n        return timeStamp;\r\n    }\r\n\r\n    public int getFeeling() {\r\n        return feeling;\r\n    }\r\n\r\n    \r\n}\r\n\r\n```\r\n\r\n I dont actually know where my app is getting crashed\r\n\r\n**the logcat shows the following error when ever i try to react on a message**\r\n\r\n```\r\n[samsung-sm_m305f-52001052ca7b863f]: E/InputEventReceiver: Exception dispatching input event.\r\n[samsung-sm_m305f-52001052ca7b863f]: E/MessageQueue-JNI: Exception in MessageQueue callback: handleReceiveCallback\r\n[samsung-sm_m305f-52001052ca7b863f]: E/MessageQueue-JNI: java.lang.NullPointerException: Can&#39;t pass null for argument &#39;pathString&#39; in child()\r\n        at com.google.firebase.database.DatabaseReference.child(DatabaseReference.java:96)\r\n        at com.example.baatcheet.Adapters.MessagesAdapter.lambda$onBindViewHolder$0$com-example-baatcheet-Adapters-MessagesAdapter(MessagesAdapter.java:104)\r\n        at com.example.baatcheet.Adapters.MessagesAdapter$$ExternalSyntheticLambda0.invoke(Unknown Source:10)\r\n        at com.github.pgreze.reactions.ReactionViewGroup.onTouchEvent(ReactionViewGroup.kt:247)\r\n        at android.view.View.dispatchTouchEvent(View.java:14376)\r\n        at android.view.ViewGroup.dispatchTransformedTouchEvent(ViewGroup.java:3857)\r\n        at android.view.ViewGroup.dispatchTouchEvent(ViewGroup.java:3535)\r\n        at android.view.ViewGroup.dispatchTransformedTouchEvent(ViewGroup.java:3863)\r\n        at android.view.ViewGroup.dispatchTouchEvent(ViewGroup.java:3551)\r\n        at android.view.ViewGroup.dispatchTransformedTouchEvent(ViewGroup.java:3863)\r\n        at android.view.ViewGroup.dispatchTouchEvent(ViewGroup.java:3551)\r\n        at android.view.ViewGroup.dispatchTransformedTouchEvent(ViewGroup.java:3863)\r\n        at android.view.ViewGroup.dispatchTouchEvent(ViewGroup.java:3551)\r\n        at android.widget.PopupWindow$PopupDecorView.dispatchTouchEvent(PopupWindow.java:2850)\r\n        at android.view.View.dispatchPointerEvent(View.java:14644)\r\n        at android.view.ViewRootImpl$ViewPostImeInputStage.processPointerEvent(ViewRootImpl.java:6486)\r\n        at android.view.ViewRootImpl$ViewPostImeInputStage.onProcess(ViewRootImpl.java:6273)\r\n        at android.view.ViewRootImpl$InputStage.deliver(ViewRootImpl.java:5711)\r\n        at android.view.ViewRootImpl$InputStage.onDeliverToNext(ViewRootImpl.java:5764)\r\n        at android.view.ViewRootImpl$InputStage.forward(ViewRootImpl.java:5730)\r\n        at android.view.ViewRootImpl$AsyncInputStage.forward(ViewRootImpl.java:5886)\r\n        at android.view.ViewRootImpl$InputStage.apply(ViewRootImpl.java:5738)\r\n        at android.view.ViewRootImpl$AsyncInputStage.apply(ViewRootImpl.java:5943)\r\n        at android.view.ViewRootImpl$InputStage.deliver(ViewRootImpl.java:5711)\r\n        at android.view.ViewRootImpl$InputStage.onDeliverToNext(ViewRootImpl.java:5764)\r\n        at android.view.ViewRootImpl$InputStage.forward(ViewRootImpl.java:5730)\r\n        at android.view.ViewRootImpl$InputStage.apply(ViewRootImpl.java:5738)\r\n        at android.view.ViewRootImpl$InputStage.deliver(ViewRootImpl.java:5711)\r\n        at android.view.ViewRootImpl.deliverInputEvent(ViewRootImpl.java:8870)\r\n        at android.view.ViewRootImpl.doProcessInputEvents(ViewRootImpl.java:8731)\r\n        at android.view.ViewRootImpl.enqueueInputEvent(ViewRootImpl.java:8684)\r\n        at android.view.ViewRootImpl$WindowInputEventReceiver.onInputEvent(ViewRootImpl.java:9006)\r\n        at android.view.InputEventReceiver.dispatchInputEvent(InputEventReceiver.java:194)\r\n        at android.os.MessageQueue.nativePollOnce(Native Method)\r\n        at android.os.MessageQueue.next(MessageQueue.java:336)\r\n        at android.os.Looper.loop(Looper.java:197)\r\n        at android.app.ActivityThread.main(ActivityThread.java:7807)\r\n        at java.lang.reflect.Method.invoke(Native Method)\r\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:493)\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1047)\r\n[samsung-sm_m305f-52001052ca7b863f]: D/AndroidRuntime: Shutting down VM\r\n[samsung-sm_m305f-52001052ca7b863f]: E/AndroidRuntime: FATAL EXCEPTION: main\r\n    Process: com.example.baatcheet, PID: 28114\r\n    java.lang.NullPointerException: Can&#39;t pass null for argument &#39;pathString&#39; in child()\r\n        at com.google.firebase.database.DatabaseReference.child(DatabaseReference.java:96)\r\n        at com.example.baatcheet.Adapters.MessagesAdapter.lambda$onBindViewHolder$0$com-example-baatcheet-Adapters-MessagesAdapter(MessagesAdapter.java:104)\r\n        at com.example.baatcheet.Adapters.MessagesAdapter$$ExternalSyntheticLambda0.invoke(Unknown Source:10)\r\n        at com.github.pgreze.reactions.ReactionViewGroup.onTouchEvent(ReactionViewGroup.kt:247)\r\n        at android.view.View.dispatchTouchEvent(View.java:14376)\r\n        at android.view.ViewGroup.dispatchTransformedTouchEvent(ViewGroup.java:3857)\r\n        at android.view.ViewGroup.dispatchTouchEvent(ViewGroup.java:3535)\r\n        at android.view.ViewGroup.dispatchTransformedTouchEvent(ViewGroup.java:3863)\r\n        at android.view.ViewGroup.dispatchTouchEvent(ViewGroup.java:3551)\r\n        at android.view.ViewGroup.dispatchTransformedTouchEvent(ViewGroup.java:3863)\r\n        at android.view.ViewGroup.dispatchTouchEvent(ViewGroup.java:3551)\r\n        at android.view.ViewGroup.dispatchTransformedTouchEvent(ViewGroup.java:3863)\r\n        at android.view.ViewGroup.dispatchTouchEvent(ViewGroup.java:3551)\r\n        at android.widget.PopupWindow$PopupDecorView.dispatchTouchEvent(PopupWindow.java:2850)\r\n        at android.view.View.dispatchPointerEvent(View.java:14644)\r\n        at android.view.ViewRootImpl$ViewPostImeInputStage.processPointerEvent(ViewRootImpl.java:6486)\r\n        at android.view.ViewRootImpl$ViewPostImeInputStage.onProcess(ViewRootImpl.java:6273)\r\n        at android.view.ViewRootImpl$InputStage.deliver(ViewRootImpl.java:5711)\r\n        at android.view.ViewRootImpl$InputStage.onDeliverToNext(ViewRootImpl.java:5764)\r\n        at android.view.ViewRootImpl$InputStage.forward(ViewRootImpl.java:5730)\r\n        at android.view.ViewRootImpl$AsyncInputStage.forward(ViewRootImpl.java:5886)\r\n        at android.view.ViewRootImpl$InputStage.apply(ViewRootImpl.java:5738)\r\n        at android.view.ViewRootImpl$AsyncInputStage.apply(ViewRootImpl.java:5943)\r\n        at android.view.ViewRootImpl$InputStage.deliver(ViewRootImpl.java:5711)\r\n        at android.view.ViewRootImpl$InputStage.onDeliverToNext(ViewRootImpl.java:5764)\r\n        at android.view.ViewRootImpl$InputStage.forward(ViewRootImpl.java:5730)\r\n        at android.view.ViewRootImpl$InputStage.apply(ViewRootImpl.java:5738)\r\n        at android.view.ViewRootImpl$InputStage.deliver(ViewRootImpl.java:5711)\r\n        at android.view.ViewRootImpl.deliverInputEvent(ViewRootImpl.java:8870)\r\n        at android.view.ViewRootImpl.doProcessInputEvents(ViewRootImpl.java:8731)\r\n        at android.view.ViewRootImpl.enqueueInputEvent(ViewRootImpl.java:8684)\r\n        at android.view.ViewRootImpl$WindowInputEventReceiver.onInputEvent(ViewRootImpl.java:9006)\r\n        at android.view.InputEventReceiver.dispatchInputEvent(InputEventReceiver.java:194)\r\n        at android.os.MessageQueue.nativePollOnce(Native Method)\r\n        at android.os.MessageQueue.next(MessageQueue.java:336)\r\n        at android.os.Looper.loop(Looper.java:197)\r\n        at android.app.ActivityThread.main(ActivityThread.java:7807)\r\n        at java.lang.reflect.Method.invoke(Native Method)\r\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:493)\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1047)\r\n\r\n```","title":"my chat application crashes when ever in try to react on a message","body":"<p>When ever I try to send messages from device to device the app works fine a\n,But when ever i try to react in a message the app crashes and returns back to main activity page, i don't know what is causing the error</p>\n<p><strong>here is the messageAdapter.java code :</strong></p>\n<pre><code>package com.example.baatcheet.Adapters;\n\n\nimport com.bumptech.glide.Glide;\nimport com.example.baatcheet.Models.Message;\nimport android.content.Context;\nimport android.view.LayoutInflater;\nimport android.view.MotionEvent;\nimport android.view.View;\nimport android.view.ViewGroup;\n\nimport androidx.annotation.NonNull;\nimport androidx.recyclerview.widget.RecyclerView;\n\n\nimport com.example.baatcheet.R;\nimport com.example.baatcheet.databinding.ItemReceiveBinding;\nimport com.example.baatcheet.databinding.ItemSentBinding;\nimport com.github.pgreze.reactions.ReactionPopup;\nimport com.github.pgreze.reactions.ReactionsConfig;\nimport com.github.pgreze.reactions.ReactionsConfigBuilder;\nimport com.google.firebase.auth.FirebaseAuth;\nimport com.google.firebase.database.FirebaseDatabase;\n\n\nimport java.util.ArrayList;\n\n\npublic class MessagesAdapter extends RecyclerView.Adapter {\n\n    Context context;\n    ArrayList&lt;Message&gt; messages;\n    final int ITEM_SENT  = 1;\n    final int ITEM_RECEIVE = 2;\n\n    String senderRoom;\n    String receiverRoom;\n\n    public MessagesAdapter(Context context , ArrayList&lt;Message&gt; messages , String senderRoom , String receiverRoom){\n        this.context = context;\n        this.messages = messages;\n        this.senderRoom = senderRoom;\n        this.receiverRoom = receiverRoom;\n\n\n    }\n    @NonNull\n    @Override\n    public RecyclerView.ViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n        if(viewType == ITEM_SENT){\n            View view = LayoutInflater.from(context).inflate(R.layout.item_sent, parent, false);\n            return  new SentViewHolder(view);\n        }else{\n            View view = LayoutInflater.from(context).inflate(R.layout.item_receive, parent, false);\n            return  new ReceiverViewHolder(view);\n        }\n    }\n\n    @Override\n    public int getItemViewType(int position) {\n        Message message = messages.get(position);\n        if(FirebaseAuth.getInstance().getUid().equals(message.getSenderId())){\n            return ITEM_SENT;\n        }else{\n            return ITEM_RECEIVE;\n        }\n    }\n\n    @Override\n    public void onBindViewHolder(@NonNull RecyclerView.ViewHolder holder, int position) {\n        Message message = messages.get(position);\n\n        int[] reactions =  new int[]{\n                R.drawable.ic_fb_like,\n                R.drawable.ic_fb_love,\n                R.drawable.ic_fb_laugh,\n                R.drawable.ic_fb_wow,\n                R.drawable.ic_fb_sad,\n                R.drawable.ic_fb_angry\n        };\n        ReactionsConfig config = new ReactionsConfigBuilder(context)\n                .withReactions(reactions)\n                .build();\n\n        ReactionPopup popup = new ReactionPopup(context, config, (pos) -&gt; {\n\n            if(holder.getClass() == SentViewHolder.class){\n                SentViewHolder viewHolder = (SentViewHolder)holder;\n                if(pos &gt;= 0 &amp;&amp; pos &lt;= 6) {\n                    viewHolder.binding.feeling.setImageResource(reactions[pos]);\n                    viewHolder.binding.feeling.setVisibility(View.VISIBLE);\n                }\n            }else {\n                ReceiverViewHolder viewHolder = (ReceiverViewHolder) holder;\n                if (pos &gt;= 0 &amp;&amp; pos &lt;= 6) {\n                    viewHolder.binding.feeling.setImageResource(reactions[pos]);\n                    viewHolder.binding.feeling.setVisibility(View.VISIBLE);\n                }\n            }\n\n            message.setFeeling(pos);\n            FirebaseDatabase.getInstance().getReference()\n                    .child(&quot;chats&quot;)\n                    .child(senderRoom)\n                    .child(&quot;messages&quot;)\n                    .child(message.getMessageId())\n                    .setValue(message);\n\n            FirebaseDatabase.getInstance().getReference()\n                    .child(&quot;chats&quot;)\n                    .child(receiverRoom)\n                    .child(&quot;messages&quot;)\n                    .child(message.getMessageId())\n                    .setValue(message);\n\n\n\n            return true; // true is closing popup, false is requesting a new selection\n        });\n\n        if(holder.getClass() == SentViewHolder.class){\n            SentViewHolder viewHolder = (SentViewHolder)holder;\n\n\n\n                    viewHolder.binding.message.setText(message.getMessage());\n\n                    if(message.getFeeling() &gt;= 0){\n//                        message.setFeeling(reactions[(int)message.getFeeling()]);\n                        viewHolder.binding.feeling.setImageResource(reactions[message.getFeeling()]);\n                        viewHolder.binding.feeling.setVisibility(View.VISIBLE);\n                    }\n                    else{\n                        viewHolder.binding.feeling.setVisibility(View.GONE);\n                    }\n                    viewHolder.binding.message.setOnTouchListener(new View.OnTouchListener() {\n                        @Override\n                        public boolean onTouch(View v, MotionEvent event) {\n                            popup.onTouch(v,event);\n                            return false;\n                        }\n                    });\n        }else{\n            ReceiverViewHolder viewHolder = (ReceiverViewHolder) holder;\n            viewHolder.binding.message.setText(message.getMessage());\n\n            if(message.getFeeling() &gt;= 0){\n//                message.setFeeling(reactions[(int)message.getFeeling()]);\n                viewHolder.binding.feeling.setImageResource(reactions[message.getFeeling()]);\n                viewHolder.binding.feeling.setVisibility(View.VISIBLE);\n\n            }\n            else{\n                viewHolder.binding.feeling.setVisibility(View.GONE);\n            }\n\n            viewHolder.binding.message.setOnTouchListener(new View.OnTouchListener() {\n                @Override\n                public boolean onTouch(View v, MotionEvent event) {\n                    popup.onTouch(v,event);\n                    return false;\n                }\n            });\n\n        }\n    }\n\n    @Override\n    public int getItemCount() {\n\n        return messages.size();\n    }\n\n    public class SentViewHolder extends RecyclerView.ViewHolder{\n\n        ItemSentBinding binding;\n        public SentViewHolder(@NonNull View itemView) {\n            super(itemView);\n            binding  = ItemSentBinding.bind(itemView);\n        }\n\n    }\n    public class ReceiverViewHolder extends RecyclerView.ViewHolder{\n        ItemReceiveBinding binding;\n        public ReceiverViewHolder(@NonNull View itemView) {\n            super(itemView);\n            binding = ItemReceiveBinding.bind(itemView);\n        }\n    }\n}\n\n</code></pre>\n<p><strong>Here is the getter and setter class for above adapter class ,\nmessgaes.java :</strong></p>\n<pre><code>package com.example.baatcheet.Models;\n\npublic class Message {\n    private String messageId , message , senderId;\n    private long timeStamp;\n    private int feeling = -1;\n    public String imageUrl;\n\n\n    public Message() {\n\n    }\n\n    public Message(String message, String senderId, long timeStamp) {\n        this.message = message;\n        this.senderId = senderId;\n        this.timeStamp = timeStamp;\n    }\n\n    public void setMessageId(String messageId) {\n        this.messageId = messageId;\n    }\n\n    public void setMessage(String message) {\n        this.message = message;\n    }\n\n    public void setSenderId(String senderId) {\n        this.senderId = senderId;\n    }\n\n    public void setTimeStamp(long timeStamp) {\n        this.timeStamp = timeStamp;\n    }\n\n    public void setFeeling(int feeling) {\n        this.feeling = feeling;\n\n    }\n\n    public String getImageUrl() {\n        return imageUrl;\n    }\n\n    public void setImageUrl(String imageUrl) {\n        this.imageUrl = imageUrl;\n    }\n\n    public String getMessageId() {\n        return messageId;\n    }\n\n    public String getMessage() {\n        return message;\n    }\n\n    public String getSenderId() {\n        return senderId;\n    }\n\n    public long getTimeStamp() {\n        return timeStamp;\n    }\n\n    public int getFeeling() {\n        return feeling;\n    }\n\n    \n}\n\n</code></pre>\n<p>I dont actually know where my app is getting crashed</p>\n<p><strong>the logcat shows the following error when ever i try to react on a message</strong></p>\n<pre><code>[samsung-sm_m305f-52001052ca7b863f]: E/InputEventReceiver: Exception dispatching input event.\n[samsung-sm_m305f-52001052ca7b863f]: E/MessageQueue-JNI: Exception in MessageQueue callback: handleReceiveCallback\n[samsung-sm_m305f-52001052ca7b863f]: E/MessageQueue-JNI: java.lang.NullPointerException: Can't pass null for argument 'pathString' in child()\n        at com.google.firebase.database.DatabaseReference.child(DatabaseReference.java:96)\n        at com.example.baatcheet.Adapters.MessagesAdapter.lambda$onBindViewHolder$0$com-example-baatcheet-Adapters-MessagesAdapter(MessagesAdapter.java:104)\n        at com.example.baatcheet.Adapters.MessagesAdapter$$ExternalSyntheticLambda0.invoke(Unknown Source:10)\n        at com.github.pgreze.reactions.ReactionViewGroup.onTouchEvent(ReactionViewGroup.kt:247)\n        at android.view.View.dispatchTouchEvent(View.java:14376)\n        at android.view.ViewGroup.dispatchTransformedTouchEvent(ViewGroup.java:3857)\n        at android.view.ViewGroup.dispatchTouchEvent(ViewGroup.java:3535)\n        at android.view.ViewGroup.dispatchTransformedTouchEvent(ViewGroup.java:3863)\n        at android.view.ViewGroup.dispatchTouchEvent(ViewGroup.java:3551)\n        at android.view.ViewGroup.dispatchTransformedTouchEvent(ViewGroup.java:3863)\n        at android.view.ViewGroup.dispatchTouchEvent(ViewGroup.java:3551)\n        at android.view.ViewGroup.dispatchTransformedTouchEvent(ViewGroup.java:3863)\n        at android.view.ViewGroup.dispatchTouchEvent(ViewGroup.java:3551)\n        at android.widget.PopupWindow$PopupDecorView.dispatchTouchEvent(PopupWindow.java:2850)\n        at android.view.View.dispatchPointerEvent(View.java:14644)\n        at android.view.ViewRootImpl$ViewPostImeInputStage.processPointerEvent(ViewRootImpl.java:6486)\n        at android.view.ViewRootImpl$ViewPostImeInputStage.onProcess(ViewRootImpl.java:6273)\n        at android.view.ViewRootImpl$InputStage.deliver(ViewRootImpl.java:5711)\n        at android.view.ViewRootImpl$InputStage.onDeliverToNext(ViewRootImpl.java:5764)\n        at android.view.ViewRootImpl$InputStage.forward(ViewRootImpl.java:5730)\n        at android.view.ViewRootImpl$AsyncInputStage.forward(ViewRootImpl.java:5886)\n        at android.view.ViewRootImpl$InputStage.apply(ViewRootImpl.java:5738)\n        at android.view.ViewRootImpl$AsyncInputStage.apply(ViewRootImpl.java:5943)\n        at android.view.ViewRootImpl$InputStage.deliver(ViewRootImpl.java:5711)\n        at android.view.ViewRootImpl$InputStage.onDeliverToNext(ViewRootImpl.java:5764)\n        at android.view.ViewRootImpl$InputStage.forward(ViewRootImpl.java:5730)\n        at android.view.ViewRootImpl$InputStage.apply(ViewRootImpl.java:5738)\n        at android.view.ViewRootImpl$InputStage.deliver(ViewRootImpl.java:5711)\n        at android.view.ViewRootImpl.deliverInputEvent(ViewRootImpl.java:8870)\n        at android.view.ViewRootImpl.doProcessInputEvents(ViewRootImpl.java:8731)\n        at android.view.ViewRootImpl.enqueueInputEvent(ViewRootImpl.java:8684)\n        at android.view.ViewRootImpl$WindowInputEventReceiver.onInputEvent(ViewRootImpl.java:9006)\n        at android.view.InputEventReceiver.dispatchInputEvent(InputEventReceiver.java:194)\n        at android.os.MessageQueue.nativePollOnce(Native Method)\n        at android.os.MessageQueue.next(MessageQueue.java:336)\n        at android.os.Looper.loop(Looper.java:197)\n        at android.app.ActivityThread.main(ActivityThread.java:7807)\n        at java.lang.reflect.Method.invoke(Native Method)\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:493)\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1047)\n[samsung-sm_m305f-52001052ca7b863f]: D/AndroidRuntime: Shutting down VM\n[samsung-sm_m305f-52001052ca7b863f]: E/AndroidRuntime: FATAL EXCEPTION: main\n    Process: com.example.baatcheet, PID: 28114\n    java.lang.NullPointerException: Can't pass null for argument 'pathString' in child()\n        at com.google.firebase.database.DatabaseReference.child(DatabaseReference.java:96)\n        at com.example.baatcheet.Adapters.MessagesAdapter.lambda$onBindViewHolder$0$com-example-baatcheet-Adapters-MessagesAdapter(MessagesAdapter.java:104)\n        at com.example.baatcheet.Adapters.MessagesAdapter$$ExternalSyntheticLambda0.invoke(Unknown Source:10)\n        at com.github.pgreze.reactions.ReactionViewGroup.onTouchEvent(ReactionViewGroup.kt:247)\n        at android.view.View.dispatchTouchEvent(View.java:14376)\n        at android.view.ViewGroup.dispatchTransformedTouchEvent(ViewGroup.java:3857)\n        at android.view.ViewGroup.dispatchTouchEvent(ViewGroup.java:3535)\n        at android.view.ViewGroup.dispatchTransformedTouchEvent(ViewGroup.java:3863)\n        at android.view.ViewGroup.dispatchTouchEvent(ViewGroup.java:3551)\n        at android.view.ViewGroup.dispatchTransformedTouchEvent(ViewGroup.java:3863)\n        at android.view.ViewGroup.dispatchTouchEvent(ViewGroup.java:3551)\n        at android.view.ViewGroup.dispatchTransformedTouchEvent(ViewGroup.java:3863)\n        at android.view.ViewGroup.dispatchTouchEvent(ViewGroup.java:3551)\n        at android.widget.PopupWindow$PopupDecorView.dispatchTouchEvent(PopupWindow.java:2850)\n        at android.view.View.dispatchPointerEvent(View.java:14644)\n        at android.view.ViewRootImpl$ViewPostImeInputStage.processPointerEvent(ViewRootImpl.java:6486)\n        at android.view.ViewRootImpl$ViewPostImeInputStage.onProcess(ViewRootImpl.java:6273)\n        at android.view.ViewRootImpl$InputStage.deliver(ViewRootImpl.java:5711)\n        at android.view.ViewRootImpl$InputStage.onDeliverToNext(ViewRootImpl.java:5764)\n        at android.view.ViewRootImpl$InputStage.forward(ViewRootImpl.java:5730)\n        at android.view.ViewRootImpl$AsyncInputStage.forward(ViewRootImpl.java:5886)\n        at android.view.ViewRootImpl$InputStage.apply(ViewRootImpl.java:5738)\n        at android.view.ViewRootImpl$AsyncInputStage.apply(ViewRootImpl.java:5943)\n        at android.view.ViewRootImpl$InputStage.deliver(ViewRootImpl.java:5711)\n        at android.view.ViewRootImpl$InputStage.onDeliverToNext(ViewRootImpl.java:5764)\n        at android.view.ViewRootImpl$InputStage.forward(ViewRootImpl.java:5730)\n        at android.view.ViewRootImpl$InputStage.apply(ViewRootImpl.java:5738)\n        at android.view.ViewRootImpl$InputStage.deliver(ViewRootImpl.java:5711)\n        at android.view.ViewRootImpl.deliverInputEvent(ViewRootImpl.java:8870)\n        at android.view.ViewRootImpl.doProcessInputEvents(ViewRootImpl.java:8731)\n        at android.view.ViewRootImpl.enqueueInputEvent(ViewRootImpl.java:8684)\n        at android.view.ViewRootImpl$WindowInputEventReceiver.onInputEvent(ViewRootImpl.java:9006)\n        at android.view.InputEventReceiver.dispatchInputEvent(InputEventReceiver.java:194)\n        at android.os.MessageQueue.nativePollOnce(Native Method)\n        at android.os.MessageQueue.next(MessageQueue.java:336)\n        at android.os.Looper.loop(Looper.java:197)\n        at android.app.ActivityThread.main(ActivityThread.java:7807)\n        at java.lang.reflect.Method.invoke(Native Method)\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:493)\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1047)\n\n</code></pre>\n"},{"tags":["java","swing","jframe"],"comments":[{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":0,"creation_date":1611817345,"post_id":65932326,"comment_id":116573214,"body_markdown":"Very nice question, especially because you had to rely on Google Translate!","body":"Very nice question, especially because you had to rely on Google Translate!"},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":1,"creation_date":1611817731,"post_id":65932326,"comment_id":116573332,"body_markdown":"I can&#39;t read Korean but it looks like you are setting the exact, same font in each call to method `setFont`. Also, are you sure that there is a `굴림` font on your computer? Names of fonts are usually in English even if they are used to display non-English characters.","body":"I can&#39;t read Korean but it looks like you are setting the exact, same font in each call to method <code>setFont</code>. Also, are you sure that there is a <code>굴림</code> font on your computer? Names of fonts are usually in English even if they are used to display non-English characters."},{"owner":{"account_id":18890393,"reputation":43,"user_id":13780837,"display_name":"usbin"},"score":0,"creation_date":1611818382,"post_id":65932326,"comment_id":116573551,"body_markdown":"@Abra Wow... I&#39;m an idiot. This seems to have happened because the font I set did not support English. Thank you. It works well as a result of changing to an English font. Thank you very much. I wasted an hour :(","body":"@Abra Wow... I&#39;m an idiot. This seems to have happened because the font I set did not support English. Thank you. It works well as a result of changing to an English font. Thank you very much. I wasted an hour :("},{"owner":{"account_id":18890393,"reputation":43,"user_id":13780837,"display_name":"usbin"},"score":0,"creation_date":1611819185,"post_id":65932326,"comment_id":116573836,"body_markdown":"+) In addition, there is a phenomenon that the font is subtly changed even if the English font is used, which seems to be because the alpha value is 255. I got it down to 254 and it&#39;s resolved.","body":"+) In addition, there is a phenomenon that the font is subtly changed even if the English font is used, which seems to be because the alpha value is 255. I got it down to 254 and it&#39;s resolved."}],"owner":{"account_id":18890393,"reputation":43,"user_id":13780837,"display_name":"usbin"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":85,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1653122408,"creation_date":1611816995,"question_id":65932326,"body_markdown":"I&#39;m student studying java swing. And I tried to programming simple program.\r\nWhat I want is a notepad program that toggles between transparent and opaque when you press &lt;kbd&gt;Ctrl&lt;/kbd&gt;+&lt;kbd&gt;Alt&lt;/kbd&gt;.\r\nNow press Ctrl + Alt to toggle between transparent and opaque. However, the font in transparent mode also changes. I used the SetFont () function to force the font to be set, but it only applies in opaque mode and the setFont function does not work in transparent mode.\r\n\r\nIf I remove setBackground () from the toggleVisible () function, the font will not change either. My guess seems to change the setBackground font. Anyone who knows how to make a frame transparent without using setBackground? Or I would appreciate it if you could help me solve the problem. \r\n\r\n\r\n```\r\n\r\npackage ffmemo;\r\n\r\nimport java.awt.Color;\r\nimport java.awt.Font;\r\nimport java.awt.GraphicsDevice;\r\nimport static java.awt.GraphicsDevice.WindowTranslucency.TRANSLUCENT;\r\nimport java.awt.GraphicsEnvironment;\r\nimport java.awt.event.KeyAdapter;\r\nimport java.awt.event.KeyEvent;\r\nimport java.util.BitSet;\r\nimport javax.swing.*;\r\nimport javax.swing.event.DocumentEvent;\r\nimport javax.swing.event.DocumentListener;\r\n\r\n\r\npublic class FFMemo {\r\n    public static void main(String[] args){\r\n        new FFMemoFrame();\r\n    }\r\n}\r\nclass FFMemoFrame extends JFrame {\r\n    BitSet keyBitSet = new BitSet(2); //0: ctrl key, 1: alt key\r\n    boolean visible = true;\r\n    JTextArea textArea;\r\n    JScrollPane scrollPane;\r\n    Color color;\r\n    \r\n    FFMemoFrame(){\r\n        //PARAM: window title\r\n        super(&quot;FFMemo&quot;);\r\n        setSize(500, 200);\r\n        setLocation(100, 100);\r\n        setUndecorated(true);\r\n        getRootPane().setWindowDecorationStyle(JRootPane.FRAME);\r\n        \r\n        setVisible(true);\r\n        setDefaultCloseOperation(EXIT_ON_CLOSE);\r\n        color = getBackground();\r\n        textArea = new JTextArea();\r\n        textArea.getDocument().addDocumentListener(new DocumentListener(){\r\n            @Override\r\n            public void changedUpdate(DocumentEvent e){\r\n                warn();\r\n            }\r\n\r\n            @Override\r\n            public void insertUpdate(DocumentEvent e) {\r\n                warn();\r\n            }\r\n\r\n            @Override\r\n            public void removeUpdate(DocumentEvent e) {\r\n                warn();\r\n            }\r\n            public void warn(){\r\n                //System.out.println(textArea.getText());\r\n                repaint();\r\n            }\r\n        });\r\n        \r\n        textArea.append(&quot;hello, world!&quot;);\r\n        textArea.setLineWrap(true);\r\n        textArea.setVisible(true);\r\n        textArea.setFont(new Font(&quot;굴림&quot;, Font.PLAIN, 20));\r\n        textArea.addKeyListener(new KeyAdapter(){\r\n\r\n            public void keyPressed(KeyEvent e){\r\n                String s = e.getKeyText(e.getKeyCode());\r\n                if(s.equals(&quot;Ctrl&quot;)) keyBitSet.set(0, true);\r\n                else if(s.equals(&quot;Alt&quot;)) keyBitSet.set(1, true);\r\n                if(keyBitSet.get(0) &amp;&amp; keyBitSet.get(1)){\r\n                    toggleVisible();\r\n                }\r\n                \r\n\r\n            }\r\n            public void keyReleased(KeyEvent e){\r\n                String s = e.getKeyText(e.getKeyCode());\r\n                if(s.equals(&quot;Ctrl&quot;)) keyBitSet.set(0, false);\r\n                else if(s.equals(&quot;Alt&quot;)) keyBitSet.set(1, false);\r\n                \r\n            }\r\n        });\r\n        scrollPane = new JScrollPane(textArea);\r\n        scrollPane.setHorizontalScrollBarPolicy(JScrollPane.HORIZONTAL_SCROLLBAR_NEVER);\r\n        scrollPane.setVerticalScrollBarPolicy(JScrollPane.VERTICAL_SCROLLBAR_AS_NEEDED);\r\n        scrollPane.setVisible(true);\r\n        \r\n        add(scrollPane);\r\n        \r\n        revalidate();\r\n        \r\n    }\r\n    private void toggleVisible(){\r\n        \r\n        if(visible){\r\n            setBackground(new Color(255, 255, 255, 1));\r\n            textArea.setOpaque(false);\r\n            scrollPane.getViewport().setOpaque(false);\r\n            scrollPane.setOpaque(false);\r\n            textArea.setFont(new Font(&quot;굴림&quot;, Font.PLAIN, 20));\r\n            \r\n        }\r\n        else{\r\n            setBackground(new Color(255, 255, 255, 255));\r\n            textArea.setOpaque(true);\r\n            scrollPane.getViewport().setOpaque(true);\r\n            scrollPane.setOpaque(true);\r\n            textArea.setFont(new Font(&quot;굴림&quot;, Font.PLAIN, 20));\r\n            \r\n        }\r\n        repaint();\r\n        visible = !visible;\r\n    }\r\n}\r\n\r\n```\r\n+)\r\nThere are runtime screenshot. &quot;|&quot; at second picture is a cursor which moved right as far as possible. and I don&#39;t understand why I can&#39;t move cursor to right more. \r\nSomething must be wrong... but I don&#39;t know what it is.\r\n[first][1]\r\n[second][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/nndnd.png\r\n  [2]: https://i.stack.imgur.com/uGQcW.png","title":"How to make JFrame transparent while components are visible","body":"<p>I'm student studying java swing. And I tried to programming simple program.\nWhat I want is a notepad program that toggles between transparent and opaque when you press <kbd>Ctrl</kbd>+<kbd>Alt</kbd>.\nNow press Ctrl + Alt to toggle between transparent and opaque. However, the font in transparent mode also changes. I used the SetFont () function to force the font to be set, but it only applies in opaque mode and the setFont function does not work in transparent mode.</p>\n<p>If I remove setBackground () from the toggleVisible () function, the font will not change either. My guess seems to change the setBackground font. Anyone who knows how to make a frame transparent without using setBackground? Or I would appreciate it if you could help me solve the problem.</p>\n<pre><code>\npackage ffmemo;\n\nimport java.awt.Color;\nimport java.awt.Font;\nimport java.awt.GraphicsDevice;\nimport static java.awt.GraphicsDevice.WindowTranslucency.TRANSLUCENT;\nimport java.awt.GraphicsEnvironment;\nimport java.awt.event.KeyAdapter;\nimport java.awt.event.KeyEvent;\nimport java.util.BitSet;\nimport javax.swing.*;\nimport javax.swing.event.DocumentEvent;\nimport javax.swing.event.DocumentListener;\n\n\npublic class FFMemo {\n    public static void main(String[] args){\n        new FFMemoFrame();\n    }\n}\nclass FFMemoFrame extends JFrame {\n    BitSet keyBitSet = new BitSet(2); //0: ctrl key, 1: alt key\n    boolean visible = true;\n    JTextArea textArea;\n    JScrollPane scrollPane;\n    Color color;\n    \n    FFMemoFrame(){\n        //PARAM: window title\n        super(&quot;FFMemo&quot;);\n        setSize(500, 200);\n        setLocation(100, 100);\n        setUndecorated(true);\n        getRootPane().setWindowDecorationStyle(JRootPane.FRAME);\n        \n        setVisible(true);\n        setDefaultCloseOperation(EXIT_ON_CLOSE);\n        color = getBackground();\n        textArea = new JTextArea();\n        textArea.getDocument().addDocumentListener(new DocumentListener(){\n            @Override\n            public void changedUpdate(DocumentEvent e){\n                warn();\n            }\n\n            @Override\n            public void insertUpdate(DocumentEvent e) {\n                warn();\n            }\n\n            @Override\n            public void removeUpdate(DocumentEvent e) {\n                warn();\n            }\n            public void warn(){\n                //System.out.println(textArea.getText());\n                repaint();\n            }\n        });\n        \n        textArea.append(&quot;hello, world!&quot;);\n        textArea.setLineWrap(true);\n        textArea.setVisible(true);\n        textArea.setFont(new Font(&quot;굴림&quot;, Font.PLAIN, 20));\n        textArea.addKeyListener(new KeyAdapter(){\n\n            public void keyPressed(KeyEvent e){\n                String s = e.getKeyText(e.getKeyCode());\n                if(s.equals(&quot;Ctrl&quot;)) keyBitSet.set(0, true);\n                else if(s.equals(&quot;Alt&quot;)) keyBitSet.set(1, true);\n                if(keyBitSet.get(0) &amp;&amp; keyBitSet.get(1)){\n                    toggleVisible();\n                }\n                \n\n            }\n            public void keyReleased(KeyEvent e){\n                String s = e.getKeyText(e.getKeyCode());\n                if(s.equals(&quot;Ctrl&quot;)) keyBitSet.set(0, false);\n                else if(s.equals(&quot;Alt&quot;)) keyBitSet.set(1, false);\n                \n            }\n        });\n        scrollPane = new JScrollPane(textArea);\n        scrollPane.setHorizontalScrollBarPolicy(JScrollPane.HORIZONTAL_SCROLLBAR_NEVER);\n        scrollPane.setVerticalScrollBarPolicy(JScrollPane.VERTICAL_SCROLLBAR_AS_NEEDED);\n        scrollPane.setVisible(true);\n        \n        add(scrollPane);\n        \n        revalidate();\n        \n    }\n    private void toggleVisible(){\n        \n        if(visible){\n            setBackground(new Color(255, 255, 255, 1));\n            textArea.setOpaque(false);\n            scrollPane.getViewport().setOpaque(false);\n            scrollPane.setOpaque(false);\n            textArea.setFont(new Font(&quot;굴림&quot;, Font.PLAIN, 20));\n            \n        }\n        else{\n            setBackground(new Color(255, 255, 255, 255));\n            textArea.setOpaque(true);\n            scrollPane.getViewport().setOpaque(true);\n            scrollPane.setOpaque(true);\n            textArea.setFont(new Font(&quot;굴림&quot;, Font.PLAIN, 20));\n            \n        }\n        repaint();\n        visible = !visible;\n    }\n}\n\n</code></pre>\n<p>+)\nThere are runtime screenshot. &quot;|&quot; at second picture is a cursor which moved right as far as possible. and I don't understand why I can't move cursor to right more.\nSomething must be wrong... but I don't know what it is.\n<a href=\"https://i.stack.imgur.com/nndnd.png\" rel=\"nofollow noreferrer\">first</a>\n<a href=\"https://i.stack.imgur.com/uGQcW.png\" rel=\"nofollow noreferrer\">second</a></p>\n"},{"tags":["java","eclipse","string"],"comments":[{"owner":{"account_id":230677,"reputation":6016,"user_id":494428,"accept_rate":80,"display_name":"hage"},"score":2,"creation_date":1339159456,"post_id":10948983,"comment_id":14289584,"body_markdown":"I can confirm this. Eclipse for Java EE Indigo. For 1448 or higher there is &quot;no&quot; output, i.e. seem there are whitespaces which I can mark with my mouse. But it seems to work with `System.out.println`","body":"I can confirm this. Eclipse for Java EE Indigo. For 1448 or higher there is &quot;no&quot; output, i.e. seem there are whitespaces which I can mark with my mouse. But it seems to work with <code>System.out.println</code>"},{"owner":{"account_id":552427,"reputation":11380,"user_id":917548,"display_name":"Roger Lindsj&#246;"},"score":0,"creation_date":1339159520,"post_id":10948983,"comment_id":14289622,"body_markdown":"Outputs fine in my eclipse (Indigo Service Release 2 on OSX 10.7.4), even for larger values (10000)","body":"Outputs fine in my eclipse (Indigo Service Release 2 on OSX 10.7.4), even for larger values (10000)"},{"owner":{"account_id":294022,"reputation":115930,"user_id":597657,"accept_rate":99,"display_name":"Eng.Fouad"},"score":2,"creation_date":1339159637,"post_id":10948983,"comment_id":14289668,"body_markdown":"https://bugs.eclipse.org/bugs/show_bug.cgi?id=87299","body":"<a href=\"https://bugs.eclipse.org/bugs/show_bug.cgi?id=87299\" rel=\"nofollow noreferrer\">bugs.eclipse.org/bugs/show_bug.cgi?id=87299</a>"}],"answers":[{"tags":[],"owner":{"account_id":473751,"reputation":19104,"user_id":883033,"accept_rate":63,"display_name":"Chandra Sekhar"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1339161228,"creation_date":1339159391,"answer_id":10949090,"question_id":10948983,"body_markdown":"I tested your code in my copy of Eclipse Helio IDE. It works for smaller number as per your said. But in case of larger number  it is actually printing in the consol but the ouput is not displaying. You can see it, if you try to copy and paste it in the coding editor or some other editor like notepad.\r\n\r\nIf you use **println()** it will show the output. Instead you can also use **print(i+ &quot;\\t&quot;)** to see the output.","title":"System.out.print() doesn&#39;t send any output to Eclipse console. Why?","body":"<p>I tested your code in my copy of Eclipse Helio IDE. It works for smaller number as per your said. But in case of larger number  it is actually printing in the consol but the ouput is not displaying. You can see it, if you try to copy and paste it in the coding editor or some other editor like notepad.</p>\n\n<p>If you use <strong>println()</strong> it will show the output. Instead you can also use <strong>print(i+ \"\\t\")</strong> to see the output.</p>\n"},{"tags":[],"owner":{"account_id":367821,"reputation":95,"user_id":714244,"display_name":"tykel"},"down_vote_count":1,"up_vote_count":11,"is_accepted":false,"score":10,"last_activity_date":1339159508,"creation_date":1339159508,"answer_id":10949122,"question_id":10948983,"body_markdown":"According to [this][1], Eclipse does indeed restrict the size of its output buffer.\r\n\r\nOf course, you can change this behaviour:\r\n \r\n&gt; Go to *Window &gt; Preferences &gt; Run/Debug &gt; Console* and un-check *Limit\r\n&gt; console output*; or you can\r\n&gt; provide any number of characters between 1000 to 1000000.\r\n\r\nEdit: It does not seem to fix your problem though.\r\n\r\n\r\n  [1]: http://geekbridage.wordpress.com/2009/02/24/increase-console-buffer-in-eclipse/","title":"System.out.print() doesn&#39;t send any output to Eclipse console. Why?","body":"<p>According to <a href=\"http://geekbridage.wordpress.com/2009/02/24/increase-console-buffer-in-eclipse/\">this</a>, Eclipse does indeed restrict the size of its output buffer.</p>\n\n<p>Of course, you can change this behaviour:</p>\n\n<blockquote>\n  <p>Go to <em>Window > Preferences > Run/Debug > Console</em> and un-check <em>Limit\n  console output</em>; or you can\n  provide any number of characters between 1000 to 1000000.</p>\n</blockquote>\n\n<p>Edit: It does not seem to fix your problem though.</p>\n"},{"tags":[],"owner":{"account_id":1281287,"reputation":4633,"user_id":1235336,"accept_rate":100,"display_name":"Alex Stybaev"},"down_vote_count":0,"up_vote_count":26,"is_accepted":true,"score":26,"last_activity_date":1339159759,"creation_date":1339159759,"answer_id":10949192,"question_id":10948983,"body_markdown":"Right click on in console -&gt; `Preferences...` -&gt; check `Fixed width console`. Now you have auto word wrap and everything shows ok. Seems like Eclipse console have a limit on number of characters displayed in one line.","title":"System.out.print() doesn&#39;t send any output to Eclipse console. Why?","body":"<p>Right click on in console -> <code>Preferences...</code> -> check <code>Fixed width console</code>. Now you have auto word wrap and everything shows ok. Seems like Eclipse console have a limit on number of characters displayed in one line.</p>\n"},{"tags":[],"owner":{"account_id":2347162,"reputation":10955,"user_id":2057089,"display_name":"Gene"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1419967528,"creation_date":1419967528,"answer_id":27711314,"question_id":10948983,"body_markdown":"How to System.out.println out to console:\r\nRight click on your glassfish (Server tab) and go to View Log File\r\n\r\n ![enter image description here][1]\r\n\r\nMake sure the console setting is directed at your server.log file:\r\n ![enter image description here][2]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/dWdtc.png\r\n  [2]: http://i.stack.imgur.com/ke4EV.png","title":"System.out.print() doesn&#39;t send any output to Eclipse console. Why?","body":"<p>How to System.out.println out to console:\nRight click on your glassfish (Server tab) and go to View Log File</p>\n\n<p><img src=\"https://i.stack.imgur.com/dWdtc.png\" alt=\"enter image description here\"></p>\n\n<p>Make sure the console setting is directed at your server.log file:\n <img src=\"https://i.stack.imgur.com/ke4EV.png\" alt=\"enter image description here\"></p>\n"},{"tags":[],"owner":{"account_id":23810656,"reputation":11,"user_id":17819490,"display_name":"Gourab Barenya Sahoo "},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1653122082,"creation_date":1653034085,"answer_id":72315561,"question_id":10948983,"body_markdown":"Using `\\t` solved my problem.\r\n\r\nExample: `System.out.println(&quot;Result:\\t&quot; + data);`","title":"System.out.print() doesn&#39;t send any output to Eclipse console. Why?","body":"<p>Using <code>\\t</code> solved my problem.</p>\n<p>Example: <code>System.out.println(&quot;Result:\\t&quot; + data);</code></p>\n"}],"owner":{"account_id":216022,"reputation":7171,"user_id":471011,"accept_rate":90,"display_name":"user471011"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":81676,"favorite_count":0,"down_vote_count":1,"up_vote_count":21,"accepted_answer_id":10949192,"answer_count":5,"score":20,"last_activity_date":1653122280,"creation_date":1339159040,"question_id":10948983,"body_markdown":"I have the following Java class:\r\n\r\n    public class Test {\r\n    \r\n    \tpublic static void main(String args[]) {\r\n    \r\n    \t\tfor (int i = 0; i &lt; 1448; i++) {\r\n    \t\t\tSystem.out.print(i);\r\n    \t\t}\r\n    \r\n    \t}\r\n    }\r\n\r\nWhen I run this code in Eclipse IDE, I don&#39;t see any output in Eclipse console.\r\n\r\nIf I change value **1448** and set for example **1447** or less, I see output in console (12345678...) \r\n\r\nSo, maybe Eclipse IDE has restrictions on string length in console?\r\n\r\nWhat do you think about this? \r\n\r\n","title":"System.out.print() doesn&#39;t send any output to Eclipse console. Why?","body":"<p>I have the following Java class:</p>\n<pre><code>public class Test {\n\n    public static void main(String args[]) {\n\n        for (int i = 0; i &lt; 1448; i++) {\n            System.out.print(i);\n        }\n\n    }\n}\n</code></pre>\n<p>When I run this code in Eclipse IDE, I don't see any output in Eclipse console.</p>\n<p>If I change value <strong>1448</strong> and set for example <strong>1447</strong> or less, I see output in console (12345678...)</p>\n<p>So, maybe Eclipse IDE has restrictions on string length in console?</p>\n<p>What do you think about this?</p>\n"},{"tags":["java","swing","jlist"],"comments":[{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1653121697,"post_id":72327631,"comment_id":127777764,"body_markdown":"Don’t you want Timex, Tissot, etc., to be individual *items* in the list?","body":"Don’t you want Timex, Tissot, etc., to be individual <i>items</i> in the list?"},{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":1,"creation_date":1653121891,"post_id":72327631,"comment_id":127777800,"body_markdown":"This seems better suited to using a `JTree`. &quot;Bags&quot;, &quot;Watches&quot; etc would be the top-level branches, while things like &quot;&quot;Timex&quot;, &quot;Tissot&quot; etc would be leaves on those branches.","body":"This seems better suited to using a <code>JTree</code>. &quot;Bags&quot;, &quot;Watches&quot; etc would be the top-level branches, while things like &quot;&quot;Timex&quot;, &quot;Tissot&quot; etc would be leaves on those branches."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1653133726,"post_id":72327631,"comment_id":127779923,"body_markdown":"What @AndrewThompson said is correct. For a nasty kludge, try `model.addElement(new Product(&quot;Car&quot;, &quot;&lt;html&gt;Toyota&lt;br&gt;Mitsubishi&lt;br&gt;Tesla&lt;br&gt;Suzuki&lt;br&gt;Honda&lt;/html&gt;&quot;));\n\n`","body":"What @AndrewThompson said is correct. For a nasty kludge, try <code>model.addElement(new Product(&quot;Car&quot;, &quot;&lt;html&gt;Toyota&lt;br&gt;Mitsubishi&lt;br&gt;Tesla&lt;br&gt;Suzuki&lt;br&gt;Honda&lt;&#47;htm&zwnj;&#8203;l&gt;&quot;));  </code>"},{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":0,"creation_date":1653138173,"post_id":72327631,"comment_id":127780753,"body_markdown":"C&#39;mon @g00se! You could at least have used nested(?) **HTML lists** (`&lt;ol&gt;` &amp; `&lt;ul&gt;`). If you&#39;re gonna kludge, may as well do it in style. ;)","body":"C&#39;mon @g00se! You could at least have used nested(?) <b>HTML lists</b> (<code>&lt;ol&gt;</code> &amp; <code>&lt;ul&gt;</code>). If you&#39;re gonna kludge, may as well do it in style. ;)"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":2,"creation_date":1653138715,"post_id":72327631,"comment_id":127780866,"body_markdown":"Haha yes. You could even write a simple method that returns a hacked html string like `Product.itemsToHtml()`. I think part of the problem with the original q. is that it looks like the second argument to the ctor of `Product` is `String` when it should at least be `String[]`","body":"Haha yes. You could even write a simple method that returns a hacked html string like <code>Product.itemsToHtml()</code>. I think part of the problem with the original q. is that it looks like the second argument to the ctor of <code>Product</code> is <code>String</code> when it should at least be <code>String[]</code>"},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1653141685,"post_id":72327631,"comment_id":127781466,"body_markdown":"A JLabel doesn&#39;t support the newline string. Display the data in a JTextArea which will support the newlines. You can always make the text area non-editable.","body":"A JLabel doesn&#39;t support the newline string. Display the data in a JTextArea which will support the newlines. You can always make the text area non-editable."}],"owner":{"account_id":21126578,"reputation":5,"user_id":15531768,"display_name":"E Co"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":130,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1653122236,"creation_date":1653119030,"question_id":72327631,"body_markdown":"I want to make the text as a list but it is still in one line.\r\n\r\nHere is my code: \r\n\r\n    model.addElement(new Product(&quot;Bags&quot;, &quot;Prada Gucci  Herschel  Hawk  CLN&quot;));\r\n    model.addElement(new Product(&quot;Watches&quot;, &quot;Timex \\n Tissot \\n Swatch \\n Casio \\n Seiko&quot;));\r\n    model.addElement(new Product(&quot;Shoes&quot;, &quot;Under Armour \\n Nike \\n Vans \\n Adidas \\n Timberland&quot;));\r\n    model.addElement(new Product(&quot;Jewelry&quot;, &quot;Cartier \\n Pandora \\n Mikimoto \\n Bulgari \\n Foundrae&quot;));\r\n    model.addElement(new Product(&quot;Car&quot;, &quot;Toyota \\n Mitsubishi \\n Tesla \\n Suzuki \\n Honda&quot;));\r\n\r\n    list.getSelectionModel().addListSelectionListener(e -&gt; {\r\n        Product p = list.getSelectedValue();\r\n        label.setText(&quot;Items: &quot; + p.getItem());\r\n    });\r\n\r\nHere is the output:\r\n\r\n![Output][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/f0X0Y.png\r\n\r\n","title":"How to make new line in JList?","body":"<p>I want to make the text as a list but it is still in one line.</p>\n<p>Here is my code:</p>\n<pre><code>model.addElement(new Product(&quot;Bags&quot;, &quot;Prada Gucci  Herschel  Hawk  CLN&quot;));\nmodel.addElement(new Product(&quot;Watches&quot;, &quot;Timex \\n Tissot \\n Swatch \\n Casio \\n Seiko&quot;));\nmodel.addElement(new Product(&quot;Shoes&quot;, &quot;Under Armour \\n Nike \\n Vans \\n Adidas \\n Timberland&quot;));\nmodel.addElement(new Product(&quot;Jewelry&quot;, &quot;Cartier \\n Pandora \\n Mikimoto \\n Bulgari \\n Foundrae&quot;));\nmodel.addElement(new Product(&quot;Car&quot;, &quot;Toyota \\n Mitsubishi \\n Tesla \\n Suzuki \\n Honda&quot;));\n\nlist.getSelectionModel().addListSelectionListener(e -&gt; {\n    Product p = list.getSelectedValue();\n    label.setText(&quot;Items: &quot; + p.getItem());\n});\n</code></pre>\n<p>Here is the output:</p>\n<p><img src=\"https://i.stack.imgur.com/f0X0Y.png\" alt=\"Output\" /></p>\n"},{"tags":["java","integer","max","min"],"comments":[{"owner":{"account_id":1960391,"reputation":3387,"user_id":1762181,"accept_rate":80,"display_name":"AffluentOwl"},"score":0,"creation_date":1394770765,"post_id":12333541,"comment_id":34049672,"body_markdown":"This is a duplicate of [How does Java handle integer underflows and overflows and how would you check for it?](http://stackoverflow.com/questions/3001836/how-does-java-handle-integer-underflows-and-overflows-and-how-would-you-check-fo)","body":"This is a duplicate of <a href=\"http://stackoverflow.com/questions/3001836/how-does-java-handle-integer-underflows-and-overflows-and-how-would-you-check-fo\">How does Java handle integer underflows and overflows and how would you check for it?</a>"}],"answers":[{"tags":[],"owner":{"account_id":333768,"reputation":80790,"user_id":659804,"accept_rate":100,"display_name":"Ernest Friedman-Hill"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1347130469,"creation_date":1347130469,"answer_id":12333559,"question_id":12333541,"body_markdown":"If you need to represent integers which are larger or smaller than the limits, then use `long` instead of `int` variables. If, on the other hand, you&#39;re truly worrying about `int` variables that contain a value larger than `Integer.MAX_VALUE`, then stop worrying -- such a thing can&#39;t exist. By the time the value is stored in an `int`, any overflow or underflow has already occurred.","title":"java Integer.MAX_VALUE, MIN_VALUE overflow","body":"<p>If you need to represent integers which are larger or smaller than the limits, then use <code>long</code> instead of <code>int</code> variables. If, on the other hand, you're truly worrying about <code>int</code> variables that contain a value larger than <code>Integer.MAX_VALUE</code>, then stop worrying -- such a thing can't exist. By the time the value is stored in an <code>int</code>, any overflow or underflow has already occurred.</p>\n"},{"tags":[],"owner":{"account_id":102718,"reputation":59065,"user_id":275567,"display_name":"pb2q"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1347130480,"creation_date":1347130480,"answer_id":12333563,"question_id":12333541,"body_markdown":"`Integer.MAX_VALUE` and `MIN_VALUE` are the largest/smallest values _representable_ with an `int`. That&#39;s the point: you **can&#39;t** have an `int` with lesser or greater values.\r\n\r\nIf you want to hold and test against lesser or greater values, you&#39;ll need to use a `long`.\r\n\r\nWhen you try to add to e.g. `Integer.MAX_VALUE` and hold the result in an `int`, the variable will [overflow](http://en.wikipedia.org/wiki/Integer_overflow), and the result will remain a value somewhere between `MAX_VALUE` and `MIN_VALUE`.","title":"java Integer.MAX_VALUE, MIN_VALUE overflow","body":"<p><code>Integer.MAX_VALUE</code> and <code>MIN_VALUE</code> are the largest/smallest values <em>representable</em> with an <code>int</code>. That's the point: you <strong>can't</strong> have an <code>int</code> with lesser or greater values.</p>\n\n<p>If you want to hold and test against lesser or greater values, you'll need to use a <code>long</code>.</p>\n\n<p>When you try to add to e.g. <code>Integer.MAX_VALUE</code> and hold the result in an <code>int</code>, the variable will <a href=\"http://en.wikipedia.org/wiki/Integer_overflow\" rel=\"nofollow\">overflow</a>, and the result will remain a value somewhere between <code>MAX_VALUE</code> and <code>MIN_VALUE</code>.</p>\n"},{"tags":[],"owner":{"account_id":162919,"reputation":53273,"user_id":384706,"accept_rate":64,"display_name":"Cratylus"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1384423319,"creation_date":1347130829,"answer_id":12333601,"question_id":12333541,"body_markdown":"This can be solved in 2 ways:  \r\n\r\nFirst way:  \r\n\r\n`if(x + 10 &lt;= x){ //Has wrapped arround so throw exception}`  \r\n\r\nSecond way (better):  \r\n\r\n`long x = Integer.MAX_VALUE+10L; `   \r\nNow the conditional works properly\r\n\r\n`if(x &gt;= Integer.MAX_VALUE){ //throw exception}`\r\n\r\n","title":"java Integer.MAX_VALUE, MIN_VALUE overflow","body":"<p>This can be solved in 2 ways:  </p>\n\n<p>First way:  </p>\n\n<p><code>if(x + 10 &lt;= x){ //Has wrapped arround so throw exception}</code>  </p>\n\n<p>Second way (better):  </p>\n\n<p><code>long x = Integer.MAX_VALUE+10L;</code><br>\nNow the conditional works properly</p>\n\n<p><code>if(x &gt;= Integer.MAX_VALUE){ //throw exception}</code></p>\n"},{"tags":[],"owner":{"account_id":1960391,"reputation":3387,"user_id":1762181,"accept_rate":80,"display_name":"AffluentOwl"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1394770617,"creation_date":1394770617,"answer_id":22396000,"question_id":12333541,"body_markdown":"The problem with all of the previously provided solutions is that they all recommend upcasting to a primitive which is of a larger size to perform your calculation (such as using `long` instead of `int`).\r\n\r\nThis approach is a little heavy handed and fails when you&#39;re already using the largest primitive. Instead you can check to see if an operation, such as addition or subtraction, will overflow prior to performing the operation.\r\n\r\nHere&#39;s a function from [The CERT Oracle Secure Coding Standard for Java][1], which also provides equivalent functions for the other mathematical operators, such as subtraction.\r\n\r\n    static final int safeAdd(int left, int right) throws ArithmeticException {\r\n      if (right &gt; 0 ? left &gt; Integer.MAX_VALUE - right\r\n                    : left &lt; Integer.MIN_VALUE - right) {\r\n        throw new ArithmeticException(&quot;Integer overflow&quot;);\r\n      }\r\n      return left + right;\r\n    }\r\n\r\n  [1]: https://www.securecoding.cert.org/confluence/display/java/NUM00-J.+Detect+or+prevent+integer+overflow","title":"java Integer.MAX_VALUE, MIN_VALUE overflow","body":"<p>The problem with all of the previously provided solutions is that they all recommend upcasting to a primitive which is of a larger size to perform your calculation (such as using <code>long</code> instead of <code>int</code>).</p>\n\n<p>This approach is a little heavy handed and fails when you're already using the largest primitive. Instead you can check to see if an operation, such as addition or subtraction, will overflow prior to performing the operation.</p>\n\n<p>Here's a function from <a href=\"https://www.securecoding.cert.org/confluence/display/java/NUM00-J.+Detect+or+prevent+integer+overflow\" rel=\"nofollow\">The CERT Oracle Secure Coding Standard for Java</a>, which also provides equivalent functions for the other mathematical operators, such as subtraction.</p>\n\n<pre><code>static final int safeAdd(int left, int right) throws ArithmeticException {\n  if (right &gt; 0 ? left &gt; Integer.MAX_VALUE - right\n                : left &lt; Integer.MIN_VALUE - right) {\n    throw new ArithmeticException(\"Integer overflow\");\n  }\n  return left + right;\n}\n</code></pre>\n"}],"owner":{"account_id":1429636,"reputation":305,"user_id":1352336,"accept_rate":93,"display_name":"Deragon"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":29922,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":12333601,"answer_count":4,"score":3,"last_activity_date":1653122151,"creation_date":1347130335,"question_id":12333541,"body_markdown":"Ok maybe I am just tired because of this but how can I accomplish this?\r\n\r\n    int x = Integer.MAX_VALUE+10;\r\n\r\n// or perhaps\r\n\r\n    int x = Integer.MIN_VALUE-20;\r\n\r\nI just want the if statement to catch if x is &quot;within range&quot; kinda like this:\r\n\r\n    if(x &gt;= Integer.MAX_VALUE || x &lt;= Integer.MIN_VALUE){ //throw exception}\r\n\r\nBut the problem is that if the value is as mentioned above, like MAX_VALUE + 10, the value ends up being neither higher than the MAX VALUE nor lower than the MIN_VALUE and the if-conditions aren&#39;t met...  \r\n\r\n\r\nEdit: To clarify what I meant: \r\nI don&#39;t want to actually store any values bigger than the max/min value. \r\nImagine this: \r\n\r\nA field, you write 10+10 and it says like &quot;Ok, that&#39;s 20&quot;\r\nNext up, someone maybe will write 1000000*100000 and it will respond with the answer as well\r\nbut then someone might write something that exceeds the max/min values like, 10000000*1000000*1000000 or someyhing like that and then the program should be all like &quot;Hold up, that&#39;s way too high! here&#39;s a &quot;0&quot; for you instead&quot; \r\n\r\n","title":"java Integer.MAX_VALUE, MIN_VALUE overflow","body":"<p>Ok maybe I am just tired because of this but how can I accomplish this?</p>\n<pre><code>int x = Integer.MAX_VALUE+10;\n</code></pre>\n<p>// or perhaps</p>\n<pre><code>int x = Integer.MIN_VALUE-20;\n</code></pre>\n<p>I just want the if statement to catch if x is &quot;within range&quot; kinda like this:</p>\n<pre><code>if(x &gt;= Integer.MAX_VALUE || x &lt;= Integer.MIN_VALUE){ //throw exception}\n</code></pre>\n<p>But the problem is that if the value is as mentioned above, like MAX_VALUE + 10, the value ends up being neither higher than the MAX VALUE nor lower than the MIN_VALUE and the if-conditions aren't met...</p>\n<p>Edit: To clarify what I meant:\nI don't want to actually store any values bigger than the max/min value.\nImagine this:</p>\n<p>A field, you write 10+10 and it says like &quot;Ok, that's 20&quot;\nNext up, someone maybe will write 1000000<em>100000 and it will respond with the answer as well\nbut then someone might write something that exceeds the max/min values like, 10000000</em>1000000*1000000 or someyhing like that and then the program should be all like &quot;Hold up, that's way too high! here's a &quot;0&quot; for you instead&quot;</p>\n"},{"tags":["java","mysql","sql","swing","netbeans-7"],"comments":[{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":2,"creation_date":1387259497,"post_id":20626886,"comment_id":30872426,"body_markdown":"String sql = &quot;SELECT id,price FROM item WHERE id=&quot; + item_no;","body":"String sql = &quot;SELECT id,price FROM item WHERE id=&quot; + item_no;"}],"answers":[{"tags":[],"owner":{"account_id":905416,"reputation":25876,"user_id":940428,"accept_rate":100,"display_name":"Prabhakaran Ramaswamy"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1387259631,"creation_date":1387259631,"answer_id":20626952,"question_id":20626886,"body_markdown":"This line should be\r\n\r\n    String sql=&quot;SELECT id,price FROM item WHERE item.name=&#39;item_name&#39;&quot;;\r\n\r\nlike this\r\n\r\n    String sql=&quot;SELECT id,price FROM item WHERE item.name=&#39;&quot;+item_name+&quot;&#39;&quot;;","title":"Reading data from mysql database using java","body":"<p>This line should be</p>\n\n<pre><code>String sql=\"SELECT id,price FROM item WHERE item.name='item_name'\";\n</code></pre>\n\n<p>like this</p>\n\n<pre><code>String sql=\"SELECT id,price FROM item WHERE item.name='\"+item_name+\"'\";\n</code></pre>\n"},{"tags":[],"owner":{"account_id":431486,"reputation":3641,"user_id":815566,"accept_rate":81,"display_name":"Satheesh Cheveri"},"down_vote_count":1,"up_vote_count":2,"is_accepted":true,"score":1,"last_activity_date":1387259776,"creation_date":1387259776,"answer_id":20626977,"question_id":20626886,"body_markdown":"you would need to take item_name as param and  put in quotes, \r\n\r\n    String sql=&quot;SELECT id,price FROM item WHERE item.name=&#39;&quot;+ item_name+&quot;&#39;&quot;;","title":"Reading data from mysql database using java","body":"<p>you would need to take item_name as param and  put in quotes, </p>\n\n<pre><code>String sql=\"SELECT id,price FROM item WHERE item.name='\"+ item_name+\"'\";\n</code></pre>\n"},{"tags":[],"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1387260334,"creation_date":1387259955,"answer_id":20627025,"question_id":20626886,"body_markdown":"Use a `PreparedStatement` so you don&#39;t have to worry about delimiting all the variables:\r\n\r\n    String sql=&quot;SELECT id, price FROM item WHERE item.name = ?&quot;;\r\n    PreparedStatement stmt = connection.prepareStatement(sql);\r\n    stmt.setString( 1, item_name);\r\n    ResultSet rs = stmt.executeQuery();\r\n\r\nThen the prepared statement will replace the variable for you with the proper quotes.","title":"Reading data from mysql database using java","body":"<p>Use a <code>PreparedStatement</code> so you don't have to worry about delimiting all the variables:</p>\n\n<pre><code>String sql=\"SELECT id, price FROM item WHERE item.name = ?\";\nPreparedStatement stmt = connection.prepareStatement(sql);\nstmt.setString( 1, item_name);\nResultSet rs = stmt.executeQuery();\n</code></pre>\n\n<p>Then the prepared statement will replace the variable for you with the proper quotes.</p>\n"},{"tags":[],"owner":{"account_id":1021804,"reputation":12875,"user_id":1031945,"accept_rate":83,"display_name":"Aniket Kulkarni"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1387260070,"creation_date":1387260070,"answer_id":20627056,"question_id":20626886,"body_markdown":"Try to avoid this type of mistake by using [PreparedStatement][1]  \r\n\r\n    String sql=&quot;SELECT id,price FROM item WHERE item.name=?&quot;;  \r\n    PreapredStatement ps = con.prepareStatement(sql);\r\n    ps.setString(1,item_name); \r\n    ResultSet rs = ps.executeQuery(); \r\n\r\nUse of PreparedStatement also [prevent SQL injection attack.][2]\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/tutorial/jdbc/basics/prepared.html\r\n  [2]: https://www.owasp.org/index.php/Preventing_SQL_Injection_in_Java","title":"Reading data from mysql database using java","body":"<p>Try to avoid this type of mistake by using <a href=\"http://docs.oracle.com/javase/tutorial/jdbc/basics/prepared.html\" rel=\"nofollow\">PreparedStatement</a>  </p>\n\n<pre><code>String sql=\"SELECT id,price FROM item WHERE item.name=?\";  \nPreapredStatement ps = con.prepareStatement(sql);\nps.setString(1,item_name); \nResultSet rs = ps.executeQuery(); \n</code></pre>\n\n<p>Use of PreparedStatement also <a href=\"https://www.owasp.org/index.php/Preventing_SQL_Injection_in_Java\" rel=\"nofollow\">prevent SQL injection attack.</a></p>\n"},{"tags":[],"owner":{"account_id":3668752,"reputation":6558,"user_id":3065232,"accept_rate":25,"display_name":"Lijo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1387260735,"creation_date":1387260735,"answer_id":20627199,"question_id":20626886,"body_markdown":"try this code .   \r\n\r\n\r\n \r\n\r\n    Connection con = DriverManager.getConnection(&quot;jdbc:mysql://localhost:3306/myshop&quot;,&quot;root&quot;,&quot;mysql&quot;);\r\n                PreparedStatement pt=con.prepareStatement(&quot;SELECT id,price FROM item WHERE item.name=?&quot;);\r\n                pt.setString(1,&quot;item_name&quot;);\r\n              ResultSet rs;\r\n               if(pt.execute())\r\n               {\r\n                    rs=pt.getResultSet();\r\n                   JOptionPane.showMessageDialog(this, &quot;succes&quot;,&quot;executed query&quot;,JOptionPane.PLAIN_MESSAGE);\r\n              }\r\n               else {\r\n        System.err.println(&quot;select failed&quot;);\r\n               }\r\n               \r\n            while(rs.next()){\r\n        item_id=rs.getInt(1);\r\n        item_price=rs.getInt(2);\r\n        jTextField1.setText(&quot;&quot;+item_price);//displaying product price in a jTextField1\r\n        jTextField2.setText(&quot;&quot;+item_id);//displaying product id in a jTextField2    \r\n                \r\n            }","title":"Reading data from mysql database using java","body":"<p>try this code .   </p>\n\n<pre><code>Connection con = DriverManager.getConnection(\"jdbc:mysql://localhost:3306/myshop\",\"root\",\"mysql\");\n            PreparedStatement pt=con.prepareStatement(\"SELECT id,price FROM item WHERE item.name=?\");\n            pt.setString(1,\"item_name\");\n          ResultSet rs;\n           if(pt.execute())\n           {\n                rs=pt.getResultSet();\n               JOptionPane.showMessageDialog(this, \"succes\",\"executed query\",JOptionPane.PLAIN_MESSAGE);\n          }\n           else {\n    System.err.println(\"select failed\");\n           }\n\n        while(rs.next()){\n    item_id=rs.getInt(1);\n    item_price=rs.getInt(2);\n    jTextField1.setText(\"\"+item_price);//displaying product price in a jTextField1\n    jTextField2.setText(\"\"+item_id);//displaying product id in a jTextField2    \n\n        }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25317658,"reputation":1,"user_id":19139499,"display_name":"lordhunter"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653122121,"creation_date":1653022249,"answer_id":72313713,"question_id":20626886,"body_markdown":"First, you need an reader, like this\r\n\r\n    private static void reader() throws SQLException {\r\n        DataBaseName db = new DataBaseName ();\r\n        names = db.getNames();\r\n    }\r\n    ","title":"Reading data from mysql database using java","body":"<p>First, you need an reader, like this</p>\n<pre><code>private static void reader() throws SQLException {\n    DataBaseName db = new DataBaseName ();\n    names = db.getNames();\n}\n</code></pre>\n"}],"owner":{"account_id":3367164,"reputation":39,"user_id":2827435,"accept_rate":50,"display_name":"user2827435"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12340,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":20626977,"answer_count":6,"score":3,"last_activity_date":1653122121,"creation_date":1387259382,"question_id":20626886,"body_markdown":"Firstly, I&#39;m reading the product name and number of products from user using jTextFields. For that product I read the product id and price from database using sql query. But in the below code I display the product price in a jtextField but while running tha file I get query executed successfully but I&#39;m not getting anything in the jtextField.\r\n\r\nAnd please check the sql query and resultset use,\r\ntable name is &quot;item&quot; and database name is &quot;myshop&quot;,\r\nI declared variables globelly and this code is in a jButton&#39;s &#39;ActionPeformed&quot; part.\r\n\r\n    String item_name=name.getText();\r\n    int item_no=Integer.parseInt(no.getText());\r\n    String sql=&quot;SELECT id,price FROM item WHERE item.name=&#39;item_name&#39;&quot;;\r\n    try{       \r\n    Class.forName(&quot;com.mysql.jdbc.Driver&quot;);\r\n    Connection con(Connection)DriverManager.getConnection(&quot;jdbc:mysql://localhost:3306/myshop&quot;,&quot;root&quot;,&quot;mysql&quot;);\r\n    java.sql.Statement stmt=con.createStatement();\r\n    if (stmt.execute(sql)) {\r\n    rs = stmt.getResultSet();\r\n    JOptionPane.showMessageDialog(this, &quot;succes&quot;,&quot;executed query&quot;,JOptionPane.PLAIN_MESSAGE);\r\n    } else {\r\n    System.err.println(&quot;select failed&quot;);}\r\n    int idIndex   = rs.findColumn(&quot;id&quot;);\r\n    int priceIndex    = rs.findColumn(&quot;price&quot;);\r\n\r\n    while(rs.next()){\r\n    item_id=rs.getInt(idIndex);\r\n    item_price=rs.getInt(priceIndex);\r\n    jTextField1.setText(&quot;&quot;+item_price);//displaying product price in a jTextField1\r\n    jTextField2.setText(&quot;&quot;+item_id);//displaying product id in a jTextField2  \r\n      }\r\n    }\r\n    catch(Exception e){\r\n    JOptionPane.showMessageDialog(this, e.getMessage());\r\n    }","title":"Reading data from mysql database using java","body":"<p>Firstly, I'm reading the product name and number of products from user using jTextFields. For that product I read the product id and price from database using sql query. But in the below code I display the product price in a jtextField but while running tha file I get query executed successfully but I'm not getting anything in the jtextField.</p>\n\n<p>And please check the sql query and resultset use,\ntable name is \"item\" and database name is \"myshop\",\nI declared variables globelly and this code is in a jButton's 'ActionPeformed\" part.</p>\n\n<pre><code>String item_name=name.getText();\nint item_no=Integer.parseInt(no.getText());\nString sql=\"SELECT id,price FROM item WHERE item.name='item_name'\";\ntry{       \nClass.forName(\"com.mysql.jdbc.Driver\");\nConnection con(Connection)DriverManager.getConnection(\"jdbc:mysql://localhost:3306/myshop\",\"root\",\"mysql\");\njava.sql.Statement stmt=con.createStatement();\nif (stmt.execute(sql)) {\nrs = stmt.getResultSet();\nJOptionPane.showMessageDialog(this, \"succes\",\"executed query\",JOptionPane.PLAIN_MESSAGE);\n} else {\nSystem.err.println(\"select failed\");}\nint idIndex   = rs.findColumn(\"id\");\nint priceIndex    = rs.findColumn(\"price\");\n\nwhile(rs.next()){\nitem_id=rs.getInt(idIndex);\nitem_price=rs.getInt(priceIndex);\njTextField1.setText(\"\"+item_price);//displaying product price in a jTextField1\njTextField2.setText(\"\"+item_id);//displaying product id in a jTextField2  \n  }\n}\ncatch(Exception e){\nJOptionPane.showMessageDialog(this, e.getMessage());\n}\n</code></pre>\n"},{"tags":["java","multithreading"],"comments":[{"owner":{"account_id":173621,"reputation":10596,"user_id":402428,"display_name":"michid"},"score":1,"creation_date":1653123294,"post_id":72327857,"comment_id":127778057,"body_markdown":"@alfer, see https://stackoverflow.com/a/16629365/402428. Specifically the paragraph starting with &quot;happens-before has a very specific meaning in the JMM...&quot;","body":"@alfer, see <a href=\"https://stackoverflow.com/a/16629365/402428\">stackoverflow.com/a/16629365/402428</a>. Specifically the paragraph starting with &quot;happens-before has a very specific meaning in the JMM...&quot;"}],"owner":{"account_id":3788739,"reputation":365,"user_id":3145897,"display_name":"alfer"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"closed_date":1653123220,"answer_count":0,"score":1,"last_activity_date":1653121489,"creation_date":1653121489,"question_id":72327857,"body_markdown":"The book [*Java Concurrency in Practice*](https://jcip.net/) by Brian Goetz et al. describes the happens-before relationship. &quot;To guarantee that the thread executing action B can see the result of action A (whether or not A and B occur in different threads) there must be a happens-before relationship between A and B.&quot;\r\n\r\nThe program order rule is defined as &quot;Each action in a thread happens-before every action in that thread that comes later in the program order.&quot;\r\n\r\nHowever I don’t understand how the definition of happens-before can be applied here. It seems to me that &#39;A happens-before B&#39; only makes sense when A and B are related (e.g write/read of the same volatile variable) and when any number of threads can be involved.\r\n\r\nIf we have two instructions\r\n\r\na=0 (1)\r\n\r\nb=1 (2)\r\n\r\nThe program order rule says that action (1) happens before action (2) within the thread executing them. But what does that mean since the two operations can be reordered and are unrelated? It seems to me that using the happens-before concept to describe the program order rule is confusing, and that rule should be described using something else.\r\n\r\nIt should just be said that execution of a program in a thread may occur with some actions reordered but will have the same result as if it were executed in program order?\r\n","title":"Happens-Before inconsistency between program order rule and other rules","body":"<p>The book <a href=\"https://jcip.net/\" rel=\"nofollow noreferrer\"><em>Java Concurrency in Practice</em></a> by Brian Goetz et al. describes the happens-before relationship. &quot;To guarantee that the thread executing action B can see the result of action A (whether or not A and B occur in different threads) there must be a happens-before relationship between A and B.&quot;</p>\n<p>The program order rule is defined as &quot;Each action in a thread happens-before every action in that thread that comes later in the program order.&quot;</p>\n<p>However I don’t understand how the definition of happens-before can be applied here. It seems to me that 'A happens-before B' only makes sense when A and B are related (e.g write/read of the same volatile variable) and when any number of threads can be involved.</p>\n<p>If we have two instructions</p>\n<p>a=0 (1)</p>\n<p>b=1 (2)</p>\n<p>The program order rule says that action (1) happens before action (2) within the thread executing them. But what does that mean since the two operations can be reordered and are unrelated? It seems to me that using the happens-before concept to describe the program order rule is confusing, and that rule should be described using something else.</p>\n<p>It should just be said that execution of a program in a thread may occur with some actions reordered but will have the same result as if it were executed in program order?</p>\n"},{"tags":["java","binary","permutation"],"comments":[{"owner":{"account_id":5868390,"reputation":19929,"user_id":4621513,"accept_rate":77,"display_name":"mkrieger1"},"score":0,"creation_date":1653121470,"post_id":72327835,"comment_id":127777726,"body_markdown":"The quickest way would be to precompute them and then printing them would be almost instantly. Surely you want to know how to *calculate* them more quickly?","body":"The quickest way would be to precompute them and then printing them would be almost instantly. Surely you want to know how to <i>calculate</i> them more quickly?"},{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":0,"creation_date":1653121981,"post_id":72327835,"comment_id":127777814,"body_markdown":"I&#39;d use recursion.  Take the output from `printBinaryPermutation(n-1,r)` and append `0` to everything; then take the output from `printBinaryPermutation(n-1,r-1)` and append `1` to everything.  I&#39;m pretty sure that&#39;s not the quickest way, but it will be FAR quicker than what you&#39;re doing here.","body":"I&#39;d use recursion.  Take the output from <code>printBinaryPermutation(n-1,r)</code> and append <code>0</code> to everything; then take the output from <code>printBinaryPermutation(n-1,r-1)</code> and append <code>1</code> to everything.  I&#39;m pretty sure that&#39;s not the quickest way, but it will be FAR quicker than what you&#39;re doing here."}],"owner":{"account_id":21766733,"reputation":1,"user_id":16070494,"display_name":"p16729438"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1653121233,"creation_date":1653121233,"question_id":72327835,"body_markdown":"If n=3 and r=2, print below\r\n\r\n    110\r\n    101\r\n    011\r\n\r\nI&#39;m using below code, But it takes a long time.\r\n\r\n    public void printBinaryPermutation(int n, int r)\r\n\t{\r\n\t\tfor(BigInteger i = new BigInteger(&quot;0&quot;); i.compareTo(BigInteger.TWO.pow(n)) == -1; i = i.add(BigInteger.ONE))\r\n\t\t{\r\n\t\t\tString str = i.toString(2);\r\n\t\t\twhile(str.length() &lt; n)\r\n\t\t\t{\r\n\t\t\t\tstr = &quot;0&quot; + str;\r\n\t\t\t}\r\n\t\t\tBigInteger amount = new BigInteger(&quot;0&quot;);\r\n\t\t\tfor(char c : str.toCharArray())\r\n\t\t\t{\r\n\t\t\t\tif(c == &#39;1&#39;)\r\n\t\t\t\t{\r\n\t\t\t\t\tamount = amount.add(BigInteger.ONE);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif(amount.compareTo(new BigInteger(String.valueOf(r))) == 0)\r\n\t\t\t{\r\n\t\t\t\tSystem.out.println(str);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\nWhat is the quickest way to print Binary permutation?","title":"What is the quickest way to print Binary permutation?","body":"<p>If n=3 and r=2, print below</p>\n<pre><code>110\n101\n011\n</code></pre>\n<p>I'm using below code, But it takes a long time.</p>\n<pre><code>public void printBinaryPermutation(int n, int r)\n{\n    for(BigInteger i = new BigInteger(&quot;0&quot;); i.compareTo(BigInteger.TWO.pow(n)) == -1; i = i.add(BigInteger.ONE))\n    {\n        String str = i.toString(2);\n        while(str.length() &lt; n)\n        {\n            str = &quot;0&quot; + str;\n        }\n        BigInteger amount = new BigInteger(&quot;0&quot;);\n        for(char c : str.toCharArray())\n        {\n            if(c == '1')\n            {\n                amount = amount.add(BigInteger.ONE);\n            }\n        }\n        if(amount.compareTo(new BigInteger(String.valueOf(r))) == 0)\n        {\n            System.out.println(str);\n        }\n    }\n}\n</code></pre>\n<p>What is the quickest way to print Binary permutation?</p>\n"},{"tags":["java","swing","rendering","custom-controls","jtextfield"],"comments":[{"owner":{"account_id":114756,"reputation":57127,"user_id":301607,"accept_rate":100,"display_name":"StanislavL"},"score":0,"creation_date":1515661797,"post_id":48203021,"comment_id":83387442,"body_markdown":"What if you use JTextArea or JEditorPane rather than JTextField?","body":"What if you use JTextArea or JEditorPane rather than JTextField?"},{"owner":{"account_id":114756,"reputation":57127,"user_id":301607,"accept_rate":100,"display_name":"StanislavL"},"score":0,"creation_date":1515661920,"post_id":48203021,"comment_id":83387525,"body_markdown":"Whta is the problem you actually have? Half of the text is visible? Size is not calculated correctly? Do you need read only content or it should be editable? For JEditorPane/JtextPane yu can take a look on custom GlyphPainter - http://java-sl.com/gp_effects.html","body":"Whta is the problem you actually have? Half of the text is visible? Size is not calculated correctly? Do you need read only content or it should be editable? For JEditorPane/JtextPane yu can take a look on custom GlyphPainter - <a href=\"http://java-sl.com/gp_effects.html\" rel=\"nofollow noreferrer\">java-sl.com/gp_effects.html</a>"},{"owner":{"account_id":11944756,"reputation":7873,"user_id":8740349,"display_name":"Top-Master"},"score":0,"creation_date":1515666051,"post_id":48203021,"comment_id":83390289,"body_markdown":"thanks for fast comments. tried JTextArea just now but did not managed to resize it until the text size is more then the widgets size and text does not fit but we do need widget that we can resize until text does not fit for our accounting program where we use it as table cell editor","body":"thanks for fast comments. tried JTextArea just now but did not managed to resize it until the text size is more then the widgets size and text does not fit but we do need widget that we can resize until text does not fit for our accounting program where we use it as table cell editor"},{"owner":{"account_id":11944756,"reputation":7873,"user_id":8740349,"display_name":"Top-Master"},"score":0,"creation_date":1515666083,"post_id":48203021,"comment_id":83390313,"body_markdown":"also we think JTextArea does not support navigate to hidden text parts without scrollbar","body":"also we think JTextArea does not support navigate to hidden text parts without scrollbar"},{"owner":{"account_id":11944756,"reputation":7873,"user_id":8740349,"display_name":"Top-Master"},"score":0,"creation_date":1515666956,"post_id":48203021,"comment_id":83390935,"body_markdown":"1 and 2: the problem is visual once you resize and text does not fit numbers move and when you select text in that state random parts are rendered. 3: may be size is not calculated correctly by render its java.swing related. 4: we do need editable content. 5: will try JEditorPane/JtextPane but custom GlyphPainter is too advanced for us except you link tutorial.","body":"1 and 2: the problem is visual once you resize and text does not fit numbers move and when you select text in that state random parts are rendered. 3: may be size is not calculated correctly by render its java.swing related. 4: we do need editable content. 5: will try JEditorPane/JtextPane but custom GlyphPainter is too advanced for us except you link tutorial."}],"answers":[{"tags":[],"owner":{"account_id":114756,"reputation":57127,"user_id":301607,"accept_rate":100,"display_name":"StanislavL"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1515669883,"creation_date":1515667374,"answer_id":48205154,"question_id":48203021,"body_markdown":"You can try this\r\n\r\n    import javax.swing.*;\r\n    import javax.swing.text.html.HTMLEditorKit;\r\n    import java.awt.*;\r\n    \r\n    public class JavaBug extends javax.swing.JFrame {\r\n    \r\n        public static void main(String[] args) {\r\n            JavaBug frame = new JavaBug();\r\n            frame.show();\r\n        }\r\n    \r\n        public JavaBug() {\r\n            JTextPane textPane = new JTextPane();\r\n            textPane.setEditorKit(new HTMLEditorKit());\r\n            textPane.setText(&quot;&lt;html&gt;&lt;font size=&#39;+2&#39;&gt;\\u0635\\u0646\\u062F\\u0648\\u0642 \\u06F4\\u06F0&#215;\\u06F3\\u06F0 \\u067E\\u0627\\u06CC\\u0647 \\u062F\\u0627\\u0631 \\u0648\\u0627\\u06CC\\u0631\\u0646\\u06AF \\u0645\\u06CC\\u062A\\u0631 \\u062A\\u06A9 \\u0641\\u0627\\u0632&lt;/font&gt;&lt;/html&gt;&quot;);\r\n            textPane.getDocument().putProperty(&quot;i18n&quot;, Boolean.TRUE);\r\n            JPanel noWrapPanel = new JPanel( new BorderLayout() );\r\n            noWrapPanel.add( textPane );\r\n            JScrollPane scrollPane = new JScrollPane( noWrapPanel );\r\n            scrollPane.setHorizontalScrollBarPolicy(ScrollPaneConstants.HORIZONTAL_SCROLLBAR_NEVER);\r\n            scrollPane.setVerticalScrollBarPolicy(ScrollPaneConstants.VERTICAL_SCROLLBAR_NEVER);\r\n\r\n            /* without below right to left force there is an other bug when we press home and\r\n             * try to navigate to end using left key it will never get at end and fall back at start. kind of crazy bug */\r\n            java.util.Locale arabic = new java.util.Locale(&quot;ar&quot;, &quot;KW&quot;);\r\n            ComponentOrientation arabicOrientation = ComponentOrientation.getOrientation(arabic);\r\n            textPane.applyComponentOrientation(arabicOrientation);\r\n\r\n            getContentPane().add(scrollPane);\r\n            pack();\r\n            this.setLocationRelativeTo(null); //enusre get showed at screen center\r\n            setDefaultCloseOperation(javax.swing.WindowConstants.EXIT_ON_CLOSE);\r\n        }\r\n    }","title":"JTextField render bug if Text-Not-Fitting (JDK 7 till 18)","body":"<p>You can try this</p>\n\n<pre><code>import javax.swing.*;\nimport javax.swing.text.html.HTMLEditorKit;\nimport java.awt.*;\n\npublic class JavaBug extends javax.swing.JFrame {\n\n    public static void main(String[] args) {\n        JavaBug frame = new JavaBug();\n        frame.show();\n    }\n\n    public JavaBug() {\n        JTextPane textPane = new JTextPane();\n        textPane.setEditorKit(new HTMLEditorKit());\n        textPane.setText(\"&lt;html&gt;&lt;font size='+2'&gt;\\u0635\\u0646\\u062F\\u0648\\u0642 \\u06F4\\u06F0×\\u06F3\\u06F0 \\u067E\\u0627\\u06CC\\u0647 \\u062F\\u0627\\u0631 \\u0648\\u0627\\u06CC\\u0631\\u0646\\u06AF \\u0645\\u06CC\\u062A\\u0631 \\u062A\\u06A9 \\u0641\\u0627\\u0632&lt;/font&gt;&lt;/html&gt;\");\n        textPane.getDocument().putProperty(\"i18n\", Boolean.TRUE);\n        JPanel noWrapPanel = new JPanel( new BorderLayout() );\n        noWrapPanel.add( textPane );\n        JScrollPane scrollPane = new JScrollPane( noWrapPanel );\n        scrollPane.setHorizontalScrollBarPolicy(ScrollPaneConstants.HORIZONTAL_SCROLLBAR_NEVER);\n        scrollPane.setVerticalScrollBarPolicy(ScrollPaneConstants.VERTICAL_SCROLLBAR_NEVER);\n\n        /* without below right to left force there is an other bug when we press home and\n         * try to navigate to end using left key it will never get at end and fall back at start. kind of crazy bug */\n        java.util.Locale arabic = new java.util.Locale(\"ar\", \"KW\");\n        ComponentOrientation arabicOrientation = ComponentOrientation.getOrientation(arabic);\n        textPane.applyComponentOrientation(arabicOrientation);\n\n        getContentPane().add(scrollPane);\n        pack();\n        this.setLocationRelativeTo(null); //enusre get showed at screen center\n        setDefaultCloseOperation(javax.swing.WindowConstants.EXIT_ON_CLOSE);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":11944756,"reputation":7873,"user_id":8740349,"display_name":"Top-Master"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":473,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":48205154,"answer_count":1,"score":0,"last_activity_date":1653120965,"creation_date":1515660890,"question_id":48203021,"body_markdown":"## JTextField has wrong text render on RIGHT_TO_LEFT component orientation\r\n\r\nWe need a **workaround**, since whenever `JTextField` is filled with text that contains:\r\n* `Right to left text` like Arabic,\r\n* `Latin numbers`,\r\n* and `Latin text`.\r\n\r\nThen `JTextField` renders text parts at unexpected locations.\r\n\r\n&gt; (It only renders right if the complete text Fits inside the `JTextField`.)\r\n\r\n\r\n\r\nThe text we use to reproduce is:\r\n\r\n - `صندوق ۴۰&#215;۳۰ پایه دار وایرنگ میتر تک فاز`\r\n\r\n**Other info**:\r\n\r\n - Above text is just name of a product, added inside an accounting software we created, but our users have match more render failures than we could reproduce.\r\n - We reported at: [JDK-8194733][1]\r\n - We have no experience with a custom-render in Java to make workaround, but render of entire text not considering the limit, and clipping that, should do the trick.\r\n\r\n----------\r\n\r\nSource code for an executable test case:\r\n========================================\r\n```java\r\n//\r\n// Like you may notice, below code shows simple JTextField, \r\n// but once you resize the Window smaller than the text Fits,\r\n// then you experience numbers dancing (moving around randomly).\r\n//\r\n// And trying to select parts of text is even more fatal (random parts are rendered).\r\n//\r\npackage test;\r\n\r\nimport java.awt.ComponentOrientation;\r\n\r\npublic class JavaBug extends javax.swing.JFrame {\r\n\r\n    public static void main(String[] args) {\r\n        JavaBug frame = new JavaBug();\r\n        frame.show();\r\n    }\r\n    \r\n    public JavaBug() {\r\n        javax.swing.JTextField textField = new javax.swing.JTextField();\r\n        \r\n        textField.setFont(new java.awt.Font(&quot;Tahoma&quot;, 0, 24)); // NOI18N\r\n        \r\n        // Below is just name of a product, added inside an accounting software.\r\n        textField.setText(&quot;\\u0635\\u0646\\u062F\\u0648\\u0642 \\u06F4\\u06F0&#215;\\u06F3\\u06F0 \\u067E\\u0627\\u06CC\\u0647 \\u062F\\u0627\\u0631 \\u0648\\u0627\\u06CC\\u0631\\u0646\\u06AF \\u0645\\u06CC\\u062A\\u0631 \\u062A\\u06A9 \\u0641\\u0627\\u0632&quot;);\r\n        textField.setComponentOrientation(ComponentOrientation.RIGHT_TO_LEFT);\r\n        \r\n        getContentPane().add(textField);\r\n        pack();\r\n        this.setLocationRelativeTo(null); //enusre get showed at screen center\r\n        setDefaultCloseOperation(javax.swing.WindowConstants.EXIT_ON_CLOSE);\r\n    }\r\n}\r\n```\r\n\r\n### Screen shots\r\nJust running above code results to:  \r\n![just run][2]\r\n\r\nAfter resize, to something less:  \r\n![after resize][3]\r\n\r\n----------\r\nDevelopment Kit or Runtime version:\r\n\r\n - java version &quot;1.8.0_25&quot;\r\n - Java(TM) SE Runtime Environment (build 1.8.0_25-b18)\r\n - Java HotSpot(TM) Client VM (build 25.25-b02, mixed mode)\r\n\r\n\r\n  [1]: http://bugs.java.com/bugdatabase/view_bug.do?bug_id=JDK-8194733\r\n  [2]: https://i.stack.imgur.com/3VwMg.jpg\r\n  [3]: https://i.stack.imgur.com/9BKMv.jpg","title":"JTextField render bug if Text-Not-Fitting (JDK 7 till 18)","body":"<h2>JTextField has wrong text render on RIGHT_TO_LEFT component orientation</h2>\n<p>We need a <strong>workaround</strong>, since whenever <code>JTextField</code> is filled with text that contains:</p>\n<ul>\n<li><code>Right to left text</code> like Arabic,</li>\n<li><code>Latin numbers</code>,</li>\n<li>and <code>Latin text</code>.</li>\n</ul>\n<p>Then <code>JTextField</code> renders text parts at unexpected locations.</p>\n<blockquote>\n<p>(It only renders right if the complete text Fits inside the <code>JTextField</code>.)</p>\n</blockquote>\n<p>The text we use to reproduce is:</p>\n<ul>\n<li><code>صندوق ۴۰×۳۰ پایه دار وایرنگ میتر تک فاز</code></li>\n</ul>\n<p><strong>Other info</strong>:</p>\n<ul>\n<li>Above text is just name of a product, added inside an accounting software we created, but our users have match more render failures than we could reproduce.</li>\n<li>We reported at: <a href=\"http://bugs.java.com/bugdatabase/view_bug.do?bug_id=JDK-8194733\" rel=\"nofollow noreferrer\">JDK-8194733</a></li>\n<li>We have no experience with a custom-render in Java to make workaround, but render of entire text not considering the limit, and clipping that, should do the trick.</li>\n</ul>\n<hr />\n<h1>Source code for an executable test case:</h1>\n<pre class=\"lang-java prettyprint-override\"><code>//\n// Like you may notice, below code shows simple JTextField, \n// but once you resize the Window smaller than the text Fits,\n// then you experience numbers dancing (moving around randomly).\n//\n// And trying to select parts of text is even more fatal (random parts are rendered).\n//\npackage test;\n\nimport java.awt.ComponentOrientation;\n\npublic class JavaBug extends javax.swing.JFrame {\n\n    public static void main(String[] args) {\n        JavaBug frame = new JavaBug();\n        frame.show();\n    }\n    \n    public JavaBug() {\n        javax.swing.JTextField textField = new javax.swing.JTextField();\n        \n        textField.setFont(new java.awt.Font(&quot;Tahoma&quot;, 0, 24)); // NOI18N\n        \n        // Below is just name of a product, added inside an accounting software.\n        textField.setText(&quot;\\u0635\\u0646\\u062F\\u0648\\u0642 \\u06F4\\u06F0×\\u06F3\\u06F0 \\u067E\\u0627\\u06CC\\u0647 \\u062F\\u0627\\u0631 \\u0648\\u0627\\u06CC\\u0631\\u0646\\u06AF \\u0645\\u06CC\\u062A\\u0631 \\u062A\\u06A9 \\u0641\\u0627\\u0632&quot;);\n        textField.setComponentOrientation(ComponentOrientation.RIGHT_TO_LEFT);\n        \n        getContentPane().add(textField);\n        pack();\n        this.setLocationRelativeTo(null); //enusre get showed at screen center\n        setDefaultCloseOperation(javax.swing.WindowConstants.EXIT_ON_CLOSE);\n    }\n}\n</code></pre>\n<h3>Screen shots</h3>\n<p>Just running above code results to:<br />\n<img src=\"https://i.stack.imgur.com/3VwMg.jpg\" alt=\"just run\" /></p>\n<p>After resize, to something less:<br />\n<img src=\"https://i.stack.imgur.com/9BKMv.jpg\" alt=\"after resize\" /></p>\n<hr />\n<p>Development Kit or Runtime version:</p>\n<ul>\n<li>java version &quot;1.8.0_25&quot;</li>\n<li>Java(TM) SE Runtime Environment (build 1.8.0_25-b18)</li>\n<li>Java HotSpot(TM) Client VM (build 25.25-b02, mixed mode)</li>\n</ul>\n"},{"tags":["java","android","intellij-idea","android-activity","android-studio"],"comments":[{"owner":{"account_id":159685,"reputation":5390,"user_id":379245,"accept_rate":96,"display_name":"BVB"},"score":0,"creation_date":1438637338,"post_id":18991161,"comment_id":51521816,"body_markdown":"What do you mean? I have accepted the answer that has solved my specific problem. The answer with the most upvotes here applies to most people who have the same issue. I am not familiar with any other solutions, unfortunately.","body":"What do you mean? I have accepted the answer that has solved my specific problem. The answer with the most upvotes here applies to most people who have the same issue. I am not familiar with any other solutions, unfortunately."},{"owner":{"account_id":159685,"reputation":5390,"user_id":379245,"accept_rate":96,"display_name":"BVB"},"score":0,"creation_date":1440516542,"post_id":18991161,"comment_id":52300219,"body_markdown":"@grAPPfruit the premise of the question is different and the posted date is earlier than the question you linked.","body":"@grAPPfruit the premise of the question is different and the posted date is earlier than the question you linked."},{"owner":{"account_id":1631718,"reputation":6686,"user_id":1506104,"accept_rate":64,"display_name":"user1506104"},"score":0,"creation_date":1526319633,"post_id":18991161,"comment_id":87688296,"body_markdown":"in 2018, this can still happen when your Android Studio and Gradle don&#39;t agree. I fixed it using three options as discussed here: https://stackoverflow.com/questions/50313885/android-studio-cannot-resolve-symbols-from-aar/50327343#50327343","body":"in 2018, this can still happen when your Android Studio and Gradle don&#39;t agree. I fixed it using three options as discussed here: <a href=\"https://stackoverflow.com/questions/50313885/android-studio-cannot-resolve-symbols-from-aar/50327343#50327343\" title=\"android studio cannot resolve symbols from aar\">stackoverflow.com/questions/50313885/&hellip;</a>"},{"owner":{"account_id":212305,"reputation":24651,"user_id":465053,"accept_rate":83,"display_name":"RBT"},"score":0,"creation_date":1533513887,"post_id":18991161,"comment_id":90359762,"body_markdown":"Related post - [Android Studio suddenly cannot resolve symbols](https://stackoverflow.com/q/21100688/465053) &amp; [Android Studio says “cannot resolve symbol” but project compiles](https://stackoverflow.com/q/19508649/465053)","body":"Related post - <a href=\"https://stackoverflow.com/q/21100688/465053\">Android Studio suddenly cannot resolve symbols</a> &amp; <a href=\"https://stackoverflow.com/q/19508649/465053\">Android Studio says “cannot resolve symbol” but project compiles</a>"}],"answers":[{"tags":[],"owner":{"account_id":1397291,"reputation":18808,"user_id":1326821,"display_name":"free3dom"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1380056625,"creation_date":1380056625,"answer_id":18992007,"question_id":18991161,"body_markdown":"Try adding the library to the `Project Structure`.\r\n\r\nTo do this, on the menu choose `File` -&gt; `Project Structure`. Select the `Libraries` option and click the green `+` to add your library.","title":"Android Studio cannot resolve symbol but code executes correctly","body":"<p>Try adding the library to the <code>Project Structure</code>.</p>\n\n<p>To do this, on the menu choose <code>File</code> -> <code>Project Structure</code>. Select the <code>Libraries</code> option and click the green <code>+</code> to add your library.</p>\n"},{"tags":[],"owner":{"account_id":159685,"reputation":5390,"user_id":379245,"accept_rate":96,"display_name":"BVB"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1623813888,"creation_date":1380295211,"answer_id":19054384,"question_id":18991161,"body_markdown":"**EDIT: For most folks, [Senthil&#39;s answer][1] will be more appropriate. I am leaving this one as the accepted answer because it solved my specific problem.**\r\n\r\nI found the issue - my `SDK.jar` was not generated correctly. It included `.java` files instead of `.class` files. This explains why the IDE was not able to find the SDK class. The package structure was still correct in the Jar, which is why the package name itself is not a red color. The code worked correctly, because the compiler knew to compile the `.java` files.\r\n\r\nTo solve the issue, I modified my `build.gradle` of my SDK project to include `.class` files, instead of `.java` files, when creating the Jar. Including this new Jar instead of the old Jar  fixed the IDE issue.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/18991161/android-studio-cannot-resolve-symbol-but-code-executes-correctly/19223269#19223269","title":"Android Studio cannot resolve symbol but code executes correctly","body":"<p><strong>EDIT: For most folks, <a href=\"https://stackoverflow.com/questions/18991161/android-studio-cannot-resolve-symbol-but-code-executes-correctly/19223269#19223269\">Senthil's answer</a> will be more appropriate. I am leaving this one as the accepted answer because it solved my specific problem.</strong></p>\n<p>I found the issue - my <code>SDK.jar</code> was not generated correctly. It included <code>.java</code> files instead of <code>.class</code> files. This explains why the IDE was not able to find the SDK class. The package structure was still correct in the Jar, which is why the package name itself is not a red color. The code worked correctly, because the compiler knew to compile the <code>.java</code> files.</p>\n<p>To solve the issue, I modified my <code>build.gradle</code> of my SDK project to include <code>.class</code> files, instead of <code>.java</code> files, when creating the Jar. Including this new Jar instead of the old Jar  fixed the IDE issue.</p>\n"},{"tags":[],"owner":{"account_id":3402532,"reputation":1271,"user_id":2854381,"display_name":"Senthil"},"down_vote_count":0,"up_vote_count":127,"is_accepted":false,"score":127,"last_activity_date":1381144149,"creation_date":1381144149,"answer_id":19223269,"question_id":18991161,"body_markdown":"I have faced this issue when IntelliJ IDEA got closed abruptly due to OS crash.\r\n\r\nYou can do &quot;File&quot; -&gt; &quot;Invalidate Caches...&quot;, and select &quot;Invalidate and Restart&quot; option to fix this.","title":"Android Studio cannot resolve symbol but code executes correctly","body":"<p>I have faced this issue when IntelliJ IDEA got closed abruptly due to OS crash.</p>\n\n<p>You can do \"File\" -> \"Invalidate Caches...\", and select \"Invalidate and Restart\" option to fix this.</p>\n"},{"tags":[],"owner":{"account_id":1686527,"reputation":14163,"user_id":1549700,"accept_rate":84,"display_name":"Machado"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1488547573,"creation_date":1488547573,"answer_id":42580123,"question_id":18991161,"body_markdown":"This was always happening to me after switching branches on my current project: a lot of non-sense erros being reported by the IDE.\r\n\r\nThe solution is to modify and **force** a `build.gradle` **synchronization**.\r\n","title":"Android Studio cannot resolve symbol but code executes correctly","body":"<p>This was always happening to me after switching branches on my current project: a lot of non-sense erros being reported by the IDE.</p>\n\n<p>The solution is to modify and <strong>force</strong> a <code>build.gradle</code> <strong>synchronization</strong>.</p>\n"},{"tags":[],"owner":{"account_id":9516877,"reputation":796,"user_id":7077178,"display_name":"Tricky Bay"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1534710180,"creation_date":1534710180,"answer_id":51921539,"question_id":18991161,"body_markdown":"## **Changing the language injection settings worked for me.**\r\n\r\n&gt; Place the cursor on any of the red underlined code and `Alt + Enter`\r\n\r\n[![enter image description here][1]][1]\r\n\r\n&gt; Now select `Language Injection Settings` and a window will open as shown below.\r\n\r\n[![enter image description here][2]][2]\r\n\r\n&gt; Make sure you have the right file type selected in `ID:` field and Uncheck the options related to your error codes and click Ok\r\n\r\n[![enter image description here][3]][3]\r\n\r\nHope this helps somebody.\r\n\r\n  [1]: https://i.stack.imgur.com/bn0AC.png\r\n  [2]: https://i.stack.imgur.com/4wsoS.png\r\n  [3]: https://i.stack.imgur.com/jI6HV.png","title":"Android Studio cannot resolve symbol but code executes correctly","body":"<h2><strong>Changing the language injection settings worked for me.</strong></h2>\n\n<blockquote>\n  <p>Place the cursor on any of the red underlined code and <code>Alt + Enter</code></p>\n</blockquote>\n\n<p><a href=\"https://i.stack.imgur.com/bn0AC.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/bn0AC.png\" alt=\"enter image description here\"></a></p>\n\n<blockquote>\n  <p>Now select <code>Language Injection Settings</code> and a window will open as shown below.</p>\n</blockquote>\n\n<p><a href=\"https://i.stack.imgur.com/4wsoS.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/4wsoS.png\" alt=\"enter image description here\"></a></p>\n\n<blockquote>\n  <p>Make sure you have the right file type selected in <code>ID:</code> field and Uncheck the options related to your error codes and click Ok</p>\n</blockquote>\n\n<p><a href=\"https://i.stack.imgur.com/jI6HV.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/jI6HV.png\" alt=\"enter image description here\"></a></p>\n\n<p>Hope this helps somebody.</p>\n"},{"tags":[],"owner":{"account_id":4703500,"reputation":18590,"user_id":3806413,"accept_rate":0,"display_name":"0xAliHn"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1536436501,"creation_date":1536436501,"answer_id":52238915,"question_id":18991161,"body_markdown":"Try following steps:\r\n\r\n1. Close your project then in your project folder delete project `/.idea`\r\n2. Delete `/.gradle` folder also\r\n3. Noe choose `File` option from menu on left top side of android studio\r\n4. Select the option: `Invalidate Cache/Restart` It will open a dialog\r\n5. Click on the first button with option: `Invalidate and Restart`\r\n\r\nAfter trying above options everything should be working fine.","title":"Android Studio cannot resolve symbol but code executes correctly","body":"<p>Try following steps:</p>\n\n<ol>\n<li>Close your project then in your project folder delete project <code>/.idea</code></li>\n<li>Delete <code>/.gradle</code> folder also</li>\n<li>Noe choose <code>File</code> option from menu on left top side of android studio</li>\n<li>Select the option: <code>Invalidate Cache/Restart</code> It will open a dialog</li>\n<li>Click on the first button with option: <code>Invalidate and Restart</code></li>\n</ol>\n\n<p>After trying above options everything should be working fine.</p>\n"},{"tags":[],"owner":{"account_id":5032055,"reputation":564,"user_id":4041955,"display_name":"Sumit Kumar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1538632858,"creation_date":1538630133,"answer_id":52639455,"question_id":18991161,"body_markdown":"This problem regularly generated in android 3.1. I have tried every possible way. But it resolved when i delete **.gradle** and **.idea** file and start Android studio which is already close.\r\n\r\nAndroid studio create **.idea** and **.gradle** file for your project again. After this click on **sync project with gradle**. Now everything works fine. ","title":"Android Studio cannot resolve symbol but code executes correctly","body":"<p>This problem regularly generated in android 3.1. I have tried every possible way. But it resolved when i delete <strong>.gradle</strong> and <strong>.idea</strong> file and start Android studio which is already close.</p>\n\n<p>Android studio create <strong>.idea</strong> and <strong>.gradle</strong> file for your project again. After this click on <strong>sync project with gradle</strong>. Now everything works fine. </p>\n"},{"tags":[],"owner":{"account_id":8794781,"reputation":305,"user_id":6573001,"accept_rate":73,"display_name":"sedq"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1552542481,"creation_date":1552542481,"answer_id":55155730,"question_id":18991161,"body_markdown":"For me worked only\r\n\r\n**File -&gt; Open -&gt; and click build.gradle to reopen project**","title":"Android Studio cannot resolve symbol but code executes correctly","body":"<p>For me worked only</p>\n\n<p><strong>File -> Open -> and click build.gradle to reopen project</strong></p>\n"},{"tags":[],"owner":{"account_id":9102671,"reputation":364,"user_id":6774300,"display_name":"whateven"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1582462150,"creation_date":1582462150,"answer_id":60362342,"question_id":18991161,"body_markdown":"This worked for me:\r\n\r\nGo to `File` -&gt; `Sync Project with Gradle Files`.","title":"Android Studio cannot resolve symbol but code executes correctly","body":"<p>This worked for me:</p>\n\n<p>Go to <code>File</code> -> <code>Sync Project with Gradle Files</code>.</p>\n"},{"tags":[],"owner":{"account_id":15687593,"reputation":806,"user_id":11319773,"display_name":"Axes Grinds"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1617036931,"creation_date":1617036931,"answer_id":66858363,"question_id":18991161,"body_markdown":"Close Android Studio and delete the build folder. Reopen Android Studio and Press &quot;Sync With Gradle&quot; if necessary.That&#39;s the only thing that will work.","title":"Android Studio cannot resolve symbol but code executes correctly","body":"<p>Close Android Studio and delete the build folder. Reopen Android Studio and Press &quot;Sync With Gradle&quot; if necessary.That's the only thing that will work.</p>\n"},{"tags":[],"owner":{"account_id":11685431,"reputation":161,"user_id":8555515,"display_name":"Mohsen Mousavi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653120799,"creation_date":1653120799,"answer_id":72327790,"question_id":18991161,"body_markdown":"I deleted all `build` folders and `.idea` files of all project modules separately and rebuilt the project. That worked for me.","title":"Android Studio cannot resolve symbol but code executes correctly","body":"<p>I deleted all <code>build</code> folders and <code>.idea</code> files of all project modules separately and rebuilt the project. That worked for me.</p>\n"}],"owner":{"account_id":159685,"reputation":5390,"user_id":379245,"accept_rate":96,"display_name":"BVB"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":51241,"favorite_count":0,"down_vote_count":0,"up_vote_count":52,"accepted_answer_id":19054384,"answer_count":11,"score":52,"last_activity_date":1653120799,"creation_date":1380053542,"question_id":18991161,"body_markdown":"I have recently created a library Jar file that I imported in my Android project. I am able to call functions and use classes that are present in this Jar file, but Android Studio keeps telling me that it cannot &quot;resolve symbol&quot; of the class I am using. Please see the screenshot below:\r\n\r\n![SDK class - cannot find symbol][1]\r\n\r\n[Click here for full-size image][2]\r\n\r\nThe code builds and executes successfully. The function `isThisThingWorking()` simply returns `true`, and that is just what `boolean blah` gets set to.\r\n\r\nI have tried pressing the `Sync Project with Gradle Files` button and using the `Invalidate Caches / Restart...` option from Android Studio&#39;s `File` menu, but none of this solved the issue. What can I do to make the Android Studio IDE not display the `Cannot resolve symbol &#39;xxxSDK&#39;` error?\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/4hK2s.png\r\n  [2]: http://i.stack.imgur.com/4hK2s.png","title":"Android Studio cannot resolve symbol but code executes correctly","body":"<p>I have recently created a library Jar file that I imported in my Android project. I am able to call functions and use classes that are present in this Jar file, but Android Studio keeps telling me that it cannot \"resolve symbol\" of the class I am using. Please see the screenshot below:</p>\n\n<p><img src=\"https://i.stack.imgur.com/4hK2s.png\" alt=\"SDK class - cannot find symbol\"></p>\n\n<p><a href=\"https://i.stack.imgur.com/4hK2s.png\" rel=\"noreferrer\">Click here for full-size image</a></p>\n\n<p>The code builds and executes successfully. The function <code>isThisThingWorking()</code> simply returns <code>true</code>, and that is just what <code>boolean blah</code> gets set to.</p>\n\n<p>I have tried pressing the <code>Sync Project with Gradle Files</code> button and using the <code>Invalidate Caches / Restart...</code> option from Android Studio's <code>File</code> menu, but none of this solved the issue. What can I do to make the Android Studio IDE not display the <code>Cannot resolve symbol 'xxxSDK'</code> error?</p>\n"},{"tags":["java","android","csv","file"],"comments":[{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1653120844,"post_id":72327776,"comment_id":127777619,"body_markdown":"Use Environment.getExternalStoragePublicDirectory(Environment.DIRECTORY_DOCUMENTS).getAbsolutePath() instead. Dont try to save a .csv to DCIM as it will not be accepted on Android 11+ devices.","body":"Use Environment.getExternalStoragePublicDirectory(Environment.DI&zwnj;&#8203;RECTORY_DOCUMENTS).g&zwnj;&#8203;etAbsolutePath() instead. Dont try to save a .csv to DCIM as it will not be accepted on Android 11+ devices."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1653121264,"post_id":72327776,"comment_id":127777679,"body_markdown":"And what you consider to be internal storage is called external storage. Funny isnt it?","body":"And what you consider to be internal storage is called external storage. Funny isnt it?"}],"owner":{"account_id":25342620,"reputation":19,"user_id":19160804,"display_name":"Danijel333"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":582,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1653120592,"creation_date":1653120592,"question_id":72327776,"body_markdown":"I have put somehow together a code that records my sensor data from the phone and i want to save them as csv file in some directory (maybe DCIM) in the internal Storage on the phone, but i cannot find something similar, i am also new to Android Studio and java.\r\n\r\nOn the bottom you can see ,i found that code example with \r\n&quot;getExternalFilesDir(null).getAbsolutePath()&quot; , how can i change that , that my file is saved on the phone in internal storage and tell him exactly where so i can find it later and use it further ?\r\n\r\n```\r\npackage com.example.shakedemo;\r\n\r\nimport androidx.appcompat.app.AppCompatActivity;\r\n\r\nimport android.content.Context;\r\nimport android.content.Intent;\r\nimport android.hardware.Sensor;\r\nimport android.hardware.SensorEvent;\r\nimport android.hardware.SensorEventListener;\r\nimport android.hardware.SensorManager;\r\nimport android.os.Bundle;\r\nimport android.util.Log;\r\nimport android.widget.CompoundButton;\r\nimport android.widget.ProgressBar;\r\nimport android.widget.Switch;\r\nimport android.widget.TextView;\r\n\r\nimport java.io.File;\r\nimport java.io.FileWriter;\r\nimport java.io.IOException;\r\n\r\n\r\npublic class MainActivity extends AppCompatActivity {\r\n    TextView txt_currentAccel, txt_prevAccel, txt_acceleration, txt_temp;\r\n    ProgressBar prog_shakeMeter;\r\n    Switch switch1;\r\n\r\n    //define Sensor Variables\r\n    private SensorManager mSensorManager;\r\n    private Sensor mAccelerometer;\r\n\r\n    private SensorManager mSensorManagerNew;\r\n    private Sensor mTemp;\r\n\r\n    private double accelerationCurrentValue;\r\n    private double accelerationPreviousValue;\r\n\r\n\r\n    private int SwitchFlag = 0;\r\n\r\n    final String TAG = &quot;SensorLog&quot;;\r\n    FileWriter writer;\r\n\r\n\r\n    private SensorEventListener sensorEventListener = new SensorEventListener() {\r\n        @Override\r\n\r\n        public void onSensorChanged(SensorEvent sensorEvent) {\r\n            if (sensorEvent.sensor.getType() == Sensor.TYPE_ACCELEROMETER &amp;&amp; SwitchFlag == 1) {\r\n                float x = sensorEvent.values[0];\r\n                float y = sensorEvent.values[1];\r\n                float z = sensorEvent.values[2];\r\n\r\n                accelerationCurrentValue = Math.sqrt((x * x + y * y + z * z));\r\n                double changeInAcceleration = Math.abs(accelerationCurrentValue - accelerationPreviousValue);\r\n\r\n                accelerationPreviousValue = accelerationCurrentValue;\r\n\r\n                //update text views\r\n                txt_currentAccel.setText(&quot;Current =&quot; + accelerationCurrentValue);\r\n                txt_prevAccel.setText((&quot;Prev = &quot; + accelerationPreviousValue));\r\n                txt_acceleration.setText(&quot;Acceleration change =&quot; + changeInAcceleration);\r\n                prog_shakeMeter.setProgress((int) changeInAcceleration);\r\n\r\n\r\n                try {\r\n                    writer.write(String.format(&quot;ACC; %f; %f; %f; %f; %f; %f\\n&quot;, sensorEvent.values[0], sensorEvent.values[1], sensorEvent.values[2], 0.f, 0.f, 0.f));\r\n                }catch (IOException e) {\r\n                    e.printStackTrace();\r\n                }\r\n            }\r\n\r\n        }\r\n\r\n        @Override\r\n        public void onAccuracyChanged(Sensor sensor, int i) {\r\n\r\n        }\r\n    };\r\n    private SensorEventListener sensorEventListenerNew = new SensorEventListener() {\r\n        @Override\r\n        public void onSensorChanged(SensorEvent sensorEvent) {\r\n            float temp = sensorEvent.values[0];\r\n            txt_temp.setText(&quot;Temp = &quot; + temp);\r\n        }\r\n\r\n        @Override\r\n        public void onAccuracyChanged(Sensor sensor, int i) {\r\n\r\n        }\r\n    };\r\n\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        txt_acceleration = findViewById(R.id.txt_accel);\r\n        txt_prevAccel = findViewById(R.id.txt_prevAccel);\r\n        txt_currentAccel = findViewById(R.id.txt_currentAccel);\r\n        txt_temp = findViewById(R.id.txt_temp);\r\n\r\n        prog_shakeMeter = findViewById(R.id.prog_shakeMeter);\r\n\r\n        switch1 = findViewById(R.id.switch1);\r\n\r\n        // Initialize Sensors\r\n        mSensorManager = (SensorManager) getSystemService(SENSOR_SERVICE);\r\n        mAccelerometer = mSensorManager.getDefaultSensor(Sensor.TYPE_ACCELEROMETER);\r\n\r\n        mSensorManagerNew = (SensorManager) getSystemService(SENSOR_SERVICE);\r\n        mTemp = mSensorManagerNew.getDefaultSensor(Sensor.TYPE_LIGHT);\r\n\r\n\r\n        switch1.setOnCheckedChangeListener(new CompoundButton.OnCheckedChangeListener() {\r\n            @Override\r\n\r\n            public void onCheckedChanged(CompoundButton compoundButton, boolean b) {\r\n                if (b == true) {\r\n\r\n                    Log.d(TAG, &quot;Writing to &quot; + getStorageDir());\r\n                    try {\r\n                        writer = new FileWriter(new File(getStorageDir(), &quot;sensors_&quot; + System.currentTimeMillis() + &quot;.csv&quot;));\r\n                    } catch (\r\n                            IOException e) {\r\n                        e.printStackTrace();\r\n                    }\r\n\r\n                    SwitchFlag = 1;\r\n\r\n                } else {\r\n                    try {\r\n                        writer.close();\r\n                    } catch (IOException e) {\r\n                        e.printStackTrace();\r\n                    }\r\n\r\n                    SwitchFlag = 0;\r\n                }\r\n\r\n            }\r\n        });\r\n\r\n\r\n    }\r\n\r\n\r\n    protected void onResume() {\r\n        super.onResume();\r\n        mSensorManager.registerListener(sensorEventListenerNew, mTemp, SensorManager.SENSOR_DELAY_NORMAL);\r\n        mSensorManager.registerListener(sensorEventListener, mAccelerometer, SensorManager.SENSOR_DELAY_NORMAL);\r\n    }\r\n\r\n    protected void onPause() {\r\n        super.onPause();\r\n        mSensorManager.unregisterListener(sensorEventListener);\r\n        mSensorManager.unregisterListener(sensorEventListenerNew);\r\n\r\n\r\n    }\r\n\r\n\r\n    private String getStorageDir() {\r\n        return this.getExternalFilesDir(null).getAbsolutePath();\r\n    }\r\n}\r\n\r\n```","title":"Android: Save CSV File to internal Storage","body":"<p>I have put somehow together a code that records my sensor data from the phone and i want to save them as csv file in some directory (maybe DCIM) in the internal Storage on the phone, but i cannot find something similar, i am also new to Android Studio and java.</p>\n<p>On the bottom you can see ,i found that code example with\n&quot;getExternalFilesDir(null).getAbsolutePath()&quot; , how can i change that , that my file is saved on the phone in internal storage and tell him exactly where so i can find it later and use it further ?</p>\n<pre><code>package com.example.shakedemo;\n\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport android.content.Context;\nimport android.content.Intent;\nimport android.hardware.Sensor;\nimport android.hardware.SensorEvent;\nimport android.hardware.SensorEventListener;\nimport android.hardware.SensorManager;\nimport android.os.Bundle;\nimport android.util.Log;\nimport android.widget.CompoundButton;\nimport android.widget.ProgressBar;\nimport android.widget.Switch;\nimport android.widget.TextView;\n\nimport java.io.File;\nimport java.io.FileWriter;\nimport java.io.IOException;\n\n\npublic class MainActivity extends AppCompatActivity {\n    TextView txt_currentAccel, txt_prevAccel, txt_acceleration, txt_temp;\n    ProgressBar prog_shakeMeter;\n    Switch switch1;\n\n    //define Sensor Variables\n    private SensorManager mSensorManager;\n    private Sensor mAccelerometer;\n\n    private SensorManager mSensorManagerNew;\n    private Sensor mTemp;\n\n    private double accelerationCurrentValue;\n    private double accelerationPreviousValue;\n\n\n    private int SwitchFlag = 0;\n\n    final String TAG = &quot;SensorLog&quot;;\n    FileWriter writer;\n\n\n    private SensorEventListener sensorEventListener = new SensorEventListener() {\n        @Override\n\n        public void onSensorChanged(SensorEvent sensorEvent) {\n            if (sensorEvent.sensor.getType() == Sensor.TYPE_ACCELEROMETER &amp;&amp; SwitchFlag == 1) {\n                float x = sensorEvent.values[0];\n                float y = sensorEvent.values[1];\n                float z = sensorEvent.values[2];\n\n                accelerationCurrentValue = Math.sqrt((x * x + y * y + z * z));\n                double changeInAcceleration = Math.abs(accelerationCurrentValue - accelerationPreviousValue);\n\n                accelerationPreviousValue = accelerationCurrentValue;\n\n                //update text views\n                txt_currentAccel.setText(&quot;Current =&quot; + accelerationCurrentValue);\n                txt_prevAccel.setText((&quot;Prev = &quot; + accelerationPreviousValue));\n                txt_acceleration.setText(&quot;Acceleration change =&quot; + changeInAcceleration);\n                prog_shakeMeter.setProgress((int) changeInAcceleration);\n\n\n                try {\n                    writer.write(String.format(&quot;ACC; %f; %f; %f; %f; %f; %f\\n&quot;, sensorEvent.values[0], sensorEvent.values[1], sensorEvent.values[2], 0.f, 0.f, 0.f));\n                }catch (IOException e) {\n                    e.printStackTrace();\n                }\n            }\n\n        }\n\n        @Override\n        public void onAccuracyChanged(Sensor sensor, int i) {\n\n        }\n    };\n    private SensorEventListener sensorEventListenerNew = new SensorEventListener() {\n        @Override\n        public void onSensorChanged(SensorEvent sensorEvent) {\n            float temp = sensorEvent.values[0];\n            txt_temp.setText(&quot;Temp = &quot; + temp);\n        }\n\n        @Override\n        public void onAccuracyChanged(Sensor sensor, int i) {\n\n        }\n    };\n\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        txt_acceleration = findViewById(R.id.txt_accel);\n        txt_prevAccel = findViewById(R.id.txt_prevAccel);\n        txt_currentAccel = findViewById(R.id.txt_currentAccel);\n        txt_temp = findViewById(R.id.txt_temp);\n\n        prog_shakeMeter = findViewById(R.id.prog_shakeMeter);\n\n        switch1 = findViewById(R.id.switch1);\n\n        // Initialize Sensors\n        mSensorManager = (SensorManager) getSystemService(SENSOR_SERVICE);\n        mAccelerometer = mSensorManager.getDefaultSensor(Sensor.TYPE_ACCELEROMETER);\n\n        mSensorManagerNew = (SensorManager) getSystemService(SENSOR_SERVICE);\n        mTemp = mSensorManagerNew.getDefaultSensor(Sensor.TYPE_LIGHT);\n\n\n        switch1.setOnCheckedChangeListener(new CompoundButton.OnCheckedChangeListener() {\n            @Override\n\n            public void onCheckedChanged(CompoundButton compoundButton, boolean b) {\n                if (b == true) {\n\n                    Log.d(TAG, &quot;Writing to &quot; + getStorageDir());\n                    try {\n                        writer = new FileWriter(new File(getStorageDir(), &quot;sensors_&quot; + System.currentTimeMillis() + &quot;.csv&quot;));\n                    } catch (\n                            IOException e) {\n                        e.printStackTrace();\n                    }\n\n                    SwitchFlag = 1;\n\n                } else {\n                    try {\n                        writer.close();\n                    } catch (IOException e) {\n                        e.printStackTrace();\n                    }\n\n                    SwitchFlag = 0;\n                }\n\n            }\n        });\n\n\n    }\n\n\n    protected void onResume() {\n        super.onResume();\n        mSensorManager.registerListener(sensorEventListenerNew, mTemp, SensorManager.SENSOR_DELAY_NORMAL);\n        mSensorManager.registerListener(sensorEventListener, mAccelerometer, SensorManager.SENSOR_DELAY_NORMAL);\n    }\n\n    protected void onPause() {\n        super.onPause();\n        mSensorManager.unregisterListener(sensorEventListener);\n        mSensorManager.unregisterListener(sensorEventListenerNew);\n\n\n    }\n\n\n    private String getStorageDir() {\n        return this.getExternalFilesDir(null).getAbsolutePath();\n    }\n}\n\n</code></pre>\n"},{"tags":["java","json","jackson","objectmapper"],"comments":[{"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"score":3,"creation_date":1653123318,"post_id":72327755,"comment_id":127778065,"body_markdown":"If your `value` is already JSON, why are you trying to serialize it as a JSON string? What you&#39;re trying to do makes no sense.","body":"If your <code>value</code> is already JSON, why are you trying to serialize it as a JSON string? What you&#39;re trying to do makes no sense."},{"owner":{"account_id":7529235,"reputation":1142,"user_id":5718106,"display_name":"Sibin Muhammed"},"score":0,"creation_date":1653123860,"post_id":72327755,"comment_id":127778152,"body_markdown":"yourString.replaceAll(&quot;\\\\\\\\&quot;, &quot;&quot;);","body":"yourString.replaceAll(&quot;\\\\\\\\&quot;, &quot;&quot;);"},{"owner":{"account_id":24036553,"reputation":22,"user_id":18016761,"display_name":"Oleg"},"score":0,"creation_date":1653208094,"post_id":72327755,"comment_id":127791209,"body_markdown":"@MarkRotteveel because it a feature of my project. I have a Map&lt;String,String&gt; and I need set Object (String view) to value map.","body":"@MarkRotteveel because it a feature of my project. I have a Map&lt;String,String&gt; and I need set Object (String view) to value map."}],"owner":{"account_id":24036553,"reputation":22,"user_id":18016761,"display_name":"Oleg"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":81,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1653120399,"creation_date":1653120399,"question_id":72327755,"body_markdown":"When I serialize String element with `\\&quot;` inside, result is `&quot;{\\&quot;role\\&quot;:\\&quot;student\\&quot;, \\&quot;userType\\&quot;:\\&quot;techer\\&quot;}&quot;` How to change result to `&quot;{&quot;role&quot;:&quot;student&quot;, &quot;userType&quot;:&quot;techer&quot;}&quot;`? Used java, jackson lib.\r\n```\r\n        String value = &quot;{\\&quot;role\\&quot;:\\&quot;student\\&quot;, \\&quot;userType\\&quot;:\\&quot;techer\\&quot;}&quot;;\r\n        System.out.println(value); //{&quot;role&quot;:&quot;student&quot;, &quot;userType&quot;:&quot;techer&quot;}\r\n        \r\n        String json2 = new ObjectMapper().writeValueAsString(value);\r\n        System.out.println(json2);// &quot;{\\&quot;role\\&quot;:\\&quot;student\\&quot;, \\&quot;userType\\&quot;:\\&quot;techer\\&quot;}&quot;\r\n```","title":"serialization symbol \\&quot; from Jackson","body":"<p>When I serialize String element with <code>\\&quot;</code> inside, result is <code>&quot;{\\&quot;role\\&quot;:\\&quot;student\\&quot;, \\&quot;userType\\&quot;:\\&quot;techer\\&quot;}&quot;</code> How to change result to <code>&quot;{&quot;role&quot;:&quot;student&quot;, &quot;userType&quot;:&quot;techer&quot;}&quot;</code>? Used java, jackson lib.</p>\n<pre><code>        String value = &quot;{\\&quot;role\\&quot;:\\&quot;student\\&quot;, \\&quot;userType\\&quot;:\\&quot;techer\\&quot;}&quot;;\n        System.out.println(value); //{&quot;role&quot;:&quot;student&quot;, &quot;userType&quot;:&quot;techer&quot;}\n        \n        String json2 = new ObjectMapper().writeValueAsString(value);\n        System.out.println(json2);// &quot;{\\&quot;role\\&quot;:\\&quot;student\\&quot;, \\&quot;userType\\&quot;:\\&quot;techer\\&quot;}&quot;\n</code></pre>\n"},{"tags":["java","lambda","remove-if"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1653119780,"post_id":72327658,"comment_id":127777470,"body_markdown":"The type of your lambda should be Predicate&lt;Entry&lt;Integer,Integer&gt;&gt;, not something with two parameters.","body":"The type of your lambda should be Predicate&lt;Entry&lt;Integer,Integer&gt;&gt;, not something with two parameters."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":2,"creation_date":1653119792,"post_id":72327658,"comment_id":127777474,"body_markdown":"`testMap.entrySet().removeIf(e -&gt; e.getValue() &lt; 100);`. Or depending on preference: `testMap.values().removeIf(v -&gt; v &lt; 100);`. The `removeIf` method of the entry set needs a `Predicate&lt;? super Entry&lt;Integer, Integer&gt;&gt;`, so before `-&gt;` you need to place one entry, not key and value separately.","body":"<code>testMap.entrySet().removeIf(e -&gt; e.getValue() &lt; 100);</code>. Or depending on preference: <code>testMap.values().removeIf(v -&gt; v &lt; 100);</code>. The <code>removeIf</code> method of the entry set needs a <code>Predicate&lt;? super Entry&lt;Integer, Integer&gt;&gt;</code>, so before <code>-&gt;</code> you need to place one entry, not key and value separately."}],"answers":[{"tags":[],"owner":{"account_id":39208,"reputation":251240,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1653119985,"creation_date":1653119985,"answer_id":72327718,"question_id":72327658,"body_markdown":"[`Map#entrySet`](https://docs.oracle.com/javase/8/docs/api/java/util/Map.html#entrySet--) returns a `Set&lt;Map.Entry&lt;K,V&gt;&gt;`. `Set` inherits [`removeIf` from the `Collection` interface](https://docs.oracle.com/javase/8/docs/api/java/util/Collection.html#removeIf-java.util.function.Predicate-), which expects a `Predicate&lt;? super E&gt;`, namely a predicate with a single argument. `E` in this case is `Map.Entry&lt;K,V&gt;` (which is still only a single object, even though it holds two other values: a key and a value). Key and value can be accessed via `getKey()` and `getValue()` methods, respectively.\r\n\r\nYour code is fixed easily:\r\n\r\n```\r\ntestMap.entrySet().removeIf(entry -&gt; entry.getValue() &lt; 100);\r\n```","title":"&quot;Operator &#39;&lt;&#39; cannot be applied to &#39;&lt;lambda parameter&gt;&#39;, &#39;int&#39; &quot; in java","body":"<p><a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Map.html#entrySet--\" rel=\"nofollow noreferrer\"><code>Map#entrySet</code></a> returns a <code>Set&lt;Map.Entry&lt;K,V&gt;&gt;</code>. <code>Set</code> inherits <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Collection.html#removeIf-java.util.function.Predicate-\" rel=\"nofollow noreferrer\"><code>removeIf</code> from the <code>Collection</code> interface</a>, which expects a <code>Predicate&lt;? super E&gt;</code>, namely a predicate with a single argument. <code>E</code> in this case is <code>Map.Entry&lt;K,V&gt;</code> (which is still only a single object, even though it holds two other values: a key and a value). Key and value can be accessed via <code>getKey()</code> and <code>getValue()</code> methods, respectively.</p>\n<p>Your code is fixed easily:</p>\n<pre><code>testMap.entrySet().removeIf(entry -&gt; entry.getValue() &lt; 100);\n</code></pre>\n"}],"owner":{"account_id":24015774,"reputation":303,"user_id":17998741,"display_name":"Bowen"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3487,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":72327718,"answer_count":1,"score":1,"last_activity_date":1653120194,"creation_date":1653119228,"question_id":72327658,"body_markdown":"I met a problem about doing operation between a `lambda parameter` and a `int`. Codes are written as follows:  \r\n```java\r\nHashMap&lt;Integer, Integer&gt; testMap = new HashMap&lt;&gt;();\r\ntestMap.put(1, 1);\r\ntestMap.put(2, 2);\r\ntestMap.entrySet().removeIf((key, value) -&gt; value &lt; 100);\r\n```\r\nIDEA shows an error of ```Operator &#39;&lt;&#39; cannot be applied to &#39;&lt;lambda parameter&gt;&#39;, &#39;int&#39;```.  \r\nI am wondering why and if there is any way to fix the problem.","title":"&quot;Operator &#39;&lt;&#39; cannot be applied to &#39;&lt;lambda parameter&gt;&#39;, &#39;int&#39; &quot; in java","body":"<p>I met a problem about doing operation between a <code>lambda parameter</code> and a <code>int</code>. Codes are written as follows:</p>\n<pre class=\"lang-java prettyprint-override\"><code>HashMap&lt;Integer, Integer&gt; testMap = new HashMap&lt;&gt;();\ntestMap.put(1, 1);\ntestMap.put(2, 2);\ntestMap.entrySet().removeIf((key, value) -&gt; value &lt; 100);\n</code></pre>\n<p>IDEA shows an error of <code>Operator '&lt;' cannot be applied to '&lt;lambda parameter&gt;', 'int'</code>.<br />\nI am wondering why and if there is any way to fix the problem.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":18021593,"reputation":316,"user_id":13098656,"display_name":"Steffi"},"score":1,"creation_date":1653112279,"post_id":72326830,"comment_id":127776462,"body_markdown":"First check in the PassportScan if the input is = s then\nuse the following code &quot;System.exit(0);&quot;","body":"First check in the PassportScan if the input is = s then use the following code &quot;System.exit(0);&quot;"},{"owner":{"account_id":7529235,"reputation":1142,"user_id":5718106,"display_name":"Sibin Muhammed"},"score":0,"creation_date":1653113169,"post_id":72326830,"comment_id":127776566,"body_markdown":"You can&#39;t detect an event in the command line environment. You should provide a GUI, and then you can use the KeyListener class to detect a keyboard event.\nAlternatively, you can read commands from standard input and then execute a proper function.","body":"You can&#39;t detect an event in the command line environment. You should provide a GUI, and then you can use the KeyListener class to detect a keyboard event. Alternatively, you can read commands from standard input and then execute a proper function."}],"answers":[{"tags":[],"owner":{"account_id":20013244,"reputation":1040,"user_id":14669853,"display_name":"Cactusroot"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1653112333,"creation_date":1653112333,"answer_id":72327025,"question_id":72326830,"body_markdown":"You probably have some `Component` in that you display something, for example a (`class` that extends) `JFrame`, lets call it `c`.\r\n\r\nNow call:\r\n\r\n    c.addKeyListener(new KeyListener() {\r\n        @Override\r\n        public void keyTyped(KeyEvent e) {\r\n        }\r\n\r\n        @Override\r\n        public void keyPressed(KeyEvent e) {\r\n            if (Character.toLowerCase(e.getKeyChar()) == &#39;s&#39;) System.exit(0);\r\n        }\r\n\r\n        @Override\r\n        public void keyReleased(KeyEvent e) {\r\n        }\r\n    });\r\n\r\nIt is [not possible][1] to catch a `KeyEvent` without a GUI (When you think about it, how should Java know that the key was pressed in your application? If it would catch any `KeyEvent` on the device, you could easily build spyware that catches passwords or sth.)\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/37886212","title":"How to stop the program when pressing a certain button on the keyboard, for example s","body":"<p>You probably have some <code>Component</code> in that you display something, for example a (<code>class</code> that extends) <code>JFrame</code>, lets call it <code>c</code>.</p>\n<p>Now call:</p>\n<pre><code>c.addKeyListener(new KeyListener() {\n    @Override\n    public void keyTyped(KeyEvent e) {\n    }\n\n    @Override\n    public void keyPressed(KeyEvent e) {\n        if (Character.toLowerCase(e.getKeyChar()) == 's') System.exit(0);\n    }\n\n    @Override\n    public void keyReleased(KeyEvent e) {\n    }\n});\n</code></pre>\n<p>It is <a href=\"https://stackoverflow.com/a/37886212\">not possible</a> to catch a <code>KeyEvent</code> without a GUI (When you think about it, how should Java know that the key was pressed in your application? If it would catch any <code>KeyEvent</code> on the device, you could easily build spyware that catches passwords or sth.)</p>\n"},{"tags":[],"owner":{"account_id":11639846,"reputation":189,"user_id":8524713,"display_name":"bhaskarkh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653118975,"creation_date":1653118205,"answer_id":72327557,"question_id":72326830,"body_markdown":"Basically there will be two scenario for this.\r\n\r\n**1. **Once Press S****  &gt;&gt;&gt; You want to terminate the program\r\n\r\nSimply its not available in normal console \r\nbut there is way to achieve refer this post for more info [https://stackoverflow.com/a/1066647/8524713][1]\r\n\r\n**2. Press S and then press Enter key** &gt;&gt;\r\nIn this case its easy \r\n\r\ncheck on each gender input if its S break the loop\r\n\r\ntry below code for reference\r\n\r\n        public static void main(String[] args) {\r\n            PassportScan passportScan = new PassportScan();\r\n            Guard guard = new Guard();\r\n            while (true) {\r\n                Person person = passportScan.methodScan();\r\n                //checking if person object is null if ts null means s is enter\r\n                // break from loop\r\n                if(person==null) {\r\n                    break;\r\n                }\r\n                String result = guard.checkPerson(person);\r\n                System.out.println(result);\r\n            }\r\n        }\r\n       static class PassportScan {\r\n            Scanner scanner = new Scanner(System.in);\r\n    \r\n            public Person methodScan() {\r\n                System.out.println(&quot;Scanning gender&quot;);\r\n                String gender = scanner.next();\r\n\r\n                //check if string input is S or s\r\n                // then its returning null person object\r\n                if(gender.equalsIgnoreCase(&quot;s&quot;)) return null;\r\n\r\n                System.out.println(&quot;Scanning age&quot;);\r\n                int age = scanner.nextInt();\r\n                return new Person(gender, age);\r\n    \r\n            }\r\n    \r\n        }\r\n\r\none more way is to directly terminate in PassportScan class once S is typed\r\n\r\n \r\n\r\n    class PassportScan {\r\n            Scanner scanner = new Scanner(System.in);\r\n    \r\n            public Person methodScan() {\r\n                System.out.println(&quot;Scanning gender&quot;);\r\n                String gender = scanner.next();\r\n    \r\n                //check if string input is S or s terminating prog\r\n                if(gender.equalsIgnoreCase(&quot;s&quot;)) System.exit(0)\r\n    \r\n                System.out.println(&quot;Scanning age&quot;);\r\n                int age = scanner.nextInt();\r\n                return new Person(gender, age);\r\n    \r\n            }\r\n    \r\n        }\r\n\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/1066647/8524713\r\n","title":"How to stop the program when pressing a certain button on the keyboard, for example s","body":"<p>Basically there will be two scenario for this.</p>\n<p><strong>1. <strong>Once Press S</strong></strong>  &gt;&gt;&gt; You want to terminate the program</p>\n<p>Simply its not available in normal console\nbut there is way to achieve refer this post for more info <a href=\"https://stackoverflow.com/a/1066647/8524713\">https://stackoverflow.com/a/1066647/8524713</a></p>\n<p><strong>2. Press S and then press Enter key</strong> &gt;&gt;\nIn this case its easy</p>\n<p>check on each gender input if its S break the loop</p>\n<p>try below code for reference</p>\n<pre><code>    public static void main(String[] args) {\n        PassportScan passportScan = new PassportScan();\n        Guard guard = new Guard();\n        while (true) {\n            Person person = passportScan.methodScan();\n            //checking if person object is null if ts null means s is enter\n            // break from loop\n            if(person==null) {\n                break;\n            }\n            String result = guard.checkPerson(person);\n            System.out.println(result);\n        }\n    }\n   static class PassportScan {\n        Scanner scanner = new Scanner(System.in);\n\n        public Person methodScan() {\n            System.out.println(&quot;Scanning gender&quot;);\n            String gender = scanner.next();\n\n            //check if string input is S or s\n            // then its returning null person object\n            if(gender.equalsIgnoreCase(&quot;s&quot;)) return null;\n\n            System.out.println(&quot;Scanning age&quot;);\n            int age = scanner.nextInt();\n            return new Person(gender, age);\n\n        }\n\n    }\n</code></pre>\n<p>one more way is to directly terminate in PassportScan class once S is typed</p>\n<pre><code>class PassportScan {\n        Scanner scanner = new Scanner(System.in);\n\n        public Person methodScan() {\n            System.out.println(&quot;Scanning gender&quot;);\n            String gender = scanner.next();\n\n            //check if string input is S or s terminating prog\n            if(gender.equalsIgnoreCase(&quot;s&quot;)) System.exit(0)\n\n            System.out.println(&quot;Scanning age&quot;);\n            int age = scanner.nextInt();\n            return new Person(gender, age);\n\n        }\n\n    }\n</code></pre>\n"}],"owner":{"account_id":25347928,"reputation":1,"user_id":19165242,"display_name":"Inismona"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1653118975,"creation_date":1653109703,"question_id":72326830,"body_markdown":"I am new to programming and at the moment I am doing a task, the essence of which is the emulation of scanning a person by gender and age with a further pass to a zone defined for its parameters. I was told to supplement the program so that, for example, when you press the S button on the keyboard, the program ends.\r\nPlease tell me how can I implement this. I have 4 classes in my code:\r\n\r\n**main** \r\n\r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            PassportScan passportScan = new PassportScan();\r\n            Guard guard = new Guard();\r\n            while (true) {\r\n                Person person = passportScan.methodScan();\r\n                String result = guard.checkPerson(person);\r\n                System.out.println(result);\r\n            }\r\n    \r\n        }\r\n    }\r\n\r\n**PassportScan**\r\n\r\n    import java.util.Scanner;\r\n    \r\n    public class PassportScan {\r\n        Scanner scanner = new Scanner(System.in);\r\n    \r\n        public Person methodScan() {\r\n            System.out.println(&quot;Scanning gender&quot;);\r\n            String gender = scanner.next();\r\n            System.out.println(&quot;Scanning age&quot;);\r\n            int age = scanner.nextInt();\r\n            return new Person(gender, age);\r\n    \r\n        }\r\n    \r\n    }\r\n\r\n**Person**\r\n\r\n    public class Person {\r\n        private String gender;\r\n        private Integer age;\r\n    \r\n        public Person(String gender, Integer age) {\r\n            this.gender = gender;\r\n            this.age = age;\r\n        }\r\n    \r\n        public String getGender() {\r\n            return gender;\r\n        }\r\n    \r\n        public Integer getAge() {\r\n            return age;\r\n        }\r\n    \r\n    }\r\n\r\n**Guard**\r\n\r\n    public class Guard {\r\n        public String checkPerson(Person personToCheck) {\r\n            String gender = personToCheck.getGender();\r\n            int age = personToCheck.getAge();\r\n    \r\n            if (age &lt; 18 &amp;&amp; gender.equals(&quot;M&quot;)) {\r\n                return &quot;Zone 1&quot;;\r\n            }\r\n            if (age &gt;= 18 &amp;&amp; gender.equals(&quot;M&quot;)) {\r\n                return &quot;Zone 2&quot;;\r\n            }\r\n            if (age &lt; 18 &amp;&amp; gender.equals(&quot;F&quot;)) {\r\n                return &quot;Zone 3&quot;;\r\n            }\r\n            if (age &gt;= 18 &amp;&amp; gender.equals(&quot;F&quot;)) {\r\n                return &quot;Zone 4&quot;;\r\n            }\r\n            return &quot;&quot;;\r\n        }\r\n    }\r\n\r\nThanks in advance for the tip and your time!\r\n\r\n\r\n\r\n","title":"How to stop the program when pressing a certain button on the keyboard, for example s","body":"<p>I am new to programming and at the moment I am doing a task, the essence of which is the emulation of scanning a person by gender and age with a further pass to a zone defined for its parameters. I was told to supplement the program so that, for example, when you press the S button on the keyboard, the program ends.\nPlease tell me how can I implement this. I have 4 classes in my code:</p>\n<p><strong>main</strong></p>\n<pre><code>public class Main {\n    public static void main(String[] args) {\n        PassportScan passportScan = new PassportScan();\n        Guard guard = new Guard();\n        while (true) {\n            Person person = passportScan.methodScan();\n            String result = guard.checkPerson(person);\n            System.out.println(result);\n        }\n\n    }\n}\n</code></pre>\n<p><strong>PassportScan</strong></p>\n<pre><code>import java.util.Scanner;\n\npublic class PassportScan {\n    Scanner scanner = new Scanner(System.in);\n\n    public Person methodScan() {\n        System.out.println(&quot;Scanning gender&quot;);\n        String gender = scanner.next();\n        System.out.println(&quot;Scanning age&quot;);\n        int age = scanner.nextInt();\n        return new Person(gender, age);\n\n    }\n\n}\n</code></pre>\n<p><strong>Person</strong></p>\n<pre><code>public class Person {\n    private String gender;\n    private Integer age;\n\n    public Person(String gender, Integer age) {\n        this.gender = gender;\n        this.age = age;\n    }\n\n    public String getGender() {\n        return gender;\n    }\n\n    public Integer getAge() {\n        return age;\n    }\n\n}\n</code></pre>\n<p><strong>Guard</strong></p>\n<pre><code>public class Guard {\n    public String checkPerson(Person personToCheck) {\n        String gender = personToCheck.getGender();\n        int age = personToCheck.getAge();\n\n        if (age &lt; 18 &amp;&amp; gender.equals(&quot;M&quot;)) {\n            return &quot;Zone 1&quot;;\n        }\n        if (age &gt;= 18 &amp;&amp; gender.equals(&quot;M&quot;)) {\n            return &quot;Zone 2&quot;;\n        }\n        if (age &lt; 18 &amp;&amp; gender.equals(&quot;F&quot;)) {\n            return &quot;Zone 3&quot;;\n        }\n        if (age &gt;= 18 &amp;&amp; gender.equals(&quot;F&quot;)) {\n            return &quot;Zone 4&quot;;\n        }\n        return &quot;&quot;;\n    }\n}\n</code></pre>\n<p>Thanks in advance for the tip and your time!</p>\n"},{"tags":["java","spring","spring-boot","tomcat"],"comments":[{"owner":{"account_id":407163,"reputation":1366,"user_id":777085,"accept_rate":68,"display_name":"xcoder"},"score":0,"creation_date":1652948534,"post_id":72300866,"comment_id":127732807,"body_markdown":"sharing more info e.g. the POM might help...","body":"sharing more info e.g. the POM might help..."},{"owner":{"account_id":24665263,"reputation":17,"user_id":18561033,"display_name":"ThomThomPhao"},"score":0,"creation_date":1652949259,"post_id":72300866,"comment_id":127733066,"body_markdown":"Yes I wanted to add it but I didn&#39;t have enough characters available. I will add it.","body":"Yes I wanted to add it but I didn&#39;t have enough characters available. I will add it."},{"owner":{"account_id":24665263,"reputation":17,"user_id":18561033,"display_name":"ThomThomPhao"},"score":0,"creation_date":1652949693,"post_id":72300866,"comment_id":127733197,"body_markdown":"This is my POM.xml https://codebeautify.org/alleditor/y2226566c","body":"This is my POM.xml <a href=\"https://codebeautify.org/alleditor/y2226566c\" rel=\"nofollow noreferrer\">codebeautify.org/alleditor/y2226566c</a>"},{"owner":{"account_id":7701,"reputation":47163,"user_id":13447,"accept_rate":100,"display_name":"Olaf Kock"},"score":0,"creation_date":1652954835,"post_id":72300866,"comment_id":127735038,"body_markdown":"Does this answer your question? [Error when launching a jar application of SpringBoot](https://stackoverflow.com/questions/72285458/error-when-launching-a-jar-application-of-springboot) - you&#39;ve already asked this question yesterday, and it was closed as duplicate. Instead of asking it again - edit your exiting one and explain why it isn&#39;t a duplicate if the original solution didn&#39;t help you. Please take the [tour], and see [ask]","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/72285458/error-when-launching-a-jar-application-of-springboot\">Error when launching a jar application of SpringBoot</a> - you&#39;ve already asked this question yesterday, and it was closed as duplicate. Instead of asking it again - edit your exiting one and explain why it isn&#39;t a duplicate if the original solution didn&#39;t help you. Please take the <a href=\"https://stackoverflow.com/tour\">tour</a>, and see <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a>"},{"owner":{"account_id":407163,"reputation":1366,"user_id":777085,"accept_rate":68,"display_name":"xcoder"},"score":0,"creation_date":1652958758,"post_id":72300866,"comment_id":127736372,"body_markdown":"I mean, you are missing the key info here. Since you said &quot;The problem is solved&quot;, I assumed you started the server successfully. And if it is issue with calling the API, no one would be able to help without knowing what code you have written. Also, get rid of the things which are irrelevant...","body":"I mean, you are missing the key info here. Since you said &quot;The problem is solved&quot;, I assumed you started the server successfully. And if it is issue with calling the API, no one would be able to help without knowing what code you have written. Also, get rid of the things which are irrelevant..."},{"owner":{"account_id":24665263,"reputation":17,"user_id":18561033,"display_name":"ThomThomPhao"},"score":0,"creation_date":1652965002,"post_id":72300866,"comment_id":127738764,"body_markdown":"@OlafKock I put this as duplicate and resolved because I though that it was resolved but in fact no.  I had some other problems that&#39;s why I opened a new subject because this subject has a different error compared to the older one","body":"@OlafKock I put this as duplicate and resolved because I though that it was resolved but in fact no.  I had some other problems that&#39;s why I opened a new subject because this subject has a different error compared to the older one"}],"answers":[{"tags":[],"owner":{"account_id":24665263,"reputation":17,"user_id":18561033,"display_name":"ThomThomPhao"},"down_vote_count":1,"up_vote_count":0,"is_accepted":true,"score":-1,"last_activity_date":1653117840,"creation_date":1653117840,"answer_id":72327509,"question_id":72300866,"body_markdown":"The problem was just linked with the version of Java and the Java library version. There was also a problem with the export in jar, it was necessary to choose copy required libraries into a sub folder and not the two other options, when we makethe runnable jar file export.  ","title":"A child container failed during start SpringBoot project converted into Jar","body":"<p>The problem was just linked with the version of Java and the Java library version. There was also a problem with the export in jar, it was necessary to choose copy required libraries into a sub folder and not the two other options, when we makethe runnable jar file export.</p>\n"}],"owner":{"account_id":24665263,"reputation":17,"user_id":18561033,"display_name":"ThomThomPhao"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":339,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72327509,"answer_count":1,"score":0,"last_activity_date":1653117840,"creation_date":1652947740,"question_id":72300866,"body_markdown":"I come back again with one of my problem.\r\n\r\nI have developped a SpringBoot app but I have now some errors. When I launch the app with Eclipse I don&#39;t have any error. But when I convert it in a runnable jar file and I lauch it I have these errors : I don&#39;t understand why is it working with eclipse and not in a jar file.\r\n\r\n```\r\n:: Spring Boot ::(v2.6.7)\r\n\r\n2022-05-19 08:05:29.366  INFO 5520 --- [main] com.example.demo.DemoApplication: Starting DemoApplication using Java 1.8.0_333 on machinetest with PID 5520 (started by tdriss in C:\\Users\\tdriss\\Desktop\\Documents)\r\n2022-05-19 08:05:29.378  INFO 5520 --- [main] com.example.demo.DemoApplication: No active profile set, falling back to 1 default profile: &quot;default&quot;\r\n2022-05-19 08:06:00.841  INFO 5520 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)\r\n2022-05-19 08:06:01.501  INFO 5520 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\r\n2022-05-19 08:06:01.501  INFO 5520 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.62]\r\n2022-05-19 08:06:01.811 ERROR 5520 --- [main] org.apache.catalina.core.ContainerBase   : A child container failed during start\r\n\r\njava.util.concurrent.ExecutionException: org.apache.catalina.LifecycleException: Failed to initialize component [org.apache.catalina.webresources.StandardRoot@14d81f2c]\r\n        at java.util.concurrent.FutureTask.report(Unknown Source) [na:1.8.0_333]\r\n        at java.util.concurrent.FutureTask.get(Unknown Source) [na:1.8.0_333]\r\n        at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:926) [jar:rsrc:tomcat-embed-core-9.0.62.jar!/:na]\r\n        at org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:835) [jar:rsrc:tomcat-embed-core-9.0.62.jar!/:na]\r\n        at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) [jar:rsrc:tomcat-embed-core-9.0.62.jar!/:na]\r\n        at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1396) [jar:rsrc:tomcat-embed-core-9.0.62.jar!/:na]\r\n        at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1386) [jar:rsrc:tomcat-embed-core-9.0.62.jar!/:na]\r\n        at java.util.concurrent.FutureTask.run(Unknown Source) [na:1.8.0_333]\r\n        at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75) [jar:rsrc:tomcat-embed-core-9.0.62.jar!/:na]\r\n        at java.util.concurrent.AbstractExecutorService.submit(Unknown Source) [na:1.8.0_333]\r\n        at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:919) [jar:rsrc:tomcat-embed-core-9.0.62.jar!/:na]\r\n        at org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:263) [jar:rsrc:tomcat-embed-core-9.0.62.jar!/:na]\r\n        at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) [jar:rsrc:tomcat-embed-core-9.0.62.jar!/:na]\r\n        at org.apache.catalina.core.StandardService.startInternal(StandardService.java:432) [jar:rsrc:tomcat-embed-core-9.0.62.jar!/:na]\r\n        at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) [jar:rsrc:tomcat-embed-core-9.0.62.jar!/:na]\r\n        at org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:927) [jar:rsrc:tomcat-embed-core-9.0.62.jar!/:na]\r\n        at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) [jar:rsrc:tomcat-embed-core-9.0.62.jar!/:na]\r\n        at org.apache.catalina.startup.Tomcat.start(Tomcat.java:486) [jar:rsrc:tomcat-embed-core-9.0.62.jar!/:na]\r\n        at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:123) [jar:rsrc:spring-boot-2.6.7.jar!/:na]\r\n        at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.&lt;init&gt;(TomcatWebServer.java:104) [jar:rsrc:spring-boot-2.6.7.jar!/:na]\r\n        at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getTomcatWebServer(TomcatServletWebServerFactory.java:479) [jar:rsrc:spring-boot-2.6.7.jar!/:na]\r\n        at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getWebServer(TomcatServletWebServerFactory.java:211) [jar:rsrc:spring-boot-2.6.7.jar!/:na]\r\n        at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.createWebServer(ServletWebServerApplicationContext.java:182) [jar:rsrc:spring-boot-2.6.7.jar!/:na]\r\n        at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:160) [jar:rsrc:spring-boot-2.6.7.jar!/:na]\r\n        at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:577) [jar:rsrc:spring-context-5.3.19.jar!/:na]\r\n        at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:145) [jar:rsrc:spring-boot-2.6.7.jar!/:na]\r\n        at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:740) [jar:rsrc:spring-boot-2.6.7.jar!/:na]\r\n        at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:415) [jar:rsrc:spring-boot-2.6.7.jar!/:na]\r\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:303) [jar:rsrc:spring-boot-2.6.7.jar!/:na]\r\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:1312) [jar:rsrc:spring-boot-2.6.7.jar!/:na]\r\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:1301) [jar:rsrc:spring-boot-2.6.7.jar!/:na]\r\n        at com.example.demo.DemoApplication.main(DemoApplication.java:22) [rsrc:./:na]\r\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_333]\r\n        at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source) ~[na:1.8.0_333]\r\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source) ~[na:1.8.0_333]\r\n        at java.lang.reflect.Method.invoke(Unknown Source) ~[na:1.8.0_333]\r\n        at org.eclipse.jdt.internal.jarinjarloader.JarRsrcLoader.main(JarRsrcLoader.java:61) [OPAL2022tomcatenable.jar:na]\r\nCaused by: org.apache.catalina.LifecycleException: Failed to initialize component [org.apache.catalina.webresources.StandardRoot@14d81f2c]\r\n        at org.apache.catalina.util.LifecycleBase.handleSubClassException(LifecycleBase.java:440) [jar:rsrc:tomcat-embed-core-9.0.62.jar!/:na]\r\n        at org.apache.catalina.util.LifecycleBase.init(LifecycleBase.java:139) [jar:rsrc:tomcat-embed-core-9.0.62.jar!/:na]\r\n        at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:173) [jar:rsrc:tomcat-embed-core-9.0.62.jar!/:na]\r\n        at org.apache.catalina.core.StandardContext.resourcesStart(StandardContext.java:4885) ~[jar:rsrc:tomcat-embed-core-9.0.62.jar!/:na]\r\n        at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5023) ~[jar:rsrc:tomcat-embed-core-9.0.62.jar!/:na]\r\n        at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) [jar:rsrc:tomcat-embed-core-9.0.62.jar!/:na]\r\n        at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1396) [jar:rsrc:tomcat-embed-core-9.0.62.jar!/:na]\r\n        at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1386) [jar:rsrc:tomcat-embed-core-9.0.62.jar!/:na]\r\n        at java.util.concurrent.FutureTask.run(Unknown Source) [na:1.8.0_333]\r\n        at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75) [jar:rsrc:tomcat-embed-core-9.0.62.jar!/:na]\r\n        at java.util.concurrent.AbstractExecutorService.submit(Unknown Source) [na:1.8.0_333]\r\n        at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:919) [jar:rsrc:tomcat-embed-core-9.0.62.jar!/:na]\r\n        ... 34 common frames omitted\r\nCaused by: java.lang.Error: factory already defined\r\n        at java.net.URL.setURLStreamHandlerFactory(Unknown Source) ~[na:1.8.0_333]\r\n        at org.apache.catalina.webresources.TomcatURLStreamHandlerFactory.&lt;init&gt;(TomcatURLStreamHandlerFactory.java:130) ~[jar:rsrc:tomcat-embed-core-9.0.62.jar!/:na]\r\n        at org.apache.catalina.webresources.TomcatURLStreamHandlerFactory.getInstanceInternal(TomcatURLStreamHandlerFactory.java:53) ~[jar:rsrc:tomcat-embed-core-9.0.62.jar!/:na]\r\n        at org.apache.catalina.webresources.TomcatURLStreamHandlerFactory.register(TomcatURLStreamHandlerFactory.java:77) ~[jar:rsrc:tomcat-embed-core-9.0.62.jar!/:na]\r\n        at org.apache.catalina.webresources.StandardRoot.registerURLStreamHandlerFactory(StandardRoot.java:711) ~[jar:rsrc:tomcat-embed-core-9.0.62.jar!/:na]\r\n        at org.apache.catalina.webresources.StandardRoot.initInternal(StandardRoot.java:698) ~[jar:rsrc:tomcat-embed-core-9.0.62.jar!/:na]\r\n        at org.apache.catalina.util.LifecycleBase.init(LifecycleBase.java:136) [jar:rsrc:tomcat-embed-core-9.0.62.jar!/:na]\r\n        ... 44 common frames omitted\r\n\r\n2022-05-19 08:06:01.820 ERROR 5520 --- [main] org.apache.catalina.core.ContainerBase   : A child container failed during start\r\n\r\njava.util.concurrent.ExecutionException: org.apache.catalina.LifecycleException: A child container failed during start\r\n        at java.util.concurrent.FutureTask.report(Unknown Source) ~[na:1.8.0_333]\r\n        at java.util.concurrent.FutureTask.get(Unknown Source) ~[na:1.8.0_333]\r\n        at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:926) ~[jar:rsrc:tomcat-embed-core-9.0.62.jar!/:na]\r\n        at org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:263) [jar:rsrc:tomcat-embed-core-9.0.62.jar!/:na]\r\n        at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) [jar:rsrc:tomcat-embed-core-9.0.62.jar!/:na]\r\n        at org.apache.catalina.core.StandardService.startInternal(StandardService.java:432) [jar:rsrc:tomcat-embed-core-9.0.62.jar!/:na]\r\n        at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) [jar:rsrc:tomcat-embed-core-9.0.62.jar!/:na]\r\n        at org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:927) [jar:rsrc:tomcat-embed-core-9.0.62.jar!/:na]\r\n        at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) [jar:rsrc:tomcat-embed-core-9.0.62.jar!/:na]\r\n        at org.apache.catalina.startup.Tomcat.start(Tomcat.java:486) [jar:rsrc:tomcat-embed-core-9.0.62.jar!/:na]\r\n        at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:123) [jar:rsrc:spring-boot-2.6.7.jar!/:na]\r\n        at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.&lt;init&gt;(TomcatWebServer.java:104) [jar:rsrc:spring-boot-2.6.7.jar!/:na]\r\n        at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getTomcatWebServer(TomcatServletWebServerFactory.java:479) [jar:rsrc:spring-boot-2.6.7.jar!/:na]\r\n        at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getWebServer(TomcatServletWebServerFactory.java:211) [jar:rsrc:spring-boot-2.6.7.jar!/:na]\r\n        at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.createWebServer(ServletWebServerApplicationContext.java:182) [jar:rsrc:spring-boot-2.6.7.jar!/:na]\r\n        at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:160) [jar:rsrc:spring-boot-2.6.7.jar!/:na]\r\n        at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:577) [jar:rsrc:spring-context-5.3.19.jar!/:na]\r\n        at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:145) [jar:rsrc:spring-boot-2.6.7.jar!/:na]\r\n        at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:740) [jar:rsrc:spring-boot-2.6.7.jar!/:na]\r\n        at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:415) [jar:rsrc:spring-boot-2.6.7.jar!/:na]\r\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:303) [jar:rsrc:spring-boot-2.6.7.jar!/:na]\r\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:1312) [jar:rsrc:spring-boot-2.6.7.jar!/:na]\r\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:1301) [jar:rsrc:spring-boot-2.6.7.jar!/:na]\r\n        at com.example.demo.DemoApplication.main(DemoApplication.java:22) [rsrc:./:na]\r\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_333]\r\n        at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source) ~[na:1.8.0_333]\r\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source) ~[na:1.8.0_333]\r\n        at java.lang.reflect.Method.invoke(Unknown Source) ~[na:1.8.0_333]\r\n        at org.eclipse.jdt.internal.jarinjarloader.JarRsrcLoader.main(JarRsrcLoader.java:61) [OPAL2022tomcatenable.jar:na]\r\nCaused by: org.apache.catalina.LifecycleException: A child container failed during start\r\n        at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:938) ~[jar:rsrc:tomcat-embed-core-9.0.62.jar!/:na]\r\n        at org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:835) ~[jar:rsrc:tomcat-embed-core-9.0.62.jar!/:na]\r\n        at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) [jar:rsrc:tomcat-embed-core-9.0.62.jar!/:na]\r\n        at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1396) ~[jar:rsrc:tomcat-embed-core-9.0.62.jar!/:na]\r\n        at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1386) ~[jar:rsrc:tomcat-embed-core-9.0.62.jar!/:na]\r\n        at java.util.concurrent.FutureTask.run(Unknown Source) ~[na:1.8.0_333]\r\n        at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75) ~[jar:rsrc:tomcat-embed-core-9.0.62.jar!/:na]\r\n        at java.util.concurrent.AbstractExecutorService.submit(Unknown Source) ~[na:1.8.0_333]\r\n        at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:919) ~[jar:rsrc:tomcat-embed-core-9.0.62.jar!/:na]\r\n        ... 26 common frames omitted\r\nCaused by: java.util.concurrent.ExecutionException: org.apache.catalina.LifecycleException: Failed to initialize component [org.apache.catalina.webresources.StandardRoot@14d81f2c]\r\n        at java.util.concurrent.FutureTask.report(Unknown Source) ~[na:1.8.0_333]\r\n        at java.util.concurrent.FutureTask.get(Unknown Source) ~[na:1.8.0_333]\r\n        at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:926) ~[jar:rsrc:tomcat-embed-core-9.0.62.jar!/:na]\r\n        ... 34 common frames omitted\r\nCaused by: org.apache.catalina.LifecycleException: Failed to initialize component [org.apache.catalina.webresources.StandardRoot@14d81f2c]\r\n        at org.apache.catalina.util.LifecycleBase.handleSubClassException(LifecycleBase.java:440) [jar:rsrc:tomcat-embed-core-9.0.62.jar!/:na]\r\n        at org.apache.catalina.util.LifecycleBase.init(LifecycleBase.java:139) [jar:rsrc:tomcat-embed-core-9.0.62.jar!/:na]\r\n        at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:173) [jar:rsrc:tomcat-embed-core-9.0.62.jar!/:na]\r\n        at org.apache.catalina.core.StandardContext.resourcesStart(StandardContext.java:4885) ~[jar:rsrc:tomcat-embed-core-9.0.62.jar!/:na]\r\n        at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5023) ~[jar:rsrc:tomcat-embed-core-9.0.62.jar!/:na]\r\n        at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) [jar:rsrc:tomcat-embed-core-9.0.62.jar!/:na]\r\n        at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1396) ~[jar:rsrc:tomcat-embed-core-9.0.62.jar!/:na]\r\n        at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1386) ~[jar:rsrc:tomcat-embed-core-9.0.62.jar!/:na]\r\n        at java.util.concurrent.FutureTask.run(Unknown Source) ~[na:1.8.0_333]\r\n        at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75) ~[jar:rsrc:tomcat-embed-core-9.0.62.jar!/:na]\r\n        at java.util.concurrent.AbstractExecutorService.submit(Unknown Source) ~[na:1.8.0_333]\r\n        at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:919) ~[jar:rsrc:tomcat-embed-core-9.0.62.jar!/:na]\r\n        ... 34 common frames omitted\r\nCaused by: java.lang.Error: factory already defined\r\n        at java.net.URL.setURLStreamHandlerFactory(Unknown Source) ~[na:1.8.0_333]\r\n        at org.apache.catalina.webresources.TomcatURLStreamHandlerFactory.&lt;init&gt;(TomcatURLStreamHandlerFactory.java:130) ~[jar:rsrc:tomcat-embed-core-9.0.62.jar!/:na]\r\n        at org.apache.catalina.webresources.TomcatURLStreamHandlerFactory.getInstanceInternal(TomcatURLStreamHandlerFactory.java:53) ~[jar:rsrc:tomcat-embed-core-9.0.62.jar!/:na]\r\n        at org.apache.catalina.webresources.TomcatURLStreamHandlerFactory.register(TomcatURLStreamHandlerFactory.java:77) ~[jar:rsrc:tomcat-embed-core-9.0.62.jar!/:na]\r\n        at org.apache.catalina.webresources.StandardRoot.registerURLStreamHandlerFactory(StandardRoot.java:711) ~[jar:rsrc:tomcat-embed-core-9.0.62.jar!/:na]\r\n        at org.apache.catalina.webresources.StandardRoot.initInternal(StandardRoot.java:698) ~[jar:rsrc:tomcat-embed-core-9.0.62.jar!/:na]\r\n        at org.apache.catalina.util.LifecycleBase.init(LifecycleBase.java:136) [jar:rsrc:tomcat-embed-core-9.0.62.jar!/:na]\r\n        ... 44 common frames omitted\r\n\r\n2022-05-19 08:06:01.830  INFO 5520 --- [main] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]\r\n2022-05-19 08:06:03.335  WARN 5520 --- [main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Unable to start web server; nested exception is org.springframework.boot.web.server.WebServerException: Unable to start embedded Tomcat\r\n2022-05-19 08:06:03.363  INFO 5520 --- [main] ConditionEvaluationReportLoggingListener :\r\n\r\nError starting ApplicationContext. To display the conditions report re-run your application with &#39;debug&#39; enabled.\r\n2022-05-19 08:06:03.428 ERROR 5520 --- [main] o.s.boot.SpringApplication               : Application run failed\r\n\r\norg.springframework.context.ApplicationContextException: Unable to start web server; nested exception is org.springframework.boot.web.server.WebServerException: Unable to start embedded Tomcat\r\n        at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:163) ~[jar:rsrc:spring-boot-2.6.7.jar!/:na]\r\n        at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:577) ~[jar:rsrc:spring-context-5.3.19.jar!/:na]\r\n        at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:145) ~[jar:rsrc:spring-boot-2.6.7.jar!/:na]\r\n        at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:740) [jar:rsrc:spring-boot-2.6.7.jar!/:na]\r\n        at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:415) [jar:rsrc:spring-boot-2.6.7.jar!/:na]\r\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:303) [jar:rsrc:spring-boot-2.6.7.jar!/:na]\r\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:1312) [jar:rsrc:spring-boot-2.6.7.jar!/:na]\r\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:1301) [jar:rsrc:spring-boot-2.6.7.jar!/:na]\r\n        at com.example.demo.DemoApplication.main(DemoApplication.java:22) [rsrc:./:na]\r\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_333]\r\n        at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source) ~[na:1.8.0_333]\r\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source) ~[na:1.8.0_333]\r\n        at java.lang.reflect.Method.invoke(Unknown Source) ~[na:1.8.0_333]\r\n        at org.eclipse.jdt.internal.jarinjarloader.JarRsrcLoader.main(JarRsrcLoader.java:61) [OPAL2022tomcatenable.jar:na]\r\nCaused by: org.springframework.boot.web.server.WebServerException: Unable to start embedded Tomcat\r\n        at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:142) ~[jar:rsrc:spring-boot-2.6.7.jar!/:na]\r\n        at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.&lt;init&gt;(TomcatWebServer.java:104) ~[jar:rsrc:spring-boot-2.6.7.jar!/:na]\r\n        at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getTomcatWebServer(TomcatServletWebServerFactory.java:479) ~[jar:rsrc:spring-boot-2.6.7.jar!/:na]\r\n        at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getWebServer(TomcatServletWebServerFactory.java:211) ~[jar:rsrc:spring-boot-2.6.7.jar!/:na]\r\n        at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.createWebServer(ServletWebServerApplicationContext.java:182) ~[jar:rsrc:spring-boot-2.6.7.jar!/:na]\r\n        at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:160) ~[jar:rsrc:spring-boot-2.6.7.jar!/:na]\r\n        ... 13 common frames omitted\r\nCaused by: org.apache.catalina.LifecycleException: A child container failed during start\r\n        at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:938) ~[jar:rsrc:tomcat-embed-core-9.0.62.jar!/:na]\r\n        at org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:263) ~[jar:rsrc:tomcat-embed-core-9.0.62.jar!/:na]\r\n        at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[jar:rsrc:tomcat-embed-core-9.0.62.jar!/:na]\r\n        at org.apache.catalina.core.StandardService.startInternal(StandardService.java:432) ~[jar:rsrc:tomcat-embed-core-9.0.62.jar!/:na]\r\n        at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[jar:rsrc:tomcat-embed-core-9.0.62.jar!/:na]\r\n        at org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:927) ~[jar:rsrc:tomcat-embed-core-9.0.62.jar!/:na]\r\n        at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[jar:rsrc:tomcat-embed-core-9.0.62.jar!/:na]\r\n        at org.apache.catalina.startup.Tomcat.start(Tomcat.java:486) ~[jar:rsrc:tomcat-embed-core-9.0.62.jar!/:na]\r\n        at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:123) ~[jar:rsrc:spring-boot-2.6.7.jar!/:na]\r\n        ... 18 common frames omitted\r\nCaused by: java.util.concurrent.ExecutionException: org.apache.catalina.LifecycleException: A child container failed during start\r\n        at java.util.concurrent.FutureTask.report(Unknown Source) ~[na:1.8.0_333]\r\n        at java.util.concurrent.FutureTask.get(Unknown Source) ~[na:1.8.0_333]\r\n        at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:926) ~[jar:rsrc:tomcat-embed-core-9.0.62.jar!/:na]\r\n        ... 26 common frames omitted\r\nCaused by: org.apache.catalina.LifecycleException: A child container failed during start\r\n        at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:938) ~[jar:rsrc:tomcat-embed-core-9.0.62.jar!/:na]\r\n        at org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:835) ~[jar:rsrc:tomcat-embed-core-9.0.62.jar!/:na]\r\n        at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[jar:rsrc:tomcat-embed-core-9.0.62.jar!/:na]\r\n        at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1396) ~[jar:rsrc:tomcat-embed-core-9.0.62.jar!/:na]\r\n        at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1386) ~[jar:rsrc:tomcat-embed-core-9.0.62.jar!/:na]\r\n        at java.util.concurrent.FutureTask.run(Unknown Source) ~[na:1.8.0_333]\r\n        at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75) ~[jar:rsrc:tomcat-embed-core-9.0.62.jar!/:na]\r\n        at java.util.concurrent.AbstractExecutorService.submit(Unknown Source) ~[na:1.8.0_333]\r\n        at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:919) ~[jar:rsrc:tomcat-embed-core-9.0.62.jar!/:na]\r\n        ... 26 common frames omitted\r\nCaused by: java.util.concurrent.ExecutionException: org.apache.catalina.LifecycleException: Failed to initialize component [org.apache.catalina.webresources.StandardRoot@14d81f2c]\r\n        at java.util.concurrent.FutureTask.report(Unknown Source) ~[na:1.8.0_333]\r\n        at java.util.concurrent.FutureTask.get(Unknown Source) ~[na:1.8.0_333]\r\n        at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:926) ~[jar:rsrc:tomcat-embed-core-9.0.62.jar!/:na]\r\n        ... 34 common frames omitted\r\nCaused by: org.apache.catalina.LifecycleException: Failed to initialize component [org.apache.catalina.webresources.StandardRoot@14d81f2c]\r\n        at org.apache.catalina.util.LifecycleBase.handleSubClassException(LifecycleBase.java:440) ~[jar:rsrc:tomcat-embed-core-9.0.62.jar!/:na]\r\n        at org.apache.catalina.util.LifecycleBase.init(LifecycleBase.java:139) ~[jar:rsrc:tomcat-embed-core-9.0.62.jar!/:na]\r\n        at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:173) ~[jar:rsrc:tomcat-embed-core-9.0.62.jar!/:na]\r\n        at org.apache.catalina.core.StandardContext.resourcesStart(StandardContext.java:4885) ~[jar:rsrc:tomcat-embed-core-9.0.62.jar!/:na]\r\n        at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5023) ~[jar:rsrc:tomcat-embed-core-9.0.62.jar!/:na]\r\n        at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[jar:rsrc:tomcat-embed-core-9.0.62.jar!/:na]\r\n        at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1396) ~[jar:rsrc:tomcat-embed-core-9.0.62.jar!/:na]\r\n        at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1386) ~[jar:rsrc:tomcat-embed-core-9.0.62.jar!/:na]\r\n        at java.util.concurrent.FutureTask.run(Unknown Source) ~[na:1.8.0_333]\r\n        at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75) ~[jar:rsrc:tomcat-embed-core-9.0.62.jar!/:na]\r\n        at java.util.concurrent.AbstractExecutorService.submit(Unknown Source) ~[na:1.8.0_333]\r\n        at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:919) ~[jar:rsrc:tomcat-embed-core-9.0.62.jar!/:na]\r\n        ... 34 common frames omitted\r\nCaused by: java.lang.Error: factory already defined\r\n        at java.net.URL.setURLStreamHandlerFactory(Unknown Source) ~[na:1.8.0_333]\r\n        at org.apache.catalina.webresources.TomcatURLStreamHandlerFactory.&lt;init&gt;(TomcatURLStreamHandlerFactory.java:130) ~[jar:rsrc:tomcat-embed-core-9.0.62.jar!/:na]\r\n        at org.apache.catalina.webresources.TomcatURLStreamHandlerFactory.getInstanceInternal(TomcatURLStreamHandlerFactory.java:53) ~[jar:rsrc:tomcat-embed-core-9.0.62.jar!/:na]\r\n        at org.apache.catalina.webresources.TomcatURLStreamHandlerFactory.register(TomcatURLStreamHandlerFactory.java:77)~[jar:rsrc:tomcat-embed-core-9.0.62.jar!/:na]\r\n        at org.apache.catalina.webresources.StandardRoot.registerURLStreamHandlerFactory(StandardRoot.java:711)~[jar:rsrc:tomcat-embed-core-9.0.62.jar!/:na]\r\n        at org.apache.catalina.webresources.StandardRoot.initInternal(StandardRoot.java:698) ~[jar:rsrc:tomcat-embed-core-9.0.62.jar!/:na]\r\n        at org.apache.catalina.util.LifecycleBase.init(LifecycleBase.java:136) ~[jar:rsrc:tomcat-embed-core-9.0.62.jar!/:na]\r\n        ... 44 common frames omitted\r\n```\r\n\r\nI have already try to resolve this by adding \r\n```\r\nTomcatURLStreamHandlerFactory.disable();\r\n```\r\nThe problem is solved with that but when I want to make an api request on localhost:8080 in my browser, I have this in the console\r\n\r\n```\r\n2022-05-19 09:29:03.166  INFO 972 --- [nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet &#39;dispatcherServlet&#39;\r\n2022-05-19 09:29:03.195  INFO 972 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet &#39;dispatcherServlet&#39;\r\n2022-05-19 09:29:03.212  INFO 972 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 13 ms\r\n```\r\n\r\nAnd I have a 404 Error in my browser, I precise that I don&#39;t have this problem with the project on eclipse.\r\n\r\nAnd this is my POM file\r\n\r\nhttps://codebeautify.org/alleditor/y2226566c","title":"A child container failed during start SpringBoot project converted into Jar","body":"<p>I come back again with one of my problem.</p>\n<p>I have developped a SpringBoot app but I have now some errors. When I launch the app with Eclipse I don't have any error. But when I convert it in a runnable jar file and I lauch it I have these errors : I don't understand why is it working with eclipse and not in a jar file.</p>\n<pre><code>:: Spring Boot ::(v2.6.7)\n\n2022-05-19 08:05:29.366  INFO 5520 --- [main] com.example.demo.DemoApplication: Starting DemoApplication using Java 1.8.0_333 on machinetest with PID 5520 (started by tdriss in C:\\Users\\tdriss\\Desktop\\Documents)\n2022-05-19 08:05:29.378  INFO 5520 --- [main] com.example.demo.DemoApplication: No active profile set, falling back to 1 default profile: &quot;default&quot;\n2022-05-19 08:06:00.841  INFO 5520 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)\n2022-05-19 08:06:01.501  INFO 5520 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\n2022-05-19 08:06:01.501  INFO 5520 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.62]\n2022-05-19 08:06:01.811 ERROR 5520 --- [main] org.apache.catalina.core.ContainerBase   : A child container failed during start\n\njava.util.concurrent.ExecutionException: org.apache.catalina.LifecycleException: Failed to initialize component [org.apache.catalina.webresources.StandardRoot@14d81f2c]\n        at java.util.concurrent.FutureTask.report(Unknown Source) [na:1.8.0_333]\n        at java.util.concurrent.FutureTask.get(Unknown Source) [na:1.8.0_333]\n        at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:926) [jar:rsrc:tomcat-embed-core-9.0.62.jar!/:na]\n        at org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:835) [jar:rsrc:tomcat-embed-core-9.0.62.jar!/:na]\n        at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) [jar:rsrc:tomcat-embed-core-9.0.62.jar!/:na]\n        at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1396) [jar:rsrc:tomcat-embed-core-9.0.62.jar!/:na]\n        at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1386) [jar:rsrc:tomcat-embed-core-9.0.62.jar!/:na]\n        at java.util.concurrent.FutureTask.run(Unknown Source) [na:1.8.0_333]\n        at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75) [jar:rsrc:tomcat-embed-core-9.0.62.jar!/:na]\n        at java.util.concurrent.AbstractExecutorService.submit(Unknown Source) [na:1.8.0_333]\n        at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:919) [jar:rsrc:tomcat-embed-core-9.0.62.jar!/:na]\n        at org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:263) [jar:rsrc:tomcat-embed-core-9.0.62.jar!/:na]\n        at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) [jar:rsrc:tomcat-embed-core-9.0.62.jar!/:na]\n        at org.apache.catalina.core.StandardService.startInternal(StandardService.java:432) [jar:rsrc:tomcat-embed-core-9.0.62.jar!/:na]\n        at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) [jar:rsrc:tomcat-embed-core-9.0.62.jar!/:na]\n        at org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:927) [jar:rsrc:tomcat-embed-core-9.0.62.jar!/:na]\n        at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) [jar:rsrc:tomcat-embed-core-9.0.62.jar!/:na]\n        at org.apache.catalina.startup.Tomcat.start(Tomcat.java:486) [jar:rsrc:tomcat-embed-core-9.0.62.jar!/:na]\n        at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:123) [jar:rsrc:spring-boot-2.6.7.jar!/:na]\n        at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.&lt;init&gt;(TomcatWebServer.java:104) [jar:rsrc:spring-boot-2.6.7.jar!/:na]\n        at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getTomcatWebServer(TomcatServletWebServerFactory.java:479) [jar:rsrc:spring-boot-2.6.7.jar!/:na]\n        at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getWebServer(TomcatServletWebServerFactory.java:211) [jar:rsrc:spring-boot-2.6.7.jar!/:na]\n        at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.createWebServer(ServletWebServerApplicationContext.java:182) [jar:rsrc:spring-boot-2.6.7.jar!/:na]\n        at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:160) [jar:rsrc:spring-boot-2.6.7.jar!/:na]\n        at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:577) [jar:rsrc:spring-context-5.3.19.jar!/:na]\n        at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:145) [jar:rsrc:spring-boot-2.6.7.jar!/:na]\n        at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:740) [jar:rsrc:spring-boot-2.6.7.jar!/:na]\n        at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:415) [jar:rsrc:spring-boot-2.6.7.jar!/:na]\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:303) [jar:rsrc:spring-boot-2.6.7.jar!/:na]\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:1312) [jar:rsrc:spring-boot-2.6.7.jar!/:na]\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:1301) [jar:rsrc:spring-boot-2.6.7.jar!/:na]\n        at com.example.demo.DemoApplication.main(DemoApplication.java:22) [rsrc:./:na]\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_333]\n        at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source) ~[na:1.8.0_333]\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source) ~[na:1.8.0_333]\n        at java.lang.reflect.Method.invoke(Unknown Source) ~[na:1.8.0_333]\n        at org.eclipse.jdt.internal.jarinjarloader.JarRsrcLoader.main(JarRsrcLoader.java:61) [OPAL2022tomcatenable.jar:na]\nCaused by: org.apache.catalina.LifecycleException: Failed to initialize component [org.apache.catalina.webresources.StandardRoot@14d81f2c]\n        at org.apache.catalina.util.LifecycleBase.handleSubClassException(LifecycleBase.java:440) [jar:rsrc:tomcat-embed-core-9.0.62.jar!/:na]\n        at org.apache.catalina.util.LifecycleBase.init(LifecycleBase.java:139) [jar:rsrc:tomcat-embed-core-9.0.62.jar!/:na]\n        at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:173) [jar:rsrc:tomcat-embed-core-9.0.62.jar!/:na]\n        at org.apache.catalina.core.StandardContext.resourcesStart(StandardContext.java:4885) ~[jar:rsrc:tomcat-embed-core-9.0.62.jar!/:na]\n        at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5023) ~[jar:rsrc:tomcat-embed-core-9.0.62.jar!/:na]\n        at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) [jar:rsrc:tomcat-embed-core-9.0.62.jar!/:na]\n        at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1396) [jar:rsrc:tomcat-embed-core-9.0.62.jar!/:na]\n        at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1386) [jar:rsrc:tomcat-embed-core-9.0.62.jar!/:na]\n        at java.util.concurrent.FutureTask.run(Unknown Source) [na:1.8.0_333]\n        at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75) [jar:rsrc:tomcat-embed-core-9.0.62.jar!/:na]\n        at java.util.concurrent.AbstractExecutorService.submit(Unknown Source) [na:1.8.0_333]\n        at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:919) [jar:rsrc:tomcat-embed-core-9.0.62.jar!/:na]\n        ... 34 common frames omitted\nCaused by: java.lang.Error: factory already defined\n        at java.net.URL.setURLStreamHandlerFactory(Unknown Source) ~[na:1.8.0_333]\n        at org.apache.catalina.webresources.TomcatURLStreamHandlerFactory.&lt;init&gt;(TomcatURLStreamHandlerFactory.java:130) ~[jar:rsrc:tomcat-embed-core-9.0.62.jar!/:na]\n        at org.apache.catalina.webresources.TomcatURLStreamHandlerFactory.getInstanceInternal(TomcatURLStreamHandlerFactory.java:53) ~[jar:rsrc:tomcat-embed-core-9.0.62.jar!/:na]\n        at org.apache.catalina.webresources.TomcatURLStreamHandlerFactory.register(TomcatURLStreamHandlerFactory.java:77) ~[jar:rsrc:tomcat-embed-core-9.0.62.jar!/:na]\n        at org.apache.catalina.webresources.StandardRoot.registerURLStreamHandlerFactory(StandardRoot.java:711) ~[jar:rsrc:tomcat-embed-core-9.0.62.jar!/:na]\n        at org.apache.catalina.webresources.StandardRoot.initInternal(StandardRoot.java:698) ~[jar:rsrc:tomcat-embed-core-9.0.62.jar!/:na]\n        at org.apache.catalina.util.LifecycleBase.init(LifecycleBase.java:136) [jar:rsrc:tomcat-embed-core-9.0.62.jar!/:na]\n        ... 44 common frames omitted\n\n2022-05-19 08:06:01.820 ERROR 5520 --- [main] org.apache.catalina.core.ContainerBase   : A child container failed during start\n\njava.util.concurrent.ExecutionException: org.apache.catalina.LifecycleException: A child container failed during start\n        at java.util.concurrent.FutureTask.report(Unknown Source) ~[na:1.8.0_333]\n        at java.util.concurrent.FutureTask.get(Unknown Source) ~[na:1.8.0_333]\n        at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:926) ~[jar:rsrc:tomcat-embed-core-9.0.62.jar!/:na]\n        at org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:263) [jar:rsrc:tomcat-embed-core-9.0.62.jar!/:na]\n        at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) [jar:rsrc:tomcat-embed-core-9.0.62.jar!/:na]\n        at org.apache.catalina.core.StandardService.startInternal(StandardService.java:432) [jar:rsrc:tomcat-embed-core-9.0.62.jar!/:na]\n        at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) [jar:rsrc:tomcat-embed-core-9.0.62.jar!/:na]\n        at org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:927) [jar:rsrc:tomcat-embed-core-9.0.62.jar!/:na]\n        at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) [jar:rsrc:tomcat-embed-core-9.0.62.jar!/:na]\n        at org.apache.catalina.startup.Tomcat.start(Tomcat.java:486) [jar:rsrc:tomcat-embed-core-9.0.62.jar!/:na]\n        at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:123) [jar:rsrc:spring-boot-2.6.7.jar!/:na]\n        at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.&lt;init&gt;(TomcatWebServer.java:104) [jar:rsrc:spring-boot-2.6.7.jar!/:na]\n        at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getTomcatWebServer(TomcatServletWebServerFactory.java:479) [jar:rsrc:spring-boot-2.6.7.jar!/:na]\n        at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getWebServer(TomcatServletWebServerFactory.java:211) [jar:rsrc:spring-boot-2.6.7.jar!/:na]\n        at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.createWebServer(ServletWebServerApplicationContext.java:182) [jar:rsrc:spring-boot-2.6.7.jar!/:na]\n        at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:160) [jar:rsrc:spring-boot-2.6.7.jar!/:na]\n        at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:577) [jar:rsrc:spring-context-5.3.19.jar!/:na]\n        at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:145) [jar:rsrc:spring-boot-2.6.7.jar!/:na]\n        at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:740) [jar:rsrc:spring-boot-2.6.7.jar!/:na]\n        at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:415) [jar:rsrc:spring-boot-2.6.7.jar!/:na]\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:303) [jar:rsrc:spring-boot-2.6.7.jar!/:na]\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:1312) [jar:rsrc:spring-boot-2.6.7.jar!/:na]\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:1301) [jar:rsrc:spring-boot-2.6.7.jar!/:na]\n        at com.example.demo.DemoApplication.main(DemoApplication.java:22) [rsrc:./:na]\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_333]\n        at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source) ~[na:1.8.0_333]\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source) ~[na:1.8.0_333]\n        at java.lang.reflect.Method.invoke(Unknown Source) ~[na:1.8.0_333]\n        at org.eclipse.jdt.internal.jarinjarloader.JarRsrcLoader.main(JarRsrcLoader.java:61) [OPAL2022tomcatenable.jar:na]\nCaused by: org.apache.catalina.LifecycleException: A child container failed during start\n        at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:938) ~[jar:rsrc:tomcat-embed-core-9.0.62.jar!/:na]\n        at org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:835) ~[jar:rsrc:tomcat-embed-core-9.0.62.jar!/:na]\n        at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) [jar:rsrc:tomcat-embed-core-9.0.62.jar!/:na]\n        at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1396) ~[jar:rsrc:tomcat-embed-core-9.0.62.jar!/:na]\n        at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1386) ~[jar:rsrc:tomcat-embed-core-9.0.62.jar!/:na]\n        at java.util.concurrent.FutureTask.run(Unknown Source) ~[na:1.8.0_333]\n        at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75) ~[jar:rsrc:tomcat-embed-core-9.0.62.jar!/:na]\n        at java.util.concurrent.AbstractExecutorService.submit(Unknown Source) ~[na:1.8.0_333]\n        at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:919) ~[jar:rsrc:tomcat-embed-core-9.0.62.jar!/:na]\n        ... 26 common frames omitted\nCaused by: java.util.concurrent.ExecutionException: org.apache.catalina.LifecycleException: Failed to initialize component [org.apache.catalina.webresources.StandardRoot@14d81f2c]\n        at java.util.concurrent.FutureTask.report(Unknown Source) ~[na:1.8.0_333]\n        at java.util.concurrent.FutureTask.get(Unknown Source) ~[na:1.8.0_333]\n        at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:926) ~[jar:rsrc:tomcat-embed-core-9.0.62.jar!/:na]\n        ... 34 common frames omitted\nCaused by: org.apache.catalina.LifecycleException: Failed to initialize component [org.apache.catalina.webresources.StandardRoot@14d81f2c]\n        at org.apache.catalina.util.LifecycleBase.handleSubClassException(LifecycleBase.java:440) [jar:rsrc:tomcat-embed-core-9.0.62.jar!/:na]\n        at org.apache.catalina.util.LifecycleBase.init(LifecycleBase.java:139) [jar:rsrc:tomcat-embed-core-9.0.62.jar!/:na]\n        at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:173) [jar:rsrc:tomcat-embed-core-9.0.62.jar!/:na]\n        at org.apache.catalina.core.StandardContext.resourcesStart(StandardContext.java:4885) ~[jar:rsrc:tomcat-embed-core-9.0.62.jar!/:na]\n        at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5023) ~[jar:rsrc:tomcat-embed-core-9.0.62.jar!/:na]\n        at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) [jar:rsrc:tomcat-embed-core-9.0.62.jar!/:na]\n        at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1396) ~[jar:rsrc:tomcat-embed-core-9.0.62.jar!/:na]\n        at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1386) ~[jar:rsrc:tomcat-embed-core-9.0.62.jar!/:na]\n        at java.util.concurrent.FutureTask.run(Unknown Source) ~[na:1.8.0_333]\n        at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75) ~[jar:rsrc:tomcat-embed-core-9.0.62.jar!/:na]\n        at java.util.concurrent.AbstractExecutorService.submit(Unknown Source) ~[na:1.8.0_333]\n        at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:919) ~[jar:rsrc:tomcat-embed-core-9.0.62.jar!/:na]\n        ... 34 common frames omitted\nCaused by: java.lang.Error: factory already defined\n        at java.net.URL.setURLStreamHandlerFactory(Unknown Source) ~[na:1.8.0_333]\n        at org.apache.catalina.webresources.TomcatURLStreamHandlerFactory.&lt;init&gt;(TomcatURLStreamHandlerFactory.java:130) ~[jar:rsrc:tomcat-embed-core-9.0.62.jar!/:na]\n        at org.apache.catalina.webresources.TomcatURLStreamHandlerFactory.getInstanceInternal(TomcatURLStreamHandlerFactory.java:53) ~[jar:rsrc:tomcat-embed-core-9.0.62.jar!/:na]\n        at org.apache.catalina.webresources.TomcatURLStreamHandlerFactory.register(TomcatURLStreamHandlerFactory.java:77) ~[jar:rsrc:tomcat-embed-core-9.0.62.jar!/:na]\n        at org.apache.catalina.webresources.StandardRoot.registerURLStreamHandlerFactory(StandardRoot.java:711) ~[jar:rsrc:tomcat-embed-core-9.0.62.jar!/:na]\n        at org.apache.catalina.webresources.StandardRoot.initInternal(StandardRoot.java:698) ~[jar:rsrc:tomcat-embed-core-9.0.62.jar!/:na]\n        at org.apache.catalina.util.LifecycleBase.init(LifecycleBase.java:136) [jar:rsrc:tomcat-embed-core-9.0.62.jar!/:na]\n        ... 44 common frames omitted\n\n2022-05-19 08:06:01.830  INFO 5520 --- [main] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]\n2022-05-19 08:06:03.335  WARN 5520 --- [main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Unable to start web server; nested exception is org.springframework.boot.web.server.WebServerException: Unable to start embedded Tomcat\n2022-05-19 08:06:03.363  INFO 5520 --- [main] ConditionEvaluationReportLoggingListener :\n\nError starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.\n2022-05-19 08:06:03.428 ERROR 5520 --- [main] o.s.boot.SpringApplication               : Application run failed\n\norg.springframework.context.ApplicationContextException: Unable to start web server; nested exception is org.springframework.boot.web.server.WebServerException: Unable to start embedded Tomcat\n        at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:163) ~[jar:rsrc:spring-boot-2.6.7.jar!/:na]\n        at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:577) ~[jar:rsrc:spring-context-5.3.19.jar!/:na]\n        at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:145) ~[jar:rsrc:spring-boot-2.6.7.jar!/:na]\n        at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:740) [jar:rsrc:spring-boot-2.6.7.jar!/:na]\n        at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:415) [jar:rsrc:spring-boot-2.6.7.jar!/:na]\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:303) [jar:rsrc:spring-boot-2.6.7.jar!/:na]\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:1312) [jar:rsrc:spring-boot-2.6.7.jar!/:na]\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:1301) [jar:rsrc:spring-boot-2.6.7.jar!/:na]\n        at com.example.demo.DemoApplication.main(DemoApplication.java:22) [rsrc:./:na]\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_333]\n        at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source) ~[na:1.8.0_333]\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source) ~[na:1.8.0_333]\n        at java.lang.reflect.Method.invoke(Unknown Source) ~[na:1.8.0_333]\n        at org.eclipse.jdt.internal.jarinjarloader.JarRsrcLoader.main(JarRsrcLoader.java:61) [OPAL2022tomcatenable.jar:na]\nCaused by: org.springframework.boot.web.server.WebServerException: Unable to start embedded Tomcat\n        at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:142) ~[jar:rsrc:spring-boot-2.6.7.jar!/:na]\n        at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.&lt;init&gt;(TomcatWebServer.java:104) ~[jar:rsrc:spring-boot-2.6.7.jar!/:na]\n        at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getTomcatWebServer(TomcatServletWebServerFactory.java:479) ~[jar:rsrc:spring-boot-2.6.7.jar!/:na]\n        at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getWebServer(TomcatServletWebServerFactory.java:211) ~[jar:rsrc:spring-boot-2.6.7.jar!/:na]\n        at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.createWebServer(ServletWebServerApplicationContext.java:182) ~[jar:rsrc:spring-boot-2.6.7.jar!/:na]\n        at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:160) ~[jar:rsrc:spring-boot-2.6.7.jar!/:na]\n        ... 13 common frames omitted\nCaused by: org.apache.catalina.LifecycleException: A child container failed during start\n        at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:938) ~[jar:rsrc:tomcat-embed-core-9.0.62.jar!/:na]\n        at org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:263) ~[jar:rsrc:tomcat-embed-core-9.0.62.jar!/:na]\n        at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[jar:rsrc:tomcat-embed-core-9.0.62.jar!/:na]\n        at org.apache.catalina.core.StandardService.startInternal(StandardService.java:432) ~[jar:rsrc:tomcat-embed-core-9.0.62.jar!/:na]\n        at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[jar:rsrc:tomcat-embed-core-9.0.62.jar!/:na]\n        at org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:927) ~[jar:rsrc:tomcat-embed-core-9.0.62.jar!/:na]\n        at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[jar:rsrc:tomcat-embed-core-9.0.62.jar!/:na]\n        at org.apache.catalina.startup.Tomcat.start(Tomcat.java:486) ~[jar:rsrc:tomcat-embed-core-9.0.62.jar!/:na]\n        at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:123) ~[jar:rsrc:spring-boot-2.6.7.jar!/:na]\n        ... 18 common frames omitted\nCaused by: java.util.concurrent.ExecutionException: org.apache.catalina.LifecycleException: A child container failed during start\n        at java.util.concurrent.FutureTask.report(Unknown Source) ~[na:1.8.0_333]\n        at java.util.concurrent.FutureTask.get(Unknown Source) ~[na:1.8.0_333]\n        at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:926) ~[jar:rsrc:tomcat-embed-core-9.0.62.jar!/:na]\n        ... 26 common frames omitted\nCaused by: org.apache.catalina.LifecycleException: A child container failed during start\n        at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:938) ~[jar:rsrc:tomcat-embed-core-9.0.62.jar!/:na]\n        at org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:835) ~[jar:rsrc:tomcat-embed-core-9.0.62.jar!/:na]\n        at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[jar:rsrc:tomcat-embed-core-9.0.62.jar!/:na]\n        at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1396) ~[jar:rsrc:tomcat-embed-core-9.0.62.jar!/:na]\n        at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1386) ~[jar:rsrc:tomcat-embed-core-9.0.62.jar!/:na]\n        at java.util.concurrent.FutureTask.run(Unknown Source) ~[na:1.8.0_333]\n        at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75) ~[jar:rsrc:tomcat-embed-core-9.0.62.jar!/:na]\n        at java.util.concurrent.AbstractExecutorService.submit(Unknown Source) ~[na:1.8.0_333]\n        at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:919) ~[jar:rsrc:tomcat-embed-core-9.0.62.jar!/:na]\n        ... 26 common frames omitted\nCaused by: java.util.concurrent.ExecutionException: org.apache.catalina.LifecycleException: Failed to initialize component [org.apache.catalina.webresources.StandardRoot@14d81f2c]\n        at java.util.concurrent.FutureTask.report(Unknown Source) ~[na:1.8.0_333]\n        at java.util.concurrent.FutureTask.get(Unknown Source) ~[na:1.8.0_333]\n        at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:926) ~[jar:rsrc:tomcat-embed-core-9.0.62.jar!/:na]\n        ... 34 common frames omitted\nCaused by: org.apache.catalina.LifecycleException: Failed to initialize component [org.apache.catalina.webresources.StandardRoot@14d81f2c]\n        at org.apache.catalina.util.LifecycleBase.handleSubClassException(LifecycleBase.java:440) ~[jar:rsrc:tomcat-embed-core-9.0.62.jar!/:na]\n        at org.apache.catalina.util.LifecycleBase.init(LifecycleBase.java:139) ~[jar:rsrc:tomcat-embed-core-9.0.62.jar!/:na]\n        at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:173) ~[jar:rsrc:tomcat-embed-core-9.0.62.jar!/:na]\n        at org.apache.catalina.core.StandardContext.resourcesStart(StandardContext.java:4885) ~[jar:rsrc:tomcat-embed-core-9.0.62.jar!/:na]\n        at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5023) ~[jar:rsrc:tomcat-embed-core-9.0.62.jar!/:na]\n        at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[jar:rsrc:tomcat-embed-core-9.0.62.jar!/:na]\n        at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1396) ~[jar:rsrc:tomcat-embed-core-9.0.62.jar!/:na]\n        at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1386) ~[jar:rsrc:tomcat-embed-core-9.0.62.jar!/:na]\n        at java.util.concurrent.FutureTask.run(Unknown Source) ~[na:1.8.0_333]\n        at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75) ~[jar:rsrc:tomcat-embed-core-9.0.62.jar!/:na]\n        at java.util.concurrent.AbstractExecutorService.submit(Unknown Source) ~[na:1.8.0_333]\n        at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:919) ~[jar:rsrc:tomcat-embed-core-9.0.62.jar!/:na]\n        ... 34 common frames omitted\nCaused by: java.lang.Error: factory already defined\n        at java.net.URL.setURLStreamHandlerFactory(Unknown Source) ~[na:1.8.0_333]\n        at org.apache.catalina.webresources.TomcatURLStreamHandlerFactory.&lt;init&gt;(TomcatURLStreamHandlerFactory.java:130) ~[jar:rsrc:tomcat-embed-core-9.0.62.jar!/:na]\n        at org.apache.catalina.webresources.TomcatURLStreamHandlerFactory.getInstanceInternal(TomcatURLStreamHandlerFactory.java:53) ~[jar:rsrc:tomcat-embed-core-9.0.62.jar!/:na]\n        at org.apache.catalina.webresources.TomcatURLStreamHandlerFactory.register(TomcatURLStreamHandlerFactory.java:77)~[jar:rsrc:tomcat-embed-core-9.0.62.jar!/:na]\n        at org.apache.catalina.webresources.StandardRoot.registerURLStreamHandlerFactory(StandardRoot.java:711)~[jar:rsrc:tomcat-embed-core-9.0.62.jar!/:na]\n        at org.apache.catalina.webresources.StandardRoot.initInternal(StandardRoot.java:698) ~[jar:rsrc:tomcat-embed-core-9.0.62.jar!/:na]\n        at org.apache.catalina.util.LifecycleBase.init(LifecycleBase.java:136) ~[jar:rsrc:tomcat-embed-core-9.0.62.jar!/:na]\n        ... 44 common frames omitted\n</code></pre>\n<p>I have already try to resolve this by adding</p>\n<pre><code>TomcatURLStreamHandlerFactory.disable();\n</code></pre>\n<p>The problem is solved with that but when I want to make an api request on localhost:8080 in my browser, I have this in the console</p>\n<pre><code>2022-05-19 09:29:03.166  INFO 972 --- [nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'\n2022-05-19 09:29:03.195  INFO 972 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'\n2022-05-19 09:29:03.212  INFO 972 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 13 ms\n</code></pre>\n<p>And I have a 404 Error in my browser, I precise that I don't have this problem with the project on eclipse.</p>\n<p>And this is my POM file</p>\n<p><a href=\"https://codebeautify.org/alleditor/y2226566c\" rel=\"nofollow noreferrer\">https://codebeautify.org/alleditor/y2226566c</a></p>\n"},{"tags":["java","mysql","jdbc","kettle","pdi"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1653070462,"post_id":72322897,"comment_id":127769919,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."},{"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1653116985,"post_id":72322897,"comment_id":127777037,"body_markdown":"_&quot;Caused by: java.net.SocketException: Network is unreachable: connect&quot;_ Are you using Windows? Can you ping localhost from the command prompt, have you tried running the network troubleshooter?","body":"<i>&quot;Caused by: java.net.SocketException: Network is unreachable: connect&quot;</i> Are you using Windows? Can you ping localhost from the command prompt, have you tried running the network troubleshooter?"},{"owner":{"account_id":23797636,"reputation":1,"user_id":17808273,"display_name":"Wind Taylor"},"score":0,"creation_date":1653155414,"post_id":72322897,"comment_id":127784347,"body_markdown":"I&#39;ve tried Ping and telnet on 3306 ； It&#39;s connected, but it can&#39;t connect Mysql in kettle 7.1；I have changed many versions of the mysql driver and still can&#39;t connect. The above is the error message","body":"I&#39;ve tried Ping and telnet on 3306 ； It&#39;s connected, but it can&#39;t connect Mysql in kettle 7.1；I have changed many versions of the mysql driver and still can&#39;t connect. The above is the error message"}],"owner":{"account_id":23797636,"reputation":1,"user_id":17808273,"display_name":"Wind Taylor"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":568,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1653117117,"creation_date":1653068567,"question_id":72322897,"body_markdown":"I&#39;m studying Pentaho Data Integration 7.1 to connect to MySQL, but I got the error as follows:\r\n\r\n    Error connecting to database [1] :org.pentaho.di.core.exception.KettleDatabaseException: \r\n    Error occurred while trying to connect to the database\r\n    \r\n    Error connecting to database: (using class org.gjt.mm.mysql.Driver)\r\n    Communications link failure\r\n    \r\n    The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.\r\n    \r\n    \r\n    org.pentaho.di.core.exception.KettleDatabaseException: \r\n    Error occurred while trying to connect to the database\r\n    \r\n    Error connecting to database: (using class org.gjt.mm.mysql.Driver)\r\n    Communications link failure\r\n    \r\n    The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.\r\n\r\n\r\n\tat org.pentaho.di.core.database.Database.normalConnect(Database.java:472)\r\n\tat org.pentaho.di.core.database.Database.connect(Database.java:370)\r\n\tat org.pentaho.di.core.database.Database.connect(Database.java:341)\r\n\tat org.pentaho.di.core.database.Database.connect(Database.java:331)\r\n\tat org.pentaho.di.core.database.DatabaseFactory.getConnectionTestReport(DatabaseFactory.java:80)\r\n\tat org.pentaho.di.core.database.DatabaseMeta.testConnection(DatabaseMeta.java:2783)\r\n\tat org.pentaho.ui.database.event.DataHandler.testDatabaseConnection(DataHandler.java:597)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:498)\r\n\tat org.pentaho.ui.xul.impl.AbstractXulDomContainer.invoke(AbstractXulDomContainer.java:313)\r\n\tat org.pentaho.ui.xul.impl.AbstractXulComponent.invoke(AbstractXulComponent.java:157)\r\n\tat org.pentaho.ui.xul.impl.AbstractXulComponent.invoke(AbstractXulComponent.java:141)\r\n\tat org.pentaho.ui.xul.swt.tags.SwtButton.access$500(SwtButton.java:43)\r\n\tat org.pentaho.ui.xul.swt.tags.SwtButton$4.widgetSelected(SwtButton.java:137)\r\n\tat org.eclipse.swt.widgets.TypedListener.handleEvent(Unknown Source)\r\n\tat org.eclipse.swt.widgets.EventTable.sendEvent(Unknown Source)\r\n\tat org.eclipse.swt.widgets.Display.sendEvent(Unknown Source)\r\n\tat org.eclipse.swt.widgets.Widget.sendEvent(Unknown Source)\r\n\tat org.eclipse.swt.widgets.Display.runDeferredEvents(Unknown Source)\r\n\tat org.eclipse.swt.widgets.Display.readAndDispatch(Unknown Source)\r\n\tat org.eclipse.jface.window.Window.runEventLoop(Window.java:820)\r\n\tat org.eclipse.jface.window.Window.open(Window.java:796)\r\n\tat org.pentaho.di.ui.xul.KettleDialog.show(KettleDialog.java:80)\r\n\tat org.pentaho.di.ui.xul.KettleDialog.show(KettleDialog.java:47)\r\n\tat org.pentaho.di.ui.core.database.dialog.XulDatabaseDialog.open(XulDatabaseDialog.java:116)\r\n\tat org.pentaho.di.ui.core.database.dialog.DatabaseDialog.open(DatabaseDialog.java:60)\r\n\tat org.pentaho.di.ui.trans.step.BaseStepDialog.showDbDialogUnlessCancelledOrValid(BaseStepDialog.java:779)\r\n\tat org.pentaho.di.ui.trans.step.BaseStepDialog$EditConnectionListener.widgetSelected(BaseStepDialog.java:1425)\r\n\tat org.eclipse.swt.widgets.TypedListener.handleEvent(Unknown Source)\r\n\tat org.eclipse.swt.widgets.EventTable.sendEvent(Unknown Source)\r\n\tat org.eclipse.swt.widgets.Display.sendEvent(Unknown Source)\r\n\tat org.eclipse.swt.widgets.Widget.sendEvent(Unknown Source)\r\n\tat org.eclipse.swt.widgets.Display.runDeferredEvents(Unknown Source)\r\n\tat org.eclipse.swt.widgets.Display.readAndDispatch(Unknown Source)\r\n\tat org.pentaho.di.ui.trans.steps.tableinput.TableInputDialog.open(TableInputDialog.java:436)\r\n\tat org.pentaho.di.ui.spoon.delegates.SpoonStepsDelegate.editStep(SpoonStepsDelegate.java:127)\r\n\tat org.pentaho.di.ui.spoon.Spoon.editStep(Spoon.java:8766)\r\n\tat org.pentaho.di.ui.spoon.trans.TransGraph.editStep(TransGraph.java:3217)\r\n\tat org.pentaho.di.ui.spoon.trans.TransGraph.mouseDoubleClick(TransGraph.java:783)\r\n\tat org.eclipse.swt.widgets.TypedListener.handleEvent(Unknown Source)\r\n\tat org.eclipse.swt.widgets.EventTable.sendEvent(Unknown Source)\r\n\tat org.eclipse.swt.widgets.Display.sendEvent(Unknown Source)\r\n\tat org.eclipse.swt.widgets.Widget.sendEvent(Unknown Source)\r\n\tat org.eclipse.swt.widgets.Display.runDeferredEvents(Unknown Source)\r\n\tat org.eclipse.swt.widgets.Display.readAndDispatch(Unknown Source)\r\n\tat org.pentaho.di.ui.spoon.Spoon.readAndDispatch(Spoon.java:1366)\r\n\tat org.pentaho.di.ui.spoon.Spoon.waitForDispose(Spoon.java:8022)\r\n\tat org.pentaho.di.ui.spoon.Spoon.start(Spoon.java:9277)\r\n\tat org.pentaho.di.ui.spoon.Spoon.main(Spoon.java:692)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:498)\r\n\tat org.pentaho.commons.launcher.Launcher.main(Launcher.java:92)\r\n    Caused by: org.pentaho.di.core.exception.KettleDatabaseException: \r\n    Error connecting to database: (using class org.gjt.mm.mysql.Driver)\r\n    Communications link failure\r\n    \r\n    The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.\r\n\r\n\tat org.pentaho.di.core.database.Database.connectUsingClass(Database.java:585)\r\n\tat org.pentaho.di.core.database.Database.normalConnect(Database.java:456)\r\n\t... 55 more\r\n    Caused by: com.mysql.jdbc.exceptions.jdbc4.CommunicationsException: Communications link failure\r\n\r\n    The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.\r\n    \tat sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n    \tat sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\r\n    \tat sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\r\n    \tat java.lang.reflect.Constructor.newInstance(Constructor.java:423)\r\n    \tat com.mysql.jdbc.Util.handleNewInstance(Util.java:407)\r\n    \tat com.mysql.jdbc.SQLError.createCommunicationsException(SQLError.java:1116)\r\n    \tat com.mysql.jdbc.MysqlIO.&lt;init&gt;(MysqlIO.java:346)\r\n    \tat com.mysql.jdbc.ConnectionImpl.coreConnect(ConnectionImpl.java:2334)\r\n    \tat com.mysql.jdbc.ConnectionImpl.connectOneTryOnly(ConnectionImpl.java:2371)\r\n    \tat com.mysql.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:2163)\r\n    \tat com.mysql.jdbc.ConnectionImpl.&lt;init&gt;(ConnectionImpl.java:794)\r\n    \tat com.mysql.jdbc.JDBC4Connection.&lt;init&gt;(JDBC4Connection.java:47)\r\n    \tat sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n    \tat sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\r\n    \tat sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\r\n    \tat java.lang.reflect.Constructor.newInstance(Constructor.java:423)\r\n    \tat com.mysql.jdbc.Util.handleNewInstance(Util.java:407)\r\n    \tat com.mysql.jdbc.ConnectionImpl.getInstance(ConnectionImpl.java:378)\r\n    \tat com.mysql.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:305)\r\n    \tat java.sql.DriverManager.getConnection(DriverManager.java:664)\r\n    \tat java.sql.DriverManager.getConnection(DriverManager.java:247)\r\n    \tat org.pentaho.di.core.database.Database.connectUsingClass(Database.java:567)\r\n    \t... 56 more\r\n    Caused by: java.net.SocketException: Network is unreachable: connect\r\n    \tat java.net.DualStackPlainSocketImpl.connect0(Native Method)\r\n    \tat java.net.DualStackPlainSocketImpl.socketConnect(DualStackPlainSocketImpl.java:79)\r\n    \tat java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)\r\n    \tat java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)\r\n    \tat java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)\r\n    \tat java.net.PlainSocketImpl.connect(PlainSocketImpl.java:172)\r\n    \tat java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)\r\n    \tat java.net.Socket.connect(Socket.java:589)\r\n    \tat java.net.Socket.connect(Socket.java:538)\r\n    \tat java.net.Socket.&lt;init&gt;(Socket.java:434)\r\n    \tat java.net.Socket.&lt;init&gt;(Socket.java:244)\r\n    \tat com.mysql.jdbc.StandardSocketFactory.connect(StandardSocketFactory.java:254)\r\n    \tat com.mysql.jdbc.MysqlIO.&lt;init&gt;(MysqlIO.java:295)\r\n    \t... 71 more\r\n    \r\n    Hostname       :1\r\n    Port           :3306\r\n    Database name  :127.0.0.1\r\n\r\nI&#39;ve changed a lot of MySQL driver versions such as \r\n[So many versions ][1]\r\n\r\nAnd the port 3306 is opening, server is localhost.\r\n\r\nThe configuration of &#39;data-integration\\simple-jndi\\jdbc.properties&#39; file is as follows\r\n\r\n    SampleData/type=javax.sql.DataSource\r\n    SampleData/driver=org.h2.Driver\r\n    SampleData/url=jdbc:h2:file:samples/db/sampledb;IFEXISTS=TRUE\r\n    SampleData/user=PENTAHO_USER\r\n    SampleData/password=PASSWORD\r\n    Quartz/type=javax.sql.DataSource\r\n    Quartz/driver=org.hsqldb.jdbcDriver\r\n    Quartz/url=jdbc:hsqldb:hsql://localhost/quartz\r\n    Quartz/user=pentaho_user\r\n    Quartz/password=password\r\n    Hibernate/type=javax.sql.DataSource\r\n    Hibernate/driver=org.hsqldb.jdbcDriver\r\n    Hibernate/url=jdbc:hsqldb:hsql://localhost/hibernate\r\n    Hibernate/user=hibuser\r\n    Hibernate/password=password\r\n    Shark/type=javax.sql.DataSource\r\n    Shark/driver=org.hsqldb.jdbcDriver\r\n    Shark/url=jdbc:hsqldb:hsql://localhost/shark\r\n    Shark/user=sa\r\n    Shark/password=\r\n    PDI_Operations_Mart/type=javax.sql.DataSource\r\n    PDI_Operations_Mart/driver=org.postgresql.Driver\r\n    PDI_Operations_Mart/url=jdbc:postgresql://localhost:5432/hibernate?searchpath=pentaho_operations_mart\r\n    PDI_Operations_Mart/user=hibuser\r\n    PDI_Operations_Mart/password=password\r\n    live_logging_info/type=javax.sql.DataSource\r\n    live_logging_info/driver=org.postgresql.Driver\r\n    live_logging_info/url=jdbc:postgresql://localhost:5432/hibernate?searchpath=pentaho_dilogs\r\n    live_logging_info/user=hibuser\r\n    live_logging_info/password=password\r\n    Mysql/type=javax.sql.DataSource\r\n    Mysql/driver=com.mysql.jdbc.Driver\r\n    Mysql/url= jdbc:mysql://localhost:3306/mysql\r\n    Mysql/username=root\r\n    Mysql/password=root\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/BnAjm.png","title":"kettle7.1 connect to mysql ERROR The driver has not received any packets from the server","body":"<p>I'm studying Pentaho Data Integration 7.1 to connect to MySQL, but I got the error as follows:</p>\n<pre><code>Error connecting to database [1] :org.pentaho.di.core.exception.KettleDatabaseException: \nError occurred while trying to connect to the database\n\nError connecting to database: (using class org.gjt.mm.mysql.Driver)\nCommunications link failure\n\nThe last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.\n\n\norg.pentaho.di.core.exception.KettleDatabaseException: \nError occurred while trying to connect to the database\n\nError connecting to database: (using class org.gjt.mm.mysql.Driver)\nCommunications link failure\n\nThe last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.\n\n\nat org.pentaho.di.core.database.Database.normalConnect(Database.java:472)\nat org.pentaho.di.core.database.Database.connect(Database.java:370)\nat org.pentaho.di.core.database.Database.connect(Database.java:341)\nat org.pentaho.di.core.database.Database.connect(Database.java:331)\nat org.pentaho.di.core.database.DatabaseFactory.getConnectionTestReport(DatabaseFactory.java:80)\nat org.pentaho.di.core.database.DatabaseMeta.testConnection(DatabaseMeta.java:2783)\nat org.pentaho.ui.database.event.DataHandler.testDatabaseConnection(DataHandler.java:597)\nat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\nat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\nat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\nat java.lang.reflect.Method.invoke(Method.java:498)\nat org.pentaho.ui.xul.impl.AbstractXulDomContainer.invoke(AbstractXulDomContainer.java:313)\nat org.pentaho.ui.xul.impl.AbstractXulComponent.invoke(AbstractXulComponent.java:157)\nat org.pentaho.ui.xul.impl.AbstractXulComponent.invoke(AbstractXulComponent.java:141)\nat org.pentaho.ui.xul.swt.tags.SwtButton.access$500(SwtButton.java:43)\nat org.pentaho.ui.xul.swt.tags.SwtButton$4.widgetSelected(SwtButton.java:137)\nat org.eclipse.swt.widgets.TypedListener.handleEvent(Unknown Source)\nat org.eclipse.swt.widgets.EventTable.sendEvent(Unknown Source)\nat org.eclipse.swt.widgets.Display.sendEvent(Unknown Source)\nat org.eclipse.swt.widgets.Widget.sendEvent(Unknown Source)\nat org.eclipse.swt.widgets.Display.runDeferredEvents(Unknown Source)\nat org.eclipse.swt.widgets.Display.readAndDispatch(Unknown Source)\nat org.eclipse.jface.window.Window.runEventLoop(Window.java:820)\nat org.eclipse.jface.window.Window.open(Window.java:796)\nat org.pentaho.di.ui.xul.KettleDialog.show(KettleDialog.java:80)\nat org.pentaho.di.ui.xul.KettleDialog.show(KettleDialog.java:47)\nat org.pentaho.di.ui.core.database.dialog.XulDatabaseDialog.open(XulDatabaseDialog.java:116)\nat org.pentaho.di.ui.core.database.dialog.DatabaseDialog.open(DatabaseDialog.java:60)\nat org.pentaho.di.ui.trans.step.BaseStepDialog.showDbDialogUnlessCancelledOrValid(BaseStepDialog.java:779)\nat org.pentaho.di.ui.trans.step.BaseStepDialog$EditConnectionListener.widgetSelected(BaseStepDialog.java:1425)\nat org.eclipse.swt.widgets.TypedListener.handleEvent(Unknown Source)\nat org.eclipse.swt.widgets.EventTable.sendEvent(Unknown Source)\nat org.eclipse.swt.widgets.Display.sendEvent(Unknown Source)\nat org.eclipse.swt.widgets.Widget.sendEvent(Unknown Source)\nat org.eclipse.swt.widgets.Display.runDeferredEvents(Unknown Source)\nat org.eclipse.swt.widgets.Display.readAndDispatch(Unknown Source)\nat org.pentaho.di.ui.trans.steps.tableinput.TableInputDialog.open(TableInputDialog.java:436)\nat org.pentaho.di.ui.spoon.delegates.SpoonStepsDelegate.editStep(SpoonStepsDelegate.java:127)\nat org.pentaho.di.ui.spoon.Spoon.editStep(Spoon.java:8766)\nat org.pentaho.di.ui.spoon.trans.TransGraph.editStep(TransGraph.java:3217)\nat org.pentaho.di.ui.spoon.trans.TransGraph.mouseDoubleClick(TransGraph.java:783)\nat org.eclipse.swt.widgets.TypedListener.handleEvent(Unknown Source)\nat org.eclipse.swt.widgets.EventTable.sendEvent(Unknown Source)\nat org.eclipse.swt.widgets.Display.sendEvent(Unknown Source)\nat org.eclipse.swt.widgets.Widget.sendEvent(Unknown Source)\nat org.eclipse.swt.widgets.Display.runDeferredEvents(Unknown Source)\nat org.eclipse.swt.widgets.Display.readAndDispatch(Unknown Source)\nat org.pentaho.di.ui.spoon.Spoon.readAndDispatch(Spoon.java:1366)\nat org.pentaho.di.ui.spoon.Spoon.waitForDispose(Spoon.java:8022)\nat org.pentaho.di.ui.spoon.Spoon.start(Spoon.java:9277)\nat org.pentaho.di.ui.spoon.Spoon.main(Spoon.java:692)\nat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\nat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\nat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\nat java.lang.reflect.Method.invoke(Method.java:498)\nat org.pentaho.commons.launcher.Launcher.main(Launcher.java:92)\nCaused by: org.pentaho.di.core.exception.KettleDatabaseException: \nError connecting to database: (using class org.gjt.mm.mysql.Driver)\nCommunications link failure\n\nThe last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.\n\nat org.pentaho.di.core.database.Database.connectUsingClass(Database.java:585)\nat org.pentaho.di.core.database.Database.normalConnect(Database.java:456)\n... 55 more\nCaused by: com.mysql.jdbc.exceptions.jdbc4.CommunicationsException: Communications link failure\n\nThe last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.\n    at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n    at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\n    at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\n    at java.lang.reflect.Constructor.newInstance(Constructor.java:423)\n    at com.mysql.jdbc.Util.handleNewInstance(Util.java:407)\n    at com.mysql.jdbc.SQLError.createCommunicationsException(SQLError.java:1116)\n    at com.mysql.jdbc.MysqlIO.&lt;init&gt;(MysqlIO.java:346)\n    at com.mysql.jdbc.ConnectionImpl.coreConnect(ConnectionImpl.java:2334)\n    at com.mysql.jdbc.ConnectionImpl.connectOneTryOnly(ConnectionImpl.java:2371)\n    at com.mysql.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:2163)\n    at com.mysql.jdbc.ConnectionImpl.&lt;init&gt;(ConnectionImpl.java:794)\n    at com.mysql.jdbc.JDBC4Connection.&lt;init&gt;(JDBC4Connection.java:47)\n    at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n    at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\n    at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\n    at java.lang.reflect.Constructor.newInstance(Constructor.java:423)\n    at com.mysql.jdbc.Util.handleNewInstance(Util.java:407)\n    at com.mysql.jdbc.ConnectionImpl.getInstance(ConnectionImpl.java:378)\n    at com.mysql.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:305)\n    at java.sql.DriverManager.getConnection(DriverManager.java:664)\n    at java.sql.DriverManager.getConnection(DriverManager.java:247)\n    at org.pentaho.di.core.database.Database.connectUsingClass(Database.java:567)\n    ... 56 more\nCaused by: java.net.SocketException: Network is unreachable: connect\n    at java.net.DualStackPlainSocketImpl.connect0(Native Method)\n    at java.net.DualStackPlainSocketImpl.socketConnect(DualStackPlainSocketImpl.java:79)\n    at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)\n    at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)\n    at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)\n    at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:172)\n    at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)\n    at java.net.Socket.connect(Socket.java:589)\n    at java.net.Socket.connect(Socket.java:538)\n    at java.net.Socket.&lt;init&gt;(Socket.java:434)\n    at java.net.Socket.&lt;init&gt;(Socket.java:244)\n    at com.mysql.jdbc.StandardSocketFactory.connect(StandardSocketFactory.java:254)\n    at com.mysql.jdbc.MysqlIO.&lt;init&gt;(MysqlIO.java:295)\n    ... 71 more\n\nHostname       :1\nPort           :3306\nDatabase name  :127.0.0.1\n</code></pre>\n<p>I've changed a lot of MySQL driver versions such as\n<a href=\"https://i.stack.imgur.com/BnAjm.png\" rel=\"nofollow noreferrer\">So many versions </a></p>\n<p>And the port 3306 is opening, server is localhost.</p>\n<p>The configuration of 'data-integration\\simple-jndi\\jdbc.properties' file is as follows</p>\n<pre><code>SampleData/type=javax.sql.DataSource\nSampleData/driver=org.h2.Driver\nSampleData/url=jdbc:h2:file:samples/db/sampledb;IFEXISTS=TRUE\nSampleData/user=PENTAHO_USER\nSampleData/password=PASSWORD\nQuartz/type=javax.sql.DataSource\nQuartz/driver=org.hsqldb.jdbcDriver\nQuartz/url=jdbc:hsqldb:hsql://localhost/quartz\nQuartz/user=pentaho_user\nQuartz/password=password\nHibernate/type=javax.sql.DataSource\nHibernate/driver=org.hsqldb.jdbcDriver\nHibernate/url=jdbc:hsqldb:hsql://localhost/hibernate\nHibernate/user=hibuser\nHibernate/password=password\nShark/type=javax.sql.DataSource\nShark/driver=org.hsqldb.jdbcDriver\nShark/url=jdbc:hsqldb:hsql://localhost/shark\nShark/user=sa\nShark/password=\nPDI_Operations_Mart/type=javax.sql.DataSource\nPDI_Operations_Mart/driver=org.postgresql.Driver\nPDI_Operations_Mart/url=jdbc:postgresql://localhost:5432/hibernate?searchpath=pentaho_operations_mart\nPDI_Operations_Mart/user=hibuser\nPDI_Operations_Mart/password=password\nlive_logging_info/type=javax.sql.DataSource\nlive_logging_info/driver=org.postgresql.Driver\nlive_logging_info/url=jdbc:postgresql://localhost:5432/hibernate?searchpath=pentaho_dilogs\nlive_logging_info/user=hibuser\nlive_logging_info/password=password\nMysql/type=javax.sql.DataSource\nMysql/driver=com.mysql.jdbc.Driver\nMysql/url= jdbc:mysql://localhost:3306/mysql\nMysql/username=root\nMysql/password=root\n</code></pre>\n"},{"tags":["java","spring","spring-boot","tomcat","server"],"answers":[{"tags":[],"owner":{"account_id":4236471,"reputation":1687,"user_id":3467488,"display_name":"kiwiron"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1653116772,"creation_date":1653116772,"answer_id":72327402,"question_id":72327202,"body_markdown":"From the remote machine, try pinging your IP address. If it times out there is definitely a firewall issue between the machines.\r\nIf ping works, try telnet IP port. If on Windows you may need to enable telnet from setup/applications. If telnet connects, the \r\nthere will be no action until you hit cntrl square bracket. If that works then everything should work ok.","title":"Spring Boot and tomcat access from outside","body":"<p>From the remote machine, try pinging your IP address. If it times out there is definitely a firewall issue between the machines.\nIf ping works, try telnet IP port. If on Windows you may need to enable telnet from setup/applications. If telnet connects, the\nthere will be no action until you hit cntrl square bracket. If that works then everything should work ok.</p>\n"}],"owner":{"account_id":24665263,"reputation":17,"user_id":18561033,"display_name":"ThomThomPhao"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1431,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72327402,"answer_count":1,"score":0,"last_activity_date":1653116772,"creation_date":1653114352,"question_id":72327202,"body_markdown":"For a few days I&#39;ve been trying to solve this problem by searching on stackoverflow and other sites but I can&#39;t find it.\r\n\r\nI currently have a spring boot application converted to jar running on a server. This application is accessible via a browser using the localhost on port 8080 by using tomcat which was directly integrated to my spring boot application. \r\n\r\nThe problem is the following: \r\n\r\nWe will tell here that the ip address of my server is 123.45.69.894\r\n\r\nIf I type :\r\n\r\n```\r\nlocalhost:8080/mypath\r\n```\r\nor if I type :\r\n\r\n```\r\n123.45.69.894:8080/mypath\r\n```\r\nin the browser of the server. I have this that appears in the console when I make the request :\r\n\r\n```\r\n2022-05-21 08:23:26.094  INFO 7536 --- [nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet &#39;dispatcherServlet&#39;\r\n2022-05-21 08:23:26.094  INFO 7536 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet &#39;dispatcherServlet&#39;\r\n2022-05-21 08:23:26.109  INFO 7536 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 15 ms\r\n```\r\n\r\nand everything works well.\r\n\r\nBut if I type,\r\n\r\n```\r\n123.45.69.894:8080/mypath\r\n```\r\nin the browser of another computer it doesn&#39;t work anymore and I have a connection time out error and nothing appears in the console.\r\n\r\nI have already checked if the firewall doesn&#39;t blocked the port 8080. But the problem is not there. \r\n\r\nI have also on the port 80 an IIS web site, the problem can come from there ?\r\n\r\nI have already looked at these articles for example but that doesn&#39;t work for me :\r\n\r\n \r\nhttps://stackoverflow.com/questions/63990154/how-to-deploy-spring-boot-application-in-iis\r\n\r\nhttps://stackoverflow.com/questions/3135145/apache-tomcat-not-accessible-from-outside\r\n\r\nDoes anyone know where the problem might come from and how to solve it? \r\n","title":"Spring Boot and tomcat access from outside","body":"<p>For a few days I've been trying to solve this problem by searching on stackoverflow and other sites but I can't find it.</p>\n<p>I currently have a spring boot application converted to jar running on a server. This application is accessible via a browser using the localhost on port 8080 by using tomcat which was directly integrated to my spring boot application.</p>\n<p>The problem is the following:</p>\n<p>We will tell here that the ip address of my server is 123.45.69.894</p>\n<p>If I type :</p>\n<pre><code>localhost:8080/mypath\n</code></pre>\n<p>or if I type :</p>\n<pre><code>123.45.69.894:8080/mypath\n</code></pre>\n<p>in the browser of the server. I have this that appears in the console when I make the request :</p>\n<pre><code>2022-05-21 08:23:26.094  INFO 7536 --- [nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'\n2022-05-21 08:23:26.094  INFO 7536 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'\n2022-05-21 08:23:26.109  INFO 7536 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 15 ms\n</code></pre>\n<p>and everything works well.</p>\n<p>But if I type,</p>\n<pre><code>123.45.69.894:8080/mypath\n</code></pre>\n<p>in the browser of another computer it doesn't work anymore and I have a connection time out error and nothing appears in the console.</p>\n<p>I have already checked if the firewall doesn't blocked the port 8080. But the problem is not there.</p>\n<p>I have also on the port 80 an IIS web site, the problem can come from there ?</p>\n<p>I have already looked at these articles for example but that doesn't work for me :</p>\n<p><a href=\"https://stackoverflow.com/questions/63990154/how-to-deploy-spring-boot-application-in-iis\">how to deploy Spring boot application in IIS</a></p>\n<p><a href=\"https://stackoverflow.com/questions/3135145/apache-tomcat-not-accessible-from-outside\">Apache Tomcat not accessible from outside</a></p>\n<p>Does anyone know where the problem might come from and how to solve it?</p>\n"},{"tags":["java","android"],"answers":[{"tags":[],"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1653116413,"creation_date":1653115442,"answer_id":72327285,"question_id":72327224,"body_markdown":"`Arrays.asList` doesn&#39;t allow the creation of `List`s from derived items directly.\r\n\r\nHowever, you could use `Stream`s for creating a `List` from concatenated `String`s.\r\n```java\r\nimageNames\r\n    .stream()\r\n    .map(s-&gt;prefix.concat(s))//alternative: .map(prefix::concat)\r\n    .toList();\r\n```\r\nBefore Java 16, you would need to use `.collect(Collectors.toList())` instead of `.toList()`.\r\n\r\nThis essentially does the same as your loop. It creates a `Stream` (a data processing pipeline) from `imageNames`, maps each name (converts each name) with `prefix.concat(s)` and collects the result to a `List`.\r\n\r\nNote that you might also want to use the `+`-operator for string concatenation.","title":"Arrays.asList() how to append String value to each item","body":"<p><code>Arrays.asList</code> doesn't allow the creation of <code>List</code>s from derived items directly.</p>\n<p>However, you could use <code>Stream</code>s for creating a <code>List</code> from concatenated <code>String</code>s.</p>\n<pre class=\"lang-java prettyprint-override\"><code>imageNames\n    .stream()\n    .map(s-&gt;prefix.concat(s))//alternative: .map(prefix::concat)\n    .toList();\n</code></pre>\n<p>Before Java 16, you would need to use <code>.collect(Collectors.toList())</code> instead of <code>.toList()</code>.</p>\n<p>This essentially does the same as your loop. It creates a <code>Stream</code> (a data processing pipeline) from <code>imageNames</code>, maps each name (converts each name) with <code>prefix.concat(s)</code> and collects the result to a <code>List</code>.</p>\n<p>Note that you might also want to use the <code>+</code>-operator for string concatenation.</p>\n"},{"tags":[],"owner":{"account_id":11639846,"reputation":189,"user_id":8524713,"display_name":"bhaskarkh"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1653116269,"creation_date":1653116269,"answer_id":72327356,"question_id":72327224,"body_markdown":"Use Stream api to map value to each element \r\nonly for java 8 and above version\r\n\r\n**Arrays.stream(files)** &gt;&gt; converting string array to stream\r\n\r\n**.map((elem) -&gt; prefix+ elem)** &gt;&gt; taing each element and returning new modified string\r\n**.collect(Collectors.toList())** &gt;&gt; collecting to List\r\n   \r\n\r\n     private static List&lt;String&gt; getPreviews(Context context) throws IOException {\r\n    \r\n        String prefix = &quot;file:///android_asset/folder_previews/&quot;;\r\n                AssetManager assetManager = context.getAssets();\r\n                String[] files = assetManager.list(&quot;folder_previews&quot;);\r\n                 List&lt;String&gt; modifiedList = Arrays.stream(files)\r\n                                                   .map((elem) -&gt; prefix+ elem)\r\n                                                   .collect(Collectors.toList());\r\n            return modifiedList ;\r\n        }","title":"Arrays.asList() how to append String value to each item","body":"<p>Use Stream api to map value to each element\nonly for java 8 and above version</p>\n<p><strong>Arrays.stream(files)</strong> &gt;&gt; converting string array to stream</p>\n<p><strong>.map((elem) -&gt; prefix+ elem)</strong> &gt;&gt; taing each element and returning new modified string\n<strong>.collect(Collectors.toList())</strong> &gt;&gt; collecting to List</p>\n<pre><code> private static List&lt;String&gt; getPreviews(Context context) throws IOException {\n\n    String prefix = &quot;file:///android_asset/folder_previews/&quot;;\n            AssetManager assetManager = context.getAssets();\n            String[] files = assetManager.list(&quot;folder_previews&quot;);\n             List&lt;String&gt; modifiedList = Arrays.stream(files)\n                                               .map((elem) -&gt; prefix+ elem)\n                                               .collect(Collectors.toList());\n        return modifiedList ;\n    }\n</code></pre>\n"}],"owner":{"account_id":12661907,"reputation":2449,"user_id":11110509,"display_name":"DIRTY DAVE"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":277,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72327285,"answer_count":2,"score":0,"last_activity_date":1653116413,"creation_date":1653114640,"question_id":72327224,"body_markdown":"I&#39;m reading getting the names of all the images inside a ```subfolder``` of my ```assets``` folder.\r\n\r\n```\r\n//Returns name of all the images inside folder_previews\r\n\r\nprivate static List&lt;String&gt; getPreviews(Context context) throws IOException {\r\n        AssetManager assetManager = context.getAssets();\r\n        String[] files = assetManager.list(&quot;folder_previews&quot;);\r\n        return Arrays.asList(files);\r\n}\r\n```\r\n\r\nI then want to concat a ```String``` before each one.\r\n\r\n```\r\ntry {\r\n    List&lt;String&gt; imageNames = getPreviews(context);\r\n    String prefix = &quot;file:///android_asset/folder_previews/&quot;;\r\n\r\n    List&lt;String&gt; formattedImageNames = new ArrayList&lt;&gt;();\r\n    for(String s : imageNames){\r\n       formattedImageNames.add(prefix.concat(s));\r\n    }\r\n\r\n} catch (IOException e) {\r\n    e.printStackTrace();\r\n}\r\n```\r\n\r\nIs there a way to do it inside my method ```getPreviews``` with ```Array&#39;s``` ```.asList()``` so I can avoid using the loop?\r\n","title":"Arrays.asList() how to append String value to each item","body":"<p>I'm reading getting the names of all the images inside a <code>subfolder</code> of my <code>assets</code> folder.</p>\n<pre><code>//Returns name of all the images inside folder_previews\n\nprivate static List&lt;String&gt; getPreviews(Context context) throws IOException {\n        AssetManager assetManager = context.getAssets();\n        String[] files = assetManager.list(&quot;folder_previews&quot;);\n        return Arrays.asList(files);\n}\n</code></pre>\n<p>I then want to concat a <code>String</code> before each one.</p>\n<pre><code>try {\n    List&lt;String&gt; imageNames = getPreviews(context);\n    String prefix = &quot;file:///android_asset/folder_previews/&quot;;\n\n    List&lt;String&gt; formattedImageNames = new ArrayList&lt;&gt;();\n    for(String s : imageNames){\n       formattedImageNames.add(prefix.concat(s));\n    }\n\n} catch (IOException e) {\n    e.printStackTrace();\n}\n</code></pre>\n<p>Is there a way to do it inside my method <code>getPreviews</code> with <code>Array's</code> <code>.asList()</code> so I can avoid using the loop?</p>\n"},{"tags":["java","vector","processing","trigonometry","angle"],"answers":[{"tags":[],"owner":{"account_id":7322082,"reputation":205321,"user_id":5577765,"display_name":"Rabbid76"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1653116230,"creation_date":1653115898,"answer_id":72327323,"question_id":72326061,"body_markdown":"You can find the side of the rectangle by finding the point on the rectangle that lies on the straight line given by the center of the circle and the center of the rectangle.\r\n\r\nThe point on the rectangle and the circle can be computed by the minimum relation of the offset between the center points and the size of the rectangle.  \r\nIn the following algorithm, the rectangle is defined by the center point (`rectCenter`) and the size (`size`) and the circle is defined by the center point (`circleCenter`) and the radius (`radius`): \r\n\r\n```java\r\nPVector[] intersectRectangleCircle(PVector rectCenter, PVector size, PVector circleCenter, float radius) {\r\n    \r\n  PVector offset  = PVector.sub(circleCenter, rectCenter);\r\n    if (offset.x == 0 &amp;&amp; offset.y == 0)\r\n        return null;\r\n      \r\n    float ratio;  \r\n    if (offset.x == 0)   \r\n        ratio = size.y / abs(offset.y);\r\n    else if (offset.y == 0) \r\n        ratio = size.x / abs(offset.x);\r\n    else\r\n        ratio  = min(size.x / abs(offset.x), size.y / abs(offset.y));\r\n    ratio *= 0.5;\r\n    \r\n    PVector p1 = PVector.add(rectCenter, PVector.mult(offset, ratio));\r\n    offset.normalize();\r\n    PVector p2 = PVector.sub(circleCenter, offset.mult(radius));\r\n    return new PVector[]{p1, p2};\r\n}\r\n```\r\n\r\n--- \r\n\r\nMinimal example:\r\n\r\n[![][1]][1]\r\n\r\n```java\r\nvoid setup() {\r\n    size(500, 500);\r\n}\r\n\r\nPVector[] intersectRectangleCircle(PVector rectCenter, PVector size, PVector circleCenter, float radius) {\r\n    \r\n  PVector offset  = PVector.sub(circleCenter, rectCenter);\r\n    if (offset.x == 0 &amp;&amp; offset.y == 0)\r\n        return null;\r\n      \r\n    float ratio;  \r\n    if (offset.x == 0)   \r\n        ratio = size.y / abs(offset.y);\r\n    else if (offset.y == 0) \r\n        ratio = size.x / abs(offset.x);\r\n    else\r\n        ratio  = min(size.x / abs(offset.x), size.y / abs(offset.y));\r\n    ratio *= 0.5;\r\n    \r\n    PVector p1 = PVector.add(rectCenter, PVector.mult(offset, ratio));\r\n    offset.normalize();\r\n    PVector p2 = PVector.sub(circleCenter, offset.mult(radius));\r\n    return new PVector[]{p1, p2};\r\n}\r\n\r\nvoid draw() {\r\n    background(160);\r\n    \r\n    float sizeX = 150;\r\n    float sizeY = 100;\r\n    float rectX = width/2-sizeX/2;\r\n    float rectY = height/2-sizeY/2;\r\n    float radius = 50;\r\n    float centerX = mouseX;\r\n    float centerY = mouseY;\r\n    \r\n    PVector[] outerPoints = intersectRectangleCircle(\r\n        new PVector(rectX+sizeX/2, rectY+sizeY/2),\r\n        new PVector(sizeX, sizeY),\r\n        new PVector(centerX, centerY),\r\n        radius\r\n    );\r\n  \r\n    noFill();\r\n    strokeWeight(3);\r\n    stroke(0, 128, 0);\r\n    circle(centerX, centerY, radius*2);\r\n    stroke(0, 0, 128);\r\n    rect(rectX, rectY, sizeX, sizeY);\r\n    \r\n    if (outerPoints != null) {\r\n         stroke(128, 0, 0);\r\n         strokeWeight(1);\r\n         line(rectX+sizeX/2, rectY+sizeY/2, centerX, centerY);\r\n         stroke(255, 0, 0);\r\n         strokeWeight(3);\r\n         line(outerPoints[0].x, outerPoints[0].y, outerPoints[1].x, outerPoints[1].y);\r\n         fill(128, 0, 0);\r\n         circle(outerPoints[0].x, outerPoints[0].y, 8);\r\n         circle(outerPoints[1].x, outerPoints[1].y, 8);\r\n    }\r\n}\r\n```\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/EqZTj.gif","title":"How to find point on the circumference of a circle from an angle","body":"<p>You can find the side of the rectangle by finding the point on the rectangle that lies on the straight line given by the center of the circle and the center of the rectangle.</p>\n<p>The point on the rectangle and the circle can be computed by the minimum relation of the offset between the center points and the size of the rectangle.<br />\nIn the following algorithm, the rectangle is defined by the center point (<code>rectCenter</code>) and the size (<code>size</code>) and the circle is defined by the center point (<code>circleCenter</code>) and the radius (<code>radius</code>):</p>\n<pre class=\"lang-java prettyprint-override\"><code>PVector[] intersectRectangleCircle(PVector rectCenter, PVector size, PVector circleCenter, float radius) {\n    \n  PVector offset  = PVector.sub(circleCenter, rectCenter);\n    if (offset.x == 0 &amp;&amp; offset.y == 0)\n        return null;\n      \n    float ratio;  \n    if (offset.x == 0)   \n        ratio = size.y / abs(offset.y);\n    else if (offset.y == 0) \n        ratio = size.x / abs(offset.x);\n    else\n        ratio  = min(size.x / abs(offset.x), size.y / abs(offset.y));\n    ratio *= 0.5;\n    \n    PVector p1 = PVector.add(rectCenter, PVector.mult(offset, ratio));\n    offset.normalize();\n    PVector p2 = PVector.sub(circleCenter, offset.mult(radius));\n    return new PVector[]{p1, p2};\n}\n</code></pre>\n<hr />\n<p>Minimal example:</p>\n<p><a href=\"https://i.stack.imgur.com/EqZTj.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/EqZTj.gif\" alt=\"\" /></a></p>\n<pre class=\"lang-java prettyprint-override\"><code>void setup() {\n    size(500, 500);\n}\n\nPVector[] intersectRectangleCircle(PVector rectCenter, PVector size, PVector circleCenter, float radius) {\n    \n  PVector offset  = PVector.sub(circleCenter, rectCenter);\n    if (offset.x == 0 &amp;&amp; offset.y == 0)\n        return null;\n      \n    float ratio;  \n    if (offset.x == 0)   \n        ratio = size.y / abs(offset.y);\n    else if (offset.y == 0) \n        ratio = size.x / abs(offset.x);\n    else\n        ratio  = min(size.x / abs(offset.x), size.y / abs(offset.y));\n    ratio *= 0.5;\n    \n    PVector p1 = PVector.add(rectCenter, PVector.mult(offset, ratio));\n    offset.normalize();\n    PVector p2 = PVector.sub(circleCenter, offset.mult(radius));\n    return new PVector[]{p1, p2};\n}\n\nvoid draw() {\n    background(160);\n    \n    float sizeX = 150;\n    float sizeY = 100;\n    float rectX = width/2-sizeX/2;\n    float rectY = height/2-sizeY/2;\n    float radius = 50;\n    float centerX = mouseX;\n    float centerY = mouseY;\n    \n    PVector[] outerPoints = intersectRectangleCircle(\n        new PVector(rectX+sizeX/2, rectY+sizeY/2),\n        new PVector(sizeX, sizeY),\n        new PVector(centerX, centerY),\n        radius\n    );\n  \n    noFill();\n    strokeWeight(3);\n    stroke(0, 128, 0);\n    circle(centerX, centerY, radius*2);\n    stroke(0, 0, 128);\n    rect(rectX, rectY, sizeX, sizeY);\n    \n    if (outerPoints != null) {\n         stroke(128, 0, 0);\n         strokeWeight(1);\n         line(rectX+sizeX/2, rectY+sizeY/2, centerX, centerY);\n         stroke(255, 0, 0);\n         strokeWeight(3);\n         line(outerPoints[0].x, outerPoints[0].y, outerPoints[1].x, outerPoints[1].y);\n         fill(128, 0, 0);\n         circle(outerPoints[0].x, outerPoints[0].y, 8);\n         circle(outerPoints[1].x, outerPoints[1].y, 8);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":18015029,"reputation":53,"user_id":13093732,"display_name":"MossDog"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":75,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72327323,"answer_count":1,"score":1,"last_activity_date":1653116230,"creation_date":1653097176,"question_id":72326061,"body_markdown":"position holds the center of a circle with a diameter variable.\r\nenemy.position is the top left corner of a square which is an enemy, size is the width and height of the enemy.\r\nI am using pVector and line() from the processing.core.pApplet library in java.\r\n\r\nWhat I&#39;m trying to do is draw a line from the circle to an enemy. The line should look like it started from the centre of the enemy towards pos (centre of the circle) but stops on the surface of the circle. From what I can tell, the code I have left below works but only in cases where the enemy is to the right of the player, otherwise, the line&#39;s position on the surface of the circle is inverted to the other side,\r\n\r\n```\r\nPVector riseRun = PVector.sub(position, enemy.position);\r\nfloat angle = atan(riseRun.y/riseRun.x);\r\n        \r\nline(position.x + (cos(angle) * diameter/2), position.y + (sin(angle) * diameter/2), enemy.position.x + (enemy.size/2), enemy.position.y + enemy.size/2);\r\n```","title":"How to find point on the circumference of a circle from an angle","body":"<p>position holds the center of a circle with a diameter variable.\nenemy.position is the top left corner of a square which is an enemy, size is the width and height of the enemy.\nI am using pVector and line() from the processing.core.pApplet library in java.</p>\n<p>What I'm trying to do is draw a line from the circle to an enemy. The line should look like it started from the centre of the enemy towards pos (centre of the circle) but stops on the surface of the circle. From what I can tell, the code I have left below works but only in cases where the enemy is to the right of the player, otherwise, the line's position on the surface of the circle is inverted to the other side,</p>\n<pre><code>PVector riseRun = PVector.sub(position, enemy.position);\nfloat angle = atan(riseRun.y/riseRun.x);\n        \nline(position.x + (cos(angle) * diameter/2), position.y + (sin(angle) * diameter/2), enemy.position.x + (enemy.size/2), enemy.position.y + enemy.size/2);\n</code></pre>\n"},{"tags":["java","spring","mongodb","spring-boot"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1653056011,"post_id":72320346,"comment_id":127764758,"body_markdown":"Remove the `spring-data-mongodb` dependency, add `spring-boot-starter-data-mongodb` and make sure you have properly configured MongoDB.","body":"Remove the <code>spring-data-mongodb</code> dependency, add <code>spring-boot-starter-data-mongodb</code> and make sure you have properly configured MongoDB."},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1653056410,"post_id":72320346,"comment_id":127764910,"body_markdown":"The `spring-boot-starter-mongodb` makes your dependency management easier and includes the proper version for this Spring Boot version.","body":"The <code>spring-boot-starter-mongodb</code> makes your dependency management easier and includes the proper version for this Spring Boot version."}],"answers":[{"tags":[],"owner":{"account_id":219730,"reputation":20703,"user_id":476791,"accept_rate":67,"display_name":"slartidan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1653115915,"creation_date":1653056244,"answer_id":72320448,"question_id":72320346,"body_markdown":"The dependency is incorrect.\r\n\r\n`spring-data-mongodb` only makes it compile:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-data-mongodb&lt;/artifactId&gt;\r\n        &lt;version&gt;3.4.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n\r\nBut you need additional dependencies, to make it run. For convenience you can import `spring-boot-starter-data-mongodb`, which will import all required artifacts as transitive dependencies:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-data-mongodb&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n\r\n","title":"How to find a Bean instance of MongoRepository?","body":"<p>The dependency is incorrect.</p>\n<p><code>spring-data-mongodb</code> only makes it compile:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-data-mongodb&lt;/artifactId&gt;\n    &lt;version&gt;3.4.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>But you need additional dependencies, to make it run. For convenience you can import <code>spring-boot-starter-data-mongodb</code>, which will import all required artifacts as transitive dependencies:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-data-mongodb&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":219730,"reputation":20703,"user_id":476791,"accept_rate":67,"display_name":"slartidan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72320448,"answer_count":1,"score":0,"last_activity_date":1653115915,"creation_date":1653055878,"question_id":72320346,"body_markdown":"I am trying to use a MongoRepository, but Spring complains, that no instance of the MonoRepository-Interface is in the context.\r\n\r\n    @SpringBootApplication\r\n    public class BackendApplication {\r\n        public static void main(String[] args) {\r\n            SpringApplication.run(BackendApplication.class, args);\r\n        }\r\n    }\r\n    \r\n    @Document(collection = &quot;tableItems&quot;)\r\n    class TableItem {\r\n    \r\n        @Id\r\n        public String id;\r\n        public int roundNbr;\r\n    }\r\n    \r\n    interface TableItemsRepository extends MongoRepository&lt;TableItem, String&gt; {\r\n    }\r\n    \r\n    @Service\r\n    class TableItemsService {\r\n    \r\n        @Autowired\r\n        public TableItemsService(TableItemsRepository tableItemsRepository) {\r\n        }\r\n    }\r\n\r\nThe server complains:\r\n    \r\n    Parameter 0 of constructor in backend.TableItemsService required a bean of type &#39;backend.TableItemsRepository&#39; that could not be found.\r\n    \r\n    \r\n    Action:\r\n    \r\n    Consider defining a bean of type &#39;backend.TableItemsRepository&#39; in your configuration.\r\n\r\nmy maven pom.xml:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-data-mongodb&lt;/artifactId&gt;\r\n        &lt;version&gt;3.4.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nHow can I get a bean instance of my MongoRepository?","title":"How to find a Bean instance of MongoRepository?","body":"<p>I am trying to use a MongoRepository, but Spring complains, that no instance of the MonoRepository-Interface is in the context.</p>\n<pre><code>@SpringBootApplication\npublic class BackendApplication {\n    public static void main(String[] args) {\n        SpringApplication.run(BackendApplication.class, args);\n    }\n}\n\n@Document(collection = &quot;tableItems&quot;)\nclass TableItem {\n\n    @Id\n    public String id;\n    public int roundNbr;\n}\n\ninterface TableItemsRepository extends MongoRepository&lt;TableItem, String&gt; {\n}\n\n@Service\nclass TableItemsService {\n\n    @Autowired\n    public TableItemsService(TableItemsRepository tableItemsRepository) {\n    }\n}\n</code></pre>\n<p>The server complains:</p>\n<pre><code>Parameter 0 of constructor in backend.TableItemsService required a bean of type 'backend.TableItemsRepository' that could not be found.\n\n\nAction:\n\nConsider defining a bean of type 'backend.TableItemsRepository' in your configuration.\n</code></pre>\n<p>my maven pom.xml:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-data-mongodb&lt;/artifactId&gt;\n    &lt;version&gt;3.4.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>How can I get a bean instance of my MongoRepository?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1652922207,"post_id":72294765,"comment_id":127727066,"body_markdown":"Post the problematic string.","body":"Post the problematic string."}],"answers":[{"tags":[],"owner":{"account_id":6714862,"reputation":16230,"user_id":5176992,"display_name":"Eritrean"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652901733,"creation_date":1652901733,"answer_id":72294873,"question_id":72294765,"body_markdown":"Use a character class\r\n\r\n    String out = secretWord.replaceAll(&quot;[^ ]&quot; , &quot;-&quot;);\r\n\r\nor a capital `S`, instead of a lower `s` to replace all non space chars\r\n\r\n    String out2 = secretWord.replaceAll(&quot;\\\\S&quot; , &quot;-&quot;);","title":"Change all letters except space from a string using Java","body":"<p>Use a character class</p>\n<pre><code>String out = secretWord.replaceAll(&quot;[^ ]&quot; , &quot;-&quot;);\n</code></pre>\n<p>or a capital <code>S</code>, instead of a lower <code>s</code> to replace all non space chars</p>\n<pre><code>String out2 = secretWord.replaceAll(&quot;\\\\S&quot; , &quot;-&quot;);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2848514,"reputation":10932,"user_id":2446208,"accept_rate":69,"display_name":"blacktide"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1652901758,"creation_date":1652901758,"answer_id":72294878,"question_id":72294765,"body_markdown":"You can use the `\\\\S` regex:\r\n\r\n```java\r\nString s = &quot;Sonra g&#246;r&#252;ş&#252;r&#252;z&quot;;\r\nString replaced = s.replaceAll(&quot;\\\\S&quot;, &quot;-&quot;);\r\nSystem.out.println(replaced); // outputs ----- ---------\r\n```","title":"Change all letters except space from a string using Java","body":"<p>You can use the <code>\\\\S</code> regex:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String s = &quot;Sonra görüşürüz&quot;;\nString replaced = s.replaceAll(&quot;\\\\S&quot;, &quot;-&quot;);\nSystem.out.println(replaced); // outputs ----- ---------\n</code></pre>\n"},{"tags":[],"owner":{"account_id":175525,"reputation":1174,"user_id":405613,"display_name":"Oliver Marienfeld"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652901854,"creation_date":1652901854,"answer_id":72294890,"question_id":72294765,"body_markdown":"NOT needs to be expressed in square brackets in `java.util.regex.Pattern`:\r\n\r\n```java\r\nString out = secretWord.replaceAll(&quot;[^\\\\s]&quot;, &quot;-&quot;)\r\n```\r\n","title":"Change all letters except space from a string using Java","body":"<p>NOT needs to be expressed in square brackets in <code>java.util.regex.Pattern</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String out = secretWord.replaceAll(&quot;[^\\\\s]&quot;, &quot;-&quot;)\n</code></pre>\n"}],"owner":{"account_id":4561003,"reputation":5,"user_id":3703346,"display_name":"KaraKarga"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":66,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72294878,"answer_count":3,"score":0,"last_activity_date":1653115756,"creation_date":1652901091,"question_id":72294765,"body_markdown":"\r\nI want to change all letters from a string to &quot;-&quot; char except space using Java.\r\n\r\nI tried:\r\n\r\n    String out = secretWord.replaceAll(&quot;^ &quot; , &quot;-&quot;);\r\nand\r\n\r\n    String out = secretWord.replaceAll(&quot;\\\\s&quot; , &quot;-&quot;);\r\n\r\nThey didn&#39;t work.\r\n\r\n\r\nI tried:\r\n\r\n    String newWord = secretWord.replaceAll(&quot;[A-Z]&quot; , &quot;-&quot;);\r\n\r\nIt worked but i didn&#39;t change Turkish characters I use in that string.\r\n\r\n\r\n\r\nOriginal Code:\r\n\r\n   \r\n    public class ChangeToLine {\r\n    \r\n        public static void main(String[] args) {\r\n        \r\n        \tString originalWord = &quot;ABİDİKUŞ GUBİDİKUŞ&quot;;\r\n        \tString secretWord = originalWord;\r\n        }\r\n    }\r\n    \r\n\r\n","title":"Change all letters except space from a string using Java","body":"<p>I want to change all letters from a string to &quot;-&quot; char except space using Java.</p>\n<p>I tried:</p>\n<pre><code>String out = secretWord.replaceAll(&quot;^ &quot; , &quot;-&quot;);\n</code></pre>\n<p>and</p>\n<pre><code>String out = secretWord.replaceAll(&quot;\\\\s&quot; , &quot;-&quot;);\n</code></pre>\n<p>They didn't work.</p>\n<p>I tried:</p>\n<pre><code>String newWord = secretWord.replaceAll(&quot;[A-Z]&quot; , &quot;-&quot;);\n</code></pre>\n<p>It worked but i didn't change Turkish characters I use in that string.</p>\n<p>Original Code:</p>\n<pre><code>public class ChangeToLine {\n\n    public static void main(String[] args) {\n    \n        String originalWord = &quot;ABİDİKUŞ GUBİDİKUŞ&quot;;\n        String secretWord = originalWord;\n    }\n}\n</code></pre>\n"},{"tags":["java","excel","apache-poi","comments","cell"],"comments":[{"owner":{"account_id":964210,"reputation":1018,"user_id":987959,"display_name":"PJ Fanning"},"score":0,"creation_date":1653043867,"post_id":72309792,"comment_id":127760089,"body_markdown":"could you try latest POI version? - 5.2.2 - there are changes that might help","body":"could you try latest POI version? - 5.2.2 - there are changes that might help"},{"owner":{"account_id":22979559,"reputation":53,"user_id":17106708,"display_name":"Ann-Christin Lindras"},"score":0,"creation_date":1653056042,"post_id":72309792,"comment_id":127764771,"body_markdown":"@PJFanning For a test I used version 5.2.2 with the same result: Multiple cell comments in one cell are not allowed.","body":"@PJFanning For a test I used version 5.2.2 with the same result: Multiple cell comments in one cell are not allowed."},{"owner":{"account_id":964210,"reputation":1018,"user_id":987959,"display_name":"PJ Fanning"},"score":0,"creation_date":1653056553,"post_id":72309792,"comment_id":127764980,"body_markdown":"Have you tried using XSSFWorkbook instead of SXSSFWorkbook? - SXSSF has much lower support than XSSF version does.","body":"Have you tried using XSSFWorkbook instead of SXSSFWorkbook? - SXSSF has much lower support than XSSF version does."},{"owner":{"account_id":964210,"reputation":1018,"user_id":987959,"display_name":"PJ Fanning"},"score":0,"creation_date":1653056722,"post_id":72309792,"comment_id":127765040,"body_markdown":"`cell.setCellComment(null)` is not necessary if you intend to call `cell. removeCellComment()`","body":"<code>cell.setCellComment(null)</code> is not necessary if you intend to call <code>cell. removeCellComment()</code>"},{"owner":{"account_id":964210,"reputation":1018,"user_id":987959,"display_name":"PJ Fanning"},"score":0,"creation_date":1653057202,"post_id":72309792,"comment_id":127765228,"body_markdown":"You should probably change this code - `SXSSFDrawing drawing = sheet.createDrawingPatriarch(); `. Call `sheet.getDrawingPatriarch();` first and check if it is null - if non-null, use that instance of creating a new one","body":"You should probably change this code - <code>SXSSFDrawing drawing = sheet.createDrawingPatriarch(); </code>. Call <code>sheet.getDrawingPatriarch();</code> first and check if it is null - if non-null, use that instance of creating a new one"}],"answers":[{"tags":[],"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1653114734,"creation_date":1653067214,"answer_id":72322628,"question_id":72309792,"body_markdown":"This is a disadvantage of `SXSSF`. \r\n\r\n`SXSSFCell.removeCellComment` of current `apache poi 5.2.2` does not really remove the comment from the sheet&#39;s `CommentsTable` and from the sheet&#39;s `VMLDrawing` as `XSSFCell.removeCellComment` does. It only removes a [Property](https://svn.apache.org/viewvc/poi/tags/REL_5_2_2/poi-ooxml/src/main/java/org/apache/poi/xssf/streaming/SXSSFCell.java?view=markup#l987). See [SXSSFCell.removeCellComment](https://svn.apache.org/viewvc/poi/tags/REL_5_2_2/poi-ooxml/src/main/java/org/apache/poi/xssf/streaming/SXSSFCell.java?view=markup#l618). That&#39;s why the error coming from `org.apache.poi.xssf.model.CommentsTable.createNewComment`:\r\n\r\n    Exception in thread &quot;main&quot; java.lang.IllegalArgumentException: Multiple cell comments in one cell are not allowed, cell: ...\r\n            at org.apache.poi.xssf.model.CommentsTable.createNewComment(CommentsTable.java:252)\r\n            at org.apache.poi.xssf.usermodel.XSSFDrawing.createCellComment(XSSFDrawing.java:387)\r\n            at org.apache.poi.xssf.streaming.SXSSFDrawing.createCellComment(SXSSFDrawing.java:53)\r\n    ...\r\n\r\nbecause the comment is not really removed after `SXSSFCell.removeCellComment`.\r\n\r\nBut why not simply creating a new comment only if not one already exists for the cell? Else only changing the author and the text. That should work for each package, `HSSF`, `XSSF` and `SXSSF`.\r\n\r\nComplete example to test:\r\n\r\n    import java.io.FileOutputStream;\r\n    \r\n    import org.apache.poi.ss.usermodel.*;\r\n    import org.apache.poi.hssf.usermodel.*;\r\n    import org.apache.poi.xssf.usermodel.*;\r\n    import org.apache.poi.xssf.streaming.*;\r\n    \r\n    class CreateExcelWithComments {\r\n        \r\n     static void createCellComment(Cell cell, String authorText, Font boldFont, String commentText, int offsetX, int offsetY) {\r\n      // create the text content\r\n      CreationHelper creationHelper = cell.getSheet().getWorkbook().getCreationHelper();\r\n      String commentString = authorText + &quot;\\n&quot; + commentText;\r\n      RichTextString richTextString = creationHelper.createRichTextString(commentString);\r\n      richTextString.applyFont(0, authorText.length(), boldFont);\r\n      // try to get the cell comment\r\n      Comment comment = cell.getCellComment();\r\n      if (comment == null) { // create a new comment\r\n       // create the anchor\r\n       ClientAnchor anchor = creationHelper.createClientAnchor();\r\n       anchor.setCol1(cell.getColumnIndex());\r\n       anchor.setCol2(cell.getColumnIndex() + offsetX);\r\n       anchor.setRow1(cell.getRow().getRowNum());\r\n       anchor.setRow2(cell.getRow().getRowNum() + offsetY);\r\n       // create the comment and set it to the cell\r\n       Drawing drawing = cell.getSheet().createDrawingPatriarch();\r\n       comment = drawing.createCellComment(anchor);\r\n       cell.setCellComment(comment);\r\n      }\r\n      // apply author and text\r\n      comment.setAuthor(authorText);\r\n      comment.setString(richTextString);\r\n     }\r\n    \r\n     public static void main(String[] args) throws Exception {\r\n    \r\n      //Workbook workbook = new HSSFWorkbook(); String filePath = &quot;./Excel.xls&quot;;\r\n      //Workbook workbook = new XSSFWorkbook(); String filePath = &quot;./Excel.xlsx&quot;;\r\n      Workbook workbook = new SXSSFWorkbook(); String filePath = &quot;./Excel.xlsx&quot;;\r\n      \r\n      Font boldFont = workbook.createFont();           \r\n      boldFont.setBold(true);\r\n    \r\n      Sheet sheet = workbook.createSheet();\r\n      Row row; \r\n    \r\n      row = sheet.createRow(3);\r\n      Cell cellF4 = row.createCell(5);\r\n      cellF4.setCellValue(&quot;F4&quot;);\r\n      sheet.setColumnWidth(cellF4.getColumnIndex(), 10 * 256);   \r\n      createCellComment(cellF4, &quot;Axel Richter&quot;, boldFont, &quot;Cell comment for F4&quot;, 2, 4);\r\n    \r\n      row = sheet.createRow(1);\r\n      Cell cellB2 = row.createCell(1);\r\n      cellB2.setCellValue(&quot;B2&quot;);\r\n      sheet.setColumnWidth(cellB2.getColumnIndex(), 10 * 256);   \r\n      createCellComment(cellB2, &quot;Axel Richter&quot;, boldFont, &quot;Cell comment for B2&quot;, 2, 4);\r\n    \r\n      createCellComment(cellB2, &quot;Axel Richter&quot;, boldFont, &quot;New Cell comment for B2&quot;, 2, 4);\r\n      \r\n      createCellComment(cellF4, &quot;Axel Richter&quot;, boldFont, &quot;New Cell comment for F4&quot;, 2, 4);\r\n    \r\n      try (FileOutputStream out = new FileOutputStream(filePath)) {\r\n       workbook.write(out);\r\n      }\r\n    \r\n      workbook.close();\r\n      if (workbook instanceof SXSSFWorkbook) ((SXSSFWorkbook)workbook).dispose();\r\n     }\r\n    }\r\n\r\nWorks for me using `apache poi 5.2.2` in `HSSF`, `XSSF`, as well as `SXSSF`.\r\n____________________________________________________\r\n\r\nOf course the above is not able to change the anchors of the comments too. Because the anchors are in the `VMLDrawing` of the sheet and `SXSSFSheet` has no access to it&#39;s `VMLDrawing`, this is only possible using the `VMLDrawing` got from the `XSSFSheet`. And since even the `XSSFVMLDrawing` not provides to change the anchors directly but only to remove them and set new, the reference to the old `VMLDrawing` needs to be changed in sheet&#39;s `CommentsTable` too. So we need an explicit `removeCellComment(SXSSFCell cell)` only for `SXSSFCell `. That all only is possible using a ugly reflection approach. See next code:\r\n\r\n    import java.io.FileOutputStream;\r\n    \r\n    import org.apache.poi.ss.usermodel.*;\r\n    import org.apache.poi.hssf.usermodel.*;\r\n    import org.apache.poi.xssf.usermodel.*;\r\n    import org.apache.poi.xssf.streaming.*;\r\n    \r\n    class CreateExcelWithComments {\r\n        \r\n     static void removeCellComment(SXSSFCell cell) throws Exception {\r\n      SXSSFSheet sxssfSheet = cell.getSheet();   \r\n      java.lang.reflect.Field _sh = SXSSFSheet.class.getDeclaredField(&quot;_sh&quot;);\r\n      _sh.setAccessible(true);      \r\n      XSSFSheet xssfSheet = (XSSFSheet) _sh.get(sxssfSheet);\r\n      org.apache.poi.ss.util.CellAddress ref = cell.getAddress();\r\n      \r\n      java.lang.reflect.Method getCommentsTable = XSSFSheet.class.getDeclaredMethod(&quot;getCommentsTable&quot;, boolean.class);\r\n      getCommentsTable.setAccessible(true);      \r\n      org.apache.poi.xssf.model.CommentsTable commentsTable = (org.apache.poi.xssf.model.CommentsTable)getCommentsTable.invoke(xssfSheet, false);\r\n      java.lang.reflect.Method removeComment = org.apache.poi.xssf.model.CommentsTable.class.getDeclaredMethod(&quot;removeComment&quot;, org.apache.poi.ss.util.CellAddress.class);\r\n      removeComment.setAccessible(true);      \r\n      removeComment.invoke(commentsTable, ref);\r\n          \r\n      java.lang.reflect.Method getVMLDrawing = XSSFSheet.class.getDeclaredMethod(&quot;getVMLDrawing&quot;, boolean.class);\r\n      getVMLDrawing.setAccessible(true);      \r\n      XSSFVMLDrawing vmlDrawing = (XSSFVMLDrawing)getVMLDrawing.invoke(xssfSheet, false);\r\n      java.lang.reflect.Method removeCommentShape = XSSFVMLDrawing.class.getDeclaredMethod(&quot;removeCommentShape&quot;, int.class, int.class);\r\n      removeCommentShape.setAccessible(true);      \r\n      removeCommentShape.invoke(vmlDrawing, cell.getRowIndex(), cell.getColumnIndex());    \r\n     }\r\n        \r\n     static void createCellComment(Cell cell, String authorText, Font boldFont, String commentText, int offsetX, int offsetY) {\r\n      // create the text content\r\n      CreationHelper creationHelper = cell.getSheet().getWorkbook().getCreationHelper();\r\n      String commentString = authorText + &quot;\\n&quot; + commentText;\r\n      RichTextString richTextString = creationHelper.createRichTextString(commentString);\r\n      richTextString.applyFont(0, authorText.length(), boldFont);\r\n      // try to get the cell comment\r\n      Comment comment = cell.getCellComment();\r\n      // if there is a comment already, then remove it\r\n      if (comment != null) {\r\n       cell.removeCellComment();\r\n       if (cell instanceof SXSSFCell) {\r\n        try {\r\n         removeCellComment((SXSSFCell)cell);\r\n        } catch (Exception e) {\r\n         e.printStackTrace();   \r\n        }\r\n       }\r\n      }\r\n      // create the anchor\r\n      ClientAnchor anchor = creationHelper.createClientAnchor();\r\n      anchor.setCol1(cell.getColumnIndex());\r\n      anchor.setCol2(cell.getColumnIndex() + offsetX);\r\n      anchor.setRow1(cell.getRow().getRowNum());\r\n      anchor.setRow2(cell.getRow().getRowNum() + offsetY);\r\n      // create the comment in drawing\r\n      Drawing drawing = cell.getSheet().createDrawingPatriarch(); // this tries to get first in apache poi 5.2.2\r\n      comment = drawing.createCellComment(anchor);\r\n      // set author and text\r\n      comment.setAuthor(authorText);\r\n      comment.setString(richTextString);\r\n      // apply comment to cell\r\n      cell.setCellComment(comment);\r\n     }\r\n    \r\n     public static void main(String[] args) throws Exception {\r\n    \r\n      //Workbook workbook = new HSSFWorkbook(); String filePath = &quot;./Excel.xls&quot;;\r\n      //Workbook workbook = new XSSFWorkbook(); String filePath = &quot;./Excel.xlsx&quot;;\r\n      Workbook workbook = new SXSSFWorkbook(); String filePath = &quot;./Excel.xlsx&quot;;\r\n      \r\n      Font boldFont = workbook.createFont();           \r\n      boldFont.setBold(true);\r\n    \r\n      Sheet sheet = workbook.createSheet();\r\n      Row row; \r\n    \r\n      row = sheet.createRow(3);\r\n      Cell cellF4 = row.createCell(5);\r\n      cellF4.setCellValue(&quot;F4&quot;);\r\n      sheet.setColumnWidth(cellF4.getColumnIndex(), 10 * 256);   \r\n      createCellComment(cellF4, &quot;Axel Richter&quot;, boldFont, &quot;Cell comment for F4&quot;, 2, 2);\r\n    \r\n      row = sheet.createRow(1);\r\n      Cell cellB2 = row.createCell(1);\r\n      cellB2.setCellValue(&quot;B2&quot;);\r\n      sheet.setColumnWidth(cellB2.getColumnIndex(), 10 * 256);   \r\n      createCellComment(cellB2, &quot;Axel Richter&quot;, boldFont, &quot;Cell comment for B2&quot;, 2, 2);\r\n    \r\n      createCellComment(cellB2, &quot;Axel Richter New&quot;, boldFont, &quot;New Cell comment for B2&quot;, 2, 4);\r\n      \r\n      createCellComment(cellF4, &quot;Axel Richter New&quot;, boldFont, &quot;New Cell comment for F4&quot;, 2, 4);\r\n    \r\n      try (FileOutputStream out = new FileOutputStream(filePath)) {\r\n       workbook.write(out);\r\n      }\r\n    \r\n      workbook.close();\r\n      if (workbook instanceof SXSSFWorkbook) ((SXSSFWorkbook)workbook).dispose();\r\n     }\r\n    }\r\n\r\nThis works for me using `apache poi 5.2.2`. But it is not well tested and so a working draft at first.\r\n\r\n","title":"apache poi: remove and create a comment for the same cell - Multiple cell comments in one cell are not allowed","body":"<p>This is a disadvantage of <code>SXSSF</code>.</p>\n<p><code>SXSSFCell.removeCellComment</code> of current <code>apache poi 5.2.2</code> does not really remove the comment from the sheet's <code>CommentsTable</code> and from the sheet's <code>VMLDrawing</code> as <code>XSSFCell.removeCellComment</code> does. It only removes a <a href=\"https://svn.apache.org/viewvc/poi/tags/REL_5_2_2/poi-ooxml/src/main/java/org/apache/poi/xssf/streaming/SXSSFCell.java?view=markup#l987\" rel=\"nofollow noreferrer\">Property</a>. See <a href=\"https://svn.apache.org/viewvc/poi/tags/REL_5_2_2/poi-ooxml/src/main/java/org/apache/poi/xssf/streaming/SXSSFCell.java?view=markup#l618\" rel=\"nofollow noreferrer\">SXSSFCell.removeCellComment</a>. That's why the error coming from <code>org.apache.poi.xssf.model.CommentsTable.createNewComment</code>:</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.IllegalArgumentException: Multiple cell comments in one cell are not allowed, cell: ...\n        at org.apache.poi.xssf.model.CommentsTable.createNewComment(CommentsTable.java:252)\n        at org.apache.poi.xssf.usermodel.XSSFDrawing.createCellComment(XSSFDrawing.java:387)\n        at org.apache.poi.xssf.streaming.SXSSFDrawing.createCellComment(SXSSFDrawing.java:53)\n...\n</code></pre>\n<p>because the comment is not really removed after <code>SXSSFCell.removeCellComment</code>.</p>\n<p>But why not simply creating a new comment only if not one already exists for the cell? Else only changing the author and the text. That should work for each package, <code>HSSF</code>, <code>XSSF</code> and <code>SXSSF</code>.</p>\n<p>Complete example to test:</p>\n<pre><code>import java.io.FileOutputStream;\n\nimport org.apache.poi.ss.usermodel.*;\nimport org.apache.poi.hssf.usermodel.*;\nimport org.apache.poi.xssf.usermodel.*;\nimport org.apache.poi.xssf.streaming.*;\n\nclass CreateExcelWithComments {\n    \n static void createCellComment(Cell cell, String authorText, Font boldFont, String commentText, int offsetX, int offsetY) {\n  // create the text content\n  CreationHelper creationHelper = cell.getSheet().getWorkbook().getCreationHelper();\n  String commentString = authorText + &quot;\\n&quot; + commentText;\n  RichTextString richTextString = creationHelper.createRichTextString(commentString);\n  richTextString.applyFont(0, authorText.length(), boldFont);\n  // try to get the cell comment\n  Comment comment = cell.getCellComment();\n  if (comment == null) { // create a new comment\n   // create the anchor\n   ClientAnchor anchor = creationHelper.createClientAnchor();\n   anchor.setCol1(cell.getColumnIndex());\n   anchor.setCol2(cell.getColumnIndex() + offsetX);\n   anchor.setRow1(cell.getRow().getRowNum());\n   anchor.setRow2(cell.getRow().getRowNum() + offsetY);\n   // create the comment and set it to the cell\n   Drawing drawing = cell.getSheet().createDrawingPatriarch();\n   comment = drawing.createCellComment(anchor);\n   cell.setCellComment(comment);\n  }\n  // apply author and text\n  comment.setAuthor(authorText);\n  comment.setString(richTextString);\n }\n\n public static void main(String[] args) throws Exception {\n\n  //Workbook workbook = new HSSFWorkbook(); String filePath = &quot;./Excel.xls&quot;;\n  //Workbook workbook = new XSSFWorkbook(); String filePath = &quot;./Excel.xlsx&quot;;\n  Workbook workbook = new SXSSFWorkbook(); String filePath = &quot;./Excel.xlsx&quot;;\n  \n  Font boldFont = workbook.createFont();           \n  boldFont.setBold(true);\n\n  Sheet sheet = workbook.createSheet();\n  Row row; \n\n  row = sheet.createRow(3);\n  Cell cellF4 = row.createCell(5);\n  cellF4.setCellValue(&quot;F4&quot;);\n  sheet.setColumnWidth(cellF4.getColumnIndex(), 10 * 256);   \n  createCellComment(cellF4, &quot;Axel Richter&quot;, boldFont, &quot;Cell comment for F4&quot;, 2, 4);\n\n  row = sheet.createRow(1);\n  Cell cellB2 = row.createCell(1);\n  cellB2.setCellValue(&quot;B2&quot;);\n  sheet.setColumnWidth(cellB2.getColumnIndex(), 10 * 256);   \n  createCellComment(cellB2, &quot;Axel Richter&quot;, boldFont, &quot;Cell comment for B2&quot;, 2, 4);\n\n  createCellComment(cellB2, &quot;Axel Richter&quot;, boldFont, &quot;New Cell comment for B2&quot;, 2, 4);\n  \n  createCellComment(cellF4, &quot;Axel Richter&quot;, boldFont, &quot;New Cell comment for F4&quot;, 2, 4);\n\n  try (FileOutputStream out = new FileOutputStream(filePath)) {\n   workbook.write(out);\n  }\n\n  workbook.close();\n  if (workbook instanceof SXSSFWorkbook) ((SXSSFWorkbook)workbook).dispose();\n }\n}\n</code></pre>\n<p>Works for me using <code>apache poi 5.2.2</code> in <code>HSSF</code>, <code>XSSF</code>, as well as <code>SXSSF</code>.</p>\n<hr />\n<p>Of course the above is not able to change the anchors of the comments too. Because the anchors are in the <code>VMLDrawing</code> of the sheet and <code>SXSSFSheet</code> has no access to it's <code>VMLDrawing</code>, this is only possible using the <code>VMLDrawing</code> got from the <code>XSSFSheet</code>. And since even the <code>XSSFVMLDrawing</code> not provides to change the anchors directly but only to remove them and set new, the reference to the old <code>VMLDrawing</code> needs to be changed in sheet's <code>CommentsTable</code> too. So we need an explicit <code>removeCellComment(SXSSFCell cell)</code> only for <code>SXSSFCell </code>. That all only is possible using a ugly reflection approach. See next code:</p>\n<pre><code>import java.io.FileOutputStream;\n\nimport org.apache.poi.ss.usermodel.*;\nimport org.apache.poi.hssf.usermodel.*;\nimport org.apache.poi.xssf.usermodel.*;\nimport org.apache.poi.xssf.streaming.*;\n\nclass CreateExcelWithComments {\n    \n static void removeCellComment(SXSSFCell cell) throws Exception {\n  SXSSFSheet sxssfSheet = cell.getSheet();   \n  java.lang.reflect.Field _sh = SXSSFSheet.class.getDeclaredField(&quot;_sh&quot;);\n  _sh.setAccessible(true);      \n  XSSFSheet xssfSheet = (XSSFSheet) _sh.get(sxssfSheet);\n  org.apache.poi.ss.util.CellAddress ref = cell.getAddress();\n  \n  java.lang.reflect.Method getCommentsTable = XSSFSheet.class.getDeclaredMethod(&quot;getCommentsTable&quot;, boolean.class);\n  getCommentsTable.setAccessible(true);      \n  org.apache.poi.xssf.model.CommentsTable commentsTable = (org.apache.poi.xssf.model.CommentsTable)getCommentsTable.invoke(xssfSheet, false);\n  java.lang.reflect.Method removeComment = org.apache.poi.xssf.model.CommentsTable.class.getDeclaredMethod(&quot;removeComment&quot;, org.apache.poi.ss.util.CellAddress.class);\n  removeComment.setAccessible(true);      \n  removeComment.invoke(commentsTable, ref);\n      \n  java.lang.reflect.Method getVMLDrawing = XSSFSheet.class.getDeclaredMethod(&quot;getVMLDrawing&quot;, boolean.class);\n  getVMLDrawing.setAccessible(true);      \n  XSSFVMLDrawing vmlDrawing = (XSSFVMLDrawing)getVMLDrawing.invoke(xssfSheet, false);\n  java.lang.reflect.Method removeCommentShape = XSSFVMLDrawing.class.getDeclaredMethod(&quot;removeCommentShape&quot;, int.class, int.class);\n  removeCommentShape.setAccessible(true);      \n  removeCommentShape.invoke(vmlDrawing, cell.getRowIndex(), cell.getColumnIndex());    \n }\n    \n static void createCellComment(Cell cell, String authorText, Font boldFont, String commentText, int offsetX, int offsetY) {\n  // create the text content\n  CreationHelper creationHelper = cell.getSheet().getWorkbook().getCreationHelper();\n  String commentString = authorText + &quot;\\n&quot; + commentText;\n  RichTextString richTextString = creationHelper.createRichTextString(commentString);\n  richTextString.applyFont(0, authorText.length(), boldFont);\n  // try to get the cell comment\n  Comment comment = cell.getCellComment();\n  // if there is a comment already, then remove it\n  if (comment != null) {\n   cell.removeCellComment();\n   if (cell instanceof SXSSFCell) {\n    try {\n     removeCellComment((SXSSFCell)cell);\n    } catch (Exception e) {\n     e.printStackTrace();   \n    }\n   }\n  }\n  // create the anchor\n  ClientAnchor anchor = creationHelper.createClientAnchor();\n  anchor.setCol1(cell.getColumnIndex());\n  anchor.setCol2(cell.getColumnIndex() + offsetX);\n  anchor.setRow1(cell.getRow().getRowNum());\n  anchor.setRow2(cell.getRow().getRowNum() + offsetY);\n  // create the comment in drawing\n  Drawing drawing = cell.getSheet().createDrawingPatriarch(); // this tries to get first in apache poi 5.2.2\n  comment = drawing.createCellComment(anchor);\n  // set author and text\n  comment.setAuthor(authorText);\n  comment.setString(richTextString);\n  // apply comment to cell\n  cell.setCellComment(comment);\n }\n\n public static void main(String[] args) throws Exception {\n\n  //Workbook workbook = new HSSFWorkbook(); String filePath = &quot;./Excel.xls&quot;;\n  //Workbook workbook = new XSSFWorkbook(); String filePath = &quot;./Excel.xlsx&quot;;\n  Workbook workbook = new SXSSFWorkbook(); String filePath = &quot;./Excel.xlsx&quot;;\n  \n  Font boldFont = workbook.createFont();           \n  boldFont.setBold(true);\n\n  Sheet sheet = workbook.createSheet();\n  Row row; \n\n  row = sheet.createRow(3);\n  Cell cellF4 = row.createCell(5);\n  cellF4.setCellValue(&quot;F4&quot;);\n  sheet.setColumnWidth(cellF4.getColumnIndex(), 10 * 256);   \n  createCellComment(cellF4, &quot;Axel Richter&quot;, boldFont, &quot;Cell comment for F4&quot;, 2, 2);\n\n  row = sheet.createRow(1);\n  Cell cellB2 = row.createCell(1);\n  cellB2.setCellValue(&quot;B2&quot;);\n  sheet.setColumnWidth(cellB2.getColumnIndex(), 10 * 256);   \n  createCellComment(cellB2, &quot;Axel Richter&quot;, boldFont, &quot;Cell comment for B2&quot;, 2, 2);\n\n  createCellComment(cellB2, &quot;Axel Richter New&quot;, boldFont, &quot;New Cell comment for B2&quot;, 2, 4);\n  \n  createCellComment(cellF4, &quot;Axel Richter New&quot;, boldFont, &quot;New Cell comment for F4&quot;, 2, 4);\n\n  try (FileOutputStream out = new FileOutputStream(filePath)) {\n   workbook.write(out);\n  }\n\n  workbook.close();\n  if (workbook instanceof SXSSFWorkbook) ((SXSSFWorkbook)workbook).dispose();\n }\n}\n</code></pre>\n<p>This works for me using <code>apache poi 5.2.2</code>. But it is not well tested and so a working draft at first.</p>\n"}],"owner":{"account_id":22979559,"reputation":53,"user_id":17106708,"display_name":"Ann-Christin Lindras"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":963,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1653114734,"creation_date":1652986640,"question_id":72309792,"body_markdown":"I use in my java application the apache poi library version 4.1.1.\r\nI have a method to set a cell comment that is called in various places in my application.\r\n```\r\nprotected void setCellComment(final SXSSFWorkbook workbook, final SXSSFSheet sheet, final Cell cell, \r\n\t\t\tfinal String authorText, final String commentText, final int offsetX, final int offsetY) {\t\r\n\t\t\r\n\t\tif (cell.getCellComment() != null) {\r\n\t\t\tcell.setCellComment(null);\r\n\t\t\tcell.removeCellComment();\r\n\t\t}\r\n\t\tif (cell.getCellComment() == null) {\t\t \r\n\t\t\tCreationHelper factory = workbook.getCreationHelper();\r\n\t\t\tfinal String commonString = authorText + commentText;\r\n\t\t\tXSSFClientAnchor anchor = new XSSFClientAnchor(100, 100, 100, 100, cell.getColumnIndex(), cell.getRowIndex(), offsetX, offsetY);\r\n\t\t\tSXSSFDrawing drawing = sheet.createDrawingPatriarch();\t\r\n\t\t\tComment comment = drawing.createCellComment(anchor);\r\n\t\t\tRichTextString commentRichTextString = factory.createRichTextString(commonString);\r\n\t\t\tfinal Font fontAuthor = workbook.createFont();\t\t\t \r\n\t\t\tfontAuthor.setBold(true);\r\n\t\t\tcommentRichTextString.applyFont(0, authorText.length(), fontAuthor);\r\n\t\t\tcomment.setAuthor(authorText);\r\n\t\t\tcomment.setString(commentRichTextString);\r\n\t\t\tcell.setCellComment(comment);\r\n\t\t}\r\n\t}\r\n```\r\nThis method works very well. But sometimes the cell has a comment already. Then I want to delete the existing comment with \r\n```\r\ncell.removeCellComment();\r\n```\r\nfor create a comment with other text and other size (offsetX, offsetY). \r\nThis code removeCellComment() is called. But when I create a new comment for the same cell I get the exception\r\n```\r\njava.lang.IllegalArgumentException: Multiple cell comments in one cell are not allowed, cell: AG13\r\n```\r\n\r\nWhat can I do to remove/create my comment?\r\nThanks for your hints, Ann","title":"apache poi: remove and create a comment for the same cell - Multiple cell comments in one cell are not allowed","body":"<p>I use in my java application the apache poi library version 4.1.1.\nI have a method to set a cell comment that is called in various places in my application.</p>\n<pre><code>protected void setCellComment(final SXSSFWorkbook workbook, final SXSSFSheet sheet, final Cell cell, \n            final String authorText, final String commentText, final int offsetX, final int offsetY) {  \n        \n        if (cell.getCellComment() != null) {\n            cell.setCellComment(null);\n            cell.removeCellComment();\n        }\n        if (cell.getCellComment() == null) {         \n            CreationHelper factory = workbook.getCreationHelper();\n            final String commonString = authorText + commentText;\n            XSSFClientAnchor anchor = new XSSFClientAnchor(100, 100, 100, 100, cell.getColumnIndex(), cell.getRowIndex(), offsetX, offsetY);\n            SXSSFDrawing drawing = sheet.createDrawingPatriarch();  \n            Comment comment = drawing.createCellComment(anchor);\n            RichTextString commentRichTextString = factory.createRichTextString(commonString);\n            final Font fontAuthor = workbook.createFont();           \n            fontAuthor.setBold(true);\n            commentRichTextString.applyFont(0, authorText.length(), fontAuthor);\n            comment.setAuthor(authorText);\n            comment.setString(commentRichTextString);\n            cell.setCellComment(comment);\n        }\n    }\n</code></pre>\n<p>This method works very well. But sometimes the cell has a comment already. Then I want to delete the existing comment with</p>\n<pre><code>cell.removeCellComment();\n</code></pre>\n<p>for create a comment with other text and other size (offsetX, offsetY).\nThis code removeCellComment() is called. But when I create a new comment for the same cell I get the exception</p>\n<pre><code>java.lang.IllegalArgumentException: Multiple cell comments in one cell are not allowed, cell: AG13\n</code></pre>\n<p>What can I do to remove/create my comment?\nThanks for your hints, Ann</p>\n"},{"tags":["java","android","android-activity","fragment","qr-code"],"owner":{"account_id":24547996,"reputation":15,"user_id":18457531,"display_name":"Mael Bacon"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":337,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1653114381,"creation_date":1647478217,"question_id":71505850,"body_markdown":"I&#39;m developing an Android application using Android Studio and Java. In this app I implemented a Qr code scanner using Scannercode. I have a qr code containing a url. When this specific url is scanned, I would like my application to automatically open another activity. Is it something possible? I tried this code but my application is crashing whenever a qr code is scan.\r\n\r\n**CameraFragment.java**\r\n\r\n   ```\r\n public class CameraFragment extends Fragment {\r\n\r\n    String contents;\r\n\r\n\r\n    private CodeScanner mCodeScanner;\r\n\r\n    @Nullable\r\n    @Override\r\n    public View onCreateView(LayoutInflater inflater, @Nullable ViewGroup container,\r\n                             @Nullable Bundle savedInstanceState) {\r\n\r\n        final Activity activity = getActivity();\r\n        View root = inflater.inflate(R.layout.fragment_camera, container, false);\r\n        CodeScannerView scannerView = root.findViewById(R.id.scanner_view);\r\n        mCodeScanner = new CodeScanner(activity, scannerView);\r\n        mCodeScanner.setDecodeCallback(new DecodeCallback() {\r\n            @Override\r\n            public void onDecoded(@NonNull final Result result) {\r\n                activity.runOnUiThread(new Runnable() {\r\n                    @Override\r\n                    public void run() {\r\n\r\n                        if(Patterns.WEB_URL.matcher(result.getText()).equals(&quot;https://youtu.be/M2c&quot;)) {\r\n                            startActivity(new Intent(getContext(), MilleActivity.class));\r\n\r\n                        }\r\n\r\n                    }\r\n\r\n                });\r\n            }\r\n        });\r\n        scannerView.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                mCodeScanner.startPreview();\r\n            }\r\n        });\r\n        return root;\r\n    }\r\n\r\n    @Override\r\n    public void onResume() {\r\n        super.onResume();\r\n        mCodeScanner.startPreview();\r\n    }\r\n\r\n    @Override\r\n    public void onPause() {\r\n        mCodeScanner.releaseResources();\r\n        super.onPause();\r\n    }\r\n}\r\n\r\n ```","title":"How to open a activity when a Qr code is scan?","body":"<p>I'm developing an Android application using Android Studio and Java. In this app I implemented a Qr code scanner using Scannercode. I have a qr code containing a url. When this specific url is scanned, I would like my application to automatically open another activity. Is it something possible? I tried this code but my application is crashing whenever a qr code is scan.</p>\n<p><strong>CameraFragment.java</strong></p>\n<pre><code>public class CameraFragment extends Fragment {\n\n String contents;\n\n\n private CodeScanner mCodeScanner;\n\n @Nullable\n @Override\n public View onCreateView(LayoutInflater inflater, @Nullable ViewGroup container,\n                          @Nullable Bundle savedInstanceState) {\n\n     final Activity activity = getActivity();\n     View root = inflater.inflate(R.layout.fragment_camera, container, false);\n     CodeScannerView scannerView = root.findViewById(R.id.scanner_view);\n     mCodeScanner = new CodeScanner(activity, scannerView);\n     mCodeScanner.setDecodeCallback(new DecodeCallback() {\n         @Override\n         public void onDecoded(@NonNull final Result result) {\n             activity.runOnUiThread(new Runnable() {\n                 @Override\n                 public void run() {\n\n                     if(Patterns.WEB_URL.matcher(result.getText()).equals(&quot;https://youtu.be/M2c&quot;)) {\n                         startActivity(new Intent(getContext(), MilleActivity.class));\n\n                     }\n\n                 }\n\n             });\n         }\n     });\n     scannerView.setOnClickListener(new View.OnClickListener() {\n         @Override\n         public void onClick(View view) {\n             mCodeScanner.startPreview();\n         }\n     });\n     return root;\n }\n\n @Override\n public void onResume() {\n     super.onResume();\n     mCodeScanner.startPreview();\n }\n\n @Override\n public void onPause() {\n     mCodeScanner.releaseResources();\n     super.onPause();\n }\n}\n\n</code></pre>\n"},{"tags":["java","cmd","ansi-escape"],"comments":[{"owner":{"account_id":123958,"reputation":109285,"user_id":318758,"accept_rate":100,"display_name":"Joni"},"score":0,"creation_date":1585944527,"post_id":61019501,"comment_id":107953630,"body_markdown":"Does this answer your question? How to enable ANSI escape sequences in win32 console https://stackoverflow.com/questions/16755142/how-to-make-win32-console-recognize-ansi-vt100-escape-sequences","body":"Does this answer your question? How to enable ANSI escape sequences in win32 console <a href=\"https://stackoverflow.com/questions/16755142/how-to-make-win32-console-recognize-ansi-vt100-escape-sequences\" title=\"how to make win32 console recognize ansi vt100 escape sequences\">stackoverflow.com/questions/16755142/&hellip;</a>"},{"owner":{"display_name":"user12431753"},"score":1,"creation_date":1585948672,"post_id":61019501,"comment_id":107955301,"body_markdown":"ANSI is version dependant and user configuration dependant. So the Windows technique is like this and works on all windows. https://winsourcecode.blogspot.com/2019/12/colourtext-changes-colour-of-text-to-be.html. In MSDos/Windows it has been depreciated since the 1980s - it has recently had a comeback.","body":"ANSI is version dependant and user configuration dependant. So the Windows technique is like this and works on all windows. <a href=\"https://winsourcecode.blogspot.com/2019/12/colourtext-changes-colour-of-text-to-be.html\" rel=\"nofollow noreferrer\">winsourcecode.blogspot.com/2019/12/&hellip;</a>. In MSDos/Windows it has been depreciated since the 1980s - it has recently had a comeback."},{"owner":{"account_id":3692224,"reputation":46695,"user_id":3074564,"display_name":"Mofi"},"score":0,"creation_date":1586025319,"post_id":61019501,"comment_id":107975786,"body_markdown":"I recommend also to use the [Windows Console API](https://learn.microsoft.com/en-us/windows/console/using-the-console). Good coded console applications using this API have full control over the console window which not only includes foreground and background text color (always define both on colored text output), but also size of the console window, used font, encoding, etc. But an application using the console API and changing attributes should first get the current console attributes on starting the application and restore them before exiting.","body":"I recommend also to use the <a href=\"https://learn.microsoft.com/en-us/windows/console/using-the-console\" rel=\"nofollow noreferrer\">Windows Console API</a>. Good coded console applications using this API have full control over the console window which not only includes foreground and background text color (always define both on colored text output), but also size of the console window, used font, encoding, etc. But an application using the console API and changing attributes should first get the current console attributes on starting the application and restore them before exiting."}],"owner":{"account_id":16946688,"reputation":164,"user_id":12257283,"display_name":"Mohammad Salehi"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2681,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1653114280,"creation_date":1585943791,"question_id":61019501,"body_markdown":"I wrote this piece of code to make a blue background:\r\n```\r\nSystem.out.print(&quot;\\u001B[44m&quot; + &quot;   &quot;);\r\n```\r\nit works fine in IntelliJ, but here&#39;s the output in cmd:\r\n\r\n```\r\n?[44m\r\n```\r\n\r\nI&#39;m using the latest version of windows 10\r\n\r\nwhat should I do?\r\n","title":"cmd not showing color output with ANSI escape colors","body":"<p>I wrote this piece of code to make a blue background:</p>\n\n<pre><code>System.out.print(\"\\u001B[44m\" + \"   \");\n</code></pre>\n\n<p>it works fine in IntelliJ, but here's the output in cmd:</p>\n\n<pre><code>?[44m\n</code></pre>\n\n<p>I'm using the latest version of windows 10</p>\n\n<p>what should I do?</p>\n"},{"tags":["java","spring","spring-mvc"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1652945101,"post_id":72300150,"comment_id":127731571,"body_markdown":"For starters I would strongly suggest to ditch this approach and use Spring Security to secure your application, don&#39;t roll your own security solution. Second yuo are using a JS function to issue a request, does that include the proper session cookie?","body":"For starters I would strongly suggest to ditch this approach and use Spring Security to secure your application, don&#39;t roll your own security solution. Second yuo are using a JS function to issue a request, does that include the proper session cookie?"},{"owner":{"account_id":9025834,"reputation":467,"user_id":6725152,"display_name":"John Smith"},"score":0,"creation_date":1652949859,"post_id":72300150,"comment_id":127733256,"body_markdown":"So, all I need is to send back cookies I&#39;ve got from server?","body":"So, all I need is to send back cookies I&#39;ve got from server?"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1652951769,"post_id":72300150,"comment_id":127733932,"body_markdown":"To restore the session yes, else it won&#39;t work. However normally your browser should handle that transparantly.","body":"To restore the session yes, else it won&#39;t work. However normally your browser should handle that transparantly."}],"answers":[{"tags":[],"owner":{"account_id":9025834,"reputation":467,"user_id":6725152,"display_name":"John Smith"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1653113812,"creation_date":1653113812,"answer_id":72327152,"question_id":72300150,"body_markdown":"Well, actually it got fixed much easier: I&#39;ve forgotten to add `@SessionAttributes( &quot;user&quot; )` in first controller, where `model.addAttribute( &quot;user&quot;, userDto );` gets called. After adding it, everything works like a charm.","title":"Spring session attribute lost on page calling itself","body":"<p>Well, actually it got fixed much easier: I've forgotten to add <code>@SessionAttributes( &quot;user&quot; )</code> in first controller, where <code>model.addAttribute( &quot;user&quot;, userDto );</code> gets called. After adding it, everything works like a charm.</p>\n"}],"owner":{"account_id":9025834,"reputation":467,"user_id":6725152,"display_name":"John Smith"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":470,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72327152,"answer_count":1,"score":0,"last_activity_date":1653113812,"creation_date":1652944412,"question_id":72300150,"body_markdown":"So, I&#39;ve got a very simple 2 controller Spring MVC app. First controller logs user in and puts it on session like this\r\n\r\n`model.addAttribute( &quot;user&quot;, userDto );`\r\n\r\nSecond controller displays project based on `projectId`, but expects user to be in session.\r\n```\r\n@Controller\r\n@SessionAttributes( &quot;user&quot; )\r\n@RequestMapping( value = &quot;/project&quot; )\r\npublic class ProjectController {\r\n...\r\n    @GetMapping( &quot;/{projectId}&quot; )\r\n    public String get( @PathVariable( &quot;projectId&quot; ) String projectId, @SessionAttribute( &quot;user&quot; ) UserDto userDto, Model model ) {\r\n...\r\n```\r\nFirst call to this controller works just fine. However, if user changes project on UI ( through `select onchange=&quot;&#39;location = /project/&lt;some-id-from-select&gt;&quot;` ) I&#39;m getting error message from Spring:\r\n\r\n`[org.springframework.web.bind.ServletRequestBindingException: Missing session attribute &#39;user&#39; of type UserDto]`\r\n\r\nHow is it possible that session attribute gets lost after one request? No filters, security or session/request specific configurations are defined in the project.","title":"Spring session attribute lost on page calling itself","body":"<p>So, I've got a very simple 2 controller Spring MVC app. First controller logs user in and puts it on session like this</p>\n<p><code>model.addAttribute( &quot;user&quot;, userDto );</code></p>\n<p>Second controller displays project based on <code>projectId</code>, but expects user to be in session.</p>\n<pre><code>@Controller\n@SessionAttributes( &quot;user&quot; )\n@RequestMapping( value = &quot;/project&quot; )\npublic class ProjectController {\n...\n    @GetMapping( &quot;/{projectId}&quot; )\n    public String get( @PathVariable( &quot;projectId&quot; ) String projectId, @SessionAttribute( &quot;user&quot; ) UserDto userDto, Model model ) {\n...\n</code></pre>\n<p>First call to this controller works just fine. However, if user changes project on UI ( through <code>select onchange=&quot;'location = /project/&lt;some-id-from-select&gt;&quot;</code> ) I'm getting error message from Spring:</p>\n<p><code>[org.springframework.web.bind.ServletRequestBindingException: Missing session attribute 'user' of type UserDto]</code></p>\n<p>How is it possible that session attribute gets lost after one request? No filters, security or session/request specific configurations are defined in the project.</p>\n"},{"tags":["java","java-module"],"comments":[{"owner":{"account_id":785560,"reputation":14879,"user_id":845414,"display_name":"Johannes Kuhn"},"score":0,"creation_date":1650642516,"post_id":71971305,"comment_id":127175332,"body_markdown":"Is the `api` module part of the boot layer? Try adding `--add-module api` to the command line.","body":"Is the <code>api</code> module part of the boot layer? Try adding <code>--add-module api</code> to the command line."},{"owner":{"account_id":1247323,"reputation":1647,"user_id":1319938,"accept_rate":67,"display_name":"mah454"},"score":0,"creation_date":1650642844,"post_id":71971305,"comment_id":127175454,"body_markdown":"I dont know , I setup project by maven , and i say module loaded in MainClass . @JohannesKuhn","body":"I dont know , I setup project by maven , and i say module loaded in MainClass . @JohannesKuhn"},{"owner":{"account_id":785560,"reputation":14879,"user_id":845414,"display_name":"Johannes Kuhn"},"score":0,"creation_date":1650643492,"post_id":71971305,"comment_id":127175677,"body_markdown":"Can you access ModuleDescription from your main class?","body":"Can you access ModuleDescription from your main class?"},{"owner":{"account_id":785560,"reputation":14879,"user_id":845414,"display_name":"Johannes Kuhn"},"score":0,"creation_date":1650644744,"post_id":71971305,"comment_id":127176097,"body_markdown":"No, like `ModuleDescription.class`","body":"No, like <code>ModuleDescription.class</code>"},{"owner":{"account_id":1247323,"reputation":1647,"user_id":1319938,"accept_rate":67,"display_name":"mah454"},"score":0,"creation_date":1650644880,"post_id":71971305,"comment_id":127176135,"body_markdown":"oh , sorry i misunderstood ,yes i access to ModuleDescription.class directly .","body":"oh , sorry i misunderstood ,yes i access to ModuleDescription.class directly ."},{"owner":{"account_id":785560,"reputation":14879,"user_id":845414,"display_name":"Johannes Kuhn"},"score":1,"creation_date":1650647914,"post_id":71971305,"comment_id":127177141,"body_markdown":"Good. Then try `ModuleDescription.class.getModule().getAnnotation(ModuleDescription.class)`.","body":"Good. Then try <code>ModuleDescription.class.getModule().getAnnotation(ModuleDesc&zwnj;&#8203;ription.class)</code>."},{"owner":{"account_id":1247323,"reputation":1647,"user_id":1319938,"accept_rate":67,"display_name":"mah454"},"score":0,"creation_date":1650649629,"post_id":71971305,"comment_id":127177692,"body_markdown":"What ?!?! , first : so what happened if i use this annotation on multiple module ? , second: not working !!","body":"What ?!?! , first : so what happened if i use this annotation on multiple module ? , second: not working !!"},{"owner":{"account_id":785560,"reputation":14879,"user_id":845414,"display_name":"Johannes Kuhn"},"score":0,"creation_date":1653051361,"post_id":71971305,"comment_id":127762851,"body_markdown":"Are you sure your modules are on the module path? What is the output of `System.out.println(ModuleDescription.class.getModule())`?","body":"Are you sure your modules are on the module path? What is the output of <code>System.out.println(ModuleDescription.class.getModule())</code>?"},{"owner":{"account_id":785560,"reputation":14879,"user_id":845414,"display_name":"Johannes Kuhn"},"score":0,"creation_date":1653061504,"post_id":71971305,"comment_id":127766998,"body_markdown":"A simple &quot;FIXED&quot; is not enough. You should probably write an answer, explaining what went wrong.","body":"A simple &quot;FIXED&quot; is not enough. You should probably write an answer, explaining what went wrong."}],"answers":[{"tags":[],"owner":{"account_id":1247323,"reputation":1647,"user_id":1319938,"accept_rate":67,"display_name":"mah454"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1653113722,"creation_date":1653113722,"answer_id":72327139,"question_id":71971305,"body_markdown":"**Fixed**       \r\nI forget add `@Retention(RUNTIME)` to annotation .    \r\nThank you `johannes Kuhn`","title":"Java 9+ get module information by annotated module-info","body":"<p><strong>Fixed</strong><br />\nI forget add <code>@Retention(RUNTIME)</code> to annotation .<br />\nThank you <code>johannes Kuhn</code></p>\n"}],"owner":{"account_id":1247323,"reputation":1647,"user_id":1319938,"accept_rate":67,"display_name":"mah454"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":180,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1653113758,"creation_date":1650641927,"question_id":71971305,"body_markdown":"I created custom annotation named ModuleDescription like this :     \r\n\r\n    @Target(ElementType.MODULE)\r\n    public @interface ModuleDescription {\r\n        String name();\r\n        double version();\r\n        String description();\r\n    }    \r\n\r\nand use this annotation on module-info class :    \r\n\r\n    @ModuleDescription(name = &quot;api&quot;, version = 1.2, description = &quot;Simple API&quot;)\r\n    module api {\r\n        exports com.example.api;\r\n    }     \r\n\r\nthis code load module-info class but i can not found any reference to this annotation :     \r\n\r\n    var boot = ModuleLayer.boot();\r\n    boot.findModule(&quot;api&quot;).get()    \r\n\r\nthis is project structure :     \r\n\r\n    ├── api\r\n    │&#160;&#160; ├── pom.xml\r\n    │&#160;&#160; └── src\r\n    │&#160;&#160;     └── main\r\n    │&#160;&#160;         └── java\r\n    │&#160;&#160;             ├── com\r\n    │&#160;&#160;             │&#160;&#160; └── example\r\n    │&#160;&#160;             │&#160;&#160;     └── api\r\n    │&#160;&#160;             │&#160;&#160;         └── ModuleDescription.java\r\n    │&#160;&#160;             └── module-info.java\r\n    ├── application\r\n    │&#160;&#160; ├── pom.xml\r\n    │&#160;&#160; └── src\r\n    │&#160;&#160;     └── main\r\n    │&#160;&#160;         └── java\r\n    │&#160;&#160;             ├── com\r\n    │&#160;&#160;             │&#160;&#160; └── example\r\n    │&#160;&#160;             │&#160;&#160;     └── MainClass.java\r\n    │&#160;&#160;             ├── module-info.java\r\n\r\nHow can access to this annotation ?     \r\n\r\n**Note 1**: Project setup up by maven and compiled without any problem      \r\n**Note 2**: java version &quot;17.0.1&quot; 2021-10-19 LTS\r\n","title":"Java 9+ get module information by annotated module-info","body":"<p>I created custom annotation named ModuleDescription like this :</p>\n<pre><code>@Target(ElementType.MODULE)\npublic @interface ModuleDescription {\n    String name();\n    double version();\n    String description();\n}    \n</code></pre>\n<p>and use this annotation on module-info class :</p>\n<pre><code>@ModuleDescription(name = &quot;api&quot;, version = 1.2, description = &quot;Simple API&quot;)\nmodule api {\n    exports com.example.api;\n}     \n</code></pre>\n<p>this code load module-info class but i can not found any reference to this annotation :</p>\n<pre><code>var boot = ModuleLayer.boot();\nboot.findModule(&quot;api&quot;).get()    \n</code></pre>\n<p>this is project structure :</p>\n<pre><code>├── api\n│   ├── pom.xml\n│   └── src\n│       └── main\n│           └── java\n│               ├── com\n│               │   └── example\n│               │       └── api\n│               │           └── ModuleDescription.java\n│               └── module-info.java\n├── application\n│   ├── pom.xml\n│   └── src\n│       └── main\n│           └── java\n│               ├── com\n│               │   └── example\n│               │       └── MainClass.java\n│               ├── module-info.java\n</code></pre>\n<p>How can access to this annotation ?</p>\n<p><strong>Note 1</strong>: Project setup up by maven and compiled without any problem<br />\n<strong>Note 2</strong>: java version &quot;17.0.1&quot; 2021-10-19 LTS</p>\n"},{"tags":["java","android","listview","android-listview","onitemclicklistener"],"comments":[{"owner":{"account_id":21371577,"reputation":1913,"user_id":15739040,"display_name":"Vishal Beep"},"score":0,"creation_date":1653108573,"post_id":72326404,"comment_id":127776101,"body_markdown":"you can use boolean ie- you set true in the first click and false in the second click and check the condition before on click does that boolean is true or not.","body":"you can use boolean ie- you set true in the first click and false in the second click and check the condition before on click does that boolean is true or not."}],"answers":[{"tags":[],"owner":{"account_id":25348463,"reputation":865,"user_id":19165706,"display_name":"ABV"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653109608,"creation_date":1653109608,"answer_id":72326823,"question_id":72326404,"body_markdown":"You can add one boolean flag to your Users class. Once you click on the specific item first time, just set that flag to true and check it every time that flag is true or false. if false then handle the tap event else ignore it.\r\n\r\nHope this will help you.\r\n\r\nRegards,\r\nABV","title":"Android Studio ListView Only 1 Time Clickable","body":"<p>You can add one boolean flag to your Users class. Once you click on the specific item first time, just set that flag to true and check it every time that flag is true or false. if false then handle the tap event else ignore it.</p>\n<p>Hope this will help you.</p>\n<p>Regards,\nABV</p>\n"},{"tags":[],"owner":{"account_id":17575058,"reputation":2200,"user_id":12749998,"display_name":"Kozmotronik"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1653112650,"creation_date":1653112650,"answer_id":72327049,"question_id":72326404,"body_markdown":"It can be done in a few ways. But the simplest way for your case is to add a boolean field for clicked items. But note that you need to manage this filed depending on your need. For example if you want the items to be clickable every time your app starts then initially you must set that clicked variables of each user to false.\r\n\r\nUser class\r\n```java\r\npublic class User {\r\n\t//...\r\n\tpublic boolean clicked;\r\n\t//...\r\n}\r\n```\r\n\r\nIn the activity where you setup the on item click listener\r\n```java\r\nlistView.setOnItemClickListener(new AdapterView.OnItemClickListener() {\r\n\t@Override\r\n\tpublic void onItemClick(AdapterView&lt;?&gt; adapterView, View view, int i, long l) {\r\n\t\tUser user = usersArrayList.get(i);\r\n\t\tif(user == null) {\r\n\t\t\t// Make a Log here informing that the user object null\r\n\t\t\treturn; // Don&#39;t proceed\r\n\t\t}\r\n\t\tif(user.clicked) return; // This user is already clicked, don&#39;t proceed\r\n\t\t// If the user is not clicked then set the clicked to true and proceed\r\n\t\tuser.clicked = true;\r\n\t\t// You may want to save or update the modified user here\r\n\t\tIntent intent = new Intent(MainScreenActivity.this, PointActivity.class);\r\n\t\tintent.putExtra(&quot;Userr&quot;, user);\r\n\t\tstartActivity(intent);\r\n\t}\r\n});\r\n```\r\n\r\nIf you use database or something else and you want to save a user&#39;s clicked state, don&#39;t forget to save or update the modified user object every time you modify the clicked property.\r\n","title":"Android Studio ListView Only 1 Time Clickable","body":"<p>It can be done in a few ways. But the simplest way for your case is to add a boolean field for clicked items. But note that you need to manage this filed depending on your need. For example if you want the items to be clickable every time your app starts then initially you must set that clicked variables of each user to false.</p>\n<p>User class</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class User {\n    //...\n    public boolean clicked;\n    //...\n}\n</code></pre>\n<p>In the activity where you setup the on item click listener</p>\n<pre class=\"lang-java prettyprint-override\"><code>listView.setOnItemClickListener(new AdapterView.OnItemClickListener() {\n    @Override\n    public void onItemClick(AdapterView&lt;?&gt; adapterView, View view, int i, long l) {\n        User user = usersArrayList.get(i);\n        if(user == null) {\n            // Make a Log here informing that the user object null\n            return; // Don't proceed\n        }\n        if(user.clicked) return; // This user is already clicked, don't proceed\n        // If the user is not clicked then set the clicked to true and proceed\n        user.clicked = true;\n        // You may want to save or update the modified user here\n        Intent intent = new Intent(MainScreenActivity.this, PointActivity.class);\n        intent.putExtra(&quot;Userr&quot;, user);\n        startActivity(intent);\n    }\n});\n</code></pre>\n<p>If you use database or something else and you want to save a user's clicked state, don't forget to save or update the modified user object every time you modify the clicked property.</p>\n"},{"tags":[],"owner":{"account_id":25348463,"reputation":865,"user_id":19165706,"display_name":"ABV"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653112754,"creation_date":1653112754,"answer_id":72327056,"question_id":72326404,"body_markdown":"Like,\r\n\r\n    Class User{\r\n    \r\n    .....\r\n    bool isItemClicked = false;\r\n    }\r\n\r\n    //Adapter\r\n            //ListView Adapter\r\n            ArrayAdapter arrayAdapter = new ArrayAdapter(this, R.layout.list_user,\r\n                    usersArrayList.stream().map(users -&gt; users.name).collect(Collectors.toList()));\r\n            listView.setAdapter(arrayAdapter);\r\n    \r\n            listView.setOnItemClickListener(new AdapterView.OnItemClickListener() {\r\n                @Override\r\n                public void onItemClick(AdapterView&lt;?&gt; adapterView, View view, int i, long l) {\r\n    User clickedUser = usersArrayList.get(i);\r\n    if(!clickedUser.isItemClicked ){\r\n    clickedUser.isItemClicked = true;\r\n                    Intent intent = new Intent(MainScreenActivity.this, PointActivity.class);\r\n                    intent.putExtra(&quot;Userr&quot;, usersArrayList.get(i));\r\n                    startActivity(intent);}\r\n                }\r\n            });","title":"Android Studio ListView Only 1 Time Clickable","body":"<p>Like,</p>\n<pre><code>Class User{\n\n.....\nbool isItemClicked = false;\n}\n\n//Adapter\n        //ListView Adapter\n        ArrayAdapter arrayAdapter = new ArrayAdapter(this, R.layout.list_user,\n                usersArrayList.stream().map(users -&gt; users.name).collect(Collectors.toList()));\n        listView.setAdapter(arrayAdapter);\n\n        listView.setOnItemClickListener(new AdapterView.OnItemClickListener() {\n            @Override\n            public void onItemClick(AdapterView&lt;?&gt; adapterView, View view, int i, long l) {\nUser clickedUser = usersArrayList.get(i);\nif(!clickedUser.isItemClicked ){\nclickedUser.isItemClicked = true;\n                Intent intent = new Intent(MainScreenActivity.this, PointActivity.class);\n                intent.putExtra(&quot;Userr&quot;, usersArrayList.get(i));\n                startActivity(intent);}\n            }\n        });\n</code></pre>\n"}],"owner":{"account_id":20426745,"reputation":13,"user_id":14986570,"display_name":"Alperrr"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":311,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72327049,"answer_count":3,"score":1,"last_activity_date":1653112754,"creation_date":1653102978,"question_id":72326404,"body_markdown":"I created a class &quot;users&quot; and i add the some names.\r\nNext i created a ArrayAdapter for ListView and i connect them.\r\nBut i wont items only one time clickable. I couldn&#39;t.\r\nHow can i, in listview items only once time clickable?\r\nShow it with a sample code please?\r\n\r\n    //Adapter\r\n            //ListView Adapter\r\n            ArrayAdapter arrayAdapter = new ArrayAdapter(this, R.layout.list_user,\r\n                    usersArrayList.stream().map(users -&gt; users.name).collect(Collectors.toList()));\r\n            listView.setAdapter(arrayAdapter);\r\n    \r\n            listView.setOnItemClickListener(new AdapterView.OnItemClickListener() {\r\n                @Override\r\n                public void onItemClick(AdapterView&lt;?&gt; adapterView, View view, int i, long l) {\r\n    \r\n                    Intent intent = new Intent(MainScreenActivity.this, PointActivity.class);\r\n                    intent.putExtra(&quot;Userr&quot;, usersArrayList.get(i));\r\n                    startActivity(intent);\r\n                }\r\n            });","title":"Android Studio ListView Only 1 Time Clickable","body":"<p>I created a class &quot;users&quot; and i add the some names.\nNext i created a ArrayAdapter for ListView and i connect them.\nBut i wont items only one time clickable. I couldn't.\nHow can i, in listview items only once time clickable?\nShow it with a sample code please?</p>\n<pre><code>//Adapter\n        //ListView Adapter\n        ArrayAdapter arrayAdapter = new ArrayAdapter(this, R.layout.list_user,\n                usersArrayList.stream().map(users -&gt; users.name).collect(Collectors.toList()));\n        listView.setAdapter(arrayAdapter);\n\n        listView.setOnItemClickListener(new AdapterView.OnItemClickListener() {\n            @Override\n            public void onItemClick(AdapterView&lt;?&gt; adapterView, View view, int i, long l) {\n\n                Intent intent = new Intent(MainScreenActivity.this, PointActivity.class);\n                intent.putExtra(&quot;Userr&quot;, usersArrayList.get(i));\n                startActivity(intent);\n            }\n        });\n</code></pre>\n"},{"tags":["java","algorithm"],"answers":[{"tags":[],"owner":{"account_id":12931984,"reputation":7896,"user_id":9350720,"display_name":"Abhinav Mathur"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653112164,"creation_date":1653112164,"answer_id":72327010,"question_id":72326914,"body_markdown":"You could use recursion, but there&#39;s a simple iterative fix to your approach as well.\r\n1. Instead of the top row, start with the bottom one. Create a 1D array `values` and initialise it with the values of the bottom row.\r\n2. Start iterating `curr_row` from row `max_row-1` to `0`. For each iteration, create a temporary array `temp` and initialise it with `0&#39;s`.\r\n3. For a row `curr_row` in the iteration, `value[i]` represents the max value that you can get if you start from row `curr_row+1` (basically the next row) and column `i`.\r\n4. To update `temp` in each iteration, we just need to pick the best path from the next row, which can be fetched from `values` array.\r\n```\r\nfor column in range [0, max_column]:\r\n    temp[column] = truffle_value[column] + max(value[column], value[column+1], value[column-1])\r\n\r\n// since temp holds the values for the next iteration in our loop\r\nvalue = temp\r\n```\r\nIn the end, the answer will simply be `max(values)`.","title":"How do I find the optimal path through a grid?","body":"<p>You could use recursion, but there's a simple iterative fix to your approach as well.</p>\n<ol>\n<li>Instead of the top row, start with the bottom one. Create a 1D array <code>values</code> and initialise it with the values of the bottom row.</li>\n<li>Start iterating <code>curr_row</code> from row <code>max_row-1</code> to <code>0</code>. For each iteration, create a temporary array <code>temp</code> and initialise it with <code>0's</code>.</li>\n<li>For a row <code>curr_row</code> in the iteration, <code>value[i]</code> represents the max value that you can get if you start from row <code>curr_row+1</code> (basically the next row) and column <code>i</code>.</li>\n<li>To update <code>temp</code> in each iteration, we just need to pick the best path from the next row, which can be fetched from <code>values</code> array.</li>\n</ol>\n<pre><code>for column in range [0, max_column]:\n    temp[column] = truffle_value[column] + max(value[column], value[column+1], value[column-1])\n\n// since temp holds the values for the next iteration in our loop\nvalue = temp\n</code></pre>\n<p>In the end, the answer will simply be <code>max(values)</code>.</p>\n"}],"owner":{"account_id":25348492,"reputation":19,"user_id":19165728,"display_name":"Josh Houlding"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":85,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":1,"score":1,"last_activity_date":1653112164,"creation_date":1653110980,"question_id":72326914,"body_markdown":"Overview of the problem: You are a truffle collector, and are given a grid of numbers representing plots of land with truffles on them. Each plot has a certain number of truffles on it. You must find the optimal path from the top of the grid to the bottom (the one that collects the most truffles). Importantly, you can start from any cell in the top row. When you are at a cell, you can move diagonally down to the left, directly down, or diagonally down to the right. A truffle field might look like [this][1]: \r\n\r\nThe truffle fields also do not have to be square. They can have any dimensions. \r\n\r\nSo, I have created an iterative algorithm for this problem. Essentially, what I have done is iterate through each cell in the top row, finding the greedy path emanating from each and choosing the one with the largest truffle yield. To elaborate, the greedy path is one in which at every step, the largest value that can be reached in the next row from the current cell is chosen. \r\n\r\nThis algorithm yields the correct result for some truffle fields, like the one above, but it fails on fields like [this][2]: \r\n\r\nThis is because when the algorithm hits the 100 in the third column, it will go directly down to the 3 because it is the largest immediate value it can move to, but it does not consider that moving to the 2 to the left of it will enable it to reach another 100. The optimal path through this field obviously involves both cells with a value of 100, but the greedy algorithm I have now will never yield this path. \r\n\r\nSo, I have a hunch that the correct algorithm for this problem involves recursion, likely recursive backtracking in particular, but I am not sure how to approach creating a recursive algorithm to solve it. I have always struggled with recursion and find it difficult to come up with algorithms using it. I would really appreciate any ideas you all could provide. \r\n\r\nHere is the code. My algorithm is being executed in the findPath method: https://github.com/jhould007/Programming-Assignment-3/blob/master/Truffle.java. \r\n\r\n  [1]: https://i.stack.imgur.com/VFOFF.png\r\n  [2]: https://i.stack.imgur.com/xiBqq.png","title":"How do I find the optimal path through a grid?","body":"<p>Overview of the problem: You are a truffle collector, and are given a grid of numbers representing plots of land with truffles on them. Each plot has a certain number of truffles on it. You must find the optimal path from the top of the grid to the bottom (the one that collects the most truffles). Importantly, you can start from any cell in the top row. When you are at a cell, you can move diagonally down to the left, directly down, or diagonally down to the right. A truffle field might look like <a href=\"https://i.stack.imgur.com/VFOFF.png\" rel=\"nofollow noreferrer\">this</a>:</p>\n<p>The truffle fields also do not have to be square. They can have any dimensions.</p>\n<p>So, I have created an iterative algorithm for this problem. Essentially, what I have done is iterate through each cell in the top row, finding the greedy path emanating from each and choosing the one with the largest truffle yield. To elaborate, the greedy path is one in which at every step, the largest value that can be reached in the next row from the current cell is chosen.</p>\n<p>This algorithm yields the correct result for some truffle fields, like the one above, but it fails on fields like <a href=\"https://i.stack.imgur.com/xiBqq.png\" rel=\"nofollow noreferrer\">this</a>:</p>\n<p>This is because when the algorithm hits the 100 in the third column, it will go directly down to the 3 because it is the largest immediate value it can move to, but it does not consider that moving to the 2 to the left of it will enable it to reach another 100. The optimal path through this field obviously involves both cells with a value of 100, but the greedy algorithm I have now will never yield this path.</p>\n<p>So, I have a hunch that the correct algorithm for this problem involves recursion, likely recursive backtracking in particular, but I am not sure how to approach creating a recursive algorithm to solve it. I have always struggled with recursion and find it difficult to come up with algorithms using it. I would really appreciate any ideas you all could provide.</p>\n<p>Here is the code. My algorithm is being executed in the findPath method: <a href=\"https://github.com/jhould007/Programming-Assignment-3/blob/master/Truffle.java\" rel=\"nofollow noreferrer\">https://github.com/jhould007/Programming-Assignment-3/blob/master/Truffle.java</a>.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":24308874,"reputation":399,"user_id":18251210,"display_name":"justanotherguy"},"score":2,"creation_date":1652937998,"post_id":72299017,"comment_id":127729633,"body_markdown":"The example makes no sense whatsoever. What exactly are you trying to achieve and more importantly, what book are you trying to learn Java from?!","body":"The example makes no sense whatsoever. What exactly are you trying to achieve and more importantly, what book are you trying to learn Java from?!"}],"answers":[{"tags":[],"owner":{"account_id":11104856,"reputation":1527,"user_id":8152324,"display_name":"ndc85430"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1652938005,"creation_date":1652938005,"answer_id":72299046,"question_id":72299017,"body_markdown":"`new Minor()` just creates a new instance of the `Minor` class, by calling its default (i.e. no-argument) constructor. That instance is just thrown away, since there&#39;s no assignment statement. It doesn&#39;t seem to be useful code at all, though.","title":"Can you explain what is new Minor(); in this code?","body":"<p><code>new Minor()</code> just creates a new instance of the <code>Minor</code> class, by calling its default (i.e. no-argument) constructor. That instance is just thrown away, since there's no assignment statement. It doesn't seem to be useful code at all, though.</p>\n"},{"tags":[],"owner":{"account_id":24308874,"reputation":399,"user_id":18251210,"display_name":"justanotherguy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653110268,"creation_date":1652938346,"answer_id":72299095,"question_id":72299017,"body_markdown":"This is what happens:\r\n\r\n1. `new Minor()` constructs an object of the Minor class and calls the ctor of the Uber class in the `super(y)` statement. \r\n2. `this()` increments `y` by 1, so y becomes 3 (take a look at the default ctor)\r\n3. then the next line overwrites it to 3*2 which is 6\r\n4. finally `y += 3` makes `y` 6\r\n\r\n\r\n----------\r\n\r\nPlease tell me if you need any more clarification\r\n\r\n","title":"Can you explain what is new Minor(); in this code?","body":"<p>This is what happens:</p>\n<ol>\n<li><code>new Minor()</code> constructs an object of the Minor class and calls the ctor of the Uber class in the <code>super(y)</code> statement.</li>\n<li><code>this()</code> increments <code>y</code> by 1, so y becomes 3 (take a look at the default ctor)</li>\n<li>then the next line overwrites it to 3*2 which is 6</li>\n<li>finally <code>y += 3</code> makes <code>y</code> 6</li>\n</ol>\n<hr />\n<p>Please tell me if you need any more clarification</p>\n"},{"tags":[],"owner":{"account_id":3659278,"reputation":2919,"user_id":3049524,"accept_rate":33,"display_name":"Max Peng"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652938513,"creation_date":1652938513,"answer_id":72299116,"question_id":72299017,"body_markdown":"Actually, if you understand the java constructor execution order well, it is very easy to tell the output is `9`.\r\n\r\nYou add more print to understand the execution order like this: \r\n```\r\nclass Uber {\r\n    static int y = 2;\r\n\r\n    Uber(int x) {\r\n        this();\r\n        y = y * 2;\r\n        System.out.println(&quot;after uber#this: &quot;+ y);\r\n    }\r\n\r\n    Uber() {\r\n        y++;\r\n        System.out.println(&quot;after uber#default: &quot;+ y);\r\n    }\r\n}\r\n\r\nclass Minor extends Uber {\r\n    Minor() {\r\n        super(y);\r\n        y = y + 3;\r\n        System.out.println(&quot;after super: &quot;+ y);\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        System.out.println(&quot;main: &quot;+ y);\r\n        new Minor();\r\n        System.out.println(y);\r\n\r\n    }\r\n}\r\n```\r\n\r\nWhich will print like this: \r\n```\r\nmain: 2\r\nafter uber#default: 3\r\nafter uber#this: 6\r\nafter super: 9\r\n9\r\n```","title":"Can you explain what is new Minor(); in this code?","body":"<p>Actually, if you understand the java constructor execution order well, it is very easy to tell the output is <code>9</code>.</p>\n<p>You add more print to understand the execution order like this:</p>\n<pre><code>class Uber {\n    static int y = 2;\n\n    Uber(int x) {\n        this();\n        y = y * 2;\n        System.out.println(&quot;after uber#this: &quot;+ y);\n    }\n\n    Uber() {\n        y++;\n        System.out.println(&quot;after uber#default: &quot;+ y);\n    }\n}\n\nclass Minor extends Uber {\n    Minor() {\n        super(y);\n        y = y + 3;\n        System.out.println(&quot;after super: &quot;+ y);\n    }\n\n    public static void main(String[] args) {\n        System.out.println(&quot;main: &quot;+ y);\n        new Minor();\n        System.out.println(y);\n\n    }\n}\n</code></pre>\n<p>Which will print like this:</p>\n<pre><code>main: 2\nafter uber#default: 3\nafter uber#this: 6\nafter super: 9\n9\n</code></pre>\n"}],"owner":{"account_id":25330514,"reputation":1,"user_id":19150372,"display_name":"Lsc1408"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":68,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1653052590,"answer_count":3,"score":0,"last_activity_date":1653110268,"creation_date":1652937820,"question_id":72299017,"body_markdown":"Is `new Minor();` in main function creating an object or is it something related to constructor? (I am new to Java so I didn&#39;t understand this example)\r\n\r\n```java\r\nclass Uber {\r\n    static int y = 2;\r\n\r\n    Uber(int x) {\r\n        this();\r\n        y = y * 2;\r\n    }\r\n\r\n    Uber() {\r\n        y++;\r\n    }\r\n}\r\n```\r\n\r\n```java\r\nclass Minor extends Uber {\r\n    Minor() {\r\n        super(y);\r\n        y = y + 3;\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n\r\n        new Minor();\r\n        System.out.println(y);\r\n\r\n    }\r\n}\r\n```","title":"Can you explain what is new Minor(); in this code?","body":"<p>Is <code>new Minor();</code> in main function creating an object or is it something related to constructor? (I am new to Java so I didn't understand this example)</p>\n<pre class=\"lang-java prettyprint-override\"><code>class Uber {\n    static int y = 2;\n\n    Uber(int x) {\n        this();\n        y = y * 2;\n    }\n\n    Uber() {\n        y++;\n    }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>class Minor extends Uber {\n    Minor() {\n        super(y);\n        y = y + 3;\n    }\n\n    public static void main(String[] args) {\n\n        new Minor();\n        System.out.println(y);\n\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","copy","sftp","jsch"],"answers":[{"tags":[],"owner":{"account_id":453710,"reputation":192093,"user_id":850848,"accept_rate":80,"display_name":"Martin Prikryl"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1653109593,"creation_date":1465243666,"answer_id":37666000,"question_id":37664612,"body_markdown":"A core SFTP protocol does not support duplicating a remote file.\r\n\r\nThere&#39;s a draft of [`copy-file` extension to the protocol](https://datatracker.ietf.org/doc/html/draft-ietf-secsh-filexfer-extensions-00), but that&#39;s supported by only few SFTP servers ([ProFTPD `mod_sftp`](http://www.proftpd.org/docs/contrib/mod_sftp.html) and Bitvise SFTP server for example).\r\n\r\nIn the most widespread OpenSSH SFTP server it is supported only by very recent [version 9.0](https://www.openssh.com/txt/release-9.0). \r\n\r\nAnd it&#39;s also not supported by the JSch library.\r\n\r\n---\r\n\r\nSee also my answer to https://stackoverflow.com/q/28089821/850848\r\n\r\n---\r\n\r\nSo actually using the `cp` shell command over an &quot;exec&quot; channel ([`ChannelExec`](https://epaul.github.io/jsch-documentation/javadoc/com/jcraft/jsch/ChannelExec.html)) is unfortunately the best available approach (assuming you connect to a *nix server and you have a shell access).\r\n\r\n---\r\n\r\nIf you do not have a shell access, then your only option is indeed to download the file to a local temporary folder and upload it back to the new location (or use streams, to avoid a temporary file). See also:\r\n\r\n- https://stackoverflow.com/q/32787456/850848\r\n- https://stackoverflow.com/q/45004008/850848","title":"Copying files internally on an SFTP server using Spring integration/JCraft JSch","body":"<p>A core SFTP protocol does not support duplicating a remote file.</p>\n<p>There's a draft of <a href=\"https://datatracker.ietf.org/doc/html/draft-ietf-secsh-filexfer-extensions-00\" rel=\"nofollow noreferrer\"><code>copy-file</code> extension to the protocol</a>, but that's supported by only few SFTP servers (<a href=\"http://www.proftpd.org/docs/contrib/mod_sftp.html\" rel=\"nofollow noreferrer\">ProFTPD <code>mod_sftp</code></a> and Bitvise SFTP server for example).</p>\n<p>In the most widespread OpenSSH SFTP server it is supported only by very recent <a href=\"https://www.openssh.com/txt/release-9.0\" rel=\"nofollow noreferrer\">version 9.0</a>.</p>\n<p>And it's also not supported by the JSch library.</p>\n<hr />\n<p>See also my answer to <a href=\"https://stackoverflow.com/q/28089821/850848\">How can I copy/duplicate a file to another directory using SFTP?</a></p>\n<hr />\n<p>So actually using the <code>cp</code> shell command over an &quot;exec&quot; channel (<a href=\"https://epaul.github.io/jsch-documentation/javadoc/com/jcraft/jsch/ChannelExec.html\" rel=\"nofollow noreferrer\"><code>ChannelExec</code></a>) is unfortunately the best available approach (assuming you connect to a *nix server and you have a shell access).</p>\n<hr />\n<p>If you do not have a shell access, then your only option is indeed to download the file to a local temporary folder and upload it back to the new location (or use streams, to avoid a temporary file). See also:</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/q/32787456/850848\">How do I transfer a file from one directory to another using Java SFTP Library JSch?</a></li>\n<li><a href=\"https://stackoverflow.com/q/45004008/850848\">How do I copy files stored in a remote SFTP server to another folder in the same remote server using Java?</a></li>\n</ul>\n"}],"owner":{"account_id":3804472,"reputation":109,"user_id":3157264,"accept_rate":75,"display_name":"user3157264"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1108,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":37666000,"answer_count":1,"score":1,"last_activity_date":1653109593,"creation_date":1465238331,"question_id":37664612,"body_markdown":"I was wondering if there is a way to copy files on an SFTP server to another directory on the same SFTP server. I want to do this without getting the file in a client and then setting it in the other folder. Of course this would work fine but I guess that this would produce more overhead, so I would like to avoid this if at all possible. I&#39;m currently working with Spring integration which is based on JCraft JSch. \r\n\r\nSo far I haven&#39;t been able to find any way to do this without an intermediary.\r\n\r\nAnother approach would be to open an SSH channel and just use the `cp` command but well that&#39;s not too pretty either in my opinion. \r\n\r\nThanks in advance!","title":"Copying files internally on an SFTP server using Spring integration/JCraft JSch","body":"<p>I was wondering if there is a way to copy files on an SFTP server to another directory on the same SFTP server. I want to do this without getting the file in a client and then setting it in the other folder. Of course this would work fine but I guess that this would produce more overhead, so I would like to avoid this if at all possible. I'm currently working with Spring integration which is based on JCraft JSch. </p>\n\n<p>So far I haven't been able to find any way to do this without an intermediary.</p>\n\n<p>Another approach would be to open an SSH channel and just use the <code>cp</code> command but well that's not too pretty either in my opinion. </p>\n\n<p>Thanks in advance!</p>\n"},{"tags":["java","mysql"],"comments":[{"owner":{"account_id":1083854,"reputation":13775,"user_id":1080064,"accept_rate":43,"display_name":"tkausl"},"score":2,"creation_date":1653109647,"post_id":72326804,"comment_id":127776220,"body_markdown":"`But, within the logs, there is an error in line 35.` Which error?","body":"<code>But, within the logs, there is an error in line 35.</code> Which error?"},{"owner":{"account_id":1427504,"reputation":2006,"user_id":1350643,"accept_rate":60,"display_name":"Alex"},"score":0,"creation_date":1653109696,"post_id":72326804,"comment_id":127776226,"body_markdown":"Can you also share the source code of the PiggyBankPlus to understand what getConfigManager actually returns? But to quickly fix the problem, just replace `pbp.getConfigManager().getString(&quot;MySQL.ssl&quot;)` with `true` or `false` depending on your database connection needs.","body":"Can you also share the source code of the PiggyBankPlus to understand what getConfigManager actually returns? But to quickly fix the problem, just replace <code>pbp.getConfigManager().getString(&quot;MySQL.ssl&quot;)</code> with <code>true</code> or <code>false</code> depending on your database connection needs."},{"owner":{"account_id":25348364,"reputation":3,"user_id":19165620,"display_name":"Scrooge McDuck"},"score":0,"creation_date":1653110708,"post_id":72326804,"comment_id":127776307,"body_markdown":"@tkausl: Wait a moment.","body":"@tkausl: Wait a moment."},{"owner":{"account_id":25348364,"reputation":3,"user_id":19165620,"display_name":"Scrooge McDuck"},"score":0,"creation_date":1653110947,"post_id":72326804,"comment_id":127776328,"body_markdown":"@Alexander: pbp.getConfigManager().getString(String key) searches in the config (YAML) for that key and returns it&#39;s value. key : value. But isn&#39;t it the same if I get a &quot;true&quot; or &quot;false&quot; String from the config? But thank you for your answer.","body":"@Alexander: pbp.getConfigManager().getString(String key) searches in the config (YAML) for that key and returns it&#39;s value. key : value. But isn&#39;t it the same if I get a &quot;true&quot; or &quot;false&quot; String from the config? But thank you for your answer."}],"owner":{"account_id":25348364,"reputation":3,"user_id":19165620,"display_name":"Scrooge McDuck"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":71,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1653109288,"creation_date":1653109288,"question_id":72326804,"body_markdown":"I am currently programming a Plugin for Minecraft (Spigot). For this Plugin, I need to connect to a MySQL database. \r\n\r\nBut, within the logs, there is an error in line 35. \r\n\r\n[line 35]: `prop.setProperty(&quot;requireSSL&quot;, pbp.getConfigManager().getString(&quot;MySQl.ssl&quot;));`\r\n\r\nthats my DataBaseManager class: \r\n\r\n    \r\n```\r\npackage de._dagobert_duck.pbp.SQL;\r\n\r\nimport java.sql.ResultSet;\r\nimport java.sql.DatabaseMetaData;\r\nimport java.sql.PreparedStatement;\r\nimport java.sql.SQLException;\r\nimport java.sql.DriverManager;\r\nimport java.util.Properties;\r\nimport de._dagobert_duck.pbp.PiggyBankPlus;\r\nimport java.sql.Connection;\r\n\r\npublic class DataBaseManagerSQL\r\n{\r\n    private Connection connection;\r\n    private static final PiggyBankPlus pbp = PiggyBankPlus.getMain();\r\n    \r\n    public DataBaseManagerSQL() {\r\n        this.connection = null;\r\n        this.connectToDataBase();\r\n        this.setupDatabase();\r\n    }\r\n    \r\n    private void connectToDataBase() {\r\n        pbp.getLogger().info(&quot;Connecting to database ...&quot;);\r\n        try {\r\n            Class.forName(&quot;com.mysql.jdbc.Driver&quot;);\r\n            Properties prop = new Properties();\r\n            prop.setProperty(&quot;user&quot;, pbp.getConfigManager().getString(&quot;MySQL.username&quot;));\r\n            prop.setProperty(&quot;password&quot;, pbp.getConfigManager().getString(&quot;MySQL.password&quot;));\r\n            prop.setProperty(&quot;autoReconnect&quot;, &quot;true&quot;);\r\n            prop.setProperty(&quot;verifyServerCertificate&quot;, &quot;false&quot;);\r\n            /*line35*/prop.setProperty(&quot;useSSL&quot;, pbp.getConfigManager().getString(&quot;MySQL.ssl&quot;));\r\n            prop.setProperty(&quot;requireSSL&quot;, pbp.getConfigManager().getString(&quot;MySQl.ssl&quot;));\r\n            this.connection = DriverManager.getConnection(&quot;jdbc:mysql://&quot; + pbp.getConfigManager().getString(&quot;MySQL.host&quot;) + &quot;:&quot; + pbp.getConfigManager().getString(&quot;MySQL.port&quot;) + &quot;/&quot; + pbp.getConfigManager().getString(&quot;MySQL.dataBaseName&quot;), prop);\r\n            pbp.getLogger().info(&quot;Connected to MySQL database successfully. :D&quot;);\r\n        }\r\n        catch (ClassNotFoundException e) {\r\n            pbp.getLogger().severe(&quot;Unable to locate the drivers for MySQL. Err: &quot; + e.getMessage());\r\n            return;\r\n        }\r\n        catch (SQLException f) {\r\n            pbp.getLogger().severe(&quot;Unable to connect to MySQL. Err: &quot; + f.getMessage());\r\n            return;\r\n        }\r\n    }\r\n    \r\n\r\n    public boolean setupDatabase() {\r\n        PreparedStatement query = null;\r\n        label71: {\r\n            try {\r\n                final String data = &quot;CREATE TABLE IF NOT EXISTS `&quot; + pbp.getConfigManager().getString(&quot;MySQL.tableName` (id int(10) AUTO_INCREMENT, player_uuid varchar(50) NOT NULL UNIQUE, player_name varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL, money double(30, 2) NOT NULL, last_seen varchar(30) NOT NULL, sync_complete varchar(5) NOT NULL, PRIMARY KEY(id)); &quot;);\r\n                query = this.connection.prepareStatement(data);\r\n                query.execute();\r\n                break label71;\r\n            } catch (SQLException g) {\r\n                g.printStackTrace();\r\n                try {\r\n                    if (query != null) {\r\n                        query.close();\r\n                    }\r\n                } catch (Exception h) {\r\n                    h.printStackTrace();\r\n                }\r\n            } finally {\r\n                try {\r\n                    if (query != null) {\r\n                        query.close();\r\n                    }\r\n                } catch (Exception h2) {\r\n                    h2.printStackTrace();\r\n                }\r\n            }\r\n            return false;\r\n        }\r\n        this.updateTables();\r\n        return true;\r\n    }\r\n\r\n    public Connection getConnection() {\r\n        this.checkConnection();\r\n        return this.connection;\r\n    }\r\n    \r\n    public boolean checkConnection() {\r\n        try {\r\n            if (this.connection == null) {\r\n                pbp.getLogger().warning(&quot;Connection failed! Trying to reconnect ...&quot;);\r\n                return this.reConnect();\r\n            }\r\n            else if (!this.connection.isValid(3)) {\r\n                pbp.getLogger().warning(&quot;Connection to database is failed or terminated! Trying to reconnect ... &quot;);\r\n                return this.reConnect();\r\n            }\r\n            else if (this.connection.isClosed()) {\r\n                pbp.getLogger().warning(&quot;[PiggyBankPlus] Connection to database is closed! Trying to reconnect ...&quot;);\r\n                return this.reConnect();\r\n            }\r\n            else\r\n            {return true;}\r\n        }\r\n        catch (Exception i) {\r\n            pbp.getLogger().warning(&quot;[PiggyBankPlus] Could not reconnect to Database!&quot;);\r\n            return true;\r\n        }\r\n    }\r\n    \r\n    public boolean reConnect() {\r\n        try {\r\n            long start = 0L;\r\n            long end = 0L;\r\n            start = System.currentTimeMillis();\r\n            Class.forName(&quot;com.mysql.jdbc.Driver&quot;);\r\n            final Properties prop = new Properties();\r\n            prop.setProperty(&quot;user&quot;, pbp.getConfigManager().getString(&quot;MySQL.username&quot;));\r\n            prop.setProperty(&quot;password&quot;, pbp.getConfigManager().getString(&quot;MySQL.password&quot;));\r\n            prop.setProperty(&quot;autoReconnect&quot;, &quot;true&quot;);\r\n            prop.setProperty(&quot;verifyServerCertificate&quot;, &quot;false&quot;);\r\n            prop.setProperty(&quot;useSSL&quot;, pbp.getConfigManager().getString(&quot;MySQL.ssl&quot;));\r\n            prop.setProperty(&quot;requireSSL&quot;, pbp.getConfigManager().getString(&quot;MySQL.ssl&quot;));\r\n            this.connection = DriverManager.getConnection(&quot;jdbc:mysql://&quot; + pbp.getConfigManager().getString(&quot;MySQL.host&quot;) + &quot;:&quot; + pbp.getConfigManager().getString(&quot;MySQL.port&quot;) + &quot;/&quot; + pbp.getConfigManager().getString(&quot;MySQL.dataBaseName&quot;), prop);\r\n            end = System.currentTimeMillis();\r\n            final long time = end - start;\r\n            pbp.getLogger().info(&quot; successfully reconnected to MySQL server. Time: &quot; + time + &quot; ms&quot;);\r\n            return true;\r\n        }\r\n        catch (Exception j) {\r\n            pbp.getLogger().warning(&quot;[PiggyBankPlus] Reconnection to MySQL failed! Err: &quot; + j.getMessage());\r\n            return false;\r\n        }\r\n    }\r\n    \r\n    public boolean closeDatabase() {\r\n        try {\r\n            this.connection.close();\r\n            this.connection = null;\r\n            return true;\r\n        }\r\n        catch (SQLException k) {\r\n            k.printStackTrace();\r\n            return false;\r\n        }\r\n    }\r\n    \r\n    private void updateTables() {\r\n        if (this.connection != null) {\r\n            DatabaseMetaData dbmd = null;\r\n            ResultSet rs1 = null;\r\n            ResultSet rs2 = null;\r\n            ResultSet rs3 = null;\r\n            PreparedStatement query1 = null;\r\n            PreparedStatement query2 = null;\r\n            PreparedStatement query3 = null;\r\n            try {\r\n                dbmd = this.connection.getMetaData();\r\n                rs1 = dbmd.getColumns(null, null, pbp.getConfigManager().getString(&quot;MySQL.tableName&quot;), &quot;sync_complete&quot;);\r\n                if (!rs1.next()) {\r\n                    final String data = &quot;ALTER TABLE `&quot; + pbp.getConfigManager().getString(&quot;MySQL.tableName&quot;) + &quot;` ADD sync_complete varchar(5) NOT NULL DEFAULT &#39;true&#39;;&quot;;\r\n                    query1 = this.connection.prepareStatement(data);\r\n                    query1.execute();\r\n                }\r\n                rs2 = dbmd.getColumns(null, null, pbp.getConfigManager().getString(&quot;MySQL.tableName&quot;), &quot;player_name&quot;);\r\n                if (!rs2.next()) {\r\n                    final String data = &quot;ALTER TABLE `&quot; + pbp.getConfigManager().getString(&quot;MySQL.tableName&quot;) + &quot;` ADD player_name varchar(50) NOT NULL DEFAULT &#39;true&#39;;&quot;;\r\n                    query2 = this.connection.prepareStatement(data);\r\n                    query2.execute();\r\n                }\r\n                rs3 = dbmd.getColumns(null, null, pbp.getConfigManager().getString(&quot;MySQL.tableName&quot;), &quot;last_seen&quot;);\r\n                if (!rs3.next()) {\r\n                    final String data = &quot;ALTER TABLE `&quot; + pbp.getConfigManager().getString(&quot;MySQL.tableName&quot;) + &quot;` ADD last_seen varchar(30) NOT NULL DEFAULT &#39;true&#39;;&quot;;\r\n                    query3 = this.connection.prepareStatement(data);\r\n                    query3.execute();\r\n                }\r\n            }\r\n            catch (Exception l) {\r\n                pbp.getLogger().warning(&quot; Error while updating inventory table! Err: &quot; + l.getMessage());\r\n                l.printStackTrace();\r\n\r\n            }\r\n            finally {\r\n                try {\r\n                    if (query1 != null) {\r\n                        query1.close();\r\n                    }\r\n                    if (query2 != null) {\r\n                        query2.close();\r\n                    }\r\n                    if (query3 != null) {\r\n                        query3.close();\r\n                    }\r\n                    if (rs1 != null) {\r\n                        rs1.close();\r\n                    }\r\n                    if (rs2 != null) {\r\n                        rs2.close();\r\n                    }\r\n                    if (rs3 != null) {\r\n                        rs3.close();\r\n                    }\r\n                }\r\n                catch (Exception i) {\r\n                    i.printStackTrace();\r\n                }\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nCan someone help me to find the error?\r\n\r\nThank you, \r\n\r\nScrooge McDuck","title":"Where is the error in my Java code to connect to a MySQL database?","body":"<p>I am currently programming a Plugin for Minecraft (Spigot). For this Plugin, I need to connect to a MySQL database.</p>\n<p>But, within the logs, there is an error in line 35.</p>\n<p>[line 35]: <code>prop.setProperty(&quot;requireSSL&quot;, pbp.getConfigManager().getString(&quot;MySQl.ssl&quot;));</code></p>\n<p>thats my DataBaseManager class:</p>\n<pre><code>package de._dagobert_duck.pbp.SQL;\n\nimport java.sql.ResultSet;\nimport java.sql.DatabaseMetaData;\nimport java.sql.PreparedStatement;\nimport java.sql.SQLException;\nimport java.sql.DriverManager;\nimport java.util.Properties;\nimport de._dagobert_duck.pbp.PiggyBankPlus;\nimport java.sql.Connection;\n\npublic class DataBaseManagerSQL\n{\n    private Connection connection;\n    private static final PiggyBankPlus pbp = PiggyBankPlus.getMain();\n    \n    public DataBaseManagerSQL() {\n        this.connection = null;\n        this.connectToDataBase();\n        this.setupDatabase();\n    }\n    \n    private void connectToDataBase() {\n        pbp.getLogger().info(&quot;Connecting to database ...&quot;);\n        try {\n            Class.forName(&quot;com.mysql.jdbc.Driver&quot;);\n            Properties prop = new Properties();\n            prop.setProperty(&quot;user&quot;, pbp.getConfigManager().getString(&quot;MySQL.username&quot;));\n            prop.setProperty(&quot;password&quot;, pbp.getConfigManager().getString(&quot;MySQL.password&quot;));\n            prop.setProperty(&quot;autoReconnect&quot;, &quot;true&quot;);\n            prop.setProperty(&quot;verifyServerCertificate&quot;, &quot;false&quot;);\n            /*line35*/prop.setProperty(&quot;useSSL&quot;, pbp.getConfigManager().getString(&quot;MySQL.ssl&quot;));\n            prop.setProperty(&quot;requireSSL&quot;, pbp.getConfigManager().getString(&quot;MySQl.ssl&quot;));\n            this.connection = DriverManager.getConnection(&quot;jdbc:mysql://&quot; + pbp.getConfigManager().getString(&quot;MySQL.host&quot;) + &quot;:&quot; + pbp.getConfigManager().getString(&quot;MySQL.port&quot;) + &quot;/&quot; + pbp.getConfigManager().getString(&quot;MySQL.dataBaseName&quot;), prop);\n            pbp.getLogger().info(&quot;Connected to MySQL database successfully. :D&quot;);\n        }\n        catch (ClassNotFoundException e) {\n            pbp.getLogger().severe(&quot;Unable to locate the drivers for MySQL. Err: &quot; + e.getMessage());\n            return;\n        }\n        catch (SQLException f) {\n            pbp.getLogger().severe(&quot;Unable to connect to MySQL. Err: &quot; + f.getMessage());\n            return;\n        }\n    }\n    \n\n    public boolean setupDatabase() {\n        PreparedStatement query = null;\n        label71: {\n            try {\n                final String data = &quot;CREATE TABLE IF NOT EXISTS `&quot; + pbp.getConfigManager().getString(&quot;MySQL.tableName` (id int(10) AUTO_INCREMENT, player_uuid varchar(50) NOT NULL UNIQUE, player_name varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL, money double(30, 2) NOT NULL, last_seen varchar(30) NOT NULL, sync_complete varchar(5) NOT NULL, PRIMARY KEY(id)); &quot;);\n                query = this.connection.prepareStatement(data);\n                query.execute();\n                break label71;\n            } catch (SQLException g) {\n                g.printStackTrace();\n                try {\n                    if (query != null) {\n                        query.close();\n                    }\n                } catch (Exception h) {\n                    h.printStackTrace();\n                }\n            } finally {\n                try {\n                    if (query != null) {\n                        query.close();\n                    }\n                } catch (Exception h2) {\n                    h2.printStackTrace();\n                }\n            }\n            return false;\n        }\n        this.updateTables();\n        return true;\n    }\n\n    public Connection getConnection() {\n        this.checkConnection();\n        return this.connection;\n    }\n    \n    public boolean checkConnection() {\n        try {\n            if (this.connection == null) {\n                pbp.getLogger().warning(&quot;Connection failed! Trying to reconnect ...&quot;);\n                return this.reConnect();\n            }\n            else if (!this.connection.isValid(3)) {\n                pbp.getLogger().warning(&quot;Connection to database is failed or terminated! Trying to reconnect ... &quot;);\n                return this.reConnect();\n            }\n            else if (this.connection.isClosed()) {\n                pbp.getLogger().warning(&quot;[PiggyBankPlus] Connection to database is closed! Trying to reconnect ...&quot;);\n                return this.reConnect();\n            }\n            else\n            {return true;}\n        }\n        catch (Exception i) {\n            pbp.getLogger().warning(&quot;[PiggyBankPlus] Could not reconnect to Database!&quot;);\n            return true;\n        }\n    }\n    \n    public boolean reConnect() {\n        try {\n            long start = 0L;\n            long end = 0L;\n            start = System.currentTimeMillis();\n            Class.forName(&quot;com.mysql.jdbc.Driver&quot;);\n            final Properties prop = new Properties();\n            prop.setProperty(&quot;user&quot;, pbp.getConfigManager().getString(&quot;MySQL.username&quot;));\n            prop.setProperty(&quot;password&quot;, pbp.getConfigManager().getString(&quot;MySQL.password&quot;));\n            prop.setProperty(&quot;autoReconnect&quot;, &quot;true&quot;);\n            prop.setProperty(&quot;verifyServerCertificate&quot;, &quot;false&quot;);\n            prop.setProperty(&quot;useSSL&quot;, pbp.getConfigManager().getString(&quot;MySQL.ssl&quot;));\n            prop.setProperty(&quot;requireSSL&quot;, pbp.getConfigManager().getString(&quot;MySQL.ssl&quot;));\n            this.connection = DriverManager.getConnection(&quot;jdbc:mysql://&quot; + pbp.getConfigManager().getString(&quot;MySQL.host&quot;) + &quot;:&quot; + pbp.getConfigManager().getString(&quot;MySQL.port&quot;) + &quot;/&quot; + pbp.getConfigManager().getString(&quot;MySQL.dataBaseName&quot;), prop);\n            end = System.currentTimeMillis();\n            final long time = end - start;\n            pbp.getLogger().info(&quot; successfully reconnected to MySQL server. Time: &quot; + time + &quot; ms&quot;);\n            return true;\n        }\n        catch (Exception j) {\n            pbp.getLogger().warning(&quot;[PiggyBankPlus] Reconnection to MySQL failed! Err: &quot; + j.getMessage());\n            return false;\n        }\n    }\n    \n    public boolean closeDatabase() {\n        try {\n            this.connection.close();\n            this.connection = null;\n            return true;\n        }\n        catch (SQLException k) {\n            k.printStackTrace();\n            return false;\n        }\n    }\n    \n    private void updateTables() {\n        if (this.connection != null) {\n            DatabaseMetaData dbmd = null;\n            ResultSet rs1 = null;\n            ResultSet rs2 = null;\n            ResultSet rs3 = null;\n            PreparedStatement query1 = null;\n            PreparedStatement query2 = null;\n            PreparedStatement query3 = null;\n            try {\n                dbmd = this.connection.getMetaData();\n                rs1 = dbmd.getColumns(null, null, pbp.getConfigManager().getString(&quot;MySQL.tableName&quot;), &quot;sync_complete&quot;);\n                if (!rs1.next()) {\n                    final String data = &quot;ALTER TABLE `&quot; + pbp.getConfigManager().getString(&quot;MySQL.tableName&quot;) + &quot;` ADD sync_complete varchar(5) NOT NULL DEFAULT 'true';&quot;;\n                    query1 = this.connection.prepareStatement(data);\n                    query1.execute();\n                }\n                rs2 = dbmd.getColumns(null, null, pbp.getConfigManager().getString(&quot;MySQL.tableName&quot;), &quot;player_name&quot;);\n                if (!rs2.next()) {\n                    final String data = &quot;ALTER TABLE `&quot; + pbp.getConfigManager().getString(&quot;MySQL.tableName&quot;) + &quot;` ADD player_name varchar(50) NOT NULL DEFAULT 'true';&quot;;\n                    query2 = this.connection.prepareStatement(data);\n                    query2.execute();\n                }\n                rs3 = dbmd.getColumns(null, null, pbp.getConfigManager().getString(&quot;MySQL.tableName&quot;), &quot;last_seen&quot;);\n                if (!rs3.next()) {\n                    final String data = &quot;ALTER TABLE `&quot; + pbp.getConfigManager().getString(&quot;MySQL.tableName&quot;) + &quot;` ADD last_seen varchar(30) NOT NULL DEFAULT 'true';&quot;;\n                    query3 = this.connection.prepareStatement(data);\n                    query3.execute();\n                }\n            }\n            catch (Exception l) {\n                pbp.getLogger().warning(&quot; Error while updating inventory table! Err: &quot; + l.getMessage());\n                l.printStackTrace();\n\n            }\n            finally {\n                try {\n                    if (query1 != null) {\n                        query1.close();\n                    }\n                    if (query2 != null) {\n                        query2.close();\n                    }\n                    if (query3 != null) {\n                        query3.close();\n                    }\n                    if (rs1 != null) {\n                        rs1.close();\n                    }\n                    if (rs2 != null) {\n                        rs2.close();\n                    }\n                    if (rs3 != null) {\n                        rs3.close();\n                    }\n                }\n                catch (Exception i) {\n                    i.printStackTrace();\n                }\n            }\n        }\n    }\n}\n</code></pre>\n<p>Can someone help me to find the error?</p>\n<p>Thank you,</p>\n<p>Scrooge McDuck</p>\n"},{"tags":["java","maven","jsp","servlets","web.xml"],"comments":[{"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1653109307,"post_id":72326732,"comment_id":127776185,"body_markdown":"You are being told your XML file does not conform to the specification. From a quick visual inspection it looks fine. Are you sure it is not an older version actually being deployed?","body":"You are being told your XML file does not conform to the specification. From a quick visual inspection it looks fine. Are you sure it is not an older version actually being deployed?"},{"owner":{"account_id":25348378,"reputation":1,"user_id":19165634,"display_name":"markos"},"score":0,"creation_date":1653110108,"post_id":72326732,"comment_id":127776262,"body_markdown":"I&#39;m sure, actually I just created the servlet, and the xml code was created by default with the servlet","body":"I&#39;m sure, actually I just created the servlet, and the xml code was created by default with the servlet"},{"owner":{"account_id":25348378,"reputation":1,"user_id":19165634,"display_name":"markos"},"score":0,"creation_date":1653110888,"post_id":72326732,"comment_id":127776322,"body_markdown":"I really don&#39;t know what happen, but I replace the web.xml for the respective annotation in the servlet and it worked, but I still don&#180;t know what really happen in the web.xml","body":"I really don&#39;t know what happen, but I replace the web.xml for the respective annotation in the servlet and it worked, but I still don&#180;t know what really happen in the web.xml"},{"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"score":0,"creation_date":1653115049,"post_id":72326732,"comment_id":127776776,"body_markdown":"Just a guess: Servlets.Prueba seems not a good class name. Package names should in general be lower case. But I cannot believe this should cause an issue.","body":"Just a guess: Servlets.Prueba seems not a good class name. Package names should in general be lower case. But I cannot believe this should cause an issue."}],"owner":{"account_id":25348378,"reputation":1,"user_id":19165634,"display_name":"markos"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":61,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1653108252,"creation_date":1653108252,"question_id":72326732,"body_markdown":"I just create a new Servlet and I have an error of this exact type: The content of element type &quot;servlet&quot; is incomplete, it must match &quot;(icon?,servlet-name,display-name?,description?,(servlet-class|jsp-file),init-\r\n param*,load-on-startup?,run-as?,security-role-ref*)&quot;.\r\n\r\nmy web.xml code:\r\n``` \r\n&lt;!DOCTYPE web-app PUBLIC\r\n &quot;-//Sun Microsystems, Inc.//DTD Web Application 2.3//EN&quot;\r\n &quot;http://java.sun.com/dtd/web-app_2_3.dtd&quot; &gt;\r\n\r\n&lt;web-app&gt;\r\n  &lt;display-name&gt;Archetype Created Web Application&lt;/display-name&gt;\r\n  &lt;servlet&gt;\r\n  \t&lt;servlet-name&gt;Prueba&lt;/servlet-name&gt;\r\n  \t&lt;display-name&gt;Prueba&lt;/display-name&gt;\r\n  \t&lt;description&gt;&lt;/description&gt;\r\n  \t&lt;servlet-class&gt;Servlets.Prueba&lt;/servlet-class&gt;\r\n  &lt;/servlet&gt;\r\n  &lt;servlet-mapping&gt;\r\n  \t&lt;servlet-name&gt;Prueba&lt;/servlet-name&gt;\r\n  \t&lt;url-pattern&gt;/Prueba&lt;/url-pattern&gt;\r\n  &lt;/servlet-mapping&gt;\r\n&lt;/web-app&gt;\r\n\r\n```\r\n\r\n","title":"The content of element type &quot;servlet&quot; must match error","body":"<p>I just create a new Servlet and I have an error of this exact type: The content of element type &quot;servlet&quot; is incomplete, it must match &quot;(icon?,servlet-name,display-name?,description?,(servlet-class|jsp-file),init-\nparam*,load-on-startup?,run-as?,security-role-ref*)&quot;.</p>\n<p>my web.xml code:</p>\n<pre><code>&lt;!DOCTYPE web-app PUBLIC\n &quot;-//Sun Microsystems, Inc.//DTD Web Application 2.3//EN&quot;\n &quot;http://java.sun.com/dtd/web-app_2_3.dtd&quot; &gt;\n\n&lt;web-app&gt;\n  &lt;display-name&gt;Archetype Created Web Application&lt;/display-name&gt;\n  &lt;servlet&gt;\n    &lt;servlet-name&gt;Prueba&lt;/servlet-name&gt;\n    &lt;display-name&gt;Prueba&lt;/display-name&gt;\n    &lt;description&gt;&lt;/description&gt;\n    &lt;servlet-class&gt;Servlets.Prueba&lt;/servlet-class&gt;\n  &lt;/servlet&gt;\n  &lt;servlet-mapping&gt;\n    &lt;servlet-name&gt;Prueba&lt;/servlet-name&gt;\n    &lt;url-pattern&gt;/Prueba&lt;/url-pattern&gt;\n  &lt;/servlet-mapping&gt;\n&lt;/web-app&gt;\n\n</code></pre>\n"},{"tags":["java","postgresql","hibernate","spring-mvc","spring-data"],"answers":[{"tags":[],"owner":{"account_id":1809142,"reputation":186,"user_id":1645558,"display_name":"rbicchierai"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1525964455,"creation_date":1525964455,"answer_id":50275920,"question_id":50273569,"body_markdown":"PostgreSQL do not auto-cast int to boolean automatically, eventually you can create your own cast function.\r\n\r\nSee: https://www.postgresql.org/docs/9.4/static/sql-createcast.html","title":"PostgreSQL: column &quot;BOOLEAN_VALUE&quot; is of type numeric but expression is of type boolean Hint: You will need to rewrite or cast the expression","body":"<p>PostgreSQL do not auto-cast int to boolean automatically, eventually you can create your own cast function.</p>\n\n<p>See: <a href=\"https://www.postgresql.org/docs/9.4/static/sql-createcast.html\" rel=\"nofollow noreferrer\">https://www.postgresql.org/docs/9.4/static/sql-createcast.html</a></p>\n"},{"tags":[],"owner":{"account_id":7929713,"reputation":713,"user_id":5988023,"display_name":"Marc Magon"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653106434,"creation_date":1653106434,"answer_id":72326605,"question_id":50273569,"body_markdown":"For hibernate 6 you can annotate the jdbc type to integer\r\n\r\n```\r\n@JdbcTypeCode(Types.INTEGER)\r\n```\r\nprivate boolean booleanColumn;","title":"PostgreSQL: column &quot;BOOLEAN_VALUE&quot; is of type numeric but expression is of type boolean Hint: You will need to rewrite or cast the expression","body":"<p>For hibernate 6 you can annotate the jdbc type to integer</p>\n<pre><code>@JdbcTypeCode(Types.INTEGER)\n</code></pre>\n<p>private boolean booleanColumn;</p>\n"}],"owner":{"account_id":2691451,"reputation":541,"user_id":2324703,"accept_rate":100,"display_name":"Olahzzz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12652,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":50275920,"answer_count":2,"score":4,"last_activity_date":1653106434,"creation_date":1525957330,"question_id":50273569,"body_markdown":"I was trying to insert a new data into both database server.\r\nThis one works in Oracle 11g but does not work in PostgreSQL 9+.\r\nI cannot trace the issue as the error says:\r\n\r\n**column &quot;BOOLEAN_VALUE&quot; is of type numeric but expression is of type boolean  Hint: You will need to rewrite or cast the expression.**\r\n\r\nThe column is nullable and in codes below, we do not set any data. \r\n\r\n    Table Def:(Numeric)\r\n    &quot;BOOLEAN_VALUE&quot; NUMBER(1,0)\r\n\r\n    Domain:\r\n    @Column(name = &quot;BOOLEAN_VALUE&quot;)\r\n    public Boolean getBooleanValue() {\r\n        return booleanValue;\r\n    }\r\n\r\n    public void setBooleanValue(Boolean booleanValue) {\r\n        this.booleanValue = booleanValue;\r\n    }\r\n\r\n    How data insertion:\r\n    MyData myData = new MyData();\r\n    myData.setMoneyValue(&quot;$ 120&quot;)\r\n    myServiceRepository.save(myData);\r\n\r\nWe did passing 0 or 1 as default value but none has worked.\r\nHope someone can give me some light.","title":"PostgreSQL: column &quot;BOOLEAN_VALUE&quot; is of type numeric but expression is of type boolean Hint: You will need to rewrite or cast the expression","body":"<p>I was trying to insert a new data into both database server.\nThis one works in Oracle 11g but does not work in PostgreSQL 9+.\nI cannot trace the issue as the error says:</p>\n\n<p><strong>column \"BOOLEAN_VALUE\" is of type numeric but expression is of type boolean  Hint: You will need to rewrite or cast the expression.</strong></p>\n\n<p>The column is nullable and in codes below, we do not set any data. </p>\n\n<pre><code>Table Def:(Numeric)\n\"BOOLEAN_VALUE\" NUMBER(1,0)\n\nDomain:\n@Column(name = \"BOOLEAN_VALUE\")\npublic Boolean getBooleanValue() {\n    return booleanValue;\n}\n\npublic void setBooleanValue(Boolean booleanValue) {\n    this.booleanValue = booleanValue;\n}\n\nHow data insertion:\nMyData myData = new MyData();\nmyData.setMoneyValue(\"$ 120\")\nmyServiceRepository.save(myData);\n</code></pre>\n\n<p>We did passing 0 or 1 as default value but none has worked.\nHope someone can give me some light.</p>\n"},{"tags":["java","java-5"],"answers":[{"tags":[],"owner":{"account_id":329612,"reputation":71055,"user_id":653230,"display_name":"WhiteFang34"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1300387514,"creation_date":1300387514,"answer_id":5343724,"question_id":5343689,"body_markdown":"    List&lt;String&gt; words = new ArrayList&lt;String&gt;();\r\n    BufferedReader reader = new BufferedReader(new FileReader(&quot;words.txt&quot;));\r\n    String line;\r\n    while ((line = reader.readLine()) != null) {\r\n        words.add(line);\r\n    }\r\n    reader.close();","title":"Java reading a file into an ArrayList?","body":"<pre><code>List&lt;String&gt; words = new ArrayList&lt;String&gt;();\nBufferedReader reader = new BufferedReader(new FileReader(\"words.txt\"));\nString line;\nwhile ((line = reader.readLine()) != null) {\n    words.add(line);\n}\nreader.close();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17115,"reputation":6279,"user_id":37980,"accept_rate":76,"display_name":"Ahmed Kotb"},"down_vote_count":1,"up_vote_count":138,"is_accepted":true,"score":137,"last_activity_date":1590347542,"creation_date":1300387519,"answer_id":5343727,"question_id":5343689,"body_markdown":"**This Java code reads in each word and puts it into the ArrayList:**\r\n\r\n    Scanner s = new Scanner(new File(&quot;filepath&quot;));\r\n    ArrayList&lt;String&gt; list = new ArrayList&lt;String&gt;();\r\n    while (s.hasNext()){\r\n        list.add(s.next());\r\n    }\r\n    s.close();\r\n\r\nUse `s.hasNextLine()` and `s.nextLine()` if you want to read in line by line instead of word by word.","title":"Java reading a file into an ArrayList?","body":"<p><strong>This Java code reads in each word and puts it into the ArrayList:</strong></p>\n\n<pre><code>Scanner s = new Scanner(new File(\"filepath\"));\nArrayList&lt;String&gt; list = new ArrayList&lt;String&gt;();\nwhile (s.hasNext()){\n    list.add(s.next());\n}\ns.close();\n</code></pre>\n\n<p>Use <code>s.hasNextLine()</code> and <code>s.nextLine()</code> if you want to read in line by line instead of word by word.</p>\n"},{"tags":[],"owner":{"account_id":279561,"reputation":26273,"user_id":574799,"accept_rate":74,"display_name":"lukastymo"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1325794603,"creation_date":1300387604,"answer_id":5343744,"question_id":5343689,"body_markdown":"You can for example do this in this way (full code with exceptions handlig):\r\n\r\n    BufferedReader in = null;\r\n    List&lt;String&gt; myList = new ArrayList&lt;String&gt;();\r\n\ttry {\t\r\n        in = new BufferedReader(new FileReader(&quot;myfile.txt&quot;));\r\n\t\tString str;\r\n\t\twhile ((str = in.readLine()) != null) {\r\n\t\t\tmyList.add(str);\r\n\t\t}\r\n\t} catch (FileNotFoundException e) {\r\n\t\te.printStackTrace();\r\n\t} catch (IOException e) {\r\n\t\te.printStackTrace();\r\n\t} finally {\r\n        if (in != null) {\r\n            in.close();\r\n        }\r\n    }","title":"Java reading a file into an ArrayList?","body":"<p>You can for example do this in this way (full code with exceptions handlig):</p>\n\n<pre><code>BufferedReader in = null;\nList&lt;String&gt; myList = new ArrayList&lt;String&gt;();\ntry {   \n    in = new BufferedReader(new FileReader(\"myfile.txt\"));\n    String str;\n    while ((str = in.readLine()) != null) {\n        myList.add(str);\n    }\n} catch (FileNotFoundException e) {\n    e.printStackTrace();\n} catch (IOException e) {\n    e.printStackTrace();\n} finally {\n    if (in != null) {\n        in.close();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":70258,"reputation":590444,"user_id":203907,"accept_rate":81,"display_name":"Bozho"},"down_vote_count":0,"up_vote_count":50,"is_accepted":false,"score":50,"last_activity_date":1300387620,"creation_date":1300387620,"answer_id":5343745,"question_id":5343689,"body_markdown":"A one-liner with [commons-io][1]:\r\n\r\n    List&lt;String&gt; lines = FileUtils.readLines(new File(&quot;/path/to/file.txt&quot;), &quot;utf-8&quot;);\r\n\r\nThe same with [guava][2]:\r\n\r\n    List&lt;String&gt; lines = \r\n         Files.readLines(new File(&quot;/path/to/file.txt&quot;), Charset.forName(&quot;utf-8&quot;));\r\n\r\n\r\n  [1]: http://commons.apache.org/io/\r\n  [2]: https://code.google.com/p/guava-libraries/","title":"Java reading a file into an ArrayList?","body":"<p>A one-liner with <a href=\"http://commons.apache.org/io/\" rel=\"noreferrer\">commons-io</a>:</p>\n\n<pre><code>List&lt;String&gt; lines = FileUtils.readLines(new File(\"/path/to/file.txt\"), \"utf-8\");\n</code></pre>\n\n<p>The same with <a href=\"https://code.google.com/p/guava-libraries/\" rel=\"noreferrer\">guava</a>:</p>\n\n<pre><code>List&lt;String&gt; lines = \n     Files.readLines(new File(\"/path/to/file.txt\"), Charset.forName(\"utf-8\"));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":199671,"reputation":148444,"user_id":445131,"accept_rate":89,"display_name":"Eric Leschinski"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1341508975,"creation_date":1341508975,"answer_id":11349364,"question_id":5343689,"body_markdown":"Here is an entire program example:\r\n\r\n    import java.io.File;\r\n    import java.io.FileNotFoundException;\r\n    import java.util.ArrayList;\r\n    import java.util.Scanner;\r\n    \r\n    public class X {\r\n    \tpublic static void main(String[] args) {\r\n\t\tFile f = new File(&quot;D:/projects/eric/eclipseworkspace/testing2/usernames.txt&quot;);\r\n    \t\ttry{\r\n    \t\t\tArrayList&lt;String&gt; lines = get_arraylist_from_file(f);\r\n    \t\t\tfor(int x = 0; x &lt; lines.size(); x++){\r\n    \t\t\t\tSystem.out.println(lines.get(x));\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\tcatch(Exception e){\r\n    \t\t\te.printStackTrace();\r\n    \t\t}\r\n    \t\tSystem.out.println(&quot;done&quot;);\r\n    \r\n    \t}\r\n    \tpublic static ArrayList&lt;String&gt; get_arraylist_from_file(File f) \r\n            throws FileNotFoundException {\r\n    \t\tScanner s;\r\n    \t\tArrayList&lt;String&gt; list = new ArrayList&lt;String&gt;();\r\n    \t\ts = new Scanner(f);\r\n    \t\twhile (s.hasNext()) {\r\n    \t\t\tlist.add(s.next());\r\n    \t\t}\r\n    \t\ts.close();\r\n    \t\treturn list;\r\n    \t}\r\n    }","title":"Java reading a file into an ArrayList?","body":"<p>Here is an entire program example:</p>\n\n<pre><code>import java.io.File;\nimport java.io.FileNotFoundException;\nimport java.util.ArrayList;\nimport java.util.Scanner;\n\npublic class X {\n    public static void main(String[] args) {\n    File f = new File(\"D:/projects/eric/eclipseworkspace/testing2/usernames.txt\");\n        try{\n            ArrayList&lt;String&gt; lines = get_arraylist_from_file(f);\n            for(int x = 0; x &lt; lines.size(); x++){\n                System.out.println(lines.get(x));\n            }\n        }\n        catch(Exception e){\n            e.printStackTrace();\n        }\n        System.out.println(\"done\");\n\n    }\n    public static ArrayList&lt;String&gt; get_arraylist_from_file(File f) \n        throws FileNotFoundException {\n        Scanner s;\n        ArrayList&lt;String&gt; list = new ArrayList&lt;String&gt;();\n        s = new Scanner(f);\n        while (s.hasNext()) {\n            list.add(s.next());\n        }\n        s.close();\n        return list;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":206955,"reputation":22515,"user_id":456564,"accept_rate":89,"display_name":"German Attanasio"},"down_vote_count":0,"up_vote_count":62,"is_accepted":false,"score":62,"last_activity_date":1385254446,"creation_date":1385254446,"answer_id":20169830,"question_id":5343689,"body_markdown":"You can use:\r\n\r\n    List&lt;String&gt; list = Files.readAllLines(new File(&quot;input.txt&quot;).toPath(), Charset.defaultCharset() );\r\n\r\n\r\nSource: [Java API 7.0][1]\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/nio/file/Files.html#readAllLines%28java.nio.file.Path,%20java.nio.charset.Charset%29","title":"Java reading a file into an ArrayList?","body":"<p>You can use:</p>\n\n<pre><code>List&lt;String&gt; list = Files.readAllLines(new File(\"input.txt\").toPath(), Charset.defaultCharset() );\n</code></pre>\n\n<p>Source: <a href=\"http://docs.oracle.com/javase/7/docs/api/java/nio/file/Files.html#readAllLines%28java.nio.file.Path,%20java.nio.charset.Charset%29\">Java API 7.0</a></p>\n"},{"tags":[],"owner":{"account_id":334159,"reputation":2281,"user_id":660408,"accept_rate":68,"display_name":"gkiko"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1399895404,"creation_date":1399895404,"answer_id":23608266,"question_id":5343689,"body_markdown":"    //CS124 HW6 Wikipedia Relation Extraction\r\n    //Alan Joyce (ajoyce)\r\n    public List&lt;String&gt; addWives(String fileName) {\r\n    \tList&lt;String&gt; wives = new ArrayList&lt;String&gt;();\r\n    \ttry {\r\n    \t\tBufferedReader input = new BufferedReader(new FileReader(fileName));\r\n    \t\t// for each line\r\n    \t\tfor(String line = input.readLine(); line != null; line = input.readLine()) {\r\n    \t\t\twives.add(line);\r\n    \t\t}\r\n    \t\tinput.close();\r\n    \t} catch(IOException e) {\r\n    \t\te.printStackTrace();\r\n    \t\tSystem.exit(1);\r\n    \t\treturn null;\r\n    \t}\r\n    \treturn wives;\r\n    }","title":"Java reading a file into an ArrayList?","body":"<pre><code>//CS124 HW6 Wikipedia Relation Extraction\n//Alan Joyce (ajoyce)\npublic List&lt;String&gt; addWives(String fileName) {\n    List&lt;String&gt; wives = new ArrayList&lt;String&gt;();\n    try {\n        BufferedReader input = new BufferedReader(new FileReader(fileName));\n        // for each line\n        for(String line = input.readLine(); line != null; line = input.readLine()) {\n            wives.add(line);\n        }\n        input.close();\n    } catch(IOException e) {\n        e.printStackTrace();\n        System.exit(1);\n        return null;\n    }\n    return wives;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1336023,"reputation":4615,"user_id":1278769,"accept_rate":42,"display_name":"Kris"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1430742821,"creation_date":1430736498,"answer_id":30028232,"question_id":5343689,"body_markdown":"In **Java 8** you could use streams and `Files.lines`:\r\n\r\n    List&lt;String&gt; list = null;\r\n\ttry (Stream&lt;String&gt; lines = Files.lines(myPathToTheFile))) {\r\n\t\tlist = lines.collect(Collectors.toList());\r\n\t} catch (IOException e) {\r\n\t\tLOGGER.error(&quot;Failed to load file.&quot;, e);\r\n\t}\r\n\r\nOr as a function including loading the file from the file system:\r\n\r\n\tprivate List&lt;String&gt; loadFile() {\r\n        List&lt;String&gt; list = null;\r\n\t\tURI uri = null;\r\n\r\n\t\ttry {\r\n\t\t\turi = ClassLoader.getSystemResource(&quot;example.txt&quot;).toURI();\r\n\t\t} catch (URISyntaxException e) {\r\n\t\t\tLOGGER.error(&quot;Failed to load file.&quot;, e);\r\n\t\t}\r\n\t\t\r\n\t\ttry (Stream&lt;String&gt; lines = Files.lines(Paths.get(uri))) {\r\n\t\t\tlist = lines.collect(Collectors.toList());\r\n\t\t} catch (IOException e) {\r\n\t\t\tLOGGER.error(&quot;Failed to load file.&quot;, e);\r\n\t\t}\r\n\t\treturn list;\r\n\t}\r\n","title":"Java reading a file into an ArrayList?","body":"<p>In <strong>Java 8</strong> you could use streams and <code>Files.lines</code>:</p>\n\n<pre><code>List&lt;String&gt; list = null;\ntry (Stream&lt;String&gt; lines = Files.lines(myPathToTheFile))) {\n    list = lines.collect(Collectors.toList());\n} catch (IOException e) {\n    LOGGER.error(\"Failed to load file.\", e);\n}\n</code></pre>\n\n<p>Or as a function including loading the file from the file system:</p>\n\n<pre><code>private List&lt;String&gt; loadFile() {\n    List&lt;String&gt; list = null;\n    URI uri = null;\n\n    try {\n        uri = ClassLoader.getSystemResource(\"example.txt\").toURI();\n    } catch (URISyntaxException e) {\n        LOGGER.error(\"Failed to load file.\", e);\n    }\n\n    try (Stream&lt;String&gt; lines = Files.lines(Paths.get(uri))) {\n        list = lines.collect(Collectors.toList());\n    } catch (IOException e) {\n        LOGGER.error(\"Failed to load file.\", e);\n    }\n    return list;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":96837,"reputation":94466,"user_id":263004,"accept_rate":96,"display_name":"Vivin Paliath"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1492716937,"creation_date":1492716937,"answer_id":43528385,"question_id":5343689,"body_markdown":"Here&#39;s a solution that has worked pretty well for me:\r\n\r\n    List&lt;String&gt; lines = Arrays.asList(\r\n        new Scanner(new File(file)).useDelimiter(&quot;\\\\Z&quot;).next().split(&quot;\\\\r?\\\\n&quot;)\r\n    );\r\n\r\nIf you don&#39;t want empty lines, you can also do:\r\n\r\n    List&lt;String&gt; lines = Arrays.asList(\r\n        new Scanner(new File(file)).useDelimiter(&quot;\\\\Z&quot;).next().split(&quot;[\\\\r\\\\n]+&quot;)\r\n    );","title":"Java reading a file into an ArrayList?","body":"<p>Here's a solution that has worked pretty well for me:</p>\n\n<pre><code>List&lt;String&gt; lines = Arrays.asList(\n    new Scanner(new File(file)).useDelimiter(\"\\\\Z\").next().split(\"\\\\r?\\\\n\")\n);\n</code></pre>\n\n<p>If you don't want empty lines, you can also do:</p>\n\n<pre><code>List&lt;String&gt; lines = Arrays.asList(\n    new Scanner(new File(file)).useDelimiter(\"\\\\Z\").next().split(\"[\\\\r\\\\n]+\")\n);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11227969,"reputation":9,"user_id":8237047,"display_name":"charu"},"down_vote_count":4,"up_vote_count":0,"is_accepted":false,"score":-4,"last_activity_date":1498845920,"creation_date":1498822190,"answer_id":44845429,"question_id":5343689,"body_markdown":"Add this code to sort the data in text file.\r\n`Collections.sort(list);`\r\n\r\n","title":"Java reading a file into an ArrayList?","body":"<p>Add this code to sort the data in text file.\n<code>Collections.sort(list);</code></p>\n"},{"tags":[],"owner":{"account_id":5408631,"reputation":4063,"user_id":4306260,"accept_rate":30,"display_name":"User"},"down_vote_count":0,"up_vote_count":31,"is_accepted":false,"score":31,"last_activity_date":1522155114,"creation_date":1522155114,"answer_id":49513374,"question_id":5343689,"body_markdown":"Simplest form I ever found is...\r\n\r\n    List&lt;String&gt; lines = Files.readAllLines(Paths.get(&quot;/path/to/file.txt&quot;));","title":"Java reading a file into an ArrayList?","body":"<p>Simplest form I ever found is...</p>\n\n<pre><code>List&lt;String&gt; lines = Files.readAllLines(Paths.get(\"/path/to/file.txt\"));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5082254,"reputation":3646,"user_id":4077981,"display_name":"Lars"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1539032020,"creation_date":1539032020,"answer_id":52709962,"question_id":5343689,"body_markdown":"To share some analysis info. With a simple test how long it takes to read ~1180 lines of values.\r\n\r\nIf you need to read the data very fast, use the good old BufferedReader FileReader example. It took me ~8ms\r\n\r\nThe Scanner is much slower. Took me ~138ms\r\n\r\nThe nice Java 8 Files.lines(...) is the slowest version.  Took me ~388ms.\r\n","title":"Java reading a file into an ArrayList?","body":"<p>To share some analysis info. With a simple test how long it takes to read ~1180 lines of values.</p>\n\n<p>If you need to read the data very fast, use the good old BufferedReader FileReader example. It took me ~8ms</p>\n\n<p>The Scanner is much slower. Took me ~138ms</p>\n\n<p>The nice Java 8 Files.lines(...) is the slowest version.  Took me ~388ms.</p>\n"},{"tags":[],"owner":{"account_id":12217974,"reputation":59,"user_id":8917807,"display_name":"Prabhakar Kumar Ojha"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1549309038,"creation_date":1549309038,"answer_id":54523182,"question_id":5343689,"body_markdown":"        Scanner scr = new Scanner(new File(filePathInString));\r\n    /*Above line for scanning data from file*/\r\n    \r\n        enter code here\r\n    \r\n    ArrayList&lt;DataType&gt; list = new ArrayList&lt;DateType&gt;();\r\n    /*this is a object of arraylist which in data will store after scan*/\r\n    \r\n    while (scr.hasNext()){\r\n list.add(scr.next());\r\n}\r\n/*above code is responsible for adding data in arraylist with the help of add function */\r\n","title":"Java reading a file into an ArrayList?","body":"<pre><code>    Scanner scr = new Scanner(new File(filePathInString));\n/*Above line for scanning data from file*/\n\n    enter code here\n\nArrayList&lt;DataType&gt; list = new ArrayList&lt;DateType&gt;();\n/*this is a object of arraylist which in data will store after scan*/\n\nwhile (scr.hasNext()){\n</code></pre>\n\n<p>list.add(scr.next());\n}\n/*above code is responsible for adding data in arraylist with the help of add function */</p>\n"}],"owner":{"account_id":307426,"reputation":1473,"user_id":618712,"accept_rate":71,"display_name":"user618712"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":385081,"favorite_count":0,"down_vote_count":2,"up_vote_count":80,"accepted_answer_id":5343727,"answer_count":13,"score":78,"last_activity_date":1653106332,"creation_date":1300387343,"question_id":5343689,"body_markdown":"How do you read the contents of a file into an `ArrayList&lt;String&gt;` in Java? &lt;br&gt;\r\n\r\n**Here are the file contents:**\r\n\r\n    cat\r\n    house\r\n    dog\r\n    .\r\n    .\r\n    .\r\n","title":"Java reading a file into an ArrayList?","body":"<p>How do you read the contents of a file into an <code>ArrayList&lt;String&gt;</code> in Java? <br></p>\n<p><strong>Here are the file contents:</strong></p>\n<pre><code>cat\nhouse\ndog\n.\n.\n.\n</code></pre>\n"},{"tags":["java","android","firebase","firebase-storage"],"comments":[{"owner":{"account_id":2557547,"reputation":6925,"user_id":2219208,"accept_rate":8,"display_name":"Lakhwinder Singh"},"score":0,"creation_date":1562583140,"post_id":56933277,"comment_id":100407222,"body_markdown":"where are you getting the error, in xml?","body":"where are you getting the error, in xml?"},{"owner":{"account_id":2557547,"reputation":6925,"user_id":2219208,"accept_rate":8,"display_name":"Lakhwinder Singh"},"score":0,"creation_date":1562583394,"post_id":56933277,"comment_id":100407329,"body_markdown":"where are you trying to find it","body":"where are you trying to find it"},{"owner":{"account_id":2557547,"reputation":6925,"user_id":2219208,"accept_rate":8,"display_name":"Lakhwinder Singh"},"score":0,"creation_date":1562583457,"post_id":56933277,"comment_id":100407353,"body_markdown":"https://stackoverflow.com/a/39120615/2219208","body":"<a href=\"https://stackoverflow.com/a/39120615/2219208\">stackoverflow.com/a/39120615/2219208</a>"},{"owner":{"account_id":2557547,"reputation":6925,"user_id":2219208,"accept_rate":8,"display_name":"Lakhwinder Singh"},"score":0,"creation_date":1562583530,"post_id":56933277,"comment_id":100407389,"body_markdown":"How are you trying to add?","body":"How are you trying to add?"},{"owner":{"account_id":2557547,"reputation":6925,"user_id":2219208,"accept_rate":8,"display_name":"Lakhwinder Singh"},"score":0,"creation_date":1562583693,"post_id":56933277,"comment_id":100407468,"body_markdown":"with @Style  attribute?","body":"with @Style  attribute?"},{"owner":{"account_id":2557547,"reputation":6925,"user_id":2219208,"accept_rate":8,"display_name":"Lakhwinder Singh"},"score":0,"creation_date":1562584140,"post_id":56933277,"comment_id":100407721,"body_markdown":"What are you trying to achieve actually?","body":"What are you trying to achieve actually?"},{"owner":{"account_id":2557547,"reputation":6925,"user_id":2219208,"accept_rate":8,"display_name":"Lakhwinder Singh"},"score":0,"creation_date":1562584517,"post_id":56933277,"comment_id":100407882,"body_markdown":"what is the appcompat lib version in your app","body":"what is the appcompat lib version in your app"},{"owner":{"account_id":2557547,"reputation":6925,"user_id":2219208,"accept_rate":8,"display_name":"Lakhwinder Singh"},"score":0,"creation_date":1562586101,"post_id":56933277,"comment_id":100408657,"body_markdown":"i also tried many things, without androidx, i have used old one also, but did not find anything, may be the guy in the tutorial made that style  by his own, i suggest you should skip that part, or try to create your own","body":"i also tried many things, without androidx, i have used old one also, but did not find anything, may be the guy in the tutorial made that style  by his own, i suggest you should skip that part, or try to create your own"}],"answers":[{"tags":[],"owner":{"account_id":5464574,"reputation":320,"user_id":4345743,"display_name":"Nitya Nand Pandey"},"down_vote_count":6,"up_vote_count":0,"is_accepted":false,"score":-6,"last_activity_date":1562589981,"creation_date":1562583017,"answer_id":56933330,"question_id":56933277,"body_markdown":"    &lt;style name=&quot;Widget.Material.TextView.ListSeparator&quot; parent=&quot;Widget.TextView.ListSeparator&quot;&gt;\r\n        &lt;item name=&quot;background&quot;&gt;@drawable/list_section_divider_material&lt;/item&gt;\r\n        &lt;item name=&quot;textAllCaps&quot;&gt;true&lt;/item&gt;\r\n    \r\n     - &lt;/style&gt;\r\n    \r\n    &lt;style name=&quot;Widget.Material.Light.TextView.ListSeparator&quot; parent=&quot;Widget.Material.TextView.ListSeparator&quot;/&gt;","title":"Unable to retrieve image&#39;s download URL from Firebase Storage (getting exception) [NEED URGENT HELP]","body":"<pre><code>&lt;style name=\"Widget.Material.TextView.ListSeparator\" parent=\"Widget.TextView.ListSeparator\"&gt;\n    &lt;item name=\"background\"&gt;@drawable/list_section_divider_material&lt;/item&gt;\n    &lt;item name=\"textAllCaps\"&gt;true&lt;/item&gt;\n\n - &lt;/style&gt;\n\n&lt;style name=\"Widget.Material.Light.TextView.ListSeparator\" parent=\"Widget.Material.TextView.ListSeparator\"/&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1853756,"reputation":7005,"user_id":1679754,"display_name":"Jignesh Mayani"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1566277920,"creation_date":1566277920,"answer_id":57567036,"question_id":56933277,"body_markdown":"I think there is problem in returning downloading url, try below code:\r\n\r\n    private void uploadFile() {\r\n        if (mImageUri != null) {\r\n            StorageReference fileReference = mStorageRef.child(System.currentTimeMillis()\r\n                    + &quot;.&quot; + getFileExtension(mImageUri));\r\n    \r\n            fileReference.putFile(mImageUri).continueWithTask(new Continuation&lt;UploadTask.TaskSnapshot, Task&lt;Uri&gt;&gt;() {\r\n                @Override\r\n                public Task&lt;Uri&gt; then(@NonNull Task&lt;UploadTask.TaskSnapshot&gt; task) throws Exception {\r\n                    if (!task.isSuccessful()) {\r\n                        throw task.getException();\r\n                    }\r\n    \r\n                    // Continue with the task to get the download URL\r\n                    //change made here\r\n                    return fileReference.getDownloadUrl();\r\n                }\r\n            }).addOnCompleteListener(new OnCompleteListener&lt;Uri&gt;() {\r\n                @Override\r\n                public void onComplete(@NonNull Task&lt;Uri&gt; task) {\r\n                    if (task.isSuccessful()) {\r\n                        Uri downloadUri = task.getResult();\r\n                            System.out.println(&quot;Upload success: &quot; + downloadUri);\r\n                    } else {\r\n                        // Handle failures\r\n                        // ...\r\n                    }\r\n                }\r\n            });\r\n    \r\n        } else {\r\n            Toast.makeText(this, &quot;No file selected&quot;, Toast.LENGTH_SHORT).show();\r\n        }\r\n    \r\n    }","title":"Unable to retrieve image&#39;s download URL from Firebase Storage (getting exception) [NEED URGENT HELP]","body":"<p>I think there is problem in returning downloading url, try below code:</p>\n\n<pre><code>private void uploadFile() {\n    if (mImageUri != null) {\n        StorageReference fileReference = mStorageRef.child(System.currentTimeMillis()\n                + \".\" + getFileExtension(mImageUri));\n\n        fileReference.putFile(mImageUri).continueWithTask(new Continuation&lt;UploadTask.TaskSnapshot, Task&lt;Uri&gt;&gt;() {\n            @Override\n            public Task&lt;Uri&gt; then(@NonNull Task&lt;UploadTask.TaskSnapshot&gt; task) throws Exception {\n                if (!task.isSuccessful()) {\n                    throw task.getException();\n                }\n\n                // Continue with the task to get the download URL\n                //change made here\n                return fileReference.getDownloadUrl();\n            }\n        }).addOnCompleteListener(new OnCompleteListener&lt;Uri&gt;() {\n            @Override\n            public void onComplete(@NonNull Task&lt;Uri&gt; task) {\n                if (task.isSuccessful()) {\n                    Uri downloadUri = task.getResult();\n                        System.out.println(\"Upload success: \" + downloadUri);\n                } else {\n                    // Handle failures\n                    // ...\n                }\n            }\n        });\n\n    } else {\n        Toast.makeText(this, \"No file selected\", Toast.LENGTH_SHORT).show();\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12256069,"reputation":710,"user_id":8945078,"display_name":"Thiago Silva"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1593965249,"creation_date":1593964140,"answer_id":62742958,"question_id":56933277,"body_markdown":"So I have the same problem. I had a code that I&#180;ve been using for two years but something seems to have changed in Firebase. Bellow is a new code that works and solve this problems.\r\nPs: It&#180;s in kotlin but you can have android sample in reference link and just adjust to my code.\r\n\r\nfirst declare a global variable\r\n        private lateinit var filePath: Uri\r\n\r\nThen place your image inside this uri file. \r\n\r\nthen go to the code where you want to make the upload:\r\n        \r\n        mFireBaseStorage = FirebaseStorage.getInstance()\r\n        mphotoStorageReference = mFireBaseStorage.reference  //storage references\r\n\r\n        val storageRef = mphotoStorageReference.child(&quot;usuarios_img&quot;)  //path in storage. This is the folder name in storage\r\n\r\n        val bmp: Bitmap = MediaStore.Images.Media.getBitmap(getContentResolver(), filePath)\r\n        val baos: ByteArrayOutputStream = ByteArrayOutputStream()\r\n        bmp.compress(Bitmap.CompressFormat.JPEG, 25, baos) //choose compreess rate (100 means no compression)\r\n\r\n        //get the uri from the bitmap\r\n        val tempUri: Uri = getImageUri(this, bmp)\r\n        //transform the new compressed bmp in filepath uri\r\n        filePath = tempUri  //filePath is a global variable Uri\r\n\r\n\r\n       \r\n       var uploadTask = storageRef.child(&quot;the_name_of_the_file).putFile(filePath)\r\n\r\n        // [START upload_get_download_url]\r\n        val ref = storageRef\r\n        uploadTask = ref.putFile(filePath)\r\n\r\n        val urlTask = uploadTask.continueWithTask { task -&gt;\r\n            if (!task.isSuccessful) {\r\n                task.exception?.let {\r\n                    throw it\r\n                }\r\n            }\r\n            ref.downloadUrl\r\n        }.addOnCompleteListener { task -&gt;\r\n            if (task.isSuccessful) {\r\n                val downloadUri = task.result\r\n                Log.d(&quot;test&quot;, &quot;worked, this is the url link &quot;+downloadUri)\r\n                \r\n               \r\n            } else {\r\n                // Handle failures\r\n                Log.d(&quot;test&quot;, &quot;error&quot;)\r\n\r\n            }\r\n        }\r\n\r\nThats all.\r\n\r\nReference\r\nhttps://firebase.google.com/docs/storage/android/upload-files?hl=pt-br\r\n\r\nHope it helps because I&#39;ve lost some hours in it.","title":"Unable to retrieve image&#39;s download URL from Firebase Storage (getting exception) [NEED URGENT HELP]","body":"<p>So I have the same problem. I had a code that I´ve been using for two years but something seems to have changed in Firebase. Bellow is a new code that works and solve this problems.\nPs: It´s in kotlin but you can have android sample in reference link and just adjust to my code.</p>\n<p>first declare a global variable\nprivate lateinit var filePath: Uri</p>\n<p>Then place your image inside this uri file.</p>\n<p>then go to the code where you want to make the upload:</p>\n<pre><code>    mFireBaseStorage = FirebaseStorage.getInstance()\n    mphotoStorageReference = mFireBaseStorage.reference  //storage references\n\n    val storageRef = mphotoStorageReference.child(&quot;usuarios_img&quot;)  //path in storage. This is the folder name in storage\n\n    val bmp: Bitmap = MediaStore.Images.Media.getBitmap(getContentResolver(), filePath)\n    val baos: ByteArrayOutputStream = ByteArrayOutputStream()\n    bmp.compress(Bitmap.CompressFormat.JPEG, 25, baos) //choose compreess rate (100 means no compression)\n\n    //get the uri from the bitmap\n    val tempUri: Uri = getImageUri(this, bmp)\n    //transform the new compressed bmp in filepath uri\n    filePath = tempUri  //filePath is a global variable Uri\n\n\n   \n   var uploadTask = storageRef.child(&quot;the_name_of_the_file).putFile(filePath)\n\n    // [START upload_get_download_url]\n    val ref = storageRef\n    uploadTask = ref.putFile(filePath)\n\n    val urlTask = uploadTask.continueWithTask { task -&gt;\n        if (!task.isSuccessful) {\n            task.exception?.let {\n                throw it\n            }\n        }\n        ref.downloadUrl\n    }.addOnCompleteListener { task -&gt;\n        if (task.isSuccessful) {\n            val downloadUri = task.result\n            Log.d(&quot;test&quot;, &quot;worked, this is the url link &quot;+downloadUri)\n            \n           \n        } else {\n            // Handle failures\n            Log.d(&quot;test&quot;, &quot;error&quot;)\n\n        }\n    }\n</code></pre>\n<p>Thats all.</p>\n<p>Reference\n<a href=\"https://firebase.google.com/docs/storage/android/upload-files?hl=pt-br\" rel=\"nofollow noreferrer\">https://firebase.google.com/docs/storage/android/upload-files?hl=pt-br</a></p>\n<p>Hope it helps because I've lost some hours in it.</p>\n"},{"tags":[],"owner":{"account_id":12924971,"reputation":2766,"user_id":9346054,"accept_rate":100,"display_name":"Ticherhaz FreePalestine"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653102060,"creation_date":1653102060,"answer_id":72326351,"question_id":56933277,"body_markdown":"I have solved the solution for this. But I&#39;m using Kotlin. I hope this will helps the others developer. I put some explanation about it.\r\n\r\n        storageReference.child(Constant.EDUCATION).child(id).putFile(dataUpload!!.data!!)\r\n            .addOnProgressListener {\r\n                handleOnProgressUpload(it)\r\n            }.addOnSuccessListener { task -&gt;\r\n                //At here onSuccess, we get the task to get the downloadUrl\r\n                task.storage.downloadUrl.addOnSuccessListener {\r\n                    val downloadUrl = it.toString()\r\n                    handleSuccessDownloadUrl(downloadUrl)\r\n                }\r\n            }","title":"Unable to retrieve image&#39;s download URL from Firebase Storage (getting exception) [NEED URGENT HELP]","body":"<p>I have solved the solution for this. But I'm using Kotlin. I hope this will helps the others developer. I put some explanation about it.</p>\n<pre><code>    storageReference.child(Constant.EDUCATION).child(id).putFile(dataUpload!!.data!!)\n        .addOnProgressListener {\n            handleOnProgressUpload(it)\n        }.addOnSuccessListener { task -&gt;\n            //At here onSuccess, we get the task to get the downloadUrl\n            task.storage.downloadUrl.addOnSuccessListener {\n                val downloadUrl = it.toString()\n                handleSuccessDownloadUrl(downloadUrl)\n            }\n        }\n</code></pre>\n"}],"owner":{"display_name":"user8912201"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3323,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":57567036,"answer_count":4,"score":0,"last_activity_date":1653102060,"creation_date":1562582809,"question_id":56933277,"body_markdown":"The code successfully uploads an image to Firebase Storage but doesn&#39;t give back the download URL. How can I fix this?\r\n\r\nI get this exception: `java.lang.IllegalArgumentException: getDownloadUrl() is not supported at the root of the bucket.` Why?\r\n\r\n    private void uploadFile() {\r\n        if (mImageUri != null) {\r\n            StorageReference fileReference = mStorageRef.child(System.currentTimeMillis()\r\n                    + &quot;.&quot; + getFileExtension(mImageUri));\r\n\r\n            fileReference.putFile(mImageUri).continueWithTask(new Continuation&lt;UploadTask.TaskSnapshot, Task&lt;Uri&gt;&gt;() {\r\n                @Override\r\n                public Task&lt;Uri&gt; then(@NonNull Task&lt;UploadTask.TaskSnapshot&gt; task) throws Exception {\r\n                    if (!task.isSuccessful()) {\r\n                        throw task.getException();\r\n                    }\r\n\r\n                    // Continue with the task to get the download URL\r\n                    return mStorageRef.getDownloadUrl();\r\n                }\r\n            }).addOnCompleteListener(new OnCompleteListener&lt;Uri&gt;() {\r\n                @Override\r\n                public void onComplete(@NonNull Task&lt;Uri&gt; task) {\r\n                    if (task.isSuccessful()) {\r\n                        Uri downloadUri = task.getResult();\r\n                            System.out.println(&quot;Upload success: &quot; + downloadUri);\r\n                    } else {\r\n                        // Handle failures\r\n                        // ...\r\n                    }\r\n                }\r\n            });\r\n\r\n        } else {\r\n            Toast.makeText(this, &quot;No file selected&quot;, Toast.LENGTH_SHORT).show();\r\n        }\r\n\r\n    }","title":"Unable to retrieve image&#39;s download URL from Firebase Storage (getting exception) [NEED URGENT HELP]","body":"<p>The code successfully uploads an image to Firebase Storage but doesn't give back the download URL. How can I fix this?</p>\n\n<p>I get this exception: <code>java.lang.IllegalArgumentException: getDownloadUrl() is not supported at the root of the bucket.</code> Why?</p>\n\n<pre><code>private void uploadFile() {\n    if (mImageUri != null) {\n        StorageReference fileReference = mStorageRef.child(System.currentTimeMillis()\n                + \".\" + getFileExtension(mImageUri));\n\n        fileReference.putFile(mImageUri).continueWithTask(new Continuation&lt;UploadTask.TaskSnapshot, Task&lt;Uri&gt;&gt;() {\n            @Override\n            public Task&lt;Uri&gt; then(@NonNull Task&lt;UploadTask.TaskSnapshot&gt; task) throws Exception {\n                if (!task.isSuccessful()) {\n                    throw task.getException();\n                }\n\n                // Continue with the task to get the download URL\n                return mStorageRef.getDownloadUrl();\n            }\n        }).addOnCompleteListener(new OnCompleteListener&lt;Uri&gt;() {\n            @Override\n            public void onComplete(@NonNull Task&lt;Uri&gt; task) {\n                if (task.isSuccessful()) {\n                    Uri downloadUri = task.getResult();\n                        System.out.println(\"Upload success: \" + downloadUri);\n                } else {\n                    // Handle failures\n                    // ...\n                }\n            }\n        });\n\n    } else {\n        Toast.makeText(this, \"No file selected\", Toast.LENGTH_SHORT).show();\n    }\n\n}\n</code></pre>\n"},{"tags":["javascript","java","automated-tests","karate","browserstack"],"answers":[{"tags":[],"owner":{"account_id":48302,"reputation":55353,"user_id":143475,"display_name":"Peter Thomas"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1653101917,"creation_date":1653101917,"answer_id":72326341,"question_id":72324296,"body_markdown":"That is correct, WebDriver and the Chrome DevTools (which we recommend) are fundamentally different. The last time I checked, file-upload was a known limitation in the WebDriver spec and each browser driver (Firefox, Safari etc.) does not support or has different behavior.\r\n\r\nAnd yes headless browsers have limitations as well.\r\n\r\nSo my advice is to change your testing strategy so that file-upload is tested only on one browser. Also refer: https://stackoverflow.com/a/61393515/143475\r\n\r\nBut you are welcome to do some research and contribute code to the Karate project. We will be happy to accept any PR that improves the state of things.\r\n\r\nIn case Playwright supports cross-browser file-upload that is also an option to investigate, since we have an experimental adapter.","title":"Karate UI Automation - driver.inputFile not working with ChromeWebDriver","body":"<p>That is correct, WebDriver and the Chrome DevTools (which we recommend) are fundamentally different. The last time I checked, file-upload was a known limitation in the WebDriver spec and each browser driver (Firefox, Safari etc.) does not support or has different behavior.</p>\n<p>And yes headless browsers have limitations as well.</p>\n<p>So my advice is to change your testing strategy so that file-upload is tested only on one browser. Also refer: <a href=\"https://stackoverflow.com/a/61393515/143475\">https://stackoverflow.com/a/61393515/143475</a></p>\n<p>But you are welcome to do some research and contribute code to the Karate project. We will be happy to accept any PR that improves the state of things.</p>\n<p>In case Playwright supports cross-browser file-upload that is also an option to investigate, since we have an experimental adapter.</p>\n"}],"owner":{"account_id":18257063,"reputation":31,"user_id":13290763,"display_name":"JVRD27"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":552,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1653101917,"creation_date":1653077158,"question_id":72324296,"body_markdown":"I am working on an automation project that requires a file upload using Karate UI. Me and my team tried a few alternatives and using `driver.inputFile()` seemed to work just fine. However, we also run tests on headless mode with Browserstack, where we noticed the same line would not work, giving the following error:\r\n\r\n```\r\njs failed:\r\n&gt;&gt;&gt;&gt;\r\n01: driver.inputFile(cleoPortal.inputBox, &quot;C:\\\\Users\\\\hello\\\\Documents\\\\documents\\\\text-sample1.txt&quot;)\r\n&lt;&lt;&lt;&lt;\r\norg.graalvm.polyglot.PolyglotException: TypeError: invokeMember (inputFile) on com.intuit.karate.driver.chrome.ChromeWebDriver@4cfcac13 failed due to: Unknown identifier: inputFile\r\n- &lt;js&gt;.:program(Unnamed:1)\r\n```\r\n\r\nAfter looking at the trace, it looks to me that, for some reason, when running headless, the driver does not have this method defined. When investigating, I also confirmed that the 2 ways of running initialize different driver objects, `com.intuit.karate.driver.chrome.Chrome` for the local run and `com.intuit.karate.driver.chrome.ChromeWebDriver` for the headless.\r\n\r\nHeadless:\r\n[Headless run report img][1]\r\n\r\n\r\nLocal:\r\n[Local run report img][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/GijxT.png\r\n  [2]: https://i.stack.imgur.com/TFkFV.png\r\n\r\n\r\nAfter digging a little into the karate source code, I found that ChromeWebDriver.java extends the WebDriver class, while Chrome.java extends DevToolsDriver, and that the former does not have the method inputFile() that we&#39;re trying to use.\r\n\r\nConsidering this, my question is: Would it be possible to implement this method in WebDriver? Or are there any alternatives we can try? I would also like to point out that I tried regular input() but it didn&#39;t work.\r\n\r\nI did not setup any demo project since I am not really sure how to reproduce the issue without heavy configuration and the aid of other tools, but I&#39;m open to suggestions in case it helps solving the problem. Sorry about that!\r\n\r\nThanks in advance for the help!","title":"Karate UI Automation - driver.inputFile not working with ChromeWebDriver","body":"<p>I am working on an automation project that requires a file upload using Karate UI. Me and my team tried a few alternatives and using <code>driver.inputFile()</code> seemed to work just fine. However, we also run tests on headless mode with Browserstack, where we noticed the same line would not work, giving the following error:</p>\n<pre><code>js failed:\n&gt;&gt;&gt;&gt;\n01: driver.inputFile(cleoPortal.inputBox, &quot;C:\\\\Users\\\\hello\\\\Documents\\\\documents\\\\text-sample1.txt&quot;)\n&lt;&lt;&lt;&lt;\norg.graalvm.polyglot.PolyglotException: TypeError: invokeMember (inputFile) on com.intuit.karate.driver.chrome.ChromeWebDriver@4cfcac13 failed due to: Unknown identifier: inputFile\n- &lt;js&gt;.:program(Unnamed:1)\n</code></pre>\n<p>After looking at the trace, it looks to me that, for some reason, when running headless, the driver does not have this method defined. When investigating, I also confirmed that the 2 ways of running initialize different driver objects, <code>com.intuit.karate.driver.chrome.Chrome</code> for the local run and <code>com.intuit.karate.driver.chrome.ChromeWebDriver</code> for the headless.</p>\n<p>Headless:\n<a href=\"https://i.stack.imgur.com/GijxT.png\" rel=\"nofollow noreferrer\">Headless run report img</a></p>\n<p>Local:\n<a href=\"https://i.stack.imgur.com/TFkFV.png\" rel=\"nofollow noreferrer\">Local run report img</a></p>\n<p>After digging a little into the karate source code, I found that ChromeWebDriver.java extends the WebDriver class, while Chrome.java extends DevToolsDriver, and that the former does not have the method inputFile() that we're trying to use.</p>\n<p>Considering this, my question is: Would it be possible to implement this method in WebDriver? Or are there any alternatives we can try? I would also like to point out that I tried regular input() but it didn't work.</p>\n<p>I did not setup any demo project since I am not really sure how to reproduce the issue without heavy configuration and the aid of other tools, but I'm open to suggestions in case it helps solving the problem. Sorry about that!</p>\n<p>Thanks in advance for the help!</p>\n"},{"tags":["java","input","simplify"],"comments":[{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1653099093,"post_id":72326131,"comment_id":127775203,"body_markdown":"If you&#39;re asking how to improve working code, then perhaps this is perhaps better posted on the [Stack Exchange Code Review site](https://codereview.stackexchange.com/), but before doing this, you will also want to read the [Code-Review help site](https://codereview.stackexchange.com/help), especially its [How to Ask](https://codereview.stackexchange.com/help/how-to-ask) link.","body":"If you&#39;re asking how to improve working code, then perhaps this is perhaps better posted on the <a href=\"https://codereview.stackexchange.com/\">Stack Exchange Code Review site</a>, but before doing this, you will also want to read the <a href=\"https://codereview.stackexchange.com/help\">Code-Review help site</a>, especially its <a href=\"https://codereview.stackexchange.com/help/how-to-ask\">How to Ask</a> link."}],"answers":[{"tags":[],"owner":{"account_id":25347727,"reputation":26,"user_id":19165073,"display_name":"fedend"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1653099186,"creation_date":1653098683,"answer_id":72326158,"question_id":72326131,"body_markdown":"    public String SubjectName1;\r\n    public String SubjectName2;\r\n    public String SubjectName3;\r\n    public String SubjectName4;\r\n    public String SubjectName5;\r\n    public String SubjectName6;\r\n\r\nCould be an array of Strings:\r\n   \r\n\r\n    String[] SubjectName = new String[6];\r\n\r\nAlso:\r\n   \r\n\r\n     public double InputNumber()\r\n\r\nIs returning a number that is not being assigned when it is called:\r\n\r\n    //This Line calls a function which returns a double, but you don&#39;t store the double\r\n    wow.InputNumber();\r\n\r\n    //You need something like: \r\n    double NumInputs = wow.InputNumber();\r\n\r\n \r\nalso: \r\n\r\n    public void InputString()\r\n\r\nCan be a loop with numInputs:\r\n\r\n    //You dont really need to capture numInputs and pass it this way.\r\n    //You could just use the NumberInput you&#39;re setting in the function, but since you return a double I&#39;m showing you the syntax for that.\r\n    public static void main(String[] args) {\r\n        NumberInput wow = new NumberInput();\r\n        double numInputs = wow.InputNumber();\r\n        wow.InputString(numInputs);\r\n        wow.confirmResults();\r\n    }\r\n    public void confirmResults(double numInputs){\r\n        for(int i = 1; i&lt;= numInputs; i++){\r\n           System.out.println(&quot;What is the subject?&quot;); \r\n           //etc\r\n        }\r\n    }\r\n\r\n\r\nconfirmResults(), this can be a loop over an array of SubjectNames.","title":"Is there any other way of code for the methods? It asks for user input n times based on a certain number","body":"<pre><code>public String SubjectName1;\npublic String SubjectName2;\npublic String SubjectName3;\npublic String SubjectName4;\npublic String SubjectName5;\npublic String SubjectName6;\n</code></pre>\n<p>Could be an array of Strings:</p>\n<pre><code>String[] SubjectName = new String[6];\n</code></pre>\n<p>Also:</p>\n<pre><code> public double InputNumber()\n</code></pre>\n<p>Is returning a number that is not being assigned when it is called:</p>\n<pre><code>//This Line calls a function which returns a double, but you don't store the double\nwow.InputNumber();\n\n//You need something like: \ndouble NumInputs = wow.InputNumber();\n</code></pre>\n<p>also:</p>\n<pre><code>public void InputString()\n</code></pre>\n<p>Can be a loop with numInputs:</p>\n<pre><code>//You dont really need to capture numInputs and pass it this way.\n//You could just use the NumberInput you're setting in the function, but since you return a double I'm showing you the syntax for that.\npublic static void main(String[] args) {\n    NumberInput wow = new NumberInput();\n    double numInputs = wow.InputNumber();\n    wow.InputString(numInputs);\n    wow.confirmResults();\n}\npublic void confirmResults(double numInputs){\n    for(int i = 1; i&lt;= numInputs; i++){\n       System.out.println(&quot;What is the subject?&quot;); \n       //etc\n    }\n}\n</code></pre>\n<p>confirmResults(), this can be a loop over an array of SubjectNames.</p>\n"},{"tags":[],"owner":{"account_id":17066586,"reputation":4526,"user_id":12348584,"display_name":"H3AR7B3A7"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653100717,"creation_date":1653100392,"answer_id":72326258,"question_id":72326131,"body_markdown":"&lt;h3&gt;A Loop and an Enum&lt;/h3&gt;\r\n\r\nYou can use an enum to get values like &#39;first&#39;, &#39;second&#39; etc when you are looping over the number of subjects ...\r\n\r\nHere&#39;s a rather basic example:\r\n```java\r\npublic class Test {\r\n\r\n    public static void main(String[] args) {\r\n        int numberOfSubjects = inputNumber();\r\n        String[] subjectNames = new String[numberOfSubjects - 1];\r\n        for (int i = 0; i &lt; numberOfSubjects; i++) {\r\n            Scanner input = new Scanner(System.in);\r\n            System.out.printf(&quot;What is the name of the %s Subject%n&quot;, Number.values()[i].getCount());\r\n            subjectNames[i] = input.nextLine();\r\n        }\r\n        confirmResults();\r\n    }\r\n\r\n    private static void confirmResults() {\r\n        // Your implementation\r\n    }\r\n\r\n    private static Integer inputNumber() {\r\n        // You implementation\r\n        return 5;\r\n    }\r\n}\r\n\r\nenum Number {\r\n    FIRST(&quot;first&quot;),\r\n    SECOND(&quot;second&quot;),\r\n    THIRD(&quot;third&quot;),\r\n    FOURTH(&quot;fourth&quot;),\r\n    FIFTH(&quot;fifth&quot;);\r\n    \r\n    private final String count;\r\n\r\n    Number(String count) {\r\n        this.count = count;\r\n    }\r\n\r\n    public String getCount() {\r\n        return count;\r\n    }\r\n}\r\n```\r\n\r\nYou should always care about naming stuff, especially when you want people to review your code. That said, I could have probably found a better name than &#39;Number&#39; for this enum. XD\r\n\r\nNaming stuff is the hardest part of programming, best to start early to make it a habit.","title":"Is there any other way of code for the methods? It asks for user input n times based on a certain number","body":"<h3>A Loop and an Enum</h3>\n<p>You can use an enum to get values like 'first', 'second' etc when you are looping over the number of subjects ...</p>\n<p>Here's a rather basic example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Test {\n\n    public static void main(String[] args) {\n        int numberOfSubjects = inputNumber();\n        String[] subjectNames = new String[numberOfSubjects - 1];\n        for (int i = 0; i &lt; numberOfSubjects; i++) {\n            Scanner input = new Scanner(System.in);\n            System.out.printf(&quot;What is the name of the %s Subject%n&quot;, Number.values()[i].getCount());\n            subjectNames[i] = input.nextLine();\n        }\n        confirmResults();\n    }\n\n    private static void confirmResults() {\n        // Your implementation\n    }\n\n    private static Integer inputNumber() {\n        // You implementation\n        return 5;\n    }\n}\n\nenum Number {\n    FIRST(&quot;first&quot;),\n    SECOND(&quot;second&quot;),\n    THIRD(&quot;third&quot;),\n    FOURTH(&quot;fourth&quot;),\n    FIFTH(&quot;fifth&quot;);\n    \n    private final String count;\n\n    Number(String count) {\n        this.count = count;\n    }\n\n    public String getCount() {\n        return count;\n    }\n}\n</code></pre>\n<p>You should always care about naming stuff, especially when you want people to review your code. That said, I could have probably found a better name than 'Number' for this enum. XD</p>\n<p>Naming stuff is the hardest part of programming, best to start early to make it a habit.</p>\n"}],"owner":{"account_id":25329556,"reputation":11,"user_id":19149566,"display_name":"buchiu"},"comment_count":1,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":82,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"closed_date":1653158347,"accepted_answer_id":72326158,"answer_count":2,"score":-1,"last_activity_date":1653100717,"creation_date":1653098300,"question_id":72326131,"body_markdown":"I&#39;m making this Study Schedule program and a part of it is where I ask how many Subjects does the user have, and then they say (for example) 5. Based on that number of subjects it will ask &quot;What is the name of the nth subject&quot; for how many subjects there are. \r\n\r\nI basically have the code written down already and it works, but is there anyway to simplify this? It feels chunky &amp; repetitive. Also, method names don&#39;t matter since this is just for testing.\r\n\r\n``` \r\nimport java.util.*;\r\n\r\nclass NumberInput {\r\n    public double NumberInput;\r\n    public String SubjectName1;\r\n    public String SubjectName2;\r\n    public String SubjectName3;\r\n    public String SubjectName4;\r\n    public String SubjectName5;\r\n    public String SubjectName6;\r\n\r\n    public static void main(String[] args) {\r\n        NumberInput wow = new NumberInput();\r\n        wow.InputNumber();\r\n        wow.InputString();\r\n        wow.confirmResults();\r\n    }\r\n\r\n    public double DoubleInput(String numberQuestion) {\r\n        Scanner input = new Scanner(System.in);\r\n        System.out.println(numberQuestion);\r\n        return input.nextDouble();\r\n    }\r\n\r\n    public String StringInput(String stringQuestion) {\r\n        Scanner input = new Scanner(System.in);\r\n        System.out.println(stringQuestion);\r\n        return input.nextLine();\r\n    }\r\n\r\n    public double InputNumber() {\r\n    NumberInput = DoubleInput(&quot;How many subjects would you like to study?&quot;);\r\n    if (NumberInput &gt; 6) {\r\n        System.out.println(&quot;Maximum Subjects exceeded. At the most, please answer 6&quot;);\r\n    }\r\n    return (NumberInput);\r\n    }\r\n\r\n    public void InputString() {\r\n    if (NumberInput == 1) {\r\n        SubjectName1 = StringInput(&quot;What is the name of the Subject: &quot;);\r\n    }\r\n\r\n    if (NumberInput == 2) {\r\n        SubjectName1 = StringInput(&quot;What is the name of the Subject: &quot;);\r\n        SubjectName2 = StringInput(&quot;What is the name of the second Subject: &quot;);\r\n    }\r\n\r\n    if (NumberInput == 3) {\r\n        SubjectName1 = StringInput(&quot;What is the name of the Subject: &quot;);\r\n        SubjectName2 = StringInput(&quot;What is the name of the second Subject: &quot;);\r\n        SubjectName3 = StringInput(&quot;What is the name of the third Subject: &quot;);\r\n    }\r\n\r\n    if (NumberInput == 4) {\r\n        SubjectName1 = StringInput(&quot;What is the name of the Subject: &quot;);\r\n        SubjectName2 = StringInput(&quot;What is the name of the second Subject: &quot;);\r\n        SubjectName3 = StringInput(&quot;What is the name of the third Subject: &quot;);\r\n        SubjectName4 = StringInput(&quot;What is the name of the fourth Subject: &quot;);\r\n    }\r\n\r\n    if (NumberInput == 5) {\r\n        SubjectName1 = StringInput(&quot;What is the name of the Subject: &quot;);\r\n        SubjectName2 = StringInput(&quot;What is the name of the second Subject: &quot;);\r\n        SubjectName3 = StringInput(&quot;What is the name of the third Subject: &quot;);\r\n        SubjectName4 = StringInput(&quot;What is the name of the fourth Subject: &quot;);\r\n        SubjectName5 = StringInput(&quot;What is the name of the fifth Subject: &quot;);\r\n    }\r\n\r\n    if (NumberInput == 6) {\r\n        SubjectName1 = StringInput(&quot;What is the name of the Subject: &quot;);\r\n        SubjectName2 = StringInput(&quot;What is the name of the second Subject: &quot;);\r\n        SubjectName3 = StringInput(&quot;What is the name of the third Subject: &quot;);\r\n        SubjectName4 = StringInput(&quot;What is the name of the fourth Subject: &quot;);\r\n        SubjectName5 = StringInput(&quot;What is the name of the fifth Subject: &quot;);\r\n        SubjectName6 = StringInput(&quot;What is the name of the sixth Subject: &quot;);\r\n    }\r\n\r\n    }\r\n\r\n    public void confirmResults() {\r\n        System.out.println(SubjectName1);\r\n        System.out.println(SubjectName2);\r\n        System.out.println(SubjectName3);\r\n        System.out.println(SubjectName4);\r\n        System.out.println(SubjectName5);\r\n        System.out.println(SubjectName6);\r\n    }\r\n\r\n}\r\n```","title":"Is there any other way of code for the methods? It asks for user input n times based on a certain number","body":"<p>I'm making this Study Schedule program and a part of it is where I ask how many Subjects does the user have, and then they say (for example) 5. Based on that number of subjects it will ask &quot;What is the name of the nth subject&quot; for how many subjects there are.</p>\n<p>I basically have the code written down already and it works, but is there anyway to simplify this? It feels chunky &amp; repetitive. Also, method names don't matter since this is just for testing.</p>\n<pre><code>import java.util.*;\n\nclass NumberInput {\n    public double NumberInput;\n    public String SubjectName1;\n    public String SubjectName2;\n    public String SubjectName3;\n    public String SubjectName4;\n    public String SubjectName5;\n    public String SubjectName6;\n\n    public static void main(String[] args) {\n        NumberInput wow = new NumberInput();\n        wow.InputNumber();\n        wow.InputString();\n        wow.confirmResults();\n    }\n\n    public double DoubleInput(String numberQuestion) {\n        Scanner input = new Scanner(System.in);\n        System.out.println(numberQuestion);\n        return input.nextDouble();\n    }\n\n    public String StringInput(String stringQuestion) {\n        Scanner input = new Scanner(System.in);\n        System.out.println(stringQuestion);\n        return input.nextLine();\n    }\n\n    public double InputNumber() {\n    NumberInput = DoubleInput(&quot;How many subjects would you like to study?&quot;);\n    if (NumberInput &gt; 6) {\n        System.out.println(&quot;Maximum Subjects exceeded. At the most, please answer 6&quot;);\n    }\n    return (NumberInput);\n    }\n\n    public void InputString() {\n    if (NumberInput == 1) {\n        SubjectName1 = StringInput(&quot;What is the name of the Subject: &quot;);\n    }\n\n    if (NumberInput == 2) {\n        SubjectName1 = StringInput(&quot;What is the name of the Subject: &quot;);\n        SubjectName2 = StringInput(&quot;What is the name of the second Subject: &quot;);\n    }\n\n    if (NumberInput == 3) {\n        SubjectName1 = StringInput(&quot;What is the name of the Subject: &quot;);\n        SubjectName2 = StringInput(&quot;What is the name of the second Subject: &quot;);\n        SubjectName3 = StringInput(&quot;What is the name of the third Subject: &quot;);\n    }\n\n    if (NumberInput == 4) {\n        SubjectName1 = StringInput(&quot;What is the name of the Subject: &quot;);\n        SubjectName2 = StringInput(&quot;What is the name of the second Subject: &quot;);\n        SubjectName3 = StringInput(&quot;What is the name of the third Subject: &quot;);\n        SubjectName4 = StringInput(&quot;What is the name of the fourth Subject: &quot;);\n    }\n\n    if (NumberInput == 5) {\n        SubjectName1 = StringInput(&quot;What is the name of the Subject: &quot;);\n        SubjectName2 = StringInput(&quot;What is the name of the second Subject: &quot;);\n        SubjectName3 = StringInput(&quot;What is the name of the third Subject: &quot;);\n        SubjectName4 = StringInput(&quot;What is the name of the fourth Subject: &quot;);\n        SubjectName5 = StringInput(&quot;What is the name of the fifth Subject: &quot;);\n    }\n\n    if (NumberInput == 6) {\n        SubjectName1 = StringInput(&quot;What is the name of the Subject: &quot;);\n        SubjectName2 = StringInput(&quot;What is the name of the second Subject: &quot;);\n        SubjectName3 = StringInput(&quot;What is the name of the third Subject: &quot;);\n        SubjectName4 = StringInput(&quot;What is the name of the fourth Subject: &quot;);\n        SubjectName5 = StringInput(&quot;What is the name of the fifth Subject: &quot;);\n        SubjectName6 = StringInput(&quot;What is the name of the sixth Subject: &quot;);\n    }\n\n    }\n\n    public void confirmResults() {\n        System.out.println(SubjectName1);\n        System.out.println(SubjectName2);\n        System.out.println(SubjectName3);\n        System.out.println(SubjectName4);\n        System.out.println(SubjectName5);\n        System.out.println(SubjectName6);\n    }\n\n}\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":785560,"reputation":14879,"user_id":845414,"display_name":"Johannes Kuhn"},"score":0,"creation_date":1653085779,"post_id":72325288,"comment_id":127773681,"body_markdown":"Use Java 16 or higher. Or make `GameLine` also a `static` nested class.","body":"Use Java 16 or higher. Or make <code>GameLine</code> also a <code>static</code> nested class."},{"owner":{"account_id":16408560,"reputation":27,"user_id":12742722,"display_name":"dolias"},"score":0,"creation_date":1653085916,"post_id":72325288,"comment_id":127773705,"body_markdown":"@JohannesKuhn I&#39;m pretty sure that I am using Java SE 18 right now https://i.imgur.com/Xq27jNo.png","body":"@JohannesKuhn I&#39;m pretty sure that I am using Java SE 18 right now <a href=\"https://i.imgur.com/Xq27jNo.png\" rel=\"nofollow noreferrer\">i.imgur.com/Xq27jNo.png</a>"},{"owner":{"account_id":25158464,"reputation":438,"user_id":19002974,"display_name":"dangling else"},"score":0,"creation_date":1653086330,"post_id":72325288,"comment_id":127773769,"body_markdown":"The code you&#39;re posted does not constitute an inner class.  Is it nested in something larger?","body":"The code you&#39;re posted does not constitute an inner class.  Is it nested in something larger?"},{"owner":{"account_id":16408560,"reputation":27,"user_id":12742722,"display_name":"dolias"},"score":0,"creation_date":1653086815,"post_id":72325288,"comment_id":127773846,"body_markdown":"@danglingelse no, I just wanted to make a class for my lines so they can become autonomous, should I make an outer-class, and if so, how? I&#39;m a beginner and am trying to figure out how classes work.","body":"@danglingelse no, I just wanted to make a class for my lines so they can become autonomous, should I make an outer-class, and if so, how? I&#39;m a beginner and am trying to figure out how classes work."},{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":0,"creation_date":1653087695,"post_id":72325288,"comment_id":127773949,"body_markdown":"This code compiles fine for me on Java 18. Maybe you have your Maven, Gradle, or Ant settings set to use a lower level of the language?","body":"This code compiles fine for me on Java 18. Maybe you have your Maven, Gradle, or Ant settings set to use a lower level of the language?"},{"owner":{"account_id":16408560,"reputation":27,"user_id":12742722,"display_name":"dolias"},"score":0,"creation_date":1653087959,"post_id":72325288,"comment_id":127773986,"body_markdown":"@DavidConrad My project uses JavaFX / Java 18 with Bundled Maven ver. 3.6.3 is it a lower version than the one that should work? Also projects maven version id is 0.0.4 as according to my NetBeans project https://i.imgur.com/2n2mJxk.png","body":"@DavidConrad My project uses JavaFX / Java 18 with Bundled Maven ver. 3.6.3 is it a lower version than the one that should work? Also projects maven version id is 0.0.4 as according to my NetBeans project <a href=\"https://i.imgur.com/2n2mJxk.png\" rel=\"nofollow noreferrer\">i.imgur.com/2n2mJxk.png</a>"},{"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"score":3,"creation_date":1653088845,"post_id":72325288,"comment_id":127774124,"body_markdown":"@dolias - paste the entire content of your snippet in a fresh java file, call it GameLine.java, and run `javac GameLine.java`. Note how you get no errors. Hence, vote-to-close.","body":"@dolias - paste the entire content of your snippet in a fresh java file, call it GameLine.java, and run <code>javac GameLine.java</code>. Note how you get no errors. Hence, vote-to-close."},{"owner":{"account_id":16408560,"reputation":27,"user_id":12742722,"display_name":"dolias"},"score":0,"creation_date":1653089276,"post_id":72325288,"comment_id":127774188,"body_markdown":"@rzwitserloot That seemed to fix the problem, thank you, one last question, where do I go and how do I run the `javac GameLine.java` command ? I tried making a class object to my main file so it worked just so you know","body":"@rzwitserloot That seemed to fix the problem, thank you, one last question, where do I go and how do I run the <code>javac GameLine.java</code> command ? I tried making a class object to my main file so it worked just so you know"},{"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1653103081,"post_id":72325288,"comment_id":127775568,"body_markdown":"On the command line.","body":"On the command line."}],"answers":[{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1653095880,"creation_date":1653095543,"answer_id":72325992,"question_id":72325288,"body_markdown":"Your code works for me in Java 12. See this code below [run live at Ideone.com][1].\r\n\r\n```java\r\nclass GameLine {\r\n    enum LineType { HORIZONTAL, VERTICAL }\r\n    \r\n    LineType lineType ;\r\n    int col, row;\r\n    boolean activated;\r\n\r\n    GameLine ( int col , int row , LineType lineType , boolean activated ) {\r\n        this.col = col ;\r\n        this.row = row ;\r\n        this.lineType = lineType ;\r\n        this.activated = activated ;\r\n    }\r\n}\r\n```\r\n\r\nUsage shown next. \r\n\r\nBe sure you address the enum by the name of its outer nesting class, `GameLine.LineType.FOO`. \r\n\r\n    GameLine gl = new GameLine( 7 , 42 , GameLine.LineType.HORIZONTAL , true ) ;\r\n    System.out.println( gl.lineType ) ;\r\n\r\n&gt; HORIZONTAL\r\n\r\nBy the way, in Java 16+ we can declare an enum locally, within a method. Ditto for interfaces and records. \r\n\r\n\r\n\r\n  [1]: https://ideone.com/4CIpyq","title":"How can I declare an enum instance inside a class?","body":"<p>Your code works for me in Java 12. See this code below <a href=\"https://ideone.com/4CIpyq\" rel=\"nofollow noreferrer\">run live at Ideone.com</a>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>class GameLine {\n    enum LineType { HORIZONTAL, VERTICAL }\n    \n    LineType lineType ;\n    int col, row;\n    boolean activated;\n\n    GameLine ( int col , int row , LineType lineType , boolean activated ) {\n        this.col = col ;\n        this.row = row ;\n        this.lineType = lineType ;\n        this.activated = activated ;\n    }\n}\n</code></pre>\n<p>Usage shown next.</p>\n<p>Be sure you address the enum by the name of its outer nesting class, <code>GameLine.LineType.FOO</code>.</p>\n<pre><code>GameLine gl = new GameLine( 7 , 42 , GameLine.LineType.HORIZONTAL , true ) ;\nSystem.out.println( gl.lineType ) ;\n</code></pre>\n<blockquote>\n<p>HORIZONTAL</p>\n</blockquote>\n<p>By the way, in Java 16+ we can declare an enum locally, within a method. Ditto for interfaces and records.</p>\n"}],"owner":{"account_id":16408560,"reputation":27,"user_id":12742722,"display_name":"dolias"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1653203136,"answer_count":1,"score":0,"last_activity_date":1653100461,"creation_date":1653085471,"question_id":72325288,"body_markdown":"So I have this class and I want to have an enum inside of it that defines the horizontal and vertical status of a line, but for some reason I have this error: \r\n\r\n&gt;**&quot;static declarations not allowed in inner classes&quot;**\r\n\r\ncan someone explain?\r\n\r\n```\r\n    public class GameLine {\r\n\r\n        int col;\r\n        int row;\r\n\r\n        enum LineType {\r\n            HORIZONTAL, VERTICAL\r\n        }\r\n        \r\n        boolean activated;\r\n    }\r\n```","title":"How can I declare an enum instance inside a class?","body":"<p>So I have this class and I want to have an enum inside of it that defines the horizontal and vertical status of a line, but for some reason I have this error:</p>\n<blockquote>\n<p><strong>&quot;static declarations not allowed in inner classes&quot;</strong></p>\n</blockquote>\n<p>can someone explain?</p>\n<pre><code>    public class GameLine {\n\n        int col;\n        int row;\n\n        enum LineType {\n            HORIZONTAL, VERTICAL\n        }\n        \n        boolean activated;\n    }\n</code></pre>\n"},{"tags":["java","android","firebase"],"answers":[{"tags":[],"owner":{"account_id":22870341,"reputation":19,"user_id":17013455,"display_name":"meado1992"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653099844,"creation_date":1653099844,"answer_id":72326225,"question_id":72325426,"body_markdown":"solution which helped me is using .whereGreaterThanOrEqualTo(&quot;date&quot;, &quot;01/5/2022&quot;).whereLessThanOrEqualTo(&quot;date&quot;, &quot;31/5/2022&quot;).","title":"how to retrieve data from firestore based on date range?","body":"<p>solution which helped me is using .whereGreaterThanOrEqualTo(&quot;date&quot;, &quot;01/5/2022&quot;).whereLessThanOrEqualTo(&quot;date&quot;, &quot;31/5/2022&quot;).</p>\n"}],"owner":{"account_id":22870341,"reputation":19,"user_id":17013455,"display_name":"meado1992"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":156,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1653099844,"creation_date":1653087162,"question_id":72325426,"body_markdown":"Need to fetch all data rows from my collection(&quot;data&quot;) with my ID and date range as below \r\n\r\n      Date start = new Date(01/4/2022);\r\n      Date end = new Date(30/4/2022);\r\n    \r\n    fStore.collection(&quot;data&quot;).whereEqualTo(&quot;ID&quot;, userId).where(&quot;date&quot;, &quot;&gt;=&quot;,start ).where(&quot;date&quot;, &quot;&lt;=&quot;, end).get().addOnCompleteListener(new OnCompleteListener&lt;QuerySnapshot&gt;() {\r\n\r\nBut its complaining using 2 where clauses \r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/S7CId.png","title":"how to retrieve data from firestore based on date range?","body":"<p>Need to fetch all data rows from my collection(&quot;data&quot;) with my ID and date range as below</p>\n<pre><code>  Date start = new Date(01/4/2022);\n  Date end = new Date(30/4/2022);\n\nfStore.collection(&quot;data&quot;).whereEqualTo(&quot;ID&quot;, userId).where(&quot;date&quot;, &quot;&gt;=&quot;,start ).where(&quot;date&quot;, &quot;&lt;=&quot;, end).get().addOnCompleteListener(new OnCompleteListener&lt;QuerySnapshot&gt;() {\n</code></pre>\n<p>But its complaining using 2 where clauses\n<a href=\"https://i.stack.imgur.com/S7CId.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/S7CId.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","information-extraction","java-17","reflections","parameterized-class"],"comments":[{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1653297811,"post_id":72326112,"comment_id":127808541,"body_markdown":"Do you understand that when you have a `Shouter&lt;?&gt;`, you can’t invoke the `shout` method with a non-`null` argument anyway, unless you resort to unchecked operations or raw types? So, go ahead and use `Shouter.class`, you’re abandoning the generic type system anyway.","body":"Do you understand that when you have a <code>Shouter&lt;?&gt;</code>, you can’t invoke the <code>shout</code> method with a non-<code>null</code> argument anyway, unless you resort to unchecked operations or raw types? So, go ahead and use <code>Shouter.class</code>, you’re abandoning the generic type system anyway."},{"owner":{"account_id":23347832,"reputation":33,"user_id":17421834,"display_name":"G. B. Wanscher"},"score":0,"creation_date":1653319128,"post_id":72326112,"comment_id":127817045,"body_markdown":"Well. Yes. That is exactly what I don&#39;t want to do and why I wrote the question. How do I avoid referencing them as the RAW type?","body":"Well. Yes. That is exactly what I don&#39;t want to do and why I wrote the question. How do I avoid referencing them as the RAW type?"},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1653320381,"post_id":72326112,"comment_id":127817602,"body_markdown":"You don’t. Generics is a compile-time feature. Reflection is a runtime feature. They don’t work together. What if a particular implementation class implements `Shouter&lt;WarpDrive&gt;` whereas the `WarpDrive` class doesn’t exist in your compile-time setup? So you will never get something better than `Shouter&lt;?&gt;` and while some classes, e.g. `class X implements Shouter&lt;String&gt;`, can be queried for the actual type argument, others, like `class Y&lt;T&gt; implements Shouter&lt;T&gt;` can not, because they don’t even know. Neither can you query the class of `Shouter&lt;X&gt; s = x -&gt; {};` for its actual type argument.","body":"You don’t. Generics is a compile-time feature. Reflection is a runtime feature. They don’t work together. What if a particular implementation class implements <code>Shouter&lt;WarpDrive&gt;</code> whereas the <code>WarpDrive</code> class doesn’t exist in your compile-time setup? So you will never get something better than <code>Shouter&lt;?&gt;</code> and while some classes, e.g. <code>class X implements Shouter&lt;String&gt;</code>, can be queried for the actual type argument, others, like <code>class Y&lt;T&gt; implements Shouter&lt;T&gt;</code> can not, because they don’t even know. Neither can you query the class of <code>Shouter&lt;X&gt; s = x -&gt; {};</code> for its actual type argument."}],"owner":{"account_id":23347832,"reputation":33,"user_id":17421834,"display_name":"G. B. Wanscher"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":376,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":0,"score":3,"last_activity_date":1653098001,"creation_date":1653098001,"question_id":72326112,"body_markdown":"I&#39;m trying to extract all classes that implement an interface and put these in a Set.\r\nHowever, that interface is Parameterized and I&#39;d like to communicate that it&#39;s\r\nall subclasses, regardless of their &quot;parameter&quot; I want, using a wildcard or something like that.\r\nHowever, I still need access to that parameter when going through the Set.\r\n(Btw I&#39;m using the Reflections library)\r\n\r\nThe interface I&#39;m trying to get subclasses of:\r\n\r\n    public interface Shouter&lt;T&gt; {\r\n        void shout(T dataObj);\r\n    }\r\n\r\nWhat I&#39;m trying to do (which I can&#39;t get to work)\r\n\r\n    private static Set&lt;Class&lt;? extends Shouter&lt;?&gt;&gt;&gt; extractShouters(String rootPackage) {\r\n        Reflections reflections = new Reflections(rootPackage);\r\n        return (Set&lt;Class&lt;? extends Shouter&lt;?&gt;&gt;&gt;) reflections.getSubTypesOf(Shouter&lt;?&gt;.class);\r\n    }\r\n\r\nI&#39;m getting an error in the last bit there, the &quot;Shouter&lt;?&gt;.class&quot;, and I know that what I&#39;ve written wont compile but I don&#39;t know how else.\r\nNow, I&#39;m relatively new to Reflections, so I don&#39;t know if just addressing it as RAW would solve it and still give me access to the parameter.\r\n\r\nThe Set I mentioned earlier:\r\n\r\n    private Set&lt;Class&lt;? extends Listening&lt;?&gt;&gt;&gt; listeners;\r\n    private Set&lt;Class&lt;? extends Shouter&lt;?&gt;&gt;&gt; shouters;","title":"Using Reflections.getSubTypeOf() to get subtypes of Parameterized interface","body":"<p>I'm trying to extract all classes that implement an interface and put these in a Set.\nHowever, that interface is Parameterized and I'd like to communicate that it's\nall subclasses, regardless of their &quot;parameter&quot; I want, using a wildcard or something like that.\nHowever, I still need access to that parameter when going through the Set.\n(Btw I'm using the Reflections library)</p>\n<p>The interface I'm trying to get subclasses of:</p>\n<pre><code>public interface Shouter&lt;T&gt; {\n    void shout(T dataObj);\n}\n</code></pre>\n<p>What I'm trying to do (which I can't get to work)</p>\n<pre><code>private static Set&lt;Class&lt;? extends Shouter&lt;?&gt;&gt;&gt; extractShouters(String rootPackage) {\n    Reflections reflections = new Reflections(rootPackage);\n    return (Set&lt;Class&lt;? extends Shouter&lt;?&gt;&gt;&gt;) reflections.getSubTypesOf(Shouter&lt;?&gt;.class);\n}\n</code></pre>\n<p>I'm getting an error in the last bit there, the &quot;Shouter&lt;?&gt;.class&quot;, and I know that what I've written wont compile but I don't know how else.\nNow, I'm relatively new to Reflections, so I don't know if just addressing it as RAW would solve it and still give me access to the parameter.</p>\n<p>The Set I mentioned earlier:</p>\n<pre><code>private Set&lt;Class&lt;? extends Listening&lt;?&gt;&gt;&gt; listeners;\nprivate Set&lt;Class&lt;? extends Shouter&lt;?&gt;&gt;&gt; shouters;\n</code></pre>\n"},{"tags":["java","variables","reference","nullpointerexception"],"comments":[{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":4,"creation_date":1653072158,"post_id":72323511,"comment_id":127770447,"body_markdown":"Hint: what does the documentation for `File.ListFiles()` say about the return value?","body":"Hint: what does the documentation for <code>File.ListFiles()</code> say about the return value?"},{"owner":{"account_id":20427819,"reputation":11,"user_id":14987378,"display_name":"gosho09"},"score":0,"creation_date":1653073167,"post_id":72323511,"comment_id":127770743,"body_markdown":"`The function returns an array of Files denoting the files in a given abstract pathname if the path name is a directory else returns null.`\nPrinting `path` gives a deterministic value in both OS (res\\mnist_png\\Training\\0).\nBut printing `allFiles` gives `null` on Linux but an actual reference on Windows `([Ljava.io.File;@50a5b0d)`.\n`path` does in fact print a directory. Could the problem be definition of the term *directory* on the two OS?","body":"<code>The function returns an array of Files denoting the files in a given abstract pathname if the path name is a directory else returns null.</code> Printing <code>path</code> gives a deterministic value in both OS (res\\mnist_png\\Training\\0). But printing <code>allFiles</code> gives <code>null</code> on Linux but an actual reference on Windows <code>([Ljava.io.File;@50a5b0d)</code>. <code>path</code> does in fact print a directory. Could the problem be definition of the term <i>directory</i> on the two OS?"},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":4,"creation_date":1653073272,"post_id":72323511,"comment_id":127770774,"body_markdown":"It is not correct to try to list application resources.  If you ever package your application as a .jar file, the File class won’t work anyway.  As for your current problem, it’s likely due to your use of a relative file name, which relies on the [current working directory](https://en.wikipedia.org/wiki/Working_directory) of the Java process itself.","body":"It is not correct to try to list application resources.  If you ever package your application as a .jar file, the File class won’t work anyway.  As for your current problem, it’s likely due to your use of a relative file name, which relies on the <a href=\"https://en.wikipedia.org/wiki/Working_directory\" rel=\"nofollow noreferrer\">current working directory</a> of the Java process itself."},{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":3,"creation_date":1653073367,"post_id":72323511,"comment_id":127770795,"body_markdown":"&quot;printing allFiles gives null on Linux&quot; - which suggests that there *isn&#39;t* a directory with that name (relative to the current working directory) on Linux.","body":"&quot;printing allFiles gives null on Linux&quot; - which suggests that there <i>isn&#39;t</i> a directory with that name (relative to the current working directory) on Linux."},{"owner":{"account_id":20427819,"reputation":11,"user_id":14987378,"display_name":"gosho09"},"score":0,"creation_date":1653074834,"post_id":72323511,"comment_id":127771162,"body_markdown":"From what I gather, the problem seems to be *how* I give directory path. There is actually a *res/mnist_png/...* folder in my project (I download an archive over the internet and extract the content which is these folders). I am using relative path to try to access but I also tried absolute path and `System.getProperty(&quot;user.home&quot;)` but to no avail. Is it a fixable problem I am overseeing, is it a structural design problem I have created? As to .jar files, the project works as .jar in Windows in any directory the project is put and does it&#39;s job.","body":"From what I gather, the problem seems to be <i>how</i> I give directory path. There is actually a <i>res/mnist_png/...</i> folder in my project (I download an archive over the internet and extract the content which is these folders). I am using relative path to try to access but I also tried absolute path and <code>System.getProperty(&quot;user.home&quot;)</code> but to no avail. Is it a fixable problem I am overseeing, is it a structural design problem I have created? As to .jar files, the project works as .jar in Windows in any directory the project is put and does it&#39;s job."},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1653081259,"post_id":72323511,"comment_id":127772832,"body_markdown":"Shot in the dark:  change `&quot;res/mnist_png/&quot;` to `&quot;./res/mnist_png/&quot;`.","body":"Shot in the dark:  change <code>&quot;res&#47;mnist_png&#47;&quot;</code> to <code>&quot;.&#47;res&#47;mnist_png&#47;&quot;</code>."},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":1,"creation_date":1653085459,"post_id":72323511,"comment_id":127773612,"body_markdown":"No, it’s not how you specify the directory path.  Again, it’s the current working directory that matters, because you are using a relative file name (that is, a file name that does not start with the file separator).","body":"No, it’s not how you specify the directory path.  Again, it’s the current working directory that matters, because you are using a relative file name (that is, a file name that does not start with the file separator)."},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":1,"creation_date":1653101476,"post_id":72323511,"comment_id":127775444,"body_markdown":"Add this line to your code: `System.out.println (&quot;Working directory is &quot; + System.getProperty(&quot;user.dir&quot;));`","body":"Add this line to your code: <code>System.out.println (&quot;Working directory is &quot; + System.getProperty(&quot;user.dir&quot;));</code>"},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1653104834,"post_id":72323511,"comment_id":127775735,"body_markdown":"The source tree isn&#39;t present at runtime. Resources get packaged into the JAR/WAR/EAR file, and that is where you should look for them, and how you should look for them is with `Class.getResource()` and friends.","body":"The source tree isn&#39;t present at runtime. Resources get packaged into the JAR/WAR/EAR file, and that is where you should look for them, and how you should look for them is with <code>Class.getResource()</code> and friends."},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1653170405,"post_id":72323511,"comment_id":127786931,"body_markdown":"One reason such a program would work on Windows but not Linux is that file names and directory names on Windows are _not_ case sensitive. But, on Linux, they are.","body":"One reason such a program would work on Windows but not Linux is that file names and directory names on Windows are <i>not</i> case sensitive. But, on Linux, they are."}],"answers":[{"tags":[],"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653097879,"creation_date":1653097879,"answer_id":72326106,"question_id":72323511,"body_markdown":"First problem:  You are using a relative file name.  Relative file names have a different meaning depending on the [current working directory](https://en.wikipedia.org/wiki/Working_directory) of the Java process.  This is not a Java concept;  each process in a system has had its own current directory since long before Java existed.\r\n\r\nSecond problem:  You are trying to list application resources.  If you ever choose to package your application as a .jar file, this will not work, because a .jar is a single archive file;  the data inside it is all part of one file and they do not constitute actual files.\r\n\r\nRelative file names\r\n-------------------\r\n\r\nAny file that does not start with a [directory separator](https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/io/File.html#separatorChar) (`/` on most systems, or optionally `\\` in Windows) is a *relative file name.*  The actual file location that relative file name refers to depends on the *current directory* of the Java process.  All programs, not just Java programs, work this way.\r\n\r\nSome examples:\r\n\r\n    File name                       Current directory       Actual file location\r\n    ---------                       -----------------       --------------------\r\n\r\n    res/mnist_png/A/1/image01.png   /home/gosho09/project   /home/gosho09/project/res/mnist_png/A/1/image01.png\r\n    mnist_png                       /home/gosho09/project   /home/gosho09/project/mnist_png\r\n    mnist_png                       /                       /mnist_png\r\n\r\n    /home/gosho09/project/res       /tmp                    /home/gosho09/project/res\r\n    /home/gosho09/project/res       /home/gosho09           /home/gosho09/project/res\r\n    /home/gosho09/project/res       /usr/local/bin          /home/gosho09/project/res\r\n    /var/log                        /tmp                    /var/log\r\n    /var/log                        /home/gosho09           /var/log\r\n    /var/log                        /usr/local/bin          /var/log\r\n\r\nAs you can see, if the file name does not start with a `/`, it is relative, and the current directory determines the actual location.\r\n\r\nIf the file name starts with `/`, it is considered an absolute file name.  Absolute file names are not affected by the current directory.\r\n\r\nHowever… you should not use file names at all.\r\n----------------------------------------------\r\n\r\nIf you ever want to distribute your application, you will most likely want it to be packaged as a .jar file.  A .jar file is a single archive file which contains compiled classes, and application resource files, like your image sets.\r\n\r\nBecause a .jar file is an archive (it’s actually a specialized zip file), the entries inside it are just parts of the archive, in compressed form.  They are not individual files, just sequences of bytes.  You cannot read them with the File class.\r\n\r\nFortunately, there is a way to read application resources, which will work both when your application is packaged as a .jar file, and when it exists as regular .class files and data files:  the [Class.getResource method](https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/lang/Class.html#getResource(java.lang.String)).\r\n\r\nA typical usage might look like this:\r\n\r\n    String path = &quot;/mnist_png/&quot; + set + &quot;/&quot; + n + &quot;/image&quot; + i + &quot;.png&quot;);\r\n    URL imageLocation = ImageArray.class.getResource(path);\r\n\r\n    if (imageLocation == null) {\r\n        throw new RuntimeException(&quot;Missing resource \\&quot;&quot; + path + &quot;\\&quot;&quot;);\r\n    }\r\n\r\n    allImages[i] = ImageIO.read(imageLocation);\r\n\r\nYou may be wondering how one is supposed to list files without the File class.  The answer is:  You can’t and you shouldn’t.\r\n\r\nBy design, application resources cannot be listed.  This is because they are not guaranteed to be listable.  Resources are loaded by [ClassLoaders](https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/lang/ClassLoader.html), and ClassLoaders *may or may not* read from directories or from .jar files.\r\n\r\n(In fact, the Java SE runtime no longer includes its core classes as a .jar file; as a result, third party tools which used to assume those classes would be available as a .jar file had to be rewritten.  Java did not pull the rug out from under those tools’ developers;  it was never considered safe to assume classes would come from .jar files, and those developers chose not to heed that warning.)\r\n\r\nThe alternative to listing the resources is to include a resource which contains a list of the known resource paths.  It’s your application;  you know what’s in it.  So just write a simple plain text listing, include it in your application, and read from that:\r\n\r\n    String root = &quot;/mnist_png/&quot; + set + &quot;/&quot; + n + &quot;/&quot;;\r\n    String listingPath = root + &quot;image-list.txt&quot;;\r\n\r\n    try (BufferedReader listing = new BufferedReader(\r\n        new InputStreamReader(\r\n            Objects.requireNonNull(\r\n                ImageArray.class.getResourceAsStream(listingPath),\r\n                &quot;Missing resource \\&quot;&quot; + listingPath + \\&quot;&quot;),\r\n            StandardCharsets.UTF_8))) {\r\n\r\n        List&lt;JLabel&gt; labelList = new ArrayList&lt;&gt;();\r\n\r\n        String path;\r\n        while ((path = listing.readLine()) != null) {\r\n            URL imageLocation = ImageArray.class.getResource(root + path);\r\n            if (imageLocation == null) {\r\n                throw new RuntimeException(\r\n                    &quot;Missing resource \\&quot;&quot; + root + path + &quot;\\&quot;&quot;);\r\n            }\r\n            labelList.add(new JLabel(new ImageIcon(imageLocation)));\r\n        }\r\n\r\n        labels = labelList.toArray(new JLabel[0]);\r\n    }\r\n","title":"Java NullPointerException only on Linux","body":"<p>First problem:  You are using a relative file name.  Relative file names have a different meaning depending on the <a href=\"https://en.wikipedia.org/wiki/Working_directory\" rel=\"nofollow noreferrer\">current working directory</a> of the Java process.  This is not a Java concept;  each process in a system has had its own current directory since long before Java existed.</p>\n<p>Second problem:  You are trying to list application resources.  If you ever choose to package your application as a .jar file, this will not work, because a .jar is a single archive file;  the data inside it is all part of one file and they do not constitute actual files.</p>\n<h2>Relative file names</h2>\n<p>Any file that does not start with a <a href=\"https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/io/File.html#separatorChar\" rel=\"nofollow noreferrer\">directory separator</a> (<code>/</code> on most systems, or optionally <code>\\</code> in Windows) is a <em>relative file name.</em>  The actual file location that relative file name refers to depends on the <em>current directory</em> of the Java process.  All programs, not just Java programs, work this way.</p>\n<p>Some examples:</p>\n<pre><code>File name                       Current directory       Actual file location\n---------                       -----------------       --------------------\n\nres/mnist_png/A/1/image01.png   /home/gosho09/project   /home/gosho09/project/res/mnist_png/A/1/image01.png\nmnist_png                       /home/gosho09/project   /home/gosho09/project/mnist_png\nmnist_png                       /                       /mnist_png\n\n/home/gosho09/project/res       /tmp                    /home/gosho09/project/res\n/home/gosho09/project/res       /home/gosho09           /home/gosho09/project/res\n/home/gosho09/project/res       /usr/local/bin          /home/gosho09/project/res\n/var/log                        /tmp                    /var/log\n/var/log                        /home/gosho09           /var/log\n/var/log                        /usr/local/bin          /var/log\n</code></pre>\n<p>As you can see, if the file name does not start with a <code>/</code>, it is relative, and the current directory determines the actual location.</p>\n<p>If the file name starts with <code>/</code>, it is considered an absolute file name.  Absolute file names are not affected by the current directory.</p>\n<h2>However… you should not use file names at all.</h2>\n<p>If you ever want to distribute your application, you will most likely want it to be packaged as a .jar file.  A .jar file is a single archive file which contains compiled classes, and application resource files, like your image sets.</p>\n<p>Because a .jar file is an archive (it’s actually a specialized zip file), the entries inside it are just parts of the archive, in compressed form.  They are not individual files, just sequences of bytes.  You cannot read them with the File class.</p>\n<p>Fortunately, there is a way to read application resources, which will work both when your application is packaged as a .jar file, and when it exists as regular .class files and data files:  the <a href=\"https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/lang/Class.html#getResource(java.lang.String)\" rel=\"nofollow noreferrer\">Class.getResource method</a>.</p>\n<p>A typical usage might look like this:</p>\n<pre><code>String path = &quot;/mnist_png/&quot; + set + &quot;/&quot; + n + &quot;/image&quot; + i + &quot;.png&quot;);\nURL imageLocation = ImageArray.class.getResource(path);\n\nif (imageLocation == null) {\n    throw new RuntimeException(&quot;Missing resource \\&quot;&quot; + path + &quot;\\&quot;&quot;);\n}\n\nallImages[i] = ImageIO.read(imageLocation);\n</code></pre>\n<p>You may be wondering how one is supposed to list files without the File class.  The answer is:  You can’t and you shouldn’t.</p>\n<p>By design, application resources cannot be listed.  This is because they are not guaranteed to be listable.  Resources are loaded by <a href=\"https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/lang/ClassLoader.html\" rel=\"nofollow noreferrer\">ClassLoaders</a>, and ClassLoaders <em>may or may not</em> read from directories or from .jar files.</p>\n<p>(In fact, the Java SE runtime no longer includes its core classes as a .jar file; as a result, third party tools which used to assume those classes would be available as a .jar file had to be rewritten.  Java did not pull the rug out from under those tools’ developers;  it was never considered safe to assume classes would come from .jar files, and those developers chose not to heed that warning.)</p>\n<p>The alternative to listing the resources is to include a resource which contains a list of the known resource paths.  It’s your application;  you know what’s in it.  So just write a simple plain text listing, include it in your application, and read from that:</p>\n<pre><code>String root = &quot;/mnist_png/&quot; + set + &quot;/&quot; + n + &quot;/&quot;;\nString listingPath = root + &quot;image-list.txt&quot;;\n\ntry (BufferedReader listing = new BufferedReader(\n    new InputStreamReader(\n        Objects.requireNonNull(\n            ImageArray.class.getResourceAsStream(listingPath),\n            &quot;Missing resource \\&quot;&quot; + listingPath + \\&quot;&quot;),\n        StandardCharsets.UTF_8))) {\n\n    List&lt;JLabel&gt; labelList = new ArrayList&lt;&gt;();\n\n    String path;\n    while ((path = listing.readLine()) != null) {\n        URL imageLocation = ImageArray.class.getResource(root + path);\n        if (imageLocation == null) {\n            throw new RuntimeException(\n                &quot;Missing resource \\&quot;&quot; + root + path + &quot;\\&quot;&quot;);\n        }\n        labelList.add(new JLabel(new ImageIcon(imageLocation)));\n    }\n\n    labels = labelList.toArray(new JLabel[0]);\n}\n</code></pre>\n"}],"owner":{"account_id":20427819,"reputation":11,"user_id":14987378,"display_name":"gosho09"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":563,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1653097879,"creation_date":1653072034,"question_id":72323511,"body_markdown":"I am working on a Java project, which runs fine on Windows 10, but when I tested it in Ubuntu, it shows\r\n\r\n&gt; &quot;AWT-EventQueue-0&quot; java.lang.NullPointerException: Cannot read the array length because &quot;allFiles&quot; is null. \r\n\r\nI read [this][1] answer, but could not find a fix.\r\n\r\nWhat I am doing in the project is load an array of images from a certain path. Here is the faulty part of my code:\r\n\r\n    BufferedImage[] allImages;\r\n\r\n\tpublic ImageArray(String set, int n) {\r\n\t\tFile path = new File(&quot;res/mnist_png/&quot; + set + &quot;/&quot; + n);\r\n\t\tFile[] allFiles = path.listFiles();\r\n\r\n\t\tallImages = new BufferedImage[allFiles.length];\r\n\r\n-----------------------------------------------------------------\r\n\r\n    \tJLabel label[] = new JLabel[allFiles.length];\r\n\r\n\t\tfor (int i = 0; i &lt; allFiles.length; i++) {\r\n\t\t\ttry {\r\n\t\t\t\tallImages[i] = ImageIO.read(allFiles[i]);\r\n\t\t\t\tlabel[i] = new JLabel();\r\n\t\t\t\tImageIcon icon = new ImageIcon(allImages[i]);\r\n\r\nI tried removing the variable *allFiles* and replacing its use with the actual code it holds but with no success. I saw in the previously answered that the use of the *new* / *this* keywords could fix the issue, but I don&#39;t seem to be able to find if and where to use them.\r\nI printed the value of the `allFiles` and `path.listFiles()` and it is indeed null. Is there a way for the program to work if they remain null? Would changing the null somehow break their intended work? \r\n\r\nAs I mentioned, the problem occurs only on Linux, but works fine on Windows. Some help would be much appreciated.\r\n \r\n\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/218384/what-is-a-nullpointerexception-and-how-do-i-fix-it","title":"Java NullPointerException only on Linux","body":"<p>I am working on a Java project, which runs fine on Windows 10, but when I tested it in Ubuntu, it shows</p>\n<blockquote>\n<p>&quot;AWT-EventQueue-0&quot; java.lang.NullPointerException: Cannot read the array length because &quot;allFiles&quot; is null.</p>\n</blockquote>\n<p>I read <a href=\"https://stackoverflow.com/questions/218384/what-is-a-nullpointerexception-and-how-do-i-fix-it\">this</a> answer, but could not find a fix.</p>\n<p>What I am doing in the project is load an array of images from a certain path. Here is the faulty part of my code:</p>\n<pre><code>BufferedImage[] allImages;\n\npublic ImageArray(String set, int n) {\n    File path = new File(&quot;res/mnist_png/&quot; + set + &quot;/&quot; + n);\n    File[] allFiles = path.listFiles();\n\n    allImages = new BufferedImage[allFiles.length];\n</code></pre>\n<hr />\n<pre><code>    JLabel label[] = new JLabel[allFiles.length];\n\n    for (int i = 0; i &lt; allFiles.length; i++) {\n        try {\n            allImages[i] = ImageIO.read(allFiles[i]);\n            label[i] = new JLabel();\n            ImageIcon icon = new ImageIcon(allImages[i]);\n</code></pre>\n<p>I tried removing the variable <em>allFiles</em> and replacing its use with the actual code it holds but with no success. I saw in the previously answered that the use of the <em>new</em> / <em>this</em> keywords could fix the issue, but I don't seem to be able to find if and where to use them.\nI printed the value of the <code>allFiles</code> and <code>path.listFiles()</code> and it is indeed null. Is there a way for the program to work if they remain null? Would changing the null somehow break their intended work?</p>\n<p>As I mentioned, the problem occurs only on Linux, but works fine on Windows. Some help would be much appreciated.</p>\n"},{"tags":["java","mysql","spring","spring-boot","mybatis"],"comments":[{"owner":{"account_id":8591840,"reputation":46475,"user_id":6436191,"display_name":"The Impaler"},"score":0,"creation_date":1616612637,"post_id":66780822,"comment_id":118060539,"body_markdown":"I think you got the mapping wrong. What&#39;s the specific URL you are trying on the link? Can you try it in command line using CURL or WGET?","body":"I think you got the mapping wrong. What&#39;s the specific URL you are trying on the link? Can you try it in command line using CURL or WGET?"}],"answers":[{"tags":[],"owner":{"account_id":11892996,"reputation":1,"user_id":8703255,"display_name":"venderoff"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653095934,"creation_date":1652963288,"answer_id":72304541,"question_id":66780822,"body_markdown":"In the main application class. Add &quot; scanBasePackages= &#39;package with dao&#39; \r\n\r\nExample : \r\n\r\n@SpringBootApplication(scanBasePackages={&quot;com.usman.dao&quot;})\r\npublic class SpringApplication() {\r\n\r\n\r\n}\r\n\r\nthis shall work, Let me know.","title":"mybatis: update one table accoring to another table","body":"<p>In the main application class. Add &quot; scanBasePackages= 'package with dao'</p>\n<p>Example :</p>\n<p>@SpringBootApplication(scanBasePackages={&quot;com.usman.dao&quot;})\npublic class SpringApplication() {</p>\n<p>}</p>\n<p>this shall work, Let me know.</p>\n"}],"owner":{"account_id":18073239,"reputation":161,"user_id":13137316,"display_name":"tanglai"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":344,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1653095934,"creation_date":1616588137,"question_id":66780822,"body_markdown":"I want to acheive:\r\nWhen I click the page, it will update one column in the table &#39;staffinfo&#39; and then show the table.\r\n\r\nand I want to update the column named &#39;lengthofworking&#39; in table &#39;staffinfo&#39;. and its value is decided by another table named &#39;bookingtable&#39;.\r\n\r\nHere is the MySQL query:\r\n\r\n    UPDATE crm.staffinfo SET `lengthofworking` = (\r\n      select temp.workinghour from (\r\n        SELECT b.assignedstfid as staffid, SUM(b.duration) as workinghour\r\n        FROM crm.bookingtable b, crm.staffinfo s \r\n        where s.staffid = b.assignedstfid \r\n        GROUP BY b.assignedstfid) as temp \r\n      where temp.staffid = staffinfo.staffid\r\n    ); \r\n\r\nwhich means: \r\nWhen I want to get the total working hour of a staff, I need to sum up the duration of each booking record related to the staff in table &#39;bookingtable&#39;.\r\n\r\n**I have test this query in MySQL, it works. now I want to implement this query in mybatis.**\r\n\r\nHere is what I did:\r\n\r\nin Class **Staff.java** :\r\n```\r\npublic class Staff {\r\n    private Integer staffid;\r\n    ...\r\n    private Double lengthofworking;\r\n}\r\n```\r\n\r\n\r\nin Interface **StaffService.java** and Class **StaffServiceImpl.java**:\r\n```\r\npublic interface StaffService {\r\n\r\n    List&lt;Staff&gt; getAllStaffs();  //  get all the staffs\r\n    ...\r\n    int updateStaffWorkingLength(); //  update the &#39;length of working&#39; of a staff\r\n}\r\n\r\n@Service\r\npublic class StaffServiceImpl implements StaffService{\r\n\r\n    @Autowired\r\n    private StaffMapper sm;\r\n\r\n    @Override\r\n    public List&lt;Staff&gt; getAllStaffs() {\r\n        return sm.getAllStaffs();\r\n    }\r\n    ...\r\n    @Override\r\n    public int updateStaffWorkingLength()  {\r\n        return sm.updateStaffWorkingLength();\r\n    }\r\n}\r\n```\r\n\r\nin Interface **StaffMapper.java** :\r\n```\r\n@Mapper\r\n@Repository\r\npublic interface StaffMapper {\r\n\r\n    List&lt;Staff&gt; getAllStaffs();  //  get all the staffs\r\n    ...\r\n    int updateStaffWorkingLength(); //  update the &#39;length of working&#39; of a staff\r\n\r\n}\r\n```\r\n\r\nin **StaffMapper.xml**:\r\n```\r\n...\r\n&lt;mapper namespace=&quot;com.crm.mapper.StaffMapper&quot;&gt;\r\n\r\n    &lt;select id=&quot;getAllStaffs&quot; resultType=&quot;Staff&quot; &gt;\r\n        select * from crm.staffinfo ;\r\n    &lt;/select&gt;\r\n    ...\r\n    &lt;select id=&quot;updateStaffWorkingLength&quot; parameterType=&quot;Staff&quot;&gt;\r\n    UPDATE crm.staffinfo SET `lengthofworking/minute` = (select temp.workinghour from (SELECT b.assignedstfid as staffid, SUM(b.duration) as workinghour FROM crm.bookingtable b, crm.staffinfo s where s.staffid = b.assignedstfid GROUP BY b.assignedstfid)as temp where temp.staffid = staffinfo.staffid);\r\n    &lt;/select&gt;\r\n\r\n&lt;/mapper&gt;\r\n````\r\n\r\nfinally, in Class **StaffController.java**:\r\n```\r\n@RequestMapping(&quot;/stafflist&quot;)\r\n    public String list(Model model){\r\n        ss.updateStaffWorkingLength();  //here for update the column\r\n        List&lt;Staff&gt; allStaffs = ss.getAllStaffs(); // here for retrieve the data from table &#39;staffinfo&#39;\r\n        model.addAttribute(&quot;allStaffs&quot;, allStaffs);\r\n        return &quot;staff/list&quot;;\r\n    }\r\n```\r\n\r\nAnd I want to stress that **I have defined the &#39;list.html&#39; in the &#39;staff&#39; directory already.**\r\n\r\nNow when I click the link &#39;/stafflist&#39;, I get:\r\n\r\n&gt;Whitelabel Error Page   \r\nThis application has no explicit mapping for /error, so you are seeing this as a fallback.\r\n\r\n","title":"mybatis: update one table accoring to another table","body":"<p>I want to acheive:\nWhen I click the page, it will update one column in the table 'staffinfo' and then show the table.</p>\n<p>and I want to update the column named 'lengthofworking' in table 'staffinfo'. and its value is decided by another table named 'bookingtable'.</p>\n<p>Here is the MySQL query:</p>\n<pre><code>UPDATE crm.staffinfo SET `lengthofworking` = (\n  select temp.workinghour from (\n    SELECT b.assignedstfid as staffid, SUM(b.duration) as workinghour\n    FROM crm.bookingtable b, crm.staffinfo s \n    where s.staffid = b.assignedstfid \n    GROUP BY b.assignedstfid) as temp \n  where temp.staffid = staffinfo.staffid\n); \n</code></pre>\n<p>which means:\nWhen I want to get the total working hour of a staff, I need to sum up the duration of each booking record related to the staff in table 'bookingtable'.</p>\n<p><strong>I have test this query in MySQL, it works. now I want to implement this query in mybatis.</strong></p>\n<p>Here is what I did:</p>\n<p>in Class <strong>Staff.java</strong> :</p>\n<pre><code>public class Staff {\n    private Integer staffid;\n    ...\n    private Double lengthofworking;\n}\n</code></pre>\n<p>in Interface <strong>StaffService.java</strong> and Class <strong>StaffServiceImpl.java</strong>:</p>\n<pre><code>public interface StaffService {\n\n    List&lt;Staff&gt; getAllStaffs();  //  get all the staffs\n    ...\n    int updateStaffWorkingLength(); //  update the 'length of working' of a staff\n}\n\n@Service\npublic class StaffServiceImpl implements StaffService{\n\n    @Autowired\n    private StaffMapper sm;\n\n    @Override\n    public List&lt;Staff&gt; getAllStaffs() {\n        return sm.getAllStaffs();\n    }\n    ...\n    @Override\n    public int updateStaffWorkingLength()  {\n        return sm.updateStaffWorkingLength();\n    }\n}\n</code></pre>\n<p>in Interface <strong>StaffMapper.java</strong> :</p>\n<pre><code>@Mapper\n@Repository\npublic interface StaffMapper {\n\n    List&lt;Staff&gt; getAllStaffs();  //  get all the staffs\n    ...\n    int updateStaffWorkingLength(); //  update the 'length of working' of a staff\n\n}\n</code></pre>\n<p>in <strong>StaffMapper.xml</strong>:</p>\n<pre><code>...\n&lt;mapper namespace=&quot;com.crm.mapper.StaffMapper&quot;&gt;\n\n    &lt;select id=&quot;getAllStaffs&quot; resultType=&quot;Staff&quot; &gt;\n        select * from crm.staffinfo ;\n    &lt;/select&gt;\n    ...\n    &lt;select id=&quot;updateStaffWorkingLength&quot; parameterType=&quot;Staff&quot;&gt;\n    UPDATE crm.staffinfo SET `lengthofworking/minute` = (select temp.workinghour from (SELECT b.assignedstfid as staffid, SUM(b.duration) as workinghour FROM crm.bookingtable b, crm.staffinfo s where s.staffid = b.assignedstfid GROUP BY b.assignedstfid)as temp where temp.staffid = staffinfo.staffid);\n    &lt;/select&gt;\n\n&lt;/mapper&gt;\n</code></pre>\n<p>finally, in Class <strong>StaffController.java</strong>:</p>\n<pre><code>@RequestMapping(&quot;/stafflist&quot;)\n    public String list(Model model){\n        ss.updateStaffWorkingLength();  //here for update the column\n        List&lt;Staff&gt; allStaffs = ss.getAllStaffs(); // here for retrieve the data from table 'staffinfo'\n        model.addAttribute(&quot;allStaffs&quot;, allStaffs);\n        return &quot;staff/list&quot;;\n    }\n</code></pre>\n<p>And I want to stress that <strong>I have defined the 'list.html' in the 'staff' directory already.</strong></p>\n<p>Now when I click the link '/stafflist', I get:</p>\n<blockquote>\n<p>Whitelabel Error Page<br />\nThis application has no explicit mapping for /error, so you are seeing this as a fallback.</p>\n</blockquote>\n"},{"tags":["java","android","google-maps","kml"],"comments":[{"owner":{"account_id":5438765,"reputation":1265,"user_id":6658584,"display_name":"Christiaan Adams"},"score":0,"creation_date":1656102549,"post_id":72325923,"comment_id":128498222,"body_markdown":"Are you sure that the URL for your KML file directly downloads the file?  The URL in your sample code is clearly incomplete, and does not link to a file: &quot; https://gist.githubusercontent.com/...route.kml &quot;, but that might just be an example.  If the URL goes to a GitHub page that shows the file, then GMaps will not able to fetch it... the URL needs to point directly at the file, so it can be fetched correctly.","body":"Are you sure that the URL for your KML file directly downloads the file?  The URL in your sample code is clearly incomplete, and does not link to a file: &quot; <a href=\"https://gist.githubusercontent.com/...route.kml\" rel=\"nofollow noreferrer\">gist.githubusercontent.com/...route.kml</a> &quot;, but that might just be an example.  If the URL goes to a GitHub page that shows the file, then GMaps will not able to fetch it... the URL needs to point directly at the file, so it can be fetched correctly."},{"owner":{"account_id":8970376,"reputation":13,"user_id":6689110,"display_name":"mmm"},"score":0,"creation_date":1656112572,"post_id":72325923,"comment_id":128500001,"body_markdown":"@C.A. I deliberately cut out the part of the URL, so it isn&#39;t public. The URL goes to GitHub Gist which just displays the text, I didn&#39;t know URL must be download URL. I opted for local file since I didn&#39;t manage to get this working at the time..","body":"@C.A. I deliberately cut out the part of the URL, so it isn&#39;t public. The URL goes to GitHub Gist which just displays the text, I didn&#39;t know URL must be download URL. I opted for local file since I didn&#39;t manage to get this working at the time.."},{"owner":{"account_id":5438765,"reputation":1265,"user_id":6658584,"display_name":"Christiaan Adams"},"score":0,"creation_date":1656394491,"post_id":72325923,"comment_id":128554452,"body_markdown":"Ok, in the future, if you want to see whether the page is correctly fetching the KML file, you can use the Chrome Developer Tools, look at the Network tab, and filter by &quot;.km&quot; (to see .kml and .kmz files).  Then reload the page (or make the code fetch the file), and you should see the request and whether it correctly fetches the file or not.","body":"Ok, in the future, if you want to see whether the page is correctly fetching the KML file, you can use the Chrome Developer Tools, look at the Network tab, and filter by &quot;.km&quot; (to see .kml and .kmz files).  Then reload the page (or make the code fetch the file), and you should see the request and whether it correctly fetches the file or not."}],"owner":{"account_id":8970376,"reputation":13,"user_id":6689110,"display_name":"mmm"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":231,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1653094530,"creation_date":1653094530,"question_id":72325923,"body_markdown":"I tried implementing KML in Google Maps fragment following official documentation (https://developers.google.com/maps/documentation/android-sdk/utility/kml) but it didn&#39;t work. There are no errors, map opens but no KML overlay. I know how to load KML from a local file (stored in raw folder), but I&#39;m trying to do the same through URL leading to KML file (stored on GitHub Gist).\r\n\r\nHere&#39;s the code:\r\n\r\n    public void onMapReady(GoogleMap googleMap) {\r\n        mMap = googleMap;\r\n        try {\r\n            InputStream inputStream = new URL(&quot;https://gist.githubusercontent.com/...route.kml&quot;).openStream();\r\n            KmlLayer layer = new KmlLayer(mMap, inputStream, getApplicationContext());\r\n            layer.addLayerToMap();\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n    }","title":"Loading KML file onto Google Map","body":"<p>I tried implementing KML in Google Maps fragment following official documentation (<a href=\"https://developers.google.com/maps/documentation/android-sdk/utility/kml\" rel=\"nofollow noreferrer\">https://developers.google.com/maps/documentation/android-sdk/utility/kml</a>) but it didn't work. There are no errors, map opens but no KML overlay. I know how to load KML from a local file (stored in raw folder), but I'm trying to do the same through URL leading to KML file (stored on GitHub Gist).</p>\n<p>Here's the code:</p>\n<pre><code>public void onMapReady(GoogleMap googleMap) {\n    mMap = googleMap;\n    try {\n        InputStream inputStream = new URL(&quot;https://gist.githubusercontent.com/...route.kml&quot;).openStream();\n        KmlLayer layer = new KmlLayer(mMap, inputStream, getApplicationContext());\n        layer.addLayerToMap();\n    } catch (Exception e) {\n        e.printStackTrace();\n    }\n}\n</code></pre>\n"},{"tags":["java","android","cordova","apk","cordova-plugins"],"answers":[{"tags":[],"owner":{"account_id":2226493,"reputation":452,"user_id":1965121,"accept_rate":75,"display_name":"oxxi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1653094486,"creation_date":1653094486,"answer_id":72325921,"question_id":72312947,"body_markdown":"I fixed the issue by adding the following to AndroidManifest.xml in the `&lt;activity&gt;`\r\n`android:theme=&quot;@style/Theme.AppCompat.DayNight.NoActionBar&quot;`\r\n","title":"Can&#39;t build apk because of Cordova plugin that seems to overwrite Theme.AppCompat","body":"<p>I fixed the issue by adding the following to AndroidManifest.xml in the <code>&lt;activity&gt;</code>\n<code>android:theme=&quot;@style/Theme.AppCompat.DayNight.NoActionBar&quot;</code></p>\n"}],"owner":{"account_id":2226493,"reputation":452,"user_id":1965121,"accept_rate":75,"display_name":"oxxi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":312,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1653094486,"creation_date":1653013698,"question_id":72312947,"body_markdown":"I&#39;m having an issue with a plugin called cordova-plugin-kiosk. I did not have this issue before but I&#39;m unable to build the apk successfully or the app crashes in the emulator. It seems it has something to do with the following setting in the AndroidManifest.xml `android:theme=&quot;@android:style/Theme.DeviceDefault.NoActionBar&quot;`. I&#39;m not sure what to replace that with and still make the plugin work. Also here is the error I get in the log:\r\n\r\n```\r\njava.lang.RuntimeException: Unable to start activity ComponentInfo{com.tablezig.v6/org.cordova.plugin.labs.kiosk.KioskActivity}: java.lang.IllegalStateException: You need to use a Theme.AppCompat theme (or descendant) with this activity.\r\n```","title":"Can&#39;t build apk because of Cordova plugin that seems to overwrite Theme.AppCompat","body":"<p>I'm having an issue with a plugin called cordova-plugin-kiosk. I did not have this issue before but I'm unable to build the apk successfully or the app crashes in the emulator. It seems it has something to do with the following setting in the AndroidManifest.xml <code>android:theme=&quot;@android:style/Theme.DeviceDefault.NoActionBar&quot;</code>. I'm not sure what to replace that with and still make the plugin work. Also here is the error I get in the log:</p>\n<pre><code>java.lang.RuntimeException: Unable to start activity ComponentInfo{com.tablezig.v6/org.cordova.plugin.labs.kiosk.KioskActivity}: java.lang.IllegalStateException: You need to use a Theme.AppCompat theme (or descendant) with this activity.\n</code></pre>\n"},{"tags":["java","php","android","mysql","server"],"answers":[{"tags":[],"owner":{"account_id":24427735,"reputation":784,"user_id":18353089,"display_name":"Titus"},"down_vote_count":1,"up_vote_count":1,"is_accepted":true,"score":0,"last_activity_date":1653075710,"creation_date":1653073433,"answer_id":72323738,"question_id":72323669,"body_markdown":"Please use `$_FILES` instead of `$_POST`\r\n\r\nif you upload a file, you never get a `$_POST` response, only `$_FILES` hold the variables you are searching for.","title":"File uploading with php: problem with $_POST[&#39;filename&#39;]","body":"<p>Please use <code>$_FILES</code> instead of <code>$_POST</code></p>\n<p>if you upload a file, you never get a <code>$_POST</code> response, only <code>$_FILES</code> hold the variables you are searching for.</p>\n"}],"owner":{"account_id":169667,"reputation":14696,"user_id":395869,"accept_rate":51,"display_name":"toto_tata"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72323738,"answer_count":1,"score":0,"last_activity_date":1653094237,"creation_date":1653073048,"question_id":72323669,"body_markdown":"I want to upload files from my Android app to my php server (through a https upload URL)\r\n\r\nHere is my php code :\r\n\r\n    $path = &quot;../uploads&quot;;\r\n            \r\n            if (!file_exists($path)) {\r\n                mkdir($path, 0777, true);\r\n            }\r\n    \r\n     $filePath = $path.&quot;/&quot;.$_POST[&#39;filename&#39;];\r\n    \r\n    move_uploaded_file($_FILES[&#39;uploaded_file&#39;][&#39;tmp_name&#39;], $filePath)\r\n\r\n\r\nThe content of `$_FILES[&#39;uploaded_file&#39;]` is:\r\n\r\n    {&quot;name&quot;:&quot;scan.gltf&quot;,&quot;type&quot;:&quot;&quot;,&quot;tmp_name&quot;:&quot;\\/srv\\/data\\/tmp\\/phpmEM42e&quot;,&quot;error&quot;:0,&quot;size&quot;:5071}\r\n\r\nSo everything seems ok as I get the name of my file and its correct size.\r\n\r\nBut when I log `$_POST[&#39;filename&#39;]`, I get a null string.\r\n\r\nHow is that possible ? How to solve the problem ?\r\n\r\n\r\n&lt;hr&gt;\r\n\r\nHere below my Java code from my Android app but I don&#39;t think that the problem comes from there (perhaps I am wrong..):\r\n\r\n    FileInputStream fileInputStream = new FileInputStream(sourceFile);\r\n    URL url = new URL(urlString);\r\n    // Open a HTTP  connection to  the URL\r\n    // TODO HttpURLConnection or HttpsURLConnection ???\r\n    conn = (HttpURLConnection) url.openConnection();  \r\n    conn.setDoInput(true); // Allow Inputs\r\n    conn.setDoOutput(true); // Allow Outputs\r\n    conn.setUseCaches(false); // Don&#39;t use a Cached Copy\r\n    conn.setRequestMethod(&quot;POST&quot;);\r\n    conn.setRequestProperty(&quot;Connection&quot;, &quot;Keep-Alive&quot;);\r\n    conn.setRequestProperty(&quot;ENCTYPE&quot;, &quot;multipart/form-data&quot;);\r\n    // TODO Space or no space before &#39;boundary=&#39; ?\r\n    conn.setRequestProperty(&quot;Content-Type&quot;, &quot;multipart/form-data; boundary=&quot; + boundary);\r\n    conn.setRequestProperty(&quot;uploaded_file&quot;, fileUrl); \r\n    dos = new DataOutputStream(conn.getOutputStream());\r\n    dos.writeBytes(twoHyphens + boundary + lineEnd);\r\n    // TODO Space or no space before &#39;filename=&#39; ?\r\n    dos.writeBytes(&quot;Content-Disposition: form-data; name=\\&quot;uploaded_file\\&quot;; filename=\\&quot;&quot; + fileUrl + &quot;\\&quot;&quot; + lineEnd); \r\n    dos.writeBytes(lineEnd);\r\n    // create a buffer of  maximum size\r\n    bytesAvailable = fileInputStream.available();\r\n    bufferSize = Math.min(bytesAvailable, maxBufferSize);\r\n    buffer = new byte[bufferSize];\r\n    // read file and write it into form...\r\n    bytesRead = fileInputStream.read(buffer, 0, bufferSize);\r\n                    \r\n    while (bytesRead &gt; 0) {\r\n    dos.write(buffer, 0, bufferSize);\r\n    bytesAvailable = fileInputStream.available();\r\n    bufferSize = Math.min(bytesAvailable, maxBufferSize);\r\n    bytesRead = fileInputStream.read(buffer, 0, bufferSize);\r\n    }\r\n                    \r\n    // send multipart form data necessary after file data...\r\n    dos.writeBytes(lineEnd);\r\n    dos.writeBytes(twoHyphens + boundary + twoHyphens + lineEnd);\r\n                    \r\n    // Responses from the server (code and message)\r\n    int serverResponseCode = conn.getResponseCode();\r\n    String serverResponseMessage = conn.getResponseMessage();","title":"File uploading with php: problem with $_POST[&#39;filename&#39;]","body":"<p>I want to upload files from my Android app to my php server (through a https upload URL)</p>\n<p>Here is my php code :</p>\n<pre><code>$path = &quot;../uploads&quot;;\n        \n        if (!file_exists($path)) {\n            mkdir($path, 0777, true);\n        }\n\n $filePath = $path.&quot;/&quot;.$_POST['filename'];\n\nmove_uploaded_file($_FILES['uploaded_file']['tmp_name'], $filePath)\n</code></pre>\n<p>The content of <code>$_FILES['uploaded_file']</code> is:</p>\n<pre><code>{&quot;name&quot;:&quot;scan.gltf&quot;,&quot;type&quot;:&quot;&quot;,&quot;tmp_name&quot;:&quot;\\/srv\\/data\\/tmp\\/phpmEM42e&quot;,&quot;error&quot;:0,&quot;size&quot;:5071}\n</code></pre>\n<p>So everything seems ok as I get the name of my file and its correct size.</p>\n<p>But when I log <code>$_POST['filename']</code>, I get a null string.</p>\n<p>How is that possible ? How to solve the problem ?</p>\n<hr>\n<p>Here below my Java code from my Android app but I don't think that the problem comes from there (perhaps I am wrong..):</p>\n<pre><code>FileInputStream fileInputStream = new FileInputStream(sourceFile);\nURL url = new URL(urlString);\n// Open a HTTP  connection to  the URL\n// TODO HttpURLConnection or HttpsURLConnection ???\nconn = (HttpURLConnection) url.openConnection();  \nconn.setDoInput(true); // Allow Inputs\nconn.setDoOutput(true); // Allow Outputs\nconn.setUseCaches(false); // Don't use a Cached Copy\nconn.setRequestMethod(&quot;POST&quot;);\nconn.setRequestProperty(&quot;Connection&quot;, &quot;Keep-Alive&quot;);\nconn.setRequestProperty(&quot;ENCTYPE&quot;, &quot;multipart/form-data&quot;);\n// TODO Space or no space before 'boundary=' ?\nconn.setRequestProperty(&quot;Content-Type&quot;, &quot;multipart/form-data; boundary=&quot; + boundary);\nconn.setRequestProperty(&quot;uploaded_file&quot;, fileUrl); \ndos = new DataOutputStream(conn.getOutputStream());\ndos.writeBytes(twoHyphens + boundary + lineEnd);\n// TODO Space or no space before 'filename=' ?\ndos.writeBytes(&quot;Content-Disposition: form-data; name=\\&quot;uploaded_file\\&quot;; filename=\\&quot;&quot; + fileUrl + &quot;\\&quot;&quot; + lineEnd); \ndos.writeBytes(lineEnd);\n// create a buffer of  maximum size\nbytesAvailable = fileInputStream.available();\nbufferSize = Math.min(bytesAvailable, maxBufferSize);\nbuffer = new byte[bufferSize];\n// read file and write it into form...\nbytesRead = fileInputStream.read(buffer, 0, bufferSize);\n                \nwhile (bytesRead &gt; 0) {\ndos.write(buffer, 0, bufferSize);\nbytesAvailable = fileInputStream.available();\nbufferSize = Math.min(bytesAvailable, maxBufferSize);\nbytesRead = fileInputStream.read(buffer, 0, bufferSize);\n}\n                \n// send multipart form data necessary after file data...\ndos.writeBytes(lineEnd);\ndos.writeBytes(twoHyphens + boundary + twoHyphens + lineEnd);\n                \n// Responses from the server (code and message)\nint serverResponseCode = conn.getResponseCode();\nString serverResponseMessage = conn.getResponseMessage();\n</code></pre>\n"},{"tags":["java","visual-studio-code"],"comments":[{"owner":{"account_id":12743722,"reputation":19956,"user_id":12567365,"display_name":"andrewJames"},"score":2,"creation_date":1653093109,"post_id":72325695,"comment_id":127774586,"body_markdown":"That looks like an inlay hint - in which case try Settings &gt; Editor &gt; inlay Hints. You should see an &quot;Enable/Disable&quot; option. It&#39;s enabled by default.","body":"That looks like an inlay hint - in which case try Settings &gt; Editor &gt; inlay Hints. You should see an &quot;Enable/Disable&quot; option. It&#39;s enabled by default."},{"owner":{"account_id":12743722,"reputation":19956,"user_id":12567365,"display_name":"andrewJames"},"score":2,"creation_date":1653093225,"post_id":72325695,"comment_id":127774601,"body_markdown":"See potential duplicate [Does anybody know the name of this setting inside of VS Code...?](https://stackoverflow.com/q/68720113/12567365)","body":"See potential duplicate <a href=\"https://stackoverflow.com/q/68720113/12567365\">Does anybody know the name of this setting inside of VS Code...?</a>"}],"answers":[{"tags":[],"owner":{"account_id":2392155,"reputation":2372,"user_id":2091803,"accept_rate":86,"display_name":"Abdullah Leghari"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1653093915,"creation_date":1653093915,"answer_id":72325891,"question_id":72325695,"body_markdown":"Well, that text is called **Inlay hints** or **Inline hints**. More specifically **inline parameter hints**.\r\n\r\nIn the case of Java it will be the same as the parameter **&#39;name&#39;** specified in Javadocs for the given function.\r\n\r\nAs shown below,\r\n[![enter image description here][1]][1]\r\n\r\n\r\nYou are seeing this most likely because you have one of **Inline Parameters** plugins installed and enabled.\r\n\r\nYou need to go to the settings -&gt; **Search inline** -&gt; Extensions - Java -&gt; And set the value to disabled/none.\r\n\r\n[![enter image description here][2]][2] \r\n\r\n\r\nAlternatively, you can also disable the inline extension, or uncheck the Java language from the installed extension, like below,\r\n[![enter image description here][3]][3]\r\n\r\n\r\nOnce disabled your code should appear without inline parameter hints.\r\n\r\n[![enter image description here][4]][4]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/G8fEM.png\r\n  [2]: https://i.stack.imgur.com/0IimU.png\r\n  [3]: https://i.stack.imgur.com/5wnM7.png\r\n  [4]: https://i.stack.imgur.com/LRQka.png","title":"How to disable Inline hints on VSCode? (Java)","body":"<p>Well, that text is called <strong>Inlay hints</strong> or <strong>Inline hints</strong>. More specifically <strong>inline parameter hints</strong>.</p>\n<p>In the case of Java it will be the same as the parameter <strong>'name'</strong> specified in Javadocs for the given function.</p>\n<p>As shown below,\n<a href=\"https://i.stack.imgur.com/G8fEM.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/G8fEM.png\" alt=\"enter image description here\" /></a></p>\n<p>You are seeing this most likely because you have one of <strong>Inline Parameters</strong> plugins installed and enabled.</p>\n<p>You need to go to the settings -&gt; <strong>Search inline</strong> -&gt; Extensions - Java -&gt; And set the value to disabled/none.</p>\n<p><a href=\"https://i.stack.imgur.com/0IimU.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/0IimU.png\" alt=\"enter image description here\" /></a></p>\n<p>Alternatively, you can also disable the inline extension, or uncheck the Java language from the installed extension, like below,\n<a href=\"https://i.stack.imgur.com/5wnM7.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/5wnM7.png\" alt=\"enter image description here\" /></a></p>\n<p>Once disabled your code should appear without inline parameter hints.</p>\n<p><a href=\"https://i.stack.imgur.com/LRQka.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/LRQka.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":16639011,"reputation":63,"user_id":12025021,"display_name":"BitCrusher"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4075,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"closed_date":1653094755,"accepted_answer_id":72325891,"answer_count":1,"score":2,"last_activity_date":1653094021,"creation_date":1653090671,"question_id":72325695,"body_markdown":"I would like to disable this pop-up helper thing on my editor. How do I do that?\r\nThere is a weird &quot;next&quot; thing beside my null.\r\nThanks.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/9ftQT.png","title":"How to disable Inline hints on VSCode? (Java)","body":"<p>I would like to disable this pop-up helper thing on my editor. How do I do that?\nThere is a weird &quot;next&quot; thing beside my null.\nThanks.</p>\n<p><a href=\"https://i.stack.imgur.com/9ftQT.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/9ftQT.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","spring-boot","jpa"],"comments":[{"owner":{"account_id":1212711,"reputation":2020,"user_id":1180963,"accept_rate":75,"display_name":"eduyayo"},"score":0,"creation_date":1652868884,"post_id":72287093,"comment_id":127709103,"body_markdown":"you have some alternatives here with custom entity bean and constructor expressions https://stackoverflow.com/questions/49500309/spring-jpa-native-query-with-projection-gives-converternotfoundexception","body":"you have some alternatives here with custom entity bean and constructor expressions <a href=\"https://stackoverflow.com/questions/49500309/spring-jpa-native-query-with-projection-gives-converternotfoundexception\" title=\"spring jpa native query with projection gives converternotfoundexception\">stackoverflow.com/questions/49500309/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":4741976,"reputation":5385,"user_id":3834413,"display_name":"Eugene"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1653093850,"creation_date":1652917360,"answer_id":72297115,"question_id":72287093,"body_markdown":"1. Define your query like [@NamedNativeQuery][1] with result set mapping [@SqlResultSetMapping][2]. It specifies the mapping of the result of a native SQL query or stored procedure. Also [@ConstructorResult][3] should be used in context of `@SqlResultSetMapping` for mapping result into not entity POJO object \r\n```java\r\n@Entity\r\n@Data\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\n@NamedNativeQuery(name =&quot;Category&quot;, \r\n                  query =\r\n                         &quot;SELECT p.m_category&quot; +\r\n                         &quot;FROM privatenote as p &quot; +\r\n                         &quot;WHERE p.userId = :userId AND p.sharing = :sharing &quot; +\r\n                         &quot;GROUP BY p.m_category&quot;, \r\n                   resultSetMapping = &quot;CategoryMapping&quot;\r\n)\r\n@SqlResultSetMapping(name=&quot;CategoryMapping&quot;,\r\n        classes = {\r\n                @ConstructorResult(targetClass = MCateogry.class,\r\n                        columns = {@ColumnResult(name = &quot;m_category&quot;)\r\n                 })\r\n})\r\npublic class PrivateNote {\r\n    ...\r\n}\r\n```\r\n2. Use defined named query `&#39;Category&#39;` in your repository\r\n```java\r\n@Repository\r\npublic interface PrivateNoteRepository extends JpaRepository&lt;PrivateNote, Long&gt; {\r\n\r\n    @Query(name = &quot;Category&quot;, nativeQuery = true)\r\n    List&lt;MCateogry&gt; findGroupBymCategory(@Param(&quot;userId&quot;) Long userId, @Param(&quot;sharing&quot;) boolean sharing);\r\n\r\n}\r\n```\r\n\r\n  [1]: https://docs.oracle.com/javaee/7/api/javax/persistence/NamedNativeQuery.html\r\n  [2]: https://docs.oracle.com/javaee/7/api/javax/persistence/SqlResultSetMapping.html\r\n  [3]: https://docs.oracle.com/javaee/7/api/javax/persistence/ConstructorResult.html","title":"How to fix convertion error in Nativequery in Spring-boot","body":"<ol>\n<li>Define your query like <a href=\"https://docs.oracle.com/javaee/7/api/javax/persistence/NamedNativeQuery.html\" rel=\"nofollow noreferrer\">@NamedNativeQuery</a> with result set mapping <a href=\"https://docs.oracle.com/javaee/7/api/javax/persistence/SqlResultSetMapping.html\" rel=\"nofollow noreferrer\">@SqlResultSetMapping</a>. It specifies the mapping of the result of a native SQL query or stored procedure. Also <a href=\"https://docs.oracle.com/javaee/7/api/javax/persistence/ConstructorResult.html\" rel=\"nofollow noreferrer\">@ConstructorResult</a> should be used in context of <code>@SqlResultSetMapping</code> for mapping result into not entity POJO object</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\n@Data\n@NoArgsConstructor\n@AllArgsConstructor\n@NamedNativeQuery(name =&quot;Category&quot;, \n                  query =\n                         &quot;SELECT p.m_category&quot; +\n                         &quot;FROM privatenote as p &quot; +\n                         &quot;WHERE p.userId = :userId AND p.sharing = :sharing &quot; +\n                         &quot;GROUP BY p.m_category&quot;, \n                   resultSetMapping = &quot;CategoryMapping&quot;\n)\n@SqlResultSetMapping(name=&quot;CategoryMapping&quot;,\n        classes = {\n                @ConstructorResult(targetClass = MCateogry.class,\n                        columns = {@ColumnResult(name = &quot;m_category&quot;)\n                 })\n})\npublic class PrivateNote {\n    ...\n}\n</code></pre>\n<ol start=\"2\">\n<li>Use defined named query <code>'Category'</code> in your repository</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>@Repository\npublic interface PrivateNoteRepository extends JpaRepository&lt;PrivateNote, Long&gt; {\n\n    @Query(name = &quot;Category&quot;, nativeQuery = true)\n    List&lt;MCateogry&gt; findGroupBymCategory(@Param(&quot;userId&quot;) Long userId, @Param(&quot;sharing&quot;) boolean sharing);\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8766155,"reputation":91,"user_id":6554429,"display_name":"mohamed chadad"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652918681,"creation_date":1652918256,"answer_id":72297201,"question_id":72287093,"body_markdown":"I think you should check your SQL query works correctly by executing it directly.\r\n\r\nIt seems that the result of your query is a `String` (not `MCategory`) and maybe there is no need to make a `group by`\r\n\r\n\r\n    public interface NoteRepository extends JpaRepository&lt;PrivateNote, Long&gt; {\r\n\r\n        @Query(nativeQuery = true, value =\r\n                &quot;SELECT p.mCategory &quot; +\r\n                &quot;FROM privatenote as p &quot; +\r\n                &quot;WHERE p.userId = :userId AND p.sharing = :sharing &quot; +\r\n                &quot;GROUP BY p.mCategory&quot;\r\n            )\r\n        List&lt;String&gt; findGroupBymCategory(@Param(&quot;userId&quot;) Long userId, @Param(&quot;sharing&quot;) \r\n    boolean sharing);   \r\n    }\r\n\r\n","title":"How to fix convertion error in Nativequery in Spring-boot","body":"<p>I think you should check your SQL query works correctly by executing it directly.</p>\n<p>It seems that the result of your query is a <code>String</code> (not <code>MCategory</code>) and maybe there is no need to make a <code>group by</code></p>\n<pre><code>public interface NoteRepository extends JpaRepository&lt;PrivateNote, Long&gt; {\n\n    @Query(nativeQuery = true, value =\n            &quot;SELECT p.mCategory &quot; +\n            &quot;FROM privatenote as p &quot; +\n            &quot;WHERE p.userId = :userId AND p.sharing = :sharing &quot; +\n            &quot;GROUP BY p.mCategory&quot;\n        )\n    List&lt;String&gt; findGroupBymCategory(@Param(&quot;userId&quot;) Long userId, @Param(&quot;sharing&quot;) \nboolean sharing);   \n}\n</code></pre>\n"}],"owner":{"account_id":24632338,"reputation":11,"user_id":18531418,"display_name":"DaeHwan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":134,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1653093850,"creation_date":1652868272,"question_id":72287093,"body_markdown":"I wrote this query as a negative query and asked the database for a select statement, \r\nbut I did not receive data to the List&amp;lt;MCategory&amp;gt;\r\n\r\n```\r\npublic interface NoteRepository extends JpaRepository&lt;PrivateNote, Long&gt; {\r\n\r\n\t@Query(nativeQuery = true, value =\r\n\t        &quot;SELECT p.mCategory &quot; +\r\n\t        &quot;FROM privatenote as p &quot; +\r\n\t        &quot;WHERE p.userId = :userId AND p.sharing = :sharing &quot; +\r\n\t        &quot;GROUP BY p.mCategory&quot;\r\n\t    )\r\n\tList&lt;MCateogry&gt; findGroupBymCategory(@Param(&quot;userId&quot;) Long userId, @Param(&quot;sharing&quot;) \r\n    boolean sharing);\t\r\n\r\n}\r\n```\r\n\r\n**The following error occurred**\r\n\r\norg.springframework.core.convert.ConverterNotFoundException: No converter found capable of converting from type [org.springframework.data.jpa.repository.query.AbstractJpaQuery$TupleConverter$TupleBackedMap] to type [com.daehwan.notebook.model.PrivateNote]\r\n\r\n**Here are the entities**\r\n```\r\n@Data\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\npublic class MCategory{\r\n\t\r\n\tprivate String mCategory;\t\r\n\t\r\n}\r\n```\r\n\r\n```\r\n@Entity\r\n@Data\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\npublic class PrivateNote {\r\n\t\r\n\t@Id\r\n\t@GeneratedValue(strategy = GenerationType.IDENTITY)\r\n\tprivate Long id;\r\n\t\r\n\t@Column(nullable = false, length = 100)\r\n\tprivate String title;\r\n\t\r\n\t@JsonProperty(&quot;m_category&quot;)\r\n\t@Column(nullable = false, length = 30)\r\n\tprivate String mCategory;\r\n\t\r\n\t@JsonProperty(&quot;s_category&quot;)\r\n\t@Column(nullable = false, length = 30)\r\n\tprivate String sCategory;\r\n\t\r\n\t@Lob\r\n\tprivate String content;\r\n\t\r\n\t@Column(nullable = false)\r\n\tprivate boolean sharing;\r\n\t\r\n\t@ManyToOne(fetch = FetchType.EAGER)\r\n\t@JoinColumn(name = &quot;userId&quot;)\r\n\tprivate User user;\r\n\t\r\n\t@CreationTimestamp\r\n\tprivate Timestamp createDate;\r\n\t\r\n\tprivate Timestamp updateDate;\r\n}\r\n```\r\n\r\nHow do I change to receive the data?","title":"How to fix convertion error in Nativequery in Spring-boot","body":"<p>I wrote this query as a negative query and asked the database for a select statement,\nbut I did not receive data to the List&lt;MCategory&gt;</p>\n<pre><code>public interface NoteRepository extends JpaRepository&lt;PrivateNote, Long&gt; {\n\n    @Query(nativeQuery = true, value =\n            &quot;SELECT p.mCategory &quot; +\n            &quot;FROM privatenote as p &quot; +\n            &quot;WHERE p.userId = :userId AND p.sharing = :sharing &quot; +\n            &quot;GROUP BY p.mCategory&quot;\n        )\n    List&lt;MCateogry&gt; findGroupBymCategory(@Param(&quot;userId&quot;) Long userId, @Param(&quot;sharing&quot;) \n    boolean sharing);   \n\n}\n</code></pre>\n<p><strong>The following error occurred</strong></p>\n<p>org.springframework.core.convert.ConverterNotFoundException: No converter found capable of converting from type [org.springframework.data.jpa.repository.query.AbstractJpaQuery$TupleConverter$TupleBackedMap] to type [com.daehwan.notebook.model.PrivateNote]</p>\n<p><strong>Here are the entities</strong></p>\n<pre><code>@Data\n@NoArgsConstructor\n@AllArgsConstructor\npublic class MCategory{\n    \n    private String mCategory;   \n    \n}\n</code></pre>\n<pre><code>@Entity\n@Data\n@NoArgsConstructor\n@AllArgsConstructor\npublic class PrivateNote {\n    \n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n    \n    @Column(nullable = false, length = 100)\n    private String title;\n    \n    @JsonProperty(&quot;m_category&quot;)\n    @Column(nullable = false, length = 30)\n    private String mCategory;\n    \n    @JsonProperty(&quot;s_category&quot;)\n    @Column(nullable = false, length = 30)\n    private String sCategory;\n    \n    @Lob\n    private String content;\n    \n    @Column(nullable = false)\n    private boolean sharing;\n    \n    @ManyToOne(fetch = FetchType.EAGER)\n    @JoinColumn(name = &quot;userId&quot;)\n    private User user;\n    \n    @CreationTimestamp\n    private Timestamp createDate;\n    \n    private Timestamp updateDate;\n}\n</code></pre>\n<p>How do I change to receive the data?</p>\n"},{"tags":["java","sql","spring","hibernate","jpa"],"answers":[{"tags":[],"owner":{"account_id":4741976,"reputation":5385,"user_id":3834413,"display_name":"Eugene"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653093757,"creation_date":1653091165,"answer_id":72325728,"question_id":72308092,"body_markdown":"You are returning the `Book` entity so you need to select all fields for that entity. You can&#39;t return a partially filled entity, because JPA does not support partial entity population from native queries.\r\n&lt;br&gt;According to [JPA specification][1]:\r\n\r\n&gt; 3.10.16.1 Returning Managed Entities from Native Queries\r\n&gt; \r\n&gt; &lt;br&gt;When an entity is to be returned from a native query, the SQL\r\n&gt; statement should select all of the columns that are mapped to the\r\n&gt; entity object. This should include foreign key columns to related\r\n&gt; entities. The results obtained when insufficient data is available are\r\n&gt; undefined\r\n\r\n**Example of correct query:**\r\n```java\r\n@Repository\r\npublic interface BookRepository  extends CrudRepository&lt;Book,Long&gt; {\r\n    @Query(value = &quot;SELECT b.* FROM books b INNER JOIN rented_books rb ON rb.book_id = b.id INNER JOIN users u ON u.id = rb.reader_id WHERE u.id = ?1&quot;, nativeQuery = true)\r\n    Page&lt;Book&gt; findAllRentedBookByUser(Long id, Pageable pageable);\r\n}\r\n```\r\n\r\nIn case you want to return a custom column set you need to create an additional simple POJO class and define a mapping for it.\r\n&lt;br&gt;Example: https://stackoverflow.com/questions/72287093/how-to-fix-convertion-error-in-nativequery-in-spring-boot/72297115#72297115\r\n\r\n**1. Create a custom POJO class**\r\n```java\r\nimport java.util.Date;\r\n\r\npublic class BookDetails {\r\n   private String title;\r\n   private Date start_date;\r\n   private Date expiration_date;\r\n\r\n   public BookDetails(String title, Date start_date, Date expiration_date) {\r\n        this.title = title;\r\n        this.start_date = start_date;\r\n        this.expiration_date = expiration_date;\r\n    }\r\n\r\n    public String getTitle() {\r\n        return this.title;\r\n    }\r\n\r\n    public Date getStart_date() {\r\n        return this.start_date;\r\n    }\r\n\r\n    public Date getExpiration_date() {\r\n        return this.expiration_date;\r\n    }\r\n\r\n    public void setTitle(String title) {\r\n        this.title = title;\r\n    }\r\n\r\n    public void setStart_date(Date start_date) {\r\n        this.start_date = start_date;\r\n    }\r\n\r\n    public void setExpiration_date(Date expiration_date) {\r\n        this.expiration_date = expiration_date;\r\n    }\r\n}\r\n```\r\n**2. Define @NamedNativeQuery and mapping for POJO class**\r\n```java\r\nimport javax.persistence.*;\r\nimport java.math.BigDecimal;\r\nimport java.util.List;\r\n\r\n@Entity\r\n@Table(name = &quot;books&quot;)\r\n@NamedNativeQuery(name =&quot;BookDetailsByUser&quot;,\r\n        query =\r\n                &quot; SELECT b.title, rb.start_date, rb.expiration_date &quot; +\r\n                &quot; FROM books b INNER JOIN rented_books rb ON rb.book_id = b.id INNER JOIN users u ON u.id = rb.reader_id &quot; +\r\n                &quot; WHERE u.id = ?1 &quot;,\r\n        resultSetMapping = &quot;BookDetailsMapping&quot;\r\n)\r\n@SqlResultSetMapping(name=&quot;BookDetailsMapping&quot;,\r\n        classes = {\r\n                @ConstructorResult(targetClass = BookDetails.class,\r\n                        columns = {@ColumnResult(name = &quot;title&quot;),\r\n                                   @ColumnResult(name = &quot;start_date&quot;),\r\n                                   @ColumnResult(name = &quot;expiration_date&quot;)\r\n                        })\r\n        })\r\npublic class Book {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    @Column(name = &quot;id&quot;)\r\n    private Long id;\r\n\r\n    @Column(name = &quot;title&quot;)\r\n    private String title;\r\n\r\n    @Column(name = &quot;publishing_year&quot;)\r\n    private Integer publishingYear;\r\n\r\n    @Column(name = &quot;sell_cost&quot;)\r\n    private BigDecimal sellCost;\r\n\r\n    @Column(name = &quot;rent_cost&quot;)\r\n    private BigDecimal rentCost;\r\n\r\n    @Column(name = &quot;amount&quot;)\r\n    private Integer amount;\r\n\r\n//=======Relationships=======\r\n\r\n    @ManyToMany(cascade = {CascadeType.DETACH,CascadeType.MERGE,CascadeType.PERSIST,CascadeType.REFRESH,CascadeType.REMOVE})\r\n    @JoinTable(name = &quot;rented_books&quot;,\r\n            joinColumns = @JoinColumn(name = &quot;book_id&quot;),\r\n            inverseJoinColumns = @JoinColumn(name = &quot;reader_id&quot;))\r\n    private List&lt;User&gt; usersRented;\r\n}\r\n```\r\n**3. Use named query in repository**\r\n```java\r\n@Repository\r\npublic interface BookRepository  extends CrudRepository&lt;Book,Long&gt; {\r\n    @Query(name = &quot;BookDetailsByUser&quot;, nativeQuery = true)\r\n    Page&lt;BookDetails&gt; findBookDetailsByUser(Long id, Pageable pageable);\r\n}\r\n```\r\n\r\n  [1]: https://download.oracle.com/otn-pub/jcp/persistence-2_1-fr-eval-spec/JavaPersistence.pdf?AuthParam=1653090384_518f973a15bea3b9b4f83107b6d213a1\r\n\r\n\r\n\r\n","title":"How to take data from crosstabs from Database related ManyToMany relationship using Spring Boot / Thymeleaf","body":"<p>You are returning the <code>Book</code> entity so you need to select all fields for that entity. You can't return a partially filled entity, because JPA does not support partial entity population from native queries.\n<br>According to <a href=\"https://download.oracle.com/otn-pub/jcp/persistence-2_1-fr-eval-spec/JavaPersistence.pdf?AuthParam=1653090384_518f973a15bea3b9b4f83107b6d213a1\" rel=\"nofollow noreferrer\">JPA specification</a>:</p>\n<blockquote>\n<p>3.10.16.1 Returning Managed Entities from Native Queries</p>\n<p><br>When an entity is to be returned from a native query, the SQL\nstatement should select all of the columns that are mapped to the\nentity object. This should include foreign key columns to related\nentities. The results obtained when insufficient data is available are\nundefined</p>\n</blockquote>\n<p><strong>Example of correct query:</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>@Repository\npublic interface BookRepository  extends CrudRepository&lt;Book,Long&gt; {\n    @Query(value = &quot;SELECT b.* FROM books b INNER JOIN rented_books rb ON rb.book_id = b.id INNER JOIN users u ON u.id = rb.reader_id WHERE u.id = ?1&quot;, nativeQuery = true)\n    Page&lt;Book&gt; findAllRentedBookByUser(Long id, Pageable pageable);\n}\n</code></pre>\n<p>In case you want to return a custom column set you need to create an additional simple POJO class and define a mapping for it.\n<br>Example: <a href=\"https://stackoverflow.com/questions/72287093/how-to-fix-convertion-error-in-nativequery-in-spring-boot/72297115#72297115\">How to fix convertion error in Nativequery in Spring-boot</a></p>\n<p><strong>1. Create a custom POJO class</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.Date;\n\npublic class BookDetails {\n   private String title;\n   private Date start_date;\n   private Date expiration_date;\n\n   public BookDetails(String title, Date start_date, Date expiration_date) {\n        this.title = title;\n        this.start_date = start_date;\n        this.expiration_date = expiration_date;\n    }\n\n    public String getTitle() {\n        return this.title;\n    }\n\n    public Date getStart_date() {\n        return this.start_date;\n    }\n\n    public Date getExpiration_date() {\n        return this.expiration_date;\n    }\n\n    public void setTitle(String title) {\n        this.title = title;\n    }\n\n    public void setStart_date(Date start_date) {\n        this.start_date = start_date;\n    }\n\n    public void setExpiration_date(Date expiration_date) {\n        this.expiration_date = expiration_date;\n    }\n}\n</code></pre>\n<p><strong>2. Define @NamedNativeQuery and mapping for POJO class</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>import javax.persistence.*;\nimport java.math.BigDecimal;\nimport java.util.List;\n\n@Entity\n@Table(name = &quot;books&quot;)\n@NamedNativeQuery(name =&quot;BookDetailsByUser&quot;,\n        query =\n                &quot; SELECT b.title, rb.start_date, rb.expiration_date &quot; +\n                &quot; FROM books b INNER JOIN rented_books rb ON rb.book_id = b.id INNER JOIN users u ON u.id = rb.reader_id &quot; +\n                &quot; WHERE u.id = ?1 &quot;,\n        resultSetMapping = &quot;BookDetailsMapping&quot;\n)\n@SqlResultSetMapping(name=&quot;BookDetailsMapping&quot;,\n        classes = {\n                @ConstructorResult(targetClass = BookDetails.class,\n                        columns = {@ColumnResult(name = &quot;title&quot;),\n                                   @ColumnResult(name = &quot;start_date&quot;),\n                                   @ColumnResult(name = &quot;expiration_date&quot;)\n                        })\n        })\npublic class Book {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = &quot;id&quot;)\n    private Long id;\n\n    @Column(name = &quot;title&quot;)\n    private String title;\n\n    @Column(name = &quot;publishing_year&quot;)\n    private Integer publishingYear;\n\n    @Column(name = &quot;sell_cost&quot;)\n    private BigDecimal sellCost;\n\n    @Column(name = &quot;rent_cost&quot;)\n    private BigDecimal rentCost;\n\n    @Column(name = &quot;amount&quot;)\n    private Integer amount;\n\n//=======Relationships=======\n\n    @ManyToMany(cascade = {CascadeType.DETACH,CascadeType.MERGE,CascadeType.PERSIST,CascadeType.REFRESH,CascadeType.REMOVE})\n    @JoinTable(name = &quot;rented_books&quot;,\n            joinColumns = @JoinColumn(name = &quot;book_id&quot;),\n            inverseJoinColumns = @JoinColumn(name = &quot;reader_id&quot;))\n    private List&lt;User&gt; usersRented;\n}\n</code></pre>\n<p><strong>3. Use named query in repository</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>@Repository\npublic interface BookRepository  extends CrudRepository&lt;Book,Long&gt; {\n    @Query(name = &quot;BookDetailsByUser&quot;, nativeQuery = true)\n    Page&lt;BookDetails&gt; findBookDetailsByUser(Long id, Pageable pageable);\n}\n</code></pre>\n"}],"owner":{"account_id":22875060,"reputation":31,"user_id":17017525,"display_name":"it_would_be_better"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":180,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1653093757,"creation_date":1652977835,"question_id":72308092,"body_markdown":"There are two tables Books and Users. They are connected by a many-to-many relationship and have a crosstab between them with columns book_id, reader_id, start date, and end date. I need to take data from this table as User.login, Books.title, start_date and end_date. How can I get data from this table if I have the following entities:\r\n\r\nBook Entity:\r\n\r\n    @Entity\r\n    @Table(name = &quot;books&quot;)\r\n    public class Book {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    @Column(name = &quot;id&quot;)\r\n    private Long id;\r\n\r\n    @Column(name = &quot;title&quot;)\r\n    private String title;\r\n\r\n    @Column(name = &quot;publishing_year&quot;)\r\n    private Integer publishingYear;\r\n\r\n    @Column(name = &quot;sell_cost&quot;)\r\n    private BigDecimal sellCost;\r\n\r\n    @Column(name = &quot;rent_cost&quot;)\r\n    private BigDecimal rentCost;\r\n\r\n    @Column(name = &quot;amount&quot;)\r\n    private Integer amount;\r\n\r\n    //=======Relationships=======\r\n\r\n    @ManyToMany(cascade = {CascadeType.DETACH,CascadeType.MERGE,CascadeType.PERSIST,CascadeType.REFRESH,CascadeType.REMOVE})\r\n    @JoinTable(name = &quot;rented_books&quot;,\r\n    joinColumns = @JoinColumn(name = &quot;book_id&quot;),\r\n    inverseJoinColumns = @JoinColumn(name = &quot;reader_id&quot;))\r\n    private List&lt;User&gt; usersRented;\r\n    }\r\n\r\nUser Entity:\r\n\r\n    @Entity\r\n    @Table(name = &quot;users&quot;)\r\n    public class User {\r\n\r\n    @Id\r\n    @Column(name = &quot;id&quot;)\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    private Long id;\r\n\r\n    @Column(name = &quot;username&quot;)\r\n    private String login;\r\n\r\n    @Column(name = &quot;password&quot;)\r\n    private String password;\r\n\r\n    @Column(name = &quot;name&quot;)\r\n    private String name;\r\n\r\n    @Column(name = &quot;surname&quot;)\r\n    private String surname;\r\n\r\n    @Column(name = &quot;wallet&quot;)\r\n    private Integer wallet;\r\n\r\n    @Column(name = &quot;enabled&quot;)\r\n    private boolean enabled;\r\n\r\n    //=======Relationships=======\r\n\r\n    @ManyToMany(mappedBy = &quot;usersRented&quot;)\r\n    private List&lt;Book&gt; rentedBooks;\r\n\r\nBook Repository\r\n\r\n    @Repository\r\n    public interface BookRepository  extends CrudRepository&lt;Book,Long&gt; {\r\n\r\n    @Query(value = &quot;SELECT b.title,rb.start_date,rb.expiration_date FROM books b INNER JOIN rented_books rb ON rb.book_id = b.id INNER JOIN users u ON u.id = rb.reader_id WHERE u.id = ?1&quot;,nativeQuery = true)\r\n    Page&lt;Book&gt; findAllRentedBookByUser(Long id, Pageable pageable);\r\n}\r\n\r\nBut this query doesn&#39;t work, throws this error:\r\n\r\n&gt; java.sql.SQLException: Column &#39;id&#39; not found.\r\n\r\nAlthough in DBMS this query works fine","title":"How to take data from crosstabs from Database related ManyToMany relationship using Spring Boot / Thymeleaf","body":"<p>There are two tables Books and Users. They are connected by a many-to-many relationship and have a crosstab between them with columns book_id, reader_id, start date, and end date. I need to take data from this table as User.login, Books.title, start_date and end_date. How can I get data from this table if I have the following entities:</p>\n<p>Book Entity:</p>\n<pre><code>@Entity\n@Table(name = &quot;books&quot;)\npublic class Book {\n\n@Id\n@GeneratedValue(strategy = GenerationType.IDENTITY)\n@Column(name = &quot;id&quot;)\nprivate Long id;\n\n@Column(name = &quot;title&quot;)\nprivate String title;\n\n@Column(name = &quot;publishing_year&quot;)\nprivate Integer publishingYear;\n\n@Column(name = &quot;sell_cost&quot;)\nprivate BigDecimal sellCost;\n\n@Column(name = &quot;rent_cost&quot;)\nprivate BigDecimal rentCost;\n\n@Column(name = &quot;amount&quot;)\nprivate Integer amount;\n\n//=======Relationships=======\n\n@ManyToMany(cascade = {CascadeType.DETACH,CascadeType.MERGE,CascadeType.PERSIST,CascadeType.REFRESH,CascadeType.REMOVE})\n@JoinTable(name = &quot;rented_books&quot;,\njoinColumns = @JoinColumn(name = &quot;book_id&quot;),\ninverseJoinColumns = @JoinColumn(name = &quot;reader_id&quot;))\nprivate List&lt;User&gt; usersRented;\n}\n</code></pre>\n<p>User Entity:</p>\n<pre><code>@Entity\n@Table(name = &quot;users&quot;)\npublic class User {\n\n@Id\n@Column(name = &quot;id&quot;)\n@GeneratedValue(strategy = GenerationType.AUTO)\nprivate Long id;\n\n@Column(name = &quot;username&quot;)\nprivate String login;\n\n@Column(name = &quot;password&quot;)\nprivate String password;\n\n@Column(name = &quot;name&quot;)\nprivate String name;\n\n@Column(name = &quot;surname&quot;)\nprivate String surname;\n\n@Column(name = &quot;wallet&quot;)\nprivate Integer wallet;\n\n@Column(name = &quot;enabled&quot;)\nprivate boolean enabled;\n\n//=======Relationships=======\n\n@ManyToMany(mappedBy = &quot;usersRented&quot;)\nprivate List&lt;Book&gt; rentedBooks;\n</code></pre>\n<p>Book Repository</p>\n<pre><code>@Repository\npublic interface BookRepository  extends CrudRepository&lt;Book,Long&gt; {\n\n@Query(value = &quot;SELECT b.title,rb.start_date,rb.expiration_date FROM books b INNER JOIN rented_books rb ON rb.book_id = b.id INNER JOIN users u ON u.id = rb.reader_id WHERE u.id = ?1&quot;,nativeQuery = true)\nPage&lt;Book&gt; findAllRentedBookByUser(Long id, Pageable pageable);\n</code></pre>\n<p>}</p>\n<p>But this query doesn't work, throws this error:</p>\n<blockquote>\n<p>java.sql.SQLException: Column 'id' not found.</p>\n</blockquote>\n<p>Although in DBMS this query works fine</p>\n"},{"tags":["java","queue"],"comments":[{"owner":{"account_id":20787812,"reputation":113,"user_id":15266668,"display_name":"Jens van Groeningen"},"score":0,"creation_date":1624955464,"post_id":68175087,"comment_id":120491900,"body_markdown":"Using the contains method","body":"Using the contains method"},{"owner":{"account_id":2933712,"reputation":6419,"user_id":2513200,"accept_rate":83,"display_name":"Hulk"},"score":0,"creation_date":1624956736,"post_id":68175087,"comment_id":120492418,"body_markdown":"Alternatively, you could use a `LinkedHashMap` instead, if you need to perform the check very often and the queue can be large.","body":"Alternatively, you could use a <code>LinkedHashMap</code> instead, if you need to perform the check very often and the queue can be large."}],"answers":[{"tags":[],"owner":{"account_id":14707994,"reputation":162,"user_id":10622099,"display_name":"DaniyalVaghar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1624957293,"creation_date":1624956670,"answer_id":68175473,"question_id":68175087,"body_markdown":"you can use [`contains(Object o)`](https://docs.oracle.com/en/java/javase/16/docs/api/java.base/java/util/LinkedList.html#contains(java.lang.Object)) method\r\n\r\n\r\ncontains description:\r\n\r\n&gt; Returns true if this list contains the specified element. More\r\n&gt; formally, returns true if and only if this list contains at least one\r\n&gt; element e such that (o==null&#160;?&#160;e==null&#160;:&#160;o.equals(e)). \r\n&gt; [...]\r\n&gt; \r\n&gt; Parameters: o –\r\n&gt; element whose presence in this list is to be tested \r\n&gt; \r\n&gt; Returns: true if\r\n&gt; this list contains the specified element","title":"How do I check if an element exists in a queue ( LinkedList ) before adding it?","body":"<p>you can use <a href=\"https://docs.oracle.com/en/java/javase/16/docs/api/java.base/java/util/LinkedList.html#contains(java.lang.Object)\" rel=\"nofollow noreferrer\"><code>contains(Object o)</code></a> method</p>\n<p>contains description:</p>\n<blockquote>\n<p>Returns true if this list contains the specified element. More\nformally, returns true if and only if this list contains at least one\nelement e such that (o==null ? e==null : o.equals(e)).\n[...]</p>\n<p>Parameters: o –\nelement whose presence in this list is to be tested</p>\n<p>Returns: true if\nthis list contains the specified element</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":8358471,"reputation":363,"user_id":6277798,"accept_rate":80,"display_name":"Seth Falco"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653093587,"creation_date":1624956739,"answer_id":68175493,"question_id":68175087,"body_markdown":"[`LinkedList`](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/LinkedList.html) implements the [`Collection`](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Collection.html) interface, which defines the [`Collection#contains`](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Collection.html#contains(java.lang.Object)) method.\r\n\r\nYou can do what you&#39;re after with any class that derives from `Collection` easily by just using the `contains` method.  \r\n\r\nSee the docs on [`LinkedList#contains`](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/LinkedList.html#contains(java.lang.Object)) for more information.\r\n\r\nNote: It uses [`Objects#equals`](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Objects.html#equals(java.lang.Object,java.lang.Object)) to determine if the item is in the `Collection`.\r\n\r\nIf you have the same reference, I think you&#39;ll be good. If you have different references representing the same data, then you may need to [`@Override`](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Override.html) the [`equals`](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html#equals(java.lang.Object)) method on your object.","title":"How do I check if an element exists in a queue ( LinkedList ) before adding it?","body":"<p><a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/LinkedList.html\" rel=\"nofollow noreferrer\"><code>LinkedList</code></a> implements the <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Collection.html\" rel=\"nofollow noreferrer\"><code>Collection</code></a> interface, which defines the <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Collection.html#contains(java.lang.Object)\" rel=\"nofollow noreferrer\"><code>Collection#contains</code></a> method.</p>\n<p>You can do what you're after with any class that derives from <code>Collection</code> easily by just using the <code>contains</code> method.</p>\n<p>See the docs on <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/LinkedList.html#contains(java.lang.Object)\" rel=\"nofollow noreferrer\"><code>LinkedList#contains</code></a> for more information.</p>\n<p>Note: It uses <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Objects.html#equals(java.lang.Object,java.lang.Object)\" rel=\"nofollow noreferrer\"><code>Objects#equals</code></a> to determine if the item is in the <code>Collection</code>.</p>\n<p>If you have the same reference, I think you'll be good. If you have different references representing the same data, then you may need to <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Override.html\" rel=\"nofollow noreferrer\"><code>@Override</code></a> the <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html#equals(java.lang.Object)\" rel=\"nofollow noreferrer\"><code>equals</code></a> method on your object.</p>\n"},{"tags":[],"owner":{"account_id":16659709,"reputation":77,"user_id":12039990,"display_name":"Prashant Kanak"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1624961378,"creation_date":1624961378,"answer_id":68176654,"question_id":68175087,"body_markdown":"Below code may help you...\r\n\r\n```\r\npackage com.example.Solution;\r\n\r\nimport java.util.LinkedList;\r\nimport java.util.Queue;\r\n\r\npublic class Sol {\r\n    public static void main(String[] args){\r\n        Queue&lt;Address&gt; q1= new LinkedList&lt;&gt;();\r\n        q1.add(new Address(&quot;abc&quot;,1,&quot;url1&quot;));\r\n        Address a1=new Address(&quot;abc&quot;,1,&quot;url&quot;);\r\n        if(!q1.contains(a1))\r\n            q1.add(a1);\r\n        Address a2=new Address(&quot;abc&quot;,2,&quot;url&quot;);\r\n        if(!q1.contains(a2)){\r\n            q1.add(a2);\r\n        }\r\n        Address a3=new Address(&quot;abc&quot;,1,&quot;url2&quot;);\r\n        if(!q1.contains(a3)){\r\n            q1.add(a3);\r\n        }\r\n        System.out.println(q1.size());\r\n    }\r\n}\r\nclass Address {\r\n    String name;\r\n    int id;\r\n    String url;\r\n\r\n    public Address(String name, int id, String url) {\r\n        this.name = name;\r\n        this.id = id;\r\n        this.url = url;\r\n    }\r\n\r\n    public String getName() {\r\n        return name;\r\n    }\r\n\r\n    public void setName(String name) {\r\n        this.name = name;\r\n    }\r\n\r\n    public int getId() {\r\n        return id;\r\n    }\r\n\r\n    public void setId(int id) {\r\n        this.id = id;\r\n    }\r\n\r\n    public String getUrl() {\r\n        return url;\r\n    }\r\n\r\n    public void setUrl(String url) {\r\n        this.url = url;\r\n    }\r\n    public boolean equals(Object o1){\r\n        Address address=(Address) o1;\r\n        return address.getId()==this.id;\r\n    }\r\n}\r\n\r\n```","title":"How do I check if an element exists in a queue ( LinkedList ) before adding it?","body":"<p>Below code may help you...</p>\n<pre><code>package com.example.Solution;\n\nimport java.util.LinkedList;\nimport java.util.Queue;\n\npublic class Sol {\n    public static void main(String[] args){\n        Queue&lt;Address&gt; q1= new LinkedList&lt;&gt;();\n        q1.add(new Address(&quot;abc&quot;,1,&quot;url1&quot;));\n        Address a1=new Address(&quot;abc&quot;,1,&quot;url&quot;);\n        if(!q1.contains(a1))\n            q1.add(a1);\n        Address a2=new Address(&quot;abc&quot;,2,&quot;url&quot;);\n        if(!q1.contains(a2)){\n            q1.add(a2);\n        }\n        Address a3=new Address(&quot;abc&quot;,1,&quot;url2&quot;);\n        if(!q1.contains(a3)){\n            q1.add(a3);\n        }\n        System.out.println(q1.size());\n    }\n}\nclass Address {\n    String name;\n    int id;\n    String url;\n\n    public Address(String name, int id, String url) {\n        this.name = name;\n        this.id = id;\n        this.url = url;\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n\n    public int getId() {\n        return id;\n    }\n\n    public void setId(int id) {\n        this.id = id;\n    }\n\n    public String getUrl() {\n        return url;\n    }\n\n    public void setUrl(String url) {\n        this.url = url;\n    }\n    public boolean equals(Object o1){\n        Address address=(Address) o1;\n        return address.getId()==this.id;\n    }\n}\n\n</code></pre>\n"}],"owner":{"account_id":22002599,"reputation":1,"user_id":16274117,"display_name":"users1212"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1340,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1653093587,"creation_date":1624955068,"question_id":68175087,"body_markdown":"How do I check if an element exists in a queue  ( LinkedList ) before adding it ?\r\n\r\nEX: \r\nAddress [id=1, url=https://www.google.com, size=2, queue=[request [requestId=1], request [requestId=2]]]\r\n\r\nI can&#39;t add queue=[request [requestId=1], request [requestId=1]] because they have the same requestId.","title":"How do I check if an element exists in a queue ( LinkedList ) before adding it?","body":"<p>How do I check if an element exists in a queue  ( LinkedList ) before adding it ?</p>\n<p>EX:\nAddress [id=1, url=https://www.google.com, size=2, queue=[request [requestId=1], request [requestId=2]]]</p>\n<p>I can't add queue=[request [requestId=1], request [requestId=1]] because they have the same requestId.</p>\n"},{"tags":["java","list","sorting","collections","treemap"],"comments":[{"owner":{"account_id":266709,"reputation":11846,"user_id":554431,"display_name":"bestsss"},"score":3,"creation_date":1296860190,"post_id":4903611,"comment_id":5458954,"body_markdown":"@To everyone offering PriorityQueue, it&#39;s implemented via Heap [backed by an array], thus it&#39;s not Iterable in its natural order but the heap &#39;building&#39; order. Each operation to the heap needs sift-up/down.","body":"@To everyone offering PriorityQueue, it&#39;s implemented via Heap [backed by an array], thus it&#39;s not Iterable in its natural order but the heap &#39;building&#39; order. Each operation to the heap needs sift-up/down."},{"owner":{"account_id":12404,"reputation":62016,"user_id":24396,"accept_rate":74,"display_name":"Steve Kuo"},"score":5,"creation_date":1296861181,"post_id":4903611,"comment_id":5459138,"body_markdown":"Use a `TreeSet` if you don&#39;t need any of the `List` features.","body":"Use a <code>TreeSet</code> if you don&#39;t need any of the <code>List</code> features."},{"owner":{"account_id":7848,"reputation":108920,"user_id":13792,"accept_rate":100,"display_name":"ColinD"},"score":7,"creation_date":1296862117,"post_id":4903611,"comment_id":5459272,"body_markdown":"Such a thing would break the contract of `List` because `List` operations specify _where_ they add the element... `add(E)` adds to the _end_, `add(int, e)` adds at the specified index, etc. `set(int, E)` would be even weirder.","body":"Such a thing would break the contract of <code>List</code> because <code>List</code> operations specify <i>where</i> they add the element... <code>add(E)</code> adds to the <i>end</i>, <code>add(int, e)</code> adds at the specified index, etc. <code>set(int, E)</code> would be even weirder."},{"owner":{"account_id":282965,"reputation":3495,"user_id":580197,"display_name":"Eric Giguere"},"score":2,"creation_date":1296862967,"post_id":4903611,"comment_id":5459393,"body_markdown":"While technically true, I don&#39;t think breaking the contract for `add(e)` is a big deal. You would want to throw exceptions for `add(int, e)` and `set(int, e)` and whatever else doesn&#39;t make sense.","body":"While technically true, I don&#39;t think breaking the contract for <code>add(e)</code> is a big deal. You would want to throw exceptions for <code>add(int, e)</code> and <code>set(int, e)</code> and whatever else doesn&#39;t make sense."},{"owner":{"account_id":266709,"reputation":11846,"user_id":554431,"display_name":"bestsss"},"score":0,"creation_date":1296863096,"post_id":4903611,"comment_id":5459408,"body_markdown":"@ColinD, you can always consider &#39;em UnsupportedOperationException() :)","body":"@ColinD, you can always consider &#39;em UnsupportedOperationException() :)"},{"owner":{"account_id":7848,"reputation":108920,"user_id":13792,"accept_rate":100,"display_name":"ColinD"},"score":3,"creation_date":1296863246,"post_id":4903611,"comment_id":5459432,"body_markdown":"@Eric: It&#39;s a big deal if this `List` might be used by any code that expects a `List` that doesn&#39;t break its contract.","body":"@Eric: It&#39;s a big deal if this <code>List</code> might be used by any code that expects a <code>List</code> that doesn&#39;t break its contract."},{"owner":{"account_id":282965,"reputation":3495,"user_id":580197,"display_name":"Eric Giguere"},"score":0,"creation_date":1296910461,"post_id":4903611,"comment_id":5463417,"body_markdown":"@ColinD: But I would argue that most code that uses a List doesn&#39;t care about the appending or not. They&#39;re using lists to hold things. But definitely something to consider, yes.","body":"@ColinD: But I would argue that most code that uses a List doesn&#39;t care about the appending or not. They&#39;re using lists to hold things. But definitely something to consider, yes."},{"owner":{"account_id":7848,"reputation":108920,"user_id":13792,"accept_rate":100,"display_name":"ColinD"},"score":1,"creation_date":1296918655,"post_id":4903611,"comment_id":5464280,"body_markdown":"@Eric: I&#39;d say if all you want is to hold things, a `Set` or `Multiset` is more appropriate depending on whether you need to allow duplicate elements or not. Both of these also happen to have implementations that allow `Comparator` based ordering. Explicit, user-defined order (by insertion order and indexed insertion) is a core property of a `List`.","body":"@Eric: I&#39;d say if all you want is to hold things, a <code>Set</code> or <code>Multiset</code> is more appropriate depending on whether you need to allow duplicate elements or not. Both of these also happen to have implementations that allow <code>Comparator</code> based ordering. Explicit, user-defined order (by insertion order and indexed insertion) is a core property of a <code>List</code>."},{"owner":{"account_id":282965,"reputation":3495,"user_id":580197,"display_name":"Eric Giguere"},"score":1,"creation_date":1296919180,"post_id":4903611,"comment_id":5464345,"body_markdown":"@ColinD: I don&#39;t disagree with you, but maybe the OP is dealing with an API that only takes a List or whatever. Hard to say without knowing the full context of why they want a sorted list. That&#39;s one thing I don&#39;t like about many SO questions, not enough context to tell the questioner what the best solution is, as opposed to answering the literal question...","body":"@ColinD: I don&#39;t disagree with you, but maybe the OP is dealing with an API that only takes a List or whatever. Hard to say without knowing the full context of why they want a sorted list. That&#39;s one thing I don&#39;t like about many SO questions, not enough context to tell the questioner what the best solution is, as opposed to answering the literal question..."}],"answers":[{"tags":[],"owner":{"account_id":70258,"reputation":590444,"user_id":203907,"accept_rate":81,"display_name":"Bozho"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1296861121,"creation_date":1296859219,"answer_id":4903634,"question_id":4903611,"body_markdown":"commons-collections have [`TreeBag`][1]\r\n\r\nInitially I suggested `PriorityQueue`, but its iteration order is undefined, so it&#39;s no use, unless you iterate it by getting the head of a clone of the queue until it gets empty.\r\n\r\nSince you are most likely concerned with the iteration order, I believe you can override the `iterator()` method:\r\n\r\n\r\n    public class OrderedIterationList&lt;E&gt; extends ArrayList&lt;E&gt; {\r\n    \t@Override\r\n    \tpublic Iterator&lt;E&gt; iterator() {\r\n            Object[] array = this.toArray(); // O(1)\r\n    \t    Arrays.sort(array);\r\n    \t    return Arrays.asList(array).iterator(); // asList - O(1)\r\n    \t}\r\n    }\r\n\r\nYou can improve this by storing a snapshot of the sorted collection, and use `modCount` to verify whether the collection is not changed.\r\n\r\nDepending on the use-cases, this may be less or more efficient than Peter&#39;s suggestion. For example if you add multiple items, and iterate. (without adding items between iterations), then this might be more efficient.\r\n\r\n  [1]: http://commons.apache.org/collections/apidocs/org/apache/commons/collections/bag/TreeBag.html\r\n","title":"Java List Sorting: Is there a way to keep a list permantly sorted automatically like TreeMap?","body":"<p>commons-collections have <a href=\"http://commons.apache.org/collections/apidocs/org/apache/commons/collections/bag/TreeBag.html\" rel=\"nofollow\"><code>TreeBag</code></a></p>\n\n<p>Initially I suggested <code>PriorityQueue</code>, but its iteration order is undefined, so it's no use, unless you iterate it by getting the head of a clone of the queue until it gets empty.</p>\n\n<p>Since you are most likely concerned with the iteration order, I believe you can override the <code>iterator()</code> method:</p>\n\n<pre><code>public class OrderedIterationList&lt;E&gt; extends ArrayList&lt;E&gt; {\n    @Override\n    public Iterator&lt;E&gt; iterator() {\n        Object[] array = this.toArray(); // O(1)\n        Arrays.sort(array);\n        return Arrays.asList(array).iterator(); // asList - O(1)\n    }\n}\n</code></pre>\n\n<p>You can improve this by storing a snapshot of the sorted collection, and use <code>modCount</code> to verify whether the collection is not changed.</p>\n\n<p>Depending on the use-cases, this may be less or more efficient than Peter's suggestion. For example if you add multiple items, and iterate. (without adding items between iterations), then this might be more efficient.</p>\n"},{"tags":[],"owner":{"account_id":115310,"reputation":11419,"user_id":302831,"accept_rate":100,"display_name":"Santa"},"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1296860272,"creation_date":1296859251,"answer_id":4903637,"question_id":4903611,"body_markdown":"I believe a [Priority Queue](http://download.oracle.com/javase/1.5.0/docs/api/java/util/PriorityQueue.html) will do the job.\r\n\r\nCaveat (from the same doc page):\r\n\r\n&gt; This class and its iterator implement\r\n&gt; all of the *optional* methods of the\r\n&gt; `Collection` and Iterator interfaces.\r\n&gt; The `Iterator` provided in method\r\n&gt; `iterator()` is not guaranteed to\r\n&gt; traverse the elements of the priority\r\n&gt; queue in any particular order. If you\r\n&gt; need ordered traversal, consider using\r\n&gt; `Arrays.sort(pq.toArray())`.","title":"Java List Sorting: Is there a way to keep a list permantly sorted automatically like TreeMap?","body":"<p>I believe a <a href=\"http://download.oracle.com/javase/1.5.0/docs/api/java/util/PriorityQueue.html\" rel=\"nofollow\">Priority Queue</a> will do the job.</p>\n\n<p>Caveat (from the same doc page):</p>\n\n<blockquote>\n  <p>This class and its iterator implement\n  all of the <em>optional</em> methods of the\n  <code>Collection</code> and Iterator interfaces.\n  The <code>Iterator</code> provided in method\n  <code>iterator()</code> is not guaranteed to\n  traverse the elements of the priority\n  queue in any particular order. If you\n  need ordered traversal, consider using\n  <code>Arrays.sort(pq.toArray())</code>.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":23121,"reputation":527346,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"down_vote_count":2,"up_vote_count":81,"is_accepted":false,"score":79,"last_activity_date":1620319911,"creation_date":1296859312,"answer_id":4903642,"question_id":4903611,"body_markdown":"You can change the behaviour of ArrayList\r\n\r\n    List&lt;MyType&gt; list = new ArrayList&lt;MyType&gt;() {\r\n        public boolean add(MyType mt) {\r\n             super.add(mt);\r\n             Collections.sort(list, comparator);\r\n             return true;\r\n        }\r\n    }; \r\n\r\nNote: a PriorityQueue is NOT a List, if you didn&#39;t care what type of collection it was, the simplest would be to use a TreeSet, which is just like a TreeMap but is a collection.  The only advantage PriorityQueue has is to allow duplicates.\r\n\r\nNote: resorting is not very efficient for large collections, Using a binary search and inserting an entry would be faster. (but more complicated)\r\n\r\nEDIT: A lot depends on what you need the &quot;list&quot; to do.  I suggest you write a List wrapper for an ArrayList, LinkedList, PriorityQueue, TreeSet, or one of the other sorted collections and implement the methods which will actually be used.  That way you have a good understanding of the requirements for the collection and you can make sure it works correctly for you.\r\n\r\nEDIT(2): Since there was so much interest in using binarySearch instead. ;)\r\n\r\n    List&lt;MyType&gt; list = new ArrayList&lt;MyType&gt;() {\r\n        public boolean add(MyType mt) {\r\n            int index = Collections.binarySearch(this, mt);\r\n            if (index &lt; 0) index = ~index;\r\n            super.add(index, mt);\r\n            return true;\r\n        }\r\n    };","title":"Java List Sorting: Is there a way to keep a list permantly sorted automatically like TreeMap?","body":"<p>You can change the behaviour of ArrayList</p>\n<pre><code>List&lt;MyType&gt; list = new ArrayList&lt;MyType&gt;() {\n    public boolean add(MyType mt) {\n         super.add(mt);\n         Collections.sort(list, comparator);\n         return true;\n    }\n}; \n</code></pre>\n<p>Note: a PriorityQueue is NOT a List, if you didn't care what type of collection it was, the simplest would be to use a TreeSet, which is just like a TreeMap but is a collection.  The only advantage PriorityQueue has is to allow duplicates.</p>\n<p>Note: resorting is not very efficient for large collections, Using a binary search and inserting an entry would be faster. (but more complicated)</p>\n<p>EDIT: A lot depends on what you need the &quot;list&quot; to do.  I suggest you write a List wrapper for an ArrayList, LinkedList, PriorityQueue, TreeSet, or one of the other sorted collections and implement the methods which will actually be used.  That way you have a good understanding of the requirements for the collection and you can make sure it works correctly for you.</p>\n<p>EDIT(2): Since there was so much interest in using binarySearch instead. ;)</p>\n<pre><code>List&lt;MyType&gt; list = new ArrayList&lt;MyType&gt;() {\n    public boolean add(MyType mt) {\n        int index = Collections.binarySearch(this, mt);\n        if (index &lt; 0) index = ~index;\n        super.add(index, mt);\n        return true;\n    }\n};\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2496,"reputation":266234,"user_id":3474,"accept_rate":83,"display_name":"erickson"},"down_vote_count":0,"up_vote_count":29,"is_accepted":false,"score":29,"last_activity_date":1296859542,"creation_date":1296859542,"answer_id":4903669,"question_id":4903611,"body_markdown":"Everyone is suggesting `PriorityQueue`. However, it is important to realize that if you [iterate][1] over the contents of a `PriorityQueue`, the elements will *not* be in sorted order. You are only guaranteed to get the &quot;minimum&quot; element from the methods `peek()`, `poll()`, etc.\r\n\r\nA `TreeSet` seems to be a better fit. The caveats would be that, as a `Set`, it can&#39;t contain duplicate elements, and it doesn&#39;t support random access with an index.\r\n\r\n\r\n  [1]: http://download.oracle.com/javase/6/docs/api/java/util/PriorityQueue.html#iterator%28%29","title":"Java List Sorting: Is there a way to keep a list permantly sorted automatically like TreeMap?","body":"<p>Everyone is suggesting <code>PriorityQueue</code>. However, it is important to realize that if you <a href=\"http://download.oracle.com/javase/6/docs/api/java/util/PriorityQueue.html#iterator%28%29\" rel=\"noreferrer\">iterate</a> over the contents of a <code>PriorityQueue</code>, the elements will <em>not</em> be in sorted order. You are only guaranteed to get the \"minimum\" element from the methods <code>peek()</code>, <code>poll()</code>, etc.</p>\n\n<p>A <code>TreeSet</code> seems to be a better fit. The caveats would be that, as a <code>Set</code>, it can't contain duplicate elements, and it doesn't support random access with an index.</p>\n"},{"tags":[],"owner":{"display_name":"user177800"},"down_vote_count":3,"up_vote_count":12,"is_accepted":false,"score":9,"last_activity_date":1504036265,"creation_date":1296859708,"answer_id":4903683,"question_id":4903611,"body_markdown":"###Commentary\r\n\r\nThere is probably a good reason that there is no `SortedList` implementation in the JDK. I personally can&#39;t think of a reason to have one auto-sort in the JDK.\r\n\r\nIt reeks of premature optimization gone wrong. If the list is not read from as often as it is inserted into, then you are wasting cycles sorting repeatedly for no reason. Sorting right before a read would be much more *reactive* and having a `boolean` somewhere indicating that the list does or does not need to be sorted before reading it would be even better.\r\n\r\nThe thing is you only really care about order when traversing the list with an `Iterator` or `for each` loop, so calling `Collections.sort()` before any code that iterates would probably be more performant than trying to keep the list sorted all the time on every insertion.\r\n\r\nThere are ambiguities with `List` because of duplicates, how do you order duplicates deterministically? There is `SortedSet`, and that makes sense because of the uniqueness. But sorting a `List` can have more complications from the side effects of duplicates and other constraints like making every object `Comparable` or as I show in my code having to have a `Comparator` that can do the work instead.\r\n\r\n###Sorting on `.add()`\r\n\r\nIf you have some very special situation where a auto-sorting `List` would be useful then one thing you might do is sub-class a `List` implementation and over-ride `.add()` to do a `Collections.sort(this, comparator)` that you pass into a custom constructor. I used `LinkedList` instead of `ArrayList` for a reason, `ArrayList` is a natural insertion sorted order `List` to begin with. It also has the ability to `.add()` at an index which is pretty useless if you want a constantly sorted `List`, that would have to be handled in someway that would probably be less than ideal. According to the Javadoc;\r\n\r\n    void\tadd(int index, Object element)\r\n\r\n&gt; Inserts the specified element at the\r\n&gt; specified position in this list\r\n&gt; (***optional operation***).\r\n\r\nSo it just throwing `UnSupportedOperationException` would be acceptable, or you could just ignore the `index` and delegate to `.add(Object element);` if you document it in a JavaDoc on the method.\r\n\r\nUsually when you want to lots of inserts/removals and sorting you would use a `LinkedList` because of better performance characteristics given the usage of the `List&#39;.\r\n\r\nHere is a quick example:\r\n\r\n    import java.util.Collections;\r\n    import java.util.Comparator;\r\n    import java.util.LinkedList;\r\n    \r\n    public class SortedList&lt;E&gt; extends LinkedList&lt;E&gt;\r\n    {\r\n        private Comparator&lt;E&gt; comparator;\r\n    \r\n        public SortedList(final Comparator&lt;E&gt; comparator)\r\n        {\r\n            this.comparator = comparator;\r\n        }\r\n\r\n        /**\r\n        * this ignores the index and delegates to .add() \r\n        * so it will be sorted into the correct place immediately.\r\n        */\r\n        @Override\r\n        public void add(int index, Object element)\r\n        {\r\n            this.add(element);     \r\n        }\r\n    \r\n        @Override\r\n        public boolean add(final E e)\r\n        {\r\n            final boolean result = super.add(e);\r\n            Collections.sort(this, this.comparator);\r\n            return result;\r\n        }\r\n    }\r\n\r\n\r\n###Most Efficient Solution:\r\n\r\nAlternatively you could only sort when getting the `Iterator` and this would be more performance oriented if the sorted order was only really important when iterating over the `List`. This would cover the use case of the client code not having to call, `Collections.sort()` before every iteration and encapsulate that behavior into the class.\r\n\r\n    import java.util.Collections;\r\n    import java.util.Comparator;\r\n    import java.util.Iterator;\r\n    import java.util.LinkedList;\r\n    \r\n    public class SortedList&lt;E&gt; extends LinkedList&lt;E&gt;\r\n    {\r\n        private Comparator&lt;E&gt; comparator;\r\n    \r\n        public SortedList(final Comparator&lt;E&gt; comparator)\r\n        {\r\n            this.comparator = comparator;\r\n        }\r\n    \r\n        @Override\r\n        public Iterator&lt;E&gt; iterator()\r\n        {\r\n            Collections.sort(this, this.comparator);\r\n            return super.iterator();\r\n        }\r\n    }\r\n\r\nOf course there would need to be error checking and handling to see if the `Comparator` was `null` or not and what to do if that was the case, but this gives you the idea. You still don&#39;t have any deterministic way to deal with duplicates.\r\n\r\n###Guava Solution:\r\n\r\nIf you are using Guava and you should be, you can just use\r\n\r\n[`Ordering.immutableSortedCopy()`][1] only when you need to iterate and be done with it.\r\n\r\n\r\n  [1]: http://google.github.io/guava/releases/snapshot/api/docs/com/google/common/collect/Ordering.html#immutableSortedCopy-java.lang.Iterable-","title":"Java List Sorting: Is there a way to keep a list permantly sorted automatically like TreeMap?","body":"<h3>Commentary</h3>\n\n<p>There is probably a good reason that there is no <code>SortedList</code> implementation in the JDK. I personally can't think of a reason to have one auto-sort in the JDK.</p>\n\n<p>It reeks of premature optimization gone wrong. If the list is not read from as often as it is inserted into, then you are wasting cycles sorting repeatedly for no reason. Sorting right before a read would be much more <em>reactive</em> and having a <code>boolean</code> somewhere indicating that the list does or does not need to be sorted before reading it would be even better.</p>\n\n<p>The thing is you only really care about order when traversing the list with an <code>Iterator</code> or <code>for each</code> loop, so calling <code>Collections.sort()</code> before any code that iterates would probably be more performant than trying to keep the list sorted all the time on every insertion.</p>\n\n<p>There are ambiguities with <code>List</code> because of duplicates, how do you order duplicates deterministically? There is <code>SortedSet</code>, and that makes sense because of the uniqueness. But sorting a <code>List</code> can have more complications from the side effects of duplicates and other constraints like making every object <code>Comparable</code> or as I show in my code having to have a <code>Comparator</code> that can do the work instead.</p>\n\n<h3>Sorting on <code>.add()</code></h3>\n\n<p>If you have some very special situation where a auto-sorting <code>List</code> would be useful then one thing you might do is sub-class a <code>List</code> implementation and over-ride <code>.add()</code> to do a <code>Collections.sort(this, comparator)</code> that you pass into a custom constructor. I used <code>LinkedList</code> instead of <code>ArrayList</code> for a reason, <code>ArrayList</code> is a natural insertion sorted order <code>List</code> to begin with. It also has the ability to <code>.add()</code> at an index which is pretty useless if you want a constantly sorted <code>List</code>, that would have to be handled in someway that would probably be less than ideal. According to the Javadoc;</p>\n\n<pre><code>void    add(int index, Object element)\n</code></pre>\n\n<blockquote>\n  <p>Inserts the specified element at the\n  specified position in this list\n  (<strong><em>optional operation</em></strong>).</p>\n</blockquote>\n\n<p>So it just throwing <code>UnSupportedOperationException</code> would be acceptable, or you could just ignore the <code>index</code> and delegate to <code>.add(Object element);</code> if you document it in a JavaDoc on the method.</p>\n\n<p>Usually when you want to lots of inserts/removals and sorting you would use a <code>LinkedList</code> because of better performance characteristics given the usage of the `List'.</p>\n\n<p>Here is a quick example:</p>\n\n<pre><code>import java.util.Collections;\nimport java.util.Comparator;\nimport java.util.LinkedList;\n\npublic class SortedList&lt;E&gt; extends LinkedList&lt;E&gt;\n{\n    private Comparator&lt;E&gt; comparator;\n\n    public SortedList(final Comparator&lt;E&gt; comparator)\n    {\n        this.comparator = comparator;\n    }\n\n    /**\n    * this ignores the index and delegates to .add() \n    * so it will be sorted into the correct place immediately.\n    */\n    @Override\n    public void add(int index, Object element)\n    {\n        this.add(element);     \n    }\n\n    @Override\n    public boolean add(final E e)\n    {\n        final boolean result = super.add(e);\n        Collections.sort(this, this.comparator);\n        return result;\n    }\n}\n</code></pre>\n\n<h3>Most Efficient Solution:</h3>\n\n<p>Alternatively you could only sort when getting the <code>Iterator</code> and this would be more performance oriented if the sorted order was only really important when iterating over the <code>List</code>. This would cover the use case of the client code not having to call, <code>Collections.sort()</code> before every iteration and encapsulate that behavior into the class.</p>\n\n<pre><code>import java.util.Collections;\nimport java.util.Comparator;\nimport java.util.Iterator;\nimport java.util.LinkedList;\n\npublic class SortedList&lt;E&gt; extends LinkedList&lt;E&gt;\n{\n    private Comparator&lt;E&gt; comparator;\n\n    public SortedList(final Comparator&lt;E&gt; comparator)\n    {\n        this.comparator = comparator;\n    }\n\n    @Override\n    public Iterator&lt;E&gt; iterator()\n    {\n        Collections.sort(this, this.comparator);\n        return super.iterator();\n    }\n}\n</code></pre>\n\n<p>Of course there would need to be error checking and handling to see if the <code>Comparator</code> was <code>null</code> or not and what to do if that was the case, but this gives you the idea. You still don't have any deterministic way to deal with duplicates.</p>\n\n<h3>Guava Solution:</h3>\n\n<p>If you are using Guava and you should be, you can just use</p>\n\n<p><a href=\"http://google.github.io/guava/releases/snapshot/api/docs/com/google/common/collect/Ordering.html#immutableSortedCopy-java.lang.Iterable-\" rel=\"noreferrer\"><code>Ordering.immutableSortedCopy()</code></a> only when you need to iterate and be done with it.</p>\n"},{"tags":[],"owner":{"account_id":266709,"reputation":11846,"user_id":554431,"display_name":"bestsss"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1296910294,"creation_date":1296860501,"answer_id":4903775,"question_id":4903611,"body_markdown":"The only way to have any sorted structure with less than O(n) time to add/indexOf/remove/get  element is using a tree. In that case operations generally have O(log2n) and traverse is like O(1).\r\n\r\nO(n) is just a linked list.\r\n\r\n---\r\nEdit: inserting into linked list w/ binary search. For inserts operations, not using binary structure, and not small sizes, that should be optimal.\r\n\r\n\r\n@Peter:\r\nThere is the algo w/ O(log2n) compares (which are slow) to insert and O(n) moves.\r\nIf you need to override LinkedList, so be it. But that&#39;s as neat as it can get. I keep the algorithm as clean as possible to be easily understandable, it can be optimized a little.\r\n\r\n\r\n    package t1;\r\n    \r\n    import java.util.LinkedList;\r\n    import java.util.List;\r\n    import java.util.ListIterator;\r\n    import java.util.Random;\r\n    \r\n    public class SortedList {\r\n    \r\n    \r\n    \tprivate static &lt;T&gt; int binarySearch(ListIterator&lt;? extends Comparable&lt;? super T&gt;&gt; i, T key){\r\n    \t\tint low = 0;\r\n    \t\tint high= i.previousIndex();\r\n    \t\twhile (low &lt;= high) {\r\n    \t\t\tint mid = (low + high) &gt;&gt;&gt; 1;\r\n    \t\t\tComparable&lt;? super T&gt; midVal = get(i, mid);\r\n    \t\t\tint cmp = midVal.compareTo(key);\r\n    \r\n    \t\t\tif (cmp &lt; 0)\r\n    \t\t\t\tlow = mid + 1;\r\n    \t\t\telse if (cmp &gt; 0)\r\n    \t\t\t\thigh = mid - 1;\r\n    \t\t\telse\r\n    \t\t\t\treturn mid;\r\n    \t\t}\r\n    \t\treturn -(low + 1);  // key not found\r\n    \t}\r\n    \r\n    \tprivate static &lt;T&gt; T get(ListIterator&lt;? extends T&gt; i, int index) {\r\n    \t\tT obj = null;\r\n    \t\tint pos = i.nextIndex();\r\n    \t\tif (pos &lt;= index) {\r\n    \t\t\tdo {\r\n    \t\t\t\tobj = i.next();\r\n    \t\t\t} while (pos++ &lt; index);\r\n    \t\t} else {\r\n    \t\t\tdo {\r\n    \t\t\t\tobj = i.previous();\r\n    \t\t\t} while (--pos &gt; index);\r\n    \t\t}\r\n    \t\treturn obj;\r\n    \t}\r\n    \tprivate static void move(ListIterator&lt;?&gt; i, int index) {\t\t\r\n    \t\tint pos = i.nextIndex();\r\n    \t\tif (pos==index)\r\n    \t\t\treturn;\r\n    \t\t\r\n    \t\tif (pos &lt; index) {\r\n    \t\t\tdo {\r\n    \t\t\t\ti.next();\r\n    \t\t\t} while (++pos &lt; index);\r\n    \t\t} \r\n    \t\telse {\r\n    \t\t\tdo {\r\n    \t\t\t\ti.previous();\r\n    \t\t\t} while (--pos &gt; index);\r\n    \t\t}\r\n    \t}\r\n    \t@SuppressWarnings(&quot;unchecked&quot;)\r\n    \tstatic  &lt;T&gt; int insert(List&lt;? extends Comparable&lt;? super T&gt;&gt; list, T key){\r\n    \t\tListIterator&lt;? extends Comparable&lt;? super T&gt;&gt; i= list.listIterator(list.size());\r\n    \t\tint idx = binarySearch(i, key); \r\n    \t\tif (idx&lt;0){\r\n    \t\t\tidx=~idx;\r\n    \t\t}\r\n    \t\tmove(i, idx);\r\n    \t\t((ListIterator&lt;T&gt;)i).add(key);\r\n    \t\treturn i.nextIndex()-1;\r\n    \t}\r\n      \r\n    \tpublic static void main(String[] args) {\r\n    \t\tLinkedList&lt;Integer&gt; list = new LinkedList&lt;Integer&gt;();\r\n    \t\tLinkedList&lt;Integer&gt; unsorted = new LinkedList&lt;Integer&gt;();\r\n    \t\tRandom r =new Random(11);\r\n    \t\tfor (int i=0;i&lt;33;i++){\r\n    \t\t\tInteger n = r.nextInt(17);\r\n    \t\t\tinsert(list, n);\r\n    \t\t\tunsorted.add(n);\t\t\t\r\n    \t\t}\r\n    \t\t\r\n    \t\tSystem.out.println(&quot;  sorted: &quot;+list);\r\n    \t\tSystem.out.println(&quot;unsorted: &quot;+unsorted);\r\n    \t}\r\n\r\n","title":"Java List Sorting: Is there a way to keep a list permantly sorted automatically like TreeMap?","body":"<p>The only way to have any sorted structure with less than O(n) time to add/indexOf/remove/get  element is using a tree. In that case operations generally have O(log2n) and traverse is like O(1).</p>\n\n<p>O(n) is just a linked list.</p>\n\n<hr>\n\n<p>Edit: inserting into linked list w/ binary search. For inserts operations, not using binary structure, and not small sizes, that should be optimal.</p>\n\n<p>@Peter:\nThere is the algo w/ O(log2n) compares (which are slow) to insert and O(n) moves.\nIf you need to override LinkedList, so be it. But that's as neat as it can get. I keep the algorithm as clean as possible to be easily understandable, it can be optimized a little.</p>\n\n<pre><code>package t1;\n\nimport java.util.LinkedList;\nimport java.util.List;\nimport java.util.ListIterator;\nimport java.util.Random;\n\npublic class SortedList {\n\n\n    private static &lt;T&gt; int binarySearch(ListIterator&lt;? extends Comparable&lt;? super T&gt;&gt; i, T key){\n        int low = 0;\n        int high= i.previousIndex();\n        while (low &lt;= high) {\n            int mid = (low + high) &gt;&gt;&gt; 1;\n            Comparable&lt;? super T&gt; midVal = get(i, mid);\n            int cmp = midVal.compareTo(key);\n\n            if (cmp &lt; 0)\n                low = mid + 1;\n            else if (cmp &gt; 0)\n                high = mid - 1;\n            else\n                return mid;\n        }\n        return -(low + 1);  // key not found\n    }\n\n    private static &lt;T&gt; T get(ListIterator&lt;? extends T&gt; i, int index) {\n        T obj = null;\n        int pos = i.nextIndex();\n        if (pos &lt;= index) {\n            do {\n                obj = i.next();\n            } while (pos++ &lt; index);\n        } else {\n            do {\n                obj = i.previous();\n            } while (--pos &gt; index);\n        }\n        return obj;\n    }\n    private static void move(ListIterator&lt;?&gt; i, int index) {        \n        int pos = i.nextIndex();\n        if (pos==index)\n            return;\n\n        if (pos &lt; index) {\n            do {\n                i.next();\n            } while (++pos &lt; index);\n        } \n        else {\n            do {\n                i.previous();\n            } while (--pos &gt; index);\n        }\n    }\n    @SuppressWarnings(\"unchecked\")\n    static  &lt;T&gt; int insert(List&lt;? extends Comparable&lt;? super T&gt;&gt; list, T key){\n        ListIterator&lt;? extends Comparable&lt;? super T&gt;&gt; i= list.listIterator(list.size());\n        int idx = binarySearch(i, key); \n        if (idx&lt;0){\n            idx=~idx;\n        }\n        move(i, idx);\n        ((ListIterator&lt;T&gt;)i).add(key);\n        return i.nextIndex()-1;\n    }\n\n    public static void main(String[] args) {\n        LinkedList&lt;Integer&gt; list = new LinkedList&lt;Integer&gt;();\n        LinkedList&lt;Integer&gt; unsorted = new LinkedList&lt;Integer&gt;();\n        Random r =new Random(11);\n        for (int i=0;i&lt;33;i++){\n            Integer n = r.nextInt(17);\n            insert(list, n);\n            unsorted.add(n);            \n        }\n\n        System.out.println(\"  sorted: \"+list);\n        System.out.println(\"unsorted: \"+unsorted);\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":166939,"reputation":3172,"user_id":391411,"accept_rate":87,"display_name":"Varun Madiath"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1296860545,"creation_date":1296860545,"answer_id":4903779,"question_id":4903611,"body_markdown":"The best way to do this would be to override the add implementation of a list.\r\nI&#39;m going to use a LinkedList to demonstrate it, as it allows for efficient insertion.\r\n\r\n    public boolean add(Integer e)\r\n    {\r\n        int i = 0;\r\n        for (Iterator&lt;Integer&gt; it = this.iterator(); it.hasNext();)\r\n        {\r\n            int current = it.next();\r\n            if(current &gt; e)\r\n            {\r\n                super.add(i, e);\r\n                return true;\r\n            }\r\n            i++;\r\n        }\r\n        return super.add(e);\r\n    }\r\n\r\nThe above code creates a sorted list of integers, that is always sorted. It can easily be modified to work with any other datatype. However here you will have to avoid using the `add(index, value)` function, as that would obviously break the sorting.\r\n\r\nAlthough people above suggested using Arrays.sort(), I would avoid that, as it can be a significantly less efficient approach, especially since the sort method must be called with every addition to the list.","title":"Java List Sorting: Is there a way to keep a list permantly sorted automatically like TreeMap?","body":"<p>The best way to do this would be to override the add implementation of a list.\nI'm going to use a LinkedList to demonstrate it, as it allows for efficient insertion.</p>\n\n<pre><code>public boolean add(Integer e)\n{\n    int i = 0;\n    for (Iterator&lt;Integer&gt; it = this.iterator(); it.hasNext();)\n    {\n        int current = it.next();\n        if(current &gt; e)\n        {\n            super.add(i, e);\n            return true;\n        }\n        i++;\n    }\n    return super.add(e);\n}\n</code></pre>\n\n<p>The above code creates a sorted list of integers, that is always sorted. It can easily be modified to work with any other datatype. However here you will have to avoid using the <code>add(index, value)</code> function, as that would obviously break the sorting.</p>\n\n<p>Although people above suggested using Arrays.sort(), I would avoid that, as it can be a significantly less efficient approach, especially since the sort method must be called with every addition to the list.</p>\n"},{"tags":[],"owner":{"account_id":283609,"reputation":45044,"user_id":581205,"accept_rate":72,"display_name":"maaartinus"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1296860768,"creation_date":1296860768,"answer_id":4903802,"question_id":4903611,"body_markdown":"Something like TreeSet (or TreeMultiset in case you need duplicates) with more efficient random access is possible, but I doubt it was implemented in Java. Making each node of the tree remembers the size of its left subtree allows accessing an element by index in time `O(log(size))` which is not bad.\r\n\r\nIn order to implement it, you&#39;d need to rewrite a good portion of the underlying TreeMap.","title":"Java List Sorting: Is there a way to keep a list permantly sorted automatically like TreeMap?","body":"<p>Something like TreeSet (or TreeMultiset in case you need duplicates) with more efficient random access is possible, but I doubt it was implemented in Java. Making each node of the tree remembers the size of its left subtree allows accessing an element by index in time <code>O(log(size))</code> which is not bad.</p>\n\n<p>In order to implement it, you'd need to rewrite a good portion of the underlying TreeMap.</p>\n"},{"tags":[],"owner":{"account_id":282965,"reputation":3495,"user_id":580197,"display_name":"Eric Giguere"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1296861202,"creation_date":1296861202,"answer_id":4903845,"question_id":4903611,"body_markdown":"The obvious solution is to create your own class that implements the `java.util.List` interface and takes a `Comparator` as an argument to the constructor. You would use the comparator in the right spots, i.e. the `add` method would iterate through the existing items and insert the new item at the right spot. You would disallow calls to methods like `add(int index, Object obj)` and so on.\r\n\r\nIn fact, someone has to have created this already... a quick Google search reveals at least one example:\r\n\r\nhttp://www.ltg.ed.ac.uk/NITE/nxt/apidoc/net/sourceforge/nite/util/SortedList.html\r\n\r\n","title":"Java List Sorting: Is there a way to keep a list permantly sorted automatically like TreeMap?","body":"<p>The obvious solution is to create your own class that implements the <code>java.util.List</code> interface and takes a <code>Comparator</code> as an argument to the constructor. You would use the comparator in the right spots, i.e. the <code>add</code> method would iterate through the existing items and insert the new item at the right spot. You would disallow calls to methods like <code>add(int index, Object obj)</code> and so on.</p>\n\n<p>In fact, someone has to have created this already... a quick Google search reveals at least one example:</p>\n\n<p><a href=\"http://www.ltg.ed.ac.uk/NITE/nxt/apidoc/net/sourceforge/nite/util/SortedList.html\" rel=\"nofollow\">http://www.ltg.ed.ac.uk/NITE/nxt/apidoc/net/sourceforge/nite/util/SortedList.html</a></p>\n"},{"tags":[],"owner":{"account_id":295869,"reputation":73614,"user_id":600500,"accept_rate":54,"display_name":"Paŭlo Ebermann"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1296861260,"creation_date":1296861260,"answer_id":4903854,"question_id":4903611,"body_markdown":"The main difference between SortedSet and List is:\r\n\r\n   - SortedSet keeps it&#39;s element in the right order, but you can&#39;t really access a specific element by index.\r\n   - List allows indexed access, and arbitrary ordering of the elements. It also allows changing any element (by index or Iterator) to another element, without that the location changes.\r\n\r\nYou seem to want kind of a fusion of both: automatic sorting, and allowing (reasonable fast) index access. Depending on the size of data and how often indexed reading or adding new elements occur, these are my ideas:\r\n\r\n  - a wrapped ArrayList, where the add method used a ListIterator to find the insertion spot, then inserting the element there. This is O(n) for insertions, O(1) for indexed access.\r\n  - a wrapped LinkedList, where the add method used a ListIterator to find the insertion spot, then inserting the element there. (This still is O(n) for insertions (with sometimes quite smaller factor as ArrayList, sometimes even more), as well as indexed access.)\r\n  - a modified binary tree keeping track of the sizes of both halves on each level, thus enabling indexed access.  (This would be O(log n) for each access, but needs some extra programming, as it is not yet included in the Java SE. Or you find some library that can this.)\r\n\r\nIn any case, the interfaces and contracts of SortedSet and List are not really compatible, so you&#39;ll want the List part be read-only (or read-and-delete-only), not allowing setting and adding, and having an extra object (maybe implementing the Collection interface) for adding Objects.\r\n","title":"Java List Sorting: Is there a way to keep a list permantly sorted automatically like TreeMap?","body":"<p>The main difference between SortedSet and List is:</p>\n\n<ul>\n<li>SortedSet keeps it's element in the right order, but you can't really access a specific element by index.</li>\n<li>List allows indexed access, and arbitrary ordering of the elements. It also allows changing any element (by index or Iterator) to another element, without that the location changes.</li>\n</ul>\n\n<p>You seem to want kind of a fusion of both: automatic sorting, and allowing (reasonable fast) index access. Depending on the size of data and how often indexed reading or adding new elements occur, these are my ideas:</p>\n\n<ul>\n<li>a wrapped ArrayList, where the add method used a ListIterator to find the insertion spot, then inserting the element there. This is O(n) for insertions, O(1) for indexed access.</li>\n<li>a wrapped LinkedList, where the add method used a ListIterator to find the insertion spot, then inserting the element there. (This still is O(n) for insertions (with sometimes quite smaller factor as ArrayList, sometimes even more), as well as indexed access.)</li>\n<li>a modified binary tree keeping track of the sizes of both halves on each level, thus enabling indexed access.  (This would be O(log n) for each access, but needs some extra programming, as it is not yet included in the Java SE. Or you find some library that can this.)</li>\n</ul>\n\n<p>In any case, the interfaces and contracts of SortedSet and List are not really compatible, so you'll want the List part be read-only (or read-and-delete-only), not allowing setting and adding, and having an extra object (maybe implementing the Collection interface) for adding Objects.</p>\n"},{"tags":[],"owner":{"account_id":7848,"reputation":108920,"user_id":13792,"accept_rate":100,"display_name":"ColinD"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1296862832,"creation_date":1296862832,"answer_id":4903995,"question_id":4903611,"body_markdown":"I would use a [Guava][1] [TreeMultiset][2] assuming you want a `List` because you may have duplicate elements. It&#39;ll do everything you want. The one thing it won&#39;t have is index-based access, which doesn&#39;t make much sense given that you aren&#39;t putting elements at indices of your choosing anyway. The other thing to be aware of is that it won&#39;t actually store duplicates of `equal` objects... just a count of the total number of them.\r\n\r\n\r\n  [1]: http://guava-libraries.googlecode.com\r\n  [2]: http://guava-libraries.googlecode.com/svn/trunk/javadoc/com/google/common/collect/TreeMultiset.html","title":"Java List Sorting: Is there a way to keep a list permantly sorted automatically like TreeMap?","body":"<p>I would use a <a href=\"http://guava-libraries.googlecode.com\" rel=\"nofollow\">Guava</a> <a href=\"http://guava-libraries.googlecode.com/svn/trunk/javadoc/com/google/common/collect/TreeMultiset.html\" rel=\"nofollow\">TreeMultiset</a> assuming you want a <code>List</code> because you may have duplicate elements. It'll do everything you want. The one thing it won't have is index-based access, which doesn't make much sense given that you aren't putting elements at indices of your choosing anyway. The other thing to be aware of is that it won't actually store duplicates of <code>equal</code> objects... just a count of the total number of them.</p>\n"},{"tags":[],"owner":{"account_id":227148,"reputation":625,"user_id":488635,"display_name":"Vitaly Sazanovich"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1360533302,"creation_date":1360533302,"answer_id":14803032,"question_id":4903611,"body_markdown":"Consider [indexed-tree-map][1] that I created while facing a similar problem, you will be able to access elements by index and get index of elements while keeping the sort order. Duplicates can be put into arrays as values under the same key. \r\n\r\n\r\n  [1]: http://code.google.com/p/indexed-tree-map/","title":"Java List Sorting: Is there a way to keep a list permantly sorted automatically like TreeMap?","body":"<p>Consider <a href=\"http://code.google.com/p/indexed-tree-map/\" rel=\"nofollow\">indexed-tree-map</a> that I created while facing a similar problem, you will be able to access elements by index and get index of elements while keeping the sort order. Duplicates can be put into arrays as values under the same key. </p>\n"},{"tags":[],"owner":{"account_id":1312133,"reputation":3175,"user_id":1259924,"accept_rate":73,"display_name":"Greg Brown"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1389728423,"creation_date":1389728423,"answer_id":21122472,"question_id":4903611,"body_markdown":"The contract of the ListIterator interface makes it a bit cumbersome, but this method will perform the insertion using a single scan of the list (up to the insertion point):\r\n\r\n    private void add(Integer value) {\r\n        ListIterator&lt;Integer&gt; listIterator = list.listIterator();\r\n        \r\n        Integer next = null;\r\n        \r\n        while (listIterator.hasNext()) {\r\n            next = listIterator.next();\r\n\r\n            if (next.compareTo(value) &gt; 0) {                \r\n                break;\r\n            }\r\n        }\r\n\r\n        if (next == null || next.compareTo(value) &lt; 0) {\r\n            listIterator.add(value);\r\n        } else {\r\n            listIterator.set(value);\r\n            listIterator.add(next);\r\n        }\r\n    }\r\n","title":"Java List Sorting: Is there a way to keep a list permantly sorted automatically like TreeMap?","body":"<p>The contract of the ListIterator interface makes it a bit cumbersome, but this method will perform the insertion using a single scan of the list (up to the insertion point):</p>\n\n<pre><code>private void add(Integer value) {\n    ListIterator&lt;Integer&gt; listIterator = list.listIterator();\n\n    Integer next = null;\n\n    while (listIterator.hasNext()) {\n        next = listIterator.next();\n\n        if (next.compareTo(value) &gt; 0) {                \n            break;\n        }\n    }\n\n    if (next == null || next.compareTo(value) &lt; 0) {\n        listIterator.add(value);\n    } else {\n        listIterator.set(value);\n        listIterator.add(next);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4437340,"reputation":41,"user_id":3612834,"display_name":"ghostNet"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1535566840,"creation_date":1535488752,"answer_id":52065891,"question_id":4903611,"body_markdown":"In the JavaFX TransformationList hierarchy, there is something called a SortedList. The list is entirely observable so that additions/removals will notify any other listeners watching the list.\r\n\r\nThe basic approach to doing this is you watch another ObservableList&lt;T&gt; for changes and strategically use *Collections.binarySearch()* as others have suggested to locate the index of the addition or removal in Olog(n) time.\r\n\r\nThere is one problem that I have not seen mentioned here and that is the ability to track items added that have the same *compareTo* signature, i.e. T1.compareTo(T2) == 0. In this case the sorted list (I will post my own source code below) must have a wrapper element type, that I will call *Element*. This is similar to what the creators in JavaFX did with **SortedList**. The reason for this is entirely due to removal operations, it is impossible to locate the original element if there are compareTo duplicates. Normally in a *NavigableSet* implementation like TreeSet, these duplicates would never enter the Set. A list is different.\r\n\r\nI have a library of observable lists that can be effectively chained together (very similar to Java Streams) that fully propagate results downstream as the previous source in the chain updates.\r\n\r\n**Class Hierarchy**\r\n\r\n**Interface**\r\n\r\n    /**\r\n     * Binds the elements of this list to the function application of each element of a\r\n     * source observable list.\r\n     * &lt;p&gt;\r\n     * While a {@code IListContentBinding} is bound, any attempt to modify its contents\r\n     * will result in an {@code UnsupportedOperationException}. To unbind the list, call\r\n     * {@link #unbind() unbind}.\r\n     *\r\n     * @param &lt;S&gt; The element type of the input source list that will generate change\r\n     *            events.\r\n     * @param &lt;T&gt; The element type of this output list.\r\n     */\r\n    public interface IListContentBinding&lt;S, T&gt; extends ObservableList&lt;T&gt;, ObservableListValue&lt;T&gt;, IContentBinding {... details not shown ....}\r\n\r\n**Abstract Base Class for all Binding Types (Sort, Distinct, Map, FlatMap, etc.)**\r\n\r\n    /**\r\n     * Binds the elements of this list to the function application of each element of a\r\n     * source observable list.\r\n     * &lt;p&gt;\r\n     * While a {@code ListContentBinding} is bound, any attempt to modify its contents\r\n     * will result in an {@code UnsupportedOperationException}. To unbind the list, call\r\n     * {@link #unbind() unbind}.\r\n     *\r\n     * @param &lt;S&gt; The element type of the source list that will generate change events.\r\n     * @param &lt;T&gt; The element type of this binding.\r\n     */\r\n    public abstract class ListContentBinding&lt;S, T&gt; extends ObservableListWrapper&lt;T&gt;\r\n        implements IListContentBinding&lt;S, T&gt; {.... details not shown ....}\r\n\r\n**Sort Binding Class**\r\n\r\n    /**\r\n     * A {@code ListContentBinding} implementation that generates sorted elements from a\r\n     * source list. The comparator can be set to another {@code Comparator} function at\r\n     * any time through the {@link #comparatorProperty() comparator} property.\r\n     * &lt;p&gt;\r\n     * Unlike the Collections {@link Collections#sort(List) list sort} or Arrays\r\n     * {@link Arrays#sort(Object[]) array sort}, once this binding has been added to the\r\n     * order of duplicate elements cannot be guaranteed to match the original order of\r\n     * the source list. That is the insertion and removal mechanism do not guarantee that\r\n     * the original order of duplicates (those items where T1.compareTo(T2) == 0) is\r\n     * preserved. However, any removal from the source list is &lt;i&gt;guaranteed&lt;/i&gt; to\r\n     * remove the exact object from this sorted list. This is because an int &lt;i&gt;ID&lt;/i&gt; field\r\n     * is added to the wrapped item through the {@link Element} class to ensure that\r\n     * matching duplicates can be further compared.\r\n     * &lt;p&gt;\r\n     * Added/Removed objects from the source list are placed inside this sorted list\r\n     * through the {@link Arrays#binarySearch(Object[], Object, Comparator) array binary\r\n     * search} algorithm. For any duplicate item in the sorted list, a further check on\r\n     * the ID of the {@code Element} corresponding to that item is compared to the\r\n     * original, and that item. Each item added to this sorted list increases the\r\n     * counter, the maximum number of items that should be placed in this list should be\r\n     * no greater than {@code Integer.MAX_VALUE - Integer.MIN_VALUE}, or 4,294,967,295\r\n     * total elements. Sizes greater than this value for an instance of this class\r\n     * may produce unknown behavior.\r\n     * &lt;p&gt;\r\n     * Removal and additions to this list binding are proportional to &lt;i&gt;O(logn)&lt;/i&gt;\r\n     * runtime, where &lt;i&gt;n&lt;/i&gt; is the current total number of elements in this sorted\r\n     * list.\r\n     *\r\n     * @param &lt;T&gt; The element type of the source and this list binding.\r\n     */\r\n    class ListContentSortBinding&lt;T&gt; extends ListContentBinding&lt;T, T&gt; implements IListContentSortBinding&lt;T&gt; {\r\n    \r\n        /**\r\n         * Each location in the source list has a random value associated it with to deal\r\n         * with duplicate elements that would return T1.compareTo(T2) == 0.\r\n         */\r\n        private Element[] elements = newElementArray(10);\r\n    \r\n        /**\r\n         * The same elements from {@link #elements} but placed in their correct sorted\r\n         * position according to the {@link #elementComparator element comparator}.\r\n         */\r\n        protected Element[] sortedElements = newElementArray(10);\r\n    \r\n        /**\r\n         * Create a new instance.\r\n         *\r\n         * @param source The source observable list. Sorted elements will be generated\r\n         *            from the source and set as the content of this list binding.\r\n         * @param comparator The sorter. An observable that will update the comparator of\r\n         *            this binding when invalidated. The sorter can be set to another\r\n         *            {@code Comparator} function at anytime through the\r\n         *            {@link #comparatorProperty() comparator} property.\r\n         * @param options The options of this binding. Considers {@code DependencyOption}\r\n         *            instances.\r\n         *            &lt;p&gt;\r\n         *            All bindings consider {@code BeforeChangeOption} and\r\n         *            {@code AfterChangeOption}.\r\n         */\r\n        @SafeVarargs\r\n        ListContentSortBinding(ObservableList&lt;T&gt; source, ObservableObjectValue&lt;Comparator&lt;? super T&gt;&gt; comparator,\r\n            BindingOption&lt;T, T&gt;... options) {\r\n            this(source, comparator.get(), options);\r\n    \r\n            comparatorProperty().bind(comparator);\r\n        }\r\n    \r\n        /**\r\n         * Create a new instance.\r\n         *\r\n         * @param source The source observable list. Sorted elements will be generated\r\n         *            from the source and set as the content of this list binding.\r\n         * @param comparator The sorter. The sorter can be set to another\r\n         *            {@code Comparator} function at anytime through the\r\n         *            {@link #comparatorProperty() comparator} property.\r\n         * @param options The options of this binding. Considers {@code DependencyOption}\r\n         *            instances.\r\n         *            &lt;p&gt;\r\n         *            All bindings consider {@code BeforeChangeOption} and\r\n         *            {@code AfterChangeOption}.\r\n         */\r\n        @SafeVarargs\r\n        ListContentSortBinding(ObservableList&lt;T&gt; source, Comparator&lt;? super T&gt; comparator,\r\n            BindingOption&lt;T, T&gt;... options) {\r\n            super(new ArrayList&lt;&gt;(), options);\r\n    \r\n            List&lt;Observable&gt; observables = new ArrayList&lt;&gt;(\r\n                Arrays.asList(BindingOptionBuilder.extractDependencies(options)));\r\n    \r\n            setComparator(comparator);\r\n            observables.add(comparatorProperty());\r\n    \r\n            bind(source, observables.toArray(new Observable[observables.size()]));\r\n        }\r\n    \r\n        @Override\r\n        protected void sourceChanged(Change&lt;? extends T&gt; change) {\r\n            List&lt;? extends T&gt; source = change.getList();\r\n    \r\n            while (change.next()) {\r\n                int from = change.getFrom();\r\n    \r\n                if (change.wasPermutated() || change.wasUpdated()) {\r\n                    List&lt;? extends T&gt; srcMod = source.subList(from, change.getTo());\r\n    \r\n                    removed(source, from, srcMod.size());\r\n                    added(source, from, srcMod);\r\n                } else {\r\n                    List&lt;? extends T&gt; removed = change.getRemoved();\r\n                    List&lt;? extends T&gt; added = change.getAddedSubList();\r\n    \r\n                    if (change.wasReplaced()) {\r\n                        int min = Math.min(added.size(), removed.size());\r\n                        replaced(source, from, added.subList(0, min));\r\n    \r\n                        added = added.subList(min, added.size());\r\n                        removed = removed.subList(min, removed.size());\r\n                    }\r\n    \r\n                    if (removed.size() &gt; 0) {\r\n                        removed(source, from, removed.size());\r\n                    }\r\n    \r\n                    if (added.size() &gt; 0) {\r\n                        if (source.size() &gt;= elements.length) {\r\n                            ensureSize(source.size());\r\n                        }\r\n    \r\n                        added(source, from, added);\r\n                    }\r\n    \r\n                    ensureSize(source.size());\r\n                }\r\n            }\r\n        }\r\n    \r\n        /**\r\n         * Replace the items in this sorted list binding resulting from a replacement\r\n         * operation in the source list. For each of the items added starting at the\r\n         * &lt;i&gt;from&lt;/i&gt; index in the source list, and items was removed at the same source\r\n         * position.\r\n         *\r\n         * @param source The source list.\r\n         * @param from The index of where the replacement started in the source\r\n         *            (inclusive). The removed and added elements occurred starting at\r\n         *            the same source position.\r\n         * @param added The added source elements from the change.\r\n         */\r\n        @SuppressWarnings({})\r\n        private void replaced(List&lt;? extends T&gt; source, int from, List&lt;? extends T&gt; added) {\r\n            int oldSize = size();\r\n    \r\n            for (int i = 0; i &lt; added.size(); i++) {\r\n                int index = from + i;\r\n                Element e = elements[index];\r\n    \r\n                // Find the old element and remove it\r\n                int pos = findPosition(e, index, oldSize);\r\n    \r\n                System.arraycopy(sortedElements, pos + 1, sortedElements, pos, oldSize - pos - 1);\r\n    \r\n                remove(pos);\r\n    \r\n                T t = added.get(i);\r\n    \r\n                // Create a new element and add it\r\n                e = new Element(t);\r\n    \r\n                elements[index] = e;\r\n    \r\n                pos = findPosition(e, index, oldSize - 1);\r\n    \r\n                if (pos &lt; 0) {\r\n                    pos = ~pos;\r\n                }\r\n    \r\n                System.arraycopy(sortedElements, pos, sortedElements, pos + 1, oldSize - pos - 1);\r\n                sortedElements[pos] = e;\r\n    \r\n                add(pos, t);\r\n            }\r\n        }\r\n    \r\n        /**\r\n         * Add the elements from the source observable list to this binding.\r\n         *\r\n         * @param source The source list.\r\n         * @param from The index of where the addition started in the source (inclusive).\r\n         * @param added The added source elements from the change.\r\n         */\r\n        @SuppressWarnings({})\r\n        private void added(List&lt;? extends T&gt; source, int from, List&lt;? extends T&gt; added) {\r\n            if (size() == 0) {\r\n                int size = added.size();\r\n                Element[] temp = newElementArray(size);\r\n    \r\n                for (int i = 0; i &lt; added.size(); i++) {\r\n                    T t = added.get(i);\r\n                    Element e = new Element(t);\r\n    \r\n                    elements[i] = e;\r\n                    temp[i] = e;\r\n                }\r\n    \r\n                if (elementComparator == null) {\r\n                    addAll(added);\r\n                    return;\r\n                }\r\n    \r\n                Arrays.sort(temp, elementComparator);\r\n                System.arraycopy(temp, 0, sortedElements, 0, temp.length);\r\n    \r\n                addAll(Arrays.stream(temp).map(e -&gt; (T) e.t).collect(Collectors.toList()));\r\n    \r\n                return;\r\n            }\r\n    \r\n            int size = size();\r\n            System.arraycopy(elements, from, elements, from + added.size(), size - from);\r\n    \r\n            for (int i = 0; i &lt; added.size(); i++) {\r\n                int index = from + i;\r\n    \r\n                T t = added.get(i);\r\n                Element e = new Element(t);\r\n    \r\n                int pos = findPosition(e, index, size);\r\n    \r\n                if (pos &lt; 0) {\r\n                    pos = ~pos;\r\n                }\r\n    \r\n                elements[index] = e;\r\n    \r\n                if (pos &lt; size) {\r\n                    System.arraycopy(sortedElements, pos, sortedElements, pos + 1, size - pos);\r\n                }\r\n    \r\n                sortedElements[pos] = e;\r\n    \r\n                add(pos, t);\r\n                size++;\r\n            }\r\n        }\r\n    \r\n        /**\r\n         * Remove the elements from this binding that were removed from the source list.\r\n         * Update the {@link #elements} mapping.\r\n         *\r\n         * @param source The source list.\r\n         * @param from The index of where the removal started in the source (inclusive).\r\n         * @param removedSize The total number of removed elements from the source list\r\n         *            for the change.\r\n         */\r\n        @SuppressWarnings({})\r\n        private void removed(List&lt;? extends T&gt; source, int from, int removedSize) {\r\n            if (source.size() == 0) {\r\n                elements = newElementArray(10);\r\n                sortedElements = newElementArray(10);\r\n                elementCounter = Integer.MIN_VALUE;\r\n                clear();\r\n                return;\r\n            }\r\n    \r\n            int oldSize = size();\r\n            int size = oldSize;\r\n    \r\n            for (int i = 0; i &lt; removedSize; i++) {\r\n                int index = from + i;\r\n    \r\n                Element e = elements[index];\r\n    \r\n                int pos = findPosition(e, index, size);\r\n    \r\n                System.arraycopy(sortedElements, pos + 1, sortedElements, pos, size - pos - 1);\r\n    \r\n                remove(pos);\r\n                sortedElements[--size] = null;\r\n            }\r\n    \r\n            System.arraycopy(elements, from + removedSize, elements, from, oldSize - from - removedSize);\r\n    \r\n            for (int i = size; i &lt; oldSize; i++) {\r\n                elements[i] = null;\r\n            }\r\n        }\r\n    \r\n        /**\r\n         * Locate the position of the element in this sorted binding by performing a\r\n         * binary search. A binary search locates the index of the add in Olog(n) time.\r\n         *\r\n         * @param e The element to insert.\r\n         * @param sourceIndex The index of the source list of the modification.\r\n         * @param size The size of the array to search, exclusive.\r\n         *\r\n         * @return The position in this binding that the element should be inserted.\r\n         */\r\n        private int findPosition(Element e, int sourceIndex, int size) {\r\n            if (size() == 0) {\r\n                return 0;\r\n            }\r\n    \r\n            int pos;\r\n    \r\n            if (elementComparator != null) {\r\n                pos = Arrays.binarySearch(sortedElements, 0, size, e, elementComparator);\r\n            } else {\r\n                pos = sourceIndex;\r\n            }\r\n    \r\n            return pos;\r\n        }\r\n    \r\n        /**\r\n         * Ensure that the element array is large enough to handle new elements from the\r\n         * source list. Also shrinks the size of the array if it has become too large\r\n         * with respect to the source list.\r\n         *\r\n         * @param size The minimum size of the array.\r\n         */\r\n        private void ensureSize(int size) {\r\n            if (size &gt;= elements.length) {\r\n                int newSize = size * 3 / 2 + 1;\r\n    \r\n                Element[] replacement = newElementArray(newSize);\r\n                System.arraycopy(elements, 0, replacement, 0, elements.length);\r\n                elements = replacement;\r\n    \r\n                replacement = newElementArray(newSize);\r\n                System.arraycopy(sortedElements, 0, replacement, 0, sortedElements.length);\r\n                sortedElements = replacement;\r\n    \r\n            } else if (size &lt; elements.length / 4) {\r\n                int newSize = size * 3 / 2 + 1;\r\n    \r\n                Element[] replacement = newElementArray(newSize);\r\n                System.arraycopy(elements, 0, replacement, 0, replacement.length);\r\n                elements = replacement;\r\n    \r\n                replacement = newElementArray(newSize);\r\n                System.arraycopy(sortedElements, 0, replacement, 0, replacement.length);\r\n                sortedElements = replacement;\r\n            }\r\n        }\r\n    \r\n        /**\r\n         * Combines the {@link #comparatorProperty() item comparator} with a secondary\r\n         * comparison if the items are equal through the &lt;i&gt;compareTo&lt;/i&gt; operation. This\r\n         * is used to quickly find the original item when 2 or more items have the same\r\n         * comparison.\r\n         */\r\n        private Comparator&lt;Element&gt; elementComparator;\r\n    \r\n        /**\r\n         * @see #comparatorProperty()\r\n         */\r\n        private ObjectProperty&lt;Comparator&lt;? super T&gt;&gt; comparator =\r\n            new SimpleObjectProperty&lt;Comparator&lt;? super T&gt;&gt;(this, &quot;comparator&quot;) {\r\n                @Override\r\n                protected void invalidated() {\r\n                    Comparator&lt;? super T&gt; comp = get();\r\n    \r\n                    if (comp != null) {\r\n                        elementComparator = Comparator.nullsLast((e1, e2) -&gt; {\r\n                            int c = comp.compare(e1.t, e2.t);\r\n                            return c == 0 ? Integer.compare(e1.id, e2.id) : c;\r\n                        });\r\n                    } else {\r\n                        elementComparator = null;\r\n                    }\r\n                }\r\n            };\r\n    \r\n        @Override\r\n        public final ObjectProperty&lt;Comparator&lt;? super T&gt;&gt; comparatorProperty() {\r\n            return comparator;\r\n        }\r\n    \r\n        @Override\r\n        public final Comparator&lt;? super T&gt; getComparator() {\r\n            return comparatorProperty().get();\r\n        }\r\n    \r\n        @Override\r\n        public final void setComparator(Comparator&lt;? super T&gt; comparator) {\r\n            comparatorProperty().set(comparator);\r\n        }\r\n    \r\n        @Override\r\n        protected void onInvalidating(ObservableList&lt;T&gt; source) {\r\n            clear();\r\n            ensureSize(source.size());\r\n            added(source, 0, source);\r\n        }\r\n    \r\n        /**\r\n         * Counter starts at the Integer min value, and increments each time a new\r\n         * element is requested. If this list becomes empty, the counter is restarted at\r\n         * the min value.\r\n         */\r\n        private int elementCounter = Integer.MIN_VALUE;\r\n    \r\n        /**\r\n         * Generate a new array of {@code Element}.\r\n         *\r\n         * @param size The size of the array.\r\n         *\r\n         * @return A new array of null Elements.\r\n         */\r\n        @SuppressWarnings(&quot;unchecked&quot;)\r\n        private Element[] newElementArray(int size) {\r\n            return new ListContentSortBinding.Element[size];\r\n        }\r\n    \r\n**Wrapper Element Class**\r\n\r\n        /**\r\n         * Wrapper class to further aid in comparison of two object types &amp;lt;T&gt;. Since\r\n         * sorting in a list allows duplicates we must assure that when a removal occurs\r\n         * from the source list feeding this binding that the removed element matches. To\r\n         * do this we add an arbitrary &lt;i&gt;int&lt;/i&gt; field inside this element class that\r\n         * wraps around the original object type &amp;lt;T&gt;.\r\n         */\r\n        final class Element {\r\n            /** Object */\r\n            private final T t;\r\n            /** ID helper for T type duplicates */\r\n            private int id;\r\n    \r\n            Element(T t) {\r\n                this.t = Objects.requireNonNull(t);\r\n                this.id = elementCounter++;\r\n            }\r\n    \r\n            @Override\r\n            public String toString() {\r\n                return t.toString() + &quot; (&quot; + id + &quot;)&quot;;\r\n            }\r\n        }\r\n    }\r\n\r\n**JUNIT VERIFICATION TEST**\r\n\r\n    @Test\r\n    public void testSortBinding() {\r\n        ObservableList&lt;IntWrapper&gt; source = FXCollections.observableArrayList();\r\n\r\n        int size = 100000;\r\n\r\n        for (int i = 0; i &lt; size / 2; i++) {\r\n            int index = (int) (Math.random() * size / 10);\r\n            source.add(new IntWrapper(index));\r\n        }\r\n\r\n        ListContentSortBinding&lt;IntWrapper&gt; binding =\r\n            (ListContentSortBinding&lt;IntWrapper&gt;) CollectionBindings.createListBinding(source).sortElements();\r\n\r\n        Assert.assertEquals(&quot;Sizes not equal for sorted binding | Expected: &quot; +\r\n            source.size() + &quot;, Actual: &quot; + binding.size(),\r\n            source.size(), binding.size());\r\n\r\n        List&lt;IntWrapper&gt; sourceSorted = new ArrayList&lt;&gt;(source);\r\n        Collections.sort(sourceSorted);\r\n\r\n        for (int i = 0; i &lt; source.size(); i++) {\r\n            IntWrapper expected = sourceSorted.get(i);\r\n            IntWrapper actual = binding.get(i);\r\n\r\n            Assert.assertEquals(&quot;Elements not equal in expected sorted lists | Expected: &quot; +\r\n                expected.value + &quot;, Actual: &quot; + actual.value,\r\n                expected.value, actual.value);\r\n        }\r\n\r\n        System.out.println(&quot;Sorted Elements Equal: Complete.&quot;);\r\n\r\n        // Randomly add chunks of elements at random locations in the source\r\n\r\n        int addSize = size / 10000;\r\n\r\n        for (int i = 0; i &lt; size / 4; i++) {\r\n            List&lt;IntWrapper&gt; added = new ArrayList&lt;&gt;();\r\n            int toAdd = (int) (Math.random() * addSize);\r\n\r\n            for (int j = 0; j &lt; toAdd; j++) {\r\n                int index = (int) (Math.random() * size / 10);\r\n                added.add(new IntWrapper(index));\r\n            }\r\n\r\n            int atIndex = (int) (Math.random() * source.size());\r\n            source.addAll(atIndex, added);\r\n        }\r\n\r\n        sourceSorted = new ArrayList&lt;&gt;(source);\r\n        Collections.sort(sourceSorted);\r\n\r\n        for (int i = 0; i &lt; source.size(); i++) {\r\n            IntWrapper expected = sourceSorted.get(i);\r\n            IntWrapper actual = binding.get(i);\r\n\r\n            Assert.assertEquals(&quot;Elements not equal in expected sorted lists | Expected: &quot; +\r\n                expected.value + &quot;, Actual: &quot; + actual.value,\r\n                expected.value, actual.value);\r\n        }\r\n\r\n        System.out.println(&quot;Sorted Elements Equal - Add Multiple Elements: Complete.&quot;);\r\n\r\n        // Remove one element at a time from the source list and compare\r\n        // to the elements that were removed from the sorted binding\r\n        // as a result. They should all be identical index for index.\r\n\r\n        List&lt;IntWrapper&gt; sourceRemoved = new ArrayList&lt;&gt;();\r\n        List&lt;IntWrapper&gt; bindingRemoved = new ArrayList&lt;&gt;();\r\n\r\n        ListChangeListener&lt;IntWrapper&gt; bindingListener = change -&gt; {\r\n            while (change.next()) {\r\n                if (change.wasRemoved()) {\r\n                    bindingRemoved.addAll(change.getRemoved());\r\n                }\r\n            }\r\n        };\r\n\r\n        // Watch the binding for changes after the upstream source changes\r\n\r\n        binding.addListener(bindingListener);\r\n\r\n        for (int i = 0; i &lt; size / 4; i++) {\r\n            int index = (int) (Math.random() * source.size());\r\n            IntWrapper removed = source.remove(index);\r\n            sourceRemoved.add(removed);\r\n        }\r\n\r\n        for (int i = 0; i &lt; bindingRemoved.size(); i++) {\r\n            IntWrapper expected = bindingRemoved.get(i);\r\n            IntWrapper actual = sourceRemoved.get(i);\r\n\r\n            Assert.assertEquals(&quot;Elements not equal in expected sorted lists | Expected: &quot; +\r\n                expected + &quot;, Actual: &quot; + actual,\r\n                expected.value, actual.value);\r\n\r\n            Assert.assertEquals(&quot;Element refs not equal in expected sorted lists | Expected: &quot; +\r\n                expected.value + &quot;, Actual: &quot; + actual.value,\r\n                expected.r, actual.r, 0);\r\n        }\r\n\r\n        System.out.println(&quot;Sorted Remove Single Element: Complete.&quot;);\r\n\r\n        // Replace random elements from the source list\r\n\r\n        bindingRemoved.clear();\r\n        sourceRemoved.clear();\r\n        int removeSize = size / 10000;\r\n\r\n        for (int i = 0; i &lt; size / 1000; i++) {\r\n            int replaceIndex = (int) (Math.random() * source.size());\r\n\r\n            int index = (int) (Math.random() * size / 10);\r\n            IntWrapper replace = new IntWrapper(index);\r\n\r\n            source.set(replaceIndex, replace);\r\n        }\r\n\r\n        sourceSorted = new ArrayList&lt;&gt;(source);\r\n        Collections.sort(sourceSorted);\r\n\r\n        for (int i = 0; i &lt; source.size(); i++) {\r\n            IntWrapper expected = sourceSorted.get(i);\r\n            IntWrapper actual = binding.get(i);\r\n\r\n            Assert.assertEquals(&quot;Elements not equal in expected sorted lists | Expected: &quot; +\r\n                expected.value + &quot;, Actual: &quot; + actual.value,\r\n                expected.value, actual.value);\r\n        }\r\n\r\n        System.out.println(&quot;Sorted Elements Replace: Complete.&quot;);\r\n\r\n        // Remove random chunks from the source list\r\n\r\n        bindingRemoved.clear();\r\n        sourceRemoved.clear();\r\n        Set&lt;IntWrapper&gt; sourceRemovedSet =\r\n            Collections.newSetFromMap(new IdentityHashMap&lt;&gt;()); // set for speed\r\n\r\n        while (source.size() &gt; 0) {\r\n            int index = (int) (Math.random() * source.size());\r\n            int toRemove = (int) (Math.random() * removeSize);\r\n            toRemove = Math.min(toRemove, source.size() - index);\r\n\r\n            List&lt;IntWrapper&gt; removed = source.subList(index, index + toRemove);\r\n            sourceRemovedSet.addAll(new ArrayList&lt;&gt;(removed));\r\n\r\n            removed.clear(); // triggers list change update to binding\r\n        }\r\n\r\n        Assert.assertEquals(bindingRemoved.size(), sourceRemovedSet.size());\r\n\r\n        // The binding removed will not necessarily be placed in the same order\r\n        // since the change listener on the binding will make sure that the final\r\n        // order of the change from the binding is in the same order as the binding\r\n        // element sequence. We therefore must do a contains() to test.\r\n\r\n        for (int i = 0; i &lt; bindingRemoved.size(); i++) {\r\n            IntWrapper expected = bindingRemoved.get(i);\r\n\r\n            Assert.assertTrue(&quot;Binding Removed Did Not Contain Source Removed&quot;,\r\n                sourceRemovedSet.contains(expected));\r\n        }\r\n\r\n        System.out.println(&quot;Sorted Removed Multiple Elements: Complete.&quot;);\r\n    }\r\n\r\n**JUNIT BENCHMARK TEST**\r\n\r\n      @Test\r\n    public void sortBindingBenchmark() {\r\n        ObservableList&lt;IntWrapper&gt; source = FXCollections.observableArrayList();\r\n\r\n        ObservableList&lt;IntWrapper&gt; binding =\r\n            (ListContentSortBinding&lt;IntWrapper&gt;) CollectionBindings.createListBinding(source).sortElements();\r\n\r\n        int size = 200000;\r\n\r\n        Set&lt;IntWrapper&gt; toAdd = new TreeSet&lt;&gt;();\r\n\r\n        while (toAdd.size() &lt; size) {\r\n            int index = (int) (Math.random() * size * 20);\r\n            toAdd.add(new IntWrapper(index));\r\n        }\r\n\r\n        // Randomize the order\r\n        toAdd = new HashSet&lt;&gt;(toAdd);\r\n\r\n        System.out.println(&quot;Sorted Binding Benchmark Setup: Complete.&quot;);\r\n\r\n        long time = System.currentTimeMillis();\r\n\r\n        for (IntWrapper w : toAdd) {\r\n            source.add(w);\r\n        }\r\n\r\n        long bindingTime = System.currentTimeMillis() - time;\r\n\r\n        System.out.println(&quot;Sorted Binding Time: Complete.&quot;);\r\n\r\n        source.clear(); // clear the list and re-add\r\n\r\n        ObservableList&lt;IntWrapper&gt; sortedList = new SortedList&lt;&gt;(source);\r\n\r\n        time = System.currentTimeMillis();\r\n\r\n        for (IntWrapper w : toAdd) {\r\n            source.add(w);\r\n        }\r\n\r\n        long sortedListTime = System.currentTimeMillis() - time;\r\n\r\n        System.out.println(&quot;JavaFX Sorted List Time: Complete.&quot;);\r\n\r\n        // Make the test &quot;fair&quot; by adding a listener to an observable\r\n        // set that populates the sorted set\r\n\r\n        ObservableSet&lt;IntWrapper&gt; obsSet = FXCollections.observableSet(new HashSet&lt;&gt;());\r\n        Set&lt;IntWrapper&gt; sortedSet = new TreeSet&lt;&gt;();\r\n\r\n        obsSet.addListener((SetChangeListener&lt;IntWrapper&gt;) change -&gt; {\r\n            sortedSet.add(change.getElementAdded());\r\n        });\r\n\r\n        time = System.currentTimeMillis();\r\n\r\n        for (IntWrapper w : toAdd) {\r\n            obsSet.add(w);\r\n        }\r\n\r\n        long setTime = System.currentTimeMillis() - time;\r\n\r\n        System.out.println(&quot;Sorted Binding Benchmark Time: Complete&quot;);\r\n\r\n        Assert.assertEquals(sortedSet.size(), binding.size());\r\n\r\n        System.out.println(&quot;Binding: &quot; + bindingTime + &quot; ms, &quot; +\r\n            &quot;JavaFX Sorted List: &quot; + sortedListTime + &quot; ms, &quot; +\r\n            &quot;TreeSet: &quot; + setTime + &quot; ms&quot;);\r\n    }\r\n\r\n**Wrapper Class for Tests Only**\r\n\r\n        /**\r\n         * Wrapper class for testing sort bindings. Verifies that duplicates were sorted\r\n         * and removed correctly based on the object instance.\r\n         */\r\n    private static class IntWrapper implements Comparable&lt;IntWrapper&gt; {\r\n        static int counter = Integer.MIN_VALUE;\r\n        final int value;\r\n        final int id;\r\n\r\n        IntWrapper(int value) {\r\n            this.value = value;\r\n            this.id = counter++;\r\n        }","title":"Java List Sorting: Is there a way to keep a list permantly sorted automatically like TreeMap?","body":"<p>In the JavaFX TransformationList hierarchy, there is something called a SortedList. The list is entirely observable so that additions/removals will notify any other listeners watching the list.</p>\n\n<p>The basic approach to doing this is you watch another ObservableList for changes and strategically use <em>Collections.binarySearch()</em> as others have suggested to locate the index of the addition or removal in Olog(n) time.</p>\n\n<p>There is one problem that I have not seen mentioned here and that is the ability to track items added that have the same <em>compareTo</em> signature, i.e. T1.compareTo(T2) == 0. In this case the sorted list (I will post my own source code below) must have a wrapper element type, that I will call <em>Element</em>. This is similar to what the creators in JavaFX did with <strong>SortedList</strong>. The reason for this is entirely due to removal operations, it is impossible to locate the original element if there are compareTo duplicates. Normally in a <em>NavigableSet</em> implementation like TreeSet, these duplicates would never enter the Set. A list is different.</p>\n\n<p>I have a library of observable lists that can be effectively chained together (very similar to Java Streams) that fully propagate results downstream as the previous source in the chain updates.</p>\n\n<p><strong>Class Hierarchy</strong></p>\n\n<p><strong>Interface</strong></p>\n\n<pre><code>/**\n * Binds the elements of this list to the function application of each element of a\n * source observable list.\n * &lt;p&gt;\n * While a {@code IListContentBinding} is bound, any attempt to modify its contents\n * will result in an {@code UnsupportedOperationException}. To unbind the list, call\n * {@link #unbind() unbind}.\n *\n * @param &lt;S&gt; The element type of the input source list that will generate change\n *            events.\n * @param &lt;T&gt; The element type of this output list.\n */\npublic interface IListContentBinding&lt;S, T&gt; extends ObservableList&lt;T&gt;, ObservableListValue&lt;T&gt;, IContentBinding {... details not shown ....}\n</code></pre>\n\n<p><strong>Abstract Base Class for all Binding Types (Sort, Distinct, Map, FlatMap, etc.)</strong></p>\n\n<pre><code>/**\n * Binds the elements of this list to the function application of each element of a\n * source observable list.\n * &lt;p&gt;\n * While a {@code ListContentBinding} is bound, any attempt to modify its contents\n * will result in an {@code UnsupportedOperationException}. To unbind the list, call\n * {@link #unbind() unbind}.\n *\n * @param &lt;S&gt; The element type of the source list that will generate change events.\n * @param &lt;T&gt; The element type of this binding.\n */\npublic abstract class ListContentBinding&lt;S, T&gt; extends ObservableListWrapper&lt;T&gt;\n    implements IListContentBinding&lt;S, T&gt; {.... details not shown ....}\n</code></pre>\n\n<p><strong>Sort Binding Class</strong></p>\n\n<pre><code>/**\n * A {@code ListContentBinding} implementation that generates sorted elements from a\n * source list. The comparator can be set to another {@code Comparator} function at\n * any time through the {@link #comparatorProperty() comparator} property.\n * &lt;p&gt;\n * Unlike the Collections {@link Collections#sort(List) list sort} or Arrays\n * {@link Arrays#sort(Object[]) array sort}, once this binding has been added to the\n * order of duplicate elements cannot be guaranteed to match the original order of\n * the source list. That is the insertion and removal mechanism do not guarantee that\n * the original order of duplicates (those items where T1.compareTo(T2) == 0) is\n * preserved. However, any removal from the source list is &lt;i&gt;guaranteed&lt;/i&gt; to\n * remove the exact object from this sorted list. This is because an int &lt;i&gt;ID&lt;/i&gt; field\n * is added to the wrapped item through the {@link Element} class to ensure that\n * matching duplicates can be further compared.\n * &lt;p&gt;\n * Added/Removed objects from the source list are placed inside this sorted list\n * through the {@link Arrays#binarySearch(Object[], Object, Comparator) array binary\n * search} algorithm. For any duplicate item in the sorted list, a further check on\n * the ID of the {@code Element} corresponding to that item is compared to the\n * original, and that item. Each item added to this sorted list increases the\n * counter, the maximum number of items that should be placed in this list should be\n * no greater than {@code Integer.MAX_VALUE - Integer.MIN_VALUE}, or 4,294,967,295\n * total elements. Sizes greater than this value for an instance of this class\n * may produce unknown behavior.\n * &lt;p&gt;\n * Removal and additions to this list binding are proportional to &lt;i&gt;O(logn)&lt;/i&gt;\n * runtime, where &lt;i&gt;n&lt;/i&gt; is the current total number of elements in this sorted\n * list.\n *\n * @param &lt;T&gt; The element type of the source and this list binding.\n */\nclass ListContentSortBinding&lt;T&gt; extends ListContentBinding&lt;T, T&gt; implements IListContentSortBinding&lt;T&gt; {\n\n    /**\n     * Each location in the source list has a random value associated it with to deal\n     * with duplicate elements that would return T1.compareTo(T2) == 0.\n     */\n    private Element[] elements = newElementArray(10);\n\n    /**\n     * The same elements from {@link #elements} but placed in their correct sorted\n     * position according to the {@link #elementComparator element comparator}.\n     */\n    protected Element[] sortedElements = newElementArray(10);\n\n    /**\n     * Create a new instance.\n     *\n     * @param source The source observable list. Sorted elements will be generated\n     *            from the source and set as the content of this list binding.\n     * @param comparator The sorter. An observable that will update the comparator of\n     *            this binding when invalidated. The sorter can be set to another\n     *            {@code Comparator} function at anytime through the\n     *            {@link #comparatorProperty() comparator} property.\n     * @param options The options of this binding. Considers {@code DependencyOption}\n     *            instances.\n     *            &lt;p&gt;\n     *            All bindings consider {@code BeforeChangeOption} and\n     *            {@code AfterChangeOption}.\n     */\n    @SafeVarargs\n    ListContentSortBinding(ObservableList&lt;T&gt; source, ObservableObjectValue&lt;Comparator&lt;? super T&gt;&gt; comparator,\n        BindingOption&lt;T, T&gt;... options) {\n        this(source, comparator.get(), options);\n\n        comparatorProperty().bind(comparator);\n    }\n\n    /**\n     * Create a new instance.\n     *\n     * @param source The source observable list. Sorted elements will be generated\n     *            from the source and set as the content of this list binding.\n     * @param comparator The sorter. The sorter can be set to another\n     *            {@code Comparator} function at anytime through the\n     *            {@link #comparatorProperty() comparator} property.\n     * @param options The options of this binding. Considers {@code DependencyOption}\n     *            instances.\n     *            &lt;p&gt;\n     *            All bindings consider {@code BeforeChangeOption} and\n     *            {@code AfterChangeOption}.\n     */\n    @SafeVarargs\n    ListContentSortBinding(ObservableList&lt;T&gt; source, Comparator&lt;? super T&gt; comparator,\n        BindingOption&lt;T, T&gt;... options) {\n        super(new ArrayList&lt;&gt;(), options);\n\n        List&lt;Observable&gt; observables = new ArrayList&lt;&gt;(\n            Arrays.asList(BindingOptionBuilder.extractDependencies(options)));\n\n        setComparator(comparator);\n        observables.add(comparatorProperty());\n\n        bind(source, observables.toArray(new Observable[observables.size()]));\n    }\n\n    @Override\n    protected void sourceChanged(Change&lt;? extends T&gt; change) {\n        List&lt;? extends T&gt; source = change.getList();\n\n        while (change.next()) {\n            int from = change.getFrom();\n\n            if (change.wasPermutated() || change.wasUpdated()) {\n                List&lt;? extends T&gt; srcMod = source.subList(from, change.getTo());\n\n                removed(source, from, srcMod.size());\n                added(source, from, srcMod);\n            } else {\n                List&lt;? extends T&gt; removed = change.getRemoved();\n                List&lt;? extends T&gt; added = change.getAddedSubList();\n\n                if (change.wasReplaced()) {\n                    int min = Math.min(added.size(), removed.size());\n                    replaced(source, from, added.subList(0, min));\n\n                    added = added.subList(min, added.size());\n                    removed = removed.subList(min, removed.size());\n                }\n\n                if (removed.size() &gt; 0) {\n                    removed(source, from, removed.size());\n                }\n\n                if (added.size() &gt; 0) {\n                    if (source.size() &gt;= elements.length) {\n                        ensureSize(source.size());\n                    }\n\n                    added(source, from, added);\n                }\n\n                ensureSize(source.size());\n            }\n        }\n    }\n\n    /**\n     * Replace the items in this sorted list binding resulting from a replacement\n     * operation in the source list. For each of the items added starting at the\n     * &lt;i&gt;from&lt;/i&gt; index in the source list, and items was removed at the same source\n     * position.\n     *\n     * @param source The source list.\n     * @param from The index of where the replacement started in the source\n     *            (inclusive). The removed and added elements occurred starting at\n     *            the same source position.\n     * @param added The added source elements from the change.\n     */\n    @SuppressWarnings({})\n    private void replaced(List&lt;? extends T&gt; source, int from, List&lt;? extends T&gt; added) {\n        int oldSize = size();\n\n        for (int i = 0; i &lt; added.size(); i++) {\n            int index = from + i;\n            Element e = elements[index];\n\n            // Find the old element and remove it\n            int pos = findPosition(e, index, oldSize);\n\n            System.arraycopy(sortedElements, pos + 1, sortedElements, pos, oldSize - pos - 1);\n\n            remove(pos);\n\n            T t = added.get(i);\n\n            // Create a new element and add it\n            e = new Element(t);\n\n            elements[index] = e;\n\n            pos = findPosition(e, index, oldSize - 1);\n\n            if (pos &lt; 0) {\n                pos = ~pos;\n            }\n\n            System.arraycopy(sortedElements, pos, sortedElements, pos + 1, oldSize - pos - 1);\n            sortedElements[pos] = e;\n\n            add(pos, t);\n        }\n    }\n\n    /**\n     * Add the elements from the source observable list to this binding.\n     *\n     * @param source The source list.\n     * @param from The index of where the addition started in the source (inclusive).\n     * @param added The added source elements from the change.\n     */\n    @SuppressWarnings({})\n    private void added(List&lt;? extends T&gt; source, int from, List&lt;? extends T&gt; added) {\n        if (size() == 0) {\n            int size = added.size();\n            Element[] temp = newElementArray(size);\n\n            for (int i = 0; i &lt; added.size(); i++) {\n                T t = added.get(i);\n                Element e = new Element(t);\n\n                elements[i] = e;\n                temp[i] = e;\n            }\n\n            if (elementComparator == null) {\n                addAll(added);\n                return;\n            }\n\n            Arrays.sort(temp, elementComparator);\n            System.arraycopy(temp, 0, sortedElements, 0, temp.length);\n\n            addAll(Arrays.stream(temp).map(e -&gt; (T) e.t).collect(Collectors.toList()));\n\n            return;\n        }\n\n        int size = size();\n        System.arraycopy(elements, from, elements, from + added.size(), size - from);\n\n        for (int i = 0; i &lt; added.size(); i++) {\n            int index = from + i;\n\n            T t = added.get(i);\n            Element e = new Element(t);\n\n            int pos = findPosition(e, index, size);\n\n            if (pos &lt; 0) {\n                pos = ~pos;\n            }\n\n            elements[index] = e;\n\n            if (pos &lt; size) {\n                System.arraycopy(sortedElements, pos, sortedElements, pos + 1, size - pos);\n            }\n\n            sortedElements[pos] = e;\n\n            add(pos, t);\n            size++;\n        }\n    }\n\n    /**\n     * Remove the elements from this binding that were removed from the source list.\n     * Update the {@link #elements} mapping.\n     *\n     * @param source The source list.\n     * @param from The index of where the removal started in the source (inclusive).\n     * @param removedSize The total number of removed elements from the source list\n     *            for the change.\n     */\n    @SuppressWarnings({})\n    private void removed(List&lt;? extends T&gt; source, int from, int removedSize) {\n        if (source.size() == 0) {\n            elements = newElementArray(10);\n            sortedElements = newElementArray(10);\n            elementCounter = Integer.MIN_VALUE;\n            clear();\n            return;\n        }\n\n        int oldSize = size();\n        int size = oldSize;\n\n        for (int i = 0; i &lt; removedSize; i++) {\n            int index = from + i;\n\n            Element e = elements[index];\n\n            int pos = findPosition(e, index, size);\n\n            System.arraycopy(sortedElements, pos + 1, sortedElements, pos, size - pos - 1);\n\n            remove(pos);\n            sortedElements[--size] = null;\n        }\n\n        System.arraycopy(elements, from + removedSize, elements, from, oldSize - from - removedSize);\n\n        for (int i = size; i &lt; oldSize; i++) {\n            elements[i] = null;\n        }\n    }\n\n    /**\n     * Locate the position of the element in this sorted binding by performing a\n     * binary search. A binary search locates the index of the add in Olog(n) time.\n     *\n     * @param e The element to insert.\n     * @param sourceIndex The index of the source list of the modification.\n     * @param size The size of the array to search, exclusive.\n     *\n     * @return The position in this binding that the element should be inserted.\n     */\n    private int findPosition(Element e, int sourceIndex, int size) {\n        if (size() == 0) {\n            return 0;\n        }\n\n        int pos;\n\n        if (elementComparator != null) {\n            pos = Arrays.binarySearch(sortedElements, 0, size, e, elementComparator);\n        } else {\n            pos = sourceIndex;\n        }\n\n        return pos;\n    }\n\n    /**\n     * Ensure that the element array is large enough to handle new elements from the\n     * source list. Also shrinks the size of the array if it has become too large\n     * with respect to the source list.\n     *\n     * @param size The minimum size of the array.\n     */\n    private void ensureSize(int size) {\n        if (size &gt;= elements.length) {\n            int newSize = size * 3 / 2 + 1;\n\n            Element[] replacement = newElementArray(newSize);\n            System.arraycopy(elements, 0, replacement, 0, elements.length);\n            elements = replacement;\n\n            replacement = newElementArray(newSize);\n            System.arraycopy(sortedElements, 0, replacement, 0, sortedElements.length);\n            sortedElements = replacement;\n\n        } else if (size &lt; elements.length / 4) {\n            int newSize = size * 3 / 2 + 1;\n\n            Element[] replacement = newElementArray(newSize);\n            System.arraycopy(elements, 0, replacement, 0, replacement.length);\n            elements = replacement;\n\n            replacement = newElementArray(newSize);\n            System.arraycopy(sortedElements, 0, replacement, 0, replacement.length);\n            sortedElements = replacement;\n        }\n    }\n\n    /**\n     * Combines the {@link #comparatorProperty() item comparator} with a secondary\n     * comparison if the items are equal through the &lt;i&gt;compareTo&lt;/i&gt; operation. This\n     * is used to quickly find the original item when 2 or more items have the same\n     * comparison.\n     */\n    private Comparator&lt;Element&gt; elementComparator;\n\n    /**\n     * @see #comparatorProperty()\n     */\n    private ObjectProperty&lt;Comparator&lt;? super T&gt;&gt; comparator =\n        new SimpleObjectProperty&lt;Comparator&lt;? super T&gt;&gt;(this, \"comparator\") {\n            @Override\n            protected void invalidated() {\n                Comparator&lt;? super T&gt; comp = get();\n\n                if (comp != null) {\n                    elementComparator = Comparator.nullsLast((e1, e2) -&gt; {\n                        int c = comp.compare(e1.t, e2.t);\n                        return c == 0 ? Integer.compare(e1.id, e2.id) : c;\n                    });\n                } else {\n                    elementComparator = null;\n                }\n            }\n        };\n\n    @Override\n    public final ObjectProperty&lt;Comparator&lt;? super T&gt;&gt; comparatorProperty() {\n        return comparator;\n    }\n\n    @Override\n    public final Comparator&lt;? super T&gt; getComparator() {\n        return comparatorProperty().get();\n    }\n\n    @Override\n    public final void setComparator(Comparator&lt;? super T&gt; comparator) {\n        comparatorProperty().set(comparator);\n    }\n\n    @Override\n    protected void onInvalidating(ObservableList&lt;T&gt; source) {\n        clear();\n        ensureSize(source.size());\n        added(source, 0, source);\n    }\n\n    /**\n     * Counter starts at the Integer min value, and increments each time a new\n     * element is requested. If this list becomes empty, the counter is restarted at\n     * the min value.\n     */\n    private int elementCounter = Integer.MIN_VALUE;\n\n    /**\n     * Generate a new array of {@code Element}.\n     *\n     * @param size The size of the array.\n     *\n     * @return A new array of null Elements.\n     */\n    @SuppressWarnings(\"unchecked\")\n    private Element[] newElementArray(int size) {\n        return new ListContentSortBinding.Element[size];\n    }\n</code></pre>\n\n<p><strong>Wrapper Element Class</strong></p>\n\n<pre><code>    /**\n     * Wrapper class to further aid in comparison of two object types &amp;lt;T&gt;. Since\n     * sorting in a list allows duplicates we must assure that when a removal occurs\n     * from the source list feeding this binding that the removed element matches. To\n     * do this we add an arbitrary &lt;i&gt;int&lt;/i&gt; field inside this element class that\n     * wraps around the original object type &amp;lt;T&gt;.\n     */\n    final class Element {\n        /** Object */\n        private final T t;\n        /** ID helper for T type duplicates */\n        private int id;\n\n        Element(T t) {\n            this.t = Objects.requireNonNull(t);\n            this.id = elementCounter++;\n        }\n\n        @Override\n        public String toString() {\n            return t.toString() + \" (\" + id + \")\";\n        }\n    }\n}\n</code></pre>\n\n<p><strong>JUNIT VERIFICATION TEST</strong></p>\n\n<pre><code>@Test\npublic void testSortBinding() {\n    ObservableList&lt;IntWrapper&gt; source = FXCollections.observableArrayList();\n\n    int size = 100000;\n\n    for (int i = 0; i &lt; size / 2; i++) {\n        int index = (int) (Math.random() * size / 10);\n        source.add(new IntWrapper(index));\n    }\n\n    ListContentSortBinding&lt;IntWrapper&gt; binding =\n        (ListContentSortBinding&lt;IntWrapper&gt;) CollectionBindings.createListBinding(source).sortElements();\n\n    Assert.assertEquals(\"Sizes not equal for sorted binding | Expected: \" +\n        source.size() + \", Actual: \" + binding.size(),\n        source.size(), binding.size());\n\n    List&lt;IntWrapper&gt; sourceSorted = new ArrayList&lt;&gt;(source);\n    Collections.sort(sourceSorted);\n\n    for (int i = 0; i &lt; source.size(); i++) {\n        IntWrapper expected = sourceSorted.get(i);\n        IntWrapper actual = binding.get(i);\n\n        Assert.assertEquals(\"Elements not equal in expected sorted lists | Expected: \" +\n            expected.value + \", Actual: \" + actual.value,\n            expected.value, actual.value);\n    }\n\n    System.out.println(\"Sorted Elements Equal: Complete.\");\n\n    // Randomly add chunks of elements at random locations in the source\n\n    int addSize = size / 10000;\n\n    for (int i = 0; i &lt; size / 4; i++) {\n        List&lt;IntWrapper&gt; added = new ArrayList&lt;&gt;();\n        int toAdd = (int) (Math.random() * addSize);\n\n        for (int j = 0; j &lt; toAdd; j++) {\n            int index = (int) (Math.random() * size / 10);\n            added.add(new IntWrapper(index));\n        }\n\n        int atIndex = (int) (Math.random() * source.size());\n        source.addAll(atIndex, added);\n    }\n\n    sourceSorted = new ArrayList&lt;&gt;(source);\n    Collections.sort(sourceSorted);\n\n    for (int i = 0; i &lt; source.size(); i++) {\n        IntWrapper expected = sourceSorted.get(i);\n        IntWrapper actual = binding.get(i);\n\n        Assert.assertEquals(\"Elements not equal in expected sorted lists | Expected: \" +\n            expected.value + \", Actual: \" + actual.value,\n            expected.value, actual.value);\n    }\n\n    System.out.println(\"Sorted Elements Equal - Add Multiple Elements: Complete.\");\n\n    // Remove one element at a time from the source list and compare\n    // to the elements that were removed from the sorted binding\n    // as a result. They should all be identical index for index.\n\n    List&lt;IntWrapper&gt; sourceRemoved = new ArrayList&lt;&gt;();\n    List&lt;IntWrapper&gt; bindingRemoved = new ArrayList&lt;&gt;();\n\n    ListChangeListener&lt;IntWrapper&gt; bindingListener = change -&gt; {\n        while (change.next()) {\n            if (change.wasRemoved()) {\n                bindingRemoved.addAll(change.getRemoved());\n            }\n        }\n    };\n\n    // Watch the binding for changes after the upstream source changes\n\n    binding.addListener(bindingListener);\n\n    for (int i = 0; i &lt; size / 4; i++) {\n        int index = (int) (Math.random() * source.size());\n        IntWrapper removed = source.remove(index);\n        sourceRemoved.add(removed);\n    }\n\n    for (int i = 0; i &lt; bindingRemoved.size(); i++) {\n        IntWrapper expected = bindingRemoved.get(i);\n        IntWrapper actual = sourceRemoved.get(i);\n\n        Assert.assertEquals(\"Elements not equal in expected sorted lists | Expected: \" +\n            expected + \", Actual: \" + actual,\n            expected.value, actual.value);\n\n        Assert.assertEquals(\"Element refs not equal in expected sorted lists | Expected: \" +\n            expected.value + \", Actual: \" + actual.value,\n            expected.r, actual.r, 0);\n    }\n\n    System.out.println(\"Sorted Remove Single Element: Complete.\");\n\n    // Replace random elements from the source list\n\n    bindingRemoved.clear();\n    sourceRemoved.clear();\n    int removeSize = size / 10000;\n\n    for (int i = 0; i &lt; size / 1000; i++) {\n        int replaceIndex = (int) (Math.random() * source.size());\n\n        int index = (int) (Math.random() * size / 10);\n        IntWrapper replace = new IntWrapper(index);\n\n        source.set(replaceIndex, replace);\n    }\n\n    sourceSorted = new ArrayList&lt;&gt;(source);\n    Collections.sort(sourceSorted);\n\n    for (int i = 0; i &lt; source.size(); i++) {\n        IntWrapper expected = sourceSorted.get(i);\n        IntWrapper actual = binding.get(i);\n\n        Assert.assertEquals(\"Elements not equal in expected sorted lists | Expected: \" +\n            expected.value + \", Actual: \" + actual.value,\n            expected.value, actual.value);\n    }\n\n    System.out.println(\"Sorted Elements Replace: Complete.\");\n\n    // Remove random chunks from the source list\n\n    bindingRemoved.clear();\n    sourceRemoved.clear();\n    Set&lt;IntWrapper&gt; sourceRemovedSet =\n        Collections.newSetFromMap(new IdentityHashMap&lt;&gt;()); // set for speed\n\n    while (source.size() &gt; 0) {\n        int index = (int) (Math.random() * source.size());\n        int toRemove = (int) (Math.random() * removeSize);\n        toRemove = Math.min(toRemove, source.size() - index);\n\n        List&lt;IntWrapper&gt; removed = source.subList(index, index + toRemove);\n        sourceRemovedSet.addAll(new ArrayList&lt;&gt;(removed));\n\n        removed.clear(); // triggers list change update to binding\n    }\n\n    Assert.assertEquals(bindingRemoved.size(), sourceRemovedSet.size());\n\n    // The binding removed will not necessarily be placed in the same order\n    // since the change listener on the binding will make sure that the final\n    // order of the change from the binding is in the same order as the binding\n    // element sequence. We therefore must do a contains() to test.\n\n    for (int i = 0; i &lt; bindingRemoved.size(); i++) {\n        IntWrapper expected = bindingRemoved.get(i);\n\n        Assert.assertTrue(\"Binding Removed Did Not Contain Source Removed\",\n            sourceRemovedSet.contains(expected));\n    }\n\n    System.out.println(\"Sorted Removed Multiple Elements: Complete.\");\n}\n</code></pre>\n\n<p><strong>JUNIT BENCHMARK TEST</strong></p>\n\n<pre><code>  @Test\npublic void sortBindingBenchmark() {\n    ObservableList&lt;IntWrapper&gt; source = FXCollections.observableArrayList();\n\n    ObservableList&lt;IntWrapper&gt; binding =\n        (ListContentSortBinding&lt;IntWrapper&gt;) CollectionBindings.createListBinding(source).sortElements();\n\n    int size = 200000;\n\n    Set&lt;IntWrapper&gt; toAdd = new TreeSet&lt;&gt;();\n\n    while (toAdd.size() &lt; size) {\n        int index = (int) (Math.random() * size * 20);\n        toAdd.add(new IntWrapper(index));\n    }\n\n    // Randomize the order\n    toAdd = new HashSet&lt;&gt;(toAdd);\n\n    System.out.println(\"Sorted Binding Benchmark Setup: Complete.\");\n\n    long time = System.currentTimeMillis();\n\n    for (IntWrapper w : toAdd) {\n        source.add(w);\n    }\n\n    long bindingTime = System.currentTimeMillis() - time;\n\n    System.out.println(\"Sorted Binding Time: Complete.\");\n\n    source.clear(); // clear the list and re-add\n\n    ObservableList&lt;IntWrapper&gt; sortedList = new SortedList&lt;&gt;(source);\n\n    time = System.currentTimeMillis();\n\n    for (IntWrapper w : toAdd) {\n        source.add(w);\n    }\n\n    long sortedListTime = System.currentTimeMillis() - time;\n\n    System.out.println(\"JavaFX Sorted List Time: Complete.\");\n\n    // Make the test \"fair\" by adding a listener to an observable\n    // set that populates the sorted set\n\n    ObservableSet&lt;IntWrapper&gt; obsSet = FXCollections.observableSet(new HashSet&lt;&gt;());\n    Set&lt;IntWrapper&gt; sortedSet = new TreeSet&lt;&gt;();\n\n    obsSet.addListener((SetChangeListener&lt;IntWrapper&gt;) change -&gt; {\n        sortedSet.add(change.getElementAdded());\n    });\n\n    time = System.currentTimeMillis();\n\n    for (IntWrapper w : toAdd) {\n        obsSet.add(w);\n    }\n\n    long setTime = System.currentTimeMillis() - time;\n\n    System.out.println(\"Sorted Binding Benchmark Time: Complete\");\n\n    Assert.assertEquals(sortedSet.size(), binding.size());\n\n    System.out.println(\"Binding: \" + bindingTime + \" ms, \" +\n        \"JavaFX Sorted List: \" + sortedListTime + \" ms, \" +\n        \"TreeSet: \" + setTime + \" ms\");\n}\n</code></pre>\n\n<p><strong>Wrapper Class for Tests Only</strong></p>\n\n<pre><code>    /**\n     * Wrapper class for testing sort bindings. Verifies that duplicates were sorted\n     * and removed correctly based on the object instance.\n     */\nprivate static class IntWrapper implements Comparable&lt;IntWrapper&gt; {\n    static int counter = Integer.MIN_VALUE;\n    final int value;\n    final int id;\n\n    IntWrapper(int value) {\n        this.value = value;\n        this.id = counter++;\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1535493143,"creation_date":1535492769,"answer_id":52066620,"question_id":4903611,"body_markdown":"# `SortedSet`\n\nAny implementation of the [`SortedSet`](https://stackoverflow.com/q/4903611/642706) interface carries your desired behavior. \n\nBy default, objects added are sorted in their natural order, that is, based on their implementation of the [`Comparable::compareTo`](https://docs.oracle.com/javase/10/docs/api/java/lang/Comparable.html#compareTo(T)) interface method.\n\nAlternatively, you can pass a [`Comparator`](https://docs.oracle.com/javase/10/docs/api/java/util/Comparator.html) implementation to determine the sort. \n\n## `TreeSet`\n\nThe [`TreeSet`]() is a commonly used implantation of `SortedSet`. You can also find others. \n\n## Duplicates\n\nThe major difference between a `List` and a `SortedSet` is duplicates, objects that compare as equal. A `List` allows duplicates whereas a `SortedSet`, like any `Set`, does not. \n\n## Access by index \n\nAnother difference is that a `Set` cannot be accessed by index. You can not locate an object by its position number within the collection. \n\nIf you need such access after constructing your `SortedSet`, make a `List`. There are multiple ways to do this, such as passing the `SortedSet` to constructor of `ArrayList`. A mote recent way, as of Java 10, is to make an umodifiable `List` by passing the `SortedSet` to `List.copyOf`. ","title":"Java List Sorting: Is there a way to keep a list permantly sorted automatically like TreeMap?","body":"<h1><code>SortedSet</code></h1>\n\n<p>Any implementation of the <a href=\"https://stackoverflow.com/q/4903611/642706\"><code>SortedSet</code></a> interface carries your desired behavior. </p>\n\n<p>By default, objects added are sorted in their natural order, that is, based on their implementation of the <a href=\"https://docs.oracle.com/javase/10/docs/api/java/lang/Comparable.html#compareTo(T)\" rel=\"nofollow noreferrer\"><code>Comparable::compareTo</code></a> interface method.</p>\n\n<p>Alternatively, you can pass a <a href=\"https://docs.oracle.com/javase/10/docs/api/java/util/Comparator.html\" rel=\"nofollow noreferrer\"><code>Comparator</code></a> implementation to determine the sort. </p>\n\n<h2><code>TreeSet</code></h2>\n\n<p>The <code>TreeSet</code> is a commonly used implantation of <code>SortedSet</code>. You can also find others. </p>\n\n<h2>Duplicates</h2>\n\n<p>The major difference between a <code>List</code> and a <code>SortedSet</code> is duplicates, objects that compare as equal. A <code>List</code> allows duplicates whereas a <code>SortedSet</code>, like any <code>Set</code>, does not. </p>\n\n<h2>Access by index</h2>\n\n<p>Another difference is that a <code>Set</code> cannot be accessed by index. You can not locate an object by its position number within the collection. </p>\n\n<p>If you need such access after constructing your <code>SortedSet</code>, make a <code>List</code>. There are multiple ways to do this, such as passing the <code>SortedSet</code> to constructor of <code>ArrayList</code>. A mote recent way, as of Java 10, is to make an umodifiable <code>List</code> by passing the <code>SortedSet</code> to <code>List.copyOf</code>. </p>\n"},{"tags":[],"owner":{"account_id":3683805,"reputation":8445,"user_id":3950982,"display_name":"Luke Hutchison"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1588663185,"creation_date":1588663185,"answer_id":61607787,"question_id":4903611,"body_markdown":"I also find it mind-boggling that this does not exist in the Java standard libraries. (But good luck with proposing the addition of any new class to the JDK team! I have never had luck with that.)\r\n\r\nAssuming that your `compareTo` function is a proper transitive relation, then the fastest algorithm for this (assuming the list is read approximately as many times as it is written) is to override `List.add` with a method that performs a binary search to find the insertion point of the new item before inserting it. This is O(log(N)) in the number of added elements.","title":"Java List Sorting: Is there a way to keep a list permantly sorted automatically like TreeMap?","body":"<p>I also find it mind-boggling that this does not exist in the Java standard libraries. (But good luck with proposing the addition of any new class to the JDK team! I have never had luck with that.)</p>\n\n<p>Assuming that your <code>compareTo</code> function is a proper transitive relation, then the fastest algorithm for this (assuming the list is read approximately as many times as it is written) is to override <code>List.add</code> with a method that performs a binary search to find the insertion point of the new item before inserting it. This is O(log(N)) in the number of added elements.</p>\n"},{"tags":[],"owner":{"account_id":505227,"reputation":307,"user_id":2973538,"display_name":"gkedge"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653091590,"creation_date":1653091202,"answer_id":72325730,"question_id":4903611,"body_markdown":"As stated clearly prior, the need for a sorted list over a `SortedSet` is the need for indexing and duplicates.  I needed both.\r\n\r\nAs of Java8, `java.util.List&lt;E&gt;` has a *&quot;conscientious&quot;* [`List&lt;E&gt;.sort()`][1] method.\r\n\r\n&gt; This implementation is a stable, adaptive, iterative mergesort that requires far fewer than n lg(n) comparisons when the input array is partially sorted.\r\n\r\nMy list is pre-loaded prior to being referenced and load-order is almost always *the order*; references need to be very fast.  Therefore, the only change to [`user177800`&#39;s answer][2] is for me to defer to the now provided sort:\r\n```\r\nimport java.util.Collections;\r\nimport java.util.Comparator;\r\nimport java.util.LinkedList;\r\n\r\npublic class SortedList&lt;E&gt; extends LinkedList&lt;E&gt;\r\n{\r\n    private Comparator&lt;E&gt; comparator;\r\n\r\n    public SortedList(final Comparator&lt;E&gt; comparator)\r\n    {\r\n        this.comparator = comparator;\r\n    }\r\n\r\n    /**\r\n    * this ignores the index and delegates to .add() \r\n    * so it will be sorted into the correct place immediately.\r\n    */\r\n    @Override\r\n    public void add(int index, Object element)\r\n    {\r\n        this.add(element);     \r\n    }\r\n\r\n    @Override\r\n    public boolean add(final E e)\r\n    {\r\n        final boolean result = super.add(e);\r\n        this.sort(this, this.comparator);\r\n        return result;\r\n    }\r\n}\r\n```\r\nI don&#39;t know how many items will be held ahead, so `LinkedList&lt;E&gt;`.\r\n\r\n*Aaaand now I notice that `Collections.sort(List&lt;T&gt; list, Comparator&lt;? super T&gt; c)` now defers to `List.sort(c)`.* &#129335;\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/List.html#sort-java.util.Comparator-\r\n  [2]: https://stackoverflow.com/a/4903683/2973538","title":"Java List Sorting: Is there a way to keep a list permantly sorted automatically like TreeMap?","body":"<p>As stated clearly prior, the need for a sorted list over a <code>SortedSet</code> is the need for indexing and duplicates.  I needed both.</p>\n<p>As of Java8, <code>java.util.List&lt;E&gt;</code> has a <em>&quot;conscientious&quot;</em> <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/List.html#sort-java.util.Comparator-\" rel=\"nofollow noreferrer\"><code>List&lt;E&gt;.sort()</code></a> method.</p>\n<blockquote>\n<p>This implementation is a stable, adaptive, iterative mergesort that requires far fewer than n lg(n) comparisons when the input array is partially sorted.</p>\n</blockquote>\n<p>My list is pre-loaded prior to being referenced and load-order is almost always <em>the order</em>; references need to be very fast.  Therefore, the only change to <a href=\"https://stackoverflow.com/a/4903683/2973538\"><code>user177800</code>'s answer</a> is for me to defer to the now provided sort:</p>\n<pre><code>import java.util.Collections;\nimport java.util.Comparator;\nimport java.util.LinkedList;\n\npublic class SortedList&lt;E&gt; extends LinkedList&lt;E&gt;\n{\n    private Comparator&lt;E&gt; comparator;\n\n    public SortedList(final Comparator&lt;E&gt; comparator)\n    {\n        this.comparator = comparator;\n    }\n\n    /**\n    * this ignores the index and delegates to .add() \n    * so it will be sorted into the correct place immediately.\n    */\n    @Override\n    public void add(int index, Object element)\n    {\n        this.add(element);     \n    }\n\n    @Override\n    public boolean add(final E e)\n    {\n        final boolean result = super.add(e);\n        this.sort(this, this.comparator);\n        return result;\n    }\n}\n</code></pre>\n<p>I don't know how many items will be held ahead, so <code>LinkedList&lt;E&gt;</code>.</p>\n<p><em>Aaaand now I notice that <code>Collections.sort(List&lt;T&gt; list, Comparator&lt;? super T&gt; c)</code> now defers to <code>List.sort(c)</code>.</em> 🤷</p>\n"}],"owner":{"account_id":202528,"reputation":9635,"user_id":449652,"accept_rate":70,"display_name":"Dave L."},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":124166,"favorite_count":0,"down_vote_count":0,"up_vote_count":65,"answer_count":17,"score":65,"last_activity_date":1653091590,"creation_date":1296858989,"question_id":4903611,"body_markdown":"In Java you can build up an `ArrayList` with items and then call:\r\n\r\n    Collections.sort(list, comparator);\r\n\r\nIs there anyway to pass in the Comparator at the time of list, creation like you can do with `TreeMap`? \r\n\r\nThe goal is to be able add an element to the list and instead of having it automatically appended to the end of the list, the list would keep itself sorted based on the `Comparator` and insert the new element at the index determined by the `Comparator`. So basically the list might have to re-sort upon every new element added.\r\n\r\nIs there anyway to achieve this in this way with the `Comparator` or by some other similar means?\r\n\r\n","title":"Java List Sorting: Is there a way to keep a list permantly sorted automatically like TreeMap?","body":"<p>In Java you can build up an <code>ArrayList</code> with items and then call:</p>\n\n<pre><code>Collections.sort(list, comparator);\n</code></pre>\n\n<p>Is there anyway to pass in the Comparator at the time of list, creation like you can do with <code>TreeMap</code>? </p>\n\n<p>The goal is to be able add an element to the list and instead of having it automatically appended to the end of the list, the list would keep itself sorted based on the <code>Comparator</code> and insert the new element at the index determined by the <code>Comparator</code>. So basically the list might have to re-sort upon every new element added.</p>\n\n<p>Is there anyway to achieve this in this way with the <code>Comparator</code> or by some other similar means?</p>\n"},{"tags":["java","android","sqlite"],"comments":[{"owner":{"account_id":138557,"reputation":42623,"user_id":343568,"accept_rate":100,"display_name":"nicholas.hauschild"},"score":0,"creation_date":1309567354,"post_id":6554269,"comment_id":7723516,"body_markdown":"Can you add the actual stacktrace?","body":"Can you add the actual stacktrace?"}],"answers":[{"tags":[],"owner":{"account_id":22320,"reputation":43326,"user_id":54929,"accept_rate":79,"display_name":"ahmet alp balkan"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1309567185,"creation_date":1309567185,"answer_id":6554405,"question_id":6554269,"body_markdown":"I have written a ORM framework for that. https://github.com/ahmetalpbalkan/orman\r\n\r\nYou can easily write Android applications using SQLite with that. It uses your Java classes (Book, in this case) as database tables (entities). \r\n\r\nIt even creates your table automatically and you just say `book1.insert()`, done.\r\n\r\n","title":"&quot;No Such Table&quot; Error found in SQLite Android","body":"<p>I have written a ORM framework for that. <a href=\"https://github.com/ahmetalpbalkan/orman\" rel=\"noreferrer\">https://github.com/ahmetalpbalkan/orman</a></p>\n\n<p>You can easily write Android applications using SQLite with that. It uses your Java classes (Book, in this case) as database tables (entities). </p>\n\n<p>It even creates your table automatically and you just say <code>book1.insert()</code>, done.</p>\n"},{"tags":[],"owner":{"account_id":140915,"reputation":16183,"user_id":347565,"accept_rate":100,"display_name":"Matthieu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1309567739,"creation_date":1309567739,"answer_id":6554442,"question_id":6554269,"body_markdown":"If for some reason, you dropped the table, you might want to delete the database to force the application to recreate it correctly. Use `adb shell` and find the database in `/data/data/[package_name]/databases/`. You can just delete the file.","title":"&quot;No Such Table&quot; Error found in SQLite Android","body":"<p>If for some reason, you dropped the table, you might want to delete the database to force the application to recreate it correctly. Use <code>adb shell</code> and find the database in <code>/data/data/[package_name]/databases/</code>. You can just delete the file.</p>\n"},{"tags":[],"owner":{"account_id":18834,"reputation":6918,"user_id":43575,"accept_rate":77,"display_name":"Thilo-Alexander Ginkel"},"down_vote_count":0,"up_vote_count":44,"is_accepted":true,"score":44,"last_activity_date":1309568102,"creation_date":1309568102,"answer_id":6554459,"question_id":6554269,"body_markdown":"There is an older version of the database on your device, which does have the (empty) database in place, but not the books table. If that&#39;s an option for you, just uninstall and reinstall the app.\r\n\r\nLater, when you&#39;d like to add a new table to the database during production on end-user devices, but keep existing data, the designated hook to add new tables, alter the schema or upgrade your data is the `onUpgrade` method of your `SQLiteOpenHelper`.","title":"&quot;No Such Table&quot; Error found in SQLite Android","body":"<p>There is an older version of the database on your device, which does have the (empty) database in place, but not the books table. If that's an option for you, just uninstall and reinstall the app.</p>\n\n<p>Later, when you'd like to add a new table to the database during production on end-user devices, but keep existing data, the designated hook to add new tables, alter the schema or upgrade your data is the <code>onUpgrade</code> method of your <code>SQLiteOpenHelper</code>.</p>\n"},{"tags":[],"owner":{"account_id":453189,"reputation":1245,"user_id":1073043,"accept_rate":50,"display_name":"Faraz Ahmed"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1344172630,"creation_date":1312024195,"answer_id":6882741,"question_id":6554269,"body_markdown":"You must uninstall the applcation and then reinstall it. It should work after that.","title":"&quot;No Such Table&quot; Error found in SQLite Android","body":"<p>You must uninstall the applcation and then reinstall it. It should work after that.</p>\n"},{"tags":[],"owner":{"account_id":5959278,"reputation":39,"user_id":4684919,"display_name":"BlackHawk"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1443438785,"creation_date":1443437200,"answer_id":32821127,"question_id":6554269,"body_markdown":"    db.execSQL(\r\n        &quot;CREATE TABLE &quot; + TABLE_NAME + &quot; (id INTEGER PRIMARY KEY AUTOINCREMENT, title TEXT, author TEXT, isbn TEXT)&quot;\r\n    );\r\n\r\nremove space after the table name, it should be like this.\r\n\r\n    db.execSQL(\r\n        &quot;CREATE TABLE &quot; + TABLE_NAME + &quot;(id INTEGER PRIMARY KEY AUTOINCREMENT, title TEXT, author TEXT, isbn TEXT)&quot;\r\n    );","title":"&quot;No Such Table&quot; Error found in SQLite Android","body":"<pre><code>db.execSQL(\n    \"CREATE TABLE \" + TABLE_NAME + \" (id INTEGER PRIMARY KEY AUTOINCREMENT, title TEXT, author TEXT, isbn TEXT)\"\n);\n</code></pre>\n\n<p>remove space after the table name, it should be like this.</p>\n\n<pre><code>db.execSQL(\n    \"CREATE TABLE \" + TABLE_NAME + \"(id INTEGER PRIMARY KEY AUTOINCREMENT, title TEXT, author TEXT, isbn TEXT)\"\n);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8026662,"reputation":579,"user_id":6053321,"display_name":"Ali Ziaee"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1458104486,"creation_date":1458104486,"answer_id":36027154,"question_id":6554269,"body_markdown":"try this one \r\nfor example for insert:\r\n    \r\n\r\n     public boolean insertBook(String title, String author, String isdn) {\r\n        \r\n            try {\r\n                SQLiteDatabase db = getWritableDatabase();\r\n        \r\n                ContentValues cv = new ContentValues();\r\n                cv.put(TITLE, title);\r\n                cv.put(AUTHOR, author);\r\n                cv.put(ISBN, isdn);\r\n        \r\n                ***try\r\n                 {\r\n                db.insert(TABLE_NAME, null, cv);\r\n    }\r\n     catch ( SQLiteException e)\r\n            {\r\n                onCreate(db);\r\n      db.insert(TABLE_NAME, null, cv);\r\n    }***\r\n    \r\n                db.close();\r\n        \r\n                return true;\r\n            } catch (Exception exp) {\r\n                exp.printStackTrace();\r\n        \r\n                return false;\r\n            }\r\n        }","title":"&quot;No Such Table&quot; Error found in SQLite Android","body":"<p>try this one \nfor example for insert:</p>\n\n<pre><code> public boolean insertBook(String title, String author, String isdn) {\n\n        try {\n            SQLiteDatabase db = getWritableDatabase();\n\n            ContentValues cv = new ContentValues();\n            cv.put(TITLE, title);\n            cv.put(AUTHOR, author);\n            cv.put(ISBN, isdn);\n\n            ***try\n             {\n            db.insert(TABLE_NAME, null, cv);\n}\n catch ( SQLiteException e)\n        {\n            onCreate(db);\n  db.insert(TABLE_NAME, null, cv);\n}***\n\n            db.close();\n\n            return true;\n        } catch (Exception exp) {\n            exp.printStackTrace();\n\n            return false;\n        }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2873806,"reputation":560,"user_id":2466495,"display_name":"Destiner"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1497141354,"creation_date":1497141354,"answer_id":44479351,"question_id":6554269,"body_markdown":"I had this problem, but cleaning the project did not fixed it.  \r\nIt turned out I passed `DATABASE_NAME` instead of `TABLE_NAME`.","title":"&quot;No Such Table&quot; Error found in SQLite Android","body":"<p>I had this problem, but cleaning the project did not fixed it.<br>\nIt turned out I passed <code>DATABASE_NAME</code> instead of <code>TABLE_NAME</code>.</p>\n"},{"tags":[],"owner":{"account_id":10519181,"reputation":839,"user_id":7769315,"display_name":"Manish Bansal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1528188100,"creation_date":1528188100,"answer_id":50695798,"question_id":6554269,"body_markdown":"Make sure that `onCreate` method called. I am also facing similar type of problem when creating multiple table. If you create a separate class make sure you first clear all the storage data of your app and then again run it ..It will work fine for me.\r\n","title":"&quot;No Such Table&quot; Error found in SQLite Android","body":"<p>Make sure that <code>onCreate</code> method called. I am also facing similar type of problem when creating multiple table. If you create a separate class make sure you first clear all the storage data of your app and then again run it ..It will work fine for me.</p>\n"},{"tags":[],"owner":{"account_id":9296568,"reputation":11,"user_id":6903288,"display_name":"Sankar Balan"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1582266357,"creation_date":1564141828,"answer_id":57219494,"question_id":6554269,"body_markdown":"Note:\r\n\r\nExternal Database You Access Time must add for the path in **Sqliteopenhelper class**\r\n\r\npublic final static String DATABASE_PATH = &quot;/data/data/com.example.shortcuts/databases/&quot;;\r\n\r\ncom.example.shortcuts=Your Package name","title":"&quot;No Such Table&quot; Error found in SQLite Android","body":"<p>Note:</p>\n\n<p>External Database You Access Time must add for the path in <strong>Sqliteopenhelper class</strong></p>\n\n<p>public final static String DATABASE_PATH = \"/data/data/com.example.shortcuts/databases/\";</p>\n\n<p>com.example.shortcuts=Your Package name</p>\n"},{"tags":[],"owner":{"account_id":9075275,"reputation":605,"user_id":6920453,"display_name":"Sajid khan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1569567627,"creation_date":1569567627,"answer_id":58129402,"question_id":6554269,"body_markdown":"**Nothing about this made any sense, as the table existed from the very beginning of the DB, so we tried different things:**\n\n&gt; 1. uninstalling app\n&gt; \n&gt; 2. claning cache / data\n&gt;\n&gt; 3. changing database version number\n&gt; \n&gt; 4. forcing to copy the database even if it already existed\n\n","title":"&quot;No Such Table&quot; Error found in SQLite Android","body":"<p><strong>Nothing about this made any sense, as the table existed from the very beginning of the DB, so we tried different things:</strong></p>\n<blockquote>\n<ol>\n<li><p>uninstalling app</p>\n</li>\n<li><p>claning cache / data</p>\n</li>\n<li><p>changing database version number</p>\n</li>\n<li><p>forcing to copy the database even if it already existed</p>\n</li>\n</ol>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":5968943,"reputation":31,"user_id":4691883,"display_name":"Cristian Beckert"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653091513,"creation_date":1653091513,"answer_id":72325746,"question_id":6554269,"body_markdown":"Also had the issue where I already had the app built with an existing DB, but wanted to add another table.\r\n\r\nBesides having the `onUpgrade` method, I also had to increment the `private static final Integer DB_VERSION`, which is used when instantiating the DatabaseHelper, like so:\r\n\r\n    public DatabaseHelper(Context context) {\r\n        super(context, DATABASE_NAME, null, DB_VERSION);\r\n    }\r\n\r\nAlso from the [official documentation][1], my `onUpgrade` method looks like this:\r\n\r\n    @Override\r\n    public void onUpgrade(SQLiteDatabase db, int oldVersion, int newVersion) {\r\n        // on upgrade drop older tables\r\n        db.execSQL(&quot;DROP TABLE IF EXISTS &quot; + TABLE_1);\r\n        db.execSQL(&quot;DROP TABLE IF EXISTS &quot; + TABLE_2);\r\n\r\n        // create new tables\r\n        onCreate(db);\r\n    }\r\n\r\n\r\nThen, after building the app, the new version of the database worked.\r\n\r\n\r\n  [1]: https://developer.android.com/training/data-storage/sqlite#java","title":"&quot;No Such Table&quot; Error found in SQLite Android","body":"<p>Also had the issue where I already had the app built with an existing DB, but wanted to add another table.</p>\n<p>Besides having the <code>onUpgrade</code> method, I also had to increment the <code>private static final Integer DB_VERSION</code>, which is used when instantiating the DatabaseHelper, like so:</p>\n<pre><code>public DatabaseHelper(Context context) {\n    super(context, DATABASE_NAME, null, DB_VERSION);\n}\n</code></pre>\n<p>Also from the <a href=\"https://developer.android.com/training/data-storage/sqlite#java\" rel=\"nofollow noreferrer\">official documentation</a>, my <code>onUpgrade</code> method looks like this:</p>\n<pre><code>@Override\npublic void onUpgrade(SQLiteDatabase db, int oldVersion, int newVersion) {\n    // on upgrade drop older tables\n    db.execSQL(&quot;DROP TABLE IF EXISTS &quot; + TABLE_1);\n    db.execSQL(&quot;DROP TABLE IF EXISTS &quot; + TABLE_2);\n\n    // create new tables\n    onCreate(db);\n}\n</code></pre>\n<p>Then, after building the app, the new version of the database worked.</p>\n"}],"owner":{"account_id":203739,"reputation":1309,"user_id":451575,"accept_rate":48,"display_name":"Mark D"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":58009,"favorite_count":0,"down_vote_count":0,"up_vote_count":12,"accepted_answer_id":6554459,"answer_count":11,"score":12,"last_activity_date":1653091513,"creation_date":1309565151,"question_id":6554269,"body_markdown":"I am trying to learn about SQLite databases, but I really hate dealing with any back-end stuff, with a passion. I&#39;m already hitting walls with a seemingly simple problem. \r\n\r\n\r\nHere is the code that I think matters from the `DatabaseHelper` class\r\n    \r\n    public class DatabaseHelper extends SQLiteOpenHelper {\r\n\t\tprivate static final String DATABASE_NAME = &quot;Library&quot;;\r\n\r\n\t\tpublic static final String TABLE_NAME = &quot;books&quot;;\r\n\t\tpublic static final String TITLE = &quot;title&quot;;\r\n\t\tpublic static final String AUTHOR = &quot;author&quot;;\r\n\t\tpublic static final String ISBN = &quot;isbn&quot;;\r\n\r\n\t\tpublic DatabaseHelper(Context context) {\r\n\t\t\tsuper(context, DATABASE_NAME, null, 1);\r\n\t\t}\r\n\r\n\t\t@Override\r\n\t\tpublic void onCreate(SQLiteDatabase db) {\r\n\t\t\tdb.execSQL(&quot;CREATE TABLE &quot; + TABLE_NAME + &quot; (id INTEGER PRIMARY KEY AUTOINCREMENT, title TEXT, author TEXT, isbn TEXT)&quot;);\r\n\t\t}\r\n\r\n\r\n\t\tpublic boolean insertBook(String title, String author, String isdn) {\r\n\r\n\t\t\ttry {\r\n\t\t\t\tSQLiteDatabase db = getWritableDatabase();\r\n\r\n\t\t\t\tContentValues cv = new ContentValues();\r\n\t\t\t\tcv.put(TITLE, title);\r\n\t\t\t\tcv.put(AUTHOR, author);\r\n\t\t\t\tcv.put(ISBN, isdn);\r\n\r\n\t\t\t\tdb.insert(TABLE_NAME, null, cv);\r\n\t\t\t\tdb.close();\r\n\r\n\t\t\t\treturn true;\r\n\t\t\t} catch (Exception exp) {\r\n\t\t\t\texp.printStackTrace();\r\n\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n And this is the code in my main activity\r\n\r\n\r\n\tdbHelper = new DatabaseHelper(this);\r\n\r\n\tdbHelper.insertBook(&quot;Harry Potter&quot;, &quot;JK&quot;, &quot;1000&quot;);\r\n\tdbHelper.insertBook(&quot;Hamlet&quot;, &quot;Shakespeare&quot;, &quot;500&quot;);\r\n\r\n\r\nEclipse is telling me that there is an error in the `insertBook()` method. It says that there is `no such table books: ...`. I have no idea what I am doing wrong here. What makes it more frustrating is that only a couple of minutes before it was working perfectly, then (I think) I dropped the table and it just create it again for whatever reason, even though this code has not changed since I first created it (I think...).","title":"&quot;No Such Table&quot; Error found in SQLite Android","body":"<p>I am trying to learn about SQLite databases, but I really hate dealing with any back-end stuff, with a passion. I'm already hitting walls with a seemingly simple problem. </p>\n\n<p>Here is the code that I think matters from the <code>DatabaseHelper</code> class</p>\n\n<pre><code>public class DatabaseHelper extends SQLiteOpenHelper {\n    private static final String DATABASE_NAME = \"Library\";\n\n    public static final String TABLE_NAME = \"books\";\n    public static final String TITLE = \"title\";\n    public static final String AUTHOR = \"author\";\n    public static final String ISBN = \"isbn\";\n\n    public DatabaseHelper(Context context) {\n        super(context, DATABASE_NAME, null, 1);\n    }\n\n    @Override\n    public void onCreate(SQLiteDatabase db) {\n        db.execSQL(\"CREATE TABLE \" + TABLE_NAME + \" (id INTEGER PRIMARY KEY AUTOINCREMENT, title TEXT, author TEXT, isbn TEXT)\");\n    }\n\n\n    public boolean insertBook(String title, String author, String isdn) {\n\n        try {\n            SQLiteDatabase db = getWritableDatabase();\n\n            ContentValues cv = new ContentValues();\n            cv.put(TITLE, title);\n            cv.put(AUTHOR, author);\n            cv.put(ISBN, isdn);\n\n            db.insert(TABLE_NAME, null, cv);\n            db.close();\n\n            return true;\n        } catch (Exception exp) {\n            exp.printStackTrace();\n\n            return false;\n        }\n    }\n}\n</code></pre>\n\n<p>And this is the code in my main activity</p>\n\n<pre><code>dbHelper = new DatabaseHelper(this);\n\ndbHelper.insertBook(\"Harry Potter\", \"JK\", \"1000\");\ndbHelper.insertBook(\"Hamlet\", \"Shakespeare\", \"500\");\n</code></pre>\n\n<p>Eclipse is telling me that there is an error in the <code>insertBook()</code> method. It says that there is <code>no such table books: ...</code>. I have no idea what I am doing wrong here. What makes it more frustrating is that only a couple of minutes before it was working perfectly, then (I think) I dropped the table and it just create it again for whatever reason, even though this code has not changed since I first created it (I think...).</p>\n"},{"tags":["java","android","firebase-realtime-database"],"comments":[{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":2,"creation_date":1647337510,"post_id":71479369,"comment_id":126340122,"body_markdown":"Instead of describing what your database looks like, please edit your question and add your database structure as a JSON file. You can simply get it by clicking the Export JSON in the overflow menu (⠇) in your [Firebase Console](https://console.firebase.google.com/u/0/project/_/database/data). Please also indicate the exact data you want to update.","body":"Instead of describing what your database looks like, please edit your question and add your database structure as a JSON file. You can simply get it by clicking the Export JSON in the overflow menu (⠇) in your <a href=\"https://console.firebase.google.com/u/0/project/_/database/data\" rel=\"nofollow noreferrer\">Firebase Console</a>. Please also indicate the exact data you want to update."}],"answers":[{"tags":[],"owner":{"account_id":19991096,"reputation":11,"user_id":14652092,"display_name":"Son Tran"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647336613,"creation_date":1647336613,"answer_id":71479834,"question_id":71479369,"body_markdown":"Try this:\r\n\r\n    updateRef.addListenerForSingleValueEvent(new ValueEventListener() {\r\n                @Override\r\n            public void onDataChange(DataSnapshot dataSnapshot) {\r\n                if (dataSnapshot.exists()) {\r\n                 for (DataSnapshot datas : dataSnapshot.getChildren()) { \r\n                  String key=datas.getKey();\r\n                  ref.child(key).child(&quot;status&quot;).setValue(&quot;paid&quot;);\r\n                    }\r\n                 } \r\n              }\r\n                @Override\r\n            public void onCancelled(FirebaseError firebaseError) {\r\n    \r\n               }\r\n         });\r\n\r\n","title":"How to update multiple data (status) in firebase database, Android Studio","body":"<p>Try this:</p>\n<pre><code>updateRef.addListenerForSingleValueEvent(new ValueEventListener() {\n            @Override\n        public void onDataChange(DataSnapshot dataSnapshot) {\n            if (dataSnapshot.exists()) {\n             for (DataSnapshot datas : dataSnapshot.getChildren()) { \n              String key=datas.getKey();\n              ref.child(key).child(&quot;status&quot;).setValue(&quot;paid&quot;);\n                }\n             } \n          }\n            @Override\n        public void onCancelled(FirebaseError firebaseError) {\n\n           }\n     });\n</code></pre>\n"}],"owner":{"account_id":24229176,"reputation":1,"user_id":18183197,"display_name":"shenshen samte"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":222,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1653091007,"creation_date":1647334474,"question_id":71479369,"body_markdown":"I am making a simple ecommerce app, and i want to update the order status for more than one product, i can update status for a single product but not multiple products. i am self-taught programmer/learner\r\n\r\nMy database:\r\n```\r\nProducts:\r\n\r\n01525415522022\r\npOrderId: \r\n&quot;01525415522022&quot;\r\npid: \r\n&quot;PID13442022&quot;\r\nproductPrice: \r\n&quot;8765&quot;\r\nstatus: \r\n&quot;not paid&quot;\r\n\r\n01525915522022\r\npOrderId: \r\n&quot;01525915522022&quot;\r\npid: \r\n&quot;PID12223605222022&quot;\r\nproductPrice: \r\n&quot;53686&quot;\r\nstatus: \r\n&quot;not paid&quot;\r\n```\r\nAnd here is my code for single item status update\r\n\r\n\r\n\r\n```\r\nDatabaseReference updateRef = FirebaseDatabase.getInstance().getReference().child(&quot;AdminCart&quot;)\r\n       .child(firebaseUser.getPhoneNumber()).child(&quot;Products&quot;);\r\nHashMap&lt;String, Object&gt; hashMap = new HashMap&lt;&gt;();\r\nhashMap.put(&quot;status&quot;, &quot;paid&quot;);\r\ndeleteRef.updateChildren(hashMap)\r\n```","title":"How to update multiple data (status) in firebase database, Android Studio","body":"<p>I am making a simple ecommerce app, and i want to update the order status for more than one product, i can update status for a single product but not multiple products. i am self-taught programmer/learner</p>\n<p>My database:</p>\n<pre><code>Products:\n\n01525415522022\npOrderId: \n&quot;01525415522022&quot;\npid: \n&quot;PID13442022&quot;\nproductPrice: \n&quot;8765&quot;\nstatus: \n&quot;not paid&quot;\n\n01525915522022\npOrderId: \n&quot;01525915522022&quot;\npid: \n&quot;PID12223605222022&quot;\nproductPrice: \n&quot;53686&quot;\nstatus: \n&quot;not paid&quot;\n</code></pre>\n<p>And here is my code for single item status update</p>\n<pre><code>DatabaseReference updateRef = FirebaseDatabase.getInstance().getReference().child(&quot;AdminCart&quot;)\n       .child(firebaseUser.getPhoneNumber()).child(&quot;Products&quot;);\nHashMap&lt;String, Object&gt; hashMap = new HashMap&lt;&gt;();\nhashMap.put(&quot;status&quot;, &quot;paid&quot;);\ndeleteRef.updateChildren(hashMap)\n</code></pre>\n"},{"tags":["java","jpos"],"comments":[{"owner":{"account_id":36137,"reputation":178789,"user_id":102937,"accept_rate":90,"display_name":"Robert Harvey"},"score":1,"creation_date":1653081711,"post_id":72324780,"comment_id":127772926,"body_markdown":"Taking the 10 or 20 minutes it would take to write and test a custom class is probably the simplest way.","body":"Taking the 10 or 20 minutes it would take to write and test a custom class is probably the simplest way."},{"owner":{"account_id":12743722,"reputation":19956,"user_id":12567365,"display_name":"andrewJames"},"score":0,"creation_date":1653256099,"post_id":72324780,"comment_id":127800748,"body_markdown":"You may benefit from using a library - some ideas: [Parsing a fixed-width formatted file in Java](https://stackoverflow.com/q/1609807/12567365) - and [more here](https://www.google.com/search?q=java+parse+fixed+width+record+site:stackoverflow.com).","body":"You may benefit from using a library - some ideas: <a href=\"https://stackoverflow.com/q/1609807/12567365\">Parsing a fixed-width formatted file in Java</a> - and <a href=\"https://www.google.com/search?q=java+parse+fixed+width+record+site:stackoverflow.com\" rel=\"nofollow noreferrer\">more here</a>."}],"answers":[{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1653090145,"creation_date":1653088893,"answer_id":72325567,"question_id":72324780,"body_markdown":"Here is one way to do it.  A simple regular expression and a record (or a class).\r\n```\r\nrecord Info(String getAccount, String getAmountType, String getCurrencyCode,\r\n\t\tString getSign, String getAmount){\r\n\t    @Override\r\n\t    public String toString() {\r\n\t    \treturn &quot;&quot;&quot; \r\n\t    \t\t\tAccount:       %s\r\n\t    \t\t\tAmountType:    %s\r\n\t    \t\t\tCurrency Code: %s\r\n\t    \t\t\tAmountSign:    %s\r\n\t    \t\t\tAmount:        %s\r\n\t    \t\t\t&quot;&quot;&quot;.formatted(getAccount, getAmountType, getCurrencyCode,getSign,getAmount);\r\n\t    }\t\t\r\n\t}\r\n\r\nString s = &quot;1002566C0000000000001004566C0000000000001001566C000000000000&quot;;\r\nString regex = &quot;String regex = &quot;(\\\\d\\\\d)(\\\\d\\\\d)(\\\\d{3})(C|D)(\\\\d{12})&quot;;\r\n\r\n\r\nList&lt;Info&gt; accts = new ArrayList&lt;&gt;();\r\nMatcher m = Pattern.compile(regex).matcher(s);\r\nwhile (m.find()) {\r\n\taccts.add(new Info(m.group(1),m.group(2), m.group(3),m.group(4),m.group(5)));\r\n}\r\n\r\nfor (Info info : accts) {\r\n\tSystem.out.println(info);\r\n}\r\n```\r\nprints\r\n```\r\nAccount:       10\r\nAmountType:    02\r\nCurrency Code: 566\r\nAmountSign:    C\r\nAmount:        000000000000\r\n\r\nAccount:       10\r\nAmountType:    04\r\nCurrency Code: 566\r\nAmountSign:    C\r\nAmount:        000000000000\r\n\r\nAccount:       10\r\nAmountType:    01\r\nCurrency Code: 566\r\nAmountSign:    C\r\nAmount:        000000000000\r\n```\r\nAny fine tuning such as tailoring the record types or `toString` should be trivial.  It does assume the record is well formed in term of a consistent number of characters per record.  Else the regex would fail for missing groups. ","title":"Extract value from ISO message string","body":"<p>Here is one way to do it.  A simple regular expression and a record (or a class).</p>\n<pre><code>record Info(String getAccount, String getAmountType, String getCurrencyCode,\n        String getSign, String getAmount){\n        @Override\n        public String toString() {\n            return &quot;&quot;&quot; \n                    Account:       %s\n                    AmountType:    %s\n                    Currency Code: %s\n                    AmountSign:    %s\n                    Amount:        %s\n                    &quot;&quot;&quot;.formatted(getAccount, getAmountType, getCurrencyCode,getSign,getAmount);\n        }       \n    }\n\nString s = &quot;1002566C0000000000001004566C0000000000001001566C000000000000&quot;;\nString regex = &quot;String regex = &quot;(\\\\d\\\\d)(\\\\d\\\\d)(\\\\d{3})(C|D)(\\\\d{12})&quot;;\n\n\nList&lt;Info&gt; accts = new ArrayList&lt;&gt;();\nMatcher m = Pattern.compile(regex).matcher(s);\nwhile (m.find()) {\n    accts.add(new Info(m.group(1),m.group(2), m.group(3),m.group(4),m.group(5)));\n}\n\nfor (Info info : accts) {\n    System.out.println(info);\n}\n</code></pre>\n<p>prints</p>\n<pre><code>Account:       10\nAmountType:    02\nCurrency Code: 566\nAmountSign:    C\nAmount:        000000000000\n\nAccount:       10\nAmountType:    04\nCurrency Code: 566\nAmountSign:    C\nAmount:        000000000000\n\nAccount:       10\nAmountType:    01\nCurrency Code: 566\nAmountSign:    C\nAmount:        000000000000\n</code></pre>\n<p>Any fine tuning such as tailoring the record types or <code>toString</code> should be trivial.  It does assume the record is well formed in term of a consistent number of characters per record.  Else the regex would fail for missing groups.</p>\n"}],"owner":{"account_id":6877280,"reputation":112,"user_id":5285307,"accept_rate":71,"display_name":"Charles"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":249,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1653090145,"creation_date":1653080773,"question_id":72324780,"body_markdown":"I have this string from the Field 54 of an ISO message:\r\n\r\n    1002566C0000000000001004566C0000000000001001566C000000000000 \r\n\r\nIt is divided into sections/data elements as shown below based on the definition from the PostBridge Interface Specification:\r\n\r\n&gt; Information on up to 6 amounts and related account data for which specific data elements have not\r\nbeen defined. Each amount is a fixed length field consisting of 5 data elements:\r\n&gt; - Account type (positions 1 - 2)\r\n&gt; - Amount type (positions 3 - 4)\r\n&gt; - Currency code (positions 5 - 7)\r\n&gt; - Amount sign (position 8) - &quot;C&quot; or &quot;D&quot;\r\n&gt; - Amount (position 9 - 20)\r\n\r\n```text\r\n10 \r\n02\r\n566\r\nC\r\n000000000000\r\n\r\n10\r\n04\r\n566\r\nC\r\n000000000000\r\n\r\n10\r\n01\r\n566\r\nC\r\n000000000000\r\n```\r\n\r\nIs there a simple way to parse this String with JPos using something like the `TLVList` or some other class? Or do I have to create a custom implementation to parse this value myself.","title":"Extract value from ISO message string","body":"<p>I have this string from the Field 54 of an ISO message:</p>\n<pre><code>1002566C0000000000001004566C0000000000001001566C000000000000 \n</code></pre>\n<p>It is divided into sections/data elements as shown below based on the definition from the PostBridge Interface Specification:</p>\n<blockquote>\n<p>Information on up to 6 amounts and related account data for which specific data elements have not\nbeen defined. Each amount is a fixed length field consisting of 5 data elements:</p>\n<ul>\n<li>Account type (positions 1 - 2)</li>\n<li>Amount type (positions 3 - 4)</li>\n<li>Currency code (positions 5 - 7)</li>\n<li>Amount sign (position 8) - &quot;C&quot; or &quot;D&quot;</li>\n<li>Amount (position 9 - 20)</li>\n</ul>\n</blockquote>\n<pre><code>10 \n02\n566\nC\n000000000000\n\n10\n04\n566\nC\n000000000000\n\n10\n01\n566\nC\n000000000000\n</code></pre>\n<p>Is there a simple way to parse this String with JPos using something like the <code>TLVList</code> or some other class? Or do I have to create a custom implementation to parse this value myself.</p>\n"},{"tags":["java","apache-httpclient-4.x","spring-cloud-feign"],"answers":[{"tags":[],"owner":{"account_id":439803,"reputation":550,"user_id":828976,"accept_rate":25,"display_name":"Bmis13"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1653089773,"creation_date":1652829032,"answer_id":72281616,"question_id":72281345,"body_markdown":"Please refer to the following link on how to customize it. \r\nhttps://codingnconcepts.com/spring-boot/change-default-feign-client-implementation/\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;io.github.openfeign&lt;/groupId&gt;\r\n      &lt;artifactId&gt;feign-httpclient&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    IN application.properties or yaml file \r\n\r\n    feign.httpclient.enabled: true\r\n\r\n\r\n    @Configuration\r\n    public class FeignClientConfig {\r\n    \r\n        @Bean\r\n        public CloseableHttpClient feignClient() {\r\n    PoolingHttpClientConnectionManager connectionManager = new PoolingHttpClientConnectionManager(10, TimeUnit.MINUTES);\r\n        connectionManager.setMaxTotal(1000);\r\n        connectionManager.setDefaultMaxPerRoute(20);\r\n         CloseableHttpClient httpClient = HttpClients.custom()\r\n                                                         .setConnectionManager(connectionManager)\r\n                                                         .build()) \r\n     \r\n         Thread th = new IdleConnectionMonitorThread(connectionManager);\r\n     \r\n         th.start();\r\n        return httpClient;\r\n        }\r\n    }\r\n\r\n      static class IdleConnectionMonitorThread extends Thread {\r\n     \r\n            private volatile boolean shutdown;\r\n            private PoolingHttpClientConnectionManager connMgr;\r\n     \r\n            public IdleConnectionMonitorThread(PoolingHttpClientConnectionManager connMgr) {\r\n                super();\r\n                this.setName(&quot;TCP-Ideal-Monitroing-Thread&quot;);\r\n                this.connMgr = connMgr;\r\n            }\r\n     \r\n            @Override\r\n            public void run() {\r\n                try {\r\n                    while (!shutdown) {\r\n                            sleep(TimeUnit.MINUTES.toMillis(1));\r\n                            // Close expired connections\r\n                            connMgr.closeExpiredConnections();\r\n                            // Optionally, close connections\r\n                            // that have been idle longer than 60 sec\r\n                            connMgr.closeIdleConnections(10, TimeUnit.MINUTES);\r\n                    }\r\n                } catch (InterruptedException ex) {\r\n                    // terminate\r\n                }\r\n            }\r\n     \r\n            public void shutdown() {\r\n                shutdown = true;\r\n            }\r\n     \r\n        }\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/72281345/customize-httpclient-for-spring-cloud-open-feign/","title":"Customize HTTPClient for Spring Cloud Open Feign","body":"<p>Please refer to the following link on how to customize it.\n<a href=\"https://codingnconcepts.com/spring-boot/change-default-feign-client-implementation/\" rel=\"nofollow noreferrer\">https://codingnconcepts.com/spring-boot/change-default-feign-client-implementation/</a></p>\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;io.github.openfeign&lt;/groupId&gt;\n  &lt;artifactId&gt;feign-httpclient&lt;/artifactId&gt;\n&lt;/dependency&gt;\n\nIN application.properties or yaml file \n\nfeign.httpclient.enabled: true\n\n\n@Configuration\npublic class FeignClientConfig {\n\n    @Bean\n    public CloseableHttpClient feignClient() {\nPoolingHttpClientConnectionManager connectionManager = new PoolingHttpClientConnectionManager(10, TimeUnit.MINUTES);\n    connectionManager.setMaxTotal(1000);\n    connectionManager.setDefaultMaxPerRoute(20);\n     CloseableHttpClient httpClient = HttpClients.custom()\n                                                     .setConnectionManager(connectionManager)\n                                                     .build()) \n \n     Thread th = new IdleConnectionMonitorThread(connectionManager);\n \n     th.start();\n    return httpClient;\n    }\n}\n\n  static class IdleConnectionMonitorThread extends Thread {\n \n        private volatile boolean shutdown;\n        private PoolingHttpClientConnectionManager connMgr;\n \n        public IdleConnectionMonitorThread(PoolingHttpClientConnectionManager connMgr) {\n            super();\n            this.setName(&quot;TCP-Ideal-Monitroing-Thread&quot;);\n            this.connMgr = connMgr;\n        }\n \n        @Override\n        public void run() {\n            try {\n                while (!shutdown) {\n                        sleep(TimeUnit.MINUTES.toMillis(1));\n                        // Close expired connections\n                        connMgr.closeExpiredConnections();\n                        // Optionally, close connections\n                        // that have been idle longer than 60 sec\n                        connMgr.closeIdleConnections(10, TimeUnit.MINUTES);\n                }\n            } catch (InterruptedException ex) {\n                // terminate\n            }\n        }\n \n        public void shutdown() {\n            shutdown = true;\n        }\n \n    }\n</code></pre>\n"}],"owner":{"account_id":301574,"reputation":14050,"user_id":609387,"accept_rate":93,"display_name":"coderslay"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3010,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1653089773,"creation_date":1652826542,"question_id":72281345,"body_markdown":"I want to do some thing like the following using Spring Cloud Open Feign\r\n- Create a Pooling HTTP client connection manager\r\n- Have an idle Connection Manager monitor thread for housekeeping\r\n- Avoid CLOSE_WAIT, always close response after consuming the body\r\n\r\nHTTP Client code would look like\r\n```\r\n\r\n  static class IdleConnectionMonitorThread extends Thread {\r\n \r\n        private volatile boolean shutdown;\r\n        private PoolingHttpClientConnectionManager connMgr;\r\n \r\n        public IdleConnectionMonitorThread(PoolingHttpClientConnectionManager connMgr) {\r\n            super();\r\n            this.setName(&quot;TCP-Ideal-Monitroing-Thread&quot;);\r\n            this.connMgr = connMgr;\r\n        }\r\n \r\n        @Override\r\n        public void run() {\r\n            try {\r\n                while (!shutdown) {\r\n                        sleep(TimeUnit.MINUTES.toMillis(1));\r\n                        // Close expired connections\r\n                        connMgr.closeExpiredConnections();\r\n                        // Optionally, close connections\r\n                        // that have been idle longer than 60 sec\r\n                        connMgr.closeIdleConnections(10, TimeUnit.MINUTES);\r\n                }\r\n            } catch (InterruptedException ex) {\r\n                // terminate\r\n            }\r\n        }\r\n \r\n        public void shutdown() {\r\n            shutdown = true;\r\n        }\r\n \r\n    }\r\n    \r\npublic void createClient() throws Exception {\r\n    PoolingHttpClientConnectionManager connectionManager = new PoolingHttpClientConnectionManager(10, TimeUnit.MINUTES);\r\n    connectionManager.setMaxTotal(1000);\r\n    connectionManager.setDefaultMaxPerRoute(20);\r\n     CloseableHttpClient httpClient = HttpClients.custom()\r\n                                                     .setConnectionManager(connectionManager)\r\n                                                     .build()) \r\n \r\n     Thread th = new IdleConnectionMonitorThread(connectionManager);\r\n \r\n     th.start();\r\n        \r\n}\r\n```\r\n\r\nThe reason i want to do is because i can see lot of HTTP Connections are open and not closed properly due to which i am getting some intermittent errors.\r\n\r\nIs there a way to customize Spring Cloud Open Feign&#39;s HTTP Client based on what is mentioned above? ","title":"Customize HTTPClient for Spring Cloud Open Feign","body":"<p>I want to do some thing like the following using Spring Cloud Open Feign</p>\n<ul>\n<li>Create a Pooling HTTP client connection manager</li>\n<li>Have an idle Connection Manager monitor thread for housekeeping</li>\n<li>Avoid CLOSE_WAIT, always close response after consuming the body</li>\n</ul>\n<p>HTTP Client code would look like</p>\n<pre><code>\n  static class IdleConnectionMonitorThread extends Thread {\n \n        private volatile boolean shutdown;\n        private PoolingHttpClientConnectionManager connMgr;\n \n        public IdleConnectionMonitorThread(PoolingHttpClientConnectionManager connMgr) {\n            super();\n            this.setName(&quot;TCP-Ideal-Monitroing-Thread&quot;);\n            this.connMgr = connMgr;\n        }\n \n        @Override\n        public void run() {\n            try {\n                while (!shutdown) {\n                        sleep(TimeUnit.MINUTES.toMillis(1));\n                        // Close expired connections\n                        connMgr.closeExpiredConnections();\n                        // Optionally, close connections\n                        // that have been idle longer than 60 sec\n                        connMgr.closeIdleConnections(10, TimeUnit.MINUTES);\n                }\n            } catch (InterruptedException ex) {\n                // terminate\n            }\n        }\n \n        public void shutdown() {\n            shutdown = true;\n        }\n \n    }\n    \npublic void createClient() throws Exception {\n    PoolingHttpClientConnectionManager connectionManager = new PoolingHttpClientConnectionManager(10, TimeUnit.MINUTES);\n    connectionManager.setMaxTotal(1000);\n    connectionManager.setDefaultMaxPerRoute(20);\n     CloseableHttpClient httpClient = HttpClients.custom()\n                                                     .setConnectionManager(connectionManager)\n                                                     .build()) \n \n     Thread th = new IdleConnectionMonitorThread(connectionManager);\n \n     th.start();\n        \n}\n</code></pre>\n<p>The reason i want to do is because i can see lot of HTTP Connections are open and not closed properly due to which i am getting some intermittent errors.</p>\n<p>Is there a way to customize Spring Cloud Open Feign's HTTP Client based on what is mentioned above?</p>\n"},{"tags":["java","selenium","google-chrome","selenium-webdriver","selenium-chromedriver"],"comments":[{"owner":{"account_id":14263104,"reputation":23,"user_id":10303194,"display_name":"soniya"},"score":0,"creation_date":1595241842,"post_id":62993623,"comment_id":111396424,"body_markdown":"Need  help to fix the above mentioned issue","body":"Need  help to fix the above mentioned issue"},{"owner":{"account_id":10049107,"reputation":186627,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"score":0,"creation_date":1595250173,"post_id":62993623,"comment_id":111400538,"body_markdown":"Can you update the question with the text based error stack trace please?","body":"Can you update the question with the text based error stack trace please?"},{"owner":{"account_id":14263104,"reputation":23,"user_id":10303194,"display_name":"soniya"},"score":0,"creation_date":1595250444,"post_id":62993623,"comment_id":111400678,"body_markdown":"thanks for response, I have done stack trace wit text based error,But didn&#39;t got  exact solution to the problem","body":"thanks for response, I have done stack trace wit text based error,But didn&#39;t got  exact solution to the problem"},{"owner":{"account_id":10049107,"reputation":186627,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"score":0,"creation_date":1595251203,"post_id":62993623,"comment_id":111401075,"body_markdown":"Please read why a [screenshot of HTML or code or error is a bad idea](https://meta.stackoverflow.com/questions/303812/discourage-screenshots-of-code-and-or-errors). Consider updating the Question with formatted text based relevant HTML, code trials and error stack trace.","body":"Please read why a <a href=\"https://meta.stackoverflow.com/questions/303812/discourage-screenshots-of-code-and-or-errors\">screenshot of HTML or code or error is a bad idea</a>. Consider updating the Question with formatted text based relevant HTML, code trials and error stack trace."},{"owner":{"account_id":14263104,"reputation":23,"user_id":10303194,"display_name":"soniya"},"score":0,"creation_date":1595498435,"post_id":62993623,"comment_id":111498176,"body_markdown":"Thank you above suggestion helped me to understand exact issue.","body":"Thank you above suggestion helped me to understand exact issue."},{"owner":{"account_id":10049107,"reputation":186627,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"score":0,"creation_date":1595498620,"post_id":62993623,"comment_id":111498268,"body_markdown":"Which above suggestion?","body":"Which above suggestion?"}],"answers":[{"tags":[],"owner":{"account_id":8037196,"reputation":958,"user_id":6059967,"display_name":"Justin Lambert"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1595242091,"creation_date":1595242091,"answer_id":62993737,"question_id":62993623,"body_markdown":"You need to update your exe version https://chromedriver.chromium.org/downloads in this link you can download driver exe and set in path \r\n\r\nCan you kill chrome exe and refresh and rerun ( note open cmd and paste this line and enter **taskkill /im chromedriver.exe /f** and rerun project \r\n\r\n\r\n\r\nPlease import **import org.openqa.selenium.chrome.ChromeDriver;**","title":"Invalid port. Exiting..Exception in thread &quot;main&quot; org.openqa.selenium.WebDriverException: Driver server process died prematurely ChromeDriver Selenium","body":"<p>You need to update your exe version <a href=\"https://chromedriver.chromium.org/downloads\" rel=\"nofollow noreferrer\">https://chromedriver.chromium.org/downloads</a> in this link you can download driver exe and set in path</p>\n<p>Can you kill chrome exe and refresh and rerun ( note open cmd and paste this line and enter <strong>taskkill /im chromedriver.exe /f</strong> and rerun project</p>\n<p>Please import <strong>import org.openqa.selenium.chrome.ChromeDriver;</strong></p>\n"},{"tags":[],"owner":{"account_id":1212752,"reputation":746,"user_id":1180993,"display_name":"White_King"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1595243036,"creation_date":1595243036,"answer_id":62993985,"question_id":62993623,"body_markdown":"It seems that you are facing a problem with the driver configuration, it can be the configuration code, driver versions or Windows configuration or even the Browser itself.\r\n[Here is a tutorial step by step on how to][1] configure the basics properly:\r\n\r\n[Here is how to configure the code side and also the last version of chrome][2]:\r\n\r\n\r\n**if you are working on a maven project** I want to throw a suggestion:\r\nuse:  *bonigarcia webdrivermanager library*. Just add this to your pom \r\n\r\n    &lt;!-- https://mvnrepository.com/artifact/io.github.bonigarcia/webdrivermanager --&gt;\r\n    \t&lt;dependency&gt;\r\n    \t    &lt;groupId&gt;io.github.bonigarcia&lt;/groupId&gt;\r\n    \t    &lt;artifactId&gt;webdrivermanager&lt;/artifactId&gt;\r\n    \t    &lt;version&gt;3.2.0&lt;/version&gt;\r\n    \t&lt;/dependency&gt;\r\nand the configuration is much more simpler.\r\n\r\n    ...\r\n    WebDriver driver= driverClass.getDeclaredConstructor().newInstance();\r\n    WebDriverUtils util = new WebDriverUtils(driver);\r\n    driver.get(&quot;google.com&quot;);\r\n    ...\r\nAnd that is it!\r\nWith this you will need to worry much less about configuration of the driver, it automatically imports the driver and configures it for you.\r\n[Here is a tutorial][3] in case you wanna try.\r\n\r\n\r\n  [1]: http://learn-automation.com/launch-chrome-browser-using-selenium-webdriver/\r\n  [2]: https://chromedriver.chromium.org/getting-started\r\n  [3]: https://www.seleniumeasy.com/selenium-tutorials/manage-webdriverdriver-executables-using-webdrivermanager","title":"Invalid port. Exiting..Exception in thread &quot;main&quot; org.openqa.selenium.WebDriverException: Driver server process died prematurely ChromeDriver Selenium","body":"<p>It seems that you are facing a problem with the driver configuration, it can be the configuration code, driver versions or Windows configuration or even the Browser itself.\n<a href=\"http://learn-automation.com/launch-chrome-browser-using-selenium-webdriver/\" rel=\"nofollow noreferrer\">Here is a tutorial step by step on how to</a> configure the basics properly:</p>\n<p><a href=\"https://chromedriver.chromium.org/getting-started\" rel=\"nofollow noreferrer\">Here is how to configure the code side and also the last version of chrome</a>:</p>\n<p><strong>if you are working on a maven project</strong> I want to throw a suggestion:\nuse:  <em>bonigarcia webdrivermanager library</em>. Just add this to your pom</p>\n<pre><code>&lt;!-- https://mvnrepository.com/artifact/io.github.bonigarcia/webdrivermanager --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;io.github.bonigarcia&lt;/groupId&gt;\n        &lt;artifactId&gt;webdrivermanager&lt;/artifactId&gt;\n        &lt;version&gt;3.2.0&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>and the configuration is much more simpler.</p>\n<pre><code>...\nWebDriver driver= driverClass.getDeclaredConstructor().newInstance();\nWebDriverUtils util = new WebDriverUtils(driver);\ndriver.get(&quot;google.com&quot;);\n...\n</code></pre>\n<p>And that is it!\nWith this you will need to worry much less about configuration of the driver, it automatically imports the driver and configures it for you.\n<a href=\"https://www.seleniumeasy.com/selenium-tutorials/manage-webdriverdriver-executables-using-webdrivermanager\" rel=\"nofollow noreferrer\">Here is a tutorial</a> in case you wanna try.</p>\n"},{"tags":[],"owner":{"account_id":17841761,"reputation":105,"user_id":12959500,"display_name":"Ledjon"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1595246779,"creation_date":1595246779,"answer_id":62995032,"question_id":62993623,"body_markdown":"In my case it was that ChromeDriver version wss not compatible with Chrome Browser version. Make sure you are using the right versions.\r\n\r\nHere you can find more information if you don&#39;t know which versions are compatible--&gt;  https://stackoverflow.com/questions/41133391/which-chromedriver-version-is-compatible-with-which-chrome-browser-version","title":"Invalid port. Exiting..Exception in thread &quot;main&quot; org.openqa.selenium.WebDriverException: Driver server process died prematurely ChromeDriver Selenium","body":"<p>In my case it was that ChromeDriver version wss not compatible with Chrome Browser version. Make sure you are using the right versions.</p>\n<p>Here you can find more information if you don't know which versions are compatible--&gt;  <a href=\"https://stackoverflow.com/questions/41133391/which-chromedriver-version-is-compatible-with-which-chrome-browser-version\">Which ChromeDriver version is compatible with which Chrome Browser version?</a></p>\n"},{"tags":[],"owner":{"account_id":10049107,"reputation":186627,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1595255611,"creation_date":1595254908,"answer_id":62997488,"question_id":62993623,"body_markdown":"This error message...\r\n\r\n\tInvalid port. Exiting...\r\n\tException in thread &quot;main&quot; org.openqa.selenium.WebDriverException: Driver server process died prematurely.\r\n\r\n...implies that the _ChromeDriver_ server process was unable to bind to the assigned **free port** within your system.\r\n\r\nAs per the discussion [Getting Invalid port error](https://bugs.chromium.org/p/chromedriver/issues/detail?id=1592) and [Invalid port. Exiting...](https://bugs.chromium.org/p/chromedriver/issues/detail?id=1806) \r\n\r\n&gt;&quot;Invalid port. Exiting...&quot; occurs when the port assigned to chromedriver is less than 0 or greater than 65535.\r\n\r\n\r\n----------\r\n\r\n\r\nDebugging steps\r\n---------------\r\nPerform the following steps one by one to address the issue:\r\n\r\n- Execute `netstat` command through _CLI_ to see if you have reached limit of possible open connections or check if there is another application running on the port used by [ChromeDriver](https://stackoverflow.com/questions/48079120/what-is-the-difference-between-chromedriver-and-webdriver-in-selenium/48080871#48080871).\r\n- Check your firewall settings, there is a good chance that firewall configuration may be blocking the communication.\r\n- Upgrade _ChromeDriver_ to  current [ChromeDriver v2.84](https://chromedriver.storage.googleapis.com/index.html?path=84.0.4147.30/) level.\r\n- Upgrade _Chrome_ to  current _Chrome v84.0_ levels. ([as per ChromeDriver v84.0 release notes](https://chromedriver.storage.googleapis.com/84.0.4147.30/notes.txt))\r\n- If your base _Web Client_ version is too old, then uninstall it and install a recent GA and released version of _Web Client_.\r\n- _Clean_ your _Project Workspace_ through your _IDE_ and _Rebuild_ your project with required dependencies only.\r\n- (_WindowsOS only_) Use [_CCleaner_](https://www.ccleaner.com/ccleaner) tool to wipe off all the OS chores before and after the execution of your _Test Suite_.\r\n- (_LinuxOS only_) [Free Up and Release the Unused/Cached Memory in Ubuntu/Linux Mint](http://www.yourownlinux.com/2013/10/how-to-free-up-release-unused-cached-memory-in-linux.html) before and after the execution of your _Test Suite_.\r\n- Take a _System Reboot_ to free up the used ports.\r\n- Execute your `@Test` as **non-root** user.\r\n- Always invoke `driver.quit()` within `tearDown(){}` method to close &amp; destroy the _WebDriver_ and _Web Client_ instances gracefully.\r\n\r\n\r\n----------\r\n\r\n\r\nAlternative\r\n-----------\r\nAs an alternative you can force the [WebDriver](https://stackoverflow.com/questions/48079120/what-is-the-difference-between-chromedriver-and-webdriver-in-selenium/48080871#48080871) variant i.e. _ChromeDriver_ to start on a specific port e.g. **`65535`** as follows:\r\n\r\n- Code Block:\r\n\r\n\t  System.setProperty(&quot;webdriver.chrome.driver&quot;,&quot;C:\\\\WebDrivers\\\\chromedriver.exe&quot;);\r\n\t  WebDriver driver= new ChromeDriver(new ChromeDriverService.Builder().usingPort(65535).build());\r\n\t  driver.get(&quot;https://www.google.com/&quot;);\r\n\r\n- Console Output:\r\n\r\n\t  Starting ChromeDriver 83.0.4103.39 (ccbf011cb2d2b19b506d844400483861342c20cd-refs/branch-heads/4103@{#416}) on port 65535\r\n\t  Only local connections are allowed.\r\n\t  Please see https://chromedriver.chromium.org/security-considerations for suggestions on keeping ChromeDriver safe.\r\n\t  ChromeDriver was started successfully.\r\n\t  Jul 20, 2020 7:36:17 PM org.openqa.selenium.remote.ProtocolHandshake createSession\r\n\t  INFO: Detected dialect: W3C\r\n\r\n\r\n----------\r\n\r\n\r\nReferences\r\n----------\r\nYou can find a couple of relevant detailed discussions in:\r\n\r\n- [Invalid port. Exiting… org.openqa.selenium.os.OsProcess checkForError while launching chrome using selenium](https://stackoverflow.com/questions/50245718/invalid-port-exiting-org-openqa-selenium-os-osprocess-checkforerror-while-la/50248465#50248465)\r\n- [org.openqa.selenium.os.OsProcess checkForError and org.apache.commons.exec.ExecuteException: Process exited with an error with Selenium ChromeDriver](https://stackoverflow.com/questions/56423566/org-openqa-selenium-os-osprocess-checkforerror-and-org-apache-commons-exec-execu/56429042#56429042)\r\n- [“OsProcess checkForError : CreateProcess error=193, %1 is not a valid Win32 application” while starting Internet Explorer through Java and Selenium\r\n](https://stackoverflow.com/questions/51621782/osprocess-checkforerror-createprocess-error-193-1-is-not-a-valid-win32-appl/51627483#51627483)","title":"Invalid port. Exiting..Exception in thread &quot;main&quot; org.openqa.selenium.WebDriverException: Driver server process died prematurely ChromeDriver Selenium","body":"<p>This error message...</p>\n<pre><code>Invalid port. Exiting...\nException in thread &quot;main&quot; org.openqa.selenium.WebDriverException: Driver server process died prematurely.\n</code></pre>\n<p>...implies that the <em>ChromeDriver</em> server process was unable to bind to the assigned <strong>free port</strong> within your system.</p>\n<p>As per the discussion <a href=\"https://bugs.chromium.org/p/chromedriver/issues/detail?id=1592\" rel=\"nofollow noreferrer\">Getting Invalid port error</a> and <a href=\"https://bugs.chromium.org/p/chromedriver/issues/detail?id=1806\" rel=\"nofollow noreferrer\">Invalid port. Exiting...</a></p>\n<blockquote>\n<p>&quot;Invalid port. Exiting...&quot; occurs when the port assigned to chromedriver is less than 0 or greater than 65535.</p>\n</blockquote>\n<hr />\n<h2>Debugging steps</h2>\n<p>Perform the following steps one by one to address the issue:</p>\n<ul>\n<li>Execute <code>netstat</code> command through <em>CLI</em> to see if you have reached limit of possible open connections or check if there is another application running on the port used by <a href=\"https://stackoverflow.com/questions/48079120/what-is-the-difference-between-chromedriver-and-webdriver-in-selenium/48080871#48080871\">ChromeDriver</a>.</li>\n<li>Check your firewall settings, there is a good chance that firewall configuration may be blocking the communication.</li>\n<li>Upgrade <em>ChromeDriver</em> to  current <a href=\"https://chromedriver.storage.googleapis.com/index.html?path=84.0.4147.30/\" rel=\"nofollow noreferrer\">ChromeDriver v2.84</a> level.</li>\n<li>Upgrade <em>Chrome</em> to  current <em>Chrome v84.0</em> levels. (<a href=\"https://chromedriver.storage.googleapis.com/84.0.4147.30/notes.txt\" rel=\"nofollow noreferrer\">as per ChromeDriver v84.0 release notes</a>)</li>\n<li>If your base <em>Web Client</em> version is too old, then uninstall it and install a recent GA and released version of <em>Web Client</em>.</li>\n<li><em>Clean</em> your <em>Project Workspace</em> through your <em>IDE</em> and <em>Rebuild</em> your project with required dependencies only.</li>\n<li>(<em>WindowsOS only</em>) Use <a href=\"https://www.ccleaner.com/ccleaner\" rel=\"nofollow noreferrer\"><em>CCleaner</em></a> tool to wipe off all the OS chores before and after the execution of your <em>Test Suite</em>.</li>\n<li>(<em>LinuxOS only</em>) <a href=\"http://www.yourownlinux.com/2013/10/how-to-free-up-release-unused-cached-memory-in-linux.html\" rel=\"nofollow noreferrer\">Free Up and Release the Unused/Cached Memory in Ubuntu/Linux Mint</a> before and after the execution of your <em>Test Suite</em>.</li>\n<li>Take a <em>System Reboot</em> to free up the used ports.</li>\n<li>Execute your <code>@Test</code> as <strong>non-root</strong> user.</li>\n<li>Always invoke <code>driver.quit()</code> within <code>tearDown(){}</code> method to close &amp; destroy the <em>WebDriver</em> and <em>Web Client</em> instances gracefully.</li>\n</ul>\n<hr />\n<h2>Alternative</h2>\n<p>As an alternative you can force the <a href=\"https://stackoverflow.com/questions/48079120/what-is-the-difference-between-chromedriver-and-webdriver-in-selenium/48080871#48080871\">WebDriver</a> variant i.e. <em>ChromeDriver</em> to start on a specific port e.g. <strong><code>65535</code></strong> as follows:</p>\n<ul>\n<li><p>Code Block:</p>\n<pre><code>System.setProperty(&quot;webdriver.chrome.driver&quot;,&quot;C:\\\\WebDrivers\\\\chromedriver.exe&quot;);\nWebDriver driver= new ChromeDriver(new ChromeDriverService.Builder().usingPort(65535).build());\ndriver.get(&quot;https://www.google.com/&quot;);\n</code></pre>\n</li>\n<li><p>Console Output:</p>\n<pre><code>Starting ChromeDriver 83.0.4103.39 (ccbf011cb2d2b19b506d844400483861342c20cd-refs/branch-heads/4103@{#416}) on port 65535\nOnly local connections are allowed.\nPlease see https://chromedriver.chromium.org/security-considerations for suggestions on keeping ChromeDriver safe.\nChromeDriver was started successfully.\nJul 20, 2020 7:36:17 PM org.openqa.selenium.remote.ProtocolHandshake createSession\nINFO: Detected dialect: W3C\n</code></pre>\n</li>\n</ul>\n<hr />\n<h2>References</h2>\n<p>You can find a couple of relevant detailed discussions in:</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/50245718/invalid-port-exiting-org-openqa-selenium-os-osprocess-checkforerror-while-la/50248465#50248465\">Invalid port. Exiting… org.openqa.selenium.os.OsProcess checkForError while launching chrome using selenium</a></li>\n<li><a href=\"https://stackoverflow.com/questions/56423566/org-openqa-selenium-os-osprocess-checkforerror-and-org-apache-commons-exec-execu/56429042#56429042\">org.openqa.selenium.os.OsProcess checkForError and org.apache.commons.exec.ExecuteException: Process exited with an error with Selenium ChromeDriver</a></li>\n<li><a href=\"https://stackoverflow.com/questions/51621782/osprocess-checkforerror-createprocess-error-193-1-is-not-a-valid-win32-appl/51627483#51627483\">“OsProcess checkForError : CreateProcess error=193, %1 is not a valid Win32 application” while starting Internet Explorer through Java and Selenium\n</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":14263104,"reputation":23,"user_id":10303194,"display_name":"soniya"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1595500105,"creation_date":1595500105,"answer_id":63052134,"question_id":62993623,"body_markdown":"For the above problem, I understood what was root cause.\r\n\r\nMistake : I have done mistake of deleting system variable path while adding the JAVA_HOME in the environmental variable.\r\nHence I do suggest,Please don&#39;t delete any system path while adding or editing the system variable.\r\n\r\nSecond thing : I have reset the window-10 operating system to get the exact system path,which supported me to execute the selenium test cases.\r\n\r\nBecause of setting incorrect system path in the environmental variable,My system operating system was unable to reach to specific browser driver&#39;s.\r\nwhich implies , that the Chrome-driver server process was unable to bind to the assigned free port within our system.\r\n\r\n**conclusion** :The above issue got resolved for me, By resetting windows-10 OS.\r\n Install eclipse editor,JDK, selenium jar files,different drivers with respective browser and execute the test case.\r\n\r\nI hope it will help to some one, who is facing same issue.\r\nThanks..\r\n\r\n\r\n\r\n\r\n\r\n\r\n ","title":"Invalid port. Exiting..Exception in thread &quot;main&quot; org.openqa.selenium.WebDriverException: Driver server process died prematurely ChromeDriver Selenium","body":"<p>For the above problem, I understood what was root cause.</p>\n<p>Mistake : I have done mistake of deleting system variable path while adding the JAVA_HOME in the environmental variable.\nHence I do suggest,Please don't delete any system path while adding or editing the system variable.</p>\n<p>Second thing : I have reset the window-10 operating system to get the exact system path,which supported me to execute the selenium test cases.</p>\n<p>Because of setting incorrect system path in the environmental variable,My system operating system was unable to reach to specific browser driver's.\nwhich implies , that the Chrome-driver server process was unable to bind to the assigned free port within our system.</p>\n<p><strong>conclusion</strong> :The above issue got resolved for me, By resetting windows-10 OS.\nInstall eclipse editor,JDK, selenium jar files,different drivers with respective browser and execute the test case.</p>\n<p>I hope it will help to some one, who is facing same issue.\nThanks..</p>\n"},{"tags":[],"owner":{"account_id":25347295,"reputation":1,"user_id":19164709,"display_name":"Kalyani Kulkarni"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653089172,"creation_date":1653089172,"answer_id":72325591,"question_id":62993623,"body_markdown":"I faced the same error and then I followed the steps shared at Timon/Web.com.\r\n\r\nStep 1 — Find chromedriver binary path\r\nTo find chromedriver binary path, run the following command in the terminal:\r\n\r\nwhich chromedriver\r\n\r\nThe output should be similar to:\r\n\r\nterminal output\r\n/usr/local/bin/chromedriver\r\n\r\nStep 2 — Lift the quarantine for the chromedriver binary\r\nNow you need to tell Mac OS to trust this binary by lifting the quarantine. Do this by the following terminal command:\r\n\r\nxattr -d com.apple.quarantine /usr/local/bin/chromedriver\r\n\r\nNow, rerun your test or script, and it should be able to run chromedriver without the error.\r\n\r\nBelow is the link which I referred :\r\n\r\nhttps://timonweb.com/misc/fixing-error-chromedriver-cannot-be-opened-because-the-developer-cannot-be-verified-unable-to-launch-the-chrome-browser-on-mac-os/\r\n\r\nIts working fine for me. May be it will help you as well. ","title":"Invalid port. Exiting..Exception in thread &quot;main&quot; org.openqa.selenium.WebDriverException: Driver server process died prematurely ChromeDriver Selenium","body":"<p>I faced the same error and then I followed the steps shared at Timon/Web.com.</p>\n<p>Step 1 — Find chromedriver binary path\nTo find chromedriver binary path, run the following command in the terminal:</p>\n<p>which chromedriver</p>\n<p>The output should be similar to:</p>\n<p>terminal output\n/usr/local/bin/chromedriver</p>\n<p>Step 2 — Lift the quarantine for the chromedriver binary\nNow you need to tell Mac OS to trust this binary by lifting the quarantine. Do this by the following terminal command:</p>\n<p>xattr -d com.apple.quarantine /usr/local/bin/chromedriver</p>\n<p>Now, rerun your test or script, and it should be able to run chromedriver without the error.</p>\n<p>Below is the link which I referred :</p>\n<p><a href=\"https://timonweb.com/misc/fixing-error-chromedriver-cannot-be-opened-because-the-developer-cannot-be-verified-unable-to-launch-the-chrome-browser-on-mac-os/\" rel=\"nofollow noreferrer\">https://timonweb.com/misc/fixing-error-chromedriver-cannot-be-opened-because-the-developer-cannot-be-verified-unable-to-launch-the-chrome-browser-on-mac-os/</a></p>\n<p>Its working fine for me. May be it will help you as well.</p>\n"}],"owner":{"account_id":14263104,"reputation":23,"user_id":10303194,"display_name":"soniya"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9883,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":62993737,"answer_count":6,"score":2,"last_activity_date":1653089172,"creation_date":1595241613,"question_id":62993623,"body_markdown":"Installation details\r\n--------------------\r\nI have installed  \r\n\r\n- **java version** : 1.8  \r\n- **selenium jar version** : 3.141.59,  \r\n- **chrome browser version** : 84.0.4147.89.\r\n\r\nI want to launch the google in chrome browser using selenium web-driver test case. But I am not able to launch due the above attached issue.  \r\n\r\n![Error snapshot](https://i.stack.imgur.com/IqOPq.png)\r\n\r\nPlease help me to fix the issue.\r\n\r\n\r\n\r\n \r\n  ","title":"Invalid port. Exiting..Exception in thread &quot;main&quot; org.openqa.selenium.WebDriverException: Driver server process died prematurely ChromeDriver Selenium","body":"<h2>Installation details</h2>\n<p>I have installed</p>\n<ul>\n<li><strong>java version</strong> : 1.8</li>\n<li><strong>selenium jar version</strong> : 3.141.59,</li>\n<li><strong>chrome browser version</strong> : 84.0.4147.89.</li>\n</ul>\n<p>I want to launch the google in chrome browser using selenium web-driver test case. But I am not able to launch due the above attached issue.</p>\n<p><img src=\"https://i.stack.imgur.com/IqOPq.png\" alt=\"Error snapshot\" /></p>\n<p>Please help me to fix the issue.</p>\n"},{"tags":["java","camera","libgdx","viewport"],"comments":[{"owner":{"account_id":1391551,"reputation":8448,"user_id":1322271,"accept_rate":73,"display_name":"Madmenyo"},"score":0,"creation_date":1500990708,"post_id":45259450,"comment_id":77572431,"body_markdown":"`myViewport.screenX` &amp; `myViewport.screenY`? But my guess would be these values would be relative to the bottom corner of your screen in pixels. What is it exactly what you want? You viewport renders what the camera sees, I think what you really want is camera coordinates.","body":"<code>myViewport.screenX</code> &amp; <code>myViewport.screenY</code>? But my guess would be these values would be relative to the bottom corner of your screen in pixels. What is it exactly what you want? You viewport renders what the camera sees, I think what you really want is camera coordinates."}],"answers":[{"tags":[],"owner":{"account_id":2074923,"reputation":348,"user_id":1848571,"accept_rate":60,"display_name":"GabeTheApe"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653088893,"creation_date":1653088893,"answer_id":72325566,"question_id":45259450,"body_markdown":"You could do something like this\r\n\r\n    \tpublic static Vector3 MultiplyPoint(Matrix4 m, Vector3 point)\r\n\t{\r\n\t\tVector3 result = new Vector3(0, 0, 0);\r\n\t\tresult.x = m.val[Matrix4.M00] * point.x + m.val[Matrix4.M01] * point.y +  m.val[Matrix4.M02]* point.z +  m.val[Matrix4.M03];\r\n\t\tresult.y = m.val[Matrix4.M10] * point.x + m.val[Matrix4.M11] * point.y + m.val[Matrix4.M12] * point.z + m.val[Matrix4.M13];\r\n\t\tresult.z = m.val[Matrix4.M20] * point.x + m.val[Matrix4.M21] * point.y + m.val[Matrix4.M22] * point.z + m.val[Matrix4.M23];\r\n\t\tfloat num = m.val[Matrix4.M30] * point.x + m.val[Matrix4.M31] * point.y + m.val[Matrix4.M32] * point.z + m.val[Matrix4.M33];\r\n\t\tnum = 1f / num;\r\n\t\tresult.x *= num;\r\n\t\tresult.y *= num;\r\n\t\tresult.z *= num;\r\n\t\treturn result;\r\n\t}\r\n\t\r\n\tpublic static Vector2 WorldToScreenPoint(float x, float y)\r\n\t{\r\n\t\tMatrix4 V = Constants.Camera.view;\r\n\t\tMatrix4 P = Constants.Camera.projection;\r\n\t\t\r\n\t\tMatrix4 MVP = P.mul(V); // Skipping M, point in world coordinates\r\n\t\tVector3 screenPos = MultiplyPoint(MVP, new Vector3(x, y, 0));\r\n\t\t\r\n\t\tVector3 screenPoint = new Vector3(screenPos.x + 1f, screenPos.y + 1f, screenPos.z + 1f).scl(0.5f); // returns x, y in [0, 1] internal. \r\n\t\t\r\n\t\treturn new Vector2(screenPoint.x * Constants.GlobalWidth, screenPoint.y * Constants.GlobalHeight); // multiply by viewport width and height to get the actual screen coordinates.\r\n\t}","title":"LibGDX World/Screen coordinates to Viewport coordinates (with camera zoom)","body":"<p>You could do something like this</p>\n<pre><code>    public static Vector3 MultiplyPoint(Matrix4 m, Vector3 point)\n{\n    Vector3 result = new Vector3(0, 0, 0);\n    result.x = m.val[Matrix4.M00] * point.x + m.val[Matrix4.M01] * point.y +  m.val[Matrix4.M02]* point.z +  m.val[Matrix4.M03];\n    result.y = m.val[Matrix4.M10] * point.x + m.val[Matrix4.M11] * point.y + m.val[Matrix4.M12] * point.z + m.val[Matrix4.M13];\n    result.z = m.val[Matrix4.M20] * point.x + m.val[Matrix4.M21] * point.y + m.val[Matrix4.M22] * point.z + m.val[Matrix4.M23];\n    float num = m.val[Matrix4.M30] * point.x + m.val[Matrix4.M31] * point.y + m.val[Matrix4.M32] * point.z + m.val[Matrix4.M33];\n    num = 1f / num;\n    result.x *= num;\n    result.y *= num;\n    result.z *= num;\n    return result;\n}\n\npublic static Vector2 WorldToScreenPoint(float x, float y)\n{\n    Matrix4 V = Constants.Camera.view;\n    Matrix4 P = Constants.Camera.projection;\n    \n    Matrix4 MVP = P.mul(V); // Skipping M, point in world coordinates\n    Vector3 screenPos = MultiplyPoint(MVP, new Vector3(x, y, 0));\n    \n    Vector3 screenPoint = new Vector3(screenPos.x + 1f, screenPos.y + 1f, screenPos.z + 1f).scl(0.5f); // returns x, y in [0, 1] internal. \n    \n    return new Vector2(screenPoint.x * Constants.GlobalWidth, screenPoint.y * Constants.GlobalHeight); // multiply by viewport width and height to get the actual screen coordinates.\n}\n</code></pre>\n"}],"owner":{"account_id":3051922,"reputation":459,"user_id":2586284,"accept_rate":71,"display_name":"Sierox"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":925,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1653088893,"creation_date":1500759411,"question_id":45259450,"body_markdown":"I have a game map that is larger than the viewport, so the camera moves around. The player can also zoom the camera in/out. When anywhere on the screen is tapped I get the device screen coordinates. So if I have a 1920x1080 screen and tap the upper right corner i get (1920, 1080) whereas if I have a 1280x720 screen tapping at the same place gives a (1280, 720).\r\n\r\nMy viewport (virtual screen size) is set to 1280x720. If I use `cam.unproject(Vector2)` or `viewport.unproject(Vector2)` I get the corresponding world coordinates. So if the camera is not translated or zoomed. Tapping the upper left corner on any screen size gives a (1280,720). But if I scroll the map up and to the right I get bigger values than (1280,720). In fact I get `(1280 + camera.position.x, 720 + camera.position.y)`. And using zoom complicates things even more and I have to manually calculate what I&#39;m looking for.\r\n\r\nMy question is, how can I get the viewport coordinate and not the world coordinate? Does LibGDX have a way around this?","title":"LibGDX World/Screen coordinates to Viewport coordinates (with camera zoom)","body":"<p>I have a game map that is larger than the viewport, so the camera moves around. The player can also zoom the camera in/out. When anywhere on the screen is tapped I get the device screen coordinates. So if I have a 1920x1080 screen and tap the upper right corner i get (1920, 1080) whereas if I have a 1280x720 screen tapping at the same place gives a (1280, 720).</p>\n\n<p>My viewport (virtual screen size) is set to 1280x720. If I use <code>cam.unproject(Vector2)</code> or <code>viewport.unproject(Vector2)</code> I get the corresponding world coordinates. So if the camera is not translated or zoomed. Tapping the upper left corner on any screen size gives a (1280,720). But if I scroll the map up and to the right I get bigger values than (1280,720). In fact I get <code>(1280 + camera.position.x, 720 + camera.position.y)</code>. And using zoom complicates things even more and I have to manually calculate what I'm looking for.</p>\n\n<p>My question is, how can I get the viewport coordinate and not the world coordinate? Does LibGDX have a way around this?</p>\n"},{"tags":["java","image","search","jsoup"],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653088649,"creation_date":1653088649,"answer_id":72325542,"question_id":72325334,"body_markdown":"There is no way to do that.\r\n\r\nGoogle image search used to show the images, but copyright law caused some issues with this; hence they now only host postage stamp sized versions of it, and you have to click through to the site. Trying to find the same image on the target site is _very_ difficult and would involve spidering the entire site, fetching all images, and figuring out which one looks like the postage stamp.","title":"Having problems with jsoup","body":"<p>There is no way to do that.</p>\n<p>Google image search used to show the images, but copyright law caused some issues with this; hence they now only host postage stamp sized versions of it, and you have to click through to the site. Trying to find the same image on the target site is <em>very</em> difficult and would involve spidering the entire site, fetching all images, and figuring out which one looks like the postage stamp.</p>\n"}],"owner":{"account_id":25347047,"reputation":1,"user_id":19164510,"display_name":"Juan Jos&#233;"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1653088649,"creation_date":1653086009,"question_id":72325334,"body_markdown":"I&#39;m trying to get an image by searching in google for this i&#39;m using jsoup, and everything is fine, i can get the images, but they&#39;re in a very low quality, there is another way to get them with better quality? \r\n\r\n\r\n    public class JsoupTest {\r\n\r\n    public static void main(String[] args) {\r\n        String userAgent = &quot;Mozilla/5.0 (Windows NT 6.3; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/53.0.2785.116 Safari/537.36&quot;;\r\n        String url = &quot;https://www.google.com/search?site=imghp&amp;tbm=isch&amp;source=hp&amp;q=galan de noche planta&amp;gws_rd=cr&quot;;\r\n        List&lt;String&gt; resultUrls = new ArrayList();\r\n        try {\r\n            Document doc = Jsoup.connect(url).userAgent(userAgent).referrer(&quot;https://www.google.com/&quot;).get();\r\n            Elements elements =  doc.getElementsByTag(&quot;img&quot;);\r\n            for (Element element : elements) {\r\n                resultUrls.add(element.absUrl(&quot;src&quot;));\r\n            }\r\n        resultUrls.forEach(System.out::println);\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n}\r\n\r\n","title":"Having problems with jsoup","body":"<p>I'm trying to get an image by searching in google for this i'm using jsoup, and everything is fine, i can get the images, but they're in a very low quality, there is another way to get them with better quality?</p>\n<pre><code>public class JsoupTest {\n\npublic static void main(String[] args) {\n    String userAgent = &quot;Mozilla/5.0 (Windows NT 6.3; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/53.0.2785.116 Safari/537.36&quot;;\n    String url = &quot;https://www.google.com/search?site=imghp&amp;tbm=isch&amp;source=hp&amp;q=galan de noche planta&amp;gws_rd=cr&quot;;\n    List&lt;String&gt; resultUrls = new ArrayList();\n    try {\n        Document doc = Jsoup.connect(url).userAgent(userAgent).referrer(&quot;https://www.google.com/&quot;).get();\n        Elements elements =  doc.getElementsByTag(&quot;img&quot;);\n        for (Element element : elements) {\n            resultUrls.add(element.absUrl(&quot;src&quot;));\n        }\n    resultUrls.forEach(System.out::println);\n    } catch (IOException e) {\n        e.printStackTrace();\n    }\n}\n</code></pre>\n<p>}</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":4,"creation_date":1653082780,"post_id":72324914,"comment_id":127773133,"body_markdown":"What are the rules here? If one string contains each word of the other string, case independently? `p0` is never going to contain `p1`, since there is one character, the hyphen, that is in `p1` but not in `p0`. But it would be possible to go the other direction, and check if each word in `p0` is in `p1`, case independently. Then `p1` would &quot;contain&quot; `p0`. Split on spaces, and try to find each word as a (quoted) regex in the other string, ignoring case.","body":"What are the rules here? If one string contains each word of the other string, case independently? <code>p0</code> is never going to contain <code>p1</code>, since there is one character, the hyphen, that is in <code>p1</code> but not in <code>p0</code>. But it would be possible to go the other direction, and check if each word in <code>p0</code> is in <code>p1</code>, case independently. Then <code>p1</code> would &quot;contain&quot; <code>p0</code>. Split on spaces, and try to find each word as a (quoted) regex in the other string, ignoring case."},{"owner":{"account_id":25341735,"reputation":1,"user_id":19160041,"display_name":"GHOST DEVELOPER"},"score":0,"creation_date":1653083333,"post_id":72324914,"comment_id":127773247,"body_markdown":"i found the solution","body":"i found the solution"},{"owner":{"account_id":1031708,"reputation":1301,"user_id":1039920,"accept_rate":100,"display_name":"Mark Sholund"},"score":0,"creation_date":1653083492,"post_id":72324914,"comment_id":127773269,"body_markdown":"It is definitely possible to compare these to with a method that will return true. “areEqual(s1, s2) { return true;}” will do the trick and return true for every set of inputs. If you have rules that can be followed to make it return true or false depending on the inputs then you’d have to code them into the method.","body":"It is definitely possible to compare these to with a method that will return true. “areEqual(s1, s2) { return true;}” will do the trick and return true for every set of inputs. If you have rules that can be followed to make it return true or false depending on the inputs then you’d have to code them into the method."}],"answers":[{"tags":[],"owner":{"account_id":24412522,"reputation":31,"user_id":18339789,"display_name":"Parda"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1653082038,"creation_date":1653082038,"answer_id":72324934,"question_id":72324914,"body_markdown":"You can use\r\n```\r\nboolean result = p0.contains(p1);\r\n```\r\nthis will give a true or false.","title":"Check if one String contains another String in Java","body":"<p>You can use</p>\n<pre><code>boolean result = p0.contains(p1);\n</code></pre>\n<p>this will give a true or false.</p>\n"},{"tags":[],"owner":{"account_id":25341735,"reputation":1,"user_id":19160041,"display_name":"GHOST DEVELOPER"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1653083243,"creation_date":1653083229,"answer_id":72325073,"question_id":72324914,"body_markdown":"Whit this I succeeded:\r\n\r\n```\r\n    String p2 = p1.replaceAll(&quot; - &quot;,&quot; &quot;);\r\n    System.out.println(p0.equalsIgnoreCase(p2));\r\n  \r\n```\r\n\r\n","title":"Check if one String contains another String in Java","body":"<p>Whit this I succeeded:</p>\n<pre><code>    String p2 = p1.replaceAll(&quot; - &quot;,&quot; &quot;);\n    System.out.println(p0.equalsIgnoreCase(p2));\n  \n</code></pre>\n"},{"tags":[],"owner":{"account_id":22421325,"reputation":106,"user_id":16628567,"display_name":"KyreX"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653085830,"creation_date":1653085830,"answer_id":72325323,"question_id":72324914,"body_markdown":"If you want to check if a string `s1` contains all the words of another string `s2`, \r\nsince Java 8, you can do:\r\n\r\n- If `s2` only has words:\r\n\r\n      boolean s1ContainsS2 = Stream.of(s2.toUpperCase().split(&quot; &quot;))       // get words in uppercase\r\n                                   .allMatch(s1.toUpperCase()::contains); // check s1 contains all the words of s2\r\n\r\n\r\n- If `s2` has other symbols/numbers that you want to ignore:\r\n\r\n      boolean s1ContainsS2 = Stream.of(s2.toUpperCase().split(&quot; &quot;))        // get &quot;words&quot; in uppercase\r\n                                   .filter(word -&gt; word.matches(&quot;[A-Z]+&quot;)) // ignore what is not a word\r\n                                   .allMatch(s1.toUpperCase()::contains);  // check the same than before","title":"Check if one String contains another String in Java","body":"<p>If you want to check if a string <code>s1</code> contains all the words of another string <code>s2</code>,\nsince Java 8, you can do:</p>\n<ul>\n<li><p>If <code>s2</code> only has words:</p>\n<pre><code>boolean s1ContainsS2 = Stream.of(s2.toUpperCase().split(&quot; &quot;))       // get words in uppercase\n                             .allMatch(s1.toUpperCase()::contains); // check s1 contains all the words of s2\n</code></pre>\n</li>\n<li><p>If <code>s2</code> has other symbols/numbers that you want to ignore:</p>\n<pre><code>boolean s1ContainsS2 = Stream.of(s2.toUpperCase().split(&quot; &quot;))        // get &quot;words&quot; in uppercase\n                             .filter(word -&gt; word.matches(&quot;[A-Z]+&quot;)) // ignore what is not a word\n                             .allMatch(s1.toUpperCase()::contains);  // check the same than before\n</code></pre>\n</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653087399,"creation_date":1653086700,"answer_id":72325387,"question_id":72324914,"body_markdown":"If you only want to test the same sequence of letters you can do it like this.\r\n```\r\nString p0 = &quot;HELLO WORLD&quot;;\r\nString p1 = &quot;Hello - World&quot;;\r\n```\r\n- `[^A-Za-z]` - match any non-letter.\r\n```\r\nSystem.out.println(p0.replaceAll(&quot;[^A-Za-z]&quot;, &quot;&quot;).toLowerCase()\r\n          .contains(p1.replaceAll(&quot;[^A-Za-z]&quot;, &quot;&quot;).toLowerCase()));\r\n\r\nSystem.out.println(p0.replaceAll(&quot;[^A-Za-z]&quot;, &quot;&quot;)\r\n          .equalsIgnoreCase(p1.replaceAll(&quot;[^A-Za-z]&quot;, &quot;&quot;)));\r\n\r\n```\r\nIn both cases they print true.  To facilitate this you could write a `BiPredicate`. Here is one for `equals`.\r\n```\r\nBiPredicate&lt;String,String&gt; areEqual = (a,b)-&gt; a.replaceAll(&quot;[^A-Za-z]&quot;, &quot;&quot;)\r\n              .equalsIgnoreCase(b.replaceAll(&quot;[^A-Za-z]&quot;, &quot;&quot;));\t   \r\n\t\t\r\nSystem.out.println(areEqual.test(p0,p1));\r\n```\r\nprints\r\n```\r\ntrue\r\n\t","title":"Check if one String contains another String in Java","body":"<p>If you only want to test the same sequence of letters you can do it like this.</p>\n<pre><code>String p0 = &quot;HELLO WORLD&quot;;\nString p1 = &quot;Hello - World&quot;;\n</code></pre>\n<ul>\n<li><code>[^A-Za-z]</code> - match any non-letter.</li>\n</ul>\n<pre><code>System.out.println(p0.replaceAll(&quot;[^A-Za-z]&quot;, &quot;&quot;).toLowerCase()\n          .contains(p1.replaceAll(&quot;[^A-Za-z]&quot;, &quot;&quot;).toLowerCase()));\n\nSystem.out.println(p0.replaceAll(&quot;[^A-Za-z]&quot;, &quot;&quot;)\n          .equalsIgnoreCase(p1.replaceAll(&quot;[^A-Za-z]&quot;, &quot;&quot;)));\n\n</code></pre>\n<p>In both cases they print true.  To facilitate this you could write a <code>BiPredicate</code>. Here is one for <code>equals</code>.</p>\n<pre><code>BiPredicate&lt;String,String&gt; areEqual = (a,b)-&gt; a.replaceAll(&quot;[^A-Za-z]&quot;, &quot;&quot;)\n              .equalsIgnoreCase(b.replaceAll(&quot;[^A-Za-z]&quot;, &quot;&quot;));    \n        \nSystem.out.println(areEqual.test(p0,p1));\n</code></pre>\n<p>prints</p>\n<pre><code>true\n    \n</code></pre>\n"}],"owner":{"account_id":25341735,"reputation":1,"user_id":19160041,"display_name":"GHOST DEVELOPER"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":137,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1653086217,"answer_count":4,"score":-1,"last_activity_date":1653087399,"creation_date":1653081841,"question_id":72324914,"body_markdown":"Is it possible to compare these 2 strings to give me true? does a union between contains and equals exist? thank you\r\n\r\n```\r\npublic class Main {\r\n  public static void main(String[] args) {\r\n  \r\n    String p0 = &quot;HELLO WORLD&quot;;\r\n    String p1 = &quot;Hello - World&quot;;\r\n  \r\n    System.out.println(p0.contains(p1));\r\n    System.out.println(p0.equals(p1));\r\n  }\r\n}\r\n```","title":"Check if one String contains another String in Java","body":"<p>Is it possible to compare these 2 strings to give me true? does a union between contains and equals exist? thank you</p>\n<pre><code>public class Main {\n  public static void main(String[] args) {\n  \n    String p0 = &quot;HELLO WORLD&quot;;\n    String p1 = &quot;Hello - World&quot;;\n  \n    System.out.println(p0.contains(p1));\n    System.out.println(p0.equals(p1));\n  }\n}\n</code></pre>\n"},{"tags":["java","algorithm","data-structures","linked-list"],"comments":[{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1653076190,"post_id":72324052,"comment_id":127771543,"body_markdown":"You&#39;re updating the `rootNode` field in the loop. By the end it&#39;ll be pointing to the last node.","body":"You&#39;re updating the <code>rootNode</code> field in the loop. By the end it&#39;ll be pointing to the last node."}],"answers":[{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653076927,"creation_date":1653076210,"answer_id":72324156,"question_id":72324052,"body_markdown":"That happens because you&#39;re resigning the `rootNode` while iterating. \r\n\r\nBy making this, you are erasing all previous state of the list, which you can access only via root. That&#39;s way the only node that remain in the list are root and its next node.\r\n\r\nIn order to iterate over the list, you should introduce the local variable like in the first version. There&#39;s no other way around.\r\n\r\nAnd I suggest to simplify the method a bit by returning after checking whether the root is `null`, there will be no in nesting the loop into the additional block of curly braces:\r\n\r\n    public void add (E val) {\r\n        Node newNode = new Node(val,null);\r\n        \r\n        if(rootNode == null) {\r\n            rootNode = newNode;\r\n            return;\r\n        }\r\n    \r\n        Node currentNode = rootNode;\r\n        while (rootNode.nextNode != null) {\r\n            rootNode = rootNode.nextNode;\r\n        } \r\n        rootNode.setNextNode(newNode);\r\n    }","title":"Implementing my own LinkedList, insertion of a new element to the Tail doesn&#39;t work correctly","body":"<p>That happens because you're resigning the <code>rootNode</code> while iterating.</p>\n<p>By making this, you are erasing all previous state of the list, which you can access only via root. That's way the only node that remain in the list are root and its next node.</p>\n<p>In order to iterate over the list, you should introduce the local variable like in the first version. There's no other way around.</p>\n<p>And I suggest to simplify the method a bit by returning after checking whether the root is <code>null</code>, there will be no in nesting the loop into the additional block of curly braces:</p>\n<pre><code>public void add (E val) {\n    Node newNode = new Node(val,null);\n    \n    if(rootNode == null) {\n        rootNode = newNode;\n        return;\n    }\n\n    Node currentNode = rootNode;\n    while (rootNode.nextNode != null) {\n        rootNode = rootNode.nextNode;\n    } \n    rootNode.setNextNode(newNode);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13039762,"reputation":294,"user_id":9423518,"display_name":"Black Bear"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653076930,"creation_date":1653076930,"answer_id":72324268,"question_id":72324052,"body_markdown":"Because you are changing root node, after add method ends, you have only the root node and the next node of it, do not change root node if it is not null.\r\nFor instance, you call add Method for nodes A, B, and C.\r\nFor the first time root is A, then when you call add(B), as the root node is not null already, loop will not work in the else statement and the next of A will be B, then when you call add(C), while loop will work one iteration and B will become root node(you lost A) and the next of B will be C node.","title":"Implementing my own LinkedList, insertion of a new element to the Tail doesn&#39;t work correctly","body":"<p>Because you are changing root node, after add method ends, you have only the root node and the next node of it, do not change root node if it is not null.\nFor instance, you call add Method for nodes A, B, and C.\nFor the first time root is A, then when you call add(B), as the root node is not null already, loop will not work in the else statement and the next of A will be B, then when you call add(C), while loop will work one iteration and B will become root node(you lost A) and the next of B will be C node.</p>\n"}],"owner":{"display_name":"user10525734"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1653087146,"creation_date":1653075592,"question_id":72324052,"body_markdown":"I`m trying to implement my own *linkedlist* and I tackled with this question. \r\n\r\nThis is  add method implementation for *linkedlist*, supposed to add specified elements to the end of the list. \r\n\r\nBelow you see a code I found and that works, and you see my code which only shows last `2` elements added no matter how many you add to the list. \r\n\r\nThe only difference `2` codes have is that he stores `rootNode` (*head*) inside `currentNode` and does his traversing using `currentNode`. I directly used `rootNode` to do the same. Can someone explain my what is wrong with my code ? \r\n\r\n \r\nThis is his code that works: \r\n\r\n    public void add (E val) {\t\t\r\n\t\tNode newNode = new Node(val, null); \r\n\t\tNode currentNode = rootNode;\r\n\t\t\r\n\t\tif (rootNode == null) {  \t\t \r\n\t\t\trootNode = newNode;\r\n\t\t} else {  \t\t\t\t\t\t \r\n\t\t\twhile (currentNode.nextNode != null) {\r\n\t\t\t\tcurrentNode = currentNode.nextNode;   \r\n\t\t\t} \r\n            currentNode.setNextNode(newNode);\r\n\t\t}\r\n\t}\r\n\r\nAnd this is my code that only shows last `2` elements added :\r\n\r\n    public void add (E val) {\t\t\r\n\t\tNode newNode = new Node(val, null);\r\n\t\t\r\n\t\tif (rootNode == null) {  \t\t \r\n\t\t\trootNode = newNode;\r\n\t\t} else {  \t\t\t\t\t\t\r\n\t\t\twhile (rootNode.nextNode != null) {\r\n\t\t\t\trootNode = rootNode.nextNode;   \r\n\t\t\t} \r\n            rootNode.setNextNode(newNode);\r\n\t\t}\r\n\t}","title":"Implementing my own LinkedList, insertion of a new element to the Tail doesn&#39;t work correctly","body":"<p>I`m trying to implement my own <em>linkedlist</em> and I tackled with this question.</p>\n<p>This is  add method implementation for <em>linkedlist</em>, supposed to add specified elements to the end of the list.</p>\n<p>Below you see a code I found and that works, and you see my code which only shows last <code>2</code> elements added no matter how many you add to the list.</p>\n<p>The only difference <code>2</code> codes have is that he stores <code>rootNode</code> (<em>head</em>) inside <code>currentNode</code> and does his traversing using <code>currentNode</code>. I directly used <code>rootNode</code> to do the same. Can someone explain my what is wrong with my code ?</p>\n<p>This is his code that works:</p>\n<pre><code>public void add (E val) {       \n    Node newNode = new Node(val, null); \n    Node currentNode = rootNode;\n    \n    if (rootNode == null) {          \n        rootNode = newNode;\n    } else {                         \n        while (currentNode.nextNode != null) {\n            currentNode = currentNode.nextNode;   \n        } \n        currentNode.setNextNode(newNode);\n    }\n}\n</code></pre>\n<p>And this is my code that only shows last <code>2</code> elements added :</p>\n<pre><code>public void add (E val) {       \n    Node newNode = new Node(val, null);\n    \n    if (rootNode == null) {          \n        rootNode = newNode;\n    } else {                        \n        while (rootNode.nextNode != null) {\n            rootNode = rootNode.nextNode;   \n        } \n        rootNode.setNextNode(newNode);\n    }\n}\n</code></pre>\n"},{"tags":["java","minecraft","minecraft-fabric"],"comments":[{"owner":{"account_id":15178500,"reputation":4190,"user_id":10952503,"display_name":"Elikill58"},"score":0,"creation_date":1653044028,"post_id":72313387,"comment_id":127760154,"body_markdown":"Welcome on stackoverflow ! What is your exact question ?","body":"Welcome on stackoverflow ! What is your exact question ?"},{"owner":{"account_id":25339442,"reputation":1,"user_id":19158029,"display_name":"TADGG"},"score":0,"creation_date":1653087059,"post_id":72313387,"comment_id":127773876,"body_markdown":"How would you go about using the locateStructure method without it returning null or is there another way to locate the coordinates of a structure?","body":"How would you go about using the locateStructure method without it returning null or is there another way to locate the coordinates of a structure?"}],"owner":{"account_id":25339442,"reputation":1,"user_id":19158029,"display_name":"TADGG"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":70,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1653087101,"creation_date":1653018592,"question_id":72313387,"body_markdown":"For a Fabric mod, I am making an item that locates the nearest Nether Fortress on its use:\r\n\r\n    @Override\r\n    public TypedActionResult&lt;ItemStack&gt; use(World world, PlayerEntity user, Hand hand) {\r\n        if (!world.isClient) {\r\n\r\n            ServerPlayerEntity player = (ServerPlayerEntity) user;\r\n            ServerWorld serverWorld = player.getWorld();\r\n\r\n            TagKey&lt;ConfiguredStructureFeature&lt;?, ?&gt;&gt; tagKey = TagKey.of(Registry.CONFIGURED_STRUCTURE_FEATURE_KEY, Registry.STRUCTURE_FEATURE.getId(StructureFeature.FORTRESS));\r\n            System.out.println(serverWorld.locateStructure(tagKey, player.getBlockPos(), 1000, false)); \r\n        }\r\n        user.getStackInHand(hand).decrement(1);\r\n        return TypedActionResult.consume(user.getStackInHand(hand));\r\n    }\r\nHowever, I have attempted to figure out how to use the ```locateStructure``` method for a while now, but I have yet to be able to get a result that does not return ```null```. \r\n\r\nI understand that the ```locateStructure``` method in the ```ServerWorld``` class uses the ```locateStructure``` method in the ```ChunkGenerator``` class which passes a ```RegistryEntryList``` from the structure&#39;s ```TagKey``` after using the ```get``` method as an ```Optional```.\r\n\r\nThe main issue I have found is in getting an ```Optional``` of the Nether Fortress ```TagKey``` that doesn&#39;t just return ```Optional.empty```.\r\n\r\n    serverWorld.getRegistryManager().get(Registry.CONFIGURED_STRUCTURE_FEATURE_KEY)\r\nreturns\r\n\r\n    Registry[ResourceKey[minecraft:root / minecraft:worldgen/configured_structure_feature] (Stable)]\r\nand then\r\n\r\n    serverWorld.getRegistryManager().get(Registry.CONFIGURED_STRUCTURE_FEATURE_KEY).getEntryList(tagKey)\r\nreturns ```Optional.empty``` despite using the Fortress ```TagKey``` and getting the ```Registry``` of the configured structure feature.\r\n\r\nHaving said that, how would you go about using the locateStructure method without it returning null or is there another way to locate the coordinates of a structure?\r\n\r\nI apologize if this is a stupid question, but I am at a genuine loss.","title":"Method locateStructure of the ServerWorld class returning null","body":"<p>For a Fabric mod, I am making an item that locates the nearest Nether Fortress on its use:</p>\n<pre><code>@Override\npublic TypedActionResult&lt;ItemStack&gt; use(World world, PlayerEntity user, Hand hand) {\n    if (!world.isClient) {\n\n        ServerPlayerEntity player = (ServerPlayerEntity) user;\n        ServerWorld serverWorld = player.getWorld();\n\n        TagKey&lt;ConfiguredStructureFeature&lt;?, ?&gt;&gt; tagKey = TagKey.of(Registry.CONFIGURED_STRUCTURE_FEATURE_KEY, Registry.STRUCTURE_FEATURE.getId(StructureFeature.FORTRESS));\n        System.out.println(serverWorld.locateStructure(tagKey, player.getBlockPos(), 1000, false)); \n    }\n    user.getStackInHand(hand).decrement(1);\n    return TypedActionResult.consume(user.getStackInHand(hand));\n}\n</code></pre>\n<p>However, I have attempted to figure out how to use the <code>locateStructure</code> method for a while now, but I have yet to be able to get a result that does not return <code>null</code>.</p>\n<p>I understand that the <code>locateStructure</code> method in the <code>ServerWorld</code> class uses the <code>locateStructure</code> method in the <code>ChunkGenerator</code> class which passes a <code>RegistryEntryList</code> from the structure's <code>TagKey</code> after using the <code>get</code> method as an <code>Optional</code>.</p>\n<p>The main issue I have found is in getting an <code>Optional</code> of the Nether Fortress <code>TagKey</code> that doesn't just return <code>Optional.empty</code>.</p>\n<pre><code>serverWorld.getRegistryManager().get(Registry.CONFIGURED_STRUCTURE_FEATURE_KEY)\n</code></pre>\n<p>returns</p>\n<pre><code>Registry[ResourceKey[minecraft:root / minecraft:worldgen/configured_structure_feature] (Stable)]\n</code></pre>\n<p>and then</p>\n<pre><code>serverWorld.getRegistryManager().get(Registry.CONFIGURED_STRUCTURE_FEATURE_KEY).getEntryList(tagKey)\n</code></pre>\n<p>returns <code>Optional.empty</code> despite using the Fortress <code>TagKey</code> and getting the <code>Registry</code> of the configured structure feature.</p>\n<p>Having said that, how would you go about using the locateStructure method without it returning null or is there another way to locate the coordinates of a structure?</p>\n<p>I apologize if this is a stupid question, but I am at a genuine loss.</p>\n"},{"tags":["java","encryption","rsa"],"comments":[{"owner":{"account_id":9320960,"reputation":476,"user_id":6919700,"display_name":"pxcv7r"},"score":0,"creation_date":1645168744,"post_id":71169544,"comment_id":125804149,"body_markdown":"Please describe more clearly what you want to achieve and reduce your example to the minimum.","body":"Please describe more clearly what you want to achieve and reduce your example to the minimum."},{"owner":{"account_id":12359353,"reputation":42427,"user_id":9014097,"display_name":"Topaco"},"score":2,"creation_date":1645169323,"post_id":71169544,"comment_id":125804342,"body_markdown":"Regarding the public key, `X509EncodedKeySpec` must be used instead of `PKCS8EncodedKeySpec`. Also, for RSA you have to use RSA keys and not EC keys. And, in `Cipher.getInstance()` the padding should be specified, e.g. `RSA/ECB/PKCS1Padding`, otherwise a provider dependent default will be used. With these changes, the code works.","body":"Regarding the public key, <code>X509EncodedKeySpec</code> must be used instead of <code>PKCS8EncodedKeySpec</code>. Also, for RSA you have to use RSA keys and not EC keys. And, in <code>Cipher.getInstance()</code> the padding should be specified, e.g. <code>RSA&#47;ECB&#47;PKCS1Padding</code>, otherwise a provider dependent default will be used. With these changes, the code works."},{"owner":{"account_id":14482834,"reputation":3894,"user_id":10461625,"display_name":"PatPanda"},"score":0,"creation_date":1645186797,"post_id":71169544,"comment_id":125810426,"body_markdown":"Do yo mind pasting a sample with a fake private/public key please? :)","body":"Do yo mind pasting a sample with a fake private/public key please? :)"},{"owner":{"account_id":12359353,"reputation":42427,"user_id":9014097,"display_name":"Topaco"},"score":1,"creation_date":1645191307,"post_id":71169544,"comment_id":125811985,"body_markdown":"Sure, look at this: https://www.jdoodle.com/iembed/v0/nmU","body":"Sure, look at this: <a href=\"https://www.jdoodle.com/iembed/v0/nmU\" rel=\"nofollow noreferrer\">jdoodle.com/iembed/v0/nmU</a>"},{"owner":{"account_id":14482834,"reputation":3894,"user_id":10461625,"display_name":"PatPanda"},"score":0,"creation_date":1645192937,"post_id":71169544,"comment_id":125812669,"body_markdown":"I wish I could just accept comments :) thanks","body":"I wish I could just accept comments :) thanks"},{"owner":{"account_id":14482834,"reputation":3894,"user_id":10461625,"display_name":"PatPanda"},"score":0,"creation_date":1653030882,"post_id":71169544,"comment_id":127755764,"body_markdown":"@Topaco, would you like to post your solution as answer? I will upvote + accept, because it is a correct solution","body":"@Topaco, would you like to post your solution as answer? I will upvote + accept, because it is a correct solution"},{"owner":{"account_id":12359353,"reputation":42427,"user_id":9014097,"display_name":"Topaco"},"score":0,"creation_date":1653086776,"post_id":71169544,"comment_id":127773840,"body_markdown":"Gladly. I&#39; ve summarized my comments in an answer.","body":"Gladly. I&#39; ve summarized my comments in an answer."}],"answers":[{"tags":[],"owner":{"account_id":12359353,"reputation":42427,"user_id":9014097,"display_name":"Topaco"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1653086765,"creation_date":1653086765,"answer_id":72325394,"question_id":71169544,"body_markdown":"In the code there are the following issues:\r\n- A private and public EC key are imported (additionally, both keys are swapped). Since RSA encryption is to be performed, RSA keys are to be used instead.\r\n- The public key is imported with `PKCS8EncodedKeySpec`. However, `PKCS8EncodedKeySpec` is intended for importing a private PKCS#8 key. Since a public X.509/SPKI key is to be imported, `X509EncodedKeySpec` has to be used instead. \r\n- When instantiating the `Cipher` object, only the algorithm is specified (`RSA`), but not the padding. Therefore, a provider-dependent default value is used for the padding. To avoid unintentional use of an incorrect padding and cross-platform problems, the padding should also be explicitly specified instead (e.g. `RSA/ECB/PKCS1Padding`).\r\n\r\nThe fixed code is as follows:\r\n\r\n```java\r\nimport javax.crypto.Cipher;\r\nimport java.nio.charset.StandardCharsets;\r\nimport java.security.KeyFactory;\r\nimport java.security.PrivateKey;\r\nimport java.security.PublicKey;\r\nimport java.security.interfaces.RSAPrivateKey;\r\nimport java.security.interfaces.RSAPublicKey;\r\nimport java.security.spec.PKCS8EncodedKeySpec;\r\nimport java.security.spec.X509EncodedKeySpec;\r\nimport java.util.Base64;\r\n\r\npublic class MyClass {\r\n    public static void main(String args[]) throws Exception {\r\n        \r\n        // Fix 1: Use RSA keys: The private RSA key is a 2048 bit DER encoded PKCS#8 key (Base64 encoded). The public RSA key is the associated 2048 bit DER encoded X.509/SPKI key (Base64 encoded). Check the RSA keys with an ASN.1 parser, e.g. https://lapo.it/asn1js/.  \r\n        String privateKeyString = &quot;MIIEvgIBADANBgkqhkiG9w0BAQEFAASCBKgwggSkAgEAAoIBAQC6cXloNrocJ8swwj8xktPmEOTfTgJT7KkUwWIGOjBB1QxApgdn5+SUHsakvEJq3Fgn+FnuuN8cfcqWrbT9jURtgNGinJNJ+StPM/PCxfhSv+XbkK11CV2EcJMyDB/8S/9u4E2ht/N1kT4OF2/mVDAq2MjjeUMq8CLmQR63ZMXB8lwmsGJEl4Rwt9WBZNcZFCfuCeBYrKRS7mtLzd4BTXEf0UuiNB/KJrz38TKSI47v/dRbB34wBNn0cuNLHb8t/eDaOvzV6J8SZgOWuL85mng6Fm77QGjUteWgJN76+YhDZgJfsRq1Q67JAy3ZXDHi5X538DcM/o+0wYEqkXxK3iIbAgMBAAECggEASlJj0ExIomKmmBhG8q8SM1s2sWG6gdQMjs6MEeluRT/1c2v79cq2Dum5y/+UBl8x8TUKPKSLpCLs+GXkiVKgHXrFlqoN+OYQArG2EUWzuODwczdYPhhupBXwR3oX4g41k/BsYfQfZBVzBFEJdWrIDLyAUFWNlfdGIj2BTiAoySfyqmamvmW8bsvc8coiGlZ28UC85/Xqx9wOzjeGoRkCH7PcTMlc9F7SxSthwX/k1VBXmNOHa+HzGOgO/W3k1LDqJbq2wKjZTW3iVEg2VodjxgBLMm0MueSGoI6IuaZSPMyFEM3gGvC2+cDBI2SL/amhiTUa/VDlTVw/IKbSuar9uQKBgQDd76M0Po5Lqh8ZhQ3obhFqkfO5EBXy7HUL15cw51kVtwF6Gf/J2HNHjwsg9Nb0eJETTS6bbuVd9bn884JoRS986nVTFNZ4dnjEgKjjQ8GjfzdkpbUxsRLWiIxuOQSpIUZGdMi2ctTTtspvMsDsjRRYdYIQCe/SDsdHGT3vcUCybwKBgQDXDz6iVnY84Fh5iDDVrQOR4lYoxCL/ikCDJjC6y1mjR0eVFdBPQ4j1dDSPU9lahBLby0VyagQCDp/kxQOl0z2zBLRI4I8jUtz9/9KW6ze7U7dQJ7OTfumd5I97OyQOG9XZwKUkRgfyb/PAMBSUSLgosi38f+OC3IN3qlvHFzvxFQKBgQCITpUDEmSczih5qQGIvolN1cRF5j5Ey7t7gXbnXz+Umah7kJpMIvdyfMVOAXJABgi8PQwiBLM0ySXo2LpARjXLV8ilNUggBktYDNktc8DrJMgltayaj3HNd2IglD5rjfc2cKWRgOd7/GlKcHaTEnbreYhfR2sWrWLxJOyoMfuVWwKBgFalCbMV6qU0LfEo8aPlBN8ttVDPVNpntP4h0NgxPXgPK8Pg+gA1UWSy4MouGg/hzkdHaj9ifyLlCX598a5JoT4S0x/ZeVHd/LNI8mtjcRzD6cMde7gdFbpLb5NSjIAyrsIAX4hxvpnqiOYRePkVIz0iLGziiaMbfMwlkrxvm/LRAoGBALPRbtSbE2pPgvOHKHTGPr7gKbmsWVbOcQA8rG801T38W/UPe1XtynMEjzzQ29OaVeQwvUN9+DxFXJ6Yvwj6ih4Wdq109i7Oo1fDnMczOQN9DKch2eNAHrNSOMyLDCBm++wbyHAsS2T0VO8+gzLABviZm5AFCQWfke4LZo5mOS10&quot;;\r\n        String publicKeyString = &quot;MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAunF5aDa6HCfLMMI/MZLT5hDk304CU+ypFMFiBjowQdUMQKYHZ+fklB7GpLxCatxYJ/hZ7rjfHH3Klq20/Y1EbYDRopyTSfkrTzPzwsX4Ur/l25CtdQldhHCTMgwf/Ev/buBNobfzdZE+Dhdv5lQwKtjI43lDKvAi5kEet2TFwfJcJrBiRJeEcLfVgWTXGRQn7gngWKykUu5rS83eAU1xH9FLojQfyia89/EykiOO7/3UWwd+MATZ9HLjSx2/Lf3g2jr81eifEmYDlri/OZp4OhZu+0Bo1LXloCTe+vmIQ2YCX7EatUOuyQMt2Vwx4uV+d/A3DP6PtMGBKpF8St4iGwIDAQAB&quot;;\r\n\r\n        String              secretMessage = &quot;My TOP SECRET Message&quot;;\r\n\r\n        byte[]              buffer1       = Base64.getDecoder().decode(privateKeyString);\r\n        PKCS8EncodedKeySpec keySpec1      = new PKCS8EncodedKeySpec(buffer1);\r\n        KeyFactory          keyFactory1   = KeyFactory.getInstance(&quot;RSA&quot;);\r\n        PrivateKey          privateKey    = (RSAPrivateKey) keyFactory1.generatePrivate(keySpec1);\r\n\r\n        byte[]             buffer2     = Base64.getDecoder().decode(publicKeyString);\r\n        KeyFactory         keyFactory2 = KeyFactory.getInstance(&quot;RSA&quot;);\r\n        X509EncodedKeySpec keySpec2      = new X509EncodedKeySpec(buffer2); // Fix 2: Apply X509EncodedKeySpec for the import of the public key\r\n        PublicKey          publicKey   = (RSAPublicKey) keyFactory2.generatePublic(keySpec2);\r\n\r\n        Cipher encryptCipher = Cipher.getInstance(&quot;RSA/ECB/PKCS1Padding&quot;); // Fix 3: Specify algorithm and padding when instantiating the Cipher object\r\n        encryptCipher.init(Cipher.ENCRYPT_MODE, publicKey);\r\n\r\n        byte[] secretMessageBytes    = secretMessage.getBytes(StandardCharsets.UTF_8);\r\n        byte[] encryptedMessageBytes = encryptCipher.doFinal(secretMessageBytes);\r\n        String encodedMessage        = Base64.getEncoder().encodeToString(encryptedMessageBytes);\r\n\r\n        Cipher decryptCipher = Cipher.getInstance(&quot;RSA/ECB/PKCS1Padding&quot;); // Fix 3: Specify algorithm and padding when instantiating the Cipher object\r\n        decryptCipher.init(Cipher.DECRYPT_MODE, privateKey);\r\n\r\n        byte[] decryptedMessageBytes = decryptCipher.doFinal(encryptedMessageBytes);\r\n        String decryptedMessage      = new String(decryptedMessageBytes, StandardCharsets.UTF_8);\r\n\r\n        System.out.println(&quot;Step 1&quot; + secretMessage);\r\n        System.out.println(&quot;Step 2&quot; + encodedMessage);\r\n        System.out.println(&quot;Step 3&quot; + decryptedMessage);\r\n    }\r\n}\r\n```\r\n\r\nWith these changes, encryption and decryption work.\r\n","title":"Java: RSA Encryption issue","body":"<p>In the code there are the following issues:</p>\n<ul>\n<li>A private and public EC key are imported (additionally, both keys are swapped). Since RSA encryption is to be performed, RSA keys are to be used instead.</li>\n<li>The public key is imported with <code>PKCS8EncodedKeySpec</code>. However, <code>PKCS8EncodedKeySpec</code> is intended for importing a private PKCS#8 key. Since a public X.509/SPKI key is to be imported, <code>X509EncodedKeySpec</code> has to be used instead.</li>\n<li>When instantiating the <code>Cipher</code> object, only the algorithm is specified (<code>RSA</code>), but not the padding. Therefore, a provider-dependent default value is used for the padding. To avoid unintentional use of an incorrect padding and cross-platform problems, the padding should also be explicitly specified instead (e.g. <code>RSA/ECB/PKCS1Padding</code>).</li>\n</ul>\n<p>The fixed code is as follows:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import javax.crypto.Cipher;\nimport java.nio.charset.StandardCharsets;\nimport java.security.KeyFactory;\nimport java.security.PrivateKey;\nimport java.security.PublicKey;\nimport java.security.interfaces.RSAPrivateKey;\nimport java.security.interfaces.RSAPublicKey;\nimport java.security.spec.PKCS8EncodedKeySpec;\nimport java.security.spec.X509EncodedKeySpec;\nimport java.util.Base64;\n\npublic class MyClass {\n    public static void main(String args[]) throws Exception {\n        \n        // Fix 1: Use RSA keys: The private RSA key is a 2048 bit DER encoded PKCS#8 key (Base64 encoded). The public RSA key is the associated 2048 bit DER encoded X.509/SPKI key (Base64 encoded). Check the RSA keys with an ASN.1 parser, e.g. https://lapo.it/asn1js/.  \n        String privateKeyString = &quot;MIIEvgIBADANBgkqhkiG9w0BAQEFAASCBKgwggSkAgEAAoIBAQC6cXloNrocJ8swwj8xktPmEOTfTgJT7KkUwWIGOjBB1QxApgdn5+SUHsakvEJq3Fgn+FnuuN8cfcqWrbT9jURtgNGinJNJ+StPM/PCxfhSv+XbkK11CV2EcJMyDB/8S/9u4E2ht/N1kT4OF2/mVDAq2MjjeUMq8CLmQR63ZMXB8lwmsGJEl4Rwt9WBZNcZFCfuCeBYrKRS7mtLzd4BTXEf0UuiNB/KJrz38TKSI47v/dRbB34wBNn0cuNLHb8t/eDaOvzV6J8SZgOWuL85mng6Fm77QGjUteWgJN76+YhDZgJfsRq1Q67JAy3ZXDHi5X538DcM/o+0wYEqkXxK3iIbAgMBAAECggEASlJj0ExIomKmmBhG8q8SM1s2sWG6gdQMjs6MEeluRT/1c2v79cq2Dum5y/+UBl8x8TUKPKSLpCLs+GXkiVKgHXrFlqoN+OYQArG2EUWzuODwczdYPhhupBXwR3oX4g41k/BsYfQfZBVzBFEJdWrIDLyAUFWNlfdGIj2BTiAoySfyqmamvmW8bsvc8coiGlZ28UC85/Xqx9wOzjeGoRkCH7PcTMlc9F7SxSthwX/k1VBXmNOHa+HzGOgO/W3k1LDqJbq2wKjZTW3iVEg2VodjxgBLMm0MueSGoI6IuaZSPMyFEM3gGvC2+cDBI2SL/amhiTUa/VDlTVw/IKbSuar9uQKBgQDd76M0Po5Lqh8ZhQ3obhFqkfO5EBXy7HUL15cw51kVtwF6Gf/J2HNHjwsg9Nb0eJETTS6bbuVd9bn884JoRS986nVTFNZ4dnjEgKjjQ8GjfzdkpbUxsRLWiIxuOQSpIUZGdMi2ctTTtspvMsDsjRRYdYIQCe/SDsdHGT3vcUCybwKBgQDXDz6iVnY84Fh5iDDVrQOR4lYoxCL/ikCDJjC6y1mjR0eVFdBPQ4j1dDSPU9lahBLby0VyagQCDp/kxQOl0z2zBLRI4I8jUtz9/9KW6ze7U7dQJ7OTfumd5I97OyQOG9XZwKUkRgfyb/PAMBSUSLgosi38f+OC3IN3qlvHFzvxFQKBgQCITpUDEmSczih5qQGIvolN1cRF5j5Ey7t7gXbnXz+Umah7kJpMIvdyfMVOAXJABgi8PQwiBLM0ySXo2LpARjXLV8ilNUggBktYDNktc8DrJMgltayaj3HNd2IglD5rjfc2cKWRgOd7/GlKcHaTEnbreYhfR2sWrWLxJOyoMfuVWwKBgFalCbMV6qU0LfEo8aPlBN8ttVDPVNpntP4h0NgxPXgPK8Pg+gA1UWSy4MouGg/hzkdHaj9ifyLlCX598a5JoT4S0x/ZeVHd/LNI8mtjcRzD6cMde7gdFbpLb5NSjIAyrsIAX4hxvpnqiOYRePkVIz0iLGziiaMbfMwlkrxvm/LRAoGBALPRbtSbE2pPgvOHKHTGPr7gKbmsWVbOcQA8rG801T38W/UPe1XtynMEjzzQ29OaVeQwvUN9+DxFXJ6Yvwj6ih4Wdq109i7Oo1fDnMczOQN9DKch2eNAHrNSOMyLDCBm++wbyHAsS2T0VO8+gzLABviZm5AFCQWfke4LZo5mOS10&quot;;\n        String publicKeyString = &quot;MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAunF5aDa6HCfLMMI/MZLT5hDk304CU+ypFMFiBjowQdUMQKYHZ+fklB7GpLxCatxYJ/hZ7rjfHH3Klq20/Y1EbYDRopyTSfkrTzPzwsX4Ur/l25CtdQldhHCTMgwf/Ev/buBNobfzdZE+Dhdv5lQwKtjI43lDKvAi5kEet2TFwfJcJrBiRJeEcLfVgWTXGRQn7gngWKykUu5rS83eAU1xH9FLojQfyia89/EykiOO7/3UWwd+MATZ9HLjSx2/Lf3g2jr81eifEmYDlri/OZp4OhZu+0Bo1LXloCTe+vmIQ2YCX7EatUOuyQMt2Vwx4uV+d/A3DP6PtMGBKpF8St4iGwIDAQAB&quot;;\n\n        String              secretMessage = &quot;My TOP SECRET Message&quot;;\n\n        byte[]              buffer1       = Base64.getDecoder().decode(privateKeyString);\n        PKCS8EncodedKeySpec keySpec1      = new PKCS8EncodedKeySpec(buffer1);\n        KeyFactory          keyFactory1   = KeyFactory.getInstance(&quot;RSA&quot;);\n        PrivateKey          privateKey    = (RSAPrivateKey) keyFactory1.generatePrivate(keySpec1);\n\n        byte[]             buffer2     = Base64.getDecoder().decode(publicKeyString);\n        KeyFactory         keyFactory2 = KeyFactory.getInstance(&quot;RSA&quot;);\n        X509EncodedKeySpec keySpec2      = new X509EncodedKeySpec(buffer2); // Fix 2: Apply X509EncodedKeySpec for the import of the public key\n        PublicKey          publicKey   = (RSAPublicKey) keyFactory2.generatePublic(keySpec2);\n\n        Cipher encryptCipher = Cipher.getInstance(&quot;RSA/ECB/PKCS1Padding&quot;); // Fix 3: Specify algorithm and padding when instantiating the Cipher object\n        encryptCipher.init(Cipher.ENCRYPT_MODE, publicKey);\n\n        byte[] secretMessageBytes    = secretMessage.getBytes(StandardCharsets.UTF_8);\n        byte[] encryptedMessageBytes = encryptCipher.doFinal(secretMessageBytes);\n        String encodedMessage        = Base64.getEncoder().encodeToString(encryptedMessageBytes);\n\n        Cipher decryptCipher = Cipher.getInstance(&quot;RSA/ECB/PKCS1Padding&quot;); // Fix 3: Specify algorithm and padding when instantiating the Cipher object\n        decryptCipher.init(Cipher.DECRYPT_MODE, privateKey);\n\n        byte[] decryptedMessageBytes = decryptCipher.doFinal(encryptedMessageBytes);\n        String decryptedMessage      = new String(decryptedMessageBytes, StandardCharsets.UTF_8);\n\n        System.out.println(&quot;Step 1&quot; + secretMessage);\n        System.out.println(&quot;Step 2&quot; + encodedMessage);\n        System.out.println(&quot;Step 3&quot; + decryptedMessage);\n    }\n}\n</code></pre>\n<p>With these changes, encryption and decryption work.</p>\n"}],"owner":{"account_id":14482834,"reputation":3894,"user_id":10461625,"display_name":"PatPanda"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":510,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72325394,"answer_count":1,"score":1,"last_activity_date":1653086765,"creation_date":1645167958,"question_id":71169544,"body_markdown":"Small question regarding a Java code for RSA please.\r\n\r\nI am having a very simple piece of Java code.\r\n\r\n```\r\n\r\nimport javax.crypto.Cipher;\r\nimport java.nio.charset.StandardCharsets;\r\nimport java.security.KeyFactory;\r\nimport java.security.PrivateKey;\r\nimport java.security.PublicKey;\r\nimport java.security.interfaces.RSAPrivateKey;\r\nimport java.security.interfaces.RSAPublicKey;\r\nimport java.security.spec.PKCS8EncodedKeySpec;\r\nimport java.util.Base64;\r\n\r\npublic class RSA {\r\n\r\n    public static void main(String[] args) throws Exception {\r\n        String privateKeyString = &quot;MFkwEwYHKoZIzj0CAQYIKoZIzj0DAQcDQgAER+iccdhb474gKs6QE9c3JNS3BMlPTyFD2EOP3/NSrBlZtvVpKyQdHxYZ0W6a/IixWc0WjDqqcVAtrwCILmHU7Q==&quot;;\r\n        String publicKeyString = &quot;MEECAQAwEwYHKoZIzj0CAQYIKoZIzj0DAQcEJzAlAgEBBCCyp0Sx3AgDhXYN3ecGaFYt51dnlrbgJJoRnYMh52QmDg=&quot;;\r\n\r\n        String              secretMessage = &quot;My TOP SECRET Message&quot;;\r\n\r\n        byte[]              buffer1       = Base64.getDecoder().decode(privateKeyString);\r\n        PKCS8EncodedKeySpec keySpec1      = new PKCS8EncodedKeySpec(buffer1);\r\n        KeyFactory          keyFactory1   = KeyFactory.getInstance(&quot;RSA&quot;);\r\n        PrivateKey          privateKey    = (RSAPrivateKey) keyFactory1.generatePrivate(keySpec1);\r\n\r\n        byte[]             buffer2     = Base64.getDecoder().decode(publicKeyString);\r\n        KeyFactory         keyFactory2 = KeyFactory.getInstance(&quot;RSA&quot;);\r\n        PKCS8EncodedKeySpec keySpec2      = new PKCS8EncodedKeySpec(buffer2);\r\n        PublicKey          publicKey   = (RSAPublicKey) keyFactory2.generatePublic(keySpec2);\r\n\r\n        Cipher encryptCipher = Cipher.getInstance(&quot;RSA&quot;);\r\n        encryptCipher.init(Cipher.ENCRYPT_MODE, publicKey);\r\n\r\n        byte[] secretMessageBytes    = secretMessage.getBytes(StandardCharsets.UTF_8);\r\n        byte[] encryptedMessageBytes = encryptCipher.doFinal(secretMessageBytes);\r\n        String encodedMessage        = Base64.getEncoder().encodeToString(encryptedMessageBytes);\r\n\r\n        Cipher decryptCipher = Cipher.getInstance(&quot;RSA&quot;);\r\n        decryptCipher.init(Cipher.DECRYPT_MODE, privateKey);\r\n\r\n        byte[] decryptedMessageBytes = decryptCipher.doFinal(encryptedMessageBytes);\r\n        String decryptedMessage      = new String(decryptedMessageBytes, StandardCharsets.UTF_8);\r\n\r\n        System.out.println(&quot;Step 1&quot; + secretMessage);\r\n        System.out.println(&quot;Step 2&quot; + encodedMessage);\r\n        System.out.println(&quot;Step 3&quot; + decryptedMessage);\r\n    }\r\n    \r\n}\r\n\r\n```\r\n\r\nI would have expected this to work, and be able to see some kind of gibberish for &quot;Step 2&quot;\r\n\r\nBut instead, I am seeing this:\r\n\r\n```\r\nException in thread &quot;main&quot; java.security.spec.InvalidKeySpecException: java.security.InvalidKeyException: IOException : DER input, Integer tag error\r\n\tat java.base/sun.security.rsa.RSAKeyFactory.engineGeneratePrivate(RSAKeyFactory.java:251)\r\n\tat java.base/java.security.KeyFactory.generatePrivate(KeyFactory.java:390)\r\n```\r\n\r\nMay I ask what is wrong with this piece of code please?\r\n\r\nThank you","title":"Java: RSA Encryption issue","body":"<p>Small question regarding a Java code for RSA please.</p>\n<p>I am having a very simple piece of Java code.</p>\n<pre><code>\nimport javax.crypto.Cipher;\nimport java.nio.charset.StandardCharsets;\nimport java.security.KeyFactory;\nimport java.security.PrivateKey;\nimport java.security.PublicKey;\nimport java.security.interfaces.RSAPrivateKey;\nimport java.security.interfaces.RSAPublicKey;\nimport java.security.spec.PKCS8EncodedKeySpec;\nimport java.util.Base64;\n\npublic class RSA {\n\n    public static void main(String[] args) throws Exception {\n        String privateKeyString = &quot;MFkwEwYHKoZIzj0CAQYIKoZIzj0DAQcDQgAER+iccdhb474gKs6QE9c3JNS3BMlPTyFD2EOP3/NSrBlZtvVpKyQdHxYZ0W6a/IixWc0WjDqqcVAtrwCILmHU7Q==&quot;;\n        String publicKeyString = &quot;MEECAQAwEwYHKoZIzj0CAQYIKoZIzj0DAQcEJzAlAgEBBCCyp0Sx3AgDhXYN3ecGaFYt51dnlrbgJJoRnYMh52QmDg=&quot;;\n\n        String              secretMessage = &quot;My TOP SECRET Message&quot;;\n\n        byte[]              buffer1       = Base64.getDecoder().decode(privateKeyString);\n        PKCS8EncodedKeySpec keySpec1      = new PKCS8EncodedKeySpec(buffer1);\n        KeyFactory          keyFactory1   = KeyFactory.getInstance(&quot;RSA&quot;);\n        PrivateKey          privateKey    = (RSAPrivateKey) keyFactory1.generatePrivate(keySpec1);\n\n        byte[]             buffer2     = Base64.getDecoder().decode(publicKeyString);\n        KeyFactory         keyFactory2 = KeyFactory.getInstance(&quot;RSA&quot;);\n        PKCS8EncodedKeySpec keySpec2      = new PKCS8EncodedKeySpec(buffer2);\n        PublicKey          publicKey   = (RSAPublicKey) keyFactory2.generatePublic(keySpec2);\n\n        Cipher encryptCipher = Cipher.getInstance(&quot;RSA&quot;);\n        encryptCipher.init(Cipher.ENCRYPT_MODE, publicKey);\n\n        byte[] secretMessageBytes    = secretMessage.getBytes(StandardCharsets.UTF_8);\n        byte[] encryptedMessageBytes = encryptCipher.doFinal(secretMessageBytes);\n        String encodedMessage        = Base64.getEncoder().encodeToString(encryptedMessageBytes);\n\n        Cipher decryptCipher = Cipher.getInstance(&quot;RSA&quot;);\n        decryptCipher.init(Cipher.DECRYPT_MODE, privateKey);\n\n        byte[] decryptedMessageBytes = decryptCipher.doFinal(encryptedMessageBytes);\n        String decryptedMessage      = new String(decryptedMessageBytes, StandardCharsets.UTF_8);\n\n        System.out.println(&quot;Step 1&quot; + secretMessage);\n        System.out.println(&quot;Step 2&quot; + encodedMessage);\n        System.out.println(&quot;Step 3&quot; + decryptedMessage);\n    }\n    \n}\n\n</code></pre>\n<p>I would have expected this to work, and be able to see some kind of gibberish for &quot;Step 2&quot;</p>\n<p>But instead, I am seeing this:</p>\n<pre><code>Exception in thread &quot;main&quot; java.security.spec.InvalidKeySpecException: java.security.InvalidKeyException: IOException : DER input, Integer tag error\n    at java.base/sun.security.rsa.RSAKeyFactory.engineGeneratePrivate(RSAKeyFactory.java:251)\n    at java.base/java.security.KeyFactory.generatePrivate(KeyFactory.java:390)\n</code></pre>\n<p>May I ask what is wrong with this piece of code please?</p>\n<p>Thank you</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":8664,"page":1328,"page_size":100}
