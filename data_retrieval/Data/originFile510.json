{"items":[{"tags":["java","json","jackson","gson","appdynamics"],"comments":[{"owner":{"account_id":949458,"reputation":307,"user_id":975928,"accept_rate":73,"display_name":"MBK"},"score":0,"creation_date":1447979292,"post_id":33803531,"comment_id":55399595,"body_markdown":"Have a look at this https://stackoverflow.com/questions/1688099/converting-json-to-java?rq=1","body":"Have a look at this <a href=\"https://stackoverflow.com/questions/1688099/converting-json-to-java?rq=1\" title=\"converting json to java\">stackoverflow.com/questions/1688099/&hellip;</a>"},{"owner":{"account_id":23121,"reputation":527346,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":0,"creation_date":1448223101,"post_id":33803531,"comment_id":55483637,"body_markdown":"Please don&#39;t use StringBuffer as it was replaced by StringBuilder more than ten years ago.","body":"Please don&#39;t use StringBuffer as it was replaced by StringBuilder more than ten years ago."}],"answers":[{"tags":[],"owner":{"account_id":6788035,"reputation":86,"user_id":5226044,"display_name":"Dzmitry Dydyshka"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1447935385,"creation_date":1447935385,"answer_id":33803745,"question_id":33803531,"body_markdown":"    &quot;[{  \\&quot;frequency\\&quot;: \\&quot;ONE_MIN\\&quot;,  \\&quot;metricId\\&quot;: 2253538,  \\&quot;metricName\\&quot;: \\&quot;DB|Server:1|IO|Data File Average Read Size\\&quot;,  \\&quot;metricPath\\&quot;: \\&quot;Databases|X|IO|Data File Average Read Size\\&quot;,  \\&quot;metricValues\\&quot;: [  {    \\&quot;count\\&quot;: 14,    \\&quot;current\\&quot;: 65323,    \\&quot;max\\&quot;: 65536,    \\&quot;min\\&quot;: 0,    \\&quot;occurrences\\&quot;: 0,    \\&quot;standardDeviation\\&quot;: 0,    \\&quot;startTimeInMillis\\&quot;: 1447927800000,    \\&quot;sum\\&quot;: 251408,    \\&quot;useRange\\&quot;: true,    \\&quot;value\\&quot;: 17958  }]}]&quot;\r\n\r\nIncorrect the form of JSON object.\r\n\r\nTry this:\r\n\r\n    &quot;{  \\&quot;frequency\\&quot;: \\&quot;ONE_MIN\\&quot;,  \\&quot;metricId\\&quot;: 2253538,  \\&quot;metricName\\&quot;: \\&quot;DB|Server:1|IO|Data File Average Read Size\\&quot;,  \\&quot;metricPath\\&quot;: \\&quot;Databases|X|IO|Data File Average Read Size\\&quot;,  \\&quot;metricValues\\&quot;: [  {    \\&quot;count\\&quot;: 14,    \\&quot;current\\&quot;: 65323,    \\&quot;max\\&quot;: 65536,    \\&quot;min\\&quot;: 0,    \\&quot;occurrences\\&quot;: 0,    \\&quot;standardDeviation\\&quot;: 0,    \\&quot;startTimeInMillis\\&quot;: 1447927800000,    \\&quot;sum\\&quot;: 251408,    \\&quot;useRange\\&quot;: true,    \\&quot;value\\&quot;: 17958  }]}&quot;","title":"Cannot convert JSON HTTP Response to Java Object using Jackson","body":"<pre><code>\"[{  \\\"frequency\\\": \\\"ONE_MIN\\\",  \\\"metricId\\\": 2253538,  \\\"metricName\\\": \\\"DB|Server:1|IO|Data File Average Read Size\\\",  \\\"metricPath\\\": \\\"Databases|X|IO|Data File Average Read Size\\\",  \\\"metricValues\\\": [  {    \\\"count\\\": 14,    \\\"current\\\": 65323,    \\\"max\\\": 65536,    \\\"min\\\": 0,    \\\"occurrences\\\": 0,    \\\"standardDeviation\\\": 0,    \\\"startTimeInMillis\\\": 1447927800000,    \\\"sum\\\": 251408,    \\\"useRange\\\": true,    \\\"value\\\": 17958  }]}]\"\n</code></pre>\n\n<p>Incorrect the form of JSON object.</p>\n\n<p>Try this:</p>\n\n<pre><code>\"{  \\\"frequency\\\": \\\"ONE_MIN\\\",  \\\"metricId\\\": 2253538,  \\\"metricName\\\": \\\"DB|Server:1|IO|Data File Average Read Size\\\",  \\\"metricPath\\\": \\\"Databases|X|IO|Data File Average Read Size\\\",  \\\"metricValues\\\": [  {    \\\"count\\\": 14,    \\\"current\\\": 65323,    \\\"max\\\": 65536,    \\\"min\\\": 0,    \\\"occurrences\\\": 0,    \\\"standardDeviation\\\": 0,    \\\"startTimeInMillis\\\": 1447927800000,    \\\"sum\\\": 251408,    \\\"useRange\\\": true,    \\\"value\\\": 17958  }]}\"\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2734926,"reputation":449,"user_id":2357809,"display_name":"IanB"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1447935427,"creation_date":1447935427,"answer_id":33803761,"question_id":33803531,"body_markdown":"Remove the outer &quot;[]&quot; from your JSON.  You are passing an array of ADMetrics rather than a single ADMetrics which the readValue deserializer is expecting","title":"Cannot convert JSON HTTP Response to Java Object using Jackson","body":"<p>Remove the outer \"[]\" from your JSON.  You are passing an array of ADMetrics rather than a single ADMetrics which the readValue deserializer is expecting</p>\n"},{"tags":[],"owner":{"display_name":"user4933349"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1447935972,"creation_date":1447935429,"answer_id":33803762,"question_id":33803531,"body_markdown":"Can you try implementing serialisation in your pojo class as below\r\n\r\n   \r\n\r\n         public class ADMetrics implements Serializable{\r\n            \r\n    private static final long serialVersionUID = 1L;\r\n    //All your variables and getter and setter method\r\n    }\r\n\r\nMethod One:\r\n---------------------\r\n\r\nAlso your JSON is not a JSONObject it is an JSONARRAY, use the below code to convert your above String to JSONARRAY \r\n\r\n    JsonArray jArray = new JsonParser().parse(json).getAsJsonArray();\r\n\r\nThe jArray is JSONArray from GSON , hence work with GSON to convert how u need or convert GSON to JSON.\r\n\r\nOR \r\n\r\nMethod Two:\r\n---------------------\r\n\r\nDirectly convert the above input json from \r\n\r\n    Gson gson = new Gson();\r\n    \t\t\tString output = gson.toJson(input);\r\n    \t\t\t//System.out.println(&quot;output from gson &quot;+output);\r\n    \t\tJSONArray js = new JSONArray(output);\r\n\r\nThen work with json as usual.\r\n\r\n","title":"Cannot convert JSON HTTP Response to Java Object using Jackson","body":"<p>Can you try implementing serialisation in your pojo class as below</p>\n\n<pre><code>     public class ADMetrics implements Serializable{\n\nprivate static final long serialVersionUID = 1L;\n//All your variables and getter and setter method\n}\n</code></pre>\n\n<h2>Method One:</h2>\n\n<p>Also your JSON is not a JSONObject it is an JSONARRAY, use the below code to convert your above String to JSONARRAY </p>\n\n<pre><code>JsonArray jArray = new JsonParser().parse(json).getAsJsonArray();\n</code></pre>\n\n<p>The jArray is JSONArray from GSON , hence work with GSON to convert how u need or convert GSON to JSON.</p>\n\n<p>OR </p>\n\n<h2>Method Two:</h2>\n\n<p>Directly convert the above input json from </p>\n\n<pre><code>Gson gson = new Gson();\n            String output = gson.toJson(input);\n            //System.out.println(\"output from gson \"+output);\n        JSONArray js = new JSONArray(output);\n</code></pre>\n\n<p>Then work with json as usual.</p>\n"},{"tags":[],"owner":{"account_id":31084,"reputation":128374,"user_id":85134,"display_name":"araqnid"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1447978459,"creation_date":1447978459,"answer_id":33816795,"question_id":33803531,"body_markdown":"Since the JSON you&#39;re receiving has an array, you need to deserialize to a list of objects. Presumably just grab the first one in the list:\r\n\r\n        List&lt;ADMetrics&gt; adMetricsList = mapper.readValue(jsonInString, new TypeReference&lt;List&lt;ADMetrics&gt;&gt;(){});\r\n        ADMetrics adMetrics = adMetricsList.get(0);\r\n\r\nOr if you&#39;re not sure what else may be in the list and just want to get the first element, you can do the conversion in two steps:\r\n\r\n\t\tJsonNode tree = mapper.readTree(jsonInString);\r\n\t\tADMetrics adMetrics = mapper.convertValue(tree.get(0), ADMetrics.class);\r\n","title":"Cannot convert JSON HTTP Response to Java Object using Jackson","body":"<p>Since the JSON you're receiving has an array, you need to deserialize to a list of objects. Presumably just grab the first one in the list:</p>\n\n<pre><code>    List&lt;ADMetrics&gt; adMetricsList = mapper.readValue(jsonInString, new TypeReference&lt;List&lt;ADMetrics&gt;&gt;(){});\n    ADMetrics adMetrics = adMetricsList.get(0);\n</code></pre>\n\n<p>Or if you're not sure what else may be in the list and just want to get the first element, you can do the conversion in two steps:</p>\n\n<pre><code>    JsonNode tree = mapper.readTree(jsonInString);\n    ADMetrics adMetrics = mapper.convertValue(tree.get(0), ADMetrics.class);\n</code></pre>\n"}],"owner":{"account_id":7326801,"reputation":1,"user_id":5580976,"display_name":"KashR"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":7938,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":4,"score":0,"last_activity_date":1681185770,"creation_date":1447934894,"question_id":33803531,"body_markdown":"I have created a REST service which sends GET requests to retrieve a JSON response from a specified URL. \r\n\r\nI have got it working to the point where I retrieve the JSON message successfully although my next issue is converting the JSON message to JAVA Objects.\r\n\r\nBelow is my Rest Client:\r\n\r\n    public class RestADClient {\r\n\r\n\r\n    // HTTP GET request\r\n    public String sendGet(String url) throws Exception {\r\n\r\n        URL obj = new URL(url);\r\n        HttpURLConnection con = (HttpURLConnection) obj.openConnection();\r\n\r\n        // optional default is GET\r\n        con.setRequestMethod(&quot;GET&quot;);\r\n\r\n        //add request header\r\n\r\n        con.setRequestProperty(&quot;Authorization&quot;, &quot;myAuthorizationProp&quot;);\r\n\r\n        int responseCode = con.getResponseCode();\r\n        System.out.println(&quot;\\nSending &#39;GET&#39; request to URL : &quot; + url);\r\n        System.out.println(&quot;Response Code : &quot; + responseCode);\r\n\r\n        BufferedReader in = new BufferedReader(\r\n                new InputStreamReader(con.getInputStream()));\r\n        String inputLine;\r\n        StringBuffer response = new StringBuffer();\r\n\r\n        while ((inputLine = in.readLine()) != null) {\r\n            response.append(inputLine);\r\n        }\r\n        in.close();\r\n\r\n        System.out.println(&quot;Response Message: &quot; + response.toString());\r\n\r\n        ObjectMapper mapper = new ObjectMapper();\r\n\r\n        try {\r\n            // Convert JSON string to Object\r\n            String jsonInString = &quot;[{  \\&quot;frequency\\&quot;: \\&quot;ONE_MIN\\&quot;,  \\&quot;metricId\\&quot;: 2253538,  \\&quot;metricName\\&quot;: \\&quot;DB|Server:1|IO|Data File Average Read Size\\&quot;,  \\&quot;metricPath\\&quot;: \\&quot;Databases|X|IO|Data File Average Read Size\\&quot;,  \\&quot;metricValues\\&quot;: [  {    \\&quot;count\\&quot;: 14,    \\&quot;current\\&quot;: 65323,    \\&quot;max\\&quot;: 65536,    \\&quot;min\\&quot;: 0,    \\&quot;occurrences\\&quot;: 0,    \\&quot;standardDeviation\\&quot;: 0,    \\&quot;startTimeInMillis\\&quot;: 1447927800000,    \\&quot;sum\\&quot;: 251408,    \\&quot;useRange\\&quot;: true,    \\&quot;value\\&quot;: 17958  }]}]&quot;;\r\n            ADMetrics adMetrics = mapper.readValue(jsonInString, ADMetrics.class);\r\n            System.out.println(adMetrics);\r\n\r\n        } catch (JsonGenerationException e) {\r\n            e.printStackTrace();\r\n        } catch (JsonMappingException e) {\r\n            e.printStackTrace();\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n\r\n        return response.toString();\r\n    }\r\n\r\n\r\n}\r\n\r\nBelow is my ADMetrics POJO class:\r\n\r\n    import java.util.List;\r\n    public class ADMetrics {\r\n\r\n    private String frequency;\r\n    private int metricId;\r\n    private String metricName;\r\n    private String metricPath;\r\n    private List&lt;String&gt; metricValues;\r\n    private int count;\r\n    private int current;\r\n    private int max;\r\n    private int min;\r\n    private int occurences;\r\n    private int standardDeviation;\r\n    private int startTimeInMillis;\r\n    private int sum;\r\n    private boolean useRange;\r\n    private int value;\r\n\r\n    public String getFrequency() {\r\n        return frequency;\r\n    }\r\n\r\n    public void setFrequency(String frequency) {\r\n        this.frequency = frequency;\r\n    }\r\n\r\n    public int getMetricId() {\r\n        return metricId;\r\n    }\r\n\r\n    public void setMetricId(int metricId) {\r\n        this.metricId = metricId;\r\n    }\r\n    public String getMetricName() {\r\n        return metricName;\r\n    }\r\n\r\n    public void setMetricName(String metricName) {\r\n        this.metricName = metricName;\r\n    }\r\n\r\n    public String getMetricPath() {\r\n        return metricPath;\r\n    }\r\n\r\n    public void setMetricPath(String metricPath) {\r\n        this.metricPath = metricPath;\r\n    }\r\n\r\n    public List&lt;String&gt; getMetricValues() {\r\n        return metricValues;\r\n    }\r\n\r\n    public void setMetricValues(List&lt;String&gt; metricValues) {\r\n        this.metricValues = metricValues;\r\n    }\r\n\r\n    public int getCount() {\r\n        return count;\r\n    }\r\n\r\n    public void setCount(int count) {\r\n        this.count = count;\r\n    }\r\n\r\n    public int getCurrent() {\r\n        return current;\r\n    }\r\n\r\n    public void setCurrent(int current) {\r\n        this.current = current;\r\n    }\r\n\r\n    public int getMax() {\r\n        return max;\r\n    }\r\n\r\n    public void setMax(int max) {\r\n        this.max = max;\r\n    }\r\n\r\n    public int getMin() {\r\n        return min;\r\n    }\r\n\r\n    public void setMin(int min) {\r\n        this.min = min;\r\n    }\r\n\r\n    public int getOccurences() {\r\n        return occurences;\r\n    }\r\n\r\n    public void setOccurences(int occurences) {\r\n        this.occurences = occurences;\r\n    }\r\n\r\n    public int getStandardDeviation() {\r\n        return standardDeviation;\r\n    }\r\n\r\n    public void setStandardDeviation(int standardDeviation) {\r\n        this.standardDeviation = standardDeviation;\r\n    }\r\n\r\n    public int getStartTimeInMillis() {\r\n        return startTimeInMillis;\r\n    }\r\n\r\n    public void setStartTimeInMillis(int startTimeInMillis) {\r\n        this.startTimeInMillis = startTimeInMillis;\r\n    }\r\n\r\n    public int getSum() {\r\n        return sum;\r\n    }\r\n\r\n    public void setSum(int sum) {\r\n        this.sum = sum;\r\n    }\r\n\r\n    public boolean isUseRange() {\r\n        return useRange;\r\n    }\r\n\r\n    public void setUseRange(boolean useRange) {\r\n        this.useRange = useRange;\r\n    }\r\n\r\n    public int getValue() {\r\n        return value;\r\n    }\r\n\r\n    public void setValue(int value) {\r\n        this.value = value;\r\n    }\r\n\r\nBelow is my JUnit test:\r\n\r\n    public class ADTest {\r\n\r\n    String url = &quot;myURL&quot;;\r\n\r\n    @Test\r\n    public void testResponseContainsMetricFrequency() throws Exception {\r\n\r\n        RestADClient restADClient = new RestADClient();\r\n\r\n\r\n        assertTrue(restADClient.sendGet(url).contains(&quot;frequency&quot;));\r\n    }}\r\n\r\nWhen I run the test, I get the following: \r\n    \r\nResponse Code : 200\r\n\r\nResponse Message: [{  &quot;frequency&quot;: &quot;ONE_MIN&quot;,  &quot;metricId&quot;: 2253538,  &quot;metricName&quot;: &quot;DB|Server:169|IO|Data File Average Read Size&quot;,  &quot;metricPath&quot;: &quot;Databases|QA-CARS|IO|Data File Average Read Size&quot;,  &quot;metricValues&quot;: [  {    &quot;count&quot;: 13,    &quot;current&quot;: 66013,    &quot;max&quot;: 72003,    &quot;min&quot;: 0,    &quot;occurrences&quot;: 0,    &quot;standardDeviation&quot;: 0,    &quot;startTimeInMillis&quot;: 1447929360000,    &quot;sum&quot;: 198688,    &quot;useRange&quot;: true,    &quot;value&quot;: 15284  }]}]\r\n\r\norg.codehaus.jackson.map.JsonMappingException: Can not deserialize instance of rest.client.ADMetrics out of START_ARRAY token\r\n at [Source: java.io.StringReader@78b729e6; line: 1, column: 1]","title":"Cannot convert JSON HTTP Response to Java Object using Jackson","body":"<p>I have created a REST service which sends GET requests to retrieve a JSON response from a specified URL. </p>\n\n<p>I have got it working to the point where I retrieve the JSON message successfully although my next issue is converting the JSON message to JAVA Objects.</p>\n\n<p>Below is my Rest Client:</p>\n\n<pre><code>public class RestADClient {\n\n\n// HTTP GET request\npublic String sendGet(String url) throws Exception {\n\n    URL obj = new URL(url);\n    HttpURLConnection con = (HttpURLConnection) obj.openConnection();\n\n    // optional default is GET\n    con.setRequestMethod(\"GET\");\n\n    //add request header\n\n    con.setRequestProperty(\"Authorization\", \"myAuthorizationProp\");\n\n    int responseCode = con.getResponseCode();\n    System.out.println(\"\\nSending 'GET' request to URL : \" + url);\n    System.out.println(\"Response Code : \" + responseCode);\n\n    BufferedReader in = new BufferedReader(\n            new InputStreamReader(con.getInputStream()));\n    String inputLine;\n    StringBuffer response = new StringBuffer();\n\n    while ((inputLine = in.readLine()) != null) {\n        response.append(inputLine);\n    }\n    in.close();\n\n    System.out.println(\"Response Message: \" + response.toString());\n\n    ObjectMapper mapper = new ObjectMapper();\n\n    try {\n        // Convert JSON string to Object\n        String jsonInString = \"[{  \\\"frequency\\\": \\\"ONE_MIN\\\",  \\\"metricId\\\": 2253538,  \\\"metricName\\\": \\\"DB|Server:1|IO|Data File Average Read Size\\\",  \\\"metricPath\\\": \\\"Databases|X|IO|Data File Average Read Size\\\",  \\\"metricValues\\\": [  {    \\\"count\\\": 14,    \\\"current\\\": 65323,    \\\"max\\\": 65536,    \\\"min\\\": 0,    \\\"occurrences\\\": 0,    \\\"standardDeviation\\\": 0,    \\\"startTimeInMillis\\\": 1447927800000,    \\\"sum\\\": 251408,    \\\"useRange\\\": true,    \\\"value\\\": 17958  }]}]\";\n        ADMetrics adMetrics = mapper.readValue(jsonInString, ADMetrics.class);\n        System.out.println(adMetrics);\n\n    } catch (JsonGenerationException e) {\n        e.printStackTrace();\n    } catch (JsonMappingException e) {\n        e.printStackTrace();\n    } catch (IOException e) {\n        e.printStackTrace();\n    }\n\n    return response.toString();\n}\n</code></pre>\n\n<p>}</p>\n\n<p>Below is my ADMetrics POJO class:</p>\n\n<pre><code>import java.util.List;\npublic class ADMetrics {\n\nprivate String frequency;\nprivate int metricId;\nprivate String metricName;\nprivate String metricPath;\nprivate List&lt;String&gt; metricValues;\nprivate int count;\nprivate int current;\nprivate int max;\nprivate int min;\nprivate int occurences;\nprivate int standardDeviation;\nprivate int startTimeInMillis;\nprivate int sum;\nprivate boolean useRange;\nprivate int value;\n\npublic String getFrequency() {\n    return frequency;\n}\n\npublic void setFrequency(String frequency) {\n    this.frequency = frequency;\n}\n\npublic int getMetricId() {\n    return metricId;\n}\n\npublic void setMetricId(int metricId) {\n    this.metricId = metricId;\n}\npublic String getMetricName() {\n    return metricName;\n}\n\npublic void setMetricName(String metricName) {\n    this.metricName = metricName;\n}\n\npublic String getMetricPath() {\n    return metricPath;\n}\n\npublic void setMetricPath(String metricPath) {\n    this.metricPath = metricPath;\n}\n\npublic List&lt;String&gt; getMetricValues() {\n    return metricValues;\n}\n\npublic void setMetricValues(List&lt;String&gt; metricValues) {\n    this.metricValues = metricValues;\n}\n\npublic int getCount() {\n    return count;\n}\n\npublic void setCount(int count) {\n    this.count = count;\n}\n\npublic int getCurrent() {\n    return current;\n}\n\npublic void setCurrent(int current) {\n    this.current = current;\n}\n\npublic int getMax() {\n    return max;\n}\n\npublic void setMax(int max) {\n    this.max = max;\n}\n\npublic int getMin() {\n    return min;\n}\n\npublic void setMin(int min) {\n    this.min = min;\n}\n\npublic int getOccurences() {\n    return occurences;\n}\n\npublic void setOccurences(int occurences) {\n    this.occurences = occurences;\n}\n\npublic int getStandardDeviation() {\n    return standardDeviation;\n}\n\npublic void setStandardDeviation(int standardDeviation) {\n    this.standardDeviation = standardDeviation;\n}\n\npublic int getStartTimeInMillis() {\n    return startTimeInMillis;\n}\n\npublic void setStartTimeInMillis(int startTimeInMillis) {\n    this.startTimeInMillis = startTimeInMillis;\n}\n\npublic int getSum() {\n    return sum;\n}\n\npublic void setSum(int sum) {\n    this.sum = sum;\n}\n\npublic boolean isUseRange() {\n    return useRange;\n}\n\npublic void setUseRange(boolean useRange) {\n    this.useRange = useRange;\n}\n\npublic int getValue() {\n    return value;\n}\n\npublic void setValue(int value) {\n    this.value = value;\n}\n</code></pre>\n\n<p>Below is my JUnit test:</p>\n\n<pre><code>public class ADTest {\n\nString url = \"myURL\";\n\n@Test\npublic void testResponseContainsMetricFrequency() throws Exception {\n\n    RestADClient restADClient = new RestADClient();\n\n\n    assertTrue(restADClient.sendGet(url).contains(\"frequency\"));\n}}\n</code></pre>\n\n<p>When I run the test, I get the following: </p>\n\n<p>Response Code : 200</p>\n\n<p>Response Message: [{  \"frequency\": \"ONE_MIN\",  \"metricId\": 2253538,  \"metricName\": \"DB|Server:169|IO|Data File Average Read Size\",  \"metricPath\": \"Databases|QA-CARS|IO|Data File Average Read Size\",  \"metricValues\": [  {    \"count\": 13,    \"current\": 66013,    \"max\": 72003,    \"min\": 0,    \"occurrences\": 0,    \"standardDeviation\": 0,    \"startTimeInMillis\": 1447929360000,    \"sum\": 198688,    \"useRange\": true,    \"value\": 15284  }]}]</p>\n\n<p>org.codehaus.jackson.map.JsonMappingException: Can not deserialize instance of rest.client.ADMetrics out of START_ARRAY token\n at [Source: java.io.StringReader@78b729e6; line: 1, column: 1]</p>\n"},{"tags":["java","android","android-studio"],"answers":[{"tags":[],"owner":{"account_id":15668572,"reputation":309,"user_id":11305726,"display_name":"Snail Cadet"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1557416186,"creation_date":1557416186,"answer_id":56063004,"question_id":56062496,"body_markdown":"Looks like the answer you want is available in the android docs (https://developer.android.com/studio/debug/apk-debugger#attach_java):\r\n\r\n\r\n&gt;By default, Android Studio extracts Java code from your APK and saves them as .smali files. To debug the Java code using breakpoints, you need to point the IDE to the .java source files that correspond to the .smali files you want to debug.\r\n\r\n&gt;To attach Java sources, proceed as follows:\r\n\r\n&gt;Double click on a .smali file from the Project pane (use the Android view). After opening the file, the editor displays a warning banner asking you to select the Java sources, similar to what&#39;s shown in figure 1.\r\n    Click Attach Java Sources from the banner at the top of the editor window.\r\n    Navigate to the directory with the app’s Java source files and click Open.\r\n\r\n&gt;In the Project window, the IDE replaces .smali files with their corresponding .java files—The IDE also includes inner classes automatically. You can now add breakpoints and debug your app as you normally would.\r\n","title":"Can&#39;t debug APK: &quot;To set up breakpoints for debugging, please attach Java source files&quot;","body":"<p>Looks like the answer you want is available in the android docs (<a href=\"https://developer.android.com/studio/debug/apk-debugger#attach_java\" rel=\"noreferrer\">https://developer.android.com/studio/debug/apk-debugger#attach_java</a>):</p>\n\n<blockquote>\n  <p>By default, Android Studio extracts Java code from your APK and saves them as .smali files. To debug the Java code using breakpoints, you need to point the IDE to the .java source files that correspond to the .smali files you want to debug.</p>\n  \n  <p>To attach Java sources, proceed as follows:</p>\n  \n  <p>Double click on a .smali file from the Project pane (use the Android view). After opening the file, the editor displays a warning banner asking you to select the Java sources, similar to what's shown in figure 1.\n      Click Attach Java Sources from the banner at the top of the editor window.\n      Navigate to the directory with the app’s Java source files and click Open.</p>\n  \n  <p>In the Project window, the IDE replaces .smali files with their corresponding .java files—The IDE also includes inner classes automatically. You can now add breakpoints and debug your app as you normally would.</p>\n</blockquote>\n"}],"owner":{"account_id":2472234,"reputation":12058,"user_id":2153777,"accept_rate":79,"display_name":"E235"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4339,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":56063004,"answer_count":1,"score":7,"last_activity_date":1681184059,"creation_date":1557414585,"question_id":56062496,"body_markdown":"I have an APK which is `debuggable=&quot;true&quot;` (according to the AndroidManifest), meaning I can debug it and this is what I want to do.  \r\n\r\nI used Android Studio: **File -&gt; Profile or Debug APK** to load the apk (app.apk).  \r\n\r\nWhen I am trying to debug it (Shift+F9) it writes me:  \r\n\r\n&gt; Disassembled classes.dex file. To set up breakpoints for debugging,\r\n&gt; please attach Java source files\r\n\r\nI used [jadx][1] to decompile the APK to java source code by running:  \r\n\r\n    &quot;c:\\tmp\\jadx-0.8.0\\bin\\jadx.bat&quot; -d java_source app.apk  \r\n\r\nI now have inside the java_source directory two directories:  \r\n - resources  \r\n - sources  \r\n\r\nInside the `sources` folder I have the java files.  \r\nHow can I attach them to the Android Studio project as it requests by the message?  \r\nJust open it as a new project?  \r\n\r\n\r\n  [1]: https://github.com/skylot/jadx","title":"Can&#39;t debug APK: &quot;To set up breakpoints for debugging, please attach Java source files&quot;","body":"<p>I have an APK which is <code>debuggable=\"true\"</code> (according to the AndroidManifest), meaning I can debug it and this is what I want to do.  </p>\n\n<p>I used Android Studio: <strong>File -> Profile or Debug APK</strong> to load the apk (app.apk).  </p>\n\n<p>When I am trying to debug it (Shift+F9) it writes me:  </p>\n\n<blockquote>\n  <p>Disassembled classes.dex file. To set up breakpoints for debugging,\n  please attach Java source files</p>\n</blockquote>\n\n<p>I used <a href=\"https://github.com/skylot/jadx\" rel=\"noreferrer\">jadx</a> to decompile the APK to java source code by running:  </p>\n\n<pre><code>\"c:\\tmp\\jadx-0.8.0\\bin\\jadx.bat\" -d java_source app.apk  \n</code></pre>\n\n<p>I now have inside the java_source directory two directories:<br>\n - resources<br>\n - sources  </p>\n\n<p>Inside the <code>sources</code> folder I have the java files.<br>\nHow can I attach them to the Android Studio project as it requests by the message?<br>\nJust open it as a new project?  </p>\n"},{"tags":["java","spring-boot","controller-advice"],"owner":{"account_id":16720659,"reputation":408,"user_id":12085680,"display_name":"BugsOverflow"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":328,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681183676,"creation_date":1681183184,"question_id":75982173,"body_markdown":"I think this behaviour is correct, because reading from [here][1] it says: &quot;HTTP response status code 304 Not Modified is returned by the server to indicate a successful HTTP request, yet there is no need to send the data associated with the relevant resource. Essentially, it is the same as a 200 OK status code with a specific header included. **There is no message body for this response code.**&quot;\r\n\r\nSo I think it is okay that it does not return any body but just want to make sure :) also in the log I can see the exception has all the data I require and I do get the 304 not modified as response using postman...\r\n\r\n**My RestControllerAdvice:**\r\n\r\n    @ExceptionHandler(NotModifiedProductException.class)\r\n    @ResponseStatus(value = HttpStatus.NOT_MODIFIED)\r\n    public ResponseEntity&lt;HandlerDTO&gt; handlerRequestException(NotModifiedProductException e) {\r\n    \tlog.error(HANDLER_LOG, e.getClass(), e.getMessage(), ExceptionUtils.getStackTrace(e));\r\n    \treturn new ResponseEntity&lt;&gt;(new HandlerDTO(e.getClass().getSimpleName(), e.getMessage()),\r\n    \t\t\tHttpStatus.NOT_MODIFIED);\r\n    }\r\n\r\nRight now I do not need it to return the body, and more knowing that the standard says 304 does not return body, but in case I really needed it to return it, is there any way?\r\n\r\nAlso I found this documentation suggested by the javadoc:\r\n\r\nhttps://www.rfc-editor.org/rfc/rfc7232#section-4.1\r\nwhere it says: &quot;A 304 response cannot contain a message-body; it is always terminated\r\n   by the first empty line after the header fields.&quot;\r\n\r\n  [1]: https://http.dev/304#:~:text=HTTP%20response%20status%20code%20304,body%20for%20this%20response%20code.","title":"Spring RestControllerAdvice status code 304 NOT MODIFIED Does not return the body I command","body":"<p>I think this behaviour is correct, because reading from <a href=\"https://http.dev/304#:%7E:text=HTTP%20response%20status%20code%20304,body%20for%20this%20response%20code.\" rel=\"nofollow noreferrer\">here</a> it says: &quot;HTTP response status code 304 Not Modified is returned by the server to indicate a successful HTTP request, yet there is no need to send the data associated with the relevant resource. Essentially, it is the same as a 200 OK status code with a specific header included. <strong>There is no message body for this response code.</strong>&quot;</p>\n<p>So I think it is okay that it does not return any body but just want to make sure :) also in the log I can see the exception has all the data I require and I do get the 304 not modified as response using postman...</p>\n<p><strong>My RestControllerAdvice:</strong></p>\n<pre><code>@ExceptionHandler(NotModifiedProductException.class)\n@ResponseStatus(value = HttpStatus.NOT_MODIFIED)\npublic ResponseEntity&lt;HandlerDTO&gt; handlerRequestException(NotModifiedProductException e) {\n    log.error(HANDLER_LOG, e.getClass(), e.getMessage(), ExceptionUtils.getStackTrace(e));\n    return new ResponseEntity&lt;&gt;(new HandlerDTO(e.getClass().getSimpleName(), e.getMessage()),\n            HttpStatus.NOT_MODIFIED);\n}\n</code></pre>\n<p>Right now I do not need it to return the body, and more knowing that the standard says 304 does not return body, but in case I really needed it to return it, is there any way?</p>\n<p>Also I found this documentation suggested by the javadoc:</p>\n<p><a href=\"https://www.rfc-editor.org/rfc/rfc7232#section-4.1\" rel=\"nofollow noreferrer\">https://www.rfc-editor.org/rfc/rfc7232#section-4.1</a>\nwhere it says: &quot;A 304 response cannot contain a message-body; it is always terminated\nby the first empty line after the header fields.&quot;</p>\n"},{"tags":["java","garbage-collection"],"owner":{"account_id":18433184,"reputation":323,"user_id":16452929,"display_name":"CS1999"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681183017,"creation_date":1681183017,"question_id":75982163,"body_markdown":"I am currently exploring options on how to detect long GC pauses (beyond a certain threshold) and raise alerts. One simple way I can think of is writing a script/python program which periodically calls ```jstat -gc ${vmid}```, reads the output, compares it with previous results and tries to raise alerts if the GC pause threshold is broken (simple if condition) . I was wondering if there are any industry standard ways to do this ? Any app/tool which can be configured with a list of running apps to be monitored ? ","title":"Efficient way to detect and alert long GC pauses (young and full both)","body":"<p>I am currently exploring options on how to detect long GC pauses (beyond a certain threshold) and raise alerts. One simple way I can think of is writing a script/python program which periodically calls <code>jstat -gc ${vmid}</code>, reads the output, compares it with previous results and tries to raise alerts if the GC pause threshold is broken (simple if condition) . I was wondering if there are any industry standard ways to do this ? Any app/tool which can be configured with a list of running apps to be monitored ?</p>\n"},{"tags":["java","sorting"],"comments":[{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":1,"creation_date":1681182840,"post_id":75982125,"comment_id":134011468,"body_markdown":"Negative means a&lt;b. Positive means a&gt;b. Zero means a=b. See the docs for [Comparator](https://docs.oracle.com/javase/8/docs/api/java/util/Comparator.html#:~:text=Returns%20a%20negative%20integer%2C%20zero%2C%20or%20a%20positive%20integer%20as%20the%20first%20argument%20is%20less%20than%2C%20equal%20to%2C%20or%20greater%20than%20the%20second.).","body":"Negative means a&lt;b. Positive means a&gt;b. Zero means a=b. See the docs for <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Comparator.html#:~:text=Returns%20a%20negative%20integer%2C%20zero%2C%20or%20a%20positive%20integer%20as%20the%20first%20argument%20is%20less%20than%2C%20equal%20to%2C%20or%20greater%20than%20the%20second.\" rel=\"nofollow noreferrer\">Comparator</a>."},{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":0,"creation_date":1681182891,"post_id":75982125,"comment_id":134011473,"body_markdown":"`1` means greater than, `-1` means less than and `0` means equal to. That is generally how sort works in Java. You compare two values. Those are the only three possible results of comparing two values.","body":"<code>1</code> means greater than, <code>-1</code> means less than and <code>0</code> means equal to. That is generally how sort works in Java. You compare two values. Those are the only three possible results of comparing two values."},{"owner":{"account_id":22319245,"reputation":41,"user_id":16542113,"display_name":"Ankit Biswas"},"score":0,"creation_date":1681227743,"post_id":75982125,"comment_id":134021016,"body_markdown":"@ElliottFrisch What I meant was how does the sort() function know what 1,-1 and 0 mean respectively ?","body":"@ElliottFrisch What I meant was how does the sort() function know what 1,-1 and 0 mean respectively ?"},{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":1,"creation_date":1681228161,"post_id":75982125,"comment_id":134021122,"body_markdown":"Because it was programmed to know. Assuming you have a `Comparator c` then `c.compare(a,b)` will return one of those values (as discussed), then you use the result of the comparison to do the sorting (instead of `if (a &lt; b)` you have `if (c.compare(a,b) &lt; 0)` which means the same thing but allows you to have any kind of logic to determine that `a` is less than `b`).","body":"Because it was programmed to know. Assuming you have a <code>Comparator c</code> then <code>c.compare(a,b)</code> will return one of those values (as discussed), then you use the result of the comparison to do the sorting (instead of <code>if (a &lt; b)</code> you have <code>if (c.compare(a,b) &lt; 0)</code> which means the same thing but allows you to have any kind of logic to determine that <code>a</code> is less than <code>b</code>)."}],"owner":{"account_id":22319245,"reputation":41,"user_id":16542113,"display_name":"Ankit Biswas"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681182469,"creation_date":1681182469,"question_id":75982125,"body_markdown":"I was doing a leetcode problem where a user was sorting a 2-D array using `Arrays.sort(intervals, (a,b)-&gt;Integer.compare(a[0],b[0]));`\r\n\r\nNow, I understand to some extent what is happening here. The `sort()` method consults `compare()` every time it has to compare the integers. \r\n\r\nNow my question is how does the sort function know how to interpret the result of the lamda expression: `(a,b)-&gt;Integer.compare(a[0],b[0])`, as it only returns 1,0,-1 depending on the input.\r\n\r\nWould really help if someone could explain this to me.","title":"Understanding how to sort 2-d array using Arrays.sort() and Integer.compare()","body":"<p>I was doing a leetcode problem where a user was sorting a 2-D array using <code>Arrays.sort(intervals, (a,b)-&gt;Integer.compare(a[0],b[0]));</code></p>\n<p>Now, I understand to some extent what is happening here. The <code>sort()</code> method consults <code>compare()</code> every time it has to compare the integers.</p>\n<p>Now my question is how does the sort function know how to interpret the result of the lamda expression: <code>(a,b)-&gt;Integer.compare(a[0],b[0])</code>, as it only returns 1,0,-1 depending on the input.</p>\n<p>Would really help if someone could explain this to me.</p>\n"},{"tags":["java","spring-boot","maven","jenkins"],"answers":[{"tags":[],"owner":{"account_id":2540460,"reputation":471,"user_id":2206366,"accept_rate":0,"display_name":"user2206366"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681181003,"creation_date":1681181003,"answer_id":75982046,"question_id":75883542,"body_markdown":"As stated above I accidentally ran `mvn package test` not `mvn test package` or `mvn package` which resulted into this error. Although I am not sure why running test phase later messed up the spring-boot jar packaging. I was able to reproduce the same in local environment.","title":"Spring-boot multi module project","body":"<p>As stated above I accidentally ran <code>mvn package test</code> not <code>mvn test package</code> or <code>mvn package</code> which resulted into this error. Although I am not sure why running test phase later messed up the spring-boot jar packaging. I was able to reproduce the same in local environment.</p>\n"}],"owner":{"account_id":2540460,"reputation":471,"user_id":2206366,"accept_rate":0,"display_name":"user2206366"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":85,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1681181003,"creation_date":1680141854,"question_id":75883542,"body_markdown":"I have the following pom structure,\r\n\r\n        &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n             xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n             xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \r\n        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n        &lt;groupId&gt;com.abc.xyz.parent&lt;/groupId&gt;\r\n        &lt;artifactId&gt;parent&lt;/artifactId&gt;\r\n        &lt;version&gt;0.1.0&lt;/version&gt;\r\n        &lt;packaging&gt;pom&lt;/packaging&gt;\r\n    \r\n        &lt;parent&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt; \r\n            &lt;version&gt;2.7.5&lt;/version&gt;\r\n        &lt;/parent&gt;\r\n    \r\n        &lt;properties&gt;\r\n            &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n            &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\r\n        &lt;revision&gt;0.1.0&lt;/revision&gt;\r\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\r\n        &lt;spring-boot.version&gt;2.7.5&lt;/spring-boot.version&gt;\r\n        &lt;powermock.version&gt;1.6.4&lt;/powermock.version&gt;\r\n        &lt;common-lib.version&gt;${revision}&lt;/common-lib.version&gt;\r\n        &lt;maven-jacoco.version&gt;0.8.6&lt;/maven-jacoco.version&gt;\r\n        &lt;maven-surefire.version&gt;3.0.0&lt;/maven-surefire.version&gt;\r\n        &lt;/properties&gt;\r\n    \r\n        &lt;!-- To build everything properly use &quot;mvn clean install -Pbuild&quot; --&gt;\r\n        &lt;modules&gt;        \r\n            &lt;module&gt;common-lib&lt;/module&gt;\r\n            &lt;module&gt;my-service&lt;/module&gt;\r\n        &lt;/modules&gt;\r\n        &lt;dependencyManagement&gt;\r\n          &lt;dependencies&gt;\r\n             &lt;dependency&gt;\r\n            &lt;groupId&gt;com.abc.xyz.parent&lt;/groupId&gt;\r\n            &lt;artifactId&gt;common-lib&lt;/artifactId&gt;\r\n            &lt;version&gt;${common-lib.version}&lt;/version&gt;\r\n           &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n        &lt;/dependencyManagement&gt;\r\n          \r\n\r\ncommon-lib&#39;s pom.xml\r\n\r\n        &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;groupId&gt;com.abc.xyz.parent&lt;/groupId&gt;\r\n    &lt;artifactId&gt;common-lib&lt;/artifactId&gt;\r\n    &lt;version&gt;0.1.0&lt;/version&gt;\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;com.abc.xyz.parent&lt;/groupId&gt;\r\n        &lt;artifactId&gt;parent&lt;/artifactId&gt;\r\n        &lt;relativePath&gt;../pom.xml&lt;/relativePath&gt;\r\n        &lt;version&gt;0.1.0&lt;/version&gt;\r\n    &lt;/parent&gt;\r\n\r\n    &lt;!-- \r\n     Do not configure dependencies here (version, scope, exclusions, etc). Define them in a\r\n     central place, the dependency management in the root pom.\r\n    --&gt;\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jackson-core&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jackson-annotations&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;       \r\n    &lt;/dependencies&gt;\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;    \r\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;source&gt;${java.version}&lt;/source&gt;\r\n                    &lt;target&gt;${java.version}&lt;/target&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;${maven-surefire.version}&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;systemPropertyVariables&gt;\r\n                        &lt;jacoco-agent.destfile&gt;target/jacoco.exec&lt;/jacoco-agent.destfile&gt;\r\n                    &lt;/systemPropertyVariables&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n&lt;/project&gt;\r\n\r\nand service pox.xml as below,\r\n\r\n        &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n             xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;  \r\n        &lt;artifactId&gt;my-service&lt;/artifactId&gt;\r\n        &lt;version&gt;0.1.0&lt;/version&gt;\r\n\r\n         &lt;parent&gt;\r\n            &lt;groupId&gt;com.abc.xyz.parent&lt;/groupId&gt;\r\n            &lt;artifactId&gt;parent&lt;/artifactId&gt;\r\n            &lt;relativePath&gt;../pom.xml&lt;/relativePath&gt;\r\n            &lt;version&gt;0.1.0&lt;/version&gt;\r\n        &lt;/parent&gt;\r\n\r\n        &lt;!-- \r\n         Do not configure dependencies here (version, scope, exclusions, etc). Define them in a\r\n         central place, the dependency management in the root pom.\r\n        --&gt;\r\n        &lt;dependencies&gt;\r\n            &lt;!-- All spring-boot dependencies requires omitted--&gt;\r\n           &lt;dependency&gt;\r\n                &lt;groupId&gt;com.abc.xyz.parent&lt;/groupId&gt;\r\n                &lt;artifactId&gt;common-lib&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n\r\n        &lt;build&gt;\r\n            &lt;plugins&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.jacoco&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;jacoco-maven-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;${maven-jacoco.version}&lt;/version&gt;\r\n                    &lt;executions&gt;\r\n                        &lt;execution&gt;\r\n                            &lt;id&gt;report&lt;/id&gt;\r\n                            &lt;goals&gt;\r\n                                &lt;goal&gt;report&lt;/goal&gt;\r\n                            &lt;/goals&gt;\r\n                        &lt;/execution&gt;\r\n                        &lt;execution&gt;\r\n                            &lt;goals&gt;\r\n                                &lt;goal&gt;prepare-agent&lt;/goal&gt;\r\n                            &lt;/goals&gt;\r\n                        &lt;/execution&gt;\r\n                    &lt;/executions&gt;\r\n                &lt;/plugin&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;${maven-surefire.version}&lt;/version&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;systemPropertyVariables&gt;\r\n                            &lt;jacoco-agent.destfile&gt;target/jacoco.exec&lt;/jacoco-agent.destfile&gt;\r\n                        &lt;/systemPropertyVariables&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/plugin&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;fork&gt;true&lt;/fork&gt;\r\n                        &lt;!-- &lt;executable&gt;true&lt;/executable&gt; --&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/plugin&gt;\r\n            &lt;/plugins&gt;\r\n        &lt;/build&gt;\r\n    &lt;/project&gt;\r\nI am running mvn package test and in local environment everything works fine and my-service.jar contains &quot;common-lib&quot; jar under BOOt_INF/lib but whenever I try to build it in Jenkins/CI I am getting a my-service.jar without common-lib packaged, though compilation succeeds in CI as well but fails when I run the application with &quot;java.io.FileNotFoundException&quot; exception. Can someone explain is anything wrong with this configuration?\r\n\r\n","title":"Spring-boot multi module project","body":"<p>I have the following pom structure,</p>\n<pre><code>    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;groupId&gt;com.abc.xyz.parent&lt;/groupId&gt;\n    &lt;artifactId&gt;parent&lt;/artifactId&gt;\n    &lt;version&gt;0.1.0&lt;/version&gt;\n    &lt;packaging&gt;pom&lt;/packaging&gt;\n\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt; \n        &lt;version&gt;2.7.5&lt;/version&gt;\n    &lt;/parent&gt;\n\n    &lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\n    &lt;revision&gt;0.1.0&lt;/revision&gt;\n    &lt;java.version&gt;1.8&lt;/java.version&gt;\n    &lt;spring-boot.version&gt;2.7.5&lt;/spring-boot.version&gt;\n    &lt;powermock.version&gt;1.6.4&lt;/powermock.version&gt;\n    &lt;common-lib.version&gt;${revision}&lt;/common-lib.version&gt;\n    &lt;maven-jacoco.version&gt;0.8.6&lt;/maven-jacoco.version&gt;\n    &lt;maven-surefire.version&gt;3.0.0&lt;/maven-surefire.version&gt;\n    &lt;/properties&gt;\n\n    &lt;!-- To build everything properly use &quot;mvn clean install -Pbuild&quot; --&gt;\n    &lt;modules&gt;        \n        &lt;module&gt;common-lib&lt;/module&gt;\n        &lt;module&gt;my-service&lt;/module&gt;\n    &lt;/modules&gt;\n    &lt;dependencyManagement&gt;\n      &lt;dependencies&gt;\n         &lt;dependency&gt;\n        &lt;groupId&gt;com.abc.xyz.parent&lt;/groupId&gt;\n        &lt;artifactId&gt;common-lib&lt;/artifactId&gt;\n        &lt;version&gt;${common-lib.version}&lt;/version&gt;\n       &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n    &lt;/dependencyManagement&gt;\n      \n</code></pre>\n<p>common-lib's pom.xml</p>\n<pre><code>    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n     xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n     xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n&lt;groupId&gt;com.abc.xyz.parent&lt;/groupId&gt;\n&lt;artifactId&gt;common-lib&lt;/artifactId&gt;\n&lt;version&gt;0.1.0&lt;/version&gt;\n&lt;parent&gt;\n    &lt;groupId&gt;com.abc.xyz.parent&lt;/groupId&gt;\n    &lt;artifactId&gt;parent&lt;/artifactId&gt;\n    &lt;relativePath&gt;../pom.xml&lt;/relativePath&gt;\n    &lt;version&gt;0.1.0&lt;/version&gt;\n&lt;/parent&gt;\n\n&lt;!-- \n Do not configure dependencies here (version, scope, exclusions, etc). Define them in a\n central place, the dependency management in the root pom.\n--&gt;\n&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n        &lt;artifactId&gt;jackson-core&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n        &lt;artifactId&gt;jackson-annotations&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n        &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\n    &lt;/dependency&gt;       \n&lt;/dependencies&gt;\n&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;    \n            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n            &lt;configuration&gt;\n                &lt;source&gt;${java.version}&lt;/source&gt;\n                &lt;target&gt;${java.version}&lt;/target&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n            &lt;version&gt;${maven-surefire.version}&lt;/version&gt;\n            &lt;configuration&gt;\n                &lt;systemPropertyVariables&gt;\n                    &lt;jacoco-agent.destfile&gt;target/jacoco.exec&lt;/jacoco-agent.destfile&gt;\n                &lt;/systemPropertyVariables&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n\n<p>and service pox.xml as below,</p>\n<pre><code>    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;  \n    &lt;artifactId&gt;my-service&lt;/artifactId&gt;\n    &lt;version&gt;0.1.0&lt;/version&gt;\n\n     &lt;parent&gt;\n        &lt;groupId&gt;com.abc.xyz.parent&lt;/groupId&gt;\n        &lt;artifactId&gt;parent&lt;/artifactId&gt;\n        &lt;relativePath&gt;../pom.xml&lt;/relativePath&gt;\n        &lt;version&gt;0.1.0&lt;/version&gt;\n    &lt;/parent&gt;\n\n    &lt;!-- \n     Do not configure dependencies here (version, scope, exclusions, etc). Define them in a\n     central place, the dependency management in the root pom.\n    --&gt;\n    &lt;dependencies&gt;\n        &lt;!-- All spring-boot dependencies requires omitted--&gt;\n       &lt;dependency&gt;\n            &lt;groupId&gt;com.abc.xyz.parent&lt;/groupId&gt;\n            &lt;artifactId&gt;common-lib&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.jacoco&lt;/groupId&gt;\n                &lt;artifactId&gt;jacoco-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;${maven-jacoco.version}&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;report&lt;/id&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;report&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                    &lt;execution&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;prepare-agent&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n                &lt;version&gt;${maven-surefire.version}&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;systemPropertyVariables&gt;\n                        &lt;jacoco-agent.destfile&gt;target/jacoco.exec&lt;/jacoco-agent.destfile&gt;\n                    &lt;/systemPropertyVariables&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;fork&gt;true&lt;/fork&gt;\n                    &lt;!-- &lt;executable&gt;true&lt;/executable&gt; --&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<p>I am running mvn package test and in local environment everything works fine and my-service.jar contains &quot;common-lib&quot; jar under BOOt_INF/lib but whenever I try to build it in Jenkins/CI I am getting a my-service.jar without common-lib packaged, though compilation succeeds in CI as well but fails when I run the application with &quot;java.io.FileNotFoundException&quot; exception. Can someone explain is anything wrong with this configuration?</p>\n"},{"tags":["java","windows-7","javac"],"comments":[{"owner":{"account_id":200015,"reputation":4010,"user_id":445651,"accept_rate":82,"display_name":"Wolfpack&#39;08"},"score":0,"creation_date":1395993894,"post_id":22707097,"comment_id":34600627,"body_markdown":"I ran `javac HelloWorld.java`, and there is no output file (thusly, this question).","body":"I ran <code>javac HelloWorld.java</code>, and there is no output file (thusly, this question)."},{"owner":{"account_id":3023214,"reputation":20362,"user_id":2563754,"display_name":"Seelenvirtuose"},"score":2,"creation_date":1395995188,"post_id":22707097,"comment_id":34601182,"body_markdown":"What is the package declaration of HelloWorld?","body":"What is the package declaration of HelloWorld?"},{"owner":{"account_id":200015,"reputation":4010,"user_id":445651,"accept_rate":82,"display_name":"Wolfpack&#39;08"},"score":0,"creation_date":1395995916,"post_id":22707097,"comment_id":34601562,"body_markdown":"@Seelenvirtuose I&#39;m writing my first program, man.  I don&#39;t know what that is.  Can you tell me how to look for the information you want?","body":"@Seelenvirtuose I&#39;m writing my first program, man.  I don&#39;t know what that is.  Can you tell me how to look for the information you want?"},{"owner":{"account_id":2288194,"reputation":7556,"user_id":2011748,"display_name":"Peter Keller"},"score":0,"creation_date":1395998326,"post_id":22707097,"comment_id":34602962,"body_markdown":"Perhaps you should show us the Java source file.","body":"Perhaps you should show us the Java source file."}],"answers":[{"tags":[],"owner":{"account_id":2288194,"reputation":7556,"user_id":2011748,"display_name":"Peter Keller"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1395998955,"creation_date":1395993668,"answer_id":22707211,"question_id":22707097,"body_markdown":"If `HelloWorld.java` compiled without any errors, then the file `HelloWorld.class` should definitely be in the `java_tut` directory. \r\n\r\n**EDIT (based on your comments and edits):**\r\n\r\nCheck if your Java source file `HelloWorld.java` looks as follows:\r\n\r\n    public class HelloWorld {\r\n        public static void main(String[] args) {\r\n            System.out.println(&quot;Hellow, World!&quot;);\r\n        } \r\n    }\r\n\r\nThe class must have the same name as the Java source file or you get following compiler error message:\r\n\r\n    [515]% javac HelloWorld.java \r\n    HelloWorld.java:1: error: class YourClassName is public, should be declared in a file named YourClassName.java\r\n    public class YourClassName {\r\n       ^\r\n    1 error\r\n","title":"Cannot find output .class files using javac?","body":"<p>If <code>HelloWorld.java</code> compiled without any errors, then the file <code>HelloWorld.class</code> should definitely be in the <code>java_tut</code> directory. </p>\n\n<p><strong>EDIT (based on your comments and edits):</strong></p>\n\n<p>Check if your Java source file <code>HelloWorld.java</code> looks as follows:</p>\n\n<pre><code>public class HelloWorld {\n    public static void main(String[] args) {\n        System.out.println(\"Hellow, World!\");\n    } \n}\n</code></pre>\n\n<p>The class must have the same name as the Java source file or you get following compiler error message:</p>\n\n<pre><code>[515]% javac HelloWorld.java \nHelloWorld.java:1: error: class YourClassName is public, should be declared in a file named YourClassName.java\npublic class YourClassName {\n   ^\n1 error\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3023214,"reputation":20362,"user_id":2563754,"display_name":"Seelenvirtuose"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1395995919,"creation_date":1395995919,"answer_id":22707776,"question_id":22707097,"body_markdown":"Although I asked about the package declaration, I can tell you the correct approach:\r\n\r\nLet&#39;s assume you have a Java class with that source:\r\n\r\n    package my.test;\r\n    public class HelloWorld {\r\n        public static void main(String[] args) {\r\n            System.out.println(&quot;Hello World.&quot;);\r\n        }\r\n    }\r\n\r\nAssuming your project root directory is\r\n\r\n&gt; C:\\Projects\\java_tut\r\n\r\nyou must put the source file `HelloWorld.java` into the directory\r\n\r\n&gt; C:\\Projects\\java_tut\\my\\test\r\n\r\nAfterwards you compile and start this little program while being in the `java_tut` directory with the following commands:\r\n\r\n    C:\\Projects\\java_tut&gt; javac my/test/HelloWorld.java\r\n    \r\n    C:\\Projects\\java_tut&gt; dir my\\test\r\n    [...]\r\n    28.03.2014  09:35    &lt;DIR&gt;          .\r\n    28.03.2014  09:35    &lt;DIR&gt;          ..\r\n    28.03.2014  09:35               434 HelloWorld.class\r\n    28.03.2014  09:34               134 HelloWorld.java\r\n    [...]\r\n    \r\n    C:\\Projects\\java_tut&gt; java my.test.HelloWorld\r\n    Hello World.\r\n\r\nExplanation: If working with packages (and you always should use packages for your classes) you must not &quot;sit&quot; in that package, but always run the commands from outside the package (folder).","title":"Cannot find output .class files using javac?","body":"<p>Although I asked about the package declaration, I can tell you the correct approach:</p>\n\n<p>Let's assume you have a Java class with that source:</p>\n\n<pre><code>package my.test;\npublic class HelloWorld {\n    public static void main(String[] args) {\n        System.out.println(\"Hello World.\");\n    }\n}\n</code></pre>\n\n<p>Assuming your project root directory is</p>\n\n<blockquote>\n  <p>C:\\Projects\\java_tut</p>\n</blockquote>\n\n<p>you must put the source file <code>HelloWorld.java</code> into the directory</p>\n\n<blockquote>\n  <p>C:\\Projects\\java_tut\\my\\test</p>\n</blockquote>\n\n<p>Afterwards you compile and start this little program while being in the <code>java_tut</code> directory with the following commands:</p>\n\n<pre><code>C:\\Projects\\java_tut&gt; javac my/test/HelloWorld.java\n\nC:\\Projects\\java_tut&gt; dir my\\test\n[...]\n28.03.2014  09:35    &lt;DIR&gt;          .\n28.03.2014  09:35    &lt;DIR&gt;          ..\n28.03.2014  09:35               434 HelloWorld.class\n28.03.2014  09:34               134 HelloWorld.java\n[...]\n\nC:\\Projects\\java_tut&gt; java my.test.HelloWorld\nHello World.\n</code></pre>\n\n<p>Explanation: If working with packages (and you always should use packages for your classes) you must not \"sit\" in that package, but always run the commands from outside the package (folder).</p>\n"},{"tags":[],"owner":{"account_id":200015,"reputation":4010,"user_id":445651,"accept_rate":82,"display_name":"Wolfpack&#39;08"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1395998146,"creation_date":1395998146,"answer_id":22708510,"question_id":22707097,"body_markdown":"`YourClassName.class` is the correct file in this case.  The class name isn&#39;t generated based on the .java file&#39;s name.  It&#39;s generated based on the class name inside the .java file.  In my .java file, I named the class `YourClassName` and not `HelloWorld`.","title":"Cannot find output .class files using javac?","body":"<p><code>YourClassName.class</code> is the correct file in this case.  The class name isn't generated based on the .java file's name.  It's generated based on the class name inside the .java file.  In my .java file, I named the class <code>YourClassName</code> and not <code>HelloWorld</code>.</p>\n"},{"tags":[],"owner":{"account_id":1927222,"reputation":404,"user_id":1737644,"accept_rate":75,"display_name":"shful"},"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1437725201,"creation_date":1437725201,"answer_id":31605284,"question_id":22707097,"body_markdown":"Another possible reason is an empty *.java* source file.\r\n\r\nThis causes *javac* to silently produce nothing.\r\n\r\nI experienced that effect with a Hello Word program and a Macintosh editor - which would save with *Cmd-S*, but does not save with *Ctrl-S*. I learned this after 20 years of Java programming.\r\n\r\n\r\n","title":"Cannot find output .class files using javac?","body":"<p>Another possible reason is an empty <em>.java</em> source file.</p>\n\n<p>This causes <em>javac</em> to silently produce nothing.</p>\n\n<p>I experienced that effect with a Hello Word program and a Macintosh editor - which would save with <em>Cmd-S</em>, but does not save with <em>Ctrl-S</em>. I learned this after 20 years of Java programming.</p>\n"},{"tags":[],"owner":{"account_id":6942726,"reputation":151,"user_id":6700703,"display_name":"Rahul Singhal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681180059,"creation_date":1681180059,"answer_id":75981994,"question_id":22707097,"body_markdown":"One of the reason could be. You have not saved your program. Before running javac command always save the program(if u did any changes then only). Then running javac command will produce .class file. ","title":"Cannot find output .class files using javac?","body":"<p>One of the reason could be. You have not saved your program. Before running javac command always save the program(if u did any changes then only). Then running javac command will produce .class file.</p>\n"}],"owner":{"account_id":200015,"reputation":4010,"user_id":445651,"accept_rate":82,"display_name":"Wolfpack&#39;08"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10702,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":22707211,"answer_count":5,"score":4,"last_activity_date":1681180059,"creation_date":1395993146,"question_id":22707097,"body_markdown":"I type `javac helloworld.java` at cmd in win 7.\r\n\r\n    C:\\Users\\User\\Downloads\\java_tut&gt;javac HelloWorld.java\r\n    \r\n    C:\\Users\\User\\Downloads\\java_tut&gt;dir *.class\r\n    \r\n     Directory of C:\\Users\\User\\Downloads\\java_tut\r\n    \r\n    03/28/2014  05:42 PM               429 YourClassName.class\r\n    \r\n    C:\\Users\\User\\Downloads\\java_tut&gt;\r\n\r\nI searched the following directories for helloworld.class:\r\njava, jre, jdk, java_tut, jre/bin, jdk/bin, and my entire harddrive.\r\n\r\n\r\nI did need to manually add the /jdk/bin directory to my path.  I wonder if that matters?","title":"Cannot find output .class files using javac?","body":"<p>I type <code>javac helloworld.java</code> at cmd in win 7.</p>\n\n<pre><code>C:\\Users\\User\\Downloads\\java_tut&gt;javac HelloWorld.java\n\nC:\\Users\\User\\Downloads\\java_tut&gt;dir *.class\n\n Directory of C:\\Users\\User\\Downloads\\java_tut\n\n03/28/2014  05:42 PM               429 YourClassName.class\n\nC:\\Users\\User\\Downloads\\java_tut&gt;\n</code></pre>\n\n<p>I searched the following directories for helloworld.class:\njava, jre, jdk, java_tut, jre/bin, jdk/bin, and my entire harddrive.</p>\n\n<p>I did need to manually add the /jdk/bin directory to my path.  I wonder if that matters?</p>\n"},{"tags":["java","performance","concurrency","java.util.concurrent"],"comments":[{"owner":{"account_id":28104689,"reputation":512,"user_id":21473475,"display_name":"Arfur Narf"},"score":2,"creation_date":1681178050,"post_id":75981864,"comment_id":134011066,"body_markdown":"What have you measured as the overhead?  How much faster does your program run with the alternative, less-clear formulation?  And why not just use an AtomicInteger?","body":"What have you measured as the overhead?  How much faster does your program run with the alternative, less-clear formulation?  And why not just use an AtomicInteger?"},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":1,"creation_date":1681178257,"post_id":75981864,"comment_id":134011087,"body_markdown":"I would have thought is would be *slower* ... since thread 1 now needs to generate function references and thread 2 needs to call `accept` to get the value.  But this smells like *premature optimization*.","body":"I would have thought is would be <i>slower</i> ... since thread 1 now needs to generate function references and thread 2 needs to call <code>accept</code> to get the value.  But this smells like <i>premature optimization</i>."},{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":1,"creation_date":1681178468,"post_id":75981864,"comment_id":134011110,"body_markdown":"I&#39;d also assume that the `Supplier` is now stored in a `volatile` reference, meaning the idea that started this optimization has in fact not gone anywhere.","body":"I&#39;d also assume that the <code>Supplier</code> is now stored in a <code>volatile</code> reference, meaning the idea that started this optimization has in fact not gone anywhere."},{"owner":{"account_id":22931464,"reputation":449,"user_id":17065671,"display_name":"Qu&#226;n Anh Mai"},"score":0,"creation_date":1681286202,"post_id":75981864,"comment_id":134030265,"body_markdown":"You do not need an `AtomicReference`, just access `MyObject` directly in a volatile field and you are fine","body":"You do not need an <code>AtomicReference</code>, just access <code>MyObject</code> directly in a volatile field and you are fine"},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1681813627,"post_id":75981864,"comment_id":134113560,"body_markdown":"Some things are unclear. 1. Does thread 1 calculate exactly one value or new values repeatedly? 2. What does “sometimes” mean in this context? From time to time (multiple times during the thread’s lifetime but with large time in-between) or just “once or never” in one runtime? 3. How does thread 2 ensure that thread 1 has completed the calculation by the time it needs the value (for the first time)?","body":"Some things are unclear. 1. Does thread 1 calculate exactly one value or new values repeatedly? 2. What does “sometimes” mean in this context? From time to time (multiple times during the thread’s lifetime but with large time in-between) or just “once or never” in one runtime? 3. How does thread 2 ensure that thread 1 has completed the calculation by the time it needs the value (for the first time)?"}],"owner":{"account_id":465939,"reputation":3614,"user_id":870382,"accept_rate":56,"display_name":"Novice User"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681178355,"creation_date":1681177745,"question_id":75981864,"body_markdown":"Thread 1 -&gt; Compute a value `MyObject` and store in `AtomicReference&lt; MyObject&gt;&gt;`\r\n\r\nThread 2 -&gt; Would sometimes need the value of `MyObject` stored by Thread 1\r\n\r\nLooking at `AtomicReference::set` the value set in `volatile` field. \r\n\r\nSince Thread 2 would only need the value sometimes does it help in performance if from Thread 1 it is instead set as `AtomicReference&lt;Supplier&lt; MyObject &gt;&gt;`?","title":"Avoid cost of volatile value in AtomicReference","body":"<p>Thread 1 -&gt; Compute a value <code>MyObject</code> and store in <code>AtomicReference&lt; MyObject&gt;&gt;</code></p>\n<p>Thread 2 -&gt; Would sometimes need the value of <code>MyObject</code> stored by Thread 1</p>\n<p>Looking at <code>AtomicReference::set</code> the value set in <code>volatile</code> field.</p>\n<p>Since Thread 2 would only need the value sometimes does it help in performance if from Thread 1 it is instead set as <code>AtomicReference&lt;Supplier&lt; MyObject &gt;&gt;</code>?</p>\n"},{"tags":["java","gluon-mobile"],"owner":{"account_id":2016330,"reputation":13111,"user_id":1803551,"accept_rate":67,"display_name":"user1803551"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1681178297,"creation_date":1681178297,"question_id":75981901,"body_markdown":"We are writing something similar to a navigation app, which can be either visual-based or sound-based. We are hitting a problem where the phone will enter sleep mode (might not be the correct technical term) after a while during the runtime of the application if the screen is not interacted with, causing it to both blank the screen and interrupt the `LocationService` of Attach.\r\n\r\nReproduction is simple: create any Gluon Mobile application, like the started demo one, open it and wait. The phone will enter sleep mode.\r\n\r\nWe would like to do the following:\r\n\r\n1. When visual mode is on, keep the screen lit and keep sending location updates without letting the phone stop these via some power saving mode / sleep. Some applications to this, like Google Maps, so this is not a special requirement.\r\n2. When only sound mode is on, the phone can turn off the screen to save on battery, but we still need the application running with location updates and the ability to give sound notification to the user.\r\n\r\nI&#39;ve looked into the `LifecycleService` and the `BatteryService` in Attach, but there is no functionality that matches what we need. Lifecycle allows to listen to changes in the lifecycle of the application, but not modify them (except for shutting down).\r\n\r\nHow can we fulfill the requirements? For now we are on Android only, but in the future we plan to expand to iOS as well.","title":"How to prevent an app from going to sleep using Gluon Mobile?","body":"<p>We are writing something similar to a navigation app, which can be either visual-based or sound-based. We are hitting a problem where the phone will enter sleep mode (might not be the correct technical term) after a while during the runtime of the application if the screen is not interacted with, causing it to both blank the screen and interrupt the <code>LocationService</code> of Attach.</p>\n<p>Reproduction is simple: create any Gluon Mobile application, like the started demo one, open it and wait. The phone will enter sleep mode.</p>\n<p>We would like to do the following:</p>\n<ol>\n<li>When visual mode is on, keep the screen lit and keep sending location updates without letting the phone stop these via some power saving mode / sleep. Some applications to this, like Google Maps, so this is not a special requirement.</li>\n<li>When only sound mode is on, the phone can turn off the screen to save on battery, but we still need the application running with location updates and the ability to give sound notification to the user.</li>\n</ol>\n<p>I've looked into the <code>LifecycleService</code> and the <code>BatteryService</code> in Attach, but there is no functionality that matches what we need. Lifecycle allows to listen to changes in the lifecycle of the application, but not modify them (except for shutting down).</p>\n<p>How can we fulfill the requirements? For now we are on Android only, but in the future we plan to expand to iOS as well.</p>\n"},{"tags":["java","annotations"],"owner":{"account_id":3753631,"reputation":2325,"user_id":3120564,"accept_rate":80,"display_name":"Jaumzera"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681178068,"creation_date":1681175905,"question_id":75981778,"body_markdown":"I&#39;d like to do something like the following:\r\n\r\n```java\r\n@Target(ElementType.METHOD)\r\n@Retention(RetentionPolicy.RUNTIME)@Test\r\n@Tag(&quot;&quot;)\r\n@DisplayName(&quot;&quot;)\r\npublic @interface TaggedTest {\r\n   // ...\r\n}\r\n```\r\n\r\nAnd use that annotation like the following:\r\n\r\n```java\r\n@TaggedTest(tag=&quot;unitTest&quot;, displayName=&quot;A custom display name&quot;)\r\npublic void myMethod() {\r\n   // some code\r\n}\r\n```\r\n\r\nI know that&#39;s possible when you are using SpringBoot annotations. But how to get the same using any kind of other annotations, like JUnit, JPA or whatever?","title":"Compound annotation for Junit 5","body":"<p>I'd like to do something like the following:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Target(ElementType.METHOD)\n@Retention(RetentionPolicy.RUNTIME)@Test\n@Tag(&quot;&quot;)\n@DisplayName(&quot;&quot;)\npublic @interface TaggedTest {\n   // ...\n}\n</code></pre>\n<p>And use that annotation like the following:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@TaggedTest(tag=&quot;unitTest&quot;, displayName=&quot;A custom display name&quot;)\npublic void myMethod() {\n   // some code\n}\n</code></pre>\n<p>I know that's possible when you are using SpringBoot annotations. But how to get the same using any kind of other annotations, like JUnit, JPA or whatever?</p>\n"},{"tags":["java","arrays","json"],"comments":[{"owner":{"account_id":187056,"reputation":4353,"user_id":424830,"accept_rate":16,"display_name":"Shriram"},"score":0,"creation_date":1446998734,"post_id":33595941,"comment_id":54966946,"body_markdown":"possible this link can help http://stackoverflow.com/questions/4307118/jsonarray-to-hashmap","body":"possible this link can help <a href=\"http://stackoverflow.com/questions/4307118/jsonarray-to-hashmap\">stackoverflow.com/questions/4307118/jsonarray-to-hashmap</a>"},{"owner":{"account_id":1925003,"reputation":393,"user_id":1735676,"accept_rate":23,"display_name":"Zoef"},"score":0,"creation_date":1446999470,"post_id":33595941,"comment_id":54967200,"body_markdown":"no sorry, already tried that one, some methods don&#39;t seem to work with that example","body":"no sorry, already tried that one, some methods don&#39;t seem to work with that example"},{"owner":{"account_id":5599853,"reputation":2535,"user_id":4436434,"display_name":"BrunoLevy"},"score":0,"creation_date":1447001122,"post_id":33595941,"comment_id":54967777,"body_markdown":"what did you try and what was the result ?","body":"what did you try and what was the result ?"},{"owner":{"account_id":1925003,"reputation":393,"user_id":1735676,"accept_rate":23,"display_name":"Zoef"},"score":0,"creation_date":1447149200,"post_id":33595941,"comment_id":55027980,"body_markdown":"I tried the code from the link you gave me. But &quot;JSONObject&quot; and &quot;optJSONObject&quot; couldn&#39;t be resolved, maybe because I use javax.json libraries and that guy uses another library?","body":"I tried the code from the link you gave me. But &quot;JSONObject&quot; and &quot;optJSONObject&quot; couldn&#39;t be resolved, maybe because I use javax.json libraries and that guy uses another library?"}],"answers":[{"tags":[],"owner":{"account_id":1925003,"reputation":393,"user_id":1735676,"accept_rate":23,"display_name":"Zoef"},"down_vote_count":1,"up_vote_count":9,"is_accepted":false,"score":8,"last_activity_date":1501455252,"creation_date":1447150357,"answer_id":33627560,"question_id":33595941,"body_markdown":"This fixed it for me:\r\n\r\n    JsonArray jsoncargo = jsonObject.getJsonArray(&quot;cargo&quot;);\r\n\r\n    Map&lt;String, Integer&gt; cargo = new HashMap&lt;&gt;();\r\n    for (int i = 0; i &lt; jsoncargo.size(); i++) {            \r\n        String type = jsoncargo.getJsonObject(i).getString(&quot;type&quot;);\r\n        Integer amount = jsoncargo.getJsonObject(i).getInt(&quot;amount&quot;);\r\n        cargo.put(type, amount);\r\n    }","title":"How to convert JsonArray to Hashmap","body":"<p>This fixed it for me:</p>\n\n<pre><code>JsonArray jsoncargo = jsonObject.getJsonArray(\"cargo\");\n\nMap&lt;String, Integer&gt; cargo = new HashMap&lt;&gt;();\nfor (int i = 0; i &lt; jsoncargo.size(); i++) {            \n    String type = jsoncargo.getJsonObject(i).getString(\"type\");\n    Integer amount = jsoncargo.getJsonObject(i).getInt(\"amount\");\n    cargo.put(type, amount);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2751906,"reputation":429,"user_id":2538853,"display_name":"Satya"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1584026197,"creation_date":1584007701,"answer_id":60651768,"question_id":33595941,"body_markdown":"Try creating a new HashMap, and loop through the JSONArray, adding each element to the hashmap.\r\n\r\n    JSONArray allCargo = jsonObject.getJsonArray(&quot;cargo&quot;);\r\n\r\n    HashMap&lt;String, String&gt; hm = new HashMap();\r\n\r\n    for(Object cargo : allCargo) {\r\n        LinkedHashMap lhm = (LinkedHashMap) cargo;\r\n        hm.put((String)lhm.get(&quot;type&quot;), (String)lhm.get(&quot;amount&quot;));\r\n    }","title":"How to convert JsonArray to Hashmap","body":"<p>Try creating a new HashMap, and loop through the JSONArray, adding each element to the hashmap.</p>\n\n<pre><code>JSONArray allCargo = jsonObject.getJsonArray(\"cargo\");\n\nHashMap&lt;String, String&gt; hm = new HashMap();\n\nfor(Object cargo : allCargo) {\n    LinkedHashMap lhm = (LinkedHashMap) cargo;\n    hm.put((String)lhm.get(\"type\"), (String)lhm.get(\"amount\"));\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4949663,"reputation":542,"user_id":3984055,"display_name":"Catalin Ciolocoiu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648116124,"creation_date":1648114130,"answer_id":71599920,"question_id":33595941,"body_markdown":"I&#39;ve been able to solve this using the [Google GSON][1] \r\n\r\n\r\n  [1]: https://github.com/google/gson\r\n\r\n        Map&lt;String, Integer&gt; cargoMap = new HashMap&lt;&gt;();\r\n\r\n        JsonObject jsonObject = new Gson().fromJson(yourJsonString, JsonObject.class);\r\n        JsonArray cargo = jsonObject.getAsJsonArray(&quot;cargo&quot;);\r\n        cargo.forEach(item -&gt;\r\n        {\r\n            String type = item.getAsJsonObject().get(&quot;type&quot;).getAsString();\r\n            int amount = item.getAsJsonObject().get(&quot;amount&quot;).getAsInt();\r\n            if (StringUtils.isNotBlank(type) || amount != 0) {\r\n                cargoMap.put(type, amount);\r\n            }\r\n        });\r\n\r\nWhere &quot;yourJsonString&quot; is the whole json that contains  the cargo json array.","title":"How to convert JsonArray to Hashmap","body":"<p>I've been able to solve this using the <a href=\"https://github.com/google/gson\" rel=\"nofollow noreferrer\">Google GSON</a></p>\n<pre><code>    Map&lt;String, Integer&gt; cargoMap = new HashMap&lt;&gt;();\n\n    JsonObject jsonObject = new Gson().fromJson(yourJsonString, JsonObject.class);\n    JsonArray cargo = jsonObject.getAsJsonArray(&quot;cargo&quot;);\n    cargo.forEach(item -&gt;\n    {\n        String type = item.getAsJsonObject().get(&quot;type&quot;).getAsString();\n        int amount = item.getAsJsonObject().get(&quot;amount&quot;).getAsInt();\n        if (StringUtils.isNotBlank(type) || amount != 0) {\n            cargoMap.put(type, amount);\n        }\n    });\n</code></pre>\n<p>Where &quot;yourJsonString&quot; is the whole json that contains  the cargo json array.</p>\n"},{"tags":[],"owner":{"account_id":9973297,"reputation":271,"user_id":7378704,"display_name":"Stelan Briyan Simonsz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681177647,"creation_date":1681177647,"answer_id":75981861,"question_id":33595941,"body_markdown":"If the JSON is\r\n\r\n        [\r\n            {\r\n                &quot;key&quot;: &quot;customerRefNo&quot;,\r\n                &quot;value&quot;: &quot;A&quot;\r\n            }\r\n        ]\r\n       \r\n\r\n     Map&lt;String, String&gt; map = new HashMap&lt;&gt;();\r\n            params.forEach(e -&gt; map.put(e.get(&quot;key&quot;).asText(), e.get(&quot;value&quot;).asText()));","title":"How to convert JsonArray to Hashmap","body":"<p>If the JSON is</p>\n<pre><code>    [\n        {\n            &quot;key&quot;: &quot;customerRefNo&quot;,\n            &quot;value&quot;: &quot;A&quot;\n        }\n    ]\n   \n\n Map&lt;String, String&gt; map = new HashMap&lt;&gt;();\n        params.forEach(e -&gt; map.put(e.get(&quot;key&quot;).asText(), e.get(&quot;value&quot;).asText()));\n</code></pre>\n"}],"owner":{"account_id":1925003,"reputation":393,"user_id":1735676,"accept_rate":23,"display_name":"Zoef"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":47706,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"answer_count":4,"score":11,"last_activity_date":1681177647,"creation_date":1446998630,"question_id":33595941,"body_markdown":"I&#39;ve been able to get a jsonarray from a json string, but don&#39;t know how to put it in a Hashmap with a String that shows the type of cargo and an Integer showing the amount.\r\n\r\nThe string:\r\n\r\n    &quot;cargo&quot;:[\t\r\n\t\t{&quot;type&quot;:&quot;Coals&quot;,&quot;amount&quot;:75309},\t\t\r\n\t\t{&quot;type&quot;:&quot;Chemicals&quot;,&quot;amount&quot;:54454},\t\t\r\n\t\t{&quot;type&quot;:&quot;Food&quot;,&quot;amount&quot;:31659},\t\t\r\n\t\t{&quot;type&quot;:&quot;Oil&quot;,&quot;amount&quot;:18378}\r\n\t]","title":"How to convert JsonArray to Hashmap","body":"<p>I've been able to get a jsonarray from a json string, but don't know how to put it in a Hashmap with a String that shows the type of cargo and an Integer showing the amount.</p>\n\n<p>The string:</p>\n\n<pre><code>\"cargo\":[   \n    {\"type\":\"Coals\",\"amount\":75309},        \n    {\"type\":\"Chemicals\",\"amount\":54454},        \n    {\"type\":\"Food\",\"amount\":31659},     \n    {\"type\":\"Oil\",\"amount\":18378}\n]\n</code></pre>\n"},{"tags":["java","sockets","multiplayer"],"comments":[{"owner":{"account_id":2132213,"reputation":11287,"user_id":1892802,"accept_rate":100,"display_name":"ug_"},"score":1,"creation_date":1428602474,"post_id":29545597,"comment_id":47242916,"body_markdown":"The question is a bit broad and open ended for StackOverflow. Many good examples of using `Socket` and `ServerSocket` can be found online. A quick search turned up what looks to be a good example http://kodejava.org/how-do-i-create-a-client-server-socket-communication/","body":"The question is a bit broad and open ended for StackOverflow. Many good examples of using <code>Socket</code> and <code>ServerSocket</code> can be found online. A quick search turned up what looks to be a good example <a href=\"http://kodejava.org/how-do-i-create-a-client-server-socket-communication/\" rel=\"nofollow noreferrer\">kodejava.org/&hellip;</a>"},{"owner":{"account_id":6086111,"reputation":33,"user_id":4750101,"display_name":"Richard H."},"score":0,"creation_date":1428603530,"post_id":29545597,"comment_id":47243525,"body_markdown":"I mean somtehing like that: Player create a game, waiting for other players. And now I don&#39;t know how to do that the othe players can join to that game. If I must save the IP of player and on that IP the others will be connected or...I don&#39;t know. I realy have no idea how can I do that","body":"I mean somtehing like that: Player create a game, waiting for other players. And now I don&#39;t know how to do that the othe players can join to that game. If I must save the IP of player and on that IP the others will be connected or...I don&#39;t know. I realy have no idea how can I do that"},{"owner":{"account_id":2132213,"reputation":11287,"user_id":1892802,"accept_rate":100,"display_name":"ug_"},"score":0,"creation_date":1428605109,"post_id":29545597,"comment_id":47244444,"body_markdown":"I think the saying goes &quot;You must learn to crawl before you can walk&quot;. Start with something small, build on it. Your first attempt wont be perfect it may not even be good. Learn from it and build on it. Sockets and network connections are intermediate topics at best.","body":"I think the saying goes &quot;You must learn to crawl before you can walk&quot;. Start with something small, build on it. Your first attempt wont be perfect it may not even be good. Learn from it and build on it. Sockets and network connections are intermediate topics at best."}],"answers":[{"tags":[],"owner":{"account_id":916980,"reputation":8820,"user_id":2580516,"display_name":"Warren Dew"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1428690615,"creation_date":1428690615,"answer_id":29568400,"question_id":29545597,"body_markdown":"Here is one way to handle it.  When a player wants to create a game, his copy of the application should open a ServerSocket on a known port - a port number that the application knows - and maybe display to the player the IP address that the socket was opened on.\r\n\r\nThen when another player wants to join a game, she should enter that same IP address and her copy of the application should connect using a regular client Socket, the IP address entered, and the known port that the application knows.\r\n\r\nCheck the Socket and ServerSocket javadoc for details.","title":"Multiplayer game in Java. Connect client (player) to game that was created by other client","body":"<p>Here is one way to handle it.  When a player wants to create a game, his copy of the application should open a ServerSocket on a known port - a port number that the application knows - and maybe display to the player the IP address that the socket was opened on.</p>\n\n<p>Then when another player wants to join a game, she should enter that same IP address and her copy of the application should connect using a regular client Socket, the IP address entered, and the known port that the application knows.</p>\n\n<p>Check the Socket and ServerSocket javadoc for details.</p>\n"},{"tags":[],"owner":{"display_name":"user4718768"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1681177578,"creation_date":1434212583,"answer_id":30820890,"question_id":29545597,"body_markdown":"Another client cannot be connected to the Client A because of his firewall.\r\n\r\nYou can create two majors kinds of network:\r\n\r\n - Server-Client\r\n\r\n - Peer-to-Peer\r\n\r\nBut a client can save some data to the server and the server can send them to all the clients (you don&#39;t need a Peer-to-Peer network for allow the Client B to send some data to the Client A).\r\n\r\nExample: The Client B send his map position to the server, the server send the data to all the clients, so the Client A is able to draw a character tileset at the position of the Client B.\r\n\r\nFor connect two PCs together, you need to forward a port from the modem of your server to the PC used as server, and open the port from the firewall of the PC used as server.\r\n\r\nYou can also take a look here [https://stackoverflow.com/questions/30227722/creating-a-multiplayer-game-in-python/30228185#30228185][1], I give an example where the clients was able to connect them together with IRC and play at a Tic-Tac-Toe game (so you didn&#39;t have to manage a server). I have add an example in Java at the end of this post.\r\n\r\n**A simple server example:**\r\n\t\r\n\timport java.io.BufferedReader;\r\n\timport java.io.BufferedWriter;\r\n\timport java.io.InputStreamReader;\r\n\timport java.io.OutputStreamWriter;\r\n\timport java.net.ServerSocket;\r\n\timport java.net.Socket;\r\n\timport java.util.Date;\r\n\t\r\n\t\r\n\tpublic class Server\r\n\t{\r\n\t\tpublic static void main(String[] args) throws Exception\r\n\t\t{\r\n\t\t\tServerSocket listener = new ServerSocket(4000);\r\n\t\t\tString line;\r\n\t        try\r\n\t        {\r\n\t            while (true)\r\n\t            {\r\n\t                Socket socket = listener.accept();\r\n\t        \t\tBufferedReader readerChannel = new BufferedReader(new InputStreamReader(socket.getInputStream()));\r\n\t        \t    BufferedWriter writerChannel = new BufferedWriter(new OutputStreamWriter(socket.getOutputStream()));\r\n\t                try\r\n\t                {\r\n\t        \t\t\twriterChannel.write(new Date().toString() + &quot;\\n\\r&quot;);\r\n\t        \t\t\twriterChannel.flush();\r\n\r\n\t                    while ((line = readerChannel.readLine()) != null)\r\n\t        \t\t\t{\r\n\t                    \tSystem.out.println(line);\r\n\t        \t\t\t}\r\n\t                }\r\n\t                finally\r\n\t                {\r\n\t                    socket.close();\r\n\t                }\r\n\t            }\r\n\t        }\r\n\t        finally\r\n\t        {\r\n\t            listener.close();\r\n\t        }\r\n\t\t}\r\n\t}\r\n\r\n**A simple client example:**\r\n\r\n\timport java.io.BufferedReader;\r\n\timport java.io.BufferedWriter;\r\n\timport java.io.InputStreamReader;\r\n\timport java.io.OutputStreamWriter;\r\n\timport java.net.Socket;\r\n    import java.util.Date;\r\n\t\r\n\t\r\n\tpublic class Client\r\n\t{\r\n\t\tpublic static void main(String[] args) throws Exception\r\n\t\t{\r\n\t\t\tSocket socket = new Socket(&quot;127.0.0.1&quot;, 4000);\r\n\t\t\tBufferedWriter writerChannel = new BufferedWriter(new OutputStreamWriter(socket.getOutputStream()));\r\n\t\t\tBufferedReader readerChannel = new BufferedReader(new InputStreamReader(socket.getInputStream()));\r\n\t\t\tString line;\r\n\t\t\t\r\n\t\t\twriterChannel.write(new Date().toString() + &quot;\\n\\r&quot;);\r\n\t\t\twriterChannel.flush();\r\n\t\t\t\r\n\t\t\twhile ((line = readerChannel.readLine()) != null)\r\n\t\t\t{\r\n\t        \tSystem.out.println(line);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n**Also take a look at:**\r\n\r\n\timport javax.net.ssl.SSLSocket;\r\n\timport javax.net.ssl.SSLSocketFactory;\r\n\t\r\n\t\r\n\tpublic class Client\r\n\t{\r\n\t\tpublic static void main(String[] args) throws Exception\r\n\t\t{\r\n\t\t\tSSLSocketFactory socketBuilder = (SSLSocketFactory) SSLSocketFactory.getDefault();\r\n\t\t\tSSLSocket socket = (SSLSocket) socketBuilder.createSocket(&quot;127.0.0.1&quot;, 4000);\r\n\t\t}\r\n\t}\r\n\r\n**A simple IRC example:**\r\n\r\n\timport java.io.BufferedReader;\r\n\timport java.io.BufferedWriter;\r\n\timport java.io.InputStreamReader;\r\n\timport java.io.OutputStreamWriter;\r\n\timport javax.net.ssl.SSLSocket;\r\n\timport javax.net.ssl.SSLSocketFactory;\r\n\t\r\n\t\r\n\tpublic class Client\r\n\t{\r\n\t\tpublic static void main(String[] args) throws Exception\r\n\t\t{\r\n\t\t\tSSLSocketFactory socketBuilder = (SSLSocketFactory) SSLSocketFactory.getDefault();\r\n\t        SSLSocket socket = (SSLSocket) socketBuilder.createSocket(&quot;irc.freenode.net&quot;, 6697);\r\n\t\t\tBufferedWriter writerChannel = new BufferedWriter(new OutputStreamWriter(socket.getOutputStream()));\r\n\t\t\tBufferedReader readerChannel = new BufferedReader(new InputStreamReader(socket.getInputStream()));\r\n\t\t\t\r\n\t\t\tString line, computerName, nick, login, channel = &quot;#bot&quot;, channelPassword = &quot;&quot;;\r\n\t\t\tlong id = 1;\r\n\t\t\t\r\n\t\t\tcomputerName = java.net.InetAddress.getLocalHost().getHostName();\r\n\t\t\tnick = computerName + &quot;_&quot; + id;\r\n\t\t\tlogin = computerName + &quot;_&quot; + id;\r\n\t\t\twriterChannel.write(&quot;NICK &quot; + nick + &quot;\\r\\n&quot;); // Join IRC with a specific Nick\r\n\t\t\twriterChannel.write(&quot;USER &quot; + login + &quot; 8 * :&quot; + login + &quot; \\r\\n&quot;); // Join IRC with a specific User\r\n\t\t\twriterChannel.flush();\r\n\t\t\t\r\n\t\t\twhile ((line = readerChannel.readLine()) != null)\r\n\t\t\t{\r\n\t\t\t\tif (line.indexOf(&quot;004&quot;) != -1) // If connected\r\n\t\t\t\t{\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t\telse if (line.indexOf(&quot;433&quot;) != -1) // If Nick already in use\r\n\t\t\t\t{\r\n\t\t\t\t\tid++;\r\n\t\t\t\t\tnick = computerName + &quot;_&quot; + id;\r\n\t\t\t\t\tlogin = computerName + &quot;_&quot; + id;\r\n\t\t\t\t\twriterChannel.write(&quot;NICK &quot; + nick + &quot;\\r\\n&quot;);\r\n\t\t\t\t\twriterChannel.write(&quot;USER &quot; + login + &quot; 8 * :&quot; + login + &quot; \\r\\n&quot;);\r\n\t\t\t\t\twriterChannel.flush();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\twriterChannel.write(&quot;JOIN &quot; + channel + &quot; &quot; + channelPassword + &quot;\\r\\n&quot;); // Join a channel\r\n\t\t\twriterChannel.flush();\r\n\t\t\t\r\n\t\t\twhile ((line = readerChannel.readLine()) != null)\r\n\t\t\t{\r\n\t\t\t\ttry\r\n\t\t\t\t{\r\n\t\t\t\t\tline = line.substring(line.indexOf(&quot;#&quot;));\r\n\t\t\t\t\tchannel = line.substring(0, line.indexOf(&quot; &quot;));\r\n\t\t\t\t\t\r\n\t\t\t\t\tif (line.toLowerCase().startsWith(&quot;ping&quot;)) // avoid ping time-out\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\twriterChannel.write(&quot;PONG :&quot; + line.substring(5) + &quot;\\r\\n&quot;);\r\n\t\t\t\t\t\twriterChannel.flush();\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse if (line.toLowerCase().contains(&quot;!ping&quot;))\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\twriterChannel.write(&quot;PRIVMSG &quot; + channel + &quot; :pong\\r\\n&quot;);\r\n\t\t\t\t\t\twriterChannel.flush();\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse if (line.toLowerCase().contains(&quot;!join&quot;))\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tString newChannel = line.substring(line.indexOf(&quot;!join&quot;) + 6);\r\n\t\t\t\t\t\tint stringPosition;\r\n\t\t\t\t\t\tif ((stringPosition = newChannel.indexOf(&quot; &quot;)) != -1)\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tString newPassword = newChannel.substring(stringPosition + 1);\r\n\t\t\t\t\t\t\tnewChannel = newChannel.substring(0, stringPosition);\r\n\t\t\t\t\t\t\twriterChannel.write(&quot;JOIN &quot; + newChannel + &quot; &quot; + newPassword + &quot;\\r\\n&quot;);\r\n\t\t\t\t\t\t\twriterChannel.flush();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\telse\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\twriterChannel.write(&quot;JOIN &quot; + newChannel + &quot;\\r\\n&quot;);\r\n\t\t\t\t\t\t\twriterChannel.flush();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse if (line.toLowerCase().contains(&quot;!leave&quot;))\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\twriterChannel.write(&quot;PART &quot; + channel + &quot;\\r\\n&quot;);\r\n\t\t\t\t\t\twriterChannel.flush();\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse if (line.toLowerCase().contains(&quot;!quit&quot;))\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\twriterChannel.write(&quot;QUIT\\r\\n&quot;);\r\n\t\t\t            writerChannel.flush();\r\n\t\t\t            System.exit(0);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tcatch (Exception e)\r\n\t\t\t\t{\r\n\t\t\t\t\te.printStackTrace();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\r\nI cannot give you an example for a Peer-to-Peer network because I have never do it. This is really difficult and you have to do a lot of research on internet.\r\n\r\n**More informations:**\r\n\r\n - [https://docs.oracle.com/javase/7/docs/api/java/net/Socket.html][2]\r\n\r\n - [https://docs.oracle.com/javase/tutorial/networking/sockets/][3]\r\n\r\n - [http://www.oracle.com/technetwork/java/socket-140484.html][4]\r\n\r\n - You need a multithreaded server for handle many different connections.\r\n\r\n*Hint - I have already answer at some similar questions. Even if the programming language are sometime different, I give you the link, the logic is always the same so it can maybe help you:*\r\n\r\n - [https://stackoverflow.com/questions/30227722/creating-a-multiplayer-game-in-python/30228185#30228185][5]\r\n\r\n - [https://stackoverflow.com/questions/30564281/xcode-mass-multiplayer-not-what-youre-probably-thinking/30818450#30818450][6]\r\n\r\n - [https://stackoverflow.com/questions/29325034/how-would-an-mmo-deal-with-calculating-and-sending-packets-for-thousands-of-play/30826823#30826823][7]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/30227722/creating-a-multiplayer-game-in-python/30228185#30228185\r\n  [2]: https://docs.oracle.com/javase/7/docs/api/java/net/Socket.html\r\n  [3]: https://docs.oracle.com/javase/tutorial/networking/sockets/\r\n  [4]: http://www.oracle.com/technetwork/java/socket-140484.html\r\n  [5]: https://stackoverflow.com/questions/30227722/creating-a-multiplayer-game-in-python/30228185#30228185\r\n  [6]: https://stackoverflow.com/questions/30564281/xcode-mass-multiplayer-not-what-youre-probably-thinking/30818450#30818450\r\n  [7]: https://stackoverflow.com/questions/29325034/how-would-an-mmo-deal-with-calculating-and-sending-packets-for-thousands-of-play/30826823#30826823","title":"Multiplayer game in Java. Connect client (player) to game that was created by other client","body":"<p>Another client cannot be connected to the Client A because of his firewall.</p>\n<p>You can create two majors kinds of network:</p>\n<ul>\n<li><p>Server-Client</p>\n</li>\n<li><p>Peer-to-Peer</p>\n</li>\n</ul>\n<p>But a client can save some data to the server and the server can send them to all the clients (you don't need a Peer-to-Peer network for allow the Client B to send some data to the Client A).</p>\n<p>Example: The Client B send his map position to the server, the server send the data to all the clients, so the Client A is able to draw a character tileset at the position of the Client B.</p>\n<p>For connect two PCs together, you need to forward a port from the modem of your server to the PC used as server, and open the port from the firewall of the PC used as server.</p>\n<p>You can also take a look here <a href=\"https://stackoverflow.com/questions/30227722/creating-a-multiplayer-game-in-python/30228185#30228185\">https://stackoverflow.com/questions/30227722/creating-a-multiplayer-game-in-python/30228185#30228185</a>, I give an example where the clients was able to connect them together with IRC and play at a Tic-Tac-Toe game (so you didn't have to manage a server). I have add an example in Java at the end of this post.</p>\n<p><strong>A simple server example:</strong></p>\n<pre><code>import java.io.BufferedReader;\nimport java.io.BufferedWriter;\nimport java.io.InputStreamReader;\nimport java.io.OutputStreamWriter;\nimport java.net.ServerSocket;\nimport java.net.Socket;\nimport java.util.Date;\n\n\npublic class Server\n{\n    public static void main(String[] args) throws Exception\n    {\n        ServerSocket listener = new ServerSocket(4000);\n        String line;\n        try\n        {\n            while (true)\n            {\n                Socket socket = listener.accept();\n                BufferedReader readerChannel = new BufferedReader(new InputStreamReader(socket.getInputStream()));\n                BufferedWriter writerChannel = new BufferedWriter(new OutputStreamWriter(socket.getOutputStream()));\n                try\n                {\n                    writerChannel.write(new Date().toString() + &quot;\\n\\r&quot;);\n                    writerChannel.flush();\n\n                    while ((line = readerChannel.readLine()) != null)\n                    {\n                        System.out.println(line);\n                    }\n                }\n                finally\n                {\n                    socket.close();\n                }\n            }\n        }\n        finally\n        {\n            listener.close();\n        }\n    }\n}\n</code></pre>\n<p><strong>A simple client example:</strong></p>\n<pre><code>import java.io.BufferedReader;\nimport java.io.BufferedWriter;\nimport java.io.InputStreamReader;\nimport java.io.OutputStreamWriter;\nimport java.net.Socket;\nimport java.util.Date;\n\n\npublic class Client\n{\n    public static void main(String[] args) throws Exception\n    {\n        Socket socket = new Socket(&quot;127.0.0.1&quot;, 4000);\n        BufferedWriter writerChannel = new BufferedWriter(new OutputStreamWriter(socket.getOutputStream()));\n        BufferedReader readerChannel = new BufferedReader(new InputStreamReader(socket.getInputStream()));\n        String line;\n        \n        writerChannel.write(new Date().toString() + &quot;\\n\\r&quot;);\n        writerChannel.flush();\n        \n        while ((line = readerChannel.readLine()) != null)\n        {\n            System.out.println(line);\n        }\n    }\n}\n</code></pre>\n<p><strong>Also take a look at:</strong></p>\n<pre><code>import javax.net.ssl.SSLSocket;\nimport javax.net.ssl.SSLSocketFactory;\n\n\npublic class Client\n{\n    public static void main(String[] args) throws Exception\n    {\n        SSLSocketFactory socketBuilder = (SSLSocketFactory) SSLSocketFactory.getDefault();\n        SSLSocket socket = (SSLSocket) socketBuilder.createSocket(&quot;127.0.0.1&quot;, 4000);\n    }\n}\n</code></pre>\n<p><strong>A simple IRC example:</strong></p>\n<pre><code>import java.io.BufferedReader;\nimport java.io.BufferedWriter;\nimport java.io.InputStreamReader;\nimport java.io.OutputStreamWriter;\nimport javax.net.ssl.SSLSocket;\nimport javax.net.ssl.SSLSocketFactory;\n\n\npublic class Client\n{\n    public static void main(String[] args) throws Exception\n    {\n        SSLSocketFactory socketBuilder = (SSLSocketFactory) SSLSocketFactory.getDefault();\n        SSLSocket socket = (SSLSocket) socketBuilder.createSocket(&quot;irc.freenode.net&quot;, 6697);\n        BufferedWriter writerChannel = new BufferedWriter(new OutputStreamWriter(socket.getOutputStream()));\n        BufferedReader readerChannel = new BufferedReader(new InputStreamReader(socket.getInputStream()));\n        \n        String line, computerName, nick, login, channel = &quot;#bot&quot;, channelPassword = &quot;&quot;;\n        long id = 1;\n        \n        computerName = java.net.InetAddress.getLocalHost().getHostName();\n        nick = computerName + &quot;_&quot; + id;\n        login = computerName + &quot;_&quot; + id;\n        writerChannel.write(&quot;NICK &quot; + nick + &quot;\\r\\n&quot;); // Join IRC with a specific Nick\n        writerChannel.write(&quot;USER &quot; + login + &quot; 8 * :&quot; + login + &quot; \\r\\n&quot;); // Join IRC with a specific User\n        writerChannel.flush();\n        \n        while ((line = readerChannel.readLine()) != null)\n        {\n            if (line.indexOf(&quot;004&quot;) != -1) // If connected\n            {\n                break;\n            }\n            else if (line.indexOf(&quot;433&quot;) != -1) // If Nick already in use\n            {\n                id++;\n                nick = computerName + &quot;_&quot; + id;\n                login = computerName + &quot;_&quot; + id;\n                writerChannel.write(&quot;NICK &quot; + nick + &quot;\\r\\n&quot;);\n                writerChannel.write(&quot;USER &quot; + login + &quot; 8 * :&quot; + login + &quot; \\r\\n&quot;);\n                writerChannel.flush();\n            }\n        }\n        \n        writerChannel.write(&quot;JOIN &quot; + channel + &quot; &quot; + channelPassword + &quot;\\r\\n&quot;); // Join a channel\n        writerChannel.flush();\n        \n        while ((line = readerChannel.readLine()) != null)\n        {\n            try\n            {\n                line = line.substring(line.indexOf(&quot;#&quot;));\n                channel = line.substring(0, line.indexOf(&quot; &quot;));\n                \n                if (line.toLowerCase().startsWith(&quot;ping&quot;)) // avoid ping time-out\n                {\n                    writerChannel.write(&quot;PONG :&quot; + line.substring(5) + &quot;\\r\\n&quot;);\n                    writerChannel.flush();\n                }\n                else if (line.toLowerCase().contains(&quot;!ping&quot;))\n                {\n                    writerChannel.write(&quot;PRIVMSG &quot; + channel + &quot; :pong\\r\\n&quot;);\n                    writerChannel.flush();\n                }\n                else if (line.toLowerCase().contains(&quot;!join&quot;))\n                {\n                    String newChannel = line.substring(line.indexOf(&quot;!join&quot;) + 6);\n                    int stringPosition;\n                    if ((stringPosition = newChannel.indexOf(&quot; &quot;)) != -1)\n                    {\n                        String newPassword = newChannel.substring(stringPosition + 1);\n                        newChannel = newChannel.substring(0, stringPosition);\n                        writerChannel.write(&quot;JOIN &quot; + newChannel + &quot; &quot; + newPassword + &quot;\\r\\n&quot;);\n                        writerChannel.flush();\n                    }\n                    else\n                    {\n                        writerChannel.write(&quot;JOIN &quot; + newChannel + &quot;\\r\\n&quot;);\n                        writerChannel.flush();\n                    }\n                }\n                else if (line.toLowerCase().contains(&quot;!leave&quot;))\n                {\n                    writerChannel.write(&quot;PART &quot; + channel + &quot;\\r\\n&quot;);\n                    writerChannel.flush();\n                }\n                else if (line.toLowerCase().contains(&quot;!quit&quot;))\n                {\n                    writerChannel.write(&quot;QUIT\\r\\n&quot;);\n                    writerChannel.flush();\n                    System.exit(0);\n                }\n            }\n            catch (Exception e)\n            {\n                e.printStackTrace();\n            }\n        }\n    }\n}\n</code></pre>\n<p>I cannot give you an example for a Peer-to-Peer network because I have never do it. This is really difficult and you have to do a lot of research on internet.</p>\n<p><strong>More informations:</strong></p>\n<ul>\n<li><p><a href=\"https://docs.oracle.com/javase/7/docs/api/java/net/Socket.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/7/docs/api/java/net/Socket.html</a></p>\n</li>\n<li><p><a href=\"https://docs.oracle.com/javase/tutorial/networking/sockets/\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/tutorial/networking/sockets/</a></p>\n</li>\n<li><p><a href=\"http://www.oracle.com/technetwork/java/socket-140484.html\" rel=\"nofollow noreferrer\">http://www.oracle.com/technetwork/java/socket-140484.html</a></p>\n</li>\n<li><p>You need a multithreaded server for handle many different connections.</p>\n</li>\n</ul>\n<p><em>Hint - I have already answer at some similar questions. Even if the programming language are sometime different, I give you the link, the logic is always the same so it can maybe help you:</em></p>\n<ul>\n<li><p><a href=\"https://stackoverflow.com/questions/30227722/creating-a-multiplayer-game-in-python/30228185#30228185\">https://stackoverflow.com/questions/30227722/creating-a-multiplayer-game-in-python/30228185#30228185</a></p>\n</li>\n<li><p><a href=\"https://stackoverflow.com/questions/30564281/xcode-mass-multiplayer-not-what-youre-probably-thinking/30818450#30818450\">Xcode Mass Multiplayer (Not What You&#39;re Probably Thinking)</a></p>\n</li>\n<li><p><a href=\"https://stackoverflow.com/questions/29325034/how-would-an-mmo-deal-with-calculating-and-sending-packets-for-thousands-of-play/30826823#30826823\">How would an MMO deal with calculating and sending packets for thousands of players every tick for a live action game?</a></p>\n</li>\n</ul>\n"}],"owner":{"account_id":6086111,"reputation":33,"user_id":4750101,"display_name":"Richard H."},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":23879,"favorite_count":0,"down_vote_count":2,"up_vote_count":3,"accepted_answer_id":30820890,"answer_count":2,"score":1,"last_activity_date":1681177578,"creation_date":1428601989,"question_id":29545597,"body_markdown":"I am working on multiplayer game and I cant to find out how can I connect other clients to the created game. I mean that client A create a socket connection to the server and how other clients (A,B...) can connect to the client A?\r\nCan somebody help me please?\r\n\r\nP.S. I&#39;m new with network programming, so if you can attach some example i would be very grateful.","title":"Multiplayer game in Java. Connect client (player) to game that was created by other client","body":"<p>I am working on multiplayer game and I cant to find out how can I connect other clients to the created game. I mean that client A create a socket connection to the server and how other clients (A,B...) can connect to the client A?\nCan somebody help me please?</p>\n\n<p>P.S. I'm new with network programming, so if you can attach some example i would be very grateful.</p>\n"},{"tags":["java","vert.x","vert.x-webclient"],"answers":[{"tags":[],"owner":{"account_id":18416403,"reputation":2172,"user_id":13415164,"display_name":"Sergey Afinogenov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680437710,"creation_date":1680437710,"answer_id":75911957,"question_id":75911704,"body_markdown":"I suppose this source Vert.x code describes wich types in this case is allowed:\r\n\r\n    static void checkType(Object obj) {\r\n    if (obj instanceof String ||\r\n        obj instanceof Integer ||\r\n        obj instanceof Long ||\r\n        obj instanceof Boolean ||\r\n        obj instanceof Double ||\r\n        obj instanceof Float ||\r\n        obj instanceof Short ||\r\n        obj instanceof Byte ||\r\n        obj instanceof Character ||\r\n        obj instanceof byte[] ||\r\n        obj instanceof Buffer ||\r\n        obj instanceof JsonObject ||\r\n        obj instanceof JsonArray ||\r\n        obj instanceof Shareable) {\r\n    } else {\r\n      throw new IllegalArgumentException(&quot;Invalid type for shareddata data structure: &quot; + obj.getClass().getName());\r\n     }\r\n    }","title":"Vert.x Shared Data - Share Data Between Threads in Vert.x","body":"<p>I suppose this source Vert.x code describes wich types in this case is allowed:</p>\n<pre><code>static void checkType(Object obj) {\nif (obj instanceof String ||\n    obj instanceof Integer ||\n    obj instanceof Long ||\n    obj instanceof Boolean ||\n    obj instanceof Double ||\n    obj instanceof Float ||\n    obj instanceof Short ||\n    obj instanceof Byte ||\n    obj instanceof Character ||\n    obj instanceof byte[] ||\n    obj instanceof Buffer ||\n    obj instanceof JsonObject ||\n    obj instanceof JsonArray ||\n    obj instanceof Shareable) {\n} else {\n  throw new IllegalArgumentException(&quot;Invalid type for shareddata data structure: &quot; + obj.getClass().getName());\n }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5191510,"reputation":1415,"user_id":4154302,"display_name":"Asad Awadia"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681177397,"creation_date":1681177397,"answer_id":75981850,"question_id":75911704,"body_markdown":"&gt;I want to carry forward this object to the other threads which we are calling using event bus.\r\n\r\nThere is no way to do this. \r\n\r\nThe best way is to put them in a ConcurrentHashMap with a transaction id - that gets passed over the eventbus\r\n\r\nBut the fact that the pieces of work that need to be in the same transaction are across eventbus handlers show that the distribution and partitioning was done incorrectly i.e. things that are to be done in a transaction should be kept together","title":"Vert.x Shared Data - Share Data Between Threads in Vert.x","body":"<blockquote>\n<p>I want to carry forward this object to the other threads which we are calling using event bus.</p>\n</blockquote>\n<p>There is no way to do this.</p>\n<p>The best way is to put them in a ConcurrentHashMap with a transaction id - that gets passed over the eventbus</p>\n<p>But the fact that the pieces of work that need to be in the same transaction are across eventbus handlers show that the distribution and partitioning was done incorrectly i.e. things that are to be done in a transaction should be kept together</p>\n"}],"owner":{"account_id":5078696,"reputation":1,"user_id":4075427,"display_name":"Sunil Kumar Mulla"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":229,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1681177397,"creation_date":1680434528,"question_id":75911704,"body_markdown":"I am using vertx version - **3.5.1**. \r\nI want to track my logs in **ELK**, For that I am using elastic.apm. \r\n\r\nI am initialising my `co.elastic.apm.api.Transaction` object in the beginning of the method. I want to carry forward this object to the other threads which we are calling using event bus. \r\n\r\nBelow is my code. \r\n```\r\nSharedData sharedData = vertx.sharedData();\r\nLocalMap&lt;String, co.elastic.apm.api.Transaction&gt; map1 = sharedData.getLocalMap(&quot;mymap1&quot;);\r\nmap1.put(&quot;transaction&quot;, transaction);\r\n```\r\nI am getting below exception. \r\n\r\n\r\n&gt; java.lang.IllegalArgumentException: Invalid type for shareddata data structure: co.elastic.apm.api.NoopTransaction\r\n\r\nI tried putting in `JsonObject` as well. But no luck.\r\n\r\n```\r\nSharedData sharedData = vertx.sharedData();\r\nLocalMap&lt;String, co.elastic.apm.api.Transaction&gt; map1 = sharedData.getLocalMap(&quot;mymap1&quot;);\r\nmap1.put(&quot;transaction&quot;, transaction);\r\n```","title":"Vert.x Shared Data - Share Data Between Threads in Vert.x","body":"<p>I am using vertx version - <strong>3.5.1</strong>.\nI want to track my logs in <strong>ELK</strong>, For that I am using elastic.apm.</p>\n<p>I am initialising my <code>co.elastic.apm.api.Transaction</code> object in the beginning of the method. I want to carry forward this object to the other threads which we are calling using event bus.</p>\n<p>Below is my code.</p>\n<pre><code>SharedData sharedData = vertx.sharedData();\nLocalMap&lt;String, co.elastic.apm.api.Transaction&gt; map1 = sharedData.getLocalMap(&quot;mymap1&quot;);\nmap1.put(&quot;transaction&quot;, transaction);\n</code></pre>\n<p>I am getting below exception.</p>\n<blockquote>\n<p>java.lang.IllegalArgumentException: Invalid type for shareddata data structure: co.elastic.apm.api.NoopTransaction</p>\n</blockquote>\n<p>I tried putting in <code>JsonObject</code> as well. But no luck.</p>\n<pre><code>SharedData sharedData = vertx.sharedData();\nLocalMap&lt;String, co.elastic.apm.api.Transaction&gt; map1 = sharedData.getLocalMap(&quot;mymap1&quot;);\nmap1.put(&quot;transaction&quot;, transaction);\n</code></pre>\n"},{"tags":["java","vert.x","vertx-verticle","vertx-eventbus"],"answers":[{"tags":[],"owner":{"account_id":5191510,"reputation":1415,"user_id":4154302,"display_name":"Asad Awadia"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681176874,"creation_date":1681176874,"answer_id":75981820,"question_id":75958756,"body_markdown":"&gt;Vert.x will deliver messages to any particular handler in the same order they were sent from any particular sender.\r\n\r\nThis is more than clear. If you send A,B,C then vertx will send them out in that order since it is purely passing it forward.\r\n\r\n&gt;What is meant by a handler or sender: verticle, context, particular callback or something else?\r\n\r\nHandler is the receiver which will get the message. Sender is the sender who is sending the message.\r\n\r\nIf the sender sent A, B, C then the handler will receive the messages in the same order  i.e. A,B, C - since vertx is purely forwarding the message\r\n\r\n&gt;Will all messages from sender verticle to subscription verticle be delivered in the same order no matter how many addresses were used for communication?\r\n\r\nYes - but do not misunderstand this as that ordering will be maintained across addresses - in the scope of a single address the messages will be in the same order","title":"What are Vert.x EventBus messages ordering guarantees?","body":"<blockquote>\n<p>Vert.x will deliver messages to any particular handler in the same order they were sent from any particular sender.</p>\n</blockquote>\n<p>This is more than clear. If you send A,B,C then vertx will send them out in that order since it is purely passing it forward.</p>\n<blockquote>\n<p>What is meant by a handler or sender: verticle, context, particular callback or something else?</p>\n</blockquote>\n<p>Handler is the receiver which will get the message. Sender is the sender who is sending the message.</p>\n<p>If the sender sent A, B, C then the handler will receive the messages in the same order  i.e. A,B, C - since vertx is purely forwarding the message</p>\n<blockquote>\n<p>Will all messages from sender verticle to subscription verticle be delivered in the same order no matter how many addresses were used for communication?</p>\n</blockquote>\n<p>Yes - but do not misunderstand this as that ordering will be maintained across addresses - in the scope of a single address the messages will be in the same order</p>\n"}],"owner":{"account_id":9376049,"reputation":3355,"user_id":7643517,"display_name":"Nolequen"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":108,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1681176874,"creation_date":1680873232,"question_id":75958756,"body_markdown":"[Documention says][1]:\r\n\r\n&gt; Vert.x will deliver messages to any particular handler in the same order they were sent from any particular sender.\r\n\r\nWhat is meant by a handler or sender: verticle, context, particular callback or something else?\r\n\r\nWill all messages from sender verticle to subscription verticle be delivered in the same order no matter how many addresses were used for communication?\r\n\r\n  [1]: https://vertx.io/docs/vertx-core/java/#_message_ordering","title":"What are Vert.x EventBus messages ordering guarantees?","body":"<p><a href=\"https://vertx.io/docs/vertx-core/java/#_message_ordering\" rel=\"nofollow noreferrer\">Documention says</a>:</p>\n<blockquote>\n<p>Vert.x will deliver messages to any particular handler in the same order they were sent from any particular sender.</p>\n</blockquote>\n<p>What is meant by a handler or sender: verticle, context, particular callback or something else?</p>\n<p>Will all messages from sender verticle to subscription verticle be delivered in the same order no matter how many addresses were used for communication?</p>\n"},{"tags":["java","android","xml"],"owner":{"account_id":26763036,"reputation":11,"user_id":20360662,"display_name":"Clorox Bleach"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681176835,"creation_date":1681176835,"question_id":75981818,"body_markdown":"I am trying to make a popup DialogFragment and added a drawable with rounded corners as a background but probably since the window size of the popup is a bit bigger it shows white edges.\r\n\r\nI will add that I also have a sign in Dialog popup which I was able to achieve the wanted result.\r\nThe Dialog class has the ability to use the following java code:\r\n\r\n`dialog.getWindow().setBackgroundDrawable(new ColorDrawable(Color.TRANSPARENT));`\r\n\r\nspecifically the getWindow() function doesn&#39;t exist in DialogFragment\r\n\r\nIs there an alternative to this for DialogFragments?\r\n\r\nHere is my xml code of the constraint Layout with the background of the fragment\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:id=&quot;@+id/con_post&quot;\r\n    android:minWidth=&quot;350dp&quot;\r\n    android:minHeight=&quot;550dp&quot;\r\n    android:layout_width=&quot;350dp&quot;\r\n    android:layout_height=&quot;550dp&quot;\r\n    android:layout_gravity=&quot;center&quot;\r\n    tools:context=&quot;.FragmentLogic.FragmentBlogPost&quot;\r\n    android:background=&quot;@drawable/sign_in_popup&quot;\r\n    android:padding=&quot;5dp&quot;&gt;\r\n```\r\n\r\n[Fragment with white edges I want to remove](https://i.stack.imgur.com/86SbU.png)\r\n\r\n[Sign in for example of what I want](https://i.stack.imgur.com/rBdEM.png)\r\n\r\nThanks a lot in advance","title":"Setting Background of Layout has white edges","body":"<p>I am trying to make a popup DialogFragment and added a drawable with rounded corners as a background but probably since the window size of the popup is a bit bigger it shows white edges.</p>\n<p>I will add that I also have a sign in Dialog popup which I was able to achieve the wanted result.\nThe Dialog class has the ability to use the following java code:</p>\n<p><code>dialog.getWindow().setBackgroundDrawable(new ColorDrawable(Color.TRANSPARENT));</code></p>\n<p>specifically the getWindow() function doesn't exist in DialogFragment</p>\n<p>Is there an alternative to this for DialogFragments?</p>\n<p>Here is my xml code of the constraint Layout with the background of the fragment</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:id=&quot;@+id/con_post&quot;\n    android:minWidth=&quot;350dp&quot;\n    android:minHeight=&quot;550dp&quot;\n    android:layout_width=&quot;350dp&quot;\n    android:layout_height=&quot;550dp&quot;\n    android:layout_gravity=&quot;center&quot;\n    tools:context=&quot;.FragmentLogic.FragmentBlogPost&quot;\n    android:background=&quot;@drawable/sign_in_popup&quot;\n    android:padding=&quot;5dp&quot;&gt;\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/86SbU.png\" rel=\"nofollow noreferrer\">Fragment with white edges I want to remove</a></p>\n<p><a href=\"https://i.stack.imgur.com/rBdEM.png\" rel=\"nofollow noreferrer\">Sign in for example of what I want</a></p>\n<p>Thanks a lot in advance</p>\n"},{"tags":["java","mysql","spring-boot","jpa","querydsl"],"comments":[{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1681108132,"post_id":75974066,"comment_id":133999406,"body_markdown":"[Why should I not upload images of code/data/errors?](https://meta.stackoverflow.com/questions/285551/why-should-i-not-upload-images-of-code-data-errors)","body":"<a href=\"https://meta.stackoverflow.com/questions/285551/why-should-i-not-upload-images-of-code-data-errors\">Why should I not upload images of code/data/errors?</a>"}],"answers":[{"tags":[],"owner":{"account_id":24768180,"reputation":1,"user_id":18651946,"display_name":"Mon1151"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1681176360,"creation_date":1681120075,"answer_id":75976000,"question_id":75974066,"body_markdown":"I have solved it. I leave my answer here.\r\n\r\n    QDemo t1 = QDemo.demo;\r\n    QDemo t2 = new QDemo(&quot;t2&quot;);\r\n    \r\n    BooleanBuilder builder = new BooleanBuilder();\r\n    builder.and(t1.id.substring(-3).eq(\r\n        new CaseBuilder()\r\n            .when(\r\n                JPAExpressions.select(t2.count())\r\n                    .from(t2)\r\n                    .where(t2.id.like(\r\n                        t1.id.substring(0, t1.id.length().subtract(3)).concat(&quot;%&quot;)\r\n                    ))\r\n                    .eq(2L)\r\n            )\r\n            .then(&quot;ENG&quot;)\r\n            .otherwise(&quot;KOR&quot;)\r\n    ));","title":"How to change sql into CaseBuilder?","body":"<p>I have solved it. I leave my answer here.</p>\n<pre><code>QDemo t1 = QDemo.demo;\nQDemo t2 = new QDemo(&quot;t2&quot;);\n\nBooleanBuilder builder = new BooleanBuilder();\nbuilder.and(t1.id.substring(-3).eq(\n    new CaseBuilder()\n        .when(\n            JPAExpressions.select(t2.count())\n                .from(t2)\n                .where(t2.id.like(\n                    t1.id.substring(0, t1.id.length().subtract(3)).concat(&quot;%&quot;)\n                ))\n                .eq(2L)\n        )\n        .then(&quot;ENG&quot;)\n        .otherwise(&quot;KOR&quot;)\n));\n</code></pre>\n"}],"owner":{"account_id":24768180,"reputation":1,"user_id":18651946,"display_name":"Mon1151"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75976000,"answer_count":1,"score":0,"last_activity_date":1681176360,"creation_date":1681096507,"question_id":75974066,"body_markdown":"This is my table.\r\n[Table](https://i.stack.imgur.com/AZdZt.png)\r\n\r\nAnd this is my SQL:\r\n```sql\r\nselect t1.id\r\n  from demo t1\r\n where substring(t1.id, -3) = case \r\n                                when (select count(*)\r\n                                        from demo t2\r\n                                       where t2.id like concat(substring(t1.id, 1, length(t1.id) - 3), &#39;%&#39;)) = 2 then &#39;ENG&#39;\r\n                                else &#39;KOR&#39;\r\n                              end;\r\n```\r\n\r\nI tried to convert my SQL to _CaseBuilder_ but no luck because it can&#39;t add the select in the `when` statement.\r\nAny help would be appreciated. Thank you.\r\n\r\n[After run sql](https://i.stack.imgur.com/eEwl8.png)\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/aB0Dr.png","title":"How to change sql into CaseBuilder?","body":"<p>This is my table.\n<a href=\"https://i.stack.imgur.com/AZdZt.png\" rel=\"nofollow noreferrer\">Table</a></p>\n<p>And this is my SQL:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>select t1.id\n  from demo t1\n where substring(t1.id, -3) = case \n                                when (select count(*)\n                                        from demo t2\n                                       where t2.id like concat(substring(t1.id, 1, length(t1.id) - 3), '%')) = 2 then 'ENG'\n                                else 'KOR'\n                              end;\n</code></pre>\n<p>I tried to convert my SQL to <em>CaseBuilder</em> but no luck because it can't add the select in the <code>when</code> statement.\nAny help would be appreciated. Thank you.</p>\n<p><a href=\"https://i.stack.imgur.com/eEwl8.png\" rel=\"nofollow noreferrer\">After run sql</a></p>\n"},{"tags":["java","android","firebase-cloud-messaging","google-cloud-messaging"],"answers":[{"tags":[],"owner":{"account_id":28211202,"reputation":1,"user_id":21563430,"display_name":"Raden Hor"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681176289,"creation_date":1680599584,"answer_id":75927554,"question_id":75822678,"body_markdown":"For temporary work around solution \r\nhttps://issuetracker.google.com/issues/275036593#comment31","title":"Getting error &quot;Device doesn&#39;t support the messaging feature&quot; in android 13","body":"<p>For temporary work around solution\n<a href=\"https://issuetracker.google.com/issues/275036593#comment31\" rel=\"nofollow noreferrer\">https://issuetracker.google.com/issues/275036593#comment31</a></p>\n"}],"owner":{"account_id":26488483,"reputation":119,"user_id":20126669,"display_name":"Shekhar J. Lobo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":933,"favorite_count":0,"down_vote_count":1,"up_vote_count":9,"answer_count":1,"score":8,"last_activity_date":1681176289,"creation_date":1679572623,"question_id":75822678,"body_markdown":"I&#39;m getting an Exception like `com.google.android.gms.common.api.ApiException: 17: Device doesn&#39;t support the messaging feature` in Android 13\r\n\r\nIt works fine on another version as well as the Android 13 emulator in Android studio, but when I connect an Android 13 physical device it throws the above error.\r\n\r\n\r\n       try {\r\n            SmsRetrieverClient mClient = SmsRetriever.getClient(this);\r\n            Task&lt;Void&gt; mTask = mClient.startSmsRetriever();\r\n            mTask.addOnSuccessListener(new OnSuccessListener&lt;Void&gt;() {\r\n                @Override\r\n                public void onSuccess(Void aVoid) {\r\n                    Bundle bundle = new Bundle();\r\n                    bundle.putString(&quot;mobile&quot;, stringFromView(binding.etPhoneNumber));\r\n                    bundle.putString(&quot;setting&quot;, settingScreen);\r\n                    startActivity(OtpActivity.class, bundle);\r\n    //                Toast.makeText(mContext, &quot;SMS Retriever starts&quot;, Toast.LENGTH_LONG).show();\r\n                }\r\n            });\r\n            mTask.addOnFailureListener(new OnFailureListener() {\r\n                @Override\r\n                public void onFailure(@NonNull Exception e) {\r\n                    e.printStackTrace();\r\n                }\r\n            });\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }","title":"Getting error &quot;Device doesn&#39;t support the messaging feature&quot; in android 13","body":"<p>I'm getting an Exception like <code>com.google.android.gms.common.api.ApiException: 17: Device doesn't support the messaging feature</code> in Android 13</p>\n<p>It works fine on another version as well as the Android 13 emulator in Android studio, but when I connect an Android 13 physical device it throws the above error.</p>\n<pre><code>   try {\n        SmsRetrieverClient mClient = SmsRetriever.getClient(this);\n        Task&lt;Void&gt; mTask = mClient.startSmsRetriever();\n        mTask.addOnSuccessListener(new OnSuccessListener&lt;Void&gt;() {\n            @Override\n            public void onSuccess(Void aVoid) {\n                Bundle bundle = new Bundle();\n                bundle.putString(&quot;mobile&quot;, stringFromView(binding.etPhoneNumber));\n                bundle.putString(&quot;setting&quot;, settingScreen);\n                startActivity(OtpActivity.class, bundle);\n//                Toast.makeText(mContext, &quot;SMS Retriever starts&quot;, Toast.LENGTH_LONG).show();\n            }\n        });\n        mTask.addOnFailureListener(new OnFailureListener() {\n            @Override\n            public void onFailure(@NonNull Exception e) {\n                e.printStackTrace();\n            }\n        });\n    } catch (Exception e) {\n        e.printStackTrace();\n    }\n</code></pre>\n"},{"tags":["java","spring","rx-java","project-reactor"],"answers":[{"tags":[],"owner":{"account_id":14208533,"reputation":3827,"user_id":10264430,"display_name":"Alexander Pankin"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1544262521,"creation_date":1544262521,"answer_id":53681310,"question_id":53680717,"body_markdown":"It would be better to specify `ReactiveRedisTemplate` parameters. But if you can&#39;t, you should change your content type to `Mono&lt;Object&gt;`. Something like this:\r\n\r\n    public &lt;T&gt; Mono&lt;T&gt; findCache(String key, Class&lt;T&gt; clazz) {\r\n        @SuppressWarnings(&quot;unchecked&quot;)\r\n        Mono&lt;Object&gt; contentMono = redisTemplate.opsForValue().get(key);\r\n        return contentMono.map(clazz::cast);\r\n    }\r\n\r\nAnd if cache doesn&#39;t contain value for given key, it returns empty Mono, not null.","title":"Java Cannot cast reactor.core.publisher.MonoDefer to EntityClass","body":"<p>It would be better to specify <code>ReactiveRedisTemplate</code> parameters. But if you can't, you should change your content type to <code>Mono&lt;Object&gt;</code>. Something like this:</p>\n\n<pre><code>public &lt;T&gt; Mono&lt;T&gt; findCache(String key, Class&lt;T&gt; clazz) {\n    @SuppressWarnings(\"unchecked\")\n    Mono&lt;Object&gt; contentMono = redisTemplate.opsForValue().get(key);\n    return contentMono.map(clazz::cast);\n}\n</code></pre>\n\n<p>And if cache doesn't contain value for given key, it returns empty Mono, not null.</p>\n"}],"owner":{"account_id":5229600,"reputation":363,"user_id":4180430,"accept_rate":67,"display_name":"lloistborn"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8001,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1681172337,"creation_date":1544256576,"question_id":53680717,"body_markdown":"Here I try to upgrade my spring-data-redis `RedisTemplate` using reactive-redis `ReactiveRedisTemplate` which is returning Publisher. In this case, I want to change the method `findCache` to `Mono`. The problem is old `findCache` function that is using spring-data-redis is accepting generic data, like this:\r\n\r\n    @Autowired\r\n    ReactiveRedisTemplate redisTemplate;\r\n \r\n    public &lt;T&gt; T findCache(String key, Class&lt;T&gt; clazz) {\r\n        Object content = this.redisTemplate.opsForValue().get(key);\r\n    \r\n        if (content != null) {\r\n          return clazz.cast(content);\r\n        }\r\n    \r\n        return null;\r\n      }\r\n\r\nof course I will get the error \r\n\r\n    Cannot cast reactor.core.publisher.MonoDefer to Person\r\n\r\nthen, since I want to get it to work reactively I update this code to return publisher, like this:\r\n\r\n    if (content != null) {\r\n          return ((Mono) content).flatMap(o -&gt; clazz.cast(o));\r\n        }\r\nbut it also won&#39;t work since my `findCache` accepts generic.\r\nWhat do I need to do, please help.","title":"Java Cannot cast reactor.core.publisher.MonoDefer to EntityClass","body":"<p>Here I try to upgrade my spring-data-redis <code>RedisTemplate</code> using reactive-redis <code>ReactiveRedisTemplate</code> which is returning Publisher. In this case, I want to change the method <code>findCache</code> to <code>Mono</code>. The problem is old <code>findCache</code> function that is using spring-data-redis is accepting generic data, like this:</p>\n<pre><code>@Autowired\nReactiveRedisTemplate redisTemplate;\n\npublic &lt;T&gt; T findCache(String key, Class&lt;T&gt; clazz) {\n    Object content = this.redisTemplate.opsForValue().get(key);\n\n    if (content != null) {\n      return clazz.cast(content);\n    }\n\n    return null;\n  }\n</code></pre>\n<p>of course I will get the error</p>\n<pre><code>Cannot cast reactor.core.publisher.MonoDefer to Person\n</code></pre>\n<p>then, since I want to get it to work reactively I update this code to return publisher, like this:</p>\n<pre><code>if (content != null) {\n      return ((Mono) content).flatMap(o -&gt; clazz.cast(o));\n    }\n</code></pre>\n<p>but it also won't work since my <code>findCache</code> accepts generic.\nWhat do I need to do, please help.</p>\n"},{"tags":["java","spring","oracle","oracle-cloud-infrastructure"],"comments":[{"owner":{"account_id":12743722,"reputation":19956,"user_id":12567365,"display_name":"andrewJames"},"score":2,"creation_date":1681173751,"post_id":75981569,"comment_id":134010707,"body_markdown":"Try in a plain Java project, to start with (no Spring Boot). Use (a) a more recent version of Java (e.g. 11 or 17) and (b) use _only_ the all-in-one [shaded JAR](https://mvnrepository.com/artifact/com.oracle.oci.sdk/oci-java-sdk-shaded-full/3.10.0). See how far that gets you, as far as basic connectivity goes. [Reference](https://docs.oracle.com/en-us/iaas/Content/API/SDKDocs/javasdkgettingstarted.htm#javasdkgettingstarted_topic_Using_the_SDK)","body":"Try in a plain Java project, to start with (no Spring Boot). Use (a) a more recent version of Java (e.g. 11 or 17) and (b) use <i>only</i> the all-in-one <a href=\"https://mvnrepository.com/artifact/com.oracle.oci.sdk/oci-java-sdk-shaded-full/3.10.0\" rel=\"nofollow noreferrer\">shaded JAR</a>. See how far that gets you, as far as basic connectivity goes. <a href=\"https://docs.oracle.com/en-us/iaas/Content/API/SDKDocs/javasdkgettingstarted.htm#javasdkgettingstarted_topic_Using_the_SDK\" rel=\"nofollow noreferrer\">Reference</a>"},{"owner":{"account_id":16221044,"reputation":331,"user_id":11712575,"display_name":"Jason Chan"},"score":0,"creation_date":1681184104,"post_id":75981569,"comment_id":134011610,"body_markdown":"I am using java 19. It works in a standalone java maven project, but failing with spring!","body":"I am using java 19. It works in a standalone java maven project, but failing with spring!"},{"owner":{"account_id":16221044,"reputation":331,"user_id":11712575,"display_name":"Jason Chan"},"score":2,"creation_date":1681192542,"post_id":75981569,"comment_id":134012429,"body_markdown":"Just used spring with the shaded version! It looks great! TYSM!","body":"Just used spring with the shaded version! It looks great! TYSM!"},{"owner":{"account_id":12743722,"reputation":19956,"user_id":12567365,"display_name":"andrewJames"},"score":1,"creation_date":1681210045,"post_id":75981569,"comment_id":134016098,"body_markdown":"Nice. You should write a proper answer for future visitors.","body":"Nice. You should write a proper answer for future visitors."}],"owner":{"account_id":16221044,"reputation":331,"user_id":11712575,"display_name":"Jason Chan"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":486,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1681171682,"creation_date":1681171682,"question_id":75981569,"body_markdown":"I am attempting to use oracle&#39;s SDK via springboot + maven. When I attempt to establish a connection, I get this error:\r\n\r\n    java.util.NoSuchElementException: No http provider available; add dependency on one of the oci-java-sdk-common-httpclient-* choices, e.g. oci-java-sdk-common-httpclient-jersey\r\n    \tat com.oracle.bmc.http.client.DefaultHolder.findHttpProvider(HttpProvider.java:48)\r\n    \tat com.oracle.bmc.http.client.DefaultHolder.getDefault(HttpProvider.java:32)\r\n    \tat com.oracle.bmc.http.client.HttpProvider.getDefault(HttpProvider.java:19)\r\n    \tat com.oracle.bmc.http.internal.BaseClient.&lt;init&gt;(BaseClient.java:71)\r\n    \tat com.oracle.bmc.http.internal.BaseSyncClient.&lt;init&gt;(BaseSyncClient.java:36)\r\n    \tat com.oracle.bmc.core.VirtualNetworkClient.&lt;init&gt;(VirtualNetworkClient.java:38)\r\n    \tat com.oracle.bmc.core.VirtualNetworkClient.&lt;init&gt;(VirtualNetworkClient.java:16)\r\n    \tat com.oracle.bmc.core.VirtualNetworkClient$Builder.build(VirtualNetworkClient.java:111)\r\n    \tat com.vendify.Dependencies.Tools.OracleImageBucketGenerator.oracleCloudImageBucketUploader(OracleImageBucketGenerator.java:87)\r\n    \tat com.vendify.Controllers.DefaultController.test(DefaultController.java:27)\r\n    \tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:578)\r\n    \tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:197)\r\n    \tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:141)\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:106)\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)\r\n    \tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\r\n    \tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1064)\r\n    \tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963)\r\n    \tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)\r\n    \tat org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)\r\n    \tat javax.servlet.http.HttpServlet.service(HttpServlet.java:645)\r\n    \tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)\r\n    \tat javax.servlet.http.HttpServlet.service(HttpServlet.java:750)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n    \tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n    \tat com.vendify.Security.RequestThrottler.doFilter(RequestThrottler.java:60)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:327)\r\n    \tat org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115)\r\n    \tat org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81)\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\r\n    \tat org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:121)\r\n    \tat org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:115)\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\r\n    \tat org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126)\r\n    \tat org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81)\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\r\n    \tat org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:105)\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\r\n    \tat org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149)\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\r\n    \tat org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\r\n    \tat org.springframework.security.web.authentication.www.BasicAuthenticationFilter.doFilterInternal(BasicAuthenticationFilter.java:149)\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\r\n    \tat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103)\r\n    \tat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89)\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\r\n    \tat org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)\r\n    \tat org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\r\n    \tat org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:110)\r\n    \tat org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:80)\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\r\n    \tat org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55)\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\r\n    \tat org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:211)\r\n    \tat org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:183)\r\n    \tat org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:358)\r\n    \tat org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:271)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n    \tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n    \tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n    \tat org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:96)\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n    \tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n    \tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197)\r\n    \tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)\r\n    \tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542)\r\n    \tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)\r\n    \tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\r\n    \tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)\r\n    \tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357)\r\n    \tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:382)\r\n    \tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\r\n    \tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:893)\r\n    \tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1726)\r\n    \tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\r\n    \tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\r\n    \tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\r\n    \tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n    \tat java.base/java.lang.Thread.run(Thread.java:1589)\r\n\r\nProblem is... I have already added this dependency in my POM.XML:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \t&lt;parent&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;2.5.4&lt;/version&gt;\r\n    \t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    \t&lt;/parent&gt;\r\n    \t&lt;groupId&gt;com.vendify&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;backendDB&lt;/artifactId&gt;\r\n    \t&lt;version&gt;1.0&lt;/version&gt;\r\n    \t&lt;name&gt;BackendDB&lt;/name&gt;\r\n    \t&lt;description&gt;Connection for MySQL Backend DB&lt;/description&gt;\r\n    \t&lt;properties&gt;\r\n    \t\t&lt;java.version&gt;1.8&lt;/java.version&gt;\r\n    \t&lt;/properties&gt;\r\n    \t&lt;dependencies&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t    &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\r\n    \t\t    &lt;version&gt;2.7.1&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n      \t\t\t&lt;groupId&gt;commons-io&lt;/groupId&gt;\r\n        \t\t&lt;artifactId&gt;commons-io&lt;/artifactId&gt;\r\n        \t\t&lt;version&gt;2.6&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t        &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n    \t        &lt;artifactId&gt;spring-security-web&lt;/artifactId&gt;\r\n    \t    &lt;/dependency&gt;\r\n    \t    &lt;dependency&gt;\r\n    \t\t    &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n    \t\t    &lt;artifactId&gt;spring-security-config&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;com.mashape.unirest&lt;/groupId&gt;\r\n    \t\t    &lt;artifactId&gt;unirest-java&lt;/artifactId&gt;\r\n    \t\t    &lt;version&gt;1.4.9&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t  &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n    \t\t  &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\r\n    \t\t  &lt;/dependency&gt;\r\n    \t    &lt;dependency&gt;\r\n    \t        &lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;\r\n    \t        &lt;artifactId&gt;gson&lt;/artifactId&gt;\r\n    \t        &lt;scope&gt;compile&lt;/scope&gt;\r\n    \t    &lt;/dependency&gt;\r\n    \t    &lt;dependency&gt;\r\n    \t      &lt;groupId&gt;junit&lt;/groupId&gt;\r\n    \t      &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n    \t      &lt;scope&gt;test&lt;/scope&gt;\r\n        \t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t    &lt;groupId&gt;commons-codec&lt;/groupId&gt;\r\n    \t\t    &lt;artifactId&gt;commons-codec&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t    &lt;groupId&gt;com.googlecode.json-simple&lt;/groupId&gt;\r\n    \t\t    &lt;artifactId&gt;json-simple&lt;/artifactId&gt;\r\n    \t\t    &lt;version&gt;1.1.1&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\t\t\r\n    \t\t&lt;dependency&gt;\r\n    \t\t    &lt;groupId&gt;com.google.guava&lt;/groupId&gt;\r\n    \t\t    &lt;artifactId&gt;guava&lt;/artifactId&gt;\r\n    \t\t    &lt;version&gt;20.0&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t    &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n    \t\t    &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n    \t\t    &lt;scope&gt;provided&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-data-jdbc&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-data-rest&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-jdbc&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;mysql&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.flywaydb&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;flyway-core&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;commons-lang3&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;3.12.0&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.oracle.oci.sdk&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;oci-java-sdk-core&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;3.10.0&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.oracle.oci.sdk&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;oci-java-sdk-common-httpclient-choices&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.oracle.oci.sdk&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;oci-java-sdk-addons-resteasy-client-configurator&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.oracle.oci.sdk&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;oci-java-sdk-objectstorage&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.oracle.oci.sdk&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;oci-java-sdk-common-httpclient-jersey&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t&lt;/dependencies&gt;\r\n    \t&lt;build&gt;\r\n    \t\t&lt;plugins&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t&lt;/plugins&gt;\r\n    \t&lt;/build&gt;\r\n    \r\n    &lt;/project&gt;\r\n\r\n\r\nI have even went as far as adding `&lt;version&gt;3.10.0&lt;/version&gt;` to every one of the `com.oracle.oci.sdk` packages\r\n\r\n    public String oracleCloudImageBucketUploader(){\r\n    \tFile oraclePrivateKeyFile = new File(constants.ORACLE_CLOUD_PRIVATE_KEY_DIRECTORY);\r\n    \tif(!oraclePrivateKeyFile.exists()){\r\n    \t\treturn null;\r\n    \t}\r\n    \ttry {\r\n    \t\tString privateKeyString = FileUtils.readFileToString(oraclePrivateKeyFile, &quot;UTF-8&quot;);\r\n    \r\n    \t\tAuthenticationDetailsProvider authenticationDetailsProvider =\r\n    \t\t\t\tSimpleAuthenticationDetailsProvider.builder()\r\n    \t\t\t\t\t\t.tenantId(constants.ORACLE_CLOUD_TENANT_ID)\r\n    \t\t\t\t\t\t.userId(constants.ORACLE_CLOUD_USER_ID)\r\n    \t\t\t\t\t\t.fingerprint(constants.ORACLE_CLOUD_PRIVATE_KEY_FINGERPRINT)\r\n    \t\t\t\t\t\t.privateKeySupplier(new StringPrivateKeySupplier(privateKeyString))\r\n    \t\t\t\t\t\t.passPhrase(constants.ORACLE_CLOUD_KEY_PASSWORD)\r\n    \t\t\t\t\t\t.build();\r\n    \t\tVirtualNetworkClient vnClient =\r\n    \t\t\t\tVirtualNetworkClient.builder().build(authenticationDetailsProvider);\r\n    \t\treturn &quot;test&quot;;\r\n    \t}catch (Exception e){\r\n    \t\te.printStackTrace();\r\n    \t\treturn null;\r\n    \t}\r\n    }\r\n\r\nI have debugged and made sure that each one of the fields inside constants.{whatever} is valid, and the corresponding key is on my oracle cloud account.\r\n\r\nThanks","title":"OCI Connection Exception","body":"<p>I am attempting to use oracle's SDK via springboot + maven. When I attempt to establish a connection, I get this error:</p>\n<pre><code>java.util.NoSuchElementException: No http provider available; add dependency on one of the oci-java-sdk-common-httpclient-* choices, e.g. oci-java-sdk-common-httpclient-jersey\n    at com.oracle.bmc.http.client.DefaultHolder.findHttpProvider(HttpProvider.java:48)\n    at com.oracle.bmc.http.client.DefaultHolder.getDefault(HttpProvider.java:32)\n    at com.oracle.bmc.http.client.HttpProvider.getDefault(HttpProvider.java:19)\n    at com.oracle.bmc.http.internal.BaseClient.&lt;init&gt;(BaseClient.java:71)\n    at com.oracle.bmc.http.internal.BaseSyncClient.&lt;init&gt;(BaseSyncClient.java:36)\n    at com.oracle.bmc.core.VirtualNetworkClient.&lt;init&gt;(VirtualNetworkClient.java:38)\n    at com.oracle.bmc.core.VirtualNetworkClient.&lt;init&gt;(VirtualNetworkClient.java:16)\n    at com.oracle.bmc.core.VirtualNetworkClient$Builder.build(VirtualNetworkClient.java:111)\n    at com.vendify.Dependencies.Tools.OracleImageBucketGenerator.oracleCloudImageBucketUploader(OracleImageBucketGenerator.java:87)\n    at com.vendify.Controllers.DefaultController.test(DefaultController.java:27)\n    at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:578)\n    at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:197)\n    at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:141)\n    at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:106)\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)\n    at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\n    at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1064)\n    at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963)\n    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)\n    at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:645)\n    at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:750)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n    at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n    at com.vendify.Security.RequestThrottler.doFilter(RequestThrottler.java:60)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:327)\n    at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115)\n    at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\n    at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:121)\n    at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:115)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\n    at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126)\n    at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\n    at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:105)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\n    at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\n    at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\n    at org.springframework.security.web.authentication.www.BasicAuthenticationFilter.doFilterInternal(BasicAuthenticationFilter.java:149)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\n    at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103)\n    at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\n    at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)\n    at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\n    at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:110)\n    at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:80)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\n    at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\n    at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:211)\n    at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:183)\n    at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:358)\n    at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:271)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n    at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n    at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n    at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:96)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n    at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197)\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542)\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357)\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:382)\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:893)\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1726)\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n    at java.base/java.lang.Thread.run(Thread.java:1589)\n</code></pre>\n<p>Problem is... I have already added this dependency in my POM.XML:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.5.4&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.vendify&lt;/groupId&gt;\n    &lt;artifactId&gt;backendDB&lt;/artifactId&gt;\n    &lt;version&gt;1.0&lt;/version&gt;\n    &lt;name&gt;BackendDB&lt;/name&gt;\n    &lt;description&gt;Connection for MySQL Backend DB&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\n            &lt;version&gt;2.7.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;commons-io&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-io&lt;/artifactId&gt;\n            &lt;version&gt;2.6&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-security-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-security-config&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n        &lt;groupId&gt;com.mashape.unirest&lt;/groupId&gt;\n            &lt;artifactId&gt;unirest-java&lt;/artifactId&gt;\n            &lt;version&gt;1.4.9&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n          &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n          &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\n          &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;\n            &lt;artifactId&gt;gson&lt;/artifactId&gt;\n            &lt;scope&gt;compile&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n          &lt;groupId&gt;junit&lt;/groupId&gt;\n          &lt;artifactId&gt;junit&lt;/artifactId&gt;\n          &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;commons-codec&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-codec&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.googlecode.json-simple&lt;/groupId&gt;\n            &lt;artifactId&gt;json-simple&lt;/artifactId&gt;\n            &lt;version&gt;1.1.1&lt;/version&gt;\n        &lt;/dependency&gt;       \n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.guava&lt;/groupId&gt;\n            &lt;artifactId&gt;guava&lt;/artifactId&gt;\n            &lt;version&gt;20.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jdbc&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-rest&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-jdbc&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.flywaydb&lt;/groupId&gt;\n            &lt;artifactId&gt;flyway-core&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-lang3&lt;/artifactId&gt;\n            &lt;version&gt;3.12.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.oracle.oci.sdk&lt;/groupId&gt;\n            &lt;artifactId&gt;oci-java-sdk-core&lt;/artifactId&gt;\n            &lt;version&gt;3.10.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.oracle.oci.sdk&lt;/groupId&gt;\n            &lt;artifactId&gt;oci-java-sdk-common-httpclient-choices&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.oracle.oci.sdk&lt;/groupId&gt;\n            &lt;artifactId&gt;oci-java-sdk-addons-resteasy-client-configurator&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.oracle.oci.sdk&lt;/groupId&gt;\n            &lt;artifactId&gt;oci-java-sdk-objectstorage&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.oracle.oci.sdk&lt;/groupId&gt;\n            &lt;artifactId&gt;oci-java-sdk-common-httpclient-jersey&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>I have even went as far as adding <code>&lt;version&gt;3.10.0&lt;/version&gt;</code> to every one of the <code>com.oracle.oci.sdk</code> packages</p>\n<pre><code>public String oracleCloudImageBucketUploader(){\n    File oraclePrivateKeyFile = new File(constants.ORACLE_CLOUD_PRIVATE_KEY_DIRECTORY);\n    if(!oraclePrivateKeyFile.exists()){\n        return null;\n    }\n    try {\n        String privateKeyString = FileUtils.readFileToString(oraclePrivateKeyFile, &quot;UTF-8&quot;);\n\n        AuthenticationDetailsProvider authenticationDetailsProvider =\n                SimpleAuthenticationDetailsProvider.builder()\n                        .tenantId(constants.ORACLE_CLOUD_TENANT_ID)\n                        .userId(constants.ORACLE_CLOUD_USER_ID)\n                        .fingerprint(constants.ORACLE_CLOUD_PRIVATE_KEY_FINGERPRINT)\n                        .privateKeySupplier(new StringPrivateKeySupplier(privateKeyString))\n                        .passPhrase(constants.ORACLE_CLOUD_KEY_PASSWORD)\n                        .build();\n        VirtualNetworkClient vnClient =\n                VirtualNetworkClient.builder().build(authenticationDetailsProvider);\n        return &quot;test&quot;;\n    }catch (Exception e){\n        e.printStackTrace();\n        return null;\n    }\n}\n</code></pre>\n<p>I have debugged and made sure that each one of the fields inside constants.{whatever} is valid, and the corresponding key is on my oracle cloud account.</p>\n<p>Thanks</p>\n"},{"tags":["java","spring","spring-boot","apache-kafka"],"comments":[{"owner":{"account_id":16883509,"reputation":16760,"user_id":12208910,"display_name":"Michael Heil"},"score":0,"creation_date":1600408753,"post_id":63946696,"comment_id":113083970,"body_markdown":"can you show some code and how you set the ConsumerGroup?","body":"can you show some code and how you set the ConsumerGroup?"},{"owner":{"account_id":87230,"reputation":36816,"user_id":242042,"accept_rate":57,"display_name":"Archimedes Trajano"},"score":0,"creation_date":1603173036,"post_id":63946696,"comment_id":113944254,"body_markdown":"I just got this when I set up a new environment.  But this may help.  Going to see if I missed this setting https://cwiki.apache.org/confluence/display/KAFKA/KIP-394%3A+Require+member.id+for+initial+join+group+request","body":"I just got this when I set up a new environment.  But this may help.  Going to see if I missed this setting <a href=\"https://cwiki.apache.org/confluence/display/KAFKA/KIP-394%3A+Require+member.id+for+initial+join+group+request\" rel=\"nofollow noreferrer\">cwiki.apache.org/confluence/display/KAFKA/&hellip;</a>"},{"owner":{"account_id":87230,"reputation":36816,"user_id":242042,"accept_rate":57,"display_name":"Archimedes Trajano"},"score":0,"creation_date":1603212501,"post_id":63946696,"comment_id":113963254,"body_markdown":"I&#39;m adding my config maybe it&#39;s similar to yours.","body":"I&#39;m adding my config maybe it&#39;s similar to yours."}],"answers":[{"tags":[],"owner":{"account_id":87230,"reputation":36816,"user_id":242042,"accept_rate":57,"display_name":"Archimedes Trajano"},"down_vote_count":1,"up_vote_count":19,"is_accepted":false,"score":18,"last_activity_date":1603218311,"creation_date":1603218311,"answer_id":64451242,"question_id":63946696,"body_markdown":"From my analysis.  This is normal behaviour, you can change the log levels to exclude it.\r\n\r\nThe reason for this is if the server detects that the client can support `member.id` it will give that error back to the client.  This is noted in [KIP-394][1].\r\n\r\nThe client will then reconnect back to the server with a generated member ID.\r\n\r\n[1]: https://cwiki.apache.org/confluence/display/KAFKA/KIP-394%3A+Require+member.id+for+initial+join+group+request","title":"Kafka is giving: &quot;The group member needs to have a valid member id before actually entering a consumer group&quot;","body":"<p>From my analysis.  This is normal behaviour, you can change the log levels to exclude it.</p>\n<p>The reason for this is if the server detects that the client can support <code>member.id</code> it will give that error back to the client.  This is noted in <a href=\"https://cwiki.apache.org/confluence/display/KAFKA/KIP-394%3A+Require+member.id+for+initial+join+group+request\" rel=\"noreferrer\">KIP-394</a>.</p>\n<p>The client will then reconnect back to the server with a generated member ID.</p>\n"},{"tags":[],"owner":{"account_id":2111883,"reputation":324,"user_id":1877010,"display_name":"DaHoC"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1612361895,"creation_date":1612339112,"answer_id":66023381,"question_id":63946696,"body_markdown":"I encountered the same issue, also preventing my consumer from subscribing to certain topics.\r\n\r\nI figured that the member.id *might* be similar to the client-id (using Camel here), which might be in some way related to the consumer group.\r\n\r\nWhat fixed it for me is a changed, this time non-changing client-id for my consuming service, leaving the same consumer group as is.","title":"Kafka is giving: &quot;The group member needs to have a valid member id before actually entering a consumer group&quot;","body":"<p>I encountered the same issue, also preventing my consumer from subscribing to certain topics.</p>\n<p>I figured that the member.id <em>might</em> be similar to the client-id (using Camel here), which might be in some way related to the consumer group.</p>\n<p>What fixed it for me is a changed, this time non-changing client-id for my consuming service, leaving the same consumer group as is.</p>\n"},{"tags":[],"owner":{"account_id":21196689,"reputation":21,"user_id":15588113,"display_name":"zhili"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1618900824,"creation_date":1618900824,"answer_id":67173722,"question_id":63946696,"body_markdown":"hummm....in my case, consumers will rejoin the group with a generated ID. Here is my test and result. FYI\r\n\r\n```java\r\n@Test\r\n    void testSyncSend() throws ExecutionException, InterruptedException {\r\n        int id = (int)(System.currentTimeMillis()/1000);\r\n        SendResult result = producer.syncSend(id);\r\n        logger.info(&quot;[testSyncSend] id:{}, result:{}&quot;, id, result);\r\n        new CountDownLatch(1).await();\r\n    }\r\n```\r\n\r\n```\r\n2021-04-20 14:32:20.980  INFO 6672 --- [           main] o.a.kafka.common.utils.AppInfoParser     : Kafka version: 2.5.1\r\n2021-04-20 14:32:20.981  INFO 6672 --- [           main] o.a.kafka.common.utils.AppInfoParser     : Kafka commitId: 0efa8fb0f4c73d92\r\n2021-04-20 14:32:20.981  INFO 6672 --- [           main] o.a.kafka.common.utils.AppInfoParser     : Kafka startTimeMs: 1618900340980\r\n2021-04-20 14:32:21.125  INFO 6672 --- [listener1-0-C-1] org.apache.kafka.clients.Metadata        : [Consumer clientId=consumer-listener1-1, groupId=listener1] Cluster ID: RctzTn4XR4WNNVuqh25izw\r\n2021-04-20 14:32:21.125  INFO 6672 --- [ad | producer-1] org.apache.kafka.clients.Metadata        : [Producer clientId=producer-1] Cluster ID: RctzTn4XR4WNNVuqh25izw\r\n2021-04-20 14:32:21.125  INFO 6672 --- [listener1-3-C-1] org.apache.kafka.clients.Metadata        : [Consumer clientId=consumer-listener1-4, groupId=listener1] Cluster ID: RctzTn4XR4WNNVuqh25izw\r\n2021-04-20 14:32:21.125  INFO 6672 --- [listener1-2-C-1] org.apache.kafka.clients.Metadata        : [Consumer clientId=consumer-listener1-3, groupId=listener1] Cluster ID: RctzTn4XR4WNNVuqh25izw\r\n2021-04-20 14:32:21.125  INFO 6672 --- [listener1-1-C-1] org.apache.kafka.clients.Metadata        : [Consumer clientId=consumer-listener1-2, groupId=listener1] Cluster ID: RctzTn4XR4WNNVuqh25izw\r\n2021-04-20 14:32:21.127  INFO 6672 --- [listener1-1-C-1] o.a.k.c.c.internals.AbstractCoordinator  : [Consumer clientId=consumer-listener1-2, groupId=listener1] Discovered group coordinator localhost:29092 (id: 2147483646 rack: null)\r\n2021-04-20 14:32:21.127  INFO 6672 --- [listener1-2-C-1] o.a.k.c.c.internals.AbstractCoordinator  : [Consumer clientId=consumer-listener1-3, groupId=listener1] Discovered group coordinator localhost:29092 (id: 2147483646 rack: null)\r\n2021-04-20 14:32:21.127  INFO 6672 --- [listener1-0-C-1] o.a.k.c.c.internals.AbstractCoordinator  : [Consumer clientId=consumer-listener1-1, groupId=listener1] Discovered group coordinator localhost:29092 (id: 2147483646 rack: null)\r\n2021-04-20 14:32:21.127  INFO 6672 --- [listener1-3-C-1] o.a.k.c.c.internals.AbstractCoordinator  : [Consumer clientId=consumer-listener1-4, groupId=listener1] Discovered group coordinator localhost:29092 (id: 2147483646 rack: null)\r\n2021-04-20 14:32:21.130  INFO 6672 --- [listener1-1-C-1] o.a.k.c.c.internals.AbstractCoordinator  : [Consumer clientId=consumer-listener1-2, groupId=listener1] (Re-)joining group\r\n2021-04-20 14:32:21.130  INFO 6672 --- [listener1-3-C-1] o.a.k.c.c.internals.AbstractCoordinator  : [Consumer clientId=consumer-listener1-4, groupId=listener1] (Re-)joining group\r\n2021-04-20 14:32:21.130  INFO 6672 --- [listener1-0-C-1] o.a.k.c.c.internals.AbstractCoordinator  : [Consumer clientId=consumer-listener1-1, groupId=listener1] (Re-)joining group\r\n2021-04-20 14:32:21.130  INFO 6672 --- [listener1-2-C-1] o.a.k.c.c.internals.AbstractCoordinator  : [Consumer clientId=consumer-listener1-3, groupId=listener1] (Re-)joining group\r\n2021-04-20 14:32:21.147  INFO 6672 --- [listener1-0-C-1] o.a.k.c.c.internals.AbstractCoordinator  : [Consumer clientId=consumer-listener1-1, groupId=listener1] Join group failed with org.apache.kafka.common.errors.MemberIdRequiredException: The group member needs to have a valid member id before actually entering a consumer group\r\n2021-04-20 14:32:21.147  INFO 6672 --- [listener1-2-C-1] o.a.k.c.c.internals.AbstractCoordinator  : [Consumer clientId=consumer-listener1-3, groupId=listener1] Join group failed with org.apache.kafka.common.errors.MemberIdRequiredException: The group member needs to have a valid member id before actually entering a consumer group\r\n2021-04-20 14:32:21.147  INFO 6672 --- [listener1-3-C-1] o.a.k.c.c.internals.AbstractCoordinator  : [Consumer clientId=consumer-listener1-4, groupId=listener1] Join group failed with org.apache.kafka.common.errors.MemberIdRequiredException: The group member needs to have a valid member id before actually entering a consumer group\r\n2021-04-20 14:32:21.147  INFO 6672 --- [listener1-1-C-1] o.a.k.c.c.internals.AbstractCoordinator  : [Consumer clientId=consumer-listener1-2, groupId=listener1] Join group failed with org.apache.kafka.common.errors.MemberIdRequiredException: The group member needs to have a valid member id before actually entering a consumer group\r\n2021-04-20 14:32:21.148  INFO 6672 --- [listener1-0-C-1] o.a.k.c.c.internals.AbstractCoordinator  : [Consumer clientId=consumer-listener1-1, groupId=listener1] (Re-)joining group\r\n2021-04-20 14:32:21.148  INFO 6672 --- [listener1-1-C-1] o.a.k.c.c.internals.AbstractCoordinator  : [Consumer clientId=consumer-listener1-2, groupId=listener1] (Re-)joining group\r\n2021-04-20 14:32:21.148  INFO 6672 --- [listener1-3-C-1] o.a.k.c.c.internals.AbstractCoordinator  : [Consumer clientId=consumer-listener1-4, groupId=listener1] (Re-)joining group\r\n2021-04-20 14:32:21.148  INFO 6672 --- [listener1-2-C-1] o.a.k.c.c.internals.AbstractCoordinator  : [Consumer clientId=consumer-listener1-3, groupId=listener1] (Re-)joining group\r\n2021-04-20 14:32:21.317  INFO 6672 --- [           main] c.z.s.cbaConnector.KafkaProducerTest     : [testSyncSend] id:1618900340, result:SendResult [producerRecord=ProducerRecord(topic=test1, partition=null, headers=RecordHeaders(headers = [RecordHeader(key = __TypeId__, value = [99, 111, 109, 46, 122, 104, 105, 108, 105, 46, 115, 109, 115, 109, 111, 100, 117, 108, 101, 46, 101, 110, 116, 105, 116, 121, 46, 77, 101, 115, 115, 97, 103, 101])], isReadOnly = true), key=null, value=Message(id=1618900340), timestamp=null), recordMetadata=test1-1@0]\r\n2021-04-20 14:32:23.770  INFO 6672 --- [listener1-3-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-listener1-4, groupId=listener1] Finished assignment for group at generation 2: {consumer-listener1-4-9a383250-e84d-413a-b012-85405abdcf7f=Assignment(partitions=[test1-8, test1-9]), consumer-listener1-2-3d26d9ef-b973-4d19-a930-5ba77d938680=Assignment(partitions=[test1-3, test1-4, test1-5]), consumer-listener1-1-10b6895e-264e-45bd-ba90-c71ea12b21e5=Assignment(partitions=[test1-0, test1-1, test1-2]), consumer-listener1-3-54ce965a-87cd-4e28-b0e9-b0f2c9f69423=Assignment(partitions=[test1-6, test1-7])}\r\n2021-04-20 14:32:23.775  INFO 6672 --- [listener1-1-C-1] o.a.k.c.c.internals.AbstractCoordinator  : [Consumer clientId=consumer-listener1-2, groupId=listener1] Successfully joined group with generation 2\r\n2021-04-20 14:32:23.775  INFO 6672 --- [listener1-0-C-1] o.a.k.c.c.internals.AbstractCoordinator  : [Consumer clientId=consumer-listener1-1, groupId=listener1] Successfully joined group with generation 2\r\n2021-04-20 14:32:23.775  INFO 6672 --- [listener1-3-C-1] o.a.k.c.c.internals.AbstractCoordinator  : [Consumer clientId=consumer-listener1-4, groupId=listener1] Successfully joined group with generation 2\r\n2021-04-20 14:32:23.776  INFO 6672 --- [listener1-2-C-1] o.a.k.c.c.internals.AbstractCoordinator  : [Consumer clientId=consumer-listener1-3, groupId=listener1] Successfully joined group with generation 2\r\n2021-04-20 14:32:23.779  INFO 6672 --- [listener1-1-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-listener1-2, groupId=listener1] Adding newly assigned partitions: test1-5, test1-4, test1-3\r\n2021-04-20 14:32:23.779  INFO 6672 --- [listener1-2-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-listener1-3, groupId=listener1] Adding newly assigned partitions: test1-6, test1-7\r\n2021-04-20 14:32:23.779  INFO 6672 --- [listener1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-listener1-1, groupId=listener1] Adding newly assigned partitions: test1-0, test1-2, test1-1\r\n2021-04-20 14:32:23.779  INFO 6672 --- [listener1-3-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-listener1-4, groupId=listener1] Adding newly assigned partitions: test1-9, test1-8\r\n2021-04-20 14:32:23.789  INFO 6672 --- [listener1-3-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-listener1-4, groupId=listener1] Found no committed offset for partition test1-8\r\n2021-04-20 14:32:23.789  INFO 6672 --- [listener1-2-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-listener1-3, groupId=listener1] Found no committed offset for partition test1-6\r\n2021-04-20 14:32:23.789  INFO 6672 --- [listener1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-listener1-1, groupId=listener1] Found no committed offset for partition test1-2\r\n2021-04-20 14:32:23.789  INFO 6672 --- [listener1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-listener1-1, groupId=listener1] Found no committed offset for partition test1-1\r\n2021-04-20 14:32:23.791  INFO 6672 --- [listener1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-listener1-1, groupId=listener1] Setting offset for partition test1-0 to the committed offset FetchPosition{offset=14, offsetEpoch=Optional.empty, currentLeader=LeaderAndEpoch{leader=Optional[localhost:29092 (id: 1 rack: null)], epoch=0}}\r\n2021-04-20 14:32:23.791  INFO 6672 --- [listener1-1-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-listener1-2, groupId=listener1] Setting offset for partition test1-5 to the committed offset FetchPosition{offset=1, offsetEpoch=Optional.empty, currentLeader=LeaderAndEpoch{leader=Optional[localhost:29092 (id: 1 rack: null)], epoch=0}}\r\n2021-04-20 14:32:23.791  INFO 6672 --- [listener1-3-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-listener1-4, groupId=listener1] Setting offset for partition test1-9 to the committed offset FetchPosition{offset=1, offsetEpoch=Optional.empty, currentLeader=LeaderAndEpoch{leader=Optional[localhost:29092 (id: 1 rack: null)], epoch=0}}\r\n2021-04-20 14:32:23.791  INFO 6672 --- [listener1-2-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-listener1-3, groupId=listener1] Setting offset for partition test1-7 to the committed offset FetchPosition{offset=1, offsetEpoch=Optional.empty, currentLeader=LeaderAndEpoch{leader=Optional[localhost:29092 (id: 1 rack: null)], epoch=0}}\r\n2021-04-20 14:32:23.791  INFO 6672 --- [listener1-1-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-listener1-2, groupId=listener1] Setting offset for partition test1-4 to the committed offset FetchPosition{offset=1, offsetEpoch=Optional.empty, currentLeader=LeaderAndEpoch{leader=Optional[localhost:29092 (id: 1 rack: null)], epoch=0}}\r\n2021-04-20 14:32:23.791  INFO 6672 --- [listener1-1-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-listener1-2, groupId=listener1] Setting offset for partition test1-3 to the committed offset FetchPosition{offset=1, offsetEpoch=Optional.empty, currentLeader=LeaderAndEpoch{leader=Optional[localhost:29092 (id: 1 rack: null)], epoch=0}}\r\n2021-04-20 14:32:23.792  INFO 6672 --- [listener1-1-C-1] o.s.k.l.KafkaMessageListenerContainer    : listener1: partitions assigned: [test1-5, test1-4, test1-3]\r\n2021-04-20 14:32:23.804  INFO 6672 --- [listener1-3-C-1] o.a.k.c.c.internals.SubscriptionState    : [Consumer clientId=consumer-listener1-4, groupId=listener1] Resetting offset for partition test1-8 to offset 0.\r\n2021-04-20 14:32:23.804  INFO 6672 --- [listener1-2-C-1] o.a.k.c.c.internals.SubscriptionState    : [Consumer clientId=consumer-listener1-3, groupId=listener1] Resetting offset for partition test1-6 to offset 0.\r\n2021-04-20 14:32:23.804  INFO 6672 --- [listener1-0-C-1] o.a.k.c.c.internals.SubscriptionState    : [Consumer clientId=consumer-listener1-1, groupId=listener1] Resetting offset for partition test1-2 to offset 0.\r\n2021-04-20 14:32:23.804  INFO 6672 --- [listener1-0-C-1] o.a.k.c.c.internals.SubscriptionState    : [Consumer clientId=consumer-listener1-1, groupId=listener1] Resetting offset for partition test1-1 to offset 0.\r\n2021-04-20 14:32:23.804  INFO 6672 --- [listener1-3-C-1] o.s.k.l.KafkaMessageListenerContainer    : listener1: partitions assigned: [test1-9, test1-8]\r\n2021-04-20 14:32:23.804  INFO 6672 --- [listener1-2-C-1] o.s.k.l.KafkaMessageListenerContainer    : listener1: partitions assigned: [test1-6, test1-7]\r\n2021-04-20 14:32:23.804  INFO 6672 --- [listener1-0-C-1] o.s.k.l.KafkaMessageListenerContainer    : listener1: partitions assigned: [test1-0, test1-2, test1-1]\r\n2021-04-20 14:32:23.817  INFO 6672 --- [listener1-0-C-1] c.z.s.cbaConnector.KafkaConsumer         : [KafakaConsumer][consume] thread:21 received message:{&quot;id&quot;:1618900340}\r\n```","title":"Kafka is giving: &quot;The group member needs to have a valid member id before actually entering a consumer group&quot;","body":"<p>hummm....in my case, consumers will rejoin the group with a generated ID. Here is my test and result. FYI</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Test\n    void testSyncSend() throws ExecutionException, InterruptedException {\n        int id = (int)(System.currentTimeMillis()/1000);\n        SendResult result = producer.syncSend(id);\n        logger.info(&quot;[testSyncSend] id:{}, result:{}&quot;, id, result);\n        new CountDownLatch(1).await();\n    }\n</code></pre>\n<pre><code>2021-04-20 14:32:20.980  INFO 6672 --- [           main] o.a.kafka.common.utils.AppInfoParser     : Kafka version: 2.5.1\n2021-04-20 14:32:20.981  INFO 6672 --- [           main] o.a.kafka.common.utils.AppInfoParser     : Kafka commitId: 0efa8fb0f4c73d92\n2021-04-20 14:32:20.981  INFO 6672 --- [           main] o.a.kafka.common.utils.AppInfoParser     : Kafka startTimeMs: 1618900340980\n2021-04-20 14:32:21.125  INFO 6672 --- [listener1-0-C-1] org.apache.kafka.clients.Metadata        : [Consumer clientId=consumer-listener1-1, groupId=listener1] Cluster ID: RctzTn4XR4WNNVuqh25izw\n2021-04-20 14:32:21.125  INFO 6672 --- [ad | producer-1] org.apache.kafka.clients.Metadata        : [Producer clientId=producer-1] Cluster ID: RctzTn4XR4WNNVuqh25izw\n2021-04-20 14:32:21.125  INFO 6672 --- [listener1-3-C-1] org.apache.kafka.clients.Metadata        : [Consumer clientId=consumer-listener1-4, groupId=listener1] Cluster ID: RctzTn4XR4WNNVuqh25izw\n2021-04-20 14:32:21.125  INFO 6672 --- [listener1-2-C-1] org.apache.kafka.clients.Metadata        : [Consumer clientId=consumer-listener1-3, groupId=listener1] Cluster ID: RctzTn4XR4WNNVuqh25izw\n2021-04-20 14:32:21.125  INFO 6672 --- [listener1-1-C-1] org.apache.kafka.clients.Metadata        : [Consumer clientId=consumer-listener1-2, groupId=listener1] Cluster ID: RctzTn4XR4WNNVuqh25izw\n2021-04-20 14:32:21.127  INFO 6672 --- [listener1-1-C-1] o.a.k.c.c.internals.AbstractCoordinator  : [Consumer clientId=consumer-listener1-2, groupId=listener1] Discovered group coordinator localhost:29092 (id: 2147483646 rack: null)\n2021-04-20 14:32:21.127  INFO 6672 --- [listener1-2-C-1] o.a.k.c.c.internals.AbstractCoordinator  : [Consumer clientId=consumer-listener1-3, groupId=listener1] Discovered group coordinator localhost:29092 (id: 2147483646 rack: null)\n2021-04-20 14:32:21.127  INFO 6672 --- [listener1-0-C-1] o.a.k.c.c.internals.AbstractCoordinator  : [Consumer clientId=consumer-listener1-1, groupId=listener1] Discovered group coordinator localhost:29092 (id: 2147483646 rack: null)\n2021-04-20 14:32:21.127  INFO 6672 --- [listener1-3-C-1] o.a.k.c.c.internals.AbstractCoordinator  : [Consumer clientId=consumer-listener1-4, groupId=listener1] Discovered group coordinator localhost:29092 (id: 2147483646 rack: null)\n2021-04-20 14:32:21.130  INFO 6672 --- [listener1-1-C-1] o.a.k.c.c.internals.AbstractCoordinator  : [Consumer clientId=consumer-listener1-2, groupId=listener1] (Re-)joining group\n2021-04-20 14:32:21.130  INFO 6672 --- [listener1-3-C-1] o.a.k.c.c.internals.AbstractCoordinator  : [Consumer clientId=consumer-listener1-4, groupId=listener1] (Re-)joining group\n2021-04-20 14:32:21.130  INFO 6672 --- [listener1-0-C-1] o.a.k.c.c.internals.AbstractCoordinator  : [Consumer clientId=consumer-listener1-1, groupId=listener1] (Re-)joining group\n2021-04-20 14:32:21.130  INFO 6672 --- [listener1-2-C-1] o.a.k.c.c.internals.AbstractCoordinator  : [Consumer clientId=consumer-listener1-3, groupId=listener1] (Re-)joining group\n2021-04-20 14:32:21.147  INFO 6672 --- [listener1-0-C-1] o.a.k.c.c.internals.AbstractCoordinator  : [Consumer clientId=consumer-listener1-1, groupId=listener1] Join group failed with org.apache.kafka.common.errors.MemberIdRequiredException: The group member needs to have a valid member id before actually entering a consumer group\n2021-04-20 14:32:21.147  INFO 6672 --- [listener1-2-C-1] o.a.k.c.c.internals.AbstractCoordinator  : [Consumer clientId=consumer-listener1-3, groupId=listener1] Join group failed with org.apache.kafka.common.errors.MemberIdRequiredException: The group member needs to have a valid member id before actually entering a consumer group\n2021-04-20 14:32:21.147  INFO 6672 --- [listener1-3-C-1] o.a.k.c.c.internals.AbstractCoordinator  : [Consumer clientId=consumer-listener1-4, groupId=listener1] Join group failed with org.apache.kafka.common.errors.MemberIdRequiredException: The group member needs to have a valid member id before actually entering a consumer group\n2021-04-20 14:32:21.147  INFO 6672 --- [listener1-1-C-1] o.a.k.c.c.internals.AbstractCoordinator  : [Consumer clientId=consumer-listener1-2, groupId=listener1] Join group failed with org.apache.kafka.common.errors.MemberIdRequiredException: The group member needs to have a valid member id before actually entering a consumer group\n2021-04-20 14:32:21.148  INFO 6672 --- [listener1-0-C-1] o.a.k.c.c.internals.AbstractCoordinator  : [Consumer clientId=consumer-listener1-1, groupId=listener1] (Re-)joining group\n2021-04-20 14:32:21.148  INFO 6672 --- [listener1-1-C-1] o.a.k.c.c.internals.AbstractCoordinator  : [Consumer clientId=consumer-listener1-2, groupId=listener1] (Re-)joining group\n2021-04-20 14:32:21.148  INFO 6672 --- [listener1-3-C-1] o.a.k.c.c.internals.AbstractCoordinator  : [Consumer clientId=consumer-listener1-4, groupId=listener1] (Re-)joining group\n2021-04-20 14:32:21.148  INFO 6672 --- [listener1-2-C-1] o.a.k.c.c.internals.AbstractCoordinator  : [Consumer clientId=consumer-listener1-3, groupId=listener1] (Re-)joining group\n2021-04-20 14:32:21.317  INFO 6672 --- [           main] c.z.s.cbaConnector.KafkaProducerTest     : [testSyncSend] id:1618900340, result:SendResult [producerRecord=ProducerRecord(topic=test1, partition=null, headers=RecordHeaders(headers = [RecordHeader(key = __TypeId__, value = [99, 111, 109, 46, 122, 104, 105, 108, 105, 46, 115, 109, 115, 109, 111, 100, 117, 108, 101, 46, 101, 110, 116, 105, 116, 121, 46, 77, 101, 115, 115, 97, 103, 101])], isReadOnly = true), key=null, value=Message(id=1618900340), timestamp=null), recordMetadata=test1-1@0]\n2021-04-20 14:32:23.770  INFO 6672 --- [listener1-3-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-listener1-4, groupId=listener1] Finished assignment for group at generation 2: {consumer-listener1-4-9a383250-e84d-413a-b012-85405abdcf7f=Assignment(partitions=[test1-8, test1-9]), consumer-listener1-2-3d26d9ef-b973-4d19-a930-5ba77d938680=Assignment(partitions=[test1-3, test1-4, test1-5]), consumer-listener1-1-10b6895e-264e-45bd-ba90-c71ea12b21e5=Assignment(partitions=[test1-0, test1-1, test1-2]), consumer-listener1-3-54ce965a-87cd-4e28-b0e9-b0f2c9f69423=Assignment(partitions=[test1-6, test1-7])}\n2021-04-20 14:32:23.775  INFO 6672 --- [listener1-1-C-1] o.a.k.c.c.internals.AbstractCoordinator  : [Consumer clientId=consumer-listener1-2, groupId=listener1] Successfully joined group with generation 2\n2021-04-20 14:32:23.775  INFO 6672 --- [listener1-0-C-1] o.a.k.c.c.internals.AbstractCoordinator  : [Consumer clientId=consumer-listener1-1, groupId=listener1] Successfully joined group with generation 2\n2021-04-20 14:32:23.775  INFO 6672 --- [listener1-3-C-1] o.a.k.c.c.internals.AbstractCoordinator  : [Consumer clientId=consumer-listener1-4, groupId=listener1] Successfully joined group with generation 2\n2021-04-20 14:32:23.776  INFO 6672 --- [listener1-2-C-1] o.a.k.c.c.internals.AbstractCoordinator  : [Consumer clientId=consumer-listener1-3, groupId=listener1] Successfully joined group with generation 2\n2021-04-20 14:32:23.779  INFO 6672 --- [listener1-1-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-listener1-2, groupId=listener1] Adding newly assigned partitions: test1-5, test1-4, test1-3\n2021-04-20 14:32:23.779  INFO 6672 --- [listener1-2-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-listener1-3, groupId=listener1] Adding newly assigned partitions: test1-6, test1-7\n2021-04-20 14:32:23.779  INFO 6672 --- [listener1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-listener1-1, groupId=listener1] Adding newly assigned partitions: test1-0, test1-2, test1-1\n2021-04-20 14:32:23.779  INFO 6672 --- [listener1-3-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-listener1-4, groupId=listener1] Adding newly assigned partitions: test1-9, test1-8\n2021-04-20 14:32:23.789  INFO 6672 --- [listener1-3-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-listener1-4, groupId=listener1] Found no committed offset for partition test1-8\n2021-04-20 14:32:23.789  INFO 6672 --- [listener1-2-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-listener1-3, groupId=listener1] Found no committed offset for partition test1-6\n2021-04-20 14:32:23.789  INFO 6672 --- [listener1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-listener1-1, groupId=listener1] Found no committed offset for partition test1-2\n2021-04-20 14:32:23.789  INFO 6672 --- [listener1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-listener1-1, groupId=listener1] Found no committed offset for partition test1-1\n2021-04-20 14:32:23.791  INFO 6672 --- [listener1-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-listener1-1, groupId=listener1] Setting offset for partition test1-0 to the committed offset FetchPosition{offset=14, offsetEpoch=Optional.empty, currentLeader=LeaderAndEpoch{leader=Optional[localhost:29092 (id: 1 rack: null)], epoch=0}}\n2021-04-20 14:32:23.791  INFO 6672 --- [listener1-1-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-listener1-2, groupId=listener1] Setting offset for partition test1-5 to the committed offset FetchPosition{offset=1, offsetEpoch=Optional.empty, currentLeader=LeaderAndEpoch{leader=Optional[localhost:29092 (id: 1 rack: null)], epoch=0}}\n2021-04-20 14:32:23.791  INFO 6672 --- [listener1-3-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-listener1-4, groupId=listener1] Setting offset for partition test1-9 to the committed offset FetchPosition{offset=1, offsetEpoch=Optional.empty, currentLeader=LeaderAndEpoch{leader=Optional[localhost:29092 (id: 1 rack: null)], epoch=0}}\n2021-04-20 14:32:23.791  INFO 6672 --- [listener1-2-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-listener1-3, groupId=listener1] Setting offset for partition test1-7 to the committed offset FetchPosition{offset=1, offsetEpoch=Optional.empty, currentLeader=LeaderAndEpoch{leader=Optional[localhost:29092 (id: 1 rack: null)], epoch=0}}\n2021-04-20 14:32:23.791  INFO 6672 --- [listener1-1-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-listener1-2, groupId=listener1] Setting offset for partition test1-4 to the committed offset FetchPosition{offset=1, offsetEpoch=Optional.empty, currentLeader=LeaderAndEpoch{leader=Optional[localhost:29092 (id: 1 rack: null)], epoch=0}}\n2021-04-20 14:32:23.791  INFO 6672 --- [listener1-1-C-1] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-listener1-2, groupId=listener1] Setting offset for partition test1-3 to the committed offset FetchPosition{offset=1, offsetEpoch=Optional.empty, currentLeader=LeaderAndEpoch{leader=Optional[localhost:29092 (id: 1 rack: null)], epoch=0}}\n2021-04-20 14:32:23.792  INFO 6672 --- [listener1-1-C-1] o.s.k.l.KafkaMessageListenerContainer    : listener1: partitions assigned: [test1-5, test1-4, test1-3]\n2021-04-20 14:32:23.804  INFO 6672 --- [listener1-3-C-1] o.a.k.c.c.internals.SubscriptionState    : [Consumer clientId=consumer-listener1-4, groupId=listener1] Resetting offset for partition test1-8 to offset 0.\n2021-04-20 14:32:23.804  INFO 6672 --- [listener1-2-C-1] o.a.k.c.c.internals.SubscriptionState    : [Consumer clientId=consumer-listener1-3, groupId=listener1] Resetting offset for partition test1-6 to offset 0.\n2021-04-20 14:32:23.804  INFO 6672 --- [listener1-0-C-1] o.a.k.c.c.internals.SubscriptionState    : [Consumer clientId=consumer-listener1-1, groupId=listener1] Resetting offset for partition test1-2 to offset 0.\n2021-04-20 14:32:23.804  INFO 6672 --- [listener1-0-C-1] o.a.k.c.c.internals.SubscriptionState    : [Consumer clientId=consumer-listener1-1, groupId=listener1] Resetting offset for partition test1-1 to offset 0.\n2021-04-20 14:32:23.804  INFO 6672 --- [listener1-3-C-1] o.s.k.l.KafkaMessageListenerContainer    : listener1: partitions assigned: [test1-9, test1-8]\n2021-04-20 14:32:23.804  INFO 6672 --- [listener1-2-C-1] o.s.k.l.KafkaMessageListenerContainer    : listener1: partitions assigned: [test1-6, test1-7]\n2021-04-20 14:32:23.804  INFO 6672 --- [listener1-0-C-1] o.s.k.l.KafkaMessageListenerContainer    : listener1: partitions assigned: [test1-0, test1-2, test1-1]\n2021-04-20 14:32:23.817  INFO 6672 --- [listener1-0-C-1] c.z.s.cbaConnector.KafkaConsumer         : [KafakaConsumer][consume] thread:21 received message:{&quot;id&quot;:1618900340}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":174792,"reputation":617,"user_id":404376,"accept_rate":60,"display_name":"zwessels"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1669313560,"creation_date":1669313560,"answer_id":74564813,"question_id":63946696,"body_markdown":"If the answer from @Archimedes Trajano doesn&#39;t work for you (like in my case), then this happens when kafka can&#39;t pick up the consumer group id.\r\n\r\nif you have a single consumer group, you can specify it in the properties file like this: \r\n\r\n```\r\nspring:\r\n  kafka:\r\n    bootstrap-servers: kafka:9092\r\n    consumer:\r\n      group-id: insert-your-consumer-group-id\r\n      ... rest of your properties ...\r\n```\r\n\r\nor if you have multiple consumers then you can specify the `groupId` for each one:\r\n\r\n```java\r\n@KafkaListener(topics=&quot;topic-1&quot;, groupId=&quot;group-1&quot;)\r\npublic void registerServer(@Payload(required = false) ServerInfo serverInfo) \r\n\r\n@KafkaListener(topics=&quot;topic-2&quot;,groupId=&quot;group-2&quot;)\r\npublic void processAlert(@Payload(required = false) AlertOnKafka alert)\r\n```\r\n\r\ndocs: https://docs.spring.io/spring-kafka/reference/html/#annotation-properties","title":"Kafka is giving: &quot;The group member needs to have a valid member id before actually entering a consumer group&quot;","body":"<p>If the answer from @Archimedes Trajano doesn't work for you (like in my case), then this happens when kafka can't pick up the consumer group id.</p>\n<p>if you have a single consumer group, you can specify it in the properties file like this:</p>\n<pre><code>spring:\n  kafka:\n    bootstrap-servers: kafka:9092\n    consumer:\n      group-id: insert-your-consumer-group-id\n      ... rest of your properties ...\n</code></pre>\n<p>or if you have multiple consumers then you can specify the <code>groupId</code> for each one:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@KafkaListener(topics=&quot;topic-1&quot;, groupId=&quot;group-1&quot;)\npublic void registerServer(@Payload(required = false) ServerInfo serverInfo) \n\n@KafkaListener(topics=&quot;topic-2&quot;,groupId=&quot;group-2&quot;)\npublic void processAlert(@Payload(required = false) AlertOnKafka alert)\n</code></pre>\n<p>docs: <a href=\"https://docs.spring.io/spring-kafka/reference/html/#annotation-properties\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-kafka/reference/html/#annotation-properties</a></p>\n"},{"tags":[],"owner":{"account_id":10270780,"reputation":111,"user_id":7579217,"display_name":"Abhimanyu Singh"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1681169507,"creation_date":1681169507,"answer_id":75981451,"question_id":63946696,"body_markdown":"In my experience this is caused by a missing group instance id configuration.\r\n\r\nBelow is what I use while configuring the kafka consumer for a group.\r\n\r\n    consumerProperties.put(ConsumerConfig.GROUP_INSTANCE_ID_CONFIG,(&quot;SchedulerCoordinator&quot;+UUID.randomUUID()));\r\n\r\nBear in mind that I personally prefer class configurations over property based ones and these consumerProperties go into the Consumer initialisation.","title":"Kafka is giving: &quot;The group member needs to have a valid member id before actually entering a consumer group&quot;","body":"<p>In my experience this is caused by a missing group instance id configuration.</p>\n<p>Below is what I use while configuring the kafka consumer for a group.</p>\n<pre><code>consumerProperties.put(ConsumerConfig.GROUP_INSTANCE_ID_CONFIG,(&quot;SchedulerCoordinator&quot;+UUID.randomUUID()));\n</code></pre>\n<p>Bear in mind that I personally prefer class configurations over property based ones and these consumerProperties go into the Consumer initialisation.</p>\n"}],"owner":{"account_id":5211177,"reputation":611,"user_id":4167554,"accept_rate":44,"display_name":"KRico"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":56510,"favorite_count":0,"down_vote_count":0,"up_vote_count":28,"answer_count":5,"score":28,"last_activity_date":1681169507,"creation_date":1600380059,"question_id":63946696,"body_markdown":"I am using Kafka to consume messages in Java.  I want to test by starting the same app multiple times on my local box. When I start up, the first time I am able to start consuming messages from the topic.  When I start up a second one I get:\r\n\r\n```\r\nJoin group failed with org.apache.kafka.common.errors.MemberIdRequiredException: The group member needs to have a valid member id before actually entering a consumer group\r\n```\r\n and dont get any messages from the topic.  If I try to start more of them I get the same issues.\r\n\r\nThe configuration I am using for Kafka is\r\n\r\n```yaml\r\nspring:\r\n  kafka:\r\n    bootstrap-servers: kafka:9092\r\n    consumer:\r\n      auto-offset-reset: earliest\r\n      key-deserializer: org.springframework.kafka.support.serializer.ErrorHandlingDeserializer2\r\n      value-deserializer: org.springframework.kafka.support.serializer.ErrorHandlingDeserializer2\r\n      properties:\r\n        spring.deserializer.key.delegate.class: org.springframework.kafka.support.serializer.JsonDeserializer\r\n        spring.deserializer.value.delegate.class: org.springframework.kafka.support.serializer.JsonDeserializer\r\n        spring.json.use.type.headers: false\r\n    listener:\r\n      missing-topics-fatal: false\r\n```\r\n\r\nI have two topics\r\n\r\n```java\r\n@Configuration\r\npublic class KafkaTopics {\r\n    @Bean(&quot;alertsTopic&quot;)\r\n    public NewTopic alertsTopic() {\r\n\r\n        return TopicBuilder.name(&quot;XXX.alerts&quot;)\r\n            .compact()\r\n            .build();\r\n    }\r\n\r\n    @Bean(&quot;serversTopic&quot;)\r\n    public NewTopic serversTopic() {\r\n\r\n        return TopicBuilder.name(&quot;XXX.servers&quot;)\r\n            .compact()\r\n            .build();\r\n    }\r\n\r\n}\r\n```\r\n\r\nAnd two listeners in *different* class files.\r\n\r\n    @KafkaListener(topics = SERVERS_KAFKA_TOPIC, id = &quot;#{T(java.util.UUID).randomUUID().toString()}&quot;,\r\n        properties = {\r\n            &quot;spring.json.key.default.type=java.lang.String&quot;,\r\n            &quot;spring.json.value.default.type=com.devhaus.learningjungle.db.kafka.ServerInfo&quot;\r\n        })\r\n    public void registerServer(\r\n        @Payload(required = false) ServerInfo serverInfo\r\n    ) \r\n\r\n    @KafkaListener(topics = ALERTS_KAFKA_TOPIC,\r\n        id = &quot;#{T(java.util.UUID).randomUUID().toString()}&quot;,\r\n        properties = {\r\n            &quot;spring.json.key.default.type=com.devhaus.learningjungle.db.kafka.AlertOnKafkaKey&quot;,\r\n            &quot;spring.json.value.default.type=com.devhaus.learningjungle.db.kafka.AlertOnKafka&quot;\r\n        })\r\n    public void processAlert(\r\n        @Header(KafkaHeaders.RECEIVED_MESSAGE_KEY) AlertOnKafkaKey key,\r\n        @Header(KafkaHeaders.RECEIVED_PARTITION_ID) int partitionId,\r\n        @Header(KafkaHeaders.OFFSET) long offset,\r\n        @Payload(required = false) AlertOnKafka alert)\r\n```","title":"Kafka is giving: &quot;The group member needs to have a valid member id before actually entering a consumer group&quot;","body":"<p>I am using Kafka to consume messages in Java.  I want to test by starting the same app multiple times on my local box. When I start up, the first time I am able to start consuming messages from the topic.  When I start up a second one I get:</p>\n<pre><code>Join group failed with org.apache.kafka.common.errors.MemberIdRequiredException: The group member needs to have a valid member id before actually entering a consumer group\n</code></pre>\n<p>and dont get any messages from the topic.  If I try to start more of them I get the same issues.</p>\n<p>The configuration I am using for Kafka is</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>spring:\n  kafka:\n    bootstrap-servers: kafka:9092\n    consumer:\n      auto-offset-reset: earliest\n      key-deserializer: org.springframework.kafka.support.serializer.ErrorHandlingDeserializer2\n      value-deserializer: org.springframework.kafka.support.serializer.ErrorHandlingDeserializer2\n      properties:\n        spring.deserializer.key.delegate.class: org.springframework.kafka.support.serializer.JsonDeserializer\n        spring.deserializer.value.delegate.class: org.springframework.kafka.support.serializer.JsonDeserializer\n        spring.json.use.type.headers: false\n    listener:\n      missing-topics-fatal: false\n</code></pre>\n<p>I have two topics</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\npublic class KafkaTopics {\n    @Bean(&quot;alertsTopic&quot;)\n    public NewTopic alertsTopic() {\n\n        return TopicBuilder.name(&quot;XXX.alerts&quot;)\n            .compact()\n            .build();\n    }\n\n    @Bean(&quot;serversTopic&quot;)\n    public NewTopic serversTopic() {\n\n        return TopicBuilder.name(&quot;XXX.servers&quot;)\n            .compact()\n            .build();\n    }\n\n}\n</code></pre>\n<p>And two listeners in <em>different</em> class files.</p>\n<pre><code>@KafkaListener(topics = SERVERS_KAFKA_TOPIC, id = &quot;#{T(java.util.UUID).randomUUID().toString()}&quot;,\n    properties = {\n        &quot;spring.json.key.default.type=java.lang.String&quot;,\n        &quot;spring.json.value.default.type=com.devhaus.learningjungle.db.kafka.ServerInfo&quot;\n    })\npublic void registerServer(\n    @Payload(required = false) ServerInfo serverInfo\n) \n\n@KafkaListener(topics = ALERTS_KAFKA_TOPIC,\n    id = &quot;#{T(java.util.UUID).randomUUID().toString()}&quot;,\n    properties = {\n        &quot;spring.json.key.default.type=com.devhaus.learningjungle.db.kafka.AlertOnKafkaKey&quot;,\n        &quot;spring.json.value.default.type=com.devhaus.learningjungle.db.kafka.AlertOnKafka&quot;\n    })\npublic void processAlert(\n    @Header(KafkaHeaders.RECEIVED_MESSAGE_KEY) AlertOnKafkaKey key,\n    @Header(KafkaHeaders.RECEIVED_PARTITION_ID) int partitionId,\n    @Header(KafkaHeaders.OFFSET) long offset,\n    @Payload(required = false) AlertOnKafka alert)\n</code></pre>\n<pre><code></code></pre>\n"},{"tags":["java","microservices","netflix-eureka","openfeign"],"answers":[{"tags":[],"owner":{"account_id":16395029,"reputation":379,"user_id":11842836,"display_name":"Danish Javed"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681168620,"creation_date":1681168620,"answer_id":75981390,"question_id":75980163,"body_markdown":"I was missing path in my feign client. Updated that to \r\n\r\n```\r\n@FeignClient(value = &quot;bottom-service&quot;, path = &quot;/bottom&quot;)\r\npublic interface AppFeignClient {\r\n    @GetMapping\r\n    public String test();\r\n}\r\n```\r\n\r\nNot it works fine. Although the url still uses the service name like but it is able to fetch data with the same url\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/cfbjM.png","title":"Fiegn Client not picking service url from Eureka Service","body":"<p>I was missing path in my feign client. Updated that to</p>\n<pre><code>@FeignClient(value = &quot;bottom-service&quot;, path = &quot;/bottom&quot;)\npublic interface AppFeignClient {\n    @GetMapping\n    public String test();\n}\n</code></pre>\n<p>Not it works fine. Although the url still uses the service name like but it is able to fetch data with the same url</p>\n<p><a href=\"https://i.stack.imgur.com/cfbjM.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/cfbjM.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":16395029,"reputation":379,"user_id":11842836,"display_name":"Danish Javed"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":140,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1681168620,"creation_date":1681155526,"question_id":75980163,"body_markdown":"I have just started with microservices and to learn I am working on [this project][1]\r\n&lt;br/&gt;\r\nThe problem is although my services are registered at Eureka Server.\r\nOpenFeing is not picking up the url. It is picking up the service name instead for the url. &lt;h5&gt;The Problem&lt;/h5&gt;\r\n[![enter image description here][2]][2]\r\n&lt;br/&gt;\r\n&lt;h5&gt;Check registered services&lt;/h5&gt;\r\n\r\n[![Registed Services][3]][3]\r\n\r\n&lt;h4&gt;Application Properties&lt;/h4&gt;\r\n&lt;h6&gt;Server&lt;/h6&gt;\r\n\r\n```\r\nserver.port=8761\r\n\r\nspring.application.name=eureka-server\r\neureka.client.register-with-eureka=false\r\neureka.client.fetch-registry=false\r\n```\r\n\r\n&lt;h6&gt;Top layer (the one that&#39;ll consume other services)&lt;/h6&gt;\r\n\r\n```\r\nspring.application.name=top-service\r\nserver.port=8080\r\neureka.client.service-url.defaultZone=http://localhost:8761/eureka\r\n\r\n```\r\n\r\n&lt;h6&gt;Bottomlayer (the one that&#39;ll be consumed)&lt;/h6&gt;\r\n\r\n```\r\nspring.application.name=bottom-service\r\nserver.port=8082\r\neureka.client.service-url.defaultZone=http://localhost:8761/eureka\r\n\r\n```\r\n\r\n&lt;h5&gt;Open Feign Interface&lt;/h5&gt;\r\n\r\n```\r\n@FeignClient(value = &quot;bottom-service&quot;)\r\npublic interface AppFeignClient {\r\n    @GetMapping\r\n    public String test();\r\n\r\n}\r\n```\r\n\r\n&lt;br/&gt;&lt;br/&gt;\r\n[Please checkout this github repo in case entire code is required][1]\r\n\r\n\r\n  [1]: https://github.com/dev-danish-javed/MicroServices\r\n  [2]: https://i.stack.imgur.com/IqyiE.png\r\n  [3]: https://i.stack.imgur.com/1OcHj.png","title":"Fiegn Client not picking service url from Eureka Service","body":"<p>I have just started with microservices and to learn I am working on <a href=\"https://github.com/dev-danish-javed/MicroServices\" rel=\"nofollow noreferrer\">this project</a>\n<br/>\nThe problem is although my services are registered at Eureka Server.\nOpenFeing is not picking up the url. It is picking up the service name instead for the url. <h5>The Problem</h5>\n<a href=\"https://i.stack.imgur.com/IqyiE.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/IqyiE.png\" alt=\"enter image description here\" /></a>\n<br/></p>\n<h5>Check registered services</h5>\n<p><a href=\"https://i.stack.imgur.com/1OcHj.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/1OcHj.png\" alt=\"Registed Services\" /></a></p>\n<h4>Application Properties</h4>\n<h6>Server</h6>\n<pre><code>server.port=8761\n\nspring.application.name=eureka-server\neureka.client.register-with-eureka=false\neureka.client.fetch-registry=false\n</code></pre>\n<h6>Top layer (the one that'll consume other services)</h6>\n<pre><code>spring.application.name=top-service\nserver.port=8080\neureka.client.service-url.defaultZone=http://localhost:8761/eureka\n\n</code></pre>\n<h6>Bottomlayer (the one that'll be consumed)</h6>\n<pre><code>spring.application.name=bottom-service\nserver.port=8082\neureka.client.service-url.defaultZone=http://localhost:8761/eureka\n\n</code></pre>\n<h5>Open Feign Interface</h5>\n<pre><code>@FeignClient(value = &quot;bottom-service&quot;)\npublic interface AppFeignClient {\n    @GetMapping\n    public String test();\n\n}\n</code></pre>\n<p><br/><br/>\n<a href=\"https://github.com/dev-danish-javed/MicroServices\" rel=\"nofollow noreferrer\">Please checkout this github repo in case entire code is required</a></p>\n"},{"tags":["java","hibernate","jpa","h2"],"comments":[{"owner":{"account_id":1535561,"reputation":7664,"user_id":1431720,"accept_rate":89,"display_name":"Robert"},"score":0,"creation_date":1681165807,"post_id":75980561,"comment_id":134009852,"body_markdown":"What exactly do you mean by &quot;didn&#39;t work&quot;? What happened when you ran your code, and what were you expecting to happen instead? Any errors? See [ask].","body":"What exactly do you mean by &quot;didn&#39;t work&quot;? What happened when you ran your code, and what were you expecting to happen instead? Any errors? See <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a>."},{"owner":{"account_id":14999839,"reputation":138,"user_id":10827862,"display_name":"smileis2333"},"score":0,"creation_date":1681193092,"post_id":75980561,"comment_id":134012524,"body_markdown":"so why no add the field userId? so you can transfer to id to this field when deserialize.","body":"so why no add the field userId? so you can transfer to id to this field when deserialize."}],"answers":[{"tags":[],"owner":{"account_id":17520379,"reputation":1536,"user_id":12706564,"display_name":"Emanuel Trandafir"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681168230,"creation_date":1681168230,"answer_id":75981363,"question_id":75980561,"body_markdown":"One thing you cna do is to keep sending the ownerId - as in your example. After that, you can map te other fields as usual, and, when it comes to the owner, use an `entityManager` or a `JpaRepository` and call the `getReference` method. \r\n\r\nThis will return something that looks like a `User` and it can be used for other queries or db operations, but it&#39;s actually just a proxy based on the given id: \r\n\r\n    User owner = entityManager.getReference(User.class, deviceDto.getOwner());\r\n    Device device = mapper.map(deviceDto); // map the other fields\r\n    device.setOwner(owner);\r\n    deviceRepository.save(device);\r\n\r\nRead more about it here: https://www.baeldung.com/jpa-entity-manager-get-reference","title":"Hibernate: Entity Relationship only with id in JSON?","body":"<p>One thing you cna do is to keep sending the ownerId - as in your example. After that, you can map te other fields as usual, and, when it comes to the owner, use an <code>entityManager</code> or a <code>JpaRepository</code> and call the <code>getReference</code> method.</p>\n<p>This will return something that looks like a <code>User</code> and it can be used for other queries or db operations, but it's actually just a proxy based on the given id:</p>\n<pre><code>User owner = entityManager.getReference(User.class, deviceDto.getOwner());\nDevice device = mapper.map(deviceDto); // map the other fields\ndevice.setOwner(owner);\ndeviceRepository.save(device);\n</code></pre>\n<p>Read more about it here: <a href=\"https://www.baeldung.com/jpa-entity-manager-get-reference\" rel=\"nofollow noreferrer\">https://www.baeldung.com/jpa-entity-manager-get-reference</a></p>\n"}],"owner":{"account_id":25899418,"reputation":1,"user_id":19625565,"display_name":"Niklas Hohlweg"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":79,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1681168230,"creation_date":1681159301,"question_id":75980561,"body_markdown":"I&#180;ve got two Entities: User and Device.\r\nEach Device should have one User. But the Users are already existing so I want to Link a User by the Id to my Device.\r\nAt the Moment I have to create a User and send it as Post-Request to my Backend. But I just want to send the Id which should be stored. \r\n\r\n\r\nI have ceated an Application and have to transfer the Data via JSON-File\r\n\r\n\r\n\r\n```\r\n@Entity\r\n@Table(name = &quot;Users&quot;)\r\npublic class User {\r\n    @Id\r\n    @GeneratedValue (strategy = GenerationType.IDENTITY)\r\n    private Long id;\r\n    private String name;\r\n    private String email;\r\n    private String password;\r\n    private boolean activity;\r\n    private boolean login;\r\n```\r\n\r\n\r\n```\r\nEntity\r\n@Table(name = &quot;Devices&quot;)\r\npublic class Device {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long id\r\n    private boolean activity;\r\n    private String location;\r\n    @OneToOne\r\n    @JoinColumn(name = &quot;UserId&quot;, referencedColumnName = &quot;id&quot;)\r\n    private User owner;\r\n```\r\n\r\n\r\n```\r\n//This is the JSON-File how I have to send it\r\n{\r\n    &quot;activity&quot;: &quot;true&quot;,\r\n    &quot;location&quot;: &quot;Room 102&quot;,\r\n    &quot;owner&quot;: {\r\n        &quot;name&quot;: &quot;Mike&quot;,\r\n        &quot;email&quot;: &quot;testMail@test.com&quot;,\r\n        &quot;password&quot;: &quot;123456&quot;,\r\n        &quot;activity&quot;: &quot;true&quot;,\r\n        &quot;login&quot;: &quot;false&quot;\r\n    }\r\n}\r\n\r\n//This is how I would like to send it (Only sending the Id of the other Table)\r\n{\r\n    &quot;activity&quot;: &quot;true&quot;,\r\n    &quot;location&quot;: &quot;Room 102&quot;,\r\n    &quot;owner&quot;: &quot;1&quot;\r\n}\r\n```\r\n\r\n\r\n\r\n\r\nI tried via Relationships (ManyToOne &amp; OneToMany) but it didnt work.","title":"Hibernate: Entity Relationship only with id in JSON?","body":"<p>I´ve got two Entities: User and Device.\nEach Device should have one User. But the Users are already existing so I want to Link a User by the Id to my Device.\nAt the Moment I have to create a User and send it as Post-Request to my Backend. But I just want to send the Id which should be stored.</p>\n<p>I have ceated an Application and have to transfer the Data via JSON-File</p>\n<pre><code>@Entity\n@Table(name = &quot;Users&quot;)\npublic class User {\n    @Id\n    @GeneratedValue (strategy = GenerationType.IDENTITY)\n    private Long id;\n    private String name;\n    private String email;\n    private String password;\n    private boolean activity;\n    private boolean login;\n</code></pre>\n<pre><code>Entity\n@Table(name = &quot;Devices&quot;)\npublic class Device {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id\n    private boolean activity;\n    private String location;\n    @OneToOne\n    @JoinColumn(name = &quot;UserId&quot;, referencedColumnName = &quot;id&quot;)\n    private User owner;\n</code></pre>\n<pre><code>//This is the JSON-File how I have to send it\n{\n    &quot;activity&quot;: &quot;true&quot;,\n    &quot;location&quot;: &quot;Room 102&quot;,\n    &quot;owner&quot;: {\n        &quot;name&quot;: &quot;Mike&quot;,\n        &quot;email&quot;: &quot;testMail@test.com&quot;,\n        &quot;password&quot;: &quot;123456&quot;,\n        &quot;activity&quot;: &quot;true&quot;,\n        &quot;login&quot;: &quot;false&quot;\n    }\n}\n\n//This is how I would like to send it (Only sending the Id of the other Table)\n{\n    &quot;activity&quot;: &quot;true&quot;,\n    &quot;location&quot;: &quot;Room 102&quot;,\n    &quot;owner&quot;: &quot;1&quot;\n}\n</code></pre>\n<p>I tried via Relationships (ManyToOne &amp; OneToMany) but it didnt work.</p>\n"},{"tags":["java","spring","performance","jpa","spring-data-jpa"],"answers":[{"tags":[],"owner":{"account_id":19535095,"reputation":2864,"user_id":14294053,"display_name":"Mar-Z"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1681152267,"creation_date":1681152267,"answer_id":75979808,"question_id":75979696,"body_markdown":"It is easy done by setting a property:\r\n\r\n    \r\n    spring.jpa.properties.hibernate.jdbc.batch_size=123\r\n\r\nYou will implement the updates/inserts in a loop but Hibernate will try to send them to the database in a batch.","title":"Efficiently Performing Bulk Updates with Spring Data JPA on a Large Number of Entities","body":"<p>It is easy done by setting a property:</p>\n<pre><code>spring.jpa.properties.hibernate.jdbc.batch_size=123\n</code></pre>\n<p>You will implement the updates/inserts in a loop but Hibernate will try to send them to the database in a batch.</p>\n"},{"tags":[],"owner":{"account_id":14194880,"reputation":1483,"user_id":10254476,"display_name":"GJohannes"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1681167232,"creation_date":1681167232,"answer_id":75981300,"question_id":75979696,"body_markdown":"If you don&#180;t need to access the callback from your Repository you can simply Inject the bean `entityManager` and detatch from your Hibernate Context.\r\n\r\n    private final EntityManager entityManager;\r\n\r\n    public void someMethod(List&lt;SomeObject&gt; objects) {\r\n        objects.forEach(someObject-&gt; {\r\n            res = someRepository.save(someObject);\r\n            entityManager.detatch(res); // or use &#180;entityManager.clear();&#180; \r\n        });\r\n    }\r\n\r\nThis might also be useful ;)\r\n\r\nhttps://stackoverflow.com/questions/75852833/why-is-jpa-hibernate-slowing-down-when-loading-a-large-amount-of-data-in-a-spr","title":"Efficiently Performing Bulk Updates with Spring Data JPA on a Large Number of Entities","body":"<p>If you don´t need to access the callback from your Repository you can simply Inject the bean <code>entityManager</code> and detatch from your Hibernate Context.</p>\n<pre><code>private final EntityManager entityManager;\n\npublic void someMethod(List&lt;SomeObject&gt; objects) {\n    objects.forEach(someObject-&gt; {\n        res = someRepository.save(someObject);\n        entityManager.detatch(res); // or use ´entityManager.clear();´ \n    });\n}\n</code></pre>\n<p>This might also be useful ;)</p>\n<p><a href=\"https://stackoverflow.com/questions/75852833/why-is-jpa-hibernate-slowing-down-when-loading-a-large-amount-of-data-in-a-spr\">Why is JPA / Hibernate slowing down when loading a large amount of data in a Spring Boot application?</a></p>\n"}],"owner":{"account_id":9097895,"reputation":843,"user_id":6771202,"display_name":"Sachintha Hewawasam"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":926,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1681167232,"creation_date":1681151362,"question_id":75979696,"body_markdown":"I have a large number of records that I need to update efficiently using Spring Data JPA. The records number in the thousands and my current approach of using a loop with the save() method is slow and inefficient. Can someone suggest a better way to perform bulk updates using Spring Data JPA?","title":"Efficiently Performing Bulk Updates with Spring Data JPA on a Large Number of Entities","body":"<p>I have a large number of records that I need to update efficiently using Spring Data JPA. The records number in the thousands and my current approach of using a loop with the save() method is slow and inefficient. Can someone suggest a better way to perform bulk updates using Spring Data JPA?</p>\n"},{"tags":["java","optaplanner","vehicle-routing"],"owner":{"account_id":281342,"reputation":1196,"user_id":577588,"accept_rate":81,"display_name":"Thomas Nairn"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":73,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681166595,"creation_date":1681166595,"question_id":75981258,"body_markdown":"I&#39;m currently working through a Vehicle Routing Problem.\r\nThe issue I&#39;m seeing is that each stop also has a variable start and end time and also a variable driver for each given stop.  \r\n\r\nMy current solution has been to skip defining this as a chain or list and instead just mark them both as regular Planning variables at the cost of performance, but I&#39;ve hit a snag when in full assert mode:\r\n\r\n&gt; java.lang.IllegalStateException: VariableListener corruption after completedAction\r\n&gt; ... for that shadow variable (TripAssignment.previousTripAssignment) ... for that shadow variable (TripAssignment.dropoffTime) ... shadow variable (TripAssignment.pickupTime)\r\n\r\nMy constraints require knowing the previous assignment.\r\n\r\nMy current Planning Entity is as follows:\r\n```java\r\npackage org.acme.schooltimetabling.domain;\r\n\r\nimport java.time.ZonedDateTime;\r\nimport java.time.temporal.ChronoUnit;\r\nimport java.util.List;\r\nimport java.util.stream.Collectors;\r\nimport java.util.stream.Stream;\r\n\r\nimport org.acme.schooltimetabling.domain.listener.PreviousTripAssignmentUpdatingVariableListener;\r\nimport org.optaplanner.core.api.domain.entity.PlanningEntity;\r\nimport org.optaplanner.core.api.domain.lookup.PlanningId;\r\nimport org.optaplanner.core.api.domain.solution.ProblemFactProperty;\r\nimport org.optaplanner.core.api.domain.variable.PiggybackShadowVariable;\r\nimport org.optaplanner.core.api.domain.variable.PlanningVariable;\r\nimport org.optaplanner.core.api.domain.variable.ShadowVariable;\r\n\r\nimport com.fasterxml.jackson.annotation.JsonIgnore;\r\n\r\n@PlanningEntity\r\npublic class TripAssignment {\r\n\r\n    private Trip trip;\r\n\r\n    private ZonedDateTime pickupTime;\r\n    private ZonedDateTime dropoffTime;\r\n    private ZonedDateTime startTime; // represents the time the driver will start the trip\r\n    @JsonIgnore\r\n    private TripAssignment previousTripAssignment;\r\n    private Driver driver;\r\n\r\n    public Trip getTrip() {\r\n        return trip;\r\n    }\r\n    \r\n    @PlanningVariable(valueRangeProviderRefs = { &quot;drivers&quot; })\r\n    public Driver getDriver() {\r\n        return driver;\r\n    }\r\n\r\n    @PlanningVariable(valueRangeProviderRefs = { &quot;possibleStartTimes&quot; })\r\n    public ZonedDateTime getStartTime() {\r\n        return startTime;\r\n    }\r\n\r\n\r\n    public TripAssignment() {\r\n    }\r\n\r\n    public TripAssignment(Trip trip) {\r\n        this.trip = trip;\r\n    }\r\n\r\n    @ShadowVariable(sourceVariableName = &quot;startTime&quot;, variableListenerClass = PreviousTripAssignmentUpdatingVariableListener.class)\r\n    @ShadowVariable(sourceVariableName = &quot;driver&quot;, variableListenerClass = PreviousTripAssignmentUpdatingVariableListener.class)\r\n    @JsonIgnore\r\n    public TripAssignment getPreviousTripAssignment() {\r\n        return previousTripAssignment;\r\n    }\r\n\r\n\r\n    @PiggybackShadowVariable(shadowVariableName = &quot;previousTripAssignment&quot;)\r\n    public ZonedDateTime getPickupTime() {\r\n        return pickupTime;\r\n    }\r\n\r\n\r\n    @PiggybackShadowVariable(shadowVariableName = &quot;previousTripAssignment&quot;)\r\n    public ZonedDateTime getDropoffTime() {\r\n        return dropoffTime;\r\n    }\r\n\r\n}\r\n```\r\n\r\nI&#39;m using piggyback here, but the listener is updating multiple variables and using the current working solutions list of trips.\r\n\r\nMy listener:\r\n```java\r\npackage org.acme.schooltimetabling.domain.listener;\r\n\r\nimport java.time.Duration;\r\nimport java.time.ZonedDateTime;\r\nimport java.time.temporal.ChronoUnit;\r\nimport java.util.Comparator;\r\n\r\nimport org.acme.schooltimetabling.domain.Location;\r\nimport org.acme.schooltimetabling.domain.TripAssignment;\r\nimport org.acme.schooltimetabling.solver.VehicleDeliverySolution;\r\nimport org.optaplanner.core.api.domain.variable.VariableListener;\r\nimport org.optaplanner.core.api.score.director.ScoreDirector;\r\n\r\npublic class PreviousTripAssignmentUpdatingVariableListener\r\n        implements VariableListener&lt;VehicleDeliverySolution, TripAssignment&gt; {\r\n\r\n    public PreviousTripAssignmentUpdatingVariableListener() {\r\n    }\r\n\r\n    @Override\r\n    public void beforeEntityAdded(ScoreDirector&lt;VehicleDeliverySolution&gt; scoreDirector, TripAssignment entity) {\r\n    }\r\n\r\n    @Override\r\n    public void afterEntityAdded(ScoreDirector&lt;VehicleDeliverySolution&gt; scoreDirector, TripAssignment entity) {\r\n    }\r\n\r\n    @Override\r\n    public void beforeEntityRemoved(ScoreDirector&lt;VehicleDeliverySolution&gt; scoreDirector, TripAssignment entity) {\r\n    }\r\n\r\n    @Override\r\n    public void afterEntityRemoved(ScoreDirector&lt;VehicleDeliverySolution&gt; scoreDirector, TripAssignment entity) {\r\n    }\r\n\r\n    @Override\r\n    public void beforeVariableChanged(ScoreDirector&lt;VehicleDeliverySolution&gt; scoreDirector, TripAssignment entity) {\r\n    }\r\n\r\n    private void setPreviousTripAssignment(ScoreDirector&lt;VehicleDeliverySolution&gt; scoreDirector,\r\n            TripAssignment assignment,\r\n            TripAssignment previousTripAssignment) {\r\n        scoreDirector.beforeVariableChanged(assignment, &quot;previousTripAssignment&quot;);\r\n        assignment.setPreviousTripAssignment(previousTripAssignment);\r\n        scoreDirector.afterVariableChanged(assignment, &quot;previousTripAssignment&quot;);\r\n    }\r\n\r\n    private void setPickupTime(ScoreDirector&lt;VehicleDeliverySolution&gt; scoreDirector, TripAssignment assignment,\r\n            ZonedDateTime pickupTime) {\r\n        scoreDirector.beforeVariableChanged(assignment, &quot;pickupTime&quot;);\r\n        assignment.setPickupTime(pickupTime);\r\n        scoreDirector.afterVariableChanged(assignment, &quot;pickupTime&quot;);\r\n    }\r\n\r\n    private void setDropoffTime(ScoreDirector&lt;VehicleDeliverySolution&gt; scoreDirector, TripAssignment assignment,\r\n            ZonedDateTime dropoffTime) {\r\n        scoreDirector.beforeVariableChanged(assignment, &quot;dropoffTime&quot;);\r\n        assignment.setDropoffTime(dropoffTime);\r\n        scoreDirector.afterVariableChanged(assignment, &quot;dropoffTime&quot;);\r\n    }\r\n\r\n    private ZonedDateTime calculatePickupTime(ScoreDirector&lt;VehicleDeliverySolution&gt; scoreDirector,\r\n            TripAssignment previousAssignment,\r\n            TripAssignment assignment) {\r\n        Location previousLocation;\r\n        if (previousAssignment != null) {\r\n            // The driver has a previous assignment that he&#39;s coming from\r\n            if (previousAssignment.getDropoffTime().until(assignment.getStartTime(), ChronoUnit.HOURS) &gt; 4) {\r\n                // The driver had a previous assignment, but he&#39;s had a long break inbetween.\r\n                // TODO: Fix this up.\r\n                previousLocation = assignment.getDriver().getHome();\r\n            } else {\r\n                previousLocation = previousAssignment.getTrip().getDropoffLocation();\r\n            }\r\n        } else {\r\n            previousLocation = assignment.getDriver().getHome();\r\n        }\r\n        Duration travelTime = scoreDirector.getWorkingSolution().getBikingDropoffToPickupDuration()\r\n                .get(previousLocation, assignment.getTrip().getPickupLocation());\r\n        if (travelTime == null) {\r\n            System.out.println(\r\n                    &quot;Incomplete distanceMatrix from &quot;\r\n                            + (assignment.getDriver().getHome() == previousLocation\r\n                                    ? &quot;(Driver &quot; + assignment.getDriver().getId() + &quot; Home)&quot;\r\n                                    : &quot;(&quot; + previousAssignment.getTrip().getId() + &quot; Previous Assignment)&quot;)\r\n                            + previousLocation + &quot; to &quot;\r\n                            + assignment.getTrip().getPickupLocation());\r\n        }\r\n        // Calculate the end time based on the travel time and start time\r\n        ZonedDateTime startTime = assignment.getStartTime();\r\n        return startTime.plus(travelTime);\r\n    }\r\n\r\n    private ZonedDateTime calculateDropoffTime(ScoreDirector&lt;VehicleDeliverySolution&gt; scoreDirector,\r\n            ZonedDateTime pickupTime,\r\n            TripAssignment assignment) {\r\n        Duration travelTime = scoreDirector.getWorkingSolution().getDrivingPickupToDropoffDuration()\r\n                .get(assignment.getTrip().getPickupLocation(),\r\n                        assignment.getTrip().getDropoffLocation());\r\n\r\n        return pickupTime.plus(travelTime);\r\n    }\r\n\r\n    @Override\r\n    public void afterVariableChanged(ScoreDirector&lt;VehicleDeliverySolution&gt; scoreDirector,\r\n            TripAssignment assignment) {\r\n        if (assignment.getStartTime() == null) {\r\n            System.out.println(&quot;No start time set, setting variables to null&quot;);\r\n            setPreviousTripAssignment(scoreDirector, assignment, null);\r\n            setDropoffTime(scoreDirector, assignment, null);\r\n            setPickupTime(scoreDirector, assignment, null);\r\n            return;\r\n        }\r\n        System.out.println(&quot;Start time has been set, moving&quot;);\r\n        TripAssignment previousAssignment = scoreDirector.getWorkingSolution().getAssignments().stream()\r\n                .filter(aAssignment -&gt; aAssignment.getDriver() == assignment.getDriver())\r\n                .filter(aAssignment -&gt; aAssignment.getStartTime() != null)\r\n                .filter(aAssignment -&gt; aAssignment.getStartTime().isBefore(assignment.getStartTime()))\r\n                .max(Comparator.comparing(aAssignment -&gt; aAssignment.getStartTime()))\r\n                .orElse(null);\r\n        System.out.println(&quot;Setting previous assignment to &quot; + previousAssignment);\r\n        setPreviousTripAssignment(scoreDirector, assignment, previousAssignment);\r\n        ZonedDateTime pickupTime = calculatePickupTime(scoreDirector, previousAssignment, assignment);\r\n        System.out.println(&quot;Setting pickup time to &quot; + pickupTime);\r\n        setPickupTime(scoreDirector, assignment, pickupTime);\r\n        ZonedDateTime dropoffTime = calculateDropoffTime(scoreDirector, pickupTime, assignment);\r\n        System.out.println(&quot;Setting dropoff time to &quot; + dropoffTime);\r\n        setDropoffTime(scoreDirector, assignment, dropoffTime);\r\n    }\r\n}\r\n```","title":"Optaplanner Chained-through time with variable start time","body":"<p>I'm currently working through a Vehicle Routing Problem.\nThe issue I'm seeing is that each stop also has a variable start and end time and also a variable driver for each given stop.</p>\n<p>My current solution has been to skip defining this as a chain or list and instead just mark them both as regular Planning variables at the cost of performance, but I've hit a snag when in full assert mode:</p>\n<blockquote>\n<p>java.lang.IllegalStateException: VariableListener corruption after completedAction\n... for that shadow variable (TripAssignment.previousTripAssignment) ... for that shadow variable (TripAssignment.dropoffTime) ... shadow variable (TripAssignment.pickupTime)</p>\n</blockquote>\n<p>My constraints require knowing the previous assignment.</p>\n<p>My current Planning Entity is as follows:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package org.acme.schooltimetabling.domain;\n\nimport java.time.ZonedDateTime;\nimport java.time.temporal.ChronoUnit;\nimport java.util.List;\nimport java.util.stream.Collectors;\nimport java.util.stream.Stream;\n\nimport org.acme.schooltimetabling.domain.listener.PreviousTripAssignmentUpdatingVariableListener;\nimport org.optaplanner.core.api.domain.entity.PlanningEntity;\nimport org.optaplanner.core.api.domain.lookup.PlanningId;\nimport org.optaplanner.core.api.domain.solution.ProblemFactProperty;\nimport org.optaplanner.core.api.domain.variable.PiggybackShadowVariable;\nimport org.optaplanner.core.api.domain.variable.PlanningVariable;\nimport org.optaplanner.core.api.domain.variable.ShadowVariable;\n\nimport com.fasterxml.jackson.annotation.JsonIgnore;\n\n@PlanningEntity\npublic class TripAssignment {\n\n    private Trip trip;\n\n    private ZonedDateTime pickupTime;\n    private ZonedDateTime dropoffTime;\n    private ZonedDateTime startTime; // represents the time the driver will start the trip\n    @JsonIgnore\n    private TripAssignment previousTripAssignment;\n    private Driver driver;\n\n    public Trip getTrip() {\n        return trip;\n    }\n    \n    @PlanningVariable(valueRangeProviderRefs = { &quot;drivers&quot; })\n    public Driver getDriver() {\n        return driver;\n    }\n\n    @PlanningVariable(valueRangeProviderRefs = { &quot;possibleStartTimes&quot; })\n    public ZonedDateTime getStartTime() {\n        return startTime;\n    }\n\n\n    public TripAssignment() {\n    }\n\n    public TripAssignment(Trip trip) {\n        this.trip = trip;\n    }\n\n    @ShadowVariable(sourceVariableName = &quot;startTime&quot;, variableListenerClass = PreviousTripAssignmentUpdatingVariableListener.class)\n    @ShadowVariable(sourceVariableName = &quot;driver&quot;, variableListenerClass = PreviousTripAssignmentUpdatingVariableListener.class)\n    @JsonIgnore\n    public TripAssignment getPreviousTripAssignment() {\n        return previousTripAssignment;\n    }\n\n\n    @PiggybackShadowVariable(shadowVariableName = &quot;previousTripAssignment&quot;)\n    public ZonedDateTime getPickupTime() {\n        return pickupTime;\n    }\n\n\n    @PiggybackShadowVariable(shadowVariableName = &quot;previousTripAssignment&quot;)\n    public ZonedDateTime getDropoffTime() {\n        return dropoffTime;\n    }\n\n}\n</code></pre>\n<p>I'm using piggyback here, but the listener is updating multiple variables and using the current working solutions list of trips.</p>\n<p>My listener:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package org.acme.schooltimetabling.domain.listener;\n\nimport java.time.Duration;\nimport java.time.ZonedDateTime;\nimport java.time.temporal.ChronoUnit;\nimport java.util.Comparator;\n\nimport org.acme.schooltimetabling.domain.Location;\nimport org.acme.schooltimetabling.domain.TripAssignment;\nimport org.acme.schooltimetabling.solver.VehicleDeliverySolution;\nimport org.optaplanner.core.api.domain.variable.VariableListener;\nimport org.optaplanner.core.api.score.director.ScoreDirector;\n\npublic class PreviousTripAssignmentUpdatingVariableListener\n        implements VariableListener&lt;VehicleDeliverySolution, TripAssignment&gt; {\n\n    public PreviousTripAssignmentUpdatingVariableListener() {\n    }\n\n    @Override\n    public void beforeEntityAdded(ScoreDirector&lt;VehicleDeliverySolution&gt; scoreDirector, TripAssignment entity) {\n    }\n\n    @Override\n    public void afterEntityAdded(ScoreDirector&lt;VehicleDeliverySolution&gt; scoreDirector, TripAssignment entity) {\n    }\n\n    @Override\n    public void beforeEntityRemoved(ScoreDirector&lt;VehicleDeliverySolution&gt; scoreDirector, TripAssignment entity) {\n    }\n\n    @Override\n    public void afterEntityRemoved(ScoreDirector&lt;VehicleDeliverySolution&gt; scoreDirector, TripAssignment entity) {\n    }\n\n    @Override\n    public void beforeVariableChanged(ScoreDirector&lt;VehicleDeliverySolution&gt; scoreDirector, TripAssignment entity) {\n    }\n\n    private void setPreviousTripAssignment(ScoreDirector&lt;VehicleDeliverySolution&gt; scoreDirector,\n            TripAssignment assignment,\n            TripAssignment previousTripAssignment) {\n        scoreDirector.beforeVariableChanged(assignment, &quot;previousTripAssignment&quot;);\n        assignment.setPreviousTripAssignment(previousTripAssignment);\n        scoreDirector.afterVariableChanged(assignment, &quot;previousTripAssignment&quot;);\n    }\n\n    private void setPickupTime(ScoreDirector&lt;VehicleDeliverySolution&gt; scoreDirector, TripAssignment assignment,\n            ZonedDateTime pickupTime) {\n        scoreDirector.beforeVariableChanged(assignment, &quot;pickupTime&quot;);\n        assignment.setPickupTime(pickupTime);\n        scoreDirector.afterVariableChanged(assignment, &quot;pickupTime&quot;);\n    }\n\n    private void setDropoffTime(ScoreDirector&lt;VehicleDeliverySolution&gt; scoreDirector, TripAssignment assignment,\n            ZonedDateTime dropoffTime) {\n        scoreDirector.beforeVariableChanged(assignment, &quot;dropoffTime&quot;);\n        assignment.setDropoffTime(dropoffTime);\n        scoreDirector.afterVariableChanged(assignment, &quot;dropoffTime&quot;);\n    }\n\n    private ZonedDateTime calculatePickupTime(ScoreDirector&lt;VehicleDeliverySolution&gt; scoreDirector,\n            TripAssignment previousAssignment,\n            TripAssignment assignment) {\n        Location previousLocation;\n        if (previousAssignment != null) {\n            // The driver has a previous assignment that he's coming from\n            if (previousAssignment.getDropoffTime().until(assignment.getStartTime(), ChronoUnit.HOURS) &gt; 4) {\n                // The driver had a previous assignment, but he's had a long break inbetween.\n                // TODO: Fix this up.\n                previousLocation = assignment.getDriver().getHome();\n            } else {\n                previousLocation = previousAssignment.getTrip().getDropoffLocation();\n            }\n        } else {\n            previousLocation = assignment.getDriver().getHome();\n        }\n        Duration travelTime = scoreDirector.getWorkingSolution().getBikingDropoffToPickupDuration()\n                .get(previousLocation, assignment.getTrip().getPickupLocation());\n        if (travelTime == null) {\n            System.out.println(\n                    &quot;Incomplete distanceMatrix from &quot;\n                            + (assignment.getDriver().getHome() == previousLocation\n                                    ? &quot;(Driver &quot; + assignment.getDriver().getId() + &quot; Home)&quot;\n                                    : &quot;(&quot; + previousAssignment.getTrip().getId() + &quot; Previous Assignment)&quot;)\n                            + previousLocation + &quot; to &quot;\n                            + assignment.getTrip().getPickupLocation());\n        }\n        // Calculate the end time based on the travel time and start time\n        ZonedDateTime startTime = assignment.getStartTime();\n        return startTime.plus(travelTime);\n    }\n\n    private ZonedDateTime calculateDropoffTime(ScoreDirector&lt;VehicleDeliverySolution&gt; scoreDirector,\n            ZonedDateTime pickupTime,\n            TripAssignment assignment) {\n        Duration travelTime = scoreDirector.getWorkingSolution().getDrivingPickupToDropoffDuration()\n                .get(assignment.getTrip().getPickupLocation(),\n                        assignment.getTrip().getDropoffLocation());\n\n        return pickupTime.plus(travelTime);\n    }\n\n    @Override\n    public void afterVariableChanged(ScoreDirector&lt;VehicleDeliverySolution&gt; scoreDirector,\n            TripAssignment assignment) {\n        if (assignment.getStartTime() == null) {\n            System.out.println(&quot;No start time set, setting variables to null&quot;);\n            setPreviousTripAssignment(scoreDirector, assignment, null);\n            setDropoffTime(scoreDirector, assignment, null);\n            setPickupTime(scoreDirector, assignment, null);\n            return;\n        }\n        System.out.println(&quot;Start time has been set, moving&quot;);\n        TripAssignment previousAssignment = scoreDirector.getWorkingSolution().getAssignments().stream()\n                .filter(aAssignment -&gt; aAssignment.getDriver() == assignment.getDriver())\n                .filter(aAssignment -&gt; aAssignment.getStartTime() != null)\n                .filter(aAssignment -&gt; aAssignment.getStartTime().isBefore(assignment.getStartTime()))\n                .max(Comparator.comparing(aAssignment -&gt; aAssignment.getStartTime()))\n                .orElse(null);\n        System.out.println(&quot;Setting previous assignment to &quot; + previousAssignment);\n        setPreviousTripAssignment(scoreDirector, assignment, previousAssignment);\n        ZonedDateTime pickupTime = calculatePickupTime(scoreDirector, previousAssignment, assignment);\n        System.out.println(&quot;Setting pickup time to &quot; + pickupTime);\n        setPickupTime(scoreDirector, assignment, pickupTime);\n        ZonedDateTime dropoffTime = calculateDropoffTime(scoreDirector, pickupTime, assignment);\n        System.out.println(&quot;Setting dropoff time to &quot; + dropoffTime);\n        setDropoffTime(scoreDirector, assignment, dropoffTime);\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","jpa","spring-data-jpa"],"answers":[{"tags":[],"owner":{"account_id":18669557,"reputation":640,"user_id":13608717,"display_name":"Daniel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681166127,"creation_date":1681166127,"answer_id":75981225,"question_id":75979670,"body_markdown":"Yes, it is possible to make a custom repository implementation with Spring Data.\r\n\r\nFirst - CustomizedRepository interface is created - it will provide interface for additional methods that are wanted to be created.\r\n\r\n    interface CustomizedRepository {\r\n      void someCustomMethod(Entity entity);\r\n    }\r\n\r\nSecond - create class CustomizedRepositoryImpl which will implement both CustomizedRepository CrudRepository (to access Spring Data methods)\r\n\r\n    interface Repository extends CrudRepository&lt;Entity, Long&gt;, CustomizedRepository {\r\n    \r\n      // Query methods could be additionally declared here\r\n    }\r\n\r\n[Here is a link to Spring Data documentation for reference][1]\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#repositories.custom-implementations","title":"Using Custom Repository Implementation with Spring Data JPA while Retaining Built-in CRUD Methods","body":"<p>Yes, it is possible to make a custom repository implementation with Spring Data.</p>\n<p>First - CustomizedRepository interface is created - it will provide interface for additional methods that are wanted to be created.</p>\n<pre><code>interface CustomizedRepository {\n  void someCustomMethod(Entity entity);\n}\n</code></pre>\n<p>Second - create class CustomizedRepositoryImpl which will implement both CustomizedRepository CrudRepository (to access Spring Data methods)</p>\n<pre><code>interface Repository extends CrudRepository&lt;Entity, Long&gt;, CustomizedRepository {\n\n  // Query methods could be additionally declared here\n}\n</code></pre>\n<p><a href=\"https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#repositories.custom-implementations\" rel=\"nofollow noreferrer\">Here is a link to Spring Data documentation for reference</a></p>\n"}],"owner":{"account_id":9097895,"reputation":843,"user_id":6771202,"display_name":"Sachintha Hewawasam"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1681166127,"creation_date":1681151137,"question_id":75979670,"body_markdown":"Is it possible to use a custom repository implementation with Spring Data JPA without losing the convenience of the built-in CRUD methods? I need to add some custom logic to a repository, but I don&#39;t want to rewrite all the basic CRUD operations.","title":"Using Custom Repository Implementation with Spring Data JPA while Retaining Built-in CRUD Methods","body":"<p>Is it possible to use a custom repository implementation with Spring Data JPA without losing the convenience of the built-in CRUD methods? I need to add some custom logic to a repository, but I don't want to rewrite all the basic CRUD operations.</p>\n"},{"tags":["java","multithreading","synchronization"],"comments":[{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1681151134,"post_id":75979194,"comment_id":134007105,"body_markdown":"Why are you using a concurrent map? Are there any writes?","body":"Why are you using a concurrent map? Are there any writes?"},{"owner":{"account_id":2421927,"reputation":1760,"user_id":2185573,"accept_rate":76,"display_name":"Arunav Sanyal"},"score":0,"creation_date":1681158451,"post_id":75979194,"comment_id":134008622,"body_markdown":"Ah yea, good point. No there arent. My bad.","body":"Ah yea, good point. No there arent. My bad."}],"answers":[{"tags":[],"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1681165289,"creation_date":1681152214,"answer_id":75979797,"question_id":75979194,"body_markdown":"You can use double-checked locking to make sure it only updates once without introducing too much contention between readers:\r\n\r\n    public Optional&lt;Boolean&gt; isFlagEnabled(final String featureFlag) {\r\n        var json = retriever.retrieve();\r\n        if (!json.equals(currFlagJson)) {\r\n            synchronized (this) {\r\n                if (!json.equals(currFlagJson)) {\r\n                    flags = expensiveJsonParsingOperation(newJson);\r\n                    currFlagJson = json;\r\n                }\r\n            }\r\n        }\r\n        return Optional.ofNullable(flags.get(featureFlag));\r\n    }\r\n\r\nNote that there&#39;s no need to use a `ConcurrentMap` if you&#39;re only updating the reference without modifying the map itself. If you use an immutable map, you can also omit `volatile` from `flags` (relying on the `currFlagJson` memory barrier to keep the map reference fresh). Otherwise, there&#39;s a risk of partial publication if the field is read while another thread is updating it. Either way, `currFlagJson` must be `volatile` to ensure it&#39;s not cached.","title":"Best way to synchronize reads and writes on a map with potential updates on the entire map","body":"<p>You can use double-checked locking to make sure it only updates once without introducing too much contention between readers:</p>\n<pre><code>public Optional&lt;Boolean&gt; isFlagEnabled(final String featureFlag) {\n    var json = retriever.retrieve();\n    if (!json.equals(currFlagJson)) {\n        synchronized (this) {\n            if (!json.equals(currFlagJson)) {\n                flags = expensiveJsonParsingOperation(newJson);\n                currFlagJson = json;\n            }\n        }\n    }\n    return Optional.ofNullable(flags.get(featureFlag));\n}\n</code></pre>\n<p>Note that there's no need to use a <code>ConcurrentMap</code> if you're only updating the reference without modifying the map itself. If you use an immutable map, you can also omit <code>volatile</code> from <code>flags</code> (relying on the <code>currFlagJson</code> memory barrier to keep the map reference fresh). Otherwise, there's a risk of partial publication if the field is read while another thread is updating it. Either way, <code>currFlagJson</code> must be <code>volatile</code> to ensure it's not cached.</p>\n"}],"owner":{"account_id":2421927,"reputation":1760,"user_id":2185573,"accept_rate":76,"display_name":"Arunav Sanyal"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75979797,"answer_count":1,"score":0,"last_activity_date":1681165289,"creation_date":1681147141,"question_id":75979194,"body_markdown":"So I have this fetcher code that fetches a json configuration which is a map of string to booleans (its a json schema that is guaranteed)\r\n\r\nI have to implement this method\r\n\r\n```\r\nprivate volatile Map&lt;String, Boolean&gt; flags = new HashMap&lt;&gt;();\r\nprivate volatile String currFlagJson = &quot;&quot;;\r\nprivate final Retriever retriever; // This is initialized elsewhere, but it basically returns a cached json with a separate thread updating it. \r\n\r\npublic Optional&lt;Boolean&gt; isFlagEnabled(final String featureFlag) {\r\n   final var json = retriever.retrieve();\r\n   if (!json.equals(currJson.get)) {\r\n       updateMap(json);\r\n       return Optional.ofNullable(flags.get(featureFlag));\r\n   } else {\r\n       return Optional.ofNullable(flags.get(featureFlag));\r\n   }\r\n}\r\n\r\nprivate synchronized updateMap(final String newJson) {\r\n    final var newMap = expensiveJsonParsingOperation(newJson)\r\n    flags = newMap;\r\n    currFlagJson = newJson;\r\n}\r\n\r\n```\r\n\r\nI am trying to avoid multiple threads concurrently updating the map, but this I do not think completely works. If multiple threads race and calling the equals method, while one of the threads is updating, then eventually all the threads will try to contend updating it. I could of course synchronize the entirity of isFlagEnabled but that would be unnecessarily locking too and I could be serving read requests while the  expensiveJsonParsingOperation is happening. \r\n\r\nI am trying to figure out how best to\r\n\r\n1. Ensure exactly one thread updates this map when needed. \r\n2. Not block threads on reads while this update is happening. \r\n\r\nMaybe. https://docs.oracle.com/javase/7/docs/api/java/util/concurrent/locks/ReentrantReadWriteLock.html? Or something else I can use for this case? ","title":"Best way to synchronize reads and writes on a map with potential updates on the entire map","body":"<p>So I have this fetcher code that fetches a json configuration which is a map of string to booleans (its a json schema that is guaranteed)</p>\n<p>I have to implement this method</p>\n<pre><code>private volatile Map&lt;String, Boolean&gt; flags = new HashMap&lt;&gt;();\nprivate volatile String currFlagJson = &quot;&quot;;\nprivate final Retriever retriever; // This is initialized elsewhere, but it basically returns a cached json with a separate thread updating it. \n\npublic Optional&lt;Boolean&gt; isFlagEnabled(final String featureFlag) {\n   final var json = retriever.retrieve();\n   if (!json.equals(currJson.get)) {\n       updateMap(json);\n       return Optional.ofNullable(flags.get(featureFlag));\n   } else {\n       return Optional.ofNullable(flags.get(featureFlag));\n   }\n}\n\nprivate synchronized updateMap(final String newJson) {\n    final var newMap = expensiveJsonParsingOperation(newJson)\n    flags = newMap;\n    currFlagJson = newJson;\n}\n\n</code></pre>\n<p>I am trying to avoid multiple threads concurrently updating the map, but this I do not think completely works. If multiple threads race and calling the equals method, while one of the threads is updating, then eventually all the threads will try to contend updating it. I could of course synchronize the entirity of isFlagEnabled but that would be unnecessarily locking too and I could be serving read requests while the  expensiveJsonParsingOperation is happening.</p>\n<p>I am trying to figure out how best to</p>\n<ol>\n<li>Ensure exactly one thread updates this map when needed.</li>\n<li>Not block threads on reads while this update is happening.</li>\n</ol>\n<p>Maybe. <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/concurrent/locks/ReentrantReadWriteLock.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/7/docs/api/java/util/concurrent/locks/ReentrantReadWriteLock.html</a>? Or something else I can use for this case?</p>\n"},{"tags":["java","firebase","google-cloud-platform","google-cloud-firestore","google-cloud-storage"],"comments":[{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1681286284,"post_id":75952116,"comment_id":134030282,"body_markdown":"To understand better. You want to add data to Firestore, and each document should have three fields, `id`, `productName`, and `description`. Right?","body":"To understand better. You want to add data to Firestore, and each document should have three fields, <code>id</code>, <code>productName</code>, and <code>description</code>. Right?"},{"owner":{"account_id":21004999,"reputation":788,"user_id":15435022,"display_name":"mattsmith5"},"score":0,"creation_date":1681286459,"post_id":75952116,"comment_id":134030321,"body_markdown":"hi @AlexMamo there should be  one lookup table, with multiple values above","body":"hi @AlexMamo there should be  one lookup table, with multiple values above"},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1681286523,"post_id":75952116,"comment_id":134030336,"body_markdown":"In Firestore there are no tables, but collections. So you need a collection with multiple documents having that structure. Am I correct?","body":"In Firestore there are no tables, but collections. So you need a collection with multiple documents having that structure. Am I correct?"},{"owner":{"account_id":21004999,"reputation":788,"user_id":15435022,"display_name":"mattsmith5"},"score":0,"creation_date":1681286856,"post_id":75952116,"comment_id":134030415,"body_markdown":"hi @AlexMamo sure, I just need a lookup table structure, whatever the terminology is for Firestore, I&#39;ll follow that","body":"hi @AlexMamo sure, I just need a lookup table structure, whatever the terminology is for Firestore, I&#39;ll follow that"},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1681286873,"post_id":75952116,"comment_id":134030423,"body_markdown":"Do you need Java code for Android?","body":"Do you need Java code for Android?"},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1681287986,"post_id":75952116,"comment_id":134030685,"body_markdown":"There is no problem with Java, but you need it for an Android project, right?","body":"There is no problem with Java, but you need it for an Android project, right?"},{"owner":{"account_id":21004999,"reputation":788,"user_id":15435022,"display_name":"mattsmith5"},"score":0,"creation_date":1681318458,"post_id":75952116,"comment_id":134038343,"body_markdown":"hi @AlexMamo its for  a java desktop enterprise project, not android","body":"hi @AlexMamo its for  a java desktop enterprise project, not android"}],"answers":[{"tags":[],"owner":{"account_id":4672584,"reputation":10125,"user_id":3784008,"display_name":"anothermh"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1680818188,"creation_date":1680818188,"answer_id":75954063,"question_id":75952116,"body_markdown":"1. Add the seed data to a Firestore collection where the stakeholders have read/write permission\r\n2. Create a Cloud Function triggered by [Firestore `onWrite` events](https://firebase.google.com/docs/functions/firestore-events) that propagates the given change to the targeted locations\r\n\r\nThe example at the above-linked documentation shows how to create a Cloud Function in NodeJS using the Firebase Admin SDK. For Java you can use [this example](https://cloud.google.com/functions/docs/calling/cloud-firestore#functions_firebase_firestore-java) from the Firestore documentation:\r\n\r\n```java\r\nimport com.google.cloud.functions.Context;\r\nimport com.google.cloud.functions.RawBackgroundFunction;\r\nimport com.google.gson.Gson;\r\nimport com.google.gson.JsonObject;\r\nimport java.util.logging.Logger;\r\n\r\npublic class FirebaseFirestore implements RawBackgroundFunction {\r\n  private static final Logger logger = Logger.getLogger(FirebaseFirestore.class.getName());\r\n\r\n  // Use GSON (https://github.com/google/gson) to parse JSON content.\r\n  private static final Gson gson = new Gson();\r\n\r\n  @Override\r\n  public void accept(String json, Context context) {\r\n    JsonObject body = gson.fromJson(json, JsonObject.class);\r\n    logger.info(&quot;Function triggered by event on: &quot; + context.resource());\r\n    logger.info(&quot;Event type: &quot; + context.eventType());\r\n\r\n    if (body != null &amp;&amp; body.has(&quot;oldValue&quot;)) {\r\n      logger.info(&quot;Old value:&quot;);\r\n      logger.info(body.get(&quot;oldValue&quot;).getAsString());\r\n    }\r\n\r\n    if (body != null &amp;&amp; body.has(&quot;value&quot;)) {\r\n      logger.info(&quot;New value:&quot;);\r\n      logger.info(body.get(&quot;value&quot;).getAsString());\r\n    }\r\n  }\r\n}\r\n```\r\n\r\nAlternatively you can use [CloudEvent triggers](https://cloud.google.com/functions/docs/writing/write-event-driven-functions#cloudevent-example-java) for Gen 2 Cloud Functions:\r\n\r\n```java\r\npackage mycloudeventfunction;\r\n\r\nimport com.google.cloud.functions.CloudEventsFunction;\r\nimport io.cloudevents.CloudEvent;\r\n\r\n// Define a class that implements the CloudEventsFunction interface\r\npublic class MyCloudEventFunction implements CloudEventsFunction {\r\n  // Implement the accept() method to handle CloudEvents\r\n  @Override\r\n  public void accept(CloudEvent event) {\r\n    // Your code here\r\n    // Access the CloudEvent data payload via event.getData()\r\n    // To get the data payload as a JSON string, use:\r\n    // new String(event.getData().toBytes())\r\n  }\r\n}\r\n```\r\n\r\nYou would need to adapt this example to use the appropriate [EventArc trigger](https://cloud.google.com/functions/docs/calling/eventarc) for [Cloud Firestore](https://cloud.google.com/eventarc/docs/reference/supported-events#cloud-firestore) by parsing the [JSON format for CloudEvents](https://cloud.google.com/eventarc/docs/workflows/cloudevents). Unfortunately there don&#39;t appear to be any direct examples of this in Google&#39;s documentation as Gen 2 functions are still relatively new.","title":"FireStore: Make Changes to Lookup Tables without Source Control","body":"<ol>\n<li>Add the seed data to a Firestore collection where the stakeholders have read/write permission</li>\n<li>Create a Cloud Function triggered by <a href=\"https://firebase.google.com/docs/functions/firestore-events\" rel=\"nofollow noreferrer\">Firestore <code>onWrite</code> events</a> that propagates the given change to the targeted locations</li>\n</ol>\n<p>The example at the above-linked documentation shows how to create a Cloud Function in NodeJS using the Firebase Admin SDK. For Java you can use <a href=\"https://cloud.google.com/functions/docs/calling/cloud-firestore#functions_firebase_firestore-java\" rel=\"nofollow noreferrer\">this example</a> from the Firestore documentation:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import com.google.cloud.functions.Context;\nimport com.google.cloud.functions.RawBackgroundFunction;\nimport com.google.gson.Gson;\nimport com.google.gson.JsonObject;\nimport java.util.logging.Logger;\n\npublic class FirebaseFirestore implements RawBackgroundFunction {\n  private static final Logger logger = Logger.getLogger(FirebaseFirestore.class.getName());\n\n  // Use GSON (https://github.com/google/gson) to parse JSON content.\n  private static final Gson gson = new Gson();\n\n  @Override\n  public void accept(String json, Context context) {\n    JsonObject body = gson.fromJson(json, JsonObject.class);\n    logger.info(&quot;Function triggered by event on: &quot; + context.resource());\n    logger.info(&quot;Event type: &quot; + context.eventType());\n\n    if (body != null &amp;&amp; body.has(&quot;oldValue&quot;)) {\n      logger.info(&quot;Old value:&quot;);\n      logger.info(body.get(&quot;oldValue&quot;).getAsString());\n    }\n\n    if (body != null &amp;&amp; body.has(&quot;value&quot;)) {\n      logger.info(&quot;New value:&quot;);\n      logger.info(body.get(&quot;value&quot;).getAsString());\n    }\n  }\n}\n</code></pre>\n<p>Alternatively you can use <a href=\"https://cloud.google.com/functions/docs/writing/write-event-driven-functions#cloudevent-example-java\" rel=\"nofollow noreferrer\">CloudEvent triggers</a> for Gen 2 Cloud Functions:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package mycloudeventfunction;\n\nimport com.google.cloud.functions.CloudEventsFunction;\nimport io.cloudevents.CloudEvent;\n\n// Define a class that implements the CloudEventsFunction interface\npublic class MyCloudEventFunction implements CloudEventsFunction {\n  // Implement the accept() method to handle CloudEvents\n  @Override\n  public void accept(CloudEvent event) {\n    // Your code here\n    // Access the CloudEvent data payload via event.getData()\n    // To get the data payload as a JSON string, use:\n    // new String(event.getData().toBytes())\n  }\n}\n</code></pre>\n<p>You would need to adapt this example to use the appropriate <a href=\"https://cloud.google.com/functions/docs/calling/eventarc\" rel=\"nofollow noreferrer\">EventArc trigger</a> for <a href=\"https://cloud.google.com/eventarc/docs/reference/supported-events#cloud-firestore\" rel=\"nofollow noreferrer\">Cloud Firestore</a> by parsing the <a href=\"https://cloud.google.com/eventarc/docs/workflows/cloudevents\" rel=\"nofollow noreferrer\">JSON format for CloudEvents</a>. Unfortunately there don't appear to be any direct examples of this in Google's documentation as Gen 2 functions are still relatively new.</p>\n"}],"owner":{"account_id":21004999,"reputation":788,"user_id":15435022,"display_name":"mattsmith5"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":88,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75954063,"answer_count":1,"score":1,"last_activity_date":1681163641,"creation_date":1680801215,"question_id":75952116,"body_markdown":"I want to seed a Firestore Database containing a lookup table. We are using Java 8 with Github/Intellij.\r\nWe are thinking of using this example https://stackoverflow.com/questions/63004211/how-do-i-seed-data-to-firebase-firestore to seed/update lookup table data every calendar quarter. \r\n\r\nIs there any way to seed/update data in Firestore using Java (or any other coding language), while avoiding making changes to Git source control? What is google&#39;s recommended way? Changes need to be made automatically across Devops environments, Dev, QA, Staging, Production.\r\nChanges need to be able to change by ProductOwners team in UI, without using code if possible.\r\n\r\n\r\nhttps://firebase.google.com/docs/firestore/manage-data/add-data#java\r\n\r\n\r\n\r\n\t{\r\n\t\tid: 1,\r\n\t\tproductName: &#39;Book&#39;,\r\n\t\tdescription: &#39;reading books&#39;,\r\n\r\n\t\tid: 2,\r\n\t\tproductName: &#39;Car&#39;,\r\n\t\tdescription: &#39;automobile cars used for driving&#39;,\r\n\r\n\t\tid: 3,\r\n\t\tproductName: &#39;Television&#39;,\r\n\t\tdescription: &#39;Screen used for watching items&#39;,\r\n\r\n        etc..\r\n\t}\r\n","title":"FireStore: Make Changes to Lookup Tables without Source Control","body":"<p>I want to seed a Firestore Database containing a lookup table. We are using Java 8 with Github/Intellij.\nWe are thinking of using this example <a href=\"https://stackoverflow.com/questions/63004211/how-do-i-seed-data-to-firebase-firestore\">How do I seed data to Firebase Firestore?</a> to seed/update lookup table data every calendar quarter.</p>\n<p>Is there any way to seed/update data in Firestore using Java (or any other coding language), while avoiding making changes to Git source control? What is google's recommended way? Changes need to be made automatically across Devops environments, Dev, QA, Staging, Production.\nChanges need to be able to change by ProductOwners team in UI, without using code if possible.</p>\n<p><a href=\"https://firebase.google.com/docs/firestore/manage-data/add-data#java\" rel=\"nofollow noreferrer\">https://firebase.google.com/docs/firestore/manage-data/add-data#java</a></p>\n<pre><code>{\n    id: 1,\n    productName: 'Book',\n    description: 'reading books',\n\n    id: 2,\n    productName: 'Car',\n    description: 'automobile cars used for driving',\n\n    id: 3,\n    productName: 'Television',\n    description: 'Screen used for watching items',\n\n    etc..\n}\n</code></pre>\n"},{"tags":["java","android","listview","android-listview"],"answers":[{"tags":[],"owner":{"account_id":28115816,"reputation":26,"user_id":21482940,"display_name":"Fiqih Hasroni"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681163268,"creation_date":1681163268,"answer_id":75980984,"question_id":75949011,"body_markdown":"I got the answer\r\n\r\nyou have to replace\r\n\r\n```\r\ntextview1.setText(QuranArabicUtils.getTajweed(this, aYat.get((int)_position).get(&quot;a&quot;).toString()));\r\n```\r\nTo \r\n```\r\ntextview1.setText(QuranArabicUtils.getTajweed(getApplicationContext(), aYat.get((int)_position).get(&quot;a&quot;).toString()));\r\n```\r\n\r\n\r\n\r\n","title":"is not applicable for the arguments (MainActivity.Listview1Adapter, String)","body":"<p>I got the answer</p>\n<p>you have to replace</p>\n<pre><code>textview1.setText(QuranArabicUtils.getTajweed(this, aYat.get((int)_position).get(&quot;a&quot;).toString()));\n</code></pre>\n<p>To</p>\n<pre><code>textview1.setText(QuranArabicUtils.getTajweed(getApplicationContext(), aYat.get((int)_position).get(&quot;a&quot;).toString()));\n</code></pre>\n"}],"owner":{"account_id":28115816,"reputation":26,"user_id":21482940,"display_name":"Fiqih Hasroni"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1681163268,"creation_date":1680780654,"question_id":75949011,"body_markdown":"I have class QuranArabUtils\r\n\r\n```  \r\npublic class QuranArabicUtils {\r\npublic static Spannable getTajweed(Context context, String s) {\r\n}\r\n\r\n}\t\t\t\t\r\n\r\n```\r\nAnd this is my adapter listview\r\n\r\n```\r\n\t@Override\r\n\t\tpublic View getView(final int _position, View _v, ViewGroup _container) {\r\n\t\t\tLayoutInflater _inflater = getLayoutInflater();\r\n\t\t\tView _view = _v;\r\n\t\t\tif (_view == null) {\r\n\t\t\t\t_view = _inflater.inflate(R.layout.tet, null);\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tfinal LinearLayout linear1 = _view.findViewById(R.id.linear1);\r\n\t\t\tfinal TextView textview1 = _view.findViewById(R.id.textview1);\r\n\t\t\t\r\n\t\t\t\r\n\t\t\t\ttextview1.setText(QuranArabicUtils.getTajweed(this, aYat.get((int)_position).get(&quot;a&quot;).toString()));\r\n\r\n\t\t\r\n\t\t\t\r\n\t\t\treturn _view;\r\n\t\t}\r\n```\r\n\r\nI call argumet to\r\n\r\n```\r\ntextview1.setText(QuranArabicUtils.getTajweed(this, aYat.get((int)_position).get(&quot;a&quot;).toString()));\r\n```\r\nHow to conect argument getTajweed() in class QuranArabUtils to listview adapter? I got error &quot; The  method getTajweed(Context, String) in the type QuranArabicUtils is not applicable for the arguments (MainActivity.Listview1Adapter, String)&quot; \r\n","title":"is not applicable for the arguments (MainActivity.Listview1Adapter, String)","body":"<p>I have class QuranArabUtils</p>\n<pre><code>public class QuranArabicUtils {\npublic static Spannable getTajweed(Context context, String s) {\n}\n\n}               \n\n</code></pre>\n<p>And this is my adapter listview</p>\n<pre><code>    @Override\n        public View getView(final int _position, View _v, ViewGroup _container) {\n            LayoutInflater _inflater = getLayoutInflater();\n            View _view = _v;\n            if (_view == null) {\n                _view = _inflater.inflate(R.layout.tet, null);\n            }\n            \n            final LinearLayout linear1 = _view.findViewById(R.id.linear1);\n            final TextView textview1 = _view.findViewById(R.id.textview1);\n            \n            \n                textview1.setText(QuranArabicUtils.getTajweed(this, aYat.get((int)_position).get(&quot;a&quot;).toString()));\n\n        \n            \n            return _view;\n        }\n</code></pre>\n<p>I call argumet to</p>\n<pre><code>textview1.setText(QuranArabicUtils.getTajweed(this, aYat.get((int)_position).get(&quot;a&quot;).toString()));\n</code></pre>\n<p>How to conect argument getTajweed() in class QuranArabUtils to listview adapter? I got error &quot; The  method getTajweed(Context, String) in the type QuranArabicUtils is not applicable for the arguments (MainActivity.Listview1Adapter, String)&quot;</p>\n"},{"tags":["java","android","kotlin","memory-leaks","leakcanary"],"owner":{"account_id":24134501,"reputation":35,"user_id":18101638,"display_name":"lacrimosa"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681163135,"creation_date":1681162543,"question_id":75980922,"body_markdown":"I am currently developing an app and I am encountering some memory leak issues. I am using leak canary to detect them. My problem is, when I use the app like a normal human would o, leak canary detects retained objects but after 1-2 seconds, it says &quot;All retained objects have been garbage collected&quot; so all is good. But, when I switch between fragments so fast, leak canary gives me some memory leak problems even though I set bindings, objects etc. to null and remove all observers of view model etc. I use lifecyclescope to make sure all threads are cancelled when view is destroyed. When I use the app in a normal pace, no memory leak is being detected, they are being collected by garbage collector, but when I use the app in a fast pace I get 5-6 leak messages. \r\nShould I be worried about this? Should I still try to prevent memory leaks in a fast pace app usage? ","title":"Memory Leaks in Android - Fast Pace App Usage","body":"<p>I am currently developing an app and I am encountering some memory leak issues. I am using leak canary to detect them. My problem is, when I use the app like a normal human would o, leak canary detects retained objects but after 1-2 seconds, it says &quot;All retained objects have been garbage collected&quot; so all is good. But, when I switch between fragments so fast, leak canary gives me some memory leak problems even though I set bindings, objects etc. to null and remove all observers of view model etc. I use lifecyclescope to make sure all threads are cancelled when view is destroyed. When I use the app in a normal pace, no memory leak is being detected, they are being collected by garbage collector, but when I use the app in a fast pace I get 5-6 leak messages.\nShould I be worried about this? Should I still try to prevent memory leaks in a fast pace app usage?</p>\n"},{"tags":["java","wcf","soap","soap-client"],"answers":[{"tags":[],"owner":{"account_id":301489,"reputation":54254,"user_id":609251,"accept_rate":82,"display_name":"aroth"},"down_vote_count":0,"up_vote_count":14,"is_accepted":true,"score":14,"last_activity_date":1460445461,"creation_date":1460444725,"answer_id":36565912,"question_id":36493667,"body_markdown":"After some research and a fair bit of trial and error, I managed to get a working solution.  I&#39;ll start with the bonus questions first:\r\n\r\n1.  I didn&#39;t find any formal documentation, and every reference implementation and code sample that I came across always passed the client key first, and this is also what the server (Microsoft IIS v8.5) expects.  So that would appear to be the standard, even if it&#39;s not a formal one.\r\n\r\n2.  Yes, the `Timestamp` and `Reference` values are significant in a big way, and very closely relate back to the main question.\r\n\r\nSo what&#39;s the actual algorithm for signing things in an outbound SOAP message, if you have to do so manually, in Java, using JAX-WS?  \r\n\r\n[This reference][1] is a helpful place to start, and should give you a pretty good idea of just how overarchitected things have become in the SOAP world.  And some of it is very obtusely described, to boot.  For instance:\r\n\r\n&gt; **3.2.2 Signature Validation**\r\n&gt; \r\n&gt; 1.  Obtain the keying information from `KeyInfo` or from an external source.\r\n&gt; 2.  Obtain the canonical form of the `SignatureMethod` using the\r\n&gt; `CanonicalizationMethod` and use the result (and previously obtained\r\n&gt; `KeyInfo`) to confirm the `SignatureValue` over the `SignedInfo` element.\r\n\r\nIf your `KeyInfo` is a `SecurityTokenReference` to a `SecurityContextToken` that doesn&#39;t actually contain any key data itself, and your `SignatureMethod` is `Algorithm=&quot;http://www.w3.org/2000/09/xmldsig#hmac-sha1&quot;`, it&#39;s clear as mud how any `CanonicalizationMethod` relates to that or how you&#39;re supposed to get from that to knowing that you need to combine the server and client `BinarySecret` values and take the result to be your key.  But I digress.\r\n\r\nThe algorithm to apply is more-or-less described in the `Signature` block.  For instance, if the server you&#39;re talking to expects something like:\r\n\r\n    &lt;o:Security xmlns:o=&quot;http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd&quot; s:mustUnderstand=&quot;1&quot;&gt;\r\n    \t&lt;u:Timestamp u:Id=&quot;_0&quot;&gt;\r\n    \t\t&lt;u:Created&gt;2016-04-11T00:53:44.050Z&lt;/u:Created&gt;\r\n    \t\t&lt;u:Expires&gt;2016-04-11T00:58:44.050Z&lt;/u:Expires&gt;\r\n    \t&lt;/u:Timestamp&gt;\r\n    \t&lt;c:SecurityContextToken xmlns:c=&quot;http://schemas.xmlsoap.org/ws/2005/02/sc&quot; u:Id=&quot;uuid-41b0578e-dc47-4467-9b65-b0cebde98309-1&quot;&gt;\r\n    \t\t&lt;c:Identifier&gt;urn:uuid:9eba64a2-5cf8-4ea9-85e9-359b2edbb13c&lt;/c:Identifier&gt;\r\n    \t&lt;/c:SecurityContextToken&gt;\r\n    \t&lt;Signature xmlns=&quot;http://www.w3.org/2000/09/xmldsig#&quot;&gt;\r\n    \t\t&lt;SignedInfo&gt;\r\n    \t\t\t&lt;CanonicalizationMethod Algorithm=&quot;http://www.w3.org/2001/10/xml-exc-c14n#&quot; /&gt;\r\n    \t\t\t&lt;SignatureMethod Algorithm=&quot;http://www.w3.org/2000/09/xmldsig#hmac-sha1&quot; /&gt;\r\n    \t\t\t&lt;Reference URI=&quot;#_0&quot;&gt;\r\n    \t\t\t\t&lt;Transforms&gt;\r\n    \t\t\t\t\t&lt;Transform Algorithm=&quot;http://www.w3.org/2001/10/xml-exc-c14n#&quot; /&gt;\r\n    \t\t\t\t&lt;/Transforms&gt;\r\n    \t\t\t\t&lt;DigestMethod Algorithm=&quot;http://www.w3.org/2000/09/xmldsig#sha1&quot; /&gt;\r\n    \t\t\t\t&lt;DigestValue&gt;CwJgqLNOoHJpuiqIOylvVvFli1E=&lt;/DigestValue&gt;\r\n    \t\t\t&lt;/Reference&gt;\r\n    \t\t&lt;/SignedInfo&gt;\r\n    \t\t&lt;SignatureValue&gt;fJxof0blfd6abX0V4EmPYZ/NGJI=&lt;/SignatureValue&gt;\r\n    \t\t&lt;KeyInfo&gt;\r\n    \t\t\t&lt;o:SecurityTokenReference&gt;\r\n    \t\t\t\t&lt;o:Reference ValueType=&quot;http://schemas.xmlsoap.org/ws/2005/02/sc/sct&quot; URI=&quot;#uuid-41b0578e-dc47-4467-9b65-b0cebde98309-1&quot; /&gt;\r\n    \t\t\t&lt;/o:SecurityTokenReference&gt;\r\n    \t\t&lt;/KeyInfo&gt;\r\n    \t&lt;/Signature&gt;\r\n    &lt;/o:Security&gt;\r\n\r\n...you want to start with the `Reference` element, which points to the element with `id` &quot;_0&quot; (which in this case is the `Timestamp` element).  You then canonicalize the referenced element according to the nominated `Transform` algorithm.  That&#39;s most easily done by using [Apache XML Security][2], roughly like:\r\n\r\n    SOAPElement timestamp = secHeader.addChildElement(soapFactory.createName(&quot;Timestamp&quot;, &quot;u&quot;, &quot;http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd&quot;));\r\n    //[add &#39;Created&#39; and &#39;Expires&#39; values, as required]\r\n    \r\n    //once you&#39;re done adding stuff, you can canonicalize the element\r\n    Canonicalizer canonizer = Canonicalizer.getInstance(Canonicalizer.ALGO_ID_C14N_EXCL_OMIT_COMMENTS);\r\n    byte[] canonTimestamp = canonizer.canonicalizeSubtree(timestamp);\r\n\r\nThat will give you something like this (newlines aren&#39;t canonical, sorry):\r\n\r\n    &lt;u:Timestamp xmlns:u=&quot;http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd&quot; u:Id=&quot;_0&quot;&gt;&lt;u:Created&gt;2016-04-11T00:53:44.050Z&lt;/u:Created&gt;&lt;u:Expires&gt;2016-04-11T00:58:44.050Z&lt;/u:Expires&gt;&lt;/u:Timestamp&gt;\r\n\r\nNow you need to compute the `DigestValue` of that string.  The `DigestMethod` element in our `Reference` element tells us that this should be a SHA1 hash (base64-encoded).  So simply:\r\n\r\n    MessageDigest sha1 = MessageDigest.getInstance(&quot;SHA-1&quot;);\r\n    String canonDigestValue = Base64.encodeBytes(sha1.digest(canonTimestamp));\r\n\r\nThe value that you get goes into the `Reference/DigestValue` element (assuming you&#39;re building an outbound request).  Once that is done, the `Reference` is complete, and since there aren&#39;t any additional `Reference` elements, so is the `SignedInfo` block.  \r\n\r\nNow to get the `SignatureValue`, you canonicalize the `SignedInfo` element, the same as before:\r\n\r\n    SOAPElement sigInfo = sigElem.addChildElement(new QName(&quot;SignedInfo&quot;));\r\n    SOAPElement canon = sigInfo.addChildElement(new QName(&quot;CanonicalizationMethod&quot;));\r\n    canon.addAttribute(soapFactory.createName(&quot;Algorithm&quot;), Canonicalizer.ALGO_ID_C14N_EXCL_OMIT_COMMENTS);\r\n    //[continue adding the other elements...]\r\n    \r\n    //canonicalize the entire, completed &#39;SignedInfo&#39; block\r\n    byte[] bytesToSign = canonizer.canonicalizeSubtree(sigInfo);\r\n\r\nWhich should net you something like:\r\n\r\n    &lt;SignedInfo xmlns=&quot;http://www.w3.org/2000/09/xmldsig#&quot;&gt;&lt;CanonicalizationMethod Algorithm=&quot;http://www.w3.org/2001/10/xml-exc-c14n#&quot;&gt;&lt;/CanonicalizationMethod&gt;&lt;SignatureMethod Algorithm=&quot;http://www.w3.org/2000/09/xmldsig#hmac-sha1&quot;&gt;&lt;/SignatureMethod&gt;&lt;Reference URI=&quot;#_0&quot;&gt;&lt;Transforms&gt;&lt;Transform Algorithm=&quot;http://www.w3.org/2001/10/xml-exc-c14n#&quot;&gt;&lt;/Transform&gt;&lt;/Transforms&gt;&lt;DigestMethod Algorithm=&quot;http://www.w3.org/2000/09/xmldsig#sha1&quot;&gt;&lt;/DigestMethod&gt;&lt;DigestValue&gt;CwJgqLNOoHJpuiqIOylvVvFli1E=&lt;/DigestValue&gt;&lt;/Reference&gt;&lt;/SignedInfo&gt;\r\n\r\n...and then you sign the whole thing according to the nominated `SignatureMethod` algorithm, which in our case is `HmacSHA1`:\r\n\r\n    Mac mac = Mac.getInstance(&quot;HmacSHA1&quot;);\r\n    SecretKeySpec key = new SecretKeySpec(getSharedKey(), &quot;HmacSHA1&quot;);\r\n    mac.init(key);\r\n    \r\n    String signature = Base64.encodeBytes(mac.doFinal(bytesToSign)); \r\n\r\n...where `getSharedKey()` returns, in this instance, a key derived using the `BinarySecret` values that the client and server sent during the initial `RequestSecurityToken` exchange.  As in:\r\n\r\n    private byte[] getSharedKey() {\r\n    \ttry {\r\n    \t\t//XXX:  doesn&#39;t seem to be formally specified anywhere, but convention appears to be that the client key always goes first\r\n    \t\tP_SHA1 algo = new P_SHA1();\r\n    \t\treturn algo.createKey(getBinaryClientEntropy(),  //the &#39;BinarySecret&#39; value that the client sent to the server, decoded to raw binary \r\n                                  getBinaryServerEntropy(),  //the &#39;BinarySecret&#39; value that the server sent to the client, decoded to raw binary\r\n                                  0,                         //offset, &#39;0&#39; is what we want here\r\n                                  getSharedKeySize() / 8);   //&#39;KeySize&#39; is 256 bits in this case (specified by server), divide by &#39;8&#39; to convert to bytes\r\n    \t}\r\n    \tcatch (Throwable e) {\r\n    \t\tLOG.error(&quot;Unable to compute shared key!&quot;, e);\r\n    \t}\r\n    \r\n    \treturn null;\r\n    }\r\n\r\nAnyways, at this point you should have a signature value and it can be appended to the `Security` header in the outbound message, like:\r\n\r\n    SOAPElement sigValue = sigElem.addChildElement(new QName(&quot;SignatureValue&quot;));\r\n    sigValue.addTextNode(signature);\r\n\r\nAnd if all goes well, the message is now successfully signed and of acceptable quality for the server.\r\n\r\nThough there was one final caveat that I noted, which is that the `Timestamp` values need to be generated in the server&#39;s timezone (which, in this case, is UTC), otherwise it will reject the request due to the timestamps either being from the future or having already expired.  A simple problem that could have been solved by standardizing on UNIX epoch timestamps.  But for some reason they went with &quot;yyyy-mm-dd&#39;T&#39;hh:mm:ss.msec&#39;Z&#39;&quot; instead.  Go figure.\r\n\r\nI hope this is helpful to the next unfortunate soul who has to try to get Java talking to .NET using SOAP/XML.\r\n\r\nAnd one final note if you&#39;re using Apache XML Security.  You need to call `org.apache.xml.security.Init.init()` before attempting to use the `Canonicalizer`, for instance from within a `static` initializer block.  If you don&#39;t, you&#39;ll get an exception (NPE I think it was) when you try to canonicalize.\r\n\r\n  [1]: https://www.w3.org/TR/xmldsig-core/#sec-CoreValidation\r\n  [2]: http://mvnrepository.com/artifact/org.apache.santuario/xmlsec","title":"SOAP, WCF, and message signatures","body":"<p>After some research and a fair bit of trial and error, I managed to get a working solution.  I'll start with the bonus questions first:</p>\n\n<ol>\n<li><p>I didn't find any formal documentation, and every reference implementation and code sample that I came across always passed the client key first, and this is also what the server (Microsoft IIS v8.5) expects.  So that would appear to be the standard, even if it's not a formal one.</p></li>\n<li><p>Yes, the <code>Timestamp</code> and <code>Reference</code> values are significant in a big way, and very closely relate back to the main question.</p></li>\n</ol>\n\n<p>So what's the actual algorithm for signing things in an outbound SOAP message, if you have to do so manually, in Java, using JAX-WS?  </p>\n\n<p><a href=\"https://www.w3.org/TR/xmldsig-core/#sec-CoreValidation\" rel=\"noreferrer\">This reference</a> is a helpful place to start, and should give you a pretty good idea of just how overarchitected things have become in the SOAP world.  And some of it is very obtusely described, to boot.  For instance:</p>\n\n<blockquote>\n  <p><strong>3.2.2 Signature Validation</strong></p>\n  \n  <ol>\n  <li>Obtain the keying information from <code>KeyInfo</code> or from an external source.</li>\n  <li>Obtain the canonical form of the <code>SignatureMethod</code> using the\n  <code>CanonicalizationMethod</code> and use the result (and previously obtained\n  <code>KeyInfo</code>) to confirm the <code>SignatureValue</code> over the <code>SignedInfo</code> element.</li>\n  </ol>\n</blockquote>\n\n<p>If your <code>KeyInfo</code> is a <code>SecurityTokenReference</code> to a <code>SecurityContextToken</code> that doesn't actually contain any key data itself, and your <code>SignatureMethod</code> is <code>Algorithm=\"http://www.w3.org/2000/09/xmldsig#hmac-sha1\"</code>, it's clear as mud how any <code>CanonicalizationMethod</code> relates to that or how you're supposed to get from that to knowing that you need to combine the server and client <code>BinarySecret</code> values and take the result to be your key.  But I digress.</p>\n\n<p>The algorithm to apply is more-or-less described in the <code>Signature</code> block.  For instance, if the server you're talking to expects something like:</p>\n\n<pre><code>&lt;o:Security xmlns:o=\"http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd\" s:mustUnderstand=\"1\"&gt;\n    &lt;u:Timestamp u:Id=\"_0\"&gt;\n        &lt;u:Created&gt;2016-04-11T00:53:44.050Z&lt;/u:Created&gt;\n        &lt;u:Expires&gt;2016-04-11T00:58:44.050Z&lt;/u:Expires&gt;\n    &lt;/u:Timestamp&gt;\n    &lt;c:SecurityContextToken xmlns:c=\"http://schemas.xmlsoap.org/ws/2005/02/sc\" u:Id=\"uuid-41b0578e-dc47-4467-9b65-b0cebde98309-1\"&gt;\n        &lt;c:Identifier&gt;urn:uuid:9eba64a2-5cf8-4ea9-85e9-359b2edbb13c&lt;/c:Identifier&gt;\n    &lt;/c:SecurityContextToken&gt;\n    &lt;Signature xmlns=\"http://www.w3.org/2000/09/xmldsig#\"&gt;\n        &lt;SignedInfo&gt;\n            &lt;CanonicalizationMethod Algorithm=\"http://www.w3.org/2001/10/xml-exc-c14n#\" /&gt;\n            &lt;SignatureMethod Algorithm=\"http://www.w3.org/2000/09/xmldsig#hmac-sha1\" /&gt;\n            &lt;Reference URI=\"#_0\"&gt;\n                &lt;Transforms&gt;\n                    &lt;Transform Algorithm=\"http://www.w3.org/2001/10/xml-exc-c14n#\" /&gt;\n                &lt;/Transforms&gt;\n                &lt;DigestMethod Algorithm=\"http://www.w3.org/2000/09/xmldsig#sha1\" /&gt;\n                &lt;DigestValue&gt;CwJgqLNOoHJpuiqIOylvVvFli1E=&lt;/DigestValue&gt;\n            &lt;/Reference&gt;\n        &lt;/SignedInfo&gt;\n        &lt;SignatureValue&gt;fJxof0blfd6abX0V4EmPYZ/NGJI=&lt;/SignatureValue&gt;\n        &lt;KeyInfo&gt;\n            &lt;o:SecurityTokenReference&gt;\n                &lt;o:Reference ValueType=\"http://schemas.xmlsoap.org/ws/2005/02/sc/sct\" URI=\"#uuid-41b0578e-dc47-4467-9b65-b0cebde98309-1\" /&gt;\n            &lt;/o:SecurityTokenReference&gt;\n        &lt;/KeyInfo&gt;\n    &lt;/Signature&gt;\n&lt;/o:Security&gt;\n</code></pre>\n\n<p>...you want to start with the <code>Reference</code> element, which points to the element with <code>id</code> \"_0\" (which in this case is the <code>Timestamp</code> element).  You then canonicalize the referenced element according to the nominated <code>Transform</code> algorithm.  That's most easily done by using <a href=\"http://mvnrepository.com/artifact/org.apache.santuario/xmlsec\" rel=\"noreferrer\">Apache XML Security</a>, roughly like:</p>\n\n<pre><code>SOAPElement timestamp = secHeader.addChildElement(soapFactory.createName(\"Timestamp\", \"u\", \"http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd\"));\n//[add 'Created' and 'Expires' values, as required]\n\n//once you're done adding stuff, you can canonicalize the element\nCanonicalizer canonizer = Canonicalizer.getInstance(Canonicalizer.ALGO_ID_C14N_EXCL_OMIT_COMMENTS);\nbyte[] canonTimestamp = canonizer.canonicalizeSubtree(timestamp);\n</code></pre>\n\n<p>That will give you something like this (newlines aren't canonical, sorry):</p>\n\n<pre><code>&lt;u:Timestamp xmlns:u=\"http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd\" u:Id=\"_0\"&gt;&lt;u:Created&gt;2016-04-11T00:53:44.050Z&lt;/u:Created&gt;&lt;u:Expires&gt;2016-04-11T00:58:44.050Z&lt;/u:Expires&gt;&lt;/u:Timestamp&gt;\n</code></pre>\n\n<p>Now you need to compute the <code>DigestValue</code> of that string.  The <code>DigestMethod</code> element in our <code>Reference</code> element tells us that this should be a SHA1 hash (base64-encoded).  So simply:</p>\n\n<pre><code>MessageDigest sha1 = MessageDigest.getInstance(\"SHA-1\");\nString canonDigestValue = Base64.encodeBytes(sha1.digest(canonTimestamp));\n</code></pre>\n\n<p>The value that you get goes into the <code>Reference/DigestValue</code> element (assuming you're building an outbound request).  Once that is done, the <code>Reference</code> is complete, and since there aren't any additional <code>Reference</code> elements, so is the <code>SignedInfo</code> block.  </p>\n\n<p>Now to get the <code>SignatureValue</code>, you canonicalize the <code>SignedInfo</code> element, the same as before:</p>\n\n<pre><code>SOAPElement sigInfo = sigElem.addChildElement(new QName(\"SignedInfo\"));\nSOAPElement canon = sigInfo.addChildElement(new QName(\"CanonicalizationMethod\"));\ncanon.addAttribute(soapFactory.createName(\"Algorithm\"), Canonicalizer.ALGO_ID_C14N_EXCL_OMIT_COMMENTS);\n//[continue adding the other elements...]\n\n//canonicalize the entire, completed 'SignedInfo' block\nbyte[] bytesToSign = canonizer.canonicalizeSubtree(sigInfo);\n</code></pre>\n\n<p>Which should net you something like:</p>\n\n<pre><code>&lt;SignedInfo xmlns=\"http://www.w3.org/2000/09/xmldsig#\"&gt;&lt;CanonicalizationMethod Algorithm=\"http://www.w3.org/2001/10/xml-exc-c14n#\"&gt;&lt;/CanonicalizationMethod&gt;&lt;SignatureMethod Algorithm=\"http://www.w3.org/2000/09/xmldsig#hmac-sha1\"&gt;&lt;/SignatureMethod&gt;&lt;Reference URI=\"#_0\"&gt;&lt;Transforms&gt;&lt;Transform Algorithm=\"http://www.w3.org/2001/10/xml-exc-c14n#\"&gt;&lt;/Transform&gt;&lt;/Transforms&gt;&lt;DigestMethod Algorithm=\"http://www.w3.org/2000/09/xmldsig#sha1\"&gt;&lt;/DigestMethod&gt;&lt;DigestValue&gt;CwJgqLNOoHJpuiqIOylvVvFli1E=&lt;/DigestValue&gt;&lt;/Reference&gt;&lt;/SignedInfo&gt;\n</code></pre>\n\n<p>...and then you sign the whole thing according to the nominated <code>SignatureMethod</code> algorithm, which in our case is <code>HmacSHA1</code>:</p>\n\n<pre><code>Mac mac = Mac.getInstance(\"HmacSHA1\");\nSecretKeySpec key = new SecretKeySpec(getSharedKey(), \"HmacSHA1\");\nmac.init(key);\n\nString signature = Base64.encodeBytes(mac.doFinal(bytesToSign)); \n</code></pre>\n\n<p>...where <code>getSharedKey()</code> returns, in this instance, a key derived using the <code>BinarySecret</code> values that the client and server sent during the initial <code>RequestSecurityToken</code> exchange.  As in:</p>\n\n<pre><code>private byte[] getSharedKey() {\n    try {\n        //XXX:  doesn't seem to be formally specified anywhere, but convention appears to be that the client key always goes first\n        P_SHA1 algo = new P_SHA1();\n        return algo.createKey(getBinaryClientEntropy(),  //the 'BinarySecret' value that the client sent to the server, decoded to raw binary \n                              getBinaryServerEntropy(),  //the 'BinarySecret' value that the server sent to the client, decoded to raw binary\n                              0,                         //offset, '0' is what we want here\n                              getSharedKeySize() / 8);   //'KeySize' is 256 bits in this case (specified by server), divide by '8' to convert to bytes\n    }\n    catch (Throwable e) {\n        LOG.error(\"Unable to compute shared key!\", e);\n    }\n\n    return null;\n}\n</code></pre>\n\n<p>Anyways, at this point you should have a signature value and it can be appended to the <code>Security</code> header in the outbound message, like:</p>\n\n<pre><code>SOAPElement sigValue = sigElem.addChildElement(new QName(\"SignatureValue\"));\nsigValue.addTextNode(signature);\n</code></pre>\n\n<p>And if all goes well, the message is now successfully signed and of acceptable quality for the server.</p>\n\n<p>Though there was one final caveat that I noted, which is that the <code>Timestamp</code> values need to be generated in the server's timezone (which, in this case, is UTC), otherwise it will reject the request due to the timestamps either being from the future or having already expired.  A simple problem that could have been solved by standardizing on UNIX epoch timestamps.  But for some reason they went with \"yyyy-mm-dd'T'hh:mm:ss.msec'Z'\" instead.  Go figure.</p>\n\n<p>I hope this is helpful to the next unfortunate soul who has to try to get Java talking to .NET using SOAP/XML.</p>\n\n<p>And one final note if you're using Apache XML Security.  You need to call <code>org.apache.xml.security.Init.init()</code> before attempting to use the <code>Canonicalizer</code>, for instance from within a <code>static</code> initializer block.  If you don't, you'll get an exception (NPE I think it was) when you try to canonicalize.</p>\n"}],"owner":{"account_id":301489,"reputation":54254,"user_id":609251,"accept_rate":82,"display_name":"aroth"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2405,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":36565912,"answer_count":1,"score":8,"last_activity_date":1681162953,"creation_date":1460099595,"question_id":36493667,"body_markdown":"I have a Java (JAX-WS based) SOAP client that I&#39;m trying to get to talk with a (third-party) WCF-based server.  I&#39;m finding the [sentiment expressed here][1] to be quite accurate.  But the goal still remains.  \r\n\r\nSo long story short, I can coax a valid &quot;security context token&quot; out of the server, but am getting hung up on message-signing issues (I believe).  \r\n\r\nThe server appears to expect the message to be signed using an `hmac-sha1` authentication code using client/server secret keys (`PSHA1` algorithm).  Fair enough.  However JAX-WS appears to want to use `rsa-sha1` and an X509 certificate to sign the outbound messages (which the server doesn&#39;t like), and only seems to use `hmac-sha1` if a `UsernameToken` is provided (which the server also doesn&#39;t like).  \r\n\r\nSo I&#39;m trying to manually sign the outbound SOAP messages from within a `SOAPHandler` implementation.  The request that the client sends in order to get a security context token looks like this:\r\n\r\n    &lt;t:RequestSecurityToken xmlns:t=&quot;http://schemas.xmlsoap.org/ws/2005/02/trust&quot;&gt;\r\n    \t&lt;t:TokenType&gt;http://schemas.xmlsoap.org/ws/2005/02/sc/sct&lt;/t:TokenType&gt;\r\n    \t&lt;t:RequestType&gt;http://schemas.xmlsoap.org/ws/2005/02/trust/Issue&lt;/t:RequestType&gt;\r\n    \t&lt;t:Entropy&gt;\r\n    \t\t&lt;t:BinarySecret Type=&quot;http://schemas.xmlsoap.org/ws/2005/02/trust/Nonce&quot;&gt;NzM1MDZjYWVkMTEzNDlkNGEyODY0ZDBlMjlkODEyMTM=&lt;/t:BinarySecret&gt;\r\n    \t&lt;/t:Entropy&gt;\r\n    \t&lt;t:KeySize&gt;256&lt;/t:KeySize&gt;\r\n    &lt;/t:RequestSecurityToken&gt;\r\n\r\n\r\nAnd the token that the server sends back look like this:\r\n\r\n    &lt;t:RequestSecurityTokenResponse xmlns:t=&quot;http://schemas.xmlsoap.org/ws/2005/02/trust&quot;&gt;\r\n    \t&lt;t:TokenType&gt;http://schemas.xmlsoap.org/ws/2005/02/sc/sct&lt;/t:TokenType&gt;\r\n    \t&lt;t:RequestedSecurityToken&gt;\r\n    \t\t&lt;c:SecurityContextToken xmlns:c=&quot;http://schemas.xmlsoap.org/ws/2005/02/sc&quot; u:Id=&quot;uuid-106bdbae-76e5-4195-b5d0-cc1c1a7a813e-13&quot;&gt;\r\n    \t\t\t&lt;c:Identifier&gt;urn:uuid:c0be4929-da8d-4955-8e13-b25aa7a37217&lt;/c:Identifier&gt;\r\n    \t\t&lt;/c:SecurityContextToken&gt;\r\n    \t&lt;/t:RequestedSecurityToken&gt;\r\n    \t&lt;t:RequestedAttachedReference&gt;\r\n    \t\t&lt;o:SecurityTokenReference xmlns:o=&quot;http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd&quot;&gt;\r\n    \t\t\t&lt;o:Reference ValueType=&quot;http://schemas.xmlsoap.org/ws/2005/02/sc/sct&quot; URI=&quot;#uuid-106bdbae-76e5-4195-b5d0-cc1c1a7a813e-13&quot; /&gt;\r\n    \t\t&lt;/o:SecurityTokenReference&gt;\r\n    \t&lt;/t:RequestedAttachedReference&gt;\r\n    \t&lt;t:RequestedUnattachedReference&gt;\r\n    \t\t&lt;o:SecurityTokenReference xmlns:o=&quot;http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd&quot;&gt;\r\n    \t\t\t&lt;o:Reference URI=&quot;urn:uuid:c0be4929-da8d-4955-8e13-b25aa7a37217&quot; ValueType=&quot;http://schemas.xmlsoap.org/ws/2005/02/sc/sct&quot; /&gt;\r\n    \t\t&lt;/o:SecurityTokenReference&gt;\r\n    \t&lt;/t:RequestedUnattachedReference&gt;\r\n    \t&lt;t:RequestedProofToken&gt;\r\n    \t\t&lt;t:ComputedKey&gt;http://schemas.xmlsoap.org/ws/2005/02/trust/CK/PSHA1&lt;/t:ComputedKey&gt;\r\n    \t&lt;/t:RequestedProofToken&gt;\r\n    \t&lt;t:Entropy&gt;\r\n    \t\t&lt;t:BinarySecret u:Id=&quot;uuid-106bdbae-76e5-4195-b5d0-cc1c1a7a813e-14&quot; Type=&quot;http://schemas.xmlsoap.org/ws/2005/02/trust/Nonce&quot;&gt;dssunihZGy2dnnDHV9PMe3vU3lg/kKKZQkFohvGvCAk=&lt;/t:BinarySecret&gt;\r\n    \t&lt;/t:Entropy&gt;\r\n    \t&lt;t:Lifetime&gt;\r\n    \t\t&lt;u:Created&gt;2016-04-08T04:11:54.392Z&lt;/u:Created&gt;\r\n    \t\t&lt;u:Expires&gt;2016-04-08T19:11:54.392Z&lt;/u:Expires&gt;\r\n    \t&lt;/t:Lifetime&gt;\r\n    \t&lt;t:KeySize&gt;256&lt;/t:KeySize&gt;\r\n    &lt;/t:RequestSecurityTokenResponse&gt;\r\n\r\nI&#39;m combining the client and the server `BinarySecret` keys using `PSHA1` as follows:\r\n\r\n\tprivate byte[] getSharedKey() {\r\n\t\ttry {\r\n\t\t\t//FIXME:  client key first, or server key first?\r\n\t\t\tP_SHA1 algo = new P_SHA1();\r\n\t\t\treturn algo.createKey(getBinaryClientEntropy(), getBinaryServerEntropy(), 0, getSharedKeySize() / 8);\r\n\t\t}\r\n\t\tcatch (Throwable e) {\r\n\t\t\tLOG.error(&quot;Unable to compute shared key!&quot;, e);\r\n\t\t}\r\n\r\n\t\treturn null;\r\n\r\n\t}\r\n\r\nI&#39;m then using that key to compute a MAC for the message, like:\r\n\r\n    Mac mac = Mac.getInstance(&quot;HmacSHA1&quot;);\r\n    SecretKeySpec key = new SecretKeySpec(getSharedKey(), &quot;HmacSHA1&quot;);\r\n    mac.init(key);\r\n    \r\n    byte[] signatureBytes = mac.doFinal(content);\r\n    String signature = Base64.encodeBytes(signatureBytes);\r\n\r\nThat then goes into the outbound requests (along with a ton of other boilerplate things), as the `SignatureValue`.  Ultimately I end up with something like:\r\n\r\n    &lt;S:Envelope xmlns:S=&quot;http://www.w3.org/2003/05/soap-envelope&quot;&gt;\r\n        &lt;S:Header xmlns:a=&quot;http://www.w3.org/2005/08/addressing&quot; xmlns:scon=&quot;http://schemas.xmlsoap.org/ws/2005/02/sc&quot; xmlns:sec=&quot;http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd&quot;&gt;\r\n            &lt;sec:Security xmlns:env=&quot;http://www.w3.org/2003/05/soap-envelope&quot; env:mustUnderstand=&quot;true&quot;&gt;\r\n                &lt;scon:SecurityContextToken xmlns:util=&quot;http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd&quot; util:Id=&quot;uuid-106bdbae-76e5-4195-b5d0-cc1c1a7a813e-55&quot;&gt;\r\n                    &lt;scon:Identifier&gt;urn:uuid:3ab0f3fb-edd4-4880-af77-d700dda371bb&lt;/scon:Identifier&gt;\r\n                &lt;/scon:SecurityContextToken&gt;\r\n                &lt;sig:Signature xmlns:sig=&quot;http://www.w3.org/2000/09/xmldsig#&quot;&gt;\r\n                    &lt;sig:SignedInfo&gt;\r\n                        &lt;sig:CanonicalizationMethod Algorithm=&quot;http://www.w3.org/2001/10/xml-exc-c14n#&quot; /&gt;\r\n                        &lt;sig:SignatureMethod Algorithm=&quot;http://www.w3.org/2000/09/xmldsig#hmac-sha1&quot; /&gt;\r\n                    &lt;/sig:SignedInfo&gt;\r\n                    &lt;sig:SignatureValue&gt;ohqViTbUYBG2E3hLldUA1AsPBJM=&lt;/sig:SignatureValue&gt;\r\n                    &lt;sig:KeyInfo&gt;\r\n                        &lt;sec:SecurityTokenReference&gt;\r\n                            &lt;sec:Reference URI=&quot;#uuid-106bdbae-76e5-4195-b5d0-cc1c1a7a813e-55&quot; ValueType=&quot;http://schemas.xmlsoap.org/ws/2005/02/sc/sct&quot; /&gt;\r\n                        &lt;/sec:SecurityTokenReference&gt;\r\n                    &lt;/sig:KeyInfo&gt;\r\n                &lt;/sig:Signature&gt;\r\n            &lt;/sec:Security&gt;\r\n        &lt;/S:Header&gt;\r\n        &lt;S:Body&gt;\r\n            &lt;ns2:HelloWorld xmlns:ns2=&quot;http://tempuri.org/&quot; xmlns:ns3=&quot;http://schemas.microsoft.com/2003/10/Serialization/&quot;&gt;\r\n                &lt;ns2:name&gt;Test&lt;/ns2:name&gt;\r\n            &lt;/ns2:HelloWorld&gt;\r\n        &lt;/S:Body&gt;\r\n    &lt;/S:Envelope&gt;\r\n\r\nThat leads to &quot;An error occurred when verifying security for the message&quot; responses coming back from the server.\r\n\r\nUsing wcf-storm to fire off requests and Fiddler2 to inspect the outgoing packets, I know that that I should be close.  The following request works correctly:\r\n\r\n    &lt;S:Envelope xmlns:S=&quot;http://www.w3.org/2003/05/soap-envelope&quot;&gt;\r\n        &lt;S:Header xmlns:a=&quot;http://www.w3.org/2005/08/addressing&quot; xmlns:scon=&quot;http://schemas.xmlsoap.org/ws/2005/02/sc&quot; xmlns:sec=&quot;http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd&quot;&gt;\r\n    \t\t&lt;o:Security xmlns:o=&quot;http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd&quot; s:mustUnderstand=&quot;1&quot;&gt;\r\n    \t\t\t&lt;u:Timestamp u:Id=&quot;_0&quot;&gt;\r\n    \t\t\t\t&lt;u:Created&gt;2016-04-05T23:48:06.110Z&lt;/u:Created&gt;\r\n    \t\t\t\t&lt;u:Expires&gt;2016-04-05T23:53:06.110Z&lt;/u:Expires&gt;\r\n    \t\t\t&lt;/u:Timestamp&gt;\r\n    \t\t\t&lt;c:SecurityContextToken xmlns:c=&quot;http://schemas.xmlsoap.org/ws/2005/02/sc&quot; u:Id=&quot;uuid-8085da33-b25c-4f09-b5a9-110635a3ae39-2005&quot;&gt;\r\n    \t\t\t\t&lt;c:Identifier&gt;urn:uuid:91349027-cb32-4c46-9f16-74a6bcb11126&lt;/c:Identifier&gt;\r\n    \t\t\t&lt;/c:SecurityContextToken&gt;\r\n    \t\t\t&lt;Signature xmlns=&quot;http://www.w3.org/2000/09/xmldsig#&quot;&gt;\r\n    \t\t\t\t&lt;SignedInfo&gt;\r\n    \t\t\t\t\t&lt;CanonicalizationMethod Algorithm=&quot;http://www.w3.org/2001/10/xml-exc-c14n#&quot; /&gt;\r\n    \t\t\t\t\t&lt;SignatureMethod Algorithm=&quot;http://www.w3.org/2000/09/xmldsig#hmac-sha1&quot; /&gt;\r\n    \t\t\t\t\t&lt;Reference URI=&quot;#_0&quot;&gt;\r\n    \t\t\t\t\t\t&lt;Transforms&gt;\r\n    \t\t\t\t\t\t\t&lt;Transform Algorithm=&quot;http://www.w3.org/2001/10/xml-exc-c14n#&quot; /&gt;\r\n    \t\t\t\t\t\t&lt;/Transforms&gt;\r\n    \t\t\t\t\t\t&lt;DigestMethod Algorithm=&quot;http://www.w3.org/2000/09/xmldsig#sha1&quot; /&gt;\r\n    \t\t\t\t\t\t&lt;DigestValue&gt;AvRXi7pyjulsfdg9afInSFMM+5k=&lt;/DigestValue&gt;\r\n    \t\t\t\t\t&lt;/Reference&gt;\r\n    \t\t\t\t&lt;/SignedInfo&gt;\r\n    \t\t\t\t&lt;SignatureValue&gt;TQup7BBN43b8CefrdSRd+X8MBgg=&lt;/SignatureValue&gt;\r\n    \t\t\t\t&lt;KeyInfo&gt;\r\n    \t\t\t\t\t&lt;o:SecurityTokenReference&gt;\r\n    \t\t\t\t\t\t&lt;o:Reference ValueType=&quot;http://schemas.xmlsoap.org/ws/2005/02/sc/sct&quot; URI=&quot;#uuid-8085da33-b25c-4f09-b5a9-110635a3ae39-2005&quot; /&gt;\r\n    \t\t\t\t\t&lt;/o:SecurityTokenReference&gt;\r\n    \t\t\t\t&lt;/KeyInfo&gt;\r\n    \t\t\t&lt;/Signature&gt;\r\n    \t\t&lt;/o:Security&gt;\r\n    \t&lt;/S:Header&gt;\r\n    \t&lt;S:Body&gt;\r\n    \t\t&lt;ns2:HelloWorld xmlns:ns2=&quot;http://tempuri.org/&quot; xmlns:ns3=&quot;http://schemas.microsoft.com/2003/10/Serialization/&quot;&gt;\r\n    \t\t\t&lt;ns2:name&gt;Test&lt;/ns2:name&gt;\r\n    \t\t&lt;/ns2:HelloWorld&gt;\r\n    \t&lt;/S:Body&gt;\r\n    &lt;/S:Envelope&gt;\r\n\r\nThe main differences are:\r\n\r\n* I&#39;ve omitted the `Timestamp` element (though I&#39;ve tried including it, and didn&#39;t seem to make any difference).\r\n* I&#39;ve omitted the `SignedInfo/Reference` element, because I&#39;m not sure how its `DigestValue` is meant to be computed.\r\n\r\nSo after all of that, I suppose the main question is:\r\n\r\n**What is the actual algorithm for signing the outbound messages?**  As in, if I have:\r\n\r\n    &lt;Envelope&gt;\r\n    \t&lt;Header&gt;\r\n    \t\tHHH...\r\n    \t&lt;/Header&gt;\r\n    \t&lt;Body&gt;\r\n    \t\tBBB...\r\n    \t&lt;/Body&gt;   \r\n    &lt;/Envelope&gt;\r\n\r\n...am I meant to compute the signature value off of `&lt;Envelope&gt;...&lt;/Envelope&gt;` (so the entire thing), or just `&lt;Body&gt;...&lt;/Body&gt;`, or even just the `BBB...` part?  And if I&#39;m meant to use the entire thing, how do I reconcile that against the fact that adding the signature information to the header alters the content that&#39;s used as input when computing the signature?\r\n\r\nIs there a more straightforward way to get JAX-WS to generate requests using the required signing conventions that I&#39;ve overlooked?\r\n\r\nAnd then there are some minor bonus questions:\r\n\r\n1.  Is there an established standard with respect to which order I pass the client and server `BinarySecret` values when combining them using `PSHA1`?\r\n\r\n2.  Are the `Timestamp` and `SignedInfo/Reference` entries significant, and if so, what&#39;s the correct method for computing the `DigestValue`?\r\n\r\n  [1]: https://softwareengineering.stackexchange.com/a/147310/25520\r\n","title":"SOAP, WCF, and message signatures","body":"<p>I have a Java (JAX-WS based) SOAP client that I'm trying to get to talk with a (third-party) WCF-based server.  I'm finding the <a href=\"https://softwareengineering.stackexchange.com/a/147310/25520\">sentiment expressed here</a> to be quite accurate.  But the goal still remains.  </p>\n\n<p>So long story short, I can coax a valid \"security context token\" out of the server, but am getting hung up on message-signing issues (I believe).  </p>\n\n<p>The server appears to expect the message to be signed using an <code>hmac-sha1</code> authentication code using client/server secret keys (<code>PSHA1</code> algorithm).  Fair enough.  However JAX-WS appears to want to use <code>rsa-sha1</code> and an X509 certificate to sign the outbound messages (which the server doesn't like), and only seems to use <code>hmac-sha1</code> if a <code>UsernameToken</code> is provided (which the server also doesn't like).  </p>\n\n<p>So I'm trying to manually sign the outbound SOAP messages from within a <code>SOAPHandler</code> implementation.  The request that the client sends in order to get a security context token looks like this:</p>\n\n<pre><code>&lt;t:RequestSecurityToken xmlns:t=\"http://schemas.xmlsoap.org/ws/2005/02/trust\"&gt;\n    &lt;t:TokenType&gt;http://schemas.xmlsoap.org/ws/2005/02/sc/sct&lt;/t:TokenType&gt;\n    &lt;t:RequestType&gt;http://schemas.xmlsoap.org/ws/2005/02/trust/Issue&lt;/t:RequestType&gt;\n    &lt;t:Entropy&gt;\n        &lt;t:BinarySecret Type=\"http://schemas.xmlsoap.org/ws/2005/02/trust/Nonce\"&gt;NzM1MDZjYWVkMTEzNDlkNGEyODY0ZDBlMjlkODEyMTM=&lt;/t:BinarySecret&gt;\n    &lt;/t:Entropy&gt;\n    &lt;t:KeySize&gt;256&lt;/t:KeySize&gt;\n&lt;/t:RequestSecurityToken&gt;\n</code></pre>\n\n<p>And the token that the server sends back look like this:</p>\n\n<pre><code>&lt;t:RequestSecurityTokenResponse xmlns:t=\"http://schemas.xmlsoap.org/ws/2005/02/trust\"&gt;\n    &lt;t:TokenType&gt;http://schemas.xmlsoap.org/ws/2005/02/sc/sct&lt;/t:TokenType&gt;\n    &lt;t:RequestedSecurityToken&gt;\n        &lt;c:SecurityContextToken xmlns:c=\"http://schemas.xmlsoap.org/ws/2005/02/sc\" u:Id=\"uuid-106bdbae-76e5-4195-b5d0-cc1c1a7a813e-13\"&gt;\n            &lt;c:Identifier&gt;urn:uuid:c0be4929-da8d-4955-8e13-b25aa7a37217&lt;/c:Identifier&gt;\n        &lt;/c:SecurityContextToken&gt;\n    &lt;/t:RequestedSecurityToken&gt;\n    &lt;t:RequestedAttachedReference&gt;\n        &lt;o:SecurityTokenReference xmlns:o=\"http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd\"&gt;\n            &lt;o:Reference ValueType=\"http://schemas.xmlsoap.org/ws/2005/02/sc/sct\" URI=\"#uuid-106bdbae-76e5-4195-b5d0-cc1c1a7a813e-13\" /&gt;\n        &lt;/o:SecurityTokenReference&gt;\n    &lt;/t:RequestedAttachedReference&gt;\n    &lt;t:RequestedUnattachedReference&gt;\n        &lt;o:SecurityTokenReference xmlns:o=\"http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd\"&gt;\n            &lt;o:Reference URI=\"urn:uuid:c0be4929-da8d-4955-8e13-b25aa7a37217\" ValueType=\"http://schemas.xmlsoap.org/ws/2005/02/sc/sct\" /&gt;\n        &lt;/o:SecurityTokenReference&gt;\n    &lt;/t:RequestedUnattachedReference&gt;\n    &lt;t:RequestedProofToken&gt;\n        &lt;t:ComputedKey&gt;http://schemas.xmlsoap.org/ws/2005/02/trust/CK/PSHA1&lt;/t:ComputedKey&gt;\n    &lt;/t:RequestedProofToken&gt;\n    &lt;t:Entropy&gt;\n        &lt;t:BinarySecret u:Id=\"uuid-106bdbae-76e5-4195-b5d0-cc1c1a7a813e-14\" Type=\"http://schemas.xmlsoap.org/ws/2005/02/trust/Nonce\"&gt;dssunihZGy2dnnDHV9PMe3vU3lg/kKKZQkFohvGvCAk=&lt;/t:BinarySecret&gt;\n    &lt;/t:Entropy&gt;\n    &lt;t:Lifetime&gt;\n        &lt;u:Created&gt;2016-04-08T04:11:54.392Z&lt;/u:Created&gt;\n        &lt;u:Expires&gt;2016-04-08T19:11:54.392Z&lt;/u:Expires&gt;\n    &lt;/t:Lifetime&gt;\n    &lt;t:KeySize&gt;256&lt;/t:KeySize&gt;\n&lt;/t:RequestSecurityTokenResponse&gt;\n</code></pre>\n\n<p>I'm combining the client and the server <code>BinarySecret</code> keys using <code>PSHA1</code> as follows:</p>\n\n<pre><code>private byte[] getSharedKey() {\n    try {\n        //FIXME:  client key first, or server key first?\n        P_SHA1 algo = new P_SHA1();\n        return algo.createKey(getBinaryClientEntropy(), getBinaryServerEntropy(), 0, getSharedKeySize() / 8);\n    }\n    catch (Throwable e) {\n        LOG.error(\"Unable to compute shared key!\", e);\n    }\n\n    return null;\n\n}\n</code></pre>\n\n<p>I'm then using that key to compute a MAC for the message, like:</p>\n\n<pre><code>Mac mac = Mac.getInstance(\"HmacSHA1\");\nSecretKeySpec key = new SecretKeySpec(getSharedKey(), \"HmacSHA1\");\nmac.init(key);\n\nbyte[] signatureBytes = mac.doFinal(content);\nString signature = Base64.encodeBytes(signatureBytes);\n</code></pre>\n\n<p>That then goes into the outbound requests (along with a ton of other boilerplate things), as the <code>SignatureValue</code>.  Ultimately I end up with something like:</p>\n\n<pre><code>&lt;S:Envelope xmlns:S=\"http://www.w3.org/2003/05/soap-envelope\"&gt;\n    &lt;S:Header xmlns:a=\"http://www.w3.org/2005/08/addressing\" xmlns:scon=\"http://schemas.xmlsoap.org/ws/2005/02/sc\" xmlns:sec=\"http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd\"&gt;\n        &lt;sec:Security xmlns:env=\"http://www.w3.org/2003/05/soap-envelope\" env:mustUnderstand=\"true\"&gt;\n            &lt;scon:SecurityContextToken xmlns:util=\"http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd\" util:Id=\"uuid-106bdbae-76e5-4195-b5d0-cc1c1a7a813e-55\"&gt;\n                &lt;scon:Identifier&gt;urn:uuid:3ab0f3fb-edd4-4880-af77-d700dda371bb&lt;/scon:Identifier&gt;\n            &lt;/scon:SecurityContextToken&gt;\n            &lt;sig:Signature xmlns:sig=\"http://www.w3.org/2000/09/xmldsig#\"&gt;\n                &lt;sig:SignedInfo&gt;\n                    &lt;sig:CanonicalizationMethod Algorithm=\"http://www.w3.org/2001/10/xml-exc-c14n#\" /&gt;\n                    &lt;sig:SignatureMethod Algorithm=\"http://www.w3.org/2000/09/xmldsig#hmac-sha1\" /&gt;\n                &lt;/sig:SignedInfo&gt;\n                &lt;sig:SignatureValue&gt;ohqViTbUYBG2E3hLldUA1AsPBJM=&lt;/sig:SignatureValue&gt;\n                &lt;sig:KeyInfo&gt;\n                    &lt;sec:SecurityTokenReference&gt;\n                        &lt;sec:Reference URI=\"#uuid-106bdbae-76e5-4195-b5d0-cc1c1a7a813e-55\" ValueType=\"http://schemas.xmlsoap.org/ws/2005/02/sc/sct\" /&gt;\n                    &lt;/sec:SecurityTokenReference&gt;\n                &lt;/sig:KeyInfo&gt;\n            &lt;/sig:Signature&gt;\n        &lt;/sec:Security&gt;\n    &lt;/S:Header&gt;\n    &lt;S:Body&gt;\n        &lt;ns2:HelloWorld xmlns:ns2=\"http://tempuri.org/\" xmlns:ns3=\"http://schemas.microsoft.com/2003/10/Serialization/\"&gt;\n            &lt;ns2:name&gt;Test&lt;/ns2:name&gt;\n        &lt;/ns2:HelloWorld&gt;\n    &lt;/S:Body&gt;\n&lt;/S:Envelope&gt;\n</code></pre>\n\n<p>That leads to \"An error occurred when verifying security for the message\" responses coming back from the server.</p>\n\n<p>Using wcf-storm to fire off requests and Fiddler2 to inspect the outgoing packets, I know that that I should be close.  The following request works correctly:</p>\n\n<pre><code>&lt;S:Envelope xmlns:S=\"http://www.w3.org/2003/05/soap-envelope\"&gt;\n    &lt;S:Header xmlns:a=\"http://www.w3.org/2005/08/addressing\" xmlns:scon=\"http://schemas.xmlsoap.org/ws/2005/02/sc\" xmlns:sec=\"http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd\"&gt;\n        &lt;o:Security xmlns:o=\"http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd\" s:mustUnderstand=\"1\"&gt;\n            &lt;u:Timestamp u:Id=\"_0\"&gt;\n                &lt;u:Created&gt;2016-04-05T23:48:06.110Z&lt;/u:Created&gt;\n                &lt;u:Expires&gt;2016-04-05T23:53:06.110Z&lt;/u:Expires&gt;\n            &lt;/u:Timestamp&gt;\n            &lt;c:SecurityContextToken xmlns:c=\"http://schemas.xmlsoap.org/ws/2005/02/sc\" u:Id=\"uuid-8085da33-b25c-4f09-b5a9-110635a3ae39-2005\"&gt;\n                &lt;c:Identifier&gt;urn:uuid:91349027-cb32-4c46-9f16-74a6bcb11126&lt;/c:Identifier&gt;\n            &lt;/c:SecurityContextToken&gt;\n            &lt;Signature xmlns=\"http://www.w3.org/2000/09/xmldsig#\"&gt;\n                &lt;SignedInfo&gt;\n                    &lt;CanonicalizationMethod Algorithm=\"http://www.w3.org/2001/10/xml-exc-c14n#\" /&gt;\n                    &lt;SignatureMethod Algorithm=\"http://www.w3.org/2000/09/xmldsig#hmac-sha1\" /&gt;\n                    &lt;Reference URI=\"#_0\"&gt;\n                        &lt;Transforms&gt;\n                            &lt;Transform Algorithm=\"http://www.w3.org/2001/10/xml-exc-c14n#\" /&gt;\n                        &lt;/Transforms&gt;\n                        &lt;DigestMethod Algorithm=\"http://www.w3.org/2000/09/xmldsig#sha1\" /&gt;\n                        &lt;DigestValue&gt;AvRXi7pyjulsfdg9afInSFMM+5k=&lt;/DigestValue&gt;\n                    &lt;/Reference&gt;\n                &lt;/SignedInfo&gt;\n                &lt;SignatureValue&gt;TQup7BBN43b8CefrdSRd+X8MBgg=&lt;/SignatureValue&gt;\n                &lt;KeyInfo&gt;\n                    &lt;o:SecurityTokenReference&gt;\n                        &lt;o:Reference ValueType=\"http://schemas.xmlsoap.org/ws/2005/02/sc/sct\" URI=\"#uuid-8085da33-b25c-4f09-b5a9-110635a3ae39-2005\" /&gt;\n                    &lt;/o:SecurityTokenReference&gt;\n                &lt;/KeyInfo&gt;\n            &lt;/Signature&gt;\n        &lt;/o:Security&gt;\n    &lt;/S:Header&gt;\n    &lt;S:Body&gt;\n        &lt;ns2:HelloWorld xmlns:ns2=\"http://tempuri.org/\" xmlns:ns3=\"http://schemas.microsoft.com/2003/10/Serialization/\"&gt;\n            &lt;ns2:name&gt;Test&lt;/ns2:name&gt;\n        &lt;/ns2:HelloWorld&gt;\n    &lt;/S:Body&gt;\n&lt;/S:Envelope&gt;\n</code></pre>\n\n<p>The main differences are:</p>\n\n<ul>\n<li>I've omitted the <code>Timestamp</code> element (though I've tried including it, and didn't seem to make any difference).</li>\n<li>I've omitted the <code>SignedInfo/Reference</code> element, because I'm not sure how its <code>DigestValue</code> is meant to be computed.</li>\n</ul>\n\n<p>So after all of that, I suppose the main question is:</p>\n\n<p><strong>What is the actual algorithm for signing the outbound messages?</strong>  As in, if I have:</p>\n\n<pre><code>&lt;Envelope&gt;\n    &lt;Header&gt;\n        HHH...\n    &lt;/Header&gt;\n    &lt;Body&gt;\n        BBB...\n    &lt;/Body&gt;   \n&lt;/Envelope&gt;\n</code></pre>\n\n<p>...am I meant to compute the signature value off of <code>&lt;Envelope&gt;...&lt;/Envelope&gt;</code> (so the entire thing), or just <code>&lt;Body&gt;...&lt;/Body&gt;</code>, or even just the <code>BBB...</code> part?  And if I'm meant to use the entire thing, how do I reconcile that against the fact that adding the signature information to the header alters the content that's used as input when computing the signature?</p>\n\n<p>Is there a more straightforward way to get JAX-WS to generate requests using the required signing conventions that I've overlooked?</p>\n\n<p>And then there are some minor bonus questions:</p>\n\n<ol>\n<li><p>Is there an established standard with respect to which order I pass the client and server <code>BinarySecret</code> values when combining them using <code>PSHA1</code>?</p></li>\n<li><p>Are the <code>Timestamp</code> and <code>SignedInfo/Reference</code> entries significant, and if so, what's the correct method for computing the <code>DigestValue</code>?</p></li>\n</ol>\n"},{"tags":["java","spring","hibernate","criteria","boot"],"comments":[{"owner":{"account_id":68630,"reputation":2092,"user_id":200136,"display_name":"Andrew McGuinness"},"score":0,"creation_date":1681132179,"post_id":75977325,"comment_id":134003210,"body_markdown":"Your question is about an error code you got from a service, but doesn&#39;t say anything about the service itself, even what service it is - that&#39;s the first thing to look at and ask questions about.  The code you are using to build your query might not even be relevant","body":"Your question is about an error code you got from a service, but doesn&#39;t say anything about the service itself, even what service it is - that&#39;s the first thing to look at and ask questions about.  The code you are using to build your query might not even be relevant"}],"owner":{"account_id":28219998,"reputation":1,"user_id":21570879,"display_name":"Shankar Kannan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681162763,"creation_date":1681131319,"question_id":75977325,"body_markdown":"&gt;![Output Response in swagger-ui](https://i.stack.imgur.com/QYhlF.png)\r\n\r\n    if (searchFilter.getSortType() == SortType.asc) {\r\n\t\t  orderList.add(builder.asc(root.get(&quot;count&quot;)));\r\n\t   } else {\r\n\t\t orderList.add(builder.desc(root.get(&quot;count&quot;)));\r\n    }\r\n\r\nI want the JSON output response as per the count based output. I need to do aggregate function during run time. \r\n\r\nIn the above program I passed `root.get(&quot;count&quot;);` Here instead of count I need to pass any one of the aggregate function like `sum, avg,min,max, count` like that.\r\n\r\nHow I can pass run time aggregate function using `hibernate Tuple` criteria restriction?","title":"How to do the count operation using tuple criteria restriction during run time i got 412 error code","body":"<blockquote>\n<p><img src=\"https://i.stack.imgur.com/QYhlF.png\" alt=\"Output Response in swagger-ui\" /></p>\n</blockquote>\n<pre><code>if (searchFilter.getSortType() == SortType.asc) {\n      orderList.add(builder.asc(root.get(&quot;count&quot;)));\n   } else {\n     orderList.add(builder.desc(root.get(&quot;count&quot;)));\n}\n</code></pre>\n<p>I want the JSON output response as per the count based output. I need to do aggregate function during run time.</p>\n<p>In the above program I passed <code>root.get(&quot;count&quot;);</code> Here instead of count I need to pass any one of the aggregate function like <code>sum, avg,min,max, count</code> like that.</p>\n<p>How I can pass run time aggregate function using <code>hibernate Tuple</code> criteria restriction?</p>\n"},{"tags":["java","xml","xsd","xml-validation"],"owner":{"account_id":28105872,"reputation":3,"user_id":21474470,"display_name":"Abdellah Badaoui"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":9,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1681123365,"answer_count":0,"score":0,"last_activity_date":1681162715,"creation_date":1681121220,"question_id":75976133,"body_markdown":"I made an XML document and queried it using xpath.\r\nHere&#39;s a snippet of the XML doc.  The entire thing is pretty long.\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;ligue name=&quot;Premier League&quot; id=&quot;P_L&quot;\r\nxmlns=&quot;https://www.w3schools.com&quot; \r\nxmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; \r\nxsi:schemaLocation=&quot;https://www.w3schools.com ligue.xsd&quot;\r\n&gt;\r\n    &lt;equipe name=&#39;Arsenal&#39;&gt;&lt;!-- DONE--&gt;\r\n        &lt;manager&gt;\r\n            &lt;nom&gt;Arteta&lt;/nom&gt;\r\n            &lt;prenom&gt;Mikel&lt;/prenom&gt;\r\n            &lt;date_de_debut&gt;2019-12-20&lt;/date_de_debut&gt;\r\n            &lt;date_de_naissance&gt;1982-03-26&lt;/date_de_naissance&gt;\r\n            &lt;salaire&gt;8300000&lt;/salaire&gt;\r\n        &lt;/manager&gt;\r\n```\r\nHere&#39;s my Java program made to execute one simple xpath expression.\r\n\r\n```\r\npublic static void main(String[] args) throws ParserConfigurationException, SAXException, IOException, XPathExpressionException {\r\n    DocumentBuilderFactory factory = DocumentBuilderFactory.newInstance();\r\n\tfactory.setNamespaceAware(true);\r\n\tDocumentBuilder builder = factory.newDocumentBuilder();\r\n\tDocument doc = builder.parse(&quot;ligue.xml&quot;);\r\n    XPathFactory xpathfactory = XPathFactory.newInstance();\r\n\tXPath xpath = xpathfactory.newXPath();\r\n    XPathExpression expr=xpath.compile(&quot;/ligue/equipe[@name=&#39;Arsenal&#39;]/manager/nom/text()&quot;);\r\n    NodeList result=(NodeList) expr.evaluate(doc,XPathConstants.NODESET);\r\n    System.out.println(&quot;length is &quot;+result.getLength());\r\n    for (int i = 0; i &lt; result.getLength(); i++) {\r\n        System.out.println(result.item(i).getNodeValue());\r\n        }\r\n        \r\n    }\r\n```\r\nWhen I run the Java program it doesn&#39;t give me the name of the manager which is Arteta.\r\nHowever if I unbind the XML document to the xsd by removing:\r\n`xmlns=&quot;https://www.w3schools.com&quot; \r\nxmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; \r\nxsi:schemaLocation=&quot;https://www.w3schools.com ligue.xsd&quot;`\r\nIt runs correctly.\r\nI read online about namespaces and how it is causing the error.  I tried using a prefix which I then added in the xpath expression and nothing changed.\r\nAny help will be duly appreciated.\r\n","title":"When I bind my xml file to an xsd the xpath expression is not evaluated","body":"<p>I made an XML document and queried it using xpath.\nHere's a snippet of the XML doc.  The entire thing is pretty long.</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;ligue name=&quot;Premier League&quot; id=&quot;P_L&quot;\nxmlns=&quot;https://www.w3schools.com&quot; \nxmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; \nxsi:schemaLocation=&quot;https://www.w3schools.com ligue.xsd&quot;\n&gt;\n    &lt;equipe name='Arsenal'&gt;&lt;!-- DONE--&gt;\n        &lt;manager&gt;\n            &lt;nom&gt;Arteta&lt;/nom&gt;\n            &lt;prenom&gt;Mikel&lt;/prenom&gt;\n            &lt;date_de_debut&gt;2019-12-20&lt;/date_de_debut&gt;\n            &lt;date_de_naissance&gt;1982-03-26&lt;/date_de_naissance&gt;\n            &lt;salaire&gt;8300000&lt;/salaire&gt;\n        &lt;/manager&gt;\n</code></pre>\n<p>Here's my Java program made to execute one simple xpath expression.</p>\n<pre><code>public static void main(String[] args) throws ParserConfigurationException, SAXException, IOException, XPathExpressionException {\n    DocumentBuilderFactory factory = DocumentBuilderFactory.newInstance();\n    factory.setNamespaceAware(true);\n    DocumentBuilder builder = factory.newDocumentBuilder();\n    Document doc = builder.parse(&quot;ligue.xml&quot;);\n    XPathFactory xpathfactory = XPathFactory.newInstance();\n    XPath xpath = xpathfactory.newXPath();\n    XPathExpression expr=xpath.compile(&quot;/ligue/equipe[@name='Arsenal']/manager/nom/text()&quot;);\n    NodeList result=(NodeList) expr.evaluate(doc,XPathConstants.NODESET);\n    System.out.println(&quot;length is &quot;+result.getLength());\n    for (int i = 0; i &lt; result.getLength(); i++) {\n        System.out.println(result.item(i).getNodeValue());\n        }\n        \n    }\n</code></pre>\n<p>When I run the Java program it doesn't give me the name of the manager which is Arteta.\nHowever if I unbind the XML document to the xsd by removing:\n<code>xmlns=&quot;https://www.w3schools.com&quot;  xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;  xsi:schemaLocation=&quot;https://www.w3schools.com ligue.xsd&quot;</code>\nIt runs correctly.\nI read online about namespaces and how it is causing the error.  I tried using a prefix which I then added in the xpath expression and nothing changed.\nAny help will be duly appreciated.</p>\n"},{"tags":["java","spring","spring-boot","spring-security"],"comments":[{"owner":{"account_id":2064278,"reputation":13128,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1681090778,"post_id":75972818,"comment_id":133998008,"body_markdown":"try moving the `filterChain.doFilter(request, response);` above the response.setStatus code.","body":"try moving the <code>filterChain.doFilter(request, response);</code> above the response.setStatus code."},{"owner":{"account_id":13443994,"reputation":354,"user_id":9700478,"display_name":"GeekOverdose"},"score":0,"creation_date":1681120508,"post_id":75972818,"comment_id":134001250,"body_markdown":"If i do that, the `response.setStatus()` code does nothing. It runs but it doesn&#39;t actually change the response in any way.","body":"If i do that, the <code>response.setStatus()</code> code does nothing. It runs but it doesn&#39;t actually change the response in any way."}],"answers":[{"tags":[],"owner":{"account_id":13443994,"reputation":354,"user_id":9700478,"display_name":"GeekOverdose"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1681162697,"creation_date":1681162697,"answer_id":75980934,"question_id":75972818,"body_markdown":"After fiddling around, I found this solution. I&#39;m not sure if it is a proper way of doing this, but it works for me\r\n\r\nI create a new `CookieAuthenticationEntryPoint`:\r\n```java\r\n@Component\r\npublic class CookieAuthenticationEntryPoint implements AuthenticationEntryPoint {\r\n    public static String COOKIE_AUTH_ERROR_REQUEST_ATTR_KEY = &quot;CookieAuthenticationError&quot;;\r\n\r\n    private final ObjectMapper objectMapper;\r\n\r\n    public CookieAuthenticationEntryPoint(ObjectMapper objectMapper) {\r\n        this.objectMapper = objectMapper;\r\n    }\r\n\r\n    @Override\r\n    public void commence(\r\n            HttpServletRequest request,\r\n            HttpServletResponse response,\r\n            AuthenticationException authException) throws IOException, ServletException {\r\n        // Handle cookie authentication errors if they exist\r\n        Exception cookieAuthException;\r\n        if ((cookieAuthException = (Exception) request.getAttribute(COOKIE_AUTH_ERROR_REQUEST_ATTR_KEY)) != null) {\r\n            // Set appropriate status code and content type\r\n            response.setStatus(HttpServletResponse.SC_UNAUTHORIZED);\r\n            response.setHeader(HttpHeaders.CONTENT_TYPE, MediaType.APPLICATION_JSON_VALUE);\r\n\r\n            // Write error message to response body\r\n            objectMapper.writeValue(response.getOutputStream(),\r\n                    Map.of(\r\n                            &quot;code&quot;, HttpServletResponse.SC_UNAUTHORIZED,\r\n                            &quot;message&quot;, cookieAuthException.getMessage()\r\n                    ));\r\n\r\n            // Exit method early\r\n            return;\r\n        }\r\n\r\n        // Default behavior for all other cases\r\n        response.setStatus(HttpServletResponse.SC_FORBIDDEN);\r\n    }\r\n}\r\n```\r\n\r\nWhat it does is, it checks if there is an exception to be handled that is stored in the request attributes. If there is, it does the logic that I wrote in the `CookieAuthenticationFilter` originally. \r\n\r\nThat section of the `CookieAuthenticationFilter` is refactored to this:\r\n```java\r\n...\r\n        } catch (CustomAuthException e) {\r\n            // Set error as request attribute\r\n            request.setAttribute(CookieAuthenticationEntryPoint.COOKIE_AUTH_ERROR_REQUEST_ATTR_KEY, e);\r\n\r\n            // Run the rest of the filters\r\n            filterChain.doFilter(request, response); return;\r\n        }\r\n...\r\n```\r\n\r\nWhat that does is writes the `CustomException` to the request attributes, which will be picked up later by `CookieAuthenticationEntryPoint`.\r\n\r\nFinally I just needed to register `CookieAuthenticationEntryPoint` in the `SecurityConfig`, like this:\r\n\r\n```java\r\n...\r\n                .exceptionHandling(e -&gt; e.authenticationEntryPoint(cookieAuthenticationEntryPoint));\r\n...\r\n```\r\n\r\nI know that this is very tight coupling and using string values and all that might be a bad idea, but it works. If anyone knows of any other way, let me know","title":"Setting a response status triggers an AccessDeniedException","body":"<p>After fiddling around, I found this solution. I'm not sure if it is a proper way of doing this, but it works for me</p>\n<p>I create a new <code>CookieAuthenticationEntryPoint</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Component\npublic class CookieAuthenticationEntryPoint implements AuthenticationEntryPoint {\n    public static String COOKIE_AUTH_ERROR_REQUEST_ATTR_KEY = &quot;CookieAuthenticationError&quot;;\n\n    private final ObjectMapper objectMapper;\n\n    public CookieAuthenticationEntryPoint(ObjectMapper objectMapper) {\n        this.objectMapper = objectMapper;\n    }\n\n    @Override\n    public void commence(\n            HttpServletRequest request,\n            HttpServletResponse response,\n            AuthenticationException authException) throws IOException, ServletException {\n        // Handle cookie authentication errors if they exist\n        Exception cookieAuthException;\n        if ((cookieAuthException = (Exception) request.getAttribute(COOKIE_AUTH_ERROR_REQUEST_ATTR_KEY)) != null) {\n            // Set appropriate status code and content type\n            response.setStatus(HttpServletResponse.SC_UNAUTHORIZED);\n            response.setHeader(HttpHeaders.CONTENT_TYPE, MediaType.APPLICATION_JSON_VALUE);\n\n            // Write error message to response body\n            objectMapper.writeValue(response.getOutputStream(),\n                    Map.of(\n                            &quot;code&quot;, HttpServletResponse.SC_UNAUTHORIZED,\n                            &quot;message&quot;, cookieAuthException.getMessage()\n                    ));\n\n            // Exit method early\n            return;\n        }\n\n        // Default behavior for all other cases\n        response.setStatus(HttpServletResponse.SC_FORBIDDEN);\n    }\n}\n</code></pre>\n<p>What it does is, it checks if there is an exception to be handled that is stored in the request attributes. If there is, it does the logic that I wrote in the <code>CookieAuthenticationFilter</code> originally.</p>\n<p>That section of the <code>CookieAuthenticationFilter</code> is refactored to this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>...\n        } catch (CustomAuthException e) {\n            // Set error as request attribute\n            request.setAttribute(CookieAuthenticationEntryPoint.COOKIE_AUTH_ERROR_REQUEST_ATTR_KEY, e);\n\n            // Run the rest of the filters\n            filterChain.doFilter(request, response); return;\n        }\n...\n</code></pre>\n<p>What that does is writes the <code>CustomException</code> to the request attributes, which will be picked up later by <code>CookieAuthenticationEntryPoint</code>.</p>\n<p>Finally I just needed to register <code>CookieAuthenticationEntryPoint</code> in the <code>SecurityConfig</code>, like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>...\n                .exceptionHandling(e -&gt; e.authenticationEntryPoint(cookieAuthenticationEntryPoint));\n...\n</code></pre>\n<p>I know that this is very tight coupling and using string values and all that might be a bad idea, but it works. If anyone knows of any other way, let me know</p>\n"}],"owner":{"account_id":13443994,"reputation":354,"user_id":9700478,"display_name":"GeekOverdose"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":355,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75980934,"answer_count":1,"score":1,"last_activity_date":1681162697,"creation_date":1681073519,"question_id":75972818,"body_markdown":"This is a dummy project so some of the code will be example code.\r\n\r\nHere is my Spring Boot security config:\r\n```java\r\n@Configuration\r\n@EnableWebSecurity\r\npublic class SecurityConfig {\r\n\r\n    private final CookieAuthenticationFilter cookieAuthenticationFilter;\r\n\r\n    public SecurityConfig(CookieAuthenticationFilter customFilter) {\r\n        this.cookieAuthenticationFilter = customFilter;\r\n    }\r\n\r\n    @Bean\r\n    public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\r\n        http\r\n                .cors(AbstractHttpConfigurer::disable)\r\n                .csrf(AbstractHttpConfigurer::disable)\r\n                .sessionManagement(\r\n                        s -&gt; s.sessionCreationPolicy(SessionCreationPolicy.STATELESS)\r\n                )\r\n                .authorizeHttpRequests(\r\n                        a -&gt; a\r\n                                .requestMatchers(&quot;/un/**&quot;).permitAll()\r\n                                .anyRequest().authenticated()\r\n                )\r\n\r\n                .addFilterBefore(cookieAuthenticationFilter, BasicAuthenticationFilter.class);\r\n        return http.build();\r\n    }\r\n}\r\n\r\n```\r\n\r\nI have written `CookieAuthenticationFilter` for handling authentication by a cookie token. However, whenever I try to add in `response.setStatus()` within this filter, and then ping `/test` it causes the `AccessDenied` error to be unhandled.\r\n\r\n```\r\nServlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Unable to handle the Spring Security Exception because the response is already committed.] with root cause\r\n\r\norg.springframework.security.access.AccessDeniedException: Access Denied\r\n(rest of the stack trace not shown)\r\n```\r\n\r\nHere is the `CookieAuthenticationFilter` code:\r\n\r\n```java\r\n@Component\r\npublic class CookieAuthenticationFilter extends OncePerRequestFilter {\r\n    private final AuthService authService;\r\n    private final ObjectMapper objectMapper;\r\n\r\n    public CookieAuthenticationFilter(\r\n            AuthService authService,\r\n            ObjectMapper objectMapper) {\r\n        this.authService = authService;\r\n        this.objectMapper = objectMapper;\r\n    }\r\n\r\n    @Override\r\n    protected void doFilterInternal(\r\n            HttpServletRequest request,\r\n            HttpServletResponse response,\r\n            FilterChain filterChain) throws ServletException, IOException {\r\n//        (code that extracts the auth cookie from the request object)\r\n\r\n        // Fetch user associated with the token\r\n        UserDto user = null;\r\n        try {\r\n            user = authService.getUserFromAuthenticationToken(\r\n                    new AuthenticationTokenValueDto(authCookie.getValue())\r\n            );\r\n        } catch (CustomAuthException e) {\r\n            // Map exception to request\r\n            response.setStatus(HttpServletResponse.SC_UNAUTHORIZED);\r\n            response.setHeader(HttpHeaders.CONTENT_TYPE, MediaType.APPLICATION_JSON_VALUE);\r\n            objectMapper.writeValue(response.getOutputStream(), CustomAuthException.MESSAGE);\r\n\r\n            // Exit function\r\n            filterChain.doFilter(request, response); return;\r\n        }\r\n\r\n        // Add authentication to context\r\n        Authentication authentication = new PreAuthenticatedAuthenticationToken(\r\n                user,\r\n                authCookie.getValue(),\r\n                List.of()\r\n        );\r\n        SecurityContextHolder.getContext().setAuthentication(authentication);\r\n\r\n        // Run the rest of the filters\r\n        filterChain.doFilter(request, response);\r\n    }\r\n}\r\n```\r\n\r\nWhenever I remove the `response.setStatus()` and `objectMapper.writeValue()` lines from the code, it causes no errors. I debugged and figured out that in both cases the error `AccessDenied` is thrown, but it is not handled by Spring when I set the response status. I checked and its because `ExceptionTranslationFilter` throws a `ServletException` whenever `response.commited()` is true. And its true after running the `response.setStatus()` and `objectMapper.writeValue()` lines.\r\n\r\nSo how do I avoid triggering this error, while still being able to write custom error messages to the response body and setting response codes, in the cookie filter? Do I need to delegate error handling to another component? Do I need to turn off `ExceptionTranslationFilter` somehow?","title":"Setting a response status triggers an AccessDeniedException","body":"<p>This is a dummy project so some of the code will be example code.</p>\n<p>Here is my Spring Boot security config:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\n@EnableWebSecurity\npublic class SecurityConfig {\n\n    private final CookieAuthenticationFilter cookieAuthenticationFilter;\n\n    public SecurityConfig(CookieAuthenticationFilter customFilter) {\n        this.cookieAuthenticationFilter = customFilter;\n    }\n\n    @Bean\n    public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\n        http\n                .cors(AbstractHttpConfigurer::disable)\n                .csrf(AbstractHttpConfigurer::disable)\n                .sessionManagement(\n                        s -&gt; s.sessionCreationPolicy(SessionCreationPolicy.STATELESS)\n                )\n                .authorizeHttpRequests(\n                        a -&gt; a\n                                .requestMatchers(&quot;/un/**&quot;).permitAll()\n                                .anyRequest().authenticated()\n                )\n\n                .addFilterBefore(cookieAuthenticationFilter, BasicAuthenticationFilter.class);\n        return http.build();\n    }\n}\n\n</code></pre>\n<p>I have written <code>CookieAuthenticationFilter</code> for handling authentication by a cookie token. However, whenever I try to add in <code>response.setStatus()</code> within this filter, and then ping <code>/test</code> it causes the <code>AccessDenied</code> error to be unhandled.</p>\n<pre><code>Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Unable to handle the Spring Security Exception because the response is already committed.] with root cause\n\norg.springframework.security.access.AccessDeniedException: Access Denied\n(rest of the stack trace not shown)\n</code></pre>\n<p>Here is the <code>CookieAuthenticationFilter</code> code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Component\npublic class CookieAuthenticationFilter extends OncePerRequestFilter {\n    private final AuthService authService;\n    private final ObjectMapper objectMapper;\n\n    public CookieAuthenticationFilter(\n            AuthService authService,\n            ObjectMapper objectMapper) {\n        this.authService = authService;\n        this.objectMapper = objectMapper;\n    }\n\n    @Override\n    protected void doFilterInternal(\n            HttpServletRequest request,\n            HttpServletResponse response,\n            FilterChain filterChain) throws ServletException, IOException {\n//        (code that extracts the auth cookie from the request object)\n\n        // Fetch user associated with the token\n        UserDto user = null;\n        try {\n            user = authService.getUserFromAuthenticationToken(\n                    new AuthenticationTokenValueDto(authCookie.getValue())\n            );\n        } catch (CustomAuthException e) {\n            // Map exception to request\n            response.setStatus(HttpServletResponse.SC_UNAUTHORIZED);\n            response.setHeader(HttpHeaders.CONTENT_TYPE, MediaType.APPLICATION_JSON_VALUE);\n            objectMapper.writeValue(response.getOutputStream(), CustomAuthException.MESSAGE);\n\n            // Exit function\n            filterChain.doFilter(request, response); return;\n        }\n\n        // Add authentication to context\n        Authentication authentication = new PreAuthenticatedAuthenticationToken(\n                user,\n                authCookie.getValue(),\n                List.of()\n        );\n        SecurityContextHolder.getContext().setAuthentication(authentication);\n\n        // Run the rest of the filters\n        filterChain.doFilter(request, response);\n    }\n}\n</code></pre>\n<p>Whenever I remove the <code>response.setStatus()</code> and <code>objectMapper.writeValue()</code> lines from the code, it causes no errors. I debugged and figured out that in both cases the error <code>AccessDenied</code> is thrown, but it is not handled by Spring when I set the response status. I checked and its because <code>ExceptionTranslationFilter</code> throws a <code>ServletException</code> whenever <code>response.commited()</code> is true. And its true after running the <code>response.setStatus()</code> and <code>objectMapper.writeValue()</code> lines.</p>\n<p>So how do I avoid triggering this error, while still being able to write custom error messages to the response body and setting response codes, in the cookie filter? Do I need to delegate error handling to another component? Do I need to turn off <code>ExceptionTranslationFilter</code> somehow?</p>\n"},{"tags":["java","unicode","java-stream","ansi"],"comments":[{"owner":{"account_id":2792262,"reputation":163847,"user_id":2402272,"accept_rate":85,"display_name":"John Bollinger"},"score":1,"creation_date":1492636825,"post_id":43506195,"comment_id":74067281,"body_markdown":"Readers and Writers present to their clients as streams of *characters*, whereas InputStreams and OutputStreams present as streams of *bytes*.  As a practical matter, then, the former can (and must) handle character encoding internally, whereas the latter require the user to handle such issues.  As a design principle, when the data you are dealing with are fundamentally textual (i.e. characters) the former provide the more appropriate abstraction.","body":"Readers and Writers present to their clients as streams of <i>characters</i>, whereas InputStreams and OutputStreams present as streams of <i>bytes</i>.  As a practical matter, then, the former can (and must) handle character encoding internally, whereas the latter require the user to handle such issues.  As a design principle, when the data you are dealing with are fundamentally textual (i.e. characters) the former provide the more appropriate abstraction."},{"owner":{"account_id":1079173,"reputation":42590,"user_id":1076640,"display_name":"yshavit"},"score":2,"creation_date":1492636839,"post_id":43506195,"comment_id":74067287,"body_markdown":"This is probably too broad for stack overflow, but there&#39;s a really good writeup [here](https://www.joelonsoftware.com/2003/10/08/the-absolute-minimum-every-software-developer-absolutely-positively-must-know-about-unicode-and-character-sets-no-excuses/) on the difference between a byte stream and a character stream, and why there are different encodings.","body":"This is probably too broad for stack overflow, but there&#39;s a really good writeup <a href=\"https://www.joelonsoftware.com/2003/10/08/the-absolute-minimum-every-software-developer-absolutely-positively-must-know-about-unicode-and-character-sets-no-excuses/\" rel=\"nofollow noreferrer\">here</a> on the difference between a byte stream and a character stream, and why there are different encodings."},{"owner":{"account_id":134590,"reputation":26815,"user_id":336827,"accept_rate":61,"display_name":"freedev"},"score":0,"creation_date":1492637163,"post_id":43506195,"comment_id":74067425,"body_markdown":"@yshavit thanks for sharing this.","body":"@yshavit thanks for sharing this."},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1492639045,"post_id":43506195,"comment_id":74068227,"body_markdown":"ANSI? Do you mean *ASCII?*","body":"ANSI? Do you mean <i>ASCII?</i>"}],"answers":[{"tags":[],"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1492637801,"creation_date":1492637801,"answer_id":43506516,"question_id":43506195,"body_markdown":"When java was designed it was decided to hold **text** inside java as Unicode, so all scripts, say Greek and Korean might be combined.\r\n\r\nUnicode is a numbering of all symbols (_code points_), and can be coded by UTF-8 (multi-byte, most compact in general), UTF-16 LE/BE (2 bytes) or even UTF-32.\r\n\r\nSo internally `String` constants in a .class are in UTF-8. The type `char` is 2 bytes for UTF-16. And String holds an array of `char`.\r\n\r\n**Binary data**, like `byte[]` or `InputStream/OutputStream` could be text. But to interprete it as _text_ one needs to know the encoding/charset of those bytes. Hence there always is a conversion of bytes and some charset of those bytes to the internal Unicode (UTF-16).\r\n\r\nTo answer the question, _it is unavoidable to somehow provide the charset of the binary data._ That is a defect of binary data.\r\n\r\nWhen one reaches `String, char, Reader, Writer` one already operates entirely on Unicode text.\r\n\r\nBridging classes are `InputStreamReader, OutputStreamWriter` and `Files` provides some nice utility functions.\r\n\r\nCompare this situation with C, where unsigned char might be the same as a byte (or not), and a wide char might be usable or not. Java did this better than some languages. However a Java programmer with C/C++ background should never ever use `String` or `char[]` for binary data: double memory, non-undoable and corrupting conversion. Rather `byte[], ByteArrayOutputStream, ByteBuffer`.","title":"Why do ANSI and UNICODE make it difficult to read and write texts using streams?","body":"<p>When java was designed it was decided to hold <strong>text</strong> inside java as Unicode, so all scripts, say Greek and Korean might be combined.</p>\n\n<p>Unicode is a numbering of all symbols (<em>code points</em>), and can be coded by UTF-8 (multi-byte, most compact in general), UTF-16 LE/BE (2 bytes) or even UTF-32.</p>\n\n<p>So internally <code>String</code> constants in a .class are in UTF-8. The type <code>char</code> is 2 bytes for UTF-16. And String holds an array of <code>char</code>.</p>\n\n<p><strong>Binary data</strong>, like <code>byte[]</code> or <code>InputStream/OutputStream</code> could be text. But to interprete it as <em>text</em> one needs to know the encoding/charset of those bytes. Hence there always is a conversion of bytes and some charset of those bytes to the internal Unicode (UTF-16).</p>\n\n<p>To answer the question, <em>it is unavoidable to somehow provide the charset of the binary data.</em> That is a defect of binary data.</p>\n\n<p>When one reaches <code>String, char, Reader, Writer</code> one already operates entirely on Unicode text.</p>\n\n<p>Bridging classes are <code>InputStreamReader, OutputStreamWriter</code> and <code>Files</code> provides some nice utility functions.</p>\n\n<p>Compare this situation with C, where unsigned char might be the same as a byte (or not), and a wide char might be usable or not. Java did this better than some languages. However a Java programmer with C/C++ background should never ever use <code>String</code> or <code>char[]</code> for binary data: double memory, non-undoable and corrupting conversion. Rather <code>byte[], ByteArrayOutputStream, ByteBuffer</code>.</p>\n"}],"owner":{"account_id":10715573,"reputation":9,"user_id":7886365,"display_name":"Judi"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1063,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1681162662,"creation_date":1492636487,"question_id":43506195,"body_markdown":"I&#39;ve learned that Reader and Writer in java are better for reading and writing information from text resource, and Reader/Writer are character-based while streams are byte-based. \r\nHowever I&#39;ve come across a source that said &quot;some texts are coded by ANSI oder Unicode. ANSI requires code conversion and Unicode can be coded in different formats like UFT-8 or UFT-16. Therefore Reader/Writer are better&quot;.  \r\n\r\nDo these code conversion and different formats have anything to do with text resource? Hence, what can Reader and Writer do that makes them better than streams at dealing with texts?","title":"Why do ANSI and UNICODE make it difficult to read and write texts using streams?","body":"<p>I've learned that Reader and Writer in java are better for reading and writing information from text resource, and Reader/Writer are character-based while streams are byte-based. \nHowever I've come across a source that said \"some texts are coded by ANSI oder Unicode. ANSI requires code conversion and Unicode can be coded in different formats like UFT-8 or UFT-16. Therefore Reader/Writer are better\".  </p>\n\n<p>Do these code conversion and different formats have anything to do with text resource? Hence, what can Reader and Writer do that makes them better than streams at dealing with texts?</p>\n"},{"tags":["java","spring","spring-mvc","spring-boot"],"comments":[{"owner":{"account_id":12236729,"reputation":440,"user_id":8930916,"display_name":"Chetan Oswal"},"score":0,"creation_date":1590328500,"post_id":31082981,"comment_id":109633495,"body_markdown":"Hi @riship89... I have implemented `HandlerInterceptor` successfully. It is working fine. Only the problem is, some `internal HandlerInterceptor` throws an exception before it is handled by the `custom HandlerInterceptor`. The `afterCompletion()` method which is overridden is called after the error is thrown by the internal implementation of HandlerInterceptor. Do you have solution for this?","body":"Hi @riship89... I have implemented <code>HandlerInterceptor</code> successfully. It is working fine. Only the problem is, some <code>internal HandlerInterceptor</code> throws an exception before it is handled by the <code>custom HandlerInterceptor</code>. The <code>afterCompletion()</code> method which is overridden is called after the error is thrown by the internal implementation of HandlerInterceptor. Do you have solution for this?"},{"owner":{"account_id":418082,"reputation":5911,"user_id":2090887,"accept_rate":87,"display_name":"Nilanchala"},"score":0,"creation_date":1691363046,"post_id":31082981,"comment_id":135477495,"body_markdown":"For future readers, here is the awesome video tutorial that explains how Spring interceptor works https://www.youtube.com/watch?v=DuMf8Nwb-9w","body":"For future readers, here is the awesome video tutorial that explains how Spring interceptor works <a href=\"https://www.youtube.com/watch?v=DuMf8Nwb-9w\" rel=\"nofollow noreferrer\">youtube.com/watch?v=DuMf8Nwb-9w</a>"}],"answers":[{"tags":[],"owner":{"account_id":2615957,"reputation":11395,"user_id":2264997,"display_name":"ikumen"},"down_vote_count":1,"up_vote_count":196,"is_accepted":true,"score":195,"last_activity_date":1523973512,"creation_date":1435359097,"answer_id":31083263,"question_id":31082981,"body_markdown":"Since you&#39;re using Spring Boot, I assume you&#39;d prefer to rely on Spring&#39;s auto configuration where possible. To add additional custom configuration like your interceptors, just provide a configuration or bean of `WebMvcConfigurerAdapter`.\r\n\r\nHere&#39;s an example of a config class:\r\n\r\n    @Configuration\r\n    public class WebMvcConfig extends WebMvcConfigurerAdapter {\r\n    \r\n      @Autowired \r\n      HandlerInterceptor yourInjectedInterceptor;\r\n\r\n      @Override\r\n      public void addInterceptors(InterceptorRegistry registry) {\r\n        registry.addInterceptor(...)\r\n        ...\r\n\t\tregistry.addInterceptor(getYourInterceptor()); \r\n\t\tregistry.addInterceptor(yourInjectedInterceptor);\r\n        // next two should be avoid -- tightly coupled and not very testable\r\n\t\tregistry.addInterceptor(new YourInterceptor());\r\n\t\tregistry.addInterceptor(new HandlerInterceptor() {\r\n\t\t\t...\r\n\t\t});\r\n      }\r\n    }\r\n\r\n**NOTE** do not annotate this with @EnableWebMvc, if you want to keep [Spring Boots auto configuration for mvc](http://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#boot-features-spring-mvc-auto-configuration).\r\n","title":"Spring Boot Adding Http Request Interceptors","body":"<p>Since you're using Spring Boot, I assume you'd prefer to rely on Spring's auto configuration where possible. To add additional custom configuration like your interceptors, just provide a configuration or bean of <code>WebMvcConfigurerAdapter</code>.</p>\n\n<p>Here's an example of a config class:</p>\n\n<pre><code>@Configuration\npublic class WebMvcConfig extends WebMvcConfigurerAdapter {\n\n  @Autowired \n  HandlerInterceptor yourInjectedInterceptor;\n\n  @Override\n  public void addInterceptors(InterceptorRegistry registry) {\n    registry.addInterceptor(...)\n    ...\n    registry.addInterceptor(getYourInterceptor()); \n    registry.addInterceptor(yourInjectedInterceptor);\n    // next two should be avoid -- tightly coupled and not very testable\n    registry.addInterceptor(new YourInterceptor());\n    registry.addInterceptor(new HandlerInterceptor() {\n        ...\n    });\n  }\n}\n</code></pre>\n\n<p><strong>NOTE</strong> do not annotate this with @EnableWebMvc, if you want to keep <a href=\"http://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#boot-features-spring-mvc-auto-configuration\" rel=\"noreferrer\">Spring Boots auto configuration for mvc</a>.</p>\n"},{"tags":[],"owner":{"account_id":188246,"reputation":10916,"user_id":426877,"accept_rate":77,"display_name":"Magnus"},"down_vote_count":1,"up_vote_count":8,"is_accepted":false,"score":7,"last_activity_date":1556555268,"creation_date":1480523525,"answer_id":40893461,"question_id":31082981,"body_markdown":"You might also consider using the open source SpringSandwich library which lets you directly annotate in your Spring Boot controllers which interceptors to apply, much in the same way you annotate your url routes.\r\n\r\nThat way, no typo-prone Strings floating around -- SpringSandwich&#39;s method and class annotations easily survive refactoring and make it clear what&#39;s being applied where. (Disclosure: I&#39;m the author).\r\n\r\nhttp://springsandwich.com/\r\n","title":"Spring Boot Adding Http Request Interceptors","body":"<p>You might also consider using the open source SpringSandwich library which lets you directly annotate in your Spring Boot controllers which interceptors to apply, much in the same way you annotate your url routes.</p>\n\n<p>That way, no typo-prone Strings floating around -- SpringSandwich's method and class annotations easily survive refactoring and make it clear what's being applied where. (Disclosure: I'm the author).</p>\n\n<p><a href=\"http://springsandwich.com/\" rel=\"nofollow noreferrer\">http://springsandwich.com/</a></p>\n"},{"tags":[],"owner":{"account_id":2594836,"reputation":1498,"user_id":2248761,"accept_rate":0,"display_name":"sunitha"},"down_vote_count":0,"up_vote_count":50,"is_accepted":false,"score":50,"last_activity_date":1487840130,"creation_date":1486556690,"answer_id":42113069,"question_id":31082981,"body_markdown":"To add interceptor to a spring boot application, do the following\r\n\r\n1. Create an interceptor class\r\n\r\n        public class MyCustomInterceptor implements HandlerInterceptor{\r\n\r\n            //unimplemented methods comes here. Define the following method so that it     \r\n            //will handle the request before it is passed to the controller.\r\n\r\n            @Override\r\n            public boolean preHandle(HttpServletRequest request,HttpServletResponse  response){\r\n            //your custom logic here.\r\n                return true;\r\n            }\r\n        }\r\n\r\n2. Define a configuration class\r\n\r\n\r\n        @Configuration\r\n        public class MyConfig extends WebMvcConfigurerAdapter{\r\n            @Override\r\n            public void addInterceptors(InterceptorRegistry registry){\r\n                registry.addInterceptor(new MyCustomInterceptor()).addPathPatterns(&quot;/**&quot;);\r\n            }\r\n        }\r\n\r\n3. Thats it. Now all your requests will pass through the logic defined under preHandle() method of MyCustomInterceptor.","title":"Spring Boot Adding Http Request Interceptors","body":"<p>To add interceptor to a spring boot application, do the following</p>\n\n<ol>\n<li><p>Create an interceptor class</p>\n\n<pre><code>public class MyCustomInterceptor implements HandlerInterceptor{\n\n    //unimplemented methods comes here. Define the following method so that it     \n    //will handle the request before it is passed to the controller.\n\n    @Override\n    public boolean preHandle(HttpServletRequest request,HttpServletResponse  response){\n    //your custom logic here.\n        return true;\n    }\n}\n</code></pre></li>\n<li><p>Define a configuration class</p>\n\n<pre><code>@Configuration\npublic class MyConfig extends WebMvcConfigurerAdapter{\n    @Override\n    public void addInterceptors(InterceptorRegistry registry){\n        registry.addInterceptor(new MyCustomInterceptor()).addPathPatterns(\"/**\");\n    }\n}\n</code></pre></li>\n<li><p>Thats it. Now all your requests will pass through the logic defined under preHandle() method of MyCustomInterceptor.</p></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":3725757,"reputation":3130,"user_id":3099704,"accept_rate":70,"display_name":"Sedat Gokcen"},"down_vote_count":1,"up_vote_count":145,"is_accepted":false,"score":144,"last_activity_date":1681162568,"creation_date":1502266196,"answer_id":45585071,"question_id":31082981,"body_markdown":"`WebMvcConfigurerAdapter` will be deprecated with Spring 5. From its [Javadoc][1]:\r\n\r\n&gt; @deprecated as of 5.0 {@link WebMvcConfigurer} has default methods (made\r\n possible by a Java 8 baseline) and can be implemented directly without the need for this adapter\r\n\r\nAs stated above, what you should do is implementing `WebMvcConfigurer` and overriding `addInterceptors` method.\r\n\r\n    @Configuration\r\n    public class WebMvcConfig implements WebMvcConfigurer {\r\n\r\n        @Override\r\n        public void addInterceptors(InterceptorRegistry registry) {\r\n            registry.addInterceptor(new MyCustomInterceptor());\r\n        }\r\n    }\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-framework/docs/5.2.22.RELEASE/javadoc-api/org/springframework/web/servlet/config/annotation/WebMvcConfigurerAdapter.html","title":"Spring Boot Adding Http Request Interceptors","body":"<p><code>WebMvcConfigurerAdapter</code> will be deprecated with Spring 5. From its <a href=\"https://docs.spring.io/spring-framework/docs/5.2.22.RELEASE/javadoc-api/org/springframework/web/servlet/config/annotation/WebMvcConfigurerAdapter.html\" rel=\"noreferrer\">Javadoc</a>:</p>\n<blockquote>\n<p>@deprecated as of 5.0 {@link WebMvcConfigurer} has default methods (made\npossible by a Java 8 baseline) and can be implemented directly without the need for this adapter</p>\n</blockquote>\n<p>As stated above, what you should do is implementing <code>WebMvcConfigurer</code> and overriding <code>addInterceptors</code> method.</p>\n<pre><code>@Configuration\npublic class WebMvcConfig implements WebMvcConfigurer {\n\n    @Override\n    public void addInterceptors(InterceptorRegistry registry) {\n        registry.addInterceptor(new MyCustomInterceptor());\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2982513,"reputation":171,"user_id":2532195,"display_name":"user2532195"},"down_vote_count":1,"up_vote_count":17,"is_accepted":false,"score":16,"last_activity_date":1507050228,"creation_date":1507050228,"answer_id":46549828,"question_id":31082981,"body_markdown":"I had the same issue of WebMvcConfigurerAdapter being deprecated. When I searched for examples, I hardly found any implemented code. Here is a piece of working code.\r\n\r\ncreate a class that extends HandlerInterceptorAdapter\r\n\r\n\r\n\r\n    import javax.servlet.http.HttpServletRequest;\r\n    import javax.servlet.http.HttpServletResponse;\r\n    \r\n    import org.slf4j.Logger;\r\n    import org.slf4j.LoggerFactory;\r\n    import org.springframework.stereotype.Component;\r\n    import org.springframework.web.servlet.handler.HandlerInterceptorAdapter;\r\n    \r\n    import me.rajnarayanan.datatest.DataTestApplication;\r\n    @Component\r\n    public class EmployeeInterceptor extends HandlerInterceptorAdapter {\r\n    \tprivate static final Logger logger = LoggerFactory.getLogger(DataTestApplication.class);\r\n    \t@Override\r\n    \tpublic boolean preHandle(HttpServletRequest request, \r\n                HttpServletResponse response, Object handler) throws Exception {\r\n    \t\t\r\n    \t\t\tString x = request.getMethod();\r\n    \t\t\tlogger.info(x + &quot;intercepted&quot;);\r\n    \t\treturn true;\r\n    \t}\r\n    \r\n    }\r\n\r\nthen Implement WebMvcConfigurer interface\r\n\r\n\r\n\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.context.annotation.Configuration;\r\n    import org.springframework.web.servlet.config.annotation.InterceptorRegistry;\r\n    import org.springframework.web.servlet.config.annotation.WebMvcConfigurer;\r\n    \r\n    import me.rajnarayanan.datatest.interceptor.EmployeeInterceptor;\r\n    @Configuration\r\n    public class WebMvcConfig implements WebMvcConfigurer {\r\n    \t@Autowired\r\n    \tEmployeeInterceptor employeeInterceptor ;\r\n    \t\r\n    \t@Override\r\n        public void addInterceptors(InterceptorRegistry registry){\r\n            registry.addInterceptor(employeeInterceptor).addPathPatterns(&quot;/employee&quot;);\r\n        }\r\n    }\r\n\r\n","title":"Spring Boot Adding Http Request Interceptors","body":"<p>I had the same issue of WebMvcConfigurerAdapter being deprecated. When I searched for examples, I hardly found any implemented code. Here is a piece of working code.</p>\n\n<p>create a class that extends HandlerInterceptorAdapter</p>\n\n<pre><code>import javax.servlet.http.HttpServletRequest;\nimport javax.servlet.http.HttpServletResponse;\n\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\nimport org.springframework.stereotype.Component;\nimport org.springframework.web.servlet.handler.HandlerInterceptorAdapter;\n\nimport me.rajnarayanan.datatest.DataTestApplication;\n@Component\npublic class EmployeeInterceptor extends HandlerInterceptorAdapter {\n    private static final Logger logger = LoggerFactory.getLogger(DataTestApplication.class);\n    @Override\n    public boolean preHandle(HttpServletRequest request, \n            HttpServletResponse response, Object handler) throws Exception {\n\n            String x = request.getMethod();\n            logger.info(x + \"intercepted\");\n        return true;\n    }\n\n}\n</code></pre>\n\n<p>then Implement WebMvcConfigurer interface</p>\n\n<pre><code>import org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.web.servlet.config.annotation.InterceptorRegistry;\nimport org.springframework.web.servlet.config.annotation.WebMvcConfigurer;\n\nimport me.rajnarayanan.datatest.interceptor.EmployeeInterceptor;\n@Configuration\npublic class WebMvcConfig implements WebMvcConfigurer {\n    @Autowired\n    EmployeeInterceptor employeeInterceptor ;\n\n    @Override\n    public void addInterceptors(InterceptorRegistry registry){\n        registry.addInterceptor(employeeInterceptor).addPathPatterns(\"/employee\");\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4967623,"reputation":1837,"user_id":3996393,"accept_rate":76,"display_name":"Xenonite"},"down_vote_count":0,"up_vote_count":43,"is_accepted":false,"score":43,"last_activity_date":1556533676,"creation_date":1556533676,"answer_id":55901453,"question_id":31082981,"body_markdown":"Since all responses to this make use of the now long-deprecated abstract WebMvcConfigurer Adapter instead of the WebMvcInterface (as already noted by @sebdooe), here is a working minimal example for a SpringBoot (2.1.4) application with an Interceptor:\r\n\r\nMinimal.java:\r\n\r\n    @SpringBootApplication\r\n    public class Minimal\r\n    {\r\n    \tpublic static void main(String[] args)\r\n    \t{\r\n    \t\tSpringApplication.run(Minimal.class, args);\r\n    \t}\r\n    }\r\n\r\nMinimalController.java:\r\n\r\n    @RestController\r\n    @RequestMapping(&quot;/&quot;)\r\n    public class Controller\r\n    {\r\n    \t@GetMapping(&quot;/&quot;)\r\n    \t@ResponseBody\r\n    \tpublic ResponseEntity&lt;String&gt; getMinimal()\r\n    \t{\r\n    \t\tSystem.out.println(&quot;MINIMAL: GETMINIMAL()&quot;);\r\n    \t\t\r\n    \t\treturn new ResponseEntity&lt;String&gt;(&quot;returnstring&quot;, HttpStatus.OK);\r\n    \t}\r\n    }\r\n\r\nConfig.java:\r\n\r\n    @Configuration\r\n    public class Config implements WebMvcConfigurer\r\n    {\r\n    \t//@Autowired\r\n    \t//MinimalInterceptor minimalInterceptor;\r\n    \t\r\n    \t@Override\r\n    \tpublic void addInterceptors(InterceptorRegistry registry)\r\n    \t{\r\n    \t\tregistry.addInterceptor(new MinimalInterceptor());\r\n    \t}\r\n    }\r\n\r\nMinimalInterceptor.java:\r\n\r\n    public class MinimalInterceptor extends HandlerInterceptorAdapter\r\n    {\r\n    \t@Override\r\n    \tpublic boolean preHandle(HttpServletRequest requestServlet, HttpServletResponse responseServlet, Object handler) throws Exception\r\n    \t{\r\n    \t\tSystem.out.println(&quot;MINIMAL: INTERCEPTOR PREHANDLE CALLED&quot;);\r\n    \t\t\r\n    \t\treturn true;\r\n    \t}\r\n    \t\r\n    \t@Override\r\n    \tpublic void postHandle(HttpServletRequest request, HttpServletResponse response, Object handler, ModelAndView modelAndView) throws Exception\r\n    \t{\r\n    \t\tSystem.out.println(&quot;MINIMAL: INTERCEPTOR POSTHANDLE CALLED&quot;);\r\n    \t}\r\n    \t\r\n    \t@Override\r\n    \tpublic void afterCompletion(HttpServletRequest request, HttpServletResponse response, Object handler, Exception exception) throws Exception\r\n    \t{\r\n    \t\tSystem.out.println(&quot;MINIMAL: INTERCEPTOR AFTERCOMPLETION CALLED&quot;);\r\n    \t}\r\n    }\r\n\r\nworks as advertised\r\n\r\nThe output will give you something like:\r\n\r\n    &gt; Task :Minimal.main()\r\n    \r\n      .   ____          _            __ _ _\r\n     /\\\\ / ___&#39;_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\r\n    ( ( )\\___ | &#39;_ | &#39;_| | &#39;_ \\/ _` | \\ \\ \\ \\\r\n     \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\r\n      &#39;  |____| .__|_| |_|_| |_\\__, | / / / /\r\n     =========|_|==============|___/=/_/_/_/\r\n     :: Spring Boot ::        (v2.1.4.RELEASE)\r\n    \r\n    2019-04-29 11:53:47.560  INFO 4593 --- [           main] io.minimal.Minimal                       : Starting Minimal on y with PID 4593 (/x/y/z/spring-minimal/build/classes/java/main started by x in /x/y/z/spring-minimal)\r\n    2019-04-29 11:53:47.563  INFO 4593 --- [           main] io.minimal.Minimal                       : No active profile set, falling back to default profiles: default\r\n    2019-04-29 11:53:48.745  INFO 4593 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)\r\n    2019-04-29 11:53:48.780  INFO 4593 --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\r\n    2019-04-29 11:53:48.781  INFO 4593 --- [           main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.17]\r\n    2019-04-29 11:53:48.892  INFO 4593 --- [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\r\n    2019-04-29 11:53:48.893  INFO 4593 --- [           main] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 1269 ms\r\n    2019-04-29 11:53:49.130  INFO 4593 --- [           main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService &#39;applicationTaskExecutor&#39;\r\n    2019-04-29 11:53:49.375  INFO 4593 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path &#39;&#39;\r\n    2019-04-29 11:53:49.380  INFO 4593 --- [           main] io.minimal.Minimal                       : Started Minimal in 2.525 seconds (JVM running for 2.9)\r\n    2019-04-29 11:54:01.267  INFO 4593 --- [nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet &#39;dispatcherServlet&#39;\r\n    2019-04-29 11:54:01.267  INFO 4593 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet &#39;dispatcherServlet&#39;\r\n    2019-04-29 11:54:01.286  INFO 4593 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 19 ms\r\n    MINIMAL: INTERCEPTOR PREHANDLE CALLED\r\n    MINIMAL: GETMINIMAL()\r\n    MINIMAL: INTERCEPTOR POSTHANDLE CALLED\r\n    MINIMAL: INTERCEPTOR AFTERCOMPLETION CALLED","title":"Spring Boot Adding Http Request Interceptors","body":"<p>Since all responses to this make use of the now long-deprecated abstract WebMvcConfigurer Adapter instead of the WebMvcInterface (as already noted by @sebdooe), here is a working minimal example for a SpringBoot (2.1.4) application with an Interceptor:</p>\n\n<p>Minimal.java:</p>\n\n<pre><code>@SpringBootApplication\npublic class Minimal\n{\n    public static void main(String[] args)\n    {\n        SpringApplication.run(Minimal.class, args);\n    }\n}\n</code></pre>\n\n<p>MinimalController.java:</p>\n\n<pre><code>@RestController\n@RequestMapping(\"/\")\npublic class Controller\n{\n    @GetMapping(\"/\")\n    @ResponseBody\n    public ResponseEntity&lt;String&gt; getMinimal()\n    {\n        System.out.println(\"MINIMAL: GETMINIMAL()\");\n\n        return new ResponseEntity&lt;String&gt;(\"returnstring\", HttpStatus.OK);\n    }\n}\n</code></pre>\n\n<p>Config.java:</p>\n\n<pre><code>@Configuration\npublic class Config implements WebMvcConfigurer\n{\n    //@Autowired\n    //MinimalInterceptor minimalInterceptor;\n\n    @Override\n    public void addInterceptors(InterceptorRegistry registry)\n    {\n        registry.addInterceptor(new MinimalInterceptor());\n    }\n}\n</code></pre>\n\n<p>MinimalInterceptor.java:</p>\n\n<pre><code>public class MinimalInterceptor extends HandlerInterceptorAdapter\n{\n    @Override\n    public boolean preHandle(HttpServletRequest requestServlet, HttpServletResponse responseServlet, Object handler) throws Exception\n    {\n        System.out.println(\"MINIMAL: INTERCEPTOR PREHANDLE CALLED\");\n\n        return true;\n    }\n\n    @Override\n    public void postHandle(HttpServletRequest request, HttpServletResponse response, Object handler, ModelAndView modelAndView) throws Exception\n    {\n        System.out.println(\"MINIMAL: INTERCEPTOR POSTHANDLE CALLED\");\n    }\n\n    @Override\n    public void afterCompletion(HttpServletRequest request, HttpServletResponse response, Object handler, Exception exception) throws Exception\n    {\n        System.out.println(\"MINIMAL: INTERCEPTOR AFTERCOMPLETION CALLED\");\n    }\n}\n</code></pre>\n\n<p>works as advertised</p>\n\n<p>The output will give you something like:</p>\n\n<pre><code>&gt; Task :Minimal.main()\n\n  .   ____          _            __ _ _\n /\\\\ / ___'_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\n( ( )\\___ | '_ | '_| | '_ \\/ _` | \\ \\ \\ \\\n \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\n  '  |____| .__|_| |_|_| |_\\__, | / / / /\n =========|_|==============|___/=/_/_/_/\n :: Spring Boot ::        (v2.1.4.RELEASE)\n\n2019-04-29 11:53:47.560  INFO 4593 --- [           main] io.minimal.Minimal                       : Starting Minimal on y with PID 4593 (/x/y/z/spring-minimal/build/classes/java/main started by x in /x/y/z/spring-minimal)\n2019-04-29 11:53:47.563  INFO 4593 --- [           main] io.minimal.Minimal                       : No active profile set, falling back to default profiles: default\n2019-04-29 11:53:48.745  INFO 4593 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)\n2019-04-29 11:53:48.780  INFO 4593 --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\n2019-04-29 11:53:48.781  INFO 4593 --- [           main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.17]\n2019-04-29 11:53:48.892  INFO 4593 --- [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\n2019-04-29 11:53:48.893  INFO 4593 --- [           main] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 1269 ms\n2019-04-29 11:53:49.130  INFO 4593 --- [           main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'applicationTaskExecutor'\n2019-04-29 11:53:49.375  INFO 4593 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''\n2019-04-29 11:53:49.380  INFO 4593 --- [           main] io.minimal.Minimal                       : Started Minimal in 2.525 seconds (JVM running for 2.9)\n2019-04-29 11:54:01.267  INFO 4593 --- [nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'\n2019-04-29 11:54:01.267  INFO 4593 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'\n2019-04-29 11:54:01.286  INFO 4593 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 19 ms\nMINIMAL: INTERCEPTOR PREHANDLE CALLED\nMINIMAL: GETMINIMAL()\nMINIMAL: INTERCEPTOR POSTHANDLE CALLED\nMINIMAL: INTERCEPTOR AFTERCOMPLETION CALLED\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6733457,"reputation":179,"user_id":10217900,"display_name":"Sylvester"},"down_vote_count":3,"up_vote_count":2,"is_accepted":false,"score":-1,"last_activity_date":1574887365,"creation_date":1574887365,"answer_id":59078146,"question_id":31082981,"body_markdown":"Below is an implementation I use to intercept each HTTP request before it goes out and the response which comes back. With this implementation, I also have a single point where I can pass any header value with the request. \r\n    \r\n    public class HttpInterceptor implements ClientHttpRequestInterceptor {\r\n    private Logger logger = LoggerFactory.getLogger(this.getClass());\r\n    @Override\r\n    public ClientHttpResponse intercept(\r\n            HttpRequest request, byte[] body,\r\n            ClientHttpRequestExecution execution\r\n    ) throws IOException {\r\n        HttpHeaders headers = request.getHeaders();\r\n        headers.add(&quot;Accept&quot;, MediaType.APPLICATION_JSON_UTF8_VALUE);\r\n        headers.add(&quot;Content-Type&quot;, MediaType.APPLICATION_JSON_VALUE);\r\n        traceRequest(request, body);\r\n        ClientHttpResponse response = execution.execute(request, body);\r\n        traceResponse(response);\r\n        return response;\r\n    }\r\n\r\n    private void traceRequest(HttpRequest request, byte[] body) throws IOException {\r\n        logger.info(&quot;===========================Request begin======================================&quot;);\r\n        logger.info(&quot;URI         : {}&quot;, request.getURI());\r\n        logger.info(&quot;Method      : {}&quot;, request.getMethod());\r\n        logger.info(&quot;Headers     : {}&quot;, request.getHeaders() );\r\n        logger.info(&quot;Request body: {}&quot;, new String(body, StandardCharsets.UTF_8));\r\n        logger.info(&quot;==========================Request end=========================================&quot;);\r\n    }\r\n\r\n    private void traceResponse(ClientHttpResponse response) throws IOException {\r\n        logger.info(&quot;============================Response begin====================================&quot;);\r\n        logger.info(&quot;Status code  : {}&quot;, response.getStatusCode());\r\n        logger.info(&quot;Status text  : {}&quot;, response.getStatusText());\r\n        logger.info(&quot;Headers      : {}&quot;, response.getHeaders());\r\n        logger.info(&quot;=======================Response end===========================================&quot;);\r\n    }}\r\n\r\nBelow is the Rest Template Bean\r\n\r\n    @Bean\r\n    public RestTemplate restTemplate(HttpClient httpClient)\r\n    {\r\n        HttpComponentsClientHttpRequestFactory requestFactory =\r\n                new HttpComponentsClientHttpRequestFactory();\r\n        requestFactory.setHttpClient(httpClient);\r\n        RestTemplate restTemplate=  new RestTemplate(requestFactory);\r\n        List&lt;ClientHttpRequestInterceptor&gt; interceptors = restTemplate.getInterceptors();\r\n        if (CollectionUtils.isEmpty(interceptors))\r\n        {\r\n            interceptors = new ArrayList&lt;&gt;();\r\n        }\r\n        interceptors.add(new HttpInterceptor());\r\n        restTemplate.setInterceptors(interceptors);\r\n\r\n        return restTemplate;\r\n    }","title":"Spring Boot Adding Http Request Interceptors","body":"<p>Below is an implementation I use to intercept each HTTP request before it goes out and the response which comes back. With this implementation, I also have a single point where I can pass any header value with the request. </p>\n\n<pre><code>public class HttpInterceptor implements ClientHttpRequestInterceptor {\nprivate Logger logger = LoggerFactory.getLogger(this.getClass());\n@Override\npublic ClientHttpResponse intercept(\n        HttpRequest request, byte[] body,\n        ClientHttpRequestExecution execution\n) throws IOException {\n    HttpHeaders headers = request.getHeaders();\n    headers.add(\"Accept\", MediaType.APPLICATION_JSON_UTF8_VALUE);\n    headers.add(\"Content-Type\", MediaType.APPLICATION_JSON_VALUE);\n    traceRequest(request, body);\n    ClientHttpResponse response = execution.execute(request, body);\n    traceResponse(response);\n    return response;\n}\n\nprivate void traceRequest(HttpRequest request, byte[] body) throws IOException {\n    logger.info(\"===========================Request begin======================================\");\n    logger.info(\"URI         : {}\", request.getURI());\n    logger.info(\"Method      : {}\", request.getMethod());\n    logger.info(\"Headers     : {}\", request.getHeaders() );\n    logger.info(\"Request body: {}\", new String(body, StandardCharsets.UTF_8));\n    logger.info(\"==========================Request end=========================================\");\n}\n\nprivate void traceResponse(ClientHttpResponse response) throws IOException {\n    logger.info(\"============================Response begin====================================\");\n    logger.info(\"Status code  : {}\", response.getStatusCode());\n    logger.info(\"Status text  : {}\", response.getStatusText());\n    logger.info(\"Headers      : {}\", response.getHeaders());\n    logger.info(\"=======================Response end===========================================\");\n}}\n</code></pre>\n\n<p>Below is the Rest Template Bean</p>\n\n<pre><code>@Bean\npublic RestTemplate restTemplate(HttpClient httpClient)\n{\n    HttpComponentsClientHttpRequestFactory requestFactory =\n            new HttpComponentsClientHttpRequestFactory();\n    requestFactory.setHttpClient(httpClient);\n    RestTemplate restTemplate=  new RestTemplate(requestFactory);\n    List&lt;ClientHttpRequestInterceptor&gt; interceptors = restTemplate.getInterceptors();\n    if (CollectionUtils.isEmpty(interceptors))\n    {\n        interceptors = new ArrayList&lt;&gt;();\n    }\n    interceptors.add(new HttpInterceptor());\n    restTemplate.setInterceptors(interceptors);\n\n    return restTemplate;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":390011,"reputation":1231,"user_id":749803,"accept_rate":84,"display_name":"Ng Zhong Qin"},"down_vote_count":0,"up_vote_count":18,"is_accepted":false,"score":18,"last_activity_date":1625912060,"creation_date":1625912060,"answer_id":68326759,"question_id":31082981,"body_markdown":"I found a good tutorial on this site on how to add request interceptors to specific controllers using annotations:\r\n1. Define the annotation\r\n2. Define the interceptor \r\n3. Add the interceptor to the path\r\n4. Use the annotation on the specific controller\r\n\r\nhttps://programmer.group/how-do-spring-boot-2.x-add-interceptors.html\r\n\r\nI know this question was how to add interceptors to all requests and that&#39;s answered already. I was searching the solution to add request interceptors to specific controllers using annotations but couldn&#39;t find a solution in stackoverflow. Decided add this content to this question instead of asking a new question. \r\n\r\nDefine the annotation\r\nNeedLogin.class\r\n\r\n    package com.example.helloSpringBoot.annotation;\r\n    \r\n    import java.lang.annotation.ElementType;\r\n    import java.lang.annotation.Retention;\r\n    import java.lang.annotation.RetentionPolicy;\r\n    import java.lang.annotation.Target;\r\n    \r\n    \r\n    @Target({ElementType.METHOD, ElementType.TYPE})\r\n    @Retention(RetentionPolicy.RUNTIME)\r\n    public @interface NeedLogin {\r\n    }\r\n\r\nThen define the inceptor class\r\n\r\n    package com.example.helloSpringBoot.config;\r\n    \r\n    import com.example.helloSpringBoot.annotation.NeedLogin;\r\n    import com.example.helloSpringBoot.util.WxUserInfoContext;\r\n    import org.springframework.lang.Nullable;\r\n    import org.springframework.stereotype.Component;\r\n    import org.springframework.web.method.HandlerMethod;\r\n    import org.springframework.web.servlet.HandlerInterceptor;\r\n    import org.springframework.web.servlet.ModelAndView;\r\n    \r\n    import javax.servlet.http.HttpServletRequest;\r\n    import javax.servlet.http.HttpServletResponse;\r\n    \r\n    /**\r\n     * Logon interceptor\r\n     *\r\n     * @Author: Java Fragment\r\n     */\r\n    @Component\r\n    public class LoginInterceptor implements HandlerInterceptor {\r\n    \r\n        //This method is executed before accessing the interface. We only need to write the business logic to verify the login status here to verify the login status before the user calls the specified interface.\r\n        public boolean preHandle(HttpServletRequest request, HttpServletResponse response, Object handler) throws Exception {\r\n    \r\n            if (handler instanceof HandlerMethod) {\r\n                NeedLogin needLogin = ((HandlerMethod) handler).getMethodAnnotation(NeedLogin.class);\r\n                if (null == needLogin) {\r\n                    needLogin = ((HandlerMethod) handler).getMethod().getDeclaringClass()\r\n                            .getAnnotation(NeedLogin.class);\r\n                }\r\n                // Check login if you have login validation annotations\r\n                if (null != needLogin) {\r\n                    WxUserInfoContext curUserContext = (WxUserInfoContext) request.getSession()\r\n                            .getAttribute(&quot;curUserContext&quot;);\r\n                    //If session No, not logged in.\r\n                    if (null == curUserContext) {\r\n                        response.setCharacterEncoding(&quot;UTF-8&quot;);\r\n                        response.getWriter().write(&quot;Not logged in!&quot;);\r\n                        return false;\r\n                    }\r\n                }\r\n    \r\n            }\r\n            return true;\r\n        }\r\n    \r\n        public void postHandle(HttpServletRequest request, HttpServletResponse response, Object handler, @Nullable ModelAndView modelAndView) throws Exception {\r\n        }\r\n    \r\n        public void afterCompletion(HttpServletRequest request, HttpServletResponse response, Object handler, @Nullable Exception ex) throws Exception {\r\n        }\r\n    }\r\n\r\n\r\nThen add the inceptor into the WebConfig\r\n\r\n    package com.example.helloSpringBoot.config;\r\n    \r\n    \r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.context.annotation.Configuration;\r\n    import org.springframework.web.servlet.config.annotation.InterceptorRegistry;\r\n    import org.springframework.web.servlet.config.annotation.WebMvcConfigurer;\r\n    \r\n    /**\r\n     * WebConfig\r\n     *\r\n     * @Author: Java Fragment\r\n     *\r\n     */\r\n    @Configuration\r\n    public class WebConfig implements WebMvcConfigurer {\r\n        @Autowired\r\n        private LoginInterceptor loginInterceptor;\r\n    \r\n        @Override\r\n        public void addInterceptors(InterceptorRegistry registry) {\r\n            // Custom interceptor, add intercept path and exclude intercept path\r\n            registry.addInterceptor(loginInterceptor).addPathPatterns(&quot;/**&quot;);\r\n        }\r\n    }\r\n\r\nFinally you are free to use the new interceptor using the new annotation @NeedLogin\r\n\r\n    package com.example.helloSpringBoot.controller;\r\n    \r\n    import com.example.helloSpringBoot.annotation.NeedLogin;\r\n    import org.springframework.web.bind.annotation.CrossOrigin;\r\n    import org.springframework.web.bind.annotation.RequestMapping;\r\n    import org.springframework.web.bind.annotation.RestController;\r\n    \r\n    @RestController\r\n    public class HelloController {\r\n    \r\n        /**\r\n         * Testing does not require login\r\n         *\r\n         *\r\n         */\r\n        @RequestMapping(&quot;/testNoLogin&quot;)\r\n        public String testNoLogin (){\r\n            return &quot;The call is successful, this interface does not need login validation!-Java Broken read!&quot;;\r\n        }\r\n    \r\n        /**\r\n         * Testing requires login\r\n         *\r\n         *\r\n         */\r\n        @NeedLogin\r\n        @RequestMapping(&quot;/testNeedLogin&quot;)\r\n        public String testNeedLogin (){\r\n            return &quot;testNeedLogin!&quot;;\r\n        }\r\n    }","title":"Spring Boot Adding Http Request Interceptors","body":"<p>I found a good tutorial on this site on how to add request interceptors to specific controllers using annotations:</p>\n<ol>\n<li>Define the annotation</li>\n<li>Define the interceptor</li>\n<li>Add the interceptor to the path</li>\n<li>Use the annotation on the specific controller</li>\n</ol>\n<p><a href=\"https://programmer.group/how-do-spring-boot-2.x-add-interceptors.html\" rel=\"noreferrer\">https://programmer.group/how-do-spring-boot-2.x-add-interceptors.html</a></p>\n<p>I know this question was how to add interceptors to all requests and that's answered already. I was searching the solution to add request interceptors to specific controllers using annotations but couldn't find a solution in stackoverflow. Decided add this content to this question instead of asking a new question.</p>\n<p>Define the annotation\nNeedLogin.class</p>\n<pre><code>package com.example.helloSpringBoot.annotation;\n\nimport java.lang.annotation.ElementType;\nimport java.lang.annotation.Retention;\nimport java.lang.annotation.RetentionPolicy;\nimport java.lang.annotation.Target;\n\n\n@Target({ElementType.METHOD, ElementType.TYPE})\n@Retention(RetentionPolicy.RUNTIME)\npublic @interface NeedLogin {\n}\n</code></pre>\n<p>Then define the inceptor class</p>\n<pre><code>package com.example.helloSpringBoot.config;\n\nimport com.example.helloSpringBoot.annotation.NeedLogin;\nimport com.example.helloSpringBoot.util.WxUserInfoContext;\nimport org.springframework.lang.Nullable;\nimport org.springframework.stereotype.Component;\nimport org.springframework.web.method.HandlerMethod;\nimport org.springframework.web.servlet.HandlerInterceptor;\nimport org.springframework.web.servlet.ModelAndView;\n\nimport javax.servlet.http.HttpServletRequest;\nimport javax.servlet.http.HttpServletResponse;\n\n/**\n * Logon interceptor\n *\n * @Author: Java Fragment\n */\n@Component\npublic class LoginInterceptor implements HandlerInterceptor {\n\n    //This method is executed before accessing the interface. We only need to write the business logic to verify the login status here to verify the login status before the user calls the specified interface.\n    public boolean preHandle(HttpServletRequest request, HttpServletResponse response, Object handler) throws Exception {\n\n        if (handler instanceof HandlerMethod) {\n            NeedLogin needLogin = ((HandlerMethod) handler).getMethodAnnotation(NeedLogin.class);\n            if (null == needLogin) {\n                needLogin = ((HandlerMethod) handler).getMethod().getDeclaringClass()\n                        .getAnnotation(NeedLogin.class);\n            }\n            // Check login if you have login validation annotations\n            if (null != needLogin) {\n                WxUserInfoContext curUserContext = (WxUserInfoContext) request.getSession()\n                        .getAttribute(&quot;curUserContext&quot;);\n                //If session No, not logged in.\n                if (null == curUserContext) {\n                    response.setCharacterEncoding(&quot;UTF-8&quot;);\n                    response.getWriter().write(&quot;Not logged in!&quot;);\n                    return false;\n                }\n            }\n\n        }\n        return true;\n    }\n\n    public void postHandle(HttpServletRequest request, HttpServletResponse response, Object handler, @Nullable ModelAndView modelAndView) throws Exception {\n    }\n\n    public void afterCompletion(HttpServletRequest request, HttpServletResponse response, Object handler, @Nullable Exception ex) throws Exception {\n    }\n}\n</code></pre>\n<p>Then add the inceptor into the WebConfig</p>\n<pre><code>package com.example.helloSpringBoot.config;\n\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.web.servlet.config.annotation.InterceptorRegistry;\nimport org.springframework.web.servlet.config.annotation.WebMvcConfigurer;\n\n/**\n * WebConfig\n *\n * @Author: Java Fragment\n *\n */\n@Configuration\npublic class WebConfig implements WebMvcConfigurer {\n    @Autowired\n    private LoginInterceptor loginInterceptor;\n\n    @Override\n    public void addInterceptors(InterceptorRegistry registry) {\n        // Custom interceptor, add intercept path and exclude intercept path\n        registry.addInterceptor(loginInterceptor).addPathPatterns(&quot;/**&quot;);\n    }\n}\n</code></pre>\n<p>Finally you are free to use the new interceptor using the new annotation @NeedLogin</p>\n<pre><code>package com.example.helloSpringBoot.controller;\n\nimport com.example.helloSpringBoot.annotation.NeedLogin;\nimport org.springframework.web.bind.annotation.CrossOrigin;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RestController;\n\n@RestController\npublic class HelloController {\n\n    /**\n     * Testing does not require login\n     *\n     *\n     */\n    @RequestMapping(&quot;/testNoLogin&quot;)\n    public String testNoLogin (){\n        return &quot;The call is successful, this interface does not need login validation!-Java Broken read!&quot;;\n    }\n\n    /**\n     * Testing requires login\n     *\n     *\n     */\n    @NeedLogin\n    @RequestMapping(&quot;/testNeedLogin&quot;)\n    public String testNeedLogin (){\n        return &quot;testNeedLogin!&quot;;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2806051,"reputation":324,"user_id":2413271,"display_name":"Rahul Tiwari"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1663149806,"creation_date":1663149342,"answer_id":73714897,"question_id":31082981,"body_markdown":"For tracking all the request response in the spring-boot (java) application you can create a filter class like this -\r\n\r\n    import org.springframework.stereotype.Component;\r\n    import org.springframework.web.filter.OncePerRequestFilter;\r\n    import org.springframework.web.util.ContentCachingRequestWrapper;\r\n    import org.springframework.web.util.ContentCachingResponseWrapper;\r\n    \r\n    import javax.servlet.FilterChain;\r\n    import javax.servlet.ServletException;\r\n    import javax.servlet.http.HttpServletRequest;\r\n    import javax.servlet.http.HttpServletResponse;\r\n    import java.io.IOException;\r\n    import java.io.UnsupportedEncodingException;\r\n    import java.nio.charset.StandardCharsets;\r\n    import java.util.Collections;\r\n    import java.util.Objects;\r\n    import java.util.stream.Collectors;\r\n    \r\n    @Component\r\n    public class RequestResponseTracker extends OncePerRequestFilter {\r\n    \r\n        @Override\r\n        protected void doFilterInternal(HttpServletRequest request, HttpServletResponse response, FilterChain filterChain)\r\n                throws ServletException, IOException {\r\n            ContentCachingRequestWrapper requestWrapper = new ContentCachingRequestWrapper(request);\r\n            ContentCachingResponseWrapper responseWrapper = new ContentCachingResponseWrapper(response);\r\n    \r\n            filterChain.doFilter(requestWrapper, responseWrapper);\r\n    \r\n            System.out.println(&quot;Request URI: &quot; + request.getRequestURI());\r\n            System.out.println(&quot;Request Headers: &quot; + Collections.list(request.getHeaderNames()).stream()\r\n                    .map(headerName -&gt; headerName + &quot; -&gt; &quot; + request.getHeader(headerName)).collect(Collectors.toList()));\r\n            System.out.println(&quot;Request Method: &quot; + request.getMethod());\r\n            System.out.println(&quot;Request Body: &quot; + getStringValue(requestWrapper.getContentAsByteArray(),\r\n                    responseWrapper.getCharacterEncoding()));\r\n    \r\n            System.out.println(&quot;Response Code: &quot; + response.getStatus());\r\n            System.out.println(&quot;Response Body: &quot; + getStringValue(responseWrapper.getContentAsByteArray(),\r\n                    responseWrapper.getCharacterEncoding()));\r\n            System.out.println(&quot;Response Headers: &quot; + response.getHeaderNames().stream()\r\n                    .map(headerName -&gt; headerName + &quot; -&gt; &quot; + response.getHeader(headerName)).collect(Collectors.toList()));\r\n    \r\n            responseWrapper.copyBodyToResponse();   // Don&#39;t forget to add this at the end\r\n        }\r\n    \r\n    \r\n        private String getStringValue(byte[] contentAsByteArray, String characterEncoding) {\r\n            try {\r\n                return new String(contentAsByteArray, 0, contentAsByteArray.length,\r\n                        Objects.nonNull(characterEncoding) ? characterEncoding : StandardCharsets.UTF_8.name());\r\n            }\r\n            catch (UnsupportedEncodingException e) {\r\n                e.printStackTrace();\r\n            }\r\n            return &quot;&quot;;\r\n        }\r\n    }\r\n\r\n","title":"Spring Boot Adding Http Request Interceptors","body":"<p>For tracking all the request response in the spring-boot (java) application you can create a filter class like this -</p>\n<pre><code>import org.springframework.stereotype.Component;\nimport org.springframework.web.filter.OncePerRequestFilter;\nimport org.springframework.web.util.ContentCachingRequestWrapper;\nimport org.springframework.web.util.ContentCachingResponseWrapper;\n\nimport javax.servlet.FilterChain;\nimport javax.servlet.ServletException;\nimport javax.servlet.http.HttpServletRequest;\nimport javax.servlet.http.HttpServletResponse;\nimport java.io.IOException;\nimport java.io.UnsupportedEncodingException;\nimport java.nio.charset.StandardCharsets;\nimport java.util.Collections;\nimport java.util.Objects;\nimport java.util.stream.Collectors;\n\n@Component\npublic class RequestResponseTracker extends OncePerRequestFilter {\n\n    @Override\n    protected void doFilterInternal(HttpServletRequest request, HttpServletResponse response, FilterChain filterChain)\n            throws ServletException, IOException {\n        ContentCachingRequestWrapper requestWrapper = new ContentCachingRequestWrapper(request);\n        ContentCachingResponseWrapper responseWrapper = new ContentCachingResponseWrapper(response);\n\n        filterChain.doFilter(requestWrapper, responseWrapper);\n\n        System.out.println(&quot;Request URI: &quot; + request.getRequestURI());\n        System.out.println(&quot;Request Headers: &quot; + Collections.list(request.getHeaderNames()).stream()\n                .map(headerName -&gt; headerName + &quot; -&gt; &quot; + request.getHeader(headerName)).collect(Collectors.toList()));\n        System.out.println(&quot;Request Method: &quot; + request.getMethod());\n        System.out.println(&quot;Request Body: &quot; + getStringValue(requestWrapper.getContentAsByteArray(),\n                responseWrapper.getCharacterEncoding()));\n\n        System.out.println(&quot;Response Code: &quot; + response.getStatus());\n        System.out.println(&quot;Response Body: &quot; + getStringValue(responseWrapper.getContentAsByteArray(),\n                responseWrapper.getCharacterEncoding()));\n        System.out.println(&quot;Response Headers: &quot; + response.getHeaderNames().stream()\n                .map(headerName -&gt; headerName + &quot; -&gt; &quot; + response.getHeader(headerName)).collect(Collectors.toList()));\n\n        responseWrapper.copyBodyToResponse();   // Don't forget to add this at the end\n    }\n\n\n    private String getStringValue(byte[] contentAsByteArray, String characterEncoding) {\n        try {\n            return new String(contentAsByteArray, 0, contentAsByteArray.length,\n                    Objects.nonNull(characterEncoding) ? characterEncoding : StandardCharsets.UTF_8.name());\n        }\n        catch (UnsupportedEncodingException e) {\n            e.printStackTrace();\n        }\n        return &quot;&quot;;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8295416,"reputation":103,"user_id":6235811,"display_name":"CloudSen"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1664438723,"creation_date":1664438723,"answer_id":73892236,"question_id":31082981,"body_markdown":"I will recommend the following ways to dynamically inject custom interceptors.  \r\nYou don&#39;t need to add interceptors one by one.  \r\n\r\n***CustomInterceptor:***  \r\n\r\n    public interface CustomInterceptor extends HandlerInterceptor {\r\n\r\n    default String[] excludePathPatterns() {\r\n        return new String[]{\r\n            &quot;/*/*.html&quot;,\r\n            &quot;/*/*.css&quot;,\r\n            &quot;/*/*.js&quot;,\r\n            &quot;/*/*.png&quot;,\r\n            &quot;/*/*.xml&quot;,\r\n            &quot;/*/*.json&quot;,\r\n            &quot;/*/*.yaml&quot;,\r\n            &quot;/*/*.yml&quot;,\r\n            &quot;/swagger*/**&quot;\r\n          };\r\n        }\r\n\r\n\r\n        default String[] pathPatterns() {\r\n            return new String[]{&quot;/**&quot;};\r\n        }\r\n    }\r\n\r\n***WebMvcConfig:***  \r\n\r\n    @Slf4j\r\n    @Configuration\r\n    @RequiredArgsConstructor\r\n    @SuppressWarnings(&quot;NullableProblems&quot;)\r\n    @ConditionalOnProperty(name = AutoConfigConstants.ENABLE_MVC, havingValue = &quot;true&quot;)\r\n    public class DefaultMvcAutoConfiguration implements WebMvcConfigurer {\r\n\r\n        static {\r\n            log.info(AutoConfigConstants.LOADING_MVC_AUTO_CONFIGURE);\r\n        }\r\n\r\n        private final List&lt;CustomInterceptor&gt; customInterceptors;\r\n\r\n        @Override\r\n        public void addInterceptors(InterceptorRegistry registry) {\r\n            WebMvcConfigurer.super.addInterceptors(registry);\r\n            if (CollectionUtils.isNotEmpty(customInterceptors)) {\r\n                customInterceptors.forEach(customInterceptor -&gt;\r\n                    registry.addInterceptor(customInterceptor)\r\n                        .addPathPatterns(customInterceptor.pathPatterns())      \r\n             .excludePathPatterns(customInterceptor.excludePathPatterns()));\r\n            }\r\n        }\r\n    }\r\n\r\n","title":"Spring Boot Adding Http Request Interceptors","body":"<p>I will recommend the following ways to dynamically inject custom interceptors.<br />\nYou don't need to add interceptors one by one.</p>\n<p><em><strong>CustomInterceptor:</strong></em></p>\n<pre><code>public interface CustomInterceptor extends HandlerInterceptor {\n\ndefault String[] excludePathPatterns() {\n    return new String[]{\n        &quot;/*/*.html&quot;,\n        &quot;/*/*.css&quot;,\n        &quot;/*/*.js&quot;,\n        &quot;/*/*.png&quot;,\n        &quot;/*/*.xml&quot;,\n        &quot;/*/*.json&quot;,\n        &quot;/*/*.yaml&quot;,\n        &quot;/*/*.yml&quot;,\n        &quot;/swagger*/**&quot;\n      };\n    }\n\n\n    default String[] pathPatterns() {\n        return new String[]{&quot;/**&quot;};\n    }\n}\n</code></pre>\n<p><em><strong>WebMvcConfig:</strong></em></p>\n<pre><code>@Slf4j\n@Configuration\n@RequiredArgsConstructor\n@SuppressWarnings(&quot;NullableProblems&quot;)\n@ConditionalOnProperty(name = AutoConfigConstants.ENABLE_MVC, havingValue = &quot;true&quot;)\npublic class DefaultMvcAutoConfiguration implements WebMvcConfigurer {\n\n    static {\n        log.info(AutoConfigConstants.LOADING_MVC_AUTO_CONFIGURE);\n    }\n\n    private final List&lt;CustomInterceptor&gt; customInterceptors;\n\n    @Override\n    public void addInterceptors(InterceptorRegistry registry) {\n        WebMvcConfigurer.super.addInterceptors(registry);\n        if (CollectionUtils.isNotEmpty(customInterceptors)) {\n            customInterceptors.forEach(customInterceptor -&gt;\n                registry.addInterceptor(customInterceptor)\n                    .addPathPatterns(customInterceptor.pathPatterns())      \n         .excludePathPatterns(customInterceptor.excludePathPatterns()));\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":891554,"reputation":8848,"user_id":929701,"accept_rate":79,"display_name":"hrishikeshp19"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":306731,"favorite_count":0,"down_vote_count":0,"up_vote_count":159,"accepted_answer_id":31083263,"answer_count":10,"score":159,"last_activity_date":1681162568,"creation_date":1435357195,"question_id":31082981,"body_markdown":"What is the right way to add HttpRequest interceptors in spring boot application? What I want to do is log requests and responses for every http request.\r\n\r\nSpring boot documentation does not cover this topic at all. (http://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/)\r\n\r\nI found some web samples on how to do the same with older versions of spring, but those work with applicationcontext.xml. Please help.","title":"Spring Boot Adding Http Request Interceptors","body":"<p>What is the right way to add HttpRequest interceptors in spring boot application? What I want to do is log requests and responses for every http request.</p>\n\n<p>Spring boot documentation does not cover this topic at all. (<a href=\"http://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/\">http://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/</a>)</p>\n\n<p>I found some web samples on how to do the same with older versions of spring, but those work with applicationcontext.xml. Please help.</p>\n"},{"tags":["java","swing","layout-manager"],"answers":[{"tags":[],"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1314616103,"creation_date":1314616103,"answer_id":7229274,"question_id":7229226,"body_markdown":"&gt;In a situation where I need to define proportions between children of a Component (child 1 should use 10% of space, child2 40% ,child3 50%), is it possible to achieve that without implementing a custom layout manager?\r\n\r\nMaybe `GridBagLayout` would satisfy your needs. Besides that, there&#39;s a ton of layout managers on the web, and I bet there&#39;s one that fits your requirements.\r\n\r\n","title":"Should I avoid the use of set(Preferred|Maximum|Minimum) size methods in Java Swing?","body":"<blockquote>\n  <p>In a situation where I need to define proportions between children of a Component (child 1 should use 10% of space, child2 40% ,child3 50%), is it possible to achieve that without implementing a custom layout manager?</p>\n</blockquote>\n\n<p>Maybe <code>GridBagLayout</code> would satisfy your needs. Besides that, there's a ton of layout managers on the web, and I bet there's one that fits your requirements.</p>\n"},{"tags":[],"owner":{"account_id":73256,"reputation":4752,"user_id":211070,"display_name":"Tom"},"down_vote_count":0,"up_vote_count":22,"is_accepted":false,"score":22,"last_activity_date":1526114494,"creation_date":1314616978,"answer_id":7229416,"question_id":7229226,"body_markdown":"If you are having trouble with layouts in Java Swing, then I can highly recommend the JGoodies `FormLayout` provided freely as part of the Forms freeware library by Karsten Lentzsch [here][1].\r\n\r\nThis very popular layout manager is extremely flexible, allowing for very polished Java UIs to be developed.\r\n\r\nYou&#39;ll find Karsten&#39;s documentation in [here][2], and some rather good documentation from eclipse [here][3].\r\n\r\n  [1]: http://www.jgoodies.com/freeware/libraries/forms/\r\n  [2]: http://manual.openestate.org/extern/forms-1.2.1/tutorial/introduction.html\r\n  [3]: http://help.eclipse.org/oxygen/topic/org.eclipse.wb.swing.doc.user/html/layoutmanagers/swing/jgoodies_formlayout.html","title":"Should I avoid the use of set(Preferred|Maximum|Minimum) size methods in Java Swing?","body":"<p>If you are having trouble with layouts in Java Swing, then I can highly recommend the JGoodies <code>FormLayout</code> provided freely as part of the Forms freeware library by Karsten Lentzsch <a href=\"http://www.jgoodies.com/freeware/libraries/forms/\" rel=\"nofollow noreferrer\">here</a>.</p>\n\n<p>This very popular layout manager is extremely flexible, allowing for very polished Java UIs to be developed.</p>\n\n<p>You'll find Karsten's documentation in <a href=\"http://manual.openestate.org/extern/forms-1.2.1/tutorial/introduction.html\" rel=\"nofollow noreferrer\">here</a>, and some rather good documentation from eclipse <a href=\"http://help.eclipse.org/oxygen/topic/org.eclipse.wb.swing.doc.user/html/layoutmanagers/swing/jgoodies_formlayout.html\" rel=\"nofollow noreferrer\">here</a>.</p>\n"},{"tags":[],"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"down_vote_count":16,"up_vote_count":265,"is_accepted":true,"score":249,"last_activity_date":1441454907,"creation_date":1314617618,"answer_id":7229519,"question_id":7229226,"body_markdown":"1. &gt; Should I completely avoid the use of those methods?\r\n\r\n    Yes for application code.\r\n\r\n2. &gt; The methods have been defined for a reason. So when should I use them? In which context? For what purposes?\r\n\r\n    I don&#39;t know, personally I think of it as an API design accident. Slightly forced by compound components having special ideas about child sizes. &quot;Slightly&quot;, because they should have implemented their needs with a custom LayoutManager.\r\n\r\n3. &gt; What exactly are the negative consequences of using those methods? (I can only think adding portability between systems with different screen resolution.)\r\n\r\n    Some (incomplete, and unfortunately the links are broken due to migration of SwingLabs to java.net) technical reasons are for instance mentioned in the [Rules (hehe)][1] or in the [link][2] @bendicott found in his/her comment to [my answer][3]. Socially, posing tons of work onto your unfortunate fellow who has to maintain the code and has to track down a broken layout.\r\n\r\n4. &gt; I don&#39;t think any LayoutManager can exactly satisfy all desired layout needs. Do I really need to implement a new LayoutManager for every little variation on my layout?\r\n\r\n    Yes, there are LayoutManagers powerful enough to satisfy a very good approximation to &quot;all layout needs&quot;. The big three are JGoodies FormLayout, MigLayout, DesignGridLayout. So no, in practice, you rarely write LayoutManagers except for simple highly specialized environments.\r\n\r\n5. &gt; If the answer to 4 is &quot;yes&quot;, won&#39;t this lead to a proliferation of LayoutManager classes which will become difficult to maintain? \r\n\r\n    (The answer to 4 is &quot;no&quot;.)\r\n\r\n6. &gt; In a situation where I need to define proportions between children of a Component (for example, child 1 should use 10% of space, child 2 40%, child 3 50%), is it possible to achieve that without implementing a custom LayoutManager?\r\n\r\n    Any of the Big-Three can, can&#39;t even GridBag (never bothered to really master, too much trouble for too little power).\r\n\r\n\r\n  [1]: http://web.archive.org/web/20110614145256/http://wiki.java.net/twiki/bin/view/Javadesktop/SwingLabsImperialRules?TWIKISID=e1a6667476691b56753dc9b0744828c6#Do_not_use_component_setXXSize\r\n  [2]: http://web.archive.org/web/20100207211337/http://www.jguru.com/faq/view.jsp?EID=237070\r\n  [3]: https://stackoverflow.com/questions/7074514/images-in-jtable-cells-off-by-one-pixel","title":"Should I avoid the use of set(Preferred|Maximum|Minimum) size methods in Java Swing?","body":"<ol>\n<li><blockquote>\n  <p>Should I completely avoid the use of those methods?</p>\n</blockquote>\n\n<p>Yes for application code.</p></li>\n<li><blockquote>\n  <p>The methods have been defined for a reason. So when should I use them? In which context? For what purposes?</p>\n</blockquote>\n\n<p>I don't know, personally I think of it as an API design accident. Slightly forced by compound components having special ideas about child sizes. \"Slightly\", because they should have implemented their needs with a custom LayoutManager.</p></li>\n<li><blockquote>\n  <p>What exactly are the negative consequences of using those methods? (I can only think adding portability between systems with different screen resolution.)</p>\n</blockquote>\n\n<p>Some (incomplete, and unfortunately the links are broken due to migration of SwingLabs to java.net) technical reasons are for instance mentioned in the <a href=\"http://web.archive.org/web/20110614145256/http://wiki.java.net/twiki/bin/view/Javadesktop/SwingLabsImperialRules?TWIKISID=e1a6667476691b56753dc9b0744828c6#Do_not_use_component_setXXSize\" rel=\"noreferrer\">Rules (hehe)</a> or in the <a href=\"http://web.archive.org/web/20100207211337/http://www.jguru.com/faq/view.jsp?EID=237070\" rel=\"noreferrer\">link</a> @bendicott found in his/her comment to <a href=\"https://stackoverflow.com/questions/7074514/images-in-jtable-cells-off-by-one-pixel\">my answer</a>. Socially, posing tons of work onto your unfortunate fellow who has to maintain the code and has to track down a broken layout.</p></li>\n<li><blockquote>\n  <p>I don't think any LayoutManager can exactly satisfy all desired layout needs. Do I really need to implement a new LayoutManager for every little variation on my layout?</p>\n</blockquote>\n\n<p>Yes, there are LayoutManagers powerful enough to satisfy a very good approximation to \"all layout needs\". The big three are JGoodies FormLayout, MigLayout, DesignGridLayout. So no, in practice, you rarely write LayoutManagers except for simple highly specialized environments.</p></li>\n<li><blockquote>\n  <p>If the answer to 4 is \"yes\", won't this lead to a proliferation of LayoutManager classes which will become difficult to maintain? </p>\n</blockquote>\n\n<p>(The answer to 4 is \"no\".)</p></li>\n<li><blockquote>\n  <p>In a situation where I need to define proportions between children of a Component (for example, child 1 should use 10% of space, child 2 40%, child 3 50%), is it possible to achieve that without implementing a custom LayoutManager?</p>\n</blockquote>\n\n<p>Any of the Big-Three can, can't even GridBag (never bothered to really master, too much trouble for too little power).</p></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"down_vote_count":0,"up_vote_count":109,"is_accepted":false,"score":109,"last_activity_date":1661983642,"creation_date":1314618532,"answer_id":7229662,"question_id":7229226,"body_markdown":"A few heuristics:\r\n\r\n- Don&#39;t use `set[Preferred|Maximum|Minimum]Size()` when you really mean to override `get[Preferred|Maximum|Minimum]Size()`, as might be done in creating your own component, shown [here][1].\r\n\r\n- Don&#39;t use `set[Preferred|Maximum|Minimum]Size()` when you could rely on a component&#39;s carefully overridden `getPreferred|Maximum|Minimum]Size`, as shown [here][2] and below.\r\n\r\n- Do use `set[Preferred|Maximum|Minimum]Size()` to derive post-`validate()` geometry, as shown below and [here][3].\r\n\r\n- If a component has no preferred size, e.g. `JDesktopPane`, you may have to size the container, _after_ invoking `pack()`, but any such choice is arbitrary. A comment may help clarify the intent.\r\n\r\n- Consider alternate or custom layouts when you find that you would have to loop through many components to obtain derived sizes, as mentioned in these [comments][4].\r\n\r\n![enter image description here][5]\r\n\r\n    \r\n    import java.awt.Component;\r\n    import java.awt.Dimension;\r\n    import java.awt.EventQueue;\r\n    import java.awt.GridLayout;\r\n    import java.awt.KeyboardFocusManager;\r\n    import java.beans.PropertyChangeEvent;\r\n    import java.beans.PropertyChangeListener;\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    import javax.swing.JComponent;\r\n    import javax.swing.JDesktopPane;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JInternalFrame;\r\n    import javax.swing.JLabel;\r\n    import javax.swing.JPanel;\r\n    import javax.swing.JScrollPane;\r\n    import javax.swing.JTextField;\r\n    import javax.swing.SwingUtilities;\r\n\r\n    /**\r\n     * @see https://stackoverflow.com/questions/7229226\r\n     * @see https://stackoverflow.com/questions/7228843\r\n     */\r\n    public class DesignTest {\r\n\r\n        private List&lt;JTextField&gt; list = new ArrayList&lt;JTextField&gt;();\r\n        private JPanel panel = new JPanel();\r\n        private JScrollPane sp = new JScrollPane(panel);\r\n\r\n        public static void main(String args[]) {\r\n            EventQueue.invokeLater(new Runnable() {\r\n\r\n                @Override\r\n                public void run() {\r\n                    DesignTest id = new DesignTest();\r\n                    id.create(&quot;My Project&quot;);\r\n                }\r\n            });\r\n        }\r\n\r\n        private void addField(String name) {\r\n            JTextField jtf = new JTextField(16);\r\n            panel.add(new JLabel(name, JLabel.LEFT));\r\n            panel.add(jtf);\r\n            list.add(jtf);\r\n        }\r\n\r\n        private void create(String strProjectName) {\r\n            panel.setLayout(new GridLayout(0, 1));\r\n            addField(&quot;First Name:&quot;);\r\n            addField(&quot;Last Name:&quot;);\r\n            addField(&quot;Address:&quot;);\r\n            addField(&quot;City:&quot;);\r\n            addField(&quot;Zip Code:&quot;);\r\n            addField(&quot;Phone:&quot;);\r\n            addField(&quot;Email Id:&quot;);\r\n            KeyboardFocusManager.getCurrentKeyboardFocusManager()\r\n                .addPropertyChangeListener(&quot;permanentFocusOwner&quot;,\r\n                new FocusDrivenScroller(panel));\r\n            // Show half the fields\r\n            sp.setVerticalScrollBarPolicy(JScrollPane.VERTICAL_SCROLLBAR_ALWAYS);\r\n            sp.validate();\r\n            Dimension d = sp.getPreferredSize();\r\n            d.setSize(d.width, d.height / 2);\r\n            sp.setPreferredSize(d);\r\n\r\n            JInternalFrame internaFrame = new JInternalFrame();\r\n            internaFrame.add(sp);\r\n            internaFrame.pack();\r\n            internaFrame.setVisible(true);\r\n\r\n            JDesktopPane desktopPane = new JDesktopPane();\r\n            desktopPane.add(internaFrame);\r\n\r\n            JFrame frmtest = new JFrame();\r\n            frmtest.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n            frmtest.add(desktopPane);\r\n            frmtest.pack();\r\n            // User&#39;s preference should be read from java.util.prefs.Preferences\r\n            frmtest.setSize(400, 300);\r\n            frmtest.setLocationRelativeTo(null);\r\n            frmtest.setVisible(true);\r\n            list.get(0).requestFocusInWindow();\r\n        }\r\n\r\n        private static class FocusDrivenScroller implements PropertyChangeListener {\r\n\r\n            private JComponent parent;\r\n\r\n            public FocusDrivenScroller(JComponent parent) {\r\n                this.parent = parent;\r\n            }\r\n\r\n            @Override\r\n            public void propertyChange(PropertyChangeEvent evt) {\r\n                Component focused = (Component) evt.getNewValue();\r\n                if (focused != null\r\n                    &amp;&amp; SwingUtilities.isDescendingFrom(focused, parent)) {\r\n                    parent.scrollRectToVisible(focused.getBounds());\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/10110232/230513\r\n  [2]: https://stackoverflow.com/questions/3174765/variable-layout-in-swing/3175280#3175280\r\n  [3]: https://stackoverflow.com/questions/3174765/variable-layout-in-swing/3175280#3175280\r\n  [4]: https://stackoverflow.com/questions/3174765/variable-layout-in-swing/3175280#3175280\r\n  [5]: http://i.stack.imgur.com/hYh36.png","title":"Should I avoid the use of set(Preferred|Maximum|Minimum) size methods in Java Swing?","body":"<p>A few heuristics:</p>\n<ul>\n<li><p>Don't use <code>set[Preferred|Maximum|Minimum]Size()</code> when you really mean to override <code>get[Preferred|Maximum|Minimum]Size()</code>, as might be done in creating your own component, shown <a href=\"https://stackoverflow.com/a/10110232/230513\">here</a>.</p>\n</li>\n<li><p>Don't use <code>set[Preferred|Maximum|Minimum]Size()</code> when you could rely on a component's carefully overridden <code>getPreferred|Maximum|Minimum]Size</code>, as shown <a href=\"https://stackoverflow.com/questions/3174765/variable-layout-in-swing/3175280#3175280\">here</a> and below.</p>\n</li>\n<li><p>Do use <code>set[Preferred|Maximum|Minimum]Size()</code> to derive post-<code>validate()</code> geometry, as shown below and <a href=\"https://stackoverflow.com/questions/3174765/variable-layout-in-swing/3175280#3175280\">here</a>.</p>\n</li>\n<li><p>If a component has no preferred size, e.g. <code>JDesktopPane</code>, you may have to size the container, <em>after</em> invoking <code>pack()</code>, but any such choice is arbitrary. A comment may help clarify the intent.</p>\n</li>\n<li><p>Consider alternate or custom layouts when you find that you would have to loop through many components to obtain derived sizes, as mentioned in these <a href=\"https://stackoverflow.com/questions/3174765/variable-layout-in-swing/3175280#3175280\">comments</a>.</p>\n</li>\n</ul>\n<p><img src=\"https://i.stack.imgur.com/hYh36.png\" alt=\"enter image description here\" /></p>\n<pre><code>import java.awt.Component;\nimport java.awt.Dimension;\nimport java.awt.EventQueue;\nimport java.awt.GridLayout;\nimport java.awt.KeyboardFocusManager;\nimport java.beans.PropertyChangeEvent;\nimport java.beans.PropertyChangeListener;\nimport java.util.ArrayList;\nimport java.util.List;\nimport javax.swing.JComponent;\nimport javax.swing.JDesktopPane;\nimport javax.swing.JFrame;\nimport javax.swing.JInternalFrame;\nimport javax.swing.JLabel;\nimport javax.swing.JPanel;\nimport javax.swing.JScrollPane;\nimport javax.swing.JTextField;\nimport javax.swing.SwingUtilities;\n\n/**\n * @see https://stackoverflow.com/questions/7229226\n * @see https://stackoverflow.com/questions/7228843\n */\npublic class DesignTest {\n\n    private List&lt;JTextField&gt; list = new ArrayList&lt;JTextField&gt;();\n    private JPanel panel = new JPanel();\n    private JScrollPane sp = new JScrollPane(panel);\n\n    public static void main(String args[]) {\n        EventQueue.invokeLater(new Runnable() {\n\n            @Override\n            public void run() {\n                DesignTest id = new DesignTest();\n                id.create(&quot;My Project&quot;);\n            }\n        });\n    }\n\n    private void addField(String name) {\n        JTextField jtf = new JTextField(16);\n        panel.add(new JLabel(name, JLabel.LEFT));\n        panel.add(jtf);\n        list.add(jtf);\n    }\n\n    private void create(String strProjectName) {\n        panel.setLayout(new GridLayout(0, 1));\n        addField(&quot;First Name:&quot;);\n        addField(&quot;Last Name:&quot;);\n        addField(&quot;Address:&quot;);\n        addField(&quot;City:&quot;);\n        addField(&quot;Zip Code:&quot;);\n        addField(&quot;Phone:&quot;);\n        addField(&quot;Email Id:&quot;);\n        KeyboardFocusManager.getCurrentKeyboardFocusManager()\n            .addPropertyChangeListener(&quot;permanentFocusOwner&quot;,\n            new FocusDrivenScroller(panel));\n        // Show half the fields\n        sp.setVerticalScrollBarPolicy(JScrollPane.VERTICAL_SCROLLBAR_ALWAYS);\n        sp.validate();\n        Dimension d = sp.getPreferredSize();\n        d.setSize(d.width, d.height / 2);\n        sp.setPreferredSize(d);\n\n        JInternalFrame internaFrame = new JInternalFrame();\n        internaFrame.add(sp);\n        internaFrame.pack();\n        internaFrame.setVisible(true);\n\n        JDesktopPane desktopPane = new JDesktopPane();\n        desktopPane.add(internaFrame);\n\n        JFrame frmtest = new JFrame();\n        frmtest.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        frmtest.add(desktopPane);\n        frmtest.pack();\n        // User's preference should be read from java.util.prefs.Preferences\n        frmtest.setSize(400, 300);\n        frmtest.setLocationRelativeTo(null);\n        frmtest.setVisible(true);\n        list.get(0).requestFocusInWindow();\n    }\n\n    private static class FocusDrivenScroller implements PropertyChangeListener {\n\n        private JComponent parent;\n\n        public FocusDrivenScroller(JComponent parent) {\n            this.parent = parent;\n        }\n\n        @Override\n        public void propertyChange(PropertyChangeEvent evt) {\n            Component focused = (Component) evt.getNewValue();\n            if (focused != null\n                &amp;&amp; SwingUtilities.isDescendingFrom(focused, parent)) {\n                parent.scrollRectToVisible(focused.getBounds());\n            }\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1151383,"reputation":36217,"user_id":1133011,"accept_rate":96,"display_name":"David Kroukamp"},"down_vote_count":1,"up_vote_count":54,"is_accepted":false,"score":53,"last_activity_date":1532618082,"creation_date":1349045452,"answer_id":12665828,"question_id":7229226,"body_markdown":"&gt; Should I completely avoid the use of those methods?\r\n\r\nNo, there is no formal evidence to suggest calling or overriding these methods is not allowed. In fact, Oracle says these methods are used for giving size hints: http://docs.oracle.com/javase/tutorial/uiswing/layout/using.html#sizealignment.\r\n\r\nThey may also be overridden (which is the best practice for Swing) when *extending* a Swing component (rather than calling the method on the custom component instance)\r\n\r\nMost importantly no matter how you specify your component&#39;s size, be sure that your component&#39;s container uses a layout manager that respects the requested size of the component. \r\n\r\n&gt; The methods have been defined for a reason. So when should I use them?\r\n&gt; In which context? For what purposes?\r\n\r\nWhen you need to provide customized size hints to the containers Layout manager so that the component will be laid out well\r\n\r\n&gt; What exactly are the negative consequences of using those methods? (I\r\n&gt; can only think to add portability between systems with different\r\n&gt; screen resolution).\r\n\r\n- Many layout managers do not pay attention to a component&#39;s requested maximum size. However, `BoxLayout` and `SpringLayout` do. Furthermore, `GroupLayout` provides the ability to set the minimum, preferred or maximum size explicitly, without touching the component.\r\n\r\n- Make sure that you really need to set the component&#39;s exact size. Each Swing component has a different preferred size, depending on the font it uses and the look and feel. Thus having a set size might produce varied *looks* of the UI on different Systems\r\n\r\n- sometimes problems can be encountered with `GridBagLayout` and text fields, wherein if the size of the container is smaller than the preferred size, the minimum size gets used, which can cause text fields to shrink quite substantially.\r\n\r\n- `JFrame` does not enforce overriden `getMinimumSize()` only calling `setMinimumSize(..)` on its works\r\n\r\n&gt; I don&#39;t think any LayoutManager can exactly satisfy all desired layout\r\n&gt; needs. Do I really need to implement a new LayoutManager for every\r\n&gt; little variation on my layout?\r\n\r\nIf by implementing you mean using then yes. Not one `LayoutManger` can handle everything, each `LayoutManager` has its pros and cons thus each can be used together to produce the final layout.\r\n\r\n**Reference:**\r\n\r\n- http://docs.oracle.com/javase/tutorial/uiswing/layout/problems.html","title":"Should I avoid the use of set(Preferred|Maximum|Minimum) size methods in Java Swing?","body":"<blockquote>\n  <p>Should I completely avoid the use of those methods?</p>\n</blockquote>\n\n<p>No, there is no formal evidence to suggest calling or overriding these methods is not allowed. In fact, Oracle says these methods are used for giving size hints: <a href=\"http://docs.oracle.com/javase/tutorial/uiswing/layout/using.html#sizealignment\" rel=\"noreferrer\">http://docs.oracle.com/javase/tutorial/uiswing/layout/using.html#sizealignment</a>.</p>\n\n<p>They may also be overridden (which is the best practice for Swing) when <em>extending</em> a Swing component (rather than calling the method on the custom component instance)</p>\n\n<p>Most importantly no matter how you specify your component's size, be sure that your component's container uses a layout manager that respects the requested size of the component. </p>\n\n<blockquote>\n  <p>The methods have been defined for a reason. So when should I use them?\n  In which context? For what purposes?</p>\n</blockquote>\n\n<p>When you need to provide customized size hints to the containers Layout manager so that the component will be laid out well</p>\n\n<blockquote>\n  <p>What exactly are the negative consequences of using those methods? (I\n  can only think to add portability between systems with different\n  screen resolution).</p>\n</blockquote>\n\n<ul>\n<li><p>Many layout managers do not pay attention to a component's requested maximum size. However, <code>BoxLayout</code> and <code>SpringLayout</code> do. Furthermore, <code>GroupLayout</code> provides the ability to set the minimum, preferred or maximum size explicitly, without touching the component.</p></li>\n<li><p>Make sure that you really need to set the component's exact size. Each Swing component has a different preferred size, depending on the font it uses and the look and feel. Thus having a set size might produce varied <em>looks</em> of the UI on different Systems</p></li>\n<li><p>sometimes problems can be encountered with <code>GridBagLayout</code> and text fields, wherein if the size of the container is smaller than the preferred size, the minimum size gets used, which can cause text fields to shrink quite substantially.</p></li>\n<li><p><code>JFrame</code> does not enforce overriden <code>getMinimumSize()</code> only calling <code>setMinimumSize(..)</code> on its works</p></li>\n</ul>\n\n<blockquote>\n  <p>I don't think any LayoutManager can exactly satisfy all desired layout\n  needs. Do I really need to implement a new LayoutManager for every\n  little variation on my layout?</p>\n</blockquote>\n\n<p>If by implementing you mean using then yes. Not one <code>LayoutManger</code> can handle everything, each <code>LayoutManager</code> has its pros and cons thus each can be used together to produce the final layout.</p>\n\n<p><strong>Reference:</strong></p>\n\n<ul>\n<li><a href=\"http://docs.oracle.com/javase/tutorial/uiswing/layout/problems.html\" rel=\"noreferrer\">http://docs.oracle.com/javase/tutorial/uiswing/layout/problems.html</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":63785,"reputation":2712,"user_id":188626,"accept_rate":89,"display_name":"Michael"},"down_vote_count":2,"up_vote_count":20,"is_accepted":false,"score":18,"last_activity_date":1364236179,"creation_date":1364235825,"answer_id":15622005,"question_id":7229226,"body_markdown":"These methods are poorly understood by most people. You should absolutely not ignore these methods. It is up to the layout manager if they honor these methods. This page has a table that shows which layout managers honor which of those methods:\r\n\r\nhttp://thebadprogrammer.com/swing-layout-manager-sizing/\r\n\r\nI have been writing Swing code for 8+ years and the layout managers included in the JDK have always served my needs. I have never needed a 3rd party layout manager to achieve my layouts.\r\n\r\nI will say that you shouldn&#39;t try to give the layout manager hints with these methods until you are sure you need them. Do your layout without giving any sizing hints (i.e. let the layout manager do its job) and then you can make minor corrections if you need to.","title":"Should I avoid the use of set(Preferred|Maximum|Minimum) size methods in Java Swing?","body":"<p>These methods are poorly understood by most people. You should absolutely not ignore these methods. It is up to the layout manager if they honor these methods. This page has a table that shows which layout managers honor which of those methods:</p>\n\n<p><a href=\"http://thebadprogrammer.com/swing-layout-manager-sizing/\">http://thebadprogrammer.com/swing-layout-manager-sizing/</a></p>\n\n<p>I have been writing Swing code for 8+ years and the layout managers included in the JDK have always served my needs. I have never needed a 3rd party layout manager to achieve my layouts.</p>\n\n<p>I will say that you shouldn't try to give the layout manager hints with these methods until you are sure you need them. Do your layout without giving any sizing hints (i.e. let the layout manager do its job) and then you can make minor corrections if you need to.</p>\n"},{"tags":[],"owner":{"account_id":305991,"reputation":39137,"user_id":616460,"accept_rate":93,"display_name":"Jason C"},"down_vote_count":0,"up_vote_count":26,"is_accepted":false,"score":26,"last_activity_date":1394490361,"creation_date":1394470978,"answer_id":22306554,"question_id":7229226,"body_markdown":"There are a lot of good answers here but I want to add a little more about the reasons *why* you should normally avoid these (the question just came up again in a duplicate topic):\r\n\r\nWith few exceptions, if you are using these methods you are probably fine-tuning your GUI to look good on a specific look-and-feel (and with your system-specific settings, e.g. your preferred desktop font, etc.). The methods themselves aren&#39;t inherently evil, but the typical reasons for using them *are*. As soon as you start tuning pixel positions and sizes in a layout you run the risk of your GUI breaking (or at minimum, looking bad), on other platforms.\r\n\r\nAs an example of this, try changing your application&#39;s default look-and-feel. Even just with the options available on your platform, you may be surprised at how poorly the results can be rendered.\r\n\r\nSo, in the name of keeping your GUI functional and nice-looking on all platforms (remember, one of the major benefits of Java is its cross-platformness), you should rely on layout managers, etc., to automatically adjust the sizes of your components so that it renders correctly outside of your specific development environment.\r\n\r\nAll that said, you can certainly conceive of situations where these methods are justified. Again, they aren&#39;t inherently evil, but their usage is normally a **big** red flag indicating potential GUI issues. Just make sure you are aware of the high potential for complications if/when you use them, and always try and think if there is another look-and-feel-independent solution to your problems -- more often than not you will find that these methods are not necessary.\r\n\r\nBy the way, if you find yourself getting frustrated with standard layout managers, there are a lot of good free, open-source third-party ones, for example [JGoodies&#39; `FormLayout`](http://www.jgoodies.com/freeware/libraries/forms/), or [`MigLayout`](http://www.miglayout.com/). Some GUI builders even have built-in support for third-party layout managers -- Eclipse&#39;s WindowBuilder GUI editor, for example, ships with support for `FormLayout` and `MigLayout`.","title":"Should I avoid the use of set(Preferred|Maximum|Minimum) size methods in Java Swing?","body":"<p>There are a lot of good answers here but I want to add a little more about the reasons <em>why</em> you should normally avoid these (the question just came up again in a duplicate topic):</p>\n\n<p>With few exceptions, if you are using these methods you are probably fine-tuning your GUI to look good on a specific look-and-feel (and with your system-specific settings, e.g. your preferred desktop font, etc.). The methods themselves aren't inherently evil, but the typical reasons for using them <em>are</em>. As soon as you start tuning pixel positions and sizes in a layout you run the risk of your GUI breaking (or at minimum, looking bad), on other platforms.</p>\n\n<p>As an example of this, try changing your application's default look-and-feel. Even just with the options available on your platform, you may be surprised at how poorly the results can be rendered.</p>\n\n<p>So, in the name of keeping your GUI functional and nice-looking on all platforms (remember, one of the major benefits of Java is its cross-platformness), you should rely on layout managers, etc., to automatically adjust the sizes of your components so that it renders correctly outside of your specific development environment.</p>\n\n<p>All that said, you can certainly conceive of situations where these methods are justified. Again, they aren't inherently evil, but their usage is normally a <strong>big</strong> red flag indicating potential GUI issues. Just make sure you are aware of the high potential for complications if/when you use them, and always try and think if there is another look-and-feel-independent solution to your problems -- more often than not you will find that these methods are not necessary.</p>\n\n<p>By the way, if you find yourself getting frustrated with standard layout managers, there are a lot of good free, open-source third-party ones, for example <a href=\"http://www.jgoodies.com/freeware/libraries/forms/\">JGoodies' <code>FormLayout</code></a>, or <a href=\"http://www.miglayout.com/\"><code>MigLayout</code></a>. Some GUI builders even have built-in support for third-party layout managers -- Eclipse's WindowBuilder GUI editor, for example, ships with support for <code>FormLayout</code> and <code>MigLayout</code>.</p>\n"},{"tags":[],"owner":{"account_id":7805313,"reputation":1804,"user_id":5903395,"display_name":"Gee Bee"},"down_vote_count":3,"up_vote_count":10,"is_accepted":false,"score":7,"last_activity_date":1457373683,"creation_date":1455653295,"answer_id":35442048,"question_id":7229226,"body_markdown":"I am seeing it differenty than the accepted answer.\n\n### 1) Should I completely avoid the use of those methods?\n\nNever avoid! They&#39;re there to express the size constraints of your components to the layout manager. You can avoid using them if you&#39;re not using any layout manager and try to manage the visual layout on your own.\n\nUnfortunately, Swing is not coming with reasonable default dimensions. However, instead of setting the dimensions of a component, it is better OOP to descend your own component with reasonable defaults. (In that case you call setXXX in your descendant class.) Alternatively, you can override the getXXX methods for the same effect.\n\n### 2) The methods have been defined for a reason. So when should I use them? In which context? For what purposes?\n\nAlways. When you create a component, set its realistic min/preferred/max size according to the use of that component. For example, if you have a JTextField for entering country symbols such as UK, its preferred size shall be as wide to fit two chars (with the current font, etc.) but probably it is meaningless to let it grow any bigger. After all, country symbols are two chars. \nAs opposite, if you have a JTextField for entering e.g. a customer name, it can have a preferred size for like the pixel size for 20 chars, but can grow to bigger if the layout is resized, so set the maximum size to more. At the same time, having a 0px wide JTextField is pointless, so set a realistic minimum size (I would say the pixel size of 2 chars).\n\n### 3) What exactly are the negative consequences of using those methods? \n(I can only think adding portability between systems with different screen resolution).\n\nNo negative consequences. These are hints for the layout manager.\n\n### 4) I don&#39;t think any LayoutManager can exactly satisfy all desired layout needs. \nDo I really need to implement a new LayoutManager for every little variation on my layout ?\n\nNo, definitely not. The usual approach is to cascade different basic layoutmanagers such as horizontal and vertical layout.\n\nFor example, the layout below:\n\n    &lt;pre&gt;\n    +--------------+--------+\n    | ###JTABLE### | [Add]  | \n    | ...data...   |[Remove]|\n    | ...data...   |        |\n    | ...data...   |        |\n    +--------------+--------+\n    &lt;/pre&gt;\n\nis having two parts. The left and right parts are a horizontal layout. The right part is a JPanel added to the horizontal layout, and this JPanel is having a vertical layout which lays out the buttons vertically.\n\nOf course, this can grow tricky with a real life layout. Therefore grid-based layout managers such as MigLayout are much better if you&#39;re about to develop anything serious.\n\n### 5) If the answer to 4 is &quot;yes&quot;, won&#39;t this lead to a proliferation of LayoutManager classes which will become difficult to maintain?\n\nNo, you definitely shall not develop layout managers, unless you need something very special.\n\n### 6) In a situation where I need to define proportions...\n between children of a Component (eg, child1 should use 10% of space, child2 40% ,child3 50%), is it possible to achieve that without implementing a custom LayoutManager?\n\nBasically, once the preferred sizes are set right, you may not want to do anything in percentage. Simply, because percentages are pointless (e.g. it is pointless to have a JTextField 10% of the window size - since one can shrink the window so that JTextField becomes 0px wide, or can expand the window so that the JTextField is across two displays on a multi-display setup).\n\nBut, may times you may use the percentages to control sizes of bigger building blocks of your gui (panels, for example).\n\nYou can use JSplitPane where you can pre-set the ratio of the two sides. Or, you can use MigLayout which allows you to set such constraints in percentage, pixels, and other units.\n","title":"Should I avoid the use of set(Preferred|Maximum|Minimum) size methods in Java Swing?","body":"<p>I am seeing it differenty than the accepted answer.</p>\n<h3>1) Should I completely avoid the use of those methods?</h3>\n<p>Never avoid! They're there to express the size constraints of your components to the layout manager. You can avoid using them if you're not using any layout manager and try to manage the visual layout on your own.</p>\n<p>Unfortunately, Swing is not coming with reasonable default dimensions. However, instead of setting the dimensions of a component, it is better OOP to descend your own component with reasonable defaults. (In that case you call setXXX in your descendant class.) Alternatively, you can override the getXXX methods for the same effect.</p>\n<h3>2) The methods have been defined for a reason. So when should I use them? In which context? For what purposes?</h3>\n<p>Always. When you create a component, set its realistic min/preferred/max size according to the use of that component. For example, if you have a JTextField for entering country symbols such as UK, its preferred size shall be as wide to fit two chars (with the current font, etc.) but probably it is meaningless to let it grow any bigger. After all, country symbols are two chars.\nAs opposite, if you have a JTextField for entering e.g. a customer name, it can have a preferred size for like the pixel size for 20 chars, but can grow to bigger if the layout is resized, so set the maximum size to more. At the same time, having a 0px wide JTextField is pointless, so set a realistic minimum size (I would say the pixel size of 2 chars).</p>\n<h3>3) What exactly are the negative consequences of using those methods?</h3>\n<p>(I can only think adding portability between systems with different screen resolution).</p>\n<p>No negative consequences. These are hints for the layout manager.</p>\n<h3>4) I don't think any LayoutManager can exactly satisfy all desired layout needs.</h3>\n<p>Do I really need to implement a new LayoutManager for every little variation on my layout ?</p>\n<p>No, definitely not. The usual approach is to cascade different basic layoutmanagers such as horizontal and vertical layout.</p>\n<p>For example, the layout below:</p>\n<pre><code>&lt;pre&gt;\n+--------------+--------+\n| ###JTABLE### | [Add]  | \n| ...data...   |[Remove]|\n| ...data...   |        |\n| ...data...   |        |\n+--------------+--------+\n&lt;/pre&gt;\n</code></pre>\n<p>is having two parts. The left and right parts are a horizontal layout. The right part is a JPanel added to the horizontal layout, and this JPanel is having a vertical layout which lays out the buttons vertically.</p>\n<p>Of course, this can grow tricky with a real life layout. Therefore grid-based layout managers such as MigLayout are much better if you're about to develop anything serious.</p>\n<h3>5) If the answer to 4 is &quot;yes&quot;, won't this lead to a proliferation of LayoutManager classes which will become difficult to maintain?</h3>\n<p>No, you definitely shall not develop layout managers, unless you need something very special.</p>\n<h3>6) In a situation where I need to define proportions...</h3>\n<p>between children of a Component (eg, child1 should use 10% of space, child2 40% ,child3 50%), is it possible to achieve that without implementing a custom LayoutManager?</p>\n<p>Basically, once the preferred sizes are set right, you may not want to do anything in percentage. Simply, because percentages are pointless (e.g. it is pointless to have a JTextField 10% of the window size - since one can shrink the window so that JTextField becomes 0px wide, or can expand the window so that the JTextField is across two displays on a multi-display setup).</p>\n<p>But, may times you may use the percentages to control sizes of bigger building blocks of your gui (panels, for example).</p>\n<p>You can use JSplitPane where you can pre-set the ratio of the two sides. Or, you can use MigLayout which allows you to set such constraints in percentage, pixels, and other units.</p>\n"},{"tags":[],"owner":{"account_id":2309641,"reputation":4648,"user_id":2028066,"accept_rate":52,"display_name":"MiguelMunoz"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1539872655,"creation_date":1539872655,"answer_id":52876230,"question_id":7229226,"body_markdown":"**Should I completely avoid the use of those methods?**\r\nI wouldn&#39;t say &quot;avoid&quot; them. I&#39;d say that if you think you need them, you&#39;re probably doing something wrong. Component sizes are determined in context. For example, Text component sizes are determined by the number of rows and columns you specify, combined with the font you may have chosen. Your button and label size will be the size of the graphic, if you set one, or the space needed to display the text you set. Each component has a natural size, and the layout managers will use those to lay everything out without you needing to specify sizes. The main exception is the JScrollPane, which has a size independent of whatever it contains. For those, I will sometimes call `setSize()`, and let that size determine the initial window size, by calling `JFrame.pack()`. Usually, I will let the window size determine the JScrollPane size. The user will determine the size of the window. Many layout managers ignore the sizes you set anyway, so they often don&#39;t do much good.\r\n\r\n**The methods have been defined for a reason. So when should I use them? In which context? For what purposes?**\r\nI believe they were added to provide hints to the layout managers. They may have been written for historical reasons, because layout managers were new, and people didn&#39;t fully trust them. I know a few developers who avoided layout managers and placed everything manually, just because they didn&#39;t want to bother with learning a new paradigm. It&#39;s a terrible idea.\r\n\r\n**What exactly are the negative consequences of using those methods? (I can only think adding portability between systems with different screen resolution).**\r\nThey&#39;re ineffective, and they produce bad layouts, with objects getting squeezed or stretched to non-natural sizes. And the layouts will be brittle. Changes to the window size will sometimes break the layout and put things in the wrong places.\r\n\r\n**I don&#39;t think any LayoutManager can exactly satisfy all desired layout needs. Do I really need to implement a new LayoutManager for every little variation on my layout ?** You shouldn&#39;t &quot;implement&quot; a new LayoutManager. You should instantiate existing ones. I often use several layout managers in a single window. Each JPanel will have its own layout manager. Some people balk at nested layouts, because they&#39;re hard to maintain. When I use them, I give each one its own creation method to make it easier to see what each one does. But I never &quot;implement&quot; a layout manager. I just instantiate them. \r\n\r\n**If the answer to 4 is &quot;yes&quot;, won&#39;t this lead to a proliferation of LayoutManager classes which will become difficult to maintain?**\r\nIf you&#39;re implementing new layout manager classes for slight variations in layout, you&#39;re using them wrong. If you&#39;re just implementing new layout managers, you&#39;re probably doing something wrong. The only time I&#39;ve extended a LayoutManager class, it was to add a zoom slider to a JScrollPane.\r\n\r\n**In a situation where I need to define proportions between children of a Component (eg, child1 should use 10% of space, child2 40% ,child3 50%), is it possible to achieve that without implementing a custom LayoutManager?**\r\nThe JSplitPane has a way of specifying the percentage each component should get. The divider is movable by default, but you can turn that off if you want. I don&#39;t use that feature much. I usually have some components that take up a set size, and the rest of the space is taken up by a scroll pane. The scroll pane size will adjust with the window size. If you have two scroll panes side by side, you can put them in a JSplitPane and specify the percentage of new space given to each one as the user expands and contracts the windows.","title":"Should I avoid the use of set(Preferred|Maximum|Minimum) size methods in Java Swing?","body":"<p><strong>Should I completely avoid the use of those methods?</strong>\nI wouldn't say \"avoid\" them. I'd say that if you think you need them, you're probably doing something wrong. Component sizes are determined in context. For example, Text component sizes are determined by the number of rows and columns you specify, combined with the font you may have chosen. Your button and label size will be the size of the graphic, if you set one, or the space needed to display the text you set. Each component has a natural size, and the layout managers will use those to lay everything out without you needing to specify sizes. The main exception is the JScrollPane, which has a size independent of whatever it contains. For those, I will sometimes call <code>setSize()</code>, and let that size determine the initial window size, by calling <code>JFrame.pack()</code>. Usually, I will let the window size determine the JScrollPane size. The user will determine the size of the window. Many layout managers ignore the sizes you set anyway, so they often don't do much good.</p>\n\n<p><strong>The methods have been defined for a reason. So when should I use them? In which context? For what purposes?</strong>\nI believe they were added to provide hints to the layout managers. They may have been written for historical reasons, because layout managers were new, and people didn't fully trust them. I know a few developers who avoided layout managers and placed everything manually, just because they didn't want to bother with learning a new paradigm. It's a terrible idea.</p>\n\n<p><strong>What exactly are the negative consequences of using those methods? (I can only think adding portability between systems with different screen resolution).</strong>\nThey're ineffective, and they produce bad layouts, with objects getting squeezed or stretched to non-natural sizes. And the layouts will be brittle. Changes to the window size will sometimes break the layout and put things in the wrong places.</p>\n\n<p><strong>I don't think any LayoutManager can exactly satisfy all desired layout needs. Do I really need to implement a new LayoutManager for every little variation on my layout ?</strong> You shouldn't \"implement\" a new LayoutManager. You should instantiate existing ones. I often use several layout managers in a single window. Each JPanel will have its own layout manager. Some people balk at nested layouts, because they're hard to maintain. When I use them, I give each one its own creation method to make it easier to see what each one does. But I never \"implement\" a layout manager. I just instantiate them. </p>\n\n<p><strong>If the answer to 4 is \"yes\", won't this lead to a proliferation of LayoutManager classes which will become difficult to maintain?</strong>\nIf you're implementing new layout manager classes for slight variations in layout, you're using them wrong. If you're just implementing new layout managers, you're probably doing something wrong. The only time I've extended a LayoutManager class, it was to add a zoom slider to a JScrollPane.</p>\n\n<p><strong>In a situation where I need to define proportions between children of a Component (eg, child1 should use 10% of space, child2 40% ,child3 50%), is it possible to achieve that without implementing a custom LayoutManager?</strong>\nThe JSplitPane has a way of specifying the percentage each component should get. The divider is movable by default, but you can turn that off if you want. I don't use that feature much. I usually have some components that take up a set size, and the rest of the space is taken up by a scroll pane. The scroll pane size will adjust with the window size. If you have two scroll panes side by side, you can put them in a JSplitPane and specify the percentage of new space given to each one as the user expands and contracts the windows.</p>\n"}],"owner":{"account_id":287824,"reputation":38852,"user_id":587884,"accept_rate":86,"display_name":"Heisenbug"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":67672,"favorite_count":0,"down_vote_count":3,"up_vote_count":509,"accepted_answer_id":7229519,"answer_count":9,"score":506,"last_activity_date":1681162512,"creation_date":1314615751,"question_id":7229226,"body_markdown":"Several times I&#39;ve been criticized for having suggested the use of the following methods:\r\n\r\n 1. `setPreferredSize()`\r\n 2. `setMinimumSize()`\r\n 3. `setMaximumSize()`\r\n\r\non `Swing` components. I don&#39;t see any alternatives to their use when I want to define proportions between displayed components. I have been told this:\r\n\r\n&gt; With layouts the answer is always the same: use a suitable [LayoutManager][1].\r\n\r\nI have searched the web, but I haven&#39;t found any comprehensive analysis of the subject. So I have the following questions:\r\n\r\n 1. Should I completely avoid the use of those methods?\r\n 2. The methods have been defined for a reason. So when should I use them? In which context? For what purposes? \r\n 3. What exactly are the negative consequences of using those methods? (I can only think adding portability between systems with different screen resolution).\r\n 4. I don&#39;t think any LayoutManager can exactly satisfy all desired layout needs. Do I really need to implement a new LayoutManager for every little variation on my layout ? \r\n 5. If the answer to 4 is &quot;yes&quot;, won&#39;t this lead to a proliferation of LayoutManager classes which will become difficult to maintain?\r\n 6. In a situation where I need to define proportions between children of a Component (eg, child1 should use 10% of space, child2 40% ,child3 50%), is it possible to achieve that without implementing a custom LayoutManager?\r\n\r\n\r\n  [1]: https://en.m.wikipedia.org/wiki/Layout_manager","title":"Should I avoid the use of set(Preferred|Maximum|Minimum) size methods in Java Swing?","body":"<p>Several times I've been criticized for having suggested the use of the following methods:</p>\n<ol>\n<li><code>setPreferredSize()</code></li>\n<li><code>setMinimumSize()</code></li>\n<li><code>setMaximumSize()</code></li>\n</ol>\n<p>on <code>Swing</code> components. I don't see any alternatives to their use when I want to define proportions between displayed components. I have been told this:</p>\n<blockquote>\n<p>With layouts the answer is always the same: use a suitable <a href=\"https://en.m.wikipedia.org/wiki/Layout_manager\" rel=\"nofollow noreferrer\">LayoutManager</a>.</p>\n</blockquote>\n<p>I have searched the web, but I haven't found any comprehensive analysis of the subject. So I have the following questions:</p>\n<ol>\n<li>Should I completely avoid the use of those methods?</li>\n<li>The methods have been defined for a reason. So when should I use them? In which context? For what purposes?</li>\n<li>What exactly are the negative consequences of using those methods? (I can only think adding portability between systems with different screen resolution).</li>\n<li>I don't think any LayoutManager can exactly satisfy all desired layout needs. Do I really need to implement a new LayoutManager for every little variation on my layout ?</li>\n<li>If the answer to 4 is &quot;yes&quot;, won't this lead to a proliferation of LayoutManager classes which will become difficult to maintain?</li>\n<li>In a situation where I need to define proportions between children of a Component (eg, child1 should use 10% of space, child2 40% ,child3 50%), is it possible to achieve that without implementing a custom LayoutManager?</li>\n</ol>\n"},{"tags":["java","reflection","java-native-interface"],"answers":[{"tags":[],"owner":{"account_id":1692034,"reputation":3196,"user_id":1554195,"display_name":"tquadrat"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1681162440,"creation_date":1681162440,"answer_id":75980914,"question_id":75979353,"body_markdown":"At the very end, only `final` primitives cannot be modified through reflection. But to be honest, I have no idea how I could use Java code to modify a data structure that is hold completely outside the JVM and managed only by JNI code (ok, the Java code can call the API provided by the JNI code to modify that data structure, but that&#39;s not meant here).\r\n\r\nSo based on your description, you should be save with the integer used as an index into the &#39;external&#39; structs.","title":"JNI: Protect field from dangerous reflective access","body":"<p>At the very end, only <code>final</code> primitives cannot be modified through reflection. But to be honest, I have no idea how I could use Java code to modify a data structure that is hold completely outside the JVM and managed only by JNI code (ok, the Java code can call the API provided by the JNI code to modify that data structure, but that's not meant here).</p>\n<p>So based on your description, you should be save with the integer used as an index into the 'external' structs.</p>\n"}],"owner":{"account_id":7286131,"reputation":617,"user_id":5554145,"display_name":"MrAnima"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75980914,"answer_count":1,"score":0,"last_activity_date":1681162440,"creation_date":1681148268,"question_id":75979353,"body_markdown":"I&#39;m designing a Java library that uses a piece of native code exposed via the JNI. The library provides a class that is mapped to a complex native struct that can&#39;t easily be serialized. It&#39;s not decided yet whether I should store this struct in a `ByteBuffer` field, or have an `int` field referring to an index in an array of initialized structs.\r\n\r\nIn both situations, there&#39;s a potential issue where user code could try to modify the `ByteBuffer`/`int`, and cause undefined behavior (illegal struct bit representation, out-of-bounds array access, ...). Of course, it isn&#39;t in the user&#39;s interest to mess with private fields through reflection, but I see Java as a safe language (in terms of UBs or segfaults) and the mere possibility of these kind of issues being rendered possible by my fault annoys me.\r\n\r\nDoes Java have a way to enforce actual encapsulation, so the fields would actually be completely private? How do other native libraries deal with this, if they even care in the first place?\r\n\r\nThanks for any help.","title":"JNI: Protect field from dangerous reflective access","body":"<p>I'm designing a Java library that uses a piece of native code exposed via the JNI. The library provides a class that is mapped to a complex native struct that can't easily be serialized. It's not decided yet whether I should store this struct in a <code>ByteBuffer</code> field, or have an <code>int</code> field referring to an index in an array of initialized structs.</p>\n<p>In both situations, there's a potential issue where user code could try to modify the <code>ByteBuffer</code>/<code>int</code>, and cause undefined behavior (illegal struct bit representation, out-of-bounds array access, ...). Of course, it isn't in the user's interest to mess with private fields through reflection, but I see Java as a safe language (in terms of UBs or segfaults) and the mere possibility of these kind of issues being rendered possible by my fault annoys me.</p>\n<p>Does Java have a way to enforce actual encapsulation, so the fields would actually be completely private? How do other native libraries deal with this, if they even care in the first place?</p>\n<p>Thanks for any help.</p>\n"},{"tags":["java","spring","maven","spring-boot"],"comments":[{"owner":{"account_id":2719313,"reputation":15631,"user_id":2345933,"accept_rate":84,"display_name":"Adam Siemion"},"score":1,"creation_date":1487765327,"post_id":42390860,"comment_id":71929518,"body_markdown":"http://stackoverflow.com/questions/25420745/how-to-set-spring-active-profiles-with-maven-profiles","body":"<a href=\"http://stackoverflow.com/questions/25420745/how-to-set-spring-active-profiles-with-maven-profiles\" title=\"how to set spring active profiles with maven profiles\">stackoverflow.com/questions/25420745/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":1241163,"reputation":1555,"user_id":1203728,"accept_rate":80,"display_name":"SaWo"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1487765292,"creation_date":1487765292,"answer_id":42391036,"question_id":42390860,"body_markdown":"You should use the **Spring Boot Maven Plugin**:\r\n\r\n    &lt;project&gt;  \r\n      ...\r\n      &lt;build&gt;\r\n        ...\r\n        &lt;plugins&gt;\r\n          ...\r\n          &lt;plugin&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n            &lt;version&gt;1.5.1.RELEASE&lt;/version&gt;\r\n            &lt;configuration&gt;\r\n              &lt;profiles&gt;\r\n                &lt;profile&gt;foo&lt;/profile&gt;\r\n                &lt;profile&gt;bar&lt;/profile&gt;\r\n              &lt;/profiles&gt;\r\n            &lt;/configuration&gt;\r\n            ...\r\n          &lt;/plugin&gt;\r\n          ...\r\n        &lt;/plugins&gt;\r\n        ...\r\n      &lt;/build&gt;\r\n      ...\r\n    &lt;/project&gt;","title":"Configure active profile in SpringBoot via Maven","body":"<p>You should use the <strong>Spring Boot Maven Plugin</strong>:</p>\n\n<pre><code>&lt;project&gt;  \n  ...\n  &lt;build&gt;\n    ...\n    &lt;plugins&gt;\n      ...\n      &lt;plugin&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n        &lt;version&gt;1.5.1.RELEASE&lt;/version&gt;\n        &lt;configuration&gt;\n          &lt;profiles&gt;\n            &lt;profile&gt;foo&lt;/profile&gt;\n            &lt;profile&gt;bar&lt;/profile&gt;\n          &lt;/profiles&gt;\n        &lt;/configuration&gt;\n        ...\n      &lt;/plugin&gt;\n      ...\n    &lt;/plugins&gt;\n    ...\n  &lt;/build&gt;\n  ...\n&lt;/project&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1608191,"reputation":14063,"user_id":1487809,"accept_rate":67,"display_name":"Daniel Olszewski"},"down_vote_count":0,"up_vote_count":125,"is_accepted":true,"score":125,"last_activity_date":1487766854,"creation_date":1487766003,"answer_id":42391322,"question_id":42390860,"body_markdown":"The Maven profile and the Spring profile are two completely different things. Your pom.xml defines `spring.profiles.active` variable which is available in the build process, but not at runtime. That is why only the default profile is activated.\r\n\r\n**How to bind Maven profile with Spring?**\r\n\r\nYou need to pass the build variable to your application so that it is available when it is started.\r\n\r\n1. Define a placeholder in your `application.properties`:\r\n\r\n        spring.profiles.active=@spring.profiles.active@\r\n The `@spring.profiles.active@` variable must match the declared property from the Maven profile.\r\n\r\n2. Enable resource filtering in you pom.xml:\r\n\r\n        &lt;build&gt;\r\n            &lt;resources&gt;\r\n                &lt;resource&gt;\r\n                    &lt;directory&gt;src/main/resources&lt;/directory&gt;\r\n                    &lt;filtering&gt;true&lt;/filtering&gt;\r\n                &lt;/resource&gt;\r\n            &lt;/resources&gt;\r\n            …\r\n        &lt;/build&gt;\r\n\r\n When the build is executed, all files in the `src/main/resources` directory will be processed by Maven and the placeholder in your `application.properties` will be replaced with the variable you defined in your Maven profile. \r\n\r\nFor more details you can [go to my post][1] where I described this use case.\r\n\r\n\r\n  [1]: http://dolszewski.com/spring/spring-boot-properties-per-maven-profile/","title":"Configure active profile in SpringBoot via Maven","body":"<p>The Maven profile and the Spring profile are two completely different things. Your pom.xml defines <code>spring.profiles.active</code> variable which is available in the build process, but not at runtime. That is why only the default profile is activated.</p>\n\n<p><strong>How to bind Maven profile with Spring?</strong></p>\n\n<p>You need to pass the build variable to your application so that it is available when it is started.</p>\n\n<ol>\n<li><p>Define a placeholder in your <code>application.properties</code>:</p>\n\n<pre><code>spring.profiles.active=@spring.profiles.active@\n</code></pre>\n\n<p>The <code>@spring.profiles.active@</code> variable must match the declared property from the Maven profile.</p></li>\n<li><p>Enable resource filtering in you pom.xml:</p>\n\n<pre><code>&lt;build&gt;\n    &lt;resources&gt;\n        &lt;resource&gt;\n            &lt;directory&gt;src/main/resources&lt;/directory&gt;\n            &lt;filtering&gt;true&lt;/filtering&gt;\n        &lt;/resource&gt;\n    &lt;/resources&gt;\n    …\n&lt;/build&gt;\n</code></pre>\n\n<p>When the build is executed, all files in the <code>src/main/resources</code> directory will be processed by Maven and the placeholder in your <code>application.properties</code> will be replaced with the variable you defined in your Maven profile. </p></li>\n</ol>\n\n<p>For more details you can <a href=\"http://dolszewski.com/spring/spring-boot-properties-per-maven-profile/\" rel=\"noreferrer\">go to my post</a> where I described this use case.</p>\n"},{"tags":[],"owner":{"account_id":12145916,"reputation":189,"user_id":8868268,"display_name":"Justin Joseph"},"down_vote_count":1,"up_vote_count":19,"is_accepted":false,"score":18,"last_activity_date":1509541480,"creation_date":1509541082,"answer_id":47055441,"question_id":42390860,"body_markdown":"You can run using the following command. Here I want to run using spring profile `local`:\r\n\r\n`spring-boot:run -Drun.jvmArguments=&quot;-Dspring.profiles.active=local&quot;`","title":"Configure active profile in SpringBoot via Maven","body":"<p>You can run using the following command. Here I want to run using spring profile <code>local</code>:</p>\n\n<p><code>spring-boot:run -Drun.jvmArguments=\"-Dspring.profiles.active=local\"</code></p>\n"},{"tags":[],"owner":{"account_id":9690716,"reputation":1015,"user_id":7188884,"accept_rate":100,"display_name":"Thomas Escolan"},"down_vote_count":0,"up_vote_count":57,"is_accepted":false,"score":57,"last_activity_date":1531264246,"creation_date":1528460767,"answer_id":50760642,"question_id":42390860,"body_markdown":"Or rather easily:\r\n\r\n    mvn spring-boot:run -Dspring-boot.run.profiles={profile_name}","title":"Configure active profile in SpringBoot via Maven","body":"<p>Or rather easily:</p>\n\n<pre><code>mvn spring-boot:run -Dspring-boot.run.profiles={profile_name}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1510102,"reputation":709,"user_id":1412450,"display_name":"Pankaj Jaiswal"},"down_vote_count":0,"up_vote_count":36,"is_accepted":false,"score":36,"last_activity_date":1591871039,"creation_date":1531940951,"answer_id":51409393,"question_id":42390860,"body_markdown":"There are multiple ways to set profiles for your springboot application.\r\n\r\n1. You can add this in your property file: \r\n\r\n        spring.profiles.active=dev\r\n\r\n2. Programmatic way:                   \r\n\r\n        SpringApplication.setAdditionalProfiles(&quot;dev&quot;);\r\n\r\n3. Tests make it very easy to specify what profiles are active \r\n\r\n        @ActiveProfiles(&quot;dev&quot;)\r\n\r\n4.  In a Unix environment\r\n\r\n        export spring_profiles_active=dev\r\n\r\n5. JVM System Parameter\r\n\r\n        -Dspring.profiles.active=dev\r\n\r\n\r\n**Example: Running a springboot jar file with profile.**\r\n\r\n    java -jar -Dspring.profiles.active=dev application.jar\r\n\r\n","title":"Configure active profile in SpringBoot via Maven","body":"<p>There are multiple ways to set profiles for your springboot application.</p>\n\n<ol>\n<li><p>You can add this in your property file: </p>\n\n<pre><code>spring.profiles.active=dev\n</code></pre></li>\n<li><p>Programmatic way:                   </p>\n\n<pre><code>SpringApplication.setAdditionalProfiles(\"dev\");\n</code></pre></li>\n<li><p>Tests make it very easy to specify what profiles are active </p>\n\n<pre><code>@ActiveProfiles(\"dev\")\n</code></pre></li>\n<li><p>In a Unix environment</p>\n\n<pre><code>export spring_profiles_active=dev\n</code></pre></li>\n<li><p>JVM System Parameter</p>\n\n<pre><code>-Dspring.profiles.active=dev\n</code></pre></li>\n</ol>\n\n<p><strong>Example: Running a springboot jar file with profile.</strong></p>\n\n<pre><code>java -jar -Dspring.profiles.active=dev application.jar\n</code></pre>\n"},{"tags":[],"owner":{"account_id":100270,"reputation":127154,"user_id":270371,"accept_rate":33,"display_name":"davidxxx"},"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1532197423,"creation_date":1532197423,"answer_id":51458934,"question_id":42390860,"body_markdown":"In development, activating a Spring Boot profile when a specific Maven profile is activate is straight. You should use [the `profiles` property][1] of the [spring-boot-maven-plugin][2] in the Maven profile such as :\r\n\r\n    &lt;project&gt;\r\n        &lt;...&gt;\r\n    \t&lt;profiles&gt;\r\n    \t\t&lt;profile&gt;\r\n    \t\t\t&lt;id&gt;development&lt;/id&gt;\r\n    \t\t\t&lt;activation&gt;\r\n    \t\t\t\t&lt;activeByDefault&gt;true&lt;/activeByDefault&gt;\r\n    \t\t\t&lt;/activation&gt;\r\n    \t\t\t&lt;build&gt;\r\n    \t\t\t\t&lt;plugins&gt;\r\n    \t\t\t\t\t&lt;plugin&gt;\r\n    \t\t\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t\t\t&lt;configuration&gt;\r\n    \t\t\t\t\t\t\t&lt;profiles&gt;\r\n    \t\t\t\t\t\t\t\t&lt;profile&gt;development&lt;/profile&gt;\r\n    \t\t\t\t\t\t\t&lt;/profiles&gt;\r\n    \t\t\t\t\t\t&lt;/configuration&gt;\r\n    \t\t\t\t\t&lt;/plugin&gt;\r\n    \t\t\t\t&lt;/plugins&gt;\r\n    \t\t\t&lt;/build&gt;\r\n    \t\t&lt;/profile&gt;\r\n    \t&lt;profiles&gt;\r\n        &lt;/...&gt;\r\n    &lt;/project&gt;\r\n\r\nYou can run the following command to use both the Spring Boot and the Maven `development` profile :\r\n\r\n    mvn spring-boot:run -Pdevelopment\r\n\r\n\r\n----------\r\n\r\n\r\nIf you want to be able to map any Spring Boot profiles to a Maven profile with the same profile name, you could define a single Maven profile and enabling that as the presence of a Maven property is detected. This property would be the single thing that you need to specify as you run the `mvn` command.   \r\nThe profile would look like :\r\n\r\n\t\t&lt;profile&gt;\r\n\t\t\t&lt;id&gt;spring-profile-active&lt;/id&gt;\r\n\t\t\t&lt;activation&gt;\r\n\t\t\t\t&lt;property&gt;\r\n\t\t\t\t\t&lt;name&gt;my.active.spring.profiles&lt;/name&gt;\r\n\t\t\t\t&lt;/property&gt;\r\n\t\t\t&lt;/activation&gt;\r\n\t\t\t&lt;build&gt;\r\n\t\t\t\t&lt;plugins&gt;\r\n\t\t\t\t\t&lt;plugin&gt;\r\n\t\t\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t\t\t&lt;profiles&gt;\r\n\t\t\t\t\t\t\t\t&lt;profile&gt;${my.active.spring.profiles}&lt;/profile&gt;\r\n\t\t\t\t\t\t\t&lt;/profiles&gt;\r\n\t\t\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t\t\t&lt;/plugin&gt;\r\n\t\t\t\t&lt;/plugins&gt;\r\n\t\t\t&lt;/build&gt;\r\n\t\t&lt;/profile&gt;\r\n\r\n\r\nAnd you can run the following command to use both the Spring Boot and the Maven `development` profile :\r\n\r\n    mvn spring-boot:run -Dmy.active.spring.profiles=development\r\n\r\nor :\r\n\r\n    mvn spring-boot:run -Dmy.active.spring.profiles=integration\r\n\r\n\r\nor :\r\n\r\n     mvn spring-boot:run -Dmy.active.spring.profiles=production\r\n\r\nAnd so for...\r\n\r\nThis kind of configuration makes sense as in the generic Maven profile you rely on the `my.active.spring.profiles` property that is passed to perform some tasks or value some things.  \r\nFor example I use this way to configure a generic Maven profile that packages the application and build a docker image specific to the environment selected.  \r\n\r\n\r\n  [1]: https://docs.spring.io/spring-boot/docs/current/maven-plugin/run-mojo.html#profiles\r\n  [2]: https://docs.spring.io/spring-boot/docs/current/maven-plugin/run-mojo.html","title":"Configure active profile in SpringBoot via Maven","body":"<p>In development, activating a Spring Boot profile when a specific Maven profile is activate is straight. You should use <a href=\"https://docs.spring.io/spring-boot/docs/current/maven-plugin/run-mojo.html#profiles\" rel=\"noreferrer\">the <code>profiles</code> property</a> of the <a href=\"https://docs.spring.io/spring-boot/docs/current/maven-plugin/run-mojo.html\" rel=\"noreferrer\">spring-boot-maven-plugin</a> in the Maven profile such as :</p>\n\n<pre><code>&lt;project&gt;\n    &lt;...&gt;\n    &lt;profiles&gt;\n        &lt;profile&gt;\n            &lt;id&gt;development&lt;/id&gt;\n            &lt;activation&gt;\n                &lt;activeByDefault&gt;true&lt;/activeByDefault&gt;\n            &lt;/activation&gt;\n            &lt;build&gt;\n                &lt;plugins&gt;\n                    &lt;plugin&gt;\n                        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                        &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                        &lt;configuration&gt;\n                            &lt;profiles&gt;\n                                &lt;profile&gt;development&lt;/profile&gt;\n                            &lt;/profiles&gt;\n                        &lt;/configuration&gt;\n                    &lt;/plugin&gt;\n                &lt;/plugins&gt;\n            &lt;/build&gt;\n        &lt;/profile&gt;\n    &lt;profiles&gt;\n    &lt;/...&gt;\n&lt;/project&gt;\n</code></pre>\n\n<p>You can run the following command to use both the Spring Boot and the Maven <code>development</code> profile :</p>\n\n<pre><code>mvn spring-boot:run -Pdevelopment\n</code></pre>\n\n<hr>\n\n<p>If you want to be able to map any Spring Boot profiles to a Maven profile with the same profile name, you could define a single Maven profile and enabling that as the presence of a Maven property is detected. This property would be the single thing that you need to specify as you run the <code>mvn</code> command.<br>\nThe profile would look like :</p>\n\n<pre><code>    &lt;profile&gt;\n        &lt;id&gt;spring-profile-active&lt;/id&gt;\n        &lt;activation&gt;\n            &lt;property&gt;\n                &lt;name&gt;my.active.spring.profiles&lt;/name&gt;\n            &lt;/property&gt;\n        &lt;/activation&gt;\n        &lt;build&gt;\n            &lt;plugins&gt;\n                &lt;plugin&gt;\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                    &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                    &lt;configuration&gt;\n                        &lt;profiles&gt;\n                            &lt;profile&gt;${my.active.spring.profiles}&lt;/profile&gt;\n                        &lt;/profiles&gt;\n                    &lt;/configuration&gt;\n                &lt;/plugin&gt;\n            &lt;/plugins&gt;\n        &lt;/build&gt;\n    &lt;/profile&gt;\n</code></pre>\n\n<p>And you can run the following command to use both the Spring Boot and the Maven <code>development</code> profile :</p>\n\n<pre><code>mvn spring-boot:run -Dmy.active.spring.profiles=development\n</code></pre>\n\n<p>or :</p>\n\n<pre><code>mvn spring-boot:run -Dmy.active.spring.profiles=integration\n</code></pre>\n\n<p>or :</p>\n\n<pre><code> mvn spring-boot:run -Dmy.active.spring.profiles=production\n</code></pre>\n\n<p>And so for...</p>\n\n<p>This kind of configuration makes sense as in the generic Maven profile you rely on the <code>my.active.spring.profiles</code> property that is passed to perform some tasks or value some things.<br>\nFor example I use this way to configure a generic Maven profile that packages the application and build a docker image specific to the environment selected.  </p>\n"},{"tags":[],"owner":{"account_id":15479425,"reputation":33,"user_id":11167189,"display_name":"&#214;zlem Pamuk"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1605603491,"creation_date":1605603491,"answer_id":64872108,"question_id":42390860,"body_markdown":"I would like to run an automation test in different environments.&lt;br/&gt; \r\nSo I add this to command maven command: \r\n\r\n    spring-boot:run -Drun.jvmArguments=&quot;-Dspring.profiles.active=productionEnv1&quot;\r\n\r\nHere is the link where I found the solution: [1]https://github.com/spring-projects/spring-boot/issues/1095","title":"Configure active profile in SpringBoot via Maven","body":"<p>I would like to run an automation test in different environments.<br/>\nSo I add this to command maven command:</p>\n<pre><code>spring-boot:run -Drun.jvmArguments=&quot;-Dspring.profiles.active=productionEnv1&quot;\n</code></pre>\n<p>Here is the link where I found the solution: [1]<a href=\"https://github.com/spring-projects/spring-boot/issues/1095\" rel=\"nofollow noreferrer\">https://github.com/spring-projects/spring-boot/issues/1095</a></p>\n"},{"tags":[],"owner":{"account_id":18069519,"reputation":118,"user_id":13134499,"display_name":"Lukasmp3"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1640774761,"creation_date":1640774761,"answer_id":70518321,"question_id":42390860,"body_markdown":"I wanted to clarify the excellent answer https://stackoverflow.com/a/42391322/13134499 from Daniel Olszewski if you want to use it just for tests.\r\n\r\n**How to bind Maven profile with Spring for *tests*?**\r\n\r\n1. As you did, define the variable in `pom.xml`\r\n```\r\n...\r\n&lt;properties&gt;\r\n  &lt;spring.profiles.active&gt;development&lt;/spring.profiles.active&gt;\r\n&lt;/properties&gt;\r\n```\r\n\r\n2. Define a placeholder in your `application-test.properties` in `src/test/resources`:\r\n```\r\nspring.profiles.active=@spring.profiles.active@\r\n``` \r\n3. Enable resource filtering in you `pom.xml`:\r\n``` \r\n&lt;build&gt;\r\n  ...\r\n  &lt;testResources&gt;\r\n    &lt;testResource&gt;\r\n      &lt;directory&gt;src/test/resources&lt;/directory&gt;\r\n      &lt;filtering&gt;true&lt;/filtering&gt;\r\n    &lt;/testResource&gt;\r\n  &lt;testResources&gt;\r\n&lt;/build&gt;\r\n``` \r\n","title":"Configure active profile in SpringBoot via Maven","body":"<p>I wanted to clarify the excellent answer <a href=\"https://stackoverflow.com/a/42391322/13134499\">https://stackoverflow.com/a/42391322/13134499</a> from Daniel Olszewski if you want to use it just for tests.</p>\n<p><strong>How to bind Maven profile with Spring for <em>tests</em>?</strong></p>\n<ol>\n<li>As you did, define the variable in <code>pom.xml</code></li>\n</ol>\n<pre><code>...\n&lt;properties&gt;\n  &lt;spring.profiles.active&gt;development&lt;/spring.profiles.active&gt;\n&lt;/properties&gt;\n</code></pre>\n<ol start=\"2\">\n<li>Define a placeholder in your <code>application-test.properties</code> in <code>src/test/resources</code>:</li>\n</ol>\n<pre><code>spring.profiles.active=@spring.profiles.active@\n</code></pre>\n<ol start=\"3\">\n<li>Enable resource filtering in you <code>pom.xml</code>:</li>\n</ol>\n<pre><code>&lt;build&gt;\n  ...\n  &lt;testResources&gt;\n    &lt;testResource&gt;\n      &lt;directory&gt;src/test/resources&lt;/directory&gt;\n      &lt;filtering&gt;true&lt;/filtering&gt;\n    &lt;/testResource&gt;\n  &lt;testResources&gt;\n&lt;/build&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6190922,"reputation":1679,"user_id":4823653,"display_name":"LIU YUE"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1643364466,"creation_date":1643364466,"answer_id":70891927,"question_id":42390860,"body_markdown":"**file structure:**\r\n\r\n/src/main/resources\r\n\r\n=&gt;\r\n\r\napplication.properties:\r\n    \r\n    spring.profiles.active:@spring.profiles.active@&#39;\r\n\r\napplication-dev.properties\r\n\r\napplication-prod.properties\r\n\r\n**IDE-Eclipse:**\r\n\r\n    Right click on the project=&gt;Run As=&gt;Run Configuration=&gt;Arguments=&gt;VM Arguments:-Dspring.profiles.active=dev\r\n\r\n**CMD:**\r\n\r\n    mvn spring-boot:run -Dspring.profiles.active=dev\r\n    mvn clean install -Dspring.profiles.active=dev","title":"Configure active profile in SpringBoot via Maven","body":"<p><strong>file structure:</strong></p>\n<p>/src/main/resources</p>\n<p>=&gt;</p>\n<p>application.properties:</p>\n<pre><code>spring.profiles.active:@spring.profiles.active@'\n</code></pre>\n<p>application-dev.properties</p>\n<p>application-prod.properties</p>\n<p><strong>IDE-Eclipse:</strong></p>\n<pre><code>Right click on the project=&gt;Run As=&gt;Run Configuration=&gt;Arguments=&gt;VM Arguments:-Dspring.profiles.active=dev\n</code></pre>\n<p><strong>CMD:</strong></p>\n<pre><code>mvn spring-boot:run -Dspring.profiles.active=dev\nmvn clean install -Dspring.profiles.active=dev\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15320652,"reputation":7,"user_id":11501101,"display_name":"Luis Burgos"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1681162400,"creation_date":1681161139,"answer_id":75980778,"question_id":42390860,"body_markdown":"I added this in the first line\r\n\r\n    spring.profiles.active=@spring.profiles.active@\r\n    server.port=9898\r\n","title":"Configure active profile in SpringBoot via Maven","body":"<p>I added this in the first line</p>\n<pre><code>spring.profiles.active=@spring.profiles.active@\nserver.port=9898\n</code></pre>\n"}],"owner":{"account_id":6139432,"reputation":7718,"user_id":4787269,"accept_rate":92,"display_name":"Michał Szewczyk"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":227090,"favorite_count":0,"down_vote_count":0,"up_vote_count":85,"accepted_answer_id":42391322,"answer_count":10,"score":85,"last_activity_date":1681162400,"creation_date":1487764860,"question_id":42390860,"body_markdown":"I&#39;m trying to set an active profile in Spring Boot application using Maven 3.&lt;br&gt;\r\nIn my pom.xml I set **default active profile** and property **spring.profiles.active**  to **development**:\r\n\r\n    &lt;profiles&gt;\r\n        &lt;profile&gt;\r\n            &lt;id&gt;development&lt;/id&gt;\r\n            &lt;properties&gt;\r\n                &lt;spring.profiles.active&gt;development&lt;/spring.profiles.active&gt;\r\n            &lt;/properties&gt;\r\n            &lt;activation&gt;\r\n                &lt;activeByDefault&gt;true&lt;/activeByDefault&gt;\r\n            &lt;/activation&gt;\r\n        &lt;/profile&gt;\r\n    &lt;/profiles&gt;\r\nbut every time I run my application, I receive the following message in logs:\r\n\r\n    No active profile set, falling back to default profiles: default\r\nand the SpringBoot profile is set to default (reads application.properties instead application-development.properties)&lt;br&gt;&lt;br&gt;\r\nWhat else should I do to have my SpringBoot active profile set using Maven profile?&lt;br&gt;\r\nAny help highly appreciated.","title":"Configure active profile in SpringBoot via Maven","body":"<p>I'm trying to set an active profile in Spring Boot application using Maven 3.<br>\nIn my pom.xml I set <strong>default active profile</strong> and property <strong>spring.profiles.active</strong>  to <strong>development</strong>:</p>\n\n<pre><code>&lt;profiles&gt;\n    &lt;profile&gt;\n        &lt;id&gt;development&lt;/id&gt;\n        &lt;properties&gt;\n            &lt;spring.profiles.active&gt;development&lt;/spring.profiles.active&gt;\n        &lt;/properties&gt;\n        &lt;activation&gt;\n            &lt;activeByDefault&gt;true&lt;/activeByDefault&gt;\n        &lt;/activation&gt;\n    &lt;/profile&gt;\n&lt;/profiles&gt;\n</code></pre>\n\n<p>but every time I run my application, I receive the following message in logs:</p>\n\n<pre><code>No active profile set, falling back to default profiles: default\n</code></pre>\n\n<p>and the SpringBoot profile is set to default (reads application.properties instead application-development.properties)<br><br>\nWhat else should I do to have my SpringBoot active profile set using Maven profile?<br>\nAny help highly appreciated.</p>\n"},{"tags":["java","multithreading","synchronization"],"comments":[{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":2,"creation_date":1681160603,"post_id":75980680,"comment_id":134009048,"body_markdown":"Placing `synchronized` in the declaration of an instance method is the same as if you surrounded the entire method body in a `synchronized (this) { ... }` block.","body":"Placing <code>synchronized</code> in the declaration of an instance method is the same as if you surrounded the entire method body in a <code>synchronized (this) { ... }</code> block."},{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":2,"creation_date":1681163660,"post_id":75980680,"comment_id":134009552,"body_markdown":"`This is because every object has one lock and this lock is acquired by t1. Is that correct ?` Yes, each instance of an object has one lock, using the synchronized keyword on a method uses that instance lock.  I don&#39;t really understand your second question... can you give an example?","body":"<code>This is because every object has one lock and this lock is acquired by t1. Is that correct ?</code> Yes, each instance of an object has one lock, using the synchronized keyword on a method uses that instance lock.  I don&#39;t really understand your second question... can you give an example?"},{"owner":{"account_id":23601844,"reputation":315,"user_id":17638206,"display_name":"AAA"},"score":0,"creation_date":1681196179,"post_id":75980680,"comment_id":134013049,"body_markdown":"@markspace Kindly see the first two code blocks provided by rzwitserloot","body":"@markspace Kindly see the first two code blocks provided by rzwitserloot"}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89778,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1681161184,"creation_date":1681161184,"answer_id":75980782,"question_id":75980680,"body_markdown":"Yes.\r\n\r\nThis:\r\n\r\n```\r\nsynchronized void foo() {\r\n  code();\r\n}\r\n```\r\n\r\nis simply shorthand for:\r\n\r\n```\r\nvoid foo() {\r\n  synchronized (this) {\r\n    code();\r\n  }\r\n}\r\n```\r\n\r\nFor the same reason having a public field is generally a really bad idea, having a public lock (and `this` is, usually, &#39;public&#39;, in the sense that code from outside the package has access to it) is a really bad idea. It&#39;s usually better to do:\r\n\r\n```\r\nclass Example {\r\n  private final Object lock = new Object[0];\r\n\r\n  public void foo() {\r\n    synchronized (lock) {\r\n      code();\r\n    }\r\n  }\r\n}\r\n```\r\n\r\n__if__ you make the lock public (as in, use `synchronized`, or otherwise lock on something code outside of your direct control has access to), you __must__ document this, and be very detailed about what you promise to do and not do with that lock in future updates.\r\n","title":"Synchronized instances and Synchronized blocks","body":"<p>Yes.</p>\n<p>This:</p>\n<pre><code>synchronized void foo() {\n  code();\n}\n</code></pre>\n<p>is simply shorthand for:</p>\n<pre><code>void foo() {\n  synchronized (this) {\n    code();\n  }\n}\n</code></pre>\n<p>For the same reason having a public field is generally a really bad idea, having a public lock (and <code>this</code> is, usually, 'public', in the sense that code from outside the package has access to it) is a really bad idea. It's usually better to do:</p>\n<pre><code>class Example {\n  private final Object lock = new Object[0];\n\n  public void foo() {\n    synchronized (lock) {\n      code();\n    }\n  }\n}\n</code></pre>\n<p><strong>if</strong> you make the lock public (as in, use <code>synchronized</code>, or otherwise lock on something code outside of your direct control has access to), you <strong>must</strong> document this, and be very detailed about what you promise to do and not do with that lock in future updates.</p>\n"},{"tags":[],"owner":{"account_id":1692034,"reputation":3196,"user_id":1554195,"display_name":"tquadrat"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681161766,"creation_date":1681161766,"answer_id":75980842,"question_id":75980680,"body_markdown":"Your code\r\n\r\n```Java\r\npublic final class A\r\n{\r\n    public synchronized void methodA\r\n    {\r\n        // Do Something\r\n    }\r\n    \r\n    public synchronized void methodB\r\n    {\r\n        // Do Something\r\n    }\r\n}\r\n```\r\n\r\nis equivalent to\r\n\r\n```Java\r\npublic final class A\r\n{\r\n    public void methodA\r\n    {\r\n        synchronized( this )\r\n        {\r\n            // Do Something\r\n        }\r\n    }\r\n    \r\n    public void methodB\r\n    {\r\n        synchronized( this )\r\n        {\r\n            // Do Something\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nSo basically, you assumption is correct, you can have two `synchronized` blocks instead of `synchronized` method to achieve the same effect.\r\n\r\nThe important thing is that the `synchronize` statements in both methods use the *same* object as &#39;argument&#39;! In this case it is the instance itself, therefore it is easy.\r\n\r\nBut I have also seen this in some code:\r\n\r\n```Java\r\npublic final class A\r\n{\r\n    /* DO NOT DO THIS */\r\n    private static final Object m_LockForA = new Object [0];\r\n    private static final Object m_LockForB = new Object [0];\r\n\r\n    public void methodA\r\n    {\r\n        synchronized( m_LockForA )\r\n        {\r\n            // Do Something\r\n        }\r\n    }\r\n    \r\n    public void methodB\r\n    {\r\n        synchronized( m_LockForB )\r\n        {\r\n            // Do Something\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nThis will work somehow (and perhaps it is even intended to work exactly in that way …) but completely different from your original code.\r\n","title":"Synchronized instances and Synchronized blocks","body":"<p>Your code</p>\n<pre><code>public final class A\n{\n    public synchronized void methodA\n    {\n        // Do Something\n    }\n    \n    public synchronized void methodB\n    {\n        // Do Something\n    }\n}\n</code></pre>\n<p>is equivalent to</p>\n<pre><code>public final class A\n{\n    public void methodA\n    {\n        synchronized( this )\n        {\n            // Do Something\n        }\n    }\n    \n    public void methodB\n    {\n        synchronized( this )\n        {\n            // Do Something\n        }\n    }\n}\n</code></pre>\n<p>So basically, you assumption is correct, you can have two <code>synchronized</code> blocks instead of <code>synchronized</code> method to achieve the same effect.</p>\n<p>The important thing is that the <code>synchronize</code> statements in both methods use the <em>same</em> object as 'argument'! In this case it is the instance itself, therefore it is easy.</p>\n<p>But I have also seen this in some code:</p>\n<pre><code>public final class A\n{\n    /* DO NOT DO THIS */\n    private static final Object m_LockForA = new Object [0];\n    private static final Object m_LockForB = new Object [0];\n\n    public void methodA\n    {\n        synchronized( m_LockForA )\n        {\n            // Do Something\n        }\n    }\n    \n    public void methodB\n    {\n        synchronized( m_LockForB )\n        {\n            // Do Something\n        }\n    }\n}\n</code></pre>\n<p>This will work somehow (and perhaps it is even intended to work exactly in that way …) but completely different from your original code.</p>\n"},{"tags":[],"owner":{"account_id":422870,"reputation":25925,"user_id":801894,"display_name":"Solomon Slow"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1681162129,"creation_date":1681162129,"answer_id":75980887,"question_id":75980680,"body_markdown":"Not an answer to your question (rzwitzerloot did a fine job of that,) but\r\n\r\n&gt; `t2` will be blocked from using the synchronized method `methodB` , even if `t1` is using only `methodA`.\r\n\r\nWe don&#39;t really ever need `synchronized` to prevent two threads from calling the same method. That&#39;s not the point. Methods are immutable. No harm can come from two threads being in the same method _per se._ The trouble comes when two (or more) threads access the same _data._\r\n\r\nIf two threads call the same instance method on two different objects, that&#39;s probably OK. If two threads call two different methods on the same single object, _that&#39;s_ when we want `synchronized` to prevent any thread from seeing the object in an invalid state (or worse, to prevent any thread from _leaving_ the object in an invalid state.","title":"Synchronized instances and Synchronized blocks","body":"<p>Not an answer to your question (rzwitzerloot did a fine job of that,) but</p>\n<blockquote>\n<p><code>t2</code> will be blocked from using the synchronized method <code>methodB</code> , even if <code>t1</code> is using only <code>methodA</code>.</p>\n</blockquote>\n<p>We don't really ever need <code>synchronized</code> to prevent two threads from calling the same method. That's not the point. Methods are immutable. No harm can come from two threads being in the same method <em>per se.</em> The trouble comes when two (or more) threads access the same <em>data.</em></p>\n<p>If two threads call the same instance method on two different objects, that's probably OK. If two threads call two different methods on the same single object, <em>that's</em> when we want <code>synchronized</code> to prevent any thread from seeing the object in an invalid state (or worse, to prevent any thread from <em>leaving</em> the object in an invalid state.</p>\n"}],"owner":{"account_id":23601844,"reputation":315,"user_id":17638206,"display_name":"AAA"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":64,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":75980782,"answer_count":3,"score":1,"last_activity_date":1681162129,"creation_date":1681160355,"question_id":75980680,"body_markdown":"Assume that we have a class with two synchronized blocks :\r\n\r\n    class A{\r\n    \r\n    public synchronized void methodA{\r\n    \r\n    // Do Something\r\n    }\r\n    \r\n    \r\n    public synchronized void methodB{\r\n    \r\n    // Do Something\r\n    }\r\n    \r\n    }\r\n\r\nAssume that we have two threads `t1` and `t2` sharing the same instance of class `A`. If `t1` will invoke `methodA` using its instance of class `A` and at the same time `t2` will invoke `methodB` using the same instance of class `A` that is used by `t1`. According to my understanding, `t2` will be blocked from using the synchronized method `methodB` , even if `t1` is using only `methodA`. This is because every object has one lock and this lock is acquired by `t1`. Is that correct ? If yes, can we conclude the same if we have two synchronized blocks instead ?\r\n\r\n","title":"Synchronized instances and Synchronized blocks","body":"<p>Assume that we have a class with two synchronized blocks :</p>\n<pre><code>class A{\n\npublic synchronized void methodA{\n\n// Do Something\n}\n\n\npublic synchronized void methodB{\n\n// Do Something\n}\n\n}\n</code></pre>\n<p>Assume that we have two threads <code>t1</code> and <code>t2</code> sharing the same instance of class <code>A</code>. If <code>t1</code> will invoke <code>methodA</code> using its instance of class <code>A</code> and at the same time <code>t2</code> will invoke <code>methodB</code> using the same instance of class <code>A</code> that is used by <code>t1</code>. According to my understanding, <code>t2</code> will be blocked from using the synchronized method <code>methodB</code> , even if <code>t1</code> is using only <code>methodA</code>. This is because every object has one lock and this lock is acquired by <code>t1</code>. Is that correct ? If yes, can we conclude the same if we have two synchronized blocks instead ?</p>\n"},{"tags":["java","linked-list","circular-list"],"answers":[{"tags":[],"owner":{"account_id":7142980,"reputation":323243,"user_id":5459839,"display_name":"trincot"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681161595,"creation_date":1681161595,"answer_id":75980821,"question_id":75980572,"body_markdown":"There should be no need to call `setNext`. No node should be mutated -- all the links can remain the same. The only thing that needs to change is what `tail` references.\r\n\r\nYou could use two node references that traverse the list, but with one moving twice as fast as the other. When the fast one has made a full cycle, the other one will by consequence be half way the list. Then the only thing to do is to set the `tail` reference to that node.\r\n\r\n```\r\npublic void swapHalf() {\r\n    if (tail == null || tail.next == tail) { // 0 or 1 node\r\n        return;\r\n    }\r\n    CharNode fast = tail.next.next;\r\n    CharNode origTail = tail;\r\n    tail = tail.next\r\n    while (fast != origTail &amp;&amp; fast.next != origTail) {\r\n        fast = fast.next.next;\r\n        tail = tail.next;\r\n    }\r\n}\r\n```\r\n\r\n","title":"How do I swap the two halves of a circular linked list?","body":"<p>There should be no need to call <code>setNext</code>. No node should be mutated -- all the links can remain the same. The only thing that needs to change is what <code>tail</code> references.</p>\n<p>You could use two node references that traverse the list, but with one moving twice as fast as the other. When the fast one has made a full cycle, the other one will by consequence be half way the list. Then the only thing to do is to set the <code>tail</code> reference to that node.</p>\n<pre><code>public void swapHalf() {\n    if (tail == null || tail.next == tail) { // 0 or 1 node\n        return;\n    }\n    CharNode fast = tail.next.next;\n    CharNode origTail = tail;\n    tail = tail.next\n    while (fast != origTail &amp;&amp; fast.next != origTail) {\n        fast = fast.next.next;\n        tail = tail.next;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":27784726,"reputation":1,"user_id":21212429,"display_name":"San Dan Glokta"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1681162010,"creation_date":1681159458,"question_id":75980572,"body_markdown":"I am working on this code challenge with a circular linked list:\r\n\r\n&gt; In class `CLList`, write a function called `swapHalf()` which swaps the first half of the list by the second half. You should cover all the cases.\r\n&gt; \r\n&gt; **Example:**\r\n&gt; \r\n&gt; Before [v,w,t,j,q,o,w,s,w,t]\r\n&gt;\r\n&gt; `swapHalf()`\r\n&gt;\r\n&gt; After [o,w,s,w,t,v,w,t,j,q]\r\n\r\nI could only cover the cases where the list has 0 or 2 elements. But for the latter, the list loses an element, and I don&#39;t know how to cover for any circular list size:\r\n\r\n    public void swapHalf() {\r\n        CharNode cn;\r\n        if (tail == null) {\r\n            return;\r\n        } else if (tail == tail.next.next) {\r\n             cn = tail;\r\n             cn.setNext(tail);\r\n             cn.next.setNext(tail.next);\r\n        }\r\n    }","title":"How do I swap the two halves of a circular linked list?","body":"<p>I am working on this code challenge with a circular linked list:</p>\n<blockquote>\n<p>In class <code>CLList</code>, write a function called <code>swapHalf()</code> which swaps the first half of the list by the second half. You should cover all the cases.</p>\n<p><strong>Example:</strong></p>\n<p>Before [v,w,t,j,q,o,w,s,w,t]</p>\n<p><code>swapHalf()</code></p>\n<p>After [o,w,s,w,t,v,w,t,j,q]</p>\n</blockquote>\n<p>I could only cover the cases where the list has 0 or 2 elements. But for the latter, the list loses an element, and I don't know how to cover for any circular list size:</p>\n<pre><code>public void swapHalf() {\n    CharNode cn;\n    if (tail == null) {\n        return;\n    } else if (tail == tail.next.next) {\n         cn = tail;\n         cn.setNext(tail);\n         cn.next.setNext(tail.next);\n    }\n}\n</code></pre>\n"},{"tags":["java","spring-boot","redis","spring-data","jedis"],"answers":[{"tags":[],"owner":{"account_id":2007968,"reputation":2645,"user_id":1797263,"accept_rate":50,"display_name":"Chris Savory"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1533767219,"creation_date":1533767219,"answer_id":51756517,"question_id":51418161,"body_markdown":"It doesn&#39;t accept a RedisTemplate anymore. So try this:\r\n\r\n    @Bean\r\n\tpublic RedisCacheManager cacheManager(RedisConnectionFactory redisConnectionFactory,\r\n\t                                      ResourceLoader resourceLoader) {\r\n\t\tRedisCacheManager.RedisCacheManagerBuilder builder = RedisCacheManager\r\n\t\t\t\t.builder(redisConnectionFactory)\r\n\t\t\t\t.cacheDefaults(determineConfiguration(resourceLoader.getClassLoader()));\r\n\t\tList&lt;String&gt; cacheNames = this.cacheProperties.getCacheNames();\r\n\t\tif (!cacheNames.isEmpty()) {\r\n\t\t\tbuilder.initialCacheNames(new LinkedHashSet&lt;&gt;(cacheNames));\r\n\t\t}\r\n\t\treturn builder.build();\r\n\t}\r\n\r\n\tprivate org.springframework.data.redis.cache.RedisCacheConfiguration determineConfiguration(\r\n\t\t\tClassLoader classLoader) {\r\n\t\tif (this.redisCacheConfiguration != null) {\r\n\t\t\treturn this.redisCacheConfiguration;\r\n\t\t}\r\n\t\tCacheProperties.Redis redisProperties = this.cacheProperties.getRedis();\r\n\t\tRedisCacheConfiguration config = RedisCacheConfiguration.defaultCacheConfig();\r\n\r\n\t\tObjectMapper mapper = new Jackson2ObjectMapperBuilder()\r\n\t\t\t\t.modulesToInstall( new SimpleModule().addSerializer( new NullValueSerializer(null)) )\r\n\t\t\t\t.failOnEmptyBeans( false )\r\n\t\t\t\t.build();\r\n\t\tmapper.enableDefaultTyping( ObjectMapper.DefaultTyping.NON_FINAL, JsonTypeInfo.As.PROPERTY);\r\n\r\n\t\tGenericJackson2JsonRedisSerializer serializer = new GenericJackson2JsonRedisSerializer( mapper );\r\n\r\n\t\t//get the mapper b/c they registered some internal modules\r\n\t\tconfig = config.serializeValuesWith(RedisSerializationContext.SerializationPair.fromSerializer(serializer));;\r\n\r\n\t\tif (redisProperties.getTimeToLive() != null) {\r\n\t\t\tconfig = config.entryTtl(redisProperties.getTimeToLive());\r\n\t\t}\r\n\t\tif (redisProperties.getKeyPrefix() != null) {\r\n\t\t\tconfig = config.prefixKeysWith(redisProperties.getKeyPrefix());\r\n\t\t\tconfig = config.computePrefixWith(cacheName -&gt; redisProperties.getKeyPrefix() + cacheName + &quot;::&quot;);\r\n\t\t}\r\n\t\tif (!redisProperties.isCacheNullValues()) {\r\n\t\t\tconfig = config.disableCachingNullValues();\r\n\t\t}\r\n\t\tif (!redisProperties.isUseKeyPrefix()) {\r\n\t\t\tconfig = config.disableKeyPrefix();\r\n\t\t}\r\n\t\treturn config;\r\n    }\r\n\t","title":"How to create RedisCacheManager in spring-data 2.0.x","body":"<p>It doesn't accept a RedisTemplate anymore. So try this:</p>\n\n<pre><code>@Bean\npublic RedisCacheManager cacheManager(RedisConnectionFactory redisConnectionFactory,\n                                      ResourceLoader resourceLoader) {\n    RedisCacheManager.RedisCacheManagerBuilder builder = RedisCacheManager\n            .builder(redisConnectionFactory)\n            .cacheDefaults(determineConfiguration(resourceLoader.getClassLoader()));\n    List&lt;String&gt; cacheNames = this.cacheProperties.getCacheNames();\n    if (!cacheNames.isEmpty()) {\n        builder.initialCacheNames(new LinkedHashSet&lt;&gt;(cacheNames));\n    }\n    return builder.build();\n}\n\nprivate org.springframework.data.redis.cache.RedisCacheConfiguration determineConfiguration(\n        ClassLoader classLoader) {\n    if (this.redisCacheConfiguration != null) {\n        return this.redisCacheConfiguration;\n    }\n    CacheProperties.Redis redisProperties = this.cacheProperties.getRedis();\n    RedisCacheConfiguration config = RedisCacheConfiguration.defaultCacheConfig();\n\n    ObjectMapper mapper = new Jackson2ObjectMapperBuilder()\n            .modulesToInstall( new SimpleModule().addSerializer( new NullValueSerializer(null)) )\n            .failOnEmptyBeans( false )\n            .build();\n    mapper.enableDefaultTyping( ObjectMapper.DefaultTyping.NON_FINAL, JsonTypeInfo.As.PROPERTY);\n\n    GenericJackson2JsonRedisSerializer serializer = new GenericJackson2JsonRedisSerializer( mapper );\n\n    //get the mapper b/c they registered some internal modules\n    config = config.serializeValuesWith(RedisSerializationContext.SerializationPair.fromSerializer(serializer));;\n\n    if (redisProperties.getTimeToLive() != null) {\n        config = config.entryTtl(redisProperties.getTimeToLive());\n    }\n    if (redisProperties.getKeyPrefix() != null) {\n        config = config.prefixKeysWith(redisProperties.getKeyPrefix());\n        config = config.computePrefixWith(cacheName -&gt; redisProperties.getKeyPrefix() + cacheName + \"::\");\n    }\n    if (!redisProperties.isCacheNullValues()) {\n        config = config.disableCachingNullValues();\n    }\n    if (!redisProperties.isUseKeyPrefix()) {\n        config = config.disableKeyPrefix();\n    }\n    return config;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15086498,"reputation":201,"user_id":10887576,"display_name":"Starry"},"down_vote_count":0,"up_vote_count":20,"is_accepted":false,"score":20,"last_activity_date":1547109096,"creation_date":1547109096,"answer_id":54124600,"question_id":51418161,"body_markdown":"try  following code , it works for me on spring-boot 2.1.0.RELEASE\r\n\r\n    @Bean\r\n    public RedisCacheManager redisCacheManager(LettuceConnectionFactory lettuceConnectionFactory) {\r\n        RedisCacheConfiguration redisCacheConfiguration = RedisCacheConfiguration.defaultCacheConfig()\r\n                .disableCachingNullValues()\r\n                .entryTtl(Duration.ofHours(1))\r\n                .serializeValuesWith(RedisSerializationContext.SerializationPair.fromSerializer(RedisSerializer.json()));\r\n        redisCacheConfiguration.usePrefix();\r\n\r\n       return RedisCacheManager.RedisCacheManagerBuilder.fromConnectionFactory(lettuceConnectionFactory)\r\n                        .cacheDefaults(redisCacheConfiguration).build();\r\n\r\n    }    ","title":"How to create RedisCacheManager in spring-data 2.0.x","body":"<p>try  following code , it works for me on spring-boot 2.1.0.RELEASE</p>\n\n<pre><code>@Bean\npublic RedisCacheManager redisCacheManager(LettuceConnectionFactory lettuceConnectionFactory) {\n    RedisCacheConfiguration redisCacheConfiguration = RedisCacheConfiguration.defaultCacheConfig()\n            .disableCachingNullValues()\n            .entryTtl(Duration.ofHours(1))\n            .serializeValuesWith(RedisSerializationContext.SerializationPair.fromSerializer(RedisSerializer.json()));\n    redisCacheConfiguration.usePrefix();\n\n   return RedisCacheManager.RedisCacheManagerBuilder.fromConnectionFactory(lettuceConnectionFactory)\n                    .cacheDefaults(redisCacheConfiguration).build();\n\n}    \n</code></pre>\n"},{"tags":[],"owner":{"account_id":28222697,"reputation":1,"user_id":21573182,"display_name":"fatemeh davar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681161665,"creation_date":1680697691,"answer_id":75939432,"question_id":51418161,"body_markdown":"    @Bean\r\n      public CacheManager cacheManager() {\r\n            RedisCacheConfiguration redisCacheConfiguration = RedisCacheConfiguration.defaultCacheConfig()\r\n                .disableCachingNullValues()\r\n                .entryTtl(Duration.ofHours(1))\r\n                .serializeValuesWith(RedisSerializationContext.SerializationPair.fromSerializer(RedisSerializer.json()));\r\n          redisCacheConfiguration.usePrefix();\r\n          return RedisCacheManager.RedisCacheManagerBuilder.fromConnectionFactory(jedisConnectionFactory())\r\n              .cacheDefaults(redisCacheConfiguration).build();\r\n    }","title":"How to create RedisCacheManager in spring-data 2.0.x","body":"<pre><code>@Bean\n  public CacheManager cacheManager() {\n        RedisCacheConfiguration redisCacheConfiguration = RedisCacheConfiguration.defaultCacheConfig()\n            .disableCachingNullValues()\n            .entryTtl(Duration.ofHours(1))\n            .serializeValuesWith(RedisSerializationContext.SerializationPair.fromSerializer(RedisSerializer.json()));\n      redisCacheConfiguration.usePrefix();\n      return RedisCacheManager.RedisCacheManagerBuilder.fromConnectionFactory(jedisConnectionFactory())\n          .cacheDefaults(redisCacheConfiguration).build();\n}\n</code></pre>\n"}],"owner":{"account_id":4619060,"reputation":4445,"user_id":3744640,"accept_rate":76,"display_name":"Nikita"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":23358,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":51756517,"answer_count":3,"score":8,"last_activity_date":1681161665,"creation_date":1531989965,"question_id":51418161,"body_markdown":"I&#39;m migrating my application from spring boot 1.5.x to 2.0.x. I want to keep jedis but I have a problem with the instantiation of `RedisCacheManager`.\r\n\r\nNow constructor signature is \r\n\r\n    RedisCacheManager(RedisCacheWriter cacheWriter, RedisCacheConfiguration defaultCacheConfiguration)\r\n\r\nBut before it was:\r\n\r\n    RedisCacheManager(RedisOperations redisOperations)\r\n\r\nI define this bean having only `RedisTemplate` in scope:\r\n\r\n    @Bean\r\n    public RedisCacheManager redisCacheManager(RedisTemplate redisTemplate) {\r\n        HandleRedisCacheManager redisCacheManager = new HandleRedisCacheManager(redisTemplate);\r\n        redisCacheManager.setUsePrefix(true);\r\n        return redisCacheManager;\r\n    }\r\n\r\nHow is it supposed to be created now?\r\n\r\n","title":"How to create RedisCacheManager in spring-data 2.0.x","body":"<p>I'm migrating my application from spring boot 1.5.x to 2.0.x. I want to keep jedis but I have a problem with the instantiation of <code>RedisCacheManager</code>.</p>\n\n<p>Now constructor signature is </p>\n\n<pre><code>RedisCacheManager(RedisCacheWriter cacheWriter, RedisCacheConfiguration defaultCacheConfiguration)\n</code></pre>\n\n<p>But before it was:</p>\n\n<pre><code>RedisCacheManager(RedisOperations redisOperations)\n</code></pre>\n\n<p>I define this bean having only <code>RedisTemplate</code> in scope:</p>\n\n<pre><code>@Bean\npublic RedisCacheManager redisCacheManager(RedisTemplate redisTemplate) {\n    HandleRedisCacheManager redisCacheManager = new HandleRedisCacheManager(redisTemplate);\n    redisCacheManager.setUsePrefix(true);\n    return redisCacheManager;\n}\n</code></pre>\n\n<p>How is it supposed to be created now?</p>\n"},{"tags":["java","spring","mongodb","spring-boot"],"owner":{"account_id":23616670,"reputation":37,"user_id":17650662,"display_name":"Aviral Mishra"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":64,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681160660,"creation_date":1681155144,"question_id":75980118,"body_markdown":"I am working on a project and trying to configure my application with my database at MongoDB. I am not able to run my file due to the following errors. I am attaching my application file below:\r\n\r\n    package engineer.aviralmishra.Project_20051515;\r\n    \r\n    import org.springframework.boot.SpringApplication;\r\n    import org.springframework.boot.autoconfigure.SpringBootApplication;\r\n    \r\n    \r\n    @SpringBootApplication\r\n    public class Project20051515Application {\r\n    \r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tSpringApplication.run(Project20051515Application.class, args);\r\n    \t}\r\n    }\r\n\r\nIt is throwing the following 2 exceptions : \r\n1. Application run failed.\r\n2. DataBase name cannot contain dots, slash , dollar sign.\r\n\r\nI am attaching the thrown exception:\r\n\r\n    Error starting ApplicationContext. To display the condition evaluation report re-run your application with &#39;debug&#39; enabled.\r\n    2023-04-11T01:00:40.571+05:30 ERROR 30016 --- [  restartedMain] o.s.boot.SpringApplication               : Application run failed\r\n    \r\n    org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;mongoDatabaseFactory&#39; defined in class path resource [org/springframework/boot/autoconfigure/data/mongo/MongoDatabaseFactoryConfiguration.class]: Failed to instantiate [org.springframework.data.mongodb.core.MongoDatabaseFactorySupport]: Factory method &#39;mongoDatabaseFactory&#39; threw exception with message: Database name must not contain slashes, dots, spaces, quotes, or dollar signs\r\n    \tat org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:657) ~[spring-beans-6.0.7.jar:6.0.7]\r\n    \tat org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:645) ~[spring-beans-6.0.7.jar:6.0.7]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1332) ~[spring-beans-6.0.7.jar:6.0.7]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1162) ~[spring-beans-6.0.7.jar:6.0.7]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:560) ~[spring-beans-6.0.7.jar:6.0.7]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520) ~[spring-beans-6.0.7.jar:6.0.7]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.7.jar:6.0.7]\r\n    \tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.7.jar:6.0.7]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.7.jar:6.0.7]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.7.jar:6.0.7]\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:973) ~[spring-beans-6.0.7.jar:6.0.7]\r\n    \tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:917) ~[spring-context-6.0.7.jar:6.0.7]\r\n    \tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:584) ~[spring-context-6.0.7.jar:6.0.7]\r\n    \tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.0.5.jar:3.0.5]\r\n    \tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:732) ~[spring-boot-3.0.5.jar:3.0.5]\r\n    \tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:434) ~[spring-boot-3.0.5.jar:3.0.5]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:310) ~[spring-boot-3.0.5.jar:3.0.5]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1304) ~[spring-boot-3.0.5.jar:3.0.5]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1293) ~[spring-boot-3.0.5.jar:3.0.5]\r\n    \tat engineer.aviralmishra.Project_20051515.Project20051515Application.main(Project20051515Application.java:12) ~[classes/:na]\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\r\n    \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\r\n    \tat org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49) ~[spring-boot-devtools-3.0.5.jar:3.0.5]\r\n    Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.data.mongodb.core.MongoDatabaseFactorySupport]: Factory method &#39;mongoDatabaseFactory&#39; threw exception with message: Database name must not contain slashes, dots, spaces, quotes, or dollar signs\r\n    \tat org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:171) ~[spring-beans-6.0.7.jar:6.0.7]\r\n    \tat org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:653) ~[spring-beans-6.0.7.jar:6.0.7]\r\n    \t... 24 common frames omitted\r\n    Caused by: java.lang.IllegalArgumentException: Database name must not contain slashes, dots, spaces, quotes, or dollar signs\r\n    \tat org.springframework.util.Assert.isTrue(Assert.java:122) ~[spring-core-6.0.7.jar:6.0.7]\r\n    \tat org.springframework.data.mongodb.core.MongoDatabaseFactorySupport.&lt;init&gt;(MongoDatabaseFactorySupport.java:69) ~[spring-data-mongodb-4.0.4.jar:4.0.4]\r\n    \tat org.springframework.data.mongodb.core.SimpleMongoClientDatabaseFactory.&lt;init&gt;(SimpleMongoClientDatabaseFactory.java:75) ~[spring-data-mongodb-4.0.4.jar:4.0.4]\r\n    \tat org.springframework.data.mongodb.core.SimpleMongoClientDatabaseFactory.&lt;init&gt;(SimpleMongoClientDatabaseFactory.java:64) ~[spring-data-mongodb-4.0.4.jar:4.0.4]\r\n    \tat org.springframework.boot.autoconfigure.data.mongo.MongoDatabaseFactoryConfiguration.mongoDatabaseFactory(MongoDatabaseFactoryConfiguration.java:43) ~[spring-boot-autoconfigure-3.0.5.jar:3.0.5]\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\r\n    \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\r\n    \tat org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:139) ~[spring-beans-6.0.7.jar:6.0.7]\r\n    \t... 25 common frames omitted\r\n    \r\n    \r\n    Process finished with exit code 0","title":"Error starting ApplicationContext . o.s. boot application run failed","body":"<p>I am working on a project and trying to configure my application with my database at MongoDB. I am not able to run my file due to the following errors. I am attaching my application file below:</p>\n<pre><code>package engineer.aviralmishra.Project_20051515;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\n\n\n@SpringBootApplication\npublic class Project20051515Application {\n\n\n    public static void main(String[] args) {\n        SpringApplication.run(Project20051515Application.class, args);\n    }\n}\n</code></pre>\n<p>It is throwing the following 2 exceptions :</p>\n<ol>\n<li>Application run failed.</li>\n<li>DataBase name cannot contain dots, slash , dollar sign.</li>\n</ol>\n<p>I am attaching the thrown exception:</p>\n<pre><code>Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.\n2023-04-11T01:00:40.571+05:30 ERROR 30016 --- [  restartedMain] o.s.boot.SpringApplication               : Application run failed\n\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name 'mongoDatabaseFactory' defined in class path resource [org/springframework/boot/autoconfigure/data/mongo/MongoDatabaseFactoryConfiguration.class]: Failed to instantiate [org.springframework.data.mongodb.core.MongoDatabaseFactorySupport]: Factory method 'mongoDatabaseFactory' threw exception with message: Database name must not contain slashes, dots, spaces, quotes, or dollar signs\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:657) ~[spring-beans-6.0.7.jar:6.0.7]\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:645) ~[spring-beans-6.0.7.jar:6.0.7]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1332) ~[spring-beans-6.0.7.jar:6.0.7]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1162) ~[spring-beans-6.0.7.jar:6.0.7]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:560) ~[spring-beans-6.0.7.jar:6.0.7]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520) ~[spring-beans-6.0.7.jar:6.0.7]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.7.jar:6.0.7]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.7.jar:6.0.7]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.7.jar:6.0.7]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.7.jar:6.0.7]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:973) ~[spring-beans-6.0.7.jar:6.0.7]\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:917) ~[spring-context-6.0.7.jar:6.0.7]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:584) ~[spring-context-6.0.7.jar:6.0.7]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.0.5.jar:3.0.5]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:732) ~[spring-boot-3.0.5.jar:3.0.5]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:434) ~[spring-boot-3.0.5.jar:3.0.5]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:310) ~[spring-boot-3.0.5.jar:3.0.5]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1304) ~[spring-boot-3.0.5.jar:3.0.5]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1293) ~[spring-boot-3.0.5.jar:3.0.5]\n    at engineer.aviralmishra.Project_20051515.Project20051515Application.main(Project20051515Application.java:12) ~[classes/:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\n    at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49) ~[spring-boot-devtools-3.0.5.jar:3.0.5]\nCaused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.data.mongodb.core.MongoDatabaseFactorySupport]: Factory method 'mongoDatabaseFactory' threw exception with message: Database name must not contain slashes, dots, spaces, quotes, or dollar signs\n    at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:171) ~[spring-beans-6.0.7.jar:6.0.7]\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:653) ~[spring-beans-6.0.7.jar:6.0.7]\n    ... 24 common frames omitted\nCaused by: java.lang.IllegalArgumentException: Database name must not contain slashes, dots, spaces, quotes, or dollar signs\n    at org.springframework.util.Assert.isTrue(Assert.java:122) ~[spring-core-6.0.7.jar:6.0.7]\n    at org.springframework.data.mongodb.core.MongoDatabaseFactorySupport.&lt;init&gt;(MongoDatabaseFactorySupport.java:69) ~[spring-data-mongodb-4.0.4.jar:4.0.4]\n    at org.springframework.data.mongodb.core.SimpleMongoClientDatabaseFactory.&lt;init&gt;(SimpleMongoClientDatabaseFactory.java:75) ~[spring-data-mongodb-4.0.4.jar:4.0.4]\n    at org.springframework.data.mongodb.core.SimpleMongoClientDatabaseFactory.&lt;init&gt;(SimpleMongoClientDatabaseFactory.java:64) ~[spring-data-mongodb-4.0.4.jar:4.0.4]\n    at org.springframework.boot.autoconfigure.data.mongo.MongoDatabaseFactoryConfiguration.mongoDatabaseFactory(MongoDatabaseFactoryConfiguration.java:43) ~[spring-boot-autoconfigure-3.0.5.jar:3.0.5]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\n    at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:139) ~[spring-beans-6.0.7.jar:6.0.7]\n    ... 25 common frames omitted\n\n\nProcess finished with exit code 0\n</code></pre>\n"},{"tags":["java","botframework","microsoft-teams","microsoft-teams-js"],"comments":[{"owner":{"account_id":22099631,"reputation":757,"user_id":16356296,"display_name":"Prasad-MSFT"},"score":0,"creation_date":1681275889,"post_id":75980534,"comment_id":134028377,"body_markdown":"There doesn&#39;t seem to be anything missing from the response.  It might not be possible to respond to the submit action invoked in embedded web view with a FileConsentCard","body":"There doesn&#39;t seem to be anything missing from the response.  It might not be possible to respond to the submit action invoked in embedded web view with a FileConsentCard"},{"owner":{"account_id":5992276,"reputation":3,"user_id":4708050,"display_name":"lfdevjmp"},"score":0,"creation_date":1681309911,"post_id":75980534,"comment_id":134036093,"body_markdown":"Can you suggest an alternative solution?  I would like to trigger a file upload into the chat after a selection is made from my embedded web view Task Module.","body":"Can you suggest an alternative solution?  I would like to trigger a file upload into the chat after a selection is made from my embedded web view Task Module."},{"owner":{"account_id":22099631,"reputation":757,"user_id":16356296,"display_name":"Prasad-MSFT"},"score":0,"creation_date":1681372188,"post_id":75980534,"comment_id":134046374,"body_markdown":"Did you try using sendActivity method to send the card inside onTeamsTaskModuleSubmit as below?\nhttps://github.com/OfficeDev/Microsoft-Teams-Samples/blob/main/samples/bot-task-module/java/src/main/java/com/microsoft/bot/sample/teamstaskmodule/TeamsTaskModuleBot.java","body":"Did you try using sendActivity method to send the card inside onTeamsTaskModuleSubmit as below? <a href=\"https://github.com/OfficeDev/Microsoft-Teams-Samples/blob/main/samples/bot-task-module/java/src/main/java/com/microsoft/bot/sample/teamstaskmodule/TeamsTaskModuleBot.java\" rel=\"nofollow noreferrer\">github.com/OfficeDev/Microsoft-Teams-Samples/blob/main/sampl&zwnj;&#8203;es/&hellip;</a>"},{"owner":{"account_id":5992276,"reputation":3,"user_id":4708050,"display_name":"lfdevjmp"},"score":0,"creation_date":1681511717,"post_id":75980534,"comment_id":134073984,"body_markdown":"Thanks for that.  I was able to get a FileConsentCard through the onTeamsMessagingExtensionSubmitAction by modifying that logic.  Now I&#39;m having issues uploading a PDF using the UploadInfo UploadUrl.  I&#39;ve posted another question here on SF regarding that issue.  Thanks again!","body":"Thanks for that.  I was able to get a FileConsentCard through the onTeamsMessagingExtensionSubmitAction by modifying that logic.  Now I&#39;m having issues uploading a PDF using the UploadInfo UploadUrl.  I&#39;ve posted another question here on SF regarding that issue.  Thanks again!"}],"owner":{"account_id":5992276,"reputation":3,"user_id":4708050,"display_name":"lfdevjmp"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":122,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681160636,"creation_date":1681159076,"question_id":75980534,"body_markdown":"I&#39;m calling microsoftTeams.tasks.submitTask() with some data from my Embedded Web View Task module like this:\r\n\r\n```\r\nvar fsObj = {};\r\nfsObj.name = &quot;give me a file&quot;;\t\t\t\r\nmicrosoftTeams.tasks.submitTask(fsObj);\t\r\n```\r\n\r\nThis then arrives at my bot with the data and invokes the onTeamsMessagingExtensionSubmitAction event, which I&#39;ve handled like this:\r\n\r\n```\r\n@Override\r\n\tprotected CompletableFuture&lt;MessagingExtensionActionResponse&gt; onTeamsMessagingExtensionSubmitAction(TurnContext turnContext, MessagingExtensionAction action) {\r\n\t\t\t\t\r\n\t\tFile filePath = new File(&quot;files&quot;, &quot;10840-002.pdf&quot;);\r\n\t\tString filename = filePath.getName();\r\n\t\tlong filesize = filePath.length();\t\t\r\n\t\t\r\n\t\tMap&lt;String, String&gt; consentContext = new HashMap&lt;&gt;();\r\n        consentContext.put(&quot;filename&quot;, filename);\r\n\r\n\t\tFileConsentCard fileCard = new FileConsentCard();\r\n        fileCard.setDescription(&quot;Here is a file...&quot;);\r\n        fileCard.setSizeInBytes(filesize);\r\n        fileCard.setAcceptContext(consentContext);\r\n        fileCard.setDeclineContext(consentContext);\t\t\t\t\r\n\r\n\t\tMessagingExtensionAttachment asAttachment = new MessagingExtensionAttachment();\r\n        asAttachment.setContent(fileCard);\r\n        asAttachment.setContentType(FileConsentCard.CONTENT_TYPE);\r\n        asAttachment.setName(filename);\t\t\r\n\t\t\r\n\t\tMessagingExtensionResult msgExtRes = new MessagingExtensionResult();\r\n\t\tmsgExtRes.setType(&quot;result&quot;);\r\n\t\tmsgExtRes.setAttachmentLayout(&quot;list&quot;);\r\n\t\tmsgExtRes.setAttachment(asAttachment);\t\t\r\n\t\t\r\n\t\tMessagingExtensionActionResponse actionResponse = new MessagingExtensionActionResponse();\r\n\t\tactionResponse.setComposeExtension(msgExtRes);\t\t\r\n\t\t\r\n\t\treturn CompletableFuture.completedFuture(actionResponse);\t\t\t\r\n\t}\r\n```\r\n\r\nThis code runs, and my embedded web view Task Module then closes, but I do not see the file consent message in the chat.\r\n\r\nI have successfully duplicated [this File Upload bot example][1], where I&#39;m able to get a file through when talking directly to my bot.\r\n\r\nIs it possible to respond to the submit action invoked in my embedded web view with a FileConsentCard?  If so, what am I missing in my response?\r\n\r\n\r\n  [1]: https://github.com/OfficeDev/Microsoft-Teams-Samples/tree/main/samples/bot-file-upload/java","title":"Teams Bot with Java SDK response to onTeamsMessagingExtensionSubmitAction with FileConsentCard from Embedded Web View","body":"<p>I'm calling microsoftTeams.tasks.submitTask() with some data from my Embedded Web View Task module like this:</p>\n<pre><code>var fsObj = {};\nfsObj.name = &quot;give me a file&quot;;          \nmicrosoftTeams.tasks.submitTask(fsObj); \n</code></pre>\n<p>This then arrives at my bot with the data and invokes the onTeamsMessagingExtensionSubmitAction event, which I've handled like this:</p>\n<pre><code>@Override\n    protected CompletableFuture&lt;MessagingExtensionActionResponse&gt; onTeamsMessagingExtensionSubmitAction(TurnContext turnContext, MessagingExtensionAction action) {\n                \n        File filePath = new File(&quot;files&quot;, &quot;10840-002.pdf&quot;);\n        String filename = filePath.getName();\n        long filesize = filePath.length();      \n        \n        Map&lt;String, String&gt; consentContext = new HashMap&lt;&gt;();\n        consentContext.put(&quot;filename&quot;, filename);\n\n        FileConsentCard fileCard = new FileConsentCard();\n        fileCard.setDescription(&quot;Here is a file...&quot;);\n        fileCard.setSizeInBytes(filesize);\n        fileCard.setAcceptContext(consentContext);\n        fileCard.setDeclineContext(consentContext);             \n\n        MessagingExtensionAttachment asAttachment = new MessagingExtensionAttachment();\n        asAttachment.setContent(fileCard);\n        asAttachment.setContentType(FileConsentCard.CONTENT_TYPE);\n        asAttachment.setName(filename);     \n        \n        MessagingExtensionResult msgExtRes = new MessagingExtensionResult();\n        msgExtRes.setType(&quot;result&quot;);\n        msgExtRes.setAttachmentLayout(&quot;list&quot;);\n        msgExtRes.setAttachment(asAttachment);      \n        \n        MessagingExtensionActionResponse actionResponse = new MessagingExtensionActionResponse();\n        actionResponse.setComposeExtension(msgExtRes);      \n        \n        return CompletableFuture.completedFuture(actionResponse);           \n    }\n</code></pre>\n<p>This code runs, and my embedded web view Task Module then closes, but I do not see the file consent message in the chat.</p>\n<p>I have successfully duplicated <a href=\"https://github.com/OfficeDev/Microsoft-Teams-Samples/tree/main/samples/bot-file-upload/java\" rel=\"nofollow noreferrer\">this File Upload bot example</a>, where I'm able to get a file through when talking directly to my bot.</p>\n<p>Is it possible to respond to the submit action invoked in my embedded web view with a FileConsentCard?  If so, what am I missing in my response?</p>\n"},{"tags":["java","sorting"],"comments":[{"owner":{"account_id":682692,"reputation":49061,"user_id":535275,"accept_rate":91,"display_name":"Scott Hunter"},"score":1,"creation_date":1681139891,"post_id":75978329,"comment_id":134004761,"body_markdown":"Please post code as text, not an image of text.","body":"Please post code as text, not an image of text."},{"owner":{"account_id":28266503,"reputation":13,"user_id":21610386,"display_name":"Satyam Rao"},"score":0,"creation_date":1681140277,"post_id":75978329,"comment_id":134004827,"body_markdown":"ok, uploaded code as text, now check please","body":"ok, uploaded code as text, now check please"},{"owner":{"account_id":15178500,"reputation":4190,"user_id":10952503,"display_name":"Elikill58"},"score":0,"creation_date":1681193770,"post_id":75978329,"comment_id":134012617,"body_markdown":"What is your expected output?","body":"What is your expected output?"}],"answers":[{"tags":[],"owner":{"account_id":13170666,"reputation":78669,"user_id":9513184,"display_name":"Unmitigated"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681140409,"creation_date":1681140409,"answer_id":75978397,"question_id":75978329,"body_markdown":"You could convert the `int[]` to an array of `Integer`, then sort it with a custom `Comparator` that first looks at parity, then the actual value.\r\n\r\n```java\r\nint[] res = Arrays.stream(arr).boxed().sorted(\r\n             Comparator.comparingInt((Integer x) -&gt; x &amp; 1)\r\n              .thenComparingInt(x -&gt; (x &amp; 1) == 0 ? x : -x)).mapToInt(x -&gt; x).toArray();\r\n// you can also copy over res into arr if in-place modification is required\r\n```","title":"Sort even numbers in ascending and odd numbers in descending order","body":"<p>You could convert the <code>int[]</code> to an array of <code>Integer</code>, then sort it with a custom <code>Comparator</code> that first looks at parity, then the actual value.</p>\n<pre class=\"lang-java prettyprint-override\"><code>int[] res = Arrays.stream(arr).boxed().sorted(\n             Comparator.comparingInt((Integer x) -&gt; x &amp; 1)\n              .thenComparingInt(x -&gt; (x &amp; 1) == 0 ? x : -x)).mapToInt(x -&gt; x).toArray();\n// you can also copy over res into arr if in-place modification is required\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1681142172,"creation_date":1681141711,"answer_id":75978571,"question_id":75978329,"body_markdown":"You have three easy options for your code to adapt:\r\n1. make the odd numbers negative temporarily or\r\n2. invert the sort order\r\n3. flip the array at the end\r\n\r\nBut please note that all methods shown here will let the odd numbers come first in the result!\r\n\r\nFor variant 1, you have to invert the `if` condition inside your `for` loops:\r\n``` lang-java\r\nfor (int i = 0; i &lt; n; i++) {\r\n    if ((arr[i] &amp; 1) != 0) {\r\n        arr[i] *= -1;\r\n    }\r\n}\r\n```\r\n\r\nFor variant 2, you have to specify a `Comparator` in the `sort` method:\r\n``` lang-java\r\nArrays.sort(arr, Comparator.reverseOrder());\r\n```\r\nPlease note that for this variant you need to use arrays of `Integer` as the `sort` method only takes a `Comparator` for arrays of objects. No worries about the calculations, auto-(un-)boxing will convert `int` to `Integer` and vice versa wherever necessary.\r\n\r\nFor variant 3 you just add code to reverse the whole result:\r\n``` lang-java\r\nfor (int i = 0; i &lt; n / 2; i++) {\r\n    int temp = arr[i];\r\n    arr[i] = arr[n - i - 1];\r\n    arr[n - i - 1] = temp;\r\n}\r\n```\r\n\r\nIn general you should always use blocks (`{}`) to increase readability of your code, and the java style for declaring an array is `int[] arr` instead of `int arr[]` (although both styles work). This is because `int[]` is a class, while `int` is a primitive, and you see that better if the `[]` are next to the base type.\r\n\r\nYou would make your method `twoWaySort` more robust if you don&#39;t pass the length of the array as second parameter, but use `arr.length` inside the method.\r\n","title":"Sort even numbers in ascending and odd numbers in descending order","body":"<p>You have three easy options for your code to adapt:</p>\n<ol>\n<li>make the odd numbers negative temporarily or</li>\n<li>invert the sort order</li>\n<li>flip the array at the end</li>\n</ol>\n<p>But please note that all methods shown here will let the odd numbers come first in the result!</p>\n<p>For variant 1, you have to invert the <code>if</code> condition inside your <code>for</code> loops:</p>\n<pre class=\"lang-java prettyprint-override\"><code>for (int i = 0; i &lt; n; i++) {\n    if ((arr[i] &amp; 1) != 0) {\n        arr[i] *= -1;\n    }\n}\n</code></pre>\n<p>For variant 2, you have to specify a <code>Comparator</code> in the <code>sort</code> method:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Arrays.sort(arr, Comparator.reverseOrder());\n</code></pre>\n<p>Please note that for this variant you need to use arrays of <code>Integer</code> as the <code>sort</code> method only takes a <code>Comparator</code> for arrays of objects. No worries about the calculations, auto-(un-)boxing will convert <code>int</code> to <code>Integer</code> and vice versa wherever necessary.</p>\n<p>For variant 3 you just add code to reverse the whole result:</p>\n<pre class=\"lang-java prettyprint-override\"><code>for (int i = 0; i &lt; n / 2; i++) {\n    int temp = arr[i];\n    arr[i] = arr[n - i - 1];\n    arr[n - i - 1] = temp;\n}\n</code></pre>\n<p>In general you should always use blocks (<code>{}</code>) to increase readability of your code, and the java style for declaring an array is <code>int[] arr</code> instead of <code>int arr[]</code> (although both styles work). This is because <code>int[]</code> is a class, while <code>int</code> is a primitive, and you see that better if the <code>[]</code> are next to the base type.</p>\n<p>You would make your method <code>twoWaySort</code> more robust if you don't pass the length of the array as second parameter, but use <code>arr.length</code> inside the method.</p>\n"}],"owner":{"account_id":28266503,"reputation":13,"user_id":21610386,"display_name":"Satyam Rao"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":83,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":75978571,"answer_count":2,"score":0,"last_activity_date":1681160607,"creation_date":1681139782,"question_id":75978329,"body_markdown":"Given an array of numbers, need to sort even nos in ascending order and odd nos in descending order. Input is `{9,3,5,6,7,8}`, output is `{6,8,9,7,5,3}`.\r\n\r\nI tried but in my output, even numbers gets arranged in descending order and odd numbers in ascending.\r\n\r\nMy Code:\r\n\r\n    package practice;\r\n    import java.util.*;\r\n    \r\n    public class arrange\r\n    {\r\n    \tstatic void twoWaySort(int arr[], int n)\r\n    \t{\r\n    \t\tfor (int i = 0; i &lt; n; i++)\r\n    \t\t\tif ((arr[i] &amp; 1) == 0) \r\n    \t\t\t\tarr[i] *= -1;\r\n    \t\tArrays.sort(arr);\r\n    \t\tfor (int i = 0; i &lt; n; i++)\r\n    \t\t\tif ((arr[i] &amp; 1) == 0)\r\n    \t\t\t\tarr[i] *= -1;\r\n    \t}\r\n    \r\n    \tpublic static void main(String[] args)\r\n    \t{\r\n    \t\tint arr[] = { 9,3,5,6,7,8 };\r\n    \r\n    \t\ttwoWaySort(arr, arr.length);\r\n    \r\n    \t\tSystem.out.println(Arrays.toString(arr));\r\n    \t}\r\n    }","title":"Sort even numbers in ascending and odd numbers in descending order","body":"<p>Given an array of numbers, need to sort even nos in ascending order and odd nos in descending order. Input is <code>{9,3,5,6,7,8}</code>, output is <code>{6,8,9,7,5,3}</code>.</p>\n<p>I tried but in my output, even numbers gets arranged in descending order and odd numbers in ascending.</p>\n<p>My Code:</p>\n<pre><code>package practice;\nimport java.util.*;\n\npublic class arrange\n{\n    static void twoWaySort(int arr[], int n)\n    {\n        for (int i = 0; i &lt; n; i++)\n            if ((arr[i] &amp; 1) == 0) \n                arr[i] *= -1;\n        Arrays.sort(arr);\n        for (int i = 0; i &lt; n; i++)\n            if ((arr[i] &amp; 1) == 0)\n                arr[i] *= -1;\n    }\n\n    public static void main(String[] args)\n    {\n        int arr[] = { 9,3,5,6,7,8 };\n\n        twoWaySort(arr, arr.length);\n\n        System.out.println(Arrays.toString(arr));\n    }\n}\n</code></pre>\n"},{"tags":["java","spring-boot","jndi"],"comments":[{"owner":{"account_id":406289,"reputation":47511,"user_id":775715,"accept_rate":100,"display_name":"Joakim Erdfelt"},"score":1,"creation_date":1681159774,"post_id":75956327,"comment_id":134008880,"body_markdown":"Seems like a duplicate of https://stackoverflow.com/a/39671593/775715 and https://stackoverflow.com/a/55097841/775715","body":"Seems like a duplicate of <a href=\"https://stackoverflow.com/a/39671593/775715\">stackoverflow.com/a/39671593/775715</a> and <a href=\"https://stackoverflow.com/a/55097841/775715\">stackoverflow.com/a/55097841/775715</a>"}],"owner":{"account_id":5200007,"reputation":195,"user_id":4962891,"display_name":"Erii Asari"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":243,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681159778,"creation_date":1680852292,"question_id":75956327,"body_markdown":"In my gradle base project I&#39;m trying upgrade spring (`spring-boot-starter-jetty`) dependency from 2.7.6 to 3.0.5 \r\nAnd looks everything start up and work fine. However during start up I noticed logs from JNDI loop up.\r\n\r\n    DEBUG o.springframework.jndi.JndiTemplate - Looking up JNDI object with name [java:comp/env/logging.group]\r\n    DEBUG o.s.jndi.JndiLocatorDelegate - Converted JNDI name [java:comp/env/logging.group] not found - trying original name [logging.group]. javax.naming.NameNotFoundException: env is not bound; remaining name &#39;env/logging.group&#39;\r\n    DEBUG o.springframework.jndi.JndiTemplate - Looking up JNDI object with name [logging.group]\r\n    DEBUG o.s.jndi.JndiPropertySource - JNDI lookup for name [logging.group] threw NamingException with message: null. Returning null.\r\n    DEBUG o.springframework.jndi.JndiTemplate - Looking up JNDI object with name [java:comp/env/logging.group]\r\n    DEBUG o.s.jndi.JndiLocatorDelegate - Converted JNDI name [java:comp/env/logging.group] not found - trying original name [logging.group]. javax.naming.NameNotFoundException: env is not bound; remaining name &#39;env/logging.group&#39;\r\n    DEBUG o.springframework.jndi.JndiTemplate - Looking up JNDI object with name [logging.group]\r\n    DEBUG o.s.jndi.JndiPropertySource - JNDI lookup for name [logging.group] threw NamingException with message: null. Returning null.\r\n    DEBUG o.springframework.jndi.JndiTemplate - Looking up JNDI object with name [java:comp/env/logging.level]\r\n    DEBUG o.s.jndi.JndiLocatorDelegate - Converted JNDI name [java:comp/env/logging.level] not found - trying original name [logging.level]. javax.naming.NameNotFoundException: env is not bound; remaining name &#39;env/logging.level&#39;\r\n    DEBUG o.springframework.jndi.JndiTemplate - Looking up JNDI object with name [logging.level]\r\n    DEBUG o.s.jndi.JndiPropertySource - JNDI lookup for name [logging.level] threw NamingException with message: null. Returning null.\r\n    DEBUG o.springframework.jndi.JndiTemplate - Looking up JNDI object with name [java:comp/env/logging.level]\r\n    DEBUG o.s.jndi.JndiLocatorDelegate - Converted JNDI name [java:comp/env/logging.level] not found - trying original name [logging.level]. javax.naming.NameNotFoundException: env is not bound; remaining name &#39;env/logging.level&#39;\r\n    DEBUG o.springframework.jndi.JndiTemplate - Looking up JNDI object with name [logging.level]\r\n    DEBUG o.s.jndi.JndiPropertySource - JNDI lookup for name [logging.level] threw NamingException with message: null. Returning null.\r\n    DEBUG o.springframework.jndi.JndiTemplate - Looking up JNDI object with name [java:comp/env/logging.level.org.springframework]\r\n    DEBUG o.s.jndi.JndiLocatorDelegate - Converted JNDI name [java:comp/env/logging.level.org.springframework] not found - trying original name [logging.level.org.springframework]. javax.naming.NameNotFoundException: env is not bound; remaining name &#39;env/logging.level.org.springframework&#39;\r\n    DEBUG o.springframework.jndi.JndiTemplate - Looking up JNDI object with name [logging.level.org.springframework]\r\n    DEBUG o.s.jndi.JndiPropertySource - JNDI lookup for name [logging.level.org.springframework] threw NamingException with message: null. Returning null.\r\n    DEBUG o.springframework.jndi.JndiTemplate - Looking up JNDI object with name [java:comp/env/logging.level.org.hibernate]\r\n    DEBUG o.s.jndi.JndiLocatorDelegate - Converted JNDI name [java:comp/env/logging.level.org.hibernate] not found - trying original name [logging.level.org.hibernate]. javax.naming.NameNotFoundException: env is not bound; remaining name &#39;env/logging.level.org.hibernate&#39;\r\n    DEBUG o.springframework.jndi.JndiTemplate - Looking up JNDI object with name [logging.level.org.hibernate]\r\n    DEBUG o.s.jndi.JndiPropertySource - JNDI lookup for name [logging.level.org.hibernate] threw NamingException with message: null. Returning null.\r\n\r\nAs I found to turn off JNDI I should set in spring `application.properties`\r\n\r\n&gt; spring.jndi.enabled=false\r\nand\r\n&gt; org.eclipse.jetty.jndi=false\r\n\r\nBut it looks like this options doesn&#39;t work in spring boot 3 because still I see the JNDI look up logs. Did any one this issue and know how to fix it? ","title":"Spring Boot Jetty 3.0.5 turn off JNDI","body":"<p>In my gradle base project I'm trying upgrade spring (<code>spring-boot-starter-jetty</code>) dependency from 2.7.6 to 3.0.5\nAnd looks everything start up and work fine. However during start up I noticed logs from JNDI loop up.</p>\n<pre><code>DEBUG o.springframework.jndi.JndiTemplate - Looking up JNDI object with name [java:comp/env/logging.group]\nDEBUG o.s.jndi.JndiLocatorDelegate - Converted JNDI name [java:comp/env/logging.group] not found - trying original name [logging.group]. javax.naming.NameNotFoundException: env is not bound; remaining name 'env/logging.group'\nDEBUG o.springframework.jndi.JndiTemplate - Looking up JNDI object with name [logging.group]\nDEBUG o.s.jndi.JndiPropertySource - JNDI lookup for name [logging.group] threw NamingException with message: null. Returning null.\nDEBUG o.springframework.jndi.JndiTemplate - Looking up JNDI object with name [java:comp/env/logging.group]\nDEBUG o.s.jndi.JndiLocatorDelegate - Converted JNDI name [java:comp/env/logging.group] not found - trying original name [logging.group]. javax.naming.NameNotFoundException: env is not bound; remaining name 'env/logging.group'\nDEBUG o.springframework.jndi.JndiTemplate - Looking up JNDI object with name [logging.group]\nDEBUG o.s.jndi.JndiPropertySource - JNDI lookup for name [logging.group] threw NamingException with message: null. Returning null.\nDEBUG o.springframework.jndi.JndiTemplate - Looking up JNDI object with name [java:comp/env/logging.level]\nDEBUG o.s.jndi.JndiLocatorDelegate - Converted JNDI name [java:comp/env/logging.level] not found - trying original name [logging.level]. javax.naming.NameNotFoundException: env is not bound; remaining name 'env/logging.level'\nDEBUG o.springframework.jndi.JndiTemplate - Looking up JNDI object with name [logging.level]\nDEBUG o.s.jndi.JndiPropertySource - JNDI lookup for name [logging.level] threw NamingException with message: null. Returning null.\nDEBUG o.springframework.jndi.JndiTemplate - Looking up JNDI object with name [java:comp/env/logging.level]\nDEBUG o.s.jndi.JndiLocatorDelegate - Converted JNDI name [java:comp/env/logging.level] not found - trying original name [logging.level]. javax.naming.NameNotFoundException: env is not bound; remaining name 'env/logging.level'\nDEBUG o.springframework.jndi.JndiTemplate - Looking up JNDI object with name [logging.level]\nDEBUG o.s.jndi.JndiPropertySource - JNDI lookup for name [logging.level] threw NamingException with message: null. Returning null.\nDEBUG o.springframework.jndi.JndiTemplate - Looking up JNDI object with name [java:comp/env/logging.level.org.springframework]\nDEBUG o.s.jndi.JndiLocatorDelegate - Converted JNDI name [java:comp/env/logging.level.org.springframework] not found - trying original name [logging.level.org.springframework]. javax.naming.NameNotFoundException: env is not bound; remaining name 'env/logging.level.org.springframework'\nDEBUG o.springframework.jndi.JndiTemplate - Looking up JNDI object with name [logging.level.org.springframework]\nDEBUG o.s.jndi.JndiPropertySource - JNDI lookup for name [logging.level.org.springframework] threw NamingException with message: null. Returning null.\nDEBUG o.springframework.jndi.JndiTemplate - Looking up JNDI object with name [java:comp/env/logging.level.org.hibernate]\nDEBUG o.s.jndi.JndiLocatorDelegate - Converted JNDI name [java:comp/env/logging.level.org.hibernate] not found - trying original name [logging.level.org.hibernate]. javax.naming.NameNotFoundException: env is not bound; remaining name 'env/logging.level.org.hibernate'\nDEBUG o.springframework.jndi.JndiTemplate - Looking up JNDI object with name [logging.level.org.hibernate]\nDEBUG o.s.jndi.JndiPropertySource - JNDI lookup for name [logging.level.org.hibernate] threw NamingException with message: null. Returning null.\n</code></pre>\n<p>As I found to turn off JNDI I should set in spring <code>application.properties</code></p>\n<blockquote>\n<p>spring.jndi.enabled=false\nand\norg.eclipse.jetty.jndi=false</p>\n</blockquote>\n<p>But it looks like this options doesn't work in spring boot 3 because still I see the JNDI look up logs. Did any one this issue and know how to fix it?</p>\n"},{"tags":["java","android","android-studio","android-recyclerview","staggered-gridview"],"comments":[{"owner":{"account_id":11467490,"reputation":1334,"user_id":8405296,"display_name":"Lidor Eliyahu Shelef"},"score":0,"creation_date":1650453148,"post_id":71932177,"comment_id":127118346,"body_markdown":"it might, I will try it now and update you","body":"it might, I will try it now and update you"},{"owner":{"account_id":11467490,"reputation":1334,"user_id":8405296,"display_name":"Lidor Eliyahu Shelef"},"score":0,"creation_date":1650456852,"post_id":71932177,"comment_id":127119622,"body_markdown":"it did, thank you, @Andrew","body":"it did, thank you, @Andrew"}],"answers":[{"tags":[],"owner":{"account_id":2557581,"reputation":6571,"user_id":2219237,"accept_rate":60,"display_name":"Vasily Kabunov"},"down_vote_count":1,"up_vote_count":1,"is_accepted":true,"score":0,"last_activity_date":1650425260,"creation_date":1650425260,"answer_id":71933749,"question_id":71932177,"body_markdown":"It looks like https://github.com/google/flexbox-layout may help you.\r\n\r\nYou can use `FlexboxLayoutManager` as adapter and play with properties, all the views will wrap automatically depending on their width.","title":"Staggered Grid View (Both Directions) - different cells width - vertical scroll","body":"<p>It looks like <a href=\"https://github.com/google/flexbox-layout\" rel=\"nofollow noreferrer\">https://github.com/google/flexbox-layout</a> may help you.</p>\n<p>You can use <code>FlexboxLayoutManager</code> as adapter and play with properties, all the views will wrap automatically depending on their width.</p>\n"}],"owner":{"account_id":11467490,"reputation":1334,"user_id":8405296,"display_name":"Lidor Eliyahu Shelef"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":517,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1650456886,"accepted_answer_id":71933749,"answer_count":1,"score":0,"last_activity_date":1681159249,"creation_date":1650408676,"question_id":71932177,"body_markdown":"I need to make panel of some sort with a Staggered Grid behavior such in the photo attached (cells width are not the same in each cell):\r\n\r\n[![enter image description here][1]][1]\r\n\r\nI tried normal `GridView`, I tried `StaggeredGridLayoutManager` with and without a recycler view,\r\nI&#39;ve searched the internet for so long, and still hasn&#39;t found anything that gave me the suitable solution in java.\r\n\r\nI also tried with the following answer: [LayoutManager for RecyclerView Grid with different cell width][2] and [Android Grid view with different width of column][3] (There are many more answers similar to this 2), but I need it to be &quot;dynamic&quot; and what I mean by that is that I need the cell width to be determine by it&#39;s content width and not just by it&#39;s index like in the answers attached.\r\n\r\nAnyone knows a way to accomplish such a thing? or knows a library or a similar project with that feature?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/IxCVJ.png\r\n  [2]: https://stackoverflow.com/questions/36514887/layoutmanager-for-recyclerview-grid-with-different-cell-width\r\n  [3]: https://stackoverflow.com/questions/39787092/android-grid-view-with-different-width-of-column","title":"Staggered Grid View (Both Directions) - different cells width - vertical scroll","body":"<p>I need to make panel of some sort with a Staggered Grid behavior such in the photo attached (cells width are not the same in each cell):</p>\n<p><a href=\"https://i.stack.imgur.com/IxCVJ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/IxCVJ.png\" alt=\"enter image description here\" /></a></p>\n<p>I tried normal <code>GridView</code>, I tried <code>StaggeredGridLayoutManager</code> with and without a recycler view,\nI've searched the internet for so long, and still hasn't found anything that gave me the suitable solution in java.</p>\n<p>I also tried with the following answer: <a href=\"https://stackoverflow.com/questions/36514887/layoutmanager-for-recyclerview-grid-with-different-cell-width\">LayoutManager for RecyclerView Grid with different cell width</a> and <a href=\"https://stackoverflow.com/questions/39787092/android-grid-view-with-different-width-of-column\">Android Grid view with different width of column</a> (There are many more answers similar to this 2), but I need it to be &quot;dynamic&quot; and what I mean by that is that I need the cell width to be determine by it's content width and not just by it's index like in the answers attached.</p>\n<p>Anyone knows a way to accomplish such a thing? or knows a library or a similar project with that feature?</p>\n"},{"tags":["java","random","numbers"],"comments":[{"owner":{"account_id":5998820,"reputation":12656,"user_id":4712734,"display_name":"DuncG"},"score":2,"creation_date":1681158774,"post_id":75980482,"comment_id":134008683,"body_markdown":"Use `long` not `Long` so that you are comparing values not object references (which might hold the same value)","body":"Use <code>long</code> not <code>Long</code> so that you are comparing values not object references (which might hold the same value)"},{"owner":{"account_id":13170666,"reputation":78669,"user_id":9513184,"display_name":"Unmitigated"},"score":3,"creation_date":1681158908,"post_id":75980482,"comment_id":134008710,"body_markdown":"Don&#39;t use `==` or `!=` to compare objects.","body":"Don&#39;t use <code>==</code> or <code>!=</code> to compare objects."},{"owner":{"account_id":28268589,"reputation":1,"user_id":21612155,"display_name":"Roger Browne"},"score":0,"creation_date":1681159051,"post_id":75980482,"comment_id":134008740,"body_markdown":"yes, that was the problem, thanks","body":"yes, that was the problem, thanks"}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89778,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681159098,"creation_date":1681159098,"answer_id":75980540,"question_id":75980482,"body_markdown":"&gt; `Long cycles = 0l;`\r\n\r\nThis is incorrect. You want `long cycles = 0L;`. The capital L is just because lowercase-l is obviously extremely unreadable (looks like a 1), but that&#39;s just a style thing. The `long` vs `Long`, that&#39;s.. quite a gigantic difference. `Long` is a wrapper object containing a `long` value.\r\n\r\n`a == b`, where a and b are `Long` objects, __checks if they are the exact same wrapper object__, not if the values they represent are identical. e.g.:\r\n\r\n```\r\nLong a = Long.parseLong(&quot;1234&quot;);\r\nLong b = Long.parseLong(&quot;1234&quot;);\r\nSystem.out.println(a == b); // prints false\r\n```\r\n\r\ntry it.\r\n\r\nThere does not appear to be any reason for why you are using the wrapper here. Simply.. don&#39;t. Always use `long` unless you really, _really_ know what you are doing. The one place where `Long` has to be used is in generics, e.g. if  you have a `new ArrayList&lt;Long&gt;()`, that has to be capital-L long, but then that also belies what is happening: You have these wrappers involved.","title":"java ThreadLocalRandom fails to produce a specific number within the range","body":"<blockquote>\n<p><code>Long cycles = 0l;</code></p>\n</blockquote>\n<p>This is incorrect. You want <code>long cycles = 0L;</code>. The capital L is just because lowercase-l is obviously extremely unreadable (looks like a 1), but that's just a style thing. The <code>long</code> vs <code>Long</code>, that's.. quite a gigantic difference. <code>Long</code> is a wrapper object containing a <code>long</code> value.</p>\n<p><code>a == b</code>, where a and b are <code>Long</code> objects, <strong>checks if they are the exact same wrapper object</strong>, not if the values they represent are identical. e.g.:</p>\n<pre><code>Long a = Long.parseLong(&quot;1234&quot;);\nLong b = Long.parseLong(&quot;1234&quot;);\nSystem.out.println(a == b); // prints false\n</code></pre>\n<p>try it.</p>\n<p>There does not appear to be any reason for why you are using the wrapper here. Simply.. don't. Always use <code>long</code> unless you really, <em>really</em> know what you are doing. The one place where <code>Long</code> has to be used is in generics, e.g. if  you have a <code>new ArrayList&lt;Long&gt;()</code>, that has to be capital-L long, but then that also belies what is happening: You have these wrappers involved.</p>\n"}],"owner":{"account_id":28268589,"reputation":1,"user_id":21612155,"display_name":"Roger Browne"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1681161684,"answer_count":1,"score":0,"last_activity_date":1681159098,"creation_date":1681158581,"question_id":75980482,"body_markdown":"code is this:  \r\n\r\n    Long indx = getComboIndex(drawPosCombo,numsize,picksize); //[resolves to the value 1046]\r\n    Long cycles = 0l;\r\n    Long comboSize = getComboSize(numsize,picksize);  //[resolves to the value 10626]\r\n    Long testIndex = ThreadLocalRandom.current().nextLong(0, comboSize);\r\n\r\n    while(testIndex != indx){\r\n        testIndex = ThreadLocalRandom.current().nextLong(0, comboSize);\r\n        cycles += 1;\r\n    }\r\n\r\nI&#39;m expecting this to run the while loop until I get a match between indx and testIndex and then continue on.  But, it never leaves the loop :)\r\n\r\nI dropped cycles in there to test how many attempts I had tried... after 21 Billion! attempts, it still cannot match the indx value of 1046 from the range of (0,10626).  I stare at it and stare at it but my brain fails to see the issue..  please help :)\r\n\r\ndebugger shows that it faithfully is creating long values in range.  It boggles my mind that a random generator would not match after this many tries.","title":"java ThreadLocalRandom fails to produce a specific number within the range","body":"<p>code is this:</p>\n<pre><code>Long indx = getComboIndex(drawPosCombo,numsize,picksize); //[resolves to the value 1046]\nLong cycles = 0l;\nLong comboSize = getComboSize(numsize,picksize);  //[resolves to the value 10626]\nLong testIndex = ThreadLocalRandom.current().nextLong(0, comboSize);\n\nwhile(testIndex != indx){\n    testIndex = ThreadLocalRandom.current().nextLong(0, comboSize);\n    cycles += 1;\n}\n</code></pre>\n<p>I'm expecting this to run the while loop until I get a match between indx and testIndex and then continue on.  But, it never leaves the loop :)</p>\n<p>I dropped cycles in there to test how many attempts I had tried... after 21 Billion! attempts, it still cannot match the indx value of 1046 from the range of (0,10626).  I stare at it and stare at it but my brain fails to see the issue..  please help :)</p>\n<p>debugger shows that it faithfully is creating long values in range.  It boggles my mind that a random generator would not match after this many tries.</p>\n"},{"tags":["java","hibernate","associations","lazy-loading","one-to-one"],"comments":[{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1681142988,"post_id":75976850,"comment_id":134005422,"body_markdown":"First, the database doesn&#39;t look correct. It shows multiple budgets all pointing at the same account (id 76) when your model shows that an Account can only have one budget associated to it. So it is very wrong for your model. If you need multiple budgets associated to the same account, it is a OneToMany relationship (and ManyToOne back), not a bidirectional 1:1.","body":"First, the database doesn&#39;t look correct. It shows multiple budgets all pointing at the same account (id 76) when your model shows that an Account can only have one budget associated to it. So it is very wrong for your model. If you need multiple budgets associated to the same account, it is a OneToMany relationship (and ManyToOne back), not a bidirectional 1:1."},{"owner":{"account_id":5901943,"reputation":79,"user_id":4645165,"display_name":"lasbr"},"score":0,"creation_date":1681151030,"post_id":75976850,"comment_id":134007087,"body_markdown":"@Chris I understand what you mean, but interestingly enough this constellation worked eagerly for a long time with a huge amount of data. The problem is, that an Account should only have one mainBudget. (budget level 1) A mainBudget then can have subBudgets (budget level 2) and subBudgets can also have subBudgets (level 3 = max level). Now each of the budgets in such a budget tree should have the account as an association. The account although only should have the main budget. You say this can not be done with OneToOne?","body":"@Chris I understand what you mean, but interestingly enough this constellation worked eagerly for a long time with a huge amount of data. The problem is, that an Account should only have one mainBudget. (budget level 1) A mainBudget then can have subBudgets (budget level 2) and subBudgets can also have subBudgets (level 3 = max level). Now each of the budgets in such a budget tree should have the account as an association. The account although only should have the main budget. You say this can not be done with OneToOne?"},{"owner":{"account_id":5901943,"reputation":79,"user_id":4645165,"display_name":"lasbr"},"score":0,"creation_date":1681151229,"post_id":75976850,"comment_id":134007131,"body_markdown":"@Cris In my mind it would just be the account table containing the mainBudget id and all the subbudget tables are containing the account id. The mainBudget is the `@OneToOne` association and the rest of the budgets have a `@ManyToOne` association to the account, but the account does not have an `@OneToMany` association to these budgets. How should I model this? Should I make the MainBudget a special type of Budget? Should I fake it with `@OneToMany` from the account perspective and filter for the mainBudget on loading the account?","body":"@Cris In my mind it would just be the account table containing the mainBudget id and all the subbudget tables are containing the account id. The mainBudget is the <code>@OneToOne</code> association and the rest of the budgets have a <code>@ManyToOne</code> association to the account, but the account does not have an <code>@OneToMany</code> association to these budgets. How should I model this? Should I make the MainBudget a special type of Budget? Should I fake it with <code>@OneToMany</code> from the account perspective and filter for the mainBudget on loading the account?"},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1681157151,"post_id":75976850,"comment_id":134008356,"body_markdown":"Your mapping has no concept of a &#39;main&#39; budget - it just goes looking for any &#39;one&#39; budget that references the account with that ID; this is what I mean by it being incorrect. It is non-deterministic in which one it will find. There are a few ways to map this if your DB design is what you want, but note that your model is more complex as your &#39;child&#39; chaining has no guarantee they are all pointing at the same account. You might want the root parent associated to an account, and just let the children leave the account fk as null.","body":"Your mapping has no concept of a &#39;main&#39; budget - it just goes looking for any &#39;one&#39; budget that references the account with that ID; this is what I mean by it being incorrect. It is non-deterministic in which one it will find. There are a few ways to map this if your DB design is what you want, but note that your model is more complex as your &#39;child&#39; chaining has no guarantee they are all pointing at the same account. You might want the root parent associated to an account, and just let the children leave the account fk as null."}],"answers":[{"tags":[],"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1681158846,"creation_date":1681158846,"answer_id":75980509,"question_id":75976850,"body_markdown":"As mentioned in a comment, your Account mapping to Budget has no concept of a main or parent budget, so all budgets referencing this account are just as valid and usable for the Account-&gt;Budget reference. This is a problem in the application as a whole, but is specifically a problem when you delete an Account as there is only one budget referenced - So JPA only cascades and delete that one budget instance. You get a referential constraint exception because you&#39;ve left all the others in the DB.\r\n\r\nYou can get around the deletion quirk (but I strongly advise against it) by having the DB clean up instances before you. It is DB dependent, but many have a cascade on delete option, so that they will clean up Budget rows when the account is deleted. \r\n\r\nBetter IMO is to map the relationship as it really is: A one to many.\r\n\r\n    @Entity\r\n    public class Account {\r\n      @Id\r\n      @GeneratedValue(strategy = GenerationType.TABLE)\r\n      protected long id;\r\n    \r\n      @OneToMany(mappedBy = &quot;account&quot;, cascade = CascadeType.ALL, orphanRemoval=true, fetch=FetchType.LAZY) \r\n      private List&lt;Budget&gt; budgets;\r\n      } \r\n    ...\r\n    }\r\n\r\nif you must have a &#39;main&#39; budget reference and it must be the root parent, you can query for it directly using `&quot;select mainBudget from Budget mainBudget where mainBudget.parentBudget is null and mainBudget.account = :account&quot;`. You can also maintain this in the Account directly by going over the collection when needed (but this will trigger the collection).\r\n\r\nA non-JPA way though would be to also map it in your Account instance using [Hibernate specific filtering][1]:\r\n\r\n    @OneToOne(cascade = CascadeType.ALL, fetch=FetchType.LAZY)\r\n    @Where(clause = &quot;parentBudget is null&quot;)\r\n    private  Budget mainBudget;\r\n\r\nBut you mentioned in comments you might need a way to mark a budget as the main one so that an Account can reference it. This is simply done by adding a foreign key from Account-&gt;budget that tracks the main one:\r\n\r\n    @OneToOne(cascade = CascadeType.ALL, fetch=FetchType.LAZY)\r\n    private Budget mainBudget;\r\n\r\nNote though that your &#39;main&#39; budget can be any budget. It is completely independent from the the Budget-&gt;Account mappings, and can be any budget in any budget graph (not necessarily a parent). \r\n\r\nIf you want JPA to clean up all Budgets when removing an Account though, you&#39;ll still need to keep a OneToMany reference from account-&gt;Budget so that JPA knows they exist and to clean them up.\r\n\r\nIf both sides (budget and account) are going to have foreign keys to the other, be sure to allow constraints to be deferred or allow fks to be nullable. Otherwise you&#39;ll get into problems with inserts, updates and deletes.\r\n\r\n  [1]: https://www.baeldung.com/hibernate-dynamic-mapping","title":"Hibernate - Lazily fetch @OneToOne association with same parent referred by multiple recursively mapped children","body":"<p>As mentioned in a comment, your Account mapping to Budget has no concept of a main or parent budget, so all budgets referencing this account are just as valid and usable for the Account-&gt;Budget reference. This is a problem in the application as a whole, but is specifically a problem when you delete an Account as there is only one budget referenced - So JPA only cascades and delete that one budget instance. You get a referential constraint exception because you've left all the others in the DB.</p>\n<p>You can get around the deletion quirk (but I strongly advise against it) by having the DB clean up instances before you. It is DB dependent, but many have a cascade on delete option, so that they will clean up Budget rows when the account is deleted.</p>\n<p>Better IMO is to map the relationship as it really is: A one to many.</p>\n<pre><code>@Entity\npublic class Account {\n  @Id\n  @GeneratedValue(strategy = GenerationType.TABLE)\n  protected long id;\n\n  @OneToMany(mappedBy = &quot;account&quot;, cascade = CascadeType.ALL, orphanRemoval=true, fetch=FetchType.LAZY) \n  private List&lt;Budget&gt; budgets;\n  } \n...\n}\n</code></pre>\n<p>if you must have a 'main' budget reference and it must be the root parent, you can query for it directly using <code>&quot;select mainBudget from Budget mainBudget where mainBudget.parentBudget is null and mainBudget.account = :account&quot;</code>. You can also maintain this in the Account directly by going over the collection when needed (but this will trigger the collection).</p>\n<p>A non-JPA way though would be to also map it in your Account instance using <a href=\"https://www.baeldung.com/hibernate-dynamic-mapping\" rel=\"nofollow noreferrer\">Hibernate specific filtering</a>:</p>\n<pre><code>@OneToOne(cascade = CascadeType.ALL, fetch=FetchType.LAZY)\n@Where(clause = &quot;parentBudget is null&quot;)\nprivate  Budget mainBudget;\n</code></pre>\n<p>But you mentioned in comments you might need a way to mark a budget as the main one so that an Account can reference it. This is simply done by adding a foreign key from Account-&gt;budget that tracks the main one:</p>\n<pre><code>@OneToOne(cascade = CascadeType.ALL, fetch=FetchType.LAZY)\nprivate Budget mainBudget;\n</code></pre>\n<p>Note though that your 'main' budget can be any budget. It is completely independent from the the Budget-&gt;Account mappings, and can be any budget in any budget graph (not necessarily a parent).</p>\n<p>If you want JPA to clean up all Budgets when removing an Account though, you'll still need to keep a OneToMany reference from account-&gt;Budget so that JPA knows they exist and to clean them up.</p>\n<p>If both sides (budget and account) are going to have foreign keys to the other, be sure to allow constraints to be deferred or allow fks to be nullable. Otherwise you'll get into problems with inserts, updates and deletes.</p>\n"},{"tags":[],"owner":{"account_id":12205661,"reputation":332,"user_id":8908834,"display_name":"Mauricio Buffon"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1681159000,"creation_date":1681159000,"answer_id":75980525,"question_id":75976850,"body_markdown":"The way I see it, your model has two uni-directional relationships between *Account* and *Budget*.\r\n\r\nIt has `* - 1` from *Budget* to *Account*.  \r\nIt has `1 - 0..1` from *Account* to *Budget*.\r\n\r\nI could make it work writing the following entities:\r\n\r\n```java\r\n@Entity\r\npublic class Account {\r\n\r\n    @Id\r\n    private long id;\r\n\r\n    @OneToOne\r\n    @JoinColumn(name = &quot;mainBudget_id&quot;)\r\n    private Budget budget;\r\n}\r\n\r\n@Entity\r\npublic class Budget {\r\n\r\n    @Id\r\n    private long id;\r\n\r\n    @ManyToOne(optional = false)\r\n    @JoinColumn(name = &quot;account_id&quot;)\r\n    private Account account;\r\n\r\n    @ManyToOne\r\n    @JoinColumn(name = &quot;parentBudget_id&quot;)\r\n    private Budget parentBudget;\r\n\r\n    @OneToMany(orphanRemoval = true, mappedBy = &quot;parentBudget&quot;)\r\n    private List&lt;Budget&gt; subBudget;\r\n}\r\n\r\n```\r\n\r\nAnd using the same data you provided:\r\n\r\n```sql\r\ninsert into Account(id, mainBudget_id) values (76, null);\r\ninsert into Budget(id, account_id, parentBudget_id) values (50, 76, null);\r\nupdate Account set mainBudget_id = 50 where id = 76;\r\ninsert into Budget(id, account_id, parentBudget_id) values (51, 76, 50);\r\ninsert into Budget(id, account_id, parentBudget_id) values (52, 76, 51);\r\ninsert into Budget(id, account_id, parentBudget_id) values (55, 76, 51);\r\ninsert into Budget(id, account_id, parentBudget_id) values (58, 76, 51);\r\ninsert into Budget(id, account_id, parentBudget_id) values (61, 76, 51);\r\ninsert into Budget(id, account_id, parentBudget_id) values (64, 76, 50);\r\ninsert into Budget(id, account_id, parentBudget_id) values (65, 76, 64);\r\ninsert into Budget(id, account_id, parentBudget_id) values (68, 76, 50);\r\ninsert into Budget(id, account_id, parentBudget_id) values (69, 76, 68);\r\ninsert into Budget(id, account_id, parentBudget_id) values (72, 76, 50);\r\ninsert into Budget(id, account_id, parentBudget_id) values (73, 76, 72);\r\ninsert into Budget(id, account_id, parentBudget_id) values (2259, 76, 50);\r\n```\r\n\r\nThis was enough to play around retrieving a list of budgets, deleting a budget, etc.\r\n\r\n**ATTENTION**: Using the mapping provided here, you candelete any Budget in the tree. If the deleted budget isn&#39;t a leaf node, the persistence provider will delete the tree below it. **Nevertheless**, if you try to delete the main budget without updating the account entity first, it will fail.","title":"Hibernate - Lazily fetch @OneToOne association with same parent referred by multiple recursively mapped children","body":"<p>The way I see it, your model has two uni-directional relationships between <em>Account</em> and <em>Budget</em>.</p>\n<p>It has <code>* - 1</code> from <em>Budget</em> to <em>Account</em>.<br />\nIt has <code>1 - 0..1</code> from <em>Account</em> to <em>Budget</em>.</p>\n<p>I could make it work writing the following entities:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\npublic class Account {\n\n    @Id\n    private long id;\n\n    @OneToOne\n    @JoinColumn(name = &quot;mainBudget_id&quot;)\n    private Budget budget;\n}\n\n@Entity\npublic class Budget {\n\n    @Id\n    private long id;\n\n    @ManyToOne(optional = false)\n    @JoinColumn(name = &quot;account_id&quot;)\n    private Account account;\n\n    @ManyToOne\n    @JoinColumn(name = &quot;parentBudget_id&quot;)\n    private Budget parentBudget;\n\n    @OneToMany(orphanRemoval = true, mappedBy = &quot;parentBudget&quot;)\n    private List&lt;Budget&gt; subBudget;\n}\n\n</code></pre>\n<p>And using the same data you provided:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>insert into Account(id, mainBudget_id) values (76, null);\ninsert into Budget(id, account_id, parentBudget_id) values (50, 76, null);\nupdate Account set mainBudget_id = 50 where id = 76;\ninsert into Budget(id, account_id, parentBudget_id) values (51, 76, 50);\ninsert into Budget(id, account_id, parentBudget_id) values (52, 76, 51);\ninsert into Budget(id, account_id, parentBudget_id) values (55, 76, 51);\ninsert into Budget(id, account_id, parentBudget_id) values (58, 76, 51);\ninsert into Budget(id, account_id, parentBudget_id) values (61, 76, 51);\ninsert into Budget(id, account_id, parentBudget_id) values (64, 76, 50);\ninsert into Budget(id, account_id, parentBudget_id) values (65, 76, 64);\ninsert into Budget(id, account_id, parentBudget_id) values (68, 76, 50);\ninsert into Budget(id, account_id, parentBudget_id) values (69, 76, 68);\ninsert into Budget(id, account_id, parentBudget_id) values (72, 76, 50);\ninsert into Budget(id, account_id, parentBudget_id) values (73, 76, 72);\ninsert into Budget(id, account_id, parentBudget_id) values (2259, 76, 50);\n</code></pre>\n<p>This was enough to play around retrieving a list of budgets, deleting a budget, etc.</p>\n<p><strong>ATTENTION</strong>: Using the mapping provided here, you candelete any Budget in the tree. If the deleted budget isn't a leaf node, the persistence provider will delete the tree below it. <strong>Nevertheless</strong>, if you try to delete the main budget without updating the account entity first, it will fail.</p>\n"}],"owner":{"account_id":5901943,"reputation":79,"user_id":4645165,"display_name":"lasbr"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":89,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75980525,"answer_count":2,"score":1,"last_activity_date":1681159000,"creation_date":1681127496,"question_id":75976850,"body_markdown":"The following constellation gives me a `org.h2.jdbc.JdbcSQLIntegrityConstraintViolationException`:\r\n\r\nThe associations:\r\n\r\n    1 Account   (account)      &lt;-&gt;  (mainBudget) Budget 0..1\r\n    0..1 Budget (parentBudget) &lt;-&gt;  (subBudget) Budget *\r\n\r\nThe actual implementation of an Account objects and Budget objects would look like this:\r\n\r\nForwards:\r\n\r\n    Account -&gt; (mainBudget) Budget -&gt; (subBudget) Budget -&gt; (subBudget) Budget\r\n\r\nBackwards:\r\n\r\n    Budget -&gt; (parentBudget) Budget -&gt; (parentBudget) Budget -&gt; (account) Account\r\n\r\nEach Budget in the budget tree (max height 3 as modeled) has the same account associated to it, where the account only has the mainBudget associated.\r\n \r\n\r\nFor the `Account.java`:\r\n\r\n```\r\n@Audited\r\n@Entity\r\npublic class Account {\r\n  @Id\r\n  @GeneratedValue(strategy = GenerationType.TABLE)\r\n  protected long id;\r\n\r\n  @OneToOne(cascade = CascadeType.ALL, orphanRemoval=true, fetch=FetchType.LAZY) \r\n// Here I also tried mappedBy = &quot;account&quot; with @JoinColumn for the budget (with the exception stated at the end)\r\n  @LazyToOne(LazyToOneOption.PROXY)\r\n  private  Budget mainBudget;\r\n  } \r\n...\r\n}\r\n```\r\n\r\nFor the `Budget.java`:\r\n\r\n```\r\n@Audited\r\n@Entity\r\npublic class Budget {\r\n  @Id\r\n  @GeneratedValue(strategy = GenerationType.TABLE)\r\n  protected long id;\r\n\r\n  @OneToOne(fetch=FetchType.LAZY)\r\n  //@JoinColumn(name=&quot;account_id&quot;) - I tried this but also got an exception (stated below)\r\n  private Account account;\r\n\r\n  @OneToMany(targetEntity = Budget.class, cascade = CascadeType.ALL, \r\n    mappedBy = &quot;parentBudget&quot;, orphanRemoval=true)\r\n  @Fetch(value = FetchMode.SUBSELECT)\r\n  private List&lt;Budget&gt; subBudget; \r\n\r\n  @ManyToOne(fetch=FetchType.LAZY)\r\n  @JoinColumn(name=&quot;parentBudget_id&quot;)\r\n  private Budget parentBudget; \r\n...\r\n} \r\n```\r\n\r\nThe in-memory H2 database looks the following (which seems fine to me):\r\n\r\n[![the database][1]][1]\r\n\r\nThe error message in detail is:\r\n\r\n```\r\nReferential integrity constraint violation: &quot;FKovatioxlljiymn9haxf1yrjs7: PUBLIC.Account FOREIGN KEY(mainBudget_id) REFERENCES PUBLIC.Budget(id) (2259)&quot;; SQL statement:\r\ndelete from Budget where id=? [23503-200]\r\n```\r\n\r\nThe delete-method looks like this:\r\n\r\n```\r\n  @Transactional\r\n  public boolean delete(long id, String resource)\r\n      throws NoSuchElementException {\r\n    List&lt;Budget&gt; objs = getAllById(id, resource); //SELECT * FROM Budget WHERE id=...\r\n\r\n    if (objs.isEmpty()) {\r\n      throw new NoSuchElementException(\r\n          &quot;Delete not possible.&quot;);\r\n    }\r\n\r\n    router.setDataSource(resource);\r\n\r\n    for (Budget obj : objs) {\r\n      em.remove(obj);\r\n      em.flush(); // Here the exception is thrown\r\n    }\r\n    return true;\r\n  }\r\n```\r\n\r\nWhy do I get a referential integrity constraint violation exception? The same mappings **worked before with EAGER** loading. \r\n\r\nAs stated as comments in the code, if I use `mappedBy` for the parent and `@JoinColumn` for the child I as suggested [here][2], I get the exception:\r\n\r\n```org.hibernate.HibernateException: More than one row with the given identifier was found: 50, for class: ...Budget```\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Y5vih.png\r\n  [2]: https://stackoverflow.com/questions/13044567/hibernate-bidirectional-onetoone\r\n","title":"Hibernate - Lazily fetch @OneToOne association with same parent referred by multiple recursively mapped children","body":"<p>The following constellation gives me a <code>org.h2.jdbc.JdbcSQLIntegrityConstraintViolationException</code>:</p>\n<p>The associations:</p>\n<pre><code>1 Account   (account)      &lt;-&gt;  (mainBudget) Budget 0..1\n0..1 Budget (parentBudget) &lt;-&gt;  (subBudget) Budget *\n</code></pre>\n<p>The actual implementation of an Account objects and Budget objects would look like this:</p>\n<p>Forwards:</p>\n<pre><code>Account -&gt; (mainBudget) Budget -&gt; (subBudget) Budget -&gt; (subBudget) Budget\n</code></pre>\n<p>Backwards:</p>\n<pre><code>Budget -&gt; (parentBudget) Budget -&gt; (parentBudget) Budget -&gt; (account) Account\n</code></pre>\n<p>Each Budget in the budget tree (max height 3 as modeled) has the same account associated to it, where the account only has the mainBudget associated.</p>\n<p>For the <code>Account.java</code>:</p>\n<pre><code>@Audited\n@Entity\npublic class Account {\n  @Id\n  @GeneratedValue(strategy = GenerationType.TABLE)\n  protected long id;\n\n  @OneToOne(cascade = CascadeType.ALL, orphanRemoval=true, fetch=FetchType.LAZY) \n// Here I also tried mappedBy = &quot;account&quot; with @JoinColumn for the budget (with the exception stated at the end)\n  @LazyToOne(LazyToOneOption.PROXY)\n  private  Budget mainBudget;\n  } \n...\n}\n</code></pre>\n<p>For the <code>Budget.java</code>:</p>\n<pre><code>@Audited\n@Entity\npublic class Budget {\n  @Id\n  @GeneratedValue(strategy = GenerationType.TABLE)\n  protected long id;\n\n  @OneToOne(fetch=FetchType.LAZY)\n  //@JoinColumn(name=&quot;account_id&quot;) - I tried this but also got an exception (stated below)\n  private Account account;\n\n  @OneToMany(targetEntity = Budget.class, cascade = CascadeType.ALL, \n    mappedBy = &quot;parentBudget&quot;, orphanRemoval=true)\n  @Fetch(value = FetchMode.SUBSELECT)\n  private List&lt;Budget&gt; subBudget; \n\n  @ManyToOne(fetch=FetchType.LAZY)\n  @JoinColumn(name=&quot;parentBudget_id&quot;)\n  private Budget parentBudget; \n...\n} \n</code></pre>\n<p>The in-memory H2 database looks the following (which seems fine to me):</p>\n<p><a href=\"https://i.stack.imgur.com/Y5vih.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Y5vih.png\" alt=\"the database\" /></a></p>\n<p>The error message in detail is:</p>\n<pre><code>Referential integrity constraint violation: &quot;FKovatioxlljiymn9haxf1yrjs7: PUBLIC.Account FOREIGN KEY(mainBudget_id) REFERENCES PUBLIC.Budget(id) (2259)&quot;; SQL statement:\ndelete from Budget where id=? [23503-200]\n</code></pre>\n<p>The delete-method looks like this:</p>\n<pre><code>  @Transactional\n  public boolean delete(long id, String resource)\n      throws NoSuchElementException {\n    List&lt;Budget&gt; objs = getAllById(id, resource); //SELECT * FROM Budget WHERE id=...\n\n    if (objs.isEmpty()) {\n      throw new NoSuchElementException(\n          &quot;Delete not possible.&quot;);\n    }\n\n    router.setDataSource(resource);\n\n    for (Budget obj : objs) {\n      em.remove(obj);\n      em.flush(); // Here the exception is thrown\n    }\n    return true;\n  }\n</code></pre>\n<p>Why do I get a referential integrity constraint violation exception? The same mappings <strong>worked before with EAGER</strong> loading.</p>\n<p>As stated as comments in the code, if I use <code>mappedBy</code> for the parent and <code>@JoinColumn</code> for the child I as suggested <a href=\"https://stackoverflow.com/questions/13044567/hibernate-bidirectional-onetoone\">here</a>, I get the exception:</p>\n<p><code>org.hibernate.HibernateException: More than one row with the given identifier was found: 50, for class: ...Budget</code></p>\n"},{"tags":["python","java","macos","automation"],"answers":[{"tags":[],"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680856673,"creation_date":1680856372,"answer_id":75956782,"question_id":75956653,"body_markdown":"You can use Java to create a GUI application that runs on MacOS.\r\nYou can use [JPackage][1] to package this application such that it will install natively, so for MacOS it would come as dmg.\r\n\r\nBut rereading your question, you already have some GUI application and you just want to automatically install and operate it? Then in Java your best bet might be the [Robot][2] class, which is intended for UI testing. It is capable of generating user input events, but reading an unknown application&#39;s GUI output may be an issue.\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/19/docs/specs/man/jpackage.html\r\n  [2]: https://docs.oracle.com/en/java/javase/16/docs/api/java.desktop/java/awt/Robot.html","title":"Is it possible to perform macOS GUI automation using Java or python?","body":"<p>You can use Java to create a GUI application that runs on MacOS.\nYou can use <a href=\"https://docs.oracle.com/en/java/javase/19/docs/specs/man/jpackage.html\" rel=\"nofollow noreferrer\">JPackage</a> to package this application such that it will install natively, so for MacOS it would come as dmg.</p>\n<p>But rereading your question, you already have some GUI application and you just want to automatically install and operate it? Then in Java your best bet might be the <a href=\"https://docs.oracle.com/en/java/javase/16/docs/api/java.desktop/java/awt/Robot.html\" rel=\"nofollow noreferrer\">Robot</a> class, which is intended for UI testing. It is capable of generating user input events, but reading an unknown application's GUI output may be an issue.</p>\n"}],"owner":{"account_id":22769648,"reputation":9,"user_id":16927259,"display_name":"Himanshu Kumar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":147,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1681158919,"creation_date":1680855248,"question_id":75956653,"body_markdown":"I have a .pkg/.dmg file which provides following operations \r\n1. I can install it \r\n2. After installation there is an option to provide username and password details with some URL to access the server\r\n\r\nI want to perform the GUI automation for this application (without using Automator), is it possible to achieve using Java or Python?","title":"Is it possible to perform macOS GUI automation using Java or python?","body":"<p>I have a .pkg/.dmg file which provides following operations</p>\n<ol>\n<li>I can install it</li>\n<li>After installation there is an option to provide username and password details with some URL to access the server</li>\n</ol>\n<p>I want to perform the GUI automation for this application (without using Automator), is it possible to achieve using Java or Python?</p>\n"},{"tags":["java","logback","weblogic12c","logback-classic"],"owner":{"account_id":26660211,"reputation":1,"user_id":20273148,"display_name":"Gregory Grondin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":65,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681158783,"creation_date":1681158783,"question_id":75980504,"body_markdown":"Trying to get logback working in my application -- I have a resource adapter and an MDB deployed under Weblogic. I&#39;ve swapped the application from using log4j to logback/slf4j.\r\n\r\nConfiguration files are placed under /src/main/resources (though I have also placed them under the root of the java class folder - no luck)\r\n\r\nThere is no indication of the logback.xml file being found. Even if it&#39;s not found though, I would have expected the logs to appear in the console. I&#39;m not seeing anything.\r\n\r\nMy logback.xml is as follows:\r\n\r\n```\r\n&lt;configuration debug=&quot;true&quot;&gt;\r\n\r\n  &lt;appender name=&quot;STDOUT&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\r\n    &lt;encoder&gt;\r\n      &lt;pattern&gt;%d{yyyy-MM-dd HH:mm:ss} %-5p %c{1}:%L - %m%n&lt;/pattern&gt;\r\n    &lt;/encoder&gt;\r\n  &lt;/appender&gt;\r\n\r\n  &lt;appender name=&quot;KafkaRALogFile&quot; class=&quot;ch.qos.logback.core.rolling.RollingFileAppender&quot;&gt;\r\n    &lt;file&gt;/data/apps/applications/jmsDomain/kafkaresourceadapter/logs/resourceadapter.log&lt;/file&gt;\r\n    &lt;rollingPolicy class=&quot;ch.qos.logback.core.rolling.TimeBasedRollingPolicy&quot;&gt;\r\n      &lt;fileNamePattern&gt;/data/apps/applications/jmsDomain/kafkaresourceadapter/logs/resourceadapter-%d{yyy-MM-dd}.%i.log&lt;/fileNamePattern&gt;\r\n      &lt;maxHistory&gt;5&lt;/maxHistory&gt;\r\n      &lt;totalSizeCap&gt;20MB&lt;/totalSizeCap&gt;\r\n    &lt;/rollingPolicy&gt;\r\n    &lt;triggeringPolicy class=&quot;ch.qos.logback.core.rolling.SizeBasedTriggeringPolicy&quot;&gt;\r\n    \t&lt;maxFileSize&gt;5MB&lt;/maxFileSize&gt;\r\n    &lt;/triggeringPolicy&gt;\r\n    &lt;encoder&gt;\r\n      &lt;pattern&gt;%d{yyyy-MM-dd HH:mm:ss} %-5p %c{1}:%L - %m%n&lt;/pattern&gt;\r\n    &lt;/encoder&gt;\r\n  &lt;/appender&gt;\r\n  \r\n  &lt;logger name=&quot;ca.bellaliant.kafkaresourceadapter&quot; level=&quot;DEBUG&quot; additivity=&quot;false&quot;&gt;\r\n      &lt;appender-ref ref=&quot;STDOUT&quot; /&gt;\r\n      &lt;appender-ref ref=&quot;KafkaRALogFile&quot; /&gt;\r\n  &lt;/logger&gt;\r\n  \r\n  &lt;!-- By default, the level of the root level is set to DEBUG --&gt;\r\n  &lt;root level=&quot;DEBUG&quot;&gt;\r\n      &lt;appender-ref ref=&quot;STDOUT&quot; /&gt;\r\n  &lt;/root&gt;\r\n\r\n&lt;/configuration&gt;\r\n\r\n```\r\nHere are the relevant snippets of code. Note that the System.out is getting executed and I am seeing that line of text in my sysout:\r\n\r\n```\r\nimporting the correct class files:\r\nimport org.slf4j.Logger;\r\nimport org.slf4j.LoggerFactory;\r\n\r\npublic class SomeAdapter implements ResourceAdapter\r\n{\r\n   private static final Logger logger = LoggerFactory.getLogger(SomeAdapter.class);\r\n   private WorkManager workManager;\r\n   private final Map&lt;EndpointKey, KafkaWorker&gt; registeredWorkers;\r\n\r\n   public KafkaResourceAdapter() {\r\n       registeredWorkers = new ConcurrentHashMap&lt;&gt;();\r\n   }\r\n\r\n   public void start( BootstrapContext bsCtx )\r\n   {\r\n\t  logger.debug(&quot;Some statement to log.&quot;);\r\n\t  System.out.println(&quot;***Something to go to the stdout.&quot;);\r\n          workManager = bsCtx.getWorkManager();\r\n          running = true;\r\n   }\r\n```\r\n\r\n....\r\n\r\nI have the following in dependencies added to my pom. From what I understand, I only really need the logback-classic dependency:\r\n\r\n```\r\n\t&lt;dependency&gt;\r\n\t    &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n\t    &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\r\n\t    &lt;version&gt;1.5.10&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n\t&lt;dependency&gt;\r\n\t    &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n\t    &lt;artifactId&gt;slf4j-simple&lt;/artifactId&gt;\r\n\t    &lt;version&gt;1.5.10&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\t&lt;dependency&gt;\r\n\t    &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\r\n\t    &lt;artifactId&gt;logback-classic&lt;/artifactId&gt;\r\n\t    &lt;version&gt;1.3.5&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n```\r\n\r\n\r\nThoughts as to what might be causing grief here?\r\n\r\n\r\nSo far, I&#39;ve double checked to ensure that the logback and slf4j classes were being loaded in my classloader. I&#39;ve checked to ensure log4j was not. prefer-application-packages has been added to weblogic-xml to point to slf4j.\r\n\r\nAgain -- my understanding is that at worst I should at least be seeing output go to the console if the configuration file is found. Previous Log4j implementation was working fine (standalone, no slf4j -- not sure if that might be something to try). ","title":"Logback is not writing to console under Weblogic 12c","body":"<p>Trying to get logback working in my application -- I have a resource adapter and an MDB deployed under Weblogic. I've swapped the application from using log4j to logback/slf4j.</p>\n<p>Configuration files are placed under /src/main/resources (though I have also placed them under the root of the java class folder - no luck)</p>\n<p>There is no indication of the logback.xml file being found. Even if it's not found though, I would have expected the logs to appear in the console. I'm not seeing anything.</p>\n<p>My logback.xml is as follows:</p>\n<pre><code>&lt;configuration debug=&quot;true&quot;&gt;\n\n  &lt;appender name=&quot;STDOUT&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\n    &lt;encoder&gt;\n      &lt;pattern&gt;%d{yyyy-MM-dd HH:mm:ss} %-5p %c{1}:%L - %m%n&lt;/pattern&gt;\n    &lt;/encoder&gt;\n  &lt;/appender&gt;\n\n  &lt;appender name=&quot;KafkaRALogFile&quot; class=&quot;ch.qos.logback.core.rolling.RollingFileAppender&quot;&gt;\n    &lt;file&gt;/data/apps/applications/jmsDomain/kafkaresourceadapter/logs/resourceadapter.log&lt;/file&gt;\n    &lt;rollingPolicy class=&quot;ch.qos.logback.core.rolling.TimeBasedRollingPolicy&quot;&gt;\n      &lt;fileNamePattern&gt;/data/apps/applications/jmsDomain/kafkaresourceadapter/logs/resourceadapter-%d{yyy-MM-dd}.%i.log&lt;/fileNamePattern&gt;\n      &lt;maxHistory&gt;5&lt;/maxHistory&gt;\n      &lt;totalSizeCap&gt;20MB&lt;/totalSizeCap&gt;\n    &lt;/rollingPolicy&gt;\n    &lt;triggeringPolicy class=&quot;ch.qos.logback.core.rolling.SizeBasedTriggeringPolicy&quot;&gt;\n        &lt;maxFileSize&gt;5MB&lt;/maxFileSize&gt;\n    &lt;/triggeringPolicy&gt;\n    &lt;encoder&gt;\n      &lt;pattern&gt;%d{yyyy-MM-dd HH:mm:ss} %-5p %c{1}:%L - %m%n&lt;/pattern&gt;\n    &lt;/encoder&gt;\n  &lt;/appender&gt;\n  \n  &lt;logger name=&quot;ca.bellaliant.kafkaresourceadapter&quot; level=&quot;DEBUG&quot; additivity=&quot;false&quot;&gt;\n      &lt;appender-ref ref=&quot;STDOUT&quot; /&gt;\n      &lt;appender-ref ref=&quot;KafkaRALogFile&quot; /&gt;\n  &lt;/logger&gt;\n  \n  &lt;!-- By default, the level of the root level is set to DEBUG --&gt;\n  &lt;root level=&quot;DEBUG&quot;&gt;\n      &lt;appender-ref ref=&quot;STDOUT&quot; /&gt;\n  &lt;/root&gt;\n\n&lt;/configuration&gt;\n\n</code></pre>\n<p>Here are the relevant snippets of code. Note that the System.out is getting executed and I am seeing that line of text in my sysout:</p>\n<pre><code>importing the correct class files:\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\n\npublic class SomeAdapter implements ResourceAdapter\n{\n   private static final Logger logger = LoggerFactory.getLogger(SomeAdapter.class);\n   private WorkManager workManager;\n   private final Map&lt;EndpointKey, KafkaWorker&gt; registeredWorkers;\n\n   public KafkaResourceAdapter() {\n       registeredWorkers = new ConcurrentHashMap&lt;&gt;();\n   }\n\n   public void start( BootstrapContext bsCtx )\n   {\n      logger.debug(&quot;Some statement to log.&quot;);\n      System.out.println(&quot;***Something to go to the stdout.&quot;);\n          workManager = bsCtx.getWorkManager();\n          running = true;\n   }\n</code></pre>\n<p>....</p>\n<p>I have the following in dependencies added to my pom. From what I understand, I only really need the logback-classic dependency:</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n        &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\n        &lt;version&gt;1.5.10&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n        &lt;artifactId&gt;slf4j-simple&lt;/artifactId&gt;\n        &lt;version&gt;1.5.10&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\n        &lt;artifactId&gt;logback-classic&lt;/artifactId&gt;\n        &lt;version&gt;1.3.5&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>Thoughts as to what might be causing grief here?</p>\n<p>So far, I've double checked to ensure that the logback and slf4j classes were being loaded in my classloader. I've checked to ensure log4j was not. prefer-application-packages has been added to weblogic-xml to point to slf4j.</p>\n<p>Again -- my understanding is that at worst I should at least be seeing output go to the console if the configuration file is found. Previous Log4j implementation was working fine (standalone, no slf4j -- not sure if that might be something to try).</p>\n"},{"tags":["java","compression","lz4"],"owner":{"account_id":709632,"reputation":1021,"user_id":620054,"accept_rate":70,"display_name":"Michael K"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":196,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681158012,"creation_date":1681158012,"question_id":75980423,"body_markdown":"I&#39;m taking on a project to decompress data that is compressed with LZ4, but is also no longer in proper files in the file system. I mean for example I have a full disk image, and a large portion of that has LZ4-compressed data. I just found the open source Java implementation of LZ4 compressor/decompressor (by jpountz/Adrien Grand), [LZ4 Java](https://github.com/lz4/lz4-java). I would like to use that, or modify if possible, to build a Java tool for these purposes. \r\n\r\nRight now I see in an example-\r\nhttps://github.com/lz4/lz4-java/blob/master/src/test/net/jpountz/example/LZ4Example.java\r\n\r\nIt looks rather simple to compress and decompress. For decompressing, a person must know either uncompressed or compressed data length. \r\n\r\nI think I won&#39;t know the length of files contained in the compressed data. And I also won&#39;t know the beginning and end of files within the image file. But as an experiment, I have cropped smaller chunks of data out of that image and used [7-Zip ZS](https://github.com/mcmilk/7-Zip-zstd) (supports LZ4) to extract proper files (like an XML file that is complete and correct). But that only retrieved one or two files at a time.\r\n\r\nI have data processing experience, but haven&#39;t worked with LZ4 compression before (or really any compression in a programming project). Does anyone have idea for how I should go about this? For someone knowledgeable on LZ4 Java, does this seem feasible?\r\n\r\nAlso, I wonder how did 7-Zip extract/decompress perfect files? It must know where the file started and ended. Here I have some reading on the [&quot;LZ4 Block Format Description&quot;](https://github.com/lz4/lz4/blob/dev/doc/lz4_Block_format.md). But any additional insight is appreciated.\r\n\r\nKeep in mind this project is not meant to extract everything perfectly. Some is better than none. Thanks for any input.","title":"Rough LZ4 decompression of raw data with LZ4 Java","body":"<p>I'm taking on a project to decompress data that is compressed with LZ4, but is also no longer in proper files in the file system. I mean for example I have a full disk image, and a large portion of that has LZ4-compressed data. I just found the open source Java implementation of LZ4 compressor/decompressor (by jpountz/Adrien Grand), <a href=\"https://github.com/lz4/lz4-java\" rel=\"nofollow noreferrer\">LZ4 Java</a>. I would like to use that, or modify if possible, to build a Java tool for these purposes.</p>\n<p>Right now I see in an example-\n<a href=\"https://github.com/lz4/lz4-java/blob/master/src/test/net/jpountz/example/LZ4Example.java\" rel=\"nofollow noreferrer\">https://github.com/lz4/lz4-java/blob/master/src/test/net/jpountz/example/LZ4Example.java</a></p>\n<p>It looks rather simple to compress and decompress. For decompressing, a person must know either uncompressed or compressed data length.</p>\n<p>I think I won't know the length of files contained in the compressed data. And I also won't know the beginning and end of files within the image file. But as an experiment, I have cropped smaller chunks of data out of that image and used <a href=\"https://github.com/mcmilk/7-Zip-zstd\" rel=\"nofollow noreferrer\">7-Zip ZS</a> (supports LZ4) to extract proper files (like an XML file that is complete and correct). But that only retrieved one or two files at a time.</p>\n<p>I have data processing experience, but haven't worked with LZ4 compression before (or really any compression in a programming project). Does anyone have idea for how I should go about this? For someone knowledgeable on LZ4 Java, does this seem feasible?</p>\n<p>Also, I wonder how did 7-Zip extract/decompress perfect files? It must know where the file started and ended. Here I have some reading on the <a href=\"https://github.com/lz4/lz4/blob/dev/doc/lz4_Block_format.md\" rel=\"nofollow noreferrer\">&quot;LZ4 Block Format Description&quot;</a>. But any additional insight is appreciated.</p>\n<p>Keep in mind this project is not meant to extract everything perfectly. Some is better than none. Thanks for any input.</p>\n"},{"tags":["java","spring","spring-boot","spring-data-jpa","spring-data"],"comments":[{"owner":{"account_id":1223835,"reputation":75848,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":0,"creation_date":1593097736,"post_id":62578345,"comment_id":110666608,"body_markdown":"(1) Avoid implementing `Serializable` unless you can explain in detail why you need it; it&#39;s not useful here. (2) I have no idea what `@EnableScan` is, but it almost certainly needs to be on a configuration class, not the repository itself. (3) `@Repository` is unnecessary for something that extends one of the Spring Data `Repository` interfaces. (4) Since your repository is required for your service to operate, use constructor injection. (Use setter injection for optional dependencies; the typical example is `Clock` where the system clock is the default.)","body":"(1) Avoid implementing <code>Serializable</code> unless you can explain in detail why you need it; it&#39;s not useful here. (2) I have no idea what <code>@EnableScan</code> is, but it almost certainly needs to be on a configuration class, not the repository itself. (3) <code>@Repository</code> is unnecessary for something that extends one of the Spring Data <code>Repository</code> interfaces. (4) Since your repository is required for your service to operate, use constructor injection. (Use setter injection for optional dependencies; the typical example is <code>Clock</code> where the system clock is the default.)"},{"owner":{"account_id":3849657,"reputation":389,"user_id":3190140,"accept_rate":38,"display_name":"KerenSi"},"score":0,"creation_date":1593101911,"post_id":62578345,"comment_id":110668936,"body_markdown":"@chrylis-cautiouslyoptimistic- I added a constructor in ```DataRecordServiceImpl``` that accepts ```DataRecordDBItemRepository```. It didn&#39;t solve the issue","body":"@chrylis-cautiouslyoptimistic- I added a constructor in <code>DataRecordServiceImpl</code> that accepts <code>DataRecordDBItemRepository</code>. It didn&#39;t solve the issue"},{"owner":{"account_id":14976189,"reputation":439,"user_id":10811580,"display_name":"Govind"},"score":0,"creation_date":1593144557,"post_id":62578345,"comment_id":110682893,"body_markdown":"DataRecordServiceImpl.java, `private DataRecordDBItemRepository dataRecordDBItemRepository;` your setter method should match with the instance variable name i.e., setDataRecordDBItemRepository. Please correct the same and it should work, @KerenSi","body":"DataRecordServiceImpl.java, <code>private DataRecordDBItemRepository dataRecordDBItemRepository;</code> your setter method should match with the instance variable name i.e., setDataRecordDBItemRepository. Please correct the same and it should work, @KerenSi"},{"owner":{"account_id":16125832,"reputation":498,"user_id":11640603,"display_name":"Amit Mishra"},"score":0,"creation_date":1593345905,"post_id":62578345,"comment_id":110742083,"body_markdown":"Remove @EnableScan from DataRecordDBItemRepository and in your MainSpringBootApplication class define a bean this \n\n&#39;@Bean\npublic void getBean(){\n     return new DataRecordDBItemRepository();\n}&#39;\n\nit should resolve the issue Or you can add the package of DataRecordDBItemRepository in **@EnableComponentScan basePackages attribute**","body":"Remove @EnableScan from DataRecordDBItemRepository and in your MainSpringBootApplication class define a bean this   &#39;@Bean public void getBean(){      return new DataRecordDBItemRepository(); }&#39;  it should resolve the issue Or you can add the package of DataRecordDBItemRepository in <b>@EnableComponentScan basePackages attribute</b>"},{"owner":{"account_id":3849657,"reputation":389,"user_id":3190140,"accept_rate":38,"display_name":"KerenSi"},"score":0,"creation_date":1593372261,"post_id":62578345,"comment_id":110751167,"body_markdown":"@MindFlayerA Adding ```@Bean``` didn&#39;t help as the repository is an interface. I added the ```@EnableScan``` of DynamoDB and I also added the repository&#39;s package to ```@ComponentScan```. It didn&#39;t solve the issue.","body":"@MindFlayerA Adding <code>@Bean</code> didn&#39;t help as the repository is an interface. I added the <code>@EnableScan</code> of DynamoDB and I also added the repository&#39;s package to <code>@ComponentScan</code>. It didn&#39;t solve the issue."},{"owner":{"account_id":16125832,"reputation":498,"user_id":11640603,"display_name":"Amit Mishra"},"score":0,"creation_date":1593435935,"post_id":62578345,"comment_id":110772215,"body_markdown":"I understand and I didn&#39;t notice that it&#39;s your main service Layer. Please try constructor injection instead of setter injection and if you don&#39;t mind, can I have a look of git repo for this code?","body":"I understand and I didn&#39;t notice that it&#39;s your main service Layer. Please try constructor injection instead of setter injection and if you don&#39;t mind, can I have a look of git repo for this code?"},{"owner":{"account_id":3849657,"reputation":389,"user_id":3190140,"accept_rate":38,"display_name":"KerenSi"},"score":0,"creation_date":1593516456,"post_id":62578345,"comment_id":110803075,"body_markdown":"@AmitMishra I tried it, didn&#39;t work. Not possible to look at the Git repo as it is a confidential one, belongs to my workplace in private git).","body":"@AmitMishra I tried it, didn&#39;t work. Not possible to look at the Git repo as it is a confidential one, belongs to my workplace in private git)."}],"answers":[{"tags":[],"owner":{"account_id":14976189,"reputation":439,"user_id":10811580,"display_name":"Govind"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1593345841,"creation_date":1593197144,"answer_id":62601059,"question_id":62578345,"body_markdown":"For setter injection to work, the setter method needs to follow Java bean conventions i.e., there should be setter method called **set&lt;PropertyName&gt;**, here it should be **setDataRecordDBItemRepository**. Corrected the code and please have a try?\n\n    package com.company.app.service;\n    \n    import com.company.app.entities.DataRecordDbItem;\n    import com.company.app.repositories.DataRecordDBItemRepository;\n    import org.springframework.beans.factory.annotation.Autowired;\n    import org.springframework.stereotype.Component;\n    import java.util.List;\n    \n    @Component\n    public class DataRecordServiceImpl implements DataRecordService {\n    \n        private DataRecordDBItemRepository dataRecordDBItemRepository;\n    \n        @Autowired\n        public void setDataRecordDBItemRepository(DataRecordDBItemRepository dataRecordDBItemRepo){\n            this.dataRecordDBItemRepository = dataRecordDBItemRepo;\n        }\n    \n        @Override\n        public List&lt;DataRecordDbItem&gt; retrieveDataRecord(String tid) {\n            List&lt;DataRecordDbItem&gt; dataRecordDbItems = dataRecordDBItemRepository.findDataRecordDbItemsByTid(tid);\n            return dataRecordDbItems;\n        }\n    }","title":"Failed to Autowire @Repository annotated interface after upgrading Spring Boot","body":"<p>For setter injection to work, the setter method needs to follow Java bean conventions i.e., there should be setter method called <strong>set</strong>, here it should be <strong>setDataRecordDBItemRepository</strong>. Corrected the code and please have a try?</p>\n<pre><code>package com.company.app.service;\n\nimport com.company.app.entities.DataRecordDbItem;\nimport com.company.app.repositories.DataRecordDBItemRepository;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Component;\nimport java.util.List;\n\n@Component\npublic class DataRecordServiceImpl implements DataRecordService {\n\n    private DataRecordDBItemRepository dataRecordDBItemRepository;\n\n    @Autowired\n    public void setDataRecordDBItemRepository(DataRecordDBItemRepository dataRecordDBItemRepo){\n        this.dataRecordDBItemRepository = dataRecordDBItemRepo;\n    }\n\n    @Override\n    public List&lt;DataRecordDbItem&gt; retrieveDataRecord(String tid) {\n        List&lt;DataRecordDbItem&gt; dataRecordDbItems = dataRecordDBItemRepository.findDataRecordDbItemsByTid(tid);\n        return dataRecordDbItems;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3849657,"reputation":389,"user_id":3190140,"accept_rate":38,"display_name":"KerenSi"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1594717562,"creation_date":1594717562,"answer_id":62891634,"question_id":62578345,"body_markdown":"One of the pom.xml upgrades were\r\n\r\n`io.github.boostchicken:spring-data-dynamodb` version 5.2.5\r\nwhich replaced `com.github.derjust:spring-data-dynamodb` version 5.0.4\r\n\r\nI had another dependency that also imported the `com.github.derjust`. \r\n\r\nThe impact was that I actually had dependencies to both `io.github.boostchicken` and `com.github.derjust`. Spring didn&#39;t know which lib to use for the required `@Bean`.\r\n\r\nExcluding the `com.github.derjust` lib from the other dependency solved the issue. ","title":"Failed to Autowire @Repository annotated interface after upgrading Spring Boot","body":"<p>One of the pom.xml upgrades were</p>\n<p><code>io.github.boostchicken:spring-data-dynamodb</code> version 5.2.5\nwhich replaced <code>com.github.derjust:spring-data-dynamodb</code> version 5.0.4</p>\n<p>I had another dependency that also imported the <code>com.github.derjust</code>.</p>\n<p>The impact was that I actually had dependencies to both <code>io.github.boostchicken</code> and <code>com.github.derjust</code>. Spring didn't know which lib to use for the required <code>@Bean</code>.</p>\n<p>Excluding the <code>com.github.derjust</code> lib from the other dependency solved the issue.</p>\n"}],"owner":{"account_id":3849657,"reputation":389,"user_id":3190140,"accept_rate":38,"display_name":"KerenSi"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1095,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":62891634,"answer_count":2,"score":0,"last_activity_date":1681157908,"creation_date":1593097121,"question_id":62578345,"body_markdown":"The below implementation is working with SpringBoot version 2.0.2.RELEASE.\r\nAfter some dependencies upgrade the code fails to autowire `DataRecordDBItemRepository`. \r\n\r\nThe upgrades were:\r\n\r\n    spring-boot-dependencies 2.2.6.RELEASE\r\n    io.github.boostchicken:spring-data-dynamodb 5.2.5 (instead of com.github.derjust)\r\n    aws-java-sdk 1.11.807\r\n    jsk-bom 2.8.0\r\n\r\nI also tried to add `@Entity` annotation but then I received multiple other errors. \r\n\r\nAs this implementation is working with older Spring version, I would like to understand why the upgrade in SpringBoot triggered the failure. \r\n\r\n\r\nThe class MyApplication.java looks like this:\r\n\r\n    package com.company.app;\r\n    \r\n    import org.springframework.boot.SpringApplication;\r\n    import org.springframework.boot.autoconfigure.SpringBootApplication;\r\n    import org.springframework.boot.autoconfigure.domain.EntityScan;\r\n    import org.springframework.context.annotation.ComponentScan;\r\n    import org.springframework.data.jpa.repository.config.EnableJpaRepositories;\r\n    \r\n    @SpringBootApplication(scanBasePackages = &quot;com.company.app&quot;, exclude = {RedisAutoConfiguration.class, ValidationAutoConfiguration.class, CassandraAutoConfiguration.class, DataSourceAutoConfiguration.class})\r\n    @ComponentScan(basePackages={&quot;com.company.app&quot;})\r\n    @EntityScan(basePackages={&quot;com.company.app.entities&quot;})\r\n    @EnableJpaRepositories(basePackages={&quot;com.company.app.repositories&quot;})\r\n    public class MyApplication {\r\n    \r\n        public static void main(String[] args) {\r\n            try {\r\n                SpringApplication.run(MyApplication.class, args);\r\n            } catch (Exception e) {\r\n                System.out.println(e);\r\n            }\r\n        }\r\n    }\r\n\r\nThe class DataRecordController.java looks like this:\r\n\r\n    package com.company.app.controller;\r\n    \r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.web.bind.annotation.*;\r\n    import javax.validation.constraints.NotBlank;\r\n    \r\n    @RestController\r\n    @RequestMapping(&quot;/v1/dataRecord&quot;)\r\n    public class DataRecordController {\r\n    \r\n        private DataRecordService dataRecordService;\r\n    \r\n        @Autowired\r\n        public void setDataRecordService(DataRecordService dataRecordService){\r\n            this.dataRecordService = dataRecordService;\r\n        }\r\n    \r\n        @RequestMapping(value = &quot;/{tid}&quot;, method = RequestMethod.GET)\r\n        public List&lt;DataRecordDbItem&gt; retrieveDataRecord(final @NotBlank @PathVariable String tid){\r\n    \r\n            List&lt;DataRecordDbItem&gt; dataRecordDbItems = dataRecordService.retrieveDataRecord(tid);\r\n    \r\n            return dataRecordDbItems;\r\n        }\r\n    }\r\n\r\nThe interface DataRecordService.java looks like this:\r\n\r\n    package com.company.app.service;\r\n    \r\n    import com.company.app.entities.DataRecordDbItem;\r\n    import java.util.List;\r\n    \r\n    public interface DataRecordService {\r\n        List&lt;DataRecordDbItem&gt; retrieveDataRecord(String tid);\r\n    }\r\n\r\nThe class DataRecordServiceImpl.java looks like this:\r\n\r\n    package com.company.app.service;\r\n    \r\n    import com.company.app.entities.DataRecordDbItem;\r\n    import com.company.app.repositories.DataRecordDBItemRepository;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.stereotype.Service;\r\n    import java.util.List;\r\n    \r\n    @Service\r\n    public class DataRecordServiceImpl implements DataRecordService {\r\n    \r\n        private DataRecordDBItemRepository dataRecordDBItemRepository;\r\n    \r\n        @Autowired\r\n        public void setDataRecordDBItemRepo(DataRecordDBItemRepository dataRecordDBItemRepo){\r\n            this.dataRecordDBItemRepository = dataRecordDBItemRepo;\r\n        }\r\n    \r\n        @Override\r\n        public List&lt;DataRecordDbItem&gt; retrieveDataRecord(String tid) {\r\n            List&lt;DataRecordDbItem&gt; dataRecordDbItems = dataRecordDBItemRepository.findDataRecordDbItemsByTid(tid);\r\n            return dataRecordDbItems;\r\n        }\r\n    }\r\n\r\nThe repository DataRecordDBItemRepository.java looks like this:\r\n\r\n    package com.company.app.repositories;\r\n    \r\n    import com.company.app.entities.DataRecordDbItem;\r\n    import com.company.app.entities.DataRecordId;\r\n    import org.socialsignin.spring.data.dynamodb.repository.EnableScan;\r\n    import org.springframework.data.repository.CrudRepository;\r\n    import org.springframework.stereotype.Repository;\r\n    import java.util.List;\r\n    \r\n    @EnableScan\r\n    @Repository\r\n    public interface DataRecordDBItemRepository extends CrudRepository&lt;DataRecordDbItem, DataRecordId&gt; {\r\n    \r\n        List&lt;DataRecordDbItem&gt; findDataRecordDbItemsByTid(String tid);\r\n    }\r\n\r\nThe Entity DataRecordDbItem.java looks like this:\r\n\r\n    package com.company.app.entities;\r\n    \r\n    import com.amazonaws.services.dynamodbv2.datamodeling.*;\r\n    import org.springframework.data.annotation.Id;\r\n    import java.io.Serializable;\r\n    \r\n    @DynamoDBTable(tableName = &quot;DataRecord&quot;)\r\n    public class DataRecordDbItem  implements Serializable {\r\n    \r\n        @Id\r\n        private DataRecordId dataRecordId;\r\n        private String originalRequestTime;\r\n        private String tid;\r\n    \r\n        @DynamoDBRangeKey(attributeName = &quot;originalRequestTime&quot;)\r\n        public String getOriginalRequestTime() { return originalRequestTime; }\r\n    \r\n        public void setOriginalRequestTime(String originalRequestTime) {\r\n            this.originalRequestTime = originalRequestTime;\r\n            if (dataRecordId == null) {\r\n                dataRecordId = new DataRecordId();\r\n            }\r\n            dataRecordId.setOriginalRequestTime(originalRequestTime);\r\n        }\r\n    \r\n        @DynamoDBHashKey\r\n        public String getTid() { return tid; }\r\n    \r\n        public void setTid(String tid) {\r\n            this.tid = tid;\r\n            if (dataRecordId == null) {\r\n                dataRecordId = new DataRecordId();\r\n            }\r\n            dataRecordId.setTid(tid);\r\n        }\r\n     \r\n    }\r\n\r\nThe Entity DataRecordId.java looks like this:\r\n\r\n    package com.company.app.entities;\r\n    \r\n    import com.amazonaws.services.dynamodbv2.datamodeling.*;\r\n    import java.io.Serializable;\r\n    \r\n    public class DataRecordId implements Serializable {\r\n    \r\n        private static final long serialVersionUID = 1L;\r\n        private String tid;\r\n        private String originalRequestTime;\r\n    \r\n        @DynamoDBRangeKey\r\n        public String getOriginalRequestTime() {\r\n            return originalRequestTime;\r\n        }\r\n    \r\n        public void setOriginalRequestTime(String originalRequestTime) {\r\n            this.originalRequestTime = originalRequestTime;\r\n        }\r\n    \r\n        @DynamoDBHashKey\r\n        public String getTid() {\r\n            return tid;\r\n        }\r\n    \r\n        public void setTid(String tid) {\r\n            this.tid = tid;\r\n        }\r\n    }\r\n\r\nThe exception is:\r\n\r\n    {&quot;level&quot;:&quot;ERROR&quot;,&quot;thread&quot;:&quot;main&quot;,&quot;msg&quot;:&quot;&quot;\r\n    ***************************\r\n    APPLICATION FAILED TO START\r\n    ***************************\r\n    \r\n    Description:\r\n    \r\n    Field dataRecordDBItemRepository in com.company.app.service.DataRecordServiceImpl required a bean of type &#39;com.company.app.repositories.DataRecordDBItemRepository&#39; that could not be found.\r\n        \r\n    Action:\r\n    \r\n    Consider defining a bean of type &#39;com.company.app.repositories.DataRecordDBItemRepository&#39; in your configuration.\r\n    &quot;}\r\n    org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;dataRecordController&#39;: Unsatisfied dependency expressed through method &#39;setDataRecordService&#39; parameter 0; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;dataRecordServiceImpl&#39;: Unsatisfied dependency expressed through field &#39;dataRecordDBItemRepository&#39;; nested exception is \r\n\r\n    org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type &#39;com.company.app.repositories.DataRecordDBItemRepository&#39; available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}\r\n    org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;dataRecordController&#39;: Unsatisfied dependency expressed through method &#39;setDataRecordService&#39; parameter 0; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;dataRecordServiceImpl&#39; defined in file [/Users/myuser/workspace /app/target/classes/com/company/app/service/DataRecordServiceImpl.class]: Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type &#39;com.company.app.repositories.sDataRecordDBItemRepository&#39; available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}\r\n    \tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredMethodElement.inject(AutowiredAnnotationBeanPostProcessor.java:723)\r\n    \tat org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:130)\r\n    \tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:399)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1422)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:594)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:517)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:323)\r\n    \tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:321)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:882)\r\n    \tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:878)\r\n    \tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:550)\r\n    \tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:141)\r\n    \tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:747)\r\n    \tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397)\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:315)\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1226)\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1215)\r\n    \tat com.company.app.MyApplication.main(MyApplication.java:89)\r\n    Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;dataRecordServiceImpl&#39; defined in file [/Users/myuser/workspace /app/target/classes/com/company/app/service/DataRecordServiceImpl.class]: Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type &#39;com.company.app.repositories.DataRecordDBItemRepository&#39; available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}\r\n    \tat org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:798)\r\n    \tat org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:228)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1358)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1204)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:557)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:517)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:323)\r\n    \tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:321)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)\r\n    \tat org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276)\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1290)\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1210)\r\n    \tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredMethodElement.inject(AutowiredAnnotationBeanPostProcessor.java:715)\r\n    \t... 19 more\r\n    Caused by: org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type &#39;com. company.app.repositories.DataRecordDBItemRepository&#39; available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.raiseNoMatchingBeanFound(DefaultListableBeanFactory.java:1700)\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1256)\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1210)\r\n    \tat org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:885)\r\n    \tat org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:789)\r\n    \t... 32 more\r\n    \r\n        \r\n    Process finished with exit code 0\r\n\r\n","title":"Failed to Autowire @Repository annotated interface after upgrading Spring Boot","body":"<p>The below implementation is working with SpringBoot version 2.0.2.RELEASE.\nAfter some dependencies upgrade the code fails to autowire <code>DataRecordDBItemRepository</code>.</p>\n<p>The upgrades were:</p>\n<pre><code>spring-boot-dependencies 2.2.6.RELEASE\nio.github.boostchicken:spring-data-dynamodb 5.2.5 (instead of com.github.derjust)\naws-java-sdk 1.11.807\njsk-bom 2.8.0\n</code></pre>\n<p>I also tried to add <code>@Entity</code> annotation but then I received multiple other errors.</p>\n<p>As this implementation is working with older Spring version, I would like to understand why the upgrade in SpringBoot triggered the failure.</p>\n<p>The class MyApplication.java looks like this:</p>\n<pre><code>package com.company.app;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.boot.autoconfigure.domain.EntityScan;\nimport org.springframework.context.annotation.ComponentScan;\nimport org.springframework.data.jpa.repository.config.EnableJpaRepositories;\n\n@SpringBootApplication(scanBasePackages = &quot;com.company.app&quot;, exclude = {RedisAutoConfiguration.class, ValidationAutoConfiguration.class, CassandraAutoConfiguration.class, DataSourceAutoConfiguration.class})\n@ComponentScan(basePackages={&quot;com.company.app&quot;})\n@EntityScan(basePackages={&quot;com.company.app.entities&quot;})\n@EnableJpaRepositories(basePackages={&quot;com.company.app.repositories&quot;})\npublic class MyApplication {\n\n    public static void main(String[] args) {\n        try {\n            SpringApplication.run(MyApplication.class, args);\n        } catch (Exception e) {\n            System.out.println(e);\n        }\n    }\n}\n</code></pre>\n<p>The class DataRecordController.java looks like this:</p>\n<pre><code>package com.company.app.controller;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.web.bind.annotation.*;\nimport javax.validation.constraints.NotBlank;\n\n@RestController\n@RequestMapping(&quot;/v1/dataRecord&quot;)\npublic class DataRecordController {\n\n    private DataRecordService dataRecordService;\n\n    @Autowired\n    public void setDataRecordService(DataRecordService dataRecordService){\n        this.dataRecordService = dataRecordService;\n    }\n\n    @RequestMapping(value = &quot;/{tid}&quot;, method = RequestMethod.GET)\n    public List&lt;DataRecordDbItem&gt; retrieveDataRecord(final @NotBlank @PathVariable String tid){\n\n        List&lt;DataRecordDbItem&gt; dataRecordDbItems = dataRecordService.retrieveDataRecord(tid);\n\n        return dataRecordDbItems;\n    }\n}\n</code></pre>\n<p>The interface DataRecordService.java looks like this:</p>\n<pre><code>package com.company.app.service;\n\nimport com.company.app.entities.DataRecordDbItem;\nimport java.util.List;\n\npublic interface DataRecordService {\n    List&lt;DataRecordDbItem&gt; retrieveDataRecord(String tid);\n}\n</code></pre>\n<p>The class DataRecordServiceImpl.java looks like this:</p>\n<pre><code>package com.company.app.service;\n\nimport com.company.app.entities.DataRecordDbItem;\nimport com.company.app.repositories.DataRecordDBItemRepository;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Service;\nimport java.util.List;\n\n@Service\npublic class DataRecordServiceImpl implements DataRecordService {\n\n    private DataRecordDBItemRepository dataRecordDBItemRepository;\n\n    @Autowired\n    public void setDataRecordDBItemRepo(DataRecordDBItemRepository dataRecordDBItemRepo){\n        this.dataRecordDBItemRepository = dataRecordDBItemRepo;\n    }\n\n    @Override\n    public List&lt;DataRecordDbItem&gt; retrieveDataRecord(String tid) {\n        List&lt;DataRecordDbItem&gt; dataRecordDbItems = dataRecordDBItemRepository.findDataRecordDbItemsByTid(tid);\n        return dataRecordDbItems;\n    }\n}\n</code></pre>\n<p>The repository DataRecordDBItemRepository.java looks like this:</p>\n<pre><code>package com.company.app.repositories;\n\nimport com.company.app.entities.DataRecordDbItem;\nimport com.company.app.entities.DataRecordId;\nimport org.socialsignin.spring.data.dynamodb.repository.EnableScan;\nimport org.springframework.data.repository.CrudRepository;\nimport org.springframework.stereotype.Repository;\nimport java.util.List;\n\n@EnableScan\n@Repository\npublic interface DataRecordDBItemRepository extends CrudRepository&lt;DataRecordDbItem, DataRecordId&gt; {\n\n    List&lt;DataRecordDbItem&gt; findDataRecordDbItemsByTid(String tid);\n}\n</code></pre>\n<p>The Entity DataRecordDbItem.java looks like this:</p>\n<pre><code>package com.company.app.entities;\n\nimport com.amazonaws.services.dynamodbv2.datamodeling.*;\nimport org.springframework.data.annotation.Id;\nimport java.io.Serializable;\n\n@DynamoDBTable(tableName = &quot;DataRecord&quot;)\npublic class DataRecordDbItem  implements Serializable {\n\n    @Id\n    private DataRecordId dataRecordId;\n    private String originalRequestTime;\n    private String tid;\n\n    @DynamoDBRangeKey(attributeName = &quot;originalRequestTime&quot;)\n    public String getOriginalRequestTime() { return originalRequestTime; }\n\n    public void setOriginalRequestTime(String originalRequestTime) {\n        this.originalRequestTime = originalRequestTime;\n        if (dataRecordId == null) {\n            dataRecordId = new DataRecordId();\n        }\n        dataRecordId.setOriginalRequestTime(originalRequestTime);\n    }\n\n    @DynamoDBHashKey\n    public String getTid() { return tid; }\n\n    public void setTid(String tid) {\n        this.tid = tid;\n        if (dataRecordId == null) {\n            dataRecordId = new DataRecordId();\n        }\n        dataRecordId.setTid(tid);\n    }\n \n}\n</code></pre>\n<p>The Entity DataRecordId.java looks like this:</p>\n<pre><code>package com.company.app.entities;\n\nimport com.amazonaws.services.dynamodbv2.datamodeling.*;\nimport java.io.Serializable;\n\npublic class DataRecordId implements Serializable {\n\n    private static final long serialVersionUID = 1L;\n    private String tid;\n    private String originalRequestTime;\n\n    @DynamoDBRangeKey\n    public String getOriginalRequestTime() {\n        return originalRequestTime;\n    }\n\n    public void setOriginalRequestTime(String originalRequestTime) {\n        this.originalRequestTime = originalRequestTime;\n    }\n\n    @DynamoDBHashKey\n    public String getTid() {\n        return tid;\n    }\n\n    public void setTid(String tid) {\n        this.tid = tid;\n    }\n}\n</code></pre>\n<p>The exception is:</p>\n<pre><code>{&quot;level&quot;:&quot;ERROR&quot;,&quot;thread&quot;:&quot;main&quot;,&quot;msg&quot;:&quot;&quot;\n***************************\nAPPLICATION FAILED TO START\n***************************\n\nDescription:\n\nField dataRecordDBItemRepository in com.company.app.service.DataRecordServiceImpl required a bean of type 'com.company.app.repositories.DataRecordDBItemRepository' that could not be found.\n    \nAction:\n\nConsider defining a bean of type 'com.company.app.repositories.DataRecordDBItemRepository' in your configuration.\n&quot;}\norg.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'dataRecordController': Unsatisfied dependency expressed through method 'setDataRecordService' parameter 0; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'dataRecordServiceImpl': Unsatisfied dependency expressed through field 'dataRecordDBItemRepository'; nested exception is \n\norg.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type 'com.company.app.repositories.DataRecordDBItemRepository' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}\norg.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'dataRecordController': Unsatisfied dependency expressed through method 'setDataRecordService' parameter 0; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'dataRecordServiceImpl' defined in file [/Users/myuser/workspace /app/target/classes/com/company/app/service/DataRecordServiceImpl.class]: Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type 'com.company.app.repositories.sDataRecordDBItemRepository' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredMethodElement.inject(AutowiredAnnotationBeanPostProcessor.java:723)\n    at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:130)\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:399)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1422)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:594)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:517)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:323)\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:321)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:882)\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:878)\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:550)\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:141)\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:747)\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:315)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1226)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1215)\n    at com.company.app.MyApplication.main(MyApplication.java:89)\nCaused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'dataRecordServiceImpl' defined in file [/Users/myuser/workspace /app/target/classes/com/company/app/service/DataRecordServiceImpl.class]: Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type 'com.company.app.repositories.DataRecordDBItemRepository' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}\n    at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:798)\n    at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:228)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1358)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1204)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:557)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:517)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:323)\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:321)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)\n    at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1290)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1210)\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredMethodElement.inject(AutowiredAnnotationBeanPostProcessor.java:715)\n    ... 19 more\nCaused by: org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type 'com. company.app.repositories.DataRecordDBItemRepository' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.raiseNoMatchingBeanFound(DefaultListableBeanFactory.java:1700)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1256)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1210)\n    at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:885)\n    at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:789)\n    ... 32 more\n\n    \nProcess finished with exit code 0\n</code></pre>\n"},{"tags":["java","logging","logback"],"answers":[{"tags":[],"owner":{"account_id":93007,"reputation":51990,"user_id":254643,"display_name":"Raghuram"},"down_vote_count":1,"up_vote_count":13,"is_accepted":false,"score":12,"last_activity_date":1285926405,"creation_date":1285926405,"answer_id":3838060,"question_id":3837801,"body_markdown":"I assume you are using logback (from the configuration file).\r\n\r\nFrom [logback manual][1], I see \r\n\r\n`Logger rootLogger = LoggerFactory.getLogger(org.slf4j.Logger.ROOT_LOGGER_NAME);`\r\n\r\nPerhaps this can help you change the value?\r\n\r\n  [1]: http://logback.qos.ch/manual/architecture.html","title":"How to change root logging level programmatically for logback","body":"<p>I assume you are using logback (from the configuration file).</p>\n\n<p>From <a href=\"http://logback.qos.ch/manual/architecture.html\" rel=\"noreferrer\">logback manual</a>, I see </p>\n\n<p><code>Logger rootLogger = LoggerFactory.getLogger(org.slf4j.Logger.ROOT_LOGGER_NAME);</code></p>\n\n<p>Perhaps this can help you change the value?</p>\n"},{"tags":[],"owner":{"account_id":4804,"reputation":268579,"user_id":7412,"accept_rate":96,"display_name":"dogbane"},"down_vote_count":6,"up_vote_count":294,"is_accepted":true,"score":288,"last_activity_date":1612469790,"creation_date":1285926754,"answer_id":3838108,"question_id":3837801,"body_markdown":"Try this:\r\n\r\n    import org.slf4j.LoggerFactory;\r\n    import ch.qos.logback.classic.Level;\r\n    import ch.qos.logback.classic.Logger;\r\n\r\n    Logger root = (Logger)LoggerFactory.getLogger(org.slf4j.Logger.ROOT_LOGGER_NAME);\r\n    root.setLevel(Level.INFO);\r\n\r\nNote that you can also tell logback to periodically scan your config file like this:\r\n\r\n    &lt;configuration scan=&quot;true&quot; scanPeriod=&quot;30 seconds&quot; &gt; \r\n      ...\r\n    &lt;/configuration&gt; ","title":"How to change root logging level programmatically for logback","body":"<p>Try this:</p>\n<pre><code>import org.slf4j.LoggerFactory;\nimport ch.qos.logback.classic.Level;\nimport ch.qos.logback.classic.Logger;\n\nLogger root = (Logger)LoggerFactory.getLogger(org.slf4j.Logger.ROOT_LOGGER_NAME);\nroot.setLevel(Level.INFO);\n</code></pre>\n<p>Note that you can also tell logback to periodically scan your config file like this:</p>\n<pre><code>&lt;configuration scan=&quot;true&quot; scanPeriod=&quot;30 seconds&quot; &gt; \n  ...\n&lt;/configuration&gt; \n</code></pre>\n"},{"tags":[],"owner":{"account_id":1309732,"reputation":4219,"user_id":1257986,"accept_rate":63,"display_name":"Simple-Solution"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1486977063,"creation_date":1440151992,"answer_id":32137815,"question_id":3837801,"body_markdown":"As pointed out by others, you simply create `mockAppender` and then create a `LoggingEvent` instance which essentially listens to the logging event registered/happens inside `mockAppender`. \r\n\r\nHere is how it looks like in test: \r\n    \r\n    import org.slf4j.LoggerFactory;\r\n    import ch.qos.logback.classic.Level;\r\n    import ch.qos.logback.classic.Logger;\r\n    import ch.qos.logback.classic.spi.ILoggingEvent;\r\n    import ch.qos.logback.classic.spi.LoggingEvent;\r\n    import ch.qos.logback.core.Appender;\r\n    \r\n    @RunWith(MockitoJUnitRunner.class)\r\n    public class TestLogEvent {\r\n\r\n    // your Logger\r\n    private Logger log = (Logger) LoggerFactory.getLogger(Logger.ROOT_LOGGER_NAME);\r\n\r\n    // here we mock the appender\r\n    @Mock\r\n    private Appender&lt;ILoggingEvent&gt; mockAppender;\r\n\r\n    // Captor is generic-ised with ch.qos.logback.classic.spi.LoggingEvent\r\n    @Captor\r\n    private ArgumentCaptor&lt;LoggingEvent&gt; captorLoggingEvent;\r\n    \r\n    /**\r\n     * set up the test, runs before each test\r\n     */\r\n    @Before\r\n    public void setUp() {\r\n        log.addAppender(mockAppender);\r\n    }\r\n\r\n    /**\r\n     * Always have this teardown otherwise we can stuff up our expectations. \r\n     * Besides, it&#39;s good coding practise\r\n     */\r\n    @After\r\n    public void teardown() {\r\n        log.detachAppender(mockAppender);\r\n    }\r\n\r\n    \r\n    // Assuming this is your method\r\n    public void yourMethod() {\r\n        log.info(&quot;hello world&quot;);\r\n    }\r\n    \r\n    @Test\r\n    public void testYourLoggingEvent() {\r\n       \r\n        //invoke your method\r\n        yourMethod();\r\n        \r\n        // now verify our logging interaction\r\n        // essentially appending the event to mockAppender\r\n        verify(mockAppender, times(1)).doAppend(captorLoggingEvent.capture());\r\n\r\n        // Having a generic captor means we don&#39;t need to cast\r\n        final LoggingEvent loggingEvent = captorLoggingEvent.getValue();\r\n\r\n        // verify that info log level is called\r\n        assertThat(loggingEvent.getLevel(), is(Level.INFO));\r\n        \r\n        // Check the message being logged is correct\r\n        assertThat(loggingEvent.getFormattedMessage(), containsString(&quot;hello world&quot;));\r\n    }\r\n    }","title":"How to change root logging level programmatically for logback","body":"<p>As pointed out by others, you simply create <code>mockAppender</code> and then create a <code>LoggingEvent</code> instance which essentially listens to the logging event registered/happens inside <code>mockAppender</code>. </p>\n\n<p>Here is how it looks like in test: </p>\n\n<pre><code>import org.slf4j.LoggerFactory;\nimport ch.qos.logback.classic.Level;\nimport ch.qos.logback.classic.Logger;\nimport ch.qos.logback.classic.spi.ILoggingEvent;\nimport ch.qos.logback.classic.spi.LoggingEvent;\nimport ch.qos.logback.core.Appender;\n\n@RunWith(MockitoJUnitRunner.class)\npublic class TestLogEvent {\n\n// your Logger\nprivate Logger log = (Logger) LoggerFactory.getLogger(Logger.ROOT_LOGGER_NAME);\n\n// here we mock the appender\n@Mock\nprivate Appender&lt;ILoggingEvent&gt; mockAppender;\n\n// Captor is generic-ised with ch.qos.logback.classic.spi.LoggingEvent\n@Captor\nprivate ArgumentCaptor&lt;LoggingEvent&gt; captorLoggingEvent;\n\n/**\n * set up the test, runs before each test\n */\n@Before\npublic void setUp() {\n    log.addAppender(mockAppender);\n}\n\n/**\n * Always have this teardown otherwise we can stuff up our expectations. \n * Besides, it's good coding practise\n */\n@After\npublic void teardown() {\n    log.detachAppender(mockAppender);\n}\n\n\n// Assuming this is your method\npublic void yourMethod() {\n    log.info(\"hello world\");\n}\n\n@Test\npublic void testYourLoggingEvent() {\n\n    //invoke your method\n    yourMethod();\n\n    // now verify our logging interaction\n    // essentially appending the event to mockAppender\n    verify(mockAppender, times(1)).doAppend(captorLoggingEvent.capture());\n\n    // Having a generic captor means we don't need to cast\n    final LoggingEvent loggingEvent = captorLoggingEvent.getValue();\n\n    // verify that info log level is called\n    assertThat(loggingEvent.getLevel(), is(Level.INFO));\n\n    // Check the message being logged is correct\n    assertThat(loggingEvent.getFormattedMessage(), containsString(\"hello world\"));\n}\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1284726,"reputation":1432,"user_id":1238044,"accept_rate":64,"display_name":"Todor Kolev"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1495034526,"creation_date":1450802087,"answer_id":34420424,"question_id":3837801,"body_markdown":"using logback 1.1.3 I had to do the following (Scala code):\r\n\r\n    import ch.qos.logback.classic.Logger\r\n    import org.slf4j.LoggerFactory    \r\n    ...\r\n    val root: Logger = LoggerFactory.getLogger(org.slf4j.Logger.ROOT_LOGGER_NAME).asInstanceOf[Logger]","title":"How to change root logging level programmatically for logback","body":"<p>using logback 1.1.3 I had to do the following (Scala code):</p>\n\n<pre><code>import ch.qos.logback.classic.Logger\nimport org.slf4j.LoggerFactory    \n...\nval root: Logger = LoggerFactory.getLogger(org.slf4j.Logger.ROOT_LOGGER_NAME).asInstanceOf[Logger]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4835964,"reputation":1710,"user_id":3902663,"accept_rate":78,"display_name":"SATO Yusuke"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1507822834,"creation_date":1507822834,"answer_id":46713719,"question_id":3837801,"body_markdown":"I think you can use MDC to change logging level programmatically. The code below is an example to change logging level on current thread. This approach does not create dependency to logback implementation (SLF4J API contains MDC).\r\n\r\n&lt;!-- language: lang-xml --&gt;\r\n\r\n    &lt;configuration&gt;\r\n      &lt;turboFilter class=&quot;ch.qos.logback.classic.turbo.DynamicThresholdFilter&quot;&gt;\r\n        &lt;Key&gt;LOG_LEVEL&lt;/Key&gt;\r\n        &lt;DefaultThreshold&gt;DEBUG&lt;/DefaultThreshold&gt;\r\n        &lt;MDCValueLevelPair&gt;\r\n          &lt;value&gt;TRACE&lt;/value&gt;\r\n          &lt;level&gt;TRACE&lt;/level&gt;\r\n        &lt;/MDCValueLevelPair&gt;\r\n        &lt;MDCValueLevelPair&gt;\r\n          &lt;value&gt;DEBUG&lt;/value&gt;\r\n          &lt;level&gt;DEBUG&lt;/level&gt;\r\n        &lt;/MDCValueLevelPair&gt;\r\n        &lt;MDCValueLevelPair&gt;\r\n          &lt;value&gt;INFO&lt;/value&gt;\r\n          &lt;level&gt;INFO&lt;/level&gt;\r\n        &lt;/MDCValueLevelPair&gt;\r\n        &lt;MDCValueLevelPair&gt;\r\n          &lt;value&gt;WARN&lt;/value&gt;\r\n          &lt;level&gt;WARN&lt;/level&gt;\r\n        &lt;/MDCValueLevelPair&gt;\r\n        &lt;MDCValueLevelPair&gt;\r\n          &lt;value&gt;ERROR&lt;/value&gt;\r\n          &lt;level&gt;ERROR&lt;/level&gt;\r\n        &lt;/MDCValueLevelPair&gt;\r\n      &lt;/turboFilter&gt;\r\n      ......\r\n    &lt;/configuration&gt;\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    MDC.put(&quot;LOG_LEVEL&quot;, &quot;INFO&quot;);\r\n","title":"How to change root logging level programmatically for logback","body":"<p>I think you can use MDC to change logging level programmatically. The code below is an example to change logging level on current thread. This approach does not create dependency to logback implementation (SLF4J API contains MDC).</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;configuration&gt;\n  &lt;turboFilter class=\"ch.qos.logback.classic.turbo.DynamicThresholdFilter\"&gt;\n    &lt;Key&gt;LOG_LEVEL&lt;/Key&gt;\n    &lt;DefaultThreshold&gt;DEBUG&lt;/DefaultThreshold&gt;\n    &lt;MDCValueLevelPair&gt;\n      &lt;value&gt;TRACE&lt;/value&gt;\n      &lt;level&gt;TRACE&lt;/level&gt;\n    &lt;/MDCValueLevelPair&gt;\n    &lt;MDCValueLevelPair&gt;\n      &lt;value&gt;DEBUG&lt;/value&gt;\n      &lt;level&gt;DEBUG&lt;/level&gt;\n    &lt;/MDCValueLevelPair&gt;\n    &lt;MDCValueLevelPair&gt;\n      &lt;value&gt;INFO&lt;/value&gt;\n      &lt;level&gt;INFO&lt;/level&gt;\n    &lt;/MDCValueLevelPair&gt;\n    &lt;MDCValueLevelPair&gt;\n      &lt;value&gt;WARN&lt;/value&gt;\n      &lt;level&gt;WARN&lt;/level&gt;\n    &lt;/MDCValueLevelPair&gt;\n    &lt;MDCValueLevelPair&gt;\n      &lt;value&gt;ERROR&lt;/value&gt;\n      &lt;level&gt;ERROR&lt;/level&gt;\n    &lt;/MDCValueLevelPair&gt;\n  &lt;/turboFilter&gt;\n  ......\n&lt;/configuration&gt;\n</code></pre>\n\n<pre class=\"lang-java prettyprint-override\"><code>MDC.put(\"LOG_LEVEL\", \"INFO\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1041926,"reputation":26177,"user_id":1047788,"accept_rate":81,"display_name":"user7610"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1525433886,"creation_date":1525430622,"answer_id":50173052,"question_id":3837801,"body_markdown":"I seem to be having success doing\r\n\r\n    org.jboss.logmanager.Logger logger = org.jboss.logmanager.Logger.getLogger(&quot;&quot;);\r\n    logger.setLevel(java.util.logging.Level.ALL);\r\n\r\nThen to get detailed logging from netty, the following has done it\r\n\r\n    org.slf4j.impl.SimpleLogger.setLevel(org.slf4j.impl.SimpleLogger.TRACE);","title":"How to change root logging level programmatically for logback","body":"<p>I seem to be having success doing</p>\n\n<pre><code>org.jboss.logmanager.Logger logger = org.jboss.logmanager.Logger.getLogger(\"\");\nlogger.setLevel(java.util.logging.Level.ALL);\n</code></pre>\n\n<p>Then to get detailed logging from netty, the following has done it</p>\n\n<pre><code>org.slf4j.impl.SimpleLogger.setLevel(org.slf4j.impl.SimpleLogger.TRACE);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4227800,"reputation":65,"user_id":3460927,"display_name":"alevilla86"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1598639566,"creation_date":1598639566,"answer_id":63639202,"question_id":3837801,"body_markdown":"Here&#39;s a controller\r\n\r\n    @RestController\r\n    @RequestMapping(&quot;/loggers&quot;)\r\n    public class LoggerConfigController {\r\n    \r\n    private final static org.slf4j.Logger LOGGER = LoggerFactory.getLogger(PetController.class);\r\n    \r\n    @GetMapping()\r\n    public List&lt;LoggerDto&gt; getAllLoggers() throws CoreException {\r\n        \r\n        LoggerContext loggerContext = (LoggerContext) LoggerFactory.getILoggerFactory();\r\n        \r\n        List&lt;Logger&gt; loggers = loggerContext.getLoggerList();\r\n        \r\n        List&lt;LoggerDto&gt; loggerDtos = new ArrayList&lt;&gt;();\r\n        \r\n        for (Logger logger : loggers) {\r\n            \r\n            if (Objects.isNull(logger.getLevel())) {\r\n                continue;\r\n            }\r\n            \r\n            LoggerDto dto = new LoggerDto(logger.getName(), logger.getLevel().levelStr);\r\n            loggerDtos.add(dto);\r\n        }\r\n        \r\n        if (LOGGER.isDebugEnabled()) {\r\n            LOGGER.debug(&quot;All loggers retrieved. Total of {} loggers found&quot;, loggerDtos.size());\r\n        }\r\n        \r\n        return loggerDtos;\r\n    }\r\n    \r\n    @PutMapping\r\n    public boolean updateLoggerLevel(\r\n            @RequestParam String name, \r\n            @RequestParam String level\r\n    )throws CoreException {\r\n        \r\n        LoggerContext loggerContext = (LoggerContext) LoggerFactory.getILoggerFactory();\r\n        \r\n        Logger logger = loggerContext.getLogger(name);\r\n        \r\n        if (Objects.nonNull(logger) &amp;&amp; StringUtils.isNotBlank(level)) {\r\n            \r\n            switch (level) {\r\n                case &quot;INFO&quot;:\r\n                    logger.setLevel(Level.INFO);\r\n                    LOGGER.info(&quot;Logger [{}] updated to [{}]&quot;, name, level);\r\n                    break;\r\n                    \r\n                case &quot;DEBUG&quot;:\r\n                    logger.setLevel(Level.DEBUG);\r\n                    LOGGER.info(&quot;Logger [{}] updated to [{}]&quot;, name, level);\r\n                    break;\r\n                    \r\n                case &quot;ALL&quot;:\r\n                    logger.setLevel(Level.ALL);\r\n                    LOGGER.info(&quot;Logger [{}] updated to [{}]&quot;, name, level);\r\n                    break;\r\n                    \r\n                case &quot;OFF&quot;:\r\n                default: \r\n                    logger.setLevel(Level.OFF);\r\n                    LOGGER.info(&quot;Logger [{}] updated to [{}]&quot;, name, level);\r\n            }\r\n        }\r\n        \r\n        return true;\r\n    }\r\n}","title":"How to change root logging level programmatically for logback","body":"<p>Here's a controller</p>\n<pre><code>@RestController\n@RequestMapping(&quot;/loggers&quot;)\npublic class LoggerConfigController {\n\nprivate final static org.slf4j.Logger LOGGER = LoggerFactory.getLogger(PetController.class);\n\n@GetMapping()\npublic List&lt;LoggerDto&gt; getAllLoggers() throws CoreException {\n    \n    LoggerContext loggerContext = (LoggerContext) LoggerFactory.getILoggerFactory();\n    \n    List&lt;Logger&gt; loggers = loggerContext.getLoggerList();\n    \n    List&lt;LoggerDto&gt; loggerDtos = new ArrayList&lt;&gt;();\n    \n    for (Logger logger : loggers) {\n        \n        if (Objects.isNull(logger.getLevel())) {\n            continue;\n        }\n        \n        LoggerDto dto = new LoggerDto(logger.getName(), logger.getLevel().levelStr);\n        loggerDtos.add(dto);\n    }\n    \n    if (LOGGER.isDebugEnabled()) {\n        LOGGER.debug(&quot;All loggers retrieved. Total of {} loggers found&quot;, loggerDtos.size());\n    }\n    \n    return loggerDtos;\n}\n\n@PutMapping\npublic boolean updateLoggerLevel(\n        @RequestParam String name, \n        @RequestParam String level\n)throws CoreException {\n    \n    LoggerContext loggerContext = (LoggerContext) LoggerFactory.getILoggerFactory();\n    \n    Logger logger = loggerContext.getLogger(name);\n    \n    if (Objects.nonNull(logger) &amp;&amp; StringUtils.isNotBlank(level)) {\n        \n        switch (level) {\n            case &quot;INFO&quot;:\n                logger.setLevel(Level.INFO);\n                LOGGER.info(&quot;Logger [{}] updated to [{}]&quot;, name, level);\n                break;\n                \n            case &quot;DEBUG&quot;:\n                logger.setLevel(Level.DEBUG);\n                LOGGER.info(&quot;Logger [{}] updated to [{}]&quot;, name, level);\n                break;\n                \n            case &quot;ALL&quot;:\n                logger.setLevel(Level.ALL);\n                LOGGER.info(&quot;Logger [{}] updated to [{}]&quot;, name, level);\n                break;\n                \n            case &quot;OFF&quot;:\n            default: \n                logger.setLevel(Level.OFF);\n                LOGGER.info(&quot;Logger [{}] updated to [{}]&quot;, name, level);\n        }\n    }\n    \n    return true;\n}\n</code></pre>\n<p>}</p>\n"},{"tags":[],"owner":{"account_id":7524109,"reputation":1090,"user_id":5715001,"display_name":"V&#225;clav Kužel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674995706,"creation_date":1674995706,"answer_id":75274934,"question_id":3837801,"body_markdown":"You may intercept logging configuration via the `LogManager.getLogManager().updateConfiguration()` method. Just check for configuration properties which contains `.level` suffix, and replace default value with `Level.ALL` value.\r\n\r\n```java\r\npublic class Application {\r\n\r\n    // Static initializer is executed when class is loaded by a class loader\r\n    static {\r\n        try {\r\n            java.util.logging.LogManager.getLogManager().updateConfiguration(propertyName -&gt; {\r\n                // Check for the log level property\r\n                if (propertyName.contains(&quot;.level&quot;)) {\r\n                    // Level = ALL =&gt; logs all messages\r\n                    return (oldValue, newValue) -&gt; java.util.logging.Level.ALL.getName();\r\n                } else {\r\n                    // Identity mapper for other propeties\r\n                    return (oldValue, newValue) -&gt; newValue;\r\n                }\r\n            });\r\n        } catch (IOException e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n    }\r\n```","title":"How to change root logging level programmatically for logback","body":"<p>You may intercept logging configuration via the <code>LogManager.getLogManager().updateConfiguration()</code> method. Just check for configuration properties which contains <code>.level</code> suffix, and replace default value with <code>Level.ALL</code> value.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Application {\n\n    // Static initializer is executed when class is loaded by a class loader\n    static {\n        try {\n            java.util.logging.LogManager.getLogManager().updateConfiguration(propertyName -&gt; {\n                // Check for the log level property\n                if (propertyName.contains(&quot;.level&quot;)) {\n                    // Level = ALL =&gt; logs all messages\n                    return (oldValue, newValue) -&gt; java.util.logging.Level.ALL.getName();\n                } else {\n                    // Identity mapper for other propeties\n                    return (oldValue, newValue) -&gt; newValue;\n                }\n            });\n        } catch (IOException e) {\n            throw new RuntimeException(e);\n        }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6442492,"reputation":335,"user_id":4992072,"display_name":"Rhineb"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1676149386,"creation_date":1676149386,"answer_id":75423281,"question_id":3837801,"body_markdown":"So I mostly agree with the top answer but found it to be slightly different in 2023. I found that the following works\r\n\r\n```\r\nimport org.slf4j.LoggerFactory;\r\nimport ch.qos.logback.classic.Level;\r\nimport ch.qos.logback.classic.Logger;\r\nimport ch.qos.logback.classic.LoggerContext;\r\n\r\nfinal LoggerContext loggerContext = (LoggerContext) LoggerFactory.getILoggerFactory();\r\nfinal Logger logger = loggerContext.exists(org.slf4j.Logger.ROOT_LOGGER_NAME); // give it your logger name\r\nfinal Level newLevel = Level.toLevel(&quot;ERROR&quot;, null); // give it your log level\r\nlogger.setLevel(newLevel);\r\n```\r\nThe primary difference of note is instead of `getLogger` I had to use `getILoggerFactory`. To see additional related posts to this see https://stackoverflow.com/questions/23434252/programmatically-change-log-level-in-log4j2/75423256#75423256 or if you want to be able to this per request see https://stackoverflow.com/questions/24158273/change-priority-level-in-log4j-per-request/75423208#75423208","title":"How to change root logging level programmatically for logback","body":"<p>So I mostly agree with the top answer but found it to be slightly different in 2023. I found that the following works</p>\n<pre><code>import org.slf4j.LoggerFactory;\nimport ch.qos.logback.classic.Level;\nimport ch.qos.logback.classic.Logger;\nimport ch.qos.logback.classic.LoggerContext;\n\nfinal LoggerContext loggerContext = (LoggerContext) LoggerFactory.getILoggerFactory();\nfinal Logger logger = loggerContext.exists(org.slf4j.Logger.ROOT_LOGGER_NAME); // give it your logger name\nfinal Level newLevel = Level.toLevel(&quot;ERROR&quot;, null); // give it your log level\nlogger.setLevel(newLevel);\n</code></pre>\n<p>The primary difference of note is instead of <code>getLogger</code> I had to use <code>getILoggerFactory</code>. To see additional related posts to this see <a href=\"https://stackoverflow.com/questions/23434252/programmatically-change-log-level-in-log4j2/75423256#75423256\">Programmatically change log level in Log4j2</a> or if you want to be able to this per request see <a href=\"https://stackoverflow.com/questions/24158273/change-priority-level-in-log4j-per-request/75423208#75423208\">Change priority level in log4j per request</a></p>\n"},{"tags":[],"owner":{"account_id":21837,"reputation":1262,"user_id":53387,"display_name":"jdwyah"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1681157738,"creation_date":1681157738,"answer_id":75980388,"question_id":3837801,"body_markdown":"Another approach is to use a Logback TurboFilter. This can give us more control.\r\n\r\nChanging the level of the logger itself only let&#39;s us turn a particular logger on or off. What if we want to get `DEBUG` for `user:123` or `team:456` for everything in the `com.example.billing` module for the next `90 minutes` but stay are `WARN` for everything else?\r\n\r\nIf we use a TurboFilter, we have access to the MDC where we can get the user context. And we can access a dynamic config system to get the rules for which users to match. \r\n\r\nThis is what [https://github.com/prefab-cloud/prefab-cloud-java][1] does using [prefab.cloud][2] as the dynamic config and UI. \r\n\r\n\r\nSimplified:\r\n```java\r\npublic class PrefabMDCTurboFilter extends TurboFilter {\r\n\r\n  private final ConfigClient configClient;\r\n\r\n  PrefabMDCTurboFilter(ConfigClient configClient) {\r\n    this.configClient = configClient;\r\n  }\r\n\r\n  public static void install(ConfigClient configClient) {\r\n    PrefabMDCTurboFilter filter = new PrefabMDCTurboFilter(configClient);\r\n    LoggerContext loggerContext = (LoggerContext) LoggerFactory.getILoggerFactory();\r\n    loggerContext.addTurboFilter(filter);\r\n  }\r\n\r\n  @Override\r\n  public FilterReply decide(\r\n    Marker marker,\r\n    Logger logger,\r\n    Level level,\r\n    String s,\r\n    Object[] objects,\r\n    Throwable throwable\r\n  ) {\r\n      Optional&lt;Prefab.LogLevel&gt; loglevelMaybe = configClient.getLogLevelFromStringMap(\r\n        logger.getName(),\r\n        MDC.getCopyOfContextMap()\r\n      );\r\n      if (loglevelMaybe.isPresent()) {\r\n        Level calculatedMinLogLevelToAccept = LogbackLevelMapper.LEVEL_MAP.get(\r\n          loglevelMaybe.get()\r\n        );\r\n        if (level.isGreaterOrEqual(calculatedMinLogLevelToAccept)) {\r\n          return FilterReply.ACCEPT;\r\n        }\r\n        return FilterReply.DENY;\r\n      }\r\n      return FilterReply.NEUTRAL;\r\n  }\r\n}\r\n```\r\n\r\n\r\n  [1]: https://github.com/prefab-cloud/prefab-cloud-java\r\n  [2]: https://prefab.cloud","title":"How to change root logging level programmatically for logback","body":"<p>Another approach is to use a Logback TurboFilter. This can give us more control.</p>\n<p>Changing the level of the logger itself only let's us turn a particular logger on or off. What if we want to get <code>DEBUG</code> for <code>user:123</code> or <code>team:456</code> for everything in the <code>com.example.billing</code> module for the next <code>90 minutes</code> but stay are <code>WARN</code> for everything else?</p>\n<p>If we use a TurboFilter, we have access to the MDC where we can get the user context. And we can access a dynamic config system to get the rules for which users to match.</p>\n<p>This is what <a href=\"https://github.com/prefab-cloud/prefab-cloud-java\" rel=\"nofollow noreferrer\">https://github.com/prefab-cloud/prefab-cloud-java</a> does using <a href=\"https://prefab.cloud\" rel=\"nofollow noreferrer\">prefab.cloud</a> as the dynamic config and UI.</p>\n<p>Simplified:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class PrefabMDCTurboFilter extends TurboFilter {\n\n  private final ConfigClient configClient;\n\n  PrefabMDCTurboFilter(ConfigClient configClient) {\n    this.configClient = configClient;\n  }\n\n  public static void install(ConfigClient configClient) {\n    PrefabMDCTurboFilter filter = new PrefabMDCTurboFilter(configClient);\n    LoggerContext loggerContext = (LoggerContext) LoggerFactory.getILoggerFactory();\n    loggerContext.addTurboFilter(filter);\n  }\n\n  @Override\n  public FilterReply decide(\n    Marker marker,\n    Logger logger,\n    Level level,\n    String s,\n    Object[] objects,\n    Throwable throwable\n  ) {\n      Optional&lt;Prefab.LogLevel&gt; loglevelMaybe = configClient.getLogLevelFromStringMap(\n        logger.getName(),\n        MDC.getCopyOfContextMap()\n      );\n      if (loglevelMaybe.isPresent()) {\n        Level calculatedMinLogLevelToAccept = LogbackLevelMapper.LEVEL_MAP.get(\n          loglevelMaybe.get()\n        );\n        if (level.isGreaterOrEqual(calculatedMinLogLevelToAccept)) {\n          return FilterReply.ACCEPT;\n        }\n        return FilterReply.DENY;\n      }\n      return FilterReply.NEUTRAL;\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":106291,"reputation":22384,"user_id":283200,"display_name":"Kai Sternad"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":191250,"favorite_count":0,"down_vote_count":0,"up_vote_count":171,"accepted_answer_id":3838108,"answer_count":10,"score":171,"last_activity_date":1681157738,"creation_date":1285924110,"question_id":3837801,"body_markdown":"I have the following logback.xml file:\r\n\r\n\r\n    &lt;configuration debug=&quot;true&quot;&gt; \r\n\r\n    &lt;appender name=&quot;STDOUT&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt; \r\n    &lt;encoder&gt;\r\n      &lt;pattern&gt;%d{HH:mm:ss.SSS} [%thread] %-5level %logger{36} - %msg%n&lt;/pattern&gt;\r\n    &lt;/encoder&gt;\r\n    &lt;/appender&gt;\r\n\r\n    &lt;root level=&quot;debug&quot;&gt;\r\n      &lt;appender-ref ref=&quot;STDOUT&quot; /&gt;\r\n    &lt;/root&gt;\r\n    &lt;/configuration&gt;\r\n\r\nNow, upon the occurrence of a specific event, I want to programmatically change the level of the root logger from _debug_ to _error_. I can&#39;t use variable substitution, it is mandatory that I do this within the code.\r\n\r\nHow can it be done ? Thanks.","title":"How to change root logging level programmatically for logback","body":"<p>I have the following logback.xml file:</p>\n\n<pre><code>&lt;configuration debug=\"true\"&gt; \n\n&lt;appender name=\"STDOUT\" class=\"ch.qos.logback.core.ConsoleAppender\"&gt; \n&lt;encoder&gt;\n  &lt;pattern&gt;%d{HH:mm:ss.SSS} [%thread] %-5level %logger{36} - %msg%n&lt;/pattern&gt;\n&lt;/encoder&gt;\n&lt;/appender&gt;\n\n&lt;root level=\"debug\"&gt;\n  &lt;appender-ref ref=\"STDOUT\" /&gt;\n&lt;/root&gt;\n&lt;/configuration&gt;\n</code></pre>\n\n<p>Now, upon the occurrence of a specific event, I want to programmatically change the level of the root logger from <em>debug</em> to <em>error</em>. I can't use variable substitution, it is mandatory that I do this within the code.</p>\n\n<p>How can it be done ? Thanks.</p>\n"},{"tags":["java","json","spring-boot","jackson","json-deserialization"],"comments":[{"owner":{"account_id":343791,"reputation":4101,"user_id":675723,"accept_rate":77,"display_name":"BadZen"},"score":0,"creation_date":1681136881,"post_id":75977888,"comment_id":134004160,"body_markdown":"If you are writing standalone, application-based Java (ie. you implement a `public static void main(String[])` that is your entry point, the typical use pattern is to create an `ObjectMapper` instance which will create and manage the `JSONParser` instance for you (since it requires extensive configuration).  See the Jackson javadoc for details.   If you are using a J2EE / container / web-based technologies, this will be the wrong approach and you need to give us more information.","body":"If you are writing standalone, application-based Java (ie. you implement a <code>public static void main(String[])</code> that is your entry point, the typical use pattern is to create an <code>ObjectMapper</code> instance which will create and manage the <code>JSONParser</code> instance for you (since it requires extensive configuration).  See the Jackson javadoc for details.   If you are using a J2EE / container / web-based technologies, this will be the wrong approach and you need to give us more information."},{"owner":{"account_id":343791,"reputation":4101,"user_id":675723,"accept_rate":77,"display_name":"BadZen"},"score":0,"creation_date":1681136965,"post_id":75977888,"comment_id":134004176,"body_markdown":"That said, this is not a properly focused / asked question here.  Open-ended &quot;just wondering how do I....?&quot; will likely be closed - you need to show us that made some effort, attempted to answer your own question first, you&#39;ve tried some concrete things, list code relevant to your actual question, show errors, etc.   Please review [ask].","body":"That said, this is not a properly focused / asked question here.  Open-ended &quot;just wondering how do I....?&quot; will likely be closed - you need to show us that made some effort, attempted to answer your own question first, you&#39;ve tried some concrete things, list code relevant to your actual question, show errors, etc.   Please review <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a>."},{"owner":{"account_id":18936900,"reputation":46,"user_id":13819413,"display_name":"Diego Sanz"},"score":0,"creation_date":1681138043,"post_id":75977888,"comment_id":134004370,"body_markdown":"I have indicated the partial solution I have analyzed, but I don&#39;t know how to manage the JsonParser class. There is no error as it is clear the readValue function in the deserialize part will fail, as JSON has {&quot;raw&quot;: &quot;1&quot;} instead of &quot;1&quot; wich will be the normal case. I think the doubt is valid and concrete, but I could add more information if needed.","body":"I have indicated the partial solution I have analyzed, but I don&#39;t know how to manage the JsonParser class. There is no error as it is clear the readValue function in the deserialize part will fail, as JSON has {&quot;raw&quot;: &quot;1&quot;} instead of &quot;1&quot; wich will be the normal case. I think the doubt is valid and concrete, but I could add more information if needed."},{"owner":{"account_id":343791,"reputation":4101,"user_id":675723,"accept_rate":77,"display_name":"BadZen"},"score":0,"creation_date":1681139069,"post_id":75977888,"comment_id":134004582,"body_markdown":"This is not concrete.   A &quot;Concrete&quot; doubt means you ran it, it didn&#39;t work, and you gave us enough information so that we can take your code, also run it, and verify that it does not work.  Not &quot;I&#39;m pretty sure if I ran this code it would not work&quot;.   A &quot;Concrete&quot; example would include the information I asked you for above, and would include /configuration of the context and binding of the serializable type/.   Can we run the code you list above as is and reproduce your results?  No, we cannot.  Please actually look at [ask] like I indicated you should, and edit your question appropriately.","body":"This is not concrete.   A &quot;Concrete&quot; doubt means you ran it, it didn&#39;t work, and you gave us enough information so that we can take your code, also run it, and verify that it does not work.  Not &quot;I&#39;m pretty sure if I ran this code it would not work&quot;.   A &quot;Concrete&quot; example would include the information I asked you for above, and would include /configuration of the context and binding of the serializable type/.   Can we run the code you list above as is and reproduce your results?  No, we cannot.  Please actually look at <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a> like I indicated you should, and edit your question appropriately."},{"owner":{"account_id":18936900,"reputation":46,"user_id":13819413,"display_name":"Diego Sanz"},"score":1,"creation_date":1681139743,"post_id":75977888,"comment_id":134004733,"body_markdown":"Okey, I have edited the question, including some context and the error raised, with the expected result too.","body":"Okey, I have edited the question, including some context and the error raised, with the expected result too."}],"answers":[{"tags":[],"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1681156490,"creation_date":1681156490,"answer_id":75980261,"question_id":75977888,"body_markdown":"You are really close. The main issue is that you used the field name `value` where it should be `raw`. Also, the `WrapperDeserializer` is not required.\r\n\r\nAll the code is as you have it besides the following:\r\n\r\n**Wrapper.java**\r\n\r\n    public class Wrapper&lt;T&gt; {\r\n    \r\n    \tT raw;\r\n      \r\n        // getters, setters &amp; toString()\r\n    }\r\n\r\n**main**\r\n\r\n    \tpublic static void main(String[] args) throws JsonMappingException, JsonProcessingException {\r\n    \t\r\n    \t\tObjectMapper objectMapper = new ObjectMapper();\r\n    \t\t\r\n    \t\tString json = &quot;{\\r\\n&quot; + \r\n    \t\t\t\t&quot;    \\&quot;results\\&quot;: [\\r\\n&quot; + \r\n    \t\t\t\t&quot;        {\\r\\n&quot; + \r\n    \t\t\t\t&quot;            \\&quot;id\\&quot;: {\\&quot;raw\\&quot;: \\&quot;1\\&quot;},\\r\\n&quot; + \r\n    \t\t\t\t&quot;            \\&quot;name\\&quot;: {\\&quot;raw\\&quot;: \\&quot;Hello World\\&quot;},\\r\\n&quot; + \r\n    \t\t\t\t&quot;            \\&quot;number\\&quot;: {\\&quot;raw\\&quot;: 7.5}\\r\\n&quot; + \r\n    \t\t\t\t&quot;        }\\r\\n&quot; + \r\n    \t\t\t\t&quot;    ]\\r\\n&quot; + \r\n    \t\t\t\t&quot;}&quot;;\r\n    \t\t\r\n    \t\tDto readValue = objectMapper.readValue(json, Dto.class);\r\n    \t\t\r\n    \t\tSystem.out.println(readValue);\r\n    }\r\n\r\n**Output**\r\n\r\n    Dto [results=[ResultDto [id=Wrapper [raw=1], name=Wrapper [raw=Hello World], number=Wrapper [raw=7]]]]\r\n\r\n\r\n\r\n","title":"Use Jackson deserializer to read child JSON object","body":"<p>You are really close. The main issue is that you used the field name <code>value</code> where it should be <code>raw</code>. Also, the <code>WrapperDeserializer</code> is not required.</p>\n<p>All the code is as you have it besides the following:</p>\n<p><strong>Wrapper.java</strong></p>\n<pre><code>public class Wrapper&lt;T&gt; {\n\n    T raw;\n  \n    // getters, setters &amp; toString()\n}\n</code></pre>\n<p><strong>main</strong></p>\n<pre><code>    public static void main(String[] args) throws JsonMappingException, JsonProcessingException {\n    \n        ObjectMapper objectMapper = new ObjectMapper();\n        \n        String json = &quot;{\\r\\n&quot; + \n                &quot;    \\&quot;results\\&quot;: [\\r\\n&quot; + \n                &quot;        {\\r\\n&quot; + \n                &quot;            \\&quot;id\\&quot;: {\\&quot;raw\\&quot;: \\&quot;1\\&quot;},\\r\\n&quot; + \n                &quot;            \\&quot;name\\&quot;: {\\&quot;raw\\&quot;: \\&quot;Hello World\\&quot;},\\r\\n&quot; + \n                &quot;            \\&quot;number\\&quot;: {\\&quot;raw\\&quot;: 7.5}\\r\\n&quot; + \n                &quot;        }\\r\\n&quot; + \n                &quot;    ]\\r\\n&quot; + \n                &quot;}&quot;;\n        \n        Dto readValue = objectMapper.readValue(json, Dto.class);\n        \n        System.out.println(readValue);\n}\n</code></pre>\n<p><strong>Output</strong></p>\n<pre><code>Dto [results=[ResultDto [id=Wrapper [raw=1], name=Wrapper [raw=Hello World], number=Wrapper [raw=7]]]]\n</code></pre>\n"}],"owner":{"account_id":18936900,"reputation":46,"user_id":13819413,"display_name":"Diego Sanz"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":618,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75980261,"answer_count":1,"score":1,"last_activity_date":1681156490,"creation_date":1681136226,"question_id":75977888,"body_markdown":"I have a Spring Boot application with Jackson dependency, and a Service with this code:\r\n\r\n```\r\nDto dto = new ObjectMapper().readValue(jsonString, Dto.class);\r\n```\r\n\r\nI have a JSON similar to this one:\r\n\r\n\r\n```\r\n{\r\n\t&quot;meta&quot;: {\r\n\t...\r\n\t},\r\n\t&quot;results&quot;: [\r\n\t\t{\r\n\t\t\t&quot;id&quot;: {&quot;raw&quot;: &quot;1&quot;},\r\n\t\t\t&quot;name&quot;: {&quot;raw&quot;: &quot;Hello World&quot;}\r\n\t\t\t&quot;number&quot;: {&quot;raw&quot;: 7.5}\r\n\t\t}\r\n\t]\r\n}\r\n```\r\n\r\nAnd I have a Java class like this one:\r\n\r\n```\r\npublic class Dto {\r\n    private AnotherDto meta;\r\n    private List&lt;ResultDto&gt; results;\r\n    // getters/setters\r\n}\r\n```\r\n\r\n```\r\npublic class ResultDto {\r\n    @JsonProperty(&quot;id&quot;)\r\n    private Wrapper&lt;String&gt; id;\r\n\r\n    // More fields and getters/setters\r\n}\r\n```\r\n\r\nThen, I have a generic Wrapper class like this one (idea from Baeldung: https://www.baeldung.com/jackson-deserialization ):\r\n\r\n```\r\n@JsonDeserialize(using = WrapperDeserializer.class)\r\npublic class Wrapper&lt;T&gt; {\r\n    T value;\r\n    // getters/setters\r\n}\r\n```\r\n\r\nLastly, I have the next deserializer:\r\n```\r\npublic class WrapperDeserializer extends JsonDeserializer&lt;Wrapper&lt;?&gt;&gt; implements ContextualDeserializer {\r\n    private JavaType type;\r\n\r\n    @Override\r\n    public Wrapper&lt;?&gt; deserialize(JsonParser jsonParser, DeserializationContext deserializationContext) throws IOException, JacksonException {\r\n        Wrapper&lt;?&gt; wrapper = new Wrapper&lt;&gt;();\r\n        wrapper.setValue(deserializationContext.readValue(jsonParser, type));\r\n        return wrapper;\r\n    }\r\n\r\n    @Override\r\n    public JsonDeserializer&lt;?&gt; createContextual(DeserializationContext deserializationContext, BeanProperty beanProperty) throws JsonMappingException {\r\n        this.type = beanProperty.getType().containedType(0);\r\n        return this;\r\n    }\r\n}\r\n```\r\n\r\nThe main doubt is, how I can access to jsonParser object in order to get the child JSON information? In this case, I would like to access `{&quot;raw&quot;: &quot;1&quot;}`, so I could get the child into *raw* key and get the proper value, so ID &quot;1&quot; would be saved in final Java object.\r\n\r\nI wouldn&#39;t want to make `deserializationContext.readValue(jsonParser, type)` as in this example, because it would throw this error:\r\n\r\n```\r\ncom.fasterxml.jackson.databind.exc.MismatchedInputException: Cannot deserialize value of type `java.lang.String` from Object value (token `JsonToken.START_OBJECT`)\r\n at [Source: \r\n```\r\n\r\nBecause `{&quot;raw&quot;: &quot;1&quot;}` is not a valid String. I would want to have only the &quot;1&quot; value.","title":"Use Jackson deserializer to read child JSON object","body":"<p>I have a Spring Boot application with Jackson dependency, and a Service with this code:</p>\n<pre><code>Dto dto = new ObjectMapper().readValue(jsonString, Dto.class);\n</code></pre>\n<p>I have a JSON similar to this one:</p>\n<pre><code>{\n    &quot;meta&quot;: {\n    ...\n    },\n    &quot;results&quot;: [\n        {\n            &quot;id&quot;: {&quot;raw&quot;: &quot;1&quot;},\n            &quot;name&quot;: {&quot;raw&quot;: &quot;Hello World&quot;}\n            &quot;number&quot;: {&quot;raw&quot;: 7.5}\n        }\n    ]\n}\n</code></pre>\n<p>And I have a Java class like this one:</p>\n<pre><code>public class Dto {\n    private AnotherDto meta;\n    private List&lt;ResultDto&gt; results;\n    // getters/setters\n}\n</code></pre>\n<pre><code>public class ResultDto {\n    @JsonProperty(&quot;id&quot;)\n    private Wrapper&lt;String&gt; id;\n\n    // More fields and getters/setters\n}\n</code></pre>\n<p>Then, I have a generic Wrapper class like this one (idea from Baeldung: <a href=\"https://www.baeldung.com/jackson-deserialization\" rel=\"nofollow noreferrer\">https://www.baeldung.com/jackson-deserialization</a> ):</p>\n<pre><code>@JsonDeserialize(using = WrapperDeserializer.class)\npublic class Wrapper&lt;T&gt; {\n    T value;\n    // getters/setters\n}\n</code></pre>\n<p>Lastly, I have the next deserializer:</p>\n<pre><code>public class WrapperDeserializer extends JsonDeserializer&lt;Wrapper&lt;?&gt;&gt; implements ContextualDeserializer {\n    private JavaType type;\n\n    @Override\n    public Wrapper&lt;?&gt; deserialize(JsonParser jsonParser, DeserializationContext deserializationContext) throws IOException, JacksonException {\n        Wrapper&lt;?&gt; wrapper = new Wrapper&lt;&gt;();\n        wrapper.setValue(deserializationContext.readValue(jsonParser, type));\n        return wrapper;\n    }\n\n    @Override\n    public JsonDeserializer&lt;?&gt; createContextual(DeserializationContext deserializationContext, BeanProperty beanProperty) throws JsonMappingException {\n        this.type = beanProperty.getType().containedType(0);\n        return this;\n    }\n}\n</code></pre>\n<p>The main doubt is, how I can access to jsonParser object in order to get the child JSON information? In this case, I would like to access <code>{&quot;raw&quot;: &quot;1&quot;}</code>, so I could get the child into <em>raw</em> key and get the proper value, so ID &quot;1&quot; would be saved in final Java object.</p>\n<p>I wouldn't want to make <code>deserializationContext.readValue(jsonParser, type)</code> as in this example, because it would throw this error:</p>\n<pre><code>com.fasterxml.jackson.databind.exc.MismatchedInputException: Cannot deserialize value of type `java.lang.String` from Object value (token `JsonToken.START_OBJECT`)\n at [Source: \n</code></pre>\n<p>Because <code>{&quot;raw&quot;: &quot;1&quot;}</code> is not a valid String. I would want to have only the &quot;1&quot; value.</p>\n"},{"tags":["java","spring","postgresql","spring-boot","docker"],"comments":[{"owner":{"account_id":13863020,"reputation":137023,"user_id":10008173,"display_name":"David Maze"},"score":2,"creation_date":1681148166,"post_id":75978999,"comment_id":134006450,"body_markdown":"How are you configuring `spring.datasource.url`?  (Consider adding a `SPRING_DATASOURCE_URL` environment variable for a Compose-specific setup.)  Also see [Communications link failure , Spring Boot + MySql +Docker + Hibernate](https://stackoverflow.com/questions/58880998/communications-link-failure-spring-boot-mysql-docker-hibernate) which discusses a similar class of problem.","body":"How are you configuring <code>spring.datasource.url</code>?  (Consider adding a <code>SPRING_DATASOURCE_URL</code> environment variable for a Compose-specific setup.)  Also see <a href=\"https://stackoverflow.com/questions/58880998/communications-link-failure-spring-boot-mysql-docker-hibernate\">Communications link failure , Spring Boot + MySql +Docker + Hibernate</a> which discusses a similar class of problem."},{"owner":{"account_id":23311993,"reputation":39,"user_id":17391082,"display_name":"Bruno Barbosa"},"score":0,"creation_date":1681610538,"post_id":75978999,"comment_id":134083756,"body_markdown":"I add spring.datasource.url! but, not working","body":"I add spring.datasource.url! but, not working"}],"owner":{"account_id":23311993,"reputation":39,"user_id":17391082,"display_name":"Bruno Barbosa"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":68,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681156105,"creation_date":1681145524,"question_id":75978999,"body_markdown":"I have a Spring Boot 3 + PostgreSQL application, I&#39;m currently using Postgresql with Docker\r\n\r\n    # Define a imagem base a ser utilizada\r\n    FROM openjdk:17-jdk-slim\r\n    \r\n    # Define o diret&#243;rio de trabalho da aplica&#231;&#227;o\r\n    WORKDIR /app\r\n    \r\n    # Copia os arquivos de build para o container\r\n    COPY target/viaAvaliation-0.0.1-SNAPSHOT.jar /app/via.jar\r\n    \r\n    # Exp&#245;e a porta utilizada pela aplica&#231;&#227;o\r\n    EXPOSE 8080\r\n    \r\n    # Define o comando a ser executado quando o container iniciar\r\n    CMD [&quot;java&quot;, &quot;-jar&quot;, &quot;via.jar&quot;]\r\n\r\nHowever, if I add the Dockerfile\r\n\r\n    services:\r\n      postgres:\r\n        image: &#39;postgres:14.2&#39;\r\n        ports:\r\n          - &quot;5432:5432&quot;\r\n        restart: always\r\n        deploy:\r\n          mode: replicated\r\n          replicas: 1\r\n        environment:\r\n          - POSTGRES_USER=root\r\n          - POSTGRES_PASSWORD=admin\r\n\r\nAnd I add the Spring application in dockercompose, I have the error of\r\no`rg.postgresql.util.PSQLException: Connection to localhost:5432 refused. Check that the hostname and port are correct and that the postmaster is accepting TCP/IP connections`\r\nI&#39;ve already added the url to the application.yml by changing localhost to the dockercompose service-name and nothing works!","title":"Spring Boot and PostgreSQL with Docker","body":"<p>I have a Spring Boot 3 + PostgreSQL application, I'm currently using Postgresql with Docker</p>\n<pre><code># Define a imagem base a ser utilizada\nFROM openjdk:17-jdk-slim\n\n# Define o diretório de trabalho da aplicação\nWORKDIR /app\n\n# Copia os arquivos de build para o container\nCOPY target/viaAvaliation-0.0.1-SNAPSHOT.jar /app/via.jar\n\n# Expõe a porta utilizada pela aplicação\nEXPOSE 8080\n\n# Define o comando a ser executado quando o container iniciar\nCMD [&quot;java&quot;, &quot;-jar&quot;, &quot;via.jar&quot;]\n</code></pre>\n<p>However, if I add the Dockerfile</p>\n<pre><code>services:\n  postgres:\n    image: 'postgres:14.2'\n    ports:\n      - &quot;5432:5432&quot;\n    restart: always\n    deploy:\n      mode: replicated\n      replicas: 1\n    environment:\n      - POSTGRES_USER=root\n      - POSTGRES_PASSWORD=admin\n</code></pre>\n<p>And I add the Spring application in dockercompose, I have the error of\no<code>rg.postgresql.util.PSQLException: Connection to localhost:5432 refused. Check that the hostname and port are correct and that the postmaster is accepting TCP/IP connections</code>\nI've already added the url to the application.yml by changing localhost to the dockercompose service-name and nothing works!</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":71001,"reputation":24087,"user_id":205426,"accept_rate":60,"display_name":"Woot4Moo"},"score":1,"creation_date":1681140662,"post_id":75978408,"comment_id":134004921,"body_markdown":"can you share some output // inputs?","body":"can you share some output // inputs?"},{"owner":{"display_name":"user20716279"},"score":2,"creation_date":1681140766,"post_id":75978408,"comment_id":134004942,"body_markdown":"your switch switch (x) and x is int from the for loop and you compare it with &#39;(&#39; chachter but x hold only int value from 0 till the length of the string","body":"your switch switch (x) and x is int from the for loop and you compare it with &#39;(&#39; chachter but x hold only int value from 0 till the length of the string"},{"owner":{"display_name":"user20716279"},"score":3,"creation_date":1681140841,"post_id":75978408,"comment_id":134004958,"body_markdown":"i guess yo ment s.charAt(x)","body":"i guess yo ment s.charAt(x)"},{"owner":{"account_id":2872356,"reputation":1305,"user_id":2603139,"accept_rate":86,"display_name":"sgx"},"score":0,"creation_date":1681141671,"post_id":75978408,"comment_id":134005154,"body_markdown":"Thank you! I am now getting an Empty Stack Exception for the s = &quot;(): input case:\n\njava.util.EmptyStackException\n  at line 101, java.base/java.util.Stack.peek\n  at line 83, java.base/java.util.Stack.pop\n  at line 37, Solution.isValid\n  at line 54, __DriverSolution__.__helper__\n  at line 84, __Driver__.main","body":"Thank you! I am now getting an Empty Stack Exception for the s = &quot;(): input case:  java.util.EmptyStackException   at line 101, java.base/java.util.Stack.peek   at line 83, java.base/java.util.Stack.pop   at line 37, Solution.isValid   at line 54, <b>DriverSolution</b>.__helper__   at line 84, <b>Driver</b>.main"},{"owner":{"display_name":"user20716279"},"score":1,"creation_date":1681141830,"post_id":75978408,"comment_id":134005187,"body_markdown":"you welcome could you update your code and also what is the input and the exception you get for that input","body":"you welcome could you update your code and also what is the input and the exception you get for that input"},{"owner":{"display_name":"user20716279"},"score":2,"creation_date":1681142376,"post_id":75978408,"comment_id":134005301,"body_markdown":"another issue that stack1.pop()==&quot;(&quot; stack is full of integer as you push x `stack1.push(x);` not the chat at x same as s.charat(x) also you will get another one stack after this update will be full of char which you can not compare to string &quot;(&quot; so  use &#39;(&#39; single qoute instead of the double qoute &quot;(&quot;","body":"another issue that stack1.pop()==&quot;(&quot; stack is full of integer as you push x <code>stack1.push(x);</code> not the chat at x same as s.charat(x) also you will get another one stack after this update will be full of char which you can not compare to string &quot;(&quot; so  use &#39;(&#39; single qoute instead of the double qoute &quot;(&quot;"},{"owner":{"display_name":"user20716279"},"score":2,"creation_date":1681142480,"post_id":75978408,"comment_id":134005323,"body_markdown":"to make the compiler help you that it better to use paramter type of the stack like Stack&lt;Character&gt; stack1 = new Stack&lt;&gt;();","body":"to make the compiler help you that it better to use paramter type of the stack like Stack&lt;Character&gt; stack1 = new Stack&lt;&gt;();"},{"owner":{"display_name":"user20716279"},"score":1,"creation_date":1681142549,"post_id":75978408,"comment_id":134005339,"body_markdown":"better way to use [arraydeque] https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/ArrayDeque.html instead of stack","body":"better way to use [arraydeque] <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/ArrayDeque.html\" rel=\"nofollow noreferrer\">docs.oracle.com/en/java/javase/17/docs/api/java.base/java/ut&zwnj;&#8203;il/&hellip;</a> instead of stack"},{"owner":{"display_name":"user20716279"},"score":1,"creation_date":1681142618,"post_id":75978408,"comment_id":134005352,"body_markdown":"here some tutorial about the collection framework in java https://dev.java/learn/api/collections-framework/","body":"here some tutorial about the collection framework in java <a href=\"https://dev.java/learn/api/collections-framework/\" rel=\"nofollow noreferrer\">dev.java/learn/api/collections-framework</a>"}],"answers":[{"tags":[],"owner":{"account_id":7121054,"reputation":5814,"user_id":5445670,"display_name":"Solomon Ucko"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1681154461,"creation_date":1681141024,"answer_id":75978489,"question_id":75978408,"body_markdown":"[Use `s.charAt(x)` instead of `x` in various places](https://stackoverflow.com/questions/75978408/valid-parenthesis-boolean-issue#comment134004958_75978408): https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/String.html#charAt(int)","title":"Valid Parenthesis Empty Stack Exception","body":"<p><a href=\"https://stackoverflow.com/questions/75978408/valid-parenthesis-boolean-issue#comment134004958_75978408\">Use <code>s.charAt(x)</code> instead of <code>x</code> in various places</a>: <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/String.html#charAt(int)\" rel=\"nofollow noreferrer\">https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/String.html#charAt(int)</a></p>\n"}],"owner":{"account_id":2872356,"reputation":1305,"user_id":2603139,"accept_rate":86,"display_name":"sgx"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":52,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"accepted_answer_id":75978489,"answer_count":1,"score":-3,"last_activity_date":1681154461,"creation_date":1681140475,"question_id":75978408,"body_markdown":"I am trying to solve the problem statement at [Valid Parenthesis][1]\r\n\r\nI have been editing and modifying for a while and needed help. Thank you all for the initial help on the syntax issue.\r\n\r\nThe error I&#39;m getting is for the input case of s =&quot;()&quot; my code returns the Empty Stack Exception instead of just &quot;True&quot;\r\n\r\n    java.util.EmptyStackException\r\n      at line 101, java.base/java.util.Stack.peek\r\n      at line 83, java.base/java.util.Stack.pop\r\n      at line 37, Solution.isValid\r\n      at line 54, __DriverSolution__.__helper__\r\n      at line 84, __Driver__.main\r\n\r\nTHANK YOU FOR ANY HELP!!!\r\n\r\n    import java.util.*;\r\n    \r\n    class Solution {\r\n    \r\n        Stack stack1 = new Stack();\r\n    \r\n        public boolean isValid(String s) {\r\n    \r\n        int stringSize= s.length();\r\n    \r\n        boolean g = true;\r\n    \r\n    for (int x=0; x &lt;stringSize; x++)\r\n    {\r\n        switch (s.charAt(x)){\r\n    \r\n        case &#39;(&#39;:\r\n        stack1.push(x);\r\n        break;\r\n    \r\n        case &#39;{&#39;:\r\n        stack1.push(x);\r\n        break;\r\n    \r\n        case &#39;[&#39;:\r\n        stack1.push(x);\r\n        break;\r\n    \r\n        case &#39;)&#39;:{\r\n        if(stack1.empty()){\r\n            g=false;\r\n            return false;}\r\n    \r\n        else if (stack1.pop()==&quot;(&quot;){\r\n            break;}\r\n    \r\n        else if (stack1.pop()==&quot;{&quot;){\r\n            g=false;\r\n            return false;\r\n         }\r\n            \r\n        else if (stack1.pop()==&quot;[&quot;){\r\n            g=false;\r\n            return false;\r\n           }\r\n        }\r\n    \r\n    \r\n         case &#39;}&#39;:{\r\n        if(stack1.empty()){\r\n            g=false;\r\n            return false;}\r\n    \r\n        else if (stack1.pop()==&quot;{&quot;){\r\n            break;}\r\n    \r\n        else if (stack1.pop()==&quot;(&quot;){\r\n            g=false;\r\n            return false;\r\n           }\r\n            \r\n        else if (stack1.pop()==&quot;[&quot;){\r\n            g=false;\r\n            return false;\r\n           }\r\n        }\r\n    \r\n        case &#39;]&#39;:{\r\n        if(stack1.empty()){\r\n             g=false;\r\n            return false;}\r\n    \r\n        else if (stack1.pop()==&quot;[&quot;){\r\n            break;}\r\n    \r\n        else if (stack1.pop()==&quot;(&quot;){\r\n            g=false;\r\n            return false;\r\n            }\r\n            \r\n        else if (stack1.pop()==&quot;{&quot;){\r\n            g=false;\r\n            return false;\r\n            }\r\n        }\r\n    \r\n    }\r\n    }\r\n    \r\n        return g;\r\n    }\r\n    \r\n        }\r\n\r\n\r\n  [1]: https://leetcode.com/problems/valid-parentheses/description/","title":"Valid Parenthesis Empty Stack Exception","body":"<p>I am trying to solve the problem statement at <a href=\"https://leetcode.com/problems/valid-parentheses/description/\" rel=\"nofollow noreferrer\">Valid Parenthesis</a></p>\n<p>I have been editing and modifying for a while and needed help. Thank you all for the initial help on the syntax issue.</p>\n<p>The error I'm getting is for the input case of s =&quot;()&quot; my code returns the Empty Stack Exception instead of just &quot;True&quot;</p>\n<pre><code>java.util.EmptyStackException\n  at line 101, java.base/java.util.Stack.peek\n  at line 83, java.base/java.util.Stack.pop\n  at line 37, Solution.isValid\n  at line 54, __DriverSolution__.__helper__\n  at line 84, __Driver__.main\n</code></pre>\n<p>THANK YOU FOR ANY HELP!!!</p>\n<pre><code>import java.util.*;\n\nclass Solution {\n\n    Stack stack1 = new Stack();\n\n    public boolean isValid(String s) {\n\n    int stringSize= s.length();\n\n    boolean g = true;\n\nfor (int x=0; x &lt;stringSize; x++)\n{\n    switch (s.charAt(x)){\n\n    case '(':\n    stack1.push(x);\n    break;\n\n    case '{':\n    stack1.push(x);\n    break;\n\n    case '[':\n    stack1.push(x);\n    break;\n\n    case ')':{\n    if(stack1.empty()){\n        g=false;\n        return false;}\n\n    else if (stack1.pop()==&quot;(&quot;){\n        break;}\n\n    else if (stack1.pop()==&quot;{&quot;){\n        g=false;\n        return false;\n     }\n        \n    else if (stack1.pop()==&quot;[&quot;){\n        g=false;\n        return false;\n       }\n    }\n\n\n     case '}':{\n    if(stack1.empty()){\n        g=false;\n        return false;}\n\n    else if (stack1.pop()==&quot;{&quot;){\n        break;}\n\n    else if (stack1.pop()==&quot;(&quot;){\n        g=false;\n        return false;\n       }\n        \n    else if (stack1.pop()==&quot;[&quot;){\n        g=false;\n        return false;\n       }\n    }\n\n    case ']':{\n    if(stack1.empty()){\n         g=false;\n        return false;}\n\n    else if (stack1.pop()==&quot;[&quot;){\n        break;}\n\n    else if (stack1.pop()==&quot;(&quot;){\n        g=false;\n        return false;\n        }\n        \n    else if (stack1.pop()==&quot;{&quot;){\n        g=false;\n        return false;\n        }\n    }\n\n}\n}\n\n    return g;\n}\n\n    }\n</code></pre>\n"},{"tags":["java","excel","excel-formula","apache-poi"],"comments":[{"owner":{"account_id":5119511,"reputation":954,"user_id":4103578,"display_name":"Xavier Bouclet"},"score":2,"creation_date":1516125190,"post_id":48287114,"comment_id":83559059,"body_markdown":"Are you sure the source cells don&#39;t contain a precision more important than two decimal?","body":"Are you sure the source cells don&#39;t contain a precision more important than two decimal?"},{"owner":{"account_id":350017,"reputation":47555,"user_id":685641,"display_name":"Gagravarr"},"score":0,"creation_date":1516128714,"post_id":48287114,"comment_id":83560772,"body_markdown":"Are you aware of how Floating Point maths works? If not, what happens after you&#39;ve read the wikipedia article or similar tutorial?","body":"Are you aware of how Floating Point maths works? If not, what happens after you&#39;ve read the wikipedia article or similar tutorial?"},{"owner":{"account_id":12697457,"reputation":1,"user_id":9225454,"display_name":"Sergei Satriani Johnson"},"score":0,"creation_date":1516130516,"post_id":48287114,"comment_id":83561616,"body_markdown":"Yes, those cells are two decimals precision","body":"Yes, those cells are two decimals precision"},{"owner":{"account_id":12697457,"reputation":1,"user_id":9225454,"display_name":"Sergei Satriani Johnson"},"score":0,"creation_date":1516130777,"post_id":48287114,"comment_id":83561739,"body_markdown":"I am aware how floating point works, but please explain me what happens when the article tutorial is read. Sarcasm  is not ver helpfull.","body":"I am aware how floating point works, but please explain me what happens when the article tutorial is read. Sarcasm  is not ver helpfull."},{"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"score":0,"creation_date":1516174650,"post_id":48287114,"comment_id":83576176,"body_markdown":"Your problem is not reproducible. If `A1` contains the value 10 and `A2` contains the value 0.8 and `A3` contains the formula `=A1+A2`, then `CellValue cellValue = evaluator.evaluate(cell);` gets a cell value of 10.8, if  `cell` is `A3`. So if you really wants help, please provide a [Minimal, Complete, and Verifiable example](https://stackoverflow.com/help/mcve) which makes your problem reproducible.","body":"Your problem is not reproducible. If <code>A1</code> contains the value 10 and <code>A2</code> contains the value 0.8 and <code>A3</code> contains the formula <code>=A1+A2</code>, then <code>CellValue cellValue = evaluator.evaluate(cell);</code> gets a cell value of 10.8, if  <code>cell</code> is <code>A3</code>. So if you really wants help, please provide a <a href=\"https://stackoverflow.com/help/mcve\">Minimal, Complete, and Verifiable example</a> which makes your problem reproducible."}],"owner":{"account_id":12697457,"reputation":1,"user_id":9225454,"display_name":"Sergei Satriani Johnson"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":322,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681154243,"creation_date":1516125015,"question_id":48287114,"body_markdown":"I&#39;m using FormulaEvaluator from Apache POI to evaluate 2 cells sum :\r\n\r\n10.00 (Cell 1) + 0.80 (Cell 2) = 10.80 \r\n\r\nThis sum in Excel shows 10.80 which is true, but with POI&#39;s FormulaEvaluator the result is 10.799999998!\r\n\r\n    CellValue cellValue = evaluator.evaluate(cell); \r\n\r\nThis is not working.\r\n\r\nWhy is this wrong with Apache POI and how can I get the formula well evaluated? I&#39;m not looking to round the result because I&#39;m trying to validate every cell on that Excel&#39;s two decimals only. Any suggestions?","title":"FormulaEvaluator POI evaluating with more than 2 decimals","body":"<p>I'm using FormulaEvaluator from Apache POI to evaluate 2 cells sum :</p>\n<p>10.00 (Cell 1) + 0.80 (Cell 2) = 10.80</p>\n<p>This sum in Excel shows 10.80 which is true, but with POI's FormulaEvaluator the result is 10.799999998!</p>\n<pre><code>CellValue cellValue = evaluator.evaluate(cell); \n</code></pre>\n<p>This is not working.</p>\n<p>Why is this wrong with Apache POI and how can I get the formula well evaluated? I'm not looking to round the result because I'm trying to validate every cell on that Excel's two decimals only. Any suggestions?</p>\n"},{"tags":["java","android","textview"],"owner":{"account_id":7336923,"reputation":593,"user_id":5587982,"display_name":"A. Cedano"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":145,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1681152766,"creation_date":1681152766,"question_id":75979847,"body_markdown":"In the Errors and ANR section of the Google Play Console this error is frequent in users whose devices have Android 10 or higher:\r\n\r\n&gt; Exception java.lang.IllegalStateException: Drag shadow dimensions must\r\n&gt; be positive   at android.view.View.startDragAndDrop (View.java:25464) \r\n&gt; at android.widget.Editor.startDragAndDrop (Editor.java:1183)   at\r\n&gt; android.widget.Editor.performLongClick (Editor.java:1209)   at\r\n&gt; android.widget.TextView.performLongClick (TextView.java:12292)   at\r\n&gt; android.view.View.performLongClick (View.java:7222)   at\r\n&gt; android.view.View$CheckForLongPress.run (View.java:27374)   at\r\n&gt; android.os.Handler.handleCallback (Handler.java:883)   at\r\n&gt; android.os.Handler.dispatchMessage (Handler.java:100)   at\r\n&gt; android.os.Looper.loop (Looper.java:241)   at\r\n&gt; android.app.ActivityThread.main (ActivityThread.java:7617)   at\r\n&gt; java.lang.reflect.Method.invoke   at\r\n&gt; com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run\r\n&gt; (RuntimeInit.java:492)   at com.android.internal.os.ZygoteInit.main\r\n&gt; (ZygoteInit.java:941)\r\n\r\nThe error message doesn&#39;t let me know where the error occurs, but from what I&#39;ve investigated it seems to be caused by trying to &quot;Drag and Drop&quot;, in this case on a TextView, from what this line of the message says of mistake:\r\n\r\n    android.widget.TextView.performLongClick (TextView.java:12292).\r\n\r\nThe functionality of &quot;Drag and Drop&quot; does not interest me. My TextViews allow the following and I do want to keep that:\r\n\r\n 1. Select part of the text or all of the text to copy, paste, share\r\n\r\n 2. Increase or enlarge the size of the text by doing &quot;Pinch to Zoom&quot;, using a custom class that extends from `TextView`\r\n\r\n 3. Have clickable links\r\n\r\nAll three things works fine. So how can I disable the ability to &quot;Drag and Drop&quot; all my views or my TextViews, without preventing me from being able to do the three things mentioned above? I ask about all my views because I also use RecyclerView, Menus, etc. and apparently the users can do &quot;Drag and Drop&quot; in them too, but I&#39;m not interested in doing &quot;Drag and Drop&quot; in any case.\r\n\r\nThis is how I set my TextView in any Fragment of my application:\r\n\r\n    public class MyFragment extends Fragment implements TextToSpeechCallback {\r\n    \r\n        private ZoomTextView mTextView;\r\n    \r\n        private void setConfiguration() {\r\n    \r\n            mViewModel =\r\n                    new ViewModelProvider(this).get(MyViewModel.class);\r\n            mTextView = binding.include.tvZoomable;\r\n            SharedPreferences prefs = PreferenceManager.getDefaultSharedPreferences(getActivity());\r\n            float fontSize = Float.parseFloat(prefs.getString(&quot;font_size&quot;, &quot;18&quot;));\r\n            String fontFamily = String.format(new Locale(&quot;es&quot;),&quot;fonts/%s&quot;,prefs.getString(&quot;font_name&quot;, &quot;robotoslab_regular.ttf&quot;));\r\n            Typeface tf= Typeface.createFromAsset(requireActivity().getAssets(),fontFamily);\r\n            mTextView .setTypeface(tf);\r\n            mTextView.setTextSize(TypedValue.COMPLEX_UNIT_SP, fontSize);\r\n            hasInvitatory = prefs.getBoolean(&quot;invitatorio&quot;, false);\r\n            isVoiceOn = prefs.getBoolean(&quot;voice&quot;, true);\r\n            if (isVoiceOn) {\r\n                sbReader = new StringBuilder(VOICE_INI);\r\n            }\r\n        }\r\n        \r\n        // ...\r\n    \r\n    }\r\n\r\nAnd the XML of my `TextView` is as follows:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n        xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n        android:id=&quot;@+id/root_preferences&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:paddingLeft=&quot;@dimen/activity_horizontal_margin&quot;\r\n        android:paddingRight=&quot;@dimen/activity_horizontal_margin&quot;\r\n        app:layout_behavior=&quot;@string/appbar_scrolling_view_behavior&quot;\r\n        tools:context=&quot;.ui.activities.MainActivity&quot;\r\n        &gt;\r\n    \r\n            &lt;ScrollView\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;match_parent&quot;&gt;\r\n    \r\n                &lt;com.example.utils.ZoomTextView\r\n                    android:id=&quot;@+id/tv_Zoomable&quot;\r\n                    android:layout_width=&quot;match_parent&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:paddingTop=&quot;0dp&quot;\r\n                    android:paddingBottom=&quot;50dp&quot;\r\n                    style=&quot;@style/TextAppearance.AppTheme.DisplayBody&quot;\r\n                    /&gt;\r\n            &lt;/ScrollView&gt;\r\n    &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n\r\nIs there a way to disable the possibility of &quot;Drag and Drop&quot;, either from the XML, or programmatically?\r\n","title":"Is there a way to disable &quot;Drag and Drop&quot; in all views of my Android app?","body":"<p>In the Errors and ANR section of the Google Play Console this error is frequent in users whose devices have Android 10 or higher:</p>\n<blockquote>\n<p>Exception java.lang.IllegalStateException: Drag shadow dimensions must\nbe positive   at android.view.View.startDragAndDrop (View.java:25464)\nat android.widget.Editor.startDragAndDrop (Editor.java:1183)   at\nandroid.widget.Editor.performLongClick (Editor.java:1209)   at\nandroid.widget.TextView.performLongClick (TextView.java:12292)   at\nandroid.view.View.performLongClick (View.java:7222)   at\nandroid.view.View$CheckForLongPress.run (View.java:27374)   at\nandroid.os.Handler.handleCallback (Handler.java:883)   at\nandroid.os.Handler.dispatchMessage (Handler.java:100)   at\nandroid.os.Looper.loop (Looper.java:241)   at\nandroid.app.ActivityThread.main (ActivityThread.java:7617)   at\njava.lang.reflect.Method.invoke   at\ncom.android.internal.os.RuntimeInit$MethodAndArgsCaller.run\n(RuntimeInit.java:492)   at com.android.internal.os.ZygoteInit.main\n(ZygoteInit.java:941)</p>\n</blockquote>\n<p>The error message doesn't let me know where the error occurs, but from what I've investigated it seems to be caused by trying to &quot;Drag and Drop&quot;, in this case on a TextView, from what this line of the message says of mistake:</p>\n<pre><code>android.widget.TextView.performLongClick (TextView.java:12292).\n</code></pre>\n<p>The functionality of &quot;Drag and Drop&quot; does not interest me. My TextViews allow the following and I do want to keep that:</p>\n<ol>\n<li><p>Select part of the text or all of the text to copy, paste, share</p>\n</li>\n<li><p>Increase or enlarge the size of the text by doing &quot;Pinch to Zoom&quot;, using a custom class that extends from <code>TextView</code></p>\n</li>\n<li><p>Have clickable links</p>\n</li>\n</ol>\n<p>All three things works fine. So how can I disable the ability to &quot;Drag and Drop&quot; all my views or my TextViews, without preventing me from being able to do the three things mentioned above? I ask about all my views because I also use RecyclerView, Menus, etc. and apparently the users can do &quot;Drag and Drop&quot; in them too, but I'm not interested in doing &quot;Drag and Drop&quot; in any case.</p>\n<p>This is how I set my TextView in any Fragment of my application:</p>\n<pre><code>public class MyFragment extends Fragment implements TextToSpeechCallback {\n\n    private ZoomTextView mTextView;\n\n    private void setConfiguration() {\n\n        mViewModel =\n                new ViewModelProvider(this).get(MyViewModel.class);\n        mTextView = binding.include.tvZoomable;\n        SharedPreferences prefs = PreferenceManager.getDefaultSharedPreferences(getActivity());\n        float fontSize = Float.parseFloat(prefs.getString(&quot;font_size&quot;, &quot;18&quot;));\n        String fontFamily = String.format(new Locale(&quot;es&quot;),&quot;fonts/%s&quot;,prefs.getString(&quot;font_name&quot;, &quot;robotoslab_regular.ttf&quot;));\n        Typeface tf= Typeface.createFromAsset(requireActivity().getAssets(),fontFamily);\n        mTextView .setTypeface(tf);\n        mTextView.setTextSize(TypedValue.COMPLEX_UNIT_SP, fontSize);\n        hasInvitatory = prefs.getBoolean(&quot;invitatorio&quot;, false);\n        isVoiceOn = prefs.getBoolean(&quot;voice&quot;, true);\n        if (isVoiceOn) {\n            sbReader = new StringBuilder(VOICE_INI);\n        }\n    }\n    \n    // ...\n\n}\n</code></pre>\n<p>And the XML of my <code>TextView</code> is as follows:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:id=&quot;@+id/root_preferences&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    android:paddingLeft=&quot;@dimen/activity_horizontal_margin&quot;\n    android:paddingRight=&quot;@dimen/activity_horizontal_margin&quot;\n    app:layout_behavior=&quot;@string/appbar_scrolling_view_behavior&quot;\n    tools:context=&quot;.ui.activities.MainActivity&quot;\n    &gt;\n\n        &lt;ScrollView\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;match_parent&quot;&gt;\n\n            &lt;com.example.utils.ZoomTextView\n                android:id=&quot;@+id/tv_Zoomable&quot;\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:paddingTop=&quot;0dp&quot;\n                android:paddingBottom=&quot;50dp&quot;\n                style=&quot;@style/TextAppearance.AppTheme.DisplayBody&quot;\n                /&gt;\n        &lt;/ScrollView&gt;\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n<p>Is there a way to disable the possibility of &quot;Drag and Drop&quot;, either from the XML, or programmatically?</p>\n"},{"tags":["java","for-loop","stack-overflow"],"answers":[{"tags":[],"owner":{"account_id":28051130,"reputation":23,"user_id":21427000,"display_name":"Moustafa Amr"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1681151877,"creation_date":1681151877,"answer_id":75979749,"question_id":75979553,"body_markdown":"Just Figure it out ```int halfSize = numTeams / 2;``` should be added by one like this ```int halfSize = numTeams / 2 +1;```","title":"Java - Avoid/Solve StackOverFlow","body":"<p>Just Figure it out <code>int halfSize = numTeams / 2;</code> should be added by one like this <code>int halfSize = numTeams / 2 +1;</code></p>\n"}],"owner":{"account_id":28051130,"reputation":23,"user_id":21427000,"display_name":"Moustafa Amr"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":44,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"accepted_answer_id":75979749,"answer_count":1,"score":-3,"last_activity_date":1681151877,"creation_date":1681149964,"question_id":75979553,"body_markdown":"this is the code\r\n```\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\npublic class ScheduleGenerator {\r\n    public static void main(String[] args) {\r\n        List&lt;Team&gt; teams = new ArrayList&lt;&gt;();\r\n        int numTeams = 9;\r\n        for (int i = 1; i &lt;= numTeams; i++) {\r\n            teams.add(new Team(&quot;Team &quot; + i));\r\n        }\r\n        String[] pistes = {&quot;Piste A&quot;, &quot;Piste B&quot;, &quot;Piste C&quot;, &quot;Piste D&quot;, &quot;Piste E&quot;, &quot;Piste F&quot;};\r\n        List&lt;Round&gt; rounds = generateSchedule(teams);\r\n\r\n        for (Round round : rounds) {\r\n            System.out.println(&quot;Round &quot; + round.getNumber());\r\n            List&lt;Match&gt; matches = round.getMatches();\r\n            for (int i = 0; i &lt; matches.size(); i++) {\r\n                Match match = matches.get(i);\r\n                String piste = pistes[i];\r\n                System.out.println(piste + &quot; &quot; + match.getTeam1().getName() + &quot; vs &quot; + match.getTeam2().getName());\r\n            }\r\n            System.out.println();\r\n        }\r\n    }\r\n\r\n    public static List&lt;Round&gt; generateSchedule(List&lt;Team&gt; teams) {\r\n        int numTeams = Math.round(teams.size());\r\n        int numRounds = numTeams;\r\n        int halfSize = numTeams / 2;\r\n\r\n        List&lt;Team&gt; list = new ArrayList&lt;&gt;(teams);\r\n\r\n        int listSize = list.size();\r\n\r\n        List&lt;Round&gt; rounds = new ArrayList&lt;&gt;();\r\n\r\n        if (numTeams % 2 != 0) {\r\n            teams.add(new Team(&quot;Rest&quot;));\r\n            numTeams++;\r\n        }\r\n\r\n\r\n        for (int round = 0; round &lt; numRounds; round++) {\r\n            Round currentRound = new Round(round);\r\n            List&lt;Match&gt; matches = new ArrayList&lt;&gt;();\r\n            int teamIdx = round % listSize;\r\n            Team team1 = list.get(teamIdx);\r\n            Team team2 = teams.get(numTeams - 1);\r\n            matches.add(new Match(team1, team2));\r\n            for (int i = 1; i &lt; halfSize; i++) {\r\n                int firstTeam = (round + i) % listSize;\r\n                int secondTeam = (round + listSize - i) % listSize;\r\n                matches.add(new Match(list.get(firstTeam), list.get(secondTeam)));\r\n            }\r\n            currentRound.setMatches(matches);\r\n            rounds.add(currentRound);\r\n        }\r\n\r\n        return rounds;\r\n    }\r\n}\r\n\r\nclass Team {\r\n    private String name;\r\n\r\n    public Team(String name) {\r\n        this.name = name;\r\n    }\r\n\r\n    public String getName() {\r\n        return name;\r\n    }\r\n\r\n    public String toString() {\r\n        return name;\r\n    }\r\n}\r\n\r\nclass Round {\r\n    private int number;\r\n    private List&lt;Match&gt; matches;\r\n\r\n    public Round(int number) {\r\n        this.number = number;\r\n        this.matches = new ArrayList&lt;&gt;();\r\n    }\r\n\r\n    public int getNumber() {\r\n        return number;\r\n    }\r\n\r\n    public void addMatch(Match match) {\r\n        matches.add(match);\r\n    }\r\n    public void setMatches(List&lt;Match&gt; matches) {\r\n        this.matches = matches;\r\n    }\r\n\r\n    public List&lt;Match&gt; getMatches() {\r\n        return matches;\r\n    }\r\n\r\n    public boolean hasMatch(Team team1, Team team2) {\r\n        for (Match match : matches) {\r\n            if ((match.getTeam1() == team1 &amp;&amp; match.getTeam2() == team2) ||\r\n                    (match.getTeam1() == team2 &amp;&amp; match.getTeam2() == team1)) {\r\n                return true;\r\n            }\r\n        }\r\n        return false;\r\n    }\r\n}\r\n\r\nclass Match {\r\n    private Team team1;\r\n    private Team team2;\r\n\r\n    public Match(Team team1, Team team2) {\r\n        this.team1 = team1;\r\n        this.team2 = team2;\r\n    }\r\n\r\n    public Team getTeam1() {\r\n        return team1;\r\n    }\r\n\r\n    public Team getTeam2() {\r\n        return team2;\r\n    }\r\n}\r\n```\r\nThe output needs to be like this \r\n```\r\nRound 0\r\nPiste A Team 1 vs Team 9\r\nPiste B Team 2 vs Team 8\r\nPiste C Team 3 vs Team 7\r\nPiste D Team 4 vs Team 6\r\nPiste E Rest vs Team 5\r\n\r\nRound 1\r\nPiste A Team 1 vs Team 9\r\nPiste B Team 2 vs Team 8\r\nPiste C Team 3 vs Team 7\r\nPiste D Team 4 vs Team 6\r\nPiste E Rest vs Team 5\r\n\r\nRound 2\r\nPiste A Team 9 vs Team 8\r\nPiste B Team 1 vs Team 7\r\nPiste C Team 2 vs Team 6\r\nPiste D Team 3 vs Team 5\r\nPiste E Rest vs Team 4\r\n\r\nRound 3\r\nPiste A Team 8 vs Team 7\r\nPiste B Team 9 vs Team 6\r\nPiste C Team 1 vs Team 5\r\nPiste D Team 2 vs Team 4\r\nPiste E Rest vs Team 3\r\n\r\nRound 4\r\nPiste A Team 7 vs Team 6\r\nPiste B Team 8 vs Team 5\r\nPiste C Team 9 vs Team 4\r\nPiste D Team 1 vs Team 3\r\nPiste E Rest vs Team 2\r\n\r\nRound 5\r\nPiste A Team 6 vs Team 5\r\nPiste B Team 7 vs Team 4\r\nPiste C Team 8 vs Team 3\r\nPiste D Team 9 vs Team 2\r\nPiste E Rest vs Team 1\r\n\r\nRound 6\r\nPiste A Team 5 vs Team 4\r\nPiste B Team 6 vs Team 3\r\nPiste C Team 7 vs Team 2\r\nPiste D Team 8 vs Team 1\r\nPiste E Rest vs Team 9\r\n\r\nRound 7\r\nPiste A Team 4 vs Team 3\r\nPiste B Team 5 vs Team 2\r\nPiste C Team 6 vs Team 1\r\nPiste D Team 7 vs Team 9\r\nPiste E Rest vs Team 8\r\n\r\nRound 8\r\nPiste A Team 3 vs Team 2\r\nPiste B Team 4 vs Team 1\r\nPiste C Team 5 vs Team 9\r\nPiste D Team 6 vs Team 8\r\nPiste E Rest vs Team 7\r\n\r\nRound 9\r\nPiste A Team 2 vs Team 1\r\nPiste B Team 3 vs Team 9\r\nPiste C Team 4 vs Team 8\r\nPiste D Team 5 vs Team 7\r\nPiste E Rest vs Team 6\r\n```\r\nbut as you can see in the first bit of the code here\r\n```\r\nfor (Round round : rounds) {\r\n            System.out.println(&quot;Round &quot; + round.getNumber());\r\n            List&lt;Match&gt; matches = round.getMatches();\r\n            for (int i = 0; i &lt; matches.size(); i++) {\r\n                Match match = matches.get(i);\r\n                String piste = pistes[i];\r\n                System.out.println(piste + &quot; &quot; + match.getTeam1().getName() + &quot; vs &quot; + match.getTeam2().getName());\r\n            }\r\n            System.out.println();\r\n        }\r\n```\r\nthis loop makes it that the maximum index is 4 that means that every time I run this code it will be missing Piste E and the output will be something like this\r\n```\r\nRound 0\r\nPiste A Team 1 vs Rest\r\nPiste B Team 2 vs Team 9\r\nPiste C Team 3 vs Team 8\r\nPiste D Team 4 vs Team 7\r\n\r\nRound 1\r\nPiste A Team 2 vs Rest\r\nPiste B Team 3 vs Team 1\r\nPiste C Team 4 vs Team 9\r\nPiste D Team 5 vs Team 8\r\n\r\nRound 2\r\nPiste A Team 3 vs Rest\r\nPiste B Team 4 vs Team 2\r\nPiste C Team 5 vs Team 1\r\nPiste D Team 6 vs Team 9\r\n\r\nRound 3\r\nPiste A Team 4 vs Rest\r\nPiste B Team 5 vs Team 3\r\nPiste C Team 6 vs Team 2\r\nPiste D Team 7 vs Team 1\r\n\r\nRound 4\r\nPiste A Team 5 vs Rest\r\nPiste B Team 6 vs Team 4\r\nPiste C Team 7 vs Team 3\r\nPiste D Team 8 vs Team 2\r\n\r\nRound 5\r\nPiste A Team 6 vs Rest\r\nPiste B Team 7 vs Team 5\r\nPiste C Team 8 vs Team 4\r\nPiste D Team 9 vs Team 3\r\n\r\nRound 6\r\nPiste A Team 7 vs Rest\r\nPiste B Team 8 vs Team 6\r\nPiste C Team 9 vs Team 5\r\nPiste D Team 1 vs Team 4\r\n\r\nRound 7\r\nPiste A Team 8 vs Rest\r\nPiste B Team 9 vs Team 7\r\nPiste C Team 1 vs Team 6\r\nPiste D Team 2 vs Team 5\r\n\r\nRound 8\r\nPiste A Team 9 vs Rest\r\nPiste B Team 1 vs Team 8\r\nPiste C Team 2 vs Team 7\r\nPiste D Team 3 vs Team 6\r\n\r\nRound 9\r\nPiste A Team 1 vs Rest\r\nPiste B Team 2 vs Team 9\r\nPiste C Team 3 vs Team 8\r\nPiste D Team 4 vs Team 7\r\n```\r\nI am just really ignorant with this type of error it&#39;s been almost 3 days with me trying to figure out a thing. Thanks in advance","title":"Java - Avoid/Solve StackOverFlow","body":"<p>this is the code</p>\n<pre><code>import java.util.ArrayList;\nimport java.util.List;\n\npublic class ScheduleGenerator {\n    public static void main(String[] args) {\n        List&lt;Team&gt; teams = new ArrayList&lt;&gt;();\n        int numTeams = 9;\n        for (int i = 1; i &lt;= numTeams; i++) {\n            teams.add(new Team(&quot;Team &quot; + i));\n        }\n        String[] pistes = {&quot;Piste A&quot;, &quot;Piste B&quot;, &quot;Piste C&quot;, &quot;Piste D&quot;, &quot;Piste E&quot;, &quot;Piste F&quot;};\n        List&lt;Round&gt; rounds = generateSchedule(teams);\n\n        for (Round round : rounds) {\n            System.out.println(&quot;Round &quot; + round.getNumber());\n            List&lt;Match&gt; matches = round.getMatches();\n            for (int i = 0; i &lt; matches.size(); i++) {\n                Match match = matches.get(i);\n                String piste = pistes[i];\n                System.out.println(piste + &quot; &quot; + match.getTeam1().getName() + &quot; vs &quot; + match.getTeam2().getName());\n            }\n            System.out.println();\n        }\n    }\n\n    public static List&lt;Round&gt; generateSchedule(List&lt;Team&gt; teams) {\n        int numTeams = Math.round(teams.size());\n        int numRounds = numTeams;\n        int halfSize = numTeams / 2;\n\n        List&lt;Team&gt; list = new ArrayList&lt;&gt;(teams);\n\n        int listSize = list.size();\n\n        List&lt;Round&gt; rounds = new ArrayList&lt;&gt;();\n\n        if (numTeams % 2 != 0) {\n            teams.add(new Team(&quot;Rest&quot;));\n            numTeams++;\n        }\n\n\n        for (int round = 0; round &lt; numRounds; round++) {\n            Round currentRound = new Round(round);\n            List&lt;Match&gt; matches = new ArrayList&lt;&gt;();\n            int teamIdx = round % listSize;\n            Team team1 = list.get(teamIdx);\n            Team team2 = teams.get(numTeams - 1);\n            matches.add(new Match(team1, team2));\n            for (int i = 1; i &lt; halfSize; i++) {\n                int firstTeam = (round + i) % listSize;\n                int secondTeam = (round + listSize - i) % listSize;\n                matches.add(new Match(list.get(firstTeam), list.get(secondTeam)));\n            }\n            currentRound.setMatches(matches);\n            rounds.add(currentRound);\n        }\n\n        return rounds;\n    }\n}\n\nclass Team {\n    private String name;\n\n    public Team(String name) {\n        this.name = name;\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    public String toString() {\n        return name;\n    }\n}\n\nclass Round {\n    private int number;\n    private List&lt;Match&gt; matches;\n\n    public Round(int number) {\n        this.number = number;\n        this.matches = new ArrayList&lt;&gt;();\n    }\n\n    public int getNumber() {\n        return number;\n    }\n\n    public void addMatch(Match match) {\n        matches.add(match);\n    }\n    public void setMatches(List&lt;Match&gt; matches) {\n        this.matches = matches;\n    }\n\n    public List&lt;Match&gt; getMatches() {\n        return matches;\n    }\n\n    public boolean hasMatch(Team team1, Team team2) {\n        for (Match match : matches) {\n            if ((match.getTeam1() == team1 &amp;&amp; match.getTeam2() == team2) ||\n                    (match.getTeam1() == team2 &amp;&amp; match.getTeam2() == team1)) {\n                return true;\n            }\n        }\n        return false;\n    }\n}\n\nclass Match {\n    private Team team1;\n    private Team team2;\n\n    public Match(Team team1, Team team2) {\n        this.team1 = team1;\n        this.team2 = team2;\n    }\n\n    public Team getTeam1() {\n        return team1;\n    }\n\n    public Team getTeam2() {\n        return team2;\n    }\n}\n</code></pre>\n<p>The output needs to be like this</p>\n<pre><code>Round 0\nPiste A Team 1 vs Team 9\nPiste B Team 2 vs Team 8\nPiste C Team 3 vs Team 7\nPiste D Team 4 vs Team 6\nPiste E Rest vs Team 5\n\nRound 1\nPiste A Team 1 vs Team 9\nPiste B Team 2 vs Team 8\nPiste C Team 3 vs Team 7\nPiste D Team 4 vs Team 6\nPiste E Rest vs Team 5\n\nRound 2\nPiste A Team 9 vs Team 8\nPiste B Team 1 vs Team 7\nPiste C Team 2 vs Team 6\nPiste D Team 3 vs Team 5\nPiste E Rest vs Team 4\n\nRound 3\nPiste A Team 8 vs Team 7\nPiste B Team 9 vs Team 6\nPiste C Team 1 vs Team 5\nPiste D Team 2 vs Team 4\nPiste E Rest vs Team 3\n\nRound 4\nPiste A Team 7 vs Team 6\nPiste B Team 8 vs Team 5\nPiste C Team 9 vs Team 4\nPiste D Team 1 vs Team 3\nPiste E Rest vs Team 2\n\nRound 5\nPiste A Team 6 vs Team 5\nPiste B Team 7 vs Team 4\nPiste C Team 8 vs Team 3\nPiste D Team 9 vs Team 2\nPiste E Rest vs Team 1\n\nRound 6\nPiste A Team 5 vs Team 4\nPiste B Team 6 vs Team 3\nPiste C Team 7 vs Team 2\nPiste D Team 8 vs Team 1\nPiste E Rest vs Team 9\n\nRound 7\nPiste A Team 4 vs Team 3\nPiste B Team 5 vs Team 2\nPiste C Team 6 vs Team 1\nPiste D Team 7 vs Team 9\nPiste E Rest vs Team 8\n\nRound 8\nPiste A Team 3 vs Team 2\nPiste B Team 4 vs Team 1\nPiste C Team 5 vs Team 9\nPiste D Team 6 vs Team 8\nPiste E Rest vs Team 7\n\nRound 9\nPiste A Team 2 vs Team 1\nPiste B Team 3 vs Team 9\nPiste C Team 4 vs Team 8\nPiste D Team 5 vs Team 7\nPiste E Rest vs Team 6\n</code></pre>\n<p>but as you can see in the first bit of the code here</p>\n<pre><code>for (Round round : rounds) {\n            System.out.println(&quot;Round &quot; + round.getNumber());\n            List&lt;Match&gt; matches = round.getMatches();\n            for (int i = 0; i &lt; matches.size(); i++) {\n                Match match = matches.get(i);\n                String piste = pistes[i];\n                System.out.println(piste + &quot; &quot; + match.getTeam1().getName() + &quot; vs &quot; + match.getTeam2().getName());\n            }\n            System.out.println();\n        }\n</code></pre>\n<p>this loop makes it that the maximum index is 4 that means that every time I run this code it will be missing Piste E and the output will be something like this</p>\n<pre><code>Round 0\nPiste A Team 1 vs Rest\nPiste B Team 2 vs Team 9\nPiste C Team 3 vs Team 8\nPiste D Team 4 vs Team 7\n\nRound 1\nPiste A Team 2 vs Rest\nPiste B Team 3 vs Team 1\nPiste C Team 4 vs Team 9\nPiste D Team 5 vs Team 8\n\nRound 2\nPiste A Team 3 vs Rest\nPiste B Team 4 vs Team 2\nPiste C Team 5 vs Team 1\nPiste D Team 6 vs Team 9\n\nRound 3\nPiste A Team 4 vs Rest\nPiste B Team 5 vs Team 3\nPiste C Team 6 vs Team 2\nPiste D Team 7 vs Team 1\n\nRound 4\nPiste A Team 5 vs Rest\nPiste B Team 6 vs Team 4\nPiste C Team 7 vs Team 3\nPiste D Team 8 vs Team 2\n\nRound 5\nPiste A Team 6 vs Rest\nPiste B Team 7 vs Team 5\nPiste C Team 8 vs Team 4\nPiste D Team 9 vs Team 3\n\nRound 6\nPiste A Team 7 vs Rest\nPiste B Team 8 vs Team 6\nPiste C Team 9 vs Team 5\nPiste D Team 1 vs Team 4\n\nRound 7\nPiste A Team 8 vs Rest\nPiste B Team 9 vs Team 7\nPiste C Team 1 vs Team 6\nPiste D Team 2 vs Team 5\n\nRound 8\nPiste A Team 9 vs Rest\nPiste B Team 1 vs Team 8\nPiste C Team 2 vs Team 7\nPiste D Team 3 vs Team 6\n\nRound 9\nPiste A Team 1 vs Rest\nPiste B Team 2 vs Team 9\nPiste C Team 3 vs Team 8\nPiste D Team 4 vs Team 7\n</code></pre>\n<p>I am just really ignorant with this type of error it's been almost 3 days with me trying to figure out a thing. Thanks in advance</p>\n"},{"tags":["java","neo4j","cypher"],"answers":[{"tags":[],"owner":{"account_id":947871,"reputation":64267,"user_id":974731,"display_name":"cybersam"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1681151631,"creation_date":1681151631,"answer_id":75979721,"question_id":75971178,"body_markdown":"You would use the [neo4j Java API](https://neo4j.com/docs/java-reference/5/javadocs/index.html) with an embedded neo4j DB, not the [Java Driver API](https://neo4j.com/docs/java-reference/5/javadocs/index.html) (which is only for accessing un-embedded DBs).\r\n\r\nThe correct way to use Cypher with an embedded DB is [documented here](https://neo4j.com/docs/java-reference/current/java-embedded/cypher-java/).","title":"understanding ways to use cypher query in embedded neo4j app","body":"<p>You would use the <a href=\"https://neo4j.com/docs/java-reference/5/javadocs/index.html\" rel=\"nofollow noreferrer\">neo4j Java API</a> with an embedded neo4j DB, not the <a href=\"https://neo4j.com/docs/java-reference/5/javadocs/index.html\" rel=\"nofollow noreferrer\">Java Driver API</a> (which is only for accessing un-embedded DBs).</p>\n<p>The correct way to use Cypher with an embedded DB is <a href=\"https://neo4j.com/docs/java-reference/current/java-embedded/cypher-java/\" rel=\"nofollow noreferrer\">documented here</a>.</p>\n"}],"owner":{"account_id":17136588,"reputation":17,"user_id":12401486,"display_name":"Jia Weiぃも"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75979721,"answer_count":1,"score":0,"last_activity_date":1681151631,"creation_date":1681051745,"question_id":75971178,"body_markdown":"As far as I know there are 3 ways to run cypher query in with embedded java app.\r\n1. `org.neo4j.driver.Session session = GraphDatabase.driver(uri, AuthTokens.basic(user, password)).session().run(query)`\r\nsrc,chatgpt\r\n- known limitations,unable to use along with embedded neo4j app,since it needs user and password,I asssume it needs a neo4j/opencypher compatible server.\r\n\r\n2. `new GraphDatabaseFactory().newEmbeddedDatabase(STORE_DIR).execute(query)`\r\nsrc,[https://stackoverflow.com/questions/34400856/neo4j-slow-cypher-query-in-embedded-mode][1]\r\n- known limitations, excute(query); seems to not be in the current new api?[https://github.com/neo4j/neo4j/blob/5.6/community/graphdb-api/src/main/java/org/neo4j/graphdb/GraphDatabaseService.java][2]\r\n\r\n3. ` try (Transaction tx = graphDb.beginTx()) then org.neo4j.graphdb.Result result=tx.execute(query);`\r\nsrc,written by myself based on existing api,[https://github.com/neo4j/neo4j/blob/5.6/community/graphdb-api/src/main/java/org/neo4j/graphdb/Transaction.java][3]\r\n- known limitations, practically 99% of the codes needs to be rewritten since org.neo4j.graphdb.Result != org.neo4j.driver.Result and the api seems to be different.\r\n\r\n\r\nSo the main question is\r\n________\r\n- are there other better simpler ways to run cypher query that I didnt list here?\r\n- I am very new to database.Is my analysis of the limitations is (wrong/correct)?\r\n\r\nI believe some SO members might frown with 2 questions*.However I believed that the context is very important and it will clearly show my attempts and what I currently understood as.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/34400856/neo4j-slow-cypher-query-in-embedded-mode\r\n  [2]: https://github.com/neo4j/neo4j/blob/5.6/community/graphdb-api/src/main/java/org/neo4j/graphdb/GraphDatabaseService.java\r\n  [3]: https://github.com/neo4j/neo4j/blob/5.6/community/graphdb-api/src/main/java/org/neo4j/graphdb/Transaction.java","title":"understanding ways to use cypher query in embedded neo4j app","body":"<p>As far as I know there are 3 ways to run cypher query in with embedded java app.</p>\n<ol>\n<li><code>org.neo4j.driver.Session session = GraphDatabase.driver(uri, AuthTokens.basic(user, password)).session().run(query)</code>\nsrc,chatgpt</li>\n</ol>\n<ul>\n<li>known limitations,unable to use along with embedded neo4j app,since it needs user and password,I asssume it needs a neo4j/opencypher compatible server.</li>\n</ul>\n<ol start=\"2\">\n<li><code>new GraphDatabaseFactory().newEmbeddedDatabase(STORE_DIR).execute(query)</code>\nsrc,<a href=\"https://stackoverflow.com/questions/34400856/neo4j-slow-cypher-query-in-embedded-mode\">Neo4j slow cypher query in embedded mode</a></li>\n</ol>\n<ul>\n<li>known limitations, excute(query); seems to not be in the current new api?<a href=\"https://github.com/neo4j/neo4j/blob/5.6/community/graphdb-api/src/main/java/org/neo4j/graphdb/GraphDatabaseService.java\" rel=\"nofollow noreferrer\">https://github.com/neo4j/neo4j/blob/5.6/community/graphdb-api/src/main/java/org/neo4j/graphdb/GraphDatabaseService.java</a></li>\n</ul>\n<ol start=\"3\">\n<li><code> try (Transaction tx = graphDb.beginTx()) then org.neo4j.graphdb.Result result=tx.execute(query);</code>\nsrc,written by myself based on existing api,<a href=\"https://github.com/neo4j/neo4j/blob/5.6/community/graphdb-api/src/main/java/org/neo4j/graphdb/Transaction.java\" rel=\"nofollow noreferrer\">https://github.com/neo4j/neo4j/blob/5.6/community/graphdb-api/src/main/java/org/neo4j/graphdb/Transaction.java</a></li>\n</ol>\n<ul>\n<li>known limitations, practically 99% of the codes needs to be rewritten since org.neo4j.graphdb.Result != org.neo4j.driver.Result and the api seems to be different.</li>\n</ul>\n<p>So the main question is</p>\n<hr />\n<ul>\n<li>are there other better simpler ways to run cypher query that I didnt list here?</li>\n<li>I am very new to database.Is my analysis of the limitations is (wrong/correct)?</li>\n</ul>\n<p>I believe some SO members might frown with 2 questions*.However I believed that the context is very important and it will clearly show my attempts and what I currently understood as.</p>\n"},{"tags":["java","okhttp"],"comments":[{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":0,"creation_date":1681141022,"post_id":75978226,"comment_id":134004998,"body_markdown":"Simply use a regular HttpURLConnection and wrap the inputStream in an [LimitInputStream](https://guava.dev/releases/9.0/api/docs/com/google/common/io/LimitInputStream.html) or just read the InputStream slowly.","body":"Simply use a regular HttpURLConnection and wrap the inputStream in an <a href=\"https://guava.dev/releases/9.0/api/docs/com/google/common/io/LimitInputStream.html\" rel=\"nofollow noreferrer\">LimitInputStream</a> or just read the InputStream slowly."},{"owner":{"account_id":1414029,"reputation":13,"user_id":1340047,"display_name":"Drummondst"},"score":0,"creation_date":1681148939,"post_id":75978226,"comment_id":134006611,"body_markdown":"Sorry should have said this earlier. This is for an integration automation test. I need to be able to limit it from the client side.","body":"Sorry should have said this earlier. This is for an integration automation test. I need to be able to limit it from the client side."},{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":0,"creation_date":1681150754,"post_id":75978226,"comment_id":134007035,"body_markdown":"Client and server are connected via TCP so if you stop reading data on client side the server will stop sending after a short time until the client reads again. So it doesn&#39;t matter if you limit the speed on server or client side (as long as we are talking about more data that fits into a typical buffer used e.g. by the OS for TCP reception).","body":"Client and server are connected via TCP so if you stop reading data on client side the server will stop sending after a short time until the client reads again. So it doesn&#39;t matter if you limit the speed on server or client side (as long as we are talking about more data that fits into a typical buffer used e.g. by the OS for TCP reception)."}],"owner":{"account_id":1414029,"reputation":13,"user_id":1340047,"display_name":"Drummondst"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":78,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681150113,"creation_date":1681138936,"question_id":75978226,"body_markdown":"I am writing an integration automation test. I need to limit the bytes per second of an api request so that I can force a 408 response. I have not been able to figure out how to do that using a java client. I have looked at a few different ones with no luck, OKHttpclient, restsharp, resttemplate. I feel like a networkinterceptor for okhttpclient should be able to do it but was not able to figure out how to.","title":"ratelimit bytes per second in java","body":"<p>I am writing an integration automation test. I need to limit the bytes per second of an api request so that I can force a 408 response. I have not been able to figure out how to do that using a java client. I have looked at a few different ones with no luck, OKHttpclient, restsharp, resttemplate. I feel like a networkinterceptor for okhttpclient should be able to do it but was not able to figure out how to.</p>\n"},{"tags":["java","spring","liquibase"],"owner":{"account_id":8109364,"reputation":115,"user_id":6109989,"display_name":"koniga-ganica"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":99,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681150113,"creation_date":1680879097,"question_id":75959508,"body_markdown":"Good day!\r\n\r\nWe have Java + Spring app which run liquibase. \r\nCurrently in migration of liquibase from 3.5.5 to 4.8.0 version.\r\nUsing next **SpringLiquibase** setup:\r\n\r\n```\r\nprivate static SpringLiquibase liquibase(Properties properties) throws IOException {\r\n        DataSource dataSource = datasource(properties);\r\n        SpringLiquibase liquibase = new SpringLiquibase();\r\n        liquibase.setChangeLog(properties.getProperty(&quot;liquibase.masterfile&quot;,&quot;classpath:master.xml&quot;));\r\n        liquibase.setDataSource(dataSource);\r\n        liquibase.setResourceLoader(new DefaultResourceLoader());\r\n        liquibase.setClearCheckSums(true);\r\n        return liquibase;\r\n    }\r\n```\r\n\r\n\r\nby setting up **ClearCheckSums** to **true** I&#39;m expecting behaviour like here\r\nhttps://forum.liquibase.org/t/how-to-recalculate-checksums-without-re-running-the-statements-in-liquibase/5226/4 so rerun of the changeSets should not happens. CheckSums were cleaned up but rerun of scripts triggering anyway.\r\nWhat do I miss here?","title":"Migration of liquibase from 3.5.3 to 4.8.0 on java + spring app","body":"<p>Good day!</p>\n<p>We have Java + Spring app which run liquibase.\nCurrently in migration of liquibase from 3.5.5 to 4.8.0 version.\nUsing next <strong>SpringLiquibase</strong> setup:</p>\n<pre><code>private static SpringLiquibase liquibase(Properties properties) throws IOException {\n        DataSource dataSource = datasource(properties);\n        SpringLiquibase liquibase = new SpringLiquibase();\n        liquibase.setChangeLog(properties.getProperty(&quot;liquibase.masterfile&quot;,&quot;classpath:master.xml&quot;));\n        liquibase.setDataSource(dataSource);\n        liquibase.setResourceLoader(new DefaultResourceLoader());\n        liquibase.setClearCheckSums(true);\n        return liquibase;\n    }\n</code></pre>\n<p>by setting up <strong>ClearCheckSums</strong> to <strong>true</strong> I'm expecting behaviour like here\n<a href=\"https://forum.liquibase.org/t/how-to-recalculate-checksums-without-re-running-the-statements-in-liquibase/5226/4\" rel=\"nofollow noreferrer\">https://forum.liquibase.org/t/how-to-recalculate-checksums-without-re-running-the-statements-in-liquibase/5226/4</a> so rerun of the changeSets should not happens. CheckSums were cleaned up but rerun of scripts triggering anyway.\nWhat do I miss here?</p>\n"},{"tags":["java","sdk","oracle-cloud-infrastructure"],"comments":[{"owner":{"account_id":1564273,"reputation":1454,"user_id":1453413,"display_name":"HoRn"},"score":0,"creation_date":1658122353,"post_id":73007996,"comment_id":128963126,"body_markdown":"Look for the field TOO_MANY_REQUESTS or provide more code, please","body":"Look for the field TOO_MANY_REQUESTS or provide more code, please"},{"owner":{"account_id":8535736,"reputation":11,"user_id":6397631,"display_name":"M-zet Mzamo"},"score":0,"creation_date":1658149836,"post_id":73007996,"comment_id":128972152,"body_markdown":"Hi, Thanks for feedback, above is the complete code for creating an objectStorageclient object. The field &quot;TOO_MANY_REQUESTS&quot;, comes from com.oracle.bmc.circuitbreaker.CircuitBreakerConfiguration. The circuit Breaker is invoked by ObjectStoargeClient , Not sure why and how to resolve the issue","body":"Hi, Thanks for feedback, above is the complete code for creating an objectStorageclient object. The field &quot;TOO_MANY_REQUESTS&quot;, comes from com.oracle.bmc.circuitbreaker.CircuitBreakerConfiguration. The circuit Breaker is invoked by ObjectStoargeClient , Not sure why and how to resolve the issue"},{"owner":{"account_id":11118604,"reputation":328,"user_id":8162191,"display_name":"A.Shenoy"},"score":0,"creation_date":1660806848,"post_id":73007996,"comment_id":129620808,"body_markdown":"@M-zetMzamo did any of the provided solution works, I am blocked by this issue. but not able to resolve this from quite a some time.","body":"@M-zetMzamo did any of the provided solution works, I am blocked by this issue. but not able to resolve this from quite a some time."},{"owner":{"account_id":8535736,"reputation":11,"user_id":6397631,"display_name":"M-zet Mzamo"},"score":0,"creation_date":1660896928,"post_id":73007996,"comment_id":129646626,"body_markdown":"@A.Sheroy, I had to figure it out by removing aws dependencies one by one, till I found the real culprit. Below was the dependency in pom.xml, that caused conflict. &lt;!-- &lt;dependency&gt;\n            &lt;groupId&gt;com.emc.vipr&lt;/groupId&gt;\n            &lt;artifactId&gt;s3-client&lt;/artifactId&gt;\n            &lt;version&gt;2.0.3&lt;/version&gt;\n        &lt;/dependency&gt;--&gt;","body":"@A.Sheroy, I had to figure it out by removing aws dependencies one by one, till I found the real culprit. Below was the dependency in pom.xml, that caused conflict. &lt;!-- &lt;dependency&gt;             &lt;groupId&gt;com.emc.vipr&lt;/groupId&gt;             &lt;artifactId&gt;s3-client&lt;/artifactId&gt;             &lt;version&gt;2.0.3&lt;/version&gt;         &lt;/dependency&gt;--&gt;"},{"owner":{"account_id":11118604,"reputation":328,"user_id":8162191,"display_name":"A.Shenoy"},"score":0,"creation_date":1660933549,"post_id":73007996,"comment_id":129659025,"body_markdown":"Hi @M-zetMzamo I dont have any aws jars in my classpath but I am still facing this issue.","body":"Hi @M-zetMzamo I dont have any aws jars in my classpath but I am still facing this issue."}],"answers":[{"tags":[],"owner":{"account_id":20174747,"reputation":21,"user_id":14796698,"display_name":"Yash Chandra"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658169771,"creation_date":1658169771,"answer_id":73027138,"question_id":73007996,"body_markdown":"Can you please share the output of `mvn dependency:tree` from the root directory of your project? It seems the dependency `jakarta.ws.rs:jakarta.ws.rs-api` is not pointing to the right version (`2.1.6`) or is being overridden by `javax.ws.rs:javax.ws.rs-api`. To resolve this, only `jakarta.ws.rs:jakarta.ws.rs-api` version `2.1.6` should be included in your project.","title":"I am getting:- Exception in thread &quot;main&quot; java.lang.NoSuchFieldError: TOO_MANY_REQUESTS","body":"<p>Can you please share the output of <code>mvn dependency:tree</code> from the root directory of your project? It seems the dependency <code>jakarta.ws.rs:jakarta.ws.rs-api</code> is not pointing to the right version (<code>2.1.6</code>) or is being overridden by <code>javax.ws.rs:javax.ws.rs-api</code>. To resolve this, only <code>jakarta.ws.rs:jakarta.ws.rs-api</code> version <code>2.1.6</code> should be included in your project.</p>\n"},{"tags":[],"owner":{"account_id":8535736,"reputation":11,"user_id":6397631,"display_name":"M-zet Mzamo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658238275,"creation_date":1658236647,"answer_id":73037659,"question_id":73007996,"body_markdown":"I removed *aws-java-sdk** dependencies from pom.xml, and my code worked. Looks like there is a conflict between *oci-java-sdk* and *aws-java-sdk* dependencies. The below dependencies were removed and the exception disappeared\r\n\r\n    &lt;!-- &lt;dependency&gt;\r\n            &lt;groupId&gt;com.amazonaws&lt;/groupId&gt;\r\n            &lt;artifactId&gt;aws-java-sdk-s3&lt;/artifactId&gt;\r\n            &lt;version&gt;1.11.908&lt;/version&gt;\r\n        &lt;/dependency&gt;--&gt;\r\n\r\n    &lt;!--&lt;dependency&gt;\r\n            &lt;groupId&gt;com.amazonaws&lt;/groupId&gt;\r\n            &lt;artifactId&gt;aws-java-sdk-core&lt;/artifactId&gt;\r\n            &lt;version&gt;1.11.908&lt;/version&gt;\r\n        &lt;/dependency&gt;--&gt;","title":"I am getting:- Exception in thread &quot;main&quot; java.lang.NoSuchFieldError: TOO_MANY_REQUESTS","body":"<p>I removed <em>aws-java-sdk</em>* dependencies from pom.xml, and my code worked. Looks like there is a conflict between <em>oci-java-sdk</em> and <em>aws-java-sdk</em> dependencies. The below dependencies were removed and the exception disappeared</p>\n<pre><code>&lt;!-- &lt;dependency&gt;\n        &lt;groupId&gt;com.amazonaws&lt;/groupId&gt;\n        &lt;artifactId&gt;aws-java-sdk-s3&lt;/artifactId&gt;\n        &lt;version&gt;1.11.908&lt;/version&gt;\n    &lt;/dependency&gt;--&gt;\n\n&lt;!--&lt;dependency&gt;\n        &lt;groupId&gt;com.amazonaws&lt;/groupId&gt;\n        &lt;artifactId&gt;aws-java-sdk-core&lt;/artifactId&gt;\n        &lt;version&gt;1.11.908&lt;/version&gt;\n    &lt;/dependency&gt;--&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2578840,"reputation":51,"user_id":2235954,"display_name":"cpp2005"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681149018,"creation_date":1681149018,"answer_id":75979443,"question_id":73007996,"body_markdown":"I have the same error, reproducable with only two maven dependencies:\r\n\r\n   \t\t&lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;org.apache.hadoop&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;hadoop-client&lt;/artifactId&gt;\r\n\t\t    &lt;version&gt;3.3.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t  &lt;groupId&gt;com.oracle.oci.sdk&lt;/groupId&gt;\r\n\t\t  &lt;artifactId&gt;oci-hdfs-connector&lt;/artifactId&gt;\r\n\t\t  &lt;version&gt;3.3.1.0.3.6&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\nThere is a old jar that is conflicting with jakarta, I found this one having the same classes:\r\n\r\n    javax.ws.rs:jsr311-api:jar:1.1.1:compile\r\n\r\nOnce it is excluded, error is gone\r\nSimple way to exclude it, add direct dependency to it&#39;s parent, jersey-core, and exclude from it:\r\n\r\n   \t\t&lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;com.sun.jersey&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;jersey-core&lt;/artifactId&gt;\r\n\t\t    &lt;version&gt;1.19&lt;/version&gt;\r\n\t\t\t&lt;exclusions&gt;\r\n\t\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t\t&lt;groupId&gt;javax.ws.rs&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;jsr311-api&lt;/artifactId&gt;\r\n\t\t\t\t&lt;/exclusion&gt;\r\n\t\t\t&lt;/exclusions&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n","title":"I am getting:- Exception in thread &quot;main&quot; java.lang.NoSuchFieldError: TOO_MANY_REQUESTS","body":"<p>I have the same error, reproducable with only two maven dependencies:</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.hadoop&lt;/groupId&gt;\n        &lt;artifactId&gt;hadoop-client&lt;/artifactId&gt;\n        &lt;version&gt;3.3.1&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n      &lt;groupId&gt;com.oracle.oci.sdk&lt;/groupId&gt;\n      &lt;artifactId&gt;oci-hdfs-connector&lt;/artifactId&gt;\n      &lt;version&gt;3.3.1.0.3.6&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>There is a old jar that is conflicting with jakarta, I found this one having the same classes:</p>\n<pre><code>javax.ws.rs:jsr311-api:jar:1.1.1:compile\n</code></pre>\n<p>Once it is excluded, error is gone\nSimple way to exclude it, add direct dependency to it's parent, jersey-core, and exclude from it:</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;com.sun.jersey&lt;/groupId&gt;\n        &lt;artifactId&gt;jersey-core&lt;/artifactId&gt;\n        &lt;version&gt;1.19&lt;/version&gt;\n        &lt;exclusions&gt;\n            &lt;exclusion&gt;\n                &lt;groupId&gt;javax.ws.rs&lt;/groupId&gt;\n                &lt;artifactId&gt;jsr311-api&lt;/artifactId&gt;\n            &lt;/exclusion&gt;\n        &lt;/exclusions&gt;\n    &lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":8535736,"reputation":11,"user_id":6397631,"display_name":"M-zet Mzamo"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":625,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1681149018,"creation_date":1658009981,"question_id":73007996,"body_markdown":"```java\r\nAuthenticationDetailsProvider provider = SimpleAuthenticationDetailsProvider.builder()\r\n        .tenantId(oci_tenant_id)\r\n        .userId(oci_user_id)\r\n        .region(Region.AF_JOHANNESBURG_1)\r\n        .fingerprint(oci_finger_print)\r\n        .privateKeySupplier((Supplier) privateKeySupplier)\r\n        .build();\r\n\r\nObjectStorage ociClient = new ObjectStorageClient(provider);\r\n```\r\n\r\nFrom the above I get the below exception when creating:\r\n```java\r\nObjectStorage ociClient = new ObjectStorageClient(provider);\r\n```\r\n\r\n```\r\nException in thread &quot;main&quot; java.lang_.NoSuchFieldError Create breakpoints: TOO_MANY_REQUESTS\r\n    at com.oracle.bmc.circuitbreaker.CircuitBreakerConfiguration.(CircuitBreakerConfiguration.java:44)\r\n    at com.oracle.bmc.util.CircuitBreakerUtils.(CircuitBreakerUtils.java:35)\r\n    at com.oracle.bmc.objectstorage.ObjectStorageClient.(ObjectStorageClient.java:317)\r\n    at com.oracle.bmc.objectstorage.ObjectStorageClient.(ObjectStorageClient.java:224)\r\n    at com.oracle.bmc.objectstorage.ObjectStorageClient.(ObjectStorageClient.java:187)\r\n    at com.oracle.bmc.objectstorage.ObjectStorageClient.(ObjectStorageClient.java:152)\r\n    at com.oracle.bmc.objectstorage.ObjectStorageClient.(ObjectStorageClient.java:124)\r\n    at com.oracle.bmc.objectstorage.ObjectStorageClient.(ObjectStorageClient.java:99)\r\n    at com.oracle.bmc.objectstorage.ObjectStorageClient.(ObjectStorageClient.java:76)\r\n    at com.oracle.bmc.objectstorage.ObjectStorageClient.(ObjectStorageClient.java:62)\r\n    at com.oracle.bmc.objectstorage.ObjectStorageClient.(ObjectStorageClient.java:51)\r\n    at com.vodacom.oci.services.OCI_GenericUtility.getObjectClient(OCI_GenericUtility.java:137)\r\n    at com.vodacom.oci.services.OCI_GenericUtility.main(OCI_GenericUtility.java:47)\r\n```","title":"I am getting:- Exception in thread &quot;main&quot; java.lang.NoSuchFieldError: TOO_MANY_REQUESTS","body":"<pre class=\"lang-java prettyprint-override\"><code>AuthenticationDetailsProvider provider = SimpleAuthenticationDetailsProvider.builder()\n        .tenantId(oci_tenant_id)\n        .userId(oci_user_id)\n        .region(Region.AF_JOHANNESBURG_1)\n        .fingerprint(oci_finger_print)\n        .privateKeySupplier((Supplier) privateKeySupplier)\n        .build();\n\nObjectStorage ociClient = new ObjectStorageClient(provider);\n</code></pre>\n<p>From the above I get the below exception when creating:</p>\n<pre class=\"lang-java prettyprint-override\"><code>ObjectStorage ociClient = new ObjectStorageClient(provider);\n</code></pre>\n<pre><code>Exception in thread &quot;main&quot; java.lang_.NoSuchFieldError Create breakpoints: TOO_MANY_REQUESTS\n    at com.oracle.bmc.circuitbreaker.CircuitBreakerConfiguration.(CircuitBreakerConfiguration.java:44)\n    at com.oracle.bmc.util.CircuitBreakerUtils.(CircuitBreakerUtils.java:35)\n    at com.oracle.bmc.objectstorage.ObjectStorageClient.(ObjectStorageClient.java:317)\n    at com.oracle.bmc.objectstorage.ObjectStorageClient.(ObjectStorageClient.java:224)\n    at com.oracle.bmc.objectstorage.ObjectStorageClient.(ObjectStorageClient.java:187)\n    at com.oracle.bmc.objectstorage.ObjectStorageClient.(ObjectStorageClient.java:152)\n    at com.oracle.bmc.objectstorage.ObjectStorageClient.(ObjectStorageClient.java:124)\n    at com.oracle.bmc.objectstorage.ObjectStorageClient.(ObjectStorageClient.java:99)\n    at com.oracle.bmc.objectstorage.ObjectStorageClient.(ObjectStorageClient.java:76)\n    at com.oracle.bmc.objectstorage.ObjectStorageClient.(ObjectStorageClient.java:62)\n    at com.oracle.bmc.objectstorage.ObjectStorageClient.(ObjectStorageClient.java:51)\n    at com.vodacom.oci.services.OCI_GenericUtility.getObjectClient(OCI_GenericUtility.java:137)\n    at com.vodacom.oci.services.OCI_GenericUtility.main(OCI_GenericUtility.java:47)\n</code></pre>\n"},{"tags":["java","spring-boot","spring-data-jpa","optimistic-locking"],"comments":[{"owner":{"account_id":12425782,"reputation":8911,"user_id":9050514,"display_name":"deadshot"},"score":0,"creation_date":1681149029,"post_id":75979323,"comment_id":134006629,"body_markdown":"`Caused by: java.lang.NullPointerException: Cannot invoke &quot;java.lang.Integer.intValue()&quot; because &quot;current&quot; is null` check this","body":"<code>Caused by: java.lang.NullPointerException: Cannot invoke &quot;java.lang.Integer.intValue()&quot; because &quot;current&quot; is null</code> check this"},{"owner":{"account_id":5672211,"reputation":4278,"user_id":4969916,"accept_rate":35,"display_name":"Shiladittya Chakraborty"},"score":0,"creation_date":1681149224,"post_id":75979323,"comment_id":134006673,"body_markdown":"what its trying to say about to &quot;current&quot; ?","body":"what its trying to say about to &quot;current&quot; ?"},{"owner":{"account_id":12425782,"reputation":8911,"user_id":9050514,"display_name":"deadshot"},"score":0,"creation_date":1681149330,"post_id":75979323,"comment_id":134006697,"body_markdown":"is this happening after adding the version? try adding `@Column(name = &quot;version&quot;, nullable = false)`","body":"is this happening after adding the version? try adding <code>@Column(name = &quot;version&quot;, nullable = false)</code>"},{"owner":{"account_id":5672211,"reputation":4278,"user_id":4969916,"accept_rate":35,"display_name":"Shiladittya Chakraborty"},"score":0,"creation_date":1681149448,"post_id":75979323,"comment_id":134006725,"body_markdown":"Yes.. After adding version this issue started coming... I have created this column into existing table","body":"Yes.. After adding version this issue started coming... I have created this column into existing table"},{"owner":{"account_id":12425782,"reputation":8911,"user_id":9050514,"display_name":"deadshot"},"score":0,"creation_date":1681149544,"post_id":75979323,"comment_id":134006752,"body_markdown":"try setting the default version 0 or 1","body":"try setting the default version 0 or 1"},{"owner":{"account_id":12425782,"reputation":8911,"user_id":9050514,"display_name":"deadshot"},"score":1,"creation_date":1681149776,"post_id":75979323,"comment_id":134006809,"body_markdown":"this may help https://stackoverflow.com/questions/39509851/how-to-set-default-value-to-version-column-for-existing-data","body":"this may help <a href=\"https://stackoverflow.com/questions/39509851/how-to-set-default-value-to-version-column-for-existing-data\" title=\"how to set default value to version column for existing data\">stackoverflow.com/questions/39509851/&hellip;</a>"},{"owner":{"account_id":5672211,"reputation":4278,"user_id":4969916,"accept_rate":35,"display_name":"Shiladittya Chakraborty"},"score":0,"creation_date":1681151002,"post_id":75979323,"comment_id":134007084,"body_markdown":"@deadshot Thanks for your help. Its working fine now. The only issue I am getting that version value always inserted as 0. Its should be increase correct?","body":"@deadshot Thanks for your help. Its working fine now. The only issue I am getting that version value always inserted as 0. Its should be increase correct?"},{"owner":{"account_id":12425782,"reputation":8911,"user_id":9050514,"display_name":"deadshot"},"score":0,"creation_date":1681151494,"post_id":75979323,"comment_id":134007184,"body_markdown":"yeah, it will increase, or you can keep the default value in db, write an update query add default version to existing entities","body":"yeah, it will increase, or you can keep the default value in db, write an update query add default version to existing entities"},{"owner":{"account_id":5672211,"reputation":4278,"user_id":4969916,"accept_rate":35,"display_name":"Shiladittya Chakraborty"},"score":0,"creation_date":1681151615,"post_id":75979323,"comment_id":134007209,"body_markdown":"Any idea like why its not increasing?","body":"Any idea like why its not increasing?"},{"owner":{"account_id":12425782,"reputation":8911,"user_id":9050514,"display_name":"deadshot"},"score":0,"creation_date":1681152160,"post_id":75979323,"comment_id":134007323,"body_markdown":"check this post it has similar issue https://stackoverflow.com/questions/24321280/jpa-version-field-doesnt-get-incremented","body":"check this post it has similar issue <a href=\"https://stackoverflow.com/questions/24321280/jpa-version-field-doesnt-get-incremented\" title=\"jpa version field doesnt get incremented\">stackoverflow.com/questions/24321280/&hellip;</a>"}],"owner":{"account_id":5672211,"reputation":4278,"user_id":4969916,"accept_rate":35,"display_name":"Shiladittya Chakraborty"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":149,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1681148654,"creation_date":1681148076,"question_id":75979323,"body_markdown":"Trying to use optimistic locking implementation. So I followed below steps\r\n\r\n 1. Create version filed in the table\r\n 2. Same filed defined in entity class\r\n\r\nEntity looks like below\r\n\r\n    @Entity\r\n    @Table(name = &quot;txn_customer&quot;)\r\n    public class TxnCustomer implements Serializable {\r\n    \tprivate static final long serialVersionUID = 1L;\r\n    \r\n    \t@Id\r\n    \t@GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    \t@Column(name = &quot;TXN_ID&quot;)\r\n    \tprivate Integer txnId;\r\n    \r\n    \t@Version\r\n    \tprivate Integer version;\r\n    \r\n    \t@Temporal(TemporalType.DATE)\r\n    \t@Column(name = &quot;TXN_DATE&quot;)\r\n    \tprivate Date txnDate;\r\n    \r\n    \t@Column(name = &quot;CASHMEMO_NUMBER&quot;)\r\n    \tprivate Long cashmemoNumber;\r\n    \r\n    \t@Column(name = &quot;INVOICE_AMOUNT&quot;)\r\n    \tprivate double invoiceAmount;\r\n    \t\r\n    }\t\r\n\r\nNow I am trying to insert 2 records into txn_customer table using JPA. I have below code \r\n\r\n    @Transactional(propagation = Propagation.REQUIRED)\r\n\tpublic TransactionResponseDTO saveTransaction(RequestDTO requestDTO) {\r\n\t\tTxnCustomer object1 = saveTxnCustomer(requestDTO);\r\n\t\trepo.save(object1);\r\n\r\n\t\tTxnCustomer object2 = saveTxnCustomer(requestDTO);\r\n\t\trepo.save(object2);\r\n\t}\t\r\n\t\r\nWhile executing above code then getting below exception \r\n\r\n    Caused by: javax.persistence.RollbackException: Error while committing the transaction\r\n    \tat org.hibernate.internal.ExceptionConverterImpl.convertCommitException(ExceptionConverterImpl.java:81) ~[hibernate-core-5.6.14.Final.jar:5.6.14.Final]\r\n    \tat org.hibernate.engine.transaction.internal.TransactionImpl.commit(TransactionImpl.java:104) ~[hibernate-core-5.6.14.Final.jar:5.6.14.Final]\r\n    \tat org.springframework.orm.jpa.JpaTransactionManager.doCommit(JpaTransactionManager.java:562) ~[spring-orm-5.3.24.jar:5.3.24]\r\n    \t... 72 common frames omitted\r\n    Caused by: java.lang.NullPointerException: Cannot invoke &quot;java.lang.Integer.intValue()&quot; because &quot;current&quot; is null\r\n    \tat org.hibernate.type.IntegerType.next(IntegerType.java:70) ~[hibernate-core-5.6.14.Final.jar:5.6.14.Final]\r\n    \tat org.hibernate.type.IntegerType.next(IntegerType.java:22) ~[hibernate-core-5.6.14.Final.jar:5.6.14.Final]\r\n    \tat org.hibernate.engine.internal.Versioning.increment(Versioning.java:92) ~[hibernate-core-5.6.14.Final.jar:5.6.14.Final]\r\n    \tat org.hibernate.event.internal.DefaultFlushEntityEventListener.getNextVersion(DefaultFlushEntityEventListener.java:430) ~[hibernate-core-5.6.14.Final.jar:5.6.14.Final]\r\n    \tat org.hibernate.event.internal.DefaultFlushEntityEventListener.scheduleUpdate(DefaultFlushEntityEventListener.java:307) ~[hibernate-core-5.6.14.Final.jar:5.6.14.Final]\r\n    \tat org.hibernate.event.internal.DefaultFlushEntityEventListener.onFlushEntity(DefaultFlushEntityEventListener.java:175) ~[hibernate-core-5.6.14.Final.jar:5.6.14.Final]\r\n    \tat org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:107) ~[hibernate-core-5.6.14.Final.jar:5.6.14.Final]\r\n    \tat org.hibernate.event.internal.AbstractFlushingEventListener.flushEntities(AbstractFlushingEventListener.java:229) ~[hibernate-core-5.6.14.Final.jar:5.6.14.Final]\r\n    \tat org.hibernate.event.internal.AbstractFlushingEventListener.flushEverythingToExecutions(AbstractFlushingEventListener.java:93) ~[hibernate-core-5.6.14.Final.jar:5.6.14.Final]\r\n    \tat org.hibernate.event.internal.DefaultFlushEventListener.onFlush(DefaultFlushEventListener.java:39) ~[hibernate-core-5.6.14.Final.jar:5.6.14.Final]\r\n    \tat org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:107) ~[hibernate-core-5.6.14.Final.jar:5.6.14.Final]\r\n    \tat org.hibernate.internal.SessionImpl.doFlush(SessionImpl.java:1407) ~[hibernate-core-5.6.14.Final.jar:5.6.14.Final]\r\n    \tat org.hibernate.internal.SessionImpl.managedFlush(SessionImpl.java:489) ~[hibernate-core-5.6.14.Final.jar:5.6.14.Final]\r\n    \tat org.hibernate.internal.SessionImpl.flushBeforeTransactionCompletion(SessionImpl.java:3303) ~[hibernate-core-5.6.14.Final.jar:5.6.14.Final]\r\n    \tat org.hibernate.internal.SessionImpl.beforeTransactionCompletion(SessionImpl.java:2438) ~[hibernate-core-5.6.14.Final.jar:5.6.14.Final]\r\n    \tat org.hibernate.engine.jdbc.internal.JdbcCoordinatorImpl.beforeTransactionCompletion(JdbcCoordinatorImpl.java:449) ~[hibernate-core-5.6.14.Final.jar:5.6.14.Final]\r\n    \tat org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.beforeCompletionCallback(JdbcResourceLocalTransactionCoordinatorImpl.java:183) ~[hibernate-core-5.6.14.Final.jar:5.6.14.Final]\r\n    \tat org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.access$300(JdbcResourceLocalTransactionCoordinatorImpl.java:40) ~[hibernate-core-5.6.14.Final.jar:5.6.14.Final]\r\n    \tat org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.commit(JdbcResourceLocalTransactionCoordinatorImpl.java:281) ~[hibernate-core-5.6.14.Final.jar:5.6.14.Final]\r\n    \tat org.hibernate.engine.transaction.internal.TransactionImpl.commit(TransactionImpl.java:101) ~[hibernate-core-5.6.14.Final.jar:5.6.14.Final]\r\n    \t... 73 common frames omitted\r\n\r\n    org.springframework.transaction.TransactionSystemException: Could not commit JPA transaction; nested exception is javax.persistence.RollbackException: Error while committing the transaction\r\n    \tat org.springframework.orm.jpa.JpaTransactionManager.doCommit(JpaTransactionManager.java:571) ~[spring-orm-5.3.24.jar:5.3.24]\r\n    \tat org.springframework.transaction.support.AbstractPlatformTransactionManager.processCommit(AbstractPlatformTransactionManager.java:743) ~[spring-tx-5.3.24.jar:5.3.24]\r\n    \tat org.springframework.transaction.support.AbstractPlatformTransactionManager.commit(AbstractPlatformTransactionManager.java:711) ~[spring-tx-5.3.24.jar:5.3.24]\r\n    \tat org.springframework.transaction.interceptor.TransactionAspectSupport.commitTransactionAfterReturning(TransactionAspectSupport.java:654) ~[spring-tx-5.3.24.jar:5.3.24]\r\n    \tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:407) ~[spring-tx-5.3.24.jar:5.3.24]\r\n    \tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.24.jar:5.3.24]\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.24.jar:5.3.24]\r\n    \tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.24.jar:5.3.24]\r\n    \tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708) ~[spring-aop-5.3.24.jar:5.3.24]\r\n\r\nCan someone please let me why I am getting this issue/or how to solve this one?\t\r\n\r\n","title":"Optimistic locking with multiple record insertion in same table","body":"<p>Trying to use optimistic locking implementation. So I followed below steps</p>\n<ol>\n<li>Create version filed in the table</li>\n<li>Same filed defined in entity class</li>\n</ol>\n<p>Entity looks like below</p>\n<pre><code>@Entity\n@Table(name = &quot;txn_customer&quot;)\npublic class TxnCustomer implements Serializable {\n    private static final long serialVersionUID = 1L;\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = &quot;TXN_ID&quot;)\n    private Integer txnId;\n\n    @Version\n    private Integer version;\n\n    @Temporal(TemporalType.DATE)\n    @Column(name = &quot;TXN_DATE&quot;)\n    private Date txnDate;\n\n    @Column(name = &quot;CASHMEMO_NUMBER&quot;)\n    private Long cashmemoNumber;\n\n    @Column(name = &quot;INVOICE_AMOUNT&quot;)\n    private double invoiceAmount;\n    \n}   \n</code></pre>\n<p>Now I am trying to insert 2 records into txn_customer table using JPA. I have below code</p>\n<pre><code>@Transactional(propagation = Propagation.REQUIRED)\npublic TransactionResponseDTO saveTransaction(RequestDTO requestDTO) {\n    TxnCustomer object1 = saveTxnCustomer(requestDTO);\n    repo.save(object1);\n\n    TxnCustomer object2 = saveTxnCustomer(requestDTO);\n    repo.save(object2);\n}   \n</code></pre>\n<p>While executing above code then getting below exception</p>\n<pre><code>Caused by: javax.persistence.RollbackException: Error while committing the transaction\n    at org.hibernate.internal.ExceptionConverterImpl.convertCommitException(ExceptionConverterImpl.java:81) ~[hibernate-core-5.6.14.Final.jar:5.6.14.Final]\n    at org.hibernate.engine.transaction.internal.TransactionImpl.commit(TransactionImpl.java:104) ~[hibernate-core-5.6.14.Final.jar:5.6.14.Final]\n    at org.springframework.orm.jpa.JpaTransactionManager.doCommit(JpaTransactionManager.java:562) ~[spring-orm-5.3.24.jar:5.3.24]\n    ... 72 common frames omitted\nCaused by: java.lang.NullPointerException: Cannot invoke &quot;java.lang.Integer.intValue()&quot; because &quot;current&quot; is null\n    at org.hibernate.type.IntegerType.next(IntegerType.java:70) ~[hibernate-core-5.6.14.Final.jar:5.6.14.Final]\n    at org.hibernate.type.IntegerType.next(IntegerType.java:22) ~[hibernate-core-5.6.14.Final.jar:5.6.14.Final]\n    at org.hibernate.engine.internal.Versioning.increment(Versioning.java:92) ~[hibernate-core-5.6.14.Final.jar:5.6.14.Final]\n    at org.hibernate.event.internal.DefaultFlushEntityEventListener.getNextVersion(DefaultFlushEntityEventListener.java:430) ~[hibernate-core-5.6.14.Final.jar:5.6.14.Final]\n    at org.hibernate.event.internal.DefaultFlushEntityEventListener.scheduleUpdate(DefaultFlushEntityEventListener.java:307) ~[hibernate-core-5.6.14.Final.jar:5.6.14.Final]\n    at org.hibernate.event.internal.DefaultFlushEntityEventListener.onFlushEntity(DefaultFlushEntityEventListener.java:175) ~[hibernate-core-5.6.14.Final.jar:5.6.14.Final]\n    at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:107) ~[hibernate-core-5.6.14.Final.jar:5.6.14.Final]\n    at org.hibernate.event.internal.AbstractFlushingEventListener.flushEntities(AbstractFlushingEventListener.java:229) ~[hibernate-core-5.6.14.Final.jar:5.6.14.Final]\n    at org.hibernate.event.internal.AbstractFlushingEventListener.flushEverythingToExecutions(AbstractFlushingEventListener.java:93) ~[hibernate-core-5.6.14.Final.jar:5.6.14.Final]\n    at org.hibernate.event.internal.DefaultFlushEventListener.onFlush(DefaultFlushEventListener.java:39) ~[hibernate-core-5.6.14.Final.jar:5.6.14.Final]\n    at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:107) ~[hibernate-core-5.6.14.Final.jar:5.6.14.Final]\n    at org.hibernate.internal.SessionImpl.doFlush(SessionImpl.java:1407) ~[hibernate-core-5.6.14.Final.jar:5.6.14.Final]\n    at org.hibernate.internal.SessionImpl.managedFlush(SessionImpl.java:489) ~[hibernate-core-5.6.14.Final.jar:5.6.14.Final]\n    at org.hibernate.internal.SessionImpl.flushBeforeTransactionCompletion(SessionImpl.java:3303) ~[hibernate-core-5.6.14.Final.jar:5.6.14.Final]\n    at org.hibernate.internal.SessionImpl.beforeTransactionCompletion(SessionImpl.java:2438) ~[hibernate-core-5.6.14.Final.jar:5.6.14.Final]\n    at org.hibernate.engine.jdbc.internal.JdbcCoordinatorImpl.beforeTransactionCompletion(JdbcCoordinatorImpl.java:449) ~[hibernate-core-5.6.14.Final.jar:5.6.14.Final]\n    at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.beforeCompletionCallback(JdbcResourceLocalTransactionCoordinatorImpl.java:183) ~[hibernate-core-5.6.14.Final.jar:5.6.14.Final]\n    at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.access$300(JdbcResourceLocalTransactionCoordinatorImpl.java:40) ~[hibernate-core-5.6.14.Final.jar:5.6.14.Final]\n    at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.commit(JdbcResourceLocalTransactionCoordinatorImpl.java:281) ~[hibernate-core-5.6.14.Final.jar:5.6.14.Final]\n    at org.hibernate.engine.transaction.internal.TransactionImpl.commit(TransactionImpl.java:101) ~[hibernate-core-5.6.14.Final.jar:5.6.14.Final]\n    ... 73 common frames omitted\n\norg.springframework.transaction.TransactionSystemException: Could not commit JPA transaction; nested exception is javax.persistence.RollbackException: Error while committing the transaction\n    at org.springframework.orm.jpa.JpaTransactionManager.doCommit(JpaTransactionManager.java:571) ~[spring-orm-5.3.24.jar:5.3.24]\n    at org.springframework.transaction.support.AbstractPlatformTransactionManager.processCommit(AbstractPlatformTransactionManager.java:743) ~[spring-tx-5.3.24.jar:5.3.24]\n    at org.springframework.transaction.support.AbstractPlatformTransactionManager.commit(AbstractPlatformTransactionManager.java:711) ~[spring-tx-5.3.24.jar:5.3.24]\n    at org.springframework.transaction.interceptor.TransactionAspectSupport.commitTransactionAfterReturning(TransactionAspectSupport.java:654) ~[spring-tx-5.3.24.jar:5.3.24]\n    at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:407) ~[spring-tx-5.3.24.jar:5.3.24]\n    at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.24.jar:5.3.24]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.24.jar:5.3.24]\n    at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.24.jar:5.3.24]\n    at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708) ~[spring-aop-5.3.24.jar:5.3.24]\n</code></pre>\n<p>Can someone please let me why I am getting this issue/or how to solve this one?</p>\n"},{"tags":["java","android","textview","uppercase","lowercase"],"answers":[{"tags":[],"owner":{"account_id":28265446,"reputation":1,"user_id":21609474,"display_name":"Caleb Wacht"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681145629,"creation_date":1681145384,"answer_id":75978982,"question_id":75978916,"body_markdown":"the function &quot;indexOf()&quot; used in the line 5 of the second script is a case_sensitive, probably it is your problem with the uppercase letters, if its possible you can pass only lower case letters in your method, with the funciont .toLowerCase();\r\n\r\nlike this:\r\n\r\n    textview1.setText(s.toLowerCase());\r\n\r\n \r\n\r\n\r\n\r\n  ","title":"how to set spanteks regardless of uppercase/lowercase?","body":"<p>the function &quot;indexOf()&quot; used in the line 5 of the second script is a case_sensitive, probably it is your problem with the uppercase letters, if its possible you can pass only lower case letters in your method, with the funciont .toLowerCase();</p>\n<p>like this:</p>\n<pre><code>textview1.setText(s.toLowerCase());\n</code></pre>\n"}],"owner":{"account_id":28115816,"reputation":26,"user_id":21482940,"display_name":"Fiqih Hasroni"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1681148284,"creation_date":1681144801,"question_id":75978916,"body_markdown":"how to set spanteks regardless of uppercase/lowercase?\r\nI have a desire to make input spantext irrespective of uppercase or lowercase\r\n\r\nonCreate \r\n``` \r\nString s = &quot;aAaAaAa&quot;; \r\ntextview1.setText(s); \r\n_changeTextinView( &quot;a&quot;, Color.RED,textview1); \r\n``` \r\nThis is my function spantext \r\n``` \r\npublic void _changeTextinView(final String _target, final int _colour, final TextView _tv) {\r\n  String vString = (String) _tv.getText();\r\n  int startSpan = 0, endSpan = 0;\r\n  Spannable spanRange = new SpannableString(vString);\r\n  while (true) {\r\n    startSpan = vString.indexOf(_target, endSpan);\r\n    ForegroundColorSpan foreColour = new ForegroundColorSpan(_colour);\r\n    // Need a NEW span object every loop, else it just moves the span \t\t\t \r\n    if (startSpan &lt; 0)\r\n    break;\r\n    endSpan = startSpan + _target.length();\r\n    spanRange.setSpan(foreColour, startSpan, endSpan,Spannable.SPAN_EXCLUSIVE_EXCLUSIVE); \t\t\t \r\n    \r\n  } \t\t \r\n  _tv.setText(spanRange); \t} \t \r\n  ```\r\n\r\nIf iam input \r\n``` \r\n_changeTextinView( &quot;a&quot;, Color.RED,textview1); \r\n``` \r\nTextview _tv contain &quot;A&quot; uppercase the color doesn&#39;t change, on the contrary &quot;a&quot; the color is change\r\n\r\nIf iam input \r\n``` \r\n_changeTextinView( &quot;A&quot;, Color.RED,textview1); \r\n``` \r\nTextview _tv contain &quot;a&quot; lowercase the color doesn&#39;t change, on the contrary &quot;A&quot; the color is change\r\n\r\nI want to set spanteks regardless of uppercase/lowercase","title":"how to set spanteks regardless of uppercase/lowercase?","body":"<p>how to set spanteks regardless of uppercase/lowercase?\nI have a desire to make input spantext irrespective of uppercase or lowercase</p>\n<p>onCreate</p>\n<pre><code>String s = &quot;aAaAaAa&quot;; \ntextview1.setText(s); \n_changeTextinView( &quot;a&quot;, Color.RED,textview1); \n</code></pre>\n<p>This is my function spantext</p>\n<pre><code>public void _changeTextinView(final String _target, final int _colour, final TextView _tv) {\n  String vString = (String) _tv.getText();\n  int startSpan = 0, endSpan = 0;\n  Spannable spanRange = new SpannableString(vString);\n  while (true) {\n    startSpan = vString.indexOf(_target, endSpan);\n    ForegroundColorSpan foreColour = new ForegroundColorSpan(_colour);\n    // Need a NEW span object every loop, else it just moves the span            \n    if (startSpan &lt; 0)\n    break;\n    endSpan = startSpan + _target.length();\n    spanRange.setSpan(foreColour, startSpan, endSpan,Spannable.SPAN_EXCLUSIVE_EXCLUSIVE);            \n    \n  }          \n  _tv.setText(spanRange);   }    \n</code></pre>\n<p>If iam input</p>\n<pre><code>_changeTextinView( &quot;a&quot;, Color.RED,textview1); \n</code></pre>\n<p>Textview _tv contain &quot;A&quot; uppercase the color doesn't change, on the contrary &quot;a&quot; the color is change</p>\n<p>If iam input</p>\n<pre><code>_changeTextinView( &quot;A&quot;, Color.RED,textview1); \n</code></pre>\n<p>Textview _tv contain &quot;a&quot; lowercase the color doesn't change, on the contrary &quot;A&quot; the color is change</p>\n<p>I want to set spanteks regardless of uppercase/lowercase</p>\n"},{"tags":["java","android","android-studio","push-notification","notifications"],"comments":[{"owner":{"account_id":39574,"reputation":24267,"user_id":114226,"accept_rate":79,"display_name":"PeterMmm"},"score":0,"creation_date":1680806699,"post_id":75952158,"comment_id":133964023,"body_markdown":"Runs here. Inspect logcat.","body":"Runs here. Inspect logcat."}],"answers":[{"tags":[],"owner":{"account_id":28234384,"reputation":11,"user_id":21583088,"display_name":"Lav"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1681148249,"creation_date":1681148249,"answer_id":75979348,"question_id":75952158,"body_markdown":"I was using Android 13 and the Android 13 needs notification permission.\r\nAfter giving the permission it works fine.","title":"Notification is not shown on oncreate()","body":"<p>I was using Android 13 and the Android 13 needs notification permission.\nAfter giving the permission it works fine.</p>\n"}],"owner":{"account_id":28234384,"reputation":11,"user_id":21583088,"display_name":"Lav"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75979348,"answer_count":1,"score":1,"last_activity_date":1681148249,"creation_date":1680801539,"question_id":75952158,"body_markdown":"I am trying to create a notification. But when I run, the notification is not shown. \r\nCan someone tell me what is wrong in the below code.\r\n\r\n\r\n```\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport androidx.core.app.NotificationCompat;\r\nimport androidx.core.content.res.ResourcesCompat;\r\n\r\nimport android.app.Notification;\r\nimport android.app.NotificationChannel;\r\nimport android.app.NotificationManager;\r\nimport android.graphics.Bitmap;\r\nimport android.graphics.drawable.BitmapDrawable;\r\nimport android.graphics.drawable.Drawable;\r\nimport android.os.Build;\r\nimport android.os.Bundle;\r\nimport android.util.Log;\r\n\r\npublic class MainActivity extends AppCompatActivity {\r\n    private static final String CHANNEL_ID = &quot;all_notifications&quot;;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        NotificationManager nm =  (NotificationManager) this.getSystemService(NOTIFICATION_SERVICE);\r\n        Notification notification;\r\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\r\n\r\n            NotificationChannel channelN = new NotificationChannel(CHANNEL_ID, &quot;New Channel&quot;, NotificationManager.IMPORTANCE_HIGH);\r\n            nm.createNotificationChannel(channelN);\r\n\r\n            notification = new Notification.Builder(this, CHANNEL_ID)\r\n                    .setSmallIcon(R.drawable.small_icon)\r\n                    .setContentText(&quot;New Message&quot;)\r\n                    .setSubText(&quot;subText&quot;)\r\n                    .setChannelId(CHANNEL_ID)\r\n                    .build();\r\n        }\r\n        else\r\n        {\r\n            notification = new Notification.Builder(this)\r\n                    .setSmallIcon(R.drawable.small_icon)\r\n                    .setContentText(&quot;New Message&quot;)\r\n                    .setSubText(&quot;subText&quot;)\r\n                    .build();\r\n        }\r\n        nm.notify(1245, notification);\r\n    }\r\n}\r\n```\r\n\r\nI am trying to create a notification. But when I run, the notification is not shown. \r\nCan someone tell me what is wrong in the below code.","title":"Notification is not shown on oncreate()","body":"<p>I am trying to create a notification. But when I run, the notification is not shown.\nCan someone tell me what is wrong in the below code.</p>\n<pre><code>import androidx.appcompat.app.AppCompatActivity;\nimport androidx.core.app.NotificationCompat;\nimport androidx.core.content.res.ResourcesCompat;\n\nimport android.app.Notification;\nimport android.app.NotificationChannel;\nimport android.app.NotificationManager;\nimport android.graphics.Bitmap;\nimport android.graphics.drawable.BitmapDrawable;\nimport android.graphics.drawable.Drawable;\nimport android.os.Build;\nimport android.os.Bundle;\nimport android.util.Log;\n\npublic class MainActivity extends AppCompatActivity {\n    private static final String CHANNEL_ID = &quot;all_notifications&quot;;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        NotificationManager nm =  (NotificationManager) this.getSystemService(NOTIFICATION_SERVICE);\n        Notification notification;\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\n\n            NotificationChannel channelN = new NotificationChannel(CHANNEL_ID, &quot;New Channel&quot;, NotificationManager.IMPORTANCE_HIGH);\n            nm.createNotificationChannel(channelN);\n\n            notification = new Notification.Builder(this, CHANNEL_ID)\n                    .setSmallIcon(R.drawable.small_icon)\n                    .setContentText(&quot;New Message&quot;)\n                    .setSubText(&quot;subText&quot;)\n                    .setChannelId(CHANNEL_ID)\n                    .build();\n        }\n        else\n        {\n            notification = new Notification.Builder(this)\n                    .setSmallIcon(R.drawable.small_icon)\n                    .setContentText(&quot;New Message&quot;)\n                    .setSubText(&quot;subText&quot;)\n                    .build();\n        }\n        nm.notify(1245, notification);\n    }\n}\n</code></pre>\n<p>I am trying to create a notification. But when I run, the notification is not shown.\nCan someone tell me what is wrong in the below code.</p>\n"},{"tags":["java","date","datetime","timestamp","epoch"],"comments":[{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1500466577,"post_id":45189859,"comment_id":77347591,"body_markdown":"It’s not 100 % clear to me. Are you saying that you are receiving `2017.07.19 11:42:30:423` as a string and you want to convert it to number of milliseconds since the epoch?","body":"It’s not 100 % clear to me. Are you saying that you are receiving <code>2017.07.19 11:42:30:423</code> as a string and you want to convert it to number of milliseconds since the epoch?"},{"owner":{"account_id":6000506,"reputation":757,"user_id":4713933,"accept_rate":81,"display_name":"Mark Smith"},"score":1,"creation_date":1500466887,"post_id":45189859,"comment_id":77347857,"body_markdown":"Thats right - the timestamp value is being used later in the code and is used to make a string of variables - the part that returns the timestamp is &quot;+formatter.format(time)&quot; without the quotes - this is why I was hoping that I could amend the (&quot;yyyy.MM.dd HH:mm:ss:sss&quot;)  part of the code to return the epoc in milliseconds as I am not sure how to amend the code to use the other methods people have suggested here...","body":"Thats right - the timestamp value is being used later in the code and is used to make a string of variables - the part that returns the timestamp is &quot;+formatter.format(time)&quot; without the quotes - this is why I was hoping that I could amend the (&quot;yyyy.MM.dd HH:mm:ss:sss&quot;)  part of the code to return the epoc in milliseconds as I am not sure how to amend the code to use the other methods people have suggested here..."}],"answers":[{"tags":[],"owner":{"account_id":11175092,"reputation":45706,"user_id":8200937,"display_name":"glytching"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1500466257,"creation_date":1500465701,"answer_id":45189939,"question_id":45189859,"body_markdown":"If you have a `java.util.Date` then invoking `getTime()` will return the number of millis since the epoch. For example:\r\n\r\n    SimpleDateFormat formatter = new SimpleDateFormat(&quot;yyyy.MM.dd HH:mm:ss:sss&quot;);\r\n\r\n    Date dateToBeFormatted = new Date();\r\n\r\n    // this will print a datetime literal on the above format\r\n    System.out.println(formatter.format(dateToBeFormatted));\r\n\r\n    // this will print the number of millis since the Java epoch\r\n    System.out.println(dateToBeFormatted.getTime());\r\n\r\nThe key point here is that in order to get the number of millis since the epoch you do not need a `SimpleDateFormatter` because the number of millis since the epoch is a property of the `Date`.","title":"Java - SimpleDateFormat formatter to return epoch time with milliseconds","body":"<p>If you have a <code>java.util.Date</code> then invoking <code>getTime()</code> will return the number of millis since the epoch. For example:</p>\n\n<pre><code>SimpleDateFormat formatter = new SimpleDateFormat(\"yyyy.MM.dd HH:mm:ss:sss\");\n\nDate dateToBeFormatted = new Date();\n\n// this will print a datetime literal on the above format\nSystem.out.println(formatter.format(dateToBeFormatted));\n\n// this will print the number of millis since the Java epoch\nSystem.out.println(dateToBeFormatted.getTime());\n</code></pre>\n\n<p>The key point here is that in order to get the number of millis since the epoch you do not need a <code>SimpleDateFormatter</code> because the number of millis since the epoch is a property of the <code>Date</code>.</p>\n"},{"tags":[],"owner":{"account_id":957044,"reputation":47672,"user_id":982161,"accept_rate":63,"display_name":"ΦXocę 웃 Пepe&#250;pa ツ"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1500465714,"creation_date":1500465714,"answer_id":45189945,"question_id":45189859,"body_markdown":"First advice is to move to java8 java.time API instead of learning the broken java.date API\r\n\r\nthen do:\r\n\r\n    Instant i = Instant.now();\r\n    System.out.println(i.toEpochMilli());\r\n\r\nin your case you can do:\r\n\r\n\r\n    LocalDateTime myldt = LocalDateTime.parse(&quot;2017-06-14 14:29:04&quot;,\r\n            DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd HH:mm:ss&quot;));\r\n    System.out.println(myldt.toInstant(ZoneOffset.UTC).toEpochMilli());\r\n\r\n\r\nnote that as soon as you play more with the api you will find more ways to achieve the same thing, at  the end you will end invoking [toEpochMilli][1]\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/time/Instant.html#toEpochMilli--","title":"Java - SimpleDateFormat formatter to return epoch time with milliseconds","body":"<p>First advice is to move to java8 java.time API instead of learning the broken java.date API</p>\n\n<p>then do:</p>\n\n<pre><code>Instant i = Instant.now();\nSystem.out.println(i.toEpochMilli());\n</code></pre>\n\n<p>in your case you can do:</p>\n\n<pre><code>LocalDateTime myldt = LocalDateTime.parse(\"2017-06-14 14:29:04\",\n        DateTimeFormatter.ofPattern(\"yyyy-MM-dd HH:mm:ss\"));\nSystem.out.println(myldt.toInstant(ZoneOffset.UTC).toEpochMilli());\n</code></pre>\n\n<p>note that as soon as you play more with the api you will find more ways to achieve the same thing, at  the end you will end invoking <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/Instant.html#toEpochMilli--\" rel=\"nofollow noreferrer\">toEpochMilli</a></p>\n"},{"tags":[],"owner":{"account_id":9796248,"reputation":21,"user_id":7259191,"display_name":"Vilius"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1500465799,"creation_date":1500465799,"answer_id":45189982,"question_id":45189859,"body_markdown":"        String strDate = &quot;Jun 13 2003 23:11:52.454 UTC&quot;;\r\n        DateTimeFormatter dtf  = DateTimeFormatter.ofPattern(&quot;MMM dd yyyy HH:mm:ss.SSS zzz&quot;);\r\n        ZonedDateTime     zdt  = ZonedDateTime.parse(strDate,dtf);        \r\n        System.out.println(zdt.toInstant().toEpochMilli());  // 1055545912454  ","title":"Java - SimpleDateFormat formatter to return epoch time with milliseconds","body":"<pre><code>    String strDate = \"Jun 13 2003 23:11:52.454 UTC\";\n    DateTimeFormatter dtf  = DateTimeFormatter.ofPattern(\"MMM dd yyyy HH:mm:ss.SSS zzz\");\n    ZonedDateTime     zdt  = ZonedDateTime.parse(strDate,dtf);        \n    System.out.println(zdt.toInstant().toEpochMilli());  // 1055545912454  \n</code></pre>\n"},{"tags":[],"owner":{"account_id":10934496,"reputation":3172,"user_id":8036670,"accept_rate":81,"display_name":"assembler"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1500466220,"creation_date":1500466220,"answer_id":45190148,"question_id":45189859,"body_markdown":"You can try \r\n\r\n    long time = System.currentTimeMillis();\r\n\r\n","title":"Java - SimpleDateFormat formatter to return epoch time with milliseconds","body":"<p>You can try </p>\n\n<pre><code>long time = System.currentTimeMillis();\n</code></pre>\n"},{"tags":[],"owner":{"display_name":"user7605325"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1500474353,"creation_date":1500466895,"answer_id":45190453,"question_id":45189859,"body_markdown":"First of all, check the [documentation of `SimpleDateFormat`][1]. The pattern that corresponds to **milliseconds** is an **uppercase** `S`, while the **lowercase** `s` corresponds to **seconds**. The problem is that `SimpleDateFormat` usually doesn&#39;t complain and try to parse `423` as seconds, adding this amount to your end date (giving an incorrect result).\n\nAnyway, `SimpleDateFormat` just parses a `String` to a `java.util.Date` or formats the `Date` to a `String`. If you want the epoch millis value, you must get it from the `Date` object:\n\n    // input string\n    String s = &quot;2017.07.19 11:42:30:423&quot;;\n    // use correct format (&#39;S&#39; for milliseconds)\n    SimpleDateFormat formatter = new SimpleDateFormat(&quot;yyyy.MM.dd HH:mm:ss:SSS&quot;);\n    // parse to a date\n    Date date = formatter.parse(s);\n    // get epoch millis\n    long millis = date.getTime();\n    System.out.println(millis); // 1500475350423\n\nThe problem is that `SimpleDateFormat` uses the system&#39;s default timezone, so the final value above (`1500475350423`) will be equivalent to the specificed date and time in my system&#39;s timezone (which can be different from yours - just for the record, my system&#39;s default timezone is `America/Sao_Paulo`). If you want to specify in what timezone this date is, you need to set in the formatter (before calling `parse`):\n\n    // set a timezone to the formatter (using UTC as example)\n    formatter.setTimeZone(TimeZone.getTimeZone(&quot;UTC&quot;));\n\nWith this, the result for `millis` will be `1500464550423` (the equivalent to the specificed date and time in UTC).\n\nTo do the opposite (create a date from the millis value), you must create a `Date` object and then pass it to the formatter (also taking care of setting a timezone to the formatter):\n\n    // create date from millis\n    Date date = new Date(1500464550423L);\n    // use correct format (&#39;S&#39; for milliseconds)\n    SimpleDateFormat formatter = new SimpleDateFormat(&quot;yyyy.MM.dd HH:mm:ss:SSS&quot;);\n    formatter.setTimeZone(TimeZone.getTimeZone(&quot;UTC&quot;));\n    // format date\n    String formatted = formatter.format(date);\n\n---\n# Java new date/time API\n\nThe old classes (`Date`, `Calendar` and `SimpleDateFormat`) have [lots of problems](https://stackoverflow.com/questions/1571265/why-is-the-java-date-api-java-util-date-calendar-such-a-mess) and [design issues](https://stackoverflow.com/questions/1969442/whats-wrong-with-java-date-time-api), and they&#39;re being replaced by the new APIs.\n\nIf you&#39;re using **Java 8**, consider using the [new java.time API](https://docs.oracle.com/javase/tutorial/datetime/). It&#39;s easier, [less bugged and less error-prone than the old APIs](https://stackoverflow.com/questions/1969442/whats-wrong-with-java-date-time-api).\n\nIf you&#39;re using **Java &lt;= 7**, you can use the [ThreeTen Backport](http://www.threeten.org/threetenbp/), a great backport for Java 8&#39;s new date/time classes. And for **Android**, there&#39;s the [ThreeTenABP](https://github.com/JakeWharton/ThreeTenABP) (more on how to use it [here](https://stackoverflow.com/a/38922755/7605325)).\n\nThe code below works for both.\nThe only difference is the package names (in Java 8 is `java.time` and in ThreeTen Backport (or Android&#39;s ThreeTenABP) is `org.threeten.bp`), but the classes and methods **names** are the same.\n\nAs the input `String` has no timezone information (only date and time), first I parsed it to a `LocalDateTime` (a class that represents a date and time without timezone). Then I convert this date/time to a specific timezone and get the millis value from it:\n\n    // input string\n    String s = &quot;2017.07.19 11:42:30:423&quot;;\n    // use correct format (&#39;S&#39; for milliseconds)\n    DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;yyyy.MM.dd HH:mm:ss:SSS&quot;);\n    // as the input string has no timezone information, parse it to a LocalDateTime\n    LocalDateTime dt = LocalDateTime.parse(s, formatter);\n\n    // convert the LocalDateTime to a timezone\n    ZonedDateTime zdt = dt.atZone(ZoneId.of(&quot;Europe/London&quot;));\n    // get the millis value\n    long millis = zdt.toInstant().toEpochMilli(); // 1500460950423\n\nThe value is now `1500460950423`, equivalent to the specified date and time in London timezone.\n\nNote that the API uses [IANA timezones names](https://en.wikipedia.org/wiki/List_of_tz_database_time_zones) (always in the format `Region/City`, like `America/Sao_Paulo` or `Europe/Berlin`).\nAvoid using the 3-letter abbreviations (like `CST` or `PST`) because they are [ambiguous and not standard](https://stackoverflow.com/questions/18405262/what-are-the-standard-timezone-abbreviations/18407231#18407231).\n\nYou can get a list of available timezones (and choose the one that fits best your system) by calling `ZoneId.getAvailableZoneIds()`.\n\nYou can also use `ZoneOffset.UTC` constant if you want to use UTC.\n\nTo do the opposite, you can get the millis value to create an Instant, convert it to a timezone and pass it to the formatter:\n\n    // create Instant from millis value \n    Instant instant = Instant.ofEpochMilli(1500460950423L);\n    // use correct format (&#39;S&#39; for milliseconds)\n    DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;yyyy.MM.dd HH:mm:ss:SSS&quot;);\n    // convert to timezone\n    ZonedDateTime z = instant.atZone(ZoneId.of(&quot;Europe/London&quot;));\n    // format\n    String formatted = z.format(formatter);\n\n  [1]: https://docs.oracle.com/javase/7/docs/api/java/text/SimpleDateFormat.html\n\n\n\n\n","title":"Java - SimpleDateFormat formatter to return epoch time with milliseconds","body":"<p>First of all, check the <a href=\"https://docs.oracle.com/javase/7/docs/api/java/text/SimpleDateFormat.html\" rel=\"nofollow noreferrer\">documentation of <code>SimpleDateFormat</code></a>. The pattern that corresponds to <strong>milliseconds</strong> is an <strong>uppercase</strong> <code>S</code>, while the <strong>lowercase</strong> <code>s</code> corresponds to <strong>seconds</strong>. The problem is that <code>SimpleDateFormat</code> usually doesn't complain and try to parse <code>423</code> as seconds, adding this amount to your end date (giving an incorrect result).</p>\n<p>Anyway, <code>SimpleDateFormat</code> just parses a <code>String</code> to a <code>java.util.Date</code> or formats the <code>Date</code> to a <code>String</code>. If you want the epoch millis value, you must get it from the <code>Date</code> object:</p>\n<pre><code>// input string\nString s = &quot;2017.07.19 11:42:30:423&quot;;\n// use correct format ('S' for milliseconds)\nSimpleDateFormat formatter = new SimpleDateFormat(&quot;yyyy.MM.dd HH:mm:ss:SSS&quot;);\n// parse to a date\nDate date = formatter.parse(s);\n// get epoch millis\nlong millis = date.getTime();\nSystem.out.println(millis); // 1500475350423\n</code></pre>\n<p>The problem is that <code>SimpleDateFormat</code> uses the system's default timezone, so the final value above (<code>1500475350423</code>) will be equivalent to the specificed date and time in my system's timezone (which can be different from yours - just for the record, my system's default timezone is <code>America/Sao_Paulo</code>). If you want to specify in what timezone this date is, you need to set in the formatter (before calling <code>parse</code>):</p>\n<pre><code>// set a timezone to the formatter (using UTC as example)\nformatter.setTimeZone(TimeZone.getTimeZone(&quot;UTC&quot;));\n</code></pre>\n<p>With this, the result for <code>millis</code> will be <code>1500464550423</code> (the equivalent to the specificed date and time in UTC).</p>\n<p>To do the opposite (create a date from the millis value), you must create a <code>Date</code> object and then pass it to the formatter (also taking care of setting a timezone to the formatter):</p>\n<pre><code>// create date from millis\nDate date = new Date(1500464550423L);\n// use correct format ('S' for milliseconds)\nSimpleDateFormat formatter = new SimpleDateFormat(&quot;yyyy.MM.dd HH:mm:ss:SSS&quot;);\nformatter.setTimeZone(TimeZone.getTimeZone(&quot;UTC&quot;));\n// format date\nString formatted = formatter.format(date);\n</code></pre>\n<hr />\n<h1>Java new date/time API</h1>\n<p>The old classes (<code>Date</code>, <code>Calendar</code> and <code>SimpleDateFormat</code>) have <a href=\"https://stackoverflow.com/questions/1571265/why-is-the-java-date-api-java-util-date-calendar-such-a-mess\">lots of problems</a> and <a href=\"https://stackoverflow.com/questions/1969442/whats-wrong-with-java-date-time-api\">design issues</a>, and they're being replaced by the new APIs.</p>\n<p>If you're using <strong>Java 8</strong>, consider using the <a href=\"https://docs.oracle.com/javase/tutorial/datetime/\" rel=\"nofollow noreferrer\">new java.time API</a>. It's easier, <a href=\"https://stackoverflow.com/questions/1969442/whats-wrong-with-java-date-time-api\">less bugged and less error-prone than the old APIs</a>.</p>\n<p>If you're using <strong>Java &lt;= 7</strong>, you can use the <a href=\"http://www.threeten.org/threetenbp/\" rel=\"nofollow noreferrer\">ThreeTen Backport</a>, a great backport for Java 8's new date/time classes. And for <strong>Android</strong>, there's the <a href=\"https://github.com/JakeWharton/ThreeTenABP\" rel=\"nofollow noreferrer\">ThreeTenABP</a> (more on how to use it <a href=\"https://stackoverflow.com/a/38922755/7605325\">here</a>).</p>\n<p>The code below works for both.\nThe only difference is the package names (in Java 8 is <code>java.time</code> and in ThreeTen Backport (or Android's ThreeTenABP) is <code>org.threeten.bp</code>), but the classes and methods <strong>names</strong> are the same.</p>\n<p>As the input <code>String</code> has no timezone information (only date and time), first I parsed it to a <code>LocalDateTime</code> (a class that represents a date and time without timezone). Then I convert this date/time to a specific timezone and get the millis value from it:</p>\n<pre><code>// input string\nString s = &quot;2017.07.19 11:42:30:423&quot;;\n// use correct format ('S' for milliseconds)\nDateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;yyyy.MM.dd HH:mm:ss:SSS&quot;);\n// as the input string has no timezone information, parse it to a LocalDateTime\nLocalDateTime dt = LocalDateTime.parse(s, formatter);\n\n// convert the LocalDateTime to a timezone\nZonedDateTime zdt = dt.atZone(ZoneId.of(&quot;Europe/London&quot;));\n// get the millis value\nlong millis = zdt.toInstant().toEpochMilli(); // 1500460950423\n</code></pre>\n<p>The value is now <code>1500460950423</code>, equivalent to the specified date and time in London timezone.</p>\n<p>Note that the API uses <a href=\"https://en.wikipedia.org/wiki/List_of_tz_database_time_zones\" rel=\"nofollow noreferrer\">IANA timezones names</a> (always in the format <code>Region/City</code>, like <code>America/Sao_Paulo</code> or <code>Europe/Berlin</code>).\nAvoid using the 3-letter abbreviations (like <code>CST</code> or <code>PST</code>) because they are <a href=\"https://stackoverflow.com/questions/18405262/what-are-the-standard-timezone-abbreviations/18407231#18407231\">ambiguous and not standard</a>.</p>\n<p>You can get a list of available timezones (and choose the one that fits best your system) by calling <code>ZoneId.getAvailableZoneIds()</code>.</p>\n<p>You can also use <code>ZoneOffset.UTC</code> constant if you want to use UTC.</p>\n<p>To do the opposite, you can get the millis value to create an Instant, convert it to a timezone and pass it to the formatter:</p>\n<pre><code>// create Instant from millis value \nInstant instant = Instant.ofEpochMilli(1500460950423L);\n// use correct format ('S' for milliseconds)\nDateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;yyyy.MM.dd HH:mm:ss:SSS&quot;);\n// convert to timezone\nZonedDateTime z = instant.atZone(ZoneId.of(&quot;Europe/London&quot;));\n// format\nString formatted = z.format(formatter);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1500470020,"creation_date":1500467486,"answer_id":45190694,"question_id":45189859,"body_markdown":"You have a simple error in the use of case in your format pattern string (these are case sensitive). And worse, you are using the old and troublesome `SimpleDateFormat` class. One of the many problems with it is it’s not telling you what the problem is.\r\n\r\nSo I recommend you use the modern Java date and time API instead (I am deliberately using your format pattern string verbatim):\r\n\r\n\t\tString receivedTimetamp = &quot;2017.07.19 11:42:30:423&quot;;\r\n\t\tDateTimeFormatter parseFormatter\r\n\t\t\t\t= DateTimeFormatter.ofPattern(&quot;yyyy.MM.dd HH:mm:ss:sss&quot;);\r\n\t\tLocalDateTime dateTime = LocalDateTime.parse(receivedTimetamp, parseFormatter);\r\n\t\tSystem.out.println(dateTime);\r\n\r\nThis code throws an `IllegalArgumentException: Too many pattern letters: s`. I hope this calls your awareness to the fact that you are using two s’s for seconds and three s’s for fraction of second. If it still isn’t clear, [the documentation](https://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatter.html) will tell you that lowercase `s` is correct for seconds, while you need uppercase `S` for the fraction. Let’s repair:\r\n\r\n\t\tDateTimeFormatter parseFormatter\r\n\t\t\t\t= DateTimeFormatter.ofPattern(&quot;yyyy.MM.dd HH:mm:ss:SSS&quot;);\r\n\r\nNow the code prints `2017-07-19T11:42:30.423`, so we have managed to parse the string correctly.\r\n\r\nTo convert to milliseconds we are still missing a crucial piece of information: in what time zone should the timestamp be interpreted? I think the two obvious guesses are UTC and your local time zone (which I don’t know). Try UTC:\r\n\r\n\t\tSystem.out.println(dateTime.atOffset(ZoneOffset.UTC).toInstant().toEpochMilli());\r\n\r\nThis produces `1500464550423`, which is the number you asked for. I suppose we’re done.\r\n\r\nIf you wanted your JVM’s time zone setting instead, use `.atZone(ZoneId.systemDefault())` instead of `.atOffset(ZoneOffset.UTC)`, but beware that the setting may be altered by other software running in the same JVM, so this is fragile.","title":"Java - SimpleDateFormat formatter to return epoch time with milliseconds","body":"<p>You have a simple error in the use of case in your format pattern string (these are case sensitive). And worse, you are using the old and troublesome <code>SimpleDateFormat</code> class. One of the many problems with it is it’s not telling you what the problem is.</p>\n\n<p>So I recommend you use the modern Java date and time API instead (I am deliberately using your format pattern string verbatim):</p>\n\n<pre><code>    String receivedTimetamp = \"2017.07.19 11:42:30:423\";\n    DateTimeFormatter parseFormatter\n            = DateTimeFormatter.ofPattern(\"yyyy.MM.dd HH:mm:ss:sss\");\n    LocalDateTime dateTime = LocalDateTime.parse(receivedTimetamp, parseFormatter);\n    System.out.println(dateTime);\n</code></pre>\n\n<p>This code throws an <code>IllegalArgumentException: Too many pattern letters: s</code>. I hope this calls your awareness to the fact that you are using two s’s for seconds and three s’s for fraction of second. If it still isn’t clear, <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatter.html\" rel=\"nofollow noreferrer\">the documentation</a> will tell you that lowercase <code>s</code> is correct for seconds, while you need uppercase <code>S</code> for the fraction. Let’s repair:</p>\n\n<pre><code>    DateTimeFormatter parseFormatter\n            = DateTimeFormatter.ofPattern(\"yyyy.MM.dd HH:mm:ss:SSS\");\n</code></pre>\n\n<p>Now the code prints <code>2017-07-19T11:42:30.423</code>, so we have managed to parse the string correctly.</p>\n\n<p>To convert to milliseconds we are still missing a crucial piece of information: in what time zone should the timestamp be interpreted? I think the two obvious guesses are UTC and your local time zone (which I don’t know). Try UTC:</p>\n\n<pre><code>    System.out.println(dateTime.atOffset(ZoneOffset.UTC).toInstant().toEpochMilli());\n</code></pre>\n\n<p>This produces <code>1500464550423</code>, which is the number you asked for. I suppose we’re done.</p>\n\n<p>If you wanted your JVM’s time zone setting instead, use <code>.atZone(ZoneId.systemDefault())</code> instead of <code>.atOffset(ZoneOffset.UTC)</code>, but beware that the setting may be altered by other software running in the same JVM, so this is fragile.</p>\n"}],"owner":{"account_id":6000506,"reputation":757,"user_id":4713933,"accept_rate":81,"display_name":"Mark Smith"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":25218,"favorite_count":0,"down_vote_count":1,"up_vote_count":6,"closed_date":1500491940,"accepted_answer_id":45190694,"answer_count":6,"score":5,"last_activity_date":1681148239,"creation_date":1500465484,"question_id":45189859,"body_markdown":"I am very new to Java and coding in general - I have some code which returns a timestamp in the following format `yyyy.MM.dd HH:mm:ss:ms` which is shown below:\r\n\r\n    SimpleDateFormat formatter = new SimpleDateFormat(&quot;yyyy.MM.dd HH:mm:ss:sss&quot;);\r\n\r\nThis returns:\r\n\r\n    2017.07.19 11:42:30:423\r\n\r\nIs there a way to edit the &quot;SimpleDateFormat formatter&quot; code above to return the date/time as an epoch timestamp that includes milliseconds so that the value returned is formatted as per the below?\r\n\r\n    1500464550423\r\n\r\nI&#39;m hoping that I can amend the `(&quot;yyyy.MM.dd HH:mm:ss:sss&quot;)` part of the `SimpleDateFormat formatter` code to do this.\r\n","title":"Java - SimpleDateFormat formatter to return epoch time with milliseconds","body":"<p>I am very new to Java and coding in general - I have some code which returns a timestamp in the following format <code>yyyy.MM.dd HH:mm:ss:ms</code> which is shown below:</p>\n<pre><code>SimpleDateFormat formatter = new SimpleDateFormat(&quot;yyyy.MM.dd HH:mm:ss:sss&quot;);\n</code></pre>\n<p>This returns:</p>\n<pre><code>2017.07.19 11:42:30:423\n</code></pre>\n<p>Is there a way to edit the &quot;SimpleDateFormat formatter&quot; code above to return the date/time as an epoch timestamp that includes milliseconds so that the value returned is formatted as per the below?</p>\n<pre><code>1500464550423\n</code></pre>\n<p>I'm hoping that I can amend the <code>(&quot;yyyy.MM.dd HH:mm:ss:sss&quot;)</code> part of the <code>SimpleDateFormat formatter</code> code to do this.</p>\n"},{"tags":["java","artifactory"],"comments":[{"owner":{"account_id":1828145,"reputation":563,"user_id":1660336,"display_name":"Tatarao Vana"},"score":0,"creation_date":1681186195,"post_id":75961540,"comment_id":134011809,"body_markdown":"In general, the Windows operating system requires Administrator access to modify the files inside the C drive. The C drive contains the files and folders of the operating system and those need to be protected. According to the error message, it seems like the user doesn&#39;t have enough permissions to access the cacerts file of JDK. As a workaround, we can change the JDK installation location to any other drive (Ex: D) and point the application to use that custom path. Otherwise, we need to get admin access to import the cert or provide enough permissions to the user(by using admin privilege).","body":"In general, the Windows operating system requires Administrator access to modify the files inside the C drive. The C drive contains the files and folders of the operating system and those need to be protected. According to the error message, it seems like the user doesn&#39;t have enough permissions to access the cacerts file of JDK. As a workaround, we can change the JDK installation location to any other drive (Ex: D) and point the application to use that custom path. Otherwise, we need to get admin access to import the cert or provide enough permissions to the user(by using admin privilege)."},{"owner":{"account_id":14943145,"reputation":1,"user_id":15482963,"display_name":"Lalmohan yadav"},"score":0,"creation_date":1681315848,"post_id":75961540,"comment_id":134037727,"body_markdown":"Thank You for your response. This worked for me, just had to remove keystore and its path.                                                  \n                                                                                                                               keytool -importcert -file C:\\Users\\Ramen\\Desktop\\jfrog.cer  -alias &quot;JFROG_NEW&quot;","body":"Thank You for your response. This worked for me, just had to remove keystore and its path.                                                                                                                                                                                  keytool -importcert -file C:\\Users\\Ramen\\Desktop\\jfrog.cer  -alias &quot;JFROG_NEW&quot;"}],"owner":{"account_id":14943145,"reputation":1,"user_id":15482963,"display_name":"Lalmohan yadav"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":218,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681147811,"creation_date":1680897060,"question_id":75961540,"body_markdown":"I am trying to import a jfrog certificate into my keystore but getting the titled error. I used the following command to do this task:\r\n\r\n    keytool -importcert -file C:\\Users\\Ramen\\Desktop\\jfrog.cer -keystore &quot;%JAVA_HOME%\\jre1.8.0_202\\lib\\security\\cacerts.jks -alias &quot;JFROG_NEW&quot;\r\n\r\nThen it prompts me to put in password, at the end it says certificate was added to keystore and throws this error &quot;keytool error: \r\n\r\n&gt; java.io.FileNotFoundException: C:\\Program Files\\Java\\jre1.8.0_202\\lib\\security (Access Denied)&quot;\r\n\r\nPlease note that I can not run this command as administrator.\r\n\r\nI tried all the answers I could get from stackoverflow from these links.\r\n\r\nhttps://stackoverflow.com/questions/10321211/java-keytool-error-after-importing-certificate-keytool-error-java-io-filenot\r\n\r\nhttps://stackoverflow.com/questions/32386267/keytool-error-java-io-filenotfoundexception-c-cacerts-access-is-denied\r\n\r\nhttps://stackoverflow.com/questions/53490967/keytool-error-java-io-filenotfoundexception-cacerts-access-is-denied\r\n\r\nIs there any workaround for this issue without logging in as an administrator?","title":"Java Keytool error after importing certificate , &quot;keytool error: java.io.FileNotFoundException &amp; Access Denied","body":"<p>I am trying to import a jfrog certificate into my keystore but getting the titled error. I used the following command to do this task:</p>\n<pre><code>keytool -importcert -file C:\\Users\\Ramen\\Desktop\\jfrog.cer -keystore &quot;%JAVA_HOME%\\jre1.8.0_202\\lib\\security\\cacerts.jks -alias &quot;JFROG_NEW&quot;\n</code></pre>\n<p>Then it prompts me to put in password, at the end it says certificate was added to keystore and throws this error &quot;keytool error:</p>\n<blockquote>\n<p>java.io.FileNotFoundException: C:\\Program Files\\Java\\jre1.8.0_202\\lib\\security (Access Denied)&quot;</p>\n</blockquote>\n<p>Please note that I can not run this command as administrator.</p>\n<p>I tried all the answers I could get from stackoverflow from these links.</p>\n<p><a href=\"https://stackoverflow.com/questions/10321211/java-keytool-error-after-importing-certificate-keytool-error-java-io-filenot\">Java Keytool error after importing certificate , &quot;keytool error: java.io.FileNotFoundException &amp; Access Denied&quot;</a></p>\n<p><a href=\"https://stackoverflow.com/questions/32386267/keytool-error-java-io-filenotfoundexception-c-cacerts-access-is-denied\">keytool error: java.io.FileNotFoundException: C:\\cacerts (Access is denied)</a></p>\n<p><a href=\"https://stackoverflow.com/questions/53490967/keytool-error-java-io-filenotfoundexception-cacerts-access-is-denied\">keytool error: java.io.FileNotFoundException: cacerts (Access is denied)</a></p>\n<p>Is there any workaround for this issue without logging in as an administrator?</p>\n"},{"tags":["java","scala","utf-8","sbt","sbt-assembly"],"comments":[{"owner":{"account_id":15138451,"reputation":460,"user_id":12083015,"display_name":"Erwin"},"score":2,"creation_date":1680839711,"post_id":75955027,"comment_id":133968329,"body_markdown":"According to the [correct answer](https://stackoverflow.com/a/12111542/12083015) to the link that you gave, the problem was when writing the file, not when downloading the file. Maybe you can check it too.","body":"According to the <a href=\"https://stackoverflow.com/a/12111542/12083015\">correct answer</a> to the link that you gave, the problem was when writing the file, not when downloading the file. Maybe you can check it too."},{"owner":{"account_id":4198672,"reputation":28840,"user_id":3439404,"display_name":"JosefZ"},"score":2,"creation_date":1680878357,"post_id":75955027,"comment_id":133974494,"body_markdown":"`CAFEBABE` is (hexadecimal) Java class file [signature](https://en.wikipedia.org/wiki/List_of_file_signatures) (so called *magic number*) while `EFBFBD` are `UTF-8` bytes for [Replacement Character](https://symbl.cc/en/FFFD/) and `4022320623` is decimal representation for `0xEFBFBDEF` (== 4 leading bytes in **EFBFBDEF**BFBD).","body":"<code>CAFEBABE</code> is (hexadecimal) Java class file <a href=\"https://en.wikipedia.org/wiki/List_of_file_signatures\" rel=\"nofollow noreferrer\">signature</a> (so called <i>magic number</i>) while <code>EFBFBD</code> are <code>UTF-8</code> bytes for <a href=\"https://symbl.cc/en/FFFD/\" rel=\"nofollow noreferrer\">Replacement Character</a> and <code>4022320623</code> is decimal representation for <code>0xEFBFBDEF</code> (== 4 leading bytes in <b>EFBFBDEF</b>BFBD)."}],"answers":[{"tags":[],"owner":{"account_id":2503348,"reputation":48669,"user_id":5249621,"display_name":"Dmytro Mitin"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1681147604,"creation_date":1680838590,"answer_id":75955286,"question_id":75955027,"body_markdown":"It&#39;s hard to say without `libraryDependencies` and `assemblyMergeStrategy` of your `build.sbt` and without a specific class of assembly jar that is not valid.\r\n\r\nI suspect that `MergeStrategy.concat` or `MergeStrategy.filterDistinctLines` was incorrectly applied to some `.class` files and this leads to not valid class files. `MergeStrategy.concat / filterDistinctLines` are for config files, `.properties` files, service files (i.e. files with names `com.example.SomeInterface` and contents `com.example.impl.SomeImplementation`) etc., not for `.class` files. \r\n\r\nYou can temporarily change `assemblyMergeStrategy` to\r\n\r\n```\r\nassembly / assemblyMergeStrategy := {\r\n  case _ =&gt; MergeStrategy.singleOrError\r\n}\r\n```\r\nto see all the duplicates, or to\r\n```\r\nThisBuild / assemblyMergeStrategy := {\r\n  case PathList(ps @ _*) if ps.last endsWith &quot;.class&quot; =&gt; MergeStrategy.singleOrError\r\n  case x =&gt;\r\n    val standardStrategy = (ThisBuild / assemblyMergeStrategy).value\r\n    standardStrategy(x)\r\n}\r\n```\r\nto see all the `.class` duplicates. You should see among them the class files that become not valid upon `MergeStrategy.concat/filterDistinctLines`.\r\n\r\nSbt 1.3.13 is quite old, current is 1.8.2.","title":"SBT assembly output 0xEFBFBD instead of 0xCAFEBABE in class file","body":"<p>It's hard to say without <code>libraryDependencies</code> and <code>assemblyMergeStrategy</code> of your <code>build.sbt</code> and without a specific class of assembly jar that is not valid.</p>\n<p>I suspect that <code>MergeStrategy.concat</code> or <code>MergeStrategy.filterDistinctLines</code> was incorrectly applied to some <code>.class</code> files and this leads to not valid class files. <code>MergeStrategy.concat / filterDistinctLines</code> are for config files, <code>.properties</code> files, service files (i.e. files with names <code>com.example.SomeInterface</code> and contents <code>com.example.impl.SomeImplementation</code>) etc., not for <code>.class</code> files.</p>\n<p>You can temporarily change <code>assemblyMergeStrategy</code> to</p>\n<pre><code>assembly / assemblyMergeStrategy := {\n  case _ =&gt; MergeStrategy.singleOrError\n}\n</code></pre>\n<p>to see all the duplicates, or to</p>\n<pre><code>ThisBuild / assemblyMergeStrategy := {\n  case PathList(ps @ _*) if ps.last endsWith &quot;.class&quot; =&gt; MergeStrategy.singleOrError\n  case x =&gt;\n    val standardStrategy = (ThisBuild / assemblyMergeStrategy).value\n    standardStrategy(x)\n}\n</code></pre>\n<p>to see all the <code>.class</code> duplicates. You should see among them the class files that become not valid upon <code>MergeStrategy.concat/filterDistinctLines</code>.</p>\n<p>Sbt 1.3.13 is quite old, current is 1.8.2.</p>\n"}],"owner":{"account_id":28236437,"reputation":23,"user_id":21584819,"display_name":"Bean"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":141,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":75955286,"answer_count":1,"score":2,"last_activity_date":1681147604,"creation_date":1680833710,"question_id":75955027,"body_markdown":"| Tools    | Version  |\r\n| -------- | -------- |\r\n| OS       | Win10    |\r\n| JavaJDK  | 11       |\r\n| Scala    | 2.13.5   |\r\n| SBT      | 1.3.13   |\r\n| Assembly | 2.1.0    |\r\n\r\n[The repository of sbt-assembly](https://github.com/sbt/sbt-assembly)\r\n\r\n\r\n1. The Error message.\r\n\r\nI run `assembly` in sbt shell and it prints [success].\r\n\r\nThen I try to run the output *.jar* with `java -jar MyProject.jar` in cmd, and get this error: \r\n```\r\njava.lang.ClassFormatError: Incompatible magic value 4022320623 in class file Main\r\n```\r\nThe same error message as this one: [Java Incompatible magic value 4022320623](https://stackoverflow.com/questions/12111065/java-incompatible-magic-value-4022320623)\r\n\r\nBut all my work are done locally without any upload or download operation.\r\n\r\n\r\n2. The header of the class files.\r\n\r\nI decompression the *.jar* package and find that all *.class* files are started with `0xEFBFBD EFBFBD`, which means the character cannot be recognized by `UTF-8`.\r\n\r\nI&#39;ve run `sbt package` before, in that case, every java class file is started with `0xCAFE BABE`.\r\n\r\nI compared these two class files in binary form. Most of them are the same, but the one generated by assembly command has several `0xEFBFBD` in it.\r\n\r\n\r\n3. What I&#39;m trying to do.\r\n\r\nI&#39;m trying to assembly a large project with multiple modules to one *.jar* file.\r\n\r\n- The whole project is encoded in `UTF-8` =&gt; \r\n    IDEA: Global / Project Encoding: `UTF-8`\r\n\r\n- SBT has VM option: `-Dfile.encoding=UTF-8`\r\n\r\n- build.sbt has line: `javaOptions ++= Seq(&quot;-encoding&quot;, &quot;UTF-8&quot;)`\r\n\r\nI tried everything I can to make sure all the files are encoded &amp; decoded in `UTF-8`.\r\n\r\n\r\n4. Other versions of assembly.\r\n\r\nI also tried sbt-assembly releases *2.1.1* and *2.0.0*, and got the same results.\r\n\r\nI need to customize the Merge Strategy which is supported after *2.0.0*, so I didn&#39;t try more versions.\r\n\r\n\r\nI can&#39;t show any code here since I don&#39;t have right to do so. But if you need more information about this issue please let me know.","title":"SBT assembly output 0xEFBFBD instead of 0xCAFEBABE in class file","body":"<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>Tools</th>\n<th>Version</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>OS</td>\n<td>Win10</td>\n</tr>\n<tr>\n<td>JavaJDK</td>\n<td>11</td>\n</tr>\n<tr>\n<td>Scala</td>\n<td>2.13.5</td>\n</tr>\n<tr>\n<td>SBT</td>\n<td>1.3.13</td>\n</tr>\n<tr>\n<td>Assembly</td>\n<td>2.1.0</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p><a href=\"https://github.com/sbt/sbt-assembly\" rel=\"nofollow noreferrer\">The repository of sbt-assembly</a></p>\n<ol>\n<li>The Error message.</li>\n</ol>\n<p>I run <code>assembly</code> in sbt shell and it prints [success].</p>\n<p>Then I try to run the output <em>.jar</em> with <code>java -jar MyProject.jar</code> in cmd, and get this error:</p>\n<pre><code>java.lang.ClassFormatError: Incompatible magic value 4022320623 in class file Main\n</code></pre>\n<p>The same error message as this one: <a href=\"https://stackoverflow.com/questions/12111065/java-incompatible-magic-value-4022320623\">Java Incompatible magic value 4022320623</a></p>\n<p>But all my work are done locally without any upload or download operation.</p>\n<ol start=\"2\">\n<li>The header of the class files.</li>\n</ol>\n<p>I decompression the <em>.jar</em> package and find that all <em>.class</em> files are started with <code>0xEFBFBD EFBFBD</code>, which means the character cannot be recognized by <code>UTF-8</code>.</p>\n<p>I've run <code>sbt package</code> before, in that case, every java class file is started with <code>0xCAFE BABE</code>.</p>\n<p>I compared these two class files in binary form. Most of them are the same, but the one generated by assembly command has several <code>0xEFBFBD</code> in it.</p>\n<ol start=\"3\">\n<li>What I'm trying to do.</li>\n</ol>\n<p>I'm trying to assembly a large project with multiple modules to one <em>.jar</em> file.</p>\n<ul>\n<li><p>The whole project is encoded in <code>UTF-8</code> =&gt;\nIDEA: Global / Project Encoding: <code>UTF-8</code></p>\n</li>\n<li><p>SBT has VM option: <code>-Dfile.encoding=UTF-8</code></p>\n</li>\n<li><p>build.sbt has line: <code>javaOptions ++= Seq(&quot;-encoding&quot;, &quot;UTF-8&quot;)</code></p>\n</li>\n</ul>\n<p>I tried everything I can to make sure all the files are encoded &amp; decoded in <code>UTF-8</code>.</p>\n<ol start=\"4\">\n<li>Other versions of assembly.</li>\n</ol>\n<p>I also tried sbt-assembly releases <em>2.1.1</em> and <em>2.0.0</em>, and got the same results.</p>\n<p>I need to customize the Merge Strategy which is supported after <em>2.0.0</em>, so I didn't try more versions.</p>\n<p>I can't show any code here since I don't have right to do so. But if you need more information about this issue please let me know.</p>\n"},{"tags":["java","clang-format"],"owner":{"account_id":166796,"reputation":72317,"user_id":391161,"accept_rate":63,"display_name":"merlin2011"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1702,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"answer_count":0,"score":7,"last_activity_date":1681147220,"creation_date":1580977993,"question_id":60090666,"body_markdown":"My `clang-format` style file is the following:\r\n\r\n```\r\nBasedOnStyle: Google\r\n---\r\nLanguage: Java\r\nColumnLimit: 100\r\nBreakStringLiterals: true\r\nBreakAfterJavaFieldAnnotations: false\r\nBraceWrapping:\r\n  AfterCaseLabel:  true\r\n  AfterClass:      true\r\n  AfterControlStatement: true\r\n  AfterEnum:       true\r\n  AfterFunction:   true\r\n  AfterNamespace:  true\r\n  AfterObjCDeclaration: true\r\n  AfterStruct:     true\r\n  AfterUnion:      true\r\n  AfterExternBlock: true\r\n  BeforeCatch:     true\r\n  BeforeElse:      true\r\n  IndentBraces:    true\r\n  SplitEmptyFunction: false\r\n  SplitEmptyRecord: false\r\n  SplitEmptyNamespace: false\r\n```\r\nConsider the following input java code:\r\n```\r\npublic class Lambda {\r\n  void handle() {\r\n\r\n    // TODO Try a compiling example next to see if it&#39;s different with clang-format.\r\n    try {\r\n      updateTranscriptResponse = Utils.doWithRetry(\r\n        /* task */\r\n        () -&gt; {\r\n        System.out.println(&quot;This is a bit long-winded sentence so it keeps going on and on.&quot;);\r\n        System.out.println(&quot;This is a bit long-winded sentence so it keeps going on and on.&quot;);\r\n        },\r\n        /* task 2 */\r\n        () -&gt; {\r\n        System.out.println(&quot;This is a bit long-winded sentence so it keeps going on and on and on and on and on.&quot;);\r\n        System.out.println(&quot;This is a bit long-winded sentence so it keeps going on and on.&quot;);\r\n        },\r\n        /* task 3 */\r\n        () -&gt; {\r\n        System.out.println(&quot;This is a bit long-winded sentence so it keeps going on and on and on and on and on.&quot;);\r\n        System.out.println(&quot;This is a bit long-winded sentence so it keeps going on and on.&quot;);\r\n        }\r\n        );\r\n    } catch (Exception e) {\r\n    }\r\n  }\r\n}\r\n```\r\nI am trying to get `clang-format` to indent the body of the lambdas but keep ` () -&gt; {` on a single line. Unfortunately, it gives me the following output:\r\n\r\n```\r\npublic class Lambda {\r\n  void handle() {\r\n    // TODO Try a compiling example next to see if it&#39;s different with clang-format.\r\n    try {\r\n      updateTranscriptResponse = Utils.doWithRetry(\r\n          /* task */\r\n          ()\r\n              -&gt; {\r\n            System.out.println(&quot;This is a bit long-winded sentence so it keeps going on and on.&quot;);\r\n            System.out.println(&quot;This is a bit long-winded sentence so it keeps going on and on.&quot;);\r\n          },\r\n          /* task 2 */\r\n          ()\r\n              -&gt; {\r\n            System.out.println(\r\n                &quot;This is a bit long-winded sentence so it keeps going on and on and on and on and on.&quot;);\r\n            System.out.println(&quot;This is a bit long-winded sentence so it keeps going on and on.&quot;);\r\n          },\r\n          /* task 3 */\r\n          () -&gt; {\r\n            System.out.println(\r\n                &quot;This is a bit long-winded sentence so it keeps going on and on and on and on and on.&quot;);\r\n            System.out.println(&quot;This is a bit long-winded sentence so it keeps going on and on.&quot;);\r\n          });\r\n    } catch (Exception e) {\r\n    }\r\n  }\r\n}\r\n\r\n```\r\n\r\nHow can I configure `clang-format` to not introduce the extra line breaks at Task 1 and Task 2?\r\n\r\nI&#39;m running clang-format 9.","title":"Is it possible to configure clang-format to keep Java lambda arguments on one line with arrow and curly brace?","body":"<p>My <code>clang-format</code> style file is the following:</p>\n\n<pre><code>BasedOnStyle: Google\n---\nLanguage: Java\nColumnLimit: 100\nBreakStringLiterals: true\nBreakAfterJavaFieldAnnotations: false\nBraceWrapping:\n  AfterCaseLabel:  true\n  AfterClass:      true\n  AfterControlStatement: true\n  AfterEnum:       true\n  AfterFunction:   true\n  AfterNamespace:  true\n  AfterObjCDeclaration: true\n  AfterStruct:     true\n  AfterUnion:      true\n  AfterExternBlock: true\n  BeforeCatch:     true\n  BeforeElse:      true\n  IndentBraces:    true\n  SplitEmptyFunction: false\n  SplitEmptyRecord: false\n  SplitEmptyNamespace: false\n</code></pre>\n\n<p>Consider the following input java code:</p>\n\n<pre><code>public class Lambda {\n  void handle() {\n\n    // TODO Try a compiling example next to see if it's different with clang-format.\n    try {\n      updateTranscriptResponse = Utils.doWithRetry(\n        /* task */\n        () -&gt; {\n        System.out.println(\"This is a bit long-winded sentence so it keeps going on and on.\");\n        System.out.println(\"This is a bit long-winded sentence so it keeps going on and on.\");\n        },\n        /* task 2 */\n        () -&gt; {\n        System.out.println(\"This is a bit long-winded sentence so it keeps going on and on and on and on and on.\");\n        System.out.println(\"This is a bit long-winded sentence so it keeps going on and on.\");\n        },\n        /* task 3 */\n        () -&gt; {\n        System.out.println(\"This is a bit long-winded sentence so it keeps going on and on and on and on and on.\");\n        System.out.println(\"This is a bit long-winded sentence so it keeps going on and on.\");\n        }\n        );\n    } catch (Exception e) {\n    }\n  }\n}\n</code></pre>\n\n<p>I am trying to get <code>clang-format</code> to indent the body of the lambdas but keep <code>() -&gt; {</code> on a single line. Unfortunately, it gives me the following output:</p>\n\n<pre><code>public class Lambda {\n  void handle() {\n    // TODO Try a compiling example next to see if it's different with clang-format.\n    try {\n      updateTranscriptResponse = Utils.doWithRetry(\n          /* task */\n          ()\n              -&gt; {\n            System.out.println(\"This is a bit long-winded sentence so it keeps going on and on.\");\n            System.out.println(\"This is a bit long-winded sentence so it keeps going on and on.\");\n          },\n          /* task 2 */\n          ()\n              -&gt; {\n            System.out.println(\n                \"This is a bit long-winded sentence so it keeps going on and on and on and on and on.\");\n            System.out.println(\"This is a bit long-winded sentence so it keeps going on and on.\");\n          },\n          /* task 3 */\n          () -&gt; {\n            System.out.println(\n                \"This is a bit long-winded sentence so it keeps going on and on and on and on and on.\");\n            System.out.println(\"This is a bit long-winded sentence so it keeps going on and on.\");\n          });\n    } catch (Exception e) {\n    }\n  }\n}\n\n</code></pre>\n\n<p>How can I configure <code>clang-format</code> to not introduce the extra line breaks at Task 1 and Task 2?</p>\n\n<p>I'm running clang-format 9.</p>\n"},{"tags":["java","openapi","openapi-generator"],"answers":[{"tags":[],"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1681147118,"creation_date":1681147118,"answer_id":75979192,"question_id":75978209,"body_markdown":"It is not possible to force an open-api POST requestBody with application/x-www-form-urlencoded content to generate a Java Controller method that accepts a  @RequestBody instead of @RequestParam.\r\n\r\nThe reason is that the _The Servlet API requires ServletRequest.getParameter() methods to support **form field** access only for **HTTP POST**_.- from [spring-framework/docs][1]\r\n\r\nAlso [ServletRequest.html#getParameter(java.lang.String)][2]\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-framework/docs/6.0.x/reference/html/web.html#filters-http-put\r\n  [2]: https://tomcat.apache.org/tomcat-5.5-doc/servletapi/javax/servlet/ServletRequest.html#getParameter(java.lang.String)","title":"OpenApi -API with X-WWW-FORM-URLEncoded as requestBody","body":"<p>It is not possible to force an open-api POST requestBody with application/x-www-form-urlencoded content to generate a Java Controller method that accepts a  @RequestBody instead of @RequestParam.</p>\n<p>The reason is that the <em>The Servlet API requires ServletRequest.getParameter() methods to support <strong>form field</strong> access only for <strong>HTTP POST</strong></em>.- from <a href=\"https://docs.spring.io/spring-framework/docs/6.0.x/reference/html/web.html#filters-http-put\" rel=\"nofollow noreferrer\">spring-framework/docs</a></p>\n<p>Also <a href=\"https://tomcat.apache.org/tomcat-5.5-doc/servletapi/javax/servlet/ServletRequest.html#getParameter(java.lang.String)\" rel=\"nofollow noreferrer\">ServletRequest.html#getParameter(java.lang.String)</a></p>\n"}],"owner":{"account_id":27845330,"reputation":97,"user_id":21260927,"display_name":"Ananya"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":569,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":75979192,"answer_count":1,"score":2,"last_activity_date":1681147118,"creation_date":1681138840,"question_id":75978209,"body_markdown":"I am using openapi 3.0.3 and I am trying to write an API which accepts data in the form of\r\n&#39;application/x-www-form-urlencoded&#39; by api specification looks something like this:\r\n\r\n\r\n    /path/to/api/v1/testApi:\r\n        post:\r\n          tags:\r\n            - Extract data\r\n          operationId: &quot;testApi&quot;   \r\n        requestBody:\r\n         content:\r\n           application/x-www-form-urlencoded:\r\n             schema:\r\n              type: object\r\n              properties:\r\n                effectiveDate:\r\n                  type: string\r\n         required: true\r\n\r\nusing the above specification when an api is generated automatically, the request is accepted by the api as @RequestParam.\r\n\r\n\r\n    ResponseEntity&lt;String&gt; testAPi(\r\n            @Parameter(name = &quot;effectiveDate&quot;, description = &quot;&quot;) @Valid @RequestParam(value = &quot;effectiveDate&quot;, required = false) String effectiveDate\r\n        ) {\r\n            return new ResponseEntity&lt;&gt;(HttpStatus.NOT_IMPLEMENTED);\r\n    \r\n        }\r\n\r\nIs there a possibility to make it accept @RequestBody instead of @RequestParam with the same x-www-form-urlencoded data?","title":"OpenApi -API with X-WWW-FORM-URLEncoded as requestBody","body":"<p>I am using openapi 3.0.3 and I am trying to write an API which accepts data in the form of\n'application/x-www-form-urlencoded' by api specification looks something like this:</p>\n<pre><code>/path/to/api/v1/testApi:\n    post:\n      tags:\n        - Extract data\n      operationId: &quot;testApi&quot;   \n    requestBody:\n     content:\n       application/x-www-form-urlencoded:\n         schema:\n          type: object\n          properties:\n            effectiveDate:\n              type: string\n     required: true\n</code></pre>\n<p>using the above specification when an api is generated automatically, the request is accepted by the api as @RequestParam.</p>\n<pre><code>ResponseEntity&lt;String&gt; testAPi(\n        @Parameter(name = &quot;effectiveDate&quot;, description = &quot;&quot;) @Valid @RequestParam(value = &quot;effectiveDate&quot;, required = false) String effectiveDate\n    ) {\n        return new ResponseEntity&lt;&gt;(HttpStatus.NOT_IMPLEMENTED);\n\n    }\n</code></pre>\n<p>Is there a possibility to make it accept @RequestBody instead of @RequestParam with the same x-www-form-urlencoded data?</p>\n"},{"tags":["java","spring","tomcat","grpc","netty"],"comments":[{"owner":{"account_id":5967476,"reputation":24635,"user_id":4690866,"display_name":"Eric Anderson"},"score":0,"creation_date":1680617856,"post_id":75923718,"comment_id":133926235,"body_markdown":"What problem do you have?","body":"What problem do you have?"},{"owner":{"account_id":20267680,"reputation":105,"user_id":14864502,"display_name":"User1254"},"score":0,"creation_date":1680624818,"post_id":75923718,"comment_id":133928186,"body_markdown":"Updated the question, my bad. The problem is with the number of .dll files that are generated, in the long run they are a lot, so I need a way to clear them or, much better, to tell &quot;somehow&quot; the application to not create as many dll files but use only one, or the minimum needed","body":"Updated the question, my bad. The problem is with the number of .dll files that are generated, in the long run they are a lot, so I need a way to clear them or, much better, to tell &quot;somehow&quot; the application to not create as many dll files but use only one, or the minimum needed"},{"owner":{"account_id":5967476,"reputation":24635,"user_id":4690866,"display_name":"Eric Anderson"},"score":0,"creation_date":1680799976,"post_id":75923718,"comment_id":133962552,"body_markdown":"You say &quot;so many .dll files&quot;. How many? 10? 100? The files should be deleted when Tomcat shuts down.","body":"You say &quot;so many .dll files&quot;. How many? 10? 100? The files should be deleted when Tomcat shuts down."},{"owner":{"account_id":20267680,"reputation":105,"user_id":14864502,"display_name":"User1254"},"score":0,"creation_date":1681043115,"post_id":75923718,"comment_id":133992468,"body_markdown":"In my case tomcat doesn&#39;t go down very often, the number could reach hundreds I&#39;d say, but what&#39;s important for me is that at some point the system has no more memory and it crashes, so I need to find a way to delete those .dll files before there is no more memory on the system","body":"In my case tomcat doesn&#39;t go down very often, the number could reach hundreds I&#39;d say, but what&#39;s important for me is that at some point the system has no more memory and it crashes, so I need to find a way to delete those .dll files before there is no more memory on the system"}],"answers":[{"tags":[],"owner":{"account_id":5967476,"reputation":24635,"user_id":4690866,"display_name":"Eric Anderson"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681145992,"creation_date":1681145992,"answer_id":75979043,"question_id":75923718,"body_markdown":"The .dlls are not created continually. But they could be created each time you deploy a war. Due to Windows behavior, they can&#39;t be safely deleted while the Java process is running.\r\n\r\nYou can disable netty-tcnative (which may impact performance) by starting tomcat with `-Dio.grpc.netty.shaded.io.netty.handler.ssl.noOpenSsl=true`. The performance difference if using Java 8 can be large. If you use Java 11 or later, the difference is much smaller.","title":"gRpc netty creating .dll files windows","body":"<p>The .dlls are not created continually. But they could be created each time you deploy a war. Due to Windows behavior, they can't be safely deleted while the Java process is running.</p>\n<p>You can disable netty-tcnative (which may impact performance) by starting tomcat with <code>-Dio.grpc.netty.shaded.io.netty.handler.ssl.noOpenSsl=true</code>. The performance difference if using Java 8 can be large. If you use Java 11 or later, the difference is much smaller.</p>\n"}],"owner":{"account_id":20267680,"reputation":105,"user_id":14864502,"display_name":"User1254"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":195,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1681145992,"creation_date":1680555574,"question_id":75923718,"body_markdown":"In the `temp` folder of tomcat (version 9.0.43) I noticed that there are numerous `.dll` files with this pattern name: `io_grpc_netty_shaded_netty_tcnative_windows_x86_***SOME_RANDOM_NUMBER***.dll.\r\n\r\nI noticed that a `.dll` file is created at least once when tomcat starts, but I&#39;m not sure if it is being created also at runtime by some operations.\r\n\r\nIn this java project these are the dependencies that could matter..\r\n\r\n    &lt;dependencyManagement&gt;\r\n    \t&lt;dependencies&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-cloud-gcp-dependencies&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;1.2.8.RELEASE&lt;/version&gt;\r\n    \t\t\t&lt;type&gt;pom&lt;/type&gt;\r\n    \t\t\t&lt;scope&gt;import&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t&lt;/dependencies&gt;\r\n    &lt;/dependencyManagement&gt;\r\n    \r\n    &lt;dependencies&gt;\r\n    \t&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-cloud-gcp-starter-vision&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;1.2.8.RELEASE&lt;/version&gt;\r\n    \t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n    \t&lt;/dependency&gt;\r\n    \t&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;2.4.3&lt;/version&gt;\r\n    \t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n    \t&lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\nIn order to not create so many `.dll` files that in the long run can clutter up the system&#39;s memory, is there a way to tell the java webapp to use only one `.dll`?\r\n\r\nI tried a temporary solution found at this [link][1] but it didn&#39;t work out for me.\r\n\r\nThis one is another [solution][2] I found but I&#39;m using an ApplicationRunner of Spring to run some stuff, I don&#39;t know how that one could help..\r\nOne way I guess is to run an instruction inside the ApplicationRunner to delete those `.dll` files but I don&#39;t really like this idea.\r\n\r\n\r\n\r\n\r\n  [1]: https://github.com/grpc/grpc/issues/21788\r\n  [2]: https://github.com/elastic/logstash/issues/10182","title":"gRpc netty creating .dll files windows","body":"<p>In the <code>temp</code> folder of tomcat (version 9.0.43) I noticed that there are numerous <code>.dll</code> files with this pattern name: `io_grpc_netty_shaded_netty_tcnative_windows_x86_<em><strong>SOME_RANDOM_NUMBER</strong></em>.dll.</p>\n<p>I noticed that a <code>.dll</code> file is created at least once when tomcat starts, but I'm not sure if it is being created also at runtime by some operations.</p>\n<p>In this java project these are the dependencies that could matter..</p>\n<pre><code>&lt;dependencyManagement&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-gcp-dependencies&lt;/artifactId&gt;\n            &lt;version&gt;1.2.8.RELEASE&lt;/version&gt;\n            &lt;type&gt;pom&lt;/type&gt;\n            &lt;scope&gt;import&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n&lt;/dependencyManagement&gt;\n\n&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-cloud-gcp-starter-vision&lt;/artifactId&gt;\n        &lt;version&gt;1.2.8.RELEASE&lt;/version&gt;\n        &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;version&gt;2.4.3&lt;/version&gt;\n        &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n</code></pre>\n<p>In order to not create so many <code>.dll</code> files that in the long run can clutter up the system's memory, is there a way to tell the java webapp to use only one <code>.dll</code>?</p>\n<p>I tried a temporary solution found at this <a href=\"https://github.com/grpc/grpc/issues/21788\" rel=\"nofollow noreferrer\">link</a> but it didn't work out for me.</p>\n<p>This one is another <a href=\"https://github.com/elastic/logstash/issues/10182\" rel=\"nofollow noreferrer\">solution</a> I found but I'm using an ApplicationRunner of Spring to run some stuff, I don't know how that one could help..\nOne way I guess is to run an instruction inside the ApplicationRunner to delete those <code>.dll</code> files but I don't really like this idea.</p>\n"},{"tags":["java","arrays","generics","reflection","instantiation"],"comments":[{"owner":{"account_id":3001,"reputation":138707,"user_id":4249,"accept_rate":84,"display_name":"matt b"},"score":21,"creation_date":1234204449,"post_id":529085,"comment_id":342261,"body_markdown":"Do you really _need_ to use an array here? What about using a Collection?","body":"Do you really <i>need</i> to use an array here? What about using a Collection?"},{"owner":{"account_id":25092,"reputation":25309,"user_id":64250,"accept_rate":76,"display_name":"tatsuhirosatou"},"score":16,"creation_date":1234208872,"post_id":529085,"comment_id":342483,"body_markdown":"Yes I also think that collections are more elegant to for this problem. But this is for a class assignment and they are required :(","body":"Yes I also think that collections are more elegant to for this problem. But this is for a class assignment and they are required :("},{"owner":{"account_id":1733785,"reputation":1540,"user_id":1586797,"display_name":"bronze man"},"score":5,"creation_date":1498790774,"post_id":529085,"comment_id":76656206,"body_markdown":"I do not understand why I need a reflect here.Java grammar is strange: like new java.util.HashMap&lt;String,String&gt;[10] is not valid. new java.util.HashMap&lt;long,long&gt;(10) is not valid. new long[][10] is not valid, new long[10][] is valid. That stuff make write a program that can write java program is more difficult then it looks like.","body":"I do not understand why I need a reflect here.Java grammar is strange: like new java.util.HashMap&lt;String,String&gt;[10] is not valid. new java.util.HashMap&lt;long,long&gt;(10) is not valid. new long[][10] is not valid, new long[10][] is valid. That stuff make write a program that can write java program is more difficult then it looks like."},{"owner":{"account_id":4088741,"reputation":6300,"user_id":3357352,"accept_rate":97,"display_name":"OrenIshShalom"},"score":0,"creation_date":1699694387,"post_id":529085,"comment_id":136565836,"body_markdown":"Very surprising such an important feature has (still) no elegant solution (Java 20)","body":"Very surprising such an important feature has (still) no elegant solution (Java 20)"}],"answers":[{"tags":[],"owner":{"account_id":876878,"reputation":694,"user_id":64081,"display_name":"Ola Bini"},"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1234200838,"creation_date":1234200838,"answer_id":529094,"question_id":529085,"body_markdown":"The example is using Java reflection to create an array. Doing this is generally not recommended, since it isn&#39;t typesafe. Instead, what you should do is just use an internal List&lt;T&gt;, and avoid the array at all.","title":"How to create a generic array in Java?","body":"<p>The example is using Java reflection to create an array. Doing this is generally not recommended, since it isn't typesafe. Instead, what you should do is just use an internal List, and avoid the array at all.</p>\n"},{"tags":[],"owner":{"account_id":19115,"reputation":29081,"user_id":44523,"accept_rate":95,"display_name":"Esko"},"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1234201615,"creation_date":1234201615,"answer_id":529140,"question_id":529085,"body_markdown":"You could create an Object array and cast it to E everywhere. Yeah, it&#39;s not very clean way to do it but it should at least work.","title":"How to create a generic array in Java?","body":"<p>You could create an Object array and cast it to E everywhere. Yeah, it's not very clean way to do it but it should at least work.</p>\n"},{"tags":[],"owner":{"account_id":22825,"reputation":6383,"user_id":56708,"display_name":"Jeff Olson"},"down_vote_count":1,"up_vote_count":14,"is_accepted":false,"score":13,"last_activity_date":1472489819,"creation_date":1234205442,"answer_id":529358,"question_id":529085,"body_markdown":"This is covered in Chapter 5 (Generics) of [Effective Java, 2nd Edition][1], item 25...**Prefer lists to arrays**\r\n\r\nYour code will work, although it will generate an unchecked warning (which you could suppress with the following annotation:\r\n\r\n    @SuppressWarnings({&quot;unchecked&quot;})\r\n\r\nHowever, it would probably be better to use a List instead of an Array.\r\n\r\nThere&#39;s an interesting discussion of this bug/feature on [the OpenJDK project site][2].\r\n\r\n  [1]: http://java.sun.com/docs/books/effective/\r\n  [2]: https://bugs.openjdk.java.net/browse/JDK-5105887","title":"How to create a generic array in Java?","body":"<p>This is covered in Chapter 5 (Generics) of <a href=\"http://java.sun.com/docs/books/effective/\" rel=\"noreferrer\">Effective Java, 2nd Edition</a>, item 25...<strong>Prefer lists to arrays</strong></p>\n\n<p>Your code will work, although it will generate an unchecked warning (which you could suppress with the following annotation:</p>\n\n<pre><code>@SuppressWarnings({\"unchecked\"})\n</code></pre>\n\n<p>However, it would probably be better to use a List instead of an Array.</p>\n\n<p>There's an interesting discussion of this bug/feature on <a href=\"https://bugs.openjdk.java.net/browse/JDK-5105887\" rel=\"noreferrer\">the OpenJDK project site</a>.</p>\n"},{"tags":[],"owner":{"account_id":25119,"reputation":16621,"user_id":64331,"display_name":"Varkhan"},"down_vote_count":4,"up_vote_count":782,"is_accepted":true,"score":778,"last_activity_date":1428293993,"creation_date":1234217971,"answer_id":530289,"question_id":529085,"body_markdown":"I have to ask a question in return: is your `GenSet` &quot;checked&quot; or &quot;unchecked&quot;?\r\nWhat does that mean?\r\n\r\n- **Checked**: *strong typing*. `GenSet` knows explicitly what type of objects it contains (i.e. its constructor was explicitly called with a `Class&lt;E&gt;` argument, and methods will throw an exception when they are passed arguments that are not of type `E`. See [`Collections.checkedCollection`][1].\r\n\r\n  -&gt; in that case, you should write:\r\n\r\n        public class GenSet&lt;E&gt; {\r\n\r\n            private E[] a;\r\n\r\n            public GenSet(Class&lt;E&gt; c, int s) {\r\n                // Use Array native method to create array\r\n                // of a type only known at run time\r\n                @SuppressWarnings(&quot;unchecked&quot;)\r\n                final E[] a = (E[]) Array.newInstance(c, s);\r\n                this.a = a;\r\n            }\r\n\r\n            E get(int i) {\r\n                return a[i];\r\n            }\r\n        }\r\n\r\n\r\n- **Unchecked**: *weak typing*. No type checking is actually done on any of the objects passed as argument.\r\n\r\n  -&gt; in that case, you should write\r\n\r\n        public class GenSet&lt;E&gt; {\r\n\r\n            private Object[] a;\r\n\r\n            public GenSet(int s) {\r\n                a = new Object[s];\r\n            }\r\n\r\n            E get(int i) {\r\n                @SuppressWarnings(&quot;unchecked&quot;)\r\n                final E e = (E) a[i];\r\n                return e;\r\n            }\r\n        }\r\n     \r\n    Note that the component type of the array should be the [*erasure*][2] of the type parameter:\r\n\r\n        public class GenSet&lt;E extends Foo&gt; { // E has an upper bound of Foo\r\n\r\n            private Foo[] a; // E erases to Foo, so use Foo[]\r\n\r\n            public GenSet(int s) {\r\n                a = new Foo[s];\r\n            }\r\n\r\n            ...\r\n        }\r\n\r\nAll of this results from a known, and deliberate, weakness of generics in Java: it was implemented using erasure, so &quot;generic&quot; classes don&#39;t know what type argument they were created with at run time, and therefore can not provide type-safety unless some explicit mechanism (type-checking) is implemented.\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/util/Collections.html#checkedCollection%28java.util.Collection,%20java.lang.Class%29\r\n  [2]: http://docs.oracle.com/javase/tutorial/java/generics/erasure.html","title":"How to create a generic array in Java?","body":"<p>I have to ask a question in return: is your <code>GenSet</code> \"checked\" or \"unchecked\"?\nWhat does that mean?</p>\n\n<ul>\n<li><p><strong>Checked</strong>: <em>strong typing</em>. <code>GenSet</code> knows explicitly what type of objects it contains (i.e. its constructor was explicitly called with a <code>Class&lt;E&gt;</code> argument, and methods will throw an exception when they are passed arguments that are not of type <code>E</code>. See <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/Collections.html#checkedCollection%28java.util.Collection,%20java.lang.Class%29\" rel=\"noreferrer\"><code>Collections.checkedCollection</code></a>.</p>\n\n<p>-> in that case, you should write:</p>\n\n<pre><code>public class GenSet&lt;E&gt; {\n\n    private E[] a;\n\n    public GenSet(Class&lt;E&gt; c, int s) {\n        // Use Array native method to create array\n        // of a type only known at run time\n        @SuppressWarnings(\"unchecked\")\n        final E[] a = (E[]) Array.newInstance(c, s);\n        this.a = a;\n    }\n\n    E get(int i) {\n        return a[i];\n    }\n}\n</code></pre></li>\n<li><p><strong>Unchecked</strong>: <em>weak typing</em>. No type checking is actually done on any of the objects passed as argument.</p>\n\n<p>-> in that case, you should write</p>\n\n<pre><code>public class GenSet&lt;E&gt; {\n\n    private Object[] a;\n\n    public GenSet(int s) {\n        a = new Object[s];\n    }\n\n    E get(int i) {\n        @SuppressWarnings(\"unchecked\")\n        final E e = (E) a[i];\n        return e;\n    }\n}\n</code></pre>\n\n<p>Note that the component type of the array should be the <a href=\"http://docs.oracle.com/javase/tutorial/java/generics/erasure.html\" rel=\"noreferrer\"><em>erasure</em></a> of the type parameter:</p>\n\n<pre><code>public class GenSet&lt;E extends Foo&gt; { // E has an upper bound of Foo\n\n    private Foo[] a; // E erases to Foo, so use Foo[]\n\n    public GenSet(int s) {\n        a = new Foo[s];\n    }\n\n    ...\n}\n</code></pre></li>\n</ul>\n\n<p>All of this results from a known, and deliberate, weakness of generics in Java: it was implemented using erasure, so \"generic\" classes don't know what type argument they were created with at run time, and therefore can not provide type-safety unless some explicit mechanism (type-checking) is implemented.</p>\n"},{"tags":[],"owner":{"account_id":5059,"reputation":8280,"user_id":7938,"display_name":"Bill Michell"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1234346855,"creation_date":1234346855,"answer_id":536195,"question_id":529085,"body_markdown":"Java generics work by checking types at compile time and inserting appropriate casts, but *erasing* the types in the compiled files. This makes generic libraries usable by code which doesn&#39;t understand generics (which was a deliberate design decision) but which means you can&#39;t normally find out what the type is at run time.\r\n\r\nThe public `Stack(Class&lt;T&gt; clazz,int capacity)` constructor requires you to pass a Class object at run time, which means class information *is* available at runtime to code that needs it. And the `Class&lt;T&gt;` form means that the compiler will check that the Class object you pass is precisely the Class object for type T. Not a subclass of T, not a superclass of T, but precisely T.\r\n\r\nThis then means that you can create an array object of the appropriate type in your constructor, which means that the type of the objects you store in your collection will have their types checked at the point they are added to the collection.","title":"How to create a generic array in Java?","body":"<p>Java generics work by checking types at compile time and inserting appropriate casts, but <em>erasing</em> the types in the compiled files. This makes generic libraries usable by code which doesn't understand generics (which was a deliberate design decision) but which means you can't normally find out what the type is at run time.</p>\n\n<p>The public <code>Stack(Class&lt;T&gt; clazz,int capacity)</code> constructor requires you to pass a Class object at run time, which means class information <em>is</em> available at runtime to code that needs it. And the <code>Class&lt;T&gt;</code> form means that the compiler will check that the Class object you pass is precisely the Class object for type T. Not a subclass of T, not a superclass of T, but precisely T.</p>\n\n<p>This then means that you can create an array object of the appropriate type in your constructor, which means that the type of the objects you store in your collection will have their types checked at the point they are added to the collection.</p>\n"},{"tags":[],"owner":{"account_id":39409,"reputation":47624,"user_id":113632,"accept_rate":84,"display_name":"dimo414"},"down_vote_count":14,"up_vote_count":284,"is_accepted":false,"score":270,"last_activity_date":1543533872,"creation_date":1274990445,"answer_id":2924453,"question_id":529085,"body_markdown":"You can do this:\r\n\r\n    E[] arr = (E[])new Object[INITIAL_ARRAY_LENGTH];\r\n\r\nThis is one of the suggested ways of implementing a generic collection in *Effective Java; Item 26*.  No type errors, no need to cast the array repeatedly.  *However* this triggers a warning because it is potentially dangerous, and should be used with caution.  As detailed in the comments, this `Object[]` is now masquerading as our `E[]` type, and can cause unexpected errors or `ClassCastException`s if used unsafely.\r\n\r\nAs a rule of thumb, this behavior is safe as long as the cast array is used internally (e.g. to back a data structure), and not returned or exposed to client code.  Should you need to return an array of a generic type to other code, the reflection `Array` class you mention is the right way to go.\r\n\r\n---\r\n\r\nWorth mentioning that wherever possible, you&#39;ll have a much happier time working with `List`s rather than arrays if you&#39;re using generics.  Certainly sometimes you don&#39;t have a choice, but using the collections framework is far more robust.","title":"How to create a generic array in Java?","body":"<p>You can do this:</p>\n\n<pre><code>E[] arr = (E[])new Object[INITIAL_ARRAY_LENGTH];\n</code></pre>\n\n<p>This is one of the suggested ways of implementing a generic collection in <em>Effective Java; Item 26</em>.  No type errors, no need to cast the array repeatedly.  <em>However</em> this triggers a warning because it is potentially dangerous, and should be used with caution.  As detailed in the comments, this <code>Object[]</code> is now masquerading as our <code>E[]</code> type, and can cause unexpected errors or <code>ClassCastException</code>s if used unsafely.</p>\n\n<p>As a rule of thumb, this behavior is safe as long as the cast array is used internally (e.g. to back a data structure), and not returned or exposed to client code.  Should you need to return an array of a generic type to other code, the reflection <code>Array</code> class you mention is the right way to go.</p>\n\n<hr>\n\n<p>Worth mentioning that wherever possible, you'll have a much happier time working with <code>List</code>s rather than arrays if you're using generics.  Certainly sometimes you don't have a choice, but using the collections framework is far more robust.</p>\n"},{"tags":[],"owner":{"account_id":211872,"reputation":7501,"user_id":464306,"accept_rate":92,"display_name":"gdejohn"},"down_vote_count":1,"up_vote_count":72,"is_accepted":false,"score":71,"last_activity_date":1681145565,"creation_date":1290137415,"answer_id":4221845,"question_id":529085,"body_markdown":"Here&#39;s how to use generics to get an array of precisely the type you’re looking for while preserving type safety (as opposed to the other answers, which will either give you back an `Object` array or result in warnings at compile time):\r\n\r\n    import java.lang.reflect.Array;  \r\n    \r\n    public class GenSet&lt;E&gt; {  \r\n        private E[] a;  \r\n        \r\n        public GenSet(Class&lt;E[]&gt; type, int length) {  \r\n            a = type.cast(Array.newInstance(type.getComponentType(), length));  \r\n        }  \r\n        \r\n        public static void main(String[] args) {  \r\n            GenSet&lt;String&gt; foo = new GenSet&lt;String&gt;(String[].class, 1);  \r\n            String[] bar = foo.a;  \r\n            foo.a[0] = &quot;xyzzy&quot;;  \r\n            String baz = foo.a[0];  \r\n        }  \r\n    }\r\n\r\nThat compiles without warnings, and as you can see in `main`, for whatever type you declare an instance of `GenSet` as, you can assign `a` to an array of that type, and you can assign an element from `a` to a variable of that type, meaning that the array and the values in the array are of the correct type.\r\n\r\nIt works by using class literals as runtime type tokens, as discussed in the [Java Tutorials](http://download.oracle.com/javase/tutorial/extra/generics/literals.html). Class literals are treated by the compiler as instances of `java.lang.Class`. To use one, simply follow the name of a class with `.class`. So, `String.class` acts as a `Class` object representing the class `String`. This also works for interfaces, enums, any-dimensional arrays (e.g. `String[].class`), primitives (e.g. `int.class`), and the keyword `void` (i.e. `void.class`). \r\n\r\n`Class` itself is generic (declared as `Class&lt;T&gt;`, where `T` stands for the type that the `Class` object is representing), meaning that the type of `String.class` is `Class&lt;String&gt;`.\r\n\r\nSo, whenever you call the constructor for `GenSet`, you pass in a class literal for the first argument representing an array of the `GenSet` instance&#39;s declared type (e.g. `String[].class` for `GenSet&lt;String&gt;`). Note that you won&#39;t be able to get an array of primitives, since primitives can&#39;t be used for type variables.\r\n\r\nInside the constructor, calling the method `cast` returns the passed `Object` argument cast to the class represented by the `Class` object on which the method was called. Calling the static method `newInstance` in `java.lang.reflect.Array` returns as an `Object` an array of the type represented by the `Class` object passed as the first argument and of the length specified by the `int` passed as the second argument. Calling the method `getComponentType` returns a `Class` object representing the component type of the array represented by the `Class` object on which the method was called (e.g. `String.class` for `String[].class`, `null` if the `Class` object doesn&#39;t represent an array).\r\n\r\nThat last sentence isn&#39;t entirely accurate. Calling `String[].class.getComponentType()` returns a `Class` object representing the class `String`, but its type is `Class&lt;?&gt;`, not `Class&lt;String&gt;`, which is why you can&#39;t do something like the following.\r\n\r\n    String foo = String[].class.getComponentType().cast(&quot;bar&quot;); // won&#39;t compile\r\n\r\nSame goes for every method in `Class` that returns a `Class` object.\r\n\r\nRegarding Joachim Sauer&#39;s comment on [this answer](https://stackoverflow.com/questions/529085/java-how-to-generic-array-creation/529094#529094) (I don&#39;t have enough reputation to comment on it myself), the example using the cast to `T[]` will result in a warning because the compiler can&#39;t guarantee type safety in that case.\r\n\r\n\r\n----------\r\n\r\n\r\nEdit regarding Ingo&#39;s comments:\r\n\r\n    public static &lt;T&gt; T[] newArray(Class&lt;T[]&gt; type, int size) {\r\n       return type.cast(Array.newInstance(type.getComponentType(), size));\r\n    }","title":"How to create a generic array in Java?","body":"<p>Here's how to use generics to get an array of precisely the type you’re looking for while preserving type safety (as opposed to the other answers, which will either give you back an <code>Object</code> array or result in warnings at compile time):</p>\n<pre><code>import java.lang.reflect.Array;  \n\npublic class GenSet&lt;E&gt; {  \n    private E[] a;  \n    \n    public GenSet(Class&lt;E[]&gt; type, int length) {  \n        a = type.cast(Array.newInstance(type.getComponentType(), length));  \n    }  \n    \n    public static void main(String[] args) {  \n        GenSet&lt;String&gt; foo = new GenSet&lt;String&gt;(String[].class, 1);  \n        String[] bar = foo.a;  \n        foo.a[0] = &quot;xyzzy&quot;;  \n        String baz = foo.a[0];  \n    }  \n}\n</code></pre>\n<p>That compiles without warnings, and as you can see in <code>main</code>, for whatever type you declare an instance of <code>GenSet</code> as, you can assign <code>a</code> to an array of that type, and you can assign an element from <code>a</code> to a variable of that type, meaning that the array and the values in the array are of the correct type.</p>\n<p>It works by using class literals as runtime type tokens, as discussed in the <a href=\"http://download.oracle.com/javase/tutorial/extra/generics/literals.html\" rel=\"nofollow noreferrer\">Java Tutorials</a>. Class literals are treated by the compiler as instances of <code>java.lang.Class</code>. To use one, simply follow the name of a class with <code>.class</code>. So, <code>String.class</code> acts as a <code>Class</code> object representing the class <code>String</code>. This also works for interfaces, enums, any-dimensional arrays (e.g. <code>String[].class</code>), primitives (e.g. <code>int.class</code>), and the keyword <code>void</code> (i.e. <code>void.class</code>).</p>\n<p><code>Class</code> itself is generic (declared as <code>Class&lt;T&gt;</code>, where <code>T</code> stands for the type that the <code>Class</code> object is representing), meaning that the type of <code>String.class</code> is <code>Class&lt;String&gt;</code>.</p>\n<p>So, whenever you call the constructor for <code>GenSet</code>, you pass in a class literal for the first argument representing an array of the <code>GenSet</code> instance's declared type (e.g. <code>String[].class</code> for <code>GenSet&lt;String&gt;</code>). Note that you won't be able to get an array of primitives, since primitives can't be used for type variables.</p>\n<p>Inside the constructor, calling the method <code>cast</code> returns the passed <code>Object</code> argument cast to the class represented by the <code>Class</code> object on which the method was called. Calling the static method <code>newInstance</code> in <code>java.lang.reflect.Array</code> returns as an <code>Object</code> an array of the type represented by the <code>Class</code> object passed as the first argument and of the length specified by the <code>int</code> passed as the second argument. Calling the method <code>getComponentType</code> returns a <code>Class</code> object representing the component type of the array represented by the <code>Class</code> object on which the method was called (e.g. <code>String.class</code> for <code>String[].class</code>, <code>null</code> if the <code>Class</code> object doesn't represent an array).</p>\n<p>That last sentence isn't entirely accurate. Calling <code>String[].class.getComponentType()</code> returns a <code>Class</code> object representing the class <code>String</code>, but its type is <code>Class&lt;?&gt;</code>, not <code>Class&lt;String&gt;</code>, which is why you can't do something like the following.</p>\n<pre><code>String foo = String[].class.getComponentType().cast(&quot;bar&quot;); // won't compile\n</code></pre>\n<p>Same goes for every method in <code>Class</code> that returns a <code>Class</code> object.</p>\n<p>Regarding Joachim Sauer's comment on <a href=\"https://stackoverflow.com/questions/529085/java-how-to-generic-array-creation/529094#529094\">this answer</a> (I don't have enough reputation to comment on it myself), the example using the cast to <code>T[]</code> will result in a warning because the compiler can't guarantee type safety in that case.</p>\n<hr />\n<p>Edit regarding Ingo's comments:</p>\n<pre><code>public static &lt;T&gt; T[] newArray(Class&lt;T[]&gt; type, int size) {\n   return type.cast(Array.newInstance(type.getComponentType(), size));\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":710849,"reputation":7,"user_id":615417,"display_name":"David Bernard"},"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1297629454,"creation_date":1297629454,"answer_id":4986724,"question_id":529085,"body_markdown":"try this.\r\n\r\n    private int m = 0;\r\n    private int n = 0;\r\n    private Element&lt;T&gt;[][] elements = null;\r\n\r\n    public MatrixData(int m, int n)\r\n    {\r\n        this.m = m;\r\n        this.n = n;\r\n\r\n        this.elements = new Element[m][n];\r\n        for (int i = 0; i &lt; m; i++)\r\n        {\r\n            for (int j = 0; j &lt; n; j++)\r\n            {\r\n                this.elements[i][j] = new Element&lt;T&gt;();\r\n            }\r\n        }\r\n    }","title":"How to create a generic array in Java?","body":"<p>try this.</p>\n\n<pre><code>private int m = 0;\nprivate int n = 0;\nprivate Element&lt;T&gt;[][] elements = null;\n\npublic MatrixData(int m, int n)\n{\n    this.m = m;\n    this.n = n;\n\n    this.elements = new Element[m][n];\n    for (int i = 0; i &lt; m; i++)\n    {\n        for (int j = 0; j &lt; n; j++)\n        {\n            this.elements[i][j] = new Element&lt;T&gt;();\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":766753,"reputation":71,"user_id":798354,"display_name":"puneeth"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1618852429,"creation_date":1308079560,"answer_id":6348905,"question_id":529085,"body_markdown":"Although the thread is dead, I would like to draw your attention to this.\r\n\r\nGenerics are used for type checking during compile time. Therefore, the purpose is to check\r\n\r\n- What comes in is what you need.\r\n- What you return is what the consumer needs.\r\n\r\nCheck this:  \r\n\r\n![enter image description here][1]\r\n\r\nDon&#39;t worry about typecasting warnings when you are writing a generic class; worry when you are using it.\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/fCXXe.jpg","title":"How to create a generic array in Java?","body":"<p>Although the thread is dead, I would like to draw your attention to this.</p>\n<p>Generics are used for type checking during compile time. Therefore, the purpose is to check</p>\n<ul>\n<li>What comes in is what you need.</li>\n<li>What you return is what the consumer needs.</li>\n</ul>\n<p>Check this:</p>\n<p><img src=\"https://i.stack.imgur.com/fCXXe.jpg\" alt=\"enter image description here\" /></p>\n<p>Don't worry about typecasting warnings when you are writing a generic class; worry when you are using it.</p>\n"},{"tags":[],"owner":{"account_id":76511,"reputation":44893,"user_id":218978,"accept_rate":100,"display_name":"irreputable"},"down_vote_count":3,"up_vote_count":47,"is_accepted":false,"score":44,"last_activity_date":1428293511,"creation_date":1320766097,"answer_id":8052827,"question_id":529085,"body_markdown":"This is the only answer that is type safe\r\n\r\n    E[] a;\r\n\r\n    a = newArray(size);\r\n\r\n    @SafeVarargs\r\n    static &lt;E&gt; E[] newArray(int length, E... array)\r\n    {\r\n        return Arrays.copyOf(array, length);\r\n    }","title":"How to create a generic array in Java?","body":"<p>This is the only answer that is type safe</p>\n\n<pre><code>E[] a;\n\na = newArray(size);\n\n@SafeVarargs\nstatic &lt;E&gt; E[] newArray(int length, E... array)\n{\n    return Arrays.copyOf(array, length);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1381133,"reputation":9,"user_id":1314103,"display_name":"StarMonkey"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1333584645,"creation_date":1333584645,"answer_id":10021028,"question_id":529085,"body_markdown":"An easy, albeit messy workaround to this would be to nest a second &quot;holder&quot; class inside of your main class, and use it to hold your data.\r\n\r\n    public class Whatever&lt;Thing&gt;{\r\n        private class Holder&lt;OtherThing&gt;{\r\n            OtherThing thing;\r\n        }\r\n        public Holder&lt;Thing&gt;[] arrayOfHolders = new Holder&lt;Thing&gt;[10]\r\n    }","title":"How to create a generic array in Java?","body":"<p>An easy, albeit messy workaround to this would be to nest a second \"holder\" class inside of your main class, and use it to hold your data.</p>\n\n<pre><code>public class Whatever&lt;Thing&gt;{\n    private class Holder&lt;OtherThing&gt;{\n        OtherThing thing;\n    }\n    public Holder&lt;Thing&gt;[] arrayOfHolders = new Holder&lt;Thing&gt;[10]\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1799806,"reputation":31,"user_id":1638425,"display_name":"Bobster"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1346409568,"creation_date":1346409568,"answer_id":12213683,"question_id":529085,"body_markdown":"I made this code snippet to reflectively instantiate a class which is passed for a simple automated test utility.\r\n\r\n    Object attributeValue = null;\r\n    try {\r\n    \tif(clazz.isArray()){\r\n    \t\tClass&lt;?&gt; arrayType = clazz.getComponentType();\r\n    \t\tattributeValue = Array.newInstance(arrayType, 0);\r\n    \t}\r\n    \telse if(!clazz.isInterface()){\r\n    \t\tattributeValue = BeanUtils.instantiateClass(clazz);\r\n    \t}\r\n    } catch (Exception e) {\r\n    \tlogger.debug(&quot;Cannot instanciate \\&quot;{}\\&quot;&quot;, new Object[]{clazz});\r\n    }\r\n\r\nNote this segment:\r\n\r\n    \tif(clazz.isArray()){\r\n    \t\tClass&lt;?&gt; arrayType = clazz.getComponentType();\r\n    \t\tattributeValue = Array.newInstance(arrayType, 0);\r\n    \t}\r\n\r\nfor array initiating where **Array.newInstance(class of array, size of array)**. Class can be both primitive (int.class) and object (Integer.class).\r\n\r\nBeanUtils is part of Spring.","title":"How to create a generic array in Java?","body":"<p>I made this code snippet to reflectively instantiate a class which is passed for a simple automated test utility.</p>\n\n<pre><code>Object attributeValue = null;\ntry {\n    if(clazz.isArray()){\n        Class&lt;?&gt; arrayType = clazz.getComponentType();\n        attributeValue = Array.newInstance(arrayType, 0);\n    }\n    else if(!clazz.isInterface()){\n        attributeValue = BeanUtils.instantiateClass(clazz);\n    }\n} catch (Exception e) {\n    logger.debug(\"Cannot instanciate \\\"{}\\\"\", new Object[]{clazz});\n}\n</code></pre>\n\n<p>Note this segment:</p>\n\n<pre><code>    if(clazz.isArray()){\n        Class&lt;?&gt; arrayType = clazz.getComponentType();\n        attributeValue = Array.newInstance(arrayType, 0);\n    }\n</code></pre>\n\n<p>for array initiating where <strong>Array.newInstance(class of array, size of array)</strong>. Class can be both primitive (int.class) and object (Integer.class).</p>\n\n<p>BeanUtils is part of Spring.</p>\n"},{"tags":[],"owner":{"account_id":1285926,"reputation":3609,"user_id":1239006,"accept_rate":91,"display_name":"MatheusJardimB"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1376004747,"creation_date":1376004747,"answer_id":18137953,"question_id":529085,"body_markdown":"Look also to this code:\r\n\r\n    public static &lt;T&gt; T[] toArray(final List&lt;T&gt; obj) {\r\n        if (obj == null || obj.isEmpty()) {\r\n            return null;\r\n        }\r\n        final T t = obj.get(0);\r\n        final T[] res = (T[]) Array.newInstance(t.getClass(), obj.size());\r\n        for (int i = 0; i &lt; obj.size(); i++) {\r\n            res[i] = obj.get(i);\r\n        }\r\n        return res;\r\n    }\r\n\r\nIt converts a list of any kind of object to an array of the same type.","title":"How to create a generic array in Java?","body":"<p>Look also to this code:</p>\n\n<pre><code>public static &lt;T&gt; T[] toArray(final List&lt;T&gt; obj) {\n    if (obj == null || obj.isEmpty()) {\n        return null;\n    }\n    final T t = obj.get(0);\n    final T[] res = (T[]) Array.newInstance(t.getClass(), obj.size());\n    for (int i = 0; i &lt; obj.size(); i++) {\n        res[i] = obj.get(i);\n    }\n    return res;\n}\n</code></pre>\n\n<p>It converts a list of any kind of object to an array of the same type.</p>\n"},{"tags":[],"owner":{"account_id":305991,"reputation":39137,"user_id":616460,"accept_rate":93,"display_name":"Jason C"},"down_vote_count":1,"up_vote_count":37,"is_accepted":false,"score":36,"last_activity_date":1389552929,"creation_date":1376574439,"answer_id":18254084,"question_id":529085,"body_markdown":"To extend to more dimensions, just add `[]`&#39;s and dimension parameters to `newInstance()` (`T` is a type parameter, `cls` is a `Class&lt;T&gt;`, `d1` through `d5` are integers):\r\n\r\n    T[] array = (T[])Array.newInstance(cls, d1);\r\n    T[][] array = (T[][])Array.newInstance(cls, d1, d2);\r\n    T[][][] array = (T[][][])Array.newInstance(cls, d1, d2, d3);\r\n    T[][][][] array = (T[][][][])Array.newInstance(cls, d1, d2, d3, d4);\r\n    T[][][][][] array = (T[][][][][])Array.newInstance(cls, d1, d2, d3, d4, d5);\r\n\r\nSee [`Array.newInstance()`][1] for details.\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/lang/reflect/Array.html#newInstance%28java.lang.Class,%20int...%29","title":"How to create a generic array in Java?","body":"<p>To extend to more dimensions, just add <code>[]</code>'s and dimension parameters to <code>newInstance()</code> (<code>T</code> is a type parameter, <code>cls</code> is a <code>Class&lt;T&gt;</code>, <code>d1</code> through <code>d5</code> are integers):</p>\n\n<pre><code>T[] array = (T[])Array.newInstance(cls, d1);\nT[][] array = (T[][])Array.newInstance(cls, d1, d2);\nT[][][] array = (T[][][])Array.newInstance(cls, d1, d2, d3);\nT[][][][] array = (T[][][][])Array.newInstance(cls, d1, d2, d3, d4);\nT[][][][][] array = (T[][][][][])Array.newInstance(cls, d1, d2, d3, d4, d5);\n</code></pre>\n\n<p>See <a href=\"http://docs.oracle.com/javase/7/docs/api/java/lang/reflect/Array.html#newInstance%28java.lang.Class,%20int...%29\" rel=\"noreferrer\"><code>Array.newInstance()</code></a> for details.</p>\n"},{"tags":[],"owner":{"account_id":64815,"reputation":13293,"user_id":191148,"accept_rate":41,"display_name":"Mohsen Afshin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1377101495,"creation_date":1377101495,"answer_id":18362577,"question_id":529085,"body_markdown":"Maybe unrelated to this question but while I was getting the &quot;`generic array creation`&quot; error for using \r\n\r\n    Tuple&lt;Long,String&gt;[] tupleArray = new Tuple&lt;Long,String&gt;[10];\r\n\r\nI find out the following works (and worked for me) with  `@SuppressWarnings({&quot;unchecked&quot;})`:\r\n\r\n     Tuple&lt;Long, String&gt;[] tupleArray = new Tuple[10];","title":"How to create a generic array in Java?","body":"<p>Maybe unrelated to this question but while I was getting the \"<code>generic array creation</code>\" error for using </p>\n\n<pre><code>Tuple&lt;Long,String&gt;[] tupleArray = new Tuple&lt;Long,String&gt;[10];\n</code></pre>\n\n<p>I find out the following works (and worked for me) with  <code>@SuppressWarnings({\"unchecked\"})</code>:</p>\n\n<pre><code> Tuple&lt;Long, String&gt;[] tupleArray = new Tuple[10];\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3304996,"reputation":2980,"user_id":2780088,"accept_rate":25,"display_name":"Valentino"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1379193993,"creation_date":1379193993,"answer_id":18806548,"question_id":529085,"body_markdown":"The forced cast suggested by other people did not work for me, throwing an exception of illegal casting.\r\n\r\nHowever, this implicit cast worked fine:\r\n\r\n    Item&lt;K&gt;[] array = new Item[SIZE];\r\n\r\nwhere Item is a class I defined containing the member:\r\n\r\n    private K value;\r\n\r\nThis way you get an array of type K (if the item only has the value) or any generic type you want defined in the class Item.","title":"How to create a generic array in Java?","body":"<p>The forced cast suggested by other people did not work for me, throwing an exception of illegal casting.</p>\n\n<p>However, this implicit cast worked fine:</p>\n\n<pre><code>Item&lt;K&gt;[] array = new Item[SIZE];\n</code></pre>\n\n<p>where Item is a class I defined containing the member:</p>\n\n<pre><code>private K value;\n</code></pre>\n\n<p>This way you get an array of type K (if the item only has the value) or any generic type you want defined in the class Item.</p>\n"},{"tags":[],"owner":{"account_id":3452279,"reputation":37360,"user_id":2891664,"accept_rate":100,"display_name":"Radiodef"},"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1499217425,"creation_date":1394028842,"answer_id":22200232,"question_id":529085,"body_markdown":"In Java 8, we can do a kind of generic array creation using a lambda or method reference. This is similar to the reflective approach (which passes a `Class`), but here we aren&#39;t using reflection.\r\n\r\n    @FunctionalInterface\r\n    interface ArraySupplier&lt;E&gt; {\r\n        E[] get(int length);\r\n    }\r\n\r\n    class GenericSet&lt;E&gt; {\r\n        private final ArraySupplier&lt;E&gt; supplier;\r\n        private E[] array;\r\n\r\n        GenericSet(ArraySupplier&lt;E&gt; supplier) {\r\n            this.supplier = supplier;\r\n            this.array    = supplier.get(10);\r\n        }\r\n\r\n        public static void main(String[] args) {\r\n            GenericSet&lt;String&gt; ofString =\r\n                new GenericSet&lt;&gt;(String[]::new);\r\n            GenericSet&lt;Double&gt; ofDouble =\r\n                new GenericSet&lt;&gt;(Double[]::new);\r\n        }\r\n    }\r\n\r\nFor example, this is used by [`&lt;A&gt; A[] Stream.toArray(IntFunction&lt;A[]&gt;)`](http://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#toArray-java.util.function.IntFunction-).\r\n\r\nThis *could* also be done pre-Java 8 using anonymous classes but it&#39;s more cumbersome.","title":"How to create a generic array in Java?","body":"<p>In Java 8, we can do a kind of generic array creation using a lambda or method reference. This is similar to the reflective approach (which passes a <code>Class</code>), but here we aren't using reflection.</p>\n\n<pre><code>@FunctionalInterface\ninterface ArraySupplier&lt;E&gt; {\n    E[] get(int length);\n}\n\nclass GenericSet&lt;E&gt; {\n    private final ArraySupplier&lt;E&gt; supplier;\n    private E[] array;\n\n    GenericSet(ArraySupplier&lt;E&gt; supplier) {\n        this.supplier = supplier;\n        this.array    = supplier.get(10);\n    }\n\n    public static void main(String[] args) {\n        GenericSet&lt;String&gt; ofString =\n            new GenericSet&lt;&gt;(String[]::new);\n        GenericSet&lt;Double&gt; ofDouble =\n            new GenericSet&lt;&gt;(Double[]::new);\n    }\n}\n</code></pre>\n\n<p>For example, this is used by <a href=\"http://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#toArray-java.util.function.IntFunction-\" rel=\"noreferrer\"><code>&lt;A&gt; A[] Stream.toArray(IntFunction&lt;A[]&gt;)</code></a>.</p>\n\n<p>This <em>could</em> also be done pre-Java 8 using anonymous classes but it's more cumbersome.</p>\n"},{"tags":[],"owner":{"account_id":1047552,"reputation":257,"user_id":1052246,"accept_rate":25,"display_name":"Cambot"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1404912995,"creation_date":1404912995,"answer_id":24655212,"question_id":529085,"body_markdown":"I&#39;m wondering if this code would create an effective generic array?\r\n\r\n    public T [] createArray(int desiredSize){\r\n        ArrayList&lt;T&gt; builder = new ArrayList&lt;T&gt;();\r\n        for(int x=0;x&lt;desiredSize;x++){\r\n            builder.add(null);\r\n        }\r\n        return builder.toArray(zeroArray());\r\n    }\r\n    \r\n    //zeroArray should, in theory, create a zero-sized array of T\r\n    //when it is not given any parameters.\r\n\r\n    private T [] zeroArray(T... i){\r\n        return i;\r\n    }\r\n\r\nEdit: Perhaps an alternate way of creating such an array, if the size you required was known and small, would be to simply feed the required number of &quot;null&quot;s into the zeroArray command?\r\n\r\nThough obviously this isn&#39;t as versatile as using the createArray code.","title":"How to create a generic array in Java?","body":"<p>I'm wondering if this code would create an effective generic array?</p>\n\n<pre><code>public T [] createArray(int desiredSize){\n    ArrayList&lt;T&gt; builder = new ArrayList&lt;T&gt;();\n    for(int x=0;x&lt;desiredSize;x++){\n        builder.add(null);\n    }\n    return builder.toArray(zeroArray());\n}\n\n//zeroArray should, in theory, create a zero-sized array of T\n//when it is not given any parameters.\n\nprivate T [] zeroArray(T... i){\n    return i;\n}\n</code></pre>\n\n<p>Edit: Perhaps an alternate way of creating such an array, if the size you required was known and small, would be to simply feed the required number of \"null\"s into the zeroArray command?</p>\n\n<p>Though obviously this isn't as versatile as using the createArray code.</p>\n"},{"tags":[],"owner":{"account_id":2751478,"reputation":478,"user_id":2370773,"display_name":"samir benzenine"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1410801812,"creation_date":1410801812,"answer_id":25853468,"question_id":529085,"body_markdown":"You could use a cast:\r\n\r\n    public class GenSet&lt;Item&gt; {\r\n        private Item[] a;\r\n\r\n        public GenSet(int s) {\r\n            a = (Item[]) new Object[s];\r\n        }\r\n    }","title":"How to create a generic array in Java?","body":"<p>You could use a cast:</p>\n\n<pre><code>public class GenSet&lt;Item&gt; {\n    private Item[] a;\n\n    public GenSet(int s) {\n        a = (Item[]) new Object[s];\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6407381,"reputation":11,"user_id":4968113,"display_name":"Zubair Ibrhaim"},"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1433312181,"creation_date":1433310771,"answer_id":30611850,"question_id":529085,"body_markdown":"    private E a[];\r\n    private int size;\r\n    \r\n    public GenSet(int elem)\r\n    {\r\n        size = elem;\r\n        a = (E[]) new E[size];\r\n    }","title":"How to create a generic array in Java?","body":"<pre><code>private E a[];\nprivate int size;\n\npublic GenSet(int elem)\n{\n    size = elem;\n    a = (E[]) new E[size];\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5054056,"reputation":174,"user_id":4057800,"display_name":"Pedram Esmaeeli"},"down_vote_count":2,"up_vote_count":4,"is_accepted":false,"score":2,"last_activity_date":1434102834,"creation_date":1434102046,"answer_id":30799960,"question_id":529085,"body_markdown":"Actually an easier way to do so, is to create an array of objects and cast it to your desired type like the following example:\r\n\r\n    T[] array = (T[])new Object[SIZE];\r\n\r\nwhere `SIZE` is a constant and `T` is a type identifier","title":"How to create a generic array in Java?","body":"<p>Actually an easier way to do so, is to create an array of objects and cast it to your desired type like the following example:</p>\n\n<pre><code>T[] array = (T[])new Object[SIZE];\n</code></pre>\n\n<p>where <code>SIZE</code> is a constant and <code>T</code> is a type identifier</p>\n"},{"tags":[],"owner":{"account_id":6523765,"reputation":9872,"user_id":5083516,"display_name":"plugwash"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1445180098,"creation_date":1445060991,"answer_id":33183279,"question_id":529085,"body_markdown":"No one else has answered the question of what is going on in the example you posted.\r\n\r\n    import java.lang.reflect.Array;\r\n     \r\n    class Stack&lt;T&gt; {\r\n        public Stack(Class&lt;T&gt; clazz, int capacity) {\r\n            array = (T[])Array.newInstance(clazz, capacity);\r\n        }\r\n     \r\n        private final T[] array;\r\n    }\r\n\r\nAs others have said generics are &quot;erased&quot; during compilation. So at runtime an instance of a generic doesn&#39;t know what its component type is. The reason for this is historical, Sun wanted to add generics without breaking the existing interface (both source and binary).\r\n\r\nArrays on the other hand *do* know their component type at runtime.\r\n\r\nThis example works around the problem by having the code that calls the constructor (which does know the type) pass a parameter telling the class the required type.\r\n\r\nSo the application would construct the class with something like\r\n\r\n    Stack&lt;foo&gt; = new Stack&lt;foo&gt;(foo.class,50)\r\n\r\nand the constructor now knows (at runtime) what the component type is and can use that information to construct the array through the reflection API.\r\n\r\n    Array.newInstance(clazz, capacity);\r\n\r\nFinally we have a type cast because the compiler has no way of knowing that the array returned by `Array#newInstance()` is the correct type (even though we know).\r\n\r\nThis style is a bit ugly but it can sometimes be the least bad solution to creating generic types that do need to know their component type at runtime for whatever reason (creating arrays, or creating instances of their component type, etc.).","title":"How to create a generic array in Java?","body":"<p>No one else has answered the question of what is going on in the example you posted.</p>\n\n<pre><code>import java.lang.reflect.Array;\n\nclass Stack&lt;T&gt; {\n    public Stack(Class&lt;T&gt; clazz, int capacity) {\n        array = (T[])Array.newInstance(clazz, capacity);\n    }\n\n    private final T[] array;\n}\n</code></pre>\n\n<p>As others have said generics are \"erased\" during compilation. So at runtime an instance of a generic doesn't know what its component type is. The reason for this is historical, Sun wanted to add generics without breaking the existing interface (both source and binary).</p>\n\n<p>Arrays on the other hand <em>do</em> know their component type at runtime.</p>\n\n<p>This example works around the problem by having the code that calls the constructor (which does know the type) pass a parameter telling the class the required type.</p>\n\n<p>So the application would construct the class with something like</p>\n\n<pre><code>Stack&lt;foo&gt; = new Stack&lt;foo&gt;(foo.class,50)\n</code></pre>\n\n<p>and the constructor now knows (at runtime) what the component type is and can use that information to construct the array through the reflection API.</p>\n\n<pre><code>Array.newInstance(clazz, capacity);\n</code></pre>\n\n<p>Finally we have a type cast because the compiler has no way of knowing that the array returned by <code>Array#newInstance()</code> is the correct type (even though we know).</p>\n\n<p>This style is a bit ugly but it can sometimes be the least bad solution to creating generic types that do need to know their component type at runtime for whatever reason (creating arrays, or creating instances of their component type, etc.).</p>\n"},{"tags":[],"owner":{"account_id":1390639,"reputation":23879,"user_id":1321564,"accept_rate":71,"display_name":"Benjamin M"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1456018136,"creation_date":1456018136,"answer_id":35531219,"question_id":529085,"body_markdown":"What about this solution?\r\n\r\n    @SafeVarargs\r\n    public static &lt;T&gt; T[] toGenericArray(T ... elems) {\r\n        return elems;\r\n    }\r\n\r\nIt works and looks too simple to be true. Is there any drawback?","title":"How to create a generic array in Java?","body":"<p>What about this solution?</p>\n\n<pre><code>@SafeVarargs\npublic static &lt;T&gt; T[] toGenericArray(T ... elems) {\n    return elems;\n}\n</code></pre>\n\n<p>It works and looks too simple to be true. Is there any drawback?</p>\n"},{"tags":[],"owner":{"account_id":1122367,"reputation":15418,"user_id":1110437,"accept_rate":71,"display_name":"developer747"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1476881853,"creation_date":1476839094,"answer_id":40120447,"question_id":529085,"body_markdown":"I found a sort of a work around to this problem. \r\n\r\nThe line below throws generic array creation error\r\n\r\n    List&lt;Person&gt;[] personLists=new ArrayList&lt;Person&gt;()[10];\r\n\r\nHowever if I encapsulate `List&lt;Person&gt;` in a separate class, it works.\r\n \r\n\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    \r\n    \r\n    public class PersonList {\r\n    \r\n        List&lt;Person&gt; people;\r\n    \r\n        public PersonList()\r\n        {\r\n            people=new ArrayList&lt;Person&gt;();\r\n        }\r\n    }\r\n\r\nYou can expose people in the class PersonList thru a getter. The line below will give you an array, that has a `List&lt;Person&gt;` in every element. In other words array of `List&lt;Person&gt;`.\r\n\r\n \r\n\r\n    PersonList[] personLists=new PersonList[10];\r\n\r\nI needed something like this in some code I was working on and this is what I did to get it to work. So far no problems.\r\n\r\n\r\n\r\n\r\n","title":"How to create a generic array in Java?","body":"<p>I found a sort of a work around to this problem. </p>\n\n<p>The line below throws generic array creation error</p>\n\n<pre><code>List&lt;Person&gt;[] personLists=new ArrayList&lt;Person&gt;()[10];\n</code></pre>\n\n<p>However if I encapsulate <code>List&lt;Person&gt;</code> in a separate class, it works.</p>\n\n<pre><code>import java.util.ArrayList;\nimport java.util.List;\n\n\npublic class PersonList {\n\n    List&lt;Person&gt; people;\n\n    public PersonList()\n    {\n        people=new ArrayList&lt;Person&gt;();\n    }\n}\n</code></pre>\n\n<p>You can expose people in the class PersonList thru a getter. The line below will give you an array, that has a <code>List&lt;Person&gt;</code> in every element. In other words array of <code>List&lt;Person&gt;</code>.</p>\n\n<pre><code>PersonList[] personLists=new PersonList[10];\n</code></pre>\n\n<p>I needed something like this in some code I was working on and this is what I did to get it to work. So far no problems.</p>\n"},{"tags":[],"owner":{"account_id":5937777,"reputation":4839,"user_id":4743275,"accept_rate":86,"display_name":"KeyC0de"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1478724208,"creation_date":1478724208,"answer_id":40515696,"question_id":529085,"body_markdown":"I have found a quick and easy way that works for me. Note that i have only used this on Java JDK 8. I don&#39;t know if it will work with previous versions.\r\n\r\nAlthough we cannot instantiate a generic array of a specific type parameter, we can pass an already created array to a generic class constructor.\r\n\r\n    class GenArray &lt;T&gt; {\r\n        private T theArray[]; // reference array\r\n        \r\n        // ...\r\n        \r\n        GenArray(T[] arr) {\r\n            theArray = arr;\r\n        }\r\n\r\n        // Do whatever with the array...\r\n    }\r\n\r\nNow in main we can create the array like so:\r\n\r\n    class GenArrayDemo {\r\n        public static void main(String[] args) {\r\n            int size = 10; // array size\r\n            // Here we can instantiate the array of the type we want, say Character (no primitive types allowed in generics)\r\n            Character[] ar = new Character[size];\r\n            \r\n            GenArray&lt;Character&gt; = new Character&lt;&gt;(ar); // create the generic Array\r\n            \r\n            // ...\r\n            \r\n        }\r\n    }\r\n\r\nFor more flexibility with your arrays you can use a linked list eg. the ArrayList and other methods found in the Java.util.ArrayList class.","title":"How to create a generic array in Java?","body":"<p>I have found a quick and easy way that works for me. Note that i have only used this on Java JDK 8. I don't know if it will work with previous versions.</p>\n\n<p>Although we cannot instantiate a generic array of a specific type parameter, we can pass an already created array to a generic class constructor.</p>\n\n<pre><code>class GenArray &lt;T&gt; {\n    private T theArray[]; // reference array\n\n    // ...\n\n    GenArray(T[] arr) {\n        theArray = arr;\n    }\n\n    // Do whatever with the array...\n}\n</code></pre>\n\n<p>Now in main we can create the array like so:</p>\n\n<pre><code>class GenArrayDemo {\n    public static void main(String[] args) {\n        int size = 10; // array size\n        // Here we can instantiate the array of the type we want, say Character (no primitive types allowed in generics)\n        Character[] ar = new Character[size];\n\n        GenArray&lt;Character&gt; = new Character&lt;&gt;(ar); // create the generic Array\n\n        // ...\n\n    }\n}\n</code></pre>\n\n<p>For more flexibility with your arrays you can use a linked list eg. the ArrayList and other methods found in the Java.util.ArrayList class.</p>\n"},{"tags":[],"owner":{"account_id":11036483,"reputation":27,"user_id":8106094,"display_name":"Crab Nebula"},"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1498679993,"creation_date":1498679993,"answer_id":44811546,"question_id":529085,"body_markdown":"I actually found a pretty unique solution to bypass the inability to initiate a generic array. What you have to do is create a class that takes in the generic variable T like so:\r\n\r\n    class GenericInvoker &lt;T&gt; {\r\n        T variable;\r\n        public GenericInvoker(T variable){\r\n            this.variable = variable;\r\n        }\r\n    }\r\n\r\nand then in your array class just have it start like so:\r\n\r\n    GenericInvoker&lt;T&gt;[] array;\r\n    public MyArray(){\r\n        array = new GenericInvoker[];\r\n    }\r\n\r\nstarting a `new Generic Invoker[]` will cause an issue with unchecked but there shouldn&#39;t actually be any issues.\r\n\r\nTo get from the array you should call the array[i].variable like so:\r\n\r\n    public T get(int index){\r\n        return array[index].variable;\r\n    }\r\n\r\nThe rest, such as resizing the array can be done with Arrays.copyOf() like so:\r\n\r\n    public void resize(int newSize){\r\n        array = Arrays.copyOf(array, newSize);\r\n    }\r\n\r\nAnd the add function can be added like so:\r\n\r\n    public boolean add(T element){\r\n        // the variable size below is equal to how many times the add function has been called \r\n        // and is used to keep track of where to put the next variable in the array\r\n        arrays[size] = new GenericInvoker(element);\r\n        size++;\r\n    }\r\n\r\n","title":"How to create a generic array in Java?","body":"<p>I actually found a pretty unique solution to bypass the inability to initiate a generic array. What you have to do is create a class that takes in the generic variable T like so:</p>\n\n<pre><code>class GenericInvoker &lt;T&gt; {\n    T variable;\n    public GenericInvoker(T variable){\n        this.variable = variable;\n    }\n}\n</code></pre>\n\n<p>and then in your array class just have it start like so:</p>\n\n<pre><code>GenericInvoker&lt;T&gt;[] array;\npublic MyArray(){\n    array = new GenericInvoker[];\n}\n</code></pre>\n\n<p>starting a <code>new Generic Invoker[]</code> will cause an issue with unchecked but there shouldn't actually be any issues.</p>\n\n<p>To get from the array you should call the array[i].variable like so:</p>\n\n<pre><code>public T get(int index){\n    return array[index].variable;\n}\n</code></pre>\n\n<p>The rest, such as resizing the array can be done with Arrays.copyOf() like so:</p>\n\n<pre><code>public void resize(int newSize){\n    array = Arrays.copyOf(array, newSize);\n}\n</code></pre>\n\n<p>And the add function can be added like so:</p>\n\n<pre><code>public boolean add(T element){\n    // the variable size below is equal to how many times the add function has been called \n    // and is used to keep track of where to put the next variable in the array\n    arrays[size] = new GenericInvoker(element);\n    size++;\n}\n</code></pre>\n"},{"tags":[],"owner":{"display_name":"user4910279"},"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1620600657,"creation_date":1499810035,"answer_id":45045080,"question_id":529085,"body_markdown":"You do not need to pass the Class argument to the constructor.\r\nTry this.\r\n\r\n    public class GenSet&lt;T&gt; {\r\n\r\n        private final T[] array;\r\n\r\n        @SafeVarargs\r\n        public GenSet(int capacity, T... dummy) {\r\n            if (dummy.length &gt; 0)\r\n                throw new IllegalArgumentException(\r\n                  &quot;Do not provide values for dummy argument.&quot;);\r\n            this.array = Arrays.copyOf(dummy, capacity);\r\n        }\r\n\r\n        @Override\r\n        public String toString() {\r\n            return &quot;GenSet of &quot; + array.getClass().getComponentType().getName()\r\n                + &quot;[&quot; + array.length + &quot;]&quot;;\r\n        }\r\n    }\r\n\r\nand\r\n\r\n    GenSet&lt;Integer&gt; intSet = new GenSet&lt;&gt;(3);\r\n    System.out.println(intSet);\r\n    System.out.println(new GenSet&lt;String&gt;(2));\r\n\r\nresult:\r\n\r\n    GenSet of java.lang.Integer[3]\r\n    GenSet of java.lang.String[2]\r\n","title":"How to create a generic array in Java?","body":"<p>You do not need to pass the Class argument to the constructor.\nTry this.</p>\n<pre><code>public class GenSet&lt;T&gt; {\n\n    private final T[] array;\n\n    @SafeVarargs\n    public GenSet(int capacity, T... dummy) {\n        if (dummy.length &gt; 0)\n            throw new IllegalArgumentException(\n              &quot;Do not provide values for dummy argument.&quot;);\n        this.array = Arrays.copyOf(dummy, capacity);\n    }\n\n    @Override\n    public String toString() {\n        return &quot;GenSet of &quot; + array.getClass().getComponentType().getName()\n            + &quot;[&quot; + array.length + &quot;]&quot;;\n    }\n}\n</code></pre>\n<p>and</p>\n<pre><code>GenSet&lt;Integer&gt; intSet = new GenSet&lt;&gt;(3);\nSystem.out.println(intSet);\nSystem.out.println(new GenSet&lt;String&gt;(2));\n</code></pre>\n<p>result:</p>\n<pre><code>GenSet of java.lang.Integer[3]\nGenSet of java.lang.String[2]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":47359,"reputation":2770,"user_id":140234,"accept_rate":40,"display_name":"Rodrigo Asensio"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1505470781,"creation_date":1505470781,"answer_id":46237256,"question_id":529085,"body_markdown":"Passing a list of values...\r\n\r\n\tpublic &lt;T&gt; T[] array(T... values) {\r\n\t\treturn values;\r\n\t}\r\n","title":"How to create a generic array in Java?","body":"<p>Passing a list of values...</p>\n\n<pre><code>public &lt;T&gt; T[] array(T... values) {\n    return values;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2381037,"reputation":1075,"user_id":2083069,"accept_rate":100,"display_name":"Irfan Ul Haq"},"down_vote_count":2,"up_vote_count":3,"is_accepted":false,"score":1,"last_activity_date":1524145559,"creation_date":1524145559,"answer_id":49922710,"question_id":529085,"body_markdown":"Generic array creation is disallowed in java but you can do it like\r\n\r\n    class Stack&lt;T&gt; {\r\n    private final T[] array;\r\n    public Stack(int capacity) {\r\n        array = (T[]) new Object[capacity];\r\n     }\r\n    }\r\n","title":"How to create a generic array in Java?","body":"<p>Generic array creation is disallowed in java but you can do it like</p>\n\n<pre><code>class Stack&lt;T&gt; {\nprivate final T[] array;\npublic Stack(int capacity) {\n    array = (T[]) new Object[capacity];\n }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1889592,"reputation":1805,"user_id":1708042,"display_name":"user1708042"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1573046612,"creation_date":1573046311,"answer_id":58731117,"question_id":529085,"body_markdown":"If you really want to wrap a generic array of fixed size you will have a method to add data to that array, hence you can initialize properly the array there doing something like this:\r\n\r\n    import java.lang.reflect.Array;\r\n\r\n    class Stack&lt;T&gt; {\r\n        private T[] array = null;\r\n        private final int capacity = 10; // fixed or pass it in the constructor\r\n        private int pos = 0;\r\n\r\n        public void push(T value) {\r\n            if (value == null)\r\n\t\t        throw new IllegalArgumentException(&quot;Stack does not accept nulls&quot;);\r\n            if (array == null)\r\n                array = (T[]) Array.newInstance(value.getClass(), capacity);\r\n\t\t    // put logic: e.g.\r\n            if(pos == capacity)\r\n                 throw new IllegalStateException(&quot;push on full stack&quot;);\r\n            array[pos++] = value;\r\n        }\r\n\r\n        public T pop() throws IllegalStateException {\r\n            if (pos == 0)\r\n                throw new IllegalStateException(&quot;pop on empty stack&quot;);\r\n            return array[--pos];\r\n        }\r\n    }\r\n\r\nin this case you use a java.lang.reflect.Array.newInstance to create the array, and it will not be an Object[], but a real T[].\r\nYou should not worry of it not being final, since it is managed inside your class.\r\nNote that you need a non null object on the push() to be able to get the type to use, so I added a check on the data you push and throw an exception there.\r\n\r\nStill this is somewhat pointless: you store data via push and it is the signature of the method that guarantees only T elements will enter. So it is more or less irrelevant that the array is Object[] or T[].\r\n\r\n","title":"How to create a generic array in Java?","body":"<p>If you really want to wrap a generic array of fixed size you will have a method to add data to that array, hence you can initialize properly the array there doing something like this:</p>\n\n<pre><code>import java.lang.reflect.Array;\n\nclass Stack&lt;T&gt; {\n    private T[] array = null;\n    private final int capacity = 10; // fixed or pass it in the constructor\n    private int pos = 0;\n\n    public void push(T value) {\n        if (value == null)\n            throw new IllegalArgumentException(\"Stack does not accept nulls\");\n        if (array == null)\n            array = (T[]) Array.newInstance(value.getClass(), capacity);\n        // put logic: e.g.\n        if(pos == capacity)\n             throw new IllegalStateException(\"push on full stack\");\n        array[pos++] = value;\n    }\n\n    public T pop() throws IllegalStateException {\n        if (pos == 0)\n            throw new IllegalStateException(\"pop on empty stack\");\n        return array[--pos];\n    }\n}\n</code></pre>\n\n<p>in this case you use a java.lang.reflect.Array.newInstance to create the array, and it will not be an Object[], but a real T[].\nYou should not worry of it not being final, since it is managed inside your class.\nNote that you need a non null object on the push() to be able to get the type to use, so I added a check on the data you push and throw an exception there.</p>\n\n<p>Still this is somewhat pointless: you store data via push and it is the signature of the method that guarantees only T elements will enter. So it is more or less irrelevant that the array is Object[] or T[].</p>\n"},{"tags":[],"owner":{"account_id":13060408,"reputation":707,"user_id":9437799,"display_name":"Sam Ginrich"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1590186175,"creation_date":1590186175,"answer_id":61964765,"question_id":529085,"body_markdown":"According to vnportnoy the syntax\r\n\r\n    GenSet&lt;Integer&gt; intSet[] = new GenSet[3];\r\n\r\ncreates an array of null references, to be filled as\r\n\r\n    for (int i = 0; i &lt; 3; i++)\r\n    {\r\n       intSet[i] = new GenSet&lt;Integer&gt;();\r\n    }\r\n\r\nwhich is type safe.","title":"How to create a generic array in Java?","body":"<p>According to vnportnoy the syntax</p>\n\n<pre><code>GenSet&lt;Integer&gt; intSet[] = new GenSet[3];\n</code></pre>\n\n<p>creates an array of null references, to be filled as</p>\n\n<pre><code>for (int i = 0; i &lt; 3; i++)\n{\n   intSet[i] = new GenSet&lt;Integer&gt;();\n}\n</code></pre>\n\n<p>which is type safe.</p>\n"},{"tags":[],"owner":{"account_id":3261346,"reputation":1761,"user_id":2746883,"accept_rate":56,"display_name":"Acuna"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1670630157,"creation_date":1670630157,"answer_id":74749313,"question_id":529085,"body_markdown":"Arrays does not supports generics (because it&#39;s another type of data), but you can use undeterminated generics while its creation if you don&#39;t need casting, btw it&#39;s better than use a reflection:\r\n\r\n    List&lt;?&gt;[] chars = new List[3];\r\n\r\nSo now we are getting the legal generics array even without `Unchecked type` warning,","title":"How to create a generic array in Java?","body":"<p>Arrays does not supports generics (because it's another type of data), but you can use undeterminated generics while its creation if you don't need casting, btw it's better than use a reflection:</p>\n<pre><code>List&lt;?&gt;[] chars = new List[3];\n</code></pre>\n<p>So now we are getting the legal generics array even without <code>Unchecked type</code> warning,</p>\n"}],"owner":{"account_id":25092,"reputation":25309,"user_id":64250,"accept_rate":76,"display_name":"tatsuhirosatou"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":992524,"favorite_count":0,"down_vote_count":2,"up_vote_count":1237,"accepted_answer_id":530289,"answer_count":32,"score":1235,"last_activity_date":1681145565,"creation_date":1234200644,"question_id":529085,"body_markdown":"Due to the implementation of Java generics, you can&#39;t have code like this: \r\n\r\n    public class GenSet&lt;E&gt; {\r\n        private E a[];\r\n\r\n        public GenSet() {\r\n            a = new E[INITIAL_ARRAY_LENGTH]; // error: generic array creation\r\n        }\r\n    }\r\n\r\nHow can I implement this while maintaining type safety?\r\n\r\nI saw a solution on the Java forums that goes like this:\r\n\r\n    import java.lang.reflect.Array;\r\n     \r\n    class Stack&lt;T&gt; {\r\n        public Stack(Class&lt;T&gt; clazz, int capacity) {\r\n            array = (T[])Array.newInstance(clazz, capacity);\r\n        }\r\n     \r\n        private final T[] array;\r\n    }\r\n\r\nBut I really don&#39;t get what&#39;s going on.","title":"How to create a generic array in Java?","body":"<p>Due to the implementation of Java generics, you can't have code like this: </p>\n\n<pre><code>public class GenSet&lt;E&gt; {\n    private E a[];\n\n    public GenSet() {\n        a = new E[INITIAL_ARRAY_LENGTH]; // error: generic array creation\n    }\n}\n</code></pre>\n\n<p>How can I implement this while maintaining type safety?</p>\n\n<p>I saw a solution on the Java forums that goes like this:</p>\n\n<pre><code>import java.lang.reflect.Array;\n\nclass Stack&lt;T&gt; {\n    public Stack(Class&lt;T&gt; clazz, int capacity) {\n        array = (T[])Array.newInstance(clazz, capacity);\n    }\n\n    private final T[] array;\n}\n</code></pre>\n\n<p>But I really don't get what's going on.</p>\n"},{"tags":["java","spring-boot","maven","intellij-idea","spring-boot-maven-plugin"],"answers":[{"tags":[],"owner":{"account_id":36734,"reputation":392117,"user_id":104891,"display_name":"CrazyCoder"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1678213180,"creation_date":1678213180,"answer_id":75665817,"question_id":75665724,"body_markdown":"Since you tagged the question with `#intellij-idea`, I&#39;m assuming you are looking for the solution that is specific to the IDE.\r\n\r\nModify Options | Program Arguments:\r\n\r\n[![Program arguments][1]][1]\r\n\r\n[![Arguments][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/MT8sK.png\r\n  [2]: https://i.stack.imgur.com/tjaWB.png\r\n\r\nIf you are looking for a Maven-specific solution, ask a question without IDE tags.","title":"How to add arguments for maven springboot:run?","body":"<p>Since you tagged the question with <code>#intellij-idea</code>, I'm assuming you are looking for the solution that is specific to the IDE.</p>\n<p>Modify Options | Program Arguments:</p>\n<p><a href=\"https://i.stack.imgur.com/MT8sK.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/MT8sK.png\" alt=\"Program arguments\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/tjaWB.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/tjaWB.png\" alt=\"Arguments\" /></a></p>\n<p>If you are looking for a Maven-specific solution, ask a question without IDE tags.</p>\n"}],"owner":{"account_id":3362300,"reputation":99,"user_id":2823842,"display_name":"SamPhoenix"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":156,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75665817,"answer_count":1,"score":1,"last_activity_date":1681145319,"creation_date":1678212630,"question_id":75665724,"body_markdown":"This is a possible duplicate to: https://stackoverflow.com/questions/42274563/how-to-add-program-arguments-for-maven-command-line-project-in-intellij\r\n\r\nWhile the answer was valid 2017, I struggle 2023.\r\n\r\nI was forced to take an App under maintenance that uses Springboot and Maven. I am not really familiar with maven so far and Springboot just stopped being magic.\r\n\r\nThe App needs an argument, but I have no idea how to set this argument in IntelliJ probably to run/debug configurations. I am talking about the argument read by \r\n\r\n    public static void main(String[] args) {\r\n        SpringApplication.run(Application.class, args);\r\n    }\r\n\r\nThanks so far","title":"How to add arguments for maven springboot:run?","body":"<p>This is a possible duplicate to: <a href=\"https://stackoverflow.com/questions/42274563/how-to-add-program-arguments-for-maven-command-line-project-in-intellij\">how to add program arguments for maven command line project in intellij?</a></p>\n<p>While the answer was valid 2017, I struggle 2023.</p>\n<p>I was forced to take an App under maintenance that uses Springboot and Maven. I am not really familiar with maven so far and Springboot just stopped being magic.</p>\n<p>The App needs an argument, but I have no idea how to set this argument in IntelliJ probably to run/debug configurations. I am talking about the argument read by</p>\n<pre><code>public static void main(String[] args) {\n    SpringApplication.run(Application.class, args);\n}\n</code></pre>\n<p>Thanks so far</p>\n"},{"tags":["java","git","egit","jgit"],"owner":{"account_id":3425729,"reputation":419,"user_id":2871531,"accept_rate":0,"display_name":"DbSchema"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":69,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1681144587,"creation_date":1680809918,"question_id":75953189,"body_markdown":"If I do pull and one of the local files are modified, I may get an exeception with status &#39;DIRTY_WORKTREE&#39;.\r\nWhich is the best approach to avoid this? What I did:\r\n\r\n```\r\nMergeResult mergeResult = git.pull().setRemote(&quot;origin&quot;).setRemoteBranchName(git.getRepository().getBranch()).call();\r\nif (mergeResult != null) {\r\n  if ( mergeResult.getConflicts() != null &amp;&amp; !mergeResult.getConflicts().isEmpty()) {\r\n  new GitConflictsDialog(FxGitDialog.this, git, new ArrayList&lt;&gt;(mergeResult.getConflicts().keySet())).showDialog();\r\n} else if (mergeResult.getMergeStatus().isSuccessful() ) {\r\n   showInformation(getDialogScene(), mergeResult.toString());\r\n} else {\r\n  final StringBuilder sb = new StringBuilder();\r\n  for ( Map.Entry&lt;String, ResolveMerger.MergeFailureReason&gt; entry : mergeResult.getFailingPaths().entrySet() ){\r\n      String reason = entry.getValue().toString();\r\n      if ( reason.contains(&quot;DIRTY_WORKTREE&quot;)){\r\n         reason = &quot;has un-commited changes. &quot; + reason;\r\n      }\r\n      sb.append( entry.getKey() ).append(&quot; &quot;).append( reason ).append( &quot;\\n\\n&quot;);\r\n   }\r\n   sb.append( mergeResult );\r\n   showError(getDialogScene(), sb.toString() );\r\n}\r\n```","title":"jGit and Dirty Worktree","body":"<p>If I do pull and one of the local files are modified, I may get an exeception with status 'DIRTY_WORKTREE'.\nWhich is the best approach to avoid this? What I did:</p>\n<pre><code>MergeResult mergeResult = git.pull().setRemote(&quot;origin&quot;).setRemoteBranchName(git.getRepository().getBranch()).call();\nif (mergeResult != null) {\n  if ( mergeResult.getConflicts() != null &amp;&amp; !mergeResult.getConflicts().isEmpty()) {\n  new GitConflictsDialog(FxGitDialog.this, git, new ArrayList&lt;&gt;(mergeResult.getConflicts().keySet())).showDialog();\n} else if (mergeResult.getMergeStatus().isSuccessful() ) {\n   showInformation(getDialogScene(), mergeResult.toString());\n} else {\n  final StringBuilder sb = new StringBuilder();\n  for ( Map.Entry&lt;String, ResolveMerger.MergeFailureReason&gt; entry : mergeResult.getFailingPaths().entrySet() ){\n      String reason = entry.getValue().toString();\n      if ( reason.contains(&quot;DIRTY_WORKTREE&quot;)){\n         reason = &quot;has un-commited changes. &quot; + reason;\n      }\n      sb.append( entry.getKey() ).append(&quot; &quot;).append( reason ).append( &quot;\\n\\n&quot;);\n   }\n   sb.append( mergeResult );\n   showError(getDialogScene(), sb.toString() );\n}\n</code></pre>\n"},{"tags":["java","layout","javafx"],"answers":[{"tags":[],"owner":{"account_id":3583958,"reputation":80987,"user_id":2991525,"display_name":"fabian"},"down_vote_count":1,"up_vote_count":3,"is_accepted":true,"score":2,"last_activity_date":1479039333,"creation_date":1479036314,"answer_id":40573260,"question_id":40572296,"body_markdown":"By default `TitledPane` has a `minWidth` based on the `text`. For it&#39;s parent to resize the node to a smaller size, you have to manually assign a value:\r\n\r\n&lt;!-- language: lang-xml --&gt;\r\n\r\n    &lt;TitledPane minWidth=&quot;0&quot; fx:id=&quot;titledPane&quot; alignment=&quot;CENTER&quot; contentDisplay=&quot;CENTER&quot; graphicTextGap=&quot;0.0&quot; text=&quot;I am The TilePane and i don&#39;t like wrapping the text!&quot; wrapText=&quot;true&quot; BorderPane.alignment=&quot;CENTER&quot;&gt;\r\n       ...\r\n    &lt;/TitledPane&gt;\r\n\r\nThis can be set in the *Layout* section of the inspector of the `TitledPane` (`Min Width`).\r\n\r\nAs for actually wrapping the text:\r\n\r\nThe title part of the `TitledPane` is simply not large enough to allow multiple lines by default. You could change this using a css style sheet:\r\n\r\n&lt;!-- language: lang-css --&gt;\r\n\r\n    #titledPane&gt;.title {\r\n        -fx-pref-height: 50; /* increase available area */\r\n        -fx-alignment: top-center;\r\n        -fx-padding: 4 4 4 30; /* increase left padding to align text */\r\n    }\r\n    \r\n    #titledPane&gt;.title&gt;.arrow-button {\r\n        -fx-translate-x: -20; /* move back arrow, which is also subject to the padding */\r\n    }","title":"JavaFX TilePane doesn&#39;t wrap the text or showing Ellipsis String","body":"<p>By default <code>TitledPane</code> has a <code>minWidth</code> based on the <code>text</code>. For it's parent to resize the node to a smaller size, you have to manually assign a value:</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;TitledPane minWidth=\"0\" fx:id=\"titledPane\" alignment=\"CENTER\" contentDisplay=\"CENTER\" graphicTextGap=\"0.0\" text=\"I am The TilePane and i don't like wrapping the text!\" wrapText=\"true\" BorderPane.alignment=\"CENTER\"&gt;\n   ...\n&lt;/TitledPane&gt;\n</code></pre>\n\n<p>This can be set in the <em>Layout</em> section of the inspector of the <code>TitledPane</code> (<code>Min Width</code>).</p>\n\n<p>As for actually wrapping the text:</p>\n\n<p>The title part of the <code>TitledPane</code> is simply not large enough to allow multiple lines by default. You could change this using a css style sheet:</p>\n\n<pre class=\"lang-css prettyprint-override\"><code>#titledPane&gt;.title {\n    -fx-pref-height: 50; /* increase available area */\n    -fx-alignment: top-center;\n    -fx-padding: 4 4 4 30; /* increase left padding to align text */\n}\n\n#titledPane&gt;.title&gt;.arrow-button {\n    -fx-translate-x: -20; /* move back arrow, which is also subject to the padding */\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14686581,"reputation":155,"user_id":10606381,"display_name":"CTO - Abid Maqbool"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1681144526,"creation_date":1681144526,"answer_id":75978891,"question_id":40572296,"body_markdown":"The `TitledPane` -&gt; `Title` *auto height with text-wrapping* can be achieved by using something like this codding:\r\n\r\n```\r\nprivate Node getView() {\r\n    StackPane root = new StackPane();\r\n\r\n    TitledPane titledPane2 = new TitledPane();\r\n    titledPane2.setMinWidth(Region.USE_PREF_SIZE);\r\n    titledPane2.setPrefWidth(400);\r\n    titledPane2.setMaxWidth(Region.USE_PREF_SIZE);\r\n    titledPane2.setAlignment(Pos.TOP_LEFT);\r\n\r\n    Label lbl1 = new Label(\r\n            &quot;5 sample paragraphs for reading test on 1. Traveling in a D. T. C. Bus  2. Look Before You Leap 3. Rising Prices 4. ‘Simple Living, High Thinking’ 5. A Football Match&quot;);\r\n    lbl1.setWrapText(true);\r\n    lbl1.setMinHeight(Region.USE_PREF_SIZE);\r\n    lbl1.setPadding(new Insets(0, 4.3, 0, 0));\r\n\r\n    titledPane2.setGraphic(lbl1);\r\n\r\n    Label lbl12 = new Label(\r\n            &quot;Delhi is a crowded city. There are very few rich people who travel by their own vehicles. The majority of the people cannot afford to hire a taxi or a three-wheeler. They have to depend on D.T.C. buses, which are the cheapest mode of conveyance.&quot;);\r\n    lbl12.setWrapText(true);\r\n    lbl12.setPadding(new Insets(4.3));\r\n\r\n    titledPane2.setContent(lbl12);\r\n\r\n    root.getChildren().addAll(titledPane2);\r\n\r\n    Platform.runLater(() -&gt; {\r\n        Pane title = (Pane) titledPane2.lookup(&quot;.title&quot;);\r\n\r\n        title.prefHeightProperty().bind(lbl1.heightProperty()\r\n                .add(title.getInsets().getTop() + title.getInsets().getBottom()));\r\n    });\r\n\r\n    return root;\r\n}\r\n```\r\n\r\nOutput:\r\n\r\n[![image][1]][1]\r\n\r\nBut it will be more better if it&#39;s fixed in official javafx repository.\r\n\r\n  [1]: https://i.stack.imgur.com/R1fR3.png","title":"JavaFX TilePane doesn&#39;t wrap the text or showing Ellipsis String","body":"<p>The <code>TitledPane</code> -&gt; <code>Title</code> <em>auto height with text-wrapping</em> can be achieved by using something like this codding:</p>\n<pre><code>private Node getView() {\n    StackPane root = new StackPane();\n\n    TitledPane titledPane2 = new TitledPane();\n    titledPane2.setMinWidth(Region.USE_PREF_SIZE);\n    titledPane2.setPrefWidth(400);\n    titledPane2.setMaxWidth(Region.USE_PREF_SIZE);\n    titledPane2.setAlignment(Pos.TOP_LEFT);\n\n    Label lbl1 = new Label(\n            &quot;5 sample paragraphs for reading test on 1. Traveling in a D. T. C. Bus  2. Look Before You Leap 3. Rising Prices 4. ‘Simple Living, High Thinking’ 5. A Football Match&quot;);\n    lbl1.setWrapText(true);\n    lbl1.setMinHeight(Region.USE_PREF_SIZE);\n    lbl1.setPadding(new Insets(0, 4.3, 0, 0));\n\n    titledPane2.setGraphic(lbl1);\n\n    Label lbl12 = new Label(\n            &quot;Delhi is a crowded city. There are very few rich people who travel by their own vehicles. The majority of the people cannot afford to hire a taxi or a three-wheeler. They have to depend on D.T.C. buses, which are the cheapest mode of conveyance.&quot;);\n    lbl12.setWrapText(true);\n    lbl12.setPadding(new Insets(4.3));\n\n    titledPane2.setContent(lbl12);\n\n    root.getChildren().addAll(titledPane2);\n\n    Platform.runLater(() -&gt; {\n        Pane title = (Pane) titledPane2.lookup(&quot;.title&quot;);\n\n        title.prefHeightProperty().bind(lbl1.heightProperty()\n                .add(title.getInsets().getTop() + title.getInsets().getBottom()));\n    });\n\n    return root;\n}\n</code></pre>\n<p>Output:</p>\n<p><a href=\"https://i.stack.imgur.com/R1fR3.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/R1fR3.png\" alt=\"image\" /></a></p>\n<p>But it will be more better if it's fixed in official javafx repository.</p>\n"}],"owner":{"account_id":6410016,"reputation":7025,"user_id":4970079,"accept_rate":76,"display_name":"GOXR3PLUS"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":977,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":40573260,"answer_count":2,"score":1,"last_activity_date":1681144526,"creation_date":1479028706,"question_id":40572296,"body_markdown":"I am using a `TilePane` which contains a `GridPane` inside it and i have created it using `SceneBuilder` and `FXML`.The problem is that `TilePane` works very strange as the title is saying:\r\n\r\nWhen the text is too big i have serious problems with the layouts cause the `TilePane` **isn&#39;t wrapping the text or showing Ellipsis String so when i resize the window all the layouts are failing into the app**.\r\n\r\nWhy this is happening with `TilePane` and is not working as expected inside a `BorderPane`?\r\n\r\n\r\n----------\r\n\r\n\r\n**ScreenShot:**\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n----------\r\n\r\n\r\nHere is the fxml code:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    \r\n    &lt;?import javafx.scene.control.ContextMenu?&gt;\r\n    &lt;?import javafx.scene.control.TextField?&gt;\r\n    &lt;?import javafx.scene.control.TitledPane?&gt;\r\n    &lt;?import javafx.scene.control.Tooltip?&gt;\r\n    &lt;?import javafx.scene.layout.BorderPane?&gt;\r\n    &lt;?import javafx.scene.layout.ColumnConstraints?&gt;\r\n    &lt;?import javafx.scene.layout.GridPane?&gt;\r\n    &lt;?import javafx.scene.layout.RowConstraints?&gt;\r\n    &lt;?import javafx.scene.layout.StackPane?&gt;\r\n    \r\n    &lt;fx:root styleClass=&quot;smartController&quot; type=&quot;StackPane&quot; xmlns=&quot;http://javafx.com/javafx/8.0.60&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot;&gt;\r\n       &lt;children&gt;\r\n          &lt;BorderPane fx:id=&quot;mainBorder&quot; style=&quot;-fx-background-color: transparent; -fx-border-color: red;&quot;&gt;\r\n             &lt;top&gt;\r\n                &lt;TitledPane fx:id=&quot;titledPane&quot; alignment=&quot;CENTER&quot; contentDisplay=&quot;CENTER&quot; graphicTextGap=&quot;0.0&quot; text=&quot;I am The TilePane and i don&#39;t like wrapping the text!&quot; wrapText=&quot;true&quot; BorderPane.alignment=&quot;CENTER&quot;&gt;\r\n                   &lt;content&gt;\r\n                      &lt;GridPane fx:id=&quot;topGrid&quot; gridLinesVisible=&quot;true&quot; hgap=&quot;5.0&quot; style=&quot;-fx-background-color: rgb(0,0,0,0.85);;&quot;&gt;\r\n                        &lt;columnConstraints&gt;\r\n                          &lt;ColumnConstraints hgrow=&quot;SOMETIMES&quot; percentWidth=&quot;70.0&quot; /&gt;\r\n                          &lt;ColumnConstraints hgrow=&quot;SOMETIMES&quot; minWidth=&quot;40.0&quot; percentWidth=&quot;15.0&quot; /&gt;\r\n                            &lt;ColumnConstraints hgrow=&quot;SOMETIMES&quot; percentWidth=&quot;15.0&quot; /&gt;\r\n                        &lt;/columnConstraints&gt;\r\n                        &lt;rowConstraints&gt;\r\n                          &lt;RowConstraints minHeight=&quot;10.0&quot; prefHeight=&quot;30.0&quot; vgrow=&quot;SOMETIMES&quot; /&gt;\r\n                        &lt;/rowConstraints&gt;\r\n                         &lt;children&gt;\r\n                            &lt;TextField fx:id=&quot;pageField&quot; alignment=&quot;CENTER&quot; maxHeight=&quot;-Infinity&quot; maxWidth=&quot;65.0&quot; minHeight=&quot;-Infinity&quot; minWidth=&quot;-Infinity&quot; prefHeight=&quot;25.0&quot; prefWidth=&quot;50.0&quot; GridPane.columnIndex=&quot;1&quot; GridPane.halignment=&quot;CENTER&quot; GridPane.valignment=&quot;CENTER&quot;&gt;\r\n                               &lt;tooltip&gt;\r\n                                  &lt;Tooltip text=&quot;current page&quot; /&gt;\r\n                               &lt;/tooltip&gt;\r\n                               &lt;contextMenu&gt;\r\n                                  &lt;ContextMenu /&gt;\r\n                               &lt;/contextMenu&gt;\r\n                            &lt;/TextField&gt;\r\n                         &lt;/children&gt;\r\n                      &lt;/GridPane&gt;\r\n                   &lt;/content&gt;\r\n                &lt;/TitledPane&gt;\r\n             &lt;/top&gt;\r\n          &lt;/BorderPane&gt;\r\n       &lt;/children&gt;\r\n    &lt;/fx:root&gt;\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/WtkB7.png","title":"JavaFX TilePane doesn&#39;t wrap the text or showing Ellipsis String","body":"<p>I am using a <code>TilePane</code> which contains a <code>GridPane</code> inside it and i have created it using <code>SceneBuilder</code> and <code>FXML</code>.The problem is that <code>TilePane</code> works very strange as the title is saying:</p>\n\n<p>When the text is too big i have serious problems with the layouts cause the <code>TilePane</code> <strong>isn't wrapping the text or showing Ellipsis String so when i resize the window all the layouts are failing into the app</strong>.</p>\n\n<p>Why this is happening with <code>TilePane</code> and is not working as expected inside a <code>BorderPane</code>?</p>\n\n<hr>\n\n<p><strong>ScreenShot:</strong></p>\n\n<p><a href=\"https://i.stack.imgur.com/WtkB7.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/WtkB7.png\" alt=\"enter image description here\"></a></p>\n\n<hr>\n\n<p>Here is the fxml code:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n\n&lt;?import javafx.scene.control.ContextMenu?&gt;\n&lt;?import javafx.scene.control.TextField?&gt;\n&lt;?import javafx.scene.control.TitledPane?&gt;\n&lt;?import javafx.scene.control.Tooltip?&gt;\n&lt;?import javafx.scene.layout.BorderPane?&gt;\n&lt;?import javafx.scene.layout.ColumnConstraints?&gt;\n&lt;?import javafx.scene.layout.GridPane?&gt;\n&lt;?import javafx.scene.layout.RowConstraints?&gt;\n&lt;?import javafx.scene.layout.StackPane?&gt;\n\n&lt;fx:root styleClass=\"smartController\" type=\"StackPane\" xmlns=\"http://javafx.com/javafx/8.0.60\" xmlns:fx=\"http://javafx.com/fxml/1\"&gt;\n   &lt;children&gt;\n      &lt;BorderPane fx:id=\"mainBorder\" style=\"-fx-background-color: transparent; -fx-border-color: red;\"&gt;\n         &lt;top&gt;\n            &lt;TitledPane fx:id=\"titledPane\" alignment=\"CENTER\" contentDisplay=\"CENTER\" graphicTextGap=\"0.0\" text=\"I am The TilePane and i don't like wrapping the text!\" wrapText=\"true\" BorderPane.alignment=\"CENTER\"&gt;\n               &lt;content&gt;\n                  &lt;GridPane fx:id=\"topGrid\" gridLinesVisible=\"true\" hgap=\"5.0\" style=\"-fx-background-color: rgb(0,0,0,0.85);;\"&gt;\n                    &lt;columnConstraints&gt;\n                      &lt;ColumnConstraints hgrow=\"SOMETIMES\" percentWidth=\"70.0\" /&gt;\n                      &lt;ColumnConstraints hgrow=\"SOMETIMES\" minWidth=\"40.0\" percentWidth=\"15.0\" /&gt;\n                        &lt;ColumnConstraints hgrow=\"SOMETIMES\" percentWidth=\"15.0\" /&gt;\n                    &lt;/columnConstraints&gt;\n                    &lt;rowConstraints&gt;\n                      &lt;RowConstraints minHeight=\"10.0\" prefHeight=\"30.0\" vgrow=\"SOMETIMES\" /&gt;\n                    &lt;/rowConstraints&gt;\n                     &lt;children&gt;\n                        &lt;TextField fx:id=\"pageField\" alignment=\"CENTER\" maxHeight=\"-Infinity\" maxWidth=\"65.0\" minHeight=\"-Infinity\" minWidth=\"-Infinity\" prefHeight=\"25.0\" prefWidth=\"50.0\" GridPane.columnIndex=\"1\" GridPane.halignment=\"CENTER\" GridPane.valignment=\"CENTER\"&gt;\n                           &lt;tooltip&gt;\n                              &lt;Tooltip text=\"current page\" /&gt;\n                           &lt;/tooltip&gt;\n                           &lt;contextMenu&gt;\n                              &lt;ContextMenu /&gt;\n                           &lt;/contextMenu&gt;\n                        &lt;/TextField&gt;\n                     &lt;/children&gt;\n                  &lt;/GridPane&gt;\n               &lt;/content&gt;\n            &lt;/TitledPane&gt;\n         &lt;/top&gt;\n      &lt;/BorderPane&gt;\n   &lt;/children&gt;\n&lt;/fx:root&gt;\n</code></pre>\n"},{"tags":["java","json","jsonschema","json-schema-validator","light-4j"],"owner":{"account_id":14768363,"reputation":21,"user_id":10665666,"display_name":"daelynj"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2571,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1681143996,"creation_date":1641500039,"question_id":70613113,"body_markdown":"One caveat here is that the OpenAPI Schema is not being used for the purposes of validating requests and responses. The OpenAPI schema can&#39;t be changed to a regular JSON Schema.\r\n\r\nSay we have an OpenAPI schema in the form\r\n\r\nTestSchema.json\r\n```json\r\n{\r\n  &quot;components&quot;: {\r\n    &quot;schemas&quot;: {\r\n      &quot;book&quot;: {\r\n        &quot;type&quot;: &quot;object&quot;,\r\n        &quot;properties&quot;: {\r\n          &quot;title&quot;: {\r\n            &quot;type&quot;: &quot;string&quot;\r\n          },\r\n          &quot;author&quot;: {\r\n            &quot;$ref&quot;: &quot;#/components/schemas/author&quot;\r\n          }\r\n        }\r\n      },\r\n      &quot;author&quot;: {\r\n        &quot;type&quot;: &quot;object&quot;,\r\n        &quot;properties&quot;: {\r\n          &quot;name&quot;: {\r\n            &quot;type&quot;: &quot;string&quot;\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n```\r\nNow imagine we have some JSON taking the form of a &quot;book&quot; as defined in the above schema\r\n```json\r\n{\r\n  &quot;title&quot;: &quot;LOTR&quot;,\r\n  &quot;author&quot;: {\r\n    &quot;name&quot;: &quot;Tolkien&quot;\r\n  }\r\n}\r\n```\r\nUsing the [json-schema-validator](https://github.com/networknt/json-schema-validator) library we&#39;ve written code to perform this validation as follows\r\n```java\r\npublic class SchemaValidator {\r\n    private final ObjectMapper mapper = new ObjectMapper();\r\n    private final JsonSchema schema;\r\n\r\n    public SchemaValidator(FileReader schemaFile) throws IOException {\r\n        schema = getJsonSchemaFromJsonNode(mapper.readTree(schemaFile));\r\n    }\r\n\r\n    public Set&lt;ValidationMessage&gt; validate(String json) throws IOException {\r\n        return schema.validate(mapper.readTree(json));\r\n    }\r\n\r\n    private JsonSchema getJsonSchemaFromJsonNode(JsonNode node) {\r\n        return JsonSchemaFactory.getInstance(VersionFlag.V6).getSchema(node);\r\n    }\r\n}\r\n```\r\n\r\nUsage:\r\n```java\r\n@Test\r\nvoid validate_invalidTitle() throws IOException {\r\n    var schemaValidator = new SchemaValidator(\r\n        new FileReader(&quot;src/test/resources/TestSchema.json&quot;)\r\n    );\r\n    var json = &quot;{\\&quot;title\\&quot;:5,\\&quot;author\\&quot;:{\\&quot;name\\&quot;:\\&quot;Tolkien\\&quot;}}&quot;;\r\n\r\n    assertEquals(\r\n        &quot;$.title: integer found, string expected&quot;,\r\n        schemaValidator.validate(json).stream().findAny().orElseThrow().getMessage()\r\n    );\r\n}\r\n```\r\n\r\nSince the OpenAPI schema has two extra nodes, `&quot;components&quot;` and `&quot;schemas&quot;` this code doesn&#39;t perform validation because we can&#39;t do a 1-1 validation between our &quot;book&quot; json and the schema.\r\n\r\nA way around this is to re-write the constructor with a `.findValue(&quot;book&quot;)`\r\n```java\r\npublic SchemaValidator(FileReader schemaFile) throws IOException {\r\n    schema = getJsonSchemaFromJsonNode(mapper.readTree(schemaFile).findValue(&quot;book&quot;));\r\n}\r\n```\r\nBut this results in an error of\r\n\r\n`#/properties/author/$ref: Reference #/components/schemas/author cannot be resolved`\r\n\r\nAs we have now broken the reference path.\r\n\r\nOne way around this to get the test to pass is to adjust the `$ref` in the schema to `#/author` but the schema itself is then invalid.\r\n\r\nAm I missing a tool in this library or building the objects incorrectly? What needs to be done to make this validation work?\r\n\r\nI dug around in the [open-api-validator](https://github.com/networknt/light-rest-4j/tree/master/openapi-validator) which ends up using the `json-schema-validator` library to perform validation but the request/response validation is not a step I need.","title":"How to validate against an OpenAPI schema with $refs using json-schema-validator","body":"<p>One caveat here is that the OpenAPI Schema is not being used for the purposes of validating requests and responses. The OpenAPI schema can't be changed to a regular JSON Schema.</p>\n<p>Say we have an OpenAPI schema in the form</p>\n<p>TestSchema.json</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;components&quot;: {\n    &quot;schemas&quot;: {\n      &quot;book&quot;: {\n        &quot;type&quot;: &quot;object&quot;,\n        &quot;properties&quot;: {\n          &quot;title&quot;: {\n            &quot;type&quot;: &quot;string&quot;\n          },\n          &quot;author&quot;: {\n            &quot;$ref&quot;: &quot;#/components/schemas/author&quot;\n          }\n        }\n      },\n      &quot;author&quot;: {\n        &quot;type&quot;: &quot;object&quot;,\n        &quot;properties&quot;: {\n          &quot;name&quot;: {\n            &quot;type&quot;: &quot;string&quot;\n          }\n        }\n      }\n    }\n  }\n}\n</code></pre>\n<p>Now imagine we have some JSON taking the form of a &quot;book&quot; as defined in the above schema</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;title&quot;: &quot;LOTR&quot;,\n  &quot;author&quot;: {\n    &quot;name&quot;: &quot;Tolkien&quot;\n  }\n}\n</code></pre>\n<p>Using the <a href=\"https://github.com/networknt/json-schema-validator\" rel=\"nofollow noreferrer\">json-schema-validator</a> library we've written code to perform this validation as follows</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class SchemaValidator {\n    private final ObjectMapper mapper = new ObjectMapper();\n    private final JsonSchema schema;\n\n    public SchemaValidator(FileReader schemaFile) throws IOException {\n        schema = getJsonSchemaFromJsonNode(mapper.readTree(schemaFile));\n    }\n\n    public Set&lt;ValidationMessage&gt; validate(String json) throws IOException {\n        return schema.validate(mapper.readTree(json));\n    }\n\n    private JsonSchema getJsonSchemaFromJsonNode(JsonNode node) {\n        return JsonSchemaFactory.getInstance(VersionFlag.V6).getSchema(node);\n    }\n}\n</code></pre>\n<p>Usage:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Test\nvoid validate_invalidTitle() throws IOException {\n    var schemaValidator = new SchemaValidator(\n        new FileReader(&quot;src/test/resources/TestSchema.json&quot;)\n    );\n    var json = &quot;{\\&quot;title\\&quot;:5,\\&quot;author\\&quot;:{\\&quot;name\\&quot;:\\&quot;Tolkien\\&quot;}}&quot;;\n\n    assertEquals(\n        &quot;$.title: integer found, string expected&quot;,\n        schemaValidator.validate(json).stream().findAny().orElseThrow().getMessage()\n    );\n}\n</code></pre>\n<p>Since the OpenAPI schema has two extra nodes, <code>&quot;components&quot;</code> and <code>&quot;schemas&quot;</code> this code doesn't perform validation because we can't do a 1-1 validation between our &quot;book&quot; json and the schema.</p>\n<p>A way around this is to re-write the constructor with a <code>.findValue(&quot;book&quot;)</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>public SchemaValidator(FileReader schemaFile) throws IOException {\n    schema = getJsonSchemaFromJsonNode(mapper.readTree(schemaFile).findValue(&quot;book&quot;));\n}\n</code></pre>\n<p>But this results in an error of</p>\n<p><code>#/properties/author/$ref: Reference #/components/schemas/author cannot be resolved</code></p>\n<p>As we have now broken the reference path.</p>\n<p>One way around this to get the test to pass is to adjust the <code>$ref</code> in the schema to <code>#/author</code> but the schema itself is then invalid.</p>\n<p>Am I missing a tool in this library or building the objects incorrectly? What needs to be done to make this validation work?</p>\n<p>I dug around in the <a href=\"https://github.com/networknt/light-rest-4j/tree/master/openapi-validator\" rel=\"nofollow noreferrer\">open-api-validator</a> which ends up using the <code>json-schema-validator</code> library to perform validation but the request/response validation is not a step I need.</p>\n"},{"tags":["java","enums"],"comments":[{"owner":{"account_id":3883582,"reputation":32684,"user_id":3215527,"accept_rate":40,"display_name":"wero"},"score":2,"creation_date":1454361890,"post_id":35140408,"comment_id":58001586,"body_markdown":"why do you expect that `toString()` returns the value?","body":"why do you expect that <code>toString()</code> returns the value?"}],"answers":[{"tags":[],"owner":{"account_id":3674405,"reputation":3558,"user_id":3060803,"accept_rate":96,"display_name":"m.aibin"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1454361094,"creation_date":1454361094,"answer_id":35140415,"question_id":35140408,"body_markdown":"Write Getter and Setter for `value` and use:\r\n\r\n    System.out.println(Constants.YES.getValue());\r\n    System.out.println(Constants.NO.getValue());","title":"How to get value from a Java enum","body":"<p>Write Getter and Setter for <code>value</code> and use:</p>\n\n<pre><code>System.out.println(Constants.YES.getValue());\nSystem.out.println(Constants.NO.getValue());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5185952,"reputation":17062,"user_id":4150352,"accept_rate":75,"display_name":"Mohammed Aouf Zouag"},"down_vote_count":3,"up_vote_count":38,"is_accepted":true,"score":35,"last_activity_date":1454361116,"creation_date":1454361116,"answer_id":35140425,"question_id":35140408,"body_markdown":"You need to **override** the `toString` method of your enum:\r\n\r\n    public enum Constants{\r\n        YES(&quot;y&quot;), NO(&quot;N&quot;)\r\n        \r\n        // No changes\r\n    \r\n        @Override\r\n        public String toString() {\r\n            return value;\r\n        }\r\n    }","title":"How to get value from a Java enum","body":"<p>You need to <strong>override</strong> the <code>toString</code> method of your enum:</p>\n\n<pre><code>public enum Constants{\n    YES(\"y\"), NO(\"N\")\n\n    // No changes\n\n    @Override\n    public String toString() {\n        return value;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3015171,"reputation":3578,"user_id":2557554,"accept_rate":71,"display_name":"David Yee"},"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1454361328,"creation_date":1454361328,"answer_id":35140480,"question_id":35140408,"body_markdown":"You can also add a getter to the enumeration and simply call on it to access the instance variable:\r\n\r\n    public enum Constants{\r\n        YES(&quot;Y&quot;), NO(&quot;N&quot;);\r\n        private String value;\r\n        \r\n        public String getResponse() {\r\n            return value;\r\n        }\r\n        \r\n        Constants(String value){\r\n            this.value = value;\r\n        }\r\n    }\r\n\r\n    public class TestConstants{\r\n        public static void main(String[] args){\r\n            System.out.println(Constants.YES.getResponse());\r\n            System.out.println(Constants.NO.getResponse());\r\n        }\r\n    }","title":"How to get value from a Java enum","body":"<p>You can also add a getter to the enumeration and simply call on it to access the instance variable:</p>\n\n<pre><code>public enum Constants{\n    YES(\"Y\"), NO(\"N\");\n    private String value;\n\n    public String getResponse() {\n        return value;\n    }\n\n    Constants(String value){\n        this.value = value;\n    }\n}\n\npublic class TestConstants{\n    public static void main(String[] args){\n        System.out.println(Constants.YES.getResponse());\n        System.out.println(Constants.NO.getResponse());\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7602241,"reputation":133,"user_id":5804887,"display_name":"Just a Logic Gate"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1454363376,"creation_date":1454363376,"answer_id":35141026,"question_id":35140408,"body_markdown":"Create a getValue() method in your enum, and use this instead of toString().\r\n\r\n    public enum Constants{\r\n     YES(&quot;y&quot;), NO(&quot;N&quot;)\r\n     private String value;\r\n\r\n     Constants(String value){\r\n      this.value = value;\r\n     }\r\n    }\r\n\r\n     public String getValue(){\r\n      return value;\r\n     }\r\n\r\nAnd instead of:\r\n\r\n    System.out.println(Constants.YES.toString())\r\n    System.out.println(Constants.NO.toString())\r\n\r\n(Which are also missing a semi-colon), use\r\n\r\n    System.out.println(Constants.YES.getValue());\r\n    System.out.println(Constants.NO.getValue());\r\n\r\nHope this solved your problem. If you do not want to create a method in your enum, you can make your value field public, but this would break encapsulation.\r\n    ","title":"How to get value from a Java enum","body":"<p>Create a getValue() method in your enum, and use this instead of toString().</p>\n\n<pre><code>public enum Constants{\n YES(\"y\"), NO(\"N\")\n private String value;\n\n Constants(String value){\n  this.value = value;\n }\n}\n\n public String getValue(){\n  return value;\n }\n</code></pre>\n\n<p>And instead of:</p>\n\n<pre><code>System.out.println(Constants.YES.toString())\nSystem.out.println(Constants.NO.toString())\n</code></pre>\n\n<p>(Which are also missing a semi-colon), use</p>\n\n<pre><code>System.out.println(Constants.YES.getValue());\nSystem.out.println(Constants.NO.getValue());\n</code></pre>\n\n<p>Hope this solved your problem. If you do not want to create a method in your enum, you can make your value field public, but this would break encapsulation.</p>\n"},{"tags":[],"owner":{"account_id":484819,"reputation":5634,"user_id":900743,"accept_rate":64,"display_name":"Peter"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1528455382,"creation_date":1528455382,"answer_id":50759114,"question_id":35140408,"body_markdown":"    String enumValue = Constants.valueOf(&quot;YES&quot;)\r\n\r\nJava doc ref: https://docs.oracle.com/javase/7/docs/api/java/lang/Enum.html#valueOf(java.lang.Class,%20java.lang.String)","title":"How to get value from a Java enum","body":"<pre><code>String enumValue = Constants.valueOf(\"YES\")\n</code></pre>\n\n<p>Java doc ref: <a href=\"https://docs.oracle.com/javase/7/docs/api/java/lang/Enum.html#valueOf(java.lang.Class,%20java.lang.String)\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/7/docs/api/java/lang/Enum.html#valueOf(java.lang.Class,%20java.lang.String)</a></p>\n"},{"tags":[],"owner":{"account_id":2464379,"reputation":4305,"user_id":2147814,"accept_rate":62,"display_name":"anand krish"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681143880,"creation_date":1681143880,"answer_id":75978823,"question_id":35140408,"body_markdown":"The elegant way to get value of an Enum is by using **ordinal** method.\r\n\r\n    public enum Constants\r\n    {\r\n      YES(&quot;Y&quot;), NO(&quot;N&quot;);\r\n      private String value;\r\n\r\n    public String getResponse() {\r\n        return value;\r\n    }\r\n\r\n    Constants(String value){\r\n        this.value = value;\r\n    }\r\n    public static Constants getConstants(int value){\r\n        for(Constants e : Constants.values()){\r\n            if(value == e.getResponse()) return e;\r\n        }\r\n        return null;\r\n      }\r\n    }\r\n\r\n    public class TestConstants{\r\n    public static void main(String[] args)\r\n      {\r\n        System.out.println(Constants.YES.ordinal());\r\n        System.out.println(Constants.NO.ordinal());\r\n      }\r\n    }","title":"How to get value from a Java enum","body":"<p>The elegant way to get value of an Enum is by using <strong>ordinal</strong> method.</p>\n<pre><code>public enum Constants\n{\n  YES(&quot;Y&quot;), NO(&quot;N&quot;);\n  private String value;\n\npublic String getResponse() {\n    return value;\n}\n\nConstants(String value){\n    this.value = value;\n}\npublic static Constants getConstants(int value){\n    for(Constants e : Constants.values()){\n        if(value == e.getResponse()) return e;\n    }\n    return null;\n  }\n}\n\npublic class TestConstants{\npublic static void main(String[] args)\n  {\n    System.out.println(Constants.YES.ordinal());\n    System.out.println(Constants.NO.ordinal());\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":7485974,"reputation":297,"user_id":5689162,"accept_rate":67,"display_name":"Mandar"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":153709,"favorite_count":0,"down_vote_count":1,"up_vote_count":28,"accepted_answer_id":35140425,"answer_count":6,"score":27,"last_activity_date":1681143880,"creation_date":1454361056,"question_id":35140408,"body_markdown":"I have a enum which looks like:\r\n\r\n\r\n\r\n    public enum Constants{\r\n      YES(&quot;y&quot;), NO(&quot;N&quot;)\r\n      private String value;\r\n\r\n      Constants(String value){\r\n        this.value = value;\r\n      }\r\n    }\r\n\r\n  I have a test class which looks like\r\n\r\n\r\n\r\n    public class TestConstants{\r\n     public static void main(String[] args){\r\n       System.out.println(Constants.YES.toString())\r\n       System.out.println(Constants.NO.toString())\r\n     }\r\n    }\r\n\r\nThe output is:\r\n\r\n\r\n\r\n\r\n    YES\r\n    NO\r\n\r\ninstead of \r\n\r\n\r\n\r\n    Y\r\n    N\r\n\r\nI am not sure what is wrong here ??","title":"How to get value from a Java enum","body":"<p>I have a enum which looks like:</p>\n\n<pre><code>public enum Constants{\n  YES(\"y\"), NO(\"N\")\n  private String value;\n\n  Constants(String value){\n    this.value = value;\n  }\n}\n</code></pre>\n\n<p>I have a test class which looks like</p>\n\n<pre><code>public class TestConstants{\n public static void main(String[] args){\n   System.out.println(Constants.YES.toString())\n   System.out.println(Constants.NO.toString())\n }\n}\n</code></pre>\n\n<p>The output is:</p>\n\n<pre><code>YES\nNO\n</code></pre>\n\n<p>instead of </p>\n\n<pre><code>Y\nN\n</code></pre>\n\n<p>I am not sure what is wrong here ??</p>\n"},{"tags":["java","arrays","multidimensional-array"],"comments":[{"owner":{"account_id":7055267,"reputation":3170,"user_id":5402881,"display_name":"yacc"},"score":0,"creation_date":1681076772,"post_id":75972971,"comment_id":133996649,"body_markdown":"try `array [i][j] = (last-i == j ? &#39;*&#39; : &#39; &#39;);` instead of the If statement","body":"try <code>array [i][j] = (last-i == j ? &#39;*&#39; : &#39; &#39;);</code> instead of the If statement"},{"owner":{"account_id":28116113,"reputation":33,"user_id":21483200,"display_name":"GrasshopperAtBest"},"score":0,"creation_date":1681077308,"post_id":75972971,"comment_id":133996717,"body_markdown":"I tried the method you previously posted and that worked. I also tried what you posed there and it also worked. I&#39;m not super sound on the &#39;?&#39; principle and its uses. Seems like a lot of people use it so I&#39;m start looking through more info on it.","body":"I tried the method you previously posted and that worked. I also tried what you posed there and it also worked. I&#39;m not super sound on the &#39;?&#39; principle and its uses. Seems like a lot of people use it so I&#39;m start looking through more info on it."},{"owner":{"account_id":7055267,"reputation":3170,"user_id":5402881,"display_name":"yacc"},"score":0,"creation_date":1681077813,"post_id":75972971,"comment_id":133996770,"body_markdown":"You&#39;ll get used to it. It&#39;s like a mini IF..ELSE.","body":"You&#39;ll get used to it. It&#39;s like a mini IF..ELSE."},{"owner":{"account_id":288696,"reputation":91230,"user_id":589259,"accept_rate":82,"display_name":"Maarten Bodewes"},"score":1,"creation_date":1681084529,"post_id":75972971,"comment_id":133997511,"body_markdown":"Funny enough, the `if` is an expression in Kotlin. It does the same thing as `expression ? expression : expression` but it is more readable. This is one of the few instances where Java is possibly *too* concise (and, of course, the construct has been taken from C, which is where most of the Java syntax originated).","body":"Funny enough, the <code>if</code> is an expression in Kotlin. It does the same thing as <code>expression ? expression : expression</code> but it is more readable. This is one of the few instances where Java is possibly <i>too</i> concise (and, of course, the construct has been taken from C, which is where most of the Java syntax originated)."}],"answers":[{"tags":[],"owner":{"account_id":19905548,"reputation":189,"user_id":14584675,"display_name":"Trics"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681076665,"creation_date":1681076665,"answer_id":75973030,"question_id":75972971,"body_markdown":"You easily loop trought:\r\n\r\nfor (int i = dimensions-1; i &gt;= 0 ; i--)\r\n              array [i][i] = star;\r\n\r\n","title":"How to fill a 2D array from bottom left to top right in java?","body":"<p>You easily loop trought:</p>\n<p>for (int i = dimensions-1; i &gt;= 0 ; i--)\narray [i][i] = star;</p>\n"},{"tags":[],"owner":{"account_id":7055267,"reputation":3170,"user_id":5402881,"display_name":"yacc"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1681078230,"creation_date":1681078230,"answer_id":75973135,"question_id":75972971,"body_markdown":"Assuming you want an array with stars from bottom-left to top-right, try this loop. It uses the ternary operator but you could stick to your IF if you want.\r\n\r\n    for (int i = 0; i &lt; dimensions; i++) {\r\n        for (int j = 0; j &lt; dimensions; j++)\r\n            array[i][j] = (last-i == j ? &#39;*&#39; : &#39; &#39;);\r\n    }","title":"How to fill a 2D array from bottom left to top right in java?","body":"<p>Assuming you want an array with stars from bottom-left to top-right, try this loop. It uses the ternary operator but you could stick to your IF if you want.</p>\n<pre><code>for (int i = 0; i &lt; dimensions; i++) {\n    for (int j = 0; j &lt; dimensions; j++)\n        array[i][j] = (last-i == j ? '*' : ' ');\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19905548,"reputation":189,"user_id":14584675,"display_name":"Trics"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681143526,"creation_date":1681143526,"answer_id":75978782,"question_id":75972971,"body_markdown":"    diagonal=dimension-1\r\n    for (int i=0; i&lt;dimension; i++){\r\n        for (int j=0; j&lt;dimension;j++) {\r\n             if (j==diagonal) {\r\n                array [i][j] = star;\r\n                diagonal --;\r\n             else array [i][j] = &quot;_PUT HERE WATH YOU WANT OR LEAVE IT BLANK_&quot;\r\n        }\r\n     }\r\n        ","title":"How to fill a 2D array from bottom left to top right in java?","body":"<pre><code>diagonal=dimension-1\nfor (int i=0; i&lt;dimension; i++){\n    for (int j=0; j&lt;dimension;j++) {\n         if (j==diagonal) {\n            array [i][j] = star;\n            diagonal --;\n         else array [i][j] = &quot;_PUT HERE WATH YOU WANT OR LEAVE IT BLANK_&quot;\n    }\n }\n    \n</code></pre>\n"}],"owner":{"account_id":28116113,"reputation":33,"user_id":21483200,"display_name":"GrasshopperAtBest"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":177,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75973135,"answer_count":3,"score":0,"last_activity_date":1681143526,"creation_date":1681075832,"question_id":75972971,"body_markdown":"I&#39;m trying to fill a 2D array with stars in a specific pattern, specifically from bottom left to the top right corner. [![You can see that I&#39;ve got it the way I would like going from top left to the bottom right, but I can&#39;t seem to get the last couple of points when going from bottom left to top right](https://i.stack.imgur.com/0l63A.png)](https://i.stack.imgur.com/0l63A.png)\r\n\r\n    public static char[][] rightDiagonal (char star, int dimensions){\r\n        char [][] array = new char [dimensions][dimensions];\r\n        int last = dimensions - 1; // create variable for last number in array\r\n        // for loop to create right diagonal pattern\r\n        for (int i = 0; i &lt; dimensions; i++){\r\n            for (int j = 0; j &lt; dimensions; j++)\r\n                if (i == j)\r\n                    array [i][last-i] = star;\r\n                else \r\n                    array [i][j] = &#39; &#39;;\r\n            }\r\n        return array;\r\n\r\nThis is what I&#39;ve tried and the best result I&#39;ve gotten is the result I&#39;ve posted in the image. ","title":"How to fill a 2D array from bottom left to top right in java?","body":"<p>I'm trying to fill a 2D array with stars in a specific pattern, specifically from bottom left to the top right corner. <a href=\"https://i.stack.imgur.com/0l63A.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/0l63A.png\" alt=\"You can see that I've got it the way I would like going from top left to the bottom right, but I can't seem to get the last couple of points when going from bottom left to top right\" /></a></p>\n<pre><code>public static char[][] rightDiagonal (char star, int dimensions){\n    char [][] array = new char [dimensions][dimensions];\n    int last = dimensions - 1; // create variable for last number in array\n    // for loop to create right diagonal pattern\n    for (int i = 0; i &lt; dimensions; i++){\n        for (int j = 0; j &lt; dimensions; j++)\n            if (i == j)\n                array [i][last-i] = star;\n            else \n                array [i][j] = ' ';\n        }\n    return array;\n</code></pre>\n<p>This is what I've tried and the best result I've gotten is the result I've posted in the image.</p>\n"},{"tags":["java","java-threads"],"answers":[{"tags":[],"owner":{"account_id":277416,"reputation":681848,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"down_vote_count":0,"up_vote_count":65,"is_accepted":true,"score":65,"last_activity_date":1313425497,"creation_date":1313425497,"answer_id":7067660,"question_id":7067578,"body_markdown":"The JVM exits when all the running threads are daemon threads. So imagine you&#39;re writing a simple game where your main method loops until you decide to quit. And imagine that at the start of the game, you start a thread that will endlessly poll some website to trigger alerts. You would like the JVM to exit when you decide to end the game. You don&#39;t want the endless polling to prevent the game from ending. So you make this polling thread a daemon thread.","title":"When are daemon threads useful?","body":"<p>The JVM exits when all the running threads are daemon threads. So imagine you're writing a simple game where your main method loops until you decide to quit. And imagine that at the start of the game, you start a thread that will endlessly poll some website to trigger alerts. You would like the JVM to exit when you decide to end the game. You don't want the endless polling to prevent the game from ending. So you make this polling thread a daemon thread.</p>\n"},{"tags":[],"owner":{"account_id":467560,"reputation":15145,"user_id":873025,"accept_rate":90,"display_name":"Felix Glas"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1313425501,"creation_date":1313425501,"answer_id":7067664,"question_id":7067578,"body_markdown":"A Deamon thread is automatically terminated by the JVM when all &quot;normal&quot; threads are terminated. Normal threads are never automatically terminated.","title":"When are daemon threads useful?","body":"<p>A Deamon thread is automatically terminated by the JVM when all \"normal\" threads are terminated. Normal threads are never automatically terminated.</p>\n"},{"tags":[],"owner":{"account_id":74748,"reputation":3592,"user_id":214626,"accept_rate":82,"display_name":"panzerschreck"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1313425571,"creation_date":1313425571,"answer_id":7067680,"question_id":7067578,"body_markdown":"Services that you wish to offer to your consumers without any user-interation by way of essentially user-threads form the primary use-case for setting a user thread as a daemon.\r\n\r\nAs a consequence, until user-threads exist JVM gurantees that daemon threads run continously. You can find examples like GC, UI Thread etc.. those are daemons.\r\n\r\nHope it helps.","title":"When are daemon threads useful?","body":"<p>Services that you wish to offer to your consumers without any user-interation by way of essentially user-threads form the primary use-case for setting a user thread as a daemon.</p>\n\n<p>As a consequence, until user-threads exist JVM gurantees that daemon threads run continously. You can find examples like GC, UI Thread etc.. those are daemons.</p>\n\n<p>Hope it helps.</p>\n"},{"tags":[],"owner":{"account_id":220789,"reputation":114430,"user_id":478399,"accept_rate":83,"display_name":"AlexR"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1313425646,"creation_date":1313425646,"answer_id":7067692,"question_id":7067578,"body_markdown":"Normally program terminates when all its threads exited their `run()` method. Daemon threads do not prevent program to terminate even if they are still running, i.e. executing `run()`.\r\n\r\nSo, you should use daemon thread if you wish not to prevent program termination when the thread is still running. It is typical for example for long-time periodic tasks but actually depend very much on your program, your design and your taste.","title":"When are daemon threads useful?","body":"<p>Normally program terminates when all its threads exited their <code>run()</code> method. Daemon threads do not prevent program to terminate even if they are still running, i.e. executing <code>run()</code>.</p>\n\n<p>So, you should use daemon thread if you wish not to prevent program termination when the thread is still running. It is typical for example for long-time periodic tasks but actually depend very much on your program, your design and your taste.</p>\n"},{"tags":[],"owner":{"account_id":359438,"reputation":1664,"user_id":700848,"display_name":"M Platvoet"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1313426489,"creation_date":1313426489,"answer_id":7067843,"question_id":7067578,"body_markdown":"As other have pointed, a daemon thread does not prevent the JVM from exiting when the program finishes when this thread is still running.\r\n\r\nIn general you&#39;d rather not create daemon threads, unless you are absolutely certain the thread has no side effects. Since you can&#39;t tell when the thread stops, finalizer blocks are not run, nor are any stack unwound. So try avoiding using IO operations in daemon threads because it can corrupt data.\r\n\r\n","title":"When are daemon threads useful?","body":"<p>As other have pointed, a daemon thread does not prevent the JVM from exiting when the program finishes when this thread is still running.</p>\n\n<p>In general you'd rather not create daemon threads, unless you are absolutely certain the thread has no side effects. Since you can't tell when the thread stops, finalizer blocks are not run, nor are any stack unwound. So try avoiding using IO operations in daemon threads because it can corrupt data.</p>\n"},{"tags":[],"owner":{"account_id":1088545,"reputation":1,"user_id":1083704,"accept_rate":71,"display_name":"Val"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1426844758,"creation_date":1426844758,"answer_id":29163580,"question_id":7067578,"body_markdown":"I used them with Timer to delete files that cannot be deleted immediately. That is, I generate .exe files, run and then delete them. But there is 50% chance that `executable.delete` fails, seemingly because image is still blocked by the process in termination. You can reliably delete executable image only after process has finished completely. But, you never know how long it takes. You set .deleteOnExit therefore instead of .delete. But, you do not want to wait until java machine terminates also. It can take very long and you do not want millions of useless stupid .exe files, that you do not need anymore, hanging in the file system. You therefore schedule executable.delete in the timer to happen one-two seconds later. The timer however cannot be usual thread. If it is so, it will block your program from terminating even if there are no files to delete. I can easily make it daemon however because whether my files are deleted or not by timer is immaterial -- the files will be removed either way: either by daemon or java exit. I think it is perfect use of daemon.","title":"When are daemon threads useful?","body":"<p>I used them with Timer to delete files that cannot be deleted immediately. That is, I generate .exe files, run and then delete them. But there is 50% chance that <code>executable.delete</code> fails, seemingly because image is still blocked by the process in termination. You can reliably delete executable image only after process has finished completely. But, you never know how long it takes. You set .deleteOnExit therefore instead of .delete. But, you do not want to wait until java machine terminates also. It can take very long and you do not want millions of useless stupid .exe files, that you do not need anymore, hanging in the file system. You therefore schedule executable.delete in the timer to happen one-two seconds later. The timer however cannot be usual thread. If it is so, it will block your program from terminating even if there are no files to delete. I can easily make it daemon however because whether my files are deleted or not by timer is immaterial -- the files will be removed either way: either by daemon or java exit. I think it is perfect use of daemon.</p>\n"},{"tags":[],"owner":{"account_id":3979489,"reputation":449,"user_id":3281806,"display_name":"Shivendra Prakash Shukla"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1474930565,"creation_date":1474930565,"answer_id":39713612,"question_id":7067578,"body_markdown":"Daemon threads in Java are like a service providers for other threads or objects running in the same process as the daemon thread. Daemon threads are used for background supporting tasks and are only needed while normal threads are executing. If normal threads are not running and remaining threads are daemon threads then the interpreter exits.\r\n\r\nWhen a new thread is created it inherits the daemon status of its parent. Normal thread and daemon threads differ in what happens when they exit. When the JVM halts any remaining daemon threads are abandoned: finally blocks are not executed, stacks are not unwound – JVM just exits. Due to this reason daemon threads should be used sparingly and it is dangerous to use them for tasks that might perform any sort of I/O.","title":"When are daemon threads useful?","body":"<p>Daemon threads in Java are like a service providers for other threads or objects running in the same process as the daemon thread. Daemon threads are used for background supporting tasks and are only needed while normal threads are executing. If normal threads are not running and remaining threads are daemon threads then the interpreter exits.</p>\n\n<p>When a new thread is created it inherits the daemon status of its parent. Normal thread and daemon threads differ in what happens when they exit. When the JVM halts any remaining daemon threads are abandoned: finally blocks are not executed, stacks are not unwound – JVM just exits. Due to this reason daemon threads should be used sparingly and it is dangerous to use them for tasks that might perform any sort of I/O.</p>\n"}],"owner":{"account_id":181158,"reputation":5235,"user_id":414967,"accept_rate":74,"display_name":"user414967"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":23214,"favorite_count":0,"down_vote_count":0,"up_vote_count":49,"accepted_answer_id":7067660,"answer_count":7,"score":49,"last_activity_date":1681143461,"creation_date":1313425069,"question_id":7067578,"body_markdown":"I know that Deamon threads are background threads. We can create our own daemon thread by calling `setDaemon(true)`. \r\n\r\nMy question is: Why and when do we need to create our thread as a daemon thread?","title":"When are daemon threads useful?","body":"<p>I know that Deamon threads are background threads. We can create our own daemon thread by calling <code>setDaemon(true)</code>.</p>\n<p>My question is: Why and when do we need to create our thread as a daemon thread?</p>\n"},{"tags":["java","java-8","version"],"comments":[{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1681134974,"post_id":75974136,"comment_id":134003746,"body_markdown":"“I looked at a compatibility chart” What chart? Provide a link.","body":"“I looked at a compatibility chart” What chart? Provide a link."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1681135323,"post_id":75974136,"comment_id":134003823,"body_markdown":"“downloaded the most recent version of Java” What exactly did you download? From where?","body":"“downloaded the most recent version of Java” What exactly did you download? From where?"},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1681143298,"post_id":75974136,"comment_id":134005499,"body_markdown":"Post those details as edits to your Question rather than as Comments.","body":"Post those details as edits to your Question rather than as Comments."}],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1681106183,"creation_date":1681100744,"answer_id":75974258,"question_id":75974136,"body_markdown":"&gt; &quot;I googled and downloaded the most recent version of Java, version 8u361&quot; \r\n\r\nThat is NOT the most recent version of Java. You presumably looked at https://java.com/en which is entitled &quot;Get Java for desktop applications&quot;.  Look here instead: https://oracle.com/au/java/technologies/downloads. \r\n\r\nSince Java 9, Oracle&#39;s position is that it is the developer&#39;s responsibility&lt;sup&gt;1&lt;/sup&gt; to provide the JRE or JDK for running any desktop applications that they develop and distribute. See Oracle’s white paper, [*Java Client Roadmap Update*](https://www.oracle.com/technetwork/java/javase/javaclientroadmapupdatev2020may-6548840.pdf), 2020-05.\r\n\r\nSo you won&#39;t find Oracle or OpenJDK badged JREs for Java after Java 8.  For post-Java 8, your options are:\r\n\r\n  - Instruct your users on how to install an Oracle or OpenJDK JDK.\r\n  - Instruct your users on how to install a 3rd-party JRE.\r\n  - Use a 3rd-party installer generator to create an installer with an embedded JRE (obtained from a 3rd party) or JDK.\r\n  - Use `jlink` to create a custom JRE for your application.\r\n  - For Java 14 and later, use `jpackage` to create a native executable for your application.\r\n\r\nBut to answer your question Java SE 8 (aka JDK 1.8&lt;sup&gt;2&lt;/sup&gt;) is 8uxxx, Java SE 9 is 9uxxx, Java SE 10 is 10uxxx and so on. There is no mystery to the compatibility / equivalency.  \r\n\r\n---------------------\r\n\r\n&lt;sup&gt;1 - Oracle don&#39;t want to (unfairly) cop the blame for out-of-date / insecure Java installations dropped by application installers.  And the don&#39;t want to (unfairly) cop the blame when an official Java patch release installed by the user causes an application to stop working.  Dealing with these things is now 100% *your* responsibility as the app developer / distributor.\r\n&lt;br&gt;2 - The Java 1.N versus Java N stuff is engineering vs marketing nonsense that started back in the early 2000&#39;s.  Don&#39;t be fooled.  And for more information about Java versions, see the Wikipedia [Java Version History][1] page.)&lt;/sup&gt;\r\n\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Java_version_history","title":"Java Versions and Compatibility","body":"<blockquote>\n<p>&quot;I googled and downloaded the most recent version of Java, version 8u361&quot;</p>\n</blockquote>\n<p>That is NOT the most recent version of Java. You presumably looked at <a href=\"https://java.com/en\" rel=\"nofollow noreferrer\">https://java.com/en</a> which is entitled &quot;Get Java for desktop applications&quot;.  Look here instead: <a href=\"https://oracle.com/au/java/technologies/downloads\" rel=\"nofollow noreferrer\">https://oracle.com/au/java/technologies/downloads</a>.</p>\n<p>Since Java 9, Oracle's position is that it is the developer's responsibility<sup>1</sup> to provide the JRE or JDK for running any desktop applications that they develop and distribute. See Oracle’s white paper, <a href=\"https://www.oracle.com/technetwork/java/javase/javaclientroadmapupdatev2020may-6548840.pdf\" rel=\"nofollow noreferrer\"><em>Java Client Roadmap Update</em></a>, 2020-05.</p>\n<p>So you won't find Oracle or OpenJDK badged JREs for Java after Java 8.  For post-Java 8, your options are:</p>\n<ul>\n<li>Instruct your users on how to install an Oracle or OpenJDK JDK.</li>\n<li>Instruct your users on how to install a 3rd-party JRE.</li>\n<li>Use a 3rd-party installer generator to create an installer with an embedded JRE (obtained from a 3rd party) or JDK.</li>\n<li>Use <code>jlink</code> to create a custom JRE for your application.</li>\n<li>For Java 14 and later, use <code>jpackage</code> to create a native executable for your application.</li>\n</ul>\n<p>But to answer your question Java SE 8 (aka JDK 1.8<sup>2</sup>) is 8uxxx, Java SE 9 is 9uxxx, Java SE 10 is 10uxxx and so on. There is no mystery to the compatibility / equivalency.</p>\n<hr />\n<p><sup>1 - Oracle don't want to (unfairly) cop the blame for out-of-date / insecure Java installations dropped by application installers.  And the don't want to (unfairly) cop the blame when an official Java patch release installed by the user causes an application to stop working.  Dealing with these things is now 100% <em>your</em> responsibility as the app developer / distributor.\n<br>2 - The Java 1.N versus Java N stuff is engineering vs marketing nonsense that started back in the early 2000's.  Don't be fooled.  And for more information about Java versions, see the Wikipedia <a href=\"https://en.wikipedia.org/wiki/Java_version_history\" rel=\"nofollow noreferrer\">Java Version History</a> page.)</sup></p>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1681143229,"creation_date":1681133343,"answer_id":75977557,"question_id":75974136,"body_markdown":"Java 20 is the latest and greatest version of Java, as of 2023-04. \r\n\r\nVersions 8, 11, and 17 are designated as *long-term support* version. These versions continue to see updates over many years. The other versions in-between receive updates only for several months. \r\n\r\nAn app compiled for a lower numbered version of Java can be run on the same or higher numbered version of Java. (Unless using a feature later removed, a rare occurrence with Java.)\r\n\r\nSo yes, an app built for Java 8 can run on Java versions 8, 9, … 17, 18, 19, and 20. But not the other way round. An app built for Java 18 can only be run on Java versions 18, 19, and 20. \r\n\r\nYou can get a JDK (an implementation of the Java specifications) from any of several vendors. These vendors include, in no particular order: Amazon, Adoptium (the Eclipse Foundation), SAP, BellSoft, Microsoft, Azul Systems, Oracle, Red Hat, IBM, and more. \r\n\r\nYou said:\r\n\r\n&gt;JDK 20, which I see has some features in testing\r\n\r\nAny feature available by default in Java 20 (or any version) is **entirely ready for production** use. Each release from any of the JDK vendors has gone through extensive testing. \r\n\r\nAny feature *not* ready for production, that is, still in development, is marked as either *incubating* or *preview*. These features are **never available to you by default**. So you cannot use them unwittingly. You have to go out of your way to activate such features. \r\n\r\nSo understand: \r\n\r\n - Every new release of every JDK version is fully ready for production use. \r\n - Java 20 is fully ready for production use. \r\n\r\nYou said:\r\n\r\n&gt;What is the JDK to Java SE equivalence?\r\n\r\n*Java SE* is [a set of specifications][1] published by Oracle Corp. \r\n\r\n*Java* (and *Java SE*) is a trademark owned by Oracle Corp. Available for use only with permission by Oracle. \r\n\r\nA JDK is an implementation of the Java specs, plus a compiler and other tools for development and administration. \r\n\r\nSome JDK products use the trademark “Java”, but only if permitted by Oracle. \r\n\r\n*OpenJDK* is an open-source project developing a codebase for implementing Java across several chip architectures and operating systems. Many companies and individuals contribute. These include Oracle, IBM, Apple, and others. Many JDK products are based largely, if not entirely, on the OpenJDK codebase. \r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/specs/","title":"Java Versions and Compatibility","body":"<p>Java 20 is the latest and greatest version of Java, as of 2023-04.</p>\n<p>Versions 8, 11, and 17 are designated as <em>long-term support</em> version. These versions continue to see updates over many years. The other versions in-between receive updates only for several months.</p>\n<p>An app compiled for a lower numbered version of Java can be run on the same or higher numbered version of Java. (Unless using a feature later removed, a rare occurrence with Java.)</p>\n<p>So yes, an app built for Java 8 can run on Java versions 8, 9, … 17, 18, 19, and 20. But not the other way round. An app built for Java 18 can only be run on Java versions 18, 19, and 20.</p>\n<p>You can get a JDK (an implementation of the Java specifications) from any of several vendors. These vendors include, in no particular order: Amazon, Adoptium (the Eclipse Foundation), SAP, BellSoft, Microsoft, Azul Systems, Oracle, Red Hat, IBM, and more.</p>\n<p>You said:</p>\n<blockquote>\n<p>JDK 20, which I see has some features in testing</p>\n</blockquote>\n<p>Any feature available by default in Java 20 (or any version) is <strong>entirely ready for production</strong> use. Each release from any of the JDK vendors has gone through extensive testing.</p>\n<p>Any feature <em>not</em> ready for production, that is, still in development, is marked as either <em>incubating</em> or <em>preview</em>. These features are <strong>never available to you by default</strong>. So you cannot use them unwittingly. You have to go out of your way to activate such features.</p>\n<p>So understand:</p>\n<ul>\n<li>Every new release of every JDK version is fully ready for production use.</li>\n<li>Java 20 is fully ready for production use.</li>\n</ul>\n<p>You said:</p>\n<blockquote>\n<p>What is the JDK to Java SE equivalence?</p>\n</blockquote>\n<p><em>Java SE</em> is <a href=\"https://docs.oracle.com/javase/specs/\" rel=\"nofollow noreferrer\">a set of specifications</a> published by Oracle Corp.</p>\n<p><em>Java</em> (and <em>Java SE</em>) is a trademark owned by Oracle Corp. Available for use only with permission by Oracle.</p>\n<p>A JDK is an implementation of the Java specs, plus a compiler and other tools for development and administration.</p>\n<p>Some JDK products use the trademark “Java”, but only if permitted by Oracle.</p>\n<p><em>OpenJDK</em> is an open-source project developing a codebase for implementing Java across several chip architectures and operating systems. Many companies and individuals contribute. These include Oracle, IBM, Apple, and others. Many JDK products are based largely, if not entirely, on the OpenJDK codebase.</p>\n"}],"owner":{"account_id":28260060,"reputation":21,"user_id":21604921,"display_name":"Wesley Peart"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5086,"favorite_count":0,"down_vote_count":3,"up_vote_count":2,"accepted_answer_id":75974258,"answer_count":2,"score":-1,"last_activity_date":1681143229,"creation_date":1681098126,"question_id":75974136,"body_markdown":"I am confused about different versions.\r\n\r\nI am a beginner, so forgive me if this is obvious, but...\r\nI am using JDK 20, which I see has some features in testing.  On a separate computer, to test JAR files, I googled and downloaded the most recent version of Java, version 8u361, but not the JDK.  This appears to be what someone who was not a developer would download.\r\n\r\nMy exported JAR files will not open and say that they were made using a more recent version.  I was able to solve this problem by scaling back and using JDK 1.8, which allows java 8u361 to open them.\r\nAm I misunderstanding something.  The most recent version of Java SE can&#39;t run anything that I make with JDK 17, 18, 19 or 20?  I looked at a compatibility chart and couldn&#39;t reconcile this questions.  \r\nWhat is the JDK to Java SE equivalence?","title":"Java Versions and Compatibility","body":"<p>I am confused about different versions.</p>\n<p>I am a beginner, so forgive me if this is obvious, but...\nI am using JDK 20, which I see has some features in testing.  On a separate computer, to test JAR files, I googled and downloaded the most recent version of Java, version 8u361, but not the JDK.  This appears to be what someone who was not a developer would download.</p>\n<p>My exported JAR files will not open and say that they were made using a more recent version.  I was able to solve this problem by scaling back and using JDK 1.8, which allows java 8u361 to open them.\nAm I misunderstanding something.  The most recent version of Java SE can't run anything that I make with JDK 17, 18, 19 or 20?  I looked at a compatibility chart and couldn't reconcile this questions.<br />\nWhat is the JDK to Java SE equivalence?</p>\n"},{"tags":["java","spring-boot","hibernate"],"comments":[{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":1,"creation_date":1680618798,"post_id":75930534,"comment_id":133926509,"body_markdown":"as important as your personal context is to you, it&#39;s irrelevant to the question and future readers, so edited to remove :)","body":"as important as your personal context is to you, it&#39;s irrelevant to the question and future readers, so edited to remove :)"},{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":0,"creation_date":1680620189,"post_id":75930534,"comment_id":133926903,"body_markdown":"&quot;Like everything in the entity Publication is null&quot;: You should include some debugging information, including: the full stack trace of your error, your `Publication` constructor (or what generates it), and ideally debugger output showing the issue you mentioned.","body":"&quot;Like everything in the entity Publication is null&quot;: You should include some debugging information, including: the full stack trace of your error, your <code>Publication</code> constructor (or what generates it), and ideally debugger output showing the issue you mentioned."},{"owner":{"account_id":27735461,"reputation":13,"user_id":21173148,"display_name":"lys_18"},"score":0,"creation_date":1681140289,"post_id":75930534,"comment_id":134004831,"body_markdown":"I couldn&#39;t post the debugging information cause I might say that I still don&#39;t know how to use the debug from VScode. But thanks for the hints.","body":"I couldn&#39;t post the debugging information cause I might say that I still don&#39;t know how to use the debug from VScode. But thanks for the hints."}],"answers":[{"tags":[],"owner":{"account_id":27735461,"reputation":13,"user_id":21173148,"display_name":"lys_18"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1681142964,"creation_date":1681142964,"answer_id":75978716,"question_id":75930534,"body_markdown":"I finally found the problem which was that the relationships Publication, Tcc, SoftwareReg and Article were with the same request mapping.\r\nSo I changed from ```@RequestMapping(&quot;/registry-api/publication&quot;)``` to a specific one in each class that had the OneToOne relationship.\r\nThat looked like this:\r\n```\r\n@RequestMapping(&quot;/registry-api/tcc&quot;)\r\n@RequestMapping(&quot;/registry-api/soft-reg&quot;)\r\n@RequestMapping(&quot;/registry-api/article&quot;)\r\n```\r\n\r\nThis is a very basic idea that I overlooked.","title":"Not-null property references a null or transient value - OneToOne - Spring Boot","body":"<p>I finally found the problem which was that the relationships Publication, Tcc, SoftwareReg and Article were with the same request mapping.\nSo I changed from <code>@RequestMapping(&quot;/registry-api/publication&quot;)</code> to a specific one in each class that had the OneToOne relationship.\nThat looked like this:</p>\n<pre><code>@RequestMapping(&quot;/registry-api/tcc&quot;)\n@RequestMapping(&quot;/registry-api/soft-reg&quot;)\n@RequestMapping(&quot;/registry-api/article&quot;)\n</code></pre>\n<p>This is a very basic idea that I overlooked.</p>\n"}],"owner":{"account_id":27735461,"reputation":13,"user_id":21173148,"display_name":"lys_18"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":228,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75978716,"answer_count":1,"score":0,"last_activity_date":1681142964,"creation_date":1680618118,"question_id":75930534,"body_markdown":"\r\nI have a One to One relationship of Publication with TCC, Article and Software Registration. I also have a relationship of Publication with Student. In the form if I save Publication separated it goes perfectly fine but if I try to do this while related with any of the One to One relationship i get the error mensage:\r\n\r\n    org.hibernate.PropertyValueException: not-null property references a null or transient value : com.codeweb.demo.model.Publication.acessDate\r\n        at org.hibernate.engine.internal.Nullability.checkNullability(Nullability.java:111) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]\r\n        at org.hibernate.engine.internal.Nullability.checkNullability(Nullability.java:55) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]\r\n        at org.hibernate.action.internal.AbstractEntityInsertAction.nullifyTransientReferencesIfNotAlready(AbstractEntityInsertAction.java:116) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]\r\n        at org.hibernate.action.internal.EntityIdentityInsertAction.execute(EntityIdentityInsertAction.java:72) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]\r\n        at org.hibernate.engine.spi.ActionQueue.execute(ActionQueue.java:645) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]\r\n        at org.hibernate.engine.spi.ActionQueue.addResolvedEntityInsertAction(ActionQueue.java:282) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]\r\n        at org.hibernate.engine.spi.ActionQueue.addInsertAction(ActionQueue.java:263) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]\r\n        at org.hibernate.engine.spi.ActionQueue.addAction(ActionQueue.java:317) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]\r\n        at org.hibernate.event.internal.AbstractSaveEventListener.addInsertAction(AbstractSaveEventListener.java:329) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]\r\n        at org.hibernate.event.internal.AbstractSaveEventListener.performSaveOrReplicate(AbstractSaveEventListener.java:286) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]\r\n        at org.hibernate.event.internal.AbstractSaveEventListener.performSave(AbstractSaveEventListener.java:192) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]\r\n        at org.hibernate.event.internal.AbstractSaveEventListener.saveWithGeneratedId(AbstractSaveEventListener.java:122) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]\r\n        at org.hibernate.event.internal.DefaultPersistEventListener.entityIsTransient(DefaultPersistEventListener.java:185) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]\r\n        at org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:128) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]\r\n        at org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:55) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]\r\n        at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:107) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]\r\n        at org.hibernate.internal.SessionImpl.firePersist(SessionImpl.java:756) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]\r\n        at org.hibernate.internal.SessionImpl.persist(SessionImpl.java:742) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]\r\n        at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]\r\n        at java.base/java.lang.reflect.Method.invoke(Method.java:577) ~[na:na]\r\n        at org.springframework.orm.jpa.ExtendedEntityManagerCreator$ExtendedEntityManagerInvocationHandler.invoke(ExtendedEntityManagerCreator.java:362) ~[spring-orm-5.3.25.jar:5.3.25]\r\n        at jdk.proxy4/jdk.proxy4.$Proxy127.persist(Unknown Source) ~[na:na]\r\n        at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]\r\n        at java.base/java.lang.reflect.Method.invoke(Method.java:577) ~[na:na]\r\n        at org.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler.invoke(SharedEntityManagerCreator.java:311) ~[spring-orm-5.3.25.jar:5.3.25]\r\n        at jdk.proxy4/jdk.proxy4.$Proxy127.persist(Unknown Source) ~[na:na]\r\n        at org.springframework.data.jpa.repository.support.SimpleJpaRepository.save(SimpleJpaRepository.java:666) ~[spring-data-jpa-2.7.8.jar:2.7.8]\r\n        at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]\r\n        at java.base/java.lang.reflect.Method.invoke(Method.java:577) ~[na:na]\r\n        at org.springframework.data.repository.core.support.RepositoryMethodInvoker$RepositoryFragmentMethodInvoker.lambda$new$0(RepositoryMethodInvoker.java:289) ~[spring-data-commons-2.7.8.jar:2.7.8]\r\n        at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:137) ~[spring-data-commons-2.7.8.jar:2.7.8]\r\n        at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:121) ~[spring-data-commons-2.7.8.jar:2.7.8]\r\n        at org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments.invoke(RepositoryComposition.java:530) ~[spring-data-commons-2.7.8.jar:2.7.8]\r\n        at org.springframework.data.repository.core.support.RepositoryComposition.invoke(RepositoryComposition.java:286) ~[spring-data-commons-2.7.8.jar:2.7.8]\r\n        at org.springframework.data.repository.core.support.RepositoryFactorySupport$ImplementationMethodExecutionInterceptor.invoke(RepositoryFactorySupport.java:640) ~[spring-data-commons-2.7.8.jar:2.7.8]\r\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.25.jar:5.3.25]\r\n        at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:164) ~[spring-data-commons-2.7.8.jar:2.7.8]\r\n        at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:139) ~[spring-data-commons-2.7.8.jar:2.7.8]\r\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.25.jar:5.3.25]\r\n        at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:81) ~[spring-data-commons-2.7.8.jar:2.7.8]\r\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.25.jar:5.3.25]\r\n        at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-5.3.25.jar:5.3.25]\r\n        at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-5.3.25.jar:5.3.25]\r\n        at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.25.jar:5.3.25]\r\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.25.jar:5.3.25]\r\n        at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137) ~[spring-tx-5.3.25.jar:5.3.25]\r\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.25.jar:5.3.25]\r\n        at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:174) ~[spring-data-jpa-2.7.8.jar:2.7.8]\r\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.25.jar:5.3.25]\r\n        at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97) ~[spring-aop-5.3.25.jar:5.3.25]        \r\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.25.jar:5.3.25]\r\n        at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215) ~[spring-aop-5.3.25.jar:5.3.25]\r\n        at jdk.proxy4/jdk.proxy4.$Proxy137.save(Unknown Source) ~[na:na]\r\n        at com.codeweb.demo.service.PublicationService.savePub(PublicationService.java:24) ~[classes/:na]\r\n        at com.codeweb.demo.controller.PublicationController.savedPub(PublicationController.java:35) ~[classes/:na]\r\n        at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]\r\n        at java.base/java.lang.reflect.Method.invoke(Method.java:577) ~[na:na]\r\n        at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-5.3.25.jar:5.3.25]\r\n        at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150) ~[spring-web-5.3.25.jar:5.3.25]    \r\n        at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117) ~[spring-webmvc-5.3.25.jar:5.3.25]\r\n        at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895) ~[spring-webmvc-5.3.25.jar:5.3.25]\r\n        at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808) ~[spring-webmvc-5.3.25.jar:5.3.25]\r\n        at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.3.25.jar:5.3.25]\r\n        at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1071) ~[spring-webmvc-5.3.25.jar:5.3.25]\r\n        at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:964) ~[spring-webmvc-5.3.25.jar:5.3.25]\r\n        at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.25.jar:5.3.25]\r\n        at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909) ~[spring-webmvc-5.3.25.jar:5.3.25]\r\n        at javax.servlet.http.HttpServlet.service(HttpServlet.java:696) ~[tomcat-embed-core-9.0.71.jar:4.0.FR]\r\n        at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.25.jar:5.3.25]\r\n        at javax.servlet.http.HttpServlet.service(HttpServlet.java:779) ~[tomcat-embed-core-9.0.71.jar:4.0.FR]\r\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\r\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\r\n        at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.71.jar:9.0.71]\r\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\r\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\r\n        at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.25.jar:5.3.25]\r\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.25.jar:5.3.25]\r\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\r\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\r\n        at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.25.jar:5.3.25]\r\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.25.jar:5.3.25]\r\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\r\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\r\n        at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:96) ~[spring-boot-actuator-2.7.9.jar:2.7.9]\r\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.25.jar:5.3.25]\r\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\r\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\r\n        at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.25.jar:5.3.25]\r\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.25.jar:5.3.25]\r\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\r\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\r\n        at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:177) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\r\n        at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\r\n        at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\r\n        at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\r\n        at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\r\n        at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\r\n        at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\r\n        at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\r\n        at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\r\n        at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:891) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\r\n        at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1784) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\r\n        at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\r\n        at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\r\n        at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\r\n        at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\r\n        at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]\r\n\r\nLike everything in the entity Publication is null. I&#39;ve been trying for weeks now to resolve it but I simple can&#39;t find a resolute answer for my case.\r\n\r\nStudent Model:\r\n\r\n```\r\n@Data\r\n@Entity\r\npublic class Student {\r\n\r\n    @Id\r\n    @Column(columnDefinition = &quot;serial&quot;)\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long idStudent;\r\n\r\n    @Column(length = 100, nullable = false)\r\n    private String name;\r\n    \r\n    @Column(nullable = false)\r\n    @DateTimeFormat(pattern = &quot;dd/MM/yyyy&quot;)\r\n    private Date beginDate;\r\n    \r\n    @Column(nullable = false)\r\n    @DateTimeFormat(pattern = &quot;dd/MM/yyyy&quot;)\r\n    private Date endDate;\r\n    \r\n    @Column(nullable = false)\r\n    @Lob\r\n    private String photo;\r\n}\r\n```\r\n\r\nPublication Model:\r\n\r\n```\r\n@Data\r\n@Entity\r\npublic class Publication {\r\n    \r\n    @Id\r\n    @Column(columnDefinition = &quot;serial&quot;)\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long idPublica;\r\n\r\n    @Column(length = 100, nullable = false)\r\n    private String title;\r\n\r\n    @Column(nullable = false)\r\n    @DateTimeFormat(pattern = &quot;dd/MM/yyyy&quot;)\r\n    private Date publicationDate;\r\n    \r\n    @Column(nullable = false)\r\n    @DateTimeFormat(pattern = &quot;dd/MM/yyyy&quot;)\r\n    private Date acessDate;\r\n    \r\n    @Column(nullable = false)\r\n    private String link;\r\n    \r\n    @ManyToMany(cascade = {CascadeType.MERGE}, fetch = FetchType.EAGER)\r\n    @JoinTable(\r\n        name = &quot;publicationStudent&quot;,\r\n        joinColumns = @JoinColumn(name = &quot;publica_id&quot;),\r\n        inverseJoinColumns = @JoinColumn(name = &quot;student_id&quot;)\r\n    )\r\n    private Set&lt;Student&gt; studentPublication = new HashSet&lt;&gt;();\r\n}\r\n```\r\n\r\nTcc Model:\r\n\r\n```\r\n@Data\r\n@Entity\r\npublic class Tcc {\r\n    @Id\r\n    @Column(columnDefinition = &quot;serial&quot;)\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long idTcc;\r\n\r\n    @Column(length = 100, nullable = false)\r\n    private String degree;\r\n\r\n    @Column(length = 100, nullable = false)\r\n    private String course;\r\n    \r\n    @MapsId\r\n    @OneToOne(fetch = FetchType.LAZY)\r\n    @JoinColumn(name = &quot;publica_id&quot;, referencedColumnName = &quot;idPublica&quot;)\r\n    private Publication publication;\r\n}\r\n```\r\n\r\nArticle Model:\r\n\r\n```\r\n@Data\r\n@Entity\r\npublic class Article {\r\n    @Id\r\n    @Column(columnDefinition = &quot;serial&quot;)\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long idArticle;\r\n    \r\n    @Column(length = 100, nullable = false)\r\n    private String magazine;\r\n    \r\n    @Column(nullable = false)\r\n    private Integer volume;\r\n    \r\n    @Column(nullable = false)\r\n    private Integer numeration;\r\n    \r\n    @Column(nullable = false)\r\n    private Integer initialPage;\r\n    \r\n    @Column(nullable = false)\r\n    private Integer endPage;\r\n    \r\n    @MapsId\r\n    @OneToOne(fetch = FetchType.LAZY)\r\n    @JoinColumn(name = &quot;publica_id&quot;, referencedColumnName = &quot;idPublica&quot;)\r\n    private Publication publication;\r\n}\r\n```\r\n\r\nSoftware Registration Model:\r\n\r\n```\r\n@Data\r\n@Entity\r\npublic class SoftwareReg {\r\n    @Id\r\n    @Column(columnDefinition = &quot;serial&quot;)\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long idReg;\r\n    \r\n    @Column(length = 50, nullable = false)\r\n    private String editor;\r\n\r\n    @Column(nullable = false)\r\n    private Integer edition;\r\n    \r\n    @MapsId\r\n    @OneToOne(fetch = FetchType.LAZY)\r\n    @JoinColumn(name = &quot;publica_id&quot;, referencedColumnName = &quot;idPublica&quot;)\r\n    private Publication publication;\r\n}\r\n```\r\n\r\nI&#39;ve already tried to save in my services classes of the One to One relationship like the example in Tcc:\r\n\r\n```\r\n@Autowired\r\nprivate TccRepository tccRepo;\r\n\r\n@Autowired\r\nprivate PublicacaoService pubServ;\r\n\r\npublic Tcc saveTcc(Tcc tcc) throws RelationTypeNotFoundException {\r\n    Publication saved = pubServ.savePub(tcc.getPublication());\r\n    Publication pub = pubServ.listId(saved.getIdPublica());\r\n    tcc.setPublication(pub);\r\n\r\n    return tccRepo.save(tcc);\r\n}\r\n```\r\n\r\nTo save in the setPublication function with a constructor that redirects to it:\r\n\r\n```\r\npublic void setPublication(Publication publication) {\r\n    this.publication = publication;\r\n    Publication pb = new Publication(title, publicationDate, acessDate, link, studentPublication);\r\n```\r\n\r\nAnd many of this combination:\r\n\r\n```\r\n@OneToOne(cascade = {CascadeType.MERGE}, fetch = FetchType.EAGER, orphanRemoval = true)\r\n@JoinColumn(name = &quot;publica_id&quot;)\r\n\r\n@OneToOne(fetch = FetchType.LAZY, orphanRemoval = true)\r\n@JoinColumn(name = &quot;publica_id&quot;)\r\n\r\n@OneToOne(fetch = FetchType.LAZY)\r\n@JoinColumn(name = &quot;publica_id&quot;, referencedColumnName = &quot;idPublica&quot;)\r\n\r\n@OneToOne\r\n@MapsId\r\n```\r\n\r\nThe end result would be something like this in Tcc example:\r\n\r\n```\r\ncourse: &quot;course 1 example&quot;\r\ndegree: &quot;degree 1 example&quot;\r\nidTcc: null\r\npublication:\r\n\tacessDate: &quot;2004-02-03&quot;\r\n\tidPublica: null\r\n\tlink: &quot;examplelink.com&quot;\r\n\tpublicationDate: &quot;2004-02-03&quot;\r\n\tstudentPublication: [{idStudent: 1, nome: &quot;Student 1&quot;, beginDate: &quot;2005-04-05T00:00:00.000+00:00&quot;,…}]\r\n\ttitle: &quot;title 1&quot;\r\n```","title":"Not-null property references a null or transient value - OneToOne - Spring Boot","body":"<p>I have a One to One relationship of Publication with TCC, Article and Software Registration. I also have a relationship of Publication with Student. In the form if I save Publication separated it goes perfectly fine but if I try to do this while related with any of the One to One relationship i get the error mensage:</p>\n<pre><code>org.hibernate.PropertyValueException: not-null property references a null or transient value : com.codeweb.demo.model.Publication.acessDate\n    at org.hibernate.engine.internal.Nullability.checkNullability(Nullability.java:111) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]\n    at org.hibernate.engine.internal.Nullability.checkNullability(Nullability.java:55) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]\n    at org.hibernate.action.internal.AbstractEntityInsertAction.nullifyTransientReferencesIfNotAlready(AbstractEntityInsertAction.java:116) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]\n    at org.hibernate.action.internal.EntityIdentityInsertAction.execute(EntityIdentityInsertAction.java:72) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]\n    at org.hibernate.engine.spi.ActionQueue.execute(ActionQueue.java:645) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]\n    at org.hibernate.engine.spi.ActionQueue.addResolvedEntityInsertAction(ActionQueue.java:282) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]\n    at org.hibernate.engine.spi.ActionQueue.addInsertAction(ActionQueue.java:263) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]\n    at org.hibernate.engine.spi.ActionQueue.addAction(ActionQueue.java:317) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]\n    at org.hibernate.event.internal.AbstractSaveEventListener.addInsertAction(AbstractSaveEventListener.java:329) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]\n    at org.hibernate.event.internal.AbstractSaveEventListener.performSaveOrReplicate(AbstractSaveEventListener.java:286) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]\n    at org.hibernate.event.internal.AbstractSaveEventListener.performSave(AbstractSaveEventListener.java:192) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]\n    at org.hibernate.event.internal.AbstractSaveEventListener.saveWithGeneratedId(AbstractSaveEventListener.java:122) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]\n    at org.hibernate.event.internal.DefaultPersistEventListener.entityIsTransient(DefaultPersistEventListener.java:185) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]\n    at org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:128) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]\n    at org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:55) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]\n    at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:107) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]\n    at org.hibernate.internal.SessionImpl.firePersist(SessionImpl.java:756) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]\n    at org.hibernate.internal.SessionImpl.persist(SessionImpl.java:742) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]\n    at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:577) ~[na:na]\n    at org.springframework.orm.jpa.ExtendedEntityManagerCreator$ExtendedEntityManagerInvocationHandler.invoke(ExtendedEntityManagerCreator.java:362) ~[spring-orm-5.3.25.jar:5.3.25]\n    at jdk.proxy4/jdk.proxy4.$Proxy127.persist(Unknown Source) ~[na:na]\n    at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:577) ~[na:na]\n    at org.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler.invoke(SharedEntityManagerCreator.java:311) ~[spring-orm-5.3.25.jar:5.3.25]\n    at jdk.proxy4/jdk.proxy4.$Proxy127.persist(Unknown Source) ~[na:na]\n    at org.springframework.data.jpa.repository.support.SimpleJpaRepository.save(SimpleJpaRepository.java:666) ~[spring-data-jpa-2.7.8.jar:2.7.8]\n    at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:577) ~[na:na]\n    at org.springframework.data.repository.core.support.RepositoryMethodInvoker$RepositoryFragmentMethodInvoker.lambda$new$0(RepositoryMethodInvoker.java:289) ~[spring-data-commons-2.7.8.jar:2.7.8]\n    at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:137) ~[spring-data-commons-2.7.8.jar:2.7.8]\n    at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:121) ~[spring-data-commons-2.7.8.jar:2.7.8]\n    at org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments.invoke(RepositoryComposition.java:530) ~[spring-data-commons-2.7.8.jar:2.7.8]\n    at org.springframework.data.repository.core.support.RepositoryComposition.invoke(RepositoryComposition.java:286) ~[spring-data-commons-2.7.8.jar:2.7.8]\n    at org.springframework.data.repository.core.support.RepositoryFactorySupport$ImplementationMethodExecutionInterceptor.invoke(RepositoryFactorySupport.java:640) ~[spring-data-commons-2.7.8.jar:2.7.8]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.25.jar:5.3.25]\n    at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:164) ~[spring-data-commons-2.7.8.jar:2.7.8]\n    at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:139) ~[spring-data-commons-2.7.8.jar:2.7.8]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.25.jar:5.3.25]\n    at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:81) ~[spring-data-commons-2.7.8.jar:2.7.8]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.25.jar:5.3.25]\n    at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-5.3.25.jar:5.3.25]\n    at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-5.3.25.jar:5.3.25]\n    at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.25.jar:5.3.25]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.25.jar:5.3.25]\n    at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137) ~[spring-tx-5.3.25.jar:5.3.25]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.25.jar:5.3.25]\n    at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:174) ~[spring-data-jpa-2.7.8.jar:2.7.8]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.25.jar:5.3.25]\n    at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97) ~[spring-aop-5.3.25.jar:5.3.25]        \n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.25.jar:5.3.25]\n    at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215) ~[spring-aop-5.3.25.jar:5.3.25]\n    at jdk.proxy4/jdk.proxy4.$Proxy137.save(Unknown Source) ~[na:na]\n    at com.codeweb.demo.service.PublicationService.savePub(PublicationService.java:24) ~[classes/:na]\n    at com.codeweb.demo.controller.PublicationController.savedPub(PublicationController.java:35) ~[classes/:na]\n    at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:577) ~[na:na]\n    at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-5.3.25.jar:5.3.25]\n    at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150) ~[spring-web-5.3.25.jar:5.3.25]    \n    at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117) ~[spring-webmvc-5.3.25.jar:5.3.25]\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895) ~[spring-webmvc-5.3.25.jar:5.3.25]\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808) ~[spring-webmvc-5.3.25.jar:5.3.25]\n    at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.3.25.jar:5.3.25]\n    at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1071) ~[spring-webmvc-5.3.25.jar:5.3.25]\n    at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:964) ~[spring-webmvc-5.3.25.jar:5.3.25]\n    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.25.jar:5.3.25]\n    at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909) ~[spring-webmvc-5.3.25.jar:5.3.25]\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:696) ~[tomcat-embed-core-9.0.71.jar:4.0.FR]\n    at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.25.jar:5.3.25]\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:779) ~[tomcat-embed-core-9.0.71.jar:4.0.FR]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\n    at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.71.jar:9.0.71]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\n    at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.25.jar:5.3.25]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.25.jar:5.3.25]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\n    at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.25.jar:5.3.25]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.25.jar:5.3.25]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\n    at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:96) ~[spring-boot-actuator-2.7.9.jar:2.7.9]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.25.jar:5.3.25]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\n    at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.25.jar:5.3.25]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.25.jar:5.3.25]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:177) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:891) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1784) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\n    at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]\n</code></pre>\n<p>Like everything in the entity Publication is null. I've been trying for weeks now to resolve it but I simple can't find a resolute answer for my case.</p>\n<p>Student Model:</p>\n<pre><code>@Data\n@Entity\npublic class Student {\n\n    @Id\n    @Column(columnDefinition = &quot;serial&quot;)\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long idStudent;\n\n    @Column(length = 100, nullable = false)\n    private String name;\n    \n    @Column(nullable = false)\n    @DateTimeFormat(pattern = &quot;dd/MM/yyyy&quot;)\n    private Date beginDate;\n    \n    @Column(nullable = false)\n    @DateTimeFormat(pattern = &quot;dd/MM/yyyy&quot;)\n    private Date endDate;\n    \n    @Column(nullable = false)\n    @Lob\n    private String photo;\n}\n</code></pre>\n<p>Publication Model:</p>\n<pre><code>@Data\n@Entity\npublic class Publication {\n    \n    @Id\n    @Column(columnDefinition = &quot;serial&quot;)\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long idPublica;\n\n    @Column(length = 100, nullable = false)\n    private String title;\n\n    @Column(nullable = false)\n    @DateTimeFormat(pattern = &quot;dd/MM/yyyy&quot;)\n    private Date publicationDate;\n    \n    @Column(nullable = false)\n    @DateTimeFormat(pattern = &quot;dd/MM/yyyy&quot;)\n    private Date acessDate;\n    \n    @Column(nullable = false)\n    private String link;\n    \n    @ManyToMany(cascade = {CascadeType.MERGE}, fetch = FetchType.EAGER)\n    @JoinTable(\n        name = &quot;publicationStudent&quot;,\n        joinColumns = @JoinColumn(name = &quot;publica_id&quot;),\n        inverseJoinColumns = @JoinColumn(name = &quot;student_id&quot;)\n    )\n    private Set&lt;Student&gt; studentPublication = new HashSet&lt;&gt;();\n}\n</code></pre>\n<p>Tcc Model:</p>\n<pre><code>@Data\n@Entity\npublic class Tcc {\n    @Id\n    @Column(columnDefinition = &quot;serial&quot;)\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long idTcc;\n\n    @Column(length = 100, nullable = false)\n    private String degree;\n\n    @Column(length = 100, nullable = false)\n    private String course;\n    \n    @MapsId\n    @OneToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = &quot;publica_id&quot;, referencedColumnName = &quot;idPublica&quot;)\n    private Publication publication;\n}\n</code></pre>\n<p>Article Model:</p>\n<pre><code>@Data\n@Entity\npublic class Article {\n    @Id\n    @Column(columnDefinition = &quot;serial&quot;)\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long idArticle;\n    \n    @Column(length = 100, nullable = false)\n    private String magazine;\n    \n    @Column(nullable = false)\n    private Integer volume;\n    \n    @Column(nullable = false)\n    private Integer numeration;\n    \n    @Column(nullable = false)\n    private Integer initialPage;\n    \n    @Column(nullable = false)\n    private Integer endPage;\n    \n    @MapsId\n    @OneToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = &quot;publica_id&quot;, referencedColumnName = &quot;idPublica&quot;)\n    private Publication publication;\n}\n</code></pre>\n<p>Software Registration Model:</p>\n<pre><code>@Data\n@Entity\npublic class SoftwareReg {\n    @Id\n    @Column(columnDefinition = &quot;serial&quot;)\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long idReg;\n    \n    @Column(length = 50, nullable = false)\n    private String editor;\n\n    @Column(nullable = false)\n    private Integer edition;\n    \n    @MapsId\n    @OneToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = &quot;publica_id&quot;, referencedColumnName = &quot;idPublica&quot;)\n    private Publication publication;\n}\n</code></pre>\n<p>I've already tried to save in my services classes of the One to One relationship like the example in Tcc:</p>\n<pre><code>@Autowired\nprivate TccRepository tccRepo;\n\n@Autowired\nprivate PublicacaoService pubServ;\n\npublic Tcc saveTcc(Tcc tcc) throws RelationTypeNotFoundException {\n    Publication saved = pubServ.savePub(tcc.getPublication());\n    Publication pub = pubServ.listId(saved.getIdPublica());\n    tcc.setPublication(pub);\n\n    return tccRepo.save(tcc);\n}\n</code></pre>\n<p>To save in the setPublication function with a constructor that redirects to it:</p>\n<pre><code>public void setPublication(Publication publication) {\n    this.publication = publication;\n    Publication pb = new Publication(title, publicationDate, acessDate, link, studentPublication);\n</code></pre>\n<p>And many of this combination:</p>\n<pre><code>@OneToOne(cascade = {CascadeType.MERGE}, fetch = FetchType.EAGER, orphanRemoval = true)\n@JoinColumn(name = &quot;publica_id&quot;)\n\n@OneToOne(fetch = FetchType.LAZY, orphanRemoval = true)\n@JoinColumn(name = &quot;publica_id&quot;)\n\n@OneToOne(fetch = FetchType.LAZY)\n@JoinColumn(name = &quot;publica_id&quot;, referencedColumnName = &quot;idPublica&quot;)\n\n@OneToOne\n@MapsId\n</code></pre>\n<p>The end result would be something like this in Tcc example:</p>\n<pre><code>course: &quot;course 1 example&quot;\ndegree: &quot;degree 1 example&quot;\nidTcc: null\npublication:\n    acessDate: &quot;2004-02-03&quot;\n    idPublica: null\n    link: &quot;examplelink.com&quot;\n    publicationDate: &quot;2004-02-03&quot;\n    studentPublication: [{idStudent: 1, nome: &quot;Student 1&quot;, beginDate: &quot;2005-04-05T00:00:00.000+00:00&quot;,…}]\n    title: &quot;title 1&quot;\n</code></pre>\n"},{"tags":["java","maven","grails","pom.xml"],"answers":[{"tags":[],"owner":{"account_id":11150791,"reputation":3332,"user_id":8184112,"display_name":"Daniel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681142306,"creation_date":1681142306,"answer_id":75978644,"question_id":75960909,"body_markdown":"According to the plugin source https://github.com/grails/grails-maven/tags the latest released version is 2.4.6.  I do not believe you should update this to version 4.0.3, as it does not exist.\r\n\r\nInstead, you can set the grails version in the configuration per the documentation:\r\n\r\n    &lt;plugin&gt;\r\n    &lt;groupId&gt;org.grails&lt;/groupId&gt;\r\n    &lt;artifactId&gt;grails-maven-plugin&lt;/artifactId&gt;\r\n    &lt;version&gt;2.4.3&lt;/version&gt;\r\n    &lt;configuration&gt;\r\n        &lt;grailsVersion&gt;2.3.10&lt;/grailsVersion&gt;\r\n        &lt;!-- In the 2.4.3 release of grails-maven-plugin, you need to explicitly set the grailsVersion --&gt;\r\n        &lt;!-- otherwise 2.4.2 will be used --&gt;\r\n        &lt;!--&lt;grailsVersion&gt;2.4.3&lt;/grailsVersion&gt;--&gt;\r\n    &lt;/configuration&gt;\r\n&lt;/plugin&gt;\r\n(Pasted from https://github.com/grails/grails-maven/blob/master/README.md )\r\n&lt;br/&gt;&lt;br/&gt;\r\nNote that this documentation is nine years old and may not be applicable to versions of grails released after that point.","title":"Grails maven plugin is not found at repository","body":"<p>According to the plugin source <a href=\"https://github.com/grails/grails-maven/tags\" rel=\"nofollow noreferrer\">https://github.com/grails/grails-maven/tags</a> the latest released version is 2.4.6.  I do not believe you should update this to version 4.0.3, as it does not exist.</p>\n<p>Instead, you can set the grails version in the configuration per the documentation:</p>\n<pre><code>&lt;plugin&gt;\n&lt;groupId&gt;org.grails&lt;/groupId&gt;\n&lt;artifactId&gt;grails-maven-plugin&lt;/artifactId&gt;\n&lt;version&gt;2.4.3&lt;/version&gt;\n&lt;configuration&gt;\n    &lt;grailsVersion&gt;2.3.10&lt;/grailsVersion&gt;\n    &lt;!-- In the 2.4.3 release of grails-maven-plugin, you need to explicitly set the grailsVersion --&gt;\n    &lt;!-- otherwise 2.4.2 will be used --&gt;\n    &lt;!--&lt;grailsVersion&gt;2.4.3&lt;/grailsVersion&gt;--&gt;\n&lt;/configuration&gt;\n</code></pre>\n\n(Pasted from https://github.com/grails/grails-maven/blob/master/README.md )\n<br/><br/>\nNote that this documentation is nine years old and may not be applicable to versions of grails released after that point.\n"}],"owner":{"account_id":3077175,"reputation":1125,"user_id":2606227,"accept_rate":33,"display_name":"Shamnad P S"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1681142306,"creation_date":1680890311,"question_id":75960909,"body_markdown":"I am trying to update my grails-maven-plugin from 2.4.6 to 4.0.3 and getting the below error.\r\nhttps://repo.maven.apache.org/maven2 only seem to have versions upto 2.4.6\r\n\r\n\r\n    Unresolveable build extension: Plugin org.grails:grails-maven-plugin:4.0.3 or one of its dependencies could not be resolved: The following artifacts could not be resolved: org.grails:grails-maven-plugin:jar:4.0.3 (absent): Could not find artifact org.grails:grails-maven-plugin:jar:4.0.3 in central (https://repo.maven.apache.org/maven2) -&gt; [Help 2]\r\n    [ERROR]     Unknown packaging: grails-plugin @ line 9, column 16\r\n\r\nWhat should I do to fix this?.\r\n\r\npom.xml has the below plugin config\r\n\r\n    &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.grails&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;grails-maven-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;4.0.3&lt;/version&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;grailsVersion&gt;${grails.version}&lt;/grailsVersion&gt;\r\n                        &lt;webXml&gt;${basedir}/web.xml&lt;/webXml&gt;\r\n                        &lt;fork&gt;true&lt;/fork&gt;\r\n                        &lt;forkOptions&gt;\r\n                            &lt;executable&gt;java&lt;/executable&gt;\r\n                            &lt;argLine&gt;-Xmx1024m -Xms1024m -XX:MaxPermSize=256m&lt;/argLine&gt;\r\n                        &lt;/forkOptions&gt;\r\n                        &lt;webdriverBinaries&gt;\r\n                            &lt;chromedriver&gt;\r\n                                &lt;version&gt;79.0.3945.36&lt;/version&gt;\r\n                                &lt;architecture&gt;${env.CIRCLECI != null ? &#39;X86_64&#39; : (Environment.current == Environment.DEVELOPMENT || Environment.current == Environment.TEST) ? &#39;X86&#39; : &#39;X86_64&#39;}&lt;/architecture&gt;\r\n                            &lt;/chromedriver&gt;\r\n                            &lt;geckodriver&gt;0.24.0&lt;/geckodriver&gt;\r\n                        &lt;/webdriverBinaries&gt;\r\n                    &lt;/configuration&gt;\r\n                    &lt;extensions&gt;true&lt;/extensions&gt;\r\n                    &lt;executions&gt;\r\n                        &lt;execution&gt;\r\n                            &lt;goals&gt;\r\n                                &lt;goal&gt;init&lt;/goal&gt;\r\n                                &lt;goal&gt;maven-clean&lt;/goal&gt;\r\n                                &lt;goal&gt;validate&lt;/goal&gt;\r\n                                &lt;goal&gt;config-directories&lt;/goal&gt;\r\n                                &lt;goal&gt;maven-compile&lt;/goal&gt;\r\n                                &lt;goal&gt;maven-test&lt;/goal&gt;\r\n                                &lt;goal&gt;maven-war&lt;/goal&gt;\r\n                                &lt;goal&gt;maven-functional-test&lt;/goal&gt;\r\n                            &lt;/goals&gt;\r\n                        &lt;/execution&gt;\r\n                    &lt;/executions&gt;\r\n                &lt;/plugin&gt;\r\n\r\n    enter code here","title":"Grails maven plugin is not found at repository","body":"<p>I am trying to update my grails-maven-plugin from 2.4.6 to 4.0.3 and getting the below error.\n<a href=\"https://repo.maven.apache.org/maven2\" rel=\"nofollow noreferrer\">https://repo.maven.apache.org/maven2</a> only seem to have versions upto 2.4.6</p>\n<pre><code>Unresolveable build extension: Plugin org.grails:grails-maven-plugin:4.0.3 or one of its dependencies could not be resolved: The following artifacts could not be resolved: org.grails:grails-maven-plugin:jar:4.0.3 (absent): Could not find artifact org.grails:grails-maven-plugin:jar:4.0.3 in central (https://repo.maven.apache.org/maven2) -&gt; [Help 2]\n[ERROR]     Unknown packaging: grails-plugin @ line 9, column 16\n</code></pre>\n<p>What should I do to fix this?.</p>\n<p>pom.xml has the below plugin config</p>\n<pre><code>&lt;plugin&gt;\n                &lt;groupId&gt;org.grails&lt;/groupId&gt;\n                &lt;artifactId&gt;grails-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;4.0.3&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;grailsVersion&gt;${grails.version}&lt;/grailsVersion&gt;\n                    &lt;webXml&gt;${basedir}/web.xml&lt;/webXml&gt;\n                    &lt;fork&gt;true&lt;/fork&gt;\n                    &lt;forkOptions&gt;\n                        &lt;executable&gt;java&lt;/executable&gt;\n                        &lt;argLine&gt;-Xmx1024m -Xms1024m -XX:MaxPermSize=256m&lt;/argLine&gt;\n                    &lt;/forkOptions&gt;\n                    &lt;webdriverBinaries&gt;\n                        &lt;chromedriver&gt;\n                            &lt;version&gt;79.0.3945.36&lt;/version&gt;\n                            &lt;architecture&gt;${env.CIRCLECI != null ? 'X86_64' : (Environment.current == Environment.DEVELOPMENT || Environment.current == Environment.TEST) ? 'X86' : 'X86_64'}&lt;/architecture&gt;\n                        &lt;/chromedriver&gt;\n                        &lt;geckodriver&gt;0.24.0&lt;/geckodriver&gt;\n                    &lt;/webdriverBinaries&gt;\n                &lt;/configuration&gt;\n                &lt;extensions&gt;true&lt;/extensions&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;init&lt;/goal&gt;\n                            &lt;goal&gt;maven-clean&lt;/goal&gt;\n                            &lt;goal&gt;validate&lt;/goal&gt;\n                            &lt;goal&gt;config-directories&lt;/goal&gt;\n                            &lt;goal&gt;maven-compile&lt;/goal&gt;\n                            &lt;goal&gt;maven-test&lt;/goal&gt;\n                            &lt;goal&gt;maven-war&lt;/goal&gt;\n                            &lt;goal&gt;maven-functional-test&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n\nenter code here\n</code></pre>\n"},{"tags":["java","netbeans","jframe","jpanel"],"comments":[{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1681141962,"post_id":75978426,"comment_id":134005205,"body_markdown":"The error is telling you exactly what is wrong -- your JPanel that your getting the layout from is using GroupLayout, not Cardlayout. The solution is to use CardLayout and not GroupLayout. I suggest that you avoid NetBeans code generation until you understand how Swing and especially how the layout managers work.","body":"The error is telling you exactly what is wrong -- your JPanel that your getting the layout from is using GroupLayout, not Cardlayout. The solution is to use CardLayout and not GroupLayout. I suggest that you avoid NetBeans code generation until you understand how Swing and especially how the layout managers work."},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1681142203,"post_id":75978426,"comment_id":134005268,"body_markdown":"In fact, where do you call `setLayout(new CardLayout())` on any container? CardLayout won&#39;t magically appear, you have to add it to the GUI to the container that uses it.","body":"In fact, where do you call <code>setLayout(new CardLayout())</code> on any container? CardLayout won&#39;t magically appear, you have to add it to the GUI to the container that uses it."},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1681142330,"post_id":75978426,"comment_id":134005292,"body_markdown":"Please check out the [CardLayout Tutorial](https://docs.oracle.com/javase/tutorial/uiswing/layout/card.html). It will show you how to use this layout and is a much better resource for this problem then ChatGPT.","body":"Please check out the <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/layout/card.html\" rel=\"nofollow noreferrer\">CardLayout Tutorial</a>. It will show you how to use this layout and is a much better resource for this problem then ChatGPT."}],"owner":{"account_id":19757022,"reputation":1,"user_id":14467076,"display_name":"Rizki Aswangga Adiluhur"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":16,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1681142236,"answer_count":0,"score":0,"last_activity_date":1681142284,"creation_date":1681140569,"question_id":75978426,"body_markdown":"i&#39;m new to Java and JFrame. on my project, i&#39;m learning to make multiple panels on the same JFrame using JPanel. but when i code a function of the button on my 1st JPanel (i want it to go show another JPanel) it gives me an error, here is my full code :\r\n\r\n\r\n```\r\n/*\r\n * Click nbfs://nbhost/SystemFileSystem/Templates/Licenses/license-default.txt to change this license\r\n * Click nbfs://nbhost/SystemFileSystem/Templates/GUIForms/JFrame.java to edit this template\r\n */\r\npackage Main;\r\n\r\nimport GUI.Menu;\r\nimport java.awt.*;\r\n\r\n/**\r\n *\r\n * @author rizkiaswangga\r\n */\r\npublic class Start extends javax.swing.JFrame {\r\n\r\n    /**\r\n     * Creates new form Start\r\n     */\r\n    public Start() {\r\n        initComponents();\r\n    }\r\n\r\n    /**\r\n     * This method is called from within the constructor to initialize the form.\r\n     * WARNING: Do NOT modify this code. The content of this method is always\r\n     * regenerated by the Form Editor.\r\n     */\r\n    @SuppressWarnings(&quot;unchecked&quot;)\r\n    // &lt;editor-fold defaultstate=&quot;collapsed&quot; desc=&quot;Generated Code&quot;&gt;                          \r\n    private void initComponents() {\r\n\r\n        windowPanel = new javax.swing.JPanel();\r\n        jScrollPane1 = new javax.swing.JScrollPane();\r\n        jTextPane1 = new javax.swing.JTextPane();\r\n        jLayeredPane1 = new javax.swing.JLayeredPane();\r\n        Menu = new javax.swing.JPanel();\r\n        Browse = new javax.swing.JButton();\r\n        Library = new javax.swing.JPanel();\r\n        jLabel1 = new javax.swing.JLabel();\r\n\r\n        setDefaultCloseOperation(javax.swing.WindowConstants.EXIT_ON_CLOSE);\r\n\r\n        jTextPane1.setEditable(false);\r\n        jTextPane1.setFont(new java.awt.Font(&quot;sansserif&quot;, 0, 24)); // NOI18N\r\n        jTextPane1.setText(&quot;Game Store&quot;);\r\n        jScrollPane1.setViewportView(jTextPane1);\r\n\r\n        javax.swing.GroupLayout windowPanelLayout = new javax.swing.GroupLayout(windowPanel);\r\n        windowPanel.setLayout(windowPanelLayout);\r\n        windowPanelLayout.setHorizontalGroup(\r\n            windowPanelLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\r\n            .addGroup(windowPanelLayout.createSequentialGroup()\r\n                .addGap(404, 404, 404)\r\n                .addComponent(jScrollPane1, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)\r\n                .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))\r\n        );\r\n        windowPanelLayout.setVerticalGroup(\r\n            windowPanelLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\r\n            .addGroup(windowPanelLayout.createSequentialGroup()\r\n                .addGap(35, 35, 35)\r\n                .addComponent(jScrollPane1, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)\r\n                .addContainerGap(50, Short.MAX_VALUE))\r\n        );\r\n\r\n        jLayeredPane1.setLayout(new java.awt.CardLayout());\r\n\r\n        Browse.setText(&quot;Browse&quot;);\r\n        Browse.addActionListener(new java.awt.event.ActionListener() {\r\n            public void actionPerformed(java.awt.event.ActionEvent evt) {\r\n                BrowseActionPerformed(evt);\r\n            }\r\n        });\r\n\r\n        javax.swing.GroupLayout MenuLayout = new javax.swing.GroupLayout(Menu);\r\n        Menu.setLayout(MenuLayout);\r\n        MenuLayout.setHorizontalGroup(\r\n            MenuLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\r\n            .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, MenuLayout.createSequentialGroup()\r\n                .addContainerGap(813, Short.MAX_VALUE)\r\n                .addComponent(Browse)\r\n                .addGap(146, 146, 146))\r\n        );\r\n        MenuLayout.setVerticalGroup(\r\n            MenuLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\r\n            .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, MenuLayout.createSequentialGroup()\r\n                .addContainerGap(231, Short.MAX_VALUE)\r\n                .addComponent(Browse)\r\n                .addGap(187, 187, 187))\r\n        );\r\n\r\n        jLayeredPane1.add(Menu, &quot;card2&quot;);\r\n\r\n        jLabel1.setText(&quot;test&quot;);\r\n\r\n        javax.swing.GroupLayout LibraryLayout = new javax.swing.GroupLayout(Library);\r\n        Library.setLayout(LibraryLayout);\r\n        LibraryLayout.setHorizontalGroup(\r\n            LibraryLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\r\n            .addGroup(LibraryLayout.createSequentialGroup()\r\n                .addGap(188, 188, 188)\r\n                .addComponent(jLabel1, javax.swing.GroupLayout.PREFERRED_SIZE, 55, javax.swing.GroupLayout.PREFERRED_SIZE)\r\n                .addContainerGap(790, Short.MAX_VALUE))\r\n        );\r\n        LibraryLayout.setVerticalGroup(\r\n            LibraryLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\r\n            .addGroup(LibraryLayout.createSequentialGroup()\r\n                .addGap(124, 124, 124)\r\n                .addComponent(jLabel1, javax.swing.GroupLayout.PREFERRED_SIZE, 51, javax.swing.GroupLayout.PREFERRED_SIZE)\r\n                .addContainerGap(268, Short.MAX_VALUE))\r\n        );\r\n\r\n        jLayeredPane1.add(Library, &quot;card3&quot;);\r\n\r\n        javax.swing.GroupLayout layout = new javax.swing.GroupLayout(getContentPane());\r\n        getContentPane().setLayout(layout);\r\n        layout.setHorizontalGroup(\r\n            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\r\n            .addGroup(layout.createSequentialGroup()\r\n                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\r\n                    .addGroup(layout.createSequentialGroup()\r\n                        .addContainerGap()\r\n                        .addComponent(windowPanel, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))\r\n                    .addComponent(jLayeredPane1))\r\n                .addContainerGap())\r\n        );\r\n        layout.setVerticalGroup(\r\n            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\r\n            .addGroup(layout.createSequentialGroup()\r\n                .addComponent(windowPanel, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)\r\n                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)\r\n                .addComponent(jLayeredPane1))\r\n        );\r\n\r\n        pack();\r\n    }// &lt;/editor-fold&gt;                        \r\n\r\n    private void BrowseActionPerformed(java.awt.event.ActionEvent evt) {                                       \r\n        // TODO add your handling code here:\r\n    CardLayout cardLayout = (CardLayout) getContentPane().getLayout();\r\n    cardLayout.show(getContentPane(), &quot;Library&quot;);\r\n    }                                      \r\n\r\n    /**\r\n     * @param args the command line arguments\r\n     */\r\n    public static void main(String args[]) {\r\n        /* Set the Nimbus look and feel */\r\n        //&lt;editor-fold defaultstate=&quot;collapsed&quot; desc=&quot; Look and feel setting code (optional) &quot;&gt;\r\n        /* If Nimbus (introduced in Java SE 6) is not available, stay with the default look and feel.\r\n         * For details see http://download.oracle.com/javase/tutorial/uiswing/lookandfeel/plaf.html \r\n         */\r\n        try {\r\n            for (javax.swing.UIManager.LookAndFeelInfo info : javax.swing.UIManager.getInstalledLookAndFeels()) {\r\n                if (&quot;Nimbus&quot;.equals(info.getName())) {\r\n                    javax.swing.UIManager.setLookAndFeel(info.getClassName());\r\n                    break;\r\n                }\r\n            }\r\n        } catch (ClassNotFoundException ex) {\r\n            java.util.logging.Logger.getLogger(Start.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);\r\n        } catch (InstantiationException ex) {\r\n            java.util.logging.Logger.getLogger(Start.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);\r\n        } catch (IllegalAccessException ex) {\r\n            java.util.logging.Logger.getLogger(Start.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);\r\n        } catch (javax.swing.UnsupportedLookAndFeelException ex) {\r\n            java.util.logging.Logger.getLogger(Start.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);\r\n        }\r\n        //&lt;/editor-fold&gt;\r\n\r\n        /* Create and display the form */\r\n        java.awt.EventQueue.invokeLater(new Runnable() {\r\n            public void run() {\r\n                new Start().setVisible(true);\r\n            }\r\n        });\r\n    }\r\n    \r\n    public void switchPanels(Menu panel){\r\n        \r\n    }\r\n\r\n    // Variables declaration - do not modify                     \r\n    private javax.swing.JButton Browse;\r\n    private javax.swing.JPanel Library;\r\n    private javax.swing.JPanel Menu;\r\n    private javax.swing.JLabel jLabel1;\r\n    private javax.swing.JLayeredPane jLayeredPane1;\r\n    private javax.swing.JScrollPane jScrollPane1;\r\n    private javax.swing.JTextPane jTextPane1;\r\n    private javax.swing.JPanel windowPanel;\r\n    // End of variables declaration                   \r\n}\r\n\r\n```\r\n\r\nmost of the code is generated automatically by Netbeans&#39; JFrame Form Design tab. the only part that i modify is :\r\n\r\n\r\n```\r\n    private void BrowseActionPerformed(java.awt.event.ActionEvent evt) {                                       \r\n        // TODO add your handling code here:\r\n    CardLayout cardLayout = (CardLayout) getContentPane().getLayout();\r\n    cardLayout.show(getContentPane(), &quot;Library&quot;);\r\n    } \r\n```\r\n\r\ni watched online tutorials on how to show JPanel from another JPanel, but on my cased it failed by giving me a message on the output whenever i click the button :\r\n\r\n\r\n```\r\nException in thread &quot;AWT-EventQueue-0&quot; java.lang.ClassCastException: class javax.swing.GroupLayout cannot be cast to class java.awt.CardLayout (javax.swing.GroupLayout and java.awt.CardLayout are in module java.desktop of loader &#39;bootstrap&#39;)\r\n\tat Main.Start.BrowseActionPerformed(Start.java:139)\r\n\tat Main.Start$1.actionPerformed(Start.java:70)\r\n\tat java.desktop/javax.swing.AbstractButton.fireActionPerformed(AbstractButton.java:1972)\r\n\tat java.desktop/javax.swing.AbstractButton$Handler.actionPerformed(AbstractButton.java:2313)\r\n\tat java.desktop/javax.swing.DefaultButtonModel.fireActionPerformed(DefaultButtonModel.java:405)\r\n\tat java.desktop/javax.swing.DefaultButtonModel.setPressed(DefaultButtonModel.java:262)\r\n\tat java.desktop/javax.swing.plaf.basic.BasicButtonListener.mouseReleased(BasicButtonListener.java:279)\r\n\tat java.desktop/java.awt.Component.processMouseEvent(Component.java:6620)\r\n\tat java.desktop/javax.swing.JComponent.processMouseEvent(JComponent.java:3398)\r\n\tat java.desktop/java.awt.Component.processEvent(Component.java:6385)\r\n\tat java.desktop/java.awt.Container.processEvent(Container.java:2266)\r\n\tat java.desktop/java.awt.Component.dispatchEventImpl(Component.java:4995)\r\n\tat java.desktop/java.awt.Container.dispatchEventImpl(Container.java:2324)\r\n\tat java.desktop/java.awt.Component.dispatchEvent(Component.java:4827)\r\n\tat java.desktop/java.awt.LightweightDispatcher.retargetMouseEvent(Container.java:4948)\r\n\tat java.desktop/java.awt.LightweightDispatcher.processMouseEvent(Container.java:4575)\r\n\tat java.desktop/java.awt.LightweightDispatcher.dispatchEvent(Container.java:4516)\r\n\tat java.desktop/java.awt.Container.dispatchEventImpl(Container.java:2310)\r\n\tat java.desktop/java.awt.Window.dispatchEventImpl(Window.java:2780)\r\n\tat java.desktop/java.awt.Component.dispatchEvent(Component.java:4827)\r\n\tat java.desktop/java.awt.EventQueue.dispatchEventImpl(EventQueue.java:775)\r\n\tat java.desktop/java.awt.EventQueue$4.run(EventQueue.java:720)\r\n\tat java.desktop/java.awt.EventQueue$4.run(EventQueue.java:714)\r\n\tat java.base/java.security.AccessController.doPrivileged(AccessController.java:399)\r\n\tat java.base/java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:86)\r\n\tat java.base/java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:97)\r\n\tat java.desktop/java.awt.EventQueue$5.run(EventQueue.java:747)\r\n\tat java.desktop/java.awt.EventQueue$5.run(EventQueue.java:745)\r\n\tat java.base/java.security.AccessController.doPrivileged(AccessController.java:399)\r\n\tat java.base/java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:86)\r\n\tat java.desktop/java.awt.EventQueue.dispatchEvent(EventQueue.java:744)\r\n\tat java.desktop/java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:203)\r\n\tat java.desktop/java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:124)\r\n\tat java.desktop/java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:113)\r\n\tat java.desktop/java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:109)\r\n\tat java.desktop/java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:101)\r\n\tat java.desktop/java.awt.EventDispatchThread.run(EventDispatchThread.java:90)\r\n\r\n```\r\n\r\nbelow is the screenshot of the Navigator tab of my components (at that part is showing the &quot;Menu&quot;  panel which has the button that i would want to show the &quot;Library&quot; panel when clicked :\r\n\r\n[enter image description here](https://i.stack.imgur.com/FgXoa.png)\r\n\r\ni&#39;m sure something is wrong on my code :(...any help would be appreciated\r\n\r\nI tried asking the code from ChatGPT and watching online tutorials","title":"Why did i failed calling JPanel from another JPanel on the same JFrame?","body":"<p>i'm new to Java and JFrame. on my project, i'm learning to make multiple panels on the same JFrame using JPanel. but when i code a function of the button on my 1st JPanel (i want it to go show another JPanel) it gives me an error, here is my full code :</p>\n<pre><code>/*\n * Click nbfs://nbhost/SystemFileSystem/Templates/Licenses/license-default.txt to change this license\n * Click nbfs://nbhost/SystemFileSystem/Templates/GUIForms/JFrame.java to edit this template\n */\npackage Main;\n\nimport GUI.Menu;\nimport java.awt.*;\n\n/**\n *\n * @author rizkiaswangga\n */\npublic class Start extends javax.swing.JFrame {\n\n    /**\n     * Creates new form Start\n     */\n    public Start() {\n        initComponents();\n    }\n\n    /**\n     * This method is called from within the constructor to initialize the form.\n     * WARNING: Do NOT modify this code. The content of this method is always\n     * regenerated by the Form Editor.\n     */\n    @SuppressWarnings(&quot;unchecked&quot;)\n    // &lt;editor-fold defaultstate=&quot;collapsed&quot; desc=&quot;Generated Code&quot;&gt;                          \n    private void initComponents() {\n\n        windowPanel = new javax.swing.JPanel();\n        jScrollPane1 = new javax.swing.JScrollPane();\n        jTextPane1 = new javax.swing.JTextPane();\n        jLayeredPane1 = new javax.swing.JLayeredPane();\n        Menu = new javax.swing.JPanel();\n        Browse = new javax.swing.JButton();\n        Library = new javax.swing.JPanel();\n        jLabel1 = new javax.swing.JLabel();\n\n        setDefaultCloseOperation(javax.swing.WindowConstants.EXIT_ON_CLOSE);\n\n        jTextPane1.setEditable(false);\n        jTextPane1.setFont(new java.awt.Font(&quot;sansserif&quot;, 0, 24)); // NOI18N\n        jTextPane1.setText(&quot;Game Store&quot;);\n        jScrollPane1.setViewportView(jTextPane1);\n\n        javax.swing.GroupLayout windowPanelLayout = new javax.swing.GroupLayout(windowPanel);\n        windowPanel.setLayout(windowPanelLayout);\n        windowPanelLayout.setHorizontalGroup(\n            windowPanelLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\n            .addGroup(windowPanelLayout.createSequentialGroup()\n                .addGap(404, 404, 404)\n                .addComponent(jScrollPane1, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)\n                .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))\n        );\n        windowPanelLayout.setVerticalGroup(\n            windowPanelLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\n            .addGroup(windowPanelLayout.createSequentialGroup()\n                .addGap(35, 35, 35)\n                .addComponent(jScrollPane1, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)\n                .addContainerGap(50, Short.MAX_VALUE))\n        );\n\n        jLayeredPane1.setLayout(new java.awt.CardLayout());\n\n        Browse.setText(&quot;Browse&quot;);\n        Browse.addActionListener(new java.awt.event.ActionListener() {\n            public void actionPerformed(java.awt.event.ActionEvent evt) {\n                BrowseActionPerformed(evt);\n            }\n        });\n\n        javax.swing.GroupLayout MenuLayout = new javax.swing.GroupLayout(Menu);\n        Menu.setLayout(MenuLayout);\n        MenuLayout.setHorizontalGroup(\n            MenuLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\n            .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, MenuLayout.createSequentialGroup()\n                .addContainerGap(813, Short.MAX_VALUE)\n                .addComponent(Browse)\n                .addGap(146, 146, 146))\n        );\n        MenuLayout.setVerticalGroup(\n            MenuLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\n            .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, MenuLayout.createSequentialGroup()\n                .addContainerGap(231, Short.MAX_VALUE)\n                .addComponent(Browse)\n                .addGap(187, 187, 187))\n        );\n\n        jLayeredPane1.add(Menu, &quot;card2&quot;);\n\n        jLabel1.setText(&quot;test&quot;);\n\n        javax.swing.GroupLayout LibraryLayout = new javax.swing.GroupLayout(Library);\n        Library.setLayout(LibraryLayout);\n        LibraryLayout.setHorizontalGroup(\n            LibraryLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\n            .addGroup(LibraryLayout.createSequentialGroup()\n                .addGap(188, 188, 188)\n                .addComponent(jLabel1, javax.swing.GroupLayout.PREFERRED_SIZE, 55, javax.swing.GroupLayout.PREFERRED_SIZE)\n                .addContainerGap(790, Short.MAX_VALUE))\n        );\n        LibraryLayout.setVerticalGroup(\n            LibraryLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\n            .addGroup(LibraryLayout.createSequentialGroup()\n                .addGap(124, 124, 124)\n                .addComponent(jLabel1, javax.swing.GroupLayout.PREFERRED_SIZE, 51, javax.swing.GroupLayout.PREFERRED_SIZE)\n                .addContainerGap(268, Short.MAX_VALUE))\n        );\n\n        jLayeredPane1.add(Library, &quot;card3&quot;);\n\n        javax.swing.GroupLayout layout = new javax.swing.GroupLayout(getContentPane());\n        getContentPane().setLayout(layout);\n        layout.setHorizontalGroup(\n            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\n            .addGroup(layout.createSequentialGroup()\n                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\n                    .addGroup(layout.createSequentialGroup()\n                        .addContainerGap()\n                        .addComponent(windowPanel, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))\n                    .addComponent(jLayeredPane1))\n                .addContainerGap())\n        );\n        layout.setVerticalGroup(\n            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\n            .addGroup(layout.createSequentialGroup()\n                .addComponent(windowPanel, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)\n                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)\n                .addComponent(jLayeredPane1))\n        );\n\n        pack();\n    }// &lt;/editor-fold&gt;                        \n\n    private void BrowseActionPerformed(java.awt.event.ActionEvent evt) {                                       \n        // TODO add your handling code here:\n    CardLayout cardLayout = (CardLayout) getContentPane().getLayout();\n    cardLayout.show(getContentPane(), &quot;Library&quot;);\n    }                                      \n\n    /**\n     * @param args the command line arguments\n     */\n    public static void main(String args[]) {\n        /* Set the Nimbus look and feel */\n        //&lt;editor-fold defaultstate=&quot;collapsed&quot; desc=&quot; Look and feel setting code (optional) &quot;&gt;\n        /* If Nimbus (introduced in Java SE 6) is not available, stay with the default look and feel.\n         * For details see http://download.oracle.com/javase/tutorial/uiswing/lookandfeel/plaf.html \n         */\n        try {\n            for (javax.swing.UIManager.LookAndFeelInfo info : javax.swing.UIManager.getInstalledLookAndFeels()) {\n                if (&quot;Nimbus&quot;.equals(info.getName())) {\n                    javax.swing.UIManager.setLookAndFeel(info.getClassName());\n                    break;\n                }\n            }\n        } catch (ClassNotFoundException ex) {\n            java.util.logging.Logger.getLogger(Start.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);\n        } catch (InstantiationException ex) {\n            java.util.logging.Logger.getLogger(Start.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);\n        } catch (IllegalAccessException ex) {\n            java.util.logging.Logger.getLogger(Start.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);\n        } catch (javax.swing.UnsupportedLookAndFeelException ex) {\n            java.util.logging.Logger.getLogger(Start.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);\n        }\n        //&lt;/editor-fold&gt;\n\n        /* Create and display the form */\n        java.awt.EventQueue.invokeLater(new Runnable() {\n            public void run() {\n                new Start().setVisible(true);\n            }\n        });\n    }\n    \n    public void switchPanels(Menu panel){\n        \n    }\n\n    // Variables declaration - do not modify                     \n    private javax.swing.JButton Browse;\n    private javax.swing.JPanel Library;\n    private javax.swing.JPanel Menu;\n    private javax.swing.JLabel jLabel1;\n    private javax.swing.JLayeredPane jLayeredPane1;\n    private javax.swing.JScrollPane jScrollPane1;\n    private javax.swing.JTextPane jTextPane1;\n    private javax.swing.JPanel windowPanel;\n    // End of variables declaration                   \n}\n\n</code></pre>\n<p>most of the code is generated automatically by Netbeans' JFrame Form Design tab. the only part that i modify is :</p>\n<pre><code>    private void BrowseActionPerformed(java.awt.event.ActionEvent evt) {                                       \n        // TODO add your handling code here:\n    CardLayout cardLayout = (CardLayout) getContentPane().getLayout();\n    cardLayout.show(getContentPane(), &quot;Library&quot;);\n    } \n</code></pre>\n<p>i watched online tutorials on how to show JPanel from another JPanel, but on my cased it failed by giving me a message on the output whenever i click the button :</p>\n<pre><code>Exception in thread &quot;AWT-EventQueue-0&quot; java.lang.ClassCastException: class javax.swing.GroupLayout cannot be cast to class java.awt.CardLayout (javax.swing.GroupLayout and java.awt.CardLayout are in module java.desktop of loader 'bootstrap')\n    at Main.Start.BrowseActionPerformed(Start.java:139)\n    at Main.Start$1.actionPerformed(Start.java:70)\n    at java.desktop/javax.swing.AbstractButton.fireActionPerformed(AbstractButton.java:1972)\n    at java.desktop/javax.swing.AbstractButton$Handler.actionPerformed(AbstractButton.java:2313)\n    at java.desktop/javax.swing.DefaultButtonModel.fireActionPerformed(DefaultButtonModel.java:405)\n    at java.desktop/javax.swing.DefaultButtonModel.setPressed(DefaultButtonModel.java:262)\n    at java.desktop/javax.swing.plaf.basic.BasicButtonListener.mouseReleased(BasicButtonListener.java:279)\n    at java.desktop/java.awt.Component.processMouseEvent(Component.java:6620)\n    at java.desktop/javax.swing.JComponent.processMouseEvent(JComponent.java:3398)\n    at java.desktop/java.awt.Component.processEvent(Component.java:6385)\n    at java.desktop/java.awt.Container.processEvent(Container.java:2266)\n    at java.desktop/java.awt.Component.dispatchEventImpl(Component.java:4995)\n    at java.desktop/java.awt.Container.dispatchEventImpl(Container.java:2324)\n    at java.desktop/java.awt.Component.dispatchEvent(Component.java:4827)\n    at java.desktop/java.awt.LightweightDispatcher.retargetMouseEvent(Container.java:4948)\n    at java.desktop/java.awt.LightweightDispatcher.processMouseEvent(Container.java:4575)\n    at java.desktop/java.awt.LightweightDispatcher.dispatchEvent(Container.java:4516)\n    at java.desktop/java.awt.Container.dispatchEventImpl(Container.java:2310)\n    at java.desktop/java.awt.Window.dispatchEventImpl(Window.java:2780)\n    at java.desktop/java.awt.Component.dispatchEvent(Component.java:4827)\n    at java.desktop/java.awt.EventQueue.dispatchEventImpl(EventQueue.java:775)\n    at java.desktop/java.awt.EventQueue$4.run(EventQueue.java:720)\n    at java.desktop/java.awt.EventQueue$4.run(EventQueue.java:714)\n    at java.base/java.security.AccessController.doPrivileged(AccessController.java:399)\n    at java.base/java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:86)\n    at java.base/java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:97)\n    at java.desktop/java.awt.EventQueue$5.run(EventQueue.java:747)\n    at java.desktop/java.awt.EventQueue$5.run(EventQueue.java:745)\n    at java.base/java.security.AccessController.doPrivileged(AccessController.java:399)\n    at java.base/java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:86)\n    at java.desktop/java.awt.EventQueue.dispatchEvent(EventQueue.java:744)\n    at java.desktop/java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:203)\n    at java.desktop/java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:124)\n    at java.desktop/java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:113)\n    at java.desktop/java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:109)\n    at java.desktop/java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:101)\n    at java.desktop/java.awt.EventDispatchThread.run(EventDispatchThread.java:90)\n\n</code></pre>\n<p>below is the screenshot of the Navigator tab of my components (at that part is showing the &quot;Menu&quot;  panel which has the button that i would want to show the &quot;Library&quot; panel when clicked :</p>\n<p><a href=\"https://i.stack.imgur.com/FgXoa.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>i'm sure something is wrong on my code :(...any help would be appreciated</p>\n<p>I tried asking the code from ChatGPT and watching online tutorials</p>\n"},{"tags":["java","apache-beam","auto-value"],"answers":[{"tags":[],"owner":{"account_id":1306443,"reputation":10595,"user_id":1255356,"accept_rate":84,"display_name":"Pablo"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1681141468,"creation_date":1581275761,"answer_id":60140367,"question_id":60140366,"body_markdown":"This error occurs because ByteBuddy and the Java reflection utilities are not able to infer the parameter names of your `@SchemaCreate` method (thus complaining about some unknown parameter `arg0` - this is the default name).\r\n\r\nTo ensure Java reflection can find the parameter names, you need to instruct the compiler to include this information. If you are building with Maven, you can do it this way:\r\n\r\n```\r\n&lt;properties&gt;\r\n    &lt;!-- PLUGIN VERSIONS --&gt;\r\n    &lt;maven-compiler-plugin.version&gt;3.1&lt;/maven-compiler-plugin.version&gt;\r\n\r\n    &lt;!-- OTHER PROPERTIES --&gt;\r\n    &lt;java.version&gt;1.8&lt;/java.version&gt;\r\n&lt;/properties&gt;\r\n\r\n&lt;build&gt;\r\n    &lt;plugins&gt;\r\n        &lt;plugin&gt;\r\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n            &lt;version&gt;${maven-compiler-plugin.version}&lt;/version&gt;\r\n            &lt;configuration&gt;\r\n                &lt;!-- Original answer --&gt;\r\n                &lt;compilerArgument&gt;-parameters&lt;/compilerArgument&gt;\r\n                &lt;!-- Or, if you use the plugin version &gt;= 3.6.2 --&gt;\r\n                &lt;parameters&gt;true&lt;/parameters&gt;\r\n                &lt;testCompilerArgument&gt;-parameters&lt;/testCompilerArgument&gt;\r\n                &lt;source&gt;${java.version}&lt;/source&gt;\r\n                &lt;target&gt;${java.version}&lt;/target&gt;\r\n            &lt;/configuration&gt;\r\n        &lt;/plugin&gt;\r\n    &lt;/plugins&gt;\r\n&lt;/build&gt;\r\n```\r\n\r\n**Note:** To accomplish the same thing with Gradle, use [this answer](https://stackoverflow.com/a/37482148/1255356).","title":"Using AutoValueSchema in Apache Beam PCollection gives `RuntimeException: Creator parameter arg0 Doesn&#39;t correspond to a schema field`","body":"<p>This error occurs because ByteBuddy and the Java reflection utilities are not able to infer the parameter names of your <code>@SchemaCreate</code> method (thus complaining about some unknown parameter <code>arg0</code> - this is the default name).</p>\n<p>To ensure Java reflection can find the parameter names, you need to instruct the compiler to include this information. If you are building with Maven, you can do it this way:</p>\n<pre><code>&lt;properties&gt;\n    &lt;!-- PLUGIN VERSIONS --&gt;\n    &lt;maven-compiler-plugin.version&gt;3.1&lt;/maven-compiler-plugin.version&gt;\n\n    &lt;!-- OTHER PROPERTIES --&gt;\n    &lt;java.version&gt;1.8&lt;/java.version&gt;\n&lt;/properties&gt;\n\n&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n            &lt;version&gt;${maven-compiler-plugin.version}&lt;/version&gt;\n            &lt;configuration&gt;\n                &lt;!-- Original answer --&gt;\n                &lt;compilerArgument&gt;-parameters&lt;/compilerArgument&gt;\n                &lt;!-- Or, if you use the plugin version &gt;= 3.6.2 --&gt;\n                &lt;parameters&gt;true&lt;/parameters&gt;\n                &lt;testCompilerArgument&gt;-parameters&lt;/testCompilerArgument&gt;\n                &lt;source&gt;${java.version}&lt;/source&gt;\n                &lt;target&gt;${java.version}&lt;/target&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n<p><strong>Note:</strong> To accomplish the same thing with Gradle, use <a href=\"https://stackoverflow.com/a/37482148/1255356\">this answer</a>.</p>\n"}],"owner":{"account_id":1306443,"reputation":10595,"user_id":1255356,"accept_rate":84,"display_name":"Pablo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1546,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":60140367,"answer_count":1,"score":2,"last_activity_date":1681141468,"creation_date":1581275761,"question_id":60140366,"body_markdown":"I am trying to have a PCollection of AutoValue-defined objects that I have created, and I&#39;ve added the appropriate annotations to infer the Schema via `DefaultSchema(AutoValueSchema.class)`. Like so:\r\n\r\n```\r\n@DefaultSchema(AutoValueSchema.class)\r\n@AutoValue\r\npublic abstract class MyAutoClas {\r\n  public abstract String getMyStr();\r\n  public abstract Integer getMyInt();\r\n\r\n  @CreateSchema\r\n  public static MyAutoClass create(String myStr, Integer myInt) {\r\n    return new AutoValue_MyAutoClass(myStr, myInt);\r\n  }\r\n}\r\n```\r\n\r\nI have a small test case that looks like this:\r\n\r\n```\r\nPCollection&lt;KV&lt;String, MyAutoClass&gt;&gt; result = pipeline\r\n    .apply(Create.of(MyAutoClass.create(&quot;abc&quot;, 1)))\r\n    .apply(WithKeys.of(in -&gt; in.getMyStr()));\r\n\r\nPAssert.that(result).containsInAnyOrder(KV.of(&quot;abc&quot;, MyAutoClass.create(&quot;abc&quot;, 1)));\r\npipeline.run().waitUntilFinish();\r\n```\r\n\r\nWhen I try to run this, I am seeing the following errors:\r\n\r\n```\r\n[ERROR] testMyAutoValueClass(.....)  Time elapsed: 1.891 s  &lt;&lt;&lt; ERROR!\r\njava.lang.RuntimeException: Creator parameter arg0 Doesn&#39;t correspond to a schema field\r\n\tat org.apache.beam.sdk.schemas.utils.ByteBuddyUtils$InvokeUserCreateInstruction.&lt;init&gt;(ByteBuddyUtils.java:717)\r\n\tat org.apache.beam.sdk.schemas.utils.ByteBuddyUtils$StaticFactoryMethodInstruction.&lt;init&gt;(ByteBuddyUtils.java:660)\r\n\tat org.apache.beam.sdk.schemas.utils.JavaBeanUtils.createStaticCreator(JavaBeanUtils.java:284)\r\n\tat org.apache.beam.sdk.schemas.utils.JavaBeanUtils.lambda$getStaticCreator$4(JavaBeanUtils.java:273)\r\n\tat java.util.concurrent.ConcurrentHashMap.computeIfAbsent(ConcurrentHashMap.java:1664)\r\n\tat org.apache.beam.sdk.schemas.utils.JavaBeanUtils.getStaticCreator(JavaBeanUtils.java:269)\r\n\tat org.apache.beam.sdk.schemas.AutoValueSchema.lambda$schemaTypeCreatorFactory$673bce5b$1(AutoValueSchema.java:80)\r\n\tat org.apache.beam.sdk.schemas.UserTypeCreatorFactory.create(UserTypeCreatorFactory.java:21)\r\n  ....... [ETCETERA] ......\r\n```","title":"Using AutoValueSchema in Apache Beam PCollection gives `RuntimeException: Creator parameter arg0 Doesn&#39;t correspond to a schema field`","body":"<p>I am trying to have a PCollection of AutoValue-defined objects that I have created, and I've added the appropriate annotations to infer the Schema via <code>DefaultSchema(AutoValueSchema.class)</code>. Like so:</p>\n\n<pre><code>@DefaultSchema(AutoValueSchema.class)\n@AutoValue\npublic abstract class MyAutoClas {\n  public abstract String getMyStr();\n  public abstract Integer getMyInt();\n\n  @CreateSchema\n  public static MyAutoClass create(String myStr, Integer myInt) {\n    return new AutoValue_MyAutoClass(myStr, myInt);\n  }\n}\n</code></pre>\n\n<p>I have a small test case that looks like this:</p>\n\n<pre><code>PCollection&lt;KV&lt;String, MyAutoClass&gt;&gt; result = pipeline\n    .apply(Create.of(MyAutoClass.create(\"abc\", 1)))\n    .apply(WithKeys.of(in -&gt; in.getMyStr()));\n\nPAssert.that(result).containsInAnyOrder(KV.of(\"abc\", MyAutoClass.create(\"abc\", 1)));\npipeline.run().waitUntilFinish();\n</code></pre>\n\n<p>When I try to run this, I am seeing the following errors:</p>\n\n<pre><code>[ERROR] testMyAutoValueClass(.....)  Time elapsed: 1.891 s  &lt;&lt;&lt; ERROR!\njava.lang.RuntimeException: Creator parameter arg0 Doesn't correspond to a schema field\n    at org.apache.beam.sdk.schemas.utils.ByteBuddyUtils$InvokeUserCreateInstruction.&lt;init&gt;(ByteBuddyUtils.java:717)\n    at org.apache.beam.sdk.schemas.utils.ByteBuddyUtils$StaticFactoryMethodInstruction.&lt;init&gt;(ByteBuddyUtils.java:660)\n    at org.apache.beam.sdk.schemas.utils.JavaBeanUtils.createStaticCreator(JavaBeanUtils.java:284)\n    at org.apache.beam.sdk.schemas.utils.JavaBeanUtils.lambda$getStaticCreator$4(JavaBeanUtils.java:273)\n    at java.util.concurrent.ConcurrentHashMap.computeIfAbsent(ConcurrentHashMap.java:1664)\n    at org.apache.beam.sdk.schemas.utils.JavaBeanUtils.getStaticCreator(JavaBeanUtils.java:269)\n    at org.apache.beam.sdk.schemas.AutoValueSchema.lambda$schemaTypeCreatorFactory$673bce5b$1(AutoValueSchema.java:80)\n    at org.apache.beam.sdk.schemas.UserTypeCreatorFactory.create(UserTypeCreatorFactory.java:21)\n  ....... [ETCETERA] ......\n</code></pre>\n"},{"tags":["java","garbage-collection","jvm","jvm-arguments","cassandra-2.1"],"comments":[{"owner":{"account_id":4210603,"reputation":94356,"user_id":3448419,"display_name":"apangin"},"score":3,"creation_date":1636556091,"post_id":69913079,"comment_id":123589018,"body_markdown":"`-Xlog:gc=info:file=/var/log/cassandra/gc.log::filecount=10,filesize=10M` should work. Make sure `/var/log/cassandra` directory exists and writable.","body":"<code>-Xlog:gc=info:file=&#47;var&#47;log&#47;cassandra&#47;gc.log::filecount=10,f&zwnj;&#8203;ilesize=10M</code> should work. Make sure <code>&#47;var&#47;log&#47;cassandra</code> directory exists and writable."},{"owner":{"account_id":280090,"reputation":6832,"user_id":575596,"accept_rate":94,"display_name":"MeanwhileInHell"},"score":0,"creation_date":1636567616,"post_id":69913079,"comment_id":123594139,"body_markdown":"Thanks for your suggestion.  I&#39;m still getting `Invalid -Xlog option &#39;-Xlog:gc=info:file=/var/log/cassandra/gc.log::filecount=10,filesize=10M&#39;, see error log for details.` with that.  It must be something else at play, what you&#39;ve suggested should 100% work.  Java version is `11.0.11` `Java HotSpot(TM) 64-Bit Server`","body":"Thanks for your suggestion.  I&#39;m still getting <code>Invalid -Xlog option &#39;-Xlog:gc=info:file=&#47;var&#47;log&#47;cassandra&#47;gc.log::filecount=10,&zwnj;&#8203;filesize=10M&#39;, see error log for details.</code> with that.  It must be something else at play, what you&#39;ve suggested should 100% work.  Java version is <code>11.0.11</code> <code>Java HotSpot(TM) 64-Bit Server</code>"},{"owner":{"account_id":4210603,"reputation":94356,"user_id":3448419,"display_name":"apangin"},"score":0,"creation_date":1636587533,"post_id":69913079,"comment_id":123600543,"body_markdown":"Look for the error messages *above* this `Invalid -Xlog option` message. Apparently, the JVM cannot create the given file due to some I/O problem.","body":"Look for the error messages <i>above</i> this <code>Invalid -Xlog option</code> message. Apparently, the JVM cannot create the given file due to some I/O problem."}],"answers":[{"tags":[],"owner":{"account_id":60456,"reputation":55961,"user_id":1054558,"accept_rate":100,"display_name":"Aaron"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1681141367,"creation_date":1681141367,"answer_id":75978530,"question_id":69913079,"body_markdown":"If this is for getting Cassandra 2.1 to run, the highest Java version you can run it on is Java 8.\r\n\r\nIf you want to run Cassandra on Java 11, you need to upgrade to Cassandra 4.0 or 4.1.","title":"JVM 11 GC log rotation : Initialization of output &#39;file=/var/log/cassandra/gc.log&#39; using options &#39;(null)&#39; failed","body":"<p>If this is for getting Cassandra 2.1 to run, the highest Java version you can run it on is Java 8.</p>\n<p>If you want to run Cassandra on Java 11, you need to upgrade to Cassandra 4.0 or 4.1.</p>\n"}],"owner":{"account_id":280090,"reputation":6832,"user_id":575596,"accept_rate":94,"display_name":"MeanwhileInHell"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2945,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":75978530,"answer_count":1,"score":3,"last_activity_date":1681141367,"creation_date":1636546409,"question_id":69913079,"body_markdown":"I am trying to update some older JVM GC log rotation options to be compatible with Java 11.  Previously, using Java 8 I had:\r\n\r\n```\r\n-Xloggc:/var/log/cassandra/gc.log&quot;\r\n-XX:+UseGCLogFileRotation&quot;\r\n-XX:NumberOfGCLogFiles=10&quot;\r\n-XX:GCLogFileSize=10M\r\n```\r\n\r\nHowever, now the last three are invalid and I have been trying in vain to figure out the correct replacement.  I have looked at any number of blogs and SO questions, but cannot get them right.\r\n\r\nThe last attempt was:\r\n\r\n```\r\nJVM_OPTS=&quot;$JVM_OPTS -Xloggc:filesize=10M:filecount=10&quot;\r\nJVM_OPTS=&quot;$JVM_OPTS -Xloggc:/var/log/cassandra/gc.log&quot;\r\n```\r\n\r\nwhich resulted in:\r\n\r\n```\r\n[0.002s][warning][gc] -Xloggc is deprecated. Will use -Xlog:gc:filesize=10M:filecount=10 instead.\r\n[0.002s][warning][gc] -Xloggc is deprecated. Will use -Xlog:gc:/var/log/cassandra/gc.log instead.\r\n[0.002s][error  ][logging] Initialization of output &#39;file=/var/log/cassandra/gc.log&#39; using options &#39;(null)&#39; failed.\r\nError: Could not create the Java Virtual Machine.\r\nError: A fatal exception has occurred. Program will exit.\r\n```\r\n(Oddly, if i change my option to include the additional `:` it tells me its invalid)\r\n\r\nI have tried:\r\n\r\n```\r\n-Xlog:gc:none:/var/log/cassandra/gc.log:filesize=10M:filecount=10\r\n\r\n-Xlog:gc:none:file=/var/log/cassandra/gc.log:filesize=10M:filecount=10\r\n\r\n-Xloggc:/var/log/cassandra/gc.log\r\n-Xlog:gc:::filesize=10M:filecount=10\r\n\r\n-Xlog:gc,safepoint:gc.log::filecount=10,filesize=10M\r\n\r\n-Xlog:gc*,safepoint:gc.log:time,uptime:filecount=10,filesize=10M\r\n```\r\n\r\nNothing I have tried works, with either an error of an invalid arg, or the `(null)` error above.\r\n\r\nAll I am trying to achieve is to have my `gc.log` files roll over when they hit 10M, keep 10 of them, and to write to `/var/log/cassandra/gc.log`.\r\n\r\n** EDIT **\r\n\r\nRemoving the rotation args entirely and just keeping\r\n```\r\n-Xloggc:/var/log/cassandra/gc.log\r\n```\r\ngives me the same error \r\n```\r\n[0.002s][error  ][logging] Initialization of output &#39;file=/var/log/cassandra/gc.log&#39; using options &#39;(null)&#39; failed.\r\nError: Could not create the Java Virtual Machine.\r\nError: A fatal exception has occurred. Program will exit.\r\n```","title":"JVM 11 GC log rotation : Initialization of output &#39;file=/var/log/cassandra/gc.log&#39; using options &#39;(null)&#39; failed","body":"<p>I am trying to update some older JVM GC log rotation options to be compatible with Java 11.  Previously, using Java 8 I had:</p>\n<pre><code>-Xloggc:/var/log/cassandra/gc.log&quot;\n-XX:+UseGCLogFileRotation&quot;\n-XX:NumberOfGCLogFiles=10&quot;\n-XX:GCLogFileSize=10M\n</code></pre>\n<p>However, now the last three are invalid and I have been trying in vain to figure out the correct replacement.  I have looked at any number of blogs and SO questions, but cannot get them right.</p>\n<p>The last attempt was:</p>\n<pre><code>JVM_OPTS=&quot;$JVM_OPTS -Xloggc:filesize=10M:filecount=10&quot;\nJVM_OPTS=&quot;$JVM_OPTS -Xloggc:/var/log/cassandra/gc.log&quot;\n</code></pre>\n<p>which resulted in:</p>\n<pre><code>[0.002s][warning][gc] -Xloggc is deprecated. Will use -Xlog:gc:filesize=10M:filecount=10 instead.\n[0.002s][warning][gc] -Xloggc is deprecated. Will use -Xlog:gc:/var/log/cassandra/gc.log instead.\n[0.002s][error  ][logging] Initialization of output 'file=/var/log/cassandra/gc.log' using options '(null)' failed.\nError: Could not create the Java Virtual Machine.\nError: A fatal exception has occurred. Program will exit.\n</code></pre>\n<p>(Oddly, if i change my option to include the additional <code>:</code> it tells me its invalid)</p>\n<p>I have tried:</p>\n<pre><code>-Xlog:gc:none:/var/log/cassandra/gc.log:filesize=10M:filecount=10\n\n-Xlog:gc:none:file=/var/log/cassandra/gc.log:filesize=10M:filecount=10\n\n-Xloggc:/var/log/cassandra/gc.log\n-Xlog:gc:::filesize=10M:filecount=10\n\n-Xlog:gc,safepoint:gc.log::filecount=10,filesize=10M\n\n-Xlog:gc*,safepoint:gc.log:time,uptime:filecount=10,filesize=10M\n</code></pre>\n<p>Nothing I have tried works, with either an error of an invalid arg, or the <code>(null)</code> error above.</p>\n<p>All I am trying to achieve is to have my <code>gc.log</code> files roll over when they hit 10M, keep 10 of them, and to write to <code>/var/log/cassandra/gc.log</code>.</p>\n<p>** EDIT **</p>\n<p>Removing the rotation args entirely and just keeping</p>\n<pre><code>-Xloggc:/var/log/cassandra/gc.log\n</code></pre>\n<p>gives me the same error</p>\n<pre><code>[0.002s][error  ][logging] Initialization of output 'file=/var/log/cassandra/gc.log' using options '(null)' failed.\nError: Could not create the Java Virtual Machine.\nError: A fatal exception has occurred. Program will exit.\n</code></pre>\n"},{"tags":["java","maven","plugins","maven-plugin"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1681073570,"post_id":75972786,"comment_id":133996319,"body_markdown":"As i know there is no possibility to order plugin executions in the same phase","body":"As i know there is no possibility to order plugin executions in the same phase"},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":1,"creation_date":1681077355,"post_id":75972786,"comment_id":133996724,"body_markdown":"The cleanest way is to use different life cycle phases... otherwise the order of the plugins in the xml is relevant... That means the echo-maven-plugin is defined in the same phase as the antrun-plugin and defined before the antrun-plugin (ordered in the xml file) which means both execution of the echo-maven-plugin will be done before... the question is why do you need that? And why do you bind antrun plugin into compile phase? For What purpose?","body":"The cleanest way is to use different life cycle phases... otherwise the order of the plugins in the xml is relevant... That means the echo-maven-plugin is defined in the same phase as the antrun-plugin and defined before the antrun-plugin (ordered in the xml file) which means both execution of the echo-maven-plugin will be done before... the question is why do you need that? And why do you bind antrun plugin into compile phase? For What purpose?"},{"owner":{"account_id":15204139,"reputation":11,"user_id":13899961,"display_name":"Jacek Karwatka"},"score":0,"creation_date":1681139108,"post_id":75972786,"comment_id":134004592,"body_markdown":"In my original problem, I had two plugins called in the same phase. The first plugin sets properties, the second one uses them for work. Sometimes that solution does not work properly,  so I want to display the values of properties using echo-maven-plugin before and after the first plugin run.  I want to use echo-maven-plugin temporarily as a debugger to inspect the values of properties, but I am unable to precisely control the order of calling them. Is it even possible?","body":"In my original problem, I had two plugins called in the same phase. The first plugin sets properties, the second one uses them for work. Sometimes that solution does not work properly,  so I want to display the values of properties using echo-maven-plugin before and after the first plugin run.  I want to use echo-maven-plugin temporarily as a debugger to inspect the values of properties, but I am unable to precisely control the order of calling them. Is it even possible?"}],"answers":[{"tags":[],"owner":{"account_id":888714,"reputation":34077,"user_id":927493,"accept_rate":61,"display_name":"J Fabian Meier"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681141347,"creation_date":1681141347,"answer_id":75978528,"question_id":75972786,"body_markdown":"Put the plugins into different life cycle phases. Everything else is just brittle.","title":"How to set the order of maven plugins executions in the same phase and from different plugins","body":"<p>Put the plugins into different life cycle phases. Everything else is just brittle.</p>\n"}],"owner":{"account_id":15204139,"reputation":11,"user_id":13899961,"display_name":"Jacek Karwatka"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":74,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1681141347,"creation_date":1681073140,"question_id":75972786,"body_markdown":"I want to print messages before I run the maven plugin and after it.\r\n\r\nI try something like that:\r\n\r\n```\r\n&lt;plugins&gt;\r\n  &lt;plugin&gt;\r\n    &lt;groupId&gt;com.soebes.maven.plugins&lt;/groupId&gt;\r\n    &lt;artifactId&gt;echo-maven-plugin&lt;/artifactId&gt;\r\n    &lt;version&gt;0.5.0&lt;/version&gt;\r\n    &lt;executions&gt;\r\n      &lt;execution&gt;\r\n        &lt;id&gt;echo-before-call-plugin&lt;/id&gt;\r\n        &lt;phase&gt;compile&lt;/phase&gt;\r\n        &lt;goals&gt;\r\n          &lt;goal&gt;echo&lt;/goal&gt;\r\n        &lt;/goals&gt;\r\n        &lt;configuration&gt;\r\n        &lt;echos&gt;\r\n          &lt;echo&gt;Before run plugin antrun.&lt;/echo&gt;\r\n        &lt;/echos&gt;\r\n      &lt;/configuration&gt;\r\n    &lt;/execution&gt;\r\n  &lt;/plugin&gt;\r\n\r\n  &lt;plugin&gt;\r\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n    &lt;artifactId&gt;maven-antrun-plugin&lt;/artifactId&gt;\r\n    &lt;executions&gt;\r\n      &lt;execution&gt;\r\n        &lt;phase&gt;compile&lt;/phase&gt;\r\n          &lt;configuration&gt;\r\n            &lt;tasks&gt;\r\n                    .....\r\n            &lt;/tasks&gt;\r\n          &lt;/configuration&gt;\r\n          &lt;goals&gt;\r\n            &lt;goal&gt;run&lt;/goal&gt;\r\n          &lt;/goals&gt;\r\n        &lt;/execution&gt;\r\n    &lt;/executions&gt;\r\n  &lt;/plugin&gt;\r\n\r\n  &lt;plugin&gt;\r\n    &lt;groupId&gt;com.soebes.maven.plugins&lt;/groupId&gt;\r\n    &lt;artifactId&gt;echo-maven-plugin&lt;/artifactId&gt;\r\n    &lt;version&gt;0.5.0&lt;/version&gt;\r\n    &lt;executions&gt;\r\n      &lt;execution&gt;\r\n        &lt;id&gt;echo-before-call-plugin&lt;/id&gt;\r\n        &lt;phase&gt;compile&lt;/phase&gt;\r\n        &lt;goals&gt;\r\n          &lt;goal&gt;echo&lt;/goal&gt;\r\n        &lt;/goals&gt;\r\n        &lt;configuration&gt;\r\n        &lt;echos&gt;\r\n          &lt;echo&gt;After run plugin antrun.&lt;/echo&gt;\r\n        &lt;/echos&gt;\r\n      &lt;/configuration&gt;\r\n    &lt;/execution&gt;\r\n  &lt;/plugin&gt;\r\n&lt;/plugins&gt;\r\n```\r\n\r\nBut it gets an error - in the \\*.pom file we can use the plugin only once.\r\n\r\nNext I try like this:\r\n\r\n```\r\n&lt;plugins&gt;\r\n  &lt;plugin&gt;\r\n    &lt;groupId&gt;com.soebes.maven.plugins&lt;/groupId&gt;\r\n    &lt;artifactId&gt;echo-maven-plugin&lt;/artifactId&gt;\r\n    &lt;version&gt;0.5.0&lt;/version&gt;\r\n    &lt;executions&gt;\r\n      &lt;execution&gt;\r\n        &lt;id&gt;echo-before-call-plugin&lt;/id&gt;\r\n        &lt;phase&gt;compile&lt;/phase&gt;\r\n        &lt;goals&gt;\r\n          &lt;goal&gt;echo&lt;/goal&gt;\r\n        &lt;/goals&gt;\r\n        &lt;configuration&gt;\r\n        &lt;echos&gt;\r\n          &lt;echo&gt;Before run plugin antrun.&lt;/echo&gt;\r\n        &lt;/echos&gt;\r\n      &lt;/configuration&gt;\r\n    &lt;/execution&gt;\r\n    \r\n     &lt;execution&gt;\r\n        &lt;id&gt;echo-after-call-plugin&lt;/id&gt;\r\n        &lt;phase&gt;compile&lt;/phase&gt;\r\n        &lt;goals&gt;\r\n          &lt;goal&gt;echo&lt;/goal&gt;\r\n        &lt;/goals&gt;\r\n        &lt;configuration&gt;\r\n        &lt;echos&gt;\r\n          &lt;echo&gt;After run plugin antrun.&lt;/echo&gt;\r\n        &lt;/echos&gt;\r\n      &lt;/configuration&gt;\r\n    &lt;/execution&gt;\r\n  &lt;/plugin&gt;\r\n\r\n  &lt;plugin&gt;\r\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n    &lt;artifactId&gt;maven-antrun-plugin&lt;/artifactId&gt;\r\n    &lt;executions&gt;\r\n      &lt;execution&gt;\r\n        &lt;phase&gt;compile&lt;/phase&gt;\r\n          &lt;configuration&gt;\r\n            &lt;tasks&gt;\r\n                    .....\r\n            &lt;/tasks&gt;\r\n          &lt;/configuration&gt;\r\n          &lt;goals&gt;\r\n            &lt;goal&gt;run&lt;/goal&gt;\r\n          &lt;/goals&gt;\r\n        &lt;/execution&gt;\r\n    &lt;/executions&gt;\r\n  &lt;/plugin&gt;\r\n&lt;/plugins&gt;\r\n```\r\n\r\nThere is no error but both messages are printed before runing the antrun plugin. How to force to print the first mesege before runig plugin, and second after it.","title":"How to set the order of maven plugins executions in the same phase and from different plugins","body":"<p>I want to print messages before I run the maven plugin and after it.</p>\n<p>I try something like that:</p>\n<pre><code>&lt;plugins&gt;\n  &lt;plugin&gt;\n    &lt;groupId&gt;com.soebes.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;echo-maven-plugin&lt;/artifactId&gt;\n    &lt;version&gt;0.5.0&lt;/version&gt;\n    &lt;executions&gt;\n      &lt;execution&gt;\n        &lt;id&gt;echo-before-call-plugin&lt;/id&gt;\n        &lt;phase&gt;compile&lt;/phase&gt;\n        &lt;goals&gt;\n          &lt;goal&gt;echo&lt;/goal&gt;\n        &lt;/goals&gt;\n        &lt;configuration&gt;\n        &lt;echos&gt;\n          &lt;echo&gt;Before run plugin antrun.&lt;/echo&gt;\n        &lt;/echos&gt;\n      &lt;/configuration&gt;\n    &lt;/execution&gt;\n  &lt;/plugin&gt;\n\n  &lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-antrun-plugin&lt;/artifactId&gt;\n    &lt;executions&gt;\n      &lt;execution&gt;\n        &lt;phase&gt;compile&lt;/phase&gt;\n          &lt;configuration&gt;\n            &lt;tasks&gt;\n                    .....\n            &lt;/tasks&gt;\n          &lt;/configuration&gt;\n          &lt;goals&gt;\n            &lt;goal&gt;run&lt;/goal&gt;\n          &lt;/goals&gt;\n        &lt;/execution&gt;\n    &lt;/executions&gt;\n  &lt;/plugin&gt;\n\n  &lt;plugin&gt;\n    &lt;groupId&gt;com.soebes.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;echo-maven-plugin&lt;/artifactId&gt;\n    &lt;version&gt;0.5.0&lt;/version&gt;\n    &lt;executions&gt;\n      &lt;execution&gt;\n        &lt;id&gt;echo-before-call-plugin&lt;/id&gt;\n        &lt;phase&gt;compile&lt;/phase&gt;\n        &lt;goals&gt;\n          &lt;goal&gt;echo&lt;/goal&gt;\n        &lt;/goals&gt;\n        &lt;configuration&gt;\n        &lt;echos&gt;\n          &lt;echo&gt;After run plugin antrun.&lt;/echo&gt;\n        &lt;/echos&gt;\n      &lt;/configuration&gt;\n    &lt;/execution&gt;\n  &lt;/plugin&gt;\n&lt;/plugins&gt;\n</code></pre>\n<p>But it gets an error - in the *.pom file we can use the plugin only once.</p>\n<p>Next I try like this:</p>\n<pre><code>&lt;plugins&gt;\n  &lt;plugin&gt;\n    &lt;groupId&gt;com.soebes.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;echo-maven-plugin&lt;/artifactId&gt;\n    &lt;version&gt;0.5.0&lt;/version&gt;\n    &lt;executions&gt;\n      &lt;execution&gt;\n        &lt;id&gt;echo-before-call-plugin&lt;/id&gt;\n        &lt;phase&gt;compile&lt;/phase&gt;\n        &lt;goals&gt;\n          &lt;goal&gt;echo&lt;/goal&gt;\n        &lt;/goals&gt;\n        &lt;configuration&gt;\n        &lt;echos&gt;\n          &lt;echo&gt;Before run plugin antrun.&lt;/echo&gt;\n        &lt;/echos&gt;\n      &lt;/configuration&gt;\n    &lt;/execution&gt;\n    \n     &lt;execution&gt;\n        &lt;id&gt;echo-after-call-plugin&lt;/id&gt;\n        &lt;phase&gt;compile&lt;/phase&gt;\n        &lt;goals&gt;\n          &lt;goal&gt;echo&lt;/goal&gt;\n        &lt;/goals&gt;\n        &lt;configuration&gt;\n        &lt;echos&gt;\n          &lt;echo&gt;After run plugin antrun.&lt;/echo&gt;\n        &lt;/echos&gt;\n      &lt;/configuration&gt;\n    &lt;/execution&gt;\n  &lt;/plugin&gt;\n\n  &lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-antrun-plugin&lt;/artifactId&gt;\n    &lt;executions&gt;\n      &lt;execution&gt;\n        &lt;phase&gt;compile&lt;/phase&gt;\n          &lt;configuration&gt;\n            &lt;tasks&gt;\n                    .....\n            &lt;/tasks&gt;\n          &lt;/configuration&gt;\n          &lt;goals&gt;\n            &lt;goal&gt;run&lt;/goal&gt;\n          &lt;/goals&gt;\n        &lt;/execution&gt;\n    &lt;/executions&gt;\n  &lt;/plugin&gt;\n&lt;/plugins&gt;\n</code></pre>\n<p>There is no error but both messages are printed before runing the antrun plugin. How to force to print the first mesege before runig plugin, and second after it.</p>\n"},{"tags":["java","spring-boot","docker"],"answers":[{"tags":[],"owner":{"account_id":25821567,"reputation":1,"user_id":19560554,"display_name":"seroze"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657960128,"creation_date":1657960128,"answer_id":73002708,"question_id":73002090,"body_markdown":"add springboot-docker dir to your $PATH variable. \r\n\r\nbasically the shell is not able to find the mvnw command, it looks for all the locations in the $PATH var. since your mvnw binary is located in your project dir you need to add it. \r\n\r\nif this was in a linux environment it would be done like this\r\nexport PATH=$PATH:./springboot-docker\r\n\r\nfor windows you can search online how this can be edited.","title":"unable to start container process: exec: &quot;mvnw&quot;: executable file not found in $PATH: unknown","body":"<p>add springboot-docker dir to your $PATH variable.</p>\n<p>basically the shell is not able to find the mvnw command, it looks for all the locations in the $PATH var. since your mvnw binary is located in your project dir you need to add it.</p>\n<p>if this was in a linux environment it would be done like this\nexport PATH=$PATH:./springboot-docker</p>\n<p>for windows you can search online how this can be edited.</p>\n"},{"tags":[],"owner":{"account_id":277005,"reputation":1859,"user_id":570724,"accept_rate":40,"display_name":"tianwei"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657963831,"creation_date":1657963831,"answer_id":73003075,"question_id":73002090,"body_markdown":"Change  `CMD [ &quot;mvnw&quot;, &quot;spring-boot:run&quot; ]` to `CMD [ &quot;./mvnw&quot;, &quot;spring-boot:run&quot; ]` \r\n\r\nWhen your docker want to execute command `mvnw springboot:run`, it needs to find   file `mvnw` in environment  $PATH， but find none.\r\n\r\nChange `mvnw` to `./mvnw` which will tell docker to execute the `mvnw` file in current work directory(where you have copied `mvnw` before).","title":"unable to start container process: exec: &quot;mvnw&quot;: executable file not found in $PATH: unknown","body":"<p>Change  <code>CMD [ &quot;mvnw&quot;, &quot;spring-boot:run&quot; ]</code> to <code>CMD [ &quot;./mvnw&quot;, &quot;spring-boot:run&quot; ]</code></p>\n<p>When your docker want to execute command <code>mvnw springboot:run</code>, it needs to find   file <code>mvnw</code> in environment  $PATH， but find none.</p>\n<p>Change <code>mvnw</code> to <code>./mvnw</code> which will tell docker to execute the <code>mvnw</code> file in current work directory(where you have copied <code>mvnw</code> before).</p>\n"},{"tags":[],"owner":{"account_id":14136698,"reputation":421,"user_id":10212903,"display_name":"Otobong Jerome"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666939426,"creation_date":1666939426,"answer_id":74231531,"question_id":73002090,"body_markdown":"it&#39;s a permission problem, common on linux docker compose.\r\nIn my case it worked when I REMOVED sudo.\r\n\r\ni.e\r\n\r\n```docker-compose up``` instead of ``` sudo docker-compose up``` \r\n\r\nyou can also try adding ```sudo chmod -R a+rwx``` to the working directory in Dockerfile","title":"unable to start container process: exec: &quot;mvnw&quot;: executable file not found in $PATH: unknown","body":"<p>it's a permission problem, common on linux docker compose.\nIn my case it worked when I REMOVED sudo.</p>\n<p>i.e</p>\n<p><code>docker-compose up</code> instead of <code> sudo docker-compose up</code></p>\n<p>you can also try adding <code>sudo chmod -R a+rwx</code> to the working directory in Dockerfile</p>\n"}],"owner":{"account_id":4597208,"reputation":48209,"user_id":3728901,"accept_rate":58,"display_name":"Vy Do"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2326,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1681140799,"creation_date":1657953708,"question_id":73002090,"body_markdown":"This is my source code https://github.com/donhuvy/springboot-docker . I follow guide at tutorial video https://www.youtube.com/watch?v=7BCtc9cAS6o . File `Dockerfile`\r\n\r\n```\r\n# syntax=docker/dockerfile:1\r\n#Which &quot;official Java image&quot; ?\r\nFROM openjdk:oraclelinux8\r\n#working directory\r\nWORKDIR /app\r\n#copy from your Host(PC, laptop) to container\r\nCOPY .mvn/ .mvn\r\nCOPY mvnw pom.xml ./\r\n#Run this inside the image\r\nRUN ./mvnw dependency:go-offline\r\nCOPY src ./src\r\n#run inside container\r\nCMD [ &quot;mvnw&quot;, &quot;spring-boot:run&quot; ]\r\n```\r\n\r\nLog\r\n\r\n```\r\nC:\\Users\\donhu&gt;docker pull donhuvy/springboot-docker:v1.0.0\r\nv1.0.0: Pulling from donhuvy/springboot-docker\r\ne54b73e95ef3: Pull complete\r\ne6e62647f09f: Pull complete\r\nda8e06a8884e: Pull complete\r\nd8cbf9b4e6de: Pull complete\r\n9971eb650313: Pull complete\r\n366b24bf882f: Pull complete\r\n35b5c085babf: Pull complete\r\nb51a76bbfa65: Pull complete\r\nDigest: sha256:f637c16c3b2a930d048e95f89f2a7aa53754f349e08e0c5a86398c5481eb07f1\r\nStatus: Downloaded newer image for donhuvy/springboot-docker:v1.0.0\r\ndocker.io/donhuvy/springboot-docker:v1.0.0\r\n\r\nC:\\Users\\donhu&gt;docker run donhuvy/springboot-docker:v1.0.0\r\ndocker: Error response from daemon: failed to create shim task: OCI runtime create failed: runc create failed: unable to start container process: exec: &quot;mvnw&quot;: executable file not found in $PATH: unknown.\r\n\r\nC:\\Users\\donhu&gt;\r\n```\r\n\r\nHow to fix it?\r\n\r\n","title":"unable to start container process: exec: &quot;mvnw&quot;: executable file not found in $PATH: unknown","body":"<p>This is my source code <a href=\"https://github.com/donhuvy/springboot-docker\" rel=\"nofollow noreferrer\">https://github.com/donhuvy/springboot-docker</a> . I follow guide at tutorial video <a href=\"https://www.youtube.com/watch?v=7BCtc9cAS6o\" rel=\"nofollow noreferrer\">https://www.youtube.com/watch?v=7BCtc9cAS6o</a> . File <code>Dockerfile</code></p>\n<pre><code># syntax=docker/dockerfile:1\n#Which &quot;official Java image&quot; ?\nFROM openjdk:oraclelinux8\n#working directory\nWORKDIR /app\n#copy from your Host(PC, laptop) to container\nCOPY .mvn/ .mvn\nCOPY mvnw pom.xml ./\n#Run this inside the image\nRUN ./mvnw dependency:go-offline\nCOPY src ./src\n#run inside container\nCMD [ &quot;mvnw&quot;, &quot;spring-boot:run&quot; ]\n</code></pre>\n<p>Log</p>\n<pre><code>C:\\Users\\donhu&gt;docker pull donhuvy/springboot-docker:v1.0.0\nv1.0.0: Pulling from donhuvy/springboot-docker\ne54b73e95ef3: Pull complete\ne6e62647f09f: Pull complete\nda8e06a8884e: Pull complete\nd8cbf9b4e6de: Pull complete\n9971eb650313: Pull complete\n366b24bf882f: Pull complete\n35b5c085babf: Pull complete\nb51a76bbfa65: Pull complete\nDigest: sha256:f637c16c3b2a930d048e95f89f2a7aa53754f349e08e0c5a86398c5481eb07f1\nStatus: Downloaded newer image for donhuvy/springboot-docker:v1.0.0\ndocker.io/donhuvy/springboot-docker:v1.0.0\n\nC:\\Users\\donhu&gt;docker run donhuvy/springboot-docker:v1.0.0\ndocker: Error response from daemon: failed to create shim task: OCI runtime create failed: runc create failed: unable to start container process: exec: &quot;mvnw&quot;: executable file not found in $PATH: unknown.\n\nC:\\Users\\donhu&gt;\n</code></pre>\n<p>How to fix it?</p>\n"},{"tags":["java","http","request","get","guice"],"answers":[{"tags":[],"owner":{"account_id":4635838,"reputation":3,"user_id":3757117,"display_name":"Alex Levinson"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681140696,"creation_date":1681140332,"answer_id":75978386,"question_id":75867906,"body_markdown":"Your title has the question:\r\n\r\n&gt; How values from one HTTP get request are used as @QueryParams in another get request in Google Guice?\r\n\r\nBut @QueryParam is a JAX-RS annotation. You need a REST-API implementation tool to handle those, which Google&#39;s Guice is not.\r\n\r\nGoogle&#39;s Guice is a Dependency Injection tool. It theoretically has nothing to do with a HTTP request. However! Guice does have some utility to scope dependency injections to an HTTP request, so it can confuse people like it may have done here for you. BUT do not mistake Guice as an API tool.\r\n\r\n&gt; I am having problem with understanding how exactly multiple HTTP get requests work together...And actually I don&#39;t get how this &#39;code&#39; is getting passed to the second GET request because the first request returns it and the second uses it but it does not have explicit call inside.\r\n\r\nThis is a separate question, but I&#39;d answer it by saying your intuition is correct. It doesn&#39;t pass the two pieces together magically. \r\n\r\nEither your HTTP client is saving the request of the first call and passing it into the second call, or you are receiving nulls as your second parameter, and possibly still setting it via a new DB lookup. \r\n\r\nSeveral linting tools suggest treating HTTP parameter fields as final to avoid confusion like this.\r\n\r\nPerhaps your code looks like this, which would be why you&#39;re confused. Note: this is not advice on how to change your code.\r\n\r\n    @GET\r\n    @Path(&quot;/{id}/calculateSmth&quot;)\r\n    public CustomCalculations getCalculations (@PathParam(&quot;id&quot;) int id, ..., @QueryParam(&quot;code&quot;) Integer code) {\r\n        if (code == null) {\r\n            code = db.lookup(id).getCode();\r\n        }\r\n    }\r\n\r\nFeel free to ask further questions, but please consider upvoting this as an answer to your initial question.","title":"How values from one HTTP get request are used as @QueryParams in another get request in Google Guice?","body":"<p>Your title has the question:</p>\n<blockquote>\n<p>How values from one HTTP get request are used as @QueryParams in another get request in Google Guice?</p>\n</blockquote>\n<p>But @QueryParam is a JAX-RS annotation. You need a REST-API implementation tool to handle those, which Google's Guice is not.</p>\n<p>Google's Guice is a Dependency Injection tool. It theoretically has nothing to do with a HTTP request. However! Guice does have some utility to scope dependency injections to an HTTP request, so it can confuse people like it may have done here for you. BUT do not mistake Guice as an API tool.</p>\n<blockquote>\n<p>I am having problem with understanding how exactly multiple HTTP get requests work together...And actually I don't get how this 'code' is getting passed to the second GET request because the first request returns it and the second uses it but it does not have explicit call inside.</p>\n</blockquote>\n<p>This is a separate question, but I'd answer it by saying your intuition is correct. It doesn't pass the two pieces together magically.</p>\n<p>Either your HTTP client is saving the request of the first call and passing it into the second call, or you are receiving nulls as your second parameter, and possibly still setting it via a new DB lookup.</p>\n<p>Several linting tools suggest treating HTTP parameter fields as final to avoid confusion like this.</p>\n<p>Perhaps your code looks like this, which would be why you're confused. Note: this is not advice on how to change your code.</p>\n<pre><code>@GET\n@Path(&quot;/{id}/calculateSmth&quot;)\npublic CustomCalculations getCalculations (@PathParam(&quot;id&quot;) int id, ..., @QueryParam(&quot;code&quot;) Integer code) {\n    if (code == null) {\n        code = db.lookup(id).getCode();\n    }\n}\n</code></pre>\n<p>Feel free to ask further questions, but please consider upvoting this as an answer to your initial question.</p>\n"}],"owner":{"display_name":"user19128690"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1681140696,"creation_date":1680015624,"question_id":75867906,"body_markdown":"I am having problem with understanding how exactly multiple HTTP get requests work together. Let&#39;s say I have a GET request which returns a collection of CustomObjects according to a given id.\r\n\r\n```java\r\nclass CustomObject {\r\n    private final Integer code;\r\n}\r\n```\r\nCustomObject has other fields inside but they are not related to the task.\r\n\r\n```java\r\n@GET\r\n@Path(&quot;/{id}/testPoint&quot;)\r\npublic Collection&lt;CustomObject&gt; getCustomObject(@PathParam(&quot;id&quot;) int objectId) {\r\n    // ...\r\n}\r\n```\r\nAnd I have another GET request which is called after this one.\r\n\r\n```java\r\n@GET\r\n@Path(&quot;/{id}/calculateSmth&quot;)\r\npublic CustomCalculations getCalculations (@PathParam(&quot;id&quot;) int id,......,  @QueryParam(&quot;code&quot;) Integer code\r\n\r\n```\r\nAnd actually I don&#39;t get how this &#39;code&#39; is getting passed to the second GET request because the first request returns it and the second uses it but it does not have explicit call inside,  I don&#39;t get how things are getting passed around. \r\nAll data is taken from database.\r\n\r\n\r\nI am having trouble understanding how things are passed across multiple GET requests. ","title":"How values from one HTTP get request are used as @QueryParams in another get request in Google Guice?","body":"<p>I am having problem with understanding how exactly multiple HTTP get requests work together. Let's say I have a GET request which returns a collection of CustomObjects according to a given id.</p>\n<pre class=\"lang-java prettyprint-override\"><code>class CustomObject {\n    private final Integer code;\n}\n</code></pre>\n<p>CustomObject has other fields inside but they are not related to the task.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@GET\n@Path(&quot;/{id}/testPoint&quot;)\npublic Collection&lt;CustomObject&gt; getCustomObject(@PathParam(&quot;id&quot;) int objectId) {\n    // ...\n}\n</code></pre>\n<p>And I have another GET request which is called after this one.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@GET\n@Path(&quot;/{id}/calculateSmth&quot;)\npublic CustomCalculations getCalculations (@PathParam(&quot;id&quot;) int id,......,  @QueryParam(&quot;code&quot;) Integer code\n\n</code></pre>\n<p>And actually I don't get how this 'code' is getting passed to the second GET request because the first request returns it and the second uses it but it does not have explicit call inside,  I don't get how things are getting passed around.\nAll data is taken from database.</p>\n<p>I am having trouble understanding how things are passed across multiple GET requests.</p>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":0,"creation_date":1681024439,"post_id":75969211,"comment_id":133990573,"body_markdown":"What necessitates these requirements? What inputs are you working on?","body":"What necessitates these requirements? What inputs are you working on?"},{"owner":{"account_id":27974006,"reputation":10316,"user_id":21363224,"display_name":"markalex"},"score":1,"creation_date":1681024464,"post_id":75969211,"comment_id":133990578,"body_markdown":"Please add examples of valid and invalid input.","body":"Please add examples of valid and invalid input."},{"owner":{"account_id":7113913,"reputation":2404,"user_id":5440883,"display_name":"Chris Maurer"},"score":0,"creation_date":1681025203,"post_id":75969211,"comment_id":133990649,"body_markdown":"Notice that your regex will scan a number between 6 &amp; 31 characters, not 5 &amp; 30.  That initial digit is an extra character. Is that what you meant?","body":"Notice that your regex will scan a number between 6 &amp; 31 characters, not 5 &amp; 30.  That initial digit is an extra character. Is that what you meant?"},{"owner":{"account_id":3023214,"reputation":20362,"user_id":2563754,"display_name":"Seelenvirtuose"},"score":0,"creation_date":1681026102,"post_id":75969211,"comment_id":133990715,"body_markdown":"You really should consider to _not_ check each and every requirement with a regular expression. For the pattern requirement, a regular expresseion seems to be a good fit. But for the length ... why not simply check the input string and/or the number in it? No need to complicate things ...","body":"You really should consider to <i>not</i> check each and every requirement with a regular expression. For the pattern requirement, a regular expresseion seems to be a good fit. But for the length ... why not simply check the input string and/or the number in it? No need to complicate things ..."}],"answers":[{"tags":[],"owner":{"account_id":1088492,"reputation":43443,"user_id":1083663,"accept_rate":69,"display_name":"GOTO 0"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1681025280,"creation_date":1681025280,"answer_id":75969276,"question_id":75969211,"body_markdown":"&gt; BUT how do I restrict it NOT to have 10 or 12 characters length.\r\n\r\nYou could insert a negative lookahead at the start of the pattern to not expect 10 or 12 characters: `(?!.{10}$|.{12}$)`.\r\n\r\nThe whole pattern would then be:\r\n\r\n```\r\n^(?!.{10}$|.{12}$)[0-9][a-zA-Z0-9-_.\\\\\\s+]{5,30}$\r\n```\r\n\r\n","title":"RegEx to match alphanumeric number of certain length starting with a number","body":"<blockquote>\n<p>BUT how do I restrict it NOT to have 10 or 12 characters length.</p>\n</blockquote>\n<p>You could insert a negative lookahead at the start of the pattern to not expect 10 or 12 characters: <code>(?!.{10}$|.{12}$)</code>.</p>\n<p>The whole pattern would then be:</p>\n<pre><code>^(?!.{10}$|.{12}$)[0-9][a-zA-Z0-9-_.\\\\\\s+]{5,30}$\n</code></pre>\n"},{"tags":[],"owner":{"account_id":28145438,"reputation":9,"user_id":21507826,"display_name":"ye xue"},"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1681026553,"creation_date":1681025434,"answer_id":75969288,"question_id":75969211,"body_markdown":"```\r\n^(?!.*\\b\\d{10}\\b)(?!.*\\b\\d{12}\\b)[0-9][a-zA-Z0-9\\-_.\\\\s+]{4,29}$\r\n```","title":"RegEx to match alphanumeric number of certain length starting with a number","body":"<pre><code>^(?!.*\\b\\d{10}\\b)(?!.*\\b\\d{12}\\b)[0-9][a-zA-Z0-9\\-_.\\\\s+]{4,29}$\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7089168,"reputation":157118,"user_id":5424988,"display_name":"The fourth bird"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681140415,"creation_date":1681140415,"answer_id":75978399,"question_id":75969211,"body_markdown":"As the pattern should start with a digit, you might do that first and then add to negative lookaheads to prevent the lookaheads to fire when the string does not start with a digit.\r\n\r\nIf you don&#39;t want to match newlines, using Java you can change `\\s` to `\\h` to match horizontal whitespace characters.\r\n\r\n    ^[0-9](?!.{9}$|.{11}$)[a-zA-Z0-9-_.\\\\\\h+]{4,29}$\r\n\r\nSee a [regex demo](https://regex101.com/r/ZzQYrN/1).\r\n\r\nA longer version without using lookaheads, but making use of a greedy quantifier and optional [atomic groups](https://www.regular-expressions.info/atomic.html).\r\n\r\nThe pattern matches either 5-9 chars, 11 chars or 13-30 chars.\r\n\r\n    ^[0-9][a-zA-Z0-9-_.\\\\h+]{4,8}+(?&gt;[a-zA-Z0-9-_.\\\\h+]{2}(?&gt;[a-zA-Z0-9-_.\\\\h+]{2,19})?)?$\r\n\r\nSee another [regex demo](https://regex101.com/r/WdAtXg/1).","title":"RegEx to match alphanumeric number of certain length starting with a number","body":"<p>As the pattern should start with a digit, you might do that first and then add to negative lookaheads to prevent the lookaheads to fire when the string does not start with a digit.</p>\n<p>If you don't want to match newlines, using Java you can change <code>\\s</code> to <code>\\h</code> to match horizontal whitespace characters.</p>\n<pre><code>^[0-9](?!.{9}$|.{11}$)[a-zA-Z0-9-_.\\\\\\h+]{4,29}$\n</code></pre>\n<p>See a <a href=\"https://regex101.com/r/ZzQYrN/1\" rel=\"nofollow noreferrer\">regex demo</a>.</p>\n<p>A longer version without using lookaheads, but making use of a greedy quantifier and optional <a href=\"https://www.regular-expressions.info/atomic.html\" rel=\"nofollow noreferrer\">atomic groups</a>.</p>\n<p>The pattern matches either 5-9 chars, 11 chars or 13-30 chars.</p>\n<pre><code>^[0-9][a-zA-Z0-9-_.\\\\h+]{4,8}+(?&gt;[a-zA-Z0-9-_.\\\\h+]{2}(?&gt;[a-zA-Z0-9-_.\\\\h+]{2,19})?)?$\n</code></pre>\n<p>See another <a href=\"https://regex101.com/r/WdAtXg/1\" rel=\"nofollow noreferrer\">regex demo</a>.</p>\n"}],"owner":{"account_id":18028082,"reputation":305,"user_id":13103493,"display_name":"sidd"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":102,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":75969276,"answer_count":3,"score":3,"last_activity_date":1681140415,"creation_date":1681024261,"question_id":75969211,"body_markdown":"I have a requirement for regex - starting with a number and then can have letter numbers and special characters `-_.\\\\s+` for hyphen, dot, underscore and space, etc. My other important requirement is that the length of the number is to be between 5 and 30 (inclusive) BUT it should not be 10 or 12 characters in length. I have prepared a regex as below:\r\n\r\n```\r\n^[0-9][a-zA-Z0-9-_.\\\\\\s+]{5,30}$\r\n```\r\nI understand that the above regex regulates length between 5 and 30 characters BUT how do I restrict it NOT to have 10 or 12 characters length.\r\n\r\nPlease help. ","title":"RegEx to match alphanumeric number of certain length starting with a number","body":"<p>I have a requirement for regex - starting with a number and then can have letter numbers and special characters <code>-_.\\\\s+</code> for hyphen, dot, underscore and space, etc. My other important requirement is that the length of the number is to be between 5 and 30 (inclusive) BUT it should not be 10 or 12 characters in length. I have prepared a regex as below:</p>\n<pre><code>^[0-9][a-zA-Z0-9-_.\\\\\\s+]{5,30}$\n</code></pre>\n<p>I understand that the above regex regulates length between 5 and 30 characters BUT how do I restrict it NOT to have 10 or 12 characters length.</p>\n<p>Please help.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":10777133,"reputation":7282,"user_id":7928721,"display_name":"samabcde"},"score":0,"creation_date":1681140711,"post_id":75978354,"comment_id":134004932,"body_markdown":"Does this answer your question? [java.lang.VerifyError: Stack map does not match the one at exception handler](https://stackoverflow.com/questions/54804355/java-lang-verifyerror-stack-map-does-not-match-the-one-at-exception-handler)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/54804355/java-lang-verifyerror-stack-map-does-not-match-the-one-at-exception-handler\">java.lang.VerifyError: Stack map does not match the one at exception handler</a>"}],"owner":{"account_id":1864571,"reputation":23718,"user_id":1688441,"accept_rate":82,"display_name":"Menelaos"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1681140378,"creation_date":1681139948,"question_id":75978354,"body_markdown":"Problem\r\n-\r\n\r\nI had the following catch statement which was a problem:\r\n\r\n    } catch (DataException | JSONException exception) {\r\n    \tthrow new RuntimeException(exception);\r\n    }\r\n\r\nI was seeing the following exception / error in the logs:\r\n\r\n WARN annotation.ExceptionHandlerExceptionResolver: Resolved [org.springframework.web.util.NestedServletException: Handler dispatch failed; nested exception is java.lang.VerifyError: Stack map does not match the one at exception handler 93\r\nException Details:\r\n  Location:\r\n\r\n        my/code/aspose/AsposeDataSourceBuilder.getDataSource(Ljava/lang/Object;)Lcom/aspose/words/net/System/Data/DataSet; @93: astore_1\r\n      Reason:\r\n        Type &#39;org/json/JSONException&#39; (current frame, stack[0]) is not assignable to &#39;java/lang/RuntimeException&#39; (stack map, stack[0])\r\n      Current Frame:\r\n        bci: @0\r\n        flags: { }\r\n        locals: { &#39;java/lang/Object&#39; }\r\n        stack: { &#39;org/json/JSONException&#39; }\r\n      Stackmap Frame:\r\n        bci: @93\r\n        flags: { }\r\n        locals: { &#39;java/lang/Object&#39; }\r\n        stack: { &#39;java/lang/RuntimeException&#39; }\r\n      Bytecode:\r\n        0x0000000: bb00 0259 b700 03b6 0004 b600 054c 2b2a\r\n        0x0000010: b600 064d bb00 0759 2cb7 0008 4ebb 0009\r\n        0x0000020: 59b7 000a 120b b600 0c2d b800 0db6 000c\r\n        0x0000030: 120e b600 0cb6 000f 3a04 bb00 1059 1211\r\n        0x0000040: b700 123a 0519 05bb 0013 5919 04b2 0014\r\n        0x0000050: b600 15b7 0016 b600 1757 1905 b04c bb00\r\n        0x0000060: 1a59 2bb7 001b bf\r\n      Exception Handler Table:\r\n        bci [0, 92] =&gt; handler: 93\r\n        bci [0, 92] =&gt; handler: 93\r\n      Stackmap Table:\r\n        same_locals_1_stack_item_extended(@93,Object[#67])\r\n\r\nI ran across the following Github issue/commits where they split a single catch into multiple ones - and this seemed to fix the error.\r\n\r\nhttps://github.com/Wikidata/Wikidata-Toolkit/commit/0d214bb8870c29c0b688db4fda71ce8a64b4a46e\r\nhttps://github.com/Wikidata/Wikidata-Toolkit/issues/58\r\n[![enter image description here][1]][1]\r\n\r\nSo I split the catch statement and now it also works for me:\r\n\r\n    } catch (DataException e1) {\r\n    \t\t\tthrow new RuntimeException(e1);\r\n    \t\t}catch(JSONException e2){\r\n    \t\t\tthrow new RuntimeException(e2);\r\n    \t\t}\r\n\r\nUpdate\r\n\r\n\r\nIn case it helps, here are the two inheritence trees from the two exception types:\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n\r\nQuestion\r\n-\r\n\r\nWhy does splitting the catch statement solve the error?\r\n\r\nThere&#39;s a similar question by MatKuhr [here][3] ... but I don&#39;t understand the problem/solution yet.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/po9q0.png\r\n  [2]: https://i.stack.imgur.com/ToQl4.png\r\n  [3]: https://github.com/Wikidata/Wikidata-Toolkit/issues/58#issuecomment-627280175","title":"Why does splitting a composite catch statement get rid of a verifyError?","body":"<h2>Problem</h2>\n<p>I had the following catch statement which was a problem:</p>\n<pre><code>} catch (DataException | JSONException exception) {\n    throw new RuntimeException(exception);\n}\n</code></pre>\n<p>I was seeing the following exception / error in the logs:</p>\n<p>WARN annotation.ExceptionHandlerExceptionResolver: Resolved [org.springframework.web.util.NestedServletException: Handler dispatch failed; nested exception is java.lang.VerifyError: Stack map does not match the one at exception handler 93\nException Details:\nLocation:</p>\n<pre><code>    my/code/aspose/AsposeDataSourceBuilder.getDataSource(Ljava/lang/Object;)Lcom/aspose/words/net/System/Data/DataSet; @93: astore_1\n  Reason:\n    Type 'org/json/JSONException' (current frame, stack[0]) is not assignable to 'java/lang/RuntimeException' (stack map, stack[0])\n  Current Frame:\n    bci: @0\n    flags: { }\n    locals: { 'java/lang/Object' }\n    stack: { 'org/json/JSONException' }\n  Stackmap Frame:\n    bci: @93\n    flags: { }\n    locals: { 'java/lang/Object' }\n    stack: { 'java/lang/RuntimeException' }\n  Bytecode:\n    0x0000000: bb00 0259 b700 03b6 0004 b600 054c 2b2a\n    0x0000010: b600 064d bb00 0759 2cb7 0008 4ebb 0009\n    0x0000020: 59b7 000a 120b b600 0c2d b800 0db6 000c\n    0x0000030: 120e b600 0cb6 000f 3a04 bb00 1059 1211\n    0x0000040: b700 123a 0519 05bb 0013 5919 04b2 0014\n    0x0000050: b600 15b7 0016 b600 1757 1905 b04c bb00\n    0x0000060: 1a59 2bb7 001b bf\n  Exception Handler Table:\n    bci [0, 92] =&gt; handler: 93\n    bci [0, 92] =&gt; handler: 93\n  Stackmap Table:\n    same_locals_1_stack_item_extended(@93,Object[#67])\n</code></pre>\n<p>I ran across the following Github issue/commits where they split a single catch into multiple ones - and this seemed to fix the error.</p>\n<p><a href=\"https://github.com/Wikidata/Wikidata-Toolkit/commit/0d214bb8870c29c0b688db4fda71ce8a64b4a46e\" rel=\"nofollow noreferrer\">https://github.com/Wikidata/Wikidata-Toolkit/commit/0d214bb8870c29c0b688db4fda71ce8a64b4a46e</a>\n<a href=\"https://github.com/Wikidata/Wikidata-Toolkit/issues/58\" rel=\"nofollow noreferrer\">https://github.com/Wikidata/Wikidata-Toolkit/issues/58</a>\n<a href=\"https://i.stack.imgur.com/po9q0.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/po9q0.png\" alt=\"enter image description here\" /></a></p>\n<p>So I split the catch statement and now it also works for me:</p>\n<pre><code>} catch (DataException e1) {\n            throw new RuntimeException(e1);\n        }catch(JSONException e2){\n            throw new RuntimeException(e2);\n        }\n</code></pre>\n<p>Update</p>\n<p>In case it helps, here are the two inheritence trees from the two exception types:</p>\n<p><a href=\"https://i.stack.imgur.com/ToQl4.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ToQl4.png\" alt=\"enter image description here\" /></a></p>\n<h2>Question</h2>\n<p>Why does splitting the catch statement solve the error?</p>\n<p>There's a similar question by MatKuhr <a href=\"https://github.com/Wikidata/Wikidata-Toolkit/issues/58#issuecomment-627280175\" rel=\"nofollow noreferrer\">here</a> ... but I don't understand the problem/solution yet.</p>\n"},{"tags":["java","multithreading","locking","wait"],"comments":[{"owner":{"account_id":1079173,"reputation":42590,"user_id":1076640,"display_name":"yshavit"},"score":0,"creation_date":1473437550,"post_id":39415636,"comment_id":66156108,"body_markdown":"I&#39;m not sure, but one thing that comes to mind is that it&#39;s not clear from the docs whether LockSupport&#39;s methods provide any of the memory visibility guarantees that synchronization provides (happens-before edges and all that).","body":"I&#39;m not sure, but one thing that comes to mind is that it&#39;s not clear from the docs whether LockSupport&#39;s methods provide any of the memory visibility guarantees that synchronization provides (happens-before edges and all that)."},{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":0,"creation_date":1473440444,"post_id":39415636,"comment_id":66157521,"body_markdown":"See also question [Practical examples of LockSupport/AbstractQueuedSynchronizer](http://stackoverflow.com/questions/3311811/any-practical-example-of-locksupport-abstractqueuedsynchronizer-use).","body":"See also question <a href=\"http://stackoverflow.com/questions/3311811/any-practical-example-of-locksupport-abstractqueuedsynchronizer-use\">Practical examples of LockSupport/AbstractQueuedSynchronizer</a>."}],"answers":[{"tags":[],"owner":{"account_id":75804,"reputation":94815,"user_id":217324,"accept_rate":96,"display_name":"Nathan Hughes"},"down_vote_count":1,"up_vote_count":6,"is_accepted":true,"score":5,"last_activity_date":1681139894,"creation_date":1473439064,"answer_id":39416130,"question_id":39415636,"body_markdown":"These two things, wait and park, seem alike but they&#39;re pretty different.\r\n\r\nCalls to `wait` happen in the context of locking with `synchronized`. You have some condition the thread is testing, where you&#39;re testing the state of the object you&#39;re synchronizing on, to decide if the thread can proceed. The wait/notify process uses the lock as a middleman for sending notifications where the OS scheduler is in charge of who gets notified. So the use case here is that you have some component with state you want to protect from concurrent access and if a thread can&#39;t make progress, you want it to wait until it can.\r\n\r\nA core part of this is that you are not playing puppet master with the waiting threads, your code doesn&#39;t care who gets notified next, that gets delegated to the scheduler.\r\n\r\nFor park, things are different, there is no locking like what you have with wait, and it is much more of a hands-on puppet master situation. Your code is telling individual threads to go dormant or wake up.\r\n\r\nThere is a warning in [the API documentation for LockSupport][1]:\r\n\r\n&gt; These methods are designed to be used as tools for creating higher-level synchronization utilities, and are not in themselves useful for most concurrency control applications. The park method is designed for use only in constructions of the form:\r\n \r\n     while (!canProceed()) { ... LockSupport.park(this); }\r\n\r\n&gt; where neither canProceed nor any other actions prior to the call to park entail locking or blocking. Because only one permit is associated with each thread, any intermediary uses of park could interfere with its intended effects.\r\n\r\nYour specific example depends on having a lock around the test for the condition, which is what the documentation is telling you not to do with park. Also you need the lock around the &quot;do stuff&quot; part after the wait. \r\n\r\nIf you are needing something more powerful than `synchronized` then you might look at ReentrantLock or at different nonblocking approaches but park/unpark is more of a low-level helper than something ready to use in your application.\r\n\r\nNote in your second example your condition needs to be volatile or Atomic or otherwise something where its updates are visible across threads.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/locks/LockSupport.html","title":"Can `LockSupport.park()` replace `Object.wait()`?","body":"<p>These two things, wait and park, seem alike but they're pretty different.</p>\n<p>Calls to <code>wait</code> happen in the context of locking with <code>synchronized</code>. You have some condition the thread is testing, where you're testing the state of the object you're synchronizing on, to decide if the thread can proceed. The wait/notify process uses the lock as a middleman for sending notifications where the OS scheduler is in charge of who gets notified. So the use case here is that you have some component with state you want to protect from concurrent access and if a thread can't make progress, you want it to wait until it can.</p>\n<p>A core part of this is that you are not playing puppet master with the waiting threads, your code doesn't care who gets notified next, that gets delegated to the scheduler.</p>\n<p>For park, things are different, there is no locking like what you have with wait, and it is much more of a hands-on puppet master situation. Your code is telling individual threads to go dormant or wake up.</p>\n<p>There is a warning in <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/locks/LockSupport.html\" rel=\"nofollow noreferrer\">the API documentation for LockSupport</a>:</p>\n<blockquote>\n<p>These methods are designed to be used as tools for creating higher-level synchronization utilities, and are not in themselves useful for most concurrency control applications. The park method is designed for use only in constructions of the form:</p>\n</blockquote>\n<pre><code> while (!canProceed()) { ... LockSupport.park(this); }\n</code></pre>\n<blockquote>\n<p>where neither canProceed nor any other actions prior to the call to park entail locking or blocking. Because only one permit is associated with each thread, any intermediary uses of park could interfere with its intended effects.</p>\n</blockquote>\n<p>Your specific example depends on having a lock around the test for the condition, which is what the documentation is telling you not to do with park. Also you need the lock around the &quot;do stuff&quot; part after the wait.</p>\n<p>If you are needing something more powerful than <code>synchronized</code> then you might look at ReentrantLock or at different nonblocking approaches but park/unpark is more of a low-level helper than something ready to use in your application.</p>\n<p>Note in your second example your condition needs to be volatile or Atomic or otherwise something where its updates are visible across threads.</p>\n"},{"tags":[],"owner":{"account_id":9857077,"reputation":710,"user_id":7301259,"display_name":"AwesomeHunter"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1609913181,"creation_date":1609913181,"answer_id":65590962,"question_id":39415636,"body_markdown":"No, Locksupport.park()/unpark() can&#39;t replace Object.wait().\r\n\r\nLocksupport.park()/unpark() doesn&#39;t require you to acquire a lock, but Object.wait() does require you to have synchronized keyword to protect it. Let me tell you why,\r\n\r\n    while (condition != true) \r\n      LockSupport.park();\r\nWithout synchronized or other protections, some other threads can change the condition variable between these two lines of code.  So your code might park/unpark when it really shouldn&#39;t.","title":"Can `LockSupport.park()` replace `Object.wait()`?","body":"<p>No, Locksupport.park()/unpark() can't replace Object.wait().</p>\n<p>Locksupport.park()/unpark() doesn't require you to acquire a lock, but Object.wait() does require you to have synchronized keyword to protect it. Let me tell you why,</p>\n<pre><code>while (condition != true) \n  LockSupport.park();\n</code></pre>\n<p>Without synchronized or other protections, some other threads can change the condition variable between these two lines of code.  So your code might park/unpark when it really shouldn't.</p>\n"}],"owner":{"account_id":1299659,"reputation":2884,"user_id":1249851,"display_name":"dyng"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1357,"favorite_count":0,"down_vote_count":2,"up_vote_count":5,"accepted_answer_id":39416130,"answer_count":2,"score":3,"last_activity_date":1681139894,"creation_date":1473437181,"question_id":39415636,"body_markdown":"Currently I&#39;m learning concurrency programming in Java. I notice `LockSupport.park()` introduced in Java 1.6 is much easier than `Object.wait()` to use, a typical usage of `Object.wait()` is like\r\n\r\n    // Thread1\r\n    synchronized (lock) {\r\n        while (condition != true) {\r\n            lock.wait()\r\n        }\r\n\r\n        // do stuff\r\n    }\r\n\r\n    // Thread2\r\n    synchronized (lock) {\r\n        condition = true;\r\n        lock.notify();\r\n    }\r\n\r\nAnd I think I can rewrite it using `LockSupport.park()` like\r\n\r\n    // Thread1\r\n    while (condition != true) {\r\n        LockSupport.park();\r\n    }\r\n\r\n    // do stuff\r\n\r\n    // Thread2\r\n    condition = true;\r\n    LockSupport.unpark(Thread1);\r\n\r\nBy using `LockSupport.park()`, tedious `synchroinzed` block disappears. \r\n \r\nMy question is, should I always prefer `LockSupport.park()` than `Object.wait()`? Is there any aspect that `Object.wait()` does better than `LockSupport.park()` such as performance?","title":"Can `LockSupport.park()` replace `Object.wait()`?","body":"<p>Currently I'm learning concurrency programming in Java. I notice <code>LockSupport.park()</code> introduced in Java 1.6 is much easier than <code>Object.wait()</code> to use, a typical usage of <code>Object.wait()</code> is like</p>\n\n<pre><code>// Thread1\nsynchronized (lock) {\n    while (condition != true) {\n        lock.wait()\n    }\n\n    // do stuff\n}\n\n// Thread2\nsynchronized (lock) {\n    condition = true;\n    lock.notify();\n}\n</code></pre>\n\n<p>And I think I can rewrite it using <code>LockSupport.park()</code> like</p>\n\n<pre><code>// Thread1\nwhile (condition != true) {\n    LockSupport.park();\n}\n\n// do stuff\n\n// Thread2\ncondition = true;\nLockSupport.unpark(Thread1);\n</code></pre>\n\n<p>By using <code>LockSupport.park()</code>, tedious <code>synchroinzed</code> block disappears. </p>\n\n<p>My question is, should I always prefer <code>LockSupport.park()</code> than <code>Object.wait()</code>? Is there any aspect that <code>Object.wait()</code> does better than <code>LockSupport.park()</code> such as performance?</p>\n"},{"tags":["java","arrays","json","object","linkedhashmap"],"answers":[{"tags":[],"owner":{"account_id":1511115,"reputation":2926,"user_id":1413222,"display_name":"devwebcl"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1681133416,"creation_date":1681133416,"answer_id":75977567,"question_id":75977468,"body_markdown":"A JSONObject is an unordered collection of name/value pairs. \r\n\r\nhttps://www.javadoc.io/doc/org.json/json/20171018/org/json/JSONObject.html\r\n","title":"How to add an empty JSON Array to JSON Object in a specific order","body":"<p>A JSONObject is an unordered collection of name/value pairs.</p>\n<p><a href=\"https://www.javadoc.io/doc/org.json/json/20171018/org/json/JSONObject.html\" rel=\"nofollow noreferrer\">https://www.javadoc.io/doc/org.json/json/20171018/org/json/JSONObject.html</a></p>\n"}],"owner":{"account_id":5399993,"reputation":49,"user_id":4300130,"display_name":"matthewoak"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":76,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1681139579,"creation_date":1681132493,"question_id":75977468,"body_markdown":"I am trying to create this structure for a JSON - \r\n\r\n    \r\n\r\n```\r\n\r\n    {\r\n      &quot;pricing&quot;: {\r\n        &quot;quantity&quot;: 4200,\r\n        &quot;minQuantity&quot;: 10,\r\n        &quot;pricePerUnit&quot;: {\r\n          &quot;amount&quot;: 0.2865,\r\n          &quot;currency&quot;: &quot;USD&quot;\r\n        },\r\n        &quot;discounts&quot;: []\r\n      },\r\n      &quot;description&quot;: &quot;test&quot;,\r\n      &quot;guaranteedDeliveryTime&quot;: &quot;testTime&quot;,\r\n      &quot;offerType&quot;: &quot;Currency&quot;\r\n    }\r\n\r\n```\r\nI have came up with a solution that is pretty close. However the ordering seems a bit off. \r\nHere is the code I am using - \r\n\r\n    Map&lt;String, Object&gt; pricePerUnit = new LinkedHashMap&lt;&gt;();\r\n        pricePerUnit.put(&quot;amount&quot;, 0.2865);\r\n        pricePerUnit.put(&quot;currency&quot;, &quot;USD&quot;);\r\n\r\n        Map&lt;String, Object&gt; pricing = new LinkedHashMap&lt;&gt;(8, 0.6f, false);\r\n        pricing.put(&quot;quantity&quot;, 2342);\r\n        pricing.put(&quot;minQuantity&quot;, 2342);\r\n        pricing.put(&quot;pricePerUnit&quot;, pricePerUnit);\r\n        pricing.put(&quot;discounts&quot;, new JSONArray());\r\n\r\n        JSONObject obj1 = new JSONObject();\r\n        obj1.put(&quot;pricing&quot;, pricing);\r\n        obj1.put(&quot;guaranteedDeliveryTime&quot;, &quot;testTime&quot;);\r\n        obj1.put(&quot;description&quot;, &quot;test&quot;);\r\n        obj1.put(&quot;offerTime&quot;, &quot;Currency&quot;);\r\n\r\nAnd the final output is as follows. \r\n\r\n```\r\n    {\r\n      &quot;guaranteedDeliveryTime&quot;: &quot;testTime&quot;,\r\n      &quot;description&quot;: &quot;test&quot;,\r\n      &quot;pricing&quot;: {\r\n        &quot;quantity&quot;: 2342,\r\n        &quot;minQuantity&quot;: 2342,\r\n        &quot;discounts&quot;: [],\r\n        &quot;pricePerUnit&quot;: {\r\n          &quot;amount&quot;: 0.2865,\r\n          &quot;currency&quot;: &quot;USD&quot;\r\n        }\r\n      },\r\n      &quot;offerTime&quot;: &quot;Currency&quot;\r\n    }\r\n```\r\n\r\nThe ordering seems off. I assume it is an issue as I am using a LinkedHashMap. I also tried setting the access order to see if that would change the ordering. Any advice would be greatly appreciated. Thanks.\r\n\r\n","title":"How to add an empty JSON Array to JSON Object in a specific order","body":"<p>I am trying to create this structure for a JSON -</p>\n<pre><code>\n    {\n      &quot;pricing&quot;: {\n        &quot;quantity&quot;: 4200,\n        &quot;minQuantity&quot;: 10,\n        &quot;pricePerUnit&quot;: {\n          &quot;amount&quot;: 0.2865,\n          &quot;currency&quot;: &quot;USD&quot;\n        },\n        &quot;discounts&quot;: []\n      },\n      &quot;description&quot;: &quot;test&quot;,\n      &quot;guaranteedDeliveryTime&quot;: &quot;testTime&quot;,\n      &quot;offerType&quot;: &quot;Currency&quot;\n    }\n\n</code></pre>\n<p>I have came up with a solution that is pretty close. However the ordering seems a bit off.\nHere is the code I am using -</p>\n<pre><code>Map&lt;String, Object&gt; pricePerUnit = new LinkedHashMap&lt;&gt;();\n    pricePerUnit.put(&quot;amount&quot;, 0.2865);\n    pricePerUnit.put(&quot;currency&quot;, &quot;USD&quot;);\n\n    Map&lt;String, Object&gt; pricing = new LinkedHashMap&lt;&gt;(8, 0.6f, false);\n    pricing.put(&quot;quantity&quot;, 2342);\n    pricing.put(&quot;minQuantity&quot;, 2342);\n    pricing.put(&quot;pricePerUnit&quot;, pricePerUnit);\n    pricing.put(&quot;discounts&quot;, new JSONArray());\n\n    JSONObject obj1 = new JSONObject();\n    obj1.put(&quot;pricing&quot;, pricing);\n    obj1.put(&quot;guaranteedDeliveryTime&quot;, &quot;testTime&quot;);\n    obj1.put(&quot;description&quot;, &quot;test&quot;);\n    obj1.put(&quot;offerTime&quot;, &quot;Currency&quot;);\n</code></pre>\n<p>And the final output is as follows.</p>\n<pre><code>    {\n      &quot;guaranteedDeliveryTime&quot;: &quot;testTime&quot;,\n      &quot;description&quot;: &quot;test&quot;,\n      &quot;pricing&quot;: {\n        &quot;quantity&quot;: 2342,\n        &quot;minQuantity&quot;: 2342,\n        &quot;discounts&quot;: [],\n        &quot;pricePerUnit&quot;: {\n          &quot;amount&quot;: 0.2865,\n          &quot;currency&quot;: &quot;USD&quot;\n        }\n      },\n      &quot;offerTime&quot;: &quot;Currency&quot;\n    }\n</code></pre>\n<p>The ordering seems off. I assume it is an issue as I am using a LinkedHashMap. I also tried setting the access order to see if that would change the ordering. Any advice would be greatly appreciated. Thanks.</p>\n"},{"tags":["java","spring","spring-boot","spring-data-jpa","spring-data"],"comments":[{"owner":{"account_id":19535095,"reputation":2864,"user_id":14294053,"display_name":"Mar-Z"},"score":1,"creation_date":1681054761,"post_id":75971335,"comment_id":133993966,"body_markdown":"No. There is no such filter attribute for entity scan. Recommended solution is to reorganize your package structure.","body":"No. There is no such filter attribute for entity scan. Recommended solution is to reorganize your package structure."}],"answers":[{"tags":[],"owner":{"account_id":24109083,"reputation":150,"user_id":18079889,"display_name":"Mohammed Fataka"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681065583,"creation_date":1681065583,"answer_id":75972265,"question_id":75971335,"body_markdown":"by default spring picks every entities to be read, if you want specific package to be excluded, unfortunately there is no such attribute to exclude specific package, but alternatively you can use ```@EntityScan(basePackages={YOUR_FIRST_PACKAGE,YOUR_SECOND_PACKAGE})```  so spring will only pick from those specified packages ","title":"spring boot how to load entity classes using @EntityScan and exclude some classes based on certain pattern?","body":"<p>by default spring picks every entities to be read, if you want specific package to be excluded, unfortunately there is no such attribute to exclude specific package, but alternatively you can use <code>@EntityScan(basePackages={YOUR_FIRST_PACKAGE,YOUR_SECOND_PACKAGE})</code>  so spring will only pick from those specified packages</p>\n"}],"owner":{"account_id":14197901,"reputation":3,"user_id":11145475,"display_name":"Mohammed Gamal"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":651,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1681139112,"creation_date":1681053634,"question_id":75971335,"body_markdown":"the scenario here is like:\r\n\r\na simple java spring project where there&#39;re some entities in their own package, when i add the entity classes to the project i use \r\n```\r\n@EntityScan(basePackage=&quot;com.path.to.entities&quot;)\r\n```\r\ni want to exclude a certain @Entity or some of them based on a pattern i.e name or regEx and don&#39;t want it to be added\r\n\r\n\r\ni&#39;ve searched and found a similar implementation for @ComponentScan by using @Filter to include or exclude components, is there a similar approach for @EntityScan to do the same with entities?","title":"spring boot how to load entity classes using @EntityScan and exclude some classes based on certain pattern?","body":"<p>the scenario here is like:</p>\n<p>a simple java spring project where there're some entities in their own package, when i add the entity classes to the project i use</p>\n<pre><code>@EntityScan(basePackage=&quot;com.path.to.entities&quot;)\n</code></pre>\n<p>i want to exclude a certain @Entity or some of them based on a pattern i.e name or regEx and don't want it to be added</p>\n<p>i've searched and found a similar implementation for @ComponentScan by using @Filter to include or exclude components, is there a similar approach for @EntityScan to do the same with entities?</p>\n"},{"tags":["java","json","spring-boot","rest","post"],"comments":[{"owner":{"account_id":6518557,"reputation":2810,"user_id":5043481,"display_name":"zforgo"},"score":1,"creation_date":1681120204,"post_id":75975860,"comment_id":134001171,"body_markdown":"You must specify different paths for same HTTP method. E.g. `@PostMapping(&quot;/people&quot;)`","body":"You must specify different paths for same HTTP method. E.g. <code>@PostMapping(&quot;&#47;people&quot;)</code>"},{"owner":{"account_id":306540,"reputation":1801,"user_id":2695990,"display_name":"fascynacja"},"score":0,"creation_date":1681122843,"post_id":75975860,"comment_id":134001634,"body_markdown":"Even if such a workaround would exist it would not be recommended. Better to redesign your client calls to call different endpoints.","body":"Even if such a workaround would exist it would not be recommended. Better to redesign your client calls to call different endpoints."},{"owner":{"account_id":16211352,"reputation":4324,"user_id":11713777,"display_name":"dariosicily"},"score":0,"creation_date":1681123645,"post_id":75975860,"comment_id":134001735,"body_markdown":"For the specific example, using a its specific property spring framework can accept the `Person` object as a array and convert it to a list of one element erasing the need of the `insertPerson` method.","body":"For the specific example, using a its specific property spring framework can accept the <code>Person</code> object as a array and convert it to a list of one element erasing the need of the <code>insertPerson</code> method."}],"answers":[{"tags":[],"owner":{"account_id":7655262,"reputation":7506,"user_id":5802417,"display_name":"Michael Gantman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681120410,"creation_date":1681120410,"answer_id":75976028,"question_id":75975860,"body_markdown":"No, you can not do that. The methods have to have different paths such as \r\n\r\n    @PostMapping(&quot;/people&quot;)\r\n        public void insertPeople(@RequestBody List&lt;Person&gt; people) {\r\n            personService.addPeople(people);\r\n        }\r\n    \r\n    @PostMapping(&quot;/person&quot;)\r\n        public void insertPerson(@RequestBody Person person) {\r\n            personService.addPerson(person);\r\n        }\r\n\r\n","title":"Can I add multiple POST methods with rest api?","body":"<p>No, you can not do that. The methods have to have different paths such as</p>\n<pre><code>@PostMapping(&quot;/people&quot;)\n    public void insertPeople(@RequestBody List&lt;Person&gt; people) {\n        personService.addPeople(people);\n    }\n\n@PostMapping(&quot;/person&quot;)\n    public void insertPerson(@RequestBody Person person) {\n        personService.addPerson(person);\n    }\n</code></pre>\n"}],"owner":{"account_id":28263832,"reputation":1,"user_id":21608101,"display_name":"Hooded Dormammu"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":192,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1681138477,"creation_date":1681118919,"question_id":75975860,"body_markdown":"```java\r\n@PostMapping\r\npublic void insertPerson(@RequestBody Person person) {\r\n    personService.addPerson(person);\r\n}\r\n\r\n@PostMapping\r\npublic void insertPeople(@RequestBody List&lt;Person&gt; people) {\r\n    personService.addPeople(people);\r\n}\r\n```\r\n\r\nI want to be able to have multiple POST methods that would be called depending on what JSON format is passed in (I am using postman for this). For example, in the above code, if I pass in just one Person object, I want to call the first method but if I pass in a List of Person objects I want to call the second method. \r\n\r\nIs there an easy way solve this or will I need to come up with some kind of work around method that checks the JSON format and then calls personService.addPerson or personService.addPeople based on the format?\r\n\r\nRunning both at the same time causes an error understandably, and I have checked each method individually, to make sure that they work by themselves.\r\n\r\nI am kind of new to SpringBoot/RestAPI so if anyone has any tips/suggestions on resources I could use to learn better, that would be appreciated!\r\n\r\nThanks!","title":"Can I add multiple POST methods with rest api?","body":"<pre class=\"lang-java prettyprint-override\"><code>@PostMapping\npublic void insertPerson(@RequestBody Person person) {\n    personService.addPerson(person);\n}\n\n@PostMapping\npublic void insertPeople(@RequestBody List&lt;Person&gt; people) {\n    personService.addPeople(people);\n}\n</code></pre>\n<p>I want to be able to have multiple POST methods that would be called depending on what JSON format is passed in (I am using postman for this). For example, in the above code, if I pass in just one Person object, I want to call the first method but if I pass in a List of Person objects I want to call the second method.</p>\n<p>Is there an easy way solve this or will I need to come up with some kind of work around method that checks the JSON format and then calls personService.addPerson or personService.addPeople based on the format?</p>\n<p>Running both at the same time causes an error understandably, and I have checked each method individually, to make sure that they work by themselves.</p>\n<p>I am kind of new to SpringBoot/RestAPI so if anyone has any tips/suggestions on resources I could use to learn better, that would be appreciated!</p>\n<p>Thanks!</p>\n"},{"tags":["java","file","sorting"],"comments":[{"owner":{"account_id":63405,"reputation":68974,"user_id":187697,"accept_rate":100,"display_name":"keyboardP"},"score":4,"creation_date":1263831881,"post_id":2087469,"comment_id":2019451,"body_markdown":"Is there a reason you can&#39;t use a database system? DBs are made for scenarios like this because they are so efficient at sorting through large amounts of data.","body":"Is there a reason you can&#39;t use a database system? DBs are made for scenarios like this because they are so efficient at sorting through large amounts of data."},{"owner":{"account_id":672801,"reputation":511,"user_id":253333,"display_name":"Erika Gomez"},"score":0,"creation_date":1263831953,"post_id":2087469,"comment_id":2019463,"body_markdown":"Yes, the system has been up for 10 years and they are not willing to change it.","body":"Yes, the system has been up for 10 years and they are not willing to change it."},{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":11,"creation_date":1263832382,"post_id":2087469,"comment_id":2019523,"body_markdown":"@Erika: how is introducing a light-weight not-installed database different from introducing a custom-written program that does whatever you wants but is not as well-tested? Both are &quot;changing the system&quot;, technically.","body":"@Erika: how is introducing a light-weight not-installed database different from introducing a custom-written program that does whatever you wants but is not as well-tested? Both are &quot;changing the system&quot;, technically."},{"owner":{"account_id":672801,"reputation":511,"user_id":253333,"display_name":"Erika Gomez"},"score":8,"creation_date":1263832733,"post_id":2087469,"comment_id":2019556,"body_markdown":"Try feeding this to an executive who doesn&#39;t know sh!t about programming. If you can sell it to him, you are my mentor!","body":"Try feeding this to an executive who doesn&#39;t know sh!t about programming. If you can sell it to him, you are my mentor!"},{"owner":{"account_id":63405,"reputation":68974,"user_id":187697,"accept_rate":100,"display_name":"keyboardP"},"score":6,"creation_date":1263835947,"post_id":2087469,"comment_id":2019924,"body_markdown":"Email him the link to this thread :D","body":"Email him the link to this thread :D"},{"owner":{"account_id":36493,"reputation":11667,"user_id":104117,"accept_rate":89,"display_name":"Valentin Rocher"},"score":4,"creation_date":1263891073,"post_id":2087469,"comment_id":2025017,"body_markdown":"if it&#39;s an embedded DB, the executive does not have to know about it","body":"if it&#39;s an embedded DB, the executive does not have to know about it"}],"answers":[{"tags":[],"owner":{"account_id":75807,"reputation":81445,"user_id":217332,"accept_rate":100,"display_name":"danben"},"down_vote_count":1,"up_vote_count":9,"is_accepted":false,"score":8,"last_activity_date":1423404813,"creation_date":1263831911,"answer_id":2087488,"question_id":2087469,"body_markdown":"I would spin up an EC2 cluster and run Hadoop&#39;s [MergeSort][1].\r\n\r\n**Edit**: not sure how much detail you would like, or on what.  EC2 is Amazon&#39;s Elastic Compute Cloud - it lets you rent virtual servers by the hour at low cost.  Here is their [website][2].\r\n\r\nHadoop is an open-source MapReduce framework designed for parallel processing of large data sets.  A job is a good candidate for MapReduce when it can be split into subsets that can be processed individually and then merged together, usually by sorting on keys (ie the divide-and-conquer strategy).  Here is its [website][3].\r\n\r\nAs mentioned by the other posters, external sorting is also a good strategy.  I think the way I would decide between the two depends on the size of the data and speed requirements.  A single machine is likely going to be limited to processing a single file at a time (since you will be using up available memory).  So look into something like EC2 only if you need to process files faster than that.\r\n\r\n\r\n  [1]: https://hadoop.apache.org/docs/r1.2.1/api/org/apache/hadoop/util/MergeSort.html\r\n  [2]: http://aws.amazon.com/ec2/\r\n  [3]: http://hadoop.apache.org/","title":"Sort a file with huge volume of data given memory constraint","body":"<p>I would spin up an EC2 cluster and run Hadoop's <a href=\"https://hadoop.apache.org/docs/r1.2.1/api/org/apache/hadoop/util/MergeSort.html\" rel=\"nofollow noreferrer\">MergeSort</a>.</p>\n\n<p><strong>Edit</strong>: not sure how much detail you would like, or on what.  EC2 is Amazon's Elastic Compute Cloud - it lets you rent virtual servers by the hour at low cost.  Here is their <a href=\"http://aws.amazon.com/ec2/\" rel=\"nofollow noreferrer\">website</a>.</p>\n\n<p>Hadoop is an open-source MapReduce framework designed for parallel processing of large data sets.  A job is a good candidate for MapReduce when it can be split into subsets that can be processed individually and then merged together, usually by sorting on keys (ie the divide-and-conquer strategy).  Here is its <a href=\"http://hadoop.apache.org/\" rel=\"nofollow noreferrer\">website</a>.</p>\n\n<p>As mentioned by the other posters, external sorting is also a good strategy.  I think the way I would decide between the two depends on the size of the data and speed requirements.  A single machine is likely going to be limited to processing a single file at a time (since you will be using up available memory).  So look into something like EC2 only if you need to process files faster than that.</p>\n"},{"tags":[],"owner":{"account_id":90757,"reputation":4591,"user_id":249667,"accept_rate":88,"display_name":"phisch"},"down_vote_count":0,"up_vote_count":57,"is_accepted":true,"score":57,"last_activity_date":1470392380,"creation_date":1263832036,"answer_id":2087506,"question_id":2087469,"body_markdown":"It looks like what you are looking for is \r\n[external sorting][1].\r\n\r\nBasically, you sort small chunks of data first, write it back to the disk and then iterate over those to sort all.\r\n\r\n  [1]: http://en.wikipedia.org/wiki/External_sorting","title":"Sort a file with huge volume of data given memory constraint","body":"<p>It looks like what you are looking for is \n<a href=\"http://en.wikipedia.org/wiki/External_sorting\" rel=\"noreferrer\">external sorting</a>.</p>\n\n<p>Basically, you sort small chunks of data first, write it back to the disk and then iterate over those to sort all.</p>\n"},{"tags":[],"owner":{"account_id":85022,"reputation":13917,"user_id":237321,"accept_rate":75,"display_name":"x4u"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1263835449,"creation_date":1263832123,"answer_id":2087514,"question_id":2087469,"body_markdown":"You can read the files in smaller parts, sort these and write them to temporrary files. Then you read two of them sequentially again and merge them to a bigger temporary file and so on. If there is only one left you have your file sorted. Basically that&#39;s the Megresort algorithm performed on external files. It scales quite well with aribitrary large files but causes some extra file I/O.\r\n\r\nEdit: If you have some knowledge about the likely variance of the lines in your files you can employ a more efficient algorithm (distribution sort). Simplified you would read the original file once and write each line to a temporary file that takes only lines with the same first char (or a certain range of first chars). Then you iterate over all the (now small) temporary files in ascending order, sort them in memory and append them directly to the output file. If a temporary file turns out to be too big for sorting in memory, you can reapeat the same process for this based on the 2nd char in the lines and so on. So if your first partitioning was good enough to produce small enough files, you will have only 100% I/O overhead regardless how large the file is, but in the worst case it can become much more than with the performance wise stable merge sort.","title":"Sort a file with huge volume of data given memory constraint","body":"<p>You can read the files in smaller parts, sort these and write them to temporrary files. Then you read two of them sequentially again and merge them to a bigger temporary file and so on. If there is only one left you have your file sorted. Basically that's the Megresort algorithm performed on external files. It scales quite well with aribitrary large files but causes some extra file I/O.</p>\n\n<p>Edit: If you have some knowledge about the likely variance of the lines in your files you can employ a more efficient algorithm (distribution sort). Simplified you would read the original file once and write each line to a temporary file that takes only lines with the same first char (or a certain range of first chars). Then you iterate over all the (now small) temporary files in ascending order, sort them in memory and append them directly to the output file. If a temporary file turns out to be too big for sorting in memory, you can reapeat the same process for this based on the 2nd char in the lines and so on. So if your first partitioning was good enough to produce small enough files, you will have only 100% I/O overhead regardless how large the file is, but in the worst case it can become much more than with the performance wise stable merge sort.</p>\n"},{"tags":[],"owner":{"account_id":71512,"reputation":528,"user_id":206854,"accept_rate":100,"display_name":"PaulP1975"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1263832929,"creation_date":1263832929,"answer_id":2087605,"question_id":2087469,"body_markdown":"I know you mentioned not using a database no matter how light... so, maybe this is not an option.  But, what about hsqldb in memory... submit it, sort it by query, purge it.  Just a thought.","title":"Sort a file with huge volume of data given memory constraint","body":"<p>I know you mentioned not using a database no matter how light... so, maybe this is not an option.  But, what about hsqldb in memory... submit it, sort it by query, purge it.  Just a thought.</p>\n"},{"tags":[],"owner":{"account_id":48774,"reputation":3662,"user_id":145019,"accept_rate":83,"display_name":"FRotthowe"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1263833324,"creation_date":1263833324,"answer_id":2087653,"question_id":2087469,"body_markdown":"If your restriction is only to not use an *external* database system, you could try an embedded database (e.g. [Apache Derby][1]). That way, you get all the advantages of a database without any external infrastructure dependencies.\r\n\r\n\r\n  [1]: http://db.apache.org/derby/","title":"Sort a file with huge volume of data given memory constraint","body":"<p>If your restriction is only to not use an <em>external</em> database system, you could try an embedded database (e.g. <a href=\"http://db.apache.org/derby/\" rel=\"nofollow noreferrer\">Apache Derby</a>). That way, you get all the advantages of a database without any external infrastructure dependencies.</p>\n"},{"tags":[],"owner":{"account_id":49175,"reputation":23807,"user_id":146347,"accept_rate":100,"display_name":"KLE"},"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1263892881,"creation_date":1263833520,"answer_id":2087671,"question_id":2087469,"body_markdown":"As other mentionned, you can process in steps.  \r\nI would like to explain this with my own words (differs on point 3) :\r\n\r\n1. Read the file sequentially, process N records at a time in memory (N is arbitrary, depending on your memory constraint and the number T of temporary files that you want).\r\n\r\n2. Sort the N records in memory, write them to a temp file. Loop on T until you are done.\r\n\r\n3. **Open all the T temp files at the same time, but read only one record per file.** (Of course, with buffers). For each of these T records, find the smaller, write it to the final file, and advance only in that file.\r\n\r\n--------------------\r\n\r\nAdvantages:\r\n\r\n* The **memory** consumption is as low as you want.\r\n* You only do the **double of disk accesses** comparing to a everything-in-memory policy. Not bad! :-)\r\n\r\n------------------\r\n\r\nExemple with numbers:\r\n\r\n1. Original file with 1 million records.\r\n2. Choose to have 100 temp files, so read and sort 10 000 records at a time, and drop these in their own temp file.\r\n3. Open the 100 temp file at a time, read the first record in memory.\r\n4. Compare the first records, write the smaller and advance this temp file.\r\n5. Loop on step 5, one million times.\r\n\r\n----------------------\r\n\r\n**EDITED**\r\n\r\nYou mentionned a multi-threaded application, so I wonder ...\r\n\r\nAs we seen from these discussions on this need, using less memory gives less performance, with a dramatic factor in this case. So I could also suggest to **use only one thread** to process only one sort at a time, not as a multi-threaded application.\r\n\r\nIf you process ten threads, each with a tenth of the memory available, your performance will be miserable, much much less than a tenth of the initial time. If you use only one thread, and queue the 9 other demands and process them in turn, you global performance will be much better, you will finish the ten tasks much faster.\r\n\r\n--------------------\r\n\r\nAfter reading this response :\r\nhttps://stackoverflow.com/questions/2087469/sort-a-file-with-huge-volume-of-data-given-memory-constraint/2087514#2087514\r\nI suggest you consider this distribution sort. It could be huge gain in your context.\r\n\r\nThe improvement over my proposal is that you don&#39;t need to open all the temp files at once, you only open one of them. It saves your day! :-)","title":"Sort a file with huge volume of data given memory constraint","body":"<p>As other mentionned, you can process in steps.<br>\nI would like to explain this with my own words (differs on point 3) :</p>\n\n<ol>\n<li><p>Read the file sequentially, process N records at a time in memory (N is arbitrary, depending on your memory constraint and the number T of temporary files that you want).</p></li>\n<li><p>Sort the N records in memory, write them to a temp file. Loop on T until you are done.</p></li>\n<li><p><strong>Open all the T temp files at the same time, but read only one record per file.</strong> (Of course, with buffers). For each of these T records, find the smaller, write it to the final file, and advance only in that file.</p></li>\n</ol>\n\n<hr>\n\n<p>Advantages:</p>\n\n<ul>\n<li>The <strong>memory</strong> consumption is as low as you want.</li>\n<li>You only do the <strong>double of disk accesses</strong> comparing to a everything-in-memory policy. Not bad! :-)</li>\n</ul>\n\n<hr>\n\n<p>Exemple with numbers:</p>\n\n<ol>\n<li>Original file with 1 million records.</li>\n<li>Choose to have 100 temp files, so read and sort 10 000 records at a time, and drop these in their own temp file.</li>\n<li>Open the 100 temp file at a time, read the first record in memory.</li>\n<li>Compare the first records, write the smaller and advance this temp file.</li>\n<li>Loop on step 5, one million times.</li>\n</ol>\n\n<hr>\n\n<p><strong>EDITED</strong></p>\n\n<p>You mentionned a multi-threaded application, so I wonder ...</p>\n\n<p>As we seen from these discussions on this need, using less memory gives less performance, with a dramatic factor in this case. So I could also suggest to <strong>use only one thread</strong> to process only one sort at a time, not as a multi-threaded application.</p>\n\n<p>If you process ten threads, each with a tenth of the memory available, your performance will be miserable, much much less than a tenth of the initial time. If you use only one thread, and queue the 9 other demands and process them in turn, you global performance will be much better, you will finish the ten tasks much faster.</p>\n\n<hr>\n\n<p>After reading this response :\n<a href=\"https://stackoverflow.com/questions/2087469/sort-a-file-with-huge-volume-of-data-given-memory-constraint/2087514#2087514\">Sort a file with huge volume of data given memory constraint</a>\nI suggest you consider this distribution sort. It could be huge gain in your context.</p>\n\n<p>The improvement over my proposal is that you don't need to open all the temp files at once, you only open one of them. It saves your day! :-)</p>\n"},{"tags":[],"owner":{"account_id":76254,"reputation":659,"user_id":218447,"display_name":"user218447"},"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1442331863,"creation_date":1263834957,"answer_id":2087814,"question_id":2087469,"body_markdown":"If you can move forward/backward in a file (seek), and rewrite parts of the file, then you should use [bubble sort][1].\r\n\r\nYou will have to scan lines in the file, and only have to have 2 rows in memory at the moment, and then swap them if they are not in the right order. Repeat the process until there are no files to swap.\r\n\r\n[1]: http://en.wikipedia.org/wiki/Bubble_sort","title":"Sort a file with huge volume of data given memory constraint","body":"<p>If you can move forward/backward in a file (seek), and rewrite parts of the file, then you should use <a href=\"http://en.wikipedia.org/wiki/Bubble_sort\" rel=\"nofollow noreferrer\">bubble sort</a>.</p>\n\n<p>You will have to scan lines in the file, and only have to have 2 rows in memory at the moment, and then swap them if they are not in the right order. Repeat the process until there are no files to swap.</p>\n"},{"tags":[],"owner":{"account_id":12007,"reputation":17671,"user_id":23424,"accept_rate":92,"display_name":"VoidPointer"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1263835420,"creation_date":1263835042,"answer_id":2087828,"question_id":2087469,"body_markdown":"You could use the following divide-and-conquer strategy:\r\n\r\nCreate a function H() that can assign each record in the input file a number. For a record r2 that will be sorted behind a record r1 it must return a larger number for r2 than for r1. Use this function to partition all the records into separate files that will fit into memory so you can sort them. Once you have done that you can just concatenate the sorted files to get one large sorted file.\r\n\r\nSuppose you have this input file where each line represents a record\r\n  \r\n    Alan Smith\r\n    Jon Doe\r\n    Bill Murray\r\n    Johnny Cash\r\n\r\nLets just build H() so that it uses the first letter in the record so you might get up to 26 files but in this example you will just get 3:\r\n\r\n    &lt;file1&gt;\r\n    Alan Smith\r\n\r\n    &lt;file2&gt;\r\n    Bill Murray\r\n\r\n    &lt;file10&gt;\r\n    Jon Doe\r\n    Johnny Cash\r\n    \r\n\r\nNow you can sort each individual file. Which would swap &quot;Jon Doe&quot; and &quot;Johnny Cash&quot; in &amp;lt;file10&amp;gt;. Now, if you just concatenate the 3 files you&#39;ll have a sorted version of the input.\r\n\r\nNote that you divide first and only conquer (sort) later. However, you make sure to do the partitioning in a way that the resulting parts which you need to sort don&#39;t overlap which will make merging the result much simpler. \r\n\r\nThe method by which you implement the partitioning function H() depends very much on the nature of your input data. Once you have that part figured out the rest should be a breeze.\r\n","title":"Sort a file with huge volume of data given memory constraint","body":"<p>You could use the following divide-and-conquer strategy:</p>\n\n<p>Create a function H() that can assign each record in the input file a number. For a record r2 that will be sorted behind a record r1 it must return a larger number for r2 than for r1. Use this function to partition all the records into separate files that will fit into memory so you can sort them. Once you have done that you can just concatenate the sorted files to get one large sorted file.</p>\n\n<p>Suppose you have this input file where each line represents a record</p>\n\n<pre><code>Alan Smith\nJon Doe\nBill Murray\nJohnny Cash\n</code></pre>\n\n<p>Lets just build H() so that it uses the first letter in the record so you might get up to 26 files but in this example you will just get 3:</p>\n\n<pre><code>&lt;file1&gt;\nAlan Smith\n\n&lt;file2&gt;\nBill Murray\n\n&lt;file10&gt;\nJon Doe\nJohnny Cash\n</code></pre>\n\n<p>Now you can sort each individual file. Which would swap \"Jon Doe\" and \"Johnny Cash\" in &lt;file10&gt;. Now, if you just concatenate the 3 files you'll have a sorted version of the input.</p>\n\n<p>Note that you divide first and only conquer (sort) later. However, you make sure to do the partitioning in a way that the resulting parts which you need to sort don't overlap which will make merging the result much simpler. </p>\n\n<p>The method by which you implement the partitioning function H() depends very much on the nature of your input data. Once you have that part figured out the rest should be a breeze.</p>\n"},{"tags":[],"owner":{"account_id":585602,"reputation":221,"user_id":253395,"display_name":"Eduardo"},"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1434876556,"creation_date":1263835914,"answer_id":2087931,"question_id":2087469,"body_markdown":"In spite of your restriction, I would use embedded database [SQLITE3][1]. Like yourself, I work weekly with 10-15 millions of flat file lines and it is very, very fast to import and generate sorted data, and you only need a little free of charge executable (sqlite3.exe). For example: Once you download the `.exe` file, in a command prompt you can do this:\r\n\r\n    C:&gt; sqlite3.exe dbLines.db\r\n    sqlite&gt; create table tabLines(line varchar(5000));\r\n    sqlite&gt; create index idx1 on tabLines(line);\r\n    sqlite&gt; .separator &#39;\\r\\n&#39;\r\n    sqlite&gt; .import &#39;FileToImport&#39; TabLines\r\n\r\nthen:\r\n\r\n    sqlite&gt; select * from tabLines order by line;\r\n\r\n    or save to a file:\r\n    sqlite&gt; .output out.txt\r\n    sqlite&gt; select * from tabLines order by line;\r\n    sqlite&gt; .output stdout\r\n\r\n\r\n  [1]: http://sqlite.org/","title":"Sort a file with huge volume of data given memory constraint","body":"<p>In spite of your restriction, I would use embedded database <a href=\"http://sqlite.org/\" rel=\"noreferrer\">SQLITE3</a>. Like yourself, I work weekly with 10-15 millions of flat file lines and it is very, very fast to import and generate sorted data, and you only need a little free of charge executable (sqlite3.exe). For example: Once you download the <code>.exe</code> file, in a command prompt you can do this:</p>\n\n<pre><code>C:&gt; sqlite3.exe dbLines.db\nsqlite&gt; create table tabLines(line varchar(5000));\nsqlite&gt; create index idx1 on tabLines(line);\nsqlite&gt; .separator '\\r\\n'\nsqlite&gt; .import 'FileToImport' TabLines\n</code></pre>\n\n<p>then:</p>\n\n<pre><code>sqlite&gt; select * from tabLines order by line;\n\nor save to a file:\nsqlite&gt; .output out.txt\nsqlite&gt; select * from tabLines order by line;\nsqlite&gt; .output stdout\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2366038,"reputation":305,"user_id":2071703,"display_name":"user2071703"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1360840159,"creation_date":1360840159,"answer_id":14873421,"question_id":2087469,"body_markdown":"You can use SQL Lite file db, load the data to the db and then let it sort and return the results for you.\r\nAdvantages: No need to worry about writing the best sorting algorithm.\r\nDisadvantage: You will need disk space, slower processing.\r\nhttps://sites.google.com/site/arjunwebworld/Home/programming/sorting-large-data-files\r\n","title":"Sort a file with huge volume of data given memory constraint","body":"<p>You can use SQL Lite file db, load the data to the db and then let it sort and return the results for you.\nAdvantages: No need to worry about writing the best sorting algorithm.\nDisadvantage: You will need disk space, slower processing.\n<a href=\"https://sites.google.com/site/arjunwebworld/Home/programming/sorting-large-data-files\" rel=\"nofollow\">https://sites.google.com/site/arjunwebworld/Home/programming/sorting-large-data-files</a></p>\n"},{"tags":[],"owner":{"account_id":3859261,"reputation":11,"user_id":3197393,"display_name":"MayurRB"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1432009741,"creation_date":1431917313,"answer_id":30294391,"question_id":2087469,"body_markdown":"Here is a way to do it without heavy use of sorting in-side Java and without using DB.\r\nAssumptions : You have 1TB space and files contain or start with unique number, but are unsorted\r\n\r\nDivide the files N times.\r\n\r\nRead those N files one by one, and create one file for each line/number\r\n\r\nName that file with corresponding number.While naming keep a counter updated to store least count.\r\n\r\nNow you can already have the root folder of files marked for sorting by name or pause your program to give you the time to fire command on your OS to sort the files by names. You can do it programmatically too. \r\n\r\nNow you have a folder with files sorted with their name, using the counter start taking each file one by one, put  numbers  in your OUTPUT file, close it.\r\n\r\nWhen you are done you will have a large file with sorted numbers.\r\n\r\n","title":"Sort a file with huge volume of data given memory constraint","body":"<p>Here is a way to do it without heavy use of sorting in-side Java and without using DB.\nAssumptions : You have 1TB space and files contain or start with unique number, but are unsorted</p>\n\n<p>Divide the files N times.</p>\n\n<p>Read those N files one by one, and create one file for each line/number</p>\n\n<p>Name that file with corresponding number.While naming keep a counter updated to store least count.</p>\n\n<p>Now you can already have the root folder of files marked for sorting by name or pause your program to give you the time to fire command on your OS to sort the files by names. You can do it programmatically too. </p>\n\n<p>Now you have a folder with files sorted with their name, using the counter start taking each file one by one, put  numbers  in your OUTPUT file, close it.</p>\n\n<p>When you are done you will have a large file with sorted numbers.</p>\n"},{"tags":[],"owner":{"account_id":10782077,"reputation":1,"user_id":7932299,"display_name":"user7932299"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1493798540,"creation_date":1493308267,"answer_id":43662473,"question_id":2087469,"body_markdown":"You can do it with only two temp files - source and destination - and as little memory as you want.\r\nOn first step your source is the original file, on last step the destination is the result file.\r\n\r\nOn each iteration:\r\n\r\n * read from the source file into a sliding buffer a chunk of data half size of the buffer; \r\n * sort the whole buffer\r\n * write to the destination file the first half of the buffer. \r\n * shift the second half of the buffer to the beginning and repeat \r\n\r\nKeep a boolean flag that says whether you had to move some records in current iteration.\r\nIf the flag remains false, your file is sorted.\r\nIf it&#39;s raised, repeat the process using the destination file as a source.\r\n\r\nMax number of iterations: (file size)/(buffer size)*2\r\n ","title":"Sort a file with huge volume of data given memory constraint","body":"<p>You can do it with only two temp files - source and destination - and as little memory as you want.\nOn first step your source is the original file, on last step the destination is the result file.</p>\n\n<p>On each iteration:</p>\n\n<ul>\n<li>read from the source file into a sliding buffer a chunk of data half size of the buffer; </li>\n<li>sort the whole buffer</li>\n<li>write to the destination file the first half of the buffer. </li>\n<li>shift the second half of the buffer to the beginning and repeat </li>\n</ul>\n\n<p>Keep a boolean flag that says whether you had to move some records in current iteration.\nIf the flag remains false, your file is sorted.\nIf it's raised, repeat the process using the destination file as a source.</p>\n\n<p>Max number of iterations: (file size)/(buffer size)*2</p>\n"},{"tags":[],"owner":{"account_id":4601261,"reputation":23897,"user_id":6654942,"accept_rate":25,"display_name":"js2010"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1612901318,"creation_date":1612845652,"answer_id":66113074,"question_id":2087469,"body_markdown":"You *could* download gnu sort for windows: http://gnuwin32.sourceforge.net/packages/coreutils.htm Even if that uses too much memory, it can merge smaller sorted files as well.  It automatically uses temp files.\r\n\r\nThere&#39;s also the sort that comes with windows within cmd.exe.  Both of these commands can specify the character column to sort by.\r\n","title":"Sort a file with huge volume of data given memory constraint","body":"<p>You <em>could</em> download gnu sort for windows: <a href=\"http://gnuwin32.sourceforge.net/packages/coreutils.htm\" rel=\"nofollow noreferrer\">http://gnuwin32.sourceforge.net/packages/coreutils.htm</a> Even if that uses too much memory, it can merge smaller sorted files as well.  It automatically uses temp files.</p>\n<p>There's also the sort that comes with windows within cmd.exe.  Both of these commands can specify the character column to sort by.</p>\n"},{"tags":[],"owner":{"account_id":23973519,"reputation":1,"user_id":17961887,"display_name":"lianzhouxiaowu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642490071,"creation_date":1642490071,"answer_id":70751570,"question_id":2087469,"body_markdown":"File sort software for big file  https://github.com/lianzhoutw/filesort/ .\r\nIt is based on file merge sort algorithm.","title":"Sort a file with huge volume of data given memory constraint","body":"<p>File sort software for big file  <a href=\"https://github.com/lianzhoutw/filesort/\" rel=\"nofollow noreferrer\">https://github.com/lianzhoutw/filesort/</a> .\nIt is based on file merge sort algorithm.</p>\n"},{"tags":[],"owner":{"account_id":4147437,"reputation":1,"user_id":3400753,"display_name":"by he"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681138447,"creation_date":1680711170,"answer_id":75941780,"question_id":2087469,"body_markdown":"Try using **bigsort**, it supports sorting very big file/stream both ascending and descending. It also supports other operations such as shuffle and uniq. \r\nYou can install using the command\r\n&gt; pip install bigsort\r\n\r\nand then sort with the following command\r\n&gt; cat unsorted.txt | bigsort &gt; sorted.txt\r\n\r\n","title":"Sort a file with huge volume of data given memory constraint","body":"<p>Try using <strong>bigsort</strong>, it supports sorting very big file/stream both ascending and descending. It also supports other operations such as shuffle and uniq.\nYou can install using the command</p>\n<blockquote>\n<p>pip install bigsort</p>\n</blockquote>\n<p>and then sort with the following command</p>\n<blockquote>\n<p>cat unsorted.txt | bigsort &gt; sorted.txt</p>\n</blockquote>\n"}],"owner":{"account_id":672801,"reputation":511,"user_id":253333,"display_name":"Erika Gomez"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":87197,"favorite_count":0,"down_vote_count":1,"up_vote_count":51,"accepted_answer_id":2087506,"answer_count":15,"score":50,"last_activity_date":1681138447,"creation_date":1263831743,"question_id":2087469,"body_markdown":"Points: \r\n\r\n- We process thousands of flat files in a day, concurrently. \r\n- Memory constraint is a major issue. \r\n- We use thread for each file process.\r\n- We don&#39;t sort by columns. Each line (record) in the file is treated as one column.\r\n\r\nCan&#39;t Do:\r\n\r\n- We cannot use unix/linux&#39;s sort commands.\r\n- We cannot use any database system no matter how light they can be.\r\n\r\nNow, we cannot just load everything in a collection and use the sort mechanism. It will eat up all the memory and the program is gonna get a heap error.\r\n\r\nIn that situation, how would you sort the records/lines in a file?","title":"Sort a file with huge volume of data given memory constraint","body":"<p>Points: </p>\n\n<ul>\n<li>We process thousands of flat files in a day, concurrently. </li>\n<li>Memory constraint is a major issue. </li>\n<li>We use thread for each file process.</li>\n<li>We don't sort by columns. Each line (record) in the file is treated as one column.</li>\n</ul>\n\n<p>Can't Do:</p>\n\n<ul>\n<li>We cannot use unix/linux's sort commands.</li>\n<li>We cannot use any database system no matter how light they can be.</li>\n</ul>\n\n<p>Now, we cannot just load everything in a collection and use the sort mechanism. It will eat up all the memory and the program is gonna get a heap error.</p>\n\n<p>In that situation, how would you sort the records/lines in a file?</p>\n"},{"tags":["java","android","seekbar"],"owner":{"account_id":27589178,"reputation":1,"user_id":21413844,"display_name":"Felipe O."},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681138258,"creation_date":1680903715,"question_id":75962143,"body_markdown":"When creating my custom `seekBar` I&#39;m having problems, because the thumb is exceeding the progress bar of the seekBar, I would like the thumb to reach the end of the seekbar margin without exceeding it, Problem:\r\n\r\n[![Problem][1]][1]\r\n\r\nI wanted the thumb not to go beyond the progress bar of the seekbar just touching its margin. E.g.:\r\n\r\n[![Example 1][2]][2]\r\n\r\n[![Example 2][3]][3]\r\n\r\nLinear code of seekbar:\r\n```java\r\nLinearLayout linearLayout = new LinearLayout(this);\r\nLinearLayout.LayoutParams layoutParams = new LinearLayout.LayoutParams(-1, dp(30));\r\nlinearLayout.setPadding(5, 5, 0, 5);       \r\nlayoutParams.setMargins(dp(3), dp(1), dp(2), dp(4));       \r\nlinearLayout.setOrientation(LinearLayout.VERTICAL);\r\nlinearLayout.setGravity(Gravity.CENTER);       linearLayout.setBackgroundColor(Color.parseColor(&quot;#000000&quot;));\r\nlinearLayout.getBackground().setAlpha(1);\r\nlinearLayout.setLayoutParams(layoutParams);\r\n```\r\n\r\nCode of seekbar:\r\n\r\n```java\r\n        seekBar.setProgressDrawable(seekbarProgressOff);\r\n        seekBar.setPadding(25, 10, 35, 10);\r\n        seekBar.setSplitTrack(false);\r\n        seekBar.setLayoutParams(new LinearLayout.LayoutParams(-1, dp(18)));\r\n        seekBar.setMax(max);\r\n        seekBar.setProgress(prog);\r\n\t\tseekBar.setElevation(0);\r\n        seekBar.setProgressDrawable(seekbarProgressOff);\r\n        seekBar.setPadding(25, 10, 35, 10);\r\n        seekBar.setSplitTrack(false);\r\n        seekBar.setLayoutParams(new LinearLayout.LayoutParams(-1, dp(18)));\r\n        seekBar.setMax(max);\r\n        seekBar.setProgress(prog);\r\n\t\tseekBar.setElevation(0);\r\n```\r\n        \r\nThanks for help.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/kbiD1.png\r\n  [2]: https://i.stack.imgur.com/edjR0.png\r\n  [3]: https://i.stack.imgur.com/8AFmp.png","title":"How to make the seekbar thumb not exceed the progress margin?","body":"<p>When creating my custom <code>seekBar</code> I'm having problems, because the thumb is exceeding the progress bar of the seekBar, I would like the thumb to reach the end of the seekbar margin without exceeding it, Problem:</p>\n<p><a href=\"https://i.stack.imgur.com/kbiD1.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/kbiD1.png\" alt=\"Problem\" /></a></p>\n<p>I wanted the thumb not to go beyond the progress bar of the seekbar just touching its margin. E.g.:</p>\n<p><a href=\"https://i.stack.imgur.com/edjR0.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/edjR0.png\" alt=\"Example 1\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/8AFmp.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/8AFmp.png\" alt=\"Example 2\" /></a></p>\n<p>Linear code of seekbar:</p>\n<pre class=\"lang-java prettyprint-override\"><code>LinearLayout linearLayout = new LinearLayout(this);\nLinearLayout.LayoutParams layoutParams = new LinearLayout.LayoutParams(-1, dp(30));\nlinearLayout.setPadding(5, 5, 0, 5);       \nlayoutParams.setMargins(dp(3), dp(1), dp(2), dp(4));       \nlinearLayout.setOrientation(LinearLayout.VERTICAL);\nlinearLayout.setGravity(Gravity.CENTER);       linearLayout.setBackgroundColor(Color.parseColor(&quot;#000000&quot;));\nlinearLayout.getBackground().setAlpha(1);\nlinearLayout.setLayoutParams(layoutParams);\n</code></pre>\n<p>Code of seekbar:</p>\n<pre class=\"lang-java prettyprint-override\"><code>        seekBar.setProgressDrawable(seekbarProgressOff);\n        seekBar.setPadding(25, 10, 35, 10);\n        seekBar.setSplitTrack(false);\n        seekBar.setLayoutParams(new LinearLayout.LayoutParams(-1, dp(18)));\n        seekBar.setMax(max);\n        seekBar.setProgress(prog);\n        seekBar.setElevation(0);\n        seekBar.setProgressDrawable(seekbarProgressOff);\n        seekBar.setPadding(25, 10, 35, 10);\n        seekBar.setSplitTrack(false);\n        seekBar.setLayoutParams(new LinearLayout.LayoutParams(-1, dp(18)));\n        seekBar.setMax(max);\n        seekBar.setProgress(prog);\n        seekBar.setElevation(0);\n</code></pre>\n<p>Thanks for help.</p>\n"},{"tags":["java","eclipse","ide","intellij-idea"],"comments":[{"owner":{"account_id":137228,"reputation":5803,"user_id":341275,"accept_rate":100,"display_name":"tamasd"},"score":59,"creation_date":1310064387,"post_id":6615516,"comment_id":7809120,"body_markdown":"You can put the cursor inside the method/variable and press ctrl+q (on PC) or ctrl+j (on mac).","body":"You can put the cursor inside the method/variable and press ctrl+q (on PC) or ctrl+j (on mac)."},{"owner":{"account_id":229776,"reputation":2576,"user_id":589302,"accept_rate":83,"display_name":"Andras Bal&#225;zs Lajtha"},"score":3,"creation_date":1349882722,"post_id":6615516,"comment_id":17345185,"body_markdown":"Should be nice to have that popup while typing the parameters...","body":"Should be nice to have that popup while typing the parameters..."},{"owner":{"account_id":5073215,"reputation":940,"user_id":4071413,"display_name":"killjoy"},"score":1,"creation_date":1496432825,"post_id":6615516,"comment_id":75676597,"body_markdown":"I am still unable to see this after enabling as mentioned below for 2017.1 EAP. I even restarted and nada, I hovered for long.","body":"I am still unable to see this after enabling as mentioned below for 2017.1 EAP. I even restarted and nada, I hovered for long."},{"owner":{"account_id":3478875,"reputation":534,"user_id":2911452,"display_name":"Luc"},"score":0,"creation_date":1641820629,"post_id":6615516,"comment_id":124898863,"body_markdown":"In case none of the answers are working, make sure that you&#39;re not still in a debugging session by accident, which was the case for me.","body":"In case none of the answers are working, make sure that you&#39;re not still in a debugging session by accident, which was the case for me."}],"answers":[{"tags":[],"owner":{"account_id":20937,"reputation":167577,"user_id":50476,"accept_rate":100,"display_name":"Bart Kiers"},"down_vote_count":0,"up_vote_count":149,"is_accepted":false,"score":149,"last_activity_date":1371050169,"creation_date":1310065183,"answer_id":6615678,"question_id":6615516,"body_markdown":"Up until IntelliJ version 11, no, not just by hovering over it. If the cursor is inside the method- or attribute name, then &lt;kbd&gt;CTRL&lt;/kbd&gt;+&lt;kbd&gt;Q&lt;/kbd&gt; will show the JavaDoc on *nix and Windows. On MacOSX, this is &lt;kbd&gt;CTRL&lt;/kbd&gt;+&lt;kbd&gt;J&lt;/kbd&gt;.\r\n\r\nQuote: _&quot;No, the only way to see the full javadoc is to use Quick Doc (Ctrl-Q).&quot;_ -- http://devnet.jetbrains.net/thread/121174\r\n\r\n## EDIT\r\n\r\nSince IntelliJ 12.1, this *is* possible. See @ADNow&#39;s answer.","title":"IntelliJ show JavaDocs tooltip on mouse over","body":"<p>Up until IntelliJ version 11, no, not just by hovering over it. If the cursor is inside the method- or attribute name, then <kbd>CTRL</kbd>+<kbd>Q</kbd> will show the JavaDoc on *nix and Windows. On MacOSX, this is <kbd>CTRL</kbd>+<kbd>J</kbd>.</p>\n\n<p>Quote: <em>\"No, the only way to see the full javadoc is to use Quick Doc (Ctrl-Q).\"</em> -- <a href=\"http://devnet.jetbrains.net/thread/121174\" rel=\"noreferrer\">http://devnet.jetbrains.net/thread/121174</a></p>\n\n<h2>EDIT</h2>\n\n<p>Since IntelliJ 12.1, this <em>is</em> possible. See @ADNow's answer.</p>\n"},{"tags":[],"owner":{"account_id":1730261,"reputation":413,"user_id":1584016,"display_name":"liberty"},"down_vote_count":0,"up_vote_count":28,"is_accepted":false,"score":28,"last_activity_date":1382594872,"creation_date":1358923663,"answer_id":14473955,"question_id":6615516,"body_markdown":"After doing &lt;kbd&gt;CTRL&lt;/kbd&gt;+&lt;kbd&gt;Q&lt;/kbd&gt;, you can \r\n\r\n 1. Pin the tooltip (top right corner)\r\n 2. Check *Docked Mode* (under gear in top right after pinning)\r\n 3. Size as desired\r\n 3. Click icon for *Auto show documentation for selected item* \r\n\r\nThen when you move your cursor, the documentation will appear in this box.  It costs you a little screen real estate, but I find it&#39;s worth it.\r\n\r\nI&#39;d post a screenshot but SO won&#39;t let me post images.\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/bKiZr.png","title":"IntelliJ show JavaDocs tooltip on mouse over","body":"<p>After doing <kbd>CTRL</kbd>+<kbd>Q</kbd>, you can </p>\n\n<ol>\n<li>Pin the tooltip (top right corner)</li>\n<li>Check <em>Docked Mode</em> (under gear in top right after pinning)</li>\n<li>Size as desired</li>\n<li>Click icon for <em>Auto show documentation for selected item</em> </li>\n</ol>\n\n<p>Then when you move your cursor, the documentation will appear in this box.  It costs you a little screen real estate, but I find it's worth it.</p>\n\n<p>I'd post a screenshot but SO won't let me post images.</p>\n"},{"tags":[],"owner":{"account_id":72326,"reputation":8452,"user_id":208881,"accept_rate":89,"display_name":"Andrei Drynov"},"down_vote_count":1,"up_vote_count":101,"is_accepted":false,"score":100,"last_activity_date":1367577926,"creation_date":1367577926,"answer_id":16357065,"question_id":6615516,"body_markdown":"It is possible in 12.1.\r\n\r\nFind **idea.properties** in the BIN folder inside of wherever your IDE is installed, e.g. C:\\Program Files (x86)\\JetBrains\\IntelliJ\\bin\r\n\r\nAdd a new line to the end of that file:\r\n\r\n    auto.show.quick.doc=true\r\n\r\nStart IDEA and just hover your mouse over something:\r\n\r\n![enter image description here][1]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/Itwst.png","title":"IntelliJ show JavaDocs tooltip on mouse over","body":"<p>It is possible in 12.1.</p>\n\n<p>Find <strong>idea.properties</strong> in the BIN folder inside of wherever your IDE is installed, e.g. C:\\Program Files (x86)\\JetBrains\\IntelliJ\\bin</p>\n\n<p>Add a new line to the end of that file:</p>\n\n<pre><code>auto.show.quick.doc=true\n</code></pre>\n\n<p>Start IDEA and just hover your mouse over something:</p>\n\n<p><img src=\"https://i.stack.imgur.com/Itwst.png\" alt=\"enter image description here\"></p>\n"},{"tags":[],"owner":{"account_id":484179,"reputation":1892,"user_id":899698,"accept_rate":78,"display_name":"meoww-"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1370133785,"creation_date":1370133785,"answer_id":16878699,"question_id":6615516,"body_markdown":"Adding on to what ADNow said. On the Macintosh: \r\n\r\n1. Right click on IntelliJ IDEA 12\r\n2. Click on the **Show Package Contents** menu option\r\n3. Open the **bin** folder\r\n4. Open **idea.properties**\r\n5. Add the line:\r\n\r\n     auto.show.quick.doc=true","title":"IntelliJ show JavaDocs tooltip on mouse over","body":"<p>Adding on to what ADNow said. On the Macintosh: </p>\n\n<ol>\n<li>Right click on IntelliJ IDEA 12</li>\n<li>Click on the <strong>Show Package Contents</strong> menu option</li>\n<li>Open the <strong>bin</strong> folder</li>\n<li>Open <strong>idea.properties</strong></li>\n<li><p>Add the line:</p>\n\n<p>auto.show.quick.doc=true</p></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":1376093,"reputation":134,"user_id":1310066,"display_name":"Cjkjvfnby"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1376031554,"creation_date":1376031554,"answer_id":18141568,"question_id":6615516,"body_markdown":"IDEA has &quot;**find action**&quot;:\r\n\r\nOpen &quot;Help&quot; menu, type &quot;doc&quot;, move cursor to &quot;**Quick Documentation**&quot; it will be highlighted.\r\n\r\nAlso &quot;find action&quot; can be called from hot key (you can find it in settings-&gt;hotkeys)\r\n\r\n\r\n  \r\n\r\n","title":"IntelliJ show JavaDocs tooltip on mouse over","body":"<p>IDEA has \"<strong>find action</strong>\":</p>\n\n<p>Open \"Help\" menu, type \"doc\", move cursor to \"<strong>Quick Documentation</strong>\" it will be highlighted.</p>\n\n<p>Also \"find action\" can be called from hot key (you can find it in settings->hotkeys)</p>\n"},{"tags":[],"owner":{"account_id":1029073,"reputation":3238,"user_id":1037754,"accept_rate":100,"display_name":"Michal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1381844608,"creation_date":1381844608,"answer_id":19382821,"question_id":6615516,"body_markdown":"On my IntelliJ U on Mac I need to point with cursor on some method, variable etc. and press [cntrl] or [cmd] key. Then click on the link inside popup window which appeared to see JavaDocs ","title":"IntelliJ show JavaDocs tooltip on mouse over","body":"<p>On my IntelliJ U on Mac I need to point with cursor on some method, variable etc. and press [cntrl] or [cmd] key. Then click on the link inside popup window which appeared to see JavaDocs </p>\n"},{"tags":[],"owner":{"account_id":421155,"reputation":11582,"user_id":799227,"display_name":"vikasing"},"down_vote_count":1,"up_vote_count":942,"is_accepted":true,"score":941,"last_activity_date":1608283739,"creation_date":1387814308,"answer_id":20746942,"question_id":6615516,"body_markdown":"For **IntelliJ 13**, there is a checkbox in Editor&#39;s page in IDE Settings\r\n\r\n![enter image description here][1]\r\n\r\n**EDIT:** For **IntelliJ 14**, the option has been moved to Editor &gt; General page. It&#39;s the last option in the &quot;Other&quot; group. (For Mac the option is under the menu &quot;IntelliJ Idea&quot; &gt; &quot;Preferences&quot;).\r\n\r\n**EDIT:** For **IntelliJ 16**, it&#39;s the second-to-last option in Editor &gt; General &gt; Other. \r\n\r\n**EDIT:** For **IntelliJ Ultimate 2016.1**, it&#39;s been moved to Editor &gt; General &gt; Code Completion. \r\n[![enter image description here][2]][2]\r\n\r\n**EDIT:** For **IntelliJ Ultimate 2017.2, aka IntelliJ IDEA 2017.2.3**, there are actually two options:\r\n\r\n 1. In Editor &gt; General &gt; Other (section) &gt; **Show quick documentation on mouse move - delay 500 ms**\r\n - Select this check box to show quick documentation for the symbol at caret. The quick documentation pop-up window appears after the specified delay.\r\n 1. In Editor &gt; General &gt; Code Completion (sub-item) &gt; **Autopopup documention in 1000 ms, for explicitly invoked completion**\r\n - Select this check box to have IntelliJ IDEA automatically show a pop-up window with the documentation for the class, method, or field currently highlighted in the lookup list. If this check box is not selected, use &lt;kbd&gt;Ctrl&lt;/kbd&gt;+&lt;kbd&gt;Q&lt;/kbd&gt;&#160;to show quick documentation for the element at caret.\r\n - Quick documentation window will automatically pop up with the specified delay in those cases only, when code completion has been invoked explicitly. For the automatic code completion list, documentation window will only show up on pressing &lt;kbd&gt;Ctrl&lt;/kbd&gt;+&lt;kbd&gt;Q&lt;/kbd&gt;.\r\n\r\n**EDIT**: For **IntelliJ Ultimate 2020.3**, the first option is now located under Editor &gt; Code Editing &gt; Quick Documentation &gt; **Show quick documentation on mouse move**\r\n\r\n  [1]: http://i.stack.imgur.com/K0Z2p.jpg\r\n  [2]: http://i.stack.imgur.com/mZTMg.png","title":"IntelliJ show JavaDocs tooltip on mouse over","body":"<p>For <strong>IntelliJ 13</strong>, there is a checkbox in Editor's page in IDE Settings</p>\n<p><img src=\"https://i.stack.imgur.com/K0Z2p.jpg\" alt=\"enter image description here\" /></p>\n<p><strong>EDIT:</strong> For <strong>IntelliJ 14</strong>, the option has been moved to Editor &gt; General page. It's the last option in the &quot;Other&quot; group. (For Mac the option is under the menu &quot;IntelliJ Idea&quot; &gt; &quot;Preferences&quot;).</p>\n<p><strong>EDIT:</strong> For <strong>IntelliJ 16</strong>, it's the second-to-last option in Editor &gt; General &gt; Other.</p>\n<p><strong>EDIT:</strong> For <strong>IntelliJ Ultimate 2016.1</strong>, it's been moved to Editor &gt; General &gt; Code Completion.\n<a href=\"https://i.stack.imgur.com/mZTMg.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/mZTMg.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>EDIT:</strong> For <strong>IntelliJ Ultimate 2017.2, aka IntelliJ IDEA 2017.2.3</strong>, there are actually two options:</p>\n<ol>\n<li>In Editor &gt; General &gt; Other (section) &gt; <strong>Show quick documentation on mouse move - delay 500 ms</strong></li>\n</ol>\n<ul>\n<li>Select this check box to show quick documentation for the symbol at caret. The quick documentation pop-up window appears after the specified delay.</li>\n</ul>\n<ol>\n<li>In Editor &gt; General &gt; Code Completion (sub-item) &gt; <strong>Autopopup documention in 1000 ms, for explicitly invoked completion</strong></li>\n</ol>\n<ul>\n<li>Select this check box to have IntelliJ IDEA automatically show a pop-up window with the documentation for the class, method, or field currently highlighted in the lookup list. If this check box is not selected, use <kbd>Ctrl</kbd>+<kbd>Q</kbd> to show quick documentation for the element at caret.</li>\n<li>Quick documentation window will automatically pop up with the specified delay in those cases only, when code completion has been invoked explicitly. For the automatic code completion list, documentation window will only show up on pressing <kbd>Ctrl</kbd>+<kbd>Q</kbd>.</li>\n</ul>\n<p><strong>EDIT</strong>: For <strong>IntelliJ Ultimate 2020.3</strong>, the first option is now located under Editor &gt; Code Editing &gt; Quick Documentation &gt; <strong>Show quick documentation on mouse move</strong></p>\n"},{"tags":[],"owner":{"account_id":938834,"reputation":1564,"user_id":967288,"display_name":"Matthew Chen"},"down_vote_count":0,"up_vote_count":24,"is_accepted":false,"score":24,"last_activity_date":1395782226,"creation_date":1395782226,"answer_id":22646434,"question_id":6615516,"body_markdown":"In Intellij13, you can use Editor configuration like below:\r\n![enter image description here][1]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/X3LmL.png","title":"IntelliJ show JavaDocs tooltip on mouse over","body":"<p>In Intellij13, you can use Editor configuration like below:\n<img src=\"https://i.stack.imgur.com/X3LmL.png\" alt=\"enter image description here\"></p>\n"},{"tags":[],"owner":{"account_id":5129456,"reputation":954,"user_id":4110190,"display_name":"Jonas Pedersen"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1415314297,"creation_date":1415314297,"answer_id":26790949,"question_id":6615516,"body_markdown":"In IntelliJ IDEA 14, it has moved to: File -&gt; Settings -&gt; Editor -&gt; General -&gt; &quot;Show quick doc on mouse move&quot;","title":"IntelliJ show JavaDocs tooltip on mouse over","body":"<p>In IntelliJ IDEA 14, it has moved to: File -> Settings -> Editor -> General -> \"Show quick doc on mouse move\"</p>\n"},{"tags":[],"owner":{"account_id":5474958,"reputation":151,"user_id":4353178,"display_name":"Amap"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1418373326,"creation_date":1418373326,"answer_id":27439666,"question_id":6615516,"body_markdown":"File--&gt;Settings--&gt;Editor\r\n\r\nCheck &quot;*Show quick doc on mouse*&quot;\r\n\r\n\r\nNow when you put the mouse over a method a tooltip with the documentation will appear. Sometimes the tooltip size is too small and you will have to resize it moving the mouse down to the bottom of the tooltip.\r\n\r\n","title":"IntelliJ show JavaDocs tooltip on mouse over","body":"<p>File-->Settings-->Editor</p>\n\n<p>Check \"<em>Show quick doc on mouse</em>\"</p>\n\n<p>Now when you put the mouse over a method a tooltip with the documentation will appear. Sometimes the tooltip size is too small and you will have to resize it moving the mouse down to the bottom of the tooltip.</p>\n"},{"tags":[],"owner":{"account_id":4597208,"reputation":48209,"user_id":3728901,"accept_rate":58,"display_name":"Vy Do"},"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1423239086,"creation_date":1423238060,"answer_id":28369627,"question_id":6615516,"body_markdown":"IntelliJ IDEA 14.0.3 Ultimate: &lt;br/&gt;&lt;br/&gt;Press &lt;kbd&gt;Ctrl&lt;/kbd&gt;+&lt;kbd&gt;Alt&lt;/kbd&gt;+&lt;kbd&gt;S&lt;/kbd&gt;, then choose `Editor\\General` choose `Show quick domentation on mouse move`&lt;br/&gt;&lt;br/&gt;\r\n![enter image description here][1]\r\n\r\nTips: Look at the top right conner (gear icon) at JavaDoc pop-up window, You can choose:&lt;br/&gt;\r\n- Show Toolbar &lt;br/&gt;\r\n- Pinded Mode &lt;br/&gt;\r\n- Docked Mode &lt;br/&gt;\r\n- Floatting Mode &lt;br/&gt;\r\n- Split Mode &lt;br/&gt;&lt;br/&gt;\r\n![enter image description here][2]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/1SV0h.png\r\n  [2]: http://i.stack.imgur.com/rsPEf.png","title":"IntelliJ show JavaDocs tooltip on mouse over","body":"<p>IntelliJ IDEA 14.0.3 Ultimate: <br/><br/>Press <kbd>Ctrl</kbd>+<kbd>Alt</kbd>+<kbd>S</kbd>, then choose <code>Editor\\General</code> choose <code>Show quick domentation on mouse move</code><br/><br/>\n<img src=\"https://i.stack.imgur.com/1SV0h.png\" alt=\"enter image description here\"></p>\n\n<p>Tips: Look at the top right conner (gear icon) at JavaDoc pop-up window, You can choose:<br/>\n- Show Toolbar <br/>\n- Pinded Mode <br/>\n- Docked Mode <br/>\n- Floatting Mode <br/>\n- Split Mode <br/><br/>\n<img src=\"https://i.stack.imgur.com/rsPEf.png\" alt=\"enter image description here\"></p>\n"},{"tags":[],"owner":{"account_id":4645337,"reputation":6283,"user_id":3763850,"accept_rate":83,"display_name":"Gemtastic"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1431935261,"creation_date":1431935261,"answer_id":30297703,"question_id":6615516,"body_markdown":"On mac in IntelliJ Ultimate (trial) 14 I have mine under `Settings &gt; Editor &gt; General &gt; Code completion`. The tooltip short is F1 on my laptop.\r\n\r\nIt&#39;s called &quot;Autopopup documentation in (ms):&quot;\r\n\r\n![enter image description here][1]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/Ow0P3.png","title":"IntelliJ show JavaDocs tooltip on mouse over","body":"<p>On mac in IntelliJ Ultimate (trial) 14 I have mine under <code>Settings &gt; Editor &gt; General &gt; Code completion</code>. The tooltip short is F1 on my laptop.</p>\n\n<p>It's called \"Autopopup documentation in (ms):\"</p>\n\n<p><img src=\"https://i.stack.imgur.com/Ow0P3.png\" alt=\"enter image description here\"></p>\n"},{"tags":[],"owner":{"account_id":2251762,"reputation":278561,"user_id":1983854,"accept_rate":96,"display_name":"fedorqui"},"down_vote_count":0,"up_vote_count":25,"is_accepted":false,"score":25,"last_activity_date":1459941611,"creation_date":1459941611,"answer_id":36449603,"question_id":6615516,"body_markdown":"For Intellij 15, use the checkbox in `File &gt; Settings &gt; Editor &gt; General` option **Show quick documentation on mouse move**.\r\n\r\n[![enter image description here][1]][1]\r\n\r\nYou can also get there by typing &quot;quick&quot; or something similar in the search box:\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/3JJ8A.png\r\n  [2]: http://i.stack.imgur.com/gUrkt.png","title":"IntelliJ show JavaDocs tooltip on mouse over","body":"<p>For Intellij 15, use the checkbox in <code>File &gt; Settings &gt; Editor &gt; General</code> option <strong>Show quick documentation on mouse move</strong>.</p>\n\n<p><a href=\"https://i.stack.imgur.com/3JJ8A.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/3JJ8A.png\" alt=\"enter image description here\"></a></p>\n\n<p>You can also get there by typing \"quick\" or something similar in the search box:</p>\n\n<p><a href=\"https://i.stack.imgur.com/gUrkt.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/gUrkt.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":[],"owner":{"account_id":2710669,"reputation":301,"user_id":2339206,"display_name":"ozzylee"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1500773028,"creation_date":1500773028,"answer_id":45260744,"question_id":6615516,"body_markdown":"A note for Android Studio (2.3.3 at least) users, because this page came up for my google search &quot;android studio hover javadoc&quot;, and android studio is based on Intellij:\r\n\r\nSee File-&gt;Settings-&gt;Editor-&gt;General: &quot;show quick documentation on mouse moves&quot;,\r\nrather than File-&gt;Settings-&gt;Editor-&gt;General-&gt;Code Completion\r\n&quot;Autopopup documentation in (ms) for explicitly invoked completion&quot; \r\nand &quot;Autopopup in (ms)&quot;, which has been previously talked about.","title":"IntelliJ show JavaDocs tooltip on mouse over","body":"<p>A note for Android Studio (2.3.3 at least) users, because this page came up for my google search \"android studio hover javadoc\", and android studio is based on Intellij:</p>\n\n<p>See File->Settings->Editor->General: \"show quick documentation on mouse moves\",\nrather than File->Settings->Editor->General->Code Completion\n\"Autopopup documentation in (ms) for explicitly invoked completion\" \nand \"Autopopup in (ms)\", which has been previously talked about.</p>\n"},{"tags":[],"owner":{"account_id":159637,"reputation":2203,"user_id":379173,"display_name":"Enrico Giurin"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1501536639,"creation_date":1501536153,"answer_id":45425514,"question_id":6615516,"body_markdown":"The easiest way, at least for me, was:\r\n\r\n - &lt;kbd&gt;Ctrl&lt;/kbd&gt;+&lt;kbd&gt;Shift&lt;/kbd&gt;+&lt;kbd&gt;A&lt;/kbd&gt;\r\n - Type: *show document*\r\n - *Show quick documentation on mouse move* (set it to ON)\r\n\r\n","title":"IntelliJ show JavaDocs tooltip on mouse over","body":"<p>The easiest way, at least for me, was:</p>\n\n<ul>\n<li><kbd>Ctrl</kbd>+<kbd>Shift</kbd>+<kbd>A</kbd></li>\n<li>Type: <em>show document</em></li>\n<li><em>Show quick documentation on mouse move</em> (set it to ON)</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":12915723,"reputation":1,"user_id":9340059,"display_name":"pcxpert"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1546570048,"creation_date":1518203659,"answer_id":48712628,"question_id":6615516,"body_markdown":"**The answer is &lt;kbd&gt;CTRL&lt;/kbd&gt; + &lt;kbd&gt;P&lt;/kbd&gt; (NOT &lt;kbd&gt;CTRL&lt;/kbd&gt; + &lt;kbd&gt;Q&lt;/kbd&gt;)**\r\n\r\nSomeone else posted this answer on JetBrains forum:\r\nThe idea is a different IDE. Try to discover its features and try to make the best of it, rather than trying to emulate whatever you used before.\r\nFor the most part, Idea has very high usability (much better than Eclipse IMHO) and is streamlined for supporting code editing as best as possible (rather than relying on wizards too much for example).\r\n\r\n - Javadoc: &lt;kbd&gt;Ctrl&lt;/kbd&gt;-&lt;kbd&gt;Q&lt;/kbd&gt; \r\n - A quick view of the implementation:  &lt;kbd&gt;Ctrl&lt;/kbd&gt;-&lt;kbd&gt;Shift&lt;/kbd&gt;-&lt;kbd&gt;I&lt;/kbd&gt;\r\n - Show context:  &lt;kbd&gt;Alt&lt;/kbd&gt;-&lt;kbd&gt;Q&lt;/kbd&gt;\r\n - Show parameters (in a method call):  &lt;kbd&gt;Ctrl&lt;/kbd&gt;-&lt;kbd&gt;P&lt;/kbd&gt;\r\n - Show error description.  &lt;kbd&gt;Ctrl&lt;/kbd&gt;-&lt;kbd&gt;F1&lt;/kbd&gt;\r\n\r\n... plus many more shortcuts to navigate in code and different idea views.\r\n\r\nI think it rather nice that you can see just the specific bit of information you are interested in with a simple keystroke.\r\nHave a look at the menus which will also show the possibly modified shortcuts for your keymap.\r\n\r\n0\r\nAvatar\r\nJens Vo&#223;\r\nCreated June 12, 2008, 09:26\r\nAnd, elsandros, in addition to what Stephen writes: Since you seem to be interested in IDEA&#39;s keyboard shortcuts, I highly recommend the &quot;Key Promoter&quot; plugin which helps you memorize the relevant shortcuts quickly.\r\n\r\nAlso very useful is the &quot;Goto Action&quot; feature, invoked by &lt;kbd&gt;Ctrl&lt;/kbd&gt;-&lt;kbd&gt;Shift&lt;/kbd&gt;-&lt;kbd&gt;A&lt;/kbd&gt;. In the popup, you can enter a keyword (e.g. &quot;Javadoc&quot;), and the IDE tells you the available actions matching your search, along with keyboard shortcuts and the containing action groups (which often also give you a clue about how to navigate to the action using the menu).\r\n","title":"IntelliJ show JavaDocs tooltip on mouse over","body":"<p><strong>The answer is <kbd>CTRL</kbd> + <kbd>P</kbd> (NOT <kbd>CTRL</kbd> + <kbd>Q</kbd>)</strong></p>\n\n<p>Someone else posted this answer on JetBrains forum:\nThe idea is a different IDE. Try to discover its features and try to make the best of it, rather than trying to emulate whatever you used before.\nFor the most part, Idea has very high usability (much better than Eclipse IMHO) and is streamlined for supporting code editing as best as possible (rather than relying on wizards too much for example).</p>\n\n<ul>\n<li>Javadoc: <kbd>Ctrl</kbd>-<kbd>Q</kbd> </li>\n<li>A quick view of the implementation:  <kbd>Ctrl</kbd>-<kbd>Shift</kbd>-<kbd>I</kbd></li>\n<li>Show context:  <kbd>Alt</kbd>-<kbd>Q</kbd></li>\n<li>Show parameters (in a method call):  <kbd>Ctrl</kbd>-<kbd>P</kbd></li>\n<li>Show error description.  <kbd>Ctrl</kbd>-<kbd>F1</kbd></li>\n</ul>\n\n<p>... plus many more shortcuts to navigate in code and different idea views.</p>\n\n<p>I think it rather nice that you can see just the specific bit of information you are interested in with a simple keystroke.\nHave a look at the menus which will also show the possibly modified shortcuts for your keymap.</p>\n\n<p>0\nAvatar\nJens Voß\nCreated June 12, 2008, 09:26\nAnd, elsandros, in addition to what Stephen writes: Since you seem to be interested in IDEA's keyboard shortcuts, I highly recommend the \"Key Promoter\" plugin which helps you memorize the relevant shortcuts quickly.</p>\n\n<p>Also very useful is the \"Goto Action\" feature, invoked by <kbd>Ctrl</kbd>-<kbd>Shift</kbd>-<kbd>A</kbd>. In the popup, you can enter a keyword (e.g. \"Javadoc\"), and the IDE tells you the available actions matching your search, along with keyboard shortcuts and the containing action groups (which often also give you a clue about how to navigate to the action using the menu).</p>\n"},{"tags":[],"owner":{"account_id":6983262,"reputation":2982,"user_id":5355272,"accept_rate":25,"display_name":"avp"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1527878811,"creation_date":1527878811,"answer_id":50649413,"question_id":6615516,"body_markdown":"All of the above methods are useful but one basic thing missing you need to have **src.zip** in your JDK (C:\\Program Files\\Java\\jdk1.8.0_171). I assumed it comes preinstalled but for some reason, it was not present in my installation. Another thing to check is if your project is using the specified (1.8.0_171 in this case) JDK.","title":"IntelliJ show JavaDocs tooltip on mouse over","body":"<p>All of the above methods are useful but one basic thing missing you need to have <strong>src.zip</strong> in your JDK (C:\\Program Files\\Java\\jdk1.8.0_171). I assumed it comes preinstalled but for some reason, it was not present in my installation. Another thing to check is if your project is using the specified (1.8.0_171 in this case) JDK.</p>\n"},{"tags":[],"owner":{"account_id":2252907,"reputation":2755,"user_id":1984767,"accept_rate":50,"display_name":"Leviand"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1583739713,"creation_date":1537802347,"answer_id":52482504,"question_id":6615516,"body_markdown":"From **IntelliJ Ultimate 2018.1.5, aka IntelliJ IDEA 2018.1.5, till 2019.3** ,  there are actually two options under File -&gt; Preferences:\r\n\r\n 1. In Editor &gt; General &gt; Other (section) &gt; **Show quick documentation on mouse move - delay 500 ms**\r\n - Select this check box to show quick documentation for the symbol at caret. The quick documentation pop-up window appears after the specified delay.\r\n 1. In Editor &gt; General &gt; Code Completion (sub-item) &gt; **Auto-display documentation in 1000 ms**\r\n - Select this check box to have IntelliJ IDEA automatically show a pop-up window with the documentation for the class, method, or field currently highlighted in the lookup list. If this check box is not selected, use &lt;kbd&gt;Ctrl&lt;/kbd&gt;+&lt;kbd&gt;Q&lt;/kbd&gt; to show quick documentation for the element at caret.\r\n - Quick documentation window will automatically pop up with the specified delay in those cases only, when code completion has been invoked explicitly. For the automatic code completion list, documentation window will only show up on pressing &lt;kbd&gt;Ctrl&lt;/kbd&gt;+&lt;kbd&gt;Q&lt;/kbd&gt;.","title":"IntelliJ show JavaDocs tooltip on mouse over","body":"<p>From <strong>IntelliJ Ultimate 2018.1.5, aka IntelliJ IDEA 2018.1.5, till 2019.3</strong> ,  there are actually two options under File -> Preferences:</p>\n\n<ol>\n<li>In Editor > General > Other (section) > <strong>Show quick documentation on mouse move - delay 500 ms</strong>\n\n<ul>\n<li>Select this check box to show quick documentation for the symbol at caret. The quick documentation pop-up window appears after the specified delay.</li>\n</ul></li>\n<li>In Editor > General > Code Completion (sub-item) > <strong>Auto-display documentation in 1000 ms</strong>\n\n<ul>\n<li>Select this check box to have IntelliJ IDEA automatically show a pop-up window with the documentation for the class, method, or field currently highlighted in the lookup list. If this check box is not selected, use <kbd>Ctrl</kbd>+<kbd>Q</kbd> to show quick documentation for the element at caret.</li>\n<li>Quick documentation window will automatically pop up with the specified delay in those cases only, when code completion has been invoked explicitly. For the automatic code completion list, documentation window will only show up on pressing <kbd>Ctrl</kbd>+<kbd>Q</kbd>.</li>\n</ul></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":1781971,"reputation":1210,"user_id":1624454,"accept_rate":67,"display_name":"Praveen Tiwari"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1568978890,"creation_date":1568978890,"answer_id":58027514,"question_id":6615516,"body_markdown":"I tried many ways mentioned here, especially the preference - editor - general - code completion - show documentation popup in.. isn&#39;t working in **version 2019.2.2**\r\n\r\nFinally, i am just using `F1` while caret is on the type/method and it displays the documentation nicely. This is not ideal but helpful.","title":"IntelliJ show JavaDocs tooltip on mouse over","body":"<p>I tried many ways mentioned here, especially the preference - editor - general - code completion - show documentation popup in.. isn't working in <strong>version 2019.2.2</strong></p>\n\n<p>Finally, i am just using <code>F1</code> while caret is on the type/method and it displays the documentation nicely. This is not ideal but helpful.</p>\n"},{"tags":[],"owner":{"account_id":8074479,"reputation":193,"user_id":6222252,"display_name":"Slimane Deb"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1577529834,"creation_date":1577529834,"answer_id":59510152,"question_id":6615516,"body_markdown":"In Intellij 2019, I did:  File &gt; Settings &gt; Editor &gt; General option Show quick documentation on mouse move.","title":"IntelliJ show JavaDocs tooltip on mouse over","body":"<p>In Intellij 2019, I did:  File > Settings > Editor > General option Show quick documentation on mouse move.</p>\n"},{"tags":[],"owner":{"account_id":3175948,"reputation":74316,"user_id":2683814,"accept_rate":100,"display_name":"s7vr"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1589558743,"creation_date":1589558743,"answer_id":61823619,"question_id":6615516,"body_markdown":"In 2020.1 there is [in editor javadocs](https://www.jetbrains.com/help/idea/working-with-code-documentation.html#toggle-rendered-view) rendering has been added. Screen shots borrowed from intellij documentation.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n[![enter image description here][2]][2]\r\n[![enter image description here][3]][3]\r\n\r\n[![enter image description here][4]][4]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/dfzGp.png\r\n  [2]: https://i.stack.imgur.com/0u3Me.png\r\n  [3]: https://i.stack.imgur.com/VrW9L.png\r\n  [4]: https://i.stack.imgur.com/FyJHL.png","title":"IntelliJ show JavaDocs tooltip on mouse over","body":"<p>In 2020.1 there is <a href=\"https://www.jetbrains.com/help/idea/working-with-code-documentation.html#toggle-rendered-view\" rel=\"nofollow noreferrer\">in editor javadocs</a> rendering has been added. Screen shots borrowed from intellij documentation.</p>\n\n<p><a href=\"https://i.stack.imgur.com/dfzGp.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/dfzGp.png\" alt=\"enter image description here\"></a></p>\n\n<p><a href=\"https://i.stack.imgur.com/0u3Me.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/0u3Me.png\" alt=\"enter image description here\"></a>\n<a href=\"https://i.stack.imgur.com/VrW9L.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/VrW9L.png\" alt=\"enter image description here\"></a></p>\n\n<p><a href=\"https://i.stack.imgur.com/FyJHL.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/FyJHL.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":[],"owner":{"account_id":23537034,"reputation":21,"user_id":17581844,"display_name":"Grobenek"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681138028,"creation_date":1681138028,"answer_id":75978098,"question_id":6615516,"body_markdown":"If you are on MacOS, the fix was for me to disable:\r\nSettings -&gt; Appearance &amp; Behavior -&gt; Appearance -&gt; Support screen readers\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/gMwpV.png","title":"IntelliJ show JavaDocs tooltip on mouse over","body":"<p>If you are on MacOS, the fix was for me to disable:\nSettings -&gt; Appearance &amp; Behavior -&gt; Appearance -&gt; Support screen readers\n<a href=\"https://i.stack.imgur.com/gMwpV.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/gMwpV.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":12404,"reputation":62016,"user_id":24396,"accept_rate":74,"display_name":"Steve Kuo"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":188050,"favorite_count":0,"down_vote_count":1,"up_vote_count":676,"accepted_answer_id":20746942,"answer_count":22,"score":675,"last_activity_date":1681138028,"creation_date":1310064152,"question_id":6615516,"body_markdown":"In Eclipse, when hovering over a method, variable, etc. a tooltip is displayed with the corresponding JavaDocs. Is there such a feature in IntelliJ?","title":"IntelliJ show JavaDocs tooltip on mouse over","body":"<p>In Eclipse, when hovering over a method, variable, etc. a tooltip is displayed with the corresponding JavaDocs. Is there such a feature in IntelliJ?</p>\n"},{"tags":["java","maven","intellij-idea","jar","dependencies"],"comments":[{"owner":{"account_id":36734,"reputation":392117,"user_id":104891,"display_name":"CrazyCoder"},"score":1,"creation_date":1681138571,"post_id":75978079,"comment_id":134004504,"body_markdown":"The correct way would be to import the project from Maven per https://www.jetbrains.com/help/idea/maven-support.html#maven_import_project_start. All the dependencies must be defined in `pom.xml` file. IDE will configure them automatically.","body":"The correct way would be to import the project from Maven per <a href=\"https://www.jetbrains.com/help/idea/maven-support.html#maven_import_project_start\" rel=\"nofollow noreferrer\">jetbrains.com/help/idea/&hellip;</a>. All the dependencies must be defined in <code>pom.xml</code> file. IDE will configure them automatically."},{"owner":{"account_id":2264130,"reputation":38897,"user_id":1993366,"accept_rate":86,"display_name":"vikingsteve"},"score":0,"creation_date":1681195998,"post_id":75978079,"comment_id":134013015,"body_markdown":"what is in your pom.xml? have you defined any dependencies","body":"what is in your pom.xml? have you defined any dependencies"}],"owner":{"account_id":24492337,"reputation":45,"user_id":18409225,"display_name":"Tasbeeh"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":109,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681137876,"creation_date":1681137876,"question_id":75978079,"body_markdown":"I have jar files in .m2 folder, but they are not added as maven libraries when I open my project in intellij. I know how to add them one by one from (File &gt; Project Structure &gt; Plus sign &gt; search locally for the jar file &gt; choose it), But I need to add all of them at once since there are many of them (65 Jar file) and it&#39;s hard to add them individually. ","title":"How to add all Jar files exist in .m2 folder to maven libraries at once?","body":"<p>I have jar files in .m2 folder, but they are not added as maven libraries when I open my project in intellij. I know how to add them one by one from (File &gt; Project Structure &gt; Plus sign &gt; search locally for the jar file &gt; choose it), But I need to add all of them at once since there are many of them (65 Jar file) and it's hard to add them individually.</p>\n"},{"tags":["java","android","xml","google-maps-android-api-2","google-street-view-static-api"],"comments":[{"owner":{"account_id":3726977,"reputation":3340,"user_id":3100601,"display_name":"ror"},"score":0,"creation_date":1681137237,"post_id":75977977,"comment_id":134004221,"body_markdown":"oh my but error says it all for you? &quot;is in the      &lt;application&gt; element of AndroidManifest.x&quot;","body":"oh my but error says it all for you? &quot;is in the      &lt;application&gt; element of AndroidManifest.x&quot;"},{"owner":{"account_id":2197099,"reputation":2498,"user_id":1942463,"display_name":"Rajasekaran M"},"score":0,"creation_date":1681137277,"post_id":75977977,"comment_id":134004230,"body_markdown":"you forgot to add meta tag for google API key. error showing clearly. So add `&lt;meta-data     android:name=&quot;com.google.android.geo.API_KEY&quot; android:value=&quot;your API key&quot;/&gt;` in manifest inside application tag","body":"you forgot to add meta tag for google API key. error showing clearly. So add <code>&lt;meta-data     android:name=&quot;com.google.android.geo.API_KEY&quot; android:value=&quot;your API key&quot;&#47;&gt;</code> in manifest inside application tag"},{"owner":{"account_id":28236680,"reputation":19,"user_id":21585033,"display_name":"bofa"},"score":0,"creation_date":1681138609,"post_id":75977977,"comment_id":134004509,"body_markdown":"I did add the meta data tag though? It&#39;s clearly in the manifest xml file","body":"I did add the meta data tag though? It&#39;s clearly in the manifest xml file"}],"owner":{"account_id":28236680,"reputation":19,"user_id":21585033,"display_name":"bofa"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":75,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681136937,"creation_date":1681136937,"question_id":75977977,"body_markdown":"I&#39;ve been struggling w this project for weeks now. Specifically getting the API Keys to work, I&#39;m not sure what I&#39;m doing wrong. My code is as follows:\r\n\r\n```\r\npackage com.example.hopefullyfinalgeoguessr;\r\n\r\nimport android.os.Bundle;\r\n\r\nimport com.google.android.gms.maps.OnStreetViewPanoramaReadyCallback;\r\nimport com.google.android.gms.maps.StreetViewPanorama;\r\nimport com.google.android.gms.maps.StreetViewPanoramaView;\r\nimport com.google.android.gms.maps.SupportStreetViewPanoramaFragment;\r\nimport com.google.android.gms.maps.model.LatLng;\r\nimport com.google.android.material.snackbar.Snackbar;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\n\r\nimport android.view.View;\r\n\r\nimport androidx.navigation.NavController;\r\nimport androidx.navigation.Navigation;\r\nimport androidx.navigation.ui.AppBarConfiguration;\r\nimport androidx.navigation.ui.NavigationUI;\r\n\r\nimport com.example.hopefullyfinalgeoguessr.databinding.ActivityMainBinding;\r\n\r\nimport android.view.Menu;\r\nimport android.view.MenuItem;\r\n\r\nimport java.util.Random;\r\n\r\npublic class MainActivity extends AppCompatActivity implements OnStreetViewPanoramaReadyCallback {\r\n\r\n    private StreetViewPanorama streetViewPanorama;\r\n    private boolean secondlocation = false;\r\n    private static final double MIN_LATITUDE = -90;\r\n    private static final double MAX_LATITUDE = 90;\r\n    private static final double MIN_LONGITUDE = -180;\r\n    private static final double MAX_LONGITUDE = 180;\r\n\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n        SupportStreetViewPanoramaFragment streetViewPanoramaFragment = (SupportStreetViewPanoramaFragment)getSupportFragmentManager().findFragmentById(R.id.googlemapstreetview);\r\n        streetViewPanoramaFragment.getStreetViewPanoramaAsync(this);\r\n\r\n    }\r\n\r\n\r\n    @Override\r\n    public void onStreetViewPanoramaReady(StreetViewPanorama streetViewPanorama) {\r\n\r\n        Random random = new Random();\r\n        double lat = MIN_LATITUDE + (MAX_LATITUDE - MIN_LATITUDE) * random.nextDouble();\r\n        double lng = MIN_LONGITUDE + (MAX_LONGITUDE - MIN_LONGITUDE) * random.nextDouble();\r\n        LatLng randomLocation = new LatLng(lat,lng);\r\n\r\n        this.streetViewPanorama.setPosition(randomLocation);\r\n\r\n    }\r\n}\r\n\r\n```\r\n\r\nmanifest xml:\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;&gt;\r\n\r\n    &lt;application\r\n        android:allowBackup=&quot;true&quot;\r\n        android:dataExtractionRules=&quot;@xml/data_extraction_rules&quot;\r\n        android:fullBackupContent=&quot;@xml/backup_rules&quot;\r\n        android:icon=&quot;@mipmap/ic_launcher&quot;\r\n        android:label=&quot;@string/app_name&quot;\r\n        android:supportsRtl=&quot;true&quot;\r\n        android:theme=&quot;@style/Theme.Hopefullyfinalgeoguessr&quot;\r\n        tools:targetApi=&quot;31&quot;&gt;\r\n        &lt;activity\r\n            android:name=&quot;.MainActivity&quot;\r\n            android:exported=&quot;true&quot;\r\n            android:label=&quot;@string/app_name&quot;\r\n            android:theme=&quot;@style/Theme.Hopefullyfinalgeoguessr.NoActionBar&quot;&gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n\r\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n\r\n            &lt;meta-data\r\n                android:name=&quot;com.google.android.maps.API_KEY&quot;\r\n                android:value=&quot;redacted&quot; /&gt;\r\n            &lt;meta-data\r\n                android:name=&quot;com.google.android.geo.API_KEY&quot;\r\n                android:value=&quot;redacted&quot; /&gt;\r\n            &lt;meta-data\r\n                android:name=&quot;com.google.android.streetview.API_KEY&quot;\r\n                android:value=&quot;redacted&quot; /&gt;\r\n\r\n\r\n        &lt;/activity&gt;\r\n    &lt;/application&gt;\r\n\r\n&lt;/manifest&gt;\r\n\r\nlayout xml:\r\n\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;RelativeLayout\r\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    tools:context=&quot;.MainActivity&quot;&gt;\r\n\r\n        &lt;fragment\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;match_parent&quot;\r\n                android:layout_centerInParent=&quot;true&quot;\r\n                android:id=&quot;@+id/googlemapstreetview&quot;\r\n                android:name=&quot;com.google.android.gms.maps.SupportStreetViewPanoramaFragment&quot; /&gt;\r\n\r\n\r\n\r\n\r\n&lt;/RelativeLayout&gt;\r\n\r\n```\r\nI tried GPT to walk me through this and several YouTube tutorials. I was expecting my street view to load onto the emulator however this is the error message I&#39;m receiving in my logcat:\r\n\r\n\r\n    \r\n```\r\nCaused by: java.lang.RuntimeException: API key not found.  Check that &lt;meta-data     android:name=&quot;com.google.android.geo.API_KEY&quot; android:value=&quot;your API key&quot;/&gt; is in the      &lt;application&gt; element of AndroidManifest.xml\r\n```\r\n\r\nI think that it&#39;s due to my project not recognzing the API.","title":"API Key not Found for google maps sdk for android","body":"<p>I've been struggling w this project for weeks now. Specifically getting the API Keys to work, I'm not sure what I'm doing wrong. My code is as follows:</p>\n<pre><code>package com.example.hopefullyfinalgeoguessr;\n\nimport android.os.Bundle;\n\nimport com.google.android.gms.maps.OnStreetViewPanoramaReadyCallback;\nimport com.google.android.gms.maps.StreetViewPanorama;\nimport com.google.android.gms.maps.StreetViewPanoramaView;\nimport com.google.android.gms.maps.SupportStreetViewPanoramaFragment;\nimport com.google.android.gms.maps.model.LatLng;\nimport com.google.android.material.snackbar.Snackbar;\n\nimport androidx.annotation.NonNull;\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport android.view.View;\n\nimport androidx.navigation.NavController;\nimport androidx.navigation.Navigation;\nimport androidx.navigation.ui.AppBarConfiguration;\nimport androidx.navigation.ui.NavigationUI;\n\nimport com.example.hopefullyfinalgeoguessr.databinding.ActivityMainBinding;\n\nimport android.view.Menu;\nimport android.view.MenuItem;\n\nimport java.util.Random;\n\npublic class MainActivity extends AppCompatActivity implements OnStreetViewPanoramaReadyCallback {\n\n    private StreetViewPanorama streetViewPanorama;\n    private boolean secondlocation = false;\n    private static final double MIN_LATITUDE = -90;\n    private static final double MAX_LATITUDE = 90;\n    private static final double MIN_LONGITUDE = -180;\n    private static final double MAX_LONGITUDE = 180;\n\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n        SupportStreetViewPanoramaFragment streetViewPanoramaFragment = (SupportStreetViewPanoramaFragment)getSupportFragmentManager().findFragmentById(R.id.googlemapstreetview);\n        streetViewPanoramaFragment.getStreetViewPanoramaAsync(this);\n\n    }\n\n\n    @Override\n    public void onStreetViewPanoramaReady(StreetViewPanorama streetViewPanorama) {\n\n        Random random = new Random();\n        double lat = MIN_LATITUDE + (MAX_LATITUDE - MIN_LATITUDE) * random.nextDouble();\n        double lng = MIN_LONGITUDE + (MAX_LONGITUDE - MIN_LONGITUDE) * random.nextDouble();\n        LatLng randomLocation = new LatLng(lat,lng);\n\n        this.streetViewPanorama.setPosition(randomLocation);\n\n    }\n}\n\n</code></pre>\n<p>manifest xml:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;&gt;\n\n    &lt;application\n        android:allowBackup=&quot;true&quot;\n        android:dataExtractionRules=&quot;@xml/data_extraction_rules&quot;\n        android:fullBackupContent=&quot;@xml/backup_rules&quot;\n        android:icon=&quot;@mipmap/ic_launcher&quot;\n        android:label=&quot;@string/app_name&quot;\n        android:supportsRtl=&quot;true&quot;\n        android:theme=&quot;@style/Theme.Hopefullyfinalgeoguessr&quot;\n        tools:targetApi=&quot;31&quot;&gt;\n        &lt;activity\n            android:name=&quot;.MainActivity&quot;\n            android:exported=&quot;true&quot;\n            android:label=&quot;@string/app_name&quot;\n            android:theme=&quot;@style/Theme.Hopefullyfinalgeoguessr.NoActionBar&quot;&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\n\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\n            &lt;/intent-filter&gt;\n\n            &lt;meta-data\n                android:name=&quot;com.google.android.maps.API_KEY&quot;\n                android:value=&quot;redacted&quot; /&gt;\n            &lt;meta-data\n                android:name=&quot;com.google.android.geo.API_KEY&quot;\n                android:value=&quot;redacted&quot; /&gt;\n            &lt;meta-data\n                android:name=&quot;com.google.android.streetview.API_KEY&quot;\n                android:value=&quot;redacted&quot; /&gt;\n\n\n        &lt;/activity&gt;\n    &lt;/application&gt;\n\n&lt;/manifest&gt;\n\nlayout xml:\n\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;RelativeLayout\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    tools:context=&quot;.MainActivity&quot;&gt;\n\n        &lt;fragment\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;match_parent&quot;\n                android:layout_centerInParent=&quot;true&quot;\n                android:id=&quot;@+id/googlemapstreetview&quot;\n                android:name=&quot;com.google.android.gms.maps.SupportStreetViewPanoramaFragment&quot; /&gt;\n\n\n\n\n&lt;/RelativeLayout&gt;\n\n</code></pre>\n<p>I tried GPT to walk me through this and several YouTube tutorials. I was expecting my street view to load onto the emulator however this is the error message I'm receiving in my logcat:</p>\n<pre><code>Caused by: java.lang.RuntimeException: API key not found.  Check that &lt;meta-data     android:name=&quot;com.google.android.geo.API_KEY&quot; android:value=&quot;your API key&quot;/&gt; is in the      &lt;application&gt; element of AndroidManifest.xml\n</code></pre>\n<p>I think that it's due to my project not recognzing the API.</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9482,"page":510,"page_size":100}
