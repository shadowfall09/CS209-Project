{"items":[{"tags":["java","multithreading"],"comments":[{"owner":{"account_id":1079173,"reputation":42590,"user_id":1076640,"display_name":"yshavit"},"score":5,"creation_date":1515282823,"post_id":48133053,"comment_id":83243358,"body_markdown":"By &quot;dummy object&quot; do you mean a `final Object lock = new Object()` that all threads share? That would be the common approach. Even with hundreds of threads, if you want to establish a lock that all threads obey, then there&#39;s inherently no way around all of them using that same lock, right? Also, unless your CPU has hundreds of cores, there&#39;s not much benefit in having hundreds of threads unless they each spend a lot of time waiting for resources (like a URL response that takes a while). And if that&#39;s the case, then them locking on the same object won&#39;t matter, anyway.","body":"By &quot;dummy object&quot; do you mean a <code>final Object lock = new Object()</code> that all threads share? That would be the common approach. Even with hundreds of threads, if you want to establish a lock that all threads obey, then there&#39;s inherently no way around all of them using that same lock, right? Also, unless your CPU has hundreds of cores, there&#39;s not much benefit in having hundreds of threads unless they each spend a lot of time waiting for resources (like a URL response that takes a while). And if that&#39;s the case, then them locking on the same object won&#39;t matter, anyway."},{"owner":{"account_id":2792262,"reputation":163877,"user_id":2402272,"accept_rate":85,"display_name":"John Bollinger"},"score":1,"creation_date":1515283682,"post_id":48133053,"comment_id":83243539,"body_markdown":"The capabilities of the hardware on which you run your program are finite.  Hundreds of threads running simultaneously are likely to stress even fairly beefy hardware, and yes, forcing them to serialize their accesses to a single resource is likely to speed the onset of performance problems.  Possibly you need more hardware.  Possibly you need pervasive design improvements.  But the kind of &quot;atomicity&quot; you require can be achieved *only* by one variety of locking or another.","body":"The capabilities of the hardware on which you run your program are finite.  Hundreds of threads running simultaneously are likely to stress even fairly beefy hardware, and yes, forcing them to serialize their accesses to a single resource is likely to speed the onset of performance problems.  Possibly you need more hardware.  Possibly you need pervasive design improvements.  But the kind of &quot;atomicity&quot; you require can be achieved <i>only</i> by one variety of locking or another."},{"owner":{"account_id":43861,"reputation":59786,"user_id":128397,"accept_rate":82,"display_name":"Daniel Pryden"},"score":0,"creation_date":1515286648,"post_id":48133053,"comment_id":83244077,"body_markdown":"Do you care *specifically* about output to stdout (or some other I/O stream)? In that case, none of the normal `java.io.` classes ever gurantee atomicity, as they can block (and suspend the thread) at any time. In fact, I&#39;m not aware of any operating system where this is possible in the general case, and special cases are usually OS-specific.","body":"Do you care <i>specifically</i> about output to stdout (or some other I/O stream)? In that case, none of the normal <code>java.io.</code> classes ever gurantee atomicity, as they can block (and suspend the thread) at any time. In fact, I&#39;m not aware of any operating system where this is possible in the general case, and special cases are usually OS-specific."},{"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"score":0,"creation_date":1515287748,"post_id":48133053,"comment_id":83244269,"body_markdown":"You have two blocks of code, executed by two different threads, and you want to ensure that only one thread is inside the &quot;critical&quot; block of code at a time. That means that if the other thread want to enter the critical block, it has to **wait** until the first thread exits its critical block. Such a wait state is best accomplished by obtaining a **lock**. Any other mechanism will have the same effect, i.e. second thread waits, so why do you think *locking* is causing excessive performance issue here? It&#39;s the *wait* that reduces performance, not the *lock*. Your question makes no sense.","body":"You have two blocks of code, executed by two different threads, and you want to ensure that only one thread is inside the &quot;critical&quot; block of code at a time. That means that if the other thread want to enter the critical block, it has to <b>wait</b> until the first thread exits its critical block. Such a wait state is best accomplished by obtaining a <b>lock</b>. Any other mechanism will have the same effect, i.e. second thread waits, so why do you think <i>locking</i> is causing excessive performance issue here? It&#39;s the <i>wait</i> that reduces performance, not the <i>lock</i>. Your question makes no sense."},{"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"score":0,"creation_date":1515288018,"post_id":48133053,"comment_id":83244319,"body_markdown":"A lock is the most efficient way to make a thread wait, because it actually halts the thread, allowing the CPU to do other things. If threads have to wait on an event, locking is by far the most efficient way to do it. Locking is the correct tool for the problem you specified, so why are you looking for another solution? Doesn&#39;t matter whether the lock is done using `synchronized`, a `ReadWriteLock`, a `Semaphore`, or any of the other concurrent tools made available, a lock is a lock is a lock.","body":"A lock is the most efficient way to make a thread wait, because it actually halts the thread, allowing the CPU to do other things. If threads have to wait on an event, locking is by far the most efficient way to do it. Locking is the correct tool for the problem you specified, so why are you looking for another solution? Doesn&#39;t matter whether the lock is done using <code>synchronized</code>, a <code>ReadWriteLock</code>, a <code>Semaphore</code>, or any of the other concurrent tools made available, a lock is a lock is a lock."}],"answers":[{"tags":[],"owner":{"account_id":12549821,"reputation":578,"user_id":9131933,"display_name":"newbie"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1515287206,"creation_date":1515287206,"answer_id":48133459,"question_id":48133053,"body_markdown":"No , you have to lock around the System.out to prevent \r\nThread one rules!!\r\nThread two rules!!\r\n\r\neven locking each block will allow two threads to write to System.out at the same time","title":"Universally synchronizing a block of code [Without ObjectLocking]","body":"<p>No , you have to lock around the System.out to prevent \nThread one rules!!\nThread two rules!!</p>\n\n<p>even locking each block will allow two threads to write to System.out at the same time</p>\n"},{"tags":[],"owner":{"account_id":879694,"reputation":818,"user_id":1572450,"display_name":"Serge Bogatyrev"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1515293448,"creation_date":1515288819,"answer_id":48133582,"question_id":48133053,"body_markdown":"The most relevant way to do that is to use a single call:\r\n\r\n    System.out.println(&quot;&lt;first line&gt;\\n&lt;second line&gt;&quot;);\r\n\r\nBy the way, I believe timing should not be affected by additional synchronisation blocks. At any case, you can use System.out\r\n\r\n    synchronized(System.out) {\r\n    ...\r\n    } \r\n\r\nAnd this definitely should not affect timing. PrintStream methods like println() already include such synchronisation, as result this additional synchronized block will rather optimise locking. ","title":"Universally synchronizing a block of code [Without ObjectLocking]","body":"<p>The most relevant way to do that is to use a single call:</p>\n\n<pre><code>System.out.println(\"&lt;first line&gt;\\n&lt;second line&gt;\");\n</code></pre>\n\n<p>By the way, I believe timing should not be affected by additional synchronisation blocks. At any case, you can use System.out</p>\n\n<pre><code>synchronized(System.out) {\n...\n} \n</code></pre>\n\n<p>And this definitely should not affect timing. PrintStream methods like println() already include such synchronisation, as result this additional synchronized block will rather optimise locking. </p>\n"},{"tags":[],"owner":{"account_id":28909502,"reputation":21,"user_id":22142825,"display_name":"Mat&#237;as Ratcliffe"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1687925933,"creation_date":1687925933,"answer_id":76570002,"question_id":48133053,"body_markdown":"You need to lock an object one way ore another. The standard practice is to have a shared accessible object like `public Object sharedLock = new Object()` and useit in your `syncrhonized` block.","title":"Universally synchronizing a block of code [Without ObjectLocking]","body":"<p>You need to lock an object one way ore another. The standard practice is to have a shared accessible object like <code>public Object sharedLock = new Object()</code> and useit in your <code>syncrhonized</code> block.</p>\n"}],"owner":{"account_id":12631456,"reputation":69,"user_id":9182705,"display_name":"MrRobot"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":97,"favorite_count":0,"down_vote_count":2,"up_vote_count":4,"accepted_answer_id":48133582,"answer_count":3,"score":2,"last_activity_date":1687925933,"creation_date":1515282428,"question_id":48133053,"body_markdown":"This is a simple code I came up with to illustrate my question:\r\n\r\n    public class Main {\r\n\t    public static void main(String[] args) {\r\n            int sleepTime = 10, N = 1000;\r\n\t\t    Thread t1 = new Thread(() -&gt; {\r\n\t\t\t    for (int i = 0; i &lt; N; i++) {\r\n\r\n\t\t\t        { //BLOCK 1\r\n                        //I want these two instructions to run one right after the other one\r\n\t\t\t\t\t    System.out.println(&quot;Thread one rules!!&quot;);\r\n\t\t\t\t\t    System.out.println(&quot;Im in 1!!!\\n&quot;);\r\n\t\t\t\t    }\r\n\r\n    \t\t\t\ttry {\r\n   \t\t\t\t        Thread.sleep(sleepTime); //I also tried yield\r\n                    } catch (InterruptedException e) {}\r\n\t    \t\t}\r\n\t\t    });\r\n\t\t\r\n\t\t    Thread t2 = new Thread(() -&gt; {\r\n\t\t    \tfor (int i = 0; i &lt; N; i++) {\r\n\t\t\t    \r\n                    { //BLOCK 2\r\n\t                    //I want these two instructions to run one right after the other one\r\n    \t\t\t\t\tSystem.out.println(&quot;Thread two rules!!&quot;);\r\n\t    \t\t\t\tSystem.out.println(&quot;Im in 2!!!\\n&quot;);\r\n\t\t\t\t    }\r\n\t\r\n                    try {\r\n   \t\t\t\t        Thread.sleep(sleepTime); //I also tried yield\r\n                    } catch (InterruptedException e) {}\r\n\t\t\t    }\r\n\t\t    });\r\n            \r\n            t1.start();\r\n            t2.start();\r\n\r\n            t1.join();\r\n            t2.join();\r\n\t    }\r\n    }\r\n\r\nIs there a way to have each block called &quot;atomically&quot;? meaning &quot;Thread one rules!!&quot; will ALWAYS come right before &quot;Im in 1!!!&quot;\r\n\r\n[Output example image][1]\r\n\r\n\r\n\r\n**I don&#39;t want to use any dummy objects in a synchronized block, nor any wait/notify statements.** I would like an implementation that works with hundreds of threads running together. I tried with synchronized statements that take a common object as argument, mySocketServer, but it started giving me timing issues.\r\n\r\nThanks in advance\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/VahVG.png\r\n","title":"Universally synchronizing a block of code [Without ObjectLocking]","body":"<p>This is a simple code I came up with to illustrate my question:</p>\n\n<pre><code>public class Main {\n    public static void main(String[] args) {\n        int sleepTime = 10, N = 1000;\n        Thread t1 = new Thread(() -&gt; {\n            for (int i = 0; i &lt; N; i++) {\n\n                { //BLOCK 1\n                    //I want these two instructions to run one right after the other one\n                    System.out.println(\"Thread one rules!!\");\n                    System.out.println(\"Im in 1!!!\\n\");\n                }\n\n                try {\n                    Thread.sleep(sleepTime); //I also tried yield\n                } catch (InterruptedException e) {}\n            }\n        });\n\n        Thread t2 = new Thread(() -&gt; {\n            for (int i = 0; i &lt; N; i++) {\n\n                { //BLOCK 2\n                    //I want these two instructions to run one right after the other one\n                    System.out.println(\"Thread two rules!!\");\n                    System.out.println(\"Im in 2!!!\\n\");\n                }\n\n                try {\n                    Thread.sleep(sleepTime); //I also tried yield\n                } catch (InterruptedException e) {}\n            }\n        });\n\n        t1.start();\n        t2.start();\n\n        t1.join();\n        t2.join();\n    }\n}\n</code></pre>\n\n<p>Is there a way to have each block called \"atomically\"? meaning \"Thread one rules!!\" will ALWAYS come right before \"Im in 1!!!\"</p>\n\n<p><a href=\"https://i.stack.imgur.com/VahVG.png\" rel=\"nofollow noreferrer\">Output example image</a></p>\n\n<p><strong>I don't want to use any dummy objects in a synchronized block, nor any wait/notify statements.</strong> I would like an implementation that works with hundreds of threads running together. I tried with synchronized statements that take a common object as argument, mySocketServer, but it started giving me timing issues.</p>\n\n<p>Thanks in advance</p>\n"},{"tags":["java","android","fullscreen","display","samsung-galaxy"],"comments":[{"owner":{"account_id":6473006,"reputation":27420,"user_id":6296561,"accept_rate":95,"display_name":"Zoe is on strike"},"score":0,"creation_date":1493462173,"post_id":43694526,"comment_id":74434441,"body_markdown":"Immersive fullscreen. Hides buttons and navigationbar on most systems I have encountered. If the S8 is different in that, I don&#39;t know what you would do","body":"Immersive fullscreen. Hides buttons and navigationbar on most systems I have encountered. If the S8 is different in that, I don&#39;t know what you would do"}],"answers":[{"comments":[{"owner":{"account_id":216810,"reputation":16567,"user_id":472270,"accept_rate":87,"display_name":"Barmaley"},"score":0,"creation_date":1493798742,"post_id":43695161,"comment_id":74550364,"body_markdown":"It works only if you set your app as full-screen app in Galaxy S8 settings: display-&gt;full screen apps.","body":"It works only if you set your app as full-screen app in Galaxy S8 settings: display-&gt;full screen apps."}],"tags":[],"owner":{"account_id":9423750,"reputation":374,"user_id":7009416,"accept_rate":100,"display_name":"Abubakar"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1493465501,"creation_date":1493465501,"answer_id":43695161,"question_id":43694526,"body_markdown":"to get full-screen you must overide **onWindowFocusChanged** method and create **decorView** object  and add System_UI flags into it..\r\n\r\n\r\n    @Override\r\n        public  void onWindowFocusChanged(boolean  hasFocus){\r\n            super.onWindowFocusChanged(hasFocus);\r\n            View decorView = getWindow().getDecorView();\r\n            if(hasFocus){\r\n               \r\n            decorView.setSystemUiVisibility(View.SYSTEM_UI_FLAG_LAYOUT_STABLE\r\n                        |View.SYSTEM_UI_FLAG_IMMERSIVE_STICKY  // this flag do=Semi-transparent bars temporarily appear and then hide again\r\n                        |View.SYSTEM_UI_FLAG_LAYOUT_FULLSCREEN  // Make Content Appear Behind the status  Bar\r\n                        |View.SYSTEM_UI_FLAG_LAYOUT_HIDE_NAVIGATION  // it Make Content Appear Behind the Navigation Bar\r\n                        |View.SYSTEM_UI_FLAG_FULLSCREEN  // hide status bar\r\n                        |View.SYSTEM_UI_FLAG_HIDE_NAVIGATION);\r\n            }\r\n        }\r\n\r\n","title":"Samsung Galaxy S8 full screen mode","body":"<p>to get full-screen you must overide <strong>onWindowFocusChanged</strong> method and create <strong>decorView</strong> object  and add System_UI flags into it..</p>\n\n<pre><code>@Override\n    public  void onWindowFocusChanged(boolean  hasFocus){\n        super.onWindowFocusChanged(hasFocus);\n        View decorView = getWindow().getDecorView();\n        if(hasFocus){\n\n        decorView.setSystemUiVisibility(View.SYSTEM_UI_FLAG_LAYOUT_STABLE\n                    |View.SYSTEM_UI_FLAG_IMMERSIVE_STICKY  // this flag do=Semi-transparent bars temporarily appear and then hide again\n                    |View.SYSTEM_UI_FLAG_LAYOUT_FULLSCREEN  // Make Content Appear Behind the status  Bar\n                    |View.SYSTEM_UI_FLAG_LAYOUT_HIDE_NAVIGATION  // it Make Content Appear Behind the Navigation Bar\n                    |View.SYSTEM_UI_FLAG_FULLSCREEN  // hide status bar\n                    |View.SYSTEM_UI_FLAG_HIDE_NAVIGATION);\n        }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2454255,"reputation":1,"user_id":2139822,"display_name":"Zunair Nasir"},"comment_count":0,"down_vote_count":5,"up_vote_count":0,"is_accepted":false,"score":-5,"last_activity_date":1494243224,"creation_date":1494243224,"answer_id":43846597,"question_id":43694526,"body_markdown":"It can be turned off. I used this tutorial for my S8\r\n\r\n[How To Enable Full Screen Apps on Galaxy S8/S8+][1]\r\n\r\n\r\n  [1]: https://androidtutorial.net/2017/05/05/enable-full-screen-apps-galaxy-s8s8/","title":"Samsung Galaxy S8 full screen mode","body":"<p>It can be turned off. I used this tutorial for my S8</p>\n\n<p><a href=\"https://androidtutorial.net/2017/05/05/enable-full-screen-apps-galaxy-s8s8/\" rel=\"nofollow noreferrer\">How To Enable Full Screen Apps on Galaxy S8/S8+</a></p>\n"},{"comments":[{"owner":{"account_id":373519,"reputation":7626,"user_id":2127950,"accept_rate":84,"display_name":"portfoliobuilder"},"score":1,"creation_date":1506710713,"post_id":44370149,"comment_id":79944738,"body_markdown":"This answer does not gaurentee proper adjusts made with the s8. If you build any complicated apps that require measuring views, your view measurements will be affected based on if the nav toolbar is pinned/not pinned, visible/not visible, and even if the virtual keyboard is visible/not visible. So far it looks like you have to remeasure all your views, because &quot;resizeableActivity&quot; doesn&#39;t handle much.","body":"This answer does not gaurentee proper adjusts made with the s8. If you build any complicated apps that require measuring views, your view measurements will be affected based on if the nav toolbar is pinned/not pinned, visible/not visible, and even if the virtual keyboard is visible/not visible. So far it looks like you have to remeasure all your views, because &quot;resizeableActivity&quot; doesn&#39;t handle much."}],"tags":[],"owner":{"account_id":77161,"reputation":2362,"user_id":220425,"accept_rate":100,"display_name":"Maris B."},"comment_count":1,"down_vote_count":0,"up_vote_count":35,"is_accepted":true,"score":35,"last_activity_date":1496669461,"creation_date":1496669461,"answer_id":44370149,"question_id":43694526,"body_markdown":"To enable new Samsung Galaxy S8 and LG G6 full screen support add to the AndroidManifest.xml under the `&lt;application&gt;` element:\r\n\r\n    &lt;meta-data android:name=&quot;android.max_aspect&quot; android:value=&quot;2.1&quot; /&gt;\r\n\r\nWhere value of 2.1 is aspect ratio 18.5:9 (By default your App defaults to maximum ratio for 16:9 - 1.86). More info in: [Android Blog][1].\r\n\r\nAlternatively, you can set the following attribute for Application or Activity:\r\n\r\n    android:resizeableActivity=&quot;true&quot;\r\n\r\nBecause the documentations states ([link][2]): \r\n\r\n&gt; You do not need to set a maximum aspect ratio if an activity&#39;s\r\n&gt; android:resizeableActivity attribute is set to true. If your app\r\n&gt; targets API level 24 or higher, this attribute defaults to true.\r\n\r\n\r\n  [1]: https://android-developers.googleblog.com/2017/03/update-your-app-to-take-advantage-of.html?m=1\r\n  [2]: https://developer.android.com/guide/practices/screens_support.html#MaxAspectRatio","title":"Samsung Galaxy S8 full screen mode","body":"<p>To enable new Samsung Galaxy S8 and LG G6 full screen support add to the AndroidManifest.xml under the <code>&lt;application&gt;</code> element:</p>\n\n<pre><code>&lt;meta-data android:name=\"android.max_aspect\" android:value=\"2.1\" /&gt;\n</code></pre>\n\n<p>Where value of 2.1 is aspect ratio 18.5:9 (By default your App defaults to maximum ratio for 16:9 - 1.86). More info in: <a href=\"https://android-developers.googleblog.com/2017/03/update-your-app-to-take-advantage-of.html?m=1\" rel=\"noreferrer\">Android Blog</a>.</p>\n\n<p>Alternatively, you can set the following attribute for Application or Activity:</p>\n\n<pre><code>android:resizeableActivity=\"true\"\n</code></pre>\n\n<p>Because the documentations states (<a href=\"https://developer.android.com/guide/practices/screens_support.html#MaxAspectRatio\" rel=\"noreferrer\">link</a>): </p>\n\n<blockquote>\n  <p>You do not need to set a maximum aspect ratio if an activity's\n  android:resizeableActivity attribute is set to true. If your app\n  targets API level 24 or higher, this attribute defaults to true.</p>\n</blockquote>\n"}],"owner":{"account_id":216810,"reputation":16567,"user_id":472270,"accept_rate":87,"display_name":"Barmaley"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14477,"favorite_count":0,"down_vote_count":0,"up_vote_count":19,"accepted_answer_id":44370149,"answer_count":3,"score":19,"last_activity_date":1687925359,"creation_date":1493461899,"question_id":43694526,"body_markdown":"Latest Samsung&#39;s smartphone has interesting feature called *full screen* (or in marketing terms *infinity display*). In this mode app covers also part of display where home/back buttons are. Usual apps don&#39;t cover this area, leaving it black. But Samsung&#39;s native ones cover this area. \n\nQuestion: how to achieve this effect? I mean what kind of manifest declaration or programmatic call (possibly Samsung&#39;s legacy API) should I use?","title":"Samsung Galaxy S8 full screen mode","body":"<p>Latest Samsung's smartphone has interesting feature called <em>full screen</em> (or in marketing terms <em>infinity display</em>). In this mode app covers also part of display where home/back buttons are. Usual apps don't cover this area, leaving it black. But Samsung's native ones cover this area. </p>\n\n<p>Question: how to achieve this effect? I mean what kind of manifest declaration or programmatic call (possibly Samsung's legacy API) should I use?</p>\n"},{"tags":["java","active-directory","websphere","spnego"],"answers":[{"tags":[],"owner":{"account_id":28908538,"reputation":1,"user_id":22142064,"display_name":"Zach Hein"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1687923157,"creation_date":1687911037,"answer_id":76569300,"question_id":76569217,"body_markdown":"## Solution\r\nMy issue was **fixed** by selecting *Trim Kerberos realm from principal name*. This is done in the admin console on the *SPNEGO web authentication* panel.\r\n\r\nDocumented here: https://www.ibm.com/docs/en/was-nd/8.5.5?topic=ecswauac-adding-modifying-spnego-web-authentication-filters-using-administrative-console\r\n\r\n## Detailed Explanation:  \r\nI ultimately narrowed down the issue by seeing how the LDAP was being searched from the tWAS LdapRegistry code: `LdapRegistryI 3   Filter: (&amp;(sAMAccountName=user1@MYDOMAIN.COM)(objectcategory=user))`\r\n\r\nI double checked the `sAMAccountName` on the AD machine itself, and there I found that `sAMAccountName=user1` Aha! so at that point it clicked that the LDAPRegistry code doesn&#39;t know that `user1@MYDOMAIN.COM` is `user1`.\r\n\r\nThe solution took me awhile to realize because I thought I already had the trimming enabled. What led me to believe this was because I saw this in the trace: `AuthMechanism 3   trimUserName: true`\r\n\r\nAs it turns out there are two different **trimUserName** attributes in the security.xml, one under the `security:KRB5` authMechanism entry and another under the `security:SPNEGO` authMechanism entry.\r\n\r\nThe attribute was set to `true` under `security:KRB5` (which is what fooled me), but was `false` under `security:SPNEGO`\r\n\r\nAfter applying the solution I verified the username trimming was happening as expected by seeing the following trace statement: `SpnegoHandler &lt; com.ibm.ws.security.spnego.SpnegoHandler trimUsername: user1 RETURN`\r\n\r\nHope this helps out others!\r\n","title":"Traditional WebSphere SPNEGO authentication fails - SECJ0056E: Authentication failed for reason Cannot find the user","body":"<h2>Solution</h2>\n<p>My issue was <strong>fixed</strong> by selecting <em>Trim Kerberos realm from principal name</em>. This is done in the admin console on the <em>SPNEGO web authentication</em> panel.</p>\n<p>Documented here: <a href=\"https://www.ibm.com/docs/en/was-nd/8.5.5?topic=ecswauac-adding-modifying-spnego-web-authentication-filters-using-administrative-console\" rel=\"nofollow noreferrer\">https://www.ibm.com/docs/en/was-nd/8.5.5?topic=ecswauac-adding-modifying-spnego-web-authentication-filters-using-administrative-console</a></p>\n<h2>Detailed Explanation:</h2>\n<p>I ultimately narrowed down the issue by seeing how the LDAP was being searched from the tWAS LdapRegistry code: <code>LdapRegistryI 3   Filter: (&amp;(sAMAccountName=user1@MYDOMAIN.COM)(objectcategory=user))</code></p>\n<p>I double checked the <code>sAMAccountName</code> on the AD machine itself, and there I found that <code>sAMAccountName=user1</code> Aha! so at that point it clicked that the LDAPRegistry code doesn't know that <code>user1@MYDOMAIN.COM</code> is <code>user1</code>.</p>\n<p>The solution took me awhile to realize because I thought I already had the trimming enabled. What led me to believe this was because I saw this in the trace: <code>AuthMechanism 3   trimUserName: true</code></p>\n<p>As it turns out there are two different <strong>trimUserName</strong> attributes in the security.xml, one under the <code>security:KRB5</code> authMechanism entry and another under the <code>security:SPNEGO</code> authMechanism entry.</p>\n<p>The attribute was set to <code>true</code> under <code>security:KRB5</code> (which is what fooled me), but was <code>false</code> under <code>security:SPNEGO</code></p>\n<p>After applying the solution I verified the username trimming was happening as expected by seeing the following trace statement: <code>SpnegoHandler &lt; com.ibm.ws.security.spnego.SpnegoHandler trimUsername: user1 RETURN</code></p>\n<p>Hope this helps out others!</p>\n"}],"owner":{"account_id":28908538,"reputation":1,"user_id":22142064,"display_name":"Zach Hein"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":161,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76569300,"answer_count":1,"score":0,"last_activity_date":1687923157,"creation_date":1687909295,"question_id":76569217,"body_markdown":"On Traditional WebSphere(tWAS), when logging in to the admin console using a SPNEGO token, authentication fails with the following message:\r\n\r\n`SECJ0056E: Authentication failed for reason Cannot find the user: user1@MYDOMAIN.COM`\r\n\r\nI have standalone LDAP configured on the tWAS server to use the same host as my KDC, which is the same host that I create the SPNEGO token from. So the user does exist in the LDAP, and the user registry should be able to find the user.\r\n\r\n\r\nWebSphere Platform ND 8.5.5.23\r\n\r\nThe SPNEGO token appears to be valid and I see a security subject is created in the trace.log and has the expected user.\r\n```\r\nSubjectHelper &lt;  getKerberosAuthnTokenFromSubject Exit\r\n                                 Subject:\r\n\tPrincipal: user1@MYDOMAIN.COM\r\n```\r\n\r\nWhat am I missing?","title":"Traditional WebSphere SPNEGO authentication fails - SECJ0056E: Authentication failed for reason Cannot find the user","body":"<p>On Traditional WebSphere(tWAS), when logging in to the admin console using a SPNEGO token, authentication fails with the following message:</p>\n<p><code>SECJ0056E: Authentication failed for reason Cannot find the user: user1@MYDOMAIN.COM</code></p>\n<p>I have standalone LDAP configured on the tWAS server to use the same host as my KDC, which is the same host that I create the SPNEGO token from. So the user does exist in the LDAP, and the user registry should be able to find the user.</p>\n<p>WebSphere Platform ND 8.5.5.23</p>\n<p>The SPNEGO token appears to be valid and I see a security subject is created in the trace.log and has the expected user.</p>\n<pre><code>SubjectHelper &lt;  getKerberosAuthnTokenFromSubject Exit\n                                 Subject:\n    Principal: user1@MYDOMAIN.COM\n</code></pre>\n<p>What am I missing?</p>\n"},{"tags":["java","parsing","jsoup"],"comments":[{"owner":{"account_id":46972,"reputation":356179,"user_id":139010,"accept_rate":81,"display_name":"Matt Ball"},"score":4,"creation_date":1327088284,"post_id":8946916,"comment_id":11199783,"body_markdown":"I&#39;d wager that `subUrlW` is `null`. Use a debugger to find out.","body":"I&#39;d wager that <code>subUrlW</code> is <code>null</code>. Use a debugger to find out."},{"owner":{"account_id":1073176,"reputation":3217,"user_id":1071967,"accept_rate":61,"display_name":"Geek"},"score":0,"creation_date":1327089111,"post_id":8946916,"comment_id":11200053,"body_markdown":"You are right, i have added another set of code above which shows subUrlW is not null, but when I execute the 1st set of code it comes as null.","body":"You are right, i have added another set of code above which shows subUrlW is not null, but when I execute the 1st set of code it comes as null."}],"answers":[{"tags":[],"owner":{"account_id":1153176,"reputation":11,"user_id":1134460,"display_name":"Chirag Parmar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687921062,"creation_date":1328511610,"answer_id":9156630,"question_id":8946916,"body_markdown":"    subUrl = divs.get(n).select(&quot;a[href].eDL&quot;);\r\n    \r\n    Document doc = null;\r\n    \r\n    for (int o = 0; o &lt; subUrl.size(); o++) \r\n    {    \r\n        doc = JSoup.connect(subUrl[o].toString());\r\n        subUrlW = doc.select(&quot;a[href].eDL&quot;).attr(&quot;abs:href&quot;);\r\n        System.out.println(&quot;subUrlW&quot;+subUrlW);\r\n        doc = null;    \r\n    }\r\n\r\n","title":"jsoup exception","body":"<pre><code>subUrl = divs.get(n).select(&quot;a[href].eDL&quot;);\n\nDocument doc = null;\n\nfor (int o = 0; o &lt; subUrl.size(); o++) \n{    \n    doc = JSoup.connect(subUrl[o].toString());\n    subUrlW = doc.select(&quot;a[href].eDL&quot;).attr(&quot;abs:href&quot;);\n    System.out.println(&quot;subUrlW&quot;+subUrlW);\n    doc = null;    \n}\n</code></pre>\n"}],"owner":{"account_id":1073176,"reputation":3217,"user_id":1071967,"accept_rate":61,"display_name":"Geek"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":552,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1687921062,"creation_date":1327088197,"question_id":8946916,"body_markdown":"I have for loop that looks like this:\r\n\r\n    //Pseudo code\r\n\r\n    subUrl = divs.get(n).select(&quot;a[href].eDL&quot;);\r\n\r\n    for (int o = 0; o&lt;subUrl.size(); o++) {\r\n\r\n        subUrlW = subUrl.get(o).select(&quot;a[href].eDL&quot;).attr(&quot;abs:href&quot;);\r\n                                              \r\n        httpget = new HttpGet(subUrlW);\r\n        HttpResponse httpRes2 = httpclient1.execute(httpget, httpContext);\r\n        html = EntityUtils.toString(httpRes2.getEntity());\r\n        doc = Jsoup.parse(html, subUrlW);\r\n        divs = doc.select(&quot;div#pTU&quot;);\r\n\r\n        for (int p = 0; p &lt; divs.size(); p++) {\r\n                                                  \r\n            subUrl = divs.get(p).select(&quot;a[href].pd&quot;);\r\n            for (int q = 0; q &lt; subUrl.size(); q++) {  \r\n    \r\n                 subUrlW = subUrl.get(q).select(&quot;a[href].pd&quot;).attr(&quot;abs:href&quot;); \r\n                                             \r\n            }\r\n        }                                              \r\n    }\r\n\r\nI see that subUrlW is null however if I execute this to debug, subUrlW is not null.\r\n\r\n    subUrl = divs.get(n).select(&quot;a[href].eDL&quot;);\r\n    \r\n    for (int o = 0; o &lt; subUrl.size(); o++) {\r\n        subUrlW = subUrl.get(o).select(&quot;a[href].eDL&quot;).attr(&quot;abs:href&quot;);\r\n        System.out.println(&quot;subUrlW&quot;+subUrlW);\r\n    }\r\n\r\n\r\nWhen this loop executes, I get the following exception,\r\n\r\n    java.lang.IllegalStateException: Target host must not be null, or set in parameters.\r\n    \tat org.apache.http.impl.client.DefaultRequestDirector.determineRoute(DefaultRequestDirector.java:717)\r\n    \tat org.apache.http.impl.client.DefaultRequestDirector.execute(DefaultRequestDirector.java:358)\r\n    \tat org.apache.http.impl.client.AbstractHttpClient.execute(AbstractHttpClient.java:820)\r\n    \tat org.apache.http.impl.client.AbstractHttpClient.execute(AbstractHttpClient.java:754)\r\n\r\nIt however points to his line,\r\n\r\n    HttpResponse httpRes2 = httpclient1.execute(httpget, httpContext);\r\n\r\nany inputs much appreciated.\r\n\r\n","title":"jsoup exception","body":"<p>I have for loop that looks like this:</p>\n<pre><code>//Pseudo code\n\nsubUrl = divs.get(n).select(&quot;a[href].eDL&quot;);\n\nfor (int o = 0; o&lt;subUrl.size(); o++) {\n\n    subUrlW = subUrl.get(o).select(&quot;a[href].eDL&quot;).attr(&quot;abs:href&quot;);\n                                          \n    httpget = new HttpGet(subUrlW);\n    HttpResponse httpRes2 = httpclient1.execute(httpget, httpContext);\n    html = EntityUtils.toString(httpRes2.getEntity());\n    doc = Jsoup.parse(html, subUrlW);\n    divs = doc.select(&quot;div#pTU&quot;);\n\n    for (int p = 0; p &lt; divs.size(); p++) {\n                                              \n        subUrl = divs.get(p).select(&quot;a[href].pd&quot;);\n        for (int q = 0; q &lt; subUrl.size(); q++) {  \n\n             subUrlW = subUrl.get(q).select(&quot;a[href].pd&quot;).attr(&quot;abs:href&quot;); \n                                         \n        }\n    }                                              \n}\n</code></pre>\n<p>I see that subUrlW is null however if I execute this to debug, subUrlW is not null.</p>\n<pre><code>subUrl = divs.get(n).select(&quot;a[href].eDL&quot;);\n\nfor (int o = 0; o &lt; subUrl.size(); o++) {\n    subUrlW = subUrl.get(o).select(&quot;a[href].eDL&quot;).attr(&quot;abs:href&quot;);\n    System.out.println(&quot;subUrlW&quot;+subUrlW);\n}\n</code></pre>\n<p>When this loop executes, I get the following exception,</p>\n<pre><code>java.lang.IllegalStateException: Target host must not be null, or set in parameters.\n    at org.apache.http.impl.client.DefaultRequestDirector.determineRoute(DefaultRequestDirector.java:717)\n    at org.apache.http.impl.client.DefaultRequestDirector.execute(DefaultRequestDirector.java:358)\n    at org.apache.http.impl.client.AbstractHttpClient.execute(AbstractHttpClient.java:820)\n    at org.apache.http.impl.client.AbstractHttpClient.execute(AbstractHttpClient.java:754)\n</code></pre>\n<p>It however points to his line,</p>\n<pre><code>HttpResponse httpRes2 = httpclient1.execute(httpget, httpContext);\n</code></pre>\n<p>any inputs much appreciated.</p>\n"},{"tags":["java","spring","spring-boot","spring-security"],"comments":[{"owner":{"account_id":1283936,"reputation":2139,"user_id":1237402,"accept_rate":50,"display_name":"Malathi"},"score":0,"creation_date":1594956430,"post_id":62946106,"comment_id":111314131,"body_markdown":"Does this answer your question? [Spring: define @RequestMapping value in a properties file](https://stackoverflow.com/questions/31904444/spring-define-requestmapping-value-in-a-properties-file)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/31904444/spring-define-requestmapping-value-in-a-properties-file\">Spring: define @RequestMapping value in a properties file</a>"},{"owner":{"account_id":3453224,"reputation":309,"user_id":2892356,"display_name":"dozerman"},"score":1,"creation_date":1594963534,"post_id":62946106,"comment_id":111315624,"body_markdown":"What are you trying to achieve with having the version in your properties file? You already hardcoded the version in your package number you might as well hardcode it for the path in each controller. Both controllers would point to v1 if you populate the path using the variable from properties file like in your example.","body":"What are you trying to achieve with having the version in your properties file? You already hardcoded the version in your package number you might as well hardcode it for the path in each controller. Both controllers would point to v1 if you populate the path using the variable from properties file like in your example."},{"owner":{"account_id":1189122,"reputation":15753,"user_id":1162409,"accept_rate":40,"display_name":"San Jaisy"},"score":0,"creation_date":1594964498,"post_id":62946106,"comment_id":111315876,"body_markdown":"@dozerman - Yes you are 100% correct. My requirement is when I use version - V1 in URL it should take the controller from V1 package, vice versa for V2.","body":"@dozerman - Yes you are 100% correct. My requirement is when I use version - V1 in URL it should take the controller from V1 package, vice versa for V2."},{"owner":{"account_id":3453224,"reputation":309,"user_id":2892356,"display_name":"dozerman"},"score":1,"creation_date":1595020155,"post_id":62946106,"comment_id":111341092,"body_markdown":"@SanJaisy so you don&#39;t need the version in your properties. Just build two hardcoded mappings (one each for v1 and v2) and each request will be processed according to their version.","body":"@SanJaisy so you don&#39;t need the version in your properties. Just build two hardcoded mappings (one each for v1 and v2) and each request will be processed according to their version."}],"answers":[{"comments":[{"owner":{"account_id":1189122,"reputation":15753,"user_id":1162409,"accept_rate":40,"display_name":"San Jaisy"},"score":0,"creation_date":1594969030,"post_id":62947839,"comment_id":111317520,"body_markdown":"I have two controller, but they are in different package. But the RequestMapping I can&#39;t hardcode on the controller I need to filter from application.properties file.","body":"I have two controller, but they are in different package. But the RequestMapping I can&#39;t hardcode on the controller I need to filter from application.properties file."}],"tags":[],"owner":{"account_id":5718446,"reputation":358,"user_id":4517761,"display_name":"Tayyab Razaq"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1687921033,"creation_date":1594964761,"answer_id":62947839,"question_id":62946106,"body_markdown":"Ideally, you should have different controllers for each version, and you invoke services accordingly. For example:\r\n\r\n    @RestController\r\n    @RequestMapping(path = &quot;api/v1/product&quot;)\r\n    public class ProductController {\r\n    \r\n    }\r\n\r\n    @RestController\r\n    @RequestMapping(path = &quot;api/v2/product&quot;)\r\n    public class ProductController {\r\n    \r\n    }\r\n\r\nNow, if you want to keep one controller, you can do like this:\r\n\r\n    @RestController\r\n    @RequestMapping(path = &quot;api/v{apiVersion}/product&quot;)\r\n    public class ProductController {\r\n    \r\n        @GetMapping(&quot;{id}&quot;)\r\n        public Product getById(@PathVariable Integer apiVersion, \r\n                               @PathVariable Integer id) {\r\n          if(apiVersion == 1) {\r\n             //invoke version 1 service\r\n          }\r\n          else if(apiVersion == 2) {\r\n             //invoke version 2 service\r\n          }\r\n          else{\r\n           //throw exception for invalid version\r\n          }\r\n             \r\n        }\r\n    }\r\n\r\nYou don&#39;t need to set anything in `application.properties`. ","title":"Api versioning in spring boot","body":"<p>Ideally, you should have different controllers for each version, and you invoke services accordingly. For example:</p>\n<pre><code>@RestController\n@RequestMapping(path = &quot;api/v1/product&quot;)\npublic class ProductController {\n\n}\n\n@RestController\n@RequestMapping(path = &quot;api/v2/product&quot;)\npublic class ProductController {\n\n}\n</code></pre>\n<p>Now, if you want to keep one controller, you can do like this:</p>\n<pre><code>@RestController\n@RequestMapping(path = &quot;api/v{apiVersion}/product&quot;)\npublic class ProductController {\n\n    @GetMapping(&quot;{id}&quot;)\n    public Product getById(@PathVariable Integer apiVersion, \n                           @PathVariable Integer id) {\n      if(apiVersion == 1) {\n         //invoke version 1 service\n      }\n      else if(apiVersion == 2) {\n         //invoke version 2 service\n      }\n      else{\n       //throw exception for invalid version\n      }\n         \n    }\n}\n</code></pre>\n<p>You don't need to set anything in <code>application.properties</code>.</p>\n"}],"owner":{"account_id":1189122,"reputation":15753,"user_id":1162409,"accept_rate":40,"display_name":"San Jaisy"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4883,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1687921033,"creation_date":1594952290,"question_id":62946106,"body_markdown":"I am trying to do the API versioning based on the below scenario. I have a package called **V1** &amp; **V2**, each has its own controller with Route mapping\r\n\r\n    @RequestMapping(path = &quot;api/v${ApiVersion}/product&quot;)\r\n    public class ProductController {}\r\n\r\nIn the application.yml I have the below configuration,\r\n\r\n**ApiVersion: 1**\r\n\r\n\r\n    spring:\r\n      profiles:\r\n        active: dev\r\n    server:\r\n      port: 8083\r\n    \r\n    ApiVersion: 1\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/IwYn7.png\r\n\r\nWhat I am trying to do is:\r\n\r\n 1. If the URL has V1 **(ApiVersion: 1)** then it should route to V1 controller `http://192.168.1.101:8083/api/v1/product`\r\n 2. If the URL has V2 **(ApiVersion: 2)** then it should route to V2 controller `http://192.168.1.101:8083/api/v2/product`\r\n\r\nIs it possible to achieve?","title":"Api versioning in spring boot","body":"<p>I am trying to do the API versioning based on the below scenario. I have a package called <strong>V1</strong> &amp; <strong>V2</strong>, each has its own controller with Route mapping</p>\n<pre><code>@RequestMapping(path = &quot;api/v${ApiVersion}/product&quot;)\npublic class ProductController {}\n</code></pre>\n<p>In the application.yml I have the below configuration,</p>\n<p><strong>ApiVersion: 1</strong></p>\n<pre><code>spring:\n  profiles:\n    active: dev\nserver:\n  port: 8083\n\nApiVersion: 1\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/IwYn7.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/IwYn7.png\" alt=\"enter image description here\" /></a></p>\n<p>What I am trying to do is:</p>\n<ol>\n<li>If the URL has V1 <strong>(ApiVersion: 1)</strong> then it should route to V1 controller <code>http://192.168.1.101:8083/api/v1/product</code></li>\n<li>If the URL has V2 <strong>(ApiVersion: 2)</strong> then it should route to V2 controller <code>http://192.168.1.101:8083/api/v2/product</code></li>\n</ol>\n<p>Is it possible to achieve?</p>\n"},{"tags":["java","annotations"],"answers":[{"tags":[],"owner":{"account_id":1132901,"reputation":888,"user_id":1118566,"accept_rate":78,"display_name":"CharlieShi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1687920848,"creation_date":1687870215,"answer_id":76565040,"question_id":76480530,"body_markdown":"solved. \r\n\r\nIn finally block, if there are no codes in it, the compiler will ignore the try finally block because of no use. \r\nIn order to let try finally block effect, we need to add some code into createFinallyBlock method such as System.out.println like below: \r\n\r\n    private JCTree.JCBlock createFinallyBlock() {\r\n\r\n        // 创建空finally语句块，由于没有任何作用，将会被编译器忽略添加\r\n        //return treeMaker.Block(0, List.nil());\r\n\r\n        // 创建带有语句的finally块\r\n        JCTree.JCIdent outIdent = treeMaker.Ident(names.fromString(&quot;out&quot;));\r\n        JCTree.JCFieldAccess printStreamAccess = treeMaker.Select(outIdent, names.fromString(&quot;println&quot;));\r\n        JCTree.JCFieldAccess systemAccess = treeMaker.Select(treeMaker.Ident(names.fromString(&quot;System&quot;)), names.fromString(&quot;out&quot;));\r\n        JCTree.JCFieldAccess qualifiedAccess = treeMaker.Select(systemAccess, names.fromString(&quot;println&quot;));\r\n\r\n        // 创建finally语句块\r\n        JCTree.JCExpressionStatement printStatement = treeMaker.Exec(\r\n                treeMaker.Apply(List.nil(),\r\n                        qualifiedAccess,\r\n                        List.of(treeMaker.Literal(&quot;finally executed&quot;))));\r\n        return treeMaker.Block(0, List.of(printStatement));\r\n    }\r\n\r\nUsing JCTree.JCIdent to import java static class which will be ok.\r\n\r\n ","title":"AbstractProcessor can not use JCTree to modify exist method","body":"<p>solved.</p>\n<p>In finally block, if there are no codes in it, the compiler will ignore the try finally block because of no use.\nIn order to let try finally block effect, we need to add some code into createFinallyBlock method such as System.out.println like below:</p>\n<pre><code>private JCTree.JCBlock createFinallyBlock() {\n\n    // 创建空finally语句块，由于没有任何作用，将会被编译器忽略添加\n    //return treeMaker.Block(0, List.nil());\n\n    // 创建带有语句的finally块\n    JCTree.JCIdent outIdent = treeMaker.Ident(names.fromString(&quot;out&quot;));\n    JCTree.JCFieldAccess printStreamAccess = treeMaker.Select(outIdent, names.fromString(&quot;println&quot;));\n    JCTree.JCFieldAccess systemAccess = treeMaker.Select(treeMaker.Ident(names.fromString(&quot;System&quot;)), names.fromString(&quot;out&quot;));\n    JCTree.JCFieldAccess qualifiedAccess = treeMaker.Select(systemAccess, names.fromString(&quot;println&quot;));\n\n    // 创建finally语句块\n    JCTree.JCExpressionStatement printStatement = treeMaker.Exec(\n            treeMaker.Apply(List.nil(),\n                    qualifiedAccess,\n                    List.of(treeMaker.Literal(&quot;finally executed&quot;))));\n    return treeMaker.Block(0, List.of(printStatement));\n}\n</code></pre>\n<p>Using JCTree.JCIdent to import java static class which will be ok.</p>\n"}],"owner":{"account_id":1132901,"reputation":888,"user_id":1118566,"accept_rate":78,"display_name":"CharlieShi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":61,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76565040,"answer_count":1,"score":0,"last_activity_date":1687920848,"creation_date":1686817510,"question_id":76480530,"body_markdown":"AbstractProcessor can be used to design functionality like what lombok does.\r\nIn my code, I have annotation as below:\r\n\r\n    @Retention(RetentionPolicy.SOURCE)\r\n    @Target({ElementType.TYPE, ElementType.METHOD})\r\n    public @interface OnTransform {\r\n    }\r\nThen I make a class and have this annotation annotated on my methods as below:\r\n\r\n    public class TargetClass {\r\n\r\n    @OnTransform\r\n    public int add(int a, int b) {\r\n        return a + b;\r\n    }\r\n\r\n    @OnTransform\r\n    public void say(String name) {\r\n        System.out.println(&quot;Hello &quot; + name);\r\n    }\r\n\r\n    }\r\nNow I want to add try finally block for these annotated methods, So I make a new class extends AbstractProcessor class and complete my code as below(actually this part of code mainly comes from ChatGPT):\r\n\r\n    \r\n    public class TransformProcessor extends AbstractProcessor {\r\n\r\n    /**\r\n     * 初始化\r\n     * @param processingEnv environment to access facilities the tool framework\r\n     * provides to the processor\r\n     */\r\n    @Override\r\n    public synchronized void init(ProcessingEnvironment processingEnv) {\r\n        super.init(processingEnv);\r\n        Context context = ((JavacProcessingEnvironment) this.processingEnv).getContext();\r\n        this.elementUtils = (JavacElements) this.processingEnv.getElementUtils();\r\n        this.messager = this.processingEnv.getMessager();\r\n        this.names = Names.instance(context);\r\n        this.trees = JavacTrees.instance(this.processingEnv);\r\n        this.treeMaker = TreeMaker.instance(context);\r\n    }\r\n\r\n    /**\r\n     * 用于在编译器打印消息的组件\r\n     */\r\n    private Messager messager;\r\n\r\n    /**\r\n     * 用于创建标识符的对象\r\n     */\r\n    private Names names;\r\n\r\n    /**\r\n     * 语法树\r\n     */\r\n    private JavacTrees trees;\r\n\r\n    /**\r\n     * trees 和 elementUtils都可以获取 元素的JCTree对象\r\n     */\r\n    private JavacElements elementUtils;\r\n\r\n    /**\r\n     * 用来构造语法树节点\r\n     */\r\n    private TreeMaker treeMaker;\r\n\r\n    /**\r\n     * 字段的语法树节点的集合\r\n     */\r\n    private List&lt;JCTree.JCMethodDecl&gt; methodDecls;\r\n\r\n    /**\r\n     * 允许支持的源码版本\r\n     * @return\r\n     */\r\n    @Override\r\n    public SourceVersion getSupportedSourceVersion() {\r\n        if (SourceVersion.latest().compareTo(SourceVersion.RELEASE_8) &gt; 0) {\r\n            return SourceVersion.latest();\r\n        } else {\r\n            return SourceVersion.RELEASE_8;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 允许支持的注解类型\r\n     * @return\r\n     */\r\n    @Override\r\n    public Set&lt;String&gt; getSupportedAnnotationTypes() {\r\n        return ImmutableSet.of(OnTransform.class.getCanonicalName());\r\n    }\r\n\r\n    /**\r\n     * 代码增强处理\r\n     * @param annotations the annotation types requested to be processed\r\n     * @param roundEnv  environment for information about the current and prior round\r\n     * @return\r\n     */\r\n    @Override\r\n    public boolean process(Set&lt;? extends TypeElement&gt; annotations, RoundEnvironment roundEnv) {\r\n        Set&lt;? extends Element&gt; set = roundEnv.getElementsAnnotatedWith(OnTransform.class);\r\n        set.forEach(element -&gt; {\r\n            JCTree jcTree = trees.getTree(element);\r\n            jcTree.accept(new TreeTranslator() {\r\n                @Override\r\n                public void visitMethodDef(JCTree.JCMethodDecl method) {\r\n                    // 运行父类方法\r\n                    super.visitMethodDef(method);\r\n                    // 获取方法体\r\n                    JCTree.JCBlock body = method.body;\r\n                    // 创建try语句块\r\n                    JCTree.JCBlock tryBlock = createTryBlock(body);\r\n                    // 创建finally语句块\r\n                    JCTree.JCBlock finallyBlock = createFinallyBlock();\r\n                    // 创建try-catch-finally语句块\r\n                    JCTree.JCTry tryFinally = createTryCatchFinally(tryBlock, finallyBlock);\r\n                    // 替换原来的方法体\r\n                    method.body = treeMaker.Block(0, List.of(tryFinally));\r\n                }\r\n            });\r\n        });\r\n        return true;\r\n    }\r\n\r\n\r\n    //create try block\r\n    private JCTree.JCBlock createTryBlock(JCTree.JCBlock body) {\r\n         return treeMaker.Block(0, body.getStatements());\r\n     }\r\n\r\n    // create finally block\r\n    private JCTree.JCBlock createFinallyBlock() {\r\n        return treeMaker.Block(0, List.nil());\r\n    }\r\n\r\n    // create try-finally block\r\n    private JCTree.JCTry createTryCatchFinally(JCTree.JCBlock tryBlock, JCTree.JCBlock finallyBlock) {\r\n        JCTree.JCTry aTry = treeMaker.Try(tryBlock, List.nil(), finallyBlock);\r\n        return aTry;\r\n    }\r\n    }\r\n\r\nI can have my project compiled successfully, but the .class file seems modified fail as below:\r\n\r\n    public class TargetClass {\r\n    public TargetClass() {\r\n    }\r\n\r\n    public int add(int a, int b) {\r\n        return a + b;\r\n    }\r\n\r\n    public void say(String name) {\r\n        System.out.println(&quot;Hello &quot; + name);\r\n    }\r\n    }\r\n\r\nI don&#39;t know why, I debuged the code and found that the method.body is changed , but don&#39;t know why it is not correctly flushed into .class file. Below code does not work as expected:\r\n\r\n    method.body = treeMaker.Block(0, List.of(tryFinally));\r\n\r\nMaybe I used it wrong?","title":"AbstractProcessor can not use JCTree to modify exist method","body":"<p>AbstractProcessor can be used to design functionality like what lombok does.\nIn my code, I have annotation as below:</p>\n<pre><code>@Retention(RetentionPolicy.SOURCE)\n@Target({ElementType.TYPE, ElementType.METHOD})\npublic @interface OnTransform {\n}\n</code></pre>\n<p>Then I make a class and have this annotation annotated on my methods as below:</p>\n<pre><code>public class TargetClass {\n\n@OnTransform\npublic int add(int a, int b) {\n    return a + b;\n}\n\n@OnTransform\npublic void say(String name) {\n    System.out.println(&quot;Hello &quot; + name);\n}\n\n}\n</code></pre>\n<p>Now I want to add try finally block for these annotated methods, So I make a new class extends AbstractProcessor class and complete my code as below(actually this part of code mainly comes from ChatGPT):</p>\n<pre><code>public class TransformProcessor extends AbstractProcessor {\n\n/**\n * 初始化\n * @param processingEnv environment to access facilities the tool framework\n * provides to the processor\n */\n@Override\npublic synchronized void init(ProcessingEnvironment processingEnv) {\n    super.init(processingEnv);\n    Context context = ((JavacProcessingEnvironment) this.processingEnv).getContext();\n    this.elementUtils = (JavacElements) this.processingEnv.getElementUtils();\n    this.messager = this.processingEnv.getMessager();\n    this.names = Names.instance(context);\n    this.trees = JavacTrees.instance(this.processingEnv);\n    this.treeMaker = TreeMaker.instance(context);\n}\n\n/**\n * 用于在编译器打印消息的组件\n */\nprivate Messager messager;\n\n/**\n * 用于创建标识符的对象\n */\nprivate Names names;\n\n/**\n * 语法树\n */\nprivate JavacTrees trees;\n\n/**\n * trees 和 elementUtils都可以获取 元素的JCTree对象\n */\nprivate JavacElements elementUtils;\n\n/**\n * 用来构造语法树节点\n */\nprivate TreeMaker treeMaker;\n\n/**\n * 字段的语法树节点的集合\n */\nprivate List&lt;JCTree.JCMethodDecl&gt; methodDecls;\n\n/**\n * 允许支持的源码版本\n * @return\n */\n@Override\npublic SourceVersion getSupportedSourceVersion() {\n    if (SourceVersion.latest().compareTo(SourceVersion.RELEASE_8) &gt; 0) {\n        return SourceVersion.latest();\n    } else {\n        return SourceVersion.RELEASE_8;\n    }\n}\n\n/**\n * 允许支持的注解类型\n * @return\n */\n@Override\npublic Set&lt;String&gt; getSupportedAnnotationTypes() {\n    return ImmutableSet.of(OnTransform.class.getCanonicalName());\n}\n\n/**\n * 代码增强处理\n * @param annotations the annotation types requested to be processed\n * @param roundEnv  environment for information about the current and prior round\n * @return\n */\n@Override\npublic boolean process(Set&lt;? extends TypeElement&gt; annotations, RoundEnvironment roundEnv) {\n    Set&lt;? extends Element&gt; set = roundEnv.getElementsAnnotatedWith(OnTransform.class);\n    set.forEach(element -&gt; {\n        JCTree jcTree = trees.getTree(element);\n        jcTree.accept(new TreeTranslator() {\n            @Override\n            public void visitMethodDef(JCTree.JCMethodDecl method) {\n                // 运行父类方法\n                super.visitMethodDef(method);\n                // 获取方法体\n                JCTree.JCBlock body = method.body;\n                // 创建try语句块\n                JCTree.JCBlock tryBlock = createTryBlock(body);\n                // 创建finally语句块\n                JCTree.JCBlock finallyBlock = createFinallyBlock();\n                // 创建try-catch-finally语句块\n                JCTree.JCTry tryFinally = createTryCatchFinally(tryBlock, finallyBlock);\n                // 替换原来的方法体\n                method.body = treeMaker.Block(0, List.of(tryFinally));\n            }\n        });\n    });\n    return true;\n}\n\n\n//create try block\nprivate JCTree.JCBlock createTryBlock(JCTree.JCBlock body) {\n     return treeMaker.Block(0, body.getStatements());\n }\n\n// create finally block\nprivate JCTree.JCBlock createFinallyBlock() {\n    return treeMaker.Block(0, List.nil());\n}\n\n// create try-finally block\nprivate JCTree.JCTry createTryCatchFinally(JCTree.JCBlock tryBlock, JCTree.JCBlock finallyBlock) {\n    JCTree.JCTry aTry = treeMaker.Try(tryBlock, List.nil(), finallyBlock);\n    return aTry;\n}\n}\n</code></pre>\n<p>I can have my project compiled successfully, but the .class file seems modified fail as below:</p>\n<pre><code>public class TargetClass {\npublic TargetClass() {\n}\n\npublic int add(int a, int b) {\n    return a + b;\n}\n\npublic void say(String name) {\n    System.out.println(&quot;Hello &quot; + name);\n}\n}\n</code></pre>\n<p>I don't know why, I debuged the code and found that the method.body is changed , but don't know why it is not correctly flushed into .class file. Below code does not work as expected:</p>\n<pre><code>method.body = treeMaker.Block(0, List.of(tryFinally));\n</code></pre>\n<p>Maybe I used it wrong?</p>\n"},{"tags":["java","android","android-studio","animation","android-constraintlayout"],"owner":{"account_id":28901893,"reputation":1,"user_id":22136643,"display_name":"tenzinjamyangzhs"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":18,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687918928,"creation_date":1687918928,"question_id":76569665,"body_markdown":"There is a tablelayout which have two tablerows and the below row is visibility.gone by default and i if i click the button, it change to visibility.visible. i programmatically change the guideline layout percent to resize the tablelayout to make space to show the tablerow, but the animation is very laggy especially everytime i run the app and first time click the button. how can I fix it?\r\n\r\nhere is my code: \r\n\r\n\r\n            mMoreButton.setOnClickListener(new View.OnClickListener() {\r\n                final ConstraintLayout.LayoutParams lp = (ConstraintLayout.LayoutParams) mGuideline1.getLayoutParams();\r\n\r\n                @Override\r\n                public void onClick(View v) {\r\n                    if (!mShowFlag) {\r\n                        ValueAnimator valueAnimator = ValueAnimator.ofFloat(0.41f, 0.47f);\r\n                        valueAnimator.setDuration(200);\r\n                        valueAnimator.setInterpolator(new AccelerateDecelerateInterpolator());\r\n                        valueAnimator.addUpdateListener(animation -&gt; {\r\n                            lp.guidePercent = (float) valueAnimator.getAnimatedValue();\r\n                            mGuideline1.setLayoutParams(lp);\r\n                        });\r\n                        valueAnimator.start();\r\n                        mMoreButton.setText(R.string.more_up);\r\n                        mOperatorRow2.setVisibility(View.VISIBLE);\r\n                        mShowFlag = true;\r\n                    } else {\r\n                        ValueAnimator valueAnimator = ValueAnimator.ofFloat(0.47f, 0.41f);\r\n                        valueAnimator.setDuration(200);\r\n                        valueAnimator.setInterpolator(new AccelerateDecelerateInterpolator());\r\n                        valueAnimator.addUpdateListener(animation -&gt; {\r\n                            lp.guidePercent = (float) valueAnimator.getAnimatedValue();\r\n                            mGuideline1.setLayoutParams(lp);\r\n                        });\r\n                        valueAnimator.start();\r\n                        mMoreButton.setText(R.string.more_down);\r\n                        mOperatorRow2.setVisibility(View.GONE);\r\n                        mShowFlag = false;\r\n                    }\r\n                }\r\n            });\r\n\r\ni try to change the duration but it doesnt help.","title":"android studio i use valueanimator to change guideline layout percent programmatically like move it from 41% to 47% but the animation is very laggy","body":"<p>There is a tablelayout which have two tablerows and the below row is visibility.gone by default and i if i click the button, it change to visibility.visible. i programmatically change the guideline layout percent to resize the tablelayout to make space to show the tablerow, but the animation is very laggy especially everytime i run the app and first time click the button. how can I fix it?</p>\n<p>here is my code:</p>\n<pre><code>        mMoreButton.setOnClickListener(new View.OnClickListener() {\n            final ConstraintLayout.LayoutParams lp = (ConstraintLayout.LayoutParams) mGuideline1.getLayoutParams();\n\n            @Override\n            public void onClick(View v) {\n                if (!mShowFlag) {\n                    ValueAnimator valueAnimator = ValueAnimator.ofFloat(0.41f, 0.47f);\n                    valueAnimator.setDuration(200);\n                    valueAnimator.setInterpolator(new AccelerateDecelerateInterpolator());\n                    valueAnimator.addUpdateListener(animation -&gt; {\n                        lp.guidePercent = (float) valueAnimator.getAnimatedValue();\n                        mGuideline1.setLayoutParams(lp);\n                    });\n                    valueAnimator.start();\n                    mMoreButton.setText(R.string.more_up);\n                    mOperatorRow2.setVisibility(View.VISIBLE);\n                    mShowFlag = true;\n                } else {\n                    ValueAnimator valueAnimator = ValueAnimator.ofFloat(0.47f, 0.41f);\n                    valueAnimator.setDuration(200);\n                    valueAnimator.setInterpolator(new AccelerateDecelerateInterpolator());\n                    valueAnimator.addUpdateListener(animation -&gt; {\n                        lp.guidePercent = (float) valueAnimator.getAnimatedValue();\n                        mGuideline1.setLayoutParams(lp);\n                    });\n                    valueAnimator.start();\n                    mMoreButton.setText(R.string.more_down);\n                    mOperatorRow2.setVisibility(View.GONE);\n                    mShowFlag = false;\n                }\n            }\n        });\n</code></pre>\n<p>i try to change the duration but it doesnt help.</p>\n"},{"tags":["java","inheritance"],"comments":[{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":1,"creation_date":1687904110,"post_id":76567249,"comment_id":135001805,"body_markdown":"Private methods are not inherited. They do not participate in dynamic dispatch. The `Student.getInfo()` method is entirely separate from the `Person.getInfo()` method, and the former does not override the latter. Additionally, the `Person.printPerson()` method, while it is _inherited_ by `Student`, it is not _overridden_ by `Student`. And which method is invoked is determined at compile-time. In this case, the chosen method is `Person.getInfo()`, because that&#39;s the only legal method in context. And that method is invoked &quot;directly&quot; because private methods are not polymorphic.","body":"Private methods are not inherited. They do not participate in dynamic dispatch. The <code>Student.getInfo()</code> method is entirely separate from the <code>Person.getInfo()</code> method, and the former does not override the latter. Additionally, the <code>Person.printPerson()</code> method, while it is <i>inherited</i> by <code>Student</code>, it is not <i>overridden</i> by <code>Student</code>. And which method is invoked is determined at compile-time. In this case, the chosen method is <code>Person.getInfo()</code>, because that&#39;s the only legal method in context. And that method is invoked &quot;directly&quot; because private methods are not polymorphic."},{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":0,"creation_date":1687911502,"post_id":76567249,"comment_id":135002511,"body_markdown":"This is an important property for encapsulation. If it worked the opposite way with private methods   inherited and overridable in subclasses, then adding a private method to a superclass could change the behaviour of a subclass. This would be undesirable, as private methods are meant to hide implementation details, and are not part of the interface of the class.","body":"This is an important property for encapsulation. If it worked the opposite way with private methods   inherited and overridable in subclasses, then adding a private method to a superclass could change the behaviour of a subclass. This would be undesirable, as private methods are meant to hide implementation details, and are not part of the interface of the class."}],"answers":[{"tags":[],"owner":{"account_id":9978708,"reputation":267,"user_id":7382342,"display_name":"Hardik Uchdadiya"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687917960,"creation_date":1687917960,"answer_id":76569614,"question_id":76567249,"body_markdown":"Always try to use @Override annotation when you want to check if method is allowed to be overridden or not in child classes, in this case you will find that it will throw a compile time error, apart from that, explanation seems pretty clear","title":"Invoking a private method in subclass from inherited public method","body":"<p>Always try to use @Override annotation when you want to check if method is allowed to be overridden or not in child classes, in this case you will find that it will throw a compile time error, apart from that, explanation seems pretty clear</p>\n"}],"owner":{"account_id":28005232,"reputation":9,"user_id":21388756,"display_name":"Elias El hachem"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1687917960,"creation_date":1687886264,"question_id":76567249,"body_markdown":"I read the following example in a book and its output is correct:\r\n\r\n```\r\npublic class Test \r\n{\r\n    public static void main(String[] args) \r\n    {\r\n        new Person().printPerson(); // Person\r\n        new Student().printPerson(); // Person : Line 6\r\n    }\r\n}\r\nclass Student extends Person \r\n{\r\n    private String getInfo() // Line 11\r\n    {\r\n        return &quot;Student&quot;;\r\n    }\r\n}\r\nclass Person \r\n{\r\n    private String getInfo() \r\n    {\r\n        return &quot;Person&quot;;\r\n    }\r\n    public void printPerson() \r\n    {\r\n        System.out.println(getInfo());\r\n    }\r\n}\r\n```\r\nThe explanation for the output &quot;Person&quot; instead of &quot;Student&quot; in Line 6 is as follow:\r\nnew Student().printPerson() does not invoke the getInfo() method in the Student class, because it is private and can only be invoked from a method in the Student class.\r\n\r\n\r\nMy Question is:\r\n\r\nprintPerson() method is not private in Person class hence it is inherited in Student class =&gt; it is available in Student class.\r\n\r\nWhy it can&#39;t invoke getInfo() method at Line 11 ?\r\nprintPerson() and getInfo() are both available in Student class (printPerson() method through inheritance)","title":"Invoking a private method in subclass from inherited public method","body":"<p>I read the following example in a book and its output is correct:</p>\n<pre><code>public class Test \n{\n    public static void main(String[] args) \n    {\n        new Person().printPerson(); // Person\n        new Student().printPerson(); // Person : Line 6\n    }\n}\nclass Student extends Person \n{\n    private String getInfo() // Line 11\n    {\n        return &quot;Student&quot;;\n    }\n}\nclass Person \n{\n    private String getInfo() \n    {\n        return &quot;Person&quot;;\n    }\n    public void printPerson() \n    {\n        System.out.println(getInfo());\n    }\n}\n</code></pre>\n<p>The explanation for the output &quot;Person&quot; instead of &quot;Student&quot; in Line 6 is as follow:\nnew Student().printPerson() does not invoke the getInfo() method in the Student class, because it is private and can only be invoked from a method in the Student class.</p>\n<p>My Question is:</p>\n<p>printPerson() method is not private in Person class hence it is inherited in Student class =&gt; it is available in Student class.</p>\n<p>Why it can't invoke getInfo() method at Line 11 ?\nprintPerson() and getInfo() are both available in Student class (printPerson() method through inheritance)</p>\n"},{"tags":["java","selenium-webdriver","jenkins","jenkins-groovy"],"answers":[{"tags":[],"owner":{"account_id":4599455,"reputation":2892,"user_id":3730626,"display_name":"M B"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687917485,"creation_date":1687917485,"answer_id":76569587,"question_id":76566689,"body_markdown":"If the Java file gets compiled and executed within the Jenkins pipeline, you could set up your Java code to accept [command line arguments](https://www.baeldung.com/java-command-line-arguments), then pass in the $BearerToken variable when the Java jar is being executed:\r\n\r\n```\r\njava -jar cli-example.jar $BearerToken\r\n```","title":"How to read parameters from .jenkins file to use in .java file","body":"<p>If the Java file gets compiled and executed within the Jenkins pipeline, you could set up your Java code to accept <a href=\"https://www.baeldung.com/java-command-line-arguments\" rel=\"nofollow noreferrer\">command line arguments</a>, then pass in the $BearerToken variable when the Java jar is being executed:</p>\n<pre><code>java -jar cli-example.jar $BearerToken\n</code></pre>\n"}],"owner":{"account_id":9604650,"reputation":13,"user_id":7131045,"accept_rate":50,"display_name":"sanjay"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":90,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1687917485,"creation_date":1687881428,"question_id":76566689,"body_markdown":"In my Selenium and Java framework I want to give bearer token from .Jenkins file and use it in my .java file to execute my API.\r\n\r\nBelow is sample code of my .Jenkins file.\r\n\r\n    parameters {\r\n       string name: &#39;envUnderTest&#39;, defaultValue: &#39;uat&#39;\r\n       string name: &#39;BearerToken&#39;, defaultValue: &#39;XXXXXX&#39;\r\n       }\r\n\r\n\r\n","title":"How to read parameters from .jenkins file to use in .java file","body":"<p>In my Selenium and Java framework I want to give bearer token from .Jenkins file and use it in my .java file to execute my API.</p>\n<p>Below is sample code of my .Jenkins file.</p>\n<pre><code>parameters {\n   string name: 'envUnderTest', defaultValue: 'uat'\n   string name: 'BearerToken', defaultValue: 'XXXXXX'\n   }\n</code></pre>\n"},{"tags":["java","maven","tomcat","rmi","classnotfound"],"comments":[{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1687843036,"post_id":76558128,"comment_id":134989256,"body_markdown":"It has to be not only named the same but be in the same package (which is a part of naming). Use a shared project or shared folder, don&#39;t repeat the source code. That is a recipe for divergence.","body":"It has to be not only named the same but be in the same package (which is a part of naming). Use a shared project or shared folder, don&#39;t repeat the source code. That is a recipe for divergence."}],"owner":{"account_id":28898543,"reputation":1,"user_id":22134032,"display_name":"ezzky"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":71,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1687914982,"answer_count":0,"score":0,"last_activity_date":1687915107,"creation_date":1687793216,"question_id":76558128,"body_markdown":"I have this problem with connecting my server and client with rmi in java.\r\n\r\nIm using VSCode, client is maven project with tomcat and server is basic java project.\r\n\r\nError: `&quot;error unmarshalling return; nested exception is:  \tjava.lang.ClassNotFoundException: main.java.service.ProductService&quot;`\r\n\r\nrmi interface on both sides is named ProductService.java and looks like this on server:\r\n```\r\npackage main.java.service;\r\n\r\nimport java.rmi.Remote;\r\nimport java.rmi.RemoteException;\r\nimport java.util.ArrayList;\r\n\r\nimport main.java.data.Product;\r\n\r\n\r\npublic interface ProductService extends Remote {\r\n    public ArrayList&lt;Product&gt; getAllProducts() throws RemoteException;\r\n    public ArrayList&lt;Product&gt; getAllBurgers() throws RemoteException;\r\n    public ArrayList&lt;Product&gt; getAllDrinks() throws RemoteException;\r\n    public ArrayList&lt;Product&gt; getAllDeserts() throws RemoteException;\r\n    public Product getProduct(int id) throws RemoteException;\r\n    public void addProduct(Product product) throws RemoteException;\r\n    public void updateProduct(Product product) throws RemoteException;\r\n    public void deleteProduct(int id) throws RemoteException;\r\n}\r\n```\r\nProductService.java on client:\r\n```\r\n package service;\r\nimport java.rmi.Remote;\r\nimport java.rmi.RemoteException;\r\nimport java.util.ArrayList;\r\nimport obj.Product;\r\n\r\npublic interface ProductService extends Remote {\r\n    public ArrayList&lt;Product&gt; getAllProducts() throws RemoteException;\r\n    public Product getProduct(int id) throws RemoteException;\r\n    public void addProduct(Product product) throws RemoteException;\r\n    public void updateProduct(Product product) throws RemoteException;\r\n    public void deleteProduct(int id) throws RemoteException;\r\n}\r\n```\r\nOn client im trying a lookup on this servlet and then the error shows up:\r\n\r\n```\r\npackage servlety;\r\nimport java.io.*;\r\nimport java.rmi.Naming;\r\nimport java.rmi.*;\r\nimport java.rmi.RMISecurityManager;\r\nimport java.rmi.Remote;\r\nimport java.util.ArrayList;\r\nimport service.ProductService;\r\n\r\nimport jakarta.servlet.*;\r\nimport jakarta.servlet.annotation.WebServlet;\r\nimport jakarta.servlet.http.*;\r\nimport obj.Product;\r\n\r\n@WebServlet(&quot;/CategoryServlet2&quot;)\r\npublic class CategoryServlet extends HttpServlet {\r\n     ArrayList&lt;Product&gt; productList;\r\n    protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\r\n    \r\n        String category = request.getParameter(&quot;category&quot;);\r\n\r\n         try {\r\n      if (System.getSecurityManager() == null) {\r\nSystem.setSecurityManager(new RMISecurityManager());\r\n}\r\n  ProductService productService = (ProductService) Naming.lookup(&quot;rmi://localhost:8585/restaurace&quot;);\r\n\r\n                productList = productService.getAllProducts();\r\n\r\n            request.setAttribute(&quot;productList&quot;, productList);\r\n\r\n        } catch (Exception e) {\r\n                    System.out.println(e.getMessage());\r\n                }\r\n\r\n        request.setAttribute(&quot;category&quot;, category);\r\n\r\n        request.getRequestDispatcher(&quot;/&quot;+category+&quot;.jsp&quot;).forward(request, response);\r\n    }\r\n}\r\n```\r\non server side in implementation there is ProductServiceImpl.java and it looks like this: \r\n```\r\n package main.java.data;\r\n\r\nimport java.rmi.*;\r\nimport java.rmi.registry.LocateRegistry;\r\nimport java.rmi.registry.Registry;\r\nimport java.rmi.server.*;  \r\nimport java.sql.Connection;\r\nimport java.sql.DriverManager;\r\nimport java.sql.SQLException;\r\nimport java.util.ArrayList;\r\nimport main.java.service.ProductService;\r\nimport main.java.data.Product;\r\npublic class ProductServiceImpl extends UnicastRemoteObject  implements ProductService {\r\n\r\n    public static void main(String[] args) {\r\n     try{\r\n              if (System.getSecurityManager() == null) {\r\nSystem.setSecurityManager(new RMISecurityManager());\r\n}\r\n            Registry registry = LocateRegistry.createRegistry(8585);\r\n            ProductServiceImpl productService = new ProductServiceImpl();\r\n            registry.rebind(&quot;restaurace&quot;, (ProductService) productService);\r\n            \r\n            System.out.println(&quot;Server started&quot;);\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\n    private Connection connection;\r\n    public ProductServiceImpl() throws RemoteException {\r\n        super();\r\n  \r\n        try {\r\n            Class.forName(&quot;com.mysql.cj.jdbc.Driver&quot;);\r\n            connection = DriverManager.getConnection(&quot;jdbc:mysql://localhost:3306/restaurace&quot;, &quot;root&quot;, &quot;&quot;);\r\n        } catch (ClassNotFoundException | SQLException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n    \r\n    @Override\r\n    public Product getProduct(int id) throws RemoteException {\r\n        ProductDAO productDao = new ProductDAO(connection);\r\n        Product product = null;\r\n        try {\r\n            product = productDao.getProduct(id);\r\n        } catch (SQLException e) {\r\n            e.printStackTrace();\r\n        }\r\n        return product;\r\n    }\r\n    \r\n    @Override\r\n    public void addProduct(Product product) throws RemoteException {\r\n        ProductDAO productDao = new ProductDAO(connection);\r\n        try {\r\n            productDao.addProduct(product);\r\n        } catch (SQLException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n    \r\n    @Override\r\n    public void updateProduct(Product product) throws RemoteException {\r\n        ProductDAO productDao = new ProductDAO(connection);\r\n        try {\r\n            productDao.updateProduct(product);\r\n        } catch (SQLException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n    \r\n    @Override\r\n    public void deleteProduct(int id) throws RemoteException {\r\n        ProductDAO productDao = new ProductDAO(connection);\r\n        try {\r\n            productDao.deleteProduct(id);\r\n        } catch (SQLException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n    \r\n    @Override\r\n    public ArrayList&lt;Product&gt; getAllProducts() throws RemoteException {\r\n        try {\r\n            ProductDAO productDAO = new ProductDAO(connection);\r\n            return productDAO.getAllProducts();\r\n        } catch (Exception e) {\r\n            // TODO: handle exception\r\n            return null;\r\n        }\r\n    }\r\n}\r\n```\r\nProductService on both sides is in these packages:\r\n```\r\n\\Desktop\\pokladna1\\pokladna\\src\\main\\java\\service\\ProductService.java - client\r\n\\Desktop\\pokladna1\\RMI server\\src\\main\\java\\service\\ProductService.java - server\r\n```\r\n","title":"error unmarshalling return; nested exception is: java.lang.ClassNotFoundException: main.java.service.ProductService","body":"<p>I have this problem with connecting my server and client with rmi in java.</p>\n<p>Im using VSCode, client is maven project with tomcat and server is basic java project.</p>\n<p>Error: <code>&quot;error unmarshalling return; nested exception is:   java.lang.ClassNotFoundException: main.java.service.ProductService&quot;</code></p>\n<p>rmi interface on both sides is named ProductService.java and looks like this on server:</p>\n<pre><code>package main.java.service;\n\nimport java.rmi.Remote;\nimport java.rmi.RemoteException;\nimport java.util.ArrayList;\n\nimport main.java.data.Product;\n\n\npublic interface ProductService extends Remote {\n    public ArrayList&lt;Product&gt; getAllProducts() throws RemoteException;\n    public ArrayList&lt;Product&gt; getAllBurgers() throws RemoteException;\n    public ArrayList&lt;Product&gt; getAllDrinks() throws RemoteException;\n    public ArrayList&lt;Product&gt; getAllDeserts() throws RemoteException;\n    public Product getProduct(int id) throws RemoteException;\n    public void addProduct(Product product) throws RemoteException;\n    public void updateProduct(Product product) throws RemoteException;\n    public void deleteProduct(int id) throws RemoteException;\n}\n</code></pre>\n<p>ProductService.java on client:</p>\n<pre><code> package service;\nimport java.rmi.Remote;\nimport java.rmi.RemoteException;\nimport java.util.ArrayList;\nimport obj.Product;\n\npublic interface ProductService extends Remote {\n    public ArrayList&lt;Product&gt; getAllProducts() throws RemoteException;\n    public Product getProduct(int id) throws RemoteException;\n    public void addProduct(Product product) throws RemoteException;\n    public void updateProduct(Product product) throws RemoteException;\n    public void deleteProduct(int id) throws RemoteException;\n}\n</code></pre>\n<p>On client im trying a lookup on this servlet and then the error shows up:</p>\n<pre><code>package servlety;\nimport java.io.*;\nimport java.rmi.Naming;\nimport java.rmi.*;\nimport java.rmi.RMISecurityManager;\nimport java.rmi.Remote;\nimport java.util.ArrayList;\nimport service.ProductService;\n\nimport jakarta.servlet.*;\nimport jakarta.servlet.annotation.WebServlet;\nimport jakarta.servlet.http.*;\nimport obj.Product;\n\n@WebServlet(&quot;/CategoryServlet2&quot;)\npublic class CategoryServlet extends HttpServlet {\n     ArrayList&lt;Product&gt; productList;\n    protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\n    \n        String category = request.getParameter(&quot;category&quot;);\n\n         try {\n      if (System.getSecurityManager() == null) {\nSystem.setSecurityManager(new RMISecurityManager());\n}\n  ProductService productService = (ProductService) Naming.lookup(&quot;rmi://localhost:8585/restaurace&quot;);\n\n                productList = productService.getAllProducts();\n\n            request.setAttribute(&quot;productList&quot;, productList);\n\n        } catch (Exception e) {\n                    System.out.println(e.getMessage());\n                }\n\n        request.setAttribute(&quot;category&quot;, category);\n\n        request.getRequestDispatcher(&quot;/&quot;+category+&quot;.jsp&quot;).forward(request, response);\n    }\n}\n</code></pre>\n<p>on server side in implementation there is ProductServiceImpl.java and it looks like this:</p>\n<pre><code> package main.java.data;\n\nimport java.rmi.*;\nimport java.rmi.registry.LocateRegistry;\nimport java.rmi.registry.Registry;\nimport java.rmi.server.*;  \nimport java.sql.Connection;\nimport java.sql.DriverManager;\nimport java.sql.SQLException;\nimport java.util.ArrayList;\nimport main.java.service.ProductService;\nimport main.java.data.Product;\npublic class ProductServiceImpl extends UnicastRemoteObject  implements ProductService {\n\n    public static void main(String[] args) {\n     try{\n              if (System.getSecurityManager() == null) {\nSystem.setSecurityManager(new RMISecurityManager());\n}\n            Registry registry = LocateRegistry.createRegistry(8585);\n            ProductServiceImpl productService = new ProductServiceImpl();\n            registry.rebind(&quot;restaurace&quot;, (ProductService) productService);\n            \n            System.out.println(&quot;Server started&quot;);\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    }\n\n    private Connection connection;\n    public ProductServiceImpl() throws RemoteException {\n        super();\n  \n        try {\n            Class.forName(&quot;com.mysql.cj.jdbc.Driver&quot;);\n            connection = DriverManager.getConnection(&quot;jdbc:mysql://localhost:3306/restaurace&quot;, &quot;root&quot;, &quot;&quot;);\n        } catch (ClassNotFoundException | SQLException e) {\n            e.printStackTrace();\n        }\n    }\n    \n    @Override\n    public Product getProduct(int id) throws RemoteException {\n        ProductDAO productDao = new ProductDAO(connection);\n        Product product = null;\n        try {\n            product = productDao.getProduct(id);\n        } catch (SQLException e) {\n            e.printStackTrace();\n        }\n        return product;\n    }\n    \n    @Override\n    public void addProduct(Product product) throws RemoteException {\n        ProductDAO productDao = new ProductDAO(connection);\n        try {\n            productDao.addProduct(product);\n        } catch (SQLException e) {\n            e.printStackTrace();\n        }\n    }\n    \n    @Override\n    public void updateProduct(Product product) throws RemoteException {\n        ProductDAO productDao = new ProductDAO(connection);\n        try {\n            productDao.updateProduct(product);\n        } catch (SQLException e) {\n            e.printStackTrace();\n        }\n    }\n    \n    @Override\n    public void deleteProduct(int id) throws RemoteException {\n        ProductDAO productDao = new ProductDAO(connection);\n        try {\n            productDao.deleteProduct(id);\n        } catch (SQLException e) {\n            e.printStackTrace();\n        }\n    }\n    \n    @Override\n    public ArrayList&lt;Product&gt; getAllProducts() throws RemoteException {\n        try {\n            ProductDAO productDAO = new ProductDAO(connection);\n            return productDAO.getAllProducts();\n        } catch (Exception e) {\n            // TODO: handle exception\n            return null;\n        }\n    }\n}\n</code></pre>\n<p>ProductService on both sides is in these packages:</p>\n<pre><code>\\Desktop\\pokladna1\\pokladna\\src\\main\\java\\service\\ProductService.java - client\n\\Desktop\\pokladna1\\RMI server\\src\\main\\java\\service\\ProductService.java - server\n</code></pre>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":12210830,"reputation":335,"user_id":8912667,"display_name":"Fabien MIFSUD"},"score":0,"creation_date":1554129950,"post_id":55457184,"comment_id":97628529,"body_markdown":"Hi, could you give us the expecting matching path ?","body":"Hi, could you give us the expecting matching path ?"},{"owner":{"account_id":15651052,"reputation":307,"user_id":11292420,"display_name":"Lyannic"},"score":0,"creation_date":1554150137,"post_id":55457184,"comment_id":97638314,"body_markdown":"Hello, I edited my question and added an example.","body":"Hello, I edited my question and added an example."},{"owner":{"account_id":12210830,"reputation":335,"user_id":8912667,"display_name":"Fabien MIFSUD"},"score":0,"creation_date":1554198164,"post_id":55457184,"comment_id":97653835,"body_markdown":"The mapping should work as expected (except that path should be &quot;some/filepath&quot;), are you correctly make a GET request ?","body":"The mapping should work as expected (except that path should be &quot;some/filepath&quot;), are you correctly make a GET request ?"},{"owner":{"account_id":15651052,"reputation":307,"user_id":11292420,"display_name":"Lyannic"},"score":0,"creation_date":1554234770,"post_id":55457184,"comment_id":97674873,"body_markdown":"Yes, when I change the route to &quot;/resources/**&quot;, I arrive in the Controller method.","body":"Yes, when I change the route to &quot;/resources/**&quot;, I arrive in the Controller method."},{"owner":{"account_id":12210830,"reputation":335,"user_id":8912667,"display_name":"Fabien MIFSUD"},"score":0,"creation_date":1554465852,"post_id":55457184,"comment_id":97773129,"body_markdown":"Not sure that you are looking the correct documentation, please see : \nhttps://docs.spring.io/spring/docs/current/spring-framework-reference/web.html#mvc-ann-requestmapping","body":"Not sure that you are looking the correct documentation, please see :  <a href=\"https://docs.spring.io/spring/docs/current/spring-framework-reference/web.html#mvc-ann-requestmapping\" rel=\"nofollow noreferrer\">docs.spring.io/spring/docs/current/spring-framework-referenc&zwnj;&#8203;e/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":15651052,"reputation":307,"user_id":11292420,"display_name":"Lyannic"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1554986466,"creation_date":1554986466,"answer_id":55632783,"question_id":55457184,"body_markdown":"I was finally able to find out the reason for my problem.\r\n\r\nThanks to Fabien&#39;s [link](https://docs.spring.io/spring/docs/current/spring-framework-reference/web.html#mvc-ann-requestmapping).\r\n\r\nThe AntPathMatcher is the default implementation for the [PathMatcher](https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/util/PathMatcher.html). [1.10.12. Path Matching](https://docs.spring.io/spring/docs/current/spring-framework-reference/web.html#mvc-config-path-matching) shows how to configure the PathMatcher. However the PathMatchConfigurer::setPathMatcher takes a PathMatcher as the argument and AntPathMatcher is the only implementation of PathMatcher so you can not set the [PathPattern](https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/web/util/pattern/PathPattern.html) there...\r\n\r\n    @Configuration\r\n    @EnableWebMvc\r\n    public class WebConfig implements WebMvcConfigurer {\r\n\r\n        @Override\r\n        public void configurePathMatch(PathMatchConfigurer configurer) {\r\n            configurer\r\n                .setUseSuffixPatternMatch(true)\r\n                .setUseTrailingSlashMatch(false)\r\n                .setUseRegisteredSuffixPatternMatch(true)\r\n                .setPathMatcher(antPathMatcher())\r\n                .setUrlPathHelper(urlPathHelper())\r\n                .addPathPrefix(&quot;/api&quot;,\r\n                        HandlerTypePredicate.forAnnotation(RestController.class));\r\n        }\r\n\r\n        @Bean\r\n        public UrlPathHelper urlPathHelper() {\r\n            //...\r\n        }\r\n\r\n        @Bean\r\n        public PathMatcher antPathMatcher() {\r\n            //...\r\n        }\r\n\r\n    }\r\n\r\nThe only class where I found the PathPattern in the Baeldung project is the following:\r\n\r\n    @Configuration\r\n    public class CorsWebFilterConfig {\r\n    \r\n        @Bean\r\n        CorsWebFilter corsWebFilter() {\r\n            CorsConfiguration corsConfig = new CorsConfiguration();\r\n            corsConfig.setAllowedOrigins(Arrays.asList(&quot;http://allowed-origin.com&quot;));\r\n            corsConfig.setMaxAge(8000L);\r\n            corsConfig.addAllowedMethod(&quot;PUT&quot;);\r\n            corsConfig.addAllowedHeader(&quot;Baeldung-Allowed&quot;);\r\n    \r\n            UrlBasedCorsConfigurationSource source = new UrlBasedCorsConfigurationSource(new PathPatternParser());\r\n            source.registerCorsConfiguration(&quot;/**&quot;, corsConfig);\r\n    \r\n            return new CorsWebFilter(source);\r\n        }\r\n    \r\n    }","title":"How to apply the PathPatternParser introduced in Spring 5?","body":"<p>I was finally able to find out the reason for my problem.</p>\n\n<p>Thanks to Fabien's <a href=\"https://docs.spring.io/spring/docs/current/spring-framework-reference/web.html#mvc-ann-requestmapping\" rel=\"nofollow noreferrer\">link</a>.</p>\n\n<p>The AntPathMatcher is the default implementation for the <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/util/PathMatcher.html\" rel=\"nofollow noreferrer\">PathMatcher</a>. <a href=\"https://docs.spring.io/spring/docs/current/spring-framework-reference/web.html#mvc-config-path-matching\" rel=\"nofollow noreferrer\">1.10.12. Path Matching</a> shows how to configure the PathMatcher. However the PathMatchConfigurer::setPathMatcher takes a PathMatcher as the argument and AntPathMatcher is the only implementation of PathMatcher so you can not set the <a href=\"https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/web/util/pattern/PathPattern.html\" rel=\"nofollow noreferrer\">PathPattern</a> there...</p>\n\n<pre><code>@Configuration\n@EnableWebMvc\npublic class WebConfig implements WebMvcConfigurer {\n\n    @Override\n    public void configurePathMatch(PathMatchConfigurer configurer) {\n        configurer\n            .setUseSuffixPatternMatch(true)\n            .setUseTrailingSlashMatch(false)\n            .setUseRegisteredSuffixPatternMatch(true)\n            .setPathMatcher(antPathMatcher())\n            .setUrlPathHelper(urlPathHelper())\n            .addPathPrefix(\"/api\",\n                    HandlerTypePredicate.forAnnotation(RestController.class));\n    }\n\n    @Bean\n    public UrlPathHelper urlPathHelper() {\n        //...\n    }\n\n    @Bean\n    public PathMatcher antPathMatcher() {\n        //...\n    }\n\n}\n</code></pre>\n\n<p>The only class where I found the PathPattern in the Baeldung project is the following:</p>\n\n<pre><code>@Configuration\npublic class CorsWebFilterConfig {\n\n    @Bean\n    CorsWebFilter corsWebFilter() {\n        CorsConfiguration corsConfig = new CorsConfiguration();\n        corsConfig.setAllowedOrigins(Arrays.asList(\"http://allowed-origin.com\"));\n        corsConfig.setMaxAge(8000L);\n        corsConfig.addAllowedMethod(\"PUT\");\n        corsConfig.addAllowedHeader(\"Baeldung-Allowed\");\n\n        UrlBasedCorsConfigurationSource source = new UrlBasedCorsConfigurationSource(new PathPatternParser());\n        source.registerCorsConfiguration(\"/**\", corsConfig);\n\n        return new CorsWebFilter(source);\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20791714,"reputation":561,"user_id":15269737,"display_name":"Enmanuel Rodr&#237;guez Paz"},"comment_count":0,"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1614108704,"creation_date":1614108704,"answer_id":66339822,"question_id":55457184,"body_markdown":"In the [Common Application properties][1] in the Spring documentation there&#39;s a property called **spring.mvc.pathmatch.matching-strategy**, that&#39;s used as &quot;Choice of strategy for matching request paths against registered mappings&quot;.\r\n\r\nThe default value (up to this date) is **ant-path-matcher**, and since you want to use PathPattern, you&#39;ll need to write this in the application.properties file:\r\n\r\nspring.mvc.pathmatch.matching-strategy=path-pattern-parser\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-boot/docs/current/reference/html/appendix-application-properties.html#common-application-properties-web","title":"How to apply the PathPatternParser introduced in Spring 5?","body":"<p>In the <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/appendix-application-properties.html#common-application-properties-web\" rel=\"noreferrer\">Common Application properties</a> in the Spring documentation there's a property called <strong>spring.mvc.pathmatch.matching-strategy</strong>, that's used as &quot;Choice of strategy for matching request paths against registered mappings&quot;.</p>\n<p>The default value (up to this date) is <strong>ant-path-matcher</strong>, and since you want to use PathPattern, you'll need to write this in the application.properties file:</p>\n<p>spring.mvc.pathmatch.matching-strategy=path-pattern-parser</p>\n"},{"tags":[],"owner":{"account_id":2562085,"reputation":4946,"user_id":2223027,"display_name":"pyb"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1687913831,"creation_date":1687913831,"answer_id":76569418,"question_id":55457184,"body_markdown":"Enmanuel Rodr&#237;guez Paz gave a [good declarative solution here](https://stackoverflow.com/a/66339822/).\r\n\r\nYou can also configure Spring 5.3 to use `PathPatternParser` imperatively like so :\r\n\r\n```java\r\npackage com.stackoverflow.users.pyb.questions.55457184;\r\n\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.web.servlet.config.annotation.EnableWebMvc;\r\nimport org.springframework.web.servlet.config.annotation.PathMatchConfigurer;\r\nimport org.springframework.web.servlet.config.annotation.WebMvcConfigurer;\r\nimport org.springframework.web.util.pattern.PathPatternParser;\r\n\r\npublic class WebConfig implements WebMvcConfigurer {\r\n\r\n  @Override\r\n  public void configurePathMatch(PathMatchConfigurer configurer) {\r\n    configurer\r\n        .setPatternParser(new PathPatternParser());\r\n  }\r\n}\r\n```","title":"How to apply the PathPatternParser introduced in Spring 5?","body":"<p>Enmanuel Rodríguez Paz gave a <a href=\"https://stackoverflow.com/a/66339822/\">good declarative solution here</a>.</p>\n<p>You can also configure Spring 5.3 to use <code>PathPatternParser</code> imperatively like so :</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.stackoverflow.users.pyb.questions.55457184;\n\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.web.servlet.config.annotation.EnableWebMvc;\nimport org.springframework.web.servlet.config.annotation.PathMatchConfigurer;\nimport org.springframework.web.servlet.config.annotation.WebMvcConfigurer;\nimport org.springframework.web.util.pattern.PathPatternParser;\n\npublic class WebConfig implements WebMvcConfigurer {\n\n  @Override\n  public void configurePathMatch(PathMatchConfigurer configurer) {\n    configurer\n        .setPatternParser(new PathPatternParser());\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":15651052,"reputation":307,"user_id":11292420,"display_name":"Lyannic"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":24712,"favorite_count":0,"down_vote_count":0,"up_vote_count":13,"accepted_answer_id":66339822,"answer_count":3,"score":13,"last_activity_date":1687913831,"creation_date":1554127852,"question_id":55457184,"body_markdown":"I want to create a **GET** request that takes a filepath as a path variable.\r\n\r\nAs described in the Spring documentation found [here][1], this should be possible by using the following: /resources/{*path}. \r\n\r\nI am using Spring Boot 2.1.2 which uses Spring 5.\r\n\r\nHowever when I set up my controller method like this, the request doesn&#39;t match the route. An expected matching path would be for example /resources/some/filepath which should lead the PathVariable &quot;path&quot; to be /some/filepath\r\n\r\n```java\r\n  @GetMapping(&quot;/resources/{*path}&quot;)\r\n  public String content(@PathVariable String path) {\r\n    return null;\r\n  }\r\n``` \r\n\r\nI didn&#39;t find any information about any configuration that is needed in order to make use of the new PathPattern. The only other piece of information I found about this new feature is a post at Baeldung (https://www.baeldung.com/spring-5-mvc-url-matching) which doesn&#39;t mention anything about configuration. So I expect that it should work out of the box, but it doesn&#39;t.\r\n\r\nI cloned the project mentioned in the Baeldung post. The corresponding unit tests run. When I copy the Controller method and the unit test to my project, it fails. So I expect that it has to do with configuration.\r\n\r\nThank you for any help.\r\n\r\n\r\n  [1]: https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/web/util/pattern/PathPattern.html","title":"How to apply the PathPatternParser introduced in Spring 5?","body":"<p>I want to create a <strong>GET</strong> request that takes a filepath as a path variable.</p>\n\n<p>As described in the Spring documentation found <a href=\"https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/web/util/pattern/PathPattern.html\" rel=\"noreferrer\">here</a>, this should be possible by using the following: /resources/{*path}. </p>\n\n<p>I am using Spring Boot 2.1.2 which uses Spring 5.</p>\n\n<p>However when I set up my controller method like this, the request doesn't match the route. An expected matching path would be for example /resources/some/filepath which should lead the PathVariable \"path\" to be /some/filepath</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>  @GetMapping(\"/resources/{*path}\")\n  public String content(@PathVariable String path) {\n    return null;\n  }\n</code></pre>\n\n<p>I didn't find any information about any configuration that is needed in order to make use of the new PathPattern. The only other piece of information I found about this new feature is a post at Baeldung (<a href=\"https://www.baeldung.com/spring-5-mvc-url-matching\" rel=\"noreferrer\">https://www.baeldung.com/spring-5-mvc-url-matching</a>) which doesn't mention anything about configuration. So I expect that it should work out of the box, but it doesn't.</p>\n\n<p>I cloned the project mentioned in the Baeldung post. The corresponding unit tests run. When I copy the Controller method and the unit test to my project, it fails. So I expect that it has to do with configuration.</p>\n\n<p>Thank you for any help.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1687904383,"post_id":76568768,"comment_id":135001828,"body_markdown":"Your code is a bit confusing and hard to understand because of your variable naming conventions. You really want to avoid using trivial variable names such as `l1`, `l2`, `b1`,...  unless they are being used for trivial purposes such as the index of a for loop. Instead use names that have some meaning so that your code becomes self-commenting.","body":"Your code is a bit confusing and hard to understand because of your variable naming conventions. You really want to avoid using trivial variable names such as <code>l1</code>, <code>l2</code>, <code>b1</code>,...  unless they are being used for trivial purposes such as the index of a for loop. Instead use names that have some meaning so that your code becomes self-commenting."},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1687904451,"post_id":76568768,"comment_id":135001831,"body_markdown":"Also, if your code is not behaving as expected, then it&#39;s time to do some debugging, with your IDE&#39;s debugger, if possible.","body":"Also, if your code is not behaving as expected, then it&#39;s time to do some debugging, with your IDE&#39;s debugger, if possible."},{"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"score":0,"creation_date":1687904697,"post_id":76568768,"comment_id":135001870,"body_markdown":"Why are you extending `JFrame` (which you shouldn&#39;t do) and also creating an instance of `JFrame` (which you should do)?  And without a `static main` entry point, how to you run this?","body":"Why are you extending <code>JFrame</code> (which you shouldn&#39;t do) and also creating an instance of <code>JFrame</code> (which you should do)?  And without a <code>static main</code> entry point, how to you run this?"},{"owner":{"account_id":25198128,"reputation":1,"user_id":19037370,"display_name":"DevoidDude"},"score":0,"creation_date":1687905927,"post_id":76568768,"comment_id":135002000,"body_markdown":"@WJS that&#39;s the way I was thought to do it, there is a static main, its above the imports, there two separate classes.","body":"@WJS that&#39;s the way I was thought to do it, there is a static main, its above the imports, there two separate classes."},{"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"score":0,"creation_date":1687906002,"post_id":76568768,"comment_id":135002011,"body_markdown":"@DevoidDude I missed the Gui class.","body":"@DevoidDude I missed the Gui class."}],"answers":[{"comments":[{"owner":{"account_id":25198128,"reputation":1,"user_id":19037370,"display_name":"DevoidDude"},"score":0,"creation_date":1687948247,"post_id":76569387,"comment_id":135007331,"body_markdown":"I was gonna fill out the rest of the if statement but I just wanted to test to make sure it would work with numbers less than first to test it was working first.","body":"I was gonna fill out the rest of the if statement but I just wanted to test to make sure it would work with numbers less than first to test it was working first."},{"owner":{"account_id":25198128,"reputation":1,"user_id":19037370,"display_name":"DevoidDude"},"score":0,"creation_date":1688033722,"post_id":76569387,"comment_id":135020771,"body_markdown":"Why the down votes?","body":"Why the down votes?"}],"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687913105,"creation_date":1687913105,"answer_id":76569387,"question_id":76568768,"body_markdown":"&gt; _&quot;... The problem I&#39;m having is that the number of guesses label is not decrementing when a wrong guess is entered. ...&quot;_\r\n\r\nFor the _checkGuess_ method, you are only evaluating if _number_ is _less-than_ _randomNumber_.\r\n\r\n```java\r\nint number = Integer.parseInt(inputString);\r\nif (number &lt; randomNumber) {\r\n    level--;\r\n    label.setText(String.valueOf(level));\r\n    checkTurns();\r\n    tooLow();\r\n}\r\n```\r\n\r\nAdd two more clauses to the _if-structure_.\r\n\r\n```java\r\nint number = Integer.parseInt(inputString);\r\nif (number &lt; randomNumber) {\r\n    level--;\r\n    label.setText(String.valueOf(level));\r\n    checkTurns();\r\n    tooLow();\r\n} else if (number &gt; randomNumber) {\r\n                \r\n} else {\r\n                \r\n}\r\n```","title":"Guess the Number game, number of guesses left labels not updating","body":"<blockquote>\n<p><em>&quot;... The problem I'm having is that the number of guesses label is not decrementing when a wrong guess is entered. ...&quot;</em></p>\n</blockquote>\n<p>For the <em>checkGuess</em> method, you are only evaluating if <em>number</em> is <em>less-than</em> <em>randomNumber</em>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>int number = Integer.parseInt(inputString);\nif (number &lt; randomNumber) {\n    level--;\n    label.setText(String.valueOf(level));\n    checkTurns();\n    tooLow();\n}\n</code></pre>\n<p>Add two more clauses to the <em>if-structure</em>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>int number = Integer.parseInt(inputString);\nif (number &lt; randomNumber) {\n    level--;\n    label.setText(String.valueOf(level));\n    checkTurns();\n    tooLow();\n} else if (number &gt; randomNumber) {\n                \n} else {\n                \n}\n</code></pre>\n"}],"owner":{"account_id":25198128,"reputation":1,"user_id":19037370,"display_name":"DevoidDude"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":63,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"answer_count":1,"score":-3,"last_activity_date":1687913105,"creation_date":1687901582,"question_id":76568768,"body_markdown":"I have a gui guess the number game, basically the user can choose between three difficulty levels, easy,intermediate and hard, each has its own number of guesses, easy has 15, intermediate has 10 and hard 5. The user can use a peek button which will display the random number for 3 seconds but will deduct a point from the number of guesses. The problem I&#39;m having is that the number of guesses label is not decrementing when a wrong guess is entered. Here is the code.\r\n\r\n\r\n```Java\r\npublic class Gui {\r\n\r\n    private static final int WIDTH = 500;\r\n    private static final int HEIGHT = 300;\r\n    private static final int X_COORDINATE = 400;\r\n    private static final int Y_COORDINATE = 200;\r\n    public static void main(String[]args){\r\n        GuessTheNumber g = new GuessTheNumber();\r\n        g.setBounds(X_COORDINATE,Y_COORDINATE,WIDTH,HEIGHT);\r\n        g.setVisible(true);\r\n        \r\n    }\r\n    \r\n}\r\n\r\nimport javax.swing.JFrame;\r\nimport java.awt.Color;\r\nimport java.awt.Font;\r\nimport java.awt.Label;\r\nimport java.awt.event.ActionEvent;\r\nimport java.awt.event.ActionListener;\r\nimport java.awt.geom.Point2D;\r\n\r\nimport javax.swing.Action;\r\nimport javax.swing.JButton;\r\nimport javax.swing.JFrame;\r\nimport javax.swing.JLabel;\r\nimport javax.swing.JOptionPane;\r\nimport javax.swing.JTextField;\r\nimport java.util.Random;\r\nimport javax.swing.Timer;\r\n\r\npublic class GuessTheNumber extends JFrame{\r\n\r\n    private Random random = new Random();\r\n    private final int EASY_GAME_MODE  = 15;\r\n    private final int INTERMEDIATE_GAME_MODE = 10;\r\n    private final int HARD_GAME_MODE = 5;\r\n    private final int BUTTON_1 = 1;\r\n    private final int BUTTON_2 = 2;\r\n    private final int BUTTON_3 = 3;\r\n    private final int WIDTH = 300;\r\n    private final int HEIGHT = 30;\r\n    private  final int Y = 10;\r\n    private final int X = 120;\r\n\r\n    private int userGuess;\r\n    private int level;\r\n    private int randomNumber;\r\n    private int turns;\r\n    private int playAgain;\r\n    private int buttonId;\r\n\r\n    private final JFrame f = new JFrame();\r\n\r\n    private final JLabel l1;\r\n    private final JLabel l2 = new JLabel();\r\n    private final JLabel l3 = new JLabel();\r\n    private final JLabel l4 = new JLabel();\r\n    private final JLabel l5 = new JLabel();\r\n    private final JLabel l6 = new JLabel();\r\n    private final JLabel l7 = new JLabel();\r\n\r\n    private final JButton b1;\r\n    private final JButton b2;\r\n    private final JButton b3;\r\n    private final JButton b4;\r\n    private final JButton b5;\r\n    private final JButton b6;\r\n\r\n    private final Timer peekTimer;\r\n\r\n    private final JTextField t1;\r\n\r\n    public GuessTheNumber(){\r\n        displayRandomNumber();\r\n        setLayout(null);\r\n        setLayout(null);\r\n        setDefaultCloseOperation(EXIT_ON_CLOSE);\r\n        t1 = new JTextField(60);\r\n        l1 = new JLabel(&quot;Guess The Number&quot;);\r\n        l1.setFont(new Font(&quot;Times new Roman&quot;,Font.BOLD,30));\r\n        l1.setForeground(getForeGround());\r\n        l2.setForeground(getForeGround());\r\n\r\n        l1.setBounds(X,Y,WIDTH,HEIGHT);\r\n        l2.setBounds(270,60,120,30);\r\n        l3.setBounds(140,100,120,30);\r\n        l4.setBounds(270,100,120,30);\r\n        l5.setBounds(390,100,120,30);\r\n        l6.setBounds(100,130,120,30);\r\n        l7.setBounds(220,130,120,30);\r\n        t1.setBounds(10,50,90,30);\r\n\r\n        add(l1);\r\n        add(l2);\r\n        add(l3);\r\n        add(l4);\r\n        add(l5);\r\n        add(l6);\r\n        add(l7);\r\n        add(t1);\r\n\r\n        b1 = new JButton(&quot;Submit&quot;);\r\n        b2 = new JButton(&quot;Easy&quot;);\r\n        b3 = new JButton(&quot;Intermediate&quot;);\r\n        b4 = new JButton(&quot;Hard&quot;);\r\n        b5 = new JButton(&quot;Reset&quot;);\r\n        b6 = new JButton(&quot;Peek&quot;);\r\n\r\n        b1.setBounds(10,90,90,30);\r\n        b2.setBounds(110,50,90,30);\r\n        b3.setBounds(220,50,110,30);\r\n        b4.setBounds(350,50,90,30);\r\n        b5.setBounds(10,170,90,30);\r\n        b6.setBounds(10,130,90,30);\r\n\r\n        add(b1);\r\n        add(b2);\r\n        add(b3);\r\n        add(b4);\r\n        add(b5);\r\n        add(b6);\r\n\r\n        b6.setEnabled(false);\r\n\r\n       peekTimer = new Timer(3000, new ActionListener() {\r\n           @Override\r\n           public void actionPerformed(ActionEvent e) {\r\n               l6.setText(&quot;&quot;);\r\n               peekTimer.stop();\r\n           }\r\n       });\r\n       peekTimer.setRepeats(false);\r\n\r\n        b1.addActionListener(new ActionListener() {\r\n            public void actionPerformed(ActionEvent e){\r\n                startingPoint(e);\r\n            }\r\n        });\r\n\r\n        b2.addActionListener(new ActionListener() {\r\n            public void actionPerformed(ActionEvent e){\r\n                turns = setGameDifficulty(e);\r\n                turns = level;\r\n            }\r\n        });\r\n\r\n        b3.addActionListener(new ActionListener() {\r\n            public void actionPerformed(ActionEvent e){\r\n                turns = setGameDifficulty(e);\r\n                turns = level;\r\n\r\n            }\r\n        });\r\n\r\n        b4.addActionListener(new ActionListener() {\r\n            public void actionPerformed(ActionEvent e){\r\n                turns = setGameDifficulty(e);\r\n                turns = level;\r\n            }\r\n        });\r\n\r\n        b5.addActionListener(new ActionListener() {\r\n            public void actionPerformed(ActionEvent e){\r\n                resetFields();\r\n            }\r\n        });\r\n\r\n        b6.addActionListener(new ActionListener() {\r\n            public void actionPerformed(ActionEvent e){\r\n                peeks(e);\r\n                b6.setEnabled(false);\r\n            }\r\n        });\r\n    }\r\n\r\n    private void startingPoint(ActionEvent e){\r\n        if(!isInputEmpty()){\r\n            JOptionPane.showMessageDialog(f,&quot;FIELD CANNOT BE EMPTY!&quot;);\r\n        }else if(!isGuessValidNumber()){\r\n            JOptionPane.showMessageDialog(f,&quot;INVALID INPUT! NUMBERS ONLY!&quot;);\r\n        }else if(!isNumberOutOfBounds()){\r\n            JOptionPane.showMessageDialog(f,&quot; INVALID NUMBER &quot; + t1.getText() + &quot; IS NOT IN RANGE! &quot;);\r\n        }else{\r\n            checkGuess(l5);\r\n           // checkChoice(e);\r\n        }\r\n    }\r\n\r\n    private int setGameDifficulty(ActionEvent e){\r\n        Object source = e.getSource();\r\n        if(source == b2){\r\n            buttonId = BUTTON_1;\r\n        }else if(source == b3){\r\n            buttonId = BUTTON_2;\r\n        }else if(source == b4){\r\n            buttonId = BUTTON_3;\r\n        }else{\r\n            buttonId = 0;\r\n        }\r\n        turns = processButton();\r\n        lockInDifficulty();\r\n        return buttonId;\r\n    }\r\n\r\n    private int processButton(){\r\n        switch (buttonId) {\r\n            case BUTTON_1 -&gt; {\r\n                level = EASY_GAME_MODE;\r\n                printOutNumberOfTurns(EASY_GAME_MODE, l3);\r\n            }\r\n            case BUTTON_2 -&gt; {\r\n                level = INTERMEDIATE_GAME_MODE;\r\n                printOutNumberOfTurns(INTERMEDIATE_GAME_MODE, l4);\r\n            }\r\n            case BUTTON_3 -&gt; {\r\n                level = HARD_GAME_MODE;\r\n                printOutNumberOfTurns(HARD_GAME_MODE, l5);\r\n            }\r\n            default -&gt; System.out.println(&quot;UNEXPECTED ERROR!&quot;);\r\n        }\r\n        return buttonId;\r\n    }\r\n\r\n    private void lockInDifficulty(){\r\n        b2.setEnabled(false);\r\n        b3.setEnabled(false);\r\n        b4.setEnabled(false);\r\n        b6.setEnabled(true);\r\n    }\r\n\r\n    private void printOutNumberOfTurns(int numberOfTurns,JLabel label){\r\n        label.setText(&quot;&quot; + numberOfTurns);\r\n    }\r\n\r\n    private void displayRandomNumber(){\r\n        randomNumber = getRandomNumber();\r\n    }\r\n\r\n    private int getRandomNumber(){\r\n        return (int)(Math.random() * 20) + 1;\r\n    }\r\n\r\n    private void peeks(ActionEvent e){\r\n        if(e.getSource() == b6 &amp;&amp; turns == EASY_GAME_MODE){\r\n            peek(l3);\r\n        }else if(e.getSource() == b6 &amp;&amp; turns == INTERMEDIATE_GAME_MODE){\r\n            peek(l4);\r\n        }else if(e.getSource() == b6 &amp;&amp; turns == HARD_GAME_MODE){\r\n            peek(l5);\r\n        }\r\n    }\r\n\r\n    private int peek(JLabel label){\r\n        l6.setText(String.valueOf(randomNumber));\r\n        level--;\r\n        label.setText(&quot;&quot; + level);\r\n        System.out.println(&quot;Turns: &quot; + level);\r\n        System.out.println(&quot;Random Number: &quot; + randomNumber);\r\n        checkTurns();\r\n        peekTimer.start();\r\n        return level;\r\n    }\r\n\r\n     private void checkChoice(ActionEvent e){\r\n        Object source = e.getSource();\r\n        if(source == b2){\r\n            checkGuess(l3);\r\n        }else if(source == b3){\r\n            checkGuess(l4);\r\n        }else if(source == b4){\r\n            checkGuess(l5);\r\n        }\r\n        \r\n    }\r\n\r\n    private void checkGuess(JLabel label) {\r\n        String inputString = t1.getText().trim();\r\n        try {\r\n            int number = Integer.parseInt(inputString);\r\n            if (number &lt; randomNumber) {\r\n                level--;\r\n                label.setText(String.valueOf(level));\r\n                checkTurns();\r\n                tooLow();\r\n            }\r\n        } catch (NumberFormatException e) {\r\n            JOptionPane.showMessageDialog(null, &quot;Invalid input! Please enter a valid number.&quot;);\r\n        }\r\n    }\r\n    \r\n    private void tooLow(){\r\n        l7.setText(&quot;Guess is too low!&quot;);\r\n    }\r\n\r\n    private void tooHigh(){\r\n        l7.setText(&quot;Guess is too high!&quot;);\r\n    }\r\n\r\n    private void checkTurns(){\r\n        if(level == 0){\r\n            JOptionPane.showMessageDialog(f,&quot;OUT OF TURNS!&quot;);\r\n            resetFields();\r\n            randomNumber = getRandomNumber();\r\n        }\r\n    } \r\n\r\n    private boolean isNumberOutOfBounds() {\r\n        String input = t1.getText().trim();\r\n        int guess = Integer.parseInt(input);\r\n        return guess &gt;= 0 &amp;&amp; guess &lt;= 20;\r\n    }\r\n\r\n    private boolean isGuessValidNumber(){\r\n        String input = t1.getText().trim();\r\n        try{\r\n            int guess = Integer.parseInt(input);\r\n        }catch(NumberFormatException e){\r\n            return false;\r\n        }\r\n        return true;\r\n    }\r\n\r\n    private boolean isInputEmpty(){\r\n        String input = t1.getText().trim();\r\n        return !input.isEmpty();\r\n    }\r\n\r\n    private void resetFields(){\r\n        t1.setText(&quot;&quot;);\r\n        l3.setText(&quot;&quot;);\r\n        l4.setText(&quot;&quot;);\r\n        l5.setText(&quot;&quot;);\r\n        l6.setText(&quot;&quot;);\r\n        b2.setEnabled(true);\r\n        b3.setEnabled(true);\r\n        b4.setEnabled(true);\r\n        b6.setEnabled(false);\r\n        displayRandomNumber();\r\n    }\r\n\r\n    private Color getForeGround(){\r\n        return Color.red;\r\n    }\r\n\r\n\r\n}\r\n```\r\n\r\nAny ideas please?\r\n\r\nI&#39;ve tried just passing a label as a parameter e.g I&#39;ve passed the hard level label to check guess method and when a wrong guess is entered it decrements the correct label but it won&#39;t work unless I pass a label to checkguess();.\r\n```Java\r\n private void startingPoint(ActionEvent e){\r\n        if(!isInputEmpty()){\r\n            JOptionPane.showMessageDialog(f,&quot;FIELD CANNOT BE EMPTY!&quot;);\r\n        }else if(!isGuessValidNumber()){\r\n            JOptionPane.showMessageDialog(f,&quot;INVALID INPUT! NUMBERS ONLY!&quot;);\r\n        }else if(!isNumberOutOfBounds()){\r\n            JOptionPane.showMessageDialog(f,&quot; INVALID NUMBER &quot; + t1.getText() + &quot; IS NOT IN RANGE! &quot;);\r\n        }else{\r\n            checkGuess(l5);\r\n           // checkChoice(e);\r\n        }\r\n    }\r\n\r\n\r\n\r\n private void checkGuess(JLabel label) {\r\n        String inputString = t1.getText().trim();\r\n        try {\r\n            int number = Integer.parseInt(inputString);\r\n            if (number &lt; randomNumber) {\r\n                level--;\r\n                label.setText(String.valueOf(level));\r\n                checkTurns();\r\n                tooLow();\r\n            }\r\n        } catch (NumberFormatException e) {\r\n            JOptionPane.showMessageDialog(null, &quot;Invalid input! Please enter a valid number.&quot;);\r\n        }\r\n    }\r\n\r\n\r\nprivate void checkTurns(){\r\n        if(level == 0){\r\n            JOptionPane.showMessageDialog(f,&quot;OUT OF TURNS!&quot;);\r\n            resetFields();\r\n            randomNumber = getRandomNumber();\r\n        }\r\n    } \r\n\r\n```","title":"Guess the Number game, number of guesses left labels not updating","body":"<p>I have a gui guess the number game, basically the user can choose between three difficulty levels, easy,intermediate and hard, each has its own number of guesses, easy has 15, intermediate has 10 and hard 5. The user can use a peek button which will display the random number for 3 seconds but will deduct a point from the number of guesses. The problem I'm having is that the number of guesses label is not decrementing when a wrong guess is entered. Here is the code.</p>\n<pre><code>public class Gui {\n\n    private static final int WIDTH = 500;\n    private static final int HEIGHT = 300;\n    private static final int X_COORDINATE = 400;\n    private static final int Y_COORDINATE = 200;\n    public static void main(String[]args){\n        GuessTheNumber g = new GuessTheNumber();\n        g.setBounds(X_COORDINATE,Y_COORDINATE,WIDTH,HEIGHT);\n        g.setVisible(true);\n        \n    }\n    \n}\n\nimport javax.swing.JFrame;\nimport java.awt.Color;\nimport java.awt.Font;\nimport java.awt.Label;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\nimport java.awt.geom.Point2D;\n\nimport javax.swing.Action;\nimport javax.swing.JButton;\nimport javax.swing.JFrame;\nimport javax.swing.JLabel;\nimport javax.swing.JOptionPane;\nimport javax.swing.JTextField;\nimport java.util.Random;\nimport javax.swing.Timer;\n\npublic class GuessTheNumber extends JFrame{\n\n    private Random random = new Random();\n    private final int EASY_GAME_MODE  = 15;\n    private final int INTERMEDIATE_GAME_MODE = 10;\n    private final int HARD_GAME_MODE = 5;\n    private final int BUTTON_1 = 1;\n    private final int BUTTON_2 = 2;\n    private final int BUTTON_3 = 3;\n    private final int WIDTH = 300;\n    private final int HEIGHT = 30;\n    private  final int Y = 10;\n    private final int X = 120;\n\n    private int userGuess;\n    private int level;\n    private int randomNumber;\n    private int turns;\n    private int playAgain;\n    private int buttonId;\n\n    private final JFrame f = new JFrame();\n\n    private final JLabel l1;\n    private final JLabel l2 = new JLabel();\n    private final JLabel l3 = new JLabel();\n    private final JLabel l4 = new JLabel();\n    private final JLabel l5 = new JLabel();\n    private final JLabel l6 = new JLabel();\n    private final JLabel l7 = new JLabel();\n\n    private final JButton b1;\n    private final JButton b2;\n    private final JButton b3;\n    private final JButton b4;\n    private final JButton b5;\n    private final JButton b6;\n\n    private final Timer peekTimer;\n\n    private final JTextField t1;\n\n    public GuessTheNumber(){\n        displayRandomNumber();\n        setLayout(null);\n        setLayout(null);\n        setDefaultCloseOperation(EXIT_ON_CLOSE);\n        t1 = new JTextField(60);\n        l1 = new JLabel(&quot;Guess The Number&quot;);\n        l1.setFont(new Font(&quot;Times new Roman&quot;,Font.BOLD,30));\n        l1.setForeground(getForeGround());\n        l2.setForeground(getForeGround());\n\n        l1.setBounds(X,Y,WIDTH,HEIGHT);\n        l2.setBounds(270,60,120,30);\n        l3.setBounds(140,100,120,30);\n        l4.setBounds(270,100,120,30);\n        l5.setBounds(390,100,120,30);\n        l6.setBounds(100,130,120,30);\n        l7.setBounds(220,130,120,30);\n        t1.setBounds(10,50,90,30);\n\n        add(l1);\n        add(l2);\n        add(l3);\n        add(l4);\n        add(l5);\n        add(l6);\n        add(l7);\n        add(t1);\n\n        b1 = new JButton(&quot;Submit&quot;);\n        b2 = new JButton(&quot;Easy&quot;);\n        b3 = new JButton(&quot;Intermediate&quot;);\n        b4 = new JButton(&quot;Hard&quot;);\n        b5 = new JButton(&quot;Reset&quot;);\n        b6 = new JButton(&quot;Peek&quot;);\n\n        b1.setBounds(10,90,90,30);\n        b2.setBounds(110,50,90,30);\n        b3.setBounds(220,50,110,30);\n        b4.setBounds(350,50,90,30);\n        b5.setBounds(10,170,90,30);\n        b6.setBounds(10,130,90,30);\n\n        add(b1);\n        add(b2);\n        add(b3);\n        add(b4);\n        add(b5);\n        add(b6);\n\n        b6.setEnabled(false);\n\n       peekTimer = new Timer(3000, new ActionListener() {\n           @Override\n           public void actionPerformed(ActionEvent e) {\n               l6.setText(&quot;&quot;);\n               peekTimer.stop();\n           }\n       });\n       peekTimer.setRepeats(false);\n\n        b1.addActionListener(new ActionListener() {\n            public void actionPerformed(ActionEvent e){\n                startingPoint(e);\n            }\n        });\n\n        b2.addActionListener(new ActionListener() {\n            public void actionPerformed(ActionEvent e){\n                turns = setGameDifficulty(e);\n                turns = level;\n            }\n        });\n\n        b3.addActionListener(new ActionListener() {\n            public void actionPerformed(ActionEvent e){\n                turns = setGameDifficulty(e);\n                turns = level;\n\n            }\n        });\n\n        b4.addActionListener(new ActionListener() {\n            public void actionPerformed(ActionEvent e){\n                turns = setGameDifficulty(e);\n                turns = level;\n            }\n        });\n\n        b5.addActionListener(new ActionListener() {\n            public void actionPerformed(ActionEvent e){\n                resetFields();\n            }\n        });\n\n        b6.addActionListener(new ActionListener() {\n            public void actionPerformed(ActionEvent e){\n                peeks(e);\n                b6.setEnabled(false);\n            }\n        });\n    }\n\n    private void startingPoint(ActionEvent e){\n        if(!isInputEmpty()){\n            JOptionPane.showMessageDialog(f,&quot;FIELD CANNOT BE EMPTY!&quot;);\n        }else if(!isGuessValidNumber()){\n            JOptionPane.showMessageDialog(f,&quot;INVALID INPUT! NUMBERS ONLY!&quot;);\n        }else if(!isNumberOutOfBounds()){\n            JOptionPane.showMessageDialog(f,&quot; INVALID NUMBER &quot; + t1.getText() + &quot; IS NOT IN RANGE! &quot;);\n        }else{\n            checkGuess(l5);\n           // checkChoice(e);\n        }\n    }\n\n    private int setGameDifficulty(ActionEvent e){\n        Object source = e.getSource();\n        if(source == b2){\n            buttonId = BUTTON_1;\n        }else if(source == b3){\n            buttonId = BUTTON_2;\n        }else if(source == b4){\n            buttonId = BUTTON_3;\n        }else{\n            buttonId = 0;\n        }\n        turns = processButton();\n        lockInDifficulty();\n        return buttonId;\n    }\n\n    private int processButton(){\n        switch (buttonId) {\n            case BUTTON_1 -&gt; {\n                level = EASY_GAME_MODE;\n                printOutNumberOfTurns(EASY_GAME_MODE, l3);\n            }\n            case BUTTON_2 -&gt; {\n                level = INTERMEDIATE_GAME_MODE;\n                printOutNumberOfTurns(INTERMEDIATE_GAME_MODE, l4);\n            }\n            case BUTTON_3 -&gt; {\n                level = HARD_GAME_MODE;\n                printOutNumberOfTurns(HARD_GAME_MODE, l5);\n            }\n            default -&gt; System.out.println(&quot;UNEXPECTED ERROR!&quot;);\n        }\n        return buttonId;\n    }\n\n    private void lockInDifficulty(){\n        b2.setEnabled(false);\n        b3.setEnabled(false);\n        b4.setEnabled(false);\n        b6.setEnabled(true);\n    }\n\n    private void printOutNumberOfTurns(int numberOfTurns,JLabel label){\n        label.setText(&quot;&quot; + numberOfTurns);\n    }\n\n    private void displayRandomNumber(){\n        randomNumber = getRandomNumber();\n    }\n\n    private int getRandomNumber(){\n        return (int)(Math.random() * 20) + 1;\n    }\n\n    private void peeks(ActionEvent e){\n        if(e.getSource() == b6 &amp;&amp; turns == EASY_GAME_MODE){\n            peek(l3);\n        }else if(e.getSource() == b6 &amp;&amp; turns == INTERMEDIATE_GAME_MODE){\n            peek(l4);\n        }else if(e.getSource() == b6 &amp;&amp; turns == HARD_GAME_MODE){\n            peek(l5);\n        }\n    }\n\n    private int peek(JLabel label){\n        l6.setText(String.valueOf(randomNumber));\n        level--;\n        label.setText(&quot;&quot; + level);\n        System.out.println(&quot;Turns: &quot; + level);\n        System.out.println(&quot;Random Number: &quot; + randomNumber);\n        checkTurns();\n        peekTimer.start();\n        return level;\n    }\n\n     private void checkChoice(ActionEvent e){\n        Object source = e.getSource();\n        if(source == b2){\n            checkGuess(l3);\n        }else if(source == b3){\n            checkGuess(l4);\n        }else if(source == b4){\n            checkGuess(l5);\n        }\n        \n    }\n\n    private void checkGuess(JLabel label) {\n        String inputString = t1.getText().trim();\n        try {\n            int number = Integer.parseInt(inputString);\n            if (number &lt; randomNumber) {\n                level--;\n                label.setText(String.valueOf(level));\n                checkTurns();\n                tooLow();\n            }\n        } catch (NumberFormatException e) {\n            JOptionPane.showMessageDialog(null, &quot;Invalid input! Please enter a valid number.&quot;);\n        }\n    }\n    \n    private void tooLow(){\n        l7.setText(&quot;Guess is too low!&quot;);\n    }\n\n    private void tooHigh(){\n        l7.setText(&quot;Guess is too high!&quot;);\n    }\n\n    private void checkTurns(){\n        if(level == 0){\n            JOptionPane.showMessageDialog(f,&quot;OUT OF TURNS!&quot;);\n            resetFields();\n            randomNumber = getRandomNumber();\n        }\n    } \n\n    private boolean isNumberOutOfBounds() {\n        String input = t1.getText().trim();\n        int guess = Integer.parseInt(input);\n        return guess &gt;= 0 &amp;&amp; guess &lt;= 20;\n    }\n\n    private boolean isGuessValidNumber(){\n        String input = t1.getText().trim();\n        try{\n            int guess = Integer.parseInt(input);\n        }catch(NumberFormatException e){\n            return false;\n        }\n        return true;\n    }\n\n    private boolean isInputEmpty(){\n        String input = t1.getText().trim();\n        return !input.isEmpty();\n    }\n\n    private void resetFields(){\n        t1.setText(&quot;&quot;);\n        l3.setText(&quot;&quot;);\n        l4.setText(&quot;&quot;);\n        l5.setText(&quot;&quot;);\n        l6.setText(&quot;&quot;);\n        b2.setEnabled(true);\n        b3.setEnabled(true);\n        b4.setEnabled(true);\n        b6.setEnabled(false);\n        displayRandomNumber();\n    }\n\n    private Color getForeGround(){\n        return Color.red;\n    }\n\n\n}\n</code></pre>\n<p>Any ideas please?</p>\n<p>I've tried just passing a label as a parameter e.g I've passed the hard level label to check guess method and when a wrong guess is entered it decrements the correct label but it won't work unless I pass a label to checkguess();.</p>\n<pre><code> private void startingPoint(ActionEvent e){\n        if(!isInputEmpty()){\n            JOptionPane.showMessageDialog(f,&quot;FIELD CANNOT BE EMPTY!&quot;);\n        }else if(!isGuessValidNumber()){\n            JOptionPane.showMessageDialog(f,&quot;INVALID INPUT! NUMBERS ONLY!&quot;);\n        }else if(!isNumberOutOfBounds()){\n            JOptionPane.showMessageDialog(f,&quot; INVALID NUMBER &quot; + t1.getText() + &quot; IS NOT IN RANGE! &quot;);\n        }else{\n            checkGuess(l5);\n           // checkChoice(e);\n        }\n    }\n\n\n\n private void checkGuess(JLabel label) {\n        String inputString = t1.getText().trim();\n        try {\n            int number = Integer.parseInt(inputString);\n            if (number &lt; randomNumber) {\n                level--;\n                label.setText(String.valueOf(level));\n                checkTurns();\n                tooLow();\n            }\n        } catch (NumberFormatException e) {\n            JOptionPane.showMessageDialog(null, &quot;Invalid input! Please enter a valid number.&quot;);\n        }\n    }\n\n\nprivate void checkTurns(){\n        if(level == 0){\n            JOptionPane.showMessageDialog(f,&quot;OUT OF TURNS!&quot;);\n            resetFields();\n            randomNumber = getRandomNumber();\n        }\n    } \n\n</code></pre>\n"},{"tags":["java","android","debugging","stack-trace","backtrace"],"comments":[{"owner":{"account_id":4082028,"reputation":5506,"user_id":3352285,"display_name":"NESPowerGlove"},"score":1,"creation_date":1404337713,"post_id":24541325,"comment_id":38005452,"body_markdown":"One difference is that you can call dumpStack() anytime, while printStackTrace() is from Throwable, which means you can call it only when you have a reference to a Throwable.","body":"One difference is that you can call dumpStack() anytime, while printStackTrace() is from Throwable, which means you can call it only when you have a reference to a Throwable."},{"owner":{"account_id":3388984,"reputation":312,"user_id":2844311,"display_name":"Ducktales"},"score":0,"creation_date":1404342154,"post_id":24541325,"comment_id":38007112,"body_markdown":"Well I have been able to use Thread.currentThread().printStackTrace() without referencing Throwable and basically call it from anywhere.","body":"Well I have been able to use Thread.currentThread().printStackTrace() without referencing Throwable and basically call it from anywhere."},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":1,"creation_date":1404351528,"post_id":24541325,"comment_id":38009308,"body_markdown":"No you haven&#39;t. There is no such method. There are Thread.dumpStack() and Throwable.printStackTrace().","body":"No you haven&#39;t. There is no such method. There are Thread.dumpStack() and Throwable.printStackTrace()."},{"owner":{"account_id":3388984,"reputation":312,"user_id":2844311,"display_name":"Ducktales"},"score":0,"creation_date":1404353314,"post_id":24541325,"comment_id":38009685,"body_markdown":"http://stackoverflow.com/questions/1069066/get-current-stack-trace-in-java\n Instead of using get I was able to use print successfully and able to print out the stack trace on my Logcat","body":"<a href=\"http://stackoverflow.com/questions/1069066/get-current-stack-trace-in-java\" title=\"get current stack trace in java\">stackoverflow.com/questions/1069066/&hellip;</a>  Instead of using get I was able to use print successfully and able to print out the stack trace on my Logcat"},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1404354225,"post_id":24541325,"comment_id":38009892,"body_markdown":"That was Thread.getStackTrace(). Not Thread.printStackTrace() as you stated above.","body":"That was Thread.getStackTrace(). Not Thread.printStackTrace() as you stated above."},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1404355627,"post_id":24541325,"comment_id":38010176,"body_markdown":"Not via a Thread. The call Thread.currentThread().printStacktrace() does not compile. There is no such method. Period. Experience has nothing to do with it. Just see the Javadoc. And make up your mind about whether it was printStackTrace() or getStackTrace(). You seem to be claiming both.","body":"Not via a Thread. The call Thread.currentThread().printStacktrace() does not compile. There is no such method. Period. Experience has nothing to do with it. Just see the Javadoc. And make up your mind about whether it was printStackTrace() or getStackTrace(). You seem to be claiming both."},{"owner":{"account_id":3388984,"reputation":312,"user_id":2844311,"display_name":"Ducktales"},"score":0,"creation_date":1404422145,"post_id":24541325,"comment_id":38045931,"body_markdown":"Oh well, my bad . I am printing the trace by converting it to a string. you are right","body":"Oh well, my bad . I am printing the trace by converting it to a string. you are right"}],"answers":[{"tags":[],"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"comment_count":0,"down_vote_count":1,"up_vote_count":8,"is_accepted":true,"score":7,"last_activity_date":1687913045,"creation_date":1404351654,"answer_id":24543687,"question_id":24541325,"body_markdown":"`Thread.dumpStack()` dumps the *current* stack trace of the thread it is invoked on.\r\n\r\n`Throwable.printStackTrace()` prints the stack trace *as it was when the throwable was thrown.*","title":"Difference between dumpstack() and printStackTrace()","body":"<p><code>Thread.dumpStack()</code> dumps the <em>current</em> stack trace of the thread it is invoked on.</p>\n<p><code>Throwable.printStackTrace()</code> prints the stack trace <em>as it was when the throwable was thrown.</em></p>\n"},{"comments":[{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":1,"creation_date":1404359190,"post_id":24544373,"comment_id":38010961,"body_markdown":"No. The first line in Throwable.printStackTrace() is the line where the exception was thrown. It isn&#39;t necessarily a line in the method you called printStackTrace() from at all.","body":"No. The first line in Throwable.printStackTrace() is the line where the exception was thrown. It isn&#39;t necessarily a line in the method you called printStackTrace() from at all."}],"tags":[],"owner":{"account_id":3803158,"reputation":5427,"user_id":3156226,"accept_rate":79,"display_name":"josedlujan"},"comment_count":1,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1404357624,"creation_date":1404357624,"answer_id":24544373,"question_id":24541325,"body_markdown":"Main difference between using dumpStack() and printStackTrace() is first entry in Stack, In case of dumpStack() first entry is always java.lang.Thread.dumpStack(), while in later case it&#39;s the method from where you printed stack trace. If you don&#39;t want to print stack trace and rather wants it in Java program, you can use getStackTrace() method from Thread class. This method returns an array of StackTraceElement. In following Java program we will see examples of all three approaches to get stack trace of current thread in Java.","title":"Difference between dumpstack() and printStackTrace()","body":"<p>Main difference between using dumpStack() and printStackTrace() is first entry in Stack, In case of dumpStack() first entry is always java.lang.Thread.dumpStack(), while in later case it's the method from where you printed stack trace. If you don't want to print stack trace and rather wants it in Java program, you can use getStackTrace() method from Thread class. This method returns an array of StackTraceElement. In following Java program we will see examples of all three approaches to get stack trace of current thread in Java.</p>\n"}],"owner":{"account_id":3388984,"reputation":312,"user_id":2844311,"display_name":"Ducktales"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5501,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"accepted_answer_id":24543687,"answer_count":2,"score":2,"last_activity_date":1687913045,"creation_date":1404336502,"question_id":24541325,"body_markdown":"I am trying to get the stack trace of the underlying C code that is called from the android Java app code and tried using \r\n**dumpStack()** and **printStackTrace()** without any success.\r\nJust was curious is there a difference between the two if any?\r\n\r\nAlso **is there a way to print a stack trace of the underlying C code the uses JNI to call the java functions on the android side?**","title":"Difference between dumpstack() and printStackTrace()","body":"<p>I am trying to get the stack trace of the underlying C code that is called from the android Java app code and tried using \n<strong>dumpStack()</strong> and <strong>printStackTrace()</strong> without any success.\nJust was curious is there a difference between the two if any?</p>\n\n<p>Also <strong>is there a way to print a stack trace of the underlying C code the uses JNI to call the java functions on the android side?</strong></p>\n"},{"tags":["java","testing","webdriver","appium"],"comments":[{"owner":{"account_id":11288679,"reputation":923,"user_id":8278630,"display_name":"Farkhod Abdukodirov"},"score":0,"creation_date":1687826701,"post_id":76559278,"comment_id":134987843,"body_markdown":"can you share error message itself","body":"can you share error message itself"},{"owner":{"account_id":21257490,"reputation":76,"user_id":15638753,"display_name":"ChrisMersi"},"score":0,"creation_date":1687857297,"post_id":76559278,"comment_id":134991813,"body_markdown":"`AppiumDriver` does not take generics e.g you cannot use `&lt;T&gt;`, what are you trying to achieve?","body":"<code>AppiumDriver</code> does not take generics e.g you cannot use <code>&lt;T&gt;</code>, what are you trying to achieve?"},{"owner":{"account_id":21042716,"reputation":1,"user_id":15464747,"display_name":"Alihan Kuru"},"score":0,"creation_date":1687894420,"post_id":76559278,"comment_id":135000343,"body_markdown":"@FarkhodAbdukodirov here is the error message: Type &#39;io.appium.java_client.AppiumDriver&#39; does not have type parameters public AppiumDriver&lt;WebElement&gt; driver; WebElement giving error.","body":"@FarkhodAbdukodirov here is the error message: Type &#39;io.appium.java_client.AppiumDriver&#39; does not have type parameters public AppiumDriver&lt;WebElement&gt; driver; WebElement giving error."},{"owner":{"account_id":11288679,"reputation":923,"user_id":8278630,"display_name":"Farkhod Abdukodirov"},"score":0,"creation_date":1687904616,"post_id":76559278,"comment_id":135001860,"body_markdown":"Please update your post with error message","body":"Please update your post with error message"}],"owner":{"account_id":21042716,"reputation":1,"user_id":15464747,"display_name":"Alihan Kuru"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":157,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687912692,"creation_date":1687803439,"question_id":76559278,"body_markdown":"I&#39;m working on an Appium project and trying to declare an AppiumDriver object with a type parameter for WebElement. \r\n\r\nError message: Type &#39;io.appium.java_client.AppiumDriver&#39; does not have type parameters public AppiumDriver&lt;WebElement&gt; driver; WebElement giving error.\r\n\r\nHere&#39;s the code snippet:\r\n\r\n```\r\npackage org.example;\r\n\r\nimport io.appium.java_client.AppiumDriver;\r\nimport org.openqa.selenium.WebElement;\r\nimport org.openqa.selenium.remote.DesiredCapabilities;\r\nimport org.openqa.selenium.support.ui.WebDriverWait;\r\nimport org.testng.annotations.AfterTest;\r\nimport org.testng.annotations.BeforeTest;\r\nimport org.testng.annotations.Test;\r\n\r\nimport java.net.MalformedURLException;\r\n\r\npublic class LoginTest {\r\n\r\n    public AppiumDriver&lt;WebElement&gt; driver;\r\n    public WebDriverWait wait;\r\n```\r\n\r\nI have already imported the necessary classes for AppiumDriver and WebElement. I&#39;m using the latest version of the Appium Java client library in my project.\r\nCould anyone please help me understand why I&#39;m getting this error and how to resolve it? Am I missing any additional configuration or dependencies?\r\nAny assistance would be greatly appreciated. Thank you!","title":"Type &#39;io.appium.java_client.AppiumDriver&#39; does not have type parameters","body":"<p>I'm working on an Appium project and trying to declare an AppiumDriver object with a type parameter for WebElement.</p>\n<p>Error message: Type 'io.appium.java_client.AppiumDriver' does not have type parameters public AppiumDriver driver; WebElement giving error.</p>\n<p>Here's the code snippet:</p>\n<pre><code>package org.example;\n\nimport io.appium.java_client.AppiumDriver;\nimport org.openqa.selenium.WebElement;\nimport org.openqa.selenium.remote.DesiredCapabilities;\nimport org.openqa.selenium.support.ui.WebDriverWait;\nimport org.testng.annotations.AfterTest;\nimport org.testng.annotations.BeforeTest;\nimport org.testng.annotations.Test;\n\nimport java.net.MalformedURLException;\n\npublic class LoginTest {\n\n    public AppiumDriver&lt;WebElement&gt; driver;\n    public WebDriverWait wait;\n</code></pre>\n<p>I have already imported the necessary classes for AppiumDriver and WebElement. I'm using the latest version of the Appium Java client library in my project.\nCould anyone please help me understand why I'm getting this error and how to resolve it? Am I missing any additional configuration or dependencies?\nAny assistance would be greatly appreciated. Thank you!</p>\n"},{"tags":["java","mongodb","spring-boot","mongock"],"answers":[{"tags":[],"owner":{"account_id":5475791,"reputation":31,"user_id":4353841,"display_name":"George Iron"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1675779636,"creation_date":1675779636,"answer_id":75374644,"question_id":75363743,"body_markdown":"You can try by making a setup bean.\r\n```\r\n    @Bean\r\n    public MongockApplicationRunner mongockApplicationRunner(\r\n            ApplicationContext springContext,\r\n            MongoTemplate mongoTemplate) {\r\n        return MongockSpringboot.builder()\r\n                .setDriver(SpringDataMongoV3Driver.withDefaultLock(mongoTemplate))\r\n                .addMigrationScanPackage(&quot;your_changeLog_package_path&quot;)\r\n                .setSpringContext(springContext)\r\n                .buildApplicationRunner();\r\n    }\r\n```","title":"Could not found method getBuilder in io.mongock.runner.springboot.config.MongockContext required a bean of type &#39;ConnectionDriver&#39;","body":"<p>You can try by making a setup bean.</p>\n<pre><code>    @Bean\n    public MongockApplicationRunner mongockApplicationRunner(\n            ApplicationContext springContext,\n            MongoTemplate mongoTemplate) {\n        return MongockSpringboot.builder()\n                .setDriver(SpringDataMongoV3Driver.withDefaultLock(mongoTemplate))\n                .addMigrationScanPackage(&quot;your_changeLog_package_path&quot;)\n                .setSpringContext(springContext)\n                .buildApplicationRunner();\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":27884225,"reputation":36,"user_id":21292052,"display_name":"user21292052"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1679568991,"creation_date":1679568991,"answer_id":75822101,"question_id":75363743,"body_markdown":"Depending on the version of Spring Boot you are using, this likely has different causes:\r\n\r\nWhen using Spring Boot 3.x.x you need to use\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;io.mongock&lt;/groupId&gt;\r\n        &lt;artifactId&gt;mongock-springboot-v3&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n\r\ninstead of `mongock-springboot` as stated in [GitHub issue #589][1].\r\n\r\n----------\r\n\r\nIf using Spring Boot 2.x.x or above change does not work, for some reason the Bean is not auto-detected.\r\n\r\nDefining the Bean manually should solve/workaround this:\r\n\r\n - Either use the Builder approach instead of the `@EnableMongock` Annotation.\r\n\r\n   You can [choose](https://docs.mongock.io/v5/runner/springboot/index.html#features) between the ApplicationRunner or the InitializingBeanRunner.\r\n\r\n   An example for such a Runner can be found in the [Mongock-examples repo](https://github.com/mongock/mongock-examples).\r\n\r\n-  Alternatively you can only define the ConnectionDriver Bean while keeping the Annotation approach with something like this:\r\n\r\n    ``` lang-java\r\n    @Bean\r\n    // name of Method seems irrelevant\r\n    public ConnectionDriver mongockConnection(MongoClient mongoClient) {\r\n        return SpringDataMongoV3Driver.withDefaultLock(mongoClient, &quot;your databaseName&quot;);\r\n    }\r\n    ```\r\n\r\n  [1]: https://github.com/mongock/mongock/issues/589","title":"Could not found method getBuilder in io.mongock.runner.springboot.config.MongockContext required a bean of type &#39;ConnectionDriver&#39;","body":"<p>Depending on the version of Spring Boot you are using, this likely has different causes:</p>\n<p>When using Spring Boot 3.x.x you need to use</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;io.mongock&lt;/groupId&gt;\n    &lt;artifactId&gt;mongock-springboot-v3&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>instead of <code>mongock-springboot</code> as stated in <a href=\"https://github.com/mongock/mongock/issues/589\" rel=\"nofollow noreferrer\">GitHub issue #589</a>.</p>\n<hr />\n<p>If using Spring Boot 2.x.x or above change does not work, for some reason the Bean is not auto-detected.</p>\n<p>Defining the Bean manually should solve/workaround this:</p>\n<ul>\n<li><p>Either use the Builder approach instead of the <code>@EnableMongock</code> Annotation.</p>\n<p>You can <a href=\"https://docs.mongock.io/v5/runner/springboot/index.html#features\" rel=\"nofollow noreferrer\">choose</a> between the ApplicationRunner or the InitializingBeanRunner.</p>\n<p>An example for such a Runner can be found in the <a href=\"https://github.com/mongock/mongock-examples\" rel=\"nofollow noreferrer\">Mongock-examples repo</a>.</p>\n</li>\n<li><p>Alternatively you can only define the ConnectionDriver Bean while keeping the Annotation approach with something like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Bean\n// name of Method seems irrelevant\npublic ConnectionDriver mongockConnection(MongoClient mongoClient) {\n    return SpringDataMongoV3Driver.withDefaultLock(mongoClient, &quot;your databaseName&quot;);\n}\n</code></pre>\n</li>\n</ul>\n"},{"comments":[{"owner":{"account_id":300821,"reputation":329,"user_id":608194,"display_name":"jansolo"},"score":0,"creation_date":1700561633,"post_id":76063297,"comment_id":136667032,"body_markdown":"Works but unfortunately the docs tell otherwise: https://docs.mongock.io/v5/get-started/index.html","body":"Works but unfortunately the docs tell otherwise: <a href=\"https://docs.mongock.io/v5/get-started/index.html\" rel=\"nofollow noreferrer\">docs.mongock.io/v5/get-started/index.html</a>"}],"tags":[],"owner":{"account_id":10455285,"reputation":93,"user_id":9780782,"display_name":"Tejaswi Kasat"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1681988111,"creation_date":1681988111,"answer_id":76063297,"question_id":75363743,"body_markdown":"If you are using spring 3.x.x version, the dependencies mentioned in documentations are not proper. Use dependencies like below in order to make autoconfiguration to work:\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;io.mongock&lt;/groupId&gt;\r\n      &lt;artifactId&gt;mongock-bom&lt;/artifactId&gt;\r\n      &lt;version&gt;5.2.4&lt;/version&gt;\r\n      &lt;type&gt;pom&lt;/type&gt;\r\n      &lt;scope&gt;import&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;io.mongock&lt;/groupId&gt;\r\n      &lt;artifactId&gt;mongock-springboot-v3&lt;/artifactId&gt;\r\n      &lt;version&gt;5.2.4&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;io.mongock&lt;/groupId&gt;\r\n      &lt;artifactId&gt;mongodb-springdata-v4-driver&lt;/artifactId&gt;\r\n      &lt;version&gt;5.2.4&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n  &lt;/dependencies&gt;\r\n\r\nPost this, your configuration in `application.yml` will work","title":"Could not found method getBuilder in io.mongock.runner.springboot.config.MongockContext required a bean of type &#39;ConnectionDriver&#39;","body":"<p>If you are using spring 3.x.x version, the dependencies mentioned in documentations are not proper. Use dependencies like below in order to make autoconfiguration to work:</p>\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;io.mongock&lt;/groupId&gt;\n  &lt;artifactId&gt;mongock-bom&lt;/artifactId&gt;\n  &lt;version&gt;5.2.4&lt;/version&gt;\n  &lt;type&gt;pom&lt;/type&gt;\n  &lt;scope&gt;import&lt;/scope&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n  &lt;groupId&gt;io.mongock&lt;/groupId&gt;\n  &lt;artifactId&gt;mongock-springboot-v3&lt;/artifactId&gt;\n  &lt;version&gt;5.2.4&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n  &lt;groupId&gt;io.mongock&lt;/groupId&gt;\n  &lt;artifactId&gt;mongodb-springdata-v4-driver&lt;/artifactId&gt;\n  &lt;version&gt;5.2.4&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n  \n<p>Post this, your configuration in <code>application.yml</code> will work</p>\n"},{"tags":[],"owner":{"account_id":8783701,"reputation":363,"user_id":6566531,"display_name":"tlarson"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687911322,"creation_date":1687911322,"answer_id":76569316,"question_id":75363743,"body_markdown":"For Spring version 3.1 and Spring Boot, this worked for me in pom.xml:\r\n\r\n    &lt;dependency&gt;\r\n\t\t&lt;groupId&gt;io.mongock&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;mongock-springboot-v3&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;5.3.1&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;io.mongock&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;mongodb-springdata-v4-driver&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;5.3.1&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n\r\nand I completely removed the property:\r\n\r\n    mongock.transaction-enabled=true\r\n\r\nin the properties file and instead just added `@EnableMongock` annotation under `@SpringBootApplication` annotation in my application class. ","title":"Could not found method getBuilder in io.mongock.runner.springboot.config.MongockContext required a bean of type &#39;ConnectionDriver&#39;","body":"<p>For Spring version 3.1 and Spring Boot, this worked for me in pom.xml:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;io.mongock&lt;/groupId&gt;\n    &lt;artifactId&gt;mongock-springboot-v3&lt;/artifactId&gt;\n    &lt;version&gt;5.3.1&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;io.mongock&lt;/groupId&gt;\n    &lt;artifactId&gt;mongodb-springdata-v4-driver&lt;/artifactId&gt;\n    &lt;version&gt;5.3.1&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>and I completely removed the property:</p>\n<pre><code>mongock.transaction-enabled=true\n</code></pre>\n<p>in the properties file and instead just added <code>@EnableMongock</code> annotation under <code>@SpringBootApplication</code> annotation in my application class.</p>\n"}],"owner":{"account_id":4640223,"reputation":589,"user_id":3760289,"accept_rate":89,"display_name":"Piotr"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1774,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":4,"score":3,"last_activity_date":1687911322,"creation_date":1675699365,"question_id":75363743,"body_markdown":"I have a problem with proper configure mongock for my project.\r\n\r\nI have added to pom.xml dependencies:\r\n\r\n      &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.mongock&lt;/groupId&gt;\r\n            &lt;artifactId&gt;mongock-springboot&lt;/artifactId&gt;\r\n            &lt;version&gt;5.2.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.mongock&lt;/groupId&gt;\r\n            &lt;artifactId&gt;mongodb-springdata-v3-driver&lt;/artifactId&gt;\r\n            &lt;version&gt;5.2.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        ...\r\n      &lt;/dependencies&gt;\r\n      &lt;dependencyManagement&gt;\r\n         &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;io.mongock&lt;/groupId&gt;\r\n                &lt;artifactId&gt;mongock-driver-mongodb-bom&lt;/artifactId&gt;\r\n                &lt;version&gt;5.2.2&lt;/version&gt;\r\n                &lt;type&gt;pom&lt;/type&gt;\r\n            &lt;/dependency&gt;\r\n            ...\r\n        &lt;/dependencies&gt;\r\n    &lt;/dependencyManagement&gt;\r\n\r\nI have added annotation on ApplicationClass: @EnableMongock\r\n\r\nIn application.yml I have added configuration:\r\n\r\n```\r\nmongock:\r\n  migration-scan-package:\r\n    - com.test.project.config.dbmigrations\r\n  enabled: true\r\n```\r\n\r\nDocumentation says that this setup should be enough, but when I run app I have got error:\r\n\r\n```\r\n***************************\r\nAPPLICATION FAILED TO START\r\n***************************\r\n\r\nDescription:\r\n\r\nParameter 0 of method getBuilder in io.mongock.runner.springboot.config.MongockContext required a bean of type &#39;io.mongock.driver.api.driver.ConnectionDriver&#39; that could not be found.\r\n\r\n\r\nAction:\r\n\r\nConsider defining a bean of type &#39;io.mongock.driver.api.driver.ConnectionDriver&#39; in your configuration.\r\n```\r\n\r\nDo you know how to fix it? Thanks in advance.","title":"Could not found method getBuilder in io.mongock.runner.springboot.config.MongockContext required a bean of type &#39;ConnectionDriver&#39;","body":"<p>I have a problem with proper configure mongock for my project.</p>\n<p>I have added to pom.xml dependencies:</p>\n<pre><code>  &lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;io.mongock&lt;/groupId&gt;\n        &lt;artifactId&gt;mongock-springboot&lt;/artifactId&gt;\n        &lt;version&gt;5.2.2&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;io.mongock&lt;/groupId&gt;\n        &lt;artifactId&gt;mongodb-springdata-v3-driver&lt;/artifactId&gt;\n        &lt;version&gt;5.2.2&lt;/version&gt;\n    &lt;/dependency&gt;\n    ...\n  &lt;/dependencies&gt;\n  &lt;dependencyManagement&gt;\n     &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.mongock&lt;/groupId&gt;\n            &lt;artifactId&gt;mongock-driver-mongodb-bom&lt;/artifactId&gt;\n            &lt;version&gt;5.2.2&lt;/version&gt;\n            &lt;type&gt;pom&lt;/type&gt;\n        &lt;/dependency&gt;\n        ...\n    &lt;/dependencies&gt;\n&lt;/dependencyManagement&gt;\n</code></pre>\n<p>I have added annotation on ApplicationClass: @EnableMongock</p>\n<p>In application.yml I have added configuration:</p>\n<pre><code>mongock:\n  migration-scan-package:\n    - com.test.project.config.dbmigrations\n  enabled: true\n</code></pre>\n<p>Documentation says that this setup should be enough, but when I run app I have got error:</p>\n<pre><code>***************************\nAPPLICATION FAILED TO START\n***************************\n\nDescription:\n\nParameter 0 of method getBuilder in io.mongock.runner.springboot.config.MongockContext required a bean of type 'io.mongock.driver.api.driver.ConnectionDriver' that could not be found.\n\n\nAction:\n\nConsider defining a bean of type 'io.mongock.driver.api.driver.ConnectionDriver' in your configuration.\n</code></pre>\n<p>Do you know how to fix it? Thanks in advance.</p>\n"},{"tags":["java","aws-lambda","log4j2","multi-release-jar"],"answers":[{"tags":[],"owner":{"account_id":187570,"reputation":4917,"user_id":425722,"accept_rate":83,"display_name":"Andrew Rueckert"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1623700144,"creation_date":1623700144,"answer_id":67976381,"question_id":67441142,"body_markdown":"According to my AWS account rep, AWS Lambdas do not support Multi-Release JARs at this time (2021-06-14). I will need to reconfigure my pom to build multiple artifacts, instead.","title":"AWS Lambda using incorrect classfiles from a Multi-Release JAR?","body":"<p>According to my AWS account rep, AWS Lambdas do not support Multi-Release JARs at this time (2021-06-14). I will need to reconfigure my pom to build multiple artifacts, instead.</p>\n"},{"comments":[{"owner":{"account_id":184786,"reputation":18896,"user_id":421049,"accept_rate":50,"display_name":"Garret Wilson"},"score":0,"creation_date":1687880834,"post_id":67978671,"comment_id":134997464,"body_markdown":"Where did you discover the supported directory layout for your resulting ZIP file? For example, how did you know to put the dependencies inside a `lib/` directory? Can they be in other directories? See my separate question, [Details on format of Java ZIP file supported by AWS Lambda](https://stackoverflow.com/q/76566089).","body":"Where did you discover the supported directory layout for your resulting ZIP file? For example, how did you know to put the dependencies inside a <code>lib&#47;</code> directory? Can they be in other directories? See my separate question, <a href=\"https://stackoverflow.com/q/76566089\">Details on format of Java ZIP file supported by AWS Lambda</a>."},{"owner":{"account_id":184786,"reputation":18896,"user_id":421049,"accept_rate":50,"display_name":"Garret Wilson"},"score":0,"creation_date":1687909992,"post_id":67978671,"comment_id":135002372,"body_markdown":"Maarten Brak, I&#39;ve tested and verified that your ZIP file layout works. My answer presents a workaround for using the Maven Shade Plugin, but your answer is a better approach, and should be the accepted answer.","body":"Maarten Brak, I&#39;ve tested and verified that your ZIP file layout works. My answer presents a workaround for using the Maven Shade Plugin, but your answer is a better approach, and should be the accepted answer."},{"owner":{"account_id":184786,"reputation":18896,"user_id":421049,"accept_rate":50,"display_name":"Garret Wilson"},"score":0,"creation_date":1687910014,"post_id":67978671,"comment_id":135002375,"body_markdown":"Note that you&#39;re using an older version of the Assembly Descriptor; you might want to update that.","body":"Note that you&#39;re using an older version of the Assembly Descriptor; you might want to update that."},{"owner":{"account_id":184786,"reputation":18896,"user_id":421049,"accept_rate":50,"display_name":"Garret Wilson"},"score":0,"creation_date":1687910089,"post_id":67978671,"comment_id":135002381,"body_markdown":"You might also want to comment on `${project.basedir}/conf`. Many copy-and-paste readers may not notice it or question it. That part may be specific to your particular project—I don&#39;t know if it&#39;s common for projects to contain a `conf/` directory. I recommend leaving it out or at least adding an explanation and indicating it&#39;s optional.","body":"You might also want to comment on <code>${project.basedir}&#47;conf</code>. Many copy-and-paste readers may not notice it or question it. That part may be specific to your particular project—I don&#39;t know if it&#39;s common for projects to contain a <code>conf&#47;</code> directory. I recommend leaving it out or at least adding an explanation and indicating it&#39;s optional."}],"tags":[],"owner":{"account_id":2794839,"reputation":846,"user_id":2404240,"display_name":"Maarten Brak"},"comment_count":4,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1623718538,"creation_date":1623718053,"answer_id":67978671,"question_id":67441142,"body_markdown":"Not exactly an answer to your question but I hope this may help.\r\n\r\nYour analysis is correct - AWS lambda extracts the entire JAR file. Then the JVM running the lambda function doesn&#39;t recognize the code as a JAR file anymore and effectively the entire META-INF directory is ignored.\r\n\r\nIn my case, I was using the `maven-shade-plugin` to create an &quot;uber&quot;-jar containing all the dependencies of my lambda function. This approach is recommended in the [official AWS documentation][1].\r\nNow - and this is important - the `maven-shade-plugin` extracts all jar file dependencies and repackages them into a single, flat jar file. If one of your dependencies is a multi-release jar (as is log4j2), then you can configure the `maven-shade-plugin` to reconstruct an appropriate META-INF directory and if you run the jar **as a jar file** then everything still works.\r\nBut because AWS Lambda extracts the jar, the META-INF directory is not &quot;seen&quot; by the JVM anymore, and anything that was in META-INF/versions is ignored.\r\n\r\nTo resolve this, I switched to the `maven-assembly-plugin`. It allows creating a ZIP file with the code of your lambda, and add the dependencies as JAR files. Now when AWS Lambda extracts this ZIP file, the JAR remain intact and everything works fine.\r\n\r\nTo configure this, create a file `assembly.xml` like this:\r\n\r\n```xml\r\n&lt;assembly xmlns=&quot;http://maven.apache.org/plugins/maven-assembly-plugin/assembly/1.1.2&quot;\r\n          xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n          xsi:schemaLocation=&quot;http://maven.apache.org/plugins/maven-assembly-plugin/assembly/1.1.2 http://maven.apache.org/xsd/assembly-1.1.2.xsd&quot;&gt;\r\n    &lt;id&gt;zip&lt;/id&gt;\r\n    &lt;!-- Make sure the ZIP contents are not nested in a subdirectory --&gt;\r\n    &lt;includeBaseDirectory&gt;false&lt;/includeBaseDirectory&gt;\r\n\r\n    &lt;formats&gt;\r\n        &lt;format&gt;zip&lt;/format&gt;\r\n    &lt;/formats&gt;\r\n    &lt;fileSets&gt;\r\n        &lt;fileSet&gt;\r\n            &lt;directory&gt;${project.basedir}/conf&lt;/directory&gt;\r\n        &lt;/fileSet&gt;\r\n        &lt;!-- Include the compiled classes as-is and put them in the root of the ZIP --&gt;\r\n        &lt;fileSet&gt;\r\n            &lt;directory&gt;${project.build.directory}/classes&lt;/directory&gt;\r\n            &lt;outputDirectory&gt;/&lt;/outputDirectory&gt;\r\n        &lt;/fileSet&gt;\r\n    &lt;/fileSets&gt;\r\n    &lt;dependencySets&gt;\r\n        &lt;!-- Include all dependencies in the lib/ directory --&gt;\r\n        &lt;dependencySet&gt;\r\n            &lt;outputDirectory&gt;lib&lt;/outputDirectory&gt;\r\n            &lt;excludes&gt;\r\n                &lt;exclude&gt;${project.groupId}:${project.artifactId}:jar:*&lt;/exclude&gt;\r\n            &lt;/excludes&gt;\r\n        &lt;/dependencySet&gt;\r\n    &lt;/dependencySets&gt;\r\n&lt;/assembly&gt;\r\n```\r\n\r\nThen you need to configure the `maven-assembly-plugin` in your `pom.xml`:\r\n\r\n```xml\r\n&lt;plugin&gt;\r\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n    &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\r\n    &lt;version&gt;3.3.0&lt;/version&gt;\r\n    &lt;executions&gt;\r\n        &lt;execution&gt;\r\n            &lt;phase&gt;package&lt;/phase&gt;\r\n            &lt;goals&gt;\r\n                &lt;goal&gt;single&lt;/goal&gt;\r\n            &lt;/goals&gt;\r\n            &lt;configuration&gt;\r\n                &lt;appendAssemblyId&gt;false&lt;/appendAssemblyId&gt;\r\n                &lt;descriptors&gt;\r\n                    &lt;descriptor&gt;assembly.xml&lt;/descriptor&gt;\r\n                &lt;/descriptors&gt;\r\n                &lt;finalName&gt;${project.artifactId}&lt;/finalName&gt;\r\n            &lt;/configuration&gt;\r\n        &lt;/execution&gt;\r\n    &lt;/executions&gt;\r\n&lt;/plugin&gt;\r\n```\r\n\r\nNow just deploy the resulting zip file to AWS Lambda as usual and voila!\r\n\r\n\r\nAs an aside - whereas the shaded JAR file contained thousands of individual `.class` files, the assembled ZIP file contains only a handful of JAR files. Even though the overall size (in bytes) is bigger, the number of files will be much smaller and thereby reducing your cold start times. I haven&#39;t tested this on the AWS Cloud, but on my LocalStack the cold start went down from about 1 minute to 6 seconds - definitely a great booster for development.\r\n\r\n  [1]: https://docs.aws.amazon.com/lambda/latest/dg/java-package.html","title":"AWS Lambda using incorrect classfiles from a Multi-Release JAR?","body":"<p>Not exactly an answer to your question but I hope this may help.</p>\n<p>Your analysis is correct - AWS lambda extracts the entire JAR file. Then the JVM running the lambda function doesn't recognize the code as a JAR file anymore and effectively the entire META-INF directory is ignored.</p>\n<p>In my case, I was using the <code>maven-shade-plugin</code> to create an &quot;uber&quot;-jar containing all the dependencies of my lambda function. This approach is recommended in the <a href=\"https://docs.aws.amazon.com/lambda/latest/dg/java-package.html\" rel=\"noreferrer\">official AWS documentation</a>.\nNow - and this is important - the <code>maven-shade-plugin</code> extracts all jar file dependencies and repackages them into a single, flat jar file. If one of your dependencies is a multi-release jar (as is log4j2), then you can configure the <code>maven-shade-plugin</code> to reconstruct an appropriate META-INF directory and if you run the jar <strong>as a jar file</strong> then everything still works.\nBut because AWS Lambda extracts the jar, the META-INF directory is not &quot;seen&quot; by the JVM anymore, and anything that was in META-INF/versions is ignored.</p>\n<p>To resolve this, I switched to the <code>maven-assembly-plugin</code>. It allows creating a ZIP file with the code of your lambda, and add the dependencies as JAR files. Now when AWS Lambda extracts this ZIP file, the JAR remain intact and everything works fine.</p>\n<p>To configure this, create a file <code>assembly.xml</code> like this:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;assembly xmlns=&quot;http://maven.apache.org/plugins/maven-assembly-plugin/assembly/1.1.2&quot;\n          xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n          xsi:schemaLocation=&quot;http://maven.apache.org/plugins/maven-assembly-plugin/assembly/1.1.2 http://maven.apache.org/xsd/assembly-1.1.2.xsd&quot;&gt;\n    &lt;id&gt;zip&lt;/id&gt;\n    &lt;!-- Make sure the ZIP contents are not nested in a subdirectory --&gt;\n    &lt;includeBaseDirectory&gt;false&lt;/includeBaseDirectory&gt;\n\n    &lt;formats&gt;\n        &lt;format&gt;zip&lt;/format&gt;\n    &lt;/formats&gt;\n    &lt;fileSets&gt;\n        &lt;fileSet&gt;\n            &lt;directory&gt;${project.basedir}/conf&lt;/directory&gt;\n        &lt;/fileSet&gt;\n        &lt;!-- Include the compiled classes as-is and put them in the root of the ZIP --&gt;\n        &lt;fileSet&gt;\n            &lt;directory&gt;${project.build.directory}/classes&lt;/directory&gt;\n            &lt;outputDirectory&gt;/&lt;/outputDirectory&gt;\n        &lt;/fileSet&gt;\n    &lt;/fileSets&gt;\n    &lt;dependencySets&gt;\n        &lt;!-- Include all dependencies in the lib/ directory --&gt;\n        &lt;dependencySet&gt;\n            &lt;outputDirectory&gt;lib&lt;/outputDirectory&gt;\n            &lt;excludes&gt;\n                &lt;exclude&gt;${project.groupId}:${project.artifactId}:jar:*&lt;/exclude&gt;\n            &lt;/excludes&gt;\n        &lt;/dependencySet&gt;\n    &lt;/dependencySets&gt;\n&lt;/assembly&gt;\n</code></pre>\n<p>Then you need to configure the <code>maven-assembly-plugin</code> in your <code>pom.xml</code>:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\n    &lt;version&gt;3.3.0&lt;/version&gt;\n    &lt;executions&gt;\n        &lt;execution&gt;\n            &lt;phase&gt;package&lt;/phase&gt;\n            &lt;goals&gt;\n                &lt;goal&gt;single&lt;/goal&gt;\n            &lt;/goals&gt;\n            &lt;configuration&gt;\n                &lt;appendAssemblyId&gt;false&lt;/appendAssemblyId&gt;\n                &lt;descriptors&gt;\n                    &lt;descriptor&gt;assembly.xml&lt;/descriptor&gt;\n                &lt;/descriptors&gt;\n                &lt;finalName&gt;${project.artifactId}&lt;/finalName&gt;\n            &lt;/configuration&gt;\n        &lt;/execution&gt;\n    &lt;/executions&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p>Now just deploy the resulting zip file to AWS Lambda as usual and voila!</p>\n<p>As an aside - whereas the shaded JAR file contained thousands of individual <code>.class</code> files, the assembled ZIP file contains only a handful of JAR files. Even though the overall size (in bytes) is bigger, the number of files will be much smaller and thereby reducing your cold start times. I haven't tested this on the AWS Cloud, but on my LocalStack the cold start went down from about 1 minute to 6 seconds - definitely a great booster for development.</p>\n"},{"tags":[],"owner":{"account_id":184786,"reputation":18896,"user_id":421049,"accept_rate":50,"display_name":"Garret Wilson"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1687909921,"creation_date":1686009402,"answer_id":76410649,"question_id":67441142,"body_markdown":"As others have mentioned, AWS Lambda doesn&#39;t seem to support multi-release JARS. (See [JEP 238][1].)\r\n\r\nLog4J uses a `org.apache.logging.log4j.util.Stackwalker` to walk up the stack. The old version uses `sun.reflect.Reflection.getCallerClass(int)`, but I infer that the new version that works with Java 9+ doesn&#39;t work with earlier versions, so they created a multi-release JAR. (See [`LOG4J2-2537`: Log4j 2 Performance issue with Java 11][2] for more back-story.) Unfortunately even if you use `&lt;Multi-Release&gt;true&lt;/Multi-Release&gt;` in your Maven Shade `ManifestResourceTransformer` configuration, AWS Lambda doesn&#39;t know how to deal with multi-release JARs.\r\n\r\nBasically in the multi-release JAR there is a `META-INF/versions/9/` directory, under which is kept the Java 9+ version of `Stackwalker` and related classes, which don&#39;t use `sun.reflect.Reflection.getCallerClass`. If you&#39;re targeting Java 9+ you can do what the JVM would do and use these classes rather than the ones not inside `META-INF/`. The Maven Shade Plugin doesn&#39;t seem to have a way to do this manually, but it appears you can brute-force the issue by (mis?)using the Maven Shade Plugin `&lt;relocations&gt;` facility to copy over the version under `META-INF/versions/9/`, overwriting the old ones that use `sun.reflect.Reflection.getCallerClass`. One other trick: specify a fuller path to the classes, so you won&#39;t copy over the metadata file under `META-INF/versions/9/` itself.\r\n\r\nThus it appears (after limited testing) that adding the following to your Maven Shade Plugin `&lt;configuration&gt;` section will produce a JAR using the Java 9+ version of `Stackwalker`, which doesn&#39;t even look for `sun.reflect.Reflection.getCallerClass`, thus preventing the warning:\r\n\r\n```xml\r\n&lt;relocations&gt;\r\n  &lt;relocation&gt;\r\n    &lt;pattern&gt;META-INF/versions/9/org/apache/logging/log4j/&lt;/pattern&gt;\r\n    &lt;shadedPattern&gt;org/apache/logging/log4j/&lt;/shadedPattern&gt;\r\n  &lt;/relocation&gt;\r\n&lt;/relocations&gt;\r\n```\r\n\r\nUsing this technique, you can _remove_ the `&lt;Multi-Release&gt;true&lt;/Multi-Release&gt;` of your `ManifestResourceTransformer`, because there&#39;s no point in making a multi-release JAR anymore, as you&#39;re manually creating a single-release JAR with the Java 9+ content.\r\n\r\nSee [aws-lambda-java-libs Issue #204: WARNING: sun.reflect.Reflection.getCallerClass is not supported. This will impact performance][3] where I [first reported][4] this workaround.\r\n\r\n**Note that this answer is only a workaround if you insist in using the Maven Shade Plugin! A better approach would be to use the Maven Assembly Plugin as Maarten Brak suggested, or the the Spring Boot Maven Plugin after they address [Issue #36101][5], so you wouldn&#39;t need a workaround such as this.**\r\n\r\n  [1]: https://openjdk.org/jeps/238\r\n  [2]: https://issues.apache.org/jira/browse/LOG4J2-2537\r\n  [3]: https://github.com/aws/aws-lambda-java-libs/issues/204\r\n  [4]: https://github.com/aws/aws-lambda-java-libs/issues/204#issuecomment-1577693473\r\n  [5]: https://github.com/spring-projects/spring-boot/issues/36101","title":"AWS Lambda using incorrect classfiles from a Multi-Release JAR?","body":"<p>As others have mentioned, AWS Lambda doesn't seem to support multi-release JARS. (See <a href=\"https://openjdk.org/jeps/238\" rel=\"nofollow noreferrer\">JEP 238</a>.)</p>\n<p>Log4J uses a <code>org.apache.logging.log4j.util.Stackwalker</code> to walk up the stack. The old version uses <code>sun.reflect.Reflection.getCallerClass(int)</code>, but I infer that the new version that works with Java 9+ doesn't work with earlier versions, so they created a multi-release JAR. (See <a href=\"https://issues.apache.org/jira/browse/LOG4J2-2537\" rel=\"nofollow noreferrer\"><code>LOG4J2-2537</code>: Log4j 2 Performance issue with Java 11</a> for more back-story.) Unfortunately even if you use <code>&lt;Multi-Release&gt;true&lt;/Multi-Release&gt;</code> in your Maven Shade <code>ManifestResourceTransformer</code> configuration, AWS Lambda doesn't know how to deal with multi-release JARs.</p>\n<p>Basically in the multi-release JAR there is a <code>META-INF/versions/9/</code> directory, under which is kept the Java 9+ version of <code>Stackwalker</code> and related classes, which don't use <code>sun.reflect.Reflection.getCallerClass</code>. If you're targeting Java 9+ you can do what the JVM would do and use these classes rather than the ones not inside <code>META-INF/</code>. The Maven Shade Plugin doesn't seem to have a way to do this manually, but it appears you can brute-force the issue by (mis?)using the Maven Shade Plugin <code>&lt;relocations&gt;</code> facility to copy over the version under <code>META-INF/versions/9/</code>, overwriting the old ones that use <code>sun.reflect.Reflection.getCallerClass</code>. One other trick: specify a fuller path to the classes, so you won't copy over the metadata file under <code>META-INF/versions/9/</code> itself.</p>\n<p>Thus it appears (after limited testing) that adding the following to your Maven Shade Plugin <code>&lt;configuration&gt;</code> section will produce a JAR using the Java 9+ version of <code>Stackwalker</code>, which doesn't even look for <code>sun.reflect.Reflection.getCallerClass</code>, thus preventing the warning:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;relocations&gt;\n  &lt;relocation&gt;\n    &lt;pattern&gt;META-INF/versions/9/org/apache/logging/log4j/&lt;/pattern&gt;\n    &lt;shadedPattern&gt;org/apache/logging/log4j/&lt;/shadedPattern&gt;\n  &lt;/relocation&gt;\n&lt;/relocations&gt;\n</code></pre>\n<p>Using this technique, you can <em>remove</em> the <code>&lt;Multi-Release&gt;true&lt;/Multi-Release&gt;</code> of your <code>ManifestResourceTransformer</code>, because there's no point in making a multi-release JAR anymore, as you're manually creating a single-release JAR with the Java 9+ content.</p>\n<p>See <a href=\"https://github.com/aws/aws-lambda-java-libs/issues/204\" rel=\"nofollow noreferrer\">aws-lambda-java-libs Issue #204: WARNING: sun.reflect.Reflection.getCallerClass is not supported. This will impact performance</a> where I <a href=\"https://github.com/aws/aws-lambda-java-libs/issues/204#issuecomment-1577693473\" rel=\"nofollow noreferrer\">first reported</a> this workaround.</p>\n<p><strong>Note that this answer is only a workaround if you insist in using the Maven Shade Plugin! A better approach would be to use the Maven Assembly Plugin as Maarten Brak suggested, or the the Spring Boot Maven Plugin after they address <a href=\"https://github.com/spring-projects/spring-boot/issues/36101\" rel=\"nofollow noreferrer\">Issue #36101</a>, so you wouldn't need a workaround such as this.</strong></p>\n"}],"owner":{"account_id":187570,"reputation":4917,"user_id":425722,"accept_rate":83,"display_name":"Andrew Rueckert"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2561,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76410649,"answer_count":3,"score":1,"last_activity_date":1687909921,"creation_date":1620418399,"question_id":67441142,"body_markdown":"I&#39;ve had a lambda running for a few years under Java8, and I just updated it to Java 11. It immediately broke, giving me errors like:\r\n\r\n```\r\nCaused by: java.lang.ExceptionInInitializerError\r\n\tat com.mycompany.rest.providers.JsonProvider.writeTo(JsonProvider.java:80)\r\n\tat org.glassfish.jersey.message.internal.WriterInterceptorExecutor$TerminalWriterInterceptor.invokeWriteTo(WriterInterceptorExecutor.java:242)\r\n\tat org.glassfish.jersey.message.internal.WriterInterceptorExecutor$TerminalWriterInterceptor.aroundWriteTo(WriterInterceptorExecutor.java:227)\r\n\tat org.glassfish.jersey.message.internal.WriterInterceptorExecutor.proceed(WriterInterceptorExecutor.java:139)\r\n\tat org.glassfish.jersey.message.internal.MessageBodyFactory.writeTo(MessageBodyFactory.java:1116)\r\n\tat org.glassfish.jersey.client.ClientRequest.doWriteEntity(ClientRequest.java:461)\r\n\tat org.glassfish.jersey.client.ClientRequest.writeEntity(ClientRequest.java:443)\r\n\tat org.glassfish.jersey.client.internal.HttpUrlConnector._apply(HttpUrlConnector.java:367)\r\n\tat org.glassfish.jersey.client.internal.HttpUrlConnector.apply(HttpUrlConnector.java:265)\r\n\tat org.glassfish.jersey.client.ClientRuntime.invoke(ClientRuntime.java:297)\r\n\t... 15 more\r\nCaused by: java.lang.UnsupportedOperationException: No class provided, and an appropriate one cannot be found.\r\n\tat org.apache.logging.log4j.LogManager.callerClass(LogManager.java:571)\r\n\tat org.apache.logging.log4j.LogManager.getLogger(LogManager.java:596)\r\n\tat org.apache.logging.log4j.LogManager.getLogger(LogManager.java:583)\r\n\tat com.mycompany.rest.util.NonClosingOutputStream.&lt;clinit&gt;(NonClosingOutputStream.java:11)\r\n\t... 25 more\r\n```\r\n\r\nThe class in question isn&#39;t particularly exciting, and has a straightforward static initialization that is common in my classes:\r\n\r\n```\r\npublic class NonClosingOutputStream extends ProxyOutputStream {\r\n    private static final Logger log = LogManager.getLogger(); // Line 11\r\n\r\n    public NonClosingOutputStream(final OutputStream proxy) {\r\n        super(proxy);\r\n    }\r\n\r\n    ...\r\n```\r\n\r\nI&#39;ve *seen* problems like this before, when I switched my (non-Lambda) java servers from 8 to 11; I needed to flag my jar&#39;s manifest as `Multi-Release: true`, because the ApacheLog4j artifact that I depend on provides alternate implementations for the `org.apache.logging.log4j.util.StackLocator` class in Java 8- and 9+. However, I kind of expect the JVM to just pick up the appropriate version of the class. Is there some configuration that I have to set somewhere? Is it possible that switching my Lambda from Java 8 -&gt; Java 11 *confused* something, somewhere?\r\n\r\n\r\n`jar/META-INF/versions:`\r\n```\r\nversions/\r\n├── 11\r\n│&#160;&#160; └── org\r\n│&#160;&#160;     └── glassfish\r\n│&#160;&#160;         └── jersey\r\n│&#160;&#160;             └── internal\r\n│&#160;&#160;                 └── jsr166\r\n│&#160;&#160;                     ├── JerseyFlowSubscriber$1.class\r\n│&#160;&#160;                     ├── JerseyFlowSubscriber.class\r\n│&#160;&#160;                     ├── SubmissionPublisher$1.class\r\n│&#160;&#160;                     ├── SubmissionPublisher$2.class\r\n│&#160;&#160;                     ├── SubmissionPublisher$3.class\r\n│&#160;&#160;                     ├── SubmissionPublisher$4.class\r\n│&#160;&#160;                     ├── SubmissionPublisher$5.class\r\n│&#160;&#160;                     ├── SubmissionPublisher$6.class\r\n│&#160;&#160;                     ├── SubmissionPublisher.class\r\n│&#160;&#160;                     └── SubmissionPublisherFactory.class\r\n└── 9\r\n    ├── module-info.class\r\n    └── org\r\n        └── apache\r\n            └── logging\r\n                └── log4j\r\n                    ├── core\r\n                    │&#160;&#160; └── util\r\n                    │&#160;&#160;     └── SystemClock.class\r\n                    └── util\r\n                        ├── Base64Util.class\r\n                        ├── ProcessIdUtil.class\r\n                        ├── StackLocator.class\r\n                        └── internal\r\n                            └── DefaultObjectInputFilter.class\r\n```\r\n\r\n**Edit:** I am finding [some references](https://stackoverflow.com/questions/35639561/aws-lambda-access-to-meta-inf-manifest-mf) indicating that, when AWS Lambda extracts a JAR, they don&#39;t extract the META-INF directory, which contains the MANIFEST.MF file that tells the JVM that the JAR is a Muli-Release JAR. Do Lambdas support Multi-Release JARs at all?\r\n","title":"AWS Lambda using incorrect classfiles from a Multi-Release JAR?","body":"<p>I've had a lambda running for a few years under Java8, and I just updated it to Java 11. It immediately broke, giving me errors like:</p>\n<pre><code>Caused by: java.lang.ExceptionInInitializerError\n    at com.mycompany.rest.providers.JsonProvider.writeTo(JsonProvider.java:80)\n    at org.glassfish.jersey.message.internal.WriterInterceptorExecutor$TerminalWriterInterceptor.invokeWriteTo(WriterInterceptorExecutor.java:242)\n    at org.glassfish.jersey.message.internal.WriterInterceptorExecutor$TerminalWriterInterceptor.aroundWriteTo(WriterInterceptorExecutor.java:227)\n    at org.glassfish.jersey.message.internal.WriterInterceptorExecutor.proceed(WriterInterceptorExecutor.java:139)\n    at org.glassfish.jersey.message.internal.MessageBodyFactory.writeTo(MessageBodyFactory.java:1116)\n    at org.glassfish.jersey.client.ClientRequest.doWriteEntity(ClientRequest.java:461)\n    at org.glassfish.jersey.client.ClientRequest.writeEntity(ClientRequest.java:443)\n    at org.glassfish.jersey.client.internal.HttpUrlConnector._apply(HttpUrlConnector.java:367)\n    at org.glassfish.jersey.client.internal.HttpUrlConnector.apply(HttpUrlConnector.java:265)\n    at org.glassfish.jersey.client.ClientRuntime.invoke(ClientRuntime.java:297)\n    ... 15 more\nCaused by: java.lang.UnsupportedOperationException: No class provided, and an appropriate one cannot be found.\n    at org.apache.logging.log4j.LogManager.callerClass(LogManager.java:571)\n    at org.apache.logging.log4j.LogManager.getLogger(LogManager.java:596)\n    at org.apache.logging.log4j.LogManager.getLogger(LogManager.java:583)\n    at com.mycompany.rest.util.NonClosingOutputStream.&lt;clinit&gt;(NonClosingOutputStream.java:11)\n    ... 25 more\n</code></pre>\n<p>The class in question isn't particularly exciting, and has a straightforward static initialization that is common in my classes:</p>\n<pre><code>public class NonClosingOutputStream extends ProxyOutputStream {\n    private static final Logger log = LogManager.getLogger(); // Line 11\n\n    public NonClosingOutputStream(final OutputStream proxy) {\n        super(proxy);\n    }\n\n    ...\n</code></pre>\n<p>I've <em>seen</em> problems like this before, when I switched my (non-Lambda) java servers from 8 to 11; I needed to flag my jar's manifest as <code>Multi-Release: true</code>, because the ApacheLog4j artifact that I depend on provides alternate implementations for the <code>org.apache.logging.log4j.util.StackLocator</code> class in Java 8- and 9+. However, I kind of expect the JVM to just pick up the appropriate version of the class. Is there some configuration that I have to set somewhere? Is it possible that switching my Lambda from Java 8 -&gt; Java 11 <em>confused</em> something, somewhere?</p>\n<p><code>jar/META-INF/versions:</code></p>\n<pre><code>versions/\n├── 11\n│   └── org\n│       └── glassfish\n│           └── jersey\n│               └── internal\n│                   └── jsr166\n│                       ├── JerseyFlowSubscriber$1.class\n│                       ├── JerseyFlowSubscriber.class\n│                       ├── SubmissionPublisher$1.class\n│                       ├── SubmissionPublisher$2.class\n│                       ├── SubmissionPublisher$3.class\n│                       ├── SubmissionPublisher$4.class\n│                       ├── SubmissionPublisher$5.class\n│                       ├── SubmissionPublisher$6.class\n│                       ├── SubmissionPublisher.class\n│                       └── SubmissionPublisherFactory.class\n└── 9\n    ├── module-info.class\n    └── org\n        └── apache\n            └── logging\n                └── log4j\n                    ├── core\n                    │   └── util\n                    │       └── SystemClock.class\n                    └── util\n                        ├── Base64Util.class\n                        ├── ProcessIdUtil.class\n                        ├── StackLocator.class\n                        └── internal\n                            └── DefaultObjectInputFilter.class\n</code></pre>\n<p><strong>Edit:</strong> I am finding <a href=\"https://stackoverflow.com/questions/35639561/aws-lambda-access-to-meta-inf-manifest-mf\">some references</a> indicating that, when AWS Lambda extracts a JAR, they don't extract the META-INF directory, which contains the MANIFEST.MF file that tells the JVM that the JAR is a Muli-Release JAR. Do Lambdas support Multi-Release JARs at all?</p>\n"},{"tags":["java","spring","spring-boot","jpa","spring-data-jpa"],"answers":[{"comments":[{"owner":{"account_id":22394789,"reputation":1382,"user_id":16606223,"display_name":"Yahor Barkouski"},"score":0,"creation_date":1688054226,"post_id":76569176,"comment_id":135025336,"body_markdown":"I hope my answer helped @Antariuz :bow:","body":"I hope my answer helped @Antariuz :bow:"}],"tags":[],"owner":{"account_id":22394789,"reputation":1382,"user_id":16606223,"display_name":"Yahor Barkouski"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1687908404,"creation_date":1687908404,"answer_id":76569176,"question_id":76569154,"body_markdown":"JPA/Hibernate doesn&#39;t have built-in support for the functionality you&#39;re looking for unfortunately, you can&#39;t sort enum fields this way. As alternative ideas that might help:\r\n\r\n- DB-level changes\\\r\nYou may create separate columns in your database for `nameEn` and `nameUk`, and map these columns to your `Contact` entity, so you can sort for `nameEn` instead\r\n- Sort in-memory \\\r\nJust get unsorted results in your application and then sort them there. Might be pretty viable if you&#39;re working with a small number of entities, but inefficient and lead to memory problems in case of large sizes. So you&#39;ll get something like:\r\n```java\r\nList&lt;Contact&gt; sortedContacts = contacts.stream()\r\n    .sorted(Comparator.comparing(contact -&gt; contact.getType().getName(LocaleContextHolder.getLocale())))\r\n    .collect(Collectors.toList());\r\n```\r\n\r\n","title":"Sorting enum by parameters","body":"<p>JPA/Hibernate doesn't have built-in support for the functionality you're looking for unfortunately, you can't sort enum fields this way. As alternative ideas that might help:</p>\n<ul>\n<li>DB-level changes<br />\nYou may create separate columns in your database for <code>nameEn</code> and <code>nameUk</code>, and map these columns to your <code>Contact</code> entity, so you can sort for <code>nameEn</code> instead</li>\n<li>Sort in-memory <br />\nJust get unsorted results in your application and then sort them there. Might be pretty viable if you're working with a small number of entities, but inefficient and lead to memory problems in case of large sizes. So you'll get something like:</li>\n</ul>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;Contact&gt; sortedContacts = contacts.stream()\n    .sorted(Comparator.comparing(contact -&gt; contact.getType().getName(LocaleContextHolder.getLocale())))\n    .collect(Collectors.toList());\n</code></pre>\n"}],"owner":{"account_id":19760020,"reputation":17,"user_id":14469409,"display_name":"Antariuz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1687908404,"creation_date":1687907867,"question_id":76569154,"body_markdown":"For example, there&#39;s class Contact. I want to find all contacts with pagination and specification. There is a problem with sorting contacts by contactType because hibernate tries to sort by string PHONE or FAX. But what I need is to sort by contactType nameEn or nameUk depends on current locale. Ukrainian alphabet has different positions of letters compared to English. Maybe someone can help with this?\r\n```\r\npublic class Contact {\r\n    ...\r\n    @Column(length = 50)\r\n    @Enumerated(EnumType.STRING)\r\n    private ContactType type;\r\n    ...\r\n}\r\n\r\n@RequiredArgsConstructor\r\npublic enum ContactType {\r\n    PHONE(&quot;Phone&quot;, &quot;Телефон&quot;),\r\n    FAX(&quot;Fax&quot;, &quot;Факс&quot;);\r\n    private final String nameEn;\r\n    private final String nameUk;\r\n\r\n    public String getName(Locale locale){\r\n        if(Objects.equals(locale.getLanguage(), &quot;en&quot;)){\r\n            return nameEn;\r\n        }\r\n        return nameUk;\r\n    }\r\n}\r\n\r\n@AllArgsConstructor\r\npublic class ContactSpecification implements Specification&lt;Contact&gt; {\r\n    @Override\r\n    public Predicate toPredicate(Root&lt;Contact&gt; root, CriteriaQuery&lt;?&gt; query, CriteriaBuilder criteriaBuilder) {\r\n        List&lt;Predicate&gt; predicates = new ArrayList&lt;&gt;();\r\n        final String language = LocaleContextHolder.getLocale().getLanguage();\r\n        switch (request.sortProperties()) {\r\n            ...\r\n            case &quot;contactType &quot; -&gt; query.orderBy(\r\n                    Objects.equals(request.sortDirection(), Direction.ASC) ?\r\n                            criteriaBuilder.asc(root.get(&quot;type&quot;)) : criteriaBuilder.desc(root.get(&quot;type&quot;))\r\n            );\r\n        return criteriaBuilder.and(predicates.toArray(new Predicate[0]));\r\n    }\r\n}\r\n```","title":"Sorting enum by parameters","body":"<p>For example, there's class Contact. I want to find all contacts with pagination and specification. There is a problem with sorting contacts by contactType because hibernate tries to sort by string PHONE or FAX. But what I need is to sort by contactType nameEn or nameUk depends on current locale. Ukrainian alphabet has different positions of letters compared to English. Maybe someone can help with this?</p>\n<pre><code>public class Contact {\n    ...\n    @Column(length = 50)\n    @Enumerated(EnumType.STRING)\n    private ContactType type;\n    ...\n}\n\n@RequiredArgsConstructor\npublic enum ContactType {\n    PHONE(&quot;Phone&quot;, &quot;Телефон&quot;),\n    FAX(&quot;Fax&quot;, &quot;Факс&quot;);\n    private final String nameEn;\n    private final String nameUk;\n\n    public String getName(Locale locale){\n        if(Objects.equals(locale.getLanguage(), &quot;en&quot;)){\n            return nameEn;\n        }\n        return nameUk;\n    }\n}\n\n@AllArgsConstructor\npublic class ContactSpecification implements Specification&lt;Contact&gt; {\n    @Override\n    public Predicate toPredicate(Root&lt;Contact&gt; root, CriteriaQuery&lt;?&gt; query, CriteriaBuilder criteriaBuilder) {\n        List&lt;Predicate&gt; predicates = new ArrayList&lt;&gt;();\n        final String language = LocaleContextHolder.getLocale().getLanguage();\n        switch (request.sortProperties()) {\n            ...\n            case &quot;contactType &quot; -&gt; query.orderBy(\n                    Objects.equals(request.sortDirection(), Direction.ASC) ?\n                            criteriaBuilder.asc(root.get(&quot;type&quot;)) : criteriaBuilder.desc(root.get(&quot;type&quot;))\n            );\n        return criteriaBuilder.and(predicates.toArray(new Predicate[0]));\n    }\n}\n</code></pre>\n"},{"tags":["java","amazon-web-services","manifest","executable-jar"],"comments":[{"owner":{"account_id":3557625,"reputation":199021,"user_id":2970947,"display_name":"Elliott Frisch"},"score":1,"creation_date":1687793796,"post_id":76558178,"comment_id":134982991,"body_markdown":"Please edit your question and include (at least) your `pom.xml`; preferably also add enough source code to reproduce the issue.","body":"Please edit your question and include (at least) your <code>pom.xml</code>; preferably also add enough source code to reproduce the issue."},{"owner":{"account_id":255453,"reputation":3554,"user_id":535515,"accept_rate":100,"display_name":"Gus"},"score":0,"creation_date":1687793904,"post_id":76558178,"comment_id":134983006,"body_markdown":"Go ahead and paste the actual code and error (as text) in.  The pictures just get in the way.","body":"Go ahead and paste the actual code and error (as text) in.  The pictures just get in the way."},{"owner":{"account_id":255453,"reputation":3554,"user_id":535515,"accept_rate":100,"display_name":"Gus"},"score":0,"creation_date":1687794739,"post_id":76558178,"comment_id":134983232,"body_markdown":"That Manifest looks good, and the Main-Class matches a class with a `public static void main(String[] args)` method.  Assuming your jar has that manifest added in correct place, it looks like It should work as posted.  Can you double-check that the `debateeventplatform-1.4-SNAPSHOT.jar` file on your ec2 instance is not an old one?","body":"That Manifest looks good, and the Main-Class matches a class with a <code>public static void main(String[] args)</code> method.  Assuming your jar has that manifest added in correct place, it looks like It should work as posted.  Can you double-check that the <code>debateeventplatform-1.4-SNAPSHOT.jar</code> file on your ec2 instance is not an old one?"}],"answers":[{"tags":[],"owner":{"account_id":1540816,"reputation":10259,"user_id":1435543,"display_name":"smac2020"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687797813,"creation_date":1687795416,"answer_id":76558397,"question_id":76558178,"body_markdown":"Deploying a Spring Boot JAR to AWS is easy if you use the correct tools. I prefer using [Elastic Beanstalk][1] and a good Java IDE such as IntelliJ. \r\n\r\nI have no idea how you built your project, if the POM file is valid, did you build a FAT JAR that contains the required dependencies, etc. \r\n\r\nIf you have never deployed a Spring Boot app to AWS, follow this example in the [AWS Code Lib][2]. Assuming you follow it end to end, you will get the app successfully deployed to AWS cloud: \r\n\r\n[Build an application to submit data to a DynamoDB table][3]\r\n\r\nBy the way, the JAR created following this has a MF that works.\r\n\r\n\r\n\r\n\r\n  [1]: https://aws.amazon.com/elasticbeanstalk/\r\n  [2]: https://docs.aws.amazon.com/code-library/latest/ug/what-is-code-library.html\r\n  [3]: https://docs.aws.amazon.com/code-library/latest/ug/cross_SubmitDataApp_java_2_topic.html\r\n  [4]: https://i.stack.imgur.com/IRooA.png","title":"When I run my JAR File I keep running into : &quot;no main manifest attribute&quot;, How do I fix this?","body":"<p>Deploying a Spring Boot JAR to AWS is easy if you use the correct tools. I prefer using <a href=\"https://aws.amazon.com/elasticbeanstalk/\" rel=\"nofollow noreferrer\">Elastic Beanstalk</a> and a good Java IDE such as IntelliJ.</p>\n<p>I have no idea how you built your project, if the POM file is valid, did you build a FAT JAR that contains the required dependencies, etc.</p>\n<p>If you have never deployed a Spring Boot app to AWS, follow this example in the <a href=\"https://docs.aws.amazon.com/code-library/latest/ug/what-is-code-library.html\" rel=\"nofollow noreferrer\">AWS Code Lib</a>. Assuming you follow it end to end, you will get the app successfully deployed to AWS cloud:</p>\n<p><a href=\"https://docs.aws.amazon.com/code-library/latest/ug/cross_SubmitDataApp_java_2_topic.html\" rel=\"nofollow noreferrer\">Build an application to submit data to a DynamoDB table</a></p>\n<p>By the way, the JAR created following this has a MF that works.</p>\n"}],"owner":{"account_id":28892923,"reputation":11,"user_id":22129639,"display_name":"shreyeschekuru"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":106,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1687908309,"creation_date":1687793679,"question_id":76558178,"body_markdown":"I am currently trying to host my spring project on AWS and am trying to run my JAR file once in the EC2 instance, but I run into this error: \r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    [ec2-user@ip-10-0-6-194 ~]$ java -jar debateeventplatform-1.4-SNAPSHOT.jar\r\n    no main manifest attribute, in debateeventplatform-1.4-SNAPSHOT.jar\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nI saw that my JAR didn&#39;t have a manifest file so I added it through a maven plug-in showing: \r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    Manifest-Version: 1.0\r\n    Created-By: Shreyes\r\n    JavaFX-Version: 17\r\n    Created-By: Maven Integration for Eclipse\r\n    Main-Class: me.shreyeschekuru.dsa.Application\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n\r\nBut the error is still there. How do I fix this? \r\n\r\n**Edit**\r\nI managed to fix the no manifest error by adding in the necessary Maven-plugins into my pom file but now I run into an unable to find/load main class error: \r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    [ec2-user@ip-10-0-6-194 ~]$ java -jar debateeventplatform-1.7-SNAPSHOT.jar\r\n    Error: Could not find or load main class me.shreyeschekuru.dsa.Application\r\n    Caused by: java.lang.NoClassDefFoundError: com/vaadin/flow/component/page/AppShellConfigurator\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nIt seems like my main class directory is correct, how do I fix this? \r\n\r\nMy Manifest file:\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    Manifest-Version: 1.0\r\n    Created-By: Shreyes\r\n    JavaFX-Version: 17\r\n    Created-By: Maven Integration for Eclipse\r\n    Main-Class: me.shreyeschekuru.dsa.Application\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nMy Main Class:\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    package me.shreyeschekuru.dsa;\r\n\r\n    import com.vaadin.flow.component.dependency.NpmPackage;\r\n    import com.vaadin.flow.component.page.AppShellConfigurator;\r\n    import com.vaadin.flow.component.page.Push;\r\n    import com.vaadin.flow.theme.Theme;\r\n    import com.vaadin.flow.theme.lumo.Lumo;\r\n    import javax.sql.DataSource;\r\n    import me.shreyeschekuru.dsa.data.service.SamplePersonRepository;\r\n    import org.springframework.boot.SpringApplication;\r\n    import org.springframework.boot.autoconfigure.SpringBootApplication;\r\n    import org.springframework.boot.autoconfigure.sql.init.SqlDataSourceScriptDatabaseInitializer;\r\n    import org.springframework.boot.autoconfigure.sql.init.SqlInitializationProperties;\r\n    import org.springframework.context.annotation.Bean;\r\n\r\n    /**\r\n     * The entry point of the Spring Boot application.\r\n     *\r\n     * Use the @PWA annotation make the application installable on phones, tablets\r\n     * and some desktop browsers.\r\n     *\r\n     */\r\n    @SpringBootApplication\r\n    @NpmPackage(value = &quot;@fontsource/barlow&quot;, version = &quot;4.5.0&quot;)\r\n    @Theme(value = &quot;debateeventplatform&quot;, variant = Lumo.DARK)\r\n    @Push\r\n    public class Application implements AppShellConfigurator {\r\n\r\n        public static void main(String[] args) {\r\n\r\n            /*\r\n            Class c = java.lang.Character.Subset.class;\r\n            String innerClassName = c.getName();\r\n            System.out.println(&quot;The fully qualified name of the inner class is: &quot; + innerClassName);\r\n            */\r\n\r\n            SpringApplication.run(Application.class, args);\r\n        }\r\n\r\n        @Bean\r\n        SqlDataSourceScriptDatabaseInitializer dataSourceScriptDatabaseInitializer(DataSource dataSource,\r\n                SqlInitializationProperties properties, SamplePersonRepository repository) {\r\n            // This bean ensures the database is only initialized when empty\r\n            return new SqlDataSourceScriptDatabaseInitializer(dataSource, properties) {\r\n                @Override\r\n                public boolean initializeDatabase() {\r\n                    if (repository.count() == 0L) {\r\n                        return super.initializeDatabase();\r\n                    }\r\n                    return false;\r\n                }\r\n            };\r\n        }\r\n    }\r\n\r\n\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n","title":"When I run my JAR File I keep running into : &quot;no main manifest attribute&quot;, How do I fix this?","body":"<p>I am currently trying to host my spring project on AWS and am trying to run my JAR file once in the EC2 instance, but I run into this error:\n<div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>[ec2-user@ip-10-0-6-194 ~]$ java -jar debateeventplatform-1.4-SNAPSHOT.jar\nno main manifest attribute, in debateeventplatform-1.4-SNAPSHOT.jar</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p>I saw that my JAR didn't have a manifest file so I added it through a maven plug-in showing:</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>Manifest-Version: 1.0\nCreated-By: Shreyes\nJavaFX-Version: 17\nCreated-By: Maven Integration for Eclipse\nMain-Class: me.shreyeschekuru.dsa.Application</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p>But the error is still there. How do I fix this?</p>\n<p><strong>Edit</strong>\nI managed to fix the no manifest error by adding in the necessary Maven-plugins into my pom file but now I run into an unable to find/load main class error:</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>[ec2-user@ip-10-0-6-194 ~]$ java -jar debateeventplatform-1.7-SNAPSHOT.jar\nError: Could not find or load main class me.shreyeschekuru.dsa.Application\nCaused by: java.lang.NoClassDefFoundError: com/vaadin/flow/component/page/AppShellConfigurator</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p>It seems like my main class directory is correct, how do I fix this?</p>\n<p>My Manifest file:</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>Manifest-Version: 1.0\nCreated-By: Shreyes\nJavaFX-Version: 17\nCreated-By: Maven Integration for Eclipse\nMain-Class: me.shreyeschekuru.dsa.Application</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p>My Main Class:</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>package me.shreyeschekuru.dsa;\n\nimport com.vaadin.flow.component.dependency.NpmPackage;\nimport com.vaadin.flow.component.page.AppShellConfigurator;\nimport com.vaadin.flow.component.page.Push;\nimport com.vaadin.flow.theme.Theme;\nimport com.vaadin.flow.theme.lumo.Lumo;\nimport javax.sql.DataSource;\nimport me.shreyeschekuru.dsa.data.service.SamplePersonRepository;\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.boot.autoconfigure.sql.init.SqlDataSourceScriptDatabaseInitializer;\nimport org.springframework.boot.autoconfigure.sql.init.SqlInitializationProperties;\nimport org.springframework.context.annotation.Bean;\n\n/**\n * The entry point of the Spring Boot application.\n *\n * Use the @PWA annotation make the application installable on phones, tablets\n * and some desktop browsers.\n *\n */\n@SpringBootApplication\n@NpmPackage(value = \"@fontsource/barlow\", version = \"4.5.0\")\n@Theme(value = \"debateeventplatform\", variant = Lumo.DARK)\n@Push\npublic class Application implements AppShellConfigurator {\n\n    public static void main(String[] args) {\n\n        /*\n        Class c = java.lang.Character.Subset.class;\n        String innerClassName = c.getName();\n        System.out.println(\"The fully qualified name of the inner class is: \" + innerClassName);\n        */\n\n        SpringApplication.run(Application.class, args);\n    }\n\n    @Bean\n    SqlDataSourceScriptDatabaseInitializer dataSourceScriptDatabaseInitializer(DataSource dataSource,\n            SqlInitializationProperties properties, SamplePersonRepository repository) {\n        // This bean ensures the database is only initialized when empty\n        return new SqlDataSourceScriptDatabaseInitializer(dataSource, properties) {\n            @Override\n            public boolean initializeDatabase() {\n                if (repository.count() == 0L) {\n                    return super.initializeDatabase();\n                }\n                return false;\n            }\n        };\n    }\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"},{"tags":["java","android","kotlin","gradle","android-sdk-tools"],"answers":[{"tags":[],"owner":{"account_id":9751136,"reputation":418,"user_id":7229349,"display_name":"IamVariable"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687907468,"creation_date":1687907468,"answer_id":76569128,"question_id":76495299,"body_markdown":"I manage to complete, Its all about the setting.gradle.. we have to play around it. I moved all the files out of app directory to android directory and changed the settings.gradle as follows \r\n\r\n```include &#39;android:app&#39;``` \r\n and its working as expected.\r\n\r\nThanks!\r\n","title":"How to restructure Android application like shown?","body":"<p>I manage to complete, Its all about the setting.gradle.. we have to play around it. I moved all the files out of app directory to android directory and changed the settings.gradle as follows</p>\n<p><code>include 'android:app'</code>\nand its working as expected.</p>\n<p>Thanks!</p>\n"}],"owner":{"account_id":9751136,"reputation":418,"user_id":7229349,"display_name":"IamVariable"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1687907468,"creation_date":1686989388,"question_id":76495299,"body_markdown":"I would like to restructure my android application that uses a module sdk that sdk is dependent to another google.aar.\r\n\r\n[![enter image description here][1]][1]\r\n\r\nThe main app don&#39;t have any src directory, instead they have different android applications for internal and external demo purpose.\r\n\r\nThe lib directory is the main directory for the modules. The ModuleSDK is depends on another ```google.aar``` AAR file. \r\n\r\nnow i should able run the CustomerDemoApp &amp; InternalDemoApp depends on the needs. Those two coupled with the SDK. \r\n\r\n  [1]: https://i.stack.imgur.com/4mch5.png","title":"How to restructure Android application like shown?","body":"<p>I would like to restructure my android application that uses a module sdk that sdk is dependent to another google.aar.</p>\n<p><a href=\"https://i.stack.imgur.com/4mch5.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/4mch5.png\" alt=\"enter image description here\" /></a></p>\n<p>The main app don't have any src directory, instead they have different android applications for internal and external demo purpose.</p>\n<p>The lib directory is the main directory for the modules. The ModuleSDK is depends on another <code>google.aar</code> AAR file.</p>\n<p>now i should able run the CustomerDemoApp &amp; InternalDemoApp depends on the needs. Those two coupled with the SDK.</p>\n"},{"tags":["java","apache-spark","directed-acyclic-graphs","airflow-api"],"owner":{"account_id":2683594,"reputation":490,"user_id":2318409,"accept_rate":80,"display_name":"Gary Greenberg"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687907024,"creation_date":1687907024,"question_id":76569107,"body_markdown":"I am very new to the Airflow (tuber) and will appreciate help with it.\r\nWe have an application that submits DAGs to the tuber. Generated DAG-ID is being stored in the database. When scheduled jobs are running, task are submitted to the Spark servers for execution.\r\n\r\nNow I need to develop a daemon application that will retrieve those DAG-IDs, find DAGRun-Ids, find spark task ids and retrieve from spark servers statuses and events of those spark tasks.\r\nI am browsing Airflow API and see how to get DAG runs for a particular DAG Id, but can&#39;t find how to get further information.\r\nHowever, through Airflow UI I can see DAGRun log with spark task URIs with spark task ID which can be used to get info, I am looking for. But I don&#39;t know how to do it programmatically in Java.\r\nIf someone has done something similar, I would greatly appreciate any tips or hints. \r\n","title":"Parsing tuber logs via Airflow (tuber) API","body":"<p>I am very new to the Airflow (tuber) and will appreciate help with it.\nWe have an application that submits DAGs to the tuber. Generated DAG-ID is being stored in the database. When scheduled jobs are running, task are submitted to the Spark servers for execution.</p>\n<p>Now I need to develop a daemon application that will retrieve those DAG-IDs, find DAGRun-Ids, find spark task ids and retrieve from spark servers statuses and events of those spark tasks.\nI am browsing Airflow API and see how to get DAG runs for a particular DAG Id, but can't find how to get further information.\nHowever, through Airflow UI I can see DAGRun log with spark task URIs with spark task ID which can be used to get info, I am looking for. But I don't know how to do it programmatically in Java.\nIf someone has done something similar, I would greatly appreciate any tips or hints.</p>\n"},{"tags":["java","selenium-webdriver"],"owner":{"account_id":8115094,"reputation":3418,"user_id":6130540,"accept_rate":52,"display_name":"Clone"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687906983,"creation_date":1687902023,"question_id":76568808,"body_markdown":"How can you disable the navigator property of webdriver?\r\n\r\nI have seen this code snippet used but it does not work for me for some reason:\r\n\r\n    JavascriptExecutor js = (JavascriptExecutor) driver;\r\n    js.executeScript(&quot;Object.defineProperty(navigator, &#39;webdriver&#39;, {get: () =&gt; undefined})&quot;);\r\n\r\nSince the porperty `webdriver: true` in `console.log(netdriver)`.\r\n \r\n\r\n","title":"How can you modify navigator in webdriver?","body":"<p>How can you disable the navigator property of webdriver?</p>\n<p>I have seen this code snippet used but it does not work for me for some reason:</p>\n<pre><code>JavascriptExecutor js = (JavascriptExecutor) driver;\njs.executeScript(&quot;Object.defineProperty(navigator, 'webdriver', {get: () =&gt; undefined})&quot;);\n</code></pre>\n<p>Since the porperty <code>webdriver: true</code> in <code>console.log(netdriver)</code>.</p>\n"},{"tags":["java","networking","client-server","distributed-computing"],"comments":[{"owner":{"account_id":16878,"reputation":306143,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"score":0,"creation_date":1687886588,"post_id":76567190,"comment_id":134998839,"body_markdown":"Isn&#39;t Class.instanceOf() what you want?  Class.forName() takes a String.  All this has been part of the JDK since 1.0.   A better question is: should you do this?  Reflection might not be the best idea.  Do your clients really need this kind of flexibility?","body":"Isn&#39;t Class.instanceOf() what you want?  Class.forName() takes a String.  All this has been part of the JDK since 1.0.   A better question is: should you do this?  Reflection might not be the best idea.  Do your clients really need this kind of flexibility?"},{"owner":{"account_id":23991621,"reputation":205,"user_id":17977692,"display_name":"Francis Godinho"},"score":0,"creation_date":1687886822,"post_id":76567190,"comment_id":134998894,"body_markdown":"Would something like this work? https://stackoverflow.com/questions/6094575/creating-an-instance-using-the-class-name-and-calling-constructor","body":"Would something like this work? <a href=\"https://stackoverflow.com/questions/6094575/creating-an-instance-using-the-class-name-and-calling-constructor\" title=\"creating an instance using the class name and calling constructor\">stackoverflow.com/questions/6094575/&hellip;</a>"},{"owner":{"account_id":19431837,"reputation":47,"user_id":14212075,"display_name":"Jan"},"score":0,"creation_date":1687888540,"post_id":76567190,"comment_id":134999266,"body_markdown":"@duffymo Thanks for your answer. I don&#39;t really understand how this would work. Class.forNanme returns a Class object. But having the class object doesn&#39;t allow me to call a method on an instance of this class. What I would need is something like Object.forName(). Am I missing something?","body":"@duffymo Thanks for your answer. I don&#39;t really understand how this would work. Class.forNanme returns a Class object. But having the class object doesn&#39;t allow me to call a method on an instance of this class. What I would need is something like Object.forName(). Am I missing something?"},{"owner":{"account_id":19431837,"reputation":47,"user_id":14212075,"display_name":"Jan"},"score":0,"creation_date":1687889035,"post_id":76567190,"comment_id":134999371,"body_markdown":"@FrancisGodinho Thanks for your answer. Maybe there is some way to make it work but I cannot see it yet. What&#39;s done here is creating a new object. That wouldn&#39;t be what I intended but I would be acceptable. But in this case I would have to have some object holding the information for the constructor. This again rises the question on how to address that object. I cannot rely on using primitiv data types only.","body":"@FrancisGodinho Thanks for your answer. Maybe there is some way to make it work but I cannot see it yet. What&#39;s done here is creating a new object. That wouldn&#39;t be what I intended but I would be acceptable. But in this case I would have to have some object holding the information for the constructor. This again rises the question on how to address that object. I cannot rely on using primitiv data types only."},{"owner":{"account_id":16878,"reputation":306143,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"score":0,"creation_date":1687894179,"post_id":76567190,"comment_id":135000291,"body_markdown":"A search through SO would get you the answer.  It&#39;s not a pretty one unless all the classes you want to invoke have similar constructor arguments: https://stackoverflow.com/questions/1782598/with-java-reflection-how-to-instantiate-a-new-object-then-call-a-method-on-it","body":"A search through SO would get you the answer.  It&#39;s not a pretty one unless all the classes you want to invoke have similar constructor arguments: <a href=\"https://stackoverflow.com/questions/1782598/with-java-reflection-how-to-instantiate-a-new-object-then-call-a-method-on-it\" title=\"with java reflection how to instantiate a new object then call a method on it\">stackoverflow.com/questions/1782598/&hellip;</a>"},{"owner":{"account_id":19431837,"reputation":47,"user_id":14212075,"display_name":"Jan"},"score":0,"creation_date":1687906741,"post_id":76567190,"comment_id":135002084,"body_markdown":"@duffymo I understand the threads that you linked. But I don&#39;t understand how they should be related to my problem. The second link tells me how to instantiate an Object a class. What I want to do is getting the reference of an object that already exists.","body":"@duffymo I understand the threads that you linked. But I don&#39;t understand how they should be related to my problem. The second link tells me how to instantiate an Object a class. What I want to do is getting the reference of an object that already exists."},{"owner":{"account_id":16878,"reputation":306143,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"score":0,"creation_date":1687910578,"post_id":76567190,"comment_id":135002423,"body_markdown":"Then you should be able to pass the instance you have to Method.invoke.  Keep the instances in a HashMap and look them up by name.  I&#39;ve written code and provided links.  You should be able to figure it out from what I&#39;ve posted.  It&#39;s _four lines of code_ in the try block below.  How hard is that to understand?","body":"Then you should be able to pass the instance you have to Method.invoke.  Keep the instances in a HashMap and look them up by name.  I&#39;ve written code and provided links.  You should be able to figure it out from what I&#39;ve posted.  It&#39;s <i>four lines of code</i> in the try block below.  How hard is that to understand?"},{"owner":{"account_id":16878,"reputation":306143,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"score":0,"creation_date":1687910619,"post_id":76567190,"comment_id":135002430,"body_markdown":"I’m voting to close this question because it shows no effort on the part of the OP.","body":"I’m voting to close this question because it shows no effort on the part of the OP."},{"owner":{"account_id":19431837,"reputation":47,"user_id":14212075,"display_name":"Jan"},"score":0,"creation_date":1687911878,"post_id":76567190,"comment_id":135002538,"body_markdown":"@duffymo I am sorry man. I didn&#39;t even know of HashMap yet. I am a beginner. If you are really trying to help, why don&#39;t you just mention HashMap. It&#39;s a single word and I could have looked it up.","body":"@duffymo I am sorry man. I didn&#39;t even know of HashMap yet. I am a beginner. If you are really trying to help, why don&#39;t you just mention HashMap. It&#39;s a single word and I could have looked it up."},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1687913445,"post_id":76567190,"comment_id":135002644,"body_markdown":"You are reimplementing RMI. Why?","body":"You are reimplementing RMI. Why?"},{"owner":{"account_id":16878,"reputation":306143,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"score":0,"creation_date":1687951516,"post_id":76567190,"comment_id":135007960,"body_markdown":"I did mention HashMap.  My advice to a beginner: don&#39;t do this.  Reflection is not a good idea.  You are thinking about this problem all wrong.","body":"I did mention HashMap.  My advice to a beginner: don&#39;t do this.  Reflection is not a good idea.  You are thinking about this problem all wrong."}],"answers":[{"comments":[{"owner":{"account_id":19431837,"reputation":47,"user_id":14212075,"display_name":"Jan"},"score":0,"creation_date":1687889267,"post_id":76567422,"comment_id":134999413,"body_markdown":"Thank you for your answer. using getField() is actually a interesting way that might solve my problem in a efficient way.","body":"Thank you for your answer. using getField() is actually a interesting way that might solve my problem in a efficient way."},{"owner":{"account_id":19431837,"reputation":47,"user_id":14212075,"display_name":"Jan"},"score":0,"creation_date":1687889595,"post_id":76567422,"comment_id":134999459,"body_markdown":"Of course you are right. My project is basically non-sense because there a already existing solutions. I am just trying to understand how things work in detail by building them from scratch. In this case I want to try to develop my own protocol. I thought that the communication between sockets by using streams is quit similar to what existing protocols (such as http) do. Maybe I have to look that up more carefully.","body":"Of course you are right. My project is basically non-sense because there a already existing solutions. I am just trying to understand how things work in detail by building them from scratch. In this case I want to try to develop my own protocol. I thought that the communication between sockets by using streams is quit similar to what existing protocols (such as http) do. Maybe I have to look that up more carefully."},{"owner":{"account_id":465573,"reputation":192703,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1687894220,"post_id":76567422,"comment_id":135000299,"body_markdown":"Most principled solutions to this sort of problem do not work the way your design works.  Even if you want to reimplement a solution from scratch, you should look to other examples for their design and how they solve (or don&#39;t solve) problems like this.","body":"Most principled solutions to this sort of problem do not work the way your design works.  Even if you want to reimplement a solution from scratch, you should look to other examples for their design and how they solve (or don&#39;t solve) problems like this."},{"owner":{"account_id":19431837,"reputation":47,"user_id":14212075,"display_name":"Jan"},"score":0,"creation_date":1687907566,"post_id":76567422,"comment_id":135002169,"body_markdown":"That makes sense, yes. I am not to deep into the topic yet and I have to do further research. But I really struggle to find information on how exactly things are done. E.g. I tried to find a complete but minimalistic implementation of a http server. And well, some days later I am still searching for something I can understand. There&#39;s always information that&#39;s too general (like server and client communicate using protocols) and then there&#39;s information that&#39;s way to specific to understand the bigger picture, nothing in between. It just feels like I&#39;m missing the right keyword.","body":"That makes sense, yes. I am not to deep into the topic yet and I have to do further research. But I really struggle to find information on how exactly things are done. E.g. I tried to find a complete but minimalistic implementation of a http server. And well, some days later I am still searching for something I can understand. There&#39;s always information that&#39;s too general (like server and client communicate using protocols) and then there&#39;s information that&#39;s way to specific to understand the bigger picture, nothing in between. It just feels like I&#39;m missing the right keyword."},{"owner":{"account_id":19431837,"reputation":47,"user_id":14212075,"display_name":"Jan"},"score":0,"creation_date":1688190034,"post_id":76567422,"comment_id":135043775,"body_markdown":"I have now looked at a few more examples and I think I begin to understand what&#39;s wrong with my attempt. Am I right, that using sockets is perfectly fine but the mistake I made was using (or trying to use) reflection? I found many examples of things like simple command based chat rooms and even web servers, that just use sockets. The thing that&#39;s different is that they use if-statements instead of reflection. For clarification, I would appreciate your answer so that I know if I am on the right way. I am also looking up RPC and REST as you suggested.","body":"I have now looked at a few more examples and I think I begin to understand what&#39;s wrong with my attempt. Am I right, that using sockets is perfectly fine but the mistake I made was using (or trying to use) reflection? I found many examples of things like simple command based chat rooms and even web servers, that just use sockets. The thing that&#39;s different is that they use if-statements instead of reflection. For clarification, I would appreciate your answer so that I know if I am on the right way. I am also looking up RPC and REST as you suggested."},{"owner":{"account_id":465573,"reputation":192703,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1688250046,"post_id":76567422,"comment_id":135049366,"body_markdown":"Using reflection is definitely a bad idea and almost certainly the wrong direction.","body":"Using reflection is definitely a bad idea and almost certainly the wrong direction."}],"tags":[],"owner":{"account_id":465573,"reputation":192703,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"comment_count":6,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687887745,"creation_date":1687887745,"answer_id":76567422,"question_id":76567190,"body_markdown":"&gt; I now have reached to point where I was thinking that this &quot;feature&quot; purposely doesn&#39;t exist in Java because it would basically eliminate type safety.\r\n\r\nYou are correct.  There is no way to access variable names -- at least not local variable names -- in Java.  You can access fields, at least, with `getField(fieldName)`, but this is still a terrible idea.\r\n\r\nYou should really look into existing solutions that solve these problems in principled, cross-language ways.  Any RPC or REST system would be a good start.  This is not an area where you have to invent your own solution.","title":"How to turn a String value into a object reference in Java?","body":"<blockquote>\n<p>I now have reached to point where I was thinking that this &quot;feature&quot; purposely doesn't exist in Java because it would basically eliminate type safety.</p>\n</blockquote>\n<p>You are correct.  There is no way to access variable names -- at least not local variable names -- in Java.  You can access fields, at least, with <code>getField(fieldName)</code>, but this is still a terrible idea.</p>\n<p>You should really look into existing solutions that solve these problems in principled, cross-language ways.  Any RPC or REST system would be a good start.  This is not an area where you have to invent your own solution.</p>\n"},{"comments":[{"owner":{"account_id":19431837,"reputation":47,"user_id":14212075,"display_name":"Jan"},"score":0,"creation_date":1687912399,"post_id":76568154,"comment_id":135002577,"body_markdown":"I appreciate your answer. Still it&#39;s not really what I am look for. This way enforces the instantiation of a new object. That&#39;s not really what I want to do. I want to adress an object that already exists (and only in case that it does not exist create a new one).","body":"I appreciate your answer. Still it&#39;s not really what I am look for. This way enforces the instantiation of a new object. That&#39;s not really what I want to do. I want to adress an object that already exists (and only in case that it does not exist create a new one)."}],"tags":[],"owner":{"account_id":16878,"reputation":306143,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687906501,"creation_date":1687895129,"answer_id":76568154,"question_id":76567190,"body_markdown":"Here&#39;s an example of what is possible for you:\r\n\r\nPerson:\r\n\r\n    package reflection;\r\n    \r\n    public class Person {\r\n    \r\n        private final String firstName;\r\n        private final String lastName;\r\n    \r\n        public Person() {\r\n            this(&quot;Tom&quot;, &quot;Jones&quot;);\r\n        }\r\n    \r\n        public Person(String firstName, String lastName) {\r\n            this.firstName = firstName;\r\n            this.lastName = lastName;\r\n        }\r\n    \r\n        public String getFirstName() {\r\n            return firstName;\r\n        }\r\n    \r\n        public String getLastName() {\r\n            return lastName;\r\n        }\r\n    }\r\n\r\nAddress:\r\n\r\n    package reflection;\r\n    \r\n    public class Address {\r\n    \r\n        private final String street;\r\n        private final String city;\r\n        private final String state;\r\n        private final String zip;\r\n    \r\n        public Address() {\r\n            this(&quot;100 Fifth Avenue&quot;, &quot;New York&quot;, &quot;NY&quot;, &quot;10003&quot;);\r\n        }\r\n    \r\n        public Address(String street, String city, String state, String zip) {\r\n            this.street = street;\r\n            this.city = city;\r\n            this.state = state;\r\n            this.zip = zip;\r\n        }\r\n    \r\n        public String getStreet() {\r\n            return street;\r\n        }\r\n    \r\n        public String getCity() {\r\n            return city;\r\n        }\r\n    \r\n        public String getState() {\r\n            return state;\r\n        }\r\n    \r\n        public String getZip() {\r\n            return zip;\r\n        }\r\n    }\r\n\r\nReflectionSample:\r\n\r\n    package reflection;\r\n    \r\n    import java.lang.reflect.Constructor;\r\n    import java.lang.reflect.InvocationTargetException;\r\n    import java.lang.reflect.Method;\r\n    \r\n    /**\r\n     * @link https://stackoverflow.com/questions/76567190/how-to-turn-a-string-value-into-a-object-reference-in-java?noredirect=1#comment134999266_76567190\r\n     * @link https://stackoverflow.com/questions/1782598/with-java-reflection-how-to-instantiate-a-new-object-then-call-a-method-on-it\r\n     */\r\n    public class ReflectionSample {\r\n    \r\n        public static void main(String[] args) {\r\n            if (args.length &gt; 1) {\r\n                String className = args[0];\r\n                String methodName = args[1];\r\n                try {\r\n                    Constructor&lt;?&gt; defaultConstructor = Class.forName(className).getConstructor();\r\n                    Object instance = defaultConstructor.newInstance();\r\n                    Method method = instance.getClass().getMethod(methodName);\r\n                    System.out.println(method.invoke(instance));\r\n                } catch (ClassNotFoundException | NoSuchMethodException | InstantiationException | IllegalAccessException |\r\n                         InvocationTargetException e) {\r\n                    System.err.println(className + &quot; class with method name &quot; + methodName + &quot; not found&quot;);\r\n                }\r\n            } else {\r\n                System.out.println(&quot;Usage: reflection.ReflectionSample &lt;class&gt; &lt;method&gt;&quot;);\r\n            }\r\n        }\r\n    }\r\n\r\nThis sample will instantiate instances of `Person` and `Address` and call the method I wish on that instance.  I pass the class and method names in as command line arguments (e.g. &quot;reflection.Person getFirstName&quot; and &quot;reflection.Address getState&quot;)\r\n\r\nBut you see the problems that are built into this approach.  I would not recommend that you go this way.  You overestimate the requirement of flexibility for your clients.\r\n\r\n\r\n\r\n","title":"How to turn a String value into a object reference in Java?","body":"<p>Here's an example of what is possible for you:</p>\n<p>Person:</p>\n<pre><code>package reflection;\n\npublic class Person {\n\n    private final String firstName;\n    private final String lastName;\n\n    public Person() {\n        this(&quot;Tom&quot;, &quot;Jones&quot;);\n    }\n\n    public Person(String firstName, String lastName) {\n        this.firstName = firstName;\n        this.lastName = lastName;\n    }\n\n    public String getFirstName() {\n        return firstName;\n    }\n\n    public String getLastName() {\n        return lastName;\n    }\n}\n</code></pre>\n<p>Address:</p>\n<pre><code>package reflection;\n\npublic class Address {\n\n    private final String street;\n    private final String city;\n    private final String state;\n    private final String zip;\n\n    public Address() {\n        this(&quot;100 Fifth Avenue&quot;, &quot;New York&quot;, &quot;NY&quot;, &quot;10003&quot;);\n    }\n\n    public Address(String street, String city, String state, String zip) {\n        this.street = street;\n        this.city = city;\n        this.state = state;\n        this.zip = zip;\n    }\n\n    public String getStreet() {\n        return street;\n    }\n\n    public String getCity() {\n        return city;\n    }\n\n    public String getState() {\n        return state;\n    }\n\n    public String getZip() {\n        return zip;\n    }\n}\n</code></pre>\n<p>ReflectionSample:</p>\n<pre><code>package reflection;\n\nimport java.lang.reflect.Constructor;\nimport java.lang.reflect.InvocationTargetException;\nimport java.lang.reflect.Method;\n\n/**\n * @link https://stackoverflow.com/questions/76567190/how-to-turn-a-string-value-into-a-object-reference-in-java?noredirect=1#comment134999266_76567190\n * @link https://stackoverflow.com/questions/1782598/with-java-reflection-how-to-instantiate-a-new-object-then-call-a-method-on-it\n */\npublic class ReflectionSample {\n\n    public static void main(String[] args) {\n        if (args.length &gt; 1) {\n            String className = args[0];\n            String methodName = args[1];\n            try {\n                Constructor&lt;?&gt; defaultConstructor = Class.forName(className).getConstructor();\n                Object instance = defaultConstructor.newInstance();\n                Method method = instance.getClass().getMethod(methodName);\n                System.out.println(method.invoke(instance));\n            } catch (ClassNotFoundException | NoSuchMethodException | InstantiationException | IllegalAccessException |\n                     InvocationTargetException e) {\n                System.err.println(className + &quot; class with method name &quot; + methodName + &quot; not found&quot;);\n            }\n        } else {\n            System.out.println(&quot;Usage: reflection.ReflectionSample &lt;class&gt; &lt;method&gt;&quot;);\n        }\n    }\n}\n</code></pre>\n<p>This sample will instantiate instances of <code>Person</code> and <code>Address</code> and call the method I wish on that instance.  I pass the class and method names in as command line arguments (e.g. &quot;reflection.Person getFirstName&quot; and &quot;reflection.Address getState&quot;)</p>\n<p>But you see the problems that are built into this approach.  I would not recommend that you go this way.  You overestimate the requirement of flexibility for your clients.</p>\n"}],"owner":{"account_id":19431837,"reputation":47,"user_id":14212075,"display_name":"Jan"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":109,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1687906501,"creation_date":1687885705,"question_id":76567190,"body_markdown":"I am currently working on a very simple client-server-connection. The client and the server are connected through sockets and communicate by using streams.\r\n\r\nNow I want the client to be able to invoke methods on the server. Therefore the client should send a message to the server. This message is then split into two Strings. The first string `methodName` contains the name of the method to be called. The second String `objectName` contains the name of an object on which the method should be called.\r\n\r\nOne way to this would be by using if-statements like `if(methodName.equals(&quot;mymethod&quot;)){mymethod()};`. This method works just fine and can be extended to check for `objectName` as well. Still I am very unhappy with this solution. I want to be able to invoke a lot of different methods on a lot of different objects (even on objects that don&#39;t even exist yet). I just don&#39;t want to write thousand of if-statements or cases.\r\n\r\nThat&#39;s why I try to find a different approach. I already found a partial solution for `methodName` by using this:\r\n\r\n`java.lang.reflect.Method method = myObject.getClass().getMethod(methodName);`  \r\n`method.invoke(myObject);`\r\n\r\nThis would effectively turn the String value of `methodName` into a reference to the corresponding method. That&#39;s just what I was looking for.\r\n\r\nBut it comes with the problem that both instructions require an object reference. By now the &quot;name&quot; of that reference is still stored in `objectName` and most important, it is a String value and not a reference. What I am now looking for is a instruction like this:\r\n\r\n`Object myObject = turnTheStringValueIntoAReference(objectName);`\r\n\r\nFor now we can just assume that there already exists an object reference with the name that is stored in objectName. Otherwise there might also be a way to do something like this:\r\n\r\n`Object turnTheStringValueIntoAReference(objectName) = new Object();`\r\n\r\nI tried my best to find a way to turn a String value into a object reference but sadly I couldn&#39;t find any solution. I now have reached to point where I was thinking that this &quot;feature&quot; purposely doesn&#39;t exist in Java because it would basically eliminate type safety. Not to mention all the exceptions that might occur.\r\n\r\nHowever I still would be very happy and very thankful if anyone could tell me if there actually is a way to do this. Maybe I just didn&#39;t figure it out yet.\r\n\r\nWith further research I found out that RMI might be an alternative to this. I guess RMI would even be a much better way to this. The reason I still don&#39;t want to RMI is that I plan on expanding the server in a way that it doesn&#39;t only accept my own client but also clients that are written in different languages. I think managing this will be ways easier if the client only needs to send a message than somehow support Java RMI without being written in Java.\r\n\r\nWell, I think that&#39;s it. I would really appreciate your help.","title":"How to turn a String value into a object reference in Java?","body":"<p>I am currently working on a very simple client-server-connection. The client and the server are connected through sockets and communicate by using streams.</p>\n<p>Now I want the client to be able to invoke methods on the server. Therefore the client should send a message to the server. This message is then split into two Strings. The first string <code>methodName</code> contains the name of the method to be called. The second String <code>objectName</code> contains the name of an object on which the method should be called.</p>\n<p>One way to this would be by using if-statements like <code>if(methodName.equals(&quot;mymethod&quot;)){mymethod()};</code>. This method works just fine and can be extended to check for <code>objectName</code> as well. Still I am very unhappy with this solution. I want to be able to invoke a lot of different methods on a lot of different objects (even on objects that don't even exist yet). I just don't want to write thousand of if-statements or cases.</p>\n<p>That's why I try to find a different approach. I already found a partial solution for <code>methodName</code> by using this:</p>\n<p><code>java.lang.reflect.Method method = myObject.getClass().getMethod(methodName);</code><br />\n<code>method.invoke(myObject);</code></p>\n<p>This would effectively turn the String value of <code>methodName</code> into a reference to the corresponding method. That's just what I was looking for.</p>\n<p>But it comes with the problem that both instructions require an object reference. By now the &quot;name&quot; of that reference is still stored in <code>objectName</code> and most important, it is a String value and not a reference. What I am now looking for is a instruction like this:</p>\n<p><code>Object myObject = turnTheStringValueIntoAReference(objectName);</code></p>\n<p>For now we can just assume that there already exists an object reference with the name that is stored in objectName. Otherwise there might also be a way to do something like this:</p>\n<p><code>Object turnTheStringValueIntoAReference(objectName) = new Object();</code></p>\n<p>I tried my best to find a way to turn a String value into a object reference but sadly I couldn't find any solution. I now have reached to point where I was thinking that this &quot;feature&quot; purposely doesn't exist in Java because it would basically eliminate type safety. Not to mention all the exceptions that might occur.</p>\n<p>However I still would be very happy and very thankful if anyone could tell me if there actually is a way to do this. Maybe I just didn't figure it out yet.</p>\n<p>With further research I found out that RMI might be an alternative to this. I guess RMI would even be a much better way to this. The reason I still don't want to RMI is that I plan on expanding the server in a way that it doesn't only accept my own client but also clients that are written in different languages. I think managing this will be ways easier if the client only needs to send a message than somehow support Java RMI without being written in Java.</p>\n<p>Well, I think that's it. I would really appreciate your help.</p>\n"},{"tags":["java","arraylist","parameter-passing","this","instance-variables"],"comments":[{"owner":{"account_id":9531412,"reputation":2010,"user_id":7082956,"display_name":"Valerij Dobler"},"score":0,"creation_date":1687697802,"post_id":76550428,"comment_id":134969881,"body_markdown":"`this` doesn&#39;t reference any persistent state but only a reference to the instance of Table you are using.","body":"<code>this</code> doesn&#39;t reference any persistent state but only a reference to the instance of Table you are using."},{"owner":{"account_id":9531412,"reputation":2010,"user_id":7082956,"display_name":"Valerij Dobler"},"score":3,"creation_date":1687697898,"post_id":76550428,"comment_id":134969899,"body_markdown":"To really &quot;save&quot; the state, you would need to design you Table class to be immutable and create new Tables when the state changes.","body":"To really &quot;save&quot; the state, you would need to design you Table class to be immutable and create new Tables when the state changes."},{"owner":{"account_id":9622758,"reputation":45,"user_id":7143413,"display_name":"Stelios P.98"},"score":0,"creation_date":1687726701,"post_id":76550428,"comment_id":134973247,"body_markdown":"@ValerijDobler I created a `new` table, set its state and added it to `moves` arraylist but to no avail. Do I really need to make my whole class final?","body":"@ValerijDobler I created a <code>new</code> table, set its state and added it to <code>moves</code> arraylist but to no avail. Do I really need to make my whole class final?"},{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":1,"creation_date":1687742222,"post_id":76550428,"comment_id":134974414,"body_markdown":"You don’t necessarily need to make the whole class final, but you do need to avoid changing data that you don’t want to change.","body":"You don’t necessarily need to make the whole class final, but you do need to avoid changing data that you don’t want to change."},{"owner":{"account_id":9531412,"reputation":2010,"user_id":7082956,"display_name":"Valerij Dobler"},"score":2,"creation_date":1687767152,"post_id":76550428,"comment_id":134977256,"body_markdown":"Immutable means, that the class and its fields are not changed not internally or externally. This means, that if your fields contain collections, you have to copy them defensively before returning. Making the class final also helps that it would be extended with a mutable state. Take a look at jdk15 records.","body":"Immutable means, that the class and its fields are not changed not internally or externally. This means, that if your fields contain collections, you have to copy them defensively before returning. Making the class final also helps that it would be extended with a mutable state. Take a look at jdk15 records."}],"answers":[{"comments":[{"owner":{"account_id":9622758,"reputation":45,"user_id":7143413,"display_name":"Stelios P.98"},"score":0,"creation_date":1687765255,"post_id":76553484,"comment_id":134976918,"body_markdown":"is this considered good practice, or am I in an extreme case where the line is blurred?","body":"is this considered good practice, or am I in an extreme case where the line is blurred?"},{"owner":{"account_id":9622758,"reputation":45,"user_id":7143413,"display_name":"Stelios P.98"},"score":0,"creation_date":1687767453,"post_id":76553484,"comment_id":134977318,"body_markdown":"Also, since we have a `static ArrayList moves`, why do we need to create an other normal one inside the `generateMoves` method?","body":"Also, since we have a <code>static ArrayList moves</code>, why do we need to create an other normal one inside the <code>generateMoves</code> method?"},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":1,"creation_date":1687796896,"post_id":76553484,"comment_id":134983697,"body_markdown":"@SteliosP.98, yes, of course there are many ways to harness the data, although this design is referred to as a _&quot;utility class&quot;_.  https://en.wikipedia.org/wiki/Helper_class.","body":"@SteliosP.98, yes, of course there are many ways to harness the data, although this design is referred to as a <i>&quot;utility class&quot;</i>.  <a href=\"https://en.wikipedia.org/wiki/Helper_class\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/Helper_class</a>."},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":1,"creation_date":1687796946,"post_id":76553484,"comment_id":134983707,"body_markdown":"@SteliosP.98, in terms of the _static moves_, you&#39;re right, I forgot to remove the local variable.  So, you&#39;ll want to be appending the class field, rather.","body":"@SteliosP.98, in terms of the <i>static moves</i>, you&#39;re right, I forgot to remove the local variable.  So, you&#39;ll want to be appending the class field, rather."},{"owner":{"account_id":9622758,"reputation":45,"user_id":7143413,"display_name":"Stelios P.98"},"score":0,"creation_date":1687860411,"post_id":76553484,"comment_id":134992490,"body_markdown":"Unfortunately this still doesn&#39;t work. While `moves.add(table)` does add the table to the `moves` arraylist (if I use `moves.get(index).printTable()` right after, it does print all the states), it seems that outside of the 3rd _for_ loop scope the `moves` arraylist get only the first state as its every element. Meaning that if I use `moves.get(index).printTable()` at the end of the method, I only get the first state X amount of times.","body":"Unfortunately this still doesn&#39;t work. While <code>moves.add(table)</code> does add the table to the <code>moves</code> arraylist (if I use <code>moves.get(index).printTable()</code> right after, it does print all the states), it seems that outside of the 3rd <i>for</i> loop scope the <code>moves</code> arraylist get only the first state as its every element. Meaning that if I use <code>moves.get(index).printTable()</code> at the end of the method, I only get the first state X amount of times."},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":1,"creation_date":1687872799,"post_id":76553484,"comment_id":134995383,"body_markdown":"@SteliosP.98, I&#39;m not sure I entirely understand the application you&#39;re creating.  I recommend setting a breakpoint on the first _for-loop_ and stepping through each line.  I&#39;m sure you&#39;ll locate the inaccuracy.  Additionally, you can override the _toString_ method for both _Table_ and _Cube_, which would allow you to print out the list with _System.out.println(moves)_, or _...println(currentTable)_.","body":"@SteliosP.98, I&#39;m not sure I entirely understand the application you&#39;re creating.  I recommend setting a breakpoint on the first <i>for-loop</i> and stepping through each line.  I&#39;m sure you&#39;ll locate the inaccuracy.  Additionally, you can override the <i>toString</i> method for both <i>Table</i> and <i>Cube</i>, which would allow you to print out the list with <i>System.out.println(moves)</i>, or <i>...println(currentTable)</i>."}],"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"comment_count":6,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687796761,"creation_date":1687753024,"answer_id":76553484,"question_id":76550428,"body_markdown":"&gt; _&quot;... What am I missing here? ...&quot;_\r\n\r\nYour code is correct, you are just misinterpreting the context of the _generateMoves_ method.  \r\nThe returned _ArrayList_ will not persist, for each call&amp;mdash;there will be a new _ArrayList_ per call.\r\n\r\nThis type of method will need to be placed within a different class.  \r\nIn which, you can utilize a _ArrayList_ class field, to populate a list.\r\n\r\nConsider the following.  \r\nBy passing the _Table_ object to _generateMoves_, you can populate the class field _moves_.\r\n\r\n```java\r\nclass TableUtil {\r\n    static ArrayList&lt;Table&gt; moves = new ArrayList&lt;&gt;();\r\n\r\n    static ArrayList&lt;Table&gt; getMoves() {\r\n        return moves;\r\n    }\r\n    \r\n    static void generateMoves(Table table) {\r\n        ArrayList&lt;Cube&gt; currentTable = table.getCubes();\r\n        ArrayList&lt;Cube&gt; copyOfTable = new ArrayList&lt;Cube&gt;(currentTable);\r\n\r\n        int X = 1;\r\n        int Y = 1;\r\n        int K = table.getK();\r\n\r\n        for(Cube cube : currentTable){\r\n            int backupX = cube.getPosX();\r\n            int backupY = cube.getPosY();\r\n\r\n            for(Y = 1; Y &lt;= 3; Y++){\r\n                for(X = 1; X &lt;= 4*K; X++){\r\n                    cube.setPosX(X);\r\n                    cube.setPosY(Y);\r\n                    if(cube.isValid(copyOfTable) &amp;&amp; cube.isFree(copyOfTable)){\r\n                        table.setCubes(currentTable);\r\n\r\n                        moves.add(table);\r\n\r\n                        moves.get(0).printTable();\r\n\r\n                    }else{\r\n                        cube.setPosX(backupX);\r\n                        cube.setPosY(backupY);\r\n                        continue;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\n        moves.get(table.anyIndex).printTable();\r\n    }\r\n}\r\n```\r\n\r\nCreate your _Table_ objects, and then call the _generateMoves_ method, for each instance.\r\n\r\nFor example,\r\n\r\n```java\r\nTable tableA = new Table();\r\nTable tableB = new Table();\r\nTable tableC = new Table();\r\n\r\nTableUtil.generateMoves(tableA);\r\nTableUtil.generateMoves(tableB);\r\nTableUtil.generateMoves(tableC);\r\n\r\nArrayList&lt;Table&gt; moves = TableUtil.getMoves();\r\n```","title":"Java arraylist does not keep values that I am passing inside a method","body":"<blockquote>\n<p><em>&quot;... What am I missing here? ...&quot;</em></p>\n</blockquote>\n<p>Your code is correct, you are just misinterpreting the context of the <em>generateMoves</em> method.<br />\nThe returned <em>ArrayList</em> will not persist, for each call—there will be a new <em>ArrayList</em> per call.</p>\n<p>This type of method will need to be placed within a different class.<br />\nIn which, you can utilize a <em>ArrayList</em> class field, to populate a list.</p>\n<p>Consider the following.<br />\nBy passing the <em>Table</em> object to <em>generateMoves</em>, you can populate the class field <em>moves</em>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>class TableUtil {\n    static ArrayList&lt;Table&gt; moves = new ArrayList&lt;&gt;();\n\n    static ArrayList&lt;Table&gt; getMoves() {\n        return moves;\n    }\n    \n    static void generateMoves(Table table) {\n        ArrayList&lt;Cube&gt; currentTable = table.getCubes();\n        ArrayList&lt;Cube&gt; copyOfTable = new ArrayList&lt;Cube&gt;(currentTable);\n\n        int X = 1;\n        int Y = 1;\n        int K = table.getK();\n\n        for(Cube cube : currentTable){\n            int backupX = cube.getPosX();\n            int backupY = cube.getPosY();\n\n            for(Y = 1; Y &lt;= 3; Y++){\n                for(X = 1; X &lt;= 4*K; X++){\n                    cube.setPosX(X);\n                    cube.setPosY(Y);\n                    if(cube.isValid(copyOfTable) &amp;&amp; cube.isFree(copyOfTable)){\n                        table.setCubes(currentTable);\n\n                        moves.add(table);\n\n                        moves.get(0).printTable();\n\n                    }else{\n                        cube.setPosX(backupX);\n                        cube.setPosY(backupY);\n                        continue;\n                    }\n                }\n            }\n        }\n\n        moves.get(table.anyIndex).printTable();\n    }\n}\n</code></pre>\n<p>Create your <em>Table</em> objects, and then call the <em>generateMoves</em> method, for each instance.</p>\n<p>For example,</p>\n<pre class=\"lang-java prettyprint-override\"><code>Table tableA = new Table();\nTable tableB = new Table();\nTable tableC = new Table();\n\nTableUtil.generateMoves(tableA);\nTableUtil.generateMoves(tableB);\nTableUtil.generateMoves(tableC);\n\nArrayList&lt;Table&gt; moves = TableUtil.getMoves();\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1998882,"reputation":523,"user_id":1790382,"display_name":"kanaparthikiran"},"score":0,"creation_date":1688059564,"post_id":76569064,"comment_id":135026428,"body_markdown":"ArrayList clone() method is used to create a shallow copy of the list. In the new list, only object references are copied. If we change the object state inside the first ArrayList, then the changed object state will be reflected in the cloned ArrayList as well. If we want to keep the contents separately from source list to the target list, then deep copy is required.","body":"ArrayList clone() method is used to create a shallow copy of the list. In the new list, only object references are copied. If we change the object state inside the first ArrayList, then the changed object state will be reflected in the cloned ArrayList as well. If we want to keep the contents separately from source list to the target list, then deep copy is required."}],"tags":[],"owner":{"account_id":9622758,"reputation":45,"user_id":7143413,"display_name":"Stelios P.98"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1687906109,"creation_date":1687906109,"answer_id":76569064,"question_id":76550428,"body_markdown":"I don&#39;t know why (please someone explain that to me), but after i spent a very long time trial-and-erroring, the solution is to make a method that creates a &quot;deep&quot; copy of the ArrayList in question like so:\r\n\r\n```java\r\nprivate ArrayList&lt;Cube&gt; createCopyOfTable(ArrayList&lt;Cube&gt; toCopy){\r\n        ArrayList&lt;Cube&gt; copy = new ArrayList&lt;&gt;();\r\n\r\n        for(Cube cube : toCopy){\r\n            Cube _cube = new Cube(cube.getID(), cube.getPosX(), cube.getPosY());\r\n            copy.add(_cube);\r\n        }\r\n\r\n        return copy;\r\n    }\r\n```\r\n\r\nand the updated part on my `generateMoves()` method:\r\n\r\n```java\r\n.\r\n.\r\n.\r\nfor(X = 1; X &lt;= 4*K; X++){\r\n    cube.setPosX(X);\r\n    cube.setPosY(Y);\r\n\r\n    ArrayList&lt;Cube&gt; copyOfTable = createCopyOfTable(currentTable);\r\n\r\n    if(cube.isValid(copyOfTable) &amp;&amp; cube.isFree(copyOfTable)){\r\n        Table table = new Table(K);\r\n        table.setCubes(copyOfTable);\r\n                        \r\n        this.moves.add(table);\r\n    }else{\r\n        cube.setPosX(backupX);\r\n        cube.setPosY(backupY);\r\n        continue;\r\n    }\r\n}\r\n.\r\n.\r\n.\r\n```","title":"Java arraylist does not keep values that I am passing inside a method","body":"<p>I don't know why (please someone explain that to me), but after i spent a very long time trial-and-erroring, the solution is to make a method that creates a &quot;deep&quot; copy of the ArrayList in question like so:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private ArrayList&lt;Cube&gt; createCopyOfTable(ArrayList&lt;Cube&gt; toCopy){\n        ArrayList&lt;Cube&gt; copy = new ArrayList&lt;&gt;();\n\n        for(Cube cube : toCopy){\n            Cube _cube = new Cube(cube.getID(), cube.getPosX(), cube.getPosY());\n            copy.add(_cube);\n        }\n\n        return copy;\n    }\n</code></pre>\n<p>and the updated part on my <code>generateMoves()</code> method:</p>\n<pre class=\"lang-java prettyprint-override\"><code>.\n.\n.\nfor(X = 1; X &lt;= 4*K; X++){\n    cube.setPosX(X);\n    cube.setPosY(Y);\n\n    ArrayList&lt;Cube&gt; copyOfTable = createCopyOfTable(currentTable);\n\n    if(cube.isValid(copyOfTable) &amp;&amp; cube.isFree(copyOfTable)){\n        Table table = new Table(K);\n        table.setCubes(copyOfTable);\n                        \n        this.moves.add(table);\n    }else{\n        cube.setPosX(backupX);\n        cube.setPosY(backupY);\n        continue;\n    }\n}\n.\n.\n.\n</code></pre>\n"}],"owner":{"account_id":9622758,"reputation":45,"user_id":7143413,"display_name":"Stelios P.98"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":95,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76569064,"answer_count":2,"score":1,"last_activity_date":1687906109,"creation_date":1687696768,"question_id":76550428,"body_markdown":"I am making an AI game where the cpu stacks N numbered cubes in a table in 3 rows using the Uniform Cost Search algorithm. What I&#39;m trying to do is the `generateMoves()` method, which will return an ArrayList with all the possible moves from a given state.\r\n\r\nCube is a class representing a cube with its own ID (the number of the cube), X axis position and Y axis position.\r\n\r\nK is user input\r\n\r\n`getCubes()` is a method that returns an `ArrayList&lt;Cube&gt;` which is the current state of the table.\r\n\r\n`setCubes()` is a method that takes an `ArrayList&lt;Cube&gt;` and sets that list as the current state.\r\n\r\n`isValid()` is a Cube method that checks the copyOfTable list if the given cube is in a valid position.\r\n\r\n`isFree()` is a Cube method that checks the copyOfTable list if the given cube is free to be moved.\r\n\r\n```java\r\npublic class Table{\r\n  private fields\r\n\r\n  constructor{}\r\n\r\n  public Arraylist&lt;Table&gt; generateMoves(){\r\n    Arraylist&lt;Table&gt; moves = new ArrayList&lt;Table&gt;();\r\n    ArrayList&lt;Cube&gt; currentTable = this.getCubes();\r\n    ArrayList&lt;Cube&gt; copyOfTable = new ArrayList&lt;Cube&gt;(currentTable);\r\n\r\n    int X = 1;\r\n    int Y = 1;\r\n    int K = this.getK();\r\n\r\n    for(Cube cube : currentTable){\r\n      int backupX = cube.getPosX();\r\n      int backupY = cube.getPosY();\r\n\r\n      for(Y = 1; Y &lt;= 3; Y++){\r\n        for(X = 1; X &lt;= 4*K; X++){\r\n          cube.setPosX(X);\r\n          cube.setPosY(Y);\r\n          if(cube.isValid(copyOfTable) &amp;&amp; cube.isFree(copyOfTable)){\r\n            this.setCubes(currentTable);\r\n\r\n            moves.add(this);\r\n\r\n            moves.get(0).printTable();\r\n\r\n          }else{\r\n            cube.setPosX(backupX);\r\n            cube.setPosY(backupY);\r\n            continue;\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\n    moves.get(anyIndex).printTable();\r\n\r\n    return moves;\r\n  }\r\n}\r\n```\r\n\r\n```java\r\n// main is in a different file\r\nmain(){\r\n  ArrayList&lt;Table&gt; moves = new ArrayList&lt;Table&gt;();\r\n  Table table = new Table();\r\n  \r\n  moves = table.generateMoves();\r\n}\r\n```\r\n\r\nWhat I want is the `moves.add(this)` to add the current state of the board in the `moves` arraylist, so that I can return all the tables (states) that are possible to be generated by the given table.\r\n\r\nThe problem is that the first `printTable()` (inside the 3rd for loop), prints every state that can be generated. Not only the first one that I ask it for.\r\n\r\nThe second `printTable()` (above the return statement), no matter the index, only prints the first state of the table. \r\n\r\nWhat am I missing here?\r\n\r\n\r\nI tried the above code","title":"Java arraylist does not keep values that I am passing inside a method","body":"<p>I am making an AI game where the cpu stacks N numbered cubes in a table in 3 rows using the Uniform Cost Search algorithm. What I'm trying to do is the <code>generateMoves()</code> method, which will return an ArrayList with all the possible moves from a given state.</p>\n<p>Cube is a class representing a cube with its own ID (the number of the cube), X axis position and Y axis position.</p>\n<p>K is user input</p>\n<p><code>getCubes()</code> is a method that returns an <code>ArrayList&lt;Cube&gt;</code> which is the current state of the table.</p>\n<p><code>setCubes()</code> is a method that takes an <code>ArrayList&lt;Cube&gt;</code> and sets that list as the current state.</p>\n<p><code>isValid()</code> is a Cube method that checks the copyOfTable list if the given cube is in a valid position.</p>\n<p><code>isFree()</code> is a Cube method that checks the copyOfTable list if the given cube is free to be moved.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Table{\n  private fields\n\n  constructor{}\n\n  public Arraylist&lt;Table&gt; generateMoves(){\n    Arraylist&lt;Table&gt; moves = new ArrayList&lt;Table&gt;();\n    ArrayList&lt;Cube&gt; currentTable = this.getCubes();\n    ArrayList&lt;Cube&gt; copyOfTable = new ArrayList&lt;Cube&gt;(currentTable);\n\n    int X = 1;\n    int Y = 1;\n    int K = this.getK();\n\n    for(Cube cube : currentTable){\n      int backupX = cube.getPosX();\n      int backupY = cube.getPosY();\n\n      for(Y = 1; Y &lt;= 3; Y++){\n        for(X = 1; X &lt;= 4*K; X++){\n          cube.setPosX(X);\n          cube.setPosY(Y);\n          if(cube.isValid(copyOfTable) &amp;&amp; cube.isFree(copyOfTable)){\n            this.setCubes(currentTable);\n\n            moves.add(this);\n\n            moves.get(0).printTable();\n\n          }else{\n            cube.setPosX(backupX);\n            cube.setPosY(backupY);\n            continue;\n          }\n        }\n      }\n    }\n\n    moves.get(anyIndex).printTable();\n\n    return moves;\n  }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>// main is in a different file\nmain(){\n  ArrayList&lt;Table&gt; moves = new ArrayList&lt;Table&gt;();\n  Table table = new Table();\n  \n  moves = table.generateMoves();\n}\n</code></pre>\n<p>What I want is the <code>moves.add(this)</code> to add the current state of the board in the <code>moves</code> arraylist, so that I can return all the tables (states) that are possible to be generated by the given table.</p>\n<p>The problem is that the first <code>printTable()</code> (inside the 3rd for loop), prints every state that can be generated. Not only the first one that I ask it for.</p>\n<p>The second <code>printTable()</code> (above the return statement), no matter the index, only prints the first state of the table.</p>\n<p>What am I missing here?</p>\n<p>I tried the above code</p>\n"},{"tags":["java","ruby","jruby","graalvm","truffleruby"],"comments":[{"owner":{"account_id":2244556,"reputation":26193,"user_id":1978251,"accept_rate":100,"display_name":"engineersmnky"},"score":0,"creation_date":1687884842,"post_id":76567012,"comment_id":134998448,"body_markdown":"Not sure if this is what you are looking for: [Polyglot](https://github.com/oracle/truffleruby/blob/master/doc/user/polyglot.md#loading-code-written-in-foreign-languages), also appears that TruffleRuby supports a JVM (Virtual Machine that powers JRuby) implementation by using the `--jvm` runtime configuration.","body":"Not sure if this is what you are looking for: <a href=\"https://github.com/oracle/truffleruby/blob/master/doc/user/polyglot.md#loading-code-written-in-foreign-languages\" rel=\"nofollow noreferrer\">Polyglot</a>, also appears that TruffleRuby supports a JVM (Virtual Machine that powers JRuby) implementation by using the <code>--jvm</code> runtime configuration."},{"owner":{"account_id":141177,"reputation":542,"user_id":348020,"accept_rate":72,"display_name":"David Semeria"},"score":0,"creation_date":1687885068,"post_id":76567012,"comment_id":134998489,"body_markdown":"Thanks @engineersmnky, I should have specified that we are running Truffle Ruby on the GraalVM. I&#39;ll update the question now.","body":"Thanks @engineersmnky, I should have specified that we are running Truffle Ruby on the GraalVM. I&#39;ll update the question now."},{"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1687885608,"post_id":76567012,"comment_id":134998618,"body_markdown":"Please provide a [minimal reproducible example](http://stackoverflow.com/help/minimal-reproducible-example) of how you are extending Java classes in JRuby.","body":"Please provide a <a href=\"http://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> of how you are extending Java classes in JRuby."},{"owner":{"account_id":2244556,"reputation":26193,"user_id":1978251,"accept_rate":100,"display_name":"engineersmnky"},"score":0,"creation_date":1687895108,"post_id":76567012,"comment_id":135000464,"body_markdown":"I don&#39;t use either so I am just trying to help as I can. I am assuming you made your way through GraalVM&#39;s Migration suggestions found here: https://www.graalvm.org/latest/reference-manual/ruby/JRubyMigration/. It seems to do a reasonable job of explaining how to implement and what Truffle can and cannot do.","body":"I don&#39;t use either so I am just trying to help as I can. I am assuming you made your way through GraalVM&#39;s Migration suggestions found here: <a href=\"https://www.graalvm.org/latest/reference-manual/ruby/JRubyMigration/\" rel=\"nofollow noreferrer\">graalvm.org/latest/reference-manual/ruby/JRubyMigration</a>. It seems to do a reasonable job of explaining how to implement and what Truffle can and cannot do."}],"answers":[{"comments":[{"owner":{"account_id":141177,"reputation":542,"user_id":348020,"accept_rate":72,"display_name":"David Semeria"},"score":0,"creation_date":1687907530,"post_id":76569036,"comment_id":135002166,"body_markdown":"Thanks @eregon. My point is not really about [] and []=, the JRuby monkey patch file for GMap runs to about 200 lines and includes methods which only makes sense in Ruby, such as {each}. It would be very nice if I could find a way of this working under Truffle Ruby.","body":"Thanks @eregon. My point is not really about [] and []=, the JRuby monkey patch file for GMap runs to about 200 lines and includes methods which only makes sense in Ruby, such as {each}. It would be very nice if I could find a way of this working under Truffle Ruby."},{"owner":{"account_id":165393,"reputation":1496,"user_id":388803,"display_name":"eregon"},"score":0,"creation_date":1687946147,"post_id":76569036,"comment_id":135006893,"body_markdown":"`each` is also defined, see https://github.com/oracle/truffleruby/blob/0d3058b07bf72e9a95bf48b07a32219b8d31ce77/src/main/ruby/truffleruby/core/truffle/polyglot.rb#L92-L183\n\n`$ ruby -e &#39;p Java.type(&quot;java.util.HashMap&quot;).new.class.ancestors&#39;`\n`[Polyglot::ForeignHash, Polyglot::HashTrait, Enumerable, Polyglot::ForeignObject, Polyglot::ObjectTrait, Object, Kernel, BasicObject]`\n`$ ruby -e &#39;p Polyglot::HashTrait.instance_methods&#39;`\n`[:empty?, :tally, :zip, :find_all, :any?, :max_by, ...]`","body":"<code>each</code> is also defined, see <a href=\"https://github.com/oracle/truffleruby/blob/0d3058b07bf72e9a95bf48b07a32219b8d31ce77/src/main/ruby/truffleruby/core/truffle/polyglot.rb#L92-L183\" rel=\"nofollow noreferrer\">github.com/oracle/truffleruby/blob/&hellip;</a>  <code>$ ruby -e &#39;p Java.type(&quot;java.util.HashMap&quot;).new.class.ancestors&#39;</code> <code>[Polyglot::ForeignHash, Polyglot::HashTrait, Enumerable, Polyglot::ForeignObject, Polyglot::ObjectTrait, Object, Kernel, BasicObject]</code> <code>$ ruby -e &#39;p Polyglot::HashTrait.instance_methods&#39;</code> <code>[:empty?, :tally, :zip, :find_all, :any?, :max_by, ...]</code>"},{"owner":{"account_id":165393,"reputation":1496,"user_id":388803,"display_name":"eregon"},"score":0,"creation_date":1687946328,"post_id":76569036,"comment_id":135006930,"body_markdown":"I understand you want to define Ruby methods on a Java class, I need an example which doesn&#39;t already just work when the Java class implements the right interface (here `java.util.Map`). Could you open an issue at https://github.com/oracle/truffleruby/issues with such an example?","body":"I understand you want to define Ruby methods on a Java class, I need an example which doesn&#39;t already just work when the Java class implements the right interface (here <code>java.util.Map</code>). Could you open an issue at <a href=\"https://github.com/oracle/truffleruby/issues\" rel=\"nofollow noreferrer\">github.com/oracle/truffleruby/issues</a> with such an example?"},{"owner":{"account_id":141177,"reputation":542,"user_id":348020,"accept_rate":72,"display_name":"David Semeria"},"score":0,"creation_date":1687970336,"post_id":76569036,"comment_id":135012336,"body_markdown":"I misread your original comment, I didn&#39;t realize that behind the scenes polyglot maps the Ruby methods to java calls. I&#39;ll try adding the Java.util.HashMap interface to GMap and get back to you.","body":"I misread your original comment, I didn&#39;t realize that behind the scenes polyglot maps the Ruby methods to java calls. I&#39;ll try adding the Java.util.HashMap interface to GMap and get back to you."},{"owner":{"account_id":165393,"reputation":1496,"user_id":388803,"display_name":"eregon"},"score":0,"creation_date":1688468385,"post_id":76569036,"comment_id":135075358,"body_markdown":"Tracked in https://github.com/oracle/truffleruby/issues/3139","body":"Tracked in <a href=\"https://github.com/oracle/truffleruby/issues/3139\" rel=\"nofollow noreferrer\">github.com/oracle/truffleruby/issues/3139</a>"}],"tags":[],"owner":{"account_id":165393,"reputation":1496,"user_id":388803,"display_name":"eregon"},"comment_count":5,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1687905437,"creation_date":1687905437,"answer_id":76569036,"question_id":76567012,"body_markdown":"Does `GMap` implement `java.util.Map`?\r\nIf so, `[]` and `[]=` are already automatically defined, as documented [here](https://github.com/oracle/truffleruby/blob/master/doc/contributor/interop_implicit_api.md).","title":"Extending (monkey patching) Java classes in Truffle Ruby","body":"<p>Does <code>GMap</code> implement <code>java.util.Map</code>?\nIf so, <code>[]</code> and <code>[]=</code> are already automatically defined, as documented <a href=\"https://github.com/oracle/truffleruby/blob/master/doc/contributor/interop_implicit_api.md\" rel=\"nofollow noreferrer\">here</a>.</p>\n"}],"owner":{"account_id":141177,"reputation":542,"user_id":348020,"accept_rate":72,"display_name":"David Semeria"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":117,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1687905437,"creation_date":1687884308,"question_id":76567012,"body_markdown":"I&#39;m currently checking the possibility of porting a big project from JRuby to Truffle Ruby and have hit a potential deal breaker in that the truffle documentation says Java classes cannot be reopened.\r\n\r\nWe are using the `polyglot` package from the GraalVM library.\r\n\r\nOur project uses a proprietary Java map implementation (called GMap) which is used practically everywhere in our ruby code base. JRuby allows the Java class to be extended, which is very useful - not least to hide the strict Java typing.\r\n\r\n For example, in Java we might have:\r\n\r\n    GMap map = new GMap();\r\n    map.put(&quot;k1&quot;,&quot;test&quot;);\r\n    map.put(&quot;k2&quot;, 123);\r\n    String s = map.getStr(&quot;k1&quot;); \r\n    int i = map.getInt(&quot;k2&quot;);\r\n    ...\r\n\r\nWhereas JRuby lets you add convenience methods to the Java class:\r\n\r\n    map = GMap.new\r\n    map[:key1] = &#39;test&#39;\r\n    map[:key2] = 123\r\n    s = map[:key1]\r\n    i = map[:key2]\r\n    ...\r\n...which is much cleaner.\r\n\r\nDoes anyone know of a way of replicating this behavior in Truffle Ruby?\r\n\r\nEDIT:\r\n\r\nIn reply to aled&#39;s comment, here is an example of a JRuby monkey patch which has been modified to use `polyglot` syntax:\r\n\r\n    Java.import &#39;org.jellyfish.gmap.GMap&#39;\r\n    \r\n    class GMap\r\n      def [] (key)\r\n        self.__send__(:getObj, [java.lang.String], \r\n          key.to_s.to_java(:string)) \r\n        end\r\n      end\r\n    end \r\n  \r\nThe second line of code fails with the error:\r\n\r\n&gt; #&lt;Polyglot::ForeignClass[Java] type org.jellyfish.gmap.GMap&gt; is not a class\r\n\r\nTo reproduce the error any standard java class can be used.","title":"Extending (monkey patching) Java classes in Truffle Ruby","body":"<p>I'm currently checking the possibility of porting a big project from JRuby to Truffle Ruby and have hit a potential deal breaker in that the truffle documentation says Java classes cannot be reopened.</p>\n<p>We are using the <code>polyglot</code> package from the GraalVM library.</p>\n<p>Our project uses a proprietary Java map implementation (called GMap) which is used practically everywhere in our ruby code base. JRuby allows the Java class to be extended, which is very useful - not least to hide the strict Java typing.</p>\n<p>For example, in Java we might have:</p>\n<pre><code>GMap map = new GMap();\nmap.put(&quot;k1&quot;,&quot;test&quot;);\nmap.put(&quot;k2&quot;, 123);\nString s = map.getStr(&quot;k1&quot;); \nint i = map.getInt(&quot;k2&quot;);\n...\n</code></pre>\n<p>Whereas JRuby lets you add convenience methods to the Java class:</p>\n<pre><code>map = GMap.new\nmap[:key1] = 'test'\nmap[:key2] = 123\ns = map[:key1]\ni = map[:key2]\n...\n</code></pre>\n<p>...which is much cleaner.</p>\n<p>Does anyone know of a way of replicating this behavior in Truffle Ruby?</p>\n<p>EDIT:</p>\n<p>In reply to aled's comment, here is an example of a JRuby monkey patch which has been modified to use <code>polyglot</code> syntax:</p>\n<pre><code>Java.import 'org.jellyfish.gmap.GMap'\n\nclass GMap\n  def [] (key)\n    self.__send__(:getObj, [java.lang.String], \n      key.to_s.to_java(:string)) \n    end\n  end\nend \n</code></pre>\n<p>The second line of code fails with the error:</p>\n<blockquote>\n<p>#&lt;Polyglot::ForeignClass[Java] type org.jellyfish.gmap.GMap&gt; is not a class</p>\n</blockquote>\n<p>To reproduce the error any standard java class can be used.</p>\n"},{"tags":["java","errorprone"],"comments":[{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":0,"creation_date":1687654129,"post_id":76541164,"comment_id":134966814,"body_markdown":"Can you explain what the code is supposed to do and add more context?","body":"Can you explain what the code is supposed to do and add more context?"},{"owner":{"account_id":14482834,"reputation":3924,"user_id":10461625,"display_name":"PatPanda"},"score":0,"creation_date":1687903884,"post_id":76541164,"comment_id":135001782,"body_markdown":"Make sense, added more background","body":"Make sense, added more background"}],"owner":{"account_id":14482834,"reputation":3924,"user_id":10461625,"display_name":"PatPanda"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687903865,"creation_date":1687531370,"question_id":76541164,"body_markdown":"*What I am trying to achieve:*\r\n\r\nI have this piece of code I would like to improve:\r\n\r\nAs part of a Spring project (but this is really not a Spring question)\r\n\r\nI have a straightforward piece of code that looks like this:\r\n\r\n```\r\n    private String transform(String input) {\r\n        Function&lt;String, String&gt; transform = functionCatalog.lookup(&quot;theVeryComplexFunction&quot;);\r\n        String output = transform.apply(input);\r\n```\r\n\r\nI test coverage on the &quot;theVeryComplexFunction&quot; method. With that said, in my code, I would like to make available some dummies, such as:\r\n\r\n```\r\nFunctionCatalog functionCatalog = new FunctionCatalog() {\r\n            @Override\r\n            public &lt;T&gt; T lookup(Class&lt;?&gt; type, String functionDefinition, String... expectedOutputMimeTypes) {\r\n                return (T) (Function&lt;String, String&gt;) s -&gt; &quot;dummy&quot;;\r\n            }\r\n\r\n            @Override\r\n            public Set&lt;String&gt; getNames(Class&lt;?&gt; type) {\r\n                return null;\r\n            }\r\n        };\r\n```\r\n\r\nWhen running couple of static analysis, I am always getting:\r\n\r\n```\r\n[TypeParameterUnusedInFormals] Declaring a type parameter that is only used in the return type is a misuse of generics: operations on the type parameter are unchecked, it hides unsafe casts at invocations of the method, and it interacts badly with method overload resolution.\r\n```\r\n\r\n*What I tried:*\r\n\r\nI tried removing the cast, unfortunately, it seems not to be the right direction.\r\n\r\n*Question:*\r\n\r\nHow to declare this method, and be able to fix this scan result?","title":"operations on the type parameter are unchecked, it hides unsafe casts at invocations of the method, and it interacts badly with method overload","body":"<p><em>What I am trying to achieve:</em></p>\n<p>I have this piece of code I would like to improve:</p>\n<p>As part of a Spring project (but this is really not a Spring question)</p>\n<p>I have a straightforward piece of code that looks like this:</p>\n<pre><code>    private String transform(String input) {\n        Function&lt;String, String&gt; transform = functionCatalog.lookup(&quot;theVeryComplexFunction&quot;);\n        String output = transform.apply(input);\n</code></pre>\n<p>I test coverage on the &quot;theVeryComplexFunction&quot; method. With that said, in my code, I would like to make available some dummies, such as:</p>\n<pre><code>FunctionCatalog functionCatalog = new FunctionCatalog() {\n            @Override\n            public &lt;T&gt; T lookup(Class&lt;?&gt; type, String functionDefinition, String... expectedOutputMimeTypes) {\n                return (T) (Function&lt;String, String&gt;) s -&gt; &quot;dummy&quot;;\n            }\n\n            @Override\n            public Set&lt;String&gt; getNames(Class&lt;?&gt; type) {\n                return null;\n            }\n        };\n</code></pre>\n<p>When running couple of static analysis, I am always getting:</p>\n<pre><code>[TypeParameterUnusedInFormals] Declaring a type parameter that is only used in the return type is a misuse of generics: operations on the type parameter are unchecked, it hides unsafe casts at invocations of the method, and it interacts badly with method overload resolution.\n</code></pre>\n<p><em>What I tried:</em></p>\n<p>I tried removing the cast, unfortunately, it seems not to be the right direction.</p>\n<p><em>Question:</em></p>\n<p>How to declare this method, and be able to fix this scan result?</p>\n"},{"tags":["java","spring","spring-mvc","spring-security"],"comments":[{"owner":{"account_id":6463892,"reputation":15974,"user_id":5277820,"accept_rate":68,"display_name":"dur"},"score":0,"creation_date":1510230277,"post_id":47201086,"comment_id":81351837,"body_markdown":"Is that your only configuration or do you have more configurations? And do you send any `Authentication` header in your request? And don&#39;t call `super.configure(http);`, it overrides your configuration.","body":"Is that your only configuration or do you have more configurations? And do you send any <code>Authentication</code> header in your request? And don&#39;t call <code>super.configure(http);</code>, it overrides your configuration."}],"answers":[{"tags":[],"owner":{"account_id":1229539,"reputation":82701,"user_id":1194415,"accept_rate":76,"display_name":"membersound"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1687903084,"creation_date":1510229744,"answer_id":47201611,"question_id":47201086,"body_markdown":"Use a different method of WebSecurityConfigurerAdapter:\r\n\r\n    @Override\r\n    public void configure(WebSecurity web) throws Exception {\r\n    \tweb.ignoring().antMatchers(&quot;/my/**&quot;);\r\n    }","title":"How to exclude path from spring-security basic auth?","body":"<p>Use a different method of WebSecurityConfigurerAdapter:</p>\n<pre><code>@Override\npublic void configure(WebSecurity web) throws Exception {\n    web.ignoring().antMatchers(&quot;/my/**&quot;);\n}\n</code></pre>\n"}],"owner":{"account_id":1229539,"reputation":82701,"user_id":1194415,"accept_rate":76,"display_name":"membersound"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2963,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":47201611,"answer_count":1,"score":1,"last_activity_date":1687903084,"creation_date":1510228101,"question_id":47201086,"body_markdown":"I&#39;m using basic authentication with `spring-security` (`security.basic.enabled=true`), and want to exclude a certain path and all sub-paths.\r\n\r\nThe following does not work:\r\n\r\n    @Configuration\r\n    public class WildcardConfig extends WebSecurityConfigurerAdapter {\r\n        @Override\r\n    \tprotected void configure(HttpSecurity http) throws Exception {\r\n    \t\tsuper.configure(http);\r\n    \r\n    \t\t//allow anonymous access to all sub paths\r\n    \t\thttp.authorizeRequests().antMatchers(&quot;/my/**&quot;).permitAll();\r\n    \t}\r\n    }\r\n    \r\n    @RestController\r\n    public class SubController {\r\n    \t@GetMapping(&quot;/my/sub/{id}&quot;)\r\n    \tpublic String test(@PathVariable id) {\r\n    \t\treturn &quot;got: &quot; + id;\r\n    \t}\r\n    }\r\n\r\nWhen I call `localhost:8080/my/sub/123`.\r\n\r\nResult: 401 not authorized.\r\n\r\nWhy?\r\n","title":"How to exclude path from spring-security basic auth?","body":"<p>I'm using basic authentication with <code>spring-security</code> (<code>security.basic.enabled=true</code>), and want to exclude a certain path and all sub-paths.</p>\n\n<p>The following does not work:</p>\n\n<pre><code>@Configuration\npublic class WildcardConfig extends WebSecurityConfigurerAdapter {\n    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n        super.configure(http);\n\n        //allow anonymous access to all sub paths\n        http.authorizeRequests().antMatchers(\"/my/**\").permitAll();\n    }\n}\n\n@RestController\npublic class SubController {\n    @GetMapping(\"/my/sub/{id}\")\n    public String test(@PathVariable id) {\n        return \"got: \" + id;\n    }\n}\n</code></pre>\n\n<p>When I call <code>localhost:8080/my/sub/123</code>.</p>\n\n<p>Result: 401 not authorized.</p>\n\n<p>Why?</p>\n"},{"tags":["java","generics"],"comments":[{"owner":{"account_id":2227719,"reputation":887,"user_id":1966079,"display_name":"Guilherme"},"score":0,"creation_date":1687902018,"post_id":76568789,"comment_id":135001553,"body_markdown":"why not create a new using the constructor that receives a collection?\nList&lt;T&gt; list = new ArrayList&lt;&gt;(c0);","body":"why not create a new using the constructor that receives a collection? List&lt;T&gt; list = new ArrayList&lt;&gt;(c0);"}],"answers":[{"comments":[{"owner":{"account_id":2614493,"reputation":534,"user_id":2263876,"display_name":"Ernie Rael"},"score":0,"creation_date":1687915956,"post_id":76568819,"comment_id":135002839,"body_markdown":"Feels like the first time I&#39;ve really looked at the &quot;Collections.unmodifiable*&quot; signatures. Thanks.","body":"Feels like the first time I&#39;ve really looked at the &quot;Collections.unmodifiable*&quot; signatures. Thanks."}],"tags":[],"owner":{"account_id":465573,"reputation":192703,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"comment_count":1,"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1687902159,"creation_date":1687902159,"answer_id":76568819,"question_id":76568789,"body_markdown":"It _is_ safe because the collection is unmodifiable.  That said, there is a neat and simple way to take advantage of that:\r\n\r\n```\r\nCollection&lt;T&gt; c = Collections.unmodifiableCollection(c0);\r\n```\r\n\r\n...which actually enforces the unmodifiability and allows you to upcast in that way.","title":"Is it safe to cast an unmodifiable Collection&lt;? extends T&gt; to Collection&lt;T&gt;","body":"<p>It <em>is</em> safe because the collection is unmodifiable.  That said, there is a neat and simple way to take advantage of that:</p>\n<pre><code>Collection&lt;T&gt; c = Collections.unmodifiableCollection(c0);\n</code></pre>\n<p>...which actually enforces the unmodifiability and allows you to upcast in that way.</p>\n"}],"owner":{"account_id":2614493,"reputation":534,"user_id":2263876,"display_name":"Ernie Rael"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":61,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76568819,"answer_count":1,"score":1,"last_activity_date":1687903065,"creation_date":1687901794,"question_id":76568789,"body_markdown":"I&#39;m working with an old API that has a method that returns Collection&lt;? extends T&gt;; the API says the returned result is unmodifiable. It&#39;s considered bad form to return a bounded wildcard according to *Effective Java*. I&#39;ve implemented a wrapper function so new code looks clean. It does\r\n```\r\n    Collection&lt;? extends T&gt; c0 = oldAPI();\r\n    Collection&lt;T&gt; c = (Collection&lt;T&gt;)c0; // &quot;unchecked cast&quot; warning\r\n    return c;\r\n```\r\n\r\nIs the cast &quot;safe&quot; in all situations? Most? If not, what&#39;s an example?\r\n\r\nIt seems like the cast is safe, and with limited testing things work as expected. A `@suppressWarnings(&quot;unchecked&quot;)` avoids a warning.\r\n\r\nPerhaps what makes it safe is that the returned collection is unmodifiable.","title":"Is it safe to cast an unmodifiable Collection&lt;? extends T&gt; to Collection&lt;T&gt;","body":"<p>I'm working with an old API that has a method that returns Collection&lt;? extends T&gt;; the API says the returned result is unmodifiable. It's considered bad form to return a bounded wildcard according to <em>Effective Java</em>. I've implemented a wrapper function so new code looks clean. It does</p>\n<pre><code>    Collection&lt;? extends T&gt; c0 = oldAPI();\n    Collection&lt;T&gt; c = (Collection&lt;T&gt;)c0; // &quot;unchecked cast&quot; warning\n    return c;\n</code></pre>\n<p>Is the cast &quot;safe&quot; in all situations? Most? If not, what's an example?</p>\n<p>It seems like the cast is safe, and with limited testing things work as expected. A <code>@suppressWarnings(&quot;unchecked&quot;)</code> avoids a warning.</p>\n<p>Perhaps what makes it safe is that the returned collection is unmodifiable.</p>\n"},{"tags":["java","c","java-native-interface","swig"],"comments":[{"owner":{"account_id":2385543,"reputation":974,"user_id":2086872,"accept_rate":100,"display_name":"The Welder"},"score":0,"creation_date":1688152439,"post_id":76565686,"comment_id":135040710,"body_markdown":"Is there an actual question here??  There&#39;s a lot of information, but there&#39;s not a specific question to answer on what you are actually trying to do.","body":"Is there an actual question here??  There&#39;s a lot of information, but there&#39;s not a specific question to answer on what you are actually trying to do."}],"answers":[{"comments":[{"owner":{"account_id":6095312,"reputation":33135,"user_id":4756299,"display_name":"Andrew Henle"},"score":0,"creation_date":1687988934,"post_id":76568778,"comment_id":135015482,"body_markdown":"*the new primitive type `_Bool` that exists only in C99*  New?!?! C99? It&#39;s old enough to vote and buy alcohol.  It dates to the last **century**, and this **century** is well-nigh 1/4 over already.  I count [at least **71** releases of SWIG since C99 standardized `_Bool`](https://www.swig.org/history.html).","body":"<i>the new primitive type <code>_Bool</code> that exists only in C99</i>  New?!?! C99? It&#39;s old enough to vote and buy alcohol.  It dates to the last <b>century</b>, and this <b>century</b> is well-nigh 1/4 over already.  I count <a href=\"https://www.swig.org/history.html\" rel=\"nofollow noreferrer\">at least <b>71</b> releases of SWIG since C99 standardized <code>_Bool</code></a>."}],"tags":[],"owner":{"account_id":14020662,"reputation":2878,"user_id":10126955,"display_name":"mmomtchev"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1687901717,"creation_date":1687901717,"answer_id":76568778,"question_id":76565686,"body_markdown":"In C99, `bool` is a strange beast, it is a `#define` - if you are compiling in C++ mode it expands to C++ `bool` otherwise it expands to the new primitive type `_Bool` that exists only in C99. This type is not currently recognized by SWIG as a primitive type.\r\n\r\nJust map it to `int` and you will be fine:\r\n\r\n```swig\r\n%apply int { _Bool };\r\n```\r\n\r\nYour functions will return/expect `0`/`1`.\r\n\r\n*or*\r\n\r\nYou can compile in C++ mode. The C++ `bool` is recognized by SWIG.\r\n\r\n*or*\r\n\r\nLook at `/usr/local/share/swig/x.x.x/java/java.swg` and copy one line of each typemap (`jni`, `jtype`...) and map it to Java `&quot;bool&quot;`.","title":"SWIG turns &#39;bool&#39; C type into a SWIGTYPE, even when including stdbool.h in interface file","body":"<p>In C99, <code>bool</code> is a strange beast, it is a <code>#define</code> - if you are compiling in C++ mode it expands to C++ <code>bool</code> otherwise it expands to the new primitive type <code>_Bool</code> that exists only in C99. This type is not currently recognized by SWIG as a primitive type.</p>\n<p>Just map it to <code>int</code> and you will be fine:</p>\n<pre><code>%apply int { _Bool };\n</code></pre>\n<p>Your functions will return/expect <code>0</code>/<code>1</code>.</p>\n<p><em>or</em></p>\n<p>You can compile in C++ mode. The C++ <code>bool</code> is recognized by SWIG.</p>\n<p><em>or</em></p>\n<p>Look at <code>/usr/local/share/swig/x.x.x/java/java.swg</code> and copy one line of each typemap (<code>jni</code>, <code>jtype</code>...) and map it to Java <code>&quot;bool&quot;</code>.</p>\n"}],"owner":{"account_id":28710811,"reputation":13,"user_id":21986341,"display_name":"HDSL"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76568778,"answer_count":1,"score":0,"last_activity_date":1687901717,"creation_date":1687874601,"question_id":76565686,"body_markdown":"SWIG generated a SWIGTYPE_p__Bool to use when c functions returned bool types. This seems incorrect.\r\n\r\nExample C function returning bool:\r\n```\r\nbool\r\nbitwuzla_sort_is_equal(const BitwuzlaSort *sort0, const BitwuzlaSort *sort1)\r\n{\r\n  BZLA_CHECK_ARG_NOT_NULL(sort0);\r\n  BZLA_CHECK_ARG_NOT_NULL(sort1);\r\n  BZLA_ABORT(sort0-&gt;d_bzla != sort1-&gt;d_bzla,\r\n             &quot;given sorts are not associated with the same solver instance&quot;);\r\n\r\n  BzlaSortId bzla_sort0 = BZLA_IMPORT_BITWUZLA_SORT(sort0);\r\n  BzlaSortId bzla_sort1 = BZLA_IMPORT_BITWUZLA_SORT(sort1);\r\n#ifndef NDEBUG\r\n  Bzla *bzla = BZLA_IMPORT_BITWUZLA(sort0-&gt;d_bzla);\r\n  assert(bzla_sort_is_valid(bzla, bzla_sort0));\r\n  assert(bzla_sort_is_valid(bzla, bzla_sort1));\r\n#endif\r\n\r\n  return bzla_sort0 == bzla_sort1;\r\n}\r\n```\r\n\r\nThe generated Java wrapper code:\r\n\r\n```\r\n  public static SWIGTYPE_p__Bool bitwuzla_sort_is_equal(SWIGTYPE_p_BitwuzlaSort sort0, SWIGTYPE_p_BitwuzlaSort sort1) {\r\n    return new SWIGTYPE_p__Bool(bitwuzlaJNI.bitwuzla_sort_is_equal(SWIGTYPE_p_BitwuzlaSort.getCPtr(sort0), SWIGTYPE_p_BitwuzlaSort.getCPtr(sort1)), true);\r\n  }\r\n```\r\n\r\nThe interface file:\r\n\r\n```\r\n%module bitwuzla\r\n%include &quot;typemaps.i&quot;\r\n%include &quot;arrays_java.i&quot;\r\n\r\n%{\r\n#include &quot;bitwuzla.h&quot;\r\n%}\r\n\r\n%apply size_t *OUTPUT { size_t *size };\r\n%inline %{\r\nconst BitwuzlaTerm ** bitwuzla_get_unsat_assumptions(Bitwuzla *bitwuzla, size_t *size);\r\n%}\r\n\r\ntypedef struct Bitwuzla Bitwuzla;\r\n\r\n%include &quot;bitwuzla.h&quot;\r\n\r\n%include &lt;carrays.i&gt;\r\n%array_functions(BitwuzlaTerm *, bt_array);\r\n\r\n\r\n%include &lt;stdbool.h&gt;\r\n%include &lt;stdio.h&gt;\r\n%include &lt;stddef.h&gt;\r\n%include &lt;stdarg.h&gt;\r\n%include &lt;stdint.i&gt;\r\n\r\n```\r\n\r\nExample usage in Java:\r\n\r\n```\r\nSWIGTYPE_p_BitwuzlaSort bvsort = bitwuzla.bitwuzla_mk_bv_sort(bzla, 1);\r\nSWIGTYPE_p_BitwuzlaTerm var = bitwuzla.bitwuzla_mk_const(bzla, bvsort, &quot;x&quot; + 1);\r\nSWIGTYPE_p_BitwuzlaSort varSort = bitwuzla.bitwuzla_term_get_sort(var);\r\nassert(bitwuzla.bitwuzla_sort_is_equal(bvsort, varSort));\r\n```\r\n\r\n\r\nThe command for generating the library:\r\n`swig -DSWIGWORDSIZE64 -includeall -I/usr/lib/gcc/x86_64-linux-gnu/11/include -I/usr/include -java bitwuzla.i`\r\n\r\n\r\n\r\n\r\nI tried adding stdbool.h to the interface file, but this didn&#39;t resolve the problem. Furthermore, there is a SWIGTYPE_p_bool type, which is never used. This problem could probably be solved using typemaps, but this seems like some misconfiguration or misunderstanding on my end.","title":"SWIG turns &#39;bool&#39; C type into a SWIGTYPE, even when including stdbool.h in interface file","body":"<p>SWIG generated a SWIGTYPE_p__Bool to use when c functions returned bool types. This seems incorrect.</p>\n<p>Example C function returning bool:</p>\n<pre><code>bool\nbitwuzla_sort_is_equal(const BitwuzlaSort *sort0, const BitwuzlaSort *sort1)\n{\n  BZLA_CHECK_ARG_NOT_NULL(sort0);\n  BZLA_CHECK_ARG_NOT_NULL(sort1);\n  BZLA_ABORT(sort0-&gt;d_bzla != sort1-&gt;d_bzla,\n             &quot;given sorts are not associated with the same solver instance&quot;);\n\n  BzlaSortId bzla_sort0 = BZLA_IMPORT_BITWUZLA_SORT(sort0);\n  BzlaSortId bzla_sort1 = BZLA_IMPORT_BITWUZLA_SORT(sort1);\n#ifndef NDEBUG\n  Bzla *bzla = BZLA_IMPORT_BITWUZLA(sort0-&gt;d_bzla);\n  assert(bzla_sort_is_valid(bzla, bzla_sort0));\n  assert(bzla_sort_is_valid(bzla, bzla_sort1));\n#endif\n\n  return bzla_sort0 == bzla_sort1;\n}\n</code></pre>\n<p>The generated Java wrapper code:</p>\n<pre><code>  public static SWIGTYPE_p__Bool bitwuzla_sort_is_equal(SWIGTYPE_p_BitwuzlaSort sort0, SWIGTYPE_p_BitwuzlaSort sort1) {\n    return new SWIGTYPE_p__Bool(bitwuzlaJNI.bitwuzla_sort_is_equal(SWIGTYPE_p_BitwuzlaSort.getCPtr(sort0), SWIGTYPE_p_BitwuzlaSort.getCPtr(sort1)), true);\n  }\n</code></pre>\n<p>The interface file:</p>\n<pre><code>%module bitwuzla\n%include &quot;typemaps.i&quot;\n%include &quot;arrays_java.i&quot;\n\n%{\n#include &quot;bitwuzla.h&quot;\n%}\n\n%apply size_t *OUTPUT { size_t *size };\n%inline %{\nconst BitwuzlaTerm ** bitwuzla_get_unsat_assumptions(Bitwuzla *bitwuzla, size_t *size);\n%}\n\ntypedef struct Bitwuzla Bitwuzla;\n\n%include &quot;bitwuzla.h&quot;\n\n%include &lt;carrays.i&gt;\n%array_functions(BitwuzlaTerm *, bt_array);\n\n\n%include &lt;stdbool.h&gt;\n%include &lt;stdio.h&gt;\n%include &lt;stddef.h&gt;\n%include &lt;stdarg.h&gt;\n%include &lt;stdint.i&gt;\n\n</code></pre>\n<p>Example usage in Java:</p>\n<pre><code>SWIGTYPE_p_BitwuzlaSort bvsort = bitwuzla.bitwuzla_mk_bv_sort(bzla, 1);\nSWIGTYPE_p_BitwuzlaTerm var = bitwuzla.bitwuzla_mk_const(bzla, bvsort, &quot;x&quot; + 1);\nSWIGTYPE_p_BitwuzlaSort varSort = bitwuzla.bitwuzla_term_get_sort(var);\nassert(bitwuzla.bitwuzla_sort_is_equal(bvsort, varSort));\n</code></pre>\n<p>The command for generating the library:\n<code>swig -DSWIGWORDSIZE64 -includeall -I/usr/lib/gcc/x86_64-linux-gnu/11/include -I/usr/include -java bitwuzla.i</code></p>\n<p>I tried adding stdbool.h to the interface file, but this didn't resolve the problem. Furthermore, there is a SWIGTYPE_p_bool type, which is never used. This problem could probably be solved using typemaps, but this seems like some misconfiguration or misunderstanding on my end.</p>\n"},{"tags":["java","spring","spring-boot","hibernate","jpa"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1687932423,"post_id":76568334,"comment_id":135004312,"body_markdown":"It works perfectly fine. You are updating the databae and retrieving the cached entity. Why are you not just setting the value on the entity and just save the entity? What you are doing seems overly complex in the first place.","body":"It works perfectly fine. You are updating the databae and retrieving the cached entity. Why are you not just setting the value on the entity and just save the entity? What you are doing seems overly complex in the first place."}],"answers":[{"comments":[{"owner":{"account_id":15596976,"reputation":809,"user_id":11252174,"display_name":"Demir"},"score":1,"creation_date":1687943013,"post_id":76568727,"comment_id":135006222,"body_markdown":"That&#39;s a perfect way to do it :) With that solution, I don&#39;t need to go to db twice also, I don&#39;t need to use transaction. The code complexity decreased and the performance improved.","body":"That&#39;s a perfect way to do it :) With that solution, I don&#39;t need to go to db twice also, I don&#39;t need to use transaction. The code complexity decreased and the performance improved."}],"tags":[],"owner":{"account_id":20499100,"reputation":377,"user_id":15043397,"display_name":"yuri777"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1687901165,"creation_date":1687901165,"answer_id":76568727,"question_id":76568334,"body_markdown":"Try next code:\r\n\r\n    @Transactional\r\n    public AppUserResponse registerDetails(RegisterRequest registerRequest, UUID appUserId) {\r\n        AppUser appUser = userDetailsService.findAppUserById(appUserId);\r\n\r\n        if (appUser.isDetailsRegistered()) {\r\n            throw new InvalidRequestException(&quot;Bu kullanıcının bilgileri zaten kayıtlı.&quot;);\r\n        }\r\n        appUser = appUserMapper.registerDetailsToAppUser(appUser,registerRequest);\r\n        appUser = appUserRepository.save(appUser);\r\n        //setDetailsRegistered(appUserId);\r\n        appUser.setDetailsRegistered(true);//if you don&#39;t have this setter you can create it in the class AppUser\r\n        appUser = appUserRepository.save(appUser);\r\n        return appUserMapper.appUserToResponse(appUser);\r\n    }","title":"Jpa is not flushing Transactional changes","body":"<p>Try next code:</p>\n<pre><code>@Transactional\npublic AppUserResponse registerDetails(RegisterRequest registerRequest, UUID appUserId) {\n    AppUser appUser = userDetailsService.findAppUserById(appUserId);\n\n    if (appUser.isDetailsRegistered()) {\n        throw new InvalidRequestException(&quot;Bu kullanıcının bilgileri zaten kayıtlı.&quot;);\n    }\n    appUser = appUserMapper.registerDetailsToAppUser(appUser,registerRequest);\n    appUser = appUserRepository.save(appUser);\n    //setDetailsRegistered(appUserId);\n    appUser.setDetailsRegistered(true);//if you don't have this setter you can create it in the class AppUser\n    appUser = appUserRepository.save(appUser);\n    return appUserMapper.appUserToResponse(appUser);\n}\n</code></pre>\n"}],"owner":{"account_id":15596976,"reputation":809,"user_id":11252174,"display_name":"Demir"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76568727,"answer_count":1,"score":0,"last_activity_date":1687901165,"creation_date":1687896788,"question_id":76568334,"body_markdown":"I use two-step registration. In the first step, I only require a username, password, and email. In the second step, I require a full name, bio, gender, etc. I have a `registerDetails` method for that. Inside `registerDetails`, there is `updateAppUser` method that updates the user with given information(full name, bio, gender, etc. ).  The `registerDetails` method is transactional because in the first step, I call for `updateAppUser` and in the second step I call for the `setDetailsRegistered` method. The `setDetailsRegistered` method only sets `isDetailsRegistered` boolean to true. I do that because I require the user to fill remaining information(full name, bio, gender, etc. ). Anyway, my problem is that when I return `AppUserResponse` after those two processes, I still get `isDetailsRegistered` as `false`, however, I used `setDetailsRegistered` method to set it as `true`. I understand that, because my method is transactional, it is still false when I call for the `AppUser` object because the transaction is not completed, yet. I want to close the transaction and after that retrieve the AppUser object from the database. I think I will get `isDetailsRegistered` as `true`. How can I achieve that? Those are my methods. \r\n\r\n**registerDetails**\r\n\r\n```\r\n  @Transactional\r\n    public AppUserResponse registerDetails(RegisterRequest registerRequest, UUID appUserId) {\r\n        //fixme:first registerDetails returned false\r\n        AppUser appUser = userDetailsService.findAppUserById(appUserId);\r\n\r\n        if (appUser.isDetailsRegistered()) {\r\n            throw new InvalidRequestException(&quot;Bu kullanıcının bilgileri zaten kayıtlı.&quot;);\r\n        }\r\n\r\n        AppUser mapped = appUserMapper.registerDetailsToAppUser(appUser,registerRequest);\r\n        updateAppUser(mapped);\r\n        setDetailsRegistered(appUserId);\r\n        \r\n        appUserRepository.flush(); //after updating and setting isdetailsRegistered flag as true, then flush changes.\r\n        \r\n        AppUser newAppUser = userDetailsService.findAppUserById(appUserId);\r\n        return appUserMapper.appUserToResponse(newAppUser);\r\n    } \r\n```\r\n\r\n**updateAppUser**\r\n```\r\n    public AppUser updateAppUser(AppUser appUser) {\r\n        return appUserRepository.save(appUser);\r\n    }\r\n```\r\n\r\n**setDetailsRegistered**\r\n```\r\n    public void setDetailsRegistered(UUID userId) {\r\n        appUserRepository.setDetailsRegistered(userId);\r\n        appUserRepository.flush();\r\n    }\r\n```\r\n\r\n**jpa query for setDetailsRegistered**\r\n\r\n```\r\n    @Modifying\r\n    @Transactional\r\n    @Query(&quot;UPDATE AppUser a &quot; +\r\n            &quot;SET a.isDetailsRegistered = TRUE WHERE a.appUserId = ?1&quot;)\r\n    void setDetailsRegistered(UUID userId);\r\n```\r\n\r\n\r\n\r\n","title":"Jpa is not flushing Transactional changes","body":"<p>I use two-step registration. In the first step, I only require a username, password, and email. In the second step, I require a full name, bio, gender, etc. I have a <code>registerDetails</code> method for that. Inside <code>registerDetails</code>, there is <code>updateAppUser</code> method that updates the user with given information(full name, bio, gender, etc. ).  The <code>registerDetails</code> method is transactional because in the first step, I call for <code>updateAppUser</code> and in the second step I call for the <code>setDetailsRegistered</code> method. The <code>setDetailsRegistered</code> method only sets <code>isDetailsRegistered</code> boolean to true. I do that because I require the user to fill remaining information(full name, bio, gender, etc. ). Anyway, my problem is that when I return <code>AppUserResponse</code> after those two processes, I still get <code>isDetailsRegistered</code> as <code>false</code>, however, I used <code>setDetailsRegistered</code> method to set it as <code>true</code>. I understand that, because my method is transactional, it is still false when I call for the <code>AppUser</code> object because the transaction is not completed, yet. I want to close the transaction and after that retrieve the AppUser object from the database. I think I will get <code>isDetailsRegistered</code> as <code>true</code>. How can I achieve that? Those are my methods.</p>\n<p><strong>registerDetails</strong></p>\n<pre><code>  @Transactional\n    public AppUserResponse registerDetails(RegisterRequest registerRequest, UUID appUserId) {\n        //fixme:first registerDetails returned false\n        AppUser appUser = userDetailsService.findAppUserById(appUserId);\n\n        if (appUser.isDetailsRegistered()) {\n            throw new InvalidRequestException(&quot;Bu kullanıcının bilgileri zaten kayıtlı.&quot;);\n        }\n\n        AppUser mapped = appUserMapper.registerDetailsToAppUser(appUser,registerRequest);\n        updateAppUser(mapped);\n        setDetailsRegistered(appUserId);\n        \n        appUserRepository.flush(); //after updating and setting isdetailsRegistered flag as true, then flush changes.\n        \n        AppUser newAppUser = userDetailsService.findAppUserById(appUserId);\n        return appUserMapper.appUserToResponse(newAppUser);\n    } \n</code></pre>\n<p><strong>updateAppUser</strong></p>\n<pre><code>    public AppUser updateAppUser(AppUser appUser) {\n        return appUserRepository.save(appUser);\n    }\n</code></pre>\n<p><strong>setDetailsRegistered</strong></p>\n<pre><code>    public void setDetailsRegistered(UUID userId) {\n        appUserRepository.setDetailsRegistered(userId);\n        appUserRepository.flush();\n    }\n</code></pre>\n<p><strong>jpa query for setDetailsRegistered</strong></p>\n<pre><code>    @Modifying\n    @Transactional\n    @Query(&quot;UPDATE AppUser a &quot; +\n            &quot;SET a.isDetailsRegistered = TRUE WHERE a.appUserId = ?1&quot;)\n    void setDetailsRegistered(UUID userId);\n</code></pre>\n"},{"tags":["java","binary-tree","tree-traversal","postorder"],"comments":[{"owner":{"account_id":2119809,"reputation":50969,"user_id":1883316,"display_name":"Tim Roberts"},"score":0,"creation_date":1687889847,"post_id":76567567,"comment_id":134999503,"body_markdown":"The input is not ambiguous at all.  The input is in simple top-down, left-to-right order.  So, 23 is the root,  The next level is 41 16.  41&#39;s children are null and 0.  16&#39;s children are 8 and 12. 12&#39;s children are 1 and 2.  Have you at least written code to parse that input string?","body":"The input is not ambiguous at all.  The input is in simple top-down, left-to-right order.  So, 23 is the root,  The next level is 41 16.  41&#39;s children are null and 0.  16&#39;s children are 8 and 12. 12&#39;s children are 1 and 2.  Have you at least written code to parse that input string?"},{"owner":{"account_id":104440,"reputation":5525,"user_id":279236,"display_name":"jwenting"},"score":1,"creation_date":1687890660,"post_id":76567567,"comment_id":134999653,"body_markdown":"what have you tried so far? We&#39;re not your homework service that&#39;s going to write your assignment for you.","body":"what have you tried so far? We&#39;re not your homework service that&#39;s going to write your assignment for you."}],"answers":[{"tags":[],"owner":{"account_id":7142980,"reputation":323263,"user_id":5459839,"display_name":"trincot"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1687890387,"creation_date":1687890387,"answer_id":76567698,"question_id":76567567,"body_markdown":"&gt; the ambiguity of the input\r\n\r\nThe text you have provided does not specify how the input represents the tree, but the example input/output gives a clue. The only way to make the input consistent with the output of that example is to interpret the input as a level-order traversal, where the null-children of **leaf** nodes are included and represented with a hyphen.\r\n\r\nSo the example input represents this tree (where I include the hyphens as well):\r\n\r\n```none\r\n          __23___\r\n         /       \\\r\n       41         16\r\n      /  \\       /  \\\r\n     -    0     8    12\r\n         / \\   / \\   / \\\r\n        -   - -   - 1   2   \r\n```\r\n\r\nNote that the input will not end with hyphen(s) even though in this example four more hyphens would make sense to indicate that the nodes 1 and 2 are leaves too. But that can be assumed by default.\r\n\r\nThis is a common way to serialize a binary tree. For instance, [LeetCode](https://support.leetcode.com/hc/en-us/articles/360011883654-What-does-1-null-2-3-mean-in-binary-tree-representation-) uses a similar encoding.\r\n\r\nIt uniquely defines a binary tree. I hope this solves the question about ambiguity for you. Now it is up to you to take the coding challenge.\r\n","title":"Post-order traversal Input Ambiguous","body":"<blockquote>\n<p>the ambiguity of the input</p>\n</blockquote>\n<p>The text you have provided does not specify how the input represents the tree, but the example input/output gives a clue. The only way to make the input consistent with the output of that example is to interpret the input as a level-order traversal, where the null-children of <strong>leaf</strong> nodes are included and represented with a hyphen.</p>\n<p>So the example input represents this tree (where I include the hyphens as well):</p>\n<pre class=\"lang-none prettyprint-override\"><code>          __23___\n         /       \\\n       41         16\n      /  \\       /  \\\n     -    0     8    12\n         / \\   / \\   / \\\n        -   - -   - 1   2   \n</code></pre>\n<p>Note that the input will not end with hyphen(s) even though in this example four more hyphens would make sense to indicate that the nodes 1 and 2 are leaves too. But that can be assumed by default.</p>\n<p>This is a common way to serialize a binary tree. For instance, <a href=\"https://support.leetcode.com/hc/en-us/articles/360011883654-What-does-1-null-2-3-mean-in-binary-tree-representation-\" rel=\"nofollow noreferrer\">LeetCode</a> uses a similar encoding.</p>\n<p>It uniquely defines a binary tree. I hope this solves the question about ambiguity for you. Now it is up to you to take the coding challenge.</p>\n"},{"tags":[],"owner":{"account_id":2119809,"reputation":50969,"user_id":1883316,"display_name":"Tim Roberts"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1687890986,"creation_date":1687890986,"answer_id":76567761,"question_id":76567567,"body_markdown":"This may not be helpful, and I&#39;m willing to delete the answer if it&#39;s not, but here&#39;s how one would solve this problem in Python.  I have one function to convert the input string into a tree structure, and one to print the resulting tree in one of the orders.\r\n```\r\nclass Node:\r\n    left = None\r\n    right = None\r\n    def __init__( self, v=&#39;&#39; ):\r\n        self.value = v\r\n\r\ndef buildTree( inp ):\r\n    parts = inp.split()\r\n\r\n    root = Node(parts.pop(0))\r\n    undone = [root]\r\n    while undone and parts:\r\n        todo = []\r\n        for s in undone:\r\n            p1 = parts.pop(0)\r\n            p2 = parts.pop(0)\r\n            if p1 != &#39;-&#39;:\r\n                s.left = Node(p1)\r\n                todo.append( s.left )\r\n            if p2 != &#39;-&#39;:\r\n                s.right = Node(p2)\r\n                todo.append( s.right )\r\n        undone = todo\r\n\r\n    return root\r\n\r\ndef preOrder( tree ):\r\n    if tree:\r\n        print( tree.value )\r\n        preOrder(tree.left)\r\n        preOrder(tree.right)\r\n\r\ndef inOrder( tree ):\r\n    if tree:\r\n        inOrder(tree.left)\r\n        print( tree.value )\r\n        inOrder(tree.right)\r\n\r\ndef postOrder( tree ):\r\n    if tree:\r\n        postOrder(tree.left)\r\n        postOrder(tree.right)\r\n        print( tree.value )\r\n\r\ninp = &quot;23 41 16 - 0 8 12 - - - - 1 2&quot;\r\ntree = buildTree(inp)\r\npostOrder(tree)\r\n```","title":"Post-order traversal Input Ambiguous","body":"<p>This may not be helpful, and I'm willing to delete the answer if it's not, but here's how one would solve this problem in Python.  I have one function to convert the input string into a tree structure, and one to print the resulting tree in one of the orders.</p>\n<pre><code>class Node:\n    left = None\n    right = None\n    def __init__( self, v='' ):\n        self.value = v\n\ndef buildTree( inp ):\n    parts = inp.split()\n\n    root = Node(parts.pop(0))\n    undone = [root]\n    while undone and parts:\n        todo = []\n        for s in undone:\n            p1 = parts.pop(0)\n            p2 = parts.pop(0)\n            if p1 != '-':\n                s.left = Node(p1)\n                todo.append( s.left )\n            if p2 != '-':\n                s.right = Node(p2)\n                todo.append( s.right )\n        undone = todo\n\n    return root\n\ndef preOrder( tree ):\n    if tree:\n        print( tree.value )\n        preOrder(tree.left)\n        preOrder(tree.right)\n\ndef inOrder( tree ):\n    if tree:\n        inOrder(tree.left)\n        print( tree.value )\n        inOrder(tree.right)\n\ndef postOrder( tree ):\n    if tree:\n        postOrder(tree.left)\n        postOrder(tree.right)\n        print( tree.value )\n\ninp = &quot;23 41 16 - 0 8 12 - - - - 1 2&quot;\ntree = buildTree(inp)\npostOrder(tree)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687900083,"creation_date":1687900083,"answer_id":76568645,"question_id":76567567,"body_markdown":"&gt; _&quot;... I am not able to proceed in this because of the ambiguity of the input ..._\r\n\r\nIf the example solution is in _post-order_, then I imagine input is either in _pre-order_, or _in-order_.\r\n\r\nHere is a relevant _Wikipedia_ article.  \r\n_[Wikipedia &amp;ndash; Tree traversal &amp;ndash; Depth-first search](https://en.wikipedia.org/wiki/Tree_traversal#Depth-first_search)_.\r\n\r\nThere are a few ways to derive the data from _treeString_.  \r\nI recommend using the _Scanner_ class.\r\n\r\nHere is an example, where _value_ is the number, or hyphen.\r\n\r\n```java\r\nScanner scanner = new Scanner(treeStr);\r\nString value;\r\nwhile (scanner.hasNext()) {\r\n    value = scanner.next();\r\n\r\n}\r\n```\r\n\r\nOr, you can use the _[String#split](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/String.html#split(java.lang.String))_ method, supplying a _space_ character as the argument.\r\n\r\n```java\r\nString[] strings = treeStr.split(&quot; &quot;);\r\nfor (String value : strings) {\r\n    System.out.println(value);\r\n\r\n}\r\n```","title":"Post-order traversal Input Ambiguous","body":"<blockquote>\n<p><em>&quot;... I am not able to proceed in this because of the ambiguity of the input ...</em></p>\n</blockquote>\n<p>If the example solution is in <em>post-order</em>, then I imagine input is either in <em>pre-order</em>, or <em>in-order</em>.</p>\n<p>Here is a relevant <em>Wikipedia</em> article.<br />\n<em><a href=\"https://en.wikipedia.org/wiki/Tree_traversal#Depth-first_search\" rel=\"nofollow noreferrer\">Wikipedia – Tree traversal – Depth-first search</a></em>.</p>\n<p>There are a few ways to derive the data from <em>treeString</em>.<br />\nI recommend using the <em>Scanner</em> class.</p>\n<p>Here is an example, where <em>value</em> is the number, or hyphen.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Scanner scanner = new Scanner(treeStr);\nString value;\nwhile (scanner.hasNext()) {\n    value = scanner.next();\n\n}\n</code></pre>\n<p>Or, you can use the <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/String.html#split(java.lang.String)\" rel=\"nofollow noreferrer\">String#split</a></em> method, supplying a <em>space</em> character as the argument.</p>\n<pre class=\"lang-java prettyprint-override\"><code>String[] strings = treeStr.split(&quot; &quot;);\nfor (String value : strings) {\n    System.out.println(value);\n\n}\n</code></pre>\n"}],"owner":{"account_id":19571764,"reputation":1,"user_id":14322772,"display_name":"Devu Goyal"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1687986767,"answer_count":3,"score":0,"last_activity_date":1687900083,"creation_date":1687889078,"question_id":76567567,"body_markdown":"Please help, I am not able to proceed in this because of the ambiguity of the input being take. I need to submit this before tomorrow. Please help me\r\n\r\n\r\n```\r\npackage q9424;\r\nimport java.util.*;\r\npublic class CTJ9424 { \r\n\r\npublic static String treeTraversals(String treeStr) { \r\n// Write your code here\r\n\r\n\r\n}\r\n\r\npublic static void main(String[] args) { \r\n\r\nString treeStr = args[0];\r\nSystem.out.println(treeTraversals(treeStr));\r\n\r\n```\r\n\r\nComplete the function treeTraversals with the following parameter:\r\n\r\ntreeStr: a string of integers and hyphens(-) separated by space\r\n\r\n\r\n\r\nFunction will return:\r\n\r\na string of integers that is obtained by the post-order traversal of the binary tree\r\n\r\n\r\n\r\nConstraints:\r\n\r\nThe only characters allowed in treeStr and the return value are numeric digits, hyphen character and space character\r\nThe length of treeStr is always between 1 and 1000, both inclusive\r\nAll integer tokens are in the range of -1000 and 1000, both inclusive\r\n\r\n\r\nSample Test Case:\r\n\r\nInput:\r\n\r\n\r\n23 41 16 - 0 8 12 - - - - 1 2\r\n\r\nOutput:\r\n\r\n0 41 8 1 2 12 16 23\r\n\r\nInstruction:\r\n\r\nTo run your custom test cases strictly map your input and output layout with the visible test cases and follow the function rules given below.\r\n\r\nFunction Rules:\r\n\r\nFill the missing logic in function treeTraversals with return type String and parameters as listed below:\r\n\r\nString treeStr\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nI tried doing it with my knowledge of post-order traversal but due to the ambiguity of the input, I am not able to solve this.","title":"Post-order traversal Input Ambiguous","body":"<p>Please help, I am not able to proceed in this because of the ambiguity of the input being take. I need to submit this before tomorrow. Please help me</p>\n<pre><code>package q9424;\nimport java.util.*;\npublic class CTJ9424 { \n\npublic static String treeTraversals(String treeStr) { \n// Write your code here\n\n\n}\n\npublic static void main(String[] args) { \n\nString treeStr = args[0];\nSystem.out.println(treeTraversals(treeStr));\n\n</code></pre>\n<p>Complete the function treeTraversals with the following parameter:</p>\n<p>treeStr: a string of integers and hyphens(-) separated by space</p>\n<p>Function will return:</p>\n<p>a string of integers that is obtained by the post-order traversal of the binary tree</p>\n<p>Constraints:</p>\n<p>The only characters allowed in treeStr and the return value are numeric digits, hyphen character and space character\nThe length of treeStr is always between 1 and 1000, both inclusive\nAll integer tokens are in the range of -1000 and 1000, both inclusive</p>\n<p>Sample Test Case:</p>\n<p>Input:</p>\n<p>23 41 16 - 0 8 12 - - - - 1 2</p>\n<p>Output:</p>\n<p>0 41 8 1 2 12 16 23</p>\n<p>Instruction:</p>\n<p>To run your custom test cases strictly map your input and output layout with the visible test cases and follow the function rules given below.</p>\n<p>Function Rules:</p>\n<p>Fill the missing logic in function treeTraversals with return type String and parameters as listed below:</p>\n<p>String treeStr</p>\n<p>I tried doing it with my knowledge of post-order traversal but due to the ambiguity of the input, I am not able to solve this.</p>\n"},{"tags":["java","maven-3","pom.xml","intellij-17"],"comments":[{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1687537039,"post_id":76537664,"comment_id":134955896,"body_markdown":"Can you explain: `while the pom.xml file is in git control, which I feel is wrong thing to do.` ? No pom.xml files belong to be checked into version control... Does your project build on plain command line? Mac Terminal..not from within the IDE... etc?","body":"Can you explain: <code>while the pom.xml file is in git control, which I feel is wrong thing to do.</code> ? No pom.xml files belong to be checked into version control... Does your project build on plain command line? Mac Terminal..not from within the IDE... etc?"},{"owner":{"account_id":4667724,"reputation":629,"user_id":3780373,"display_name":"PraNuta"},"score":0,"creation_date":1687537604,"post_id":76537664,"comment_id":134956027,"body_markdown":"@khmarbaise\nWhat I mean by that is while the pom.xml file is under git version control, the best thing to edit it is from with in the IDE, not from the file system. This might have corrupted the file, thus every declared dependency is showing an error that &quot;package xxxx.yyyy.zzzz is not existing&quot; which is weird, as we can see the corresponding declared dependency right infront of our eyes.\n\nYes, we check in the pom.xml in to git, as I am only the QA automation coder. Even other wise, each team member can&#39;t have their own pom file, which is very time consuming.","body":"@khmarbaise What I mean by that is while the pom.xml file is under git version control, the best thing to edit it is from with in the IDE, not from the file system. This might have corrupted the file, thus every declared dependency is showing an error that &quot;package xxxx.yyyy.zzzz is not existing&quot; which is weird, as we can see the corresponding declared dependency right infront of our eyes.  Yes, we check in the pom.xml in to git, as I am only the QA automation coder. Even other wise, each team member can&#39;t have their own pom file, which is very time consuming."}],"answers":[{"tags":[],"owner":{"account_id":4667724,"reputation":629,"user_id":3780373,"display_name":"PraNuta"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687624582,"creation_date":1687624582,"answer_id":76547031,"question_id":76537664,"body_markdown":"I could able to solve this problem in this manner.\r\n\r\n 1. Simply cut all the dependencies and save them in a separate place. Save the pom.xml file and Project --&gt; rebuild, but don&#39;t run the project. Disregard any error messages, quoting the missing classes which is obvious.\r\n 2. Add the dependencies from the original list one by one, and doing the save, rebuild cycle sequentially. You would see the missing class errors reported getting reduced little by little as you keep adding the Maven dependencies.\r\n 3. Do this until you have added all the dependencies back in to pom.xml file one by one and all the build errors of missing classes, packages will be gone.\r\n 4. If you get any transitive dependency messages, add that message causing dependency at a higher version available at maven repository as an additional dependency(which has no vulnerability). This way you can resolve all the transitive dependency messages in intelliJ which is like an yellow shade around the dependency.\r\n\r\n  ","title":"pox.xml dependencies are not effective, project gives many &lt;some thing which is defined as dependency&gt; does not exist errors. IntelliJ WS Corrupted?","body":"<p>I could able to solve this problem in this manner.</p>\n<ol>\n<li>Simply cut all the dependencies and save them in a separate place. Save the pom.xml file and Project --&gt; rebuild, but don't run the project. Disregard any error messages, quoting the missing classes which is obvious.</li>\n<li>Add the dependencies from the original list one by one, and doing the save, rebuild cycle sequentially. You would see the missing class errors reported getting reduced little by little as you keep adding the Maven dependencies.</li>\n<li>Do this until you have added all the dependencies back in to pom.xml file one by one and all the build errors of missing classes, packages will be gone.</li>\n<li>If you get any transitive dependency messages, add that message causing dependency at a higher version available at maven repository as an additional dependency(which has no vulnerability). This way you can resolve all the transitive dependency messages in intelliJ which is like an yellow shade around the dependency.</li>\n</ol>\n"}],"owner":{"account_id":4667724,"reputation":629,"user_id":3780373,"display_name":"PraNuta"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1687899284,"creation_date":1687502614,"question_id":76537664,"body_markdown":"I have a perfectly running maven project with a **pom.xml** file, which has some in ***inconsistent dependencies*** like few dependencies needing the same jar file, but with different versions. While the project is running nicely with in the intelliJ, but not from command line using Maven due to these dependency inconsistencies like below. **Could not resolve version conflict among these**:\r\n\r\n    [io.cucumber:cucumber-java:jar:7.0.0 -&gt; io.cucumber:cucumber-core:jar:7.0.0 -&gt; io.cucumber:messages:jar:17.1.1,   \r\n    io.cucumber:cucumber-java:jar:7.0.0 -&gt; io.cucumber:cucumber-core:jar:7.0.0 -&gt; io.cucumber:html-formatter:jar:17.0.0 -&gt; io.cucumber:messages:jar:[17.1.0,18.0.0),    \r\n    io.cucumber:cucumber-java:jar:7.0.0 -&gt; io.cucumber:cucumber-core:jar:7.0.0 -&gt; io.cucumber:create-meta:jar:6.0.1 -&gt; io.cucumber:messages:jar:[17.0.1,18.0.0),    \r\n    me.jvt.cucumber:reporting-plugin:jar:7.11.0 -&gt; io.cucumber:gherkin:jar:26.0.3 -&gt; io.cucumber:messages:jar:[19.1.4,22.0.0)] \r\n\r\nWhile trying to update the dependency versions, I have edited the\r\n**pom.xml** on the MAC ***file system***, while the pom.xml file is in **git control**, which I feel is wrong thing to do. This resulted in the total pom.xml file getting corrupted, I assume.\r\n\r\nEven after complete removal(***including folders at ~/Library/Application Support/JetBrains/ideaC2023.1, ideaC2022.1 etc***) and installation of the **intelliJ CE**, I keep seeing the same errors.\r\n\r\n \r\n\r\n**First the few of the errors, and the corresponding existing dependencies**\r\n\r\n ```\r\n(1)java: package org.apache.logging.log4j does not exist==&gt;\r\n    \r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n        &lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\r\n        &lt;version&gt;2.20.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;!-- https://mvnrepository.com/artifact/org.apache.logging.log4j/log4j-api --&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n        &lt;artifactId&gt;log4j-api&lt;/artifactId&gt;\r\n        &lt;version&gt;2.20.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n (2) java: package io.appium.java_client does not exist==&gt;\r\n     \r\n\r\n     &lt;dependency&gt;\r\n        &lt;groupId&gt;io.appium&lt;/groupId&gt;\r\n        &lt;artifactId&gt;java-client&lt;/artifactId&gt;\r\n        &lt;version&gt;8.5.1&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n (3) java: package io.restassured.path.json does not exist ==&gt;\r\n   \r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.json&lt;/groupId&gt;\r\n        &lt;artifactId&gt;json&lt;/artifactId&gt;\r\n        &lt;version&gt;20230227&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n(4) java: package io.cucumber.java.en does not exist --&gt;\r\n\r\n              &lt;dependency&gt;\r\n                &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\r\n                &lt;artifactId&gt;cucumber-java&lt;/artifactId&gt;\r\n                &lt;version&gt;7.0.0&lt;/version&gt;\r\n            &lt;/dependency&gt;```\r\n\r\n\r\n----------\r\nI did closed the project, reopened it, and invalidated the cache and restarted the intelliJ etc., the regular trouble shooting stuff. Overall, the pom.xml file is totally is being disregarded. I also, deleted the project on the file system, and re-cloned the same project (which I pushed to the repo just yesterday), but still the same fate.\r\n\r\nI believe giving complete pom.xml file here is not that useful, even though I don&#39;t mind it at all. Another tit bit of info is that earlier the  pom.xml file is consistently giving **&#39;stackoverflow error&#39;**, but this never prevented the project from compiling and running just fine.\r\n\r\nI am using JDK 17.0.7 and maven 3.8.3 and used 3.9.2 also. \r\n\r\n***I am thinking this is some sort of corruption of the intelliJ CE work space, which I can&#39;t get cleaned up.***\r\n\r\nThanks a lot for your helpful suggestions.\r\n\r\n----------\r\n\r\n\r\n\r\n","title":"pox.xml dependencies are not effective, project gives many &lt;some thing which is defined as dependency&gt; does not exist errors. IntelliJ WS Corrupted?","body":"<p>I have a perfectly running maven project with a <strong>pom.xml</strong> file, which has some in <em><strong>inconsistent dependencies</strong></em> like few dependencies needing the same jar file, but with different versions. While the project is running nicely with in the intelliJ, but not from command line using Maven due to these dependency inconsistencies like below. <strong>Could not resolve version conflict among these</strong>:</p>\n<pre><code>[io.cucumber:cucumber-java:jar:7.0.0 -&gt; io.cucumber:cucumber-core:jar:7.0.0 -&gt; io.cucumber:messages:jar:17.1.1,   \nio.cucumber:cucumber-java:jar:7.0.0 -&gt; io.cucumber:cucumber-core:jar:7.0.0 -&gt; io.cucumber:html-formatter:jar:17.0.0 -&gt; io.cucumber:messages:jar:[17.1.0,18.0.0),    \nio.cucumber:cucumber-java:jar:7.0.0 -&gt; io.cucumber:cucumber-core:jar:7.0.0 -&gt; io.cucumber:create-meta:jar:6.0.1 -&gt; io.cucumber:messages:jar:[17.0.1,18.0.0),    \nme.jvt.cucumber:reporting-plugin:jar:7.11.0 -&gt; io.cucumber:gherkin:jar:26.0.3 -&gt; io.cucumber:messages:jar:[19.1.4,22.0.0)] \n</code></pre>\n<p>While trying to update the dependency versions, I have edited the\n<strong>pom.xml</strong> on the MAC <em><strong>file system</strong></em>, while the pom.xml file is in <strong>git control</strong>, which I feel is wrong thing to do. This resulted in the total pom.xml file getting corrupted, I assume.</p>\n<p>Even after complete removal(<em><strong>including folders at ~/Library/Application Support/JetBrains/ideaC2023.1, ideaC2022.1 etc</strong></em>) and installation of the <strong>intelliJ CE</strong>, I keep seeing the same errors.</p>\n<p><strong>First the few of the errors, and the corresponding existing dependencies</strong></p>\n<pre><code>(1)java: package org.apache.logging.log4j does not exist==&gt;\n   \n\n   &lt;dependency&gt;\n       &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n       &lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\n       &lt;version&gt;2.20.0&lt;/version&gt;\n   &lt;/dependency&gt;\n   &lt;!-- https://mvnrepository.com/artifact/org.apache.logging.log4j/log4j-api --&gt;\n   &lt;dependency&gt;\n       &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n       &lt;artifactId&gt;log4j-api&lt;/artifactId&gt;\n       &lt;version&gt;2.20.0&lt;/version&gt;\n   &lt;/dependency&gt;\n\n(2) java: package io.appium.java_client does not exist==&gt;\n    \n\n    &lt;dependency&gt;\n       &lt;groupId&gt;io.appium&lt;/groupId&gt;\n       &lt;artifactId&gt;java-client&lt;/artifactId&gt;\n       &lt;version&gt;8.5.1&lt;/version&gt;\n   &lt;/dependency&gt;\n\n(3) java: package io.restassured.path.json does not exist ==&gt;\n  \n\n   &lt;dependency&gt;\n       &lt;groupId&gt;org.json&lt;/groupId&gt;\n       &lt;artifactId&gt;json&lt;/artifactId&gt;\n       &lt;version&gt;20230227&lt;/version&gt;\n   &lt;/dependency&gt;\n\n(4) java: package io.cucumber.java.en does not exist --&gt;\n\n             &lt;dependency&gt;\n               &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\n               &lt;artifactId&gt;cucumber-java&lt;/artifactId&gt;\n               &lt;version&gt;7.0.0&lt;/version&gt;\n           &lt;/dependency&gt;```\n\n\n----------\nI did closed the project, reopened it, and invalidated the cache and restarted the intelliJ etc., the regular trouble shooting stuff. Overall, the pom.xml file is totally is being disregarded. I also, deleted the project on the file system, and re-cloned the same project (which I pushed to the repo just yesterday), but still the same fate.\n\nI believe giving complete pom.xml file here is not that useful, even though I don't mind it at all. Another tit bit of info is that earlier the  pom.xml file is consistently giving **'stackoverflow error'**, but this never prevented the project from compiling and running just fine.\n\nI am using JDK 17.0.7 and maven 3.8.3 and used 3.9.2 also. \n\n***I am thinking this is some sort of corruption of the intelliJ CE work space, which I can't get cleaned up.***\n\nThanks a lot for your helpful suggestions.\n\n----------\n\n\n\n</code></pre>\n"},{"tags":["java","spring-boot","endpoint"],"answers":[{"comments":[{"owner":{"account_id":74149,"reputation":1808,"user_id":213199,"accept_rate":49,"display_name":"Stella"},"score":0,"creation_date":1687898706,"post_id":76568502,"comment_id":135001095,"body_markdown":"Oh ok. &quot;jdbctemplate.query&quot; part is correct?","body":"Oh ok. &quot;jdbctemplate.query&quot; part is correct?"},{"owner":{"account_id":74149,"reputation":1808,"user_id":213199,"accept_rate":49,"display_name":"Stella"},"score":0,"creation_date":1687899307,"post_id":76568502,"comment_id":135001195,"body_markdown":"But, we are not passing &quot;member_no&quot; value here in the query, right?","body":"But, we are not passing &quot;member_no&quot; value here in the query, right?"},{"owner":{"account_id":20499100,"reputation":377,"user_id":15043397,"display_name":"yuri777"},"score":0,"creation_date":1687899497,"post_id":76568502,"comment_id":135001228,"body_markdown":"return jdbctemplate.query(&quot;SELECT * FROM demooutput where member_no=?&quot;, new Object[]{memberno}, new DataRowMapper());\nTry this variant","body":"return jdbctemplate.query(&quot;SELECT * FROM demooutput where member_no=?&quot;, new Object[]{memberno}, new DataRowMapper()); Try this variant"},{"owner":{"account_id":74149,"reputation":1808,"user_id":213199,"accept_rate":49,"display_name":"Stella"},"score":1,"creation_date":1687899623,"post_id":76568502,"comment_id":135001241,"body_markdown":"This is great, working. thank you! I got it.","body":"This is great, working. thank you! I got it."}],"tags":[],"owner":{"account_id":20499100,"reputation":377,"user_id":15043397,"display_name":"yuri777"},"comment_count":4,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1687898524,"creation_date":1687898524,"answer_id":76568502,"question_id":76568380,"body_markdown":"You should use @PathVariable:\r\n\r\n    @GetMapping(&quot;/searchDataByMember/{memberno}&quot;)\r\n    public List&lt;MyData&gt; searchDataByMember(@PathVariable Integer memberno) {\r\n\r\n        List&lt;MyData&gt; dataList = myServiceDAO.findDataByMemberNo(memberno);\r\n        return dataList;\r\n    }","title":"Spring boot end point to find particular record","body":"<p>You should use @PathVariable:</p>\n<pre><code>@GetMapping(&quot;/searchDataByMember/{memberno}&quot;)\npublic List&lt;MyData&gt; searchDataByMember(@PathVariable Integer memberno) {\n\n    List&lt;MyData&gt; dataList = myServiceDAO.findDataByMemberNo(memberno);\n    return dataList;\n}\n</code></pre>\n"}],"owner":{"account_id":74149,"reputation":1808,"user_id":213199,"accept_rate":49,"display_name":"Stella"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":61,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76568502,"answer_count":1,"score":1,"last_activity_date":1687898524,"creation_date":1687897234,"question_id":76568380,"body_markdown":"I am working on creating test end points in spring boot service.\r\n\r\nI have one end point, that works well.\r\nHere is the working end point code:\r\n\r\n    Controller:\r\n\r\n    @GetMapping(&quot;/searchAll&quot;)\r\n            public List&lt;MyData&gt; searchAll() {\r\n       \r\n                List&lt;MyData&gt; dataList = myServiceDAO.findAll();\r\n                return dataList;\r\n             }\r\n\r\nDAO:\r\n\r\n    @Repository\r\n    public class MyServiceDAO {\r\n    \r\n        @Autowired\r\n        JdbcTemplate jdbctemplate;\r\n    \r\n        @Transactional(readOnly = true)\r\n        public List&lt;MyData&gt; findAll()\r\n        {\r\n            return jdbctemplate.query(&quot;SELECT * FROM demooutput&quot;, new DataRowMapper());\r\n        }\r\n\r\nI need to have another end point which find data only for particular member: I am trying to implement this end point, but it doesn&#39;t get details.\r\nHere is the code, that&#39;s not working.\r\n\r\n    @GetMapping(&quot;/searchDataByMember/{memberno}&quot;)\r\n            public List&lt;MyData&gt; searchDataByMember(int memberno) {\r\n        \r\n                List&lt;MyData&gt; dataList = myServiceDAO.findDataByMemberNo(memberno);\r\n                return dataList;\r\n            }\r\n\r\n DAO:\r\n\r\n    @Repository\r\n    public class MyServiceDAO {\r\n    \r\n        @Autowired\r\n        JdbcTemplate jdbctemplate;\r\n    \r\n        @Transactional(readOnly = true)\r\n        public List&lt;MyData&gt; findAll()\r\n        {\r\n            String sql = &quot;SELECT * FROM demooutput&quot;;\r\n            return jdbctemplate.query(&quot;SELECT * FROM demooutput&quot;, new DataRowMapper());\r\n        }\r\n        // This is not working\r\n        public List&lt;MyData&gt; findDataByMemberNo(int memberno)\r\n        {\r\n            return jdbctemplate.query(&quot;SELECT member_no, dt, name, drnumber, docid, contact FROM demooutput where member_no=memberno?&quot;, new DataRowMapper());\r\n        }\r\n\r\n","title":"Spring boot end point to find particular record","body":"<p>I am working on creating test end points in spring boot service.</p>\n<p>I have one end point, that works well.\nHere is the working end point code:</p>\n<pre><code>Controller:\n\n@GetMapping(&quot;/searchAll&quot;)\n        public List&lt;MyData&gt; searchAll() {\n   \n            List&lt;MyData&gt; dataList = myServiceDAO.findAll();\n            return dataList;\n         }\n</code></pre>\n<p>DAO:</p>\n<pre><code>@Repository\npublic class MyServiceDAO {\n\n    @Autowired\n    JdbcTemplate jdbctemplate;\n\n    @Transactional(readOnly = true)\n    public List&lt;MyData&gt; findAll()\n    {\n        return jdbctemplate.query(&quot;SELECT * FROM demooutput&quot;, new DataRowMapper());\n    }\n</code></pre>\n<p>I need to have another end point which find data only for particular member: I am trying to implement this end point, but it doesn't get details.\nHere is the code, that's not working.</p>\n<pre><code>@GetMapping(&quot;/searchDataByMember/{memberno}&quot;)\n        public List&lt;MyData&gt; searchDataByMember(int memberno) {\n    \n            List&lt;MyData&gt; dataList = myServiceDAO.findDataByMemberNo(memberno);\n            return dataList;\n        }\n</code></pre>\n<p>DAO:</p>\n<pre><code>@Repository\npublic class MyServiceDAO {\n\n    @Autowired\n    JdbcTemplate jdbctemplate;\n\n    @Transactional(readOnly = true)\n    public List&lt;MyData&gt; findAll()\n    {\n        String sql = &quot;SELECT * FROM demooutput&quot;;\n        return jdbctemplate.query(&quot;SELECT * FROM demooutput&quot;, new DataRowMapper());\n    }\n    // This is not working\n    public List&lt;MyData&gt; findDataByMemberNo(int memberno)\n    {\n        return jdbctemplate.query(&quot;SELECT member_no, dt, name, drnumber, docid, contact FROM demooutput where member_no=memberno?&quot;, new DataRowMapper());\n    }\n</code></pre>\n"},{"tags":["java","spring-boot","validation","spring-boot-actuator","spring-validator"],"answers":[{"tags":[],"owner":{"account_id":14162458,"reputation":3910,"user_id":10231374,"display_name":"Toni"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687898269,"creation_date":1687890106,"answer_id":76567683,"question_id":76566901,"body_markdown":"As far as I know, no such metric is available by default, but you can register your own as shown below:\r\n```java\r\n@Component\r\npublic class FailedRequestsCounter {\r\n  private final Counter counter;\r\n\r\n  public FailedRequestsCounter(MeterRegistry registry) {\r\n    counter = Counter.builder(&quot;failed_requests.count&quot;)\r\n        .description(&quot;Number of requests failed due to json serialization or validation error.&quot;)\r\n        .register(registry);\r\n  }\r\n\r\n  public void increment(){\r\n    counter.increment();\r\n  }\r\n}\r\n```\r\nThen use the `FailedRequestsCounter` component to increment the counter wherever you handle exceptions caused by validation and serialization errors. Ideally, you would have a `@ControllerAdvice` that handles exceptions globally, for example:\r\n```java\r\n@ControllerAdvice\r\npublic class GlobalExceptionHandler {\r\n  @Autowired\r\n  private FailedRequestsCounter failedRequestsCounter;\r\n\r\n  // Validation errors - RequestParam\r\n  @ExceptionHandler(ConstraintViolationException.class)\r\n  ResponseEntity&lt;String&gt; handleConstraintViolationException(ConstraintViolationException e) {\r\n    failedRequestsCounter.increment();\r\n    return new ResponseEntity&lt;&gt;(e.getMessage(), HttpStatus.BAD_REQUEST);\r\n  }\r\n\r\n  // Validation errors - RequestBody and PathVariable\r\n  @ExceptionHandler(MethodArgumentNotValidException.class)\r\n  ResponseEntity&lt;String&gt; handleMethodArgumentNotValidException(MethodArgumentNotValidException e) {\r\n    failedRequestsCounter.increment();\r\n    return new ResponseEntity&lt;&gt;(e.getMessage(), HttpStatus.BAD_REQUEST);\r\n  }\r\n\r\n  // Serialization errors\r\n  @ExceptionHandler(HttpMessageNotReadableException.class)\r\n  ResponseEntity&lt;String&gt; handleHttpMessageNotReadableException(HttpMessageNotReadableException e) {\r\n    failedRequestsCounter.increment();\r\n    return new ResponseEntity&lt;&gt;(e.getMessage(), HttpStatus.BAD_REQUEST);\r\n  }\r\n}\r\n```","title":"Spring Boot Controller Validation Metrics","body":"<p>As far as I know, no such metric is available by default, but you can register your own as shown below:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Component\npublic class FailedRequestsCounter {\n  private final Counter counter;\n\n  public FailedRequestsCounter(MeterRegistry registry) {\n    counter = Counter.builder(&quot;failed_requests.count&quot;)\n        .description(&quot;Number of requests failed due to json serialization or validation error.&quot;)\n        .register(registry);\n  }\n\n  public void increment(){\n    counter.increment();\n  }\n}\n</code></pre>\n<p>Then use the <code>FailedRequestsCounter</code> component to increment the counter wherever you handle exceptions caused by validation and serialization errors. Ideally, you would have a <code>@ControllerAdvice</code> that handles exceptions globally, for example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@ControllerAdvice\npublic class GlobalExceptionHandler {\n  @Autowired\n  private FailedRequestsCounter failedRequestsCounter;\n\n  // Validation errors - RequestParam\n  @ExceptionHandler(ConstraintViolationException.class)\n  ResponseEntity&lt;String&gt; handleConstraintViolationException(ConstraintViolationException e) {\n    failedRequestsCounter.increment();\n    return new ResponseEntity&lt;&gt;(e.getMessage(), HttpStatus.BAD_REQUEST);\n  }\n\n  // Validation errors - RequestBody and PathVariable\n  @ExceptionHandler(MethodArgumentNotValidException.class)\n  ResponseEntity&lt;String&gt; handleMethodArgumentNotValidException(MethodArgumentNotValidException e) {\n    failedRequestsCounter.increment();\n    return new ResponseEntity&lt;&gt;(e.getMessage(), HttpStatus.BAD_REQUEST);\n  }\n\n  // Serialization errors\n  @ExceptionHandler(HttpMessageNotReadableException.class)\n  ResponseEntity&lt;String&gt; handleHttpMessageNotReadableException(HttpMessageNotReadableException e) {\n    failedRequestsCounter.increment();\n    return new ResponseEntity&lt;&gt;(e.getMessage(), HttpStatus.BAD_REQUEST);\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":2264978,"reputation":3734,"user_id":1993937,"accept_rate":47,"display_name":"TheJeff"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":86,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1687898269,"creation_date":1687883387,"question_id":76566901,"body_markdown":"I&#39;m utilizing Spring Boot 3 with starter validation / Jakarta Validation via the Controller methods, and `@Valid` and `@Validated` annotations, and am using actuator for metrics. \r\n\r\nThere is a lot of &quot;Spring Magic&quot; for free metrics with a lot of these spring boot libraries. \r\n\r\nI was wondering, is there a metric available by default in spring boot 3 / spring boot starter validation, where I can see a metric for number of requests rejected (400 error) due to json serialization or validation error?\r\n\r\nBasically I need a metric for # of 400 errors that occurred, where the request never entered the Controller due to a validation error or a serialization error. This is different from the request entering the controller, and then manually returning a 400 due to domain-level validation errors.\r\n\r\nWhat I&#39;ve tried:\r\n - Starting the app and looking for validation metrics specifically via `localhost:8080/metrics`. (don&#39;t see any)\r\n - Checking actuator documentation\r\n\r\n\r\nIf this isn&#39;t available by default, can I add a hook to the code for API level validation failures so that I can increment my own metric?\r\n\r\nThanks for any help finding existing/free spring boot metrics, or how to add one for this use case.","title":"Spring Boot Controller Validation Metrics","body":"<p>I'm utilizing Spring Boot 3 with starter validation / Jakarta Validation via the Controller methods, and <code>@Valid</code> and <code>@Validated</code> annotations, and am using actuator for metrics.</p>\n<p>There is a lot of &quot;Spring Magic&quot; for free metrics with a lot of these spring boot libraries.</p>\n<p>I was wondering, is there a metric available by default in spring boot 3 / spring boot starter validation, where I can see a metric for number of requests rejected (400 error) due to json serialization or validation error?</p>\n<p>Basically I need a metric for # of 400 errors that occurred, where the request never entered the Controller due to a validation error or a serialization error. This is different from the request entering the controller, and then manually returning a 400 due to domain-level validation errors.</p>\n<p>What I've tried:</p>\n<ul>\n<li>Starting the app and looking for validation metrics specifically via <code>localhost:8080/metrics</code>. (don't see any)</li>\n<li>Checking actuator documentation</li>\n</ul>\n<p>If this isn't available by default, can I add a hook to the code for API level validation failures so that I can increment my own metric?</p>\n<p>Thanks for any help finding existing/free spring boot metrics, or how to add one for this use case.</p>\n"},{"tags":["java","data-structures","time-complexity","big-o","binary-heap"],"answers":[{"tags":[],"owner":{"account_id":2817598,"reputation":6001,"user_id":2422224,"display_name":"Ma3x"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643408044,"creation_date":1643406721,"answer_id":70900682,"question_id":70900465,"body_markdown":"You could think of it like this: since your code is performing both loops sequentially in their entirety, you are doing `M` `add` calls and then another `N` `add` calls. That is a total of `M + N` `add` calls.\r\n\r\nEach `add` call has a time complexity of `O(log(L))`.\r\nBut since you are adding `M` things in the first loop and `N` things in the second loop your `L` is growing linearly as `M + N` does.\r\n\r\nPutting that together you get `(M + N) * log(M + N)` or `L * log(L)`, where `L` is the amount of total items you have to deal with.\r\n\r\nSo your code has `O(n * log n)` time complexity - [linearithmic](https://en.wikipedia.org/wiki/Time_complexity#Quasilinear_time). ","title":"Time complexity of building a heap relative to two arguments, N and M","body":"<p>You could think of it like this: since your code is performing both loops sequentially in their entirety, you are doing <code>M</code> <code>add</code> calls and then another <code>N</code> <code>add</code> calls. That is a total of <code>M + N</code> <code>add</code> calls.</p>\n<p>Each <code>add</code> call has a time complexity of <code>O(log(L))</code>.\nBut since you are adding <code>M</code> things in the first loop and <code>N</code> things in the second loop your <code>L</code> is growing linearly as <code>M + N</code> does.</p>\n<p>Putting that together you get <code>(M + N) * log(M + N)</code> or <code>L * log(L)</code>, where <code>L</code> is the amount of total items you have to deal with.</p>\n<p>So your code has <code>O(n * log n)</code> time complexity - <a href=\"https://en.wikipedia.org/wiki/Time_complexity#Quasilinear_time\" rel=\"nofollow noreferrer\">linearithmic</a>.</p>\n"},{"comments":[{"owner":{"account_id":11688295,"reputation":395,"user_id":8557336,"display_name":"Orr Benyamini"},"score":1,"creation_date":1643418883,"post_id":70901401,"comment_id":125342183,"body_markdown":"Small correction, in the second loop you are inserting N elements to a stack with initially M items, so the complexity is actually N*log(M+N) while in the first loop the stack is initially empty and therefore the complexity is actually M*log(M)","body":"Small correction, in the second loop you are inserting N elements to a stack with initially M items, so the complexity is actually N<i>log(M+N) while in the first loop the stack is initially empty and therefore the complexity is actually M</i>log(M)"}],"tags":[],"owner":{"account_id":8306545,"reputation":47696,"user_id":6243352,"display_name":"ggorlen"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659225016,"creation_date":1643413900,"answer_id":70901401,"question_id":70900465,"body_markdown":"`minHeap.add` is `log(n)` where `n` is the size of the heap. Therefore, building a heap from an array of `n` elements is `O(n log(n))`.\r\n\r\nNow, you&#39;re doing this operation twice for two unrelated variables, `n` and `m`, so you&#39;d normally add them together, `O(n log(n) + m log(m))`.\r\n\r\nHowever, as pointed out in the comments, this is slightly inaccurate because the second operation adds to the existing heap of size `n`, giving `O(n log(n) + m log(m + n))`.\r\n\r\nThere&#39;s not enough information to be able to drop one of the variables since either one might dominate; this is captured in your `Max()` call, but I would avoid it because it&#39;s already implied by the O notation. I&#39;d avoid the variable `L` as well--we&#39;re starting from an empty queue, so we can use `n` and `m` precisely.","title":"Time complexity of building a heap relative to two arguments, N and M","body":"<p><code>minHeap.add</code> is <code>log(n)</code> where <code>n</code> is the size of the heap. Therefore, building a heap from an array of <code>n</code> elements is <code>O(n log(n))</code>.</p>\n<p>Now, you're doing this operation twice for two unrelated variables, <code>n</code> and <code>m</code>, so you'd normally add them together, <code>O(n log(n) + m log(m))</code>.</p>\n<p>However, as pointed out in the comments, this is slightly inaccurate because the second operation adds to the existing heap of size <code>n</code>, giving <code>O(n log(n) + m log(m + n))</code>.</p>\n<p>There's not enough information to be able to drop one of the variables since either one might dominate; this is captured in your <code>Max()</code> call, but I would avoid it because it's already implied by the O notation. I'd avoid the variable <code>L</code> as well--we're starting from an empty queue, so we can use <code>n</code> and <code>m</code> precisely.</p>\n"},{"tags":[],"owner":{"account_id":235018,"reputation":364854,"user_id":501557,"accept_rate":90,"display_name":"templatetypedef"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687896075,"creation_date":1687894896,"answer_id":76568126,"question_id":70900465,"body_markdown":"The TL;DR:\r\n\r\n * Surprisingly, the runtime of this function is **&amp;Theta;(m + n)**, with no logarithms at all!\r\n * However, that’s largely an artifact of the specific sequence of items you’re inserting. If you didn’t know what those items were, the best bound is O((m + n) log (m + n)).\r\n\r\nNow, the details:\r\n\r\n## A &amp;Theta;(m + n) Bound\r\n\r\nTo see why this is, we need a few observations. First, let’s take a look at this loop:\r\n\r\n```java\r\nPriorityQueue&lt;Integer&gt;&gt; minHeap = new PriorityQueue&lt;Integer&gt;();\r\n\r\nfor (int i = 0; i &lt; M; i++) {\r\n     minHeap.add(i);\r\n}\r\n```\r\n\r\nInitially, this looks like it takes time O(m log m): there are m items being added to an initially empty binary heap, so each heap insertion takes at most time O(log m). \r\n\r\nHowever, this bound isn’t tight. In particular, the bound of O(log m) for inserting an item into an m-item binary heap assumes that the item may be swapped all the way to the root of the heap. But in this case, we are inserting the values 0, 1, 2, …, and m - 1, in that order. Therefore, after each item is inserted into the heap, it’s already bigger than its parent, and so no swap occurs. This means that each of these insertions actually takes time O(1), and so the actual cost of inserting those m elements is **&amp;Theta;(m)**.\r\n\r\nWe now come to this part of the code:\r\n\r\n```java\r\nfor (int i = 0; i &lt; N; i++) {\r\n     minHeap.add(i);\r\n}\r\n```\r\n\r\nHow much time does this take? Well, initially, we might say O(n log (m + n)) time: we are doing n insertions into a binary heap, and that heap has at most m + n items in it, so each insertion takes time at most O(log (m+n)).\r\n\r\nBut once again, we’re overestimating the amount of work done. Specifically, we are adding 0, 1, 2, …, and n - 1 to a binary heap that already has 0, 1, 2, …, and m - 1 in it. To understand the effect of doing this, let’s split the elements we’re inserting into two groups: the first m numbers (0, 1, 2, …, m - 1) and the remaining n - m items (m, m+1, …, n). It’s possible that n &lt; m, in which case that second group doesn’t exist and the first group doesn’t actually have m items in it, but let’s ignore that case for now and assume that n &amp;ge; m.\r\n\r\nThe first observation we can make is that inserting that second group of items (m, m+1, …, n) will take time **&amp;Theta;(n - m)**. The reason is basically the same as the reason above: all of those numbers are bigger than all the elements already in the heap. Why? Because at this point the heap will be values between 0 and m-1, inclusive. As a result, each of those insertions will take time O(1) to complete.\r\n\r\nNow, “all” we have to do is analyze the cost of inserting the first group (0, 1, 2, …, m-1) into the heap. Surprisingly, this will always take time **&amp;Theta;(m)**. To see why, let’s make a series of observations.\r\n\r\nRight before we insert the series 0, 1, 2, …, m-1 a second time into the heap, the heap already holds an existing copy of each of the values 0, 1, 2, …, m-1. Let’s color those copies blue, and imagine that the copies we are about to insert a second time are red. In other words, we start with a blue heap, then insert a bunch of red items into it.\r\n\r\nNow, focus on what happens when we insert a red value into the heap. When we do, we place the red value as a leaf of the heap, then start swapping it with its parent until it’s at the root or bigger than its parent. \r\n\r\nA hugely important observation is the following: ***the cost of inserting a red element is proportional to the number of blue nodes it swaps with when it’s inserted***. To see why this is, notice that because we’re inserting the red elements in ascending order, once a red node gets a red parent, it must stop swapping upwards, because it will be bigger than its red parent. Therefore, any swaps that are performed must be between blue nodes and red nodes, so the cost of inserting a red node is the number of blue nodes it swaps with.\r\n\r\nThis is significant because it will let us bound the total work done inserting red nodes into the tree by counting the maximum possible number of times a blue node can be swapped downward with a red node. In particular, every time we swap a blue node with a red node, the blue node gets lower in the heap. So let’s think about how many times the blue nodes can move down in the heap.\r\n\r\nRight before we insert any red nodes into the tree, we have a heap of m blue nodes. The height of this heap is (roughly) lg m, where lg m = log&lt;sub&gt;2&lt;/sub&gt; m.  When we’re done inserting all our red nodes, the heap will have 2m elements in it, so its height will be (roughly) lg (2m) = lg m + 1, one level higher than what we started with.\r\n\r\nNow, look at those blue nodes. Of them, at most half the nodes will be at the bottom layer of the initial heap and thus can be swapped downward at most once. At most a quarter of them will be one level above that, and thus can be swapped downward at most twice. At most an eighth of them will be two levels from the bottom of the original heap and thus can be swapped downward at most three times. Summing this up, we see that the maximum number of swaps is given by\r\n\r\n&gt; &amp;Sigma;&lt;sub&gt;i=1&lt;/sub&gt;&lt;sup&gt;lg m&lt;/sup&gt; i &amp;middot; (m / 2&lt;sup&gt;i&lt;/sup&gt;) = m &amp;Sigma;&lt;sub&gt;i=1&lt;/sub&gt;&lt;sup&gt;lg m&lt;/sup&gt; i / 2&lt;sup&gt;i&lt;/sup&gt;.\r\n\r\nThis sum is basically [the same sum that comes up in the analysis of the heapify algorithm](https://stackoverflow.com/questions/6299859/how-can-stdmake-heap-be-implemented-while-making-at-most-3n-comparisons/6300047#6300047), and it works out to **&amp;Theta;(m)**, so the cost of inserting 0, 1, 2, …, m-1 a second time into the heap is &amp;Theta;(m).\r\n\r\nSo, putting this all together, if n &amp;ge; m, then the runtime of this function is the sum of the following:\r\n\r\n * &amp;Theta;(m) work for inserting 0, 1, 2, …, m-1 into the heap for the first time.\r\n * &amp;Theta;(m) work for inserting 0, 1, 2, …, m-1 into the heap for the second time.\r\n * &amp;Theta;(n-m) work for inserting m, m+1, …, n into the heap.\r\n\r\nThis sums to **&amp;Theta;(m + n)** work, with not a logarithm in sight!\r\n\r\nBut what if n &lt; m? In that case, we can still get the same theta bound. Here’s how. First, notice that we still have to do &amp;Theta;(m) work for the first loop to populate the heap with 0, 1, 2, …, m - 1. From there, we certainly do &amp;Omega;(n) work to add n items into the heap. This gives us a lower bound of &amp;Omega;(m + n) on the total work done\r\n\r\nWe can also upper-bound the work done in the second step at O(m + n). Adding \r\n0, 1, 2, …, n-1 requires no more than the work to add 0, 1, 2, …, m-1 when n &lt; m), and we can upper-bound O(m) with O(m + n). Combined with the work from the first phase, this gives us an upper bound of O(m + n).\r\n\r\nSince we have a matching O and &amp;Omega; bound of m + n in this case, the total work done when n &lt; m similarly works out to **&amp;Theta;(m + n)**.\r\n\r\n## A More General O((m + n) log (m + n)) Bound\r\n\r\nThe analysis in the preceding section relies heavily on the fact that we are inserting sequences of values in increasing order into the binary heap. So let’s suppose that’s not the case, and that instead you insert a sequence of m arbitrary items into an empty binary heap, then a sequence of n arbitrary items into that heap. How much time work that take?\r\n\r\nIn that case, you’re inserting a total of m+n arbitrary items into a binary heap. We can bound the amount of work done here at O((m + n) log (m + n)) because each insertion adds to a heap with at most m + n items in it.\r\n\r\nBut can we tighten this bound at all? Not really. If we assume that every insertion has to walk all the way up to the top of the heap, then the total work done will be\r\n\r\n&gt; lg 1 + lg 2 + … + lg (m+n).\r\n\r\nThe sum rule of logarithms then says that this is lg (m+n)!. And thanks to [Stirling’s approximation](https://en.wikipedia.org/wiki/Stirling%27s_approximation), we know that \r\n\r\n&gt; lg (m+n)! = &amp;Theta;((m + n) log (m + n)),\r\n\r\nso a more precise accounting of the sizes of the heaps as we do the insertions won’t asymptotically change the runtime.\r\n\r\n","title":"Time complexity of building a heap relative to two arguments, N and M","body":"<p>The TL;DR:</p>\n<ul>\n<li>Surprisingly, the runtime of this function is <strong>Θ(m + n)</strong>, with no logarithms at all!</li>\n<li>However, that’s largely an artifact of the specific sequence of items you’re inserting. If you didn’t know what those items were, the best bound is O((m + n) log (m + n)).</li>\n</ul>\n<p>Now, the details:</p>\n<h2>A Θ(m + n) Bound</h2>\n<p>To see why this is, we need a few observations. First, let’s take a look at this loop:</p>\n<pre class=\"lang-java prettyprint-override\"><code>PriorityQueue&lt;Integer&gt;&gt; minHeap = new PriorityQueue&lt;Integer&gt;();\n\nfor (int i = 0; i &lt; M; i++) {\n     minHeap.add(i);\n}\n</code></pre>\n<p>Initially, this looks like it takes time O(m log m): there are m items being added to an initially empty binary heap, so each heap insertion takes at most time O(log m).</p>\n<p>However, this bound isn’t tight. In particular, the bound of O(log m) for inserting an item into an m-item binary heap assumes that the item may be swapped all the way to the root of the heap. But in this case, we are inserting the values 0, 1, 2, …, and m - 1, in that order. Therefore, after each item is inserted into the heap, it’s already bigger than its parent, and so no swap occurs. This means that each of these insertions actually takes time O(1), and so the actual cost of inserting those m elements is <strong>Θ(m)</strong>.</p>\n<p>We now come to this part of the code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>for (int i = 0; i &lt; N; i++) {\n     minHeap.add(i);\n}\n</code></pre>\n<p>How much time does this take? Well, initially, we might say O(n log (m + n)) time: we are doing n insertions into a binary heap, and that heap has at most m + n items in it, so each insertion takes time at most O(log (m+n)).</p>\n<p>But once again, we’re overestimating the amount of work done. Specifically, we are adding 0, 1, 2, …, and n - 1 to a binary heap that already has 0, 1, 2, …, and m - 1 in it. To understand the effect of doing this, let’s split the elements we’re inserting into two groups: the first m numbers (0, 1, 2, …, m - 1) and the remaining n - m items (m, m+1, …, n). It’s possible that n &lt; m, in which case that second group doesn’t exist and the first group doesn’t actually have m items in it, but let’s ignore that case for now and assume that n ≥ m.</p>\n<p>The first observation we can make is that inserting that second group of items (m, m+1, …, n) will take time <strong>Θ(n - m)</strong>. The reason is basically the same as the reason above: all of those numbers are bigger than all the elements already in the heap. Why? Because at this point the heap will be values between 0 and m-1, inclusive. As a result, each of those insertions will take time O(1) to complete.</p>\n<p>Now, “all” we have to do is analyze the cost of inserting the first group (0, 1, 2, …, m-1) into the heap. Surprisingly, this will always take time <strong>Θ(m)</strong>. To see why, let’s make a series of observations.</p>\n<p>Right before we insert the series 0, 1, 2, …, m-1 a second time into the heap, the heap already holds an existing copy of each of the values 0, 1, 2, …, m-1. Let’s color those copies blue, and imagine that the copies we are about to insert a second time are red. In other words, we start with a blue heap, then insert a bunch of red items into it.</p>\n<p>Now, focus on what happens when we insert a red value into the heap. When we do, we place the red value as a leaf of the heap, then start swapping it with its parent until it’s at the root or bigger than its parent.</p>\n<p>A hugely important observation is the following: <em><strong>the cost of inserting a red element is proportional to the number of blue nodes it swaps with when it’s inserted</strong></em>. To see why this is, notice that because we’re inserting the red elements in ascending order, once a red node gets a red parent, it must stop swapping upwards, because it will be bigger than its red parent. Therefore, any swaps that are performed must be between blue nodes and red nodes, so the cost of inserting a red node is the number of blue nodes it swaps with.</p>\n<p>This is significant because it will let us bound the total work done inserting red nodes into the tree by counting the maximum possible number of times a blue node can be swapped downward with a red node. In particular, every time we swap a blue node with a red node, the blue node gets lower in the heap. So let’s think about how many times the blue nodes can move down in the heap.</p>\n<p>Right before we insert any red nodes into the tree, we have a heap of m blue nodes. The height of this heap is (roughly) lg m, where lg m = log<sub>2</sub> m.  When we’re done inserting all our red nodes, the heap will have 2m elements in it, so its height will be (roughly) lg (2m) = lg m + 1, one level higher than what we started with.</p>\n<p>Now, look at those blue nodes. Of them, at most half the nodes will be at the bottom layer of the initial heap and thus can be swapped downward at most once. At most a quarter of them will be one level above that, and thus can be swapped downward at most twice. At most an eighth of them will be two levels from the bottom of the original heap and thus can be swapped downward at most three times. Summing this up, we see that the maximum number of swaps is given by</p>\n<blockquote>\n<p>Σ<sub>i=1</sub><sup>lg m</sup> i · (m / 2<sup>i</sup>) = m Σ<sub>i=1</sub><sup>lg m</sup> i / 2<sup>i</sup>.</p>\n</blockquote>\n<p>This sum is basically <a href=\"https://stackoverflow.com/questions/6299859/how-can-stdmake-heap-be-implemented-while-making-at-most-3n-comparisons/6300047#6300047\">the same sum that comes up in the analysis of the heapify algorithm</a>, and it works out to <strong>Θ(m)</strong>, so the cost of inserting 0, 1, 2, …, m-1 a second time into the heap is Θ(m).</p>\n<p>So, putting this all together, if n ≥ m, then the runtime of this function is the sum of the following:</p>\n<ul>\n<li>Θ(m) work for inserting 0, 1, 2, …, m-1 into the heap for the first time.</li>\n<li>Θ(m) work for inserting 0, 1, 2, …, m-1 into the heap for the second time.</li>\n<li>Θ(n-m) work for inserting m, m+1, …, n into the heap.</li>\n</ul>\n<p>This sums to <strong>Θ(m + n)</strong> work, with not a logarithm in sight!</p>\n<p>But what if n &lt; m? In that case, we can still get the same theta bound. Here’s how. First, notice that we still have to do Θ(m) work for the first loop to populate the heap with 0, 1, 2, …, m - 1. From there, we certainly do Ω(n) work to add n items into the heap. This gives us a lower bound of Ω(m + n) on the total work done</p>\n<p>We can also upper-bound the work done in the second step at O(m + n). Adding\n0, 1, 2, …, n-1 requires no more than the work to add 0, 1, 2, …, m-1 when n &lt; m), and we can upper-bound O(m) with O(m + n). Combined with the work from the first phase, this gives us an upper bound of O(m + n).</p>\n<p>Since we have a matching O and Ω bound of m + n in this case, the total work done when n &lt; m similarly works out to <strong>Θ(m + n)</strong>.</p>\n<h2>A More General O((m + n) log (m + n)) Bound</h2>\n<p>The analysis in the preceding section relies heavily on the fact that we are inserting sequences of values in increasing order into the binary heap. So let’s suppose that’s not the case, and that instead you insert a sequence of m arbitrary items into an empty binary heap, then a sequence of n arbitrary items into that heap. How much time work that take?</p>\n<p>In that case, you’re inserting a total of m+n arbitrary items into a binary heap. We can bound the amount of work done here at O((m + n) log (m + n)) because each insertion adds to a heap with at most m + n items in it.</p>\n<p>But can we tighten this bound at all? Not really. If we assume that every insertion has to walk all the way up to the top of the heap, then the total work done will be</p>\n<blockquote>\n<p>lg 1 + lg 2 + … + lg (m+n).</p>\n</blockquote>\n<p>The sum rule of logarithms then says that this is lg (m+n)!. And thanks to <a href=\"https://en.wikipedia.org/wiki/Stirling%27s_approximation\" rel=\"nofollow noreferrer\">Stirling’s approximation</a>, we know that</p>\n<blockquote>\n<p>lg (m+n)! = Θ((m + n) log (m + n)),</p>\n</blockquote>\n<p>so a more precise accounting of the sizes of the heaps as we do the insertions won’t asymptotically change the runtime.</p>\n"}],"owner":{"account_id":22338831,"reputation":41,"user_id":16558909,"display_name":"calvinhobbes123"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":76,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":3,"score":3,"last_activity_date":1687896075,"creation_date":1643405143,"question_id":70900465,"body_markdown":"Using the below code as an example:\r\n```\r\npublic void method bigO(int N, int M){\r\n    PriorityQueue&lt;Integer&gt;&gt; minHeap = new PriorityQueue&lt;Integer&gt;();\r\n\r\n    for (int i = 0; i &lt; M; i++) {\r\n         minHeap.add(i);\r\n    }\r\n\r\n    for (int i = 0; i &lt; N; i++) {\r\n         minHeap.add(i);\r\n    }\r\n}\r\n```\r\nThe first loop would have time complexity of O(M log(L)) where L is the size/length of the heap. Similarly, the second loop would have complexity O(N log(L)). Since both M and N are linear terms, how would you determine the overall complexity? Would the overall complexity be something like Max(M log(L), N log(L))?","title":"Time complexity of building a heap relative to two arguments, N and M","body":"<p>Using the below code as an example:</p>\n<pre><code>public void method bigO(int N, int M){\n    PriorityQueue&lt;Integer&gt;&gt; minHeap = new PriorityQueue&lt;Integer&gt;();\n\n    for (int i = 0; i &lt; M; i++) {\n         minHeap.add(i);\n    }\n\n    for (int i = 0; i &lt; N; i++) {\n         minHeap.add(i);\n    }\n}\n</code></pre>\n<p>The first loop would have time complexity of O(M log(L)) where L is the size/length of the heap. Similarly, the second loop would have complexity O(N log(L)). Since both M and N are linear terms, how would you determine the overall complexity? Would the overall complexity be something like Max(M log(L), N log(L))?</p>\n"},{"tags":["java","string","uppercase","lowercase","capitalization"],"comments":[{"owner":{"account_id":20937,"reputation":167576,"user_id":50476,"accept_rate":100,"display_name":"Bart Kiers"},"score":21,"creation_date":1260624869,"post_id":1892765,"comment_id":1794953,"body_markdown":"What about `old mcdonald`? Should that become `Old McDonald`?","body":"What about <code>old mcdonald</code>? Should that become <code>Old McDonald</code>?"},{"owner":{"account_id":13538,"reputation":5359,"user_id":27281,"accept_rate":25,"display_name":"WillfulWizard"},"score":2,"creation_date":1260644191,"post_id":1892765,"comment_id":1796026,"body_markdown":"I don&#39;t expect the function to be that smart. (Although if you have one I&#39;d be happy to see it.) Just Up the first letter after white space, but ignore the rest.","body":"I don&#39;t expect the function to be that smart. (Although if you have one I&#39;d be happy to see it.) Just Up the first letter after white space, but ignore the rest."},{"owner":{"account_id":33225,"reputation":15469,"user_id":92813,"accept_rate":71,"display_name":"Chris"},"score":0,"creation_date":1289042367,"post_id":1892765,"comment_id":4428836,"body_markdown":"releated: http://stackoverflow.com/questions/1149855/how-to-upper-case-every-first-letter-of-word-in-a-string","body":"releated: <a href=\"http://stackoverflow.com/questions/1149855/how-to-upper-case-every-first-letter-of-word-in-a-string\" title=\"how to upper case every first letter of word in a string\">stackoverflow.com/questions/1149855/&hellip;</a>"},{"owner":{"account_id":5168,"reputation":6385,"user_id":8174,"display_name":"Dave DuPlantis"},"score":1,"creation_date":1307735394,"post_id":1892765,"comment_id":7375662,"body_markdown":"You wouldn&#39;t be able to find an algorithm that properly handles name capitalization after the fact anyway ... as long as there are pairs of names, either of which may be correct for a given person, like MacDonald and Macdonald, the function would have no way of knowing which was correct. It&#39;s better to do what you did, although you&#39;ll still get some names wrong (like von Neumann).","body":"You wouldn&#39;t be able to find an algorithm that properly handles name capitalization after the fact anyway ... as long as there are pairs of names, either of which may be correct for a given person, like MacDonald and Macdonald, the function would have no way of knowing which was correct. It&#39;s better to do what you did, although you&#39;ll still get some names wrong (like von Neumann)."},{"owner":{"account_id":2001051,"reputation":1982,"user_id":1820715,"accept_rate":75,"display_name":"Magno C"},"score":0,"creation_date":1531707096,"post_id":1892765,"comment_id":89680091,"body_markdown":"Try Burger King ...","body":"Try Burger King ..."},{"owner":{"account_id":332245,"reputation":16487,"user_id":657427,"accept_rate":67,"display_name":"Christophe Roussy"},"score":0,"creation_date":1547812681,"post_id":1892765,"comment_id":95330990,"body_markdown":"Also related: https://stackoverflow.com/questions/22230306/capitalizing-hyphenated-names/54253456#54253456","body":"Also related: <a href=\"https://stackoverflow.com/questions/22230306/capitalizing-hyphenated-names/54253456#54253456\" title=\"capitalizing hyphenated names\">stackoverflow.com/questions/22230306/&hellip;</a>"},{"owner":{"account_id":332245,"reputation":16487,"user_id":657427,"accept_rate":67,"display_name":"Christophe Roussy"},"score":0,"creation_date":1547813047,"post_id":1892765,"comment_id":95331207,"body_markdown":"Good read: https://www.w3.org/International/questions/qa-personal-names","body":"Good read: <a href=\"https://www.w3.org/International/questions/qa-personal-names\" rel=\"nofollow noreferrer\">w3.org/International/questions/qa-personal-names</a>"}],"answers":[{"comments":[{"owner":{"account_id":5796,"reputation":1806,"user_id":9504,"display_name":"Hans Doggen"},"score":5,"creation_date":1260606780,"post_id":1892778,"comment_id":1794277,"body_markdown":"I think you mean WordUtils.capitalize(str). See API for details.","body":"I think you mean WordUtils.capitalize(str). See API for details."},{"owner":{"account_id":70258,"reputation":590444,"user_id":203907,"accept_rate":81,"display_name":"Bozho"},"score":0,"creation_date":1260607222,"post_id":1892778,"comment_id":1794287,"body_markdown":"yeah. StringUtils also has it, but for one-word strings. Thanks.","body":"yeah. StringUtils also has it, but for one-word strings. Thanks."},{"owner":{"account_id":24844,"reputation":10434,"user_id":63436,"accept_rate":75,"display_name":"Ravi Wallau"},"score":90,"creation_date":1260608344,"post_id":1892778,"comment_id":1794319,"body_markdown":"Keeping my philosophy of always voting up answers that refer to the commons libraries.","body":"Keeping my philosophy of always voting up answers that refer to the commons libraries."},{"owner":{"account_id":13538,"reputation":5359,"user_id":27281,"accept_rate":25,"display_name":"WillfulWizard"},"score":1,"creation_date":1260609202,"post_id":1892778,"comment_id":1794340,"body_markdown":"A common library is exactly what I was asking for: debugging (hopefully) done.\n\nStill would love to see a function that doesn&#39;t require a download separate from the JDK, but this is everything else I was looking for. Thank you!","body":"A common library is exactly what I was asking for: debugging (hopefully) done.  Still would love to see a function that doesn&#39;t require a download separate from the JDK, but this is everything else I was looking for. Thank you!"},{"owner":{"account_id":149438,"reputation":1232,"user_id":361929,"display_name":"Umesh Rajbhandari"},"score":11,"creation_date":1329110607,"post_id":1892778,"comment_id":11663952,"body_markdown":"To change the non-first letter to the words to lowercase, use capitalizeFully(str).","body":"To change the non-first letter to the words to lowercase, use capitalizeFully(str)."},{"owner":{"account_id":122311,"reputation":7485,"user_id":316041,"accept_rate":75,"display_name":"bancer"},"score":1,"creation_date":1352425034,"post_id":1892778,"comment_id":18138653,"body_markdown":"I wonder why this answer got so many upvotes. According to documentation `WordUtils.capitalize(str)` &quot;Capitalizes all the **whitespace** separated words in a String.&quot; So, in order to accomplish Willfulwizard&#39;s task `capitalize(String str, char[] delimiters)` method should be used where all possible delimiters must be specified. I would consider that inconvenient.","body":"I wonder why this answer got so many upvotes. According to documentation <code>WordUtils.capitalize(str)</code> &quot;Capitalizes all the <b>whitespace</b> separated words in a String.&quot; So, in order to accomplish Willfulwizard&#39;s task <code>capitalize(String str, char[] delimiters)</code> method should be used where all possible delimiters must be specified. I would consider that inconvenient."},{"owner":{"account_id":70258,"reputation":590444,"user_id":203907,"accept_rate":81,"display_name":"Bozho"},"score":1,"creation_date":1352449750,"post_id":1892778,"comment_id":18144327,"body_markdown":"well, capitalize(..) will cover his case. The only exception would be if &quot;o&#39;brian&quot; is specified - then B won&#39;t be capitalized. In that case you can use the extra char[] delimiters, indeed","body":"well, capitalize(..) will cover his case. The only exception would be if &quot;o&#39;brian&quot; is specified - then B won&#39;t be capitalized. In that case you can use the extra char[] delimiters, indeed"},{"owner":{"account_id":70258,"reputation":590444,"user_id":203907,"accept_rate":81,"display_name":"Bozho"},"score":2,"creation_date":1352449785,"post_id":1892778,"comment_id":18144340,"body_markdown":"and I guess it got so many upvotes because it answers the title. People usually look for how to capitalize words and find this useful","body":"and I guess it got so many upvotes because it answers the title. People usually look for how to capitalize words and find this useful"},{"owner":{"account_id":146387,"reputation":4170,"user_id":356815,"accept_rate":74,"display_name":"basZero"},"score":6,"creation_date":1363276352,"post_id":1892778,"comment_id":21794795,"body_markdown":"**Is this solution really correct**? it isn&#39;t in my opinion! If you want to capitalize &quot;LAMborghini&quot;, you want &quot;Lamborghini&quot; in the end. So **`WordUtils.capitalizeFully(str)`** is the solution.","body":"<b>Is this solution really correct</b>? it isn&#39;t in my opinion! If you want to capitalize &quot;LAMborghini&quot;, you want &quot;Lamborghini&quot; in the end. So <b><code>WordUtils.capitalizeFully(str)</code></b> is the solution."},{"owner":{"account_id":70258,"reputation":590444,"user_id":203907,"accept_rate":81,"display_name":"Bozho"},"score":3,"creation_date":1363279018,"post_id":1892778,"comment_id":21796477,"body_markdown":"@BasZero it is the right answer to the question asked. I will include the Fully version as a comment.","body":"@BasZero it is the right answer to the question asked. I will include the Fully version as a comment."},{"owner":{"account_id":985380,"reputation":7450,"user_id":1005102,"accept_rate":71,"display_name":"Utku &#214;zdemir"},"score":2,"creation_date":1387543874,"post_id":1892778,"comment_id":31010171,"body_markdown":"I think these methods in this library should also take a Locale parameter.","body":"I think these methods in this library should also take a Locale parameter."},{"owner":{"account_id":3039548,"reputation":14565,"user_id":2576903,"accept_rate":90,"display_name":"Kaloyan Roussev"},"score":0,"creation_date":1402207753,"post_id":1892778,"comment_id":37180958,"body_markdown":"when i try using WordUtils and hover over it, there is no import option","body":"when i try using WordUtils and hover over it, there is no import option"},{"owner":{"account_id":1533854,"reputation":904,"user_id":1430390,"accept_rate":8,"display_name":"Toochka"},"score":0,"creation_date":1453476266,"post_id":1892778,"comment_id":57631736,"body_markdown":"In this case I&#39;d prefer `capitalizeFully(String, char...)`","body":"In this case I&#39;d prefer <code>capitalizeFully(String, char...)</code>"},{"owner":{"account_id":1004737,"reputation":6077,"user_id":1018790,"display_name":"Christian Gr&#252;n"},"score":0,"creation_date":1488463113,"post_id":1892778,"comment_id":72249133,"body_markdown":"Unfortunately, the discussed functions of the common library do not support surrogate pairs, which get more and more common.","body":"Unfortunately, the discussed functions of the common library do not support surrogate pairs, which get more and more common."},{"owner":{"account_id":3151238,"reputation":3086,"user_id":2664649,"accept_rate":60,"display_name":"Amey Jadiye"},"score":0,"creation_date":1499021118,"post_id":1892778,"comment_id":76726493,"body_markdown":"Now this method is moved from commons-lang to commons-text and yes it support surrogate pairs as well.","body":"Now this method is moved from commons-lang to commons-text and yes it support surrogate pairs as well."},{"owner":{"account_id":1198408,"reputation":686,"user_id":1169626,"display_name":"Matt W"},"score":8,"creation_date":1501701334,"post_id":1892778,"comment_id":77899334,"body_markdown":"Just a note, WordUtils is now deprecated, and part of the Apache Commons Text library - https://commons.apache.org/proper/commons-text/","body":"Just a note, WordUtils is now deprecated, and part of the Apache Commons Text library - <a href=\"https://commons.apache.org/proper/commons-text/\" rel=\"nofollow noreferrer\">commons.apache.org/proper/commons-text</a>"},{"owner":{"account_id":13445963,"reputation":1040,"user_id":11329518,"display_name":"Guillaume F."},"score":0,"creation_date":1591737427,"post_id":1892778,"comment_id":110169266,"body_markdown":"The `capitalize` doesn&#39;t properly capitalize names with `&#39;` in it: `capitalize(&quot;rick o&#39;shea&quot;)` returns `Rick O&#39;shea` instead of `Rick O&#39;Shea`.","body":"The <code>capitalize</code> doesn&#39;t properly capitalize names with <code>&#39;</code> in it: <code>capitalize(&quot;rick o&#39;shea&quot;)</code> returns <code>Rick O&#39;shea</code> instead of <code>Rick O&#39;Shea</code>."},{"owner":{"account_id":322284,"reputation":16565,"user_id":641627,"display_name":"alexbt"},"score":1,"creation_date":1597583951,"post_id":1892778,"comment_id":112174529,"body_markdown":"@GuillaumeF you can specify the words separators: `String fullyCapitalized = WordUtils.capitalizeFully(&quot;rick o&#39;shea&quot;, &#39; &#39;, &#39;\\&#39;&#39;);`","body":"@GuillaumeF you can specify the words separators: <code>String fullyCapitalized = WordUtils.capitalizeFully(&quot;rick o&#39;shea&quot;, &#39; &#39;, &#39;\\&#39;&#39;);</code>"}],"tags":[],"owner":{"account_id":70258,"reputation":590444,"user_id":203907,"accept_rate":81,"display_name":"Bozho"},"comment_count":18,"down_vote_count":7,"up_vote_count":802,"is_accepted":true,"score":795,"last_activity_date":1636566413,"creation_date":1260606617,"answer_id":1892778,"question_id":1892765,"body_markdown":"[`WordUtils.capitalize(str)`][1] (from &lt;a href=&quot;http://commons.apache.org/proper/commons-text/&quot;&gt;apache commons-text&lt;/a&gt;)\r\n\r\n(Note: if you need `&quot;fOO BAr&quot;` to become `&quot;Foo Bar&quot;`, then use `capitalizeFully(..)` instead)\r\n\r\n  [1]: http://commons.apache.org/proper/commons-text/apidocs/org/apache/commons/text/WordUtils.html#capitalize-java.lang.String-","title":"How to capitalize the first character of each word in a string","body":"<p><a href=\"http://commons.apache.org/proper/commons-text/apidocs/org/apache/commons/text/WordUtils.html#capitalize-java.lang.String-\" rel=\"noreferrer\"><code>WordUtils.capitalize(str)</code></a> (from <a href=\"http://commons.apache.org/proper/commons-text/\" rel=\"noreferrer\">apache commons-text</a>)</p>\n<p>(Note: if you need <code>&quot;fOO BAr&quot;</code> to become <code>&quot;Foo Bar&quot;</code>, then use <code>capitalizeFully(..)</code> instead)</p>\n"},{"comments":[{"owner":{"account_id":122311,"reputation":7485,"user_id":316041,"accept_rate":75,"display_name":"bancer"},"score":0,"creation_date":1352423975,"post_id":1892812,"comment_id":18138410,"body_markdown":"I would improve and simplify the loop conditions: `if(Character.isLetter(chars[i])) {\n\t\t\t\tif(!found) {\n\t\t\t\t\tchars[i] = Character.toUpperCase(chars[i]);\n\t\t\t\t}\n\t\t\t\tfound = true;\n\t\t\t} else {\n\t\t\t\tfound = false;\n\t\t\t}`.","body":"I would improve and simplify the loop conditions: <code>if(Character.isLetter(chars[i])) { \t\t\t\tif(!found) { \t\t\t\t\tchars[i] = Character.toUpperCase(chars[i]); \t\t\t\t} \t\t\t\tfound = true; \t\t\t} else { \t\t\t\tfound = false; \t\t\t}</code>."},{"owner":{"account_id":46515,"reputation":8715,"user_id":137483,"accept_rate":96,"display_name":"True Soft"},"score":0,"creation_date":1352493258,"post_id":1892812,"comment_id":18162906,"body_markdown":"@bancer, with your example you can&#39;t control which characters won&#39;t be followed by an uppercase letter.","body":"@bancer, with your example you can&#39;t control which characters won&#39;t be followed by an uppercase letter."},{"owner":{"account_id":122311,"reputation":7485,"user_id":316041,"accept_rate":75,"display_name":"bancer"},"score":0,"creation_date":1352509785,"post_id":1892812,"comment_id":18167322,"body_markdown":"@TrueSoft, I do not understand you. Why do you need to control what characters follows after uppercase letter? As I understood it is important that the preceding character would not be a letter and my example ensures that. Just replace your if-else-if block with my if-else block and run a test.","body":"@TrueSoft, I do not understand you. Why do you need to control what characters follows after uppercase letter? As I understood it is important that the preceding character would not be a letter and my example ensures that. Just replace your if-else-if block with my if-else block and run a test."},{"owner":{"account_id":122311,"reputation":7485,"user_id":316041,"accept_rate":75,"display_name":"bancer"},"score":0,"creation_date":1352510571,"post_id":1892812,"comment_id":18167443,"body_markdown":"@TrueSoft, for clarity I would rename `found` to `previousCharIsLetter`.","body":"@TrueSoft, for clarity I would rename <code>found</code> to <code>previousCharIsLetter</code>."},{"owner":{"account_id":46515,"reputation":8715,"user_id":137483,"accept_rate":96,"display_name":"True Soft"},"score":0,"creation_date":1352549701,"post_id":1892812,"comment_id":18173016,"body_markdown":"@bancer, In my example, for `&quot;my@email&quot;` the result is `&quot;My@email&quot;`. In your case, the `e` after `@` would be uppercase. So I can decide when I should make a letter uppercase: after a whitespace, or `.` and `&#39;` characters.","body":"@bancer, In my example, for <code>&quot;my@email&quot;</code> the result is <code>&quot;My@email&quot;</code>. In your case, the <code>e</code> after <code>@</code> would be uppercase. So I can decide when I should make a letter uppercase: after a whitespace, or <code>.</code> and <code>&#39;</code> characters."},{"owner":{"account_id":1820003,"reputation":49625,"user_id":1654265,"accept_rate":93,"display_name":"Andrea Ligios"},"score":0,"creation_date":1354296726,"post_id":1892812,"comment_id":18729056,"body_markdown":"@TomHawtin please take a look at mine answer (check if it works), i&#39;ve started to handle surrogate pairs after reading your comment :) never heard of that before...","body":"@TomHawtin please take a look at mine answer (check if it works), i&#39;ve started to handle surrogate pairs after reading your comment :) never heard of that before..."},{"owner":{"account_id":398634,"reputation":398,"user_id":763414,"accept_rate":40,"display_name":"Heckman"},"score":18,"creation_date":1374166364,"post_id":1892812,"comment_id":25844324,"body_markdown":"I like having answers that don&#39;t use the commons library, because every once in a while you can&#39;t use it.","body":"I like having answers that don&#39;t use the commons library, because every once in a while you can&#39;t use it."},{"owner":{"account_id":2023658,"reputation":4128,"user_id":1809268,"accept_rate":22,"display_name":"Ajith M A"},"score":0,"creation_date":1589801340,"post_id":1892812,"comment_id":109427711,"body_markdown":"Instead of adding all the characters manually you can simply use\n\nelse if (!(Character.isDigit(chars[i]) || Character.isLetter(chars[i]))) {\n                    found = false;\n                }","body":"Instead of adding all the characters manually you can simply use  else if (!(Character.isDigit(chars[i]) || Character.isLetter(chars[i]))) {                     found = false;                 }"}],"tags":[],"owner":{"account_id":46515,"reputation":8715,"user_id":137483,"accept_rate":96,"display_name":"True Soft"},"comment_count":8,"down_vote_count":2,"up_vote_count":88,"is_accepted":false,"score":86,"last_activity_date":1260608016,"creation_date":1260608016,"answer_id":1892812,"question_id":1892765,"body_markdown":"The following method converts all the letters into upper/lower case, depending on their position near a space or other special chars.\r\n\r\n    public static String capitalizeString(String string) {\r\n      char[] chars = string.toLowerCase().toCharArray();\r\n      boolean found = false;\r\n      for (int i = 0; i &lt; chars.length; i++) {\r\n        if (!found &amp;&amp; Character.isLetter(chars[i])) {\r\n          chars[i] = Character.toUpperCase(chars[i]);\r\n          found = true;\r\n        } else if (Character.isWhitespace(chars[i]) || chars[i]==&#39;.&#39; || chars[i]==&#39;\\&#39;&#39;) { // You can add other chars here\r\n          found = false;\r\n        }\r\n      }\r\n      return String.valueOf(chars);\r\n    }","title":"How to capitalize the first character of each word in a string","body":"<p>The following method converts all the letters into upper/lower case, depending on their position near a space or other special chars.</p>\n\n<pre><code>public static String capitalizeString(String string) {\n  char[] chars = string.toLowerCase().toCharArray();\n  boolean found = false;\n  for (int i = 0; i &lt; chars.length; i++) {\n    if (!found &amp;&amp; Character.isLetter(chars[i])) {\n      chars[i] = Character.toUpperCase(chars[i]);\n      found = true;\n    } else if (Character.isWhitespace(chars[i]) || chars[i]=='.' || chars[i]=='\\'') { // You can add other chars here\n      found = false;\n    }\n  }\n  return String.valueOf(chars);\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":5058038,"reputation":549,"user_id":4060622,"accept_rate":67,"display_name":"abhishah901"},"score":0,"creation_date":1446133288,"post_id":6979216,"comment_id":54626857,"body_markdown":"This is the most simple, basic and best answer for a novice like me!","body":"This is the most simple, basic and best answer for a novice like me!"}],"tags":[],"owner":{"account_id":795736,"reputation":31,"user_id":883618,"display_name":"Suganya"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1312808646,"creation_date":1312790596,"answer_id":6979216,"question_id":1892765,"body_markdown":"    BufferedReader br = new BufferedReader(new InputStreamReader(System.in));\t\r\n    \r\n    System.out.println(&quot;Enter the sentence : &quot;);\r\n    \r\n    try\r\n    {\r\n    \tString str = br.readLine();\r\n    \tchar[] str1 = new char[str.length()];\r\n    \t\r\n    \tfor(int i=0; i&lt;str.length(); i++)\r\n    \t{\r\n    \t\tstr1[i] = Character.toLowerCase(str.charAt(i));\r\n    \t}\r\n    \t\r\n    \tstr1[0] = Character.toUpperCase(str1[0]);\r\n    \tfor(int i=0;i&lt;str.length();i++)\r\n    \t{\r\n    \t\tif(str1[i] == &#39; &#39;)\r\n    \t\t{\t\t\t\t\t\r\n    \t\t\tstr1[i+1] =  Character.toUpperCase(str1[i+1]);\r\n    \t\t}\r\n    \t\tSystem.out.print(str1[i]);\r\n    \t}\r\n    }\r\n    catch(Exception e)\r\n    {\r\n    \tSystem.err.println(&quot;Error: &quot; + e.getMessage());\r\n    }","title":"How to capitalize the first character of each word in a string","body":"<pre><code>BufferedReader br = new BufferedReader(new InputStreamReader(System.in));   \n\nSystem.out.println(\"Enter the sentence : \");\n\ntry\n{\n    String str = br.readLine();\n    char[] str1 = new char[str.length()];\n\n    for(int i=0; i&lt;str.length(); i++)\n    {\n        str1[i] = Character.toLowerCase(str.charAt(i));\n    }\n\n    str1[0] = Character.toUpperCase(str1[0]);\n    for(int i=0;i&lt;str.length();i++)\n    {\n        if(str1[i] == ' ')\n        {                   \n            str1[i+1] =  Character.toUpperCase(str1[i+1]);\n        }\n        System.out.print(str1[i]);\n    }\n}\ncatch(Exception e)\n{\n    System.err.println(\"Error: \" + e.getMessage());\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":240552,"reputation":8202,"user_id":510872,"display_name":"jengelsma"},"score":1,"creation_date":1333151459,"post_id":7012195,"comment_id":12708456,"body_markdown":"Hmmm, I think the second line in the for loop should read: toBeCapped +=  &quot; &quot; + capLetter + tokens[i].substring(1, tokens[i].length());","body":"Hmmm, I think the second line in the for loop should read: toBeCapped +=  &quot; &quot; + capLetter + tokens[i].substring(1, tokens[i].length());"},{"owner":{"account_id":4646044,"reputation":2898,"user_id":3764306,"accept_rate":25,"display_name":"Kamalakannan J"},"score":2,"creation_date":1437562171,"post_id":7012195,"comment_id":51077780,"body_markdown":"But this solution will add a whitespace at the starting. So you may need to do left trim.","body":"But this solution will add a whitespace at the starting. So you may need to do left trim."}],"tags":[],"owner":{"account_id":476901,"reputation":2441,"user_id":888059,"accept_rate":88,"display_name":"Reid Mac"},"comment_count":2,"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1437577584,"creation_date":1312985434,"answer_id":7012195,"question_id":1892765,"body_markdown":"    String toBeCapped = &quot;i want this sentence capitalized&quot;;\r\n\r\n    String[] tokens = toBeCapped.split(&quot;\\\\s&quot;);\r\n\ttoBeCapped = &quot;&quot;;\r\n\t\r\n\tfor(int i = 0; i &lt; tokens.length; i++){\r\n\t\tchar capLetter = Character.toUpperCase(tokens[i].charAt(0));\r\n\t\ttoBeCapped +=  &quot; &quot; + capLetter + tokens[i].substring(1);\r\n\t}\r\n    toBeCapped = toBeCapped.trim();","title":"How to capitalize the first character of each word in a string","body":"<pre><code>String toBeCapped = \"i want this sentence capitalized\";\n\nString[] tokens = toBeCapped.split(\"\\\\s\");\ntoBeCapped = \"\";\n\nfor(int i = 0; i &lt; tokens.length; i++){\n    char capLetter = Character.toUpperCase(tokens[i].charAt(0));\n    toBeCapped +=  \" \" + capLetter + tokens[i].substring(1);\n}\ntoBeCapped = toBeCapped.trim();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":909442,"reputation":11,"user_id":943628,"display_name":"Shogo Yahagi"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1352686654,"creation_date":1315960005,"answer_id":7410008,"question_id":1892765,"body_markdown":"For those of you using Velocity in your MVC, you can use the `capitalizeFirstLetter()` method from [the StringUtils class][1].\r\n\r\n\r\n  [1]: http://velocity.apache.org/engine/releases/velocity-1.4/api/org/apache/velocity/util/StringUtils.html","title":"How to capitalize the first character of each word in a string","body":"<p>For those of you using Velocity in your MVC, you can use the <code>capitalizeFirstLetter()</code> method from <a href=\"http://velocity.apache.org/engine/releases/velocity-1.4/api/org/apache/velocity/util/StringUtils.html\" rel=\"nofollow\">the StringUtils class</a>.</p>\n"},{"comments":[{"owner":{"account_id":1100048,"reputation":1008,"user_id":1092670,"accept_rate":93,"display_name":"AnthonyJClink"},"score":0,"creation_date":1495870872,"post_id":7702135,"comment_id":75440060,"body_markdown":"far far too complex","body":"far far too complex"}],"tags":[],"owner":{"account_id":962016,"reputation":5,"user_id":986155,"display_name":"shraddha"},"comment_count":1,"down_vote_count":6,"up_vote_count":1,"is_accepted":false,"score":-5,"last_activity_date":1318146419,"creation_date":1318146419,"answer_id":7702135,"question_id":1892765,"body_markdown":"    import java.io.*;\r\n    public class Upch2\r\n    {\r\n       BufferedReader br= new BufferedReader( new InputStreamReader(System.in));\r\n       public void main()throws IOException\r\n        { \r\n            System.out.println(&quot;Pl. Enter A Line&quot;);\r\n            String s=br.readLine();\r\n            String s1=&quot; &quot;;\r\n            s=&quot; &quot;+s;\r\n            int len=s.length();\r\n            s= s.toLowerCase();\r\n            for(int j=1;j&lt;len;j++)\r\n             {\r\n               char  ch=s.charAt(j);\r\n        \r\n               if(s.charAt(j-1)!=&#39; &#39;)\r\n               {\r\n                 ch=Character.toLowerCase((s.charAt(j)));\r\n               }\r\n               else\r\n               {\r\n                 ch=Character.toUpperCase((s.charAt(j)));\r\n                }\r\n                s1=s1+ch;\r\n              }\r\n         System.out.println(&quot; &quot;+s1);\r\n      }\r\n    }\r\n","title":"How to capitalize the first character of each word in a string","body":"<pre><code>import java.io.*;\npublic class Upch2\n{\n   BufferedReader br= new BufferedReader( new InputStreamReader(System.in));\n   public void main()throws IOException\n    { \n        System.out.println(\"Pl. Enter A Line\");\n        String s=br.readLine();\n        String s1=\" \";\n        s=\" \"+s;\n        int len=s.length();\n        s= s.toLowerCase();\n        for(int j=1;j&lt;len;j++)\n         {\n           char  ch=s.charAt(j);\n\n           if(s.charAt(j-1)!=' ')\n           {\n             ch=Character.toLowerCase((s.charAt(j)));\n           }\n           else\n           {\n             ch=Character.toUpperCase((s.charAt(j)));\n            }\n            s1=s1+ch;\n          }\n     System.out.println(\" \"+s1);\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1214870,"reputation":21,"user_id":1182677,"display_name":"Prasanth"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1328099423,"creation_date":1328099423,"answer_id":9095839,"question_id":1892765,"body_markdown":"      package com.test;\r\n\r\n     /**\r\n       * @author Prasanth Pillai\r\n       * @date 01-Feb-2012\r\n       * @description : Below is the test class details\r\n       * \r\n       * inputs a String from a user. Expect the String to contain spaces and    alphanumeric     characters only.\r\n       * capitalizes all first letters of the words in the given String.\r\n       * preserves all other characters (including spaces) in the String.\r\n       * displays the result to the user.\r\n       * \r\n       * Approach : I have followed a simple approach. However there are many string    utilities available \r\n       * for the same purpose. Example : WordUtils.capitalize(str) (from apache commons-lang)\r\n       *\r\n       */\r\n      import java.io.BufferedReader;\r\n      import java.io.IOException;\r\n      import java.io.InputStreamReader;\r\n\r\n      public class Test {\r\n\r\n\tpublic static void main(String[] args) throws IOException{\r\n\t\tSystem.out.println(&quot;Input String :\\n&quot;);\r\n\t\tInputStreamReader converter = new InputStreamReader(System.in);\r\n\t\tBufferedReader in = new BufferedReader(converter);\r\n\t\tString inputString = in.readLine();\r\n\t\tint length = inputString.length();\r\n\t\tStringBuffer newStr = new StringBuffer(0);\r\n\t\tint i = 0;\r\n\t\tint k = 0;\r\n\t\t/* This is a simple approach\r\n\t\t * step 1: scan through the input string\r\n\t\t * step 2: capitalize the first letter of each word in string\r\n\t\t * The integer k, is used as a value to determine whether the \r\n\t\t * letter is the first letter in each word in the string.\r\n\t\t */\r\n\t\t\t\t\r\n\t\twhile( i &lt; length){\r\n\t\t\tif (Character.isLetter(inputString.charAt(i))){\r\n\t\t\t\tif ( k == 0){\r\n\t\t\t\tnewStr = newStr.append(Character.toUpperCase(inputString.charAt(i)));\r\n\t\t\t\tk = 2;\r\n\t\t\t\t}//this else loop is to avoid repeatation of the first letter in output string \r\n\t\t\t\telse {\r\n\t\t\t\tnewStr = newStr.append(inputString.charAt(i));\r\n\t\t\t\t}\r\n\t\t\t} // for the letters which are not first letter, simply append to the output string. \r\n\t\t\telse {\r\n\t\t\t\tnewStr = newStr.append(inputString.charAt(i));\r\n\t\t\t\tk=0;\r\n\t\t\t}\r\n\t\t\ti+=1;\t\t\t\r\n\t\t}\r\n\t\tSystem.out.println(&quot;new String -&gt;&quot;+newStr);\r\n\t\t}\r\n\t}\r\n\r\n\r\n","title":"How to capitalize the first character of each word in a string","body":"<pre><code>  package com.test;\n\n /**\n   * @author Prasanth Pillai\n   * @date 01-Feb-2012\n   * @description : Below is the test class details\n   * \n   * inputs a String from a user. Expect the String to contain spaces and    alphanumeric     characters only.\n   * capitalizes all first letters of the words in the given String.\n   * preserves all other characters (including spaces) in the String.\n   * displays the result to the user.\n   * \n   * Approach : I have followed a simple approach. However there are many string    utilities available \n   * for the same purpose. Example : WordUtils.capitalize(str) (from apache commons-lang)\n   *\n   */\n  import java.io.BufferedReader;\n  import java.io.IOException;\n  import java.io.InputStreamReader;\n\n  public class Test {\n\npublic static void main(String[] args) throws IOException{\n    System.out.println(\"Input String :\\n\");\n    InputStreamReader converter = new InputStreamReader(System.in);\n    BufferedReader in = new BufferedReader(converter);\n    String inputString = in.readLine();\n    int length = inputString.length();\n    StringBuffer newStr = new StringBuffer(0);\n    int i = 0;\n    int k = 0;\n    /* This is a simple approach\n     * step 1: scan through the input string\n     * step 2: capitalize the first letter of each word in string\n     * The integer k, is used as a value to determine whether the \n     * letter is the first letter in each word in the string.\n     */\n\n    while( i &lt; length){\n        if (Character.isLetter(inputString.charAt(i))){\n            if ( k == 0){\n            newStr = newStr.append(Character.toUpperCase(inputString.charAt(i)));\n            k = 2;\n            }//this else loop is to avoid repeatation of the first letter in output string \n            else {\n            newStr = newStr.append(inputString.charAt(i));\n            }\n        } // for the letters which are not first letter, simply append to the output string. \n        else {\n            newStr = newStr.append(inputString.charAt(i));\n            k=0;\n        }\n        i+=1;           \n    }\n    System.out.println(\"new String -&gt;\"+newStr);\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":79256,"reputation":1584,"user_id":224907,"accept_rate":84,"display_name":"Christian Loncle"},"score":4,"creation_date":1397032597,"post_id":11149580,"comment_id":35050487,"body_markdown":"this only changes the first letter of the first word","body":"this only changes the first letter of the first word"},{"owner":{"account_id":20131,"reputation":38608,"user_id":47775,"accept_rate":84,"display_name":"Nick Bolton"},"score":31,"creation_date":1397119875,"post_id":11149580,"comment_id":35097244,"body_markdown":"Indeed, this was my intention.","body":"Indeed, this was my intention."},{"owner":{"account_id":1150896,"reputation":2563,"user_id":1132642,"accept_rate":100,"display_name":"David Manheim"},"score":22,"creation_date":1419741491,"post_id":11149580,"comment_id":43762388,"body_markdown":"@nbolton - But it explicitly ignores the intent of the question, and fails for the very cases given in that example - and it adds little or nothing to the answers previously given!","body":"@nbolton - But it explicitly ignores the intent of the question, and fails for the very cases given in that example - and it adds little or nothing to the answers previously given!"},{"owner":{"account_id":376341,"reputation":6351,"user_id":727742,"accept_rate":58,"display_name":"stk"},"score":20,"creation_date":1429532118,"post_id":11149580,"comment_id":47627455,"body_markdown":"This piece of code is not crash-safe! Imagine `line` being null or having a length of &lt; 2.","body":"This piece of code is not crash-safe! Imagine <code>line</code> being null or having a length of &lt; 2."},{"owner":{"account_id":2448352,"reputation":1584,"user_id":2135168,"display_name":"Exceptyon"},"score":2,"creation_date":1454948495,"post_id":11149580,"comment_id":58260175,"body_markdown":"still, return Character.toUpperCase(word.charAt(0)) + word.substring(1).toLowerCase()","body":"still, return Character.toUpperCase(word.charAt(0)) + word.substring(1).toLowerCase()"},{"owner":{"account_id":21865,"reputation":13914,"user_id":53481,"accept_rate":82,"display_name":"okutane"},"score":1,"creation_date":1492684266,"post_id":11149580,"comment_id":74086931,"body_markdown":"@stk substring(1) is fine for single character strings.","body":"@stk substring(1) is fine for single character strings."},{"owner":{"account_id":4366153,"reputation":2931,"user_id":3561889,"accept_rate":59,"display_name":"Ucdemir"},"score":0,"creation_date":1524497925,"post_id":11149580,"comment_id":86986180,"body_markdown":"if string have only one character it is okey... but if it contains space at the start or it is empty java throw exception... you should firstly control is it empty? with trim().isEmpty() then you should before use this function, use trim() at the string because space can cause exception","body":"if string have only one character it is okey... but if it contains space at the start or it is empty java throw exception... you should firstly control is it empty? with trim().isEmpty() then you should before use this function, use trim() at the string because space can cause exception"},{"owner":{"account_id":2321321,"reputation":2169,"user_id":2036983,"display_name":"Jonathan Rosenne"},"score":0,"creation_date":1634045518,"post_id":11149580,"comment_id":122916904,"body_markdown":"To pick a nit, shouldn&#39;t it be static?","body":"To pick a nit, shouldn&#39;t it be static?"}],"tags":[],"owner":{"account_id":20131,"reputation":38608,"user_id":47775,"accept_rate":84,"display_name":"Nick Bolton"},"comment_count":8,"down_vote_count":30,"up_vote_count":264,"is_accepted":false,"score":234,"last_activity_date":1426367736,"creation_date":1340333317,"answer_id":11149580,"question_id":1892765,"body_markdown":"If you&#39;re only worried about the first letter of the first word being capitalized:\r\n\r\n    private String capitalize(final String line) {\r\n       return Character.toUpperCase(line.charAt(0)) + line.substring(1);\r\n    }","title":"How to capitalize the first character of each word in a string","body":"<p>If you're only worried about the first letter of the first word being capitalized:</p>\n\n<pre><code>private String capitalize(final String line) {\n   return Character.toUpperCase(line.charAt(0)) + line.substring(1);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1687096,"reputation":41,"user_id":1550145,"display_name":"Paul"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1343174385,"creation_date":1343174385,"answer_id":11640966,"question_id":1892765,"body_markdown":"Use the Split method to split your string into words, then use the built in string functions to capitalize each word, then append together. \r\n\r\nPseudo-code (ish)\r\n\r\n    string = &quot;the sentence you want to apply caps to&quot;;\r\n    words = string.split(&quot; &quot;) \r\n    string = &quot;&quot;\r\n    for(String w: words)\r\n\r\n    //This line is an easy way to capitalize a word\r\n        word = word.toUpperCase().replace(word.substring(1), word.substring(1).toLowerCase())\r\n\r\n        string += word\r\n\r\nIn the end string looks something like\r\n&quot;The Sentence You Want To Apply Caps To&quot;","title":"How to capitalize the first character of each word in a string","body":"<p>Use the Split method to split your string into words, then use the built in string functions to capitalize each word, then append together. </p>\n\n<p>Pseudo-code (ish)</p>\n\n<pre><code>string = \"the sentence you want to apply caps to\";\nwords = string.split(\" \") \nstring = \"\"\nfor(String w: words)\n\n//This line is an easy way to capitalize a word\n    word = word.toUpperCase().replace(word.substring(1), word.substring(1).toLowerCase())\n\n    string += word\n</code></pre>\n\n<p>In the end string looks something like\n\"The Sentence You Want To Apply Caps To\"</p>\n"},{"comments":[{"owner":{"account_id":2140372,"reputation":764,"user_id":1899177,"display_name":"JustTrying"},"score":0,"creation_date":1552940987,"post_id":12697180,"comment_id":97193595,"body_markdown":"Breaks if string has double spaces in it, which is dumb for input, but FYI.","body":"Breaks if string has double spaces in it, which is dumb for input, but FYI."}],"tags":[],"owner":{"account_id":1898614,"reputation":7855,"user_id":1714997,"accept_rate":80,"display_name":"Dominykas Mostauskis"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1349271542,"creation_date":1349207125,"answer_id":12697180,"question_id":1892765,"body_markdown":"This might be useful if you need to capitalize titles. It capitalizes each substring delimited by `&quot; &quot;`, except for specified strings such as `&quot;a&quot;` or `&quot;the&quot;`. I haven&#39;t ran it yet because it&#39;s late, should be fine though. Uses Apache Commons [`StringUtils.join()`](http://commons.apache.org/lang/api-2.3/org/apache/commons/lang/StringUtils.html) at one point. You can substitute it with a simple loop if you wish.\r\n\r\n    \r\n\tprivate static String capitalize(String string) {\r\n\t\tif (string == null) return null;\r\n        String[] wordArray = string.split(&quot; &quot;); // Split string to analyze word by word.\r\n        int i = 0;\r\n    lowercase:\r\n        for (String word : wordArray) {\r\n        \tif (word != wordArray[0]) { // First word always in capital\r\n        \t\tString [] lowercaseWords = {&quot;a&quot;, &quot;an&quot;, &quot;as&quot;, &quot;and&quot;, &quot;although&quot;, &quot;at&quot;, &quot;because&quot;, &quot;but&quot;, &quot;by&quot;, &quot;for&quot;, &quot;in&quot;, &quot;nor&quot;, &quot;of&quot;, &quot;on&quot;, &quot;or&quot;, &quot;so&quot;, &quot;the&quot;, &quot;to&quot;, &quot;up&quot;, &quot;yet&quot;};\r\n        \t\tfor (String word2 : lowercaseWords) {\r\n        \t\t\tif (word.equals(word2)) {\r\n\t\t        \t\twordArray[i] = word;\r\n        \t\t\t\ti++;\r\n        \t\t\t\tcontinue lowercase;\r\n        \t\t\t}\r\n        \t\t}\r\n        \t}\r\n        \tchar[] characterArray = word.toCharArray();\r\n        \tcharacterArray[0] = Character.toTitleCase(characterArray[0]);\r\n        \twordArray[i] = new String(characterArray);\r\n\t\t\ti++;\r\n        }\r\n        return StringUtils.join(wordArray, &quot; &quot;); // Re-join string\r\n    }","title":"How to capitalize the first character of each word in a string","body":"<p>This might be useful if you need to capitalize titles. It capitalizes each substring delimited by <code>\" \"</code>, except for specified strings such as <code>\"a\"</code> or <code>\"the\"</code>. I haven't ran it yet because it's late, should be fine though. Uses Apache Commons <a href=\"http://commons.apache.org/lang/api-2.3/org/apache/commons/lang/StringUtils.html\" rel=\"nofollow\"><code>StringUtils.join()</code></a> at one point. You can substitute it with a simple loop if you wish.</p>\n\n<pre><code>private static String capitalize(String string) {\n    if (string == null) return null;\n    String[] wordArray = string.split(\" \"); // Split string to analyze word by word.\n    int i = 0;\nlowercase:\n    for (String word : wordArray) {\n        if (word != wordArray[0]) { // First word always in capital\n            String [] lowercaseWords = {\"a\", \"an\", \"as\", \"and\", \"although\", \"at\", \"because\", \"but\", \"by\", \"for\", \"in\", \"nor\", \"of\", \"on\", \"or\", \"so\", \"the\", \"to\", \"up\", \"yet\"};\n            for (String word2 : lowercaseWords) {\n                if (word.equals(word2)) {\n                    wordArray[i] = word;\n                    i++;\n                    continue lowercase;\n                }\n            }\n        }\n        char[] characterArray = word.toCharArray();\n        characterArray[0] = Character.toTitleCase(characterArray[0]);\n        wordArray[i] = new String(characterArray);\n        i++;\n    }\n    return StringUtils.join(wordArray, \" \"); // Re-join string\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1820003,"reputation":49625,"user_id":1654265,"accept_rate":93,"display_name":"Andrea Ligios"},"comment_count":0,"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1354296517,"creation_date":1354294526,"answer_id":13649579,"question_id":1892765,"body_markdown":"I&#39;ve written a small Class to capitalize all the words in a String. \r\n\r\nOptional `multiple delimiters`, each one with its behavior (capitalize before, after, or both, to handle cases like `O&#39;Brian`);\r\n\r\nOptional `Locale`; \r\n\r\nDon&#39;t breaks with `Surrogate Pairs`.\r\n\r\n[**LIVE DEMO**][1]\r\n\r\nOutput: \r\n\r\n\r\n&gt;     ====================================\r\n&gt;      SIMPLE USAGE\r\n&gt;     ====================================\r\n&gt;     Source: cApItAlIzE this string after WHITE SPACES\r\n&gt;     Output: Capitalize This String After White Spaces\r\n&gt;     \r\n&gt;     ====================================\r\n&gt;      SINGLE CUSTOM-DELIMITER USAGE\r\n&gt;     ====================================\r\n&gt;     Source: capitalize this string ONLY before&#39;and&#39;&#39;after&#39;&#39;&#39;APEX\r\n&gt;     Output: Capitalize this string only beforE&#39;AnD&#39;&#39;AfteR&#39;&#39;&#39;Apex\r\n&gt;     \r\n&gt;     ====================================\r\n&gt;      MULTIPLE CUSTOM-DELIMITER USAGE\r\n&gt;     ====================================\r\n&gt;     Source: capitalize this string AFTER SPACES, BEFORE&#39;APEX, and #AFTER AND BEFORE# NUMBER SIGN (#)\r\n&gt;     Output: Capitalize This String After Spaces, BeforE&#39;apex, And #After And BeforE# Number Sign (#)\r\n&gt;     \r\n&gt;     ====================================\r\n&gt;      SIMPLE USAGE WITH CUSTOM LOCALE\r\n&gt;     ====================================\r\n&gt;     Source: Uniforming the first and last vowels (different kind of &#39;i&#39;s) of the Turkish word D[İ]YARBAK[I]R (DİYARBAKIR) \r\n&gt;     Output: Uniforming The First And Last Vowels (different Kind Of &#39;i&#39;s) Of The Turkish Word D[i]yarbak[i]r (diyarbakir) \r\n&gt;     \r\n&gt;     ====================================\r\n&gt;      SIMPLE USAGE WITH A SURROGATE PAIR \r\n&gt;     ====================================\r\n&gt;     Source: ab &#66562;c de &#224;\r\n&gt;     Output: Ab &#66602;c De &#192;\r\n\r\nNote: first letter will always be capitalized (edit the source if you don&#39;t want that).\r\n\r\nPlease share your comments and help me to found bugs or to improve the code... \r\n\r\nCode:\r\n\r\n    import java.util.ArrayList;\r\n    import java.util.Date;\r\n    import java.util.List;\r\n    import java.util.Locale;\r\n    \r\n    public class WordsCapitalizer {\r\n\r\n    \tpublic static String capitalizeEveryWord(String source) {\r\n    \t\treturn capitalizeEveryWord(source,null,null);\r\n    \t}\r\n\r\n    \tpublic static String capitalizeEveryWord(String source, Locale locale) {\r\n    \t\treturn capitalizeEveryWord(source,null,locale);\r\n    \t}\r\n    \t\r\n    \tpublic static String capitalizeEveryWord(String source, List&lt;Delimiter&gt; delimiters, Locale locale) {\r\n    \t\tchar[] chars; \r\n    \t\t\r\n    \t\tif (delimiters == null || delimiters.size() == 0)\r\n    \t\t\tdelimiters = getDefaultDelimiters();\t\t\t\t\r\n    \t\t\r\n    \t\t// If Locale specified, i18n toLowerCase is executed, to handle specific behaviors (eg. Turkish dotted and dotless &#39;i&#39;)\r\n    \t\tif (locale!=null)\r\n    \t\t\tchars = source.toLowerCase(locale).toCharArray();\r\n    \t\telse \r\n    \t\t\tchars = source.toLowerCase().toCharArray();\r\n    \t\t\t\t\r\n    \t\t// First charachter ALWAYS capitalized, if it is a Letter.\r\n    \t\tif (chars.length&gt;0 &amp;&amp; Character.isLetter(chars[0]) &amp;&amp; !isSurrogate(chars[0])){\r\n    \t\t\tchars[0] = Character.toUpperCase(chars[0]);\r\n    \t\t}\r\n    \t\t\r\n    \t\tfor (int i = 0; i &lt; chars.length; i++) {\r\n    \t\t\tif (!isSurrogate(chars[i]) &amp;&amp; !Character.isLetter(chars[i])) {\r\n    \t\t\t\t// Current char is not a Letter; gonna check if it is a delimitrer.\r\n    \t\t\t\tfor (Delimiter delimiter : delimiters){\r\n    \t\t\t\t\tif (delimiter.getDelimiter()==chars[i]){\r\n    \t\t\t\t\t\t// Delimiter found, applying rules...\t\t\t\t\t\t\r\n    \t\t\t\t\t\tif (delimiter.capitalizeBefore() &amp;&amp; i&gt;0 \r\n    \t\t\t\t\t\t\t&amp;&amp; Character.isLetter(chars[i-1]) &amp;&amp; !isSurrogate(chars[i-1]))\r\n    \t\t\t\t\t\t{   // previous character is a Letter and I have to capitalize it\r\n    \t\t\t\t\t\t\tchars[i-1] = Character.toUpperCase(chars[i-1]);\r\n    \t\t\t\t\t\t}\r\n    \t\t\t\t\t\tif (delimiter.capitalizeAfter() &amp;&amp; i&lt;chars.length-1 \r\n    \t\t\t\t\t\t\t&amp;&amp; Character.isLetter(chars[i+1]) &amp;&amp; !isSurrogate(chars[i+1]))\r\n    \t\t\t\t\t\t{   // next character is a Letter and I have to capitalize it\r\n    \t\t\t\t\t\t\tchars[i+1] = Character.toUpperCase(chars[i+1]);\r\n    \t\t\t\t\t\t}\r\n    \t\t\t\t\t\tbreak;\r\n    \t\t\t\t\t}\r\n    \t\t\t\t} \r\n    \t\t\t}\r\n    \t\t}\r\n    \t\treturn String.valueOf(chars);\r\n    \t}\r\n    \t   \r\n    \r\n    \tprivate static boolean isSurrogate(char chr){\r\n    \t\t// Check if the current character is part of an UTF-16 Surrogate Pair.\t\r\n    \t\t// Note: not validating the pair, just used to bypass (any found part of) it.\r\n    \t\treturn (Character.isHighSurrogate(chr) || Character.isLowSurrogate(chr));\r\n    \t}\t\t\r\n    \t\r\n    \tprivate static List&lt;Delimiter&gt; getDefaultDelimiters(){\r\n    \t\t// If no delimiter specified, &quot;Capitalize after space&quot; rule is set by default. \r\n    \t\tList&lt;Delimiter&gt; delimiters = new ArrayList&lt;Delimiter&gt;();\r\n    \t\tdelimiters.add(new Delimiter(Behavior.CAPITALIZE_AFTER_MARKER, &#39; &#39;));\r\n    \t\treturn delimiters;\r\n    \t} \r\n    \r\n    \tpublic static class Delimiter {\r\n    \t\tprivate Behavior behavior;\r\n    \t\tprivate char delimiter;\r\n    \r\n    \t\tpublic Delimiter(Behavior behavior, char delimiter) {\r\n    \t\t\tsuper();\r\n    \t\t\tthis.behavior = behavior;\r\n    \t\t\tthis.delimiter = delimiter;\r\n    \t\t}\r\n    \t\t\r\n    \t\tpublic boolean capitalizeBefore(){\r\n    \t\t\treturn (behavior.equals(Behavior.CAPITALIZE_BEFORE_MARKER)\r\n    \t\t\t\t\t|| behavior.equals(Behavior.CAPITALIZE_BEFORE_AND_AFTER_MARKER));\r\n    \t\t}\r\n    \r\n    \t\tpublic boolean capitalizeAfter(){\r\n    \t\t\treturn (behavior.equals(Behavior.CAPITALIZE_AFTER_MARKER)\r\n    \t\t\t\t\t|| behavior.equals(Behavior.CAPITALIZE_BEFORE_AND_AFTER_MARKER));\r\n    \t\t}\r\n    \r\n    \t\tpublic char getDelimiter() {\r\n    \t\t\treturn delimiter;\r\n    \t\t}\r\n    \t}\r\n    \t\r\n    \tpublic static enum Behavior {\r\n    \t\tCAPITALIZE_AFTER_MARKER(0),\r\n    \t\tCAPITALIZE_BEFORE_MARKER(1),\r\n    \t\tCAPITALIZE_BEFORE_AND_AFTER_MARKER(2);\t\t\t\t\t\t\r\n    \t\t\r\n    \t\tprivate int value;\t\t\t\r\n    \t\t\r\n    \t\tprivate Behavior(int value) {\r\n    \t\t\tthis.value = value;\r\n    \t\t}\r\n    \t\t\r\n    \t\tpublic int getValue() {\r\n    \t\t\treturn value;\r\n    \t\t}\t\t\t\r\n    \t} \r\n\r\n  [1]: http://ideone.com/Jdzbaf\r\n\r\n","title":"How to capitalize the first character of each word in a string","body":"<p>I've written a small Class to capitalize all the words in a String. </p>\n\n<p>Optional <code>multiple delimiters</code>, each one with its behavior (capitalize before, after, or both, to handle cases like <code>O'Brian</code>);</p>\n\n<p>Optional <code>Locale</code>; </p>\n\n<p>Don't breaks with <code>Surrogate Pairs</code>.</p>\n\n<p><a href=\"http://ideone.com/Jdzbaf\" rel=\"noreferrer\"><strong>LIVE DEMO</strong></a></p>\n\n<p>Output: </p>\n\n<blockquote>\n<pre><code>====================================\n SIMPLE USAGE\n====================================\nSource: cApItAlIzE this string after WHITE SPACES\nOutput: Capitalize This String After White Spaces\n\n====================================\n SINGLE CUSTOM-DELIMITER USAGE\n====================================\nSource: capitalize this string ONLY before'and''after'''APEX\nOutput: Capitalize this string only beforE'AnD''AfteR'''Apex\n\n====================================\n MULTIPLE CUSTOM-DELIMITER USAGE\n====================================\nSource: capitalize this string AFTER SPACES, BEFORE'APEX, and #AFTER AND BEFORE# NUMBER SIGN (#)\nOutput: Capitalize This String After Spaces, BeforE'apex, And #After And BeforE# Number Sign (#)\n\n====================================\n SIMPLE USAGE WITH CUSTOM LOCALE\n====================================\nSource: Uniforming the first and last vowels (different kind of 'i's) of the Turkish word D[İ]YARBAK[I]R (DİYARBAKIR) \nOutput: Uniforming The First And Last Vowels (different Kind Of 'i's) Of The Turkish Word D[i]yarbak[i]r (diyarbakir) \n\n====================================\n SIMPLE USAGE WITH A SURROGATE PAIR \n====================================\nSource: ab 𐐂c de à\nOutput: Ab 𐐪c De À\n</code></pre>\n</blockquote>\n\n<p>Note: first letter will always be capitalized (edit the source if you don't want that).</p>\n\n<p>Please share your comments and help me to found bugs or to improve the code... </p>\n\n<p>Code:</p>\n\n<pre><code>import java.util.ArrayList;\nimport java.util.Date;\nimport java.util.List;\nimport java.util.Locale;\n\npublic class WordsCapitalizer {\n\n    public static String capitalizeEveryWord(String source) {\n        return capitalizeEveryWord(source,null,null);\n    }\n\n    public static String capitalizeEveryWord(String source, Locale locale) {\n        return capitalizeEveryWord(source,null,locale);\n    }\n\n    public static String capitalizeEveryWord(String source, List&lt;Delimiter&gt; delimiters, Locale locale) {\n        char[] chars; \n\n        if (delimiters == null || delimiters.size() == 0)\n            delimiters = getDefaultDelimiters();                \n\n        // If Locale specified, i18n toLowerCase is executed, to handle specific behaviors (eg. Turkish dotted and dotless 'i')\n        if (locale!=null)\n            chars = source.toLowerCase(locale).toCharArray();\n        else \n            chars = source.toLowerCase().toCharArray();\n\n        // First charachter ALWAYS capitalized, if it is a Letter.\n        if (chars.length&gt;0 &amp;&amp; Character.isLetter(chars[0]) &amp;&amp; !isSurrogate(chars[0])){\n            chars[0] = Character.toUpperCase(chars[0]);\n        }\n\n        for (int i = 0; i &lt; chars.length; i++) {\n            if (!isSurrogate(chars[i]) &amp;&amp; !Character.isLetter(chars[i])) {\n                // Current char is not a Letter; gonna check if it is a delimitrer.\n                for (Delimiter delimiter : delimiters){\n                    if (delimiter.getDelimiter()==chars[i]){\n                        // Delimiter found, applying rules...                       \n                        if (delimiter.capitalizeBefore() &amp;&amp; i&gt;0 \n                            &amp;&amp; Character.isLetter(chars[i-1]) &amp;&amp; !isSurrogate(chars[i-1]))\n                        {   // previous character is a Letter and I have to capitalize it\n                            chars[i-1] = Character.toUpperCase(chars[i-1]);\n                        }\n                        if (delimiter.capitalizeAfter() &amp;&amp; i&lt;chars.length-1 \n                            &amp;&amp; Character.isLetter(chars[i+1]) &amp;&amp; !isSurrogate(chars[i+1]))\n                        {   // next character is a Letter and I have to capitalize it\n                            chars[i+1] = Character.toUpperCase(chars[i+1]);\n                        }\n                        break;\n                    }\n                } \n            }\n        }\n        return String.valueOf(chars);\n    }\n\n\n    private static boolean isSurrogate(char chr){\n        // Check if the current character is part of an UTF-16 Surrogate Pair.  \n        // Note: not validating the pair, just used to bypass (any found part of) it.\n        return (Character.isHighSurrogate(chr) || Character.isLowSurrogate(chr));\n    }       \n\n    private static List&lt;Delimiter&gt; getDefaultDelimiters(){\n        // If no delimiter specified, \"Capitalize after space\" rule is set by default. \n        List&lt;Delimiter&gt; delimiters = new ArrayList&lt;Delimiter&gt;();\n        delimiters.add(new Delimiter(Behavior.CAPITALIZE_AFTER_MARKER, ' '));\n        return delimiters;\n    } \n\n    public static class Delimiter {\n        private Behavior behavior;\n        private char delimiter;\n\n        public Delimiter(Behavior behavior, char delimiter) {\n            super();\n            this.behavior = behavior;\n            this.delimiter = delimiter;\n        }\n\n        public boolean capitalizeBefore(){\n            return (behavior.equals(Behavior.CAPITALIZE_BEFORE_MARKER)\n                    || behavior.equals(Behavior.CAPITALIZE_BEFORE_AND_AFTER_MARKER));\n        }\n\n        public boolean capitalizeAfter(){\n            return (behavior.equals(Behavior.CAPITALIZE_AFTER_MARKER)\n                    || behavior.equals(Behavior.CAPITALIZE_BEFORE_AND_AFTER_MARKER));\n        }\n\n        public char getDelimiter() {\n            return delimiter;\n        }\n    }\n\n    public static enum Behavior {\n        CAPITALIZE_AFTER_MARKER(0),\n        CAPITALIZE_BEFORE_MARKER(1),\n        CAPITALIZE_BEFORE_AND_AFTER_MARKER(2);                      \n\n        private int value;          \n\n        private Behavior(int value) {\n            this.value = value;\n        }\n\n        public int getValue() {\n            return value;\n        }           \n    } \n</code></pre>\n"},{"tags":[],"owner":{"account_id":1653069,"reputation":1472,"user_id":1523263,"accept_rate":46,"display_name":"Nagappa L M"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1357128512,"creation_date":1357128512,"answer_id":14121785,"question_id":1892765,"body_markdown":"    String s=&quot;hi dude i                                 want apple&quot;;\r\n    \ts = s.replaceAll(&quot;\\\\s+&quot;,&quot; &quot;);\r\n    \tString[] split = s.split(&quot; &quot;);\r\n    \ts=&quot;&quot;;\r\n    \tfor (int i = 0; i &lt; split.length; i++) {\r\n    \t\tsplit[i]=Character.toUpperCase(split[i].charAt(0))+split[i].substring(1);\r\n    \t\ts+=split[i]+&quot; &quot;;\r\n    \t\tSystem.out.println(split[i]);\r\n    \t}\r\n    \tSystem.out.println(s);","title":"How to capitalize the first character of each word in a string","body":"<pre><code>String s=\"hi dude i                                 want apple\";\n    s = s.replaceAll(\"\\\\s+\",\" \");\n    String[] split = s.split(\" \");\n    s=\"\";\n    for (int i = 0; i &lt; split.length; i++) {\n        split[i]=Character.toUpperCase(split[i].charAt(0))+split[i].substring(1);\n        s+=split[i]+\" \";\n        System.out.println(split[i]);\n    }\n    System.out.println(s);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":79256,"reputation":1584,"user_id":224907,"accept_rate":84,"display_name":"Christian Loncle"},"score":1,"creation_date":1397047128,"post_id":14848842,"comment_id":35060540,"body_markdown":"this code caused our server to crash:java.lang.StringIndexOutOfBoundsException: String index out of range: 0","body":"this code caused our server to crash:java.lang.StringIndexOutOfBoundsException: String index out of range: 0"},{"owner":{"account_id":2198555,"reputation":5496,"user_id":1943607,"accept_rate":89,"display_name":"Reinherd"},"score":40,"creation_date":1400495188,"post_id":14848842,"comment_id":36485715,"body_markdown":"@Chrizzz so do not commit code you did not test... If you provide an empty string, it does crash. Your fault, not Neelam&#39;s.","body":"@Chrizzz so do not commit code you did not test... If you provide an empty string, it does crash. Your fault, not Neelam&#39;s."},{"owner":{"account_id":4851095,"reputation":958,"user_id":3913359,"accept_rate":73,"display_name":"Hanuman"},"score":1,"creation_date":1481732971,"post_id":14848842,"comment_id":69497435,"body_markdown":"If there is a space at the end then it is crashing then I added trim() first and split string with space.It worked perfectly","body":"If there is a space at the end then it is crashing then I added trim() first and split string with space.It worked perfectly"},{"owner":{"account_id":1890047,"reputation":2191,"user_id":1708390,"accept_rate":79,"display_name":"Bugs Happen"},"score":0,"creation_date":1553747445,"post_id":14848842,"comment_id":97501571,"body_markdown":"In case someone is looking for its Kotlin version, here is it: https://stackoverflow.com/a/55390188/1708390","body":"In case someone is looking for its Kotlin version, here is it: <a href=\"https://stackoverflow.com/a/55390188/1708390\">stackoverflow.com/a/55390188/1708390</a>"}],"tags":[],"owner":{"account_id":2272414,"reputation":619,"user_id":1999477,"accept_rate":25,"display_name":"Neelam Singh"},"comment_count":4,"down_vote_count":1,"up_vote_count":49,"is_accepted":false,"score":48,"last_activity_date":1407925886,"creation_date":1360742186,"answer_id":14848842,"question_id":1892765,"body_markdown":"Try this very simple way\r\n\r\nexample givenString=&quot;ram is good boy&quot;\r\n\r\n    public static String toTitleCase(String givenString) {\r\n        String[] arr = givenString.split(&quot; &quot;);\r\n        StringBuffer sb = new StringBuffer();\r\n                \r\n        for (int i = 0; i &lt; arr.length; i++) {\r\n            sb.append(Character.toUpperCase(arr[i].charAt(0)))\r\n                .append(arr[i].substring(1)).append(&quot; &quot;);\r\n        }          \r\n        return sb.toString().trim();\r\n    }  \r\n\r\nOutput will be: Ram Is Good Boy","title":"How to capitalize the first character of each word in a string","body":"<p>Try this very simple way</p>\n\n<p>example givenString=\"ram is good boy\"</p>\n\n<pre><code>public static String toTitleCase(String givenString) {\n    String[] arr = givenString.split(\" \");\n    StringBuffer sb = new StringBuffer();\n\n    for (int i = 0; i &lt; arr.length; i++) {\n        sb.append(Character.toUpperCase(arr[i].charAt(0)))\n            .append(arr[i].substring(1)).append(\" \");\n    }          \n    return sb.toString().trim();\n}  \n</code></pre>\n\n<p>Output will be: Ram Is Good Boy</p>\n"},{"comments":[{"owner":{"account_id":369779,"reputation":25497,"user_id":717341,"accept_rate":93,"display_name":"Lukas Knuth"},"score":1,"creation_date":1363868400,"post_id":15524265,"comment_id":22029437,"body_markdown":"Don&#39;t use string-concation for creating long strings, it&#39;s painfully slow: http://stackoverflow.com/questions/15177987/is-string-concation-really-that-slow","body":"Don&#39;t use string-concation for creating long strings, it&#39;s painfully slow: <a href=\"http://stackoverflow.com/questions/15177987/is-string-concation-really-that-slow\" title=\"is string concation really that slow\">stackoverflow.com/questions/15177987/&hellip;</a>"}],"tags":[],"owner":{"account_id":2520423,"reputation":49,"user_id":2190915,"display_name":"Himanshu Agrawal"},"comment_count":1,"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1363868302,"creation_date":1363784384,"answer_id":15524265,"question_id":1892765,"body_markdown":"Here is a simple function\r\n\r\n    public static String capEachWord(String source){\r\n        String result = &quot;&quot;;\r\n        String[] splitString = source.split(&quot; &quot;);\r\n        for(String target : splitString){\r\n            result += Character.toUpperCase(target.charAt(0))\r\n            \t\t+ target.substring(1) + &quot; &quot;;\r\n        }\r\n        return result.trim();\r\n    }","title":"How to capitalize the first character of each word in a string","body":"<p>Here is a simple function</p>\n\n<pre><code>public static String capEachWord(String source){\n    String result = \"\";\n    String[] splitString = source.split(\" \");\n    for(String target : splitString){\n        result += Character.toUpperCase(target.charAt(0))\n                + target.substring(1) + \" \";\n    }\n    return result.trim();\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1256349,"reputation":11244,"user_id":1215724,"accept_rate":90,"display_name":"Trikaldarshiii"},"score":6,"creation_date":1379788417,"post_id":16754300,"comment_id":27960969,"body_markdown":"what about HELLO it returns HELLO but expected Hello so you shall use toLowerCase() in second SubString","body":"what about HELLO it returns HELLO but expected Hello so you shall use toLowerCase() in second SubString"}],"tags":[],"owner":{"account_id":1774855,"reputation":665,"user_id":1618817,"display_name":"Adrian"},"comment_count":1,"down_vote_count":2,"up_vote_count":9,"is_accepted":false,"score":7,"last_activity_date":1369519113,"creation_date":1369519113,"answer_id":16754300,"question_id":1892765,"body_markdown":"**With this simple code**:\r\n\r\n    String example=&quot;hello&quot;;\r\n    \r\n    example=example.substring(0,1).toUpperCase()+example.substring(1, example.length());\r\n    \r\n    System.out.println(example);\r\n\r\n**Result:** Hello","title":"How to capitalize the first character of each word in a string","body":"<p><strong>With this simple code</strong>:</p>\n\n<pre><code>String example=\"hello\";\n\nexample=example.substring(0,1).toUpperCase()+example.substring(1, example.length());\n\nSystem.out.println(example);\n</code></pre>\n\n<p><strong>Result:</strong> Hello</p>\n"},{"comments":[{"owner":{"account_id":4531157,"reputation":3278,"user_id":3681607,"display_name":"St&#233;phane Millien"},"score":0,"creation_date":1568366496,"post_id":20229254,"comment_id":102259327,"body_markdown":"Works perfectly with toLowerCase -&gt; &quot;Matcher matcher = pattern.matcher(text.toLowerCase());&quot; (For entry text like &quot;JOHN DOE&quot;)","body":"Works perfectly with toLowerCase -&gt; &quot;Matcher matcher = pattern.matcher(text.toLowerCase());&quot; (For entry text like &quot;JOHN DOE&quot;)"}],"tags":[],"owner":{"account_id":126882,"reputation":2340,"user_id":323684,"accept_rate":100,"display_name":"curd0"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1518118866,"creation_date":1385504629,"answer_id":20229254,"question_id":1892765,"body_markdown":"Use:\r\n\r\n        String text = &quot;jon skeet, miles o&#39;brien, old mcdonald&quot;;\r\n\r\n        Pattern pattern = Pattern.compile(&quot;\\\\b([a-z])([\\\\w]*)&quot;);\r\n        Matcher matcher = pattern.matcher(text);\r\n        StringBuffer buffer = new StringBuffer();\r\n        while (matcher.find()) {\r\n            matcher.appendReplacement(buffer, matcher.group(1).toUpperCase() + matcher.group(2));\r\n        }\r\n        String capitalized = matcher.appendTail(buffer).toString();\r\n        System.out.println(capitalized);\r\n","title":"How to capitalize the first character of each word in a string","body":"<p>Use:</p>\n\n<pre><code>    String text = \"jon skeet, miles o'brien, old mcdonald\";\n\n    Pattern pattern = Pattern.compile(\"\\\\b([a-z])([\\\\w]*)\");\n    Matcher matcher = pattern.matcher(text);\n    StringBuffer buffer = new StringBuffer();\n    while (matcher.find()) {\n        matcher.appendReplacement(buffer, matcher.group(1).toUpperCase() + matcher.group(2));\n    }\n    String capitalized = matcher.appendTail(buffer).toString();\n    System.out.println(capitalized);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2255503,"reputation":2895,"user_id":1986779,"accept_rate":61,"display_name":"foobar"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1518118908,"creation_date":1390977537,"answer_id":21423845,"question_id":1892765,"body_markdown":"This is just another way of doing it:\r\n\r\n    private String capitalize(String line)\r\n    {\r\n        StringTokenizer token =new StringTokenizer(line);\r\n        String CapLine=&quot;&quot;;\r\n        while(token.hasMoreTokens())\r\n        {\r\n            String tok = token.nextToken().toString();\r\n            CapLine += Character.toUpperCase(tok.charAt(0))+ tok.substring(1)+&quot; &quot;;        \r\n        }\r\n        return CapLine.substring(0,CapLine.length()-1);\r\n    }\r\n","title":"How to capitalize the first character of each word in a string","body":"<p>This is just another way of doing it:</p>\n\n<pre><code>private String capitalize(String line)\n{\n    StringTokenizer token =new StringTokenizer(line);\n    String CapLine=\"\";\n    while(token.hasMoreTokens())\n    {\n        String tok = token.nextToken().toString();\n        CapLine += Character.toUpperCase(tok.charAt(0))+ tok.substring(1)+\" \";        \n    }\n    return CapLine.substring(0,CapLine.length()-1);\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":7794943,"reputation":1880,"user_id":5896420,"accept_rate":90,"display_name":"luckyguy73"},"score":0,"creation_date":1560317223,"post_id":23495806,"comment_id":99691085,"body_markdown":"what if it&#39;s more than one word","body":"what if it&#39;s more than one word"}],"tags":[],"owner":{"account_id":2637065,"reputation":7621,"user_id":2281472,"accept_rate":71,"display_name":"Develop4Life"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1518119072,"creation_date":1399382167,"answer_id":23495806,"question_id":1892765,"body_markdown":"The short and precise way is as follows: \r\n\r\n    String name = &quot;test&quot;;\r\n\r\n    name = (name.length() != 0) ?name.toString().toLowerCase().substring(0,1).toUpperCase().concat(name.substring(1)): name;\r\n\r\n&gt;     --------------------\r\n&gt;     Output\r\n&gt;     --------------------\r\n&gt;     Test\r\n&gt;     T \r\n&gt;     empty\r\n&gt;     --------------------\r\n\r\nIt works without error if you try and change the name value to the three of values. Error free.\r\n\r\n","title":"How to capitalize the first character of each word in a string","body":"<p>The short and precise way is as follows: </p>\n\n<pre><code>String name = \"test\";\n\nname = (name.length() != 0) ?name.toString().toLowerCase().substring(0,1).toUpperCase().concat(name.substring(1)): name;\n</code></pre>\n\n<blockquote>\n<pre><code>--------------------\nOutput\n--------------------\nTest\nT \nempty\n--------------------\n</code></pre>\n</blockquote>\n\n<p>It works without error if you try and change the name value to the three of values. Error free.</p>\n"},{"tags":[],"owner":{"account_id":4535200,"reputation":21,"user_id":3684604,"display_name":"jf Wastiaux"},"comment_count":0,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1518119166,"creation_date":1401296041,"answer_id":23917577,"question_id":1892765,"body_markdown":"This one works for the surname case...\r\n\r\nWith different types of separators, and it keeps the same separator:\r\n\r\n * jean-frederic  --&gt; Jean-Frederic\r\n\r\n * jean frederic  --&gt; Jean Frederic\r\n\r\nThe code works with the GWT client side.\r\n\r\n    public static String capitalize (String givenString) {\r\n    \tString Separateur = &quot; ,.-;&quot;;\r\n        StringBuffer sb = new StringBuffer(); \r\n        boolean ToCap = true;\r\n        for (int i = 0; i &lt; givenString.length(); i++) {\r\n        \tif (ToCap)        \t\t\r\n        \t\tsb.append(Character.toUpperCase(givenString.charAt(i)));\r\n        \telse\r\n        \t\tsb.append(Character.toLowerCase(givenString.charAt(i)));\r\n        \t\t\r\n        \tif (Separateur.indexOf(givenString.charAt(i)) &gt;=0) \r\n        \t\tToCap = true;\r\n        \telse\r\n        \t\tToCap = false;\r\n        }          \r\n        return sb.toString().trim();\r\n    }  \r\n","title":"How to capitalize the first character of each word in a string","body":"<p>This one works for the surname case...</p>\n\n<p>With different types of separators, and it keeps the same separator:</p>\n\n<ul>\n<li><p>jean-frederic  --> Jean-Frederic</p></li>\n<li><p>jean frederic  --> Jean Frederic</p></li>\n</ul>\n\n<p>The code works with the GWT client side.</p>\n\n<pre><code>public static String capitalize (String givenString) {\n    String Separateur = \" ,.-;\";\n    StringBuffer sb = new StringBuffer(); \n    boolean ToCap = true;\n    for (int i = 0; i &lt; givenString.length(); i++) {\n        if (ToCap)              \n            sb.append(Character.toUpperCase(givenString.charAt(i)));\n        else\n            sb.append(Character.toLowerCase(givenString.charAt(i)));\n\n        if (Separateur.indexOf(givenString.charAt(i)) &gt;=0) \n            ToCap = true;\n        else\n            ToCap = false;\n    }          \n    return sb.toString().trim();\n}  \n</code></pre>\n"},{"tags":[],"owner":{"account_id":2348323,"reputation":13158,"user_id":2057902,"accept_rate":80,"display_name":"Sireesh Yarlagadda"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1518119283,"creation_date":1402690152,"answer_id":24213136,"question_id":1892765,"body_markdown":"Reusable method for intiCap:\r\n\r\n        public class YarlagaddaSireeshTest{\r\n\r\n        public static void main(String[] args) {\r\n            String FinalStringIs = &quot;&quot;;\r\n            String testNames = &quot;sireesh yarlagadda test&quot;;\r\n            String[] name = testNames.split(&quot;\\\\s&quot;);\r\n\r\n            for(String nameIs :name){\r\n                FinalStringIs += getIntiCapString(nameIs) + &quot;,&quot;;\r\n            }\r\n            System.out.println(&quot;Final Result &quot;+ FinalStringIs);\r\n        }\r\n\r\n        public static String getIntiCapString(String param) {\r\n            if(param != null &amp;&amp; param.length()&gt;0){          \r\n                char[] charArray = param.toCharArray(); \r\n                charArray[0] = Character.toUpperCase(charArray[0]); \r\n                return new String(charArray); \r\n            }\r\n            else {\r\n                return &quot;&quot;;\r\n            }\r\n        }\r\n    }\r\n","title":"How to capitalize the first character of each word in a string","body":"<p>Reusable method for intiCap:</p>\n\n<pre><code>    public class YarlagaddaSireeshTest{\n\n    public static void main(String[] args) {\n        String FinalStringIs = \"\";\n        String testNames = \"sireesh yarlagadda test\";\n        String[] name = testNames.split(\"\\\\s\");\n\n        for(String nameIs :name){\n            FinalStringIs += getIntiCapString(nameIs) + \",\";\n        }\n        System.out.println(\"Final Result \"+ FinalStringIs);\n    }\n\n    public static String getIntiCapString(String param) {\n        if(param != null &amp;&amp; param.length()&gt;0){          \n            char[] charArray = param.toCharArray(); \n            charArray[0] = Character.toUpperCase(charArray[0]); \n            return new String(charArray); \n        }\n        else {\n            return \"\";\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4798667,"reputation":11,"user_id":3875836,"display_name":"Elias Sheikh"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1406271581,"creation_date":1406271370,"answer_id":24949783,"question_id":1892765,"body_markdown":"    package corejava.string.intern;\r\n    \r\n    import java.io.DataInputStream;\r\n    \r\n    import java.util.ArrayList;\r\n    \r\n    /*\r\n     * wap to accept only 3 sentences and convert first character of each word into upper case\r\n     */\r\n    \r\n    public class Accept3Lines_FirstCharUppercase {\r\n    \r\n    \tstatic String line;\r\n    \tstatic String words[];\r\n    \tstatic ArrayList&lt;String&gt; list=new ArrayList&lt;String&gt;();\r\n    \r\n    \t/**\r\n    \t * @param args\r\n    \t */\r\n    \tpublic static void main(String[] args) throws java.lang.Exception{\r\n    \r\n    \t\tDataInputStream read=new DataInputStream(System.in);\r\n    \t\tSystem.out.println(&quot;Enter only three sentences&quot;);\r\n    \t\tint i=0;\r\n    \t\twhile((line=read.readLine())!=null){\r\n    \t\t\tmethod(line);\t\t//main logic of the code\r\n    \t\t\tif((i++)==2){\r\n    \t\t\t\tbreak;\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\tdisplay();\r\n    \t\tSystem.out.println(&quot;\\n End of the program&quot;);\r\n    \r\n    \t}\r\n    \t\r\n    \t/*\r\n    \t * this will display all the elements in an array\r\n    \t */\r\n    \tpublic static void display(){\r\n    \t\tfor(String display:list){\r\n    \t\t\tSystem.out.println(display);\r\n    \t\t}\r\n    \t}\r\n    \t\r\n    \t/*\r\n    \t * this divide the line of string into words \r\n    \t * and first char of the each word is converted to upper case\r\n    \t * and to an array list\r\n    \t */\r\n    \tpublic static void method(String lineParam){\r\n    \t\twords=line.split(&quot;\\\\s&quot;);\r\n    \t\tfor(String s:words){\r\n    \t\t\tString result=s.substring(0,1).toUpperCase()+s.substring(1);\r\n    \t\t\tlist.add(result);\r\n    \t\t}\r\n    \t}\r\n    \r\n    }","title":"How to capitalize the first character of each word in a string","body":"<pre><code>package corejava.string.intern;\n\nimport java.io.DataInputStream;\n\nimport java.util.ArrayList;\n\n/*\n * wap to accept only 3 sentences and convert first character of each word into upper case\n */\n\npublic class Accept3Lines_FirstCharUppercase {\n\n    static String line;\n    static String words[];\n    static ArrayList&lt;String&gt; list=new ArrayList&lt;String&gt;();\n\n    /**\n     * @param args\n     */\n    public static void main(String[] args) throws java.lang.Exception{\n\n        DataInputStream read=new DataInputStream(System.in);\n        System.out.println(\"Enter only three sentences\");\n        int i=0;\n        while((line=read.readLine())!=null){\n            method(line);       //main logic of the code\n            if((i++)==2){\n                break;\n            }\n        }\n        display();\n        System.out.println(\"\\n End of the program\");\n\n    }\n\n    /*\n     * this will display all the elements in an array\n     */\n    public static void display(){\n        for(String display:list){\n            System.out.println(display);\n        }\n    }\n\n    /*\n     * this divide the line of string into words \n     * and first char of the each word is converted to upper case\n     * and to an array list\n     */\n    public static void method(String lineParam){\n        words=line.split(\"\\\\s\");\n        for(String s:words){\n            String result=s.substring(0,1).toUpperCase()+s.substring(1);\n            list.add(result);\n        }\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":39685,"reputation":12829,"user_id":114549,"display_name":"aaronvargas"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1415057244,"creation_date":1415057244,"answer_id":26725169,"question_id":1892765,"body_markdown":"If you prefer Guava...\r\n\r\n    String myString = ...;\r\n\r\n    String capWords = Joiner.on(&#39; &#39;).join(Iterables.transform(Splitter.on(&#39; &#39;).omitEmptyStrings().split(myString), new Function&lt;String, String&gt;() {\r\n        public String apply(String input) {\r\n            return Character.toUpperCase(input.charAt(0)) + input.substring(1);\r\n        }\r\n    }));\r\n","title":"How to capitalize the first character of each word in a string","body":"<p>If you prefer Guava...</p>\n\n<pre><code>String myString = ...;\n\nString capWords = Joiner.on(' ').join(Iterables.transform(Splitter.on(' ').omitEmptyStrings().split(myString), new Function&lt;String, String&gt;() {\n    public String apply(String input) {\n        return Character.toUpperCase(input.charAt(0)) + input.substring(1);\n    }\n}));\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1150896,"reputation":2563,"user_id":1132642,"accept_rate":100,"display_name":"David Manheim"},"score":0,"creation_date":1419741560,"post_id":27673680,"comment_id":43762399,"body_markdown":"Thanks for trying to add an answer. This is a reasonable idea, but note that there are basic functions that do this already, and code that does this similarly to what you provided, and the accepted answers already outline all of them very clearly.","body":"Thanks for trying to add an answer. This is a reasonable idea, but note that there are basic functions that do this already, and code that does this similarly to what you provided, and the accepted answers already outline all of them very clearly."}],"tags":[],"owner":{"account_id":5479124,"reputation":31,"user_id":4356181,"display_name":"Phuoc Le"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1518119391,"creation_date":1419740522,"answer_id":27673680,"question_id":1892765,"body_markdown":"There are many way to convert the first letter of the first word being capitalized. I have an idea. It&#39;s very simple:\r\n\r\n    public String capitalize(String str){\r\n\r\n         /* The first thing we do is remove whitespace from string */\r\n         String c = str.replaceAll(&quot;\\\\s+&quot;, &quot; &quot;);\r\n         String s = c.trim();\r\n         String l = &quot;&quot;;\r\n\r\n         for(int i = 0; i &lt; s.length(); i++){\r\n              if(i == 0){                              /* Uppercase the first letter in strings */\r\n                  l += s.toUpperCase().charAt(i);\r\n                  i++;                                 /* To i = i + 1 because we don&#39;t need to add               \r\n                                                        value i = 0 into string l */\r\n              }\r\n\r\n              l += s.charAt(i);\r\n\r\n              if(s.charAt(i) == 32){                   /* If we meet whitespace (32 in ASCII Code is whitespace) */\r\n                  l += s.toUpperCase().charAt(i+1);    /* Uppercase the letter after whitespace */\r\n                  i++;                                 /* Yo i = i + 1 because we don&#39;t need to add\r\n                                                       value whitespace into string l */\r\n              }        \r\n         }\r\n         return l;\r\n    }\r\n","title":"How to capitalize the first character of each word in a string","body":"<p>There are many way to convert the first letter of the first word being capitalized. I have an idea. It's very simple:</p>\n\n<pre><code>public String capitalize(String str){\n\n     /* The first thing we do is remove whitespace from string */\n     String c = str.replaceAll(\"\\\\s+\", \" \");\n     String s = c.trim();\n     String l = \"\";\n\n     for(int i = 0; i &lt; s.length(); i++){\n          if(i == 0){                              /* Uppercase the first letter in strings */\n              l += s.toUpperCase().charAt(i);\n              i++;                                 /* To i = i + 1 because we don't need to add               \n                                                    value i = 0 into string l */\n          }\n\n          l += s.charAt(i);\n\n          if(s.charAt(i) == 32){                   /* If we meet whitespace (32 in ASCII Code is whitespace) */\n              l += s.toUpperCase().charAt(i+1);    /* Uppercase the letter after whitespace */\n              i++;                                 /* Yo i = i + 1 because we don't need to add\n                                                   value whitespace into string l */\n          }        \n     }\n     return l;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5027367,"reputation":1111,"user_id":4038790,"display_name":"lwdthe1"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1518119606,"creation_date":1420711402,"answer_id":27837384,"question_id":1892765,"body_markdown":"Here is my solution.\r\n\r\nI ran across this problem tonight and decided to search it. I found an answer by Neelam Singh that was almost there, so I decided to fix the issue (broke on empty strings) and caused a system crash.\r\n\r\nThe method you are looking for is named `capString(String s)` below. \r\nIt turns &quot;It&#39;s only 5am here&quot; into &quot;It&#39;s Only 5am Here&quot;. \r\n\r\nThe code is pretty well commented, so enjoy.\r\n\r\n    package com.lincolnwdaniel.interactivestory.model;\r\n\r\n        public class StringS {\r\n\r\n        /**\r\n         * @param s is a string of any length, ideally only one word\r\n         * @return a capitalized string.\r\n         * only the first letter of the string is made to uppercase\r\n         */\r\n        public static String capSingleWord(String s) {\r\n            if(s.isEmpty() || s.length()&lt;2) {\r\n                return Character.toUpperCase(s.charAt(0))+&quot;&quot;;\r\n            } \r\n            else {\r\n                return Character.toUpperCase(s.charAt(0)) + s.substring(1);\r\n            }\r\n        }\r\n\r\n        /**\r\n         *\r\n         * @param s is a string of any length\r\n         * @return a title cased string.\r\n         * All first letter of each word is made to uppercase\r\n         */\r\n        public static String capString(String s) {\r\n            // Check if the string is empty, if it is, return it immediately\r\n            if(s.isEmpty()){\r\n                return s;\r\n            }\r\n\r\n            // Split string on space and create array of words\r\n            String[] arr = s.split(&quot; &quot;);\r\n            // Create a string buffer to hold the new capitalized string\r\n            StringBuffer sb = new StringBuffer();\r\n\r\n            // Check if the array is empty (would be caused by the passage of s as an empty string [i.g &quot;&quot; or &quot; &quot;],\r\n            // If it is, return the original string immediately\r\n            if( arr.length &lt; 1 ){\r\n                return s;\r\n            }\r\n\r\n            for (int i = 0; i &lt; arr.length; i++) {\r\n                sb.append(Character.toUpperCase(arr[i].charAt(0)))\r\n                        .append(arr[i].substring(1)).append(&quot; &quot;);\r\n            }\r\n            return sb.toString().trim();\r\n        }\r\n    }\r\n","title":"How to capitalize the first character of each word in a string","body":"<p>Here is my solution.</p>\n\n<p>I ran across this problem tonight and decided to search it. I found an answer by Neelam Singh that was almost there, so I decided to fix the issue (broke on empty strings) and caused a system crash.</p>\n\n<p>The method you are looking for is named <code>capString(String s)</code> below. \nIt turns \"It's only 5am here\" into \"It's Only 5am Here\". </p>\n\n<p>The code is pretty well commented, so enjoy.</p>\n\n<pre><code>package com.lincolnwdaniel.interactivestory.model;\n\n    public class StringS {\n\n    /**\n     * @param s is a string of any length, ideally only one word\n     * @return a capitalized string.\n     * only the first letter of the string is made to uppercase\n     */\n    public static String capSingleWord(String s) {\n        if(s.isEmpty() || s.length()&lt;2) {\n            return Character.toUpperCase(s.charAt(0))+\"\";\n        } \n        else {\n            return Character.toUpperCase(s.charAt(0)) + s.substring(1);\n        }\n    }\n\n    /**\n     *\n     * @param s is a string of any length\n     * @return a title cased string.\n     * All first letter of each word is made to uppercase\n     */\n    public static String capString(String s) {\n        // Check if the string is empty, if it is, return it immediately\n        if(s.isEmpty()){\n            return s;\n        }\n\n        // Split string on space and create array of words\n        String[] arr = s.split(\" \");\n        // Create a string buffer to hold the new capitalized string\n        StringBuffer sb = new StringBuffer();\n\n        // Check if the array is empty (would be caused by the passage of s as an empty string [i.g \"\" or \" \"],\n        // If it is, return the original string immediately\n        if( arr.length &lt; 1 ){\n            return s;\n        }\n\n        for (int i = 0; i &lt; arr.length; i++) {\n            sb.append(Character.toUpperCase(arr[i].charAt(0)))\n                    .append(arr[i].substring(1)).append(\" \");\n        }\n        return sb.toString().trim();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":147410,"reputation":221,"user_id":3010489,"display_name":"Hylke1982"},"comment_count":0,"down_vote_count":0,"up_vote_count":21,"is_accepted":false,"score":21,"last_activity_date":1518119665,"creation_date":1424174015,"answer_id":28560959,"question_id":1892765,"body_markdown":"I made a solution in Java 8 that is IMHO more readable.\r\n\r\n    public String firstLetterCapitalWithSingleSpace(final String words) {\r\n        return Stream.of(words.trim().split(&quot;\\\\s&quot;))\r\n        .filter(word -&gt; word.length() &gt; 0)\r\n        .map(word -&gt; word.substring(0, 1).toUpperCase() + word.substring(1))\r\n        .collect(Collectors.joining(&quot; &quot;));\r\n    }\r\n\r\nThe Gist for this solution can be found here: https://gist.github.com/Hylke1982/166a792313c5e2df9d31\r\n","title":"How to capitalize the first character of each word in a string","body":"<p>I made a solution in Java 8 that is IMHO more readable.</p>\n\n<pre><code>public String firstLetterCapitalWithSingleSpace(final String words) {\n    return Stream.of(words.trim().split(\"\\\\s\"))\n    .filter(word -&gt; word.length() &gt; 0)\n    .map(word -&gt; word.substring(0, 1).toUpperCase() + word.substring(1))\n    .collect(Collectors.joining(\" \"));\n}\n</code></pre>\n\n<p>The Gist for this solution can be found here: <a href=\"https://gist.github.com/Hylke1982/166a792313c5e2df9d31\" rel=\"noreferrer\">https://gist.github.com/Hylke1982/166a792313c5e2df9d31</a></p>\n"},{"tags":[],"owner":{"account_id":5947019,"reputation":41,"user_id":4676244,"display_name":"Parasouramane D"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1427887510,"creation_date":1427887510,"answer_id":29389502,"question_id":1892765,"body_markdown":"I had a requirement to make a generic toString(Object obj) helper class function, where I had to convert the fieldnames into methodnames - getXXX() of the passed Object. \r\n\r\nHere is the code \r\n\r\n    /**\r\n\t * @author DPARASOU\r\n\t * Utility method to replace the first char of a string with uppercase but leave other chars as it is.\r\n\t * ToString() \r\n\t * @param inStr - String\r\n\t * @return String\r\n\t */\r\n\tpublic static String firstCaps(String inStr)\r\n\t{\r\n\t\tif (inStr != null &amp;&amp; inStr.length() &gt; 0)\r\n\t\t{\r\n\t\t\tchar[] outStr = inStr.toCharArray();\r\n\t\t\toutStr[0] = Character.toUpperCase(outStr[0]);\r\n\t\t\treturn String.valueOf(outStr);\r\n\t\t}\r\n\t\telse\r\n\t\t\treturn inStr;\r\n\t}\r\n\r\nAnd my toString() utility is like this\r\n\r\n    public static String getToString(Object obj)\r\n\t{\r\n\t\tStringBuilder toString = new StringBuilder();\r\n\t\ttoString.append(obj.getClass().getSimpleName());\r\n\t\ttoString.append(&quot;[&quot;);\r\n\t\tfor(Field f : obj.getClass().getDeclaredFields())\r\n\t\t{\r\n\t\t\ttoString.append(f.getName());\r\n\t\t\ttoString.append(&quot;=&quot;);\r\n\t\t\ttry{\r\n\t\t\t\t//toString.append(f.get(obj)); //access privilege issue\r\n\t\t\t\ttoString.append(invokeGetter(obj, firstCaps(f.getName()), &quot;get&quot;));\r\n\t\t\t}\r\n\t\t\tcatch(Exception e)\r\n\t\t\t{\r\n\t\t\t\te.printStackTrace();\r\n\t\t\t}\r\n\t\t\ttoString.append(&quot;, &quot;);        \r\n\t\t}\r\n\t\ttoString.setCharAt(toString.length()-2, &#39;]&#39;);\r\n\t\treturn toString.toString();\r\n\t}","title":"How to capitalize the first character of each word in a string","body":"<p>I had a requirement to make a generic toString(Object obj) helper class function, where I had to convert the fieldnames into methodnames - getXXX() of the passed Object. </p>\n\n<p>Here is the code </p>\n\n<pre><code>/**\n * @author DPARASOU\n * Utility method to replace the first char of a string with uppercase but leave other chars as it is.\n * ToString() \n * @param inStr - String\n * @return String\n */\npublic static String firstCaps(String inStr)\n{\n    if (inStr != null &amp;&amp; inStr.length() &gt; 0)\n    {\n        char[] outStr = inStr.toCharArray();\n        outStr[0] = Character.toUpperCase(outStr[0]);\n        return String.valueOf(outStr);\n    }\n    else\n        return inStr;\n}\n</code></pre>\n\n<p>And my toString() utility is like this</p>\n\n<pre><code>public static String getToString(Object obj)\n{\n    StringBuilder toString = new StringBuilder();\n    toString.append(obj.getClass().getSimpleName());\n    toString.append(\"[\");\n    for(Field f : obj.getClass().getDeclaredFields())\n    {\n        toString.append(f.getName());\n        toString.append(\"=\");\n        try{\n            //toString.append(f.get(obj)); //access privilege issue\n            toString.append(invokeGetter(obj, firstCaps(f.getName()), \"get\"));\n        }\n        catch(Exception e)\n        {\n            e.printStackTrace();\n        }\n        toString.append(\", \");        \n    }\n    toString.setCharAt(toString.length()-2, ']');\n    return toString.toString();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4744455,"reputation":2719,"user_id":3836137,"accept_rate":40,"display_name":"Ameen Maheen"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1518119746,"creation_date":1433928709,"answer_id":30752480,"question_id":1892765,"body_markdown":"Try this:\r\n\r\n     private String capitalizer(String word){\r\n\r\n            String[] words = word.split(&quot; &quot;);\r\n            StringBuilder sb = new StringBuilder();\r\n            if (words[0].length() &gt; 0) {\r\n                sb.append(Character.toUpperCase(words[0].charAt(0)) + words[0].subSequence(1, words[0].length()).toString().toLowerCase());\r\n                for (int i = 1; i &lt; words.length; i++) {\r\n                    sb.append(&quot; &quot;);\r\n                    sb.append(Character.toUpperCase(words[i].charAt(0)) + words[i].subSequence(1, words[i].length()).toString().toLowerCase());\r\n                }\r\n            }\r\n            return  sb.toString();\r\n        }\r\n","title":"How to capitalize the first character of each word in a string","body":"<p>Try this:</p>\n\n<pre><code> private String capitalizer(String word){\n\n        String[] words = word.split(\" \");\n        StringBuilder sb = new StringBuilder();\n        if (words[0].length() &gt; 0) {\n            sb.append(Character.toUpperCase(words[0].charAt(0)) + words[0].subSequence(1, words[0].length()).toString().toLowerCase());\n            for (int i = 1; i &lt; words.length; i++) {\n                sb.append(\" \");\n                sb.append(Character.toUpperCase(words[i].charAt(0)) + words[i].subSequence(1, words[i].length()).toString().toLowerCase());\n            }\n        }\n        return  sb.toString();\n    }\n</code></pre>\n"},{"comments":[{"owner":{"account_id":307264,"reputation":2065,"user_id":618465,"accept_rate":95,"display_name":"Navigatron"},"score":2,"creation_date":1487592690,"post_id":30778689,"comment_id":71839706,"body_markdown":"@Ash `StringUtils.capitalise(str)` is deprecated. See: https://commons.apache.org/proper/commons-lang/javadocs/api-2.6/org/apache/commons/lang/StringUtils.html#capitalise(java.lang.String)","body":"@Ash <code>StringUtils.capitalise(str)</code> is deprecated. See: <a href=\"https://commons.apache.org/proper/commons-lang/javadocs/api-2.6/org/apache/commons/lang/StringUtils.html#capitalise(java.lang.String)\" rel=\"nofollow noreferrer\">commons.apache.org/proper/commons-lang/javadocs/api-2.6/org/&zwnj;&#8203;&hellip;</a>"},{"owner":{"account_id":980057,"reputation":7528,"user_id":1000011,"accept_rate":52,"display_name":"opticyclic"},"score":0,"creation_date":1569528757,"post_id":30778689,"comment_id":102636780,"body_markdown":"This only capitalises the first char of the string not the first char of each word in the string. WordUtils is only deprecated because it has moved from commons lang to commons text https://commons.apache.org/proper/commons-text/javadocs/api-release/org/apache/commons/text/WordUtils.html#capitalizeFully-java.lang.String-","body":"This only capitalises the first char of the string not the first char of each word in the string. WordUtils is only deprecated because it has moved from commons lang to commons text <a href=\"https://commons.apache.org/proper/commons-text/javadocs/api-release/org/apache/commons/text/WordUtils.html#capitalizeFully-java.lang.String-\" rel=\"nofollow noreferrer\">commons.apache.org/proper/commons-text/javadocs/api-release/&zwnj;&#8203;org/&hellip;</a>"}],"tags":[],"owner":{"account_id":2066484,"reputation":431,"user_id":1841907,"display_name":"Amir Bareket"},"comment_count":2,"down_vote_count":2,"up_vote_count":12,"is_accepted":false,"score":10,"last_activity_date":1518119781,"creation_date":1434019690,"answer_id":30778689,"question_id":1892765,"body_markdown":"Using `org.apache.commons.lang.StringUtils` makes it very simple.\r\n\r\n    capitalizeStr = StringUtils.capitalize(str);\r\n","title":"How to capitalize the first character of each word in a string","body":"<p>Using <code>org.apache.commons.lang.StringUtils</code> makes it very simple.</p>\n\n<pre><code>capitalizeStr = StringUtils.capitalize(str);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8224746,"reputation":769,"user_id":6187368,"display_name":"Mohd Nashirudden"},"comment_count":0,"down_vote_count":3,"up_vote_count":1,"is_accepted":false,"score":-2,"last_activity_date":1460366085,"creation_date":1460366085,"answer_id":36544484,"question_id":1892765,"body_markdown":"// So simple and basic\r\n\r\n    public void capalizedFirstCharOne(String str){\r\n\t\tchar[] charArray=str.toCharArray();\r\n\t\tcharArray[0]=Character.toUpperCase(charArray[0]);\r\n\t\tfor(int i=1;i&lt;charArray.length;i++){\r\n\t\t\tif(charArray[i]==&#39; &#39; ){\r\n\t\t\t\tcharArray[i+1]=Character.toUpperCase(charArray[i+1]);\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\tString result=new String(charArray);\r\n\t\tSystem.out.println(result);\r\n\t}\r\n","title":"How to capitalize the first character of each word in a string","body":"<p>// So simple and basic</p>\n\n<pre><code>public void capalizedFirstCharOne(String str){\n    char[] charArray=str.toCharArray();\n    charArray[0]=Character.toUpperCase(charArray[0]);\n    for(int i=1;i&lt;charArray.length;i++){\n        if(charArray[i]==' ' ){\n            charArray[i+1]=Character.toUpperCase(charArray[i+1]);\n        }\n    }\n\n    String result=new String(charArray);\n    System.out.println(result);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3324639,"reputation":1,"user_id":2794976,"display_name":"Pankaj Sonagara"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1462697131,"creation_date":1462697131,"answer_id":37097944,"question_id":1892765,"body_markdown":"    Simple answer by program:\r\n\r\n    \r\n    public class StringCamelCase {\r\n    \tpublic static void main(String[] args) {\r\n    \t\tString[] articles = {&quot;the &quot;, &quot;a &quot;, &quot;one &quot;, &quot;some &quot;, &quot;any &quot;};\r\n    \t\tString[] result = new String[articles.length];\r\n    \t\tint i = 0;\r\n    \t\tfor (String string : articles) {\r\n    \t\t\tresult[i++] = toUpercaseForstChar(string);\r\n    \t\t}\r\n    \t\t\r\n    \t\tfor (String string : result) {\r\n    \t\t\tSystem.out.println(string);\r\n    \t\t}\r\n    \t}\r\n    \tpublic static String toUpercaseForstChar(String string){\r\n    \t\treturn new String(new char[]{string.charAt(0)}).toUpperCase() + string.substring(1,string.length());\r\n    \t}\r\n    }\r\n\r\n","title":"How to capitalize the first character of each word in a string","body":"<pre><code>Simple answer by program:\n\n\npublic class StringCamelCase {\n    public static void main(String[] args) {\n        String[] articles = {\"the \", \"a \", \"one \", \"some \", \"any \"};\n        String[] result = new String[articles.length];\n        int i = 0;\n        for (String string : articles) {\n            result[i++] = toUpercaseForstChar(string);\n        }\n\n        for (String string : result) {\n            System.out.println(string);\n        }\n    }\n    public static String toUpercaseForstChar(String string){\n        return new String(new char[]{string.charAt(0)}).toUpperCase() + string.substring(1,string.length());\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8593244,"reputation":11,"user_id":6437136,"display_name":"Tumi Mashabela"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1518119953,"creation_date":1465342920,"answer_id":37691153,"question_id":1892765,"body_markdown":"The most basic and easiest way to understand (I think):\r\n\r\n    import java.util.Scanner;\r\n\r\n    public class ToUpperCase {\r\n\t    static Scanner kb = new Scanner(System.in);\r\n\t\r\n    \tpublic static String capitalize(String str){\r\n\t\t    /* Changes 1st letter of every word \r\n    \t\t   in a string to upper case\r\n\t    \t */\r\n\t\t    String[] ss = str.split(&quot; &quot;);\r\n    \t\tStringBuilder[] sb = new StringBuilder[ss.length];\r\n\t    \tStringBuilder capped = new StringBuilder(&quot;&quot;);\r\n            str = &quot;&quot;;\r\n\t\t\r\n\t    \t// Capitalise letters\r\n    \t\tfor (int i = 0; i &lt; ss.length; i++){\r\n\t    \t\tsb[i] = new StringBuilder(ss[i]); // Construct and assign\r\n\t\t    \tstr += Character.toUpperCase(ss[i].charAt(0)); // Only caps\r\n\t\t\t    //======================================================//\r\n\t\t\t\r\n\t\t\t    // Replace 1st letters with cap letters\r\n    \t\t\tsb[i].setCharAt(0, str.charAt(i)); \r\n\t    \t\tcapped.append(sb[i].toString() + &quot; &quot;);\t// Formatting\r\n\t\t    }\r\n    \t\treturn capped.toString();\r\n\t    }\r\n\r\n    \tpublic static void main(String[] args){\r\n    \t\tSystem.out.println(capitalize(kb.nextLine()));\r\n\t    }\r\n    }\r\n","title":"How to capitalize the first character of each word in a string","body":"<p>The most basic and easiest way to understand (I think):</p>\n\n<pre><code>import java.util.Scanner;\n\npublic class ToUpperCase {\n    static Scanner kb = new Scanner(System.in);\n\n    public static String capitalize(String str){\n        /* Changes 1st letter of every word \n           in a string to upper case\n         */\n        String[] ss = str.split(\" \");\n        StringBuilder[] sb = new StringBuilder[ss.length];\n        StringBuilder capped = new StringBuilder(\"\");\n        str = \"\";\n\n        // Capitalise letters\n        for (int i = 0; i &lt; ss.length; i++){\n            sb[i] = new StringBuilder(ss[i]); // Construct and assign\n            str += Character.toUpperCase(ss[i].charAt(0)); // Only caps\n            //======================================================//\n\n            // Replace 1st letters with cap letters\n            sb[i].setCharAt(0, str.charAt(i)); \n            capped.append(sb[i].toString() + \" \");  // Formatting\n        }\n        return capped.toString();\n    }\n\n    public static void main(String[] args){\n        System.out.println(capitalize(kb.nextLine()));\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":466127,"reputation":283,"user_id":5855091,"accept_rate":0,"display_name":"chitgoks"},"score":3,"creation_date":1492911844,"post_id":39925666,"comment_id":74183498,"body_markdown":"Always use StringBuilder when you concatenate rather than +=","body":"Always use StringBuilder when you concatenate rather than +="},{"owner":{"account_id":24885,"reputation":30828,"user_id":63550,"accept_rate":78,"display_name":"Peter Mortensen"},"score":2,"creation_date":1518120040,"post_id":39925666,"comment_id":84386110,"body_markdown":"Why do you think it is faster?","body":"Why do you think it is faster?"}],"tags":[],"owner":{"account_id":7282243,"reputation":224,"user_id":5551577,"display_name":"Tassadar"},"comment_count":2,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1518120002,"creation_date":1475873703,"answer_id":39925666,"question_id":1892765,"body_markdown":"I&#39;m using the following function. I think it is faster in performance.\r\n\r\n    public static String capitalize(String text){\r\n        String c = (text != null)? text.trim() : &quot;&quot;;\r\n        String[] words = c.split(&quot; &quot;);\r\n        String result = &quot;&quot;;\r\n        for(String w : words){\r\n            result += (w.length() &gt; 1? w.substring(0, 1).toUpperCase(Locale.US) + w.substring(1, w.length()).toLowerCase(Locale.US) : w) + &quot; &quot;;\r\n        }\r\n        return result.trim();\r\n    }\r\n","title":"How to capitalize the first character of each word in a string","body":"<p>I'm using the following function. I think it is faster in performance.</p>\n\n<pre><code>public static String capitalize(String text){\n    String c = (text != null)? text.trim() : \"\";\n    String[] words = c.split(\" \");\n    String result = \"\";\n    for(String w : words){\n        result += (w.length() &gt; 1? w.substring(0, 1).toUpperCase(Locale.US) + w.substring(1, w.length()).toLowerCase(Locale.US) : w) + \" \";\n    }\n    return result.trim();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1004737,"reputation":6077,"user_id":1018790,"display_name":"Christian Gr&#252;n"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1488463742,"creation_date":1488463742,"answer_id":42557636,"question_id":1892765,"body_markdown":"I decided to add one more solution for capitalizing words in a string:\r\n\r\n* words are defined here as adjacent letter-or-digit characters;\r\n* surrogate pairs are provided as well;\r\n* the code has been optimized for performance; and\r\n* it is still compact.\r\n\r\nFunction:\r\n\r\n    public static String capitalize(String string) {\r\n      final int sl = string.length();\r\n      final StringBuilder sb = new StringBuilder(sl);\r\n      boolean lod = false;\r\n      for(int s = 0; s &lt; sl; s++) {\r\n        final int cp = string.codePointAt(s);\r\n        sb.appendCodePoint(lod ? Character.toLowerCase(cp) : Character.toUpperCase(cp));\r\n        lod = Character.isLetterOrDigit(cp);\r\n        if(!Character.isBmpCodePoint(cp)) s++;\r\n      }\r\n      return sb.toString();\r\n    }\r\n\r\nExample call:\r\n\r\n    System.out.println(capitalize(&quot;An &#224; la carte StRiNg. Surrogate pairs: &#66602;&#66602;.&quot;));\r\n\r\nResult:\r\n\r\n    An &#192; La Carte String. Surrogate Pairs: &#66562;&#66602;.\r\n","title":"How to capitalize the first character of each word in a string","body":"<p>I decided to add one more solution for capitalizing words in a string:</p>\n\n<ul>\n<li>words are defined here as adjacent letter-or-digit characters;</li>\n<li>surrogate pairs are provided as well;</li>\n<li>the code has been optimized for performance; and</li>\n<li>it is still compact.</li>\n</ul>\n\n<p>Function:</p>\n\n<pre><code>public static String capitalize(String string) {\n  final int sl = string.length();\n  final StringBuilder sb = new StringBuilder(sl);\n  boolean lod = false;\n  for(int s = 0; s &lt; sl; s++) {\n    final int cp = string.codePointAt(s);\n    sb.appendCodePoint(lod ? Character.toLowerCase(cp) : Character.toUpperCase(cp));\n    lod = Character.isLetterOrDigit(cp);\n    if(!Character.isBmpCodePoint(cp)) s++;\n  }\n  return sb.toString();\n}\n</code></pre>\n\n<p>Example call:</p>\n\n<pre><code>System.out.println(capitalize(\"An à la carte StRiNg. Surrogate pairs: 𐐪𐐪.\"));\n</code></pre>\n\n<p>Result:</p>\n\n<pre><code>An À La Carte String. Surrogate Pairs: 𐐂𐐪.\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1085180,"reputation":34239,"user_id":1081043,"accept_rate":72,"display_name":"wisbucky"},"score":0,"creation_date":1499807116,"post_id":44696247,"comment_id":77063262,"body_markdown":"you need to rename your class from `Capitol` to `Capital` :)","body":"you need to rename your class from <code>Capitol</code> to <code>Capital</code> :)"}],"tags":[],"owner":{"account_id":1927754,"reputation":5881,"user_id":1737819,"accept_rate":89,"display_name":"Developer Marius Žilėnas"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1498126312,"creation_date":1498125893,"answer_id":44696247,"question_id":1892765,"body_markdown":"Since nobody used regexp&#39;s let&#39;s do it with regexp&#39;s. This solution is for fun. :) (update: actually I just discovered that there is an answer with regexps, anyway I would like to leave this answer in place since it is *better looking* :) ):\r\n\r\n    public class Capitol \r\n    {\r\n        public static String now(String str)\r\n        {\r\n            StringBuffer b = new StringBuffer();\r\n            Pattern p = Pattern.compile(&quot;\\\\b(\\\\w){1}&quot;);\r\n            Matcher m = p.matcher(str);\r\n            while (m.find())\r\n            {\r\n                String s = m.group(1);\r\n                m.appendReplacement(b, s.toUpperCase());\r\n            }\r\n            m.appendTail(b);\r\n            return b.toString();\r\n        }\r\n    }\r\n\r\nUsage \r\n\r\n    Capitol.now(&quot;ab cd&quot;));\r\n    Capitol.now(&quot;winnie the Pooh&quot;));\r\n    Capitol.now(&quot;please talk loudly!&quot;));\r\n    Capitol.now(&quot;miles o&#39;Brien&quot;));","title":"How to capitalize the first character of each word in a string","body":"<p>Since nobody used regexp's let's do it with regexp's. This solution is for fun. :) (update: actually I just discovered that there is an answer with regexps, anyway I would like to leave this answer in place since it is <em>better looking</em> :) ):</p>\n\n<pre><code>public class Capitol \n{\n    public static String now(String str)\n    {\n        StringBuffer b = new StringBuffer();\n        Pattern p = Pattern.compile(\"\\\\b(\\\\w){1}\");\n        Matcher m = p.matcher(str);\n        while (m.find())\n        {\n            String s = m.group(1);\n            m.appendReplacement(b, s.toUpperCase());\n        }\n        m.appendTail(b);\n        return b.toString();\n    }\n}\n</code></pre>\n\n<p>Usage </p>\n\n<pre><code>Capitol.now(\"ab cd\"));\nCapitol.now(\"winnie the Pooh\"));\nCapitol.now(\"please talk loudly!\"));\nCapitol.now(\"miles o'Brien\"));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7411429,"reputation":78038,"user_id":5638630,"accept_rate":88,"display_name":"Krunal"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1499784674,"creation_date":1499784674,"answer_id":45037942,"question_id":1892765,"body_markdown":"    String toUpperCaseFirstLetterOnly(String str) {\r\n        String[] words = str.split(&quot; &quot;);\r\n        StringBuilder ret = new StringBuilder();\r\n        for(int i = 0; i &lt; words.length; i++) {\r\n            ret.append(Character.toUpperCase(words[i].charAt(0)));\r\n            ret.append(words[i].substring(1));\r\n            if(i &lt; words.length - 1) {\r\n                ret.append(&#39; &#39;);\r\n            }\r\n        }\r\n        return ret.toString();\r\n    }","title":"How to capitalize the first character of each word in a string","body":"<pre><code>String toUpperCaseFirstLetterOnly(String str) {\n    String[] words = str.split(\" \");\n    StringBuilder ret = new StringBuilder();\n    for(int i = 0; i &lt; words.length; i++) {\n        ret.append(Character.toUpperCase(words[i].charAt(0)));\n        ret.append(words[i].substring(1));\n        if(i &lt; words.length - 1) {\n            ret.append(' ');\n        }\n    }\n    return ret.toString();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10394667,"reputation":2778,"user_id":7664765,"display_name":"Simon"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1507034635,"creation_date":1507034635,"answer_id":46544908,"question_id":1892765,"body_markdown":"I use `wordUppercase(String s)` from the [Raindrop-Library][1].\r\nBecause this is my library, here the single method:\r\n\r\n     /**\r\n      * Set set first letter from every word uppercase.\r\n      *\r\n      * @param s - The String wich you want to convert.\r\n      * @return The string where is the first letter of every word uppercase.\r\n      */\r\n     public static String wordUppercase(String s){\r\n       String[] words = s.split(&quot; &quot;);\r\n       for (int i = 0; i &lt; words.length; i++) words[i] = words[i].substring(0, 1).toUpperCase() + words[i].substring(1).toLowerCase();\r\n       return String.join(&quot; &quot;, words);\r\n     }\r\n\r\nHope it helps :)\r\n  [1]: https://github.com/Simonwep/Raindrop_Java-Library","title":"How to capitalize the first character of each word in a string","body":"<p>I use <code>wordUppercase(String s)</code> from the <a href=\"https://github.com/Simonwep/Raindrop_Java-Library\" rel=\"nofollow noreferrer\">Raindrop-Library</a>.\nBecause this is my library, here the single method:</p>\n\n<pre><code> /**\n  * Set set first letter from every word uppercase.\n  *\n  * @param s - The String wich you want to convert.\n  * @return The string where is the first letter of every word uppercase.\n  */\n public static String wordUppercase(String s){\n   String[] words = s.split(\" \");\n   for (int i = 0; i &lt; words.length; i++) words[i] = words[i].substring(0, 1).toUpperCase() + words[i].substring(1).toLowerCase();\n   return String.join(\" \", words);\n }\n</code></pre>\n\n<p>Hope it helps :)</p>\n"},{"tags":[],"owner":{"account_id":11732764,"reputation":1,"user_id":8587649,"display_name":"Shristy"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1507403504,"creation_date":1507401613,"answer_id":46623812,"question_id":1892765,"body_markdown":"    public void capitaliseFirstLetterOfEachWord()\r\n\t{\r\n\t\tString value=&quot;this will capitalise first character of each word of this string&quot;;\r\n\t\tString[] wordSplit=value.split(&quot; &quot;);\r\n\t\tStringBuilder sb=new StringBuilder();\r\n\r\n\t\tfor (int i=0;i&lt;wordSplit.length;i++){\r\n\r\n\t\t\tsb.append(wordSplit[i].substring(0,1).toUpperCase().\r\n\t\t\t\t\tconcat(wordSplit[i].substring(1)).concat(&quot; &quot;));\r\n\t\t}\r\n\t\tSystem.out.println(sb);\r\n\t}","title":"How to capitalize the first character of each word in a string","body":"<pre><code>public void capitaliseFirstLetterOfEachWord()\n{\n    String value=\"this will capitalise first character of each word of this string\";\n    String[] wordSplit=value.split(\" \");\n    StringBuilder sb=new StringBuilder();\n\n    for (int i=0;i&lt;wordSplit.length;i++){\n\n        sb.append(wordSplit[i].substring(0,1).toUpperCase().\n                concat(wordSplit[i].substring(1)).concat(\" \"));\n    }\n    System.out.println(sb);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13085294,"reputation":1,"user_id":9454460,"display_name":"Thaycacac"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1520919814,"creation_date":1520919814,"answer_id":49249040,"question_id":1892765,"body_markdown":"        s.toLowerCase().trim();\r\n        result += Character.toUpperCase(s.charAt(0));\r\n        result += s.substring(1, s.indexOf(&quot; &quot;) + 1);\r\n        s = s.substring(s.indexOf(&quot; &quot;) + 1);\r\n\r\n        do {\r\n            if (s.contains(&quot; &quot;)) {\r\n                result += &quot; &quot;;\r\n                result += Character.toUpperCase(s.charAt(0));\r\n                result += s.substring(1, s.indexOf(&quot; &quot;));\r\n                s = s.substring(s.indexOf(&quot; &quot;) + 1);\r\n            } else {\r\n                result += &quot; &quot;;\r\n                result += Character.toUpperCase(s.charAt(0));\r\n                result += s.substring(1);\r\n                break;\r\n            }\r\n        } while (true);\r\n        System.out.println(result);","title":"How to capitalize the first character of each word in a string","body":"<pre><code>    s.toLowerCase().trim();\n    result += Character.toUpperCase(s.charAt(0));\n    result += s.substring(1, s.indexOf(\" \") + 1);\n    s = s.substring(s.indexOf(\" \") + 1);\n\n    do {\n        if (s.contains(\" \")) {\n            result += \" \";\n            result += Character.toUpperCase(s.charAt(0));\n            result += s.substring(1, s.indexOf(\" \"));\n            s = s.substring(s.indexOf(\" \") + 1);\n        } else {\n            result += \" \";\n            result += Character.toUpperCase(s.charAt(0));\n            result += s.substring(1);\n            break;\n        }\n    } while (true);\n    System.out.println(result);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5448501,"reputation":1780,"user_id":4334162,"display_name":"Arun Raaj"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1521988224,"creation_date":1521988224,"answer_id":49476949,"question_id":1892765,"body_markdown":"    String text=&quot;hello&quot;;\r\n    StringBuffer sb=new StringBuffer();\r\n    char[] ch=text.toCharArray();\r\n    for(int i=0;i&lt;ch.length;i++){\r\n    \tif(i==0){\r\n    \t\tsb.append(Character.toUpperCase(ch[i]));\r\n    \t}\r\n    \telse{\r\n    \tsb.append(ch[i]);\r\n    \t}\r\n    }\r\n    \r\n    \r\n    text=sb.toString();\r\n    System.out.println(text);\r\n    }","title":"How to capitalize the first character of each word in a string","body":"<pre><code>String text=\"hello\";\nStringBuffer sb=new StringBuffer();\nchar[] ch=text.toCharArray();\nfor(int i=0;i&lt;ch.length;i++){\n    if(i==0){\n        sb.append(Character.toUpperCase(ch[i]));\n    }\n    else{\n    sb.append(ch[i]);\n    }\n}\n\n\ntext=sb.toString();\nSystem.out.println(text);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1119040,"reputation":5237,"user_id":1107755,"accept_rate":62,"display_name":"Abhishek Bansal"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1523356889,"creation_date":1523356889,"answer_id":49751567,"question_id":1892765,"body_markdown":"Here is `RxJava` solution to the problem\r\n\r\n        String title = &quot;this is a title&quot;;\r\n        StringBuilder stringBuilder = new StringBuilder();\r\n        Observable.fromArray(title.trim().split(&quot;\\\\s&quot;))\r\n            .map(word -&gt; word.substring(0, 1).toUpperCase() + word.substring(1).toLowerCase())\r\n            .toList()\r\n            .map(wordList -&gt; {\r\n                for (String word : wordList) {\r\n                    stringBuilder.append(word).append(&quot; &quot;);\r\n                }\r\n                return stringBuilder.toString();\r\n            })\r\n            .subscribe(result -&gt; System.out.println(result));\r\n\r\nI don&#39;t yet like the for loop inside map though.","title":"How to capitalize the first character of each word in a string","body":"<p>Here is <code>RxJava</code> solution to the problem</p>\n\n<pre><code>    String title = \"this is a title\";\n    StringBuilder stringBuilder = new StringBuilder();\n    Observable.fromArray(title.trim().split(\"\\\\s\"))\n        .map(word -&gt; word.substring(0, 1).toUpperCase() + word.substring(1).toLowerCase())\n        .toList()\n        .map(wordList -&gt; {\n            for (String word : wordList) {\n                stringBuilder.append(word).append(\" \");\n            }\n            return stringBuilder.toString();\n        })\n        .subscribe(result -&gt; System.out.println(result));\n</code></pre>\n\n<p>I don't yet like the for loop inside map though.</p>\n"},{"comments":[{"owner":{"account_id":5397431,"reputation":5255,"user_id":4298200,"accept_rate":62,"display_name":"Neuron"},"score":0,"creation_date":1523831720,"post_id":49847061,"comment_id":86709805,"body_markdown":"Welcome to Stack Overflow! Generally, answers are much more helpful if they include an explanation of what the code is intended to do, and why that solves the problem without introducing others.","body":"Welcome to Stack Overflow! Generally, answers are much more helpful if they include an explanation of what the code is intended to do, and why that solves the problem without introducing others."},{"owner":{"account_id":2705335,"reputation":739,"user_id":2335052,"accept_rate":41,"display_name":"Billyjoker"},"score":0,"creation_date":1539265867,"post_id":49847061,"comment_id":92446459,"body_markdown":"Simplest solution by far and avoids using external libs","body":"Simplest solution by far and avoids using external libs"}],"tags":[],"owner":{"account_id":13372347,"reputation":41,"user_id":9650328,"display_name":"Taladork"},"comment_count":2,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1523828434,"creation_date":1523828434,"answer_id":49847061,"question_id":1892765,"body_markdown":"    public static String toTitleCase(String word){\r\n        return Character.toUpperCase(word.charAt(0)) + word.substring(1);\r\n    }\r\n\r\n    public static void main(String[] args){\r\n        String phrase = &quot;this is to be title cased&quot;;\r\n        String[] splitPhrase = phrase.split(&quot; &quot;);\r\n        String result = &quot;&quot;;\r\n\r\n        for(String word: splitPhrase){\r\n            result += toTitleCase(word) + &quot; &quot;;\r\n        }\r\n        System.out.println(result.trim());\r\n    }","title":"How to capitalize the first character of each word in a string","body":"<pre><code>public static String toTitleCase(String word){\n    return Character.toUpperCase(word.charAt(0)) + word.substring(1);\n}\n\npublic static void main(String[] args){\n    String phrase = \"this is to be title cased\";\n    String[] splitPhrase = phrase.split(\" \");\n    String result = \"\";\n\n    for(String word: splitPhrase){\n        result += toTitleCase(word) + \" \";\n    }\n    System.out.println(result.trim());\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7291967,"reputation":57515,"user_id":5558072,"accept_rate":100,"display_name":"Youcef LAIDANI"},"comment_count":0,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1568472045,"creation_date":1524752751,"answer_id":50045526,"question_id":1892765,"body_markdown":"# From Java 9+ \n\nyou can use [`String::replaceAll`][1] like this :\n\n    public static void upperCaseAllFirstCharacter(String text) {\n        String regex = &quot;\\\\b(.)(.*?)\\\\b&quot;;\n        String result = Pattern.compile(regex).matcher(text).replaceAll(\n                matche -&gt; matche.group(1).toUpperCase() + matche.group(2)\n        );\n\n        System.out.println(result);\n    }\n\nExample :\n\n    upperCaseAllFirstCharacter(&quot;hello this is Just a test&quot;);\n\nOutputs\n\n    Hello This Is Just A Test\n\n\n  [1]: https://docs.oracle.com/javase/10/docs/api/java/lang/String.html#replaceAll(java.lang.String,java.lang.String)","title":"How to capitalize the first character of each word in a string","body":"<h1>From Java 9+</h1>\n<p>you can use <a href=\"https://docs.oracle.com/javase/10/docs/api/java/lang/String.html#replaceAll(java.lang.String,java.lang.String)\" rel=\"nofollow noreferrer\"><code>String::replaceAll</code></a> like this :</p>\n<pre><code>public static void upperCaseAllFirstCharacter(String text) {\n    String regex = &quot;\\\\b(.)(.*?)\\\\b&quot;;\n    String result = Pattern.compile(regex).matcher(text).replaceAll(\n            matche -&gt; matche.group(1).toUpperCase() + matche.group(2)\n    );\n\n    System.out.println(result);\n}\n</code></pre>\n<p>Example :</p>\n<pre><code>upperCaseAllFirstCharacter(&quot;hello this is Just a test&quot;);\n</code></pre>\n<p>Outputs</p>\n<pre><code>Hello This Is Just A Test\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8773230,"reputation":172,"user_id":6559265,"display_name":"Pirai Sudie"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1541749207,"creation_date":1541749207,"answer_id":53221574,"question_id":1892765,"body_markdown":"this is another way i did\r\n\r\n        StringBuilder str=new StringBuilder(&quot;pirai sudie test test&quot;);\r\n\r\n\t\tstr.setCharAt(0,Character.toUpperCase(str.charAt(0)));\r\n\t\t\r\n\t\tfor(int i=str.length()-1;i&gt;=0;i--)\r\n\t\t{\r\n\t\t\tif(Character.isSpaceChar(str.charAt(i)))\r\n\t\t\t\tstr.setCharAt(i+1,Character.toUpperCase(str.charAt(i+1)));\r\n\t\t}\r\n\t\t\r\n\t\tSystem.out.println(str);","title":"How to capitalize the first character of each word in a string","body":"<p>this is another way i did</p>\n\n<pre><code>    StringBuilder str=new StringBuilder(\"pirai sudie test test\");\n\n    str.setCharAt(0,Character.toUpperCase(str.charAt(0)));\n\n    for(int i=str.length()-1;i&gt;=0;i--)\n    {\n        if(Character.isSpaceChar(str.charAt(i)))\n            str.setCharAt(i+1,Character.toUpperCase(str.charAt(i+1)));\n    }\n\n    System.out.println(str);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15345760,"reputation":1,"user_id":11071223,"display_name":"Alejandro Dirgan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1550327935,"creation_date":1550319616,"answer_id":54723009,"question_id":1892765,"body_markdown":"I made this little class that can be used to capitilize each word in a sentence. You can change the word separator in the string if this is not a space.\r\n\r\n    package com.ecnews.ecnews_v01.Helpers;\r\n\r\n      public class Capitalize {\r\n\r\n      String sentence;\r\n      String separator = &quot; &quot;;\r\n\r\n      public Capitalize(String sentence) {\r\n        this.sentence = sentence;\r\n      }\r\n\r\n      public void setSeparator(String separator) {\r\n        this.separator = separator;\r\n      }\r\n\r\n      public String getCapitalized() {\r\n        StringBuilder capitalized = new StringBuilder(&quot;&quot;);\r\n        for (String word : sentence.split(separator)) {\r\n            capitalized.append(separator+Character.toUpperCase(word.charAt(0)) + word.substring(1));\r\n        }\r\n        return capitalized.toString().trim();\r\n      }\r\n\r\n    }\r\n\r\nExample:\r\n\r\n`String sourceName = new Capitalize(&quot;this is a test&quot;).getCapitalized();`\r\n\r\nsourceName will be &quot;This Is A Test&quot;\r\n","title":"How to capitalize the first character of each word in a string","body":"<p>I made this little class that can be used to capitilize each word in a sentence. You can change the word separator in the string if this is not a space.</p>\n\n<pre><code>package com.ecnews.ecnews_v01.Helpers;\n\n  public class Capitalize {\n\n  String sentence;\n  String separator = \" \";\n\n  public Capitalize(String sentence) {\n    this.sentence = sentence;\n  }\n\n  public void setSeparator(String separator) {\n    this.separator = separator;\n  }\n\n  public String getCapitalized() {\n    StringBuilder capitalized = new StringBuilder(\"\");\n    for (String word : sentence.split(separator)) {\n        capitalized.append(separator+Character.toUpperCase(word.charAt(0)) + word.substring(1));\n    }\n    return capitalized.toString().trim();\n  }\n\n}\n</code></pre>\n\n<p>Example:</p>\n\n<p><code>String sourceName = new Capitalize(\"this is a test\").getCapitalized();</code></p>\n\n<p>sourceName will be \"This Is A Test\"</p>\n"},{"tags":[],"owner":{"account_id":1890047,"reputation":2191,"user_id":1708390,"accept_rate":79,"display_name":"Bugs Happen"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1553747336,"creation_date":1553747336,"answer_id":55390188,"question_id":1892765,"body_markdown":"Here is the Kotlin version of the same problem:\r\n\r\n\tfun capitalizeFirstLetterOfEveryWord(text: String): String\r\n    {\r\n        if (text.isEmpty() || text.isBlank())\r\n        {\r\n            return &quot;&quot;\r\n        }\r\n\r\n        if (text.length == 1)\r\n        {\r\n            return Character.toUpperCase(text[0]).toString()\r\n        }\r\n\r\n        val textArray = text.split(&quot; &quot;)\r\n        val stringBuilder = StringBuilder()\r\n\r\n        for ((index, item) in textArray.withIndex())\r\n        {\r\n            // If item is empty string, continue to next item\r\n            if (item.isEmpty())\r\n            {\r\n                continue\r\n            }\r\n\r\n            stringBuilder\r\n                .append(Character.toUpperCase(item[0]))\r\n\r\n            // If the item has only one character then continue to next item because we have already capitalized it.\r\n            if (item.length == 1)\r\n            {\r\n                continue\r\n            }\r\n\r\n            for (i in 1 until item.length)\r\n            {\r\n                stringBuilder\r\n                    .append(Character.toLowerCase(item[i]))\r\n            }\r\n\r\n            if (index &lt; textArray.lastIndex)\r\n            {\r\n                stringBuilder\r\n                    .append(&quot; &quot;)\r\n            }\r\n        }\r\n\r\n        return stringBuilder.toString()\r\n    }","title":"How to capitalize the first character of each word in a string","body":"<p>Here is the Kotlin version of the same problem:</p>\n\n<pre><code>fun capitalizeFirstLetterOfEveryWord(text: String): String\n{\n    if (text.isEmpty() || text.isBlank())\n    {\n        return \"\"\n    }\n\n    if (text.length == 1)\n    {\n        return Character.toUpperCase(text[0]).toString()\n    }\n\n    val textArray = text.split(\" \")\n    val stringBuilder = StringBuilder()\n\n    for ((index, item) in textArray.withIndex())\n    {\n        // If item is empty string, continue to next item\n        if (item.isEmpty())\n        {\n            continue\n        }\n\n        stringBuilder\n            .append(Character.toUpperCase(item[0]))\n\n        // If the item has only one character then continue to next item because we have already capitalized it.\n        if (item.length == 1)\n        {\n            continue\n        }\n\n        for (i in 1 until item.length)\n        {\n            stringBuilder\n                .append(Character.toLowerCase(item[i]))\n        }\n\n        if (index &lt; textArray.lastIndex)\n        {\n            stringBuilder\n                .append(\" \")\n        }\n    }\n\n    return stringBuilder.toString()\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":14244346,"reputation":162,"user_id":10289876,"display_name":"AbRe"},"score":0,"creation_date":1613111770,"post_id":55998928,"comment_id":116980572,"body_markdown":"You can add following part and get the exact capitalized word.                                                                  String input =&quot;my name is ranjan&quot;;\n        String[] inputArr = input.split(&quot; &quot;);\n        String capitalizedWord = &quot;&quot;;\n\n        for(String word : inputArr) {\n            capitalizedWord=capitalizedWord+(word.substring(0, 1).toUpperCase()+word.substring(1,word.length()))+&quot; &quot;;\n        }\n\n        System.out.println(capitalizedWord.trim());","body":"You can add following part and get the exact capitalized word.                                                                  String input =&quot;my name is ranjan&quot;;         String[] inputArr = input.split(&quot; &quot;);         String capitalizedWord = &quot;&quot;;          for(String word : inputArr) {             capitalizedWord=capitalizedWord+(word.substring(0, 1).toUpperCase()+word.substring(1,word.length()))+&quot; &quot;;         }          System.out.println(capitalizedWord.trim());"},{"owner":{"account_id":16813238,"reputation":525,"user_id":12155745,"display_name":"Jwala Kumar"},"score":0,"creation_date":1643720960,"post_id":55998928,"comment_id":125410211,"body_markdown":"Hi @Ranjan, your code will print the output like below;\nMy\nName\nIs\nRanjan","body":"Hi @Ranjan, your code will print the output like below; My Name Is Ranjan"},{"owner":{"account_id":16813238,"reputation":525,"user_id":12155745,"display_name":"Jwala Kumar"},"score":0,"creation_date":1643721081,"post_id":55998928,"comment_id":125410266,"body_markdown":"To print the output as, //Output : My Name Is Ranjan\nThere needs to do slight modification like this;\n\npublic static void main(String[] args) {\n\t\tString input = &quot;my name is ranjan&quot;;\n\t\tString[] inputArr = input.split(&quot; &quot;);\n\t\t\n\t\tfor (String word : inputArr) {\n\n\t\t\tSystem.out.print(word.substring(0, 1).toUpperCase() + word.substring(1, word.length()) + &quot; &quot;);\n\t\t}\n\t}\n\n}","body":"To print the output as, //Output : My Name Is Ranjan There needs to do slight modification like this;  public static void main(String[] args) { \t\tString input = &quot;my name is ranjan&quot;; \t\tString[] inputArr = input.split(&quot; &quot;); \t\t \t\tfor (String word : inputArr) {  \t\t\tSystem.out.print(word.substring(0, 1).toUpperCase() + word.substring(1, word.length()) + &quot; &quot;); \t\t} \t}  }"}],"tags":[],"owner":{"account_id":7866970,"reputation":91,"user_id":5945516,"display_name":"Ranjan"},"comment_count":3,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1557118199,"creation_date":1557118199,"answer_id":55998928,"question_id":1892765,"body_markdown":"Here we go for perfect first char capitalization of word\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tString input =&quot;my name is ranjan&quot;;\r\n\t\tString[] inputArr = input.split(&quot; &quot;);\r\n\t\t\r\n\t\tfor(String word : inputArr) {\r\n\t\t\tSystem.out.println(word.substring(0, 1).toUpperCase()+word.substring(1,word.length()));\r\n\t\t}\t\r\n\t}\r\n\r\n}\r\n\r\n//Output : My Name Is Ranjan","title":"How to capitalize the first character of each word in a string","body":"<p>Here we go for perfect first char capitalization of word</p>\n\n<pre><code>public static void main(String[] args) {\n    String input =\"my name is ranjan\";\n    String[] inputArr = input.split(\" \");\n\n    for(String word : inputArr) {\n        System.out.println(word.substring(0, 1).toUpperCase()+word.substring(1,word.length()));\n    }   \n}\n</code></pre>\n\n<p>}</p>\n\n<p>//Output : My Name Is Ranjan</p>\n"},{"tags":[],"owner":{"account_id":9831735,"reputation":207,"user_id":7283182,"display_name":"Shubhasish Bhunia"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1557234387,"creation_date":1557234387,"answer_id":56023325,"question_id":1892765,"body_markdown":"I just want to add an alternative solution for the problem by using only Java code.\r\nNo extra library \r\n\r\n    public String Capitalize(String str) {\r\n        \r\n        \t\tString tt = &quot;&quot;;\r\n        \t\tString tempString = &quot;&quot;;\r\n        \t\tString tempName = str.trim().toLowerCase();\r\n        \t\tString[] tempNameArr = tempName.split(&quot; &quot;);\r\n        \t\tSystem.out.println(&quot;The size is &quot; + tempNameArr.length);\r\n        \t\tif (tempNameArr.length &gt; 1) {\r\n        \t\t\tfor (String t : tempNameArr) {\r\n        \t\t\t\ttt += Capitalize(t);\r\n        \t\t\t\ttt += &quot; &quot;;\r\n        \t\t\t}\r\n        \t\t\ttempString  = tt;\r\n        \t\t} else {\r\n        \t\t\ttempString = tempName.replaceFirst(String.valueOf(tempName.charAt(0)), String.valueOf(tempName.charAt(0)).toUpperCase());\r\n        \t\t}\r\n        \t\treturn tempString.trim();\r\n        \t}","title":"How to capitalize the first character of each word in a string","body":"<p>I just want to add an alternative solution for the problem by using only Java code.\nNo extra library </p>\n\n<pre><code>public String Capitalize(String str) {\n\n            String tt = \"\";\n            String tempString = \"\";\n            String tempName = str.trim().toLowerCase();\n            String[] tempNameArr = tempName.split(\" \");\n            System.out.println(\"The size is \" + tempNameArr.length);\n            if (tempNameArr.length &gt; 1) {\n                for (String t : tempNameArr) {\n                    tt += Capitalize(t);\n                    tt += \" \";\n                }\n                tempString  = tt;\n            } else {\n                tempString = tempName.replaceFirst(String.valueOf(tempName.charAt(0)), String.valueOf(tempName.charAt(0)).toUpperCase());\n            }\n            return tempString.trim();\n        }\n</code></pre>\n"},{"comments":[{"owner":{"account_id":14443980,"reputation":1626,"user_id":10433739,"display_name":"Benjamin Urquhart"},"score":0,"creation_date":1557684852,"post_id":56101838,"comment_id":98838794,"body_markdown":"You can use `Arrays.stream` instead of turning it into a list first.","body":"You can use <code>Arrays.stream</code> instead of turning it into a list first."}],"tags":[],"owner":{"account_id":13527645,"reputation":1,"user_id":9759031,"display_name":"C. Solarte"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1557682883,"creation_date":1557682883,"answer_id":56101838,"question_id":1892765,"body_markdown":"    public static void main(String[] args) throws IOException {\r\n        String words = &quot;this is a test&quot;;\r\n\r\n        System.out.println(Arrays.asList(words.split(&quot; &quot;)).stream().reduce(&quot;&quot;,(a, b)-&gt;(a + &quot; &quot; + b.substring(0, 1).toUpperCase() + b.substring(1))));\r\n        \r\n        \r\n    }\r\n}","title":"How to capitalize the first character of each word in a string","body":"<pre><code>public static void main(String[] args) throws IOException {\n    String words = \"this is a test\";\n\n    System.out.println(Arrays.asList(words.split(\" \")).stream().reduce(\"\",(a, b)-&gt;(a + \" \" + b.substring(0, 1).toUpperCase() + b.substring(1))));\n\n\n}\n</code></pre>\n\n<p>}</p>\n"},{"tags":[],"owner":{"account_id":12511192,"reputation":1,"user_id":9106233,"display_name":"Dylan Hatch"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1559267383,"creation_date":1559267383,"answer_id":56387716,"question_id":1892765,"body_markdown":"Heres a lil program I was using to capitalize each first letter word in every subfolder of a parent directory.\r\n\r\n    private void capitalize(String string)\r\n\t{\r\n\t\tList&lt;String&gt; delimiters = new ArrayList&lt;&gt;();\r\n\t\tdelimiters.add(&quot; &quot;);\r\n\t\tdelimiters.add(&quot;_&quot;);\r\n\t\t\r\n\t\tFile folder = new File(string);\r\n\t\tString name = folder.getName();\r\n\t\tString[] characters = name.split(&quot;&quot;);\r\n\r\n\t\tString newName = &quot;&quot;;\r\n\t\tboolean capitalizeNext = false;\r\n\r\n\t\tfor (int i = 0; i &lt; characters.length; i++)\r\n\t\t{\r\n\t\t\tString character = characters[i];\r\n\r\n\t\t\tif (capitalizeNext || i == 0)\r\n\t\t\t{\r\n\t\t\t\tnewName += character.toUpperCase();\r\n\t\t\t\tcapitalizeNext = false;\r\n\t\t\t}\r\n\t\t\telse\r\n\t\t\t{\r\n\t\t\t\tif (delimiters.contains(character)) capitalizeNext = true;\r\n\t\t\t\tnewName += character;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tfolder.renameTo(new File(folder.getParent() + File.separator + newName));\r\n\t}\r\n\r\n","title":"How to capitalize the first character of each word in a string","body":"<p>Heres a lil program I was using to capitalize each first letter word in every subfolder of a parent directory.</p>\n\n<pre><code>private void capitalize(String string)\n{\n    List&lt;String&gt; delimiters = new ArrayList&lt;&gt;();\n    delimiters.add(\" \");\n    delimiters.add(\"_\");\n\n    File folder = new File(string);\n    String name = folder.getName();\n    String[] characters = name.split(\"\");\n\n    String newName = \"\";\n    boolean capitalizeNext = false;\n\n    for (int i = 0; i &lt; characters.length; i++)\n    {\n        String character = characters[i];\n\n        if (capitalizeNext || i == 0)\n        {\n            newName += character.toUpperCase();\n            capitalizeNext = false;\n        }\n        else\n        {\n            if (delimiters.contains(character)) capitalizeNext = true;\n            newName += character;\n        }\n    }\n\n    folder.renameTo(new File(folder.getParent() + File.separator + newName));\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5100679,"reputation":2687,"user_id":4090386,"display_name":"attacomsian"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1568479648,"creation_date":1568479648,"answer_id":57937484,"question_id":1892765,"body_markdown":"### 1. Java 8 Streams\r\n\r\n```java\r\npublic static String capitalizeAll(String str) {\r\n    if (str == null || str.isEmpty()) {\r\n        return str;\r\n    }\r\n\r\n    return Arrays.stream(str.split(&quot;\\\\s+&quot;))\r\n            .map(t -&gt; t.substring(0, 1).toUpperCase() + t.substring(1))\r\n            .collect(Collectors.joining(&quot; &quot;));\r\n}\r\n```\r\n\r\nExamples:\r\n\r\n```java\r\nSystem.out.println(capitalizeAll(&quot;jon skeet&quot;)); // Jon Skeet\r\nSystem.out.println(capitalizeAll(&quot;miles o&#39;Brien&quot;)); // Miles O&#39;Brien\r\nSystem.out.println(capitalizeAll(&quot;old mcdonald&quot;)); // Old Mcdonald\r\nSystem.out.println(capitalizeAll(null)); // null\r\n```\r\n\r\nFor `foo bAR` to `Foo Bar`, replace the `map()` method with the following:\r\n\r\n```java\r\n.map(t -&gt; t.substring(0, 1).toUpperCase() + t.substring(1).toLowerCase())\r\n```\r\n\r\n### 2. `String.replaceAll()` (Java 9+)\r\n\r\n```\r\nublic static String capitalizeAll(String str) {\r\n    if (str == null || str.isEmpty()) {\r\n        return str;\r\n    }\r\n\r\n    return Pattern.compile(&quot;\\\\b(.)(.*?)\\\\b&quot;)\r\n            .matcher(str)\r\n            .replaceAll(match -&gt; match.group(1).toUpperCase() + match.group(2));\r\n}\r\n```\r\n\r\nExamples:\r\n\r\n```java\r\nSystem.out.println(capitalizeAll(&quot;12 ways to learn java&quot;)); // 12 Ways To Learn Java\r\nSystem.out.println(capitalizeAll(&quot;i am atta&quot;)); // I Am Atta\r\nSystem.out.println(capitalizeAll(null)); // null\r\n```\r\n\r\n### 3. Apache Commons Text\r\n\r\n```\r\nSystem.out.println(WordUtils.capitalize(&quot;love is everywhere&quot;)); // Love Is Everywhere\r\nSystem.out.println(WordUtils.capitalize(&quot;sky, sky, blue sky!&quot;)); // Sky, Sky, Blue Sky!\r\nSystem.out.println(WordUtils.capitalize(null)); // null\r\n```\r\n\r\nFor titlecase:\r\n\r\n```\r\nSystem.out.println(WordUtils.capitalizeFully(&quot;fOO bAR&quot;)); // Foo Bar\r\nSystem.out.println(WordUtils.capitalizeFully(&quot;sKy is BLUE!&quot;)); // Sky Is Blue!\r\n```\r\n\r\nFor details, checkout [this tutorial](https://attacomsian.com/blog/capitalize-first-letter-of-each-word-in-string-java).\r\n","title":"How to capitalize the first character of each word in a string","body":"<h3>1. Java 8 Streams</h3>\n\n<pre class=\"lang-java prettyprint-override\"><code>public static String capitalizeAll(String str) {\n    if (str == null || str.isEmpty()) {\n        return str;\n    }\n\n    return Arrays.stream(str.split(\"\\\\s+\"))\n            .map(t -&gt; t.substring(0, 1).toUpperCase() + t.substring(1))\n            .collect(Collectors.joining(\" \"));\n}\n</code></pre>\n\n<p>Examples:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>System.out.println(capitalizeAll(\"jon skeet\")); // Jon Skeet\nSystem.out.println(capitalizeAll(\"miles o'Brien\")); // Miles O'Brien\nSystem.out.println(capitalizeAll(\"old mcdonald\")); // Old Mcdonald\nSystem.out.println(capitalizeAll(null)); // null\n</code></pre>\n\n<p>For <code>foo bAR</code> to <code>Foo Bar</code>, replace the <code>map()</code> method with the following:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>.map(t -&gt; t.substring(0, 1).toUpperCase() + t.substring(1).toLowerCase())\n</code></pre>\n\n<h3>2. <code>String.replaceAll()</code> (Java 9+)</h3>\n\n<pre><code>ublic static String capitalizeAll(String str) {\n    if (str == null || str.isEmpty()) {\n        return str;\n    }\n\n    return Pattern.compile(\"\\\\b(.)(.*?)\\\\b\")\n            .matcher(str)\n            .replaceAll(match -&gt; match.group(1).toUpperCase() + match.group(2));\n}\n</code></pre>\n\n<p>Examples:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>System.out.println(capitalizeAll(\"12 ways to learn java\")); // 12 Ways To Learn Java\nSystem.out.println(capitalizeAll(\"i am atta\")); // I Am Atta\nSystem.out.println(capitalizeAll(null)); // null\n</code></pre>\n\n<h3>3. Apache Commons Text</h3>\n\n<pre><code>System.out.println(WordUtils.capitalize(\"love is everywhere\")); // Love Is Everywhere\nSystem.out.println(WordUtils.capitalize(\"sky, sky, blue sky!\")); // Sky, Sky, Blue Sky!\nSystem.out.println(WordUtils.capitalize(null)); // null\n</code></pre>\n\n<p>For titlecase:</p>\n\n<pre><code>System.out.println(WordUtils.capitalizeFully(\"fOO bAR\")); // Foo Bar\nSystem.out.println(WordUtils.capitalizeFully(\"sKy is BLUE!\")); // Sky Is Blue!\n</code></pre>\n\n<p>For details, checkout <a href=\"https://attacomsian.com/blog/capitalize-first-letter-of-each-word-in-string-java\" rel=\"noreferrer\">this tutorial</a>.</p>\n"},{"tags":[],"owner":{"account_id":11492016,"reputation":112,"user_id":8422658,"display_name":"Sagan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1576755418,"creation_date":1576755418,"answer_id":59408993,"question_id":1892765,"body_markdown":"You can also do it very simply like this and preserve any doubled and leading, trailing whitespaces \r\n\r\n\r\n    public static String capitalizeWords(String text) {\r\n    \r\n        StringBuilder sb = new StringBuilder();\r\n        if(text.length()&gt;0){\r\n            sb.append(Character.toUpperCase(text.charAt(0)));\r\n        }\r\n        for (int i=1; i&lt;text.length(); i++){\r\n            String chPrev = String.valueOf(text.charAt(i-1));\r\n            String ch = String.valueOf(text.charAt(i));\r\n    \r\n            if(Objects.equals(chPrev, &quot; &quot;)){\r\n                sb.append(ch.toUpperCase());\r\n            }else {\r\n                sb.append(ch);\r\n            }\r\n    \r\n        }\r\n    \r\n        return sb.toString();\r\n    \r\n    }\r\n\r\n","title":"How to capitalize the first character of each word in a string","body":"<p>You can also do it very simply like this and preserve any doubled and leading, trailing whitespaces </p>\n\n<pre><code>public static String capitalizeWords(String text) {\n\n    StringBuilder sb = new StringBuilder();\n    if(text.length()&gt;0){\n        sb.append(Character.toUpperCase(text.charAt(0)));\n    }\n    for (int i=1; i&lt;text.length(); i++){\n        String chPrev = String.valueOf(text.charAt(i-1));\n        String ch = String.valueOf(text.charAt(i));\n\n        if(Objects.equals(chPrev, \" \")){\n            sb.append(ch.toUpperCase());\n        }else {\n            sb.append(ch);\n        }\n\n    }\n\n    return sb.toString();\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6174371,"reputation":1762,"user_id":4832515,"display_name":"SomeGuy"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687895759,"creation_date":1687895759,"answer_id":76568231,"question_id":1892765,"body_markdown":"I noticed in previous answers that referred to apache common utils, they either used the class `WordUtils` which is now deprecated, or they use `StringUtils.capitalize()` which only capitalizes the first word but not every single word in the sentence.\r\n\r\nHere is a pure java solution to do this. Note: this will not work if there is a bit of punctuation in front of the word. Here&#39;s the function `capitalizeEachWord()`, but wrapped up in a main class so you can see a few basic tests cases. \r\n\r\n```java\r\n\r\nimport java.util.Optional;\r\nimport java.util.Objects;\r\n\r\nclass HelloWorld {\r\n    public static void main(String[] args) {\r\n        System.out.println(capitalizeEachWord(&quot;&quot;));\r\n        System.out.println(capitalizeEachWord(&quot;.&quot;));\r\n        System.out.println(capitalizeEachWord(&quot; .&quot;));\r\n        System.out.println(capitalizeEachWord(&quot; . &quot;));\r\n        System.out.println(capitalizeEachWord(&quot;testing. 1 one 2 two 3 three&quot;));\r\n        System.out.println(capitalizeEachWord(&quot;testing. 1 one 2 two 3 three.&quot;));\r\n        System.out.println(capitalizeEachWord(&quot;testing. 1 one 2 two 3 three &quot;));\r\n        System.out.println(capitalizeEachWord(&quot;testing. 1 one 2 two 3 three. &quot;));\r\n        System.out.println(capitalizeEachWord(&quot; testing. 1 one 2 two 3 three&quot;));\r\n        System.out.println(capitalizeEachWord(&quot;!testing. 1 one 2 two 3 three.&quot;));\r\n        System.out.println(capitalizeEachWord(&quot; !testing. 1 one 2 two 3 three &quot;));\r\n        System.out.println(capitalizeEachWord(&quot; !testing. 1 one 2 two 3 three &quot;));\r\n        System.out.println(capitalizeEachWord(&quot; !testing. 1 one 2 two 3 three 4&quot;));\r\n    }\r\n    \r\n    \r\n    private static String capitalizeEachWord(final String line) {\r\n        return Optional.ofNullable(line)\r\n            .filter(Objects::nonNull)\r\n            .filter(givenLine -&gt; givenLine.length() &gt; 0)\r\n            .map(givenLine -&gt; {\r\n                StringBuilder sb = new StringBuilder(givenLine);\r\n                if(sb.charAt(0) != &#39; &#39;) {\r\n                    sb.setCharAt(0, Character.toUpperCase(sb.charAt(0)));\r\n                }\r\n                for (int i = 1; i &lt; sb.length(); i++) {\r\n                    if (sb.charAt(i - 1) == &#39; &#39;) {\r\n                        sb.setCharAt(i, Character.toUpperCase(sb.charAt(i)));\r\n                    }\r\n                }\r\n                return sb.toString();\r\n            })\r\n            .orElse(line);\r\n    }\r\n    \r\n    \r\n}\r\n```\r\n\r\nresulting output: \r\n```\r\n.\r\n .\r\n . \r\nTesting. 1 One 2 Two 3 Three\r\nTesting. 1 One 2 Two 3 Three.\r\nTesting. 1 One 2 Two 3 Three \r\nTesting. 1 One 2 Two 3 Three. \r\n Testing. 1 One 2 Two 3 Three\r\n!testing. 1 One 2 Two 3 Three.\r\n !testing. 1 One 2 Two 3 Three \r\n !testing. 1 One 2 Two 3 Three \r\n !testing. 1 One 2 Two 3 Three 4\r\n```","title":"How to capitalize the first character of each word in a string","body":"<p>I noticed in previous answers that referred to apache common utils, they either used the class <code>WordUtils</code> which is now deprecated, or they use <code>StringUtils.capitalize()</code> which only capitalizes the first word but not every single word in the sentence.</p>\n<p>Here is a pure java solution to do this. Note: this will not work if there is a bit of punctuation in front of the word. Here's the function <code>capitalizeEachWord()</code>, but wrapped up in a main class so you can see a few basic tests cases.</p>\n<pre class=\"lang-java prettyprint-override\"><code>\nimport java.util.Optional;\nimport java.util.Objects;\n\nclass HelloWorld {\n    public static void main(String[] args) {\n        System.out.println(capitalizeEachWord(&quot;&quot;));\n        System.out.println(capitalizeEachWord(&quot;.&quot;));\n        System.out.println(capitalizeEachWord(&quot; .&quot;));\n        System.out.println(capitalizeEachWord(&quot; . &quot;));\n        System.out.println(capitalizeEachWord(&quot;testing. 1 one 2 two 3 three&quot;));\n        System.out.println(capitalizeEachWord(&quot;testing. 1 one 2 two 3 three.&quot;));\n        System.out.println(capitalizeEachWord(&quot;testing. 1 one 2 two 3 three &quot;));\n        System.out.println(capitalizeEachWord(&quot;testing. 1 one 2 two 3 three. &quot;));\n        System.out.println(capitalizeEachWord(&quot; testing. 1 one 2 two 3 three&quot;));\n        System.out.println(capitalizeEachWord(&quot;!testing. 1 one 2 two 3 three.&quot;));\n        System.out.println(capitalizeEachWord(&quot; !testing. 1 one 2 two 3 three &quot;));\n        System.out.println(capitalizeEachWord(&quot; !testing. 1 one 2 two 3 three &quot;));\n        System.out.println(capitalizeEachWord(&quot; !testing. 1 one 2 two 3 three 4&quot;));\n    }\n    \n    \n    private static String capitalizeEachWord(final String line) {\n        return Optional.ofNullable(line)\n            .filter(Objects::nonNull)\n            .filter(givenLine -&gt; givenLine.length() &gt; 0)\n            .map(givenLine -&gt; {\n                StringBuilder sb = new StringBuilder(givenLine);\n                if(sb.charAt(0) != ' ') {\n                    sb.setCharAt(0, Character.toUpperCase(sb.charAt(0)));\n                }\n                for (int i = 1; i &lt; sb.length(); i++) {\n                    if (sb.charAt(i - 1) == ' ') {\n                        sb.setCharAt(i, Character.toUpperCase(sb.charAt(i)));\n                    }\n                }\n                return sb.toString();\n            })\n            .orElse(line);\n    }\n    \n    \n}\n</code></pre>\n<p>resulting output:</p>\n<pre><code>.\n .\n . \nTesting. 1 One 2 Two 3 Three\nTesting. 1 One 2 Two 3 Three.\nTesting. 1 One 2 Two 3 Three \nTesting. 1 One 2 Two 3 Three. \n Testing. 1 One 2 Two 3 Three\n!testing. 1 One 2 Two 3 Three.\n !testing. 1 One 2 Two 3 Three \n !testing. 1 One 2 Two 3 Three \n !testing. 1 One 2 Two 3 Three 4\n</code></pre>\n"}],"owner":{"account_id":13538,"reputation":5359,"user_id":27281,"accept_rate":25,"display_name":"WillfulWizard"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":534024,"favorite_count":0,"down_vote_count":0,"up_vote_count":470,"accepted_answer_id":1892778,"answer_count":52,"score":470,"last_activity_date":1687895759,"creation_date":1260606355,"question_id":1892765,"body_markdown":"Is there a function built into Java that capitalizes the first character of each word in a String, and does not affect the others?\r\n\r\nExamples:\r\n\r\n - `jon skeet` -&gt; `Jon Skeet`\r\n - `miles o&#39;Brien` -&gt; `Miles O&#39;Brien` (B remains capital, this rules out Title Case)\r\n - `old mcdonald` -&gt; `Old Mcdonald`*\r\n\r\n*(`Old McDonald` would be find too, but I don&#39;t expect it to be THAT smart.)\r\n\r\nA quick look at the [Java String Documentation][1] reveals only `toUpperCase()` and `toLowerCase()`, which of course do not provide the desired behavior. Naturally, Google results are dominated by those two functions. It seems like a wheel that must have been invented already, so it couldn&#39;t hurt to ask so I can use it in the future. \r\n\r\n  [1]: http://java.sun.com/j2se/1.5.0/docs/api/java/lang/String.html\r\n","title":"How to capitalize the first character of each word in a string","body":"<p>Is there a function built into Java that capitalizes the first character of each word in a String, and does not affect the others?</p>\n\n<p>Examples:</p>\n\n<ul>\n<li><code>jon skeet</code> -> <code>Jon Skeet</code></li>\n<li><code>miles o'Brien</code> -> <code>Miles O'Brien</code> (B remains capital, this rules out Title Case)</li>\n<li><code>old mcdonald</code> -> <code>Old Mcdonald</code>*</li>\n</ul>\n\n<p>*(<code>Old McDonald</code> would be find too, but I don't expect it to be THAT smart.)</p>\n\n<p>A quick look at the <a href=\"http://java.sun.com/j2se/1.5.0/docs/api/java/lang/String.html\" rel=\"noreferrer\">Java String Documentation</a> reveals only <code>toUpperCase()</code> and <code>toLowerCase()</code>, which of course do not provide the desired behavior. Naturally, Google results are dominated by those two functions. It seems like a wheel that must have been invented already, so it couldn't hurt to ask so I can use it in the future. </p>\n"},{"tags":["java","automation","ui-automation","playwright","playwright-java"],"comments":[{"owner":{"account_id":7912553,"reputation":345,"user_id":5976130,"display_name":"Samira Kumar Nanda"},"score":0,"creation_date":1687709752,"post_id":76550107,"comment_id":134971272,"body_markdown":"You can try using different selector String buttonSelector = &quot;button[b2b-load-button=&#39;Loading...&#39;][value=&#39;submit&#39;]&quot;;\npage.click(buttonSelector);","body":"You can try using different selector String buttonSelector = &quot;button[b2b-load-button=&#39;Loading...&#39;][value=&#39;submit&#39;]&quot;; page.click(buttonSelector);"},{"owner":{"account_id":7912553,"reputation":345,"user_id":5976130,"display_name":"Samira Kumar Nanda"},"score":0,"creation_date":1687709880,"post_id":76550107,"comment_id":134971282,"body_markdown":"And also you can try adding 2 seconds sleep before click. Thread.sleep(2000); \npage.click(buttonSelector);   Anyways this(page.click()) method should handle the promise internally and wait for any navigation or action associated with the click.","body":"And also you can try adding 2 seconds sleep before click. Thread.sleep(2000);  page.click(buttonSelector);   Anyways this(page.click()) method should handle the promise internally and wait for any navigation or action associated with the click."},{"owner":{"account_id":15601386,"reputation":1,"user_id":11255436,"display_name":"eyal carmiel"},"score":0,"creation_date":1687858365,"post_id":76550107,"comment_id":134992023,"body_markdown":"both of those helped thanks","body":"both of those helped thanks"},{"owner":{"account_id":7912553,"reputation":345,"user_id":5976130,"display_name":"Samira Kumar Nanda"},"score":0,"creation_date":1687859111,"post_id":76550107,"comment_id":134992174,"body_markdown":"perfect. Good to go!!!","body":"perfect. Good to go!!!"}],"answers":[{"comments":[{"owner":{"account_id":15601386,"reputation":1,"user_id":11255436,"display_name":"eyal carmiel"},"score":0,"creation_date":1687947027,"post_id":76568184,"comment_id":135007072,"body_markdown":"yeah, i know this . probably a sleep or pressing the button with the selector helped for some reason.","body":"yeah, i know this . probably a sleep or pressing the button with the selector helped for some reason."}],"tags":[],"owner":{"account_id":3440853,"reputation":1,"user_id":2882860,"display_name":"TahanimaC"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687895381,"creation_date":1687895381,"answer_id":76568184,"question_id":76550107,"body_markdown":"You can utilize the fact that the web element is a button with the label &#39;Log in&#39; and try the below code.\r\n\r\n```java\r\npage.getByRole(AriaRole.BUTTON, new Page.GetByRoleOptions().setName(&quot;Log in&quot;)).click();\r\n```\r\n\r\nAs already mentioned, the `click` method waits for the button to be actionable prior to taking an action.\r\n\r\nTo know more about the `getByRole` method, please check [this][1].\r\n\r\n\r\n  [1]: https://playwright.dev/java/docs/api/class-locator#locator-get-by-role","title":"Can&#39;t press button with promise using playwright and java","body":"<p>You can utilize the fact that the web element is a button with the label 'Log in' and try the below code.</p>\n<pre class=\"lang-java prettyprint-override\"><code>page.getByRole(AriaRole.BUTTON, new Page.GetByRoleOptions().setName(&quot;Log in&quot;)).click();\n</code></pre>\n<p>As already mentioned, the <code>click</code> method waits for the button to be actionable prior to taking an action.</p>\n<p>To know more about the <code>getByRole</code> method, please check <a href=\"https://playwright.dev/java/docs/api/class-locator#locator-get-by-role\" rel=\"nofollow noreferrer\">this</a>.</p>\n"}],"owner":{"account_id":15601386,"reputation":1,"user_id":11255436,"display_name":"eyal carmiel"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":163,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1687895381,"creation_date":1687691425,"question_id":76550107,"body_markdown":"I&#39;m trying to write automation using playwright and java on login page.\r\nthe login button has some kind of promise and when i click it - nothing happens , i&#39;m not entering the page i need to.\r\n\r\ni tried using different ways of clicking or pressing &#39;enter&#39; and doesn&#39;t work\r\n\r\nscreenshot of the button :\r\n(https://i.stack.imgur.com/jIvrD.png)\r\n\r\n\r\n\r\nhere is my code trying to press it : \r\n\r\n```\r\n    \r\nString buttonSelector = &quot;#userLoginForm &gt; div:nth-child(4) &gt; button&quot;;\r\n\r\npage.dispatchEvent(buttonSelector,&quot;click&quot;); \r\n```\r\n\r\ni also tried the following code:\r\n\r\n```\r\npage.waitForNavigation(() -&gt; {\r\n                page.click(buttonSelector);\r\n            });\r\n```\r\n\r\n\r\n\r\n\r\nthe button is pressed but not really , not navigated to the next page . like the action didn&#39;t work","title":"Can&#39;t press button with promise using playwright and java","body":"<p>I'm trying to write automation using playwright and java on login page.\nthe login button has some kind of promise and when i click it - nothing happens , i'm not entering the page i need to.</p>\n<p>i tried using different ways of clicking or pressing 'enter' and doesn't work</p>\n<p>screenshot of the button :\n(<a href=\"https://i.stack.imgur.com/jIvrD.png\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/jIvrD.png</a>)</p>\n<p>here is my code trying to press it :</p>\n<pre><code>    \nString buttonSelector = &quot;#userLoginForm &gt; div:nth-child(4) &gt; button&quot;;\n\npage.dispatchEvent(buttonSelector,&quot;click&quot;); \n</code></pre>\n<p>i also tried the following code:</p>\n<pre><code>page.waitForNavigation(() -&gt; {\n                page.click(buttonSelector);\n            });\n</code></pre>\n<p>the button is pressed but not really , not navigated to the next page . like the action didn't work</p>\n"},{"tags":["java","mockito"],"answers":[{"comments":[{"owner":{"account_id":3503406,"reputation":10887,"user_id":2929562,"accept_rate":88,"display_name":"Prateek"},"score":0,"creation_date":1561020104,"post_id":56679498,"comment_id":99930132,"body_markdown":"This is still not working in my case. Not sure what is causing the issue","body":"This is still not working in my case. Not sure what is causing the issue"},{"owner":{"account_id":3503406,"reputation":10887,"user_id":2929562,"accept_rate":88,"display_name":"Prateek"},"score":0,"creation_date":1561028600,"post_id":56679498,"comment_id":99934740,"body_markdown":"Can you please guide me what mistake is still happening ?","body":"Can you please guide me what mistake is still happening ?"}],"tags":[],"owner":{"account_id":12510916,"reputation":265,"user_id":9106074,"display_name":"Null Pointer"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1561008555,"creation_date":1561008555,"answer_id":56679498,"question_id":56679331,"body_markdown":"Without checking null for `StudentDto`, you referring the fields for this object. First you need to check `dto==null` then refer the fields of dto. Other wise it may give exception.\r\nYour method `isValid` could be :\r\n\r\n    public boolean isValid(StudentDto dto) {\r\n        return (dto==null||((dto.getFirstName().isEmpty() &amp;&amp; dto.getlastName().isEmpty() \r\n                &amp;&amp; dto.getEmailId().isEmpty() &amp;&amp; dto.getAddress().isEmpty()\r\n                &amp;&amp; dto.getPhone().isEmpty() &amp;&amp; dto.getCity().isEmpty())));\r\n    }\r\n\r\n","title":"How to check null values using Mockobject for the real object?","body":"<p>Without checking null for <code>StudentDto</code>, you referring the fields for this object. First you need to check <code>dto==null</code> then refer the fields of dto. Other wise it may give exception.\nYour method <code>isValid</code> could be :</p>\n\n<pre><code>public boolean isValid(StudentDto dto) {\n    return (dto==null||((dto.getFirstName().isEmpty() &amp;&amp; dto.getlastName().isEmpty() \n            &amp;&amp; dto.getEmailId().isEmpty() &amp;&amp; dto.getAddress().isEmpty()\n            &amp;&amp; dto.getPhone().isEmpty() &amp;&amp; dto.getCity().isEmpty())));\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3503406,"reputation":10887,"user_id":2929562,"accept_rate":88,"display_name":"Prateek"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1561034153,"creation_date":1561034153,"answer_id":56686140,"question_id":56679331,"body_markdown":"I use below and it works fine.\r\n\r\n    public boolean isValid(StudentDto dto) {\r\n    \t\treturn StringUtils.isEmpty(dto);\r\n    }","title":"How to check null values using Mockobject for the real object?","body":"<p>I use below and it works fine.</p>\n\n<pre><code>public boolean isValid(StudentDto dto) {\n        return StringUtils.isEmpty(dto);\n}\n</code></pre>\n"}],"owner":{"account_id":3503406,"reputation":10887,"user_id":2929562,"accept_rate":88,"display_name":"Prateek"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":349,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":56686140,"answer_count":2,"score":0,"last_activity_date":1687895080,"creation_date":1561007477,"question_id":56679331,"body_markdown":"I am writing Mockito for the following code, but somehow for the null and empty checks, it&#39;s giving error.\r\n\r\nHow can I debug this?\r\n\r\n\r\n    public boolean isValid(StudentDto dto) {\r\n    \t\treturn (dto.getFirstName().isEmpty() &amp;&amp; dto.getlastName().isEmpty() \r\n    \t\t\t\t&amp;&amp; dto.getEmailId().isEmpty() &amp;&amp; dto.getAddress().isEmpty()\r\n    \t\t\t\t&amp;&amp; dto.getPhone().isEmpty() &amp;&amp; dto.getCity().isEmpty());\r\n    \t}\r\n    \t\r\n    \r\n    public ResponseEntity&lt;HttpStatus&gt; saveStudent(@Valid StudentDto dto) {\r\n    \tif(isValid(dto)) {\r\n    \t\tlog.error(env.getProperty(&quot;error.errors&quot;), env.getProperty(&quot;error.missing.input.parameters&quot;));\r\n    \t\tthrow new NotFoundException(env.getProperty(&quot;error.missing.input.parameters&quot;), BusinessErrorCode.MISSING_REQUIRED_INPUTS);\r\n    \t}\r\n    \t\r\n    \t// Convert to entity\r\n    \tStudent student = convertToEntity(dto);\r\n    \t\r\n    \ttry {\r\n    \t\tstudentRepository.save(student);\r\n    \t} catch (Exception ex) {\r\n    \t\tlog.error(env.getProperty(&quot;error.errors&quot;), env.getProperty(&quot;error.db.exception&quot;));\r\n    \t\tthrow new ResponseStatusException(HttpStatus.INTERNAL_SERVER_ERROR, env.getProperty(&quot;error.db.exception&quot;), ex);\r\n    \t}\r\n    \treturn new ResponseEntity&lt;&gt;(HttpStatus.CREATED);\r\n    }\r\n\r\n\r\nTest Classes:\r\n\r\n    @RunWith(PowerMockRunner.class)\r\n    @PrepareForTest({})\r\n    public class StudentServiceTest {\r\n    \t@Rule\r\n    \tpublic MockitoRule rule = MockitoJUnit.rule();\r\n    \t\r\n    \t@Mock\r\n    \tprivate StudentRepository studentRepositoryMock;\r\n    \t\r\n    \t@InjectMocks\r\n    \tprivate StudentService studentService;\r\n    \t\r\n    \t@Mock\r\n    \tprivate Student studentMock;\r\n    \t\r\n    \t// Define the Environment as a Mockito mock object\r\n        @Mock \r\n        private Environment env;\r\n        \r\n        @Mock\r\n        private StudentDto studentDtoMock;\r\n    \t\r\n    \tList&lt;Student&gt; students = new ArrayList&lt;&gt;();\r\n    \r\n    \t\r\n    \t\r\n    \t// Test case for SaveStudent\r\n    \t@Test\r\n    \tpublic void testSaveStudent() {\r\n    \t\twhen(divisionService.isValid(studentDtoMock)).thenReturn(true);\r\n    \t\t\r\n    \t\tassertEquals(new ResponseEntity&lt;HttpStatus&gt;(HttpStatus.OK).getStatusCode(), \r\n    \t\t\t\tdivisionService.saveStudent(studentDtoMock).getStatusCode());\r\n    \t}\r\n    }","title":"How to check null values using Mockobject for the real object?","body":"<p>I am writing Mockito for the following code, but somehow for the null and empty checks, it's giving error.</p>\n\n<p>How can I debug this?</p>\n\n<pre><code>public boolean isValid(StudentDto dto) {\n        return (dto.getFirstName().isEmpty() &amp;&amp; dto.getlastName().isEmpty() \n                &amp;&amp; dto.getEmailId().isEmpty() &amp;&amp; dto.getAddress().isEmpty()\n                &amp;&amp; dto.getPhone().isEmpty() &amp;&amp; dto.getCity().isEmpty());\n    }\n\n\npublic ResponseEntity&lt;HttpStatus&gt; saveStudent(@Valid StudentDto dto) {\n    if(isValid(dto)) {\n        log.error(env.getProperty(\"error.errors\"), env.getProperty(\"error.missing.input.parameters\"));\n        throw new NotFoundException(env.getProperty(\"error.missing.input.parameters\"), BusinessErrorCode.MISSING_REQUIRED_INPUTS);\n    }\n\n    // Convert to entity\n    Student student = convertToEntity(dto);\n\n    try {\n        studentRepository.save(student);\n    } catch (Exception ex) {\n        log.error(env.getProperty(\"error.errors\"), env.getProperty(\"error.db.exception\"));\n        throw new ResponseStatusException(HttpStatus.INTERNAL_SERVER_ERROR, env.getProperty(\"error.db.exception\"), ex);\n    }\n    return new ResponseEntity&lt;&gt;(HttpStatus.CREATED);\n}\n</code></pre>\n\n<p>Test Classes:</p>\n\n<pre><code>@RunWith(PowerMockRunner.class)\n@PrepareForTest({})\npublic class StudentServiceTest {\n    @Rule\n    public MockitoRule rule = MockitoJUnit.rule();\n\n    @Mock\n    private StudentRepository studentRepositoryMock;\n\n    @InjectMocks\n    private StudentService studentService;\n\n    @Mock\n    private Student studentMock;\n\n    // Define the Environment as a Mockito mock object\n    @Mock \n    private Environment env;\n\n    @Mock\n    private StudentDto studentDtoMock;\n\n    List&lt;Student&gt; students = new ArrayList&lt;&gt;();\n\n\n\n    // Test case for SaveStudent\n    @Test\n    public void testSaveStudent() {\n        when(divisionService.isValid(studentDtoMock)).thenReturn(true);\n\n        assertEquals(new ResponseEntity&lt;HttpStatus&gt;(HttpStatus.OK).getStatusCode(), \n                divisionService.saveStudent(studentDtoMock).getStatusCode());\n    }\n}\n</code></pre>\n"},{"tags":["java","postgresql","postgis","geoserver","geotools"],"comments":[{"owner":{"account_id":195980,"reputation":10228,"user_id":439194,"accept_rate":100,"display_name":"Ian Turton"},"score":0,"creation_date":1687351809,"post_id":76517421,"comment_id":134924390,"body_markdown":"can you try this one (from the demo requests) &lt;wfs:GetFeature service=&quot;WFS&quot; version=&quot;1.1.0&quot;\n  xmlns:topp=&quot;http://www.openplans.org/topp&quot;\n  xmlns:wfs=&quot;http://www.opengis.net/wfs&quot;\n  xmlns:ogc=&quot;http://www.opengis.net/ogc&quot;\n  xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n  xsi:schemaLocation=&quot;http://www.opengis.net/wfs\n                      http://schemas.opengis.net/wfs/1.1.0/wfs.xsd&quot;&gt;\n  &lt;wfs:Query typeName=&quot;topp:states&quot;&gt;\n    &lt;ogc:Filter&gt;\n       &lt;ogc:FeatureId fid=&quot;states.3&quot;/&gt;\n    &lt;/ogc:Filter&gt;\n    &lt;/wfs:Query&gt;\n&lt;/wfs:GetFeature&gt; - It might be to do with the capitals in the name","body":"can you try this one (from the demo requests) &lt;wfs:GetFeature service=&quot;WFS&quot; version=&quot;1.1.0&quot;   xmlns:topp=&quot;<a href=\"http://www.openplans.org/topp\" rel=\"nofollow noreferrer\">openplans.org/topp</a>&quot;   xmlns:wfs=&quot;<a href=\"http://www.opengis.net/wfs\" rel=\"nofollow noreferrer\">opengis.net/wfs</a>&quot;   xmlns:ogc=&quot;<a href=\"http://www.opengis.net/ogc\" rel=\"nofollow noreferrer\">opengis.net/ogc</a>&quot;   xmlns:xsi=&quot;<a href=\"http://www.w3.org/2001/XMLSchema-instance\" rel=\"nofollow noreferrer\">w3.org/2001/XMLSchema-instance</a>&quot;   xsi:schemaLocation=&quot;<a href=\"http://www.opengis.net/wfs\" rel=\"nofollow noreferrer\">opengis.net/wfs</a>                       <a href=\"http://schemas.opengis.net/wfs/1.1.0/wfs.xsd\" rel=\"nofollow noreferrer\">schemas.opengis.net/wfs/1.1.0/wfs.xsd</a>&quot;&gt;   &lt;wfs:Query typeName=&quot;topp:states&quot;&gt;     &lt;ogc:Filter&gt;        &lt;ogc:FeatureId fid=&quot;states.3&quot;/&gt;     &lt;/ogc:Filter&gt;     &lt;/wfs:Query&gt; &lt;/wfs:GetFeature&gt; - It might be to do with the capitals in the name"},{"owner":{"account_id":5495768,"reputation":11,"user_id":4367545,"display_name":"Aleda Freeman"},"score":0,"creation_date":1687461493,"post_id":76517421,"comment_id":134943999,"body_markdown":"It turns out it was not a Java version issue but an issue with the &quot;attribute customization&quot; being enabled for a subset of layers. Turning this off fixes our issue for now.","body":"It turns out it was not a Java version issue but an issue with the &quot;attribute customization&quot; being enabled for a subset of layers. Turning this off fixes our issue for now."},{"owner":{"account_id":195980,"reputation":10228,"user_id":439194,"accept_rate":100,"display_name":"Ian Turton"},"score":0,"creation_date":1687509946,"post_id":76517421,"comment_id":134949967,"body_markdown":"please add this as an answer and accept it so people in the future can find the issue","body":"please add this as an answer and accept it so people in the future can find the issue"}],"answers":[{"tags":[],"owner":{"account_id":5495768,"reputation":11,"user_id":4367545,"display_name":"Aleda Freeman"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687894973,"creation_date":1687894973,"answer_id":76568137,"question_id":76517421,"body_markdown":"It turns out it was not a Java version issue but an issue with the &quot;attribute customization&quot; being enabled for a subset of layers. Turning this off fixes our issue for now.","title":"GeoTools error NumericConverterFactory and GeoServer 2.22.2 with Java 17","body":"<p>It turns out it was not a Java version issue but an issue with the &quot;attribute customization&quot; being enabled for a subset of layers. Turning this off fixes our issue for now.</p>\n"}],"owner":{"account_id":5495768,"reputation":11,"user_id":4367545,"display_name":"Aleda Freeman"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1687894973,"creation_date":1687284703,"question_id":76517421,"body_markdown":"We&#39;ve upgraded to GeoServer 2.22.2 (GeoTools 28.2, Java 17, Postgres 12.7 RDS, PostGIS 3.0.3, Tomcat 9.0.10). Everything runs well except that we get a GeoTools error for a WFS request with a Filter using FID:\r\n\r\n[geotools.util] - Error applying the converter class org.geotools.data.util.NumericConverterFactory$NumericConverter on (GISDATA.BARRIERB_POLY.37,class java.lang.Integer)\r\njava.lang.NumberFormatException: For input string: &quot;GISDATA.BARRIERB_POLY&quot;\r\n\r\nHas anyone seen this error? I&#39;m wondering if this could be an incompatibility with GeoServer 2.22.2 and Java 17 (we skipped from Java 8 to 17).\r\n\r\nWe tried the same WFS query on the same layer with and without the Filter.  Without the Filter the request returns good data instead of the error.  Request:\r\n\r\n```\r\n&lt;wfs:GetFeature\r\n      outputFormat=&quot;csv&quot;\r\n      xmlns:wfs=&quot;http://www.opengis.net/wfs&quot;\r\n      service=&quot;WFS&quot;\r\n      version=&quot;1.1.0&quot;\r\n      xsi:schemaLocation=&quot;http://www.opengis.net/wfs http://schemas.opengis.net/wfs/1.1.0/wfs.xsd&quot;\r\n      xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n      xmlns:ogc=&quot;http://www.opengis.net/ogc&quot;&gt;\r\n      &lt;wfs:Query typeName=&quot;massgis:GISDATA.BARRIERB_POLY&quot; srsName=&quot;EPSG:26986&quot; xmlns:massgis=&quot;http://massgis.state.ma.us/featuretype&quot;&gt;    \r\n            &lt;ogc:Filter xmlns:ogc=&quot;http://www.opengis.net/ogc&quot;&gt;\r\n                  &lt;ogc:FeatureId fid=&quot;GISDATA.BARRIERB_POLY.37&quot;/&gt;&lt;ogc:FeatureId fid=&quot;GISDATA.BARRIERB_POLY.38&quot;/&gt;\r\n            &lt;/ogc:Filter&gt;\r\n      &lt;/wfs:Query&gt;\r\n      &lt;/wfs:GetFeature&gt;\r\n```\r\n\r\nWe plan to try to downgrade to Java 11 in NonProd, but wanted to gather some more info first before we spent the effort.","title":"GeoTools error NumericConverterFactory and GeoServer 2.22.2 with Java 17","body":"<p>We've upgraded to GeoServer 2.22.2 (GeoTools 28.2, Java 17, Postgres 12.7 RDS, PostGIS 3.0.3, Tomcat 9.0.10). Everything runs well except that we get a GeoTools error for a WFS request with a Filter using FID:</p>\n<p>[geotools.util] - Error applying the converter class org.geotools.data.util.NumericConverterFactory$NumericConverter on (GISDATA.BARRIERB_POLY.37,class java.lang.Integer)\njava.lang.NumberFormatException: For input string: &quot;GISDATA.BARRIERB_POLY&quot;</p>\n<p>Has anyone seen this error? I'm wondering if this could be an incompatibility with GeoServer 2.22.2 and Java 17 (we skipped from Java 8 to 17).</p>\n<p>We tried the same WFS query on the same layer with and without the Filter.  Without the Filter the request returns good data instead of the error.  Request:</p>\n<pre><code>&lt;wfs:GetFeature\n      outputFormat=&quot;csv&quot;\n      xmlns:wfs=&quot;http://www.opengis.net/wfs&quot;\n      service=&quot;WFS&quot;\n      version=&quot;1.1.0&quot;\n      xsi:schemaLocation=&quot;http://www.opengis.net/wfs http://schemas.opengis.net/wfs/1.1.0/wfs.xsd&quot;\n      xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n      xmlns:ogc=&quot;http://www.opengis.net/ogc&quot;&gt;\n      &lt;wfs:Query typeName=&quot;massgis:GISDATA.BARRIERB_POLY&quot; srsName=&quot;EPSG:26986&quot; xmlns:massgis=&quot;http://massgis.state.ma.us/featuretype&quot;&gt;    \n            &lt;ogc:Filter xmlns:ogc=&quot;http://www.opengis.net/ogc&quot;&gt;\n                  &lt;ogc:FeatureId fid=&quot;GISDATA.BARRIERB_POLY.37&quot;/&gt;&lt;ogc:FeatureId fid=&quot;GISDATA.BARRIERB_POLY.38&quot;/&gt;\n            &lt;/ogc:Filter&gt;\n      &lt;/wfs:Query&gt;\n      &lt;/wfs:GetFeature&gt;\n</code></pre>\n<p>We plan to try to downgrade to Java 11 in NonProd, but wanted to gather some more info first before we spent the effort.</p>\n"},{"tags":["java","postgresql","hibernate","jpa","enums"],"comments":[{"owner":{"account_id":5483053,"reputation":406,"user_id":4358787,"display_name":"Gaurav"},"score":0,"creation_date":1630614972,"post_id":7603500,"comment_id":122012748,"body_markdown":"could also be caused by not having cast from enum to varchar!","body":"could also be caused by not having cast from enum to varchar!"}],"answers":[{"tags":[],"owner":{"account_id":310386,"reputation":1494,"user_id":623334,"accept_rate":62,"display_name":"vikash dat"},"comment_count":0,"down_vote_count":0,"up_vote_count":15,"is_accepted":true,"score":15,"last_activity_date":1317407934,"creation_date":1317407934,"answer_id":7614642,"question_id":7603500,"body_markdown":"I figured it out. I needed to use setObject instead of setString in the nullSafeSet function and pass in the Types.OTHER as the java.sql.type to let jdbc know that it was a postgres type.\r\n\r\n\r\n    public void nullSafeSet(PreparedStatement st, Object value, int index) throws HibernateException, SQLException {\r\n        if (value == null) {\r\n            st.setNull(index, Types.VARCHAR);\r\n        }\r\n        else {\r\n    //            previously used setString, but this causes postgresql to bark about incompatible types.\r\n    //           now using setObject passing in the java type for the postgres enum object\r\n    //            st.setString(index,((Enum) value).name());\r\n            st.setObject(index,((Enum) value), Types.OTHER);\r\n        }\r\n    }\r\n","title":"How to map PostgreSQL enum with JPA and Hibernate","body":"<p>I figured it out. I needed to use setObject instead of setString in the nullSafeSet function and pass in the Types.OTHER as the java.sql.type to let jdbc know that it was a postgres type.</p>\n\n<pre><code>public void nullSafeSet(PreparedStatement st, Object value, int index) throws HibernateException, SQLException {\n    if (value == null) {\n        st.setNull(index, Types.VARCHAR);\n    }\n    else {\n//            previously used setString, but this causes postgresql to bark about incompatible types.\n//           now using setObject passing in the java type for the postgres enum object\n//            st.setString(index,((Enum) value).name());\n        st.setObject(index,((Enum) value), Types.OTHER);\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":9137252,"reputation":2391,"user_id":6796524,"display_name":"Camille"},"score":1,"creation_date":1640038405,"post_id":46303133,"comment_id":124496493,"body_markdown":"Wow! Thanks a lot for this contribution, that&#39;s save my day! (GitHub sample is perfect)","body":"Wow! Thanks a lot for this contribution, that&#39;s save my day! (GitHub sample is perfect)"},{"owner":{"account_id":1012936,"reputation":145178,"user_id":1025118,"accept_rate":100,"display_name":"Vlad Mihalcea"},"score":0,"creation_date":1640070792,"post_id":46303133,"comment_id":124501773,"body_markdown":"I&#39;m glad I could help.","body":"I&#39;m glad I could help."},{"owner":{"account_id":1176723,"reputation":8864,"user_id":1152549,"accept_rate":68,"display_name":"Ali Behzadian Nejad"},"score":0,"creation_date":1687884412,"post_id":46303133,"comment_id":134998346,"body_markdown":"`org.hibernate.type.EnumType` is deprecated in Hibernate 6.2. What is an alternative way?","body":"<code>org.hibernate.type.EnumType</code> is deprecated in Hibernate 6.2. What is an alternative way?"},{"owner":{"account_id":1012936,"reputation":145178,"user_id":1025118,"accept_rate":100,"display_name":"Vlad Mihalcea"},"score":0,"creation_date":1687892483,"post_id":46303133,"comment_id":135000020,"body_markdown":"@AliBehzadianNejad The [`PostgreSQLEnumType`](https://github.com/vladmihalcea/hypersistence-utils/blob/aae7cebd612f0c6fc41b7b0c84e36aedc835dfb6/hypersistence-utils-hibernate-62/src/main/java/io/hypersistence/utils/hibernate/type/basic/PostgreSQLEnumType.java#L32) from Hypersistence Utils is not deprecated, so if you use that, when Hibernate removes the `EnumType`, your app won&#39;t be affected since the `PostgreSQLEnumType` will switch to whatever will be necessary from Hibernate ORM.","body":"@AliBehzadianNejad The <a href=\"https://github.com/vladmihalcea/hypersistence-utils/blob/aae7cebd612f0c6fc41b7b0c84e36aedc835dfb6/hypersistence-utils-hibernate-62/src/main/java/io/hypersistence/utils/hibernate/type/basic/PostgreSQLEnumType.java#L32\" rel=\"nofollow noreferrer\"><code>PostgreSQLEnumType</code></a> from Hypersistence Utils is not deprecated, so if you use that, when Hibernate removes the <code>EnumType</code>, your app won&#39;t be affected since the <code>PostgreSQLEnumType</code> will switch to whatever will be necessary from Hibernate ORM."},{"owner":{"account_id":1176723,"reputation":8864,"user_id":1152549,"accept_rate":68,"display_name":"Ali Behzadian Nejad"},"score":0,"creation_date":1687894266,"post_id":46303133,"comment_id":135000309,"body_markdown":"There is no ‍‍‍‍‍`@TypeDef‍` in latest Hibernate. If you update your answer it would be great help. Thanks. @vlad-mihalcea","body":"There is no ‍‍‍‍‍<code>@TypeDef‍</code> in latest Hibernate. If you update your answer it would be great help. Thanks. @vlad-mihalcea"},{"owner":{"account_id":1012936,"reputation":145178,"user_id":1025118,"accept_rate":100,"display_name":"Vlad Mihalcea"},"score":0,"creation_date":1687895103,"post_id":46303133,"comment_id":135000463,"body_markdown":"@AliBehzadianNejad Done. It&#39;s now updated to the Hypersistence Utils exclusively.","body":"@AliBehzadianNejad Done. It&#39;s now updated to the Hypersistence Utils exclusively."}],"tags":[],"owner":{"account_id":1012936,"reputation":145178,"user_id":1025118,"accept_rate":100,"display_name":"Vlad Mihalcea"},"comment_count":6,"down_vote_count":0,"up_vote_count":23,"is_accepted":false,"score":23,"last_activity_date":1687894887,"creation_date":1505831437,"answer_id":46303133,"question_id":7603500,"body_markdown":"If you have following `post_status_info` enum type in PostgreSQL:\r\n\r\n    CREATE TYPE post_status_info AS ENUM (\r\n        &#39;PENDING&#39;, \r\n        &#39;APPROVED&#39;, \r\n        &#39;SPAM&#39;\r\n    )\r\n\r\nYou can easily map Java Enum to a PostgreSQL Enum column type using the [`PostgreSQLEnumType`](https://github.com/vladmihalcea/hypersistence-utils/blob/aae7cebd612f0c6fc41b7b0c84e36aedc835dfb6/hypersistence-utils-hibernate-62/src/main/java/io/hypersistence/utils/hibernate/type/basic/PostgreSQLEnumType.java#L32) from the [Hypersistence Utils](https://github.com/vladmihalcea/hypersistence-utils/) project.\r\n\r\nTo use it, you need to annotate the field with the Hibernate `@Type` annotation, as illustrated in the following example:\r\n\r\n    @Entity(name = &quot;Post&quot;)\r\n    @Table(name = &quot;post&quot;)\r\n    public class Post {\r\n     \r\n        @Id\r\n        private Long id;\r\n     \r\n        private String title;\r\n     \r\n        @Enumerated(EnumType.STRING)\r\n        @Column(columnDefinition = &quot;post_status_info&quot;)\r\n        @Type(PostgreSQLEnumType.class)\r\n        private PostStatus status;\r\n     \r\n        //Getters and setters omitted for brevity\r\n    }\r\n\r\n\r\nThat&#39;s it! It works like a charm. \r\n\r\nHere&#39;s a [test on GitHub that proves it][2].\r\n\r\n\r\n  [1]: https://vladmihalcea.com/the-best-way-to-map-an-enum-type-with-jpa-and-hibernate/\r\n  [2]: https://github.com/vladmihalcea/hypersistence-utils/blob/aae7cebd612f0c6fc41b7b0c84e36aedc835dfb6/hypersistence-utils-hibernate-62/src/test/java/io/hypersistence/utils/hibernate/type/basic/PostgreSQLEnumTest.java#L115","title":"How to map PostgreSQL enum with JPA and Hibernate","body":"<p>If you have following <code>post_status_info</code> enum type in PostgreSQL:</p>\n<pre><code>CREATE TYPE post_status_info AS ENUM (\n    'PENDING', \n    'APPROVED', \n    'SPAM'\n)\n</code></pre>\n<p>You can easily map Java Enum to a PostgreSQL Enum column type using the <a href=\"https://github.com/vladmihalcea/hypersistence-utils/blob/aae7cebd612f0c6fc41b7b0c84e36aedc835dfb6/hypersistence-utils-hibernate-62/src/main/java/io/hypersistence/utils/hibernate/type/basic/PostgreSQLEnumType.java#L32\" rel=\"nofollow noreferrer\"><code>PostgreSQLEnumType</code></a> from the <a href=\"https://github.com/vladmihalcea/hypersistence-utils/\" rel=\"nofollow noreferrer\">Hypersistence Utils</a> project.</p>\n<p>To use it, you need to annotate the field with the Hibernate <code>@Type</code> annotation, as illustrated in the following example:</p>\n<pre><code>@Entity(name = &quot;Post&quot;)\n@Table(name = &quot;post&quot;)\npublic class Post {\n \n    @Id\n    private Long id;\n \n    private String title;\n \n    @Enumerated(EnumType.STRING)\n    @Column(columnDefinition = &quot;post_status_info&quot;)\n    @Type(PostgreSQLEnumType.class)\n    private PostStatus status;\n \n    //Getters and setters omitted for brevity\n}\n</code></pre>\n<p>That's it! It works like a charm.</p>\n<p>Here's a <a href=\"https://github.com/vladmihalcea/hypersistence-utils/blob/aae7cebd612f0c6fc41b7b0c84e36aedc835dfb6/hypersistence-utils-hibernate-62/src/test/java/io/hypersistence/utils/hibernate/type/basic/PostgreSQLEnumTest.java#L115\" rel=\"nofollow noreferrer\">test on GitHub that proves it</a>.</p>\n"},{"tags":[],"owner":{"account_id":2109967,"reputation":6673,"user_id":1875434,"accept_rate":67,"display_name":"abbas"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1584522662,"creation_date":1584522662,"answer_id":60736408,"question_id":7603500,"body_markdown":"A quick solution will be \r\n\r\n    jdbc:postgresql://localhost:5432/postgres?stringtype=unspecified\r\n\r\n**?stringtype=unspecified** is the answer","title":"How to map PostgreSQL enum with JPA and Hibernate","body":"<p>A quick solution will be </p>\n\n<pre><code>jdbc:postgresql://localhost:5432/postgres?stringtype=unspecified\n</code></pre>\n\n<p><strong>?stringtype=unspecified</strong> is the answer</p>\n"},{"tags":[],"owner":{"account_id":6868647,"reputation":22259,"user_id":5279996,"display_name":"Braian Coronel"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1603726553,"creation_date":1600835393,"answer_id":64021041,"question_id":7603500,"body_markdown":"### build.gradle.kts\r\n\r\n    dependencies {\r\n        api(&quot;javax.persistence&quot;, &quot;javax.persistence-api&quot;, &quot;2.2&quot;)\r\n        api(&quot;org.hibernate&quot;,  &quot;hibernate-core&quot;,  &quot;5.4.21.Final&quot;)\r\n    }\r\n\r\nIn Kotlin it is important to make a generic extension with `EnumType&lt;Enum&lt;*&gt;&gt;()`\r\n\r\n### PostgreSQLEnumType.kt\r\n\r\n    import org.hibernate.type.EnumType\r\n    import java.sql.Types\r\n\r\n    class PostgreSQLEnumType : EnumType&lt;Enum&lt;*&gt;&gt;() {\r\n\r\n        @Throws(HibernateException::class, SQLException::class)\r\n        override fun nullSafeSet(\r\n                st: PreparedStatement,\r\n                value: Any,\r\n                index: Int,\r\n                session: SharedSessionContractImplementor) {\r\n            st.setObject(\r\n                    index,\r\n                    value.toString(),\r\n                    Types.OTHER\r\n            )\r\n        }\r\n    }\r\n\r\n### Custom.kt\r\n\r\n    import org.hibernate.annotations.Type\r\n    import org.hibernate.annotations.TypeDef\r\n    import javax.persistence.*\r\n\r\n    @Entity\r\n    @Table(name = &quot;custom&quot;)\r\n    @TypeDef(name = &quot;pgsql_enum&quot;, typeClass = PostgreSQLEnumType::class)\r\n    data class Custom(\r\n            @Id @GeneratedValue @Column(name = &quot;id&quot;)\r\n            val id: Int,\r\n        \r\n            @Enumerated(EnumType.STRING) @Column(name = &quot;status_custom&quot;) @Type(type = &quot;pgsql_enum&quot;)\r\n            val statusCustom: StatusCustom\r\n    )\r\n\r\n    enum class StatusCustom {\r\n        FIRST, SECOND\r\n    }\r\n\r\n____\r\n\r\nA simpler option that I don&#39;t recommend is the first option in [Arthur&#39;s answer][1] which adds a parameter in the connection URL to the db so that the enum data type is not lost. I believe that the responsibility of mapping the data type between the backend server and the database is precisely the backend.\r\n\r\n    &lt;property name=&quot;connection.url&quot;&gt;jdbc:postgresql://localhost:5432/yourdatabase?stringtype=unspecified&lt;/property&gt;\r\n\r\n[Source][2]\r\n\r\n____\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/43125099/5279996\r\n  [2]: https://stackoverflow.com/a/46303133/5279996","title":"How to map PostgreSQL enum with JPA and Hibernate","body":"<h3>build.gradle.kts</h3>\n<pre><code>dependencies {\n    api(&quot;javax.persistence&quot;, &quot;javax.persistence-api&quot;, &quot;2.2&quot;)\n    api(&quot;org.hibernate&quot;,  &quot;hibernate-core&quot;,  &quot;5.4.21.Final&quot;)\n}\n</code></pre>\n<p>In Kotlin it is important to make a generic extension with <code>EnumType&lt;Enum&lt;*&gt;&gt;()</code></p>\n<h3>PostgreSQLEnumType.kt</h3>\n<pre><code>import org.hibernate.type.EnumType\nimport java.sql.Types\n\nclass PostgreSQLEnumType : EnumType&lt;Enum&lt;*&gt;&gt;() {\n\n    @Throws(HibernateException::class, SQLException::class)\n    override fun nullSafeSet(\n            st: PreparedStatement,\n            value: Any,\n            index: Int,\n            session: SharedSessionContractImplementor) {\n        st.setObject(\n                index,\n                value.toString(),\n                Types.OTHER\n        )\n    }\n}\n</code></pre>\n<h3>Custom.kt</h3>\n<pre><code>import org.hibernate.annotations.Type\nimport org.hibernate.annotations.TypeDef\nimport javax.persistence.*\n\n@Entity\n@Table(name = &quot;custom&quot;)\n@TypeDef(name = &quot;pgsql_enum&quot;, typeClass = PostgreSQLEnumType::class)\ndata class Custom(\n        @Id @GeneratedValue @Column(name = &quot;id&quot;)\n        val id: Int,\n    \n        @Enumerated(EnumType.STRING) @Column(name = &quot;status_custom&quot;) @Type(type = &quot;pgsql_enum&quot;)\n        val statusCustom: StatusCustom\n)\n\nenum class StatusCustom {\n    FIRST, SECOND\n}\n</code></pre>\n<hr />\n<p>A simpler option that I don't recommend is the first option in <a href=\"https://stackoverflow.com/a/43125099/5279996\">Arthur's answer</a> which adds a parameter in the connection URL to the db so that the enum data type is not lost. I believe that the responsibility of mapping the data type between the backend server and the database is precisely the backend.</p>\n<pre><code>&lt;property name=&quot;connection.url&quot;&gt;jdbc:postgresql://localhost:5432/yourdatabase?stringtype=unspecified&lt;/property&gt;\n</code></pre>\n<p><a href=\"https://stackoverflow.com/a/46303133/5279996\">Source</a></p>\n<hr />\n"},{"tags":[],"owner":{"account_id":1280178,"reputation":3130,"user_id":2356160,"accept_rate":55,"display_name":"lathspell"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1607696430,"creation_date":1607696430,"answer_id":65253038,"question_id":7603500,"body_markdown":"The following might also help to have Postgres convert strings silently to your SQL enum type so you can use `@Enumerated(STRING)` and don&#39;t need `@Type`.\r\n\r\n\r\n    CREATE CAST (character varying as post_status_type) WITH INOUT AS IMPLICIT;\r\n","title":"How to map PostgreSQL enum with JPA and Hibernate","body":"<p>The following might also help to have Postgres convert strings silently to your SQL enum type so you can use <code>@Enumerated(STRING)</code> and don't need <code>@Type</code>.</p>\n<pre><code>CREATE CAST (character varying as post_status_type) WITH INOUT AS IMPLICIT;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":461547,"reputation":3094,"user_id":863311,"accept_rate":62,"display_name":"Simon"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1676876903,"creation_date":1676876903,"answer_id":75506195,"question_id":7603500,"body_markdown":"As TypeDef has disappeared in Hibernate 6, and we thus need to annotate each affected property anyway, I&#39;ve found that using\r\n\r\n    @ColumnTransformer(write=&quot;?::transmission_result &quot;)\r\n\r\nto force a type cast works, without any Hibernate usertype classes needed.","title":"How to map PostgreSQL enum with JPA and Hibernate","body":"<p>As TypeDef has disappeared in Hibernate 6, and we thus need to annotate each affected property anyway, I've found that using</p>\n<pre><code>@ColumnTransformer(write=&quot;?::transmission_result &quot;)\n</code></pre>\n<p>to force a type cast works, without any Hibernate usertype classes needed.</p>\n"},{"tags":[],"owner":{"account_id":16882480,"reputation":1,"user_id":12208139,"display_name":"He winxin"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678874187,"creation_date":1678874187,"answer_id":75743086,"question_id":7603500,"body_markdown":"I solved this problem by creating a custom Hibernate Basic Type\r\n\r\n[reference Hibernate doc][1]\r\n\r\n\r\n**Versions**\r\n\r\n 1. Hibernate: 6.1.7.Final\r\n 2. SpringBoot: 3.0.3\r\n 3. PostgreSql: 15\r\n\r\n**LOG**\r\n\r\n*If you want custom classes to log, write these in the application.properties file*\r\n\r\n    logging.level.**.**.**.GenderType=trace\r\n\r\n**StudentEntity**\r\npublic class Student extends BaseEntity {\r\n\r\n    @Size(max = 30)\r\n    @NotNull\r\n    @Column(name = &quot;student_id&quot;, nullable = false, length = 30)\r\n    private String studentId;\r\n\r\n    @Size(max = 40)\r\n    @NotNull\r\n    @Column(name = &quot;name&quot;, nullable = false, length = 40)\r\n    private String name;\r\n\r\n    @NotNull\r\n    @Column(name = &quot;major_id&quot;, nullable = false)\r\n    @ToString.Exclude\r\n    private Long majorId;\r\n\r\n    @Column(name = &quot;gender&quot;, columnDefinition = &quot;gender&quot;)\r\n    @Type(GenderType.class)\r\n    @Enumerated(EnumType.STRING)\r\n    private Gender gender;\r\n\r\n    @NotNull\r\n    @Column(name = &quot;grade&quot;, nullable = false)\r\n    private Integer grade;\r\n\r\n    @Column(name = &quot;user_id&quot;, nullable = false)\r\n    private Long userId;\r\n\r\n    @Column(name = &quot;activity_id&quot;)\r\n    private Long activityId;}\r\n\r\n\r\n**GenderType**\r\n\r\n    public class GenderType implements UserType&lt;Gender&gt; {\r\n    public static final GenderType INSTANCE = new GenderType();\r\n\r\n    private static final Logger log = Logger.getLogger(GenderType.class);\r\n    @Override\r\n    public int getSqlType() {\r\n        return Types.OTHER;\r\n    }\r\n\r\n    @Override\r\n    public Class&lt;Gender&gt; returnedClass() {\r\n        return Gender.class;\r\n    }\r\n\r\n    @Override\r\n    public boolean equals(Gender x, Gender y) {\r\n        return x.getCode()\r\n                .equals(y.getCode());\r\n    }\r\n\r\n    @Override\r\n    public int hashCode(Gender x) {\r\n        return Objects.hashCode(x);\r\n    }\r\n\r\n    @Override\r\n    public Gender nullSafeGet(ResultSet rs, int position, SharedSessionContractImplementor session,\r\n                              Object owner) throws SQLException {\r\n        String columnValue = (String) rs.getObject(position);\r\n        if (rs.wasNull()) {\r\n            columnValue = null;\r\n        }\r\n        log.debugv(&quot;Result set column {0} value is {1}&quot;, position, columnValue);\r\n        return Gender.fromCode(columnValue);\r\n    }\r\n\r\n    @Override\r\n    public void nullSafeSet(PreparedStatement st, Gender value, int index,\r\n                            SharedSessionContractImplementor session) throws SQLException {\r\n        if (value == null) {\r\n            log.debugv(&quot;Binding null to parameter {0} &quot;,index);\r\n            st.setNull(index, Types.OTHER);\r\n        }\r\n        else {\r\n            log.debugv(&quot;binding parameter [{1}] as [gender] - [{0}] &quot;, value.getCode(), index);\r\n            st.setObject(index, value, Types.OTHER);\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public Gender deepCopy(Gender value) {\r\n        return value == null ? null :\r\n               Gender.fromCode(value.getCode());\r\n    }\r\n\r\n    @Override\r\n    public boolean isMutable() {\r\n        return true;\r\n    }\r\n\r\n    @Override\r\n    public Serializable disassemble(Gender value) {\r\n        return deepCopy(value);\r\n    }\r\n\r\n    @Override\r\n    public Gender assemble(Serializable cached, Object owner) {\r\n        return deepCopy((Gender) cached);\r\n    }\r\n\r\n    @Override\r\n    public Gender replace(Gender detached, Gender managed, Object owner) {\r\n        return deepCopy(detached);\r\n    }}\r\n\r\n**Gender**\r\n\r\n    public enum Gender {\r\n\r\n    MALE(&quot;MALE&quot;),\r\n\r\n    FEMALE(&quot;FEMALE&quot;),\r\n\r\n    UNKNOWN(&quot;UNKNOWN&quot;);\r\n\r\n    private final String code;\r\n\r\n    Gender(String gender) {\r\n        code = gender;\r\n    }\r\n\r\n\r\n    public String getCode() {\r\n        return code;\r\n    }\r\n\r\n    public static Gender fromCode(String gender) {\r\n        if (gender == null) {\r\n            return null;\r\n        }\r\n        return switch (gender) {\r\n            case &quot;MALE&quot;, &quot;男&quot; -&gt; Gender.MALE;\r\n            case &quot;FEMALE&quot;, &quot;女&quot; -&gt; Gender.FEMALE;\r\n            default -&gt; throw new IllegalArgumentException(&quot;Invaild input value&quot;);\r\n        };\r\n    }}\r\n\r\n\r\n**StudentServie**\r\n\r\n        public Stream&lt;Student&gt; findStudent(@Nullable Integer grade, @Nullable String gender,\r\n                                       @Nullable Long majorId, @Nullable Long activityId) {\r\n\r\n        return studentRepo.findAll((Specification&lt;Student&gt;) (root, query, criteriaBuilder) -&gt; {\r\n            List&lt;Predicate&gt; predicates = new ArrayList&lt;&gt;();\r\n            if (grade != null) {\r\n                predicates.add(criteriaBuilder.equal(root.get(&quot;grade&quot;), grade));\r\n            }\r\n\r\n            if (gender != null) {\r\n                predicates.add(criteriaBuilder.equal(root.get(&quot;gender&quot;), Gender.fromCode(gender)));\r\n            }\r\n\r\n            return query.where(predicates.toArray(new Predicate[predicates.size()]))\r\n                        .getRestriction();\r\n        }).stream();\r\n}\r\n\r\n\r\n\r\n\r\n  [1]: https://docs.jboss.org/hibernate/orm/current/userguide/html_single/Hibernate_User_Guide.html#basic-custom-type","title":"How to map PostgreSQL enum with JPA and Hibernate","body":"<p>I solved this problem by creating a custom Hibernate Basic Type</p>\n<p><a href=\"https://docs.jboss.org/hibernate/orm/current/userguide/html_single/Hibernate_User_Guide.html#basic-custom-type\" rel=\"nofollow noreferrer\">reference Hibernate doc</a></p>\n<p><strong>Versions</strong></p>\n<ol>\n<li>Hibernate: 6.1.7.Final</li>\n<li>SpringBoot: 3.0.3</li>\n<li>PostgreSql: 15</li>\n</ol>\n<p><strong>LOG</strong></p>\n<p><em>If you want custom classes to log, write these in the application.properties file</em></p>\n<pre><code>logging.level.**.**.**.GenderType=trace\n</code></pre>\n<p><strong>StudentEntity</strong>\npublic class Student extends BaseEntity {</p>\n<pre><code>@Size(max = 30)\n@NotNull\n@Column(name = &quot;student_id&quot;, nullable = false, length = 30)\nprivate String studentId;\n\n@Size(max = 40)\n@NotNull\n@Column(name = &quot;name&quot;, nullable = false, length = 40)\nprivate String name;\n\n@NotNull\n@Column(name = &quot;major_id&quot;, nullable = false)\n@ToString.Exclude\nprivate Long majorId;\n\n@Column(name = &quot;gender&quot;, columnDefinition = &quot;gender&quot;)\n@Type(GenderType.class)\n@Enumerated(EnumType.STRING)\nprivate Gender gender;\n\n@NotNull\n@Column(name = &quot;grade&quot;, nullable = false)\nprivate Integer grade;\n\n@Column(name = &quot;user_id&quot;, nullable = false)\nprivate Long userId;\n\n@Column(name = &quot;activity_id&quot;)\nprivate Long activityId;}\n</code></pre>\n<p><strong>GenderType</strong></p>\n<pre><code>public class GenderType implements UserType&lt;Gender&gt; {\npublic static final GenderType INSTANCE = new GenderType();\n\nprivate static final Logger log = Logger.getLogger(GenderType.class);\n@Override\npublic int getSqlType() {\n    return Types.OTHER;\n}\n\n@Override\npublic Class&lt;Gender&gt; returnedClass() {\n    return Gender.class;\n}\n\n@Override\npublic boolean equals(Gender x, Gender y) {\n    return x.getCode()\n            .equals(y.getCode());\n}\n\n@Override\npublic int hashCode(Gender x) {\n    return Objects.hashCode(x);\n}\n\n@Override\npublic Gender nullSafeGet(ResultSet rs, int position, SharedSessionContractImplementor session,\n                          Object owner) throws SQLException {\n    String columnValue = (String) rs.getObject(position);\n    if (rs.wasNull()) {\n        columnValue = null;\n    }\n    log.debugv(&quot;Result set column {0} value is {1}&quot;, position, columnValue);\n    return Gender.fromCode(columnValue);\n}\n\n@Override\npublic void nullSafeSet(PreparedStatement st, Gender value, int index,\n                        SharedSessionContractImplementor session) throws SQLException {\n    if (value == null) {\n        log.debugv(&quot;Binding null to parameter {0} &quot;,index);\n        st.setNull(index, Types.OTHER);\n    }\n    else {\n        log.debugv(&quot;binding parameter [{1}] as [gender] - [{0}] &quot;, value.getCode(), index);\n        st.setObject(index, value, Types.OTHER);\n    }\n}\n\n@Override\npublic Gender deepCopy(Gender value) {\n    return value == null ? null :\n           Gender.fromCode(value.getCode());\n}\n\n@Override\npublic boolean isMutable() {\n    return true;\n}\n\n@Override\npublic Serializable disassemble(Gender value) {\n    return deepCopy(value);\n}\n\n@Override\npublic Gender assemble(Serializable cached, Object owner) {\n    return deepCopy((Gender) cached);\n}\n\n@Override\npublic Gender replace(Gender detached, Gender managed, Object owner) {\n    return deepCopy(detached);\n}}\n</code></pre>\n<p><strong>Gender</strong></p>\n<pre><code>public enum Gender {\n\nMALE(&quot;MALE&quot;),\n\nFEMALE(&quot;FEMALE&quot;),\n\nUNKNOWN(&quot;UNKNOWN&quot;);\n\nprivate final String code;\n\nGender(String gender) {\n    code = gender;\n}\n\n\npublic String getCode() {\n    return code;\n}\n\npublic static Gender fromCode(String gender) {\n    if (gender == null) {\n        return null;\n    }\n    return switch (gender) {\n        case &quot;MALE&quot;, &quot;男&quot; -&gt; Gender.MALE;\n        case &quot;FEMALE&quot;, &quot;女&quot; -&gt; Gender.FEMALE;\n        default -&gt; throw new IllegalArgumentException(&quot;Invaild input value&quot;);\n    };\n}}\n</code></pre>\n<p><strong>StudentServie</strong></p>\n<pre><code>    public Stream&lt;Student&gt; findStudent(@Nullable Integer grade, @Nullable String gender,\n                                   @Nullable Long majorId, @Nullable Long activityId) {\n\n    return studentRepo.findAll((Specification&lt;Student&gt;) (root, query, criteriaBuilder) -&gt; {\n        List&lt;Predicate&gt; predicates = new ArrayList&lt;&gt;();\n        if (grade != null) {\n            predicates.add(criteriaBuilder.equal(root.get(&quot;grade&quot;), grade));\n        }\n\n        if (gender != null) {\n            predicates.add(criteriaBuilder.equal(root.get(&quot;gender&quot;), Gender.fromCode(gender)));\n        }\n\n        return query.where(predicates.toArray(new Predicate[predicates.size()]))\n                    .getRestriction();\n    }).stream();\n</code></pre>\n<p>}</p>\n"}],"owner":{"account_id":310386,"reputation":1494,"user_id":623334,"accept_rate":62,"display_name":"vikash dat"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":21698,"favorite_count":0,"down_vote_count":0,"up_vote_count":18,"accepted_answer_id":7614642,"answer_count":7,"score":18,"last_activity_date":1687894887,"creation_date":1317331093,"question_id":7603500,"body_markdown":"I am trying to map a PostgreSQL custom type,named `transmission_result`, to a Hibernate/JPA POJO. The PostgreSQL custom type is more or less an `enum` type of string values. \r\n\r\nI have created a custom `EnumUserType` called `PGEnumUserType` as well as an `enum` class representing the PostgreSQL enumerated values. When I run this against a real database, I receive the following error:\r\n\r\n    &#39;ERROR: column &quot;status&quot; is of type transmission_result but expression is of type\r\n    character varying \r\n      Hint: You will need to rewrite or cast the expression.\r\n      Position: 135 &#39;\r\n\r\nUpon seeing this, I figured I needed to change my `SqlTypes` to `Types.OTHER`. But doing so breaks my integration tests (using *HyperSQL* in memory DB) with the message:\r\n\r\n     \r\n    &#39;Caused by: java.sql.SQLException: Table not found in statement\r\n    [select enrollment0_.&quot;id&quot; as id1_47_0_,\r\n     enrollment0_.&quot;tpa_approval_id&quot; as tpa2_47_0_,\r\n     enrollment0_.&quot;tpa_status_code&quot; as tpa3_47_0_,\r\n     enrollment0_.&quot;status_message&quot; as status4_47_0_,\r\n     enrollment0_.&quot;approval_id&quot; as approval5_47_0_,\r\n     enrollment0_.&quot;transmission_date&quot; as transmis6_47_0_,\r\n     enrollment0_.&quot;status&quot; as status7_47_0_,\r\n     enrollment0_.&quot;transmitter&quot; as transmit8_47_0_\r\n     from &quot;transmissions&quot; enrollment0_ where enrollment0_.&quot;id&quot;=?]&#39;\r\n\r\n\r\nI&#39;m not sure why changing the `sqlType` results in this error. Any help is appreciated.\r\n\r\n\r\nJPA/Hibernate Entity:\r\n\r\n    @Entity\r\n    @Access(javax.persistence.AccessType.PROPERTY)\r\n    @Table(name=&quot;transmissions&quot;)\r\n    public class EnrollmentCycleTransmission {\r\n\r\n    // elements of enum status column\r\n    private static final String ACCEPTED_TRANSMISSION = &quot;accepted&quot;;\r\n    private static final String REJECTED_TRANSMISSION = &quot;rejected&quot;;\r\n\tprivate static final String DUPLICATE_TRANSMISSION = &quot;duplicate&quot;;\r\n    private static final String EXCEPTION_TRANSMISSION = &quot;exception&quot;;\r\n    private static final String RETRY_TRANSMISSION = &quot;retry&quot;;\r\n\r\n    private Long transmissionID;\r\n    private Long approvalID;\r\n    private Long transmitterID;\r\n    private TransmissionStatusType transmissionStatus;\r\n    private Date transmissionDate;\r\n    private String TPAApprovalID;\r\n    private String TPAStatusCode;\r\n    private String TPAStatusMessage;\r\n\r\n\r\n    @Column(name = &quot;id&quot;)\r\n    @Id\r\n    @GeneratedValue(strategy=GenerationType.AUTO)\r\n    public Long getTransmissionID() {\r\n        return transmissionID;\r\n    }\r\n\r\n    public void setTransmissionID(Long transmissionID) {\r\n        this.transmissionID = transmissionID;\r\n    }\r\n\r\n    @Column(name = &quot;approval_id&quot;)\r\n    public Long getApprovalID() {\r\n        return approvalID;\r\n    }\r\n\r\n    public void setApprovalID(Long approvalID) {\r\n        this.approvalID = approvalID;\r\n    }\r\n\r\n    @Column(name = &quot;transmitter&quot;)\r\n    public Long getTransmitterID() {\r\n        return transmitterID;\r\n    }\r\n\r\n    public void setTransmitterID(Long transmitterID) {\r\n        this.transmitterID = transmitterID;\r\n    }\r\n\r\n    @Column(name = &quot;status&quot;)\r\n    @Type(type = &quot;org.fuwt.model.PGEnumUserType&quot; , parameters ={@org.hibernate.annotations.Parameter(name = &quot;enumClassName&quot;,value = &quot;org.fuwt.model.enrollment.TransmissionStatusType&quot;)} )\r\n    public TransmissionStatusType getTransmissionStatus() {\r\n        return this.transmissionStatus ;\r\n    }\r\n\r\n    public void setTransmissionStatus(TransmissionStatusType transmissionStatus) {\r\n        this.transmissionStatus = transmissionStatus;\r\n    }\r\n\r\n    @Column(name = &quot;transmission_date&quot;)\r\n    public Date getTransmissionDate() {\r\n        return transmissionDate;\r\n    }\r\n\r\n    public void setTransmissionDate(Date transmissionDate) {\r\n        this.transmissionDate = transmissionDate;\r\n    }\r\n\r\n    @Column(name = &quot;tpa_approval_id&quot;)\r\n    public String getTPAApprovalID() {\r\n        return TPAApprovalID;\r\n    }\r\n\r\n    public void setTPAApprovalID(String TPAApprovalID) {\r\n        this.TPAApprovalID = TPAApprovalID;\r\n    }\r\n\r\n    @Column(name = &quot;tpa_status_code&quot;)\r\n    public String getTPAStatusCode() {\r\n        return TPAStatusCode;\r\n    }\r\n\r\n    public void setTPAStatusCode(String TPAStatusCode) {\r\n        this.TPAStatusCode = TPAStatusCode;\r\n    }\r\n\r\n    @Column(name = &quot;status_message&quot;)\r\n    public String getTPAStatusMessage() {\r\n        return TPAStatusMessage;\r\n    }\r\n\r\n    public void setTPAStatusMessage(String TPAStatusMessage) {\r\n        this.TPAStatusMessage = TPAStatusMessage;\r\n    }\r\n    }\r\n\r\nCustom EnumUserType:\r\n\r\n    public class PGEnumUserType implements UserType, ParameterizedType {\r\n\r\n    private Class&lt;Enum&gt; enumClass;\r\n\r\n    public PGEnumUserType(){\r\n        super();\r\n    }\r\n\r\n    public void setParameterValues(Properties parameters) {\r\n        String enumClassName = parameters.getProperty(&quot;enumClassName&quot;);\r\n        try {\r\n            enumClass = (Class&lt;Enum&gt;) Class.forName(enumClassName);\r\n        } catch (ClassNotFoundException e) {\r\n            throw new HibernateException(&quot;Enum class not found &quot;, e);\r\n        }\r\n\r\n    }\r\n\r\n    public int[] sqlTypes() {\r\n        return new int[] {Types.VARCHAR};\r\n    }\r\n\r\n    public Class returnedClass() {\r\n        return enumClass;\r\n    }\r\n\r\n    public boolean equals(Object x, Object y) throws HibernateException {\r\n        return x==y;\r\n    }\r\n\r\n    public int hashCode(Object x) throws HibernateException {\r\n        return x.hashCode();\r\n    }\r\n\r\n    public Object nullSafeGet(ResultSet rs, String[] names, Object owner) throws HibernateException, SQLException {\r\n        String name = rs.getString(names[0]);\r\n        return rs.wasNull() ? null: Enum.valueOf(enumClass,name);\r\n    }\r\n\r\n    public void nullSafeSet(PreparedStatement st, Object value, int index) throws HibernateException, SQLException {\r\n        if (value == null) {\r\n            st.setNull(index, Types.VARCHAR);\r\n        }\r\n        else {\r\n            st.setString(index,((Enum) value).name());\r\n        }\r\n    }\r\n\r\n    public Object deepCopy(Object value) throws HibernateException {\r\n        return value;\r\n    }\r\n\r\n    public boolean isMutable() {\r\n        return false;  //To change body of implemented methods use File | Settings | File Templates.\r\n    }\r\n\r\n    public Serializable disassemble(Object value) throws HibernateException {\r\n        return (Enum) value;\r\n    }\r\n\r\n    public Object assemble(Serializable cached, Object owner) throws HibernateException {\r\n        return cached;\r\n    }\r\n\r\n    public Object replace(Object original, Object target, Object owner) throws HibernateException {\r\n        return original;\r\n    }\r\n\r\n    public Object fromXMLString(String xmlValue) {\r\n        return Enum.valueOf(enumClass, xmlValue);\r\n    }\r\n\r\n    public String objectToSQLString(Object value) {\r\n        return &#39;\\&#39;&#39; + ( (Enum) value ).name() + &#39;\\&#39;&#39;;\r\n    }\r\n\r\n    public String toXMLString(Object value) {\r\n        return ( (Enum) value ).name();\r\n    }\r\n    }\r\n\r\nEnum class:\r\n\r\n    public enum TransmissionStatusType {\r\n    accepted,\r\n    rejected,\r\n    duplicate,\r\n    exception,\r\n    retry}","title":"How to map PostgreSQL enum with JPA and Hibernate","body":"<p>I am trying to map a PostgreSQL custom type,named <code>transmission_result</code>, to a Hibernate/JPA POJO. The PostgreSQL custom type is more or less an <code>enum</code> type of string values.</p>\n<p>I have created a custom <code>EnumUserType</code> called <code>PGEnumUserType</code> as well as an <code>enum</code> class representing the PostgreSQL enumerated values. When I run this against a real database, I receive the following error:</p>\n<pre><code>'ERROR: column &quot;status&quot; is of type transmission_result but expression is of type\ncharacter varying \n  Hint: You will need to rewrite or cast the expression.\n  Position: 135 '\n</code></pre>\n<p>Upon seeing this, I figured I needed to change my <code>SqlTypes</code> to <code>Types.OTHER</code>. But doing so breaks my integration tests (using <em>HyperSQL</em> in memory DB) with the message:</p>\n<pre><code>'Caused by: java.sql.SQLException: Table not found in statement\n[select enrollment0_.&quot;id&quot; as id1_47_0_,\n enrollment0_.&quot;tpa_approval_id&quot; as tpa2_47_0_,\n enrollment0_.&quot;tpa_status_code&quot; as tpa3_47_0_,\n enrollment0_.&quot;status_message&quot; as status4_47_0_,\n enrollment0_.&quot;approval_id&quot; as approval5_47_0_,\n enrollment0_.&quot;transmission_date&quot; as transmis6_47_0_,\n enrollment0_.&quot;status&quot; as status7_47_0_,\n enrollment0_.&quot;transmitter&quot; as transmit8_47_0_\n from &quot;transmissions&quot; enrollment0_ where enrollment0_.&quot;id&quot;=?]'\n</code></pre>\n<p>I'm not sure why changing the <code>sqlType</code> results in this error. Any help is appreciated.</p>\n<p>JPA/Hibernate Entity:</p>\n<pre><code>@Entity\n@Access(javax.persistence.AccessType.PROPERTY)\n@Table(name=&quot;transmissions&quot;)\npublic class EnrollmentCycleTransmission {\n\n// elements of enum status column\nprivate static final String ACCEPTED_TRANSMISSION = &quot;accepted&quot;;\nprivate static final String REJECTED_TRANSMISSION = &quot;rejected&quot;;\nprivate static final String DUPLICATE_TRANSMISSION = &quot;duplicate&quot;;\nprivate static final String EXCEPTION_TRANSMISSION = &quot;exception&quot;;\nprivate static final String RETRY_TRANSMISSION = &quot;retry&quot;;\n\nprivate Long transmissionID;\nprivate Long approvalID;\nprivate Long transmitterID;\nprivate TransmissionStatusType transmissionStatus;\nprivate Date transmissionDate;\nprivate String TPAApprovalID;\nprivate String TPAStatusCode;\nprivate String TPAStatusMessage;\n\n\n@Column(name = &quot;id&quot;)\n@Id\n@GeneratedValue(strategy=GenerationType.AUTO)\npublic Long getTransmissionID() {\n    return transmissionID;\n}\n\npublic void setTransmissionID(Long transmissionID) {\n    this.transmissionID = transmissionID;\n}\n\n@Column(name = &quot;approval_id&quot;)\npublic Long getApprovalID() {\n    return approvalID;\n}\n\npublic void setApprovalID(Long approvalID) {\n    this.approvalID = approvalID;\n}\n\n@Column(name = &quot;transmitter&quot;)\npublic Long getTransmitterID() {\n    return transmitterID;\n}\n\npublic void setTransmitterID(Long transmitterID) {\n    this.transmitterID = transmitterID;\n}\n\n@Column(name = &quot;status&quot;)\n@Type(type = &quot;org.fuwt.model.PGEnumUserType&quot; , parameters ={@org.hibernate.annotations.Parameter(name = &quot;enumClassName&quot;,value = &quot;org.fuwt.model.enrollment.TransmissionStatusType&quot;)} )\npublic TransmissionStatusType getTransmissionStatus() {\n    return this.transmissionStatus ;\n}\n\npublic void setTransmissionStatus(TransmissionStatusType transmissionStatus) {\n    this.transmissionStatus = transmissionStatus;\n}\n\n@Column(name = &quot;transmission_date&quot;)\npublic Date getTransmissionDate() {\n    return transmissionDate;\n}\n\npublic void setTransmissionDate(Date transmissionDate) {\n    this.transmissionDate = transmissionDate;\n}\n\n@Column(name = &quot;tpa_approval_id&quot;)\npublic String getTPAApprovalID() {\n    return TPAApprovalID;\n}\n\npublic void setTPAApprovalID(String TPAApprovalID) {\n    this.TPAApprovalID = TPAApprovalID;\n}\n\n@Column(name = &quot;tpa_status_code&quot;)\npublic String getTPAStatusCode() {\n    return TPAStatusCode;\n}\n\npublic void setTPAStatusCode(String TPAStatusCode) {\n    this.TPAStatusCode = TPAStatusCode;\n}\n\n@Column(name = &quot;status_message&quot;)\npublic String getTPAStatusMessage() {\n    return TPAStatusMessage;\n}\n\npublic void setTPAStatusMessage(String TPAStatusMessage) {\n    this.TPAStatusMessage = TPAStatusMessage;\n}\n}\n</code></pre>\n<p>Custom EnumUserType:</p>\n<pre><code>public class PGEnumUserType implements UserType, ParameterizedType {\n\nprivate Class&lt;Enum&gt; enumClass;\n\npublic PGEnumUserType(){\n    super();\n}\n\npublic void setParameterValues(Properties parameters) {\n    String enumClassName = parameters.getProperty(&quot;enumClassName&quot;);\n    try {\n        enumClass = (Class&lt;Enum&gt;) Class.forName(enumClassName);\n    } catch (ClassNotFoundException e) {\n        throw new HibernateException(&quot;Enum class not found &quot;, e);\n    }\n\n}\n\npublic int[] sqlTypes() {\n    return new int[] {Types.VARCHAR};\n}\n\npublic Class returnedClass() {\n    return enumClass;\n}\n\npublic boolean equals(Object x, Object y) throws HibernateException {\n    return x==y;\n}\n\npublic int hashCode(Object x) throws HibernateException {\n    return x.hashCode();\n}\n\npublic Object nullSafeGet(ResultSet rs, String[] names, Object owner) throws HibernateException, SQLException {\n    String name = rs.getString(names[0]);\n    return rs.wasNull() ? null: Enum.valueOf(enumClass,name);\n}\n\npublic void nullSafeSet(PreparedStatement st, Object value, int index) throws HibernateException, SQLException {\n    if (value == null) {\n        st.setNull(index, Types.VARCHAR);\n    }\n    else {\n        st.setString(index,((Enum) value).name());\n    }\n}\n\npublic Object deepCopy(Object value) throws HibernateException {\n    return value;\n}\n\npublic boolean isMutable() {\n    return false;  //To change body of implemented methods use File | Settings | File Templates.\n}\n\npublic Serializable disassemble(Object value) throws HibernateException {\n    return (Enum) value;\n}\n\npublic Object assemble(Serializable cached, Object owner) throws HibernateException {\n    return cached;\n}\n\npublic Object replace(Object original, Object target, Object owner) throws HibernateException {\n    return original;\n}\n\npublic Object fromXMLString(String xmlValue) {\n    return Enum.valueOf(enumClass, xmlValue);\n}\n\npublic String objectToSQLString(Object value) {\n    return '\\'' + ( (Enum) value ).name() + '\\'';\n}\n\npublic String toXMLString(Object value) {\n    return ( (Enum) value ).name();\n}\n}\n</code></pre>\n<p>Enum class:</p>\n<pre><code>public enum TransmissionStatusType {\naccepted,\nrejected,\nduplicate,\nexception,\nretry}\n</code></pre>\n"},{"tags":["java","sql","jpa"],"comments":[{"owner":{"account_id":209503,"reputation":22800,"user_id":460557,"accept_rate":100,"display_name":"Jorge Campos"},"score":0,"creation_date":1687811576,"post_id":76560007,"comment_id":134986207,"body_markdown":"Please add on your question the relevant bits of the code. Your enum and your JPA query code. Aside that the issue is likely that you are forcing a &quot;native&quot; like query into a JPA one. When you use `&quot;FROM Article a WHERE gender=&#39;M&#39;&quot;` you are not writing a query exactly you are writing something that will be converted into a query given that it matches with the entity. So it should be something like `FROM Article a WHERE a.gender=GenderEnumName.M` (or something along these lines)","body":"Please add on your question the relevant bits of the code. Your enum and your JPA query code. Aside that the issue is likely that you are forcing a &quot;native&quot; like query into a JPA one. When you use <code>&quot;FROM Article a WHERE gender=&#39;M&#39;&quot;</code> you are not writing a query exactly you are writing something that will be converted into a query given that it matches with the entity. So it should be something like <code>FROM Article a WHERE a.gender=GenderEnumName.M</code> (or something along these lines)"}],"owner":{"account_id":3688757,"reputation":3,"user_id":16259155,"display_name":"reetscav"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687894800,"creation_date":1687810823,"question_id":76560007,"body_markdown":"In my LanguageTrainer application I have got an Entity class (&quot;Article&quot;) using an Enum (&quot;Gender&quot;) as an attribute &quot;gender&quot; (it represents the gender of the article, so it&#39;s only M for male, F for female and so on) which I map to a char(1) column (&quot;gender&quot;) in my PostgreSQL database table &quot;article&quot; with an Attribute Converter. If I select the whole dataset with the JPA TypedQuery (&quot;FROM Article a&quot;, Article.class) everything is fine, the mapping works. But how do I put the gender into a WHERE clause? (The likes of &quot;FROM Article a WHERE gender=&#39;M&#39;&quot;) Please enlighten me! When I put the character into single quotes, it tells me &quot;AttributeConverter domain-model attribute type [home_jsp.model.Gender] and JDBC type [java.lang.Character] did not match query literal type [java.lang.String]&quot;, without quotes it&#39;s &quot;Could not extract result set&quot;/&quot;Column &lt;char&gt; does not exist&quot; and with double quotes, of course, &quot;Unexpected character&quot;\r\n\r\nJPA TypedQuery with which I would like to query my Database (this.em is the EntityManager):\r\n\r\n    List&lt;Article&gt; articles = this.em.createQuery(&quot;FROM &quot; + Article.class.getSimpleName() + &quot; a WHERE gender=&#39;&quot; + Gender.FEMALE.getCode() + &quot;&#39;&quot;, Article.class).getResultList();\r\n\r\nEnum Gender:\r\n\r\n    public enum Gender {\r\n\tMALE(&#39;M&#39;), \r\n\tFEMALE(&#39;F&#39;), \r\n\tNEUTER(&#39;N&#39;), \r\n\tUNDEFINED(&#39;U&#39;);\r\n\t\r\n\tprivate final char code;\r\n\t\r\n\tprivate Gender(char code) {\r\n\t\tthis.code = code;\r\n\t}\r\n\t\r\n\tpublic static Gender fromCode(char code) {\r\n\t\tif (code == &#39;M&#39;) {\r\n\t\t\treturn MALE;\r\n\t\t} else if (code == &#39;F&#39;) {\r\n\t\t\treturn FEMALE;\r\n\t\t} else if (code == &#39;N&#39;) {\r\n\t\t\treturn NEUTER;\r\n\t\t} else if (code == &#39;U&#39;) {\r\n\t\t\treturn UNDEFINED;\r\n\t\t} else {\r\n\t\t\tthrow new IllegalArgumentException();\r\n\t\t}\r\n\t}\r\n\t\r\n\tpublic char getCode() {\r\n\t\treturn code;\r\n\t}\r\n    }\r\n\r\nAttributeConverter\r\n\r\n   \r\n\r\n     @Converter\r\n    public class GenderConverter implements AttributeConverter&lt;Gender, Character&gt; {\r\n\r\n\t@Override\r\n\tpublic Character convertToDatabaseColumn(Gender gender) {\r\n\t\tif (gender == null) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t\treturn gender.getCode();\r\n\t}\r\n\r\n\t@Override\r\n\tpublic Gender convertToEntityAttribute(Character character) {\r\n\t\tif (character == null) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t\treturn Gender.fromCode(character);\r\n\t}\r\n    }\r\n\r\nArticle class:\r\n\r\n    @Entity\r\n    @Table(name=&quot;\\&quot;article\\&quot;&quot;)\r\n    @NamedQuery(name=&quot;Article.findAll&quot;, query=&quot;SELECT a FROM Article a&quot;)\r\n    public class Article implements Serializable {\r\n\r\n\t/**\r\n\t * \r\n\t */\r\n\tprivate static final long serialVersionUID = -4674267116608531826L;\r\n\t\r\n\t@Id\r\n\t@GeneratedValue(strategy = GenerationType.IDENTITY)\r\n\tprivate long id;\r\n\t\r\n\t//...other attributes\r\n\t\r\n\tprivate String article;\r\n\t\r\n\t@Convert(converter = home_jsp.model.GenderConverter.class)\r\n\tprivate Gender gender;\r\n    //... getter and setter\r\n    }\r\n\r\n ","title":"JPA: How to select by char type column (AttributeConversion included)?","body":"<p>In my LanguageTrainer application I have got an Entity class (&quot;Article&quot;) using an Enum (&quot;Gender&quot;) as an attribute &quot;gender&quot; (it represents the gender of the article, so it's only M for male, F for female and so on) which I map to a char(1) column (&quot;gender&quot;) in my PostgreSQL database table &quot;article&quot; with an Attribute Converter. If I select the whole dataset with the JPA TypedQuery (&quot;FROM Article a&quot;, Article.class) everything is fine, the mapping works. But how do I put the gender into a WHERE clause? (The likes of &quot;FROM Article a WHERE gender='M'&quot;) Please enlighten me! When I put the character into single quotes, it tells me &quot;AttributeConverter domain-model attribute type [home_jsp.model.Gender] and JDBC type [java.lang.Character] did not match query literal type [java.lang.String]&quot;, without quotes it's &quot;Could not extract result set&quot;/&quot;Column  does not exist&quot; and with double quotes, of course, &quot;Unexpected character&quot;</p>\n<p>JPA TypedQuery with which I would like to query my Database (this.em is the EntityManager):</p>\n<pre><code>List&lt;Article&gt; articles = this.em.createQuery(&quot;FROM &quot; + Article.class.getSimpleName() + &quot; a WHERE gender='&quot; + Gender.FEMALE.getCode() + &quot;'&quot;, Article.class).getResultList();\n</code></pre>\n<p>Enum Gender:</p>\n<pre><code>public enum Gender {\nMALE('M'), \nFEMALE('F'), \nNEUTER('N'), \nUNDEFINED('U');\n\nprivate final char code;\n\nprivate Gender(char code) {\n    this.code = code;\n}\n\npublic static Gender fromCode(char code) {\n    if (code == 'M') {\n        return MALE;\n    } else if (code == 'F') {\n        return FEMALE;\n    } else if (code == 'N') {\n        return NEUTER;\n    } else if (code == 'U') {\n        return UNDEFINED;\n    } else {\n        throw new IllegalArgumentException();\n    }\n}\n\npublic char getCode() {\n    return code;\n}\n}\n</code></pre>\n<p>AttributeConverter</p>\n<pre><code> @Converter\npublic class GenderConverter implements AttributeConverter&lt;Gender, Character&gt; {\n\n@Override\npublic Character convertToDatabaseColumn(Gender gender) {\n    if (gender == null) {\n        return null;\n    }\n    return gender.getCode();\n}\n\n@Override\npublic Gender convertToEntityAttribute(Character character) {\n    if (character == null) {\n        return null;\n    }\n    return Gender.fromCode(character);\n}\n}\n</code></pre>\n<p>Article class:</p>\n<pre><code>@Entity\n@Table(name=&quot;\\&quot;article\\&quot;&quot;)\n@NamedQuery(name=&quot;Article.findAll&quot;, query=&quot;SELECT a FROM Article a&quot;)\npublic class Article implements Serializable {\n\n/**\n * \n */\nprivate static final long serialVersionUID = -4674267116608531826L;\n\n@Id\n@GeneratedValue(strategy = GenerationType.IDENTITY)\nprivate long id;\n\n//...other attributes\n\nprivate String article;\n\n@Convert(converter = home_jsp.model.GenderConverter.class)\nprivate Gender gender;\n//... getter and setter\n}\n</code></pre>\n"},{"tags":["java","postgresql","jdbc"],"comments":[{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1687885010,"post_id":76566531,"comment_id":134998476,"body_markdown":"The [documentation](https://jdbc.postgresql.org/documentation/) states: _&quot;The current version of the driver should be compatible with PostgreSQL&#174; 8.2 and higher using the version 3.0 of the PostgreSQL&#174; protocol, and it’s compatible with Java 8 (JDBC 4.2) and above.&quot;_. Do you have any particular concerns or problems? Or are you just second guessing this blanket statement?","body":"The <a href=\"https://jdbc.postgresql.org/documentation/\" rel=\"nofollow noreferrer\">documentation</a> states: <i>&quot;The current version of the driver should be compatible with PostgreSQL&#174; 8.2 and higher using the version 3.0 of the PostgreSQL&#174; protocol, and it’s compatible with Java 8 (JDBC 4.2) and above.&quot;</i>. Do you have any particular concerns or problems? Or are you just second guessing this blanket statement?"},{"owner":{"account_id":9416033,"reputation":81,"user_id":7003746,"display_name":"Andres Benavides"},"score":0,"creation_date":1687885496,"post_id":76566531,"comment_id":134998596,"body_markdown":"I have not the current version of the driver I am using a specific version 42.2.25, I would like know if I can mantein this driver version an use the last version of postgresql 15.3","body":"I have not the current version of the driver I am using a specific version 42.2.25, I would like know if I can mantein this driver version an use the last version of postgresql 15.3"},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1687939138,"post_id":76566531,"comment_id":135005400,"body_markdown":"The beauty of versioning your connection protocol like PostgreSQL does, is that generally if there are new or breaking things, there would be a new protocol version, and a previous protocol version - assuming it&#39;s still supported - will work just fine (but just won&#39;t have access to the new thing that required a new protocol version). And if the old protocol version is no longer supported, you get an error informing you of that.","body":"The beauty of versioning your connection protocol like PostgreSQL does, is that generally if there are new or breaking things, there would be a new protocol version, and a previous protocol version - assuming it&#39;s still supported - will work just fine (but just won&#39;t have access to the new thing that required a new protocol version). And if the old protocol version is no longer supported, you get an error informing you of that."}],"answers":[{"tags":[],"owner":{"account_id":8633322,"reputation":218443,"user_id":6464308,"display_name":"Laurenz Albe"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1687894772,"creation_date":1687894772,"answer_id":76568113,"question_id":76566531,"body_markdown":"There is no official statement which JDBC driver version works with which PostgreSQL server version. The rule of thumb is that you should always use a driver version that was released *after* the server version. New drivers know how to speak to an old server, but not vice versa.\r\n\r\nSince you want to support the latest released version, you should use the latest driver (42.6.0 at the time of writing). 4.2.25 is comparatively old. You can try it, but you risk running into bugs, and if you do, the first thing we&#39;ll tell you is that you should upgrade. So you may as well upgrade right away.","title":"PostgreSQL JDBC Driver &#187; 42.2.25 is compatible with postgresql 15.3 DB?","body":"<p>There is no official statement which JDBC driver version works with which PostgreSQL server version. The rule of thumb is that you should always use a driver version that was released <em>after</em> the server version. New drivers know how to speak to an old server, but not vice versa.</p>\n<p>Since you want to support the latest released version, you should use the latest driver (42.6.0 at the time of writing). 4.2.25 is comparatively old. You can try it, but you risk running into bugs, and if you do, the first thing we'll tell you is that you should upgrade. So you may as well upgrade right away.</p>\n"}],"owner":{"account_id":9416033,"reputation":81,"user_id":7003746,"display_name":"Andres Benavides"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1028,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76568113,"answer_count":1,"score":1,"last_activity_date":1687894772,"creation_date":1687880367,"question_id":76566531,"body_markdown":"Nowadays I am using the version 42.2.25 of postgresql jdbc driver and I would like to know if is compatible with the postgresql version 15.3","title":"PostgreSQL JDBC Driver &#187; 42.2.25 is compatible with postgresql 15.3 DB?","body":"<p>Nowadays I am using the version 42.2.25 of postgresql jdbc driver and I would like to know if is compatible with the postgresql version 15.3</p>\n"},{"tags":["java","html","jsp","jersey"],"comments":[{"owner":{"account_id":208830,"reputation":10240,"user_id":459557,"display_name":"vanje"},"score":0,"creation_date":1485466049,"post_id":41881554,"comment_id":70948897,"body_markdown":"Hm, I cannot believe that you don&#39;t have any idea how to persist some configuration values. You say the options should be persisted to disk. Then write a file in custom format or write a properties file or write it to a database. &quot;Best strategy&quot; depends on your needs and is primarily opinion-based. If you already use a database then why not use it for the options, too?","body":"Hm, I cannot believe that you don&#39;t have any idea how to persist some configuration values. You say the options should be persisted to disk. Then write a file in custom format or write a properties file or write it to a database. &quot;Best strategy&quot; depends on your needs and is primarily opinion-based. If you already use a database then why not use it for the options, too?"},{"owner":{"account_id":221733,"reputation":36369,"user_id":479886,"accept_rate":61,"display_name":"NullPointerException"},"score":0,"creation_date":1485468695,"post_id":41881554,"comment_id":70950206,"body_markdown":"instead of telling that you can&#39;t believe me, why not to propose your best approach in an answer?","body":"instead of telling that you can&#39;t believe me, why not to propose your best approach in an answer?"},{"owner":{"account_id":208830,"reputation":10240,"user_id":459557,"display_name":"vanje"},"score":1,"creation_date":1485510608,"post_id":41881554,"comment_id":70964123,"body_markdown":"Because you are the only one who is able to decide what&#39;s best for your project. I don&#39;t know your requirements and general conditions. You have several alternatives, now it is up to you to balance pros and cons.","body":"Because you are the only one who is able to decide what&#39;s best for your project. I don&#39;t know your requirements and general conditions. You have several alternatives, now it is up to you to balance pros and cons."},{"owner":{"account_id":1434762,"reputation":22772,"user_id":1356423,"accept_rate":65,"display_name":"Alan Hay"},"score":0,"creation_date":1485540066,"post_id":41881554,"comment_id":70982755,"body_markdown":"Has someone hacked your account NPE?","body":"Has someone hacked your account NPE?"}],"answers":[{"tags":[],"owner":{"account_id":5063002,"reputation":604,"user_id":4063956,"accept_rate":45,"display_name":"Sheraz Ahmed"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1485489105,"creation_date":1485489105,"answer_id":41886702,"question_id":41881554,"body_markdown":"I think the best practice would be to keep all the conf variables in a database and set a cookie on client side if that data needs to be processed. Once operations are performed update the values on server on session end or after a certain time or data volume or at the end when all processing operations are complete.  This way you&#39;ll achieve performance, store information on something besides ram while using the RAM for shorter transaction operations ","title":"Best strategy to persist configuration variables of a JSP web aplication?","body":"<p>I think the best practice would be to keep all the conf variables in a database and set a cookie on client side if that data needs to be processed. Once operations are performed update the values on server on session end or after a certain time or data volume or at the end when all processing operations are complete.  This way you'll achieve performance, store information on something besides ram while using the RAM for shorter transaction operations </p>\n"}],"owner":{"account_id":221733,"reputation":36369,"user_id":479886,"accept_rate":61,"display_name":"NullPointerException"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":112,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1687894091,"creation_date":1485459429,"question_id":41881554,"body_markdown":"I&#39;m implementing a web application using Java (jsp). Now I&#39;m adding some configuration buttons into the application, and I need to know which is the best strategy to persist them. \r\n\r\nFor example, I need to add a switch which will tell if each 10 jobs with errors the main worker must be stopped. It is a boolean variable called &quot;safeStop&quot;. For that I need to persist if that config value is activated. This persistent value must be there even if the server is reset so it is not enough to persist it on RAM, it mus be persisted on disk.\r\n\r\nThis application will process thousands of works at day, so I need a safe and efficient way of persisting configuration.\r\n\r\nI can&#39;t find any coherent info about different strategies of doing this and which is the best option.\r\n","title":"Best strategy to persist configuration variables of a JSP web aplication?","body":"<p>I'm implementing a web application using Java (jsp). Now I'm adding some configuration buttons into the application, and I need to know which is the best strategy to persist them.</p>\n<p>For example, I need to add a switch which will tell if each 10 jobs with errors the main worker must be stopped. It is a boolean variable called &quot;safeStop&quot;. For that I need to persist if that config value is activated. This persistent value must be there even if the server is reset so it is not enough to persist it on RAM, it mus be persisted on disk.</p>\n<p>This application will process thousands of works at day, so I need a safe and efficient way of persisting configuration.</p>\n<p>I can't find any coherent info about different strategies of doing this and which is the best option.</p>\n"},{"tags":["java","xml"],"comments":[{"owner":{"account_id":9760,"reputation":85860,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":1,"creation_date":1687825945,"post_id":76560072,"comment_id":134987785,"body_markdown":"The logic is incorrect. You are not handling end events for groups at all, and a user has multiple groups.  It would help if you showed the output expected for the given input.  Note also that you may get multiple &quot;characters&quot; events for any given tag, and have to accumulate them; and also deal with non-significant whitespace.  You&#39;re probably picking up some whitespace from one of the tags after the last group.","body":"The logic is incorrect. You are not handling end events for groups at all, and a user has multiple groups.  It would help if you showed the output expected for the given input.  Note also that you may get multiple &quot;characters&quot; events for any given tag, and have to accumulate them; and also deal with non-significant whitespace.  You&#39;re probably picking up some whitespace from one of the tags after the last group."}],"answers":[{"tags":[],"owner":{"account_id":20338,"reputation":63801,"user_id":48503,"accept_rate":100,"display_name":"Luke Woodward"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687893927,"creation_date":1687893927,"answer_id":76568016,"question_id":76560072,"body_markdown":"You are not getting a null value for the groups output. You are getting a whitespace-only value instead.\r\n\r\nI modified your code to put a `&#39;` character on either side of the group name in the output, and it gave me this output:\r\n```lang-none\r\nID: 1900004323564\r\nUser Name: RODRIGO BARCAT\r\nGroup Name: &#39;\r\n&#39;\r\n-----------------------------\r\n```\r\n\r\nYour code sets `groupName` to the last element of character data encountered while `insideGroup` is true. This is from an opening `&lt;group&gt;` tag to a closing `&lt;/user&gt;` tag. This includes whitespace-only character data which occurs between tags. In this case, we get a single newline, because this is the whitespace between the empty `&lt;phone/&gt;` tag and the closing `&lt;/user&gt;` tag.\r\n\r\nHowever you are not interested in any old piece of text within the `group` element. What you are looking for is the text content of the `name` element. To do this you will need to keep track of whether you are inside this element as well as whether you are inside the `user` and `group` elements\r\n\r\nYou will need to:\r\n\r\n* Add a local variable that keeps track of whether you are inside a `name` element within a `group` element:\r\n  ```lang-java\r\n              boolean insideGroupName = false;\r\n  ```\r\n  Add this alongside the other `insideXYZ` boolean variables.\r\n\r\n* Add some handling for a `name` element within a `group` element, to set this variable to `true` in this situation:\r\n  ```lang-java\r\n                      } else if (elementName.equals(&quot;name&quot;) &amp;&amp; insideGroup) {\r\n                          insideGroupName = true;\r\n  ```\r\n  Add this to the `if`-`else if` block that handles the start of an element.\r\n\r\n* Change the handling of a characters event to only read a value into `groupName` if the new `insideGroupName` variable is true:\r\n  ```lang-java\r\n                      if (insideGroupName) {\r\n                          // Ler o nome do grupo\r\n                          groupName = reader.getText();\r\n                      }\r\n  ```\r\n\r\n* Ensure that you set `insideGroupName`, and also `insideGroup`, back to `false` when the end of the relevant elements is reached:\r\n  ```lang-java\r\n                      if (elementName.equals(&quot;name&quot;)) {\r\n                          insideGroupName = false;\r\n                      } else if (elementName.equals(&quot;group&quot;)) {\r\n                          insideGroup = false;\r\n                      }\r\n  ```\r\n  Add this to the block that handles the end of an element.\r\n\r\nI made these changes to your code, and it then gave me the following output:\r\n\r\n```lang-none\r\nID: 1900004323564\r\nUser Name: RODRIGO BARCAT\r\nGroup Name: Grupo 5\r\n-----------------------------\r\n```\r\n\r\nThis gives us a group name in the output. However, I note from the top of your question (emphasis mine) that:\r\n\r\n&gt; I&#39;m creating a class to display data from an XML, and I need to show the data of the users along with the **groups** they belong to.\r\n\r\nSo far, all we&#39;ve got is the last group name. It seems you want all of the group names.\r\n\r\nThe problem here is that there are multiple groups in your sample XML file, and every time we find a new group name, we overwrite any previous value we might have stored. To fix this, we shall use a `List&lt;String&gt;` to contain multiple group names, instead of using a single `String` value to store a single group name.\r\n\r\nReplace the line\r\n```lang-java\r\n            String groupName = &quot;&quot;;\r\n```\r\nwith \r\n```lang-java\r\n            List&lt;String&gt; groupNames = new ArrayList&lt;&gt;();\r\n```\r\nYou then need to replace the various uses of `groupName` with a suitable use of `groupNames`:\r\n\r\n* When reading character data within a group-name element: replace\r\n  ```lang-java\r\n                          groupName = reader.getText();\r\n  ```\r\n  with\r\n  ```lang-java\r\n                          groupNames.add(reader.getText());\r\n  ```\r\n* When displaying the user data read: replace\r\n  ```lang-java\r\n                          System.out.println(&quot;Group Name: &quot; + groupName);\r\n  ```\r\n  with\r\n  ```lang-java\r\n                          System.out.println(&quot;Group Names: &quot; + groupNames);\r\n  ```\r\n* When resetting the variables after displaying the user details, to prepare for another user in the file: replace\r\n  ```lang-java\r\n                          groupName = &quot;&quot;;\r\n  ```\r\n  with\r\n  ```lang-java\r\n                          groupNames.clear();\r\n  ```\r\n\r\nI made these changes to your code and it generated the following output:\r\n```lang-none\r\nID: 1900004323564\r\nUser Name: RODRIGO BARCAT\r\nGroup Names: [Grupo 1, Grupo 2, Grupo 3, Grupo 4, Grupo 5]\r\n-----------------------------\r\n```\r\nHopefully this is what you are looking for.","title":"Java class reading and writing the &lt;Group&gt; and &lt;Groups&gt; elements from an XML and always show null value","body":"<p>You are not getting a null value for the groups output. You are getting a whitespace-only value instead.</p>\n<p>I modified your code to put a <code>'</code> character on either side of the group name in the output, and it gave me this output:</p>\n<pre class=\"lang-none prettyprint-override\"><code>ID: 1900004323564\nUser Name: RODRIGO BARCAT\nGroup Name: '\n'\n-----------------------------\n</code></pre>\n<p>Your code sets <code>groupName</code> to the last element of character data encountered while <code>insideGroup</code> is true. This is from an opening <code>&lt;group&gt;</code> tag to a closing <code>&lt;/user&gt;</code> tag. This includes whitespace-only character data which occurs between tags. In this case, we get a single newline, because this is the whitespace between the empty <code>&lt;phone/&gt;</code> tag and the closing <code>&lt;/user&gt;</code> tag.</p>\n<p>However you are not interested in any old piece of text within the <code>group</code> element. What you are looking for is the text content of the <code>name</code> element. To do this you will need to keep track of whether you are inside this element as well as whether you are inside the <code>user</code> and <code>group</code> elements</p>\n<p>You will need to:</p>\n<ul>\n<li><p>Add a local variable that keeps track of whether you are inside a <code>name</code> element within a <code>group</code> element:</p>\n<pre class=\"lang-java prettyprint-override\"><code>            boolean insideGroupName = false;\n</code></pre>\n<p>Add this alongside the other <code>insideXYZ</code> boolean variables.</p>\n</li>\n<li><p>Add some handling for a <code>name</code> element within a <code>group</code> element, to set this variable to <code>true</code> in this situation:</p>\n<pre class=\"lang-java prettyprint-override\"><code>                    } else if (elementName.equals(&quot;name&quot;) &amp;&amp; insideGroup) {\n                        insideGroupName = true;\n</code></pre>\n<p>Add this to the <code>if</code>-<code>else if</code> block that handles the start of an element.</p>\n</li>\n<li><p>Change the handling of a characters event to only read a value into <code>groupName</code> if the new <code>insideGroupName</code> variable is true:</p>\n<pre class=\"lang-java prettyprint-override\"><code>                    if (insideGroupName) {\n                        // Ler o nome do grupo\n                        groupName = reader.getText();\n                    }\n</code></pre>\n</li>\n<li><p>Ensure that you set <code>insideGroupName</code>, and also <code>insideGroup</code>, back to <code>false</code> when the end of the relevant elements is reached:</p>\n<pre class=\"lang-java prettyprint-override\"><code>                    if (elementName.equals(&quot;name&quot;)) {\n                        insideGroupName = false;\n                    } else if (elementName.equals(&quot;group&quot;)) {\n                        insideGroup = false;\n                    }\n</code></pre>\n<p>Add this to the block that handles the end of an element.</p>\n</li>\n</ul>\n<p>I made these changes to your code, and it then gave me the following output:</p>\n<pre class=\"lang-none prettyprint-override\"><code>ID: 1900004323564\nUser Name: RODRIGO BARCAT\nGroup Name: Grupo 5\n-----------------------------\n</code></pre>\n<p>This gives us a group name in the output. However, I note from the top of your question (emphasis mine) that:</p>\n<blockquote>\n<p>I'm creating a class to display data from an XML, and I need to show the data of the users along with the <strong>groups</strong> they belong to.</p>\n</blockquote>\n<p>So far, all we've got is the last group name. It seems you want all of the group names.</p>\n<p>The problem here is that there are multiple groups in your sample XML file, and every time we find a new group name, we overwrite any previous value we might have stored. To fix this, we shall use a <code>List&lt;String&gt;</code> to contain multiple group names, instead of using a single <code>String</code> value to store a single group name.</p>\n<p>Replace the line</p>\n<pre class=\"lang-java prettyprint-override\"><code>            String groupName = &quot;&quot;;\n</code></pre>\n<p>with</p>\n<pre class=\"lang-java prettyprint-override\"><code>            List&lt;String&gt; groupNames = new ArrayList&lt;&gt;();\n</code></pre>\n<p>You then need to replace the various uses of <code>groupName</code> with a suitable use of <code>groupNames</code>:</p>\n<ul>\n<li>When reading character data within a group-name element: replace\n<pre class=\"lang-java prettyprint-override\"><code>                        groupName = reader.getText();\n</code></pre>\nwith\n<pre class=\"lang-java prettyprint-override\"><code>                        groupNames.add(reader.getText());\n</code></pre>\n</li>\n<li>When displaying the user data read: replace\n<pre class=\"lang-java prettyprint-override\"><code>                        System.out.println(&quot;Group Name: &quot; + groupName);\n</code></pre>\nwith\n<pre class=\"lang-java prettyprint-override\"><code>                        System.out.println(&quot;Group Names: &quot; + groupNames);\n</code></pre>\n</li>\n<li>When resetting the variables after displaying the user details, to prepare for another user in the file: replace\n<pre class=\"lang-java prettyprint-override\"><code>                        groupName = &quot;&quot;;\n</code></pre>\nwith\n<pre class=\"lang-java prettyprint-override\"><code>                        groupNames.clear();\n</code></pre>\n</li>\n</ul>\n<p>I made these changes to your code and it generated the following output:</p>\n<pre class=\"lang-none prettyprint-override\"><code>ID: 1900004323564\nUser Name: RODRIGO BARCAT\nGroup Names: [Grupo 1, Grupo 2, Grupo 3, Grupo 4, Grupo 5]\n-----------------------------\n</code></pre>\n<p>Hopefully this is what you are looking for.</p>\n"}],"owner":{"account_id":5751140,"reputation":163,"user_id":4540787,"accept_rate":56,"display_name":"Barcat"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1687893927,"creation_date":1687811512,"question_id":76560072,"body_markdown":"&gt; I&#39;m creating a class to display data from an XML, and I need to show the data of the users along with the groups they belong to.\r\n\r\nHere&#39;s the output I&#39;m getting:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nThe XML I&#39;m reading has the following structure, I&#39;m trying to iterate over the Name elements that are inside Groups &gt; Group.\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n     &lt;users report_date=&quot;20230620&quot;&gt;\r\n     &lt;user&gt;\r\n     &lt;id type=&quot;integer&quot;&gt;123456&lt;/id&gt;\r\n     &lt;is-active type=&quot;boolean&quot;&gt;true&lt;/is-active&gt;\r\n     &lt;roles type=&quot;integer&quot;&gt;2&lt;/roles&gt;\r\n     &lt;name&gt;RODRIGO BARCAT&lt;/name&gt;\r\n     &lt;time-zone&gt;America/Sao_Paulo&lt;/time-zone&gt;\r\n     &lt;updated-at type=&quot;dateTime&quot;&gt;2023-06-15T11:18:54-03:00&lt;/updated-at&gt;\r\n     &lt;created-at type=&quot;dateTime&quot;&gt;2021-10-19T10:37:42-03:00&lt;/created-at&gt;\r\n     &lt;external-id nil=&quot;true&quot;/&gt;\r\n     &lt;details&gt;&lt;/details&gt;\r\n     &lt;openid-url nil=&quot;true&quot;/&gt;\r\n     &lt;organization-id type=&quot;integer&quot;&gt;123456789&lt;/organization-id&gt;\r\n     &lt;notes&gt;&lt;/notes&gt;\r\n     &lt;restriction-id type=&quot;integer&quot;&gt;0&lt;/restriction-id&gt;\r\n     &lt;locale-id type=&quot;integer&quot;&gt;19&lt;/locale-id&gt;\r\n     &lt;last-login type=&quot;dateTime&quot;&gt;2023-06-15T11:18:39-03:00&lt;/last-login&gt;\r\n     &lt;current-tags&gt;TEST&lt;/current-tags&gt;\r\n     &lt;email&gt;rodrigo@test.com&lt;/email&gt;\r\n     &lt;is-verified type=&quot;boolean&quot;&gt;true&lt;/is-verified&gt;\r\n     &lt;custom-role-id type=&quot;integer&quot;&gt;1260812330129&lt;/custom-role-id&gt;\r\n     &lt;groups type=&quot;array&quot;&gt;\r\n      &lt;group&gt;\r\n      &lt;id type=&quot;integer&quot;&gt;1900004323624&lt;/id&gt;\r\n      &lt;is-active type=&quot;boolean&quot;&gt;true&lt;/is-active&gt;\r\n      &lt;name&gt;Grupo 1&lt;/name&gt;\r\n      &lt;updated-at type=&quot;dateTime&quot;&gt;2021-11-03T11:20:24-03:00&lt;/updated-at&gt;\r\n      &lt;created-at type=&quot;dateTime&quot;&gt;2021-11-03T11:20:24-03:00&lt;/created-at&gt;\r\n      &lt;description&gt;&lt;/description&gt;\r\n      &lt;is-public type=&quot;boolean&quot;&gt;true&lt;/is-public&gt;\r\n    &lt;/group&gt;\r\n    &lt;group&gt;\r\n      &lt;id type=&quot;integer&quot;&gt;5845531840667&lt;/id&gt;\r\n      &lt;is-active type=&quot;boolean&quot;&gt;true&lt;/is-active&gt;\r\n      &lt;name&gt;Grupo 2&lt;/name&gt;\r\n      &lt;updated-at type=&quot;dateTime&quot;&gt;2022-05-20T15:43:09-03:00&lt;/updated-at&gt;\r\n      &lt;created-at type=&quot;dateTime&quot;&gt;2022-05-09T12:37:24-03:00&lt;/created-at&gt;\r\n      &lt;description&gt;&lt;/description&gt;\r\n      &lt;is-public type=&quot;boolean&quot;&gt;true&lt;/is-public&gt;\r\n    &lt;/group&gt;\r\n    &lt;group&gt;\r\n      &lt;id type=&quot;integer&quot;&gt;1260814988809&lt;/id&gt;\r\n      &lt;is-active type=&quot;boolean&quot;&gt;true&lt;/is-active&gt;\r\n      &lt;name&gt;Grupo 3&lt;/name&gt;\r\n      &lt;updated-at type=&quot;dateTime&quot;&gt;2021-11-03T11:20:41-03:00&lt;/updated-at&gt;\r\n      &lt;created-at type=&quot;dateTime&quot;&gt;2021-11-03T11:20:41-03:00&lt;/created-at&gt;\r\n      &lt;description&gt;&lt;/description&gt;\r\n      &lt;is-public type=&quot;boolean&quot;&gt;true&lt;/is-public&gt;\r\n    &lt;/group&gt;\r\n    &lt;group&gt;\r\n      &lt;id type=&quot;integer&quot;&gt;6088614508699&lt;/id&gt;\r\n      &lt;is-active type=&quot;boolean&quot;&gt;true&lt;/is-active&gt;\r\n      &lt;name&gt;Grupo 4&lt;/name&gt;\r\n      &lt;updated-at type=&quot;dateTime&quot;&gt;2022-05-20T15:05:38-03:00&lt;/updated-at&gt;\r\n      &lt;created-at type=&quot;dateTime&quot;&gt;2022-05-20T15:05:38-03:00&lt;/created-at&gt;\r\n      &lt;description&gt;&lt;/description&gt;\r\n      &lt;is-public type=&quot;boolean&quot;&gt;true&lt;/is-public&gt;\r\n    &lt;/group&gt;\r\n    &lt;group&gt;\r\n      &lt;id type=&quot;integer&quot;&gt;1900004323564&lt;/id&gt;\r\n      &lt;is-active type=&quot;boolean&quot;&gt;true&lt;/is-active&gt;\r\n      &lt;name&gt;Grupo 5&lt;/name&gt;\r\n      &lt;updated-at type=&quot;dateTime&quot;&gt;2021-11-03T11:19:46-03:00&lt;/updated-at&gt;\r\n      &lt;created-at type=&quot;dateTime&quot;&gt;2021-11-03T11:19:46-03:00&lt;/created-at&gt;\r\n      &lt;description&gt;&lt;/description&gt;\r\n      &lt;is-public type=&quot;boolean&quot;&gt;true&lt;/is-public&gt;\r\n    &lt;/group&gt;\r\n    &lt;/groups&gt;\r\n    &lt;photo-url&gt;&lt;/photo-url&gt;\r\n    &lt;uses-12-hour-clock&gt;false&lt;/uses-12-hour-clock&gt;\r\n    &lt;phone/&gt;\r\n    &lt;/user&gt;\r\n    &lt;/users&gt;\r\n\r\nAnd my code is as follows.\r\n\r\n    package com.zendesk2helix.maven.zendesk2helix_jar;\r\n\r\n    import java.io.FileInputStream;\r\n    import javax.xml.stream.XMLInputFactory;\r\n    import javax.xml.stream.XMLStreamConstants;\r\n    import javax.xml.stream.XMLStreamReader;\r\n\r\n    public class Usuarios {\r\n        public static void main(String[] args) {\r\n        String xmlFilePath = &quot;/home/barcat/users.xml&quot;;\r\n\r\n        try {\r\n            // Criar um XMLInputFactory\r\n            XMLInputFactory factory = XMLInputFactory.newInstance();\r\n\r\n            // Criar um XMLStreamReader para o arquivo XML\r\n            XMLStreamReader reader = factory.createXMLStreamReader(new FileInputStream(xmlFilePath));\r\n\r\n            // Vari&#225;veis para armazenar os elementos desejados\r\n            String id = &quot;&quot;;\r\n            String userName = &quot;&quot;;\r\n            String groupName = &quot;&quot;;\r\n\r\n            // Flags para controlar em qual n&#237;vel estamos\r\n            boolean insideUser = false;\r\n            boolean insideGroup = false;\r\n\r\n            // Loop para ler os elementos do XML\r\n            while (reader.hasNext()) {\r\n                int eventType = reader.next();\r\n\r\n                if (eventType == XMLStreamConstants.START_ELEMENT) {\r\n                    String elementName = reader.getLocalName();\r\n\r\n                    // Verificar o nome do elemento\r\n                    if (elementName.equals(&quot;user&quot;)) {\r\n                        // Entrar no elemento User\r\n                        insideUser = true;\r\n                    } else if (elementName.equals(&quot;id&quot;) &amp;&amp; insideUser) {\r\n                        // Ler o ID do usu&#225;rio\r\n                        id = reader.getElementText();\r\n                    } else if (elementName.equals(&quot;name&quot;) &amp;&amp; insideUser &amp;&amp; !insideGroup) {\r\n                        // Ler o nome do usu&#225;rio\r\n                        userName = reader.getElementText();\r\n                    } else if (elementName.equals(&quot;group&quot;) &amp;&amp; insideUser) {\r\n                        // Entrar no elemento Group\r\n                        insideGroup = true;\r\n                    }\r\n                } else if (eventType == XMLStreamConstants.CHARACTERS) {\r\n                    if (insideGroup) {\r\n                        // Ler o nome do grupo\r\n                        groupName = reader.getText();\r\n                    }\r\n                } else if (eventType == XMLStreamConstants.END_ELEMENT) {\r\n                    String elementName = reader.getLocalName();\r\n\r\n                    // Verificar o nome do elemento final\r\n                    if (elementName.equals(&quot;user&quot;)) {\r\n                        // Exibir os elementos lidos\r\n                        System.out.println(&quot;ID: &quot; + id);\r\n                        System.out.println(&quot;User Name: &quot; + userName);\r\n                        System.out.println(&quot;Group Name: &quot; + groupName);\r\n                        System.out.println(&quot;-----------------------------&quot;);\r\n\r\n                        // Limpar as vari&#225;veis para o pr&#243;ximo usu&#225;rio\r\n                        id = &quot;&quot;;\r\n                        userName = &quot;&quot;;\r\n                        groupName = &quot;&quot;;\r\n\r\n                        // Resetar as flags\r\n                        insideUser = false;\r\n                        insideGroup = false;\r\n                    }\r\n                }\r\n            }\r\n\r\n            // Fechar o XMLStreamReader\r\n            reader.close();\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n      }\r\n    }\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/co9ey.png","title":"Java class reading and writing the &lt;Group&gt; and &lt;Groups&gt; elements from an XML and always show null value","body":"<blockquote>\n<p>I'm creating a class to display data from an XML, and I need to show the data of the users along with the groups they belong to.</p>\n</blockquote>\n<p>Here's the output I'm getting:</p>\n<p><a href=\"https://i.stack.imgur.com/co9ey.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/co9ey.png\" alt=\"enter image description here\" /></a></p>\n<p>The XML I'm reading has the following structure, I'm trying to iterate over the Name elements that are inside Groups &gt; Group.</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n &lt;users report_date=&quot;20230620&quot;&gt;\n &lt;user&gt;\n &lt;id type=&quot;integer&quot;&gt;123456&lt;/id&gt;\n &lt;is-active type=&quot;boolean&quot;&gt;true&lt;/is-active&gt;\n &lt;roles type=&quot;integer&quot;&gt;2&lt;/roles&gt;\n &lt;name&gt;RODRIGO BARCAT&lt;/name&gt;\n &lt;time-zone&gt;America/Sao_Paulo&lt;/time-zone&gt;\n &lt;updated-at type=&quot;dateTime&quot;&gt;2023-06-15T11:18:54-03:00&lt;/updated-at&gt;\n &lt;created-at type=&quot;dateTime&quot;&gt;2021-10-19T10:37:42-03:00&lt;/created-at&gt;\n &lt;external-id nil=&quot;true&quot;/&gt;\n &lt;details&gt;&lt;/details&gt;\n &lt;openid-url nil=&quot;true&quot;/&gt;\n &lt;organization-id type=&quot;integer&quot;&gt;123456789&lt;/organization-id&gt;\n &lt;notes&gt;&lt;/notes&gt;\n &lt;restriction-id type=&quot;integer&quot;&gt;0&lt;/restriction-id&gt;\n &lt;locale-id type=&quot;integer&quot;&gt;19&lt;/locale-id&gt;\n &lt;last-login type=&quot;dateTime&quot;&gt;2023-06-15T11:18:39-03:00&lt;/last-login&gt;\n &lt;current-tags&gt;TEST&lt;/current-tags&gt;\n &lt;email&gt;rodrigo@test.com&lt;/email&gt;\n &lt;is-verified type=&quot;boolean&quot;&gt;true&lt;/is-verified&gt;\n &lt;custom-role-id type=&quot;integer&quot;&gt;1260812330129&lt;/custom-role-id&gt;\n &lt;groups type=&quot;array&quot;&gt;\n  &lt;group&gt;\n  &lt;id type=&quot;integer&quot;&gt;1900004323624&lt;/id&gt;\n  &lt;is-active type=&quot;boolean&quot;&gt;true&lt;/is-active&gt;\n  &lt;name&gt;Grupo 1&lt;/name&gt;\n  &lt;updated-at type=&quot;dateTime&quot;&gt;2021-11-03T11:20:24-03:00&lt;/updated-at&gt;\n  &lt;created-at type=&quot;dateTime&quot;&gt;2021-11-03T11:20:24-03:00&lt;/created-at&gt;\n  &lt;description&gt;&lt;/description&gt;\n  &lt;is-public type=&quot;boolean&quot;&gt;true&lt;/is-public&gt;\n&lt;/group&gt;\n&lt;group&gt;\n  &lt;id type=&quot;integer&quot;&gt;5845531840667&lt;/id&gt;\n  &lt;is-active type=&quot;boolean&quot;&gt;true&lt;/is-active&gt;\n  &lt;name&gt;Grupo 2&lt;/name&gt;\n  &lt;updated-at type=&quot;dateTime&quot;&gt;2022-05-20T15:43:09-03:00&lt;/updated-at&gt;\n  &lt;created-at type=&quot;dateTime&quot;&gt;2022-05-09T12:37:24-03:00&lt;/created-at&gt;\n  &lt;description&gt;&lt;/description&gt;\n  &lt;is-public type=&quot;boolean&quot;&gt;true&lt;/is-public&gt;\n&lt;/group&gt;\n&lt;group&gt;\n  &lt;id type=&quot;integer&quot;&gt;1260814988809&lt;/id&gt;\n  &lt;is-active type=&quot;boolean&quot;&gt;true&lt;/is-active&gt;\n  &lt;name&gt;Grupo 3&lt;/name&gt;\n  &lt;updated-at type=&quot;dateTime&quot;&gt;2021-11-03T11:20:41-03:00&lt;/updated-at&gt;\n  &lt;created-at type=&quot;dateTime&quot;&gt;2021-11-03T11:20:41-03:00&lt;/created-at&gt;\n  &lt;description&gt;&lt;/description&gt;\n  &lt;is-public type=&quot;boolean&quot;&gt;true&lt;/is-public&gt;\n&lt;/group&gt;\n&lt;group&gt;\n  &lt;id type=&quot;integer&quot;&gt;6088614508699&lt;/id&gt;\n  &lt;is-active type=&quot;boolean&quot;&gt;true&lt;/is-active&gt;\n  &lt;name&gt;Grupo 4&lt;/name&gt;\n  &lt;updated-at type=&quot;dateTime&quot;&gt;2022-05-20T15:05:38-03:00&lt;/updated-at&gt;\n  &lt;created-at type=&quot;dateTime&quot;&gt;2022-05-20T15:05:38-03:00&lt;/created-at&gt;\n  &lt;description&gt;&lt;/description&gt;\n  &lt;is-public type=&quot;boolean&quot;&gt;true&lt;/is-public&gt;\n&lt;/group&gt;\n&lt;group&gt;\n  &lt;id type=&quot;integer&quot;&gt;1900004323564&lt;/id&gt;\n  &lt;is-active type=&quot;boolean&quot;&gt;true&lt;/is-active&gt;\n  &lt;name&gt;Grupo 5&lt;/name&gt;\n  &lt;updated-at type=&quot;dateTime&quot;&gt;2021-11-03T11:19:46-03:00&lt;/updated-at&gt;\n  &lt;created-at type=&quot;dateTime&quot;&gt;2021-11-03T11:19:46-03:00&lt;/created-at&gt;\n  &lt;description&gt;&lt;/description&gt;\n  &lt;is-public type=&quot;boolean&quot;&gt;true&lt;/is-public&gt;\n&lt;/group&gt;\n&lt;/groups&gt;\n&lt;photo-url&gt;&lt;/photo-url&gt;\n&lt;uses-12-hour-clock&gt;false&lt;/uses-12-hour-clock&gt;\n&lt;phone/&gt;\n&lt;/user&gt;\n&lt;/users&gt;\n</code></pre>\n<p>And my code is as follows.</p>\n<pre><code>package com.zendesk2helix.maven.zendesk2helix_jar;\n\nimport java.io.FileInputStream;\nimport javax.xml.stream.XMLInputFactory;\nimport javax.xml.stream.XMLStreamConstants;\nimport javax.xml.stream.XMLStreamReader;\n\npublic class Usuarios {\n    public static void main(String[] args) {\n    String xmlFilePath = &quot;/home/barcat/users.xml&quot;;\n\n    try {\n        // Criar um XMLInputFactory\n        XMLInputFactory factory = XMLInputFactory.newInstance();\n\n        // Criar um XMLStreamReader para o arquivo XML\n        XMLStreamReader reader = factory.createXMLStreamReader(new FileInputStream(xmlFilePath));\n\n        // Variáveis para armazenar os elementos desejados\n        String id = &quot;&quot;;\n        String userName = &quot;&quot;;\n        String groupName = &quot;&quot;;\n\n        // Flags para controlar em qual nível estamos\n        boolean insideUser = false;\n        boolean insideGroup = false;\n\n        // Loop para ler os elementos do XML\n        while (reader.hasNext()) {\n            int eventType = reader.next();\n\n            if (eventType == XMLStreamConstants.START_ELEMENT) {\n                String elementName = reader.getLocalName();\n\n                // Verificar o nome do elemento\n                if (elementName.equals(&quot;user&quot;)) {\n                    // Entrar no elemento User\n                    insideUser = true;\n                } else if (elementName.equals(&quot;id&quot;) &amp;&amp; insideUser) {\n                    // Ler o ID do usuário\n                    id = reader.getElementText();\n                } else if (elementName.equals(&quot;name&quot;) &amp;&amp; insideUser &amp;&amp; !insideGroup) {\n                    // Ler o nome do usuário\n                    userName = reader.getElementText();\n                } else if (elementName.equals(&quot;group&quot;) &amp;&amp; insideUser) {\n                    // Entrar no elemento Group\n                    insideGroup = true;\n                }\n            } else if (eventType == XMLStreamConstants.CHARACTERS) {\n                if (insideGroup) {\n                    // Ler o nome do grupo\n                    groupName = reader.getText();\n                }\n            } else if (eventType == XMLStreamConstants.END_ELEMENT) {\n                String elementName = reader.getLocalName();\n\n                // Verificar o nome do elemento final\n                if (elementName.equals(&quot;user&quot;)) {\n                    // Exibir os elementos lidos\n                    System.out.println(&quot;ID: &quot; + id);\n                    System.out.println(&quot;User Name: &quot; + userName);\n                    System.out.println(&quot;Group Name: &quot; + groupName);\n                    System.out.println(&quot;-----------------------------&quot;);\n\n                    // Limpar as variáveis para o próximo usuário\n                    id = &quot;&quot;;\n                    userName = &quot;&quot;;\n                    groupName = &quot;&quot;;\n\n                    // Resetar as flags\n                    insideUser = false;\n                    insideGroup = false;\n                }\n            }\n        }\n\n        // Fechar o XMLStreamReader\n        reader.close();\n    } catch (Exception e) {\n        e.printStackTrace();\n    }\n  }\n}\n</code></pre>\n"},{"tags":["java","oop","package"],"comments":[{"owner":{"account_id":39574,"reputation":24267,"user_id":114226,"accept_rate":79,"display_name":"PeterMmm"},"score":1,"creation_date":1687606453,"post_id":76545525,"comment_id":134962317,"body_markdown":"Probably with a Worker and Machine interface and some factory in each package, that can be static methods in the interfaces.","body":"Probably with a Worker and Machine interface and some factory in each package, that can be static methods in the interfaces."},{"owner":{"account_id":1455702,"reputation":15684,"user_id":1371329,"accept_rate":64,"display_name":"jaco0646"},"score":1,"creation_date":1687616212,"post_id":76545525,"comment_id":134963348,"body_markdown":"Have  you investigated the [JPMS](https://www.infoworld.com/article/3543253/what-is-jpms-introducing-the-java-platform-module-system.html)?","body":"Have  you investigated the <a href=\"https://www.infoworld.com/article/3543253/what-is-jpms-introducing-the-java-platform-module-system.html\" rel=\"nofollow noreferrer\">JPMS</a>?"}],"answers":[{"tags":[],"owner":{"account_id":4589753,"reputation":69966,"user_id":3723423,"accept_rate":50,"display_name":"Christophe"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1687691841,"creation_date":1687691841,"answer_id":76550137,"question_id":76545525,"body_markdown":"One way to to solve this is to use the [factory design pattern][1]:  a factory class in the `machine` package would create instances of `AbstractMachine`. Another factory in the `worker` package would create instances of the `AbstractWorker`:     \r\n\r\n* The factory and the abstract classes would be public. Only the factory classes would know the different specialisations of the abstract class. \r\n* The `CoffePlace` would only need to know the abstract classes and the factories.    \r\n* The remaining classes can be kept non-public at package level, i.e. [not visible across the different branches and sub-bbranches][2] of your hierarchical presentation.  \r\n\r\nIf the `CoffeePlace` needs to know more about an `OrangeJuiceMachine` than the interface provided by `AbstractMachine`, then, you are not really abstracting the machines; The design could benefit from some improvements, such as for example considering the use of the [Entity System Component][3] pattern to favour [composition over inheritance][4].  \r\n\r\nOf course, `public` is `public`. So the factories and the abstract classes could still be hijacked.  But what leaks is significantly reduced.   \r\n\r\n    \r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Factory_method_pattern\r\n  [2]: https://stackoverflow.com/q/2489096/3723423\r\n  [3]: https://en.wikipedia.org/wiki/Entity_component_system\r\n  [4]: https://en.wikipedia.org/wiki/Composition_over_inheritance","title":"One class using all other classes package organization","body":"<p>One way to to solve this is to use the <a href=\"https://en.wikipedia.org/wiki/Factory_method_pattern\" rel=\"nofollow noreferrer\">factory design pattern</a>:  a factory class in the <code>machine</code> package would create instances of <code>AbstractMachine</code>. Another factory in the <code>worker</code> package would create instances of the <code>AbstractWorker</code>:</p>\n<ul>\n<li>The factory and the abstract classes would be public. Only the factory classes would know the different specialisations of the abstract class.</li>\n<li>The <code>CoffePlace</code> would only need to know the abstract classes and the factories.</li>\n<li>The remaining classes can be kept non-public at package level, i.e. <a href=\"https://stackoverflow.com/q/2489096/3723423\">not visible across the different branches and sub-bbranches</a> of your hierarchical presentation.</li>\n</ul>\n<p>If the <code>CoffeePlace</code> needs to know more about an <code>OrangeJuiceMachine</code> than the interface provided by <code>AbstractMachine</code>, then, you are not really abstracting the machines; The design could benefit from some improvements, such as for example considering the use of the <a href=\"https://en.wikipedia.org/wiki/Entity_component_system\" rel=\"nofollow noreferrer\">Entity System Component</a> pattern to favour <a href=\"https://en.wikipedia.org/wiki/Composition_over_inheritance\" rel=\"nofollow noreferrer\">composition over inheritance</a>.</p>\n<p>Of course, <code>public</code> is <code>public</code>. So the factories and the abstract classes could still be hijacked.  But what leaks is significantly reduced.</p>\n"}],"owner":{"account_id":27469504,"reputation":23,"user_id":20958695,"display_name":"user20958695"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76550137,"answer_count":1,"score":1,"last_activity_date":1687893833,"creation_date":1687601230,"question_id":76545525,"body_markdown":"I&#39;m writing a Java project where I have a main class and many other classes. The main class uses all the other classes and the other classes can be divided to logical groups.\r\n\r\nThe structure is something like this:\r\n\r\n- CoffeePlace\r\n- AbstractWorker\r\n- BaristaWorker\r\n- DishWasherWorker\r\n- CashierWorker\r\n- AbstractMachine\r\n- CoffeeMachine\r\n- OrangeJuiceMachine\r\n- IceCreamMachine\r\n\r\nNaturally I would divide them as:\r\n\r\n- coffeeplace (package)\r\n    - CoffeePlace\r\n    - worker (package)\r\n        - AbstractWorker\r\n        - BaristaWorker\r\n        - DishWasherWorker\r\n        - CashierWorker\r\n    - machine (package)\r\n        - AbstractMachine\r\n        - CoffeeMachine\r\n        - OrangeJuiceMachine\r\n        - IceCreamMachine\r\n\r\n\r\nThere is a problem with this design, the CoffeePlace class needs to know all the other classes located in the sub packages, and the only way they can be seen by CoffeePlace is to make all their interface methods public, but now IceCreamMachine can call BaristraWorker methods which seem to not make sense and break the encapsulation.\r\n\r\nIs it possible to organize these classes in packages making the machines and workers only visible to the main class and not to each other?","title":"One class using all other classes package organization","body":"<p>I'm writing a Java project where I have a main class and many other classes. The main class uses all the other classes and the other classes can be divided to logical groups.</p>\n<p>The structure is something like this:</p>\n<ul>\n<li>CoffeePlace</li>\n<li>AbstractWorker</li>\n<li>BaristaWorker</li>\n<li>DishWasherWorker</li>\n<li>CashierWorker</li>\n<li>AbstractMachine</li>\n<li>CoffeeMachine</li>\n<li>OrangeJuiceMachine</li>\n<li>IceCreamMachine</li>\n</ul>\n<p>Naturally I would divide them as:</p>\n<ul>\n<li>coffeeplace (package)\n<ul>\n<li>CoffeePlace</li>\n<li>worker (package)\n<ul>\n<li>AbstractWorker</li>\n<li>BaristaWorker</li>\n<li>DishWasherWorker</li>\n<li>CashierWorker</li>\n</ul>\n</li>\n<li>machine (package)\n<ul>\n<li>AbstractMachine</li>\n<li>CoffeeMachine</li>\n<li>OrangeJuiceMachine</li>\n<li>IceCreamMachine</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<p>There is a problem with this design, the CoffeePlace class needs to know all the other classes located in the sub packages, and the only way they can be seen by CoffeePlace is to make all their interface methods public, but now IceCreamMachine can call BaristraWorker methods which seem to not make sense and break the encapsulation.</p>\n<p>Is it possible to organize these classes in packages making the machines and workers only visible to the main class and not to each other?</p>\n"},{"tags":["java","aws-sdk","aws-sdk-java-2.0","aws-credentials","aws-sdk-java"],"owner":{"account_id":24509146,"reputation":1,"user_id":22141093,"display_name":"A.D."},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":179,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687893141,"creation_date":1687893141,"question_id":76567938,"body_markdown":"I have a situation where I need to take a Java application that currently uses Basic auth to access OpenSearch, and add the ability for a user to provide a Cognito user-pool user/pass instead of the Basic user/pass.\r\n\r\nIt appears that the way to do this transparently (i.e. with raw requests, rather than using the OpenSearch Java client/library) is by taking the arbitrary requests and pre-signing them, in cases when Basic auth is not used.\r\n\r\nI&#39;ve figured out how to negotiate the Cognito user-pool user/pass into `Credentials` using the AWS Java SDK, and confirmed that I can sign `curl` requests with the `--aws-sigv4` option, but I&#39;m at a loss as to how to incorporate signing (with [`Aws4Signer.presign()`](https://sdk.amazonaws.com/java/api/latest/software/amazon/awssdk/auth/signer/internal/BaseAws4Signer.html#presign(software.amazon.awssdk.http.SdkHttpFullRequest,software.amazon.awssdk.auth.signer.params.Aws4PresignerParams)) ?) \r\n\r\nEssentially what I&#39;m trying for is a Java SDK 2.0 equivalent to a curl call like \r\n\r\n```bash\r\ncurl \\\r\n--aws-sigv4 &quot;aws:amz:us-west-2:es&quot; \\\r\n--user &quot;$ACCESS_KEY_ID&quot;:&quot;$SECRET_KEY&quot; \\\r\n--header &quot;x-amz-security-token: ${SESSION_TOKEN}&quot;  \\\r\nhttps://some-opensearch-host.us-west-2.es.amazonaws.com/_search\r\n```\r\n\r\nwhere the variable values are provided by the `Credentials` object.\r\n\r\nI might just be bad at reading Java docs (or the AWS SDK docs) because, taking `Aws4Signer.presign()` as an example, I have no idea where/how to get the information about `ExecutionAttributes` that would allow me to use them (and thus, `presign()`) correctly.","title":"How can you pre-sign requests to AWS with credentials using the AWS Java SDK?","body":"<p>I have a situation where I need to take a Java application that currently uses Basic auth to access OpenSearch, and add the ability for a user to provide a Cognito user-pool user/pass instead of the Basic user/pass.</p>\n<p>It appears that the way to do this transparently (i.e. with raw requests, rather than using the OpenSearch Java client/library) is by taking the arbitrary requests and pre-signing them, in cases when Basic auth is not used.</p>\n<p>I've figured out how to negotiate the Cognito user-pool user/pass into <code>Credentials</code> using the AWS Java SDK, and confirmed that I can sign <code>curl</code> requests with the <code>--aws-sigv4</code> option, but I'm at a loss as to how to incorporate signing (with <a href=\"https://sdk.amazonaws.com/java/api/latest/software/amazon/awssdk/auth/signer/internal/BaseAws4Signer.html#presign(software.amazon.awssdk.http.SdkHttpFullRequest,software.amazon.awssdk.auth.signer.params.Aws4PresignerParams)\" rel=\"nofollow noreferrer\"><code>Aws4Signer.presign()</code></a> ?)</p>\n<p>Essentially what I'm trying for is a Java SDK 2.0 equivalent to a curl call like</p>\n<pre class=\"lang-bash prettyprint-override\"><code>curl \\\n--aws-sigv4 &quot;aws:amz:us-west-2:es&quot; \\\n--user &quot;$ACCESS_KEY_ID&quot;:&quot;$SECRET_KEY&quot; \\\n--header &quot;x-amz-security-token: ${SESSION_TOKEN}&quot;  \\\nhttps://some-opensearch-host.us-west-2.es.amazonaws.com/_search\n</code></pre>\n<p>where the variable values are provided by the <code>Credentials</code> object.</p>\n<p>I might just be bad at reading Java docs (or the AWS SDK docs) because, taking <code>Aws4Signer.presign()</code> as an example, I have no idea where/how to get the information about <code>ExecutionAttributes</code> that would allow me to use them (and thus, <code>presign()</code>) correctly.</p>\n"},{"tags":["java","spring","spring-boot","service","autowired"],"comments":[{"owner":{"account_id":16669822,"reputation":379,"user_id":12047586,"display_name":"Imaguest"},"score":1,"creation_date":1583944084,"post_id":60640415,"comment_id":107284905,"body_markdown":"Not sure that a default `PasswordEncoder` bean is provided by spring framework. You probably have to provide a bean to specify which `PasswordEncoder` implementation you want to use (`BCryptPasswordEncoder` f.ex.) example [here](https://www.baeldung.com/spring-security-registration-password-encoding-bcrypt)","body":"Not sure that a default <code>PasswordEncoder</code> bean is provided by spring framework. You probably have to provide a bean to specify which <code>PasswordEncoder</code> implementation you want to use (<code>BCryptPasswordEncoder</code> f.ex.) example <a href=\"https://www.baeldung.com/spring-security-registration-password-encoding-bcrypt\" rel=\"nofollow noreferrer\">here</a>"},{"owner":{"account_id":16706937,"reputation":31,"user_id":12075218,"display_name":"Jongwon"},"score":0,"creation_date":1583945669,"post_id":60640415,"comment_id":107285772,"body_markdown":"thank u for ur help! I forgot the 2. Define the Password Encoder part.","body":"thank u for ur help! I forgot the 2. Define the Password Encoder part."}],"answers":[{"comments":[{"owner":{"account_id":16706937,"reputation":31,"user_id":12075218,"display_name":"Jongwon"},"score":0,"creation_date":1583944669,"post_id":60640589,"comment_id":107285249,"body_markdown":"Thank you so much! I put it in the my Config.java class and it worked.","body":"Thank you so much! I put it in the my Config.java class and it worked."}],"tags":[],"owner":{"account_id":1538895,"reputation":320,"user_id":1434072,"display_name":"Thomas__"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1583944183,"creation_date":1583944183,"answer_id":60640589,"question_id":60640415,"body_markdown":"Error message shows there is no bean for `org.springframework.security.crypto.password.PasswordEncoder`, which means you haven&#39;t defined it anywhere.\r\n\r\nYou would need something like:\r\n\r\n```\r\n@Bean\r\n    public PasswordEncoder passwordEncoder() {\r\n        return new BCryptPasswordEncoder();\r\n    }\r\n```\r\n   \r\nIn your configuration (if configuration through Java)","title":"Unsatisfied dependency expressed through constructor in SpringBoot","body":"<p>Error message shows there is no bean for <code>org.springframework.security.crypto.password.PasswordEncoder</code>, which means you haven't defined it anywhere.</p>\n\n<p>You would need something like:</p>\n\n<pre><code>@Bean\n    public PasswordEncoder passwordEncoder() {\n        return new BCryptPasswordEncoder();\n    }\n</code></pre>\n\n<p>In your configuration (if configuration through Java)</p>\n"}],"owner":{"account_id":16706937,"reputation":31,"user_id":12075218,"display_name":"Jongwon"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4755,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":60640589,"answer_count":1,"score":0,"last_activity_date":1687893001,"creation_date":1583943609,"question_id":60640415,"body_markdown":"hi guys my springboot version is &#39;2.2.4.RELEASE&#39;.&lt;br/&gt;\r\nI wanna autowire 2 parameter in constructor. but it doesn&#39;t working.&lt;br/&gt;\r\nMabye i think &#39;passwordEncoder&#39; has a problem...&lt;br/&gt;\r\n&lt;br/&gt;\r\nhere is &#39;UserService.java&#39; code.&lt;br/&gt;\r\n\r\n \r\n    import kr.co.loosie.foody.domain.User;\r\n    import kr.co.loosie.foody.domain.UserRepository;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.security.crypto.password.PasswordEncoder;\r\n    import org.springframework.stereotype.Service;\r\n\r\n    import javax.transaction.Transactional;\r\n    import java.util.Optional;\r\n\r\n    @Service\r\n    @Transactional\r\n    public class UserService {\r\n\r\n        private UserRepository userRepository;\r\n        private PasswordEncoder passwordEncoder;\r\n\r\n        @Autowired\r\n        public UserService(UserRepository userRepository, PasswordEncoder passwordEncoder) {\r\n            this.userRepository = userRepository;\r\n            this.passwordEncoder = passwordEncoder;\r\n        }\r\n\r\n        public User registerUser(String email, String name, String password) {\r\n            Optional&lt;User&gt; existed = userRepository.findByEmail(email);\r\n            if (existed.isPresent()) {\r\n                throw new EmailExistedException(email);\r\n            }\r\n\r\n            String encodedPassword = passwordEncoder.encode(password);\r\n\r\n            User user = User.builder()\r\n                .email(email)\r\n                .name(name)\r\n                .password(encodedPassword)\r\n                .level(1L)\r\n                .build();\r\n            return userRepository.save(user);\r\n        }\r\n\r\n        public User authenticate(String email, String password) {\r\n            User user = userRepository.findByEmail(email)\r\n                    .orElseThrow(() -&gt; new EmailNotExistedException(email));\r\n\r\n            if (!passwordEncoder.matches(password, user.getPassword())) {\r\n                throw new PasswordWrongException();\r\n            }\r\n\r\n            return user;\r\n          }\r\n    }\r\n\r\nthe error part is here.&lt;br/&gt;\r\n\r\n    @Autowired\r\n    public UserService(UserRepository userRepository, PasswordEncoder passwordEncoder) {\r\n        this.userRepository = userRepository;\r\n        this.passwordEncoder = passwordEncoder;\r\n    }\r\n\r\nit&#39;s worked when i used only UserReposiotory to get autowired&lt;br/&gt;\r\nbut I put the **PasswordEncoder passwordEncoder** line , it&#39;s not worked.\r\nplz give me some help!\r\n\r\nthis is warning message\r\n\r\n    Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with         \r\n    name &#39;userService&#39; defined in file [D:\\CCC\\intellij_ex\\foody\\foody-customer- \r\n    api\\build\\classes\\java\\main\\kr\\co\\loosie\\foody\\application\\UserService.class]: Unsatisfied dependency \r\n    expressed through constructor parameter 1; nested exception is \r\n    org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type \r\n    &#39;org.springframework.security.crypto.password.PasswordEncoder&#39; available: expected at least 1 bean \r\n    which qualifies as autowire candidate. Dependency annotations: {}\r\n\r\nplz give me some help!\r\n","title":"Unsatisfied dependency expressed through constructor in SpringBoot","body":"<p>hi guys my springboot version is '2.2.4.RELEASE'.<br/>\nI wanna autowire 2 parameter in constructor. but it doesn't working.<br/>\nMabye i think 'passwordEncoder' has a problem...<br/>\n<br/>\nhere is 'UserService.java' code.<br/></p>\n<pre><code>import kr.co.loosie.foody.domain.User;\nimport kr.co.loosie.foody.domain.UserRepository;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.security.crypto.password.PasswordEncoder;\nimport org.springframework.stereotype.Service;\n\nimport javax.transaction.Transactional;\nimport java.util.Optional;\n\n@Service\n@Transactional\npublic class UserService {\n\n    private UserRepository userRepository;\n    private PasswordEncoder passwordEncoder;\n\n    @Autowired\n    public UserService(UserRepository userRepository, PasswordEncoder passwordEncoder) {\n        this.userRepository = userRepository;\n        this.passwordEncoder = passwordEncoder;\n    }\n\n    public User registerUser(String email, String name, String password) {\n        Optional&lt;User&gt; existed = userRepository.findByEmail(email);\n        if (existed.isPresent()) {\n            throw new EmailExistedException(email);\n        }\n\n        String encodedPassword = passwordEncoder.encode(password);\n\n        User user = User.builder()\n            .email(email)\n            .name(name)\n            .password(encodedPassword)\n            .level(1L)\n            .build();\n        return userRepository.save(user);\n    }\n\n    public User authenticate(String email, String password) {\n        User user = userRepository.findByEmail(email)\n                .orElseThrow(() -&gt; new EmailNotExistedException(email));\n\n        if (!passwordEncoder.matches(password, user.getPassword())) {\n            throw new PasswordWrongException();\n        }\n\n        return user;\n      }\n}\n</code></pre>\n<p>the error part is here.<br/></p>\n<pre><code>@Autowired\npublic UserService(UserRepository userRepository, PasswordEncoder passwordEncoder) {\n    this.userRepository = userRepository;\n    this.passwordEncoder = passwordEncoder;\n}\n</code></pre>\n<p>it's worked when i used only UserReposiotory to get autowired<br/>\nbut I put the <strong>PasswordEncoder passwordEncoder</strong> line , it's not worked.\nplz give me some help!</p>\n<p>this is warning message</p>\n<pre><code>Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with         \nname 'userService' defined in file [D:\\CCC\\intellij_ex\\foody\\foody-customer- \napi\\build\\classes\\java\\main\\kr\\co\\loosie\\foody\\application\\UserService.class]: Unsatisfied dependency \nexpressed through constructor parameter 1; nested exception is \norg.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type \n'org.springframework.security.crypto.password.PasswordEncoder' available: expected at least 1 bean \nwhich qualifies as autowire candidate. Dependency annotations: {}\n</code></pre>\n<p>plz give me some help!</p>\n"},{"tags":["java","spring","spring-boot","java.nio.file"],"comments":[{"owner":{"account_id":3970780,"reputation":2667,"user_id":3275441,"accept_rate":75,"display_name":"Milgo"},"score":1,"creation_date":1601299490,"post_id":64103019,"comment_id":113355911,"body_markdown":"Please add the complete exception message with its stack trace.","body":"Please add the complete exception message with its stack trace."},{"owner":{"account_id":12688883,"reputation":21,"user_id":12396858,"display_name":"stickyy"},"score":0,"creation_date":1601300257,"post_id":64103019,"comment_id":113356335,"body_markdown":"@Milgo added the complete exception message","body":"@Milgo added the complete exception message"}],"answers":[{"comments":[{"owner":{"account_id":5702266,"reputation":206,"user_id":4506881,"display_name":"Imran Ahmad"},"score":0,"creation_date":1601367895,"post_id":64103605,"comment_id":113378509,"body_markdown":"try this: Path path = Paths.get(&quot;c:\\\\data\\\\myfile.txt&quot;)  if you are using windows.                                                                     The double \\ characters are necessary in Java strings, since the \\ is an escape character, meaning the following character tells what character is really to be located at this place in the string. By writing \\\\ you tell the Java compiler to write a single \\ character into the string.","body":"try this: Path path = Paths.get(&quot;c:\\\\data\\\\myfile.txt&quot;)  if you are using windows.                                                                     The double \\ characters are necessary in Java strings, since the \\ is an escape character, meaning the following character tells what character is really to be located at this place in the string. By writing \\\\ you tell the Java compiler to write a single \\ character into the string."},{"owner":{"account_id":12688883,"reputation":21,"user_id":12396858,"display_name":"stickyy"},"score":0,"creation_date":1601370095,"post_id":64103605,"comment_id":113379471,"body_markdown":"yes, I&#180;m using windows and put the path with double \\ but got same exception","body":"yes, I&#180;m using windows and put the path with double \\ but got same exception"},{"owner":{"account_id":3970780,"reputation":2667,"user_id":3275441,"accept_rate":75,"display_name":"Milgo"},"score":0,"creation_date":1601370492,"post_id":64103605,"comment_id":113379652,"body_markdown":"`Paths.get(URI.create(&quot;file:/C:/Users/home/Desktop/mydir&quot;));` should work","body":"<code>Paths.get(URI.create(&quot;file:&#47;C:&#47;Users&#47;home&#47;Desktop&#47;mydir&quot;));</code> should work"},{"owner":{"account_id":12688883,"reputation":21,"user_id":12396858,"display_name":"stickyy"},"score":0,"creation_date":1601370680,"post_id":64103605,"comment_id":113379741,"body_markdown":"again same exception","body":"again same exception"}],"tags":[],"owner":{"account_id":3970780,"reputation":2667,"user_id":3275441,"accept_rate":75,"display_name":"Milgo"},"comment_count":4,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1687892787,"creation_date":1601301239,"answer_id":64103605,"question_id":64103019,"body_markdown":"You chose the `newFileSystem()` method with a class object as second parameter. This second parameter must be a class of an file systems provider which is not in this case. Please just use something like:\r\n\r\n    @Bean\r\n    public FileSystem fileSystem() {\r\n        Path path = Paths.get(URI.create(&quot;file:/C:/Users/home/Desktop/mydir&quot;));\r\n        final URI uri = URI.create(&quot;file:&quot; + path.toUri().getPath());\r\n        FileSystem ext2fs = FileSystems.getFileSystem(uri);\r\n\r\n        return ext2fs;\r\n    }","title":"java.nio.file.ProviderNotFoundException: Provider not found","body":"<p>You chose the <code>newFileSystem()</code> method with a class object as second parameter. This second parameter must be a class of an file systems provider which is not in this case. Please just use something like:</p>\n<pre><code>@Bean\npublic FileSystem fileSystem() {\n    Path path = Paths.get(URI.create(&quot;file:/C:/Users/home/Desktop/mydir&quot;));\n    final URI uri = URI.create(&quot;file:&quot; + path.toUri().getPath());\n    FileSystem ext2fs = FileSystems.getFileSystem(uri);\n\n    return ext2fs;\n}\n</code></pre>\n"}],"owner":{"account_id":12688883,"reputation":21,"user_id":12396858,"display_name":"stickyy"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4975,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1687892787,"creation_date":1601299226,"question_id":64103019,"body_markdown":"I&#180;ve got this exception provider not found, but don&#180;t know how to solve it. Here is my code:\r\n\r\n   \r\n\r\n     @Bean\r\n        public FileSystem fileSystem() {\r\n    \t\ttry {\r\n    \t\t\tPath path = Paths.get(&quot;C:/Users/home/Desktop/mydir&quot;);\r\n    \t\t\tFileSystem ext2fs = FileSystems.newFileSystem(path, Thread.currentThread().getContextClassLoader());\r\n    \t    \t\r\n    \t        return ext2fs;\r\n    \t\t} catch (IOException e) {\r\n    \t\t\te.printStackTrace();\r\n    \t\t\treturn null;\r\n    \t\t}\r\n        }\r\n\r\nDoes anyone know what could be the problem and how to solve it.\r\nThe idea is that i have this bean for filesystem, which i will later use for crud operation, but this bean is because if i later want to change storage that it would be easily just changed in this bean, for example if i want to use google as storage instead of local storage or something like that just set it up in this method. I&#180;m using Spring Boot 2.3.3\r\n\r\n**Update - complete exception**\r\n\r\n    org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;fileSystem&#39; defined in class path resource [Config.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [java.nio.file.FileSystem]: Factory method &#39;fileSystem&#39; threw exception; nested exception is java.nio.file.ProviderNotFoundException: Provider not found\r\n    \tat org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:655) ~[spring-beans-5.2.8.RELEASE.jar:5.2.8.RELEASE]\r\n    \tat org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:483) ~[spring-beans-5.2.8.RELEASE.jar:5.2.8.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1336) ~[spring-beans-5.2.8.RELEASE.jar:5.2.8.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1176) ~[spring-beans-5.2.8.RELEASE.jar:5.2.8.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:556) ~[spring-beans-5.2.8.RELEASE.jar:5.2.8.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:516) ~[spring-beans-5.2.8.RELEASE.jar:5.2.8.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:324) ~[spring-beans-5.2.8.RELEASE.jar:5.2.8.RELEASE]\r\n    \tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:226) ~[spring-beans-5.2.8.RELEASE.jar:5.2.8.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:322) ~[spring-beans-5.2.8.RELEASE.jar:5.2.8.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202) ~[spring-beans-5.2.8.RELEASE.jar:5.2.8.RELEASE]\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:897) ~[spring-beans-5.2.8.RELEASE.jar:5.2.8.RELEASE]\r\n    \tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:879) ~[spring-context-5.2.8.RELEASE.jar:5.2.8.RELEASE]\r\n    \tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:551) ~[spring-context-5.2.8.RELEASE.jar:5.2.8.RELEASE]\r\n    \tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:143) ~[spring-boot-2.3.3.RELEASE.jar:2.3.3.RELEASE]\r\n    \tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:758) [spring-boot-2.3.3.RELEASE.jar:2.3.3.RELEASE]\r\n    \tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:750) [spring-boot-2.3.3.RELEASE.jar:2.3.3.RELEASE]\r\n    \tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397) [spring-boot-2.3.3.RELEASE.jar:2.3.3.RELEASE]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:315) [spring-boot-2.3.3.RELEASE.jar:2.3.3.RELEASE]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1237) [spring-boot-2.3.3.RELEASE.jar:2.3.3.RELEASE]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1226) [spring-boot-2.3.3.RELEASE.jar:2.3.3.RELEASE]\r\n    \tat Application.main(Application.java:10) [classes/:na]\r\n    Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [java.nio.file.FileSystem]: Factory method &#39;fileSystem&#39; threw exception; nested exception is java.nio.file.ProviderNotFoundException: Provider not found\r\n    \tat org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:185) ~[spring-beans-5.2.8.RELEASE.jar:5.2.8.RELEASE]\r\n    \tat org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:650) ~[spring-beans-5.2.8.RELEASE.jar:5.2.8.RELEASE]\r\n    \t... 20 common frames omitted\r\n    Caused by: java.nio.file.ProviderNotFoundException: Provider not found\r\n    \tat java.nio.file.FileSystems.newFileSystem(FileSystems.java:407) ~[na:1.8.0_251]\r\n    \tat Config.fileSystem(FileSystemConfig.java:23) ~[classes/:na]\r\n    \tat Config$$EnhancerBySpringCGLIB$$53bc71a0.CGLIB$fileSystem$0(&lt;generated&gt;) ~[classes/:na]\r\n    \tat Config$$EnhancerBySpringCGLIB$$53bc71a0$$FastClassBySpringCGLIB$$4ee51dad.invoke(&lt;generated&gt;) ~[classes/:na]\r\n    \tat org.springframework.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:244) ~[spring-core-5.2.8.RELEASE.jar:5.2.8.RELEASE]\r\n    \tat org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:331) ~[spring-context-5.2.8.RELEASE.jar:5.2.8.RELEASE]\r\n    \tat Config$$EnhancerBySpringCGLIB$$53bc71a0.fileSystem(&lt;generated&gt;) ~[classes/:na]\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_251]\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_251]\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_251]\r\n    \tat java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_251]\r\n    \tat org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:154) ~[spring-beans-5.2.8.RELEASE.jar:5.2.8.RELEASE]\r\n    \t... 21 common frames omitted\r\n\r\n**New update**\r\n\r\n    Caused by: java.lang.IllegalArgumentException: Path component should be &#39;/&#39;\r\n    \tat sun.nio.fs.WindowsFileSystemProvider.checkUri(WindowsFileSystemProvider.java:69) ~[na:1.8.0_251]\r\n    \tat sun.nio.fs.WindowsFileSystemProvider.getFileSystem(WindowsFileSystemProvider.java:86) ~[na:1.8.0_251]\r\n    \tat java.nio.file.FileSystems.getFileSystem(FileSystems.java:221) ~[na:1.8.0_251]\r\n    \tat FileSystemConfig.fileSystem(FileSystemConfig.java:23) ~[classes/:na]\r\n    \tat FileSystemConfig$$EnhancerBySpringCGLIB$$53bc71a0.CGLIB$fileSystem$0(&lt;generated&gt;) ~[classes/:na]\r\n    \tat FileSystemConfig$$EnhancerBySpringCGLIB$$53bc71a0$$FastClassBySpringCGLIB$$4ee51dad.invoke(&lt;generated&gt;) ~[classes/:na]\r\n    \tat org.springframework.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:244) ~[spring-core-5.2.8.RELEASE.jar:5.2.8.RELEASE]\r\n    \tat org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:331) ~[spring-context-5.2.8.RELEASE.jar:5.2.8.RELEASE]\r\n    \tat FileSystemConfig$$EnhancerBySpringCGLIB$$53bc71a0.fileSystem(&lt;generated&gt;) ~[classes/:na]\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_251]\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_251]\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_251]\r\n    \tat java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_251]\r\n    \tat org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:154) ~[spring-beans-5.2.8.RELEASE.jar:5.2.8.RELEASE]\r\n    \t... 21 common frames omitted","title":"java.nio.file.ProviderNotFoundException: Provider not found","body":"<p>I´ve got this exception provider not found, but don´t know how to solve it. Here is my code:</p>\n<pre><code> @Bean\n    public FileSystem fileSystem() {\n        try {\n            Path path = Paths.get(&quot;C:/Users/home/Desktop/mydir&quot;);\n            FileSystem ext2fs = FileSystems.newFileSystem(path, Thread.currentThread().getContextClassLoader());\n            \n            return ext2fs;\n        } catch (IOException e) {\n            e.printStackTrace();\n            return null;\n        }\n    }\n</code></pre>\n<p>Does anyone know what could be the problem and how to solve it.\nThe idea is that i have this bean for filesystem, which i will later use for crud operation, but this bean is because if i later want to change storage that it would be easily just changed in this bean, for example if i want to use google as storage instead of local storage or something like that just set it up in this method. I´m using Spring Boot 2.3.3</p>\n<p><strong>Update - complete exception</strong></p>\n<pre><code>org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'fileSystem' defined in class path resource [Config.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [java.nio.file.FileSystem]: Factory method 'fileSystem' threw exception; nested exception is java.nio.file.ProviderNotFoundException: Provider not found\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:655) ~[spring-beans-5.2.8.RELEASE.jar:5.2.8.RELEASE]\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:483) ~[spring-beans-5.2.8.RELEASE.jar:5.2.8.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1336) ~[spring-beans-5.2.8.RELEASE.jar:5.2.8.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1176) ~[spring-beans-5.2.8.RELEASE.jar:5.2.8.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:556) ~[spring-beans-5.2.8.RELEASE.jar:5.2.8.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:516) ~[spring-beans-5.2.8.RELEASE.jar:5.2.8.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:324) ~[spring-beans-5.2.8.RELEASE.jar:5.2.8.RELEASE]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:226) ~[spring-beans-5.2.8.RELEASE.jar:5.2.8.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:322) ~[spring-beans-5.2.8.RELEASE.jar:5.2.8.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202) ~[spring-beans-5.2.8.RELEASE.jar:5.2.8.RELEASE]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:897) ~[spring-beans-5.2.8.RELEASE.jar:5.2.8.RELEASE]\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:879) ~[spring-context-5.2.8.RELEASE.jar:5.2.8.RELEASE]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:551) ~[spring-context-5.2.8.RELEASE.jar:5.2.8.RELEASE]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:143) ~[spring-boot-2.3.3.RELEASE.jar:2.3.3.RELEASE]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:758) [spring-boot-2.3.3.RELEASE.jar:2.3.3.RELEASE]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:750) [spring-boot-2.3.3.RELEASE.jar:2.3.3.RELEASE]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397) [spring-boot-2.3.3.RELEASE.jar:2.3.3.RELEASE]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:315) [spring-boot-2.3.3.RELEASE.jar:2.3.3.RELEASE]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1237) [spring-boot-2.3.3.RELEASE.jar:2.3.3.RELEASE]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1226) [spring-boot-2.3.3.RELEASE.jar:2.3.3.RELEASE]\n    at Application.main(Application.java:10) [classes/:na]\nCaused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [java.nio.file.FileSystem]: Factory method 'fileSystem' threw exception; nested exception is java.nio.file.ProviderNotFoundException: Provider not found\n    at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:185) ~[spring-beans-5.2.8.RELEASE.jar:5.2.8.RELEASE]\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:650) ~[spring-beans-5.2.8.RELEASE.jar:5.2.8.RELEASE]\n    ... 20 common frames omitted\nCaused by: java.nio.file.ProviderNotFoundException: Provider not found\n    at java.nio.file.FileSystems.newFileSystem(FileSystems.java:407) ~[na:1.8.0_251]\n    at Config.fileSystem(FileSystemConfig.java:23) ~[classes/:na]\n    at Config$$EnhancerBySpringCGLIB$$53bc71a0.CGLIB$fileSystem$0(&lt;generated&gt;) ~[classes/:na]\n    at Config$$EnhancerBySpringCGLIB$$53bc71a0$$FastClassBySpringCGLIB$$4ee51dad.invoke(&lt;generated&gt;) ~[classes/:na]\n    at org.springframework.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:244) ~[spring-core-5.2.8.RELEASE.jar:5.2.8.RELEASE]\n    at org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:331) ~[spring-context-5.2.8.RELEASE.jar:5.2.8.RELEASE]\n    at Config$$EnhancerBySpringCGLIB$$53bc71a0.fileSystem(&lt;generated&gt;) ~[classes/:na]\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_251]\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_251]\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_251]\n    at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_251]\n    at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:154) ~[spring-beans-5.2.8.RELEASE.jar:5.2.8.RELEASE]\n    ... 21 common frames omitted\n</code></pre>\n<p><strong>New update</strong></p>\n<pre><code>Caused by: java.lang.IllegalArgumentException: Path component should be '/'\n    at sun.nio.fs.WindowsFileSystemProvider.checkUri(WindowsFileSystemProvider.java:69) ~[na:1.8.0_251]\n    at sun.nio.fs.WindowsFileSystemProvider.getFileSystem(WindowsFileSystemProvider.java:86) ~[na:1.8.0_251]\n    at java.nio.file.FileSystems.getFileSystem(FileSystems.java:221) ~[na:1.8.0_251]\n    at FileSystemConfig.fileSystem(FileSystemConfig.java:23) ~[classes/:na]\n    at FileSystemConfig$$EnhancerBySpringCGLIB$$53bc71a0.CGLIB$fileSystem$0(&lt;generated&gt;) ~[classes/:na]\n    at FileSystemConfig$$EnhancerBySpringCGLIB$$53bc71a0$$FastClassBySpringCGLIB$$4ee51dad.invoke(&lt;generated&gt;) ~[classes/:na]\n    at org.springframework.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:244) ~[spring-core-5.2.8.RELEASE.jar:5.2.8.RELEASE]\n    at org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:331) ~[spring-context-5.2.8.RELEASE.jar:5.2.8.RELEASE]\n    at FileSystemConfig$$EnhancerBySpringCGLIB$$53bc71a0.fileSystem(&lt;generated&gt;) ~[classes/:na]\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_251]\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_251]\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_251]\n    at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_251]\n    at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:154) ~[spring-beans-5.2.8.RELEASE.jar:5.2.8.RELEASE]\n    ... 21 common frames omitted\n</code></pre>\n"},{"tags":["java","sql","snowflake-cloud-data-platform","talend"],"owner":{"account_id":20060396,"reputation":377,"user_id":14707253,"display_name":"Emile Dadou"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687891955,"creation_date":1686144341,"question_id":76423795,"body_markdown":"I&#39;m trying to write a request (for Snowflake) using the MERGE INTO function and I can&#39;t use the tDBOutput component with the UPSERT action. I used an example query to see how I should write the template and I got this :\r\n\r\n    MERGE INTO &quot;DEV_MDM_SOFINORD&quot;.&quot;MDM&quot;.&quot;GROUPE&quot; T USING &quot;GROUPE_20230607_150953_864_1&quot; AS S ON T.&quot;CD_GROUPE&quot; = S.&quot;CD_GROUPE&quot;  WHEN MATCHED THEN UPDATE SET  T.&quot;CD_GROUPE&quot;=S.&quot;CD_GROUPE&quot;, T.&quot;AT_SIGNATAIRE&quot;=S.&quot;AT_SIGNATAIRE&quot; WHEN NOT MATCHED THEN INSERT(&quot;CD_GROUPE&quot;,&quot;AT_SIGNATAIRE&quot;) VALUES(S.&quot;CD_GROUPE&quot; , S.&quot;AT_SIGNATAIRE&quot;)\r\n\r\nI don&#39;t understand what the &quot;GROUPE_20230607_150953_864_1&quot; is and what it does.\r\n\r\nI&#39;m using Talend Cloud API Services Platform (v7.3.1)\r\n\r\nIt&#39;s just a test job but here is the configuration of the components : \r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\nSo I would like to know what `USING &quot;GROUPE_20230607_150953_864_1&quot;` is or if there is an alternative to the MERGE INTO.\r\n\r\n  [1]: https://i.stack.imgur.com/2SsUW.png\r\n  [2]: https://i.stack.imgur.com/7jds8.png","title":"Talend / Snowflake - issue with merge into request","body":"<p>I'm trying to write a request (for Snowflake) using the MERGE INTO function and I can't use the tDBOutput component with the UPSERT action. I used an example query to see how I should write the template and I got this :</p>\n<pre><code>MERGE INTO &quot;DEV_MDM_SOFINORD&quot;.&quot;MDM&quot;.&quot;GROUPE&quot; T USING &quot;GROUPE_20230607_150953_864_1&quot; AS S ON T.&quot;CD_GROUPE&quot; = S.&quot;CD_GROUPE&quot;  WHEN MATCHED THEN UPDATE SET  T.&quot;CD_GROUPE&quot;=S.&quot;CD_GROUPE&quot;, T.&quot;AT_SIGNATAIRE&quot;=S.&quot;AT_SIGNATAIRE&quot; WHEN NOT MATCHED THEN INSERT(&quot;CD_GROUPE&quot;,&quot;AT_SIGNATAIRE&quot;) VALUES(S.&quot;CD_GROUPE&quot; , S.&quot;AT_SIGNATAIRE&quot;)\n</code></pre>\n<p>I don't understand what the &quot;GROUPE_20230607_150953_864_1&quot; is and what it does.</p>\n<p>I'm using Talend Cloud API Services Platform (v7.3.1)</p>\n<p>It's just a test job but here is the configuration of the components :</p>\n<p><a href=\"https://i.stack.imgur.com/2SsUW.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/2SsUW.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/7jds8.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/7jds8.png\" alt=\"enter image description here\" /></a></p>\n<p>So I would like to know what <code>USING &quot;GROUPE_20230607_150953_864_1&quot;</code> is or if there is an alternative to the MERGE INTO.</p>\n"},{"tags":["java","oauth","wildfly","openid-connect","elytron"],"answers":[{"comments":[{"owner":{"account_id":262548,"reputation":1429,"user_id":547491,"accept_rate":60,"display_name":"Karthik Murugan"},"score":0,"creation_date":1680507210,"post_id":75916559,"comment_id":133903952,"body_markdown":"IDP is configured using HTTPS endpoint. I&#39;m able to curl the same metadata URL from the container and it returns the configuration.","body":"IDP is configured using HTTPS endpoint. I&#39;m able to curl the same metadata URL from the container and it returns the configuration."},{"owner":{"account_id":26350,"reputation":17454,"user_id":68490,"accept_rate":20,"display_name":"Tore Nestenius"},"score":1,"creation_date":1680508039,"post_id":75916559,"comment_id":133904141,"body_markdown":"If so, then that is a bit odd if Curl works. Perhaps Java is unable to reach it while Curl can? I would try to make a HTTPS GET test request from Java to the HTTPS endpoint.","body":"If so, then that is a bit odd if Curl works. Perhaps Java is unable to reach it while Curl can? I would try to make a HTTPS GET test request from Java to the HTTPS endpoint."}],"tags":[],"owner":{"account_id":26350,"reputation":17454,"user_id":68490,"accept_rate":20,"display_name":"Tore Nestenius"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680503243,"creation_date":1680503243,"answer_id":75916559,"question_id":75916483,"body_markdown":"I think the problem is that the internal service can&#39;t reach the internal https://myidp.com over HTTPS. This is a pretty common network problem when your HTTPS is terminated in your proxy/load-balancer and the internal services mostly uses HTTP. How to fix it depends on your infrastructure, one option can be to add the HTTPS certificate to the key cloak endpoint and then map myidp.com to point to the internal IP-address on the LAN.\r\n\r\n\r\n ","title":"ELY23005: Unable to load OpenID provider metadata","body":"<p>I think the problem is that the internal service can't reach the internal <a href=\"https://myidp.com\" rel=\"nofollow noreferrer\">https://myidp.com</a> over HTTPS. This is a pretty common network problem when your HTTPS is terminated in your proxy/load-balancer and the internal services mostly uses HTTP. How to fix it depends on your infrastructure, one option can be to add the HTTPS certificate to the key cloak endpoint and then map myidp.com to point to the internal IP-address on the LAN.</p>\n"},{"tags":[],"owner":{"account_id":6634642,"reputation":896,"user_id":5122135,"display_name":"Milad"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687891885,"creation_date":1687891885,"answer_id":76567838,"question_id":75916483,"body_markdown":"I stumbled into this and I&#39;ve solved it by adding the &quot;truststore&quot; and &quot;truststore-password&quot; properties to the OICD client configuration:\r\n\r\n```xml\r\n&lt;subsystem xmlns=&quot;urn:wildfly:elytron-oidc-client:1.0&quot;&gt;\r\n    &lt;secure-deployment name=&quot;myapp.war&quot; truststore=&quot;/path/to/cacerts.p12&quot; truststore-password=&quot;changeit&quot;&gt;\r\n        &lt;provider-url&gt;https://localhost/auth/realms/my-app-realm&lt;/provider-url&gt;\r\n        &lt;ssl-required&gt;ALL&lt;/ssl-required&gt;\r\n        &lt;principal-attribute&gt;preferred_username&lt;/principal-attribute&gt;\r\n        &lt;client-id&gt;my-app-oidc-client&lt;/client-id&gt;\r\n        &lt;credential name=&quot;secret&quot; secret=&quot;...&quot;/&gt;\r\n    &lt;/secure-deployment&gt;\r\n&lt;/subsystem&gt;\r\n```\r\n\r\nSee &lt;https://docs.wildfly.org/28/wildscribe/subsystem/elytron-oidc-client/secure-deployment/index.html&gt; as a reference.\r\n\r\nThe trust store file `cacerts.p12` was created with\r\n\r\n```shell\r\nkeytool -importcert -alias keycloak -keystore cacerts.p12 -file localhost.crt\r\n```\r\n\r\nwhere `localhost.crt`&#160;is the server certificate.","title":"ELY23005: Unable to load OpenID provider metadata","body":"<p>I stumbled into this and I've solved it by adding the &quot;truststore&quot; and &quot;truststore-password&quot; properties to the OICD client configuration:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;subsystem xmlns=&quot;urn:wildfly:elytron-oidc-client:1.0&quot;&gt;\n    &lt;secure-deployment name=&quot;myapp.war&quot; truststore=&quot;/path/to/cacerts.p12&quot; truststore-password=&quot;changeit&quot;&gt;\n        &lt;provider-url&gt;https://localhost/auth/realms/my-app-realm&lt;/provider-url&gt;\n        &lt;ssl-required&gt;ALL&lt;/ssl-required&gt;\n        &lt;principal-attribute&gt;preferred_username&lt;/principal-attribute&gt;\n        &lt;client-id&gt;my-app-oidc-client&lt;/client-id&gt;\n        &lt;credential name=&quot;secret&quot; secret=&quot;...&quot;/&gt;\n    &lt;/secure-deployment&gt;\n&lt;/subsystem&gt;\n</code></pre>\n<p>See <a href=\"https://docs.wildfly.org/28/wildscribe/subsystem/elytron-oidc-client/secure-deployment/index.html\" rel=\"nofollow noreferrer\">https://docs.wildfly.org/28/wildscribe/subsystem/elytron-oidc-client/secure-deployment/index.html</a> as a reference.</p>\n<p>The trust store file <code>cacerts.p12</code> was created with</p>\n<pre class=\"lang-bash prettyprint-override\"><code>keytool -importcert -alias keycloak -keystore cacerts.p12 -file localhost.crt\n</code></pre>\n<p>where <code>localhost.crt</code> is the server certificate.</p>\n"}],"owner":{"account_id":262548,"reputation":1429,"user_id":547491,"accept_rate":60,"display_name":"Karthik Murugan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":681,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1687891885,"creation_date":1680502469,"question_id":75916483,"body_markdown":"Ours is a wildfly based application. We configured Keycloak OIDC with Elytron. This integration works well in all our environments except this one. On hitting any URL, it returns 403 Forbidden error.\r\n\r\nOn enabling TRACE level, I could see these logs when hitting the application endpoint:\r\n\r\n   \t{&quot;log_timestamp&quot;: &quot;2023-03-31T12:34:38.629+0000&quot;, &quot;log_level&quot;: &quot;TRACE&quot;, &quot;process_id&quot;: 1, &quot;process_name&quot;: &quot;myapp&quot;, &quot;thread_id&quot;: 1, &quot;thread_name&quot;: &quot;default task-1&quot;, &quot;action_name&quot;: &quot;org.wildfly.security.http.servlet&quot;, &quot;log_message&quot;: &quot;Created ServletSecurityContextImpl enableJapi=true, integratedJaspi=true, applicationContext=default-host /my-app&quot;}\r\n\t{&quot;log_timestamp&quot;: &quot;2023-03-31T12:34:38.629+0000&quot;, &quot;log_level&quot;: &quot;TRACE&quot;, &quot;process_id&quot;: 1, &quot;process_name&quot;: &quot;myapp&quot;, &quot;thread_id&quot;: 1, &quot;thread_name&quot;: &quot;default task-1&quot;, &quot;action_name&quot;: &quot;org.wildfly.security.http.servlet&quot;, &quot;log_message&quot;: &quot;No AuthConfigProvider for layer=HttpServlet, appContext=default-host /my-app&quot;}\r\n\t{&quot;log_timestamp&quot;: &quot;2023-03-31T12:34:38.629+0000&quot;, &quot;log_level&quot;: &quot;TRACE&quot;, &quot;process_id&quot;: 1, &quot;process_name&quot;: &quot;myapp&quot;, &quot;thread_id&quot;: 1, &quot;thread_name&quot;: &quot;default task-1&quot;, &quot;action_name&quot;: &quot;org.wildfly.security.http.servlet&quot;, &quot;log_message&quot;: &quot;JASPIC Unavailable, using HTTP authentication.&quot;}\r\n\t{&quot;log_timestamp&quot;: &quot;2023-03-31T12:34:38.629+0000&quot;, &quot;log_level&quot;: &quot;TRACE&quot;, &quot;process_id&quot;: 1, &quot;process_name&quot;: &quot;myapp&quot;, &quot;thread_id&quot;: 1, &quot;thread_name&quot;: &quot;default task-1&quot;, &quot;action_name&quot;: &quot;org.wildfly.security&quot;, &quot;log_message&quot;: &quot;No CachedIdentity to restore.&quot;}\r\n\t{&quot;log_timestamp&quot;: &quot;2023-03-31T12:34:38.629+0000&quot;, &quot;log_level&quot;: &quot;TRACE&quot;, &quot;process_id&quot;: 1, &quot;process_name&quot;: &quot;myapp&quot;, &quot;thread_id&quot;: 1, &quot;thread_name&quot;: &quot;default task-1&quot;, &quot;action_name&quot;: &quot;org.wildfly.security&quot;, &quot;log_message&quot;: &quot;Created HttpServerAuthenticationMechanism [org.wildfly.security.auth.server.SecurityIdentityServerMechanismFactory$1@611230fa] for mechanism [OIDC]&quot;}\r\n\t{&quot;log_timestamp&quot;: &quot;2023-03-31T12:34:38.630+0000&quot;, &quot;log_level&quot;: &quot;DEBUG&quot;, &quot;process_id&quot;: 1, &quot;process_name&quot;: &quot;myapp&quot;, &quot;thread_id&quot;: 1, &quot;thread_name&quot;: &quot;default task-1&quot;, &quot;action_name&quot;: &quot;org.wildfly.security.http.oidc&quot;, &quot;log_message&quot;: &quot;adminRequest http://localhost:8180/my-app/&quot;}\r\n\t{&quot;log_timestamp&quot;: &quot;2023-03-31T12:34:38.630+0000&quot;, &quot;log_level&quot;: &quot;TRACE&quot;, &quot;process_id&quot;: 1, &quot;process_name&quot;: &quot;myapp&quot;, &quot;thread_id&quot;: 1, &quot;thread_name&quot;: &quot;default task-1&quot;, &quot;action_name&quot;: &quot;org.wildfly.security.http.oidc&quot;, &quot;log_message&quot;: &quot;--&gt; authenticate()&quot;}\r\n\t{&quot;log_timestamp&quot;: &quot;2023-03-31T12:34:38.630+0000&quot;, &quot;log_level&quot;: &quot;TRACE&quot;, &quot;process_id&quot;: 1, &quot;process_name&quot;: &quot;myapp&quot;, &quot;thread_id&quot;: 1, &quot;thread_name&quot;: &quot;default task-1&quot;, &quot;action_name&quot;: &quot;org.wildfly.security.http.oidc&quot;, &quot;log_message&quot;: &quot;try bearer&quot;}\r\n\t{&quot;log_timestamp&quot;: &quot;2023-03-31T12:34:38.630+0000&quot;, &quot;log_level&quot;: &quot;TRACE&quot;, &quot;process_id&quot;: 1, &quot;process_name&quot;: &quot;myapp&quot;, &quot;thread_id&quot;: 1, &quot;thread_name&quot;: &quot;default task-1&quot;, &quot;action_name&quot;: &quot;org.wildfly.security.http.oidc&quot;, &quot;log_message&quot;: &quot;try query parameter auth&quot;}\r\n\t{&quot;log_timestamp&quot;: &quot;2023-03-31T12:34:38.630+0000&quot;, &quot;log_level&quot;: &quot;TRACE&quot;, &quot;process_id&quot;: 1, &quot;process_name&quot;: &quot;myapp&quot;, &quot;thread_id&quot;: 1, &quot;thread_name&quot;: &quot;default task-1&quot;, &quot;action_name&quot;: &quot;org.wildfly.security.http.oidc&quot;, &quot;log_message&quot;: &quot;try basic auth&quot;}\r\n\t{&quot;log_timestamp&quot;: &quot;2023-03-31T12:34:38.630+0000&quot;, &quot;log_level&quot;: &quot;TRACE&quot;, &quot;process_id&quot;: 1, &quot;process_name&quot;: &quot;myapp&quot;, &quot;thread_id&quot;: 1, &quot;thread_name&quot;: &quot;default task-1&quot;, &quot;action_name&quot;: &quot;org.wildfly.security.http.oidc&quot;, &quot;log_message&quot;: &quot;try oidc&quot;}\r\n\t{&quot;log_timestamp&quot;: &quot;2023-03-31T12:34:38.630+0000&quot;, &quot;log_level&quot;: &quot;DEBUG&quot;, &quot;process_id&quot;: 1, &quot;process_name&quot;: &quot;myapp&quot;, &quot;thread_id&quot;: 1, &quot;thread_name&quot;: &quot;default task-1&quot;, &quot;action_name&quot;: &quot;org.wildfly.security.http.oidc&quot;, &quot;log_message&quot;: &quot;Account was not in session, returning null&quot;}\r\n\t{&quot;log_timestamp&quot;: &quot;2023-03-31T12:34:38.630+0000&quot;, &quot;log_level&quot;: &quot;DEBUG&quot;, &quot;process_id&quot;: 1, &quot;process_name&quot;: &quot;myapp&quot;, &quot;thread_id&quot;: 1, &quot;thread_name&quot;: &quot;default task-1&quot;, &quot;action_name&quot;: &quot;org.wildfly.security.http.oidc&quot;, &quot;log_message&quot;: &quot;there was no code&quot;}\r\n\t{&quot;log_timestamp&quot;: &quot;2023-03-31T12:34:38.630+0000&quot;, &quot;log_level&quot;: &quot;DEBUG&quot;, &quot;process_id&quot;: 1, &quot;process_name&quot;: &quot;myapp&quot;, &quot;thread_id&quot;: 1, &quot;thread_name&quot;: &quot;default task-1&quot;, &quot;action_name&quot;: &quot;org.wildfly.security.http.oidc&quot;, &quot;log_message&quot;: &quot;redirecting to auth server&quot;}\r\n\t{&quot;log_timestamp&quot;: &quot;2023-03-31T12:34:38.630+0000&quot;, &quot;log_level&quot;: &quot;DEBUG&quot;, &quot;process_id&quot;: 1, &quot;process_name&quot;: &quot;myapp&quot;, &quot;thread_id&quot;: 1, &quot;thread_name&quot;: &quot;default task-1&quot;, &quot;action_name&quot;: &quot;org.wildfly.security.http.oidc&quot;, &quot;log_message&quot;: &quot;callback uri: http://localhost:8180/my-app/&quot;}\r\n\t{&quot;log_timestamp&quot;: &quot;2023-03-31T12:34:38.630+0000&quot;, &quot;log_level&quot;: &quot;DEBUG&quot;, &quot;process_id&quot;: 1, &quot;process_name&quot;: &quot;myapp&quot;, &quot;thread_id&quot;: 1, &quot;thread_name&quot;: &quot;default task-1&quot;, &quot;action_name&quot;: &quot;org.wildfly.security.http.oidc&quot;, &quot;log_message&quot;: &quot;Loading OpenID provider metadata from https://myidp.com/realm/myrealm/.well-known/openid-configuration&quot;}\r\n\t{&quot;log_timestamp&quot;: &quot;2023-03-31T12:34:38.632+0000&quot;, &quot;log_level&quot;: &quot;WARN&quot;, &quot;process_id&quot;: 1, &quot;process_name&quot;: &quot;myapp&quot;, &quot;thread_id&quot;: 1, &quot;thread_name&quot;: &quot;default task-1&quot;, &quot;action_name&quot;: &quot;org.wildfly.security.http.oidc&quot;, &quot;log_message&quot;: &quot;ELY23005: Unable to load OpenID provider metadata from https://myidp.com/realm/myrealm/.well-known/openid-configuration&quot;} \r\n\r\nOn looking at the [source code][1] of this log, there&#39;s no evidence which line is causing the exception. \r\n\r\nFew clues:\r\n\r\nAll our environments are created with same Helm, so there&#39;s no question of integrity or sanity.\r\nHTTPS Certificate of IDP is issued by a trusted CA.\r\nFrom within the container, we are able to hit the [metadata configuration][2] URL in last line \r\nAlso attached [standalone.xml][3]\r\nIDP provider is Keycloak. Compared Realm settings, client settings and found no difference. Tried pointing this app to a different Keycloak instance, but getting same issue.\r\n\r\n\r\n  [1]: https://github.com/wildfly-security/wildfly-elytron/blob/97f3c714d66899eaaee88d7c36fc8029e4fa56e7/http/oidc/src/main/java/org/wildfly/security/http/oidc/OidcClientConfiguration.java#L234\r\n\r\n  [2]: https://issues.redhat.com/secure/attachment/12943205/configuration.json\r\n\r\n  [3]: https://issues.redhat.com/secure/attachment/12943204/standalone.xml","title":"ELY23005: Unable to load OpenID provider metadata","body":"<p>Ours is a wildfly based application. We configured Keycloak OIDC with Elytron. This integration works well in all our environments except this one. On hitting any URL, it returns 403 Forbidden error.</p>\n<p>On enabling TRACE level, I could see these logs when hitting the application endpoint:</p>\n<pre><code>{&quot;log_timestamp&quot;: &quot;2023-03-31T12:34:38.629+0000&quot;, &quot;log_level&quot;: &quot;TRACE&quot;, &quot;process_id&quot;: 1, &quot;process_name&quot;: &quot;myapp&quot;, &quot;thread_id&quot;: 1, &quot;thread_name&quot;: &quot;default task-1&quot;, &quot;action_name&quot;: &quot;org.wildfly.security.http.servlet&quot;, &quot;log_message&quot;: &quot;Created ServletSecurityContextImpl enableJapi=true, integratedJaspi=true, applicationContext=default-host /my-app&quot;}\n{&quot;log_timestamp&quot;: &quot;2023-03-31T12:34:38.629+0000&quot;, &quot;log_level&quot;: &quot;TRACE&quot;, &quot;process_id&quot;: 1, &quot;process_name&quot;: &quot;myapp&quot;, &quot;thread_id&quot;: 1, &quot;thread_name&quot;: &quot;default task-1&quot;, &quot;action_name&quot;: &quot;org.wildfly.security.http.servlet&quot;, &quot;log_message&quot;: &quot;No AuthConfigProvider for layer=HttpServlet, appContext=default-host /my-app&quot;}\n{&quot;log_timestamp&quot;: &quot;2023-03-31T12:34:38.629+0000&quot;, &quot;log_level&quot;: &quot;TRACE&quot;, &quot;process_id&quot;: 1, &quot;process_name&quot;: &quot;myapp&quot;, &quot;thread_id&quot;: 1, &quot;thread_name&quot;: &quot;default task-1&quot;, &quot;action_name&quot;: &quot;org.wildfly.security.http.servlet&quot;, &quot;log_message&quot;: &quot;JASPIC Unavailable, using HTTP authentication.&quot;}\n{&quot;log_timestamp&quot;: &quot;2023-03-31T12:34:38.629+0000&quot;, &quot;log_level&quot;: &quot;TRACE&quot;, &quot;process_id&quot;: 1, &quot;process_name&quot;: &quot;myapp&quot;, &quot;thread_id&quot;: 1, &quot;thread_name&quot;: &quot;default task-1&quot;, &quot;action_name&quot;: &quot;org.wildfly.security&quot;, &quot;log_message&quot;: &quot;No CachedIdentity to restore.&quot;}\n{&quot;log_timestamp&quot;: &quot;2023-03-31T12:34:38.629+0000&quot;, &quot;log_level&quot;: &quot;TRACE&quot;, &quot;process_id&quot;: 1, &quot;process_name&quot;: &quot;myapp&quot;, &quot;thread_id&quot;: 1, &quot;thread_name&quot;: &quot;default task-1&quot;, &quot;action_name&quot;: &quot;org.wildfly.security&quot;, &quot;log_message&quot;: &quot;Created HttpServerAuthenticationMechanism [org.wildfly.security.auth.server.SecurityIdentityServerMechanismFactory$1@611230fa] for mechanism [OIDC]&quot;}\n{&quot;log_timestamp&quot;: &quot;2023-03-31T12:34:38.630+0000&quot;, &quot;log_level&quot;: &quot;DEBUG&quot;, &quot;process_id&quot;: 1, &quot;process_name&quot;: &quot;myapp&quot;, &quot;thread_id&quot;: 1, &quot;thread_name&quot;: &quot;default task-1&quot;, &quot;action_name&quot;: &quot;org.wildfly.security.http.oidc&quot;, &quot;log_message&quot;: &quot;adminRequest http://localhost:8180/my-app/&quot;}\n{&quot;log_timestamp&quot;: &quot;2023-03-31T12:34:38.630+0000&quot;, &quot;log_level&quot;: &quot;TRACE&quot;, &quot;process_id&quot;: 1, &quot;process_name&quot;: &quot;myapp&quot;, &quot;thread_id&quot;: 1, &quot;thread_name&quot;: &quot;default task-1&quot;, &quot;action_name&quot;: &quot;org.wildfly.security.http.oidc&quot;, &quot;log_message&quot;: &quot;--&gt; authenticate()&quot;}\n{&quot;log_timestamp&quot;: &quot;2023-03-31T12:34:38.630+0000&quot;, &quot;log_level&quot;: &quot;TRACE&quot;, &quot;process_id&quot;: 1, &quot;process_name&quot;: &quot;myapp&quot;, &quot;thread_id&quot;: 1, &quot;thread_name&quot;: &quot;default task-1&quot;, &quot;action_name&quot;: &quot;org.wildfly.security.http.oidc&quot;, &quot;log_message&quot;: &quot;try bearer&quot;}\n{&quot;log_timestamp&quot;: &quot;2023-03-31T12:34:38.630+0000&quot;, &quot;log_level&quot;: &quot;TRACE&quot;, &quot;process_id&quot;: 1, &quot;process_name&quot;: &quot;myapp&quot;, &quot;thread_id&quot;: 1, &quot;thread_name&quot;: &quot;default task-1&quot;, &quot;action_name&quot;: &quot;org.wildfly.security.http.oidc&quot;, &quot;log_message&quot;: &quot;try query parameter auth&quot;}\n{&quot;log_timestamp&quot;: &quot;2023-03-31T12:34:38.630+0000&quot;, &quot;log_level&quot;: &quot;TRACE&quot;, &quot;process_id&quot;: 1, &quot;process_name&quot;: &quot;myapp&quot;, &quot;thread_id&quot;: 1, &quot;thread_name&quot;: &quot;default task-1&quot;, &quot;action_name&quot;: &quot;org.wildfly.security.http.oidc&quot;, &quot;log_message&quot;: &quot;try basic auth&quot;}\n{&quot;log_timestamp&quot;: &quot;2023-03-31T12:34:38.630+0000&quot;, &quot;log_level&quot;: &quot;TRACE&quot;, &quot;process_id&quot;: 1, &quot;process_name&quot;: &quot;myapp&quot;, &quot;thread_id&quot;: 1, &quot;thread_name&quot;: &quot;default task-1&quot;, &quot;action_name&quot;: &quot;org.wildfly.security.http.oidc&quot;, &quot;log_message&quot;: &quot;try oidc&quot;}\n{&quot;log_timestamp&quot;: &quot;2023-03-31T12:34:38.630+0000&quot;, &quot;log_level&quot;: &quot;DEBUG&quot;, &quot;process_id&quot;: 1, &quot;process_name&quot;: &quot;myapp&quot;, &quot;thread_id&quot;: 1, &quot;thread_name&quot;: &quot;default task-1&quot;, &quot;action_name&quot;: &quot;org.wildfly.security.http.oidc&quot;, &quot;log_message&quot;: &quot;Account was not in session, returning null&quot;}\n{&quot;log_timestamp&quot;: &quot;2023-03-31T12:34:38.630+0000&quot;, &quot;log_level&quot;: &quot;DEBUG&quot;, &quot;process_id&quot;: 1, &quot;process_name&quot;: &quot;myapp&quot;, &quot;thread_id&quot;: 1, &quot;thread_name&quot;: &quot;default task-1&quot;, &quot;action_name&quot;: &quot;org.wildfly.security.http.oidc&quot;, &quot;log_message&quot;: &quot;there was no code&quot;}\n{&quot;log_timestamp&quot;: &quot;2023-03-31T12:34:38.630+0000&quot;, &quot;log_level&quot;: &quot;DEBUG&quot;, &quot;process_id&quot;: 1, &quot;process_name&quot;: &quot;myapp&quot;, &quot;thread_id&quot;: 1, &quot;thread_name&quot;: &quot;default task-1&quot;, &quot;action_name&quot;: &quot;org.wildfly.security.http.oidc&quot;, &quot;log_message&quot;: &quot;redirecting to auth server&quot;}\n{&quot;log_timestamp&quot;: &quot;2023-03-31T12:34:38.630+0000&quot;, &quot;log_level&quot;: &quot;DEBUG&quot;, &quot;process_id&quot;: 1, &quot;process_name&quot;: &quot;myapp&quot;, &quot;thread_id&quot;: 1, &quot;thread_name&quot;: &quot;default task-1&quot;, &quot;action_name&quot;: &quot;org.wildfly.security.http.oidc&quot;, &quot;log_message&quot;: &quot;callback uri: http://localhost:8180/my-app/&quot;}\n{&quot;log_timestamp&quot;: &quot;2023-03-31T12:34:38.630+0000&quot;, &quot;log_level&quot;: &quot;DEBUG&quot;, &quot;process_id&quot;: 1, &quot;process_name&quot;: &quot;myapp&quot;, &quot;thread_id&quot;: 1, &quot;thread_name&quot;: &quot;default task-1&quot;, &quot;action_name&quot;: &quot;org.wildfly.security.http.oidc&quot;, &quot;log_message&quot;: &quot;Loading OpenID provider metadata from https://myidp.com/realm/myrealm/.well-known/openid-configuration&quot;}\n{&quot;log_timestamp&quot;: &quot;2023-03-31T12:34:38.632+0000&quot;, &quot;log_level&quot;: &quot;WARN&quot;, &quot;process_id&quot;: 1, &quot;process_name&quot;: &quot;myapp&quot;, &quot;thread_id&quot;: 1, &quot;thread_name&quot;: &quot;default task-1&quot;, &quot;action_name&quot;: &quot;org.wildfly.security.http.oidc&quot;, &quot;log_message&quot;: &quot;ELY23005: Unable to load OpenID provider metadata from https://myidp.com/realm/myrealm/.well-known/openid-configuration&quot;} \n</code></pre>\n<p>On looking at the <a href=\"https://github.com/wildfly-security/wildfly-elytron/blob/97f3c714d66899eaaee88d7c36fc8029e4fa56e7/http/oidc/src/main/java/org/wildfly/security/http/oidc/OidcClientConfiguration.java#L234\" rel=\"nofollow noreferrer\">source code</a> of this log, there's no evidence which line is causing the exception.</p>\n<p>Few clues:</p>\n<p>All our environments are created with same Helm, so there's no question of integrity or sanity.\nHTTPS Certificate of IDP is issued by a trusted CA.\nFrom within the container, we are able to hit the <a href=\"https://issues.redhat.com/secure/attachment/12943205/configuration.json\" rel=\"nofollow noreferrer\">metadata configuration</a> URL in last line\nAlso attached <a href=\"https://issues.redhat.com/secure/attachment/12943204/standalone.xml\" rel=\"nofollow noreferrer\">standalone.xml</a>\nIDP provider is Keycloak. Compared Realm settings, client settings and found no difference. Tried pointing this app to a different Keycloak instance, but getting same issue.</p>\n"},{"tags":["java","html","jsoup","malformed"],"owner":{"account_id":1676492,"reputation":21,"user_id":1541929,"display_name":"Cmak Mak"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687891872,"creation_date":1687891224,"question_id":76567782,"body_markdown":"We use jsoup html parser to parse a malformed document, such as \r\n&amp;lt;div&amp;gt;&amp;lt;span&amp;gt;span 1&amp;lt;/span&amp;gt;&amp;lt;span&amp;gt;span 2&amp;lt;/span&amp;gt;\r\n\r\nNote that the html document is malformed, missing the trailing &amp;lt;/div&amp;gt;.\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    java code\r\n    String destString = &quot;&lt;div&gt;&lt;span&gt;span 1&lt;/span&gt;&lt;span&gt;span 2&lt;/span&gt;&quot;;\r\n    org.jsoup.nodes.Document jDoc = Jsoup.parse(destString, &quot;&quot;, Parser.xmlParser());\r\n    System.out.println(&quot;Parse:&quot; + jDoc.toString());\r\n\r\n\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n \r\n\r\nThe output will be is \r\noutcome: &amp;lt;div&amp;gt;&amp;lt;span&amp;gt;span 1&amp;lt;/span&amp;gt;&amp;lt;span&amp;gt;span 2&amp;lt;/span&amp;gt;&amp;lt;/div&amp;gt;\r\n \r\nOur use case need to preserve the content, unless it is changed by our conversion logic. The addition of trailing &quot;&amp;lt;/div&amp;gt;&quot; is considered a bug. How can I override the above behavior\r\n\r\n\r\nI expect jsoup Document.toString() will not include node that do not exist in the string passed to the html parser.","title":"Stop Jsoup document toString method from outputting nodes was not in the input string passed to the html parser","body":"<p>We use jsoup html parser to parse a malformed document, such as\n&lt;div&gt;&lt;span&gt;span 1&lt;/span&gt;&lt;span&gt;span 2&lt;/span&gt;</p>\n<p>Note that the html document is malformed, missing the trailing &lt;/div&gt;.</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>java code\nString destString = \"&lt;div&gt;&lt;span&gt;span 1&lt;/span&gt;&lt;span&gt;span 2&lt;/span&gt;\";\norg.jsoup.nodes.Document jDoc = Jsoup.parse(destString, \"\", Parser.xmlParser());\nSystem.out.println(\"Parse:\" + jDoc.toString());</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p>The output will be is\noutcome: &lt;div&gt;&lt;span&gt;span 1&lt;/span&gt;&lt;span&gt;span 2&lt;/span&gt;&lt;/div&gt;</p>\n<p>Our use case need to preserve the content, unless it is changed by our conversion logic. The addition of trailing &quot;&lt;/div&gt;&quot; is considered a bug. How can I override the above behavior</p>\n<p>I expect jsoup Document.toString() will not include node that do not exist in the string passed to the html parser.</p>\n"},{"tags":["java","spring-boot","unit-testing"],"answers":[{"tags":[],"owner":{"account_id":4291439,"reputation":176,"user_id":3507691,"accept_rate":60,"display_name":"Tocchetto"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687891694,"creation_date":1687889405,"answer_id":76567603,"question_id":76566121,"body_markdown":"\r\nFound a solution to the problem, noting it here in case anyone else runs into this.\r\n\r\nThe ```@BeforeAll``` from Junit5 allows you to run code before the spring context initialization.\r\n\r\nThat technically answers my question but did not solve the problem, as I then ran into the issue where my mocked object was not being injected into the client and was being overwritten by a spring created ```@MockBean```. Though about manually registering the mocked object with the SpringContext but I am not sure that would be possible as the context was not ready by the time @BeforeAll runs.\r\n\r\nThat did gave me the idea of returning the mock as a bean from a ```@TestConfiguration```.\r\n\r\nSo, this is what solved the issue:\r\n\r\n1 - Have a ```@TestConfiguration``` class that returns the mocked RestTemplate bean. The preparation has to be done inside the configuration code\r\n```\r\n@Bean\r\n    RestTemplate restTemplate(){\r\n        String auth_url = &quot;http://localhost&quot;;\r\n        SFDCOAuthToken token = new SFDCOAuthToken();\r\n        token.setInstanceUrl(&quot;http://localhost&quot;);\r\n        RestTemplate restTemplateMock = mock(RestTemplate.class);\r\n        when(restTemplateMock.exchange(eq(auth_url), eq(HttpMethod.POST), any(), eq(SFDCOAuthToken.class)))\r\n                .thenReturn(new ResponseEntity&lt;&gt;(token, HttpStatus.OK));\r\n       return restTemplateMock;\r\n    }\r\n```\r\n2 - Remove the ```@MockBean``` from the RestTemplate in the test class, otherwise that bean will take priority over the one in the configuration\r\n\r\n3 - Grab the mocked bean from the context in the test class so you can add more stubs during the tests (the context can simply be retrieved with an ```@Autowire ApplicationContext``` in the test class)\r\n```\r\n@BeforeEach\r\n    void init(){\r\n        restTemplateMock = ctx.getBean(RestTemplate.class);\r\n    }\r\n```\r\n","title":"Mocking an object before ApplicationReadyEvent","body":"<p>Found a solution to the problem, noting it here in case anyone else runs into this.</p>\n<p>The <code>@BeforeAll</code> from Junit5 allows you to run code before the spring context initialization.</p>\n<p>That technically answers my question but did not solve the problem, as I then ran into the issue where my mocked object was not being injected into the client and was being overwritten by a spring created <code>@MockBean</code>. Though about manually registering the mocked object with the SpringContext but I am not sure that would be possible as the context was not ready by the time @BeforeAll runs.</p>\n<p>That did gave me the idea of returning the mock as a bean from a <code>@TestConfiguration</code>.</p>\n<p>So, this is what solved the issue:</p>\n<p>1 - Have a <code>@TestConfiguration</code> class that returns the mocked RestTemplate bean. The preparation has to be done inside the configuration code</p>\n<pre><code>@Bean\n    RestTemplate restTemplate(){\n        String auth_url = &quot;http://localhost&quot;;\n        SFDCOAuthToken token = new SFDCOAuthToken();\n        token.setInstanceUrl(&quot;http://localhost&quot;);\n        RestTemplate restTemplateMock = mock(RestTemplate.class);\n        when(restTemplateMock.exchange(eq(auth_url), eq(HttpMethod.POST), any(), eq(SFDCOAuthToken.class)))\n                .thenReturn(new ResponseEntity&lt;&gt;(token, HttpStatus.OK));\n       return restTemplateMock;\n    }\n</code></pre>\n<p>2 - Remove the <code>@MockBean</code> from the RestTemplate in the test class, otherwise that bean will take priority over the one in the configuration</p>\n<p>3 - Grab the mocked bean from the context in the test class so you can add more stubs during the tests (the context can simply be retrieved with an <code>@Autowire ApplicationContext</code> in the test class)</p>\n<pre><code>@BeforeEach\n    void init(){\n        restTemplateMock = ctx.getBean(RestTemplate.class);\n    }\n</code></pre>\n"}],"owner":{"account_id":4291439,"reputation":176,"user_id":3507691,"accept_rate":60,"display_name":"Tocchetto"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":131,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1687891694,"creation_date":1687877536,"question_id":76566121,"body_markdown":"I have a service that runs on a @Scheduled, as such, I need some classes to be initialized as soon as possible so they are ready when the first scheduled window triggers.\r\n\r\nI have a client class that has the following small initialization code:\r\n```\r\n@EventListener(ApplicationReadyEvent.class)\r\n    private void init() {\r\n        if(auth != null){\r\n            auth.getToken();\r\n            instanceURL = token.getInstanceUrl();\r\n        }\r\n        if(urlUtils !=null){\r\n            urlUtils.setServiceUrl();\r\n        }\r\n    }\r\n```\r\n\r\nEverything worked perfectly and the world was in peace. Then the unit test nation attacked and I ran into some issues.\r\n\r\nWhile unit testing this class, I need to mock the RestTemplate it uses, the issue is, this piece of code runs before I can mock anything on my unit test, and as such I can&#39;t mock the RestTemplate call that is used in ``` auth.getToken() ``` before it is called and throw a NullPointerException up.\r\n\r\nI&#39;ve tried putting the mock in an ApplicationEvent that would trigger before the ApplicationReadyEvent in the unit test class, like ApplicationStartedEvent, but that obviously didn&#39;t work.\r\n\r\nI am starting to get the feeling that this is a code smell, but it doesn&#39;t feel like bad design to me.\r\n\r\nI can&#39;t move the initialization code outside the class, as the ```auth``` and ```urlUtils``` are instances of two inner classes (which make sense to be inner classes as it is only used by this client).\r\n\r\nI could put a conditional on the event and have it disabled for the test profile, but I do need the code to run, so that wouldn&#39;t solve the problem either.\r\n\r\nAny ideas of what to do? I am up for refactoring, but I don&#39;t think I should move the auth and urlUtils classes outside the client class...","title":"Mocking an object before ApplicationReadyEvent","body":"<p>I have a service that runs on a @Scheduled, as such, I need some classes to be initialized as soon as possible so they are ready when the first scheduled window triggers.</p>\n<p>I have a client class that has the following small initialization code:</p>\n<pre><code>@EventListener(ApplicationReadyEvent.class)\n    private void init() {\n        if(auth != null){\n            auth.getToken();\n            instanceURL = token.getInstanceUrl();\n        }\n        if(urlUtils !=null){\n            urlUtils.setServiceUrl();\n        }\n    }\n</code></pre>\n<p>Everything worked perfectly and the world was in peace. Then the unit test nation attacked and I ran into some issues.</p>\n<p>While unit testing this class, I need to mock the RestTemplate it uses, the issue is, this piece of code runs before I can mock anything on my unit test, and as such I can't mock the RestTemplate call that is used in <code>auth.getToken()</code> before it is called and throw a NullPointerException up.</p>\n<p>I've tried putting the mock in an ApplicationEvent that would trigger before the ApplicationReadyEvent in the unit test class, like ApplicationStartedEvent, but that obviously didn't work.</p>\n<p>I am starting to get the feeling that this is a code smell, but it doesn't feel like bad design to me.</p>\n<p>I can't move the initialization code outside the class, as the <code>auth</code> and <code>urlUtils</code> are instances of two inner classes (which make sense to be inner classes as it is only used by this client).</p>\n<p>I could put a conditional on the event and have it disabled for the test profile, but I do need the code to run, so that wouldn't solve the problem either.</p>\n<p>Any ideas of what to do? I am up for refactoring, but I don't think I should move the auth and urlUtils classes outside the client class...</p>\n"},{"tags":["java","node.js","maven","ssl-certificate","intellij-15"],"comments":[{"owner":{"account_id":28906593,"reputation":1,"user_id":22140509,"display_name":"Sravya"},"score":0,"creation_date":1688072429,"post_id":76567802,"comment_id":135028704,"body_markdown":"Any suggestions on this issue?","body":"Any suggestions on this issue?"}],"owner":{"account_id":28906593,"reputation":1,"user_id":22140509,"display_name":"Sravya"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":199,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687891381,"creation_date":1687891381,"question_id":76567802,"body_markdown":"[ERROR] Failed to execute goal com.github.eirslett:frontend-maven-plugin:1.7.6:install-node-and-npm (install node and npm) on project sok-wcm.ui.frontend: Could not download Node.js fr\r\nom: https://nodejs.org/dist/v10.16.0/win-x64/node.exe: Could not download https://nodejs.org/dist/v10.16.0/win-x64/node.exe: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target -&gt; [Help 1]\r\n\r\nTrying to do maven build but encountered the above error.\r\n\r\n1.I have tried replacing my jdk security cacert folder with one of my team mates folder which is working for them. It didn&#39;t work for me. \r\nI thought it was failing at getting npm packages, but it&#39;s actually not even getting node... so this is....\r\n\r\n2.Configured USER Variable the MAVEN_OPTS environment variable for your user with the following information: \r\n\r\n-Xmx512m -Djavax.net.ssl.keyStore=NONE -Djavax.net.ssl.keyStoreType=Windows-my -Djavax.net.ssl.trustStore=NONE -Djavax.net.ssl.trustStoreType=Windows-ROOT\r\n\r\n3.Tried manually installing node using the link that is in the error message.","title":"sun.security.provider.certpathS .SunCertPathBuilderException: unable to find valid certification path to requested target","body":"<p>[ERROR] Failed to execute goal com.github.eirslett:frontend-maven-plugin:1.7.6:install-node-and-npm (install node and npm) on project sok-wcm.ui.frontend: Could not download Node.js fr\nom: <a href=\"https://nodejs.org/dist/v10.16.0/win-x64/node.exe\" rel=\"nofollow noreferrer\">https://nodejs.org/dist/v10.16.0/win-x64/node.exe</a>: Could not download <a href=\"https://nodejs.org/dist/v10.16.0/win-x64/node.exe\" rel=\"nofollow noreferrer\">https://nodejs.org/dist/v10.16.0/win-x64/node.exe</a>: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target -&gt; [Help 1]</p>\n<p>Trying to do maven build but encountered the above error.</p>\n<p>1.I have tried replacing my jdk security cacert folder with one of my team mates folder which is working for them. It didn't work for me.\nI thought it was failing at getting npm packages, but it's actually not even getting node... so this is....</p>\n<p>2.Configured USER Variable the MAVEN_OPTS environment variable for your user with the following information:</p>\n<p>-Xmx512m -Djavax.net.ssl.keyStore=NONE -Djavax.net.ssl.keyStoreType=Windows-my -Djavax.net.ssl.trustStore=NONE -Djavax.net.ssl.trustStoreType=Windows-ROOT</p>\n<p>3.Tried manually installing node using the link that is in the error message.</p>\n"},{"tags":["java","android","rest"],"comments":[{"owner":{"account_id":25117461,"reputation":153,"user_id":18966287,"display_name":"Saad Waseem"},"score":0,"creation_date":1681890457,"post_id":76050296,"comment_id":134128185,"body_markdown":"Though my answer might not be related to the question, I would recommend that if you&#39;re learning Android, then: \n\n1. Start learning Jetpack Compose with Kotlin instead of Java.\n2. Use libraries like Retrofit for network requests.\n\nIt&#39;s easier to create this similar feature in Compose.","body":"Though my answer might not be related to the question, I would recommend that if you&#39;re learning Android, then:   1. Start learning Jetpack Compose with Kotlin instead of Java. 2. Use libraries like Retrofit for network requests.  It&#39;s easier to create this similar feature in Compose."}],"answers":[{"tags":[],"owner":{"account_id":18178378,"reputation":13,"user_id":13226665,"display_name":"daschay"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687891085,"creation_date":1687891085,"answer_id":76567765,"question_id":76050296,"body_markdown":"The code is ok but requires an Adapter for `AutoCompleteTextView` with no filtering at all, that should be used in place of `ArrayAdapter`. Since I created the `NoFilterAdapter` with ChatGPT, I am not uploading the code here.","title":"AutoCompleteTextView not populating correctly through REST. What is wrong?","body":"<p>The code is ok but requires an Adapter for <code>AutoCompleteTextView</code> with no filtering at all, that should be used in place of <code>ArrayAdapter</code>. Since I created the <code>NoFilterAdapter</code> with ChatGPT, I am not uploading the code here.</p>\n"}],"owner":{"account_id":18178378,"reputation":13,"user_id":13226665,"display_name":"daschay"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1687891085,"creation_date":1681870768,"question_id":76050296,"body_markdown":"I am trying to learn android programming and create a REST client. I have checked the server with Postman, which is working correctly. In the android side I created a `AutoCompleteTextView`, which is getting populated by the data received through REST, and this is not working properly. For example, if I type &#39;A&#39; no list is coming, but if I type &#39;Ap&#39; and then delete &#39;p&#39;, some of the options are coming.  I have detected that it is receiving data correctly, but the Adapter used in `AutoCompleteTextView` is not clearing and not getting updating properly. Could you please tell me what I am missing?\r\n\r\nHere goes my MainActivity class:\r\n````\r\npackage com.example.connectdb;\r\n\r\nimport android.os.Bundle;\r\nimport android.os.Handler;\r\nimport android.os.Looper;\r\nimport android.text.Editable;\r\nimport android.text.TextWatcher;\r\nimport android.util.Log;\r\nimport android.widget.ArrayAdapter;\r\nimport android.widget.AutoCompleteTextView;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport org.json.JSONArray;\r\nimport org.json.JSONException;\r\nimport org.json.JSONObject;\r\n\r\nimport java.io.BufferedReader;\r\nimport java.io.IOException;\r\nimport java.io.InputStream;\r\nimport java.io.InputStreamReader;\r\nimport java.io.OutputStreamWriter;\r\nimport java.net.HttpURLConnection;\r\nimport java.net.URL;\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\nimport java.util.concurrent.ExecutorService;\r\nimport java.util.concurrent.Executors;\r\n\r\npublic class MainActivity extends AppCompatActivity {\r\n    private static final String TAG = MainActivity.class.getSimpleName();\r\n    private static final String BASE_URL = &quot;http://192.168.0.154:8080/autocomplete/json&quot;;\r\n    private AutoCompleteTextView autoCompleteTextView;\r\n    private ArrayAdapter&lt;String&gt; adapter;\r\n    private String[] arr = {};\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n        autoCompleteTextView = findViewById(R.id.autoCompleteTextView);\r\n        adapter = new ArrayAdapter&lt;&gt;(this, android.R.layout.simple_dropdown_item_1line, arr);\r\n        autoCompleteTextView.setThreshold(1);\r\n        autoCompleteTextView.setAdapter(adapter);\r\n        autoCompleteTextView.addTextChangedListener(textWatcher);\r\n    }\r\n    private final TextWatcher textWatcher = new TextWatcher() {\r\n        private ExecutorService executor = Executors.newSingleThreadExecutor();\r\n        private Handler handler = new Handler(Looper.getMainLooper());\r\n        private List&lt;String&gt; strings;\r\n        public void execute(String string) {\r\n            executor.execute(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    strings = backgroundWork(string);\r\n                    handler.post(new Runnable() {\r\n                        @Override\r\n                        public void run() {\r\n                            changeAdapter(strings);\r\n                        }\r\n                    });\r\n                }\r\n            });\r\n        }\r\n        private List&lt;String&gt; backgroundWork(String string) {\r\n            List&lt;String&gt; results = new ArrayList&lt;&gt;();\r\n            try {\r\n                URL url = new URL(BASE_URL);\r\n                HttpURLConnection connection = (HttpURLConnection) url.openConnection();\r\n                connection.setRequestMethod(&quot;POST&quot;);\r\n                connection.setDoInput(true);\r\n                connection.setDoOutput(false);\r\n                connection.addRequestProperty(&quot;Content-Length&quot;, Integer.toString(6+string.length()));\r\n                connection.addRequestProperty(&quot;Content-Type&quot;, &quot;application/x-www-form-urlencoded&quot;);\r\n                connection.connect();\r\n                OutputStreamWriter writer = new OutputStreamWriter(connection.getOutputStream());\r\n                writer.write(&quot;query=&quot;+string);\r\n                writer.flush();\r\n                int responseCode = connection.getResponseCode();\r\n                if (responseCode == HttpURLConnection.HTTP_OK) {\r\n                    InputStream inputStream = connection.getInputStream();\r\n                    BufferedReader bufferedReader = new BufferedReader(new InputStreamReader(inputStream));\r\n                    StringBuilder stringBuilder = new StringBuilder();\r\n                    String line;\r\n                    while ((line = bufferedReader.readLine()) != null) {\r\n                        stringBuilder.append(line).append(&#39;\\n&#39;);\r\n                    }\r\n                    bufferedReader.close();\r\n                    inputStream.close();\r\n                    JSONArray jsonArray = new JSONArray(stringBuilder.toString());\r\n                    for (int i = 0; i &lt; jsonArray.length(); i++) {\r\n                        JSONObject jsonObject = jsonArray.getJSONObject(i);\r\n                        results.add(jsonObject.getString(&quot;interpretation&quot;));\r\n                    }\r\n                }\r\n            } catch (IOException | JSONException e) {\r\n                Log.e(TAG, &quot;Error occurred while searching&quot;, e);\r\n            }\r\n            return results;\r\n        }\r\n        @Override\r\n        public void beforeTextChanged(CharSequence charSequence, int i, int i1, int i2) {\r\n        }\r\n        @Override\r\n        public void onTextChanged(CharSequence charSequence, int i, int i1, int i2) {\r\n        }\r\n        @Override\r\n        public void afterTextChanged(Editable editable) {\r\n            String text = autoCompleteTextView.getText().toString().trim();\r\n            if (!text.isEmpty()) execute(text);\r\n        }\r\n    };\r\n    public void changeAdapter(List&lt;String&gt; strings) {\r\n        if (adapter != null) {\r\n            adapter.clear();\r\n            if (strings != null) adapter.addAll(strings);\r\n            adapter.notifyDataSetChanged();\r\n        }\r\n    }\r\n}\r\n````\r\n\r\nactivity_main.xml here:\r\n````\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    tools:context=&quot;.MainActivity&quot;&gt;\r\n\r\n    &lt;AutoCompleteTextView\r\n        android:id=&quot;@+id/autoCompleteTextView&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_margin=&quot;16dp&quot;\r\n        android:hint=&quot;Search...&quot;\r\n        android:imeOptions=&quot;actionDone&quot;\r\n        android:inputType=&quot;textAutoComplete|textCapWords&quot; /&gt;\r\n\r\n&lt;/RelativeLayout&gt;\r\n````\r\n\r\nAndroidManifest.xml here:\r\n````\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot; /&gt;\r\n\r\n    &lt;application\r\n        android:allowBackup=&quot;true&quot;\r\n        android:dataExtractionRules=&quot;@xml/data_extraction_rules&quot;\r\n        android:fullBackupContent=&quot;@xml/backup_rules&quot;\r\n        android:icon=&quot;@mipmap/ic_launcher&quot;\r\n        android:label=&quot;@string/app_name&quot;\r\n        android:supportsRtl=&quot;true&quot;\r\n        android:theme=&quot;@style/Theme.ConnectDB&quot;\r\n        android:usesCleartextTraffic=&quot;true&quot;\r\n        tools:targetApi=&quot;31&quot;&gt;\r\n        &lt;activity\r\n            android:name=&quot;.MainActivity&quot;\r\n            android:exported=&quot;true&quot;&gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n\r\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n        &lt;/activity&gt;\r\n    &lt;/application&gt;\r\n\r\n&lt;/manifest&gt;\r\n````\r\n\r\n","title":"AutoCompleteTextView not populating correctly through REST. What is wrong?","body":"<p>I am trying to learn android programming and create a REST client. I have checked the server with Postman, which is working correctly. In the android side I created a <code>AutoCompleteTextView</code>, which is getting populated by the data received through REST, and this is not working properly. For example, if I type 'A' no list is coming, but if I type 'Ap' and then delete 'p', some of the options are coming.  I have detected that it is receiving data correctly, but the Adapter used in <code>AutoCompleteTextView</code> is not clearing and not getting updating properly. Could you please tell me what I am missing?</p>\n<p>Here goes my MainActivity class:</p>\n<pre><code>package com.example.connectdb;\n\nimport android.os.Bundle;\nimport android.os.Handler;\nimport android.os.Looper;\nimport android.text.Editable;\nimport android.text.TextWatcher;\nimport android.util.Log;\nimport android.widget.ArrayAdapter;\nimport android.widget.AutoCompleteTextView;\nimport androidx.appcompat.app.AppCompatActivity;\nimport org.json.JSONArray;\nimport org.json.JSONException;\nimport org.json.JSONObject;\n\nimport java.io.BufferedReader;\nimport java.io.IOException;\nimport java.io.InputStream;\nimport java.io.InputStreamReader;\nimport java.io.OutputStreamWriter;\nimport java.net.HttpURLConnection;\nimport java.net.URL;\nimport java.util.ArrayList;\nimport java.util.List;\nimport java.util.concurrent.ExecutorService;\nimport java.util.concurrent.Executors;\n\npublic class MainActivity extends AppCompatActivity {\n    private static final String TAG = MainActivity.class.getSimpleName();\n    private static final String BASE_URL = &quot;http://192.168.0.154:8080/autocomplete/json&quot;;\n    private AutoCompleteTextView autoCompleteTextView;\n    private ArrayAdapter&lt;String&gt; adapter;\n    private String[] arr = {};\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n        autoCompleteTextView = findViewById(R.id.autoCompleteTextView);\n        adapter = new ArrayAdapter&lt;&gt;(this, android.R.layout.simple_dropdown_item_1line, arr);\n        autoCompleteTextView.setThreshold(1);\n        autoCompleteTextView.setAdapter(adapter);\n        autoCompleteTextView.addTextChangedListener(textWatcher);\n    }\n    private final TextWatcher textWatcher = new TextWatcher() {\n        private ExecutorService executor = Executors.newSingleThreadExecutor();\n        private Handler handler = new Handler(Looper.getMainLooper());\n        private List&lt;String&gt; strings;\n        public void execute(String string) {\n            executor.execute(new Runnable() {\n                @Override\n                public void run() {\n                    strings = backgroundWork(string);\n                    handler.post(new Runnable() {\n                        @Override\n                        public void run() {\n                            changeAdapter(strings);\n                        }\n                    });\n                }\n            });\n        }\n        private List&lt;String&gt; backgroundWork(String string) {\n            List&lt;String&gt; results = new ArrayList&lt;&gt;();\n            try {\n                URL url = new URL(BASE_URL);\n                HttpURLConnection connection = (HttpURLConnection) url.openConnection();\n                connection.setRequestMethod(&quot;POST&quot;);\n                connection.setDoInput(true);\n                connection.setDoOutput(false);\n                connection.addRequestProperty(&quot;Content-Length&quot;, Integer.toString(6+string.length()));\n                connection.addRequestProperty(&quot;Content-Type&quot;, &quot;application/x-www-form-urlencoded&quot;);\n                connection.connect();\n                OutputStreamWriter writer = new OutputStreamWriter(connection.getOutputStream());\n                writer.write(&quot;query=&quot;+string);\n                writer.flush();\n                int responseCode = connection.getResponseCode();\n                if (responseCode == HttpURLConnection.HTTP_OK) {\n                    InputStream inputStream = connection.getInputStream();\n                    BufferedReader bufferedReader = new BufferedReader(new InputStreamReader(inputStream));\n                    StringBuilder stringBuilder = new StringBuilder();\n                    String line;\n                    while ((line = bufferedReader.readLine()) != null) {\n                        stringBuilder.append(line).append('\\n');\n                    }\n                    bufferedReader.close();\n                    inputStream.close();\n                    JSONArray jsonArray = new JSONArray(stringBuilder.toString());\n                    for (int i = 0; i &lt; jsonArray.length(); i++) {\n                        JSONObject jsonObject = jsonArray.getJSONObject(i);\n                        results.add(jsonObject.getString(&quot;interpretation&quot;));\n                    }\n                }\n            } catch (IOException | JSONException e) {\n                Log.e(TAG, &quot;Error occurred while searching&quot;, e);\n            }\n            return results;\n        }\n        @Override\n        public void beforeTextChanged(CharSequence charSequence, int i, int i1, int i2) {\n        }\n        @Override\n        public void onTextChanged(CharSequence charSequence, int i, int i1, int i2) {\n        }\n        @Override\n        public void afterTextChanged(Editable editable) {\n            String text = autoCompleteTextView.getText().toString().trim();\n            if (!text.isEmpty()) execute(text);\n        }\n    };\n    public void changeAdapter(List&lt;String&gt; strings) {\n        if (adapter != null) {\n            adapter.clear();\n            if (strings != null) adapter.addAll(strings);\n            adapter.notifyDataSetChanged();\n        }\n    }\n}\n</code></pre>\n<p>activity_main.xml here:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    tools:context=&quot;.MainActivity&quot;&gt;\n\n    &lt;AutoCompleteTextView\n        android:id=&quot;@+id/autoCompleteTextView&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_margin=&quot;16dp&quot;\n        android:hint=&quot;Search...&quot;\n        android:imeOptions=&quot;actionDone&quot;\n        android:inputType=&quot;textAutoComplete|textCapWords&quot; /&gt;\n\n&lt;/RelativeLayout&gt;\n</code></pre>\n<p>AndroidManifest.xml here:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;&gt;\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot; /&gt;\n\n    &lt;application\n        android:allowBackup=&quot;true&quot;\n        android:dataExtractionRules=&quot;@xml/data_extraction_rules&quot;\n        android:fullBackupContent=&quot;@xml/backup_rules&quot;\n        android:icon=&quot;@mipmap/ic_launcher&quot;\n        android:label=&quot;@string/app_name&quot;\n        android:supportsRtl=&quot;true&quot;\n        android:theme=&quot;@style/Theme.ConnectDB&quot;\n        android:usesCleartextTraffic=&quot;true&quot;\n        tools:targetApi=&quot;31&quot;&gt;\n        &lt;activity\n            android:name=&quot;.MainActivity&quot;\n            android:exported=&quot;true&quot;&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\n\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\n            &lt;/intent-filter&gt;\n        &lt;/activity&gt;\n    &lt;/application&gt;\n\n&lt;/manifest&gt;\n</code></pre>\n"},{"tags":["java","swing"],"comments":[{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":2,"creation_date":1687806489,"post_id":76559470,"comment_id":134985468,"body_markdown":"You can only have a single renderer for each column. So your custom renderer needs to control both the Font and alignment.","body":"You can only have a single renderer for each column. So your custom renderer needs to control both the Font and alignment."},{"owner":{"account_id":23517856,"reputation":125,"user_id":17565490,"display_name":"Ryan Day"},"score":0,"creation_date":1687851763,"post_id":76559470,"comment_id":134990689,"body_markdown":"Nice to kinow. Will work on it. Thank you","body":"Nice to kinow. Will work on it. Thank you"},{"owner":{"account_id":23517856,"reputation":125,"user_id":17565490,"display_name":"Ryan Day"},"score":0,"creation_date":1687866280,"post_id":76559470,"comment_id":134993699,"body_markdown":"Im sorry but I cant obtain a single renderer making the two thing. May I need a different renderer","body":"Im sorry but I cant obtain a single renderer making the two thing. May I need a different renderer"},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1687873261,"post_id":76559470,"comment_id":134995517,"body_markdown":"Why? You already have the renderer to set the Font. So you just add your setHorizontalAlignement(...) statement to that renderer.  See: https://stackoverflow.com/a/42180634/131872 for an example. Post your ]mre] demonstrating the problem if you need more help","body":"Why? You already have the renderer to set the Font. So you just add your setHorizontalAlignement(...) statement to that renderer.  See: <a href=\"https://stackoverflow.com/a/42180634/131872\">stackoverflow.com/a/42180634/131872</a> for an example. Post your ]mre] demonstrating the problem if you need more help"},{"owner":{"account_id":23517856,"reputation":125,"user_id":17565490,"display_name":"Ryan Day"},"score":0,"creation_date":1687890903,"post_id":76559470,"comment_id":134999706,"body_markdown":"Pls, see the add after the original question","body":"Pls, see the add after the original question"},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1687914759,"post_id":76559470,"comment_id":135002730,"body_markdown":"Read the Swing tutorial on [How to Use Tables](https://docs.oracle.com/javase/tutorial/uiswing/components/table.html) for the basics. *This must be letf aligned* - if a column has different rendering logic, then use a different renderer. You need one for the first column and one for the others. *with size of 100* - the renderer doesn&#39;t control the width of the column. Read the tutorial for information on how to control the width.","body":"Read the Swing tutorial on <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/components/table.html\" rel=\"nofollow noreferrer\">How to Use Tables</a> for the basics. <i>This must be letf aligned</i> - if a column has different rendering logic, then use a different renderer. You need one for the first column and one for the others. <i>with size of 100</i> - the renderer doesn&#39;t control the width of the column. Read the tutorial for information on how to control the width."}],"owner":{"account_id":23517856,"reputation":125,"user_id":17565490,"display_name":"Ryan Day"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687890843,"creation_date":1687805490,"question_id":76559470,"body_markdown":"==== New info and mre at bottom =====\r\n\r\nWhat I would like to get from the code below is the second row with a different font from the other rows and that the whole table is center aligned.\r\nThe problem is that if I leave both renders uncommented only the second one is displayed. If the first is the font change, only the center alignment is displayed and vice versa if the first is the alignment, only the font change is displayed\r\n\r\n    public class Example extends JFrame {\r\n     \r\n        private static final String[] COLUMNS = { &quot;1&quot;, &quot;2&quot;,&quot;3&quot;}; //, &quot;4&quot;, &quot;5&quot;, &quot;6&quot;, &quot;7&quot;, &quot;8&quot;, &quot;9&quot;, &quot;10&quot;, &quot;11&quot;, &quot;12&quot;, &quot;13&quot;, &quot;14&quot;, &quot;15&quot;  };\r\n    \r\n        public Example() {\r\n            super(&quot;test&quot;);\r\n            setDefaultCloseOperation(EXIT_ON_CLOSE);\r\n            setLayout(new BorderLayout());\r\n    \r\n            JTable table = new JTable(data(), COLUMNS);\r\n            \r\n            for (int i = 1; i&lt;= 2; i++){\r\n            table.getColumnModel().getColumn(i).setCellRenderer((TableCellRenderer) new DefaultTableCellRenderer() {\r\n                //@Override\r\n                public Component getTableCellRendererComponent(JTable table, Object value, boolean isSelected, boolean hasFocus, int row,\r\n                        int column) {\r\n                    Component c = super.getTableCellRendererComponent(table, value, isSelected, hasFocus, row, column);\r\n                    if (c instanceof JLabel) {\r\n                        JLabel renderer = (JLabel) c;\r\n                        if (row == 1) {\r\n                            renderer.setFont(new Font(&quot;Arial&quot;, Font.BOLD, 15));} \r\n                        else {\r\n                                renderer.setFont(table.getFont());} \r\n                    }\r\n                    return c;\r\n                }\r\n                });\r\n                }\r\n            /**\r\n            TableColumn column = null;\r\n            DefaultTableCellRenderer centerRenderer = new DefaultTableCellRenderer(); //center value in columns\r\n            centerRenderer.setHorizontalAlignment(JLabel.CENTER);\r\n            for (int i = 0; i &lt;= 2; i++) {\r\n            column = table.getColumnModel().getColumn(i);\r\n            if (i == 0) { //This must be letf aligned with size of 100\r\n                column.setPreferredWidth(100);}\r\n            else {\r\n                column.setPreferredWidth(30);\r\n                table.getColumnModel().getColumn(i).setCellRenderer(centerRenderer);\r\n            }}\r\n            \r\n            **/\r\n    \r\n            JScrollPane sp = new JScrollPane(table);\r\n            add(sp);\r\n            pack();\r\n            setLocationRelativeTo(null);\r\n        }\r\n    \r\n        private Object[][] data() {\r\n            Object[][] data = { { 113, 444, 234 }, { 233, 555, 234  }, { 110, 92, 234  }, { 55, 66, 234  }, { 123, 603, 234  }, { 412, 120, 234  }, };\r\n            return data;\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            SwingUtilities.invokeLater(() -&gt; new Example().setVisible(true));\r\n        }\r\n    }\r\n\r\n\r\n====\r\n==== This is new ===\r\n====\r\n\r\n=== It&#39;s not very orthodox but I didn&#39;t know how to do it ===\r\n\r\nThe link you suggested is good for two of the three things I would like to achieve: the colored background and the change of font on one line. [in the mre only column 0 is affected but this is not a problem)\r\n\r\nWhat I can&#39;t figure out is the sizing of the first column. Problem parts are commented out where column == 0\r\n\r\n\r\n    public class TableRenderer extends JPanel\r\n    {\r\n        public TableRenderer()\r\n        {\r\n            String[] columnNames = {&quot;String&quot;, &quot;Integer&quot;};\r\n            Object[][] data =\r\n            {\r\n                {&quot;AAAAAAAAAAAAAAAAAAAA&quot;, new Integer(1)},\r\n                {&quot;B&quot;, new Integer(2)},\r\n                {&quot;C&quot;, new Integer(10)},\r\n                {&quot;D&quot;, new Integer(4)}\r\n            };\r\n    \r\n            DefaultTableModel model = new DefaultTableModel(data, columnNames);\r\n            JTable table = new JTable( model );\r\n            table.setPreferredScrollableViewportSize(table.getPreferredSize());\r\n            JScrollPane scrollPane = new JScrollPane( table );\r\n            add( scrollPane );\r\n    \r\n            //  Override default renderer on a specific column\r\n    \r\n            TableCellRenderer colorRenderer = new ColorRenderer();\r\n            table.getColumnModel().getColumn(1).setCellRenderer( colorRenderer );\r\n        }\r\n    \r\n        /*\r\n        **  Color the focused cell\r\n        */\r\n        class ColorRenderer extends DefaultTableCellRenderer\r\n        {\r\n            public ColorRenderer()\r\n            {\r\n                super();\r\n                setHorizontalAlignment(JLabel.CENTER);\r\n            }\r\n    \r\n            @Override\r\n            public Component getTableCellRendererComponent(\r\n                JTable table, Object value, boolean isSelected, boolean hasFocus, int row, int column)\r\n            {\r\n                super.getTableCellRendererComponent(table, value, isSelected, hasFocus, row, column);\r\n    \r\n                if (isSelected)\r\n                    setBackground( table.getSelectionBackground() );\r\n                else\r\n                {\r\n                    setBackground( null );\r\n                    \r\n                    if (column == 0) { //This must be letf aligned with size of 100\r\n                    }//setPreferredWidth(100);}\r\n                    else {\r\n                        //setPreferredWidth(30);\r\n                        //table.getColumnModel().getColumn(i).setCellRenderer(colorRenderer) \r\n                    }\r\n                    try\r\n                    {\r\n                        int number = Integer.parseInt( value.toString() );\r\n                        if (row == 1) {\r\n                            setFont(new Font(&quot;Arial&quot;, Font.BOLD, 25));} \r\n                        if (number &gt; 9)\r\n                            setBackground( Color.RED );\r\n                    }\r\n                    catch(Exception e) {}\r\n                }\r\n    \r\n                return this;\r\n            }\r\n        }\r\n        \r\n        private static void createAndShowGUI()\r\n        {\r\n            JFrame frame = new JFrame(&quot;Color Renderer&quot;);\r\n            frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n            frame.add(new TableRenderer());\r\n            frame.pack();\r\n            frame.setLocationByPlatform( true );\r\n            frame.setVisible( true );\r\n        }\r\n    \r\n        public static void main(String[] args)\r\n        {\r\n            EventQueue.invokeLater( () -&gt; createAndShowGUI() );\r\n    /*\r\n            EventQueue.invokeLater(new Runnable()\r\n            {\r\n                public void run()\r\n                {\r\n                    createAndShowGUI();\r\n                }\r\n            });\r\n    */\r\n        }}\r\n\r\n","title":"Can&#39;t obtain font change and center alignment at the same time","body":"<p>==== New info and mre at bottom =====</p>\n<p>What I would like to get from the code below is the second row with a different font from the other rows and that the whole table is center aligned.\nThe problem is that if I leave both renders uncommented only the second one is displayed. If the first is the font change, only the center alignment is displayed and vice versa if the first is the alignment, only the font change is displayed</p>\n<pre><code>public class Example extends JFrame {\n \n    private static final String[] COLUMNS = { &quot;1&quot;, &quot;2&quot;,&quot;3&quot;}; //, &quot;4&quot;, &quot;5&quot;, &quot;6&quot;, &quot;7&quot;, &quot;8&quot;, &quot;9&quot;, &quot;10&quot;, &quot;11&quot;, &quot;12&quot;, &quot;13&quot;, &quot;14&quot;, &quot;15&quot;  };\n\n    public Example() {\n        super(&quot;test&quot;);\n        setDefaultCloseOperation(EXIT_ON_CLOSE);\n        setLayout(new BorderLayout());\n\n        JTable table = new JTable(data(), COLUMNS);\n        \n        for (int i = 1; i&lt;= 2; i++){\n        table.getColumnModel().getColumn(i).setCellRenderer((TableCellRenderer) new DefaultTableCellRenderer() {\n            //@Override\n            public Component getTableCellRendererComponent(JTable table, Object value, boolean isSelected, boolean hasFocus, int row,\n                    int column) {\n                Component c = super.getTableCellRendererComponent(table, value, isSelected, hasFocus, row, column);\n                if (c instanceof JLabel) {\n                    JLabel renderer = (JLabel) c;\n                    if (row == 1) {\n                        renderer.setFont(new Font(&quot;Arial&quot;, Font.BOLD, 15));} \n                    else {\n                            renderer.setFont(table.getFont());} \n                }\n                return c;\n            }\n            });\n            }\n        /**\n        TableColumn column = null;\n        DefaultTableCellRenderer centerRenderer = new DefaultTableCellRenderer(); //center value in columns\n        centerRenderer.setHorizontalAlignment(JLabel.CENTER);\n        for (int i = 0; i &lt;= 2; i++) {\n        column = table.getColumnModel().getColumn(i);\n        if (i == 0) { //This must be letf aligned with size of 100\n            column.setPreferredWidth(100);}\n        else {\n            column.setPreferredWidth(30);\n            table.getColumnModel().getColumn(i).setCellRenderer(centerRenderer);\n        }}\n        \n        **/\n\n        JScrollPane sp = new JScrollPane(table);\n        add(sp);\n        pack();\n        setLocationRelativeTo(null);\n    }\n\n    private Object[][] data() {\n        Object[][] data = { { 113, 444, 234 }, { 233, 555, 234  }, { 110, 92, 234  }, { 55, 66, 234  }, { 123, 603, 234  }, { 412, 120, 234  }, };\n        return data;\n    }\n\n    public static void main(String[] args) {\n        SwingUtilities.invokeLater(() -&gt; new Example().setVisible(true));\n    }\n}\n</code></pre>\n<h1>====\n==== This is new ===</h1>\n<p>=== It's not very orthodox but I didn't know how to do it ===</p>\n<p>The link you suggested is good for two of the three things I would like to achieve: the colored background and the change of font on one line. [in the mre only column 0 is affected but this is not a problem)</p>\n<p>What I can't figure out is the sizing of the first column. Problem parts are commented out where column == 0</p>\n<pre><code>public class TableRenderer extends JPanel\n{\n    public TableRenderer()\n    {\n        String[] columnNames = {&quot;String&quot;, &quot;Integer&quot;};\n        Object[][] data =\n        {\n            {&quot;AAAAAAAAAAAAAAAAAAAA&quot;, new Integer(1)},\n            {&quot;B&quot;, new Integer(2)},\n            {&quot;C&quot;, new Integer(10)},\n            {&quot;D&quot;, new Integer(4)}\n        };\n\n        DefaultTableModel model = new DefaultTableModel(data, columnNames);\n        JTable table = new JTable( model );\n        table.setPreferredScrollableViewportSize(table.getPreferredSize());\n        JScrollPane scrollPane = new JScrollPane( table );\n        add( scrollPane );\n\n        //  Override default renderer on a specific column\n\n        TableCellRenderer colorRenderer = new ColorRenderer();\n        table.getColumnModel().getColumn(1).setCellRenderer( colorRenderer );\n    }\n\n    /*\n    **  Color the focused cell\n    */\n    class ColorRenderer extends DefaultTableCellRenderer\n    {\n        public ColorRenderer()\n        {\n            super();\n            setHorizontalAlignment(JLabel.CENTER);\n        }\n\n        @Override\n        public Component getTableCellRendererComponent(\n            JTable table, Object value, boolean isSelected, boolean hasFocus, int row, int column)\n        {\n            super.getTableCellRendererComponent(table, value, isSelected, hasFocus, row, column);\n\n            if (isSelected)\n                setBackground( table.getSelectionBackground() );\n            else\n            {\n                setBackground( null );\n                \n                if (column == 0) { //This must be letf aligned with size of 100\n                }//setPreferredWidth(100);}\n                else {\n                    //setPreferredWidth(30);\n                    //table.getColumnModel().getColumn(i).setCellRenderer(colorRenderer) \n                }\n                try\n                {\n                    int number = Integer.parseInt( value.toString() );\n                    if (row == 1) {\n                        setFont(new Font(&quot;Arial&quot;, Font.BOLD, 25));} \n                    if (number &gt; 9)\n                        setBackground( Color.RED );\n                }\n                catch(Exception e) {}\n            }\n\n            return this;\n        }\n    }\n    \n    private static void createAndShowGUI()\n    {\n        JFrame frame = new JFrame(&quot;Color Renderer&quot;);\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        frame.add(new TableRenderer());\n        frame.pack();\n        frame.setLocationByPlatform( true );\n        frame.setVisible( true );\n    }\n\n    public static void main(String[] args)\n    {\n        EventQueue.invokeLater( () -&gt; createAndShowGUI() );\n/*\n        EventQueue.invokeLater(new Runnable()\n        {\n            public void run()\n            {\n                createAndShowGUI();\n            }\n        });\n*/\n    }}\n</code></pre>\n"},{"tags":["java","http","batch-processing","job-scheduling"],"comments":[{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":5,"creation_date":1673691085,"post_id":75116927,"comment_id":132557723,"body_markdown":"HTTP itself will do that just fine (it is something layered on top of TCP), but in my experience, HTTP servers, clients, and middleware like loadbalancers, firewalls and proxies might be configured to terminate HTTP connections after a few minutes. It might be better to have the HTTP request submit the job, return a job-id, and let the client poll for completion of that job.","body":"HTTP itself will do that just fine (it is something layered on top of TCP), but in my experience, HTTP servers, clients, and middleware like loadbalancers, firewalls and proxies might be configured to terminate HTTP connections after a few minutes. It might be better to have the HTTP request submit the job, return a job-id, and let the client poll for completion of that job."},{"owner":{"account_id":1205529,"reputation":3100,"user_id":1175279,"accept_rate":88,"display_name":"Dilip Raj Baral"},"score":0,"creation_date":1673767550,"post_id":75116927,"comment_id":132568604,"body_markdown":"Client polling is definitely something we have thought of but we feel it isn&#39;t very elegant. What would the polling interval be? Job completion time may vary from a couple seconds to hours. If you keep small interval, it might be an overkill for long running jobs; if you keep it large, it would result delay in getting results for short running jobs. Also, since the there will be multiple instances (pods) of Batch service, each request will hit different pod. So, batch service will need to store the job completion result into some persistent storage adding another layer of complexity.","body":"Client polling is definitely something we have thought of but we feel it isn&#39;t very elegant. What would the polling interval be? Job completion time may vary from a couple seconds to hours. If you keep small interval, it might be an overkill for long running jobs; if you keep it large, it would result delay in getting results for short running jobs. Also, since the there will be multiple instances (pods) of Batch service, each request will hit different pod. So, batch service will need to store the job completion result into some persistent storage adding another layer of complexity."},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":2,"creation_date":1673778258,"post_id":75116927,"comment_id":132570017,"body_markdown":"I have absolutely no practical experience with them, but what about web sockets? I believe they use the same ports as HTTP(S). And [as I understand it](https://stackoverflow.com/a/7620721/6395627), they are designed for long-lived connections with two-way communication. Again, I don&#39;t know if they&#39;re appropriate to your use case, but thought I&#39;d just throw the idea out there.","body":"I have absolutely no practical experience with them, but what about web sockets? I believe they use the same ports as HTTP(S). And <a href=\"https://stackoverflow.com/a/7620721/6395627\">as I understand it</a>, they are designed for long-lived connections with two-way communication. Again, I don&#39;t know if they&#39;re appropriate to your use case, but thought I&#39;d just throw the idea out there."},{"owner":{"account_id":1205529,"reputation":3100,"user_id":1175279,"accept_rate":88,"display_name":"Dilip Raj Baral"},"score":0,"creation_date":1673780126,"post_id":75116927,"comment_id":132570259,"body_markdown":"@Slaw This is an interesting idea and could potentially work. It will require us to do some R&amp;D to make with work with existing load balancers in place (a potential problem like Mark mentioned in the first comment.","body":"@Slaw This is an interesting idea and could potentially work. It will require us to do some R&amp;D to make with work with existing load balancers in place (a potential problem like Mark mentioned in the first comment."},{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":0,"creation_date":1674477512,"post_id":75116927,"comment_id":132715242,"body_markdown":"It sounds a bit weird. What if a computer goes to sleep? It seems like there are lots of ways this task can fail especially if you&#39;re running a task for hours. When it does fail, do you expect it to just start over?","body":"It sounds a bit weird. What if a computer goes to sleep? It seems like there are lots of ways this task can fail especially if you&#39;re running a task for hours. When it does fail, do you expect it to just start over?"},{"owner":{"account_id":19888427,"reputation":337,"user_id":14570999,"display_name":"Piotr"},"score":0,"creation_date":1674490081,"post_id":75116927,"comment_id":132719799,"body_markdown":"You need some state. In the past the state was in the connection that was open, it worked, you were not using that state directly and it was prone to all sort of issues. Once you moved your workload to openshift you have multiple abstractions added. Probably ingress controller in cluster and very likely load balancer infront of the cluster. Maybe also cloudflare (which by default will terminate connections after some time as well)\nLike someone mentioned all of them would have to support what you need. Options: pooling (easy &amp; dummy) or more async architecture with callbacks when job is done","body":"You need some state. In the past the state was in the connection that was open, it worked, you were not using that state directly and it was prone to all sort of issues. Once you moved your workload to openshift you have multiple abstractions added. Probably ingress controller in cluster and very likely load balancer infront of the cluster. Maybe also cloudflare (which by default will terminate connections after some time as well) Like someone mentioned all of them would have to support what you need. Options: pooling (easy &amp; dummy) or more async architecture with callbacks when job is done"}],"answers":[{"tags":[],"owner":{"account_id":7655262,"reputation":7506,"user_id":5802417,"display_name":"Michael Gantman"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1673866936,"creation_date":1673866499,"answer_id":75133218,"question_id":75116927,"body_markdown":"When your worked with socket and TCPprotocol you were in control on how long to keep connections open. With HTTP you are only in control of logical connections and not physical ones. Actual connections are controlled by OS and usually IT people can configure all those timeouts. But by default how it works is that when you even close logical connection the real connection is no closed in anticipation of next communication. It is closed by OS and not controlled by your code. However even if it closes and your next request comes after that it is opened transparently to you. SO it doesn&#39;t really matter if it closed or not. It should be transparent to your code. So in short I assume that you can move to HTTP/HTTPS with no problems. But you will have to test and see. &lt;br&gt;&lt;br&gt;Also about other options on server to client communications you can look at my answer to this question: [How to continues send data from backend to frontend when something changes][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/71395004/how-to-continues-send-data-from-backend-to-frontend-when-something-changes/71395235#71395235","title":"Can we reliably keep HTTP/S connection open for a long time?","body":"<p>When your worked with socket and TCPprotocol you were in control on how long to keep connections open. With HTTP you are only in control of logical connections and not physical ones. Actual connections are controlled by OS and usually IT people can configure all those timeouts. But by default how it works is that when you even close logical connection the real connection is no closed in anticipation of next communication. It is closed by OS and not controlled by your code. However even if it closes and your next request comes after that it is opened transparently to you. SO it doesn't really matter if it closed or not. It should be transparent to your code. So in short I assume that you can move to HTTP/HTTPS with no problems. But you will have to test and see. <br><br>Also about other options on server to client communications you can look at my answer to this question: <a href=\"https://stackoverflow.com/questions/71395004/how-to-continues-send-data-from-backend-to-frontend-when-something-changes/71395235#71395235\">How to continues send data from backend to frontend when something changes</a></p>\n"},{"tags":[],"owner":{"account_id":1496659,"reputation":138,"user_id":1402425,"display_name":"vudangngoc"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674393096,"creation_date":1674393096,"answer_id":75200697,"question_id":75116927,"body_markdown":"IMHO, you should  improve your scheduler to a REST API server, Websocket isn&#39;t effective in this scenario, the connection will inactive most of time","title":"Can we reliably keep HTTP/S connection open for a long time?","body":"<p>IMHO, you should  improve your scheduler to a REST API server, Websocket isn't effective in this scenario, the connection will inactive most of time</p>\n"},{"tags":[],"owner":{"account_id":18904165,"reputation":15,"user_id":13791634,"display_name":"Bangarraju Vadapalli"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674443798,"creation_date":1674443798,"answer_id":75205426,"question_id":75116927,"body_markdown":"The jobs can be short-lived or long running. So, When a long running job fails in the middle, how does the restart of the job happen? Does it start from beginning again? \r\n\r\nIn a similar scenario, we had a database to keep track of the progress of the job (no of records successfully processed). So, the jobs can resume after a failure. With such a design, another webservice can monitor the status of the job by looking at the database. So, the main process is not impacted by constant polling by the client.","title":"Can we reliably keep HTTP/S connection open for a long time?","body":"<p>The jobs can be short-lived or long running. So, When a long running job fails in the middle, how does the restart of the job happen? Does it start from beginning again?</p>\n<p>In a similar scenario, we had a database to keep track of the progress of the job (no of records successfully processed). So, the jobs can resume after a failure. With such a design, another webservice can monitor the status of the job by looking at the database. So, the main process is not impacted by constant polling by the client.</p>\n"},{"tags":[],"owner":{"account_id":27597963,"reputation":1024,"user_id":21063779,"display_name":"Lae"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1674464172,"creation_date":1674464172,"answer_id":75207289,"question_id":75116927,"body_markdown":"There isn&#39;t a reliable way to keep a connection alive for a long period over the internet, because of nodes (routers, load balancers, proxies, nat gateways, etc) that may be sitting between your client and server, they might drop mid connection under load, some of them will happily ignore your HTTP keep alive request, or have an internal max connection duration time that will kill long running TCP connections, you may find it works for you today but there is no guarantee it will work for you tomorrow.\r\n\r\nSo you&#39;ll probably need to submit the job as a short lived request and check the status via other means:\r\n* Push based strategy by sending a webhook URL as part of the job submission and have the server call it (possibly with retries) on job completion to notify interested parties.\r\n* Pull based strategy by having the server return a job ID on submission, then have the client check periodically. Due to the nature of your job durations, you may want to implement this with some form of exponential backoff up to a certain limit, for example, first check after waiting for 2 seconds, then wait for 4 seconds before next check, then 8 seconds, and so on, up to a maximum of time you are happy to wait between each check. So that you can find out about short job completions sooner and not check too frequently for long jobs.","title":"Can we reliably keep HTTP/S connection open for a long time?","body":"<p>There isn't a reliable way to keep a connection alive for a long period over the internet, because of nodes (routers, load balancers, proxies, nat gateways, etc) that may be sitting between your client and server, they might drop mid connection under load, some of them will happily ignore your HTTP keep alive request, or have an internal max connection duration time that will kill long running TCP connections, you may find it works for you today but there is no guarantee it will work for you tomorrow.</p>\n<p>So you'll probably need to submit the job as a short lived request and check the status via other means:</p>\n<ul>\n<li>Push based strategy by sending a webhook URL as part of the job submission and have the server call it (possibly with retries) on job completion to notify interested parties.</li>\n<li>Pull based strategy by having the server return a job ID on submission, then have the client check periodically. Due to the nature of your job durations, you may want to implement this with some form of exponential backoff up to a certain limit, for example, first check after waiting for 2 seconds, then wait for 4 seconds before next check, then 8 seconds, and so on, up to a maximum of time you are happy to wait between each check. So that you can find out about short job completions sooner and not check too frequently for long jobs.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":299745,"reputation":739,"user_id":606513,"accept_rate":74,"display_name":"schneida"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1674476192,"creation_date":1674476192,"answer_id":75209378,"question_id":75116927,"body_markdown":"We have had bad experiences with long standing HTTP/HTTPS connections. We used to schedule short jobs (only a couple of minutes) via HTTP and wait for it to finish and send a response. This worked fine, until the jobs got longer (hours) and some network infrastructure closed the inactive connections. We ended up only submitting the request via HTTP, get an immediate response and then implemented a polling to wait for the response. At the time, the migration was pretty quick for us, but since then we have migrated it even further to use &quot;webhooks&quot;, e.g. allow the processor of the job to signal it&#39;s state back to the server using a known webhook address.","title":"Can we reliably keep HTTP/S connection open for a long time?","body":"<p>We have had bad experiences with long standing HTTP/HTTPS connections. We used to schedule short jobs (only a couple of minutes) via HTTP and wait for it to finish and send a response. This worked fine, until the jobs got longer (hours) and some network infrastructure closed the inactive connections. We ended up only submitting the request via HTTP, get an immediate response and then implemented a polling to wait for the response. At the time, the migration was pretty quick for us, but since then we have migrated it even further to use &quot;webhooks&quot;, e.g. allow the processor of the job to signal it's state back to the server using a known webhook address.</p>\n"},{"tags":[],"owner":{"account_id":21742379,"reputation":1,"user_id":16049551,"display_name":"Rams"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687890583,"creation_date":1687890583,"answer_id":76567717,"question_id":75116927,"body_markdown":"How about the Job Scheduler posting a message to a request-queue with a correlation id, and the job executor takes its own time to execute and posts a message to a different response-queue with the same correlation id?\r\nThe Job Scheduler can wake up with a message in the response queue and then based on the correlation id, figure out the next job and post it again on the request-queue.","title":"Can we reliably keep HTTP/S connection open for a long time?","body":"<p>How about the Job Scheduler posting a message to a request-queue with a correlation id, and the job executor takes its own time to execute and posts a message to a different response-queue with the same correlation id?\nThe Job Scheduler can wake up with a message in the response queue and then based on the correlation id, figure out the next job and post it again on the request-queue.</p>\n"}],"owner":{"account_id":1205529,"reputation":3100,"user_id":1175279,"accept_rate":88,"display_name":"Dilip Raj Baral"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1427,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":6,"score":6,"last_activity_date":1687890583,"creation_date":1673688006,"question_id":75116927,"body_markdown":"My team maintains an application (written on Java) which processes long running batch jobs. These jobs needs to be run on a defined sequence. Hence, the application starts a socket server on a pre-defined port to accept job execution requests. It keeps the socket open until the job completes (with success or failure). This way the job scheduler knows when one job ends and upon successful completion of the job, it triggers the next job in the pre-defined sequence. If the job fails, scheduler sends out an alert.\r\n\r\nThis is a setup we have had for over a decade. We have some jobs which runs for a few minutes and other which takes a couple hours (depending on the volume) to complete. The setup has worked without any issues.\r\n\r\nNow, we need to move this application to a container (RedHat OpenShift Container Platform) and the infra policy in place allows only default HTTPS port be exposed. The scheduler sits outside OCP and cannot access any port other than the default HTTPS port. \r\n\r\nIn theory, we could use the HTTPS, set Client timeout to a very large duration and try to mimic the the current setup with TCP socket. But would this setup be reliable enough as HTTP protocol is designed to serve short-lived requests?","title":"Can we reliably keep HTTP/S connection open for a long time?","body":"<p>My team maintains an application (written on Java) which processes long running batch jobs. These jobs needs to be run on a defined sequence. Hence, the application starts a socket server on a pre-defined port to accept job execution requests. It keeps the socket open until the job completes (with success or failure). This way the job scheduler knows when one job ends and upon successful completion of the job, it triggers the next job in the pre-defined sequence. If the job fails, scheduler sends out an alert.</p>\n<p>This is a setup we have had for over a decade. We have some jobs which runs for a few minutes and other which takes a couple hours (depending on the volume) to complete. The setup has worked without any issues.</p>\n<p>Now, we need to move this application to a container (RedHat OpenShift Container Platform) and the infra policy in place allows only default HTTPS port be exposed. The scheduler sits outside OCP and cannot access any port other than the default HTTPS port.</p>\n<p>In theory, we could use the HTTPS, set Client timeout to a very large duration and try to mimic the the current setup with TCP socket. But would this setup be reliable enough as HTTP protocol is designed to serve short-lived requests?</p>\n"},{"tags":["java","libgdx","game-development"],"owner":{"account_id":28401028,"reputation":13,"user_id":21725858,"display_name":"Ugurcan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687890535,"creation_date":1687890535,"question_id":76567710,"body_markdown":"I was messing around with Scene2D and Screen Caches and was wondering what I did wrong. Before I introduced Scene2D to my project everything worked fine. I have a Loading Screen which loads the assets I need for my game with a Scene2D LoadingScreenUI to show the user a progressbar. As far as I know everything with the loading is working.\r\nNow I tried the exact same setup with my MainGameScreen and its MainGameUI, so my world and my entities like the player and the monsters are loaded and visible on the screen + the UI of the MainGameScreen, which is currently a test output.\r\nIt could be that I made something wrong with my camera or the viewport.\r\n\r\n[![The current result of my game, after its started and the loading of the assets is done](https://i.stack.imgur.com/hGz38.png)](https://i.stack.imgur.com/hGz38.png)\r\n\r\nThe screen should have a classic orthographic tilemap with three diffrent tile types, one player and two monsters, but instead its all black.\r\n\r\n[![How the game should look (this is a picture of my main branch without the experimental code)](https://i.stack.imgur.com/9Z94y.png)](https://i.stack.imgur.com/9Z94y.png)\r\n\r\n\r\n```Java\r\npublic abstract class AbstractScreen&lt;T extends Table&gt; implements Screen {\r\n\tprotected final SafeHumankindGame context;\r\n\tprotected final T screenUI;\r\n\tprotected final Stage stage;\r\n\tprotected ExtendViewport extendViewport;\r\n\t\r\n\tpublic AbstractScreen( SafeHumankindGame context ) {\r\n\t\tthis.context = context;\r\n\t\textendViewport = context.getExtendViewport();\r\n\t\tstage = context.getStage();\r\n\t\tscreenUI = getScreenUI( context.getSkin() );\r\n\t}\r\n\t\r\n\tprotected abstract T getScreenUI( final Skin skin );\r\n\t\r\n\r\n\t@Override\r\n\tpublic void show() {\r\n\t\tstage.addActor( screenUI );\r\n\t}\r\n\t\r\n\r\n\t@Override\r\n\tpublic void resize( final int width, final int height ) {\r\n\t\textendViewport.update( width, height );\r\n\t\tstage.getViewport().update( width, height, true );\r\n\t}\r\n\t\r\n\r\n\t@Override\r\n\tpublic void hide() {\r\n\t\tstage.getRoot().removeActor( screenUI );\r\n\t}\r\n\t\r\n}\r\n```\r\n\r\n```Java\r\npublic class MainGameUI extends Table {\r\n\tpublic MainGameUI( final Skin skin ) {\r\n\t\tsuper( skin );\r\n\t\tsetFillParent( true );\r\n\t\t\r\n\t\t\r\n\t\tadd( new TextButton( &quot;Blub&quot;, skin, &quot;huge&quot; ) );\r\n\t\tsetDebug( true, true );\r\n\t}\r\n}\r\n```\r\n\r\n```Java\r\npublic class MainGameScreen extends AbstractScreen&lt;MainGameUI&gt; {\r\n\tprivate static final String TAG = SafeHumankindGame.class.getSimpleName();\r\n\tprivate ExtendViewport extendViewport;\r\n\tprivate WorldGenerator worldRen;\r\n\tprivate Entity player;\r\n\tprivate Entity rangedMonster;\r\n\tprivate Entity meeleMonster;\r\n\tprivate OrthographicCamera camera;\r\n\t\r\n\t\r\n\tpublic MainGameScreen( final SafeHumankindGame context ) {\r\n\t\tsuper( context );\r\n\t\textendViewport = context.getExtendViewport();\r\n\t\tcamera = new OrthographicCamera();\r\n\t\textendViewport.setCamera( camera );\r\n\t\tworldRen = new WorldGenerator( context );\r\n\t\tplayer = new Player( context, this );\r\n\t\trangedMonster = new RangedMonster( context, this );\r\n\t\tmeeleMonster = new MeeleMonster( context, this );\r\n\t}\r\n\t\r\n\t\r\n\t@Override\r\n\tprotected MainGameUI getScreenUI( Skin skin ) {\r\n\t\treturn new MainGameUI( skin );\r\n\t}\r\n\t\r\n\r\n\t@Override\r\n\tpublic void show() {\r\n\t\r\n\t}\r\n\t\r\n\r\n\t@Override\r\n\tpublic void render( float delta ) {\r\n\t\tGdx.gl.glClearColor( 0.0f, 0.0f, 0.0f, 1.0f );\r\n\t\tGdx.gl.glClear( GL20.GL_COLOR_BUFFER_BIT );\r\n\t\tif( Gdx.input.isKeyJustPressed( Input.Keys.ESCAPE ) ) {\r\n\t\t\tcontext.setScreen( ScreenType.MENUE );\r\n\t\t}\r\n\t\textendViewport.apply();\r\n\t\tcontext.getSpriteBatch().setProjectionMatrix( extendViewport.getCamera().combined );\r\n\t\tcontext.getSpriteBatch().begin();\r\n\t\tworldRen.drawGround( context.getSpriteBatch() );\r\n\t\tplayer.render( delta, context.getSpriteBatch() );\r\n\t\trangedMonster.render( delta, context.getSpriteBatch() );\r\n\t\tmeeleMonster.render( delta, context.getSpriteBatch() );\r\n\t\tcontext.getSpriteBatch().end();\r\n\t\tcamControls();\r\n\t\tplayer.update();\r\n\t\trangedMonster.update();\r\n\t\tmeeleMonster.update();\r\n\t\textendViewport.getCamera().position.y = player.getPosition().y + ( player.getEntityDimension().y / 2 );\r\n\t\textendViewport.getCamera().position.x = player.getPosition().x + ( player.getEntityDimension().x / 2 );\r\n\t\tcamera.update();\r\n\t}\r\n```\r\n\r\nThe brain of my Game is the SafeHumankindGame class. Here im loading and initializing the skin and setting my screens:\r\n```Java\r\npublic class SafeHumankindGame extends Game {\r\n\tprivate static final String TAG = SafeHumankindGame.class.getSimpleName();\r\n\tprivate final float WIDTH = 1280;\r\n\tprivate final float HEIGHT = 720;\r\n\tprivate ExtendViewport extendViewport;\r\n\tprivate float myDelta;\r\n\tprivate SpriteBatch spriteBatch;\r\n\tprivate AssetManager assetManager;\r\n\tprivate Skin skin;\r\n\tprivate EnumMap&lt;ScreenType, AbstractScreen&gt; screenCache;\r\n\tprivate Stage stage;\r\n\t\r\n\tpublic AssetManager getAssetManager() {\r\n\t\treturn assetManager;\r\n\t}\r\n\t\r\n\tpublic void setAssetManager( AssetManager assetManager ) {\r\n\t\tthis.assetManager = assetManager;\r\n\t}\r\n\t\r\n\tpublic float getWIDTH() {\r\n\t\treturn WIDTH;\r\n\t}\r\n\t\r\n\tpublic float getHEIGHT() {\r\n\t\treturn HEIGHT;\r\n\t}\r\n\t\r\n\r\n\t@Override\r\n\tpublic void create() {\r\n\t\tGdx.app.setLogLevel( Application.LOG_DEBUG );\r\n\t\t\r\n\t\t//initialize assetManager\r\n\t\tassetManager = new AssetManager();\r\n\t\tassetManager.setLoader( TextureAtlas.class, new TextureAtlasLoader( assetManager.getFileHandleResolver() ) );\r\n\t\tassetManager.setLoader( Texture.class, new TextureLoader( assetManager.getFileHandleResolver() ) );\r\n\t\t\r\n\t\tspriteBatch = new SpriteBatch();\r\n\t\textendViewport = new ExtendViewport( WIDTH, HEIGHT );\r\n\t\t\r\n\t\tinitSkin();\r\n\t\t// window height and width\r\n\t\tstage = new Stage( extendViewport, spriteBatch );\r\n\t\tmyDelta = 0.0f;\r\n\t\t\r\n\t\t\r\n\t\t//init first screen\r\n\t\tscreenCache = new EnumMap&lt;ScreenType, AbstractScreen&gt;( ScreenType.class );\r\n\t\tsetScreen( ScreenType.LOADING );\r\n\t}\r\n\t\r\n\tpublic Stage getStage() {\r\n\t\treturn stage;\r\n\t}\r\n\t\r\n\tpublic Skin getSkin() {\r\n\t\treturn skin;\r\n\t}\r\n\t\r\n\tpublic ExtendViewport getExtendViewport() {\r\n\t\treturn extendViewport;\r\n\t}\r\n\t\r\n\tprivate void initSkin() {\r\n\t\tfinal ObjectMap&lt;String, Object&gt; resources = new ObjectMap&lt;String, Object&gt;();\r\n\t\tfinal FreeTypeFontGenerator fontGenerator = new FreeTypeFontGenerator( Gdx.files.internal( &quot;ui/font.ttf&quot; ) );\r\n\t\tfinal FreeTypeFontGenerator.FreeTypeFontParameter fontParameter = new FreeTypeFontGenerator.FreeTypeFontParameter();\r\n\t\tfontParameter.minFilter = Texture.TextureFilter.Linear;\r\n\t\tfontParameter.magFilter = Texture.TextureFilter.Linear;\r\n\t\tfinal int[] sizesToCreate = { 16, 20, 26, 32 };\r\n\t\tfor( int size : sizesToCreate ) {\r\n\t\t\tfontParameter.size = size;\r\n\t\t\tresources.put( &quot;font_&quot; + size, fontGenerator.generateFont( fontParameter ) );\r\n\t\t}\r\n\t\tfontGenerator.dispose();\r\n\t\t\r\n\t\t//load skin\r\n\t\tfinal SkinLoader.SkinParameter skinParameter = new SkinLoader.SkinParameter( &quot;ui/hud.atlas&quot;, resources );\r\n\t\tassetManager.load( &quot;ui/hud.json&quot;, Skin.class, skinParameter );\r\n\t\tassetManager.finishLoading();\r\n\t\tskin = assetManager.get( &quot;ui/hud.json&quot;, Skin.class );\r\n\t}\r\n\t\r\n\tpublic SpriteBatch getSpriteBatch() {\r\n\t\treturn spriteBatch;\r\n\t}\r\n\t\r\n\tpublic void setScreen( final ScreenType screenType ) {\r\n\t\tfinal Screen screen = screenCache.get( screenType );\r\n\t\tif( screen == null ) {\r\n\t\t\ttry {\r\n\t\t\t\tGdx.app.debug( TAG, &quot;Creating new screen: &quot; + screenType );\r\n\t\t\t\tfinal AbstractScreen newScreen = ( AbstractScreen ) ClassReflection.getConstructor( screenType.getScreenClass(), SafeHumankindGame.class ).newInstance( this );\r\n\t\t\t\tscreenCache.put( screenType, newScreen );\r\n\t\t\t\tsetScreen( newScreen );\r\n\t\t\t}\r\n\t\t\tcatch( ReflectionException e ) {\r\n\t\t\t\tthrow new GdxRuntimeException( &quot;Screen &quot; + screenType + &quot; could not be created&quot;, e );\r\n\t\t\t}\r\n\t\t}\r\n\t\telse {\r\n\t\t\tGdx.app.debug( TAG, &quot;Switching to new screen: &quot; + screenType );\r\n\t\t\tsetScreen( screen );\r\n\t\t}\r\n\t}\r\n\t\r\n\t@Override\r\n\tpublic void dispose() {\r\n\t\tsuper.dispose();\r\n\t\tspriteBatch.dispose();\r\n\t\tassetManager.dispose();\r\n\t\tstage.dispose();\r\n\t}\r\n\t\r\n\t@Override\r\n\tpublic void render() {\r\n\t\tsuper.render();\r\n\t\textendViewport.apply();\r\n\t\tmyDelta = Gdx.graphics.getDeltaTime();\r\n\t\t\r\n\t\tstage.getViewport().apply();\r\n\t\tstage.act();\r\n\t\tstage.draw();\r\n\t}\r\n}\r\n```\r\n\r\nI&#39;m not getting any ErrorMessages and the loggers I build in are all working fine and dont show me anything wrong.\r\nI&#39;m very sure the Entities and the world is rendered somewhere somehow, because when I change the backgound color of the MainGameScreen render method it works. The test output of the GameUI is also visible. When I press WASD, the player is moving, but not visible. I know the player is moving, because my camera is bound to the players positon and the camera moves looking into the nothingness. My Testoutputs of showing me every position of every Tile on the map and the current position of my player is also working and giving me the right data on the console.\r\n\r\n","title":"How do i render my world and entities properly and setting up my Camera with the viewport right?","body":"<p>I was messing around with Scene2D and Screen Caches and was wondering what I did wrong. Before I introduced Scene2D to my project everything worked fine. I have a Loading Screen which loads the assets I need for my game with a Scene2D LoadingScreenUI to show the user a progressbar. As far as I know everything with the loading is working.\nNow I tried the exact same setup with my MainGameScreen and its MainGameUI, so my world and my entities like the player and the monsters are loaded and visible on the screen + the UI of the MainGameScreen, which is currently a test output.\nIt could be that I made something wrong with my camera or the viewport.</p>\n<p><a href=\"https://i.stack.imgur.com/hGz38.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/hGz38.png\" alt=\"The current result of my game, after its started and the loading of the assets is done\" /></a></p>\n<p>The screen should have a classic orthographic tilemap with three diffrent tile types, one player and two monsters, but instead its all black.</p>\n<p><a href=\"https://i.stack.imgur.com/9Z94y.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/9Z94y.png\" alt=\"How the game should look (this is a picture of my main branch without the experimental code)\" /></a></p>\n<pre><code>public abstract class AbstractScreen&lt;T extends Table&gt; implements Screen {\n    protected final SafeHumankindGame context;\n    protected final T screenUI;\n    protected final Stage stage;\n    protected ExtendViewport extendViewport;\n    \n    public AbstractScreen( SafeHumankindGame context ) {\n        this.context = context;\n        extendViewport = context.getExtendViewport();\n        stage = context.getStage();\n        screenUI = getScreenUI( context.getSkin() );\n    }\n    \n    protected abstract T getScreenUI( final Skin skin );\n    \n\n    @Override\n    public void show() {\n        stage.addActor( screenUI );\n    }\n    \n\n    @Override\n    public void resize( final int width, final int height ) {\n        extendViewport.update( width, height );\n        stage.getViewport().update( width, height, true );\n    }\n    \n\n    @Override\n    public void hide() {\n        stage.getRoot().removeActor( screenUI );\n    }\n    \n}\n</code></pre>\n<pre><code>public class MainGameUI extends Table {\n    public MainGameUI( final Skin skin ) {\n        super( skin );\n        setFillParent( true );\n        \n        \n        add( new TextButton( &quot;Blub&quot;, skin, &quot;huge&quot; ) );\n        setDebug( true, true );\n    }\n}\n</code></pre>\n<pre><code>public class MainGameScreen extends AbstractScreen&lt;MainGameUI&gt; {\n    private static final String TAG = SafeHumankindGame.class.getSimpleName();\n    private ExtendViewport extendViewport;\n    private WorldGenerator worldRen;\n    private Entity player;\n    private Entity rangedMonster;\n    private Entity meeleMonster;\n    private OrthographicCamera camera;\n    \n    \n    public MainGameScreen( final SafeHumankindGame context ) {\n        super( context );\n        extendViewport = context.getExtendViewport();\n        camera = new OrthographicCamera();\n        extendViewport.setCamera( camera );\n        worldRen = new WorldGenerator( context );\n        player = new Player( context, this );\n        rangedMonster = new RangedMonster( context, this );\n        meeleMonster = new MeeleMonster( context, this );\n    }\n    \n    \n    @Override\n    protected MainGameUI getScreenUI( Skin skin ) {\n        return new MainGameUI( skin );\n    }\n    \n\n    @Override\n    public void show() {\n    \n    }\n    \n\n    @Override\n    public void render( float delta ) {\n        Gdx.gl.glClearColor( 0.0f, 0.0f, 0.0f, 1.0f );\n        Gdx.gl.glClear( GL20.GL_COLOR_BUFFER_BIT );\n        if( Gdx.input.isKeyJustPressed( Input.Keys.ESCAPE ) ) {\n            context.setScreen( ScreenType.MENUE );\n        }\n        extendViewport.apply();\n        context.getSpriteBatch().setProjectionMatrix( extendViewport.getCamera().combined );\n        context.getSpriteBatch().begin();\n        worldRen.drawGround( context.getSpriteBatch() );\n        player.render( delta, context.getSpriteBatch() );\n        rangedMonster.render( delta, context.getSpriteBatch() );\n        meeleMonster.render( delta, context.getSpriteBatch() );\n        context.getSpriteBatch().end();\n        camControls();\n        player.update();\n        rangedMonster.update();\n        meeleMonster.update();\n        extendViewport.getCamera().position.y = player.getPosition().y + ( player.getEntityDimension().y / 2 );\n        extendViewport.getCamera().position.x = player.getPosition().x + ( player.getEntityDimension().x / 2 );\n        camera.update();\n    }\n</code></pre>\n<p>The brain of my Game is the SafeHumankindGame class. Here im loading and initializing the skin and setting my screens:</p>\n<pre><code>public class SafeHumankindGame extends Game {\n    private static final String TAG = SafeHumankindGame.class.getSimpleName();\n    private final float WIDTH = 1280;\n    private final float HEIGHT = 720;\n    private ExtendViewport extendViewport;\n    private float myDelta;\n    private SpriteBatch spriteBatch;\n    private AssetManager assetManager;\n    private Skin skin;\n    private EnumMap&lt;ScreenType, AbstractScreen&gt; screenCache;\n    private Stage stage;\n    \n    public AssetManager getAssetManager() {\n        return assetManager;\n    }\n    \n    public void setAssetManager( AssetManager assetManager ) {\n        this.assetManager = assetManager;\n    }\n    \n    public float getWIDTH() {\n        return WIDTH;\n    }\n    \n    public float getHEIGHT() {\n        return HEIGHT;\n    }\n    \n\n    @Override\n    public void create() {\n        Gdx.app.setLogLevel( Application.LOG_DEBUG );\n        \n        //initialize assetManager\n        assetManager = new AssetManager();\n        assetManager.setLoader( TextureAtlas.class, new TextureAtlasLoader( assetManager.getFileHandleResolver() ) );\n        assetManager.setLoader( Texture.class, new TextureLoader( assetManager.getFileHandleResolver() ) );\n        \n        spriteBatch = new SpriteBatch();\n        extendViewport = new ExtendViewport( WIDTH, HEIGHT );\n        \n        initSkin();\n        // window height and width\n        stage = new Stage( extendViewport, spriteBatch );\n        myDelta = 0.0f;\n        \n        \n        //init first screen\n        screenCache = new EnumMap&lt;ScreenType, AbstractScreen&gt;( ScreenType.class );\n        setScreen( ScreenType.LOADING );\n    }\n    \n    public Stage getStage() {\n        return stage;\n    }\n    \n    public Skin getSkin() {\n        return skin;\n    }\n    \n    public ExtendViewport getExtendViewport() {\n        return extendViewport;\n    }\n    \n    private void initSkin() {\n        final ObjectMap&lt;String, Object&gt; resources = new ObjectMap&lt;String, Object&gt;();\n        final FreeTypeFontGenerator fontGenerator = new FreeTypeFontGenerator( Gdx.files.internal( &quot;ui/font.ttf&quot; ) );\n        final FreeTypeFontGenerator.FreeTypeFontParameter fontParameter = new FreeTypeFontGenerator.FreeTypeFontParameter();\n        fontParameter.minFilter = Texture.TextureFilter.Linear;\n        fontParameter.magFilter = Texture.TextureFilter.Linear;\n        final int[] sizesToCreate = { 16, 20, 26, 32 };\n        for( int size : sizesToCreate ) {\n            fontParameter.size = size;\n            resources.put( &quot;font_&quot; + size, fontGenerator.generateFont( fontParameter ) );\n        }\n        fontGenerator.dispose();\n        \n        //load skin\n        final SkinLoader.SkinParameter skinParameter = new SkinLoader.SkinParameter( &quot;ui/hud.atlas&quot;, resources );\n        assetManager.load( &quot;ui/hud.json&quot;, Skin.class, skinParameter );\n        assetManager.finishLoading();\n        skin = assetManager.get( &quot;ui/hud.json&quot;, Skin.class );\n    }\n    \n    public SpriteBatch getSpriteBatch() {\n        return spriteBatch;\n    }\n    \n    public void setScreen( final ScreenType screenType ) {\n        final Screen screen = screenCache.get( screenType );\n        if( screen == null ) {\n            try {\n                Gdx.app.debug( TAG, &quot;Creating new screen: &quot; + screenType );\n                final AbstractScreen newScreen = ( AbstractScreen ) ClassReflection.getConstructor( screenType.getScreenClass(), SafeHumankindGame.class ).newInstance( this );\n                screenCache.put( screenType, newScreen );\n                setScreen( newScreen );\n            }\n            catch( ReflectionException e ) {\n                throw new GdxRuntimeException( &quot;Screen &quot; + screenType + &quot; could not be created&quot;, e );\n            }\n        }\n        else {\n            Gdx.app.debug( TAG, &quot;Switching to new screen: &quot; + screenType );\n            setScreen( screen );\n        }\n    }\n    \n    @Override\n    public void dispose() {\n        super.dispose();\n        spriteBatch.dispose();\n        assetManager.dispose();\n        stage.dispose();\n    }\n    \n    @Override\n    public void render() {\n        super.render();\n        extendViewport.apply();\n        myDelta = Gdx.graphics.getDeltaTime();\n        \n        stage.getViewport().apply();\n        stage.act();\n        stage.draw();\n    }\n}\n</code></pre>\n<p>I'm not getting any ErrorMessages and the loggers I build in are all working fine and dont show me anything wrong.\nI'm very sure the Entities and the world is rendered somewhere somehow, because when I change the backgound color of the MainGameScreen render method it works. The test output of the GameUI is also visible. When I press WASD, the player is moving, but not visible. I know the player is moving, because my camera is bound to the players positon and the camera moves looking into the nothingness. My Testoutputs of showing me every position of every Tile on the map and the current position of my player is also working and giving me the right data on the console.</p>\n"},{"tags":["java","junit","junit5","maven-surefire-plugin"],"answers":[{"comments":[{"owner":{"account_id":179533,"reputation":4405,"user_id":412270,"accept_rate":70,"display_name":"myborobudur"},"score":0,"creation_date":1632301184,"post_id":69270023,"comment_id":122452499,"body_markdown":"I changed the dependencies as mentioned in those links but still doesn&#39;t work: `mvn test -Dtest=my.project.domain.MyTestSuite`. It says _no tests were executed_. I&#39;m using tags to group my tests.","body":"I changed the dependencies as mentioned in those links but still doesn&#39;t work: <code>mvn test -Dtest=my.project.domain.MyTestSuite</code>. It says <i>no tests were executed</i>. I&#39;m using tags to group my tests."},{"owner":{"account_id":15361,"reputation":4976,"user_id":32352,"accept_rate":62,"display_name":"johanneslink"},"score":0,"creation_date":1632308949,"post_id":69270023,"comment_id":122455659,"body_markdown":"Have you also added the Suite annotation?","body":"Have you also added the Suite annotation?"},{"owner":{"account_id":179533,"reputation":4405,"user_id":412270,"accept_rate":70,"display_name":"myborobudur"},"score":0,"creation_date":1632313704,"post_id":69270023,"comment_id":122457582,"body_markdown":"Yes: \n`import org.junit.platform.suite.api.IncludeClassNamePatterns;\nimport org.junit.platform.suite.api.SelectPackages;\nimport org.junit.platform.suite.api.Suite;\nimport org.junit.platform.suite.api.SuiteDisplayName;\n\n@Suite\n@SuiteDisplayName(&quot;Integration Tests&quot;)\n@SelectPackages(&quot;my.domain&quot;)\n@IncludeClassNamePatterns(&quot;.*ITTest&quot;)\npublic interface IntegrationTestSuite {}`","body":"Yes:  <code>import org.junit.platform.suite.api.IncludeClassNamePatterns; import org.junit.platform.suite.api.SelectPackages; import org.junit.platform.suite.api.Suite; import org.junit.platform.suite.api.SuiteDisplayName;  @Suite @SuiteDisplayName(&quot;Integration Tests&quot;) @SelectPackages(&quot;my.domain&quot;) @IncludeClassNamePatterns(&quot;.*ITTest&quot;) public interface IntegrationTestSuite {}</code>"},{"owner":{"account_id":179533,"reputation":4405,"user_id":412270,"accept_rate":70,"display_name":"myborobudur"},"score":0,"creation_date":1632320441,"post_id":69270023,"comment_id":122460856,"body_markdown":"OK, I had to change the TestSuits from interface to class that all works as before in Intellij-Idea but it still doesn&#39;t work with maven.","body":"OK, I had to change the TestSuits from interface to class that all works as before in Intellij-Idea but it still doesn&#39;t work with maven."},{"owner":{"account_id":179533,"reputation":4405,"user_id":412270,"accept_rate":70,"display_name":"myborobudur"},"score":0,"creation_date":1632321146,"post_id":69270023,"comment_id":122461223,"body_markdown":"I realized that this is just a local problem. On Jenkins this error doesn&#39;t appear.","body":"I realized that this is just a local problem. On Jenkins this error doesn&#39;t appear."}],"tags":[],"owner":{"account_id":15361,"reputation":4976,"user_id":32352,"accept_rate":62,"display_name":"johanneslink"},"comment_count":5,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1687890311,"creation_date":1632232158,"answer_id":69270023,"question_id":69269641,"body_markdown":"`JUnitPlatform` has been deprecated. \r\n\r\nThe corresponding new feature is the _JUnit Platform Suite Engine_. See [JUnit 5 User Guide: 6.2. JUnit Platform Suite Engine](https://junit.org/junit5/docs/current/user-guide/index.html#junit-platform-suite-engine).\r\n\r\nHowever, if it’s just about categorizing tests, tags, which are much simpler, might be sufficient. See [JUnit 5 User Guide: 2.9 Tagging and Filtering](https://junit.org/junit5/docs/current/user-guide/index.html#writing-tests-tagging-and-filtering).","title":"JUnit 5 and Test Suites","body":"<p><code>JUnitPlatform</code> has been deprecated.</p>\n<p>The corresponding new feature is the <em>JUnit Platform Suite Engine</em>. See <a href=\"https://junit.org/junit5/docs/current/user-guide/index.html#junit-platform-suite-engine\" rel=\"nofollow noreferrer\">JUnit 5 User Guide: 6.2. JUnit Platform Suite Engine</a>.</p>\n<p>However, if it’s just about categorizing tests, tags, which are much simpler, might be sufficient. See <a href=\"https://junit.org/junit5/docs/current/user-guide/index.html#writing-tests-tagging-and-filtering\" rel=\"nofollow noreferrer\">JUnit 5 User Guide: 2.9 Tagging and Filtering</a>.</p>\n"}],"owner":{"account_id":179533,"reputation":4405,"user_id":412270,"accept_rate":70,"display_name":"myborobudur"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5266,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":69270023,"answer_count":1,"score":2,"last_activity_date":1687890311,"creation_date":1632230549,"question_id":69269641,"body_markdown":"We have a pure JUnit-5 project and we want to categories our unit tests. \r\n\r\nTo do so, what I understand is we need to include the JUnit-4 `@RunWith(JUnitPlatform.class)`. \r\n\r\n    import org.junit.platform.runner.JUnitPlatform;\r\n    import org.junit.platform.suite.api.IncludeTags;\r\n    import org.junit.platform.suite.api.SelectPackages;\r\n    import org.junit.runner.RunWith;\r\n    \r\n    @RunWith(JUnitPlatform.class)\r\n    @SelectPackages(&quot;my.project.domain&quot;)\r\n    @IncludeTags(&quot;long-running-test&quot;) \r\n    public interface LongRunningTestSuite {}\r\n\r\nIn Intellij-Idea I can run all or just test suites without problems but I get an error on the execution with maven:\r\n* in Intellij-Idea some test cases fail\r\n* on the console I have an endless loop\r\n\r\nThis didn&#39;t help:\r\n\r\n\t&lt;plugin&gt;\r\n\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n\t\t&lt;configuration&gt;\r\n\t\t\t&lt;skip&gt;false&lt;/skip&gt;\r\n\t\t\t&lt;excludes&gt;\r\n\t\t\t\t&lt;exclude&gt;**/*TestSuite.java&lt;/exclude&gt;\r\n\t\t\t&lt;/excludes&gt;\r\n\t\t\t&lt;includes&gt;\r\n\t\t\t\t&lt;include&gt;**/*Test.java, **/*IT.java&lt;/include&gt;\r\n\t\t\t&lt;/includes&gt;\r\n\t\t&lt;/configuration&gt;\r\n\t&lt;/plugin&gt;\r\n\r\nIf I just remove all the `XyzTestSuite.java` classes the maven build is successful. I also tried `&lt;exclude&gt;my.project.domain.testsuite&lt;/exclude&gt;`.\r\n\r\nThe exclution seams not to work. Why?","title":"JUnit 5 and Test Suites","body":"<p>We have a pure JUnit-5 project and we want to categories our unit tests.</p>\n<p>To do so, what I understand is we need to include the JUnit-4 <code>@RunWith(JUnitPlatform.class)</code>.</p>\n<pre><code>import org.junit.platform.runner.JUnitPlatform;\nimport org.junit.platform.suite.api.IncludeTags;\nimport org.junit.platform.suite.api.SelectPackages;\nimport org.junit.runner.RunWith;\n\n@RunWith(JUnitPlatform.class)\n@SelectPackages(&quot;my.project.domain&quot;)\n@IncludeTags(&quot;long-running-test&quot;) \npublic interface LongRunningTestSuite {}\n</code></pre>\n<p>In Intellij-Idea I can run all or just test suites without problems but I get an error on the execution with maven:</p>\n<ul>\n<li>in Intellij-Idea some test cases fail</li>\n<li>on the console I have an endless loop</li>\n</ul>\n<p>This didn't help:</p>\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n    &lt;configuration&gt;\n        &lt;skip&gt;false&lt;/skip&gt;\n        &lt;excludes&gt;\n            &lt;exclude&gt;**/*TestSuite.java&lt;/exclude&gt;\n        &lt;/excludes&gt;\n        &lt;includes&gt;\n            &lt;include&gt;**/*Test.java, **/*IT.java&lt;/include&gt;\n        &lt;/includes&gt;\n    &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p>If I just remove all the <code>XyzTestSuite.java</code> classes the maven build is successful. I also tried <code>&lt;exclude&gt;my.project.domain.testsuite&lt;/exclude&gt;</code>.</p>\n<p>The exclution seams not to work. Why?</p>\n"},{"tags":["java","spring","spring-boot","spring-kafka"],"answers":[{"comments":[{"owner":{"account_id":16910209,"reputation":25,"user_id":12229445,"display_name":"tinku"},"score":0,"creation_date":1687889110,"post_id":76565363,"comment_id":134999383,"body_markdown":"As per your answer, my understanding is now that all exceptions thrown will be retried as per the retries configured on the error handler, except for those in the list that are considered fatal. Please correct me if my understanding is wrong. \n\nIn the event that I want to retry consuming for an exception that is in the fatal list, how should I configure that? If I add it to the retryables, will that work? I mean will message consumption be retried on all exceptions along with this fatal one ? Please let me know if this is correct. If not please let me know how this can be achieved.","body":"As per your answer, my understanding is now that all exceptions thrown will be retried as per the retries configured on the error handler, except for those in the list that are considered fatal. Please correct me if my understanding is wrong.   In the event that I want to retry consuming for an exception that is in the fatal list, how should I configure that? If I add it to the retryables, will that work? I mean will message consumption be retried on all exceptions along with this fatal one ? Please let me know if this is correct. If not please let me know how this can be achieved."},{"owner":{"account_id":1288095,"reputation":169336,"user_id":1240763,"display_name":"Gary Russell"},"score":0,"creation_date":1687890190,"post_id":76565363,"comment_id":134999561,"body_markdown":"Again; refer to the javadocs; see the edit to my answer for how to alter the default set of fatal exceptions.","body":"Again; refer to the javadocs; see the edit to my answer for how to alter the default set of fatal exceptions."},{"owner":{"account_id":16910209,"reputation":25,"user_id":12229445,"display_name":"tinku"},"score":0,"creation_date":1687891144,"post_id":76565363,"comment_id":134999757,"body_markdown":"Thank you. This helps.","body":"Thank you. This helps."}],"tags":[],"owner":{"account_id":1288095,"reputation":169336,"user_id":1240763,"display_name":"Gary Russell"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1687890167,"creation_date":1687872354,"answer_id":76565363,"question_id":76560881,"body_markdown":"See the javadocs; by default all exceptions are retryable except for a configured set of exceptions that are considered fatal. You can modify or replace that set:\r\n\r\n```java\r\n/**\r\n * Add exception types to the default list. By default, the following exceptions will\r\n * not be retried:\r\n * &lt;ul&gt;\r\n * &lt;li&gt;{@link DeserializationException}&lt;/li&gt;\r\n * &lt;li&gt;{@link MessageConversionException}&lt;/li&gt;\r\n * &lt;li&gt;{@link ConversionException}&lt;/li&gt;\r\n * &lt;li&gt;{@link MethodArgumentResolutionException}&lt;/li&gt;\r\n * &lt;li&gt;{@link NoSuchMethodException}&lt;/li&gt;\r\n * &lt;li&gt;{@link ClassCastException}&lt;/li&gt;\r\n * &lt;/ul&gt;\r\n * All others will be retried, unless {@link #defaultFalse()} has been called.\r\n * @param exceptionTypes the exception types.\r\n * @see #removeClassification(Class)\r\n * @see #setClassifications(Map, boolean)\r\n */\r\n@SafeVarargs\r\n@SuppressWarnings(&quot;varargs&quot;)\r\npublic final void addNotRetryableExceptions(Class&lt;? extends Exception&gt;... exceptionTypes) {\r\n```\r\n\r\nYou don&#39;t need to add retryable exceptions, unless you have called `defaultFalse()`.\r\n\r\nFor complete control over back off selection, you can provide a back off function:\r\n\r\n```java\r\n/**\r\n * Set a function to dynamically determine the {@link BackOff} to use, based on the\r\n * consumer record and/or exception. If null is returned, the default BackOff will be\r\n * used.\r\n * @param backOffFunction the function.\r\n * @since 2.6\r\n */\r\npublic void setBackOffFunction(BiFunction&lt;ConsumerRecord&lt;?, ?&gt;, Exception, BackOff&gt; backOffFunction) {\r\n```\r\n\r\nIt is best NOT to ask unrelated questions - ask separate questions.\r\n\r\nYou will get 10 records but it is indeterminate which partitions they will come from; you will definitely not get 1 record from each partition on each poll.\r\n\r\n__EDIT__\r\n\r\nTo change the default &quot;fatal&quot; classifications, you can either remove individual types:\r\n\r\n```java\r\n/**\r\n * Remove an exception type from the configured list. By default, the following\r\n * exceptions will not be retried:\r\n * &lt;ul&gt;\r\n * &lt;li&gt;{@link DeserializationException}&lt;/li&gt;\r\n * &lt;li&gt;{@link MessageConversionException}&lt;/li&gt;\r\n * &lt;li&gt;{@link ConversionException}&lt;/li&gt;\r\n * &lt;li&gt;{@link MethodArgumentResolutionException}&lt;/li&gt;\r\n * &lt;li&gt;{@link NoSuchMethodException}&lt;/li&gt;\r\n * &lt;li&gt;{@link ClassCastException}&lt;/li&gt;\r\n * &lt;/ul&gt;\r\n * All others will be retried, unless {@link #defaultFalse()} has been called.\r\n * @param exceptionType the exception type.\r\n * @return the classification of the exception if removal was successful;\r\n * null otherwise.\r\n * @since 2.8.4\r\n * @see #addNotRetryableExceptions(Class...)\r\n * @see #setClassifications(Map, boolean)\r\n */\r\n@Nullable\r\npublic Boolean removeClassification(Class&lt;? extends Exception&gt; exceptionType) {\r\n```\r\n\r\nOr you can replace the defaults in one call:\r\n\r\n```java\r\n/**\r\n * Set an exception classifications to determine whether the exception should cause a retry\r\n * (until exhaustion) or not. If not, we go straight to the recoverer. By default,\r\n * the following exceptions will not be retried:\r\n * &lt;ul&gt;\r\n * &lt;li&gt;{@link DeserializationException}&lt;/li&gt;\r\n * &lt;li&gt;{@link MessageConversionException}&lt;/li&gt;\r\n * &lt;li&gt;{@link ConversionException}&lt;/li&gt;\r\n * &lt;li&gt;{@link MethodArgumentResolutionException}&lt;/li&gt;\r\n * &lt;li&gt;{@link NoSuchMethodException}&lt;/li&gt;\r\n * &lt;li&gt;{@link ClassCastException}&lt;/li&gt;\r\n * &lt;/ul&gt;\r\n * All others will be retried.\r\n * When calling this method, the defaults will not be applied.\r\n * @param classifications the classifications.\r\n * @param defaultValue whether or not to retry non-matching exceptions.\r\n * @see BinaryExceptionClassifier#BinaryExceptionClassifier(Map, boolean)\r\n * @see #addNotRetryableExceptions(Class...)\r\n */\r\npublic void setClassifications(Map&lt;Class&lt;? extends Throwable&gt;, Boolean&gt; classifications, boolean defaultValue) {\r\n```\r\n","title":"Kafka consumer retry based on specific exceptions","body":"<p>See the javadocs; by default all exceptions are retryable except for a configured set of exceptions that are considered fatal. You can modify or replace that set:</p>\n<pre class=\"lang-java prettyprint-override\"><code>/**\n * Add exception types to the default list. By default, the following exceptions will\n * not be retried:\n * &lt;ul&gt;\n * &lt;li&gt;{@link DeserializationException}&lt;/li&gt;\n * &lt;li&gt;{@link MessageConversionException}&lt;/li&gt;\n * &lt;li&gt;{@link ConversionException}&lt;/li&gt;\n * &lt;li&gt;{@link MethodArgumentResolutionException}&lt;/li&gt;\n * &lt;li&gt;{@link NoSuchMethodException}&lt;/li&gt;\n * &lt;li&gt;{@link ClassCastException}&lt;/li&gt;\n * &lt;/ul&gt;\n * All others will be retried, unless {@link #defaultFalse()} has been called.\n * @param exceptionTypes the exception types.\n * @see #removeClassification(Class)\n * @see #setClassifications(Map, boolean)\n */\n@SafeVarargs\n@SuppressWarnings(&quot;varargs&quot;)\npublic final void addNotRetryableExceptions(Class&lt;? extends Exception&gt;... exceptionTypes) {\n</code></pre>\n<p>You don't need to add retryable exceptions, unless you have called <code>defaultFalse()</code>.</p>\n<p>For complete control over back off selection, you can provide a back off function:</p>\n<pre class=\"lang-java prettyprint-override\"><code>/**\n * Set a function to dynamically determine the {@link BackOff} to use, based on the\n * consumer record and/or exception. If null is returned, the default BackOff will be\n * used.\n * @param backOffFunction the function.\n * @since 2.6\n */\npublic void setBackOffFunction(BiFunction&lt;ConsumerRecord&lt;?, ?&gt;, Exception, BackOff&gt; backOffFunction) {\n</code></pre>\n<p>It is best NOT to ask unrelated questions - ask separate questions.</p>\n<p>You will get 10 records but it is indeterminate which partitions they will come from; you will definitely not get 1 record from each partition on each poll.</p>\n<p><strong>EDIT</strong></p>\n<p>To change the default &quot;fatal&quot; classifications, you can either remove individual types:</p>\n<pre class=\"lang-java prettyprint-override\"><code>/**\n * Remove an exception type from the configured list. By default, the following\n * exceptions will not be retried:\n * &lt;ul&gt;\n * &lt;li&gt;{@link DeserializationException}&lt;/li&gt;\n * &lt;li&gt;{@link MessageConversionException}&lt;/li&gt;\n * &lt;li&gt;{@link ConversionException}&lt;/li&gt;\n * &lt;li&gt;{@link MethodArgumentResolutionException}&lt;/li&gt;\n * &lt;li&gt;{@link NoSuchMethodException}&lt;/li&gt;\n * &lt;li&gt;{@link ClassCastException}&lt;/li&gt;\n * &lt;/ul&gt;\n * All others will be retried, unless {@link #defaultFalse()} has been called.\n * @param exceptionType the exception type.\n * @return the classification of the exception if removal was successful;\n * null otherwise.\n * @since 2.8.4\n * @see #addNotRetryableExceptions(Class...)\n * @see #setClassifications(Map, boolean)\n */\n@Nullable\npublic Boolean removeClassification(Class&lt;? extends Exception&gt; exceptionType) {\n</code></pre>\n<p>Or you can replace the defaults in one call:</p>\n<pre class=\"lang-java prettyprint-override\"><code>/**\n * Set an exception classifications to determine whether the exception should cause a retry\n * (until exhaustion) or not. If not, we go straight to the recoverer. By default,\n * the following exceptions will not be retried:\n * &lt;ul&gt;\n * &lt;li&gt;{@link DeserializationException}&lt;/li&gt;\n * &lt;li&gt;{@link MessageConversionException}&lt;/li&gt;\n * &lt;li&gt;{@link ConversionException}&lt;/li&gt;\n * &lt;li&gt;{@link MethodArgumentResolutionException}&lt;/li&gt;\n * &lt;li&gt;{@link NoSuchMethodException}&lt;/li&gt;\n * &lt;li&gt;{@link ClassCastException}&lt;/li&gt;\n * &lt;/ul&gt;\n * All others will be retried.\n * When calling this method, the defaults will not be applied.\n * @param classifications the classifications.\n * @param defaultValue whether or not to retry non-matching exceptions.\n * @see BinaryExceptionClassifier#BinaryExceptionClassifier(Map, boolean)\n * @see #addNotRetryableExceptions(Class...)\n */\npublic void setClassifications(Map&lt;Class&lt;? extends Throwable&gt;, Boolean&gt; classifications, boolean defaultValue) {\n</code></pre>\n"}],"owner":{"account_id":16910209,"reputation":25,"user_id":12229445,"display_name":"tinku"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":450,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76565363,"answer_count":1,"score":0,"last_activity_date":1687890167,"creation_date":1687824162,"question_id":76560881,"body_markdown":"I have a kafka listener/consumer which consumes from a topic &quot;xyz&quot; that has 10 partitions.\r\n\r\nDuring message consumption or processing there might occur several exceptions. I would like to account for these exceptions. There are a certain exceptions which I would like to retry for a finite number of times.\r\n\r\n\r\n\r\nI wrote the following code to implement this requirement\r\n\r\n    \r\n```\r\n@Bean\r\npublic CommonErrorHandler customErrorHandler(){\r\n       \r\n      DefaultErrorHandler defaultErrorHandler = new DefaultErrorHandler((rec,ex) -&gt; \r\n       log.error(&quot;Finished retries. Commiting offset&quot;), new FixedBackOff(3000l, 5));\r\n       defaultErrorHandler.setCommitRecovered(true);\r\n       defaultErrorHandler.addRetryableExceptions(SerializationException.class)\r\n       return defaultErrorHandler;\r\n     \r\n    }\r\n```\r\n\r\nThe above code retries consuming the same message for 5 times upon failure to consume/process with an interval of 3 seconds between each retry.\r\n\r\nSpringboot should pick up this bean and wire it into the auto configured Listener Container factory as per the docs.\r\n\r\nMy questions are:\r\n \r\n1) Is it possible to add more generic exception as a retryable exception instead of a specific one. For ex: I would like to use the instanceOf operator in JAVA to check if an exception thrown is of a certain type, and then configure the retries or retry policies. Is such a thing possible ? \r\n\r\n2) Can we retry infinitely for certain exceptions?\r\n\r\n\r\nNote: I have implemented the exact same thing in earlier versions of Springboot. We have upgraded to 2.7 and I am looking for any examples or samples to achieve this task. Please help me with links to any examples or with any sample code.\r\n\r\n3) This question is unrelated to the above problem and its regarding the kafka consumer&#39;s &quot;max.poll.records&quot; property. The scenario is, we have one consumer in a consumer group, that is consuming messages from a topic with 10 partitions and all partitions have messages in them.\r\nIf the &quot;max.poll.records&quot; is set to 1, does the consumer receive exactly one message per partition in the topic, bringing the cumulative messages consumed from all 10 partitions to ten? Is my understanding correct? Or does it poll only 1 record irrespective of the partitions?","title":"Kafka consumer retry based on specific exceptions","body":"<p>I have a kafka listener/consumer which consumes from a topic &quot;xyz&quot; that has 10 partitions.</p>\n<p>During message consumption or processing there might occur several exceptions. I would like to account for these exceptions. There are a certain exceptions which I would like to retry for a finite number of times.</p>\n<p>I wrote the following code to implement this requirement</p>\n<pre><code>@Bean\npublic CommonErrorHandler customErrorHandler(){\n       \n      DefaultErrorHandler defaultErrorHandler = new DefaultErrorHandler((rec,ex) -&gt; \n       log.error(&quot;Finished retries. Commiting offset&quot;), new FixedBackOff(3000l, 5));\n       defaultErrorHandler.setCommitRecovered(true);\n       defaultErrorHandler.addRetryableExceptions(SerializationException.class)\n       return defaultErrorHandler;\n     \n    }\n</code></pre>\n<p>The above code retries consuming the same message for 5 times upon failure to consume/process with an interval of 3 seconds between each retry.</p>\n<p>Springboot should pick up this bean and wire it into the auto configured Listener Container factory as per the docs.</p>\n<p>My questions are:</p>\n<ol>\n<li><p>Is it possible to add more generic exception as a retryable exception instead of a specific one. For ex: I would like to use the instanceOf operator in JAVA to check if an exception thrown is of a certain type, and then configure the retries or retry policies. Is such a thing possible ?</p>\n</li>\n<li><p>Can we retry infinitely for certain exceptions?</p>\n</li>\n</ol>\n<p>Note: I have implemented the exact same thing in earlier versions of Springboot. We have upgraded to 2.7 and I am looking for any examples or samples to achieve this task. Please help me with links to any examples or with any sample code.</p>\n<ol start=\"3\">\n<li>This question is unrelated to the above problem and its regarding the kafka consumer's &quot;max.poll.records&quot; property. The scenario is, we have one consumer in a consumer group, that is consuming messages from a topic with 10 partitions and all partitions have messages in them.\nIf the &quot;max.poll.records&quot; is set to 1, does the consumer receive exactly one message per partition in the topic, bringing the cumulative messages consumed from all 10 partitions to ten? Is my understanding correct? Or does it poll only 1 record irrespective of the partitions?</li>\n</ol>\n"},{"tags":["java","junit","spring-batch"],"answers":[{"comments":[{"owner":{"account_id":2804251,"reputation":685,"user_id":2411805,"display_name":"Raghunandan Krishnamurthy"},"score":0,"creation_date":1391577574,"post_id":21569168,"comment_id":32579448,"body_markdown":"Post your classes, i can help","body":"Post your classes, i can help"}],"tags":[],"owner":{"account_id":2804251,"reputation":685,"user_id":2411805,"display_name":"Raghunandan Krishnamurthy"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1391578997,"creation_date":1391577356,"answer_id":21569168,"question_id":21553342,"body_markdown":"Yes you can write Test Cases for mapFieldSet()\r\n\r\n    You can always write such test cases to make sure your mapping are good!\r\n    // Using EasyMock to mock FieldSet  \r\n    @Test\r\n    public void mapFieldSetTest()\r\n    {\r\n    \tFieldSet mockFieldSet = EasyMock.createMock(FieldSet.class);\r\n  \t  \t\r\n    \tEasyMock.expect(mockFieldSet.readString(&quot;LNAME&quot;)).andReturn(&quot;Doe&quot;);\r\n    \tEasyMock.expect(mockFieldSet.readString(&quot;FNAME&quot;)).andReturn(&quot;John&quot;);\r\n    \tEasyMock.expect(mockFieldSet.readString(&quot;ETYPE&quot;)).andReturn(&quot;PART-TIME&quot;);\r\n    \tEasyMock.expect(mockFieldSet.readString(&quot;FADDRESS&quot;)).andReturn(&quot;191, Santa Clara&quot;);\r\n    \tEasyMock.expect(mockFieldSet.readString(&quot;EMAIL&quot;)).andReturn(&quot;john.Doe@fb.com&quot;);\r\n    \tEasyMock.expect(mockFieldSet.readString(&quot;UPN&quot;)).andReturn(&quot;1111111111&quot;);\r\n    \tEasyMock.expect(mockFieldSet.readString(&quot;WFID&quot;)).andReturn(&quot;22222222&quot;);\r\n    \tEasyMock.expect(mockFieldSet.readString(&quot;INS&quot;)).andReturn(&quot;CA University College&quot;);\r\n    \tEasyMock.expect(mockFieldSet.readString(&quot;PIC&quot;)).andReturn(&quot;c:\\\\john_doe.jpg&quot;);\r\n\r\n    \tEasyMock.replay(mockFieldSet);\r\n    \t\r\n    \t// call the method under test\r\n    \tPersonItem actual = fieldSetMapper.mapFieldSet(mockFieldSet);\r\n\t\t\r\n\t\tEasyMock.verify(mockFieldSet);\r\n\t\t\r\n\t\t// assert actual data by getters..\r\n    }","title":"UnitTest a SpringBatch FieldSetMapper","body":"<p>Yes you can write Test Cases for mapFieldSet()</p>\n\n<pre><code>You can always write such test cases to make sure your mapping are good!\n// Using EasyMock to mock FieldSet  \n@Test\npublic void mapFieldSetTest()\n{\n    FieldSet mockFieldSet = EasyMock.createMock(FieldSet.class);\n\n    EasyMock.expect(mockFieldSet.readString(\"LNAME\")).andReturn(\"Doe\");\n    EasyMock.expect(mockFieldSet.readString(\"FNAME\")).andReturn(\"John\");\n    EasyMock.expect(mockFieldSet.readString(\"ETYPE\")).andReturn(\"PART-TIME\");\n    EasyMock.expect(mockFieldSet.readString(\"FADDRESS\")).andReturn(\"191, Santa Clara\");\n    EasyMock.expect(mockFieldSet.readString(\"EMAIL\")).andReturn(\"john.Doe@fb.com\");\n    EasyMock.expect(mockFieldSet.readString(\"UPN\")).andReturn(\"1111111111\");\n    EasyMock.expect(mockFieldSet.readString(\"WFID\")).andReturn(\"22222222\");\n    EasyMock.expect(mockFieldSet.readString(\"INS\")).andReturn(\"CA University College\");\n    EasyMock.expect(mockFieldSet.readString(\"PIC\")).andReturn(\"c:\\\\john_doe.jpg\");\n\n    EasyMock.replay(mockFieldSet);\n\n    // call the method under test\n    PersonItem actual = fieldSetMapper.mapFieldSet(mockFieldSet);\n\n    EasyMock.verify(mockFieldSet);\n\n    // assert actual data by getters..\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3905554,"reputation":5747,"user_id":3232370,"display_name":"Ian A"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1687889651,"creation_date":1687889651,"answer_id":76567637,"question_id":21553342,"body_markdown":"In case anyone comes across this question and is using Mockito instead of EasyMock, you can use the following code to unit test the mapper:\r\n\r\n```\r\nimport static org.junit.jupiter.api.Assertions.assertEquals;\r\nimport static org.mockito.Mockito.mock;\r\nimport static org.mockito.Mockito.when;\r\n\r\n\r\nimport org.junit.jupiter.api.Test;\r\nimport org.springframework.batch.item.file.transform.FieldSet;\r\nimport org.springframework.validation.BindException;\r\n\r\nimport com.example.demo.loader.model.TestResult;\r\n\r\npublic class PersonItemFieldSetMapperTest {\r\n\r\n\tprivate final PersonItemFieldSetMapper fieldSetMapper = new PersonItemFieldSetMapper();\r\n\r\n\t@Test\r\n\tpublic void shouldMapFieldsCorrectly() throws BindException  {\r\n\t\tFieldSet mockFieldSet = mock(FieldSet.class);\r\n\t\twhen(mockFieldSet.readInt(&quot;LNAME&quot;)).thenReturn(&quot;Doe&quot;);\r\n\t\twhen(mockFieldSet.readInt(&quot;FNAME&quot;)).thenReturn(&quot;John&quot;);\r\n\t\t// Repeat setup for the other fields\r\n\r\n\t\tPersonItem actual = fieldSetMapper.mapFieldSet(mockFieldSet);\r\n\t\tassertEquals(&quot;Doe&quot;, actual.getLastName());\r\n\t\tassertEquals(&quot;John&quot;, actual.getFirstName());\r\n\t\t// Repeat assertions for the other fields\r\n\t}\r\n}\r\n\r\n```","title":"UnitTest a SpringBatch FieldSetMapper","body":"<p>In case anyone comes across this question and is using Mockito instead of EasyMock, you can use the following code to unit test the mapper:</p>\n<pre><code>import static org.junit.jupiter.api.Assertions.assertEquals;\nimport static org.mockito.Mockito.mock;\nimport static org.mockito.Mockito.when;\n\n\nimport org.junit.jupiter.api.Test;\nimport org.springframework.batch.item.file.transform.FieldSet;\nimport org.springframework.validation.BindException;\n\nimport com.example.demo.loader.model.TestResult;\n\npublic class PersonItemFieldSetMapperTest {\n\n    private final PersonItemFieldSetMapper fieldSetMapper = new PersonItemFieldSetMapper();\n\n    @Test\n    public void shouldMapFieldsCorrectly() throws BindException  {\n        FieldSet mockFieldSet = mock(FieldSet.class);\n        when(mockFieldSet.readInt(&quot;LNAME&quot;)).thenReturn(&quot;Doe&quot;);\n        when(mockFieldSet.readInt(&quot;FNAME&quot;)).thenReturn(&quot;John&quot;);\n        // Repeat setup for the other fields\n\n        PersonItem actual = fieldSetMapper.mapFieldSet(mockFieldSet);\n        assertEquals(&quot;Doe&quot;, actual.getLastName());\n        assertEquals(&quot;John&quot;, actual.getFirstName());\n        // Repeat assertions for the other fields\n    }\n}\n\n</code></pre>\n"}],"owner":{"account_id":3019457,"reputation":3814,"user_id":2560836,"accept_rate":80,"display_name":"Chris311"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2487,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":21569168,"answer_count":2,"score":1,"last_activity_date":1687889651,"creation_date":1391519035,"question_id":21553342,"body_markdown":"I got the following custom FieldSetMapper\r\n\r\n    import org.springframework.batch.item.file.mapping.FieldSetMapper;\r\n    import org.springframework.batch.item.file.transform.FieldSet;\r\n    import org.springframework.validation.BindException;\r\n\r\n    import de.BasicProperty;\r\n\r\n    public class PersonItemFieldSetMapper implements FieldSetMapper&lt;PersonItem&gt; {\r\n\r\n        @Override\r\n        public PersonItem mapFieldSet(final FieldSet fieldSet) throws BindException {\r\n            PersonItem person = new PersonItem();\r\n            person.setLastName(fieldSet.readString(BasicProperty.BASICPROP_LASTNAME));\r\n            person.setFirstName(fieldSet.readString(BasicProperty.BASICPROP_FIRSTNAME));\r\n            person.setEmployeeType(fieldSet.readString(&quot;EmployeeType&quot;));\r\n            person.setFormOfAdress(fieldSet.readString(BasicProperty.BASICPROP_FORMOFADDRESS));\r\n            person.setEMail(fieldSet.readString(BasicProperty.BASICPROP_EMAIL));\r\n            person.setUpn(fieldSet.readString(BasicProperty.BASICPROP_UPN));\r\n            person.setWorkforceId(fieldSet.readString(BasicProperty.BASICPROP_WORKFORCE_ID));\r\n            person.setInstitute(fieldSet.readString(BasicProperty.BASICPROP_INSTITUTE));\r\n            person.setPhoto(fieldSet.readString(BasicProperty.BASICPROP_PHOTO));\r\n\r\n            return person;\r\n        }\r\n\r\n    }\r\n\r\nAt the moment i am trying to write a unit-test for this mapper.\r\nFirst Question: Is this reasonable?\r\nSecond Question: How can i achieve this?","title":"UnitTest a SpringBatch FieldSetMapper","body":"<p>I got the following custom FieldSetMapper</p>\n\n<pre><code>import org.springframework.batch.item.file.mapping.FieldSetMapper;\nimport org.springframework.batch.item.file.transform.FieldSet;\nimport org.springframework.validation.BindException;\n\nimport de.BasicProperty;\n\npublic class PersonItemFieldSetMapper implements FieldSetMapper&lt;PersonItem&gt; {\n\n    @Override\n    public PersonItem mapFieldSet(final FieldSet fieldSet) throws BindException {\n        PersonItem person = new PersonItem();\n        person.setLastName(fieldSet.readString(BasicProperty.BASICPROP_LASTNAME));\n        person.setFirstName(fieldSet.readString(BasicProperty.BASICPROP_FIRSTNAME));\n        person.setEmployeeType(fieldSet.readString(\"EmployeeType\"));\n        person.setFormOfAdress(fieldSet.readString(BasicProperty.BASICPROP_FORMOFADDRESS));\n        person.setEMail(fieldSet.readString(BasicProperty.BASICPROP_EMAIL));\n        person.setUpn(fieldSet.readString(BasicProperty.BASICPROP_UPN));\n        person.setWorkforceId(fieldSet.readString(BasicProperty.BASICPROP_WORKFORCE_ID));\n        person.setInstitute(fieldSet.readString(BasicProperty.BASICPROP_INSTITUTE));\n        person.setPhoto(fieldSet.readString(BasicProperty.BASICPROP_PHOTO));\n\n        return person;\n    }\n\n}\n</code></pre>\n\n<p>At the moment i am trying to write a unit-test for this mapper.\nFirst Question: Is this reasonable?\nSecond Question: How can i achieve this?</p>\n"},{"tags":["java","junit","hudson","automated-tests","sonarqube"],"answers":[{"comments":[{"owner":{"account_id":2102673,"reputation":35121,"user_id":1869846,"accept_rate":56,"display_name":"Ruchira Gayan Ranaweera"},"score":0,"creation_date":1396970290,"post_id":22941178,"comment_id":35022539,"body_markdown":"Thanks for the help. I already found this resource. The thing is when we define a category and exclude that will exclude from both `Hudson` and `Sonar`","body":"Thanks for the help. I already found this resource. The thing is when we define a category and exclude that will exclude from both <code>Hudson</code> and <code>Sonar</code>"},{"owner":{"account_id":1480132,"reputation":2045,"user_id":1389713,"display_name":"Matthew Wilson"},"score":0,"creation_date":1396970435,"post_id":22941178,"comment_id":35022643,"body_markdown":"Instead of having an &quot;exclude&quot; category, have two categories. A &quot;hudson&quot; category and a &quot;Sonar&quot; category, hudson will only run the hudson categories and sonar will only run the sonar categories. (Ovbiously use better category names). If a test needs to be run for both hudson and sonar, then you can assign it both categories","body":"Instead of having an &quot;exclude&quot; category, have two categories. A &quot;hudson&quot; category and a &quot;Sonar&quot; category, hudson will only run the hudson categories and sonar will only run the sonar categories. (Ovbiously use better category names). If a test needs to be run for both hudson and sonar, then you can assign it both categories"}],"tags":[],"owner":{"account_id":1480132,"reputation":2045,"user_id":1389713,"display_name":"Matthew Wilson"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1396970102,"creation_date":1396970102,"answer_id":22941178,"question_id":22940909,"body_markdown":"Seems like you are looking to use JUnit Categories - https://weblogs.java.net/blog/johnsmart/archive/2010/04/25/grouping-tests-using-junit-categories-0\r\n\r\nYou can then configure your build server to run specific categories at different times\r\n\r\nMore info here - https://github.com/junit-team/junit/wiki/Categories","title":"How to configure JUnit test suite?","body":"<p>Seems like you are looking to use JUnit Categories - <a href=\"https://weblogs.java.net/blog/johnsmart/archive/2010/04/25/grouping-tests-using-junit-categories-0\" rel=\"nofollow\">https://weblogs.java.net/blog/johnsmart/archive/2010/04/25/grouping-tests-using-junit-categories-0</a></p>\n\n<p>You can then configure your build server to run specific categories at different times</p>\n\n<p>More info here - <a href=\"https://github.com/junit-team/junit/wiki/Categories\" rel=\"nofollow\">https://github.com/junit-team/junit/wiki/Categories</a></p>\n"},{"comments":[{"owner":{"account_id":7547772,"reputation":8593,"user_id":5730279,"display_name":"hc_dev"},"score":0,"creation_date":1687888668,"post_id":22941201,"comment_id":134999302,"body_markdown":"First link to Categories is broken, may replace with https://github.com/junit-team/junit4/wiki/Categories","body":"First link to Categories is broken, may replace with <a href=\"https://github.com/junit-team/junit4/wiki/Categories\" rel=\"nofollow noreferrer\">github.com/junit-team/junit4/wiki/Categories</a>"}],"tags":[],"owner":{"account_id":3089665,"reputation":31308,"user_id":2616073,"display_name":"dkatzel"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1687889375,"creation_date":1396970176,"answer_id":22941201,"question_id":22940909,"body_markdown":"If you are using Junit 4.8 or higher you can use JUnit `Categories` to separate your tests and run only tests that are in certain categories.\r\n\r\nFor more information see:\r\n\r\n * Wiki page on GitHub repository of junit-team: [junit4, Categories][1]\r\n * Tutorial on DZone: [A Closer Look at JUnit Categories][2]\r\n * Guide on Maven Surefire Plugin: [Using JUnit Categories][3]\r\n\r\n\r\n  [1]: https://github.com/junit-team/junit4/wiki/Categories\r\n  [2]: http://java.dzone.com/articles/closer-look-junit-categories\r\n  [3]: https://maven.apache.org/surefire/maven-surefire-plugin/examples/junit.html#using-junit-categories","title":"How to configure JUnit test suite?","body":"<p>If you are using Junit 4.8 or higher you can use JUnit <code>Categories</code> to separate your tests and run only tests that are in certain categories.</p>\n<p>For more information see:</p>\n<ul>\n<li>Wiki page on GitHub repository of junit-team: <a href=\"https://github.com/junit-team/junit4/wiki/Categories\" rel=\"nofollow noreferrer\">junit4, Categories</a></li>\n<li>Tutorial on DZone: <a href=\"http://java.dzone.com/articles/closer-look-junit-categories\" rel=\"nofollow noreferrer\">A Closer Look at JUnit Categories</a></li>\n<li>Guide on Maven Surefire Plugin: <a href=\"https://maven.apache.org/surefire/maven-surefire-plugin/examples/junit.html#using-junit-categories\" rel=\"nofollow noreferrer\">Using JUnit Categories</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":84846,"reputation":5030,"user_id":236936,"accept_rate":67,"display_name":"TrueDub"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1396973497,"creation_date":1396973497,"answer_id":22942519,"question_id":22940909,"body_markdown":"I think you want to separate into 2 test phases:\r\n \r\n\r\n - unit, for the fast-running tests \r\n - integration, for the Hibernate-style slower ones.\r\n\r\nUnit tests are run by Surefire plugin, with integration ones run by [Failsafe][1]\r\n\r\nThese run in a different phases of the maven standard build lifecycle, so you can set the integration tests to only run on your SONAR build.\r\n\r\n  [1]: http://maven.apache.org/surefire/maven-failsafe-plugin/","title":"How to configure JUnit test suite?","body":"<p>I think you want to separate into 2 test phases:</p>\n\n<ul>\n<li>unit, for the fast-running tests </li>\n<li>integration, for the Hibernate-style slower ones.</li>\n</ul>\n\n<p>Unit tests are run by Surefire plugin, with integration ones run by <a href=\"http://maven.apache.org/surefire/maven-failsafe-plugin/\" rel=\"nofollow\">Failsafe</a></p>\n\n<p>These run in a different phases of the maven standard build lifecycle, so you can set the integration tests to only run on your SONAR build.</p>\n"}],"owner":{"account_id":2102673,"reputation":35121,"user_id":1869846,"accept_rate":56,"display_name":"Ruchira Gayan Ranaweera"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":458,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":3,"score":1,"last_activity_date":1687889375,"creation_date":1396969440,"question_id":22940909,"body_markdown":"I have a Java project which has layered structure. And each time when commit is made [Hudson][1] build is running with all test cases to make sure that code is not broken by new changes. But this may take considerable amount of time due to running test cases for persistence (Hibernate) layer. Also there is a [Sonar][2] build which runs each night.  \r\n\r\nNow I am looking for a way of optimizing test running. I want to remove persistence layers tests from Hudson build and only run it in Sonar. Now it should have two different test suites (profiles). \r\n\r\nAny suggestion very much appreciated.  \r\n\r\n\r\n  [1]: http://hudson-ci.org/\r\n  [2]: http://www.sonarqube.org/","title":"How to configure JUnit test suite?","body":"<p>I have a Java project which has layered structure. And each time when commit is made <a href=\"http://hudson-ci.org/\" rel=\"nofollow\">Hudson</a> build is running with all test cases to make sure that code is not broken by new changes. But this may take considerable amount of time due to running test cases for persistence (Hibernate) layer. Also there is a <a href=\"http://www.sonarqube.org/\" rel=\"nofollow\">Sonar</a> build which runs each night.  </p>\n\n<p>Now I am looking for a way of optimizing test running. I want to remove persistence layers tests from Hudson build and only run it in Sonar. Now it should have two different test suites (profiles). </p>\n\n<p>Any suggestion very much appreciated.  </p>\n"},{"tags":["java","opensearch","amazon-opensearch"],"answers":[{"tags":[],"owner":{"account_id":10676925,"reputation":59,"user_id":9410813,"display_name":"Chintan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1687888871,"creation_date":1687888871,"answer_id":76567547,"question_id":76567541,"body_markdown":"Answer to this question is here: https://forum.opensearch.org/t/how-to-connect-to-aws-opensearch-service-without-using-awssdk2transport/14657/1.\r\nYou can connect to AWS OpenSearch Service using both Apache HttpClient 5 Transport and RestClient Transport.","title":"How to connect to AWS OpenSearch Service in Java using Apache HttpClient 5 Transport or Apache RestClient Transport","body":"<p>Answer to this question is here: <a href=\"https://forum.opensearch.org/t/how-to-connect-to-aws-opensearch-service-without-using-awssdk2transport/14657/1\" rel=\"nofollow noreferrer\">https://forum.opensearch.org/t/how-to-connect-to-aws-opensearch-service-without-using-awssdk2transport/14657/1</a>.\nYou can connect to AWS OpenSearch Service using both Apache HttpClient 5 Transport and RestClient Transport.</p>\n"}],"owner":{"account_id":10676925,"reputation":59,"user_id":9410813,"display_name":"Chintan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":368,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76567547,"answer_count":1,"score":0,"last_activity_date":1687888871,"creation_date":1687888815,"question_id":76567541,"body_markdown":"I am using AWS SDK version 1, so using `AwsSdk2Transport` to setup `OpenSearchClient` is out of the option. Also, Java high-level REST client is getting deprecated. How can I connect to AWS OpenSearch cluster without using `AwsSdk2Transport` and Java high-level REST client?","title":"How to connect to AWS OpenSearch Service in Java using Apache HttpClient 5 Transport or Apache RestClient Transport","body":"<p>I am using AWS SDK version 1, so using <code>AwsSdk2Transport</code> to setup <code>OpenSearchClient</code> is out of the option. Also, Java high-level REST client is getting deprecated. How can I connect to AWS OpenSearch cluster without using <code>AwsSdk2Transport</code> and Java high-level REST client?</p>\n"},{"tags":["java","maven"],"answers":[{"comments":[{"owner":{"account_id":359481,"reputation":260,"user_id":700915,"accept_rate":29,"display_name":"mohanaki"},"score":0,"creation_date":1437226723,"post_id":31488216,"comment_id":50946985,"body_markdown":"I cannot set the aggregator POM as parent as project1 and project2 have different parent POM&#39;s.","body":"I cannot set the aggregator POM as parent as project1 and project2 have different parent POM&#39;s."},{"owner":{"account_id":5209890,"reputation":527,"user_id":4166663,"display_name":"Athi"},"score":0,"creation_date":1437234006,"post_id":31488216,"comment_id":50948941,"body_markdown":"I edited the post with an example that can help to achieve what You want.., that&#39;s only if You can modify one of the ParentPoms in eg. the Project2Parent pom","body":"I edited the post with an example that can help to achieve what You want.., that&#39;s only if You can modify one of the ParentPoms in eg. the Project2Parent pom"},{"owner":{"account_id":3368794,"reputation":2538,"user_id":2828611,"accept_rate":70,"display_name":"inetphantom"},"score":0,"creation_date":1524136883,"post_id":31488216,"comment_id":86855018,"body_markdown":"Does that work? I mean now they still have the same parent, (or better parents) what means that  Parent2 overwrites Parent1","body":"Does that work? I mean now they still have the same parent, (or better parents) what means that  Parent2 overwrites Parent1"},{"owner":{"account_id":5209890,"reputation":527,"user_id":4166663,"display_name":"Athi"},"score":0,"creation_date":1524137821,"post_id":31488216,"comment_id":86855654,"body_markdown":"Parent2 does not override parent1 only inherits from it, the project1 and project2 will have all the properties from Parent1, Parent2 and Aggregator available.","body":"Parent2 does not override parent1 only inherits from it, the project1 and project2 will have all the properties from Parent1, Parent2 and Aggregator available."}],"tags":[],"owner":{"account_id":5209890,"reputation":527,"user_id":4166663,"display_name":"Athi"},"comment_count":4,"down_vote_count":2,"up_vote_count":0,"is_accepted":true,"score":-2,"last_activity_date":1437233818,"creation_date":1437198693,"answer_id":31488216,"question_id":31487982,"body_markdown":"You need to set the aggregator pom as the parent of `project1` and `project2`.\r\neg. in `project1` and `project2` poms add:\r\n\r\n&lt;!-- language-all: lang-xml --&gt;\r\n\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;com.agr&lt;/groupId&gt;\r\n        &lt;artifactId&gt;project-aggregator&lt;/artifactId&gt;\r\n        &lt;version&gt;1.0.0&lt;/version&gt;\r\n    &lt;/parent&gt;\r\n\r\n\r\nEDIT:\r\n\r\nI understand that project1 and project2 have different parent poms.\r\n\r\nThe only solution i know about to achieve what You want is to store the properties in parent pom.\r\n\r\nI can think only of one solution, to make an inheritance chain:\r\n\r\nProject2Parent:\r\n\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;com.test&lt;/groupId&gt;\r\n        &lt;artifactId&gt;Project1Parent&lt;/artifactId&gt;\r\n        &lt;version&gt;0.0.1&lt;/version&gt;\r\n    &lt;/parent&gt;\r\n    &lt;artifactId&gt;Project2Parent&lt;/artifactId&gt;\r\n    &lt;version&gt;0.0.1&lt;/version&gt;\r\n\r\nAggregator:\r\n\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;com.test&lt;/groupId&gt;\r\n        &lt;artifactId&gt;Project2Parent&lt;/artifactId&gt;\r\n        &lt;version&gt;0.0.1&lt;/version&gt;\r\n    &lt;/parent&gt;\r\n    &lt;artifactId&gt;Aggregator&lt;/artifactId&gt;\r\n    &lt;version&gt;0.0.1&lt;/version&gt;\r\n\r\nProject1\r\n\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;com.test&lt;/groupId&gt;\r\n        &lt;artifactId&gt;Aggregator&lt;/artifactId&gt;\r\n        &lt;version&gt;0.0.1&lt;/version&gt;\r\n    &lt;/parent&gt;\r\n    &lt;artifactId&gt;project1&lt;/artifactId&gt;\r\n    &lt;version&gt;0.0.1&lt;/version&gt;\r\n\r\nProject2\r\n\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;com.test&lt;/groupId&gt;\r\n        &lt;artifactId&gt;Aggregator&lt;/artifactId&gt;\r\n        &lt;version&gt;0.0.1&lt;/version&gt;\r\n    &lt;/parent&gt;\r\n    &lt;artifactId&gt;project2&lt;/artifactId&gt;\r\n    &lt;version&gt;0.0.1&lt;/version&gt;","title":"How to specify maven properties in a aggregator POM?","body":"<p>You need to set the aggregator pom as the parent of <code>project1</code> and <code>project2</code>.\neg. in <code>project1</code> and <code>project2</code> poms add:</p>\n\n\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;parent&gt;\n    &lt;groupId&gt;com.agr&lt;/groupId&gt;\n    &lt;artifactId&gt;project-aggregator&lt;/artifactId&gt;\n    &lt;version&gt;1.0.0&lt;/version&gt;\n&lt;/parent&gt;\n</code></pre>\n\n<p>EDIT:</p>\n\n<p>I understand that project1 and project2 have different parent poms.</p>\n\n<p>The only solution i know about to achieve what You want is to store the properties in parent pom.</p>\n\n<p>I can think only of one solution, to make an inheritance chain:</p>\n\n<p>Project2Parent:</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;parent&gt;\n    &lt;groupId&gt;com.test&lt;/groupId&gt;\n    &lt;artifactId&gt;Project1Parent&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1&lt;/version&gt;\n&lt;/parent&gt;\n&lt;artifactId&gt;Project2Parent&lt;/artifactId&gt;\n&lt;version&gt;0.0.1&lt;/version&gt;\n</code></pre>\n\n<p>Aggregator:</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;parent&gt;\n    &lt;groupId&gt;com.test&lt;/groupId&gt;\n    &lt;artifactId&gt;Project2Parent&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1&lt;/version&gt;\n&lt;/parent&gt;\n&lt;artifactId&gt;Aggregator&lt;/artifactId&gt;\n&lt;version&gt;0.0.1&lt;/version&gt;\n</code></pre>\n\n<p>Project1</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;parent&gt;\n    &lt;groupId&gt;com.test&lt;/groupId&gt;\n    &lt;artifactId&gt;Aggregator&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1&lt;/version&gt;\n&lt;/parent&gt;\n&lt;artifactId&gt;project1&lt;/artifactId&gt;\n&lt;version&gt;0.0.1&lt;/version&gt;\n</code></pre>\n\n<p>Project2</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;parent&gt;\n    &lt;groupId&gt;com.test&lt;/groupId&gt;\n    &lt;artifactId&gt;Aggregator&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1&lt;/version&gt;\n&lt;/parent&gt;\n&lt;artifactId&gt;project2&lt;/artifactId&gt;\n&lt;version&gt;0.0.1&lt;/version&gt;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":359481,"reputation":260,"user_id":700915,"accept_rate":29,"display_name":"mohanaki"},"score":1,"creation_date":1437226821,"post_id":31488231,"comment_id":50947012,"body_markdown":"Y1 has another parent POM so the aggregator POM cannot be set as parent.","body":"Y1 has another parent POM so the aggregator POM cannot be set as parent."}],"tags":[],"owner":{"account_id":2052678,"reputation":134073,"user_id":1831293,"accept_rate":91,"display_name":"Evgeniy Dorofeev"},"comment_count":1,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1437229061,"creation_date":1437198809,"answer_id":31488231,"question_id":31487982,"body_markdown":"Here is aggregator&#39;s pom:\r\n\r\n&lt;!-- language-all: lang-xml --&gt;\r\n\r\n\t&lt;groupId&gt;y&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;y&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1&lt;/version&gt;\r\n\t&lt;packaging&gt;pom&lt;/packaging&gt;\r\n\t&lt;modules&gt;\r\n\t\t&lt;module&gt;y1&lt;/module&gt;\r\n\t\t&lt;module&gt;y2&lt;/module&gt;\r\n\t&lt;/modules&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;x&gt;1&lt;/x&gt;\r\n\t&lt;/properties&gt;\r\n\r\nThis is `y1` effective pom (generated by Eclipse):\r\n\r\n      &lt;parent&gt;\r\n        &lt;groupId&gt;y&lt;/groupId&gt;\r\n        &lt;artifactId&gt;y&lt;/artifactId&gt;\r\n        &lt;version&gt;0.0.1&lt;/version&gt;\r\n      &lt;/parent&gt;\r\n      &lt;groupId&gt;y1&lt;/groupId&gt;\r\n      &lt;artifactId&gt;y1&lt;/artifactId&gt;\r\n      &lt;version&gt;0.0.1&lt;/version&gt;\r\n      &lt;properties&gt;\r\n        &lt;x&gt;1&lt;/x&gt;\r\n      &lt;/properties&gt;\r\n\r\nAs you can see property `x` declared in parent is inherited by child.","title":"How to specify maven properties in a aggregator POM?","body":"<p>Here is aggregator's pom:</p>\n\n\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;groupId&gt;y&lt;/groupId&gt;\n&lt;artifactId&gt;y&lt;/artifactId&gt;\n&lt;version&gt;0.0.1&lt;/version&gt;\n&lt;packaging&gt;pom&lt;/packaging&gt;\n&lt;modules&gt;\n    &lt;module&gt;y1&lt;/module&gt;\n    &lt;module&gt;y2&lt;/module&gt;\n&lt;/modules&gt;\n&lt;properties&gt;\n    &lt;x&gt;1&lt;/x&gt;\n&lt;/properties&gt;\n</code></pre>\n\n<p>This is <code>y1</code> effective pom (generated by Eclipse):</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>  &lt;parent&gt;\n    &lt;groupId&gt;y&lt;/groupId&gt;\n    &lt;artifactId&gt;y&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1&lt;/version&gt;\n  &lt;/parent&gt;\n  &lt;groupId&gt;y1&lt;/groupId&gt;\n  &lt;artifactId&gt;y1&lt;/artifactId&gt;\n  &lt;version&gt;0.0.1&lt;/version&gt;\n  &lt;properties&gt;\n    &lt;x&gt;1&lt;/x&gt;\n  &lt;/properties&gt;\n</code></pre>\n\n<p>As you can see property <code>x</code> declared in parent is inherited by child.</p>\n"},{"tags":[],"owner":{"account_id":6254221,"reputation":829,"user_id":4863347,"display_name":"Charlie Reitzel"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687887920,"creation_date":1687887920,"answer_id":76567443,"question_id":31487982,"body_markdown":"The OP is describing a real use case in large companies that have required parent POMs for different project types: library or service.  Any real project in that company may include some jar modules (library parent) and a REST service or web UI (service parent).  \r\n\r\nAll the Maven inheritance happens from the external parent POMs. But it would be real nice if developers could set a few properties in the aggregator POM.  \r\n\r\nApparently, however, this is not possible with Maven.","title":"How to specify maven properties in a aggregator POM?","body":"<p>The OP is describing a real use case in large companies that have required parent POMs for different project types: library or service.  Any real project in that company may include some jar modules (library parent) and a REST service or web UI (service parent).</p>\n<p>All the Maven inheritance happens from the external parent POMs. But it would be real nice if developers could set a few properties in the aggregator POM.</p>\n<p>Apparently, however, this is not possible with Maven.</p>\n"}],"owner":{"account_id":359481,"reputation":260,"user_id":700915,"accept_rate":29,"display_name":"mohanaki"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2812,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"accepted_answer_id":31488216,"answer_count":3,"score":2,"last_activity_date":1687887920,"creation_date":1437195846,"question_id":31487982,"body_markdown":"I have a project structure like below.In aggregator POM project1 and project 2 are defined as modules.Now if i want to add a maven property that can be accessed in all the projects how can i do it?.\r\nWhat is the best project structure in this case.?\r\n\r\nIf i define property like `&lt;temp.dir&gt;data&lt;/temp.dir&gt;` in the aggregator POM then it is not available in project1 pom.xml and project2 POM.xml.I have to duplicate the same property in both the POM&#39;s.\r\n\r\n    project\r\n    - project1\r\n    - - pom.xml  ---- has parent POM as project A\r\n    - project2\r\n    - - pom.xml  --- has parent POM as project B\r\n    - pom.xml (Aggregator POM)\r\n\r\nUPDATE:To clarify more project1 pom and project 2 has different parent POM&#39;s.So aggregator POM cannot be set as parent.","title":"How to specify maven properties in a aggregator POM?","body":"<p>I have a project structure like below.In aggregator POM project1 and project 2 are defined as modules.Now if i want to add a maven property that can be accessed in all the projects how can i do it?.\nWhat is the best project structure in this case.?</p>\n\n<p>If i define property like <code>&lt;temp.dir&gt;data&lt;/temp.dir&gt;</code> in the aggregator POM then it is not available in project1 pom.xml and project2 POM.xml.I have to duplicate the same property in both the POM's.</p>\n\n<pre><code>project\n- project1\n- - pom.xml  ---- has parent POM as project A\n- project2\n- - pom.xml  --- has parent POM as project B\n- pom.xml (Aggregator POM)\n</code></pre>\n\n<p>UPDATE:To clarify more project1 pom and project 2 has different parent POM's.So aggregator POM cannot be set as parent.</p>\n"},{"tags":["java","spring-boot","google-bigquery"],"comments":[{"owner":{"account_id":2737454,"reputation":61,"user_id":2359817,"display_name":"amfractal"},"score":0,"creation_date":1687887433,"post_id":73881896,"comment_id":134999026,"body_markdown":"I have the same problem, M1 Mac running ZetaSQL fails with\n\nUnsupported os.arch\nUsing the Zulu JDK also didn&#39;t solve the problem. Were you able to resolve?","body":"I have the same problem, M1 Mac running ZetaSQL fails with  Unsupported os.arch Using the Zulu JDK also didn&#39;t solve the problem. Were you able to resolve?"}],"answers":[{"tags":[],"owner":{"account_id":1126561,"reputation":430,"user_id":1113712,"display_name":"Chris"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670856355,"creation_date":1670856355,"answer_id":74772860,"question_id":73881896,"body_markdown":"Are you running on an M1 Mac?\r\n\r\nI had this issue as there isn&#39;t an M1 / ARM build of ZetaSQL. \r\n\r\nTo fix:\r\n\r\n- download an x86 64-bit JVM (I went to https://www.azul.com/downloads/?package=jdk and used a different major version to avoid any conflicts)\r\n- set x86 JVM as the Project JVM for IntelliJ (https://www.baeldung.com/intellij-change-java-version)\r\n\r\n\r\n","title":"ZetaSQL BQ Library not working for mac OS Monterey","body":"<p>Are you running on an M1 Mac?</p>\n<p>I had this issue as there isn't an M1 / ARM build of ZetaSQL.</p>\n<p>To fix:</p>\n<ul>\n<li>download an x86 64-bit JVM (I went to <a href=\"https://www.azul.com/downloads/?package=jdk\" rel=\"nofollow noreferrer\">https://www.azul.com/downloads/?package=jdk</a> and used a different major version to avoid any conflicts)</li>\n<li>set x86 JVM as the Project JVM for IntelliJ (<a href=\"https://www.baeldung.com/intellij-change-java-version\" rel=\"nofollow noreferrer\">https://www.baeldung.com/intellij-change-java-version</a>)</li>\n</ul>\n"}],"owner":{"account_id":24619432,"reputation":1,"user_id":18520004,"display_name":"Nidhi Shah"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":303,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1687887414,"creation_date":1664370054,"question_id":73881896,"body_markdown":"I have a SpringBoot Application that is using Big Query Parser ZetaSQL.\r\nMy pom is as follows:\r\n```\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.google.zetasql&lt;/groupId&gt;\r\n            &lt;artifactId&gt;zetasql-jni-channel&lt;/artifactId&gt;\r\n            &lt;version&gt;2022.08.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n```\r\nIn My Test Class i am trying to extract table names from query. \r\n```\r\n  public static void main(String[] args) {\r\n\r\n    String Querystr = &quot;SELECT * FROM `test.test.test` LIMIT 1000;&quot;;\r\n    List&lt;List&lt;String&gt;&gt; tables = Analyzer.extractTableNamesFromStatement(Querystr);\r\n\r\n  }\r\n```\r\n\r\nHowever when i try to run the application i get this error:\r\n\r\n```\r\n com.google.zetasql.ClientChannelProvider: Provider com.google.zetasql.JniChannelProvider could not be instantiated\r\n\tat java.base/java.util.ServiceLoader.fail(ServiceLoader.java:582)\r\n\tat java.base/java.util.ServiceLoader$ProviderImpl.newInstance(ServiceLoader.java:804)\r\n\tat java.base/java.util.ServiceLoader$ProviderImpl.get(ServiceLoader.java:722)\r\n\tat java.base/java.util.ServiceLoader$3.next(ServiceLoader.java:1395)\r\n\tat com.google.zetasql.ClientChannelProvider.loadChannel(ClientChannelProvider.java:31)\r\n\tat com.google.zetasql.Client.getStub(Client.java:29)\r\n\tat com.google.zetasql.LanguageOptions.getDefaultFeatures(LanguageOptions.java:58)\r\n\tat com.google.zetasql.LanguageOptions.&lt;init&gt;(LanguageOptions.java:66)\r\n\tat com.google.zetasql.AnalyzerOptions.&lt;init&gt;(AnalyzerOptions.java:56)\r\n\tat com.google.zetasql.Analyzer.extractTableNamesFromStatement(Analyzer.java:162)\r\n\tat com.pexar.sigma.datasources.JdbcDatasourceApplication.main(JdbcDatasourceApplication.java:23)\r\nCaused by: java.lang.ExceptionInInitializerError\r\n\tat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\r\n\tat java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\r\n\tat java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:490)\r\n\tat java.base/java.util.ServiceLoader$ProviderImpl.newInstance(ServiceLoader.java:780)\r\n\t... 9 more\r\nCaused by: java.lang.RuntimeException: Unsupported os.arch\r\n\tat com.google.zetasql.JniChannelProvider.getLibraryPath(JniChannelProvider.java:48)\r\n\tat com.google.zetasql.JniChannelProvider.&lt;clinit&gt;(JniChannelProvider.java:66)\r\n\t... 14 more\r\n```\r\n\r\nI am using macOS Monterey.\r\nCan someone help me with this?","title":"ZetaSQL BQ Library not working for mac OS Monterey","body":"<p>I have a SpringBoot Application that is using Big Query Parser ZetaSQL.\nMy pom is as follows:</p>\n<pre><code>        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.zetasql&lt;/groupId&gt;\n            &lt;artifactId&gt;zetasql-jni-channel&lt;/artifactId&gt;\n            &lt;version&gt;2022.08.1&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>In My Test Class i am trying to extract table names from query.</p>\n<pre><code>  public static void main(String[] args) {\n\n    String Querystr = &quot;SELECT * FROM `test.test.test` LIMIT 1000;&quot;;\n    List&lt;List&lt;String&gt;&gt; tables = Analyzer.extractTableNamesFromStatement(Querystr);\n\n  }\n</code></pre>\n<p>However when i try to run the application i get this error:</p>\n<pre><code> com.google.zetasql.ClientChannelProvider: Provider com.google.zetasql.JniChannelProvider could not be instantiated\n    at java.base/java.util.ServiceLoader.fail(ServiceLoader.java:582)\n    at java.base/java.util.ServiceLoader$ProviderImpl.newInstance(ServiceLoader.java:804)\n    at java.base/java.util.ServiceLoader$ProviderImpl.get(ServiceLoader.java:722)\n    at java.base/java.util.ServiceLoader$3.next(ServiceLoader.java:1395)\n    at com.google.zetasql.ClientChannelProvider.loadChannel(ClientChannelProvider.java:31)\n    at com.google.zetasql.Client.getStub(Client.java:29)\n    at com.google.zetasql.LanguageOptions.getDefaultFeatures(LanguageOptions.java:58)\n    at com.google.zetasql.LanguageOptions.&lt;init&gt;(LanguageOptions.java:66)\n    at com.google.zetasql.AnalyzerOptions.&lt;init&gt;(AnalyzerOptions.java:56)\n    at com.google.zetasql.Analyzer.extractTableNamesFromStatement(Analyzer.java:162)\n    at com.pexar.sigma.datasources.JdbcDatasourceApplication.main(JdbcDatasourceApplication.java:23)\nCaused by: java.lang.ExceptionInInitializerError\n    at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n    at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\n    at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:490)\n    at java.base/java.util.ServiceLoader$ProviderImpl.newInstance(ServiceLoader.java:780)\n    ... 9 more\nCaused by: java.lang.RuntimeException: Unsupported os.arch\n    at com.google.zetasql.JniChannelProvider.getLibraryPath(JniChannelProvider.java:48)\n    at com.google.zetasql.JniChannelProvider.&lt;clinit&gt;(JniChannelProvider.java:66)\n    ... 14 more\n</code></pre>\n<p>I am using macOS Monterey.\nCan someone help me with this?</p>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":209503,"reputation":22800,"user_id":460557,"accept_rate":100,"display_name":"Jorge Campos"},"score":1,"creation_date":1687885781,"post_id":76567166,"comment_id":134998649,"body_markdown":"Hi there, I have a felling that this is a case of an [XY problem](https://xyproblem.info/). Rather than explaining how you want to solve your problem, explain what is the problem you are trying to solve and why you think this is the best way to do so.","body":"Hi there, I have a felling that this is a case of an <a href=\"https://xyproblem.info/\" rel=\"nofollow noreferrer\">XY problem</a>. Rather than explaining how you want to solve your problem, explain what is the problem you are trying to solve and why you think this is the best way to do so."},{"owner":{"account_id":5273740,"reputation":698,"user_id":4211252,"display_name":"Thilo Schwarz"},"score":0,"creation_date":1687887193,"post_id":76567166,"comment_id":134998971,"body_markdown":"If your custom condition depends on properties, you could use @ConditionalOnProperty","body":"If your custom condition depends on properties, you could use @ConditionalOnProperty"}],"answers":[{"tags":[],"owner":{"account_id":19742551,"reputation":1,"user_id":14455694,"display_name":"hipstermartin"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687887024,"creation_date":1687887024,"answer_id":76567340,"question_id":76567166,"body_markdown":"In Spring, the conditions specified using the @Conditional annotation are evaluated during the bean registration process, which happens before the beans are actually instantiated. Therefore, it is not possible to directly use a bean within a custom condition because the bean is not available at that stage.\r\n\r\nTo overcome this, you can use the @Conditional annotation along with the @ConditionalOnBean annotation. By specifying @ConditionalOnBean with the name or type of the dependent bean, you ensure that your custom condition is only evaluated if the dependent bean is present.\r\n\r\nThis way, the custom condition will be called after the dependent bean is instantiated, as Spring ensures that all the necessary dependencies are satisfied before creating a bean that is conditionally declared.\r\n\r\nBy using @ConditionalOnBean with your custom condition, you can make the condition dependent on the presence of another bean, allowing you to control the instantiation order correctly.","title":"Can we use a spring bean within a custom condition","body":"<p>In Spring, the conditions specified using the @Conditional annotation are evaluated during the bean registration process, which happens before the beans are actually instantiated. Therefore, it is not possible to directly use a bean within a custom condition because the bean is not available at that stage.</p>\n<p>To overcome this, you can use the @Conditional annotation along with the @ConditionalOnBean annotation. By specifying @ConditionalOnBean with the name or type of the dependent bean, you ensure that your custom condition is only evaluated if the dependent bean is present.</p>\n<p>This way, the custom condition will be called after the dependent bean is instantiated, as Spring ensures that all the necessary dependencies are satisfied before creating a bean that is conditionally declared.</p>\n<p>By using @ConditionalOnBean with your custom condition, you can make the condition dependent on the presence of another bean, allowing you to control the instantiation order correctly.</p>\n"}],"owner":{"account_id":28906586,"reputation":1,"user_id":22140505,"display_name":"David Moriconi"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":100,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1687887024,"creation_date":1687885473,"question_id":76567166,"body_markdown":"I am trying to declare a Spring bean depending on a custom condition. To do so, I have implemented a custom condition and used the @Conditonal annotation on my bean. \r\n\r\nMy problem is that my custom condition needs to use another bean to do the validation, but the condition is always called before that bean is instantiated. Is there a way to tell Spring to call my custom condition only once that bean is instantiated?\r\n\r\n\r\nI have tried a couple of things:\r\n\r\n1. Use @DependsOn along with @Conditional to force the order of instantiation and try to tell Spring to call the condition after the bean in @DependsOn is instantiated.\r\n\r\n2. Use @Lazy on my bean to instantiate it only if needed, thus after the dependant bean is instantiated. \r\n\r\n3. Use @ConditionalOnBean with my custom condition. \r\n\r\nAll of these do not work, my custom condition is called before the dependant bean is instantiated. ","title":"Can we use a spring bean within a custom condition","body":"<p>I am trying to declare a Spring bean depending on a custom condition. To do so, I have implemented a custom condition and used the @Conditonal annotation on my bean.</p>\n<p>My problem is that my custom condition needs to use another bean to do the validation, but the condition is always called before that bean is instantiated. Is there a way to tell Spring to call my custom condition only once that bean is instantiated?</p>\n<p>I have tried a couple of things:</p>\n<ol>\n<li><p>Use @DependsOn along with @Conditional to force the order of instantiation and try to tell Spring to call the condition after the bean in @DependsOn is instantiated.</p>\n</li>\n<li><p>Use @Lazy on my bean to instantiate it only if needed, thus after the dependant bean is instantiated.</p>\n</li>\n<li><p>Use @ConditionalOnBean with my custom condition.</p>\n</li>\n</ol>\n<p>All of these do not work, my custom condition is called before the dependant bean is instantiated.</p>\n"},{"tags":["java","kotlin","pdfbox"],"comments":[{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":1,"creation_date":1687841749,"post_id":76560129,"comment_id":134989101,"body_markdown":"As you don&#39;t show *how* you &quot;modify the PDF&quot;, what do you expect us to say? Allow me to remark, though, that there is a lot of &quot;example code&quot; out there that only works under benign circumstances.","body":"As you don&#39;t show <i>how</i> you &quot;modify the PDF&quot;, what do you expect us to say? Allow me to remark, though, that there is a lot of &quot;example code&quot; out there that only works under benign circumstances."},{"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"score":1,"creation_date":1687847875,"post_id":76560129,"comment_id":134989962,"body_markdown":"https://pdfbox.apache.org/2.0/migration.html#why-was-the-replacetext-example-removed%3F","body":"<a href=\"https://pdfbox.apache.org/2.0/migration.html#why-was-the-replacetext-example-removed%3F\" rel=\"nofollow noreferrer\">pdfbox.apache.org/2.0/&hellip;</a>"},{"owner":{"account_id":12538775,"reputation":458,"user_id":9124526,"display_name":"Mike"},"score":0,"creation_date":1687896925,"post_id":76560129,"comment_id":135000790,"body_markdown":"I modified it and put the code","body":"I modified it and put the code"},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1687924863,"post_id":76560129,"comment_id":135003511,"body_markdown":"First of all, your code seems to process only a subset of the pdf operators and completely drops the others. This can substantially change the apostate of the page. Also it applies `replacePdfText` directly to the text pieces drawn for each instruction. This may take from complete lines to single glyphs. By the way, throwing away the numeric parameters of `OperatorName.SHOW_TEXT_ADJUSTED` can substantially change the result.","body":"First of all, your code seems to process only a subset of the pdf operators and completely drops the others. This can substantially change the apostate of the page. Also it applies <code>replacePdfText</code> directly to the text pieces drawn for each instruction. This may take from complete lines to single glyphs. By the way, throwing away the numeric parameters of <code>OperatorName.SHOW_TEXT_ADJUSTED</code> can substantially change the result."}],"owner":{"account_id":12538775,"reputation":458,"user_id":9124526,"display_name":"Mike"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1687886769,"creation_date":1687812118,"question_id":76560129,"body_markdown":"I am trying to modify the PDF using Java [PDFBox](https://pdfbox.apache.org) using Kotlin, and what is happening that I am modifying a text from a PDF with another text. \r\n\r\nIt works for one of my pdf template but not another one. \r\n\r\nThis code is being called to replace one text to another text. Also there is another function where it takes a PDF, generates a new PDF where it replaces the text.\r\n\r\n\r\n```\r\nprivate fun replacePage(page: PDPage, page2Stream: PDPageContentStream) {\r\n        var font = PDType1Font.HELVETICA_BOLD\r\n\r\n        val parser = PDFStreamParser(page)\r\n        parser.parse()\r\n\r\n        val tokens = parser.tokens\r\n        for (tokenIndex in tokens.indices) {\r\n            val token = tokens[tokenIndex]\r\n\r\n            if (token !is Operator) {\r\n                continue\r\n            }\r\n\r\n            when (token.name) {\r\n                OperatorName.BEGIN_TEXT -&gt; {\r\n                    page2Stream.beginText()\r\n                }\r\n                OperatorName.MOVE_TEXT -&gt; {\r\n                    val x = (tokens[tokenIndex - 2] as COSNumber).floatValue()\r\n                    val y = (tokens[tokenIndex - 1] as COSNumber).floatValue()\r\n                    page2Stream.newLineAtOffset(x, y)\r\n                }\r\n                OperatorName.SET_MATRIX -&gt; {\r\n                    val ary = COSArray()\r\n                    ary.addAll((6 downTo 1).map {\r\n                        tokens[tokenIndex - it] as COSNumber\r\n                    })\r\n                    page2Stream.setTextMatrix(Matrix(ary))\r\n                }\r\n                OperatorName.SET_FONT_AND_SIZE -&gt; {\r\n                    val fontNameObj = tokens[tokenIndex - 2] as COSName\r\n                    val fontSizeObj = tokens[tokenIndex - 1] as COSNumber\r\n                    font = PDType1Font.HELVETICA_BOLD\r\n                    val fontSize = fontSizeObj.floatValue()\r\n                    page2Stream.setFont(font!!, fontSize)\r\n                }\r\n                OperatorName.SHOW_TEXT -&gt; {\r\n                    val previous = tokens[tokenIndex - 1] as COSString\r\n                    val buffer = parsePdfString(font!!, previous)\r\n                    val buffer2 = replacePdfText(buffer)\r\n                    page2Stream.showText(buffer2)\r\n                }\r\n                OperatorName.SHOW_TEXT_ADJUSTED -&gt; {\r\n                    val previous = tokens[tokenIndex - 1] as COSArray\r\n                    val buffer = previous.filterIsInstance&lt;COSString&gt;().joinToString(&quot;&quot;) { obj -&gt;\r\n                        parsePdfString(font!!, obj)\r\n                    }\r\n\r\n                    val buffer2 = replacePdfText(buffer)\r\n                    page2Stream.showText(buffer2)\r\n                }\r\n                OperatorName.END_TEXT -&gt; {\r\n                    page2Stream.endText()\r\n                }\r\n                OperatorName.MOVE_TO -&gt; {\r\n                    val x = (tokens[tokenIndex - 2] as COSNumber).floatValue()\r\n                    val y = (tokens[tokenIndex - 1] as COSNumber).floatValue()\r\n                    page2Stream.moveTo(x, y)\r\n\r\n                }\r\n                OperatorName.LINE_TO -&gt; {\r\n                    val x = (tokens[tokenIndex - 2] as COSNumber).floatValue()\r\n                    val y = (tokens[tokenIndex - 1] as COSNumber).floatValue()\r\n                    page2Stream.lineTo(x, y)\r\n                }\r\n                OperatorName.STROKE_PATH -&gt; {\r\n                    page2Stream.stroke()\r\n                }\r\n            }\r\n        }\r\n    }","title":"Using PDFBox but it doesn&#39;t modify the pdf, and I am having trouble modifying one PDF whereas another PDF works","body":"<p>I am trying to modify the PDF using Java <a href=\"https://pdfbox.apache.org\" rel=\"nofollow noreferrer\">PDFBox</a> using Kotlin, and what is happening that I am modifying a text from a PDF with another text.</p>\n<p>It works for one of my pdf template but not another one.</p>\n<p>This code is being called to replace one text to another text. Also there is another function where it takes a PDF, generates a new PDF where it replaces the text.</p>\n<pre><code>private fun replacePage(page: PDPage, page2Stream: PDPageContentStream) {\n        var font = PDType1Font.HELVETICA_BOLD\n\n        val parser = PDFStreamParser(page)\n        parser.parse()\n\n        val tokens = parser.tokens\n        for (tokenIndex in tokens.indices) {\n            val token = tokens[tokenIndex]\n\n            if (token !is Operator) {\n                continue\n            }\n\n            when (token.name) {\n                OperatorName.BEGIN_TEXT -&gt; {\n                    page2Stream.beginText()\n                }\n                OperatorName.MOVE_TEXT -&gt; {\n                    val x = (tokens[tokenIndex - 2] as COSNumber).floatValue()\n                    val y = (tokens[tokenIndex - 1] as COSNumber).floatValue()\n                    page2Stream.newLineAtOffset(x, y)\n                }\n                OperatorName.SET_MATRIX -&gt; {\n                    val ary = COSArray()\n                    ary.addAll((6 downTo 1).map {\n                        tokens[tokenIndex - it] as COSNumber\n                    })\n                    page2Stream.setTextMatrix(Matrix(ary))\n                }\n                OperatorName.SET_FONT_AND_SIZE -&gt; {\n                    val fontNameObj = tokens[tokenIndex - 2] as COSName\n                    val fontSizeObj = tokens[tokenIndex - 1] as COSNumber\n                    font = PDType1Font.HELVETICA_BOLD\n                    val fontSize = fontSizeObj.floatValue()\n                    page2Stream.setFont(font!!, fontSize)\n                }\n                OperatorName.SHOW_TEXT -&gt; {\n                    val previous = tokens[tokenIndex - 1] as COSString\n                    val buffer = parsePdfString(font!!, previous)\n                    val buffer2 = replacePdfText(buffer)\n                    page2Stream.showText(buffer2)\n                }\n                OperatorName.SHOW_TEXT_ADJUSTED -&gt; {\n                    val previous = tokens[tokenIndex - 1] as COSArray\n                    val buffer = previous.filterIsInstance&lt;COSString&gt;().joinToString(&quot;&quot;) { obj -&gt;\n                        parsePdfString(font!!, obj)\n                    }\n\n                    val buffer2 = replacePdfText(buffer)\n                    page2Stream.showText(buffer2)\n                }\n                OperatorName.END_TEXT -&gt; {\n                    page2Stream.endText()\n                }\n                OperatorName.MOVE_TO -&gt; {\n                    val x = (tokens[tokenIndex - 2] as COSNumber).floatValue()\n                    val y = (tokens[tokenIndex - 1] as COSNumber).floatValue()\n                    page2Stream.moveTo(x, y)\n\n                }\n                OperatorName.LINE_TO -&gt; {\n                    val x = (tokens[tokenIndex - 2] as COSNumber).floatValue()\n                    val y = (tokens[tokenIndex - 1] as COSNumber).floatValue()\n                    page2Stream.lineTo(x, y)\n                }\n                OperatorName.STROKE_PATH -&gt; {\n                    page2Stream.stroke()\n                }\n            }\n        }\n    }\n</code></pre>\n"},{"tags":["java","gradle"],"answers":[{"tags":[],"owner":{"account_id":1096470,"reputation":26066,"user_id":1089967,"accept_rate":59,"display_name":"lance-java"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1568880067,"creation_date":1568880067,"answer_id":58006385,"question_id":58006221,"body_markdown":"Gradle modules don&#39;t work like this. A java module is the compiled classes plus the resources. You can only exclude dependencies (ie whole modules or jars) using your attempted exclude method. You can&#39;t exclude a specific part (eg a directory) of a dependency \r\n\r\nIn my opinion excluding things is an anti-pattern. I suggest breaking things onto smaller pieces and joining them together (ie &quot;include&quot; instead of &quot;exclude&quot;)\r\n\r\nSo I suggest you create a &quot;:common&quot; project which both &quot;A&quot; and &quot;B&quot; have as a dependency. All common stuff goes in common and any specific stuff goes in A or B","title":"How can I exclude directory while using gradle&#39;s &quot;compile project&quot;?","body":"<p>Gradle modules don't work like this. A java module is the compiled classes plus the resources. You can only exclude dependencies (ie whole modules or jars) using your attempted exclude method. You can't exclude a specific part (eg a directory) of a dependency </p>\n\n<p>In my opinion excluding things is an anti-pattern. I suggest breaking things onto smaller pieces and joining them together (ie \"include\" instead of \"exclude\")</p>\n\n<p>So I suggest you create a \":common\" project which both \"A\" and \"B\" have as a dependency. All common stuff goes in common and any specific stuff goes in A or B</p>\n"},{"tags":[],"owner":{"account_id":14084441,"reputation":1,"user_id":10174503,"display_name":"Vishal Kumar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687886740,"creation_date":1687886740,"answer_id":76567301,"question_id":58006221,"body_markdown":"Following worked for me.\r\n\r\n     android {\r\n            ...\r\n            applicationVariants.all { variant -&gt;\r\n                if (variant.buildType == &#39;release&#39;) {\r\n                    variant.mergeAssetsProvider.configure {\r\n                        doLast {\r\n                            delete(fileTree(dir: outputDir, include: [&quot;**/directoryToExclude/**&quot;, &quot;**/fileToExclude.extension&quot;]))\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }","title":"How can I exclude directory while using gradle&#39;s &quot;compile project&quot;?","body":"<p>Following worked for me.</p>\n<pre><code> android {\n        ...\n        applicationVariants.all { variant -&gt;\n            if (variant.buildType == 'release') {\n                variant.mergeAssetsProvider.configure {\n                    doLast {\n                        delete(fileTree(dir: outputDir, include: [&quot;**/directoryToExclude/**&quot;, &quot;**/fileToExclude.extension&quot;]))\n                    }\n                }\n            }\n        }\n    }\n</code></pre>\n"}],"owner":{"account_id":11629167,"reputation":113,"user_id":9246902,"display_name":"Andrey Belonog"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1346,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1687886740,"creation_date":1568879409,"question_id":58006221,"body_markdown":"There are two modules in my project and module **A** depends on module **B**.\r\nFor building this with **Gradle** I&#39;ve used a simple code in the A&#39;s **build.gradle** file:\r\n\r\n\r\n```\r\ncompile project(&quot;:B&quot;)\r\n```\r\n\r\nMy issue is a collision of **resources** directories.\r\nWhat I want to do is to exclude certain B&#39;s module &quot;resource&quot; directory.\r\n\r\nWhat I&#39;ve tried:\r\n\r\n```\r\ncompile (project(&quot;:B&quot;)) {\r\n        exclude group : &#39;src.main&#39;, module : &#39;resources&#39;\r\n    }\r\n```\r\n\r\nWhat I&#39;ve tried as well:\r\n\r\n```\r\ncompile(project(&quot;:B&quot;)) {\r\n        exclude module: &#39;src&#39;\r\n        exclude module: &#39;main&#39;\r\n        exclude module: &#39;src/main&#39;\r\n        exclude module: &#39;src.main&#39;\r\n    }\r\n```\r\n\r\nBy excluding the root of module B, I&#39;m expecting to get failed build of whole project, but nothing happens.\r\n\r\nP.S. Every time I&#39;m running build, I&#39;m cleaning compiled jars, so they are not cached.","title":"How can I exclude directory while using gradle&#39;s &quot;compile project&quot;?","body":"<p>There are two modules in my project and module <strong>A</strong> depends on module <strong>B</strong>.\nFor building this with <strong>Gradle</strong> I've used a simple code in the A's <strong>build.gradle</strong> file:</p>\n\n<pre><code>compile project(\":B\")\n</code></pre>\n\n<p>My issue is a collision of <strong>resources</strong> directories.\nWhat I want to do is to exclude certain B's module \"resource\" directory.</p>\n\n<p>What I've tried:</p>\n\n<pre><code>compile (project(\":B\")) {\n        exclude group : 'src.main', module : 'resources'\n    }\n</code></pre>\n\n<p>What I've tried as well:</p>\n\n<pre><code>compile(project(\":B\")) {\n        exclude module: 'src'\n        exclude module: 'main'\n        exclude module: 'src/main'\n        exclude module: 'src.main'\n    }\n</code></pre>\n\n<p>By excluding the root of module B, I'm expecting to get failed build of whole project, but nothing happens.</p>\n\n<p>P.S. Every time I'm running build, I'm cleaning compiled jars, so they are not cached.</p>\n"},{"tags":["java","selenium-webdriver","browser-automation"],"comments":[{"owner":{"account_id":10049107,"reputation":186647,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"score":0,"creation_date":1686217190,"post_id":76429148,"comment_id":134769917,"body_markdown":"Update the question with the text based HTML of the element.","body":"Update the question with the text based HTML of the element."},{"owner":{"account_id":6990353,"reputation":1340,"user_id":5359846,"accept_rate":23,"display_name":"Tal Angel"},"score":0,"creation_date":1686220922,"post_id":76429148,"comment_id":134770594,"body_markdown":"Please show us the HTML element you are trying to click. Also provide the site URL. Using a picture is poor idea.","body":"Please show us the HTML element you are trying to click. Also provide the site URL. Using a picture is poor idea."}],"answers":[{"tags":[],"owner":{"account_id":9494775,"reputation":11207,"user_id":7058266,"display_name":"Michael Mintz"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687885565,"creation_date":1687885565,"answer_id":76567179,"question_id":76429148,"body_markdown":"Here&#39;s a complete [SeleniumBase](https://github.com/seleniumbase/SeleniumBase) solution that selects a date in the date-picker for that site.\r\n\r\nFirst ``pip install seleniumbase``. Then run with ``python``:\r\n\r\n```python\r\nfrom seleniumbase import BaseCase\r\nBaseCase.main(__name__, __file__)\r\n\r\nclass MakeMyTripTest(BaseCase):\r\n    def test_makemytrip(self):\r\n        self.open(&quot;https://www.makemytrip.com/flights/&quot;)\r\n        self.click(&#39;p[data-cy=&quot;departureDate&quot;]&#39;)\r\n        self.click(&#39;div[aria-label=&quot;Fri Jun 30 2023&quot;] p&#39;)\r\n        self.sleep(5)\r\n```","title":"Unable to locate element for date picker","body":"<p>Here's a complete <a href=\"https://github.com/seleniumbase/SeleniumBase\" rel=\"nofollow noreferrer\">SeleniumBase</a> solution that selects a date in the date-picker for that site.</p>\n<p>First <code>pip install seleniumbase</code>. Then run with <code>python</code>:</p>\n<pre class=\"lang-py prettyprint-override\"><code>from seleniumbase import BaseCase\nBaseCase.main(__name__, __file__)\n\nclass MakeMyTripTest(BaseCase):\n    def test_makemytrip(self):\n        self.open(&quot;https://www.makemytrip.com/flights/&quot;)\n        self.click('p[data-cy=&quot;departureDate&quot;]')\n        self.click('div[aria-label=&quot;Fri Jun 30 2023&quot;] p')\n        self.sleep(5)\n</code></pre>\n"}],"owner":{"account_id":28777784,"reputation":1,"user_id":22040011,"display_name":"Kaustav Guha"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1687885565,"creation_date":1686205857,"question_id":76429148,"body_markdown":"I am trying to locate an element\r\n\r\n![enter image description here](https://i.stack.imgur.com/ZXv40.png)\r\n\r\nThe structure is `&lt;div&gt;June 2023&lt;/div&gt;` to locate a particular month year value which is the header of the date picker\r\n\r\nI am unable to create a unique identifier from this above line, please help.\r\n\r\nUnable to make a CSS selector/XPATH identifier ","title":"Unable to locate element for date picker","body":"<p>I am trying to locate an element</p>\n<p><img src=\"https://i.stack.imgur.com/ZXv40.png\" alt=\"enter image description here\" /></p>\n<p>The structure is <code>&lt;div&gt;June 2023&lt;/div&gt;</code> to locate a particular month year value which is the header of the date picker</p>\n<p>I am unable to create a unique identifier from this above line, please help.</p>\n<p>Unable to make a CSS selector/XPATH identifier</p>\n"},{"tags":["java","spring-boot","vaadin","vaadin-flow"],"comments":[{"owner":{"account_id":2759852,"reputation":7920,"user_id":2376954,"display_name":"Leif &#197;strand"},"score":0,"creation_date":1581494158,"post_id":60179159,"comment_id":106448416,"body_markdown":"Could you share the full stacktrace and also try running your application with assertions enabled (`-ea` as a JVM parameter) to see if that gives any additional information?","body":"Could you share the full stacktrace and also try running your application with assertions enabled (<code>-ea</code> as a JVM parameter) to see if that gives any additional information?"}],"answers":[{"comments":[{"owner":{"account_id":16073814,"reputation":731,"user_id":11601529,"display_name":"tigu"},"score":0,"creation_date":1581493429,"post_id":60181145,"comment_id":106448093,"body_markdown":"Thank you! So what exactly do I have to encapsulate? The procedures where the UI is modified? I have a procedure called `editDataBasedOnSelection()` that adds the required sub views. This procedure is called in a buttons ClickListener. So is it right to encapsulate the call of the procedure inside the Click Listener like `myButton.addClickListener(event -&gt; {&lt;your encapsulation code here&gt;editDataBasedOnSelection()&lt;end encapsulation&gt;});`?","body":"Thank you! So what exactly do I have to encapsulate? The procedures where the UI is modified? I have a procedure called <code>editDataBasedOnSelection()</code> that adds the required sub views. This procedure is called in a buttons ClickListener. So is it right to encapsulate the call of the procedure inside the Click Listener like <code>myButton.addClickListener(event -&gt; {&lt;your encapsulation code here&gt;editDataBasedOnSelection()&lt;end encapsulation&gt;});</code>?"},{"owner":{"account_id":16073814,"reputation":731,"user_id":11601529,"display_name":"tigu"},"score":0,"creation_date":1581493533,"post_id":60181145,"comment_id":106448136,"body_markdown":"And do you maybe have a link for me to a documentation explaining the backgrounds and the whole concept in detail? I would really like to better understand what I am doing here. Anyway, I will try to get it to work with your hint this evening.","body":"And do you maybe have a link for me to a documentation explaining the backgrounds and the whole concept in detail? I would really like to better understand what I am doing here. Anyway, I will try to get it to work with your hint this evening."},{"owner":{"account_id":4201504,"reputation":5591,"user_id":3441504,"accept_rate":100,"display_name":"kscherrer"},"score":2,"creation_date":1581504203,"post_id":60181145,"comment_id":106453932,"body_markdown":"@tigu within a clicklistener you don&#39;t have to encapsulate modifications to the ui. You only have to do this when you manually start your own `Thread`. Every modification to the ui that you do from within that &quot;background&quot; Thread must be encapsulated. See also: [Asynchronous Updates](https://vaadin.com/docs/v10/flow/advanced/tutorial-push-access.html). Do you start your own Thread somewhere in your view?","body":"@tigu within a clicklistener you don&#39;t have to encapsulate modifications to the ui. You only have to do this when you manually start your own <code>Thread</code>. Every modification to the ui that you do from within that &quot;background&quot; Thread must be encapsulated. See also: <a href=\"https://vaadin.com/docs/v10/flow/advanced/tutorial-push-access.html\" rel=\"nofollow noreferrer\">Asynchronous Updates</a>. Do you start your own Thread somewhere in your view?"},{"owner":{"account_id":16073814,"reputation":731,"user_id":11601529,"display_name":"tigu"},"score":1,"creation_date":1581543256,"post_id":60181145,"comment_id":106474620,"body_markdown":"@kscherrer, no, I am not starting any own Threads. But with the hints of you and @Tata Lund I started to debug it again today and found a solution. I had added / removed an autowired component that was annotated `@UIScope`. I changed it to `@Scope(&quot;prototype&quot;)` and fetched it with `ctx.getBean()`. Now my UI works even with multiple users.","body":"@kscherrer, no, I am not starting any own Threads. But with the hints of you and @Tata Lund I started to debug it again today and found a solution. I had added / removed an autowired component that was annotated <code>@UIScope</code>. I changed it to <code>@Scope(&quot;prototype&quot;)</code> and fetched it with <code>ctx.getBean()</code>. Now my UI works even with multiple users."}],"tags":[],"owner":{"account_id":12280349,"reputation":10212,"user_id":8962195,"display_name":"Tatu Lund"},"comment_count":4,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1687885179,"creation_date":1581481668,"answer_id":60181145,"question_id":60179159,"body_markdown":"You have some logic in your app that attempts to modify UI state, components etc. from a *background* thread.  That should be done guarded by locking. So you need to encapsulate the logic in your view that is called from background method with \r\n\r\n    getUI().ifPresent(ui -&gt; ui.access(() -&gt; {\r\n        ...\r\n    }));\r\n\r\nAlso, `Server Push` should be enabled.\r\n\r\nDocumentation: https://vaadin.com/docs/latest/advanced/server-push\r\n","title":"Vaadin Spring Boot: &quot;Cannot access state in VaadinSession or UI without locking the session&quot; when multiple users access UI","body":"<p>You have some logic in your app that attempts to modify UI state, components etc. from a <em>background</em> thread.  That should be done guarded by locking. So you need to encapsulate the logic in your view that is called from background method with</p>\n<pre><code>getUI().ifPresent(ui -&gt; ui.access(() -&gt; {\n    ...\n}));\n</code></pre>\n<p>Also, <code>Server Push</code> should be enabled.</p>\n<p>Documentation: <a href=\"https://vaadin.com/docs/latest/advanced/server-push\" rel=\"nofollow noreferrer\">https://vaadin.com/docs/latest/advanced/server-push</a></p>\n"},{"tags":[],"owner":{"account_id":4157048,"reputation":1659,"user_id":3553550,"accept_rate":32,"display_name":"Martin Wunderlich"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1641826510,"creation_date":1641826510,"answer_id":70654357,"question_id":60179159,"body_markdown":"FWIW, I was facing a similar issue with the exact same error message in a Vaadin-based MVC application (not using Spring MVC in addition to what Vaadin provides ootb). The root cause was the way the application was architected: The controllers in the MVC application were constructed as stateless singletons, similar to Spring MVC, which is fine. \r\n\r\nHowever, the views were instantiated and registered not per user/session, but globally. This worked alright during local development when only one user was accessing the application, but failed as soon as more than one user was logged in, because the Vaadin application tried to access the same view instance from different sessions. This lead to the error stated by the OP. \r\n\r\nThe solution then was to disentangle the MVC architecture and make sure that different view instances get created per user session. ","title":"Vaadin Spring Boot: &quot;Cannot access state in VaadinSession or UI without locking the session&quot; when multiple users access UI","body":"<p>FWIW, I was facing a similar issue with the exact same error message in a Vaadin-based MVC application (not using Spring MVC in addition to what Vaadin provides ootb). The root cause was the way the application was architected: The controllers in the MVC application were constructed as stateless singletons, similar to Spring MVC, which is fine.</p>\n<p>However, the views were instantiated and registered not per user/session, but globally. This worked alright during local development when only one user was accessing the application, but failed as soon as more than one user was logged in, because the Vaadin application tried to access the same view instance from different sessions. This lead to the error stated by the OP.</p>\n<p>The solution then was to disentangle the MVC architecture and make sure that different view instances get created per user session.</p>\n"}],"owner":{"account_id":16073814,"reputation":731,"user_id":11601529,"display_name":"tigu"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3054,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1687885179,"creation_date":1581465643,"question_id":60179159,"body_markdown":"I have a vaadin flow (13) application with spring boot. I have a VerticalLayout, annotated with `@UIScope` with multiple sub-layouts. The sub layouts are annotated with `@Scope(&quot;prototype&quot;)` and created via `ctx.getBean(SubUI.class, ...)`. Depending on selections and button clicks on the parent UI (VerticalLayout), the sub layouts are added or removed.\r\n\r\nThat all works fine as long as I use the application alone (that&#39;s the reason why I found the error right now, after delivering the application to my customer for acceptantce test). They tested with multiple users. As long as one user works with the appliaction, everything works but as soon as a second user enters the UI (VerticalLayout), the following exception is thrown:\r\n\r\n```\r\njava.util.concurrent.ExecutionException: java.lang.IllegalStateException: Cannot access state in VaadinSession or UI without locking the session.\r\n\tat java.util.concurrent.FutureTask.report(FutureTask.java:122) ~[na:1.8.0_202]\r\n\tat java.util.concurrent.FutureTask.get(FutureTask.java:192) ~[na:1.8.0_202]\r\n    ...\r\n```\r\n\r\nI tried different annotations for my parent layout (@UIScope, @Scope(&quot;prototype&quot;), @VaadinSessionScope) but non solves my error. \r\n\r\nI googled about the problem and found some threads, but none of them helped me to solve my problem. I am not really sure if the problem is caused by the scoping of my UIs/layouts or maybe by the data binding. In my sub layouts, data is bound using `Binder&lt;MyEntity&gt; binder = new Binder&lt;&gt;(MyEntity.class);` and `binder.forField(xxx).bind(MyEntity::getXY,MyEntity::setXY);`.\r\n\r\nCan someone maybe explain me, what my problem is? I would be really happy, because I need to deliver a fixed version for my customers test.\r\n\r\nKind regards","title":"Vaadin Spring Boot: &quot;Cannot access state in VaadinSession or UI without locking the session&quot; when multiple users access UI","body":"<p>I have a vaadin flow (13) application with spring boot. I have a VerticalLayout, annotated with <code>@UIScope</code> with multiple sub-layouts. The sub layouts are annotated with <code>@Scope(\"prototype\")</code> and created via <code>ctx.getBean(SubUI.class, ...)</code>. Depending on selections and button clicks on the parent UI (VerticalLayout), the sub layouts are added or removed.</p>\n\n<p>That all works fine as long as I use the application alone (that's the reason why I found the error right now, after delivering the application to my customer for acceptantce test). They tested with multiple users. As long as one user works with the appliaction, everything works but as soon as a second user enters the UI (VerticalLayout), the following exception is thrown:</p>\n\n<pre><code>java.util.concurrent.ExecutionException: java.lang.IllegalStateException: Cannot access state in VaadinSession or UI without locking the session.\n    at java.util.concurrent.FutureTask.report(FutureTask.java:122) ~[na:1.8.0_202]\n    at java.util.concurrent.FutureTask.get(FutureTask.java:192) ~[na:1.8.0_202]\n    ...\n</code></pre>\n\n<p>I tried different annotations for my parent layout (@UIScope, @Scope(\"prototype\"), @VaadinSessionScope) but non solves my error. </p>\n\n<p>I googled about the problem and found some threads, but none of them helped me to solve my problem. I am not really sure if the problem is caused by the scoping of my UIs/layouts or maybe by the data binding. In my sub layouts, data is bound using <code>Binder&lt;MyEntity&gt; binder = new Binder&lt;&gt;(MyEntity.class);</code> and <code>binder.forField(xxx).bind(MyEntity::getXY,MyEntity::setXY);</code>.</p>\n\n<p>Can someone maybe explain me, what my problem is? I would be really happy, because I need to deliver a fixed version for my customers test.</p>\n\n<p>Kind regards</p>\n"},{"tags":["java","xml","rest","spring-boot"],"answers":[{"comments":[{"owner":{"account_id":12537649,"reputation":21,"user_id":9123811,"display_name":"Vipin Mittal"},"score":0,"creation_date":1563243578,"post_id":57028226,"comment_id":100625515,"body_markdown":"Should we return it as String in rest response?","body":"Should we return it as String in rest response?"}],"tags":[],"owner":{"account_id":3763662,"reputation":7765,"user_id":3127812,"accept_rate":0,"display_name":"Sambit"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1563114142,"creation_date":1563114142,"answer_id":57028226,"question_id":57027821,"body_markdown":"As of jackson-dataformat-xml version 2.9.0 cannot handle XML Prolog. This is a limitation. To achieve you have two options.\r\n\r\n 1. You have to use JAXB and annotate your POJO with proper annotations.\r\n 2. Generate the XML as String using XMLStreamWriter using Jackson 2 to generate the XML with prolog. I provide below the code outline.\r\n\r\n\r\n&gt;     StringWriter stringWriter = new StringWriter();\r\n&gt;     XMLOutputFactory xmlOutputFactory = XMLOutputFactory.newFactory();\r\n&gt;     XMLStreamWriter sw = xmlOutputFactory.createXMLStreamWriter(stringWriter);\r\n&gt;     XmlMapper mapper = new XmlMapper();\r\n&gt;     sw.writeStartDocument();\r\n&gt;     sw.writeStartElement(&quot;root&quot;);\r\n&gt;     mapper.writeValue(sw, YourPojoBean);\r\n&gt;     sw.writeComment(&quot;Some comment&quot;);\r\n&gt;     sw.writeEndElement();\r\n&gt;     sw.writeEndDocument();\r\n\r\nFor more details, refer this article.\r\nhttps://dzone.com/articles/solving-the-xml-problem-with-jackson\r\n\r\n","title":"How to insert XML Prolog &lt;?xml version = &quot;1.0&quot; encoding = &quot;UTF-8&quot;?&gt;to Rest XML response in Spring Boot Application","body":"<p>As of jackson-dataformat-xml version 2.9.0 cannot handle XML Prolog. This is a limitation. To achieve you have two options.</p>\n\n<ol>\n<li>You have to use JAXB and annotate your POJO with proper annotations.</li>\n<li>Generate the XML as String using XMLStreamWriter using Jackson 2 to generate the XML with prolog. I provide below the code outline.</li>\n</ol>\n\n<blockquote>\n<pre><code>StringWriter stringWriter = new StringWriter();\nXMLOutputFactory xmlOutputFactory = XMLOutputFactory.newFactory();\nXMLStreamWriter sw = xmlOutputFactory.createXMLStreamWriter(stringWriter);\nXmlMapper mapper = new XmlMapper();\nsw.writeStartDocument();\nsw.writeStartElement(\"root\");\nmapper.writeValue(sw, YourPojoBean);\nsw.writeComment(\"Some comment\");\nsw.writeEndElement();\nsw.writeEndDocument();\n</code></pre>\n</blockquote>\n\n<p>For more details, refer this article.\n<a href=\"https://dzone.com/articles/solving-the-xml-problem-with-jackson\" rel=\"nofollow noreferrer\">https://dzone.com/articles/solving-the-xml-problem-with-jackson</a></p>\n"},{"comments":[{"owner":{"account_id":3929583,"reputation":476,"user_id":3248759,"accept_rate":0,"display_name":"ricristian"},"score":0,"creation_date":1651783100,"post_id":71332003,"comment_id":127452099,"body_markdown":"It works out of the box even with latest version of Jackson data format (2.13.2)","body":"It works out of the box even with latest version of Jackson data format (2.13.2)"}],"tags":[],"owner":{"account_id":1030287,"reputation":549,"user_id":1038733,"accept_rate":0,"display_name":"Erikson"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1646280129,"creation_date":1646280129,"answer_id":71332003,"question_id":57027821,"body_markdown":"Hopefully this would help somebody: to have a complete solution, took the answer from Sambit, tweaked it a bit and wrote the following utility class. Note that convertPojoToXmlString() return an XML string which could then be sent back to the caller:\r\n\r\n\r\n    package com.xml.util;\r\n    import java.io.IOException;\r\n    import java.io.StringWriter;\r\n    \r\n    import javax.xml.stream.FactoryConfigurationError;\r\n    import javax.xml.stream.XMLOutputFactory;\r\n    import javax.xml.stream.XMLStreamException;\r\n    import javax.xml.stream.XMLStreamWriter;\r\n    \r\n    import com.ctc.wstx.api.WstxInputProperties;\r\n    import com.fasterxml.jackson.dataformat.xml.XmlMapper;\r\n    \r\n    /**\r\n     * @author ekariyev\r\n     *\r\n     */\r\n    public class XmlUtil {\r\n    \r\n    \tprivate final static XMLOutputFactory xmlOutputFactory = XMLOutputFactory.newFactory();\r\n    \r\n    \tstatic {\r\n    \t\txmlOutputFactory.setProperty(WstxInputProperties.P_RETURN_NULL_FOR_DEFAULT_NAMESPACE, true);\r\n    \t}\r\n    \r\n    \t/**\r\n    \t * @param object\r\n    \t * @return\r\n    \t * @throws XMLStreamException\r\n    \t * @throws IOException\r\n    \t * @throws FactoryConfigurationError\r\n    \t */\r\n    \tpublic static String convertPojoToXmlString(final Object object) throws XMLStreamException, IOException {\r\n    \r\n    \t\tfinal StringWriter stringWriter = new StringWriter();\r\n    \r\n    \t\ttry {\r\n    \t\t\tfinal XMLStreamWriter sw = xmlOutputFactory.createXMLStreamWriter(stringWriter);\r\n    \t\t\tfinal XmlMapper mapper = new XmlMapper();\r\n    \r\n    \t\t\tsw.writeStartDocument();\r\n    \r\n    \t\t\tmapper.writeValue(sw, object);\r\n    \r\n    \t\t\tsw.writeEndDocument();\r\n    \r\n    \t\t\tsw.flush();\r\n    \r\n    \t\t} finally {\r\n    \t\t\tstringWriter.close();\r\n    \t\t}\r\n    \r\n    \t\treturn stringWriter.toString();\r\n    \r\n    \t}\r\n    \r\n    }\r\n\r\nThe solution worked with:\r\n\r\n    &lt;dependency&gt;\r\n    \t&lt;groupId&gt;com.fasterxml.jackson.dataformat&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;jackson-dataformat-xml&lt;/artifactId&gt;\r\n    \t&lt;version&gt;2.9.5&lt;/version&gt;\r\n    &lt;/dependency&gt;","title":"How to insert XML Prolog &lt;?xml version = &quot;1.0&quot; encoding = &quot;UTF-8&quot;?&gt;to Rest XML response in Spring Boot Application","body":"<p>Hopefully this would help somebody: to have a complete solution, took the answer from Sambit, tweaked it a bit and wrote the following utility class. Note that convertPojoToXmlString() return an XML string which could then be sent back to the caller:</p>\n<pre><code>package com.xml.util;\nimport java.io.IOException;\nimport java.io.StringWriter;\n\nimport javax.xml.stream.FactoryConfigurationError;\nimport javax.xml.stream.XMLOutputFactory;\nimport javax.xml.stream.XMLStreamException;\nimport javax.xml.stream.XMLStreamWriter;\n\nimport com.ctc.wstx.api.WstxInputProperties;\nimport com.fasterxml.jackson.dataformat.xml.XmlMapper;\n\n/**\n * @author ekariyev\n *\n */\npublic class XmlUtil {\n\n    private final static XMLOutputFactory xmlOutputFactory = XMLOutputFactory.newFactory();\n\n    static {\n        xmlOutputFactory.setProperty(WstxInputProperties.P_RETURN_NULL_FOR_DEFAULT_NAMESPACE, true);\n    }\n\n    /**\n     * @param object\n     * @return\n     * @throws XMLStreamException\n     * @throws IOException\n     * @throws FactoryConfigurationError\n     */\n    public static String convertPojoToXmlString(final Object object) throws XMLStreamException, IOException {\n\n        final StringWriter stringWriter = new StringWriter();\n\n        try {\n            final XMLStreamWriter sw = xmlOutputFactory.createXMLStreamWriter(stringWriter);\n            final XmlMapper mapper = new XmlMapper();\n\n            sw.writeStartDocument();\n\n            mapper.writeValue(sw, object);\n\n            sw.writeEndDocument();\n\n            sw.flush();\n\n        } finally {\n            stringWriter.close();\n        }\n\n        return stringWriter.toString();\n\n    }\n\n}\n</code></pre>\n<p>The solution worked with:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.fasterxml.jackson.dataformat&lt;/groupId&gt;\n    &lt;artifactId&gt;jackson-dataformat-xml&lt;/artifactId&gt;\n    &lt;version&gt;2.9.5&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8522100,"reputation":326,"user_id":6388629,"display_name":"Wang Jijun"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687885154,"creation_date":1687885154,"answer_id":76567133,"question_id":57027821,"body_markdown":"Here is a suggestion for spring boot.\r\nadd two class as the following:\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n\r\n    import javax.servlet.http.HttpServletResponse;\r\n\r\n    import org.springframework.core.MethodParameter;\r\n    import org.springframework.http.MediaType;\r\n    import org.springframework.http.converter.HttpMessageConverter;\r\n    import org.springframework.http.server.ServerHttpRequest;\r\n    import org.springframework.http.server.ServerHttpResponse;\r\n    import org.springframework.http.server.ServletServerHttpResponse;\r\n    import org.springframework.web.bind.annotation.ControllerAdvice;\r\n    import org.springframework.web.servlet.mvc.method.annotation.ResponseBodyAdvice;\r\n\r\n    @ControllerAdvice\r\n    public class XmlPrologResponseBodyAdvice implements ResponseBodyAdvice&lt;Object&gt; {\r\n        @Override\r\n        public boolean supports(MethodParameter returnType, Class&lt; ? extends HttpMessageConverter&lt; ? &gt;&gt; converterType) {\r\n            System.out.println(&quot;---------check the xml reponse class---------&quot;);\r\n            System.out.println(returnType.getGenericParameterType().getTypeName());\r\n\r\n            // Check if the API endpoint is the one you want to target\r\n            // Replace &quot;your/api/endpoint&quot; with the actual endpoint you want to target\r\n            String endpoint = returnType.getMethod().getDeclaringClass().getSimpleName();\r\n            System.out.println(endpoint);\r\n\r\n            if (endpoint.equalsIgnoreCase(&quot;SwSaController&quot;) &amp;&amp; !returnType.getMethod().getName().equalsIgnoreCase(&quot;GetEncodeBody&quot;)) {\r\n                // Ensure this advice is only applied for XML responses\r\n                MediaType mediaType = returnType.getGenericParameterType().getTypeName().equals(&quot;jp.pacific.sw.sa.response.CommonResponse&quot;) ?\r\n                                      MediaType.APPLICATION_XML : MediaType.TEXT_XML;\r\n                return mediaType.equals(MediaType.APPLICATION_XML) || mediaType.equals(MediaType.TEXT_XML);\r\n            }\r\n\r\n            return false;\r\n        }\r\n\r\n        @Override\r\n        public Object beforeBodyWrite(Object body, MethodParameter returnType, MediaType selectedContentType, Class&lt; ? extends HttpMessageConverter&lt; ? &gt;&gt; selectedConverterType, ServerHttpRequest request, ServerHttpResponse response) {\r\n            // Retrieve the underlying HttpServletResponse\r\n            HttpServletResponse servletResponse = ((ServletServerHttpResponse) response).getServletResponse();\r\n\r\n            // Set the Content-Type header with the XML prolog\r\n            servletResponse.setContentType(selectedContentType.toString() + &quot;;charset=UTF-8&quot;);\r\n\r\n            // Write the XML prolog to the response output stream\r\n            try {\r\n                servletResponse.getOutputStream().write(&quot;&lt;?xml version=\\&quot;1.0\\&quot; encoding=\\&quot;UTF-8\\&quot;?&gt;&quot;.getBytes());\r\n            } catch (Exception e) {\r\n                // Handle the exception if necessary\r\n            }\r\n\r\n            // Return the original body\r\n            return body;\r\n        }\r\n    }\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n\r\n    @Configuration\r\n    public class ApiWebConfig implements WebMvcConfigurer {\r\n        @Override\r\n        public void configureMessageConverters(List&lt;HttpMessageConverter&lt; ? &gt;&gt; converters) {\r\n            // Create the XML message converter\r\n            MappingJackson2XmlHttpMessageConverter xmlConverter = new MappingJackson2XmlHttpMessageConverter(\r\n                Jackson2ObjectMapperBuilder.xml().createXmlMapper(true).build()\r\n                );\r\n\r\n            // Set the supported media types\r\n            MediaType[] supportedMediaTypes = {MediaType.APPLICATION_XML, MediaType.TEXT_XML};\r\n            xmlConverter.setSupportedMediaTypes(Arrays.asList(supportedMediaTypes));\r\n\r\n            // Add the XML message converter to the list of converters\r\n            converters.add(xmlConverter);\r\n        }\r\n    }\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n","title":"How to insert XML Prolog &lt;?xml version = &quot;1.0&quot; encoding = &quot;UTF-8&quot;?&gt;to Rest XML response in Spring Boot Application","body":"<p>Here is a suggestion for spring boot.\nadd two class as the following:</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>import javax.servlet.http.HttpServletResponse;\n\nimport org.springframework.core.MethodParameter;\nimport org.springframework.http.MediaType;\nimport org.springframework.http.converter.HttpMessageConverter;\nimport org.springframework.http.server.ServerHttpRequest;\nimport org.springframework.http.server.ServerHttpResponse;\nimport org.springframework.http.server.ServletServerHttpResponse;\nimport org.springframework.web.bind.annotation.ControllerAdvice;\nimport org.springframework.web.servlet.mvc.method.annotation.ResponseBodyAdvice;\n\n@ControllerAdvice\npublic class XmlPrologResponseBodyAdvice implements ResponseBodyAdvice&lt;Object&gt; {\n    @Override\n    public boolean supports(MethodParameter returnType, Class&lt; ? extends HttpMessageConverter&lt; ? &gt;&gt; converterType) {\n        System.out.println(\"---------check the xml reponse class---------\");\n        System.out.println(returnType.getGenericParameterType().getTypeName());\n\n        // Check if the API endpoint is the one you want to target\n        // Replace \"your/api/endpoint\" with the actual endpoint you want to target\n        String endpoint = returnType.getMethod().getDeclaringClass().getSimpleName();\n        System.out.println(endpoint);\n\n        if (endpoint.equalsIgnoreCase(\"SwSaController\") &amp;&amp; !returnType.getMethod().getName().equalsIgnoreCase(\"GetEncodeBody\")) {\n            // Ensure this advice is only applied for XML responses\n            MediaType mediaType = returnType.getGenericParameterType().getTypeName().equals(\"jp.pacific.sw.sa.response.CommonResponse\") ?\n                                  MediaType.APPLICATION_XML : MediaType.TEXT_XML;\n            return mediaType.equals(MediaType.APPLICATION_XML) || mediaType.equals(MediaType.TEXT_XML);\n        }\n\n        return false;\n    }\n\n    @Override\n    public Object beforeBodyWrite(Object body, MethodParameter returnType, MediaType selectedContentType, Class&lt; ? extends HttpMessageConverter&lt; ? &gt;&gt; selectedConverterType, ServerHttpRequest request, ServerHttpResponse response) {\n        // Retrieve the underlying HttpServletResponse\n        HttpServletResponse servletResponse = ((ServletServerHttpResponse) response).getServletResponse();\n\n        // Set the Content-Type header with the XML prolog\n        servletResponse.setContentType(selectedContentType.toString() + \";charset=UTF-8\");\n\n        // Write the XML prolog to the response output stream\n        try {\n            servletResponse.getOutputStream().write(\"&lt;?xml version=\\\"1.0\\\" encoding=\\\"UTF-8\\\"?&gt;\".getBytes());\n        } catch (Exception e) {\n            // Handle the exception if necessary\n        }\n\n        // Return the original body\n        return body;\n    }\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>@Configuration\npublic class ApiWebConfig implements WebMvcConfigurer {\n    @Override\n    public void configureMessageConverters(List&lt;HttpMessageConverter&lt; ? &gt;&gt; converters) {\n        // Create the XML message converter\n        MappingJackson2XmlHttpMessageConverter xmlConverter = new MappingJackson2XmlHttpMessageConverter(\n            Jackson2ObjectMapperBuilder.xml().createXmlMapper(true).build()\n            );\n\n        // Set the supported media types\n        MediaType[] supportedMediaTypes = {MediaType.APPLICATION_XML, MediaType.TEXT_XML};\n        xmlConverter.setSupportedMediaTypes(Arrays.asList(supportedMediaTypes));\n\n        // Add the XML message converter to the list of converters\n        converters.add(xmlConverter);\n    }\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}],"owner":{"account_id":12537649,"reputation":21,"user_id":9123811,"display_name":"Vipin Mittal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4310,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":3,"score":2,"last_activity_date":1687885154,"creation_date":1563110663,"question_id":57027821,"body_markdown":"How to insert XML Prolog &lt;?xml version = &quot;1.0&quot; encoding = &quot;UTF-8&quot;?&gt;to Rest XML response in Spring Boot Application.\r\n\r\n\r\nI am using jackson xml dataformat in spring boot rest api.\r\n\r\nMy Current rest-xml response is:\r\n```xml\r\n&lt;Response&gt;\r\n     &lt;person id = &quot;hello&quot;&gt;\r\n        &lt;name&gt;xyz&lt;/name&gt;\r\n     &lt;/person&gt;\r\n&lt;/Response&gt;\r\n```\r\n\r\nwhile I want :\r\n```xml\r\n&lt;?xml version = &quot;1.0&quot; encoding = &quot;UTF-8&quot;?&gt;\r\n&lt;Response&gt;\r\n     &lt;person id = &quot;hello&quot;&gt;\r\n        &lt;name&gt;xyz&lt;/name&gt;\r\n     &lt;/person&gt;\r\n&lt;/Response&gt;\r\n```","title":"How to insert XML Prolog &lt;?xml version = &quot;1.0&quot; encoding = &quot;UTF-8&quot;?&gt;to Rest XML response in Spring Boot Application","body":"<p>How to insert XML Prolog to Rest XML response in Spring Boot Application.</p>\n\n<p>I am using jackson xml dataformat in spring boot rest api.</p>\n\n<p>My Current rest-xml response is:</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;Response&gt;\n     &lt;person id = \"hello\"&gt;\n        &lt;name&gt;xyz&lt;/name&gt;\n     &lt;/person&gt;\n&lt;/Response&gt;\n</code></pre>\n\n<p>while I want :</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version = \"1.0\" encoding = \"UTF-8\"?&gt;\n&lt;Response&gt;\n     &lt;person id = \"hello\"&gt;\n        &lt;name&gt;xyz&lt;/name&gt;\n     &lt;/person&gt;\n&lt;/Response&gt;\n</code></pre>\n"},{"tags":["java","spring-boot","spring-data-jpa","cascade","cascading-deletes"],"answers":[{"comments":[{"owner":{"account_id":25845637,"reputation":534,"user_id":19580540,"display_name":"ayush"},"score":0,"creation_date":1687869306,"post_id":76564806,"comment_id":134994469,"body_markdown":"I am not using ManyToMany. instead I am using OneToMany with relationship table.","body":"I am not using ManyToMany. instead I am using OneToMany with relationship table."},{"owner":{"account_id":28877964,"reputation":581,"user_id":22118035,"display_name":"Dhruman Desai"},"score":0,"creation_date":1687870098,"post_id":76564806,"comment_id":134994681,"body_markdown":"You have to define casade type in OneToMany also","body":"You have to define casade type in OneToMany also"}],"tags":[],"owner":{"account_id":28877964,"reputation":581,"user_id":22118035,"display_name":"Dhruman Desai"},"comment_count":2,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1687868910,"creation_date":1687868480,"answer_id":76564806,"question_id":76564585,"body_markdown":"You have to decide the owner first. In bidirectional many to many relation, you have to set one entity as an owner. In your case if you want to delete corressponding entities of InsurancePolicy entity then you have to set InsurancePolicy entity as an owner.\r\n\r\nYou have to write this to set your required entity as an owner:\r\n\r\n    @ManyToMany(mappedBy = &quot;entity name&quot;)\r\n\r\nAnd you have to set `CascadeType.PERSIST`.\r\n\r\n","title":"deleteById() method not working with ManyToMany mapping: Spring Boot and JPA","body":"<p>You have to decide the owner first. In bidirectional many to many relation, you have to set one entity as an owner. In your case if you want to delete corressponding entities of InsurancePolicy entity then you have to set InsurancePolicy entity as an owner.</p>\n<p>You have to write this to set your required entity as an owner:</p>\n<pre><code>@ManyToMany(mappedBy = &quot;entity name&quot;)\n</code></pre>\n<p>And you have to set <code>CascadeType.PERSIST</code>.</p>\n"},{"comments":[{"owner":{"account_id":25845637,"reputation":534,"user_id":19580540,"display_name":"ayush"},"score":0,"creation_date":1687877699,"post_id":76565150,"comment_id":134996768,"body_markdown":"The many to many relationship has an attribute cost. Where will I place it then? The method you have stated is fine when there is no additional attribute in the realtion.","body":"The many to many relationship has an attribute cost. Where will I place it then? The method you have stated is fine when there is no additional attribute in the realtion."},{"owner":{"account_id":17820696,"reputation":86,"user_id":12943132,"display_name":"mahdi rahmani"},"score":0,"creation_date":1687883370,"post_id":76565150,"comment_id":134998069,"body_markdown":"i will edit my answer for you","body":"i will edit my answer for you"}],"tags":[],"owner":{"account_id":17820696,"reputation":86,"user_id":12943132,"display_name":"mahdi rahmani"},"comment_count":2,"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1687884745,"creation_date":1687870929,"answer_id":76565150,"question_id":76564585,"body_markdown":"in your code you should have an filed in InsurancePolicy that links to County \r\n\r\n        @ManyToMany(fetch = FetchType.LAZY, cascade = CascadeType.REMOVE)\r\n    @JoinTable(name = &quot;policy_county&quot;,\r\n            joinColumns = @JoinColumn(name = &quot;insurance_policy_id&quot;),\r\n            inverseJoinColumns = @JoinColumn(name = &quot;county_id&quot;))\r\n    private Set&lt;County&gt; counties= new HashSet&lt;&gt;();\r\n\r\nand you should have filed in county like this \r\n\r\n     @ManyToMany(mappedBy = &quot;insurance_policy&quot;, fetch = FetchType.LAZY)\r\n    private Set&lt;InsurancePolicy &gt; students = new HashSet&lt;&gt;();\r\n\r\n\r\nhibernate does not now you have many to many relation if you dont have it.\r\n\r\nbut If you have extra fields in your join table, such as a cost field, Hibernate will not automatically delete the corresponding entries from the join table when you delete a entity. Instead, you need to manually delete the entries from the join table using a native SQL query or Hibernate&#39;s Criteria API.\r\n\r\nanother option is convert many to many relation into 2 one to many relation like this : \r\n\r\n    public class Student {\r\n    \r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long id;\r\n    \r\n    @Column(name = &quot;name&quot;)\r\n    private String name;\r\n    \r\n    @OneToMany(mappedBy = &quot;student&quot;, cascade = CascadeType.ALL, orphanRemoval = true)\r\n    private Set&lt;Enrollment&gt; enrollments = new HashSet&lt;&gt;();}\r\n\r\n    public class Course {\r\n    \r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long id;\r\n    \r\n    @Column(name = &quot;name&quot;)\r\n    private String name;\r\n    \r\n    @OneToMany(mappedBy = &quot;course&quot;, cascade = CascadeType.ALL, orphanRemoval = true)\r\n    private Set&lt;Enrollment&gt; enrollments = new HashSet&lt;&gt;();}\r\n\r\n    \r\n    public class Enrollment {\r\n    \r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long id;\r\n    \r\n    @ManyToOne(fetch = FetchType.LAZY)\r\n    private Student student;\r\n    \r\n    @ManyToOne(fetch = FetchType.LAZY)\r\n    private Course course;\r\n    \r\n    @Column(name = &quot;cost&quot;)\r\n    private BigDecimal cost;}\r\n\r\nIn the above example, the &quot;Student&quot; entity has a one-to-many relationship with the &quot;Enrollment&quot; entity, and the &quot;Course&quot; entity also has a one-to-many relationship with the &quot;Enrollment&quot; entity. Both relationships have cascading deletes set up using the CascadeType.ALL option, which will cause associated &quot;Enrollment&quot; entities to be deleted automatically when a &quot;Student&quot; or &quot;Course&quot; entity is deleted. The orphanRemoval attribute is set to true, which will remove any &quot;Enrollment&quot; entities that are no longer associated with a &quot;Student&quot; or &quot;Course&quot; entity.\r\n\r\nWith cascading deletes set up, you can delete a &quot;Student&quot; or &quot;Course&quot; entity and all associated &quot;Enrollment&quot; entities will be deleted automatically:","title":"deleteById() method not working with ManyToMany mapping: Spring Boot and JPA","body":"<p>in your code you should have an filed in InsurancePolicy that links to County</p>\n<pre><code>    @ManyToMany(fetch = FetchType.LAZY, cascade = CascadeType.REMOVE)\n@JoinTable(name = &quot;policy_county&quot;,\n        joinColumns = @JoinColumn(name = &quot;insurance_policy_id&quot;),\n        inverseJoinColumns = @JoinColumn(name = &quot;county_id&quot;))\nprivate Set&lt;County&gt; counties= new HashSet&lt;&gt;();\n</code></pre>\n<p>and you should have filed in county like this</p>\n<pre><code> @ManyToMany(mappedBy = &quot;insurance_policy&quot;, fetch = FetchType.LAZY)\nprivate Set&lt;InsurancePolicy &gt; students = new HashSet&lt;&gt;();\n</code></pre>\n<p>hibernate does not now you have many to many relation if you dont have it.</p>\n<p>but If you have extra fields in your join table, such as a cost field, Hibernate will not automatically delete the corresponding entries from the join table when you delete a entity. Instead, you need to manually delete the entries from the join table using a native SQL query or Hibernate's Criteria API.</p>\n<p>another option is convert many to many relation into 2 one to many relation like this :</p>\n<pre><code>public class Student {\n\n@Id\n@GeneratedValue(strategy = GenerationType.IDENTITY)\nprivate Long id;\n\n@Column(name = &quot;name&quot;)\nprivate String name;\n\n@OneToMany(mappedBy = &quot;student&quot;, cascade = CascadeType.ALL, orphanRemoval = true)\nprivate Set&lt;Enrollment&gt; enrollments = new HashSet&lt;&gt;();}\n\npublic class Course {\n\n@Id\n@GeneratedValue(strategy = GenerationType.IDENTITY)\nprivate Long id;\n\n@Column(name = &quot;name&quot;)\nprivate String name;\n\n@OneToMany(mappedBy = &quot;course&quot;, cascade = CascadeType.ALL, orphanRemoval = true)\nprivate Set&lt;Enrollment&gt; enrollments = new HashSet&lt;&gt;();}\n\n\npublic class Enrollment {\n\n@Id\n@GeneratedValue(strategy = GenerationType.IDENTITY)\nprivate Long id;\n\n@ManyToOne(fetch = FetchType.LAZY)\nprivate Student student;\n\n@ManyToOne(fetch = FetchType.LAZY)\nprivate Course course;\n\n@Column(name = &quot;cost&quot;)\nprivate BigDecimal cost;}\n</code></pre>\n<p>In the above example, the &quot;Student&quot; entity has a one-to-many relationship with the &quot;Enrollment&quot; entity, and the &quot;Course&quot; entity also has a one-to-many relationship with the &quot;Enrollment&quot; entity. Both relationships have cascading deletes set up using the CascadeType.ALL option, which will cause associated &quot;Enrollment&quot; entities to be deleted automatically when a &quot;Student&quot; or &quot;Course&quot; entity is deleted. The orphanRemoval attribute is set to true, which will remove any &quot;Enrollment&quot; entities that are no longer associated with a &quot;Student&quot; or &quot;Course&quot; entity.</p>\n<p>With cascading deletes set up, you can delete a &quot;Student&quot; or &quot;Course&quot; entity and all associated &quot;Enrollment&quot; entities will be deleted automatically:</p>\n"}],"owner":{"account_id":25845637,"reputation":534,"user_id":19580540,"display_name":"ayush"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":172,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76565150,"answer_count":2,"score":1,"last_activity_date":1687884745,"creation_date":1687866808,"question_id":76564585,"body_markdown":"I have a scenario in which I have a **ManyToMany** mapping between a **Policy** and a **County** entity tables. Here is the entity code-  \r\n**InsurancePolicy.java-**\r\n```\r\n@Entity\r\n@Table(name = &quot;insurance_policy&quot;)\r\n\r\npublic class InsurancePolicy {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    @Column(name=&quot;policy_id&quot;)\r\n    private long policyId;\r\n\r\n    @Column(name=&quot;policy_name&quot;,nullable = false,unique = true)\r\n    private String policyName;\r\n\r\n    //Short description\r\n    @Column(name=&quot;policy_description&quot;,nullable = false)\r\n    private String policyDescription;\r\n\r\n    //Long description\r\n    @Column(name=&quot;choose_description&quot;,nullable = false)\r\n    private String chooseDescription;\r\n\r\n\r\n    //many policies can belong to one category\r\n    @ManyToOne(fetch = FetchType.LAZY)\r\n    @JoinColumn(name = &quot;company_id&quot;, nullable = false)\r\n    private Company company;\r\n\r\n    //many policies can belong to one category\r\n    @ManyToOne(fetch=FetchType.LAZY)\r\n    @JoinColumn(name=&quot;category_id&quot;,nullable=false)\r\n    private Category category;\r\n\r\n    @ManyToMany(mappedBy = &quot;queriedPolices&quot;,fetch = FetchType.LAZY,cascade = {CascadeType.DETACH, CascadeType.MERGE, CascadeType.PERSIST, CascadeType.REFRESH})\r\n    private Set&lt;User&gt; usersQueried=new HashSet&lt;&gt;();\r\n\r\n    @OneToMany(mappedBy = &quot;policy&quot;, cascade = {CascadeType.MERGE,CascadeType.PERSIST,CascadeType.REMOVE},fetch = FetchType.LAZY)\r\n    private Set&lt;PolicyCounty&gt; policyCounties = new HashSet&lt;&gt;();\r\n``` \r\n**PolicyCounty.java-** (Relationship table)\r\n``` \r\n@Data\r\n@Entity\r\n@Table(name=&quot;policy_county&quot;)\r\npublic class PolicyCounty {\r\n\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    @Column(name=&quot;policy_county_id&quot;)\r\n    private long policyStateId;\r\n\r\n    @ManyToOne\r\n    @JoinColumn(name=&quot;policy_id&quot;)\r\n    private InsurancePolicy policy;\r\n\r\n\r\n    @ManyToOne\r\n    @JoinColumn(name = &quot;county_id&quot;)\r\n    private County county;\r\n\r\n    @Column(name=&quot;cost&quot;,nullable = false)\r\n    private double cost;\r\n}\r\n```\r\n**County.java-**\r\n```\r\n@Entity\r\n@Data\r\n@Table(name=&quot;county&quot;)\r\npublic class County {\r\n\r\n    @Id\r\n    @Column(name=&quot;countyid&quot;)\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    private long countyId;\r\n\r\n    @Column(name=&quot;countyname&quot;,nullable = false,unique = true)\r\n    private String countyName;\r\n\r\n    @ManyToOne(fetch = FetchType.LAZY)\r\n    @JoinColumn(name = &quot;adminId&quot;, nullable = false)\r\n    private Admin admin;\r\n\r\n    @OneToMany(mappedBy = &quot;county&quot;, cascade = {CascadeType.MERGE,CascadeType.PERSIST},fetch = FetchType.LAZY)\r\n    private Set&lt;PolicyCounty&gt; policyStates = new HashSet&lt;&gt;();\r\n\r\n}\r\n```\r\n**Problem-**  \r\nI want to delete the **InsurancePolicy** entity and also delete the corressponding entities in the PolicyCounty table. For it, I write the delete method-\r\n```\r\n@Override\r\n    public long deletePolicy(long policyId) {\r\n        boolean isPresent=insurancePolicyRepository.existsById(policyId);\r\n        if(isPresent){\r\n            insurancePolicyRepository.deleteById(policyId);\r\n            return insurancePolicyRepository.count();\r\n        }\r\n        throw new ResourceNotFoundException(&quot;Policy with id &quot;+policyId+&quot; not found&quot;);\r\n    }\r\n```\r\nNow, when I try to delete, the **entities do not get deleted from the table**. I am not getting any exception during this operation. I doubt that the problem is with the **Cascade Types** used with entities. Please help me understand this.","title":"deleteById() method not working with ManyToMany mapping: Spring Boot and JPA","body":"<p>I have a scenario in which I have a <strong>ManyToMany</strong> mapping between a <strong>Policy</strong> and a <strong>County</strong> entity tables. Here is the entity code-<br />\n<strong>InsurancePolicy.java-</strong></p>\n<pre><code>@Entity\n@Table(name = &quot;insurance_policy&quot;)\n\npublic class InsurancePolicy {\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    @Column(name=&quot;policy_id&quot;)\n    private long policyId;\n\n    @Column(name=&quot;policy_name&quot;,nullable = false,unique = true)\n    private String policyName;\n\n    //Short description\n    @Column(name=&quot;policy_description&quot;,nullable = false)\n    private String policyDescription;\n\n    //Long description\n    @Column(name=&quot;choose_description&quot;,nullable = false)\n    private String chooseDescription;\n\n\n    //many policies can belong to one category\n    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = &quot;company_id&quot;, nullable = false)\n    private Company company;\n\n    //many policies can belong to one category\n    @ManyToOne(fetch=FetchType.LAZY)\n    @JoinColumn(name=&quot;category_id&quot;,nullable=false)\n    private Category category;\n\n    @ManyToMany(mappedBy = &quot;queriedPolices&quot;,fetch = FetchType.LAZY,cascade = {CascadeType.DETACH, CascadeType.MERGE, CascadeType.PERSIST, CascadeType.REFRESH})\n    private Set&lt;User&gt; usersQueried=new HashSet&lt;&gt;();\n\n    @OneToMany(mappedBy = &quot;policy&quot;, cascade = {CascadeType.MERGE,CascadeType.PERSIST,CascadeType.REMOVE},fetch = FetchType.LAZY)\n    private Set&lt;PolicyCounty&gt; policyCounties = new HashSet&lt;&gt;();\n</code></pre>\n<p><strong>PolicyCounty.java-</strong> (Relationship table)</p>\n<pre><code>@Data\n@Entity\n@Table(name=&quot;policy_county&quot;)\npublic class PolicyCounty {\n\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    @Column(name=&quot;policy_county_id&quot;)\n    private long policyStateId;\n\n    @ManyToOne\n    @JoinColumn(name=&quot;policy_id&quot;)\n    private InsurancePolicy policy;\n\n\n    @ManyToOne\n    @JoinColumn(name = &quot;county_id&quot;)\n    private County county;\n\n    @Column(name=&quot;cost&quot;,nullable = false)\n    private double cost;\n}\n</code></pre>\n<p><strong>County.java-</strong></p>\n<pre><code>@Entity\n@Data\n@Table(name=&quot;county&quot;)\npublic class County {\n\n    @Id\n    @Column(name=&quot;countyid&quot;)\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private long countyId;\n\n    @Column(name=&quot;countyname&quot;,nullable = false,unique = true)\n    private String countyName;\n\n    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = &quot;adminId&quot;, nullable = false)\n    private Admin admin;\n\n    @OneToMany(mappedBy = &quot;county&quot;, cascade = {CascadeType.MERGE,CascadeType.PERSIST},fetch = FetchType.LAZY)\n    private Set&lt;PolicyCounty&gt; policyStates = new HashSet&lt;&gt;();\n\n}\n</code></pre>\n<p><strong>Problem-</strong><br />\nI want to delete the <strong>InsurancePolicy</strong> entity and also delete the corressponding entities in the PolicyCounty table. For it, I write the delete method-</p>\n<pre><code>@Override\n    public long deletePolicy(long policyId) {\n        boolean isPresent=insurancePolicyRepository.existsById(policyId);\n        if(isPresent){\n            insurancePolicyRepository.deleteById(policyId);\n            return insurancePolicyRepository.count();\n        }\n        throw new ResourceNotFoundException(&quot;Policy with id &quot;+policyId+&quot; not found&quot;);\n    }\n</code></pre>\n<p>Now, when I try to delete, the <strong>entities do not get deleted from the table</strong>. I am not getting any exception during this operation. I doubt that the problem is with the <strong>Cascade Types</strong> used with entities. Please help me understand this.</p>\n"},{"tags":["java","android"],"answers":[{"comments":[{"owner":{"account_id":1295711,"reputation":4341,"user_id":1246832,"accept_rate":55,"display_name":"Caspert"},"score":0,"creation_date":1476728014,"post_id":40092920,"comment_id":67458772,"body_markdown":"So if I understand you correct, I should declare mQueue already in the RequestHandler class?","body":"So if I understand you correct, I should declare mQueue already in the RequestHandler class?"},{"owner":{"account_id":3615290,"reputation":15707,"user_id":3015325,"display_name":"Larry Schiefer"},"score":0,"creation_date":1476730032,"post_id":40092920,"comment_id":67459793,"body_markdown":"No.  It depends on whether you have `RequestHandler` as an inner class of your `Activity`.  If you do, then just remove the line `RequestQueue mQueue` inside of the `RequestHandler` class.  If it is not, and the `RequestHandler` class is a stand alone class which lives outside of your `Activity`, then you need to create a constructor which has a `RequestQueue` parameter which you then set `mQueue` equal to in the constructor.","body":"No.  It depends on whether you have <code>RequestHandler</code> as an inner class of your <code>Activity</code>.  If you do, then just remove the line <code>RequestQueue mQueue</code> inside of the <code>RequestHandler</code> class.  If it is not, and the <code>RequestHandler</code> class is a stand alone class which lives outside of your <code>Activity</code>, then you need to create a constructor which has a <code>RequestQueue</code> parameter which you then set <code>mQueue</code> equal to in the constructor."}],"tags":[],"owner":{"account_id":3615290,"reputation":15707,"user_id":3015325,"display_name":"Larry Schiefer"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1476727589,"creation_date":1476727589,"answer_id":40092920,"question_id":40092527,"body_markdown":"The problem gets down to Java scoping.  Your `Activity` defines `mQueue` and tracks it, but you have created a class protected member field `mQueue` inside of your `RequestHandler` class.  However, the `RequestHandler` doesn&#39;t have a constructor which takes a `RequestQueue` as a parameter.\r\n\r\nAlternatively, if your `RequestHandler` is an inner class of your `Activity`, then you do not have to define a `mQueue` member field as the inner class will have access to the parent class&#39; member fields.","title":"How to use mQueue in another class then MainActivity Android?","body":"<p>The problem gets down to Java scoping.  Your <code>Activity</code> defines <code>mQueue</code> and tracks it, but you have created a class protected member field <code>mQueue</code> inside of your <code>RequestHandler</code> class.  However, the <code>RequestHandler</code> doesn't have a constructor which takes a <code>RequestQueue</code> as a parameter.</p>\n\n<p>Alternatively, if your <code>RequestHandler</code> is an inner class of your <code>Activity</code>, then you do not have to define a <code>mQueue</code> member field as the inner class will have access to the parent class' member fields.</p>\n"}],"owner":{"account_id":1295711,"reputation":4341,"user_id":1246832,"accept_rate":55,"display_name":"Caspert"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":161,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1687884433,"creation_date":1476726066,"question_id":40092527,"body_markdown":"I&#39;m trying to access mQueue from Volley in another class then MainActivity.java.\r\n\r\n\r\n**MainActivity.java**\r\n\r\nIn `MainActivity.java` I create instance of RequestQueue and init the queue:\r\n\r\n    private RequestQueue mQueue;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        // Init queue ( getRequestQueue )\r\n        mQueue = MyRequestQueue.getInstance(this.getApplicationContext()).getRequestQueue();\r\n\r\n        getLights();\r\n        initListView();\r\n    }\r\n\r\n\r\nThe method `getLight()` in MainActivity.java adds the request to the queue:\r\n\r\n\r\n    String url = APIkey + &quot;/lights&quot;;\r\n    final MyJSONObject request = new MyJSONObject(Request.Method.GET, url, new JSONObject(), this, this);\r\n\r\n    // Executing the queue\r\n    mQueue.add(request);\r\n\r\n\r\n\r\n**RequestHandler.java**\r\n\r\nI moved the put requests to a separate class named RequestHandler.java. \r\n\r\n    public class RequestHandler implements Response.Listener&lt;JSONObject&gt;, Response.ErrorListener {\r\n    \r\n        RequestQueue mQueue;\r\n        \r\n        public void setLightOn(String lightId, boolean lightsOn){\r\n    \r\n            String url = APIkey + &quot;/lights/&quot; + lightId + &quot;/state&quot;;\r\n            JSONObject json = new JSONObject();\r\n    \r\n            try {\r\n                json.put(&quot;on&quot;, lightsOn);\r\n            }\r\n            catch (Exception e) {\r\n                // Error handling\r\n                Log.i(&quot;Value was not found&quot;, &quot;&quot;);\r\n            }\r\n    \r\n            final MyJSONObject request = new MyJSONObject(Request.Method.PUT, url, json, this, this);\r\n    \r\n            request.setTag(&quot;ONOF&quot;);\r\n            mQueue.add(request);\r\n        }\r\n        \r\n        // Volley error and response handler\r\n        @Override\r\n        public void onErrorResponse(VolleyError error) {\r\n            System.out.println(&quot;ERROR REQUEST HANDLER&quot;);\r\n        }\r\n    \r\n        @Override\r\n        public void onResponse(JSONObject response) {\r\n            System.out.println(&quot;SUCCEED REQUEST HANDLER&quot;);\r\n        }\r\n    \r\n    }\r\n\r\n\r\n**ERROR**\r\n\r\nAbove code will give me an error and crash of my Android application. \r\nError that says mQueue is null;\r\n                                                                           \r\n\r\n&gt; java.lang.RuntimeException: Unable to start activity .DetailActivity}:\r\n&gt; java.lang.NullPointerException: Attempt to invoke virtual method\r\n&gt; &#39;com.android.volley.Request\r\n&gt; com.android.volley.RequestQueue.add(com.android.volley.Request)&#39; on a\r\n&gt; null object reference\r\n\r\n\r\n\r\nBefore this I had those methods also live in the `MainActivity` but would like to have it separate from my `MainActivity`.\r\n\r\nWhat have I done wrong, forget so, so mQueue isn&#39;t null any more?\r\n","title":"How to use mQueue in another class then MainActivity Android?","body":"<p>I'm trying to access mQueue from Volley in another class then MainActivity.java.</p>\n<p><strong>MainActivity.java</strong></p>\n<p>In <code>MainActivity.java</code> I create instance of RequestQueue and init the queue:</p>\n<pre><code>private RequestQueue mQueue;\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_main);\n\n    // Init queue ( getRequestQueue )\n    mQueue = MyRequestQueue.getInstance(this.getApplicationContext()).getRequestQueue();\n\n    getLights();\n    initListView();\n}\n</code></pre>\n<p>The method <code>getLight()</code> in MainActivity.java adds the request to the queue:</p>\n<pre><code>String url = APIkey + &quot;/lights&quot;;\nfinal MyJSONObject request = new MyJSONObject(Request.Method.GET, url, new JSONObject(), this, this);\n\n// Executing the queue\nmQueue.add(request);\n</code></pre>\n<p><strong>RequestHandler.java</strong></p>\n<p>I moved the put requests to a separate class named RequestHandler.java.</p>\n<pre><code>public class RequestHandler implements Response.Listener&lt;JSONObject&gt;, Response.ErrorListener {\n\n    RequestQueue mQueue;\n    \n    public void setLightOn(String lightId, boolean lightsOn){\n\n        String url = APIkey + &quot;/lights/&quot; + lightId + &quot;/state&quot;;\n        JSONObject json = new JSONObject();\n\n        try {\n            json.put(&quot;on&quot;, lightsOn);\n        }\n        catch (Exception e) {\n            // Error handling\n            Log.i(&quot;Value was not found&quot;, &quot;&quot;);\n        }\n\n        final MyJSONObject request = new MyJSONObject(Request.Method.PUT, url, json, this, this);\n\n        request.setTag(&quot;ONOF&quot;);\n        mQueue.add(request);\n    }\n    \n    // Volley error and response handler\n    @Override\n    public void onErrorResponse(VolleyError error) {\n        System.out.println(&quot;ERROR REQUEST HANDLER&quot;);\n    }\n\n    @Override\n    public void onResponse(JSONObject response) {\n        System.out.println(&quot;SUCCEED REQUEST HANDLER&quot;);\n    }\n\n}\n</code></pre>\n<p><strong>ERROR</strong></p>\n<p>Above code will give me an error and crash of my Android application.\nError that says mQueue is null;</p>\n<blockquote>\n<p>java.lang.RuntimeException: Unable to start activity .DetailActivity}:\njava.lang.NullPointerException: Attempt to invoke virtual method\n'com.android.volley.Request\ncom.android.volley.RequestQueue.add(com.android.volley.Request)' on a\nnull object reference</p>\n</blockquote>\n<p>Before this I had those methods also live in the <code>MainActivity</code> but would like to have it separate from my <code>MainActivity</code>.</p>\n<p>What have I done wrong, forget so, so mQueue isn't null any more?</p>\n"},{"tags":["java","android","location","whatsapp"],"answers":[{"comments":[{"owner":{"account_id":21327936,"reputation":43,"user_id":15700081,"display_name":"Bryne Phiri"},"score":0,"creation_date":1687885684,"post_id":76567013,"comment_id":134998634,"body_markdown":"The question is more about sharing someone else&#39;s location to some one else","body":"The question is more about sharing someone else&#39;s location to some one else"}],"tags":[],"owner":{"account_id":28896843,"reputation":1,"user_id":22132674,"display_name":"Sumit Shaw"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687884315,"creation_date":1687884315,"answer_id":76567013,"question_id":76566788,"body_markdown":"Simpley register location listener and inside onLocationChanged method grab you current user latitude and longitude and build Google maps url from this.\r\n\r\nHere is sample code\r\n\r\n    double latitude = location.getLatitude();\r\n        double longitude = location.getLongitude();\r\n        String coordinates = latitude + &quot;,&quot; + longitude;\r\n\r\n        // Share the location using an intent to open it in Google Maps\r\n        String mapsUrl = &quot;http://maps.google.com/maps?q=&quot; + coordinates;\r\n        Intent intent = new Intent(Intent.ACTION_VIEW, Uri.parse(mapsUrl));\r\n        startActivity(intent);","title":"Send user location to WhatsApp android studio","body":"<p>Simpley register location listener and inside onLocationChanged method grab you current user latitude and longitude and build Google maps url from this.</p>\n<p>Here is sample code</p>\n<pre><code>double latitude = location.getLatitude();\n    double longitude = location.getLongitude();\n    String coordinates = latitude + &quot;,&quot; + longitude;\n\n    // Share the location using an intent to open it in Google Maps\n    String mapsUrl = &quot;http://maps.google.com/maps?q=&quot; + coordinates;\n    Intent intent = new Intent(Intent.ACTION_VIEW, Uri.parse(mapsUrl));\n    startActivity(intent);\n</code></pre>\n"}],"owner":{"account_id":21327936,"reputation":43,"user_id":15700081,"display_name":"Bryne Phiri"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":110,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1687884315,"creation_date":1687882231,"question_id":76566788,"body_markdown":"Looking for some direction is it possible to send a location message to a whatsapp contact from an android app in java code. I need my users to be able to share their locations with people outside the app for delivery purposes.","title":"Send user location to WhatsApp android studio","body":"<p>Looking for some direction is it possible to send a location message to a whatsapp contact from an android app in java code. I need my users to be able to share their locations with people outside the app for delivery purposes.</p>\n"},{"tags":["java","spring"],"answers":[{"tags":[],"owner":{"account_id":17270627,"reputation":26,"user_id":12506434,"display_name":"goranv33"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1675423851,"creation_date":1675423851,"answer_id":75335106,"question_id":75334968,"body_markdown":"Could you try to upgrade Spring security to version &gt;= 5.4?\r\nBecause: &quot;In Spring Security 5.4 we introduced the ability to configure HttpSecurity by creating a SecurityFilterChain bean&quot;. See docs: https://spring.io/blog/2022/02/21/spring-security-without-the-websecurityconfigureradapter\r\nYour current version is: 5.3.4.RELEASE","title":"No qualifying bean of type &#39;org.springframework.security.config.annotation.web.builders.HttpSecurity&#39; available","body":"<p>Could you try to upgrade Spring security to version &gt;= 5.4?\nBecause: &quot;In Spring Security 5.4 we introduced the ability to configure HttpSecurity by creating a SecurityFilterChain bean&quot;. See docs: <a href=\"https://spring.io/blog/2022/02/21/spring-security-without-the-websecurityconfigureradapter\" rel=\"nofollow noreferrer\">https://spring.io/blog/2022/02/21/spring-security-without-the-websecurityconfigureradapter</a>\nYour current version is: 5.3.4.RELEASE</p>\n"},{"tags":[],"owner":{"account_id":9295766,"reputation":410,"user_id":6902739,"accept_rate":40,"display_name":"BaoTrung Tran"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1675427641,"creation_date":1675427641,"answer_id":75335811,"question_id":75334968,"body_markdown":"You need add annotation @EnableWebSecurity on top class SecurityConfiguration.","title":"No qualifying bean of type &#39;org.springframework.security.config.annotation.web.builders.HttpSecurity&#39; available","body":"<p>You need add annotation @EnableWebSecurity on top class SecurityConfiguration.</p>\n"},{"tags":[],"owner":{"account_id":5799456,"reputation":75,"user_id":4574091,"display_name":"Kuppusamy"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687884223,"creation_date":1687558579,"answer_id":76543743,"question_id":75334968,"body_markdown":"In my case it was a webflux application but was injecting `HttpSecurity` so autoconfigure can&#39;t find `HttpSecurity`. When i changed it to `ServerHttpSecurity` everything worked fine. So, need to see the application type and dependencies configured to avoid these kind of errors.","title":"No qualifying bean of type &#39;org.springframework.security.config.annotation.web.builders.HttpSecurity&#39; available","body":"<p>In my case it was a webflux application but was injecting <code>HttpSecurity</code> so autoconfigure can't find <code>HttpSecurity</code>. When i changed it to <code>ServerHttpSecurity</code> everything worked fine. So, need to see the application type and dependencies configured to avoid these kind of errors.</p>\n"}],"owner":{"account_id":6767541,"reputation":3494,"user_id":5212118,"accept_rate":67,"display_name":"cucuru"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3334,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75335106,"answer_count":3,"score":1,"last_activity_date":1687884223,"creation_date":1675423160,"question_id":75334968,"body_markdown":"I&#39;m facing this error when starting my maven application:\r\n\r\n    No qualifying bean of type &#39;org.springframework.security.config.annotation.web.builders.HttpSecurity&#39; available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}\r\n\r\nThis is how my securityConfiguration looks like:\r\n\r\n    @Configuration(proxyBeanMethods = false)\r\n    public class SecurityConfiguration {\r\n\r\n    @Bean\r\n    public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\r\n      http.requestMatcher(EndpointRequest.toAnyEndpoint())\r\n        .authorizeRequests((requests) -&gt; requests.anyRequest().permitAll());\r\n      return http.build();\r\n     }\r\n    }\r\n\r\nI&#39;m executing mvn clean dependency: tree in order to be sure this is included:\r\n\r\n    [INFO] +- org.springframework.boot:spring-boot-starter-security:jar:2.3.3.RELEASE:compile\r\n    [INFO] |  +- org.springframework:spring-aop:jar:5.2.8.RELEASE:compile\r\n    [INFO] |  +- org.springframework.security:spring-security-config:jar:5.3.4.RELEASE:compile\r\n    [INFO] |  |  \\- org.springframework.security:spring-security-core:jar:5.3.4.RELEASE:compile\r\n    [INFO] |  \\- org.springframework.security:spring-security-web:jar:5.3.4.RELEASE:compile\r\n\r\nSo as far as I know all the dependencies are included, and I can not understand the error.","title":"No qualifying bean of type &#39;org.springframework.security.config.annotation.web.builders.HttpSecurity&#39; available","body":"<p>I'm facing this error when starting my maven application:</p>\n<pre><code>No qualifying bean of type 'org.springframework.security.config.annotation.web.builders.HttpSecurity' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}\n</code></pre>\n<p>This is how my securityConfiguration looks like:</p>\n<pre><code>@Configuration(proxyBeanMethods = false)\npublic class SecurityConfiguration {\n\n@Bean\npublic SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\n  http.requestMatcher(EndpointRequest.toAnyEndpoint())\n    .authorizeRequests((requests) -&gt; requests.anyRequest().permitAll());\n  return http.build();\n }\n}\n</code></pre>\n<p>I'm executing mvn clean dependency: tree in order to be sure this is included:</p>\n<pre><code>[INFO] +- org.springframework.boot:spring-boot-starter-security:jar:2.3.3.RELEASE:compile\n[INFO] |  +- org.springframework:spring-aop:jar:5.2.8.RELEASE:compile\n[INFO] |  +- org.springframework.security:spring-security-config:jar:5.3.4.RELEASE:compile\n[INFO] |  |  \\- org.springframework.security:spring-security-core:jar:5.3.4.RELEASE:compile\n[INFO] |  \\- org.springframework.security:spring-security-web:jar:5.3.4.RELEASE:compile\n</code></pre>\n<p>So as far as I know all the dependencies are included, and I can not understand the error.</p>\n"},{"tags":["java","concurrency"],"comments":[{"owner":{"account_id":22980,"reputation":1293,"user_id":57217,"accept_rate":100,"display_name":"Kutzi"},"score":2,"creation_date":1254745147,"post_id":1519725,"comment_id":1374298,"body_markdown":"Could you please refine your question? E.g. add a short testcase.","body":"Could you please refine your question? E.g. add a short testcase."},{"owner":{"account_id":13362,"reputation":7911,"user_id":26788,"accept_rate":46,"display_name":"Krishna Kumar"},"score":0,"creation_date":1254745458,"post_id":1519725,"comment_id":1374328,"body_markdown":"Sorry, there is not much code I can share due to IP reasons. In nut shell, I am calling submit with Callable&lt;T&gt; types. I am looking for potential scenarios this can happen.","body":"Sorry, there is not much code I can share due to IP reasons. In nut shell, I am calling submit with Callable&lt;T&gt; types. I am looking for potential scenarios this can happen."},{"owner":{"account_id":36166,"reputation":38849,"user_id":103043,"display_name":"akf"},"score":1,"creation_date":1254746398,"post_id":1519725,"comment_id":1374416,"body_markdown":"Are you saying there is no specific scenario you are looking at, but instead would like to know of the hypothetical scenarios where this exception could be thrown?  if so, you should reword the question from &#39;Why does...&#39; to &#39;When would...&#39;","body":"Are you saying there is no specific scenario you are looking at, but instead would like to know of the hypothetical scenarios where this exception could be thrown?  if so, you should reword the question from &#39;Why does...&#39; to &#39;When would...&#39;"}],"answers":[{"tags":[],"owner":{"account_id":36166,"reputation":38849,"user_id":103043,"display_name":"akf"},"comment_count":0,"down_vote_count":0,"up_vote_count":25,"is_accepted":false,"score":25,"last_activity_date":1254747642,"creation_date":1254747642,"answer_id":1519950,"question_id":1519725,"body_markdown":"I dont see anywhere in the invocation of the `Executors.newCachedThreadPool()` methods where a `RejectedExecutionException` is thrown.  There are only three cases where it appears to be thrown in Java 6:\r\n\r\n- when calling `execute()` on a `ThreadPoolExecutor` and the maximum pool size has been reached.\r\n- when calling `execute()` on a `ThreadPoolExecutor` at the same time that `shutdownNow`, and has essentially lost the race with the `shutdownNow` call.\r\n- when trying to schedule execution of a runnable in a `ScheduledThreadPoolExecutor` after the executor has been shutdown.","title":"Why does Executors.newCachedThreadPool throw java.util.concurrent.RejectedExecutionException during submit","body":"<p>I dont see anywhere in the invocation of the <code>Executors.newCachedThreadPool()</code> methods where a <code>RejectedExecutionException</code> is thrown.  There are only three cases where it appears to be thrown in Java 6:</p>\n\n<ul>\n<li>when calling <code>execute()</code> on a <code>ThreadPoolExecutor</code> and the maximum pool size has been reached.</li>\n<li>when calling <code>execute()</code> on a <code>ThreadPoolExecutor</code> at the same time that <code>shutdownNow</code>, and has essentially lost the race with the <code>shutdownNow</code> call.</li>\n<li>when trying to schedule execution of a runnable in a <code>ScheduledThreadPoolExecutor</code> after the executor has been shutdown.</li>\n</ul>\n"},{"comments":[{"owner":{"account_id":13362,"reputation":7911,"user_id":26788,"accept_rate":46,"display_name":"Krishna Kumar"},"score":0,"creation_date":1254749204,"post_id":1519983,"comment_id":1374678,"body_markdown":"You were right; I found the code which was shutting down the executor pool; thanks","body":"You were right; I found the code which was shutting down the executor pool; thanks"}],"tags":[],"owner":{"account_id":19462,"reputation":102762,"user_id":45664,"accept_rate":91,"display_name":"Andrzej Doyle"},"comment_count":1,"down_vote_count":0,"up_vote_count":30,"is_accepted":true,"score":30,"last_activity_date":1355335514,"creation_date":1254748155,"answer_id":1519983,"question_id":1519725,"body_markdown":"You&#39;ll need to provide code samples of how you instantiate and call `submit` on the pool (IP should be a non-issue here as we don&#39;t need details of the internals of your `Callable` classes or anything like that).\r\n\r\nBased on the information that you&#39;ve given, you&#39;re almost certainly shutting down the executor service somewhere before submitting the callable to it.  Check if you make any calls to `shutdown` or `shutdownNow`, and if so ensure that you&#39;re not adding tasks after this point.\r\n\r\nBeyond that, you may want to register your own implementation of `java.util.concurrent.RejectedExecutionHandler` in order to aid in debugging; its [rejectedExecution][1] message will be called whenever the executor is unable to accept a task, so you could put some rudimentary state-inspection logic there to help you find the cause.\r\n\r\n  [1]: http://java.sun.com/javase/6/docs/api/java/util/concurrent/RejectedExecutionHandler.html#rejectedExecution(java.lang.Runnable,+java.util.concurrent.ThreadPoolExecutor)","title":"Why does Executors.newCachedThreadPool throw java.util.concurrent.RejectedExecutionException during submit","body":"<p>You'll need to provide code samples of how you instantiate and call <code>submit</code> on the pool (IP should be a non-issue here as we don't need details of the internals of your <code>Callable</code> classes or anything like that).</p>\n\n<p>Based on the information that you've given, you're almost certainly shutting down the executor service somewhere before submitting the callable to it.  Check if you make any calls to <code>shutdown</code> or <code>shutdownNow</code>, and if so ensure that you're not adding tasks after this point.</p>\n\n<p>Beyond that, you may want to register your own implementation of <code>java.util.concurrent.RejectedExecutionHandler</code> in order to aid in debugging; its <a href=\"http://java.sun.com/javase/6/docs/api/java/util/concurrent/RejectedExecutionHandler.html#rejectedExecution(java.lang.Runnable,+java.util.concurrent.ThreadPoolExecutor)\" rel=\"noreferrer\">rejectedExecution</a> message will be called whenever the executor is unable to accept a task, so you could put some rudimentary state-inspection logic there to help you find the cause.</p>\n"},{"tags":[],"owner":{"account_id":15563806,"reputation":3,"user_id":11228229,"display_name":"Lejmi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687883958,"creation_date":1687521943,"answer_id":76539954,"question_id":1519725,"body_markdown":"Here is an example code that causes the exception:\r\n\r\n    ThreadPoolExecutor es = (ThreadPoolExecutor) Executors.newCachedThreadPool();\r\n    es.setCorePoolSize(2);    \r\n    es.setMaximumPoolSize(4); \r\n    es.setKeepAliveTime(30, TimeUnit.SECONDS); \r\n    es.submit(runnableTask);\r\n    es.submit(runnableTask);\r\n    es.submit(runnableTask);\r\n    es.submit(callableTask);\r\n    es.submit(callableTask); // ===&gt; RejectedExecutionException\r\n    es.shutdown(); // is not executed because of the exception before\r\n\r\nThe other Executor Services, i.e. `Executors.newFixedThreadPool(2)`, are submitted tasks are queued and executed later, but not throwing any exception.\r\nWhat is special about `Executors.newCachedThreadPool()` throwing an exception, when more than max tasks are submitted?\r\n","title":"Why does Executors.newCachedThreadPool throw java.util.concurrent.RejectedExecutionException during submit","body":"<p>Here is an example code that causes the exception:</p>\n<pre><code>ThreadPoolExecutor es = (ThreadPoolExecutor) Executors.newCachedThreadPool();\nes.setCorePoolSize(2);    \nes.setMaximumPoolSize(4); \nes.setKeepAliveTime(30, TimeUnit.SECONDS); \nes.submit(runnableTask);\nes.submit(runnableTask);\nes.submit(runnableTask);\nes.submit(callableTask);\nes.submit(callableTask); // ===&gt; RejectedExecutionException\nes.shutdown(); // is not executed because of the exception before\n</code></pre>\n<p>The other Executor Services, i.e. <code>Executors.newFixedThreadPool(2)</code>, are submitted tasks are queued and executed later, but not throwing any exception.\nWhat is special about <code>Executors.newCachedThreadPool()</code> throwing an exception, when more than max tasks are submitted?</p>\n"}],"owner":{"account_id":13362,"reputation":7911,"user_id":26788,"accept_rate":46,"display_name":"Krishna Kumar"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":17147,"favorite_count":0,"down_vote_count":2,"up_vote_count":17,"accepted_answer_id":1519983,"answer_count":3,"score":15,"last_activity_date":1687883958,"creation_date":1254744824,"question_id":1519725,"body_markdown":"Number of tasks (threads) submitted is also not huge in this test scenario.","title":"Why does Executors.newCachedThreadPool throw java.util.concurrent.RejectedExecutionException during submit","body":"<p>Number of tasks (threads) submitted is also not huge in this test scenario.</p>\n"},{"tags":["java","ant","tools.jar"],"comments":[{"owner":{"account_id":357454,"reputation":77335,"user_id":697630,"accept_rate":84,"display_name":"Edwin Dalorzo"},"score":0,"creation_date":1303305014,"post_id":5730815,"comment_id":6554559,"body_markdown":"I think tools belongs to the JDK not to the JRE. Isn&#180;t so? C:\\Program Files\\Java\\jdk1.6.0_24\\lib","body":"I think tools belongs to the JDK not to the JRE. Isn&#180;t so? C:\\Program Files\\Java\\jdk1.6.0_24\\lib"},{"owner":{"account_id":470821,"reputation":235,"user_id":878216,"accept_rate":0,"display_name":"Peter Flynn"},"score":5,"creation_date":1385455091,"post_id":5730815,"comment_id":30138391,"body_markdown":"As an aside, what I find astonishing is that the program actually said where it looked. So few programs provide this useful clue.","body":"As an aside, what I find astonishing is that the program actually said where it looked. So few programs provide this useful clue."},{"owner":{"account_id":4048506,"reputation":2759,"user_id":3328979,"accept_rate":78,"display_name":"Arashsoft"},"score":0,"creation_date":1461788368,"post_id":5730815,"comment_id":61364344,"body_markdown":"Also see the duplicate question: http://stackoverflow.com/q/9119479/3328979 Answers there are somehow better than here.","body":"Also see the duplicate question: <a href=\"http://stackoverflow.com/q/9119479/3328979\">stackoverflow.com/q/9119479/3328979</a> Answers there are somehow better than here."},{"owner":{"account_id":4347471,"reputation":306,"user_id":3549038,"display_name":"stopanko"},"score":0,"creation_date":1648244470,"post_id":5730815,"comment_id":126584142,"body_markdown":"In my case problem was in a path. I was trying to use script that was in the folder with a `space` in a name.\n\nI was trying to run `./bin/kafka-console-consumer.sh` from the binaries kafka folder. when i was asked to build project first with `./gradlew jar -PscalaVersion=2.13.6`. \nThis build command actually generated such error for me.","body":"In my case problem was in a path. I was trying to use script that was in the folder with a <code>space</code> in a name.  I was trying to run <code>.&#47;bin&#47;kafka-console-consumer.sh</code> from the binaries kafka folder. when i was asked to build project first with <code>.&#47;gradlew jar -PscalaVersion=2.13.6</code>.  This build command actually generated such error for me."}],"answers":[{"comments":[{"owner":{"account_id":180086,"reputation":20228,"user_id":413174,"accept_rate":87,"display_name":"olidev"},"score":0,"creation_date":1303306526,"post_id":5730838,"comment_id":6555054,"body_markdown":"yes, you are right! but how can I uninstall jre? thanks in advance","body":"yes, you are right! but how can I uninstall jre? thanks in advance"},{"owner":{"account_id":138128,"reputation":294236,"user_id":342852,"accept_rate":97,"display_name":"Sean Patrick Floyd"},"score":0,"creation_date":1303306674,"post_id":5730838,"comment_id":6555101,"body_markdown":"Start &gt; Control Panel &gt; Software (or similar, depending on Win* version)","body":"Start &gt; Control Panel &gt; Software (or similar, depending on Win* version)"},{"owner":{"account_id":180086,"reputation":20228,"user_id":413174,"accept_rate":87,"display_name":"olidev"},"score":0,"creation_date":1303307301,"post_id":5730838,"comment_id":6555324,"body_markdown":"but there is no option like that to remove jre. I just checked!","body":"but there is no option like that to remove jre. I just checked!"},{"owner":{"account_id":138128,"reputation":294236,"user_id":342852,"accept_rate":97,"display_name":"Sean Patrick Floyd"},"score":0,"creation_date":1303307496,"post_id":5730838,"comment_id":6555390,"body_markdown":"@Joesy OK, if you can&#39;t find it, just leave it, there&#39;s no need to deinstall it (except to recover disk space). You can have many JDKs and / or JREs installed in parallel","body":"@Joesy OK, if you can&#39;t find it, just leave it, there&#39;s no need to deinstall it (except to recover disk space). You can have many JDKs and / or JREs installed in parallel"}],"tags":[],"owner":{"account_id":138128,"reputation":294236,"user_id":342852,"accept_rate":97,"display_name":"Sean Patrick Floyd"},"comment_count":4,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1303304960,"creation_date":1303304960,"answer_id":5730838,"question_id":5730815,"body_markdown":"No, according to your directory structure, you have installed a JRE, not a JDK. There&#39;s a difference.\r\n\r\n    C:\\Program Files\\Java\\jre6\\lib\r\n                          ^^^^\r\nIt should be something like:\r\n\r\n    C:\\Program Files\\Java\\jdk1.6.0_24\r\n\r\n","title":"Unable to locate tools.jar","body":"<p>No, according to your directory structure, you have installed a JRE, not a JDK. There's a difference.</p>\n\n<pre><code>C:\\Program Files\\Java\\jre6\\lib\n                      ^^^^\n</code></pre>\n\n<p>It should be something like:</p>\n\n<pre><code>C:\\Program Files\\Java\\jdk1.6.0_24\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1930277,"reputation":2116,"user_id":1739812,"accept_rate":68,"display_name":"Mercenary"},"score":12,"creation_date":1374582648,"post_id":5730851,"comment_id":25987234,"body_markdown":"@olidev checking this now but still can&#39;t stop pointing out the issue!! How can this be your answer? You have already mentioned that you have installed jdk and jre. I&#39;m actually facing a similar problem and it still continues :-( . Need to know how you got it working??","body":"@olidev checking this now but still can&#39;t stop pointing out the issue!! How can this be your answer? You have already mentioned that you have installed jdk and jre. I&#39;m actually facing a similar problem and it still continues :-( . Need to know how you got it working??"},{"owner":{"account_id":16878,"reputation":306143,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"score":8,"creation_date":1374583966,"post_id":5730851,"comment_id":25988048,"body_markdown":"Add JAVA_HOME and the /bin directory to your path.  You realize that this answer is two years old, right?","body":"Add JAVA_HOME and the /bin directory to your path.  You realize that this answer is two years old, right?"},{"owner":{"account_id":1382262,"reputation":9665,"user_id":1315009,"accept_rate":41,"display_name":"Xavi Montero"},"score":18,"creation_date":1424373792,"post_id":5730851,"comment_id":45533208,"body_markdown":"In ubuntu: `# apt-get install default-jdk` and the error disappears.","body":"In ubuntu: <code># apt-get install default-jdk</code> and the error disappears."},{"owner":{"account_id":16878,"reputation":306143,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"score":2,"creation_date":1424381029,"post_id":5730851,"comment_id":45537362,"body_markdown":"The key?  JDK.  That&#39;s what has the tools.  JRE does not.","body":"The key?  JDK.  That&#39;s what has the tools.  JRE does not."},{"owner":{"account_id":485360,"reputation":20815,"user_id":901641,"accept_rate":78,"display_name":"ArtOfWarfare"},"score":4,"creation_date":1456342935,"post_id":5730851,"comment_id":58907068,"body_markdown":"Not necessarily. It looks to me like they might have `JAVA_HOME` set to the `jre` inside of the `jdk` instead of to the `jdk` itself.","body":"Not necessarily. It looks to me like they might have <code>JAVA_HOME</code> set to the <code>jre</code> inside of the <code>jdk</code> instead of to the <code>jdk</code> itself."},{"owner":{"account_id":16878,"reputation":306143,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"score":0,"creation_date":1456345131,"post_id":5730851,"comment_id":58908398,"body_markdown":"This answer was given and accepted almost five years ago.  You should use your time more wisely than trolling old answers.","body":"This answer was given and accepted almost five years ago.  You should use your time more wisely than trolling old answers."},{"owner":{"account_id":5417247,"reputation":942,"user_id":4312066,"accept_rate":67,"display_name":"Ahmed Ismail"},"score":1,"creation_date":1525964919,"post_id":5730851,"comment_id":87568675,"body_markdown":"`apt-get install default-jdk` did the trick, thanks @Xavi Montero","body":"<code>apt-get install default-jdk</code> did the trick, thanks @Xavi Montero"},{"owner":{"account_id":7190950,"reputation":1818,"user_id":5515843,"accept_rate":100,"display_name":"bobasti"},"score":1,"creation_date":1555418114,"post_id":5730851,"comment_id":98097270,"body_markdown":"I was missing `JAVA_HOME` in my configuration. I resolved this error by adding `JAVA_HOME` to environment variables and `%JAVA_HOME%\\bin` to `Path`.","body":"I was missing <code>JAVA_HOME</code> in my configuration. I resolved this error by adding <code>JAVA_HOME</code> to environment variables and <code>%JAVA_HOME%\\bin</code> to <code>Path</code>."},{"owner":{"account_id":7240772,"reputation":595,"user_id":5524420,"accept_rate":50,"display_name":"Mithun Kumar"},"score":0,"creation_date":1568105553,"post_id":5730851,"comment_id":102159533,"body_markdown":"i have copied from jdk/lib/tools.jar to jre/lib/ folder , it started working after that.","body":"i have copied from jdk/lib/tools.jar to jre/lib/ folder , it started working after that."}],"tags":[],"owner":{"account_id":16878,"reputation":306143,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"comment_count":9,"down_vote_count":4,"up_vote_count":207,"is_accepted":true,"score":203,"last_activity_date":1303305015,"creation_date":1303305015,"answer_id":5730851,"question_id":5730815,"body_markdown":"Yes, you&#39;ve downloaded and installed the Java Runtime Environment (JRE) instead of the Java Development Kit (JDK).  The latter has the tools.jar, java.exe, javac.exe, etc.\r\n","title":"Unable to locate tools.jar","body":"<p>Yes, you've downloaded and installed the Java Runtime Environment (JRE) instead of the Java Development Kit (JDK).  The latter has the tools.jar, java.exe, javac.exe, etc.</p>\n"},{"tags":[],"owner":{"account_id":270781,"reputation":11897,"user_id":560934,"accept_rate":61,"display_name":"Nirmal- thInk beYond"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1303305250,"creation_date":1303305250,"answer_id":5730905,"question_id":5730815,"body_markdown":"    Expected to find it in C:\\Program Files\\Java\\jre6\\lib\\tools.jar\r\n\r\nif you have installed jdk then \r\n\r\n`..Java/jdkx.x.x` \r\n\r\nfolder must exist there so in stall it and give full path like\r\n\r\n    C:\\Program Files\\Java\\jdk1.6.0\\lib\\tools.jar","title":"Unable to locate tools.jar","body":"<pre><code>Expected to find it in C:\\Program Files\\Java\\jre6\\lib\\tools.jar\n</code></pre>\n\n<p>if you have installed jdk then </p>\n\n<p><code>..Java/jdkx.x.x</code> </p>\n\n<p>folder must exist there so in stall it and give full path like</p>\n\n<pre><code>C:\\Program Files\\Java\\jdk1.6.0\\lib\\tools.jar\n</code></pre>\n"},{"tags":[],"owner":{"account_id":111302,"reputation":4393,"user_id":294097,"accept_rate":67,"display_name":"John Kane"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1303305295,"creation_date":1303305295,"answer_id":5730917,"question_id":5730815,"body_markdown":"Make sure that your classpath is set correctly and pointing to the correct version of the JDK that you have installed.  Also, are you using Open JDK? I have had this issue before after I tried to move from open JDK to Suns JDK.  [This][1] is an example of how that issue could be fixed.\r\n\r\n\r\n  [1]: http://www.imlucas.com/post/263896412/ubuntu-fix-for-unable-to-locate-tools-jar-expected-to","title":"Unable to locate tools.jar","body":"<p>Make sure that your classpath is set correctly and pointing to the correct version of the JDK that you have installed.  Also, are you using Open JDK? I have had this issue before after I tried to move from open JDK to Suns JDK.  <a href=\"http://www.imlucas.com/post/263896412/ubuntu-fix-for-unable-to-locate-tools-jar-expected-to\" rel=\"nofollow\">This</a> is an example of how that issue could be fixed.</p>\n"},{"comments":[{"owner":{"account_id":1676,"reputation":68570,"user_id":2260,"accept_rate":87,"display_name":"Daren Thomas"},"score":8,"creation_date":1352905566,"post_id":10519763,"comment_id":18274175,"body_markdown":"this. thanks! (for those of us who have various jre/jdk versions installed)","body":"this. thanks! (for those of us who have various jre/jdk versions installed)"},{"owner":{"account_id":1066386,"reputation":8876,"user_id":1066839,"accept_rate":59,"display_name":"John"},"score":0,"creation_date":1377496595,"post_id":10519763,"comment_id":27090236,"body_markdown":"it worked for me..earlier i gave the path with \\bin also..that was the issue","body":"it worked for me..earlier i gave the path with \\bin also..that was the issue"},{"owner":{"account_id":83445,"reputation":578,"user_id":233952,"accept_rate":91,"display_name":"Luke"},"score":0,"creation_date":1384387177,"post_id":10519763,"comment_id":29721847,"body_markdown":"Thanks, I wish I could give you 2 ups!","body":"Thanks, I wish I could give you 2 ups!"}],"tags":[],"owner":{"account_id":401504,"reputation":2667,"user_id":768100,"display_name":"Blake Mitchell"},"comment_count":3,"down_vote_count":1,"up_vote_count":92,"is_accepted":false,"score":91,"last_activity_date":1336579251,"creation_date":1336579251,"answer_id":10519763,"question_id":5730815,"body_markdown":"In case this is still an issue for anyone, I have a bit of clarification on the previous answers. I was running into this same issue using ant with only a JDK installed. Although, the JDK installer gave me a directory structure like this:\r\n\r\n&lt;!-- language: lang-none --&gt;\r\n\r\n     Directory of C:\\Program Files\\Java\r\n    \r\n    05/08/2012  09:43 AM    &lt;DIR&gt;          .\r\n    05/08/2012  09:43 AM    &lt;DIR&gt;          ..\r\n    05/08/2012  09:46 AM    &lt;DIR&gt;          jdk1.7.0_04\r\n    05/08/2012  09:19 AM    &lt;DIR&gt;          jre6\r\n    05/08/2012  09:44 AM    &lt;DIR&gt;          jre7\r\n                   0 File(s)              0 bytes\r\n\r\nand when I ran ant, it complained about not finding tools.jar under the jre7 subdirectory. It wasn&#39;t until I `set &quot;JAVA_HOME=C:\\Program Files\\Java\\jdk1.7.0_04&quot;` that the error went away.","title":"Unable to locate tools.jar","body":"<p>In case this is still an issue for anyone, I have a bit of clarification on the previous answers. I was running into this same issue using ant with only a JDK installed. Although, the JDK installer gave me a directory structure like this:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code> Directory of C:\\Program Files\\Java\n\n05/08/2012  09:43 AM    &lt;DIR&gt;          .\n05/08/2012  09:43 AM    &lt;DIR&gt;          ..\n05/08/2012  09:46 AM    &lt;DIR&gt;          jdk1.7.0_04\n05/08/2012  09:19 AM    &lt;DIR&gt;          jre6\n05/08/2012  09:44 AM    &lt;DIR&gt;          jre7\n               0 File(s)              0 bytes\n</code></pre>\n\n<p>and when I ran ant, it complained about not finding tools.jar under the jre7 subdirectory. It wasn't until I <code>set \"JAVA_HOME=C:\\Program Files\\Java\\jdk1.7.0_04\"</code> that the error went away.</p>\n"},{"comments":[{"owner":{"account_id":5088231,"reputation":160,"user_id":4082061,"display_name":"S_M"},"score":2,"creation_date":1423732581,"post_id":12651892,"comment_id":45270743,"body_markdown":"is this approach recommendable?","body":"is this approach recommendable?"}],"tags":[],"owner":{"account_id":1889728,"reputation":75,"user_id":1708141,"display_name":"sathiya"},"comment_count":1,"down_vote_count":3,"up_vote_count":8,"is_accepted":false,"score":5,"last_activity_date":1495781484,"creation_date":1348914163,"answer_id":12651892,"question_id":5730815,"body_markdown":"Don&#39;t spend too much time looking for `tools.jar`. If you get an error like that, don&#39;t be upset. \r\n\r\nIf you already have java JDK 1.5, go to your `lib` folder, and the `tools.jar` should be available there. Copy and paste it in your ant `bin` folder, then try to use the command `ant -version`.\r\n\r\nYou should see the expected result.","title":"Unable to locate tools.jar","body":"<p>Don't spend too much time looking for <code>tools.jar</code>. If you get an error like that, don't be upset. </p>\n\n<p>If you already have java JDK 1.5, go to your <code>lib</code> folder, and the <code>tools.jar</code> should be available there. Copy and paste it in your ant <code>bin</code> folder, then try to use the command <code>ant -version</code>.</p>\n\n<p>You should see the expected result.</p>\n"},{"tags":[],"owner":{"account_id":281525,"reputation":24030,"user_id":577878,"display_name":"Zorayr"},"comment_count":0,"down_vote_count":1,"up_vote_count":11,"is_accepted":false,"score":10,"last_activity_date":1359077599,"creation_date":1359077599,"answer_id":14513952,"question_id":5730815,"body_markdown":"Set your `JAVA_HOME` environmental variable to point to `C:\\Program Files\\Java\\jdk1.7.0_02`.","title":"Unable to locate tools.jar","body":"<p>Set your <code>JAVA_HOME</code> environmental variable to point to <code>C:\\Program Files\\Java\\jdk1.7.0_02</code>.</p>\n"},{"comments":[{"owner":{"account_id":3738655,"reputation":573,"user_id":3110605,"display_name":"real_paul"},"score":5,"creation_date":1454424974,"post_id":15471577,"comment_id":58031763,"body_markdown":"Polluting local installations with classes which clearly don&#39;t belong there can lead to the Works on my machine syndrome. That is even if a formal build process is in place. [tools.jar, which contains non-core classes for support of the tools and utilities in the JDK](http://docs.oracle.com/javase/8/docs/technotes/tools/windows/jdkfiles.html)","body":"Polluting local installations with classes which clearly don&#39;t belong there can lead to the Works on my machine syndrome. That is even if a formal build process is in place. <a href=\"http://docs.oracle.com/javase/8/docs/technotes/tools/windows/jdkfiles.html\" rel=\"nofollow noreferrer\">tools.jar, which contains non-core classes for support of the tools and utilities in the JDK</a>"},{"owner":{"account_id":5976079,"reputation":1506,"user_id":4696890,"display_name":"Roman Golyshev"},"score":0,"creation_date":1616585846,"post_id":15471577,"comment_id":118046981,"body_markdown":"Thanks for this workaround! \nIn my case I copied `corretto-1.8.0_282\\lib\\tools.jar` to `corretto-1.8.0_282\\jre\\lib\\ext\\tools.jar`, and it resolved unstoppable stream of `ClassNotFound` exceptions","body":"Thanks for this workaround!  In my case I copied <code>corretto-1.8.0_282\\lib\\tools.jar</code> to <code>corretto-1.8.0_282\\jre\\lib\\ext\\tools.jar</code>, and it resolved unstoppable stream of <code>ClassNotFound</code> exceptions"}],"tags":[],"owner":{"account_id":2338280,"reputation":327,"user_id":2050142,"display_name":"Kamlesh Pant"},"comment_count":2,"down_vote_count":2,"up_vote_count":33,"is_accepted":false,"score":31,"last_activity_date":1363592424,"creation_date":1363591261,"answer_id":15471577,"question_id":5730815,"body_markdown":"I had the same problem and  **copying**  `C:\\Program Files\\Java\\jdk1.6.0_26\\lib\\tools.jar` **to** `C:\\Program Files\\Java\\jre6\\lib\\ext`  worked for me \r\n\r\n","title":"Unable to locate tools.jar","body":"<p>I had the same problem and  <strong>copying</strong>  <code>C:\\Program Files\\Java\\jdk1.6.0_26\\lib\\tools.jar</code> <strong>to</strong> <code>C:\\Program Files\\Java\\jre6\\lib\\ext</code>  worked for me </p>\n"},{"tags":[],"owner":{"account_id":2582714,"reputation":31,"user_id":2239035,"display_name":"sandeep"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1364968417,"creation_date":1364968417,"answer_id":15779832,"question_id":5730815,"body_markdown":"go to your jdk path where you installed your java\r\n\r\nFor e.g In my PC JDK installed in the following path\r\n\r\n&quot;C:\\Program Files\\Java\\jdk1.7.0_17\\&quot;;\r\n\r\n\r\nAfter go to the lib folder e.g &quot;C:\\Program Files\\Java\\jdk1.7.0_17\\lib&quot;\r\n\r\nin the lib directory there is tool.jar file\r\n\r\nCopy this file and past it in the lib forlder of jre7 directory\r\nfor e.g\r\n\r\n&quot;C:\\Program Files\\Java\\jre7\\lib&quot;","title":"Unable to locate tools.jar","body":"<p>go to your jdk path where you installed your java</p>\n\n<p>For e.g In my PC JDK installed in the following path</p>\n\n<p>\"C:\\Program Files\\Java\\jdk1.7.0_17\\\";</p>\n\n<p>After go to the lib folder e.g \"C:\\Program Files\\Java\\jdk1.7.0_17\\lib\"</p>\n\n<p>in the lib directory there is tool.jar file</p>\n\n<p>Copy this file and past it in the lib forlder of jre7 directory\nfor e.g</p>\n\n<p>\"C:\\Program Files\\Java\\jre7\\lib\"</p>\n"},{"comments":[{"owner":{"account_id":910967,"reputation":892,"user_id":944843,"accept_rate":64,"display_name":"krinn"},"score":4,"creation_date":1389895829,"post_id":16676483,"comment_id":31868372,"body_markdown":"JAVA_HOME variable fixed everything, thanks a lot :)","body":"JAVA_HOME variable fixed everything, thanks a lot :)"},{"owner":{"account_id":2204808,"reputation":31386,"user_id":1948292,"accept_rate":69,"display_name":"Daniel W."},"score":5,"creation_date":1391885733,"post_id":16676483,"comment_id":32721271,"body_markdown":"`PATH` **with** `/bin`, `JAVA_HOME` **without** `/bin`","body":"<code>PATH</code> <b>with</b> <code>&#47;bin</code>, <code>JAVA_HOME</code> <b>without</b> <code>&#47;bin</code>"}],"tags":[],"owner":{"account_id":31984,"reputation":30440,"user_id":88204,"accept_rate":86,"display_name":"James Lawruk"},"comment_count":2,"down_vote_count":0,"up_vote_count":42,"is_accepted":false,"score":42,"last_activity_date":1369159056,"creation_date":1369159056,"answer_id":16676483,"question_id":5730815,"body_markdown":" 1. Install the [Java SDK][1]. \r\n\r\n 2. Add a System Environment Variable called **JAVA_HOME** with the value of JDK location.  \r\n  *Go to Control Panel\\System and Security\\System. Advanced System Settings, Environment Variables, System Variables, New...  Example:*  \r\n  Variable Name:**JAVA_HOME**  \r\n  Variable Value: **C:\\Program Files\\Java\\jdk1.7.0_21**  \r\n\r\n 3. Close/reopen your CMD window so that the new variable takes effect before attempting to re-run the ant command.\r\n\r\n\r\n  [1]: http://www.oracle.com/technetwork/java/javase/downloads/index.html","title":"Unable to locate tools.jar","body":"<ol>\n<li><p>Install the <a href=\"http://www.oracle.com/technetwork/java/javase/downloads/index.html\">Java SDK</a>. </p></li>\n<li><p>Add a System Environment Variable called <strong>JAVA_HOME</strong> with the value of JDK location.<br>\n<em>Go to Control Panel\\System and Security\\System. Advanced System Settings, Environment Variables, System Variables, New...  Example:</em><br>\nVariable Name:<strong>JAVA_HOME</strong><br>\nVariable Value: <strong>C:\\Program Files\\Java\\jdk1.7.0_21</strong>  </p></li>\n<li><p>Close/reopen your CMD window so that the new variable takes effect before attempting to re-run the ant command.</p></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":2314267,"reputation":883,"user_id":2031645,"accept_rate":43,"display_name":"J&#248;rgen Sk&#229;r Fischer"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1381097344,"creation_date":1381097344,"answer_id":19214548,"question_id":5730815,"body_markdown":"Make sure that both the %JAVA_HOME% and %JAVA_HOME%/bin paths are added to your PATH variable.\r\n\r\nAll the answers about copying tools.jar into the correct position is a poor idea at best.\r\n\r\nMake sure that your IDE can find these jars the way it was designed and intended for.","title":"Unable to locate tools.jar","body":"<p>Make sure that both the %JAVA_HOME% and %JAVA_HOME%/bin paths are added to your PATH variable.</p>\n\n<p>All the answers about copying tools.jar into the correct position is a poor idea at best.</p>\n\n<p>Make sure that your IDE can find these jars the way it was designed and intended for.</p>\n"},{"tags":[],"owner":{"account_id":3782367,"reputation":1,"user_id":3141419,"display_name":"living.li"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1388215778,"creation_date":1388215778,"answer_id":20812148,"question_id":5730815,"body_markdown":"maven-compiler-plugin use jdk ,not jre, \r\n   tools.jar is in C:\\Program Files\\Java\\jdk1.6.0\\lib\\tools.jar\r\nyou must config project JRE System Libary with  jdk,not jar. This is the simplest solution.","title":"Unable to locate tools.jar","body":"<p>maven-compiler-plugin use jdk ,not jre, \n   tools.jar is in C:\\Program Files\\Java\\jdk1.6.0\\lib\\tools.jar\nyou must config project JRE System Libary with  jdk,not jar. This is the simplest solution.</p>\n"},{"tags":[],"owner":{"account_id":3920921,"reputation":81,"user_id":3243105,"display_name":"user3243105"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1390887534,"creation_date":1390886447,"answer_id":21397474,"question_id":5730815,"body_markdown":"I had the same problem even after installing Java JDK and set `JAVA_HOME` to `..\\jdk1.6.0_45\\bin` folder. \r\n\r\nAnt is still trying to find `tools.jar` in `C:\\Program Files\\Java\\jre6\\lib` folder.  \r\nI&#39;ve fixed it by adding `JAVACMD` environment variable and set path for it to `java.exe` in the `jdk` folder.  \r\nIn my case it was `C:\\Program Files\\Java\\jdk1.6.0_45\\bin\\java.exe`","title":"Unable to locate tools.jar","body":"<p>I had the same problem even after installing Java JDK and set <code>JAVA_HOME</code> to <code>..\\jdk1.6.0_45\\bin</code> folder. </p>\n\n<p>Ant is still trying to find <code>tools.jar</code> in <code>C:\\Program Files\\Java\\jre6\\lib</code> folder.<br>\nI've fixed it by adding <code>JAVACMD</code> environment variable and set path for it to <code>java.exe</code> in the <code>jdk</code> folder.<br>\nIn my case it was <code>C:\\Program Files\\Java\\jdk1.6.0_45\\bin\\java.exe</code></p>\n"},{"comments":[{"owner":{"account_id":3648747,"reputation":1497,"user_id":3041394,"accept_rate":83,"display_name":"schlenger"},"score":0,"creation_date":1527849570,"post_id":26131474,"comment_id":88293093,"body_markdown":"Obviously, you can use &#39;sudo apt-get install openjdk-8-jdk openjdk-8-jre&#39; for Java 8","body":"Obviously, you can use &#39;sudo apt-get install openjdk-8-jdk openjdk-8-jre&#39; for Java 8"}],"tags":[],"owner":{"account_id":412932,"reputation":9670,"user_id":786279,"accept_rate":100,"display_name":"mimoralea"},"comment_count":1,"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1412117521,"creation_date":1412117521,"answer_id":26131474,"question_id":5730815,"body_markdown":"If you are in Linux you can solve this by installing java on the system:\r\n\r\n    sudo apt-get install openjdk-7-jdk openjdk-7-jre","title":"Unable to locate tools.jar","body":"<p>If you are in Linux you can solve this by installing java on the system:</p>\n\n<pre><code>sudo apt-get install openjdk-7-jdk openjdk-7-jre\n</code></pre>\n"},{"tags":[],"owner":{"account_id":242751,"reputation":6179,"user_id":514493,"accept_rate":69,"display_name":"Manish Basdeo"},"comment_count":0,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1430590183,"creation_date":1430590183,"answer_id":30005753,"question_id":5730815,"body_markdown":"In eclipse window&gt; preferences&gt;Java&gt; Installed JRE, I pointed the directory to the jre directory in the jdk 1.7 and i worked file for me\r\ne.g C:\\Program Files\\Java\\jdk1.7.0_71\\jre","title":"Unable to locate tools.jar","body":"<p>In eclipse window> preferences>Java> Installed JRE, I pointed the directory to the jre directory in the jdk 1.7 and i worked file for me\ne.g C:\\Program Files\\Java\\jdk1.7.0_71\\jre</p>\n"},{"comments":[{"owner":{"account_id":21184,"reputation":3592,"user_id":51306,"accept_rate":66,"display_name":"Yigang Wu"},"score":1,"creation_date":1449109851,"post_id":31025631,"comment_id":55867632,"body_markdown":"I got the same issue with windows, use you way solved my problem.","body":"I got the same issue with windows, use you way solved my problem."},{"owner":{"account_id":975553,"reputation":3366,"user_id":996908,"accept_rate":60,"display_name":"Mr Smith"},"score":0,"creation_date":1555001608,"post_id":31025631,"comment_id":97966343,"body_markdown":"i&#39;ve tried all this &amp; still get the issue with tools.jar.  Is Randoop worth the effort?  Meaning does it generate decent unit tests?  The frustrating part of this is that EVERY other java program on my Windows box works fine.","body":"i&#39;ve tried all this &amp; still get the issue with tools.jar.  Is Randoop worth the effort?  Meaning does it generate decent unit tests?  The frustrating part of this is that EVERY other java program on my Windows box works fine."},{"owner":{"account_id":418541,"reputation":8859,"user_id":795158,"accept_rate":95,"display_name":"Ivaylo Slavov"},"score":0,"creation_date":1555056990,"post_id":31025631,"comment_id":97983669,"body_markdown":"@MrSmith , What is the path that Randoop looks for when you receive the error. Maybe Randoop has its own env setting that tells it where the JRE is? Also, did you reopen your shell windows (if running from shell) after changing your env variables?","body":"@MrSmith , What is the path that Randoop looks for when you receive the error. Maybe Randoop has its own env setting that tells it where the JRE is? Also, did you reopen your shell windows (if running from shell) after changing your env variables?"}],"tags":[],"owner":{"account_id":418541,"reputation":8859,"user_id":795158,"accept_rate":95,"display_name":"Ivaylo Slavov"},"comment_count":3,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1645632102,"creation_date":1435146270,"answer_id":31025631,"question_id":5730815,"body_markdown":"I had the same issue on a linux machine. I was quite frustrated at first, because I have installed both the JDK and JRE. I am using version 1.6, 1.7 and 1.8 simultaneously, and I have played a lot with the alternatives to have everything set properly.\r\n\r\nThe problem was quite stupid to solve, yet counter-intuitive. While I was using the correct JDK, I paid attention to the path of the tools jar maven complained about - it was expecting it to be \r\n\r\n    $JAVA_HOME\\..\\lib\\tools.jar\r\n\r\nThe `$JAVA_HOME` variable pointed directly to my `jdk` folder (`/usr/local/java` which was also the correct `$PATH` entry and alternative sym link). It actually searches for the `lib` folder **outside** the java directory, because:\r\n\r\n    $JAVA_HOME\\..\\lib\\tools.jar\r\n\r\nwill resolve to \r\n\r\n    /usr/local/lib/tools.jar\r\n\r\nand that is not a valid location.\r\n\r\nTo solve this, the `$JAVA_HOME` variable should instead point to this location `/usr/local/java/jre` (assuming the JDK path is `/usr/local/java`) -- there is actually `jre` folder inside the JDK installation directory, that comes with each JDK. This new setup will cause maven to look at the JRE directory, that is part of the JDK:\r\n\r\n    $JAVA_HOME\\..\\lib\\tools\r\n\r\nwhich now resolves to\r\n\r\n    /usr/local/java/jre/../lib/tools.jar\r\n\r\nand finally to\r\n\r\n    /usr/local/java/lib/tools.jar\r\n\r\nwhich is where the `tools.jar` really resides.\r\n\r\nSo, even if you are indeed using the JDK instead of the JRE, the $JAVA_HOME has to point to the JRE. Remember, the OS alternative should still refer to the JDK.","title":"Unable to locate tools.jar","body":"<p>I had the same issue on a linux machine. I was quite frustrated at first, because I have installed both the JDK and JRE. I am using version 1.6, 1.7 and 1.8 simultaneously, and I have played a lot with the alternatives to have everything set properly.</p>\n<p>The problem was quite stupid to solve, yet counter-intuitive. While I was using the correct JDK, I paid attention to the path of the tools jar maven complained about - it was expecting it to be</p>\n<pre><code>$JAVA_HOME\\..\\lib\\tools.jar\n</code></pre>\n<p>The <code>$JAVA_HOME</code> variable pointed directly to my <code>jdk</code> folder (<code>/usr/local/java</code> which was also the correct <code>$PATH</code> entry and alternative sym link). It actually searches for the <code>lib</code> folder <strong>outside</strong> the java directory, because:</p>\n<pre><code>$JAVA_HOME\\..\\lib\\tools.jar\n</code></pre>\n<p>will resolve to</p>\n<pre><code>/usr/local/lib/tools.jar\n</code></pre>\n<p>and that is not a valid location.</p>\n<p>To solve this, the <code>$JAVA_HOME</code> variable should instead point to this location <code>/usr/local/java/jre</code> (assuming the JDK path is <code>/usr/local/java</code>) -- there is actually <code>jre</code> folder inside the JDK installation directory, that comes with each JDK. This new setup will cause maven to look at the JRE directory, that is part of the JDK:</p>\n<pre><code>$JAVA_HOME\\..\\lib\\tools\n</code></pre>\n<p>which now resolves to</p>\n<pre><code>/usr/local/java/jre/../lib/tools.jar\n</code></pre>\n<p>and finally to</p>\n<pre><code>/usr/local/java/lib/tools.jar\n</code></pre>\n<p>which is where the <code>tools.jar</code> really resides.</p>\n<p>So, even if you are indeed using the JDK instead of the JRE, the $JAVA_HOME has to point to the JRE. Remember, the OS alternative should still refer to the JDK.</p>\n"},{"tags":[],"owner":{"account_id":4048506,"reputation":2759,"user_id":3328979,"accept_rate":78,"display_name":"Arashsoft"},"comment_count":0,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1461787864,"creation_date":1461787864,"answer_id":36899947,"question_id":5730815,"body_markdown":"I had my JDK_path (`C:\\Program Files\\Java\\jdk1.7.0_79`) in my `JAVA_HOME` and also the JDK_path\\bin in my `PATH`. But, still my ant was using the JRE instead of JDK.\r\n\r\nThe issue was I had `C:\\ProgramData\\Oracle\\Java\\javapath`before my JDK_path in `PATH` variable. I simply moved my JDK_path before the oracle one and the issue solved.","title":"Unable to locate tools.jar","body":"<p>I had my JDK_path (<code>C:\\Program Files\\Java\\jdk1.7.0_79</code>) in my <code>JAVA_HOME</code> and also the JDK_path\\bin in my <code>PATH</code>. But, still my ant was using the JRE instead of JDK.</p>\n\n<p>The issue was I had <code>C:\\ProgramData\\Oracle\\Java\\javapath</code>before my JDK_path in <code>PATH</code> variable. I simply moved my JDK_path before the oracle one and the issue solved.</p>\n"},{"tags":[],"owner":{"account_id":458028,"reputation":1686,"user_id":857684,"display_name":"Sasha Zezulinsky"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1466972673,"creation_date":1466972673,"answer_id":38042849,"question_id":5730815,"body_markdown":"You may face similar problem on Ubuntu:\r\n\r\n    Embedded error: tools.jar not found: /usr/lib/jvm/java-7-openjdk-amd64/jre/../lib/tools.jar\r\n\r\nThe problem is with JAVA_HOME that is not set properly.\r\n\r\nSo, on Ubuntu 14.04 x64 using Java8:\r\n\r\n    sudo apt-get install openjdk-8-jdk openjdk-8-jre\r\n    export JAVA_HOME=/usr/lib/jvm/java-8-openjdk-amd64","title":"Unable to locate tools.jar","body":"<p>You may face similar problem on Ubuntu:</p>\n\n<pre><code>Embedded error: tools.jar not found: /usr/lib/jvm/java-7-openjdk-amd64/jre/../lib/tools.jar\n</code></pre>\n\n<p>The problem is with JAVA_HOME that is not set properly.</p>\n\n<p>So, on Ubuntu 14.04 x64 using Java8:</p>\n\n<pre><code>sudo apt-get install openjdk-8-jdk openjdk-8-jre\nexport JAVA_HOME=/usr/lib/jvm/java-8-openjdk-amd64\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6532574,"reputation":2212,"user_id":5053266,"accept_rate":67,"display_name":"RotS"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1475229818,"creation_date":1475229818,"answer_id":39788891,"question_id":5730815,"body_markdown":" * Right click on your ant file\r\n * Go to &quot;Run as&quot; then click on &quot;Ant Build...&quot;\r\n * Go to the &quot;JRE&quot; tab\r\n * Select a JDK and not a JRE","title":"Unable to locate tools.jar","body":"<ul>\n<li>Right click on your ant file</li>\n<li>Go to \"Run as\" then click on \"Ant Build...\"</li>\n<li>Go to the \"JRE\" tab</li>\n<li>Select a JDK and not a JRE</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":10128337,"reputation":41,"user_id":7482764,"display_name":"estudiante"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1485942808,"creation_date":1485942808,"answer_id":41976642,"question_id":5730815,"body_markdown":"solving this problem I have simply copied the tools.jar file from C:\\Program Files\\Java\\jre1.8.0_112\\lib to C:\\Program Files\\Java\\jdk1.8.0_112\\lib so that I have two tools.jar files instead of one and problem disappeared.","title":"Unable to locate tools.jar","body":"<p>solving this problem I have simply copied the tools.jar file from C:\\Program Files\\Java\\jre1.8.0_112\\lib to C:\\Program Files\\Java\\jdk1.8.0_112\\lib so that I have two tools.jar files instead of one and problem disappeared.</p>\n"},{"comments":[{"owner":{"account_id":7871459,"reputation":128,"user_id":5948603,"display_name":"Cummings"},"score":0,"creation_date":1571854808,"post_id":44023322,"comment_id":103381806,"body_markdown":"I had to force this. Ant 10+ is looking for the JDK in an unknown variable. I could not find where it was getting the JDK, but when I can in command line and forced JAVA HOME it worked.","body":"I had to force this. Ant 10+ is looking for the JDK in an unknown variable. I could not find where it was getting the JDK, but when I can in command line and forced JAVA HOME it worked."}],"tags":[],"owner":{"account_id":1713391,"reputation":7677,"user_id":1570996,"display_name":"Ramy Feteha"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1495019811,"creation_date":1495019811,"answer_id":44023322,"question_id":5730815,"body_markdown":"it has been solved with me in windows os by setting the JAVA_HOME variable before running as follows:\r\n\r\nset JAVA_HOME=C:\\Program Files\\Java\\jdk1.8.0_111","title":"Unable to locate tools.jar","body":"<p>it has been solved with me in windows os by setting the JAVA_HOME variable before running as follows:</p>\n\n<p>set JAVA_HOME=C:\\Program Files\\Java\\jdk1.8.0_111</p>\n"},{"tags":[],"owner":{"account_id":8584753,"reputation":205,"user_id":6431282,"display_name":"Florent Giraud"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1495999766,"creation_date":1495998793,"answer_id":44231071,"question_id":5730815,"body_markdown":"For me what&#39;s working: I downloaded an old version of Java 1.7\r\n\r\nI actually set my JAVA_HOME from C:/program files X86/Java BUT after I installed the 1.7 version I had another Java in program files/Java. And at this moment I found the tools.jar here. Then I changed for this new path and it&#39;s working","title":"Unable to locate tools.jar","body":"<p>For me what's working: I downloaded an old version of Java 1.7</p>\n\n<p>I actually set my JAVA_HOME from C:/program files X86/Java BUT after I installed the 1.7 version I had another Java in program files/Java. And at this moment I found the tools.jar here. Then I changed for this new path and it's working</p>\n"},{"tags":[],"owner":{"account_id":11704238,"reputation":13,"user_id":8568307,"display_name":"Nits"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1504788039,"creation_date":1504788039,"answer_id":46096656,"question_id":5730815,"body_markdown":"I was also facing the same error.\r\nThis was removed after setting Java_Home path to C:\\Program Files\\Java\\jdk1.8.0_121.\r\nPlease ensure bin is not included in the path and no slash is there after jdk1.8.0_121 after you have defined %JAVA_HOME%\\bin in the system path variable.","title":"Unable to locate tools.jar","body":"<p>I was also facing the same error.\nThis was removed after setting Java_Home path to C:\\Program Files\\Java\\jdk1.8.0_121.\nPlease ensure bin is not included in the path and no slash is there after jdk1.8.0_121 after you have defined %JAVA_HOME%\\bin in the system path variable.</p>\n"},{"comments":[{"owner":{"account_id":1796171,"reputation":76,"user_id":1635530,"display_name":"deepak"},"score":1,"creation_date":1611720252,"post_id":47997984,"comment_id":116539203,"body_markdown":"This answer is more relevant today than the earlier upvoted answers","body":"This answer is more relevant today than the earlier upvoted answers"},{"owner":{"account_id":116752,"reputation":4310,"user_id":306036,"accept_rate":85,"display_name":"Ryan Leach"},"score":2,"creation_date":1642282129,"post_id":47997984,"comment_id":125031031,"body_markdown":"Adding information on how to migrate maven builds still expecting tools.jar would be great.","body":"Adding information on how to migrate maven builds still expecting tools.jar would be great."}],"tags":[],"owner":{"account_id":28686,"reputation":4866,"user_id":76852,"accept_rate":72,"display_name":"Graham Chiu"},"comment_count":2,"down_vote_count":0,"up_vote_count":23,"is_accepted":false,"score":23,"last_activity_date":1514404991,"creation_date":1514404991,"answer_id":47997984,"question_id":5730815,"body_markdown":"If you have installed JDK 9.0.1 you will also have this problem as the tools.jar has been deprecated. See [migration document](https://docs.oracle.com/javase/9/migrate/toc.htm).","title":"Unable to locate tools.jar","body":"<p>If you have installed JDK 9.0.1 you will also have this problem as the tools.jar has been deprecated. See <a href=\"https://docs.oracle.com/javase/9/migrate/toc.htm\" rel=\"noreferrer\">migration document</a>.</p>\n"},{"tags":[],"owner":{"account_id":1306332,"reputation":2147,"user_id":1255267,"display_name":"TastyWheat"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1532444485,"creation_date":1532444485,"answer_id":51501877,"question_id":5730815,"body_markdown":"If you&#39;re in a RHEL environment the package name containing tools.jar would end with &quot;openjdk-devel&quot;.","title":"Unable to locate tools.jar","body":"<p>If you're in a RHEL environment the package name containing tools.jar would end with \"openjdk-devel\".</p>\n"},{"tags":[],"owner":{"account_id":1522906,"reputation":42483,"user_id":1422096,"accept_rate":63,"display_name":"Basj"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1533473557,"creation_date":1533473557,"answer_id":51694494,"question_id":5730815,"body_markdown":"This is the solution for Windows: in *Computer &gt; Advanced system settings &gt; Advanced &gt; Environment variables...*, add this in *System variables*:\r\n\r\n\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/7bSlD.jpg","title":"Unable to locate tools.jar","body":"<p>This is the solution for Windows: in <em>Computer > Advanced system settings > Advanced > Environment variables...</em>, add this in <em>System variables</em>:</p>\n\n<p><a href=\"https://i.stack.imgur.com/7bSlD.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/7bSlD.jpg\" alt=\"enter image description here\"></a></p>\n"},{"tags":[],"owner":{"account_id":14527149,"reputation":13,"user_id":10667223,"display_name":"astatyzm"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1543909165,"creation_date":1543909165,"answer_id":53607927,"question_id":5730815,"body_markdown":"I have downloaded tools.jar and after that I copied it into path in error message.\r\n\r\nC:\\Program Files\\Java\\jdk-11.0.1\\bin &gt; paste here tools.jar\r\n\r\nAfter that I have restarted Spring Tool Suit 4 and everything was working.\r\nWhen I was trying to fix that problem I have made new environmental variable:\r\nControl Panel / System / Advenced / Environmental variables / new \r\nName : JAVA_HOME\r\nValue: C:\\Program Files\\Java\\jdk-11.0.1\r\nBut I do not know is it necessary. \r\n","title":"Unable to locate tools.jar","body":"<p>I have downloaded tools.jar and after that I copied it into path in error message.</p>\n\n<p>C:\\Program Files\\Java\\jdk-11.0.1\\bin > paste here tools.jar</p>\n\n<p>After that I have restarted Spring Tool Suit 4 and everything was working.\nWhen I was trying to fix that problem I have made new environmental variable:\nControl Panel / System / Advenced / Environmental variables / new \nName : JAVA_HOME\nValue: C:\\Program Files\\Java\\jdk-11.0.1\nBut I do not know is it necessary. </p>\n"},{"tags":[],"owner":{"account_id":3963498,"reputation":1926,"user_id":3270066,"display_name":"pagurix"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1548947650,"creation_date":1548947650,"answer_id":54463658,"question_id":5730815,"body_markdown":"maybe you have updated the JREs in the OS, and the addition has added in the &quot;path&quot; of the environment variables an entry &quot;.../Oracle/jer&quot; that overwrites your JAVA_HOME.\r\ntry to remove it from the &quot;path&quot; by leaving JAVA_HOME.","title":"Unable to locate tools.jar","body":"<p>maybe you have updated the JREs in the OS, and the addition has added in the \"path\" of the environment variables an entry \".../Oracle/jer\" that overwrites your JAVA_HOME.\ntry to remove it from the \"path\" by leaving JAVA_HOME.</p>\n"},{"tags":[],"owner":{"account_id":15572692,"reputation":51,"user_id":11234641,"display_name":"alt440"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1554238314,"creation_date":1554238314,"answer_id":55483386,"question_id":5730815,"body_markdown":"As many people mentioned, it looks like you are looking in your JRE instead of the JDK for the tools.jar file.\r\n\r\nI would also like to mention that on recent versions of the JDK, there is no more tools.jar file. I downloaded the most recent JDK as of today (JDK version 12) and I could not find any tools.jar. I had to download JDK version 8 (1.8.0) here https://www.oracle.com/technetwork/java/javase/downloads/jdk8-downloads-2133151.html to get the tools.jar file. I downloaded that version, took the tools.jar file and put it into my recent version&#39;s lib folder.","title":"Unable to locate tools.jar","body":"<p>As many people mentioned, it looks like you are looking in your JRE instead of the JDK for the tools.jar file.</p>\n\n<p>I would also like to mention that on recent versions of the JDK, there is no more tools.jar file. I downloaded the most recent JDK as of today (JDK version 12) and I could not find any tools.jar. I had to download JDK version 8 (1.8.0) here <a href=\"https://www.oracle.com/technetwork/java/javase/downloads/jdk8-downloads-2133151.html\" rel=\"nofollow noreferrer\">https://www.oracle.com/technetwork/java/javase/downloads/jdk8-downloads-2133151.html</a> to get the tools.jar file. I downloaded that version, took the tools.jar file and put it into my recent version's lib folder.</p>\n"},{"tags":[],"owner":{"account_id":17242216,"reputation":1,"user_id":12484231,"display_name":"fiaz"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1575537616,"creation_date":1575535430,"answer_id":59191227,"question_id":5730815,"body_markdown":"I have resolved tool.jar file error recently. I am using eclipse oxygen ide. It works perfectly and easy. Repeat these steps on your system as\r\n\r\n 1. Download tool.jar file according to your jre jdk version. Lets suppose tool.jar file is 1.8.0.tool.jar\r\n\r\n 2. After donwload 1.8 .0 tool.jar file rename is as as tool.jar\r\n\r\n 3. Then go to your jdk installation folder\r\n\r\n 4. Then go to lib folder open it\r\n\r\n 5. And paste here \r\n\r\n 6. You will make this type path. `E:\\jdk 8\\lib\\tools.jar`","title":"Unable to locate tools.jar","body":"<p>I have resolved tool.jar file error recently. I am using eclipse oxygen ide. It works perfectly and easy. Repeat these steps on your system as</p>\n\n<ol>\n<li><p>Download tool.jar file according to your jre jdk version. Lets suppose tool.jar file is 1.8.0.tool.jar</p></li>\n<li><p>After donwload 1.8 .0 tool.jar file rename is as as tool.jar</p></li>\n<li><p>Then go to your jdk installation folder</p></li>\n<li><p>Then go to lib folder open it</p></li>\n<li><p>And paste here </p></li>\n<li><p>You will make this type path. <code>E:\\jdk 8\\lib\\tools.jar</code></p></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":792365,"reputation":432,"user_id":909812,"display_name":"GarethPN"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1576150898,"creation_date":1576150898,"answer_id":59303804,"question_id":5730815,"body_markdown":"Incase it helps, the problem for me was that I had 2 entries in my PATH environment variable which pointed to a location containing the javaw executable.\r\n\r\nI cleaned up the variable to make sure that &quot;%JAVA_HOME%\\bin&quot; was the only entry referencing a location containing my java executables.","title":"Unable to locate tools.jar","body":"<p>Incase it helps, the problem for me was that I had 2 entries in my PATH environment variable which pointed to a location containing the javaw executable.</p>\n\n<p>I cleaned up the variable to make sure that \"%JAVA_HOME%\\bin\" was the only entry referencing a location containing my java executables.</p>\n"},{"tags":[],"owner":{"account_id":940012,"reputation":21855,"user_id":968244,"accept_rate":58,"display_name":"isapir"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1597592724,"creation_date":1597592724,"answer_id":63438859,"question_id":5730815,"body_markdown":"This happens when the Environment Variable JAVA_HOME is not set, or points to the wrong directory.  You can see the value that Ant has by running the command:\r\n\r\n    ant -diagnostics\r\n\r\nAnd looking for the line that shows `java.home`.  If you have `grep` installed then you can simple run:\r\n\r\n    ant -diagnostics | grep java.home\r\n\r\nTo fix the issue, set the `JAVA_HOME` Environment Variable to the JDK directory.  While setting the variable differs slightly between *nix and Windows, the rest works the same on all operating systems.  So it doesn&#39;t matter if you use the GUI that Windows provides, or the `set` or `setx` commands, as long as the value is set prior to calling `ant` (if you&#39;ve set it globally then it must exist before you open the shell/terminal window).\r\n\r\nAfter setting `JAVA_HOME` you can run `ant -version`, for example, and get the result, e.g.\r\n\r\n&gt; Apache Ant(TM) version 1.10.8 compiled on May 10 2020","title":"Unable to locate tools.jar","body":"<p>This happens when the Environment Variable JAVA_HOME is not set, or points to the wrong directory.  You can see the value that Ant has by running the command:</p>\n<pre><code>ant -diagnostics\n</code></pre>\n<p>And looking for the line that shows <code>java.home</code>.  If you have <code>grep</code> installed then you can simple run:</p>\n<pre><code>ant -diagnostics | grep java.home\n</code></pre>\n<p>To fix the issue, set the <code>JAVA_HOME</code> Environment Variable to the JDK directory.  While setting the variable differs slightly between *nix and Windows, the rest works the same on all operating systems.  So it doesn't matter if you use the GUI that Windows provides, or the <code>set</code> or <code>setx</code> commands, as long as the value is set prior to calling <code>ant</code> (if you've set it globally then it must exist before you open the shell/terminal window).</p>\n<p>After setting <code>JAVA_HOME</code> you can run <code>ant -version</code>, for example, and get the result, e.g.</p>\n<blockquote>\n<p>Apache Ant(TM) version 1.10.8 compiled on May 10 2020</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":14506555,"reputation":1,"user_id":11078487,"display_name":"Arslan ahsan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1603627117,"creation_date":1603627117,"answer_id":64523415,"question_id":5730815,"body_markdown":"Step1 Check your jdk is installed. and variable path is setted.\r\nStep2 unistall your eclipes and reinstall it. other wise It will continue to be a problem","title":"Unable to locate tools.jar","body":"<p>Step1 Check your jdk is installed. and variable path is setted.\nStep2 unistall your eclipes and reinstall it. other wise It will continue to be a problem</p>\n"},{"tags":[],"owner":{"account_id":1592325,"reputation":654,"user_id":1475378,"display_name":"Uyric"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1625860377,"creation_date":1625860377,"answer_id":68322101,"question_id":5730815,"body_markdown":"It&#39;s worth observing that tools.jar has been removed from the JDK since Java 9. https://docs.oracle.com/javase/9/migrate/toc.htm#JSMIG-GUID-055EA9F4-835E-463F-B9E1-9081B3D9E55D\r\n\r\nIf people are facing this issue compiling a Java program with JDK 9+, you may need to review the dependencies of your projects.\r\n\r\nIn my case, I was trying to compile a project using AspectJ and the Maven plugin `org.codehaus.mojo:aspectj-maven-plugin:1.11`. After searching online, I found an alternative that supports Java 9+: `dev.aspectj:aspectj-maven-plugin:1.13.M3`.","title":"Unable to locate tools.jar","body":"<p>It's worth observing that tools.jar has been removed from the JDK since Java 9. <a href=\"https://docs.oracle.com/javase/9/migrate/toc.htm#JSMIG-GUID-055EA9F4-835E-463F-B9E1-9081B3D9E55D\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/9/migrate/toc.htm#JSMIG-GUID-055EA9F4-835E-463F-B9E1-9081B3D9E55D</a></p>\n<p>If people are facing this issue compiling a Java program with JDK 9+, you may need to review the dependencies of your projects.</p>\n<p>In my case, I was trying to compile a project using AspectJ and the Maven plugin <code>org.codehaus.mojo:aspectj-maven-plugin:1.11</code>. After searching online, I found an alternative that supports Java 9+: <code>dev.aspectj:aspectj-maven-plugin:1.13.M3</code>.</p>\n"},{"tags":[],"owner":{"account_id":8374951,"reputation":1,"user_id":6288708,"display_name":"ramakrishna reddy kamasani"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670111017,"creation_date":1670111017,"answer_id":74671721,"question_id":5730815,"body_markdown":"The latest versions of Java do not have tools.jar in the lib folder. Remove tools.jar entry in environment variables and retry it.","title":"Unable to locate tools.jar","body":"<p>The latest versions of Java do not have tools.jar in the lib folder. Remove tools.jar entry in environment variables and retry it.</p>\n"},{"tags":[],"owner":{"account_id":28906834,"reputation":1,"user_id":22140698,"display_name":"Jose Lira"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687883663,"creation_date":1687883663,"answer_id":76566937,"question_id":5730815,"body_markdown":"I am using java openjdk 12 with Eclipse IDE (Version: 2022-06 (4.24.0)\r\nBuild id: 20220609-1112) and I placed the tools.jar under the lib folder (C:\\Program Files\\OpenJDK\\jdk-12.0.2\\lib) and pom.xml file had it as a dependency for sun tools:\r\n\r\n    &lt;!-- https://mvnrepository.com/artifact/com.sun/tools --&gt;\r\n        &lt;dependency&gt;\r\n           &lt;groupId&gt;com.sun&lt;/groupId&gt;\r\n           &lt;artifactId&gt;tools&lt;/artifactId&gt;\r\n           &lt;version&gt;1.5.0&lt;/version&gt;\r\n           &lt;scope&gt;system&lt;/scope&gt;\r\n           &lt;systemPath&gt;C:\\Program Files\\OpenJDK\\jdk-12.0.2\\lib\\tools.jar&lt;/systemPath&gt;\r\n        &lt;/dependency&gt;\r\n\r\nThis works in jdk 8 and 12, but I will recreate the project without this dependency in my next release version since this maven project was created back in 2018.","title":"Unable to locate tools.jar","body":"<p>I am using java openjdk 12 with Eclipse IDE (Version: 2022-06 (4.24.0)\nBuild id: 20220609-1112) and I placed the tools.jar under the lib folder (C:\\Program Files\\OpenJDK\\jdk-12.0.2\\lib) and pom.xml file had it as a dependency for sun tools:</p>\n<pre><code>&lt;!-- https://mvnrepository.com/artifact/com.sun/tools --&gt;\n    &lt;dependency&gt;\n       &lt;groupId&gt;com.sun&lt;/groupId&gt;\n       &lt;artifactId&gt;tools&lt;/artifactId&gt;\n       &lt;version&gt;1.5.0&lt;/version&gt;\n       &lt;scope&gt;system&lt;/scope&gt;\n       &lt;systemPath&gt;C:\\Program Files\\OpenJDK\\jdk-12.0.2\\lib\\tools.jar&lt;/systemPath&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>This works in jdk 8 and 12, but I will recreate the project without this dependency in my next release version since this maven project was created back in 2018.</p>\n"}],"owner":{"account_id":180086,"reputation":20228,"user_id":413174,"accept_rate":87,"display_name":"olidev"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":396888,"favorite_count":0,"down_vote_count":0,"up_vote_count":198,"accepted_answer_id":5730851,"answer_count":36,"score":198,"last_activity_date":1687883663,"creation_date":1303304840,"question_id":5730815,"body_markdown":"I am building a project in Java. \r\n\r\nI have this error:\r\n\r\n&lt;!-- language: lang-none --&gt;\r\n\r\n    Unable to locate tools.jar. Expected to find it in C:\\Program Files\\Java\\jre6\\lib\\tools.jar\r\n\r\nI have installed a JDK and the folder: `C:\\Program Files\\Java\\jre6\\lib` is in my system but the file `tools.jar` is not there.\r\n","title":"Unable to locate tools.jar","body":"<p>I am building a project in Java. </p>\n\n<p>I have this error:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>Unable to locate tools.jar. Expected to find it in C:\\Program Files\\Java\\jre6\\lib\\tools.jar\n</code></pre>\n\n<p>I have installed a JDK and the folder: <code>C:\\Program Files\\Java\\jre6\\lib</code> is in my system but the file <code>tools.jar</code> is not there.</p>\n"},{"tags":["java","hibernate","spring-mvc"],"answers":[{"comments":[{"owner":{"account_id":2624585,"reputation":1457,"user_id":2271895,"accept_rate":97,"display_name":"Tan"},"score":0,"creation_date":1687883897,"post_id":76563006,"comment_id":134998205,"body_markdown":"Hi, The code I&#39;m working with is not using annotations so I&#39;m trying to not use it. But I have a bean defined (I&#39;ve updated my code) in servlet.xml which refers to `setCompanyManager` method. I&#39;ve corrected the name of the method as well. The save() works perfectly fine but I&#39;m only having issues with saveOrUpdate() when I&#39;m trying to create a new record. It should work like save() in this case.","body":"Hi, The code I&#39;m working with is not using annotations so I&#39;m trying to not use it. But I have a bean defined (I&#39;ve updated my code) in servlet.xml which refers to <code>setCompanyManager</code> method. I&#39;ve corrected the name of the method as well. The save() works perfectly fine but I&#39;m only having issues with saveOrUpdate() when I&#39;m trying to create a new record. It should work like save() in this case."}],"tags":[],"owner":{"account_id":10827831,"reputation":143,"user_id":7963227,"display_name":"Sametcey"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687854553,"creation_date":1687854553,"answer_id":76563006,"question_id":76561116,"body_markdown":"Hi in your RestController you have this code:\r\n\r\n    private CompanyManager mgr;\r\n    \r\n        public void setUserManager(CompanyManager companyManager) {\r\n            this.mgr = companyManager;\r\n        }\r\n\r\nBUT CompanyManager mgr are not decalred in this way!\r\n\r\nyou must set `@Autowired`\r\n\r\n    private CompanyManager mgr;\r\n\r\n        @Autowired\r\n        public void setUserManager(CompanyManager companyManager) {\r\n            this.mgr = companyManager;\r\n        }\r\n\r\n\r\nAnd your CompanyManager must be Tagged with @Service\r\n\r\n**Be carefull, if it is possible you can also solve this problem with JPA / JPQL.** it will be much easer for you - you dont need to write to much code.","title":"Getting NullPointerException only after using saveOrUpdate method of Hibernate","body":"<p>Hi in your RestController you have this code:</p>\n<pre><code>private CompanyManager mgr;\n\n    public void setUserManager(CompanyManager companyManager) {\n        this.mgr = companyManager;\n    }\n</code></pre>\n<p>BUT CompanyManager mgr are not decalred in this way!</p>\n<p>you must set <code>@Autowired</code></p>\n<pre><code>private CompanyManager mgr;\n\n    @Autowired\n    public void setUserManager(CompanyManager companyManager) {\n        this.mgr = companyManager;\n    }\n</code></pre>\n<p>And your CompanyManager must be Tagged with @Service</p>\n<p><strong>Be carefull, if it is possible you can also solve this problem with JPA / JPQL.</strong> it will be much easer for you - you dont need to write to much code.</p>\n"}],"owner":{"account_id":2624585,"reputation":1457,"user_id":2271895,"accept_rate":97,"display_name":"Tan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":74,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1687883603,"creation_date":1687829693,"question_id":76561116,"body_markdown":"I have a controller defined like this and getting a NullPointerException Cannot invoke &quot;java.lang.Integer.intValue()&quot; because &quot;this.id&quot; is null (full stack trace shown in the end) \r\nonly when I&#39;m using `saveOrUpdate` method of Hibernate in `CompanyDAOHibernate`. It works fine when I just use `save()` method of hibernate. What might be the reason? \r\n\r\n*Here&#39;s the error in short:*\r\n\r\n    org.springframework.orm.hibernate5.HibernateSystemException: Exception occurred inside getter of com.pending.model.Company.id; nested exception is org.hibernate.PropertyAccessException: Exception occurred inside getter of com.pending.model.Company.id\r\n    Caused by: org.hibernate.PropertyAccessException: Exception occurred inside getter of com.pending.model.Company.id\r\n    Caused by: java.lang.reflect.InvocationTargetException\r\n    Caused by: java.lang.NullPointerException: Cannot invoke &quot;java.lang.Integer.intValue()&quot; because &quot;this.id&quot; is null\r\n\r\n**Controller Code** below:\r\n\r\n    @Controller\r\n    @RequestMapping(&quot;/companyNewRecord&quot;)\r\n    public class CompanyNewRecordController {\r\n    \r\n    \tprivate CompanyManager mgr;\r\n    \r\n    \tpublic void setCompanyManager(CompanyManager companyManager) {\r\n    \t\tthis.mgr = companyManager;\r\n    \t}\r\n    \r\n    \t// display the form\r\n    \t@RequestMapping(method = RequestMethod.GET)\r\n    \tpublic ModelAndView edit(ModelAndView mav) {\r\n    \r\n    \t\tmav.setViewName(&quot;companyNewRecord&quot;);\r\n    \t\tmav.addObject(&quot;CompanyNewRecordForm&quot;, new CompanyNewRecordForm());\r\n    \t\treturn mav;\r\n    \t}\r\n    \r\n    \t// process the form\r\n    \t@RequestMapping(method = RequestMethod.POST)\r\n    \tpublic ModelAndView process(ModelAndView mav,\r\n    \t\t\t@ModelAttribute(&quot;CompanyNewRecordForm&quot;) CompanyNewRecordForm CompanyNewRecordForm, BindingResult result)\r\n    \t\t\tthrows Exception {\r\n    \r\n    \t\tCompany addNewCompany = new Company();\r\n            addNewCompany.setName(CompanyNewRecordForm.getCompanyName());\r\n    \t\taddNewCompany.setComment(CompanyNewRecordForm.getComment());\r\n    \t\tmgr.saveCompany(addNewCompany);\r\n    \t\treturn mav;\r\n    \t}\r\n    \r\n    }\r\n\r\nHere&#39;s my `Company` class inside `com.pending.model`:\r\n\r\n    public class Company implements Serializable{\r\n    \t\r\n    \t\t\r\n    \t\tprivate Integer id;\r\n            private String name;\r\n            private String comment;\r\n    \t\tpublic Integer getId() {\r\n    \t\t\treturn id;\r\n    \t\t}\r\n    \t\tpublic void setId(Integer id) {\r\n    \t\t\tthis.id = id;\r\n    \t\t}\r\n    \t\tpublic String getName() {\r\n    \t\t\treturn name;\r\n    \t\t}\r\n    \t\tpublic void setName(String name) {\r\n    \t\t\tthis.name = name;\r\n    \t\t}\r\n    \t\tpublic String getComment() {\r\n    \t\t\treturn comment;\r\n    \t\t}\r\n    \t\tpublic void setComment(String comment) {\r\n    \t\t\tthis.comment = comment;\r\n    \t\t}\r\n    \r\n    \t\t\r\n    }\r\n\r\nMy `Company.hbm.xml` file is also inside `com.pending.model`\r\n\r\n`CompanyManager` interface inside `com.pending.service` is as follows:\r\n\r\n    public interface CompanyManager {\r\n    \tpublic void setCompanyDAO(CompanyDAO dao);\r\n    \tpublic Company getCompany(Integer id);\t\r\n    \tpublic void saveCompany(Company company);\r\n    }\r\n\r\n\r\n`CompanyDAO` inside `com.pending.dao`\r\n\r\n    public interface CompanyDAO {\r\n    \r\n    \tpublic Company getCompany(Integer id);\r\n    \tpublic Company saveCompany(Company company);\r\n    \r\n    }\r\n\r\n\r\n`CompanyDaoHibernate` in `com.pending.dao.hibernate`\r\n\r\npublic class CompanyDAOHibernate extends HibernateDaoSupport implements CompanyDAO {\r\n\r\n\t@Override\r\n\tpublic Company saveCompany(Company company) {\r\n\t\tgetHibernateTemplate().saveOrUpdate(company);\r\n\r\n\t\tif (logger.isDebugEnabled()) {\r\n\t\t\tlogger.debug(&quot;Company id is: &quot; + company.getId());\r\n\t\t}\r\n\t\treturn company;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic Company getCompany(Integer id) {\r\n\t\tCompany company = (Company) getHibernateTemplate().get(Company.class, id);\r\n\t\tif (company == null) {\r\n\t\t\tthrow new ObjectRetrievalFailureException(Company.class, id);\r\n\t\t}\r\n\t\treturn company;\r\n\t}\r\n\r\n`CompanyManagerImpl` in `com.pending.service.impl` \r\n\r\n\r\n     public class CompanyManagerImpl implements CompanyManager {\r\n    \tprivate CompanyDAO dao;\r\n    \r\n    \tpublic void setCompanyDAO(CompanyDAO dao) {\r\n    \t\tthis.dao = dao;\r\n    \r\n    \t}\r\n    \r\n    \tpublic void saveCompany(Company company) {\r\n    \t\tdao.saveCompany(company);\r\n    \r\n    \t}\r\n    \r\n    \tpublic Company getCompany(Integer id) {\r\n    \r\n    \t\treturn dao.getCompany(id);\r\n    \t}\r\n    \r\n    }\r\n\r\n\r\nThe XML file is defined inside applicationContext-hibernate.xml as follows along with other xml files (not shown below)\r\n\r\n\r\n    &lt;bean id=&quot;sessionFactoryCOMPANYDB&quot;\r\n    \t\tclass=&quot;org.springframework.orm.hibernate5.LocalSessionFactoryBean&quot;&gt;\r\n    \t\t&lt;property name=&quot;dataSource&quot;&gt;\r\n    \t\t\t&lt;ref bean=&quot;dataSourceCOMPANYDB&quot; /&gt;\r\n    \t\t&lt;/property&gt;\r\n    \t\t&lt;property name=&quot;mappingResources&quot;&gt;\r\n    \t\t\t&lt;list&gt;\r\n    \t\t\t\t\r\n    \t\t\t\t&lt;value&gt;com/pending/model/Company.hbm.xml&lt;/value&gt;\r\n    \t\t\t&lt;/list&gt;\r\n    \t\t&lt;/property&gt;\r\n    \t\t&lt;property name=&quot;hibernateProperties&quot;&gt;\r\n    \t\t\t&lt;props&gt;\r\n    \t\t\t\t&lt;prop key=&quot;hibernate.dialect&quot;&gt;\r\n    \t\t\t\t\torg.hibernate.dialect.SQLServer2012Dialect\r\n    \t\t\t\t&lt;/prop&gt;\r\n    \t\t\t\t&lt;prop key=&quot;hibernate.show_sql&quot;&gt;false&lt;/prop&gt;\r\n    \t\t\t\t&lt;prop key=&quot;hibernate.cache.region.factory_class&quot;&gt;org.hibernate.cache.ehcache.SingletonEhCacheRegionFactory\r\n    \t\t\t\t&lt;/prop&gt;\r\n    \t\t\t\t&lt;prop key=&quot;hibernate.cache.use_second_level_cache&quot;&gt;true&lt;/prop&gt;\r\n    \t\t\t&lt;/props&gt;\r\n    \t\t&lt;/property&gt;\r\n    \t&lt;/bean&gt;\r\n\r\nAnd applicationContex.xml contains the following bean :\r\n\r\n    &lt;bean id=&quot;companyManager&quot; parent=&quot;txProxyTemplateCOMPANYDB&quot;&gt;\r\n    \t\t&lt;property name=&quot;target&quot;&gt;\r\n    \t\t\t&lt;bean class=&quot;com.pending.service.impl.CompanyManagerImpl&quot;&gt;\r\n    \t\t\t\t&lt;property name=&quot;companyDAO&quot;&gt;\r\n    \t\t\t\t\t&lt;ref bean=&quot;companyDAO&quot; /&gt;\r\n    \t\t\t\t&lt;/property&gt;\r\n    \t\t\t&lt;/bean&gt;\r\n    \t\t&lt;/property&gt;\r\n    \t&lt;/bean&gt;\r\n\r\n\t\r\n\r\nMy SQLServer database table design is as follows:\r\n\r\n    Column Name    Data type   Allow Nuls\r\n    id              int        \r\n    name            varchar(30)\r\n    comment         varchar(250)    checkmarked\r\n    \t\r\n\r\nWhere, id is set to primary key\tand is autoincremented when an insertion happens.\r\n\r\nHere&#39;s `Company.hbm.xml`\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;!DOCTYPE hibernate-mapping PUBLIC\r\n    &quot;-//Hibernate/Hibernate Mapping DTD 3.0//EN&quot;\r\n    &quot;http://www.hibernate.org/dtd/hibernate-mapping-3.0.dtd&quot;&gt;\r\n    &lt;hibernate-mapping&gt;\r\n    &lt;class name=&quot;com.pending.model.Company&quot; table=&quot;company&quot;&gt;\r\n    &lt;id name=&quot;id&quot; column=&quot;id&quot; unsaved-value=&quot;null&quot;&gt;\r\n    &lt;generator class=&quot;native&quot; /&gt;\r\n    &lt;/id&gt;\r\n    &lt;property name=&quot;name&quot; /&gt;\r\n    &lt;property name=&quot;comment&quot; /&gt;\r\n    &lt;/class&gt;\r\n    &lt;/hibernate-mapping&gt;\r\n\r\nMy `servlet.xml` has this defined:\r\n\r\n    &lt;bean id=&quot;companyNewRecordController&quot;\r\n    class=&quot;com.pending.controller.CompanyNewRecordController&quot;&gt;\r\n        &lt;property name=&quot;companyManager&quot;&gt;\r\n             &lt;ref bean=&quot;companyManager&quot; /&gt;\r\n         &lt;/property&gt;\r\n    &lt;/bean&gt;\r\n    \t\r\n\r\nHere is the stacktrace:\r\n\r\n        \r\n    [INFO] [talledLocalContainer] org.springframework.orm.hibernate5.HibernateSystemException: Exception occurred inside getter of com.pending.model.Company.id; nested exception is org.hibernate.PropertyAccessException: Exception occurred inside getter of com.pending.model.Company.id\r\n    [INFO] [talledLocalContainer]   at org.springframework.orm.hibernate5.SessionFactoryUtils.convertHibernateAccessException(SessionFactoryUtils.java:267)\r\n    [INFO] [talledLocalContainer]   at org.springframework.orm.hibernate5.HibernateTemplate.doExecute(HibernateTemplate.java:370)\r\n    [INFO] [talledLocalContainer]   at org.springframework.orm.hibernate5.HibernateTemplate.executeWithNativeSession(HibernateTemplate.java:334)\r\n    [INFO] [talledLocalContainer]   at org.springframework.orm.hibernate5.HibernateTemplate.saveOrUpdate(HibernateTemplate.java:665)\r\n    [INFO] [talledLocalContainer]   at com.pending.dao.hibernate.CompanyDAOHibernate.saveCompany(CompanyDAOHibernate.java:13)\r\n    [INFO] [talledLocalContainer]   at com.pending.service.impl.CompanyManagerImpl.saveCompany(CompanyManagerImpl.java:16)\r\n    [INFO] [talledLocalContainer]   at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    [INFO] [talledLocalContainer]   at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n    [INFO] [talledLocalContainer]   at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    [INFO] [talledLocalContainer]   at java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n    [INFO] [talledLocalContainer]   at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344)\r\n    [INFO] [talledLocalContainer]   at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:198)\r\n    [INFO] [talledLocalContainer]   at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\r\n    [INFO] [talledLocalContainer]   at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)\r\n    [INFO] [talledLocalContainer]   at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388)\r\n    [INFO] [talledLocalContainer]   at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)\r\n    [INFO] [talledLocalContainer]   at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n    [INFO] [talledLocalContainer]   at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215)\r\n    [INFO] [talledLocalContainer]   at jdk.proxy3/jdk.proxy3.$Proxy64.saveCompany(Unknown Source)\r\n    [INFO] [talledLocalContainer]   at com.pending.web.controller.SampleNewCompanyController.process(SampleNewCompanyController.java:59)\r\n    [INFO] [talledLocalContainer]   at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    [INFO] [talledLocalContainer]   at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n    [INFO] [talledLocalContainer]   at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    [INFO] [talledLocalContainer]   at java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n    [INFO] [talledLocalContainer]   at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)\r\n    [INFO] [talledLocalContainer]   at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)\r\n    [INFO] [talledLocalContainer]   at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)\r\n    [INFO] [talledLocalContainer]   at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)\r\n    [INFO] [talledLocalContainer]   at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)\r\n    [INFO] [talledLocalContainer]   at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\r\n    [INFO] [talledLocalContainer]   at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1067)\r\n    [INFO] [talledLocalContainer]   at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963)\r\n    [INFO] [talledLocalContainer]   at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)\r\n    [INFO] [talledLocalContainer]   at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)\r\n    [INFO] [talledLocalContainer]   at javax.servlet.http.HttpServlet.service(HttpServlet.java:681)\r\n    [INFO] [talledLocalContainer]   at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)\r\n    [INFO] [talledLocalContainer]   at javax.servlet.http.HttpServlet.service(HttpServlet.java:764)\r\n    [INFO] [talledLocalContainer]   at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227)\r\n    [INFO] [talledLocalContainer]   at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n    [INFO] [talledLocalContainer]   at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\r\n    [INFO] [talledLocalContainer]   at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n    [INFO] [talledLocalContainer]   at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n    [INFO] [talledLocalContainer]   at com.security.PasswordExpirationFilter.doFilter(PasswordExpirationFilter.java:201)\r\n    [INFO] [talledLocalContainer]   at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n    [INFO] [talledLocalContainer]   at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n    [INFO] [talledLocalContainer]   at org.sitemesh.webapp.contentfilter.ContentBufferingFilter.bufferAndPostProcess(ContentBufferingFilter.java:169)\r\n    [INFO] [talledLocalContainer]   at org.sitemesh.webapp.contentfilter.ContentBufferingFilter.doFilter(ContentBufferingFilter.java:126)\r\n    [INFO] [talledLocalContainer]   at org.sitemesh.webapp.SiteMeshFilter.doFilter(SiteMeshFilter.java:120)\r\n    [INFO] [talledLocalContainer]   at org.sitemesh.config.ConfigurableSiteMeshFilter.doFilter(ConfigurableSiteMeshFilter.java:163)\r\n    [INFO] [talledLocalContainer]   at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n    [INFO] [talledLocalContainer]   at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n    [INFO] [talledLocalContainer]   at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\r\n    [INFO] [talledLocalContainer]   at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\r\n    [INFO] [talledLocalContainer]   at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n    [INFO] [talledLocalContainer]   at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n    [INFO] [talledLocalContainer]   at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:327)\r\n    [INFO] [talledLocalContainer]   at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115)\r\n    [INFO] [talledLocalContainer]   at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81)\r\n    [INFO] [talledLocalContainer]   at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\r\n    [INFO] [talledLocalContainer]   at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:122)\r\n    [INFO] [talledLocalContainer]   at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:116)\r\n    [INFO] [talledLocalContainer]   at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\r\n    [INFO] [talledLocalContainer]   at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126)\r\n    [INFO] [talledLocalContainer]   at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81)\r\n    [INFO] [talledLocalContainer]   at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\r\n    [INFO] [talledLocalContainer]   at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:109)\r\n    [INFO] [talledLocalContainer]   at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\r\n    [INFO] [talledLocalContainer]   at org.springframework.security.web.authentication.rememberme.RememberMeAuthenticationFilter.doFilter(RememberMeAuthenticationFilter.java:106)\r\n    [INFO] [talledLocalContainer]   at org.springframework.security.web.authentication.rememberme.RememberMeAuthenticationFilter.doFilter(RememberMeAuthenticationFilter.java:97)\r\n    [INFO] [talledLocalContainer]   at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\r\n    [INFO] [talledLocalContainer]   at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149)\r\n    [INFO] [talledLocalContainer]   at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\r\n    [INFO] [talledLocalContainer]   at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)\r\n    [INFO] [talledLocalContainer]   at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\r\n    [INFO] [talledLocalContainer]   at org.springframework.security.web.authentication.www.BasicAuthenticationFilter.doFilterInternal(BasicAuthenticationFilter.java:166)\r\n    [INFO] [talledLocalContainer]   at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\r\n    [INFO] [talledLocalContainer]   at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\r\n    [INFO] [talledLocalContainer]   at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:223)\r\n    [INFO] [talledLocalContainer]   at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:217)\r\n    [INFO] [talledLocalContainer]   at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\r\n    [INFO] [talledLocalContainer]   at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103)\r\n    [INFO] [talledLocalContainer]   at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89)\r\n    [INFO] [talledLocalContainer]   at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\r\n    [INFO] [talledLocalContainer]   at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)\r\n    [INFO] [talledLocalContainer]   at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)\r\n    [INFO] [talledLocalContainer]   at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\r\n    [INFO] [talledLocalContainer]   at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\r\n    [INFO] [talledLocalContainer]   at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55)\r\n    [INFO] [talledLocalContainer]   at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\r\n    [INFO] [talledLocalContainer]   at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\r\n    [INFO] [talledLocalContainer]   at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:112)\r\n    [INFO] [talledLocalContainer]   at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:82)\r\n    [INFO] [talledLocalContainer]   at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\r\n    [INFO] [talledLocalContainer]   at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)\r\n    [INFO] [talledLocalContainer]   at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\r\n    [INFO] [talledLocalContainer]   at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\r\n    [INFO] [talledLocalContainer]   at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:211)\r\n    [INFO] [talledLocalContainer]   at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:183)\r\n    [INFO] [talledLocalContainer]   at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354)\r\n    [INFO] [talledLocalContainer]   at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267)\r\n    [INFO] [talledLocalContainer]   at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n    [INFO] [talledLocalContainer]   at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n    [INFO] [talledLocalContainer]   at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197)\r\n    [INFO] [talledLocalContainer]   at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)\r\n    [INFO] [talledLocalContainer]   at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)\r\n    [INFO] [talledLocalContainer]   at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)\r\n    [INFO] [talledLocalContainer]   at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\r\n    [INFO] [talledLocalContainer]   at org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:687)\r\n    [INFO] [talledLocalContainer]   at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)\r\n    [INFO] [talledLocalContainer]   at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360)\r\n    [INFO] [talledLocalContainer]   at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)\r\n    [INFO] [talledLocalContainer]   at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\r\n    [INFO] [talledLocalContainer]   at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:890)\r\n    [INFO] [talledLocalContainer]   at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1789)\r\n    [INFO] [talledLocalContainer]   at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\r\n    [INFO] [talledLocalContainer]   at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\r\n    [INFO] [talledLocalContainer]   at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\r\n    [INFO] [talledLocalContainer]   at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n    [INFO] [talledLocalContainer]   at java.base/java.lang.Thread.run(Thread.java:833)\r\n    [INFO] [talledLocalContainer] Caused by: org.hibernate.PropertyAccessException: Exception occurred inside getter of com.pending.model.Company.id\r\n    [INFO] [talledLocalContainer]   at org.hibernate.property.access.spi.GetterMethodImpl.get(GetterMethodImpl.java:45)\r\n    [INFO] [talledLocalContainer]   at org.hibernate.tuple.entity.AbstractEntityTuplizer.getIdentifier(AbstractEntityTuplizer.java:230)\r\n    [INFO] [talledLocalContainer]   at org.hibernate.persister.entity.AbstractEntityPersister.getIdentifier(AbstractEntityPersister.java:5280)\r\n    [INFO] [talledLocalContainer]   at org.hibernate.persister.entity.AbstractEntityPersister.isTransient(AbstractEntityPersister.java:4972)\r\n    [INFO] [talledLocalContainer]   at org.hibernate.engine.internal.ForeignKeys.isTransient(ForeignKeys.java:294)\r\n    [INFO] [talledLocalContainer]   at org.hibernate.event.internal.EntityState.getEntityState(EntityState.java:59)\r\n    [INFO] [talledLocalContainer]   at org.hibernate.event.internal.DefaultSaveOrUpdateEventListener.performSaveOrUpdate(DefaultSaveOrUpdateEventListener.java:85)\r\n    [INFO] [talledLocalContainer]   at org.hibernate.event.internal.DefaultSaveOrUpdateEventListener.onSaveOrUpdate(DefaultSaveOrUpdateEventListener.java:75)\r\n    [INFO] [talledLocalContainer]   at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:107)\r\n    [INFO] [talledLocalContainer]   at org.hibernate.internal.SessionImpl.fireSaveOrUpdate(SessionImpl.java:656)\r\n    [INFO] [talledLocalContainer]   at org.hibernate.internal.SessionImpl.saveOrUpdate(SessionImpl.java:649)\r\n    [INFO] [talledLocalContainer]   at org.hibernate.internal.SessionImpl.saveOrUpdate(SessionImpl.java:644)\r\n    [INFO] [talledLocalContainer]   at org.springframework.orm.hibernate5.HibernateTemplate.lambda$saveOrUpdate$15(HibernateTemplate.java:667)\r\n    [INFO] [talledLocalContainer]   at org.springframework.orm.hibernate5.HibernateTemplate.doExecute(HibernateTemplate.java:367)\r\n    [INFO] [talledLocalContainer]   ... 117 more\r\n    [INFO] [talledLocalContainer] Caused by: java.lang.reflect.InvocationTargetException\r\n    [INFO] [talledLocalContainer]   at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    [INFO] [talledLocalContainer]   at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n    [INFO] [talledLocalContainer]   at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    [INFO] [talledLocalContainer]   at java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n    [INFO] [talledLocalContainer]   at org.hibernate.property.access.spi.GetterMethodImpl.get(GetterMethodImpl.java:42)\r\n    [INFO] [talledLocalContainer]   ... 130 more\r\n    [INFO] [talledLocalContainer] Caused by: java.lang.NullPointerException: Cannot invoke &quot;java.lang.Integer.intValue()&quot; because &quot;this.id&quot; is null\r\n    [INFO] [talledLocalContainer]   at com.pending.model.Company.getId(Company.java:14)\r\n    [INFO] [talledLocalContainer]   ... 135 more\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"Getting NullPointerException only after using saveOrUpdate method of Hibernate","body":"<p>I have a controller defined like this and getting a NullPointerException Cannot invoke &quot;java.lang.Integer.intValue()&quot; because &quot;this.id&quot; is null (full stack trace shown in the end)\nonly when I'm using <code>saveOrUpdate</code> method of Hibernate in <code>CompanyDAOHibernate</code>. It works fine when I just use <code>save()</code> method of hibernate. What might be the reason?</p>\n<p><em>Here's the error in short:</em></p>\n<pre><code>org.springframework.orm.hibernate5.HibernateSystemException: Exception occurred inside getter of com.pending.model.Company.id; nested exception is org.hibernate.PropertyAccessException: Exception occurred inside getter of com.pending.model.Company.id\nCaused by: org.hibernate.PropertyAccessException: Exception occurred inside getter of com.pending.model.Company.id\nCaused by: java.lang.reflect.InvocationTargetException\nCaused by: java.lang.NullPointerException: Cannot invoke &quot;java.lang.Integer.intValue()&quot; because &quot;this.id&quot; is null\n</code></pre>\n<p><strong>Controller Code</strong> below:</p>\n<pre><code>@Controller\n@RequestMapping(&quot;/companyNewRecord&quot;)\npublic class CompanyNewRecordController {\n\n    private CompanyManager mgr;\n\n    public void setCompanyManager(CompanyManager companyManager) {\n        this.mgr = companyManager;\n    }\n\n    // display the form\n    @RequestMapping(method = RequestMethod.GET)\n    public ModelAndView edit(ModelAndView mav) {\n\n        mav.setViewName(&quot;companyNewRecord&quot;);\n        mav.addObject(&quot;CompanyNewRecordForm&quot;, new CompanyNewRecordForm());\n        return mav;\n    }\n\n    // process the form\n    @RequestMapping(method = RequestMethod.POST)\n    public ModelAndView process(ModelAndView mav,\n            @ModelAttribute(&quot;CompanyNewRecordForm&quot;) CompanyNewRecordForm CompanyNewRecordForm, BindingResult result)\n            throws Exception {\n\n        Company addNewCompany = new Company();\n        addNewCompany.setName(CompanyNewRecordForm.getCompanyName());\n        addNewCompany.setComment(CompanyNewRecordForm.getComment());\n        mgr.saveCompany(addNewCompany);\n        return mav;\n    }\n\n}\n</code></pre>\n<p>Here's my <code>Company</code> class inside <code>com.pending.model</code>:</p>\n<pre><code>public class Company implements Serializable{\n    \n        \n        private Integer id;\n        private String name;\n        private String comment;\n        public Integer getId() {\n            return id;\n        }\n        public void setId(Integer id) {\n            this.id = id;\n        }\n        public String getName() {\n            return name;\n        }\n        public void setName(String name) {\n            this.name = name;\n        }\n        public String getComment() {\n            return comment;\n        }\n        public void setComment(String comment) {\n            this.comment = comment;\n        }\n\n        \n}\n</code></pre>\n<p>My <code>Company.hbm.xml</code> file is also inside <code>com.pending.model</code></p>\n<p><code>CompanyManager</code> interface inside <code>com.pending.service</code> is as follows:</p>\n<pre><code>public interface CompanyManager {\n    public void setCompanyDAO(CompanyDAO dao);\n    public Company getCompany(Integer id);  \n    public void saveCompany(Company company);\n}\n</code></pre>\n<p><code>CompanyDAO</code> inside <code>com.pending.dao</code></p>\n<pre><code>public interface CompanyDAO {\n\n    public Company getCompany(Integer id);\n    public Company saveCompany(Company company);\n\n}\n</code></pre>\n<p><code>CompanyDaoHibernate</code> in <code>com.pending.dao.hibernate</code></p>\n<p>public class CompanyDAOHibernate extends HibernateDaoSupport implements CompanyDAO {</p>\n<pre><code>@Override\npublic Company saveCompany(Company company) {\n    getHibernateTemplate().saveOrUpdate(company);\n\n    if (logger.isDebugEnabled()) {\n        logger.debug(&quot;Company id is: &quot; + company.getId());\n    }\n    return company;\n}\n\n@Override\npublic Company getCompany(Integer id) {\n    Company company = (Company) getHibernateTemplate().get(Company.class, id);\n    if (company == null) {\n        throw new ObjectRetrievalFailureException(Company.class, id);\n    }\n    return company;\n}\n</code></pre>\n<p><code>CompanyManagerImpl</code> in <code>com.pending.service.impl</code></p>\n<pre><code> public class CompanyManagerImpl implements CompanyManager {\n    private CompanyDAO dao;\n\n    public void setCompanyDAO(CompanyDAO dao) {\n        this.dao = dao;\n\n    }\n\n    public void saveCompany(Company company) {\n        dao.saveCompany(company);\n\n    }\n\n    public Company getCompany(Integer id) {\n\n        return dao.getCompany(id);\n    }\n\n}\n</code></pre>\n<p>The XML file is defined inside applicationContext-hibernate.xml as follows along with other xml files (not shown below)</p>\n<pre><code>&lt;bean id=&quot;sessionFactoryCOMPANYDB&quot;\n        class=&quot;org.springframework.orm.hibernate5.LocalSessionFactoryBean&quot;&gt;\n        &lt;property name=&quot;dataSource&quot;&gt;\n            &lt;ref bean=&quot;dataSourceCOMPANYDB&quot; /&gt;\n        &lt;/property&gt;\n        &lt;property name=&quot;mappingResources&quot;&gt;\n            &lt;list&gt;\n                \n                &lt;value&gt;com/pending/model/Company.hbm.xml&lt;/value&gt;\n            &lt;/list&gt;\n        &lt;/property&gt;\n        &lt;property name=&quot;hibernateProperties&quot;&gt;\n            &lt;props&gt;\n                &lt;prop key=&quot;hibernate.dialect&quot;&gt;\n                    org.hibernate.dialect.SQLServer2012Dialect\n                &lt;/prop&gt;\n                &lt;prop key=&quot;hibernate.show_sql&quot;&gt;false&lt;/prop&gt;\n                &lt;prop key=&quot;hibernate.cache.region.factory_class&quot;&gt;org.hibernate.cache.ehcache.SingletonEhCacheRegionFactory\n                &lt;/prop&gt;\n                &lt;prop key=&quot;hibernate.cache.use_second_level_cache&quot;&gt;true&lt;/prop&gt;\n            &lt;/props&gt;\n        &lt;/property&gt;\n    &lt;/bean&gt;\n</code></pre>\n<p>And applicationContex.xml contains the following bean :</p>\n<pre><code>&lt;bean id=&quot;companyManager&quot; parent=&quot;txProxyTemplateCOMPANYDB&quot;&gt;\n        &lt;property name=&quot;target&quot;&gt;\n            &lt;bean class=&quot;com.pending.service.impl.CompanyManagerImpl&quot;&gt;\n                &lt;property name=&quot;companyDAO&quot;&gt;\n                    &lt;ref bean=&quot;companyDAO&quot; /&gt;\n                &lt;/property&gt;\n            &lt;/bean&gt;\n        &lt;/property&gt;\n    &lt;/bean&gt;\n</code></pre>\n<p>My SQLServer database table design is as follows:</p>\n<pre><code>Column Name    Data type   Allow Nuls\nid              int        \nname            varchar(30)\ncomment         varchar(250)    checkmarked\n    \n</code></pre>\n<p>Where, id is set to primary key and is autoincremented when an insertion happens.</p>\n<p>Here's <code>Company.hbm.xml</code></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;!DOCTYPE hibernate-mapping PUBLIC\n&quot;-//Hibernate/Hibernate Mapping DTD 3.0//EN&quot;\n&quot;http://www.hibernate.org/dtd/hibernate-mapping-3.0.dtd&quot;&gt;\n&lt;hibernate-mapping&gt;\n&lt;class name=&quot;com.pending.model.Company&quot; table=&quot;company&quot;&gt;\n&lt;id name=&quot;id&quot; column=&quot;id&quot; unsaved-value=&quot;null&quot;&gt;\n&lt;generator class=&quot;native&quot; /&gt;\n&lt;/id&gt;\n&lt;property name=&quot;name&quot; /&gt;\n&lt;property name=&quot;comment&quot; /&gt;\n&lt;/class&gt;\n&lt;/hibernate-mapping&gt;\n</code></pre>\n<p>My <code>servlet.xml</code> has this defined:</p>\n<pre><code>&lt;bean id=&quot;companyNewRecordController&quot;\nclass=&quot;com.pending.controller.CompanyNewRecordController&quot;&gt;\n    &lt;property name=&quot;companyManager&quot;&gt;\n         &lt;ref bean=&quot;companyManager&quot; /&gt;\n     &lt;/property&gt;\n&lt;/bean&gt;\n    \n</code></pre>\n<p>Here is the stacktrace:</p>\n<pre><code>[INFO] [talledLocalContainer] org.springframework.orm.hibernate5.HibernateSystemException: Exception occurred inside getter of com.pending.model.Company.id; nested exception is org.hibernate.PropertyAccessException: Exception occurred inside getter of com.pending.model.Company.id\n[INFO] [talledLocalContainer]   at org.springframework.orm.hibernate5.SessionFactoryUtils.convertHibernateAccessException(SessionFactoryUtils.java:267)\n[INFO] [talledLocalContainer]   at org.springframework.orm.hibernate5.HibernateTemplate.doExecute(HibernateTemplate.java:370)\n[INFO] [talledLocalContainer]   at org.springframework.orm.hibernate5.HibernateTemplate.executeWithNativeSession(HibernateTemplate.java:334)\n[INFO] [talledLocalContainer]   at org.springframework.orm.hibernate5.HibernateTemplate.saveOrUpdate(HibernateTemplate.java:665)\n[INFO] [talledLocalContainer]   at com.pending.dao.hibernate.CompanyDAOHibernate.saveCompany(CompanyDAOHibernate.java:13)\n[INFO] [talledLocalContainer]   at com.pending.service.impl.CompanyManagerImpl.saveCompany(CompanyManagerImpl.java:16)\n[INFO] [talledLocalContainer]   at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n[INFO] [talledLocalContainer]   at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n[INFO] [talledLocalContainer]   at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n[INFO] [talledLocalContainer]   at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n[INFO] [talledLocalContainer]   at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344)\n[INFO] [talledLocalContainer]   at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:198)\n[INFO] [talledLocalContainer]   at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n[INFO] [talledLocalContainer]   at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)\n[INFO] [talledLocalContainer]   at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388)\n[INFO] [talledLocalContainer]   at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)\n[INFO] [talledLocalContainer]   at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n[INFO] [talledLocalContainer]   at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215)\n[INFO] [talledLocalContainer]   at jdk.proxy3/jdk.proxy3.$Proxy64.saveCompany(Unknown Source)\n[INFO] [talledLocalContainer]   at com.pending.web.controller.SampleNewCompanyController.process(SampleNewCompanyController.java:59)\n[INFO] [talledLocalContainer]   at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n[INFO] [talledLocalContainer]   at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n[INFO] [talledLocalContainer]   at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n[INFO] [talledLocalContainer]   at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n[INFO] [talledLocalContainer]   at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)\n[INFO] [talledLocalContainer]   at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)\n[INFO] [talledLocalContainer]   at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)\n[INFO] [talledLocalContainer]   at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)\n[INFO] [talledLocalContainer]   at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)\n[INFO] [talledLocalContainer]   at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\n[INFO] [talledLocalContainer]   at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1067)\n[INFO] [talledLocalContainer]   at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963)\n[INFO] [talledLocalContainer]   at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)\n[INFO] [talledLocalContainer]   at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)\n[INFO] [talledLocalContainer]   at javax.servlet.http.HttpServlet.service(HttpServlet.java:681)\n[INFO] [talledLocalContainer]   at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)\n[INFO] [talledLocalContainer]   at javax.servlet.http.HttpServlet.service(HttpServlet.java:764)\n[INFO] [talledLocalContainer]   at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227)\n[INFO] [talledLocalContainer]   at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n[INFO] [talledLocalContainer]   at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\n[INFO] [talledLocalContainer]   at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\n[INFO] [talledLocalContainer]   at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n[INFO] [talledLocalContainer]   at com.security.PasswordExpirationFilter.doFilter(PasswordExpirationFilter.java:201)\n[INFO] [talledLocalContainer]   at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\n[INFO] [talledLocalContainer]   at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n[INFO] [talledLocalContainer]   at org.sitemesh.webapp.contentfilter.ContentBufferingFilter.bufferAndPostProcess(ContentBufferingFilter.java:169)\n[INFO] [talledLocalContainer]   at org.sitemesh.webapp.contentfilter.ContentBufferingFilter.doFilter(ContentBufferingFilter.java:126)\n[INFO] [talledLocalContainer]   at org.sitemesh.webapp.SiteMeshFilter.doFilter(SiteMeshFilter.java:120)\n[INFO] [talledLocalContainer]   at org.sitemesh.config.ConfigurableSiteMeshFilter.doFilter(ConfigurableSiteMeshFilter.java:163)\n[INFO] [talledLocalContainer]   at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\n[INFO] [talledLocalContainer]   at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n[INFO] [talledLocalContainer]   at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\n[INFO] [talledLocalContainer]   at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\n[INFO] [talledLocalContainer]   at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\n[INFO] [talledLocalContainer]   at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n[INFO] [talledLocalContainer]   at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:327)\n[INFO] [talledLocalContainer]   at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115)\n[INFO] [talledLocalContainer]   at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81)\n[INFO] [talledLocalContainer]   at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\n[INFO] [talledLocalContainer]   at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:122)\n[INFO] [talledLocalContainer]   at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:116)\n[INFO] [talledLocalContainer]   at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\n[INFO] [talledLocalContainer]   at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126)\n[INFO] [talledLocalContainer]   at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81)\n[INFO] [talledLocalContainer]   at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\n[INFO] [talledLocalContainer]   at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:109)\n[INFO] [talledLocalContainer]   at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\n[INFO] [talledLocalContainer]   at org.springframework.security.web.authentication.rememberme.RememberMeAuthenticationFilter.doFilter(RememberMeAuthenticationFilter.java:106)\n[INFO] [talledLocalContainer]   at org.springframework.security.web.authentication.rememberme.RememberMeAuthenticationFilter.doFilter(RememberMeAuthenticationFilter.java:97)\n[INFO] [talledLocalContainer]   at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\n[INFO] [talledLocalContainer]   at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149)\n[INFO] [talledLocalContainer]   at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\n[INFO] [talledLocalContainer]   at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)\n[INFO] [talledLocalContainer]   at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\n[INFO] [talledLocalContainer]   at org.springframework.security.web.authentication.www.BasicAuthenticationFilter.doFilterInternal(BasicAuthenticationFilter.java:166)\n[INFO] [talledLocalContainer]   at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\n[INFO] [talledLocalContainer]   at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\n[INFO] [talledLocalContainer]   at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:223)\n[INFO] [talledLocalContainer]   at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:217)\n[INFO] [talledLocalContainer]   at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\n[INFO] [talledLocalContainer]   at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103)\n[INFO] [talledLocalContainer]   at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89)\n[INFO] [talledLocalContainer]   at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\n[INFO] [talledLocalContainer]   at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)\n[INFO] [talledLocalContainer]   at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)\n[INFO] [talledLocalContainer]   at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\n[INFO] [talledLocalContainer]   at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\n[INFO] [talledLocalContainer]   at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55)\n[INFO] [talledLocalContainer]   at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\n[INFO] [talledLocalContainer]   at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\n[INFO] [talledLocalContainer]   at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:112)\n[INFO] [talledLocalContainer]   at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:82)\n[INFO] [talledLocalContainer]   at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\n[INFO] [talledLocalContainer]   at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)\n[INFO] [talledLocalContainer]   at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\n[INFO] [talledLocalContainer]   at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\n[INFO] [talledLocalContainer]   at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:211)\n[INFO] [talledLocalContainer]   at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:183)\n[INFO] [talledLocalContainer]   at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354)\n[INFO] [talledLocalContainer]   at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267)\n[INFO] [talledLocalContainer]   at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\n[INFO] [talledLocalContainer]   at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n[INFO] [talledLocalContainer]   at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197)\n[INFO] [talledLocalContainer]   at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)\n[INFO] [talledLocalContainer]   at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)\n[INFO] [talledLocalContainer]   at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)\n[INFO] [talledLocalContainer]   at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\n[INFO] [talledLocalContainer]   at org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:687)\n[INFO] [talledLocalContainer]   at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)\n[INFO] [talledLocalContainer]   at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360)\n[INFO] [talledLocalContainer]   at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)\n[INFO] [talledLocalContainer]   at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\n[INFO] [talledLocalContainer]   at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:890)\n[INFO] [talledLocalContainer]   at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1789)\n[INFO] [talledLocalContainer]   at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\n[INFO] [talledLocalContainer]   at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\n[INFO] [talledLocalContainer]   at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\n[INFO] [talledLocalContainer]   at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n[INFO] [talledLocalContainer]   at java.base/java.lang.Thread.run(Thread.java:833)\n[INFO] [talledLocalContainer] Caused by: org.hibernate.PropertyAccessException: Exception occurred inside getter of com.pending.model.Company.id\n[INFO] [talledLocalContainer]   at org.hibernate.property.access.spi.GetterMethodImpl.get(GetterMethodImpl.java:45)\n[INFO] [talledLocalContainer]   at org.hibernate.tuple.entity.AbstractEntityTuplizer.getIdentifier(AbstractEntityTuplizer.java:230)\n[INFO] [talledLocalContainer]   at org.hibernate.persister.entity.AbstractEntityPersister.getIdentifier(AbstractEntityPersister.java:5280)\n[INFO] [talledLocalContainer]   at org.hibernate.persister.entity.AbstractEntityPersister.isTransient(AbstractEntityPersister.java:4972)\n[INFO] [talledLocalContainer]   at org.hibernate.engine.internal.ForeignKeys.isTransient(ForeignKeys.java:294)\n[INFO] [talledLocalContainer]   at org.hibernate.event.internal.EntityState.getEntityState(EntityState.java:59)\n[INFO] [talledLocalContainer]   at org.hibernate.event.internal.DefaultSaveOrUpdateEventListener.performSaveOrUpdate(DefaultSaveOrUpdateEventListener.java:85)\n[INFO] [talledLocalContainer]   at org.hibernate.event.internal.DefaultSaveOrUpdateEventListener.onSaveOrUpdate(DefaultSaveOrUpdateEventListener.java:75)\n[INFO] [talledLocalContainer]   at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:107)\n[INFO] [talledLocalContainer]   at org.hibernate.internal.SessionImpl.fireSaveOrUpdate(SessionImpl.java:656)\n[INFO] [talledLocalContainer]   at org.hibernate.internal.SessionImpl.saveOrUpdate(SessionImpl.java:649)\n[INFO] [talledLocalContainer]   at org.hibernate.internal.SessionImpl.saveOrUpdate(SessionImpl.java:644)\n[INFO] [talledLocalContainer]   at org.springframework.orm.hibernate5.HibernateTemplate.lambda$saveOrUpdate$15(HibernateTemplate.java:667)\n[INFO] [talledLocalContainer]   at org.springframework.orm.hibernate5.HibernateTemplate.doExecute(HibernateTemplate.java:367)\n[INFO] [talledLocalContainer]   ... 117 more\n[INFO] [talledLocalContainer] Caused by: java.lang.reflect.InvocationTargetException\n[INFO] [talledLocalContainer]   at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n[INFO] [talledLocalContainer]   at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n[INFO] [talledLocalContainer]   at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n[INFO] [talledLocalContainer]   at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n[INFO] [talledLocalContainer]   at org.hibernate.property.access.spi.GetterMethodImpl.get(GetterMethodImpl.java:42)\n[INFO] [talledLocalContainer]   ... 130 more\n[INFO] [talledLocalContainer] Caused by: java.lang.NullPointerException: Cannot invoke &quot;java.lang.Integer.intValue()&quot; because &quot;this.id&quot; is null\n[INFO] [talledLocalContainer]   at com.pending.model.Company.getId(Company.java:14)\n[INFO] [talledLocalContainer]   ... 135 more\n</code></pre>\n"},{"tags":["java","tomcat","jasper-reports"],"comments":[{"owner":{"account_id":469619,"reputation":22464,"user_id":876298,"display_name":"Alex K"},"score":2,"creation_date":1687882542,"post_id":76565044,"comment_id":134997874,"body_markdown":"Try to remove the old version of `org.eclipse.jdt.core.compiler`","body":"Try to remove the old version of <code>org.eclipse.jdt.core.compiler</code>"}],"owner":{"account_id":15231305,"reputation":126,"user_id":10990361,"display_name":"Marc06210"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":106,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687882565,"creation_date":1687870230,"question_id":76565044,"body_markdown":"I am migrating from spring 4 to 5, and I had to upgrade JasperReport to 6.20.5.\r\n\r\nReports are ok on my local machine but when deployed as a war file on the real tomcat instance I am facing this issue\r\n\r\n     ProgrammeSubreport.jrxml: Errors were encountered when compiling report expressions class file:\r\n    1. Syntax error, static imports are only available if source level is 1.5 or greater\r\n    import static net.sf.jasperreports.functions.standard.LogicalFunctions.EQUALS;\r\n\r\nit seems that the level of my JVM is not correctly identified.\r\nIs there any way to configure tomcat with the correct settings?\r\n\r\nThanks for any help\r\n","title":"jasperreport in tomcat 9 and jdk 8","body":"<p>I am migrating from spring 4 to 5, and I had to upgrade JasperReport to 6.20.5.</p>\n<p>Reports are ok on my local machine but when deployed as a war file on the real tomcat instance I am facing this issue</p>\n<pre><code> ProgrammeSubreport.jrxml: Errors were encountered when compiling report expressions class file:\n1. Syntax error, static imports are only available if source level is 1.5 or greater\nimport static net.sf.jasperreports.functions.standard.LogicalFunctions.EQUALS;\n</code></pre>\n<p>it seems that the level of my JVM is not correctly identified.\nIs there any way to configure tomcat with the correct settings?</p>\n<p>Thanks for any help</p>\n"},{"tags":["java","inheritance","reference","polymorphism","superclass"],"comments":[{"owner":{"account_id":6379952,"reputation":3111,"user_id":4949750,"display_name":"Amongalen"},"score":1,"creation_date":1607009280,"post_id":65128923,"comment_id":115142519,"body_markdown":"When you have a variable of type `Object` you can only perform methods of `Object` on it.","body":"When you have a variable of type <code>Object</code> you can only perform methods of <code>Object</code> on it."},{"owner":{"account_id":9127082,"reputation":2954,"user_id":6790326,"display_name":"Dorian Gray"},"score":0,"creation_date":1607009604,"post_id":65128923,"comment_id":115142699,"body_markdown":"Also, you should never use `new String` here. Just use ``String myString = &quot;hello&quot;;``","body":"Also, you should never use <code>new String</code> here. Just use <code>String myString = &quot;hello&quot;;</code>"}],"answers":[{"tags":[],"owner":{"account_id":55989,"reputation":17809,"user_id":167745,"accept_rate":76,"display_name":"Stewart"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687882004,"creation_date":1687882004,"answer_id":76566764,"question_id":65128923,"body_markdown":"The object you create is the object you create. How you reference it is separate but related.\r\n\r\nIn the code below, `string2` and `string3` are both `String` objects, created the same way.\r\n\r\nSo `string2` is a `String` reference. This allows you to access everything &quot;String-ish&quot; about the object. You can also reference everything &quot;Object-ish&quot; because all `String`s are `Object`s; that is, because `Object` is a superclass (parent) of `String`\r\n\r\nBut `string3` is an `Object` reference, and &quot;does not know&quot; that the object is a `String`. It only knows it is an `Object`. You can only access &quot;Object-ish&quot; fields and methods, not &quot;String-ish&quot; methods. To access &quot;String-ish&quot; methods, you would need to cast the reference to the true class it is. That is what `string4` is.\r\n\r\n----\r\n\r\nAdditionally, `String` has special behaviour within Java. Possibly you should use a different class to clarify the reference concept. (Experiment with your own class heirarchy.)\r\n\r\nYou can create a `String` without using the `new` keyword, but instead using `&quot;string constant&quot;` syntax. This creates the `String` in a special place in memory known as &quot;interned&quot;. All interned `String`s with identical text are the *exact same object* in memory. They are not just equal, they are identical. \r\n\r\nIn the code below, `string1` and `string5` are interned `String`s. The others are not.\r\n\r\n\r\n    public static void main(String[] args) {\r\n\r\n        String string1 = &quot;hello&quot;;\r\n        String string2 = new String(&quot;hello&quot;);\r\n        Object string3 = new String(&quot;hello&quot;);\r\n        String string4 = (String) string3;\r\n        String string5 = new String(&quot;hello&quot;).intern();\r\n        \r\n        System.out.println(string1 == string2); // false\r\n        System.out.println(string1 == string5); // true\r\n        System.out.println(string4 == string3); // true\r\n        \r\n        System.out.println(string1.getClass().equals(string2.getClass())); // true\r\n        System.out.println(string1.getClass().equals(string3.getClass())); // true\r\n        System.out.println(string1.getClass().equals(string5.getClass())); // true\r\n        \r\n        \r\n        System.out.println(string1.equals(string2)); // true\r\n        System.out.println(string1.equals(string3)); // true\r\n        System.out.println(string1.equals(string5)); // true\r\n    }","title":"What the difference between using the class reference type Object and the class reference type String when creating a new string?","body":"<p>The object you create is the object you create. How you reference it is separate but related.</p>\n<p>In the code below, <code>string2</code> and <code>string3</code> are both <code>String</code> objects, created the same way.</p>\n<p>So <code>string2</code> is a <code>String</code> reference. This allows you to access everything &quot;String-ish&quot; about the object. You can also reference everything &quot;Object-ish&quot; because all <code>String</code>s are <code>Object</code>s; that is, because <code>Object</code> is a superclass (parent) of <code>String</code></p>\n<p>But <code>string3</code> is an <code>Object</code> reference, and &quot;does not know&quot; that the object is a <code>String</code>. It only knows it is an <code>Object</code>. You can only access &quot;Object-ish&quot; fields and methods, not &quot;String-ish&quot; methods. To access &quot;String-ish&quot; methods, you would need to cast the reference to the true class it is. That is what <code>string4</code> is.</p>\n<hr />\n<p>Additionally, <code>String</code> has special behaviour within Java. Possibly you should use a different class to clarify the reference concept. (Experiment with your own class heirarchy.)</p>\n<p>You can create a <code>String</code> without using the <code>new</code> keyword, but instead using <code>&quot;string constant&quot;</code> syntax. This creates the <code>String</code> in a special place in memory known as &quot;interned&quot;. All interned <code>String</code>s with identical text are the <em>exact same object</em> in memory. They are not just equal, they are identical.</p>\n<p>In the code below, <code>string1</code> and <code>string5</code> are interned <code>String</code>s. The others are not.</p>\n<pre><code>public static void main(String[] args) {\n\n    String string1 = &quot;hello&quot;;\n    String string2 = new String(&quot;hello&quot;);\n    Object string3 = new String(&quot;hello&quot;);\n    String string4 = (String) string3;\n    String string5 = new String(&quot;hello&quot;).intern();\n    \n    System.out.println(string1 == string2); // false\n    System.out.println(string1 == string5); // true\n    System.out.println(string4 == string3); // true\n    \n    System.out.println(string1.getClass().equals(string2.getClass())); // true\n    System.out.println(string1.getClass().equals(string3.getClass())); // true\n    System.out.println(string1.getClass().equals(string5.getClass())); // true\n    \n    \n    System.out.println(string1.equals(string2)); // true\n    System.out.println(string1.equals(string3)); // true\n    System.out.println(string1.equals(string5)); // true\n}\n</code></pre>\n"}],"owner":{"account_id":18377337,"reputation":21,"user_id":13386149,"display_name":"yusufa22"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1687882196,"creation_date":1607009167,"question_id":65128923,"body_markdown":"I have learned that Java string variables are objects and that you can create them by instantiating the `String` class in the `java.lang` package like this:\r\n\r\n    String myString = new String(&quot;hello&quot;);\r\n\r\nWhat is the difference between:\r\n\r\n - Creating a string by instantiating the `String` class using the `String` reference type as above\r\n - And creating a `String` by instantiating the `String` class using an `Object` reference type such as:\r\n\r\n       Object myString = new String(&quot;hello&quot;);\r\n\r\n?","title":"What the difference between using the class reference type Object and the class reference type String when creating a new string?","body":"<p>I have learned that Java string variables are objects and that you can create them by instantiating the <code>String</code> class in the <code>java.lang</code> package like this:</p>\n<pre><code>String myString = new String(&quot;hello&quot;);\n</code></pre>\n<p>What is the difference between:</p>\n<ul>\n<li><p>Creating a string by instantiating the <code>String</code> class using the <code>String</code> reference type as above</p>\n</li>\n<li><p>And creating a <code>String</code> by instantiating the <code>String</code> class using an <code>Object</code> reference type such as:</p>\n<pre><code>Object myString = new String(&quot;hello&quot;);\n</code></pre>\n</li>\n</ul>\n<p>?</p>\n"},{"tags":["java","json","rest","jersey","http-post"],"comments":[{"owner":{"account_id":6349322,"reputation":734,"user_id":4928897,"display_name":"ipper"},"score":1,"creation_date":1502444949,"post_id":45631964,"comment_id":78223092,"body_markdown":"Where is userFile set?","body":"Where is userFile set?"},{"owner":{"account_id":7477099,"reputation":53,"user_id":5683196,"display_name":"Ćepa"},"score":0,"creation_date":1502475157,"post_id":45631964,"comment_id":78242343,"body_markdown":"Sorry, forgot to add that, in the UserService.class constructor","body":"Sorry, forgot to add that, in the UserService.class constructor"},{"owner":{"account_id":7815129,"reputation":3299,"user_id":5910091,"display_name":"ujulu"},"score":0,"creation_date":1502533176,"post_id":45631964,"comment_id":78256807,"body_markdown":"Show us the value of `userFile`; otherwise, we cannot see where you&#39;re trying to write.","body":"Show us the value of <code>userFile</code>; otherwise, we cannot see where you&#39;re trying to write."}],"owner":{"account_id":7477099,"reputation":53,"user_id":5683196,"display_name":"Ćepa"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1034,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687882045,"creation_date":1502444634,"question_id":45631964,"body_markdown":"I have a problem while trying to write a String in .txt file (located in resources) by sending a POST request (Maven Project).\r\n\r\nI have a class called **UserResource.java** in which I wrote a method triggered by request such as: `http://localhost:8080/WebProjekat/users/register`, `/users` is @Path annotation on class level.\r\n   \r\n    @Path(&quot;/register&quot;)\r\n    @POST\r\n    @Produces(MediaType.APPLICATION_JSON)\r\n    @Consumes(MediaType.APPLICATION_JSON)\r\n    public Response registerUser(User user) {\r\n    \tString username;\r\n    \tif(userService.addUser(user)!=null) {\r\n            username = user.getUsername();\r\n    \t\treturn Response.status(Status.CREATED)\r\n    \t\t               .entity(user)\r\n    \t\t\t\t\t   .build();\r\n    \t} else\r\n   \t\t\treturn Response.status(Status.NOT_ACCEPTABLE)\r\n                           .entity(user)\r\n    \t\t\t\t\t   .build();\r\n    }\r\n\r\nIn this method there is a call to another method `userService.addUser(user)` which parses a user object into a String and writes it into a file.\r\n\r\n    public User write(User user) {\r\n    \tSystem.out.println(user);\r\n    \tStringBuilder result = new StringBuilder(&quot;&quot;);\r\n    \tSimpleDateFormat sdfr = new SimpleDateFormat(&quot;dd/MM/yyyy&quot;);\r\n    \tString commentIds = &quot;&quot;;\r\n    \tString themeIds = &quot;&quot;;\r\n    \tString sectionIds = &quot;&quot;;\r\n    \t\t\r\n    \tfor(int i=0; i &lt; user.getComments().size();i++) {\r\n    \t\tif(i != user.getComments().size()-1)\r\n    \t\t\tcommentIds+=user.getComments().get(i)+&quot;,&quot;;\r\n    \t\telse\r\n    \t\t\tcommentIds+=user.getComments().get(i);\r\n    \t}\r\n    \t\t\r\n    \tfor(int i=0; i &lt; user.getSavedThemes().size();i++) {\r\n    \t\tif(i != user.getSavedThemes().size()-1)\r\n    \t\t\tthemeIds+=user.getSavedThemes().get(i)+&quot;,&quot;;\r\n    \t\telse\r\n    \t\t\tthemeIds+=user.getSavedThemes().get(i);\r\n    \t}\r\n    \t\t\r\n    \tfor(int i=0; i &lt; user.getListOfSections().size();i++) {\r\n    \t\tif(i != user.getListOfSections().size()-1)\r\n    \t\t\tsectionIds+=user.getListOfSections().get(i)+&quot;,&quot;;\r\n    \t\telse\r\n    \t\t\tsectionIds+=user.getListOfSections().get(i);\r\n    \t}\r\n    \t\t\t\r\n    \tresult.append(user.getUsername())\r\n    \t\t  .append(&quot;|&quot;)\r\n    \t\t  .append(user.getPassword())\r\n    \t\t  .append(&quot;|&quot;)\r\n    \t\t  .append(user.getFirstName())\r\n    \t\t  .append(&quot;|&quot;)\r\n    \t\t  .append(user.getLastName())\r\n    \t      .append(&quot;|&quot;)\r\n    \t\t  .append(user.getPhoneNumber())\r\n    \t\t  .append(&quot;|&quot;)\r\n    \t\t  .append(sdfr.format(user.getRegistrationDate()))\r\n    \t\t  .append(&quot;|&quot;)\r\n    \t\t  .append(commentIds)\r\n    \t\t  .append(&quot;|&quot;)\r\n    \t      .append(themeIds)\r\n    \t      .append(&quot;|&quot;)\r\n    \t      .append(sectionIds);\r\n    \t   \r\n    \ttry {\r\n    \t\tSystem.out.println(result);\r\n    \t    FileWriter outputFileReader = new FileWriter(userFile,true);\r\n    \t\tPrintWriter outputStream = new PrintWriter(outputFileReader);\r\n    \t\toutputStream.println(result);\r\n    \t\t\r\n    \t    outputStream.close();\r\n    \t\t\t\r\n    \t\treturn user;\r\n    \t} catch(IOException ex) {\r\n    \t\tex.printStackTrace();\r\n    \t}\r\n    \t\t\r\n    \treturn null;\r\n    }\r\n\r\nThis is the JSON object that I wrote in Request Body in Postman:\r\n\r\n    {\r\n        &quot;comments&quot;: [\r\n            &quot;16&quot;,\r\n            &quot;18&quot;,\r\n            &quot;222&quot;\r\n        ],\r\n        &quot;firstName&quot;: &quot;Milos&quot;,\r\n        &quot;lastName&quot;: &quot;Ribar&quot;,\r\n        &quot;listOfSections&quot;: [\r\n            &quot;Section6&quot;\r\n        ],\r\n        &quot;password&quot;: &quot;riki995&quot;,\r\n        &quot;phoneNumber&quot;: &quot;0651941929&quot;,\r\n        &quot;registrationDate&quot;: &quot;2017-08-10T00:00:00&quot;,\r\n        &quot;savedThemes&quot;: [],\r\n        &quot;username&quot;: &quot;Riki&quot;\r\n    }\r\n\r\nNOTE: I also added a key-value pair : `Content-Type - application/json` in Header section of Postman.\r\n\r\nAfter I send this request, JERSEY successfully finds the class and the method it needs to call, it makes contact with the Server and the Server sends me a response with `Status code : 201 Created` and like I asked a JSON object in a Response Body. \r\nDespite all of that the changes are not made in the file which is located:\r\n\r\n    -WebProjekat\r\n        -src\r\n           -main\r\n              -resources\r\n                 -files\r\n                    -users.txt\r\n\r\nI printed out the String right before I tried to write it into a file to check if it reaches the `outStream.println(result)` line and it does.","title":"Sending POST request to write in .txt file, response is 201 CREATED but file remains unmodified","body":"<p>I have a problem while trying to write a String in .txt file (located in resources) by sending a POST request (Maven Project).</p>\n<p>I have a class called <strong>UserResource.java</strong> in which I wrote a method triggered by request such as: <code>http://localhost:8080/WebProjekat/users/register</code>, <code>/users</code> is @Path annotation on class level.</p>\n<pre><code>@Path(&quot;/register&quot;)\n@POST\n@Produces(MediaType.APPLICATION_JSON)\n@Consumes(MediaType.APPLICATION_JSON)\npublic Response registerUser(User user) {\n    String username;\n    if(userService.addUser(user)!=null) {\n        username = user.getUsername();\n        return Response.status(Status.CREATED)\n                       .entity(user)\n                       .build();\n    } else\n        return Response.status(Status.NOT_ACCEPTABLE)\n                       .entity(user)\n                       .build();\n}\n</code></pre>\n<p>In this method there is a call to another method <code>userService.addUser(user)</code> which parses a user object into a String and writes it into a file.</p>\n<pre><code>public User write(User user) {\n    System.out.println(user);\n    StringBuilder result = new StringBuilder(&quot;&quot;);\n    SimpleDateFormat sdfr = new SimpleDateFormat(&quot;dd/MM/yyyy&quot;);\n    String commentIds = &quot;&quot;;\n    String themeIds = &quot;&quot;;\n    String sectionIds = &quot;&quot;;\n        \n    for(int i=0; i &lt; user.getComments().size();i++) {\n        if(i != user.getComments().size()-1)\n            commentIds+=user.getComments().get(i)+&quot;,&quot;;\n        else\n            commentIds+=user.getComments().get(i);\n    }\n        \n    for(int i=0; i &lt; user.getSavedThemes().size();i++) {\n        if(i != user.getSavedThemes().size()-1)\n            themeIds+=user.getSavedThemes().get(i)+&quot;,&quot;;\n        else\n            themeIds+=user.getSavedThemes().get(i);\n    }\n        \n    for(int i=0; i &lt; user.getListOfSections().size();i++) {\n        if(i != user.getListOfSections().size()-1)\n            sectionIds+=user.getListOfSections().get(i)+&quot;,&quot;;\n        else\n            sectionIds+=user.getListOfSections().get(i);\n    }\n            \n    result.append(user.getUsername())\n          .append(&quot;|&quot;)\n          .append(user.getPassword())\n          .append(&quot;|&quot;)\n          .append(user.getFirstName())\n          .append(&quot;|&quot;)\n          .append(user.getLastName())\n          .append(&quot;|&quot;)\n          .append(user.getPhoneNumber())\n          .append(&quot;|&quot;)\n          .append(sdfr.format(user.getRegistrationDate()))\n          .append(&quot;|&quot;)\n          .append(commentIds)\n          .append(&quot;|&quot;)\n          .append(themeIds)\n          .append(&quot;|&quot;)\n          .append(sectionIds);\n       \n    try {\n        System.out.println(result);\n        FileWriter outputFileReader = new FileWriter(userFile,true);\n        PrintWriter outputStream = new PrintWriter(outputFileReader);\n        outputStream.println(result);\n        \n        outputStream.close();\n            \n        return user;\n    } catch(IOException ex) {\n        ex.printStackTrace();\n    }\n        \n    return null;\n}\n</code></pre>\n<p>This is the JSON object that I wrote in Request Body in Postman:</p>\n<pre><code>{\n    &quot;comments&quot;: [\n        &quot;16&quot;,\n        &quot;18&quot;,\n        &quot;222&quot;\n    ],\n    &quot;firstName&quot;: &quot;Milos&quot;,\n    &quot;lastName&quot;: &quot;Ribar&quot;,\n    &quot;listOfSections&quot;: [\n        &quot;Section6&quot;\n    ],\n    &quot;password&quot;: &quot;riki995&quot;,\n    &quot;phoneNumber&quot;: &quot;0651941929&quot;,\n    &quot;registrationDate&quot;: &quot;2017-08-10T00:00:00&quot;,\n    &quot;savedThemes&quot;: [],\n    &quot;username&quot;: &quot;Riki&quot;\n}\n</code></pre>\n<p>NOTE: I also added a key-value pair : <code>Content-Type - application/json</code> in Header section of Postman.</p>\n<p>After I send this request, JERSEY successfully finds the class and the method it needs to call, it makes contact with the Server and the Server sends me a response with <code>Status code : 201 Created</code> and like I asked a JSON object in a Response Body.\nDespite all of that the changes are not made in the file which is located:</p>\n<pre><code>-WebProjekat\n    -src\n       -main\n          -resources\n             -files\n                -users.txt\n</code></pre>\n<p>I printed out the String right before I tried to write it into a file to check if it reaches the <code>outStream.println(result)</code> line and it does.</p>\n"},{"tags":["python","java","arrays","numpy","numerical-methods"],"comments":[{"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":0,"creation_date":1687838228,"post_id":76561486,"comment_id":134988777,"body_markdown":"Please show a [mcve], including but not limited to, what are the contents of the byte array you are trying to unpack? What are the expected results? What is the actual result? Please show a *minimal* example that reproduces the problem, and not the thousands of bytes that you are actually using.","body":"Please show a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>, including but not limited to, what are the contents of the byte array you are trying to unpack? What are the expected results? What is the actual result? Please show a <i>minimal</i> example that reproduces the problem, and not the thousands of bytes that you are actually using."},{"owner":{"account_id":23669032,"reputation":51,"user_id":17696091,"display_name":"newbie5050"},"score":0,"creation_date":1687838441,"post_id":76561486,"comment_id":134988796,"body_markdown":"thanks @ Sweeper but how can I submit the byte array here?","body":"thanks @ Sweeper but how can I submit the byte array here?"},{"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":1,"creation_date":1687838896,"post_id":76561486,"comment_id":134988842,"body_markdown":"Actually never mind. 3221234265 is the unsigned value of -1073733031. There are no unsigned integers in Java, but you can use `Integer.toUnsignedLong` to convert it to a `long`. See [this](https://stackoverflow.com/questions/9854166/declaring-an-unsigned-int-in-java) for more info.","body":"Actually never mind. 3221234265 is the unsigned value of -1073733031. There are no unsigned integers in Java, but you can use <code>Integer.toUnsignedLong</code> to convert it to a <code>long</code>. See <a href=\"https://stackoverflow.com/questions/9854166/declaring-an-unsigned-int-in-java\">this</a> for more info."},{"owner":{"account_id":23669032,"reputation":51,"user_id":17696091,"display_name":"newbie5050"},"score":0,"creation_date":1687839206,"post_id":76561486,"comment_id":134988868,"body_markdown":"@ Sweeper. Do you mean converting negative integers to Integer.toUnsignedLong?","body":"@ Sweeper. Do you mean converting negative integers to Integer.toUnsignedLong?"},{"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":0,"creation_date":1687839337,"post_id":76561486,"comment_id":134988879,"body_markdown":"You can use that with all integers, not just negative ones. It converts all `int`s to non-negative `long`s.","body":"You can use that with all integers, not just negative ones. It converts all <code>int</code>s to non-negative <code>long</code>s."},{"owner":{"account_id":23669032,"reputation":51,"user_id":17696091,"display_name":"newbie5050"},"score":0,"creation_date":1687839492,"post_id":76561486,"comment_id":134988891,"body_markdown":"@Sweeper. Thanks, it worked! Is there any way to convert all integers without a for-loop iteration?","body":"@Sweeper. Thanks, it worked! Is there any way to convert all integers without a for-loop iteration?"},{"owner":{"account_id":23669032,"reputation":51,"user_id":17696091,"display_name":"newbie5050"},"score":0,"creation_date":1687839572,"post_id":76561486,"comment_id":134988903,"body_markdown":"Let us [continue this discussion in chat](https://chat.stackoverflow.com/rooms/254260/discussion-between-newbie5050-and-sweeper).","body":"Let us <a href=\"https://chat.stackoverflow.com/rooms/254260/discussion-between-newbie5050-and-sweeper\">continue this discussion in chat</a>."}],"owner":{"account_id":23669032,"reputation":51,"user_id":17696091,"display_name":"newbie5050"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1687838924,"answer_count":0,"score":0,"last_activity_date":1687881811,"creation_date":1687837684,"question_id":76561486,"body_markdown":"Following [the similar question][1], I am trying to implement the unpack method in Java for Integer:\r\n\r\nSample byte array input: chunkByte[1219:1240] = [64, 30, 31, 0, 64, 118, 31, 0, 64, -22, 29, 0, 64, 4, 30, 0, 64, 26, 36, 0, 64] where \r\n\r\nCode in Python:\r\n``` \r\n    fid = open(raw_file, &#39;rb&#39;)\r\n    fid.seek(0, os.SEEK_END)\r\n    nFileLen = fid.tell()\r\n    fid.seek(0, 0)\r\n    \r\n    chunk_size = 2 ** 19\r\n    n = int(nFileLen / chunk_size)\r\n\r\n    for i in range(0, n):\r\n        nLenVals = round(chunk_size / 4)\r\n        vals = struct.unpack(&#39;I&#39; * nLenVals, fid.read(chunk_size))\r\n```  \r\nIn Java:\r\n``` \r\nvals = (int[]) unpack(&#39;I&#39;, chunk_size / 4, chunkByte);\r\n``` \r\nwhere\r\n``` \r\n    private Object unpack(char type, int dim, byte[] chunkByte) {\r\n        if (type == &#39;f&#39;) {\r\n            var floats = ByteBuffer.wrap(chunkByte).order(ByteOrder.LITTLE_ENDIAN).asFloatBuffer();\r\n            var floatArray = new float[dim];\r\n            floats.get(floatArray);\r\n            return floatArray;\r\n        } else if (type == &#39;I&#39;) {\r\n            var ints = ByteBuffer.wrap(chunkByte).order(ByteOrder.nativeOrder()).asIntBuffer();\r\n            var intArray = new int[dim];\r\n            ints.get(intArray);\r\n            return intArray;\r\n        }\r\n        return null;\r\n    }\r\n``` \r\nI get negative results for the same byte arrays (byte[] chunkByte).\r\n\r\nFor example, in Python, I get this value: vals[1220]=**3221234265**. But I get the wrong value for the similar index: vals[1220]=**-1073733031**.\r\n\r\nI tried changing ***nativeOrder()*** to ***LITTLE_ENDIAN*** but it didn&#39;t help.\r\n\r\n  [1]: https://stackoverflow.com/questions/75944653/how-to-implement-struct-unpack-in-java-with-float-type","title":"How to implement struct.unpack in Java with Integer type?","body":"<p>Following <a href=\"https://stackoverflow.com/questions/75944653/how-to-implement-struct-unpack-in-java-with-float-type\">the similar question</a>, I am trying to implement the unpack method in Java for Integer:</p>\n<p>Sample byte array input: chunkByte[1219:1240] = [64, 30, 31, 0, 64, 118, 31, 0, 64, -22, 29, 0, 64, 4, 30, 0, 64, 26, 36, 0, 64] where</p>\n<p>Code in Python:</p>\n<pre><code>    fid = open(raw_file, 'rb')\n    fid.seek(0, os.SEEK_END)\n    nFileLen = fid.tell()\n    fid.seek(0, 0)\n    \n    chunk_size = 2 ** 19\n    n = int(nFileLen / chunk_size)\n\n    for i in range(0, n):\n        nLenVals = round(chunk_size / 4)\n        vals = struct.unpack('I' * nLenVals, fid.read(chunk_size))\n</code></pre>\n<p>In Java:</p>\n<pre><code>vals = (int[]) unpack('I', chunk_size / 4, chunkByte);\n</code></pre>\n<p>where</p>\n<pre><code>    private Object unpack(char type, int dim, byte[] chunkByte) {\n        if (type == 'f') {\n            var floats = ByteBuffer.wrap(chunkByte).order(ByteOrder.LITTLE_ENDIAN).asFloatBuffer();\n            var floatArray = new float[dim];\n            floats.get(floatArray);\n            return floatArray;\n        } else if (type == 'I') {\n            var ints = ByteBuffer.wrap(chunkByte).order(ByteOrder.nativeOrder()).asIntBuffer();\n            var intArray = new int[dim];\n            ints.get(intArray);\n            return intArray;\n        }\n        return null;\n    }\n</code></pre>\n<p>I get negative results for the same byte arrays (byte[] chunkByte).</p>\n<p>For example, in Python, I get this value: vals[1220]=<strong>3221234265</strong>. But I get the wrong value for the similar index: vals[1220]=<strong>-1073733031</strong>.</p>\n<p>I tried changing <em><strong>nativeOrder()</strong></em> to <em><strong>LITTLE_ENDIAN</strong></em> but it didn't help.</p>\n"},{"tags":["java","jar"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1687883800,"post_id":76566723,"comment_id":134998179,"body_markdown":"*InputStream inputStream = getClass().getResourceAsStream(&quot;/sounds/music/MainThemes&quot;);* is not going to work. That, by definition of your code which follows, is a resource *folder*. What I *think* your purpose is can be fulfilled by making that something like `InputStream inputStream = getClass().getResourceAsStream(&quot;/sounds/music/MainThemes/index.txt&quot;);` and reading your real resource paths out of *that*","body":"<i>InputStream inputStream = getClass().getResourceAsStream(&quot;/sounds/music/MainThemes&quot;);</i> is not going to work. That, by definition of your code which follows, is a resource <i>folder</i>. What I <i>think</i> your purpose is can be fulfilled by making that something like <code>InputStream inputStream = getClass().getResourceAsStream(&quot;&#47;sounds&#47;music&#47;MainThemes&#47;ind&zwnj;&#8203;ex.txt&quot;);</code> and reading your real resource paths out of <i>that</i>"},{"owner":{"account_id":25660848,"reputation":5,"user_id":19426609,"display_name":"Shodan4004"},"score":0,"creation_date":1687906051,"post_id":76566723,"comment_id":135002015,"body_markdown":"g00se response fixed it thanks","body":"g00se response fixed it thanks"}],"owner":{"account_id":25660848,"reputation":5,"user_id":19426609,"display_name":"Shodan4004"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687881665,"creation_date":1687881665,"question_id":76566723,"body_markdown":"When i run the app in VSC it all works fine but when i generate the jar and execute it, doesnt seem to read the file as it supposed to be. I read lot of questions similar but i still cant find the solution.\r\n\r\nBasically I have to read all the .mp3 files from the folder &quot;/sounds/music/MainThemes&quot;, and add them to the list: &quot;mainThemeMediaList&quot;.\r\nThe prints ( --- number --) i&#39;m using as logging and when I run the Jar it prints me up to --- 2 --- and does not enter the while loop.\r\nIt seems that the buff read does not read the stream and thus results in null, and the list does not fill.\r\nI am new to java so any help is appreciated.\r\n\r\n``` \r\n    private void loadMainThemes() throws AudioLoadingException {\r\n        try {\r\n            System.out.println(&quot;--- 1 ---&quot;);\r\n            InputStream inputStream = getClass().getResourceAsStream(&quot;/sounds/music/MainThemes&quot;);\r\n            System.out.println(inputStream);\r\n            if (inputStream != null) {\r\n                BufferedReader reader = new BufferedReader(new InputStreamReader(inputStream));\r\n                System.out.println(reader);\r\n                String line;\r\n                System.out.println(&quot;--- 2 ---&quot;);\r\n                while ((line = reader.readLine()) != null) {\r\n                    System.out.println(&quot;--- 3 ---&quot;);\r\n                    if (line.endsWith(&quot;.mp3&quot;)) {\r\n                        System.out.println(&quot;--- 4 ---&quot;);\r\n                        Media media = new Media(getClass().getResource(&quot;/sounds/music/MainThemes/&quot; + line).toString());\r\n                        System.out.println(&quot;--- 5 ---&quot;);\r\n                        mainThemeMediaList.add(media);\r\n                    }\r\n                }\r\n            } else {\r\n                throw new AudioLoadingException(&quot;MainThemes resource not found.&quot;);\r\n            }\r\n        } catch (IOException e) {\r\n            throw new AudioLoadingException(&quot;Failed to load MainThemes. &quot; + e.getMessage());\r\n        }\r\n    }\r\n\r\n``` ","title":"Executable java jar can&#39;t find resources path","body":"<p>When i run the app in VSC it all works fine but when i generate the jar and execute it, doesnt seem to read the file as it supposed to be. I read lot of questions similar but i still cant find the solution.</p>\n<p>Basically I have to read all the .mp3 files from the folder &quot;/sounds/music/MainThemes&quot;, and add them to the list: &quot;mainThemeMediaList&quot;.\nThe prints ( --- number --) i'm using as logging and when I run the Jar it prints me up to --- 2 --- and does not enter the while loop.\nIt seems that the buff read does not read the stream and thus results in null, and the list does not fill.\nI am new to java so any help is appreciated.</p>\n<pre><code>    private void loadMainThemes() throws AudioLoadingException {\n        try {\n            System.out.println(&quot;--- 1 ---&quot;);\n            InputStream inputStream = getClass().getResourceAsStream(&quot;/sounds/music/MainThemes&quot;);\n            System.out.println(inputStream);\n            if (inputStream != null) {\n                BufferedReader reader = new BufferedReader(new InputStreamReader(inputStream));\n                System.out.println(reader);\n                String line;\n                System.out.println(&quot;--- 2 ---&quot;);\n                while ((line = reader.readLine()) != null) {\n                    System.out.println(&quot;--- 3 ---&quot;);\n                    if (line.endsWith(&quot;.mp3&quot;)) {\n                        System.out.println(&quot;--- 4 ---&quot;);\n                        Media media = new Media(getClass().getResource(&quot;/sounds/music/MainThemes/&quot; + line).toString());\n                        System.out.println(&quot;--- 5 ---&quot;);\n                        mainThemeMediaList.add(media);\n                    }\n                }\n            } else {\n                throw new AudioLoadingException(&quot;MainThemes resource not found.&quot;);\n            }\n        } catch (IOException e) {\n            throw new AudioLoadingException(&quot;Failed to load MainThemes. &quot; + e.getMessage());\n        }\n    }\n\n</code></pre>\n"},{"tags":["java","xml","spring"],"answers":[{"tags":[],"owner":{"account_id":12007582,"reputation":101,"user_id":8785434,"display_name":"Nguyen Tung"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":true,"score":-1,"last_activity_date":1687881347,"creation_date":1687881347,"answer_id":76566680,"question_id":76566559,"body_markdown":"To fix this issue, you could add the method ```setter``` for &quot;city&quot; field in the &quot;Address&quot;:\r\n```java\r\npublic void setCity(String city) {\r\n    this.city = city;\r\n}\r\n```\r\nOr you could create a constructor of class Address:\r\n```java\r\npublic Address(String city) {\r\n    this.city = city;\r\n}\r\n\r\n\r\n```\r\nYou got this issue because Spring tries to create an instance of the &quot;Address&quot; object for the &quot;add&quot; bean, but the &quot;Address&quot; class does not have a constructor or setter method for the &quot;city&quot; property.\r\nI hope this help!","title":"In my application one class cannot be found whose reference I have added in another class","body":"<p>To fix this issue, you could add the method <code>setter</code> for &quot;city&quot; field in the &quot;Address&quot;:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public void setCity(String city) {\n    this.city = city;\n}\n</code></pre>\n<p>Or you could create a constructor of class Address:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public Address(String city) {\n    this.city = city;\n}\n\n\n</code></pre>\n<p>You got this issue because Spring tries to create an instance of the &quot;Address&quot; object for the &quot;add&quot; bean, but the &quot;Address&quot; class does not have a constructor or setter method for the &quot;city&quot; property.\nI hope this help!</p>\n"}],"owner":{"display_name":"user17788823"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76566680,"answer_count":1,"score":0,"last_activity_date":1687881347,"creation_date":1687880513,"question_id":76566559,"body_markdown":"Error creating bean with name &#39;person&#39; defined in class path resource [config.xml]: Cannot resolve reference to bean &#39;add&#39; while setting bean property &#39;address&#39;\r\n\r\n\r\n\r\nI am getting the above error but cannot understand why it is hapenning.\r\nAll of my classes are in the same package.\r\n\r\nBelow is my config file:\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot; http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd&quot;&gt;\r\n\r\n&lt;bean class=&quot;com.lcwd.withoutboot.Person&quot; id=&quot;person&quot;&gt;\r\n    &lt;property name=&quot;name&quot; value=&quot;Sourabh&quot;/&gt;\r\n    &lt;property name=&quot;address&quot; ref=&quot;add&quot;/&gt;\r\n&lt;/bean&gt;\r\n\r\n&lt;bean class=&quot;com.lcwd.withoutboot.Address&quot; id=&quot;add&quot;&gt;\r\n    &lt;property name=&quot;city&quot; value=&quot;Mumbai&quot;/&gt;\r\n&lt;/bean&gt;\r\n&lt;/beans&gt;\r\n```\r\n\r\nApp.java\r\n```\r\npublic class App \r\n{ \r\npublic static void main( String[] args ) { \r\nApplicationContext context=new ClassPathXmlApplicationContext(&quot;config.xml&quot;); System.out.println( &quot;Hello World!&quot; ); \r\nPerson person=context.getBean(&quot;person&quot;, Person.class);\r\n System.out.println(person.getName());\r\n System.out.println(person.getAddress()); \r\n} \r\n}\r\n```\r\n\r\nPerson.java\r\n```\r\npackage com.lcwd.withoutboot;\r\npublic class Person { Address address;\r\n\r\npublic Address getAddress() {\r\n    return address;\r\n}\r\n\r\npublic void setAddress(Address address) {\r\n    this.address = address;\r\n}\r\n\r\nString name;\r\n\r\npublic String getName() {\r\n    return name;\r\n}\r\n\r\npublic void setName(String name) {\r\n    this.name = name;\r\n}\r\n}\r\n```\r\n\r\nAddress.java\r\n```\r\npackage com.lcwd.withoutboot;\r\npublic class Address { String city;\r\n\r\n@Override\r\npublic String toString() {\r\n    return &quot;Address{&quot; +\r\n            &quot;city=&#39;&quot; + city + &#39;\\&#39;&#39; +\r\n            &#39;}&#39;;\r\n}\r\n}\r\n```\r\n\r\npom.xml\r\n```\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n  xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n  &lt;groupId&gt;com.lcwd.withoutboot&lt;/groupId&gt;\r\n  &lt;artifactId&gt;SpringWithoutBoot&lt;/artifactId&gt;\r\n  &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n  &lt;packaging&gt;jar&lt;/packaging&gt;\r\n\r\n  &lt;name&gt;SpringWithoutBoot&lt;/name&gt;\r\n  &lt;url&gt;http://maven.apache.org&lt;/url&gt;\r\n\r\n  &lt;properties&gt;\r\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    &lt;maven.compiler.source&gt;17&lt;/maven.compiler.source&gt;\r\n    &lt;maven.compiler.target&gt;17&lt;/maven.compiler.target&gt;\r\n  &lt;/properties&gt;\r\n\r\n  &lt;dependencies&gt;\r\n    &lt;!-- https://mvnrepository.com/artifact/org.springframework/spring-context --&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n      &lt;artifactId&gt;spring-context&lt;/artifactId&gt;\r\n      &lt;version&gt;6.0.9&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;!-- https://mvnrepository.com/artifact/org.springframework/spring-core --&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n      &lt;artifactId&gt;spring-core&lt;/artifactId&gt;\r\n      &lt;version&gt;6.0.9&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;junit&lt;/groupId&gt;\r\n      &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n      &lt;version&gt;3.8.1&lt;/version&gt;\r\n      &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n  &lt;/dependencies&gt;\r\n&lt;/project&gt;\r\n```","title":"In my application one class cannot be found whose reference I have added in another class","body":"<p>Error creating bean with name 'person' defined in class path resource [config.xml]: Cannot resolve reference to bean 'add' while setting bean property 'address'</p>\n<p>I am getting the above error but cannot understand why it is hapenning.\nAll of my classes are in the same package.</p>\n<p>Below is my config file:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot; http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd&quot;&gt;\n\n&lt;bean class=&quot;com.lcwd.withoutboot.Person&quot; id=&quot;person&quot;&gt;\n    &lt;property name=&quot;name&quot; value=&quot;Sourabh&quot;/&gt;\n    &lt;property name=&quot;address&quot; ref=&quot;add&quot;/&gt;\n&lt;/bean&gt;\n\n&lt;bean class=&quot;com.lcwd.withoutboot.Address&quot; id=&quot;add&quot;&gt;\n    &lt;property name=&quot;city&quot; value=&quot;Mumbai&quot;/&gt;\n&lt;/bean&gt;\n&lt;/beans&gt;\n</code></pre>\n<p>App.java</p>\n<pre><code>public class App \n{ \npublic static void main( String[] args ) { \nApplicationContext context=new ClassPathXmlApplicationContext(&quot;config.xml&quot;); System.out.println( &quot;Hello World!&quot; ); \nPerson person=context.getBean(&quot;person&quot;, Person.class);\n System.out.println(person.getName());\n System.out.println(person.getAddress()); \n} \n}\n</code></pre>\n<p>Person.java</p>\n<pre><code>package com.lcwd.withoutboot;\npublic class Person { Address address;\n\npublic Address getAddress() {\n    return address;\n}\n\npublic void setAddress(Address address) {\n    this.address = address;\n}\n\nString name;\n\npublic String getName() {\n    return name;\n}\n\npublic void setName(String name) {\n    this.name = name;\n}\n}\n</code></pre>\n<p>Address.java</p>\n<pre><code>package com.lcwd.withoutboot;\npublic class Address { String city;\n\n@Override\npublic String toString() {\n    return &quot;Address{&quot; +\n            &quot;city='&quot; + city + '\\'' +\n            '}';\n}\n}\n</code></pre>\n<p>pom.xml</p>\n<pre><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n  xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n  &lt;groupId&gt;com.lcwd.withoutboot&lt;/groupId&gt;\n  &lt;artifactId&gt;SpringWithoutBoot&lt;/artifactId&gt;\n  &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n  &lt;packaging&gt;jar&lt;/packaging&gt;\n\n  &lt;name&gt;SpringWithoutBoot&lt;/name&gt;\n  &lt;url&gt;http://maven.apache.org&lt;/url&gt;\n\n  &lt;properties&gt;\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;maven.compiler.source&gt;17&lt;/maven.compiler.source&gt;\n    &lt;maven.compiler.target&gt;17&lt;/maven.compiler.target&gt;\n  &lt;/properties&gt;\n\n  &lt;dependencies&gt;\n    &lt;!-- https://mvnrepository.com/artifact/org.springframework/spring-context --&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-context&lt;/artifactId&gt;\n      &lt;version&gt;6.0.9&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- https://mvnrepository.com/artifact/org.springframework/spring-core --&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-core&lt;/artifactId&gt;\n      &lt;version&gt;6.0.9&lt;/version&gt;\n    &lt;/dependency&gt;\n\n\n    &lt;dependency&gt;\n      &lt;groupId&gt;junit&lt;/groupId&gt;\n      &lt;artifactId&gt;junit&lt;/artifactId&gt;\n      &lt;version&gt;3.8.1&lt;/version&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n  &lt;/dependencies&gt;\n&lt;/project&gt;\n</code></pre>\n"},{"tags":["java","amazon-web-services","amazon-cloudwatchlogs"],"comments":[{"owner":{"account_id":2843847,"reputation":55833,"user_id":2442804,"accept_rate":80,"display_name":"luk2302"},"score":3,"creation_date":1687881222,"post_id":76566632,"comment_id":134997568,"body_markdown":"Cloudwatch logs is slow to query. And you query twice, once to get the number of logs and then to iterate over them, certainly not a good idea.","body":"Cloudwatch logs is slow to query. And you query twice, once to get the number of logs and then to iterate over them, certainly not a good idea."}],"owner":{"account_id":3483162,"reputation":456,"user_id":2914693,"accept_rate":48,"display_name":"j8d"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":83,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1687881006,"creation_date":1687881006,"question_id":76566632,"body_markdown":"The following code is taking 60 seconds or more to retrieve no more than a dozen short log events. \r\n\r\nAny implicit inefficiencies in my code?\r\n\r\n    public List&lt;String&gt; getCWLogEvents(String logGroupName, String logStreamNamePrefix, Long startTime, Long endTime) {\r\n    \r\n        List&lt;String&gt; logMessages = new LinkedList&lt;String&gt;();\r\n    \r\n        try {\r\n            FilterLogEventsRequest filterLogEventsRequest = FilterLogEventsRequest.builder()\r\n                    .logGroupName(logGroupName)\r\n                    .logStreamNamePrefix(logStreamNamePrefix)\r\n                    .startTime(startTime)\r\n                    .endTime(endTime)\r\n                    .build();\r\n    \r\n            int logLimit = this.cloudWatchLogsClient.filterLogEvents(filterLogEventsRequest).events().size();\r\n    \r\n            for (int c = 0; c &lt; logLimit; c++) {\r\n                logMessages.add(\r\n                        this.cloudWatchLogsClient.filterLogEvents(filterLogEventsRequest).events().get(c).message());\r\n            }\r\n    \r\n            return logMessages;\r\n    \r\n        } catch (CloudWatchException e) {\r\n            log.error(e.awsErrorDetails().errorMessage());\r\n        }\r\n    \r\n        return Collections.emptyList();\r\n    }","title":"Make FilterLogEventsRequest more efficient","body":"<p>The following code is taking 60 seconds or more to retrieve no more than a dozen short log events.</p>\n<p>Any implicit inefficiencies in my code?</p>\n<pre><code>public List&lt;String&gt; getCWLogEvents(String logGroupName, String logStreamNamePrefix, Long startTime, Long endTime) {\n\n    List&lt;String&gt; logMessages = new LinkedList&lt;String&gt;();\n\n    try {\n        FilterLogEventsRequest filterLogEventsRequest = FilterLogEventsRequest.builder()\n                .logGroupName(logGroupName)\n                .logStreamNamePrefix(logStreamNamePrefix)\n                .startTime(startTime)\n                .endTime(endTime)\n                .build();\n\n        int logLimit = this.cloudWatchLogsClient.filterLogEvents(filterLogEventsRequest).events().size();\n\n        for (int c = 0; c &lt; logLimit; c++) {\n            logMessages.add(\n                    this.cloudWatchLogsClient.filterLogEvents(filterLogEventsRequest).events().get(c).message());\n        }\n\n        return logMessages;\n\n    } catch (CloudWatchException e) {\n        log.error(e.awsErrorDetails().errorMessage());\n    }\n\n    return Collections.emptyList();\n}\n</code></pre>\n"},{"tags":["java","android","permissions"],"owner":{"account_id":27262600,"reputation":1,"user_id":20785220,"display_name":"thunderkat211"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687880803,"creation_date":1687880803,"question_id":76566601,"body_markdown":"Hoping someone can help me with an ongoing frustrating issue with trying to publish one of my Android Apps written in Java to the Google Playstore. Everytime I try to publish it to the Google Playstore, I receive a rejection letter (from what feels like an automated rejection letter from their compliancy department.)\r\n\r\nBelow is the letter from Google, my code in question, and my Android Manifest listing the permissions. I have tried at least 20 attempts to modify the code to be compliant and each time no matter what I changed, it has failed to get past their filters. Anyone know anything about how to implement code on making your phone a default phone handler or can anyone se what is wrong with my default handler situation?\r\n\r\n&quot;Letter from Playstore&quot;\r\n\r\n**Issue with your app\r\n\r\n**After reviewing your app, we found that it doesn’t comply with the Permissions and APIs that Access Sensitive Information policy. An app can use Call Log or SMS permissions only when it is acting as a designated default handler or its core functionality falls within a permitted use case.\r\nApps must be actively registered as the default SMS, Phone, or Assistant handler before prompting users to accept any SMS or Call Log permissions. Those apps must immediately stop using the permission when they’re no longer the default handler.\r\nYou declared default Phone handling in your declaration form, but your app isn’t the registered default handler for phone or its other core functionality.\r\n\r\nI have tried to change the order in which the permission request present themselves. As of now I have the default handler prompt showing up first and if the user opts NO, the app doesnt work. I cannot understand what can be more compliant than that.\r\n\r\n```\r\n\r\n//my code\r\n\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport androidx.core.app.ActivityCompat;\r\nimport androidx.core.content.ContextCompat;\r\nimport android.Manifest;\r\nimport android.app.AlertDialog;\r\nimport android.app.NotificationManager;\r\nimport android.content.Context;\r\nimport android.content.Intent;\r\nimport android.content.SharedPreferences;\r\nimport android.content.pm.PackageManager;\r\nimport android.graphics.Color;\r\nimport android.media.AudioManager;\r\nimport android.os.Build;\r\nimport android.os.Bundle;\r\nimport android.provider.Settings;\r\nimport android.telecom.TelecomManager;\r\nimport android.view.View;\r\nimport android.widget.Button;\r\nimport android.widget.ImageButton;\r\nimport android.widget.TextView;\r\nimport android.widget.Toast;\r\n\r\npublic class MainActivity extends AppCompatActivity {\r\n    private TextView currentStateTV;\r\n    private ImageButton ringtoneIB;\r\n\r\n    private AudioManager audioManager;\r\n    private int currentMode;\r\n    private static final int PERMISSION_REQUEST_CODE = 1;\r\n    private static final String SHARED_PREFS_NAME = &quot;MyPrefs&quot;;\r\n    private static final String KEY_SHARED_SETTING_EXECUTED = &quot;sharedSettingExecuted&quot;;\r\n\r\n    private boolean isSharedSettingExecuted = false;\r\n    private TelecomManager telecomManager;\r\n    private SharedPreferences sharedPreferences;\r\n    private boolean isPermissionGranted = false; // Added flag to track permission status\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n    super.onCreate(savedInstanceState);\r\n    setContentView(R.layout.activity_main);\r\n\r\n    currentStateTV = findViewById(R.id.currentStateTV);\r\n    ringtoneIB = findViewById(R.id.ringer);\r\n    audioManager = (AudioManager) getSystemService(Context.AUDIO_SERVICE);\r\n\r\n    sharedPreferences = getSharedPreferences(SHARED_PREFS_NAME, MODE_PRIVATE);\r\n    isSharedSettingExecuted = sharedPreferences.getBoolean(KEY_SHARED_SETTING_EXECUTED, false);\r\n\r\n    telecomManager = (TelecomManager) getSystemService(Context.TELECOM_SERVICE);\r\n    boolean isDefaultDialer = getPackageName().equals(telecomManager.getDefaultDialerPackage());\r\n\r\n   ** if (!isDefaultDialer &amp;&amp; !isSharedSettingExecuted) {\r\n    AlertDialog.Builder builder = new AlertDialog.Builder(this);\r\n    builder.setTitle(&quot;Set as Default Phone App&quot;);\r\n    builder.setMessage(&quot;Would you like to set this app as your default phone app?&quot;);\r\n    builder.setPositiveButton(&quot;Yes&quot;, (dialog, which) -&gt; {\r\n    Intent intent = new Intent(TelecomManager.ACTION_CHANGE_DEFAULT_DIALER);\r\n    intent.putExtra(TelecomManager.EXTRA_CHANGE_DEFAULT_DIALER_PACKAGE_NAME, getPackageName());\r\n    startActivity(intent);\r\n    performCodeBlock2();});\r\n\r\n    builder.setNegativeButton(&quot;No&quot;, (dialog, which) -&gt; {\r\n    Toast.makeText(MainActivity.this, &quot;App is not set as the default phone handler&quot;,  \r\n\r\n    Toast.LENGTH_SHORT).show();});\r\n    builder.show();} else {\r\n    performCodeBlock2();}**\r\n\r\n    // Set up OnClickListener for ringtoneIB\r\n    ringtoneIB.setOnClickListener(v -&gt; {\r\n    audioManager.setRingerMode(AudioManager.RINGER_MODE_NORMAL);\r\n    Toast.makeText(MainActivity.this, &quot;Ringtone Mode Activated..&quot;, Toast.LENGTH_SHORT).show();\r\n    currentStateTV.setText(&quot;Ringtone Mode Activated..&quot;);});\r\n\r\n    // Set up OnClickListener for button\r\n    Button button = findViewById(R.id.button);\r\n    button.setOnClickListener(v -&gt; {\r\n\r\n\r\n    Intent intentLoadNewActivity = new Intent(MainActivity.this, NewActivity.class);\r\n    startActivity(intentLoadNewActivity);\r\n    });\r\n\r\n    // Set up OnClickListener for hideButton\r\n    ImageButton hideButton = findViewById(R.id.hideme);\r\n    hideButton.setOnClickListener(view -&gt; {\r\n    audioManager.setRingerMode(AudioManager.RINGER_MODE_SILENT);\r\n    currentStateTV.setText(&quot;Ringtone Mode Silent (APP RUNNING)&quot;);\r\n    currentStateTV.setTextColor(Color.parseColor(&quot;#FFFFFF&quot;));\r\n\r\n    if (ContextCompat.checkSelfPermission(this, Manifest.permission.READ_CALL_LOG) != \r\n\r\n    PackageManager.PERMISSION_GRANTED) {\r\n    Toast.makeText(this, &quot;App disabled until permissions accepted. Close &amp; Restart App&quot;, \r\n\r\n    Toast.LENGTH_SHORT).show();} \r\n    else {\r\n    Toast.makeText(this, &quot;Good to Go! Hiding App&quot;, Toast.LENGTH_SHORT).show();\r\n    }\r\n\r\n    view.postDelayed(() -&gt; moveTaskToBack(true), 2000);\r\n    });\r\n    }\r\n\r\n    private void performCodeBlock2() {\r\n    if (!isSharedSettingExecuted) {\r\n    isSharedSettingExecuted = true;\r\n    sharedPreferences.edit().putBoolean(KEY_SHARED_SETTING_EXECUTED,\r\n    isSharedSettingExecuted).apply();\r\n    } else {\r\n    return; // Skip code block 2 if already executed\r\n    }\r\n\r\n    currentMode = audioManager.getRingerMode();\r\n\r\n    switch (currentMode) {\r\n    case AudioManager.RINGER_MODE_NORMAL:\r\n    currentStateTV.setText(&quot;Ringer Mode&quot;);\r\n    break;\r\n    case AudioManager.RINGER_MODE_SILENT:\r\n    currentStateTV.setText(&quot;Ringer Mode Silent&quot;);\r\n    break;\r\n    default:\r\n    currentStateTV.setText(&quot;Fail to get mode&quot;);\r\n        }\r\n\r\n    NotificationManager notificationManager = (NotificationManager)  \r\n    getSystemService(Context.NOTIFICATION_SERVICE);\r\n\r\n    **if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.M &amp;&amp;   \r\n    !notificationManager.isNotificationPolicyAccessGranted()) {\r\n    Intent intent = new Intent(Settings.ACTION_NOTIFICATION_POLICY_ACCESS_SETTINGS);\r\n    startActivity(intent);\r\n    }\r\n\r\n    if (ContextCompat.checkSelfPermission(MainActivity.this,  \r\n    Manifest.permission.READ_PHONE_STATE) != PackageManager.PERMISSION_GRANTED) {\r\n    if (ActivityCompat.shouldShowRequestPermissionRationale(MainActivity.this, \r\n    Manifest.permission.READ_PHONE_STATE)) {\r\n    ActivityCompat.requestPermissions(MainActivity.this, new String[] \r\n    {Manifest.permission.READ_PHONE_STATE}, PERMISSION_REQUEST_CODE);\r\n    } else {\r\n    ActivityCompat.requestPermissions(MainActivity.this, new String[].   \r\n    {Manifest.permission.READ_PHONE_STATE}, PERMISSION_REQUEST_CODE);\r\n    }\r\n    } else {\r\n    isPermissionGranted = true; // Permission is already granted\r\n    }\r\n    }\r\n\r\n    @Override\r\n    public void onRequestPermissionsResult(int requestCode, String[] permissions, int[] \r\n    grantResults) {\r\n    super.onRequestPermissionsResult(requestCode, permissions, grantResults);\r\n    switch (requestCode) {\r\n    case PERMISSION_REQUEST_CODE: {\r\n    if (grantResults.length &gt; 0 &amp;&amp; grantResults[0] == PackageManager.PERMISSION_GRANTED) {\r\n    if (ContextCompat.checkSelfPermission(MainActivity.this, \r\n    Manifest.permission.READ_PHONE_STATE) == PackageManager.PERMISSION_GRANTED) {\r\n    if (!isPermissionGranted) { // Check if permission was not already granted\r\n    if (permissions[0].equals(Manifest.permission.READ_PHONE_STATE)) {\r\n    Toast.makeText(this, &quot;Permission Granted&quot;, Toast.LENGTH_SHORT).show();\r\n    isPermissionGranted = true;\r\n    }\r\n    }\r\n\r\n    if (ContextCompat.checkSelfPermission(MainActivity.this, Manifest.permission.READ_CALL_LOG)\r\n    != PackageManager.PERMISSION_GRANTED) {\r\n    if   (ActivityCompat.shouldShowRequestPermissionRationale(MainActivity.this, \r\n    Manifest.permission.READ_CALL_LOG)) {\r\n    ActivityCompat.requestPermissions(MainActivity.this, new String[]{Manifest.permission.READ_CALL_LOG}, 11);\r\n                            } else {\r\n                                ActivityCompat.requestPermissions(MainActivity.this, new String[]{Manifest.permission.READ_CALL_LOG}, 11);\r\n                            }\r\n                        }\r\n                    }\r\n                } else {\r\n                    Toast.makeText(this, &quot;Permission Denied&quot;, Toast.LENGTH_SHORT).show();\r\n                }\r\n                break;\r\n            }\r\n            case 11: {\r\n                if (grantResults.length &gt; 0 &amp;&amp; grantResults[0] == PackageManager.PERMISSION_GRANTED) {\r\n                    if (ContextCompat.checkSelfPermission(MainActivity.this, Manifest.permission.READ_CALL_LOG) == PackageManager.PERMISSION_GRANTED) {\r\n                        Toast.makeText(this, &quot;Permission Granted&quot;, Toast.LENGTH_SHORT).show();\r\n                    }\r\n                } else {\r\n                    Toast.makeText(this, &quot;Permission Denied&quot;, Toast.LENGTH_SHORT).show();\r\n                }\r\n                break;\r\n            }\r\n        }**\r\n    }\r\n\r\n    @Override\r\n    protected void onStop() {\r\n        super.onStop();\r\n\r\n        telecomManager = (TelecomManager) getSystemService(Context.TELECOM_SERVICE);\r\n        boolean isDefaultDialer = getPackageName().equals(telecomManager.getDefaultDialerPackage());\r\n\r\n        if (!isDefaultDialer) {\r\n            if (ContextCompat.checkSelfPermission(MainActivity.this, Manifest.permission.READ_CALL_LOG) == PackageManager.PERMISSION_GRANTED) {\r\n                ActivityCompat.requestPermissions(MainActivity.this, new String[]{Manifest.permission.READ_CALL_LOG}, PERMISSION_REQUEST_CODE);\r\n            }\r\n        }\r\n    }\r\n\r\n    @Override\r\n    protected void onSaveInstanceState(Bundle outState) {\r\n        super.onSaveInstanceState(outState);\r\n        outState.putBoolean(&quot;isPermissionGranted&quot;, isPermissionGranted);\r\n    }\r\n\r\n    @Override\r\n    protected void onRestoreInstanceState(Bundle savedInstanceState) {\r\n        super.onRestoreInstanceState(savedInstanceState);\r\n        isPermissionGranted = savedInstanceState.getBoolean(&quot;isPermissionGranted&quot;, false);\r\n    }\r\n}\r\n\r\n\r\n```\r\n\r\n//my manifest\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.REQUEST_IGNORE_BATTERY_OPTIMIZATIONS&quot;/&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.CHANGE_DEFAULT_DIALER&quot; /&gt;\r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_NOTIFICATION_POLICY&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.MODIFY_AUDIO_SETTINGS&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.READ_PHONE_STATE&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.READ_CALL_LOG&quot; /&gt;\r\n\r\n    &lt;application\r\n        android:allowBackup=&quot;true&quot;\r\n        android:dataExtractionRules=&quot;@xml/data_extraction_rules&quot;\r\n        android:fullBackupContent=&quot;@xml/backup_rules&quot;\r\n        android:icon=&quot;@mipmap/ic_launcher&quot;\r\n        android:label=&quot;@string/app_name&quot;\r\n        android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\r\n        android:supportsRtl=&quot;true&quot;\r\n        android:theme=&quot;@style/Theme.MyApplication123&quot;\r\n        tools:targetApi=&quot;31&quot;&gt;\r\n        &lt;activity\r\n            android:name=&quot;.NewActivity&quot;\r\n            android:exported=&quot;false&quot;&gt;\r\n            &lt;meta-data\r\n                android:name=&quot;android.app.lib_name&quot;\r\n                android:value=&quot;&quot; /&gt;\r\n        &lt;/activity&gt;\r\n        &lt;activity\r\n            android:name=&quot;.MainActivity&quot;\r\n            android:exported=&quot;true&quot;&gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n                &lt;action android:name=&quot;android.intent.action.DIAL&quot;/&gt;\r\n                &lt;action android:name=&quot;android.intent.action.CALL&quot; /&gt;\r\n\r\n                &lt;category android:name=&quot;android.intent.category.DEFAULT&quot;/&gt;\r\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.intent.action.ASSIST&quot; /&gt;\r\n                &lt;category android:name=&quot;android.intent.category.DEFAULT&quot; /&gt;\r\n                &lt;action android:name=&quot;android.intent.action.DIAL&quot;/&gt;\r\n\r\n            &lt;/intent-filter&gt;\r\n            &lt;meta-data\r\n                android:name=&quot;android.app.lib_name&quot;\r\n                android:value=&quot;&quot; /&gt;\r\n        &lt;/activity&gt;\r\n\r\n        &lt;receiver\r\n            android:name=&quot;.CallReceiver&quot;\r\n            android:exported=&quot;true&quot;&gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.intent.action.PHONE_STATE&quot; /&gt;\r\n                &lt;action android:name=&quot;android.intent.action.BOOT_COMPLETED&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n        &lt;/receiver&gt;\r\n    &lt;/application&gt;\r\n\r\n&lt;/manifest&gt;\r\n```","title":"Default Phone Handler Google Playstore Policy. My app constantly rejected","body":"<p>Hoping someone can help me with an ongoing frustrating issue with trying to publish one of my Android Apps written in Java to the Google Playstore. Everytime I try to publish it to the Google Playstore, I receive a rejection letter (from what feels like an automated rejection letter from their compliancy department.)</p>\n<p>Below is the letter from Google, my code in question, and my Android Manifest listing the permissions. I have tried at least 20 attempts to modify the code to be compliant and each time no matter what I changed, it has failed to get past their filters. Anyone know anything about how to implement code on making your phone a default phone handler or can anyone se what is wrong with my default handler situation?</p>\n<p>&quot;Letter from Playstore&quot;</p>\n<p>**Issue with your app</p>\n<p>**After reviewing your app, we found that it doesn’t comply with the Permissions and APIs that Access Sensitive Information policy. An app can use Call Log or SMS permissions only when it is acting as a designated default handler or its core functionality falls within a permitted use case.\nApps must be actively registered as the default SMS, Phone, or Assistant handler before prompting users to accept any SMS or Call Log permissions. Those apps must immediately stop using the permission when they’re no longer the default handler.\nYou declared default Phone handling in your declaration form, but your app isn’t the registered default handler for phone or its other core functionality.</p>\n<p>I have tried to change the order in which the permission request present themselves. As of now I have the default handler prompt showing up first and if the user opts NO, the app doesnt work. I cannot understand what can be more compliant than that.</p>\n<pre><code>\n//my code\n\nimport androidx.appcompat.app.AppCompatActivity;\nimport androidx.core.app.ActivityCompat;\nimport androidx.core.content.ContextCompat;\nimport android.Manifest;\nimport android.app.AlertDialog;\nimport android.app.NotificationManager;\nimport android.content.Context;\nimport android.content.Intent;\nimport android.content.SharedPreferences;\nimport android.content.pm.PackageManager;\nimport android.graphics.Color;\nimport android.media.AudioManager;\nimport android.os.Build;\nimport android.os.Bundle;\nimport android.provider.Settings;\nimport android.telecom.TelecomManager;\nimport android.view.View;\nimport android.widget.Button;\nimport android.widget.ImageButton;\nimport android.widget.TextView;\nimport android.widget.Toast;\n\npublic class MainActivity extends AppCompatActivity {\n    private TextView currentStateTV;\n    private ImageButton ringtoneIB;\n\n    private AudioManager audioManager;\n    private int currentMode;\n    private static final int PERMISSION_REQUEST_CODE = 1;\n    private static final String SHARED_PREFS_NAME = &quot;MyPrefs&quot;;\n    private static final String KEY_SHARED_SETTING_EXECUTED = &quot;sharedSettingExecuted&quot;;\n\n    private boolean isSharedSettingExecuted = false;\n    private TelecomManager telecomManager;\n    private SharedPreferences sharedPreferences;\n    private boolean isPermissionGranted = false; // Added flag to track permission status\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_main);\n\n    currentStateTV = findViewById(R.id.currentStateTV);\n    ringtoneIB = findViewById(R.id.ringer);\n    audioManager = (AudioManager) getSystemService(Context.AUDIO_SERVICE);\n\n    sharedPreferences = getSharedPreferences(SHARED_PREFS_NAME, MODE_PRIVATE);\n    isSharedSettingExecuted = sharedPreferences.getBoolean(KEY_SHARED_SETTING_EXECUTED, false);\n\n    telecomManager = (TelecomManager) getSystemService(Context.TELECOM_SERVICE);\n    boolean isDefaultDialer = getPackageName().equals(telecomManager.getDefaultDialerPackage());\n\n   ** if (!isDefaultDialer &amp;&amp; !isSharedSettingExecuted) {\n    AlertDialog.Builder builder = new AlertDialog.Builder(this);\n    builder.setTitle(&quot;Set as Default Phone App&quot;);\n    builder.setMessage(&quot;Would you like to set this app as your default phone app?&quot;);\n    builder.setPositiveButton(&quot;Yes&quot;, (dialog, which) -&gt; {\n    Intent intent = new Intent(TelecomManager.ACTION_CHANGE_DEFAULT_DIALER);\n    intent.putExtra(TelecomManager.EXTRA_CHANGE_DEFAULT_DIALER_PACKAGE_NAME, getPackageName());\n    startActivity(intent);\n    performCodeBlock2();});\n\n    builder.setNegativeButton(&quot;No&quot;, (dialog, which) -&gt; {\n    Toast.makeText(MainActivity.this, &quot;App is not set as the default phone handler&quot;,  \n\n    Toast.LENGTH_SHORT).show();});\n    builder.show();} else {\n    performCodeBlock2();}**\n\n    // Set up OnClickListener for ringtoneIB\n    ringtoneIB.setOnClickListener(v -&gt; {\n    audioManager.setRingerMode(AudioManager.RINGER_MODE_NORMAL);\n    Toast.makeText(MainActivity.this, &quot;Ringtone Mode Activated..&quot;, Toast.LENGTH_SHORT).show();\n    currentStateTV.setText(&quot;Ringtone Mode Activated..&quot;);});\n\n    // Set up OnClickListener for button\n    Button button = findViewById(R.id.button);\n    button.setOnClickListener(v -&gt; {\n\n\n    Intent intentLoadNewActivity = new Intent(MainActivity.this, NewActivity.class);\n    startActivity(intentLoadNewActivity);\n    });\n\n    // Set up OnClickListener for hideButton\n    ImageButton hideButton = findViewById(R.id.hideme);\n    hideButton.setOnClickListener(view -&gt; {\n    audioManager.setRingerMode(AudioManager.RINGER_MODE_SILENT);\n    currentStateTV.setText(&quot;Ringtone Mode Silent (APP RUNNING)&quot;);\n    currentStateTV.setTextColor(Color.parseColor(&quot;#FFFFFF&quot;));\n\n    if (ContextCompat.checkSelfPermission(this, Manifest.permission.READ_CALL_LOG) != \n\n    PackageManager.PERMISSION_GRANTED) {\n    Toast.makeText(this, &quot;App disabled until permissions accepted. Close &amp; Restart App&quot;, \n\n    Toast.LENGTH_SHORT).show();} \n    else {\n    Toast.makeText(this, &quot;Good to Go! Hiding App&quot;, Toast.LENGTH_SHORT).show();\n    }\n\n    view.postDelayed(() -&gt; moveTaskToBack(true), 2000);\n    });\n    }\n\n    private void performCodeBlock2() {\n    if (!isSharedSettingExecuted) {\n    isSharedSettingExecuted = true;\n    sharedPreferences.edit().putBoolean(KEY_SHARED_SETTING_EXECUTED,\n    isSharedSettingExecuted).apply();\n    } else {\n    return; // Skip code block 2 if already executed\n    }\n\n    currentMode = audioManager.getRingerMode();\n\n    switch (currentMode) {\n    case AudioManager.RINGER_MODE_NORMAL:\n    currentStateTV.setText(&quot;Ringer Mode&quot;);\n    break;\n    case AudioManager.RINGER_MODE_SILENT:\n    currentStateTV.setText(&quot;Ringer Mode Silent&quot;);\n    break;\n    default:\n    currentStateTV.setText(&quot;Fail to get mode&quot;);\n        }\n\n    NotificationManager notificationManager = (NotificationManager)  \n    getSystemService(Context.NOTIFICATION_SERVICE);\n\n    **if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.M &amp;&amp;   \n    !notificationManager.isNotificationPolicyAccessGranted()) {\n    Intent intent = new Intent(Settings.ACTION_NOTIFICATION_POLICY_ACCESS_SETTINGS);\n    startActivity(intent);\n    }\n\n    if (ContextCompat.checkSelfPermission(MainActivity.this,  \n    Manifest.permission.READ_PHONE_STATE) != PackageManager.PERMISSION_GRANTED) {\n    if (ActivityCompat.shouldShowRequestPermissionRationale(MainActivity.this, \n    Manifest.permission.READ_PHONE_STATE)) {\n    ActivityCompat.requestPermissions(MainActivity.this, new String[] \n    {Manifest.permission.READ_PHONE_STATE}, PERMISSION_REQUEST_CODE);\n    } else {\n    ActivityCompat.requestPermissions(MainActivity.this, new String[].   \n    {Manifest.permission.READ_PHONE_STATE}, PERMISSION_REQUEST_CODE);\n    }\n    } else {\n    isPermissionGranted = true; // Permission is already granted\n    }\n    }\n\n    @Override\n    public void onRequestPermissionsResult(int requestCode, String[] permissions, int[] \n    grantResults) {\n    super.onRequestPermissionsResult(requestCode, permissions, grantResults);\n    switch (requestCode) {\n    case PERMISSION_REQUEST_CODE: {\n    if (grantResults.length &gt; 0 &amp;&amp; grantResults[0] == PackageManager.PERMISSION_GRANTED) {\n    if (ContextCompat.checkSelfPermission(MainActivity.this, \n    Manifest.permission.READ_PHONE_STATE) == PackageManager.PERMISSION_GRANTED) {\n    if (!isPermissionGranted) { // Check if permission was not already granted\n    if (permissions[0].equals(Manifest.permission.READ_PHONE_STATE)) {\n    Toast.makeText(this, &quot;Permission Granted&quot;, Toast.LENGTH_SHORT).show();\n    isPermissionGranted = true;\n    }\n    }\n\n    if (ContextCompat.checkSelfPermission(MainActivity.this, Manifest.permission.READ_CALL_LOG)\n    != PackageManager.PERMISSION_GRANTED) {\n    if   (ActivityCompat.shouldShowRequestPermissionRationale(MainActivity.this, \n    Manifest.permission.READ_CALL_LOG)) {\n    ActivityCompat.requestPermissions(MainActivity.this, new String[]{Manifest.permission.READ_CALL_LOG}, 11);\n                            } else {\n                                ActivityCompat.requestPermissions(MainActivity.this, new String[]{Manifest.permission.READ_CALL_LOG}, 11);\n                            }\n                        }\n                    }\n                } else {\n                    Toast.makeText(this, &quot;Permission Denied&quot;, Toast.LENGTH_SHORT).show();\n                }\n                break;\n            }\n            case 11: {\n                if (grantResults.length &gt; 0 &amp;&amp; grantResults[0] == PackageManager.PERMISSION_GRANTED) {\n                    if (ContextCompat.checkSelfPermission(MainActivity.this, Manifest.permission.READ_CALL_LOG) == PackageManager.PERMISSION_GRANTED) {\n                        Toast.makeText(this, &quot;Permission Granted&quot;, Toast.LENGTH_SHORT).show();\n                    }\n                } else {\n                    Toast.makeText(this, &quot;Permission Denied&quot;, Toast.LENGTH_SHORT).show();\n                }\n                break;\n            }\n        }**\n    }\n\n    @Override\n    protected void onStop() {\n        super.onStop();\n\n        telecomManager = (TelecomManager) getSystemService(Context.TELECOM_SERVICE);\n        boolean isDefaultDialer = getPackageName().equals(telecomManager.getDefaultDialerPackage());\n\n        if (!isDefaultDialer) {\n            if (ContextCompat.checkSelfPermission(MainActivity.this, Manifest.permission.READ_CALL_LOG) == PackageManager.PERMISSION_GRANTED) {\n                ActivityCompat.requestPermissions(MainActivity.this, new String[]{Manifest.permission.READ_CALL_LOG}, PERMISSION_REQUEST_CODE);\n            }\n        }\n    }\n\n    @Override\n    protected void onSaveInstanceState(Bundle outState) {\n        super.onSaveInstanceState(outState);\n        outState.putBoolean(&quot;isPermissionGranted&quot;, isPermissionGranted);\n    }\n\n    @Override\n    protected void onRestoreInstanceState(Bundle savedInstanceState) {\n        super.onRestoreInstanceState(savedInstanceState);\n        isPermissionGranted = savedInstanceState.getBoolean(&quot;isPermissionGranted&quot;, false);\n    }\n}\n\n\n</code></pre>\n<p>//my manifest</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;&gt;\n    &lt;uses-permission android:name=&quot;android.permission.REQUEST_IGNORE_BATTERY_OPTIMIZATIONS&quot;/&gt;\n    &lt;uses-permission android:name=&quot;android.permission.CHANGE_DEFAULT_DIALER&quot; /&gt;\n\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_NOTIFICATION_POLICY&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.MODIFY_AUDIO_SETTINGS&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.READ_PHONE_STATE&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.READ_CALL_LOG&quot; /&gt;\n\n    &lt;application\n        android:allowBackup=&quot;true&quot;\n        android:dataExtractionRules=&quot;@xml/data_extraction_rules&quot;\n        android:fullBackupContent=&quot;@xml/backup_rules&quot;\n        android:icon=&quot;@mipmap/ic_launcher&quot;\n        android:label=&quot;@string/app_name&quot;\n        android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\n        android:supportsRtl=&quot;true&quot;\n        android:theme=&quot;@style/Theme.MyApplication123&quot;\n        tools:targetApi=&quot;31&quot;&gt;\n        &lt;activity\n            android:name=&quot;.NewActivity&quot;\n            android:exported=&quot;false&quot;&gt;\n            &lt;meta-data\n                android:name=&quot;android.app.lib_name&quot;\n                android:value=&quot;&quot; /&gt;\n        &lt;/activity&gt;\n        &lt;activity\n            android:name=&quot;.MainActivity&quot;\n            android:exported=&quot;true&quot;&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\n                &lt;action android:name=&quot;android.intent.action.DIAL&quot;/&gt;\n                &lt;action android:name=&quot;android.intent.action.CALL&quot; /&gt;\n\n                &lt;category android:name=&quot;android.intent.category.DEFAULT&quot;/&gt;\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\n            &lt;/intent-filter&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=&quot;android.intent.action.ASSIST&quot; /&gt;\n                &lt;category android:name=&quot;android.intent.category.DEFAULT&quot; /&gt;\n                &lt;action android:name=&quot;android.intent.action.DIAL&quot;/&gt;\n\n            &lt;/intent-filter&gt;\n            &lt;meta-data\n                android:name=&quot;android.app.lib_name&quot;\n                android:value=&quot;&quot; /&gt;\n        &lt;/activity&gt;\n\n        &lt;receiver\n            android:name=&quot;.CallReceiver&quot;\n            android:exported=&quot;true&quot;&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=&quot;android.intent.action.PHONE_STATE&quot; /&gt;\n                &lt;action android:name=&quot;android.intent.action.BOOT_COMPLETED&quot; /&gt;\n            &lt;/intent-filter&gt;\n        &lt;/receiver&gt;\n    &lt;/application&gt;\n\n&lt;/manifest&gt;\n</code></pre>\n"},{"tags":["java","intellij-idea","java-20"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1687897048,"post_id":76566590,"comment_id":135000813,"body_markdown":"That looks like very incomplete information. The error is just vaguely telling you it didn&#39;t compile properly. What makes you think it&#39;s to do with that tz data? You should probably be giving the result of your build attempt, not an attempt to run it","body":"That looks like very incomplete information. The error is just vaguely telling you it didn&#39;t compile properly. What makes you think it&#39;s to do with that tz data? You should probably be giving the result of your build attempt, not an attempt to run it"},{"owner":{"account_id":16912818,"reputation":1,"user_id":12231492,"display_name":"Joey Tat&#250;"},"score":0,"creation_date":1687903195,"post_id":76566590,"comment_id":135001701,"body_markdown":"@g00se When I run the application this line is red `java: C:\\Program Files\\Java\\jdk-20\\lib\\tzdb.dat`.\n\nThe above is the output it provides when I try running it.","body":"@g00se When I run the application this line is red <code>java: C:\\Program Files\\Java\\jdk-20\\lib\\tzdb.dat</code>.  The above is the output it provides when I try running it."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1687903380,"post_id":76566590,"comment_id":135001719,"body_markdown":"*Compilation failed: errors: 1; warnings: 0* Why would you try to *run* something you are told doesn&#39;t compile? You need to make it compile first","body":"<i>Compilation failed: errors: 1; warnings: 0</i> Why would you try to <i>run</i> something you are told doesn&#39;t compile? You need to make it compile first"},{"owner":{"account_id":16912818,"reputation":1,"user_id":12231492,"display_name":"Joey Tat&#250;"},"score":0,"creation_date":1687904233,"post_id":76566590,"comment_id":135001814,"body_markdown":"@g00se There&#39;s no difference between Compile and Build in IntelliJ. I don&#39;t think I fully understand how I can fix it. Can you advise how I could fix it? Like, what would you do? Thanks.","body":"@g00se There&#39;s no difference between Compile and Build in IntelliJ. I don&#39;t think I fully understand how I can fix it. Can you advise how I could fix it? Like, what would you do? Thanks."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1687907853,"post_id":76566590,"comment_id":135002197,"body_markdown":"That might be the case, but there&#39;s certainly a difference between build and run. I can&#39;t say exactly what I&#39;d do as I don&#39;t use IDEA","body":"That might be the case, but there&#39;s certainly a difference between build and run. I can&#39;t say exactly what I&#39;d do as I don&#39;t use IDEA"},{"owner":{"account_id":16912818,"reputation":1,"user_id":12231492,"display_name":"Joey Tat&#250;"},"score":0,"creation_date":1687910853,"post_id":76566590,"comment_id":135002452,"body_markdown":"@g00se Thanks, I&#39;m going to try Eclipse and see tomorrow. Thanks for your help.","body":"@g00se Thanks, I&#39;m going to try Eclipse and see tomorrow. Thanks for your help."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1687934241,"post_id":76566590,"comment_id":135004580,"body_markdown":"If you&#39;re not an advanced developer I would recommend you don&#39;t use *any* IDE. You will learn more quickly about how Java works internally and you won&#39;t be forced to learn simultaneously about how to use your IDE. Later on you can add Maven/Gradle.","body":"If you&#39;re not an advanced developer I would recommend you don&#39;t use <i>any</i> IDE. You will learn more quickly about how Java works internally and you won&#39;t be forced to learn simultaneously about how to use your IDE. Later on you can add Maven/Gradle."},{"owner":{"account_id":16912818,"reputation":1,"user_id":12231492,"display_name":"Joey Tat&#250;"},"score":0,"creation_date":1687950998,"post_id":76566590,"comment_id":135007878,"body_markdown":"@g00se I actually have a degree in Computing. It&#39;s just I haven&#39;t used Java in about 7/8 years. That is a very good point though, I might do a refresher course on Java internals. I tried running the application in Eclipse and it works fine. Maybe it&#39;s just IntelliJ being weird.","body":"@g00se I actually have a degree in Computing. It&#39;s just I haven&#39;t used Java in about 7/8 years. That is a very good point though, I might do a refresher course on Java internals. I tried running the application in Eclipse and it works fine. Maybe it&#39;s just IntelliJ being weird."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1687953186,"post_id":76566590,"comment_id":135008276,"body_markdown":"I would particularly recommend getting to grips at the command line with Java modules","body":"I would particularly recommend getting to grips at the command line with Java modules"}],"owner":{"account_id":16912818,"reputation":1,"user_id":12231492,"display_name":"Joey Tat&#250;"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":567,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687880778,"creation_date":1687880743,"question_id":76566590,"body_markdown":"I am using Java JDK 20.0.1 on IntelliJ 2023-1. \r\n\r\nI am trying to run a Java application.\r\n\r\nI get a very generic error about the tzdb.dat file.\r\n\r\nThe error is:\r\n```\r\nExecuting pre-compile tasks...\r\nRunning &#39;before&#39; tasks\r\nChecking sources\r\nCopying resources... [JavaDesktopSudokuDemo]\r\nParsing java… [JavaDesktopSudokuDemo]\r\njava: C:\\Program Files\\Java\\jdk-20\\lib\\tzdb.dat &lt;&lt;&lt;------\r\nChecking dependencies… [JavaDesktopSudokuDemo]\r\nDependency analysis found 0 affected files\r\nErrors occurred while compiling module &#39;JavaDesktopSudokuDemo&#39;\r\njavac 20.0.1 was used to compile java sources\r\nFinished, saving caches…\r\nCompilation failed: errors: 1; warnings: 0\r\nExecuting post-compile tasks...\r\nCompilation failed: errors: 1; warnings: 0\r\nSynchronizing output directories...\r\n27 Jun 2023 16:38 - Build completed with 1 error and 0 warnings in 1 sec, 173 ms\r\n```\r\n\r\nI tried to update the tzdb.dat file by directly downloading it from Oracle and by using tzupdater.jar. I&#39;ve tried changing the file name to add .bak at the end, but that creates a file not found error.","title":"Having issues with running Java application with tzdb.dat file","body":"<p>I am using Java JDK 20.0.1 on IntelliJ 2023-1.</p>\n<p>I am trying to run a Java application.</p>\n<p>I get a very generic error about the tzdb.dat file.</p>\n<p>The error is:</p>\n<pre><code>Executing pre-compile tasks...\nRunning 'before' tasks\nChecking sources\nCopying resources... [JavaDesktopSudokuDemo]\nParsing java… [JavaDesktopSudokuDemo]\njava: C:\\Program Files\\Java\\jdk-20\\lib\\tzdb.dat &lt;&lt;&lt;------\nChecking dependencies… [JavaDesktopSudokuDemo]\nDependency analysis found 0 affected files\nErrors occurred while compiling module 'JavaDesktopSudokuDemo'\njavac 20.0.1 was used to compile java sources\nFinished, saving caches…\nCompilation failed: errors: 1; warnings: 0\nExecuting post-compile tasks...\nCompilation failed: errors: 1; warnings: 0\nSynchronizing output directories...\n27 Jun 2023 16:38 - Build completed with 1 error and 0 warnings in 1 sec, 173 ms\n</code></pre>\n<p>I tried to update the tzdb.dat file by directly downloading it from Oracle and by using tzupdater.jar. I've tried changing the file name to add .bak at the end, but that creates a file not found error.</p>\n"},{"tags":["java","spring-boot","openrewrite"],"comments":[{"owner":{"account_id":21852,"reputation":19896,"user_id":53444,"accept_rate":70,"display_name":"Tim"},"score":0,"creation_date":1687881349,"post_id":76566522,"comment_id":134997593,"body_markdown":"Could you try again with rewrite-spring 5.0.2 released yesterday?\nhttps://github.com/openrewrite/rewrite-spring/releases/tag/v5.0.2","body":"Could you try again with rewrite-spring 5.0.2 released yesterday? <a href=\"https://github.com/openrewrite/rewrite-spring/releases/tag/v5.0.2\" rel=\"nofollow noreferrer\">github.com/openrewrite/rewrite-spring/releases/tag/v5.0.2</a>"},{"owner":{"account_id":21852,"reputation":19896,"user_id":53444,"accept_rate":70,"display_name":"Tim"},"score":0,"creation_date":1687881431,"post_id":76566522,"comment_id":134997609,"body_markdown":"There was unfortunately an inadvertent change that made it in, which has since been reverted. We&#39;re flushing out all the cases where it&#39;s causing issues; and doing patch releases where necessary. Rewrite-spring already has such a patch release.","body":"There was unfortunately an inadvertent change that made it in, which has since been reverted. We&#39;re flushing out all the cases where it&#39;s causing issues; and doing patch releases where necessary. Rewrite-spring already has such a patch release."},{"owner":{"account_id":11696516,"reputation":21,"user_id":8563077,"display_name":"Niek7301"},"score":1,"creation_date":1687882717,"post_id":76566522,"comment_id":134997918,"body_markdown":"That works perfectly. Thanks!\n\nPs. I am upgrading after seeing your JFall talk on the subject so thanks for the inspiration as well ;)","body":"That works perfectly. Thanks!  Ps. I am upgrading after seeing your JFall talk on the subject so thanks for the inspiration as well ;)"},{"owner":{"account_id":21852,"reputation":19896,"user_id":53444,"accept_rate":70,"display_name":"Tim"},"score":0,"creation_date":1687972928,"post_id":76566522,"comment_id":135012801,"body_markdown":"Glad to hear that works, and that I could help you twice! :)","body":"Glad to hear that works, and that I could help you twice! :)"}],"owner":{"account_id":11696516,"reputation":21,"user_id":8563077,"display_name":"Niek7301"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":464,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1687880273,"creation_date":1687880273,"question_id":76566522,"body_markdown":"Hopefully somebody can help me :)\r\n\r\nI am trying to update a project from spring boot 2.5 to spring boot 2.7 with the openrewrite recipe. After trying this several times I keep getting the same error message.\r\n\r\nI tried excluding the exact module this error happens, but it will just skip that and give the same error on the next module (I have 3 modules in total)\r\nAlso tried removing the .m2 folder but still the same error.\r\n\r\nThe following is my pom rewrite:\r\n```\r\n&lt;plugin&gt;\r\n                    &lt;groupId&gt;org.openrewrite.maven&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;rewrite-maven-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;5.2.4&lt;/version&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;activeRecipes&gt;\r\n                            &lt;recipe&gt;org.openrewrite.java.spring.boot2.UpgradeSpringBoot_2_7&lt;/recipe&gt;\r\n                        &lt;/activeRecipes&gt;\r\n                        &lt;exclusions&gt;\r\n                            &lt;exclude&gt;*/node/**&lt;/exclude&gt;\r\n                            &lt;exclude&gt;*/node_modules/**&lt;/exclude&gt;\r\n                            &lt;exclude&gt;*/target/**&lt;/exclude&gt;\r\n                        &lt;/exclusions&gt;\r\n                    &lt;/configuration&gt;\r\n                    &lt;dependencies&gt;\r\n                        &lt;dependency&gt;\r\n                            &lt;groupId&gt;org.openrewrite.recipe&lt;/groupId&gt;\r\n                            &lt;artifactId&gt;rewrite-spring&lt;/artifactId&gt;\r\n                            &lt;version&gt;5.0.1&lt;/version&gt;\r\n                        &lt;/dependency&gt;\r\n                    &lt;/dependencies&gt;\r\n                &lt;/plugin&gt;\r\n```\r\n\r\nAfter mvn rewrite:run the error message is:\r\n\r\n```\r\n[ERROR] The recipe produced an error. Please report this to the recipe author.\r\n\r\n[ERROR] Failed to execute goal org.openrewrite.maven:rewrite-maven-plugin:5.2.4:run (default-cli) on project my-project: Execution default-cli of goal org.openrewrite.maven:rewrite-maven-plugin:5.2.4:run failed: Error while visiting my-module/src/main/java/nl/commons/util/someClass.java: java.lang.NoSuchMethodError: &#39;boolean org.openrewrite.java.MethodMatcher.matches(org.openrewrite.java.tree.J$MethodInvocation)&#39;\r\n[ERROR]   org.openrewrite.java.testing.mockito.PowerMockitoMockStaticToMockito$PowerMockitoToMockitoVisitor.visitMethodInvocation(PowerMockitoMockStaticToMockito.java:164)\r\n[ERROR]   org.openrewrite.java.testing.mockito.PowerMockitoMockStaticToMockito$PowerMockitoToMockitoVisitor.visitMethodInvocation(PowerMockitoMockStaticToMockito.java:48)\r\n[ERROR]   org.openrewrite.java.tree.J$MethodInvocation.acceptJava(J.java:3706)\r\n[ERROR]   org.openrewrite.java.tree.J.accept(J.java:59)\r\n[ERROR]   org.openrewrite.TreeVisitor.visit(TreeVisitor.java:278)\r\n[ERROR]   org.openrewrite.TreeVisitor.visitAndCast(TreeVisitor.java:361)\r\n[ERROR]   org.openrewrite.java.JavaVisitor.visitRightPadded(JavaVisitor.java:1284)\r\n[ERROR]   org.openrewrite.java.JavaVisitor.lambda$visitBlock$4(JavaVisitor.java:367)\r\n```\r\n\r\nThanks in advance!\r\n\r\nNiek","title":"When updating from spring boot 2.5 to 2.7 with openrewrite I get a NoSuchMethodError","body":"<p>Hopefully somebody can help me :)</p>\n<p>I am trying to update a project from spring boot 2.5 to spring boot 2.7 with the openrewrite recipe. After trying this several times I keep getting the same error message.</p>\n<p>I tried excluding the exact module this error happens, but it will just skip that and give the same error on the next module (I have 3 modules in total)\nAlso tried removing the .m2 folder but still the same error.</p>\n<p>The following is my pom rewrite:</p>\n<pre><code>&lt;plugin&gt;\n                    &lt;groupId&gt;org.openrewrite.maven&lt;/groupId&gt;\n                    &lt;artifactId&gt;rewrite-maven-plugin&lt;/artifactId&gt;\n                    &lt;version&gt;5.2.4&lt;/version&gt;\n                    &lt;configuration&gt;\n                        &lt;activeRecipes&gt;\n                            &lt;recipe&gt;org.openrewrite.java.spring.boot2.UpgradeSpringBoot_2_7&lt;/recipe&gt;\n                        &lt;/activeRecipes&gt;\n                        &lt;exclusions&gt;\n                            &lt;exclude&gt;*/node/**&lt;/exclude&gt;\n                            &lt;exclude&gt;*/node_modules/**&lt;/exclude&gt;\n                            &lt;exclude&gt;*/target/**&lt;/exclude&gt;\n                        &lt;/exclusions&gt;\n                    &lt;/configuration&gt;\n                    &lt;dependencies&gt;\n                        &lt;dependency&gt;\n                            &lt;groupId&gt;org.openrewrite.recipe&lt;/groupId&gt;\n                            &lt;artifactId&gt;rewrite-spring&lt;/artifactId&gt;\n                            &lt;version&gt;5.0.1&lt;/version&gt;\n                        &lt;/dependency&gt;\n                    &lt;/dependencies&gt;\n                &lt;/plugin&gt;\n</code></pre>\n<p>After mvn rewrite:run the error message is:</p>\n<pre><code>[ERROR] The recipe produced an error. Please report this to the recipe author.\n\n[ERROR] Failed to execute goal org.openrewrite.maven:rewrite-maven-plugin:5.2.4:run (default-cli) on project my-project: Execution default-cli of goal org.openrewrite.maven:rewrite-maven-plugin:5.2.4:run failed: Error while visiting my-module/src/main/java/nl/commons/util/someClass.java: java.lang.NoSuchMethodError: 'boolean org.openrewrite.java.MethodMatcher.matches(org.openrewrite.java.tree.J$MethodInvocation)'\n[ERROR]   org.openrewrite.java.testing.mockito.PowerMockitoMockStaticToMockito$PowerMockitoToMockitoVisitor.visitMethodInvocation(PowerMockitoMockStaticToMockito.java:164)\n[ERROR]   org.openrewrite.java.testing.mockito.PowerMockitoMockStaticToMockito$PowerMockitoToMockitoVisitor.visitMethodInvocation(PowerMockitoMockStaticToMockito.java:48)\n[ERROR]   org.openrewrite.java.tree.J$MethodInvocation.acceptJava(J.java:3706)\n[ERROR]   org.openrewrite.java.tree.J.accept(J.java:59)\n[ERROR]   org.openrewrite.TreeVisitor.visit(TreeVisitor.java:278)\n[ERROR]   org.openrewrite.TreeVisitor.visitAndCast(TreeVisitor.java:361)\n[ERROR]   org.openrewrite.java.JavaVisitor.visitRightPadded(JavaVisitor.java:1284)\n[ERROR]   org.openrewrite.java.JavaVisitor.lambda$visitBlock$4(JavaVisitor.java:367)\n</code></pre>\n<p>Thanks in advance!</p>\n<p>Niek</p>\n"},{"tags":["java","hibernate","jpa"],"comments":[{"owner":{"account_id":61566,"reputation":68934,"user_id":183406,"accept_rate":74,"display_name":"meriton"},"score":1,"creation_date":1687880976,"post_id":76566520,"comment_id":134997507,"body_markdown":"Its perfectly fine for Java objects to point to each other, and hibernate uses that when reading the object from the database. An infinite recursion only occurs during serialization to JSON, and can be prevented by configuring your JSON library appropriately (since you haven&#39;t told us which library it&#39;s hard to be more specific than that ...)","body":"Its perfectly fine for Java objects to point to each other, and hibernate uses that when reading the object from the database. An infinite recursion only occurs during serialization to JSON, and can be prevented by configuring your JSON library appropriately (since you haven&#39;t told us which library it&#39;s hard to be more specific than that ...)"},{"owner":{"account_id":22965773,"reputation":31,"user_id":17221129,"display_name":"Владислав"},"score":0,"creation_date":1687881741,"post_id":76566520,"comment_id":134997671,"body_markdown":"@meriton Json Jackson.","body":"@meriton Json Jackson."},{"owner":{"account_id":61566,"reputation":68934,"user_id":183406,"accept_rate":74,"display_name":"meriton"},"score":0,"creation_date":1687883692,"post_id":76566520,"comment_id":134998156,"body_markdown":"https://stackoverflow.com/questions/17393812/json-and-java-circular-reference","body":"<a href=\"https://stackoverflow.com/questions/17393812/json-and-java-circular-reference\" title=\"json and java circular reference\">stackoverflow.com/questions/17393812/&hellip;</a>"},{"owner":{"account_id":22965773,"reputation":31,"user_id":17221129,"display_name":"Владислав"},"score":0,"creation_date":1687918981,"post_id":76566520,"comment_id":135003065,"body_markdown":"@meriton thank&#39;s","body":"@meriton thank&#39;s"}],"owner":{"account_id":22965773,"reputation":31,"user_id":17221129,"display_name":"Владислав"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":0,"score":3,"last_activity_date":1687880246,"creation_date":1687880246,"question_id":76566520,"body_markdown":"[schema](https://i.stack.imgur.com/nwqqr.png)\r\ntable schemas\r\nThere are two tables, they can be seen in the diagram.\r\nThere is also a JPA-style description of these entities:\r\n\r\nEntity for Gift\r\n```\r\n@Entity\r\npublic class Gift {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private long id;\r\n\r\n    @Column(name = &quot;title&quot;)\r\n    private String title;\r\n\r\n    // ... \r\n\r\n    @OneToMany(cascade = {CascadeType.PERSIST, CascadeType.MERGE},\r\n            orphanRemoval = true,\r\n            fetch = FetchType.LAZY,\r\n            mappedBy = &quot;gift&quot;)\r\n    private List&lt;Image&gt; images;\r\n}\r\n\r\n```\r\nEntity fot Image\r\n\r\n```\r\n@Entity\r\npublic class Image {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long id;\r\n\r\n    @ManyToOne(fetch = FetchType.LAZY)\r\n    @JoinColumn(name = &quot;gift_id&quot;)\r\n    private Gift gift;\r\n    \r\n    // ...\r\n\r\n}\r\n```\r\n\r\nWhen executing the following JPA Query:\r\n\r\n```\r\n@Override\r\npublic List&lt;Gift&gt; getByFilter(FilterSearch filter) {\r\n    String sql = &quot;&quot;&quot;\r\n            FROM Gift WHERE id = 2\r\n            &quot;&quot;&quot;;\r\n    return entityManager.createQuery(sql, Gift.class).getResultList();\r\n}\r\n```\r\n\r\nResult: \r\nIt turns out a cyclic dependency, if you can call it that: I get a list gift, in which image, in which the same gift has the same images, which in turn have the same gift&#39;s, and so on ad infinitum.\r\n\r\n```\r\n[\r\n    {\r\n        &quot;id&quot;: 2,\r\n        &quot;title&quot;: &quot;title for gift&quot;,\r\n        &quot;description&quot;: &quot;some simple description for gift&quot;,\r\n        &quot;shortDescription&quot;: &quot;short description&quot;,\r\n        &quot;category&quot;: {\r\n            &quot;id&quot;: 1,\r\n            &quot;name&quot;: &quot;first category&quot;,\r\n            &quot;parent&quot;: null\r\n        },\r\n        &quot;costPrice&quot;: 2.0,\r\n        &quot;price&quot;: 3.4,\r\n        &quot;dateAdded&quot;: &quot;2023-06-26T15:41:55.958+00:00&quot;,\r\n        &quot;isEnabled&quot;: false,\r\n        &quot;images&quot;: [\r\n            {\r\n                &quot;id&quot;: 6,\r\n                &quot;gift&quot;: {\r\n                    &quot;id&quot;: 2,\r\n                    &quot;title&quot;: &quot;title for gift&quot;,\r\n                    &quot;description&quot;: &quot;some simple description for gift&quot;,\r\n                    &quot;shortDescription&quot;: &quot;short description&quot;,\r\n                    &quot;category&quot;: {\r\n                        &quot;id&quot;: 1,\r\n                        &quot;name&quot;: &quot;first category&quot;,\r\n                        &quot;parent&quot;: null\r\n                    },\r\n                    &quot;costPrice&quot;: 2.0,\r\n                    &quot;price&quot;: 3.4,\r\n                    &quot;dateAdded&quot;: &quot;2023-06-26T15:41:55.958+00:00&quot;,\r\n                    &quot;isEnabled&quot;: false,\r\n                    &quot;images&quot;: [\r\n                        {\r\n                            &quot;id&quot;: 6,\r\n                            &quot;gift&quot;: {\r\n                                &quot;id&quot;: 2,\r\n                                &quot;title&quot;: &quot;title for gift&quot;,\r\n                                &quot;description&quot;: &quot;some simple description for gift&quot;,\r\n                                &quot;shortDescription&quot;: &quot;short description&quot;,\r\n                                &quot;category&quot;: {\r\n                                    &quot;id&quot;: 1,\r\n                                    &quot;name&quot;: &quot;first category&quot;,\r\n                                    &quot;parent&quot;: null\r\n                                },\r\n                                &quot;costPrice&quot;: 2.0,\r\n                                &quot;price&quot;: 3.4,\r\n                                &quot;dateAdded&quot;: &quot;2023-06-26T15:41:55.958+00:00&quot;,\r\n                                &quot;isEnabled&quot;: false,\r\n                                &quot;images&quot;: [\r\n                \r\n```\r\n\r\nand so on ad infinitum.\r\n\r\n**Question. How to break this cycle?** ","title":"How to break a cyclic relationship?","body":"<p><a href=\"https://i.stack.imgur.com/nwqqr.png\" rel=\"nofollow noreferrer\">schema</a>\ntable schemas\nThere are two tables, they can be seen in the diagram.\nThere is also a JPA-style description of these entities:</p>\n<p>Entity for Gift</p>\n<pre><code>@Entity\npublic class Gift {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private long id;\n\n    @Column(name = &quot;title&quot;)\n    private String title;\n\n    // ... \n\n    @OneToMany(cascade = {CascadeType.PERSIST, CascadeType.MERGE},\n            orphanRemoval = true,\n            fetch = FetchType.LAZY,\n            mappedBy = &quot;gift&quot;)\n    private List&lt;Image&gt; images;\n}\n\n</code></pre>\n<p>Entity fot Image</p>\n<pre><code>@Entity\npublic class Image {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n\n    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = &quot;gift_id&quot;)\n    private Gift gift;\n    \n    // ...\n\n}\n</code></pre>\n<p>When executing the following JPA Query:</p>\n<pre><code>@Override\npublic List&lt;Gift&gt; getByFilter(FilterSearch filter) {\n    String sql = &quot;&quot;&quot;\n            FROM Gift WHERE id = 2\n            &quot;&quot;&quot;;\n    return entityManager.createQuery(sql, Gift.class).getResultList();\n}\n</code></pre>\n<p>Result:\nIt turns out a cyclic dependency, if you can call it that: I get a list gift, in which image, in which the same gift has the same images, which in turn have the same gift's, and so on ad infinitum.</p>\n<pre><code>[\n    {\n        &quot;id&quot;: 2,\n        &quot;title&quot;: &quot;title for gift&quot;,\n        &quot;description&quot;: &quot;some simple description for gift&quot;,\n        &quot;shortDescription&quot;: &quot;short description&quot;,\n        &quot;category&quot;: {\n            &quot;id&quot;: 1,\n            &quot;name&quot;: &quot;first category&quot;,\n            &quot;parent&quot;: null\n        },\n        &quot;costPrice&quot;: 2.0,\n        &quot;price&quot;: 3.4,\n        &quot;dateAdded&quot;: &quot;2023-06-26T15:41:55.958+00:00&quot;,\n        &quot;isEnabled&quot;: false,\n        &quot;images&quot;: [\n            {\n                &quot;id&quot;: 6,\n                &quot;gift&quot;: {\n                    &quot;id&quot;: 2,\n                    &quot;title&quot;: &quot;title for gift&quot;,\n                    &quot;description&quot;: &quot;some simple description for gift&quot;,\n                    &quot;shortDescription&quot;: &quot;short description&quot;,\n                    &quot;category&quot;: {\n                        &quot;id&quot;: 1,\n                        &quot;name&quot;: &quot;first category&quot;,\n                        &quot;parent&quot;: null\n                    },\n                    &quot;costPrice&quot;: 2.0,\n                    &quot;price&quot;: 3.4,\n                    &quot;dateAdded&quot;: &quot;2023-06-26T15:41:55.958+00:00&quot;,\n                    &quot;isEnabled&quot;: false,\n                    &quot;images&quot;: [\n                        {\n                            &quot;id&quot;: 6,\n                            &quot;gift&quot;: {\n                                &quot;id&quot;: 2,\n                                &quot;title&quot;: &quot;title for gift&quot;,\n                                &quot;description&quot;: &quot;some simple description for gift&quot;,\n                                &quot;shortDescription&quot;: &quot;short description&quot;,\n                                &quot;category&quot;: {\n                                    &quot;id&quot;: 1,\n                                    &quot;name&quot;: &quot;first category&quot;,\n                                    &quot;parent&quot;: null\n                                },\n                                &quot;costPrice&quot;: 2.0,\n                                &quot;price&quot;: 3.4,\n                                &quot;dateAdded&quot;: &quot;2023-06-26T15:41:55.958+00:00&quot;,\n                                &quot;isEnabled&quot;: false,\n                                &quot;images&quot;: [\n                \n</code></pre>\n<p>and so on ad infinitum.</p>\n<p><strong>Question. How to break this cycle?</strong></p>\n"},{"tags":["java","swagger","openapi","quarkus"],"answers":[{"comments":[{"owner":{"account_id":258666,"reputation":455,"user_id":3305708,"display_name":"Luisao"},"score":0,"creation_date":1647279044,"post_id":71465291,"comment_id":126326400,"body_markdown":"Thank you. I was looking for a property annotation instead on the Controller, but that’s fine. Thanks","body":"Thank you. I was looking for a property annotation instead on the Controller, but that’s fine. Thanks"}],"tags":[],"owner":{"account_id":9504657,"reputation":7440,"user_id":7064617,"display_name":"JCompetence"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1647249405,"creation_date":1647249085,"answer_id":71465291,"question_id":71464876,"body_markdown":"For Quarkus you will need to use Microprofile Openapi Annotations:\r\n\r\nhttps://download.eclipse.org/microprofile/microprofile-open-api-1.0/microprofile-openapi-spec.html\r\n\r\nSpecifically: `@ExampleObject` which \r\n\r\n&gt; Illustrates an example of a particular content.\r\n&gt; \r\nhttps://github.com/eclipse/microprofile-open-api/blob/master/api/src/main/java/org/eclipse/microprofile/openapi/annotations/media/ExampleObject.java\r\n\r\n\r\n\r\nExample:\r\n\r\n\r\n     public interface ExamplePayloads {\r\n          String NEW_PLAYER = &quot;{\\&quot;age\\&quot;:12, \\&quot;username\\&quot;:\\&quot;username\\&quot;}&quot;;\r\n          String SAVED_PLAYER = &quot;{\\&quot;id\\&quot;:1234, \\&quot;age\\&quot;:12, \\&quot;username\\&quot;:\\&quot;username\\&quot;}&quot;;\r\n          \r\n    }\r\n\r\nThe `value` attribute of `ExampleObject` takes a String:\r\n\r\n       /**\r\n         * A string representation of the example.\r\n         * &lt;p&gt;\r\n         * This is mutually exclusive with the externalValue property, and ignored if the externalValue property is\r\n         * specified.\r\n         * &lt;/p&gt;\r\n         * If the media type associated with the example allows parsing into an object, it may be converted from a string.\r\n         * \r\n         * @return the value of the example\r\n         **/\r\n        String value() default &quot;&quot;;\r\n        \r\n      \r\n----------\r\n\r\n    import static yourpackage.ExamplePayloads.*;\r\n    \r\n    @Path(&quot;/players&quot;)\r\n    @Consumes(APPLICATION_JSON)\r\n    @Produces(APPLICATION_JSON)\r\n    public class PlayersResource {\r\n    \r\n    \r\n          @POST\r\n          @Operation(summary = &quot;save new player&quot;, description = &quot;Creates new player with given age and username.&quot;)\r\n          @RequestBody(\r\n            required = true,\r\n            content = @Content(\r\n              schema = @Schema(implementation = Player.class, required = true, requiredProperties = {&quot;username&quot;, &quot;age&quot;}),\r\n              examples = @ExampleObject(\r\n                name = &quot;new player&quot;,\r\n                description = &quot;saves new player with parameters username and age&quot;,\r\n                value = NEW_PLAYER\r\n              )\r\n            ))\r\n          @APIResponses(\r\n        \tvalue = {\r\n            @APIResponse(\r\n              name = &quot;success&quot;,\r\n              responseCode = &quot;200&quot;,\r\n              content = @Content(\r\n                schema = @Schema(implementation = Player.class, required = true, requiredProperties = {&quot;id&quot;, &quot;username&quot;, &quot;age&quot;}),\r\n                examples = @ExampleObject(\r\n                  name = &quot;saved player&quot;,\r\n                  description = &quot;new player with id assigned.&quot;,\r\n                  value = SAVED_PLAYER\r\n                )\r\n              ))\r\n            ,\r\n            @APIResponse(\r\n              name = &quot;bad request, no username&quot;,\r\n              responseCode = &quot;400&quot;,\r\n              description = &quot;missing username or age&quot;\r\n            ),\r\n        \t}\r\n        )\r\n          public Player savePlayer(Player player) {\r\n           \r\n            return playersService.savePlayer(player);\r\n          }\r\n    \r\n    \r\n    }\r\n\r\n","title":"How to generate a request example in Swagger with Quarkus","body":"<p>For Quarkus you will need to use Microprofile Openapi Annotations:</p>\n<p><a href=\"https://download.eclipse.org/microprofile/microprofile-open-api-1.0/microprofile-openapi-spec.html\" rel=\"nofollow noreferrer\">https://download.eclipse.org/microprofile/microprofile-open-api-1.0/microprofile-openapi-spec.html</a></p>\n<p>Specifically: <code>@ExampleObject</code> which</p>\n<blockquote>\n<p>Illustrates an example of a particular content.</p>\n</blockquote>\n<p><a href=\"https://github.com/eclipse/microprofile-open-api/blob/master/api/src/main/java/org/eclipse/microprofile/openapi/annotations/media/ExampleObject.java\" rel=\"nofollow noreferrer\">https://github.com/eclipse/microprofile-open-api/blob/master/api/src/main/java/org/eclipse/microprofile/openapi/annotations/media/ExampleObject.java</a></p>\n<p>Example:</p>\n<pre><code> public interface ExamplePayloads {\n      String NEW_PLAYER = &quot;{\\&quot;age\\&quot;:12, \\&quot;username\\&quot;:\\&quot;username\\&quot;}&quot;;\n      String SAVED_PLAYER = &quot;{\\&quot;id\\&quot;:1234, \\&quot;age\\&quot;:12, \\&quot;username\\&quot;:\\&quot;username\\&quot;}&quot;;\n      \n}\n</code></pre>\n<p>The <code>value</code> attribute of <code>ExampleObject</code> takes a String:</p>\n<pre><code>   /**\n     * A string representation of the example.\n     * &lt;p&gt;\n     * This is mutually exclusive with the externalValue property, and ignored if the externalValue property is\n     * specified.\n     * &lt;/p&gt;\n     * If the media type associated with the example allows parsing into an object, it may be converted from a string.\n     * \n     * @return the value of the example\n     **/\n    String value() default &quot;&quot;;\n    \n  \n</code></pre>\n<hr />\n<pre><code>import static yourpackage.ExamplePayloads.*;\n\n@Path(&quot;/players&quot;)\n@Consumes(APPLICATION_JSON)\n@Produces(APPLICATION_JSON)\npublic class PlayersResource {\n\n\n      @POST\n      @Operation(summary = &quot;save new player&quot;, description = &quot;Creates new player with given age and username.&quot;)\n      @RequestBody(\n        required = true,\n        content = @Content(\n          schema = @Schema(implementation = Player.class, required = true, requiredProperties = {&quot;username&quot;, &quot;age&quot;}),\n          examples = @ExampleObject(\n            name = &quot;new player&quot;,\n            description = &quot;saves new player with parameters username and age&quot;,\n            value = NEW_PLAYER\n          )\n        ))\n      @APIResponses(\n        value = {\n        @APIResponse(\n          name = &quot;success&quot;,\n          responseCode = &quot;200&quot;,\n          content = @Content(\n            schema = @Schema(implementation = Player.class, required = true, requiredProperties = {&quot;id&quot;, &quot;username&quot;, &quot;age&quot;}),\n            examples = @ExampleObject(\n              name = &quot;saved player&quot;,\n              description = &quot;new player with id assigned.&quot;,\n              value = SAVED_PLAYER\n            )\n          ))\n        ,\n        @APIResponse(\n          name = &quot;bad request, no username&quot;,\n          responseCode = &quot;400&quot;,\n          description = &quot;missing username or age&quot;\n        ),\n        }\n    )\n      public Player savePlayer(Player player) {\n       \n        return playersService.savePlayer(player);\n      }\n\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9976375,"reputation":417,"user_id":7380828,"display_name":"Giacomo Venturini"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687880127,"creation_date":1687879732,"answer_id":76566447,"question_id":71464876,"body_markdown":"You can use `@Schema` annotation over a field to define its openapi example.\r\n    \r\n```java\r\nimport org.eclipse.microprofile.openapi.annotations.media.Schema;\r\n\r\npublic class Fruit {\r\n\r\n    @Schema(example = &quot;apple&quot;)\r\n    public String name;\r\n\r\n    @Schema(example = &quot;the red fruit&quot;)\r\n    public String description;\r\n}\r\n```\r\n\r\nThis will produce the following swagger:\r\n\r\n[![swagger with example values][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/DXh1G.png\r\n\r\nThe annotation can be found into `org.eclipse.microprofile.openapi:microprofile-openapi-api:X.X` dependency.","title":"How to generate a request example in Swagger with Quarkus","body":"<p>You can use <code>@Schema</code> annotation over a field to define its openapi example.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import org.eclipse.microprofile.openapi.annotations.media.Schema;\n\npublic class Fruit {\n\n    @Schema(example = &quot;apple&quot;)\n    public String name;\n\n    @Schema(example = &quot;the red fruit&quot;)\n    public String description;\n}\n</code></pre>\n<p>This will produce the following swagger:</p>\n<p><a href=\"https://i.stack.imgur.com/DXh1G.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/DXh1G.png\" alt=\"swagger with example values\" /></a></p>\n<p>The annotation can be found into <code>org.eclipse.microprofile.openapi:microprofile-openapi-api:X.X</code> dependency.</p>\n"}],"owner":{"account_id":258666,"reputation":455,"user_id":3305708,"display_name":"Luisao"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1467,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":71465291,"answer_count":2,"score":2,"last_activity_date":1687880127,"creation_date":1647246644,"question_id":71464876,"body_markdown":"I want to generate an Example Value in the request with Quarkus and Swagger.\r\n\r\nIs there any annotation like @ApiModelProperty in Quarkus? Or is there any tag to set the example in the request?\r\n\r\n[![enter image description here][1]][1]\r\n\r\nThanks\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/sexKr.png","title":"How to generate a request example in Swagger with Quarkus","body":"<p>I want to generate an Example Value in the request with Quarkus and Swagger.</p>\n<p>Is there any annotation like @ApiModelProperty in Quarkus? Or is there any tag to set the example in the request?</p>\n<p><a href=\"https://i.stack.imgur.com/sexKr.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/sexKr.png\" alt=\"enter image description here\" /></a></p>\n<p>Thanks</p>\n"},{"tags":["java","eclipse","unit-testing","junit","junit4"],"answers":[{"comments":[{"owner":{"account_id":9193,"reputation":343123,"user_id":16883,"accept_rate":83,"display_name":"Michael Borgwardt"},"score":0,"creation_date":1274575686,"post_id":2890266,"comment_id":2938700,"body_markdown":"It will only fork one new JVM for the entire test suite, not one for each single test.","body":"It will only fork one new JVM for the entire test suite, not one for each single test."},{"owner":{"account_id":13744,"reputation":541,"user_id":27783,"display_name":"Reuben Peeris"},"score":2,"creation_date":1274623176,"post_id":2890266,"comment_id":2940740,"body_markdown":"@Michael - if the forkmode attribute is set to &quot;perTest&quot; then a new JVM should be created for each test - this is the default.","body":"@Michael - if the forkmode attribute is set to &quot;perTest&quot; then a new JVM should be created for each test - this is the default."},{"owner":{"account_id":22969,"reputation":25594,"user_id":57171,"accept_rate":80,"display_name":"Steve Powell"},"score":0,"creation_date":1283867726,"post_id":2890266,"comment_id":3849317,"body_markdown":"The link appears broken -- try this one: http://ant.apache.org/manual/Tasks/junit.html","body":"The link appears broken -- try this one: <a href=\"http://ant.apache.org/manual/Tasks/junit.html\" rel=\"nofollow noreferrer\">ant.apache.org/manual/Tasks/junit.html</a>"},{"owner":{"account_id":31682,"reputation":22471,"user_id":87197,"accept_rate":81,"display_name":"Chris Dennett"},"score":0,"creation_date":1283897974,"post_id":2890266,"comment_id":3854313,"body_markdown":"Ohh, it worked when I first answered this -- I&#39;ll edit my answer :)","body":"Ohh, it worked when I first answered this -- I&#39;ll edit my answer :)"}],"tags":[],"owner":{"account_id":31682,"reputation":22471,"user_id":87197,"accept_rate":81,"display_name":"Chris Dennett"},"comment_count":4,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1283898019,"creation_date":1274574316,"answer_id":2890266,"question_id":2890259,"body_markdown":"If you use Ant in Eclipse, you can set the JUnit task to fork a new JVM process for each test, providing isolation.\r\n\r\nhttp://ant.apache.org/manual/Tasks/junit.html","title":"Running each JUnit test in a separate JVM in Eclipse?","body":"<p>If you use Ant in Eclipse, you can set the JUnit task to fork a new JVM process for each test, providing isolation.</p>\n\n<p><a href=\"http://ant.apache.org/manual/Tasks/junit.html\" rel=\"nofollow noreferrer\">http://ant.apache.org/manual/Tasks/junit.html</a></p>\n"},{"comments":[{"owner":{"account_id":279220,"reputation":2393,"user_id":574263,"accept_rate":44,"display_name":"mjaggard"},"score":1,"creation_date":1454331131,"post_id":30287962,"comment_id":57981633,"body_markdown":"He wants to run them in eclipse. I presume like me he would like to see the unit tests results in the JUnit tab. He already stated that he&#39;s using Ant not Maven - Ant already lets you run tests in the way he wants.","body":"He wants to run them in eclipse. I presume like me he would like to see the unit tests results in the JUnit tab. He already stated that he&#39;s using Ant not Maven - Ant already lets you run tests in the way he wants."}],"tags":[],"owner":{"account_id":2015227,"reputation":833,"user_id":1802697,"display_name":"Igor Maznitsa"},"comment_count":1,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1431873359,"creation_date":1431873359,"answer_id":30287962,"question_id":2890259,"body_markdown":"I also had similar needs and developed [small maven plugin Jute][1] which has been published in maven central. It starts external JVM process for each JUnit test method.\r\n\r\n\r\n  [1]: https://github.com/raydac/jute","title":"Running each JUnit test in a separate JVM in Eclipse?","body":"<p>I also had similar needs and developed <a href=\"https://github.com/raydac/jute\" rel=\"nofollow\">small maven plugin Jute</a> which has been published in maven central. It starts external JVM process for each JUnit test method.</p>\n"},{"tags":[],"owner":{"account_id":28764840,"reputation":11,"user_id":22034347,"display_name":"Paul Frischknecht"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1687879811,"creation_date":1687879811,"answer_id":76566458,"question_id":2890259,"body_markdown":"Here&#39;s a solution I found to execute every test class in its own JVM:\r\n\r\n```\r\n&lt;plugin&gt;\r\n\t\t\t\t&lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;${maven-surefire-plugin.version}&lt;/version&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;forkCount&gt;1&lt;/forkCount&gt;\r\n\t\t\t\t\t&lt;reuseForks&gt;false&lt;/reuseForks&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n```\r\n\r\n&gt; forkCount=1/reuseForks=false executes each test class in its own JVM process, one after another. It creates the highest level of separation for the test execution, but it would probably also give you the longest execution time of all the available options. Consider it as a last resort. [[1](https://maven.apache.org/surefire/maven-surefire-plugin/examples/fork-options-and-parallel-execution.html)]\r\n\r\nThis solves the problem for me when running the tests outside of intellij directly with `mvn test`, unfortunately IntelliJ doesn&#39;t respect this.","title":"Running each JUnit test in a separate JVM in Eclipse?","body":"<p>Here's a solution I found to execute every test class in its own JVM:</p>\n<pre><code>&lt;plugin&gt;\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n                &lt;version&gt;${maven-surefire-plugin.version}&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;forkCount&gt;1&lt;/forkCount&gt;\n                    &lt;reuseForks&gt;false&lt;/reuseForks&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n</code></pre>\n<blockquote>\n<p>forkCount=1/reuseForks=false executes each test class in its own JVM process, one after another. It creates the highest level of separation for the test execution, but it would probably also give you the longest execution time of all the available options. Consider it as a last resort. [<a href=\"https://maven.apache.org/surefire/maven-surefire-plugin/examples/fork-options-and-parallel-execution.html\" rel=\"nofollow noreferrer\">1</a>]</p>\n</blockquote>\n<p>This solves the problem for me when running the tests outside of intellij directly with <code>mvn test</code>, unfortunately IntelliJ doesn't respect this.</p>\n"}],"owner":{"account_id":2052,"reputation":8269,"user_id":2827,"accept_rate":82,"display_name":"HenryR"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12460,"favorite_count":0,"down_vote_count":0,"up_vote_count":14,"accepted_answer_id":2890266,"answer_count":3,"score":14,"last_activity_date":1687879811,"creation_date":1274574022,"question_id":2890259,"body_markdown":"I have a project with nearly 500 individual tests in around 200 test classes. Some of these tests don&#39;t do a great job of tearing down their own state after they&#39;re finished, and in Eclipse this results in some tests failing. The tests all pass when running the test suite from the command line via Ant.\r\n\r\nCan I enable &#39;test isolation&#39; somehow in Eclipse? I don&#39;t mind if it takes longer to run.\r\n\r\nLong term, I will clean up the misbehaving tests, but in the short term I&#39;d like to get the tests working.","title":"Running each JUnit test in a separate JVM in Eclipse?","body":"<p>I have a project with nearly 500 individual tests in around 200 test classes. Some of these tests don't do a great job of tearing down their own state after they're finished, and in Eclipse this results in some tests failing. The tests all pass when running the test suite from the command line via Ant.</p>\n\n<p>Can I enable 'test isolation' somehow in Eclipse? I don't mind if it takes longer to run.</p>\n\n<p>Long term, I will clean up the misbehaving tests, but in the short term I'd like to get the tests working.</p>\n"},{"tags":["java","utf-8","sublimetext3","javac"],"comments":[{"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1687890665,"post_id":76566455,"comment_id":134999654,"body_markdown":"The issue is with the console in Sublime when executing the application, not building.","body":"The issue is with the console in Sublime when executing the application, not building."},{"owner":{"account_id":28906129,"reputation":1,"user_id":22140123,"display_name":"Tom Orrow"},"score":0,"creation_date":1687941871,"post_id":76566455,"comment_id":135005987,"body_markdown":"How do I fix this?","body":"How do I fix this?"},{"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1687951826,"post_id":76566455,"comment_id":135008008,"body_markdown":"I was merely clarifying your question, which incorrectly states that the problem is with &quot;building&quot;.","body":"I was merely clarifying your question, which incorrectly states that the problem is with &quot;building&quot;."},{"owner":{"account_id":28906129,"reputation":1,"user_id":22140123,"display_name":"Tom Orrow"},"score":0,"creation_date":1688019844,"post_id":76566455,"comment_id":135018014,"body_markdown":"I would like to add that it also works well with other programming languages such as Python, C++, etc. and with other IDEs (Visual Studio) or with the CMD. Only in Sublime Text in combination with Java","body":"I would like to add that it also works well with other programming languages such as Python, C++, etc. and with other IDEs (Visual Studio) or with the CMD. Only in Sublime Text in combination with Java"}],"owner":{"account_id":28906129,"reputation":1,"user_id":22140123,"display_name":"Tom Orrow"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687879770,"creation_date":1687879770,"question_id":76566455,"body_markdown":"Sublimetext doesn&#39;t show me the German umlauts &#246;&#228;&#252;&#223; in Java when I build the program. In other program languages they work.\r\n\r\n[example](https://i.stack.imgur.com/YXHjV.png)\r\n\r\nI&#39;ve looked up just about every tutorial or post, but I can&#39;t get it to work.\r\nEverything I know is in UTF-8. It works with Python or even when I use the Termninus addon. \r\n\r\nI made a new build system extra Java:` {&quot;shell_cmd&quot;: &quot;javac -encoding utf-8 $file &amp;&amp; java $file_base_name&quot; }`\r\nAnd I must say I like Sublime Text, I use it all the time for Python, now I want to use it for Java. Any help would be greatly appreciated, thanks.","title":"Sublimetext 3 doesn&#39;t show german umlauts &#228;&#246;&#252;&#223;","body":"<p>Sublimetext doesn't show me the German umlauts öäüß in Java when I build the program. In other program languages they work.</p>\n<p><a href=\"https://i.stack.imgur.com/YXHjV.png\" rel=\"nofollow noreferrer\">example</a></p>\n<p>I've looked up just about every tutorial or post, but I can't get it to work.\nEverything I know is in UTF-8. It works with Python or even when I use the Termninus addon.</p>\n<p>I made a new build system extra Java:<code> {&quot;shell_cmd&quot;: &quot;javac -encoding utf-8 $file &amp;&amp; java $file_base_name&quot; }</code>\nAnd I must say I like Sublime Text, I use it all the time for Python, now I want to use it for Java. Any help would be greatly appreciated, thanks.</p>\n"},{"tags":["java","java-17","ws"],"comments":[{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":2,"creation_date":1682253375,"post_id":76058993,"comment_id":134182862,"body_markdown":"Why do you want to migrate `javax.xml.datatype.XMLGregorianCalendar;`? It is part of the JRE since Java 5 and has not been removed. It is e.g. available in Java 11.","body":"Why do you want to migrate <code>javax.xml.datatype.XMLGregorianCalendar;</code>? It is part of the JRE since Java 5 and has not been removed. It is e.g. available in Java 11."},{"owner":{"account_id":11715131,"reputation":85,"user_id":8575889,"display_name":"Jose Guerra"},"score":0,"creation_date":1682256138,"post_id":76058993,"comment_id":134183189,"body_markdown":"Thanks Robert, yes I&#39;ll keep using that class","body":"Thanks Robert, yes I&#39;ll keep using that class"}],"answers":[{"tags":[],"owner":{"account_id":228743,"reputation":10672,"user_id":491245,"accept_rate":93,"display_name":"PhoneixS"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1687879502,"creation_date":1687879502,"answer_id":76566419,"question_id":76058993,"body_markdown":"The `XMLGregorianCalendar` is in the &quot;javax.xml&quot; package as it still is part of the &quot;main&quot; java project so you can use it as is.\r\n\r\nYou can read its documentation of the last version (20 as of writing the answer) at https://docs.oracle.com/en/java/javase/20/docs/api/java.xml/javax/xml/datatype/XMLGregorianCalendar.html","title":"migrate import javax.xml.datatype.XMLGregorianCalendar; jdk11 to jakarta in jdk17","body":"<p>The <code>XMLGregorianCalendar</code> is in the &quot;javax.xml&quot; package as it still is part of the &quot;main&quot; java project so you can use it as is.</p>\n<p>You can read its documentation of the last version (20 as of writing the answer) at <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.xml/javax/xml/datatype/XMLGregorianCalendar.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/en/java/javase/20/docs/api/java.xml/javax/xml/datatype/XMLGregorianCalendar.html</a></p>\n"}],"owner":{"account_id":11715131,"reputation":85,"user_id":8575889,"display_name":"Jose Guerra"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3684,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":1,"score":4,"last_activity_date":1687879502,"creation_date":1681940292,"question_id":76058993,"body_markdown":"I have an application that I must migrate from jdk11 to jdk17 and when trying to generate my soap classes they are generated with the following import javax.xml.datatype.XMLGregorianCalendar; in jdk17 javax it becomes jakarta but I can&#39;t find the XMLGregorianCalendar counterpart, could someone guide me in which library applies in this case.\r\nI need change this:\r\n\r\n    import java.math.BigInteger;\r\n    import javax.xml.bind.annotation.XmlAccessType;\r\n    import javax.xml.bind.annotation.XmlAccessorType;\r\n    import javax.xml.bind.annotation.XmlElement;\r\n    import javax.xml.bind.annotation.XmlRootElement;\r\n    import javax.xml.bind.annotation.XmlSchemaType;\r\n    import javax.xml.bind.annotation.XmlType;\r\n    import javax.xml.datatype.XMLGregorianCalendar;\r\n\r\nto this, but the last import i don&#39;t know how do it this:\r\n\r\n        import java.math.BigInteger;\r\n        import jakarta.xml.bind.annotation.XmlAccessType;\r\n        import jakarta.xml.bind.annotation.XmlAccessorType;\r\n        import jakarta.xml.bind.annotation.XmlElement;\r\n        import jakarta.xml.bind.annotation.XmlRootElement;\r\n        import jakarta.xml.bind.annotation.XmlSchemaType;\r\n        import jakarta.xml.bind.annotation.XmlType;\r\n        import javax.xml.datatype.XMLGregorianCalendar;\r\n","title":"migrate import javax.xml.datatype.XMLGregorianCalendar; jdk11 to jakarta in jdk17","body":"<p>I have an application that I must migrate from jdk11 to jdk17 and when trying to generate my soap classes they are generated with the following import javax.xml.datatype.XMLGregorianCalendar; in jdk17 javax it becomes jakarta but I can't find the XMLGregorianCalendar counterpart, could someone guide me in which library applies in this case.\nI need change this:</p>\n<pre><code>import java.math.BigInteger;\nimport javax.xml.bind.annotation.XmlAccessType;\nimport javax.xml.bind.annotation.XmlAccessorType;\nimport javax.xml.bind.annotation.XmlElement;\nimport javax.xml.bind.annotation.XmlRootElement;\nimport javax.xml.bind.annotation.XmlSchemaType;\nimport javax.xml.bind.annotation.XmlType;\nimport javax.xml.datatype.XMLGregorianCalendar;\n</code></pre>\n<p>to this, but the last import i don't know how do it this:</p>\n<pre><code>    import java.math.BigInteger;\n    import jakarta.xml.bind.annotation.XmlAccessType;\n    import jakarta.xml.bind.annotation.XmlAccessorType;\n    import jakarta.xml.bind.annotation.XmlElement;\n    import jakarta.xml.bind.annotation.XmlRootElement;\n    import jakarta.xml.bind.annotation.XmlSchemaType;\n    import jakarta.xml.bind.annotation.XmlType;\n    import javax.xml.datatype.XMLGregorianCalendar;\n</code></pre>\n"},{"tags":["java","eclipse","maven"],"comments":[{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1663656310,"post_id":73781390,"comment_id":130284795,"body_markdown":"Why shouldn&#39;t they be grayed out? What&#39;s your problem preventing you to do what?","body":"Why shouldn&#39;t they be grayed out? What&#39;s your problem preventing you to do what?"},{"owner":{"account_id":26386316,"reputation":11,"user_id":20038781,"display_name":"don gwon"},"score":1,"creation_date":1663660870,"post_id":73781390,"comment_id":130286239,"body_markdown":"Even if I right-click, the rebuild index does not appear. Build is possible normally, but the add dependency function is not available for repository","body":"Even if I right-click, the rebuild index does not appear. Build is possible normally, but the add dependency function is not available for repository"},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1663661590,"post_id":73781390,"comment_id":130286479,"body_markdown":"See https://github.com/eclipse-m2e/m2e-core/issues/914","body":"See <a href=\"https://github.com/eclipse-m2e/m2e-core/issues/914\" rel=\"nofollow noreferrer\">github.com/eclipse-m2e/m2e-core/issues/914</a>"}],"answers":[{"tags":[],"owner":{"account_id":24121406,"reputation":1,"user_id":18090520,"display_name":"jorenriquez"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687879495,"creation_date":1687879495,"answer_id":76566416,"question_id":73781390,"body_markdown":"Eclipse extracts this data directly from your **settings.xml** \r\n\r\n&lt; **localRepository** &gt;C:/Users/username/.m2/repository &lt; /**localRepository**&gt;\r\n\r\nYou will not be able to change this on the IDE.","title":"eclipse maven repositories are grayed out","body":"<p>Eclipse extracts this data directly from your <strong>settings.xml</strong></p>\n<p>&lt; <strong>localRepository</strong> &gt;C:/Users/username/.m2/repository &lt; /<strong>localRepository</strong>&gt;</p>\n<p>You will not be able to change this on the IDE.</p>\n"}],"owner":{"account_id":26386316,"reputation":11,"user_id":20038781,"display_name":"don gwon"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":513,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1687879495,"creation_date":1663645004,"question_id":73781390,"body_markdown":"I&#39;ve tried many ways in two days, but I can&#39;t solve this.Help me[enter image description here][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/1YgOJ.png","title":"eclipse maven repositories are grayed out","body":"<p>I've tried many ways in two days, but I can't solve this.Help me<a href=\"https://i.stack.imgur.com/1YgOJ.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n"},{"tags":["java","maven","versioning"],"answers":[{"comments":[{"owner":{"account_id":184786,"reputation":18896,"user_id":421049,"accept_rate":50,"display_name":"Garret Wilson"},"score":0,"creation_date":1653830949,"post_id":72423038,"comment_id":127942269,"body_markdown":"&quot;You can provide your ruleset xml file also within a jar …&quot; **Follow-up Question 1:** But can this be in the same JAR as the parent POM? Or do I have to create yet another project with `jar` packaging instead of `pom` packaging to distribute the rules? **Follow-up Question 2:** And then wouldn&#39;t the rules XML suddenly be distributed with every child project, even though it&#39;s only needed at build time (and not even that — it&#39;s only need when I check the dependency versions)? Or can I somehow set the scope so it&#39;s not included in the build?","body":"&quot;You can provide your ruleset xml file also within a jar …&quot; <b>Follow-up Question 1:</b> But can this be in the same JAR as the parent POM? Or do I have to create yet another project with <code>jar</code> packaging instead of <code>pom</code> packaging to distribute the rules? <b>Follow-up Question 2:</b> And then wouldn&#39;t the rules XML suddenly be distributed with every child project, even though it&#39;s only needed at build time (and not even that — it&#39;s only need when I check the dependency versions)? Or can I somehow set the scope so it&#39;s not included in the build?"},{"owner":{"account_id":4635391,"reputation":1131,"user_id":3756780,"display_name":"slindenau"},"score":0,"creation_date":1653832915,"post_id":72423038,"comment_id":127942704,"body_markdown":"@GarretWilson can you elaborate on your parent-child structure? You’re talking about the parent jar, but distributing a project packaged as pom results only in a pom file, not a jar. If your child projects and parent are always checked out together (multi module pom?) you can perhaps use a relative path. If you get the parent from maven, you will indeed need to include the xml in a jar file. If you dont want to distribute this xml file with your final project build, then it needs to be a separate jar. Plugins and their dependencies are not included in the project build.","body":"@GarretWilson can you elaborate on your parent-child structure? You’re talking about the parent jar, but distributing a project packaged as pom results only in a pom file, not a jar. If your child projects and parent are always checked out together (multi module pom?) you can perhaps use a relative path. If you get the parent from maven, you will indeed need to include the xml in a jar file. If you dont want to distribute this xml file with your final project build, then it needs to be a separate jar. Plugins and their dependencies are not included in the project build."},{"owner":{"account_id":184786,"reputation":18896,"user_id":421049,"accept_rate":50,"display_name":"Garret Wilson"},"score":0,"creation_date":1653833927,"post_id":72423038,"comment_id":127942895,"body_markdown":"&quot; You’re talking about the parent jar, but distributing a project packaged as pom results only in a pom file, not a jar.&quot; You&#39;re correct. The parent POM in question is e.g. `com.globalmentor:globalmentor-root:0.8.9`, and I just confirmed it is distributed as a POM; I was mistaken in thinking it was distributed in a JAR. So I will have to create a completely separate project to get the XML file in a JAR. It&#39;s good that plugin dependencies are not included in the project build, but seriously, what an outrageous amount of work for something that should have been in the POM plugin configuration.","body":"&quot; You’re talking about the parent jar, but distributing a project packaged as pom results only in a pom file, not a jar.&quot; You&#39;re correct. The parent POM in question is e.g. <code>com.globalmentor:globalmentor-root:0.8.9</code>, and I just confirmed it is distributed as a POM; I was mistaken in thinking it was distributed in a JAR. So I will have to create a completely separate project to get the XML file in a JAR. It&#39;s good that plugin dependencies are not included in the project build, but seriously, what an outrageous amount of work for something that should have been in the POM plugin configuration."},{"owner":{"account_id":4635391,"reputation":1131,"user_id":3756780,"display_name":"slindenau"},"score":0,"creation_date":1654531231,"post_id":72423038,"comment_id":128107121,"body_markdown":"@GarretWilson i see you’re not happy with the result. If this was a standard multi module [this](https://stackoverflow.com/questions/26120704/maven-versions-plugin-reference-a-rule-xml-from-a-maven-dependency) would be an option. Considering the rules xml was almost [removed](https://github.com/mojohaus/versions-maven-plugin/issues/157), it seems to be a low priority point. You could try to show your support [here](https://github.com/mojohaus/versions-maven-plugin/issues/258). If there is a hack around this, i’d be interested to see it in action as well.","body":"@GarretWilson i see you’re not happy with the result. If this was a standard multi module <a href=\"https://stackoverflow.com/questions/26120704/maven-versions-plugin-reference-a-rule-xml-from-a-maven-dependency\">this</a> would be an option. Considering the rules xml was almost <a href=\"https://github.com/mojohaus/versions-maven-plugin/issues/157\" rel=\"nofollow noreferrer\">removed</a>, it seems to be a low priority point. You could try to show your support <a href=\"https://github.com/mojohaus/versions-maven-plugin/issues/258\" rel=\"nofollow noreferrer\">here</a>. If there is a hack around this, i’d be interested to see it in action as well."},{"owner":{"account_id":4635391,"reputation":1131,"user_id":3756780,"display_name":"slindenau"},"score":0,"creation_date":1654531454,"post_id":72423038,"comment_id":128107202,"body_markdown":"Hosting it at some internal URL is also not an option for you?","body":"Hosting it at some internal URL is also not an option for you?"},{"owner":{"account_id":184786,"reputation":18896,"user_id":421049,"accept_rate":50,"display_name":"Garret Wilson"},"score":0,"creation_date":1654568113,"post_id":72423038,"comment_id":128115901,"body_markdown":"Hosting at an internal URL is not an option. This is a public parent POM that all our projects use not just internally, but possibly third-party public open-source projects as well. Why should I need to host a build configuration? If I want to check that the project has the latest versions, why should I be distracted that version 99.9-alpha-4 is available, if it&#39;s not _really_ a newer version that is released? Most plugins simply allow configuration in the POM. Why should this one be any different? Why must I jump through all these extra hoops just to configure a plugin?","body":"Hosting at an internal URL is not an option. This is a public parent POM that all our projects use not just internally, but possibly third-party public open-source projects as well. Why should I need to host a build configuration? If I want to check that the project has the latest versions, why should I be distracted that version 99.9-alpha-4 is available, if it&#39;s not <i>really</i> a newer version that is released? Most plugins simply allow configuration in the POM. Why should this one be any different? Why must I jump through all these extra hoops just to configure a plugin?"},{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":1,"creation_date":1654933487,"post_id":72423038,"comment_id":128214373,"body_markdown":"An alpha version **is** a new version. &quot;New version&quot; in this context means any non-snapshot version. I understand you do not want an alpha, but this answer shows you workarounds. I think the extra JAR is OK, just you also distribute your parent POM and maybe a BoM as separate artifacts. BTW, some projects like Maven Surefire distribute stable versions as milestones, but for some reason some uninformed people are afraid to use them, waiting for years for the next final major. It might be unfortunate naming, but you really need to check on a per-project basis, so the rules file is a good idea.","body":"An alpha version <b>is</b> a new version. &quot;New version&quot; in this context means any non-snapshot version. I understand you do not want an alpha, but this answer shows you workarounds. I think the extra JAR is OK, just you also distribute your parent POM and maybe a BoM as separate artifacts. BTW, some projects like Maven Surefire distribute stable versions as milestones, but for some reason some uninformed people are afraid to use them, waiting for years for the next final major. It might be unfortunate naming, but you really need to check on a per-project basis, so the rules file is a good idea."},{"owner":{"account_id":184786,"reputation":18896,"user_id":421049,"accept_rate":50,"display_name":"Garret Wilson"},"score":0,"creation_date":1655078170,"post_id":72423038,"comment_id":128238178,"body_markdown":"&quot;An alpha version **is** a new version.&quot; But I want to restrict the check to new _release_ versions. See https://stackoverflow.com/a/53856626 . &quot;I think the extra JAR is OK.&quot; And I don&#39;t think it is OK. Imagine if every plugin required an extra JAR for its settings. &quot;[Y]ou really need to check on a per-project basis …&quot; That is completely your opinion. I vehemently disagree. It&#39;s OK that we disagree, but that&#39;s exactly what configurations are for --- to allow me to configure the behavior to my opinions, not yours. I want all our dozens of projects to be consistent without requiring another JAR.","body":"&quot;An alpha version <b>is</b> a new version.&quot; But I want to restrict the check to new <i>release</i> versions. See <a href=\"https://stackoverflow.com/a/53856626\">stackoverflow.com/a/53856626</a> . &quot;I think the extra JAR is OK.&quot; And I don&#39;t think it is OK. Imagine if every plugin required an extra JAR for its settings. &quot;[Y]ou really need to check on a per-project basis …&quot; That is completely your opinion. I vehemently disagree. It&#39;s OK that we disagree, but that&#39;s exactly what configurations are for --- to allow me to configure the behavior to my opinions, not yours. I want all our dozens of projects to be consistent without requiring another JAR."},{"owner":{"account_id":184786,"reputation":18896,"user_id":421049,"accept_rate":50,"display_name":"Garret Wilson"},"score":0,"creation_date":1655078325,"post_id":72423038,"comment_id":128238201,"body_markdown":"slindenau, the bounty is about to expire and I haven&#39;t received a better answer (unfortunately probably because no better answer exists at the moment). I&#39;ll assign the bounty to you as appreciation for your time in providing at one workaround, even though it is far from ideal.","body":"slindenau, the bounty is about to expire and I haven&#39;t received a better answer (unfortunately probably because no better answer exists at the moment). I&#39;ll assign the bounty to you as appreciation for your time in providing at one workaround, even though it is far from ideal."},{"owner":{"account_id":4635391,"reputation":1131,"user_id":3756780,"display_name":"slindenau"},"score":0,"creation_date":1655104253,"post_id":72423038,"comment_id":128242046,"body_markdown":"@GarretWilson thanks. I see the ticket on github was assigned the `enhancement` label, so eventually the feature might make it into a next release.","body":"@GarretWilson thanks. I see the ticket on github was assigned the <code>enhancement</code> label, so eventually the feature might make it into a next release."}],"tags":[],"owner":{"account_id":4635391,"reputation":1131,"user_id":3756780,"display_name":"slindenau"},"comment_count":10,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1662447585,"creation_date":1653821948,"answer_id":72423038,"question_id":72416739,"body_markdown":"&gt; Or will the child projects look for a rules.xml file in the child project directory?\r\n\r\nYes, if you define the `rules.xml` file via `${project.basedir}` it will resolve to the current local base directory of the child project. I&#39;ve verified this with a simple parent-child pom setup. So that will not work, unless you duplicate the rules file in every project.\r\n\r\nIf you wish to include the plugin configuration *and* ruleset in the parent pom without duplicating the rules file, you have two options:\r\n\r\n&gt; If you have your ruleset xml file hosted at, for example, http://www.mycompany.com/maven-version-rules.xml then the following configuration in your corporate pom would ensure that all projects use this rule set.\r\n\r\n```\r\n&lt;configuration&gt;\r\n    &lt;rulesUri&gt;http://www.mycompany.com/maven-version-rules.xml&lt;/rulesUri&gt;\r\n&lt;/configuration&gt;\r\n```\r\nor\r\n\r\n&gt; You can provide your ruleset xml file also within a jar, if you want to distribute your ruleset xml as Maven artifact. Therefore you have to declare the containing jar as direct dependency of the versions-maven-plugin and to use classpath as protocol.\r\n\r\n```\r\n&lt;configuration&gt;\r\n  &lt;rulesUri&gt;classpath:///package/foo/bar/rules.xml&lt;/rulesUri&gt;\r\n&lt;/configuration&gt;\r\n&lt;dependencies&gt;\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;com.mycompany&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;version-rules&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;1.0&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n&lt;/dependencies&gt;\r\n```\r\n\r\nSource:\r\n- https://www.mojohaus.org/versions-maven-plugin/version-rules.html\r\n\r\nThe configuration in the pom only has rudimentary `includes` and `excludes` filters. Those will allow you to exclude any dependency as a whole, but not specific update versions. As far as i can tell from the available documentation there is no way to define version rules in any other way.\r\n\r\nSee\r\n- https://www.mojohaus.org/versions-maven-plugin/examples/advancing-dependency-versions.html\r\n\r\n## Update 09-2022 ##\r\nIn the [github ticket](https://github.com/mojohaus/versions-maven-plugin/issues/258) we found in the comments we can see the following update:\r\n\r\n&gt; It looks like a feature like this has recently been implemented by [#369](https://github.com/mojohaus/versions-maven-plugin/pull/369). Please see [#318](https://github.com/mojohaus/versions-maven-plugin/issues/318) where it&#39;s possible to provide inclusion and exclusion filters for determining which dependency patterns will be considered. Thanks to that, you can rule out patterns such as `.*-beta.` or `.*_ALPHA`, albeit not using regexp, but simple asterisk wildcards.\r\n\r\n&gt; This will land in today&#39;s release (2.12.0).\r\n\r\nThis will add the following features:\r\n\r\n&gt; Version 2.12.0 will introduce new arguments: `dependencyIncluded`, `dependencyExcludes`, `dependencyManagementIncludes`, `dependencyManagementExcludes`.\r\n\r\nWith the following example configuration in `pom.xml` given:\r\n```lang-xml\r\n&lt;profile&gt;\r\n  &lt;id&gt;display-dependency-updates&lt;/id&gt;\r\n  &lt;build&gt;\r\n    &lt;plugins&gt;\r\n      &lt;plugin&gt;\r\n        &lt;groupId&gt;${project.groupId}&lt;/groupId&gt;\r\n        &lt;artifactId&gt;${project.artifactId}&lt;/artifactId&gt;\r\n        &lt;version&gt;${project.version}&lt;/version&gt;\r\n        &lt;executions&gt;\r\n          &lt;execution&gt;\r\n            &lt;phase&gt;validate&lt;/phase&gt;\r\n            &lt;goals&gt;\r\n              &lt;goal&gt;display-dependency-updates&lt;/goal&gt;\r\n            &lt;/goals&gt;\r\n            &lt;configuration&gt;\r\n              &lt;dependencyIncludes&gt;org.apache.maven.*:doxia*&lt;/dependencyIncludes&gt;\r\n              &lt;dependencyManagementIncludes&gt;com.puppy*:*&lt;/dependencyManagementIncludes&gt;\r\n            &lt;/configuration&gt;\r\n          &lt;/execution&gt;\r\n        &lt;/executions&gt;\r\n      &lt;/plugin&gt;\r\n    &lt;/plugins&gt;\r\n  &lt;/build&gt;\r\n&lt;/profile&gt;\r\n```\r\n\r\nThis will also be implemented for filtering `plugin` and `pluginManagement`, but that will probably be added in a later release:\r\n&gt; So, I&#39;ve just added the missing plugin- and plugin management filtering which works likewise. I really doubt it will land into today&#39;s release though.","title":"Versions Maven Plugin rules that are inheritable","body":"<blockquote>\n<p>Or will the child projects look for a rules.xml file in the child project directory?</p>\n</blockquote>\n<p>Yes, if you define the <code>rules.xml</code> file via <code>${project.basedir}</code> it will resolve to the current local base directory of the child project. I've verified this with a simple parent-child pom setup. So that will not work, unless you duplicate the rules file in every project.</p>\n<p>If you wish to include the plugin configuration <em>and</em> ruleset in the parent pom without duplicating the rules file, you have two options:</p>\n<blockquote>\n<p>If you have your ruleset xml file hosted at, for example, <a href=\"http://www.mycompany.com/maven-version-rules.xml\" rel=\"nofollow noreferrer\">http://www.mycompany.com/maven-version-rules.xml</a> then the following configuration in your corporate pom would ensure that all projects use this rule set.</p>\n</blockquote>\n<pre><code>&lt;configuration&gt;\n    &lt;rulesUri&gt;http://www.mycompany.com/maven-version-rules.xml&lt;/rulesUri&gt;\n&lt;/configuration&gt;\n</code></pre>\n<p>or</p>\n<blockquote>\n<p>You can provide your ruleset xml file also within a jar, if you want to distribute your ruleset xml as Maven artifact. Therefore you have to declare the containing jar as direct dependency of the versions-maven-plugin and to use classpath as protocol.</p>\n</blockquote>\n<pre><code>&lt;configuration&gt;\n  &lt;rulesUri&gt;classpath:///package/foo/bar/rules.xml&lt;/rulesUri&gt;\n&lt;/configuration&gt;\n&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.mycompany&lt;/groupId&gt;\n        &lt;artifactId&gt;version-rules&lt;/artifactId&gt;\n        &lt;version&gt;1.0&lt;/version&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n</code></pre>\n<p>Source:</p>\n<ul>\n<li><a href=\"https://www.mojohaus.org/versions-maven-plugin/version-rules.html\" rel=\"nofollow noreferrer\">https://www.mojohaus.org/versions-maven-plugin/version-rules.html</a></li>\n</ul>\n<p>The configuration in the pom only has rudimentary <code>includes</code> and <code>excludes</code> filters. Those will allow you to exclude any dependency as a whole, but not specific update versions. As far as i can tell from the available documentation there is no way to define version rules in any other way.</p>\n<p>See</p>\n<ul>\n<li><a href=\"https://www.mojohaus.org/versions-maven-plugin/examples/advancing-dependency-versions.html\" rel=\"nofollow noreferrer\">https://www.mojohaus.org/versions-maven-plugin/examples/advancing-dependency-versions.html</a></li>\n</ul>\n<h2>Update 09-2022</h2>\n<p>In the <a href=\"https://github.com/mojohaus/versions-maven-plugin/issues/258\" rel=\"nofollow noreferrer\">github ticket</a> we found in the comments we can see the following update:</p>\n<blockquote>\n<p>It looks like a feature like this has recently been implemented by <a href=\"https://github.com/mojohaus/versions-maven-plugin/pull/369\" rel=\"nofollow noreferrer\">#369</a>. Please see <a href=\"https://github.com/mojohaus/versions-maven-plugin/issues/318\" rel=\"nofollow noreferrer\">#318</a> where it's possible to provide inclusion and exclusion filters for determining which dependency patterns will be considered. Thanks to that, you can rule out patterns such as <code>.*-beta.</code> or <code>.*_ALPHA</code>, albeit not using regexp, but simple asterisk wildcards.</p>\n</blockquote>\n<blockquote>\n<p>This will land in today's release (2.12.0).</p>\n</blockquote>\n<p>This will add the following features:</p>\n<blockquote>\n<p>Version 2.12.0 will introduce new arguments: <code>dependencyIncluded</code>, <code>dependencyExcludes</code>, <code>dependencyManagementIncludes</code>, <code>dependencyManagementExcludes</code>.</p>\n</blockquote>\n<p>With the following example configuration in <code>pom.xml</code> given:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;profile&gt;\n  &lt;id&gt;display-dependency-updates&lt;/id&gt;\n  &lt;build&gt;\n    &lt;plugins&gt;\n      &lt;plugin&gt;\n        &lt;groupId&gt;${project.groupId}&lt;/groupId&gt;\n        &lt;artifactId&gt;${project.artifactId}&lt;/artifactId&gt;\n        &lt;version&gt;${project.version}&lt;/version&gt;\n        &lt;executions&gt;\n          &lt;execution&gt;\n            &lt;phase&gt;validate&lt;/phase&gt;\n            &lt;goals&gt;\n              &lt;goal&gt;display-dependency-updates&lt;/goal&gt;\n            &lt;/goals&gt;\n            &lt;configuration&gt;\n              &lt;dependencyIncludes&gt;org.apache.maven.*:doxia*&lt;/dependencyIncludes&gt;\n              &lt;dependencyManagementIncludes&gt;com.puppy*:*&lt;/dependencyManagementIncludes&gt;\n            &lt;/configuration&gt;\n          &lt;/execution&gt;\n        &lt;/executions&gt;\n      &lt;/plugin&gt;\n    &lt;/plugins&gt;\n  &lt;/build&gt;\n&lt;/profile&gt;\n</code></pre>\n<p>This will also be implemented for filtering <code>plugin</code> and <code>pluginManagement</code>, but that will probably be added in a later release:</p>\n<blockquote>\n<p>So, I've just added the missing plugin- and plugin management filtering which works likewise. I really doubt it will land into today's release though.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":2074809,"reputation":11,"user_id":1848484,"display_name":"Andrzej Jarmoniuk"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1662786471,"creation_date":1662786372,"answer_id":73669416,"question_id":72416739,"body_markdown":"Pasting my answer here from Github, because I think it might benefit others.\r\n\r\nProvided you have a directory called `rules-test` in your project containing the rules template file:\r\n```xml\r\n&lt;ruleset comparisonMethod=&quot;maven&quot;\r\n         xmlns=&quot;http://mojo.codehaus.org/versions-maven-plugin/rule/2.0.0&quot;\r\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://mojo.codehaus.org/versions-maven-plugin/rule/2.0.0\r\n         https://www.mojohaus.org/versions-maven-plugin/xsd/rule-2.0.0.xsd&quot;&gt;\r\n    &lt;ignoreVersions&gt;\r\n        &lt;ignoreVersion type=&quot;regex&quot;&gt;${ignoredVersions}&lt;/ignoreVersion&gt;\r\n    &lt;/ignoreVersions&gt;\r\n&lt;/ruleset&gt;\r\n```\r\n\r\nThen, in your main project, create the following profile:\r\n\r\n```xml\r\n&lt;profile&gt;\r\n  &lt;id&gt;rules-test&lt;/id&gt;\r\n  &lt;build&gt;\r\n    &lt;plugins&gt;\r\n      &lt;plugin&gt;\r\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n        &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;3.3.0&lt;/version&gt;\r\n        &lt;executions&gt;\r\n          &lt;execution&gt;\r\n            &lt;phase&gt;validate&lt;/phase&gt;\r\n            &lt;goals&gt;\r\n              &lt;goal&gt;copy-resources&lt;/goal&gt;\r\n            &lt;/goals&gt;\r\n            &lt;configuration&gt;\r\n              &lt;resources&gt;\r\n                &lt;resource&gt;\r\n                  &lt;directory&gt;rules-test&lt;/directory&gt;\r\n                  &lt;filtering&gt;true&lt;/filtering&gt;\r\n                &lt;/resource&gt;\r\n              &lt;/resources&gt;\r\n              &lt;outputDirectory&gt;${project.basedir}&lt;/outputDirectory&gt;\r\n            &lt;/configuration&gt;\r\n          &lt;/execution&gt;\r\n        &lt;/executions&gt;\r\n      &lt;/plugin&gt;\r\n      &lt;plugin&gt;\r\n        &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n        &lt;artifactId&gt;versions-maven-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;2.12.0&lt;/version&gt;\r\n        &lt;executions&gt;\r\n          &lt;execution&gt;\r\n            &lt;phase&gt;validate&lt;/phase&gt;\r\n            &lt;goals&gt;\r\n              &lt;goal&gt;display-dependency-updates&lt;/goal&gt;\r\n            &lt;/goals&gt;\r\n            &lt;configuration&gt;\r\n              &lt;rulesUri&gt;file://${project.basedir}/compiled-rules.xml&lt;/rulesUri&gt;\r\n            &lt;/configuration&gt;\r\n          &lt;/execution&gt;\r\n        &lt;/executions&gt;\r\n      &lt;/plugin&gt;\r\n    &lt;/plugins&gt;\r\n  &lt;/build&gt;\r\n&lt;/profile&gt;\r\n```\r\n\r\nIf you then execute the following Maven target:\r\n\r\n```sh\r\nmvn -P rules-test &quot;-DignoredVersions=.*-(M\\d*|.*-SNAPSHOT)&quot; clean validate\r\n```\r\n\r\nthen you will get a dependencies report using the filter in the `-DignoredVersions` argument (filtering out both `*-M*` and `*-SNAPSHOT`).\r\n\r\nAnd if you put your `ignoredVerions` property in your project instead of passing it as a -D argument, then it will be inheritable!","title":"Versions Maven Plugin rules that are inheritable","body":"<p>Pasting my answer here from Github, because I think it might benefit others.</p>\n<p>Provided you have a directory called <code>rules-test</code> in your project containing the rules template file:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;ruleset comparisonMethod=&quot;maven&quot;\n         xmlns=&quot;http://mojo.codehaus.org/versions-maven-plugin/rule/2.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://mojo.codehaus.org/versions-maven-plugin/rule/2.0.0\n         https://www.mojohaus.org/versions-maven-plugin/xsd/rule-2.0.0.xsd&quot;&gt;\n    &lt;ignoreVersions&gt;\n        &lt;ignoreVersion type=&quot;regex&quot;&gt;${ignoredVersions}&lt;/ignoreVersion&gt;\n    &lt;/ignoreVersions&gt;\n&lt;/ruleset&gt;\n</code></pre>\n<p>Then, in your main project, create the following profile:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;profile&gt;\n  &lt;id&gt;rules-test&lt;/id&gt;\n  &lt;build&gt;\n    &lt;plugins&gt;\n      &lt;plugin&gt;\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\n        &lt;version&gt;3.3.0&lt;/version&gt;\n        &lt;executions&gt;\n          &lt;execution&gt;\n            &lt;phase&gt;validate&lt;/phase&gt;\n            &lt;goals&gt;\n              &lt;goal&gt;copy-resources&lt;/goal&gt;\n            &lt;/goals&gt;\n            &lt;configuration&gt;\n              &lt;resources&gt;\n                &lt;resource&gt;\n                  &lt;directory&gt;rules-test&lt;/directory&gt;\n                  &lt;filtering&gt;true&lt;/filtering&gt;\n                &lt;/resource&gt;\n              &lt;/resources&gt;\n              &lt;outputDirectory&gt;${project.basedir}&lt;/outputDirectory&gt;\n            &lt;/configuration&gt;\n          &lt;/execution&gt;\n        &lt;/executions&gt;\n      &lt;/plugin&gt;\n      &lt;plugin&gt;\n        &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n        &lt;artifactId&gt;versions-maven-plugin&lt;/artifactId&gt;\n        &lt;version&gt;2.12.0&lt;/version&gt;\n        &lt;executions&gt;\n          &lt;execution&gt;\n            &lt;phase&gt;validate&lt;/phase&gt;\n            &lt;goals&gt;\n              &lt;goal&gt;display-dependency-updates&lt;/goal&gt;\n            &lt;/goals&gt;\n            &lt;configuration&gt;\n              &lt;rulesUri&gt;file://${project.basedir}/compiled-rules.xml&lt;/rulesUri&gt;\n            &lt;/configuration&gt;\n          &lt;/execution&gt;\n        &lt;/executions&gt;\n      &lt;/plugin&gt;\n    &lt;/plugins&gt;\n  &lt;/build&gt;\n&lt;/profile&gt;\n</code></pre>\n<p>If you then execute the following Maven target:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>mvn -P rules-test &quot;-DignoredVersions=.*-(M\\d*|.*-SNAPSHOT)&quot; clean validate\n</code></pre>\n<p>then you will get a dependencies report using the filter in the <code>-DignoredVersions</code> argument (filtering out both <code>*-M*</code> and <code>*-SNAPSHOT</code>).</p>\n<p>And if you put your <code>ignoredVerions</code> property in your project instead of passing it as a -D argument, then it will be inheritable!</p>\n"},{"tags":[],"owner":{"account_id":184786,"reputation":18896,"user_id":421049,"accept_rate":50,"display_name":"Garret Wilson"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1687879206,"creation_date":1687879206,"answer_id":76566374,"question_id":72416739,"body_markdown":"Happy this is now available natively in the plugin; see [Issue #684][1]. I recommended using at least v2.16.0 because of [Issue #959][2].\r\n\r\n\r\n  [1]: https://github.com/mojohaus/versions/issues/684\r\n  [2]: https://github.com/mojohaus/versions/issues/959","title":"Versions Maven Plugin rules that are inheritable","body":"<p>Happy this is now available natively in the plugin; see <a href=\"https://github.com/mojohaus/versions/issues/684\" rel=\"nofollow noreferrer\">Issue #684</a>. I recommended using at least v2.16.0 because of <a href=\"https://github.com/mojohaus/versions/issues/959\" rel=\"nofollow noreferrer\">Issue #959</a>.</p>\n"}],"owner":{"account_id":184786,"reputation":18896,"user_id":421049,"accept_rate":50,"display_name":"Garret Wilson"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":731,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":76566374,"answer_count":3,"score":4,"last_activity_date":1687879206,"creation_date":1653750191,"question_id":72416739,"body_markdown":"When running `mvn versions:display-dependency-updates` for the [Version Maven Plugin][1] I see lots of things like this:\r\n\r\n```\r\n[INFO]   org.slf4j:slf4j-api ........................... 1.7.36 -&gt; 2.0.0-alpha7\r\n```\r\n\r\nBut just because I&#39;m not using the alpha version of a later version doesn&#39;t mean I&#39;m not using the latest available release version. Another [Stack Overflow answer][2] indicated that I can set up a `rules.xml` file to ignore versions like `*.-alpha*`, putting something like this in my POM:\r\n\r\n```\r\n&lt;configuration&gt;\r\n  &lt;rulesUri&gt;file:///${project.basedir}/rules.xml&lt;/rulesUri&gt;\r\n&lt;/configuration&gt;\r\n```\r\n\r\nMy question: is this `rules.xml` file inheritable? If I put it in a separate project in a parent POM of `&lt;packaging&gt;pom&lt;/packaging&gt;`, published to Maven Central, will the child POMs pick it up? Or will the child projects look for a `rules.xml` file _in the child project directory_?\r\n\r\nI want to configure the `versions-maven-plugin` in the parent POM (as I do already) and run `mvn versions:display-dependency-updates` on any child POM or descendant POM. How can I set up the ignore rules in the parent POM so that these version ignore rules will be picked up when I check for dependency updates in a child POM? (Is there no way to include the rule within the POM itself?)\r\n\r\n\r\n  [1]: https://www.mojohaus.org/versions-maven-plugin/\r\n  [2]: https://stackoverflow.com/a/48715568/","title":"Versions Maven Plugin rules that are inheritable","body":"<p>When running <code>mvn versions:display-dependency-updates</code> for the <a href=\"https://www.mojohaus.org/versions-maven-plugin/\" rel=\"nofollow noreferrer\">Version Maven Plugin</a> I see lots of things like this:</p>\n<pre><code>[INFO]   org.slf4j:slf4j-api ........................... 1.7.36 -&gt; 2.0.0-alpha7\n</code></pre>\n<p>But just because I'm not using the alpha version of a later version doesn't mean I'm not using the latest available release version. Another <a href=\"https://stackoverflow.com/a/48715568/\">Stack Overflow answer</a> indicated that I can set up a <code>rules.xml</code> file to ignore versions like <code>*.-alpha*</code>, putting something like this in my POM:</p>\n<pre><code>&lt;configuration&gt;\n  &lt;rulesUri&gt;file:///${project.basedir}/rules.xml&lt;/rulesUri&gt;\n&lt;/configuration&gt;\n</code></pre>\n<p>My question: is this <code>rules.xml</code> file inheritable? If I put it in a separate project in a parent POM of <code>&lt;packaging&gt;pom&lt;/packaging&gt;</code>, published to Maven Central, will the child POMs pick it up? Or will the child projects look for a <code>rules.xml</code> file <em>in the child project directory</em>?</p>\n<p>I want to configure the <code>versions-maven-plugin</code> in the parent POM (as I do already) and run <code>mvn versions:display-dependency-updates</code> on any child POM or descendant POM. How can I set up the ignore rules in the parent POM so that these version ignore rules will be picked up when I check for dependency updates in a child POM? (Is there no way to include the rule within the POM itself?)</p>\n"},{"tags":["java","spring","mapping","mapstruct"],"comments":[{"owner":{"account_id":10478004,"reputation":116,"user_id":7723926,"display_name":"Hamed Heidarian"},"score":0,"creation_date":1674716407,"post_id":75221003,"comment_id":132774153,"body_markdown":"Can you add Mapstruct&#39;s implementation of your mapper to the question?","body":"Can you add Mapstruct&#39;s implementation of your mapper to the question?"}],"answers":[{"tags":[],"owner":{"account_id":10478004,"reputation":116,"user_id":7723926,"display_name":"Hamed Heidarian"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687878953,"creation_date":1674716487,"answer_id":75242989,"question_id":75221003,"body_markdown":"Thats most probably because you didn&#39;t provide a method that maps `List&lt;UserEntity&gt;` to `List&lt;String&gt;`.\r\nJust add such a default method and test if it works.","title":"Mention field = null in child comments but works fine for root level comments","body":"<p>Thats most probably because you didn't provide a method that maps <code>List&lt;UserEntity&gt;</code> to <code>List&lt;String&gt;</code>.\nJust add such a default method and test if it works.</p>\n"}],"owner":{"account_id":17875756,"reputation":106,"user_id":12985876,"display_name":"Taras"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1687878953,"creation_date":1674560672,"question_id":75221003,"body_markdown":"I want to make childComments nested in root comments. I did it. But the problem is that mention field = null in childComments but other fields are displayed correctly. However, for root comments, mention field works well. \r\n\r\nI also want to have only two levels of comments.\r\n\r\nRoot comments -&gt; child comments. And child comments shoul&#39;d have childComments.\r\nPerhaps I did not register the mapping correctly. I will be glad to hear your advice.\r\n\r\n        @Override\r\n          public CommentListResponse list(Specification&lt;CommentEntity&gt; spec, Pageable pageable, DeletedRecords deleted) {\r\n            pageable = DefaultSorting.apply(pageable, Sort.by(Sort.Order.desc(&quot;commentedAt&quot;)));\r\n            spec = SpecificationHelper.addDeletedFilter(spec, deleted);\r\n            Page&lt;CommentEntity&gt; page = commentRepository.findAll(spec, pageable);\r\n            List&lt;CommentListResponse.CommentItem&gt; comments = page.stream()\r\n                .filter(comment -&gt; comment.getParentCommentId() == null)\r\n                .map(comment -&gt; commentMapper.toListResponseItem(comment, deleted != null))\r\n                .toList();\r\n            return CommentListResponse.builder()\r\n                .data(comments)\r\n                .fromPage(page)\r\n                .build();\r\n          }\r\n        \r\n        \r\n        @Data\r\n        @SuperBuilder\r\n        @NoArgsConstructor\r\n        @AllArgsConstructor\r\n        @EqualsAndHashCode(callSuper = true)\r\n        public class CommentListResponse extends PagedResponse {\r\n          private List&lt;CommentItem&gt; data;\r\n        \r\n          @Data\r\n          @Builder\r\n          @NoArgsConstructor\r\n          @AllArgsConstructor\r\n          public static class CommentItem {\r\n            private long id;\r\n            private String body;\r\n            private List&lt;String&gt; mentions;\r\n            private Long parentCommentId;\r\n            private List&lt;CommentItem&gt; childComments;\r\n        \r\n            @JsonInclude(JsonInclude.Include.NON_NULL)\r\n            private Boolean deleted;\r\n        \r\n            @JsonIgnore\r\n            private boolean includeDeletedField;\r\n        \r\n            public Boolean getDeleted() {\r\n              return includeDeletedField ? deleted : null;\r\n            }\r\n          }\r\n        }\r\n        \r\n        @Mapper(componentModel = &quot;spring&quot;)\r\n        public interface CommentMapper {\r\n        \r\n          @Mapping(source = &quot;comment.mentionUsers&quot;, target = &quot;mentions&quot;)\r\n          CommentListResponse.CommentItem toListResponseItem(CommentEntity comment, boolean includeDeletedField);\r\n        }\r\n        \r\n        \r\n        @Entity\r\n        @Table(name = &quot;comment&quot;)\r\n        @Getter\r\n        @Setter\r\n        @Builder\r\n        @AllArgsConstructor\r\n        @NoArgsConstructor\r\n        @ToString(onlyExplicitlyIncluded = true)\r\n        public class CommentEntity {\r\n          @Id\r\n          @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n          @Column(name = &quot;id&quot;)\r\n          @ToString.Include\r\n          private Long id;\r\n        \r\n          @Column(name = &quot;body&quot;, nullable = false)\r\n          @ToString.Include\r\n          private String body;\r\n        \r\n          @ManyToMany(fetch = FetchType.EAGER)\r\n          @JoinTable(name = &quot;comment_user_mention&quot;,\r\n              joinColumns = @JoinColumn(name = &quot;comment_id&quot;),\r\n              inverseJoinColumns = @JoinColumn(name = &quot;user_id&quot;))\r\n          private List&lt;UserEntity&gt; mentionUsers;\r\n        \r\n          @Column(name = &quot;parent_comment_id&quot;)\r\n          @ToString.Include\r\n          private Long parentCommentId;\r\n        \r\n          @OneToMany(mappedBy = &quot;parentCommentId&quot;, fetch = FetchType.LAZY)\r\n          private List&lt;CommentEntity&gt; childComments;\r\n    }\r\n       \r\n    JSON output: {       &quot;id&quot;: 1,\r\n                        &quot;body&quot;: &quot;test root comment&quot;,\r\n                        &quot;mentions&quot;: [&quot;user-1&quot;],\r\n                        &quot;parentCommentId&quot;: null,\r\n                        &quot;childComments&quot;: [\r\n                            {\r\n                                &quot;id&quot;: 3,\r\n                                &quot;body&quot;: &quot;test child comment&quot;,\r\n                                &quot;mentions&quot;: null, - // in db i have mention for this child comment but it&#39;s null. \r\n                                &quot;parentCommentId&quot;: 1,\r\n                                   &quot;childComments&quot;: [] // i don&#39;t want to see this field in child comments.\r\n                            }\r\n            ]\r\n            }","title":"Mention field = null in child comments but works fine for root level comments","body":"<p>I want to make childComments nested in root comments. I did it. But the problem is that mention field = null in childComments but other fields are displayed correctly. However, for root comments, mention field works well.</p>\n<p>I also want to have only two levels of comments.</p>\n<p>Root comments -&gt; child comments. And child comments shoul'd have childComments.\nPerhaps I did not register the mapping correctly. I will be glad to hear your advice.</p>\n<pre><code>    @Override\n      public CommentListResponse list(Specification&lt;CommentEntity&gt; spec, Pageable pageable, DeletedRecords deleted) {\n        pageable = DefaultSorting.apply(pageable, Sort.by(Sort.Order.desc(&quot;commentedAt&quot;)));\n        spec = SpecificationHelper.addDeletedFilter(spec, deleted);\n        Page&lt;CommentEntity&gt; page = commentRepository.findAll(spec, pageable);\n        List&lt;CommentListResponse.CommentItem&gt; comments = page.stream()\n            .filter(comment -&gt; comment.getParentCommentId() == null)\n            .map(comment -&gt; commentMapper.toListResponseItem(comment, deleted != null))\n            .toList();\n        return CommentListResponse.builder()\n            .data(comments)\n            .fromPage(page)\n            .build();\n      }\n    \n    \n    @Data\n    @SuperBuilder\n    @NoArgsConstructor\n    @AllArgsConstructor\n    @EqualsAndHashCode(callSuper = true)\n    public class CommentListResponse extends PagedResponse {\n      private List&lt;CommentItem&gt; data;\n    \n      @Data\n      @Builder\n      @NoArgsConstructor\n      @AllArgsConstructor\n      public static class CommentItem {\n        private long id;\n        private String body;\n        private List&lt;String&gt; mentions;\n        private Long parentCommentId;\n        private List&lt;CommentItem&gt; childComments;\n    \n        @JsonInclude(JsonInclude.Include.NON_NULL)\n        private Boolean deleted;\n    \n        @JsonIgnore\n        private boolean includeDeletedField;\n    \n        public Boolean getDeleted() {\n          return includeDeletedField ? deleted : null;\n        }\n      }\n    }\n    \n    @Mapper(componentModel = &quot;spring&quot;)\n    public interface CommentMapper {\n    \n      @Mapping(source = &quot;comment.mentionUsers&quot;, target = &quot;mentions&quot;)\n      CommentListResponse.CommentItem toListResponseItem(CommentEntity comment, boolean includeDeletedField);\n    }\n    \n    \n    @Entity\n    @Table(name = &quot;comment&quot;)\n    @Getter\n    @Setter\n    @Builder\n    @AllArgsConstructor\n    @NoArgsConstructor\n    @ToString(onlyExplicitlyIncluded = true)\n    public class CommentEntity {\n      @Id\n      @GeneratedValue(strategy = GenerationType.IDENTITY)\n      @Column(name = &quot;id&quot;)\n      @ToString.Include\n      private Long id;\n    \n      @Column(name = &quot;body&quot;, nullable = false)\n      @ToString.Include\n      private String body;\n    \n      @ManyToMany(fetch = FetchType.EAGER)\n      @JoinTable(name = &quot;comment_user_mention&quot;,\n          joinColumns = @JoinColumn(name = &quot;comment_id&quot;),\n          inverseJoinColumns = @JoinColumn(name = &quot;user_id&quot;))\n      private List&lt;UserEntity&gt; mentionUsers;\n    \n      @Column(name = &quot;parent_comment_id&quot;)\n      @ToString.Include\n      private Long parentCommentId;\n    \n      @OneToMany(mappedBy = &quot;parentCommentId&quot;, fetch = FetchType.LAZY)\n      private List&lt;CommentEntity&gt; childComments;\n}\n   \nJSON output: {       &quot;id&quot;: 1,\n                    &quot;body&quot;: &quot;test root comment&quot;,\n                    &quot;mentions&quot;: [&quot;user-1&quot;],\n                    &quot;parentCommentId&quot;: null,\n                    &quot;childComments&quot;: [\n                        {\n                            &quot;id&quot;: 3,\n                            &quot;body&quot;: &quot;test child comment&quot;,\n                            &quot;mentions&quot;: null, - // in db i have mention for this child comment but it's null. \n                            &quot;parentCommentId&quot;: 1,\n                               &quot;childComments&quot;: [] // i don't want to see this field in child comments.\n                        }\n        ]\n        }\n</code></pre>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":4354234,"reputation":845,"user_id":3553434,"display_name":"alalalala"},"score":0,"creation_date":1687679696,"post_id":76549264,"comment_id":134968267,"body_markdown":"Most people won&#39;t look at your screenshots... Because if they try to solve your problem, they need to write a complete entity class by hand according to your screenshot.","body":"Most people won&#39;t look at your screenshots... Because if they try to solve your problem, they need to write a complete entity class by hand according to your screenshot."},{"owner":{"account_id":19535095,"reputation":2874,"user_id":14294053,"display_name":"Mar-Z"},"score":0,"creation_date":1687679822,"post_id":76549264,"comment_id":134968283,"body_markdown":"Hello Vlad, please don&#39;t share code as picture but paste it as formatted code. Please also tell us what kind of error are you getting.","body":"Hello Vlad, please don&#39;t share code as picture but paste it as formatted code. Please also tell us what kind of error are you getting."},{"owner":{"account_id":24661876,"reputation":3,"user_id":18558007,"display_name":"Vlad Skoromnyi"},"score":0,"creation_date":1687687651,"post_id":76549264,"comment_id":134968897,"body_markdown":"Thanks for your comment,I&#39;ve updated my question with code example","body":"Thanks for your comment,I&#39;ve updated my question with code example"},{"owner":{"account_id":15166774,"reputation":91,"user_id":10944077,"display_name":"Awais Latif"},"score":0,"creation_date":1687696720,"post_id":76549264,"comment_id":134969747,"body_markdown":"@Query(&quot;SELECT b.* FROM BookEntity b WHERE b.genre = :genre&quot;)\n        List&lt;BookEntity&gt; findAllByGenre(@Param(&quot;genre&quot;) String genre);","body":"@Query(&quot;SELECT b.* FROM BookEntity b WHERE b.genre = :genre&quot;)         List&lt;BookEntity&gt; findAllByGenre(@Param(&quot;genre&quot;) String genre);"}],"answers":[{"comments":[{"owner":{"account_id":28768367,"reputation":21,"user_id":22032734,"display_name":"lib"},"score":0,"creation_date":1687756269,"post_id":76549317,"comment_id":134975510,"body_markdown":"@Vlad Please care to upvote or accept if this answer helped.","body":"@Vlad Please care to upvote or accept if this answer helped."}],"tags":[],"owner":{"account_id":28768367,"reputation":21,"user_id":22032734,"display_name":"lib"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687677684,"creation_date":1687677684,"answer_id":76549317,"question_id":76549264,"body_markdown":"The beauty of JPA is it automatically generates queries internally. In your case, you already passing the necessary parameters as array of genre. This ideally will work and JPA will do the heavy lifting for you.\r\n\r\nIn case you want to define a custom SQL query by yourself do refer the following read:\r\n\r\nhttps://stackoverflow.com/questions/22935278/is-it-possible-to-use-an-array-object-as-a-parameter-in-spring-repository-query\r\n\r\nHope this helps.\r\n\r\n","title":"Java Spring Boot, Repository method for getting all entity by value from Array","body":"<p>The beauty of JPA is it automatically generates queries internally. In your case, you already passing the necessary parameters as array of genre. This ideally will work and JPA will do the heavy lifting for you.</p>\n<p>In case you want to define a custom SQL query by yourself do refer the following read:</p>\n<p><a href=\"https://stackoverflow.com/questions/22935278/is-it-possible-to-use-an-array-object-as-a-parameter-in-spring-repository-query\">Is it possible to use an Array object as a parameter in Spring Repository @Query annotation?</a></p>\n<p>Hope this helps.</p>\n"},{"tags":[],"owner":{"account_id":13223229,"reputation":53,"user_id":9549261,"display_name":"Ali Booresh"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687878948,"creation_date":1687689646,"answer_id":76549990,"question_id":76549264,"body_markdown":"It&#39;s better to be this way,\r\nfirst, create a Genre class:\r\n\r\n```java \r\npublic class Genre {\r\n    Long id;\r\n    String title;\r\n    String description;\r\n}\r\n```\r\nand Book class:\r\n\r\n```java \r\npublic class Book {\r\n    Long id;\r\n    String title;\r\n    String author;\r\n    .\r\n    .\r\n    .\r\n    @OneToMany\r\n    List&lt;Genre&gt; genres;\r\n}\r\n```\r\n\r\nnow you can get Book entities using a query;\r\nread this to create query:\r\nhttps://stackoverflow.com/questions/15251761/sql-query-one-to-many-relationship\r\n\r\n","title":"Java Spring Boot, Repository method for getting all entity by value from Array","body":"<p>It's better to be this way,\nfirst, create a Genre class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Genre {\n    Long id;\n    String title;\n    String description;\n}\n</code></pre>\n<p>and Book class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Book {\n    Long id;\n    String title;\n    String author;\n    .\n    .\n    .\n    @OneToMany\n    List&lt;Genre&gt; genres;\n}\n</code></pre>\n<p>now you can get Book entities using a query;\nread this to create query:\n<a href=\"https://stackoverflow.com/questions/15251761/sql-query-one-to-many-relationship\">SQL query one to many relationship</a></p>\n"},{"tags":[],"owner":{"account_id":24661876,"reputation":3,"user_id":18558007,"display_name":"Vlad Skoromnyi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687690870,"creation_date":1687690870,"answer_id":76550074,"question_id":76549264,"body_markdown":"Thanks for you suggestions, I&#39;ve found solution with Native Query\r\nThat is working for me\r\nThis is code of BookRepository method for getting all books by genre\r\n   \r\n\r\n     @Query(value = &quot;SELECT * FROM book_entity WHERE genre LIKE %:genre%&quot;, nativeQuery = true)\r\n        List&lt;BookEntity&gt; findAllByGenre(@Param(&quot;genre&quot;) String genre);","title":"Java Spring Boot, Repository method for getting all entity by value from Array","body":"<p>Thanks for you suggestions, I've found solution with Native Query\nThat is working for me\nThis is code of BookRepository method for getting all books by genre</p>\n<pre><code> @Query(value = &quot;SELECT * FROM book_entity WHERE genre LIKE %:genre%&quot;, nativeQuery = true)\n    List&lt;BookEntity&gt; findAllByGenre(@Param(&quot;genre&quot;) String genre);\n</code></pre>\n"}],"owner":{"account_id":24661876,"reputation":3,"user_id":18558007,"display_name":"Vlad Skoromnyi"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":83,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1687878948,"creation_date":1687676669,"question_id":76549264,"body_markdown":"I have Book entity and book repository. Book has string array with genres. I need to implement findAllByGenre method for searching all books which will be includes passed &quot;genre&quot; at their array. How it will be better to implements?\r\n[Book Entity](https://i.stack.imgur.com/Nj6G4.png)\r\n[Book Repository](https://i.stack.imgur.com/JcQhN.png)\r\n\r\nI tried to create method which will be returns List of books, but can&#39;t understood how should I pass params and do select with string\r\n\r\nUPDATED:\r\nI&#39;ve tried to implement Repository method like that\r\n\r\n    @Repository\r\n    public interface BookRepository extends CrudRepository&lt;BookEntity, Long&gt; {\r\n        \tBookEntity findOneBySlug(String slug);\r\n        \r\n        \t@Query(&quot;SELECT b FROM book_entity WHERE :genre in b.genre&quot;)\r\n        \tList&lt;BookEntity&gt; findAllByGenre(@Param(&quot;genre&quot;) String genre);\r\n    }\r\n\r\nAlso I&#39;m sharing BookEntity code\r\n\r\n    package com.uabookserver.uabookserver.entity;\r\n    \r\n    import jakarta.persistence.*;\r\n    import org.springframework.lang.NonNull;\r\n    \r\n        @Entity\r\n        public class BookEntity {\r\n          \t@Id\r\n          \t@GeneratedValue(strategy = GenerationType.IDENTITY)\r\n          \tprivate Long id;\r\n        \t@NonNull\r\n        \tprivate String slug;\r\n        \tprivate String title;\r\n          \tprivate String author;\r\n          \tprivate String country;\r\n        \tprivate int year;\r\n        \tprivate String[] genre;\r\n        \tprivate int likes = 0;\r\n          \tprivate int bookmarks = 0;\r\n          \tprivate int downloads = 0;\r\n        \t@Lob\r\n        \tprivate String image;\r\n        \t@Lob\r\n        \tprivate String[] file;\r\n        \r\n          \tpublic BookEntity() {}\r\n        \r\n        \tpublic Long getId() {\r\n        \t  return id;\r\n        \t}\r\n        \r\n        \tpublic void setId(Long id) {\r\n        \t  this.id = id;\r\n        \t}\r\n        \r\n        \tpublic String getSlug() {\r\n        \t  return slug;\r\n        \t}\r\n        \r\n        \tpublic void setSlug(String slug) {\r\n        \t  this.slug = slug;\r\n        \t}\r\n        \r\n        \tpublic String getTitle() {\r\n        \t  return title;\r\n        \t}\r\n        \r\n        \tpublic void setTitle(String title) {\r\n        \t  this.title = title;\r\n        \t}\r\n        \r\n        \tpublic String getAuthor() {\r\n        \t  return author;\r\n        \t}\r\n        \r\n        \tpublic void setAuthor(String author) {\r\n        \t  this.author = author;\r\n        \t}\r\n        \r\n        \tpublic int getYear() {\r\n        \t  return year;\r\n        \t}\r\n        \r\n        \tpublic void setYear(int year) {\r\n        \t  this.year = year;\r\n        \t}\r\n        \r\n        \tpublic String[] getGenre() {\r\n        \t  return genre;\r\n        \t}\r\n        \r\n        \tpublic void setGenre(String[] genre) {\r\n        \t  this.genre = genre;\r\n        \t}\r\n        \r\n        \tpublic int getLikes() {\r\n        \t  return likes;\r\n        \t}\r\n        \r\n        \tpublic void setLikes(int likes) {\r\n        \t  this.likes = likes;\r\n        \t}\r\n        \r\n        \tpublic int getBookmarks() {\r\n        \t  return bookmarks;\r\n        \t}\r\n        \r\n        \tpublic void setBookmarks(int bookmarks) {\r\n        \t  this.bookmarks = bookmarks;\r\n        \t}\r\n        \r\n        \tpublic String getCountry() {\r\n        \t  return country;\r\n        \t}\r\n        \r\n        \tpublic void setCountry(String country) {\r\n        \t  this.country = country;\r\n        \t}\r\n        \r\n        \tpublic int getDownloads() {\r\n        \t  return downloads;\r\n        \t}\r\n        \r\n        \tpublic void setDownloads(int downloads) {\r\n        \t  this.downloads = downloads;\r\n        \t}\r\n        \r\n        \tpublic String getImage() {\r\n        \t  return image;\r\n        \t}\r\n        \r\n        \tpublic void setImage(String image) {\r\n        \t  this.image = image;\r\n        \t}\r\n        \r\n        \tpublic String[] getFile() {\r\n        \t  return file;\r\n        \t}\r\n        \r\n        \tpublic void setFile(String[] file) {\r\n        \t  this.file = file;\r\n        \t}\r\n        }\r\n\r\nAnd BokkService method for getting all books by genre\r\n\r\n    public List&lt;Book&gt; getAllByGenre(String genre) {\r\n    \t  \tList&lt;BookEntity&gt; books = bookRepository.findAllByGenre(genre);\r\n    \t\tList&lt;Book&gt; models = this.convertToModelsList(books);\r\n    \t\treturn models;\r\n    \t}\r\n\r\n","title":"Java Spring Boot, Repository method for getting all entity by value from Array","body":"<p>I have Book entity and book repository. Book has string array with genres. I need to implement findAllByGenre method for searching all books which will be includes passed &quot;genre&quot; at their array. How it will be better to implements?\n<a href=\"https://i.stack.imgur.com/Nj6G4.png\" rel=\"nofollow noreferrer\">Book Entity</a>\n<a href=\"https://i.stack.imgur.com/JcQhN.png\" rel=\"nofollow noreferrer\">Book Repository</a></p>\n<p>I tried to create method which will be returns List of books, but can't understood how should I pass params and do select with string</p>\n<p>UPDATED:\nI've tried to implement Repository method like that</p>\n<pre><code>@Repository\npublic interface BookRepository extends CrudRepository&lt;BookEntity, Long&gt; {\n        BookEntity findOneBySlug(String slug);\n    \n        @Query(&quot;SELECT b FROM book_entity WHERE :genre in b.genre&quot;)\n        List&lt;BookEntity&gt; findAllByGenre(@Param(&quot;genre&quot;) String genre);\n}\n</code></pre>\n<p>Also I'm sharing BookEntity code</p>\n<pre><code>package com.uabookserver.uabookserver.entity;\n\nimport jakarta.persistence.*;\nimport org.springframework.lang.NonNull;\n\n    @Entity\n    public class BookEntity {\n        @Id\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\n        private Long id;\n        @NonNull\n        private String slug;\n        private String title;\n        private String author;\n        private String country;\n        private int year;\n        private String[] genre;\n        private int likes = 0;\n        private int bookmarks = 0;\n        private int downloads = 0;\n        @Lob\n        private String image;\n        @Lob\n        private String[] file;\n    \n        public BookEntity() {}\n    \n        public Long getId() {\n          return id;\n        }\n    \n        public void setId(Long id) {\n          this.id = id;\n        }\n    \n        public String getSlug() {\n          return slug;\n        }\n    \n        public void setSlug(String slug) {\n          this.slug = slug;\n        }\n    \n        public String getTitle() {\n          return title;\n        }\n    \n        public void setTitle(String title) {\n          this.title = title;\n        }\n    \n        public String getAuthor() {\n          return author;\n        }\n    \n        public void setAuthor(String author) {\n          this.author = author;\n        }\n    \n        public int getYear() {\n          return year;\n        }\n    \n        public void setYear(int year) {\n          this.year = year;\n        }\n    \n        public String[] getGenre() {\n          return genre;\n        }\n    \n        public void setGenre(String[] genre) {\n          this.genre = genre;\n        }\n    \n        public int getLikes() {\n          return likes;\n        }\n    \n        public void setLikes(int likes) {\n          this.likes = likes;\n        }\n    \n        public int getBookmarks() {\n          return bookmarks;\n        }\n    \n        public void setBookmarks(int bookmarks) {\n          this.bookmarks = bookmarks;\n        }\n    \n        public String getCountry() {\n          return country;\n        }\n    \n        public void setCountry(String country) {\n          this.country = country;\n        }\n    \n        public int getDownloads() {\n          return downloads;\n        }\n    \n        public void setDownloads(int downloads) {\n          this.downloads = downloads;\n        }\n    \n        public String getImage() {\n          return image;\n        }\n    \n        public void setImage(String image) {\n          this.image = image;\n        }\n    \n        public String[] getFile() {\n          return file;\n        }\n    \n        public void setFile(String[] file) {\n          this.file = file;\n        }\n    }\n</code></pre>\n<p>And BokkService method for getting all books by genre</p>\n<pre><code>public List&lt;Book&gt; getAllByGenre(String genre) {\n        List&lt;BookEntity&gt; books = bookRepository.findAllByGenre(genre);\n        List&lt;Book&gt; models = this.convertToModelsList(books);\n        return models;\n    }\n</code></pre>\n"},{"tags":["java","multithreading","user-interface","javafx","scene"],"comments":[{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":1,"creation_date":1687854223,"post_id":76562756,"comment_id":134991168,"body_markdown":"It sems really odd that you&#39;re starting a thread in the initialize method of your controller. I strongly suspect you&#39;ll need to create a complete working example that can reproduce the issue. Are you noticing any consequences of the bug, or just you get an error message?","body":"It sems really odd that you&#39;re starting a thread in the initialize method of your controller. I strongly suspect you&#39;ll need to create a complete working example that can reproduce the issue. Are you noticing any consequences of the bug, or just you get an error message?"},{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":0,"creation_date":1687854489,"post_id":76562756,"comment_id":134991221,"body_markdown":"You could probably get the error message to change if you switch from `new Runnable()...` to `()-&gt;{}` since the `new Runnable()` creates an anonymous inner class presumably ` GameViewController$8.class` is the class file not getting included on the classpath?","body":"You could probably get the error message to change if you switch from <code>new Runnable()...</code> to <code>()-&gt;{}</code> since the <code>new Runnable()</code> creates an anonymous inner class presumably ` GameViewController$8.class` is the class file not getting included on the classpath?"},{"owner":{"account_id":28475833,"reputation":1,"user_id":21790510,"display_name":"Ludovico Maltagliati"},"score":0,"creation_date":1687865683,"post_id":76562756,"comment_id":134993570,"body_markdown":"Thanks for you response. To answer: \n1) Due to its random nature, i have no way to reproduce the bug constantly. The bug actually had consequences, as it stopped the normal flow of the javafx thread and prevented the gui from updating with the information received from the server.\n2) I switched all the runlater in the project as suggested, now i&#39;m waiting to see if the bug occurs again.","body":"Thanks for you response. To answer:  1) Due to its random nature, i have no way to reproduce the bug constantly. The bug actually had consequences, as it stopped the normal flow of the javafx thread and prevented the gui from updating with the information received from the server. 2) I switched all the runlater in the project as suggested, now i&#39;m waiting to see if the bug occurs again."},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1687903257,"post_id":76562756,"comment_id":135001705,"body_markdown":"Are you using a framework other than JavaFX (e.g., Spring, CDI, etc.)? Are there any custom class loaders/module layers being used? How is your application deployed/built? How are you running the application?","body":"Are you using a framework other than JavaFX (e.g., Spring, CDI, etc.)? Are there any custom class loaders/module layers being used? How is your application deployed/built? How are you running the application?"},{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1687987705,"post_id":76562756,"comment_id":135015307,"body_markdown":"Just as a background FYI, review [java compiled classes contain dollar signs](https://stackoverflow.com/questions/11388840/java-compiled-classes-contain-dollar-signs), to understand what `view.gui.GameViewController$8` is.  It is almost as though you don&#39;t have the correct binary version of your compiled code available, leading to runtime incompatibilities in calls due to an expected binary interface (e.g. a lambda definition on anonymous inner class in GameViewController) being unavailable (why I don&#39;t know).","body":"Just as a background FYI, review <a href=\"https://stackoverflow.com/questions/11388840/java-compiled-classes-contain-dollar-signs\">java compiled classes contain dollar signs</a>, to understand what <code>view.gui.GameViewController$8</code> is.  It is almost as though you don&#39;t have the correct binary version of your compiled code available, leading to runtime incompatibilities in calls due to an expected binary interface (e.g. a lambda definition on anonymous inner class in GameViewController) being unavailable (why I don&#39;t know)."},{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1687988421,"post_id":76562756,"comment_id":135015415,"body_markdown":"Check your build target output (or contents of the jar file you are executing).  Is there a file there named `view/gui/GameViewController$8.class`?","body":"Check your build target output (or contents of the jar file you are executing).  Is there a file there named <code>view&#47;gui&#47;GameViewController$8.class</code>?"},{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1687988641,"post_id":76562756,"comment_id":135015445,"body_markdown":"If you use lambda syntax rather than an anonymous inner class, a dollar class won&#39;t be generated.  It may not solve your underlying issue, but it should at least result in a different error message (if you can reproduce the exact conditions which lead to the error, which might be difficult or impossible to do).  e.g. try `Platform.runLater(() -&gt; { /** your code */ });`","body":"If you use lambda syntax rather than an anonymous inner class, a dollar class won&#39;t be generated.  It may not solve your underlying issue, but it should at least result in a different error message (if you can reproduce the exact conditions which lead to the error, which might be difficult or impossible to do).  e.g. try <code>Platform.runLater(() -&gt; { &#47;** your code *&#47; });</code>"}],"owner":{"account_id":28475833,"reputation":1,"user_id":21790510,"display_name":"Ludovico Maltagliati"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":69,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687878933,"creation_date":1687852632,"question_id":76562756,"body_markdown":"I&#39;m building a javafx application, but I stumbled upon an error I can&#39;t find the solution to due to its random nature. When using the app, I sometimes run into this error at random parts of my code:\r\n\r\n```\r\nException in thread &quot;Thread-20&quot; java.lang.NoClassDefFoundError: view/gui/GameViewController$8\r\n    at view.gui.GameViewController.handleEvent(GameViewController.java:876)\r\n    at view.gui.GameViewController.lambda$initialize$0(GameViewController.java:161)\r\n    at java.base/java.lang.Thread.run(Thread.java:1589)\r\nCaused by: java.lang.ClassNotFoundException: view.gui.GameViewController$8\r\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)\r\n    at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\r\n    at java.base/jdk.lang.ClassLoader.loadClass(ClassLoader.java:521)\r\n    ... 3 more\r\n```\r\n\r\nImportant to say that the number of the affected thread seems to be completely random, I just put this error log in which the Thread is number 20, but that should not be relevant to the issue. The classes in which the error occurs are the javafx controllers I use to manage the scenes of my app with. In this case the issue came from handleEvent(), a method called from a thread created in the initialize method of the controller, which is used to receive events from the server during a game and update the GUI based on the information received.\r\n\r\nHere are the code snippets cited in the error, even though the random nature of the issue makes me think it might not be important:\r\n\r\n```\r\n        serverThread = new Thread(() -&gt; {  //thread in the initialize method of the controller  \r\n            while (state != ClientStatus.Disconnected) {\r\n                synchronized (networkManager) {\r\n                    try {\r\n                        while (!networkManager.hasEvent()) {\r\n                            networkManager.wait();\r\n                        }\r\n                    } catch (InterruptedException e) {\r\n                        break;\r\n                    }\r\n                }\r\n                handleEvent(); //This is line 161\r\n            }\r\n        });\r\n        serverThread.start();\r\n```\r\n\r\n```\r\n                Platform.runLater(new Runnable() { //line 876, snippet from handleEvent method\r\n                    @Override\r\n                    public void run() {\r\n                        fillScene(gameData.getTableTop()); //lines to update gui\r\n                        fillShelf(gameData.getMyShelf());\r\n                        selectedImages.clear();\r\n                    }\r\n                });\r\n```\r\n\r\nAlso important to say that in this instance, the bug apparently happened at the Platform.runLater, but other times happened at random lines.\r\n\r\nI tried to find what would cause the issue but it&#39;s really difficult. The problem is that it seems to be completely random and happened to other classes in the project, so I have no real way to reproduce it. I only once managed to reproduce the bug following a series of certain actions using the app, but a more recent instance of this bug in a completely unrelated part of the project makes me think it&#39;s just a sleeping issue that could be anywhere and said series of actions might just make it more likely to happen than others actions.  After managing to reproduce it, I tried many times to make it fire again, but with no success.","title":"Random NoClassDefFoundError in app threads in javafx application","body":"<p>I'm building a javafx application, but I stumbled upon an error I can't find the solution to due to its random nature. When using the app, I sometimes run into this error at random parts of my code:</p>\n<pre><code>Exception in thread &quot;Thread-20&quot; java.lang.NoClassDefFoundError: view/gui/GameViewController$8\n    at view.gui.GameViewController.handleEvent(GameViewController.java:876)\n    at view.gui.GameViewController.lambda$initialize$0(GameViewController.java:161)\n    at java.base/java.lang.Thread.run(Thread.java:1589)\nCaused by: java.lang.ClassNotFoundException: view.gui.GameViewController$8\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)\n    at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\n    at java.base/jdk.lang.ClassLoader.loadClass(ClassLoader.java:521)\n    ... 3 more\n</code></pre>\n<p>Important to say that the number of the affected thread seems to be completely random, I just put this error log in which the Thread is number 20, but that should not be relevant to the issue. The classes in which the error occurs are the javafx controllers I use to manage the scenes of my app with. In this case the issue came from handleEvent(), a method called from a thread created in the initialize method of the controller, which is used to receive events from the server during a game and update the GUI based on the information received.</p>\n<p>Here are the code snippets cited in the error, even though the random nature of the issue makes me think it might not be important:</p>\n<pre><code>        serverThread = new Thread(() -&gt; {  //thread in the initialize method of the controller  \n            while (state != ClientStatus.Disconnected) {\n                synchronized (networkManager) {\n                    try {\n                        while (!networkManager.hasEvent()) {\n                            networkManager.wait();\n                        }\n                    } catch (InterruptedException e) {\n                        break;\n                    }\n                }\n                handleEvent(); //This is line 161\n            }\n        });\n        serverThread.start();\n</code></pre>\n<pre><code>                Platform.runLater(new Runnable() { //line 876, snippet from handleEvent method\n                    @Override\n                    public void run() {\n                        fillScene(gameData.getTableTop()); //lines to update gui\n                        fillShelf(gameData.getMyShelf());\n                        selectedImages.clear();\n                    }\n                });\n</code></pre>\n<p>Also important to say that in this instance, the bug apparently happened at the Platform.runLater, but other times happened at random lines.</p>\n<p>I tried to find what would cause the issue but it's really difficult. The problem is that it seems to be completely random and happened to other classes in the project, so I have no real way to reproduce it. I only once managed to reproduce the bug following a series of certain actions using the app, but a more recent instance of this bug in a completely unrelated part of the project makes me think it's just a sleeping issue that could be anywhere and said series of actions might just make it more likely to happen than others actions.  After managing to reproduce it, I tried many times to make it fire again, but with no success.</p>\n"},{"tags":["java","spring","caching","spring-el"],"comments":[{"owner":{"account_id":304772,"reputation":11223,"user_id":614482,"accept_rate":80,"display_name":"Emerson Farrugia"},"score":0,"creation_date":1338658910,"post_id":10678524,"comment_id":14153952,"body_markdown":"In http://www.infoq.com/presentations/Spring-Security-3 (at 1:04:00), Wiesner uses filterObject as a handle to the return value, but that&#39;s probably only a Spring Security handle. Worth a shot I guess.","body":"In <a href=\"http://www.infoq.com/presentations/Spring-Security-3\" rel=\"nofollow noreferrer\">infoq.com/presentations/Spring-Security-3</a> (at 1:04:00), Wiesner uses filterObject as a handle to the return value, but that&#39;s probably only a Spring Security handle. Worth a shot I guess."},{"owner":{"account_id":160808,"reputation":2328,"user_id":381140,"display_name":"Stevo Slavić"},"score":1,"creation_date":1354576814,"post_id":10678524,"comment_id":18802101,"body_markdown":"You can&#39;t, yet, see [SPR-8871](https://jira.springsource.org/browse/SPR-8871) and get involved.","body":"You can&#39;t, yet, see <a href=\"https://jira.springsource.org/browse/SPR-8871\" rel=\"nofollow noreferrer\">SPR-8871</a> and get involved."}],"answers":[{"comments":[{"owner":{"account_id":60165,"reputation":372,"user_id":179838,"accept_rate":80,"display_name":"Francisco Lozano"},"score":0,"creation_date":1340186637,"post_id":10938115,"comment_id":14564723,"body_markdown":"The T-class object returned by &quot;delete&quot; is an object like this: \nclass User {\n  UserID userID;\n  LoginName loginName;\n  EmailAddress emailAddress;\n  ...\n}.\nI have more than one cache - one by userID, other by loginName, other by emailAddress. When I remove an entry by userID, I&#39;d like to expire also entries in the other two caches... and these keys are contained in the return value, so it&#39;d be great if I could do: @CacheEvict(key=&quot;#returnValue.loginName&quot;...), @CacheEvict(key=&quot;#returnValue.emailAddress&quot;...)","body":"The T-class object returned by &quot;delete&quot; is an object like this:  class User {   UserID userID;   LoginName loginName;   EmailAddress emailAddress;   ... }. I have more than one cache - one by userID, other by loginName, other by emailAddress. When I remove an entry by userID, I&#39;d like to expire also entries in the other two caches... and these keys are contained in the return value, so it&#39;d be great if I could do: @CacheEvict(key=&quot;#returnValue.loginName&quot;...), @CacheEvict(key=&quot;#returnValue.emailAddress&quot;...)"},{"owner":{"account_id":192575,"reputation":2350,"user_id":433789,"display_name":"sdouglass"},"score":1,"creation_date":1340407969,"post_id":10938115,"comment_id":14644665,"body_markdown":"You could do that if you passed in the User object as the argument, instead of the UserID, as you could then reference the different user properties in SpEL. You&#39;d have to combine that with the \\@Caching annotation if you need to do multiple differently configured \\@CacheEvict&#39;s: \n\nhttp://static.springsource.org/spring/docs/3.1.x/spring-framework-reference/html/cache.html#cache-annotations-caching","body":"You could do that if you passed in the User object as the argument, instead of the UserID, as you could then reference the different user properties in SpEL. You&#39;d have to combine that with the \\@Caching annotation if you need to do multiple differently configured \\@CacheEvict&#39;s:   <a href=\"http://static.springsource.org/spring/docs/3.1.x/spring-framework-reference/html/cache.html#cache-annotations-caching\" rel=\"nofollow noreferrer\">static.springsource.org/spring/docs/3.1.x/&hellip;</a>"},{"owner":{"account_id":192575,"reputation":2350,"user_id":433789,"display_name":"sdouglass"},"score":0,"creation_date":1340412149,"post_id":10938115,"comment_id":14645316,"body_markdown":"I edited my answer with some more example code that may better fit your situation, based on your comment.","body":"I edited my answer with some more example code that may better fit your situation, based on your comment."},{"owner":{"account_id":60165,"reputation":372,"user_id":179838,"accept_rate":80,"display_name":"Francisco Lozano"},"score":0,"creation_date":1366188570,"post_id":10938115,"comment_id":22911442,"body_markdown":"passing the whole User is not a good solution for this kind of case - but the only one I can think of from older versions. I seem to recall however that it&#39;s going to be supported in newer versions, I saw a related JIRA in Spring...","body":"passing the whole User is not a good solution for this kind of case - but the only one I can think of from older versions. I seem to recall however that it&#39;s going to be supported in newer versions, I saw a related JIRA in Spring..."}],"tags":[],"owner":{"account_id":192575,"reputation":2350,"user_id":433789,"display_name":"sdouglass"},"comment_count":4,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1340412122,"creation_date":1339095386,"answer_id":10938115,"question_id":10678524,"body_markdown":"It doesn&#39;t seem like there is any way to reference the returned object:\r\n\r\nhttp://static.springsource.org/spring/docs/3.1.x/spring-framework-reference/html/cache.html#cache-spel-context\r\n\r\nBut why do you need to do that? You can refer to the arguments in the @CacheEvict &quot;key&quot; value, e.g.:\r\n\r\n    @CacheEvict(value = CACHE_BY_ID, key = &quot;#userID&quot;)\r\n    public T delete(AppID appID, UserID userID) throws UserNotFoundException {\r\n    ...\r\n    }\r\n\r\nMore example code in response to response below about having to evict from multiple caches using multiple properties of a User object:\r\n\r\n    @Caching(evict = {\r\n        @CacheEvict(value = CACHE_BY_ID, key = &quot;#user.userID&quot;),\r\n        @CacheEvict(value = CACHE_BY_LOGIN_NAME, key = &quot;#user.loginName&quot;)\r\n        // etc.\r\n    })\r\n    public T delete(AppID appID, User user) throws UserNotFoundException {\r\n    ...\r\n    }\r\n\r\n","title":"Spring 3.1 cache - how to use the returned value in the SpEL","body":"<p>It doesn't seem like there is any way to reference the returned object:</p>\n\n<p><a href=\"http://static.springsource.org/spring/docs/3.1.x/spring-framework-reference/html/cache.html#cache-spel-context\" rel=\"nofollow\">http://static.springsource.org/spring/docs/3.1.x/spring-framework-reference/html/cache.html#cache-spel-context</a></p>\n\n<p>But why do you need to do that? You can refer to the arguments in the @CacheEvict \"key\" value, e.g.:</p>\n\n<pre><code>@CacheEvict(value = CACHE_BY_ID, key = \"#userID\")\npublic T delete(AppID appID, UserID userID) throws UserNotFoundException {\n...\n}\n</code></pre>\n\n<p>More example code in response to response below about having to evict from multiple caches using multiple properties of a User object:</p>\n\n<pre><code>@Caching(evict = {\n    @CacheEvict(value = CACHE_BY_ID, key = \"#user.userID\"),\n    @CacheEvict(value = CACHE_BY_LOGIN_NAME, key = \"#user.loginName\")\n    // etc.\n})\npublic T delete(AppID appID, User user) throws UserNotFoundException {\n...\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":179597,"reputation":2025,"user_id":412366,"accept_rate":59,"display_name":"Matt Broekhuis"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1551807972,"creation_date":1551807972,"answer_id":55008712,"question_id":10678524,"body_markdown":"try using #result in your SpEL","title":"Spring 3.1 cache - how to use the returned value in the SpEL","body":"<p>try using #result in your SpEL</p>\n"},{"tags":[],"owner":{"account_id":16157455,"reputation":11,"user_id":11664392,"display_name":"Max O"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687878899,"creation_date":1687524715,"answer_id":76540310,"question_id":10678524,"body_markdown":"As mentioned above and according to `Table 29.1 of the Cache SpEL available metadata at ` at\r\n https://docs.spring.io/spring-framework/docs/4.0.x/spring-framework-reference/html/cache.html\r\n\r\nit is possible to use #result in &#39;unless&#39; expressions and &#39;cache evict&#39; expressions only when beforeInvocation is false.\r\n\r\nTo confirm, I have recently used #result successfully in @CacheEvict.","title":"Spring 3.1 cache - how to use the returned value in the SpEL","body":"<p>As mentioned above and according to <code>Table 29.1 of the Cache SpEL available metadata at </code> at\n<a href=\"https://docs.spring.io/spring-framework/docs/4.0.x/spring-framework-reference/html/cache.html\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-framework/docs/4.0.x/spring-framework-reference/html/cache.html</a></p>\n<p>it is possible to use #result in 'unless' expressions and 'cache evict' expressions only when beforeInvocation is false.</p>\n<p>To confirm, I have recently used #result successfully in @CacheEvict.</p>\n"}],"owner":{"account_id":60165,"reputation":372,"user_id":179838,"accept_rate":80,"display_name":"Francisco Lozano"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5431,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":10938115,"answer_count":3,"score":3,"last_activity_date":1687878899,"creation_date":1337562319,"question_id":10678524,"body_markdown":"I am trying to make an eviction of an entry in a Spring-managed cache (Spring 3.1 abstraction). \r\n\r\nI need to refer to the returned value of the method in the SpEL of the &quot;key&quot; property in the annotation:\r\n\r\n    \t/* (How to refer to the &#39;T&#39; returned value in the &quot;KEY_ID&quot;?) */\r\n\t@Caching(evict = { @CacheEvict(value = CACHE_BY_ID, key = KEY_ID) })\r\n\tpublic T delete(AppID appID, UserID userID) throws UserNotFoundException {\r\n\t\treturn inner.delete(appID, userID);\r\n\t}\r\n\r\nIs there any way to do this?","title":"Spring 3.1 cache - how to use the returned value in the SpEL","body":"<p>I am trying to make an eviction of an entry in a Spring-managed cache (Spring 3.1 abstraction). </p>\n\n<p>I need to refer to the returned value of the method in the SpEL of the \"key\" property in the annotation:</p>\n\n<pre><code>    /* (How to refer to the 'T' returned value in the \"KEY_ID\"?) */\n@Caching(evict = { @CacheEvict(value = CACHE_BY_ID, key = KEY_ID) })\npublic T delete(AppID appID, UserID userID) throws UserNotFoundException {\n    return inner.delete(appID, userID);\n}\n</code></pre>\n\n<p>Is there any way to do this?</p>\n"},{"tags":["java","constructor","multiple-instances"],"comments":[{"owner":{"account_id":5356655,"reputation":5914,"user_id":4269149,"display_name":"Sarthak Mittal"},"score":1,"creation_date":1687878210,"post_id":76566222,"comment_id":134996868,"body_markdown":"remove static keyword from your name field, and also from your getName function","body":"remove static keyword from your name field, and also from your getName function"}],"answers":[{"tags":[],"owner":{"account_id":8047538,"reputation":423,"user_id":6067302,"display_name":"TomekK"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1687878234,"creation_date":1687878234,"answer_id":76566240,"question_id":76566222,"body_markdown":"Your field is static, meaning that all objects you create for this class share the same value.\r\n\r\n    private static String name -&gt; private String name\r\n\r\nFor non-static fields every object has it&#39;s own value.","title":"Creating multiple instances of a constructor with different values","body":"<p>Your field is static, meaning that all objects you create for this class share the same value.</p>\n<pre><code>private static String name -&gt; private String name\n</code></pre>\n<p>For non-static fields every object has it's own value.</p>\n"}],"owner":{"account_id":28905957,"reputation":1,"user_id":22139973,"display_name":"PeytonPlayz595"},"comment_count":1,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":40,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"closed_date":1687878514,"answer_count":1,"score":-3,"last_activity_date":1687878234,"creation_date":1687878118,"question_id":76566222,"body_markdown":"I have a class with a constructor\r\n\r\n```java\r\npublic class Test {\r\n  private static String name;\r\n\r\n  public Test(String name) {\r\n    this.name = name;\r\n  }\r\n\r\n  public static String getName() {\r\n    return this.name;\r\n  }\r\n}\r\n```\r\n\r\nHere I&#39;ve created 2 instances of the constructor and used System.out.println() to output the &quot;getName()&quot; function from both instances in the terminal\r\n\r\n```java\r\nTest test = new Test(&quot;Tom&quot;);\r\nTest test1 = new Test(&quot;Kenny&quot;);\r\n\r\nSystem.out.println(test.getName());\r\nSystem.out.println(test2.getName());\r\n```\r\n\r\noutput:\r\n```\r\nTom\r\nTom\r\n```\r\nBoth of the outputs we&#39;re &quot;Tom&quot;, how would I make it to where test.getName() outputs &quot;Tom&quot; and test2.getName() outputs &quot;Kenny\r\n\r\nI&#39;ve looked for answers on StackOverFlow, google, etc and can&#39;t find anything so help would be very much appreciated","title":"Creating multiple instances of a constructor with different values","body":"<p>I have a class with a constructor</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Test {\n  private static String name;\n\n  public Test(String name) {\n    this.name = name;\n  }\n\n  public static String getName() {\n    return this.name;\n  }\n}\n</code></pre>\n<p>Here I've created 2 instances of the constructor and used System.out.println() to output the &quot;getName()&quot; function from both instances in the terminal</p>\n<pre class=\"lang-java prettyprint-override\"><code>Test test = new Test(&quot;Tom&quot;);\nTest test1 = new Test(&quot;Kenny&quot;);\n\nSystem.out.println(test.getName());\nSystem.out.println(test2.getName());\n</code></pre>\n<p>output:</p>\n<pre><code>Tom\nTom\n</code></pre>\n<p>Both of the outputs we're &quot;Tom&quot;, how would I make it to where test.getName() outputs &quot;Tom&quot; and test2.getName() outputs &quot;Kenny</p>\n<p>I've looked for answers on StackOverFlow, google, etc and can't find anything so help would be very much appreciated</p>\n"},{"tags":["java","spring","hibernate","spring-transactions"],"comments":[{"owner":{"account_id":8047538,"reputation":423,"user_id":6067302,"display_name":"TomekK"},"score":1,"creation_date":1687877825,"post_id":76566145,"comment_id":134996796,"body_markdown":"For @Transactional method to have an effect, it needs to be called from outside of the class where you declared it.","body":"For @Transactional method to have an effect, it needs to be called from outside of the class where you declared it."},{"owner":{"account_id":881430,"reputation":290,"user_id":263597,"display_name":"gbuys"},"score":0,"creation_date":1687878188,"post_id":76566145,"comment_id":134996864,"body_markdown":"You start your first transaction at getStudent with @Transactional.  You should return from that method and then start a new Transaction from outside where you call second an third change as TomekK states","body":"You start your first transaction at getStudent with @Transactional.  You should return from that method and then start a new Transaction from outside where you call second an third change as TomekK states"},{"owner":{"account_id":12219091,"reputation":141,"user_id":8918627,"display_name":"Amit Chaudhary"},"score":0,"creation_date":1687879231,"post_id":76566145,"comment_id":134997091,"body_markdown":"Thanks @TomekK, it worked when secondChange() is called from out side of class. One more thing, I was asked this question in interview that there are 3 methods  a(), b(), c(). a() calls b() then b() calls c() i.e. a()-&gt;b()-&gt;c(). Some exception happens in b() and I needed to figure out a way to rollback transaction in b() and c() but changes in a() should be persisted. Not sure how could I have answered that?","body":"Thanks @TomekK, it worked when secondChange() is called from out side of class. One more thing, I was asked this question in interview that there are 3 methods  a(), b(), c(). a() calls b() then b() calls c() i.e. a()-&gt;b()-&gt;c(). Some exception happens in b() and I needed to figure out a way to rollback transaction in b() and c() but changes in a() should be persisted. Not sure how could I have answered that?"},{"owner":{"account_id":8047538,"reputation":423,"user_id":6067302,"display_name":"TomekK"},"score":1,"creation_date":1687879790,"post_id":76566145,"comment_id":134997216,"body_markdown":"@AmitChaudhary It&#39;s hard to say without knowing full requirements. You could for example surround method calls in try...catch.","body":"@AmitChaudhary It&#39;s hard to say without knowing full requirements. You could for example surround method calls in try...catch."}],"owner":{"account_id":12219091,"reputation":141,"user_id":8918627,"display_name":"Amit Chaudhary"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":75,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687877662,"creation_date":1687877662,"question_id":76566145,"body_markdown":"I am trying to understand `@Transactional` annotation in spring. I have created following program for testing-\r\n```\r\nimport com.transactiondemo.transactiondemo.model.Student;\r\nimport com.transactiondemo.transactiondemo.repo.StudentRepo;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.stereotype.Service;\r\nimport org.springframework.transaction.annotation.Propagation;\r\nimport org.springframework.transaction.annotation.Transactional;\r\n\r\n@Service\r\npublic class StudentService {\r\n\r\n    @Autowired\r\n    private StudentRepo studentRepo;\r\n\r\n    @Transactional\r\n    public Student getStudent(String name){\r\n        Student student = studentRepo.findByName(name);\r\n        student.setSubject(&quot;first change done&quot;);\r\n        studentRepo.save(student);\r\n        try{\r\n            secondChange(name);\r\n        }\r\n        catch (Exception e){\r\n            System.out.println(&quot;***********caught&quot;);\r\n        }\r\n        return student;\r\n    }\r\n\r\n    @Transactional(propagation = Propagation.REQUIRES_NEW, rollbackFor = Exception.class)\r\n    public void secondChange(String name) {\r\n        Student student = studentRepo.findByName(name);\r\n        student.setSubject(&quot;second change done&quot;);\r\n        thirdChange(name);\r\n        throw new RuntimeException();\r\n    }\r\n\r\n    private void thirdChange(String name) {\r\n        Student student = studentRepo.findByName(name);\r\n        student.setSubject(&quot;third change done&quot;);\r\n    }\r\n}\r\n\r\n```\r\n```\r\n@ResponseStatus\r\npublic interface StudentRepo extends JpaRepository&lt;Student,Integer&gt; {\r\n    Student findByName(String name);\r\n}\r\n```\r\nHere is how I am loading data in Student table at application startup-\r\n\r\n```\r\n@Bean\r\nCommandLineRunner loadData(StudentRepo studentRepo){\r\n\treturn args -&gt; {\r\n\t\tStudent s=new Student();\r\n\t\ts.setName(&quot;ram&quot;);\r\n\t\ts.setSubject(&quot;initial value&quot;);\r\n\t\tstudentRepo.save(s);\r\n\t};\r\n}\r\n```\r\n\r\nI am calling `studentService.getStudent(&quot;ram&quot;)` from my controller class. How do I make sure that database changes done in `studentService.getStudent()` method are persisted into database even if next called method i.e. `secondChange` from this method throws any exception? **Basically I want changes done in `secondChange()` and `thirdChange()` methods to be rolled-back but not for `getStudent()` method**. I have added `@Transactional(propagation = Propagation.REQUIRES_NEW, rollbackFor = Exception.class)` on top of `secondChange()` method but this does not work. When I check in database the value for `SUBJECT` column is equal to `third change done` but I want it to be `first change done` even in case of failures.\r\n","title":"Spring Transaction Propagation - Rollback for specific Transaction","body":"<p>I am trying to understand <code>@Transactional</code> annotation in spring. I have created following program for testing-</p>\n<pre><code>import com.transactiondemo.transactiondemo.model.Student;\nimport com.transactiondemo.transactiondemo.repo.StudentRepo;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Service;\nimport org.springframework.transaction.annotation.Propagation;\nimport org.springframework.transaction.annotation.Transactional;\n\n@Service\npublic class StudentService {\n\n    @Autowired\n    private StudentRepo studentRepo;\n\n    @Transactional\n    public Student getStudent(String name){\n        Student student = studentRepo.findByName(name);\n        student.setSubject(&quot;first change done&quot;);\n        studentRepo.save(student);\n        try{\n            secondChange(name);\n        }\n        catch (Exception e){\n            System.out.println(&quot;***********caught&quot;);\n        }\n        return student;\n    }\n\n    @Transactional(propagation = Propagation.REQUIRES_NEW, rollbackFor = Exception.class)\n    public void secondChange(String name) {\n        Student student = studentRepo.findByName(name);\n        student.setSubject(&quot;second change done&quot;);\n        thirdChange(name);\n        throw new RuntimeException();\n    }\n\n    private void thirdChange(String name) {\n        Student student = studentRepo.findByName(name);\n        student.setSubject(&quot;third change done&quot;);\n    }\n}\n\n</code></pre>\n<pre><code>@ResponseStatus\npublic interface StudentRepo extends JpaRepository&lt;Student,Integer&gt; {\n    Student findByName(String name);\n}\n</code></pre>\n<p>Here is how I am loading data in Student table at application startup-</p>\n<pre><code>@Bean\nCommandLineRunner loadData(StudentRepo studentRepo){\n    return args -&gt; {\n        Student s=new Student();\n        s.setName(&quot;ram&quot;);\n        s.setSubject(&quot;initial value&quot;);\n        studentRepo.save(s);\n    };\n}\n</code></pre>\n<p>I am calling <code>studentService.getStudent(&quot;ram&quot;)</code> from my controller class. How do I make sure that database changes done in <code>studentService.getStudent()</code> method are persisted into database even if next called method i.e. <code>secondChange</code> from this method throws any exception? <strong>Basically I want changes done in <code>secondChange()</code> and <code>thirdChange()</code> methods to be rolled-back but not for <code>getStudent()</code> method</strong>. I have added <code>@Transactional(propagation = Propagation.REQUIRES_NEW, rollbackFor = Exception.class)</code> on top of <code>secondChange()</code> method but this does not work. When I check in database the value for <code>SUBJECT</code> column is equal to <code>third change done</code> but I want it to be <code>first change done</code> even in case of failures.</p>\n"},{"tags":["java","java-8","future"],"answers":[{"comments":[{"owner":{"account_id":41226,"reputation":18874,"user_id":119768,"accept_rate":83,"display_name":"Dan Midwood"},"score":1,"creation_date":1398457463,"post_id":23302308,"comment_id":35672818,"body_markdown":"Ha, that&#39;s exactly what I wrote before thinking that there must be a better way. But, I guess not","body":"Ha, that&#39;s exactly what I wrote before thinking that there must be a better way. But, I guess not"},{"owner":{"account_id":1831014,"reputation":1670,"user_id":1662412,"accept_rate":75,"display_name":"Peti"},"score":15,"creation_date":1449148581,"post_id":23302308,"comment_id":55886965,"body_markdown":"Hmmm... doesn&#39;t this solution eat one of the threads of the &quot;common pool&quot;, just for waiting? Those &quot;common pool&quot; threads should never block... hmmmm...","body":"Hmmm... doesn&#39;t this solution eat one of the threads of the &quot;common pool&quot;, just for waiting? Those &quot;common pool&quot; threads should never block... hmmmm..."},{"owner":{"account_id":1370027,"reputation":49130,"user_id":1305501,"accept_rate":77,"display_name":"nosid"},"score":1,"creation_date":1449188697,"post_id":23302308,"comment_id":55911018,"body_markdown":"@Peti: You are right. However, the point is, if you are most likely doing something wrong, regardless whether you are using the _common pool_ or an _unbounded thread pool_.","body":"@Peti: You are right. However, the point is, if you are most likely doing something wrong, regardless whether you are using the <i>common pool</i> or an <i>unbounded thread pool</i>."},{"owner":{"account_id":446208,"reputation":8611,"user_id":839128,"accept_rate":75,"display_name":"MikeFHay"},"score":4,"creation_date":1485537726,"post_id":23302308,"comment_id":70981455,"body_markdown":"It might not be perfect, but using `CompletableFuture.supplyAsync(supplier, new SinglethreadExecutor())` would at least not block the common pool threads.","body":"It might not be perfect, but using <code>CompletableFuture.supplyAsync(supplier, new SinglethreadExecutor())</code> would at least not block the common pool threads."},{"owner":{"account_id":370181,"reputation":2276,"user_id":717968,"accept_rate":65,"display_name":"battmanz"},"score":0,"creation_date":1523394961,"post_id":23302308,"comment_id":86541496,"body_markdown":"Sorry for my ignorance, but I&#39;m not familiar with the &quot;common pool&quot;. Why is this approach bad? Are you saying that `future.get` should never be called?","body":"Sorry for my ignorance, but I&#39;m not familiar with the &quot;common pool&quot;. Why is this approach bad? Are you saying that <code>future.get</code> should never be called?"},{"owner":{"account_id":356654,"reputation":1469,"user_id":696291,"display_name":"Laymain"},"score":8,"creation_date":1533036472,"post_id":23302308,"comment_id":90189260,"body_markdown":"Please, just never do that","body":"Please, just never do that"},{"owner":{"account_id":1920098,"reputation":1544,"user_id":1731824,"display_name":"lucasls"},"score":0,"creation_date":1536190691,"post_id":23302308,"comment_id":91338933,"body_markdown":"The common pool is a thread pool with a small amount of threads (usually 1 per processor core) and it&#39;s one pool shared with the whole JVM, and it&#39;s meant for non-blocking operations. `CompletableFuture.supplyAsync()` runs in the common pool unless a different `ExecutorService` is passed as a parameter and `future.get()` is a blocking operation. So you should never do this.","body":"The common pool is a thread pool with a small amount of threads (usually 1 per processor core) and it&#39;s one pool shared with the whole JVM, and it&#39;s meant for non-blocking operations. <code>CompletableFuture.supplyAsync()</code> runs in the common pool unless a different <code>ExecutorService</code> is passed as a parameter and <code>future.get()</code> is a blocking operation. So you should never do this."},{"owner":{"account_id":326925,"reputation":14868,"user_id":648955,"accept_rate":62,"display_name":"leventov"},"score":2,"creation_date":1572428442,"post_id":23302308,"comment_id":103552891,"body_markdown":"@MikeFHay I think employing `FJP.ManagedBlocker` will result in better utilization than `CompletableFuture.supplyAsync(supplier, t -&gt; newSingleThreadExecutor())`. I&#39;ve updated the code in the answer to reflect that.","body":"@MikeFHay I think employing <code>FJP.ManagedBlocker</code> will result in better utilization than <code>CompletableFuture.supplyAsync(supplier, t -&gt; newSingleThreadExecutor())</code>. I&#39;ve updated the code in the answer to reflect that."}],"tags":[],"owner":{"account_id":1370027,"reputation":49130,"user_id":1305501,"accept_rate":77,"display_name":"nosid"},"comment_count":8,"down_vote_count":7,"up_vote_count":69,"is_accepted":true,"score":62,"last_activity_date":1572428283,"creation_date":1398457254,"answer_id":23302308,"question_id":23301598,"body_markdown":"There is a way, but you won&#39;t like it. The following method transforms a `Future&lt;T&gt;` into a `CompletableFuture&lt;T&gt;`:\r\n\r\n    public static &lt;T&gt; CompletableFuture&lt;T&gt; makeCompletableFuture(Future&lt;T&gt; future) {\r\n      if (future.isDone())\r\n        return transformDoneFuture(future);\r\n      return CompletableFuture.supplyAsync(() -&gt; {\r\n        try {\r\n          if (!future.isDone())\r\n            awaitFutureIsDoneInForkJoinPool(future);\r\n          return future.get();\r\n        } catch (ExecutionException e) {\r\n          throw new RuntimeException(e);\r\n        } catch (InterruptedException e) {\r\n          // Normally, this should never happen inside ForkJoinPool\r\n          Thread.currentThread().interrupt();\r\n          // Add the following statement if the future doesn&#39;t have side effects\r\n          // future.cancel(true);\r\n          throw new RuntimeException(e);\r\n        }\r\n      });\r\n    }\r\n\r\n    private static &lt;T&gt; CompletableFuture&lt;T&gt; transformDoneFuture(Future&lt;T&gt; future) {\r\n      CompletableFuture&lt;T&gt; cf = new CompletableFuture&lt;&gt;();\r\n      T result;\r\n      try {\r\n        result = future.get();\r\n      } catch (Throwable ex) {\r\n        cf.completeExceptionally(ex);\r\n        return cf;\r\n      }\r\n      cf.complete(result);\r\n      return cf;\r\n    }\r\n    \r\n    private static void awaitFutureIsDoneInForkJoinPool(Future&lt;?&gt; future)\r\n        throws InterruptedException {\r\n      ForkJoinPool.managedBlock(new ForkJoinPool.ManagedBlocker() {\r\n        @Override public boolean block() throws InterruptedException {\r\n          try {\r\n            future.get();\r\n          } catch (ExecutionException e) {\r\n            throw new RuntimeException(e);\r\n          }\r\n          return true;\r\n        }\r\n        @Override public boolean isReleasable() {\r\n          return future.isDone();\r\n        }\r\n      });\r\n    }\r\n\r\nObviously, the problem with this approach is, that for each _Future_, a thread will be blocked to wait for the result of the _Future_--contradicting the idea of futures. In some cases, it might be possible to do better. However, in general, there is no solution without actively wait for the result of the _Future_.","title":"Transform Java Future into a CompletableFuture","body":"<p>There is a way, but you won't like it. The following method transforms a <code>Future&lt;T&gt;</code> into a <code>CompletableFuture&lt;T&gt;</code>:</p>\n\n<pre><code>public static &lt;T&gt; CompletableFuture&lt;T&gt; makeCompletableFuture(Future&lt;T&gt; future) {\n  if (future.isDone())\n    return transformDoneFuture(future);\n  return CompletableFuture.supplyAsync(() -&gt; {\n    try {\n      if (!future.isDone())\n        awaitFutureIsDoneInForkJoinPool(future);\n      return future.get();\n    } catch (ExecutionException e) {\n      throw new RuntimeException(e);\n    } catch (InterruptedException e) {\n      // Normally, this should never happen inside ForkJoinPool\n      Thread.currentThread().interrupt();\n      // Add the following statement if the future doesn't have side effects\n      // future.cancel(true);\n      throw new RuntimeException(e);\n    }\n  });\n}\n\nprivate static &lt;T&gt; CompletableFuture&lt;T&gt; transformDoneFuture(Future&lt;T&gt; future) {\n  CompletableFuture&lt;T&gt; cf = new CompletableFuture&lt;&gt;();\n  T result;\n  try {\n    result = future.get();\n  } catch (Throwable ex) {\n    cf.completeExceptionally(ex);\n    return cf;\n  }\n  cf.complete(result);\n  return cf;\n}\n\nprivate static void awaitFutureIsDoneInForkJoinPool(Future&lt;?&gt; future)\n    throws InterruptedException {\n  ForkJoinPool.managedBlock(new ForkJoinPool.ManagedBlocker() {\n    @Override public boolean block() throws InterruptedException {\n      try {\n        future.get();\n      } catch (ExecutionException e) {\n        throw new RuntimeException(e);\n      }\n      return true;\n    }\n    @Override public boolean isReleasable() {\n      return future.isDone();\n    }\n  });\n}\n</code></pre>\n\n<p>Obviously, the problem with this approach is, that for each <em>Future</em>, a thread will be blocked to wait for the result of the <em>Future</em>--contradicting the idea of futures. In some cases, it might be possible to do better. However, in general, there is no solution without actively wait for the result of the <em>Future</em>.</p>\n"},{"comments":[{"owner":{"account_id":385007,"reputation":572,"user_id":741882,"accept_rate":60,"display_name":"Abhishek Gayakwad"},"score":1,"creation_date":1503429013,"post_id":28454743,"comment_id":78608690,"body_markdown":"I am using Apache Http async library which accepts FutureCallback. It made my life easy :)","body":"I am using Apache Http async library which accepts FutureCallback. It made my life easy :)"}],"tags":[],"owner":{"account_id":183320,"reputation":1243,"user_id":418615,"accept_rate":20,"display_name":"Kafkaesque"},"comment_count":1,"down_vote_count":0,"up_vote_count":73,"is_accepted":false,"score":73,"last_activity_date":1423658768,"creation_date":1423658768,"answer_id":28454743,"question_id":23301598,"body_markdown":"If the library you want to use also offers a callback style method in addition to the Future style, you can provide it a handler that completes the CompletableFuture without any extra thread blocking. Like so:\r\n\r\n\t\tAsynchronousFileChannel open = AsynchronousFileChannel.open(Paths.get(&quot;/some/file&quot;));\r\n\t\t// ... \r\n\t\tCompletableFuture&lt;ByteBuffer&gt; completableFuture = new CompletableFuture&lt;ByteBuffer&gt;();\r\n\t\topen.read(buffer, position, null, new CompletionHandler&lt;Integer, Void&gt;() {\r\n\t\t\t@Override\r\n\t\t\tpublic void completed(Integer result, Void attachment) {\r\n\t\t\t\tcompletableFuture.complete(buffer);\r\n\t\t\t}\r\n\r\n\t\t\t@Override\r\n\t\t\tpublic void failed(Throwable exc, Void attachment) {\r\n\t\t\t\tcompletableFuture.completeExceptionally(exc);\r\n\t\t\t}\r\n\t\t});\r\n\t\tcompletableFuture.thenApply(...)\r\n\r\nWithout the callback the only other way I see solving this is to use a polling loop that puts all your `Future.isDone()` checks on a single thread and then invoking complete whenever a Future is gettable.","title":"Transform Java Future into a CompletableFuture","body":"<p>If the library you want to use also offers a callback style method in addition to the Future style, you can provide it a handler that completes the CompletableFuture without any extra thread blocking. Like so:</p>\n\n<pre><code>    AsynchronousFileChannel open = AsynchronousFileChannel.open(Paths.get(\"/some/file\"));\n    // ... \n    CompletableFuture&lt;ByteBuffer&gt; completableFuture = new CompletableFuture&lt;ByteBuffer&gt;();\n    open.read(buffer, position, null, new CompletionHandler&lt;Integer, Void&gt;() {\n        @Override\n        public void completed(Integer result, Void attachment) {\n            completableFuture.complete(buffer);\n        }\n\n        @Override\n        public void failed(Throwable exc, Void attachment) {\n            completableFuture.completeExceptionally(exc);\n        }\n    });\n    completableFuture.thenApply(...)\n</code></pre>\n\n<p>Without the callback the only other way I see solving this is to use a polling loop that puts all your <code>Future.isDone()</code> checks on a single thread and then invoking complete whenever a Future is gettable.</p>\n"},{"comments":[{"owner":{"account_id":7334204,"reputation":199,"user_id":5586158,"display_name":"Valery Silaev"},"score":2,"creation_date":1500932307,"post_id":37324409,"comment_id":77543445,"body_markdown":"Small update: code is moved to separate project, https://github.com/vsilaev/tascalate-concurrent, and now it&#39;s possible to use out-of-the-way box Executor-s from java.util.concurrent.","body":"Small update: code is moved to separate project, <a href=\"https://github.com/vsilaev/tascalate-concurrent\" rel=\"nofollow noreferrer\">github.com/vsilaev/tascalate-concurrent</a>, and now it&#39;s possible to use out-of-the-way box Executor-s from java.util.concurrent."}],"tags":[],"owner":{"account_id":7334204,"reputation":199,"user_id":5586158,"display_name":"Valery Silaev"},"comment_count":1,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1605138842,"creation_date":1463663886,"answer_id":37324409,"question_id":23301598,"body_markdown":"Let me suggest another (hopefully, better) option:\r\nhttps://github.com/vsilaev/java-async-await/tree/master/com.farata.lang.async.examples/src/main/java/com/farata/concurrent\r\n\r\nBriefly, the idea is the following:\r\n\r\n 1. Introduce `CompletableTask&lt;V&gt;` interface -- the union of the\r\n`CompletionStage&lt;V&gt;` + `RunnableFuture&lt;V&gt;`\r\n 2. Warp `ExecutorService` to return `CompletableTask` from `submit(...)` methods (instead of `Future&lt;V&gt;`)\r\n 3. Done, we have runnable AND composable Futures.\r\n\r\nImplementation uses an alternative CompletionStage implementation (pay attention, [CompletionStage](https://github.com/lukas-krecan/completion-stage) rather than CompletableFuture):\r\n\r\n\r\nUsage:\r\n\r\n    J8ExecutorService exec = J8Executors.newCachedThreadPool();\r\n    CompletionStage&lt;String&gt; = exec\r\n       .submit( someCallableA )\r\n       .thenCombineAsync( exec.submit(someCallableB), (a, b) -&gt; a + &quot; &quot; + b)\r\n       .thenCombine( exec.submit(someCallableC), (ab, b) -&gt; ab + &quot; &quot; + c); ","title":"Transform Java Future into a CompletableFuture","body":"<p>Let me suggest another (hopefully, better) option:\n<a href=\"https://github.com/vsilaev/java-async-await/tree/master/com.farata.lang.async.examples/src/main/java/com/farata/concurrent\" rel=\"nofollow noreferrer\">https://github.com/vsilaev/java-async-await/tree/master/com.farata.lang.async.examples/src/main/java/com/farata/concurrent</a></p>\n<p>Briefly, the idea is the following:</p>\n<ol>\n<li>Introduce <code>CompletableTask&lt;V&gt;</code> interface -- the union of the\n<code>CompletionStage&lt;V&gt;</code> + <code>RunnableFuture&lt;V&gt;</code></li>\n<li>Warp <code>ExecutorService</code> to return <code>CompletableTask</code> from <code>submit(...)</code> methods (instead of <code>Future&lt;V&gt;</code>)</li>\n<li>Done, we have runnable AND composable Futures.</li>\n</ol>\n<p>Implementation uses an alternative CompletionStage implementation (pay attention, <a href=\"https://github.com/lukas-krecan/completion-stage\" rel=\"nofollow noreferrer\">CompletionStage</a> rather than CompletableFuture):</p>\n<p>Usage:</p>\n<pre><code>J8ExecutorService exec = J8Executors.newCachedThreadPool();\nCompletionStage&lt;String&gt; = exec\n   .submit( someCallableA )\n   .thenCombineAsync( exec.submit(someCallableB), (a, b) -&gt; a + &quot; &quot; + b)\n   .thenCombine( exec.submit(someCallableC), (ab, b) -&gt; ab + &quot; &quot; + c); \n</code></pre>\n"},{"comments":[{"owner":{"account_id":2374256,"reputation":423,"user_id":2557517,"display_name":"Kira"},"score":1,"creation_date":1521539363,"post_id":39239063,"comment_id":85762514,"body_markdown":"This looks interesting. Is it using a timer thread ? How come this is not the accepted answer ?","body":"This looks interesting. Is it using a timer thread ? How come this is not the accepted answer ?"},{"owner":{"account_id":249267,"reputation":5487,"user_id":525203,"accept_rate":86,"display_name":"Dmitry Spikhalskiy"},"score":1,"creation_date":1521583293,"post_id":39239063,"comment_id":85791314,"body_markdown":"@Kira Yeah, it basically uses one timer thread to wait on all submitted futures.","body":"@Kira Yeah, it basically uses one timer thread to wait on all submitted futures."}],"tags":[],"owner":{"account_id":249267,"reputation":5487,"user_id":525203,"accept_rate":86,"display_name":"Dmitry Spikhalskiy"},"comment_count":2,"down_vote_count":1,"up_vote_count":16,"is_accepted":false,"score":15,"last_activity_date":1662578717,"creation_date":1472603967,"answer_id":39239063,"question_id":23301598,"body_markdown":"I published a little [futurity][1] project that tries to do better than [the straightforward way][2] in the answer.\r\n\r\nThe main idea is to use only one thread (and of course with not just a spin loop) to check all Futures states inside, which helps to avoid blocking a thread from a pool for each Future -&gt; CompletableFuture transformation.\r\n\r\nUsage example:\r\n\r\n    Future oldFuture = ...;\r\n    CompletableFuture profit = Futurity.shift(oldFuture);\r\n\r\n\r\n  [1]: https://github.com/Spikhalskiy/futurity\r\n  [2]: https://stackoverflow.com/a/23302308/525203","title":"Transform Java Future into a CompletableFuture","body":"<p>I published a little <a href=\"https://github.com/Spikhalskiy/futurity\" rel=\"nofollow noreferrer\">futurity</a> project that tries to do better than <a href=\"https://stackoverflow.com/a/23302308/525203\">the straightforward way</a> in the answer.</p>\n<p>The main idea is to use only one thread (and of course with not just a spin loop) to check all Futures states inside, which helps to avoid blocking a thread from a pool for each Future -&gt; CompletableFuture transformation.</p>\n<p>Usage example:</p>\n<pre><code>Future oldFuture = ...;\nCompletableFuture profit = Futurity.shift(oldFuture);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":556695,"reputation":3222,"user_id":918858,"accept_rate":86,"display_name":"Dexter Legaspi"},"score":1,"creation_date":1555156269,"post_id":50034584,"comment_id":98017004,"body_markdown":"this is quite simple to reason about &amp; elegant &amp; fits most use cases. I would make the `CompletablePromiseContext ` not-static and take param for the check interval (which is set to 1 ms here) then overload the `CompletablePromise&lt;V&gt;` constructor to be able to provide your own `CompletablePromiseContext` with a possibly different (longer) check interval for long-running `Future&lt;V&gt;` where you don&#39;t have to absolutely be able to run callback (or compose) immediately upon finishing, and you can also have an instance of `CompletablePromiseContext` to watch a set of `Future` (in case you have many)","body":"this is quite simple to reason about &amp; elegant &amp; fits most use cases. I would make the <code>CompletablePromiseContext </code> not-static and take param for the check interval (which is set to 1 ms here) then overload the <code>CompletablePromise&lt;V&gt;</code> constructor to be able to provide your own <code>CompletablePromiseContext</code> with a possibly different (longer) check interval for long-running <code>Future&lt;V&gt;</code> where you don&#39;t have to absolutely be able to run callback (or compose) immediately upon finishing, and you can also have an instance of <code>CompletablePromiseContext</code> to watch a set of <code>Future</code> (in case you have many)"}],"tags":[],"owner":{"account_id":2713039,"reputation":350,"user_id":2341005,"display_name":"Gabriel Francisco"},"comment_count":1,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1687877570,"creation_date":1524714948,"answer_id":50034584,"question_id":23301598,"body_markdown":"Suggestion:\r\n\r\nhttps://gabfssilva.github.io/old-java-future-to-completable-future/\r\n\r\nBut, basically:\r\n\r\n    public class CompletablePromiseContext {\r\n        private static final ScheduledExecutorService SERVICE = Executors.newSingleThreadScheduledExecutor();\r\n    \r\n        public static void schedule(Runnable r) {\r\n            SERVICE.schedule(r, 1, TimeUnit.MILLISECONDS);\r\n        }\r\n    }\r\n\r\nAnd, the CompletablePromise:\r\n\r\n    public class CompletablePromise&lt;V&gt; extends CompletableFuture&lt;V&gt; {\r\n        private Future&lt;V&gt; future;\r\n    \r\n        public CompletablePromise(Future&lt;V&gt; future) {\r\n            this.future = future;\r\n            CompletablePromiseContext.schedule(this::tryToComplete);\r\n        }\r\n    \r\n        private void tryToComplete() {\r\n            if (future.isDone()) {\r\n                try {\r\n                    complete(future.get());\r\n                } catch (InterruptedException e) {\r\n                    completeExceptionally(e);\r\n                } catch (ExecutionException e) {\r\n                    completeExceptionally(e.getCause());\r\n                }\r\n                return;\r\n            }\r\n    \r\n            if (future.isCancelled()) {\r\n                cancel(true);\r\n                return;\r\n            }\r\n    \r\n            CompletablePromiseContext.schedule(this::tryToComplete);\r\n        }\r\n    }\r\n\r\nExample:\r\n\r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            final ExecutorService service = Executors.newSingleThreadExecutor();\r\n            final Future&lt;String&gt; stringFuture = service.submit(() -&gt; &quot;success&quot;);\r\n            final CompletableFuture&lt;String&gt; completableFuture = new CompletablePromise&lt;&gt;(stringFuture);\r\n    \r\n            completableFuture.whenComplete((result, failure) -&gt; {\r\n                System.out.println(result);\r\n            });\r\n        }\r\n    }","title":"Transform Java Future into a CompletableFuture","body":"<p>Suggestion:</p>\n<p><a href=\"https://gabfssilva.github.io/old-java-future-to-completable-future/\" rel=\"nofollow noreferrer\">https://gabfssilva.github.io/old-java-future-to-completable-future/</a></p>\n<p>But, basically:</p>\n<pre><code>public class CompletablePromiseContext {\n    private static final ScheduledExecutorService SERVICE = Executors.newSingleThreadScheduledExecutor();\n\n    public static void schedule(Runnable r) {\n        SERVICE.schedule(r, 1, TimeUnit.MILLISECONDS);\n    }\n}\n</code></pre>\n<p>And, the CompletablePromise:</p>\n<pre><code>public class CompletablePromise&lt;V&gt; extends CompletableFuture&lt;V&gt; {\n    private Future&lt;V&gt; future;\n\n    public CompletablePromise(Future&lt;V&gt; future) {\n        this.future = future;\n        CompletablePromiseContext.schedule(this::tryToComplete);\n    }\n\n    private void tryToComplete() {\n        if (future.isDone()) {\n            try {\n                complete(future.get());\n            } catch (InterruptedException e) {\n                completeExceptionally(e);\n            } catch (ExecutionException e) {\n                completeExceptionally(e.getCause());\n            }\n            return;\n        }\n\n        if (future.isCancelled()) {\n            cancel(true);\n            return;\n        }\n\n        CompletablePromiseContext.schedule(this::tryToComplete);\n    }\n}\n</code></pre>\n<p>Example:</p>\n<pre><code>public class Main {\n    public static void main(String[] args) {\n        final ExecutorService service = Executors.newSingleThreadExecutor();\n        final Future&lt;String&gt; stringFuture = service.submit(() -&gt; &quot;success&quot;);\n        final CompletableFuture&lt;String&gt; completableFuture = new CompletablePromise&lt;&gt;(stringFuture);\n\n        completableFuture.whenComplete((result, failure) -&gt; {\n            System.out.println(result);\n        });\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":4394697,"reputation":2475,"user_id":3582140,"display_name":"Sam Mefford"},"score":2,"creation_date":1588113513,"post_id":61117435,"comment_id":108775039,"body_markdown":"Or, if you&#39;re using Callable&lt;T&gt; rather than Runnable, instead try supplyAsync: ```CompletableFuture&lt;T&gt; future = CompletableFuture.supplyAsync(myCallable, myExecutor);```","body":"Or, if you&#39;re using Callable&lt;T&gt; rather than Runnable, instead try supplyAsync: <code>CompletableFuture&lt;T&gt; future = CompletableFuture.supplyAsync(myCallable, myExecutor);</code>"},{"owner":{"account_id":1322512,"reputation":18477,"user_id":1268003,"accept_rate":82,"display_name":"Martin Andersson"},"score":1,"creation_date":1596716819,"post_id":61117435,"comment_id":111904250,"body_markdown":"`supplyAsync` receives a `Supplier`. The code will not compile if you attempt to pass in a `Callable`.","body":"<code>supplyAsync</code> receives a <code>Supplier</code>. The code will not compile if you attempt to pass in a <code>Callable</code>."},{"owner":{"account_id":2513760,"reputation":840,"user_id":2185612,"accept_rate":33,"display_name":"WeGa"},"score":1,"creation_date":1619678016,"post_id":61117435,"comment_id":118978227,"body_markdown":"You can also implement exception handling with java.util.concurrent.CompletableFuture#handle, chained right after CompletableFuture: CompletableFuture.supplyAsync(...).handle((response, throwable) -&gt; ...)","body":"You can also implement exception handling with java.util.concurrent.CompletableFuture#handle, chained right after CompletableFuture: CompletableFuture.supplyAsync(...).handle((response, throwable) -&gt; ...)"}],"tags":[],"owner":{"account_id":1107482,"reputation":2870,"user_id":1098603,"accept_rate":94,"display_name":"Matthieu"},"comment_count":3,"down_vote_count":1,"up_vote_count":70,"is_accepted":false,"score":69,"last_activity_date":1652863888,"creation_date":1586422668,"answer_id":61117435,"question_id":23301598,"body_markdown":"If your `Future` is the result of a call to an [`ExecutorService`][1] method (e.g. `submit()`), the easiest would be to use the [`CompletableFuture.runAsync(Runnable, Executor)`][2] method instead.\r\n\r\nFrom\r\n\r\n    Runnbale myTask = ... ;\r\n    Future&lt;?&gt; future = myExecutor.submit(myTask);\r\n\r\nto\r\n\r\n    Runnbale myTask = ... ;\r\n    CompletableFuture&lt;?&gt; future = CompletableFuture.runAsync(myTask, myExecutor);\r\n\r\nThe `CompletableFuture` is then created &quot;natively&quot;.\r\n\r\nEDIT: Pursuing comments by @SamMefford corrected by @MartinAndersson, if you want to pass a `Callable`, you need to call [`supplyAsync()`][3], converting the `Callable&lt;T&gt;` into a `Supplier&lt;T&gt;`, e.g. with:\r\n\r\n```\r\nCompletableFuture.supplyAsync(() -&gt; {\r\n    try { return myCallable.call(); }\r\n    catch (Exception ex) { throw new CompletionException(ex); } // Or return default value\r\n}, myExecutor);\r\n```\r\n\r\nBecause `T Callable.call() throws Exception;` throws an exception and `T Supplier.get();` doesn&#39;t, you have to catch the exception so prototypes are compatible.\r\n\r\nA note on exception handling\r\n---\r\n\r\nThe `get()` method doesn&#39;t specify a `throws`, which means it should not throw a *checked* exception. However, *unchecked* exception can be used. The code in `CompletableFuture` shows that `CompletionException` is used and is unchecked (i.e. is a `RuntimeException`), hence the catch/throw wrapping any exception into a `CompletionException`.\r\n\r\nAlso, as @WeGa indicated, you can use the [`handle()`][4] method to deal with exceptions potentially being thrown by the result:\r\n\r\n```\r\nCompletableFuture&lt;T&gt; future = CompletableFuture.supplyAsync(...);\r\nfuture.handle((ex,res) -&gt; {\r\n        if (ex != null) {\r\n            // An exception occurred ...\r\n        } else {\r\n            // No exception was thrown, &#39;res&#39; is valid and can be handled here\r\n        }\r\n    });\r\n```\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ExecutorService.html\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/CompletableFuture.html#runAsync-java.lang.Runnable-java.util.concurrent.Executor-\r\n  [3]: https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/CompletableFuture.html#supplyAsync-java.util.function.Supplier-java.util.concurrent.Executor-\r\n  [4]: https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/CompletableFuture.html#handle-java.util.function.BiFunction-","title":"Transform Java Future into a CompletableFuture","body":"<p>If your <code>Future</code> is the result of a call to an <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ExecutorService.html\" rel=\"noreferrer\"><code>ExecutorService</code></a> method (e.g. <code>submit()</code>), the easiest would be to use the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/CompletableFuture.html#runAsync-java.lang.Runnable-java.util.concurrent.Executor-\" rel=\"noreferrer\"><code>CompletableFuture.runAsync(Runnable, Executor)</code></a> method instead.</p>\n<p>From</p>\n<pre><code>Runnbale myTask = ... ;\nFuture&lt;?&gt; future = myExecutor.submit(myTask);\n</code></pre>\n<p>to</p>\n<pre><code>Runnbale myTask = ... ;\nCompletableFuture&lt;?&gt; future = CompletableFuture.runAsync(myTask, myExecutor);\n</code></pre>\n<p>The <code>CompletableFuture</code> is then created &quot;natively&quot;.</p>\n<p>EDIT: Pursuing comments by @SamMefford corrected by @MartinAndersson, if you want to pass a <code>Callable</code>, you need to call <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/CompletableFuture.html#supplyAsync-java.util.function.Supplier-java.util.concurrent.Executor-\" rel=\"noreferrer\"><code>supplyAsync()</code></a>, converting the <code>Callable&lt;T&gt;</code> into a <code>Supplier&lt;T&gt;</code>, e.g. with:</p>\n<pre><code>CompletableFuture.supplyAsync(() -&gt; {\n    try { return myCallable.call(); }\n    catch (Exception ex) { throw new CompletionException(ex); } // Or return default value\n}, myExecutor);\n</code></pre>\n<p>Because <code>T Callable.call() throws Exception;</code> throws an exception and <code>T Supplier.get();</code> doesn't, you have to catch the exception so prototypes are compatible.</p>\n<h2>A note on exception handling</h2>\n<p>The <code>get()</code> method doesn't specify a <code>throws</code>, which means it should not throw a <em>checked</em> exception. However, <em>unchecked</em> exception can be used. The code in <code>CompletableFuture</code> shows that <code>CompletionException</code> is used and is unchecked (i.e. is a <code>RuntimeException</code>), hence the catch/throw wrapping any exception into a <code>CompletionException</code>.</p>\n<p>Also, as @WeGa indicated, you can use the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/CompletableFuture.html#handle-java.util.function.BiFunction-\" rel=\"noreferrer\"><code>handle()</code></a> method to deal with exceptions potentially being thrown by the result:</p>\n<pre><code>CompletableFuture&lt;T&gt; future = CompletableFuture.supplyAsync(...);\nfuture.handle((ex,res) -&gt; {\n        if (ex != null) {\n            // An exception occurred ...\n        } else {\n            // No exception was thrown, 'res' is valid and can be handled here\n        }\n    });\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8349587,"reputation":41,"user_id":6272218,"display_name":"eric goff"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1635117379,"creation_date":1635117379,"answer_id":69701439,"question_id":23301598,"body_markdown":"    public static &lt;T&gt; CompletableFuture&lt;T&gt; fromFuture(Future&lt;T&gt; f) {\r\n        return CompletableFuture.completedFuture(null).thenCompose(avoid -&gt; {\r\n            try {\r\n                return CompletableFuture.completedFuture(f.get());\r\n            } catch (InterruptedException e) {\r\n                return CompletableFuture.failedFuture(e);\r\n            } catch (ExecutionException e) {\r\n                return CompletableFuture.failedFuture(e.getCause());\r\n            }\r\n        });\r\n    }\r\n","title":"Transform Java Future into a CompletableFuture","body":"<pre><code>public static &lt;T&gt; CompletableFuture&lt;T&gt; fromFuture(Future&lt;T&gt; f) {\n    return CompletableFuture.completedFuture(null).thenCompose(avoid -&gt; {\n        try {\n            return CompletableFuture.completedFuture(f.get());\n        } catch (InterruptedException e) {\n            return CompletableFuture.failedFuture(e);\n        } catch (ExecutionException e) {\n            return CompletableFuture.failedFuture(e.getCause());\n        }\n    });\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2557108,"reputation":2556,"user_id":2218838,"accept_rate":58,"display_name":"Anderson"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659196357,"creation_date":1659195677,"answer_id":73176979,"question_id":23301598,"body_markdown":"The main idea goes like this:\r\n\r\n```\r\nFuture&lt;?&gt; future = null;\r\nreturn CompletableFuture.supplyAsync(future::get);\r\n```\r\n\r\nHowever, you will receive some warnings from your compiler.\r\n\r\nSo, here is the first option.\r\n\r\n```\r\nFuture&lt;?&gt; future = null;\r\nreturn CompletableFuture.supplyAsync(\r\n        ()-&gt;{\r\n            try {\r\n                return future.get();\r\n            } catch (Exception e) {\r\n                throw new RuntimeException(e);\r\n            }\r\n        });\r\n```\r\n\r\nSecond Option, hide the try...catch via casting the functional interface.\r\n\r\n```\r\n    @FunctionalInterface\r\n    public interface MySupplier&lt;T&gt; extends Supplier&lt;T&gt; {\r\n        @Override\r\n        default T get() {\r\n            try {\r\n                return getInternal();\r\n            } catch (Exception e) {\r\n                throw new RuntimeException(e);\r\n            }\r\n        }\r\n\r\n        T getInternal() throws Exception;\r\n    }\r\n\r\n\r\n    public static void main(String[] args) {\r\n        Future&lt;?&gt; future = null;\r\n        return CompletableFuture.supplyAsync((MySupplier&lt;?&gt;) future::get);\r\n\r\n    }\r\n\r\n\r\n```\r\n\r\nThird Option, find out some 3rd party lib which has provided such a functional interface.\r\n\r\nSee Also: https://stackoverflow.com/questions/18198176/java-8-lambda-function-that-throws-exception\r\n","title":"Transform Java Future into a CompletableFuture","body":"<p>The main idea goes like this:</p>\n<pre><code>Future&lt;?&gt; future = null;\nreturn CompletableFuture.supplyAsync(future::get);\n</code></pre>\n<p>However, you will receive some warnings from your compiler.</p>\n<p>So, here is the first option.</p>\n<pre><code>Future&lt;?&gt; future = null;\nreturn CompletableFuture.supplyAsync(\n        ()-&gt;{\n            try {\n                return future.get();\n            } catch (Exception e) {\n                throw new RuntimeException(e);\n            }\n        });\n</code></pre>\n<p>Second Option, hide the try...catch via casting the functional interface.</p>\n<pre><code>    @FunctionalInterface\n    public interface MySupplier&lt;T&gt; extends Supplier&lt;T&gt; {\n        @Override\n        default T get() {\n            try {\n                return getInternal();\n            } catch (Exception e) {\n                throw new RuntimeException(e);\n            }\n        }\n\n        T getInternal() throws Exception;\n    }\n\n\n    public static void main(String[] args) {\n        Future&lt;?&gt; future = null;\n        return CompletableFuture.supplyAsync((MySupplier&lt;?&gt;) future::get);\n\n    }\n\n\n</code></pre>\n<p>Third Option, find out some 3rd party lib which has provided such a functional interface.</p>\n<p>See Also: <a href=\"https://stackoverflow.com/questions/18198176/java-8-lambda-function-that-throws-exception\">Java 8 Lambda function that throws exception?</a></p>\n"}],"owner":{"account_id":41226,"reputation":18874,"user_id":119768,"accept_rate":83,"display_name":"Dan Midwood"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":77679,"favorite_count":0,"down_vote_count":0,"up_vote_count":136,"accepted_answer_id":23302308,"answer_count":8,"score":136,"last_activity_date":1687877570,"creation_date":1398454708,"question_id":23301598,"body_markdown":"Java 8 introduces `CompletableFuture`, a new implementation of Future that is composable (includes a bunch of thenXxx methods). I&#39;d like to use this exclusively, but many of the libraries I want to use return only non-composable `Future` instances.\r\n\r\nIs there a way to wrap up a returned `Future` instances inside of a `CompleteableFuture` so that I can compose it?","title":"Transform Java Future into a CompletableFuture","body":"<p>Java 8 introduces <code>CompletableFuture</code>, a new implementation of Future that is composable (includes a bunch of thenXxx methods). I'd like to use this exclusively, but many of the libraries I want to use return only non-composable <code>Future</code> instances.</p>\n\n<p>Is there a way to wrap up a returned <code>Future</code> instances inside of a <code>CompleteableFuture</code> so that I can compose it?</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":7819,"page":344,"page_size":100}
