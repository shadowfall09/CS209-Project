{"items":[{"tags":["java","eclipse","maven"],"comments":[{"owner":{"account_id":6284,"reputation":14589,"user_id":10508,"accept_rate":53,"display_name":"David M. Karr"},"score":0,"creation_date":1624688028,"post_id":68138359,"comment_id":120431024,"body_markdown":"It&#39;s a little hard to tell. Perhaps you should start with a different tutorial: https://howtodoinjava.com/spring-boot/spring-boot-jersey-example/ .","body":"It&#39;s a little hard to tell. Perhaps you should start with a different tutorial: <a href=\"https://howtodoinjava.com/spring-boot/spring-boot-jersey-example/\" rel=\"nofollow noreferrer\">howtodoinjava.com/spring-boot/spring-boot-jersey-example</a> ."},{"owner":{"account_id":18475895,"reputation":63,"user_id":13991294,"display_name":"Dicky"},"score":0,"creation_date":1624918437,"post_id":68138359,"comment_id":120483738,"body_markdown":"Thanks David for recommending another tutorial. But I wanted to complete my tutorials as I had watched a few videos of the same guy covering theory and I liked his series. But it has been frustrating to see this error. Could you please suggest a few things that I can try, or someone on the board who could be of help?","body":"Thanks David for recommending another tutorial. But I wanted to complete my tutorials as I had watched a few videos of the same guy covering theory and I liked his series. But it has been frustrating to see this error. Could you please suggest a few things that I can try, or someone on the board who could be of help?"}],"answers":[{"tags":[],"owner":{"account_id":4421250,"reputation":1,"user_id":3601135,"display_name":"ashutosharma24"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1625472168,"creation_date":1625472168,"answer_id":68252596,"question_id":68138359,"body_markdown":"For 1/ index.jsp \r\nadd the following dependency in pom.xml\r\n```\r\n&lt;dependency&gt;\r\n\t&lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\r\n\t&lt;version&gt;3.1.0&lt;/version&gt;\r\n\t&lt;scope&gt;provided&lt;/scope&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nfor 2/ pom.xml\r\nadd the following property at the end of eclipse.ini and restart eclipse\r\n```\r\n--illegal-access=permit\r\n```\r\n","title":"&quot;Could not initialize class...&quot; error in pom.xml with a new Maven project","body":"<p>For 1/ index.jsp\nadd the following dependency in pom.xml</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n    &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\n    &lt;version&gt;3.1.0&lt;/version&gt;\n    &lt;scope&gt;provided&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>for 2/ pom.xml\nadd the following property at the end of eclipse.ini and restart eclipse</p>\n<pre><code>--illegal-access=permit\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15935421,"reputation":75,"user_id":11498722,"display_name":"Mohibur_Cou"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1632006337,"creation_date":1631985414,"answer_id":69236875,"question_id":68138359,"body_markdown":"for first problem:\r\n\r\n1. right click on your project\r\n2. click Properties\r\n3. click Targeted Runtimes\r\n4. tick mark Apache Tomcat v10.0\r\n5. click Apply and Close\r\n\r\nfor second problem:\r\nadd the following plugin inside the pom.xml file inside build -&gt; plugins\r\n```\r\n&lt;plugin&gt;\r\n    &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\r\n    &lt;version&gt;3.2.2&lt;/version&gt;\r\n&lt;/plugin&gt;\r\n```\r\nyour pom.xml file should be like this:\r\n```\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;\r\n\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n    &lt;groupId&gt;com.xyz.rest&lt;/groupId&gt;\r\n    &lt;artifactId&gt;onlineshopping&lt;/artifactId&gt;\r\n    &lt;packaging&gt;war&lt;/packaging&gt;\r\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    &lt;name&gt;onlineshopping&lt;/name&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;finalName&gt;onlineshopping&lt;/finalName&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.2.2&lt;/version&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.8.1&lt;/version&gt;\r\n                &lt;inherited&gt;true&lt;/inherited&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;source&gt;1.8&lt;/source&gt;\r\n                    &lt;target&gt;1.8&lt;/target&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\n    &lt;dependencyManagement&gt;\r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.glassfish.jersey&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jersey-bom&lt;/artifactId&gt;\r\n                &lt;version&gt;${jersey.version}&lt;/version&gt;\r\n                &lt;type&gt;pom&lt;/type&gt;\r\n                &lt;scope&gt;import&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n    &lt;/dependencyManagement&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.glassfish.jersey.containers&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jersey-container-servlet-core&lt;/artifactId&gt;\r\n            &lt;!-- use the following artifactId if you don&#39;t need servlet 2.x compatibility --&gt;\r\n            &lt;!-- artifactId&gt;jersey-container-servlet&lt;/artifactId --&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.glassfish.jersey.inject&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jersey-hk2&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!-- uncomment this to get JSON support\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.glassfish.jersey.media&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jersey-media-json-binding&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        --&gt;\r\n    &lt;/dependencies&gt;\r\n    &lt;properties&gt;\r\n        &lt;jersey.version&gt;3.0.2&lt;/jersey.version&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    &lt;/properties&gt;\r\n&lt;/project&gt;\r\n```\r\nHope this will solve your problems.","title":"&quot;Could not initialize class...&quot; error in pom.xml with a new Maven project","body":"<p>for first problem:</p>\n<ol>\n<li>right click on your project</li>\n<li>click Properties</li>\n<li>click Targeted Runtimes</li>\n<li>tick mark Apache Tomcat v10.0</li>\n<li>click Apply and Close</li>\n</ol>\n<p>for second problem:\nadd the following plugin inside the pom.xml file inside build -&gt; plugins</p>\n<pre><code>&lt;plugin&gt;\n    &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\n    &lt;version&gt;3.2.2&lt;/version&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p>your pom.xml file should be like this:</p>\n<pre><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;\n\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;com.xyz.rest&lt;/groupId&gt;\n    &lt;artifactId&gt;onlineshopping&lt;/artifactId&gt;\n    &lt;packaging&gt;war&lt;/packaging&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;onlineshopping&lt;/name&gt;\n\n    &lt;build&gt;\n        &lt;finalName&gt;onlineshopping&lt;/finalName&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.2.2&lt;/version&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.8.1&lt;/version&gt;\n                &lt;inherited&gt;true&lt;/inherited&gt;\n                &lt;configuration&gt;\n                    &lt;source&gt;1.8&lt;/source&gt;\n                    &lt;target&gt;1.8&lt;/target&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n    &lt;dependencyManagement&gt;\n        &lt;dependencies&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.glassfish.jersey&lt;/groupId&gt;\n                &lt;artifactId&gt;jersey-bom&lt;/artifactId&gt;\n                &lt;version&gt;${jersey.version}&lt;/version&gt;\n                &lt;type&gt;pom&lt;/type&gt;\n                &lt;scope&gt;import&lt;/scope&gt;\n            &lt;/dependency&gt;\n        &lt;/dependencies&gt;\n    &lt;/dependencyManagement&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.glassfish.jersey.containers&lt;/groupId&gt;\n            &lt;artifactId&gt;jersey-container-servlet-core&lt;/artifactId&gt;\n            &lt;!-- use the following artifactId if you don't need servlet 2.x compatibility --&gt;\n            &lt;!-- artifactId&gt;jersey-container-servlet&lt;/artifactId --&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.glassfish.jersey.inject&lt;/groupId&gt;\n            &lt;artifactId&gt;jersey-hk2&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;!-- uncomment this to get JSON support\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.glassfish.jersey.media&lt;/groupId&gt;\n            &lt;artifactId&gt;jersey-media-json-binding&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        --&gt;\n    &lt;/dependencies&gt;\n    &lt;properties&gt;\n        &lt;jersey.version&gt;3.0.2&lt;/jersey.version&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;/properties&gt;\n&lt;/project&gt;\n</code></pre>\n<p>Hope this will solve your problems.</p>\n"},{"tags":[],"owner":{"account_id":28895729,"reputation":1,"user_id":22131763,"display_name":"Satyprakash Sahu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687868474,"creation_date":1687763979,"answer_id":76554366,"question_id":68138359,"body_markdown":"1. Could not initialize class `org.apache.maven.plugin.war.util.WebappStructureSerializer`\r\n\r\n   This message is not an error it is a bug of eclipse new version so you need to take older version or need to wait for fixing this bug.\r\n\r\n2. For fixing this you can use below code in pom.XML file try this it will fix error message -: \r\n\r\n       &lt;plugins&gt;\r\n          &lt;plugin&gt;\r\n              &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n              &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\r\n              &lt;version&gt;3.3.1&lt;/version&gt;\r\n          &lt;/plugin&gt;\r\n       &lt;/plugins&gt;","title":"&quot;Could not initialize class...&quot; error in pom.xml with a new Maven project","body":"<ol>\n<li><p>Could not initialize class <code>org.apache.maven.plugin.war.util.WebappStructureSerializer</code></p>\n<p>This message is not an error it is a bug of eclipse new version so you need to take older version or need to wait for fixing this bug.</p>\n</li>\n<li><p>For fixing this you can use below code in pom.XML file try this it will fix error message -:</p>\n<pre><code>&lt;plugins&gt;\n   &lt;plugin&gt;\n       &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n       &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\n       &lt;version&gt;3.3.1&lt;/version&gt;\n   &lt;/plugin&gt;\n&lt;/plugins&gt;\n</code></pre>\n</li>\n</ol>\n"}],"owner":{"account_id":18475895,"reputation":63,"user_id":13991294,"display_name":"Dicky"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11232,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1687868474,"creation_date":1624669229,"question_id":68138359,"body_markdown":"I wanted to learn how to develop RESTful APIs with JAX-RS and so started with an example covered in one of the YouTube videos. The video was created 5 -6 years ago and used Tomcat 7 and an older version of Eclipse. But I installed the recent versions of Tomcat (10.0.6) and Eclipse (jee-2021-03) and followed the tutorial.\r\n\r\nI created a new maven project with the following archetype:\r\n**Group Id**: org.glassfish.jersey.archetypes \r\n**Artifact Id**: jersey-quickstart-webapp \r\n**Version**: 3.0.2\r\n\r\nI provided Group Id and Artifact Id for my project with default version 0.0.1-SNAPSHOT and clicked Finish.\r\n\r\nEclipse created the project with the following 2 errors:\r\n1) **index.jsp**: &quot;The superclass &quot;javax.servlet.http.HttpServlet&quot; was not found on the Java Build Path&quot;\r\n2) **pom.xml**: &quot;Could not initialize class org.apache.maven.plugin.war.util.WebappStructureSerializer&quot; on the very first line.\r\n\r\nI&#39;d appreciate if someone can help me understand why I&#39;m getting these errors and how to resolve them.\r\n\r\nHere is my pom.xml.\r\n```\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;\r\n\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n    &lt;groupId&gt;com.xyz.rest&lt;/groupId&gt;\r\n    &lt;artifactId&gt;onlineshopping&lt;/artifactId&gt;\r\n    &lt;packaging&gt;war&lt;/packaging&gt;\r\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    &lt;name&gt;onlineshopping&lt;/name&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;finalName&gt;onlineshopping&lt;/finalName&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.8.1&lt;/version&gt;\r\n                &lt;inherited&gt;true&lt;/inherited&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;source&gt;1.8&lt;/source&gt;\r\n                    &lt;target&gt;1.8&lt;/target&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\n    &lt;dependencyManagement&gt;\r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.glassfish.jersey&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jersey-bom&lt;/artifactId&gt;\r\n                &lt;version&gt;${jersey.version}&lt;/version&gt;\r\n                &lt;type&gt;pom&lt;/type&gt;\r\n                &lt;scope&gt;import&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n    &lt;/dependencyManagement&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.glassfish.jersey.containers&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jersey-container-servlet-core&lt;/artifactId&gt;\r\n            &lt;!-- use the following artifactId if you don&#39;t need servlet 2.x compatibility --&gt;\r\n            &lt;!-- artifactId&gt;jersey-container-servlet&lt;/artifactId --&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.glassfish.jersey.inject&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jersey-hk2&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!-- uncomment this to get JSON support\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.glassfish.jersey.media&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jersey-media-json-binding&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        --&gt;\r\n    &lt;/dependencies&gt;\r\n    &lt;properties&gt;\r\n        &lt;jersey.version&gt;3.0.2&lt;/jersey.version&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    &lt;/properties&gt;\r\n&lt;/project&gt;\r\n```","title":"&quot;Could not initialize class...&quot; error in pom.xml with a new Maven project","body":"<p>I wanted to learn how to develop RESTful APIs with JAX-RS and so started with an example covered in one of the YouTube videos. The video was created 5 -6 years ago and used Tomcat 7 and an older version of Eclipse. But I installed the recent versions of Tomcat (10.0.6) and Eclipse (jee-2021-03) and followed the tutorial.</p>\n<p>I created a new maven project with the following archetype:\n<strong>Group Id</strong>: org.glassfish.jersey.archetypes\n<strong>Artifact Id</strong>: jersey-quickstart-webapp\n<strong>Version</strong>: 3.0.2</p>\n<p>I provided Group Id and Artifact Id for my project with default version 0.0.1-SNAPSHOT and clicked Finish.</p>\n<p>Eclipse created the project with the following 2 errors:</p>\n<ol>\n<li><strong>index.jsp</strong>: &quot;The superclass &quot;javax.servlet.http.HttpServlet&quot; was not found on the Java Build Path&quot;</li>\n<li><strong>pom.xml</strong>: &quot;Could not initialize class org.apache.maven.plugin.war.util.WebappStructureSerializer&quot; on the very first line.</li>\n</ol>\n<p>I'd appreciate if someone can help me understand why I'm getting these errors and how to resolve them.</p>\n<p>Here is my pom.xml.</p>\n<pre><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;\n\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;com.xyz.rest&lt;/groupId&gt;\n    &lt;artifactId&gt;onlineshopping&lt;/artifactId&gt;\n    &lt;packaging&gt;war&lt;/packaging&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;onlineshopping&lt;/name&gt;\n\n    &lt;build&gt;\n        &lt;finalName&gt;onlineshopping&lt;/finalName&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.8.1&lt;/version&gt;\n                &lt;inherited&gt;true&lt;/inherited&gt;\n                &lt;configuration&gt;\n                    &lt;source&gt;1.8&lt;/source&gt;\n                    &lt;target&gt;1.8&lt;/target&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n    &lt;dependencyManagement&gt;\n        &lt;dependencies&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.glassfish.jersey&lt;/groupId&gt;\n                &lt;artifactId&gt;jersey-bom&lt;/artifactId&gt;\n                &lt;version&gt;${jersey.version}&lt;/version&gt;\n                &lt;type&gt;pom&lt;/type&gt;\n                &lt;scope&gt;import&lt;/scope&gt;\n            &lt;/dependency&gt;\n        &lt;/dependencies&gt;\n    &lt;/dependencyManagement&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.glassfish.jersey.containers&lt;/groupId&gt;\n            &lt;artifactId&gt;jersey-container-servlet-core&lt;/artifactId&gt;\n            &lt;!-- use the following artifactId if you don't need servlet 2.x compatibility --&gt;\n            &lt;!-- artifactId&gt;jersey-container-servlet&lt;/artifactId --&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.glassfish.jersey.inject&lt;/groupId&gt;\n            &lt;artifactId&gt;jersey-hk2&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;!-- uncomment this to get JSON support\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.glassfish.jersey.media&lt;/groupId&gt;\n            &lt;artifactId&gt;jersey-media-json-binding&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        --&gt;\n    &lt;/dependencies&gt;\n    &lt;properties&gt;\n        &lt;jersey.version&gt;3.0.2&lt;/jersey.version&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;/properties&gt;\n&lt;/project&gt;\n</code></pre>\n"},{"tags":["java","jboss","jmx"],"answers":[{"tags":[],"owner":{"account_id":2844059,"reputation":685,"user_id":2442960,"accept_rate":57,"display_name":"geri-m"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1564243781,"creation_date":1564243781,"answer_id":57233876,"question_id":47093456,"body_markdown":"For Wildly 14 you have to add Wildfly Commons and the Logmanager to the class path, hence the ```JAVA_OPTS``` looks like the following\r\n\r\n```\r\n-Djboss.modules.system.pkgs=org.jboss.byteman,org.jboss.logmanager \r\n-Djava.util.logging.manager=org.jboss.logmanager.LogManager \r\n-Xbootclasspath/p:/opt/jboss/wildfly/modules/system/layers/base/org/jboss/logmanager/main/jboss-logmanager-2.1.4.Final.jar \r\n-Xbootclasspath/p:/opt/jboss/wildfly/modules/system/layers/base/org/wildfly/common/main/wildfly-common-1.4.0.Final.jar \r\n-Dcom.sun.management.jmxremote\r\n-Djava.rmi.server.hostname=127.0.0.1 \r\n-Dcom.sun.management.jmxremote.port=10001 \r\n-Dcom.sun.management.jmxremote.local.only=false \r\n-Dcom.sun.management.jmxremote.authenticate=false \r\n-Dcom.sun.management.jmxremote.ssl=false -Xms2g -Xmx2g -Xss512k \r\n-XX:SurvivorRatio=2 -Dsun.net.inetaddr.ttl=300 -Djava.net.preferIPv4Stack=true \r\n-agentlib:jdwp=transport=dt_socket,address=8787,server=y,suspend=n\r\n```        ","title":"jboss could not load logmanager","body":"<p>For Wildly 14 you have to add Wildfly Commons and the Logmanager to the class path, hence the <code>JAVA_OPTS</code> looks like the following</p>\n\n<pre><code>-Djboss.modules.system.pkgs=org.jboss.byteman,org.jboss.logmanager \n-Djava.util.logging.manager=org.jboss.logmanager.LogManager \n-Xbootclasspath/p:/opt/jboss/wildfly/modules/system/layers/base/org/jboss/logmanager/main/jboss-logmanager-2.1.4.Final.jar \n-Xbootclasspath/p:/opt/jboss/wildfly/modules/system/layers/base/org/wildfly/common/main/wildfly-common-1.4.0.Final.jar \n-Dcom.sun.management.jmxremote\n-Djava.rmi.server.hostname=127.0.0.1 \n-Dcom.sun.management.jmxremote.port=10001 \n-Dcom.sun.management.jmxremote.local.only=false \n-Dcom.sun.management.jmxremote.authenticate=false \n-Dcom.sun.management.jmxremote.ssl=false -Xms2g -Xmx2g -Xss512k \n-XX:SurvivorRatio=2 -Dsun.net.inetaddr.ttl=300 -Djava.net.preferIPv4Stack=true \n-agentlib:jdwp=transport=dt_socket,address=8787,server=y,suspend=n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12280191,"reputation":164,"user_id":13554176,"display_name":"psadi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1630097284,"creation_date":1630089767,"answer_id":68958069,"question_id":47093456,"body_markdown":"Thank you for this it got me to a point where I got my application to startup properly\r\n\r\nmy config:\r\n\r\n```\r\nJAVA_OPTS=&quot;$JAVA_OPTS -Djboss.modules.system.pkgs=org.jboss.byteman,org.jboss.logmanager -Djava.util.logging.manager=org.jboss.logmanager.LogManager -Dorg.jboss.logging.Logger.pluginClass=org.jboss.logging.logmanager.LoggerPluginImpl&quot;\r\nJAVA_OPTS=&quot;$JAVA_OPTS -Xbootclasspath/p:$JBOSS_HOME/modules/system/layers/base/org/jboss/logmanager/main/jboss-logmanager-2.0.3.Final-redhat-1.jar&quot;\r\n```","title":"jboss could not load logmanager","body":"<p>Thank you for this it got me to a point where I got my application to startup properly</p>\n<p>my config:</p>\n<pre><code>JAVA_OPTS=&quot;$JAVA_OPTS -Djboss.modules.system.pkgs=org.jboss.byteman,org.jboss.logmanager -Djava.util.logging.manager=org.jboss.logmanager.LogManager -Dorg.jboss.logging.Logger.pluginClass=org.jboss.logging.logmanager.LoggerPluginImpl&quot;\nJAVA_OPTS=&quot;$JAVA_OPTS -Xbootclasspath/p:$JBOSS_HOME/modules/system/layers/base/org/jboss/logmanager/main/jboss-logmanager-2.0.3.Final-redhat-1.jar&quot;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":27664339,"reputation":1,"user_id":21116479,"display_name":"Nazneen Inamdar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675154357,"creation_date":1675154357,"answer_id":75294537,"question_id":47093456,"body_markdown":"This error generally occurs when your wildfly server user does not have enough permissions to create the logManager file. You just need to give full access permission to your wildfly directory user. This will resolve your issue.","title":"jboss could not load logmanager","body":"<p>This error generally occurs when your wildfly server user does not have enough permissions to create the logManager file. You just need to give full access permission to your wildfly directory user. This will resolve your issue.</p>\n"},{"tags":[],"owner":{"account_id":28886536,"reputation":1,"user_id":22124757,"display_name":"john kash"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687868387,"creation_date":1687612042,"answer_id":76546206,"question_id":47093456,"body_markdown":"**for jboss eap7.2**, add these in the `standalone.conf.bat`. \r\nThis should expose your jmx metrics at http://127.0.0.1:9184/metric.\r\n\r\n```\r\nset &quot;JAVA_OPTS=%JAVA_OPTS% -Dcom.sun.jersey.server.impl.cdi.lookupExtensionInBeanManager=true&quot;\r\nrem # Use jmx_prometheus_javaagents-0\r\nset &quot;JAVA_OPTS=%JAVA_OPTS% -javaagent:path_to_your_jmx_exporter\\jmx_prometheus_javaagent-0.18.0.jar=0.0.0.0:9184:path_to_your_jmx_configuration\\config.yaml&quot;\r\nset &quot;JAVA_OPTS=%JAVA_OPTS% -Djava.util.logging.manager=org.jboss.logmanager.LogManager&quot;\r\nset &quot;JAVA_OPTS=%JAVA_OPTS% -Xbootclasspath/p:%JBOSS_HOME%\\modules\\system\\layers\\base\\org\\wildfly\\common\\main\\wildfly-common-1.4.0.Final-redhat-1.jar&quot;\r\nset &quot;JAVA_OPTS=%JAVA_OPTS% -Djboss.modules.system.pkgs=org.jboss.byteman,org.jboss.logmanager&quot;\r\nset &quot;JAVA_OPTS=%JAVA_OPTS% -Xbootclasspath/p:%JBOSS_HOME%\\modules\\system\\layers\\base\\org\\jboss\\logmanager\\main\\jboss-logmanager-2.1.5.Final-redhat-00001.jar&quot;\r\n```","title":"jboss could not load logmanager","body":"<p><strong>for jboss eap7.2</strong>, add these in the <code>standalone.conf.bat</code>.\nThis should expose your jmx metrics at <a href=\"http://127.0.0.1:9184/metric\" rel=\"nofollow noreferrer\">http://127.0.0.1:9184/metric</a>.</p>\n<pre><code>set &quot;JAVA_OPTS=%JAVA_OPTS% -Dcom.sun.jersey.server.impl.cdi.lookupExtensionInBeanManager=true&quot;\nrem # Use jmx_prometheus_javaagents-0\nset &quot;JAVA_OPTS=%JAVA_OPTS% -javaagent:path_to_your_jmx_exporter\\jmx_prometheus_javaagent-0.18.0.jar=0.0.0.0:9184:path_to_your_jmx_configuration\\config.yaml&quot;\nset &quot;JAVA_OPTS=%JAVA_OPTS% -Djava.util.logging.manager=org.jboss.logmanager.LogManager&quot;\nset &quot;JAVA_OPTS=%JAVA_OPTS% -Xbootclasspath/p:%JBOSS_HOME%\\modules\\system\\layers\\base\\org\\wildfly\\common\\main\\wildfly-common-1.4.0.Final-redhat-1.jar&quot;\nset &quot;JAVA_OPTS=%JAVA_OPTS% -Djboss.modules.system.pkgs=org.jboss.byteman,org.jboss.logmanager&quot;\nset &quot;JAVA_OPTS=%JAVA_OPTS% -Xbootclasspath/p:%JBOSS_HOME%\\modules\\system\\layers\\base\\org\\jboss\\logmanager\\main\\jboss-logmanager-2.1.5.Final-redhat-00001.jar&quot;\n</code></pre>\n"}],"owner":{"account_id":12162595,"reputation":31,"user_id":8879730,"display_name":"Valentin Skwirblies"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":17903,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":4,"score":3,"last_activity_date":1687868387,"creation_date":1509704740,"question_id":47093456,"body_markdown":"I&#39;m trying to enable JMX on a JBoss AS 7.1.1 Final &quot;Brontes&quot;.\r\nSofar I edited the startup.conf in jboss/bin to hold these following lines:\r\n\r\n    # Enable JMX Remote\r\n    JAVA_OPTS=&quot;$JAVA_OPTS -Dcom.sun.management.jmxremote.port=9999&quot;\r\n    JAVA_OPTS=&quot;$JAVA_OPTS -Dcom.sun.management.jmxremote.authenticate=false&quot;\r\n    JAVA_OPTS=&quot;$JAVA_OPTS -Dcom.sun.management.jmxremote.ssl=false&quot;\r\n\r\nthen on starting the jboss I got following error message:\r\n\r\n    &gt; WARNING: Failed to load the specified log manager class\r\n    &gt; org.jboss.logmanager.LogManager Exception in thread &quot;main&quot;\r\n    &gt; java.lang.NoClassDefFoundError: org/jboss/logmanager/Level\r\n    &gt;         at java.lang.Class.forName0(Native Method)\r\n    &gt;         at java.lang.Class.forName(Class.java:278)\r\n    &gt;         at org.jboss.modules.Module.run(Module.java:247)\r\n    &gt;         at org.jboss.modules.Main.main(Main.java:291) Caused by: java.lang.ClassNotFoundException: org.jboss.logmanager.Level\r\n    &gt;         at java.net.URLClassLoader$1.run(URLClassLoader.java:359)\r\n    &gt;         at java.net.URLClassLoader$1.run(URLClassLoader.java:348)\r\n    &gt;         at java.security.AccessController.doPrivileged(Native Method)\r\n    &gt;         at java.net.URLClassLoader.findClass(URLClassLoader.java:347)\r\n    &gt;         at java.lang.ClassLoader.loadClass(ClassLoader.java:425)\r\n    &gt;         at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:312)\r\n    &gt;         at java.lang.ClassLoader.loadClass(ClassLoader.java:358)\r\n    &gt;         at org.jboss.modules.ConcurrentClassLoader.performLoadClass(ConcurrentClassLoader.java:395)\r\n    &gt;         at org.jboss.modules.ConcurrentClassLoader.loadClass(ConcurrentClassLoader.java:120)\r\n    &gt;         ... 4 more\r\n\r\nThen I added following lines to the standalone.conf \r\n\r\n    JBOSS_MODULES_SYSTEM_PKGS=&quot;org.jboss.logmanager&quot;\r\nand\r\n\r\n    JAVA_OPTS=&quot;$JAVA_OPTS -Djava.util.logging.manager=org.jboss.logmanager.LogManager&quot;\r\n        JAVA_OPTS=&quot;$JAVA_OPTS -Xbootclasspath/p:$JBOSS_HOME/modules/org/jboss/logmanager/main/jboss-logmanager-1.2.2.GA.jar&quot;\r\n\r\nbut still I&#39;m getting the error\r\n\r\n    Could not load Logmanager &quot;org.jboss.logmanager.LogManager&quot;\r\n    java.lang.ClassNotFoundException: org.jboss.logmanager.LogManager\r\n            at java.net.URLClassLoader$1.run(URLClassLoader.java:359)\r\n            at java.net.URLClassLoader$1.run(URLClassLoader.java:348)\r\n            at java.security.AccessController.doPrivileged(Native Method)\r\n            at java.net.URLClassLoader.findClass(URLClassLoader.java:347)\r\n            at java.lang.ClassLoader.loadClass(ClassLoader.java:425)\r\n            at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:312)\r\n            at java.lang.ClassLoader.loadClass(ClassLoader.java:358)\r\n            at java.util.logging.LogManager$1.run(LogManager.java:191)\r\n            at java.security.AccessController.doPrivileged(Native Method)\r\n            at java.util.logging.LogManager.&lt;clinit&gt;(LogManager.java:181)\r\n            at java.util.logging.Logger.demandLogger(Logger.java:339)\r\n            at java.util.logging.Logger.getLogger(Logger.java:393)\r\n            at com.sun.jmx.remote.util.ClassLogger.&lt;init&gt;(ClassLogger.java:55)\r\n            at sun.management.jmxremote.ConnectorBootstrap.&lt;clinit&gt;(ConnectorBootstrap.java:846)\r\n            at sun.management.Agent.startAgent(Agent.java:260)\r\n            at sun.management.Agent.startAgent(Agent.java:450)\r\n    WARNING: Failed to load the specified log manager class org.jboss.logmanager.LogManager\r\n    Exception in thread &quot;main&quot; java.lang.ExceptionInInitializerError\r\n            at org.jboss.as.server.Main.main(Main.java:73)\r\n            at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n            at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\r\n            at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n            at java.lang.reflect.Method.invoke(Method.java:606)\r\n            at org.jboss.modules.Module.run(Module.java:260)\r\n            at org.jboss.modules.Main.main(Main.java:291)\r\n    Caused by: java.lang.IllegalStateException: The LogManager was not properly installed (you must set the &quot;java.util.logging.manager&quot; system property to &quot;org.jboss.logmanager.LogManager&quot;)\r\n            at org.jboss.logmanager.Logger.getLogger(Logger.java:60)\r\n            at org.jboss.logmanager.log4j.BridgeRepositorySelector.&lt;clinit&gt;(BridgeRepositorySelector.java:42)\r\n            ... 7 more\r\n\r\nNow I&#39;m out of ideas what to do next. I haven&#39;t found anything on google either. Can someone help me please?\r\n","title":"jboss could not load logmanager","body":"<p>I'm trying to enable JMX on a JBoss AS 7.1.1 Final \"Brontes\".\nSofar I edited the startup.conf in jboss/bin to hold these following lines:</p>\n\n<pre><code># Enable JMX Remote\nJAVA_OPTS=\"$JAVA_OPTS -Dcom.sun.management.jmxremote.port=9999\"\nJAVA_OPTS=\"$JAVA_OPTS -Dcom.sun.management.jmxremote.authenticate=false\"\nJAVA_OPTS=\"$JAVA_OPTS -Dcom.sun.management.jmxremote.ssl=false\"\n</code></pre>\n\n<p>then on starting the jboss I got following error message:</p>\n\n<pre><code>&gt; WARNING: Failed to load the specified log manager class\n&gt; org.jboss.logmanager.LogManager Exception in thread \"main\"\n&gt; java.lang.NoClassDefFoundError: org/jboss/logmanager/Level\n&gt;         at java.lang.Class.forName0(Native Method)\n&gt;         at java.lang.Class.forName(Class.java:278)\n&gt;         at org.jboss.modules.Module.run(Module.java:247)\n&gt;         at org.jboss.modules.Main.main(Main.java:291) Caused by: java.lang.ClassNotFoundException: org.jboss.logmanager.Level\n&gt;         at java.net.URLClassLoader$1.run(URLClassLoader.java:359)\n&gt;         at java.net.URLClassLoader$1.run(URLClassLoader.java:348)\n&gt;         at java.security.AccessController.doPrivileged(Native Method)\n&gt;         at java.net.URLClassLoader.findClass(URLClassLoader.java:347)\n&gt;         at java.lang.ClassLoader.loadClass(ClassLoader.java:425)\n&gt;         at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:312)\n&gt;         at java.lang.ClassLoader.loadClass(ClassLoader.java:358)\n&gt;         at org.jboss.modules.ConcurrentClassLoader.performLoadClass(ConcurrentClassLoader.java:395)\n&gt;         at org.jboss.modules.ConcurrentClassLoader.loadClass(ConcurrentClassLoader.java:120)\n&gt;         ... 4 more\n</code></pre>\n\n<p>Then I added following lines to the standalone.conf </p>\n\n<pre><code>JBOSS_MODULES_SYSTEM_PKGS=\"org.jboss.logmanager\"\n</code></pre>\n\n<p>and</p>\n\n<pre><code>JAVA_OPTS=\"$JAVA_OPTS -Djava.util.logging.manager=org.jboss.logmanager.LogManager\"\n    JAVA_OPTS=\"$JAVA_OPTS -Xbootclasspath/p:$JBOSS_HOME/modules/org/jboss/logmanager/main/jboss-logmanager-1.2.2.GA.jar\"\n</code></pre>\n\n<p>but still I'm getting the error</p>\n\n<pre><code>Could not load Logmanager \"org.jboss.logmanager.LogManager\"\njava.lang.ClassNotFoundException: org.jboss.logmanager.LogManager\n        at java.net.URLClassLoader$1.run(URLClassLoader.java:359)\n        at java.net.URLClassLoader$1.run(URLClassLoader.java:348)\n        at java.security.AccessController.doPrivileged(Native Method)\n        at java.net.URLClassLoader.findClass(URLClassLoader.java:347)\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:425)\n        at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:312)\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:358)\n        at java.util.logging.LogManager$1.run(LogManager.java:191)\n        at java.security.AccessController.doPrivileged(Native Method)\n        at java.util.logging.LogManager.&lt;clinit&gt;(LogManager.java:181)\n        at java.util.logging.Logger.demandLogger(Logger.java:339)\n        at java.util.logging.Logger.getLogger(Logger.java:393)\n        at com.sun.jmx.remote.util.ClassLogger.&lt;init&gt;(ClassLogger.java:55)\n        at sun.management.jmxremote.ConnectorBootstrap.&lt;clinit&gt;(ConnectorBootstrap.java:846)\n        at sun.management.Agent.startAgent(Agent.java:260)\n        at sun.management.Agent.startAgent(Agent.java:450)\nWARNING: Failed to load the specified log manager class org.jboss.logmanager.LogManager\nException in thread \"main\" java.lang.ExceptionInInitializerError\n        at org.jboss.as.server.Main.main(Main.java:73)\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.lang.reflect.Method.invoke(Method.java:606)\n        at org.jboss.modules.Module.run(Module.java:260)\n        at org.jboss.modules.Main.main(Main.java:291)\nCaused by: java.lang.IllegalStateException: The LogManager was not properly installed (you must set the \"java.util.logging.manager\" system property to \"org.jboss.logmanager.LogManager\")\n        at org.jboss.logmanager.Logger.getLogger(Logger.java:60)\n        at org.jboss.logmanager.log4j.BridgeRepositorySelector.&lt;clinit&gt;(BridgeRepositorySelector.java:42)\n        ... 7 more\n</code></pre>\n\n<p>Now I'm out of ideas what to do next. I haven't found anything on google either. Can someone help me please?</p>\n"},{"tags":["java","multithreading","casting"],"comments":[{"owner":{"account_id":212518,"reputation":43399,"user_id":465378,"accept_rate":85,"display_name":"Alexis King"},"score":3,"creation_date":1360735772,"post_id":14847480,"comment_id":20808380,"body_markdown":"You&#39;re creating an array of `ArrayList` objects here. Are you sure that&#39;s really what you want?","body":"You&#39;re creating an array of <code>ArrayList</code> objects here. Are you sure that&#39;s really what you want?"},{"owner":{"account_id":434144,"reputation":19198,"user_id":819916,"accept_rate":81,"display_name":"AKIWEB"},"score":0,"creation_date":1360736111,"post_id":14847480,"comment_id":20808478,"body_markdown":"@Jake, yeah I needed that. See my updated question with the updated code. Is there anything wrong with that? Or any better approach?","body":"@Jake, yeah I needed that. See my updated question with the updated code. Is there anything wrong with that? Or any better approach?"},{"owner":{"account_id":42792,"reputation":3995,"user_id":124797,"accept_rate":89,"display_name":"Jagannath"},"score":0,"creation_date":1360736386,"post_id":14847480,"comment_id":20808555,"body_markdown":"Not familiar with Java but, don&#39;t you need to specify the type in the ArrayList there ? methods = new ArrayList&lt;Method&gt;[tableLists.size()];","body":"Not familiar with Java but, don&#39;t you need to specify the type in the ArrayList there ? methods = new ArrayList&lt;Method&gt;[tableLists.size()];"}],"answers":[{"tags":[],"owner":{"account_id":212518,"reputation":43399,"user_id":465378,"accept_rate":85,"display_name":"Alexis King"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1360736321,"creation_date":1360736321,"answer_id":14847622,"question_id":14847480,"body_markdown":"Since the methods themselves don&#39;t seem to be separated in any particular way, why not just store them all in the same `ArrayList`, bypassing the problem entirely?\r\n\r\n    ArrayList&lt;Method&gt; methods;\r\n    \r\n    /* ... */\r\n    \r\n    methods.addAll(getRequiredMethods(map.get(&quot;SUFFIX&quot;)));\r\n\r\nArrays and generics tend not to play very nice with each other. If you *really* need the separation, you have to primary options:\r\n\r\n1. Use an `ArrayList&lt;ArrayList&lt;Method&gt;&gt;` instead of an array. This will let you handle everything nicely without mucking with plain arrays. You can then efficiently initialize the `methods` object with a size just like with a regular array.\r\n\r\n        methods = new ArrayList&lt;ArrayList&lt;Method&gt;&gt;(tableLists.size());\r\n2. If you *really* need to use an array, you&#39;ll probably have to suppress the warning using the `@SuppressWarnings(&quot;unchecked&quot;)` annotation. This is ugly and annoying, so I&#39;d avoid it if you can.","title":"Type safety: The expression of type ArrayList[] needs unchecked conversion","body":"<p>Since the methods themselves don't seem to be separated in any particular way, why not just store them all in the same <code>ArrayList</code>, bypassing the problem entirely?</p>\n\n<pre><code>ArrayList&lt;Method&gt; methods;\n\n/* ... */\n\nmethods.addAll(getRequiredMethods(map.get(\"SUFFIX\")));\n</code></pre>\n\n<p>Arrays and generics tend not to play very nice with each other. If you <em>really</em> need the separation, you have to primary options:</p>\n\n<ol>\n<li><p>Use an <code>ArrayList&lt;ArrayList&lt;Method&gt;&gt;</code> instead of an array. This will let you handle everything nicely without mucking with plain arrays. You can then efficiently initialize the <code>methods</code> object with a size just like with a regular array.</p>\n\n<pre><code>methods = new ArrayList&lt;ArrayList&lt;Method&gt;&gt;(tableLists.size());\n</code></pre></li>\n<li>If you <em>really</em> need to use an array, you'll probably have to suppress the warning using the <code>@SuppressWarnings(\"unchecked\")</code> annotation. This is ugly and annoying, so I'd avoid it if you can.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":28893620,"reputation":1,"user_id":22130163,"display_name":"Johnny Blakeney"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687868327,"creation_date":1687728605,"answer_id":76552484,"question_id":14847480,"body_markdown":"Try the following way to create an array list,\r\n\r\n    private ArrayList&lt;Method&gt; methods[] = new ArrayList&lt;&gt;();","title":"Type safety: The expression of type ArrayList[] needs unchecked conversion","body":"<p>Try the following way to create an array list,</p>\n<pre><code>private ArrayList&lt;Method&gt; methods[] = new ArrayList&lt;&gt;();\n</code></pre>\n"}],"owner":{"account_id":434144,"reputation":19198,"user_id":819916,"accept_rate":81,"display_name":"AKIWEB"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11170,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":14847622,"answer_count":2,"score":1,"last_activity_date":1687868327,"creation_date":1360735718,"question_id":14847480,"body_markdown":"I am working on a project in which I am getting TypeSafety issues on initializing one method with a particular size. In my run method, I have yellow line on the `new ArrayList[tableLists.size()]` and complaining about-\r\n\r\n`Type safety: The expression of type ArrayList[] needs unchecked conversion to conform to ArrayList&lt;Method&gt;[]`\r\n\r\nBelow is the code.\r\n\r\n    private ArrayList&lt;Method&gt; methods[] = null;\r\n    \r\n    \r\n    \t@Override\r\n    \tpublic void run() {\r\n    \r\n    \t\tmethods = new ArrayList[tableLists.size()];\r\n    \r\n    \r\n    \t}\r\n\r\nHow can I fix this `TypeSafety` issue here?\r\n\r\n\r\n**Updated:-**\r\n\r\n\t\tint j = 0;\r\n\t\tdbConnection = new Connection[tableLists.size()];\r\n\t\tcallableStatement = new CallableStatement[tableLists.size()];\r\n\t\tmethods = new ArrayList[tableLists.size()];\r\n\r\n\t\t//loop around the map values and make the connection list\r\n\t\tfor (Map&lt;String, String&gt; map : tableLists.values()) {\r\n\r\n\t\t\tdbConnection[j] = getDBConnection(map.get(&quot;URL&quot;), map.get(&quot;USER&quot;), map.get(&quot;PASSWORD&quot;),\tmap.get(&quot;DRIVER&quot;));\r\n\t\t\tcallableStatement[j] = dbConnection[j].prepareCall(map.get(&quot;SQL&quot;));\r\n\r\n\t\t\tmethods[j] = getRequiredMethods(map.get(&quot;SUFFIX&quot;));\r\n\t\t\tj++;\r\n\t\t}","title":"Type safety: The expression of type ArrayList[] needs unchecked conversion","body":"<p>I am working on a project in which I am getting TypeSafety issues on initializing one method with a particular size. In my run method, I have yellow line on the <code>new ArrayList[tableLists.size()]</code> and complaining about-</p>\n\n<p><code>Type safety: The expression of type ArrayList[] needs unchecked conversion to conform to ArrayList&lt;Method&gt;[]</code></p>\n\n<p>Below is the code.</p>\n\n<pre><code>private ArrayList&lt;Method&gt; methods[] = null;\n\n\n    @Override\n    public void run() {\n\n        methods = new ArrayList[tableLists.size()];\n\n\n    }\n</code></pre>\n\n<p>How can I fix this <code>TypeSafety</code> issue here?</p>\n\n<p><strong>Updated:-</strong></p>\n\n<pre><code>    int j = 0;\n    dbConnection = new Connection[tableLists.size()];\n    callableStatement = new CallableStatement[tableLists.size()];\n    methods = new ArrayList[tableLists.size()];\n\n    //loop around the map values and make the connection list\n    for (Map&lt;String, String&gt; map : tableLists.values()) {\n\n        dbConnection[j] = getDBConnection(map.get(\"URL\"), map.get(\"USER\"), map.get(\"PASSWORD\"), map.get(\"DRIVER\"));\n        callableStatement[j] = dbConnection[j].prepareCall(map.get(\"SQL\"));\n\n        methods[j] = getRequiredMethods(map.get(\"SUFFIX\"));\n        j++;\n    }\n</code></pre>\n"},{"tags":["java","cdi"],"comments":[{"owner":{"account_id":8909811,"reputation":2612,"user_id":6650475,"display_name":"Andrew S"},"score":0,"creation_date":1687868582,"post_id":76564482,"comment_id":134994259,"body_markdown":"Consider injecting a `Map&lt;String, A&gt;` into `TempVacA` which contains all available implementations, with the key related to `value`.  Then use the `value` to determine which implementation should be used.","body":"Consider injecting a <code>Map&lt;String, A&gt;</code> into <code>TempVacA</code> which contains all available implementations, with the key related to <code>value</code>.  Then use the <code>value</code> to determine which implementation should be used."}],"owner":{"account_id":294406,"reputation":24602,"user_id":598289,"accept_rate":85,"display_name":"SJuan76"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687868167,"creation_date":1687866034,"question_id":76564482,"body_markdown":"I had the following interface\r\n```\r\npublic interface A {\r\n    InputStream getPdf(String value);\r\n}\r\n```\r\nwith several implementations, each of them marked by a qualifier. For example:\r\n```\r\n@Dependent\r\n@Vac\r\npublic class VacA implements A {\r\n   @Override public getPdf(String value) {...}\r\n}\r\n```\r\n\r\nNow, I had to add an alternative implementation for each of the qualified beans. Easy enough:\r\n```\r\n@Dependent\r\n@Vac\r\n@Alternative\r\npublic class AltVacA implements A {\r\n   @Override public InputStream getPdf(String value) {...}\r\n}\r\n```\r\nand of course I reflected that at *beans.xml*.\r\n\r\nBut later I was told that the logic used would be decided at runtime. Instead of a @Provider, I opted for creating a third implementation that works as a facade&lt;sup&gt;1&lt;/sup&gt;:\r\n```\r\n@Dependent\r\n@Vac\r\n@Alternative\r\npublic class TempVacA implements A {\r\n   @Override public InputStream getPdf(String value) {\r\n       if (useVacA()) {\r\n          return this.getPdfVacA(value);\r\n       }\r\n       return this.getPdfAltVacA(value);\r\n   }\r\n   ...\r\n}\r\n```\r\nThen it comes the issue: in *getPdfVacA* I can programmatically get a *VacA* instance with the following code:\r\n\r\n```\r\nInstance&lt;VacA&gt; instance = CDI.current().select(VacA.class, new AnnotationLiteral&lt;Vac&gt;() {});\r\nVacA provider = instance.get();\r\nreturn provider.getPdf(value);\r\n```\r\nbut if I try to do the same with *AltVacA*,\r\n```\r\nInstance&lt;VacA&gt; instance = CDI.current().select(AltVacA.class, new AnnotationLiteral&lt;Vac&gt;() {});\r\nAltVacAprovider = instance.get();\r\nreturn provider.getPdf(value);\r\n```\r\nI get a message that no matching class with the proper qualifiers has been found.\r\n\r\nI did find that Alternatives must be activated in order to be retrieved, and sure enough, I did remove the *@Alternative* from *AltVacA* and the code does work.\r\n\r\nBut I do not like that now I have two &quot;default&quot; implementations of *A* with the *@Vac* qualifier; if I were ever to delete *TempVacA* I would have issues due to it and I would have to work one of those as alternative.\r\n\r\nIt would be nice to find a way to programmatically retrieve alternatives, but I cannot find any way to do this. Otherwise, there is any be a better approach for this task than the one I have used?\r\n\r\nI am using wildfly 14 on JDK 8.\r\n\r\n&lt;sup&gt;1&lt;/sup&gt;Maybe a little weird, but as long as I know this design decission does not affect the issue stated in the question.\r\n\r\n","title":"Obtaining CDI Alternatives programatically","body":"<p>I had the following interface</p>\n<pre><code>public interface A {\n    InputStream getPdf(String value);\n}\n</code></pre>\n<p>with several implementations, each of them marked by a qualifier. For example:</p>\n<pre><code>@Dependent\n@Vac\npublic class VacA implements A {\n   @Override public getPdf(String value) {...}\n}\n</code></pre>\n<p>Now, I had to add an alternative implementation for each of the qualified beans. Easy enough:</p>\n<pre><code>@Dependent\n@Vac\n@Alternative\npublic class AltVacA implements A {\n   @Override public InputStream getPdf(String value) {...}\n}\n</code></pre>\n<p>and of course I reflected that at <em>beans.xml</em>.</p>\n<p>But later I was told that the logic used would be decided at runtime. Instead of a @Provider, I opted for creating a third implementation that works as a facade<sup>1</sup>:</p>\n<pre><code>@Dependent\n@Vac\n@Alternative\npublic class TempVacA implements A {\n   @Override public InputStream getPdf(String value) {\n       if (useVacA()) {\n          return this.getPdfVacA(value);\n       }\n       return this.getPdfAltVacA(value);\n   }\n   ...\n}\n</code></pre>\n<p>Then it comes the issue: in <em>getPdfVacA</em> I can programmatically get a <em>VacA</em> instance with the following code:</p>\n<pre><code>Instance&lt;VacA&gt; instance = CDI.current().select(VacA.class, new AnnotationLiteral&lt;Vac&gt;() {});\nVacA provider = instance.get();\nreturn provider.getPdf(value);\n</code></pre>\n<p>but if I try to do the same with <em>AltVacA</em>,</p>\n<pre><code>Instance&lt;VacA&gt; instance = CDI.current().select(AltVacA.class, new AnnotationLiteral&lt;Vac&gt;() {});\nAltVacAprovider = instance.get();\nreturn provider.getPdf(value);\n</code></pre>\n<p>I get a message that no matching class with the proper qualifiers has been found.</p>\n<p>I did find that Alternatives must be activated in order to be retrieved, and sure enough, I did remove the <em>@Alternative</em> from <em>AltVacA</em> and the code does work.</p>\n<p>But I do not like that now I have two &quot;default&quot; implementations of <em>A</em> with the <em>@Vac</em> qualifier; if I were ever to delete <em>TempVacA</em> I would have issues due to it and I would have to work one of those as alternative.</p>\n<p>It would be nice to find a way to programmatically retrieve alternatives, but I cannot find any way to do this. Otherwise, there is any be a better approach for this task than the one I have used?</p>\n<p>I am using wildfly 14 on JDK 8.</p>\n<p><sup>1</sup>Maybe a little weird, but as long as I know this design decission does not affect the issue stated in the question.</p>\n"},{"tags":["java","selenium-webdriver","jenkins","cucumber","testng"],"answers":[{"tags":[],"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1687859500,"creation_date":1687859500,"answer_id":76563650,"question_id":76562033,"body_markdown":"The only way to properly preserve data from one run to another (apart from source control) is to use archived artifacts. You&#39;ll need to do this in two stages.\r\n\r\nStage 1:\r\n* run the job like it&#39;s the first time; you will have no Excel file present\r\n* at the end of the job, archive the Excel file as an artifact\r\n\r\nStage 2:\r\n* update the job to download the same artifact from the job itself; the Excel file will be present in your job now\r\n* at the end of the job, archive the now updated Excel file (you shouldn&#39;t have to make any changes to your job)","title":"How to have an excel file that gets updated for every jenkins run and use the updated excel file for next jenkins run?","body":"<p>The only way to properly preserve data from one run to another (apart from source control) is to use archived artifacts. You'll need to do this in two stages.</p>\n<p>Stage 1:</p>\n<ul>\n<li>run the job like it's the first time; you will have no Excel file present</li>\n<li>at the end of the job, archive the Excel file as an artifact</li>\n</ul>\n<p>Stage 2:</p>\n<ul>\n<li>update the job to download the same artifact from the job itself; the Excel file will be present in your job now</li>\n<li>at the end of the job, archive the now updated Excel file (you shouldn't have to make any changes to your job)</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":17770522,"reputation":89,"user_id":12904248,"display_name":"NoNoNo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687868057,"creation_date":1687868057,"answer_id":76564751,"question_id":76562033,"body_markdown":"[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/rFQCn.png\r\n\r\nI had to exclude .git folder as well to exclude my excel file. Now Jenkins clone all other files except my excel file. Thanks for the support.","title":"How to have an excel file that gets updated for every jenkins run and use the updated excel file for next jenkins run?","body":"<p><a href=\"https://i.stack.imgur.com/rFQCn.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/rFQCn.png\" alt=\"enter image description here\" /></a></p>\n<p>I had to exclude .git folder as well to exclude my excel file. Now Jenkins clone all other files except my excel file. Thanks for the support.</p>\n"}],"owner":{"account_id":17770522,"reputation":89,"user_id":12904248,"display_name":"NoNoNo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":244,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1687868057,"creation_date":1687846053,"question_id":76562033,"body_markdown":"I have a selenium cucumber framework repo that resides in git. I have an excel file that store the data (ex. customerIds) and I will have to use that data in subsequent run. Now I have added the excel sheet in git repo. Now when I rerun the build, jenkins pulls the data which is there in the git repo but not from the previous run&#39;s excel sheet. \r\n\r\nNote:- I am deleting the workspace before the build starts. I have tried to exclude the file using the pattern \r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ITbwc.png","title":"How to have an excel file that gets updated for every jenkins run and use the updated excel file for next jenkins run?","body":"<p>I have a selenium cucumber framework repo that resides in git. I have an excel file that store the data (ex. customerIds) and I will have to use that data in subsequent run. Now I have added the excel sheet in git repo. Now when I rerun the build, jenkins pulls the data which is there in the git repo but not from the previous run's excel sheet.</p>\n<p>Note:- I am deleting the workspace before the build starts. I have tried to exclude the file using the pattern\n<a href=\"https://i.stack.imgur.com/ITbwc.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ITbwc.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","kotlin"],"comments":[{"owner":{"account_id":2068268,"reputation":42279,"user_id":1843331,"accept_rate":100,"display_name":"Tim"},"score":1,"creation_date":1644318888,"post_id":71032860,"comment_id":125569362,"body_markdown":"*In Java, we only need 1 field* and a function","body":"<i>In Java, we only need 1 field</i> and a function"},{"owner":{"account_id":17000499,"reputation":48397,"user_id":12299000,"display_name":"kaya3"},"score":0,"creation_date":1644319070,"post_id":71032860,"comment_id":125569428,"body_markdown":"My guess would be that the former compiles to a private field and a getter method, while the latter compiles to a public or package-private field. Perhaps the more important difference is that the backing property can be lazily initialised, though.","body":"My guess would be that the former compiles to a private field and a getter method, while the latter compiles to a public or package-private field. Perhaps the more important difference is that the backing property can be lazily initialised, though."},{"owner":{"account_id":1692034,"reputation":3196,"user_id":1554195,"display_name":"tquadrat"},"score":0,"creation_date":1644319297,"post_id":71032860,"comment_id":125569511,"body_markdown":"@Tim – If you want to nitpick, in Java we need a field and a *method*. Although for my understanding, the sample that the thread owner is wondering about defines a function (or method), too – in addition to the two fields (or properties …)","body":"@Tim – If you want to nitpick, in Java we need a field and a <i>method</i>. Although for my understanding, the sample that the thread owner is wondering about defines a function (or method), too – in addition to the two fields (or properties …)"},{"owner":{"account_id":12411897,"reputation":8867,"user_id":12191177,"display_name":"IR42"},"score":4,"creation_date":1644319689,"post_id":71032860,"comment_id":125569663,"body_markdown":"backing property is used for cases when you need some mutable object (e.g. `MutableList`) inside the class, but you expose some narrower type or immutable interface (`List`) outside","body":"backing property is used for cases when you need some mutable object (e.g. <code>MutableList</code>) inside the class, but you expose some narrower type or immutable interface (<code>List</code>) outside"},{"owner":{"account_id":202054,"reputation":23899,"user_id":448875,"display_name":"broot"},"score":1,"creation_date":1644320748,"post_id":71032860,"comment_id":125570082,"body_markdown":"Adding to what @IR42 said. Note that in the example from the official docs (https://kotlinlang.org/docs/properties.html#backing-properties) both properties have different types. Kotlin doesn&#39;t provide a way to expose narrower type publicly and wider type internally and this is one of reasons to use a backing prop. Another is property delegates.","body":"Adding to what @IR42 said. Note that in the example from the official docs (<a href=\"https://kotlinlang.org/docs/properties.html#backing-properties\" rel=\"nofollow noreferrer\">kotlinlang.org/docs/properties.html#backing-properties</a>) both properties have different types. Kotlin doesn&#39;t provide a way to expose narrower type publicly and wider type internally and this is one of reasons to use a backing prop. Another is property delegates."}],"answers":[{"tags":[],"owner":{"account_id":13722742,"reputation":16978,"user_id":10134209,"display_name":"gidds"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1644347618,"creation_date":1644323433,"answer_id":71033952,"question_id":71032860,"body_markdown":"_(This answer starts with some general info about Kotlin properties, as there seems to be general confusion about them.)_\r\n\r\nThe main conceptual difference between Kotlin and Java is that **in Java, the fundamental thing is the field, while in Kotlin the fundamental thing is the accessor method(s)**.\r\n\r\nSo in Java, you define a field. You can then define explicit getter and/or setter methods for it, if needed. The language doesn&#39;t have a concept of ‘property’, nor does it define any explicit connection between the accessors and the field; but there&#39;s a long-standing convention in the accessor method names (deriving originally from [JavaBeans](https://en.wikipedia.org/wiki/JavaBeans)) that almost everyone follows.\r\n\r\nThis is clear, but long-winded. And because it&#39;s only a convention, the language doesn&#39;t force you to match fields with accessors: you can have accessors with different types, setters without getters and vice versa, or even accessors with no field. (Some of those things are desirable, but others are more likely to cause bugs and confusion!)\r\n\r\nKotlin, however, takes the view that the accessors are the important thing. (This is an example of the general principle that you should program to the interface, not caring about how it may be implemented.) In effect, a [property](https://kotlinlang.org/docs/properties.html) _is_ its accessor(s). As long as you have a getter method, then you can get the property&#39;s value; and as long as you have a setter method, then you can set it too.\r\n\r\nBecause getters and setters are usually trivial, Kotlin defines them implicitly unless you tell it otherwise. So when you write:\r\n\r\n    val myProperty = 1\r\n\r\nthen Kotlin creates:\r\n* A private field called `myProperty`, with the type inferred as `Int`, and initialised to the value 1.\r\n* A getter method called `getMyProperty()`, with public scope (as that&#39;s the default), returning an `Int`.\r\n\r\nThat&#39;s just what you&#39;d do in Java, only more concise.\r\n\r\nWhat&#39;s different is that **whenever you refer to the property, you&#39;re calling the accessor method, _not_ accessing the field directly**. (That&#39;s why it&#39;s called a [backing field](https://kotlinlang.org/docs/properties.html#backing-fields) — its only purpose is for the accessor(s) to use.)\r\n\r\nOf course, the effect is identical unless you override the accessor. For example:\r\n\r\n    val myProperty = 1\r\n        get() {\r\n            LOG.info(&quot;Getting value of myProperty = $field&quot;)\r\n            return field\r\n        }\r\n\r\n(`field` is a special keyword within getters and setters, referring to their backing field.)\r\n\r\nAs before, this generates a field and a getter method; but the getter method is specified in the code and not autogenerated.\r\n\r\n(I haven&#39;t referred to mutable properties or setters, but the principle there is the same: if the property is a `var`, then you get an autogenerated or explicit setter method too. One Java possibility that Kotlin _doesn&#39;t_ support is write-only properties, where some scope can see a setter but no getter. But those are rarely used; you can always use a normal method to set them, which is probably clearer.)\r\n\r\nThere&#39;s one more case to consider. In Java, a getter method can exist on its own, without a corresponding field. (It must then get its value from some other source — maybe by performing a calculation on other fields, or getting it from another object, or even using a hard-coded value.)\r\n\r\nYou can do the same in Kotlin, by overriding the getter (and setter, if mutable) and _not_ referring to the `field`, e.g.:\r\n\r\n    val myProperty: Int\r\n        get() = someOtherObject.someOtherProperty\r\n\r\nIn this case, there would be no point in generating a field, because it would never be used! So Kotlin recognises this and generates _only_ the accessor method(s).\r\n\r\nIt&#39;s still a property, because it still has accessor method(s), and the rest of the code can&#39;t see any difference. Whether it has a backing field or not is purely an implementation detail.\r\n\r\n---\r\n\r\nThis question is asking about a ‘backing _property_’. The [official docs](https://kotlinlang.org/docs/properties.html#backing-properties) use that term for a separate, private property which ‘shadows’ an existing one, as shown in this question. (Thanks to cactustictacs for the reference.)\r\n\r\nThere are specific situations where a backing property can be useful. For example, suppose you need to refer to a specific type within the class, but expose only a supertype publicly; the private property could be of the specific type, and then the public one could be of the supertype.\r\n\r\nHowever, that&#39;s _not_ needed simply to restrict the visibility of a setter method: as the question demonstrates, that can be done explicitly (e.g. by adding `private set` to the property definition).\r\n\r\n(In my experience, backing properties are needed very rarely.)","title":"I have a hard time understanding the purpose of a &quot;backing property&quot;","body":"<p><em>(This answer starts with some general info about Kotlin properties, as there seems to be general confusion about them.)</em></p>\n<p>The main conceptual difference between Kotlin and Java is that <strong>in Java, the fundamental thing is the field, while in Kotlin the fundamental thing is the accessor method(s)</strong>.</p>\n<p>So in Java, you define a field. You can then define explicit getter and/or setter methods for it, if needed. The language doesn't have a concept of ‘property’, nor does it define any explicit connection between the accessors and the field; but there's a long-standing convention in the accessor method names (deriving originally from <a href=\"https://en.wikipedia.org/wiki/JavaBeans\" rel=\"nofollow noreferrer\">JavaBeans</a>) that almost everyone follows.</p>\n<p>This is clear, but long-winded. And because it's only a convention, the language doesn't force you to match fields with accessors: you can have accessors with different types, setters without getters and vice versa, or even accessors with no field. (Some of those things are desirable, but others are more likely to cause bugs and confusion!)</p>\n<p>Kotlin, however, takes the view that the accessors are the important thing. (This is an example of the general principle that you should program to the interface, not caring about how it may be implemented.) In effect, a <a href=\"https://kotlinlang.org/docs/properties.html\" rel=\"nofollow noreferrer\">property</a> <em>is</em> its accessor(s). As long as you have a getter method, then you can get the property's value; and as long as you have a setter method, then you can set it too.</p>\n<p>Because getters and setters are usually trivial, Kotlin defines them implicitly unless you tell it otherwise. So when you write:</p>\n<pre><code>val myProperty = 1\n</code></pre>\n<p>then Kotlin creates:</p>\n<ul>\n<li>A private field called <code>myProperty</code>, with the type inferred as <code>Int</code>, and initialised to the value 1.</li>\n<li>A getter method called <code>getMyProperty()</code>, with public scope (as that's the default), returning an <code>Int</code>.</li>\n</ul>\n<p>That's just what you'd do in Java, only more concise.</p>\n<p>What's different is that <strong>whenever you refer to the property, you're calling the accessor method, <em>not</em> accessing the field directly</strong>. (That's why it's called a <a href=\"https://kotlinlang.org/docs/properties.html#backing-fields\" rel=\"nofollow noreferrer\">backing field</a> — its only purpose is for the accessor(s) to use.)</p>\n<p>Of course, the effect is identical unless you override the accessor. For example:</p>\n<pre><code>val myProperty = 1\n    get() {\n        LOG.info(&quot;Getting value of myProperty = $field&quot;)\n        return field\n    }\n</code></pre>\n<p>(<code>field</code> is a special keyword within getters and setters, referring to their backing field.)</p>\n<p>As before, this generates a field and a getter method; but the getter method is specified in the code and not autogenerated.</p>\n<p>(I haven't referred to mutable properties or setters, but the principle there is the same: if the property is a <code>var</code>, then you get an autogenerated or explicit setter method too. One Java possibility that Kotlin <em>doesn't</em> support is write-only properties, where some scope can see a setter but no getter. But those are rarely used; you can always use a normal method to set them, which is probably clearer.)</p>\n<p>There's one more case to consider. In Java, a getter method can exist on its own, without a corresponding field. (It must then get its value from some other source — maybe by performing a calculation on other fields, or getting it from another object, or even using a hard-coded value.)</p>\n<p>You can do the same in Kotlin, by overriding the getter (and setter, if mutable) and <em>not</em> referring to the <code>field</code>, e.g.:</p>\n<pre><code>val myProperty: Int\n    get() = someOtherObject.someOtherProperty\n</code></pre>\n<p>In this case, there would be no point in generating a field, because it would never be used! So Kotlin recognises this and generates <em>only</em> the accessor method(s).</p>\n<p>It's still a property, because it still has accessor method(s), and the rest of the code can't see any difference. Whether it has a backing field or not is purely an implementation detail.</p>\n<hr />\n<p>This question is asking about a ‘backing <em>property</em>’. The <a href=\"https://kotlinlang.org/docs/properties.html#backing-properties\" rel=\"nofollow noreferrer\">official docs</a> use that term for a separate, private property which ‘shadows’ an existing one, as shown in this question. (Thanks to cactustictacs for the reference.)</p>\n<p>There are specific situations where a backing property can be useful. For example, suppose you need to refer to a specific type within the class, but expose only a supertype publicly; the private property could be of the specific type, and then the public one could be of the supertype.</p>\n<p>However, that's <em>not</em> needed simply to restrict the visibility of a setter method: as the question demonstrates, that can be done explicitly (e.g. by adding <code>private set</code> to the property definition).</p>\n<p>(In my experience, backing properties are needed very rarely.)</p>\n"},{"tags":[],"owner":{"account_id":238127,"reputation":86162,"user_id":506796,"accept_rate":83,"display_name":"Tenfour04"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1687867943,"creation_date":1644329020,"answer_id":71035232,"question_id":71032860,"body_markdown":"You&#39;re right, there&#39;s no reason to do this:\r\n```kotlin\r\nprivate var _word = &quot;test&quot;\r\nval word: String\r\n   get() = _word\r\n```\r\nBecause you can just do this:\r\n```kotlin\r\nvar word = &quot;test&quot;\r\n    private set\r\n```\r\n\r\nJust like in Java with a private field and a getter method, you can choose later to change getter logic without breaking external code. In Java you could choose to do something more complicated than use a single private backing field. Maybe calculate something involving multiple backing fields, etc. In Kotlin, you can come back later and change it to use other backing properties later if it gets more complicated, and change only the getter implementation.\r\n\r\n1. The most common reason I&#39;ve seen to use a backing property is so you can return a less specific type in your public property:\r\n\r\n```kotlin\r\nprivate val _myList: MutableList&lt;String&gt; = mutableListOf()\r\nval myList: List&lt;String&gt; get() = _myList\r\n```\r\nThis code helps prevent outside classes from mutating the returned list. \r\n\r\nThere is an experimental feature that will eventually be available that will likely eliminate this use case for backing properties. The feature is called *explicit backing fields*. You can declare that the backing field of a property to be a more specific type, and then within the class the more specific type is known and usable, for example:\r\n\r\n```kotlin\r\n// Only available as an experimental feature when enabling \r\n// K2 compiler as of Kotlin 1.8.20:\r\nval myList: List&lt;String&gt;\r\n    field = mutableListOf()\r\n```\r\n\r\n2. Another reason to have a backing property is simply when there isn&#39;t a one-to-one correspondence between what you&#39;re returning and how it is stored or generated. For example:\r\n\r\n```kotlin\r\nprivate val myRandom = Random(1234)\r\nval aNumber: Int get() = myRandom.nextInt(100)\r\n```\r\n\r\n 3. You might want to compute a property each time it’s accessed instead of storing it and trying to keep it in sync with what it’s dependent on. \r\n\r\n```\r\ndata class SomeClass(\r\n    var temperatureC: Double\r\n) {\r\n    val temperatureK: Double\r\n        get() = temperatureC + 273.15\r\n}\r\n\r\n","title":"I have a hard time understanding the purpose of a &quot;backing property&quot;","body":"<p>You're right, there's no reason to do this:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>private var _word = &quot;test&quot;\nval word: String\n   get() = _word\n</code></pre>\n<p>Because you can just do this:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>var word = &quot;test&quot;\n    private set\n</code></pre>\n<p>Just like in Java with a private field and a getter method, you can choose later to change getter logic without breaking external code. In Java you could choose to do something more complicated than use a single private backing field. Maybe calculate something involving multiple backing fields, etc. In Kotlin, you can come back later and change it to use other backing properties later if it gets more complicated, and change only the getter implementation.</p>\n<ol>\n<li>The most common reason I've seen to use a backing property is so you can return a less specific type in your public property:</li>\n</ol>\n<pre class=\"lang-kotlin prettyprint-override\"><code>private val _myList: MutableList&lt;String&gt; = mutableListOf()\nval myList: List&lt;String&gt; get() = _myList\n</code></pre>\n<p>This code helps prevent outside classes from mutating the returned list.</p>\n<p>There is an experimental feature that will eventually be available that will likely eliminate this use case for backing properties. The feature is called <em>explicit backing fields</em>. You can declare that the backing field of a property to be a more specific type, and then within the class the more specific type is known and usable, for example:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>// Only available as an experimental feature when enabling \n// K2 compiler as of Kotlin 1.8.20:\nval myList: List&lt;String&gt;\n    field = mutableListOf()\n</code></pre>\n<ol start=\"2\">\n<li>Another reason to have a backing property is simply when there isn't a one-to-one correspondence between what you're returning and how it is stored or generated. For example:</li>\n</ol>\n<pre class=\"lang-kotlin prettyprint-override\"><code>private val myRandom = Random(1234)\nval aNumber: Int get() = myRandom.nextInt(100)\n</code></pre>\n<ol start=\"3\">\n<li>You might want to compute a property each time it’s accessed instead of storing it and trying to keep it in sync with what it’s dependent on.</li>\n</ol>\n<pre><code>data class SomeClass(\n    var temperatureC: Double\n) {\n    val temperatureK: Double\n        get() = temperatureC + 273.15\n}\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18463410,"reputation":18363,"user_id":13598222,"display_name":"cactustictacs"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1644348701,"creation_date":1644348701,"answer_id":71039834,"question_id":71032860,"body_markdown":"One other use for backing properties is to allow you to store a `null` value internally, but expose a non-null type, and provide some fallback value (which you might not want to store, if null has a specific meaning).\r\n\r\nHere&#39;s the example from [the docs][1]:\r\n\r\n````\r\nprivate var _table: Map&lt;String, Int&gt;? = null\r\npublic val table: Map&lt;String, Int&gt;\r\n    get() {\r\n        if (_table == null) {\r\n            _table = HashMap() // Type parameters are inferred\r\n        }\r\n        return _table ?: throw AssertionError(&quot;Set to null by another thread&quot;)\r\n    }\r\n````\r\nWhat&#39;s happening here is your typical singleton ``getInstance()``-style accessor, where if the object isn&#39;t instantiated yet, you create and store it before returning it. Unlike a ``lazy`` delegate, it&#39;s internally a ``var`` meaning it can be replaced with a new ``Map``, or ``null`` in this example (with some handler code anticipating a potential concurrency issue)\r\n\r\nThe caller sees none of this though - outwardly it&#39;s just a plain ``val`` that returns a non-null ``Map``, accessed like any other property, with no need to handle a potential null. All that nullability is abstracted away, it&#39;s an internal detail.\r\n\r\nYou&#39;d have to do the same thing in Java (let&#39;s say if you wanted to use the ``@NonNull`` annotation on your getter), creating an internal variable and wrangling its state. It&#39;s just that in Kotlin, you get a basic backing field &quot;for free&quot; (if you even need one) and it&#39;s only if that isn&#39;t adequately needs-suiting that you need to start creating and poking at properties yourself\r\n\r\n\r\n  [1]: https://kotlinlang.org/docs/properties.html#backing-properties","title":"I have a hard time understanding the purpose of a &quot;backing property&quot;","body":"<p>One other use for backing properties is to allow you to store a <code>null</code> value internally, but expose a non-null type, and provide some fallback value (which you might not want to store, if null has a specific meaning).</p>\n<p>Here's the example from <a href=\"https://kotlinlang.org/docs/properties.html#backing-properties\" rel=\"nofollow noreferrer\">the docs</a>:</p>\n<pre><code>private var _table: Map&lt;String, Int&gt;? = null\npublic val table: Map&lt;String, Int&gt;\n    get() {\n        if (_table == null) {\n            _table = HashMap() // Type parameters are inferred\n        }\n        return _table ?: throw AssertionError(&quot;Set to null by another thread&quot;)\n    }\n</code></pre>\n<p>What's happening here is your typical singleton <code>getInstance()</code>-style accessor, where if the object isn't instantiated yet, you create and store it before returning it. Unlike a <code>lazy</code> delegate, it's internally a <code>var</code> meaning it can be replaced with a new <code>Map</code>, or <code>null</code> in this example (with some handler code anticipating a potential concurrency issue)</p>\n<p>The caller sees none of this though - outwardly it's just a plain <code>val</code> that returns a non-null <code>Map</code>, accessed like any other property, with no need to handle a potential null. All that nullability is abstracted away, it's an internal detail.</p>\n<p>You'd have to do the same thing in Java (let's say if you wanted to use the <code>@NonNull</code> annotation on your getter), creating an internal variable and wrangling its state. It's just that in Kotlin, you get a basic backing field &quot;for free&quot; (if you even need one) and it's only if that isn't adequately needs-suiting that you need to start creating and poking at properties yourself</p>\n"}],"owner":{"account_id":1054291,"reputation":141,"user_id":1057348,"accept_rate":0,"display_name":"diskostu"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1725,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":3,"score":4,"last_activity_date":1687867943,"creation_date":1644318524,"question_id":71032860,"body_markdown":"I am learning Kotlin right now. For context, I am a Java developer for +10 years.\r\n\r\nI stumbled upon the concept of *backing properties*. As I understand it, the problem to be solved is this: I have a property in a class. I want this property to be mutable and visible only in the containing class, so I declare it as `private var`. The property should only be modified in the containing class, but it should be readable outside the class. So, the Kotlin docs propose something like this:\r\n```kotlin\r\nprivate var _word = &quot;test&quot;\r\nval word: String\r\n   get() = _word\r\n```\r\n\r\nThis works and fulfills the above requirements, but this looks a bit odd, for a Java developer. In Java, we only need 1 field (there is no such thing as a property in Java):\r\n```Java\r\nprivate String word = &quot;test&quot;;\r\n\r\npublic String getWord() {\r\n   return word;\r\n}\r\n```\r\nAFAIK, same result.\r\n\r\nToday I learned that in Kotlin, I simply can make a setter private. So what about this Kotlin code:\r\n```Kotlin\r\nvar word = &quot;test&quot;\r\n     private set\r\n```\r\nAll requirements fulfilled, much more concise code.\r\n\r\nIm I missing something? **Why do I need a backing property?**","title":"I have a hard time understanding the purpose of a &quot;backing property&quot;","body":"<p>I am learning Kotlin right now. For context, I am a Java developer for +10 years.</p>\n<p>I stumbled upon the concept of <em>backing properties</em>. As I understand it, the problem to be solved is this: I have a property in a class. I want this property to be mutable and visible only in the containing class, so I declare it as <code>private var</code>. The property should only be modified in the containing class, but it should be readable outside the class. So, the Kotlin docs propose something like this:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>private var _word = &quot;test&quot;\nval word: String\n   get() = _word\n</code></pre>\n<p>This works and fulfills the above requirements, but this looks a bit odd, for a Java developer. In Java, we only need 1 field (there is no such thing as a property in Java):</p>\n<pre><code>private String word = &quot;test&quot;;\n\npublic String getWord() {\n   return word;\n}\n</code></pre>\n<p>AFAIK, same result.</p>\n<p>Today I learned that in Kotlin, I simply can make a setter private. So what about this Kotlin code:</p>\n<pre><code>var word = &quot;test&quot;\n     private set\n</code></pre>\n<p>All requirements fulfilled, much more concise code.</p>\n<p>Im I missing something? <strong>Why do I need a backing property?</strong></p>\n"},{"tags":["java","javafx","linechart"],"comments":[{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":1,"creation_date":1687761661,"post_id":76554029,"comment_id":134976226,"body_markdown":"Yes, I&#39;ve done that before with line charts to make [spark lines](https://en.wikipedia.org/wiki/Sparkline).  I don&#39;t recall what I did though and no longer have the code.  I think it required some code or custom CSS or both to remove axes and change styling.","body":"Yes, I&#39;ve done that before with line charts to make <a href=\"https://en.wikipedia.org/wiki/Sparkline\" rel=\"nofollow noreferrer\">spark lines</a>.  I don&#39;t recall what I did though and no longer have the code.  I think it required some code or custom CSS or both to remove axes and change styling."},{"owner":{"account_id":26015587,"reputation":31,"user_id":19723949,"display_name":"Jaka Kovše"},"score":2,"creation_date":1687780704,"post_id":76554029,"comment_id":134979923,"body_markdown":"Thank you, you&#39;ve gave me just enough info to do it. I just had to remove padding from the charts using css.","body":"Thank you, you&#39;ve gave me just enough info to do it. I just had to remove padding from the charts using css."},{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":1,"creation_date":1687782725,"post_id":76554029,"comment_id":134980379,"body_markdown":"As you have working code at hand, please consider an [answer to your own question](http://meta.stackoverflow.com/q/17463/163188). Also consider [tag:jfreechart-fx] for thumbnails, examined [here](https://stackoverflow.com/q/40441186/230513).","body":"As you have working code at hand, please consider an <a href=\"http://meta.stackoverflow.com/q/17463/163188\">answer to your own question</a>. Also consider <a href=\"https://stackoverflow.com/questions/tagged/jfreechart-fx\">jfreechart-fx</a> for thumbnails, examined <a href=\"https://stackoverflow.com/q/40441186/230513\">here</a>."}],"answers":[{"tags":[],"owner":{"account_id":26015587,"reputation":31,"user_id":19723949,"display_name":"Jaka Kovše"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1687867748,"creation_date":1687867748,"answer_id":76564715,"question_id":76554029,"body_markdown":"After a bit of searching, I found the solution to be quite simple.\r\n\r\nYou need to overwrite the maxSize and minSize properties of the lineChart with the same size:\r\n\r\n    lineChart.setMaxSize(double, double);\r\n    lineChart.setMinSize(double, double);\r\n\r\nIf the minimum size is bigger than the maximum size, the minimum size will overrule. \r\n\r\nYou can also adjust padding of a chart using a css file, which can be imported like this:\r\n\r\n    lineChart.getStylesheet().add(&quot;path/to/stylesheet.css&quot;);\r\n\r\nReference for [fx-css.][1]\r\n\r\n\r\n  [1]: https://docs.oracle.com/javafx/2/api/javafx/scene/doc-files/cssref.html#charts","title":"Is there a way to set minimum size of a LineChart in javafx to less than 200x150 pixels?","body":"<p>After a bit of searching, I found the solution to be quite simple.</p>\n<p>You need to overwrite the maxSize and minSize properties of the lineChart with the same size:</p>\n<pre><code>lineChart.setMaxSize(double, double);\nlineChart.setMinSize(double, double);\n</code></pre>\n<p>If the minimum size is bigger than the maximum size, the minimum size will overrule.</p>\n<p>You can also adjust padding of a chart using a css file, which can be imported like this:</p>\n<pre><code>lineChart.getStylesheet().add(&quot;path/to/stylesheet.css&quot;);\n</code></pre>\n<p>Reference for <a href=\"https://docs.oracle.com/javafx/2/api/javafx/scene/doc-files/cssref.html#charts\" rel=\"nofollow noreferrer\">fx-css.</a></p>\n"}],"owner":{"account_id":26015587,"reputation":31,"user_id":19723949,"display_name":"Jaka Kovše"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1687867748,"creation_date":1687760868,"question_id":76554029,"body_markdown":"I am trying to display 24 LineCharts on a window [4 rows and 6 columns as shown in the picture. The window size is 1368x912 px](https://i.stack.imgur.com/nV1YP.png).\r\n\r\nThe problem I am facing is that I need to show 24 LineCharts on a smaller window than shown on the upper image, but the smallest size of a LineChart is 200x150 px (at least I can&#39;t make it smaller).\r\n\r\nIs there any way to overwrite the LineChart class to enable it to make it smaller?","title":"Is there a way to set minimum size of a LineChart in javafx to less than 200x150 pixels?","body":"<p>I am trying to display 24 LineCharts on a window <a href=\"https://i.stack.imgur.com/nV1YP.png\" rel=\"nofollow noreferrer\">4 rows and 6 columns as shown in the picture. The window size is 1368x912 px</a>.</p>\n<p>The problem I am facing is that I need to show 24 LineCharts on a smaller window than shown on the upper image, but the smallest size of a LineChart is 200x150 px (at least I can't make it smaller).</p>\n<p>Is there any way to overwrite the LineChart class to enable it to make it smaller?</p>\n"},{"tags":["java","spring-boot","graphql"],"owner":{"account_id":6325177,"reputation":1443,"user_id":4911868,"accept_rate":100,"display_name":"javaDeveloper"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687867514,"creation_date":1687867514,"question_id":76564686,"body_markdown":"I have a graphql implementation using SpringBoot\r\n\r\n    &lt;dependency&gt;\r\n       &lt;groupId&gt;com.netflix.graphql.dgs&lt;/groupId&gt;\r\n       &lt;artifactId&gt;graphql-dgs&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n\r\nI have some queries like this\r\n\r\n    @DgsQuery\r\n    @CustomAnnotation\r\n    public Output getOutput(@InputArgument Long input) {\r\n            return new Output(input, &lt;someOtherInput&gt;);\r\n    }\r\n\r\nMy use case is for all DgsQuery annotated using CustomAnnotation I need to pass an extra argument `someOtherInput` This argument is not passed from the client but calculated on server side on each request. \r\n\r\nI have done something similar in Spring Rest using `WebMvcConfigurer` `addArgumentResolvers&#39;\r\n\r\nIs there something similar for `graphql-dgs`\r\n\r\nI am expecting something like this\r\n\r\n    @DgsQuery\r\n    @CustomAnnotation\r\n    public Output getOutput(@InputArgument Long input, @CustomArgument String someOtherInput) {\r\n            return new Output(input, someOtherInput);\r\n    }\r\n\r\n","title":"Custom arguments in DgsQuery - GraphQl Spring Boot","body":"<p>I have a graphql implementation using SpringBoot</p>\n<pre><code>&lt;dependency&gt;\n   &lt;groupId&gt;com.netflix.graphql.dgs&lt;/groupId&gt;\n   &lt;artifactId&gt;graphql-dgs&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>I have some queries like this</p>\n<pre><code>@DgsQuery\n@CustomAnnotation\npublic Output getOutput(@InputArgument Long input) {\n        return new Output(input, &lt;someOtherInput&gt;);\n}\n</code></pre>\n<p>My use case is for all DgsQuery annotated using CustomAnnotation I need to pass an extra argument <code>someOtherInput</code> This argument is not passed from the client but calculated on server side on each request.</p>\n<p>I have done something similar in Spring Rest using <code>WebMvcConfigurer</code> `addArgumentResolvers'</p>\n<p>Is there something similar for <code>graphql-dgs</code></p>\n<p>I am expecting something like this</p>\n<pre><code>@DgsQuery\n@CustomAnnotation\npublic Output getOutput(@InputArgument Long input, @CustomArgument String someOtherInput) {\n        return new Output(input, someOtherInput);\n}\n</code></pre>\n"},{"tags":["java","android"],"owner":{"account_id":28849062,"reputation":1,"user_id":22095348,"display_name":"waqar khalid"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":12,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687867471,"creation_date":1687862342,"question_id":76564022,"body_markdown":"I had use the material widget in my fragment xml but got a error on inflating that xml. I stuck about last 4 hours in there. here is my xml\r\n\r\n    &lt;com.google.android.material.textfield.TextInputLayout\r\n        android:id=&quot;@+id/education_inputtxt_field&quot;\r\n        style=&quot;@style/ShapeAppearanceOverlay.MyApp.TextInputLayout.Rounded&quot;\r\n       ......\r\n        app:layout_constraintTop_toBottomOf=&quot;@id/edu_level_txt&quot;\r\n        app:layout_constraintEnd_toStartOf=&quot;@id/looking_for_inputtextfield&quot;\r\n        &gt;\r\n    \r\n        &lt;com.google.android.material.textfield.TextInputEditText\r\n            android:id=&quot;@+id/edu_selection&quot;\r\n            ........\r\n            android:textColor=&quot;@color/black&quot;\r\n            android:drawableEnd=&quot;@drawable/down_arrow&quot;\r\n            app:layout_constraintBottom_toBottomOf=&quot;@id/edu_level_txt&quot;\r\n            app:layout_constraintEnd_toEndOf=&quot;@id/edu_level_txt&quot; &gt;\r\n    \r\n        &lt;/com.google.android.material.textfield.TextInputEditText&gt;\r\n    &lt;/com.google.android.material.textfield.TextInputLayout&gt;\r\n    \r\n`&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;` In theme \r\n[App:theme](https://i.stack.imgur.com/imXXS.png)\r\nThere is a error i facing on inflating that xml[ Process: Myapp.example.metrimonialapp, PID: 27774\r\nandroid.view.InflateException:](https://i.stack.imgur.com/b3rZB.jpg)\r\n\r\nI want to customize the design of material widgets text input layout but it tackle an error on inflate the xml.","title":"Facing android.view.InflateException: in my xml","body":"<p>I had use the material widget in my fragment xml but got a error on inflating that xml. I stuck about last 4 hours in there. here is my xml</p>\n<pre><code>&lt;com.google.android.material.textfield.TextInputLayout\n    android:id=&quot;@+id/education_inputtxt_field&quot;\n    style=&quot;@style/ShapeAppearanceOverlay.MyApp.TextInputLayout.Rounded&quot;\n   ......\n    app:layout_constraintTop_toBottomOf=&quot;@id/edu_level_txt&quot;\n    app:layout_constraintEnd_toStartOf=&quot;@id/looking_for_inputtextfield&quot;\n    &gt;\n\n    &lt;com.google.android.material.textfield.TextInputEditText\n        android:id=&quot;@+id/edu_selection&quot;\n        ........\n        android:textColor=&quot;@color/black&quot;\n        android:drawableEnd=&quot;@drawable/down_arrow&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;@id/edu_level_txt&quot;\n        app:layout_constraintEnd_toEndOf=&quot;@id/edu_level_txt&quot; &gt;\n\n    &lt;/com.google.android.material.textfield.TextInputEditText&gt;\n&lt;/com.google.android.material.textfield.TextInputLayout&gt;\n</code></pre>\n<p><code>&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;</code> In theme\n<a href=\"https://i.stack.imgur.com/imXXS.png\" rel=\"nofollow noreferrer\">App:theme</a>\nThere is a error i facing on inflating that xml<a href=\"https://i.stack.imgur.com/b3rZB.jpg\" rel=\"nofollow noreferrer\"> Process: Myapp.example.metrimonialapp, PID: 27774\nandroid.view.InflateException:</a></p>\n<p>I want to customize the design of material widgets text input layout but it tackle an error on inflate the xml.</p>\n"},{"tags":["java","spring","hibernate"],"comments":[{"owner":{"account_id":1223835,"reputation":75848,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":0,"creation_date":1474189668,"post_id":39555878,"comment_id":66422902,"body_markdown":"I will note in passing that this is very poor code for a wide variety of reasons. Ideally, use Spring Data JPA (and use constructor injection).","body":"I will note in passing that this is very poor code for a wide variety of reasons. Ideally, use Spring Data JPA (and use constructor injection)."},{"owner":{"account_id":9556421,"reputation":313,"user_id":7098738,"accept_rate":40,"display_name":"shanika yrs"},"score":1,"creation_date":1526467775,"post_id":39555878,"comment_id":87753712,"body_markdown":"You can&#39;t persist with out a transaction. Please look up to your hibernate conf file. It should have provide the transaction through interceptors","body":"You can&#39;t persist with out a transaction. Please look up to your hibernate conf file. It should have provide the transaction through interceptors"}],"answers":[{"tags":[],"owner":{"account_id":4348406,"reputation":1885,"user_id":3549662,"display_name":"GAURAV ROY"},"down_vote_count":2,"up_vote_count":8,"is_accepted":true,"score":6,"last_activity_date":1474190903,"creation_date":1474190903,"answer_id":39556103,"question_id":39555878,"body_markdown":"you cant save or persist object without transaction you have to commit the transaction after saving the object otherwise it won&#39;t save in database.\r\n***Without transaction you can only retrieve object from database*** \r\n\r\n ","title":"Hibernate persist without transaction","body":"<p>you cant save or persist object without transaction you have to commit the transaction after saving the object otherwise it won't save in database.\n<strong><em>Without transaction you can only retrieve object from database</em></strong> </p>\n"},{"tags":[],"owner":{"account_id":9219005,"reputation":364,"user_id":6849141,"display_name":"Bruno Manzo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1474381642,"creation_date":1474381642,"answer_id":39596754,"question_id":39555878,"body_markdown":"As said you CAN&#39;T save anything in the database without a active transaction.\r\nIt seens that you are using a container, in this case Spring. \r\nSpring can control transactions by interceptos like JavaEE.\r\nYou can read more here: http://docs.jboss.org/weld/reference/2.4.0.Final/en-US/html/interceptors.html\r\n\r\nAlso this looks like a really poor example to demonstrate:\r\n\r\n    public class TransactionalInterceptor {\r\n    \r\n        @Inject\r\n        private Session session;\r\n    \r\n        @AroundInvoke\r\n        public Object logMethodEntry(InvocationContext ctx) throws Exception {\r\n            Object result = null;\r\n            boolean openTransaction = !session.getTransaction().isActive();\r\n            if(openTransaction)\r\n                session.getTransaction().begin();\r\n            try {\r\n                result = ctx.proceed();\r\n                if(openTransaction)\r\n                    session.getTransaction().commit();\r\n            } catch (Exception e) {\r\n                session.getTransaction().rollback();\r\n                throw new TransactionException(e);\r\n            }\r\n            return result;\r\n        }\r\n    \r\n    }","title":"Hibernate persist without transaction","body":"<p>As said you CAN'T save anything in the database without a active transaction.\nIt seens that you are using a container, in this case Spring. \nSpring can control transactions by interceptos like JavaEE.\nYou can read more here: <a href=\"http://docs.jboss.org/weld/reference/2.4.0.Final/en-US/html/interceptors.html\" rel=\"nofollow\">http://docs.jboss.org/weld/reference/2.4.0.Final/en-US/html/interceptors.html</a></p>\n\n<p>Also this looks like a really poor example to demonstrate:</p>\n\n<pre><code>public class TransactionalInterceptor {\n\n    @Inject\n    private Session session;\n\n    @AroundInvoke\n    public Object logMethodEntry(InvocationContext ctx) throws Exception {\n        Object result = null;\n        boolean openTransaction = !session.getTransaction().isActive();\n        if(openTransaction)\n            session.getTransaction().begin();\n        try {\n            result = ctx.proceed();\n            if(openTransaction)\n                session.getTransaction().commit();\n        } catch (Exception e) {\n            session.getTransaction().rollback();\n            throw new TransactionException(e);\n        }\n        return result;\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10807011,"reputation":2216,"user_id":15016163,"display_name":"Maicon Mauricio"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1687867378,"creation_date":1663257808,"answer_id":73734277,"question_id":39555878,"body_markdown":"Actually, **IT IS POSSIBLE** to persist without a transaction with Hibernate but it&#39;s **STRONGLY DISCOURAGED** because of performance and data consistency issues.\r\n\r\n### `application.properties`:\r\n\r\n    hibernate.allow_update_outside_transaction=true\r\n\r\n### Spring `application.properties`:\r\n\r\n    spring.jpa.properties.hibernate.allow_update_outside_transaction=true\r\n\r\n\r\n&lt;sub&gt;As I had to use this setting for a very specific reason. I think it might be of use to some people, even though it&#39;s not recommended to be used in production code.&lt;/sub&gt;\r\n","title":"Hibernate persist without transaction","body":"<p>Actually, <strong>IT IS POSSIBLE</strong> to persist without a transaction with Hibernate but it's <strong>STRONGLY DISCOURAGED</strong> because of performance and data consistency issues.</p>\n<h3><code>application.properties</code>:</h3>\n<pre><code>hibernate.allow_update_outside_transaction=true\n</code></pre>\n<h3>Spring <code>application.properties</code>:</h3>\n<pre><code>spring.jpa.properties.hibernate.allow_update_outside_transaction=true\n</code></pre>\n<p><sub>As I had to use this setting for a very specific reason. I think it might be of use to some people, even though it's not recommended to be used in production code.</sub></p>\n"}],"owner":{"account_id":3985953,"reputation":1186,"user_id":5007499,"accept_rate":59,"display_name":"Liumx31"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8072,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":39556103,"answer_count":3,"score":6,"last_activity_date":1687867378,"creation_date":1474189316,"question_id":39555878,"body_markdown":"I was following a tutorial on Hibernate and saw the following code:\r\n\r\n&lt;!-- lang: java --&gt;\r\n\r\n    package com.websystique.spring.dao;\r\n     \r\n    import org.hibernate.Session;\r\n    import org.hibernate.SessionFactory;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n     \r\n    public abstract class AbstractDao {\r\n     \r\n        @Autowired\r\n        private SessionFactory sessionFactory;\r\n     \r\n        protected Session getSession() {\r\n            return sessionFactory.getCurrentSession();\r\n        }\r\n     \r\n        public void persist(Object entity) {\r\n            getSession().persist(entity);\r\n        }\r\n     \r\n        public void delete(Object entity) {\r\n            getSession().delete(entity);\r\n        }\r\n    }\r\n\r\nI was wondering if `persist()` (or `save()` or `delete()`) can be used without a transaction? As it seems to be the case here.","title":"Hibernate persist without transaction","body":"<p>I was following a tutorial on Hibernate and saw the following code:</p>\n\n\n\n<pre><code>package com.websystique.spring.dao;\n\nimport org.hibernate.Session;\nimport org.hibernate.SessionFactory;\nimport org.springframework.beans.factory.annotation.Autowired;\n\npublic abstract class AbstractDao {\n\n    @Autowired\n    private SessionFactory sessionFactory;\n\n    protected Session getSession() {\n        return sessionFactory.getCurrentSession();\n    }\n\n    public void persist(Object entity) {\n        getSession().persist(entity);\n    }\n\n    public void delete(Object entity) {\n        getSession().delete(entity);\n    }\n}\n</code></pre>\n\n<p>I was wondering if <code>persist()</code> (or <code>save()</code> or <code>delete()</code>) can be used without a transaction? As it seems to be the case here.</p>\n"},{"tags":["java","spring","hibernate","jpa","spring-data-jpa"],"answers":[{"tags":[],"owner":{"account_id":2165008,"reputation":2150,"user_id":1918305,"display_name":"user1918305"},"down_vote_count":0,"up_vote_count":180,"is_accepted":false,"score":180,"last_activity_date":1543996988,"creation_date":1390048058,"answer_id":21204085,"question_id":21203875,"body_markdown":"On `saveAndFlush`, changes will be flushed to DB immediately in this command. With `save`, this is not necessarily true, and might stay just in memory, until `flush` or `commit` commands are issued. \r\n\r\nBut be aware, that even if you flush the changes in transaction and do not commit them, the changes still **won&#39;t** be visible to the outside transactions until the commit in this transaction.\r\n\r\nIn your case, you probably use some sort of transactions mechanism, which issues `commit` command for you if everything works out fine.","title":"Difference between save and saveAndFlush in Spring data jpa","body":"<p>On <code>saveAndFlush</code>, changes will be flushed to DB immediately in this command. With <code>save</code>, this is not necessarily true, and might stay just in memory, until <code>flush</code> or <code>commit</code> commands are issued. </p>\n\n<p>But be aware, that even if you flush the changes in transaction and do not commit them, the changes still <strong>won't</strong> be visible to the outside transactions until the commit in this transaction.</p>\n\n<p>In your case, you probably use some sort of transactions mechanism, which issues <code>commit</code> command for you if everything works out fine.</p>\n"},{"tags":[],"owner":{"account_id":1051678,"reputation":6775,"user_id":3063077,"accept_rate":33,"display_name":"Ralf"},"down_vote_count":0,"up_vote_count":53,"is_accepted":false,"score":53,"last_activity_date":1543997051,"creation_date":1390048127,"answer_id":21204100,"question_id":21203875,"body_markdown":"Depending on the hibernate flush mode that you are using (`AUTO` is the default) `save` may or may not write your changes to the DB straight away. When you call `saveAndFlush` you are enforcing the synchronization of your model state with the DB.\r\n\r\nIf you use flush mode AUTO and you are using your application to first save and then select the data again, you will not see a difference in bahvior between `save()` and `saveAndFlush()` because the select triggers a flush first. See the [documention][1].\r\n\r\n\r\n  [1]: http://docs.jboss.org/hibernate/core/4.3/manual/en-US/html/ch11.html#objectstate-flushing","title":"Difference between save and saveAndFlush in Spring data jpa","body":"<p>Depending on the hibernate flush mode that you are using (<code>AUTO</code> is the default) <code>save</code> may or may not write your changes to the DB straight away. When you call <code>saveAndFlush</code> you are enforcing the synchronization of your model state with the DB.</p>\n\n<p>If you use flush mode AUTO and you are using your application to first save and then select the data again, you will not see a difference in bahvior between <code>save()</code> and <code>saveAndFlush()</code> because the select triggers a flush first. See the <a href=\"http://docs.jboss.org/hibernate/core/4.3/manual/en-US/html/ch11.html#objectstate-flushing\" rel=\"noreferrer\">documention</a>.</p>\n"},{"tags":[],"owner":{"account_id":13678477,"reputation":299,"user_id":9869394,"display_name":"Dinushika Rathnayake"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1650538914,"creation_date":1650538914,"answer_id":71953357,"question_id":21203875,"body_markdown":"Both methods are used to save entities to the database. Flushing is the process of synchronizing the state of the persistence context with the underlying database. \r\n\r\nWhen using **saveAndFlush** method, data immediately flush to the database and to do it with the **save** method we need to call **flush**() method explicitly.\r\nUsing flush can read saved changes at a later step during the same transaction but before the commit. So still can **rollback** if no need to **commit**.","title":"Difference between save and saveAndFlush in Spring data jpa","body":"<p>Both methods are used to save entities to the database. Flushing is the process of synchronizing the state of the persistence context with the underlying database.</p>\n<p>When using <strong>saveAndFlush</strong> method, data immediately flush to the database and to do it with the <strong>save</strong> method we need to call <strong>flush</strong>() method explicitly.\nUsing flush can read saved changes at a later step during the same transaction but before the commit. So still can <strong>rollback</strong> if no need to <strong>commit</strong>.</p>\n"},{"tags":[],"owner":{"account_id":17820696,"reputation":86,"user_id":12943132,"display_name":"mahdi rahmani"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1687867009,"creation_date":1687867009,"answer_id":76564606,"question_id":21203875,"body_markdown":"The &quot;save&quot; method is used to save an entity to the database. When you call the &quot;save&quot; method, the entity is first persisted to the database&#39;s transactional buffer, and then, when the transaction is committed, the entity is saved to the database. The &quot;save&quot; method returns the saved entity.\r\n\r\nThe &quot;save and flush&quot; method, on the other hand, does the same thing as &quot;save&quot;, but additionally forces the database to immediately write the pending changes to disk. This can be useful in cases where you need to ensure that the data is immediately persisted to the database, rather than waiting for the transaction to commit.\r\n\r\nIn summary, the main difference between &quot;save&quot; and &quot;save and flush&quot; in Spring Data is that the latter immediately writes the pending changes to the database, while the former waits until the transaction is committed to do so.\r\n\r\nIf you want to save a new entity and use its ID within the same transaction, you should use the &quot;save&quot; method followed by a call to the &quot;flush&quot; method.\r\n\r\nWhen you call the &quot;save&quot; method, the entity is persisted to the transactional buffer, and a temporary ID is assigned to the entity. This ID is generated by the underlying persistence framework and is not the final ID that will be assigned to the entity when it is saved to the database.\r\n\r\nBy calling the &quot;flush&quot; method, you force the underlying persistence framework to immediately write the pending changes to the database. This causes the temporary ID assigned to the entity to be replaced with the final ID assigned by the database.\r\n\r\nOnce the &quot;flush&quot; method has been called, you can safely use the ID of the newly saved entity within the same transaction.","title":"Difference between save and saveAndFlush in Spring data jpa","body":"<p>The &quot;save&quot; method is used to save an entity to the database. When you call the &quot;save&quot; method, the entity is first persisted to the database's transactional buffer, and then, when the transaction is committed, the entity is saved to the database. The &quot;save&quot; method returns the saved entity.</p>\n<p>The &quot;save and flush&quot; method, on the other hand, does the same thing as &quot;save&quot;, but additionally forces the database to immediately write the pending changes to disk. This can be useful in cases where you need to ensure that the data is immediately persisted to the database, rather than waiting for the transaction to commit.</p>\n<p>In summary, the main difference between &quot;save&quot; and &quot;save and flush&quot; in Spring Data is that the latter immediately writes the pending changes to the database, while the former waits until the transaction is committed to do so.</p>\n<p>If you want to save a new entity and use its ID within the same transaction, you should use the &quot;save&quot; method followed by a call to the &quot;flush&quot; method.</p>\n<p>When you call the &quot;save&quot; method, the entity is persisted to the transactional buffer, and a temporary ID is assigned to the entity. This ID is generated by the underlying persistence framework and is not the final ID that will be assigned to the entity when it is saved to the database.</p>\n<p>By calling the &quot;flush&quot; method, you force the underlying persistence framework to immediately write the pending changes to the database. This causes the temporary ID assigned to the entity to be replaced with the final ID assigned by the database.</p>\n<p>Once the &quot;flush&quot; method has been called, you can safely use the ID of the newly saved entity within the same transaction.</p>\n"}],"owner":{"account_id":1176664,"reputation":20820,"user_id":1152500,"accept_rate":47,"display_name":"Anand"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":196014,"favorite_count":0,"down_vote_count":0,"up_vote_count":167,"answer_count":4,"score":167,"last_activity_date":1687867009,"creation_date":1390046871,"question_id":21203875,"body_markdown":"I am trying to learn spring data JPA by testing some CRUD operation via `JpaRepository`.\r\n\r\nI came across two methods `save` and `saveAndFlush`.\r\nI don&#39;t get the difference between these two. On calling `save` also my changes are getting saved into database so what is the use of `saveAndFlush`.","title":"Difference between save and saveAndFlush in Spring data jpa","body":"<p>I am trying to learn spring data JPA by testing some CRUD operation via <code>JpaRepository</code>.</p>\n\n<p>I came across two methods <code>save</code> and <code>saveAndFlush</code>.\nI don't get the difference between these two. On calling <code>save</code> also my changes are getting saved into database so what is the use of <code>saveAndFlush</code>.</p>\n"},{"tags":["java","arrays","csv"],"comments":[{"owner":{"account_id":10528,"reputation":18513,"user_id":19937,"display_name":"Walter Mitty"},"score":0,"creation_date":1687851671,"post_id":76562139,"comment_id":134990662,"body_markdown":"I don&#39;t know how to do this in Java.  But I do know how to read every line, and every column of a csv file in powershell, and stuff the value into a variable with the same name as the column header, except with a dollar sign prefix.  You might be able to use a similar technique.  I wrote a simple csv template engine in powershell.  You can see it at www.github.com/dcressey/expand-csv","body":"I don&#39;t know how to do this in Java.  But I do know how to read every line, and every column of a csv file in powershell, and stuff the value into a variable with the same name as the column header, except with a dollar sign prefix.  You might be able to use a similar technique.  I wrote a simple csv template engine in powershell.  You can see it at www.github.com/dcressey/expand-csv"},{"owner":{"account_id":18459594,"reputation":7,"user_id":13447453,"display_name":"Programmer1988"},"score":0,"creation_date":1687851939,"post_id":76562139,"comment_id":134990727,"body_markdown":"Thanks, @WalterMitty for you support, but I write on Java. And going to get the solution on this programming language","body":"Thanks, @WalterMitty for you support, but I write on Java. And going to get the solution on this programming language"},{"owner":{"account_id":10528,"reputation":18513,"user_id":19937,"display_name":"Walter Mitty"},"score":0,"creation_date":1687852093,"post_id":76562139,"comment_id":134990757,"body_markdown":"Sure thing.  I don&#39;t know how easily the technique ports from powershell to java.  Sorry.","body":"Sure thing.  I don&#39;t know how easily the technique ports from powershell to java.  Sorry."},{"owner":{"account_id":18459594,"reputation":7,"user_id":13447453,"display_name":"Programmer1988"},"score":0,"creation_date":1687852311,"post_id":76562139,"comment_id":134990801,"body_markdown":"@WalterMitty I&#39;ll analyse your github solution , may be will understand the technique which will be useful in my task. Anyway, I appreciate your help","body":"@WalterMitty I&#39;ll analyse your github solution , may be will understand the technique which will be useful in my task. Anyway, I appreciate your help"},{"owner":{"account_id":10528,"reputation":18513,"user_id":19937,"display_name":"Walter Mitty"},"score":0,"creation_date":1687854523,"post_id":76562139,"comment_id":134991231,"body_markdown":"I think you&#39;ll find that my solution is heavily dependent on tools made available in the powershell environment.  I have no ide of the extent to which parallel tools exist in Java libraries.","body":"I think you&#39;ll find that my solution is heavily dependent on tools made available in the powershell environment.  I have no ide of the extent to which parallel tools exist in Java libraries."}],"answers":[{"tags":[],"owner":{"account_id":9527087,"reputation":324,"user_id":7080004,"display_name":"azer-p"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687866677,"creation_date":1687866163,"answer_id":76564502,"question_id":76562139,"body_markdown":"Pseudo code:\r\n1. set targetRoNumber and targetColNumber\r\n2. Create 2 for-loops to track the indexes. The first loop is for the row, second loop is for the column.\r\n3. Create if condition to match the target row and column number\r\n\r\n\r\n```\r\n\t\tString csvFilePath = &quot;D:\\\\Project\\\\sample.csv&quot;;\r\n\r\n\t\ttry {\r\n\t\t\tPath path = Paths.get(csvFilePath);\r\n\t\t\tList&lt;String&gt; lines = Files.readAllLines(path);\r\n\t\t\tint targetRowNumber=5;\r\n\t\t\tint targetColNumber=3;\r\n\t\t\t//Integer extractedNumber=null;\r\n\t\t\tfor(int row=0;row&lt;lines.size();row++) {\r\n\t\t\t\tString line = lines.get(row);\r\n\t\t\t\tString[] fields = line.split(&quot;,&quot;);\r\n\t\t\t\t\r\n\t\t\t\tfor(int col=0;col&lt;fields.length;col++) {\r\n\t\t\t\t\tif(row==targetRowNumber &amp;&amp; col==targetColNumber) {\r\n\t\t\t\t\t\tint extractedNumber = Integer.parseInt(fields[col]);\r\n\t\t\t\t\t\tSystem.out.println(extractedNumber);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\t\r\n\t\t\t}\r\n\t\t} catch (IOException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}catch (NumberFormatException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n```\r\n\r\nor if you dont want loops, just go directly to the index\r\n```\r\n String csvFilePath = &quot;D:\\\\Project\\\\sample.csv&quot;;\r\n        int targetRowNumber = 5;\r\n        int targetColNumber = 3;\r\n\r\n        try {\r\n            List&lt;String&gt; lines = Files.readAllLines(Paths.get(csvFilePath));\r\n\r\n            if (targetRowNumber &lt; lines.size()) {\r\n                String[] fields = lines.get(targetRowNumber).split(&quot;,&quot;);\r\n\r\n                if (targetColNumber &lt; fields.length) {\r\n                    int extractedNumber = Integer.parseInt(fields[targetColNumber]);\r\n                    System.out.println(extractedNumber);\r\n                }\r\n            }\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        } catch (NumberFormatException e) {\r\n            e.printStackTrace();\r\n        }\r\n```","title":"How can I put the desired data from csv right into the variable?","body":"<p>Pseudo code:</p>\n<ol>\n<li>set targetRoNumber and targetColNumber</li>\n<li>Create 2 for-loops to track the indexes. The first loop is for the row, second loop is for the column.</li>\n<li>Create if condition to match the target row and column number</li>\n</ol>\n<pre><code>        String csvFilePath = &quot;D:\\\\Project\\\\sample.csv&quot;;\n\n        try {\n            Path path = Paths.get(csvFilePath);\n            List&lt;String&gt; lines = Files.readAllLines(path);\n            int targetRowNumber=5;\n            int targetColNumber=3;\n            //Integer extractedNumber=null;\n            for(int row=0;row&lt;lines.size();row++) {\n                String line = lines.get(row);\n                String[] fields = line.split(&quot;,&quot;);\n                \n                for(int col=0;col&lt;fields.length;col++) {\n                    if(row==targetRowNumber &amp;&amp; col==targetColNumber) {\n                        int extractedNumber = Integer.parseInt(fields[col]);\n                        System.out.println(extractedNumber);\n                    }\n                }   \n            }\n        } catch (IOException e) {\n            e.printStackTrace();\n        }catch (NumberFormatException e) {\n            e.printStackTrace();\n        }\n</code></pre>\n<p>or if you dont want loops, just go directly to the index</p>\n<pre><code> String csvFilePath = &quot;D:\\\\Project\\\\sample.csv&quot;;\n        int targetRowNumber = 5;\n        int targetColNumber = 3;\n\n        try {\n            List&lt;String&gt; lines = Files.readAllLines(Paths.get(csvFilePath));\n\n            if (targetRowNumber &lt; lines.size()) {\n                String[] fields = lines.get(targetRowNumber).split(&quot;,&quot;);\n\n                if (targetColNumber &lt; fields.length) {\n                    int extractedNumber = Integer.parseInt(fields[targetColNumber]);\n                    System.out.println(extractedNumber);\n                }\n            }\n        } catch (IOException e) {\n            e.printStackTrace();\n        } catch (NumberFormatException e) {\n            e.printStackTrace();\n        }\n</code></pre>\n"}],"owner":{"account_id":18459594,"reputation":7,"user_id":13447453,"display_name":"Programmer1988"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1687866677,"creation_date":1687847396,"question_id":76562139,"body_markdown":"I have the .csv data file to parse and using java language for this purpose.\r\nTherefore, I understand how can I use data and put it to the variable working, for example, with two dimensional arrays:\r\n\r\n\r\n    //working with 2-dimensial Arrays\r\n    int[][] values = { {1, 2, 3, 4, 5}, \r\n                       {6, 7, 8, 9, 10}, \r\n                       {11, 12, 13, 14, 15}, \r\n                       {16, 17, 18, 19, 20}, \r\n                       {21, 22, 23, 24, 25} };\r\n                      \r\n    //output of the 1st column, 1st line array value \r\n    System.out.println(values[0][0]);\r\n\r\n    \tArrayList&lt;String&gt; list = new ArrayList&lt;&gt;(Arrays.asList(&quot;alex&quot;, &quot;brian&quot;, &quot;charles&quot;, &quot;dough&quot;));\r\n    \r\n        String firstName = list.get(0);         \r\n        String secondName = list.get(1); \r\n        \r\n        System.out.println(firstName);\r\n    \r\nBut I need to read the .csv file first and then make the multidimensional array. After this I need to pick up some data and put it into the variables.\r\n    I read csv without any specifical libraries, only standard like this:\r\n\r\n    import java.io.File;\r\n    import java.io.FileNotFoundException;\r\n    import java.util.ArrayList;\r\n    import java.util.Arrays;\r\n    import java.util.List;\r\n    import java.util.Scanner;\r\n    \r\n    \r\n    public class Main\r\n    {\r\n    \tpublic static void main(String[] args) {\r\n    \r\n    \t\tString fileName= &quot;datatry.csv&quot;;\r\n            File file= new File(fileName);\r\n    \r\n          \r\n            List&lt;List&lt;String&gt;&gt; lines = new ArrayList&lt;&gt;();\r\n       \r\n            Scanner inputStream;\r\n    //this scanner of csv doesn&#39;t work without try-catch pair\r\n            try{\r\n                //read the csv file \r\n                inputStream = new Scanner(file);\r\n    \r\n                while(inputStream.hasNext()){\r\n                    String line= inputStream.next();\r\n                    String[] values = line.split(&quot;;&quot;);\r\n                    // this adds the currently parsed line to the 2-dimensional string array\r\n                    lines.add(Arrays.asList(values));\r\n                }\r\n    //System.out.println(value);\r\n    \r\n                inputStream.close();\r\n            }\r\n            \r\n            catch (FileNotFoundException e) {\r\n                e.printStackTrace();\r\n            }\r\n          //  String newst = lines.get(1);\r\n    //System.out.println(newst);\r\n            // the following code lets you iterate through the 2-dimensional array\r\n            int lineNo = 1;\r\n            for(List&lt;String&gt; line: lines) {\r\n                int columnNo = 1;\r\n                for (String value: line) {\r\n                    System.out.println(&quot;Line &quot; + lineNo + &quot; Column &quot; + columnNo + &quot;: &quot; + value);\r\n                    columnNo++;\r\n                }\r\n                lineNo++;\r\n            }\r\n            }}\r\nI guess I need to use Object ?\r\n\r\nHow can I put the value of third column and fifth line of the .csv file into the integer variable?\r\n","title":"How can I put the desired data from csv right into the variable?","body":"<p>I have the .csv data file to parse and using java language for this purpose.\nTherefore, I understand how can I use data and put it to the variable working, for example, with two dimensional arrays:</p>\n<pre><code>//working with 2-dimensial Arrays\nint[][] values = { {1, 2, 3, 4, 5}, \n                   {6, 7, 8, 9, 10}, \n                   {11, 12, 13, 14, 15}, \n                   {16, 17, 18, 19, 20}, \n                   {21, 22, 23, 24, 25} };\n                  \n//output of the 1st column, 1st line array value \nSystem.out.println(values[0][0]);\n\n    ArrayList&lt;String&gt; list = new ArrayList&lt;&gt;(Arrays.asList(&quot;alex&quot;, &quot;brian&quot;, &quot;charles&quot;, &quot;dough&quot;));\n\n    String firstName = list.get(0);         \n    String secondName = list.get(1); \n    \n    System.out.println(firstName);\n</code></pre>\n<p>But I need to read the .csv file first and then make the multidimensional array. After this I need to pick up some data and put it into the variables.\nI read csv without any specifical libraries, only standard like this:</p>\n<pre><code>import java.io.File;\nimport java.io.FileNotFoundException;\nimport java.util.ArrayList;\nimport java.util.Arrays;\nimport java.util.List;\nimport java.util.Scanner;\n\n\npublic class Main\n{\n    public static void main(String[] args) {\n\n        String fileName= &quot;datatry.csv&quot;;\n        File file= new File(fileName);\n\n      \n        List&lt;List&lt;String&gt;&gt; lines = new ArrayList&lt;&gt;();\n   \n        Scanner inputStream;\n//this scanner of csv doesn't work without try-catch pair\n        try{\n            //read the csv file \n            inputStream = new Scanner(file);\n\n            while(inputStream.hasNext()){\n                String line= inputStream.next();\n                String[] values = line.split(&quot;;&quot;);\n                // this adds the currently parsed line to the 2-dimensional string array\n                lines.add(Arrays.asList(values));\n            }\n//System.out.println(value);\n\n            inputStream.close();\n        }\n        \n        catch (FileNotFoundException e) {\n            e.printStackTrace();\n        }\n      //  String newst = lines.get(1);\n//System.out.println(newst);\n        // the following code lets you iterate through the 2-dimensional array\n        int lineNo = 1;\n        for(List&lt;String&gt; line: lines) {\n            int columnNo = 1;\n            for (String value: line) {\n                System.out.println(&quot;Line &quot; + lineNo + &quot; Column &quot; + columnNo + &quot;: &quot; + value);\n                columnNo++;\n            }\n            lineNo++;\n        }\n        }}\n</code></pre>\n<p>I guess I need to use Object ?</p>\n<p>How can I put the value of third column and fifth line of the .csv file into the integer variable?</p>\n"},{"tags":["java","sql","parsing","apache-calcite"],"answers":[{"tags":[],"owner":{"account_id":53933,"reputation":5581,"user_id":161289,"accept_rate":86,"display_name":"zinking"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1464001793,"creation_date":1464001793,"answer_id":37389413,"question_id":37288184,"body_markdown":"I happen to have used `calcite` `sqlParser` a bit. some of the snippet posted below. \r\n\r\n      public void convertSelect(SqlSelect root) {\r\n        convertFrom(root.getFrom());\r\n        convertWhere(root.getWhere());\r\n      }\r\n\r\n      public void convertFrom(SqlNode from) {\r\n        if (from instanceof SqlJoin) {\r\n          convertFromOfJoinExpression((SqlJoin)from);\r\n        }\r\n      }\r\n\r\n      public String extractTableFromJoinNode(SqlNode jnn) {\r\n        if (jnn instanceof SqlBasicCall) {\r\n          SqlBasicCall asExp = (SqlBasicCall)jnn;\r\n          if (asExp.getKind().equals(SqlKind.AS)) {\r\n            extractTableFromJoinNodeAsExpression(asExp);\r\n          }\r\n        }\r\n        return &quot;SomeTableAlias&quot;;\r\n      }\r\n\r\ngenerally, you will get `table` in the `from` statement. and you will get `columns` in `select` statement. \r\n\r\nand last but not least, `calcite` specialises in optimise the query by applying a whole lot of optimising rules.  Depend on what you need (transforming column/table names), `calcite` might not be the best fit. ","title":"apache calcite distinguish column names from table name","body":"<p>I happen to have used <code>calcite</code> <code>sqlParser</code> a bit. some of the snippet posted below. </p>\n\n<pre><code>  public void convertSelect(SqlSelect root) {\n    convertFrom(root.getFrom());\n    convertWhere(root.getWhere());\n  }\n\n  public void convertFrom(SqlNode from) {\n    if (from instanceof SqlJoin) {\n      convertFromOfJoinExpression((SqlJoin)from);\n    }\n  }\n\n  public String extractTableFromJoinNode(SqlNode jnn) {\n    if (jnn instanceof SqlBasicCall) {\n      SqlBasicCall asExp = (SqlBasicCall)jnn;\n      if (asExp.getKind().equals(SqlKind.AS)) {\n        extractTableFromJoinNodeAsExpression(asExp);\n      }\n    }\n    return \"SomeTableAlias\";\n  }\n</code></pre>\n\n<p>generally, you will get <code>table</code> in the <code>from</code> statement. and you will get <code>columns</code> in <code>select</code> statement. </p>\n\n<p>and last but not least, <code>calcite</code> specialises in optimise the query by applying a whole lot of optimising rules.  Depend on what you need (transforming column/table names), <code>calcite</code> might not be the best fit. </p>\n"},{"tags":[],"owner":{"account_id":57693,"reputation":1274,"user_id":172836,"display_name":"Julian Hyde"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1464724755,"creation_date":1464724755,"answer_id":37554628,"question_id":37288184,"body_markdown":"To resolve identifiers to tables and columns, and figure out their types, you will need to use Calcite&#39;s validator (`SqlValidator`). The validator understands SQL name resolution rules (e.g. whether an aliases in a FROM clause can be seen in a sub-query) whereas we intentionally did not make the parser, and the `SqlNode` data structure it produces, aware of such things.\r\n\r\nThe two key concepts in the validator are scopes (`SqlValidatorScope`) and namespaces (`SqlValidatorNamespace`).\r\n\r\nA *scope* is where you are standing and trying to resolve an identifier. For example, you might be in the SELECT clause of a query. Or in the WHERE clause of a particular sub-query. You will be able to see different collections of tables and columns in different scopes. Even a GROUP BY clause and ORDER BY clause have different scopes.\r\n\r\nA *namespace* is something that looks like a table, and has a list of columns. It might be a table or, say, a sub-query in the FROM clause. If you are in a scope, you can look up a table alias, get a namespace, then look at what columns it has.\r\n\r\nFor your purposes, it would be useful if there was a variant of `SqlShuttle` that knew exactly which scope you are in, and where you could ask identifiers to be expanded into table and column references. Unfortunately no one has build such a thing yet.","title":"apache calcite distinguish column names from table name","body":"<p>To resolve identifiers to tables and columns, and figure out their types, you will need to use Calcite's validator (<code>SqlValidator</code>). The validator understands SQL name resolution rules (e.g. whether an aliases in a FROM clause can be seen in a sub-query) whereas we intentionally did not make the parser, and the <code>SqlNode</code> data structure it produces, aware of such things.</p>\n\n<p>The two key concepts in the validator are scopes (<code>SqlValidatorScope</code>) and namespaces (<code>SqlValidatorNamespace</code>).</p>\n\n<p>A <em>scope</em> is where you are standing and trying to resolve an identifier. For example, you might be in the SELECT clause of a query. Or in the WHERE clause of a particular sub-query. You will be able to see different collections of tables and columns in different scopes. Even a GROUP BY clause and ORDER BY clause have different scopes.</p>\n\n<p>A <em>namespace</em> is something that looks like a table, and has a list of columns. It might be a table or, say, a sub-query in the FROM clause. If you are in a scope, you can look up a table alias, get a namespace, then look at what columns it has.</p>\n\n<p>For your purposes, it would be useful if there was a variant of <code>SqlShuttle</code> that knew exactly which scope you are in, and where you could ask identifiers to be expanded into table and column references. Unfortunately no one has build such a thing yet.</p>\n"},{"tags":[],"owner":{"account_id":6740250,"reputation":378,"user_id":5193723,"display_name":"Craynic Cai"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1687866654,"creation_date":1687864458,"answer_id":76564287,"question_id":37288184,"body_markdown":"I&#39;m now using a boolean `isInFrom` in the traveling of my visitor to tell me if this node is in clause `from [xxxx]`.\r\n\r\nHere is a simplified sample of my Visitor implementation.\r\n\r\n    class Visitor extends SqlBasicVisitor&lt;Void&gt; {\r\n        boolean isInFrom = false;\r\n        \r\n        @Override\r\n        Void visit(SqlCall call) {\r\n            switch (call.getKind()) {\r\n                case SELECT:\r\n                    return visit((SqlSelect) call);\r\n                case JOIN:\r\n                    return visit((SqlJoin) call);\r\n                default:\r\n                    return super.visit(call);\r\n            }\r\n        }\r\n\r\n        Void visit(SqlSelect select) {\r\n            boolean isInFromBackup = isInFrom;\r\n            for (SqlNode child : select.getOperandList()) {\r\n                if (child == null) continue;\r\n                isInFrom = select.getFrom() == child;\r\n                child.accept(this);\r\n            }\r\n            isInFrom = isInFromBackup;\r\n            \r\n        }\r\n        \r\n        Void visit(SqlJoin join) {\r\n            boolean isInFromBackup = isInFrom;\r\n            for (SqlNode child : join.getOperandList()) {\r\n                if (child == null) continue;\r\n                if (child == join.getCondition()) {\r\n                    isInFrom = false;\r\n                }\r\n                child.accept(this);\r\n                if (child == join.getCondition()) {\r\n                    isInFrom = isInFromBackup;\r\n                }\r\n            }\r\n        }\r\n\r\n        @Override\r\n        public Void visit(SqlIdentifier id) {\r\n            if (isInFrom) {\r\n                // it&#39;s table name\r\n            } else {\r\n                // it&#39;s field name\r\n            }\r\n        }\r\n    }\r\n\r\nP.S. `isInFrom` is not accurately named, but I haven&#39;t got a better one.","title":"apache calcite distinguish column names from table name","body":"<p>I'm now using a boolean <code>isInFrom</code> in the traveling of my visitor to tell me if this node is in clause <code>from [xxxx]</code>.</p>\n<p>Here is a simplified sample of my Visitor implementation.</p>\n<pre><code>class Visitor extends SqlBasicVisitor&lt;Void&gt; {\n    boolean isInFrom = false;\n    \n    @Override\n    Void visit(SqlCall call) {\n        switch (call.getKind()) {\n            case SELECT:\n                return visit((SqlSelect) call);\n            case JOIN:\n                return visit((SqlJoin) call);\n            default:\n                return super.visit(call);\n        }\n    }\n\n    Void visit(SqlSelect select) {\n        boolean isInFromBackup = isInFrom;\n        for (SqlNode child : select.getOperandList()) {\n            if (child == null) continue;\n            isInFrom = select.getFrom() == child;\n            child.accept(this);\n        }\n        isInFrom = isInFromBackup;\n        \n    }\n    \n    Void visit(SqlJoin join) {\n        boolean isInFromBackup = isInFrom;\n        for (SqlNode child : join.getOperandList()) {\n            if (child == null) continue;\n            if (child == join.getCondition()) {\n                isInFrom = false;\n            }\n            child.accept(this);\n            if (child == join.getCondition()) {\n                isInFrom = isInFromBackup;\n            }\n        }\n    }\n\n    @Override\n    public Void visit(SqlIdentifier id) {\n        if (isInFrom) {\n            // it's table name\n        } else {\n            // it's field name\n        }\n    }\n}\n</code></pre>\n<p>P.S. <code>isInFrom</code> is not accurately named, but I haven't got a better one.</p>\n"}],"owner":{"account_id":6023032,"reputation":433,"user_id":4729589,"accept_rate":75,"display_name":"Piotr Śmietana"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3450,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":37554628,"answer_count":3,"score":5,"last_activity_date":1687866654,"creation_date":1463530349,"question_id":37288184,"body_markdown":"I&#39;m implementing a simple app that changes column names (and leaves table names alone) in SQL statements. The statement is passed as a `String`, and modified one is also returned as a `String`, there&#39;s no database connection involved.\r\n\r\nTo achieve this, I&#39;m using Apache Calcite&#39;s SQL parser. I parse the SQL string to the `SqlNode`, accept a `SqlVisitor` that creates renamed `SqlNode`, and then write everything back to `String` (using `SqlNode.toSqlString()`).\r\n\r\nThe problem is that I don&#39;t know how to tell the difference between columns and tables in parsed `SqlNode` object while accepting a `SqlVisitor`. Both are represented as `SqlIdentifier`, having the same `SqlKind`. Hence, when `SqlVisitor` is visiting the `SqlIdentifier`, it will rename it whether it&#39;s a column or a table.\r\n\r\n    private String changeNames(String str) throws SqlParseException {\r\n        SqlShuttle visitor = new SqlShuttle() {\r\n            private String rename(String str) {\r\n                return str + &quot;-test&quot;;\r\n            }\r\n\r\n            @Override\r\n            public SqlNode visit(SqlIdentifier identifier) {\r\n                SqlIdentifier output = new SqlIdentifier(rename(identifier.getSimple()), identifier.getCollation(), identifier.getParserPosition());\r\n                return output;\r\n            }\r\n        };\r\n\r\n        SqlParser.ConfigBuilder configBuilder =  SqlParser.configBuilder();\r\n        configBuilder.setLex(Lex.MYSQL);\r\n        SqlParser.Config config = configBuilder.build();\r\n\r\n        SqlParser parser = SqlParser.create(str, config);\r\n        SqlNode parsedStatement = parser.parseQuery(str);\r\n        SqlNode outputNode = parsedStatement.accept(visitor);\r\n\r\n        return outputNode.toSqlString(SqlDialect.DUMMY).getSql();\r\n    }\r\n\r\nfor example\r\n\r\n    SELECT name, address, age FROM mytablename WHERE age = 23 AND name = &#39;John&#39;\r\n\r\nwill be modified into\r\n\r\n    SELECT `name-test`, `address-test`, `age-test` FROM `mytablename-test` WHERE `age-test` = 23 AND `name-test` = &#39;John&#39;\r\n\r\nHow could I tell if given `SqlIdentifier` is a column or a table ?","title":"apache calcite distinguish column names from table name","body":"<p>I'm implementing a simple app that changes column names (and leaves table names alone) in SQL statements. The statement is passed as a <code>String</code>, and modified one is also returned as a <code>String</code>, there's no database connection involved.</p>\n\n<p>To achieve this, I'm using Apache Calcite's SQL parser. I parse the SQL string to the <code>SqlNode</code>, accept a <code>SqlVisitor</code> that creates renamed <code>SqlNode</code>, and then write everything back to <code>String</code> (using <code>SqlNode.toSqlString()</code>).</p>\n\n<p>The problem is that I don't know how to tell the difference between columns and tables in parsed <code>SqlNode</code> object while accepting a <code>SqlVisitor</code>. Both are represented as <code>SqlIdentifier</code>, having the same <code>SqlKind</code>. Hence, when <code>SqlVisitor</code> is visiting the <code>SqlIdentifier</code>, it will rename it whether it's a column or a table.</p>\n\n<pre><code>private String changeNames(String str) throws SqlParseException {\n    SqlShuttle visitor = new SqlShuttle() {\n        private String rename(String str) {\n            return str + \"-test\";\n        }\n\n        @Override\n        public SqlNode visit(SqlIdentifier identifier) {\n            SqlIdentifier output = new SqlIdentifier(rename(identifier.getSimple()), identifier.getCollation(), identifier.getParserPosition());\n            return output;\n        }\n    };\n\n    SqlParser.ConfigBuilder configBuilder =  SqlParser.configBuilder();\n    configBuilder.setLex(Lex.MYSQL);\n    SqlParser.Config config = configBuilder.build();\n\n    SqlParser parser = SqlParser.create(str, config);\n    SqlNode parsedStatement = parser.parseQuery(str);\n    SqlNode outputNode = parsedStatement.accept(visitor);\n\n    return outputNode.toSqlString(SqlDialect.DUMMY).getSql();\n}\n</code></pre>\n\n<p>for example</p>\n\n<pre><code>SELECT name, address, age FROM mytablename WHERE age = 23 AND name = 'John'\n</code></pre>\n\n<p>will be modified into</p>\n\n<pre><code>SELECT `name-test`, `address-test`, `age-test` FROM `mytablename-test` WHERE `age-test` = 23 AND `name-test` = 'John'\n</code></pre>\n\n<p>How could I tell if given <code>SqlIdentifier</code> is a column or a table ?</p>\n"},{"tags":["java","regex","string"],"comments":[{"owner":{"account_id":2062486,"reputation":6486,"user_id":1838726,"accept_rate":63,"display_name":"Daniel S."},"score":3,"creation_date":1421418598,"post_id":27986122,"comment_id":44363108,"body_markdown":"Valid, understandable question. How easy and simple it might be, it deserves an answer and no close votes.","body":"Valid, understandable question. How easy and simple it might be, it deserves an answer and no close votes."},{"owner":{"account_id":2201295,"reputation":19001,"user_id":1945631,"display_name":"Andy Brown"},"score":5,"creation_date":1421418703,"post_id":27986122,"comment_id":44363178,"body_markdown":"I think this would be a valid question if it showed (a) example input strings (b) expected output (c) how the OP has tried to attempt the problem and (d) what the issue with the OP&#39;s attempted solution is.","body":"I think this would be a valid question if it showed (a) example input strings (b) expected output (c) how the OP has tried to attempt the problem and (d) what the issue with the OP&#39;s attempted solution is."},{"owner":{"account_id":2345668,"reputation":13002,"user_id":2055998,"accept_rate":68,"display_name":"PM 77-1"},"score":0,"creation_date":1421418865,"post_id":27986122,"comment_id":44363280,"body_markdown":"@DanielS. - Nothing stops **you** from providing such answer, especially since you see the question as both valid and understandable.","body":"@DanielS. - Nothing stops <b>you</b> from providing such answer, especially since you see the question as both valid and understandable."},{"owner":{"account_id":3395647,"reputation":8918,"user_id":2849346,"accept_rate":50,"display_name":"MWiesner"},"score":1,"creation_date":1421419142,"post_id":27986122,"comment_id":44363451,"body_markdown":"I doubt that @Panos knows about using regular expressions in a helpful way given his level of skills. Most obviously, most programmers would use regular expression, but this does not help the guy who asked that question!","body":"I doubt that @Panos knows about using regular expressions in a helpful way given his level of skills. Most obviously, most programmers would use regular expression, but this does not help the guy who asked that question!"},{"owner":{"account_id":2525773,"reputation":188,"user_id":2195203,"display_name":"Bryan Devaney"},"score":1,"creation_date":1421419335,"post_id":27986122,"comment_id":44363561,"body_markdown":"OK, While I&#39;m pretty sure this has been answered multiple times before i&#39;ll take a crack.\n\nString.isEmpty() will tell you if there is anything in the string at all.\nAssuming there is,\nyou could use String.indexOf(int ch) where ch is a-z,A-Z,0-9 to check for at least 1 number and letter.\nBut a better Solution is to use String.matches(String regex) with something like [a-zA-Z0-9 _]","body":"OK, While I&#39;m pretty sure this has been answered multiple times before i&#39;ll take a crack.  String.isEmpty() will tell you if there is anything in the string at all. Assuming there is, you could use String.indexOf(int ch) where ch is a-z,A-Z,0-9 to check for at least 1 number and letter. But a better Solution is to use String.matches(String regex) with something like [a-zA-Z0-9 _]"},{"owner":{"display_name":"user2983190"},"score":0,"creation_date":1421656291,"post_id":27986122,"comment_id":44427343,"body_markdown":"By the way i figured out the solution. In case anybody enters this he can see how i solved it in the following code:\n if (Pattern.compile(&quot;[0-9]&quot;).matcher(password).find() &amp;&amp;(Pattern.compile(&quot;[a-zA-Z]&quot;).matcher(password).find()))","body":"By the way i figured out the solution. In case anybody enters this he can see how i solved it in the following code:  if (Pattern.compile(&quot;[0-9]&quot;).matcher(password).find() &amp;&amp;(Pattern.compile(&quot;[a-zA-Z]&quot;).matcher(password).find()))"}],"owner":{"display_name":"user2983190"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":75,"favorite_count":0,"down_vote_count":3,"up_vote_count":3,"answer_count":0,"score":0,"last_activity_date":1687866527,"creation_date":1421418473,"question_id":27986122,"body_markdown":"I wanted to ask if anybody knows how I can check in a string if there is at least a character (either small or big) and if there is at least a number in Java.\r\n\r\nAny ideas? Thanks!","title":"How can I check if a string has characters and numbers Java","body":"<p>I wanted to ask if anybody knows how I can check in a string if there is at least a character (either small or big) and if there is at least a number in Java.</p>\n\n<p>Any ideas? Thanks!</p>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":195331,"reputation":275398,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":0,"creation_date":1435161373,"post_id":31031320,"comment_id":50087195,"body_markdown":"What do you think the pattern literal `^[\\\\ \\\\&#39;\\\\-]` represents? Why do you think so?","body":"What do you think the pattern literal <code>^[\\\\ \\\\&#39;\\\\-]</code> represents? Why do you think so?"},{"owner":{"account_id":195331,"reputation":275398,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":0,"creation_date":1435161436,"post_id":31031320,"comment_id":50087237,"body_markdown":"Also why aren&#39;t you using `String#startsWith`?","body":"Also why aren&#39;t you using <code>String#startsWith</code>?"},{"owner":{"account_id":1739731,"reputation":169,"user_id":1591474,"accept_rate":40,"display_name":"Happy"},"score":0,"creation_date":1435161530,"post_id":31031320,"comment_id":50087317,"body_markdown":"I am using     public static final Pattern VALID_NAMEFIELD_CHARACTERS = Pattern\n\t\t\t.compile(&quot;([a-zA-Z &#224;&#226;&#228;&#232;&#233;&#234;&#235;&#238;&#239;&#244;œ&#249;&#251;&#252;&#255;&#231;&#192;&#194;&#196;&#200;&#201;&#202;&#203;&#206;&#207;&#212;Œ&#217;&#219;&#220;Ÿ&#199;\\\\ \\\\&#39;\\\\-])*&quot;);\n\nand it is working fine \njust not able check the first character","body":"I am using     public static final Pattern VALID_NAMEFIELD_CHARACTERS = Pattern \t\t\t.compile(&quot;([a-zA-Z &#224;&#226;&#228;&#232;&#233;&#234;&#235;&#238;&#239;&#244;œ&#249;&#251;&#252;&#255;&#231;&#192;&#194;&#196;&#200;&#201;&#202;&#203;&#206;&#207;&#212;Œ&#217;&#219;&#220;Ÿ&#199;\\\\ \\\\&#39;\\\\-])*&quot;);  and it is working fine  just not able check the first character"},{"owner":{"account_id":1739731,"reputation":169,"user_id":1591474,"accept_rate":40,"display_name":"Happy"},"score":0,"creation_date":1435161700,"post_id":31031320,"comment_id":50087427,"body_markdown":"@SotiriosDelimanolis I need to do all 3 validation at one time \nif I use string start with I have to use 3 time","body":"@SotiriosDelimanolis I need to do all 3 validation at one time  if I use string start with I have to use 3 time"},{"owner":{"account_id":195331,"reputation":275398,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":0,"creation_date":1435161750,"post_id":31031320,"comment_id":50087469,"body_markdown":"Why do you _have to_? Do you think it&#39;s faster, more efficient? Why do you think so?","body":"Why do you <i>have to</i>? Do you think it&#39;s faster, more efficient? Why do you think so?"},{"owner":{"account_id":1739731,"reputation":169,"user_id":1591474,"accept_rate":40,"display_name":"Happy"},"score":0,"creation_date":1435162246,"post_id":31031320,"comment_id":50087817,"body_markdown":"@SotiriosDelimanolis because I need it","body":"@SotiriosDelimanolis because I need it"},{"owner":{"account_id":5012123,"reputation":13192,"user_id":4028085,"display_name":"brso05"},"score":0,"creation_date":1435162329,"post_id":31031320,"comment_id":50087874,"body_markdown":"@SotiriosDelimanolis he doesn&#39;t `&quot;Why do you have to?&quot;` have to use regex but the code is cleaner if he does...I don&#39;t think it has anything to do with being faster or more efficient just cleaner looking code. Better readability...","body":"@SotiriosDelimanolis he doesn&#39;t <code>&quot;Why do you have to?&quot;</code> have to use regex but the code is cleaner if he does...I don&#39;t think it has anything to do with being faster or more efficient just cleaner looking code. Better readability..."}],"answers":[{"tags":[],"owner":{"account_id":5012123,"reputation":13192,"user_id":4028085,"display_name":"brso05"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1435161758,"creation_date":1435161758,"answer_id":31031468,"question_id":31031320,"body_markdown":"You can change yours like this and it will work:\r\n\r\n    public static void main(String[] args) throws FileNotFoundException {\r\n\t\tSystem.out.println(isValidFirstChar(&quot;-test&quot;));\r\n\t\tSystem.out.println(isValidFirstChar(&quot;\\\\test&quot;));\r\n\t\tSystem.out.println(isValidFirstChar(&quot;\\&#39;test&quot;));\r\n\t\tSystem.out.println(isValidFirstChar(&quot;test&quot;));\r\n\t}\r\n\tpublic static final Pattern VALID_FIRST_CHARACTERS = Pattern.compile(&quot;^[\\\\\\\\ \\\\&#39; \\\\-].*&quot;);\r\n\r\n\tpublic static boolean isValidFirstChar(String name) {\r\n\t    if (VALID_FIRST_CHARACTERS.matcher(name).matches()) {\r\n\t        return true;\r\n\t    }\r\n\t    return false;\r\n\t}\r\n\r\nThe result of this is:\r\n\r\n    true\r\n    true\r\n    true\r\n    false\r\n\r\nYou must escape the `\\\\` for java but also for regex that is why you need `\\\\\\\\` this will become `\\\\` when translated for the regex...\r\n\r\nThe `.*` on the end means match anything after...So it starts with `\\ or &#39; or -` and is followed by anything.","title":"Java pattern first letter should not be hyphens (-), apostrophes (‘), and spaces ( )","body":"<p>You can change yours like this and it will work:</p>\n\n<pre><code>public static void main(String[] args) throws FileNotFoundException {\n    System.out.println(isValidFirstChar(\"-test\"));\n    System.out.println(isValidFirstChar(\"\\\\test\"));\n    System.out.println(isValidFirstChar(\"\\'test\"));\n    System.out.println(isValidFirstChar(\"test\"));\n}\npublic static final Pattern VALID_FIRST_CHARACTERS = Pattern.compile(\"^[\\\\\\\\ \\\\' \\\\-].*\");\n\npublic static boolean isValidFirstChar(String name) {\n    if (VALID_FIRST_CHARACTERS.matcher(name).matches()) {\n        return true;\n    }\n    return false;\n}\n</code></pre>\n\n<p>The result of this is:</p>\n\n<pre><code>true\ntrue\ntrue\nfalse\n</code></pre>\n\n<p>You must escape the <code>\\\\</code> for java but also for regex that is why you need <code>\\\\\\\\</code> this will become <code>\\\\</code> when translated for the regex...</p>\n\n<p>The <code>.*</code> on the end means match anything after...So it starts with <code>\\ or ' or -</code> and is followed by anything.</p>\n"}],"owner":{"account_id":1739731,"reputation":169,"user_id":1591474,"accept_rate":40,"display_name":"Happy"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":637,"favorite_count":0,"down_vote_count":3,"up_vote_count":1,"accepted_answer_id":31031468,"answer_count":1,"score":-2,"last_activity_date":1687866402,"creation_date":1435161311,"question_id":31031320,"body_markdown":"I am using this pattern to check \r\n    \r\n    public static final Pattern VALID_FIRST_CHARACTERS = Pattern.compile(&quot;^[\\\\ \\\\&#39;\\\\-]&quot;);\r\n    \r\n    public boolean isValidFirstChar(String name) {\r\n\t\tif (VALID_FIRST_CHARACTERS.matcher(name).matches()) {\r\n\t\t\treturn true;\r\n\t\t}\r\n\t\treturn false;\r\n\t}\r\n\r\nno luck, can somebody help me please ?","title":"Java pattern first letter should not be hyphens (-), apostrophes (‘), and spaces ( )","body":"<p>I am using this pattern to check </p>\n\n<pre><code>public static final Pattern VALID_FIRST_CHARACTERS = Pattern.compile(\"^[\\\\ \\\\'\\\\-]\");\n\npublic boolean isValidFirstChar(String name) {\n    if (VALID_FIRST_CHARACTERS.matcher(name).matches()) {\n        return true;\n    }\n    return false;\n}\n</code></pre>\n\n<p>no luck, can somebody help me please ?</p>\n"},{"tags":["java","regex"],"answers":[{"tags":[],"owner":{"account_id":3438751,"reputation":172981,"user_id":3297613,"accept_rate":74,"display_name":"Avinash Raj"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1435407351,"creation_date":1435407351,"answer_id":31088649,"question_id":31088597,"body_markdown":"Seems like you want to allow, spaces, alphabets, digits, dot, plus, minus.\r\n\r\n    Pattern p = Pattern.compile(&quot;^[A-Za-z,.+\\\\s\\\\d-]+$&quot;);","title":"Java regex: select from a set of characters","body":"<p>Seems like you want to allow, spaces, alphabets, digits, dot, plus, minus.</p>\n\n<pre><code>Pattern p = Pattern.compile(\"^[A-Za-z,.+\\\\s\\\\d-]+$\");\n</code></pre>\n"}],"owner":{"account_id":3306342,"reputation":651,"user_id":2781042,"accept_rate":57,"display_name":"cadebe"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":777,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":31088649,"answer_count":1,"score":1,"last_activity_date":1687866364,"creation_date":1435407032,"question_id":31088597,"body_markdown":"I am parsing text and need to detect if any string contains any character NOT including A-Z, 0-9, full stop, comma, plus, minus, or any number of spaces.\r\n\r\nI tried the regex expression: &quot;[^A-Z0-9][^.][^,][^-][^+][\\\\S+]&quot;\r\n\r\nas well as variations on this, which does not work correctly.\r\n\r\nExamples of permissible strings:\r\n\r\n    1 23842U 96021A   15170.20596865  .00000124  00000-0  00000+0 0  9998\r\n    2 23842   0.0589 306.1344 0002868 147.0577 292.5546  1.00269795 70198\r\n\r\nInvalid string:\r\n\r\n    1 2%8!2U 96021A   15170.20596865  .00000124  ^00000-0  00000+0 0  9998\r\n\r\n","title":"Java regex: select from a set of characters","body":"<p>I am parsing text and need to detect if any string contains any character NOT including A-Z, 0-9, full stop, comma, plus, minus, or any number of spaces.</p>\n\n<p>I tried the regex expression: \"[^A-Z0-9][^.][^,][^-][^+][\\S+]\"</p>\n\n<p>as well as variations on this, which does not work correctly.</p>\n\n<p>Examples of permissible strings:</p>\n\n<pre><code>1 23842U 96021A   15170.20596865  .00000124  00000-0  00000+0 0  9998\n2 23842   0.0589 306.1344 0002868 147.0577 292.5546  1.00269795 70198\n</code></pre>\n\n<p>Invalid string:</p>\n\n<pre><code>1 2%8!2U 96021A   15170.20596865  .00000124  ^00000-0  00000+0 0  9998\n</code></pre>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":1394089,"reputation":40460,"user_id":1424875,"accept_rate":86,"display_name":"nanofarad"},"score":2,"creation_date":1435696779,"post_id":31148073,"comment_id":50306439,"body_markdown":"Did you make any attempt to do this yourself? The java.util.regex.Pattern javadoc seems to be pretty clear on how to use the metacharacters.","body":"Did you make any attempt to do this yourself? The java.util.regex.Pattern javadoc seems to be pretty clear on how to use the metacharacters."},{"owner":{"account_id":333028,"reputation":5096,"user_id":658663,"accept_rate":80,"display_name":"beresfordt"},"score":1,"creation_date":1435696780,"post_id":31148073,"comment_id":50306441,"body_markdown":"You should get some pointers from https://docs.oracle.com/javase/tutorial/essential/regex/char_classes.html","body":"You should get some pointers from <a href=\"https://docs.oracle.com/javase/tutorial/essential/regex/char_classes.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/tutorial/essential/regex/&hellip;</a>"},{"owner":{"display_name":"user557597"},"score":0,"creation_date":1435697254,"post_id":31148073,"comment_id":50306664,"body_markdown":"`(?:[all special characters](?&lt;![\\d()| -]))+` is one way. The ways this can be expressed is endless..","body":"<code>(?:[all special characters](?&lt;![\\d()| -]))+</code> is one way. The ways this can be expressed is endless.."},{"owner":{"account_id":4363480,"reputation":1648,"user_id":3559908,"display_name":"Vall0n"},"score":0,"creation_date":1435697457,"post_id":31148073,"comment_id":50306769,"body_markdown":"Try [^()|\\- a-zA-Z0-9]","body":"Try [^()|\\- a-zA-Z0-9]"},{"owner":{"account_id":6553465,"reputation":11,"user_id":5067010,"display_name":"Jacky"},"score":0,"creation_date":1435697767,"post_id":31148073,"comment_id":50306953,"body_markdown":"Thanks... But I have got another combination [^0-9\\\\s\\\\|\\\\(\\\\)\\\\-]","body":"Thanks... But I have got another combination [^0-9\\\\s\\\\|\\&#40;\\&#41;\\\\-]"},{"owner":{"account_id":10959,"reputation":74232,"user_id":20938,"display_name":"Alan Moore"},"score":0,"creation_date":1435716645,"post_id":31148073,"comment_id":50312842,"body_markdown":"@ShellFish: **Every** regex question is a possible duplicate of that one; that&#39;s why they closed it. ;)","body":"@ShellFish: <b>Every</b> regex question is a possible duplicate of that one; that&#39;s why they closed it. ;)"},{"owner":{"account_id":1892463,"reputation":4381,"user_id":1775715,"accept_rate":100,"display_name":"ShellFish"},"score":0,"creation_date":1435732743,"post_id":31148073,"comment_id":50317607,"body_markdown":"No, only incredibly basic ones are. Posts that don&#39;t show effort and are solvable with minimal effort and a single read through that guide are dupes.","body":"No, only incredibly basic ones are. Posts that don&#39;t show effort and are solvable with minimal effort and a single read through that guide are dupes."}],"answers":[{"tags":[],"owner":{"account_id":1729031,"reputation":7249,"user_id":1583052,"accept_rate":86,"display_name":"Dipu"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1435719744,"creation_date":1435698094,"answer_id":31148431,"question_id":31148073,"body_markdown":"If you want to find all characters separately you can use this pattern-\r\n\r\n    /[^ 0123456789()|\\-]/g\r\n\r\nOr if you want to find blocks of consecutive characters, you should use this-\r\n    \r\n    /[^ 0123456789()|\\-]+/g\r\n\r\nThis will identify all characters except those inside `[^(*this part*)]`\r\n\r\nBy the way, if you want to research further about regex pattern [http://regexr.com/](http://regexr.com/) will be very helpful. There are quick references and tutorials to help you learn the basics of regex quickly.\r\n","title":"java regex Pattern.compile multiple characters","body":"<p>If you want to find all characters separately you can use this pattern-</p>\n\n<pre><code>/[^ 0123456789()|\\-]/g\n</code></pre>\n\n<p>Or if you want to find blocks of consecutive characters, you should use this-</p>\n\n<pre><code>/[^ 0123456789()|\\-]+/g\n</code></pre>\n\n<p>This will identify all characters except those inside <code>[^(*this part*)]</code></p>\n\n<p>By the way, if you want to research further about regex pattern <a href=\"http://regexr.com/\" rel=\"nofollow\">http://regexr.com/</a> will be very helpful. There are quick references and tutorials to help you learn the basics of regex quickly.</p>\n"}],"owner":{"account_id":6553465,"reputation":11,"user_id":5067010,"display_name":"Jacky"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":3485,"favorite_count":0,"down_vote_count":7,"up_vote_count":1,"answer_count":1,"score":-6,"last_activity_date":1687866345,"creation_date":1435696642,"question_id":31148073,"body_markdown":"I need to write a java pattern to identify all special characters except `&quot;0123456789&quot;` or `&quot;(&quot;` or `&quot;)&quot;` or `&quot;|&quot;` or `&quot;-&quot;` or `&quot; &quot;`.\r\n\r\nCan somebody help me to get an answer?\r\n\r\nI wanted to use `Pattern.compile` and `pattern.matcher` to find out this.","title":"java regex Pattern.compile multiple characters","body":"<p>I need to write a java pattern to identify all special characters except <code>\"0123456789\"</code> or <code>\"(\"</code> or <code>\")\"</code> or <code>\"|\"</code> or <code>\"-\"</code> or <code>\" \"</code>.</p>\n\n<p>Can somebody help me to get an answer?</p>\n\n<p>I wanted to use <code>Pattern.compile</code> and <code>pattern.matcher</code> to find out this.</p>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":4739783,"reputation":612574,"user_id":3832970,"display_name":"Wiktor Stribiżew"},"score":0,"creation_date":1445346179,"post_id":33237389,"comment_id":54277567,"body_markdown":"What are you working on? What is the issue?","body":"What are you working on? What is the issue?"},{"owner":{"account_id":3296070,"reputation":4445,"user_id":2773311,"accept_rate":73,"display_name":"Arc676"},"score":0,"creation_date":1445346575,"post_id":33237389,"comment_id":54277853,"body_markdown":"Why do you need the leading `0`, the `;`, the parens, and the `&quot;`? According to your question, you are simply trying to match numeric strings. You can just use `^[0-9 ]+$`. It matches any string composed of _only_ and _at least one_ number or whitespace character. You didn&#39;t specify capturing text `(...)` in your question.","body":"Why do you need the leading <code>0</code>, the <code>;</code>, the parens, and the <code>&quot;</code>? According to your question, you are simply trying to match numeric strings. You can just use <code>^[0-9 ]+$</code>. It matches any string composed of <i>only</i> and <i>at least one</i> number or whitespace character. You didn&#39;t specify capturing text <code>(...)</code> in your question."},{"owner":{"account_id":6760063,"reputation":3,"user_id":5207240,"display_name":"Umut Mert"},"score":0,"creation_date":1445346873,"post_id":33237389,"comment_id":54278080,"body_markdown":"thanks!! thats what i mean (sorry for not being clear its little hard for me to explain myself in english)","body":"thanks!! thats what i mean (sorry for not being clear its little hard for me to explain myself in english)"}],"answers":[{"tags":[],"owner":{"account_id":3796857,"reputation":89,"user_id":3151648,"display_name":"Belhe001"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1445348595,"creation_date":1445348595,"answer_id":33238347,"question_id":33237389,"body_markdown":"looks you are checking phone number,\r\n\r\nthis RE works well with given data.\r\n\r\n    private static void myregex(String txt) {\r\n    \t\tPattern myREphone = Pattern.compile(&quot;0[\\\\s]?\\\\d{3}[\\\\s]?\\\\d{3}[\\\\s]?\\\\d{2}[\\\\s]?\\\\d{2}&quot;);\r\n    \t\tMatcher mymatchsphone = myREphone.matcher(txt);\t\r\n    \t\tif (mymatchsphone.find()) System.out.println(txt.substring( mymatchsphone.start(), mymatchsphone.end()));\r\n    \t}","title":"Regex Numeric Things In Java","body":"<p>looks you are checking phone number,</p>\n\n<p>this RE works well with given data.</p>\n\n<pre><code>private static void myregex(String txt) {\n        Pattern myREphone = Pattern.compile(\"0[\\\\s]?\\\\d{3}[\\\\s]?\\\\d{3}[\\\\s]?\\\\d{2}[\\\\s]?\\\\d{2}\");\n        Matcher mymatchsphone = myREphone.matcher(txt); \n        if (mymatchsphone.find()) System.out.println(txt.substring( mymatchsphone.start(), mymatchsphone.end()));\n    }\n</code></pre>\n"}],"owner":{"account_id":6760063,"reputation":3,"user_id":5207240,"display_name":"Umut Mert"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":5,"up_vote_count":0,"answer_count":1,"score":-5,"last_activity_date":1687866240,"creation_date":1445346121,"question_id":33237389,"body_markdown":"3 days im working on regular expressions and something got stuck in my head here is the thing;\r\ni want my regex to accept like this one\r\n\r\n0 123 456 78 90\r\n\r\n0355 369 5878\r\n\r\n01234567890\r\n\r\nlast one is easy to do, like \r\n\r\n    &quot;(0[0-9]);\r\nbut i dont know the rest on java ","title":"Regex Numeric Things In Java","body":"<p>3 days im working on regular expressions and something got stuck in my head here is the thing;\ni want my regex to accept like this one</p>\n\n<p>0 123 456 78 90</p>\n\n<p>0355 369 5878</p>\n\n<p>01234567890</p>\n\n<p>last one is easy to do, like </p>\n\n<pre><code>\"(0[0-9]);\n</code></pre>\n\n<p>but i dont know the rest on java </p>\n"},{"tags":["java","regex","qregularexpression"],"answers":[{"tags":[],"owner":{"account_id":7178858,"reputation":1,"user_id":5483665,"display_name":"JGomez"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1445707193,"creation_date":1445706833,"answer_id":33321023,"question_id":33319836,"body_markdown":"To find only the values (without the asterisks). (Not find values completely blank):\r\n\r\n    (?&lt;=\\*)(\\s*[^*\\s]+\\s*)","title":"Regular Expressions find all values inside asterisk","body":"<p>To find only the values (without the asterisks). (Not find values completely blank):</p>\n\n<pre><code>(?&lt;=\\*)(\\s*[^*\\s]+\\s*)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5024546,"reputation":134,"user_id":4036967,"display_name":"sarath kumar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1445707541,"creation_date":1445707541,"answer_id":33321133,"question_id":33319836,"body_markdown":"this works fine...    \r\n\r\n    String pattern = &quot;\\*([^*^\\s*$]+)\\*&quot;;\r\n    Pattern pt = Pattern.compile(pattern);\r\n    Matcher mat = pt.matcher(data);","title":"Regular Expressions find all values inside asterisk","body":"<p>this works fine...    </p>\n\n<pre><code>String pattern = \"\\*([^*^\\s*$]+)\\*\";\nPattern pt = Pattern.compile(pattern);\nMatcher mat = pt.matcher(data);\n</code></pre>\n"}],"owner":{"account_id":5024546,"reputation":134,"user_id":4036967,"display_name":"sarath kumar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":114,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1687866230,"creation_date":1445700478,"question_id":33319836,"body_markdown":"i need to find all values that resides between two asterisk symbol `*data1* *data2* *data3* *data4* *data5*`how do i set Regular Expression in java for this particular string. \r\ni tried indexof ..but it ain&#39;t  work","title":"Regular Expressions find all values inside asterisk","body":"<p>i need to find all values that resides between two asterisk symbol <code>*data1* *data2* *data3* *data4* *data5*</code>how do i set Regular Expression in java for this particular string. \ni tried indexof ..but it ain't  work</p>\n"},{"tags":["java","linux","smb"],"comments":[{"owner":{"account_id":5373910,"reputation":709,"user_id":4281516,"display_name":"Bal&#225;zs Nemes"},"score":0,"creation_date":1498651238,"post_id":44799583,"comment_id":76583459,"body_markdown":"When reading the directory you use that `SmbFile` class and provide authentication credentials for it, so it works. When trying to copy you use that `sftChannel` which is a completely different class. How should it know the authentication credentials? I&#39;m not familiar with these classes, but you probably have to read the content of your file via the `SmbFile` class and store it in memory or in a local file, and then sftp copy it to the destination from your memory array or local file.","body":"When reading the directory you use that <code>SmbFile</code> class and provide authentication credentials for it, so it works. When trying to copy you use that <code>sftChannel</code> which is a completely different class. How should it know the authentication credentials? I&#39;m not familiar with these classes, but you probably have to read the content of your file via the <code>SmbFile</code> class and store it in memory or in a local file, and then sftp copy it to the destination from your memory array or local file."},{"owner":{"account_id":5373910,"reputation":709,"user_id":4281516,"display_name":"Bal&#225;zs Nemes"},"score":0,"creation_date":1498652188,"post_id":44799583,"comment_id":76584241,"body_markdown":"As I see the `SmbFile` class has a `getInputStream()` method so its InputStream can be used to read the file. I can not see in your example what is the type of this `sftChannel` variable","body":"As I see the <code>SmbFile</code> class has a <code>getInputStream()</code> method so its InputStream can be used to read the file. I can not see in your example what is the type of this <code>sftChannel</code> variable"},{"owner":{"account_id":3399781,"reputation":173,"user_id":2852305,"accept_rate":20,"display_name":"user2852305"},"score":0,"creation_date":1498709633,"post_id":44799583,"comment_id":76612611,"body_markdown":"@Bal&#225;zsNemes Sorry I have not provided the complete code. I just provided the code that resulted in exception.","body":"@Bal&#225;zsNemes Sorry I have not provided the complete code. I just provided the code that resulted in exception."},{"owner":{"account_id":3399781,"reputation":173,"user_id":2852305,"accept_rate":20,"display_name":"user2852305"},"score":0,"creation_date":1498710201,"post_id":44799583,"comment_id":76612756,"body_markdown":"@Bal&#225;zsNemes  I have added some more information in the note section. Hope that gives you a better understanding of what I am trying to achieve.","body":"@Bal&#225;zsNemes  I have added some more information in the note section. Hope that gives you a better understanding of what I am trying to achieve."}],"answers":[{"tags":[],"owner":{"account_id":5373910,"reputation":709,"user_id":4281516,"display_name":"Bal&#225;zs Nemes"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1504733756,"creation_date":1498717584,"answer_id":44817786,"question_id":44799583,"body_markdown":"I guess the type of `sftpChannel` is `com.jcraft.jsch.ChannelSftp`. Then the following method will do the copy for you. Of course you have to pass properly initialized `SmbFile` and `ChannelSftp` objects as parameters. \r\n\r\n    public void copyFromSmbToSftp(SmbFile smbFile, ChannelSftp channelSftp, String destPath) throws IOException, SftpException {\r\n        try(BufferedInputStream inputStream = new BufferedInputStream(smbFile.getInputStream());\r\n            BufferedOutputStream outputStream = new BufferedOutputStream(channelSftp.put(destPath))){\r\n          byte[] buffer = new byte[64*1024];\r\n          int bytesRead;\r\n          while((bytesRead=inputStream.read(buffer, 0, buffer.length))!=-1){\r\n            outputStream.write(buffer, 0, bytesRead);\r\n          }\r\n        }\r\n      }","title":"How to copy/transfer a file from windows server path to linux server path?","body":"<p>I guess the type of <code>sftpChannel</code> is <code>com.jcraft.jsch.ChannelSftp</code>. Then the following method will do the copy for you. Of course you have to pass properly initialized <code>SmbFile</code> and <code>ChannelSftp</code> objects as parameters. </p>\n\n<pre><code>public void copyFromSmbToSftp(SmbFile smbFile, ChannelSftp channelSftp, String destPath) throws IOException, SftpException {\n    try(BufferedInputStream inputStream = new BufferedInputStream(smbFile.getInputStream());\n        BufferedOutputStream outputStream = new BufferedOutputStream(channelSftp.put(destPath))){\n      byte[] buffer = new byte[64*1024];\n      int bytesRead;\n      while((bytesRead=inputStream.read(buffer, 0, buffer.length))!=-1){\n        outputStream.write(buffer, 0, bytesRead);\n      }\n    }\n  }\n</code></pre>\n"}],"owner":{"account_id":3399781,"reputation":173,"user_id":2852305,"accept_rate":20,"display_name":"user2852305"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1139,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":44817786,"answer_count":1,"score":2,"last_activity_date":1687866120,"creation_date":1498644672,"question_id":44799583,"body_markdown":"I have tried the below code:\r\n\r\n    String url = &quot;smb://remotehost/SharedPath/Comp/NG/&quot;;\r\n    NtlmPasswordAuthentication auth2 = new \r\n    NtlmPasswordAuthentication(null,&quot;user&quot;, &quot;password&quot;);\r\n    SmbFile dir = new SmbFile(url, auth);\r\n    for (SmbFile f : dir.listFiles())\r\n    {\r\n      if(f.getName().contains(&quot;Test&quot;)) //successfully reads the file\r\n      {\r\n        System.out.println(&quot;test....&quot;+f);\r\n        filename= f.getUncPath();\r\n        System.out.println(&quot;filename....&quot;+filename);\r\n        sftpChannel.put(filename, remoteDirectory); // throws exception\r\n      }  \r\n    }\r\n\r\nAbove code results in exception as follows:\r\n`java.io.FileNotFoundException: \\\\remotehost\\SharedPath\\comp\\NG\\Test.txt (Logon failure: unknown user name or bad password)`\r\n\r\n\r\nPlease note:\r\n\r\n- I am able to read the files present in the remote server using the above code but not able to copy or transfer the file from remote server path to Linux server path.\r\n\r\n- As the connection to remote server and linux server was successful, I tried to directly copy the file from remote path to linux server path using `sftpchannel.put()` but it throws exception.\r\n\r\n- Once connected using smb, will we not be able to connect directly to shared path using below url? `String url = &quot;//remotehost/SharedPath/Comp/NG/&quot;;`\r\n\r\nPlease note: I am connecting to Linux server using jsch library and I am able to successfully connect to Linux server using sftpChannel.connect(); and also able to put the file from my local machine to Linux server using sftpChannel.put(localpath, linuxpath);  and To connect to windows server I am using smbFile. I am able to connect but not able to copy the file from windows to Linux server path.  I tried using sftpChannel.put(filename, remoteDirectory);  for the same but it resulted in exception. At this particular step I assumed that as the connection to windows server is successful I will be able to copy the files as well. I am able to read the file but not copy. Not sure why this is happening.\r\n\r\nCan anyone provide me the proper steps to do this?","title":"How to copy/transfer a file from windows server path to linux server path?","body":"<p>I have tried the below code:</p>\n\n<pre><code>String url = \"smb://remotehost/SharedPath/Comp/NG/\";\nNtlmPasswordAuthentication auth2 = new \nNtlmPasswordAuthentication(null,\"user\", \"password\");\nSmbFile dir = new SmbFile(url, auth);\nfor (SmbFile f : dir.listFiles())\n{\n  if(f.getName().contains(\"Test\")) //successfully reads the file\n  {\n    System.out.println(\"test....\"+f);\n    filename= f.getUncPath();\n    System.out.println(\"filename....\"+filename);\n    sftpChannel.put(filename, remoteDirectory); // throws exception\n  }  \n}\n</code></pre>\n\n<p>Above code results in exception as follows:\n<code>java.io.FileNotFoundException: \\\\remotehost\\SharedPath\\comp\\NG\\Test.txt (Logon failure: unknown user name or bad password)</code></p>\n\n<p>Please note:</p>\n\n<ul>\n<li><p>I am able to read the files present in the remote server using the above code but not able to copy or transfer the file from remote server path to Linux server path.</p></li>\n<li><p>As the connection to remote server and linux server was successful, I tried to directly copy the file from remote path to linux server path using <code>sftpchannel.put()</code> but it throws exception.</p></li>\n<li><p>Once connected using smb, will we not be able to connect directly to shared path using below url? <code>String url = \"//remotehost/SharedPath/Comp/NG/\";</code></p></li>\n</ul>\n\n<p>Please note: I am connecting to Linux server using jsch library and I am able to successfully connect to Linux server using sftpChannel.connect(); and also able to put the file from my local machine to Linux server using sftpChannel.put(localpath, linuxpath);  and To connect to windows server I am using smbFile. I am able to connect but not able to copy the file from windows to Linux server path.  I tried using sftpChannel.put(filename, remoteDirectory);  for the same but it resulted in exception. At this particular step I assumed that as the connection to windows server is successful I will be able to copy the files as well. I am able to read the file but not copy. Not sure why this is happening.</p>\n\n<p>Can anyone provide me the proper steps to do this?</p>\n"},{"tags":["java","android","datetime","jodatime"],"comments":[{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":0,"creation_date":1687866039,"post_id":76564460,"comment_id":134993654,"body_markdown":"Please don&#39;t use code font for things that really aren&#39;t code.","body":"Please don&#39;t use code font for things that really aren&#39;t code."}],"owner":{"account_id":1931992,"reputation":4921,"user_id":1741203,"accept_rate":57,"display_name":"Rajeev Kumar"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687866064,"creation_date":1687865815,"question_id":76564460,"body_markdown":"I have been trying writing a logic for getting peak hour duration between two dates. \r\n\r\ne.g if for certain service peak hour time is between 2000 hrs to  2200hrs (HHmm format).\r\nIf start date is 26 Jun 2023 19:00:00 and end date is 26 Jun 2023 22:30:00\r\n\r\nHow can I get the duration of peak hours and normal hours usage between start and end date?\r\n\r\nIn the above example, the peak hours should be 2 hrs and normal hours should be 1.30 hrs.","title":"Get peak hour duration between start and end date","body":"<p>I have been trying writing a logic for getting peak hour duration between two dates.</p>\n<p>e.g if for certain service peak hour time is between 2000 hrs to  2200hrs (HHmm format).\nIf start date is 26 Jun 2023 19:00:00 and end date is 26 Jun 2023 22:30:00</p>\n<p>How can I get the duration of peak hours and normal hours usage between start and end date?</p>\n<p>In the above example, the peak hours should be 2 hrs and normal hours should be 1.30 hrs.</p>\n"},{"tags":["java","jsp","filesystems","samba","jcifs"],"answers":[{"tags":[],"owner":{"account_id":479485,"reputation":506,"user_id":892174,"display_name":"paulscott56"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1469109985,"creation_date":1469109985,"answer_id":38506484,"question_id":38506054,"body_markdown":"You need the proper auth mechanisms. See for example:\r\n\r\n    private static void GetFiles() throws IOException {\r\n        jcifs.Config.registerSmbURLHandler();\r\n \r\n        NtlmPasswordAuthentication auth = new NtlmPasswordAuthentication(\r\n                prop.getProperty(&quot;smbDomain&quot;), prop.getProperty(&quot;smbUser&quot;),\r\n                prop.getProperty(&quot;smbPass&quot;));\r\n \r\n         \r\n        StaticUserAuthenticator authS = new StaticUserAuthenticator(\r\n                prop.getProperty(&quot;smbDomain&quot;), prop.getProperty(&quot;smbUser&quot;),\r\n                prop.getProperty(&quot;smbPass&quot;));\r\n \r\n        FileSystemOptions opts = new FileSystemOptions();\r\n         \r\n        DefaultFileSystemConfigBuilder.getInstance().setUserAuthenticator(opts,\r\n                authS);\r\n         \r\n        SmbFile smbFile = new SmbFile(prop.getProperty(&quot;smbURL&quot;),auth);\r\n        FileSystemManager fs = VFS.getManager();\r\n        String[] files = smbFile.list();\r\n         \r\n        for(String file:files) {\r\n            SmbFile remFile = new SmbFile(prop.getProperty(&quot;smbURL&quot;) + file, auth);\r\n            SmbFileInputStream smbfos = new SmbFileInputStream(remFile);\r\n            OutputStream out = new FileOutputStream(file);\r\n            byte[] b = new byte[8192];  \r\n            int n;  \r\n            while ((n = smbfos.read(b)) &gt; 0) {  \r\n                out.write(b, 0, n);  \r\n            }  \r\n            smbfos.close();\r\n            out.close(); \r\n        }\r\n         \r\n    }\r\n","title":"Java JCIFS how right to copy file from Samba to Windows local?","body":"<p>You need the proper auth mechanisms. See for example:</p>\n\n<pre><code>private static void GetFiles() throws IOException {\n    jcifs.Config.registerSmbURLHandler();\n\n    NtlmPasswordAuthentication auth = new NtlmPasswordAuthentication(\n            prop.getProperty(\"smbDomain\"), prop.getProperty(\"smbUser\"),\n            prop.getProperty(\"smbPass\"));\n\n\n    StaticUserAuthenticator authS = new StaticUserAuthenticator(\n            prop.getProperty(\"smbDomain\"), prop.getProperty(\"smbUser\"),\n            prop.getProperty(\"smbPass\"));\n\n    FileSystemOptions opts = new FileSystemOptions();\n\n    DefaultFileSystemConfigBuilder.getInstance().setUserAuthenticator(opts,\n            authS);\n\n    SmbFile smbFile = new SmbFile(prop.getProperty(\"smbURL\"),auth);\n    FileSystemManager fs = VFS.getManager();\n    String[] files = smbFile.list();\n\n    for(String file:files) {\n        SmbFile remFile = new SmbFile(prop.getProperty(\"smbURL\") + file, auth);\n        SmbFileInputStream smbfos = new SmbFileInputStream(remFile);\n        OutputStream out = new FileOutputStream(file);\n        byte[] b = new byte[8192];  \n        int n;  \n        while ((n = smbfos.read(b)) &gt; 0) {  \n            out.write(b, 0, n);  \n        }  \n        smbfos.close();\n        out.close(); \n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6695972,"reputation":1584,"user_id":5163984,"accept_rate":93,"display_name":"Nikolay Baranenko"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1469125091,"creation_date":1469125091,"answer_id":38511616,"question_id":38506054,"body_markdown":"option resolve to the problem\r\n\r\n&lt;pre&gt;\r\n\r\n    InputStream in = null;\r\n               OutputStream out = null;\r\n               try{\r\n    \r\n                   String SambaURL= &quot;smb://usersamba:1234@192.168.1.110/data/1b.csv&quot;;\r\n                   File destinationFolder = new File(&quot;C:\\\\Temp\\\\IN\\\\&quot;);\r\n                   SimpleDateFormat fmt = new SimpleDateFormat(&quot;yyyyMMddHHmmssSSS_&quot;);\r\n                   File child = new File (destinationFolder+ &quot;/&quot; + fmt.format(new Date()) +&quot;1b.csv&quot;);\r\n                   SmbFile dir = new SmbFile(SambaURL);\r\n                   SmbFile fileToGet=new SmbFile(SambaURL);\r\n                   fileToGet.connect();\r\n    \r\n                   in = new BufferedInputStream(new SmbFileInputStream(fileToGet));\r\n                   out = new BufferedOutputStream(new FileOutputStream(child));\r\n    \r\n                   byte[] buffer = new byte[4096];\r\n                   int len = 0; //Read length\r\n                   while ((len = in.read(buffer, 0, buffer.length)) != -1) {\r\n                             out.write(buffer, 0, len);\r\n                   }\r\n                   out.flush(); //The refresh buffer output stream\r\n               }\r\n               catch (Exception e) {\r\n                   String msg = &quot;The error occurred: &quot; + e.getLocalizedMessage();\r\n                   System.out.println(msg);\r\n               }\r\n               finally {\r\n                   try {\r\n                       if(out != null) {\r\n                           out.close();\r\n                       }\r\n                       if(in != null) {\r\n                           in.close();\r\n                       }\r\n                   }\r\n                   catch (Exception e) {}\r\n               }\r\n\r\n&lt;/pre&gt;\r\n\r\n[source here][1]\r\n\r\n\r\n  [1]: http://www.programering.com/a/MTO2YTNwATM.html","title":"Java JCIFS how right to copy file from Samba to Windows local?","body":"<p>option resolve to the problem</p>\n\n<pre>\n\n    InputStream in = null;\n               OutputStream out = null;\n               try{\n\n                   String SambaURL= \"smb://usersamba:1234@192.168.1.110/data/1b.csv\";\n                   File destinationFolder = new File(\"C:\\\\Temp\\\\IN\\\\\");\n                   SimpleDateFormat fmt = new SimpleDateFormat(\"yyyyMMddHHmmssSSS_\");\n                   File child = new File (destinationFolder+ \"/\" + fmt.format(new Date()) +\"1b.csv\");\n                   SmbFile dir = new SmbFile(SambaURL);\n                   SmbFile fileToGet=new SmbFile(SambaURL);\n                   fileToGet.connect();\n\n                   in = new BufferedInputStream(new SmbFileInputStream(fileToGet));\n                   out = new BufferedOutputStream(new FileOutputStream(child));\n\n                   byte[] buffer = new byte[4096];\n                   int len = 0; //Read length\n                   while ((len = in.read(buffer, 0, buffer.length)) != -1) {\n                             out.write(buffer, 0, len);\n                   }\n                   out.flush(); //The refresh buffer output stream\n               }\n               catch (Exception e) {\n                   String msg = \"The error occurred: \" + e.getLocalizedMessage();\n                   System.out.println(msg);\n               }\n               finally {\n                   try {\n                       if(out != null) {\n                           out.close();\n                       }\n                       if(in != null) {\n                           in.close();\n                       }\n                   }\n                   catch (Exception e) {}\n               }\n\n</pre>\n\n<p><a href=\"http://www.programering.com/a/MTO2YTNwATM.html\" rel=\"nofollow\">source here</a></p>\n"}],"owner":{"account_id":6695972,"reputation":1584,"user_id":5163984,"accept_rate":93,"display_name":"Nikolay Baranenko"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4527,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":38511616,"answer_count":2,"score":0,"last_activity_date":1687866017,"creation_date":1469108826,"question_id":38506054,"body_markdown":"I&#39;m trying to create a Java application which can copy files from a Unix Samba share to a Windows folder. In order to achieve that, I&#39;m using the  JCIFS library.\r\n\r\nI have the following code:\r\n\r\n    SmbFile smbFromFile = new SmbFile(&quot;smb:////192.168.10.1//data&quot;, auth);\r\n    smbFromFile.copyTo(destinationFolder);\r\n\r\nI&#39;m modifying it to:\r\n\r\n    SmbFile smbFromFile = new SmbFile(&quot;smb:////192.168.10.1//data&quot;, auth);\r\n    SmbFile destinationFolder = new SmbFile(&quot;C:\\\\Temp\\\\IN\\\\&quot;);\r\n    smbFromFile.copyTo(destinationFolder);\r\n\r\nBut it gives me the following error:\r\n\r\n    Exception in thread &quot;main&quot; jcifs.smb.SmbAuthException: Logon failure: unknown user name or bad password.\r\n    \tat jcifs.smb.SmbTransport.checkStatus(SmbTransport.java:546)\r\n    \tat jcifs.smb.SmbTransport.send(SmbTransport.java:663)\r\n    \tat jcifs.smb.SmbSession.sessionSetup(SmbSession.java:390)\r\n    \tat jcifs.smb.SmbSession.send(SmbSession.java:218)\r\n    \tat jcifs.smb.SmbTree.treeConnect(SmbTree.java:176)\r\n    \tat jcifs.smb.SmbFile.doConnect(SmbFile.java:911)\r\n    \tat jcifs.smb.SmbFile.connect(SmbFile.java:957)\r\n    \tat jcifs.smb.SmbFile.connect0(SmbFile.java:880)\r\n    \tat jcifs.smb.SmbFile.copyTo(SmbFile.java:2303)\r\n    \tat RU.Tasks.Task3_Load_MedioSCP_Tekelek_file_To_DB_Oracle_BMCDB.main(Task3.java:203)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.lang.reflect.Method.invoke(Method.java:498)\r\n    \tat com.intellij.rt.execution.application.AppMain.main(AppMain.java:144)\r\n\r\nIf I try to create a new file on the Samba share, it works as expected:\r\n\r\n    String user = &quot;usersamba&quot;;\r\n    String pass =&quot;1234&quot;;\r\n    String hostname = &quot;192.168.10.1&quot;;\r\n    String sharedFolder = &quot;data/new&quot;;\r\n    String path = &quot;smb://&quot;+hostname+&quot;/&quot;+sharedFolder+&quot;/test.txt&quot;;\r\n    NtlmPasswordAuthentication auth = new NtlmPasswordAuthentication(&quot;&quot;,user, pass);\r\n    SmbFile smbFile = new SmbFile(path,auth);\r\n    SmbFileOutputStream smbfos = new SmbFileOutputStream(smbFile);\r\n    smbfos.write(&quot;testing....and writing to a file&quot;.getBytes());\r\n    System.out.println(&quot;completed ...nice !&quot;);\r\n\r\nPlease help to resolve this problem.","title":"Java JCIFS how right to copy file from Samba to Windows local?","body":"<p>I'm trying to create a Java application which can copy files from a Unix Samba share to a Windows folder. In order to achieve that, I'm using the  JCIFS library.</p>\n\n<p>I have the following code:</p>\n\n<pre><code>SmbFile smbFromFile = new SmbFile(\"smb:////192.168.10.1//data\", auth);\nsmbFromFile.copyTo(destinationFolder);\n</code></pre>\n\n<p>I'm modifying it to:</p>\n\n<pre><code>SmbFile smbFromFile = new SmbFile(\"smb:////192.168.10.1//data\", auth);\nSmbFile destinationFolder = new SmbFile(\"C:\\\\Temp\\\\IN\\\\\");\nsmbFromFile.copyTo(destinationFolder);\n</code></pre>\n\n<p>But it gives me the following error:</p>\n\n<pre><code>Exception in thread \"main\" jcifs.smb.SmbAuthException: Logon failure: unknown user name or bad password.\n    at jcifs.smb.SmbTransport.checkStatus(SmbTransport.java:546)\n    at jcifs.smb.SmbTransport.send(SmbTransport.java:663)\n    at jcifs.smb.SmbSession.sessionSetup(SmbSession.java:390)\n    at jcifs.smb.SmbSession.send(SmbSession.java:218)\n    at jcifs.smb.SmbTree.treeConnect(SmbTree.java:176)\n    at jcifs.smb.SmbFile.doConnect(SmbFile.java:911)\n    at jcifs.smb.SmbFile.connect(SmbFile.java:957)\n    at jcifs.smb.SmbFile.connect0(SmbFile.java:880)\n    at jcifs.smb.SmbFile.copyTo(SmbFile.java:2303)\n    at RU.Tasks.Task3_Load_MedioSCP_Tekelek_file_To_DB_Oracle_BMCDB.main(Task3.java:203)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at com.intellij.rt.execution.application.AppMain.main(AppMain.java:144)\n</code></pre>\n\n<p>If I try to create a new file on the Samba share, it works as expected:</p>\n\n<pre><code>String user = \"usersamba\";\nString pass =\"1234\";\nString hostname = \"192.168.10.1\";\nString sharedFolder = \"data/new\";\nString path = \"smb://\"+hostname+\"/\"+sharedFolder+\"/test.txt\";\nNtlmPasswordAuthentication auth = new NtlmPasswordAuthentication(\"\",user, pass);\nSmbFile smbFile = new SmbFile(path,auth);\nSmbFileOutputStream smbfos = new SmbFileOutputStream(smbFile);\nsmbfos.write(\"testing....and writing to a file\".getBytes());\nSystem.out.println(\"completed ...nice !\");\n</code></pre>\n\n<p>Please help to resolve this problem.</p>\n"},{"tags":["java","sql-server","spring-boot","java-stored-procedures"],"comments":[{"owner":{"account_id":166167,"reputation":8075,"user_id":390122,"accept_rate":75,"display_name":"AlwaysLearning"},"score":0,"creation_date":1573952078,"post_id":58896357,"comment_id":104057840,"body_markdown":"Are you sure you want to use the type `Array.class` for your `result` parameter?","body":"Are you sure you want to use the type <code>Array.class</code> for your <code>result</code> parameter?"},{"owner":{"account_id":12580272,"reputation":1,"user_id":9151229,"display_name":"Dikshit"},"score":0,"creation_date":1574028131,"post_id":58896357,"comment_id":104074021,"body_markdown":"I will be getting list of data as a result from procedure thats why I have used this.Let me know if this is wrong and what should I give here","body":"I will be getting list of data as a result from procedure thats why I have used this.Let me know if this is wrong and what should I give here"}],"answers":[{"tags":[],"owner":{"account_id":15369314,"reputation":384,"user_id":11087815,"display_name":"S B"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1574058128,"creation_date":1574058128,"answer_id":58908966,"question_id":58896357,"body_markdown":"Use @Procedure on find method in ArticleRepository. Also ensure that name attribute in @Procedure matches the name attribute value given in @NamedStoredProcedureQuery in entity.","title":"Procedure or function &#39;search_words1&#39; expects parameter &#39;@result&#39;, which was not supplied","body":"<p>Use @Procedure on find method in ArticleRepository. Also ensure that name attribute in @Procedure matches the name attribute value given in @NamedStoredProcedureQuery in entity.</p>\n"},{"tags":[],"owner":{"account_id":19872745,"reputation":26,"user_id":14558489,"display_name":"Esin Akdoğan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687865977,"creation_date":1687865977,"answer_id":76564476,"question_id":58896357,"body_markdown":"Even if it is an old question, i hope my answer helps someone. You can follow this guide: [Calling Stored Procedures JPA][1]\r\n### You can reference your prodecures in 3 ways: ### \r\n### 1. By its name ###\r\nIn your dao define procedure like this: \r\n```\r\n@Procedure(&quot;PROCEDURE_NAME&quot;)\r\nList&lt;String[]/Object/outtype&gt; functionNameCanBeAnything(@Param(&quot;paramNameInSP&quot;) String inputParam);\r\n```\r\ncall the function in your service. In your case:\r\nStored Procedure might not understand what Article is, your output parameter is \r\ndefined as varchar so i suggest you that you should use String instead of Article.\r\nIf there are multiple columns as result you can use String[] then process your output. \r\n```\r\n@Procedure(&quot;search_words1&quot;)\r\nList&lt;String&gt; search(@Param(&quot;word_list&quot;) String inputParam);\r\n```\r\n### 2. In Entity ###\r\n```\r\n//In your dao \r\n@Procedure(name = &quot;EntityName.functionName&quot;)\r\n    List&lt;String[]&gt; functionName(@Param(&quot;inputName&quot;) String inputName);\r\n//In your entity define your procedure like this: \r\n@NamedStoredProcedureQuery(name = &quot;EntityName.functionName&quot;,\r\n        procedureName = &quot;ProcedureName&quot;, parameters = {\r\n        @StoredProcedureParameter(mode = ParameterMode.IN, name = &quot;inputName&quot;, type = String.class),\r\n        @StoredProcedureParameter(mode = ParameterMode.OUT, name = &quot;outParam&quot;, type = Integer.class)})\r\n```\r\nYou can also apply this into your case by calling the fınction in your service.\r\n\r\n### 3. With @Query annotation ###\r\nIt might be different for Databases but you can see an example in the guide  \r\n\r\n  [1]: https://www.baeldung.com/spring-data-jpa-stored-procedures","title":"Procedure or function &#39;search_words1&#39; expects parameter &#39;@result&#39;, which was not supplied","body":"<p>Even if it is an old question, i hope my answer helps someone. You can follow this guide: <a href=\"https://www.baeldung.com/spring-data-jpa-stored-procedures\" rel=\"nofollow noreferrer\">Calling Stored Procedures JPA</a></p>\n<h3>You can reference your prodecures in 3 ways:</h3>\n<h3>1. By its name</h3>\n<p>In your dao define procedure like this:</p>\n<pre><code>@Procedure(&quot;PROCEDURE_NAME&quot;)\nList&lt;String[]/Object/outtype&gt; functionNameCanBeAnything(@Param(&quot;paramNameInSP&quot;) String inputParam);\n</code></pre>\n<p>call the function in your service. In your case:\nStored Procedure might not understand what Article is, your output parameter is\ndefined as varchar so i suggest you that you should use String instead of Article.\nIf there are multiple columns as result you can use String[] then process your output.</p>\n<pre><code>@Procedure(&quot;search_words1&quot;)\nList&lt;String&gt; search(@Param(&quot;word_list&quot;) String inputParam);\n</code></pre>\n<h3>2. In Entity</h3>\n<pre><code>//In your dao \n@Procedure(name = &quot;EntityName.functionName&quot;)\n    List&lt;String[]&gt; functionName(@Param(&quot;inputName&quot;) String inputName);\n//In your entity define your procedure like this: \n@NamedStoredProcedureQuery(name = &quot;EntityName.functionName&quot;,\n        procedureName = &quot;ProcedureName&quot;, parameters = {\n        @StoredProcedureParameter(mode = ParameterMode.IN, name = &quot;inputName&quot;, type = String.class),\n        @StoredProcedureParameter(mode = ParameterMode.OUT, name = &quot;outParam&quot;, type = Integer.class)})\n</code></pre>\n<p>You can also apply this into your case by calling the fınction in your service.</p>\n<h3>3. With @Query annotation</h3>\n<p>It might be different for Databases but you can see an example in the guide</p>\n"}],"owner":{"account_id":12580272,"reputation":1,"user_id":9151229,"display_name":"Dikshit"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":490,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1687865977,"creation_date":1573948922,"question_id":58896357,"body_markdown":"I am trying to call procedure from java spring boot. I am passing array as a parameter to procedure and from the procedure I want to return the list back to java as a resultset. Please let me know what I doing wrong here.\r\nBelow is the code: \r\n\r\nThis is the entity class where I have provided details of the procedure\r\n```\r\n@Entity\r\n@Table(name=&quot;article&quot;)\r\n@NamedStoredProcedureQuery(\r\n        name = &quot;search_words&quot;, \r\n        procedureName = &quot;dbo.search_words1&quot;, \r\n        parameters = { \r\n            @StoredProcedureParameter(\r\n                mode = ParameterMode.IN, \r\n                name = &quot;list&quot;, \r\n                type = Array.class),\r\n            @StoredProcedureParameter(\r\n                mode = ParameterMode.OUT, \r\n                name = &quot;result&quot;, \r\n                type = Array.class) \r\n            }\r\n)\r\npublic class Article {\r\n//entity class\r\n}\r\n```\r\n\r\nThis is the repository class from where I am trying to call perocedure\r\n```\r\n//Repository class\r\n@Repository\r\npublic interface ArticleRepository extends JpaRepository&lt;Article, Long&gt; {\r\n\t\r\n\tpublic List&lt;Article&gt; findAllByOrderByArticleIdDesc();\r\n\t\r\n\tpublic List&lt;Article&gt; findAllByNavigationOrderByArticleIdDesc(Navigation navigation);\r\n\t\r\n\t@Query(nativeQuery = true, value = &quot;exec search_words1&quot;)\r\n\tpublic List&lt;Article&gt; find(@Param(&quot;list&quot;) String[] list);\r\n}\r\n```\r\n\r\nThis is the actual procedure created in sql server\r\n```\r\n    CREATE or ALTER PROCEDURE search_words1 \r\n\t@list word_list READONLY,\r\n\t@result varchar OUTPUT\r\nAS\r\nBEGIN\r\nSET NOCOUNT ON\r\n\t--DECLARE @list as word_list\r\nDECLARE @list_count int;\r\nDECLARE @_count int;\r\nDECLARE @qry varchar(1000);\r\nDECLARE @wording varchar(1000);\r\nset @_count = 0;\r\n--print @list;\r\n--insert into @list values (1,&#39;java&#39;);\r\n--insert into @list values (2,&#39;aws&#39;);\r\n--insert into @list values (3,&#39;avl&#39;);\r\nset @list_count =  (select count(*) from @list)\r\nset @qry = &#39;&#39;\r\nWHILE ( @_count &lt; @list_count )\r\n\tBEGIN\r\n\tset @_count = @_count + 1;\r\n\tset @wording = (select word from @list where id = @_count);\r\n\tset @qry = @qry + &#39; SELECT * FROM article a WHERE LOWER(a.description) like &#39; + &#39;&#39;&#39;%&#39;+@wording+&#39;%&#39;&#39;&#39;\r\n\tif (@_count &lt;&gt; @list_count)\r\n\t\tset @qry = @qry + &#39; UNION &#39;\r\n\tEND;\r\n\tEXEC (@qry)\r\n\tset @result = @qry\r\n--EXEC dbo.search @list\r\nRETURN @result\r\nEND\r\nGO\r\n```\r\nGetting below error while executing code:\r\n\r\n    com.microsoft.sqlserver.jdbc.SQLServerException: Procedure or function &#39;search_words1&#39; expects parameter &#39;@result&#39;, which was not supplied.\r\n    \tat com.microsoft.sqlserver.jdbc.SQLServerException.makeFromDatabaseError(SQLServerException.java:232) ~[mssql-jdbc-6.1.0.jre8.jar:na]\r\n    \tat com.microsoft.sqlserver.jdbc.SQLServerStatement.getNextResult(SQLServerStatement.java:1672) ~[mssql-jdbc-6.1.0.jre8.jar:na]\r\n    \tat com.microsoft.sqlserver.jdbc.SQLServerPreparedStatement.doExecutePreparedStatement(SQLServerPreparedStatement.java:460) ~[mssql-jdbc-6.1.0.jre8.jar:na]\r\n    \tat com.microsoft.sqlserver.jdbc.SQLServerPreparedStatement$PrepStmtExecCmd.doExecute(SQLServerPreparedStatement.java:405) ~[mssql-jdbc-6.1.0.jre8.jar:na]\r\n    \tat com.microsoft.sqlserver.jdbc.TDSCommand.execute(IOBuffer.java:7535) ~[mssql-jdbc-6.1.0.jre8.jar:na]\r\n    \tat com.microsoft.sqlserver.jdbc.SQLServerConnection.executeCommand(SQLServerConnection.java:2438) ~[mssql-jdbc-6.1.0.jre8.jar:na]\r\n    \tat com.microsoft.sqlserver.jdbc.SQLServerStatement.executeCommand(SQLServerStatement.java:208) ~[mssql-jdbc-6.1.0.jre8.jar:na]\r\n    \tat com.microsoft.sqlserver.jdbc.SQLServerStatement.executeStatement(SQLServerStatement.java:183) ~[mssql-jdbc-6.1.0.jre8.jar:na]\r\n    \tat com.microsoft.sqlserver.jdbc.SQLServerPreparedStatement.executeQuery(SQLServerPreparedStatement.java:317) ~[mssql-jdbc-6.1.0.jre8.jar:na]\r\n    \tat com.zaxxer.hikari.pool.ProxyPreparedStatement.executeQuery(ProxyPreparedStatement.java:52) ~[HikariCP-3.2.0.jar:na]\r\n    \tat com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeQuery(HikariProxyPreparedStatement.java) ~[HikariCP-3.2.0.jar:na]\r\n    \tat org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.extract(ResultSetReturnImpl.java:60) ~[hibernate-core-5.3.11.Final.jar:5.3.11.Final]\r\n    \tat org.hibernate.loader.Loader.getResultSet(Loader.java:2265) ~[hibernate-core-5.3.11.Final.jar:5.3.11.Final]\r\n    \tat org.hibernate.loader.Loader.executeQueryStatement(Loader.java:2028) ~[hibernate-core-5.3.11.Final.jar:5.3.11.Final]\r\n    \tat org.hibernate.loader.Loader.executeQueryStatement(Loader.java:1990) ~[hibernate-core-5.3.11.Final.jar:5.3.11.Final]\r\n    \tat org.hibernate.loader.Loader.doQuery(Loader.java:949) ~[hibernate-core-5.3.11.Final.jar:5.3.11.Final]\r\n    \tat org.hibernate.loader.Loader.doQueryAndInitializeNonLazyCollections(Loader.java:351) ~[hibernate-core-5.3.11.Final.jar:5.3.11.Final]\r\n    \tat org.hibernate.loader.Loader.doList(Loader.java:2787) ~[hibernate-core-5.3.11.Final.jar:5.3.11.Final]\r\n    \tat org.hibernate.loader.Loader.doList(Loader.java:2770) ~[hibernate-core-5.3.11.Final.jar:5.3.11.Final]\r\n    \tat org.hibernate.loader.Loader.listIgnoreQueryCache(Loader.java:2604) ~[hibernate-core-5.3.11.Final.jar:5.3.11.Final]\r\n    \tat org.hibernate.loader.Loader.list(Loader.java:2599) ~[hibernate-core-5.3.11.Final.jar:5.3.11.Final]\r\n    \tat org.hibernate.loader.custom.CustomLoader.list(CustomLoader.java:338) ~[hibernate-core-5.3.11.Final.jar:5.3.11.Final]\r\n    \tat org.hibernate.internal.SessionImpl.listCustomQuery(SessionImpl.java:2254) ~[hibernate-core-5.3.11.Final.jar:5.3.11.Final]\r\n    \tat org.hibernate.internal.AbstractSharedSessionContract.list(AbstractSharedSessionContract.java:1069) ~[hibernate-core-5.3.11.Final.jar:5.3.11.Final]\r\n    \tat org.hibernate.query.internal.NativeQueryImpl.doList(NativeQueryImpl.java:170) ~[hibernate-core-5.3.11.Final.jar:5.3.11.Final]\r\n    \tat org.hibernate.query.internal.AbstractProducedQuery.list(AbstractProducedQuery.java:1506) ~[hibernate-core-5.3.11.Final.jar:5.3.11.Final]\r\n    \tat org.hibernate.query.Query.getResultList(Query.java:132) ~[hibernate-core-5.3.11.Final.jar:5.3.11.Final]\r\n    \tat org.springframework.data.jpa.repository.query.JpaQueryExecution$CollectionExecution.doExecute(JpaQueryExecution.java:129) ~[spring-data-jpa-2.1.10.RELEASE.jar:2.1.10.RELEASE]\r\n    \tat org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:91) ~[spring-data-jpa-2.1.10.RELEASE.jar:2.1.10.RELEASE]\r\n    \tat org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:136) ~[spring-data-jpa-2.1.10.RELEASE.jar:2.1.10.RELEASE]\r\n    \tat org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:125) ~[spring-data-jpa-2.1.10.RELEASE.jar:2.1.10.RELEASE]\r\n    \tat org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.doInvoke(RepositoryFactorySupport.java:605) ~[spring-data-commons-2.1.10.RELEASE.jar:2.1.10.RELEASE]\r\n    \tat org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.lambda$invoke$3(RepositoryFactorySupport.java:595) ~[spring-data-commons-2.1.10.RELEASE.jar:2.1.10.RELEASE]\r\n    \tat org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.invoke(RepositoryFactorySupport.java:595) ~[spring-data-commons-2.1.10.RELEASE.jar:2.1.10.RELEASE]\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.1.9.RELEASE.jar:5.1.9.RELEASE]\r\n    \tat org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:59) ~[spring-data-commons-2.1.10.RELEASE.jar:2.1.10.RELEASE]\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.1.9.RELEASE.jar:5.1.9.RELEASE]\r\n    \tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:295) ~[spring-tx-5.1.9.RELEASE.jar:5.1.9.RELEASE]\r\n    \tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:98) ~[spring-tx-5.1.9.RELEASE.jar:5.1.9.RELEASE]\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.1.9.RELEASE.jar:5.1.9.RELEASE]\r\n    \tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139) ~[spring-tx-5.1.9.RELEASE.jar:5.1.9.RELEASE]\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.1.9.RELEASE.jar:5.1.9.RELEASE]\r\n    \tat org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:144) ~[spring-data-jpa-2.1.10.RELEASE.jar:2.1.10.RELEASE]\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.1.9.RELEASE.jar:5.1.9.RELEASE]\r\n    \tat org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$ExposeRepositoryInvocationInterceptor.invoke(CrudMethodMetadataPostProcessor.java:364) ~[spring-data-jpa-2.1.10.RELEASE.jar:2.1.10.RELEASE]\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.1.9.RELEASE.jar:5.1.9.RELEASE]\r\n    \tat org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:93) ~[spring-aop-5.1.9.RELEASE.jar:5.1.9.RELEASE]\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.1.9.RELEASE.jar:5.1.9.RELEASE]\r\n    \tat org.springframework.data.repository.core.support.SurroundingTransactionDetectorMethodInterceptor.invoke(SurroundingTransactionDetectorMethodInterceptor.java:61) ~[spring-data-commons-2.1.10.RELEASE.jar:2.1.10.RELEASE]\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.1.9.RELEASE.jar:5.1.9.RELEASE]\r\n    \tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:212) ~[spring-aop-5.1.9.RELEASE.jar:5.1.9.RELEASE]\r\n    \tat com.sun.proxy.$Proxy117.find(Unknown Source) ~[na:na]\r\n    \tat com.nishant.codecruze.service.ArticleService.getSearchResults(ArticleService.java:64) ~[classes/:na]\r\n    \tat com.nishant.codecruze.controller.ArticleController.getSearchResults(ArticleController.java:40) ~[classes/:na]\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_181]\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source) ~[na:1.8.0_181]","title":"Procedure or function &#39;search_words1&#39; expects parameter &#39;@result&#39;, which was not supplied","body":"<p>I am trying to call procedure from java spring boot. I am passing array as a parameter to procedure and from the procedure I want to return the list back to java as a resultset. Please let me know what I doing wrong here.\nBelow is the code: </p>\n\n<p>This is the entity class where I have provided details of the procedure</p>\n\n<pre><code>@Entity\n@Table(name=\"article\")\n@NamedStoredProcedureQuery(\n        name = \"search_words\", \n        procedureName = \"dbo.search_words1\", \n        parameters = { \n            @StoredProcedureParameter(\n                mode = ParameterMode.IN, \n                name = \"list\", \n                type = Array.class),\n            @StoredProcedureParameter(\n                mode = ParameterMode.OUT, \n                name = \"result\", \n                type = Array.class) \n            }\n)\npublic class Article {\n//entity class\n}\n</code></pre>\n\n<p>This is the repository class from where I am trying to call perocedure</p>\n\n<pre><code>//Repository class\n@Repository\npublic interface ArticleRepository extends JpaRepository&lt;Article, Long&gt; {\n\n    public List&lt;Article&gt; findAllByOrderByArticleIdDesc();\n\n    public List&lt;Article&gt; findAllByNavigationOrderByArticleIdDesc(Navigation navigation);\n\n    @Query(nativeQuery = true, value = \"exec search_words1\")\n    public List&lt;Article&gt; find(@Param(\"list\") String[] list);\n}\n</code></pre>\n\n<p>This is the actual procedure created in sql server</p>\n\n<pre><code>    CREATE or ALTER PROCEDURE search_words1 \n    @list word_list READONLY,\n    @result varchar OUTPUT\nAS\nBEGIN\nSET NOCOUNT ON\n    --DECLARE @list as word_list\nDECLARE @list_count int;\nDECLARE @_count int;\nDECLARE @qry varchar(1000);\nDECLARE @wording varchar(1000);\nset @_count = 0;\n--print @list;\n--insert into @list values (1,'java');\n--insert into @list values (2,'aws');\n--insert into @list values (3,'avl');\nset @list_count =  (select count(*) from @list)\nset @qry = ''\nWHILE ( @_count &lt; @list_count )\n    BEGIN\n    set @_count = @_count + 1;\n    set @wording = (select word from @list where id = @_count);\n    set @qry = @qry + ' SELECT * FROM article a WHERE LOWER(a.description) like ' + '''%'+@wording+'%'''\n    if (@_count &lt;&gt; @list_count)\n        set @qry = @qry + ' UNION '\n    END;\n    EXEC (@qry)\n    set @result = @qry\n--EXEC dbo.search @list\nRETURN @result\nEND\nGO\n</code></pre>\n\n<p>Getting below error while executing code:</p>\n\n<pre><code>com.microsoft.sqlserver.jdbc.SQLServerException: Procedure or function 'search_words1' expects parameter '@result', which was not supplied.\n    at com.microsoft.sqlserver.jdbc.SQLServerException.makeFromDatabaseError(SQLServerException.java:232) ~[mssql-jdbc-6.1.0.jre8.jar:na]\n    at com.microsoft.sqlserver.jdbc.SQLServerStatement.getNextResult(SQLServerStatement.java:1672) ~[mssql-jdbc-6.1.0.jre8.jar:na]\n    at com.microsoft.sqlserver.jdbc.SQLServerPreparedStatement.doExecutePreparedStatement(SQLServerPreparedStatement.java:460) ~[mssql-jdbc-6.1.0.jre8.jar:na]\n    at com.microsoft.sqlserver.jdbc.SQLServerPreparedStatement$PrepStmtExecCmd.doExecute(SQLServerPreparedStatement.java:405) ~[mssql-jdbc-6.1.0.jre8.jar:na]\n    at com.microsoft.sqlserver.jdbc.TDSCommand.execute(IOBuffer.java:7535) ~[mssql-jdbc-6.1.0.jre8.jar:na]\n    at com.microsoft.sqlserver.jdbc.SQLServerConnection.executeCommand(SQLServerConnection.java:2438) ~[mssql-jdbc-6.1.0.jre8.jar:na]\n    at com.microsoft.sqlserver.jdbc.SQLServerStatement.executeCommand(SQLServerStatement.java:208) ~[mssql-jdbc-6.1.0.jre8.jar:na]\n    at com.microsoft.sqlserver.jdbc.SQLServerStatement.executeStatement(SQLServerStatement.java:183) ~[mssql-jdbc-6.1.0.jre8.jar:na]\n    at com.microsoft.sqlserver.jdbc.SQLServerPreparedStatement.executeQuery(SQLServerPreparedStatement.java:317) ~[mssql-jdbc-6.1.0.jre8.jar:na]\n    at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeQuery(ProxyPreparedStatement.java:52) ~[HikariCP-3.2.0.jar:na]\n    at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeQuery(HikariProxyPreparedStatement.java) ~[HikariCP-3.2.0.jar:na]\n    at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.extract(ResultSetReturnImpl.java:60) ~[hibernate-core-5.3.11.Final.jar:5.3.11.Final]\n    at org.hibernate.loader.Loader.getResultSet(Loader.java:2265) ~[hibernate-core-5.3.11.Final.jar:5.3.11.Final]\n    at org.hibernate.loader.Loader.executeQueryStatement(Loader.java:2028) ~[hibernate-core-5.3.11.Final.jar:5.3.11.Final]\n    at org.hibernate.loader.Loader.executeQueryStatement(Loader.java:1990) ~[hibernate-core-5.3.11.Final.jar:5.3.11.Final]\n    at org.hibernate.loader.Loader.doQuery(Loader.java:949) ~[hibernate-core-5.3.11.Final.jar:5.3.11.Final]\n    at org.hibernate.loader.Loader.doQueryAndInitializeNonLazyCollections(Loader.java:351) ~[hibernate-core-5.3.11.Final.jar:5.3.11.Final]\n    at org.hibernate.loader.Loader.doList(Loader.java:2787) ~[hibernate-core-5.3.11.Final.jar:5.3.11.Final]\n    at org.hibernate.loader.Loader.doList(Loader.java:2770) ~[hibernate-core-5.3.11.Final.jar:5.3.11.Final]\n    at org.hibernate.loader.Loader.listIgnoreQueryCache(Loader.java:2604) ~[hibernate-core-5.3.11.Final.jar:5.3.11.Final]\n    at org.hibernate.loader.Loader.list(Loader.java:2599) ~[hibernate-core-5.3.11.Final.jar:5.3.11.Final]\n    at org.hibernate.loader.custom.CustomLoader.list(CustomLoader.java:338) ~[hibernate-core-5.3.11.Final.jar:5.3.11.Final]\n    at org.hibernate.internal.SessionImpl.listCustomQuery(SessionImpl.java:2254) ~[hibernate-core-5.3.11.Final.jar:5.3.11.Final]\n    at org.hibernate.internal.AbstractSharedSessionContract.list(AbstractSharedSessionContract.java:1069) ~[hibernate-core-5.3.11.Final.jar:5.3.11.Final]\n    at org.hibernate.query.internal.NativeQueryImpl.doList(NativeQueryImpl.java:170) ~[hibernate-core-5.3.11.Final.jar:5.3.11.Final]\n    at org.hibernate.query.internal.AbstractProducedQuery.list(AbstractProducedQuery.java:1506) ~[hibernate-core-5.3.11.Final.jar:5.3.11.Final]\n    at org.hibernate.query.Query.getResultList(Query.java:132) ~[hibernate-core-5.3.11.Final.jar:5.3.11.Final]\n    at org.springframework.data.jpa.repository.query.JpaQueryExecution$CollectionExecution.doExecute(JpaQueryExecution.java:129) ~[spring-data-jpa-2.1.10.RELEASE.jar:2.1.10.RELEASE]\n    at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:91) ~[spring-data-jpa-2.1.10.RELEASE.jar:2.1.10.RELEASE]\n    at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:136) ~[spring-data-jpa-2.1.10.RELEASE.jar:2.1.10.RELEASE]\n    at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:125) ~[spring-data-jpa-2.1.10.RELEASE.jar:2.1.10.RELEASE]\n    at org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.doInvoke(RepositoryFactorySupport.java:605) ~[spring-data-commons-2.1.10.RELEASE.jar:2.1.10.RELEASE]\n    at org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.lambda$invoke$3(RepositoryFactorySupport.java:595) ~[spring-data-commons-2.1.10.RELEASE.jar:2.1.10.RELEASE]\n    at org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.invoke(RepositoryFactorySupport.java:595) ~[spring-data-commons-2.1.10.RELEASE.jar:2.1.10.RELEASE]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.1.9.RELEASE.jar:5.1.9.RELEASE]\n    at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:59) ~[spring-data-commons-2.1.10.RELEASE.jar:2.1.10.RELEASE]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.1.9.RELEASE.jar:5.1.9.RELEASE]\n    at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:295) ~[spring-tx-5.1.9.RELEASE.jar:5.1.9.RELEASE]\n    at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:98) ~[spring-tx-5.1.9.RELEASE.jar:5.1.9.RELEASE]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.1.9.RELEASE.jar:5.1.9.RELEASE]\n    at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139) ~[spring-tx-5.1.9.RELEASE.jar:5.1.9.RELEASE]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.1.9.RELEASE.jar:5.1.9.RELEASE]\n    at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:144) ~[spring-data-jpa-2.1.10.RELEASE.jar:2.1.10.RELEASE]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.1.9.RELEASE.jar:5.1.9.RELEASE]\n    at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$ExposeRepositoryInvocationInterceptor.invoke(CrudMethodMetadataPostProcessor.java:364) ~[spring-data-jpa-2.1.10.RELEASE.jar:2.1.10.RELEASE]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.1.9.RELEASE.jar:5.1.9.RELEASE]\n    at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:93) ~[spring-aop-5.1.9.RELEASE.jar:5.1.9.RELEASE]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.1.9.RELEASE.jar:5.1.9.RELEASE]\n    at org.springframework.data.repository.core.support.SurroundingTransactionDetectorMethodInterceptor.invoke(SurroundingTransactionDetectorMethodInterceptor.java:61) ~[spring-data-commons-2.1.10.RELEASE.jar:2.1.10.RELEASE]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.1.9.RELEASE.jar:5.1.9.RELEASE]\n    at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:212) ~[spring-aop-5.1.9.RELEASE.jar:5.1.9.RELEASE]\n    at com.sun.proxy.$Proxy117.find(Unknown Source) ~[na:na]\n    at com.nishant.codecruze.service.ArticleService.getSearchResults(ArticleService.java:64) ~[classes/:na]\n    at com.nishant.codecruze.controller.ArticleController.getSearchResults(ArticleController.java:40) ~[classes/:na]\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_181]\n    at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source) ~[na:1.8.0_181]\n</code></pre>\n"},{"tags":["java","samba","jcifs"],"answers":[{"tags":[],"owner":{"account_id":4136270,"reputation":459,"user_id":3392874,"display_name":"TomasZ."},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1396962095,"creation_date":1396962095,"answer_id":22937908,"question_id":22934918,"body_markdown":"It was some time ago I worked with jcifs.\r\nCould you try `newFile.createNewFile();` and then use the `copyTo`.\r\nIf that doesn&#39;t work, than try `newFile.getOutputStream()` and write the data to this stream instead of using `copyTo`.","title":"How to copy file from local to share with JCifs?","body":"<p>It was some time ago I worked with jcifs.\nCould you try <code>newFile.createNewFile();</code> and then use the <code>copyTo</code>.\nIf that doesn't work, than try <code>newFile.getOutputStream()</code> and write the data to this stream instead of using <code>copyTo</code>.</p>\n"},{"tags":[],"owner":{"account_id":4527986,"reputation":377,"user_id":3679274,"accept_rate":100,"display_name":"javi_swift"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1461138703,"creation_date":1461138703,"answer_id":36737231,"question_id":22934918,"body_markdown":"I&#180;m a bit late to the party but this could be useful for other persons coming to this question.\r\n\r\nI upload files from local to share using streams and it&#180;s working without any problem. My code is:\r\n\t\r\n\tSmbFile remoteFile =  new SmbFile(remotePath, auth);\r\n\tSmbFileOutputStream out = new SmbFileOutputStream(remoteFile);\r\n\tFileInputStream fis = new FileInputStream(localFile);\r\n\tout.write(IOUtils.toByteArray(fis));\r\n\tout.close();","title":"How to copy file from local to share with JCifs?","body":"<p>I´m a bit late to the party but this could be useful for other persons coming to this question.</p>\n\n<p>I upload files from local to share using streams and it´s working without any problem. My code is:</p>\n\n<pre><code>SmbFile remoteFile =  new SmbFile(remotePath, auth);\nSmbFileOutputStream out = new SmbFileOutputStream(remoteFile);\nFileInputStream fis = new FileInputStream(localFile);\nout.write(IOUtils.toByteArray(fis));\nout.close();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4414009,"reputation":393,"user_id":3596127,"accept_rate":25,"display_name":"Radek"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1463584192,"creation_date":1463583221,"answer_id":37303213,"question_id":22934918,"body_markdown":"Complete solution for copying file from local to shared disk over SMB protocol using streams like [Javi_Swift](https://stackoverflow.com/a/36737231/3596127) (writing in parts - solution for large files where it&#39;s not possible to load whole file into memory):\r\n\r\n    // local source file and target smb file\r\n    File fileSource = new File(&quot;C:/example.jpg&quot;);\r\n    SmbFile smbFileTarget = new SmbFile(smbFileContext, &quot;example.jpg&quot;);\r\n    // input and output stream\r\n\tFileInputStream fis\t= new FileInputStream(fileSource);\r\n    SmbFileOutputStream smbfos = new SmbFileOutputStream(smbFileTarget);\r\n    // writing data\r\n    try {\r\n\t    // 16 kb\r\n\t    final byte[] b\t= new byte[16*1024];\r\n\t\tint read = 0;\r\n\t    while ((read=fis.read(b, 0, b.length)) &gt; 0) {\r\n\t\t\tsmbfos.write(b, 0, read);\r\n\t\t}\r\n\t}\r\n\tfinally {\r\n\t\tfis.close();\r\n\t\tsmbfos.close();\r\n\t}\r\n\r\n\r\n\r\n","title":"How to copy file from local to share with JCifs?","body":"<p>Complete solution for copying file from local to shared disk over SMB protocol using streams like <a href=\"https://stackoverflow.com/a/36737231/3596127\">Javi_Swift</a> (writing in parts - solution for large files where it's not possible to load whole file into memory):</p>\n\n<pre><code>// local source file and target smb file\nFile fileSource = new File(\"C:/example.jpg\");\nSmbFile smbFileTarget = new SmbFile(smbFileContext, \"example.jpg\");\n// input and output stream\nFileInputStream fis = new FileInputStream(fileSource);\nSmbFileOutputStream smbfos = new SmbFileOutputStream(smbFileTarget);\n// writing data\ntry {\n    // 16 kb\n    final byte[] b  = new byte[16*1024];\n    int read = 0;\n    while ((read=fis.read(b, 0, b.length)) &gt; 0) {\n        smbfos.write(b, 0, read);\n    }\n}\nfinally {\n    fis.close();\n    smbfos.close();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1577409,"reputation":16015,"user_id":1463522,"accept_rate":64,"display_name":"holmis83"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1486047280,"creation_date":1486047280,"answer_id":42005355,"question_id":22934918,"body_markdown":"An example using Java 1.7&#39;s [Files][1] class:\r\n\r\n    Path source = Paths.get(&quot;c:/tmp/test.xml&quot;);\r\n    SmbFile newFile = new SmbFile(&quot;smb://someone_pc/tmp/test.xml&quot;, new NtlmPasswordAuthentication(&quot;&quot;, username, password));\r\n    try (OutputStream out = newFile.getOutputStream())\r\n    {\r\n        Files.copy(source, out);\r\n    }\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/nio/file/Files.html","title":"How to copy file from local to share with JCifs?","body":"<p>An example using Java 1.7's <a href=\"http://docs.oracle.com/javase/7/docs/api/java/nio/file/Files.html\" rel=\"nofollow noreferrer\">Files</a> class:</p>\n\n<pre><code>Path source = Paths.get(\"c:/tmp/test.xml\");\nSmbFile newFile = new SmbFile(\"smb://someone_pc/tmp/test.xml\", new NtlmPasswordAuthentication(\"\", username, password));\ntry (OutputStream out = newFile.getOutputStream())\n{\n    Files.copy(source, out);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8697038,"reputation":444,"user_id":6508097,"accept_rate":20,"display_name":"balu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1507626457,"creation_date":1507626457,"answer_id":46662761,"question_id":22934918,"body_markdown":"    public void uploadToSmb(String destinationPath,File localFile){\r\n\t\tpublic final static byte[] BUFFER = new byte[10 * 8024];\r\n\t\t\tByteArrayInputStream inputStream = null;\r\n            SmbFileOutputStream sfos = null;\r\n            try {\r\n                String user = username + &quot;:&quot; + password;\r\n                int lenghtOfFile = (int) localFile.length();\r\n                byte[] data = FileUtils.readFileToByteArray(localFile);\r\n                inputStream = new ByteArrayInputStream(data);\r\n                String path = destinationPath + localFile.getName();\r\n                NtlmPasswordAuthentication auth = new NtlmPasswordAuthentication(user);\r\n                remoteFile = new SmbFile(path, auth);\r\n                sfos = new SmbFileOutputStream(remoteFile);\r\n                long total = 0;\r\n                while ((count = inputStream.read(BUFFER)) &gt; 0) {\r\n                    total += count;\r\n                    // publishing the progress....\r\n                    // After this onProgressUpdate will be called\r\n                    int percentage = (int) ((total / (float) lenghtOfFile) * 100);\r\n                    publishProgress(percentage);\r\n                    //  publishProgress((int) ((total * 100) / lenghtOfFile));\r\n                    // writing data to file\r\n                        sfos.write(BUFFER,0,count);\r\n\r\n                }\r\n\t\t\t\t\tsfos.flush();\r\n\t\t\t\t\tinputStream.close();\r\n                    sfos.close();\r\n\r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n            } \r\n          }  \r\n\r\n\r\nthis code is working Great...\r\n\r\n   \r\n","title":"How to copy file from local to share with JCifs?","body":"<pre><code>public void uploadToSmb(String destinationPath,File localFile){\n    public final static byte[] BUFFER = new byte[10 * 8024];\n        ByteArrayInputStream inputStream = null;\n        SmbFileOutputStream sfos = null;\n        try {\n            String user = username + \":\" + password;\n            int lenghtOfFile = (int) localFile.length();\n            byte[] data = FileUtils.readFileToByteArray(localFile);\n            inputStream = new ByteArrayInputStream(data);\n            String path = destinationPath + localFile.getName();\n            NtlmPasswordAuthentication auth = new NtlmPasswordAuthentication(user);\n            remoteFile = new SmbFile(path, auth);\n            sfos = new SmbFileOutputStream(remoteFile);\n            long total = 0;\n            while ((count = inputStream.read(BUFFER)) &gt; 0) {\n                total += count;\n                // publishing the progress....\n                // After this onProgressUpdate will be called\n                int percentage = (int) ((total / (float) lenghtOfFile) * 100);\n                publishProgress(percentage);\n                //  publishProgress((int) ((total * 100) / lenghtOfFile));\n                // writing data to file\n                    sfos.write(BUFFER,0,count);\n\n            }\n                sfos.flush();\n                inputStream.close();\n                sfos.close();\n\n        } catch (Exception e) {\n            e.printStackTrace();\n        } \n      }  \n</code></pre>\n\n<p>this code is working Great...</p>\n"}],"owner":{"account_id":324230,"reputation":6336,"user_id":644686,"accept_rate":60,"display_name":"victorio"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":22995,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":5,"score":1,"last_activity_date":1687865804,"creation_date":1396954673,"question_id":22934918,"body_markdown":"I can copy file from share to local. But I want to switch, and copy a file from local to share.\r\n\r\n    I am trying this code:\r\n    SmbFile oldFile = new SmbFile(&quot;c:/tmp/test.xml&quot;);\r\n    SmbFile newFile = new SmbFile(&quot;smb://someone_pc/tmp/test.xml&quot;, new NtlmPasswordAuthentication(&quot;&quot;, username, password));\r\n    oldFile.copyTo(newFile);\r\n\r\nBut I am getting an exception on `copyTo` method:\r\n\r\n    Invalid operation for workgroups or servers\r\n\r\nHow should I copy file from local to share?","title":"How to copy file from local to share with JCifs?","body":"<p>I can copy file from share to local. But I want to switch, and copy a file from local to share.</p>\n\n<pre><code>I am trying this code:\nSmbFile oldFile = new SmbFile(\"c:/tmp/test.xml\");\nSmbFile newFile = new SmbFile(\"smb://someone_pc/tmp/test.xml\", new NtlmPasswordAuthentication(\"\", username, password));\noldFile.copyTo(newFile);\n</code></pre>\n\n<p>But I am getting an exception on <code>copyTo</code> method:</p>\n\n<pre><code>Invalid operation for workgroups or servers\n</code></pre>\n\n<p>How should I copy file from local to share?</p>\n"},{"tags":["java","database-connection","wildfly","rollback"],"answers":[{"tags":[],"owner":{"account_id":3811602,"reputation":567,"user_id":3162265,"display_name":"Erhard Siegl"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1569657997,"creation_date":1569657997,"answer_id":58144497,"question_id":58077957,"body_markdown":"When you want such behavior you should set `check-valid-connection-sql` and `background-validation` to true. See also https://stackoverflow.com/questions/28707650/wildfly-and-auto-reconnect-to-the-database and \r\n\r\nhttps://access.redhat.com/documentation/en-us/red_hat_jboss_enterprise_application_platform/6.4/html/administration_and_configuration_guide/sect-database_connection_validation \r\n\r\nfor documentation.","title":"DB Connection is not getting removed from pool when transaction is rolled back during database fail over in Wildfly-17","body":"<p>When you want such behavior you should set <code>check-valid-connection-sql</code> and <code>background-validation</code> to true. See also <a href=\"https://stackoverflow.com/questions/28707650/wildfly-and-auto-reconnect-to-the-database\">Wildfly and auto reconnect to the database</a> and </p>\n\n<p><a href=\"https://access.redhat.com/documentation/en-us/red_hat_jboss_enterprise_application_platform/6.4/html/administration_and_configuration_guide/sect-database_connection_validation\" rel=\"nofollow noreferrer\">https://access.redhat.com/documentation/en-us/red_hat_jboss_enterprise_application_platform/6.4/html/administration_and_configuration_guide/sect-database_connection_validation</a> </p>\n\n<p>for documentation.</p>\n"}],"owner":{"account_id":16756574,"reputation":1,"user_id":12112393,"display_name":"Anish Parekh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1128,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1687865755,"creation_date":1569319899,"question_id":58077957,"body_markdown":"I am using `Wildfly-17` server. I am testing the failover scenario on the Oracle database during ongoing API traffic in Wildfly. \r\nThe steps I performed:\r\n\r\n- Oracle RAC DB setup is done and scans IP (Virtual IP) is configured in domain.xml. Also, created 2 database services (named as &quot;pri&quot; and &quot;sec&quot;) in the database with preferred service configuration.\r\n\r\n- Wildfly server is up and running with my project binaries,\r\nwhere DS configuration is:\r\n```XML\r\n&lt;datasource jta=&quot;true&quot; jndi-name=&quot;java:jboss/datasources/jdbc/InventoryDS&quot; pool-name=&quot;jdbc/InventoryDS&quot; enabled=&quot;true&quot; use-java-context=&quot;true&quot; spy=&quot;false&quot; use-ccm=&quot;true&quot; statistics-enabled=&quot;true&quot;&gt;\r\n\t&lt;connection-url&gt;jdbc:oracle:thin:@10.151.5.16:1521/pri&lt;/connection-url&gt;\r\n\t&lt;connection-property name=&quot;AutoCommit&quot;&gt;false&lt;/connection-property&gt;\r\n\t&lt;driver&gt;ojdbc8&lt;/driver&gt;\r\n\t&lt;pool&gt;\r\n\t\t&lt;min-pool-size&gt;1&lt;/min-pool-size&gt;\r\n\t\t&lt;initial-pool-size&gt;1&lt;/initial-pool-size&gt;\r\n\t\t&lt;max-pool-size&gt;10&lt;/max-pool-size&gt;\r\n\t\t&lt;prefill&gt;false&lt;/prefill&gt;\r\n\t\t&lt;fair&gt;false&lt;/fair&gt;\r\n\t\t&lt;use-strict-min&gt;false&lt;/use-strict-min&gt;\r\n\t\t&lt;flush-strategy&gt;FailingConnectionOnly&lt;/flush-strategy&gt;\r\n\t&lt;/pool&gt;\r\n\t&lt;security&gt;\r\n\t\t&lt;security-domain&gt;InventoryDS&lt;/security-domain&gt;\r\n\t&lt;/security&gt;\r\n\t&lt;validation&gt;\r\n\t\t&lt;validate-on-match&gt;false&lt;/validate-on-match&gt;\r\n\t\t&lt;background-validation&gt;false&lt;/background-validation&gt;\r\n\t\t&lt;use-fast-fail&gt;false&lt;/use-fast-fail&gt;\r\n\t\t&lt;exception-sorter class-name=&quot;org.jboss.resource.adapter.jdbc.vendor.OracleExceptionSorter&quot;/&gt;\r\n\t&lt;/validation&gt;\r\n\t&lt;statement&gt;\r\n\t\t&lt;track-statements&gt;false&lt;/track-statements&gt;\r\n\t&lt;/statement&gt;\r\n&lt;/datasource&gt;\r\n```\r\n- Started load (REST API) using JMeter. All current Db connection is pointing to &quot;pri&quot; service.\r\n- During ongoing traffic, I rebooted one DB node (having &quot;pri&quot; service)\r\n\r\n**Expectation:**\r\nThe existing DB connections will be removed from the pool and a new connection will be pointing to &quot;sec&quot; service. Hence, minimal impact on ongoing API traffic\r\n\r\n**Actual result:** \r\nIt is not removing DB connection from the pool. Next time the same connection is getting used. Due to which the API is getting failed.\r\n\r\n**Observation:**\r\nThe code is written in such a way that for any exception occurs during API execution, the code set to call setRollbackOnly() method for the transaction (it is a container-managed transaction in EJB).\r\n\r\nDue to the transaction rollback, the server is not able to remove the connection from the pool. \r\n\r\nWhen I removed `setRollbackOnly()` from code, then it is able to remove connection from pool and next request will get new connection from &quot;sec&quot; DB service.\r\n\t\r\nLogs for the reference:\r\n=======================\r\n**Logs with setRollbackOnly() called from API:**\r\n--------------------------------------------\r\n~~~\r\n2019-09-13 11:01:44,464 TRACE (default task-15) IJTRACER-jdbc/InventoryDS-4467852c-1046-93-2069714450032188-105a159d-73db02c0-org.jboss.as.connector.deployers.ra.processors.CachedConnectionManagerSetupProcessor$CachedConnectionManagerSetupAction@75128fe0\r\n2019-09-13 11:01:44,464 TRACE (default task-15) IJTRACER-jdbc/InventoryDS-4467852c-1046-41-2069714450059032-105a159d-73db02c0-\r\n2019-09-13 11:01:44,464 TRACE (default task-15) [TxConnectionListener@105a159d] unregisterConnection: 0 handles left ([])\r\n2019-09-13 11:01:44,464 TRACE (default task-15) isManagedConnectionFree=false mc=org.jboss.jca.adapters.jdbc.local.LocalManagedConnection@33bd6c05\r\n2019-09-13 11:01:44,465 TRACE (default task-15) popped object: org.jboss.as.connector.deployers.ra.processors.CachedConnectionManagerSetupProcessor$CachedConnectionManagerSetupAction@75128fe0\r\n2019-09-13 11:01:44,465 TRACE (default task-15) IJTRACER-CachedConnectionManager-NONE-1046-91-2069714451688504-NONE-org.jboss.as.connector.deployers.ra.processors.CachedConnectionManagerSetupProcessor$CachedConnectionManagerSetupAction@75128fe0-java.lang.Throwable:_CALLSTACK|\\at_org.jboss.jca.core.connectionmanager.ccm.CachedConnectionManagerImpl.popMetaAwareObject(CachedConnectionManagerImpl.java:283)|\\at_org.jboss.as.connector.deployers.ra.processors.CachedConnectionManagerSetupProcessor$CachedConnectionManagerSetupAction.teardown(CachedConnectionManagerSetupProcessor.java:107)|\\at_org.jboss.as.ejb3.component.interceptors.AdditionalSetupInterceptor.processInvocation(AdditionalSetupInterceptor.java:60)|\\at_org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)|\\at_org.jboss.invocation.ContextClassLoaderInterceptor.processInvocation(ContextClassLoaderInterceptor.java:64)|\\at_org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)|\\at_org.jboss.invocation.InterceptorContext.run(InterceptorContext.java:356)|\\at_org.wildfly.security.manager.WildFlySecurityManager.doChecked(WildFlySecurityManager.java:636)|\\at_org.jboss.invocation.AccessCheckingInterceptor.processInvocation(AccessCheckingInterceptor.java:61)|\\at_org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)|\\at_org.jboss.invocation.InterceptorContext.run(InterceptorContext.java:356)|\\at_org.jboss.invocation.PrivilegedWithCombinerInterceptor.processInvocation(PrivilegedWithCombinerInterceptor.java:80)|\\at_org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)|\\at_org.jboss.invocation.ChainedInterceptor.processInvocation(ChainedInterceptor.java:61)|\\at_org.jboss.as.ee.component.ViewService$View.invoke(ViewService.java:198)|\\at_org.jboss.as.ee.component.ViewDescription$1.processInvocation(ViewDescription.java:185)|\\at_org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)|\\at_org.jboss.invocation.ChainedInterceptor.processInvocation(ChainedInterceptor.java:61)|\\at_org.jboss.as.ee.component.ProxyInvocationHandler.invoke(ProxyInvocationHandler.java:73)|\\at_com.demo.inventory.ejb3.inventorymgmt.interfaces.IInventoryDetailSessionLocal$$$view355.searchInventory(Unknown_Source)|\\at_com.demo.inventory.ejb3.inventorymgmt.sessionfacadeintapi.InventoryOperations.searchInventory(InventoryOperations.java:529)|\\at_sun.reflect.GeneratedMethodAccessor1021.invoke(Unknown_Source)|\\at_sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)|\\at_java.lang.reflect.Method.invoke(Method.java:497)|\\at_org.jboss.as.ee.component.ManagedReferenceMethodInterceptor.processInvocation(ManagedReferenceMethodInterceptor.java:52)|\\at_org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)|\\at_org.jboss.invocation.InterceptorContext$Invocation.proceed(InterceptorContext.java:437)|\\at_org.jboss.as.weld.ejb.Jsr299BindingsInterceptor.delegateInterception(Jsr299BindingsInterceptor.java:70)|\\at_org.jboss.as.weld.ejb.Jsr299BindingsInterceptor.doMethodInterception(Jsr299BindingsInterceptor.java:80)|\\at_org.jboss.as.weld.ejb.Jsr299BindingsInterceptor.processInvocation(Jsr299BindingsInterceptor.java:93)|\\at_org.jboss.as.ee.component.interceptors.UserInterceptorFactory$1.processInvocation(UserInterceptorFactory.java:63)|\\at_org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)|\\at_org.jboss.invocation.InterceptorContext$Invocation.proceed(InterceptorContext.java:437)|\\at_com.demo.inventory.aspect.PrePostPlugin.processPrePostEvent(PrePostPlugin.java:125)|\\at_sun.reflect.GeneratedMethodAccessor1020.invoke(Unknown_Source)|\\at_sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)|\\at_java.lang.reflect.Method.invoke(Method.java:497)|\\at_org.jboss.as.ee.component.ManagedReferenceLifecycleMethodInterceptor.processInvocation(ManagedReferenceLifecycleMethodInterceptor.java:89)|\\at_org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)|\\at_org.jboss.as.ejb3.component.invocationmetrics.ExecutionTimeInterceptor.processInvocation(ExecutionTimeInterceptor.java:43)|\\at_org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)|\\at_org.jboss.as.jpa.interceptor.SBInvocationInterceptor.processInvocation(SBInvocationInterceptor.java:47)|\\at_org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)|\\at_org.jboss.invocation.InterceptorContext$Invocation.proceed(InterceptorContext.java:437)|\\at_org.jboss.weld.ejb.AbstractEJBRequestScopeActivationInterceptor.aroundInvoke(AbstractEJBRequestScopeActivationInterceptor.java:73)|\\at_org.jboss.as.weld.ejb.EjbRequestScopeActivationInterceptor.processInvocation(EjbRequestScopeActivationInterceptor.java:83)|\\at_org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)|\\at_org.jboss.as.ee.concurrent.ConcurrentContextInterceptor.processInvocation(ConcurrentContextInterceptor.java:45)|\\at_org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)|\\at_org.jboss.invocation.InitialInterceptor.processInvocation(InitialInterceptor.java:21)|\\at_org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)|\\at_org.jboss.invocation.ChainedInterceptor.processInvocation(ChainedInterceptor.java:61)|\\at_org.jboss.as.ee.component.interceptors.ComponentDispatcherInterceptor.processInvocation(ComponentDispatcherInterceptor.java:52)|\\at_org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)|\\at_org.jboss.as.ejb3.component.pool.PooledInstanceInterceptor.processInvocation(PooledInstanceInterceptor.java:51)|\\at_org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)|\\at_org.jboss.as.ejb3.tx.CMTTxInterceptor.invokeInOurTx(CMTTxInterceptor.java:275)|\\at_org.jboss.as.ejb3.tx.CMTTxInterceptor.required(CMTTxInterceptor.java:327)|\\at_org.jboss.as.ejb3.tx.CMTTxInterceptor.processInvocation(CMTTxInterceptor.java:239)|\\at_org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)|\\at_org.jboss.as.ejb3.remote.EJBRemoteTransactionPropagatingInterceptor.processInvocation(EJBRemoteTransactionPropagatingInterceptor.java:79)|\\at_org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)|\\at_org.jboss.as.ejb3.component.interceptors.CurrentInvocationContextInterceptor.processInvocation(CurrentInvocationContextInterceptor.java:41)|\\at_org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)|\\at_org.jboss.as.ejb3.component.invocationmetrics.WaitTimeInterceptor.processInvocation(WaitTimeInterceptor.java:47)|\\at_org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)|\\at_org.jboss.as.ejb3.security.SecurityContextInterceptor.processInvocation(SecurityContextInterceptor.java:100)|\\at_org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)|\\at_org.jboss.as.ejb3.deployment.processors.StartupAwaitInterceptor.processInvocation(StartupAwaitInterceptor.java:22)|\\at_org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)|\\at_org.jboss.as.ejb3.component.interceptors.ShutDownInterceptorFactory$1.processInvocation(ShutDownInterceptorFactory.java:64)|\\at_org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)|\\at_org.jboss.as.ejb3.deployment.processors.EjbSuspendInterceptor.processInvocation(EjbSuspendInterceptor.java:44)|\\at_org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)|\\at_org.jboss.as.ejb3.component.interceptors.LoggingInterceptor.processInvocation(LoggingInterceptor.java:67)|\\at_org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)|\\at_org.jboss.as.ee.component.NamespaceContextInterceptor.processInvocation(NamespaceContextInterceptor.java:50)|\\at_org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)|\\at_org.jboss.as.ejb3.component.interceptors.AdditionalSetupInterceptor.processInvocation(AdditionalSetupInterceptor.java:54)|\\at_org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)|\\at_org.jboss.invocation.ContextClassLoaderInterceptor.processInvocation(ContextClassLoaderInterceptor.java:64)|\\at_org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)|\\at_org.jboss.invocation.InterceptorContext.run(InterceptorContext.java:356)|\\at_org.wildfly.security.manager.WildFlySecurityManager.doChecked(WildFlySecurityManager.java:636)|\\at_org.jboss.invocation.AccessCheckingInterceptor.processInvocation(AccessCheckingInterceptor.java:61)|\\at_org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)|\\at_org.jboss.invocation.InterceptorContext.run(InterceptorContext.java:356)|\\at_org.jboss.invocation.PrivilegedWithCombinerInterceptor.processInvocation(PrivilegedWithCombinerInterceptor.java:80)|\\at_org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)|\\at_org.jboss.invocation.ChainedInterceptor.processInvocation(ChainedInterceptor.java:61)|\\at_org.jboss.as.ee.component.ViewService$View.invoke(ViewService.java:198)|\\at_org.jboss.as.ejb3.remote.LocalEjbReceiver.processInvocation(LocalEjbReceiver.java:266)|\\at_org.jboss.ejb.client.EJBClientInvocationContext.sendRequest(EJBClientInvocationContext.java:184)|\\at_org.jboss.ejb.client.EJBObjectInterceptor.handleInvocation(EJBObjectInterceptor.java:58)|\\at_org.jboss.ejb.client.EJBClientInvocationContext.sendRequest(EJBClientInvocationContext.java:186)|\\at_org.jboss.ejb.client.EJBHomeInterceptor.handleInvocation(EJBHomeInterceptor.java:83)|\\at_org.jboss.ejb.client.EJBClientInvocationContext.sendRequest(EJBClientInvocationContext.java:186)|\\at_org.jboss.ejb.client.TransactionInterceptor.handleInvocation(TransactionInterceptor.java:42)|\\at_org.jboss.ejb.client.EJBClientInvocationContext.sendRequest(EJBClientInvocationContext.java:186)|\\at_org.jboss.ejb.client.ReceiverInterceptor.handleInvocation(ReceiverInterceptor.java:138)|\\at_org.jboss.ejb.client.EJBClientInvocationContext.sendRequest(EJBClientInvocationContext.java:186)|\\at_org.jboss.ejb.client.EJBInvocationHandler.sendRequestWithPossibleRetries(EJBInvocationHandler.java:255)|\\at_org.jboss.ejb.client.EJBInvocationHandler.doInvoke(EJBInvocationHandler.java:200)|\\at_org.jboss.ejb.client.EJBInvocationHandler.doInvoke(EJBInvocationHandler.java:183)|\\at_org.jboss.ejb.client.EJBInvocationHandler.invoke(EJBInvocationHandler.java:146)|\\at_com.sun.proxy.$Proxy250.searchInventory(Unknown_Source)|\\at_com.demo.rest.inventory.delegator.InventoryOperationsDelegator.searchInventory(InventoryOperationsDelegator.java:70)|\\at_com.demo.rest.inventory.service.InventoryOperationsService.searchInventory(InventoryOperationsService.java:61)|\\at_com.demo.rest.inventory.resource.InventoryOperationsResource.searchInventory(InventoryOperationsResource.java:69)|\\at_sun.reflect.GeneratedMethodAccessor1019.invoke(Unknown_Source)|\\at_sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)|\\at_java.lang.reflect.Method.invoke(Method.java:497)|\\at_org.jboss.resteasy.core.MethodInjectorImpl.invoke(MethodInjectorImpl.java:139)|\\at_org.jboss.resteasy.core.ResourceMethodInvoker.invokeOnTarget(ResourceMethodInvoker.java:295)|\\at_org.jboss.resteasy.core.ResourceMethodInvoker.invoke(ResourceMethodInvoker.java:249)|\\at_org.jboss.resteasy.core.ResourceMethodInvoker.invoke(ResourceMethodInvoker.java:236)|\\at_org.jboss.resteasy.core.SynchronousDispatcher.invoke(SynchronousDispatcher.java:402)|\\at_org.jboss.resteasy.core.SynchronousDispatcher.invokePropagateNotFound(SynchronousDispatcher.java:247)|\\at_org.jboss.resteasy.plugins.server.servlet.ServletContainerDispatcher.service(ServletContainerDispatcher.java:225)|\\at_org.jboss.resteasy.plugins.server.servlet.FilterDispatcher.doFilter(FilterDispatcher.java:62)|\\at_io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)|\\at_io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)|\\at_com.demo.rest.core.filter.CORSFilter.doFilter(CORSFilter.java:51)|\\at_io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)|\\at_io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)|\\at_io.undertow.servlet.handlers.FilterHandler.handleRequest(FilterHandler.java:84)|\\at_io.undertow.servlet.handlers.security.ServletSecurityRoleHandler.handleRequest(ServletSecurityRoleHandler.java:62)|\\at_io.undertow.servlet.handlers.ServletDispatchingHandler.handleRequest(ServletDispatchingHandler.java:36)|\\at_org.wildfly.extension.undertow.security.SecurityContextAssociationHandler.handleRequest(SecurityContextAssociationHandler.java:78)|\\at_io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)|\\at_io.undertow.servlet.handlers.security.SSLInformationAssociationHandler.handleRequest(SSLInformationAssociationHandler.java:131)|\\at_io.undertow.servlet.handlers.security.ServletAuthenticationCallHandler.handleRequest(ServletAuthenticationCallHandler.java:57)|\\at_io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)|\\at_io.undertow.security.handlers.AbstractConfidentialityHandler.handleRequest(AbstractConfidentialityHandler.java:46)|\\at_io.undertow.servlet.handlers.security.ServletConfidentialityConstraintHandler.handleRequest(ServletConfidentialityConstraintHandler.java:64)|\\at_io.undertow.security.handlers.AuthenticationMechanismsHandler.handleRequest(AuthenticationMechanismsHandler.java:60)|\\at_io.undertow.servlet.handlers.security.CachedAuthenticatedSessionHandler.handleRequest(CachedAuthenticatedSessionHandler.java:77)|\\at_io.undertow.security.handlers.NotificationReceiverHandler.handleRequest(NotificationReceiverHandler.java:50)|\\at_io.undertow.security.handlers.AbstractSecurityContextAssociationHandler.handleRequest(AbstractSecurityContextAssociationHandler.java:43)|\\at_io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)|\\at_org.wildfly.extension.undertow.security.jacc.JACCContextIdHandler.handleRequest(JACCContextIdHandler.java:61)|\\at_io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)|\\at_io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)|\\at_io.undertow.servlet.handlers.ServletInitialHandler.handleFirstRequest(ServletInitialHandler.java:292)|\\at_io.undertow.servlet.handlers.ServletInitialHandler.access$100(ServletInitialHandler.java:81)|\\at_io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:138)|\\at_io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:135)|\\at_io.undertow.servlet.core.ServletRequestContextThreadSetupAction$1.call(ServletRequestContextThreadSetupAction.java:48)|\\at_io.undertow.servlet.core.ContextClassLoaderSetupAction$1.call(ContextClassLoaderSetupAction.java:43)|\\at_io.undertow.servlet.api.LegacyThreadSetupActionWrapper$1.call(LegacyThreadSetupActionWrapper.java:44)|\\at_io.undertow.servlet.api.LegacyThreadSetupActionWrapper$1.call(LegacyThreadSetupActionWrapper.java:44)|\\at_io.undertow.servlet.api.LegacyThreadSetupActionWrapper$1.call(LegacyThreadSetupActionWrapper.java:44)|\\at_io.undertow.servlet.api.LegacyThreadSetupActionWrapper$1.call(LegacyThreadSetupActionWrapper.java:44)|\\at_io.undertow.servlet.api.LegacyThreadSetupActionWrapper$1.call(LegacyThreadSetupActionWrapper.java:44)|\\at_io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(ServletInitialHandler.java:272)|\\at_io.undertow.servlet.handlers.ServletInitialHandler.access$000(ServletInitialHandler.java:81)|\\at_io.undertow.servlet.handlers.ServletInitialHandler$1.handleRequest(ServletInitialHandler.java:104)|\\at_io.undertow.server.Connectors.executeRootHandler(Connectors.java:202)|\\at_io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:805)|\\at_java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)|\\at_java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)|\\at_java.lang.Thread.run(Thread.java:745)|\r\n2019-09-13 11:01:44,466 TRACE (default task-15) BaseTransaction.setRollbackOnly\r\n2019-09-13 11:01:44,466 TRACE (default task-15) TransactionImple.setRollbackOnly\r\n2019-09-13 11:01:44,466 TRACE (default task-15) TransactionImple.getStatus: javax.transaction.Status.STATUS_MARKED_ROLLBACK\r\n2019-09-13 11:01:44,466 TRACE (default task-15) BaseTransaction.rollback\r\n2019-09-13 11:01:44,466 TRACE (default task-15) TransactionImple.rollbackAndDisassociate\r\n2019-09-13 11:01:44,468 TRACE (default task-15) Unlock: HeldByCurrentThread: Yes, Locked: Yes, HoldCount: 1, QueueLength: 0\r\n2019-09-13 11:01:44,468 TRACE (default task-15) Owner: Thread[default task-15,5,main]\r\n2019-09-13 11:01:44,476 TRACE (default task-15) SynchronizationImple.afterCompletion - Class: class org.jboss.as.txn.service.internal.tsr.JCAOrderedLastSynchronizationList HashCode: 40330594 toString: org.jboss.as.txn.service.internal.tsr.JCAOrderedLastSynchronizationList@2676562\r\n2019-09-13 11:01:44,476 TRACE (default task-15) afterCompletion(4) isTrackByTx=true for org.jboss.jca.core.connectionmanager.listener.TxConnectionListener@105a159d[state=NORMAL managed connection=org.jboss.jca.adapters.jdbc.local.LocalManagedConnection@33bd6c05 connection handles=0 lastReturned=1568352703782 lastValidated=1568350845750 lastCheckedOut=1568352703818 trackByTx=true pool=org.jboss.jca.core.connectionmanager.pool.strategy.PoolBySubject@20796ab0 mcp=SemaphoreConcurrentLinkedQueueManagedConnectionPool@4467852c[pool=jdbc/InventoryDS] xaResource=LocalXAResourceImpl@1263d5dd[connectionListener=105a159d connectionManager=630b92ae warned=false currentXid=null productName=Oracle productVersion=Oracle Database 12c Enterprise Edition Release 12.2.0.1.0 - 64bit Production jndiName=java:jboss/datasources/jdbc/InventoryDS] txSync=null]\r\n2019-09-13 11:01:44,476 TRACE (default task-15) [TxConnectionListener@105a159d] isManagedConnectionFree: true\r\n2019-09-13 11:01:44,476 TRACE (default task-15) IJTRACER-jdbc/InventoryDS-4467852c-1046-34-2069714462871419-105a159d--\r\n~~~\r\n**Logs without setRollbackOnly() from API:**\r\n-----------------------------------------\r\n~~~\r\n2019-09-13 11:01:44,479 TRACE (default task-17) IJTRACER-jdbc/InventoryDS-588c2c98-1051-93-2069714465486053-3c9e3b2f-23a7ccff-org.jboss.as.connector.deployers.ra.processors.CachedConnectionManagerSetupProcessor$CachedConnectionManagerSetupAction@751461b5\r\n2019-09-13 11:01:44,479 TRACE (default task-17) IJTRACER-jdbc/InventoryDS-588c2c98-1051-41-2069714465507047-3c9e3b2f-23a7ccff-\r\n2019-09-13 11:01:44,479 TRACE (default task-17) [TxConnectionListener@3c9e3b2f] unregisterConnection: 0 handles left ([])\r\n2019-09-13 11:01:44,479 TRACE (default task-17) isManagedConnectionFree=false mc=org.jboss.jca.adapters.jdbc.local.LocalManagedConnection@110a223f\r\n2019-09-13 11:01:44,479 TRACE (default task-17) TransactionImple.getStatus: javax.transaction.Status.STATUS_ACTIVE\r\n2019-09-13 11:01:44,479 TRACE (default task-17) BaseTransaction.commit\r\n2019-09-13 11:01:44,479 TRACE (default task-17) TransactionImple.commitAndDisassociate\r\n2019-09-13 11:01:44,479 TRACE (default task-17) SynchronizationImple.beforeCompletion - Class: class org.jboss.as.txn.service.internal.tsr.JCAOrderedLastSynchronizationList HashCode: 101703171 toString: org.jboss.as.txn.service.internal.tsr.JCAOrderedLastSynchronizationList@60fde03\r\n2019-09-13 11:01:44,479 TRACE (default task-17) TransactionImple.getStatus: javax.transaction.Status.STATUS_ACTIVE\r\n2019-09-13 11:01:44,479 TRACE (default task-17) TransactionImple.getStatus: javax.transaction.Status.STATUS_ACTIVE\r\n2019-09-13 11:01:44,479 TRACE (default task-17) delistResource(LocalXAResourceImpl@332d0f3[connectionListener=3c9e3b2f connectionManager=3081dd0c warned=false currentXid=&lt; formatId=131077, gtrid_length=29, bqual_length=36, tx_uid=0:ffff0a278003:-28cc616e:5d7b227a:c51, node_name=1, branch_uid=0:ffff0a278003:-28cc616e:5d7b227a:c53, subordinatenodename=null, eis_name=java:jboss/datasources/jdbc/InventoryDS &gt; productName=Oracle productVersion=Oracle Database 12c Enterprise Edition Release 12.2.0.1.0 - 64bit Production jndiName=java:jboss/datasources/jdbc/InventoryDS], TMSUCCESS)\r\n2019-09-13 11:01:44,479 TRACE (default task-17) TransactionImple.delistResource ( LocalXAResourceImpl@332d0f3[connectionListener=3c9e3b2f connectionManager=3081dd0c warned=false currentXid=&lt; formatId=131077, gtrid_length=29, bqual_length=36, tx_uid=0:ffff0a278003:-28cc616e:5d7b227a:c51, node_name=1, branch_uid=0:ffff0a278003:-28cc616e:5d7b227a:c53, subordinatenodename=null, eis_name=java:jboss/datasources/jdbc/InventoryDS &gt; productName=Oracle productVersion=Oracle Database 12c Enterprise Edition Release 12.2.0.1.0 - 64bit Production jndiName=java:jboss/datasources/jdbc/InventoryDS], 67108864 )\r\n2019-09-13 11:01:44,479 TRACE (default task-17) TransactionImple.getStatus: javax.transaction.Status.STATUS_ACTIVE\r\n2019-09-13 11:01:44,479 TRACE (default task-17) end(&lt; formatId=131077, gtrid_length=29, bqual_length=36, tx_uid=0:ffff0a278003:-28cc616e:5d7b227a:c51, node_name=1, branch_uid=0:ffff0a278003:-28cc616e:5d7b227a:c53, subordinatenodename=null, eis_name=java:jboss/datasources/jdbc/InventoryDS &gt;,67108864)\r\n2019-09-13 11:01:44,479 TRACE (default task-17) IJTRACER-jdbc/InventoryDS-588c2c98-1051-30-2069714465761476-3c9e3b2f-TransactionImple &lt; ac, BasicAction: 0:ffff0a278003:_28cc616e:5d7b227a:c51 status: ActionStatus.RUNNING &gt;-\r\n2019-09-13 11:01:44,480 TRACE (default task-17) Unlock: HeldByCurrentThread: Yes, Locked: Yes, HoldCount: 1, QueueLength: 0\r\n2019-09-13 11:01:44,480 TRACE (default task-17) Owner: Thread[default task-17,5,main]\r\n2019-09-13 11:01:44,480 TRACE (default task-17) IJTRACER-jdbc/InventoryDS-588c2c98-1051-11-2069714466239757-3c9e3b2f--\r\n2019-09-13 11:01:44,480 TRACE (default task-17) returnConnection(3c9e3b2f, true)\r\n2019-09-13 11:01:44,480 TRACE (default task-17) Destroying returned connection org.jboss.jca.core.connectionmanager.listener.TxConnectionListener@3c9e3b2f[state=NORMAL managed connection=org.jboss.jca.adapters.jdbc.local.LocalManagedConnection@110a223f connection handles=0 lastReturned=1568352703828 lastValidated=1568350873622 lastCheckedOut=1568352703856 trackByTx=false pool=org.jboss.jca.core.connectionmanager.pool.strategy.PoolBySubject@7b955f13 mcp=SemaphoreConcurrentLinkedQueueManagedConnectionPool@588c2c98[pool=jdbc/InventoryDS] xaResource=LocalXAResourceImpl@332d0f3[connectionListener=3c9e3b2f connectionManager=3081dd0c warned=false currentXid=null productName=Oracle productVersion=Oracle Database 12c Enterprise Edition Release 12.2.0.1.0 - 64bit Production jndiName=java:jboss/datasources/jdbc/InventoryDS] txSync=TransactionSynchronization@384438466{tx=TransactionImple &lt; ac, BasicAction: 0:ffff0a278003:-28cc616e:5d7b227a:c51 status: ActionStatus.COMMITTING &gt; wasTrackByTx=true enlisted=true cancel=false}]\r\n2019-09-13 11:01:44,480 TRACE (default task-17) IJTRACER-jdbc/InventoryDS-588c2c98-1051-70-2069714466500063-3c9e3b2f--\r\n~~~\r\n\r\nAny help is appreciated.","title":"DB Connection is not getting removed from pool when transaction is rolled back during database fail over in Wildfly-17","body":"<p>I am using <code>Wildfly-17</code> server. I am testing the failover scenario on the Oracle database during ongoing API traffic in Wildfly. \nThe steps I performed:</p>\n\n<ul>\n<li><p>Oracle RAC DB setup is done and scans IP (Virtual IP) is configured in domain.xml. Also, created 2 database services (named as \"pri\" and \"sec\") in the database with preferred service configuration.</p></li>\n<li><p>Wildfly server is up and running with my project binaries,\nwhere DS configuration is:</p></li>\n</ul>\n\n<pre><code>&lt;datasource jta=\"true\" jndi-name=\"java:jboss/datasources/jdbc/InventoryDS\" pool-name=\"jdbc/InventoryDS\" enabled=\"true\" use-java-context=\"true\" spy=\"false\" use-ccm=\"true\" statistics-enabled=\"true\"&gt;\n    &lt;connection-url&gt;jdbc:oracle:thin:@10.151.5.16:1521/pri&lt;/connection-url&gt;\n    &lt;connection-property name=\"AutoCommit\"&gt;false&lt;/connection-property&gt;\n    &lt;driver&gt;ojdbc8&lt;/driver&gt;\n    &lt;pool&gt;\n        &lt;min-pool-size&gt;1&lt;/min-pool-size&gt;\n        &lt;initial-pool-size&gt;1&lt;/initial-pool-size&gt;\n        &lt;max-pool-size&gt;10&lt;/max-pool-size&gt;\n        &lt;prefill&gt;false&lt;/prefill&gt;\n        &lt;fair&gt;false&lt;/fair&gt;\n        &lt;use-strict-min&gt;false&lt;/use-strict-min&gt;\n        &lt;flush-strategy&gt;FailingConnectionOnly&lt;/flush-strategy&gt;\n    &lt;/pool&gt;\n    &lt;security&gt;\n        &lt;security-domain&gt;InventoryDS&lt;/security-domain&gt;\n    &lt;/security&gt;\n    &lt;validation&gt;\n        &lt;validate-on-match&gt;false&lt;/validate-on-match&gt;\n        &lt;background-validation&gt;false&lt;/background-validation&gt;\n        &lt;use-fast-fail&gt;false&lt;/use-fast-fail&gt;\n        &lt;exception-sorter class-name=\"org.jboss.resource.adapter.jdbc.vendor.OracleExceptionSorter\"/&gt;\n    &lt;/validation&gt;\n    &lt;statement&gt;\n        &lt;track-statements&gt;false&lt;/track-statements&gt;\n    &lt;/statement&gt;\n&lt;/datasource&gt;\n</code></pre>\n\n<ul>\n<li>Started load (REST API) using JMeter. All current Db connection is pointing to \"pri\" service.</li>\n<li>During ongoing traffic, I rebooted one DB node (having \"pri\" service)</li>\n</ul>\n\n<p><strong>Expectation:</strong>\nThe existing DB connections will be removed from the pool and a new connection will be pointing to \"sec\" service. Hence, minimal impact on ongoing API traffic</p>\n\n<p><strong>Actual result:</strong> \nIt is not removing DB connection from the pool. Next time the same connection is getting used. Due to which the API is getting failed.</p>\n\n<p><strong>Observation:</strong>\nThe code is written in such a way that for any exception occurs during API execution, the code set to call setRollbackOnly() method for the transaction (it is a container-managed transaction in EJB).</p>\n\n<p>Due to the transaction rollback, the server is not able to remove the connection from the pool. </p>\n\n<p>When I removed <code>setRollbackOnly()</code> from code, then it is able to remove connection from pool and next request will get new connection from \"sec\" DB service.</p>\n\n<h1>Logs for the reference:</h1>\n\n<h2><strong>Logs with setRollbackOnly() called from API:</strong></h2>\n\n<pre><code>2019-09-13 11:01:44,464 TRACE (default task-15) IJTRACER-jdbc/InventoryDS-4467852c-1046-93-2069714450032188-105a159d-73db02c0-org.jboss.as.connector.deployers.ra.processors.CachedConnectionManagerSetupProcessor$CachedConnectionManagerSetupAction@75128fe0\n2019-09-13 11:01:44,464 TRACE (default task-15) IJTRACER-jdbc/InventoryDS-4467852c-1046-41-2069714450059032-105a159d-73db02c0-\n2019-09-13 11:01:44,464 TRACE (default task-15) [TxConnectionListener@105a159d] unregisterConnection: 0 handles left ([])\n2019-09-13 11:01:44,464 TRACE (default task-15) isManagedConnectionFree=false mc=org.jboss.jca.adapters.jdbc.local.LocalManagedConnection@33bd6c05\n2019-09-13 11:01:44,465 TRACE (default task-15) popped object: org.jboss.as.connector.deployers.ra.processors.CachedConnectionManagerSetupProcessor$CachedConnectionManagerSetupAction@75128fe0\n2019-09-13 11:01:44,465 TRACE (default task-15) IJTRACER-CachedConnectionManager-NONE-1046-91-2069714451688504-NONE-org.jboss.as.connector.deployers.ra.processors.CachedConnectionManagerSetupProcessor$CachedConnectionManagerSetupAction@75128fe0-java.lang.Throwable:_CALLSTACK|\\at_org.jboss.jca.core.connectionmanager.ccm.CachedConnectionManagerImpl.popMetaAwareObject(CachedConnectionManagerImpl.java:283)|\\at_org.jboss.as.connector.deployers.ra.processors.CachedConnectionManagerSetupProcessor$CachedConnectionManagerSetupAction.teardown(CachedConnectionManagerSetupProcessor.java:107)|\\at_org.jboss.as.ejb3.component.interceptors.AdditionalSetupInterceptor.processInvocation(AdditionalSetupInterceptor.java:60)|\\at_org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)|\\at_org.jboss.invocation.ContextClassLoaderInterceptor.processInvocation(ContextClassLoaderInterceptor.java:64)|\\at_org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)|\\at_org.jboss.invocation.InterceptorContext.run(InterceptorContext.java:356)|\\at_org.wildfly.security.manager.WildFlySecurityManager.doChecked(WildFlySecurityManager.java:636)|\\at_org.jboss.invocation.AccessCheckingInterceptor.processInvocation(AccessCheckingInterceptor.java:61)|\\at_org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)|\\at_org.jboss.invocation.InterceptorContext.run(InterceptorContext.java:356)|\\at_org.jboss.invocation.PrivilegedWithCombinerInterceptor.processInvocation(PrivilegedWithCombinerInterceptor.java:80)|\\at_org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)|\\at_org.jboss.invocation.ChainedInterceptor.processInvocation(ChainedInterceptor.java:61)|\\at_org.jboss.as.ee.component.ViewService$View.invoke(ViewService.java:198)|\\at_org.jboss.as.ee.component.ViewDescription$1.processInvocation(ViewDescription.java:185)|\\at_org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)|\\at_org.jboss.invocation.ChainedInterceptor.processInvocation(ChainedInterceptor.java:61)|\\at_org.jboss.as.ee.component.ProxyInvocationHandler.invoke(ProxyInvocationHandler.java:73)|\\at_com.demo.inventory.ejb3.inventorymgmt.interfaces.IInventoryDetailSessionLocal$$$view355.searchInventory(Unknown_Source)|\\at_com.demo.inventory.ejb3.inventorymgmt.sessionfacadeintapi.InventoryOperations.searchInventory(InventoryOperations.java:529)|\\at_sun.reflect.GeneratedMethodAccessor1021.invoke(Unknown_Source)|\\at_sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)|\\at_java.lang.reflect.Method.invoke(Method.java:497)|\\at_org.jboss.as.ee.component.ManagedReferenceMethodInterceptor.processInvocation(ManagedReferenceMethodInterceptor.java:52)|\\at_org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)|\\at_org.jboss.invocation.InterceptorContext$Invocation.proceed(InterceptorContext.java:437)|\\at_org.jboss.as.weld.ejb.Jsr299BindingsInterceptor.delegateInterception(Jsr299BindingsInterceptor.java:70)|\\at_org.jboss.as.weld.ejb.Jsr299BindingsInterceptor.doMethodInterception(Jsr299BindingsInterceptor.java:80)|\\at_org.jboss.as.weld.ejb.Jsr299BindingsInterceptor.processInvocation(Jsr299BindingsInterceptor.java:93)|\\at_org.jboss.as.ee.component.interceptors.UserInterceptorFactory$1.processInvocation(UserInterceptorFactory.java:63)|\\at_org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)|\\at_org.jboss.invocation.InterceptorContext$Invocation.proceed(InterceptorContext.java:437)|\\at_com.demo.inventory.aspect.PrePostPlugin.processPrePostEvent(PrePostPlugin.java:125)|\\at_sun.reflect.GeneratedMethodAccessor1020.invoke(Unknown_Source)|\\at_sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)|\\at_java.lang.reflect.Method.invoke(Method.java:497)|\\at_org.jboss.as.ee.component.ManagedReferenceLifecycleMethodInterceptor.processInvocation(ManagedReferenceLifecycleMethodInterceptor.java:89)|\\at_org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)|\\at_org.jboss.as.ejb3.component.invocationmetrics.ExecutionTimeInterceptor.processInvocation(ExecutionTimeInterceptor.java:43)|\\at_org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)|\\at_org.jboss.as.jpa.interceptor.SBInvocationInterceptor.processInvocation(SBInvocationInterceptor.java:47)|\\at_org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)|\\at_org.jboss.invocation.InterceptorContext$Invocation.proceed(InterceptorContext.java:437)|\\at_org.jboss.weld.ejb.AbstractEJBRequestScopeActivationInterceptor.aroundInvoke(AbstractEJBRequestScopeActivationInterceptor.java:73)|\\at_org.jboss.as.weld.ejb.EjbRequestScopeActivationInterceptor.processInvocation(EjbRequestScopeActivationInterceptor.java:83)|\\at_org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)|\\at_org.jboss.as.ee.concurrent.ConcurrentContextInterceptor.processInvocation(ConcurrentContextInterceptor.java:45)|\\at_org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)|\\at_org.jboss.invocation.InitialInterceptor.processInvocation(InitialInterceptor.java:21)|\\at_org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)|\\at_org.jboss.invocation.ChainedInterceptor.processInvocation(ChainedInterceptor.java:61)|\\at_org.jboss.as.ee.component.interceptors.ComponentDispatcherInterceptor.processInvocation(ComponentDispatcherInterceptor.java:52)|\\at_org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)|\\at_org.jboss.as.ejb3.component.pool.PooledInstanceInterceptor.processInvocation(PooledInstanceInterceptor.java:51)|\\at_org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)|\\at_org.jboss.as.ejb3.tx.CMTTxInterceptor.invokeInOurTx(CMTTxInterceptor.java:275)|\\at_org.jboss.as.ejb3.tx.CMTTxInterceptor.required(CMTTxInterceptor.java:327)|\\at_org.jboss.as.ejb3.tx.CMTTxInterceptor.processInvocation(CMTTxInterceptor.java:239)|\\at_org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)|\\at_org.jboss.as.ejb3.remote.EJBRemoteTransactionPropagatingInterceptor.processInvocation(EJBRemoteTransactionPropagatingInterceptor.java:79)|\\at_org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)|\\at_org.jboss.as.ejb3.component.interceptors.CurrentInvocationContextInterceptor.processInvocation(CurrentInvocationContextInterceptor.java:41)|\\at_org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)|\\at_org.jboss.as.ejb3.component.invocationmetrics.WaitTimeInterceptor.processInvocation(WaitTimeInterceptor.java:47)|\\at_org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)|\\at_org.jboss.as.ejb3.security.SecurityContextInterceptor.processInvocation(SecurityContextInterceptor.java:100)|\\at_org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)|\\at_org.jboss.as.ejb3.deployment.processors.StartupAwaitInterceptor.processInvocation(StartupAwaitInterceptor.java:22)|\\at_org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)|\\at_org.jboss.as.ejb3.component.interceptors.ShutDownInterceptorFactory$1.processInvocation(ShutDownInterceptorFactory.java:64)|\\at_org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)|\\at_org.jboss.as.ejb3.deployment.processors.EjbSuspendInterceptor.processInvocation(EjbSuspendInterceptor.java:44)|\\at_org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)|\\at_org.jboss.as.ejb3.component.interceptors.LoggingInterceptor.processInvocation(LoggingInterceptor.java:67)|\\at_org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)|\\at_org.jboss.as.ee.component.NamespaceContextInterceptor.processInvocation(NamespaceContextInterceptor.java:50)|\\at_org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)|\\at_org.jboss.as.ejb3.component.interceptors.AdditionalSetupInterceptor.processInvocation(AdditionalSetupInterceptor.java:54)|\\at_org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)|\\at_org.jboss.invocation.ContextClassLoaderInterceptor.processInvocation(ContextClassLoaderInterceptor.java:64)|\\at_org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)|\\at_org.jboss.invocation.InterceptorContext.run(InterceptorContext.java:356)|\\at_org.wildfly.security.manager.WildFlySecurityManager.doChecked(WildFlySecurityManager.java:636)|\\at_org.jboss.invocation.AccessCheckingInterceptor.processInvocation(AccessCheckingInterceptor.java:61)|\\at_org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)|\\at_org.jboss.invocation.InterceptorContext.run(InterceptorContext.java:356)|\\at_org.jboss.invocation.PrivilegedWithCombinerInterceptor.processInvocation(PrivilegedWithCombinerInterceptor.java:80)|\\at_org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)|\\at_org.jboss.invocation.ChainedInterceptor.processInvocation(ChainedInterceptor.java:61)|\\at_org.jboss.as.ee.component.ViewService$View.invoke(ViewService.java:198)|\\at_org.jboss.as.ejb3.remote.LocalEjbReceiver.processInvocation(LocalEjbReceiver.java:266)|\\at_org.jboss.ejb.client.EJBClientInvocationContext.sendRequest(EJBClientInvocationContext.java:184)|\\at_org.jboss.ejb.client.EJBObjectInterceptor.handleInvocation(EJBObjectInterceptor.java:58)|\\at_org.jboss.ejb.client.EJBClientInvocationContext.sendRequest(EJBClientInvocationContext.java:186)|\\at_org.jboss.ejb.client.EJBHomeInterceptor.handleInvocation(EJBHomeInterceptor.java:83)|\\at_org.jboss.ejb.client.EJBClientInvocationContext.sendRequest(EJBClientInvocationContext.java:186)|\\at_org.jboss.ejb.client.TransactionInterceptor.handleInvocation(TransactionInterceptor.java:42)|\\at_org.jboss.ejb.client.EJBClientInvocationContext.sendRequest(EJBClientInvocationContext.java:186)|\\at_org.jboss.ejb.client.ReceiverInterceptor.handleInvocation(ReceiverInterceptor.java:138)|\\at_org.jboss.ejb.client.EJBClientInvocationContext.sendRequest(EJBClientInvocationContext.java:186)|\\at_org.jboss.ejb.client.EJBInvocationHandler.sendRequestWithPossibleRetries(EJBInvocationHandler.java:255)|\\at_org.jboss.ejb.client.EJBInvocationHandler.doInvoke(EJBInvocationHandler.java:200)|\\at_org.jboss.ejb.client.EJBInvocationHandler.doInvoke(EJBInvocationHandler.java:183)|\\at_org.jboss.ejb.client.EJBInvocationHandler.invoke(EJBInvocationHandler.java:146)|\\at_com.sun.proxy.$Proxy250.searchInventory(Unknown_Source)|\\at_com.demo.rest.inventory.delegator.InventoryOperationsDelegator.searchInventory(InventoryOperationsDelegator.java:70)|\\at_com.demo.rest.inventory.service.InventoryOperationsService.searchInventory(InventoryOperationsService.java:61)|\\at_com.demo.rest.inventory.resource.InventoryOperationsResource.searchInventory(InventoryOperationsResource.java:69)|\\at_sun.reflect.GeneratedMethodAccessor1019.invoke(Unknown_Source)|\\at_sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)|\\at_java.lang.reflect.Method.invoke(Method.java:497)|\\at_org.jboss.resteasy.core.MethodInjectorImpl.invoke(MethodInjectorImpl.java:139)|\\at_org.jboss.resteasy.core.ResourceMethodInvoker.invokeOnTarget(ResourceMethodInvoker.java:295)|\\at_org.jboss.resteasy.core.ResourceMethodInvoker.invoke(ResourceMethodInvoker.java:249)|\\at_org.jboss.resteasy.core.ResourceMethodInvoker.invoke(ResourceMethodInvoker.java:236)|\\at_org.jboss.resteasy.core.SynchronousDispatcher.invoke(SynchronousDispatcher.java:402)|\\at_org.jboss.resteasy.core.SynchronousDispatcher.invokePropagateNotFound(SynchronousDispatcher.java:247)|\\at_org.jboss.resteasy.plugins.server.servlet.ServletContainerDispatcher.service(ServletContainerDispatcher.java:225)|\\at_org.jboss.resteasy.plugins.server.servlet.FilterDispatcher.doFilter(FilterDispatcher.java:62)|\\at_io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)|\\at_io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)|\\at_com.demo.rest.core.filter.CORSFilter.doFilter(CORSFilter.java:51)|\\at_io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)|\\at_io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)|\\at_io.undertow.servlet.handlers.FilterHandler.handleRequest(FilterHandler.java:84)|\\at_io.undertow.servlet.handlers.security.ServletSecurityRoleHandler.handleRequest(ServletSecurityRoleHandler.java:62)|\\at_io.undertow.servlet.handlers.ServletDispatchingHandler.handleRequest(ServletDispatchingHandler.java:36)|\\at_org.wildfly.extension.undertow.security.SecurityContextAssociationHandler.handleRequest(SecurityContextAssociationHandler.java:78)|\\at_io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)|\\at_io.undertow.servlet.handlers.security.SSLInformationAssociationHandler.handleRequest(SSLInformationAssociationHandler.java:131)|\\at_io.undertow.servlet.handlers.security.ServletAuthenticationCallHandler.handleRequest(ServletAuthenticationCallHandler.java:57)|\\at_io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)|\\at_io.undertow.security.handlers.AbstractConfidentialityHandler.handleRequest(AbstractConfidentialityHandler.java:46)|\\at_io.undertow.servlet.handlers.security.ServletConfidentialityConstraintHandler.handleRequest(ServletConfidentialityConstraintHandler.java:64)|\\at_io.undertow.security.handlers.AuthenticationMechanismsHandler.handleRequest(AuthenticationMechanismsHandler.java:60)|\\at_io.undertow.servlet.handlers.security.CachedAuthenticatedSessionHandler.handleRequest(CachedAuthenticatedSessionHandler.java:77)|\\at_io.undertow.security.handlers.NotificationReceiverHandler.handleRequest(NotificationReceiverHandler.java:50)|\\at_io.undertow.security.handlers.AbstractSecurityContextAssociationHandler.handleRequest(AbstractSecurityContextAssociationHandler.java:43)|\\at_io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)|\\at_org.wildfly.extension.undertow.security.jacc.JACCContextIdHandler.handleRequest(JACCContextIdHandler.java:61)|\\at_io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)|\\at_io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)|\\at_io.undertow.servlet.handlers.ServletInitialHandler.handleFirstRequest(ServletInitialHandler.java:292)|\\at_io.undertow.servlet.handlers.ServletInitialHandler.access$100(ServletInitialHandler.java:81)|\\at_io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:138)|\\at_io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:135)|\\at_io.undertow.servlet.core.ServletRequestContextThreadSetupAction$1.call(ServletRequestContextThreadSetupAction.java:48)|\\at_io.undertow.servlet.core.ContextClassLoaderSetupAction$1.call(ContextClassLoaderSetupAction.java:43)|\\at_io.undertow.servlet.api.LegacyThreadSetupActionWrapper$1.call(LegacyThreadSetupActionWrapper.java:44)|\\at_io.undertow.servlet.api.LegacyThreadSetupActionWrapper$1.call(LegacyThreadSetupActionWrapper.java:44)|\\at_io.undertow.servlet.api.LegacyThreadSetupActionWrapper$1.call(LegacyThreadSetupActionWrapper.java:44)|\\at_io.undertow.servlet.api.LegacyThreadSetupActionWrapper$1.call(LegacyThreadSetupActionWrapper.java:44)|\\at_io.undertow.servlet.api.LegacyThreadSetupActionWrapper$1.call(LegacyThreadSetupActionWrapper.java:44)|\\at_io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(ServletInitialHandler.java:272)|\\at_io.undertow.servlet.handlers.ServletInitialHandler.access$000(ServletInitialHandler.java:81)|\\at_io.undertow.servlet.handlers.ServletInitialHandler$1.handleRequest(ServletInitialHandler.java:104)|\\at_io.undertow.server.Connectors.executeRootHandler(Connectors.java:202)|\\at_io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:805)|\\at_java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)|\\at_java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)|\\at_java.lang.Thread.run(Thread.java:745)|\n2019-09-13 11:01:44,466 TRACE (default task-15) BaseTransaction.setRollbackOnly\n2019-09-13 11:01:44,466 TRACE (default task-15) TransactionImple.setRollbackOnly\n2019-09-13 11:01:44,466 TRACE (default task-15) TransactionImple.getStatus: javax.transaction.Status.STATUS_MARKED_ROLLBACK\n2019-09-13 11:01:44,466 TRACE (default task-15) BaseTransaction.rollback\n2019-09-13 11:01:44,466 TRACE (default task-15) TransactionImple.rollbackAndDisassociate\n2019-09-13 11:01:44,468 TRACE (default task-15) Unlock: HeldByCurrentThread: Yes, Locked: Yes, HoldCount: 1, QueueLength: 0\n2019-09-13 11:01:44,468 TRACE (default task-15) Owner: Thread[default task-15,5,main]\n2019-09-13 11:01:44,476 TRACE (default task-15) SynchronizationImple.afterCompletion - Class: class org.jboss.as.txn.service.internal.tsr.JCAOrderedLastSynchronizationList HashCode: 40330594 toString: org.jboss.as.txn.service.internal.tsr.JCAOrderedLastSynchronizationList@2676562\n2019-09-13 11:01:44,476 TRACE (default task-15) afterCompletion(4) isTrackByTx=true for org.jboss.jca.core.connectionmanager.listener.TxConnectionListener@105a159d[state=NORMAL managed connection=org.jboss.jca.adapters.jdbc.local.LocalManagedConnection@33bd6c05 connection handles=0 lastReturned=1568352703782 lastValidated=1568350845750 lastCheckedOut=1568352703818 trackByTx=true pool=org.jboss.jca.core.connectionmanager.pool.strategy.PoolBySubject@20796ab0 mcp=SemaphoreConcurrentLinkedQueueManagedConnectionPool@4467852c[pool=jdbc/InventoryDS] xaResource=LocalXAResourceImpl@1263d5dd[connectionListener=105a159d connectionManager=630b92ae warned=false currentXid=null productName=Oracle productVersion=Oracle Database 12c Enterprise Edition Release 12.2.0.1.0 - 64bit Production jndiName=java:jboss/datasources/jdbc/InventoryDS] txSync=null]\n2019-09-13 11:01:44,476 TRACE (default task-15) [TxConnectionListener@105a159d] isManagedConnectionFree: true\n2019-09-13 11:01:44,476 TRACE (default task-15) IJTRACER-jdbc/InventoryDS-4467852c-1046-34-2069714462871419-105a159d--\n</code></pre>\n\n<h2><strong>Logs without setRollbackOnly() from API:</strong></h2>\n\n<pre><code>2019-09-13 11:01:44,479 TRACE (default task-17) IJTRACER-jdbc/InventoryDS-588c2c98-1051-93-2069714465486053-3c9e3b2f-23a7ccff-org.jboss.as.connector.deployers.ra.processors.CachedConnectionManagerSetupProcessor$CachedConnectionManagerSetupAction@751461b5\n2019-09-13 11:01:44,479 TRACE (default task-17) IJTRACER-jdbc/InventoryDS-588c2c98-1051-41-2069714465507047-3c9e3b2f-23a7ccff-\n2019-09-13 11:01:44,479 TRACE (default task-17) [TxConnectionListener@3c9e3b2f] unregisterConnection: 0 handles left ([])\n2019-09-13 11:01:44,479 TRACE (default task-17) isManagedConnectionFree=false mc=org.jboss.jca.adapters.jdbc.local.LocalManagedConnection@110a223f\n2019-09-13 11:01:44,479 TRACE (default task-17) TransactionImple.getStatus: javax.transaction.Status.STATUS_ACTIVE\n2019-09-13 11:01:44,479 TRACE (default task-17) BaseTransaction.commit\n2019-09-13 11:01:44,479 TRACE (default task-17) TransactionImple.commitAndDisassociate\n2019-09-13 11:01:44,479 TRACE (default task-17) SynchronizationImple.beforeCompletion - Class: class org.jboss.as.txn.service.internal.tsr.JCAOrderedLastSynchronizationList HashCode: 101703171 toString: org.jboss.as.txn.service.internal.tsr.JCAOrderedLastSynchronizationList@60fde03\n2019-09-13 11:01:44,479 TRACE (default task-17) TransactionImple.getStatus: javax.transaction.Status.STATUS_ACTIVE\n2019-09-13 11:01:44,479 TRACE (default task-17) TransactionImple.getStatus: javax.transaction.Status.STATUS_ACTIVE\n2019-09-13 11:01:44,479 TRACE (default task-17) delistResource(LocalXAResourceImpl@332d0f3[connectionListener=3c9e3b2f connectionManager=3081dd0c warned=false currentXid=&lt; formatId=131077, gtrid_length=29, bqual_length=36, tx_uid=0:ffff0a278003:-28cc616e:5d7b227a:c51, node_name=1, branch_uid=0:ffff0a278003:-28cc616e:5d7b227a:c53, subordinatenodename=null, eis_name=java:jboss/datasources/jdbc/InventoryDS &gt; productName=Oracle productVersion=Oracle Database 12c Enterprise Edition Release 12.2.0.1.0 - 64bit Production jndiName=java:jboss/datasources/jdbc/InventoryDS], TMSUCCESS)\n2019-09-13 11:01:44,479 TRACE (default task-17) TransactionImple.delistResource ( LocalXAResourceImpl@332d0f3[connectionListener=3c9e3b2f connectionManager=3081dd0c warned=false currentXid=&lt; formatId=131077, gtrid_length=29, bqual_length=36, tx_uid=0:ffff0a278003:-28cc616e:5d7b227a:c51, node_name=1, branch_uid=0:ffff0a278003:-28cc616e:5d7b227a:c53, subordinatenodename=null, eis_name=java:jboss/datasources/jdbc/InventoryDS &gt; productName=Oracle productVersion=Oracle Database 12c Enterprise Edition Release 12.2.0.1.0 - 64bit Production jndiName=java:jboss/datasources/jdbc/InventoryDS], 67108864 )\n2019-09-13 11:01:44,479 TRACE (default task-17) TransactionImple.getStatus: javax.transaction.Status.STATUS_ACTIVE\n2019-09-13 11:01:44,479 TRACE (default task-17) end(&lt; formatId=131077, gtrid_length=29, bqual_length=36, tx_uid=0:ffff0a278003:-28cc616e:5d7b227a:c51, node_name=1, branch_uid=0:ffff0a278003:-28cc616e:5d7b227a:c53, subordinatenodename=null, eis_name=java:jboss/datasources/jdbc/InventoryDS &gt;,67108864)\n2019-09-13 11:01:44,479 TRACE (default task-17) IJTRACER-jdbc/InventoryDS-588c2c98-1051-30-2069714465761476-3c9e3b2f-TransactionImple &lt; ac, BasicAction: 0:ffff0a278003:_28cc616e:5d7b227a:c51 status: ActionStatus.RUNNING &gt;-\n2019-09-13 11:01:44,480 TRACE (default task-17) Unlock: HeldByCurrentThread: Yes, Locked: Yes, HoldCount: 1, QueueLength: 0\n2019-09-13 11:01:44,480 TRACE (default task-17) Owner: Thread[default task-17,5,main]\n2019-09-13 11:01:44,480 TRACE (default task-17) IJTRACER-jdbc/InventoryDS-588c2c98-1051-11-2069714466239757-3c9e3b2f--\n2019-09-13 11:01:44,480 TRACE (default task-17) returnConnection(3c9e3b2f, true)\n2019-09-13 11:01:44,480 TRACE (default task-17) Destroying returned connection org.jboss.jca.core.connectionmanager.listener.TxConnectionListener@3c9e3b2f[state=NORMAL managed connection=org.jboss.jca.adapters.jdbc.local.LocalManagedConnection@110a223f connection handles=0 lastReturned=1568352703828 lastValidated=1568350873622 lastCheckedOut=1568352703856 trackByTx=false pool=org.jboss.jca.core.connectionmanager.pool.strategy.PoolBySubject@7b955f13 mcp=SemaphoreConcurrentLinkedQueueManagedConnectionPool@588c2c98[pool=jdbc/InventoryDS] xaResource=LocalXAResourceImpl@332d0f3[connectionListener=3c9e3b2f connectionManager=3081dd0c warned=false currentXid=null productName=Oracle productVersion=Oracle Database 12c Enterprise Edition Release 12.2.0.1.0 - 64bit Production jndiName=java:jboss/datasources/jdbc/InventoryDS] txSync=TransactionSynchronization@384438466{tx=TransactionImple &lt; ac, BasicAction: 0:ffff0a278003:-28cc616e:5d7b227a:c51 status: ActionStatus.COMMITTING &gt; wasTrackByTx=true enlisted=true cancel=false}]\n2019-09-13 11:01:44,480 TRACE (default task-17) IJTRACER-jdbc/InventoryDS-588c2c98-1051-70-2069714466500063-3c9e3b2f--\n</code></pre>\n\n<p>Any help is appreciated.</p>\n"},{"tags":["java","spring","spring-boot","maven","spring-data-jpa"],"comments":[{"owner":{"account_id":58650,"reputation":3399,"user_id":175554,"accept_rate":40,"display_name":"ozkanpakdil"},"score":0,"creation_date":1663612551,"post_id":73773609,"comment_id":130276448,"body_markdown":"have you tried to change artifactId from /// to a word, also name has /// these may generate errors.","body":"have you tried to change artifactId from /// to a word, also name has /// these may generate errors."},{"owner":{"account_id":23989711,"reputation":21,"user_id":17976040,"display_name":"Antoine_m"},"score":0,"creation_date":1663836153,"post_id":73773609,"comment_id":130334200,"body_markdown":"@ozkanpakdil I changed it for privacy. In my real pom.xml it is not ///. Thanks for your answer","body":"@ozkanpakdil I changed it for privacy. In my real pom.xml it is not ///. Thanks for your answer"}],"answers":[{"tags":[],"owner":{"account_id":2558120,"reputation":1,"user_id":2219694,"display_name":"sab_mon"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663616794,"creation_date":1663616794,"answer_id":73778551,"question_id":73773609,"body_markdown":"I have the same issue. I downloaded the project https://github.com/querydsl/querydsl/tree/QUERYDSL_5_0_0 and after running maven clean install of the project querydsl-codegen-utils it provided the following output: \r\n\r\n    [INFO] Installing ${HOME}/querydsl-QUERYDSL_5_0_0/querydsl-codegen-utils/target/codegen-utils-5.0.0.jar to ${HOME}/.m2/repository/com/querydsl/codegen-utils/5.0.0/codegen-utils-5.0.0.jar\r\n\r\nSo there is no artifact that matches querydsl-codegen-utils. I think the problem comes from the pom file of the module querydsl-bom. The artifact name  must be codegen-utils unstead of querydsl-codegen-utils. \r\n\r\nA dirty workaround is to download or clone this project and change the artifactId of the module querydsl-codegen-utils &lt;artifactId&gt;querydsl-codegen-utils&lt;/artifactId&gt; then mvn clean install or deploy to a local/remote repository ","title":"Maven site - querydsl-codegen-utils:pom:5.0.0 not found","body":"<p>I have the same issue. I downloaded the project <a href=\"https://github.com/querydsl/querydsl/tree/QUERYDSL_5_0_0\" rel=\"nofollow noreferrer\">https://github.com/querydsl/querydsl/tree/QUERYDSL_5_0_0</a> and after running maven clean install of the project querydsl-codegen-utils it provided the following output:</p>\n<pre><code>[INFO] Installing ${HOME}/querydsl-QUERYDSL_5_0_0/querydsl-codegen-utils/target/codegen-utils-5.0.0.jar to ${HOME}/.m2/repository/com/querydsl/codegen-utils/5.0.0/codegen-utils-5.0.0.jar\n</code></pre>\n<p>So there is no artifact that matches querydsl-codegen-utils. I think the problem comes from the pom file of the module querydsl-bom. The artifact name  must be codegen-utils unstead of querydsl-codegen-utils.</p>\n<p>A dirty workaround is to download or clone this project and change the artifactId of the module querydsl-codegen-utils querydsl-codegen-utils then mvn clean install or deploy to a local/remote repository</p>\n"},{"tags":[],"owner":{"account_id":7129149,"reputation":978,"user_id":5451049,"accept_rate":62,"display_name":"sunder"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687865661,"creation_date":1687865117,"answer_id":76564377,"question_id":73773609,"body_markdown":"The reason for this is that spring boot is using `querydsl-bom` which has defined the wrong library artifact id. It has defined the id as \r\n\r\n     &lt;dependency&gt;\r\n          &lt;groupId&gt;com.querydsl&lt;/groupId&gt;\r\n          &lt;artifactId&gt;querydsl-codegen-utils&lt;/artifactId&gt;\r\n          &lt;version&gt;5.0.0&lt;/version&gt;\r\n     &lt;/dependency&gt;\r\n\r\nwhereas the exact library that has to be present is \r\n\r\n     &lt;dependency&gt;\r\n          &lt;groupId&gt;com.querydsl&lt;/groupId&gt;\r\n          &lt;artifactId&gt;codegen-utils&lt;/artifactId&gt;\r\n          &lt;version&gt;5.0.0&lt;/version&gt;\r\n     &lt;/dependency&gt;\r\n\r\nReference:- https://mvnrepository.com/artifact/com.querydsl/querydsl-bom/5.0.0\r\n\r\nIssue is fixed in querydsl-bom but never released a new version for it https://github.com/querydsl/querydsl/commit/c589757291d4f53e6148dae3227bed111c2f740f\r\n","title":"Maven site - querydsl-codegen-utils:pom:5.0.0 not found","body":"<p>The reason for this is that spring boot is using <code>querydsl-bom</code> which has defined the wrong library artifact id. It has defined the id as</p>\n<pre><code> &lt;dependency&gt;\n      &lt;groupId&gt;com.querydsl&lt;/groupId&gt;\n      &lt;artifactId&gt;querydsl-codegen-utils&lt;/artifactId&gt;\n      &lt;version&gt;5.0.0&lt;/version&gt;\n &lt;/dependency&gt;\n</code></pre>\n<p>whereas the exact library that has to be present is</p>\n<pre><code> &lt;dependency&gt;\n      &lt;groupId&gt;com.querydsl&lt;/groupId&gt;\n      &lt;artifactId&gt;codegen-utils&lt;/artifactId&gt;\n      &lt;version&gt;5.0.0&lt;/version&gt;\n &lt;/dependency&gt;\n</code></pre>\n<p>Reference:- <a href=\"https://mvnrepository.com/artifact/com.querydsl/querydsl-bom/5.0.0\" rel=\"nofollow noreferrer\">https://mvnrepository.com/artifact/com.querydsl/querydsl-bom/5.0.0</a></p>\n<p>Issue is fixed in querydsl-bom but never released a new version for it <a href=\"https://github.com/querydsl/querydsl/commit/c589757291d4f53e6148dae3227bed111c2f740f\" rel=\"nofollow noreferrer\">https://github.com/querydsl/querydsl/commit/c589757291d4f53e6148dae3227bed111c2f740f</a></p>\n"}],"owner":{"account_id":23989711,"reputation":21,"user_id":17976040,"display_name":"Antoine_m"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":773,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1687865661,"creation_date":1663591775,"question_id":73773609,"body_markdown":"When using maven site I get this error : \r\n\r\n&gt; com.querydsl:querydsl-codegen-utils:pom:5.0.0 was not found in https://repo.maven.apache.org/maven2 during a previous attempt. This failure was cached in the local repository and resolution is not reattempted until the update interval of central has elapsed or updates are forced\r\n\r\nLooking more into the error I find : \r\n&gt; Caused by: org.eclipse.aether.transfer.ArtifactTransferException: com.querydsl:querydsl-codegen-utils:pom:5.0.0 failed to transfer from https://spring-roo-repository.springsource.org/release during a previous attempt. This failure was cached in the local repository and resolution is not reattempted until the update interval of spring roo repository has elapsed or updates are forced. Original error: Could not transfer artifact com.querydsl:querydsl-codegen-utils:pom:5.0.0 from/to spring roo repository (https://spring-roo-repository.springsource.org/release): Access denied to: https://spring-roo-repository.springsource.org/release/com/querydsl/querydsl-codegen-utils/5.0.0/querydsl-codegen-utils-5.0.0.pom\r\n\r\n\r\nHere my pom.xml \r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;2.7.1&lt;/version&gt;\r\n    &lt;/parent&gt;\r\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\r\n    &lt;artifactId&gt;///&lt;/artifactId&gt;\r\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    &lt;name&gt;///&lt;/name&gt;\r\n    &lt;description&gt;///&lt;/description&gt;\r\n    &lt;properties&gt;\r\n        &lt;java.version&gt;11&lt;/java.version&gt;\r\n    &lt;/properties&gt;\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n            &lt;version&gt;2.7.3&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n            &lt;version&gt;2.7.3&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n            &lt;version&gt;2.7.3&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\r\n            &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\r\n            &lt;version&gt;42.5.0&lt;/version&gt;\r\n            &lt;scope&gt;runtime&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n            &lt;optional&gt;true&lt;/optional&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n            &lt;version&gt;2.7.3&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\r\n            &lt;version&gt;5.7.3&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.itextpdf&lt;/groupId&gt;\r\n            &lt;artifactId&gt;itextpdf&lt;/artifactId&gt;\r\n            &lt;version&gt;5.5.13.3&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-context-support&lt;/artifactId&gt;\r\n            &lt;version&gt;5.3.22&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-mail&lt;/artifactId&gt;\r\n            &lt;version&gt;2.7.3&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\r\n            &lt;artifactId&gt;poi&lt;/artifactId&gt;\r\n            &lt;version&gt;5.2.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\r\n            &lt;artifactId&gt;poi-ooxml&lt;/artifactId&gt;\r\n            &lt;version&gt;5.2.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.jacoco&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jacoco-maven-plugin&lt;/artifactId&gt;\r\n            &lt;version&gt;0.8.8&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;\r\n            &lt;version&gt;5.9.0&lt;/version&gt;\r\n            &lt;scope&gt;compile&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\r\n            &lt;version&gt;5.9.0&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.mockito&lt;/groupId&gt;\r\n            &lt;artifactId&gt;mockito-junit-jupiter&lt;/artifactId&gt;\r\n            &lt;version&gt;4.8.0&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.h2database&lt;/groupId&gt;\r\n            &lt;artifactId&gt;h2&lt;/artifactId&gt;\r\n            &lt;version&gt;2.1.214&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.assertj&lt;/groupId&gt;\r\n            &lt;artifactId&gt;assertj-core&lt;/artifactId&gt;\r\n            &lt;version&gt;3.23.1&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.google.guava&lt;/groupId&gt;\r\n            &lt;artifactId&gt;guava&lt;/artifactId&gt;\r\n            &lt;version&gt;31.1-jre&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.itextpdf.tool&lt;/groupId&gt;\r\n            &lt;artifactId&gt;xmlworker&lt;/artifactId&gt;\r\n            &lt;version&gt;5.5.13.3&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\r\n            &lt;artifactId&gt;poi-scratchpad&lt;/artifactId&gt;\r\n            &lt;version&gt;5.2.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.pdfbox&lt;/groupId&gt;\r\n            &lt;artifactId&gt;pdfbox-tools&lt;/artifactId&gt;\r\n            &lt;version&gt;2.0.26&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;net.sourceforge.htmlunit&lt;/groupId&gt;\r\n            &lt;artifactId&gt;htmlunit&lt;/artifactId&gt;\r\n            &lt;version&gt;2.64.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n            &lt;artifactId&gt;maven-site-plugin&lt;/artifactId&gt;\r\n            &lt;version&gt;4.0.0-M3&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.querydsl&lt;/groupId&gt;\r\n            &lt;artifactId&gt;querydsl-apt&lt;/artifactId&gt;\r\n            &lt;version&gt;5.0.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.querydsl&lt;/groupId&gt;\r\n            &lt;artifactId&gt;querydsl-jpa&lt;/artifactId&gt;\r\n            &lt;version&gt;5.0.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;com.mysema.maven&lt;/groupId&gt;\r\n                &lt;artifactId&gt;apt-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;1.1.3&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;process&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;outputDirectory&gt;target/generated-sources/java&lt;/outputDirectory&gt;\r\n                            &lt;processor&gt;com.mysema.query.apt.jpa.JPAAnnotationProcessor&lt;/processor&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-site-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.10.0&lt;/version&gt;\r\n            &lt;/plugin&gt;\r\n\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-project-info-reports-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.0.0&lt;/version&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.jacoco&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jacoco-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;0.8.8&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;prepare-agent&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;report&lt;/id&gt;\r\n                        &lt;phase&gt;test&lt;/phase&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;report&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;2.7.3&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;excludes&gt;\r\n                        &lt;exclude&gt;\r\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n                        &lt;/exclude&gt;\r\n                    &lt;/excludes&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;com.github.eirslett&lt;/groupId&gt;\r\n                &lt;artifactId&gt;frontend-maven-plugin&lt;/artifactId&gt;\r\n                &lt;!-- Use the latest released version:\r\n                          https://repo1.maven.org/maven2/com/github/eirslett/frontend-maven-plugin/ --&gt;\r\n                &lt;version&gt;1.11.2&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;nodeVersion&gt;v4.6.0&lt;/nodeVersion&gt;\r\n                    &lt;workingDirectory&gt;src/frontend&lt;/workingDirectory&gt;\r\n                &lt;/configuration&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;install node and npm&lt;/id&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;install-node-and-npm&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                        &lt;phase&gt;install&lt;/phase&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;nodeVersion&gt;v15.4.0&lt;/nodeVersion&gt;\r\n                            &lt;npmVersion&gt;7.3.0&lt;/npmVersion&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/execution&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;npm install&lt;/id&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;npm&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                        &lt;phase&gt;install&lt;/phase&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;arguments&gt;install&lt;/arguments&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/execution&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;npm run build&lt;/id&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;npm&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                        &lt;phase&gt;compile&lt;/phase&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;arguments&gt;run build&lt;/arguments&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.2.0&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;copy-build-folder&lt;/id&gt;\r\n                        &lt;phase&gt;compile&lt;/phase&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;copy-resources&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;resources&gt;\r\n                                &lt;resource&gt;\r\n                                    &lt;directory&gt;src/frontend/build&lt;/directory&gt;\r\n                                &lt;/resource&gt;\r\n                            &lt;/resources&gt;\r\n                            &lt;outputDirectory&gt;target/classes/static&lt;/outputDirectory&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\n\r\nI&#39;ve tried to go around the error, but found nothing. Hope someone can help, \r\nthanks!","title":"Maven site - querydsl-codegen-utils:pom:5.0.0 not found","body":"<p>When using maven site I get this error :</p>\n<blockquote>\n<p>com.querydsl:querydsl-codegen-utils:pom:5.0.0 was not found in <a href=\"https://repo.maven.apache.org/maven2\" rel=\"nofollow noreferrer\">https://repo.maven.apache.org/maven2</a> during a previous attempt. This failure was cached in the local repository and resolution is not reattempted until the update interval of central has elapsed or updates are forced</p>\n</blockquote>\n<p>Looking more into the error I find :</p>\n<blockquote>\n<p>Caused by: org.eclipse.aether.transfer.ArtifactTransferException: com.querydsl:querydsl-codegen-utils:pom:5.0.0 failed to transfer from <a href=\"https://spring-roo-repository.springsource.org/release\" rel=\"nofollow noreferrer\">https://spring-roo-repository.springsource.org/release</a> during a previous attempt. This failure was cached in the local repository and resolution is not reattempted until the update interval of spring roo repository has elapsed or updates are forced. Original error: Could not transfer artifact com.querydsl:querydsl-codegen-utils:pom:5.0.0 from/to spring roo repository (<a href=\"https://spring-roo-repository.springsource.org/release\" rel=\"nofollow noreferrer\">https://spring-roo-repository.springsource.org/release</a>): Access denied to: <a href=\"https://spring-roo-repository.springsource.org/release/com/querydsl/querydsl-codegen-utils/5.0.0/querydsl-codegen-utils-5.0.0.pom\" rel=\"nofollow noreferrer\">https://spring-roo-repository.springsource.org/release/com/querydsl/querydsl-codegen-utils/5.0.0/querydsl-codegen-utils-5.0.0.pom</a></p>\n</blockquote>\n<p>Here my pom.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.7.1&lt;/version&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;///&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;///&lt;/name&gt;\n    &lt;description&gt;///&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;11&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n            &lt;version&gt;2.7.3&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n            &lt;version&gt;2.7.3&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n            &lt;version&gt;2.7.3&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\n            &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n            &lt;version&gt;42.5.0&lt;/version&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;version&gt;2.7.3&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\n            &lt;version&gt;5.7.3&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.itextpdf&lt;/groupId&gt;\n            &lt;artifactId&gt;itextpdf&lt;/artifactId&gt;\n            &lt;version&gt;5.5.13.3&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-context-support&lt;/artifactId&gt;\n            &lt;version&gt;5.3.22&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-mail&lt;/artifactId&gt;\n            &lt;version&gt;2.7.3&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\n            &lt;artifactId&gt;poi&lt;/artifactId&gt;\n            &lt;version&gt;5.2.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\n            &lt;artifactId&gt;poi-ooxml&lt;/artifactId&gt;\n            &lt;version&gt;5.2.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.jacoco&lt;/groupId&gt;\n            &lt;artifactId&gt;jacoco-maven-plugin&lt;/artifactId&gt;\n            &lt;version&gt;0.8.8&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;\n            &lt;version&gt;5.9.0&lt;/version&gt;\n            &lt;scope&gt;compile&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\n            &lt;version&gt;5.9.0&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.mockito&lt;/groupId&gt;\n            &lt;artifactId&gt;mockito-junit-jupiter&lt;/artifactId&gt;\n            &lt;version&gt;4.8.0&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.h2database&lt;/groupId&gt;\n            &lt;artifactId&gt;h2&lt;/artifactId&gt;\n            &lt;version&gt;2.1.214&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.assertj&lt;/groupId&gt;\n            &lt;artifactId&gt;assertj-core&lt;/artifactId&gt;\n            &lt;version&gt;3.23.1&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.guava&lt;/groupId&gt;\n            &lt;artifactId&gt;guava&lt;/artifactId&gt;\n            &lt;version&gt;31.1-jre&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.itextpdf.tool&lt;/groupId&gt;\n            &lt;artifactId&gt;xmlworker&lt;/artifactId&gt;\n            &lt;version&gt;5.5.13.3&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\n            &lt;artifactId&gt;poi-scratchpad&lt;/artifactId&gt;\n            &lt;version&gt;5.2.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.pdfbox&lt;/groupId&gt;\n            &lt;artifactId&gt;pdfbox-tools&lt;/artifactId&gt;\n            &lt;version&gt;2.0.26&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;net.sourceforge.htmlunit&lt;/groupId&gt;\n            &lt;artifactId&gt;htmlunit&lt;/artifactId&gt;\n            &lt;version&gt;2.64.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-site-plugin&lt;/artifactId&gt;\n            &lt;version&gt;4.0.0-M3&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.querydsl&lt;/groupId&gt;\n            &lt;artifactId&gt;querydsl-apt&lt;/artifactId&gt;\n            &lt;version&gt;5.0.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.querydsl&lt;/groupId&gt;\n            &lt;artifactId&gt;querydsl-jpa&lt;/artifactId&gt;\n            &lt;version&gt;5.0.0&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;com.mysema.maven&lt;/groupId&gt;\n                &lt;artifactId&gt;apt-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;1.1.3&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;process&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;configuration&gt;\n                            &lt;outputDirectory&gt;target/generated-sources/java&lt;/outputDirectory&gt;\n                            &lt;processor&gt;com.mysema.query.apt.jpa.JPAAnnotationProcessor&lt;/processor&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-site-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.10.0&lt;/version&gt;\n            &lt;/plugin&gt;\n\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-project-info-reports-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.0.0&lt;/version&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.jacoco&lt;/groupId&gt;\n                &lt;artifactId&gt;jacoco-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;0.8.8&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;prepare-agent&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;report&lt;/id&gt;\n                        &lt;phase&gt;test&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;report&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.7.3&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;excludes&gt;\n                        &lt;exclude&gt;\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                        &lt;/exclude&gt;\n                    &lt;/excludes&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;com.github.eirslett&lt;/groupId&gt;\n                &lt;artifactId&gt;frontend-maven-plugin&lt;/artifactId&gt;\n                &lt;!-- Use the latest released version:\n                          https://repo1.maven.org/maven2/com/github/eirslett/frontend-maven-plugin/ --&gt;\n                &lt;version&gt;1.11.2&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;nodeVersion&gt;v4.6.0&lt;/nodeVersion&gt;\n                    &lt;workingDirectory&gt;src/frontend&lt;/workingDirectory&gt;\n                &lt;/configuration&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;install node and npm&lt;/id&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;install-node-and-npm&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;phase&gt;install&lt;/phase&gt;\n                        &lt;configuration&gt;\n                            &lt;nodeVersion&gt;v15.4.0&lt;/nodeVersion&gt;\n                            &lt;npmVersion&gt;7.3.0&lt;/npmVersion&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;npm install&lt;/id&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;npm&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;phase&gt;install&lt;/phase&gt;\n                        &lt;configuration&gt;\n                            &lt;arguments&gt;install&lt;/arguments&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;npm run build&lt;/id&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;npm&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;phase&gt;compile&lt;/phase&gt;\n                        &lt;configuration&gt;\n                            &lt;arguments&gt;run build&lt;/arguments&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.2.0&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;copy-build-folder&lt;/id&gt;\n                        &lt;phase&gt;compile&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;copy-resources&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;configuration&gt;\n                            &lt;resources&gt;\n                                &lt;resource&gt;\n                                    &lt;directory&gt;src/frontend/build&lt;/directory&gt;\n                                &lt;/resource&gt;\n                            &lt;/resources&gt;\n                            &lt;outputDirectory&gt;target/classes/static&lt;/outputDirectory&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>I've tried to go around the error, but found nothing. Hope someone can help,\nthanks!</p>\n"},{"tags":["java","memory","smartcard","javacard"],"comments":[{"owner":{"account_id":2116673,"reputation":678,"user_id":1880811,"display_name":"Asthor"},"score":0,"creation_date":1688475214,"post_id":76564360,"comment_id":135076839,"body_markdown":"Which version of GlobalPlatformPro are you using? Are you deleting the package ID or the applet ID?","body":"Which version of GlobalPlatformPro are you using? Are you deleting the package ID or the applet ID?"},{"owner":{"account_id":20800286,"reputation":119,"user_id":15276480,"display_name":"LozCodes"},"score":0,"creation_date":1688576914,"post_id":76564360,"comment_id":135093347,"body_markdown":"I&#39;m using gpp version 325fe84. I&#39;m trying to delete first the applet, then the package ID. The &#39;Could not delete&#39; message comes when I try and delete the applet. If I try to delete the package first I get the &#39;some app still active?&#39; message","body":"I&#39;m using gpp version 325fe84. I&#39;m trying to delete first the applet, then the package ID. The &#39;Could not delete&#39; message comes when I try and delete the applet. If I try to delete the package first I get the &#39;some app still active?&#39; message"},{"owner":{"account_id":2116673,"reputation":678,"user_id":1880811,"display_name":"Asthor"},"score":1,"creation_date":1688635838,"post_id":76564360,"comment_id":135101387,"body_markdown":"20.08.12 (325fe84) is a pre-release. Latest release is 20.1.23 (5ad373b) as there might be issue in the pre-release.  Other than that, not all cards are fully tested and supported and if the latest release wont work, making a ticket to on the github repository for GlobalPlatformPro is probably required.","body":"20.08.12 (325fe84) is a pre-release. Latest release is 20.1.23 (5ad373b) as there might be issue in the pre-release.  Other than that, not all cards are fully tested and supported and if the latest release wont work, making a ticket to on the github repository for GlobalPlatformPro is probably required."}],"owner":{"account_id":20800286,"reputation":119,"user_id":15276480,"display_name":"LozCodes"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687865029,"creation_date":1687865029,"question_id":76564360,"body_markdown":"I&#39;m unable to delete an app off of my ACOSJ card. It was working okay until today when I started to get the 6F00 response to every command. I tried to delete the app with global platform pro and got the message &#39;Could not delete AID: xxxxxxxxxx&#39;.\r\n\r\nWhy is it that I can&#39;t delete the app? Is it related to the fact that after using the app fine for a while I start getting a 6F00 response?","title":"Unable to delete apps off ACOSJ Card","body":"<p>I'm unable to delete an app off of my ACOSJ card. It was working okay until today when I started to get the 6F00 response to every command. I tried to delete the app with global platform pro and got the message 'Could not delete AID: xxxxxxxxxx'.</p>\n<p>Why is it that I can't delete the app? Is it related to the fact that after using the app fine for a while I start getting a 6F00 response?</p>\n"},{"tags":["java","spring","cxf"],"answers":[{"tags":[],"owner":{"account_id":16450528,"reputation":1,"user_id":11884065,"display_name":"Pratap"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687864335,"creation_date":1687864335,"answer_id":76564272,"question_id":52873898,"body_markdown":"**I managed it with below**\r\n\r\n    @Bean(name = &quot;mltfClient&quot;)\r\n      public Mltf mltf(MltfInMessageInterceptor in,MltfInMessageInterceptor out) {\r\n        JaxWsProxyFactoryBean factoryBean = new JaxWsProxyFactoryBean();\r\n        factoryBean.setServiceClass(Mltf.class);\r\n        factoryBean.setAddress(address);      \r\n        factoryBean.getOutInterceptors().add(out);\r\n        factoryBean.getInInterceptors().add(in); \r\n        \r\n        return (Mltf) factoryBean.create();  \r\n    \r\n      }\r\n      @Bean HTTPConduit conduit(Mltf mtlf)\r\n      {\r\n        Client client = ClientProxy.getClient(mtlf);\r\n        HTTPClientPolicy policy = new HTTPClientPolicy();\r\n        policy.setReceiveTimeout(30000);\r\n        policy.setConnectionTimeout(10000);\r\n        policy.setConnection(ConnectionType.CLOSE);\r\n        policy.setAllowChunking(false);\r\n        HTTPConduit conduit=(HTTPConduit) client.getConduit();\r\n        conduit.setClient(policy);\r\n        return conduit;\r\n      }","title":"CXF Bus - Add HttpConduitFeature with custom timeouts","body":"<p><strong>I managed it with below</strong></p>\n<pre><code>@Bean(name = &quot;mltfClient&quot;)\n  public Mltf mltf(MltfInMessageInterceptor in,MltfInMessageInterceptor out) {\n    JaxWsProxyFactoryBean factoryBean = new JaxWsProxyFactoryBean();\n    factoryBean.setServiceClass(Mltf.class);\n    factoryBean.setAddress(address);      \n    factoryBean.getOutInterceptors().add(out);\n    factoryBean.getInInterceptors().add(in); \n    \n    return (Mltf) factoryBean.create();  \n\n  }\n  @Bean HTTPConduit conduit(Mltf mtlf)\n  {\n    Client client = ClientProxy.getClient(mtlf);\n    HTTPClientPolicy policy = new HTTPClientPolicy();\n    policy.setReceiveTimeout(30000);\n    policy.setConnectionTimeout(10000);\n    policy.setConnection(ConnectionType.CLOSE);\n    policy.setAllowChunking(false);\n    HTTPConduit conduit=(HTTPConduit) client.getConduit();\n    conduit.setClient(policy);\n    return conduit;\n  }\n</code></pre>\n"}],"owner":{"account_id":1178419,"reputation":140,"user_id":1153864,"display_name":"Ametzaga"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":583,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1687864335,"creation_date":1539865261,"question_id":52873898,"body_markdown":"I am trying to configure the CXF Bus, with common timeouts for all clients. For that, I am using HttpConduitFeature and adding it to the Bus during the initial configuration as below:\r\n\r\n    @Configuration\r\n    public class CxfContext {\r\n    \r\n    \t@Autowired\r\n    \tprivate SoapConfigurations soapConfigurations;\r\n    \r\n    \t@Bean\r\n    \tpublic Bus bus() {\r\n    \r\n    \t\tSpringBus b = new SpringBus();\r\n    \r\n    \t\tList&lt;Feature&gt; features = ImmutableList.&lt;Feature&gt; builder() //\r\n    \t\t\t.add(loggingFeature()) //\r\n    \t\t\t.add(conduitFeature()) //\r\n    \t\t\t.build();\r\n    \r\n    \t\tb.setFeatures(features);\r\n    \t\treturn b;\r\n    \t}\r\n    \r\n    \tprivate LoggingFeature loggingFeature() {\r\n    \t\tLoggingFeature f = new LoggingFeature();\r\n    \t\tf.setPrettyLogging(true);\r\n    \t\tf.setVerbose(true);\r\n    \t\tf.setLimit(-1);\r\n    \t\treturn f;\r\n    \t}\r\n    \r\n    \tprivate HttpConduitFeature conduitFeature() {\r\n    \r\n    \t\tHttpConduitFeature feature = new HttpConduitFeature();\r\n    \r\n    \t\tHttpConduitConfig conduitConfig = new HttpConduitConfig();\r\n    \r\n    \t\tHTTPClientPolicy clientPolicy = new HTTPClientPolicy();\r\n    \t\tclientPolicy.setConnectionTimeout(10000);\r\n    \t\tclientPolicy.setReceiveTimeout(10000);\r\n \r\n    \t\tconduitConfig.setClientPolicy(clientPolicy);\r\n    \r\n    \t\tfeature.setConduitConfig(conduitConfig);\r\n    \r\n    \t\treturn feature;\r\n    \t}\r\n    \r\n    }\r\n\r\nAfter, when generating the Soap client, I am using JaxWsProxyFactoryBean and setting the Bus to it:\r\n\r\n    @Configuration\r\n    public class SoapClientContext {\r\n    \r\n    \t@Autowired\r\n    \tprivate Bus bus;\r\n    \r\n    \t@Bean\r\n    \tpublic IService myService(SoapConfigurations soapConfigurations) {\r\n    \r\n    \t\tJaxWsProxyFactoryBean factory = new JaxWsProxyFactoryBean();\r\n    \r\n    \t\tfactory.setAddress(soapConfigurations.getUrl());\r\n    \t\tfactory.setBus(bus);\r\n    \r\n    \t\treturn factory.create(IService.class);\r\n    \t}\r\n    \r\n    }\r\n\r\nThe client is using correctly the logging feature configured in the Bus, but the HttpConduitFeature is not being taken into account. So the timeout is the one by default of 1 minute, instead of the configured 10 seconds.\r\n\r\nThe only solution I see right now, is setting the HttpConduitFeature directly in the factory:\r\n\r\n    JaxWsProxyFactoryBean factory = new JaxWsProxyFactoryBean();\r\n    \r\n    factory.setAddress(soapConfigurations.getUrl());\r\n    factory.setBus(bus);\r\n\tfactory.getFeatures().add(conduitFeature());\r\n\r\nDo I need some additional configuration, so the generated clients use the HttpConduitFeature defined in the Bus directly?\r\n","title":"CXF Bus - Add HttpConduitFeature with custom timeouts","body":"<p>I am trying to configure the CXF Bus, with common timeouts for all clients. For that, I am using HttpConduitFeature and adding it to the Bus during the initial configuration as below:</p>\n\n<pre><code>@Configuration\npublic class CxfContext {\n\n    @Autowired\n    private SoapConfigurations soapConfigurations;\n\n    @Bean\n    public Bus bus() {\n\n        SpringBus b = new SpringBus();\n\n        List&lt;Feature&gt; features = ImmutableList.&lt;Feature&gt; builder() //\n            .add(loggingFeature()) //\n            .add(conduitFeature()) //\n            .build();\n\n        b.setFeatures(features);\n        return b;\n    }\n\n    private LoggingFeature loggingFeature() {\n        LoggingFeature f = new LoggingFeature();\n        f.setPrettyLogging(true);\n        f.setVerbose(true);\n        f.setLimit(-1);\n        return f;\n    }\n\n    private HttpConduitFeature conduitFeature() {\n\n        HttpConduitFeature feature = new HttpConduitFeature();\n\n        HttpConduitConfig conduitConfig = new HttpConduitConfig();\n\n        HTTPClientPolicy clientPolicy = new HTTPClientPolicy();\n        clientPolicy.setConnectionTimeout(10000);\n        clientPolicy.setReceiveTimeout(10000);\n\n        conduitConfig.setClientPolicy(clientPolicy);\n\n        feature.setConduitConfig(conduitConfig);\n\n        return feature;\n    }\n\n}\n</code></pre>\n\n<p>After, when generating the Soap client, I am using JaxWsProxyFactoryBean and setting the Bus to it:</p>\n\n<pre><code>@Configuration\npublic class SoapClientContext {\n\n    @Autowired\n    private Bus bus;\n\n    @Bean\n    public IService myService(SoapConfigurations soapConfigurations) {\n\n        JaxWsProxyFactoryBean factory = new JaxWsProxyFactoryBean();\n\n        factory.setAddress(soapConfigurations.getUrl());\n        factory.setBus(bus);\n\n        return factory.create(IService.class);\n    }\n\n}\n</code></pre>\n\n<p>The client is using correctly the logging feature configured in the Bus, but the HttpConduitFeature is not being taken into account. So the timeout is the one by default of 1 minute, instead of the configured 10 seconds.</p>\n\n<p>The only solution I see right now, is setting the HttpConduitFeature directly in the factory:</p>\n\n<pre><code>JaxWsProxyFactoryBean factory = new JaxWsProxyFactoryBean();\n\nfactory.setAddress(soapConfigurations.getUrl());\nfactory.setBus(bus);\nfactory.getFeatures().add(conduitFeature());\n</code></pre>\n\n<p>Do I need some additional configuration, so the generated clients use the HttpConduitFeature defined in the Bus directly?</p>\n"},{"tags":["java","apache-calcite","sql-parser"],"answers":[{"tags":[],"owner":{"account_id":42463,"reputation":28235,"user_id":123695,"accept_rate":89,"display_name":"Michael Mior"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1497369481,"creation_date":1497369481,"answer_id":44526378,"question_id":44508240,"body_markdown":"This is definitely doable with Calcite. You&#39;ll want to start by creating an instance of `SqlParser` and parsing the query:\r\n\r\n    SqlParser parser = SqlParser.create(query)\r\n    SqlNode parsed = parser.parseQuery()\r\n\r\nFrom there, you&#39;ll probably have the most success implementing the [`SqlVisitor`](https://calcite.apache.org/apidocs/org/apache/calcite/sql/util/SqlVisitor.html) interface. You&#39;ll want to first find a `SqlSelect` instance and then visit each expression being selected by calling visit on each element of [`getSelectList`](https://calcite.apache.org/apidocs/org/apache/calcite/sql/SqlSelect.html#getSelectList--).\r\n\r\nFrom there, how you proceed will depend on the complexity of expressions you want to support. However, it&#39;s probably sufficient to recursively visit all `SqlCall` nodes and their operands and then collect any `SqlIdentifier` values that you see.","title":"Apache Calcite to Find Selected Columns in an SQL String","body":"<p>This is definitely doable with Calcite. You'll want to start by creating an instance of <code>SqlParser</code> and parsing the query:</p>\n\n<pre><code>SqlParser parser = SqlParser.create(query)\nSqlNode parsed = parser.parseQuery()\n</code></pre>\n\n<p>From there, you'll probably have the most success implementing the <a href=\"https://calcite.apache.org/apidocs/org/apache/calcite/sql/util/SqlVisitor.html\" rel=\"noreferrer\"><code>SqlVisitor</code></a> interface. You'll want to first find a <code>SqlSelect</code> instance and then visit each expression being selected by calling visit on each element of <a href=\"https://calcite.apache.org/apidocs/org/apache/calcite/sql/SqlSelect.html#getSelectList--\" rel=\"noreferrer\"><code>getSelectList</code></a>.</p>\n\n<p>From there, how you proceed will depend on the complexity of expressions you want to support. However, it's probably sufficient to recursively visit all <code>SqlCall</code> nodes and their operands and then collect any <code>SqlIdentifier</code> values that you see.</p>\n"},{"tags":[],"owner":{"account_id":1205529,"reputation":3090,"user_id":1175279,"accept_rate":88,"display_name":"Dilip Raj Baral"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1544948789,"creation_date":1544948789,"answer_id":53800602,"question_id":44508240,"body_markdown":"It can be as simple as:\r\n\r\n&lt;!-- lang:java --&gt;\r\n\r\n    SqlParser parser = SqlParser.create(yourQuery);\r\n    SqlSelect selectNode = (SqlSelect) parser.parseQuery();\r\n    SqlNodeList list = selectNode.getList();\r\n\r\n    for (int i = 0; i &lt; list.size(); i++) {\r\n        System.out.println(&quot;Column &quot; + (i + 1) + &quot;: &quot; + list.get(i).toString());\r\n    }\r\n","title":"Apache Calcite to Find Selected Columns in an SQL String","body":"<p>It can be as simple as:</p>\n\n\n\n<pre><code>SqlParser parser = SqlParser.create(yourQuery);\nSqlSelect selectNode = (SqlSelect) parser.parseQuery();\nSqlNodeList list = selectNode.getList();\n\nfor (int i = 0; i &lt; list.size(); i++) {\n    System.out.println(\"Column \" + (i + 1) + \": \" + list.get(i).toString());\n}\n</code></pre>\n"}],"owner":{"account_id":5981948,"reputation":139,"user_id":4700686,"accept_rate":50,"display_name":"Saurabh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4592,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1687864060,"creation_date":1497299517,"question_id":44508240,"body_markdown":"I have a use case where I want to know the columns which have been selected in an SQL string.For instance, if the SQL is like this:  \r\n`SELECT name, age*5 as intelligence FROM bla WHERE bla=bla`  \r\nThen, after parsing the above String, I just want the output to be: `name, intelligence`.  \r\nFirstly, is it possible through Calcite?  \r\nAny other option is also welcome.  \r\n  \r\nPS: I want to know this before actually running the query on database.\r\n","title":"Apache Calcite to Find Selected Columns in an SQL String","body":"<p>I have a use case where I want to know the columns which have been selected in an SQL string.For instance, if the SQL is like this:<br>\n<code>SELECT name, age*5 as intelligence FROM bla WHERE bla=bla</code><br>\nThen, after parsing the above String, I just want the output to be: <code>name, intelligence</code>.<br>\nFirstly, is it possible through Calcite?<br>\nAny other option is also welcome.  </p>\n\n<p>PS: I want to know this before actually running the query on database.</p>\n"},{"tags":["java","web-applications","authorization","keycloak","openid-connect"],"comments":[{"owner":{"account_id":13886999,"reputation":1120,"user_id":10025913,"display_name":"NumeroUno"},"score":0,"creation_date":1541397841,"post_id":53118828,"comment_id":93188700,"body_markdown":"Any pointer here please?","body":"Any pointer here please?"},{"owner":{"account_id":11225699,"reputation":1271,"user_id":8235367,"display_name":"RrR-"},"score":0,"creation_date":1542617399,"post_id":53118828,"comment_id":93618052,"body_markdown":"Which OAuth flow were you using? Was it auth code grant, implicit grant, or something else?","body":"Which OAuth flow were you using? Was it auth code grant, implicit grant, or something else?"},{"owner":{"account_id":13886999,"reputation":1120,"user_id":10025913,"display_name":"NumeroUno"},"score":0,"creation_date":1542640352,"post_id":53118828,"comment_id":93630608,"body_markdown":"It is normal grant flow based on username/password and jwt token.","body":"It is normal grant flow based on username/password and jwt token."},{"owner":{"account_id":11225699,"reputation":1271,"user_id":8235367,"display_name":"RrR-"},"score":0,"creation_date":1542701569,"post_id":53118828,"comment_id":93652807,"body_markdown":"Both auth code and implicit flow are based on that concept, but created for different purposes.","body":"Both auth code and implicit flow are based on that concept, but created for different purposes."},{"owner":{"account_id":302253,"reputation":1164,"user_id":1203192,"accept_rate":90,"display_name":"Thomas Lann"},"score":0,"creation_date":1547083798,"post_id":53118828,"comment_id":95073754,"body_markdown":"I believe the jetty app that is a resource server should be private.  Your front end client should be public because someone can just use the client and see the client secret in the developer console.  \nI think your question needs more information about the architecture and problem at hand before anyone can help you.","body":"I believe the jetty app that is a resource server should be private.  Your front end client should be public because someone can just use the client and see the client secret in the developer console.   I think your question needs more information about the architecture and problem at hand before anyone can help you."}],"answers":[{"tags":[],"owner":{"account_id":3590738,"reputation":2981,"user_id":2996867,"accept_rate":86,"display_name":"maslick"},"down_vote_count":0,"up_vote_count":32,"is_accepted":true,"score":32,"last_activity_date":1561899931,"creation_date":1561889620,"answer_id":56824022,"question_id":53118828,"body_markdown":"As far as I understood, you have your frontend and backend applications separated. If your frontend is a static web-app and not being served by the same backend application (server), and your backend is a simple REST API - then you would have two Keycloak clients configured:\r\n\r\n* ``public`` client for the frontend app. It would be responsible for acquiring JWT tokens. \r\n* ``bearer-only`` client, which would be attached to your backend application.\r\n\r\nTo enable authorization you would create roles (either realm or client scoped, start on the realm level as it&#39;s easier to comprehend). Every user would then be assigned a role/s in the Keycloak admin UI. Based on this you should configure your keycloak adapter configuration (on the backend).\r\n\r\nAll things considered, in order to talk to your REST API, you would attach a JWT token to each HTTP request in the Authorization header. Depending on your frontend framework, you can use either of these:\r\n\r\n* [Keycloak js adapter][1]\r\n* Other bindings ([angular][2], [react][3])\r\n\r\n&gt; P.S. For debugging I have just written a CLI tool called [brauzie][4]\r\n&gt; that would help you fetch and analyse your JWT tokens (scopes, roles, etc.). It could be used for both public and confidential clients. You\r\n&gt; could as well use [Postman][5] and https://jwt.io\r\n\r\nHTH :)\r\n\r\n  [1]: https://www.keycloak.org/docs/latest/securing_apps/index.html#_javascript_adapter\r\n  [2]: https://www.npmjs.com/package/keycloak-angular\r\n  [3]: https://www.npmjs.com/package/react-keycloak\r\n  [4]: https://github.com/maslick/brauzie\r\n  [5]: https://www.getpostman.com/","title":"Keycloak public client and authorization","body":"<p>As far as I understood, you have your frontend and backend applications separated. If your frontend is a static web-app and not being served by the same backend application (server), and your backend is a simple REST API - then you would have two Keycloak clients configured:</p>\n\n<ul>\n<li><code>public</code> client for the frontend app. It would be responsible for acquiring JWT tokens. </li>\n<li><code>bearer-only</code> client, which would be attached to your backend application.</li>\n</ul>\n\n<p>To enable authorization you would create roles (either realm or client scoped, start on the realm level as it's easier to comprehend). Every user would then be assigned a role/s in the Keycloak admin UI. Based on this you should configure your keycloak adapter configuration (on the backend).</p>\n\n<p>All things considered, in order to talk to your REST API, you would attach a JWT token to each HTTP request in the Authorization header. Depending on your frontend framework, you can use either of these:</p>\n\n<ul>\n<li><a href=\"https://www.keycloak.org/docs/latest/securing_apps/index.html#_javascript_adapter\" rel=\"noreferrer\">Keycloak js adapter</a></li>\n<li>Other bindings (<a href=\"https://www.npmjs.com/package/keycloak-angular\" rel=\"noreferrer\">angular</a>, <a href=\"https://www.npmjs.com/package/react-keycloak\" rel=\"noreferrer\">react</a>)</li>\n</ul>\n\n<blockquote>\n  <p>P.S. For debugging I have just written a CLI tool called <a href=\"https://github.com/maslick/brauzie\" rel=\"noreferrer\">brauzie</a>\n  that would help you fetch and analyse your JWT tokens (scopes, roles, etc.). It could be used for both public and confidential clients. You\n  could as well use <a href=\"https://www.getpostman.com/\" rel=\"noreferrer\">Postman</a> and <a href=\"https://jwt.io\" rel=\"noreferrer\">https://jwt.io</a></p>\n</blockquote>\n\n<p>HTH :)</p>\n"},{"tags":[],"owner":{"account_id":15381547,"reputation":126,"user_id":11096828,"display_name":"Arnold Obdeijn"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1562579189,"creation_date":1562578715,"answer_id":56932139,"question_id":53118828,"body_markdown":"I think you are referring to the &quot;Authorization Enabled&quot; switch in the admin console of Keycloak, when creating a client. If you go over the question mark next to the label, you&#39;ll see the hint &quot;Enable/Disable fine grained authorization support for a client.\r\n\r\n[Create client in Keycloak admin console (v 6.0.1)][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/a8qDl.png\r\n\r\nThis is meant for when you create a client for a backend application that serves as a resource server. In that case, the client will be confidential.\r\n\r\nIf you want to create a client for a frontend app, to authenticate a user and obtain an JWT, then you don&#39;t need this.\r\n\r\nSee also: https://www.keycloak.org/docs/latest/authorization_services/index.html\r\n","title":"Keycloak public client and authorization","body":"<p>I think you are referring to the \"Authorization Enabled\" switch in the admin console of Keycloak, when creating a client. If you go over the question mark next to the label, you'll see the hint \"Enable/Disable fine grained authorization support for a client.</p>\n\n<p><a href=\"https://i.stack.imgur.com/a8qDl.png\" rel=\"nofollow noreferrer\">Create client in Keycloak admin console (v 6.0.1)</a></p>\n\n<p>This is meant for when you create a client for a backend application that serves as a resource server. In that case, the client will be confidential.</p>\n\n<p>If you want to create a client for a frontend app, to authenticate a user and obtain an JWT, then you don't need this.</p>\n\n<p>See also: <a href=\"https://www.keycloak.org/docs/latest/authorization_services/index.html\" rel=\"nofollow noreferrer\">https://www.keycloak.org/docs/latest/authorization_services/index.html</a></p>\n"},{"tags":[],"owner":{"account_id":13886999,"reputation":1120,"user_id":10025913,"display_name":"NumeroUno"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1575190445,"creation_date":1575190445,"answer_id":59124021,"question_id":53118828,"body_markdown":"After much deliberation, we found that authorisation is not required to be enabled on public client really when you connect to it. When any request come to public client, it only does the authentication part. Authorization part is done when actual request lands on the resource server (in our case, Jetty) using the confidential client (as Jetty has knowledge of confidential client configured in it). ","title":"Keycloak public client and authorization","body":"<p>After much deliberation, we found that authorisation is not required to be enabled on public client really when you connect to it. When any request come to public client, it only does the authentication part. Authorization part is done when actual request lands on the resource server (in our case, Jetty) using the confidential client (as Jetty has knowledge of confidential client configured in it). </p>\n"},{"tags":[],"owner":{"account_id":2734022,"reputation":1689,"user_id":2357085,"display_name":"w08r"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1687863834,"creation_date":1687863834,"answer_id":76564214,"question_id":53118828,"body_markdown":"&gt; Any idea why client needs to be confidential for authorization\r\n\r\nThe client needs to authenticate with keycloak in order to make full use of the protection api, to manage resources, and to create pat tokens.\r\n\r\nWeb applications should have their own client, with authentication disabled, which use the correct auth flow for SPAs ([Auth code flow with PKCE](https://www.ietf.org/archive/id/draft-ietf-oauth-browser-based-apps-10.html)).\r\n\r\nThe access token issued to the front end client can in fact be used with a different backend client representing the auth server.  An example request is documented in the (albeit terse) keycloak documentation [here](https://www.keycloak.org/docs/latest/authorization_services/index.html#_service_obtaining_permissions).\r\n\r\n```\r\ncurl -X POST \\\r\n  http://${host}:${port}/realms/${realm}/protocol/openid-connect/token \\\r\n  -H &quot;Authorization: Bearer ${access_token}&quot; \\\r\n  --data &quot;grant_type=urn:ietf:params:oauth:grant-type:uma-ticket&quot; \\\r\n  --data &quot;audience={resource_server_client_id}&quot; \\\r\n  --data &quot;permission=Resource A#Scope A&quot; \\\r\n  --data &quot;permission=Resource B#Scope B&quot;\r\n```\r\n\r\nThe above example shows use of the access token (which may have the frontend client for `azp`) and the backend client id passed as the audience.  This gets around the error mentioned above in the comments following [@NumeroUno&#39;s answer](https://stackoverflow.com/a/59124021/2357085):\r\n\r\n```\r\nClient application [public-client] is not registered as a resource server. \r\n```","title":"Keycloak public client and authorization","body":"<blockquote>\n<p>Any idea why client needs to be confidential for authorization</p>\n</blockquote>\n<p>The client needs to authenticate with keycloak in order to make full use of the protection api, to manage resources, and to create pat tokens.</p>\n<p>Web applications should have their own client, with authentication disabled, which use the correct auth flow for SPAs (<a href=\"https://www.ietf.org/archive/id/draft-ietf-oauth-browser-based-apps-10.html\" rel=\"nofollow noreferrer\">Auth code flow with PKCE</a>).</p>\n<p>The access token issued to the front end client can in fact be used with a different backend client representing the auth server.  An example request is documented in the (albeit terse) keycloak documentation <a href=\"https://www.keycloak.org/docs/latest/authorization_services/index.html#_service_obtaining_permissions\" rel=\"nofollow noreferrer\">here</a>.</p>\n<pre><code>curl -X POST \\\n  http://${host}:${port}/realms/${realm}/protocol/openid-connect/token \\\n  -H &quot;Authorization: Bearer ${access_token}&quot; \\\n  --data &quot;grant_type=urn:ietf:params:oauth:grant-type:uma-ticket&quot; \\\n  --data &quot;audience={resource_server_client_id}&quot; \\\n  --data &quot;permission=Resource A#Scope A&quot; \\\n  --data &quot;permission=Resource B#Scope B&quot;\n</code></pre>\n<p>The above example shows use of the access token (which may have the frontend client for <code>azp</code>) and the backend client id passed as the audience.  This gets around the error mentioned above in the comments following <a href=\"https://stackoverflow.com/a/59124021/2357085\">@NumeroUno's answer</a>:</p>\n<pre><code>Client application [public-client] is not registered as a resource server. \n</code></pre>\n"}],"owner":{"account_id":13886999,"reputation":1120,"user_id":10025913,"display_name":"NumeroUno"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":30401,"favorite_count":0,"down_vote_count":0,"up_vote_count":30,"accepted_answer_id":56824022,"answer_count":4,"score":30,"last_activity_date":1687863834,"creation_date":1541162576,"question_id":53118828,"body_markdown":"We are using keycloak-adapter with Jetty for authentication and authorization using Keycloak.\r\nAs per [Keycloak doc for OIDC Auth flow][1]:\r\n\r\n&gt; **Another important** aspect of this flow is the concept of a **public vs. a confidential** client.   Confidential clients are required to\r\n&gt; provide a client secret when they exchange the temporary codes for\r\n&gt; tokens. Public clients are not required to provide this client secret.\r\n&gt; Public clients are perfectly fine so long as HTTPS is strictly\r\n&gt; enforced and you are very strict about what redirect URIs are\r\n&gt; registered for the client.\r\n&gt; \r\n&gt; HTML5/JavaScript clients always have to be public clients because\r\n&gt; there is no way to transmit the client secret to them in a secure\r\n&gt; manner.\r\n\r\nWe have webapps which connect to Jetty and use auth. So, we have created a public client and it works awesome for webapp/REST authentication.  \r\nThe problem is as soon as we enable authorization, client type gets converted to Confidential from Public and it does not allow the reset it as Public. Now, we are in soup. We cannot have public clients due to authorization and we cannot connect webapps to confidential client.  \r\nThis seems to be contradictory to us. Any idea why client needs to be confidential for authorization? Any help on this how can we overcome this issue?  \r\nThanks.\r\n\r\n\r\n  [1]: https://www.keycloak.org/docs/latest/server_admin/index.html#_oidc-auth-flows","title":"Keycloak public client and authorization","body":"<p>We are using keycloak-adapter with Jetty for authentication and authorization using Keycloak.\nAs per <a href=\"https://www.keycloak.org/docs/latest/server_admin/index.html#_oidc-auth-flows\" rel=\"noreferrer\">Keycloak doc for OIDC Auth flow</a>:</p>\n\n<blockquote>\n  <p><strong>Another important</strong> aspect of this flow is the concept of a <strong>public vs. a confidential</strong> client.   Confidential clients are required to\n  provide a client secret when they exchange the temporary codes for\n  tokens. Public clients are not required to provide this client secret.\n  Public clients are perfectly fine so long as HTTPS is strictly\n  enforced and you are very strict about what redirect URIs are\n  registered for the client.</p>\n  \n  <p>HTML5/JavaScript clients always have to be public clients because\n  there is no way to transmit the client secret to them in a secure\n  manner.</p>\n</blockquote>\n\n<p>We have webapps which connect to Jetty and use auth. So, we have created a public client and it works awesome for webapp/REST authentication.<br>\nThe problem is as soon as we enable authorization, client type gets converted to Confidential from Public and it does not allow the reset it as Public. Now, we are in soup. We cannot have public clients due to authorization and we cannot connect webapps to confidential client.<br>\nThis seems to be contradictory to us. Any idea why client needs to be confidential for authorization? Any help on this how can we overcome this issue?<br>\nThanks.</p>\n"},{"tags":["java","spring","spring-boot","gradle","java-8"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1687865686,"post_id":76564189,"comment_id":134993571,"body_markdown":"That class doesn&#39;t exist in 2.7.13. Remove whatever reference you have to it.","body":"That class doesn&#39;t exist in 2.7.13. Remove whatever reference you have to it."},{"owner":{"account_id":3051388,"reputation":119,"user_id":2585846,"accept_rate":17,"display_name":"Ravi sinha"},"score":0,"creation_date":1687866803,"post_id":76564189,"comment_id":134993822,"body_markdown":"Not able to find the reference. Any steps to check ?","body":"Not able to find the reference. Any steps to check ?"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1687866808,"post_id":76564189,"comment_id":134993826,"body_markdown":"Show your dependencies in your post.","body":"Show your dependencies in your post."},{"owner":{"account_id":3051388,"reputation":119,"user_id":2585846,"accept_rate":17,"display_name":"Ravi sinha"},"score":0,"creation_date":1687867933,"post_id":76564189,"comment_id":134994095,"body_markdown":"What dependency you are looking for . I can&#39;t post whole file as that is in my work laptop","body":"What dependency you are looking for . I can&#39;t post whole file as that is in my work laptop"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1687868057,"post_id":76564189,"comment_id":134994126,"body_markdown":"Post the entire stack trace.","body":"Post the entire stack trace."},{"owner":{"account_id":3051388,"reputation":119,"user_id":2585846,"accept_rate":17,"display_name":"Ravi sinha"},"score":0,"creation_date":1687873973,"post_id":76564189,"comment_id":134995716,"body_markdown":"I found the solution need to update resilenc4j version from 1.4.0 to 1.6.0.  Thanks","body":"I found the solution need to update resilenc4j version from 1.4.0 to 1.6.0.  Thanks"}],"owner":{"account_id":3051388,"reputation":119,"user_id":2585846,"accept_rate":17,"display_name":"Ravi sinha"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":248,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687863696,"creation_date":1687863696,"question_id":76564189,"body_markdown":"We are upgrading Springboot from 2.33.RELEASE to 2.7.13 and  while starting server we are getting \r\n\r\n **Class Not Found Org.springframework.boot.actuate.autoconfigure.health.HealthIndicatorAutoConfiguration**  \r\n\r\nTried multiple options none of them is working.\r\n\r\n","title":"Org.springframework.boot.actuate.autoconfigure.health.HealthIndicatorAutoConfiguration Class Not Found","body":"<p>We are upgrading Springboot from 2.33.RELEASE to 2.7.13 and  while starting server we are getting</p>\n<p><strong>Class Not Found Org.springframework.boot.actuate.autoconfigure.health.HealthIndicatorAutoConfiguration</strong></p>\n<p>Tried multiple options none of them is working.</p>\n"},{"tags":["java","caching","servlets","akamai","purge"],"comments":[{"owner":{"account_id":4726205,"reputation":12248,"user_id":4420967,"display_name":"James Z"},"score":0,"creation_date":1687863501,"post_id":76563955,"comment_id":134993131,"body_markdown":"Next time look at your question before you post it. That was a complete unreadable mess.","body":"Next time look at your question before you post it. That was a complete unreadable mess."},{"owner":{"account_id":28903773,"reputation":1,"user_id":22138142,"display_name":"SKola"},"score":0,"creation_date":1687863781,"post_id":76563955,"comment_id":134993187,"body_markdown":"Hi @JamesZ, please check now corrected the indentation. Basically am not getting any error and am getting 200 status code but the url&#39;s are not purging. Please let me know for any issue in the code. Thank you.","body":"Hi @JamesZ, please check now corrected the indentation. Basically am not getting any error and am getting 200 status code but the url&#39;s are not purging. Please let me know for any issue in the code. Thank you."},{"owner":{"account_id":4726205,"reputation":12248,"user_id":4420967,"display_name":"James Z"},"score":0,"creation_date":1687869594,"post_id":76563955,"comment_id":134994544,"body_markdown":"Yes, I know it&#39;s correct now because I&#39;m the one who fixed it.","body":"Yes, I know it&#39;s correct now because I&#39;m the one who fixed it."}],"owner":{"account_id":28903773,"reputation":1,"user_id":22138142,"display_name":"SKola"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687863473,"creation_date":1687861898,"question_id":76563955,"body_markdown":"I&#39;m using java code to purge the cached url&#39;s in Akamai. I&#39;m getting 200 response but it&#39;s actually not purging the cached url&#39;s. where am I going wrong?\r\n\r\n\r\n```\r\nimport java.io.IOException;\r\nimport java.net.URI;\r\nimport java.util.List;\r\nimport java.util.Map;\r\nimport javax.servlet.RequestDispatcher;\r\nimport javax.servlet.ServletException;\r\nimport javax.servlet.http.HttpServlet;\r\nimport javax.servlet.http.HttpServletRequest;\r\nimport javax.servlet.http.HttpServletResponse;\r\nimport com.akamai.edgegrid.signer.ClientCredential;\r\nimport com.akamai.edgegrid.signer.exceptions.RequestSigningException;\r\nimport com.akamai.edgegrid.signer.googlehttpclient.GoogleHttpClientEdgeGridRequestSigner;\r\nimport com.google.api.client.googleapis.util.Utils;\r\nimport com.google.api.client.http.ByteArrayContent;\r\nimport com.google.api.client.http.GenericUrl;\r\nimport com.google.api.client.http.HttpHeaders;\r\nimport com.google.api.client.http.HttpRequest;\r\nimport com.google.api.client.http.HttpRequestFactory;\r\nimport com.google.api.client.http.HttpResponse;\r\nimport com.google.api.client.http.HttpTransport;\r\nimport com.google.gson.Gson;\r\n\r\npublic class MyServlet extends HttpServlet {\r\n\r\n  private static final String HTTPS = &quot;https://&quot;;\r\n  private static final String HOST = &quot;**********akamaiapis.net&quot;;\r\n\r\n  protected void doPost(HttpServletRequest request, HttpServletResponse response)\r\n  throws ServletException, IOException {\r\n   // TODO Auto-generated method stub\r\n   int status = 0;\r\n    ClientCredential credential = ClientCredential.builder()\r\n      .accessToken(&quot;akab*********************&quot;)\r\n      .clientToken(&quot;akab-*************************&quot;)\r\n      .clientSecret(&quot;**************&quot;)\r\n      .host(HOST).build();\r\n    String urlId = &quot;https:://img.com&quot;; //the url to purge\r\n    StringBuffer jsonBuff = new StringBuffer();\r\n\r\n    jsonBuff.append(&quot;{\\&quot;objects\\&quot;:[&quot;);\r\n\r\n    jsonBuff.append(urlId);\r\n\r\n    jsonBuff.append(&quot;]}&quot;);\r\n\r\n    String json = jsonBuff.toString();\r\n    HttpTransport httpTransport = Utils.getDefaultTransport();\r\n    HttpRequestFactory requestFactory = httpTransport.createRequestFactory();\r\n    HttpRequest httprequest = null;\r\n    try {\r\n\r\n      URI uri = new URI(HTTPS, HOST, &quot;/ccu/v3/invalidate/url/production&quot; + , null, null);\r\n      String requestBody = json;\r\n      httprequest = requestFactory.buildPostRequest(new GenericUrl(uri),\r\n        ByteArrayContent.fromString(&quot;application/json&quot;, requestBody));\r\n      HttpHeaders headers = httprequest.getHeaders();\r\n      headers.set(&quot;Host&quot;, HOST);\r\n      GoogleHttpClientEdgeGridRequestSigner requestSigner = new GoogleHttpClientEdgeGridRequestSigner(credential);\r\n      requestSigner.sign(httprequest);\r\n      HttpResponse httpresponse = httprequest.execute();\r\n      status = httpresponse.getStatusCode();\r\n\r\n    } catch (Exception e) {\r\n      e.printStackTrace();\r\n    }\r\n    if (status == 201) {\r\n      String nextJSP = &quot;/PurgeSuccess.jsp&quot;;\r\n      RequestDispatcher dispatcher = getServletContext().getRequestDispatcher(nextJSP);\r\n      try {\r\n        dispatcher.forward(request, response);\r\n      } catch (IOException e) {\r\n\r\n        e.printStackTrace();\r\n      }\r\n    } else {\r\n      RequestDispatcher dispatcher = getServletContext().getRequestDispatcher(&quot;/ProductPurge.jsp&quot;);\r\n      try {\r\n        dispatcher.forward(request, response);\r\n      } catch (IOException e) {\r\n\r\n        e.printStackTrace();\r\n      }\r\n    }\r\n  }\r\n\r\n  /**\r\n   * @see HttpServlet#doPost(HttpServletRequest request, HttpServletResponse\r\n   *      response)\r\n   */\r\n  protected void doGet(HttpServletRequest request, HttpServletResponse response)\r\n  throws ServletException, IOException {\r\n    // TODO Auto-generated method stub\r\n  }\r\n} \r\n```","title":"Issue in java code while purging cached url&#39;s in Akamai","body":"<p>I'm using java code to purge the cached url's in Akamai. I'm getting 200 response but it's actually not purging the cached url's. where am I going wrong?</p>\n<pre><code>import java.io.IOException;\nimport java.net.URI;\nimport java.util.List;\nimport java.util.Map;\nimport javax.servlet.RequestDispatcher;\nimport javax.servlet.ServletException;\nimport javax.servlet.http.HttpServlet;\nimport javax.servlet.http.HttpServletRequest;\nimport javax.servlet.http.HttpServletResponse;\nimport com.akamai.edgegrid.signer.ClientCredential;\nimport com.akamai.edgegrid.signer.exceptions.RequestSigningException;\nimport com.akamai.edgegrid.signer.googlehttpclient.GoogleHttpClientEdgeGridRequestSigner;\nimport com.google.api.client.googleapis.util.Utils;\nimport com.google.api.client.http.ByteArrayContent;\nimport com.google.api.client.http.GenericUrl;\nimport com.google.api.client.http.HttpHeaders;\nimport com.google.api.client.http.HttpRequest;\nimport com.google.api.client.http.HttpRequestFactory;\nimport com.google.api.client.http.HttpResponse;\nimport com.google.api.client.http.HttpTransport;\nimport com.google.gson.Gson;\n\npublic class MyServlet extends HttpServlet {\n\n  private static final String HTTPS = &quot;https://&quot;;\n  private static final String HOST = &quot;**********akamaiapis.net&quot;;\n\n  protected void doPost(HttpServletRequest request, HttpServletResponse response)\n  throws ServletException, IOException {\n   // TODO Auto-generated method stub\n   int status = 0;\n    ClientCredential credential = ClientCredential.builder()\n      .accessToken(&quot;akab*********************&quot;)\n      .clientToken(&quot;akab-*************************&quot;)\n      .clientSecret(&quot;**************&quot;)\n      .host(HOST).build();\n    String urlId = &quot;https:://img.com&quot;; //the url to purge\n    StringBuffer jsonBuff = new StringBuffer();\n\n    jsonBuff.append(&quot;{\\&quot;objects\\&quot;:[&quot;);\n\n    jsonBuff.append(urlId);\n\n    jsonBuff.append(&quot;]}&quot;);\n\n    String json = jsonBuff.toString();\n    HttpTransport httpTransport = Utils.getDefaultTransport();\n    HttpRequestFactory requestFactory = httpTransport.createRequestFactory();\n    HttpRequest httprequest = null;\n    try {\n\n      URI uri = new URI(HTTPS, HOST, &quot;/ccu/v3/invalidate/url/production&quot; + , null, null);\n      String requestBody = json;\n      httprequest = requestFactory.buildPostRequest(new GenericUrl(uri),\n        ByteArrayContent.fromString(&quot;application/json&quot;, requestBody));\n      HttpHeaders headers = httprequest.getHeaders();\n      headers.set(&quot;Host&quot;, HOST);\n      GoogleHttpClientEdgeGridRequestSigner requestSigner = new GoogleHttpClientEdgeGridRequestSigner(credential);\n      requestSigner.sign(httprequest);\n      HttpResponse httpresponse = httprequest.execute();\n      status = httpresponse.getStatusCode();\n\n    } catch (Exception e) {\n      e.printStackTrace();\n    }\n    if (status == 201) {\n      String nextJSP = &quot;/PurgeSuccess.jsp&quot;;\n      RequestDispatcher dispatcher = getServletContext().getRequestDispatcher(nextJSP);\n      try {\n        dispatcher.forward(request, response);\n      } catch (IOException e) {\n\n        e.printStackTrace();\n      }\n    } else {\n      RequestDispatcher dispatcher = getServletContext().getRequestDispatcher(&quot;/ProductPurge.jsp&quot;);\n      try {\n        dispatcher.forward(request, response);\n      } catch (IOException e) {\n\n        e.printStackTrace();\n      }\n    }\n  }\n\n  /**\n   * @see HttpServlet#doPost(HttpServletRequest request, HttpServletResponse\n   *      response)\n   */\n  protected void doGet(HttpServletRequest request, HttpServletResponse response)\n  throws ServletException, IOException {\n    // TODO Auto-generated method stub\n  }\n} \n</code></pre>\n"},{"tags":["java","spring"],"owner":{"account_id":28755058,"reputation":1,"user_id":22022260,"display_name":"lambda"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687862933,"creation_date":1687862657,"question_id":76564062,"body_markdown":"I don&#39;t know what the difference is between these two paths, why I&#39;m getting two almost identical paths. It works fine when I use it in IntelliJ IDEA.\r\n\r\nResource-----------------\\&gt;: jar:file:/Users/wanggang/Documents/jar中转站/cmcc-cloud-devops-1.0.0.jar!/BOOT-INF/classes!/com/cmcc/cloud/devops/facade/HuaWeiApi.class   \r\nResource-----------------\\&gt;: jar:file:/Users/wanggang/Documents/jar中转站/cmcc-cloud-devops-1.0.0.jar!/BOOT-INF/classes/com/cmcc/cloud/devops/facade/HuaWeiApi.class\r\n\r\n```\r\n@Component\r\npublic class RpcPostProcessor implements ResourceLoaderAware,BeanFactoryPostProcessor  {\r\n    private ResourceLoader resourceLoader;\r\n    @Override\r\n    public void setResourceLoader(ResourceLoader resourceLoader) {\r\n        this.resourceLoader = resourceLoader;\r\n    }\r\n\r\n    @Override\r\n    public void postProcessBeanFactory(ConfigurableListableBeanFactory beanFactory) throws BeansException {\r\n        try {\r\n            //获取指定目录下的class文件\r\n            org.springframework.core.io.Resource[] resources = ResourcePatternUtils.getResourcePatternResolver(resourceLoader)\r\n                    .getResources(&quot;classpath*:/**/facade/**/*.class&quot;);\r\n            //根据resources创建数据读取工厂\r\n            MetadataReaderFactory metaReader = new CachingMetadataReaderFactory(resourceLoader);\r\n            for (org.springframework.core.io.Resource resource : resources) {\r\n                //获取元数据\r\n                MetadataReader metadataReader = metaReader.getMetadataReader(resource);\r\n                //判断是否存在HttpExchange注解(是否为http interface的接口调用)\r\n                if (metadataReader.getAnnotationMetadata().hasAnnotation(HttpExchange.class.getName())) {\r\n                    //构建一个web客户端\r\n                    WebClient webClient = WebClient.builder().build();\r\n                    //根据web客户端去构建服http服务的代理工厂\r\n                    HttpServiceProxyFactory factory = HttpServiceProxyFactory.builder(WebClientAdapter.forClient(webClient)).build();\r\n                    //利用类的全限定名通过Class.forName获取class对象并利用http服务的代理工厂创建出代理对象\r\n                    Object client = factory.createClient(Class.forName(metadataReader.getClassMetadata().getClassName()));\r\n                    //将创建出来的代理对象放到io容器当中\r\n                    String className = metadataReader.getClassMetadata().getClassName();\r\n                    beanFactory.registerSingleton(className, client);\r\n                }\r\n            }\r\n        } catch (Exception e) {\r\n            throw new EventException(ES_RPC_000);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nbut in Mac OS or linux is not working","title":"ResourcePatternUtils.getResourcePatternResolver(resourceLoader) get two resource","body":"<p>I don't know what the difference is between these two paths, why I'm getting two almost identical paths. It works fine when I use it in IntelliJ IDEA.</p>\n<p>Resource-----------------&gt;: jar:file:/Users/wanggang/Documents/jar中转站/cmcc-cloud-devops-1.0.0.jar!/BOOT-INF/classes!/com/cmcc/cloud/devops/facade/HuaWeiApi.class<br />\nResource-----------------&gt;: jar:file:/Users/wanggang/Documents/jar中转站/cmcc-cloud-devops-1.0.0.jar!/BOOT-INF/classes/com/cmcc/cloud/devops/facade/HuaWeiApi.class</p>\n<pre><code>@Component\npublic class RpcPostProcessor implements ResourceLoaderAware,BeanFactoryPostProcessor  {\n    private ResourceLoader resourceLoader;\n    @Override\n    public void setResourceLoader(ResourceLoader resourceLoader) {\n        this.resourceLoader = resourceLoader;\n    }\n\n    @Override\n    public void postProcessBeanFactory(ConfigurableListableBeanFactory beanFactory) throws BeansException {\n        try {\n            //获取指定目录下的class文件\n            org.springframework.core.io.Resource[] resources = ResourcePatternUtils.getResourcePatternResolver(resourceLoader)\n                    .getResources(&quot;classpath*:/**/facade/**/*.class&quot;);\n            //根据resources创建数据读取工厂\n            MetadataReaderFactory metaReader = new CachingMetadataReaderFactory(resourceLoader);\n            for (org.springframework.core.io.Resource resource : resources) {\n                //获取元数据\n                MetadataReader metadataReader = metaReader.getMetadataReader(resource);\n                //判断是否存在HttpExchange注解(是否为http interface的接口调用)\n                if (metadataReader.getAnnotationMetadata().hasAnnotation(HttpExchange.class.getName())) {\n                    //构建一个web客户端\n                    WebClient webClient = WebClient.builder().build();\n                    //根据web客户端去构建服http服务的代理工厂\n                    HttpServiceProxyFactory factory = HttpServiceProxyFactory.builder(WebClientAdapter.forClient(webClient)).build();\n                    //利用类的全限定名通过Class.forName获取class对象并利用http服务的代理工厂创建出代理对象\n                    Object client = factory.createClient(Class.forName(metadataReader.getClassMetadata().getClassName()));\n                    //将创建出来的代理对象放到io容器当中\n                    String className = metadataReader.getClassMetadata().getClassName();\n                    beanFactory.registerSingleton(className, client);\n                }\n            }\n        } catch (Exception e) {\n            throw new EventException(ES_RPC_000);\n        }\n    }\n}\n</code></pre>\n<p>but in Mac OS or linux is not working</p>\n"},{"tags":["java","spring-boot","google-api"],"comments":[{"owner":{"account_id":6921189,"reputation":1490,"user_id":5313817,"display_name":"Rishal"},"score":0,"creation_date":1687856360,"post_id":76563201,"comment_id":134991606,"body_markdown":"The issue is with the code where you are reading the resource , when you package a file inside a jar it is not directly accessible as file path. Please read it as resource, there are multiple links to do that if you google it.","body":"The issue is with the code where you are reading the resource , when you package a file inside a jar it is not directly accessible as file path. Please read it as resource, there are multiple links to do that if you google it."},{"owner":{"account_id":18169219,"reputation":117,"user_id":13219187,"display_name":"Minh Sự"},"score":0,"creation_date":1687857536,"post_id":76563201,"comment_id":134991874,"body_markdown":"@Rishal After your comment, I have change pom.xml file to add resources but still have same error","body":"@Rishal After your comment, I have change pom.xml file to add resources but still have same error"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1687858530,"post_id":76563201,"comment_id":134992053,"body_markdown":"Read @Rishal&#39;s comment again. &quot;Please read it as resource&quot;. Is `GoogleDocService` your code?","body":"Read @Rishal&#39;s comment again. &quot;Please read it as resource&quot;. Is <code>GoogleDocService</code> your code?"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1687861524,"post_id":76563201,"comment_id":134992715,"body_markdown":"Please format the stacktrace as code not as a quote as that makes it unreadable. Your file location is wrong prefix it with `classpath:`.","body":"Please format the stacktrace as code not as a quote as that makes it unreadable. Your file location is wrong prefix it with <code>classpath:</code>."},{"owner":{"account_id":6921189,"reputation":1490,"user_id":5313817,"display_name":"Rishal"},"score":0,"creation_date":1688037319,"post_id":76563201,"comment_id":135021396,"body_markdown":"Provide the code where you are reading the resource file `app.credentials-oauth2-file-path=/credentials-oauth2.json`. Also, It will be easier for us to help you if you provide some code details or minimum reproducible example.","body":"Provide the code where you are reading the resource file <code>app.credentials-oauth2-file-path=&#47;credentials-oauth2.json</code>. Also, It will be easier for us to help you if you provide some code details or minimum reproducible example."}],"owner":{"account_id":18169219,"reputation":117,"user_id":13219187,"display_name":"Minh Sự"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":80,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687862889,"creation_date":1687856099,"question_id":76563201,"body_markdown":"I have a JSON file in src/resources/ folder, which is google-api token file, in debug mode, my app works perfectly, but when I package the app and run it with java -jar myapp.jar then a have an error as below. Are we missing configuration the path to load JSON file?\r\n\r\n``` \r\nInstant nation of bean failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [google.service.GoogleDocService]: Constructor threw exception; nested exception is java.lang.IllegalArgumentException: no JSON input found\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateBean(AbstractAutowireCapableBeanFactory.java:1334) ~[spring-beans-5.3.23.jar!/:5.3.23]\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1232) ~[spring-beans-5.3.23.jar!/:5.3.23]\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582) ~[spring-beans-5.3.23.jar!/:5.3.23]\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.23.jar!/:5.3.23]\r\n        at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.23.jar!/:5.3.23]\r\n        at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.23.jar!/:5.3.23]\r\n        at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.23.jar!/:5.3.23]\r\n        at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.23.jar!/:5.3.23]\r\n        at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:955) ~[spring-beans-5.3.23.jar!/:5.3.23]\r\n        at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:918) ~[spring-context-5.3.23.jar!/:5.3.23]\r\n        at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583) ~[spring-context-5.3.23.jar!/:5.3.23]\r\n        at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147) ~[spring-boot-2.7.5.jar!/:2.7.5]\r\n        at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734) ~[spring-boot-2.7.5.jar!/:2.7.5]\r\n        at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408) ~[spring-boot-2.7.5.jar!/:2.7.5]\r\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:308) ~[spring-boot-2.7.5.jar!/:2.7.5]\r\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306) ~[spring-boot-2.7.5.jar!/:2.7.5]\r\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295) ~[spring-boot-2.7.5.jar!/:2.7.5]\r\n        at palexy.deployment.DeploymentApplication.main(DeploymentApplication.java:13) ~[classes!/:0.0.1-SNAPSHOT]\r\n        at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]\r\n        at java.base/java.lang.reflect.Method.invoke(Method.java:578) ~[na:na]\r\n        at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:49) ~[deployment-0.0.1-SNAPSHOT.jar:0.0.1-SNAPSHOT]\r\n        at org.springframework.boot.loader.Launcher.launch(Launcher.java:108) ~[deployment-0.0.1-SNAPSHOT.jar:0.0.1-SNAPSHOT]\r\n        at org.springframework.boot.loader.Launcher.launch(Launcher.java:58) ~[deployment-0.0.1-SNAPSHOT.jar:0.0.1-SNAPSHOT]\r\n        at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:65) ~[deployment-0.0.1-SNAPSHOT.jar:0.0.1-SNAPSHOT]\r\nCaused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [google.service.GoogleDocService]: Constructor threw exception; nested exception is java.lang.IllegalArgumentException: no JSON input found\r\n        at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:224) ~[spring-beans-5.3.23.jar!/:5.3.23]\r\n        at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:87) ~[spring-beans-5.3.23.jar!/:5.3.23]\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateBean(AbstractAutowireCapableBeanFactory.java:1326) ~[spring-beans-5.3.23.jar!/:5.3.23]\r\n        ... 23 common frames omitted\r\n```\r\n\r\nThis is my pom.xml file\r\n\r\n```\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.7.5&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;*****&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;deployment&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;*****&lt;/name&gt;\r\n\t&lt;description&gt;Deployment Utility&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.postgresql&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;postgresql&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;commons-io&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;commons-io&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.11.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.drewnoakes&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;metadata-extractor&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.18.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.jetbrains&lt;/groupId&gt;\r\n            &lt;artifactId&gt;annotations&lt;/artifactId&gt;\r\n            &lt;version&gt;RELEASE&lt;/version&gt;\r\n            &lt;scope&gt;compile&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.google.api-client&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;google-api-client&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.31.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.google.http-client&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;google-http-client&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.42.3&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.google.http-client&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;google-http-client-jackson2&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.23.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.google.http-client&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;google-http-client-gson&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.23.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.google.oauth-client&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;google-oauth-client&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.23.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.google.oauth-client&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;google-oauth-client-java6&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.23.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.google.apis&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;google-api-services-sheets&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;v4-rev612-1.25.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.google.oauth-client&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;google-oauth-client-jetty&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.34.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.google.auth&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;google-auth-library-oauth2-http&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.12.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.google.apis&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;google-api-services-docs&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;v1-rev61-1.25.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.google.apis&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;google-api-services-drive&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;v3-rev197-1.25.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.google.cloud&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;google-cloud-storage&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.16.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.google.guava&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;guava&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;31.1-jre&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\r\n    &lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\n\r\napplication.properties\r\n\r\n```\r\napp.credentials-oauth2-file-path=/credentials-oauth2.json \r\n```\r\n\r\nUPDATE\r\n\r\nI add have modify pom.xml file as the below, but still has same error\r\n\r\n```\r\n&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t\t&lt;resources&gt;\r\n\t\t\t&lt;resource&gt;\r\n\t\t\t\t&lt;directory&gt;src/main/resources&lt;/directory&gt;\r\n\t\t\t\t&lt;includes&gt;\r\n\t\t\t\t\t&lt;include&gt;**/*.properties&lt;/include&gt;\r\n\t\t\t\t\t&lt;include&gt;**/*.json&lt;/include&gt;\r\n\t\t\t\t&lt;/includes&gt;\r\n\t\t\t&lt;/resource&gt;\r\n\t\t&lt;/resources&gt;\r\n\t&lt;/build&gt;\r\n```\r\n","title":"Java Spring Boot, can&#39;t load resources file when run as realse mode","body":"<p>I have a JSON file in src/resources/ folder, which is google-api token file, in debug mode, my app works perfectly, but when I package the app and run it with java -jar myapp.jar then a have an error as below. Are we missing configuration the path to load JSON file?</p>\n<pre><code>Instant nation of bean failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [google.service.GoogleDocService]: Constructor threw exception; nested exception is java.lang.IllegalArgumentException: no JSON input found\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateBean(AbstractAutowireCapableBeanFactory.java:1334) ~[spring-beans-5.3.23.jar!/:5.3.23]\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1232) ~[spring-beans-5.3.23.jar!/:5.3.23]\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582) ~[spring-beans-5.3.23.jar!/:5.3.23]\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.23.jar!/:5.3.23]\n        at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.23.jar!/:5.3.23]\n        at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.23.jar!/:5.3.23]\n        at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.23.jar!/:5.3.23]\n        at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.23.jar!/:5.3.23]\n        at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:955) ~[spring-beans-5.3.23.jar!/:5.3.23]\n        at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:918) ~[spring-context-5.3.23.jar!/:5.3.23]\n        at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583) ~[spring-context-5.3.23.jar!/:5.3.23]\n        at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147) ~[spring-boot-2.7.5.jar!/:2.7.5]\n        at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734) ~[spring-boot-2.7.5.jar!/:2.7.5]\n        at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408) ~[spring-boot-2.7.5.jar!/:2.7.5]\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:308) ~[spring-boot-2.7.5.jar!/:2.7.5]\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306) ~[spring-boot-2.7.5.jar!/:2.7.5]\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295) ~[spring-boot-2.7.5.jar!/:2.7.5]\n        at palexy.deployment.DeploymentApplication.main(DeploymentApplication.java:13) ~[classes!/:0.0.1-SNAPSHOT]\n        at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]\n        at java.base/java.lang.reflect.Method.invoke(Method.java:578) ~[na:na]\n        at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:49) ~[deployment-0.0.1-SNAPSHOT.jar:0.0.1-SNAPSHOT]\n        at org.springframework.boot.loader.Launcher.launch(Launcher.java:108) ~[deployment-0.0.1-SNAPSHOT.jar:0.0.1-SNAPSHOT]\n        at org.springframework.boot.loader.Launcher.launch(Launcher.java:58) ~[deployment-0.0.1-SNAPSHOT.jar:0.0.1-SNAPSHOT]\n        at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:65) ~[deployment-0.0.1-SNAPSHOT.jar:0.0.1-SNAPSHOT]\nCaused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [google.service.GoogleDocService]: Constructor threw exception; nested exception is java.lang.IllegalArgumentException: no JSON input found\n        at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:224) ~[spring-beans-5.3.23.jar!/:5.3.23]\n        at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:87) ~[spring-beans-5.3.23.jar!/:5.3.23]\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateBean(AbstractAutowireCapableBeanFactory.java:1326) ~[spring-beans-5.3.23.jar!/:5.3.23]\n        ... 23 common frames omitted\n</code></pre>\n<p>This is my pom.xml file</p>\n<pre><code>\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.7.5&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;*****&lt;/groupId&gt;\n    &lt;artifactId&gt;deployment&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;*****&lt;/name&gt;\n    &lt;description&gt;Deployment Utility&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\n            &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;commons-io&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-io&lt;/artifactId&gt;\n            &lt;version&gt;2.11.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.drewnoakes&lt;/groupId&gt;\n            &lt;artifactId&gt;metadata-extractor&lt;/artifactId&gt;\n            &lt;version&gt;2.18.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.jetbrains&lt;/groupId&gt;\n            &lt;artifactId&gt;annotations&lt;/artifactId&gt;\n            &lt;version&gt;RELEASE&lt;/version&gt;\n            &lt;scope&gt;compile&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.api-client&lt;/groupId&gt;\n            &lt;artifactId&gt;google-api-client&lt;/artifactId&gt;\n            &lt;version&gt;1.31.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.http-client&lt;/groupId&gt;\n            &lt;artifactId&gt;google-http-client&lt;/artifactId&gt;\n            &lt;version&gt;1.42.3&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.http-client&lt;/groupId&gt;\n            &lt;artifactId&gt;google-http-client-jackson2&lt;/artifactId&gt;\n            &lt;version&gt;1.23.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.http-client&lt;/groupId&gt;\n            &lt;artifactId&gt;google-http-client-gson&lt;/artifactId&gt;\n            &lt;version&gt;1.23.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.oauth-client&lt;/groupId&gt;\n            &lt;artifactId&gt;google-oauth-client&lt;/artifactId&gt;\n            &lt;version&gt;1.23.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.oauth-client&lt;/groupId&gt;\n            &lt;artifactId&gt;google-oauth-client-java6&lt;/artifactId&gt;\n            &lt;version&gt;1.23.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.apis&lt;/groupId&gt;\n            &lt;artifactId&gt;google-api-services-sheets&lt;/artifactId&gt;\n            &lt;version&gt;v4-rev612-1.25.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.oauth-client&lt;/groupId&gt;\n            &lt;artifactId&gt;google-oauth-client-jetty&lt;/artifactId&gt;\n            &lt;version&gt;1.34.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.auth&lt;/groupId&gt;\n            &lt;artifactId&gt;google-auth-library-oauth2-http&lt;/artifactId&gt;\n            &lt;version&gt;1.12.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.apis&lt;/groupId&gt;\n            &lt;artifactId&gt;google-api-services-docs&lt;/artifactId&gt;\n            &lt;version&gt;v1-rev61-1.25.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.apis&lt;/groupId&gt;\n            &lt;artifactId&gt;google-api-services-drive&lt;/artifactId&gt;\n            &lt;version&gt;v3-rev197-1.25.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;google-cloud-storage&lt;/artifactId&gt;\n            &lt;version&gt;2.16.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.guava&lt;/groupId&gt;\n            &lt;artifactId&gt;guava&lt;/artifactId&gt;\n            &lt;version&gt;31.1-jre&lt;/version&gt;\n        &lt;/dependency&gt;\n\n\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>application.properties</p>\n<pre><code>app.credentials-oauth2-file-path=/credentials-oauth2.json \n</code></pre>\n<p>UPDATE</p>\n<p>I add have modify pom.xml file as the below, but still has same error</p>\n<pre><code>&lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n        &lt;resources&gt;\n            &lt;resource&gt;\n                &lt;directory&gt;src/main/resources&lt;/directory&gt;\n                &lt;includes&gt;\n                    &lt;include&gt;**/*.properties&lt;/include&gt;\n                    &lt;include&gt;**/*.json&lt;/include&gt;\n                &lt;/includes&gt;\n            &lt;/resource&gt;\n        &lt;/resources&gt;\n    &lt;/build&gt;\n</code></pre>\n"},{"tags":["java","import"],"comments":[{"owner":{"account_id":210406,"reputation":10453,"user_id":462006,"display_name":"scrappedcola"},"score":0,"creation_date":1335466751,"post_id":10339637,"comment_id":13316847,"body_markdown":"try javac *.java do you get the same result?","body":"try javac *.java do you get the same result?"}],"answers":[{"tags":[],"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"down_vote_count":0,"up_vote_count":11,"is_accepted":true,"score":11,"last_activity_date":1335466692,"creation_date":1335466692,"answer_id":10339669,"question_id":10339637,"body_markdown":"For one thing, `bar` should be called `Bar` to be idiomatic...\r\n\r\nIdeally, you should compile from the directory *above* Main.java, like this:\r\n\r\n    javac -d out foo/Main.java foo/Bar.java\r\n\r\nThat will create a directory called &quot;out&quot; containing another directory &quot;foo&quot;, which will contain Main.class and Bar.class. So from the parent directory again, you could run:\r\n\r\n    java -cp out foo.Main\r\n\r\nThe source locations don&#39;t *have* to match the package structure. You *could* just call javac from the directory containing `Main.java` and `Bar.java` like this:\r\n\r\n    javac -cp out Main.java Bar.java\r\n\r\n(And then run it in the same way as before) However, it&#39;s generally a much better idea to structure your source code according to packages.\r\n\r\nYou may well find it easier to use an IDE (Eclipse or NetBeans, for example) which will handle all the compilation etc for you. If you *do* want to build a real project from the command line, you should probably look into using a full build system such as Ant or Maven.\r\n\r\n(Note that you&#39;d get the same error on Linux as on Windows, if you tried to compile in the same way.)","title":"java import &quot;cannot find symbol&quot;","body":"<p>For one thing, <code>bar</code> should be called <code>Bar</code> to be idiomatic...</p>\n\n<p>Ideally, you should compile from the directory <em>above</em> Main.java, like this:</p>\n\n<pre><code>javac -d out foo/Main.java foo/Bar.java\n</code></pre>\n\n<p>That will create a directory called \"out\" containing another directory \"foo\", which will contain Main.class and Bar.class. So from the parent directory again, you could run:</p>\n\n<pre><code>java -cp out foo.Main\n</code></pre>\n\n<p>The source locations don't <em>have</em> to match the package structure. You <em>could</em> just call javac from the directory containing <code>Main.java</code> and <code>Bar.java</code> like this:</p>\n\n<pre><code>javac -cp out Main.java Bar.java\n</code></pre>\n\n<p>(And then run it in the same way as before) However, it's generally a much better idea to structure your source code according to packages.</p>\n\n<p>You may well find it easier to use an IDE (Eclipse or NetBeans, for example) which will handle all the compilation etc for you. If you <em>do</em> want to build a real project from the command line, you should probably look into using a full build system such as Ant or Maven.</p>\n\n<p>(Note that you'd get the same error on Linux as on Windows, if you tried to compile in the same way.)</p>\n"},{"tags":[],"owner":{"account_id":1191502,"reputation":4664,"user_id":1164169,"accept_rate":100,"display_name":"Juan Alberto L&#243;pez Cavallotti"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1335466694,"creation_date":1335466694,"answer_id":10339670,"question_id":10339637,"body_markdown":"I think you need to compile properly the class bar before attempting to compile foo, this is, generate the class file in the proper package structure.","title":"java import &quot;cannot find symbol&quot;","body":"<p>I think you need to compile properly the class bar before attempting to compile foo, this is, generate the class file in the proper package structure.</p>\n"},{"tags":[],"owner":{"account_id":20159165,"reputation":2445,"user_id":14784590,"display_name":"Reejesh"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1687862803,"creation_date":1627556684,"answer_id":68574792,"question_id":10339637,"body_markdown":"If any of you have worked on a kotlin project and then **working on a complete Java project without the support of kotlin** in gradle, and you put a class in kotlin into the Java project and try to import that Kotlin class, you will get this import issue. Not with reference to the exact question, but someone may find it helpful.\r\n\r\nExample : trying to import SomeClass.kt in MainActivity.java will throw this error.\r\n\r\nSolution : Android Studio Tools Menu -&gt; Kotlin -&gt; Configure Kotlin in Project.","title":"java import &quot;cannot find symbol&quot;","body":"<p>If any of you have worked on a kotlin project and then <strong>working on a complete Java project without the support of kotlin</strong> in gradle, and you put a class in kotlin into the Java project and try to import that Kotlin class, you will get this import issue. Not with reference to the exact question, but someone may find it helpful.</p>\n<p>Example : trying to import SomeClass.kt in MainActivity.java will throw this error.</p>\n<p>Solution : Android Studio Tools Menu -&gt; Kotlin -&gt; Configure Kotlin in Project.</p>\n"}],"owner":{"account_id":1284253,"reputation":271,"user_id":1237666,"accept_rate":100,"display_name":"MindlessMaik"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":33768,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":10339669,"answer_count":3,"score":2,"last_activity_date":1687862803,"creation_date":1335466547,"question_id":10339637,"body_markdown":"I&#39;m about porting a linux tool to windows. The tool works fine on linux system, but now on windows I get this &quot;cannot find symbol&quot; error. \r\n\r\nI have this little main class:\r\n\r\n    package foo;\r\n    \r\n    import foo.bar;\r\n    \r\n    public class Main {\r\n        public static void main(String[] args) throws Exception {\r\n        \tbar.getInstance();\r\n        }\r\n    }\r\n\r\nand the error appears now, while doing javac Main.java:\r\n\r\nimport foo.bar: cannot find symbol\r\n        ^\r\nsymbol: class bar\r\nlocation: package foo\r\n\r\nMain.java and bar.java are in the same directory.\r\nwhat am I missing?","title":"java import &quot;cannot find symbol&quot;","body":"<p>I'm about porting a linux tool to windows. The tool works fine on linux system, but now on windows I get this \"cannot find symbol\" error. </p>\n\n<p>I have this little main class:</p>\n\n<pre><code>package foo;\n\nimport foo.bar;\n\npublic class Main {\n    public static void main(String[] args) throws Exception {\n        bar.getInstance();\n    }\n}\n</code></pre>\n\n<p>and the error appears now, while doing javac Main.java:</p>\n\n<p>import foo.bar: cannot find symbol\n        ^\nsymbol: class bar\nlocation: package foo</p>\n\n<p>Main.java and bar.java are in the same directory.\nwhat am I missing?</p>\n"},{"tags":["java","lucene"],"answers":[{"tags":[],"owner":{"account_id":22394789,"reputation":1382,"user_id":16606223,"display_name":"Yahor Barkouski"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1687862454,"creation_date":1687862454,"answer_id":76564038,"question_id":76563796,"body_markdown":"Lucene doesn&#39;t support direct indexing of float or double values because of their imprecise nature, one common approach is to convert your float/double values to long or int by scaling them:\r\n```java\r\ndouble originalValue = 123.456;\r\nlong scaledValue = (long) (originalValue * 1000);\r\n\r\ndocument.add(new NumericDocValuesField(&quot;field&quot;, scaledValue));\r\n```\r\n\r\nSo you decide on a precision level that you care about","title":"How to index float/double values in Lucene","body":"<p>Lucene doesn't support direct indexing of float or double values because of their imprecise nature, one common approach is to convert your float/double values to long or int by scaling them:</p>\n<pre class=\"lang-java prettyprint-override\"><code>double originalValue = 123.456;\nlong scaledValue = (long) (originalValue * 1000);\n\ndocument.add(new NumericDocValuesField(&quot;field&quot;, scaledValue));\n</code></pre>\n<p>So you decide on a precision level that you care about</p>\n"}],"owner":{"account_id":1786366,"reputation":502,"user_id":17782348,"display_name":"devaskim"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1687862454,"creation_date":1687860567,"question_id":76563796,"body_markdown":"I am using Lucene 8.11 because of Java 8 and need to index float/double values. But I can find only `NumericDocValuesField` class which accepts only integer/long types.","title":"How to index float/double values in Lucene","body":"<p>I am using Lucene 8.11 because of Java 8 and need to index float/double values. But I can find only <code>NumericDocValuesField</code> class which accepts only integer/long types.</p>\n"},{"tags":["java","postgresql","entitymanager","nativequery"],"answers":[{"tags":[],"owner":{"account_id":22394789,"reputation":1382,"user_id":16606223,"display_name":"Yahor Barkouski"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1687862286,"creation_date":1687862286,"answer_id":76564016,"question_id":76563829,"body_markdown":"The easiest one, still quite readable:\r\n```java\r\nentityManager.createNativeQuery(\r\n    &quot;INSERT INTO car(enum_column) &quot; +\r\n    &quot;VALUES(:enumColumn)&quot;)\r\n    .unwrap(NativeQuery.class)\r\n    .setParameter(&quot;enumColumn&quot;, entity.getEnumColumn() == null ? null : entity.getEnumColumn().name())\r\n    .executeUpdate();\r\n```","title":"Saving enum name in native query","body":"<p>The easiest one, still quite readable:</p>\n<pre class=\"lang-java prettyprint-override\"><code>entityManager.createNativeQuery(\n    &quot;INSERT INTO car(enum_column) &quot; +\n    &quot;VALUES(:enumColumn)&quot;)\n    .unwrap(NativeQuery.class)\n    .setParameter(&quot;enumColumn&quot;, entity.getEnumColumn() == null ? null : entity.getEnumColumn().name())\n    .executeUpdate();\n</code></pre>\n"},{"tags":[],"owner":{"display_name":"user19682350"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1687862393,"creation_date":1687862359,"answer_id":76564025,"question_id":76563829,"body_markdown":"\r\nYes, it is possible to save the name of the enum without using the name method. You can use the Enum.toString() method instead. The toString() method returns the string representation of the enum constant, which is its name.\r\n\r\n    entityManager.createNativeQuery(\r\n        &quot;INSERT INTO car(enum_column) &quot; +\r\n                &quot;VALUES(:enumColumn)&quot;)\r\n    .unwrap(NativeQuery.class)\r\n    .setParameter(&quot;enumColumn&quot;, entity.getEnumColumn != null ? entity.getEnumColumn.toString() : null)\r\n    .executeUpdate();","title":"Saving enum name in native query","body":"<p>Yes, it is possible to save the name of the enum without using the name method. You can use the Enum.toString() method instead. The toString() method returns the string representation of the enum constant, which is its name.</p>\n<pre><code>entityManager.createNativeQuery(\n    &quot;INSERT INTO car(enum_column) &quot; +\n            &quot;VALUES(:enumColumn)&quot;)\n.unwrap(NativeQuery.class)\n.setParameter(&quot;enumColumn&quot;, entity.getEnumColumn != null ? entity.getEnumColumn.toString() : null)\n.executeUpdate();\n</code></pre>\n"}],"owner":{"account_id":27089847,"reputation":17,"user_id":20637812,"display_name":"pawello12"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76564016,"answer_count":2,"score":0,"last_activity_date":1687862393,"creation_date":1687860747,"question_id":76563829,"body_markdown":"Is it possible with the entity manager to save the name of the enum without using the `name` method? I need it because sometimes my enum will be null and then the `name` method would return a `nullpointer`. Now I have to do this:\r\n\r\n    entityManager.createNativeQuery(\r\n                    &quot;INSERT INTO car(enum_column) &quot; +\r\n                            &quot;VALUES(enumColumn)&quot;)\r\n            .unwrap(NativeQuery.class)\r\n            .setParameter(&quot;enumColumn&quot;, entity.getEnumColumn.name)\r\n            .executeUpdate();\r\n\r\n\r\ni need to do this something like this and set enum name:\r\n\r\n    entityManager.createNativeQuery(\r\n                    &quot;INSERT INTO car(enum_column) &quot; +\r\n                            &quot;VALUES(enumColumn)&quot;)\r\n            .unwrap(NativeQuery.class)\r\n            .setParameter(&quot;enumColumn&quot;, entity.getEnumColumn)\r\n            .executeUpdate();\r\n\r\nunfortunelly, now result is : `\\xaced00057e72002c636f6dffddffd...`\r\n\r\n","title":"Saving enum name in native query","body":"<p>Is it possible with the entity manager to save the name of the enum without using the <code>name</code> method? I need it because sometimes my enum will be null and then the <code>name</code> method would return a <code>nullpointer</code>. Now I have to do this:</p>\n<pre><code>entityManager.createNativeQuery(\n                &quot;INSERT INTO car(enum_column) &quot; +\n                        &quot;VALUES(enumColumn)&quot;)\n        .unwrap(NativeQuery.class)\n        .setParameter(&quot;enumColumn&quot;, entity.getEnumColumn.name)\n        .executeUpdate();\n</code></pre>\n<p>i need to do this something like this and set enum name:</p>\n<pre><code>entityManager.createNativeQuery(\n                &quot;INSERT INTO car(enum_column) &quot; +\n                        &quot;VALUES(enumColumn)&quot;)\n        .unwrap(NativeQuery.class)\n        .setParameter(&quot;enumColumn&quot;, entity.getEnumColumn)\n        .executeUpdate();\n</code></pre>\n<p>unfortunelly, now result is : <code>\\xaced00057e72002c636f6dffddffd...</code></p>\n"},{"tags":["java","spring-boot","apache-camel"],"answers":[{"tags":[],"owner":{"account_id":2269593,"reputation":43907,"user_id":1997376,"accept_rate":100,"display_name":"Nicolas Filotto"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1687862352,"creation_date":1687862352,"answer_id":76564024,"question_id":76561209,"body_markdown":"It is actually the normal behavior when you annotate your test class with `@UseAdviceWith`. Indeed by doing so, you indicate `camel-test-spring-junit5` that you want to alter the routes consequently it cannot start the context automatically as they need to be altered before starting the context.\r\n\r\nSee the [Javadoc of `UseAdviceWith` for more details][1], I quote:\r\n\r\n&gt; Indicates the use of adviceWith() within the test class. If a class is\r\n&gt; annotated with this annotation and value() returns true, any\r\n&gt; CamelContexts bootstrapped during the test through the use of Spring\r\n&gt; Test loaded application contexts will not be started automatically.\r\n&gt; The test author is responsible for injecting the Camel contexts into\r\n&gt; the test and executing CamelContextLifecycle.start() on them at the\r\n&gt; appropriate time after any advice has been applied to the routes in\r\n&gt; the Camel context(s).\r\n\r\n\r\n  [1]: https://www.javadoc.io/doc/org.apache.camel/camel-test-spring/latest/org/apache/camel/test/spring/UseAdviceWith.html","title":"Running Spring boot test against Apache Camel Route with jUnit5","body":"<p>It is actually the normal behavior when you annotate your test class with <code>@UseAdviceWith</code>. Indeed by doing so, you indicate <code>camel-test-spring-junit5</code> that you want to alter the routes consequently it cannot start the context automatically as they need to be altered before starting the context.</p>\n<p>See the <a href=\"https://www.javadoc.io/doc/org.apache.camel/camel-test-spring/latest/org/apache/camel/test/spring/UseAdviceWith.html\" rel=\"nofollow noreferrer\">Javadoc of <code>UseAdviceWith</code> for more details</a>, I quote:</p>\n<blockquote>\n<p>Indicates the use of adviceWith() within the test class. If a class is\nannotated with this annotation and value() returns true, any\nCamelContexts bootstrapped during the test through the use of Spring\nTest loaded application contexts will not be started automatically.\nThe test author is responsible for injecting the Camel contexts into\nthe test and executing CamelContextLifecycle.start() on them at the\nappropriate time after any advice has been applied to the routes in\nthe Camel context(s).</p>\n</blockquote>\n"}],"owner":{"account_id":1310169,"reputation":3813,"user_id":1258319,"accept_rate":81,"display_name":"Julian"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":416,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76564024,"answer_count":1,"score":0,"last_activity_date":1687862352,"creation_date":1687831890,"question_id":76561209,"body_markdown":"We have an Apache Camel route consuming messages from an IBM MQ request queue and sending messages back to a response queue. It will look like below:\r\n\r\n    from(&quot;jms:request.queue&quot;)\r\n        .routeId(&quot;my-route&quot;)\r\n        .process(myProcessor)\r\n        .to(&quot;jms:response.queue&quot;).id(&quot;response&quot;)\r\n        .log(&quot;work done&quot;)\r\n\r\nNo need to say that the above example is heavily simplified. In reality it is relatively complex using some `filter` and `choice` constructs as well as two internal `direct` sub routes. The complexity makes you want to have unit tests in place to make sure the expected functionality is there.\r\n\r\nTo avoid connecting to a JMS broker and have the test still verify the end to end flow the easiest way would be to mock the entry and the output endpoints using `AdviceWith` provided by Camel. Our environment configuration is driven from `yaml` files, and our unit tests looks like below:\r\n\r\n    @CamelSpringBootTest\r\n    @ContextConfiguration(classes = {\r\n        CamelConfig.class,\r\n        JmsConfig.class\r\n        ...\r\n        // many other classes required to build the application context for this route\r\n    },\r\n    // The initialiser below is needed to load yaml configuration \r\n    initializers = ConfigDataApplicationContextInitializer.class)\r\n    @EnableConfigurationProperties(value = IbmMqConfig.class)\r\n    @ActiveProfiles(&quot;test&quot;)\r\n    @DirtiesContext(classMode = DirtiesContext.ClassMode.AFTER_EACH_TEST_METHOD)\r\n    @UseAdviceWith\r\n    class MyRouteTest {\r\n        \r\n        @Autowired\r\n        private MyRouteBuilder myRouteBuilder;\r\n\r\n        @Autowired\r\n        private CamelContext camelContext;\r\n\r\n        @EndpointInject(uri=&quot;mock:response-queue&quot;)\r\n        private MockEndpoint mockResponseQueue;\r\n\r\n        @Produce(&quot;direct:start&quot;)\r\n        private ProducerTemplate producerTemplate;\r\n\r\n        @Test\r\n        void shouldWorkAsExpected() {\r\n            AdviceWith.adviceWith(&quot;my-route&quot;), camelContext,  new AdviceWithRouteBuilder(camelContext) {\r\n                @Override\r\n                public void configure() throws Exception {\r\n                    replaceFromWith(&quot;direct:start&quot;);\r\n                    weaveById(&quot;response&quot;).replace().to(mockReesponseQueue);\r\n                }\r\n            });\r\n            // The rest of the test goes here\r\n        }\r\n\r\n    }\r\n\r\nIn other words what I done above was to follow the [Apache Camel Spring testing documentation ][1]. The only difference I had was that rather than specifying the configuration via `@SpringBootTest` annotation I used `@ContextConfiguration` instead. This was because I wanted to to be able to load `yaml` config file.\r\n\r\nMy problem is that when trying to run the test the camel context is not started and the route is not configured. It is only when explicitly calling `camelContext.start()` that the route is actually started. When using jUnit 4 and the old `RunWith` approach we never had to do this and everything worked perfectly.\r\n\r\nSo my question is what I am doing wrong and how can I fix it?\r\n\r\nThank you in advance.\r\n  \r\n\r\n\r\n  [1]: https://camel.apache.org/components/3.20.x/others/test-spring-junit5.html","title":"Running Spring boot test against Apache Camel Route with jUnit5","body":"<p>We have an Apache Camel route consuming messages from an IBM MQ request queue and sending messages back to a response queue. It will look like below:</p>\n<pre><code>from(&quot;jms:request.queue&quot;)\n    .routeId(&quot;my-route&quot;)\n    .process(myProcessor)\n    .to(&quot;jms:response.queue&quot;).id(&quot;response&quot;)\n    .log(&quot;work done&quot;)\n</code></pre>\n<p>No need to say that the above example is heavily simplified. In reality it is relatively complex using some <code>filter</code> and <code>choice</code> constructs as well as two internal <code>direct</code> sub routes. The complexity makes you want to have unit tests in place to make sure the expected functionality is there.</p>\n<p>To avoid connecting to a JMS broker and have the test still verify the end to end flow the easiest way would be to mock the entry and the output endpoints using <code>AdviceWith</code> provided by Camel. Our environment configuration is driven from <code>yaml</code> files, and our unit tests looks like below:</p>\n<pre><code>@CamelSpringBootTest\n@ContextConfiguration(classes = {\n    CamelConfig.class,\n    JmsConfig.class\n    ...\n    // many other classes required to build the application context for this route\n},\n// The initialiser below is needed to load yaml configuration \ninitializers = ConfigDataApplicationContextInitializer.class)\n@EnableConfigurationProperties(value = IbmMqConfig.class)\n@ActiveProfiles(&quot;test&quot;)\n@DirtiesContext(classMode = DirtiesContext.ClassMode.AFTER_EACH_TEST_METHOD)\n@UseAdviceWith\nclass MyRouteTest {\n    \n    @Autowired\n    private MyRouteBuilder myRouteBuilder;\n\n    @Autowired\n    private CamelContext camelContext;\n\n    @EndpointInject(uri=&quot;mock:response-queue&quot;)\n    private MockEndpoint mockResponseQueue;\n\n    @Produce(&quot;direct:start&quot;)\n    private ProducerTemplate producerTemplate;\n\n    @Test\n    void shouldWorkAsExpected() {\n        AdviceWith.adviceWith(&quot;my-route&quot;), camelContext,  new AdviceWithRouteBuilder(camelContext) {\n            @Override\n            public void configure() throws Exception {\n                replaceFromWith(&quot;direct:start&quot;);\n                weaveById(&quot;response&quot;).replace().to(mockReesponseQueue);\n            }\n        });\n        // The rest of the test goes here\n    }\n\n}\n</code></pre>\n<p>In other words what I done above was to follow the <a href=\"https://camel.apache.org/components/3.20.x/others/test-spring-junit5.html\" rel=\"nofollow noreferrer\">Apache Camel Spring testing documentation </a>. The only difference I had was that rather than specifying the configuration via <code>@SpringBootTest</code> annotation I used <code>@ContextConfiguration</code> instead. This was because I wanted to to be able to load <code>yaml</code> config file.</p>\n<p>My problem is that when trying to run the test the camel context is not started and the route is not configured. It is only when explicitly calling <code>camelContext.start()</code> that the route is actually started. When using jUnit 4 and the old <code>RunWith</code> approach we never had to do this and everything worked perfectly.</p>\n<p>So my question is what I am doing wrong and how can I fix it?</p>\n<p>Thank you in advance.</p>\n"},{"tags":["java","string","oop"],"comments":[{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":1,"creation_date":1686659050,"post_id":76464893,"comment_id":134826737,"body_markdown":"All of the `String`(s) are objects. String is an Object type. Never compare Object types with `==`. Because it compares **references**. `String a = &quot;a&quot;; String b = new String(a);` a will never `==` b. They are distinct **references**. `String c = a.substring(0, 1);` is also a *distinct* **reference**.","body":"All of the <code>String</code>(s) are objects. String is an Object type. Never compare Object types with <code>==</code>. Because it compares <b>references</b>. <code>String a = &quot;a&quot;; String b = new String(a);</code> a will never <code>==</code> b. They are distinct <b>references</b>. <code>String c = a.substring(0, 1);</code> is also a <i>distinct</i> <b>reference</b>."},{"owner":{"account_id":129540,"reputation":210847,"user_id":328193,"accept_rate":91,"display_name":"David"},"score":1,"creation_date":1686659735,"post_id":76464893,"comment_id":134826928,"body_markdown":"*&quot;What is the difference of &quot;str4&quot; (or str5)?&quot;* - They&#39;re different for the exact same reason `str3` is different, so I guess it&#39;s not clear to me why one behavior is expected but the other is not.  In the code shown, every instance of the literal string `&quot;Object&quot;` is optimized by the compiler into a single `String` object with multiple references to it.  (The same is true of literals like `&quot;==&quot;` and `&quot;: &quot;`, though the code doesn&#39;t observe those.)  But instances created at runtime aren&#39;t optimized by the compiler because they&#39;re not literal values and don&#39;t exist until runtime.","body":"<i>&quot;What is the difference of &quot;str4&quot; (or str5)?&quot;</i> - They&#39;re different for the exact same reason <code>str3</code> is different, so I guess it&#39;s not clear to me why one behavior is expected but the other is not.  In the code shown, every instance of the literal string <code>&quot;Object&quot;</code> is optimized by the compiler into a single <code>String</code> object with multiple references to it.  (The same is true of literals like <code>&quot;==&quot;</code> and <code>&quot;: &quot;</code>, though the code doesn&#39;t observe those.)  But instances created at runtime aren&#39;t optimized by the compiler because they&#39;re not literal values and don&#39;t exist until runtime."},{"owner":{"account_id":1960454,"reputation":44539,"user_id":1762224,"accept_rate":61,"display_name":"Mr. Polywhirl"},"score":1,"creation_date":1686660373,"post_id":76464893,"comment_id":134827074,"body_markdown":"See also: [_&quot;What is Java String Pool?&quot;_](https://www.digitalocean.com/community/tutorials/what-is-java-string-pool)","body":"See also: <a href=\"https://www.digitalocean.com/community/tutorials/what-is-java-string-pool\" rel=\"nofollow noreferrer\"><i>&quot;What is Java String Pool?&quot;</i></a>"},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":1,"creation_date":1686660487,"post_id":76464893,"comment_id":134827100,"body_markdown":"@David - 1) it is not an &quot;optimization&quot;.  The behavior of multiple &quot;equal&quot; string literals referring to the same `String` objects is actually mandated by the JLS.  2) Under some circumstances, `String` instances created at runtime *do* ultimately refer to the same object..  Examples include when `intern` is used and when GC string deduping is enabled.","body":"@David - 1) it is not an &quot;optimization&quot;.  The behavior of multiple &quot;equal&quot; string literals referring to the same <code>String</code> objects is actually mandated by the JLS.  2) Under some circumstances, <code>String</code> instances created at runtime <i>do</i> ultimately refer to the same object..  Examples include when <code>intern</code> is used and when GC string deduping is enabled."},{"owner":{"account_id":129540,"reputation":210847,"user_id":328193,"accept_rate":91,"display_name":"David"},"score":0,"creation_date":1686661209,"post_id":76464893,"comment_id":134827264,"body_markdown":"@StephenC: &quot;Optimization&quot; may have indeed been the wrong word, that&#39;s fair.  My Java terminology is rudimentary at best.  My understanding is simply that the compiler sees these literals, sees they&#39;re the same, and knows that strings are immutable so it only needs one reference to one in-memory string instance.  Which would satisfy the `==` comparison in the code shown.  I *suspect* the OP really just needs to properly compare strings without getting deep into the internals, making the whole thing a moot point anyway.","body":"@StephenC: &quot;Optimization&quot; may have indeed been the wrong word, that&#39;s fair.  My Java terminology is rudimentary at best.  My understanding is simply that the compiler sees these literals, sees they&#39;re the same, and knows that strings are immutable so it only needs one reference to one in-memory string instance.  Which would satisfy the <code>==</code> comparison in the code shown.  I <i>suspect</i> the OP really just needs to properly compare strings without getting deep into the internals, making the whole thing a moot point anyway."},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1686700301,"post_id":76464893,"comment_id":134834537,"body_markdown":"Indeed.  The best advice is to never use `==` to compare strings.  Plain and simple.  Hence the duplink.","body":"Indeed.  The best advice is to never use <code>==</code> to compare strings.  Plain and simple.  Hence the duplink."}],"answers":[{"tags":[],"owner":{"account_id":1335627,"reputation":1470,"user_id":1278463,"display_name":"Borislav Gizdov"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1686660203,"creation_date":1686660203,"answer_id":76465086,"question_id":76464893,"body_markdown":"The == operator in Java does not compare whether objects are equal, but rather checks if the objects have the same memory address.\r\n\r\nStrings in Java are immutable. When you create a string using the assignment operator &quot;=&quot;, such as `String str = &quot;Object&quot;`, Java references the same memory address for optimization purposes. That&#39;s why you get a true result when comparing such strings using the == operator. However, if you create a new string using `new String()` or a substring, Java creates a new object with a different memory address, which is why the comparison returns false.\r\n\r\nNote: To compare the content of the objects, use the `str1.equals(str2)` method.\r\n\r\n\r\n```\r\nclass Scratch {\r\n  public static void main(String[] args) {\r\n    String name = &quot;Object Oriented&quot;;\r\n    String str1 = &quot;Object&quot;;\r\n    String str2 = &quot;Object&quot;;\r\n    String str3 = new String(&quot;Object&quot;);\r\n    String str4 = name.substring(0,6);\r\n    String str5 = name.substring(0,6);\r\n\r\n    System.out.println(str1 + &quot;==&quot; + str2 + &quot; | &quot;\r\n        + System.identityHashCode(str1) +&quot;==&quot; + System.identityHashCode(str2)\r\n        +&quot;: &quot; + (str1 == str2));\r\n    System.out.println(str1 + &quot;==&quot; + &quot;Object&quot;  + &quot; | &quot;\r\n        + System.identityHashCode(str1) +&quot;==&quot; + System.identityHashCode(&quot;Object&quot;)\r\n        + &quot;: &quot; + (str1 == &quot;Object&quot;));\r\n    System.out.println(str1 + &quot;==&quot; + str3  + &quot; | &quot;\r\n        + System.identityHashCode(str1) +&quot;==&quot; + System.identityHashCode(str3)\r\n        + &quot;: &quot; + (str1 == str3));\r\n    System.out.println(str1 + &quot;==&quot; + str4  + &quot; | &quot;\r\n        + System.identityHashCode(str1) +&quot;==&quot; + System.identityHashCode(str4)\r\n        + &quot;: &quot; + (str1 == str4));\r\n    System.out.println(str4 + &quot;==&quot; + str5  + &quot; | &quot;\r\n        + System.identityHashCode(str4) +&quot;==&quot; + System.identityHashCode(str5)\r\n        + &quot;: &quot; + (str4 == str5));\r\n  }\r\n}\r\n```\r\n\r\n\r\n```\r\nObject==Object | 225991731==225991731: true\r\nObject==Object | 225991731==225991731: true\r\nObject==Object | 225991731==342597804: false\r\nObject==Object | 225991731==1308244637: false\r\nObject==Object | 1308244637==1860944798: false\r\n```","title":"string == operator behaviour in JAVA","body":"<p>The == operator in Java does not compare whether objects are equal, but rather checks if the objects have the same memory address.</p>\n<p>Strings in Java are immutable. When you create a string using the assignment operator &quot;=&quot;, such as <code>String str = &quot;Object&quot;</code>, Java references the same memory address for optimization purposes. That's why you get a true result when comparing such strings using the == operator. However, if you create a new string using <code>new String()</code> or a substring, Java creates a new object with a different memory address, which is why the comparison returns false.</p>\n<p>Note: To compare the content of the objects, use the <code>str1.equals(str2)</code> method.</p>\n<pre><code>class Scratch {\n  public static void main(String[] args) {\n    String name = &quot;Object Oriented&quot;;\n    String str1 = &quot;Object&quot;;\n    String str2 = &quot;Object&quot;;\n    String str3 = new String(&quot;Object&quot;);\n    String str4 = name.substring(0,6);\n    String str5 = name.substring(0,6);\n\n    System.out.println(str1 + &quot;==&quot; + str2 + &quot; | &quot;\n        + System.identityHashCode(str1) +&quot;==&quot; + System.identityHashCode(str2)\n        +&quot;: &quot; + (str1 == str2));\n    System.out.println(str1 + &quot;==&quot; + &quot;Object&quot;  + &quot; | &quot;\n        + System.identityHashCode(str1) +&quot;==&quot; + System.identityHashCode(&quot;Object&quot;)\n        + &quot;: &quot; + (str1 == &quot;Object&quot;));\n    System.out.println(str1 + &quot;==&quot; + str3  + &quot; | &quot;\n        + System.identityHashCode(str1) +&quot;==&quot; + System.identityHashCode(str3)\n        + &quot;: &quot; + (str1 == str3));\n    System.out.println(str1 + &quot;==&quot; + str4  + &quot; | &quot;\n        + System.identityHashCode(str1) +&quot;==&quot; + System.identityHashCode(str4)\n        + &quot;: &quot; + (str1 == str4));\n    System.out.println(str4 + &quot;==&quot; + str5  + &quot; | &quot;\n        + System.identityHashCode(str4) +&quot;==&quot; + System.identityHashCode(str5)\n        + &quot;: &quot; + (str4 == str5));\n  }\n}\n</code></pre>\n<pre><code>Object==Object | 225991731==225991731: true\nObject==Object | 225991731==225991731: true\nObject==Object | 225991731==342597804: false\nObject==Object | 225991731==1308244637: false\nObject==Object | 1308244637==1860944798: false\n</code></pre>\n"}],"owner":{"account_id":2187289,"reputation":669,"user_id":1935415,"accept_rate":27,"display_name":"babeyh"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":74,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1686660302,"answer_count":1,"score":0,"last_activity_date":1687862161,"creation_date":1686658921,"question_id":76464893,"body_markdown":"I want to understand the == operator in JAVA;\r\n\r\n    String name = &quot;Object Oriented&quot;;\r\n    String str1 = &quot;Object&quot;;\r\n    String str2 = &quot;Object&quot;;\r\n    String str3 = new String(&quot;Object&quot;);\r\n    String str4 = name.substring(0,6);\r\n    String str5 = name.substring(0,6);\r\n    String str6 = &quot;Obj&quot; + &quot;ect&quot;;\r\n\r\n    System.out.println(str1 + &quot;==&quot; + str2 + &quot;: &quot; + (str1 == str2));\r\n    System.out.println(str1 + &quot;==&quot; + &quot;Object&quot; + &quot;: &quot; + (str1 == &quot;Object&quot;));\r\n    System.out.println(str1 + &quot;==&quot; + str6 + &quot;: &quot; + (str1 == str6));\r\n    System.out.println(str1 + &quot;==&quot; + str3 + &quot;: &quot; + (str1 == str3));\r\n    System.out.println(str1 + &quot;==&quot; + str4 + &quot;: &quot; + (str1 == str4));\r\n    System.out.println(str4 + &quot;==&quot; + str5 + &quot;: &quot; + (str4 == str5));\r\n\r\nThe output is weird; \r\n\r\n    Object==Object: true\r\n    Object==Object: true\r\n    Object==Object: true\r\n    Object==Object: false\r\n    Object==Object: false\r\n    Object==Object: false\r\n\r\nIn the Deitel How to Program Java book, it says; \r\n\r\n&gt; To conserve memory, Java treats all string literals with the same\r\n&gt; contents as a single String object that has many references to it.\r\n\r\nSo, str1 and str2 are individual string literals, and Java treats them as a single object. Similarly, str6 is the same content.  \r\n\r\nThe &quot;str3&quot; is a new object, it is the supposed output (false). \r\n\r\nBut, I don&#39;t understand the last two. What is the difference between  &quot;str4&quot; and &quot;str6&quot;, &quot;str2&quot; and &quot;str5&quot;?\r\n\r\nIs the &quot;str1&quot; a variable and the other ones are objects? \r\n\r\nI know &quot;equal()&quot; method. I know the difference between two methods.\r\n\r\nthis is not the same question with [this][1] \r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/513832/how-do-i-compare-strings-in-java","title":"string == operator behaviour in JAVA","body":"<p>I want to understand the == operator in JAVA;</p>\n<pre><code>String name = &quot;Object Oriented&quot;;\nString str1 = &quot;Object&quot;;\nString str2 = &quot;Object&quot;;\nString str3 = new String(&quot;Object&quot;);\nString str4 = name.substring(0,6);\nString str5 = name.substring(0,6);\nString str6 = &quot;Obj&quot; + &quot;ect&quot;;\n\nSystem.out.println(str1 + &quot;==&quot; + str2 + &quot;: &quot; + (str1 == str2));\nSystem.out.println(str1 + &quot;==&quot; + &quot;Object&quot; + &quot;: &quot; + (str1 == &quot;Object&quot;));\nSystem.out.println(str1 + &quot;==&quot; + str6 + &quot;: &quot; + (str1 == str6));\nSystem.out.println(str1 + &quot;==&quot; + str3 + &quot;: &quot; + (str1 == str3));\nSystem.out.println(str1 + &quot;==&quot; + str4 + &quot;: &quot; + (str1 == str4));\nSystem.out.println(str4 + &quot;==&quot; + str5 + &quot;: &quot; + (str4 == str5));\n</code></pre>\n<p>The output is weird;</p>\n<pre><code>Object==Object: true\nObject==Object: true\nObject==Object: true\nObject==Object: false\nObject==Object: false\nObject==Object: false\n</code></pre>\n<p>In the Deitel How to Program Java book, it says;</p>\n<blockquote>\n<p>To conserve memory, Java treats all string literals with the same\ncontents as a single String object that has many references to it.</p>\n</blockquote>\n<p>So, str1 and str2 are individual string literals, and Java treats them as a single object. Similarly, str6 is the same content.</p>\n<p>The &quot;str3&quot; is a new object, it is the supposed output (false).</p>\n<p>But, I don't understand the last two. What is the difference between  &quot;str4&quot; and &quot;str6&quot;, &quot;str2&quot; and &quot;str5&quot;?</p>\n<p>Is the &quot;str1&quot; a variable and the other ones are objects?</p>\n<p>I know &quot;equal()&quot; method. I know the difference between two methods.</p>\n<p>this is not the same question with <a href=\"https://stackoverflow.com/questions/513832/how-do-i-compare-strings-in-java\">this</a></p>\n"},{"tags":["java","android","kotlin","brightcove"],"owner":{"account_id":28896843,"reputation":1,"user_id":22132674,"display_name":"Sumit Shaw"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687862082,"creation_date":1687862082,"question_id":76563987,"body_markdown":"When i tried to download BrightCove video it download some time and some times it going to queuing state and doesn&#39;t and not recover from it what i have did it wrong.\r\n\r\nHere is my code (1st way)\r\n\r\n```\r\n\r\ncatalog.findVideoByID(brightCoveVideoId, new VideoListener() {\r\n\r\n     @Override\r\n\r\n     public void onVideo(Video video) {\r\n\r\n         String name = allRecordModel.getTitle();\r\n\r\n         video.getProperties().put(Video.Fields.NAME, name);\r\n\r\n         catalog.getMediaFormatTracksAvailable(video, (mediaDownloadable, bundle) -&gt; {\r\n\r\n             List&lt;MediaFormat&gt; list = bundle.getParcelableArrayList(MediaDownloadable.VIDEO_RENDITIONS);\r\n\r\n             if (list != null) {\r\n\r\n                 brightCoveQualityHolders.clear();\r\n\r\n                 int bitrate = 0;\r\n\r\n                 for (MediaFormat media : list) {\r\n\r\n                     brightCoveQualityHolders.add(new BrightCoveQualityHolder(media.width, media.height, media.bitrate));\r\n\r\n                     if (media.height == 360) {\r\n\r\n                         bitrate = media.bitrate;\r\n\r\n                     }\r\n\r\n                     String msg = &quot;width &quot; + media.width + &quot; height &quot; + media.height + &quot; bitrate &quot; + media.bitrate;\r\n\r\n                     Log.d(&quot;sumit&quot;,msg);\r\n\r\n                 }\r\n\r\n                 catalog.setVideoBitrate(bitrate);\r\n\r\n \r\n\r\n                 getVideo(video, new OfflineCallback&lt;&gt;() {\r\n\r\n                     @Override\r\n\r\n                     public void onSuccess(Video video1) {\r\n\r\n                         if (video1.isClearContent()) {\r\n\r\n                             videoListListener.downloadVideo(video1);\r\n\r\n                         }\r\n\r\n                     }\r\n\r\n \r\n\r\n                     @Override\r\n\r\n                     public void onFailure(Throwable throwable) {\r\n\r\n \r\n\r\n                     }\r\n\r\n                 });\r\n\r\n             }\r\n\r\n \r\n\r\n         });\r\n\r\n     }\r\n\r\n });\r\n```\r\n\r\n\r\nSecond way\r\n\r\n `\r\n\r\ncatalog.findVideoByID(brightCoveVideoId, new VideoListener() {\r\n\r\n     @Override\r\n\r\n     public void onVideo(Video video) {\r\n\r\nString name = allRecordModel.getTitle();\r\n\r\n         video.getProperties().put(Video.Fields.NAME, name);\r\n\r\n         progressDialog.show();\r\n\r\n         mediaDownloadable = MediaDownloadable.create(context, video, downloadEventListener, new RequestConfig().setNotificationVisibility(RequestConfig.VISIBILITY_HIDDEN));\r\n\r\n         mediaDownloadable.requestDownload();\r\n\r\n     }\r\n\r\n });\r\n\r\n`","title":"BrightCove video didn&#39;t download properly : Android","body":"<p>When i tried to download BrightCove video it download some time and some times it going to queuing state and doesn't and not recover from it what i have did it wrong.</p>\n<p>Here is my code (1st way)</p>\n<pre><code>\ncatalog.findVideoByID(brightCoveVideoId, new VideoListener() {\n\n     @Override\n\n     public void onVideo(Video video) {\n\n         String name = allRecordModel.getTitle();\n\n         video.getProperties().put(Video.Fields.NAME, name);\n\n         catalog.getMediaFormatTracksAvailable(video, (mediaDownloadable, bundle) -&gt; {\n\n             List&lt;MediaFormat&gt; list = bundle.getParcelableArrayList(MediaDownloadable.VIDEO_RENDITIONS);\n\n             if (list != null) {\n\n                 brightCoveQualityHolders.clear();\n\n                 int bitrate = 0;\n\n                 for (MediaFormat media : list) {\n\n                     brightCoveQualityHolders.add(new BrightCoveQualityHolder(media.width, media.height, media.bitrate));\n\n                     if (media.height == 360) {\n\n                         bitrate = media.bitrate;\n\n                     }\n\n                     String msg = &quot;width &quot; + media.width + &quot; height &quot; + media.height + &quot; bitrate &quot; + media.bitrate;\n\n                     Log.d(&quot;sumit&quot;,msg);\n\n                 }\n\n                 catalog.setVideoBitrate(bitrate);\n\n \n\n                 getVideo(video, new OfflineCallback&lt;&gt;() {\n\n                     @Override\n\n                     public void onSuccess(Video video1) {\n\n                         if (video1.isClearContent()) {\n\n                             videoListListener.downloadVideo(video1);\n\n                         }\n\n                     }\n\n \n\n                     @Override\n\n                     public void onFailure(Throwable throwable) {\n\n \n\n                     }\n\n                 });\n\n             }\n\n \n\n         });\n\n     }\n\n });\n</code></pre>\n<p>Second way</p>\n<p>`</p>\n<p>catalog.findVideoByID(brightCoveVideoId, new VideoListener() {</p>\n<pre><code> @Override\n\n public void onVideo(Video video) {\n</code></pre>\n<p>String name = allRecordModel.getTitle();</p>\n<pre><code>     video.getProperties().put(Video.Fields.NAME, name);\n\n     progressDialog.show();\n\n     mediaDownloadable = MediaDownloadable.create(context, video, downloadEventListener, new RequestConfig().setNotificationVisibility(RequestConfig.VISIBILITY_HIDDEN));\n\n     mediaDownloadable.requestDownload();\n\n }\n</code></pre>\n<p>});</p>\n<p>`</p>\n"},{"tags":["java","jackson"],"comments":[{"owner":{"account_id":24792239,"reputation":413,"user_id":18675173,"display_name":"lant"},"score":0,"creation_date":1687857960,"post_id":76563050,"comment_id":134991951,"body_markdown":"` jsonNode = jsonNode.get(&quot;service&quot;).get(&quot;env&quot;);\n            List&lt;Env&gt; envs = objectMapper.readValue(jsonNode.toString(), new TypeReference&lt;List&lt;Env&gt;&gt;() {\n            });`","body":"` jsonNode = jsonNode.get(&quot;service&quot;).get(&quot;env&quot;);             List&lt;Env&gt; envs = objectMapper.readValue(jsonNode.toString(), new TypeReference&lt;List&lt;Env&gt;&gt;() {             });`"}],"answers":[{"tags":[],"owner":{"account_id":16211352,"reputation":4324,"user_id":11713777,"display_name":"dariosicily"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1687862065,"creation_date":1687862065,"answer_id":76563984,"question_id":76563050,"body_markdown":"As suggested at the [jackson-databind](https://github.com/FasterXML/jackson-databind) github project page there is no need to create a new `TypeReference` for handling lists, you can directly use `List` inside the [`treeToValue`](https://fasterxml.github.io/jackson-databind/javadoc/2.14/com/fasterxml/jackson/databind/ObjectMapper.html#treeToValue-com.fasterxml.jackson.core.TreeNode-java.lang.Class-) method:\r\n\r\n~~~\r\nObjectMapper mapper = new ObjectMapper(new YAMLFactory());\r\nJsonNode env = mapper.readTree(yaml).at(&quot;/service/env&quot;);\r\nList&lt;Env&gt; list = mapper.treeToValue(env, List.class);\r\n//ok, it prints [{name=WAN_PORT, value=80}, {name=LAN_PORT, value=8080}, {name=SITE_URL, value=http://google.com}]\r\nSystem.out.println(list);\r\n~~~","title":"Java Jackson deserialize a special list","body":"<p>As suggested at the <a href=\"https://github.com/FasterXML/jackson-databind\" rel=\"nofollow noreferrer\">jackson-databind</a> github project page there is no need to create a new <code>TypeReference</code> for handling lists, you can directly use <code>List</code> inside the <a href=\"https://fasterxml.github.io/jackson-databind/javadoc/2.14/com/fasterxml/jackson/databind/ObjectMapper.html#treeToValue-com.fasterxml.jackson.core.TreeNode-java.lang.Class-\" rel=\"nofollow noreferrer\"><code>treeToValue</code></a> method:</p>\n<pre><code>ObjectMapper mapper = new ObjectMapper(new YAMLFactory());\nJsonNode env = mapper.readTree(yaml).at(&quot;/service/env&quot;);\nList&lt;Env&gt; list = mapper.treeToValue(env, List.class);\n//ok, it prints [{name=WAN_PORT, value=80}, {name=LAN_PORT, value=8080}, {name=SITE_URL, value=http://google.com}]\nSystem.out.println(list);\n</code></pre>\n"}],"owner":{"account_id":5269183,"reputation":95,"user_id":4208035,"accept_rate":67,"display_name":"werdf02"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76563984,"answer_count":1,"score":1,"last_activity_date":1687862065,"creation_date":1687854864,"question_id":76563050,"body_markdown":"I try to solve deserialization problem, but now I&#39;d like ask anyone to help me them. \r\n\r\nI&#39;ve a list from a classic Yaml:\r\n\r\n```yaml\r\nservice:  \r\n  env:\r\n    - name: WAN_PORT\r\n      value: &quot;80&quot;\r\n    - name: LAN_PORT\r\n      value: &quot;8080&quot;\r\n    - name: SITE_URL\r\n      value: &quot;http://google.com&quot;\r\n```\r\nI need those information for the following object:\r\n\r\n```java\r\npublic class Env {\r\n    private String name;\r\n    private String value;\r\n}\r\n```\r\n\r\nSo far I created a simple ObjectMapper and use &#39;readValue&#39; member of this object to process JsonNode. \r\n\r\n```java\r\nObjectMapper objectMapper = new ObjectMapper(new YAMLFactory());\r\njsonNode = jsonNode.get(&quot;service&quot;).get(&quot;env&quot;);\r\nTypeReference&lt;Map&lt;String,Env&gt;&gt; typeRef = new TypeReference&lt;&gt;() {};\r\nMap&lt;String,Env&gt; envMap = yamlFileMapper.getObjectMapper().readValue(jsonNode.toString(), typeRef);\r\n```\r\n\r\nI worked at past with Jackson and it&#39;s simpily worked as well with simple Object or List. Now I&#39;d collection all env-pair to object and storing into Collection, like:\r\n```java\r\nList&lt;Env&gt; listOfEnv = ....\r\n```\r\n\r\nThanks!","title":"Java Jackson deserialize a special list","body":"<p>I try to solve deserialization problem, but now I'd like ask anyone to help me them.</p>\n<p>I've a list from a classic Yaml:</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>service:  \n  env:\n    - name: WAN_PORT\n      value: &quot;80&quot;\n    - name: LAN_PORT\n      value: &quot;8080&quot;\n    - name: SITE_URL\n      value: &quot;http://google.com&quot;\n</code></pre>\n<p>I need those information for the following object:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Env {\n    private String name;\n    private String value;\n}\n</code></pre>\n<p>So far I created a simple ObjectMapper and use 'readValue' member of this object to process JsonNode.</p>\n<pre class=\"lang-java prettyprint-override\"><code>ObjectMapper objectMapper = new ObjectMapper(new YAMLFactory());\njsonNode = jsonNode.get(&quot;service&quot;).get(&quot;env&quot;);\nTypeReference&lt;Map&lt;String,Env&gt;&gt; typeRef = new TypeReference&lt;&gt;() {};\nMap&lt;String,Env&gt; envMap = yamlFileMapper.getObjectMapper().readValue(jsonNode.toString(), typeRef);\n</code></pre>\n<p>I worked at past with Jackson and it's simpily worked as well with simple Object or List. Now I'd collection all env-pair to object and storing into Collection, like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;Env&gt; listOfEnv = ....\n</code></pre>\n<p>Thanks!</p>\n"},{"tags":["java","android-studio"],"answers":[{"tags":[],"owner":{"account_id":14770332,"reputation":17,"user_id":10666999,"display_name":"Emmanuel Kipkosgei Mutai"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1619930526,"creation_date":1619930526,"answer_id":67353049,"question_id":67353041,"body_markdown":"Fixed by clean project then rebuild project \r\nThank all!","title":"Android studio keeps reverting code / deleting","body":"<p>Fixed by clean project then rebuild project\nThank all!</p>\n"},{"tags":[],"owner":{"account_id":16007704,"reputation":96,"user_id":11552810,"display_name":"Nicol&#242; Bozzato"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687861500,"creation_date":1687861500,"answer_id":76563917,"question_id":67353041,"body_markdown":"In my case, it keep deleting new code on a file as soon as I saved it. In my case, it was because I opened the same project in another instance of Android Studio with the same tab opened. I close one of the two and didn&#39;t give me the problem.","title":"Android studio keeps reverting code / deleting","body":"<p>In my case, it keep deleting new code on a file as soon as I saved it. In my case, it was because I opened the same project in another instance of Android Studio with the same tab opened. I close one of the two and didn't give me the problem.</p>\n"}],"owner":{"account_id":14770332,"reputation":17,"user_id":10666999,"display_name":"Emmanuel Kipkosgei Mutai"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":149,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1687861500,"creation_date":1619930417,"question_id":67353041,"body_markdown":"After adding new line of code and clicking run app all the new code is deleted for some reason and only the old code remains\r\nI don&#39;t know what is causing the automatically revert or deletions please help ","title":"Android studio keeps reverting code / deleting","body":"<p>After adding new line of code and clicking run app all the new code is deleted for some reason and only the old code remains\nI don't know what is causing the automatically revert or deletions please help</p>\n"},{"tags":["java","android","arraylist"],"owner":{"account_id":28593733,"reputation":1,"user_id":21892382,"display_name":"Sanglap Karmakar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687861431,"creation_date":1687860417,"question_id":76563781,"body_markdown":"I have created a SMS receiver app on android studio but when I click the notification all the previous messages are disappeared. I have used shared preferences for storing the messages in mobile.\r\n\r\n\r\nNotification Manager\r\n```\r\npublic static void showNotification(Context context, String contact, String message) {\r\n        createNotificationChannel(context);\r\n        Intent intent = new Intent(context, MsgActivity.class);\r\n        PendingIntent pendingIntent = PendingIntent.getActivity(context, 0, intent, PendingIntent.FLAG_ONE_SHOT | PendingIntent.FLAG_CANCEL_CURRENT | PendingIntent.FLAG_IMMUTABLE);\r\n        NotificationCompat.Builder builder = new NotificationCompat.Builder(context, CHANNEL_ID)\r\n                .setSmallIcon(R.drawable.person)\r\n                .setContentTitle(contact)\r\n                .setContentText(message)\r\n                .setContentIntent(pendingIntent)\r\n                .setPriority(NotificationCompat.PRIORITY_HIGH)\r\n                .setAutoCancel(true);\r\n\r\n        NotificationManagerCompat notificationManager = NotificationManagerCompat.from(context);\r\n        notificationManager.notify(NOTIFICATION_ID, builder.build());\r\n```\r\nOn message activity:\r\n```\r\nprotected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.msg_activity);\r\n        Intent intent = getIntent();\r\n        contact = intent.getStringExtra(&quot;MOBILE_NUM&quot;);\r\n        MainActivity.loadArray(this, MainActivity.contactAndMsgList,&quot;msg_size&quot;, &quot;msg_&quot;);\r\n        for (int i = (MainActivity.contactAndMsgList.indexOf(contact) + 1); i &lt; MainActivity.contactAndMsgList.size(); i++) {\r\n            if (MainActivity.contactList.contains(MainActivity.contactAndMsgList.get(i))) {\r\n                break;\r\n            }\r\n            messages.add(MainActivity.contactAndMsgList.get(i));\r\n        }\r\n        recyclerView2 = findViewById(R.id.recyclerView2);\r\n        recyclerView2.setLayoutManager(new LinearLayoutManager(this));\r\n        RecyclerViewAdapterMsg msgAdaptor = new RecyclerViewAdapterMsg(messages);\r\n        recyclerView2.setAdapter(msgAdaptor);\r\n    }\r\n```\r\nI have called the showNotification in SMS receiver class after receiving the message and phone number.\r\n\r\n`NotificationUtils.showNotification(context, phoneNo.toString(), msg.toString());`","title":"Messages disappearing on clicking notifications","body":"<p>I have created a SMS receiver app on android studio but when I click the notification all the previous messages are disappeared. I have used shared preferences for storing the messages in mobile.</p>\n<p>Notification Manager</p>\n<pre><code>public static void showNotification(Context context, String contact, String message) {\n        createNotificationChannel(context);\n        Intent intent = new Intent(context, MsgActivity.class);\n        PendingIntent pendingIntent = PendingIntent.getActivity(context, 0, intent, PendingIntent.FLAG_ONE_SHOT | PendingIntent.FLAG_CANCEL_CURRENT | PendingIntent.FLAG_IMMUTABLE);\n        NotificationCompat.Builder builder = new NotificationCompat.Builder(context, CHANNEL_ID)\n                .setSmallIcon(R.drawable.person)\n                .setContentTitle(contact)\n                .setContentText(message)\n                .setContentIntent(pendingIntent)\n                .setPriority(NotificationCompat.PRIORITY_HIGH)\n                .setAutoCancel(true);\n\n        NotificationManagerCompat notificationManager = NotificationManagerCompat.from(context);\n        notificationManager.notify(NOTIFICATION_ID, builder.build());\n</code></pre>\n<p>On message activity:</p>\n<pre><code>protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.msg_activity);\n        Intent intent = getIntent();\n        contact = intent.getStringExtra(&quot;MOBILE_NUM&quot;);\n        MainActivity.loadArray(this, MainActivity.contactAndMsgList,&quot;msg_size&quot;, &quot;msg_&quot;);\n        for (int i = (MainActivity.contactAndMsgList.indexOf(contact) + 1); i &lt; MainActivity.contactAndMsgList.size(); i++) {\n            if (MainActivity.contactList.contains(MainActivity.contactAndMsgList.get(i))) {\n                break;\n            }\n            messages.add(MainActivity.contactAndMsgList.get(i));\n        }\n        recyclerView2 = findViewById(R.id.recyclerView2);\n        recyclerView2.setLayoutManager(new LinearLayoutManager(this));\n        RecyclerViewAdapterMsg msgAdaptor = new RecyclerViewAdapterMsg(messages);\n        recyclerView2.setAdapter(msgAdaptor);\n    }\n</code></pre>\n<p>I have called the showNotification in SMS receiver class after receiving the message and phone number.</p>\n<p><code>NotificationUtils.showNotification(context, phoneNo.toString(), msg.toString());</code></p>\n"},{"tags":["java","unit-testing","groovy","mocking"],"comments":[{"owner":{"account_id":51881,"reputation":38016,"user_id":155020,"accept_rate":80,"display_name":"chubbsondubs"},"score":0,"creation_date":1687876910,"post_id":76559523,"comment_id":134996537,"body_markdown":"The calls to `list.add` should use &#39;(&#39; and &#39;)&#39; not braces (ie &#39;{&#39; and &#39;}&#39;). There&#39;s no way that code works as you expect with those curly braces.","body":"The calls to <code>list.add</code> should use &#39;(&#39; and &#39;)&#39; not braces (ie &#39;{&#39; and &#39;}&#39;). There&#39;s no way that code works as you expect with those curly braces."},{"owner":{"account_id":51881,"reputation":38016,"user_id":155020,"accept_rate":80,"display_name":"chubbsondubs"},"score":0,"creation_date":1687877075,"post_id":76559523,"comment_id":134996581,"body_markdown":"The ordering of the list will always be honored from the looks of the code you posted.  The list will always be `[&quot;a&quot;, &quot;b&quot;,&quot;c&quot;]`.  So if it&#39;s failing it&#39;s not because the order is changing.  You&#39;ll need to be more specific as to why you think the order has any bearing on the failure.  Mocked methods don&#39;t interpret arguments beyond simple comparison.  Depending on how you mocked your method that might have an impact, but failure would be constant.  It wouldn&#39;t be intermittent.","body":"The ordering of the list will always be honored from the looks of the code you posted.  The list will always be <code>[&quot;a&quot;, &quot;b&quot;,&quot;c&quot;]</code>.  So if it&#39;s failing it&#39;s not because the order is changing.  You&#39;ll need to be more specific as to why you think the order has any bearing on the failure.  Mocked methods don&#39;t interpret arguments beyond simple comparison.  Depending on how you mocked your method that might have an impact, but failure would be constant.  It wouldn&#39;t be intermittent."}],"answers":[{"tags":[],"owner":{"account_id":14004824,"reputation":196,"user_id":10115296,"display_name":"pro_gamer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687861393,"creation_date":1687861393,"answer_id":76563902,"question_id":76559523,"body_markdown":"The argThat closure can be used to define a custom argument matcher that ignores the order of elements in the list. \r\n\r\nEg:\r\n \r\n\r\n    when:\r\n            def result = mockClass.foo(argThat { it.sort() == [&quot;a&quot;, &quot;b&quot;, &quot;c&quot;].sort() })\r\n\r\n    \r\n\r\n    then:\r\n       //somecode\r\n\r\n    where:\r\n        argThat = { Closure&lt;Boolean&gt; closure -&gt;\r\n            { closure(it) } as org.hamcrest.Matcher\r\n        }","title":"Groovy mock method in unit test ignoring the order of elements in a List","body":"<p>The argThat closure can be used to define a custom argument matcher that ignores the order of elements in the list.</p>\n<p>Eg:</p>\n<pre><code>when:\n        def result = mockClass.foo(argThat { it.sort() == [&quot;a&quot;, &quot;b&quot;, &quot;c&quot;].sort() })\n\n\n\nthen:\n   //somecode\n\nwhere:\n    argThat = { Closure&lt;Boolean&gt; closure -&gt;\n        { closure(it) } as org.hamcrest.Matcher\n    }\n</code></pre>\n"}],"owner":{"account_id":14004824,"reputation":196,"user_id":10115296,"display_name":"pro_gamer"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":61,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1687861393,"creation_date":1687806037,"question_id":76559523,"body_markdown":"I want to set expectation for a mocked class method in my unit test. The method I want to mock takes a List of elements as input params. How do I set expectations so that the order of elements in the list is ignored while calling the mock?\r\n\r\nFor eg:\r\n\r\nmockClass method signature\r\n```\r\nString foo(List&lt;String&gt; list)\r\n```\r\nI am setting expectation this way currently\r\n```\r\nList&lt;String&gt; list = new ArrayList&lt;&gt;();\r\nlist.add{&quot;a&quot;}\r\nlist.add{&quot;b&quot;}\r\nlist.add{&quot;c&quot;}\r\nand:\r\n    mockClass.foo(list) &gt;&gt; &quot;test&quot;\r\n```\r\n\r\nThis test is failing intermittently because the order of elements in the list differs in when the method is called during testing.","title":"Groovy mock method in unit test ignoring the order of elements in a List","body":"<p>I want to set expectation for a mocked class method in my unit test. The method I want to mock takes a List of elements as input params. How do I set expectations so that the order of elements in the list is ignored while calling the mock?</p>\n<p>For eg:</p>\n<p>mockClass method signature</p>\n<pre><code>String foo(List&lt;String&gt; list)\n</code></pre>\n<p>I am setting expectation this way currently</p>\n<pre><code>List&lt;String&gt; list = new ArrayList&lt;&gt;();\nlist.add{&quot;a&quot;}\nlist.add{&quot;b&quot;}\nlist.add{&quot;c&quot;}\nand:\n    mockClass.foo(list) &gt;&gt; &quot;test&quot;\n</code></pre>\n<p>This test is failing intermittently because the order of elements in the list differs in when the method is called during testing.</p>\n"},{"tags":["java","arrays","bytebuffer","bytearrayinputstream"],"comments":[{"owner":{"account_id":917815,"reputation":1695,"user_id":950218,"accept_rate":72,"display_name":"Sam Palmer"},"score":0,"creation_date":1340792244,"post_id":11223868,"comment_id":14740916,"body_markdown":"For file reading in bytes I use RandomAccessFile and transfer the whole file bytes into a byte array first. I found this to be an extremely fast way for reading files in bytes.","body":"For file reading in bytes I use RandomAccessFile and transfer the whole file bytes into a byte array first. I found this to be an extremely fast way for reading files in bytes."},{"owner":{"account_id":23121,"reputation":527346,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":3,"creation_date":1340792262,"post_id":11223868,"comment_id":14740925,"body_markdown":"Why would you ever need to do this? You can do this by copying the a FileInputStream to a ByteArrayOutputStream and then creating a ByteArrayInputStream from that.  Its rather pointless of course.","body":"Why would you ever need to do this? You can do this by copying the a FileInputStream to a ByteArrayOutputStream and then creating a ByteArrayInputStream from that.  Its rather pointless of course."},{"owner":{"account_id":170362,"reputation":8745,"user_id":397016,"display_name":"John Watts"},"score":0,"creation_date":1340792415,"post_id":11223868,"comment_id":14740991,"body_markdown":"Please explai your use case. You probably just want a FileInputStream. How do you plan to use it once you have it?","body":"Please explai your use case. You probably just want a FileInputStream. How do you plan to use it once you have it?"},{"owner":{"account_id":917815,"reputation":1695,"user_id":950218,"accept_rate":72,"display_name":"Sam Palmer"},"score":0,"creation_date":1340792573,"post_id":11223868,"comment_id":14741049,"body_markdown":"It is slightly unnecessary I admit, but I found it was one of the fastest way for reading files, if speed is your thing. Then again I know just use C...","body":"It is slightly unnecessary I admit, but I found it was one of the fastest way for reading files, if speed is your thing. Then again I know just use C..."},{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1340793217,"post_id":11223868,"comment_id":14741301,"body_markdown":"This seems likely to be _strictly_ slower than reading from a `FileInputStream`, no?","body":"This seems likely to be <i>strictly</i> slower than reading from a <code>FileInputStream</code>, no?"},{"owner":{"account_id":1099760,"reputation":7046,"user_id":1092450,"accept_rate":74,"display_name":"itro"},"score":0,"creation_date":1340797982,"post_id":11223868,"comment_id":14743553,"body_markdown":"Sam Palmer, Please provide an example.","body":"Sam Palmer, Please provide an example."},{"owner":{"account_id":288696,"reputation":91230,"user_id":589259,"accept_rate":82,"display_name":"Maarten Bodewes"},"score":0,"creation_date":1341186111,"post_id":11223868,"comment_id":14846117,"body_markdown":"@LouisWasserman I would think so because you are basically waiting for the file to be in memory before transferring it. Besides that (and, in my opinion, more importantly) it will claim memory without there being any need for it.","body":"@LouisWasserman I would think so because you are basically waiting for the file to be in memory before transferring it. Besides that (and, in my opinion, more importantly) it will claim memory without there being any need for it."}],"answers":[{"tags":[],"owner":{"account_id":1418971,"reputation":15473,"user_id":1344008,"display_name":"npe"},"down_vote_count":2,"up_vote_count":60,"is_accepted":true,"score":58,"last_activity_date":1567339310,"creation_date":1340792287,"answer_id":11223955,"question_id":11223868,"body_markdown":"Use the [`FileUtils#readFileToByteArray(File)`][1] from [Apache Commons IO][3], and then create the `ByteArrayInputStream` using the [`ByteArrayInputStream(byte[])`][2] constructor.\r\n\r\n\r\n    public static ByteArrayInputStream retrieveByteArrayInputStream(File file) {\r\n        return new ByteArrayInputStream(FileUtils.readFileToByteArray(file));\r\n    }\r\n\r\n\r\n[1]: http://commons.apache.org/io/api-release/org/apache/commons/io/FileUtils.html#readFileToByteArray%28java.io.File%29\r\n\r\n[2]: http://docs.oracle.com/javase/1.4.2/docs/api/java/io/ByteArrayInputStream.html#ByteArrayInputStream%28byte[]%29\r\n\r\n[3]: http://commons.apache.org/io","title":"How to create ByteArrayInputStream from a file in Java?","body":"<p>Use the <a href=\"http://commons.apache.org/io/api-release/org/apache/commons/io/FileUtils.html#readFileToByteArray%28java.io.File%29\" rel=\"noreferrer\"><code>FileUtils#readFileToByteArray(File)</code></a> from <a href=\"http://commons.apache.org/io\" rel=\"noreferrer\">Apache Commons IO</a>, and then create the <code>ByteArrayInputStream</code> using the <a href=\"http://docs.oracle.com/javase/1.4.2/docs/api/java/io/ByteArrayInputStream.html#ByteArrayInputStream%28byte[]%29\" rel=\"noreferrer\"><code>ByteArrayInputStream(byte[])</code></a> constructor.</p>\n\n<pre><code>public static ByteArrayInputStream retrieveByteArrayInputStream(File file) {\n    return new ByteArrayInputStream(FileUtils.readFileToByteArray(file));\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":288696,"reputation":91230,"user_id":589259,"accept_rate":82,"display_name":"Maarten Bodewes"},"down_vote_count":0,"up_vote_count":27,"is_accepted":false,"score":27,"last_activity_date":1687860918,"creation_date":1340792396,"answer_id":11223996,"question_id":11223868,"body_markdown":"The general idea is that a File would yield a `FileInputStream` and a `byte[]` a `ByteArrayInputStream`. Both implement `InputStream` so they should be compatible with any method that uses `InputStream` as a parameter.\r\n\r\nMethods should generally accept `InputStream` rather than any implementing classes such as `ByteArrayInputStream` for reading bytes otherwise the whole generalization / raison d&#39;&#234;tre of byte streams is lost.\r\n\r\n---\r\n\r\nPutting all of the file contents in a `ByteArrayInputStream` can be done of course:\r\n\r\n 1. read in the full file into a `byte[]`; Java version &gt;= 7 contains a [convenience method called `readAllBytes`](http://docs.oracle.com/javase/7/docs/api/java/nio/file/Files.html#readAllBytes%28java.nio.file.Path%29) to read all data from a file;\r\n 2. create a `ByteArrayInputStream` around the file content, which is now in memory.\r\n\r\nNote that this may not be optimal solution for very large files - all the file will stored in memory at the same point in time. Using the right stream for the job is important.\r\n","title":"How to create ByteArrayInputStream from a file in Java?","body":"<p>The general idea is that a File would yield a <code>FileInputStream</code> and a <code>byte[]</code> a <code>ByteArrayInputStream</code>. Both implement <code>InputStream</code> so they should be compatible with any method that uses <code>InputStream</code> as a parameter.</p>\n<p>Methods should generally accept <code>InputStream</code> rather than any implementing classes such as <code>ByteArrayInputStream</code> for reading bytes otherwise the whole generalization / raison d'être of byte streams is lost.</p>\n<hr />\n<p>Putting all of the file contents in a <code>ByteArrayInputStream</code> can be done of course:</p>\n<ol>\n<li>read in the full file into a <code>byte[]</code>; Java version &gt;= 7 contains a <a href=\"http://docs.oracle.com/javase/7/docs/api/java/nio/file/Files.html#readAllBytes%28java.nio.file.Path%29\" rel=\"nofollow noreferrer\">convenience method called <code>readAllBytes</code></a> to read all data from a file;</li>\n<li>create a <code>ByteArrayInputStream</code> around the file content, which is now in memory.</li>\n</ol>\n<p>Note that this may not be optimal solution for very large files - all the file will stored in memory at the same point in time. Using the right stream for the job is important.</p>\n"},{"tags":[],"owner":{"account_id":917815,"reputation":1695,"user_id":950218,"accept_rate":72,"display_name":"Sam Palmer"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1447667871,"creation_date":1340792465,"answer_id":11224019,"question_id":11223868,"body_markdown":"This isn&#39;t exactly what you are asking, but is a fast way of reading files in bytes. \r\n\r\n    File file = new File(yourFileName);\r\n    RandomAccessFile ra = new RandomAccessFile(yourFileName, &quot;rw&quot;):\r\n    byte[] b = new byte[(int)file.length()];\r\n    try {\r\n        ra.read(b);\r\n    } catch(Exception e) {\r\n        e.printStackTrace();\r\n    }\r\n    \r\n    //Then iterate through b","title":"How to create ByteArrayInputStream from a file in Java?","body":"<p>This isn't exactly what you are asking, but is a fast way of reading files in bytes. </p>\n\n<pre><code>File file = new File(yourFileName);\nRandomAccessFile ra = new RandomAccessFile(yourFileName, \"rw\"):\nbyte[] b = new byte[(int)file.length()];\ntry {\n    ra.read(b);\n} catch(Exception e) {\n    e.printStackTrace();\n}\n\n//Then iterate through b\n</code></pre>\n"},{"tags":[],"owner":{"account_id":198697,"reputation":18245,"user_id":443515,"accept_rate":56,"display_name":"Qwerky"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1340797490,"creation_date":1340792497,"answer_id":11224030,"question_id":11223868,"body_markdown":"A `ByteArrayInputStream` is an `InputStream` wrapper around a byte array. This means you&#39;ll have to fully read the file into a `byte[]`, and then use one of the `ByteArrayInputStream` constructors.\r\n\r\nCan you give any more details of what you are doing with the `ByteArrayInputStream`? Its likely there are better ways around what you are trying to achieve.\r\n\r\n**Edit:**  \r\nIf you are using Apache FTPClient to upload, you just need an `InputStream`. You can do this;\r\n\r\n    String remote = &quot;whatever&quot;;\r\n    InputStream is = new FileInputStream(new File(&quot;your file&quot;));\r\n    ftpClient.storeFile(remote, is);\r\n\r\nYou should of course remember to close the input stream once you have finished with it.","title":"How to create ByteArrayInputStream from a file in Java?","body":"<p>A <code>ByteArrayInputStream</code> is an <code>InputStream</code> wrapper around a byte array. This means you'll have to fully read the file into a <code>byte[]</code>, and then use one of the <code>ByteArrayInputStream</code> constructors.</p>\n\n<p>Can you give any more details of what you are doing with the <code>ByteArrayInputStream</code>? Its likely there are better ways around what you are trying to achieve.</p>\n\n<p><strong>Edit:</strong><br>\nIf you are using Apache FTPClient to upload, you just need an <code>InputStream</code>. You can do this;</p>\n\n<pre><code>String remote = \"whatever\";\nInputStream is = new FileInputStream(new File(\"your file\"));\nftpClient.storeFile(remote, is);\n</code></pre>\n\n<p>You should of course remember to close the input stream once you have finished with it.</p>\n"},{"tags":[],"owner":{"account_id":6006557,"reputation":2094,"user_id":4718314,"accept_rate":77,"display_name":"Buddy"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1441077401,"creation_date":1441073682,"answer_id":32322533,"question_id":11223868,"body_markdown":"This piece of code comes handy:\r\n\r\n    private static byte[] readContentIntoByteArray(File file)\r\n    {\r\n      FileInputStream fileInputStream = null;\r\n      byte[] bFile = new byte[(int) file.length()];\r\n      try\r\n      {\r\n         //convert file into array of bytes\r\n         fileInputStream = new FileInputStream(file);\r\n         fileInputStream.read(bFile);\r\n         fileInputStream.close();\r\n      }\r\n      catch (Exception e)\r\n      {\r\n         e.printStackTrace();\r\n      }\r\n      return bFile;\r\n    }\r\n\r\nReference: http://howtodoinjava.com/2014/11/04/how-to-read-file-content-into-byte-array-in-java/","title":"How to create ByteArrayInputStream from a file in Java?","body":"<p>This piece of code comes handy:</p>\n\n<pre><code>private static byte[] readContentIntoByteArray(File file)\n{\n  FileInputStream fileInputStream = null;\n  byte[] bFile = new byte[(int) file.length()];\n  try\n  {\n     //convert file into array of bytes\n     fileInputStream = new FileInputStream(file);\n     fileInputStream.read(bFile);\n     fileInputStream.close();\n  }\n  catch (Exception e)\n  {\n     e.printStackTrace();\n  }\n  return bFile;\n}\n</code></pre>\n\n<p>Reference: <a href=\"http://howtodoinjava.com/2014/11/04/how-to-read-file-content-into-byte-array-in-java/\" rel=\"nofollow\">http://howtodoinjava.com/2014/11/04/how-to-read-file-content-into-byte-array-in-java/</a></p>\n"}],"owner":{"account_id":1099760,"reputation":7046,"user_id":1092450,"accept_rate":74,"display_name":"itro"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":118871,"favorite_count":0,"down_vote_count":0,"up_vote_count":33,"accepted_answer_id":11223955,"answer_count":5,"score":33,"last_activity_date":1687860918,"creation_date":1340791976,"question_id":11223868,"body_markdown":"I have a file that can be any thing like ZIP, RAR, txt, CSV, doc etc. I would like to create a *ByteArrayInputStream* from it.  \r\nI&#39;m using it to upload a file to FTP through *FTPClient* from Apache Commons Net.\r\n\r\n**Does anybody know how to do it?**\r\n\r\nFor example:\r\n\r\n    String data = &quot;hdfhdfhdfhd&quot;;\r\n    ByteArrayInputStream in = new ByteArrayInputStream(data.getBytes());\r\n\r\n\r\nMy code:\r\n\r\n    public static ByteArrayInputStream retrieveByteArrayInputStream(File file) {\r\n        ByteArrayInputStream in;\r\n\r\n        return in;     \r\n    }","title":"How to create ByteArrayInputStream from a file in Java?","body":"<p>I have a file that can be any thing like ZIP, RAR, txt, CSV, doc etc. I would like to create a <em>ByteArrayInputStream</em> from it.<br>\nI'm using it to upload a file to FTP through <em>FTPClient</em> from Apache Commons Net.</p>\n\n<p><strong>Does anybody know how to do it?</strong></p>\n\n<p>For example:</p>\n\n<pre><code>String data = \"hdfhdfhdfhd\";\nByteArrayInputStream in = new ByteArrayInputStream(data.getBytes());\n</code></pre>\n\n<p>My code:</p>\n\n<pre><code>public static ByteArrayInputStream retrieveByteArrayInputStream(File file) {\n    ByteArrayInputStream in;\n\n    return in;     \n}\n</code></pre>\n"},{"tags":["java","graphics"],"comments":[{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":2,"creation_date":1687861227,"post_id":76563841,"comment_id":134992659,"body_markdown":"Out of curiosity, how high is the resolution for *this* to be the bottleneck?","body":"Out of curiosity, how high is the resolution for <i>this</i> to be the bottleneck?"},{"owner":{"account_id":22394789,"reputation":1382,"user_id":16606223,"display_name":"Yahor Barkouski"},"score":1,"creation_date":1687862138,"post_id":76563841,"comment_id":134992827,"body_markdown":"The best way to know which method is faster is by benchmarking, just try it out","body":"The best way to know which method is faster is by benchmarking, just try it out"},{"owner":{"account_id":401843,"reputation":89768,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1687867723,"post_id":76563841,"comment_id":134994045,"body_markdown":"Pietro, this is an extraordinary claim, that this is the bottleneck. You should expand the question: How big are the row and column sizes likely to be? How have you determined that this is the bottleneck?","body":"Pietro, this is an extraordinary claim, that this is the bottleneck. You should expand the question: How big are the row and column sizes likely to be? How have you determined that this is the bottleneck?"},{"owner":{"account_id":28903887,"reputation":1,"user_id":22138243,"display_name":"Pietro Cavicchioli"},"score":0,"creation_date":1690564366,"post_id":76563841,"comment_id":135376348,"body_markdown":"I solved the problem, the problem wasn&#39;t the char matrix, it was the fact that once the matrix was filled I was converting the matrix to a String without using the StringBuilder, so the bottleneck wasn&#39;t actually there. Thank you anyway!","body":"I solved the problem, the problem wasn&#39;t the char matrix, it was the fact that once the matrix was filled I was converting the matrix to a String without using the StringBuilder, so the bottleneck wasn&#39;t actually there. Thank you anyway!"}],"owner":{"account_id":28903887,"reputation":1,"user_id":22138243,"display_name":"Pietro Cavicchioli"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687860856,"creation_date":1687860856,"question_id":76563841,"body_markdown":"I&#39;m working on a console ascii renderer, it&#39;s my first project, currently it&#39;s a 2D only renderer.\r\n\r\nThe slowest part, which I would like to optimize is filling the matrix of chars which I use as a Canvas.\r\n\r\nI&#39;m using the usual setup:\r\n\r\n```\r\nfor(int i=0;i&lt;array.length;i++)\r\n for(int c=0;c&lt;array[0].length;c++)\r\n   array[i][c]=&#39; &#39;;\r\n```\r\n\r\nIt&#39;s pretty slow, especially fir higher resolutions.\r\n\r\nAre there any faster way? Because I saw another question that suggest that the fill(c,x) function in the Array library does the same thing.\r\n\r\nMaybe cloning a prefilled array is faster?\r\n\r\nAny suggestions?\r\n\r\nTLDR:\r\nI used two innested for loops, and I read another thread about the fill(c,x) function on this site which suggests the code does the same thing. Anything faster?","title":"Is cloning faster than filling, Java?","body":"<p>I'm working on a console ascii renderer, it's my first project, currently it's a 2D only renderer.</p>\n<p>The slowest part, which I would like to optimize is filling the matrix of chars which I use as a Canvas.</p>\n<p>I'm using the usual setup:</p>\n<pre><code>for(int i=0;i&lt;array.length;i++)\n for(int c=0;c&lt;array[0].length;c++)\n   array[i][c]=' ';\n</code></pre>\n<p>It's pretty slow, especially fir higher resolutions.</p>\n<p>Are there any faster way? Because I saw another question that suggest that the fill(c,x) function in the Array library does the same thing.</p>\n<p>Maybe cloning a prefilled array is faster?</p>\n<p>Any suggestions?</p>\n<p>TLDR:\nI used two innested for loops, and I read another thread about the fill(c,x) function on this site which suggests the code does the same thing. Anything faster?</p>\n"},{"tags":["java","spring-boot","rabbitmq","message-queue"],"comments":[{"owner":{"account_id":13038047,"reputation":476,"user_id":9422268,"display_name":"Joonseo Lee"},"score":0,"creation_date":1676270189,"post_id":75431314,"comment_id":133096157,"body_markdown":"did you add some logs every line in receiveMessage function?","body":"did you add some logs every line in receiveMessage function?"},{"owner":{"account_id":26277688,"reputation":11,"user_id":19946581,"display_name":"임지환"},"score":0,"creation_date":1676270997,"post_id":75431314,"comment_id":133096296,"body_markdown":"no not every line, I received the callback message and put logs at the beginning and end of the message processing part.                                     \n    log.info(&quot;[{}] Get Asset Created Callback Message. - start {}&quot;, traceId, message);                                                                                                       \n    log.info(&quot;[{}] Get Asset Created Callback Message. - finish {}&quot;, traceId, message);","body":"no not every line, I received the callback message and put logs at the beginning and end of the message processing part.                                          log.info(&quot;[{}] Get Asset Created Callback Message. - start {}&quot;, traceId, message);                                                                                                            log.info(&quot;[{}] Get Asset Created Callback Message. - finish {}&quot;, traceId, message);"},{"owner":{"account_id":26277688,"reputation":11,"user_id":19946581,"display_name":"임지환"},"score":0,"creation_date":1676271575,"post_id":75431314,"comment_id":133096395,"body_markdown":"When I do the jmeter load test, it takes a very long time to consume the message.","body":"When I do the jmeter load test, it takes a very long time to consume the message."},{"owner":{"account_id":26277688,"reputation":11,"user_id":19946581,"display_name":"임지환"},"score":0,"creation_date":1676342241,"post_id":75431314,"comment_id":133113853,"body_markdown":"Looking at the message rate graph, the publish speed is fast, but the consumer ack speed does not exceed 7/s. If anyone knows, please help.","body":"Looking at the message rate graph, the publish speed is fast, but the consumer ack speed does not exceed 7/s. If anyone knows, please help."},{"owner":{"account_id":4783629,"reputation":2581,"user_id":3864737,"accept_rate":75,"display_name":"Olivier"},"score":0,"creation_date":1676374510,"post_id":75431314,"comment_id":133120180,"body_markdown":"From the screen capture, it seems you have multiple consumers, but have set the prefetch count to 100.\nThis would typically translate to a single consumer processing large batches of messages (would receive up to a 100 messages in one go), while the other have nothing to do.\nSo if higher consumption is intended to occur through multiple consumers working in parallel, consider reducing the prefetch.","body":"From the screen capture, it seems you have multiple consumers, but have set the prefetch count to 100. This would typically translate to a single consumer processing large batches of messages (would receive up to a 100 messages in one go), while the other have nothing to do. So if higher consumption is intended to occur through multiple consumers working in parallel, consider reducing the prefetch."},{"owner":{"account_id":26277688,"reputation":11,"user_id":19946581,"display_name":"임지환"},"score":0,"creation_date":1676424411,"post_id":75431314,"comment_id":133133206,"body_markdown":"Thank you for posting your reply. But changing preFetchCount doesn&#39;t solve it. After all, message processing speed is similar under the same load. Between about 6 and 10 tps.","body":"Thank you for posting your reply. But changing preFetchCount doesn&#39;t solve it. After all, message processing speed is similar under the same load. Between about 6 and 10 tps."}],"owner":{"account_id":26277688,"reputation":11,"user_id":19946581,"display_name":"임지환"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":832,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687860770,"creation_date":1676252982,"question_id":75431314,"body_markdown":"Currently I am making logic to consume Message using Rabbitmq. However, contrary to expectations, it takes too long to consume the message.\r\n\r\nIf you look at the Queued messages graph in the picture above, you can see Unacked and Ready stacking up.\r\nLooking at the message rates below, the publish speed is fast, but the consumer ack speed is too slow.\r\n\r\nI&#39;m not sure if the Rabbitmq Configuration I&#39;ve developed is wrong or if I forgot to set the listener configuration.\r\nThe rabbitmq message I receive is a callback message.\r\n\r\nAny help would be greatly appreciated.[![enter image description here](https://i.stack.imgur.com/uvJjm.png)](https://i.stack.imgur.com/uvJjm.png)\r\n\r\n\r\n\r\n[![enter image description here](https://i.stack.imgur.com/VmrW5.png)](https://i.stack.imgur.com/VmrW5.png)\r\n**This is Rabbitmq configuration and RabbitListener configuration**\r\n\r\n\r\n```\r\n@Configuration\r\n@Profile({ProfileConfig.RABBITMQ})\r\npublic class RabbitmqConfig {\r\n\r\n  @Value(&quot;${rabbitmq.queue.name}&quot;)\r\n  private String queueName;\r\n\r\n  @Value(&quot;${rabbitmq.exchange.name}&quot;)\r\n  private String exchangeName;\r\n\r\n  @Value(&quot;${rabbitmq.routing.key.callback}&quot;)\r\n  private String routingKey;\r\n\r\n  @Value(&quot;${rabbitmq.fetch-count}&quot;)\r\n  private Integer fetchCount;\r\n\r\n  @Bean\r\n  Queue queue() {\r\n    return new Queue(queueName, true);\r\n  }\r\n\r\n  @Bean\r\n  DirectExchange directExchange() {\r\n    return new DirectExchange(exchangeName);\r\n  }\r\n\r\n  @Bean\r\n  Binding binding(DirectExchange directExchange, Queue queue) {\r\n    return BindingBuilder.bind(queue).to(directExchange).with(routingKey);\r\n  }\r\n\r\n  @Bean\r\n  public RabbitListenerContainerFactory&lt;SimpleMessageListenerContainer&gt; prefetchOneContainerFactory(\r\n      SimpleRabbitListenerContainerFactoryConfigurer configurer, ConnectionFactory factory)\r\n  {\r\n    SimpleRabbitListenerContainerFactory simpleFactory = new SimpleRabbitListenerContainerFactory();\r\n    configurer.configure(simpleFactory, factory);\r\n    simpleFactory.setPrefetchCount(fetchCount);\r\n\r\n    return simpleFactory;\r\n  }\r\n\r\n}\r\n\r\n\r\n@RabbitListener(queues = {&quot;${rabbitmq.queue.name}&quot;}, concurrency = &quot;3&quot;, containerFactory = &quot;prefetchOneContainerFactory&quot;)\r\n  public void receiveMessage(final String message, Channel channel, @Header(AmqpHeaders.DELIVERY_TAG) long tag) {\r\n    try {\r\n      JSONParser parser = new JSONParser();\r\n      JSONObject json = (JSONObject) parser.parse(message);\r\n      String messageType = json.get(&quot;messageType&quot;).toString();\r\n      log.debug(&quot;Receive Queue  Key={}, Message = {}&quot;, messageType, message);\r\n      AsyncType asyncType = AsyncType.valueOf(messageType);\r\n      executeMessage(asyncType, message);\r\n    } catch (Exception e) {\r\n      traceService.removeTraceId();\r\n      traceService.printErrorLog(log, &quot;Fail to deal receive message.&quot;, e, PrintStackPolicy.ALL);\r\n    } finally {\r\n        try {\r\n          channel.basicAck(tag, false);\r\n        }\r\n        catch (IOException e) {\r\n          traceService.printErrorLog(log, &quot;Fail to send ack to RabbitMQ&quot;, e, PrintStackPolicy.ALL);\r\n        }\r\n    }\r\n  }\r\n```\r\n\r\n\r\n\r\nThe goal is to consume messages to Rabbitmq faster.\r\n\r\nHowever, the current consumption speed is too slow.\r\n","title":"why rabbitmq message consumption is so slow","body":"<p>Currently I am making logic to consume Message using Rabbitmq. However, contrary to expectations, it takes too long to consume the message.</p>\n<p>If you look at the Queued messages graph in the picture above, you can see Unacked and Ready stacking up.\nLooking at the message rates below, the publish speed is fast, but the consumer ack speed is too slow.</p>\n<p>I'm not sure if the Rabbitmq Configuration I've developed is wrong or if I forgot to set the listener configuration.\nThe rabbitmq message I receive is a callback message.</p>\n<p>Any help would be greatly appreciated.<a href=\"https://i.stack.imgur.com/uvJjm.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/uvJjm.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/VmrW5.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/VmrW5.png\" alt=\"enter image description here\" /></a>\n<strong>This is Rabbitmq configuration and RabbitListener configuration</strong></p>\n<pre><code>@Configuration\n@Profile({ProfileConfig.RABBITMQ})\npublic class RabbitmqConfig {\n\n  @Value(&quot;${rabbitmq.queue.name}&quot;)\n  private String queueName;\n\n  @Value(&quot;${rabbitmq.exchange.name}&quot;)\n  private String exchangeName;\n\n  @Value(&quot;${rabbitmq.routing.key.callback}&quot;)\n  private String routingKey;\n\n  @Value(&quot;${rabbitmq.fetch-count}&quot;)\n  private Integer fetchCount;\n\n  @Bean\n  Queue queue() {\n    return new Queue(queueName, true);\n  }\n\n  @Bean\n  DirectExchange directExchange() {\n    return new DirectExchange(exchangeName);\n  }\n\n  @Bean\n  Binding binding(DirectExchange directExchange, Queue queue) {\n    return BindingBuilder.bind(queue).to(directExchange).with(routingKey);\n  }\n\n  @Bean\n  public RabbitListenerContainerFactory&lt;SimpleMessageListenerContainer&gt; prefetchOneContainerFactory(\n      SimpleRabbitListenerContainerFactoryConfigurer configurer, ConnectionFactory factory)\n  {\n    SimpleRabbitListenerContainerFactory simpleFactory = new SimpleRabbitListenerContainerFactory();\n    configurer.configure(simpleFactory, factory);\n    simpleFactory.setPrefetchCount(fetchCount);\n\n    return simpleFactory;\n  }\n\n}\n\n\n@RabbitListener(queues = {&quot;${rabbitmq.queue.name}&quot;}, concurrency = &quot;3&quot;, containerFactory = &quot;prefetchOneContainerFactory&quot;)\n  public void receiveMessage(final String message, Channel channel, @Header(AmqpHeaders.DELIVERY_TAG) long tag) {\n    try {\n      JSONParser parser = new JSONParser();\n      JSONObject json = (JSONObject) parser.parse(message);\n      String messageType = json.get(&quot;messageType&quot;).toString();\n      log.debug(&quot;Receive Queue  Key={}, Message = {}&quot;, messageType, message);\n      AsyncType asyncType = AsyncType.valueOf(messageType);\n      executeMessage(asyncType, message);\n    } catch (Exception e) {\n      traceService.removeTraceId();\n      traceService.printErrorLog(log, &quot;Fail to deal receive message.&quot;, e, PrintStackPolicy.ALL);\n    } finally {\n        try {\n          channel.basicAck(tag, false);\n        }\n        catch (IOException e) {\n          traceService.printErrorLog(log, &quot;Fail to send ack to RabbitMQ&quot;, e, PrintStackPolicy.ALL);\n        }\n    }\n  }\n</code></pre>\n<p>The goal is to consume messages to Rabbitmq faster.</p>\n<p>However, the current consumption speed is too slow.</p>\n"},{"tags":["java","android"],"owner":{"account_id":17917946,"reputation":266,"user_id":13018498,"display_name":"Binil George"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687860656,"creation_date":1687860656,"question_id":76563812,"body_markdown":"I am working on an app which can encode and decode video from base64 and vice versa. At some point, I want to play this video from a base64 string without saving it to a file. I found the Uri method for videoview, but as I am not saving it to a file, I can&#39;t use the uri. I have a few guesses on what to use, maybe an output or input stream ?, I have managed to achieve the same in case of images (jpg/jpeg) using bitmap. But can I use the same for video? Or is there something similar to bitmap , but for videos ?\r\n\r\nThanks for any help at all","title":"Play video from base64 in android","body":"<p>I am working on an app which can encode and decode video from base64 and vice versa. At some point, I want to play this video from a base64 string without saving it to a file. I found the Uri method for videoview, but as I am not saving it to a file, I can't use the uri. I have a few guesses on what to use, maybe an output or input stream ?, I have managed to achieve the same in case of images (jpg/jpeg) using bitmap. But can I use the same for video? Or is there something similar to bitmap , but for videos ?</p>\n<p>Thanks for any help at all</p>\n"},{"tags":["java","ssh","jsch"],"answers":[{"tags":[],"owner":{"account_id":3421244,"reputation":35863,"user_id":2868801,"display_name":"dave_thompson_085"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1541465921,"creation_date":1541465921,"answer_id":53164406,"question_id":53134212,"body_markdown":"1. You read a file named `.pem` and de-base64 _all_ of it and treat the result as PKCS8-unencrypted, apparently successfully. This means the file was NOT PEM-format. PEM format at minimum MUST have the dash-BEGIN and dash-END lines to be valid, which if not removed cause de-base64 to either fail or be wrong. (_Some_ PEM formats also have 822-style headers which must be handled.)\r\n\r\n2. You appear to be using BouncyCastle, but in my versions there is no `PKCS8Generator` constructor that takes only `RSAPrivateKey`. The closest thing that works is `JcaPKCS8Generator (RSAPrivateKey implements PrivateKey, OutputEncryptor=null)` (i.e. a different but related class, and two arguments not one).\r\n\r\n3. `PemWriter` is buffered, and you didn&#39;t flush it before looking at the underlying `StringWriter`. As a result `writer.toString().getBytes()` is an empty/zero-length array, which `JSch` rightly considers invalid.\r\n\r\nWith #2 and #3 fixed and using my input, and calling `JSch` directly instead of via `JGit`, it works for me.\r\n","title":"&quot;Invalid privatekey&quot; when using JSch","body":"<ol>\n<li><p>You read a file named <code>.pem</code> and de-base64 <em>all</em> of it and treat the result as PKCS8-unencrypted, apparently successfully. This means the file was NOT PEM-format. PEM format at minimum MUST have the dash-BEGIN and dash-END lines to be valid, which if not removed cause de-base64 to either fail or be wrong. (<em>Some</em> PEM formats also have 822-style headers which must be handled.)</p></li>\n<li><p>You appear to be using BouncyCastle, but in my versions there is no <code>PKCS8Generator</code> constructor that takes only <code>RSAPrivateKey</code>. The closest thing that works is <code>JcaPKCS8Generator (RSAPrivateKey implements PrivateKey, OutputEncryptor=null)</code> (i.e. a different but related class, and two arguments not one).</p></li>\n<li><p><code>PemWriter</code> is buffered, and you didn't flush it before looking at the underlying <code>StringWriter</code>. As a result <code>writer.toString().getBytes()</code> is an empty/zero-length array, which <code>JSch</code> rightly considers invalid.</p></li>\n</ol>\n\n<p>With #2 and #3 fixed and using my input, and calling <code>JSch</code> directly instead of via <code>JGit</code>, it works for me.</p>\n"},{"tags":[],"owner":{"account_id":2247450,"reputation":1964,"user_id":1980490,"accept_rate":56,"display_name":"Natan"},"down_vote_count":0,"up_vote_count":148,"is_accepted":true,"score":148,"last_activity_date":1551385695,"creation_date":1544803913,"answer_id":53783283,"question_id":53134212,"body_markdown":"I also stumbled upon this issue.\r\nrunning **Jgit** on **mac**, for some users we saw the following exception:\r\n\r\n    org.eclipse.jgit.transport.JschConfigSessionFactory.getSession(JschConfigSessionFactory.java:160)\r\n        at org.eclipse.jgit.transport.SshTransport.getSession(SshTransport.java:137)\r\n        at org.eclipse.jgit.transport.TransportGitSsh$SshFetchConnection.&lt;init&gt;(TransportGitSsh.java:274)\r\n        at org.eclipse.jgit.transport.TransportGitSsh.openFetch(TransportGitSsh.java:169)\r\n        at org.eclipse.jgit.transport.FetchProcess.executeImp(FetchProcess.java:136)\r\n        at org.eclipse.jgit.transport.FetchProcess.execute(FetchProcess.java:122)\r\n        at org.eclipse.jgit.transport.Transport.fetch(Transport.java:1236)\r\n        at org.eclipse.jgit.api.FetchCommand.call(FetchCommand.java:234)\r\n        ... 17 more\r\n    Caused by: com.jcraft.jsch.JSchException: invalid privatekey: [B@e4487af\r\n        at com.jcraft.jsch.KeyPair.load(KeyPair.java:664)\r\n        at com.jcraft.jsch.KeyPair.load(KeyPair.java:561)\r\n        at com.jcraft.jsch.IdentityFile.newInstance(IdentityFile.java:40)\r\n        at com.jcraft.jsch.JSch.addIdentity(JSch.java:407)\r\n        at com.jcraft.jsch.JSch.addIdentity(JSch.java:367)\r\n        at org.eclipse.jgit.transport.JschConfigSessionFactory.getJSch(JschConfigSessionFactory.java:276)\r\n        at org.eclipse.jgit.transport.JschConfigSessionFactory.createSession(JschConfigSessionFactory.java:220)\r\n        at org.eclipse.jgit.transport.JschConfigSessionFactory.createSession(JschConfigSessionFactory.java:176)\r\n        at org.eclipse.jgit.transport.JschConfigSessionFactory.getSession(JschConfigSessionFactory.java:110)\r\n\r\nThe root cause was discovered to be the ssh private key mismatch.\r\nThe exception only happened for users with key of newer kind **ed25519**, which outputs this key header:\r\n\r\n`-----BEGIN OPENSSH PRIVATE KEY-----` \r\n\r\ninstead of kind **RSA**:\r\n\r\n`-----BEGIN RSA PRIVATE KEY-----`\r\n\r\nregenerating an RSA key (`ssh-keygen -t rsa`), made the exception go away.\r\n\r\nEdit following comments:\r\nIf you have OpenSSH 7.8 and above you might need to add -m PEM to the generation command:\r\n`ssh-keygen -t rsa -m PEM`","title":"&quot;Invalid privatekey&quot; when using JSch","body":"<p>I also stumbled upon this issue.\nrunning <strong>Jgit</strong> on <strong>mac</strong>, for some users we saw the following exception:</p>\n\n<pre><code>org.eclipse.jgit.transport.JschConfigSessionFactory.getSession(JschConfigSessionFactory.java:160)\n    at org.eclipse.jgit.transport.SshTransport.getSession(SshTransport.java:137)\n    at org.eclipse.jgit.transport.TransportGitSsh$SshFetchConnection.&lt;init&gt;(TransportGitSsh.java:274)\n    at org.eclipse.jgit.transport.TransportGitSsh.openFetch(TransportGitSsh.java:169)\n    at org.eclipse.jgit.transport.FetchProcess.executeImp(FetchProcess.java:136)\n    at org.eclipse.jgit.transport.FetchProcess.execute(FetchProcess.java:122)\n    at org.eclipse.jgit.transport.Transport.fetch(Transport.java:1236)\n    at org.eclipse.jgit.api.FetchCommand.call(FetchCommand.java:234)\n    ... 17 more\nCaused by: com.jcraft.jsch.JSchException: invalid privatekey: [B@e4487af\n    at com.jcraft.jsch.KeyPair.load(KeyPair.java:664)\n    at com.jcraft.jsch.KeyPair.load(KeyPair.java:561)\n    at com.jcraft.jsch.IdentityFile.newInstance(IdentityFile.java:40)\n    at com.jcraft.jsch.JSch.addIdentity(JSch.java:407)\n    at com.jcraft.jsch.JSch.addIdentity(JSch.java:367)\n    at org.eclipse.jgit.transport.JschConfigSessionFactory.getJSch(JschConfigSessionFactory.java:276)\n    at org.eclipse.jgit.transport.JschConfigSessionFactory.createSession(JschConfigSessionFactory.java:220)\n    at org.eclipse.jgit.transport.JschConfigSessionFactory.createSession(JschConfigSessionFactory.java:176)\n    at org.eclipse.jgit.transport.JschConfigSessionFactory.getSession(JschConfigSessionFactory.java:110)\n</code></pre>\n\n<p>The root cause was discovered to be the ssh private key mismatch.\nThe exception only happened for users with key of newer kind <strong>ed25519</strong>, which outputs this key header:</p>\n\n<p><code>-----BEGIN OPENSSH PRIVATE KEY-----</code> </p>\n\n<p>instead of kind <strong>RSA</strong>:</p>\n\n<p><code>-----BEGIN RSA PRIVATE KEY-----</code></p>\n\n<p>regenerating an RSA key (<code>ssh-keygen -t rsa</code>), made the exception go away.</p>\n\n<p>Edit following comments:\nIf you have OpenSSH 7.8 and above you might need to add -m PEM to the generation command:\n<code>ssh-keygen -t rsa -m PEM</code></p>\n"},{"tags":[],"owner":{"account_id":453710,"reputation":192093,"user_id":850848,"accept_rate":80,"display_name":"Martin Prikryl"},"down_vote_count":1,"up_vote_count":242,"is_accepted":false,"score":241,"last_activity_date":1666102024,"creation_date":1555569053,"answer_id":55740276,"question_id":53134212,"body_markdown":"Recent versions of OpenSSH (7.8 and newer) generate keys in *new* OpenSSH format by default, which starts with:\r\n\r\n``` none\r\n-----BEGIN OPENSSH PRIVATE KEY-----\r\n```\r\n\r\nJSch does not support this key format.\r\n\r\n---\r\n\r\nYou can use [`ssh-keygen`](https://man.openbsd.org/ssh-keygen) to convert the key to the *classic* OpenSSH format:\r\n\r\n```\r\nssh-keygen -p -f &lt;privateKeyFile&gt; -m pem -P passphrase -N passphrase\r\n```\r\n\r\nThis &quot;abuses&quot; `-p` (change passphrase) command. It will overwrite the private key file identified by the `-f` option with a new private key in the *classic* OpenSSH format (`pem`). You can keep the current passphrase as the new passphrase. If the key was not encrypted with a passphrase, use `&quot;&quot;` instead of `passphrase`. After, you can use `ssh-keygen -y -e -f &lt;privateKeyFile&gt; &gt;temp.pub` to compare public keys and verify the existing public key works with the new format of private key.\r\n\r\nFor Windows users: Note that `ssh-keygen.exe` is now built-in in Windows 10/11. And can be [downloaded from Microsoft Win32-OpenSSH project](https://github.com/PowerShell/Win32-OpenSSH) for older versions of Windows.\r\n\r\n---\r\n\r\nOn Windows, you can also use PuTTYgen (from [PuTTY package](https://www.chiark.greenend.org.uk/~sgtatham/putty/)):\r\n\r\n* Start PuTTYgen\r\n* Load the key\r\n* Go to *Conversions &gt; Export OpenSSH key*.  \r\n  For RSA keys, it will use the *classic* format.\r\n\r\n---\r\n\r\nIf you are creating a new key with `ssh-keygen`, just add [`-m PEM`](https://man.openbsd.org/ssh-keygen#m) to generate the new key in the *classic* format:\r\n\r\n```\r\nssh-keygen -m PEM\r\n```\r\n\r\n---\r\n\r\nActually, the original JSch does not seem to be actively maintained anymore. So particularly, if you are starting new project, it might not be the best library to begin with. JSch suffers from many compatibility problems nowadays. For some important ones, see:\r\n\r\n- https://stackoverflow.com/q/72743823/850848\r\n- https://stackoverflow.com/q/73862879/850848\r\n\r\nInstead, you might consider using this JSch fork:  \r\nhttps://github.com/mwiede/jsch\r\n\r\nAmong other, it does support the new OpenSSH key format.","title":"&quot;Invalid privatekey&quot; when using JSch","body":"<p>Recent versions of OpenSSH (7.8 and newer) generate keys in <em>new</em> OpenSSH format by default, which starts with:</p>\n<pre class=\"lang-none prettyprint-override\"><code>-----BEGIN OPENSSH PRIVATE KEY-----\n</code></pre>\n<p>JSch does not support this key format.</p>\n<hr />\n<p>You can use <a href=\"https://man.openbsd.org/ssh-keygen\" rel=\"noreferrer\"><code>ssh-keygen</code></a> to convert the key to the <em>classic</em> OpenSSH format:</p>\n<pre><code>ssh-keygen -p -f &lt;privateKeyFile&gt; -m pem -P passphrase -N passphrase\n</code></pre>\n<p>This &quot;abuses&quot; <code>-p</code> (change passphrase) command. It will overwrite the private key file identified by the <code>-f</code> option with a new private key in the <em>classic</em> OpenSSH format (<code>pem</code>). You can keep the current passphrase as the new passphrase. If the key was not encrypted with a passphrase, use <code>&quot;&quot;</code> instead of <code>passphrase</code>. After, you can use <code>ssh-keygen -y -e -f &lt;privateKeyFile&gt; &gt;temp.pub</code> to compare public keys and verify the existing public key works with the new format of private key.</p>\n<p>For Windows users: Note that <code>ssh-keygen.exe</code> is now built-in in Windows 10/11. And can be <a href=\"https://github.com/PowerShell/Win32-OpenSSH\" rel=\"noreferrer\">downloaded from Microsoft Win32-OpenSSH project</a> for older versions of Windows.</p>\n<hr />\n<p>On Windows, you can also use PuTTYgen (from <a href=\"https://www.chiark.greenend.org.uk/%7Esgtatham/putty/\" rel=\"noreferrer\">PuTTY package</a>):</p>\n<ul>\n<li>Start PuTTYgen</li>\n<li>Load the key</li>\n<li>Go to <em>Conversions &gt; Export OpenSSH key</em>.<br />\nFor RSA keys, it will use the <em>classic</em> format.</li>\n</ul>\n<hr />\n<p>If you are creating a new key with <code>ssh-keygen</code>, just add <a href=\"https://man.openbsd.org/ssh-keygen#m\" rel=\"noreferrer\"><code>-m PEM</code></a> to generate the new key in the <em>classic</em> format:</p>\n<pre><code>ssh-keygen -m PEM\n</code></pre>\n<hr />\n<p>Actually, the original JSch does not seem to be actively maintained anymore. So particularly, if you are starting new project, it might not be the best library to begin with. JSch suffers from many compatibility problems nowadays. For some important ones, see:</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/q/72743823/850848\">Public key authentication fails with JSch but work with OpenSSH with the same key</a></li>\n<li><a href=\"https://stackoverflow.com/q/73862879/850848\">Workaround for JSch unsupported KEX algorithms</a></li>\n</ul>\n<p>Instead, you might consider using this JSch fork:<br />\n<a href=\"https://github.com/mwiede/jsch\" rel=\"noreferrer\">https://github.com/mwiede/jsch</a></p>\n<p>Among other, it does support the new OpenSSH key format.</p>\n"},{"tags":[],"owner":{"account_id":15581436,"reputation":121,"user_id":11241086,"display_name":"theseventhsense"},"down_vote_count":2,"up_vote_count":6,"is_accepted":false,"score":4,"last_activity_date":1590676825,"creation_date":1579753612,"answer_id":59871594,"question_id":53134212,"body_markdown":"JSch does not support this key format. It supports only RSAPrivateKey. \r\nThis command works for me. Try this solution\r\n\r\n    ssh-keygen -m PEM -t rsa -b 2048\r\n\r\n//edited to rsa with 2048 keysize\r\n\r\n\r\n\r\n\r\n","title":"&quot;Invalid privatekey&quot; when using JSch","body":"<p>JSch does not support this key format. It supports only RSAPrivateKey. \nThis command works for me. Try this solution</p>\n\n<pre><code>ssh-keygen -m PEM -t rsa -b 2048\n</code></pre>\n\n<p>//edited to rsa with 2048 keysize</p>\n"},{"tags":[],"owner":{"account_id":899981,"reputation":1607,"user_id":936363,"accept_rate":62,"display_name":"Stefano Cazzola"},"down_vote_count":1,"up_vote_count":9,"is_accepted":false,"score":8,"last_activity_date":1676040543,"creation_date":1600426665,"answer_id":63954418,"question_id":53134212,"body_markdown":"Quite late to reply, but want to leave track of how to face the issue.\r\n\r\nThe point, as many people already mentioned in their answers, is actually the way you generate the key and with the `-m PEM` option resolves.\r\n\r\nHowever if as it just happened to me, you could not regenerate the key because the public part had already been installed in several servers, you can still convert your private key to a suitable format.\r\n\r\nTo do so, just issue the following command:\r\n\r\n    ssh-keygen -p -m pem -f id_rsa\r\n\r\nIt will ask for input of a new passphrase. With parameters `-P` (old passphrase) and `-N` (new passphrase) you can provide them at once, if needed.","title":"&quot;Invalid privatekey&quot; when using JSch","body":"<p>Quite late to reply, but want to leave track of how to face the issue.</p>\n<p>The point, as many people already mentioned in their answers, is actually the way you generate the key and with the <code>-m PEM</code> option resolves.</p>\n<p>However if as it just happened to me, you could not regenerate the key because the public part had already been installed in several servers, you can still convert your private key to a suitable format.</p>\n<p>To do so, just issue the following command:</p>\n<pre><code>ssh-keygen -p -m pem -f id_rsa\n</code></pre>\n<p>It will ask for input of a new passphrase. With parameters <code>-P</code> (old passphrase) and <code>-N</code> (new passphrase) you can provide them at once, if needed.</p>\n"},{"tags":[],"owner":{"account_id":2647801,"reputation":1383,"user_id":2290153,"display_name":"Matthias Wiedemann"},"down_vote_count":1,"up_vote_count":20,"is_accepted":false,"score":19,"last_activity_date":1611823566,"creation_date":1611822441,"answer_id":65933464,"question_id":53134212,"body_markdown":"Instead of converting the `OPENSSH` key format to the format, which original JSch supports, you can also switch to a fork of JSch, which you can find at https://github.com/mwiede/jsch\r\n\r\nYour only need to replace your JSch Maven coordinates with `com.github.mwiede:jsch:0.1.61`.\r\n\r\nThe fork does support the `OPENSSH` key format and several more algorithms, which might become important in the future, as OpenSSH servers will restrict the allowed sets of algorithms to the most secure ones.","title":"&quot;Invalid privatekey&quot; when using JSch","body":"<p>Instead of converting the <code>OPENSSH</code> key format to the format, which original JSch supports, you can also switch to a fork of JSch, which you can find at <a href=\"https://github.com/mwiede/jsch\" rel=\"noreferrer\">https://github.com/mwiede/jsch</a></p>\n<p>Your only need to replace your JSch Maven coordinates with <code>com.github.mwiede:jsch:0.1.61</code>.</p>\n<p>The fork does support the <code>OPENSSH</code> key format and several more algorithms, which might become important in the future, as OpenSSH servers will restrict the allowed sets of algorithms to the most secure ones.</p>\n"},{"tags":[],"owner":{"account_id":21715214,"reputation":50,"user_id":16026348,"display_name":"Ferlorin"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1639484564,"creation_date":1639484564,"answer_id":70348826,"question_id":53134212,"body_markdown":"I wanted to add that in order to avoid the below headers you need to create the key with \r\n```\r\n-C &quot;any-comment&quot;\r\n```\r\n\r\nHeaders that will be removed from the private Key:\r\n```\r\nProc-Type: 4,ENCRYPTED\r\nDEK-Info: AES-128-CBC,3551DFC375229D5758289E8D366082FE\r\n```\r\n\r\nLeaving only \r\n```\r\n -----BEGIN RSA PRIVATE KEY-----\r\nYOUR_KEY_HERE\r\n-----END RSA PRIVATE KEY-----\r\n```","title":"&quot;Invalid privatekey&quot; when using JSch","body":"<p>I wanted to add that in order to avoid the below headers you need to create the key with</p>\n<pre><code>-C &quot;any-comment&quot;\n</code></pre>\n<p>Headers that will be removed from the private Key:</p>\n<pre><code>Proc-Type: 4,ENCRYPTED\nDEK-Info: AES-128-CBC,3551DFC375229D5758289E8D366082FE\n</code></pre>\n<p>Leaving only</p>\n<pre><code> -----BEGIN RSA PRIVATE KEY-----\nYOUR_KEY_HERE\n-----END RSA PRIVATE KEY-----\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2720893,"reputation":1730,"user_id":2347210,"accept_rate":67,"display_name":"Vladi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657788930,"creation_date":1657788930,"answer_id":72977842,"question_id":53134212,"body_markdown":"So have the same problem fix it by **PuTTYgen**\r\n\r\n[![enter image description here][1]][1]\r\n\r\n1)Open PuTTYgen\r\n\r\n2) Press &quot;Load&quot; and choose the privateKey\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n3)press now on &quot;Conversions&quot; -&gt; and choose the first option &quot;Export OPENSSH key&quot;\r\n\r\n\r\n[![enter image description here][3]][3]\r\n\r\n\r\n4) save it as file (not need any format) and use it \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/RMRcI.png\r\n  [2]: https://i.stack.imgur.com/RiiR4.png\r\n  [3]: https://i.stack.imgur.com/6NcwC.png","title":"&quot;Invalid privatekey&quot; when using JSch","body":"<p>So have the same problem fix it by <strong>PuTTYgen</strong></p>\n<p><a href=\"https://i.stack.imgur.com/RMRcI.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/RMRcI.png\" alt=\"enter image description here\" /></a></p>\n<p>1)Open PuTTYgen</p>\n<ol start=\"2\">\n<li>Press &quot;Load&quot; and choose the privateKey</li>\n</ol>\n<p><a href=\"https://i.stack.imgur.com/RiiR4.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/RiiR4.png\" alt=\"enter image description here\" /></a></p>\n<p>3)press now on &quot;Conversions&quot; -&gt; and choose the first option &quot;Export OPENSSH key&quot;</p>\n<p><a href=\"https://i.stack.imgur.com/6NcwC.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/6NcwC.png\" alt=\"enter image description here\" /></a></p>\n<ol start=\"4\">\n<li>save it as file (not need any format) and use it</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":20811140,"reputation":51,"user_id":15285050,"display_name":"Pop Alexandru"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1673030745,"creation_date":1673030047,"answer_id":75034872,"question_id":53134212,"body_markdown":"Besides issues with the format of the Private Key, this error &quot;*JSchException: invalid privatekey*&quot; can also occur when you:\r\n - pass the Private Key as Byte Array, using this `addIdentity` overloaded method from JSch library: [`public void addIdentity(String name, byte[] prvkey, byte[] pubkey, byte[] passphrase)`][1]\r\n - and run the application from a UNIX Operating System. For example, if you deploy your app to a Linux instance, in your chosen cloud provider.\r\n\r\n\r\nThe reason for this is an `if` statement from the JSch source code, class `KeyPair`, method `parseHeader` at line 803: \r\n`if (buf[i] == 0x0d) {...}`: https://github.com/is/jsch/blob/master/src/main/java/com/jcraft/jsch/KeyPair.java#L803\r\n\r\nBecause of this `if` statement, are taken into consideration only the newline characters encoded like `\\r` (0x0D == 13) (*applicable to Windows and MacOS*). But UNIX uses `\\n` (0x0A == 10). Encodings are explained in this thread, for example: https://stackoverflow.com/questions/9260126/what-are-the-differences-between-char-literals-n-and-r-in-java\r\n\r\n----------\r\n\r\nSo if your Private Key has the correct structure, but you run the app from Linux (*or any other UNIX OS*), then the Byte Array that corresponds to the content of your Private Key will be **different based on the Operating System from which you run your app**.\r\n\r\nThis is an example where the Byte Arrays have different contents:\r\n- **When app runs on Linux**: [114, 115, 97, **10**, 69, 110] =&gt; **10** is the `&quot;\\n&quot;`\r\n- **When app runs on Windows**: [114, 115, 97, **13**, **10**, 69, 110] =&gt; **13 10** is the `&quot;\\r\\n&quot;`\r\n\r\n[This image illustrates the different contents of the Byte Arrays converted back as Strings][2] , when the app is run as a WAR file from Linux and Windows, captured through remote debugging. I used the latest version of JSch that is currently available: https://mvnrepository.com/artifact/com.jcraft/jsch/0.1.55\r\n\r\n----------\r\n\r\nTherefore, **if you run your app from Linux**, then a solution would be to:\r\n\r\n **1.** Get the InputStream from your Private and Public Keys (*the files should be added to the &quot;resources&quot; directory of your Spring project*):\r\n\r\n```\r\nInputStream privateKeyInputStream = new ClassPathResource(&quot;private-key.ppk&quot;).getInputStream();\r\nInputStream publicKeyInputStream = new ClassPathResource(&quot;public-key.ppk&quot;).getInputStream();\r\n```\r\n\r\n **2.** Convert the InputStream to ByteArrays\r\n```\r\nbyte[] privateKeyAsByteArray = IOUtils.toByteArray(privateKeyInputStream);\r\nbyte[] publicKeyAsByteArray = IOUtils.toByteArray(publicKeyInputStream);\r\n```\r\n\r\n **3.** Fix the encoding, by replacing the bytes of **10** (0x0A) with bytes of **13** (0x0D), before calling the `addIdentity` method from JSch:\r\n\r\n```\r\nfor (int i = 0; i &lt; privateKeyAsByteArray.length; i++) {\r\n    if (privateKeyAsByteArray[i] == 10) {   // if current element is a 10 (\\n) (UNIX)\r\n        privateKeyAsByteArray[i] = 13;      // replace it with 13 (\\r) (a byte that can be interpreted)\r\n    }\r\n}\r\n\r\nfor (int i = 0; i &lt; publicKeyAsByteArray.length; i++) {\r\n    if (publicKeyAsByteArray[i] == 10) {    // if current element is a 10 (\\n) (UNIX)\r\n        publicKeyAsByteArray[i] = 13;       // replace it with 13 (\\r) (a byte that can be interpreted)\r\n    }\r\n}\r\n```\r\n\r\n **4.** Call the `addIdentity` method:\r\n\r\n```java\r\njSch.addIdentity(&quot;private-key.ppk&quot;, privateKeyAsByteArray, publicKeyAsByteArray, passphraseAsString.getBytes());\r\n```\r\n\r\n\r\n----------\r\n\r\nI was thinking that this scenario could help someone who faces this error, until that `if` statement from the source code of the JSch library is updated to support also UNIX characters.\r\n\r\n\r\n  [1]: https://epaul.github.io/jsch-documentation/javadoc/com/jcraft/jsch/JSch.html#addIdentity-java.lang.String-byte:A-byte:A-byte:A-\r\n  [2]: https://i.stack.imgur.com/jvvUl.png","title":"&quot;Invalid privatekey&quot; when using JSch","body":"<p>Besides issues with the format of the Private Key, this error &quot;<em>JSchException: invalid privatekey</em>&quot; can also occur when you:</p>\n<ul>\n<li>pass the Private Key as Byte Array, using this <code>addIdentity</code> overloaded method from JSch library: <a href=\"https://epaul.github.io/jsch-documentation/javadoc/com/jcraft/jsch/JSch.html#addIdentity-java.lang.String-byte:A-byte:A-byte:A-\" rel=\"nofollow noreferrer\"><code>public void addIdentity(String name, byte[] prvkey, byte[] pubkey, byte[] passphrase)</code></a></li>\n<li>and run the application from a UNIX Operating System. For example, if you deploy your app to a Linux instance, in your chosen cloud provider.</li>\n</ul>\n<p>The reason for this is an <code>if</code> statement from the JSch source code, class <code>KeyPair</code>, method <code>parseHeader</code> at line 803:\n<code>if (buf[i] == 0x0d) {...}</code>: <a href=\"https://github.com/is/jsch/blob/master/src/main/java/com/jcraft/jsch/KeyPair.java#L803\" rel=\"nofollow noreferrer\">https://github.com/is/jsch/blob/master/src/main/java/com/jcraft/jsch/KeyPair.java#L803</a></p>\n<p>Because of this <code>if</code> statement, are taken into consideration only the newline characters encoded like <code>\\r</code> (0x0D == 13) (<em>applicable to Windows and MacOS</em>). But UNIX uses <code>\\n</code> (0x0A == 10). Encodings are explained in this thread, for example: <a href=\"https://stackoverflow.com/questions/9260126/what-are-the-differences-between-char-literals-n-and-r-in-java\">What are the differences between char literals &#39;\\n&#39; and &#39;\\r&#39; in Java?</a></p>\n<hr />\n<p>So if your Private Key has the correct structure, but you run the app from Linux (<em>or any other UNIX OS</em>), then the Byte Array that corresponds to the content of your Private Key will be <strong>different based on the Operating System from which you run your app</strong>.</p>\n<p>This is an example where the Byte Arrays have different contents:</p>\n<ul>\n<li><strong>When app runs on Linux</strong>: [114, 115, 97, <strong>10</strong>, 69, 110] =&gt; <strong>10</strong> is the <code>&quot;\\n&quot;</code></li>\n<li><strong>When app runs on Windows</strong>: [114, 115, 97, <strong>13</strong>, <strong>10</strong>, 69, 110] =&gt; <strong>13 10</strong> is the <code>&quot;\\r\\n&quot;</code></li>\n</ul>\n<p><a href=\"https://i.stack.imgur.com/jvvUl.png\" rel=\"nofollow noreferrer\">This image illustrates the different contents of the Byte Arrays converted back as Strings</a> , when the app is run as a WAR file from Linux and Windows, captured through remote debugging. I used the latest version of JSch that is currently available: <a href=\"https://mvnrepository.com/artifact/com.jcraft/jsch/0.1.55\" rel=\"nofollow noreferrer\">https://mvnrepository.com/artifact/com.jcraft/jsch/0.1.55</a></p>\n<hr />\n<p>Therefore, <strong>if you run your app from Linux</strong>, then a solution would be to:</p>\n<p><strong>1.</strong> Get the InputStream from your Private and Public Keys (<em>the files should be added to the &quot;resources&quot; directory of your Spring project</em>):</p>\n<pre><code>InputStream privateKeyInputStream = new ClassPathResource(&quot;private-key.ppk&quot;).getInputStream();\nInputStream publicKeyInputStream = new ClassPathResource(&quot;public-key.ppk&quot;).getInputStream();\n</code></pre>\n<p><strong>2.</strong> Convert the InputStream to ByteArrays</p>\n<pre><code>byte[] privateKeyAsByteArray = IOUtils.toByteArray(privateKeyInputStream);\nbyte[] publicKeyAsByteArray = IOUtils.toByteArray(publicKeyInputStream);\n</code></pre>\n<p><strong>3.</strong> Fix the encoding, by replacing the bytes of <strong>10</strong> (0x0A) with bytes of <strong>13</strong> (0x0D), before calling the <code>addIdentity</code> method from JSch:</p>\n<pre><code>for (int i = 0; i &lt; privateKeyAsByteArray.length; i++) {\n    if (privateKeyAsByteArray[i] == 10) {   // if current element is a 10 (\\n) (UNIX)\n        privateKeyAsByteArray[i] = 13;      // replace it with 13 (\\r) (a byte that can be interpreted)\n    }\n}\n\nfor (int i = 0; i &lt; publicKeyAsByteArray.length; i++) {\n    if (publicKeyAsByteArray[i] == 10) {    // if current element is a 10 (\\n) (UNIX)\n        publicKeyAsByteArray[i] = 13;       // replace it with 13 (\\r) (a byte that can be interpreted)\n    }\n}\n</code></pre>\n<p><strong>4.</strong> Call the <code>addIdentity</code> method:</p>\n<pre class=\"lang-java prettyprint-override\"><code>jSch.addIdentity(&quot;private-key.ppk&quot;, privateKeyAsByteArray, publicKeyAsByteArray, passphraseAsString.getBytes());\n</code></pre>\n<hr />\n<p>I was thinking that this scenario could help someone who faces this error, until that <code>if</code> statement from the source code of the JSch library is updated to support also UNIX characters.</p>\n"},{"tags":[],"owner":{"account_id":16977821,"reputation":1,"user_id":12280635,"display_name":"maningning"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680782362,"creation_date":1680782362,"answer_id":75949275,"question_id":53134212,"body_markdown":"From my sides, I meet the same issue. In my host file, there has this configuration below, which makes jsch reading ssh config by id_ed25519. You should use id_rsa.\r\n\r\n       Host *\r\n         AddKeysToAgent yes\r\n         IdentityFile /Users/xxx/.ssh/id_ed25519","title":"&quot;Invalid privatekey&quot; when using JSch","body":"<p>From my sides, I meet the same issue. In my host file, there has this configuration below, which makes jsch reading ssh config by id_ed25519. You should use id_rsa.</p>\n<pre><code>   Host *\n     AddKeysToAgent yes\n     IdentityFile /Users/xxx/.ssh/id_ed25519\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2395793,"reputation":444,"user_id":2094616,"accept_rate":75,"display_name":"Priyal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686553028,"creation_date":1686553028,"answer_id":76454236,"question_id":53134212,"body_markdown":"Since [JSCH][1] is no longer maintained and doesn&#39;t support most of the latest OpenSSH key algorithms, JGIT has now turned into [Apache MINA SSHD][2] for SSH connectivity. For this JGIT also provides the artifact [org.eclipse.jgit.ssh.apache][3] .\r\nTo use this all you have to do is switch the dependency from JGit jsch artifact to JGit ssh.apache artifact and set a new SshdSessionFactory instance (which is apache implementation of SshSessionFactory) to org.eclipse.jgit.transport.SshTransport.\r\n\r\nSwitch dependency;\r\n\r\nFrom :\r\n\r\n    &lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.eclipse.jgit&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;org.eclipse.jgit.ssh.jsch&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\nTo :\r\n\r\n    &lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.eclipse.jgit&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;org.eclipse.jgit.ssh.apache&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\nSetting SshdSessionFactory for a private key with passphrase;\r\n```\r\nTransportCommand&lt;T, C&gt; transportCommand = &lt;Any Transport command in JGIT&gt;;\r\nFile sshDir = new File(FS.DETECTED.userHome(), File.separator+SSH_DIR);\r\n      SshdSessionFactory sshSessionFactory = new SshdSessionFactoryBuilder().setPreferredAuthentications(&quot;publickey&quot;)\r\n        .setHomeDirectory(FS.DETECTED.userHome()).setSshDirectory(sshDir)\r\n        .setKeyPasswordProvider(cp -&gt; new IdentityPasswordProvider(cp)\r\n        {\r\n          @Override\r\n          protected char[] getPassword(URIish uri, String message)\r\n          {\r\n            return passphrase.toCharArray();\r\n          }\r\n        }).build(null);\r\n transportCommand.setTransportConfigCallback(transport -&gt; ((SshTransport) transport).setSshSessionFactory(sshSessionFactory));\r\n```\r\n\r\n  [1]: http://www.jcraft.com/jsch/\r\n  [2]: https://mina.apache.org/sshd-project/\r\n  [3]: https://git.eclipse.org/r/plugins/gitiles/jgit/jgit/+/master/org.eclipse.jgit.ssh.apache/","title":"&quot;Invalid privatekey&quot; when using JSch","body":"<p>Since <a href=\"http://www.jcraft.com/jsch/\" rel=\"nofollow noreferrer\">JSCH</a> is no longer maintained and doesn't support most of the latest OpenSSH key algorithms, JGIT has now turned into <a href=\"https://mina.apache.org/sshd-project/\" rel=\"nofollow noreferrer\">Apache MINA SSHD</a> for SSH connectivity. For this JGIT also provides the artifact <a href=\"https://git.eclipse.org/r/plugins/gitiles/jgit/jgit/+/master/org.eclipse.jgit.ssh.apache/\" rel=\"nofollow noreferrer\">org.eclipse.jgit.ssh.apache</a> .\nTo use this all you have to do is switch the dependency from JGit jsch artifact to JGit ssh.apache artifact and set a new SshdSessionFactory instance (which is apache implementation of SshSessionFactory) to org.eclipse.jgit.transport.SshTransport.</p>\n<p>Switch dependency;</p>\n<p>From :</p>\n<pre><code>&lt;dependency&gt;\n        &lt;groupId&gt;org.eclipse.jgit&lt;/groupId&gt;\n        &lt;artifactId&gt;org.eclipse.jgit.ssh.jsch&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>To :</p>\n<pre><code>&lt;dependency&gt;\n        &lt;groupId&gt;org.eclipse.jgit&lt;/groupId&gt;\n        &lt;artifactId&gt;org.eclipse.jgit.ssh.apache&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Setting SshdSessionFactory for a private key with passphrase;</p>\n<pre><code>TransportCommand&lt;T, C&gt; transportCommand = &lt;Any Transport command in JGIT&gt;;\nFile sshDir = new File(FS.DETECTED.userHome(), File.separator+SSH_DIR);\n      SshdSessionFactory sshSessionFactory = new SshdSessionFactoryBuilder().setPreferredAuthentications(&quot;publickey&quot;)\n        .setHomeDirectory(FS.DETECTED.userHome()).setSshDirectory(sshDir)\n        .setKeyPasswordProvider(cp -&gt; new IdentityPasswordProvider(cp)\n        {\n          @Override\n          protected char[] getPassword(URIish uri, String message)\n          {\n            return passphrase.toCharArray();\n          }\n        }).build(null);\n transportCommand.setTransportConfigCallback(transport -&gt; ((SshTransport) transport).setSshSessionFactory(sshSessionFactory));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2272249,"reputation":41,"user_id":1999335,"display_name":"Shreenivash"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687860382,"creation_date":1687860382,"answer_id":76563780,"question_id":53134212,"body_markdown":"Try using this dependency in your maven pom.xml and ensure that you check from which JSH class dependency is getting used in your code . Sometimes older dependency gets picked . Here using below dependency even OPEN SSH KEY will work fine \r\n\r\n    &lt;dependency&gt;\r\n                &lt;groupId&gt;com.github.mwiede&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jsch&lt;/artifactId&gt;\r\n                &lt;version&gt;0.2.9&lt;/version&gt;\r\n            &lt;/dependency&gt;","title":"&quot;Invalid privatekey&quot; when using JSch","body":"<p>Try using this dependency in your maven pom.xml and ensure that you check from which JSH class dependency is getting used in your code . Sometimes older dependency gets picked . Here using below dependency even OPEN SSH KEY will work fine</p>\n<pre><code>&lt;dependency&gt;\n            &lt;groupId&gt;com.github.mwiede&lt;/groupId&gt;\n            &lt;artifactId&gt;jsch&lt;/artifactId&gt;\n            &lt;version&gt;0.2.9&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":5532519,"reputation":1397,"user_id":4392063,"display_name":"o_b7"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":111727,"favorite_count":0,"down_vote_count":0,"up_vote_count":133,"accepted_answer_id":53783283,"answer_count":12,"score":133,"last_activity_date":1687860382,"creation_date":1541269073,"question_id":53134212,"body_markdown":"I&#39;m using the following code to work with Git in a Java application. \r\nI have a valid key (use it all the time), and this specific code has work for me before with the same key and git repository, but now I get the following exception:\r\n\r\n&gt; invalid privatekey: [B@59c40796.\r\n\r\nAt this line:\r\n\r\n    jSch.addIdentity(&quot;&lt;key_path&gt;/private_key.pem&quot;);\r\n\r\n\r\nMy full code:\r\n\r\n        String remoteURL = &quot;ssh://git@&lt;git_repository&gt;&quot;;\r\n        TransportConfigCallback transportConfigCallback = new SshTransportConfigCallback();\r\n        File gitFolder = new File(workingDirectory);\r\n        if (gitFolder.exists()) FileUtils.delete(gitFolder, FileUtils.RECURSIVE);\r\n\r\n        Git git = Git.cloneRepository()\r\n                .setURI(remoteURL)\r\n                .setTransportConfigCallback(transportConfigCallback)\r\n                .setDirectory(new File(workingDirectory))\r\n                .call();\r\n    }\r\n\r\n\r\n    private static class SshTransportConfigCallback implements TransportConfigCallback {\r\n        private final SshSessionFactory sshSessionFactory = new JschConfigSessionFactory() {\r\n            @Override\r\n            protected void configure(OpenSshConfig.Host hc, Session session) {\r\n                session.setConfig(&quot;StrictHostKeyChecking&quot;, &quot;no&quot;);\r\n            }\r\n\r\n            @Override\r\n            protected JSch createDefaultJSch(FS fs) throws JSchException {\r\n                JSch jSch = super.createDefaultJSch(fs);\r\n                jSch.addIdentity(&quot;&lt;key_path&gt;/private_key.pem&quot;);\r\n\r\n                return jSch;\r\n            }\r\n        };\r\n\r\n\r\n\r\nAfter searching online, I&#39;ve change createDefaultJSch to use pemWriter:\r\n\r\n    @Override\r\n    protected JSch createDefaultJSch(FS fs) throws JSchException {\r\n        JSch jSch = super.createDefaultJSch(fs);\r\n        byte[] privateKeyPEM = null;\r\n\r\n        try {\r\n            KeyFactory keyFactory = KeyFactory.getInstance(&quot;RSA&quot;);\r\n\r\n            List&lt;String&gt; lines = Files.readAllLines(Paths.get(&quot;&lt;my_key&gt;.pem&quot;), StandardCharsets.US_ASCII);\r\n            PKCS8EncodedKeySpec privSpec = new PKCS8EncodedKeySpec(Base64.getDecoder().decode(String.join(&quot;&quot;, lines)));\r\n            RSAPrivateKey privKey = (RSAPrivateKey) keyFactory.generatePrivate(privSpec);\r\n\r\n            PKCS8Generator pkcs8 = new PKCS8Generator(privKey);\r\n\r\n            StringWriter writer = new StringWriter();\r\n            PemWriter pemWriter = new PemWriter(writer);\r\n            pemWriter.writeObject(pkcs8);\r\n\r\n            privateKeyPEM = writer.toString().getBytes(&quot;US-ASCII&quot;);\r\n\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n\r\n        jSch.addIdentity(&quot;git&quot;, privateKeyPEM, null, null);\r\n\r\n        return jSch;\r\n    }\r\n\r\nBut still getting *&quot;invalid privatekey&quot;* exception.","title":"&quot;Invalid privatekey&quot; when using JSch","body":"<p>I'm using the following code to work with Git in a Java application. \nI have a valid key (use it all the time), and this specific code has work for me before with the same key and git repository, but now I get the following exception:</p>\n\n<blockquote>\n  <p>invalid privatekey: [B@59c40796.</p>\n</blockquote>\n\n<p>At this line:</p>\n\n<pre><code>jSch.addIdentity(\"&lt;key_path&gt;/private_key.pem\");\n</code></pre>\n\n<p>My full code:</p>\n\n<pre><code>    String remoteURL = \"ssh://git@&lt;git_repository&gt;\";\n    TransportConfigCallback transportConfigCallback = new SshTransportConfigCallback();\n    File gitFolder = new File(workingDirectory);\n    if (gitFolder.exists()) FileUtils.delete(gitFolder, FileUtils.RECURSIVE);\n\n    Git git = Git.cloneRepository()\n            .setURI(remoteURL)\n            .setTransportConfigCallback(transportConfigCallback)\n            .setDirectory(new File(workingDirectory))\n            .call();\n}\n\n\nprivate static class SshTransportConfigCallback implements TransportConfigCallback {\n    private final SshSessionFactory sshSessionFactory = new JschConfigSessionFactory() {\n        @Override\n        protected void configure(OpenSshConfig.Host hc, Session session) {\n            session.setConfig(\"StrictHostKeyChecking\", \"no\");\n        }\n\n        @Override\n        protected JSch createDefaultJSch(FS fs) throws JSchException {\n            JSch jSch = super.createDefaultJSch(fs);\n            jSch.addIdentity(\"&lt;key_path&gt;/private_key.pem\");\n\n            return jSch;\n        }\n    };\n</code></pre>\n\n<p>After searching online, I've change createDefaultJSch to use pemWriter:</p>\n\n<pre><code>@Override\nprotected JSch createDefaultJSch(FS fs) throws JSchException {\n    JSch jSch = super.createDefaultJSch(fs);\n    byte[] privateKeyPEM = null;\n\n    try {\n        KeyFactory keyFactory = KeyFactory.getInstance(\"RSA\");\n\n        List&lt;String&gt; lines = Files.readAllLines(Paths.get(\"&lt;my_key&gt;.pem\"), StandardCharsets.US_ASCII);\n        PKCS8EncodedKeySpec privSpec = new PKCS8EncodedKeySpec(Base64.getDecoder().decode(String.join(\"\", lines)));\n        RSAPrivateKey privKey = (RSAPrivateKey) keyFactory.generatePrivate(privSpec);\n\n        PKCS8Generator pkcs8 = new PKCS8Generator(privKey);\n\n        StringWriter writer = new StringWriter();\n        PemWriter pemWriter = new PemWriter(writer);\n        pemWriter.writeObject(pkcs8);\n\n        privateKeyPEM = writer.toString().getBytes(\"US-ASCII\");\n\n    } catch (Exception e) {\n        e.printStackTrace();\n    }\n\n    jSch.addIdentity(\"git\", privateKeyPEM, null, null);\n\n    return jSch;\n}\n</code></pre>\n\n<p>But still getting <em>\"invalid privatekey\"</em> exception.</p>\n"},{"tags":["java","tomcat","profiling","classloader"],"answers":[{"tags":[],"owner":{"account_id":7033,"reputation":6397,"user_id":12016,"accept_rate":75,"display_name":"mana"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1687859978,"creation_date":1349175152,"answer_id":12688938,"question_id":12688831,"body_markdown":"The jars are in the classpath for a reason. They are probably added to you webapp through a build management system (maven, gradle, ...) - therefore there may be some dependencies to these jars.\r\n\r\nRemoving jars from the classpath will produce `NoClassDefFoundError`. I guess you have to live with that amount of jars unless some of them are not needed (which is not easy to find out).\r\n\r\nBest check you dependency graph (maven and gradle have them) for possibly redundant, not needed or obsolete jars in your project. Also check for jars that come in different version like `random-1.0.0.jar` and `random-1.0.1.jar` and exclude one of them if possible.","title":"Too many classes loaded when application is deployed on tomcat","body":"<p>The jars are in the classpath for a reason. They are probably added to you webapp through a build management system (maven, gradle, ...) - therefore there may be some dependencies to these jars.</p>\n<p>Removing jars from the classpath will produce <code>NoClassDefFoundError</code>. I guess you have to live with that amount of jars unless some of them are not needed (which is not easy to find out).</p>\n<p>Best check you dependency graph (maven and gradle have them) for possibly redundant, not needed or obsolete jars in your project. Also check for jars that come in different version like <code>random-1.0.0.jar</code> and <code>random-1.0.1.jar</code> and exclude one of them if possible.</p>\n"},{"tags":[],"owner":{"account_id":26075,"reputation":41643,"user_id":67566,"accept_rate":73,"display_name":"James Black"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1349175559,"creation_date":1349175559,"answer_id":12689032,"question_id":12688831,"body_markdown":"You may want to use a tool to remove unneeded classes.\r\n\r\nThis question dealt with this very issue:\r\n\r\n[https://stackoverflow.com/questions/707194/tool-to-remove-unnecessary-dependencies-in-a-java-project][1]\r\n\r\nBut this question on Oracle may be more useful:\r\n\r\n[https://forums.oracle.com/forums/thread.jspa?threadID=1311910][2]\r\n\r\nI think that GenJar2 ([http://code.google.com/p/genjar2/][3]) may best meet your needs though.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/707194/tool-to-remove-unnecessary-dependencies-in-a-java-project\r\n  [2]: https://forums.oracle.com/forums/thread.jspa?threadID=1311910\r\n  [3]: http://code.google.com/p/genjar2/","title":"Too many classes loaded when application is deployed on tomcat","body":"<p>You may want to use a tool to remove unneeded classes.</p>\n\n<p>This question dealt with this very issue:</p>\n\n<p><a href=\"https://stackoverflow.com/questions/707194/tool-to-remove-unnecessary-dependencies-in-a-java-project\">Tool to remove unnecessary dependencies in a Java project</a></p>\n\n<p>But this question on Oracle may be more useful:</p>\n\n<p><a href=\"https://forums.oracle.com/forums/thread.jspa?threadID=1311910\" rel=\"nofollow noreferrer\">https://forums.oracle.com/forums/thread.jspa?threadID=1311910</a></p>\n\n<p>I think that GenJar2 (<a href=\"http://code.google.com/p/genjar2/\" rel=\"nofollow noreferrer\">http://code.google.com/p/genjar2/</a>) may best meet your needs though.</p>\n"}],"owner":{"account_id":1897425,"reputation":53,"user_id":1714057,"display_name":"Sun"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1788,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":12689032,"answer_count":2,"score":3,"last_activity_date":1687859978,"creation_date":1349174577,"question_id":12688831,"body_markdown":"We are having a web application which depends on around 125 jars including spring, hibernet, zk, etc.\r\n\r\nWhen we start the tomcat server, it loads around 55K classes into the permgen. Coz of this huge class loading, application startup takes significant amount of time. Moreover permgen space required by application is very high as other classes are also loaded during the program execution.\r\n\r\n- Is there a way to control how many classes are loaded at start up so that application comes up fast?\r\n- Is there a way to free/unload classes from permgen which are less frequently used?\r\n[These questions are specific to the classes which are loaded from the external jars]\r\n\r\nI had tried with -XX:+CMSClassUnloadingEnabled -XX:+CMSPermGenSweepingEnabled options specified for java. But only 42 classes were unloaded after sometime.\r\n\r\nAny help or pointers are highly appreciated.","title":"Too many classes loaded when application is deployed on tomcat","body":"<p>We are having a web application which depends on around 125 jars including spring, hibernet, zk, etc.</p>\n\n<p>When we start the tomcat server, it loads around 55K classes into the permgen. Coz of this huge class loading, application startup takes significant amount of time. Moreover permgen space required by application is very high as other classes are also loaded during the program execution.</p>\n\n<ul>\n<li>Is there a way to control how many classes are loaded at start up so that application comes up fast?</li>\n<li>Is there a way to free/unload classes from permgen which are less frequently used?\n[These questions are specific to the classes which are loaded from the external jars]</li>\n</ul>\n\n<p>I had tried with -XX:+CMSClassUnloadingEnabled -XX:+CMSPermGenSweepingEnabled options specified for java. But only 42 classes were unloaded after sometime.</p>\n\n<p>Any help or pointers are highly appreciated.</p>\n"},{"tags":["java","android","gradle"],"comments":[{"owner":{"account_id":19315649,"reputation":692,"user_id":14120486,"display_name":"ItzDavi"},"score":0,"creation_date":1687858154,"post_id":76563251,"comment_id":134991979,"body_markdown":"Is your version downgrade really necessary ?","body":"Is your version downgrade really necessary ?"},{"owner":{"account_id":12799592,"reputation":3918,"user_id":9261322,"accept_rate":75,"display_name":"Alexey Starinsky"},"score":0,"creation_date":1687859221,"post_id":76563251,"comment_id":134992205,"body_markdown":"@ItzDavi I do not know, I am getting &quot;java.lang.NullPointerException: Attempt to invoke virtual method &#39;boolean com.android.settingslib.media.MediaDevice.isConnected()&#39; on a null object reference&quot; with my new version that depends on billing v6.","body":"@ItzDavi I do not know, I am getting &quot;java.lang.NullPointerException: Attempt to invoke virtual method &#39;boolean com.android.settingslib.media.MediaDevice.isConnected()&#39; on a null object reference&quot; with my new version that depends on billing v6."},{"owner":{"account_id":19315649,"reputation":692,"user_id":14120486,"display_name":"ItzDavi"},"score":0,"creation_date":1687859303,"post_id":76563251,"comment_id":134992224,"body_markdown":"Update your question with the code causing the error and the error itself, I will provide more support!","body":"Update your question with the code causing the error and the error itself, I will provide more support!"},{"owner":{"account_id":12799592,"reputation":3918,"user_id":9261322,"accept_rate":75,"display_name":"Alexey Starinsky"},"score":0,"creation_date":1687859493,"post_id":76563251,"comment_id":134992278,"body_markdown":"@ItzDavi it is not my code, see the stack trace.","body":"@ItzDavi it is not my code, see the stack trace."}],"answers":[{"tags":[],"owner":{"account_id":19315649,"reputation":692,"user_id":14120486,"display_name":"ItzDavi"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1687859820,"creation_date":1687859820,"answer_id":76563698,"question_id":76563251,"body_markdown":"The error is straight forward to the point.\r\n\r\n&gt; java.lang.**NullPointerException**: **Attempt to invoke virtual method** &#39;boolean com.android.settingslib.media.MediaDevice.isConnected()&#39; **on a null object reference**\r\n\r\nThis means you are trying to check for a boolean value in a null object reference. Without the code causing the error I can&#39;t help you more.\r\n\r\nSee [the migration guide][1] to check if everything is correctly setup in the project.\r\n\r\nI commented before asking if the version downgrade is really necessary since the migration guide has a **Reminder** at the top:\r\n\r\n&gt; Starting on August 2, 2023, all new apps must use Billing Library version 5 or newer. By November 1, 2023, all updates to existing apps must use Billing Library version 5 or newer.\r\n\r\nPlease let me know if you need more support, happy coding!\r\n\r\n\r\n  [1]: https://developer.android.com/google/play/billing/migrate-gpblv6","title":"Cannot find symbol androidx.annotation.NonNull","body":"<p>The error is straight forward to the point.</p>\n<blockquote>\n<p>java.lang.<strong>NullPointerException</strong>: <strong>Attempt to invoke virtual method</strong> 'boolean com.android.settingslib.media.MediaDevice.isConnected()' <strong>on a null object reference</strong></p>\n</blockquote>\n<p>This means you are trying to check for a boolean value in a null object reference. Without the code causing the error I can't help you more.</p>\n<p>See <a href=\"https://developer.android.com/google/play/billing/migrate-gpblv6\" rel=\"nofollow noreferrer\">the migration guide</a> to check if everything is correctly setup in the project.</p>\n<p>I commented before asking if the version downgrade is really necessary since the migration guide has a <strong>Reminder</strong> at the top:</p>\n<blockquote>\n<p>Starting on August 2, 2023, all new apps must use Billing Library version 5 or newer. By November 1, 2023, all updates to existing apps must use Billing Library version 5 or newer.</p>\n</blockquote>\n<p>Please let me know if you need more support, happy coding!</p>\n"}],"owner":{"account_id":12799592,"reputation":3918,"user_id":9261322,"accept_rate":75,"display_name":"Alexey Starinsky"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":83,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1687859820,"creation_date":1687856508,"question_id":76563251,"body_markdown":"In my Android app I have\r\n\r\n    dependencies {\r\n        ...\r\n        implementation &quot;com.android.billingclient:billing:6.0.0&quot;\r\n    }\r\n\r\nin `build.gradle` and\r\n\r\n    import androidx.annotation.NonNull;\r\n\r\nIn my Java code. \r\n\r\nIf I change Billing version to 4.0.0 as follows:\r\n\r\n    dependencies {\r\n        ...\r\n        implementation &quot;com.android.billingclient:billing:4.0.0&quot;\r\n    }\r\n\r\nmy Java code stops compiling and I get the following error:\r\n\r\n    error: cannot find symbol\r\n    import androidx.annotation.NonNull;\r\n                              ^\r\n      symbol:   class NonNull\r\n      location: package androidx.annotation\r\n\r\nHow to fix this?\r\n\r\nI tried to add \r\n\r\n    implementation &quot;androidx.annotation:annotation:1.6.0&quot;\r\n\r\nto `build.gradle`, but it does not help.\r\n\r\nIn my `gradle.properties` I have this:\r\n\r\n    android.useAndroidX=true\r\n    android.enableJetifier=true\r\n\r\n**EDIT1**\r\n\r\nI am getting &quot;java.lang.NullPointerException: Attempt to invoke virtual method &#39;boolean com.android.settingslib.media.MediaDevice.isConnected()&#39; on a null object reference&quot; with my new version that depends on billing v6:\r\n\r\n    Exception Process: com.android.settings, PID: 20342\r\n    java.lang.NullPointerException: Attempt to invoke virtual method &#39;boolean com.android.settingslib.media.MediaDevice.isConnected()&#39; on a null object reference\r\n      at com.android.settingslib.media.MediaDevice.compareTo (MediaDevice.java:325)\r\n      at com.android.settingslib.media.MediaDevice.compareTo (MediaDevice.java:56)\r\n      at java.util.Comparators$NaturalOrderComparator.compare (Comparators.java:52)\r\n      at java.util.Comparators$NaturalOrderComparator.compare (Comparators.java:47)\r\n      at java.util.TimSort.countRunAndMakeAscending (TimSort.java:355)\r\n      at java.util.TimSort.sort (TimSort.java:220)\r\n      at java.util.Arrays.sort (Arrays.java:1492)\r\n      at java.util.ArrayList.sort (ArrayList.java:1470)\r\n      at java.util.Collections.sort (Collections.java:206)\r\n      at com.android.settingslib.media.LocalMediaManager$MediaDeviceCallback.onDeviceListAdded (LocalMediaManager.java:484)\r\n      at com.android.settingslib.media.MediaManager.dispatchDeviceListAdded (MediaManager.java:91)\r\n      at com.android.settingslib.media.InfoMediaManager.refreshDevices (InfoMediaManager.java:407)\r\n      at com.android.settingslib.media.InfoMediaManager.access$000 (InfoMediaManager.java:61)\r\n      at com.android.settingslib.media.InfoMediaManager$RouterManagerCallback.onRoutesAdded (InfoMediaManager.java:514)\r\n      at android.media.MediaRouter2Manager.lambda$notifyRoutesAdded$0 (MediaRouter2Manager.java:671)\r\n      at android.media.MediaRouter2Manager$$ExternalSyntheticLambda6.run\r\n      at java.util.concurrent.ThreadPoolExecutor.runWorker (ThreadPoolExecutor.java:1167)\r\n      at java.util.concurrent.ThreadPoolExecutor$Worker.run (ThreadPoolExecutor.java:641)\r\n      at java.lang.Thread.run (Thread.java:920)","title":"Cannot find symbol androidx.annotation.NonNull","body":"<p>In my Android app I have</p>\n<pre><code>dependencies {\n    ...\n    implementation &quot;com.android.billingclient:billing:6.0.0&quot;\n}\n</code></pre>\n<p>in <code>build.gradle</code> and</p>\n<pre><code>import androidx.annotation.NonNull;\n</code></pre>\n<p>In my Java code.</p>\n<p>If I change Billing version to 4.0.0 as follows:</p>\n<pre><code>dependencies {\n    ...\n    implementation &quot;com.android.billingclient:billing:4.0.0&quot;\n}\n</code></pre>\n<p>my Java code stops compiling and I get the following error:</p>\n<pre><code>error: cannot find symbol\nimport androidx.annotation.NonNull;\n                          ^\n  symbol:   class NonNull\n  location: package androidx.annotation\n</code></pre>\n<p>How to fix this?</p>\n<p>I tried to add</p>\n<pre><code>implementation &quot;androidx.annotation:annotation:1.6.0&quot;\n</code></pre>\n<p>to <code>build.gradle</code>, but it does not help.</p>\n<p>In my <code>gradle.properties</code> I have this:</p>\n<pre><code>android.useAndroidX=true\nandroid.enableJetifier=true\n</code></pre>\n<p><strong>EDIT1</strong></p>\n<p>I am getting &quot;java.lang.NullPointerException: Attempt to invoke virtual method 'boolean com.android.settingslib.media.MediaDevice.isConnected()' on a null object reference&quot; with my new version that depends on billing v6:</p>\n<pre><code>Exception Process: com.android.settings, PID: 20342\njava.lang.NullPointerException: Attempt to invoke virtual method 'boolean com.android.settingslib.media.MediaDevice.isConnected()' on a null object reference\n  at com.android.settingslib.media.MediaDevice.compareTo (MediaDevice.java:325)\n  at com.android.settingslib.media.MediaDevice.compareTo (MediaDevice.java:56)\n  at java.util.Comparators$NaturalOrderComparator.compare (Comparators.java:52)\n  at java.util.Comparators$NaturalOrderComparator.compare (Comparators.java:47)\n  at java.util.TimSort.countRunAndMakeAscending (TimSort.java:355)\n  at java.util.TimSort.sort (TimSort.java:220)\n  at java.util.Arrays.sort (Arrays.java:1492)\n  at java.util.ArrayList.sort (ArrayList.java:1470)\n  at java.util.Collections.sort (Collections.java:206)\n  at com.android.settingslib.media.LocalMediaManager$MediaDeviceCallback.onDeviceListAdded (LocalMediaManager.java:484)\n  at com.android.settingslib.media.MediaManager.dispatchDeviceListAdded (MediaManager.java:91)\n  at com.android.settingslib.media.InfoMediaManager.refreshDevices (InfoMediaManager.java:407)\n  at com.android.settingslib.media.InfoMediaManager.access$000 (InfoMediaManager.java:61)\n  at com.android.settingslib.media.InfoMediaManager$RouterManagerCallback.onRoutesAdded (InfoMediaManager.java:514)\n  at android.media.MediaRouter2Manager.lambda$notifyRoutesAdded$0 (MediaRouter2Manager.java:671)\n  at android.media.MediaRouter2Manager$$ExternalSyntheticLambda6.run\n  at java.util.concurrent.ThreadPoolExecutor.runWorker (ThreadPoolExecutor.java:1167)\n  at java.util.concurrent.ThreadPoolExecutor$Worker.run (ThreadPoolExecutor.java:641)\n  at java.lang.Thread.run (Thread.java:920)\n</code></pre>\n"},{"tags":["java","encryption","aes","smartcard","javacard"],"answers":[{"tags":[],"owner":{"account_id":28121958,"reputation":69,"user_id":21488044,"display_name":"Lucia"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687859815,"creation_date":1687763824,"answer_id":76554344,"question_id":76553305,"body_markdown":"I have fixed this error. The problem is that AES is a block cipher which processes blocks of 16 bytes, but in my code, I set it for a 8-byte encryption. \r\n\r\nSo I just need to make changes in `split()`, case 2 into this:\r\n`if(len % 16 &gt; 0) lenTemp = (short) (len + 16 - len % 16);`.","title":"JavaCard AES128 Cipher DoFinal Exception","body":"<p>I have fixed this error. The problem is that AES is a block cipher which processes blocks of 16 bytes, but in my code, I set it for a 8-byte encryption.</p>\n<p>So I just need to make changes in <code>split()</code>, case 2 into this:\n<code>if(len % 16 &gt; 0) lenTemp = (short) (len + 16 - len % 16);</code>.</p>\n"}],"owner":{"account_id":28121958,"reputation":69,"user_id":21488044,"display_name":"Lucia"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":70,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1687859815,"creation_date":1687749006,"question_id":76553305,"body_markdown":"I called `split()` method in order to hash PIN (MD5) and use it as a key for AES128. But I got the error 0x6306, which means `CryptoException.ILLEGAL_USE`. I have read this documentation: https://docs.oracle.com/javacard/3.0.5/api/javacardx/crypto/Cipher.html but couldn&#39;t resolve my problem.\r\nHere&#39;s my code:\r\n\r\n    package baocao;\r\n    \r\n    import javacard.framework.*;\r\n    import javacard.security.*;\r\n    import javacardx.crypto.*;\r\n    \r\n    public class test extends Applet {\r\n    \r\n        private final static byte INS_IMPORT = (byte) 0x00;\r\n        private final static byte INS_EXPORT = (byte) 0x01;\r\n        private final static byte INS_VERIFY = (byte) 0x02;\r\n        private final static byte INS_VERIFY_PIN = (byte) 0x03;\r\n        private final static byte INS_CHANGE_PIN = (byte) 0x04;\r\n        private final static byte INS_RECHARGE = (byte) 0x03;\r\n        private final static byte INS_PAYMENT = (byte) 0x04;\r\n        private final static byte INS_RESET_PIN = (byte) 0x07;\r\n        private final static byte P1_EXPORT_ID = (byte) 0x00;\r\n        private final static byte P1_EXPORT_REST = (byte) 0x01;\r\n        private final static byte P1_EXPORT_AVATAR = (byte) 0x02;\r\n    \r\n        private final static byte PIN_TRY_LIMIT = 0x03;\r\n        private final static byte PIN_SIZE = 0x10;\r\n        private final static short SW_PIN_BLOCKED = 0x6300;\r\n        private final static short SW_VERIFICATION_FAILED = 0x6301;\r\n        private final static short SW_PIN_DUPPLICATED = 0x6302;\r\n        private final static short SW_PIN_VERIFICATION_REQUIRED = 0x6303;\r\n        private final static short SW_UNINITIALIZED_KEY = 0x6304;\r\n        private final static short SW_INVALID_INIT = 0x6305;\r\n        private final static short SW_ILLEGAL_USE = 0x6306;\r\n        private short failedAttempts = 0;\r\n    \r\n        private MessageDigest sha;\r\n        private Cipher cipher;\r\n        private AESKey aesKey;\r\n        private RSAPrivateKey rsaPrivKey;\r\n        private RSAPublicKey rsaPubKey;\r\n        private Signature rsaSig;\r\n        private OwnerPIN pin;\r\n    \r\n        private byte[] temp, buffer1, buffer2;\r\n        private final static short MAX_SIZE = (short) 1024;\r\n    \r\n        private short dataLen, restDataLen, avatarLen, hashedPinLen = (short) 16;\r\n        private byte[] id;\r\n        private byte[] avatar;\r\n        private byte[] restData;\r\n        private byte[] hashedPin;\r\n    \r\n        private test() {\r\n            temp = new byte[MAX_SIZE];\r\n            buffer1 = new byte[MAX_SIZE];\r\n            buffer2 = new byte[MAX_SIZE];\r\n            sha = MessageDigest.getInstance(MessageDigest.ALG_MD5, false); // MD5 -&gt; 16bytes\r\n            cipher = Cipher.getInstance(Cipher.ALG_AES_BLOCK_128_ECB_NOPAD, false);\r\n            aesKey = (AESKey) KeyBuilder.buildKey(KeyBuilder.TYPE_AES, (short) 128, false);\r\n            rsaPrivKey = (RSAPrivateKey) KeyBuilder.buildKey(KeyBuilder.TYPE_RSA_PRIVATE, (short) 1024, false);\r\n            rsaPubKey = (RSAPublicKey) KeyBuilder.buildKey(KeyBuilder.TYPE_RSA_PUBLIC, (short) 1024, false);\r\n            KeyPair keyPair = new KeyPair(KeyPair.ALG_RSA, (short) 1024);\r\n            keyPair.genKeyPair();\r\n            rsaPrivKey = (RSAPrivateKey) keyPair.getPrivate();\r\n            rsaPubKey = (RSAPublicKey) keyPair.getPublic();\r\n            pin = new OwnerPIN(PIN_TRY_LIMIT, PIN_SIZE);\r\n        }\r\n        public static void install(byte[] bArray, short bOffset, byte bLength) {\r\n            new test().register(bArray, (short)(bOffset + 1), bArray[bOffset]);\r\n        }\r\n    \r\n        public void process(APDU apdu) {\r\n            if (selectingApplet()) {\r\n                return;\r\n            }\r\n    \r\n            byte[] buf = apdu.getBuffer();\r\n            short recvLen = apdu.setIncomingAndReceive();\r\n            short pointer = 0;\r\n            switch (buf[ISO7816.OFFSET_INS]) {\r\n                case INS_IMPORT:\r\n                    dataLen = (short)(buf[ISO7816.OFFSET_LC] &amp; 0xf);\r\n                    if (dataLen &gt; MAX_SIZE) {\r\n                        ISOException.throwIt(ISO7816.SW_WRONG_LENGTH);\r\n                    }\r\n                    short dataOffset = (short) ISO7816.OFFSET_CDATA;\r\n                    pointer = 0;\r\n                    while (recvLen &gt; 0) {\r\n                        Util.arrayCopy(buf, dataOffset, temp, pointer, recvLen);\r\n                        pointer += recvLen;\r\n                        recvLen = apdu.receiveBytes(dataOffset);\r\n                    }\r\n                    split();\r\n                    short len = rsaPubKey.getModulus(buffer1, (short) 0);\r\n                    Util.arrayCopy(buffer1, (short) 0, buf, (short) 0, len);\r\n                    apdu.setOutgoingAndSend((short) 0, len);\r\n                    break;\r\n    \r\n                default:\r\n                    ISOException.throwIt(ISO7816.SW_INS_NOT_SUPPORTED);\r\n            }\r\n        }\r\n    \r\n    \r\n        public void split() {\r\n            short i = 0, j = 0, len = 0, old_i = 0, lenTemp;\r\n            byte opt = 0;\r\n    \r\n            for (; i &lt; dataLen; i++) {\r\n                if (temp[i] == (byte) 0x00) {\r\n                    len = (short)(i - old_i);\r\n    \r\n                    switch (opt) {\r\n                        case 0: // pin\r\n                            Util.arrayCopy(temp, old_i, buffer1, (short) 0, len);\r\n                            sha.doFinal(buffer1, (short) 0, (short) buffer1.length, buffer2, (short) 0);\r\n                            hashedPin = new byte[16];\r\n                            Util.arrayCopy(buffer1, (short) 0, hashedPin, (short) 0, (short) 16);\r\n                            pin.update(hashedPin, (short) 0, (byte) hashedPin.length);\r\n                            aesKey.setKey(hashedPin, (short) 0);\r\n                            cipher.init(aesKey, Cipher.MODE_ENCRYPT);\r\n                            break;\r\n    \r\n                        case 1: // id\r\n                            id = new byte[len];\r\n                            Util.arrayCopy(temp, old_i, id, (short) 0, len);\r\n                            break;\r\n    \r\n                        case 2: // avatar\r\n                            avatarLen = len;\r\n                            lenTemp = len;\r\n                            if(len % 8 &gt; 0) lenTemp = (short) (len + 8 - len % 8);\r\n                            byte[] avatarTemp = new byte[lenTemp];\r\n                            avatar = new byte[lenTemp];\r\n                            Util.arrayCopy(temp, old_i, avatarTemp, (short) 0, lenTemp);\r\n                            for (j = len; j &lt; lenTemp; j++) {\r\n                                avatarTemp[j] = 0x00;\r\n                            }\r\n                            try {\r\n                                cipher.doFinal(avatarTemp, (short) 0, lenTemp, avatar, (short) 0);\r\n                            } catch (CryptoException e) {\r\n                                short reason = e.getReason();\r\n                                switch (reason) {\r\n                                    case CryptoException.UNINITIALIZED_KEY:\r\n                                        ISOException.throwIt(SW_UNINITIALIZED_KEY);\r\n                                        break;\r\n                                    case CryptoException.INVALID_INIT:\r\n                                        ISOException.throwIt(SW_INVALID_INIT);\r\n                                        break;\r\n                                    case CryptoException.ILLEGAL_USE:\r\n                                        ISOException.throwIt(SW_ILLEGAL_USE);\r\n                                        break;\r\n                                    default:\r\n                                        break;\r\n                                }\r\n                            }\r\n                            \r\n                            break;\r\n                    }\r\n                    opt++;\r\n                    old_i = (short)(i + 1);\r\n                }\r\n            }\r\n    \r\n            len = (short)(dataLen - old_i);\r\n            restDataLen = len;\r\n            restData = new byte[len];\r\n            Util.arrayCopy(temp, old_i, restData, (short) 0, len);\r\n        }\r\n    }","title":"JavaCard AES128 Cipher DoFinal Exception","body":"<p>I called <code>split()</code> method in order to hash PIN (MD5) and use it as a key for AES128. But I got the error 0x6306, which means <code>CryptoException.ILLEGAL_USE</code>. I have read this documentation: <a href=\"https://docs.oracle.com/javacard/3.0.5/api/javacardx/crypto/Cipher.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javacard/3.0.5/api/javacardx/crypto/Cipher.html</a> but couldn't resolve my problem.\nHere's my code:</p>\n<pre><code>package baocao;\n\nimport javacard.framework.*;\nimport javacard.security.*;\nimport javacardx.crypto.*;\n\npublic class test extends Applet {\n\n    private final static byte INS_IMPORT = (byte) 0x00;\n    private final static byte INS_EXPORT = (byte) 0x01;\n    private final static byte INS_VERIFY = (byte) 0x02;\n    private final static byte INS_VERIFY_PIN = (byte) 0x03;\n    private final static byte INS_CHANGE_PIN = (byte) 0x04;\n    private final static byte INS_RECHARGE = (byte) 0x03;\n    private final static byte INS_PAYMENT = (byte) 0x04;\n    private final static byte INS_RESET_PIN = (byte) 0x07;\n    private final static byte P1_EXPORT_ID = (byte) 0x00;\n    private final static byte P1_EXPORT_REST = (byte) 0x01;\n    private final static byte P1_EXPORT_AVATAR = (byte) 0x02;\n\n    private final static byte PIN_TRY_LIMIT = 0x03;\n    private final static byte PIN_SIZE = 0x10;\n    private final static short SW_PIN_BLOCKED = 0x6300;\n    private final static short SW_VERIFICATION_FAILED = 0x6301;\n    private final static short SW_PIN_DUPPLICATED = 0x6302;\n    private final static short SW_PIN_VERIFICATION_REQUIRED = 0x6303;\n    private final static short SW_UNINITIALIZED_KEY = 0x6304;\n    private final static short SW_INVALID_INIT = 0x6305;\n    private final static short SW_ILLEGAL_USE = 0x6306;\n    private short failedAttempts = 0;\n\n    private MessageDigest sha;\n    private Cipher cipher;\n    private AESKey aesKey;\n    private RSAPrivateKey rsaPrivKey;\n    private RSAPublicKey rsaPubKey;\n    private Signature rsaSig;\n    private OwnerPIN pin;\n\n    private byte[] temp, buffer1, buffer2;\n    private final static short MAX_SIZE = (short) 1024;\n\n    private short dataLen, restDataLen, avatarLen, hashedPinLen = (short) 16;\n    private byte[] id;\n    private byte[] avatar;\n    private byte[] restData;\n    private byte[] hashedPin;\n\n    private test() {\n        temp = new byte[MAX_SIZE];\n        buffer1 = new byte[MAX_SIZE];\n        buffer2 = new byte[MAX_SIZE];\n        sha = MessageDigest.getInstance(MessageDigest.ALG_MD5, false); // MD5 -&gt; 16bytes\n        cipher = Cipher.getInstance(Cipher.ALG_AES_BLOCK_128_ECB_NOPAD, false);\n        aesKey = (AESKey) KeyBuilder.buildKey(KeyBuilder.TYPE_AES, (short) 128, false);\n        rsaPrivKey = (RSAPrivateKey) KeyBuilder.buildKey(KeyBuilder.TYPE_RSA_PRIVATE, (short) 1024, false);\n        rsaPubKey = (RSAPublicKey) KeyBuilder.buildKey(KeyBuilder.TYPE_RSA_PUBLIC, (short) 1024, false);\n        KeyPair keyPair = new KeyPair(KeyPair.ALG_RSA, (short) 1024);\n        keyPair.genKeyPair();\n        rsaPrivKey = (RSAPrivateKey) keyPair.getPrivate();\n        rsaPubKey = (RSAPublicKey) keyPair.getPublic();\n        pin = new OwnerPIN(PIN_TRY_LIMIT, PIN_SIZE);\n    }\n    public static void install(byte[] bArray, short bOffset, byte bLength) {\n        new test().register(bArray, (short)(bOffset + 1), bArray[bOffset]);\n    }\n\n    public void process(APDU apdu) {\n        if (selectingApplet()) {\n            return;\n        }\n\n        byte[] buf = apdu.getBuffer();\n        short recvLen = apdu.setIncomingAndReceive();\n        short pointer = 0;\n        switch (buf[ISO7816.OFFSET_INS]) {\n            case INS_IMPORT:\n                dataLen = (short)(buf[ISO7816.OFFSET_LC] &amp; 0xf);\n                if (dataLen &gt; MAX_SIZE) {\n                    ISOException.throwIt(ISO7816.SW_WRONG_LENGTH);\n                }\n                short dataOffset = (short) ISO7816.OFFSET_CDATA;\n                pointer = 0;\n                while (recvLen &gt; 0) {\n                    Util.arrayCopy(buf, dataOffset, temp, pointer, recvLen);\n                    pointer += recvLen;\n                    recvLen = apdu.receiveBytes(dataOffset);\n                }\n                split();\n                short len = rsaPubKey.getModulus(buffer1, (short) 0);\n                Util.arrayCopy(buffer1, (short) 0, buf, (short) 0, len);\n                apdu.setOutgoingAndSend((short) 0, len);\n                break;\n\n            default:\n                ISOException.throwIt(ISO7816.SW_INS_NOT_SUPPORTED);\n        }\n    }\n\n\n    public void split() {\n        short i = 0, j = 0, len = 0, old_i = 0, lenTemp;\n        byte opt = 0;\n\n        for (; i &lt; dataLen; i++) {\n            if (temp[i] == (byte) 0x00) {\n                len = (short)(i - old_i);\n\n                switch (opt) {\n                    case 0: // pin\n                        Util.arrayCopy(temp, old_i, buffer1, (short) 0, len);\n                        sha.doFinal(buffer1, (short) 0, (short) buffer1.length, buffer2, (short) 0);\n                        hashedPin = new byte[16];\n                        Util.arrayCopy(buffer1, (short) 0, hashedPin, (short) 0, (short) 16);\n                        pin.update(hashedPin, (short) 0, (byte) hashedPin.length);\n                        aesKey.setKey(hashedPin, (short) 0);\n                        cipher.init(aesKey, Cipher.MODE_ENCRYPT);\n                        break;\n\n                    case 1: // id\n                        id = new byte[len];\n                        Util.arrayCopy(temp, old_i, id, (short) 0, len);\n                        break;\n\n                    case 2: // avatar\n                        avatarLen = len;\n                        lenTemp = len;\n                        if(len % 8 &gt; 0) lenTemp = (short) (len + 8 - len % 8);\n                        byte[] avatarTemp = new byte[lenTemp];\n                        avatar = new byte[lenTemp];\n                        Util.arrayCopy(temp, old_i, avatarTemp, (short) 0, lenTemp);\n                        for (j = len; j &lt; lenTemp; j++) {\n                            avatarTemp[j] = 0x00;\n                        }\n                        try {\n                            cipher.doFinal(avatarTemp, (short) 0, lenTemp, avatar, (short) 0);\n                        } catch (CryptoException e) {\n                            short reason = e.getReason();\n                            switch (reason) {\n                                case CryptoException.UNINITIALIZED_KEY:\n                                    ISOException.throwIt(SW_UNINITIALIZED_KEY);\n                                    break;\n                                case CryptoException.INVALID_INIT:\n                                    ISOException.throwIt(SW_INVALID_INIT);\n                                    break;\n                                case CryptoException.ILLEGAL_USE:\n                                    ISOException.throwIt(SW_ILLEGAL_USE);\n                                    break;\n                                default:\n                                    break;\n                            }\n                        }\n                        \n                        break;\n                }\n                opt++;\n                old_i = (short)(i + 1);\n            }\n        }\n\n        len = (short)(dataLen - old_i);\n        restDataLen = len;\n        restData = new byte[len];\n        Util.arrayCopy(temp, old_i, restData, (short) 0, len);\n    }\n}\n</code></pre>\n"},{"tags":["java","maven","junit","cargo","junit5-extension-model"],"comments":[{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":1,"creation_date":1687867202,"post_id":76563598,"comment_id":134993912,"body_markdown":"First `Actually there are no valid types registered for this configuration.` furthermore having a plugin as a dependency is wrong... and where is the cargo-maven3-plugin configured in your build?","body":"First <code>Actually there are no valid types registered for this configuration.</code> furthermore having a plugin as a dependency is wrong... and where is the cargo-maven3-plugin configured in your build?"}],"owner":{"account_id":7753338,"reputation":1218,"user_id":5985343,"display_name":"jmizv"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":107,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687859107,"creation_date":1687859107,"question_id":76563598,"body_markdown":"I fail to use a Tomcat container with codehaus&#39;s `cargo-maven3-plugin` in version 1.10.7. It&#39;s using Java 11. When I execute the code that follows I get this exception which seems to me that downloading and installing the Tomcat container works. The exceptions happens in the line of `Configuration config = configFactory.createConfiguration(containerId, ContainerType.INSTALLED, ConfigurationType.RUNTIME);`\r\n\r\nI&#39;ve debugged to that point and can see that a certain mapping is missing but I have no idea where to get this mapping.\r\n\r\n\r\n```\r\norg.codehaus.cargo.container.ContainerException: Cannot create configuration. There&#39;s no registered configuration for the parameters (container [id = [tomcat9x], type = [installed]], configuration type [runtime]). Actually there are no valid types registered for this configuration. Maybe you&#39;ve made a mistake spelling it?\r\n\r\n\tat org.codehaus.cargo.generic.spi.AbstractGenericHintFactory.createImplementation(AbstractGenericHintFactory.java:135)\r\n\tat org.codehaus.cargo.generic.spi.AbstractIntrospectionGenericHintFactory.createImplementation(AbstractIntrospectionGenericHintFactory.java:89)\r\n\tat org.codehaus.cargo.generic.configuration.DefaultConfigurationFactory.createConfiguration(DefaultConfigurationFactory.java:165)\r\n\tat org.codehaus.cargo.generic.configuration.DefaultConfigurationFactory.createConfiguration(DefaultConfigurationFactory.java:152)\r\n\tat com.example.TomcatExtension.afterAll(TomcatExtension.java:41)\r\n\tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeAfterAllCallbacks$16(ClassBasedTestDescriptor.java:447)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeAfterAllCallbacks$17(ClassBasedTestDescriptor.java:447)\r\n\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1541)\r\n\tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeAfterAllCallbacks(ClassBasedTestDescriptor.java:447)\r\n\tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.after(ClassBasedTestDescriptor.java:229)\r\n\tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.after(ClassBasedTestDescriptor.java:80)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$7(NodeTestTask.java:161)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:161)\r\n\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1541)\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)\r\n\tat org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\r\n\tat org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)\r\n\tat org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)\r\n\tat org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)\r\n\tat com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:57)\r\n\tat com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)\r\n\tat com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)\r\n\tat com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)\r\n\tat com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:232)\r\n\tat com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:55)\r\n```\r\n\r\n\r\nI&#39;ve break down my problem to this easy reproducible code. The project is initialized with IntelliJ. The `pom.xml`:\r\n\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\r\n    &lt;artifactId&gt;cargotest&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\r\n            &lt;version&gt;5.8.2&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;\r\n            &lt;version&gt;5.8.2&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.assertj&lt;/groupId&gt;\r\n            &lt;artifactId&gt;assertj-core&lt;/artifactId&gt;\r\n            &lt;version&gt;3.14.0&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.codehaus.cargo&lt;/groupId&gt;\r\n            &lt;artifactId&gt;cargo-maven3-plugin&lt;/artifactId&gt;\r\n            &lt;version&gt;1.10.7&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\nMy test stub (not doing anything except for calling the extension):\r\n\r\n\r\n```java\r\nimport org.junit.jupiter.api.Test;\r\nimport org.junit.jupiter.api.extension.ExtendWith;\r\n\r\n@ExtendWith(TomcatExtension.class)\r\nclass WarTest {\r\n\r\n    @Test\r\n    void test() {\r\n    }\r\n}\r\n```\r\n\r\nThe JUnit5 extension that should create a Tomcat 9 container:\r\n\r\n```java\r\nimport org.codehaus.cargo.container.ContainerType;\r\nimport org.codehaus.cargo.container.InstalledLocalContainer;\r\nimport org.codehaus.cargo.container.configuration.Configuration;\r\nimport org.codehaus.cargo.container.configuration.ConfigurationType;\r\nimport org.codehaus.cargo.container.installer.Proxy;\r\nimport org.codehaus.cargo.container.installer.ZipURLInstaller;\r\nimport org.codehaus.cargo.generic.DefaultContainerFactory;\r\nimport org.codehaus.cargo.generic.configuration.DefaultConfigurationFactory;\r\nimport org.junit.jupiter.api.extension.AfterAllCallback;\r\nimport org.junit.jupiter.api.extension.BeforeAllCallback;\r\nimport org.junit.jupiter.api.extension.ExtensionContext;\r\n\r\nimport java.net.URL;\r\n\r\npublic class TomcatExtension implements BeforeAllCallback, AfterAllCallback {\r\n\r\n    private InstalledLocalContainer _container;\r\n\r\n    @Override\r\n    public void afterAll(ExtensionContext extensionContext) throws Exception {\r\n\r\n        ZipURLInstaller installer;\r\n        try {\r\n            String url = &quot;https://repo.maven.apache.org/maven2/org/apache/tomcat/tomcat/9.0.76/tomcat-9.0.76.zip&quot;;\r\n            installer = new ZipURLInstaller(new URL(url));\r\n            Proxy proxy = new Proxy();\r\n            proxy.setHost(&quot;proxy host&quot;);\r\n            proxy.setPort(8080);\r\n            installer.setProxy(proxy);\r\n            installer.download();\r\n            installer.install();\r\n        } catch (Exception ex) {\r\n            throw new RuntimeException(&quot;Could not install Tomcat.&quot;, ex);\r\n        }\r\n\r\n        String containerId = &quot;tomcat9x&quot;;\r\n        var configFactory = new DefaultConfigurationFactory();\r\n        var containerFactory = new DefaultContainerFactory();\r\n        Configuration config = configFactory.createConfiguration(containerId, ContainerType.INSTALLED, ConfigurationType.RUNTIME);\r\n        InstalledLocalContainer tomcat9x = (InstalledLocalContainer) containerFactory.createContainer(&quot;tomcat9x&quot;, ContainerType.INSTALLED, config);\r\n        tomcat9x.setHome(installer.getHome());\r\n        _container = tomcat9x;\r\n        _container.start();\r\n    }\r\n\r\n    // void beforeAll(): stop the container\r\n}\r\n```","title":"JUnit 5 extension for starting Tomcat 9 with codehaus cargo fails","body":"<p>I fail to use a Tomcat container with codehaus's <code>cargo-maven3-plugin</code> in version 1.10.7. It's using Java 11. When I execute the code that follows I get this exception which seems to me that downloading and installing the Tomcat container works. The exceptions happens in the line of <code>Configuration config = configFactory.createConfiguration(containerId, ContainerType.INSTALLED, ConfigurationType.RUNTIME);</code></p>\n<p>I've debugged to that point and can see that a certain mapping is missing but I have no idea where to get this mapping.</p>\n<pre><code>org.codehaus.cargo.container.ContainerException: Cannot create configuration. There's no registered configuration for the parameters (container [id = [tomcat9x], type = [installed]], configuration type [runtime]). Actually there are no valid types registered for this configuration. Maybe you've made a mistake spelling it?\n\n    at org.codehaus.cargo.generic.spi.AbstractGenericHintFactory.createImplementation(AbstractGenericHintFactory.java:135)\n    at org.codehaus.cargo.generic.spi.AbstractIntrospectionGenericHintFactory.createImplementation(AbstractIntrospectionGenericHintFactory.java:89)\n    at org.codehaus.cargo.generic.configuration.DefaultConfigurationFactory.createConfiguration(DefaultConfigurationFactory.java:165)\n    at org.codehaus.cargo.generic.configuration.DefaultConfigurationFactory.createConfiguration(DefaultConfigurationFactory.java:152)\n    at com.example.TomcatExtension.afterAll(TomcatExtension.java:41)\n    at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeAfterAllCallbacks$16(ClassBasedTestDescriptor.java:447)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeAfterAllCallbacks$17(ClassBasedTestDescriptor.java:447)\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1541)\n    at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeAfterAllCallbacks(ClassBasedTestDescriptor.java:447)\n    at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.after(ClassBasedTestDescriptor.java:229)\n    at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.after(ClassBasedTestDescriptor.java:80)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$7(NodeTestTask.java:161)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:161)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1541)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)\n    at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)\n    at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)\n    at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:57)\n    at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)\n    at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)\n    at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)\n    at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:232)\n    at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:55)\n</code></pre>\n<p>I've break down my problem to this easy reproducible code. The project is initialized with IntelliJ. The <code>pom.xml</code>:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;cargotest&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\n            &lt;version&gt;5.8.2&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;\n            &lt;version&gt;5.8.2&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.assertj&lt;/groupId&gt;\n            &lt;artifactId&gt;assertj-core&lt;/artifactId&gt;\n            &lt;version&gt;3.14.0&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.codehaus.cargo&lt;/groupId&gt;\n            &lt;artifactId&gt;cargo-maven3-plugin&lt;/artifactId&gt;\n            &lt;version&gt;1.10.7&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n&lt;/project&gt;\n</code></pre>\n<p>My test stub (not doing anything except for calling the extension):</p>\n<pre class=\"lang-java prettyprint-override\"><code>import org.junit.jupiter.api.Test;\nimport org.junit.jupiter.api.extension.ExtendWith;\n\n@ExtendWith(TomcatExtension.class)\nclass WarTest {\n\n    @Test\n    void test() {\n    }\n}\n</code></pre>\n<p>The JUnit5 extension that should create a Tomcat 9 container:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import org.codehaus.cargo.container.ContainerType;\nimport org.codehaus.cargo.container.InstalledLocalContainer;\nimport org.codehaus.cargo.container.configuration.Configuration;\nimport org.codehaus.cargo.container.configuration.ConfigurationType;\nimport org.codehaus.cargo.container.installer.Proxy;\nimport org.codehaus.cargo.container.installer.ZipURLInstaller;\nimport org.codehaus.cargo.generic.DefaultContainerFactory;\nimport org.codehaus.cargo.generic.configuration.DefaultConfigurationFactory;\nimport org.junit.jupiter.api.extension.AfterAllCallback;\nimport org.junit.jupiter.api.extension.BeforeAllCallback;\nimport org.junit.jupiter.api.extension.ExtensionContext;\n\nimport java.net.URL;\n\npublic class TomcatExtension implements BeforeAllCallback, AfterAllCallback {\n\n    private InstalledLocalContainer _container;\n\n    @Override\n    public void afterAll(ExtensionContext extensionContext) throws Exception {\n\n        ZipURLInstaller installer;\n        try {\n            String url = &quot;https://repo.maven.apache.org/maven2/org/apache/tomcat/tomcat/9.0.76/tomcat-9.0.76.zip&quot;;\n            installer = new ZipURLInstaller(new URL(url));\n            Proxy proxy = new Proxy();\n            proxy.setHost(&quot;proxy host&quot;);\n            proxy.setPort(8080);\n            installer.setProxy(proxy);\n            installer.download();\n            installer.install();\n        } catch (Exception ex) {\n            throw new RuntimeException(&quot;Could not install Tomcat.&quot;, ex);\n        }\n\n        String containerId = &quot;tomcat9x&quot;;\n        var configFactory = new DefaultConfigurationFactory();\n        var containerFactory = new DefaultContainerFactory();\n        Configuration config = configFactory.createConfiguration(containerId, ContainerType.INSTALLED, ConfigurationType.RUNTIME);\n        InstalledLocalContainer tomcat9x = (InstalledLocalContainer) containerFactory.createContainer(&quot;tomcat9x&quot;, ContainerType.INSTALLED, config);\n        tomcat9x.setHome(installer.getHome());\n        _container = tomcat9x;\n        _container.start();\n    }\n\n    // void beforeAll(): stop the container\n}\n</code></pre>\n"},{"tags":["java","java-11","java-http-client"],"comments":[{"owner":{"account_id":9847667,"reputation":29054,"user_id":7294647,"accept_rate":67,"display_name":"Jacob G."},"score":1,"creation_date":1545718665,"post_id":53919721,"comment_id":94681999,"body_markdown":"I think the most it lets you do is grab the `Executor` (if it exists), which you can then shut down.","body":"I think the most it lets you do is grab the <code>Executor</code> (if it exists), which you can then shut down."},{"owner":{"account_id":1939636,"reputation":28457,"user_id":1746118,"accept_rate":95,"display_name":"Naman"},"score":1,"creation_date":1545719011,"post_id":53919721,"comment_id":94682058,"body_markdown":"`HttpClientImpl` in the JDK seems to be a relevant place to look into but doesn&#39;t seem like there is public API to govern the same unless of course, you specify your custom `Executor`. Few related reads over Http/2 protocol would be [When does a http2 TCP connection close?](https://stackoverflow.com/questions/48107196/when-does-a-http2-tcp-connection-close) and [Connection Management](https://tools.ietf.org/html/rfc7540#section-9.1)","body":"<code>HttpClientImpl</code> in the JDK seems to be a relevant place to look into but doesn&#39;t seem like there is public API to govern the same unless of course, you specify your custom <code>Executor</code>. Few related reads over Http/2 protocol would be <a href=\"https://stackoverflow.com/questions/48107196/when-does-a-http2-tcp-connection-close\">When does a http2 TCP connection close?</a> and <a href=\"https://tools.ietf.org/html/rfc7540#section-9.1\" rel=\"nofollow noreferrer\">Connection Management</a>"}],"answers":[{"tags":[],"owner":{"account_id":2939498,"reputation":3137,"user_id":2517719,"accept_rate":67,"display_name":"Floegipoky"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1545802408,"creation_date":1545723539,"answer_id":53920327,"question_id":53919721,"body_markdown":"As you&#39;ve noticed, `java.net.http.HttpClient` does not implement `Closeable` or `AutoCloseable`. So I can think of only 2 options, but neither of them are really bulletproof or even good:\r\n\r\nYou could eliminate every [strong reference](https://stackoverflow.com/a/23519721/2517719) to the `HttpClient` that your program is holding and [request a garbage collection](https://stackoverflow.com/questions/1481178/how-to-force-garbage-collection-in-java). However there&#39;s a real risk that something beyond your direct control is holding onto it or one of its components. Any remaining strong references would prevent the referenced object, and any objects it holds a strong reference to, from being garbage collected. Nevertheless, this is arguably the more idiomatic option than the alternative.\r\n\r\nI also found [another option](https://hg.openjdk.java.net/jdk/jdk/file/abe21b82ff7c/src/java.net.http/share/classes/jdk/internal/net/http/HttpClientImpl.java#l327).\r\n\r\n\r\n    final class HttpClientImpl extends HttpClient implements Trackable {\r\n        ...\r\n        // Called from the SelectorManager thread, just before exiting.\r\n        // Clears the HTTP/1.1 and HTTP/2 cache, ensuring that the connections\r\n        // that may be still lingering there are properly closed (and their\r\n        // possibly still opened SocketChannel released).\r\n        private void stop() {\r\n            // Clears HTTP/1.1 cache and close its connections\r\n            connections.stop();\r\n            // Clears HTTP/2 cache and close its connections.\r\n            client2.stop();\r\n        }\r\n        ...\r\n    }\r\n\r\nI wouldn&#39;t feel comfortable using this unless I had no other choice. Your reference is probably of type `HttpClient`, so you&#39;d need to cast it to `HttpClientImpl`. It&#39;s bad to rely on the concrete implementation, which could change in future releases, rather than the `HttpClient` interface. The method is also private. There are [ways around this](https://stackoverflow.com/a/880400/2517719) but it&#39;s messy.","title":"Close Java HTTP Client","body":"<p>As you've noticed, <code>java.net.http.HttpClient</code> does not implement <code>Closeable</code> or <code>AutoCloseable</code>. So I can think of only 2 options, but neither of them are really bulletproof or even good:</p>\n\n<p>You could eliminate every <a href=\"https://stackoverflow.com/a/23519721/2517719\">strong reference</a> to the <code>HttpClient</code> that your program is holding and <a href=\"https://stackoverflow.com/questions/1481178/how-to-force-garbage-collection-in-java\">request a garbage collection</a>. However there's a real risk that something beyond your direct control is holding onto it or one of its components. Any remaining strong references would prevent the referenced object, and any objects it holds a strong reference to, from being garbage collected. Nevertheless, this is arguably the more idiomatic option than the alternative.</p>\n\n<p>I also found <a href=\"https://hg.openjdk.java.net/jdk/jdk/file/abe21b82ff7c/src/java.net.http/share/classes/jdk/internal/net/http/HttpClientImpl.java#l327\" rel=\"nofollow noreferrer\">another option</a>.</p>\n\n<pre><code>final class HttpClientImpl extends HttpClient implements Trackable {\n    ...\n    // Called from the SelectorManager thread, just before exiting.\n    // Clears the HTTP/1.1 and HTTP/2 cache, ensuring that the connections\n    // that may be still lingering there are properly closed (and their\n    // possibly still opened SocketChannel released).\n    private void stop() {\n        // Clears HTTP/1.1 cache and close its connections\n        connections.stop();\n        // Clears HTTP/2 cache and close its connections.\n        client2.stop();\n    }\n    ...\n}\n</code></pre>\n\n<p>I wouldn't feel comfortable using this unless I had no other choice. Your reference is probably of type <code>HttpClient</code>, so you'd need to cast it to <code>HttpClientImpl</code>. It's bad to rely on the concrete implementation, which could change in future releases, rather than the <code>HttpClient</code> interface. The method is also private. There are <a href=\"https://stackoverflow.com/a/880400/2517719\">ways around this</a> but it's messy.</p>\n"},{"tags":[],"owner":{"account_id":11002980,"reputation":49,"user_id":8082966,"display_name":"Hadi"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1565621950,"creation_date":1565621950,"answer_id":57463632,"question_id":53919721,"body_markdown":"In Java 11, each `HttpClient` spawn a daemon thread called `selmgr` which supposed to take care of in fly requests. This thread will be closed when there is no reference to the `HttpClient` in the code. However, in my experience, it is not reliable. Especially, when you use asynchronous methods with future timeouts.\r\n\r\nHere is a piece of code I wrote using reflection to reliably close the `HttpClient`\r\n\r\n    static void shutDownHttpClient(HttpClient httpClient)\r\n    {\r\n        ThreadPoolExecutor threadPoolExecutor = (ThreadPoolExecutor) httpClient.executor().get();\r\n        threadPoolExecutor.shutdown();\r\n        try {\r\n            Field implField = httpClient.getClass().getDeclaredField(&quot;impl&quot;);\r\n            implField.setAccessible(true);\r\n            Object implObj = implField.get(httpClient);\r\n            Field selmgrField = implObj.getClass().getDeclaredField(&quot;selmgr&quot;);\r\n            selmgrField.setAccessible(true);\r\n            Object selmgrObj = selmgrField.get(implObj);\r\n            Method shutDownMethod = selmgrObj.getClass().getDeclaredMethod(&quot;shutdown&quot;);\r\n            shutDownMethod.setAccessible(true);\r\n            shutDownMethod.invoke(selmgrObj);\r\n        }\r\n        catch (Exception e) {\r\n            System.out.println(&quot;exception &quot; + e.getMessage());\r\n            e.printStackTrace();\r\n        }\r\n\r\n    }\r\n\r\nAs you can see, this is implementation-dependent and may not works with future Java versions. It is tested with Java 11 and Java 12.\r\n\r\nAlso, you need to add `--add-opens java.net.http/jdk.internal.net.http=ALL-UNNAMED` to your java command.","title":"Close Java HTTP Client","body":"<p>In Java 11, each <code>HttpClient</code> spawn a daemon thread called <code>selmgr</code> which supposed to take care of in fly requests. This thread will be closed when there is no reference to the <code>HttpClient</code> in the code. However, in my experience, it is not reliable. Especially, when you use asynchronous methods with future timeouts.</p>\n\n<p>Here is a piece of code I wrote using reflection to reliably close the <code>HttpClient</code></p>\n\n<pre><code>static void shutDownHttpClient(HttpClient httpClient)\n{\n    ThreadPoolExecutor threadPoolExecutor = (ThreadPoolExecutor) httpClient.executor().get();\n    threadPoolExecutor.shutdown();\n    try {\n        Field implField = httpClient.getClass().getDeclaredField(\"impl\");\n        implField.setAccessible(true);\n        Object implObj = implField.get(httpClient);\n        Field selmgrField = implObj.getClass().getDeclaredField(\"selmgr\");\n        selmgrField.setAccessible(true);\n        Object selmgrObj = selmgrField.get(implObj);\n        Method shutDownMethod = selmgrObj.getClass().getDeclaredMethod(\"shutdown\");\n        shutDownMethod.setAccessible(true);\n        shutDownMethod.invoke(selmgrObj);\n    }\n    catch (Exception e) {\n        System.out.println(\"exception \" + e.getMessage());\n        e.printStackTrace();\n    }\n\n}\n</code></pre>\n\n<p>As you can see, this is implementation-dependent and may not works with future Java versions. It is tested with Java 11 and Java 12.</p>\n\n<p>Also, you need to add <code>--add-opens java.net.http/jdk.internal.net.http=ALL-UNNAMED</code> to your java command.</p>\n"},{"tags":[],"owner":{"account_id":1390443,"reputation":8438,"user_id":1321404,"accept_rate":100,"display_name":"Dmitry Zagorulkin"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1565630870,"creation_date":1565630870,"answer_id":57465635,"question_id":53919721,"body_markdown":"Obviously `HttpClient` is designed to be self managed. So it responsible to maintain connection pool, cache ttl by itself.\r\n\r\nIn `HttpClientCode` We could find the following code:\r\n\r\n\r\n    if (!owner.isReferenced()) {\r\n                                    Log.logTrace(&quot;{0}: {1}&quot;,\r\n                                            getName(),\r\n                                            &quot;HttpClient no longer referenced. Exiting...&quot;);\r\n                                    return;\r\n                                }\r\n\r\nthis is a graceful way to exit from `SelectorManager` loop and clean all resources.\r\n  \r\n\r\n     @Override\r\n     public void run() {\r\n                ...\r\n    \r\n                try {\r\n                    \r\n                    while (!Thread.currentThread().isInterrupted()) {\r\n                        \r\n                        ...\r\n    \r\n                        if (!owner.isReferenced()) {\r\n                            Log.logTrace(&quot;{0}: {1}&quot;,\r\n                                    getName(),\r\n                                    &quot;HttpClient no longer referenced. Exiting...&quot;);\r\n                            return;\r\n                        }\r\n    \r\n                        ...\r\n                    }\r\n                } catch (Throwable e) {\r\n                    ...\r\n                } finally {\r\n                    ...\r\n                    shutdown();\r\n                }\r\n            }\r\n    \r\n    \r\n    \r\n    \r\n        final boolean isReferenced() {\r\n                HttpClient facade = facade();\r\n                return facade != null || referenceCount() &gt; 0;\r\n            }\r\n\r\n\r\nSo when your `HttpClient` object will not be referenced, then it will clean all resources.\r\n\r\nUPD: also you should tune your requests by passing timeouts ","title":"Close Java HTTP Client","body":"<p>Obviously <code>HttpClient</code> is designed to be self managed. So it responsible to maintain connection pool, cache ttl by itself.</p>\n\n<p>In <code>HttpClientCode</code> We could find the following code:</p>\n\n<pre><code>if (!owner.isReferenced()) {\n                                Log.logTrace(\"{0}: {1}\",\n                                        getName(),\n                                        \"HttpClient no longer referenced. Exiting...\");\n                                return;\n                            }\n</code></pre>\n\n<p>this is a graceful way to exit from <code>SelectorManager</code> loop and clean all resources.</p>\n\n<pre><code> @Override\n public void run() {\n            ...\n\n            try {\n\n                while (!Thread.currentThread().isInterrupted()) {\n\n                    ...\n\n                    if (!owner.isReferenced()) {\n                        Log.logTrace(\"{0}: {1}\",\n                                getName(),\n                                \"HttpClient no longer referenced. Exiting...\");\n                        return;\n                    }\n\n                    ...\n                }\n            } catch (Throwable e) {\n                ...\n            } finally {\n                ...\n                shutdown();\n            }\n        }\n\n\n\n\n    final boolean isReferenced() {\n            HttpClient facade = facade();\n            return facade != null || referenceCount() &gt; 0;\n        }\n</code></pre>\n\n<p>So when your <code>HttpClient</code> object will not be referenced, then it will clean all resources.</p>\n\n<p>UPD: also you should tune your requests by passing timeouts </p>\n"},{"tags":[],"owner":{"account_id":65170,"reputation":2696,"user_id":191995,"accept_rate":38,"display_name":"kachanov"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1593902452,"creation_date":1593902452,"answer_id":62735142,"question_id":53919721,"body_markdown":"I had similar problem when I was redeploying a war file into Tomcat. War application had an HttpClient, that was running scheduled jobs issuing http requests and processing results. \r\n\r\nI was seeing warnings from Tomcat when redeploying war file quite often on dev enrionment about hanging threads that may cause memory leaks. The stack trace was pointing to HttpClient threads. After several attempts I solved this problem in this way:\r\n\r\n1. HttpClient is created only when necessary to execute the job. It is not created as a field of a class or serivec, only as a local variable inside the scheduled method.\r\n\r\n2. HttpClient is created using builder and populated with a ThreadPool Executor, thus I keep the link to Executor and have control on it.\r\n&lt;code&gt;\r\nExecutorService executor = Executors.newSingleThreadExecutor();\r\nHttpClient client = HttpClient.newBuilder().followRedirects(Redirect.ALWAYS).connectTimeout(Duration.ofSeconds(5)).executor(executor).build();\r\n&lt;/code&gt;\r\n\r\n3. When job is done in try-catch block, finally section has these two lines that: close the thread pool explicitly and set null to the httpClient local variable:\r\n&lt;code&gt;\r\nexecutor.shutdownNow();\r\nclient = null;\r\nSystem.gc();\r\n&lt;/code&gt;\r\n\r\nNotes, have short connection timeout to limit the time of execution. keep number of threads small. I use threadPool of 1 thread.\r\n\r\nAfter all these changes warnings about memory leaks disappeared from Tomcat logs.","title":"Close Java HTTP Client","body":"<p>I had similar problem when I was redeploying a war file into Tomcat. War application had an HttpClient, that was running scheduled jobs issuing http requests and processing results.</p>\n<p>I was seeing warnings from Tomcat when redeploying war file quite often on dev enrionment about hanging threads that may cause memory leaks. The stack trace was pointing to HttpClient threads. After several attempts I solved this problem in this way:</p>\n<ol>\n<li><p>HttpClient is created only when necessary to execute the job. It is not created as a field of a class or serivec, only as a local variable inside the scheduled method.</p>\n</li>\n<li><p>HttpClient is created using builder and populated with a ThreadPool Executor, thus I keep the link to Executor and have control on it.\n<code>\nExecutorService executor = Executors.newSingleThreadExecutor();\nHttpClient client = HttpClient.newBuilder().followRedirects(Redirect.ALWAYS).connectTimeout(Duration.ofSeconds(5)).executor(executor).build();\n</code></p>\n</li>\n<li><p>When job is done in try-catch block, finally section has these two lines that: close the thread pool explicitly and set null to the httpClient local variable:\n<code>\nexecutor.shutdownNow();\nclient = null;\nSystem.gc();\n</code></p>\n</li>\n</ol>\n<p>Notes, have short connection timeout to limit the time of execution. keep number of threads small. I use threadPool of 1 thread.</p>\n<p>After all these changes warnings about memory leaks disappeared from Tomcat logs.</p>\n"},{"tags":[],"owner":{"account_id":12310201,"reputation":7,"user_id":8981899,"display_name":"Will Xinwei Luo"},"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1622093119,"creation_date":1622093119,"answer_id":67716135,"question_id":53919721,"body_markdown":"If it is just to gracefully close HttpClient at the end of the application lifecycle, System.exit(0) shall just work. \r\n\r\n    public static void main(String[] args) {\r\n        ...\r\n        System.exit(0);\r\n    }\r\n\r\nI think it sends a interrupt signal to all threads in the JVM and HttpClient selmgr daemon does pick this up and shutdown itself.\r\n\r\n    final class HttpClientImpl extends HttpClient implements Trackable {\r\n        ...\r\n        // Main loop for this client&#39;s selector\r\n        private final static class SelectorManager extends Thread {\r\n            ...\r\n            @Override\r\n            public void run() {\r\n                ...\r\n                try {\r\n                    ...\r\n                    while (!Thread.currentThread().isInterrupted()) {...}\r\n                } catch (Throwable e) {...}\r\n                finally {\r\n                    ...\r\n                    shutdown();\r\n                }\r\n\r\n\r\n","title":"Close Java HTTP Client","body":"<p>If it is just to gracefully close HttpClient at the end of the application lifecycle, System.exit(0) shall just work.</p>\n<pre><code>public static void main(String[] args) {\n    ...\n    System.exit(0);\n}\n</code></pre>\n<p>I think it sends a interrupt signal to all threads in the JVM and HttpClient selmgr daemon does pick this up and shutdown itself.</p>\n<pre><code>final class HttpClientImpl extends HttpClient implements Trackable {\n    ...\n    // Main loop for this client's selector\n    private final static class SelectorManager extends Thread {\n        ...\n        @Override\n        public void run() {\n            ...\n            try {\n                ...\n                while (!Thread.currentThread().isInterrupted()) {...}\n            } catch (Throwable e) {...}\n            finally {\n                ...\n                shutdown();\n            }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7611917,"reputation":2415,"user_id":5772498,"display_name":"Stefan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1658401655,"creation_date":1658401655,"answer_id":73065123,"question_id":53919721,"body_markdown":"This is a bit late, but I just want to highlight that the comment from Jacob G. (Dec 25, 2018) contained a solution that worked for me:\r\n\r\nCreating the httpClient:\r\n\r\n    myExecutorService = Executors.newCachedThreadPool();\r\n    HttpClient myHttpClient = HttpClient.newBuilder() \r\n        .executor(executor) \r\n        ....\r\n        .build();\r\n\r\nShutting down:\r\n\r\n    myExecutorService.shutDown();\r\n\r\nInstead of having to wait for 90 seconds for the client to drop its connection, it happened &quot;instantly&quot;.\r\n\r\n\r\n","title":"Close Java HTTP Client","body":"<p>This is a bit late, but I just want to highlight that the comment from Jacob G. (Dec 25, 2018) contained a solution that worked for me:</p>\n<p>Creating the httpClient:</p>\n<pre><code>myExecutorService = Executors.newCachedThreadPool();\nHttpClient myHttpClient = HttpClient.newBuilder() \n    .executor(executor) \n    ....\n    .build();\n</code></pre>\n<p>Shutting down:</p>\n<pre><code>myExecutorService.shutDown();\n</code></pre>\n<p>Instead of having to wait for 90 seconds for the client to drop its connection, it happened &quot;instantly&quot;.</p>\n"},{"tags":[],"owner":{"account_id":16983571,"reputation":348,"user_id":12284870,"display_name":"Yonas"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1687859076,"creation_date":1687857630,"answer_id":76563407,"question_id":53919721,"body_markdown":"As per Java 21, `HttpClient` implements `AutoCloseable`. It also gains the methods `shutdown()`, `shutdownNow()` and `awaitTermination()`, which work similarly to the same-named methods on `ExecutorService`.\r\n\r\n`shutdownNow()` should fill your needs.","title":"Close Java HTTP Client","body":"<p>As per Java 21, <code>HttpClient</code> implements <code>AutoCloseable</code>. It also gains the methods <code>shutdown()</code>, <code>shutdownNow()</code> and <code>awaitTermination()</code>, which work similarly to the same-named methods on <code>ExecutorService</code>.</p>\n<p><code>shutdownNow()</code> should fill your needs.</p>\n"}],"owner":{"account_id":2839907,"reputation":4214,"user_id":2439721,"display_name":"Vladimir Petrakovich"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":17457,"favorite_count":0,"down_vote_count":0,"up_vote_count":29,"answer_count":7,"score":29,"last_activity_date":1687859076,"creation_date":1545717496,"question_id":53919721,"body_markdown":"Is there a way to close `java.net.http.HttpClient` to instantly release resources held by it?\r\n\r\nInternally it holds a selector, a connection pool and an `Executor` (when default one is used). However it does not implement `Closeable`/`AutoCloseable`.","title":"Close Java HTTP Client","body":"<p>Is there a way to close <code>java.net.http.HttpClient</code> to instantly release resources held by it?</p>\n\n<p>Internally it holds a selector, a connection pool and an <code>Executor</code> (when default one is used). However it does not implement <code>Closeable</code>/<code>AutoCloseable</code>.</p>\n"},{"tags":["java"],"owner":{"account_id":28879827,"reputation":1,"user_id":22119523,"display_name":"Dinesh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687858794,"creation_date":1687518693,"question_id":76539542,"body_markdown":"private String applyRuleTemplate(DiscountObject discountObject, List&lt;RuleSet&gt; ruleSets) throws Exception {\r\n\t\tObjectDataCompiler objectDataCompiler = new ObjectDataCompiler();\r\n\r\n\t\tList&lt;Map&lt;String, Object&gt;&gt; dataList = new ArrayList&lt;&gt;();\r\n\t\tfor (RuleSet ruleSet : ruleSets) {\r\n\r\n\t\t\tMap&lt;String, Object&gt; data = new HashMap&lt;&gt;();\r\n\t\t\tdata.put(&quot;ruleSet&quot;, ruleSet.getRuleGroupString());\r\n\t\t\tdata.put(&quot;discountObject&quot;, discountObject.getClass().getName());\r\n\t\t\tdata.put(&quot;outCome&quot;, ruleSet.getOutCome());\r\n\r\n\t\t\t// dataList = Arrays.asList(data);\r\n\t\t\tdataList.add(data);\r\n\t\t}\r\n\t\tString strRet = objectDataCompiler.compile(dataList,\r\n\t\t\t\tThread.currentThread().getContextClassLoader().getResourceAsStream(&quot;ruleSet-template.drl&quot;));\r\n\t\treturn strRet;\r\n\t}\r\nKieContainer kieContainer = kieServices.newKieContainer(kieServices.getRepository().getDefaultReleaseId());\r\n\t\tStatelessKieSession statelessKieSession = kieContainer.getKieBase().newStatelessKieSession();\r\n\r\n\t\t DiscountOutComeObject discountOutcomeObject = new DiscountOutComeObject();\t\r\n\t\t\t\tstatelessKieSession.getGlobals().set(&quot;ruleSet&quot;, ruleSet);\r\n\t\t\t\tstatelessKieSession.getGlobals().set(&quot;discountOutcomeObject&quot;, discountOutcomeObject);\r\n\t\t\t\tstatelessKieSession.getGlobals().set(&quot;map&quot;, map);\r\n\t\t\t\tstatelessKieSession.execute(Arrays.asList(discountObject,discountOutcomeObject));\r\n\t\t\t\r\n\t\tdiscountOutcomeObject = (DiscountOutComeObject) map.get(&quot;discountOutcomeObject&quot;);\r\n\r\n\r\nI have been able to generate the DRL file dynamically using a template and populate the &quot;when&quot; section with the desired conditions. However, I&#39;m facing difficulties in setting values dynamically in the &quot;then&quot; section of the ruleSet.\r\nMy template file","title":"Creating a dynamic DRL file with multiple &quot;when&quot;, &quot;then&quot;, and &quot;end&quot; sections and setting values in the &quot;then&quot; section dynamically","body":"<p>private String applyRuleTemplate(DiscountObject discountObject, List ruleSets) throws Exception {\nObjectDataCompiler objectDataCompiler = new ObjectDataCompiler();</p>\n<pre><code>    List&lt;Map&lt;String, Object&gt;&gt; dataList = new ArrayList&lt;&gt;();\n    for (RuleSet ruleSet : ruleSets) {\n\n        Map&lt;String, Object&gt; data = new HashMap&lt;&gt;();\n        data.put(&quot;ruleSet&quot;, ruleSet.getRuleGroupString());\n        data.put(&quot;discountObject&quot;, discountObject.getClass().getName());\n        data.put(&quot;outCome&quot;, ruleSet.getOutCome());\n\n        // dataList = Arrays.asList(data);\n        dataList.add(data);\n    }\n    String strRet = objectDataCompiler.compile(dataList,\n            Thread.currentThread().getContextClassLoader().getResourceAsStream(&quot;ruleSet-template.drl&quot;));\n    return strRet;\n}\n</code></pre>\n<p>KieContainer kieContainer = kieServices.newKieContainer(kieServices.getRepository().getDefaultReleaseId());\nStatelessKieSession statelessKieSession = kieContainer.getKieBase().newStatelessKieSession();</p>\n<pre><code>     DiscountOutComeObject discountOutcomeObject = new DiscountOutComeObject(); \n            statelessKieSession.getGlobals().set(&quot;ruleSet&quot;, ruleSet);\n            statelessKieSession.getGlobals().set(&quot;discountOutcomeObject&quot;, discountOutcomeObject);\n            statelessKieSession.getGlobals().set(&quot;map&quot;, map);\n            statelessKieSession.execute(Arrays.asList(discountObject,discountOutcomeObject));\n        \n    discountOutcomeObject = (DiscountOutComeObject) map.get(&quot;discountOutcomeObject&quot;);\n</code></pre>\n<p>I have been able to generate the DRL file dynamically using a template and populate the &quot;when&quot; section with the desired conditions. However, I'm facing difficulties in setting values dynamically in the &quot;then&quot; section of the ruleSet.\nMy template file</p>\n"},{"tags":["java","quarkus","vertx-eventbus"],"comments":[{"owner":{"account_id":1276303,"reputation":2937,"user_id":1231484,"display_name":"Clement"},"score":1,"creation_date":1687876670,"post_id":76563540,"comment_id":134996466,"body_markdown":"@ConsumerEvent addresses cannot come from the configuration. They must be defined explicitly. Can you open an issue about it? This is something we can add.","body":"@ConsumerEvent addresses cannot come from the configuration. They must be defined explicitly. Can you open an issue about it? This is something we can add."}],"owner":{"account_id":6377538,"reputation":829,"user_id":4948006,"accept_rate":100,"display_name":"A M"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":96,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687858736,"creation_date":1687858736,"question_id":76563540,"body_markdown":"In application.properties I set the address name of the EventBus, as follows:\r\n\r\n    event-bus.channel = persist\r\n\r\nIn my consumer class, I defined the method consuming the message, with ConsumeEvent annotation:\r\n\r\n    @ApplicationScoped\r\n    @Slf4j\r\n    public class MyConsumer {\r\n        @ConsumeEvent(&quot;{event-bus.channel}&quot;)\r\n        public void consumeMessage(String message){\r\n            log.debug(&quot;Received a message: &quot; + message);\r\n        }\r\n    }\r\n\r\n\r\nThe address is not set as &quot;persist&quot;, because the consumer does not receive any message from the producer.\r\n\r\nIf I change the annotation as\r\n\r\n    @ConsumeEvent(&quot;persist&quot;)\r\nthe consumer can receive messages.\r\n\r\nI also tried change the annotation as\r\n\r\n    @ConsumeEvent(ConfigProvider.getConfig().getValue(&quot;event-bus.channel&quot;, String.class))\r\n\r\nbut it does not work, because the parameter must be a constant.\r\n\r\n\r\nHow can I set the address in the annotation with a property defined in application.properties?","title":"Quarkus EventBus - Set address of ConsumeEvent","body":"<p>In application.properties I set the address name of the EventBus, as follows:</p>\n<pre><code>event-bus.channel = persist\n</code></pre>\n<p>In my consumer class, I defined the method consuming the message, with ConsumeEvent annotation:</p>\n<pre><code>@ApplicationScoped\n@Slf4j\npublic class MyConsumer {\n    @ConsumeEvent(&quot;{event-bus.channel}&quot;)\n    public void consumeMessage(String message){\n        log.debug(&quot;Received a message: &quot; + message);\n    }\n}\n</code></pre>\n<p>The address is not set as &quot;persist&quot;, because the consumer does not receive any message from the producer.</p>\n<p>If I change the annotation as</p>\n<pre><code>@ConsumeEvent(&quot;persist&quot;)\n</code></pre>\n<p>the consumer can receive messages.</p>\n<p>I also tried change the annotation as</p>\n<pre><code>@ConsumeEvent(ConfigProvider.getConfig().getValue(&quot;event-bus.channel&quot;, String.class))\n</code></pre>\n<p>but it does not work, because the parameter must be a constant.</p>\n<p>How can I set the address in the annotation with a property defined in application.properties?</p>\n"},{"tags":["java","serialization","instance"],"answers":[{"tags":[],"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1687793899,"creation_date":1687793899,"answer_id":76558203,"question_id":76557744,"body_markdown":"You&#39;ll need to perform some deserialization post-processing by creating a `readObject` method. I&#39;d also make the id field transient, as there&#39;s no need to serialize it if you&#39;re going to replace it.\r\n\r\n```\r\npublic class Human implements Serializable {\r\n    private static final AtomicLong nextId = new AtomicLong(1);\r\n\r\n    private transient long id;\r\n    private String name;\r\n\r\n    public Human(String name) {\r\n        this.name = name;\r\n        this.id = nextId.getAndIncrement();\r\n    }\r\n\r\n    public long id() {\r\n        return id;\r\n    }\r\n\r\n    public String name() {\r\n        return name;\r\n    }\r\n\r\n    public String toString() {\r\n        return id + &quot;: &quot; + name;\r\n    }\r\n\r\n    private void readObject(ObjectInputStream stream) throws IOException, ClassNotFoundException {\r\n        stream.\tdefaultReadObject();\r\n        id = nextId.getAndIncrement();\r\n    }\r\n}\r\n```\r\n\r\nNote how I removed the `id` parameter from the constructor; that prevents creating humans with random ids.","title":"Java Serialization and unique ID of objects","body":"<p>You'll need to perform some deserialization post-processing by creating a <code>readObject</code> method. I'd also make the id field transient, as there's no need to serialize it if you're going to replace it.</p>\n<pre><code>public class Human implements Serializable {\n    private static final AtomicLong nextId = new AtomicLong(1);\n\n    private transient long id;\n    private String name;\n\n    public Human(String name) {\n        this.name = name;\n        this.id = nextId.getAndIncrement();\n    }\n\n    public long id() {\n        return id;\n    }\n\n    public String name() {\n        return name;\n    }\n\n    public String toString() {\n        return id + &quot;: &quot; + name;\n    }\n\n    private void readObject(ObjectInputStream stream) throws IOException, ClassNotFoundException {\n        stream. defaultReadObject();\n        id = nextId.getAndIncrement();\n    }\n}\n</code></pre>\n<p>Note how I removed the <code>id</code> parameter from the constructor; that prevents creating humans with random ids.</p>\n"},{"tags":[],"owner":{"account_id":25101919,"reputation":7,"user_id":18952539,"display_name":"michalbarnat"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687858681,"creation_date":1687858681,"answer_id":76563530,"question_id":76557744,"body_markdown":"Ok, it works well. But what if:\r\n\r\n1) I add to my list 15 elements. (id from 1 to 15)\r\n2) Then I delete 12 elements (now I have only id: 2, 7 and 13)\r\n3) Serialize it and deserialized in other main\r\n\r\n4) Now when I create new Object in other main I wanna have next id 16, not 1,2(duplicate),3...etc\r\n\r\nHow to implement this? \r\n","title":"Java Serialization and unique ID of objects","body":"<p>Ok, it works well. But what if:</p>\n<ol>\n<li><p>I add to my list 15 elements. (id from 1 to 15)</p>\n</li>\n<li><p>Then I delete 12 elements (now I have only id: 2, 7 and 13)</p>\n</li>\n<li><p>Serialize it and deserialized in other main</p>\n</li>\n<li><p>Now when I create new Object in other main I wanna have next id 16, not 1,2(duplicate),3...etc</p>\n</li>\n</ol>\n<p>How to implement this?</p>\n"}],"owner":{"account_id":25101919,"reputation":7,"user_id":18952539,"display_name":"michalbarnat"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":111,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76558203,"answer_count":2,"score":0,"last_activity_date":1687858681,"creation_date":1687790566,"question_id":76557744,"body_markdown":"I have class that have automatically generated id (instance number) for every object. I need serialized this, then deserialized. Simply done.\r\nBut the thing is that after deserialization and create new object, this new object should have id higher than highest id from objects before serialization.\r\n\r\nFor example:\r\nI have List of 3 Human(name, automatically generated id):\r\n\r\n`List&lt;Human&gt; list = new ArrayList&lt;&gt;();\r\nlist.add(new Human(&quot;Mike&quot;, 1));\r\nlist.add(new Human(&quot;Lisa&quot;, 2));\r\nlist.add(new Human (&quot;Monica&quot;, 3));`\r\n\r\nThen serialized List&lt;Human&gt; list and deserialized in Main2.\r\nAfter that I wanna create next Human and this next Human should have id 4.\r\n\r\nHow to let know for deserialized List what&#39;s the highest id ?\r\n\r\nI tried to store max id in static field but I can&#39;t access it after serialization (static is default transient)","title":"Java Serialization and unique ID of objects","body":"<p>I have class that have automatically generated id (instance number) for every object. I need serialized this, then deserialized. Simply done.\nBut the thing is that after deserialization and create new object, this new object should have id higher than highest id from objects before serialization.</p>\n<p>For example:\nI have List of 3 Human(name, automatically generated id):</p>\n<p><code>List&lt;Human&gt; list = new ArrayList&lt;&gt;(); list.add(new Human(&quot;Mike&quot;, 1)); list.add(new Human(&quot;Lisa&quot;, 2)); list.add(new Human (&quot;Monica&quot;, 3));</code></p>\n<p>Then serialized List list and deserialized in Main2.\nAfter that I wanna create next Human and this next Human should have id 4.</p>\n<p>How to let know for deserialized List what's the highest id ?</p>\n<p>I tried to store max id in static field but I can't access it after serialization (static is default transient)</p>\n"},{"tags":["java","android","android-lvl"],"comments":[{"owner":{"account_id":468095,"reputation":40996,"user_id":873875,"display_name":"yorkw"},"score":0,"creation_date":1354412033,"post_id":13664857,"comment_id":18755726,"body_markdown":"First, you need build and upload the new apk with version incremented **after** incrementing the versionCode from 2 to 3, this will solve ERROR_NOT_MARKET_MANAGED error. More details about ERROR_NOT_MARKET_MANAGED see [here](http://stackoverflow.com/questions/10377325/how-do-you-deal-with-licensecheckercallback-error-not-market-managed-error-code/10377653#10377653). Second, You may need clear cache in stock Google Play on the phone (Settings -&gt; Applications), as it is usually cache the license data for some period.","body":"First, you need build and upload the new apk with version incremented <b>after</b> incrementing the versionCode from 2 to 3, this will solve ERROR_NOT_MARKET_MANAGED error. More details about ERROR_NOT_MARKET_MANAGED see <a href=\"http://stackoverflow.com/questions/10377325/how-do-you-deal-with-licensecheckercallback-error-not-market-managed-error-code/10377653#10377653\">here</a>. Second, You may need clear cache in stock Google Play on the phone (Settings -&gt; Applications), as it is usually cache the license data for some period."},{"owner":{"account_id":2101975,"reputation":83,"user_id":1869352,"display_name":"Paul"},"score":0,"creation_date":1354414262,"post_id":13664857,"comment_id":18756066,"body_markdown":"I forgot to mention that I have already tried clearing the cache (even the &#39;delete all data&#39; option). I can&#39;t publish the app until I&#39;ve tested the licensing code, so uploading it doesn&#39;t matter. It says in the documentation that the server will send back an ERROR_NOT_MARKET_MANAGED error if the versionCode is higher than the currently published versionCode.  This is my dilemma, I can&#39;t publish the app until I test the licensing code, and the **licensing server is not sending the static test response code that I set in the developer console**. I test with versionCode=2 and I get NOT_LICENSED.","body":"I forgot to mention that I have already tried clearing the cache (even the &#39;delete all data&#39; option). I can&#39;t publish the app until I&#39;ve tested the licensing code, so uploading it doesn&#39;t matter. It says in the documentation that the server will send back an ERROR_NOT_MARKET_MANAGED error if the versionCode is higher than the currently published versionCode.  This is my dilemma, I can&#39;t publish the app until I test the licensing code, and the <b>licensing server is not sending the static test response code that I set in the developer console</b>. I test with versionCode=2 and I get NOT_LICENSED."},{"owner":{"account_id":468095,"reputation":40996,"user_id":873875,"display_name":"yorkw"},"score":0,"creation_date":1354415059,"post_id":13664857,"comment_id":18756158,"body_markdown":"If this is the first version with LVL integrated. You **must** upload (Note that Upload != Publish) the apk with incremented version code into Developer Console. The complete procedure: implement LVL -&gt; increment version code/name -&gt; build apk with release key -&gt; upload apk into developer console, and from here, you can do licensing test before hitting the Publish button to actually publish you new apk version.","body":"If this is the first version with LVL integrated. You <b>must</b> upload (Note that Upload != Publish) the apk with incremented version code into Developer Console. The complete procedure: implement LVL -&gt; increment version code/name -&gt; build apk with release key -&gt; upload apk into developer console, and from here, you can do licensing test before hitting the Publish button to actually publish you new apk version."},{"owner":{"account_id":468095,"reputation":40996,"user_id":873875,"display_name":"yorkw"},"score":0,"creation_date":1354415460,"post_id":13664857,"comment_id":18756205,"body_markdown":"You shouldn&#39;t upload two apk with the same version code into Developer console, especially when there are code changes (says implementing LVL) between them, this confuses the Developer Console which one has the LVL implemented when trying to serve the license test request.","body":"You shouldn&#39;t upload two apk with the same version code into Developer console, especially when there are code changes (says implementing LVL) between them, this confuses the Developer Console which one has the LVL implemented when trying to serve the license test request."},{"owner":{"account_id":2101975,"reputation":83,"user_id":1869352,"display_name":"Paul"},"score":0,"creation_date":1354416780,"post_id":13664857,"comment_id":18756390,"body_markdown":"I&#39;ve tried this and it still gives me an  ERROR_NOT_MARKET_MANAGED error.  I&#39;ve uploaded the app and saved it, with the new versionCode and everything, but it is still not returning the test response code that I set in the console.  Note that the APK with versionCode = 2 is active and published.  I can&#39;t unpublish the app while I test this code.","body":"I&#39;ve tried this and it still gives me an  ERROR_NOT_MARKET_MANAGED error.  I&#39;ve uploaded the app and saved it, with the new versionCode and everything, but it is still not returning the test response code that I set in the console.  Note that the APK with versionCode = 2 is active and published.  I can&#39;t unpublish the app while I test this code."},{"owner":{"account_id":468095,"reputation":40996,"user_id":873875,"display_name":"yorkw"},"score":0,"creation_date":1354418878,"post_id":13664857,"comment_id":18756667,"body_markdown":"You don&#39;t need unpublish anything for testing newly uploaded APK. Make sure the one installed on the actual device is the same apk (LVL with incremented version code) you uploaded.","body":"You don&#39;t need unpublish anything for testing newly uploaded APK. Make sure the one installed on the actual device is the same apk (LVL with incremented version code) you uploaded."},{"owner":{"account_id":208549,"reputation":3020,"user_id":459095,"accept_rate":69,"display_name":"AutoM8R"},"score":0,"creation_date":1357366834,"post_id":13664857,"comment_id":19632507,"body_markdown":"I&#39;m having this exact problem, no solutions have worked for me either so far!!","body":"I&#39;m having this exact problem, no solutions have worked for me either so far!!"}],"answers":[{"tags":[],"owner":{"account_id":2078934,"reputation":2332,"user_id":1851478,"accept_rate":50,"display_name":"logray"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1354425687,"creation_date":1354425687,"answer_id":13666668,"question_id":13664857,"body_markdown":"I&#39;ve spent hours and even days with the same problem, it is documented here and elsewhere, that pre-published license test is hit and miss, and more miss than hit from what I discovered.\r\n\r\nThe only way I&#39;ve found to make it work &quot;more reliably&quot; (but still not totally reliable) is to have a hardware device that is a reset to factory defaults, then set it&#39;s PRIMARY google user as the same one as your dev account that has the app uploaded to test with.\r\n\r\nThe special AVDs are also not very reliable.","title":"Android License Test Response - Never works","body":"<p>I've spent hours and even days with the same problem, it is documented here and elsewhere, that pre-published license test is hit and miss, and more miss than hit from what I discovered.</p>\n\n<p>The only way I've found to make it work \"more reliably\" (but still not totally reliable) is to have a hardware device that is a reset to factory defaults, then set it's PRIMARY google user as the same one as your dev account that has the app uploaded to test with.</p>\n\n<p>The special AVDs are also not very reliable.</p>\n"},{"tags":[],"owner":{"account_id":1843587,"reputation":102,"user_id":1672482,"display_name":"Stang Texan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1361404749,"creation_date":1361404749,"answer_id":14992242,"question_id":13664857,"body_markdown":"I have the same problem when testing using LVL library. I always get the 561 (0x231 NOT_LICENSED) response no matter what I set the License Test Response to in the settings page.\r\n\r\nMy paid app users don&#39;t seem to complain so I&#39;m assuming LVL is working for them. \r\n\r\nAt first one of my apps had this problem and it went away after 1 day (published Dec 30 2012), now I get valid test response in that app. \r\n\r\nHowever, I still get the 561 (0x231 NOT_LICENSED) response for a newer app (published Jan 31 2013)\r\n\r\nSo now I just comment out (disable the alert dialog code that pops up for 561) after I publish the APK and continue my development for the next release.\r\n\r\nI un-comment (enable the alert dialog code) before I publish again!\r\n\r\nI contacted Google Play, they referred me to their developer forums. I posted the same question there but then I can&#39;t find my post.\r\n\r\nGood to know that I&#39;m not the only one facing this problem.","title":"Android License Test Response - Never works","body":"<p>I have the same problem when testing using LVL library. I always get the 561 (0x231 NOT_LICENSED) response no matter what I set the License Test Response to in the settings page.</p>\n\n<p>My paid app users don't seem to complain so I'm assuming LVL is working for them. </p>\n\n<p>At first one of my apps had this problem and it went away after 1 day (published Dec 30 2012), now I get valid test response in that app. </p>\n\n<p>However, I still get the 561 (0x231 NOT_LICENSED) response for a newer app (published Jan 31 2013)</p>\n\n<p>So now I just comment out (disable the alert dialog code that pops up for 561) after I publish the APK and continue my development for the next release.</p>\n\n<p>I un-comment (enable the alert dialog code) before I publish again!</p>\n\n<p>I contacted Google Play, they referred me to their developer forums. I posted the same question there but then I can't find my post.</p>\n\n<p>Good to know that I'm not the only one facing this problem.</p>\n"},{"tags":[],"owner":{"account_id":3370172,"reputation":31,"user_id":2829580,"display_name":"rainman333"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1405117806,"creation_date":1405117806,"answer_id":24707570,"question_id":13664857,"body_markdown":"I had the same issue but was able to resolve it. Here are the things I did to fix:\r\n1) on my device, I removed all google accounts except the test account I had configured for. Apparently, play store was still trying to use a non testing account.\r\n\r\n2) I had to activate test status for my developer account even though I&#39;m the main developer and only tester.\r\n\r\nthe version increment thing did not help and honestly was a distraction.....","title":"Android License Test Response - Never works","body":"<p>I had the same issue but was able to resolve it. Here are the things I did to fix:\n1) on my device, I removed all google accounts except the test account I had configured for. Apparently, play store was still trying to use a non testing account.</p>\n\n<p>2) I had to activate test status for my developer account even though I'm the main developer and only tester.</p>\n\n<p>the version increment thing did not help and honestly was a distraction.....</p>\n"},{"tags":[],"owner":{"account_id":15140618,"reputation":240,"user_id":10925714,"display_name":"Joel Butler"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671652307,"creation_date":1671652307,"answer_id":74881140,"question_id":13664857,"body_markdown":"Not sure I am adding anything new but having similar problems and frustrations at what-should-be-happening vs what-is-happening I&#39;ll offer up this which seemed to work: 1) remove all of the users in the Play Console&#39;s license testing list of users; 2) whatever device you are testing remove all of the Google accounts; 3) on that same device create a new, unique Google account (e.g., iamalicensetester@gmail.com); 4) add that Google account to the Play Console license testing list of users.\r\n\r\nWhat I think might be happening is that if you have more than one account on a device and one of them is licensed then a non-licensed account of that same device (or other devices) will inherit that characteristic. This idea of mine is just a model (all models are wrong, but some are useful) to (mostly) allow me to get back to the work of testing...and (partially) to have some way to explain this nonsense to myself.\r\n\r\nI did try most of the things mentioned above...clearing the cache, the storage, etc. -- you&#39;d think that Google would want a better facility with dashboarding but don&#39;t know if that is even on their radar. I mean, revenue, right?","title":"Android License Test Response - Never works","body":"<p>Not sure I am adding anything new but having similar problems and frustrations at what-should-be-happening vs what-is-happening I'll offer up this which seemed to work: 1) remove all of the users in the Play Console's license testing list of users; 2) whatever device you are testing remove all of the Google accounts; 3) on that same device create a new, unique Google account (e.g., iamalicensetester@gmail.com); 4) add that Google account to the Play Console license testing list of users.</p>\n<p>What I think might be happening is that if you have more than one account on a device and one of them is licensed then a non-licensed account of that same device (or other devices) will inherit that characteristic. This idea of mine is just a model (all models are wrong, but some are useful) to (mostly) allow me to get back to the work of testing...and (partially) to have some way to explain this nonsense to myself.</p>\n<p>I did try most of the things mentioned above...clearing the cache, the storage, etc. -- you'd think that Google would want a better facility with dashboarding but don't know if that is even on their radar. I mean, revenue, right?</p>\n"},{"tags":[],"owner":{"account_id":11445074,"reputation":548,"user_id":8389251,"display_name":"Antares"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687858390,"creation_date":1687858390,"answer_id":76563499,"question_id":13664857,"body_markdown":"I also encountered this problem and I am giving here some advices that can help you to solve it:\r\n\r\n1. Clearing Google Play cache -&gt; **doesn&#39;t matter**\r\n2. Take care of your app&#39;s **signing keys**:\r\n- If you upload you app to Play store you must sign it with a key - ensure this is the same key that the app you&#39;re debugging is signed also\r\n3. In Play console there are 2 places you can configure test responses - &quot;**Test licenses**&quot; section for all apps and &quot;**App integrity**&quot; section under app specific page. My experiments lead me to conclusion that &quot;App integrity&quot; settings **have higher priority over general settings for all apps** and even more: general settings just don&#39;t work. Setting it to licensed/not licensed always return not licensed if integrity test weren&#39;t set. However if they existed, response followed them (not those from general section)\r\n\r\nNote: App integrity settings come from Integrity Developer API that has to be turn on","title":"Android License Test Response - Never works","body":"<p>I also encountered this problem and I am giving here some advices that can help you to solve it:</p>\n<ol>\n<li>Clearing Google Play cache -&gt; <strong>doesn't matter</strong></li>\n<li>Take care of your app's <strong>signing keys</strong>:</li>\n</ol>\n<ul>\n<li>If you upload you app to Play store you must sign it with a key - ensure this is the same key that the app you're debugging is signed also</li>\n</ul>\n<ol start=\"3\">\n<li>In Play console there are 2 places you can configure test responses - &quot;<strong>Test licenses</strong>&quot; section for all apps and &quot;<strong>App integrity</strong>&quot; section under app specific page. My experiments lead me to conclusion that &quot;App integrity&quot; settings <strong>have higher priority over general settings for all apps</strong> and even more: general settings just don't work. Setting it to licensed/not licensed always return not licensed if integrity test weren't set. However if they existed, response followed them (not those from general section)</li>\n</ol>\n<p>Note: App integrity settings come from Integrity Developer API that has to be turn on</p>\n"}],"owner":{"account_id":2101975,"reputation":83,"user_id":1869352,"display_name":"Paul"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6366,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":13666668,"answer_count":5,"score":8,"last_activity_date":1687858390,"creation_date":1354404831,"question_id":13664857,"body_markdown":"I&#39;ve been working on an Android App that has already been published to Google Play.  For the next update (versionCode = 3) my client wants to include the LVL licensing scheme.\r\n\r\nThe first thing I did was set up a static test response from the licensing server.  I set the test response to &lt;b&gt;LICENSED&lt;/b&gt;.  After reading this in the documentation:\r\n\r\n&gt;This License Test Response will be sent to devices using [my email address]\r\n&gt;or the Test Accounts listed above for applications you have uploaded to Google Play. &gt;Additionally, this account (but not the Test Accounts) will receive this response for &gt;applications that have not yet been uploaded to Google Play.\r\n\r\nI thought, not a problem, since my developer account email is the same as my Google Play account email on my testing devices.  So I should receive the test response when debugging the App.\r\n\r\nAfter that, I read through all the other licensing documentation and sample code and integrated it into the App.  I used a &lt;b&gt;ServerManagedPolicy&lt;/b&gt; with the correct base64 public key and 20 random generated bytes as the salt.\r\n\r\nOnce everything looked good I uploaded it to the device to test it, but instead of receiving the &lt;b&gt;LICENSED&lt;/b&gt; response that I expected, I am &lt;i&gt;always&lt;/i&gt; receiving a &lt;b&gt;NOT_LICENSED&lt;/b&gt; response.  I went back and made sure that:\r\n\r\n1. I was connected to the internet.\r\n2. I was signed in to my developer account on Google Play.\r\n3. The LicenseChecker was using the correct public key.\r\n4. Clearing my Google Play cache.\r\n\r\nAt first, I thought maybe it had something to do with the caching, so I tried using a &lt;b&gt;StrictPolicy&lt;/b&gt; instead.  Same response.  Since I haven&#39;t purchased the App from the store, I&#39;m under the impression that the licensing server is &lt;i&gt;responding normally instead of sending the static test response&lt;/i&gt;.  Here are some other things I have tried:\r\n\r\n1. Waiting 24 hours and trying again.\r\n2. Tried building the App with the android debug key, as well as the current distribution key.\r\n3. Setting up and using a different test user account on Google Play.  I made sure to add this email account to the &#39;Test accounts&#39; section in the developer console.\r\n4. Uploading the APK to Google Play, but not publishing it.\r\n5. Incrementing the versionCode from 2 to 3.  &lt;i&gt;This is interesting, because instead of responding &lt;b&gt;NOT_LICENSED&lt;/b&gt; it returns the &#39;application error code&#39; &lt;b&gt;ERROR_NOT_MARKET_MANAGED&lt;/b&gt;&lt;/i&gt;.\r\n\r\nThis leads me to believe that the license server is always responding normally, instead of sending the static test response I set up to my developer account.  I have a feeling it may be because the App is already published, but I cannot risk publishing a debug build just to test wether or not it is working.\r\n\r\nHas anyone been in this situation before?  Any help is greatly appreciated.\r\n","title":"Android License Test Response - Never works","body":"<p>I've been working on an Android App that has already been published to Google Play.  For the next update (versionCode = 3) my client wants to include the LVL licensing scheme.</p>\n\n<p>The first thing I did was set up a static test response from the licensing server.  I set the test response to <b>LICENSED</b>.  After reading this in the documentation:</p>\n\n<blockquote>\n  <p>This License Test Response will be sent to devices using [my email address]\n  or the Test Accounts listed above for applications you have uploaded to Google Play. >Additionally, this account (but not the Test Accounts) will receive this response for >applications that have not yet been uploaded to Google Play.</p>\n</blockquote>\n\n<p>I thought, not a problem, since my developer account email is the same as my Google Play account email on my testing devices.  So I should receive the test response when debugging the App.</p>\n\n<p>After that, I read through all the other licensing documentation and sample code and integrated it into the App.  I used a <b>ServerManagedPolicy</b> with the correct base64 public key and 20 random generated bytes as the salt.</p>\n\n<p>Once everything looked good I uploaded it to the device to test it, but instead of receiving the <b>LICENSED</b> response that I expected, I am <i>always</i> receiving a <b>NOT_LICENSED</b> response.  I went back and made sure that:</p>\n\n<ol>\n<li>I was connected to the internet.</li>\n<li>I was signed in to my developer account on Google Play.</li>\n<li>The LicenseChecker was using the correct public key.</li>\n<li>Clearing my Google Play cache.</li>\n</ol>\n\n<p>At first, I thought maybe it had something to do with the caching, so I tried using a <b>StrictPolicy</b> instead.  Same response.  Since I haven't purchased the App from the store, I'm under the impression that the licensing server is <i>responding normally instead of sending the static test response</i>.  Here are some other things I have tried:</p>\n\n<ol>\n<li>Waiting 24 hours and trying again.</li>\n<li>Tried building the App with the android debug key, as well as the current distribution key.</li>\n<li>Setting up and using a different test user account on Google Play.  I made sure to add this email account to the 'Test accounts' section in the developer console.</li>\n<li>Uploading the APK to Google Play, but not publishing it.</li>\n<li>Incrementing the versionCode from 2 to 3.  <i>This is interesting, because instead of responding <b>NOT_LICENSED</b> it returns the 'application error code' <b>ERROR_NOT_MARKET_MANAGED</b></i>.</li>\n</ol>\n\n<p>This leads me to believe that the license server is always responding normally, instead of sending the static test response I set up to my developer account.  I have a feeling it may be because the App is already published, but I cannot risk publishing a debug build just to test wether or not it is working.</p>\n\n<p>Has anyone been in this situation before?  Any help is greatly appreciated.</p>\n"},{"tags":["java","android","android-studio","android-activity","logcat"],"answers":[{"tags":[],"owner":{"account_id":24997503,"reputation":448,"user_id":18858169,"display_name":"Bhavin Solanki"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1687857580,"creation_date":1687857580,"answer_id":76563397,"question_id":76562187,"body_markdown":"**Make sure you have to update your studio at latest version. but still you can check from below points.**\r\n\r\n1) **Check log level and filters**: Make sure that the log level in the Logcat toolbar is set to &quot;Error&quot; or &quot;Verbose&quot; to capture all log messages, including errors and crashes. Also, ensure that no specific package name or log message filters are applied that might exclude the crash logs.\r\n\r\n2) **Increase log buffer size**: The crash logs might be getting truncated if the log buffer size is not sufficient. Click on the gear icon in the Logcat toolbar and increase the &quot;Maximum number of logcat messages to buffer&quot; setting to a higher value. This allows more log messages, including crash logs, to be retained and displayed.\r\n\r\n3) **Enable strict mode**: Enable strict mode in your app&#39;s development configuration. Strict mode helps detect and report potential issues and violations in your code that might cause crashes. It can provide additional logging and information about potential problems that may not be captured in the regular logcat.\r\n\r\n4) **Check exception handling**: Ensure that you have proper exception handling in your code. Unhandled exceptions might cause the app to crash without generating explicit logcat messages. Implement try-catch blocks or global exception handlers to capture and log any unhandled exceptions.\r\n\r\n5) **Check ProGuard settings**: If you&#39;re using ProGuard for code obfuscation and minification, ensure that you have configured the ProGuard rules correctly. ProGuard might obfuscate class or method names related to crash reporting, causing the logs to be less informative or missing important details. Review the ProGuard rules to preserve necessary crash reporting classes or disable obfuscation for them.\r\n\r\n6) **Test on a physical device**: Sometimes, when testing on an emulator, log messages related to crashes may not be displayed in Logcat. Try testing your app on a physical device to see if the crash logs are captured properly.\r\n\r\n7) **Update Android Studio and SDK tools**: Ensure that you are using the latest version of Android Studio and SDK tools. Outdated versions might have bugs or limitations that affect logcat functionality. Update to the latest stable release to benefit from bug fixes and improvements.\r\n\r\n\r\n**Also try for debug step by step and check your crash.**","title":"Android studio it is giving an error in line 35 not exactly showing what error logcat just directs to line 35","body":"<p><strong>Make sure you have to update your studio at latest version. but still you can check from below points.</strong></p>\n<ol>\n<li><p><strong>Check log level and filters</strong>: Make sure that the log level in the Logcat toolbar is set to &quot;Error&quot; or &quot;Verbose&quot; to capture all log messages, including errors and crashes. Also, ensure that no specific package name or log message filters are applied that might exclude the crash logs.</p>\n</li>\n<li><p><strong>Increase log buffer size</strong>: The crash logs might be getting truncated if the log buffer size is not sufficient. Click on the gear icon in the Logcat toolbar and increase the &quot;Maximum number of logcat messages to buffer&quot; setting to a higher value. This allows more log messages, including crash logs, to be retained and displayed.</p>\n</li>\n<li><p><strong>Enable strict mode</strong>: Enable strict mode in your app's development configuration. Strict mode helps detect and report potential issues and violations in your code that might cause crashes. It can provide additional logging and information about potential problems that may not be captured in the regular logcat.</p>\n</li>\n<li><p><strong>Check exception handling</strong>: Ensure that you have proper exception handling in your code. Unhandled exceptions might cause the app to crash without generating explicit logcat messages. Implement try-catch blocks or global exception handlers to capture and log any unhandled exceptions.</p>\n</li>\n<li><p><strong>Check ProGuard settings</strong>: If you're using ProGuard for code obfuscation and minification, ensure that you have configured the ProGuard rules correctly. ProGuard might obfuscate class or method names related to crash reporting, causing the logs to be less informative or missing important details. Review the ProGuard rules to preserve necessary crash reporting classes or disable obfuscation for them.</p>\n</li>\n<li><p><strong>Test on a physical device</strong>: Sometimes, when testing on an emulator, log messages related to crashes may not be displayed in Logcat. Try testing your app on a physical device to see if the crash logs are captured properly.</p>\n</li>\n<li><p><strong>Update Android Studio and SDK tools</strong>: Ensure that you are using the latest version of Android Studio and SDK tools. Outdated versions might have bugs or limitations that affect logcat functionality. Update to the latest stable release to benefit from bug fixes and improvements.</p>\n</li>\n</ol>\n<p><strong>Also try for debug step by step and check your crash.</strong></p>\n"}],"owner":{"account_id":21819281,"reputation":1,"user_id":16115699,"display_name":"sreelekha"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":70,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1687857580,"creation_date":1687847887,"question_id":76562187,"body_markdown":"\r\n\r\n```\r\npackage com.example.secondar;\r\n\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport androidx.recyclerview.widget.LinearLayoutManager;\r\nimport androidx.recyclerview.widget.RecyclerView;\r\n\r\nimport android.net.Uri;\r\nimport android.os.Bundle;\r\n\r\n\r\nimport android.view.View;\r\nimport android.widget.Button;\r\n\r\nimport com.google.ar.core.Anchor;\r\nimport com.google.ar.sceneform.AnchorNode;\r\nimport com.google.ar.sceneform.rendering.ModelRenderable;\r\nimport com.google.ar.sceneform.ux.ArFragment;\r\nimport com.google.ar.sceneform.ux.TransformableNode;\r\n\r\nimport java.util.ArrayList;\r\n\r\npublic class MainActivity extends AppCompatActivity {\r\n\r\n\r\n    private ArFragment arFragment;\r\n    private ArrayList&lt;Integer&gt; imagesPath = new ArrayList&lt;Integer&gt;();\r\n    private ArrayList&lt;String&gt; namesPath = new ArrayList&lt;&gt;();\r\n    private ArrayList&lt;String&gt; modelNames = new ArrayList&lt;&gt;();\r\n    AnchorNode anchorNode;\r\n    private Button btnRemove;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        arFragment = (ArFragment)getSupportFragmentManager().findFragmentById(R.id.fragment);\r\n        btnRemove = (Button)findViewById(R.id.remove);\r\n        getImages();\r\n\r\n        arFragment.setOnTapArPlaneListener((hitResult, plane, motionEvent) -&gt; {\r\n\r\n            Anchor anchor = hitResult.createAnchor();\r\n\r\n            ModelRenderable.builder()\r\n                .setSource(this,Uri.parse(Common.model))\r\n                .build()\r\n                .thenAccept(modelRenderable -&gt; addModelToScene(anchor,modelRenderable));\r\n\r\n        });\r\n```\r\n\r\n\r\n`\r\ni tried every possible video on youtube aint working \r\n`\r\nit is not working the app keeps crashing every time I try running it it does not open at all\r\nits the line setContentView that is the line logcat is directing me to when i click on the blue link in logcat and i have tried cleaning and bulding it again and also invalidating the cache but nothing seems to work \r\n","title":"Android studio it is giving an error in line 35 not exactly showing what error logcat just directs to line 35","body":"<pre><code>package com.example.secondar;\n\nimport androidx.appcompat.app.AppCompatActivity;\nimport androidx.recyclerview.widget.LinearLayoutManager;\nimport androidx.recyclerview.widget.RecyclerView;\n\nimport android.net.Uri;\nimport android.os.Bundle;\n\n\nimport android.view.View;\nimport android.widget.Button;\n\nimport com.google.ar.core.Anchor;\nimport com.google.ar.sceneform.AnchorNode;\nimport com.google.ar.sceneform.rendering.ModelRenderable;\nimport com.google.ar.sceneform.ux.ArFragment;\nimport com.google.ar.sceneform.ux.TransformableNode;\n\nimport java.util.ArrayList;\n\npublic class MainActivity extends AppCompatActivity {\n\n\n    private ArFragment arFragment;\n    private ArrayList&lt;Integer&gt; imagesPath = new ArrayList&lt;Integer&gt;();\n    private ArrayList&lt;String&gt; namesPath = new ArrayList&lt;&gt;();\n    private ArrayList&lt;String&gt; modelNames = new ArrayList&lt;&gt;();\n    AnchorNode anchorNode;\n    private Button btnRemove;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        arFragment = (ArFragment)getSupportFragmentManager().findFragmentById(R.id.fragment);\n        btnRemove = (Button)findViewById(R.id.remove);\n        getImages();\n\n        arFragment.setOnTapArPlaneListener((hitResult, plane, motionEvent) -&gt; {\n\n            Anchor anchor = hitResult.createAnchor();\n\n            ModelRenderable.builder()\n                .setSource(this,Uri.parse(Common.model))\n                .build()\n                .thenAccept(modelRenderable -&gt; addModelToScene(anchor,modelRenderable));\n\n        });\n</code></pre>\n<p><code>i tried every possible video on youtube aint working </code>\nit is not working the app keeps crashing every time I try running it it does not open at all\nits the line setContentView that is the line logcat is directing me to when i click on the blue link in logcat and i have tried cleaning and bulding it again and also invalidating the cache but nothing seems to work</p>\n"},{"tags":["java","aws-lambda","aws-api-gateway"],"owner":{"account_id":27162460,"reputation":31,"user_id":20700415,"display_name":"apoorva"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":74,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687857465,"creation_date":1687854996,"question_id":76563070,"body_markdown":"I am trying to add data into Neo4j. I have integrated my lambda function with a POST API in the API Gateway.\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    public class App implements RequestHandler&lt;Map&lt;Object,Object&gt;, Object&gt; {\r\n\r\n        public Object handleRequest(Map&lt;Object,Object&gt; input, Context context) {\r\n\r\n        \ttry (Driver driver = GraphDatabase.driver(Config.url, AuthTokens.basic(&quot;neo4j&quot;, &quot;neo4j&quot;))) {\r\n\r\n        \t\ttry (Session session = driver.session()) {\r\n                \tString id = (String)input.get(&quot;id&quot;);\r\n                \tSystem.out.println(id);\r\n                    Result result = session.run(&quot;CREATE (n:Id {id: $id})&quot;,Values.parameters(&quot;id&quot;, id));\r\n                }\r\n            }\r\n            return null;\r\n        }\r\n    }\r\n\r\n\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n\r\nWhen I give json input through Lambda Test Event- {&quot;id&quot;:&quot;1&quot;}\r\nit works but the same with Postman is returning a null value.\r\n\r\nThe data is getting uploaded to neo4j but no &quot;id&quot; ","title":"API Gateway POST request returning null with POSTMAN","body":"<p>I am trying to add data into Neo4j. I have integrated my lambda function with a POST API in the API Gateway.</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>public class App implements RequestHandler&lt;Map&lt;Object,Object&gt;, Object&gt; {\n\n    public Object handleRequest(Map&lt;Object,Object&gt; input, Context context) {\n\n        try (Driver driver = GraphDatabase.driver(Config.url, AuthTokens.basic(\"neo4j\", \"neo4j\"))) {\n\n            try (Session session = driver.session()) {\n                String id = (String)input.get(\"id\");\n                System.out.println(id);\n                Result result = session.run(\"CREATE (n:Id {id: $id})\",Values.parameters(\"id\", id));\n            }\n        }\n        return null;\n    }\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p>When I give json input through Lambda Test Event- {&quot;id&quot;:&quot;1&quot;}\nit works but the same with Postman is returning a null value.</p>\n<p>The data is getting uploaded to neo4j but no &quot;id&quot;</p>\n"},{"tags":["java","sql","oop","ide"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1687532098,"post_id":76541236,"comment_id":134954871,"body_markdown":"You don&#39;t obtain a `Connection` from anywhere, which you must before trying to use it. You need also to use those db objects with try-with-resources to ensure they&#39;re closed","body":"You don&#39;t obtain a <code>Connection</code> from anywhere, which you must before trying to use it. You need also to use those db objects with try-with-resources to ensure they&#39;re closed"},{"owner":{"account_id":26173864,"reputation":11,"user_id":19858375,"display_name":"THAVIDU"},"score":0,"creation_date":1687532575,"post_id":76541236,"comment_id":134954968,"body_markdown":"Here I have created two forms as login and dashboard.  I have added the login form to the connection.  Should all the connections there be get in to the dashboard form?","body":"Here I have created two forms as login and dashboard.  I have added the login form to the connection.  Should all the connections there be get in to the dashboard form?"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1687533620,"post_id":76541236,"comment_id":134955163,"body_markdown":"I don&#39;t know what that means, but suffice it to say that you must obtain a `Connection` before you attempt to use it. You should only normally have *one* `JFrame` per app","body":"I don&#39;t know what that means, but suffice it to say that you must obtain a <code>Connection</code> before you attempt to use it. You should only normally have <i>one</i> <code>JFrame</code> per app"},{"owner":{"account_id":7701,"reputation":47163,"user_id":13447,"accept_rate":100,"display_name":"Olaf Kock"},"score":0,"creation_date":1687633400,"post_id":76541236,"comment_id":134965179,"body_markdown":"Does this answer your question? [What is a NullPointerException, and how do I fix it?](https://stackoverflow.com/questions/218384/what-is-a-nullpointerexception-and-how-do-i-fix-it)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/218384/what-is-a-nullpointerexception-and-how-do-i-fix-it\">What is a NullPointerException, and how do I fix it?</a>"}],"owner":{"account_id":26173864,"reputation":11,"user_id":19858375,"display_name":"THAVIDU"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687857406,"creation_date":1687531872,"question_id":76541236,"body_markdown":"java/lang. NullPointerException: Cannot invoke &quot;com.mys ql. jdbc. Connection. prepare Statement(String)&quot; because &quot;this con&quot; is null\r\n\r\nWhat should I do to fix that error?&#160; I can&#39;t figure out how to fix it.\r\n\r\nI want employee_list table to insert data into it.&#160; In that case, when the &#39;add employee&#39; button is clicked, the data will be stored in SQL. That&#39;s what I try to do. Mention the code I made below. Can anyone please help me fix it?\r\n\r\n```\r\npackage assignment;\r\n\r\nimport com.mysql.jdbc.Connection;\r\nimport com.mysql.jdbc.PreparedStatement;\r\nimport java.awt.Color;\r\nimport java.awt.HeadlessException;\r\nimport java.sql.SQLException;\r\nimport java.util.ArrayList;\r\nimport java.util.Iterator;\r\nimport java.util.logging.Level;\r\nimport java.util.logging.Logger;\r\nimport javax.swing.JFrame;\r\nimport javax.swing.JOptionPane;\r\nimport javax.swing.JPanel;\r\nimport java.sql.*;\r\n\r\n/**\r\n *\r\n * @author TOSHIBA\r\n */\r\npublic class Dashboard extends javax.swing.JFrame {\r\n\r\n    /**\r\n     * Creates new form Dashboard\r\n     */\r\n    Connection con = null;\r\n    ResultSet rs = null;\r\n    PreparedStatement pst = null;\r\n   \r\n    public Dashboard() {\r\n        initComponents();\r\n        this.setLocationRelativeTo(null); // center form in screen\r\n    }\r\n   \r\n    public Dashboard(String empName,String empDes) {\r\n        initComponents();\r\n        EmpName.setText(empName.toUpperCase());\r\n        EmpDesignation.setText(empDes.toUpperCase());\r\n        this.setLocationRelativeTo(null); // center form in screen\r\n    }\r\n\r\n    /**\r\n     * This method is called from within the constructor to initialize the form.\r\n     * WARNING: Do NOT modify this code. The content of this method is always\r\n     * regenerated by the Form Editor.\r\n     */\r\n    @SuppressWarnings(&quot;unchecked&quot;)\r\n   \r\n    void reset(){\r\n        txtFname.setText(&quot;&quot;);\r\n        txtLname.setText(&quot;&quot;);\r\n        txtDepartment.setSelectedIndex(0);\r\n        txtDesignation.setSelectedIndex(0);\r\n        txtNumber.setText(&quot;&quot;);\r\n        txtAddress.setText(&quot;&quot;);\r\n        txtSalary.setText(&quot;&quot;);\r\n    }\r\n  \r\n   \r\n    private void jLabelCloseMouseClicked(java.awt.event.MouseEvent evt) {                                        \r\n        dispose(); // close button\r\n    }                                        \r\n\r\n    private void jLabelMinimizeMouseClicked(java.awt.event.MouseEvent evt) {                                            \r\n        this.setState(JFrame.ICONIFIED); // minimize button\r\n    }                                          \r\n\r\n    private void btn1MouseClicked(java.awt.event.MouseEvent evt) {                                  \r\n        // TODO add your handling code here:\r\n        onClick(btn1);\r\n        onLeaveClick(btn2);\r\n        onLeaveClick(btn3);\r\n        onLeaveClick(btn4);\r\n        onLeaveClick(btn5);\r\n       \r\n        //Switch panels on click\r\n       \r\n        p1.setVisible(true);\r\n        p2.setVisible(false);\r\n        p3.setVisible(false);\r\n        p4.setVisible(false);\r\n        p5.setVisible(false);\r\n       \r\n    }                                \r\n\r\n    private void btn2MouseClicked(java.awt.event.MouseEvent evt) {                                  \r\n        // TODO add your handling code here:\r\n        onLeaveClick(btn1);\r\n        onClick(btn2);\r\n        onLeaveClick(btn3);\r\n        onLeaveClick(btn4);\r\n        onLeaveClick(btn5);\r\n       \r\n        //Switch panels on click\r\n       \r\n        p1.setVisible(false);\r\n        p2.setVisible(true);\r\n        p3.setVisible(false);\r\n        p4.setVisible(false);\r\n        p5.setVisible(false);\r\n    }                                \r\n\r\n    private void btn3MouseClicked(java.awt.event.MouseEvent evt) {                                  \r\n        // TODO add your handling code here:\r\n        onLeaveClick(btn1);\r\n        onLeaveClick(btn2);\r\n        onClick(btn3);\r\n        onLeaveClick(btn4);\r\n        onLeaveClick(btn5);\r\n       \r\n        //Switch panels on click\r\n       \r\n        p1.setVisible(false);\r\n        p2.setVisible(false);\r\n        p3.setVisible(true);\r\n        p4.setVisible(false);\r\n        p5.setVisible(false);\r\n    }                                \r\n\r\n    private void btn4MouseClicked(java.awt.event.MouseEvent evt) {                                  \r\n        // TODO add your handling code here:\r\n        onLeaveClick(btn1);\r\n        onLeaveClick(btn2);\r\n        onLeaveClick(btn3);\r\n        onClick(btn4);\r\n        onLeaveClick(btn5);\r\n       \r\n        //Switch panels on click\r\n       \r\n        p1.setVisible(false);\r\n        p2.setVisible(false);\r\n        p3.setVisible(false);\r\n        p4.setVisible(true);\r\n        p5.setVisible(false);\r\n    }                                \r\n\r\n    private void btn5MouseClicked(java.awt.event.MouseEvent evt) {                                  \r\n        // TODO add your handling code here:\r\n        Login login = null;\r\n        try {\r\n            login = new Login();\r\n        } catch (SQLException | ClassNotFoundException ex) {\r\n            Logger.getLogger(Dashboard.class.getName()).log(Level.SEVERE, null, ex);\r\n        }\r\n        login.setVisible(true);\r\n        this.dispose();\r\n        JOptionPane.showMessageDialog(null, &quot;Logout Successful&quot;);\r\n       \r\n    }                                \r\n\r\n    private void txtDepartmentItemStateChanged(java.awt.event.ItemEvent evt) {                                              \r\n        // TODO add your handling code here:\r\n        ArrayList&lt;String&gt; array = new ArrayList&lt;&gt;();\r\n        Iterator&lt;String&gt; Iterator;\r\n        if(txtDepartment.getSelectedItem().equals(&quot;Management&quot;)){\r\n            array.add(&quot;Head Officer&quot;);\r\n            array.add(&quot;General Manager&quot;);\r\n            array.add(&quot;Senior Manager&quot;);\r\n            array.add(&quot;Junior Manager&quot;);\r\n            Iterator = array.iterator();\r\n            while(Iterator.hasNext()){\r\n                txtDesignation.addItem(Iterator.next());\r\n            }\r\n        } else if (txtDepartment.getSelectedItem().equals(&quot;HR&quot;)){\r\n            array.add(&quot;HR Manager&quot;);\r\n            array.add(&quot;HR Assistent manager&quot;);\r\n            array.add(&quot;HR Assistent&quot;);\r\n            array.add(&quot;HR Administrator&quot;);\r\n            Iterator = array.iterator();\r\n            while(Iterator.hasNext()){\r\n                txtDesignation.addItem(Iterator.next());\r\n            }\r\n        } else if (txtDepartment.getSelectedItem().equals(&quot;Production&quot;)){\r\n            array.add(&quot;Production Manager&quot;);\r\n            array.add(&quot;Production Assistent manager&quot;);\r\n            array.add(&quot;Assistent&quot;);\r\n            array.add(&quot;Administrator&quot;);\r\n            Iterator = array.iterator();\r\n            while(Iterator.hasNext()){\r\n                txtDesignation.addItem(Iterator.next());\r\n            }\r\n        }else if (txtDepartment.getSelectedItem().equals(&quot;Sales&quot;)){\r\n            array.add(&quot;Sales Manager&quot;);\r\n            array.add(&quot;Sales Assistent manager&quot;);\r\n            array.add(&quot;Assistent&quot;);\r\n            array.add(&quot;Administrator&quot;);\r\n            Iterator = array.iterator();\r\n            while(Iterator.hasNext()){\r\n                txtDesignation.addItem(Iterator.next());\r\n            }\r\n        }else if (txtDepartment.getSelectedItem().equals(&quot;Marketing&quot;)){\r\n            array.add(&quot;Marketing Manager&quot;);\r\n            array.add(&quot;Marketing Assistent manager&quot;);\r\n            array.add(&quot;Assistent&quot;);\r\n            array.add(&quot;Administrator&quot;);\r\n            Iterator = array.iterator();\r\n            while(Iterator.hasNext()){\r\n                txtDesignation.addItem(Iterator.next());\r\n            }\r\n        }else if (txtDepartment.getSelectedItem().equals(&quot;IT&quot;)){\r\n            array.add(&quot;Computer System Manager&quot;);\r\n            array.add(&quot;Service Desk Analyst&quot;);\r\n            array.add(&quot;Assistent&quot;);\r\n            array.add(&quot;Network Administrator&quot;);\r\n            Iterator = array.iterator();\r\n            while(Iterator.hasNext()){\r\n                txtDesignation.addItem(Iterator.next());\r\n            }\r\n        }\r\n    }                                              \r\n\r\n    private void jPanel23MouseClicked(java.awt.event.MouseEvent evt) {                                      \r\n        // TODO add your handling code here:\r\n        empadd.setVisible(true);\r\n        p1.setVisible(false);\r\n        p2.setVisible(false);\r\n        p3.setVisible(false);\r\n        p4.setVisible(false);\r\n        p5.setVisible(false);\r\n    }                                    \r\n\r\n    private void jButton1ActionPerformed(java.awt.event.ActionEvent evt) {                                        \r\n        // TODO add your handling code here:\r\n        int a = JOptionPane.showConfirmDialog(null, &quot;Are you sure to add this record ?&quot;,&quot;Add record&quot;,JOptionPane.YES_NO_OPTION);\r\n        if (a == 0){\r\n            try{\r\n                String sql = &quot;INSERT INTO `employee_list`(`firstname`, `lastname`, `department`, `designation`, `number`, `address`, `salary`) VALUES (?,?,?,?,?,?,?)&quot;;\r\n                pst = (PreparedStatement) con.prepareStatement(sql);\r\n               \r\n                pst.setString(1, txtFname.getText());\r\n                pst.setString(2, txtLname.getText());\r\n                pst.setString(3, txtDepartment.getSelectedItem().toString());\r\n                pst.setString(4, txtDesignation.getSelectedItem().toString());\r\n                pst.setString(5, txtNumber.getText());\r\n                pst.setString(6, txtAddress.getText());\r\n                pst.setString(7, txtSalary.getText());\r\n               \r\n                pst.execute();\r\n                JOptionPane.showMessageDialog(null, &quot;Data saved successfully&quot;);\r\n                reset();\r\n            }catch (Exception ex) {\r\n                JOptionPane.showMessageDialog(null, ex);\r\n            }\r\n        } else {\r\n            JOptionPane.showMessageDialog(null, &quot;Data not saved successfully in Database&quot;);\r\n        }\r\n               \r\n    }                                        \r\n\r\n    private void jButton2ActionPerformed(java.awt.event.ActionEvent evt) {                                        \r\n        // TODO add your handling code here:\r\n        empadd.setVisible(false);\r\n        p1.setVisible(false);\r\n        p2.setVisible(true);\r\n        p3.setVisible(false);\r\n        p4.setVisible(false);\r\n        p5.setVisible(false);\r\n       \r\n        reset();\r\n    }                                        \r\n\r\n    /**\r\n     * @param args the command line arguments\r\n     */\r\n    public static void main(String args[]) {\r\n        /* Set the Nimbus look and feel */\r\n        //&lt;editor-fold defaultstate=&quot;collapsed&quot; desc=&quot; Look and feel setting code (optional) &quot;&gt;\r\n        /* If Nimbus (introduced in Java SE 6) is not available, stay with the default look and feel.\r\n         * For details see http://download.oracle.com/javase/tutorial/uiswing/lookandfeel/plaf.html\r\n         */\r\n        try {\r\n            for (javax.swing.UIManager.LookAndFeelInfo info : javax.swing.UIManager.getInstalledLookAndFeels()) {\r\n                if (&quot;Nimbus&quot;.equals(info.getName())) {\r\n                    javax.swing.UIManager.setLookAndFeel(info.getClassName());\r\n                    break;\r\n                }\r\n            }\r\n        } catch (ClassNotFoundException ex) {\r\n            java.util.logging.Logger.getLogger(Dashboard.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);\r\n        } catch (InstantiationException ex) {\r\n            java.util.logging.Logger.getLogger(Dashboard.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);\r\n        } catch (IllegalAccessException ex) {\r\n            java.util.logging.Logger.getLogger(Dashboard.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);\r\n        } catch (javax.swing.UnsupportedLookAndFeelException ex) {\r\n            java.util.logging.Logger.getLogger(Dashboard.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);\r\n        }\r\n                        \r\n```","title":"The following error occurs in the code that I set up and ran in javanetbeans","body":"<p>java/lang. NullPointerException: Cannot invoke &quot;com.mys ql. jdbc. Connection. prepare Statement(String)&quot; because &quot;this con&quot; is null</p>\n<p>What should I do to fix that error?  I can't figure out how to fix it.</p>\n<p>I want employee_list table to insert data into it.  In that case, when the 'add employee' button is clicked, the data will be stored in SQL. That's what I try to do. Mention the code I made below. Can anyone please help me fix it?</p>\n<pre><code>package assignment;\n\nimport com.mysql.jdbc.Connection;\nimport com.mysql.jdbc.PreparedStatement;\nimport java.awt.Color;\nimport java.awt.HeadlessException;\nimport java.sql.SQLException;\nimport java.util.ArrayList;\nimport java.util.Iterator;\nimport java.util.logging.Level;\nimport java.util.logging.Logger;\nimport javax.swing.JFrame;\nimport javax.swing.JOptionPane;\nimport javax.swing.JPanel;\nimport java.sql.*;\n\n/**\n *\n * @author TOSHIBA\n */\npublic class Dashboard extends javax.swing.JFrame {\n\n    /**\n     * Creates new form Dashboard\n     */\n    Connection con = null;\n    ResultSet rs = null;\n    PreparedStatement pst = null;\n   \n    public Dashboard() {\n        initComponents();\n        this.setLocationRelativeTo(null); // center form in screen\n    }\n   \n    public Dashboard(String empName,String empDes) {\n        initComponents();\n        EmpName.setText(empName.toUpperCase());\n        EmpDesignation.setText(empDes.toUpperCase());\n        this.setLocationRelativeTo(null); // center form in screen\n    }\n\n    /**\n     * This method is called from within the constructor to initialize the form.\n     * WARNING: Do NOT modify this code. The content of this method is always\n     * regenerated by the Form Editor.\n     */\n    @SuppressWarnings(&quot;unchecked&quot;)\n   \n    void reset(){\n        txtFname.setText(&quot;&quot;);\n        txtLname.setText(&quot;&quot;);\n        txtDepartment.setSelectedIndex(0);\n        txtDesignation.setSelectedIndex(0);\n        txtNumber.setText(&quot;&quot;);\n        txtAddress.setText(&quot;&quot;);\n        txtSalary.setText(&quot;&quot;);\n    }\n  \n   \n    private void jLabelCloseMouseClicked(java.awt.event.MouseEvent evt) {                                        \n        dispose(); // close button\n    }                                        \n\n    private void jLabelMinimizeMouseClicked(java.awt.event.MouseEvent evt) {                                            \n        this.setState(JFrame.ICONIFIED); // minimize button\n    }                                          \n\n    private void btn1MouseClicked(java.awt.event.MouseEvent evt) {                                  \n        // TODO add your handling code here:\n        onClick(btn1);\n        onLeaveClick(btn2);\n        onLeaveClick(btn3);\n        onLeaveClick(btn4);\n        onLeaveClick(btn5);\n       \n        //Switch panels on click\n       \n        p1.setVisible(true);\n        p2.setVisible(false);\n        p3.setVisible(false);\n        p4.setVisible(false);\n        p5.setVisible(false);\n       \n    }                                \n\n    private void btn2MouseClicked(java.awt.event.MouseEvent evt) {                                  \n        // TODO add your handling code here:\n        onLeaveClick(btn1);\n        onClick(btn2);\n        onLeaveClick(btn3);\n        onLeaveClick(btn4);\n        onLeaveClick(btn5);\n       \n        //Switch panels on click\n       \n        p1.setVisible(false);\n        p2.setVisible(true);\n        p3.setVisible(false);\n        p4.setVisible(false);\n        p5.setVisible(false);\n    }                                \n\n    private void btn3MouseClicked(java.awt.event.MouseEvent evt) {                                  \n        // TODO add your handling code here:\n        onLeaveClick(btn1);\n        onLeaveClick(btn2);\n        onClick(btn3);\n        onLeaveClick(btn4);\n        onLeaveClick(btn5);\n       \n        //Switch panels on click\n       \n        p1.setVisible(false);\n        p2.setVisible(false);\n        p3.setVisible(true);\n        p4.setVisible(false);\n        p5.setVisible(false);\n    }                                \n\n    private void btn4MouseClicked(java.awt.event.MouseEvent evt) {                                  \n        // TODO add your handling code here:\n        onLeaveClick(btn1);\n        onLeaveClick(btn2);\n        onLeaveClick(btn3);\n        onClick(btn4);\n        onLeaveClick(btn5);\n       \n        //Switch panels on click\n       \n        p1.setVisible(false);\n        p2.setVisible(false);\n        p3.setVisible(false);\n        p4.setVisible(true);\n        p5.setVisible(false);\n    }                                \n\n    private void btn5MouseClicked(java.awt.event.MouseEvent evt) {                                  \n        // TODO add your handling code here:\n        Login login = null;\n        try {\n            login = new Login();\n        } catch (SQLException | ClassNotFoundException ex) {\n            Logger.getLogger(Dashboard.class.getName()).log(Level.SEVERE, null, ex);\n        }\n        login.setVisible(true);\n        this.dispose();\n        JOptionPane.showMessageDialog(null, &quot;Logout Successful&quot;);\n       \n    }                                \n\n    private void txtDepartmentItemStateChanged(java.awt.event.ItemEvent evt) {                                              \n        // TODO add your handling code here:\n        ArrayList&lt;String&gt; array = new ArrayList&lt;&gt;();\n        Iterator&lt;String&gt; Iterator;\n        if(txtDepartment.getSelectedItem().equals(&quot;Management&quot;)){\n            array.add(&quot;Head Officer&quot;);\n            array.add(&quot;General Manager&quot;);\n            array.add(&quot;Senior Manager&quot;);\n            array.add(&quot;Junior Manager&quot;);\n            Iterator = array.iterator();\n            while(Iterator.hasNext()){\n                txtDesignation.addItem(Iterator.next());\n            }\n        } else if (txtDepartment.getSelectedItem().equals(&quot;HR&quot;)){\n            array.add(&quot;HR Manager&quot;);\n            array.add(&quot;HR Assistent manager&quot;);\n            array.add(&quot;HR Assistent&quot;);\n            array.add(&quot;HR Administrator&quot;);\n            Iterator = array.iterator();\n            while(Iterator.hasNext()){\n                txtDesignation.addItem(Iterator.next());\n            }\n        } else if (txtDepartment.getSelectedItem().equals(&quot;Production&quot;)){\n            array.add(&quot;Production Manager&quot;);\n            array.add(&quot;Production Assistent manager&quot;);\n            array.add(&quot;Assistent&quot;);\n            array.add(&quot;Administrator&quot;);\n            Iterator = array.iterator();\n            while(Iterator.hasNext()){\n                txtDesignation.addItem(Iterator.next());\n            }\n        }else if (txtDepartment.getSelectedItem().equals(&quot;Sales&quot;)){\n            array.add(&quot;Sales Manager&quot;);\n            array.add(&quot;Sales Assistent manager&quot;);\n            array.add(&quot;Assistent&quot;);\n            array.add(&quot;Administrator&quot;);\n            Iterator = array.iterator();\n            while(Iterator.hasNext()){\n                txtDesignation.addItem(Iterator.next());\n            }\n        }else if (txtDepartment.getSelectedItem().equals(&quot;Marketing&quot;)){\n            array.add(&quot;Marketing Manager&quot;);\n            array.add(&quot;Marketing Assistent manager&quot;);\n            array.add(&quot;Assistent&quot;);\n            array.add(&quot;Administrator&quot;);\n            Iterator = array.iterator();\n            while(Iterator.hasNext()){\n                txtDesignation.addItem(Iterator.next());\n            }\n        }else if (txtDepartment.getSelectedItem().equals(&quot;IT&quot;)){\n            array.add(&quot;Computer System Manager&quot;);\n            array.add(&quot;Service Desk Analyst&quot;);\n            array.add(&quot;Assistent&quot;);\n            array.add(&quot;Network Administrator&quot;);\n            Iterator = array.iterator();\n            while(Iterator.hasNext()){\n                txtDesignation.addItem(Iterator.next());\n            }\n        }\n    }                                              \n\n    private void jPanel23MouseClicked(java.awt.event.MouseEvent evt) {                                      \n        // TODO add your handling code here:\n        empadd.setVisible(true);\n        p1.setVisible(false);\n        p2.setVisible(false);\n        p3.setVisible(false);\n        p4.setVisible(false);\n        p5.setVisible(false);\n    }                                    \n\n    private void jButton1ActionPerformed(java.awt.event.ActionEvent evt) {                                        \n        // TODO add your handling code here:\n        int a = JOptionPane.showConfirmDialog(null, &quot;Are you sure to add this record ?&quot;,&quot;Add record&quot;,JOptionPane.YES_NO_OPTION);\n        if (a == 0){\n            try{\n                String sql = &quot;INSERT INTO `employee_list`(`firstname`, `lastname`, `department`, `designation`, `number`, `address`, `salary`) VALUES (?,?,?,?,?,?,?)&quot;;\n                pst = (PreparedStatement) con.prepareStatement(sql);\n               \n                pst.setString(1, txtFname.getText());\n                pst.setString(2, txtLname.getText());\n                pst.setString(3, txtDepartment.getSelectedItem().toString());\n                pst.setString(4, txtDesignation.getSelectedItem().toString());\n                pst.setString(5, txtNumber.getText());\n                pst.setString(6, txtAddress.getText());\n                pst.setString(7, txtSalary.getText());\n               \n                pst.execute();\n                JOptionPane.showMessageDialog(null, &quot;Data saved successfully&quot;);\n                reset();\n            }catch (Exception ex) {\n                JOptionPane.showMessageDialog(null, ex);\n            }\n        } else {\n            JOptionPane.showMessageDialog(null, &quot;Data not saved successfully in Database&quot;);\n        }\n               \n    }                                        \n\n    private void jButton2ActionPerformed(java.awt.event.ActionEvent evt) {                                        \n        // TODO add your handling code here:\n        empadd.setVisible(false);\n        p1.setVisible(false);\n        p2.setVisible(true);\n        p3.setVisible(false);\n        p4.setVisible(false);\n        p5.setVisible(false);\n       \n        reset();\n    }                                        \n\n    /**\n     * @param args the command line arguments\n     */\n    public static void main(String args[]) {\n        /* Set the Nimbus look and feel */\n        //&lt;editor-fold defaultstate=&quot;collapsed&quot; desc=&quot; Look and feel setting code (optional) &quot;&gt;\n        /* If Nimbus (introduced in Java SE 6) is not available, stay with the default look and feel.\n         * For details see http://download.oracle.com/javase/tutorial/uiswing/lookandfeel/plaf.html\n         */\n        try {\n            for (javax.swing.UIManager.LookAndFeelInfo info : javax.swing.UIManager.getInstalledLookAndFeels()) {\n                if (&quot;Nimbus&quot;.equals(info.getName())) {\n                    javax.swing.UIManager.setLookAndFeel(info.getClassName());\n                    break;\n                }\n            }\n        } catch (ClassNotFoundException ex) {\n            java.util.logging.Logger.getLogger(Dashboard.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);\n        } catch (InstantiationException ex) {\n            java.util.logging.Logger.getLogger(Dashboard.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);\n        } catch (IllegalAccessException ex) {\n            java.util.logging.Logger.getLogger(Dashboard.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);\n        } catch (javax.swing.UnsupportedLookAndFeelException ex) {\n            java.util.logging.Logger.getLogger(Dashboard.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);\n        }\n                        \n</code></pre>\n"},{"tags":["java","url","uri","uribuilder","javax.ws.rs"],"answers":[{"tags":[],"owner":{"account_id":5534873,"reputation":18496,"user_id":4393565,"accept_rate":67,"display_name":"P.J.Meisch"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1500305203,"creation_date":1500305203,"answer_id":45148064,"question_id":45138844,"body_markdown":"According to [RFC 3986][1] the character **}** is _not_ a reserved character and therefore it need not be escaped. It can be escaped with **%7D**, but that is not necessary.\r\n\r\nSo both `UriBuilder` implementations behave correctly.\r\n\r\n\r\n  [1]: https://www.rfc-editor.org/rfc/rfc3986#section-2.2","title":"javax UriBuilder doesn&#39;t escape &#39;}&#39; correctly","body":"<p>According to <a href=\"https://www.rfc-editor.org/rfc/rfc3986#section-2.2\" rel=\"nofollow noreferrer\">RFC 3986</a> the character <strong>}</strong> is <em>not</em> a reserved character and therefore it need not be escaped. It can be escaped with <strong>%7D</strong>, but that is not necessary.</p>\n<p>So both <code>UriBuilder</code> implementations behave correctly.</p>\n"},{"tags":[],"owner":{"account_id":207965,"reputation":3704,"user_id":458157,"accept_rate":75,"display_name":"gouessej"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687857274,"creation_date":1665139226,"answer_id":73985926,"question_id":45138844,"body_markdown":"Actually, if you don&#39;t escape braces, RestEasy (containing an implementation of UriBuilder) will complain by throwing a `jakarta.ws.rs.core.UriBuilderException: RESTEASY003330: Failed to create URI` caused by a `java.net.URISyntaxException: Illegal character in query at index`. However, I&#39;m not sure that it can be fixed in `jakarta.​ws.​rs.​core.UriBuilder` because it&#39;s a template-aware builder, it uses the curly braces to delimit templates. Therefore, in my humble opinion, it&#39;s up to the caller to indicate that some curly braces aren&#39;t used for building templates so that RestEasy (or Jersey) doesn&#39;t try to interpret the string between curly braces as a template and to avoid sending unencoded curly braces to `java.base/java.net.URI$Parser.checkChars()` that rejects them for sure, no matter what the RFC says.\r\n\r\nPersonally, I simply do that:\r\n\r\n    final String encoded = unencoded.replace(&quot;{&quot;, &quot;%7B&quot;).replace(&quot;}&quot;, &quot;%7D&quot;);\r\n\r\nKeep in mind that you can break template management by using this dirty kludge unwisely.\r\n\r\nP.S: [RestEasy&#39;s documentation][1] seems to confirm my findings.\r\n\r\n\r\n  [1]: https://docs.jboss.org/resteasy/docs/4.2.0.Final/javadocs/org/jboss/resteasy/spi/ResteasyUriBuilder.html#clientQueryParam-java.lang.String-java.lang.Object...-","title":"javax UriBuilder doesn&#39;t escape &#39;}&#39; correctly","body":"<p>Actually, if you don't escape braces, RestEasy (containing an implementation of UriBuilder) will complain by throwing a <code>jakarta.ws.rs.core.UriBuilderException: RESTEASY003330: Failed to create URI</code> caused by a <code>java.net.URISyntaxException: Illegal character in query at index</code>. However, I'm not sure that it can be fixed in <code>jakarta.​ws.​rs.​core.UriBuilder</code> because it's a template-aware builder, it uses the curly braces to delimit templates. Therefore, in my humble opinion, it's up to the caller to indicate that some curly braces aren't used for building templates so that RestEasy (or Jersey) doesn't try to interpret the string between curly braces as a template and to avoid sending unencoded curly braces to <code>java.base/java.net.URI$Parser.checkChars()</code> that rejects them for sure, no matter what the RFC says.</p>\n<p>Personally, I simply do that:</p>\n<pre><code>final String encoded = unencoded.replace(&quot;{&quot;, &quot;%7B&quot;).replace(&quot;}&quot;, &quot;%7D&quot;);\n</code></pre>\n<p>Keep in mind that you can break template management by using this dirty kludge unwisely.</p>\n<p>P.S: <a href=\"https://docs.jboss.org/resteasy/docs/4.2.0.Final/javadocs/org/jboss/resteasy/spi/ResteasyUriBuilder.html#clientQueryParam-java.lang.String-java.lang.Object...-\" rel=\"nofollow noreferrer\">RestEasy's documentation</a> seems to confirm my findings.</p>\n"}],"owner":{"account_id":222360,"reputation":7605,"user_id":480894,"accept_rate":72,"display_name":"Roland"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":934,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1687857274,"creation_date":1500278448,"question_id":45138844,"body_markdown":"`javax.ws.rs.core.UriBuilder` is not escaping `}` correctly:\r\n\r\n    import javax.ws.rs.core.UriBuilder;\r\n    public void test() {\r\n        final UriBuilder builder = UriBuilder.fromUri(&quot;http://host&quot;);\r\n        builder.path(&quot;dir}one&quot;);\r\n        l.info(builder.toString());\r\n    }\r\n\r\nWill output `http://host/dir}one`, leaving `}` unescaped.\r\n\r\nWhereas `org.apache.http.client.utils.URIBuilder`:\r\n\r\n    org.apache.http.client.utils.URIBuilder;\r\n    public void testApache() {\r\n        final URIBuilder builder = new URIBuilder(URI.create(&quot;http://host&quot;));\r\n        builder.setPath(&quot;dir}one&quot;);\r\n        l.info(builder.toString());\r\n    }\r\n\r\nWill output `http://hostdir%7Done`, escaping `}` with `%7D` as expected.\r\n\r\nIs this a bug in the `javax.ws.rs.core.UriBuilder`?","title":"javax UriBuilder doesn&#39;t escape &#39;}&#39; correctly","body":"<p><code>javax.ws.rs.core.UriBuilder</code> is not escaping <code>}</code> correctly:</p>\n\n<pre><code>import javax.ws.rs.core.UriBuilder;\npublic void test() {\n    final UriBuilder builder = UriBuilder.fromUri(\"http://host\");\n    builder.path(\"dir}one\");\n    l.info(builder.toString());\n}\n</code></pre>\n\n<p>Will output <code>http://host/dir}one</code>, leaving <code>}</code> unescaped.</p>\n\n<p>Whereas <code>org.apache.http.client.utils.URIBuilder</code>:</p>\n\n<pre><code>org.apache.http.client.utils.URIBuilder;\npublic void testApache() {\n    final URIBuilder builder = new URIBuilder(URI.create(\"http://host\"));\n    builder.setPath(\"dir}one\");\n    l.info(builder.toString());\n}\n</code></pre>\n\n<p>Will output <code>http://hostdir%7Done</code>, escaping <code>}</code> with <code>%7D</code> as expected.</p>\n\n<p>Is this a bug in the <code>javax.ws.rs.core.UriBuilder</code>?</p>\n"},{"tags":["java","dynamic-reports"],"owner":{"account_id":28825203,"reputation":11,"user_id":22076748,"display_name":"Yamasaki Noburo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":15,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1687856950,"creation_date":1687856950,"question_id":76563317,"body_markdown":"I tried to create 2 line chart using line chart of dynamic reports.\r\n\r\n[Y axes of 2 graphs are not aligned.](https://i.stack.imgur.com/oz4KF.jpg)\r\n\r\n\r\n\r\nI want to align these charts according to Y axis.\r\n\r\n```\r\nLineChartBuilder lineChart1 = cht.lineChart()\r\n                .setCategory(itemColumn)\r\n                .setShowValues(false)\r\n                .setTitle(&quot;Line chart&quot;)\r\n                .setCategoryAxisFormat(cht.axisFormat()\r\n                        .setLabel(&quot;Item&quot;))\r\n                .setShowShapes(false)\r\n                .series(cht.serie(detectsColumn));\r\n\r\n        LineChartBuilder lineChart2 = cht.lineChart()\r\n                .setCategory(itemColumn)\r\n                .setShowValues(false)\r\n                .setTitle(&quot;Line chart&quot;)\r\n                .setCategoryAxisFormat(cht.axisFormat()\r\n                        .setLabel(&quot;Item&quot;))\r\n                .setShowShapes(false)\r\n                .series(cht.serie(rangeColumn));\r\n\r\n        try {\r\n            report().setTemplate(Templates.reportTemplate)\r\n                    .title(Templates.createTitleComponent(&quot;My Report&quot;))\r\n                    .summary(lineChart1, lineChart2)\r\n                    .pageFooter(Templates.footerComponent)\r\n                    .setDataSource(createDataSource())\r\n                    .show();\r\n        } catch (DRException e) {\r\n            e.printStackTrace();\r\n        }\r\n```","title":"Can&#39;t align line charts according to Y axis","body":"<p>I tried to create 2 line chart using line chart of dynamic reports.</p>\n<p><a href=\"https://i.stack.imgur.com/oz4KF.jpg\" rel=\"nofollow noreferrer\">Y axes of 2 graphs are not aligned.</a></p>\n<p>I want to align these charts according to Y axis.</p>\n<pre><code>LineChartBuilder lineChart1 = cht.lineChart()\n                .setCategory(itemColumn)\n                .setShowValues(false)\n                .setTitle(&quot;Line chart&quot;)\n                .setCategoryAxisFormat(cht.axisFormat()\n                        .setLabel(&quot;Item&quot;))\n                .setShowShapes(false)\n                .series(cht.serie(detectsColumn));\n\n        LineChartBuilder lineChart2 = cht.lineChart()\n                .setCategory(itemColumn)\n                .setShowValues(false)\n                .setTitle(&quot;Line chart&quot;)\n                .setCategoryAxisFormat(cht.axisFormat()\n                        .setLabel(&quot;Item&quot;))\n                .setShowShapes(false)\n                .series(cht.serie(rangeColumn));\n\n        try {\n            report().setTemplate(Templates.reportTemplate)\n                    .title(Templates.createTitleComponent(&quot;My Report&quot;))\n                    .summary(lineChart1, lineChart2)\n                    .pageFooter(Templates.footerComponent)\n                    .setDataSource(createDataSource())\n                    .show();\n        } catch (DRException e) {\n            e.printStackTrace();\n        }\n</code></pre>\n"},{"tags":["java","tomcat","crash","virtual-machine"],"comments":[{"owner":{"account_id":1261259,"reputation":6717,"user_id":1219487,"accept_rate":80,"display_name":"Chetter Hummin"},"score":0,"creation_date":1335280763,"post_id":10300883,"comment_id":13256233,"body_markdown":"If you can replicate this problem on another server, you can use jConsole to monitor your JVM","body":"If you can replicate this problem on another server, you can use jConsole to monitor your JVM"},{"owner":{"account_id":73312,"reputation":5791,"user_id":211197,"display_name":"maksimov"},"score":0,"creation_date":1335280850,"post_id":10300883,"comment_id":13256280,"body_markdown":"I&#39;ve seen Tomcat stopping on me while running it from Eclipse. The stop didn&#39;t manifest any sort of messages or logs either, however I think I narrowed it down to stack overflow issues during recursive fetches by Hibernate.","body":"I&#39;ve seen Tomcat stopping on me while running it from Eclipse. The stop didn&#39;t manifest any sort of messages or logs either, however I think I narrowed it down to stack overflow issues during recursive fetches by Hibernate."},{"owner":{"account_id":1431656,"reputation":181,"user_id":1353948,"display_name":"Remi"},"score":0,"creation_date":1335281069,"post_id":10300883,"comment_id":13256365,"body_markdown":"We cannot replicate the problem, it occurs sometimes on different servers which are not doing anything specific.","body":"We cannot replicate the problem, it occurs sometimes on different servers which are not doing anything specific."},{"owner":{"account_id":274077,"reputation":13556,"user_id":566092,"accept_rate":72,"display_name":"coding_idiot"},"score":0,"creation_date":1467632522,"post_id":10300883,"comment_id":63793484,"body_markdown":"Did you figure out what was causing the issue ?","body":"Did you figure out what was causing the issue ?"}],"answers":[{"tags":[],"owner":{"account_id":466908,"reputation":13049,"user_id":871953,"accept_rate":94,"display_name":"Eugene Retunsky"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1335282141,"creation_date":1335280807,"answer_id":10300943,"question_id":10300883,"body_markdown":"Most probably there is a stack-overflow exception. This is typical behavior of Tomcat when it happens. For example, you&#39;re trying to serialize to JSON or XML beans with cyclic dependencies (but without handling of the cycles). \r\n\r\nEverytime I had this issue (several times) it always has been this one. All other stops are usually logged properly (like OutOfMemory etc).\r\n\r\nThis type of stops leaves no trace anywhere.","title":"Tomcat stopped without any log or any stack","body":"<p>Most probably there is a stack-overflow exception. This is typical behavior of Tomcat when it happens. For example, you're trying to serialize to JSON or XML beans with cyclic dependencies (but without handling of the cycles). </p>\n\n<p>Everytime I had this issue (several times) it always has been this one. All other stops are usually logged properly (like OutOfMemory etc).</p>\n\n<p>This type of stops leaves no trace anywhere.</p>\n"},{"tags":[],"owner":{"display_name":"user1352498"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1335281398,"creation_date":1335281398,"answer_id":10301120,"question_id":10300883,"body_markdown":"Tomcat 7 has an option inside catalina to prevent the System.exit class call or something similar: http://ci.apache.org/projects/tomcat/tomcat7/docs/security-manager-howto.html .\r\n\r\nMaybe there&#39;s a similar option for the 5.5 version. Try the documentation. \r\n\r\nThere are options to redirect the output to the same console that you use to start Tomcat. This information is redirected to logs when you execute on Unix based systems, on Windows, it remains with the console if not redirected.\r\n\r\n","title":"Tomcat stopped without any log or any stack","body":"<p>Tomcat 7 has an option inside catalina to prevent the System.exit class call or something similar: <a href=\"http://ci.apache.org/projects/tomcat/tomcat7/docs/security-manager-howto.html\" rel=\"nofollow\">http://ci.apache.org/projects/tomcat/tomcat7/docs/security-manager-howto.html</a> .</p>\n\n<p>Maybe there's a similar option for the 5.5 version. Try the documentation. </p>\n\n<p>There are options to redirect the output to the same console that you use to start Tomcat. This information is redirected to logs when you execute on Unix based systems, on Windows, it remains with the console if not redirected.</p>\n"},{"tags":[],"owner":{"account_id":26247,"reputation":33763,"user_id":68105,"accept_rate":69,"display_name":"MK."},"down_vote_count":0,"up_vote_count":25,"is_accepted":false,"score":25,"last_activity_date":1687856638,"creation_date":1335281673,"answer_id":10301201,"question_id":10300883,"body_markdown":"1. Make sure you know where `stderr` is redirected and check if anything got printed there.\r\n\r\n2. Check the memory limits on Tomcat and how much free memory does the system have.  Review the Linux system logs under `/var/log` to see if anything suspicious happened during the time.  For example, kernel can randomly kill a process (almost) without a trace if the system is running low on memory.\r\n\r\nWe&#39;ve ran 5.5 in production for years and never had any unexplained shutdowns, FWIW.","title":"Tomcat stopped without any log or any stack","body":"<ol>\n<li><p>Make sure you know where <code>stderr</code> is redirected and check if anything got printed there.</p>\n</li>\n<li><p>Check the memory limits on Tomcat and how much free memory does the system have.  Review the Linux system logs under <code>/var/log</code> to see if anything suspicious happened during the time.  For example, kernel can randomly kill a process (almost) without a trace if the system is running low on memory.</p>\n</li>\n</ol>\n<p>We've ran 5.5 in production for years and never had any unexplained shutdowns, FWIW.</p>\n"},{"tags":[],"owner":{"account_id":11374006,"reputation":359,"user_id":8338842,"display_name":"Kaushal Dokania"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1538794028,"creation_date":1537280369,"answer_id":52388674,"question_id":10300883,"body_markdown":"This worked for me.\r\n\r\nAs suggested here in other answers checked system logs in `/var/log/messages` but permission denied for me. So, I used `dmesg` command instead and got this in the logs\r\n\r\n&quot;Out of memory: Kill process 14606 (java) score 106 or sacrifice child&quot;.\r\n\r\nIn the output I also noticed **Swap Memory free 0 K**. Ran `top` command to confirm the same. So, somehow there was a high memory usage which caused the OS to kill my tomcat process.\r\n\r\nAfter spending hours finally got the reason.\r\n\r\n`ps -ef | grep tomcat` showed that there were several tomcat processes running for the same application. It seems that, earlier tomcat shutdowns might not have been completed successfully and due to some reason the processes were not killed even after the shutdown, which was causing the high memory usage.\r\n\r\nSo, killed all running tomcat processes using `kill`. SWAP memory got freed.\r\n\r\nStarted tomcat again, worked fine. :)","title":"Tomcat stopped without any log or any stack","body":"<p>This worked for me.</p>\n\n<p>As suggested here in other answers checked system logs in <code>/var/log/messages</code> but permission denied for me. So, I used <code>dmesg</code> command instead and got this in the logs</p>\n\n<p>\"Out of memory: Kill process 14606 (java) score 106 or sacrifice child\".</p>\n\n<p>In the output I also noticed <strong>Swap Memory free 0 K</strong>. Ran <code>top</code> command to confirm the same. So, somehow there was a high memory usage which caused the OS to kill my tomcat process.</p>\n\n<p>After spending hours finally got the reason.</p>\n\n<p><code>ps -ef | grep tomcat</code> showed that there were several tomcat processes running for the same application. It seems that, earlier tomcat shutdowns might not have been completed successfully and due to some reason the processes were not killed even after the shutdown, which was causing the high memory usage.</p>\n\n<p>So, killed all running tomcat processes using <code>kill</code>. SWAP memory got freed.</p>\n\n<p>Started tomcat again, worked fine. :)</p>\n"}],"owner":{"account_id":1431656,"reputation":181,"user_id":1353948,"display_name":"Remi"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":25166,"favorite_count":0,"down_vote_count":0,"up_vote_count":18,"answer_count":4,"score":18,"last_activity_date":1687856638,"creation_date":1335280630,"question_id":10300883,"body_markdown":"We have trouble with Tomcat 5.5 which stops at night on our production servers (Linux CentOS 4.8) and we have no idea why it stops...\r\nThere is no Tomcat&#39;s log in catalina.out or any application&#39;s log.\r\n\r\nWe tried different things to find why the server stops:\r\n\r\n - configure Tomcat to be able to generate a core dump\r\n - instrument `System.exit()` method with javassist to find if the method was called\r\n - add a shutdown hook to the JVM (with `Runtime.getRuntime().addShutdownHook()`)\r\n\r\nNone of them worked, we have no core dump, the Exit method and the shutdown hook are not called.\r\nMy conclusions are:\r\n\r\n - The VM is not terminated properly but crash without any log.\r\n\r\nAny idea or log to read to find why Tomcat stops?\r\n","title":"Tomcat stopped without any log or any stack","body":"<p>We have trouble with Tomcat 5.5 which stops at night on our production servers (Linux CentOS 4.8) and we have no idea why it stops...\nThere is no Tomcat's log in catalina.out or any application's log.</p>\n\n<p>We tried different things to find why the server stops:</p>\n\n<ul>\n<li>configure Tomcat to be able to generate a core dump</li>\n<li>instrument <code>System.exit()</code> method with javassist to find if the method was called</li>\n<li>add a shutdown hook to the JVM (with <code>Runtime.getRuntime().addShutdownHook()</code>)</li>\n</ul>\n\n<p>None of them worked, we have no core dump, the Exit method and the shutdown hook are not called.\nMy conclusions are:</p>\n\n<ul>\n<li>The VM is not terminated properly but crash without any log.</li>\n</ul>\n\n<p>Any idea or log to read to find why Tomcat stops?</p>\n"},{"tags":["java","spring-boot","junit","sonarqube","jacoco-maven-plugin"],"owner":{"account_id":9010593,"reputation":2151,"user_id":6715384,"display_name":"HMT"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":374,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1687856617,"creation_date":1687855231,"question_id":76563100,"body_markdown":"I am trying to take out sonar coverage of my code but the coverage is coming as 0 %. Earlier, tests were also coming as 0 , but it got resolved after adding junit-vintage-engine library. But the code coverage issue is still unresolved.This is the plugin that I have added\r\n\r\n\t&lt;plugin&gt;\r\n\t\t\t\t\t\t&lt;groupId&gt;org.jacoco&lt;/groupId&gt;\r\n\t\t\t\t\t\t&lt;artifactId&gt;jacoco-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t\t\t&lt;version&gt;0.8.7&lt;/version&gt;\r\n\t\t\t\t\t\t&lt;executions&gt;\r\n\t\t\t\t\t\t\t&lt;execution&gt;\r\n\t\t\t\t\t\t\t\t&lt;id&gt;jacoco-initialize&lt;/id&gt;\r\n\t\t\t\t\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;goal&gt;prepare-agent&lt;/goal&gt;\r\n\t\t\t\t\t\t\t\t&lt;/goals&gt;\r\n\t\t\t\t\t\t\t\t&lt;phase&gt;test-compile&lt;/phase&gt;\r\n\t\t\t\t\t\t\t&lt;/execution&gt;\r\n\t\t\t\t\t\t\t&lt;execution&gt;\r\n\t\t\t\t\t\t\t\t&lt;id&gt;jacoco-site&lt;/id&gt;\r\n\t\t\t\t\t\t\t\t&lt;phase&gt;verify&lt;/phase&gt;\r\n\t\t\t\t\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;goal&gt;report&lt;/goal&gt;\r\n\t\t\t\t\t\t\t\t&lt;/goals&gt;\r\n\t\t\t\t\t\t\t&lt;/execution&gt;\r\n\t\t\t\t\t\t&lt;/executions&gt;\r\n\t\t\t\t\t&lt;/plugin&gt;\r\n\r\n\r\nSurefire reports are generating, but I am also getting this warning in pom file.:\r\n\r\n&gt; Plugin could not be resolved. Ensure the plugin&#39;s groupId, artifactId\r\n&gt; and version are present.\r\n&gt; \r\n&gt; Additional information: Unable to resolve\r\n&gt; org.jacoco:jacoco-maven-plugin\r\n\r\nBut when I exceute mvn clean install, jar file is generated but it is not downloading jacoco plugin.Also, no jacoco files are created in target folder. ","title":"Jacoco Plugin not working After upgrading to Spring Boot 2.7.10","body":"<p>I am trying to take out sonar coverage of my code but the coverage is coming as 0 %. Earlier, tests were also coming as 0 , but it got resolved after adding junit-vintage-engine library. But the code coverage issue is still unresolved.This is the plugin that I have added</p>\n<pre><code>&lt;plugin&gt;\n                    &lt;groupId&gt;org.jacoco&lt;/groupId&gt;\n                    &lt;artifactId&gt;jacoco-maven-plugin&lt;/artifactId&gt;\n                    &lt;version&gt;0.8.7&lt;/version&gt;\n                    &lt;executions&gt;\n                        &lt;execution&gt;\n                            &lt;id&gt;jacoco-initialize&lt;/id&gt;\n                            &lt;goals&gt;\n                                &lt;goal&gt;prepare-agent&lt;/goal&gt;\n                            &lt;/goals&gt;\n                            &lt;phase&gt;test-compile&lt;/phase&gt;\n                        &lt;/execution&gt;\n                        &lt;execution&gt;\n                            &lt;id&gt;jacoco-site&lt;/id&gt;\n                            &lt;phase&gt;verify&lt;/phase&gt;\n                            &lt;goals&gt;\n                                &lt;goal&gt;report&lt;/goal&gt;\n                            &lt;/goals&gt;\n                        &lt;/execution&gt;\n                    &lt;/executions&gt;\n                &lt;/plugin&gt;\n</code></pre>\n<p>Surefire reports are generating, but I am also getting this warning in pom file.:</p>\n<blockquote>\n<p>Plugin could not be resolved. Ensure the plugin's groupId, artifactId\nand version are present.</p>\n<p>Additional information: Unable to resolve\norg.jacoco:jacoco-maven-plugin</p>\n</blockquote>\n<p>But when I exceute mvn clean install, jar file is generated but it is not downloading jacoco plugin.Also, no jacoco files are created in target folder.</p>\n"},{"tags":["java","spring","spring-boot","spring-security","spring-saml"],"owner":{"account_id":3390495,"reputation":12113,"user_id":2845414,"accept_rate":94,"display_name":"Sumeet Kumar Yadav"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":201,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1687856487,"creation_date":1686797904,"question_id":76478793,"body_markdown":"Our application&#39;s single sign-on works with a federated identity provider (IdP) where the IdP selection is based on query parameters or path variables, such as https://&lt;host&gt;:&lt;port&gt;/my-application/idplogin?customerid=1234 or https://&lt;host&gt;:&lt;port&gt;/my-application/login/1234. We want to support multiple customizable URLs for login.\r\n\r\nWe have identified three cases:\r\n\r\n * Case 1: When the IdP is already configured as /saml2/authenticate/okta.\r\n * Case 2: Discover IDP By a query parameter, such as /idplogin?customerid=1234.\r\n * Case 3: Discover IDP By a path variable, such as /my-application/login/1234.\r\n\r\nI know that one possible solution could be having a REST controller to handle the URL resolution and redirection. However, I would like to know if there is a way to configure or dynamically resolve the authentication request.\r\n\r\nIs there a solution where the SAML authentication request can be configured or resolved dynamically to support the above scenario? Can we write a custom request resolver?\r\n\r\nI am using Spring security and below are some reference lists:\r\n\r\n1. [Spring security GitHub repository][1]\r\n2. [Example for redirecting to a custom URL][2].\r\n3. [Spring security SAML documentation][3]\r\n\r\n  [1]: https://github.com/spring-projects/spring-security\r\n  [2]: https://github.com/spring-projects/spring-security/issues/12812\r\n  [3]: https://docs.spring.io/spring-security/reference/servlet/saml2/login/overview.html\r\n","title":"Implementing multiple customizable URLs for single sign-on with federated IdP in Spring Security SAML2","body":"<p>Our application's single sign-on works with a federated identity provider (IdP) where the IdP selection is based on query parameters or path variables, such as https://:/my-application/idplogin?customerid=1234 or https://:/my-application/login/1234. We want to support multiple customizable URLs for login.</p>\n<p>We have identified three cases:</p>\n<ul>\n<li>Case 1: When the IdP is already configured as /saml2/authenticate/okta.</li>\n<li>Case 2: Discover IDP By a query parameter, such as /idplogin?customerid=1234.</li>\n<li>Case 3: Discover IDP By a path variable, such as /my-application/login/1234.</li>\n</ul>\n<p>I know that one possible solution could be having a REST controller to handle the URL resolution and redirection. However, I would like to know if there is a way to configure or dynamically resolve the authentication request.</p>\n<p>Is there a solution where the SAML authentication request can be configured or resolved dynamically to support the above scenario? Can we write a custom request resolver?</p>\n<p>I am using Spring security and below are some reference lists:</p>\n<ol>\n<li><a href=\"https://github.com/spring-projects/spring-security\" rel=\"nofollow noreferrer\">Spring security GitHub repository</a></li>\n<li><a href=\"https://github.com/spring-projects/spring-security/issues/12812\" rel=\"nofollow noreferrer\">Example for redirecting to a custom URL</a>.</li>\n<li><a href=\"https://docs.spring.io/spring-security/reference/servlet/saml2/login/overview.html\" rel=\"nofollow noreferrer\">Spring security SAML documentation</a></li>\n</ol>\n"},{"tags":["java","spring","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":1608581,"reputation":893,"user_id":1488134,"accept_rate":80,"display_name":"Mohamed Habib"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1560350495,"creation_date":1560350495,"answer_id":56564841,"question_id":56564262,"body_markdown":"Have you tried something like adding `MappingJackson2HttpMessageConverter` to the `RestTemplate`\r\n\r\n    restTemplate.getMessageConverters().add(getMappingJackson2HttpMessageConverter());\r\n\r\n    public MappingJackson2HttpMessageConverter getMappingJackson2HttpMessageConverter() {\r\n        MappingJackson2HttpMessageConverter mappingJackson2HttpMessageConverter = new MappingJackson2HttpMessageConverter();\r\n        mappingJackson2HttpMessageConverter.setSupportedMediaTypes(Collections.singletonList(MediaType.APPLICATION_FORM_URLENCODED));\r\n        return mappingJackson2HttpMessageConverter;\r\n    }","title":"Use RestTemplate with object as data and application/x-www-form-urlencoded content type?","body":"<p>Have you tried something like adding <code>MappingJackson2HttpMessageConverter</code> to the <code>RestTemplate</code></p>\n\n<pre><code>restTemplate.getMessageConverters().add(getMappingJackson2HttpMessageConverter());\n\npublic MappingJackson2HttpMessageConverter getMappingJackson2HttpMessageConverter() {\n    MappingJackson2HttpMessageConverter mappingJackson2HttpMessageConverter = new MappingJackson2HttpMessageConverter();\n    mappingJackson2HttpMessageConverter.setSupportedMediaTypes(Collections.singletonList(MediaType.APPLICATION_FORM_URLENCODED));\n    return mappingJackson2HttpMessageConverter;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":156734,"reputation":26697,"user_id":374198,"accept_rate":62,"display_name":"Josh M."},"down_vote_count":0,"up_vote_count":24,"is_accepted":true,"score":24,"last_activity_date":1560356571,"creation_date":1560356571,"answer_id":56566601,"question_id":56564262,"body_markdown":"I ended up having to write a custom HTTP message converter which takes any object and writes it out as www-form-urlencoded content to the request body:\r\n\r\n## Usage\r\n\r\n```java\r\nRestTemplate template = new RestTemplate(...);\r\n\r\ntemplate.getMessageConverters().add(new ObjectToUrlEncodedConverter(mapper));\r\n```\r\n\r\n## ObjectToUrlEncodedConverter\r\n\r\n```java\r\nimport com.fasterxml.jackson.annotation.JsonAnySetter;\r\nimport com.fasterxml.jackson.databind.ObjectMapper;\r\nimport org.springframework.http.HttpInputMessage;\r\nimport org.springframework.http.HttpOutputMessage;\r\nimport org.springframework.http.MediaType;\r\nimport org.springframework.http.converter.HttpMessageConverter;\r\nimport org.springframework.http.converter.HttpMessageNotReadableException;\r\nimport org.springframework.http.converter.HttpMessageNotWritableException;\r\nimport sun.reflect.generics.reflectiveObjects.NotImplementedException;\r\n\r\nimport java.io.IOException;\r\nimport java.io.UnsupportedEncodingException;\r\nimport java.net.URLEncoder;\r\nimport java.util.Collections;\r\nimport java.util.List;\r\n\r\npublic class ObjectToUrlEncodedConverter implements HttpMessageConverter\r\n{\r\n    private static final String Encoding = &quot;UTF-8&quot;;\r\n    \r\n    private final ObjectMapper mapper;\r\n\r\n    public ObjectToUrlEncodedConverter(ObjectMapper mapper)\r\n    {\r\n        this.mapper = mapper;\r\n    }\r\n\r\n    @Override\r\n    public boolean canRead(Class clazz, MediaType mediaType)\r\n    {\r\n        return false;\r\n    }\r\n\r\n    @Override\r\n    public boolean canWrite(Class clazz, MediaType mediaType)\r\n    {\r\n        return getSupportedMediaTypes().contains(mediaType);\r\n    }\r\n\r\n    @Override\r\n    public List&lt;MediaType&gt; getSupportedMediaTypes()\r\n    {\r\n        return Collections.singletonList(MediaType.APPLICATION_FORM_URLENCODED);\r\n    }\r\n\r\n    @Override\r\n    public Object read(Class clazz, HttpInputMessage inputMessage) throws HttpMessageNotReadableException\r\n    {\r\n        throw new NotImplementedException();\r\n    }\r\n\r\n    @Override\r\n    public void write(Object o, MediaType contentType, HttpOutputMessage outputMessage) throws HttpMessageNotWritableException\r\n    {\r\n        if (o != null)\r\n        {\r\n            String body = mapper\r\n                .convertValue(o, UrlEncodedWriter.class)\r\n                .toString();\r\n\r\n            try\r\n            {\r\n                outputMessage.getBody().write(body.getBytes(Encoding));\r\n            }\r\n            catch (IOException e)\r\n            {\r\n                // if UTF-8 is not supporter then I give up\r\n            }\r\n        }\r\n    }\r\n\r\n    private static class UrlEncodedWriter\r\n    {\r\n        private final StringBuilder out = new StringBuilder();\r\n\r\n        @JsonAnySetter\r\n        public void write(String name, Object property) throws UnsupportedEncodingException\r\n        {\r\n            if (out.length() &gt; 0)\r\n            {\r\n                out.append(&quot;&amp;&quot;);\r\n            }\r\n\r\n            out\r\n                .append(URLEncoder.encode(name, Encoding))\r\n                .append(&quot;=&quot;);\r\n\r\n            if (property != null)\r\n            {\r\n                out.append(URLEncoder.encode(property.toString(), Encoding));\r\n            }\r\n        }\r\n\r\n        @Override\r\n        public String toString()\r\n        {\r\n            return out.toString();\r\n        }\r\n    }\r\n}\r\n```","title":"Use RestTemplate with object as data and application/x-www-form-urlencoded content type?","body":"<p>I ended up having to write a custom HTTP message converter which takes any object and writes it out as www-form-urlencoded content to the request body:</p>\n\n<h2>Usage</h2>\n\n<pre class=\"lang-java prettyprint-override\"><code>RestTemplate template = new RestTemplate(...);\n\ntemplate.getMessageConverters().add(new ObjectToUrlEncodedConverter(mapper));\n</code></pre>\n\n<h2>ObjectToUrlEncodedConverter</h2>\n\n<pre class=\"lang-java prettyprint-override\"><code>import com.fasterxml.jackson.annotation.JsonAnySetter;\nimport com.fasterxml.jackson.databind.ObjectMapper;\nimport org.springframework.http.HttpInputMessage;\nimport org.springframework.http.HttpOutputMessage;\nimport org.springframework.http.MediaType;\nimport org.springframework.http.converter.HttpMessageConverter;\nimport org.springframework.http.converter.HttpMessageNotReadableException;\nimport org.springframework.http.converter.HttpMessageNotWritableException;\nimport sun.reflect.generics.reflectiveObjects.NotImplementedException;\n\nimport java.io.IOException;\nimport java.io.UnsupportedEncodingException;\nimport java.net.URLEncoder;\nimport java.util.Collections;\nimport java.util.List;\n\npublic class ObjectToUrlEncodedConverter implements HttpMessageConverter\n{\n    private static final String Encoding = \"UTF-8\";\n\n    private final ObjectMapper mapper;\n\n    public ObjectToUrlEncodedConverter(ObjectMapper mapper)\n    {\n        this.mapper = mapper;\n    }\n\n    @Override\n    public boolean canRead(Class clazz, MediaType mediaType)\n    {\n        return false;\n    }\n\n    @Override\n    public boolean canWrite(Class clazz, MediaType mediaType)\n    {\n        return getSupportedMediaTypes().contains(mediaType);\n    }\n\n    @Override\n    public List&lt;MediaType&gt; getSupportedMediaTypes()\n    {\n        return Collections.singletonList(MediaType.APPLICATION_FORM_URLENCODED);\n    }\n\n    @Override\n    public Object read(Class clazz, HttpInputMessage inputMessage) throws HttpMessageNotReadableException\n    {\n        throw new NotImplementedException();\n    }\n\n    @Override\n    public void write(Object o, MediaType contentType, HttpOutputMessage outputMessage) throws HttpMessageNotWritableException\n    {\n        if (o != null)\n        {\n            String body = mapper\n                .convertValue(o, UrlEncodedWriter.class)\n                .toString();\n\n            try\n            {\n                outputMessage.getBody().write(body.getBytes(Encoding));\n            }\n            catch (IOException e)\n            {\n                // if UTF-8 is not supporter then I give up\n            }\n        }\n    }\n\n    private static class UrlEncodedWriter\n    {\n        private final StringBuilder out = new StringBuilder();\n\n        @JsonAnySetter\n        public void write(String name, Object property) throws UnsupportedEncodingException\n        {\n            if (out.length() &gt; 0)\n            {\n                out.append(\"&amp;\");\n            }\n\n            out\n                .append(URLEncoder.encode(name, Encoding))\n                .append(\"=\");\n\n            if (property != null)\n            {\n                out.append(URLEncoder.encode(property.toString(), Encoding));\n            }\n        }\n\n        @Override\n        public String toString()\n        {\n            return out.toString();\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1582162,"reputation":58,"user_id":1467300,"display_name":"user1467300"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1560358027,"creation_date":1560358027,"answer_id":56566944,"question_id":56564262,"body_markdown":"If you are using `WebMvcConfigurerAdapter` then you might get such errors. Also WebMvcConfigurerAdapter is deprecated from Spring 5.x.x. Try using the `WebMvcConfigurer`. Once done you will have to override:\r\n```\r\n@Override\r\n\tpublic void configureMessageConverters(List&lt;HttpMessageConverter&lt;?&gt;&gt; converters) {}\r\n```\r\n ","title":"Use RestTemplate with object as data and application/x-www-form-urlencoded content type?","body":"<p>If you are using <code>WebMvcConfigurerAdapter</code> then you might get such errors. Also WebMvcConfigurerAdapter is deprecated from Spring 5.x.x. Try using the <code>WebMvcConfigurer</code>. Once done you will have to override:</p>\n\n<pre><code>@Override\n    public void configureMessageConverters(List&lt;HttpMessageConverter&lt;?&gt;&gt; converters) {}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1808469,"reputation":111,"user_id":1645017,"display_name":"yv84_"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1589123828,"creation_date":1589123828,"answer_id":61714278,"question_id":56564262,"body_markdown":"You can try use https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/http/converter/FormHttpMessageConverter.html\r\n    \r\n    RestTemplate template = new RestTemplate(...);\r\n    template.getMessageConverters().add(new org.springframework.http.converter.FormHttpMessageConverter.FormHttpMessageConverter());\r\n\r\n","title":"Use RestTemplate with object as data and application/x-www-form-urlencoded content type?","body":"<p>You can try use <a href=\"https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/http/converter/FormHttpMessageConverter.html\" rel=\"noreferrer\">https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/http/converter/FormHttpMessageConverter.html</a></p>\n\n<pre><code>RestTemplate template = new RestTemplate(...);\ntemplate.getMessageConverters().add(new org.springframework.http.converter.FormHttpMessageConverter.FormHttpMessageConverter());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4925358,"reputation":68,"user_id":3966726,"display_name":"anand kadu"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1595266085,"creation_date":1592653931,"answer_id":62485445,"question_id":56564262,"body_markdown":"You can use FormHttpMessageConverter for content-type &quot;application/x-www-form-urlencoded&quot; as below and send data in RestTemplate post method for body as MultiValueMap&lt;String, String&gt;\r\n\r\n    &lt;bean id=&quot;restTemplate&quot; class=&quot;org.springframework.web.client.RestTemplate&quot; lazy-init=&quot;true&quot;&gt;\r\n\t\t&lt;constructor-arg name=&quot;requestFactory&quot; ref=&quot;bufferingClientHttpRequestFactory&quot; /&gt;\r\n\t\t&lt;property name=&quot;errorHandler&quot; ref=&quot;responeErrorHandler&quot; /&gt;\r\n\t\t&lt;property name=&quot;messageConverters&quot;&gt;\r\n        &lt;list&gt;\r\n            &lt;bean class=&quot;org.springframework.http.converter.FormHttpMessageConverter&quot; /&gt;\r\n            &lt;bean class=&quot;org.springframework.http.converter.json.MappingJackson2HttpMessageConverter&quot;/&gt;\r\n        &lt;/list&gt;\r\n    &lt;/property&gt;\r\n\t&lt;/bean&gt;\r\n\r\n Java Config Version\r\n\r\n    @Bean\r\n    public RestTemplate restTemplate() {\r\n        RestTemplate restTemplate = new RestTemplate();          \r\n        restTemplate.getMessageConverters().add(new FormHttpMessageConverter());\r\n        restTemplate.getMessageConverters().add(new MappingJackson2HttpMessageConverter());\r\n        return restTemplate \r\n    }","title":"Use RestTemplate with object as data and application/x-www-form-urlencoded content type?","body":"<p>You can use FormHttpMessageConverter for content-type &quot;application/x-www-form-urlencoded&quot; as below and send data in RestTemplate post method for body as MultiValueMap&lt;String, String&gt;</p>\n<pre><code>&lt;bean id=&quot;restTemplate&quot; class=&quot;org.springframework.web.client.RestTemplate&quot; lazy-init=&quot;true&quot;&gt;\n    &lt;constructor-arg name=&quot;requestFactory&quot; ref=&quot;bufferingClientHttpRequestFactory&quot; /&gt;\n    &lt;property name=&quot;errorHandler&quot; ref=&quot;responeErrorHandler&quot; /&gt;\n    &lt;property name=&quot;messageConverters&quot;&gt;\n    &lt;list&gt;\n        &lt;bean class=&quot;org.springframework.http.converter.FormHttpMessageConverter&quot; /&gt;\n        &lt;bean class=&quot;org.springframework.http.converter.json.MappingJackson2HttpMessageConverter&quot;/&gt;\n    &lt;/list&gt;\n&lt;/property&gt;\n&lt;/bean&gt;\n</code></pre>\n<p>Java Config Version</p>\n<pre><code>@Bean\npublic RestTemplate restTemplate() {\n    RestTemplate restTemplate = new RestTemplate();          \n    restTemplate.getMessageConverters().add(new FormHttpMessageConverter());\n    restTemplate.getMessageConverters().add(new MappingJackson2HttpMessageConverter());\n    return restTemplate \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6409279,"reputation":958,"user_id":7676237,"display_name":"puppylpg"},"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1687856375,"creation_date":1631723341,"answer_id":69196764,"question_id":56564262,"body_markdown":"Reason: there is no converter can convert your java object into request body in `x-www-form-urlencoded` format.\r\n\r\nSolution1: create this kind of converter, as what @Josh M. posts.\r\n\r\nSolution2: convert your java object into `MultiValueMap`, and there is already a converter named `FormHttpMessageConverter` in spring boot which will convert `MultiValueMap` into request body in `x-www-form-urlencoded` format automatically.\r\n\r\n\r\nSo in solution2, all you need is to convert your java object into `MultiValueMap`:\r\n```\r\n        MultiValueMap&lt;String, String&gt; bodyPair = new LinkedMultiValueMap();\r\n        bodyPair.add(K1, V1);\r\n        bodyPair.add(K2, V2);\r\n        bodyPair.add(K3, V3);\r\n        ...\r\n```\r\n`K1`, `V1`, `K2`, `V2`, ..., means the field names and corresponding values in your java object. All the fields you declared in your java class need to be added. If there are too many fields, consider using Java Reflection.","title":"Use RestTemplate with object as data and application/x-www-form-urlencoded content type?","body":"<p>Reason: there is no converter can convert your java object into request body in <code>x-www-form-urlencoded</code> format.</p>\n<p>Solution1: create this kind of converter, as what @Josh M. posts.</p>\n<p>Solution2: convert your java object into <code>MultiValueMap</code>, and there is already a converter named <code>FormHttpMessageConverter</code> in spring boot which will convert <code>MultiValueMap</code> into request body in <code>x-www-form-urlencoded</code> format automatically.</p>\n<p>So in solution2, all you need is to convert your java object into <code>MultiValueMap</code>:</p>\n<pre><code>        MultiValueMap&lt;String, String&gt; bodyPair = new LinkedMultiValueMap();\n        bodyPair.add(K1, V1);\n        bodyPair.add(K2, V2);\n        bodyPair.add(K3, V3);\n        ...\n</code></pre>\n<p><code>K1</code>, <code>V1</code>, <code>K2</code>, <code>V2</code>, ..., means the field names and corresponding values in your java object. All the fields you declared in your java class need to be added. If there are too many fields, consider using Java Reflection.</p>\n"}],"owner":{"account_id":156734,"reputation":26697,"user_id":374198,"accept_rate":62,"display_name":"Josh M."},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":38618,"favorite_count":0,"down_vote_count":0,"up_vote_count":27,"accepted_answer_id":56566601,"answer_count":6,"score":27,"last_activity_date":1687856375,"creation_date":1560348798,"question_id":56564262,"body_markdown":"I need to post an object (e.g. not a `MultiValueMap`) via a `RestTemplate` with the content type `application/x-www-form-urlencoded`. When I try to do so ...\r\n\r\n```java\r\nHttpHeaders headers = new HttpHeaders();\r\nHttpEntity request;\r\n\r\nheaders.setContentType(MediaType.APPLICATION_FORM_URLENCODED)\r\n\r\n// data is some generic type\r\nrequest = new HttpEntity&lt;&gt;(data, headers);\r\n\r\n// clazz is the Class&lt;T&gt; being returned\r\nrestTemplate.exchange(url, method, request, clazz)\r\n```\r\n\r\n... I get the following error:\r\n\r\n&gt;org.springframework.web.client.RestClientException: Could not write request: no suitable HttpMessageConverter found for request type [com.whatever.MyRequestPayload] and content type [application/x-www-form-urlencoded]\r\n\r\nHere is what I see within `restTemplate.getMessageConverters()`:\r\n\r\n[![message converters][1]][1]\r\n\r\n_Why don&#39;t I want to provide a `MultiValueMap`?_ Two reasons:\r\n\r\n1. this is general purpose code which is used to send requests to multiple endpoints, so adding an overload specifically for `x-www-form-urlencoded` will only complicate things\r\n2. it doesn&#39;t seem like I should have to -- I just don&#39;t know which HttpMessageConverter needs to be used to support converting objects to a `x-www-form-urlencoded` string\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/SloDy.png","title":"Use RestTemplate with object as data and application/x-www-form-urlencoded content type?","body":"<p>I need to post an object (e.g. not a <code>MultiValueMap</code>) via a <code>RestTemplate</code> with the content type <code>application/x-www-form-urlencoded</code>. When I try to do so ...</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>HttpHeaders headers = new HttpHeaders();\nHttpEntity request;\n\nheaders.setContentType(MediaType.APPLICATION_FORM_URLENCODED)\n\n// data is some generic type\nrequest = new HttpEntity&lt;&gt;(data, headers);\n\n// clazz is the Class&lt;T&gt; being returned\nrestTemplate.exchange(url, method, request, clazz)\n</code></pre>\n\n<p>... I get the following error:</p>\n\n<blockquote>\n  <p>org.springframework.web.client.RestClientException: Could not write request: no suitable HttpMessageConverter found for request type [com.whatever.MyRequestPayload] and content type [application/x-www-form-urlencoded]</p>\n</blockquote>\n\n<p>Here is what I see within <code>restTemplate.getMessageConverters()</code>:</p>\n\n<p><a href=\"https://i.stack.imgur.com/SloDy.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/SloDy.png\" alt=\"message converters\"></a></p>\n\n<p><em>Why don't I want to provide a <code>MultiValueMap</code>?</em> Two reasons:</p>\n\n<ol>\n<li>this is general purpose code which is used to send requests to multiple endpoints, so adding an overload specifically for <code>x-www-form-urlencoded</code> will only complicate things</li>\n<li>it doesn't seem like I should have to -- I just don't know which HttpMessageConverter needs to be used to support converting objects to a <code>x-www-form-urlencoded</code> string</li>\n</ol>\n"},{"tags":["java","mysql"],"comments":[{"owner":{"account_id":27233794,"reputation":58,"user_id":20853314,"display_name":"Enrique Anguiano Vara"},"score":0,"creation_date":1687857649,"post_id":76563174,"comment_id":134991896,"body_markdown":"I think a trigger would be the best option. Keep in mind that it is a fully functional internal function of SQL. This makes that the programming language (in this case Java) must be independent to what it does in the database, in that particular case.","body":"I think a trigger would be the best option. Keep in mind that it is a fully functional internal function of SQL. This makes that the programming language (in this case Java) must be independent to what it does in the database, in that particular case."}],"answers":[{"tags":[],"owner":{"account_id":19395247,"reputation":3208,"user_id":14183092,"display_name":"kerbermeister"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687856339,"creation_date":1687856339,"answer_id":76563227,"question_id":76563174,"body_markdown":"I don&#39;t know what tech stack you&#39;re using, but for versioning and auditing you can use [Hibernate Envers][1] \r\n\r\nThe main purpose of Hibernate Envers is to enable automatic tracking and recording of changes made to entities, which allows you to maintain a historical view of your data without requiring manual tracking of changes.\r\n\r\n\r\n  [1]: https://docs.jboss.org/envers/docs/","title":"Add a history table in mysql","body":"<p>I don't know what tech stack you're using, but for versioning and auditing you can use <a href=\"https://docs.jboss.org/envers/docs/\" rel=\"nofollow noreferrer\">Hibernate Envers</a></p>\n<p>The main purpose of Hibernate Envers is to enable automatic tracking and recording of changes made to entities, which allows you to maintain a historical view of your data without requiring manual tracking of changes.</p>\n"}],"owner":{"account_id":28894171,"reputation":1,"user_id":22130562,"display_name":"aolei Guo"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1687856339,"creation_date":1687855883,"question_id":76563174,"body_markdown":"How do you implement on the back end, regardless of which table, when there is a data update, add a data to the history table.\r\n\r\nI think there are two ways to do this, but I don&#39;t know the implementation details:\r\n\r\n1.Add a method to the java backend that adds data to the history table when data changes in any table\r\n\r\n2.Add trigger scripts to mysql, but this approach is too cumbersome and requires adding triggers to every data table","title":"Add a history table in mysql","body":"<p>How do you implement on the back end, regardless of which table, when there is a data update, add a data to the history table.</p>\n<p>I think there are two ways to do this, but I don't know the implementation details:</p>\n<p>1.Add a method to the java backend that adds data to the history table when data changes in any table</p>\n<p>2.Add trigger scripts to mysql, but this approach is too cumbersome and requires adding triggers to every data table</p>\n"},{"tags":["java","tomcat","jboss","jetty"],"answers":[{"tags":[],"owner":{"account_id":9867,"reputation":618181,"user_id":18393,"accept_rate":82,"display_name":"cletus"},"down_vote_count":0,"up_vote_count":109,"is_accepted":false,"score":109,"last_activity_date":1516789214,"creation_date":1237497074,"answer_id":664089,"question_id":664059,"body_markdown":"This can&#39;t be done in an appserver agnostic way.  Context root isn&#39;t part of the standard web.xml file.  It&#39;s either specified when you deploy the app or in an appserver specific descriptor.\r\n\r\n - Glassfish: [sun-web.xml][1];\r\n - JBoss: [jboss-web.xml][2];\r\n - Weblogic: [weblogic.xml][3];\r\n - Tomcat: [context.xml][4];\r\n - WebSphere: [ibm-web-ext.xml][5].\r\n\r\n**Note:** the above applies to deploying WAR files.  EAR files are a different story and the context can be specified as part of the [application.xml deployment descriptor][6].\r\n\r\n\r\n  [1]: http://72.5.124.55/javaee/5/docs/tutorial/doc/bnadx.html#bnaeb\r\n  [2]: http://docs.jboss.org/jbossas/jboss4guide/r4/html/ch9.chapt.html\r\n  [3]: http://edocs.bea.com/wls/docs70/webapp/weblogic_xml.html#1037343\r\n  [4]: http://tomcat.apache.org/tomcat-7.0-doc/config/context.html\r\n  [5]: http://orebmann.blogspot.fr/2015/02/set-context-root-for-web-application.html\r\n  [6]: http://www.theserverside.com/tt/articles/content/J2EE-Deployment/chapter.html","title":"How do you specify the root context in your &lt;web-app&gt; tags in web.xml?","body":"<p>This can't be done in an appserver agnostic way.  Context root isn't part of the standard web.xml file.  It's either specified when you deploy the app or in an appserver specific descriptor.</p>\n\n<ul>\n<li>Glassfish: <a href=\"http://72.5.124.55/javaee/5/docs/tutorial/doc/bnadx.html#bnaeb\" rel=\"noreferrer\">sun-web.xml</a>;</li>\n<li>JBoss: <a href=\"http://docs.jboss.org/jbossas/jboss4guide/r4/html/ch9.chapt.html\" rel=\"noreferrer\">jboss-web.xml</a>;</li>\n<li>Weblogic: <a href=\"http://edocs.bea.com/wls/docs70/webapp/weblogic_xml.html#1037343\" rel=\"noreferrer\">weblogic.xml</a>;</li>\n<li>Tomcat: <a href=\"http://tomcat.apache.org/tomcat-7.0-doc/config/context.html\" rel=\"noreferrer\">context.xml</a>;</li>\n<li>WebSphere: <a href=\"http://orebmann.blogspot.fr/2015/02/set-context-root-for-web-application.html\" rel=\"noreferrer\">ibm-web-ext.xml</a>.</li>\n</ul>\n\n<p><strong>Note:</strong> the above applies to deploying WAR files.  EAR files are a different story and the context can be specified as part of the <a href=\"http://www.theserverside.com/tt/articles/content/J2EE-Deployment/chapter.html\" rel=\"noreferrer\">application.xml deployment descriptor</a>.</p>\n"},{"tags":[],"owner":{"account_id":6674226,"reputation":37,"user_id":5149457,"display_name":"Perky"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687856323,"creation_date":1543242440,"answer_id":53483233,"question_id":664059,"body_markdown":"You can use like this in web.xml.\r\n\r\n```xml\r\n&lt;env-entry&gt;\r\n\t&lt;description&gt;web app&lt;/description&gt;\t\r\n\t&lt;env-entry-name&gt;appCxtRoot&lt;/env-entry-name&gt;\r\n\t&lt;env-entry-type&gt;java.lang.String&lt;/env-entry-type&gt;\t\t\r\n\t&lt;env-entry-value&gt;webapp-@context-root-value@&lt;/env-entry-value&gt;\r\n&lt;/env-entry&gt;\r\n```","title":"How do you specify the root context in your &lt;web-app&gt; tags in web.xml?","body":"<p>You can use like this in web.xml.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;env-entry&gt;\n    &lt;description&gt;web app&lt;/description&gt;  \n    &lt;env-entry-name&gt;appCxtRoot&lt;/env-entry-name&gt;\n    &lt;env-entry-type&gt;java.lang.String&lt;/env-entry-type&gt;       \n    &lt;env-entry-value&gt;webapp-@context-root-value@&lt;/env-entry-value&gt;\n&lt;/env-entry&gt;\n</code></pre>\n"}],"owner":{"account_id":878436,"reputation":631,"user_id":80217,"display_name":"sewardrobert"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":95422,"favorite_count":0,"down_vote_count":0,"up_vote_count":60,"answer_count":2,"score":60,"last_activity_date":1687856323,"creation_date":1237496482,"question_id":664059,"body_markdown":"I would like to specify the root context of my Java web application in my WAR file. How can I do this using valid `web-app` XML in a `web.xml` file?\r\n\r\nOh, yes I would like to do this in an application server agnostic way.","title":"How do you specify the root context in your &lt;web-app&gt; tags in web.xml?","body":"<p>I would like to specify the root context of my Java web application in my WAR file. How can I do this using valid <code>web-app</code> XML in a <code>web.xml</code> file?</p>\n\n<p>Oh, yes I would like to do this in an application server agnostic way.</p>\n"},{"tags":["java","hadoop"],"comments":[{"owner":{"account_id":377596,"reputation":5231,"user_id":729819,"accept_rate":83,"display_name":"Ben Watson"},"score":1,"creation_date":1574174026,"post_id":58936162,"comment_id":104131518,"body_markdown":"I don&#39;t like that you have some weird characters in your file path, also Hadoop isn&#39;t formally supported in Windows. Whilst you should be able to get this to work somehow, it&#39;s much better to run a Docker container/VM.","body":"I don&#39;t like that you have some weird characters in your file path, also Hadoop isn&#39;t formally supported in Windows. Whilst you should be able to get this to work somehow, it&#39;s much better to run a Docker container/VM."}],"answers":[{"tags":[],"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1574315626,"creation_date":1574315626,"answer_id":58968134,"question_id":58936162,"body_markdown":"You need to run Hadoop, and your code, as a user without spaces in the name (not `king lui`)\r\n\r\nOne way to test this scenario is \r\n\r\n    set HADOOP_USER_NAME=myuser \r\n    yarn jar your-app.jar\r\n\r\nThen it might error saying that /user/myuser doesn&#39;t exist, but you can create that directory ","title":"Hadoop: Start of Reduce phase: FileNotFoundException output/file.out.index does not exist","body":"<p>You need to run Hadoop, and your code, as a user without spaces in the name (not <code>king lui</code>)</p>\n\n<p>One way to test this scenario is </p>\n\n<pre><code>set HADOOP_USER_NAME=myuser \nyarn jar your-app.jar\n</code></pre>\n\n<p>Then it might error saying that /user/myuser doesn't exist, but you can create that directory </p>\n"},{"tags":[],"owner":{"account_id":17132288,"reputation":13,"user_id":12398129,"display_name":"luifire"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687855945,"creation_date":1574343051,"answer_id":58976235,"question_id":58936162,"body_markdown":"Changing the username worked to a username without spaces worked.\r\n\r\nI tried this before trying `set HADOOP_USER_NAME=myuser`, so I don&#39;t know if this helps.\r\n","title":"Hadoop: Start of Reduce phase: FileNotFoundException output/file.out.index does not exist","body":"<p>Changing the username worked to a username without spaces worked.</p>\n<p>I tried this before trying <code>set HADOOP_USER_NAME=myuser</code>, so I don't know if this helps.</p>\n"}],"owner":{"account_id":17132288,"reputation":13,"user_id":12398129,"display_name":"luifire"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":473,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1687855945,"creation_date":1574173174,"question_id":58936162,"body_markdown":"I&#39;m trying to get Hadoop 3.1.0 to run on a Windows 10 system.\r\n\r\nThe exception I&#39;m receiving is:\r\n\r\n```\r\n2019-11-19 14:49:13,310 INFO mapreduce.Job:  map 100% reduce 0%\r\n2019-11-19 14:49:13,325 INFO mapred.LocalJobRunner: reduce task executor complete.\r\n2019-11-19 14:49:13,435 WARN mapred.LocalJobRunner: job_local1214244919_0001\r\njava.lang.Exception: org.apache.hadoop.mapreduce.task.reduce.Shuffle$ShuffleError: error in shuffle in localfetcher#1\r\n        at org.apache.hadoop.mapred.LocalJobRunner$Job.runTasks(LocalJobRunner.java:492)\r\n        at org.apache.hadoop.mapred.LocalJobRunner$Job.run(LocalJobRunner.java:559)\r\nCaused by: org.apache.hadoop.mapreduce.task.reduce.Shuffle$ShuffleError: error in shuffle in localfetcher#1\r\n        at org.apache.hadoop.mapreduce.task.reduce.Shuffle.run(Shuffle.java:134)\r\n        at org.apache.hadoop.mapred.ReduceTask.run(ReduceTask.java:377)\r\n        at org.apache.hadoop.mapred.LocalJobRunner$Job$ReduceTaskRunnable.run(LocalJobRunner.java:347)\r\n        at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)\r\n        at java.util.concurrent.FutureTask.run(FutureTask.java:266)\r\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\r\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\r\n        at java.lang.Thread.run(Thread.java:748)\r\n**Caused by: java.io.FileNotFoundException: File C:/tmp/hadoop-king%20lui/mapred/local/localRunner/king%20lui/jobcache/job_local1214244919_0001/attempt_local1214244919_0001_m_000001_0/output/file.out.index does not exist**\r\n        at org.apache.hadoop.fs.RawLocalFileSystem.deprecatedGetFileStatus(RawLocalFileSystem.java:641)\r\n        at org.apache.hadoop.fs.RawLocalFileSystem.getFileLinkStatusInternal(RawLocalFileSystem.java:930)\r\n        at org.apache.hadoop.fs.RawLocalFileSystem.getFileStatus(RawLocalFileSystem.java:631)\r\n        at org.apache.hadoop.fs.RawLocalFileSystem.open(RawLocalFileSystem.java:211)\r\n        at org.apache.hadoop.fs.FileSystem.open(FileSystem.java:950)\r\n        at org.apache.hadoop.io.SecureIOUtils.openFSDataInputStream(SecureIOUtils.java:152)\r\n        at org.apache.hadoop.mapred.SpillRecord.&lt;init&gt;(SpillRecord.java:71)\r\n        at org.apache.hadoop.mapred.SpillRecord.&lt;init&gt;(SpillRecord.java:62)\r\n        at org.apache.hadoop.mapred.SpillRecord.&lt;init&gt;(SpillRecord.java:57)\r\n        at org.apache.hadoop.mapreduce.task.reduce.LocalFetcher.copyMapOutput(LocalFetcher.java:125)\r\n        at org.apache.hadoop.mapreduce.task.reduce.LocalFetcher.doCopy(LocalFetcher.java:103)\r\n        at org.apache.hadoop.mapreduce.task.reduce.LocalFetcher.run(LocalFetcher.java:86)\r\n**2019-11-19 14:49:14,357 INFO mapreduce.Job: Job job_local1214244919_0001 failed with state FAILED due to: NA**\r\n2019-11-19 14:49:14,372 INFO mapreduce.Job: Counters: 18\r\n        File System Counters\r\n                FILE: Number of bytes read=840\r\n                FILE: Number of bytes written=991668\r\n                FILE: Number of read operations=0\r\n                FILE: Number of large read operations=0\r\n                FILE: Number of write operations=0\r\n        Map-Reduce Framework\r\n                Map input records=2\r\n                Map output records=8\r\n                Map output bytes=82\r\n                Map output materialized bytes=85\r\n                Input split bytes=204\r\n                Combine input records=8\r\n                Combine output records=6\r\n                Spilled Records=6\r\n                Failed Shuffles=0\r\n                Merged Map outputs=0\r\n                GC time elapsed (ms)=0\r\n                Total committed heap usage (bytes)=577241088\r\n        File Input Format Counters\r\n                Bytes Read=48\r\n```\r\n(I highlighted the parts I consider important with **)\r\n\r\nI&#39;m running the [introduction source code](https://hadoop.apache.org/docs/current/hadoop-mapreduce-client/hadoop-mapreduce-client-core/MapReduceTutorial.html#Source_Code) of Hadoop.\r\n\r\n - The folder for which the file is missing exists.\r\n - I deleted the entire tmp folder -&gt; didn&#39;t help.\r\n - I tried https://stackoverflow.com/questions/43836908/mapreduce-doesnt-produce-an-output but there was no such entry. Adding one didn&#39;t help either.\r\n","title":"Hadoop: Start of Reduce phase: FileNotFoundException output/file.out.index does not exist","body":"<p>I'm trying to get Hadoop 3.1.0 to run on a Windows 10 system.</p>\n\n<p>The exception I'm receiving is:</p>\n\n<pre><code>2019-11-19 14:49:13,310 INFO mapreduce.Job:  map 100% reduce 0%\n2019-11-19 14:49:13,325 INFO mapred.LocalJobRunner: reduce task executor complete.\n2019-11-19 14:49:13,435 WARN mapred.LocalJobRunner: job_local1214244919_0001\njava.lang.Exception: org.apache.hadoop.mapreduce.task.reduce.Shuffle$ShuffleError: error in shuffle in localfetcher#1\n        at org.apache.hadoop.mapred.LocalJobRunner$Job.runTasks(LocalJobRunner.java:492)\n        at org.apache.hadoop.mapred.LocalJobRunner$Job.run(LocalJobRunner.java:559)\nCaused by: org.apache.hadoop.mapreduce.task.reduce.Shuffle$ShuffleError: error in shuffle in localfetcher#1\n        at org.apache.hadoop.mapreduce.task.reduce.Shuffle.run(Shuffle.java:134)\n        at org.apache.hadoop.mapred.ReduceTask.run(ReduceTask.java:377)\n        at org.apache.hadoop.mapred.LocalJobRunner$Job$ReduceTaskRunnable.run(LocalJobRunner.java:347)\n        at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)\n        at java.util.concurrent.FutureTask.run(FutureTask.java:266)\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\n        at java.lang.Thread.run(Thread.java:748)\n**Caused by: java.io.FileNotFoundException: File C:/tmp/hadoop-king%20lui/mapred/local/localRunner/king%20lui/jobcache/job_local1214244919_0001/attempt_local1214244919_0001_m_000001_0/output/file.out.index does not exist**\n        at org.apache.hadoop.fs.RawLocalFileSystem.deprecatedGetFileStatus(RawLocalFileSystem.java:641)\n        at org.apache.hadoop.fs.RawLocalFileSystem.getFileLinkStatusInternal(RawLocalFileSystem.java:930)\n        at org.apache.hadoop.fs.RawLocalFileSystem.getFileStatus(RawLocalFileSystem.java:631)\n        at org.apache.hadoop.fs.RawLocalFileSystem.open(RawLocalFileSystem.java:211)\n        at org.apache.hadoop.fs.FileSystem.open(FileSystem.java:950)\n        at org.apache.hadoop.io.SecureIOUtils.openFSDataInputStream(SecureIOUtils.java:152)\n        at org.apache.hadoop.mapred.SpillRecord.&lt;init&gt;(SpillRecord.java:71)\n        at org.apache.hadoop.mapred.SpillRecord.&lt;init&gt;(SpillRecord.java:62)\n        at org.apache.hadoop.mapred.SpillRecord.&lt;init&gt;(SpillRecord.java:57)\n        at org.apache.hadoop.mapreduce.task.reduce.LocalFetcher.copyMapOutput(LocalFetcher.java:125)\n        at org.apache.hadoop.mapreduce.task.reduce.LocalFetcher.doCopy(LocalFetcher.java:103)\n        at org.apache.hadoop.mapreduce.task.reduce.LocalFetcher.run(LocalFetcher.java:86)\n**2019-11-19 14:49:14,357 INFO mapreduce.Job: Job job_local1214244919_0001 failed with state FAILED due to: NA**\n2019-11-19 14:49:14,372 INFO mapreduce.Job: Counters: 18\n        File System Counters\n                FILE: Number of bytes read=840\n                FILE: Number of bytes written=991668\n                FILE: Number of read operations=0\n                FILE: Number of large read operations=0\n                FILE: Number of write operations=0\n        Map-Reduce Framework\n                Map input records=2\n                Map output records=8\n                Map output bytes=82\n                Map output materialized bytes=85\n                Input split bytes=204\n                Combine input records=8\n                Combine output records=6\n                Spilled Records=6\n                Failed Shuffles=0\n                Merged Map outputs=0\n                GC time elapsed (ms)=0\n                Total committed heap usage (bytes)=577241088\n        File Input Format Counters\n                Bytes Read=48\n</code></pre>\n\n<p>(I highlighted the parts I consider important with **)</p>\n\n<p>I'm running the <a href=\"https://hadoop.apache.org/docs/current/hadoop-mapreduce-client/hadoop-mapreduce-client-core/MapReduceTutorial.html#Source_Code\" rel=\"nofollow noreferrer\">introduction source code</a> of Hadoop.</p>\n\n<ul>\n<li>The folder for which the file is missing exists.</li>\n<li>I deleted the entire tmp folder -> didn't help.</li>\n<li>I tried <a href=\"https://stackoverflow.com/questions/43836908/mapreduce-doesnt-produce-an-output\">MapReduce doesn&#39;t produce an output</a> but there was no such entry. Adding one didn't help either.</li>\n</ul>\n"},{"tags":["java","android","kotlin","brightcove"],"comments":[{"owner":{"account_id":11288679,"reputation":923,"user_id":8278630,"display_name":"Farkhod Abdukodirov"},"score":0,"creation_date":1687830862,"post_id":76555836,"comment_id":134988197,"body_markdown":"Did you at least try, if so provide source code as well","body":"Did you at least try, if so provide source code as well"},{"owner":{"account_id":28896843,"reputation":1,"user_id":22132674,"display_name":"Sumit Shaw"},"score":0,"creation_date":1687855217,"post_id":76555836,"comment_id":134991388,"body_markdown":"Yes already tried please see my code above @FarkhodAbdukodirov","body":"Yes already tried please see my code above @FarkhodAbdukodirov"},{"owner":{"account_id":28896843,"reputation":1,"user_id":22132674,"display_name":"Sumit Shaw"},"score":0,"creation_date":1687883894,"post_id":76555836,"comment_id":134998203,"body_markdown":"Any response @FarkhodAbdukodirov","body":"Any response @FarkhodAbdukodirov"}],"owner":{"account_id":28896843,"reputation":1,"user_id":22132674,"display_name":"Sumit Shaw"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687855046,"creation_date":1687775455,"question_id":76555836,"body_markdown":"How to add pending intent when someone clicks in download notification in BrightCoveOS Android.\r\n\r\nI used MediaDownloadable object for requesting download video in BrightCoveOS and I want to hide default notification provided by BrightCoveOS and want to add my own custom notification. For achieving this i used RequestConfig setNotificationVisibilty method but this didn&#39;t works.\r\n\r\nAnd i also work with PlayerNotification manager but I&#39;d didn&#39;t understand how to use this with BrightCoveOS android.\r\n\r\nHere is my code (1st way downloading video without adding hiding notification code)\r\n\r\n    catalog.getMediaFormatTracksAvailable(video, (mediaDownloadable, bundle) -&gt; {\r\n             List&lt;MediaFormat&gt; list = bundle.getParcelableArrayList(MediaDownloadable.VIDEO_RENDITIONS);\r\n             if (list != null) {\r\n                 brightCoveQualityHolders.clear();\r\n                 int bitrate = 0;\r\n                 for (MediaFormat media : list) {\r\n                     brightCoveQualityHolders.add(new BrightCoveQualityHolder(media.width, media.height, media.bitrate));\r\n                     if (media.height == 360) {\r\n                         bitrate = media.bitrate;\r\n                     }\r\n                     String msg = &quot;width &quot; + media.width + &quot; height &quot; + media.height + &quot; bitrate &quot; + media.bitrate;\r\n                     Log.d(TAG,msg);\r\n                 }\r\n                 catalog.setVideoBitrate(bitrate);\r\n \r\n                 getVideo(video, new OfflineCallback&lt;&gt;() {\r\n                     @Override\r\n                     public void onSuccess(Video video1) {\r\n                         if (video1.isClearContent()) {\r\n                             videoListListener.downloadVideo(video1);\r\n                         }\r\n                     }\r\n \r\n                     @Override\r\n                     public void onFailure(Throwable throwable) {\r\n \r\n                     }\r\n                 });\r\n            });\r\n\r\n2nd way (hiding notification (not work) with downloading work but some times not)\r\n\r\n     catalog.findVideoByID(brightCoveVideoId, new VideoListener() {\r\n     @Override\r\n     public void onVideo(Video video) {\r\n         mediaDownloadable = MediaDownloadable.create(context, video, downloadEventListener, new RequestConfig().setNotificationVisibility(RequestConfig.VISIBILITY_HIDDEN));\r\n         mediaDownloadable.requestDownload();\r\n         String name = allRecordModel.getTitle();\r\n         video.getProperties().put(Video.Fields.NAME, name);\r\n         progressDialog.show();\r\n     }\r\n });\r\n","title":"How to add pending intent in notification BrightCoveOS","body":"<p>How to add pending intent when someone clicks in download notification in BrightCoveOS Android.</p>\n<p>I used MediaDownloadable object for requesting download video in BrightCoveOS and I want to hide default notification provided by BrightCoveOS and want to add my own custom notification. For achieving this i used RequestConfig setNotificationVisibilty method but this didn't works.</p>\n<p>And i also work with PlayerNotification manager but I'd didn't understand how to use this with BrightCoveOS android.</p>\n<p>Here is my code (1st way downloading video without adding hiding notification code)</p>\n<pre><code>catalog.getMediaFormatTracksAvailable(video, (mediaDownloadable, bundle) -&gt; {\n         List&lt;MediaFormat&gt; list = bundle.getParcelableArrayList(MediaDownloadable.VIDEO_RENDITIONS);\n         if (list != null) {\n             brightCoveQualityHolders.clear();\n             int bitrate = 0;\n             for (MediaFormat media : list) {\n                 brightCoveQualityHolders.add(new BrightCoveQualityHolder(media.width, media.height, media.bitrate));\n                 if (media.height == 360) {\n                     bitrate = media.bitrate;\n                 }\n                 String msg = &quot;width &quot; + media.width + &quot; height &quot; + media.height + &quot; bitrate &quot; + media.bitrate;\n                 Log.d(TAG,msg);\n             }\n             catalog.setVideoBitrate(bitrate);\n\n             getVideo(video, new OfflineCallback&lt;&gt;() {\n                 @Override\n                 public void onSuccess(Video video1) {\n                     if (video1.isClearContent()) {\n                         videoListListener.downloadVideo(video1);\n                     }\n                 }\n\n                 @Override\n                 public void onFailure(Throwable throwable) {\n\n                 }\n             });\n        });\n</code></pre>\n<p>2nd way (hiding notification (not work) with downloading work but some times not)</p>\n<pre><code> catalog.findVideoByID(brightCoveVideoId, new VideoListener() {\n @Override\n public void onVideo(Video video) {\n     mediaDownloadable = MediaDownloadable.create(context, video, downloadEventListener, new RequestConfig().setNotificationVisibility(RequestConfig.VISIBILITY_HIDDEN));\n     mediaDownloadable.requestDownload();\n     String name = allRecordModel.getTitle();\n     video.getProperties().put(Video.Fields.NAME, name);\n     progressDialog.show();\n }\n</code></pre>\n<p>});</p>\n"},{"tags":["java","jmeter"],"answers":[{"tags":[],"owner":{"account_id":3460456,"reputation":162728,"user_id":2897748,"display_name":"Dmitri T"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687848699,"creation_date":1687848699,"answer_id":76562268,"question_id":76561394,"body_markdown":"Normal users don&#39;t have access to `Program Files` folder, the options are in:\r\n\r\n 1. Run JMeter [as administrator][1]\r\n 2. Grant your user [write access][2] to the folder where JMeter is installed\r\n 3. Move your JMeter installation to i.e. your [home folder][3] where you have the full control\r\n\r\nAlso there are 3 errors in the [jmeter.log file][4] so it worth checking out what else is wrong. \r\n\r\n\r\n  [1]: https://learn.microsoft.com/en-us/troubleshoot/windows-server/shell-experience/use-run-as-start-app-admin\r\n  [2]: https://www.dell.com/support/kbdoc/en-ed/000137238/understanding-file-and-folder-permissions-in-windows?lwp=rt\r\n  [3]: https://en.wikipedia.org/wiki/Home_directory\r\n  [4]: https://www.blazemeter.com/blog/jmeter-logging","title":"Unable to save test plan in jmeter","body":"<p>Normal users don't have access to <code>Program Files</code> folder, the options are in:</p>\n<ol>\n<li>Run JMeter <a href=\"https://learn.microsoft.com/en-us/troubleshoot/windows-server/shell-experience/use-run-as-start-app-admin\" rel=\"nofollow noreferrer\">as administrator</a></li>\n<li>Grant your user <a href=\"https://www.dell.com/support/kbdoc/en-ed/000137238/understanding-file-and-folder-permissions-in-windows?lwp=rt\" rel=\"nofollow noreferrer\">write access</a> to the folder where JMeter is installed</li>\n<li>Move your JMeter installation to i.e. your <a href=\"https://en.wikipedia.org/wiki/Home_directory\" rel=\"nofollow noreferrer\">home folder</a> where you have the full control</li>\n</ol>\n<p>Also there are 3 errors in the <a href=\"https://www.blazemeter.com/blog/jmeter-logging\" rel=\"nofollow noreferrer\">jmeter.log file</a> so it worth checking out what else is wrong.</p>\n"}],"owner":{"account_id":26897771,"reputation":1,"user_id":20475412,"display_name":"Phung"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1687854961,"creation_date":1687835903,"question_id":76561394,"body_markdown":"I tried to save test plan in Jmeter but always shows an error like this ![unsaved](https://i.stack.imgur.com/p4IZh.png). I am using Java 8 ![Java 8](https://i.stack.imgur.com/G0C0y.png) and tried to change Look and Feel to &quot;Window&quot; \r\nAnyone can help me with this?? Many Thanks.\r\n\r\nshould not show error??","title":"Unable to save test plan in jmeter","body":"<p>I tried to save test plan in Jmeter but always shows an error like this <img src=\"https://i.stack.imgur.com/p4IZh.png\" alt=\"unsaved\" />. I am using Java 8 <img src=\"https://i.stack.imgur.com/G0C0y.png\" alt=\"Java 8\" /> and tried to change Look and Feel to &quot;Window&quot;\nAnyone can help me with this?? Many Thanks.</p>\n<p>should not show error??</p>\n"},{"tags":["java","mongodb","spring-boot","mongo-java-driver"],"answers":[{"tags":[],"owner":{"account_id":9010593,"reputation":2151,"user_id":6715384,"display_name":"HMT"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1687854939,"creation_date":1687854939,"answer_id":76563063,"question_id":76330110,"body_markdown":"The issue was with the Match Pipeline , it was adding and two times but it was working fine in previous version biut breaking when we were using the new verison. I modified the below code :\r\nInstead of this\r\n \r\n\r\n    pipeline.add(and\r\n\r\nUse this:\r\n\r\n    pipeline.addAll","title":"Getting issue Upgrading from Mongo driver version 3.8.1 to 4.6.1","body":"<p>The issue was with the Match Pipeline , it was adding and two times but it was working fine in previous version biut breaking when we were using the new verison. I modified the below code :\nInstead of this</p>\n<pre><code>pipeline.add(and\n</code></pre>\n<p>Use this:</p>\n<pre><code>pipeline.addAll\n</code></pre>\n"}],"owner":{"account_id":9010593,"reputation":2151,"user_id":6715384,"display_name":"HMT"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":60,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":76563063,"answer_count":1,"score":-1,"last_activity_date":1687854939,"creation_date":1685001809,"question_id":76330110,"body_markdown":"After updating the mongo driver version from 3.8.1 to 4.6.1. I am getting below error in my existing queries\r\n\r\n    &quot;Unrecognized pipeline stage name: &#39;$and&#39;&quot;\r\n\r\nAll the aggregations were working Earlier. \r\nSpring boot version - 2.7.10\r\nJava version - 11\r\n\r\nIf I revert the version from 4.6.1 to 3.8.1, I get class not defined error. Pls help me in resolving this issue","title":"Getting issue Upgrading from Mongo driver version 3.8.1 to 4.6.1","body":"<p>After updating the mongo driver version from 3.8.1 to 4.6.1. I am getting below error in my existing queries</p>\n<pre><code>&quot;Unrecognized pipeline stage name: '$and'&quot;\n</code></pre>\n<p>All the aggregations were working Earlier.\nSpring boot version - 2.7.10\nJava version - 11</p>\n<p>If I revert the version from 4.6.1 to 3.8.1, I get class not defined error. Pls help me in resolving this issue</p>\n"},{"tags":["java","android","kotlin","notifications","android-notifications"],"answers":[{"tags":[],"owner":{"account_id":2278328,"reputation":2637,"user_id":2004073,"accept_rate":80,"display_name":"Mike"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1687842636,"creation_date":1687842636,"answer_id":76561775,"question_id":76560498,"body_markdown":"The correct usage is:\r\n\r\n    val notificationManager = getSystemService(NOTIFICATION_SERVICE) as NotificationManager\r\n    \r\n\r\nor \r\n\r\n    val notificationManager = getSystemService(requireContext(), NotificationManager::class.java)\r\n","title":"getSystemService need NOTIFICATION_SERVICE as Class&lt;TypeVariable(T)!&gt;","body":"<p>The correct usage is:</p>\n<pre><code>val notificationManager = getSystemService(NOTIFICATION_SERVICE) as NotificationManager\n</code></pre>\n<p>or</p>\n<pre><code>val notificationManager = getSystemService(requireContext(), NotificationManager::class.java)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19757338,"reputation":19,"user_id":14467335,"display_name":"jobR45"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1687854782,"creation_date":1687854782,"answer_id":76563037,"question_id":76560498,"body_markdown":"An other way of using it is : \r\n \r\n\r\n    val  notificationManager = context.getSystemService(Context.NOTIFICATION_SERVICE) as NotificationManager\r\n","title":"getSystemService need NOTIFICATION_SERVICE as Class&lt;TypeVariable(T)!&gt;","body":"<p>An other way of using it is :</p>\n<pre><code>val  notificationManager = context.getSystemService(Context.NOTIFICATION_SERVICE) as NotificationManager\n</code></pre>\n"}],"owner":{"account_id":24585825,"reputation":31,"user_id":18490357,"display_name":"Zen Ryuu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1687854782,"creation_date":1687817269,"question_id":76560498,"body_markdown":"So I want to create a notification reminder for my app. But when I want to create a notification channel, I already look at internet and documentation for the code but the getSystemService method show me an error.\r\n```\r\nType mismatch: inferred type is String but Class&lt;TypeVariable(T)!&gt; was expected\r\n```\r\nMy code\r\n```\r\nprivate fun createNotificationChannel()\r\n    {\r\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O){\r\n            val name = &quot;Notif Channel&quot;\r\n            val desc = &quot;A Description of the Channel&quot;\r\n            val importance = NotificationManager.IMPORTANCE_DEFAULT\r\n            val channel = NotificationChannel(channelID, name, importance)\r\n            channel.description = desc\r\n//line below error\r\n            val notificationManager = getSystemService(requireContext(), NOTIFICATION_SERVICE) as NotificationManager\r\n//----------------\r\n            notificationManager.createNotificationChannel(channel)\r\n        }\r\n    }\r\n```\r\n\r\nAnyone know how to deal with this?","title":"getSystemService need NOTIFICATION_SERVICE as Class&lt;TypeVariable(T)!&gt;","body":"<p>So I want to create a notification reminder for my app. But when I want to create a notification channel, I already look at internet and documentation for the code but the getSystemService method show me an error.</p>\n<pre><code>Type mismatch: inferred type is String but Class&lt;TypeVariable(T)!&gt; was expected\n</code></pre>\n<p>My code</p>\n<pre><code>private fun createNotificationChannel()\n    {\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O){\n            val name = &quot;Notif Channel&quot;\n            val desc = &quot;A Description of the Channel&quot;\n            val importance = NotificationManager.IMPORTANCE_DEFAULT\n            val channel = NotificationChannel(channelID, name, importance)\n            channel.description = desc\n//line below error\n            val notificationManager = getSystemService(requireContext(), NOTIFICATION_SERVICE) as NotificationManager\n//----------------\n            notificationManager.createNotificationChannel(channel)\n        }\n    }\n</code></pre>\n<p>Anyone know how to deal with this?</p>\n"},{"tags":["java","oracle","spring-boot","solace-mq"],"owner":{"account_id":4646436,"reputation":67,"user_id":3764591,"display_name":"Turbo Dynamics"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687854725,"creation_date":1687854725,"question_id":76563030,"body_markdown":"I am using Solace queue and reading messages from the queue. The messages in the queue having versions because I am working in multithreaded env. and with multiple instances, so it is quite possible that application would read the messages without sequence. \r\n\r\nSo, I need a solution for that so I can process the message in sequence only. \r\nExample: Message1 version are 1, 2, 3, 4......so on.\r\n         Message2 version are 1, 2, 3, 4......so on.\r\n\r\nNote: We are stroing messages in db so previous version we can get from DB.\r\n\r\nCondition:- if some instance is picking Message1 and Version 1 and some other instance is picking version 3 of same message, so version 1 would process first and application should be smart enough to wait for version 2, then processed for version 3. If version 2 never come so there should be some timeout and version 3 would be discarded.\r\n\r\nNote: It’s a real time message processing application so performance also matters.\r\n\r\n\r\nI was thinking to implement some in-memory hash map, that would store the messages in HashMap if currentVersion != previousVersion+1, \r\nif we receive the previousVersion+1 then check the HashMap again and process the next version if that HashMap contains it.\r\nBut problem is that we have multiple JVMs, so this approach would not work.\r\nPlease let me know if anyone has any better approach to achieve this.","title":"Implementation of sequencer, that can check the message version sequence","body":"<p>I am using Solace queue and reading messages from the queue. The messages in the queue having versions because I am working in multithreaded env. and with multiple instances, so it is quite possible that application would read the messages without sequence.</p>\n<p>So, I need a solution for that so I can process the message in sequence only.\nExample: Message1 version are 1, 2, 3, 4......so on.\nMessage2 version are 1, 2, 3, 4......so on.</p>\n<p>Note: We are stroing messages in db so previous version we can get from DB.</p>\n<p>Condition:- if some instance is picking Message1 and Version 1 and some other instance is picking version 3 of same message, so version 1 would process first and application should be smart enough to wait for version 2, then processed for version 3. If version 2 never come so there should be some timeout and version 3 would be discarded.</p>\n<p>Note: It’s a real time message processing application so performance also matters.</p>\n<p>I was thinking to implement some in-memory hash map, that would store the messages in HashMap if currentVersion != previousVersion+1,\nif we receive the previousVersion+1 then check the HashMap again and process the next version if that HashMap contains it.\nBut problem is that we have multiple JVMs, so this approach would not work.\nPlease let me know if anyone has any better approach to achieve this.</p>\n"},{"tags":["java","unity-game-engine","gradle","android-gradle-plugin","gvr-android-sdk"],"answers":[{"tags":[],"owner":{"account_id":8238102,"reputation":20380,"user_id":6196568,"display_name":"shingo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682144917,"creation_date":1682144917,"answer_id":76078318,"question_id":76078271,"body_markdown":"You confused the gradle and the android gradle plugin, check this link: https://docs.unity3d.com/2023.2/Documentation/Manual/android-gradle-overview.html\r\n\r\nIn the build.gradle file, the thing you need to configure is the android gradle plugin, the corresponding version is 4.0.1.\r\n\r\n    classpath &#39;com.android.tools.build:gradle:4.0.1&#39;\r\n\r\nBy the way the gradle path is set in the preferences in Unity.","title":"Unity Gradle Build Failed: :launcher","body":"<p>You confused the gradle and the android gradle plugin, check this link: <a href=\"https://docs.unity3d.com/2023.2/Documentation/Manual/android-gradle-overview.html\" rel=\"nofollow noreferrer\">https://docs.unity3d.com/2023.2/Documentation/Manual/android-gradle-overview.html</a></p>\n<p>In the build.gradle file, the thing you need to configure is the android gradle plugin, the corresponding version is 4.0.1.</p>\n<pre><code>classpath 'com.android.tools.build:gradle:4.0.1'\n</code></pre>\n<p>By the way the gradle path is set in the preferences in Unity.</p>\n"},{"tags":[],"owner":{"account_id":25309519,"reputation":11,"user_id":19132447,"display_name":"DUKE"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683027535,"creation_date":1683027535,"answer_id":76154469,"question_id":76078271,"body_markdown":" I follow through the tutorials on official google vr website and everything is working fine now","title":"Unity Gradle Build Failed: :launcher","body":"<p>I follow through the tutorials on official google vr website and everything is working fine now</p>\n"},{"tags":[],"owner":{"account_id":3371983,"reputation":607,"user_id":2831015,"display_name":"Dover8"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687854702,"creation_date":1687854702,"answer_id":76563027,"question_id":76078271,"body_markdown":"Are you running this locally, or on a jenkins build machine? I had a similar issue and found that ensuring the jenkins agent service was running on an admin account, rather than the &quot;LocalSystem&quot; account fixed the issue. See https://stackoverflow.com/a/63048521/2831015","title":"Unity Gradle Build Failed: :launcher","body":"<p>Are you running this locally, or on a jenkins build machine? I had a similar issue and found that ensuring the jenkins agent service was running on an admin account, rather than the &quot;LocalSystem&quot; account fixed the issue. See <a href=\"https://stackoverflow.com/a/63048521/2831015\">https://stackoverflow.com/a/63048521/2831015</a></p>\n"}],"owner":{"account_id":25309519,"reputation":11,"user_id":19132447,"display_name":"DUKE"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1151,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1687854702,"creation_date":1682144355,"question_id":76078271,"body_markdown":"```\r\nCommandInvokationFailure: Gradle build failed. \r\nC:\\Program Files\\Unity\\Hub\\Editor\\2021.3.20f1\\Editor\\Data\\PlaybackEngines\\AndroidPlayer\\OpenJDK\\bin\\java.exe -classpath &quot;C:\\Program Files\\Unity\\Hub\\Editor\\2021.3.20f1\\Editor\\Data\\PlaybackEngines\\AndroidPlayer\\Tools\\gradle\\lib\\gradle-launcher-6.1.1.jar&quot; org.gradle.launcher.GradleMain &quot;-Dorg.gradle.jvmargs=-Xmx4096m&quot; &quot;assembleRelease&quot;\r\n\r\nEnvironment Variables:\r\nKMP_DUPLICATE_LIB_OK = TRUE\r\nCUDA_CACHE_MAXSIZE = 268435456\r\nProgramFiles = C:\\Program Files\r\nTMP = C:\\Users\\devau\\AppData\\Local\\Temp\r\nNVVFX_MODEL_DIR = C:\\Program Files\\NVIDIA Corporation\\NVIDIA Video Effects\\models\r\nPROCESSOR_ARCHITECTURE = AMD64\r\nBAZEL_SH = c:\\msys64\\usr\\bin\\bash.exe\r\nPATHEXT = .COM;.EXE;.BAT;.CMD;.VBS;.VBE;.JS;.JSE;.WSF;.WSH;.MSC\r\nORIGINAL_XDG_CURRENT_DESKTOP = undefined\r\nOS = Windows_NT\r\nCHROME_CRASHPAD_PIPE_NAME = \\\\.\\pipe\\crashpad_12536_WDEHADUWIWVDKREW\r\nPROCESSOR_IDENTIFIER = Intel64 Family 6 Model 141 Stepping 1, GenuineIntel\r\nVRAY_MDL_PATH_3DSMAX2023 = C:\\Program Files\\Chaos Group\\V-Ray\\3ds Max 2023\\mdl\r\nProgramW6432 = C:\\Program Files\r\nPROCESSOR_REVISION = 8d01\r\nUSERPROFILE = C:\\Users\\devau\r\nJAVA_HOME = C:\\Program Files\\Unity\\Hub\\Editor\\2021.3.20f1\\Editor\\Data\\PlaybackEngines\\AndroidPlayer\\OpenJDK\r\nCommonProgramFiles = C:\\Program Files\\Common Files\r\nDriverData = C:\\Windows\\System32\\Drivers\\DriverData\r\nComSpec = C:\\Windows\\system32\\cmd.exe\r\nINTEL_DEV_REDIST = C:\\Program Files (x86)\\Common Files\\Intel\\Shared Libraries\\\r\nUSERDOMAIN = LAPTOP-9HLG01UH\r\nPUBLIC = C:\\Users\\Public\r\nSystemRoot = C:\\Windows\r\nPSModulePath = C:\\Program Files\\WindowsPowerShell\\Modules;C:\\Windows\\system32\\WindowsPowerShell\\v1.0\\Modules\r\nNUMBER_OF_PROCESSORS = 16\r\nZES_ENABLE_SYSMAN = 1\r\nMIC_LD_LIBRARY_PATH = C:\\Program Files (x86)\\Common Files\\Intel\\Shared Libraries\\compiler\\lib\\mic\r\nJAVA_TOOL_OPTIONS = -Dfile.encoding=UTF-8\r\nADSK_3DSMAX_x64_2023 = C:\\Program Files\\Autodesk\\3ds Max 2023\\\r\nADSK_3DSMAX_x64_2020 = C:\\Program Files\\Autodesk\\3ds Max 2020\\\r\nTEMP = C:\\Users\\devau\\AppData\\Local\\Temp\r\nPath = C:\\Program Files (x86)\\Common Files\\Intel\\Shared Libraries\\redist\\intel64\\compiler;C:\\Windows\\system32;C:\\Windows;C:\\Windows\\System32\\Wbem;C:\\Windows\\System32\\WindowsPowerShell\\v1.0\\;C:\\Windows\\System32\\OpenSSH\\;C:\\Program Files (x86)\\NVIDIA Corporation\\PhysX\\Common;C:\\Program Files\\nodejs\\;C:\\Program Files\\Git\\cmd;C:\\Program Files (x86)\\QuickTime\\QTSystem\\;C:\\Program Files (x86)\\Common Files\\Autodesk Shared\\;C:\\Program Files\\dotnet\\;C:\\Program Files\\Microsoft SQL Server\\120\\Tools\\Binn\\;C:\\Users\\devau\\AppData\\Local\\Microsoft\\WindowsApps;C:\\Users\\devau\\AppData\\Roaming\\npm;C:\\Users\\devau\\AppData\\Local\\Programs\\Microsoft VS Code\\bin;C:\\adb;C:\\Program Files\\Common Files\\Autodesk Shared\\;C:\\Program Files\\NVIDIA Corporation\\NVIDIA NvDLISR;C:\\Python27;C:\\Users\\devau\\AppData\\Local\\Microsoft\\WindowsApps;C:\\Users\\devau\\AppData\\Roaming\\npm;C:\\Users\\devau\\AppData\\Local\\Programs\\Microsoft VS Code\\bin;C:\\Users\\devau\\AppData\\Local\\Programs\\Python\\Python310\\Scripts;C:\\tmp;C:\\msys64\\usr\\bin;C:\\nuget;C:\\Users\\devau\\AppData\\Roaming\\Python\\Python310\\site-packages\\virtualenv;C:\\Users\\devau\\AppData\\Local\\Programs\\MiKTeX\\miktex\\bin\\x64\\\r\nVRAY_FOR_3DSMAX2023_MAIN = C:\\ProgramData\\Autodesk\\ApplicationPlugins\\VRay3dsMax2023/bin\r\nUSERNAME = devau\r\nCOMPUTERNAME = LAPTOP-9HLG01UH\r\nVRAY_FOR_3DSMAX2023_PLUGINS = C:\\ProgramData\\Autodesk\\ApplicationPlugins\\VRay3dsMax2023/bin/plugins\r\nVRAY_OSL_PATH_3DSMAX2023 = C:\\ProgramData\\Autodesk\\ApplicationPlugins\\VRay3dsMax2023\\opensl\r\nALLUSERSPROFILE = C:\\ProgramData\r\nSystemDrive = C:\r\nwindir = C:\\Windows\r\nHOMEDRIVE = C:\r\nVRAY_SEND_FEEDBACK = 0\r\nHOMEPATH = \\Users\\devau\r\nCommonProgramFiles(x86) = C:\\Program Files (x86)\\Common Files\r\nAPPDATA = C:\\Users\\devau\\AppData\\Roaming\r\nOneDrive = C:\\Users\\devau\\OneDrive\r\nPROCESSOR_LEVEL = 6\r\nCommonProgramW6432 = C:\\Program Files\\Common Files\r\nProgramFiles(x86) = C:\\Program Files (x86)\r\nNVIDIAWHITELISTED = 0x01\r\nSESSIONNAME = Console\r\nLOGONSERVER = \\\\LAPTOP-9HLG01UH\r\nLOCALAPPDATA = C:\\Users\\devau\\AppData\\Local\r\nPT8HOME = C:\\Program Files\\Cisco Packet Tracer 8.1.1\r\nSHIM_MCCOMPAT = 0x810000001\r\nUSERDOMAIN_ROAMINGPROFILE = LAPTOP-9HLG01UH\r\nProgramData = C:\\ProgramData\r\n\r\n\r\nstderr[\r\n\r\nFAILURE: Build failed with an exception.\r\n\r\n* What went wrong:\r\nA problem occurred configuring project &#39;:launcher&#39;.\r\n&gt; Could not resolve all artifacts for configuration &#39;:launcher:classpath&#39;.\r\n   &gt; Could not find com.android.tools.build:gradle:6.1.1.\r\n     Searched in the following locations:\r\n       - https://dl.google.com/dl/android/maven2/com/android/tools/build/gradle/6.1.1/gradle-6.1.1.pom\r\n       - https://jcenter.bintray.com/com/android/tools/build/gradle/6.1.1/gradle-6.1.1.pom\r\n     Required by:\r\n         project :launcher\r\n\r\n* Try:\r\nRun with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output. Run with --scan to get full insights.\r\n\r\n* Get more help at https://help.gradle.org\r\n\r\nBUILD FAILED in 1s\r\nPicked up JAVA_TOOL_OPTIONS: -Dfile.encoding=UTF-8\r\n]\r\nstdout[\r\n\r\n]\r\nexit code: 1\r\nUnityEditor.Android.Command.WaitForProgramToRun (UnityEditor.Utils.Program p, UnityEditor.Android.Command+WaitingForProcessToExit waitingForProcessToExit, System.String errorMsg) (at &lt;53a24fd937e24f249a40af7ff60927ab&gt;:0)\r\nUnityEditor.Android.Command.Run (System.Diagnostics.ProcessStartInfo psi, UnityEditor.Android.Command+WaitingForProcessToExit waitingForProcessToExit, System.String errorMsg) (at &lt;53a24fd937e24f249a40af7ff60927ab&gt;:0)\r\nUnityEditor.Android.Command.Run (System.String command, System.String args, System.String workingdir, UnityEditor.Android.Command+WaitingForProcessToExit waitingForProcessToExit, System.String errorMsg) (at &lt;53a24fd937e24f249a40af7ff60927ab&gt;:0)\r\nUnityEditor.Android.AndroidJavaTools.RunJava (System.String args, System.String workingdir, System.Action`1[T] progress, System.String error) (at &lt;53a24fd937e24f249a40af7ff60927ab&gt;:0)\r\nUnityEditor.Android.GradleWrapper.Run (UnityEditor.Android.AndroidJavaTools javaTools, Unity.Android.Gradle.AndroidGradle androidGradle, System.String workingdir, System.String task, System.Action`1[T] progress) (at &lt;53a24fd937e24f249a40af7ff60927ab&gt;:0)\r\nRethrow as GradleInvokationException: Gradle build failed\r\nUnityEditor.Android.GradleWrapper.Run (UnityEditor.Android.AndroidJavaTools javaTools, Unity.Android.Gradle.AndroidGradle androidGradle, System.String workingdir, System.String task, System.Action`1[T] progress) (at &lt;53a24fd937e24f249a40af7ff60927ab&gt;:0)\r\nUnityEditor.Android.PostProcessor.Tasks.BuildGradleProject.Execute (UnityEditor.Android.PostProcessor.PostProcessorContext context) (at &lt;53a24fd937e24f249a40af7ff60927ab&gt;:0)\r\nUnityEditor.Android.PostProcessor.PostProcessRunner.RunAllTasks (UnityEditor.Android.PostProcessor.PostProcessorContext context) (at &lt;53a24fd937e24f249a40af7ff60927ab&gt;:0)\r\nRethrow as BuildFailedException: Exception of type &#39;UnityEditor.Build.BuildFailedException&#39; was thrown.\r\nUnityEditor.Android.PostProcessor.CancelPostProcess.AbortBuild (System.String title, System.String message, System.Exception ex) (at &lt;53a24fd937e24f249a40af7ff60927ab&gt;:0)\r\nUnityEditor.Android.PostProcessor.PostProcessRunner.RunAllTasks (UnityEditor.Android.PostProcessor.PostProcessorContext context) (at &lt;53a24fd937e24f249a40af7ff60927ab&gt;:0)\r\nUnityEditor.Android.PostProcessAndroidPlayer.PostProcess (UnityEditor.Modules.BuildPostProcessArgs args, AndroidPlayerBuildProgram.Data.AndroidPlayerBuildProgramOutput buildProgramOutput) (at &lt;53a24fd937e24f249a40af7ff60927ab&gt;:0)\r\nUnityEditor.Android.AndroidBuildPostprocessor.PostProcess (UnityEditor.Modules.BuildPostProcessArgs args, UnityEditor.BuildProperties&amp; outProperties) (at &lt;53a24fd937e24f249a40af7ff60927ab&gt;:0)\r\nUnityEditor.PostprocessBuildPlayer.Postprocess (UnityEditor.BuildTargetGroup targetGroup, UnityEditor.BuildTarget target, System.Int32 subtarget, System.String installPath, System.String companyName, System.String productName, System.Int32 width, System.Int32 height, UnityEditor.BuildOptions options, UnityEditor.RuntimeClassRegistry usedClassRegistry, UnityEditor.Build.Reporting.BuildReport report) (at &lt;6e08e61cfda04255b3972ba7f0515fae&gt;:0)\r\nUnityEngine.GUIUtility:ProcessEvent(Int32, IntPtr, Boolean&amp;)\r\n\r\n```\r\nSpecifications:\r\n- Unity 2021.3.20f1\r\n\r\n\r\n\r\nI tried various fixes\r\n- Downloaded Gradle 6.1.1 as recommended by Unity and set it in preferences\r\n- Downloaded JDK 8 and set it in preferences\r\n- tried exporting to Android Studio and building but it shows following error \r\n&quot;Unsupported Java. \r\nYour build is currently configured to use Java 17.0.6 and Gradle 6.1.1.\r\n\r\nPossible solution:\r\n - Upgrade Gradle wrapper to 7.2 version and re-import the project&quot;\r\n\r\nNothing is working and all Gradle Build fails are either of not this type or not answered. Please Help I had been trying to solve it from morning since 5 hours Haven&#39;t even had my breakfast !","title":"Unity Gradle Build Failed: :launcher","body":"<pre><code>CommandInvokationFailure: Gradle build failed. \nC:\\Program Files\\Unity\\Hub\\Editor\\2021.3.20f1\\Editor\\Data\\PlaybackEngines\\AndroidPlayer\\OpenJDK\\bin\\java.exe -classpath &quot;C:\\Program Files\\Unity\\Hub\\Editor\\2021.3.20f1\\Editor\\Data\\PlaybackEngines\\AndroidPlayer\\Tools\\gradle\\lib\\gradle-launcher-6.1.1.jar&quot; org.gradle.launcher.GradleMain &quot;-Dorg.gradle.jvmargs=-Xmx4096m&quot; &quot;assembleRelease&quot;\n\nEnvironment Variables:\nKMP_DUPLICATE_LIB_OK = TRUE\nCUDA_CACHE_MAXSIZE = 268435456\nProgramFiles = C:\\Program Files\nTMP = C:\\Users\\devau\\AppData\\Local\\Temp\nNVVFX_MODEL_DIR = C:\\Program Files\\NVIDIA Corporation\\NVIDIA Video Effects\\models\nPROCESSOR_ARCHITECTURE = AMD64\nBAZEL_SH = c:\\msys64\\usr\\bin\\bash.exe\nPATHEXT = .COM;.EXE;.BAT;.CMD;.VBS;.VBE;.JS;.JSE;.WSF;.WSH;.MSC\nORIGINAL_XDG_CURRENT_DESKTOP = undefined\nOS = Windows_NT\nCHROME_CRASHPAD_PIPE_NAME = \\\\.\\pipe\\crashpad_12536_WDEHADUWIWVDKREW\nPROCESSOR_IDENTIFIER = Intel64 Family 6 Model 141 Stepping 1, GenuineIntel\nVRAY_MDL_PATH_3DSMAX2023 = C:\\Program Files\\Chaos Group\\V-Ray\\3ds Max 2023\\mdl\nProgramW6432 = C:\\Program Files\nPROCESSOR_REVISION = 8d01\nUSERPROFILE = C:\\Users\\devau\nJAVA_HOME = C:\\Program Files\\Unity\\Hub\\Editor\\2021.3.20f1\\Editor\\Data\\PlaybackEngines\\AndroidPlayer\\OpenJDK\nCommonProgramFiles = C:\\Program Files\\Common Files\nDriverData = C:\\Windows\\System32\\Drivers\\DriverData\nComSpec = C:\\Windows\\system32\\cmd.exe\nINTEL_DEV_REDIST = C:\\Program Files (x86)\\Common Files\\Intel\\Shared Libraries\\\nUSERDOMAIN = LAPTOP-9HLG01UH\nPUBLIC = C:\\Users\\Public\nSystemRoot = C:\\Windows\nPSModulePath = C:\\Program Files\\WindowsPowerShell\\Modules;C:\\Windows\\system32\\WindowsPowerShell\\v1.0\\Modules\nNUMBER_OF_PROCESSORS = 16\nZES_ENABLE_SYSMAN = 1\nMIC_LD_LIBRARY_PATH = C:\\Program Files (x86)\\Common Files\\Intel\\Shared Libraries\\compiler\\lib\\mic\nJAVA_TOOL_OPTIONS = -Dfile.encoding=UTF-8\nADSK_3DSMAX_x64_2023 = C:\\Program Files\\Autodesk\\3ds Max 2023\\\nADSK_3DSMAX_x64_2020 = C:\\Program Files\\Autodesk\\3ds Max 2020\\\nTEMP = C:\\Users\\devau\\AppData\\Local\\Temp\nPath = C:\\Program Files (x86)\\Common Files\\Intel\\Shared Libraries\\redist\\intel64\\compiler;C:\\Windows\\system32;C:\\Windows;C:\\Windows\\System32\\Wbem;C:\\Windows\\System32\\WindowsPowerShell\\v1.0\\;C:\\Windows\\System32\\OpenSSH\\;C:\\Program Files (x86)\\NVIDIA Corporation\\PhysX\\Common;C:\\Program Files\\nodejs\\;C:\\Program Files\\Git\\cmd;C:\\Program Files (x86)\\QuickTime\\QTSystem\\;C:\\Program Files (x86)\\Common Files\\Autodesk Shared\\;C:\\Program Files\\dotnet\\;C:\\Program Files\\Microsoft SQL Server\\120\\Tools\\Binn\\;C:\\Users\\devau\\AppData\\Local\\Microsoft\\WindowsApps;C:\\Users\\devau\\AppData\\Roaming\\npm;C:\\Users\\devau\\AppData\\Local\\Programs\\Microsoft VS Code\\bin;C:\\adb;C:\\Program Files\\Common Files\\Autodesk Shared\\;C:\\Program Files\\NVIDIA Corporation\\NVIDIA NvDLISR;C:\\Python27;C:\\Users\\devau\\AppData\\Local\\Microsoft\\WindowsApps;C:\\Users\\devau\\AppData\\Roaming\\npm;C:\\Users\\devau\\AppData\\Local\\Programs\\Microsoft VS Code\\bin;C:\\Users\\devau\\AppData\\Local\\Programs\\Python\\Python310\\Scripts;C:\\tmp;C:\\msys64\\usr\\bin;C:\\nuget;C:\\Users\\devau\\AppData\\Roaming\\Python\\Python310\\site-packages\\virtualenv;C:\\Users\\devau\\AppData\\Local\\Programs\\MiKTeX\\miktex\\bin\\x64\\\nVRAY_FOR_3DSMAX2023_MAIN = C:\\ProgramData\\Autodesk\\ApplicationPlugins\\VRay3dsMax2023/bin\nUSERNAME = devau\nCOMPUTERNAME = LAPTOP-9HLG01UH\nVRAY_FOR_3DSMAX2023_PLUGINS = C:\\ProgramData\\Autodesk\\ApplicationPlugins\\VRay3dsMax2023/bin/plugins\nVRAY_OSL_PATH_3DSMAX2023 = C:\\ProgramData\\Autodesk\\ApplicationPlugins\\VRay3dsMax2023\\opensl\nALLUSERSPROFILE = C:\\ProgramData\nSystemDrive = C:\nwindir = C:\\Windows\nHOMEDRIVE = C:\nVRAY_SEND_FEEDBACK = 0\nHOMEPATH = \\Users\\devau\nCommonProgramFiles(x86) = C:\\Program Files (x86)\\Common Files\nAPPDATA = C:\\Users\\devau\\AppData\\Roaming\nOneDrive = C:\\Users\\devau\\OneDrive\nPROCESSOR_LEVEL = 6\nCommonProgramW6432 = C:\\Program Files\\Common Files\nProgramFiles(x86) = C:\\Program Files (x86)\nNVIDIAWHITELISTED = 0x01\nSESSIONNAME = Console\nLOGONSERVER = \\\\LAPTOP-9HLG01UH\nLOCALAPPDATA = C:\\Users\\devau\\AppData\\Local\nPT8HOME = C:\\Program Files\\Cisco Packet Tracer 8.1.1\nSHIM_MCCOMPAT = 0x810000001\nUSERDOMAIN_ROAMINGPROFILE = LAPTOP-9HLG01UH\nProgramData = C:\\ProgramData\n\n\nstderr[\n\nFAILURE: Build failed with an exception.\n\n* What went wrong:\nA problem occurred configuring project ':launcher'.\n&gt; Could not resolve all artifacts for configuration ':launcher:classpath'.\n   &gt; Could not find com.android.tools.build:gradle:6.1.1.\n     Searched in the following locations:\n       - https://dl.google.com/dl/android/maven2/com/android/tools/build/gradle/6.1.1/gradle-6.1.1.pom\n       - https://jcenter.bintray.com/com/android/tools/build/gradle/6.1.1/gradle-6.1.1.pom\n     Required by:\n         project :launcher\n\n* Try:\nRun with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output. Run with --scan to get full insights.\n\n* Get more help at https://help.gradle.org\n\nBUILD FAILED in 1s\nPicked up JAVA_TOOL_OPTIONS: -Dfile.encoding=UTF-8\n]\nstdout[\n\n]\nexit code: 1\nUnityEditor.Android.Command.WaitForProgramToRun (UnityEditor.Utils.Program p, UnityEditor.Android.Command+WaitingForProcessToExit waitingForProcessToExit, System.String errorMsg) (at &lt;53a24fd937e24f249a40af7ff60927ab&gt;:0)\nUnityEditor.Android.Command.Run (System.Diagnostics.ProcessStartInfo psi, UnityEditor.Android.Command+WaitingForProcessToExit waitingForProcessToExit, System.String errorMsg) (at &lt;53a24fd937e24f249a40af7ff60927ab&gt;:0)\nUnityEditor.Android.Command.Run (System.String command, System.String args, System.String workingdir, UnityEditor.Android.Command+WaitingForProcessToExit waitingForProcessToExit, System.String errorMsg) (at &lt;53a24fd937e24f249a40af7ff60927ab&gt;:0)\nUnityEditor.Android.AndroidJavaTools.RunJava (System.String args, System.String workingdir, System.Action`1[T] progress, System.String error) (at &lt;53a24fd937e24f249a40af7ff60927ab&gt;:0)\nUnityEditor.Android.GradleWrapper.Run (UnityEditor.Android.AndroidJavaTools javaTools, Unity.Android.Gradle.AndroidGradle androidGradle, System.String workingdir, System.String task, System.Action`1[T] progress) (at &lt;53a24fd937e24f249a40af7ff60927ab&gt;:0)\nRethrow as GradleInvokationException: Gradle build failed\nUnityEditor.Android.GradleWrapper.Run (UnityEditor.Android.AndroidJavaTools javaTools, Unity.Android.Gradle.AndroidGradle androidGradle, System.String workingdir, System.String task, System.Action`1[T] progress) (at &lt;53a24fd937e24f249a40af7ff60927ab&gt;:0)\nUnityEditor.Android.PostProcessor.Tasks.BuildGradleProject.Execute (UnityEditor.Android.PostProcessor.PostProcessorContext context) (at &lt;53a24fd937e24f249a40af7ff60927ab&gt;:0)\nUnityEditor.Android.PostProcessor.PostProcessRunner.RunAllTasks (UnityEditor.Android.PostProcessor.PostProcessorContext context) (at &lt;53a24fd937e24f249a40af7ff60927ab&gt;:0)\nRethrow as BuildFailedException: Exception of type 'UnityEditor.Build.BuildFailedException' was thrown.\nUnityEditor.Android.PostProcessor.CancelPostProcess.AbortBuild (System.String title, System.String message, System.Exception ex) (at &lt;53a24fd937e24f249a40af7ff60927ab&gt;:0)\nUnityEditor.Android.PostProcessor.PostProcessRunner.RunAllTasks (UnityEditor.Android.PostProcessor.PostProcessorContext context) (at &lt;53a24fd937e24f249a40af7ff60927ab&gt;:0)\nUnityEditor.Android.PostProcessAndroidPlayer.PostProcess (UnityEditor.Modules.BuildPostProcessArgs args, AndroidPlayerBuildProgram.Data.AndroidPlayerBuildProgramOutput buildProgramOutput) (at &lt;53a24fd937e24f249a40af7ff60927ab&gt;:0)\nUnityEditor.Android.AndroidBuildPostprocessor.PostProcess (UnityEditor.Modules.BuildPostProcessArgs args, UnityEditor.BuildProperties&amp; outProperties) (at &lt;53a24fd937e24f249a40af7ff60927ab&gt;:0)\nUnityEditor.PostprocessBuildPlayer.Postprocess (UnityEditor.BuildTargetGroup targetGroup, UnityEditor.BuildTarget target, System.Int32 subtarget, System.String installPath, System.String companyName, System.String productName, System.Int32 width, System.Int32 height, UnityEditor.BuildOptions options, UnityEditor.RuntimeClassRegistry usedClassRegistry, UnityEditor.Build.Reporting.BuildReport report) (at &lt;6e08e61cfda04255b3972ba7f0515fae&gt;:0)\nUnityEngine.GUIUtility:ProcessEvent(Int32, IntPtr, Boolean&amp;)\n\n</code></pre>\n<p>Specifications:</p>\n<ul>\n<li>Unity 2021.3.20f1</li>\n</ul>\n<p>I tried various fixes</p>\n<ul>\n<li>Downloaded Gradle 6.1.1 as recommended by Unity and set it in preferences</li>\n<li>Downloaded JDK 8 and set it in preferences</li>\n<li>tried exporting to Android Studio and building but it shows following error\n&quot;Unsupported Java.\nYour build is currently configured to use Java 17.0.6 and Gradle 6.1.1.</li>\n</ul>\n<p>Possible solution:</p>\n<ul>\n<li>Upgrade Gradle wrapper to 7.2 version and re-import the project&quot;</li>\n</ul>\n<p>Nothing is working and all Gradle Build fails are either of not this type or not answered. Please Help I had been trying to solve it from morning since 5 hours Haven't even had my breakfast !</p>\n"},{"tags":["java","micronaut","distributed-tracing"],"answers":[{"tags":[],"owner":{"account_id":930977,"reputation":8260,"user_id":960875,"accept_rate":98,"display_name":"saw303"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1687854656,"creation_date":1687854656,"answer_id":76563021,"question_id":76562660,"body_markdown":"In order to have an effect when using `@NewSpan` and `@ContinueSpan` Micronaut requires Micronaut beans. Therefore the answer to your question is no, that does not work that way.\r\n\r\nThe reason is that for example `@NewSpan` used Micronaut AOP. Micronaut AOP only works with Micronaut beans. For example the `@NewSpan` annotation indicates that a call to a method annotated with `@NewSpan` should be intercepted. ","title":"Do micronaut tracing annotations work on classes that are not beans?","body":"<p>In order to have an effect when using <code>@NewSpan</code> and <code>@ContinueSpan</code> Micronaut requires Micronaut beans. Therefore the answer to your question is no, that does not work that way.</p>\n<p>The reason is that for example <code>@NewSpan</code> used Micronaut AOP. Micronaut AOP only works with Micronaut beans. For example the <code>@NewSpan</code> annotation indicates that a call to a method annotated with <code>@NewSpan</code> should be intercepted.</p>\n"}],"owner":{"account_id":223471,"reputation":1312,"user_id":2185719,"display_name":"Miguel Ferreira"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":82,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76563021,"answer_count":1,"score":1,"last_activity_date":1687854656,"creation_date":1687851914,"question_id":76562660,"body_markdown":"I&#39;m using micronaut tracing library to instrument an application. I want to use the tracing annotations (`@NewSpan` and `@ContinueSpan`) in classes that are not beans registered in the application context. I&#39;m not getting spans for the methods in those classes, and I&#39;m wondering if for the tracing annotations to work the classes need to be beans.","title":"Do micronaut tracing annotations work on classes that are not beans?","body":"<p>I'm using micronaut tracing library to instrument an application. I want to use the tracing annotations (<code>@NewSpan</code> and <code>@ContinueSpan</code>) in classes that are not beans registered in the application context. I'm not getting spans for the methods in those classes, and I'm wondering if for the tracing annotations to work the classes need to be beans.</p>\n"},{"tags":["java","sql","spring-boot","liquibase"],"owner":{"account_id":27453794,"reputation":3,"user_id":20945572,"display_name":"Hugo MERLE"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1078,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687854412,"creation_date":1687853628,"question_id":76562890,"body_markdown":"I am running unit tests on IntelliJ IDEA, using liquibase and h2. The database is entirely created using a SQL script.\r\n\r\nThe SQL file I&#39;m using looks like this :\r\n\r\n```\r\n-- db.table1 definition\r\n\r\nCREATE TABLE table1\r\n(\r\n    id   bigint PRIMARY KEY NOT NULL AUTO_INCREMENT,\r\n    name varchar(255) DEFAULT NULL\r\n);\r\n\r\n\r\n-- db.table2 definition\r\n\r\nCREATE TABLE table2\r\n(\r\n    id          bigint NOT NULL AUTO_INCREMENT,\r\n    name        varchar(255) DEFAULT NULL,\r\n    description varchar(255) DEFAULT NULL,\r\n    heading     varchar(255) DEFAULT NULL,\r\n    PRIMARY KEY (id)\r\n);\r\n\r\n\r\n-- db.table3 definition\r\n\r\nCREATE TABLE table3\r\n(\r\n    id   bigint       NOT NULL AUTO_INCREMENT,\r\n    name varchar(255) NOT NULL,\r\n    PRIMARY KEY (id)\r\n);\r\n```\r\n\r\nSame thing for all of the 77 other tables. The types used are always bigint, varchar, int, date, double, bit, smallint, timestamp. There is nothing else than tables definition and some constraints in the end in this file.\r\n\r\nWhen I start any test, I got the following error :\r\n\r\n```\r\njava.lang.IllegalStateException: Failed to load ApplicationContext\r\n\r\n\tat org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:124)\r\n\tat org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:83)\r\n\tat org.springframework.test.context.web.ServletTestExecutionListener.setUpRequestContextIfNecessary(ServletTestExecutionListener.java:189)\r\n\tat org.springframework.test.context.web.ServletTestExecutionListener.prepareTestInstance(ServletTestExecutionListener.java:131)\r\n\tat org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:230)\r\n\tat org.springframework.test.context.junit4.SpringJUnit4ClassRunner.createTest(SpringJUnit4ClassRunner.java:228)\r\n\tat org.springframework.test.context.junit4.SpringJUnit4ClassRunner$1.runReflectiveCall(SpringJUnit4ClassRunner.java:287)\r\n\tat org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)\r\n\tat org.springframework.test.context.junit4.SpringJUnit4ClassRunner.methodBlock(SpringJUnit4ClassRunner.java:289)\r\n\tat org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:247)\r\n\tat org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:94)\r\n\tat org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)\r\n\tat org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)\r\n\tat org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)\r\n\tat org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)\r\n\tat org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)\r\n\tat org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)\r\n\tat org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70)\r\n\tat org.junit.runners.ParentRunner.run(ParentRunner.java:363)\r\n\tat org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:191)\r\n\tat org.junit.runner.JUnitCore.run(JUnitCore.java:137)\r\n\tat com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)\r\n\tat com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)\r\n\tat com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)\r\n\tat com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)\r\n\tat com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:232)\r\n\tat com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:55)\r\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;liquibase&#39; defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: Invocation of init method failed; nested exception is liquibase.exception.MigrationFailedException: Migration failed for change set classpath:config/liquibase-test/changelog/00000000000000_initial_schema.sql::raw::includeAll:\r\n     Reason: liquibase.exception.DatabaseException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near &#39;CREATE TABLE table2\r\n    (\r\n    id          bigint NOT NULL AUTO_INCREMENT,\r\n    n&#39; at line 12 [Failed SQL:-- db.table1 definition\r\n\r\n```\r\n\r\nI verified, the entire SQL file is valid. One of my coworkers have the same file and he does not have a SQL error when starting a test.\r\n\r\nIf you have any idea or solutions, please share them. (For all the others, have a nice day)","title":"&quot;liquibase.exception.DatabaseException: You have an error in your SQL syntax&quot; when there is no error in the SQL","body":"<p>I am running unit tests on IntelliJ IDEA, using liquibase and h2. The database is entirely created using a SQL script.</p>\n<p>The SQL file I'm using looks like this :</p>\n<pre><code>-- db.table1 definition\n\nCREATE TABLE table1\n(\n    id   bigint PRIMARY KEY NOT NULL AUTO_INCREMENT,\n    name varchar(255) DEFAULT NULL\n);\n\n\n-- db.table2 definition\n\nCREATE TABLE table2\n(\n    id          bigint NOT NULL AUTO_INCREMENT,\n    name        varchar(255) DEFAULT NULL,\n    description varchar(255) DEFAULT NULL,\n    heading     varchar(255) DEFAULT NULL,\n    PRIMARY KEY (id)\n);\n\n\n-- db.table3 definition\n\nCREATE TABLE table3\n(\n    id   bigint       NOT NULL AUTO_INCREMENT,\n    name varchar(255) NOT NULL,\n    PRIMARY KEY (id)\n);\n</code></pre>\n<p>Same thing for all of the 77 other tables. The types used are always bigint, varchar, int, date, double, bit, smallint, timestamp. There is nothing else than tables definition and some constraints in the end in this file.</p>\n<p>When I start any test, I got the following error :</p>\n<pre><code>java.lang.IllegalStateException: Failed to load ApplicationContext\n\n    at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:124)\n    at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:83)\n    at org.springframework.test.context.web.ServletTestExecutionListener.setUpRequestContextIfNecessary(ServletTestExecutionListener.java:189)\n    at org.springframework.test.context.web.ServletTestExecutionListener.prepareTestInstance(ServletTestExecutionListener.java:131)\n    at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:230)\n    at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.createTest(SpringJUnit4ClassRunner.java:228)\n    at org.springframework.test.context.junit4.SpringJUnit4ClassRunner$1.runReflectiveCall(SpringJUnit4ClassRunner.java:287)\n    at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)\n    at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.methodBlock(SpringJUnit4ClassRunner.java:289)\n    at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:247)\n    at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:94)\n    at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)\n    at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)\n    at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)\n    at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)\n    at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)\n    at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)\n    at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70)\n    at org.junit.runners.ParentRunner.run(ParentRunner.java:363)\n    at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:191)\n    at org.junit.runner.JUnitCore.run(JUnitCore.java:137)\n    at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)\n    at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)\n    at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)\n    at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)\n    at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:232)\n    at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:55)\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: Invocation of init method failed; nested exception is liquibase.exception.MigrationFailedException: Migration failed for change set classpath:config/liquibase-test/changelog/00000000000000_initial_schema.sql::raw::includeAll:\n     Reason: liquibase.exception.DatabaseException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'CREATE TABLE table2\n    (\n    id          bigint NOT NULL AUTO_INCREMENT,\n    n' at line 12 [Failed SQL:-- db.table1 definition\n\n</code></pre>\n<p>I verified, the entire SQL file is valid. One of my coworkers have the same file and he does not have a SQL error when starting a test.</p>\n<p>If you have any idea or solutions, please share them. (For all the others, have a nice day)</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1288816,"reputation":4033,"user_id":1241334,"accept_rate":100,"display_name":"Jonny Henly"},"score":0,"creation_date":1479604567,"post_id":40699646,"comment_id":68628293,"body_markdown":"You&#39;re comparing `Strings` against single character `Strings`, which would work if your punctuation was separated from words with spaces, but I gather they&#39;re not (for instance `&quot;The end.&quot;` would need to be `&quot;The end .&quot;`). `input.next()` parses out a `String` separated by one or more spacing characters (`\\s`, `\\t`, ...). If you want to step through every character then you should change `input`&#39;s delimiter to `.` using `input.useDelimiter(&quot;.&quot;)`.","body":"You&#39;re comparing <code>Strings</code> against single character <code>Strings</code>, which would work if your punctuation was separated from words with spaces, but I gather they&#39;re not (for instance <code>&quot;The end.&quot;</code> would need to be <code>&quot;The end .&quot;</code>). <code>input.next()</code> parses out a <code>String</code> separated by one or more spacing characters (<code>\\s</code>, <code>\\t</code>, ...). If you want to step through every character then you should change <code>input</code>&#39;s delimiter to <code>.</code> using <code>input.useDelimiter(&quot;.&quot;)</code>."}],"answers":[{"tags":[],"owner":{"account_id":5937539,"reputation":3116,"user_id":4669984,"accept_rate":86,"display_name":"Tarun Maganti"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1479626014,"creation_date":1479609312,"answer_id":40700103,"question_id":40699646,"body_markdown":"If you could use `Pattern` Class, you can do this.\r\n\r\n    import java.util.regex.*;\r\n    import java.util.*;\r\n    import java.util.stream.*;\r\n    \r\n    class PunctuationMatch\r\n    {\r\n    \tpublic static void main(String[] args) {\r\n    \t\tfinal Pattern p = Pattern.compile(&quot;^[,|.|?|!|:|;]&quot;);\r\n    \t\tSystem.out.println(p.splitAsStream(&quot;Hello, World! How are you?&quot;).count());\r\n    \t}\r\n    }\r\n\r\nWhile passing string in `compile` method pass all the puctuation you want to identify.\r\n\r\nPassing into `splitAsStream` method your entire data string or a line by line of a file and add every thing up.\r\n\r\nHere is the [Java Docs Ref][1]\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/regex/Pattern.html","title":"Checking for and counting punctuation in a file","body":"<p>If you could use <code>Pattern</code> Class, you can do this.</p>\n\n<pre><code>import java.util.regex.*;\nimport java.util.*;\nimport java.util.stream.*;\n\nclass PunctuationMatch\n{\n    public static void main(String[] args) {\n        final Pattern p = Pattern.compile(\"^[,|.|?|!|:|;]\");\n        System.out.println(p.splitAsStream(\"Hello, World! How are you?\").count());\n    }\n}\n</code></pre>\n\n<p>While passing string in <code>compile</code> method pass all the puctuation you want to identify.</p>\n\n<p>Passing into <code>splitAsStream</code> method your entire data string or a line by line of a file and add every thing up.</p>\n\n<p>Here is the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/regex/Pattern.html\" rel=\"nofollow noreferrer\">Java Docs Ref</a></p>\n"}],"owner":{"account_id":9683068,"reputation":1,"user_id":7183950,"display_name":"greg"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":865,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1687854058,"creation_date":1479604332,"question_id":40699646,"body_markdown":"I&#39;m currently doing an assignment which requires the program to count words and punctuation from a text file. The word counting program is done and working but my professor provided an additional method to be combined with it to count punctuation that I cannot seem to get to work. Here is the working program:\r\n\r\n    import java.util.*;\r\n    import java.io.*;\r\n\r\n    public class SnippetWeek11 {\r\n    public static void main(String[] args) throws Exception {\r\n    Scanner input = new Scanner(System.in);\r\n    System.out.print(&quot;Enter a filename of a text file to process: &quot;);\r\n    String filename = input.nextLine();\r\n    File file = new File(filename);\r\n    if (file.exists()) {\r\n    processFile(file);\r\n     }\r\n    else {\r\n    System.out.println(&quot;File &quot; + filename + &quot; does not exist&quot;);\r\n      }\r\n     }\r\n   \r\n    private static void processFile(File theFile) throws Exception {\r\n    int wordIndex;\r\n    // Create a TreeMap to hold words as key and count as value\r\n    Map&lt;String, Integer&gt; map = new TreeMap&lt;&gt;();\r\n    Scanner input = new Scanner(theFile);\r\n    String line, keyText;\r\n    String[] words;\r\n    while (input.hasNextLine()) {\r\n    line = input.nextLine();\r\n    words = line.split(&quot;[\\\\s+\\\\p{P}]&quot;);\r\n    for (wordIndex = 0; wordIndex &lt; words.length; wordIndex++) {\r\n    keyText = words[wordIndex].toLowerCase();\r\n    updateMap(map, keyText);\r\n     }\r\n    }\r\n\r\n    // Display key and value for each entry\r\n    map.forEach((key, value) -&gt; System.out.println(key + &quot;\\t&quot; + value));\r\n    }\r\n \r\n        private static void updateMap(Map&lt;String, Integer&gt; theMap,\r\n        String theText) {\r\n        int value;\r\n        String key = theText.toLowerCase();\r\n\r\n        if (key.length() &gt; 0) {\r\n        if (!theMap.containsKey(key)) {\r\n        // The key does not exist in the Map object (theMap), so add key and\r\n        // the value (which is a count in this case) to a new theMap element.\r\n        theMap.put(key, 1);\r\n        }\r\n        else {\r\n        // The key already exists, so obtain the value (count in this case)\r\n        // from theMap element that contains the key and update the element\r\n        // with an increased count.\r\n        value = theMap.get(key);\r\n        value++;\r\n        theMap.put(key, value);\r\n        }\r\n        }\r\n        }\r\n\r\nAnd here is the method that must be combined with the word count program. I would appreciate any help you could give. Thanks.\r\n\r\n        public static int countPunctuation(File theFile) throws Exception {\r\n        String[] punctuationString = {&quot;[&quot;,&quot;]&quot;,&quot;.&quot;,&quot;;&quot;,&quot;,&quot;,&quot;:&quot;,&quot;!&quot;,&quot;?&quot;,&quot;(&quot;,&quot;)&quot;,&quot;{&quot;,&quot;}&quot;,&quot;&#39;&quot;};\r\n\r\n        Set&lt;String&gt; punctuationSet =\r\n        new HashSet&lt;&gt;(Arrays.asList(punctuationString));\r\n        int count = 0;\r\n\r\n        Scanner input = new Scanner(theFile);\r\n\r\n        while (input.hasNext()) {\r\n        String character = input.next();\r\n        if (punctuationSet.contains(character))\r\n        count++;\r\n        }\r\n        return count;\r\n        }\r\n       }","title":"Checking for and counting punctuation in a file","body":"<p>I'm currently doing an assignment which requires the program to count words and punctuation from a text file. The word counting program is done and working but my professor provided an additional method to be combined with it to count punctuation that I cannot seem to get to work. Here is the working program:</p>\n\n<pre><code>import java.util.*;\nimport java.io.*;\n\npublic class SnippetWeek11 {\npublic static void main(String[] args) throws Exception {\nScanner input = new Scanner(System.in);\nSystem.out.print(\"Enter a filename of a text file to process: \");\nString filename = input.nextLine();\nFile file = new File(filename);\nif (file.exists()) {\nprocessFile(file);\n }\nelse {\nSystem.out.println(\"File \" + filename + \" does not exist\");\n  }\n }\n\nprivate static void processFile(File theFile) throws Exception {\nint wordIndex;\n// Create a TreeMap to hold words as key and count as value\nMap&lt;String, Integer&gt; map = new TreeMap&lt;&gt;();\nScanner input = new Scanner(theFile);\nString line, keyText;\nString[] words;\nwhile (input.hasNextLine()) {\nline = input.nextLine();\nwords = line.split(\"[\\\\s+\\\\p{P}]\");\nfor (wordIndex = 0; wordIndex &lt; words.length; wordIndex++) {\nkeyText = words[wordIndex].toLowerCase();\nupdateMap(map, keyText);\n }\n}\n\n// Display key and value for each entry\nmap.forEach((key, value) -&gt; System.out.println(key + \"\\t\" + value));\n}\n\n    private static void updateMap(Map&lt;String, Integer&gt; theMap,\n    String theText) {\n    int value;\n    String key = theText.toLowerCase();\n\n    if (key.length() &gt; 0) {\n    if (!theMap.containsKey(key)) {\n    // The key does not exist in the Map object (theMap), so add key and\n    // the value (which is a count in this case) to a new theMap element.\n    theMap.put(key, 1);\n    }\n    else {\n    // The key already exists, so obtain the value (count in this case)\n    // from theMap element that contains the key and update the element\n    // with an increased count.\n    value = theMap.get(key);\n    value++;\n    theMap.put(key, value);\n    }\n    }\n    }\n</code></pre>\n\n<p>And here is the method that must be combined with the word count program. I would appreciate any help you could give. Thanks.</p>\n\n<pre><code>    public static int countPunctuation(File theFile) throws Exception {\n    String[] punctuationString = {\"[\",\"]\",\".\",\";\",\",\",\":\",\"!\",\"?\",\"(\",\")\",\"{\",\"}\",\"'\"};\n\n    Set&lt;String&gt; punctuationSet =\n    new HashSet&lt;&gt;(Arrays.asList(punctuationString));\n    int count = 0;\n\n    Scanner input = new Scanner(theFile);\n\n    while (input.hasNext()) {\n    String character = input.next();\n    if (punctuationSet.contains(character))\n    count++;\n    }\n    return count;\n    }\n   }\n</code></pre>\n"},{"tags":["java","spring","minio"],"answers":[{"tags":[],"owner":{"account_id":13692434,"reputation":478,"user_id":9879898,"display_name":"sge"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1687854000,"creation_date":1687854000,"answer_id":76562930,"question_id":76562712,"body_markdown":"If you are using minioClient you can try something like this:\r\n\r\n    List&lt;DeleteObject&gt; objects = new LinkedList&lt;&gt;();\r\n     objects.add(new DeleteObject(&quot;my-objectname1&quot;));\r\n     objects.add(new DeleteObject(&quot;my-objectname2&quot;));\r\n     objects.add(new DeleteObject(&quot;my-objectname3&quot;));\r\n     Iterable&lt;Result&lt;DeleteError&gt;&gt; results =\r\n         minioClient.removeObjects(\r\n             RemoveObjectsArgs.builder().bucket(&quot;my-bucketname&quot;).objects(objects).build());\r\n     for (Result&lt;DeleteError&gt; result : results) {\r\n       DeleteError error = errorResult.get();\r\n       System.out.println(\r\n           &quot;Error in deleting object &quot; + error.objectName() + &quot;; &quot; + error.message());\r\n     }\r\n\r\n ","title":"How to delete multiple files in MinIO in Spring Boot app?","body":"<p>If you are using minioClient you can try something like this:</p>\n<pre><code>List&lt;DeleteObject&gt; objects = new LinkedList&lt;&gt;();\n objects.add(new DeleteObject(&quot;my-objectname1&quot;));\n objects.add(new DeleteObject(&quot;my-objectname2&quot;));\n objects.add(new DeleteObject(&quot;my-objectname3&quot;));\n Iterable&lt;Result&lt;DeleteError&gt;&gt; results =\n     minioClient.removeObjects(\n         RemoveObjectsArgs.builder().bucket(&quot;my-bucketname&quot;).objects(objects).build());\n for (Result&lt;DeleteError&gt; result : results) {\n   DeleteError error = errorResult.get();\n   System.out.println(\n       &quot;Error in deleting object &quot; + error.objectName() + &quot;; &quot; + error.message());\n }\n</code></pre>\n"}],"owner":{"account_id":26038502,"reputation":95,"user_id":19743660,"display_name":"programmer"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":303,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76562930,"answer_count":1,"score":0,"last_activity_date":1687854000,"creation_date":1687852381,"question_id":76562712,"body_markdown":"I have an DB entity, that is connected with many files storing in MinIO. How can I delete many files in one operation?","title":"How to delete multiple files in MinIO in Spring Boot app?","body":"<p>I have an DB entity, that is connected with many files storing in MinIO. How can I delete many files in one operation?</p>\n"},{"tags":["java","hibernate","jpa","guice","optimistic-locking"],"answers":[{"tags":[],"owner":{"account_id":1012936,"reputation":145168,"user_id":1025118,"accept_rate":100,"display_name":"Vlad Mihalcea"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673522833,"creation_date":1515181133,"answer_id":48120221,"question_id":43776096,"body_markdown":"You need to add the [`RetryAspect`](https://github.com/vladmihalcea/hypersistence-utils/blob/a31d72f2895e68e5fc87618a1026797d142cddfd/hypersistence-utils-hibernate-55/src/main/java/io/hypersistence/utils/spring/aop/RetryAspect.java) to your Spring configuration.\r\n\r\nIf you are using Guice, you have to create a similar Aspect because the one coming with Hypersistence Utils is only working with Spring.\r\n\r\nIn Spring, the configuration is very easy; you can do it like this:\r\n\r\n    @Configuration\r\n    @EnableAspectJAutoProxy\r\n    @ComponentScan(\r\n        basePackages = {\r\n            &quot;io.hypersistence.utils.spring.aop&quot;\r\n        }\r\n    )\r\n    public class RetryAspectConfiguration {\r\n    \r\n    }\r\n\r\n\r\n  [1]: https://vladmihalcea.com/optimistic-locking-retry-with-jpa/","title":"Retry OpmisticLockException with Hypersistence Utils library does not work","body":"<p>You need to add the <a href=\"https://github.com/vladmihalcea/hypersistence-utils/blob/a31d72f2895e68e5fc87618a1026797d142cddfd/hypersistence-utils-hibernate-55/src/main/java/io/hypersistence/utils/spring/aop/RetryAspect.java\" rel=\"nofollow noreferrer\"><code>RetryAspect</code></a> to your Spring configuration.</p>\n<p>If you are using Guice, you have to create a similar Aspect because the one coming with Hypersistence Utils is only working with Spring.</p>\n<p>In Spring, the configuration is very easy; you can do it like this:</p>\n<pre><code>@Configuration\n@EnableAspectJAutoProxy\n@ComponentScan(\n    basePackages = {\n        &quot;io.hypersistence.utils.spring.aop&quot;\n    }\n)\npublic class RetryAspectConfiguration {\n\n}\n</code></pre>\n"}],"owner":{"account_id":7893242,"reputation":8350,"user_id":5962766,"accept_rate":87,"display_name":"Justinas Jakavonis"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":224,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1687853681,"creation_date":1493881574,"question_id":43776096,"body_markdown":"I have used this example to implement `OptimisticLockException` handling:\r\n[How to retry JPA transactions after an OptimisticLockException][1]\r\n\r\n\r\n  [1]: https://vladmihalcea.com/optimistic-locking-retry-with-jpa/\r\n\r\nDependency in pom.xml:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;io.hypersistence&lt;/groupId&gt;\r\n        &lt;artifactId&gt;hypersistence-utils-hibernate-55&lt;/artifactId&gt;\r\n        &lt;version&gt;${hypersistence-utils.version}&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nI have annotated the method which may receive OptimisticLockException:\r\n\r\n    @Retry(times = 10, on = OptimisticLockException.class)\r\n    public void modifySomething(){...}\r\n\r\nHowever, when RollbackException/OptimisticLockException/StaleStateException occurs, I get a stack trace, but the method is not retried. \r\n\r\nI use it with Guice 4.1.0. Should I bind it somewhere or write the method interceptor? \r\n\r\nHow to add AOP aspect?\r\n\r\n","title":"Retry OpmisticLockException with Hypersistence Utils library does not work","body":"<p>I have used this example to implement <code>OptimisticLockException</code> handling:\n<a href=\"https://vladmihalcea.com/optimistic-locking-retry-with-jpa/\" rel=\"nofollow noreferrer\">How to retry JPA transactions after an OptimisticLockException</a></p>\n<p>Dependency in pom.xml:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;io.hypersistence&lt;/groupId&gt;\n    &lt;artifactId&gt;hypersistence-utils-hibernate-55&lt;/artifactId&gt;\n    &lt;version&gt;${hypersistence-utils.version}&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>I have annotated the method which may receive OptimisticLockException:</p>\n<pre><code>@Retry(times = 10, on = OptimisticLockException.class)\npublic void modifySomething(){...}\n</code></pre>\n<p>However, when RollbackException/OptimisticLockException/StaleStateException occurs, I get a stack trace, but the method is not retried.</p>\n<p>I use it with Guice 4.1.0. Should I bind it somewhere or write the method interceptor?</p>\n<p>How to add AOP aspect?</p>\n"},{"tags":["java","spring-boot","spring-mvc","springdoc"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1687848633,"post_id":76562226,"comment_id":134990086,"body_markdown":"Can you share the input and describe what *It does not work.* means?","body":"Can you share the input and describe what <i>It does not work.</i> means?"},{"owner":{"display_name":"user21137123"},"score":0,"creation_date":1687849279,"post_id":76562226,"comment_id":134990184,"body_markdown":"@Jens I add some information of the error.","body":"@Jens I add some information of the error."},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1687849821,"post_id":76562226,"comment_id":134990307,"body_markdown":"What is `@ParameterObject`? That isn&#39;t a Spring annotaiton.","body":"What is <code>@ParameterObject</code>? That isn&#39;t a Spring annotaiton."},{"owner":{"display_name":"user21137123"},"score":0,"creation_date":1687850367,"post_id":76562226,"comment_id":134990398,"body_markdown":"@M.Deinum It&#39;s a springdoc-openapi annotation, from springdoc-openapi-common-1.6.15.jar","body":"@M.Deinum It&#39;s a springdoc-openapi annotation, from springdoc-openapi-common-1.6.15.jar"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1687851631,"post_id":76562226,"comment_id":134990656,"body_markdown":"Try with `yyyy-MM-dd&#39; &#39;HH:mm:ss` as a pattern, although it might not be used for binding and only for printing (it is a formatter in that regard). Please add the full stacktrace as well.","body":"Try with <code>yyyy-MM-dd&#39; &#39;HH:mm:ss</code> as a pattern, although it might not be used for binding and only for printing (it is a formatter in that regard). Please add the full stacktrace as well."},{"owner":{"display_name":"user21137123"},"score":0,"creation_date":1687853605,"post_id":76562226,"comment_id":134991048,"body_markdown":"@M.Deinum Really thank you to point out that&#39;s not a spring thing. I&#39;m feeling like I&#39;m to stupid to learn programming.","body":"@M.Deinum Really thank you to point out that&#39;s not a spring thing. I&#39;m feeling like I&#39;m to stupid to learn programming."},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1687853704,"post_id":76562226,"comment_id":134991066,"body_markdown":"I was just wondering if you implemented something yourself, which is possible and could break things with Spring. This annotation won&#39;t as it is just used for metadata generation. So it was more to rule some things out then to point fingers, just needed the clarification.","body":"I was just wondering if you implemented something yourself, which is possible and could break things with Spring. This annotation won&#39;t as it is just used for metadata generation. So it was more to rule some things out then to point fingers, just needed the clarification."}],"answers":[{"tags":[],"owner":{"account_id":25860373,"reputation":138,"user_id":19592947,"display_name":"traizooo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687852749,"creation_date":1687848505,"answer_id":76562250,"question_id":76562226,"body_markdown":"The `@DateTimeFormat` annotation is typically used for formatting and parsing date-time values when binding request parameters in `Spring MVC` controllers. However, it does not support custom patterns with spacs directly.\r\n\r\n**To achieve specified pattern, you can use the `@DateTimeFormat` annotation with the pattern and also aply the `@InitBinder`.**\r\n\r\n    @GetMapping(&quot;/page&quot;)\r\n    public Response page(@ParameterObject Page page, @ParameterObject QueryDTO param) {\r\n        // Your code\r\n    }\r\n    \r\n    @ControllerAdvice\r\n    public class DateTimeFormatConfiguration extends WebMvcConfigurerAdapter {\r\n    \r\n        @Override\r\n        public void initBinder(WebDataBinder binder) {\r\n            DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd HH:mm:ss&quot;);\r\n            binder.addCustomFormatter(new LocalDateTimeFormatter(formatter));\r\n        }\r\n    \r\n        private static class LocalDateTimeFormatter implements Formatter&lt;LocalDateTime&gt; {\r\n    \r\n            private final DateTimeFormatter formatter;\r\n    \r\n            public LocalDateTimeFormatter(DateTimeFormatter formatter) {\r\n                this.formatter = formatter;\r\n            }\r\n    \r\n            @Override\r\n            public LocalDateTime parse(String text, Locale locale) throws ParseException {\r\n                return LocalDateTime.parse(text, formatter);\r\n            }\r\n    \r\n            @Override\r\n            public String print(LocalDateTime object, Locale locale) {\r\n                return formatter.format(object);\r\n            }\r\n        }\r\n    }\r\n\r\n* By applying this configuartion, you should be able to use the pattern **&quot;yyyy-MM-dd HH:mm:ss&quot;** with the `@DateTimeFormat` annotation in your **QueryDTO class**.\r\n\r\n**If you want to apply a pattern directly in the annotation without a global configuration, you can use a different method:**\r\n\r\n    @Retention(RetentionPolicy.RUNTIME)\r\n    @DateTimeFormat(pattern = &quot;yyyy-MM-dd HH:mm:ss&quot;)\r\n    public @interface CustomDateTimeFormat {\r\n    }\r\n    \r\n    public class QueryDTO {\r\n        // Your code\r\n    \r\n        @CustomDateTimeFormat\r\n        private LocalDateTime startTime;\r\n    \r\n        @CustomDateTimeFormat\r\n        private LocalDateTime endTime;\r\n    \r\n        // Getters and setters\r\n    }\r\n    \r\n    @Controller\r\n    public class YourController {\r\n    \r\n        @GetMapping(&quot;/page&quot;)\r\n        public Response page(@ParameterObject Page page, @ParameterObject QueryDTO param) {\r\n            // Your code\r\n        }\r\n    \r\n        @InitBinder\r\n        public void initBinder(WebDataBinder binder) {\r\n            binder.addCustomFormatter(new LocalDateTimeFormatter());\r\n        }\r\n    \r\n        private static class LocalDateTimeFormatter implements Converter&lt;String, LocalDateTime&gt; {\r\n    \r\n            @Override\r\n            public LocalDateTime convert(String source) {\r\n                DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd HH:mm:ss&quot;);\r\n                return LocalDateTime.parse(source, formatter);\r\n            }\r\n        }\r\n    }\r\n\r\n* I&#39;ve added a custom annotation that encapsulates the desired pattern and use it in your **`QueryDTO` class**. Then, you can write a custom `Converter` **to convert the annotated string** to a **`LocalDateTime` object** using the **specified pattern**.\r\n\r\nPlease let me know if it soled your problem, and if so, then please **leave your opinions**. ^^\r\n","title":"How to convert to a LocalDateTime field in an @ParameterObject with @DateTimeFormat pattern instead of iso?","body":"<p>The <code>@DateTimeFormat</code> annotation is typically used for formatting and parsing date-time values when binding request parameters in <code>Spring MVC</code> controllers. However, it does not support custom patterns with spacs directly.</p>\n<p><strong>To achieve specified pattern, you can use the <code>@DateTimeFormat</code> annotation with the pattern and also aply the <code>@InitBinder</code>.</strong></p>\n<pre><code>@GetMapping(&quot;/page&quot;)\npublic Response page(@ParameterObject Page page, @ParameterObject QueryDTO param) {\n    // Your code\n}\n\n@ControllerAdvice\npublic class DateTimeFormatConfiguration extends WebMvcConfigurerAdapter {\n\n    @Override\n    public void initBinder(WebDataBinder binder) {\n        DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd HH:mm:ss&quot;);\n        binder.addCustomFormatter(new LocalDateTimeFormatter(formatter));\n    }\n\n    private static class LocalDateTimeFormatter implements Formatter&lt;LocalDateTime&gt; {\n\n        private final DateTimeFormatter formatter;\n\n        public LocalDateTimeFormatter(DateTimeFormatter formatter) {\n            this.formatter = formatter;\n        }\n\n        @Override\n        public LocalDateTime parse(String text, Locale locale) throws ParseException {\n            return LocalDateTime.parse(text, formatter);\n        }\n\n        @Override\n        public String print(LocalDateTime object, Locale locale) {\n            return formatter.format(object);\n        }\n    }\n}\n</code></pre>\n<ul>\n<li>By applying this configuartion, you should be able to use the pattern <strong>&quot;yyyy-MM-dd HH:mm:ss&quot;</strong> with the <code>@DateTimeFormat</code> annotation in your <strong>QueryDTO class</strong>.</li>\n</ul>\n<p><strong>If you want to apply a pattern directly in the annotation without a global configuration, you can use a different method:</strong></p>\n<pre><code>@Retention(RetentionPolicy.RUNTIME)\n@DateTimeFormat(pattern = &quot;yyyy-MM-dd HH:mm:ss&quot;)\npublic @interface CustomDateTimeFormat {\n}\n\npublic class QueryDTO {\n    // Your code\n\n    @CustomDateTimeFormat\n    private LocalDateTime startTime;\n\n    @CustomDateTimeFormat\n    private LocalDateTime endTime;\n\n    // Getters and setters\n}\n\n@Controller\npublic class YourController {\n\n    @GetMapping(&quot;/page&quot;)\n    public Response page(@ParameterObject Page page, @ParameterObject QueryDTO param) {\n        // Your code\n    }\n\n    @InitBinder\n    public void initBinder(WebDataBinder binder) {\n        binder.addCustomFormatter(new LocalDateTimeFormatter());\n    }\n\n    private static class LocalDateTimeFormatter implements Converter&lt;String, LocalDateTime&gt; {\n\n        @Override\n        public LocalDateTime convert(String source) {\n            DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd HH:mm:ss&quot;);\n            return LocalDateTime.parse(source, formatter);\n        }\n    }\n}\n</code></pre>\n<ul>\n<li>I've added a custom annotation that encapsulates the desired pattern and use it in your <strong><code>QueryDTO</code> class</strong>. Then, you can write a custom <code>Converter</code> <strong>to convert the annotated string</strong> to a <strong><code>LocalDateTime</code> object</strong> using the <strong>specified pattern</strong>.</li>\n</ul>\n<p>Please let me know if it soled your problem, and if so, then please <strong>leave your opinions</strong>. ^^</p>\n"}],"owner":{"display_name":"user21137123"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":103,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1687853413,"creation_date":1687848239,"question_id":76562226,"body_markdown":"**Update: It&#39;s not even a question, it&#39;s completely my DUMB. Plz down vote this question.**\r\n\r\nthanks to @M. Deinum points out that&#39;s not a spring thing.\r\n\r\nmy IDEA&#39;s settings messed up in a crash this morning and not auto-compile before re-running.\r\n\r\n=========================\r\n\r\nThe Controller\r\n```java\r\n@GetMapping(&quot;/page&quot;)\r\npublic Response Page(@ParameterObject Page page, @ParameterObject QueryDTO param) {\r\n    /*\r\n     * irrelevant parts omitted\r\n     */\r\n}\r\n```\r\nWhen I use this in DTO, it works well with `yyyy-MM-dd&#39;T&#39;HH:mm:ss` pattern passed-in.\r\n```java\r\n@Data\r\npublic class QueryDTO {\r\n    /*\r\n     * irrelevant parts omitted\r\n     */\r\n\t@DateTimeFormat(iso = DateTimeFormat.ISO.DATE_TIME)\r\n\tprivate LocalDateTime startTime;\r\n\r\n\t@DateTimeFormat(iso = DateTimeFormat.ISO.DATE_TIME)\r\n\tprivate LocalDateTime endTime;\r\n}\r\n```\r\nBut when I want to use a &#39; &#39; instead of the &#39;T&#39;, I tried:\r\n```java\r\n@DateTimeFormat(pattern = &quot;yyyy-MM-dd HH:mm:ss&quot;)\r\n```\r\nand change the input param from &quot;1999-02-11T00:00:00&quot; to &quot;1999-02-11 00:00:00&quot;, I got\r\n\r\n`\r\nendTime Failed to convert property value of type &#39;java.lang.String&#39; to required type &#39;java.time.LocalDateTime&#39; for property &#39;endTime&#39;; nested exception is org.springframework.core.convert.ConversionFailedException: Failed to convert from type [java.lang.String] to type [@org.springframework.format.annotation.DateTimeFormat java.time.LocalDateTime] for value [1999-02-11 00:00:00]; nested exception is java.lang.IllegalArgumentException: Parse attempt failed for value [1999-02-11 00:00:00]\r\n`\r\n\r\nIs there any solution to use an annotation rather than writing a converter manually?\r\n\r\nMany thanks.\r\n\r\nI tried google with keywords &quot;LocalDateTime @ParameterObject @DateTimeFormat pattern&quot;, not getting much help.","title":"How to convert to a LocalDateTime field in an @ParameterObject with @DateTimeFormat pattern instead of iso?","body":"<p><strong>Update: It's not even a question, it's completely my DUMB. Plz down vote this question.</strong></p>\n<p>thanks to @M. Deinum points out that's not a spring thing.</p>\n<p>my IDEA's settings messed up in a crash this morning and not auto-compile before re-running.</p>\n<p>=========================</p>\n<p>The Controller</p>\n<pre class=\"lang-java prettyprint-override\"><code>@GetMapping(&quot;/page&quot;)\npublic Response Page(@ParameterObject Page page, @ParameterObject QueryDTO param) {\n    /*\n     * irrelevant parts omitted\n     */\n}\n</code></pre>\n<p>When I use this in DTO, it works well with <code>yyyy-MM-dd'T'HH:mm:ss</code> pattern passed-in.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Data\npublic class QueryDTO {\n    /*\n     * irrelevant parts omitted\n     */\n    @DateTimeFormat(iso = DateTimeFormat.ISO.DATE_TIME)\n    private LocalDateTime startTime;\n\n    @DateTimeFormat(iso = DateTimeFormat.ISO.DATE_TIME)\n    private LocalDateTime endTime;\n}\n</code></pre>\n<p>But when I want to use a ' ' instead of the 'T', I tried:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@DateTimeFormat(pattern = &quot;yyyy-MM-dd HH:mm:ss&quot;)\n</code></pre>\n<p>and change the input param from &quot;1999-02-11T00:00:00&quot; to &quot;1999-02-11 00:00:00&quot;, I got</p>\n<p><code>endTime Failed to convert property value of type 'java.lang.String' to required type 'java.time.LocalDateTime' for property 'endTime'; nested exception is org.springframework.core.convert.ConversionFailedException: Failed to convert from type [java.lang.String] to type [@org.springframework.format.annotation.DateTimeFormat java.time.LocalDateTime] for value [1999-02-11 00:00:00]; nested exception is java.lang.IllegalArgumentException: Parse attempt failed for value [1999-02-11 00:00:00]</code></p>\n<p>Is there any solution to use an annotation rather than writing a converter manually?</p>\n<p>Many thanks.</p>\n<p>I tried google with keywords &quot;LocalDateTime @ParameterObject @DateTimeFormat pattern&quot;, not getting much help.</p>\n"},{"tags":["java","linked-list"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1687854578,"post_id":76562674,"comment_id":134991250,"body_markdown":"Please show a complete example. As each of the elements in your list is the *same object* it isn&#39;t possible for the first to have three strings, and the next two to be empty.","body":"Please show a complete example. As each of the elements in your list is the <i>same object</i> it isn&#39;t possible for the first to have three strings, and the next two to be empty."},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1687857981,"post_id":76562674,"comment_id":134991953,"body_markdown":"How you know that &quot;next two are empty.&quot; ? (For example, is the output of printing `list.get(1).str1`?)","body":"How you know that &quot;next two are empty.&quot; ? (For example, is the output of printing <code>list.get(1).str1</code>?)"}],"owner":{"account_id":28903035,"reputation":3,"user_id":22137551,"display_name":"user22137551"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687853024,"creation_date":1687852016,"question_id":76562674,"body_markdown":"I&#39;m trying to create a LinkedList of a custom class.\r\n\r\nI&#39;ve stripped my code back and followed the suggestion here:\r\n\r\nhttps://stackoverflow.com/questions/7607899/arraylist-with-custom-objects\r\n\r\nWhen I run the code and debug it, I can see that the LinkedList number of elements is increasing with each add, but all the data is &#39;sitting&#39; in the first index, with the later elements all empty.\r\n\r\n```\r\npublic class editTextString {\r\n\t\tprivate String  str1;\r\n\t\tprivate String  str2;\r\n\t\tprivate String  str3;\r\n\r\n\t\tpublic editTextString(String data1,String data2,String data3){\r\n\r\n\t\tstr1 = data1;\r\n\t\tstr2 = data2;\r\n\t\tstr3 = data3;\r\n}\r\n\r\n\r\npublic static void main(String[] args) {\r\n\tArrayList&lt;editTextString&gt; list = new ArrayList&lt;editTextString&gt;();\r\n\teditTextString data = new editTextString(&quot;edit1&quot;,&quot;edit2&quot;,&quot;edit3&quot;);\r\n\tlist.add(data);\r\n\tlist.add(data);\r\n\tlist.add(data);\r\n}\r\n```\r\n\r\nExpected output:\r\nList to have 3 elements each with three substrings within.\r\nActual output:\r\nList with 3 elements, first contains three substrings, next two are empty.","title":"Using Custom Classes With LinkedList - Java","body":"<p>I'm trying to create a LinkedList of a custom class.</p>\n<p>I've stripped my code back and followed the suggestion here:</p>\n<p><a href=\"https://stackoverflow.com/questions/7607899/arraylist-with-custom-objects\">arraylist with custom objects</a></p>\n<p>When I run the code and debug it, I can see that the LinkedList number of elements is increasing with each add, but all the data is 'sitting' in the first index, with the later elements all empty.</p>\n<pre><code>public class editTextString {\n        private String  str1;\n        private String  str2;\n        private String  str3;\n\n        public editTextString(String data1,String data2,String data3){\n\n        str1 = data1;\n        str2 = data2;\n        str3 = data3;\n}\n\n\npublic static void main(String[] args) {\n    ArrayList&lt;editTextString&gt; list = new ArrayList&lt;editTextString&gt;();\n    editTextString data = new editTextString(&quot;edit1&quot;,&quot;edit2&quot;,&quot;edit3&quot;);\n    list.add(data);\n    list.add(data);\n    list.add(data);\n}\n</code></pre>\n<p>Expected output:\nList to have 3 elements each with three substrings within.\nActual output:\nList with 3 elements, first contains three substrings, next two are empty.</p>\n"},{"tags":["java","xml","validation","xsd"],"answers":[{"tags":[],"owner":{"account_id":529122,"reputation":158120,"user_id":415448,"accept_rate":33,"display_name":"Michael Kay"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687852514,"creation_date":1687852514,"answer_id":76562738,"question_id":76561686,"body_markdown":"See https://issues.apache.org/jira/browse/XERCESJ-1130 which is labelled as &quot;unresolved&quot;.\r\n\r\nI believe this will work as expected with the Saxon schema validator, at least if you set the appropriate options.","title":"Validate XML file using Java with an XSD having an include","body":"<p>See <a href=\"https://issues.apache.org/jira/browse/XERCESJ-1130\" rel=\"nofollow noreferrer\">https://issues.apache.org/jira/browse/XERCESJ-1130</a> which is labelled as &quot;unresolved&quot;.</p>\n<p>I believe this will work as expected with the Saxon schema validator, at least if you set the appropriate options.</p>\n"}],"owner":{"account_id":28901892,"reputation":11,"user_id":22136642,"display_name":"Dangel"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":75,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1687852514,"creation_date":1687841164,"question_id":76561686,"body_markdown":"I need to perform xml validation on the xsd schema. xsd schemas are stored in a DB table. Many schemes are interconnected via import and include. I pass an array of schemas to the validation function. If only &quot;import&quot; is found in the xsd schema, everything works. If &quot;include&quot; - I get the error: &quot;org.xml.sax.SAXParseException; cvc-elt.1.a: Cannot find the declaration of element&quot;.\r\n\r\n```\r\n// p_schemasArr[] - xsd array. It has all the schemes that are connected via include and import. The array is sorted. The last one in array b includes all the previous ones.\r\n// e - Total xsd schema. There can be many schemes (up to 130).\r\nSchemaFactory schemaFactory = SchemaFactory.newInstance(XMLConstants.W3C_XML_SCHEMA_NS_URI);\r\nSource[] sources = new Source[e];\r\nfor (int i = 0; i &lt; e; i++) {\r\n  sources[i] = new StreamSource(new StringReader(p_schemasArr[i]), &quot;xsd_&quot; + i);\r\n}\r\nSchema schema = schemaFactory.newSchema(sources);\r\nValidator validator = schema.newValidator();\r\nvalidator.validate(new StreamSource(new StringReader(xmlFileSource.getValue())));\r\n```","title":"Validate XML file using Java with an XSD having an include","body":"<p>I need to perform xml validation on the xsd schema. xsd schemas are stored in a DB table. Many schemes are interconnected via import and include. I pass an array of schemas to the validation function. If only &quot;import&quot; is found in the xsd schema, everything works. If &quot;include&quot; - I get the error: &quot;org.xml.sax.SAXParseException; cvc-elt.1.a: Cannot find the declaration of element&quot;.</p>\n<pre><code>// p_schemasArr[] - xsd array. It has all the schemes that are connected via include and import. The array is sorted. The last one in array b includes all the previous ones.\n// e - Total xsd schema. There can be many schemes (up to 130).\nSchemaFactory schemaFactory = SchemaFactory.newInstance(XMLConstants.W3C_XML_SCHEMA_NS_URI);\nSource[] sources = new Source[e];\nfor (int i = 0; i &lt; e; i++) {\n  sources[i] = new StreamSource(new StringReader(p_schemasArr[i]), &quot;xsd_&quot; + i);\n}\nSchema schema = schemaFactory.newSchema(sources);\nValidator validator = schema.newValidator();\nvalidator.validate(new StreamSource(new StringReader(xmlFileSource.getValue())));\n</code></pre>\n"},{"tags":["java","mongodb"],"answers":[{"tags":[],"owner":{"account_id":4008086,"reputation":2250,"user_id":3302263,"display_name":"Pavel Bely"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687852034,"creation_date":1687604416,"answer_id":76545738,"question_id":76542723,"body_markdown":"If you&#39;re using Mongo Atlas you can try [`$unionWith` query with `$search`][1]\r\n```\r\ndb.chats.aggregate([\r\n{\r\n  &quot;$search&quot;: {\r\n    &quot;text&quot;: {\r\n      &quot;query&quot;: &quot;foobar&quot;,\r\n      &quot;path&quot;: &quot;name&quot;\r\n    }\r\n  }\r\n}, {\r\n  &quot;$project&quot;: {\r\n    &quot;score&quot;: {\r\n      &quot;$meta&quot;: &quot;searchScore&quot;\r\n    },\r\n    &quot;_id&quot;: 0,\r\n    &quot;docType&quot;: {$literal: &quot;chat&quot;},\r\n    &quot;name&quot;: 1\r\n  }\r\n},\r\n{\r\n  &quot;$unionWith&quot;: {\r\n    &quot;coll&quot;: &quot;events&quot;,\r\n    &quot;pipeline&quot;: [\r\n      {\r\n        &quot;$search&quot;: {\r\n          &quot;text&quot;: {\r\n            &quot;query&quot;: &quot;foobar&quot;,\r\n            &quot;path&quot;: &quot;message&quot;\r\n          }\r\n        }\r\n      }, {\r\n        &quot;$project&quot;: {\r\n          &quot;score&quot;: {\r\n            &quot;$meta&quot;: &quot;searchScore&quot;\r\n          },\r\n          &quot;docType&quot;: {$literal: &quot;event&quot;},\r\n          &quot;message&quot;: 1\r\n        }\r\n      }\r\n    ]\r\n  }\r\n}\r\n])\r\n```\r\n\r\n----\r\n\r\nAlternatively if you&#39;re not using Atlas you can reverse your lookup and first filter all the documents in `events` collections.   \r\nAnd then lookup with the other collection, let&#39;s call it `chats`.   \r\nAfter that you can transfrom the data to what you&#39;d like to get:\r\n\r\n    db.events.aggregate([\r\n    { $match: { $text: { $search: &quot;two&quot;} } },\r\n    { $match: { event_type: &quot;etype1&quot; } },\r\n    { $lookup: {\r\n       from: &#39;chats&#39;,\r\n       localField : &#39;chat_id&#39;,\r\n       foreignField : &#39;chat_id&#39;,\r\n       as: &#39;chat&#39;\r\n    }},\r\n    { $unwind: &#39;$chat&#39; },\r\n    { $groupBy: {\r\n      _id: { chat_id: &#39;$chat_id&#39; },\r\n      chat: { $first: &#39;$chat&#39; },\r\n      chat_begin_ts: { $first: &#39;$chat_begin_ts&#39; },\r\n    },\r\n    { &#39;$sort&#39;: { &#39;chat_begin_ts&#39;:1}\r\n    ]);\r\n\r\n\r\n  [1]: https://www.mongodb.com/docs/atlas/atlas-search/tutorial/search-with-unionwith/#std-label-search-with-unionwith-tutorial","title":"How do I do full text search in a mongo join?","body":"<p>If you're using Mongo Atlas you can try <a href=\"https://www.mongodb.com/docs/atlas/atlas-search/tutorial/search-with-unionwith/#std-label-search-with-unionwith-tutorial\" rel=\"nofollow noreferrer\"><code>$unionWith</code> query with <code>$search</code></a></p>\n<pre><code>db.chats.aggregate([\n{\n  &quot;$search&quot;: {\n    &quot;text&quot;: {\n      &quot;query&quot;: &quot;foobar&quot;,\n      &quot;path&quot;: &quot;name&quot;\n    }\n  }\n}, {\n  &quot;$project&quot;: {\n    &quot;score&quot;: {\n      &quot;$meta&quot;: &quot;searchScore&quot;\n    },\n    &quot;_id&quot;: 0,\n    &quot;docType&quot;: {$literal: &quot;chat&quot;},\n    &quot;name&quot;: 1\n  }\n},\n{\n  &quot;$unionWith&quot;: {\n    &quot;coll&quot;: &quot;events&quot;,\n    &quot;pipeline&quot;: [\n      {\n        &quot;$search&quot;: {\n          &quot;text&quot;: {\n            &quot;query&quot;: &quot;foobar&quot;,\n            &quot;path&quot;: &quot;message&quot;\n          }\n        }\n      }, {\n        &quot;$project&quot;: {\n          &quot;score&quot;: {\n            &quot;$meta&quot;: &quot;searchScore&quot;\n          },\n          &quot;docType&quot;: {$literal: &quot;event&quot;},\n          &quot;message&quot;: 1\n        }\n      }\n    ]\n  }\n}\n])\n</code></pre>\n<hr />\n<p>Alternatively if you're not using Atlas you can reverse your lookup and first filter all the documents in <code>events</code> collections.<br />\nAnd then lookup with the other collection, let's call it <code>chats</code>.<br />\nAfter that you can transfrom the data to what you'd like to get:</p>\n<pre><code>db.events.aggregate([\n{ $match: { $text: { $search: &quot;two&quot;} } },\n{ $match: { event_type: &quot;etype1&quot; } },\n{ $lookup: {\n   from: 'chats',\n   localField : 'chat_id',\n   foreignField : 'chat_id',\n   as: 'chat'\n}},\n{ $unwind: '$chat' },\n{ $groupBy: {\n  _id: { chat_id: '$chat_id' },\n  chat: { $first: '$chat' },\n  chat_begin_ts: { $first: '$chat_begin_ts' },\n},\n{ '$sort': { 'chat_begin_ts':1}\n]);\n</code></pre>\n"}],"owner":{"account_id":413997,"reputation":434,"user_id":787971,"accept_rate":12,"display_name":"David Wood"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":88,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1687852034,"creation_date":1687545400,"question_id":76542723,"body_markdown":"I would like to perform a join between two collections using a $match that includes a $text on the joined table.  Here is the pipeline expression passed to aggregate()\r\n\r\n```json\r\n[\r\n{ $lookup : {\r\n   from: &#39;events&#39;,\r\n   localField : &#39;chat_id&#39;,\r\n   foreignField : &#39;chat_id&#39;,\r\n   pipeline: [{ $match : { $text: { $search: &quot;two&quot;} } }],\r\n   as: &#39;events&#39;\r\n}}, \r\n{ $match: { $expr : {$gt : [ { $size : &#39;$events&#39;} , 0 ]} }}, \r\n{$project: { annotations: 0, events: 0}}, { &#39;$sort&#39;: { &#39;chat_begin_ts&#39;:1} }\r\n]\r\n```\r\nBut when I do this, I get the following\r\n\r\n&gt; mongodb.MongoCommandException: Command failed with error 17313\r\n&gt; (Location17313): &#39;$match with $text is only allowed as the first\r\n&gt; pipeline stage&#39; on server localhost:27017. The full response is {&quot;ok&quot;:\r\n&gt; 0.0, &quot;errmsg&quot;: &quot;$match with $text is only allowed as the first pipeline stage&quot;, &quot;code&quot;: 17313, &quot;codeName&quot;: &quot;Location17313&quot;}\r\n\r\nBut of course, the $match/$text IS in the first stage of the $lookup. Other joins not using $text seem to work, as with the following pipeline definition\r\n\r\n```json\r\n[{ $lookup : {\r\n   from: &#39;events&#39;,\r\n   localField : &#39;chat_id&#39;,\r\n   foreignField : &#39;chat_id&#39;,\r\n   pipeline: [{ $match: { $expr : { $eq : [ &quot;$event_type&quot;, &quot;etype1&quot;]}}}],\r\n   as: &#39;events&#39;\r\n} \r\n...\r\n```\r\n I am using mongo 3.12.14 Java driver and 5.0.7 server. ","title":"How do I do full text search in a mongo join?","body":"<p>I would like to perform a join between two collections using a $match that includes a $text on the joined table.  Here is the pipeline expression passed to aggregate()</p>\n<pre class=\"lang-json prettyprint-override\"><code>[\n{ $lookup : {\n   from: 'events',\n   localField : 'chat_id',\n   foreignField : 'chat_id',\n   pipeline: [{ $match : { $text: { $search: &quot;two&quot;} } }],\n   as: 'events'\n}}, \n{ $match: { $expr : {$gt : [ { $size : '$events'} , 0 ]} }}, \n{$project: { annotations: 0, events: 0}}, { '$sort': { 'chat_begin_ts':1} }\n]\n</code></pre>\n<p>But when I do this, I get the following</p>\n<blockquote>\n<p>mongodb.MongoCommandException: Command failed with error 17313\n(Location17313): '$match with $text is only allowed as the first\npipeline stage' on server localhost:27017. The full response is {&quot;ok&quot;:\n0.0, &quot;errmsg&quot;: &quot;$match with $text is only allowed as the first pipeline stage&quot;, &quot;code&quot;: 17313, &quot;codeName&quot;: &quot;Location17313&quot;}</p>\n</blockquote>\n<p>But of course, the $match/$text IS in the first stage of the $lookup. Other joins not using $text seem to work, as with the following pipeline definition</p>\n<pre class=\"lang-json prettyprint-override\"><code>[{ $lookup : {\n   from: 'events',\n   localField : 'chat_id',\n   foreignField : 'chat_id',\n   pipeline: [{ $match: { $expr : { $eq : [ &quot;$event_type&quot;, &quot;etype1&quot;]}}}],\n   as: 'events'\n} \n...\n</code></pre>\n<p>I am using mongo 3.12.14 Java driver and 5.0.7 server.</p>\n"},{"tags":["java","testing","junit","karate","web-api-testing"],"comments":[{"owner":{"account_id":48302,"reputation":55353,"user_id":143475,"display_name":"Peter Thomas"},"score":0,"creation_date":1653553414,"post_id":72388746,"comment_id":127881386,"body_markdown":"my advise is don&#39;t try to create a project by hand unless you read the documentation. just use the quickstart: https://github.com/karatelabs/karate#quickstart - and re-use the structure if needed - if still stuck, follow this process: https://github.com/karatelabs/karate/wiki/How-to-Submit-an-Issue","body":"my advise is don&#39;t try to create a project by hand unless you read the documentation. just use the quickstart: <a href=\"https://github.com/karatelabs/karate#quickstart\" rel=\"nofollow noreferrer\">github.com/karatelabs/karate#quickstart</a> - and re-use the structure if needed - if still stuck, follow this process: <a href=\"https://github.com/karatelabs/karate/wiki/How-to-Submit-an-Issue\" rel=\"nofollow noreferrer\">github.com/karatelabs/karate/wiki/How-to-Submit-an-Issue</a>"},{"owner":{"account_id":24572375,"reputation":83,"user_id":18478604,"display_name":"DucanoidYoung"},"score":0,"creation_date":1653554793,"post_id":72388746,"comment_id":127881808,"body_markdown":"I&#39;m in a corporate environment and maybe inappropriate to fetch archetype. I&#39;ve read the documentation and examples, but still got stuck with the simple structure above.","body":"I&#39;m in a corporate environment and maybe inappropriate to fetch archetype. I&#39;ve read the documentation and examples, but still got stuck with the simple structure above."},{"owner":{"account_id":48302,"reputation":55353,"user_id":143475,"display_name":"Peter Thomas"},"score":0,"creation_date":1653555264,"post_id":72388746,"comment_id":127881951,"body_markdown":"cool. the only other suggestion is, use the ZIP release: https://github.com/karatelabs/karate/wiki/ZIP-Release - and also note that the JUnit support is optional, just use the `Runner` API directly and you should be up and runniing: https://stackoverflow.com/a/65578167/143475","body":"cool. the only other suggestion is, use the ZIP release: <a href=\"https://github.com/karatelabs/karate/wiki/ZIP-Release\" rel=\"nofollow noreferrer\">github.com/karatelabs/karate/wiki/ZIP-Release</a> - and also note that the JUnit support is optional, just use the <code>Runner</code> API directly and you should be up and runniing: <a href=\"https://stackoverflow.com/a/65578167/143475\">stackoverflow.com/a/65578167/143475</a>"},{"owner":{"account_id":24572375,"reputation":83,"user_id":18478604,"display_name":"DucanoidYoung"},"score":2,"creation_date":1653631528,"post_id":72388746,"comment_id":127902023,"body_markdown":"Thanks for helping, I managed to use the archetype and found I missed to config my testResources in pom.xml.","body":"Thanks for helping, I managed to use the archetype and found I missed to config my testResources in pom.xml."}],"answers":[{"tags":[],"owner":{"account_id":5368229,"reputation":11,"user_id":4277467,"display_name":"BigApp7e"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687852008,"creation_date":1687440614,"answer_id":76532450,"question_id":72388746,"body_markdown":"In your pom.xml file you should add testResources in build section as an example below:\r\n\r\n    \t&lt;build&gt;\r\n\t\t&lt;testResources&gt;\r\n\t\t\t&lt;testResource&gt;\r\n\t\t\t\t&lt;directory&gt;src/test/java&lt;/directory&gt;\r\n\t\t\t\t&lt;excludes&gt;\r\n\t\t\t\t\t&lt;exclude&gt;**/*.java&lt;/exclude&gt;\r\n\t\t\t\t&lt;/excludes&gt;\r\n\t\t\t&lt;/testResource&gt;\r\n\t\t&lt;/testResources&gt;","title":"Karate junit5 runner can&#39;t find feature file","body":"<p>In your pom.xml file you should add testResources in build section as an example below:</p>\n<pre><code>    &lt;build&gt;\n    &lt;testResources&gt;\n        &lt;testResource&gt;\n            &lt;directory&gt;src/test/java&lt;/directory&gt;\n            &lt;excludes&gt;\n                &lt;exclude&gt;**/*.java&lt;/exclude&gt;\n            &lt;/excludes&gt;\n        &lt;/testResource&gt;\n    &lt;/testResources&gt;\n</code></pre>\n"}],"owner":{"account_id":24572375,"reputation":83,"user_id":18478604,"display_name":"DucanoidYoung"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2187,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1687852008,"creation_date":1653552719,"question_id":72388746,"body_markdown":"[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/PfASs.png\r\n\r\nI&#39;ve built a simple project structure following the documentation https://github.com/karatelabs/karate#folder-structure\r\n\r\nrunner class:\r\n```\r\npublic class HealthCheckRunner {\r\n    @Karate.Test\r\n    Karate healthCheck(){\r\n        return Karate.run(&quot;healthCheck&quot;).relativeTo(getClass());\r\n    }\r\n}\r\n```\r\n\r\noutput:\r\n```\r\njava.lang.RuntimeException: not found: steps/healthcheck/healthCheck.feature\r\n```\r\n\r\nApproaches I&#39;ve tried:\r\n```\r\nreturn Karate.run().relativeTo(getClass()); -&gt; org.opentest4j.AssertionFailedError: no features or scenarios found: [classpath:steps/healthcheck]\r\nreturn Karate.run(&quot;healthCheck&quot;); -&gt; org.opentest4j.AssertionFailedError: no features or scenarios found: [healthCheck]\r\nreturn Karate.run(&quot;classpath:steps/healthcheck/healthCheck.feature&quot;); -&gt; java.lang.RuntimeException: not found: steps/healthcheck/healthCheck.feature\r\n```\r\n\r\nI&#39;ve tried run from Run_Api_Test which is a runner **above** feature file, got the same results\r\n\r\nI **can run the feature file directly** with intellij cucumber plugin. But not working with junit runner.\r\n\r\nmy POM:\r\n```\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit-jupiter&lt;/artifactId&gt;\r\n            &lt;version&gt;5.9.0-M1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.intuit.karate&lt;/groupId&gt;\r\n            &lt;artifactId&gt;karate-junit5&lt;/artifactId&gt;\r\n            &lt;version&gt;1.2.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n```","title":"Karate junit5 runner can&#39;t find feature file","body":"<p><a href=\"https://i.stack.imgur.com/PfASs.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/PfASs.png\" alt=\"enter image description here\" /></a></p>\n<p>I've built a simple project structure following the documentation <a href=\"https://github.com/karatelabs/karate#folder-structure\" rel=\"nofollow noreferrer\">https://github.com/karatelabs/karate#folder-structure</a></p>\n<p>runner class:</p>\n<pre><code>public class HealthCheckRunner {\n    @Karate.Test\n    Karate healthCheck(){\n        return Karate.run(&quot;healthCheck&quot;).relativeTo(getClass());\n    }\n}\n</code></pre>\n<p>output:</p>\n<pre><code>java.lang.RuntimeException: not found: steps/healthcheck/healthCheck.feature\n</code></pre>\n<p>Approaches I've tried:</p>\n<pre><code>return Karate.run().relativeTo(getClass()); -&gt; org.opentest4j.AssertionFailedError: no features or scenarios found: [classpath:steps/healthcheck]\nreturn Karate.run(&quot;healthCheck&quot;); -&gt; org.opentest4j.AssertionFailedError: no features or scenarios found: [healthCheck]\nreturn Karate.run(&quot;classpath:steps/healthcheck/healthCheck.feature&quot;); -&gt; java.lang.RuntimeException: not found: steps/healthcheck/healthCheck.feature\n</code></pre>\n<p>I've tried run from Run_Api_Test which is a runner <strong>above</strong> feature file, got the same results</p>\n<p>I <strong>can run the feature file directly</strong> with intellij cucumber plugin. But not working with junit runner.</p>\n<p>my POM:</p>\n<pre><code>        &lt;dependency&gt;\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-jupiter&lt;/artifactId&gt;\n            &lt;version&gt;5.9.0-M1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.intuit.karate&lt;/groupId&gt;\n            &lt;artifactId&gt;karate-junit5&lt;/artifactId&gt;\n            &lt;version&gt;1.2.0&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n"},{"tags":["java","spring","security","lazy-evaluation"],"comments":[{"owner":{"account_id":19535095,"reputation":2864,"user_id":14294053,"display_name":"Mar-Z"},"score":0,"creation_date":1680122473,"post_id":75881476,"comment_id":133846159,"body_markdown":"Error clearly says: no Hibernate Session. You should open one before accessing the lazy loaded proxy. For example: sessionFactory.openSession();","body":"Error clearly says: no Hibernate Session. You should open one before accessing the lazy loaded proxy. For example: sessionFactory.openSession();"},{"owner":{"account_id":24278761,"reputation":41,"user_id":18225658,"display_name":"StonedCodingTom"},"score":0,"creation_date":1680265309,"post_id":75881476,"comment_id":133873131,"body_markdown":"That makes sense, I used entityManager, thx","body":"That makes sense, I used entityManager, thx"}],"answers":[{"tags":[],"owner":{"account_id":24278761,"reputation":41,"user_id":18225658,"display_name":"StonedCodingTom"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680266947,"creation_date":1680266947,"answer_id":75898737,"question_id":75881476,"body_markdown":"I probably found the solution.\r\nI used EntityManager in UserDetailsService implementation class.\r\n\r\n**UserService implements UserDetailsService:**\r\n\r\n    @Service\r\n    @AllArgsConstructor\r\n    public class UserService implements UserDetailsService  {\r\n\r\n    @Autowired\r\n    private final UserRepository userRepository;\r\n\r\n    @PersistenceContext\r\n    private final EntityManager entityManager;\r\n    private List&lt;GrantedAuthority&gt; authorities;\r\n\r\n    @Override\r\n    public UserDetails loadUserByUsername(String username) throws \r\n        UsernameNotFoundException{\r\n\r\n        User user = userRepository.findByUsername(username);\r\n        if(user == null){\r\n            throw new UsernameNotFoundException(username);\r\n        }\r\n        TypedQuery&lt;Role&gt; query = entityManager.createQuery(&quot;SELECT r FROM Role r \r\n        JOIN r.users u WHERE u.id = :userId &quot;, Role.class);\r\n        query.setParameter(&quot;userId&quot;, user.getId());\r\n        authorities = query.getResultList().stream().map(r -&gt; new \r\n        SimpleGrantedAuthority(r.getName())).collect(Collectors.toList());\r\n        return new MyUserPrincipal(user, authorities);\r\n    }\r\n\r\n    public void save(User user){\r\n        userRepository.save(user);\r\n    }\r\n\r\n    }\r\n\r\n**MyUserPrincipal implements UserDetails**\r\n\r\n    public class MyUserPrincipal implements UserDetails {\r\n\r\n    private final User user;\r\n    private final List&lt;GrantedAuthority&gt; authorities;\r\n\r\n    public MyUserPrincipal(User user, List&lt;GrantedAuthority&gt; authorities) {\r\n        this.user = user;\r\n\r\n        this.authorities = authorities;\r\n    }\r\n\r\n        @Override\r\n    public Collection&lt;? extends GrantedAuthority&gt; getAuthorities() {\r\n\r\n        return authorities;\r\n    }\r\n\r\n","title":"Lazy Exception problem in UserDetails when getting roles","body":"<p>I probably found the solution.\nI used EntityManager in UserDetailsService implementation class.</p>\n<p><strong>UserService implements UserDetailsService:</strong></p>\n<pre><code>@Service\n@AllArgsConstructor\npublic class UserService implements UserDetailsService  {\n\n@Autowired\nprivate final UserRepository userRepository;\n\n@PersistenceContext\nprivate final EntityManager entityManager;\nprivate List&lt;GrantedAuthority&gt; authorities;\n\n@Override\npublic UserDetails loadUserByUsername(String username) throws \n    UsernameNotFoundException{\n\n    User user = userRepository.findByUsername(username);\n    if(user == null){\n        throw new UsernameNotFoundException(username);\n    }\n    TypedQuery&lt;Role&gt; query = entityManager.createQuery(&quot;SELECT r FROM Role r \n    JOIN r.users u WHERE u.id = :userId &quot;, Role.class);\n    query.setParameter(&quot;userId&quot;, user.getId());\n    authorities = query.getResultList().stream().map(r -&gt; new \n    SimpleGrantedAuthority(r.getName())).collect(Collectors.toList());\n    return new MyUserPrincipal(user, authorities);\n}\n\npublic void save(User user){\n    userRepository.save(user);\n}\n\n}\n</code></pre>\n<p><strong>MyUserPrincipal implements UserDetails</strong></p>\n<pre><code>public class MyUserPrincipal implements UserDetails {\n\nprivate final User user;\nprivate final List&lt;GrantedAuthority&gt; authorities;\n\npublic MyUserPrincipal(User user, List&lt;GrantedAuthority&gt; authorities) {\n    this.user = user;\n\n    this.authorities = authorities;\n}\n\n    @Override\npublic Collection&lt;? extends GrantedAuthority&gt; getAuthorities() {\n\n    return authorities;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10827831,"reputation":143,"user_id":7963227,"display_name":"Sametcey"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1687851890,"creation_date":1687851890,"answer_id":76562658,"question_id":75881476,"body_markdown":"i faced the same problem but this solution are not correct.\r\n\r\n**First:**\r\nThe Problem occur because Hibernate sends two Selects statements to the SQL Server. The First statement selects the User `&quot;Select * from User ...&quot;` and then the Second Statement `&quot;Select * from ROLES where username=&#39;username&#39;&quot;` ... And this is the Problem -&gt; For the second Select-Statement Hibernate needs a Transaction -&gt; **So the Solution is, you have to get hibernate to do a JOIN (because you need ONE Query)!** This happens because you have LAZY decalred.\r\n\r\n**Second:**\r\nNow you must enter your Repository and make a **LEFT JOIN FETCH** Statement -&gt; In this case Hibernate will execute one Query with join!\r\n\r\nFor Example your Repository Class have the Method:\r\n\r\n    @Query(&quot;SELECT u FROM APPUser u LEFT JOIN FETCH u.appuserroles WHERE u.username= :username&quot;)\r\n    Optional&lt;APPUser&gt; findUserWithRolesByUsername(@Param(&quot;username&quot;) String username);\r\n\r\nIf you use LEFT JOIN without FETCH then Hibernate will again execute two querys!\r\n\r\nAnd be carreful, import the right package to overwritte the Querys:\r\n\r\n    import org.springframework.data.jpa.repository.Query;\r\n\r\n","title":"Lazy Exception problem in UserDetails when getting roles","body":"<p>i faced the same problem but this solution are not correct.</p>\n<p><strong>First:</strong>\nThe Problem occur because Hibernate sends two Selects statements to the SQL Server. The First statement selects the User <code>&quot;Select * from User ...&quot;</code> and then the Second Statement <code>&quot;Select * from ROLES where username='username'&quot;</code> ... And this is the Problem -&gt; For the second Select-Statement Hibernate needs a Transaction -&gt; <strong>So the Solution is, you have to get hibernate to do a JOIN (because you need ONE Query)!</strong> This happens because you have LAZY decalred.</p>\n<p><strong>Second:</strong>\nNow you must enter your Repository and make a <strong>LEFT JOIN FETCH</strong> Statement -&gt; In this case Hibernate will execute one Query with join!</p>\n<p>For Example your Repository Class have the Method:</p>\n<pre><code>@Query(&quot;SELECT u FROM APPUser u LEFT JOIN FETCH u.appuserroles WHERE u.username= :username&quot;)\nOptional&lt;APPUser&gt; findUserWithRolesByUsername(@Param(&quot;username&quot;) String username);\n</code></pre>\n<p>If you use LEFT JOIN without FETCH then Hibernate will again execute two querys!</p>\n<p>And be carreful, import the right package to overwritte the Querys:</p>\n<pre><code>import org.springframework.data.jpa.repository.Query;\n</code></pre>\n"}],"owner":{"account_id":24278761,"reputation":41,"user_id":18225658,"display_name":"StonedCodingTom"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":200,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76562658,"answer_count":2,"score":0,"last_activity_date":1687851890,"creation_date":1680118514,"question_id":75881476,"body_markdown":"When logging in I am getting this error:\r\n```java\r\norg.hibernate.LazyInitializationException: failed to lazily initialize a collection of role: io.exping.rpgtodoapp.user.User.roles, could not initialize proxy - no Session\r\n\tat org.hibernate.collection.internal.AbstractPersistentCollection.throwLazyInitializationException(AbstractPersistentCollection.java:614) ~[hibernate-core-5.6.14.Final.jar:5.6.14.Final]\r\n\tat org.hibernate.collection.internal.AbstractPersistentCollection.withTemporarySessionIfNeeded(AbstractPersistentCollection.java:218) ~[hibernate-core-5.6.14.Final.jar:5.6.14.Final]\r\n\tat org.hibernate.collection.internal.AbstractPersistentCollection.initialize(AbstractPersistentCollection.java:591) ~[hibernate-core-5.6.14.Final.jar:5.6.14.Final]\r\n\tat org.hibernate.collection.internal.AbstractPersistentCollection.read(AbstractPersistentCollection.java:149) ~[hibernate-core-5.6.14.Final.jar:5.6.14.Final]\r\n\tat org.hibernate.collection.internal.PersistentSet.iterator(PersistentSet.java:188) ~[hibernate-core-5.6.14.Final.jar:5.6.14.Final]\r\n\tat java.base/java.util.Spliterators$IteratorSpliterator.estimateSize(Spliterators.java:1865) ~[na:na]\r\n\tat java.base/java.util.Spliterator.getExactSizeIfKnown(Spliterator.java:414) ~[na:na]\r\n\tat java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:508) ~[na:na]\r\n\tat java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499) ~[na:na]\r\n\tat java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:921) ~[na:na]\r\n\tat java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234) ~[na:na]\r\n\tat java.base/java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:682) ~[na:na]\r\n\tat io.exping.rpgtodoapp.user.MyUserPrincipal.getAuthorities(MyUserPrincipal.java:28) ~[classes/:na] \r\n```\r\n\r\n**MyUserPrincipal class:**\r\n\r\n```java\r\n@Transactional\r\npublic class MyUserPrincipal implements UserDetails {\r\n\r\n    private final User user;\r\n\r\n    public MyUserPrincipal(User user){\r\n        this.user = user;\r\n    }\r\n\r\n    @Override\r\n    public Collection&lt;? extends GrantedAuthority&gt; getAuthorities() {\r\n        return user.getRoles().stream()\r\n                .map(r -&gt; new SimpleGrantedAuthority(r.getName()))\r\n                .collect(Collectors.toList());\r\n    }\r\n```\r\n\r\n**Relation in User class:**\r\n\r\n```java\r\n    @ManyToMany(fetch = FetchType.LAZY)\r\n    @JoinTable(\r\n            name = &quot;users_role&quot;,\r\n            joinColumns = @JoinColumn(name = &quot;user_id&quot;),\r\n            inverseJoinColumns = @JoinColumn(name = &quot;role_id&quot;)\r\n    )\r\n    private Set&lt;Role&gt; roles = new HashSet&lt;&gt;();\r\n```\r\n\r\n**Relation in role class:**\r\n\r\n```java    \r\n    @ManyToMany(mappedBy = &quot;roles&quot;)\r\n    private Set&lt;User&gt; users = new HashSet&lt;&gt;();\r\n```\r\n\r\nWhen changing fetching to eager I am getting weird loop. I double checked my database correctness (but I am beginner so maybe there is the problem idk). @Transactional annotation don t work too.\r\n\r\nI tried to fix this for hours. Should I show more code for solution?\r\nThank you for responses!","title":"Lazy Exception problem in UserDetails when getting roles","body":"<p>When logging in I am getting this error:</p>\n<pre class=\"lang-java prettyprint-override\"><code>org.hibernate.LazyInitializationException: failed to lazily initialize a collection of role: io.exping.rpgtodoapp.user.User.roles, could not initialize proxy - no Session\n    at org.hibernate.collection.internal.AbstractPersistentCollection.throwLazyInitializationException(AbstractPersistentCollection.java:614) ~[hibernate-core-5.6.14.Final.jar:5.6.14.Final]\n    at org.hibernate.collection.internal.AbstractPersistentCollection.withTemporarySessionIfNeeded(AbstractPersistentCollection.java:218) ~[hibernate-core-5.6.14.Final.jar:5.6.14.Final]\n    at org.hibernate.collection.internal.AbstractPersistentCollection.initialize(AbstractPersistentCollection.java:591) ~[hibernate-core-5.6.14.Final.jar:5.6.14.Final]\n    at org.hibernate.collection.internal.AbstractPersistentCollection.read(AbstractPersistentCollection.java:149) ~[hibernate-core-5.6.14.Final.jar:5.6.14.Final]\n    at org.hibernate.collection.internal.PersistentSet.iterator(PersistentSet.java:188) ~[hibernate-core-5.6.14.Final.jar:5.6.14.Final]\n    at java.base/java.util.Spliterators$IteratorSpliterator.estimateSize(Spliterators.java:1865) ~[na:na]\n    at java.base/java.util.Spliterator.getExactSizeIfKnown(Spliterator.java:414) ~[na:na]\n    at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:508) ~[na:na]\n    at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499) ~[na:na]\n    at java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:921) ~[na:na]\n    at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234) ~[na:na]\n    at java.base/java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:682) ~[na:na]\n    at io.exping.rpgtodoapp.user.MyUserPrincipal.getAuthorities(MyUserPrincipal.java:28) ~[classes/:na] \n</code></pre>\n<p><strong>MyUserPrincipal class:</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>@Transactional\npublic class MyUserPrincipal implements UserDetails {\n\n    private final User user;\n\n    public MyUserPrincipal(User user){\n        this.user = user;\n    }\n\n    @Override\n    public Collection&lt;? extends GrantedAuthority&gt; getAuthorities() {\n        return user.getRoles().stream()\n                .map(r -&gt; new SimpleGrantedAuthority(r.getName()))\n                .collect(Collectors.toList());\n    }\n</code></pre>\n<p><strong>Relation in User class:</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>    @ManyToMany(fetch = FetchType.LAZY)\n    @JoinTable(\n            name = &quot;users_role&quot;,\n            joinColumns = @JoinColumn(name = &quot;user_id&quot;),\n            inverseJoinColumns = @JoinColumn(name = &quot;role_id&quot;)\n    )\n    private Set&lt;Role&gt; roles = new HashSet&lt;&gt;();\n</code></pre>\n<p><strong>Relation in role class:</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>    @ManyToMany(mappedBy = &quot;roles&quot;)\n    private Set&lt;User&gt; users = new HashSet&lt;&gt;();\n</code></pre>\n<p>When changing fetching to eager I am getting weird loop. I double checked my database correctness (but I am beginner so maybe there is the problem idk). @Transactional annotation don t work too.</p>\n<p>I tried to fix this for hours. Should I show more code for solution?\nThank you for responses!</p>\n"},{"tags":["java","xml","jaxb"],"owner":{"account_id":4994733,"reputation":1207,"user_id":4015729,"accept_rate":44,"display_name":"Hai Hoang"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687851594,"creation_date":1687851594,"question_id":76562624,"body_markdown":"I have an application that handles message in xml format, the message is like this:\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;yes&quot;?&gt;\r\n&lt;cmn:command xmlns:cmn=&quot;https://www.example.com/uri/xmlns/common/1/4&quot;&gt;\r\n    &lt;cmn:context&gt;\r\n        &lt;cmn:id&gt;2a14598b-23d8-402f-8c18-fa450152f8aa&lt;/cmn:id&gt;\r\n    &lt;/cmn:context&gt;\r\n    &lt;cmn:body&gt;\r\n        &lt;not:notifyUser xmlns:not=&quot;https://www.example.com/uri/xmlns/notification/1/3&quot; version=&quot;1.3.0&quot;&gt;\r\n            &lt;not:userId&gt;0114598b-23d8-402f-8c18-de450152f8aa&lt;/not:userId&gt;\r\n        &lt;/not:notifyUser&gt;\r\n    &lt;/cmn:body&gt;\r\n&lt;/cmn:command&gt;\r\n```\r\n\r\nThe application is changed frequently, hence the namespaces that are loaded into it usually have greater &quot;version&quot; than the incoming message. In this case, the application may have these namespaces which are different than the example message:\r\n```\r\nxmlns:cmn=&quot;https://www.services.zh.ch/uri/xmlns/zhs-common/1/5&quot;\r\nxmlns:not=&quot;https://www.example.com/uri/xmlns/notification/1/4&quot; \r\n```\r\n\r\nThe messages come from external systems and the requirement is avoid making them to update  their namespaces as much as possible. So the application must be able to:\r\n\r\n 1. Deserialize the message even if the namespaces are different, it still throws error if the message is not align with the namespaces in the application. (containing removed fields, missing required fields etc...). In short, treat the incoming message&#39;s namespaces as they are the same as the current ones in the application and try to validate and deserialize it.\r\n\r\n2. Serialize the result to the same namespace as the incoming message. E,g: if the message has namespace &quot;np-v1/0&quot;, the application has &quot;np-v1/1&quot;, the output message must have namespace &quot;np-v1/0&quot;\r\n\r\nCurrently, we are patching the messages using regex and string replacement to the desired namespaces before serializing/deserializing which is turning in to problem now because we are having more namespaces to work on.\r\n\r\nIs there a better way to do it?","title":"Jaxb - Allow serialize/deserialize for messages containing deifferent namespace","body":"<p>I have an application that handles message in xml format, the message is like this:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;yes&quot;?&gt;\n&lt;cmn:command xmlns:cmn=&quot;https://www.example.com/uri/xmlns/common/1/4&quot;&gt;\n    &lt;cmn:context&gt;\n        &lt;cmn:id&gt;2a14598b-23d8-402f-8c18-fa450152f8aa&lt;/cmn:id&gt;\n    &lt;/cmn:context&gt;\n    &lt;cmn:body&gt;\n        &lt;not:notifyUser xmlns:not=&quot;https://www.example.com/uri/xmlns/notification/1/3&quot; version=&quot;1.3.0&quot;&gt;\n            &lt;not:userId&gt;0114598b-23d8-402f-8c18-de450152f8aa&lt;/not:userId&gt;\n        &lt;/not:notifyUser&gt;\n    &lt;/cmn:body&gt;\n&lt;/cmn:command&gt;\n</code></pre>\n<p>The application is changed frequently, hence the namespaces that are loaded into it usually have greater &quot;version&quot; than the incoming message. In this case, the application may have these namespaces which are different than the example message:</p>\n<pre><code>xmlns:cmn=&quot;https://www.services.zh.ch/uri/xmlns/zhs-common/1/5&quot;\nxmlns:not=&quot;https://www.example.com/uri/xmlns/notification/1/4&quot; \n</code></pre>\n<p>The messages come from external systems and the requirement is avoid making them to update  their namespaces as much as possible. So the application must be able to:</p>\n<ol>\n<li><p>Deserialize the message even if the namespaces are different, it still throws error if the message is not align with the namespaces in the application. (containing removed fields, missing required fields etc...). In short, treat the incoming message's namespaces as they are the same as the current ones in the application and try to validate and deserialize it.</p>\n</li>\n<li><p>Serialize the result to the same namespace as the incoming message. E,g: if the message has namespace &quot;np-v1/0&quot;, the application has &quot;np-v1/1&quot;, the output message must have namespace &quot;np-v1/0&quot;</p>\n</li>\n</ol>\n<p>Currently, we are patching the messages using regex and string replacement to the desired namespaces before serializing/deserializing which is turning in to problem now because we are having more namespaces to work on.</p>\n<p>Is there a better way to do it?</p>\n"},{"tags":["java","android","android-layout","android-relativelayout","android-displaymanager"],"comments":[{"owner":{"account_id":14349390,"reputation":659,"user_id":10365380,"display_name":"Rohaitas Tanoli"},"score":0,"creation_date":1686829941,"post_id":76480901,"comment_id":134854893,"body_markdown":"int width = Math.max(getMeasuredWidth(), getMeasuredHeight());\nint height = Math.min(getMeasuredWidth(), getMeasuredHeight());\nRelativeLayout.LayoutParams[] array = new RelativeLayout.LayoutParams[size];\n  for (int i = 0; i &lt; size; i++) {\n          array[i] = new RelativeLayout.LayoutParams(0, height);\n          array[i].addRule(RelativeLayout.ALIGN_PARENT_TOP, RelativeLayout.TRUE);\n            if (i &gt; 0) {\n                array[i].addRule(RelativeLayout.RIGHT_OF, mUserViewList.get(mUidList.get(i - 1)).getId());\n        }\n       array[i].width = width / size;\n     }\n return array; }","body":"int width = Math.max(getMeasuredWidth(), getMeasuredHeight()); int height = Math.min(getMeasuredWidth(), getMeasuredHeight()); RelativeLayout.LayoutParams[] array = new RelativeLayout.LayoutParams[size];   for (int i = 0; i &lt; size; i++) {           array[i] = new RelativeLayout.LayoutParams(0, height);           array[i].addRule(RelativeLayout.ALIGN_PARENT_TOP, RelativeLayout.TRUE);             if (i &gt; 0) {                 array[i].addRule(RelativeLayout.RIGHT_OF, mUserViewList.get(mUidList.get(i - 1)).getId());         }        array[i].width = width / size;      }  return array; }"},{"owner":{"account_id":11650441,"reputation":201,"user_id":12527104,"display_name":"IRON MAN"},"score":0,"creation_date":1686830095,"post_id":76480901,"comment_id":134854942,"body_markdown":"@RohaitasTanoli this is for which case ?? user with 3 or 4 ? did u see my six screenshot that is my target","body":"@RohaitasTanoli this is for which case ?? user with 3 or 4 ? did u see my six screenshot that is my target"},{"owner":{"account_id":14349390,"reputation":659,"user_id":10365380,"display_name":"Rohaitas Tanoli"},"score":0,"creation_date":1686830220,"post_id":76480901,"comment_id":134854970,"body_markdown":"for all case try this and check if it is working correctly?","body":"for all case try this and check if it is working correctly?"},{"owner":{"account_id":14349390,"reputation":659,"user_id":10365380,"display_name":"Rohaitas Tanoli"},"score":0,"creation_date":1686830286,"post_id":76480901,"comment_id":134854981,"body_markdown":"I don&#39;t have getMeasuredWidth() to test this..","body":"I don&#39;t have getMeasuredWidth() to test this.."},{"owner":{"account_id":11650441,"reputation":201,"user_id":12527104,"display_name":"IRON MAN"},"score":0,"creation_date":1686830358,"post_id":76480901,"comment_id":134854993,"body_markdown":"@RohaitasTanoli i tried this ...every user is getting added one after another..\nthats not what i want","body":"@RohaitasTanoli i tried this ...every user is getting added one after another.. thats not what i want"},{"owner":{"account_id":11650441,"reputation":201,"user_id":12527104,"display_name":"IRON MAN"},"score":0,"creation_date":1686830462,"post_id":76480901,"comment_id":134855014,"body_markdown":"that is also not equally aligned please refer issue screenshot","body":"that is also not equally aligned please refer issue screenshot"},{"owner":{"account_id":11650441,"reputation":201,"user_id":12527104,"display_name":"IRON MAN"},"score":0,"creation_date":1686834481,"post_id":76480901,"comment_id":134855987,"body_markdown":"@RohaitasTanoli can suggest some more solution for above issue","body":"@RohaitasTanoli can suggest some more solution for above issue"},{"owner":{"account_id":14218047,"reputation":11740,"user_id":10271334,"display_name":"Jeel Vankhede"},"score":0,"creation_date":1687275458,"post_id":76480901,"comment_id":134912408,"body_markdown":"@IRONMAN Do we have max limit to add child views? It feels like ordinary grid/staggering arrangements won’t work dynamically. Just wanted to understand about the max limit so that I can provide some suggestions.","body":"@IRONMAN Do we have max limit to add child views? It feels like ordinary grid/staggering arrangements won’t work dynamically. Just wanted to understand about the max limit so that I can provide some suggestions."},{"owner":{"account_id":11650441,"reputation":201,"user_id":12527104,"display_name":"IRON MAN"},"score":0,"creation_date":1687282342,"post_id":76480901,"comment_id":134913866,"body_markdown":"max limit is 6 @JeelVankhede...i need to use relative layout only for dynamic cells","body":"max limit is 6 @JeelVankhede...i need to use relative layout only for dynamic cells"}],"answers":[{"tags":[],"owner":{"account_id":18672550,"reputation":199,"user_id":13610941,"display_name":"Ravikant sahu"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1687851330,"creation_date":1687850186,"answer_id":76562452,"question_id":76480901,"body_markdown":"[![enter image description here][1]][1]To make Dynamic view as you see it, I wrote the following code:\r\n\r\nNote: There is an exception for the 5 view because it needs to be wrapped inside another view (in my case, the linear layout).\r\n\r\n\r\nCurrently, the width and height of the relative layout are fixed as follows: \r\n\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;200dp&quot;\r\n\r\nwhole activity code:\r\n\r\n        public class MainActivity2 extends AppCompatActivity {\r\n        RelativeLayout relativeLayout;\r\n        List&lt;UserView&gt; mUserViewList;\r\n        List&lt;Integer&gt; mUidList;\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main2);\r\n    \r\n             relativeLayout = findViewById(R.id.relativeLayout);\r\n    \r\n    \r\n    \r\n            mUserViewList = new ArrayList&lt;&gt;();\r\n            mUidList = new ArrayList&lt;&gt;();\r\n            int size = 5;\r\n    \r\n    \r\n            RelativeLayout.LayoutParams[] array = getgrid2(size);\r\n    \r\n            for (int i = 0; i &lt; size; i++) {\r\n                //createing user view and addding in view list\r\n                UserView userView = new UserView(this);\r\n                mUserViewList.add(userView);\r\n    \r\n                //setting id and addint to id list\r\n                userView.setId(i);\r\n                mUidList.add(i);\r\n    \r\n                //settting text to user view\r\n                userView.setTextView(&quot;User &quot; + (i+1));\r\n    \r\n                if (array[i]==null)\r\n                    continue;\r\n                //setting layout\r\n                mUserViewList.get(i).setLayoutParams(array[i]);\r\n                //adding to views\r\n                if (i==4){\r\n    \r\n                    relativeLayout.addView(exptionalMethodFor5view());\r\n                }\r\n                relativeLayout.addView(mUserViewList.get(i));\r\n            }\r\n        }\r\n    \r\n    \r\n        private RelativeLayout.LayoutParams[] getgrid2(int size) {\r\n    \r\n    //        int width = Math.max(relativeLayout.getMeasuredWidth(),relativeLayout.getMeasuredHeight());\r\n    //        int height = Math.min(relativeLayout.getMeasuredWidth(),relativeLayout.getMeasuredHeight());\r\n    \r\n             int width = Resources.getSystem().getDisplayMetrics().widthPixels;\r\n             int height =dpToPx(200);\r\n    \r\n            RelativeLayout.LayoutParams[] array =\r\n                    new RelativeLayout.LayoutParams[size];\r\n            switch (size){\r\n                case 1: {\r\n                    array[0] = new RelativeLayout.LayoutParams(\r\n                            RelativeLayout.LayoutParams.MATCH_PARENT,\r\n                            RelativeLayout.LayoutParams.MATCH_PARENT);\r\n                    array[0].addRule(RelativeLayout.ALIGN_PARENT_TOP, RelativeLayout.TRUE);\r\n                    break;\r\n                }\r\n                case 2:{\r\n                    array[0] = new RelativeLayout.LayoutParams(\r\n                            width/2,\r\n                            RelativeLayout.LayoutParams.MATCH_PARENT );\r\n                    array[0].addRule(RelativeLayout.ALIGN_PARENT_TOP, RelativeLayout.TRUE);\r\n                    array[0].addRule(RelativeLayout.ALIGN_PARENT_START, RelativeLayout.TRUE);\r\n    \r\n                    array[1] = new RelativeLayout.LayoutParams(\r\n                            width/2,\r\n                            ViewGroup.LayoutParams.MATCH_PARENT);\r\n                    array[1].addRule(RelativeLayout.ALIGN_PARENT_TOP, RelativeLayout.TRUE);\r\n                    array[1].addRule(RelativeLayout.ALIGN_PARENT_END, RelativeLayout.TRUE);\r\n                    break;\r\n    \r\n                }\r\n                case 3: {\r\n                    array[0] = new RelativeLayout.LayoutParams(\r\n                            width/3,\r\n                            RelativeLayout.LayoutParams.MATCH_PARENT );\r\n                    array[0].addRule(RelativeLayout.ALIGN_PARENT_TOP, RelativeLayout.TRUE);\r\n                    array[0].addRule(RelativeLayout.ALIGN_PARENT_START, RelativeLayout.TRUE);\r\n    \r\n                    array[1] = new RelativeLayout.LayoutParams(\r\n                            width/3,\r\n                            ViewGroup.LayoutParams.MATCH_PARENT);\r\n                    array[1].addRule(RelativeLayout.ALIGN_PARENT_TOP, RelativeLayout.TRUE);\r\n                    array[1].addRule(RelativeLayout.ALIGN_PARENT_END, RelativeLayout.TRUE);\r\n    \r\n                    array[2] = new RelativeLayout.LayoutParams(\r\n                            width/3,\r\n                            ViewGroup.LayoutParams.MATCH_PARENT);\r\n                    array[2].addRule(RelativeLayout.CENTER_IN_PARENT, RelativeLayout.TRUE);\r\n                    break;\r\n                }\r\n                case 4: {\r\n                    array[0] = new RelativeLayout.LayoutParams(\r\n                            width/2,\r\n                            height/2 );\r\n                    array[0].addRule(RelativeLayout.ALIGN_PARENT_TOP, RelativeLayout.TRUE);\r\n                    array[0].addRule(RelativeLayout.ALIGN_PARENT_START, RelativeLayout.TRUE);\r\n    \r\n                    array[1] = new RelativeLayout.LayoutParams(\r\n                            width/2,\r\n                            height/2);\r\n                    array[1].addRule(RelativeLayout.ALIGN_PARENT_TOP, RelativeLayout.TRUE);\r\n                    array[1].addRule(RelativeLayout.ALIGN_PARENT_END, RelativeLayout.TRUE);\r\n    \r\n                    array[2] = new RelativeLayout.LayoutParams(\r\n                            width/2,\r\n                            height/2);\r\n                    array[2].addRule(RelativeLayout.ALIGN_PARENT_BOTTOM, RelativeLayout.TRUE);\r\n    \r\n                    array[3] = new RelativeLayout.LayoutParams(\r\n                            width/2,\r\n                            height/2);\r\n                    array[3].addRule(RelativeLayout.ALIGN_PARENT_BOTTOM, RelativeLayout.TRUE);\r\n                    array[3].addRule(RelativeLayout.ALIGN_PARENT_END, RelativeLayout.TRUE);\r\n                    break;\r\n                }\r\n                case 5: {\r\n    //                array[0] = new RelativeLayout.LayoutParams(\r\n    //                        width/3,\r\n    //                        height/2 );\r\n    //                array[0].addRule(RelativeLayout.ALIGN_PARENT_TOP, RelativeLayout.TRUE);\r\n    //                array[0].addRule(RelativeLayout.ALIGN_PARENT_START, RelativeLayout.TRUE);\r\n    \r\n    //                array[1] = new RelativeLayout.LayoutParams(\r\n    //                        width/3,\r\n    //                        height/2);\r\n                    //top right\r\n    //                array[1].addRule(RelativeLayout.ALIGN_PARENT_TOP, RelativeLayout.TRUE);\r\n    //                array[1].addRule(RelativeLayout.ALIGN_PARENT_END, RelativeLayout.TRUE);\r\n    \r\n                    array[2] = new RelativeLayout.LayoutParams(\r\n                            width/3,\r\n                            height/2);\r\n                    array[2].addRule(RelativeLayout.ALIGN_PARENT_BOTTOM, RelativeLayout.TRUE);\r\n    \r\n                    array[3] = new RelativeLayout.LayoutParams(\r\n                            width/3,\r\n                            height/2);\r\n                    array[3].addRule(RelativeLayout.ALIGN_PARENT_BOTTOM, RelativeLayout.TRUE);\r\n                    array[3].addRule(RelativeLayout.ALIGN_PARENT_END, RelativeLayout.TRUE);\r\n    \r\n    \r\n                    array[4] = new RelativeLayout.LayoutParams(\r\n                            width/3,\r\n                            height/2);\r\n                    array[4].addRule(RelativeLayout.ALIGN_PARENT_BOTTOM, RelativeLayout.TRUE);\r\n                    array[4].addRule(RelativeLayout.CENTER_HORIZONTAL, RelativeLayout.TRUE);\r\n                    break;\r\n                }\r\n                case 6: {\r\n                    array[0] = new RelativeLayout.LayoutParams(\r\n                            width/3,\r\n                            height/2 );\r\n                    array[0].addRule(RelativeLayout.ALIGN_PARENT_TOP, RelativeLayout.TRUE);\r\n                    array[0].addRule(RelativeLayout.ALIGN_PARENT_START, RelativeLayout.TRUE);\r\n    \r\n                    array[1] = new RelativeLayout.LayoutParams(\r\n                            width/3,\r\n                            height/2);\r\n                    array[1].addRule(RelativeLayout.ALIGN_PARENT_TOP, RelativeLayout.TRUE);\r\n                    array[1].addRule(RelativeLayout.ALIGN_PARENT_END, RelativeLayout.TRUE);\r\n    \r\n                    array[2] = new RelativeLayout.LayoutParams(\r\n                            width/3,\r\n                            height/2);\r\n                    array[2].addRule(RelativeLayout.ALIGN_PARENT_BOTTOM, RelativeLayout.TRUE);\r\n    \r\n                    array[3] = new RelativeLayout.LayoutParams(\r\n                            width/3,\r\n                            height/2);\r\n                    array[3].addRule(RelativeLayout.ALIGN_PARENT_BOTTOM, RelativeLayout.TRUE);\r\n                    array[3].addRule(RelativeLayout.ALIGN_PARENT_END, RelativeLayout.TRUE);\r\n    \r\n                    array[4] = new RelativeLayout.LayoutParams(\r\n                            width/3,\r\n                            height/2);\r\n                    array[4].addRule(RelativeLayout.CENTER_HORIZONTAL, RelativeLayout.TRUE);\r\n    \r\n                    array[5] = new RelativeLayout.LayoutParams(\r\n                            width/3,\r\n                            height/2);\r\n                    array[5].addRule(RelativeLayout.ALIGN_PARENT_BOTTOM, RelativeLayout.TRUE);\r\n                    array[5].addRule(RelativeLayout.CENTER_HORIZONTAL, RelativeLayout.TRUE);\r\n                    break;\r\n                }\r\n    \r\n                default:{\r\n                    array[0] = new RelativeLayout.LayoutParams(\r\n                            width/2,\r\n                            ViewGroup.LayoutParams.MATCH_PARENT);\r\n                    array[0].addRule(RelativeLayout.ALIGN_PARENT_TOP, RelativeLayout.TRUE);\r\n                    array[0].addRule(RelativeLayout.ALIGN_PARENT_START, RelativeLayout.TRUE);\r\n    \r\n                    array[1] = new RelativeLayout.LayoutParams(\r\n                            width/2,\r\n                            ViewGroup.LayoutParams.MATCH_PARENT);\r\n                    array[1].addRule(RelativeLayout.ALIGN_PARENT_TOP, RelativeLayout.TRUE);\r\n                    array[1].addRule(RelativeLayout.ALIGN_PARENT_END, RelativeLayout.TRUE);\r\n                    break;\r\n                }\r\n            }\r\n            return array;\r\n    \r\n    \r\n    \r\n        }\r\n    \r\n        private LinearLayout exptionalMethodFor5view(){\r\n            LinearLayout linearLayout = new LinearLayout(this);\r\n            LinearLayout.LayoutParams layoutParams = new LinearLayout.LayoutParams(\r\n                    LinearLayout.LayoutParams.MATCH_PARENT,\r\n                    LinearLayout.LayoutParams.WRAP_CONTENT);\r\n    \r\n            linearLayout.setOrientation(LinearLayout.HORIZONTAL);\r\n            linearLayout.setGravity(Gravity.CENTER);\r\n    \r\n            linearLayout.setLayoutParams(layoutParams);\r\n    \r\n            UserView newUserview1 = new UserView(this);\r\n            newUserview1.setLayoutParams(new LinearLayout.LayoutParams(\r\n                    (Resources.getSystem().getDisplayMetrics().widthPixels)/3,\r\n                    dpToPx(200)/2));\r\n    \r\n            UserView newUserview2 = new UserView(this);\r\n            newUserview2.setLayoutParams(new LinearLayout.LayoutParams(\r\n                    (Resources.getSystem().getDisplayMetrics().widthPixels)/3,\r\n                    dpToPx(200)/2));\r\n    \r\n            linearLayout.addView(newUserview1);\r\n            linearLayout.addView(newUserview2);\r\n            return linearLayout;\r\n        }\r\n    \r\n    \r\n        public static int dpToPx(float dp) {\r\n            float density = Resources.getSystem().getDisplayMetrics().density;\r\n            return Math.round(dp * density);\r\n        }\r\n    }\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/nWv22.gif","title":"Facing issue While making dynamic views using Relative layout","body":"<p><a href=\"https://i.stack.imgur.com/nWv22.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/nWv22.gif\" alt=\"enter image description here\" /></a>To make Dynamic view as you see it, I wrote the following code:</p>\n<p>Note: There is an exception for the 5 view because it needs to be wrapped inside another view (in my case, the linear layout).</p>\n<p>Currently, the width and height of the relative layout are fixed as follows:</p>\n<pre><code>    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;200dp&quot;\n</code></pre>\n<p>whole activity code:</p>\n<pre><code>    public class MainActivity2 extends AppCompatActivity {\n    RelativeLayout relativeLayout;\n    List&lt;UserView&gt; mUserViewList;\n    List&lt;Integer&gt; mUidList;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main2);\n\n         relativeLayout = findViewById(R.id.relativeLayout);\n\n\n\n        mUserViewList = new ArrayList&lt;&gt;();\n        mUidList = new ArrayList&lt;&gt;();\n        int size = 5;\n\n\n        RelativeLayout.LayoutParams[] array = getgrid2(size);\n\n        for (int i = 0; i &lt; size; i++) {\n            //createing user view and addding in view list\n            UserView userView = new UserView(this);\n            mUserViewList.add(userView);\n\n            //setting id and addint to id list\n            userView.setId(i);\n            mUidList.add(i);\n\n            //settting text to user view\n            userView.setTextView(&quot;User &quot; + (i+1));\n\n            if (array[i]==null)\n                continue;\n            //setting layout\n            mUserViewList.get(i).setLayoutParams(array[i]);\n            //adding to views\n            if (i==4){\n\n                relativeLayout.addView(exptionalMethodFor5view());\n            }\n            relativeLayout.addView(mUserViewList.get(i));\n        }\n    }\n\n\n    private RelativeLayout.LayoutParams[] getgrid2(int size) {\n\n//        int width = Math.max(relativeLayout.getMeasuredWidth(),relativeLayout.getMeasuredHeight());\n//        int height = Math.min(relativeLayout.getMeasuredWidth(),relativeLayout.getMeasuredHeight());\n\n         int width = Resources.getSystem().getDisplayMetrics().widthPixels;\n         int height =dpToPx(200);\n\n        RelativeLayout.LayoutParams[] array =\n                new RelativeLayout.LayoutParams[size];\n        switch (size){\n            case 1: {\n                array[0] = new RelativeLayout.LayoutParams(\n                        RelativeLayout.LayoutParams.MATCH_PARENT,\n                        RelativeLayout.LayoutParams.MATCH_PARENT);\n                array[0].addRule(RelativeLayout.ALIGN_PARENT_TOP, RelativeLayout.TRUE);\n                break;\n            }\n            case 2:{\n                array[0] = new RelativeLayout.LayoutParams(\n                        width/2,\n                        RelativeLayout.LayoutParams.MATCH_PARENT );\n                array[0].addRule(RelativeLayout.ALIGN_PARENT_TOP, RelativeLayout.TRUE);\n                array[0].addRule(RelativeLayout.ALIGN_PARENT_START, RelativeLayout.TRUE);\n\n                array[1] = new RelativeLayout.LayoutParams(\n                        width/2,\n                        ViewGroup.LayoutParams.MATCH_PARENT);\n                array[1].addRule(RelativeLayout.ALIGN_PARENT_TOP, RelativeLayout.TRUE);\n                array[1].addRule(RelativeLayout.ALIGN_PARENT_END, RelativeLayout.TRUE);\n                break;\n\n            }\n            case 3: {\n                array[0] = new RelativeLayout.LayoutParams(\n                        width/3,\n                        RelativeLayout.LayoutParams.MATCH_PARENT );\n                array[0].addRule(RelativeLayout.ALIGN_PARENT_TOP, RelativeLayout.TRUE);\n                array[0].addRule(RelativeLayout.ALIGN_PARENT_START, RelativeLayout.TRUE);\n\n                array[1] = new RelativeLayout.LayoutParams(\n                        width/3,\n                        ViewGroup.LayoutParams.MATCH_PARENT);\n                array[1].addRule(RelativeLayout.ALIGN_PARENT_TOP, RelativeLayout.TRUE);\n                array[1].addRule(RelativeLayout.ALIGN_PARENT_END, RelativeLayout.TRUE);\n\n                array[2] = new RelativeLayout.LayoutParams(\n                        width/3,\n                        ViewGroup.LayoutParams.MATCH_PARENT);\n                array[2].addRule(RelativeLayout.CENTER_IN_PARENT, RelativeLayout.TRUE);\n                break;\n            }\n            case 4: {\n                array[0] = new RelativeLayout.LayoutParams(\n                        width/2,\n                        height/2 );\n                array[0].addRule(RelativeLayout.ALIGN_PARENT_TOP, RelativeLayout.TRUE);\n                array[0].addRule(RelativeLayout.ALIGN_PARENT_START, RelativeLayout.TRUE);\n\n                array[1] = new RelativeLayout.LayoutParams(\n                        width/2,\n                        height/2);\n                array[1].addRule(RelativeLayout.ALIGN_PARENT_TOP, RelativeLayout.TRUE);\n                array[1].addRule(RelativeLayout.ALIGN_PARENT_END, RelativeLayout.TRUE);\n\n                array[2] = new RelativeLayout.LayoutParams(\n                        width/2,\n                        height/2);\n                array[2].addRule(RelativeLayout.ALIGN_PARENT_BOTTOM, RelativeLayout.TRUE);\n\n                array[3] = new RelativeLayout.LayoutParams(\n                        width/2,\n                        height/2);\n                array[3].addRule(RelativeLayout.ALIGN_PARENT_BOTTOM, RelativeLayout.TRUE);\n                array[3].addRule(RelativeLayout.ALIGN_PARENT_END, RelativeLayout.TRUE);\n                break;\n            }\n            case 5: {\n//                array[0] = new RelativeLayout.LayoutParams(\n//                        width/3,\n//                        height/2 );\n//                array[0].addRule(RelativeLayout.ALIGN_PARENT_TOP, RelativeLayout.TRUE);\n//                array[0].addRule(RelativeLayout.ALIGN_PARENT_START, RelativeLayout.TRUE);\n\n//                array[1] = new RelativeLayout.LayoutParams(\n//                        width/3,\n//                        height/2);\n                //top right\n//                array[1].addRule(RelativeLayout.ALIGN_PARENT_TOP, RelativeLayout.TRUE);\n//                array[1].addRule(RelativeLayout.ALIGN_PARENT_END, RelativeLayout.TRUE);\n\n                array[2] = new RelativeLayout.LayoutParams(\n                        width/3,\n                        height/2);\n                array[2].addRule(RelativeLayout.ALIGN_PARENT_BOTTOM, RelativeLayout.TRUE);\n\n                array[3] = new RelativeLayout.LayoutParams(\n                        width/3,\n                        height/2);\n                array[3].addRule(RelativeLayout.ALIGN_PARENT_BOTTOM, RelativeLayout.TRUE);\n                array[3].addRule(RelativeLayout.ALIGN_PARENT_END, RelativeLayout.TRUE);\n\n\n                array[4] = new RelativeLayout.LayoutParams(\n                        width/3,\n                        height/2);\n                array[4].addRule(RelativeLayout.ALIGN_PARENT_BOTTOM, RelativeLayout.TRUE);\n                array[4].addRule(RelativeLayout.CENTER_HORIZONTAL, RelativeLayout.TRUE);\n                break;\n            }\n            case 6: {\n                array[0] = new RelativeLayout.LayoutParams(\n                        width/3,\n                        height/2 );\n                array[0].addRule(RelativeLayout.ALIGN_PARENT_TOP, RelativeLayout.TRUE);\n                array[0].addRule(RelativeLayout.ALIGN_PARENT_START, RelativeLayout.TRUE);\n\n                array[1] = new RelativeLayout.LayoutParams(\n                        width/3,\n                        height/2);\n                array[1].addRule(RelativeLayout.ALIGN_PARENT_TOP, RelativeLayout.TRUE);\n                array[1].addRule(RelativeLayout.ALIGN_PARENT_END, RelativeLayout.TRUE);\n\n                array[2] = new RelativeLayout.LayoutParams(\n                        width/3,\n                        height/2);\n                array[2].addRule(RelativeLayout.ALIGN_PARENT_BOTTOM, RelativeLayout.TRUE);\n\n                array[3] = new RelativeLayout.LayoutParams(\n                        width/3,\n                        height/2);\n                array[3].addRule(RelativeLayout.ALIGN_PARENT_BOTTOM, RelativeLayout.TRUE);\n                array[3].addRule(RelativeLayout.ALIGN_PARENT_END, RelativeLayout.TRUE);\n\n                array[4] = new RelativeLayout.LayoutParams(\n                        width/3,\n                        height/2);\n                array[4].addRule(RelativeLayout.CENTER_HORIZONTAL, RelativeLayout.TRUE);\n\n                array[5] = new RelativeLayout.LayoutParams(\n                        width/3,\n                        height/2);\n                array[5].addRule(RelativeLayout.ALIGN_PARENT_BOTTOM, RelativeLayout.TRUE);\n                array[5].addRule(RelativeLayout.CENTER_HORIZONTAL, RelativeLayout.TRUE);\n                break;\n            }\n\n            default:{\n                array[0] = new RelativeLayout.LayoutParams(\n                        width/2,\n                        ViewGroup.LayoutParams.MATCH_PARENT);\n                array[0].addRule(RelativeLayout.ALIGN_PARENT_TOP, RelativeLayout.TRUE);\n                array[0].addRule(RelativeLayout.ALIGN_PARENT_START, RelativeLayout.TRUE);\n\n                array[1] = new RelativeLayout.LayoutParams(\n                        width/2,\n                        ViewGroup.LayoutParams.MATCH_PARENT);\n                array[1].addRule(RelativeLayout.ALIGN_PARENT_TOP, RelativeLayout.TRUE);\n                array[1].addRule(RelativeLayout.ALIGN_PARENT_END, RelativeLayout.TRUE);\n                break;\n            }\n        }\n        return array;\n\n\n\n    }\n\n    private LinearLayout exptionalMethodFor5view(){\n        LinearLayout linearLayout = new LinearLayout(this);\n        LinearLayout.LayoutParams layoutParams = new LinearLayout.LayoutParams(\n                LinearLayout.LayoutParams.MATCH_PARENT,\n                LinearLayout.LayoutParams.WRAP_CONTENT);\n\n        linearLayout.setOrientation(LinearLayout.HORIZONTAL);\n        linearLayout.setGravity(Gravity.CENTER);\n\n        linearLayout.setLayoutParams(layoutParams);\n\n        UserView newUserview1 = new UserView(this);\n        newUserview1.setLayoutParams(new LinearLayout.LayoutParams(\n                (Resources.getSystem().getDisplayMetrics().widthPixels)/3,\n                dpToPx(200)/2));\n\n        UserView newUserview2 = new UserView(this);\n        newUserview2.setLayoutParams(new LinearLayout.LayoutParams(\n                (Resources.getSystem().getDisplayMetrics().widthPixels)/3,\n                dpToPx(200)/2));\n\n        linearLayout.addView(newUserview1);\n        linearLayout.addView(newUserview2);\n        return linearLayout;\n    }\n\n\n    public static int dpToPx(float dp) {\n        float density = Resources.getSystem().getDisplayMetrics().density;\n        return Math.round(dp * density);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":11650441,"reputation":201,"user_id":12527104,"display_name":"IRON MAN"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":142,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1687851330,"creation_date":1686820078,"question_id":76480901,"body_markdown":"I&#39;m using relative layout for building the views/grid dynamically...\r\n\r\nex: if there is 1 user then,\r\n\r\n[[grid with users 1][1]][1]\r\n\r\nif there is 2 user then ,\r\n\r\n[[grid with users 2][2]][2]\r\n\r\nif there is 3 user then,\r\n\r\n[[grid with user 3][3]][3]\r\n\r\nif there are 4 user then ,\r\n2 above and 2 below\r\n\r\nif there are 5 then,\r\n[[grid with user 5][4]][4]\r\n\r\nif there are 6 then.\r\n[[grid with user 6][5]][5]\r\n\r\n\r\nmy code is ,\r\n       \r\n     private RelativeLayout.LayoutParams[] getgrid(int size) {\r\n\r\n      int width = Math.max(getMeasuredWidth(),getMeasuredHeight());\r\n        int height = Math.min(getMeasuredWidth(),getMeasuredHeight());\r\n\r\n        RelativeLayout.LayoutParams[] array =\r\n                new RelativeLayout.LayoutParams[size];\r\n\r\n        for (int i = 0; i &lt; size; i++) {\r\n            if (i == 0) {\r\n                array[0] = new RelativeLayout.LayoutParams(\r\n                        LayoutParams.MATCH_PARENT,\r\n                        LayoutParams.MATCH_PARENT);\r\n                array[0].addRule(RelativeLayout.ALIGN_PARENT_TOP, RelativeLayout.TRUE);\r\n            } else if (i == 1) {\r\n                array[1] = new RelativeLayout.LayoutParams(width / 2, height);\r\n                array[0].width = array[1].width;\r\n                array[1].addRule(RelativeLayout.RIGHT_OF, mUserViewList.get(mUidList.get(0)).getId());\r\n                array[1].addRule(RelativeLayout.ALIGN_PARENT_TOP, RelativeLayout.TRUE);\r\n              //  array[1].addRule(RelativeLayout.ALIGN_PARENT_BOTTOM,RelativeLayout.TRUE);\r\n            } else if (i == 2) {\r\n                array[i] = new RelativeLayout.LayoutParams(width / 3, height);\r\n                array[1].width = array[i].width;\r\n                array[0].width = array[i].width;\r\n                //array[i].addRule(RelativeLayout.ALIGN_PARENT_RIGHT, RelativeLayout.TRUE);\r\n                array[i].addRule(RelativeLayout.RIGHT_OF, mUserViewList.get(mUidList.get(1)).getId());\r\n            } else if (i == 3) {\r\n                array[i] = new RelativeLayout.LayoutParams(width / 2, height / 2);\r\n                array[0].width = array[i].width;\r\n                array[1].width = array[i].width;\r\n                array[i - 1].width = array[i].width;\r\n                array[0].height = array[i].height;\r\n                array[1].height = array[i].height;\r\n                array[i - 1].height = array[i].height;\r\n                array[i - 1].addRule(RelativeLayout.ALIGN_PARENT_LEFT, RelativeLayout.TRUE);\r\n                array[i].addRule(RelativeLayout.ALIGN_PARENT_RIGHT, 0);\r\n                array[i - 1].addRule(RelativeLayout.BELOW, mUserViewList.get(mUidList.get(0)).getId());\r\n                array[i].addRule(RelativeLayout.BELOW, mUserViewList.get(mUidList.get(1)).getId());\r\n                array[i].addRule(RelativeLayout.RIGHT_OF, mUserViewList.get(mUidList.get(i - 1)).getId());\r\n            } else if (i == 4) {\r\n                array[i] = new RelativeLayout.LayoutParams(width / 3, height / 2);\r\n                array[0].width = array[i].width;\r\n                array[1].width = array[i].width;\r\n                array[2].width = array[i].width;\r\n                array[3].width = array[i].width;\r\n                array[0].setMargins(width / 6, 0, 0, 0);\r\n                array[i].addRule(RelativeLayout.RIGHT_OF, mUserViewList.get(mUidList.get(i - 1)).getId());\r\n                array[i].addRule(RelativeLayout.ALIGN_PARENT_BOTTOM, RelativeLayout.TRUE);\r\n            } else if (i == 5) {\r\n                array[i] = new RelativeLayout.LayoutParams(width / 3, height / 2);\r\n                array[0].setMargins(0, 0, 0, 0);\r\n                array[i].addRule(RelativeLayout.RIGHT_OF, mUserViewList.get(mUidList.get(1)).getId());\r\n                array[i].addRule(RelativeLayout.ALIGN_PARENT_TOP, RelativeLayout.TRUE);\r\n\r\n            }\r\n        }\r\n\r\n         return array;\r\n    }\r\n\r\n\r\n\r\n\r\nthe issue is there is another view right besides the relative layout so basically its not getting equally divided and distorted as well (distorted means some grid is not covering the full height)\r\n\r\nplease refer this:--\r\n[[issue with 6][6]][6]\r\n\r\n[[issue with 3][7]][7]\r\nand so on\r\n\r\n\r\nplease help me out thanks in advance\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/4Dqsr.png\r\n  [2]: https://i.stack.imgur.com/XzrNG.png\r\n  [3]: https://i.stack.imgur.com/FzD5L.png\r\n  [4]: https://i.stack.imgur.com/ESKsr.png\r\n  [5]: https://i.stack.imgur.com/PR7ko.png\r\n  [6]: https://i.stack.imgur.com/r3IFS.png\r\n  [7]: https://i.stack.imgur.com/zeUhq.png","title":"Facing issue While making dynamic views using Relative layout","body":"<p>I'm using relative layout for building the views/grid dynamically...</p>\n<p>ex: if there is 1 user then,</p>\n<p>[<a href=\"https://i.stack.imgur.com/4Dqsr.png\" rel=\"nofollow noreferrer\">grid with users 1</a>]<a href=\"https://i.stack.imgur.com/4Dqsr.png\" rel=\"nofollow noreferrer\">1</a></p>\n<p>if there is 2 user then ,</p>\n<p>[<a href=\"https://i.stack.imgur.com/XzrNG.png\" rel=\"nofollow noreferrer\">grid with users 2</a>]<a href=\"https://i.stack.imgur.com/XzrNG.png\" rel=\"nofollow noreferrer\">2</a></p>\n<p>if there is 3 user then,</p>\n<p>[<a href=\"https://i.stack.imgur.com/FzD5L.png\" rel=\"nofollow noreferrer\">grid with user 3</a>]<a href=\"https://i.stack.imgur.com/FzD5L.png\" rel=\"nofollow noreferrer\">3</a></p>\n<p>if there are 4 user then ,\n2 above and 2 below</p>\n<p>if there are 5 then,\n[<a href=\"https://i.stack.imgur.com/ESKsr.png\" rel=\"nofollow noreferrer\">grid with user 5</a>]<a href=\"https://i.stack.imgur.com/ESKsr.png\" rel=\"nofollow noreferrer\">4</a></p>\n<p>if there are 6 then.\n[<a href=\"https://i.stack.imgur.com/PR7ko.png\" rel=\"nofollow noreferrer\">grid with user 6</a>]<a href=\"https://i.stack.imgur.com/PR7ko.png\" rel=\"nofollow noreferrer\">5</a></p>\n<p>my code is ,</p>\n<pre><code> private RelativeLayout.LayoutParams[] getgrid(int size) {\n\n  int width = Math.max(getMeasuredWidth(),getMeasuredHeight());\n    int height = Math.min(getMeasuredWidth(),getMeasuredHeight());\n\n    RelativeLayout.LayoutParams[] array =\n            new RelativeLayout.LayoutParams[size];\n\n    for (int i = 0; i &lt; size; i++) {\n        if (i == 0) {\n            array[0] = new RelativeLayout.LayoutParams(\n                    LayoutParams.MATCH_PARENT,\n                    LayoutParams.MATCH_PARENT);\n            array[0].addRule(RelativeLayout.ALIGN_PARENT_TOP, RelativeLayout.TRUE);\n        } else if (i == 1) {\n            array[1] = new RelativeLayout.LayoutParams(width / 2, height);\n            array[0].width = array[1].width;\n            array[1].addRule(RelativeLayout.RIGHT_OF, mUserViewList.get(mUidList.get(0)).getId());\n            array[1].addRule(RelativeLayout.ALIGN_PARENT_TOP, RelativeLayout.TRUE);\n          //  array[1].addRule(RelativeLayout.ALIGN_PARENT_BOTTOM,RelativeLayout.TRUE);\n        } else if (i == 2) {\n            array[i] = new RelativeLayout.LayoutParams(width / 3, height);\n            array[1].width = array[i].width;\n            array[0].width = array[i].width;\n            //array[i].addRule(RelativeLayout.ALIGN_PARENT_RIGHT, RelativeLayout.TRUE);\n            array[i].addRule(RelativeLayout.RIGHT_OF, mUserViewList.get(mUidList.get(1)).getId());\n        } else if (i == 3) {\n            array[i] = new RelativeLayout.LayoutParams(width / 2, height / 2);\n            array[0].width = array[i].width;\n            array[1].width = array[i].width;\n            array[i - 1].width = array[i].width;\n            array[0].height = array[i].height;\n            array[1].height = array[i].height;\n            array[i - 1].height = array[i].height;\n            array[i - 1].addRule(RelativeLayout.ALIGN_PARENT_LEFT, RelativeLayout.TRUE);\n            array[i].addRule(RelativeLayout.ALIGN_PARENT_RIGHT, 0);\n            array[i - 1].addRule(RelativeLayout.BELOW, mUserViewList.get(mUidList.get(0)).getId());\n            array[i].addRule(RelativeLayout.BELOW, mUserViewList.get(mUidList.get(1)).getId());\n            array[i].addRule(RelativeLayout.RIGHT_OF, mUserViewList.get(mUidList.get(i - 1)).getId());\n        } else if (i == 4) {\n            array[i] = new RelativeLayout.LayoutParams(width / 3, height / 2);\n            array[0].width = array[i].width;\n            array[1].width = array[i].width;\n            array[2].width = array[i].width;\n            array[3].width = array[i].width;\n            array[0].setMargins(width / 6, 0, 0, 0);\n            array[i].addRule(RelativeLayout.RIGHT_OF, mUserViewList.get(mUidList.get(i - 1)).getId());\n            array[i].addRule(RelativeLayout.ALIGN_PARENT_BOTTOM, RelativeLayout.TRUE);\n        } else if (i == 5) {\n            array[i] = new RelativeLayout.LayoutParams(width / 3, height / 2);\n            array[0].setMargins(0, 0, 0, 0);\n            array[i].addRule(RelativeLayout.RIGHT_OF, mUserViewList.get(mUidList.get(1)).getId());\n            array[i].addRule(RelativeLayout.ALIGN_PARENT_TOP, RelativeLayout.TRUE);\n\n        }\n    }\n\n     return array;\n}\n</code></pre>\n<p>the issue is there is another view right besides the relative layout so basically its not getting equally divided and distorted as well (distorted means some grid is not covering the full height)</p>\n<p>please refer this:--\n[<a href=\"https://i.stack.imgur.com/r3IFS.png\" rel=\"nofollow noreferrer\">issue with 6</a>]<a href=\"https://i.stack.imgur.com/r3IFS.png\" rel=\"nofollow noreferrer\">6</a></p>\n<p>[<a href=\"https://i.stack.imgur.com/zeUhq.png\" rel=\"nofollow noreferrer\">issue with 3</a>]<a href=\"https://i.stack.imgur.com/zeUhq.png\" rel=\"nofollow noreferrer\">7</a>\nand so on</p>\n<p>please help me out thanks in advance</p>\n"},{"tags":["java","spring-boot","tomcat","hosting"],"comments":[{"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"score":0,"creation_date":1686634833,"post_id":76461552,"comment_id":134821946,"body_markdown":"Are you sure you are accessing the correct URL?","body":"Are you sure you are accessing the correct URL?"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1686637000,"post_id":76461552,"comment_id":134822206,"body_markdown":"For starters stop mixing modules from different version of Spring (Boot) you are mixing 2.2.2 and 2.4.2 which will lead to issues. You don&#39;t need `spring-orm` nor `hibernate-core` nor the thymeleaf dependencies all those are provided by the starter dependencies you already include. Also plugins as dependencies?! **How** are you creating the war? I do not hope you use some export function of your IDE but rather Gradle to generate the war file. Finally which tomcat version is on your server?","body":"For starters stop mixing modules from different version of Spring (Boot) you are mixing 2.2.2 and 2.4.2 which will lead to issues. You don&#39;t need <code>spring-orm</code> nor <code>hibernate-core</code> nor the thymeleaf dependencies all those are provided by the starter dependencies you already include. Also plugins as dependencies?! <b>How</b> are you creating the war? I do not hope you use some export function of your IDE but rather Gradle to generate the war file. Finally which tomcat version is on your server?"},{"owner":{"account_id":20209390,"reputation":5,"user_id":14822787,"display_name":"Abdullah Howard"},"score":0,"creation_date":1686642787,"post_id":76461552,"comment_id":134823267,"body_markdown":"Thank you for your reply. Excuse my obvious mistakes but I am fairly new to this. I shall remove the redundant dependencies and try again. I am generating the war file using the CMD and gradlew bootWar command.","body":"Thank you for your reply. Excuse my obvious mistakes but I am fairly new to this. I shall remove the redundant dependencies and try again. I am generating the war file using the CMD and gradlew bootWar command."},{"owner":{"account_id":20209390,"reputation":5,"user_id":14822787,"display_name":"Abdullah Howard"},"score":0,"creation_date":1686644016,"post_id":76461552,"comment_id":134823498,"body_markdown":"I have commented out the redundant code in the build file.","body":"I have commented out the redundant code in the build file."}],"answers":[{"tags":[],"owner":{"account_id":20209390,"reputation":5,"user_id":14822787,"display_name":"Abdullah Howard"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1687850741,"creation_date":1687434635,"answer_id":76531581,"question_id":76461552,"body_markdown":"Finally managed to solve that issue. Apparently the problem was that I was using `Tomcat 10`. According to some posts online, `Tomcat 10` does not support **Springboot**. Changing my `Tomcat` version from **10** to **8** solved the problem.","title":"My Springboot Application works fine on my Local Server but returns 404 when hosted to my DailyRazor Tomcat Server","body":"<p>Finally managed to solve that issue. Apparently the problem was that I was using <code>Tomcat 10</code>. According to some posts online, <code>Tomcat 10</code> does not support <strong>Springboot</strong>. Changing my <code>Tomcat</code> version from <strong>10</strong> to <strong>8</strong> solved the problem.</p>\n"}],"owner":{"account_id":20209390,"reputation":5,"user_id":14822787,"display_name":"Abdullah Howard"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":76,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76531581,"answer_count":1,"score":0,"last_activity_date":1687850741,"creation_date":1686627492,"question_id":76461552,"body_markdown":"I am trying to host my springboot hibernate application to my tomcat server on DailyRazor but I am encountering an issue. After creating a deployable War file and dropping it in the webapps folder directly, I still receive a 404 page when when trying to access my website. All apis return this 404 page even the root api.\r\n\r\nI have been trying to solve this for a few weeks now and I have seen all the common mistakes and I believe that I have configured my springboot application correctly. I have overrided the configure method and I have made sure to extend the SpringBootServletInitializer, but the problem still persists. Since I am creating my project in Intellij, I am generating the war file by using the gradlew bootWar in the CMD.\r\n\r\n    @SpringBootApplication\r\n    @EnableCaching\r\n    public class Run extends SpringBootServletInitializer {\r\n       private static SessionFactory sessionFactory = SessionFactoryCreator.createSessionFactory();\r\n\r\n\r\n       public static Session getSession() {\r\n            return sessionFactory.openSession();\r\n        }\r\n\r\n        public static void main(String[] args) {\r\n\r\n            SpringApplication.run(Run.class, args);\r\n\r\n        }\r\n\r\n        @Override\r\n        protected SpringApplicationBuilder configure(SpringApplicationBuilder application) {\r\n            return application.sources(Run.class);\r\n        }\r\n\r\n\r\n    }\r\n\r\n\r\n\r\n\r\nHere is my build.gradle file:\r\n```\r\nbuildscript {\r\n    repositories {\r\n        maven {\r\n            url &quot;https://plugins.gradle.org/m2/&quot;\r\n        }\r\n    }\r\n    dependencies {\r\n        classpath &quot;org.springframework.boot:spring-boot-gradle-plugin:2.2.2.RELEASE&quot;\r\n        classpath &quot;io.spring.gradle:dependency-management-plugin:1.0.8.RELEASE&quot;\r\n    }\r\n}\r\n\r\nplugins {\r\n    id &#39;war&#39;\r\n}\r\n\r\ngroup &#39;com.teamtreehouse&#39;\r\nversion &#39;1.0-SNAPSHOT&#39;\r\n\r\n\r\n\r\nallprojects  {\r\n    apply plugin: &#39;maven&#39;\r\n    apply plugin: &quot;io.spring.dependency-management&quot;\r\n    group = &#39;com.wnp&#39;\r\n    version = &#39;6.5.0-SNAPSHOT&#39;\r\n}\r\n\r\napply plugin: &#39;java&#39;\r\napply plugin: &quot;org.springframework.boot&quot;\r\n\r\nsourceCompatibility = 1.8\r\ntargetCompatibility = 1.8\r\n\r\nrepositories {\r\n    mavenCentral()\r\n}\r\n\r\ndependencies {\r\n    // https://mvnrepository.com/artifact/io.spring.dependency-management/io.spring.dependency-management.gradle.plugin\r\n    implementation &#39;io.spring.dependency-management:io.spring.dependency-management.gradle.plugin:1.1.0&#39;\r\n\r\n//    &#39;io.spring.gradle:dependency-management-plugin:0.5.3.RELEASE&#39;\r\n    compile &#39;org.springframework.boot:spring-boot-starter-web&#39;\r\n    compile &#39;org.springframework.boot:spring-boot-starter-data-jpa&#39;\r\n    compile &#39;org.springframework.boot:spring-boot-starter-thymeleaf&#39;\r\n    compile &#39;org.springframework.boot:spring-boot-starter-security&#39;\r\n// https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-starter-mail\r\n    implementation &#39;org.springframework.boot:spring-boot-starter-mail:2.2.2.RELEASE&#39;\r\n\r\n    compile group: &#39;org.apache.maven.plugins&#39;, name: &#39;maven-surefire-plugin&#39;, version: &#39;2.22.2&#39;\r\n    implementation &#39;org.ocpsoft.prettytime:prettytime:3.2.7.Final&#39;\r\n\r\n//    compile &#39;org.springframework:spring-orm&#39;\r\n//    compile group: &#39;org.hibernate&#39;, name: &#39;hibernate-core&#39;\r\n    // https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-starter-tomcat\r\n//    providedRuntime group: &#39;org.springframework.boot&#39;, name: &#39;spring-boot-starter-tomcat&#39;, version: &#39;2.7.5&#39;\r\n\r\n//    compile &#39;org.apache.tomcat:tomcat-dbcp:8.0.32&#39;\r\n    compile &#39;com.h2database:h2:1.4.191&#39;\r\n    compile &#39;com.h2database:h2&#39;\r\n    compile &#39;org.eclipse.mylyn.github:org.eclipse.egit.github.core:2.1.5&#39;\r\n    testCompile group: &#39;junit&#39;, name: &#39;junit&#39;, version: &#39;4.11&#39;\r\n    compile &#39;org.hashids:hashids:1.0.1&#39;\r\n//    compile group: &#39;org.thymeleaf&#39;, name: &#39;thymeleaf-spring4&#39;, version: &#39;3.0.12.RELEASE&#39;\r\n//    compile group: &#39;org.thymeleaf&#39;, name: &#39;thymeleaf&#39;, version: &#39;3.0.12.RELEASE&#39;\r\n    compile group: &#39;mysql&#39;, name: &#39;mysql-connector-java&#39;, version: &#39;8.0.22&#39;\r\n    testImplementation group: &#39;junit&#39;, name: &#39;junit&#39;, version: &#39;4.11&#39;\r\n    implementation group: &#39;com.amazonaws&#39;, name: &#39;aws-java-sdk-s3&#39;, version: &#39;1.12.131&#39;\r\n// https://mvnrepository.com/artifact/software.amazon.awssdk/s3\r\n    testImplementation &#39;software.amazon.awssdk:s3:2.17.102&#39;\r\n\r\n// https://mvnrepository.com/artifact/software.amazon.awssdk/bom\r\n    runtimeOnly &#39;software.amazon.awssdk:bom:2.17.102&#39;\r\n\r\n    \r\n}\r\n\r\n```\r\n\r\nFurthermore, when I check I my tomcat 8 logs, this is the error message that I am seeing.\r\n\r\n```\r\njava.lang.NoClassDefFoundError: Could not initialize class org.apache.tomcat.util.buf.B2CConverter\r\n\tat org.apache.catalina.connector.CoyoteAdapter.parsePathParameters(CoyoteAdapter.java:1036)\r\n\tat org.apache.catalina.connector.CoyoteAdapter.postParseRequest(CoyoteAdapter.java:786)\r\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:529)\r\n\tat org.apache.coyote.ajp.AbstractAjpProcessor.process(AbstractAjpProcessor.java:827)\r\n\tat org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:658)\r\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1566)\r\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.run(NioEndpoint.java:1523)\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\r\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n\tat java.lang.Thread.run(Thread.java:745)\r\nERROR ajp-nio-0.0.0.0-9679-ClientPoller-1 org.apache.tomcat.util.net.NioEndpoint - \r\njava.lang.OutOfMemoryError: Java heap space\r\n```","title":"My Springboot Application works fine on my Local Server but returns 404 when hosted to my DailyRazor Tomcat Server","body":"<p>I am trying to host my springboot hibernate application to my tomcat server on DailyRazor but I am encountering an issue. After creating a deployable War file and dropping it in the webapps folder directly, I still receive a 404 page when when trying to access my website. All apis return this 404 page even the root api.</p>\n<p>I have been trying to solve this for a few weeks now and I have seen all the common mistakes and I believe that I have configured my springboot application correctly. I have overrided the configure method and I have made sure to extend the SpringBootServletInitializer, but the problem still persists. Since I am creating my project in Intellij, I am generating the war file by using the gradlew bootWar in the CMD.</p>\n<pre><code>@SpringBootApplication\n@EnableCaching\npublic class Run extends SpringBootServletInitializer {\n   private static SessionFactory sessionFactory = SessionFactoryCreator.createSessionFactory();\n\n\n   public static Session getSession() {\n        return sessionFactory.openSession();\n    }\n\n    public static void main(String[] args) {\n\n        SpringApplication.run(Run.class, args);\n\n    }\n\n    @Override\n    protected SpringApplicationBuilder configure(SpringApplicationBuilder application) {\n        return application.sources(Run.class);\n    }\n\n\n}\n</code></pre>\n<p>Here is my build.gradle file:</p>\n<pre><code>buildscript {\n    repositories {\n        maven {\n            url &quot;https://plugins.gradle.org/m2/&quot;\n        }\n    }\n    dependencies {\n        classpath &quot;org.springframework.boot:spring-boot-gradle-plugin:2.2.2.RELEASE&quot;\n        classpath &quot;io.spring.gradle:dependency-management-plugin:1.0.8.RELEASE&quot;\n    }\n}\n\nplugins {\n    id 'war'\n}\n\ngroup 'com.teamtreehouse'\nversion '1.0-SNAPSHOT'\n\n\n\nallprojects  {\n    apply plugin: 'maven'\n    apply plugin: &quot;io.spring.dependency-management&quot;\n    group = 'com.wnp'\n    version = '6.5.0-SNAPSHOT'\n}\n\napply plugin: 'java'\napply plugin: &quot;org.springframework.boot&quot;\n\nsourceCompatibility = 1.8\ntargetCompatibility = 1.8\n\nrepositories {\n    mavenCentral()\n}\n\ndependencies {\n    // https://mvnrepository.com/artifact/io.spring.dependency-management/io.spring.dependency-management.gradle.plugin\n    implementation 'io.spring.dependency-management:io.spring.dependency-management.gradle.plugin:1.1.0'\n\n//    'io.spring.gradle:dependency-management-plugin:0.5.3.RELEASE'\n    compile 'org.springframework.boot:spring-boot-starter-web'\n    compile 'org.springframework.boot:spring-boot-starter-data-jpa'\n    compile 'org.springframework.boot:spring-boot-starter-thymeleaf'\n    compile 'org.springframework.boot:spring-boot-starter-security'\n// https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-starter-mail\n    implementation 'org.springframework.boot:spring-boot-starter-mail:2.2.2.RELEASE'\n\n    compile group: 'org.apache.maven.plugins', name: 'maven-surefire-plugin', version: '2.22.2'\n    implementation 'org.ocpsoft.prettytime:prettytime:3.2.7.Final'\n\n//    compile 'org.springframework:spring-orm'\n//    compile group: 'org.hibernate', name: 'hibernate-core'\n    // https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-starter-tomcat\n//    providedRuntime group: 'org.springframework.boot', name: 'spring-boot-starter-tomcat', version: '2.7.5'\n\n//    compile 'org.apache.tomcat:tomcat-dbcp:8.0.32'\n    compile 'com.h2database:h2:1.4.191'\n    compile 'com.h2database:h2'\n    compile 'org.eclipse.mylyn.github:org.eclipse.egit.github.core:2.1.5'\n    testCompile group: 'junit', name: 'junit', version: '4.11'\n    compile 'org.hashids:hashids:1.0.1'\n//    compile group: 'org.thymeleaf', name: 'thymeleaf-spring4', version: '3.0.12.RELEASE'\n//    compile group: 'org.thymeleaf', name: 'thymeleaf', version: '3.0.12.RELEASE'\n    compile group: 'mysql', name: 'mysql-connector-java', version: '8.0.22'\n    testImplementation group: 'junit', name: 'junit', version: '4.11'\n    implementation group: 'com.amazonaws', name: 'aws-java-sdk-s3', version: '1.12.131'\n// https://mvnrepository.com/artifact/software.amazon.awssdk/s3\n    testImplementation 'software.amazon.awssdk:s3:2.17.102'\n\n// https://mvnrepository.com/artifact/software.amazon.awssdk/bom\n    runtimeOnly 'software.amazon.awssdk:bom:2.17.102'\n\n    \n}\n\n</code></pre>\n<p>Furthermore, when I check I my tomcat 8 logs, this is the error message that I am seeing.</p>\n<pre><code>java.lang.NoClassDefFoundError: Could not initialize class org.apache.tomcat.util.buf.B2CConverter\n    at org.apache.catalina.connector.CoyoteAdapter.parsePathParameters(CoyoteAdapter.java:1036)\n    at org.apache.catalina.connector.CoyoteAdapter.postParseRequest(CoyoteAdapter.java:786)\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:529)\n    at org.apache.coyote.ajp.AbstractAjpProcessor.process(AbstractAjpProcessor.java:827)\n    at org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:658)\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1566)\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.run(NioEndpoint.java:1523)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n    at java.lang.Thread.run(Thread.java:745)\nERROR ajp-nio-0.0.0.0-9679-ClientPoller-1 org.apache.tomcat.util.net.NioEndpoint - \njava.lang.OutOfMemoryError: Java heap space\n</code></pre>\n"},{"tags":["java","spring-boot","docker"],"comments":[{"owner":{"account_id":2563377,"reputation":7174,"user_id":2224047,"display_name":"Nikolai  Shevchenko"},"score":0,"creation_date":1687849291,"post_id":76561185,"comment_id":134990188,"body_markdown":"https://stackoverflow.com/questions/54720878/where-is-libfreetype-so-6-in-openjdk-i-got-an-unsatisfiedlinkerror-when-using-a","body":"<a href=\"https://stackoverflow.com/questions/54720878/where-is-libfreetype-so-6-in-openjdk-i-got-an-unsatisfiedlinkerror-when-using-a\" title=\"where is libfreetype so 6 in openjdk i got an unsatisfiedlinkerror when using a\">stackoverflow.com/questions/54720878/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":15151132,"reputation":97,"user_id":10933437,"display_name":"ilkin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687850027,"creation_date":1687850027,"answer_id":76562429,"question_id":76561185,"body_markdown":"This error is related to missing font in your OS/ container image, in your case either try a different Java image or install the necessary Font to the Docker container host. \r\n\r\nJust instead of &quot;adoptopenjdk/openjdk11:alpine-jre&quot; try this &quot;openjdk:11&quot;.","title":"Unable to use SXSSFWorkbook - Apache POI inside docker","body":"<p>This error is related to missing font in your OS/ container image, in your case either try a different Java image or install the necessary Font to the Docker container host.</p>\n<p>Just instead of &quot;adoptopenjdk/openjdk11:alpine-jre&quot; try this &quot;openjdk:11&quot;.</p>\n"}],"owner":{"account_id":5144135,"reputation":2717,"user_id":4120583,"accept_rate":29,"display_name":"Hikaru Shindo"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":298,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1687850027,"creation_date":1687831357,"question_id":76561185,"body_markdown":"I&#39;m working on Spring Boot. I&#39;m try to write a huge excel file, so I need to use SXSSFWorkbook from Apache POI. I run the service via **&#39;mvn spring-boot:run&#39;** and everything is working normally. But when I run the service via docker. I got this error,\r\n\r\n    java.lang.UnsatisfiedLinkError: /opt/java/openjdk/lib/libfontmanager.so: libfreetype.so.6: cannot open shared object file: No such file or directory\r\n\r\nHere is my Dockerfile,\r\n\r\n    # For Java 11, try this\r\n    FROM adoptopenjdk/openjdk11:alpine-jre\r\n    \r\n    # Refer to Maven build -&gt; finalName\r\n    ARG JAR_FILE=target/customer-service-0.0.1-SNAPSHOT.jar\r\n\r\n    # cd /opt/app\r\n    WORKDIR /opt/app\r\n\r\n    COPY ${JAR_FILE} app.jar\r\n\r\n    # java -jar /opt/app/app.jar\r\n    ENTRYPOINT [&quot;java&quot;,&quot;-Djava.security.egd=file:/dev/./urandom -Dspring.profiles.active=prod -Xms512m -Xmx1024m -jar&quot;, &quot;-jar&quot;,&quot;app.jar&quot;]\r\n\r\n\r\nHow should I fix this. Please help. ","title":"Unable to use SXSSFWorkbook - Apache POI inside docker","body":"<p>I'm working on Spring Boot. I'm try to write a huge excel file, so I need to use SXSSFWorkbook from Apache POI. I run the service via <strong>'mvn spring-boot:run'</strong> and everything is working normally. But when I run the service via docker. I got this error,</p>\n<pre><code>java.lang.UnsatisfiedLinkError: /opt/java/openjdk/lib/libfontmanager.so: libfreetype.so.6: cannot open shared object file: No such file or directory\n</code></pre>\n<p>Here is my Dockerfile,</p>\n<pre><code># For Java 11, try this\nFROM adoptopenjdk/openjdk11:alpine-jre\n\n# Refer to Maven build -&gt; finalName\nARG JAR_FILE=target/customer-service-0.0.1-SNAPSHOT.jar\n\n# cd /opt/app\nWORKDIR /opt/app\n\nCOPY ${JAR_FILE} app.jar\n\n# java -jar /opt/app/app.jar\nENTRYPOINT [&quot;java&quot;,&quot;-Djava.security.egd=file:/dev/./urandom -Dspring.profiles.active=prod -Xms512m -Xmx1024m -jar&quot;, &quot;-jar&quot;,&quot;app.jar&quot;]\n</code></pre>\n<p>How should I fix this. Please help.</p>\n"},{"tags":["java","solid-principles"],"comments":[{"owner":{"account_id":17293107,"reputation":55,"user_id":21057359,"display_name":"LightSouls"},"score":0,"creation_date":1687796353,"post_id":76558479,"comment_id":134983568,"body_markdown":"it&#39;s not a problem, i&#39;m just interested","body":"it&#39;s not a problem, i&#39;m just interested"},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1687796890,"post_id":76558479,"comment_id":134983693,"body_markdown":"And an LSP violation","body":"And an LSP violation"},{"owner":{"account_id":17293107,"reputation":55,"user_id":21057359,"display_name":"LightSouls"},"score":0,"creation_date":1687799654,"post_id":76558479,"comment_id":134984236,"body_markdown":"I thought that the solid principles are followed in most cases","body":"I thought that the solid principles are followed in most cases"},{"owner":{"account_id":1455702,"reputation":15662,"user_id":1371329,"accept_rate":64,"display_name":"jaco0646"},"score":0,"creation_date":1688150585,"post_id":76558479,"comment_id":135040398,"body_markdown":"related: [Violation of single responsibility principle in Iterator from Java core](https://stackoverflow.com/q/33160222/1371329)","body":"related: <a href=\"https://stackoverflow.com/q/33160222/1371329\">Violation of single responsibility principle in Iterator from Java core</a>"}],"answers":[{"tags":[],"owner":{"account_id":17503,"reputation":18878,"user_id":39242,"accept_rate":71,"display_name":"Joshua Fox"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1687849934,"creation_date":1687796350,"answer_id":76558515,"question_id":76558479,"body_markdown":"Yes, it does violate the Interface Segregation Principle, like any Unmodifiable collection. The designers of the Collections API could have created separate interfaces for write and read actions but decided to keep them together. \r\n\r\nOne could argue that this list does confirm to the ISP -- it has the `add()` function -- but the thing that it does with that function is not what you expect. [EDIT, per @progman below: And the exception *can* be considered part of the interface, because it is documented.]\r\n\r\n[Here](https://softwareengineering.stackexchange.com/questions/440155/unsupportedoperationexception-vs-interface-segregation) is a related discussion on Software Engineering Stack Exchange.","title":"Arrays in java violates ISP?","body":"<p>Yes, it does violate the Interface Segregation Principle, like any Unmodifiable collection. The designers of the Collections API could have created separate interfaces for write and read actions but decided to keep them together.</p>\n<p>One could argue that this list does confirm to the ISP -- it has the <code>add()</code> function -- but the thing that it does with that function is not what you expect. [EDIT, per @progman below: And the exception <em>can</em> be considered part of the interface, because it is documented.]</p>\n<p><a href=\"https://softwareengineering.stackexchange.com/questions/440155/unsupportedoperationexception-vs-interface-segregation\">Here</a> is a related discussion on Software Engineering Stack Exchange.</p>\n"},{"tags":[],"owner":{"account_id":108033,"reputation":17201,"user_id":286934,"display_name":"Progman"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1687796462,"creation_date":1687796462,"answer_id":76558528,"question_id":76558479,"body_markdown":"The [`List.add()` method](https://docs.oracle.com/javase/8/docs/api/java/util/List.html#add-E-) is defined as an optional operation:\r\n\r\n&gt; `boolean add(E e)`\r\n&gt;\r\n&gt; Appends the specified element to the end of this list (optional operation).\r\n\r\nAnd further down it defines when it throws an `UnsupportedOperationException`:\r\n\r\n&gt; Throws:\r\n&gt; \r\n&gt; `UnsupportedOperationException` - if the add operation is not supported by this list\r\n\r\nSo the implementation (returned by `Arrays.asList()`) is doing what is &quot;allowed&quot; to do based on the specification of the `java.util.List` interface.","title":"Arrays in java violates ISP?","body":"<p>The <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/List.html#add-E-\" rel=\"nofollow noreferrer\"><code>List.add()</code> method</a> is defined as an optional operation:</p>\n<blockquote>\n<p><code>boolean add(E e)</code></p>\n<p>Appends the specified element to the end of this list (optional operation).</p>\n</blockquote>\n<p>And further down it defines when it throws an <code>UnsupportedOperationException</code>:</p>\n<blockquote>\n<p>Throws:</p>\n<p><code>UnsupportedOperationException</code> - if the add operation is not supported by this list</p>\n</blockquote>\n<p>So the implementation (returned by <code>Arrays.asList()</code>) is doing what is &quot;allowed&quot; to do based on the specification of the <code>java.util.List</code> interface.</p>\n"}],"owner":{"account_id":17293107,"reputation":55,"user_id":21057359,"display_name":"LightSouls"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":98,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":76558515,"answer_count":2,"score":2,"last_activity_date":1687849934,"creation_date":1687796032,"question_id":76558479,"body_markdown":"The code below will throw `UnsupportedOperationException` in java :\r\n\r\n    String[] arr = {&quot;a&quot;, &quot;b&quot;, &quot;c&quot;};\r\n    List&lt;String&gt; list = Arrays.asList(arr);\r\n    list.add(&quot;d&quot;);\r\n\r\nI&#39;m a little confused isn&#39;t this an ISP violation ? Here class implements the `List` interface but can&#39;t implement its method `add()`","title":"Arrays in java violates ISP?","body":"<p>The code below will throw <code>UnsupportedOperationException</code> in java :</p>\n<pre><code>String[] arr = {&quot;a&quot;, &quot;b&quot;, &quot;c&quot;};\nList&lt;String&gt; list = Arrays.asList(arr);\nlist.add(&quot;d&quot;);\n</code></pre>\n<p>I'm a little confused isn't this an ISP violation ? Here class implements the <code>List</code> interface but can't implement its method <code>add()</code></p>\n"},{"tags":["java","spring","spring-boot","kotlin","dependency-injection"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1687849514,"post_id":76562327,"comment_id":134990246,"body_markdown":"Why? What is the benefit.","body":"Why? What is the benefit."},{"owner":{"account_id":5404,"reputation":22089,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":2,"creation_date":1687849970,"post_id":76562327,"comment_id":134990324,"body_markdown":"While loggers may *seem* a good candidate for being injected at first, they usually aren&#39;t. Loggers are such a core thing that you want them to work even if DI breaks for some reason. And you often want them available in places DI can&#39;t (easily) reach. And there&#39;s no real benefit: You don&#39;t care about them during testing, so it&#39;s not a real problem if they are statically initialized.","body":"While loggers may <i>seem</i> a good candidate for being injected at first, they usually aren&#39;t. Loggers are such a core thing that you want them to work even if DI breaks for some reason. And you often want them available in places DI can&#39;t (easily) reach. And there&#39;s no real benefit: You don&#39;t care about them during testing, so it&#39;s not a real problem if they are statically initialized."}],"answers":[{"tags":[],"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1687849758,"creation_date":1687849758,"answer_id":76562396,"question_id":76562327,"body_markdown":"I wouldn&#39;t recommend it, what is the gain over adding `@Autowired` to writing `Logger logger = LoggerFactory.getLogger(getClass());`. \r\n\r\nThat being said you can write an `@Bean` method for a prototype scoped bean and use the [`InjectionPoint`][1] to obtain the information about the class etc. and use that to create a `Logger`. \r\n\r\n```java\r\n@Bean\r\n@Scope(&quot;prototype&quot;)\r\npublic Logger logger(InjectionPoint ip) {\r\n  return LoggerFactory.getLogger(ip.getMember().getDeclaringClass());\r\n}\r\n```\r\n\r\nThis will allow a dynamic (sort of) bean to be created for each `Logger` that is `@Autowired`. \r\n\r\n[1]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/beans/factory/InjectionPoint.html","title":"If I want to use the logger using dependency injection (no static), how do I register the bean on spring boot?","body":"<p>I wouldn't recommend it, what is the gain over adding <code>@Autowired</code> to writing <code>Logger logger = LoggerFactory.getLogger(getClass());</code>.</p>\n<p>That being said you can write an <code>@Bean</code> method for a prototype scoped bean and use the <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/beans/factory/InjectionPoint.html\" rel=\"nofollow noreferrer\"><code>InjectionPoint</code></a> to obtain the information about the class etc. and use that to create a <code>Logger</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Bean\n@Scope(&quot;prototype&quot;)\npublic Logger logger(InjectionPoint ip) {\n  return LoggerFactory.getLogger(ip.getMember().getDeclaringClass());\n}\n</code></pre>\n<p>This will allow a dynamic (sort of) bean to be created for each <code>Logger</code> that is <code>@Autowired</code>.</p>\n"}],"owner":{"account_id":7083053,"reputation":79,"user_id":9270204,"display_name":"hhkbbb"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":170,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1687849758,"creation_date":1687849229,"question_id":76562327,"body_markdown":"What would be a good way to create a bean to use the logger in a controller via dependency injection, like the code below?\r\n```\r\n@RestController\r\nclass SecondController(\r\n    private val logger: Logger,\r\n) {\r\n\r\n    @GetMapping(&quot;/logger&quot;)\r\n    fun logger() {\r\n        logger.info(&quot;id $id&quot;)\r\n    }\r\n}\r\n\r\n```","title":"If I want to use the logger using dependency injection (no static), how do I register the bean on spring boot?","body":"<p>What would be a good way to create a bean to use the logger in a controller via dependency injection, like the code below?</p>\n<pre><code>@RestController\nclass SecondController(\n    private val logger: Logger,\n) {\n\n    @GetMapping(&quot;/logger&quot;)\n    fun logger() {\n        logger.info(&quot;id $id&quot;)\n    }\n}\n\n</code></pre>\n"},{"tags":["java","jcifs"],"comments":[{"owner":{"account_id":926412,"reputation":3164,"user_id":957130,"accept_rate":78,"display_name":"Marcin Pietraszek"},"score":0,"creation_date":1492582200,"post_id":43487647,"comment_id":74030441,"body_markdown":"Couldn&#39;t you just use SmbFileInputStream in a simillar fashion?","body":"Couldn&#39;t you just use SmbFileInputStream in a simillar fashion?"},{"owner":{"account_id":3164626,"reputation":332,"user_id":4723012,"accept_rate":93,"display_name":"Blaine"},"score":0,"creation_date":1492582261,"post_id":43487647,"comment_id":74030466,"body_markdown":"@MarcinPietraszek Probably. How does one do so?","body":"@MarcinPietraszek Probably. How does one do so?"}],"answers":[{"tags":[],"owner":{"account_id":926412,"reputation":3164,"user_id":957130,"accept_rate":78,"display_name":"Marcin Pietraszek"},"down_vote_count":0,"up_vote_count":16,"is_accepted":true,"score":16,"last_activity_date":1492582818,"creation_date":1492582503,"answer_id":43487797,"question_id":43487647,"body_markdown":"    SmbFile file = null;\r\n    byte[] buffer = new byte[1024];\r\n    try {\r\n        String url = &quot;smb://&quot;+serverAddress+&quot;/&quot;+sharename+&quot;/TEST.txt&quot;;\r\n        NtlmPasswordAuthentication auth = new NtlmPasswordAuthentication(null, username, password);\r\n        file = new SmbFile(url, auth);\r\n        try (SmbFileInputStream in = new SmbFileInputStream(file)) {\r\n            int bytesRead = 0;\r\n            do {\r\n                bytesRead = in.read(buffer)\r\n                // here you have &quot;bytesRead&quot; in buffer array\r\n            } \r\n            while (bytesRead &gt; 0);\r\n        }\r\n    } catch(Exception e) {\r\n        JOptionPane.showMessageDialog(null, &quot;ERROR: &quot;+e);\r\n    }\r\n\r\nor even better, assuming that you&#39;re working with text files - using `BufferedReader` from Java SDK:\r\n\r\n    try (BufferedReader reader = new BufferedReader(new InputStreamReader(new SmbFileInputStream(file)))) {\r\n        String line = reader.readLine();\r\n        while (line != null) {\r\n            line = reader.readLine();\r\n        }\r\n    }\r\n\r\nAnd write with:\r\n\r\n    try (BufferedWriter writer = new BufferedWriter(new OutputStreamWriter(new SmbFileOutputStream(file)))) {\r\n        String toWrite = &quot;xxxxx&quot;;\r\n        writer.write(toWrite, 0, toWrite.length());\r\n    }","title":"Simplest way to read a file using jcifs","body":"<pre><code>SmbFile file = null;\nbyte[] buffer = new byte[1024];\ntry {\n    String url = \"smb://\"+serverAddress+\"/\"+sharename+\"/TEST.txt\";\n    NtlmPasswordAuthentication auth = new NtlmPasswordAuthentication(null, username, password);\n    file = new SmbFile(url, auth);\n    try (SmbFileInputStream in = new SmbFileInputStream(file)) {\n        int bytesRead = 0;\n        do {\n            bytesRead = in.read(buffer)\n            // here you have \"bytesRead\" in buffer array\n        } \n        while (bytesRead &gt; 0);\n    }\n} catch(Exception e) {\n    JOptionPane.showMessageDialog(null, \"ERROR: \"+e);\n}\n</code></pre>\n\n<p>or even better, assuming that you're working with text files - using <code>BufferedReader</code> from Java SDK:</p>\n\n<pre><code>try (BufferedReader reader = new BufferedReader(new InputStreamReader(new SmbFileInputStream(file)))) {\n    String line = reader.readLine();\n    while (line != null) {\n        line = reader.readLine();\n    }\n}\n</code></pre>\n\n<p>And write with:</p>\n\n<pre><code>try (BufferedWriter writer = new BufferedWriter(new OutputStreamWriter(new SmbFileOutputStream(file)))) {\n    String toWrite = \"xxxxx\";\n    writer.write(toWrite, 0, toWrite.length());\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2434404,"reputation":93,"user_id":2124665,"display_name":"Andriy Fedotov"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1493580876,"creation_date":1493580876,"answer_id":43710523,"question_id":43487647,"body_markdown":"\t    try {\r\n\t\t\tString url = &quot;smb://&quot; + serverAddress + &quot;/&quot; + sharename + &quot;/test.txt&quot;;\r\n\t\t\tNtlmPasswordAuthentication auth = new NtlmPasswordAuthentication(DOMAIN, USER_NAME, PASSWORD);\r\n\t\t\tString fileContent = IOUtils.toString(new SmbFileInputStream(new SmbFile(url, auth)), StandardCharsets.UTF_8.name());\r\n\t\t\tSystem.out.println(fileContent);\r\n\t\t} catch (Exception e) {\r\n\t\t\tSystem.err.println(&quot;ERROR: &quot; + e.getMessage());\r\n\t\t}","title":"Simplest way to read a file using jcifs","body":"<pre><code>    try {\n        String url = \"smb://\" + serverAddress + \"/\" + sharename + \"/test.txt\";\n        NtlmPasswordAuthentication auth = new NtlmPasswordAuthentication(DOMAIN, USER_NAME, PASSWORD);\n        String fileContent = IOUtils.toString(new SmbFileInputStream(new SmbFile(url, auth)), StandardCharsets.UTF_8.name());\n        System.out.println(fileContent);\n    } catch (Exception e) {\n        System.err.println(\"ERROR: \" + e.getMessage());\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":543727,"reputation":349,"user_id":912952,"accept_rate":80,"display_name":"Filipe Roberto"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1599072765,"creation_date":1599072765,"answer_id":63711908,"question_id":43487647,"body_markdown":"I could read some pdf files using this:\r\n\r\n        private final Singleton&lt;CIFSContext&gt; contextoDdetran = new Singleton&lt;&gt;() {\r\n            @Override\r\n            public CIFSContext inicializar() {\r\n                NtlmPasswordAuthenticator autenticador = new NtlmPasswordAuthenticator(smbDomain, smbUser, smbPassword);\r\n                return SingletonContext.getInstance().withCredentials(autenticador);\r\n            }\r\n        };\r\n    \r\n        public byte[] readSmbFile(String fileName) {\r\n            try {\r\n                SmbFile file = new SmbFile(fileName, this.contextoDdetran.get());\r\n                return file.getInputStream().readAllBytes();\r\n            } catch(Exception e) {\r\n                final String msgErro = String.format(&quot;Error reading file &#39;%s&#39;: %s&quot;, fileName, e.getMessage());\r\n                logger.error(msgErro, e);\r\n                throw new IllegalStateException(msgErro);\r\n            }\r\n        }","title":"Simplest way to read a file using jcifs","body":"<p>I could read some pdf files using this:</p>\n<pre><code>    private final Singleton&lt;CIFSContext&gt; contextoDdetran = new Singleton&lt;&gt;() {\n        @Override\n        public CIFSContext inicializar() {\n            NtlmPasswordAuthenticator autenticador = new NtlmPasswordAuthenticator(smbDomain, smbUser, smbPassword);\n            return SingletonContext.getInstance().withCredentials(autenticador);\n        }\n    };\n\n    public byte[] readSmbFile(String fileName) {\n        try {\n            SmbFile file = new SmbFile(fileName, this.contextoDdetran.get());\n            return file.getInputStream().readAllBytes();\n        } catch(Exception e) {\n            final String msgErro = String.format(&quot;Error reading file '%s': %s&quot;, fileName, e.getMessage());\n            logger.error(msgErro, e);\n            throw new IllegalStateException(msgErro);\n        }\n    }\n</code></pre>\n"}],"owner":{"account_id":3164626,"reputation":332,"user_id":4723012,"accept_rate":93,"display_name":"Blaine"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":25172,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":43487797,"answer_count":3,"score":3,"last_activity_date":1687849738,"creation_date":1492581875,"question_id":43487647,"body_markdown":"I am trying to read a file from a network share using the external [jcifs library][1]. Most sample codes I can find for reading files are quite complex, potentially unnecessarily so. I have found a simple way to *write* to a file as seen below. Is there a way to read a file using similar syntax?\r\n\r\n    SmbFile file= null;\r\n    try {\r\n        String url = &quot;smb://&quot;+serverAddress+&quot;/&quot;+sharename+&quot;/TEST.txt&quot;;\r\n        NtlmPasswordAuthentication auth = new NtlmPasswordAuthentication(null, username, password);\r\n        file = new SmbFile(url, auth);\r\n        SmbFileOutputStream out= new SmbFileOutputStream(file);\r\n        out.write(&quot;test string&quot;.getBytes());\r\n        out.flush();\r\n        out.close();\r\n    } catch(Exception e) {\r\n        JOptionPane.showMessageDialog(null, &quot;ERROR: &quot;+e);\r\n    }\r\n\r\n  [1]: https://jcifs.samba.org/","title":"Simplest way to read a file using jcifs","body":"<p>I am trying to read a file from a network share using the external <a href=\"https://jcifs.samba.org/\" rel=\"nofollow noreferrer\">jcifs library</a>. Most sample codes I can find for reading files are quite complex, potentially unnecessarily so. I have found a simple way to <em>write</em> to a file as seen below. Is there a way to read a file using similar syntax?</p>\n\n<pre><code>SmbFile file= null;\ntry {\n    String url = \"smb://\"+serverAddress+\"/\"+sharename+\"/TEST.txt\";\n    NtlmPasswordAuthentication auth = new NtlmPasswordAuthentication(null, username, password);\n    file = new SmbFile(url, auth);\n    SmbFileOutputStream out= new SmbFileOutputStream(file);\n    out.write(\"test string\".getBytes());\n    out.flush();\n    out.close();\n} catch(Exception e) {\n    JOptionPane.showMessageDialog(null, \"ERROR: \"+e);\n}\n</code></pre>\n"},{"tags":["java","jcifs"],"comments":[{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":1,"creation_date":1461153528,"post_id":2171822,"comment_id":61067456,"body_markdown":"In Oracle Java 8 this works without problems.","body":"In Oracle Java 8 this works without problems."}],"answers":[{"tags":[],"owner":{"account_id":36493,"reputation":11667,"user_id":104117,"accept_rate":89,"display_name":"Valentin Rocher"},"down_vote_count":0,"up_vote_count":39,"is_accepted":true,"score":39,"last_activity_date":1265626685,"creation_date":1264947420,"answer_id":2171964,"question_id":2171822,"body_markdown":"You should use [SmbFile][1] and [NtlmPasswordAuthentication][2] from [JCIFS][3]. Here is a simple piece of code to show you how to do :\r\n\r\n    String url = &quot;smb://yourhost/yourpath/&quot;;\r\n    NtlmPasswordAuthentication auth = new NtlmPasswordAuthentication(null, &quot;user&quot;, &quot;password&quot;);\r\n    SmbFile dir = new SmbFile(url, auth);\r\n    for (SmbFile f : dir.listFiles())\r\n    {\r\n        System.out.println(f.getName());\r\n    }\r\n\r\n  [1]: http://jcifs.samba.org/src/docs/api/jcifs/smb/SmbFile.html\r\n  [2]: http://jcifs.samba.org/src/docs/api/jcifs/smb/NtlmPasswordAuthentication.html\r\n  [3]: http://jcifs.samba.org/","title":"connecting to shared folder in windows with java","body":"<p>You should use <a href=\"http://jcifs.samba.org/src/docs/api/jcifs/smb/SmbFile.html\" rel=\"noreferrer\">SmbFile</a> and <a href=\"http://jcifs.samba.org/src/docs/api/jcifs/smb/NtlmPasswordAuthentication.html\" rel=\"noreferrer\">NtlmPasswordAuthentication</a> from <a href=\"http://jcifs.samba.org/\" rel=\"noreferrer\">JCIFS</a>. Here is a simple piece of code to show you how to do :</p>\n\n<pre><code>String url = \"smb://yourhost/yourpath/\";\nNtlmPasswordAuthentication auth = new NtlmPasswordAuthentication(null, \"user\", \"password\");\nSmbFile dir = new SmbFile(url, auth);\nfor (SmbFile f : dir.listFiles())\n{\n    System.out.println(f.getName());\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6283320,"reputation":21,"user_id":4883529,"display_name":"avi"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1435729908,"creation_date":1435729908,"answer_id":31153460,"question_id":2171822,"body_markdown":"If you are accessing open shared folders (i.e. username or password are not known or required),then you can follow the code below :\r\n\r\n    String path=&quot;smb://172.16.0.11/&quot;;\r\n    \r\n    SmbFile smbFile = new SmbFile(path);\r\n    String a[]=smbFile.list();\r\n    for(int i=0;i&lt;a.length;i++)\r\n    {\r\n        System.out.println(a[i]);\r\n    }","title":"connecting to shared folder in windows with java","body":"<p>If you are accessing open shared folders (i.e. username or password are not known or required),then you can follow the code below :</p>\n\n<pre><code>String path=\"smb://172.16.0.11/\";\n\nSmbFile smbFile = new SmbFile(path);\nString a[]=smbFile.list();\nfor(int i=0;i&lt;a.length;i++)\n{\n    System.out.println(a[i]);\n}\n</code></pre>\n"}],"owner":{"account_id":96797,"reputation":1039,"user_id":262910,"accept_rate":24,"display_name":"SShehab"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":76541,"favorite_count":0,"down_vote_count":0,"up_vote_count":28,"accepted_answer_id":2171964,"answer_count":2,"score":28,"last_activity_date":1687849439,"creation_date":1264944799,"question_id":2171822,"body_markdown":"I need to connect to a shared folder on a remote windows machine through java , where i put my domain authentication (username and password ) in the code , here is my code \r\n\r\n     File file = new File(&quot;\\\\\\\\theRemoteIP\\\\webapps&quot;);   \r\n        File[] files = file.listFiles();  \r\n        System.out.println(&quot;access done&quot;);  \r\n  \r\n        for (int i = 0; i &lt; files.length; i++)  \r\n        {  \r\n            String name = files[i].getName();  \r\n            System.out.println(name);  \r\n        }  \r\n\r\nThanks\r\n\r\n","title":"connecting to shared folder in windows with java","body":"<p>I need to connect to a shared folder on a remote windows machine through java , where i put my domain authentication (username and password ) in the code , here is my code</p>\n<pre><code> File file = new File(&quot;\\\\\\\\theRemoteIP\\\\webapps&quot;);   \n    File[] files = file.listFiles();  \n    System.out.println(&quot;access done&quot;);  \n\n    for (int i = 0; i &lt; files.length; i++)  \n    {  \n        String name = files[i].getName();  \n        System.out.println(name);  \n    }  \n</code></pre>\n<p>Thanks</p>\n"},{"tags":["java","cifs","jcifs"],"answers":[{"tags":[],"owner":{"account_id":8651915,"reputation":188,"user_id":6477292,"accept_rate":67,"display_name":"fudge"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675971300,"creation_date":1675971300,"answer_id":75403592,"question_id":26791991,"body_markdown":"I fought with this for over an hour but was finally able to get it working using the full URL string as opposed to the NtlmPasswordAuthentication object. I can&#39;t say why this is the case, but potentially it&#39;s doing some weird stuff to the username and/or password before passing it into the connection string. \r\n\r\nIn case anyone needs it, here is the URL format I used, which included the domain:\r\n\r\n    smb://domain;username:password@server/share/path","title":"jCIFS can&#39;t seem to authenticate","body":"<p>I fought with this for over an hour but was finally able to get it working using the full URL string as opposed to the NtlmPasswordAuthentication object. I can't say why this is the case, but potentially it's doing some weird stuff to the username and/or password before passing it into the connection string.</p>\n<p>In case anyone needs it, here is the URL format I used, which included the domain:</p>\n<pre><code>smb://domain;username:password@server/share/path\n</code></pre>\n"}],"owner":{"account_id":46836,"reputation":12142,"user_id":138513,"accept_rate":46,"display_name":"Hakanai"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":3778,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1687849177,"creation_date":1415319961,"question_id":26791991,"body_markdown":"I was starting to benchmark how much performance we&#39;d lose by using jCIFS instead of requiring our users to map drives manually themselves, but then I found that I couldn&#39;t even pass the first basic test of reading data from a file using jCIFS.\r\n\r\nI boiled down my issue to a test problem:\r\n\r\n    import java.io.OutputStream;\r\n    import java.nio.file.Files;\r\n    import java.nio.file.Path;\r\n    import java.nio.file.Paths;\r\n    \r\n    import com.google.common.io.ByteStreams;\r\n    import jcifs.smb.NtlmPasswordAuthentication;\r\n    import jcifs.smb.SmbFile;\r\n    \r\n    public class TestCifs\r\n    {\r\n        public static void main(String[] args) throws Exception\r\n        {\r\n            OutputStream output = ByteStreams.nullOutputStream();\r\n    \r\n            String domain = &quot;&quot;; // have tried the actual name too\r\n            String user = &quot;&lt;your_user_here&gt;&quot;;\r\n            String pass = &quot;&lt;your_pass_here&gt;&quot;;\r\n    \r\n            String relativePath = &quot;path/to/100MiB&quot;;\r\n    \r\n            // Read via UNC path (Windows doing the SMB work.)\r\n            Path uncFile = Paths.get(&quot;\\\\\\\\192.168.1.66\\\\Shared&quot;, relativePath);\r\n            Files.copy(uncFile, output);\r\n    \r\n            // Read via jCIFS\r\n            //TODO: Figure out if this is a real URL in which case we&#39;d have to escape stuff.\r\n            SmbFile smbFile = new SmbFile(&quot;smb://192.168.1.66/Shared/&quot; + relativePath,\r\n                                          new NtlmPasswordAuthentication(domain, user, pass));\r\n            ByteStreams.copy(smbFile.getInputStream(), output);\r\n        }\r\n    }\r\n\r\nIf I run this, it runs past the direct copy and then the jCIFS copy fails with:\r\n\r\n    Exception in thread &quot;main&quot; jcifs.smb.SmbAuthException: Logon failure: unknown user name or bad password.\r\n    \tat jcifs.smb.SmbTransport.checkStatus(SmbTransport.java:546)\r\n    \tat jcifs.smb.SmbTransport.send(SmbTransport.java:663)\r\n    \tat jcifs.smb.SmbSession.sessionSetup(SmbSession.java:390)\r\n    \tat jcifs.smb.SmbSession.send(SmbSession.java:218)\r\n    \tat jcifs.smb.SmbTree.treeConnect(SmbTree.java:176)\r\n    \tat jcifs.smb.SmbFile.doConnect(SmbFile.java:911)\r\n    \tat jcifs.smb.SmbFile.connect(SmbFile.java:954)\r\n    \tat jcifs.smb.SmbFile.connect0(SmbFile.java:880)\r\n    \tat jcifs.smb.SmbFile.open0(SmbFile.java:972)\r\n    \tat jcifs.smb.SmbFile.open(SmbFile.java:1006)\r\n    \tat jcifs.smb.SmbFileInputStream.&lt;init&gt;(SmbFileInputStream.java:73)\r\n    \tat jcifs.smb.SmbFileInputStream.&lt;init&gt;(SmbFileInputStream.java:65)\r\n    \tat jcifs.smb.SmbFile.getInputStream(SmbFile.java:2844)\r\n    \tat TestCifs.main(TestCifs.java:33)\r\n\r\nThe username and password I provided in user/pass are the same ones I used when authenticating with the server to mount its directory via Windows. I also tried using the name of the server as the domain to no effect. I&#39;m really at a loss with this one and am about to look at something like Wireshark to figure out what is actually going wrong but maybe I&#39;m doing something obviously wrong and someone here can point that out.\r\n\r\nThis is probably the relevant bit from jCIFS&#39; own diagnostics for the failed login:\r\n\r\n    treeConnect: unc=\\\\192.168.1.66\\SHARED,service=?????\r\n    sessionSetup: accountName=TESTER,primaryDomain=\r\n    NtlmContext[auth=TESTER,ntlmsspFlags=0x20080004,workstation=JCIFS1_183_42,isEstablished=false,state=1,serverChallenge=null,signingKey=null]\r\n    Type1Message[suppliedDomain=,suppliedWorkstation=JCIFS1_183_42,flags=0x20080205]\r\n    00000: 4E 54 4C 4D 53 53 50 00 01 00 00 00 05 22 08 20  |NTLMSSP......&quot;. |\r\n    00010: 00 00 00 00 00 00 00 00 0D 00 0D 00 20 00 00 00  |............ ...|\r\n    00020: 4A 43 49 46 53 31 5F 31 38 33 5F 34 32           |JCIFS1_183_42   |\r\n    \r\n    SmbComSessionSetupAndX[command=SMB_COM_SESSION_SETUP_ANDX,received=false,errorCode=0,flags=0x0018,flags2=0xC803,signSeq=0,tid=0,pid=21886,uid=0,mid=2,wordCount=12,byteCount=77,andxCommand=0xFF,andxOffset=0,snd_buf_size=16644,maxMpxCount=10,VC_NUMBER=1,sessionKey=0,lmHash.length=0,ntHash.length=0,capabilities=-2147483564,accountName=null,primaryDomain=null,NATIVE_OS=Windows 8,NATIVE_LANMAN=jCIFS]\r\n    00000: FF 53 4D 42 73 00 00 00 00 18 03 C8 00 00 00 00  |&#255;SMBs......&#200;....|\r\n    00010: 00 00 00 00 00 00 00 00 00 00 7E 55 00 00 02 00  |..........~U....|\r\n    00020: 0C FF 00 DE DE 04 41 0A 00 01 00 00 00 00 00 2D  |.&#255;.&#222;&#222;.A........-|\r\n    00030: 00 00 00 00 00 54 00 00 80 4D 00 4E 54 4C 4D 53  |.....T...M.NTLMS|\r\n    00040: 53 50 00 01 00 00 00 05 22 08 20 00 00 00 00 00  |SP......&quot;. .....|\r\n    00050: 00 00 00 0D 00 0D 00 20 00 00 00 4A 43 49 46 53  |....... ...JCIFS|\r\n    00060: 31 5F 31 38 33 5F 34 32 57 00 69 00 6E 00 64 00  |1_183_42W.i.n.d.|\r\n    00070: 6F 00 77 00 73 00 20 00 38 00 00 00 6A 00 43 00  |o.w.s. .8...j.C.|\r\n    00080: 49 00 46 00 53 00 00 00                          |I.F.S...        |\r\n\r\n    New data read: Transport1[0.0.0.0&lt;00&gt;/192.168.1.66:445]\r\n    00000: FF 53 4D 42 73 6D 00 00 C0 80 41 C8 00 00 00 00  |&#255;SMBsm..&#192;.A&#200;....|\r\n    00010: 00 00 00 00 00 00 00 00 00 00 7E 55 00 00 02 00  |..........~U....|\r\n    \r\n    SmbComSessionSetupAndXResponse[command=SMB_COM_SESSION_SETUP_ANDX,received=false,errorCode=Logon failure: unknown user name or bad password.,flags=0x0080,flags2=0xC841,signSeq=0,tid=0,pid=21886,uid=0,mid=2,wordCount=0,byteCount=0,andxCommand=0xFF,andxOffset=0,isLoggedInAsGuest=false,nativeOs=,nativeLanMan=,primaryDomain=]\r\n    00000: FF 53 4D 42 73 6D 00 00 C0 80 41 C8 00 00 00 00  |&#255;SMBsm..&#192;.A&#200;....|\r\n    00010: 00 00 00 00 00 00 00 00 00 00 7E 55 00 00 02 00  |..........~U....|\r\n    00020: 00 00 00                                         |...             |\r\n\r\nIt seems like it isn&#39;t putting the username into the message at all, so maybe I&#39;m looking at a bug, but if it&#39;s really doing this, surely it would have been noticed by someone else before...\r\n\r\nWorkarounds already attempted:\r\n\r\n* Putting authentication info into the URL instead of the auth object.\r\n* Calling SmbSession.logon before trying to access the SmbFile. In this situation, you just get the error from logon instead.\r\n* Setting a default authenticator using NtlmAuthenticator.setDefault(). In this situation, you see it call the authenticator to get the auth details but then seemingly throw away the info and make the request with no username.\r\n","title":"jCIFS can&#39;t seem to authenticate","body":"<p>I was starting to benchmark how much performance we'd lose by using jCIFS instead of requiring our users to map drives manually themselves, but then I found that I couldn't even pass the first basic test of reading data from a file using jCIFS.</p>\n\n<p>I boiled down my issue to a test problem:</p>\n\n<pre><code>import java.io.OutputStream;\nimport java.nio.file.Files;\nimport java.nio.file.Path;\nimport java.nio.file.Paths;\n\nimport com.google.common.io.ByteStreams;\nimport jcifs.smb.NtlmPasswordAuthentication;\nimport jcifs.smb.SmbFile;\n\npublic class TestCifs\n{\n    public static void main(String[] args) throws Exception\n    {\n        OutputStream output = ByteStreams.nullOutputStream();\n\n        String domain = \"\"; // have tried the actual name too\n        String user = \"&lt;your_user_here&gt;\";\n        String pass = \"&lt;your_pass_here&gt;\";\n\n        String relativePath = \"path/to/100MiB\";\n\n        // Read via UNC path (Windows doing the SMB work.)\n        Path uncFile = Paths.get(\"\\\\\\\\192.168.1.66\\\\Shared\", relativePath);\n        Files.copy(uncFile, output);\n\n        // Read via jCIFS\n        //TODO: Figure out if this is a real URL in which case we'd have to escape stuff.\n        SmbFile smbFile = new SmbFile(\"smb://192.168.1.66/Shared/\" + relativePath,\n                                      new NtlmPasswordAuthentication(domain, user, pass));\n        ByteStreams.copy(smbFile.getInputStream(), output);\n    }\n}\n</code></pre>\n\n<p>If I run this, it runs past the direct copy and then the jCIFS copy fails with:</p>\n\n<pre><code>Exception in thread \"main\" jcifs.smb.SmbAuthException: Logon failure: unknown user name or bad password.\n    at jcifs.smb.SmbTransport.checkStatus(SmbTransport.java:546)\n    at jcifs.smb.SmbTransport.send(SmbTransport.java:663)\n    at jcifs.smb.SmbSession.sessionSetup(SmbSession.java:390)\n    at jcifs.smb.SmbSession.send(SmbSession.java:218)\n    at jcifs.smb.SmbTree.treeConnect(SmbTree.java:176)\n    at jcifs.smb.SmbFile.doConnect(SmbFile.java:911)\n    at jcifs.smb.SmbFile.connect(SmbFile.java:954)\n    at jcifs.smb.SmbFile.connect0(SmbFile.java:880)\n    at jcifs.smb.SmbFile.open0(SmbFile.java:972)\n    at jcifs.smb.SmbFile.open(SmbFile.java:1006)\n    at jcifs.smb.SmbFileInputStream.&lt;init&gt;(SmbFileInputStream.java:73)\n    at jcifs.smb.SmbFileInputStream.&lt;init&gt;(SmbFileInputStream.java:65)\n    at jcifs.smb.SmbFile.getInputStream(SmbFile.java:2844)\n    at TestCifs.main(TestCifs.java:33)\n</code></pre>\n\n<p>The username and password I provided in user/pass are the same ones I used when authenticating with the server to mount its directory via Windows. I also tried using the name of the server as the domain to no effect. I'm really at a loss with this one and am about to look at something like Wireshark to figure out what is actually going wrong but maybe I'm doing something obviously wrong and someone here can point that out.</p>\n\n<p>This is probably the relevant bit from jCIFS' own diagnostics for the failed login:</p>\n\n<pre><code>treeConnect: unc=\\\\192.168.1.66\\SHARED,service=?????\nsessionSetup: accountName=TESTER,primaryDomain=\nNtlmContext[auth=TESTER,ntlmsspFlags=0x20080004,workstation=JCIFS1_183_42,isEstablished=false,state=1,serverChallenge=null,signingKey=null]\nType1Message[suppliedDomain=,suppliedWorkstation=JCIFS1_183_42,flags=0x20080205]\n00000: 4E 54 4C 4D 53 53 50 00 01 00 00 00 05 22 08 20  |NTLMSSP......\". |\n00010: 00 00 00 00 00 00 00 00 0D 00 0D 00 20 00 00 00  |............ ...|\n00020: 4A 43 49 46 53 31 5F 31 38 33 5F 34 32           |JCIFS1_183_42   |\n\nSmbComSessionSetupAndX[command=SMB_COM_SESSION_SETUP_ANDX,received=false,errorCode=0,flags=0x0018,flags2=0xC803,signSeq=0,tid=0,pid=21886,uid=0,mid=2,wordCount=12,byteCount=77,andxCommand=0xFF,andxOffset=0,snd_buf_size=16644,maxMpxCount=10,VC_NUMBER=1,sessionKey=0,lmHash.length=0,ntHash.length=0,capabilities=-2147483564,accountName=null,primaryDomain=null,NATIVE_OS=Windows 8,NATIVE_LANMAN=jCIFS]\n00000: FF 53 4D 42 73 00 00 00 00 18 03 C8 00 00 00 00  |ÿSMBs......È....|\n00010: 00 00 00 00 00 00 00 00 00 00 7E 55 00 00 02 00  |..........~U....|\n00020: 0C FF 00 DE DE 04 41 0A 00 01 00 00 00 00 00 2D  |.ÿ.ÞÞ.A........-|\n00030: 00 00 00 00 00 54 00 00 80 4D 00 4E 54 4C 4D 53  |.....T...M.NTLMS|\n00040: 53 50 00 01 00 00 00 05 22 08 20 00 00 00 00 00  |SP......\". .....|\n00050: 00 00 00 0D 00 0D 00 20 00 00 00 4A 43 49 46 53  |....... ...JCIFS|\n00060: 31 5F 31 38 33 5F 34 32 57 00 69 00 6E 00 64 00  |1_183_42W.i.n.d.|\n00070: 6F 00 77 00 73 00 20 00 38 00 00 00 6A 00 43 00  |o.w.s. .8...j.C.|\n00080: 49 00 46 00 53 00 00 00                          |I.F.S...        |\n\nNew data read: Transport1[0.0.0.0&lt;00&gt;/192.168.1.66:445]\n00000: FF 53 4D 42 73 6D 00 00 C0 80 41 C8 00 00 00 00  |ÿSMBsm..À.AÈ....|\n00010: 00 00 00 00 00 00 00 00 00 00 7E 55 00 00 02 00  |..........~U....|\n\nSmbComSessionSetupAndXResponse[command=SMB_COM_SESSION_SETUP_ANDX,received=false,errorCode=Logon failure: unknown user name or bad password.,flags=0x0080,flags2=0xC841,signSeq=0,tid=0,pid=21886,uid=0,mid=2,wordCount=0,byteCount=0,andxCommand=0xFF,andxOffset=0,isLoggedInAsGuest=false,nativeOs=,nativeLanMan=,primaryDomain=]\n00000: FF 53 4D 42 73 6D 00 00 C0 80 41 C8 00 00 00 00  |ÿSMBsm..À.AÈ....|\n00010: 00 00 00 00 00 00 00 00 00 00 7E 55 00 00 02 00  |..........~U....|\n00020: 00 00 00                                         |...             |\n</code></pre>\n\n<p>It seems like it isn't putting the username into the message at all, so maybe I'm looking at a bug, but if it's really doing this, surely it would have been noticed by someone else before...</p>\n\n<p>Workarounds already attempted:</p>\n\n<ul>\n<li>Putting authentication info into the URL instead of the auth object.</li>\n<li>Calling SmbSession.logon before trying to access the SmbFile. In this situation, you just get the error from logon instead.</li>\n<li>Setting a default authenticator using NtlmAuthenticator.setDefault(). In this situation, you see it call the authenticator to get the auth details but then seemingly throw away the info and make the request with no username.</li>\n</ul>\n"},{"tags":["java","android-studio","jcifs"],"answers":[{"tags":[],"owner":{"account_id":1759832,"reputation":2022,"user_id":1607249,"accept_rate":10,"display_name":"Theo"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1652279616,"creation_date":1652279616,"answer_id":72202913,"question_id":72068321,"body_markdown":"Now working with the following added into build.gradle:\r\n\r\n    implementation files(&#39;libs/jcifs-2.1.29.jar&#39;)\r\n    implementation files(&#39;libs/slf4j-api-1.7.30.jar&#39;) \r\n    implementation &#39;org.bouncycastle:bcprov-jdk15on:1.68&#39;","title":"Implementing latest version of JCIFS","body":"<p>Now working with the following added into build.gradle:</p>\n<pre><code>implementation files('libs/jcifs-2.1.29.jar')\nimplementation files('libs/slf4j-api-1.7.30.jar') \nimplementation 'org.bouncycastle:bcprov-jdk15on:1.68'\n</code></pre>\n"}],"owner":{"account_id":1759832,"reputation":2022,"user_id":1607249,"accept_rate":10,"display_name":"Theo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1332,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1687848986,"creation_date":1651319895,"question_id":72068321,"body_markdown":"Trying to update my app from jcifs-1.3.19 to the latest jcifs-2.1.29\r\nI have changed the appropriate  code, adding the &quot;necessary&quot; jars to build.gradle\r\n\r\n    &lt;see answer below&gt;\r\n\r\n but keep getting the same error\r\n     Caused by: java.lang.NoClassDefFoundError: Failed resolution of: Lorg/bouncycastle/asn1/ASN1ObjectIdentifier;\r\n\r\nFound a number of references, implemented  their suggested solutions to no avail.\r\n What is missing??\r\n\r\n\r\njava -version\r\njava version &quot;18.0.1&quot; 2022-04-19\r\nJava(TM) SE Runtime Environment (build 18.0.1+10-24)\r\nJava HotSpot(TM) 64-Bit Server VM (build 18.0.1+10-24, mixed mode, sharing)\r\n\r\nJAVA_HOME=C:\\Program Files\\Common Files\\Oracle\\Java\\javapath\r\n\r\nAndroid Studio Gradle:\r\n\r\n      //  implementation files(&#39;libs/jcifs-1.3.19.jar&#39;) moving from V1 to V2\r\n        implementation files(&#39;libs/jcifs-2.1.29.jar&#39;)  \r\n        implementation files(&#39;libs/bcprov-jdk18on-171&#39;)\r\n        implementation files(&#39;libs/bcutil-jdk18on-171&#39;)\r\n        implementation files(&#39;libs/slf4j-api-1.7.30.jar&#39;)\r\n\r\n\r\n\r\n\r\n\tpublic CIFSContext getcredentials(String user, String password){\r\n\t\tNtlmPasswordAuthenticator sourceAuth = new NtlmPasswordAuthenticator(&quot;&quot;,\r\n\t\t\t\tuser, password);\r\n\t\tProperties properties = new Properties();\r\n\t\tproperties.setProperty(&quot;jcifs.smb.client.responseTimeout&quot;, &quot;5000&quot;);\r\n\t\tPropertyConfiguration configuration = null;\r\n\t\ttry {\r\n\t\t\tconfiguration = new PropertyConfiguration(properties);\r\n\t\t} catch (CIFSException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t\tCIFSContext cifsContext = new BaseContext(configuration).withCredentials(sourceAuth);\r\n\t\treturn cifsContext;\r\n\t}\r\n\r\n\r\n\r\nCode to connect to pc: \r\n\r\n        \r\n\r\n    String username = getusername();\r\n            String password= getpassword();\r\n    \r\n            CIFSContext cifsContext = general.getcredentials(username,password );\r\n            String[] shares;\r\n            sharelist.clear();\r\n            try {\r\n                SmbFile server = new SmbFile(&quot;smb://&quot; + ip, cifsContext);  // value for server: &quot;smb://192.168.0.38&quot;\r\n               if( server.exists()) {\t\t\t// yes as it continues\r\n                   try {\r\n                       shares = server.list();  // this is where it crashes      Caused by: java.lang.NoClassDefFoundError: Failed resolution of: Lorg/bouncycastle/asn1/ASN1ObjectIdentifier;\r\n                       for (String s : shares) {\r\n                           if (!s.contains(&quot;$&quot;)) {\r\n                               sharelist.add(s);\r\n                               op.success = true;\r\n                           }\r\n                           //  System.out.println(s);\r\n                       }\r\n                   } catch (SmbException e) {\r\n                       e.printStackTrace();\r\n                   }\r\n               }\r\n            } catch (MalformedURLException e) {\r\n                e.printStackTrace();\r\n                op.an_error=e.getMessage().toString();\r\n    \r\n            } catch (SmbException e) {\r\n                e.printStackTrace();\r\n                op.an_error=e.getMessage().toString();\r\n            }\r\n\r\nAdditional:\r\n[https://www.baeldung.com/java-bouncy-castle][1]\r\n\r\n\r\n  [1]: https://www.baeldung.com/java-bouncy-castle","title":"Implementing latest version of JCIFS","body":"<p>Trying to update my app from jcifs-1.3.19 to the latest jcifs-2.1.29\nI have changed the appropriate  code, adding the &quot;necessary&quot; jars to build.gradle</p>\n<pre><code>&lt;see answer below&gt;\n</code></pre>\n<p>but keep getting the same error\nCaused by: java.lang.NoClassDefFoundError: Failed resolution of: Lorg/bouncycastle/asn1/ASN1ObjectIdentifier;</p>\n<p>Found a number of references, implemented  their suggested solutions to no avail.\nWhat is missing??</p>\n<p>java -version\njava version &quot;18.0.1&quot; 2022-04-19\nJava(TM) SE Runtime Environment (build 18.0.1+10-24)\nJava HotSpot(TM) 64-Bit Server VM (build 18.0.1+10-24, mixed mode, sharing)</p>\n<p>JAVA_HOME=C:\\Program Files\\Common Files\\Oracle\\Java\\javapath</p>\n<p>Android Studio Gradle:</p>\n<pre><code>  //  implementation files('libs/jcifs-1.3.19.jar') moving from V1 to V2\n    implementation files('libs/jcifs-2.1.29.jar')  \n    implementation files('libs/bcprov-jdk18on-171')\n    implementation files('libs/bcutil-jdk18on-171')\n    implementation files('libs/slf4j-api-1.7.30.jar')\n\n\n\n\npublic CIFSContext getcredentials(String user, String password){\n    NtlmPasswordAuthenticator sourceAuth = new NtlmPasswordAuthenticator(&quot;&quot;,\n            user, password);\n    Properties properties = new Properties();\n    properties.setProperty(&quot;jcifs.smb.client.responseTimeout&quot;, &quot;5000&quot;);\n    PropertyConfiguration configuration = null;\n    try {\n        configuration = new PropertyConfiguration(properties);\n    } catch (CIFSException e) {\n        e.printStackTrace();\n    }\n    CIFSContext cifsContext = new BaseContext(configuration).withCredentials(sourceAuth);\n    return cifsContext;\n}\n</code></pre>\n<p>Code to connect to pc:</p>\n<pre><code>String username = getusername();\n        String password= getpassword();\n\n        CIFSContext cifsContext = general.getcredentials(username,password );\n        String[] shares;\n        sharelist.clear();\n        try {\n            SmbFile server = new SmbFile(&quot;smb://&quot; + ip, cifsContext);  // value for server: &quot;smb://192.168.0.38&quot;\n           if( server.exists()) {           // yes as it continues\n               try {\n                   shares = server.list();  // this is where it crashes      Caused by: java.lang.NoClassDefFoundError: Failed resolution of: Lorg/bouncycastle/asn1/ASN1ObjectIdentifier;\n                   for (String s : shares) {\n                       if (!s.contains(&quot;$&quot;)) {\n                           sharelist.add(s);\n                           op.success = true;\n                       }\n                       //  System.out.println(s);\n                   }\n               } catch (SmbException e) {\n                   e.printStackTrace();\n               }\n           }\n        } catch (MalformedURLException e) {\n            e.printStackTrace();\n            op.an_error=e.getMessage().toString();\n\n        } catch (SmbException e) {\n            e.printStackTrace();\n            op.an_error=e.getMessage().toString();\n        }\n</code></pre>\n<p>Additional:\n<a href=\"https://www.baeldung.com/java-bouncy-castle\" rel=\"nofollow noreferrer\">https://www.baeldung.com/java-bouncy-castle</a></p>\n"},{"tags":["java","swing","popup","mouseover","joptionpane"],"comments":[{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1373067070,"post_id":17498038,"comment_id":25435917,"body_markdown":"Have you taken a look at [How to use tool tips](http://docs.oracle.com/javase/tutorial/uiswing/components/tooltip.html)?","body":"Have you taken a look at <a href=\"http://docs.oracle.com/javase/tutorial/uiswing/components/tooltip.html\" rel=\"nofollow noreferrer\">How to use tool tips</a>?"},{"owner":{"account_id":3011885,"reputation":1,"user_id":2555186,"display_name":"jFisky"},"score":0,"creation_date":1373068705,"post_id":17498038,"comment_id":25436231,"body_markdown":"@MadProgrammer Just checked it out, and since my objects aren&#39;t `JComponent`s, it&#39;s no dice.","body":"@MadProgrammer Just checked it out, and since my objects aren&#39;t <code>JComponent</code>s, it&#39;s no dice."},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1373071719,"post_id":17498038,"comment_id":25436728,"body_markdown":"What are they.............?","body":"What are they.............?"},{"owner":{"account_id":3011885,"reputation":1,"user_id":2555186,"display_name":"jFisky"},"score":0,"creation_date":1373082934,"post_id":17498038,"comment_id":25438209,"body_markdown":"@MadProgrammer They were originally objects that extended `GRect` from the `acm` library, but then I changed them to extend `JComponent` to allow for the `setToolTipText` method to work. But now I can&#39;t figure out how to designate a certain area for the objects (i.e. an area which, if entered, will get the object&#39;s tool tip to display)","body":"@MadProgrammer They were originally objects that extended <code>GRect</code> from the <code>acm</code> library, but then I changed them to extend <code>JComponent</code> to allow for the <code>setToolTipText</code> method to work. But now I can&#39;t figure out how to designate a certain area for the objects (i.e. an area which, if entered, will get the object&#39;s tool tip to display)"},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1373086135,"post_id":17498038,"comment_id":25438682,"body_markdown":"`JComponent` provides `getToolTipText(MouseEvent)` method, which should allow you to specify a custom tool tip for a given location. Try taking a look at [this example](http://stackoverflow.com/questions/17497757/java-how-to-set-settooltiptext-for-jframe/17497806#17497806)","body":"<code>JComponent</code> provides <code>getToolTipText(MouseEvent)</code> method, which should allow you to specify a custom tool tip for a given location. Try taking a look at <a href=\"http://stackoverflow.com/questions/17497757/java-how-to-set-settooltiptext-for-jframe/17497806#17497806\">this example</a>"}],"owner":{"account_id":3011885,"reputation":1,"user_id":2555186,"display_name":"jFisky"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1084,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687848918,"creation_date":1373066542,"question_id":17498038,"body_markdown":"For an application I&#39;m building in Java, I&#39;m trying to get my program to display a pop-up message when certain objects are hovered over with the mouse. I know how to use `mouseEntered()` and `mouseExited()` for knowing if the objects are being hovered over, but I don&#39;t know how to actually display the pop-up message itself.\r\n\r\nI was thinking of using a `JOptionPane`, but have no idea how to close the pop-up without the user having to manually close it. Any input would be greatly appreciated.\r\n\r\nThanks","title":"Mouse-over pop-up in Java","body":"<p>For an application I'm building in Java, I'm trying to get my program to display a pop-up message when certain objects are hovered over with the mouse. I know how to use <code>mouseEntered()</code> and <code>mouseExited()</code> for knowing if the objects are being hovered over, but I don't know how to actually display the pop-up message itself.</p>\n\n<p>I was thinking of using a <code>JOptionPane</code>, but have no idea how to close the pop-up without the user having to manually close it. Any input would be greatly appreciated.</p>\n\n<p>Thanks</p>\n"},{"tags":["java","kotlin","log4j2","slf4j","ktor"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1687851723,"post_id":76562293,"comment_id":134990680,"body_markdown":"What&#39;s an example of an unwanted message?","body":"What&#39;s an example of an unwanted message?"},{"owner":{"account_id":8682310,"reputation":25,"user_id":6497769,"display_name":"Vishal Jain"},"score":0,"creation_date":1688022472,"post_id":76562293,"comment_id":135018486,"body_markdown":"@tgdavies sharing an example\n```[MaintenanceTimer-4-thread-1] INFO org.mongodb.driver.connection - Opened connection [connectionId{localValue:25, serverValue:57547}]\n```","body":"@tgdavies sharing an example <code>[MaintenanceTimer-4-thread-1] INFO org.mongodb.driver.connection - Opened connection [connectionId{localValue:25, serverValue:57547}] </code>"}],"owner":{"account_id":8682310,"reputation":25,"user_id":6497769,"display_name":"Vishal Jain"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687848886,"creation_date":1687848886,"question_id":76562293,"body_markdown":"I am trying to disable the mongodb connection logs on my application but not able to do it with the below configuration in log4j2.xml\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;Configuration status=&quot;INFO&quot;&gt;\r\n    &lt;Appenders&gt;\r\n        &lt;Console name=&quot;Console&quot; target=&quot;SYSTEM_OUT&quot;&gt;\r\n            &lt;PatternLayout pattern=&quot;%d{HH:mm:ss.SSS} [%t] %-5level %logger{36} - %msg%n&quot;/&gt;\r\n        &lt;/Console&gt;\r\n    &lt;/Appenders&gt;\r\n    &lt;Loggers&gt;\r\n        &lt;Root level=&quot;debug&quot;&gt;\r\n            &lt;AppenderRef ref=&quot;Console&quot;/&gt;\r\n        &lt;/Root&gt;\r\n        &lt;Logger name=&quot;org.mongodb.driver&quot; level=&quot;OFF&quot;/&gt;\r\n    &lt;/Loggers&gt;\r\n&lt;/Configuration&gt;\r\n```\r\n\r\nApplication is ktor server application\r\nDependecies used for loggers are:\r\n```\r\ndependencies {\r\n    implementation &#39;org.slf4j:slf4j-simple:2.0.5&#39;\r\n    implementation &#39;org.slf4j:slf4j-api:2.0.5&#39;\r\n    implementation &#39;org.apache.logging.log4j:log4j-core:2.19.0&#39;\r\n}\r\n```\r\n\r\n","title":"Unable to silence mongoDB connection logs from log4j2 xml properties","body":"<p>I am trying to disable the mongodb connection logs on my application but not able to do it with the below configuration in log4j2.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;Configuration status=&quot;INFO&quot;&gt;\n    &lt;Appenders&gt;\n        &lt;Console name=&quot;Console&quot; target=&quot;SYSTEM_OUT&quot;&gt;\n            &lt;PatternLayout pattern=&quot;%d{HH:mm:ss.SSS} [%t] %-5level %logger{36} - %msg%n&quot;/&gt;\n        &lt;/Console&gt;\n    &lt;/Appenders&gt;\n    &lt;Loggers&gt;\n        &lt;Root level=&quot;debug&quot;&gt;\n            &lt;AppenderRef ref=&quot;Console&quot;/&gt;\n        &lt;/Root&gt;\n        &lt;Logger name=&quot;org.mongodb.driver&quot; level=&quot;OFF&quot;/&gt;\n    &lt;/Loggers&gt;\n&lt;/Configuration&gt;\n</code></pre>\n<p>Application is ktor server application\nDependecies used for loggers are:</p>\n<pre><code>dependencies {\n    implementation 'org.slf4j:slf4j-simple:2.0.5'\n    implementation 'org.slf4j:slf4j-api:2.0.5'\n    implementation 'org.apache.logging.log4j:log4j-core:2.19.0'\n}\n</code></pre>\n"},{"tags":["java","spring-boot","intellij-idea","pact"],"answers":[{"tags":[],"owner":{"account_id":28881810,"reputation":41,"user_id":22121151,"display_name":"Subhojit-Dey"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1687848632,"creation_date":1687848632,"answer_id":76562262,"question_id":76541719,"body_markdown":"Problem is solved. Updating the gradle to 7.5+ solves the issue.","title":"Pact Testing in Spring Boot | Error in installing the au.com.dius.pact:consumer:4.6.1 in Intellij","body":"<p>Problem is solved. Updating the gradle to 7.5+ solves the issue.</p>\n"}],"owner":{"account_id":28881810,"reputation":41,"user_id":22121151,"display_name":"Subhojit-Dey"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":196,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":76562262,"answer_count":1,"score":2,"last_activity_date":1687848632,"creation_date":1687535703,"question_id":76541719,"body_markdown":"I am trying to learn `Pact Testing` but I am having issue in installing `au.com.dius.pact:consumer:4.6.1` in `Intellij`.\r\n\r\n\r\n I am using gradle for the build.\r\n\r\nI am using this thing in the `build.gradle` file\r\n\r\n    implementation &#39;au.com.dius.pact.consumer:junit5:4.6.1&#39;\r\n\r\n\r\nI have tried with different versions but no luck. I am having hard time. It will be helpful if anyone can help.\r\n\r\n","title":"Pact Testing in Spring Boot | Error in installing the au.com.dius.pact:consumer:4.6.1 in Intellij","body":"<p>I am trying to learn <code>Pact Testing</code> but I am having issue in installing <code>au.com.dius.pact:consumer:4.6.1</code> in <code>Intellij</code>.</p>\n<p>I am using gradle for the build.</p>\n<p>I am using this thing in the <code>build.gradle</code> file</p>\n<pre><code>implementation 'au.com.dius.pact.consumer:junit5:4.6.1'\n</code></pre>\n<p>I have tried with different versions but no luck. I am having hard time. It will be helpful if anyone can help.</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9648,"page":344,"page_size":100}
