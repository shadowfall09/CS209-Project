{"items":[{"tags":["java","string"],"answers":[{"tags":[],"owner":{"account_id":10182846,"reputation":1,"user_id":7518962,"display_name":"dongjb"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676946836,"creation_date":1676946836,"answer_id":75515808,"question_id":75515720,"body_markdown":"        String str1 = &quot;{Operator[1536335]-Sequence[1537957]-Number[60000]}&quot;;\r\n        String[] oneSplit = str1.split(&quot;-&quot;);\r\n        String[] twoSplit = oneSplit[2].split(&quot;\\\\u005B&quot;);\r\n        String[] threeSplit = twoSplit[1].split(&quot;\\\\u005D&quot;);\r\n        System.out.println(threeSplit[0]);","title":"How to get value the Number value from the provided String in Java","body":"<pre><code>    String str1 = &quot;{Operator[1536335]-Sequence[1537957]-Number[60000]}&quot;;\n    String[] oneSplit = str1.split(&quot;-&quot;);\n    String[] twoSplit = oneSplit[2].split(&quot;\\\\u005B&quot;);\n    String[] threeSplit = twoSplit[1].split(&quot;\\\\u005D&quot;);\n    System.out.println(threeSplit[0]);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10139630,"reputation":630,"user_id":7489818,"display_name":"Kasumi Gunasekara"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1676947149,"creation_date":1676947149,"answer_id":75515841,"question_id":75515720,"body_markdown":"Assuming you want the part between square brackets after &#39;Number&#39;, could use a regular expression with a [Pattern][1] and [Matcher][2]:\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/api/java/util/regex/Pattern.html\r\n  [2]: https://docs.oracle.com/javase/7/docs/api/java/util/regex/Matcher.html\r\n\r\nExample:\r\n\r\n        String str = &quot;{Operator[1536335]-Sequence[1537957]-Number[60000]}&quot;;\r\n        System.out.println(str);\r\n        Pattern pattern = Pattern.compile(&quot;.*-Number\\\\[(.*?)\\\\]}&quot;);\r\n        Matcher matcher = pattern.matcher(str);\r\n        if (matcher.find()) {\r\n            System.out.println(matcher.group(1));\r\n        }\r\n\r\nResult:\r\n\r\n    60000\r\n\r\n","title":"How to get value the Number value from the provided String in Java","body":"<p>Assuming you want the part between square brackets after 'Number', could use a regular expression with a <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/regex/Pattern.html\" rel=\"nofollow noreferrer\">Pattern</a> and <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/regex/Matcher.html\" rel=\"nofollow noreferrer\">Matcher</a>:</p>\n<p>Example:</p>\n<pre><code>    String str = &quot;{Operator[1536335]-Sequence[1537957]-Number[60000]}&quot;;\n    System.out.println(str);\n    Pattern pattern = Pattern.compile(&quot;.*-Number\\\\[(.*?)\\\\]}&quot;);\n    Matcher matcher = pattern.matcher(str);\n    if (matcher.find()) {\n        System.out.println(matcher.group(1));\n    }\n</code></pre>\n<p>Result:</p>\n<pre><code>60000\n</code></pre>\n"}],"owner":{"account_id":18469626,"reputation":13,"user_id":15170229,"display_name":"Irregularz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":50,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":75515841,"answer_count":2,"score":-1,"last_activity_date":1676947149,"creation_date":1676945481,"question_id":75515720,"body_markdown":"Text:\r\n```\r\n&quot;{Operator[1536335]-Sequence[1537957]-Number[60000]}&quot;\r\n```\r\n\r\nIs there a efficient way to get the value of Number from the string instead of using multiple String.replaceAll?\r\n\r\nI tried with String.replaceFirst or some string reduction technique like split with &#39;-&#39; .But seems little clumsy and thought there must be a better way to do this. So here I am asking the pros :) ","title":"How to get value the Number value from the provided String in Java","body":"<p>Text:</p>\n<pre><code>&quot;{Operator[1536335]-Sequence[1537957]-Number[60000]}&quot;\n</code></pre>\n<p>Is there a efficient way to get the value of Number from the string instead of using multiple String.replaceAll?</p>\n<p>I tried with String.replaceFirst or some string reduction technique like split with '-' .But seems little clumsy and thought there must be a better way to do this. So here I am asking the pros :)</p>\n"},{"tags":["java","mybatis"],"comments":[{"owner":{"account_id":1314580,"reputation":3289,"user_id":1261766,"display_name":"ave"},"score":0,"creation_date":1676972773,"post_id":75515798,"comment_id":133239997,"body_markdown":"Do you mean that there are two configuration XML files? Then the answer is &#39;no&#39;. You can add mappers or change options of a `Configuration` instance, but you have to do it in your Java code.","body":"Do you mean that there are two configuration XML files? Then the answer is &#39;no&#39;. You can add mappers or change options of a <code>Configuration</code> instance, but you have to do it in your Java code."},{"owner":{"account_id":5111197,"reputation":882,"user_id":4097712,"accept_rate":57,"display_name":"Tonny Tc"},"score":0,"creation_date":1676976270,"post_id":75515798,"comment_id":133241038,"body_markdown":"Yes, there are indeed two configuration files, one in the existed production and another in the extended production. And would you tell me how I can add the three mapper files programmatically please?","body":"Yes, there are indeed two configuration files, one in the existed production and another in the extended production. And would you tell me how I can add the three mapper files programmatically please?"},{"owner":{"account_id":1314580,"reputation":3289,"user_id":1261766,"display_name":"ave"},"score":0,"creation_date":1676978538,"post_id":75515798,"comment_id":133241672,"body_markdown":"You can get the instance of `Configuration` via `SqlSessionFactory` e.g. `sqlSessionFactory.getConfiguration()`. Then, to add mappers, you can use `Configuration#addMapper()`. If you are using Spring Boot, check out [ConfigurationCustomizer](http://mybatis.org/spring-boot-starter/mybatis-spring-boot-autoconfigure/#using-a-configurationcustomizer).","body":"You can get the instance of <code>Configuration</code> via <code>SqlSessionFactory</code> e.g. <code>sqlSessionFactory.getConfiguration()</code>. Then, to add mappers, you can use <code>Configuration#addMapper()</code>. If you are using Spring Boot, check out <a href=\"http://mybatis.org/spring-boot-starter/mybatis-spring-boot-autoconfigure/#using-a-configurationcustomizer\" rel=\"nofollow noreferrer\">ConfigurationCustomizer</a>."},{"owner":{"account_id":5111197,"reputation":882,"user_id":4097712,"accept_rate":57,"display_name":"Tonny Tc"},"score":0,"creation_date":1676980694,"post_id":75515798,"comment_id":133242363,"body_markdown":"The `Configuration#addMapper()` method requires a mapper class. However, in my case, there are no new mapper classes. Let me explain it more detail. The existed production provides the mapper classes and its mapper xml file, and what the extended production does is just provide some new queries in a new mapper xml file. Thus, these new mapper xml files need to be added.","body":"The <code>Configuration#addMapper()</code> method requires a mapper class. However, in my case, there are no new mapper classes. Let me explain it more detail. The existed production provides the mapper classes and its mapper xml file, and what the extended production does is just provide some new queries in a new mapper xml file. Thus, these new mapper xml files need to be added."},{"owner":{"account_id":1314580,"reputation":3289,"user_id":1261766,"display_name":"ave"},"score":0,"creation_date":1676981210,"post_id":75515798,"comment_id":133242520,"body_markdown":"Well, there may be no good workaround for such scenario. I would suggest to copy and modify the configuration XML from the existing production and use it in the extended production (i.e. don&#39;t use the old XML configuration at all). It would be technically possible to read the old XML config and modify it before building `SqlSessionFactory` which takes `Reader` or `InputStream`, but I would not recommend it.","body":"Well, there may be no good workaround for such scenario. I would suggest to copy and modify the configuration XML from the existing production and use it in the extended production (i.e. don&#39;t use the old XML configuration at all). It would be technically possible to read the old XML config and modify it before building <code>SqlSessionFactory</code> which takes <code>Reader</code> or <code>InputStream</code>, but I would not recommend it."},{"owner":{"account_id":5111197,"reputation":882,"user_id":4097712,"accept_rate":57,"display_name":"Tonny Tc"},"score":0,"creation_date":1676982324,"post_id":75515798,"comment_id":133242855,"body_markdown":"Thanks a lot for your kind reply. That is to say, it is impossible to add neither a configuration xml file (if there has already one) nor an attached mapper xml file (if not use some xml file modification method) to MyBatis in runtime. Am I right?","body":"Thanks a lot for your kind reply. That is to say, it is impossible to add neither a configuration xml file (if there has already one) nor an attached mapper xml file (if not use some xml file modification method) to MyBatis in runtime. Am I right?"},{"owner":{"account_id":1314580,"reputation":3289,"user_id":1261766,"display_name":"ave"},"score":0,"creation_date":1676982631,"post_id":75515798,"comment_id":133242967,"body_markdown":"That may be correct if you cannot add Java interfaces corresponding to your XML mapper files.","body":"That may be correct if you cannot add Java interfaces corresponding to your XML mapper files."}],"owner":{"account_id":5111197,"reputation":882,"user_id":4097712,"accept_rate":57,"display_name":"Tonny Tc"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":172,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676946657,"creation_date":1676946657,"question_id":75515798,"body_markdown":"I&#39;m now trying to extend features of an existed production which loads and parses a MyBatis configuration xml file in booting. The new features also have their mapper xml files and a configuration xml file while just add these mapper files together:\r\n\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;!DOCTYPE configuration PUBLIC &quot;-//mybatis.org//DTD Config 3.0//EN&quot; &quot;http://mybatis.org/dtd/mybatis-3-config.dtd&quot;&gt;\r\n&lt;configuration&gt;\r\n    &lt;settings&gt;\r\n        &lt;setting name=&quot;lazyLoadingEnabled&quot; value=&quot;false&quot; /&gt;\r\n    &lt;/settings&gt;\r\n    &lt;mappers&gt;\r\n        &lt;mapper resource=&quot;mapper/a.xml&quot; /&gt;\r\n        &lt;mapper resource=&quot;mapper/b.xml&quot; /&gt;\r\n        &lt;mapper resource=&quot;mapper/c.xml&quot; /&gt;\r\n    &lt;/mappers&gt;\r\n&lt;/configuration&gt;\r\n```\r\n\r\nAnd then, I use `XMLConfigBuilder` class to configurate the new configuration file just as what the existed production does.\r\n\r\n```java\r\nXMLConfigBuilder parser = new XMLConfigBuilder(&lt;configuration file&gt;, &quot;&quot;, properties);\r\nConfiguration configuration = parser.getConfiguration();\r\nconfiguration.setEnvironment(environment);\r\nparser.parse();\r\n```\r\n\r\nHowever, it seem the code does not work at all. So, may I know whether it is possible to add a configuration xml to MyBatis at runtime and how can it do?","title":"Possibility to add a configuration xml to MyBatis at runtime","body":"<p>I'm now trying to extend features of an existed production which loads and parses a MyBatis configuration xml file in booting. The new features also have their mapper xml files and a configuration xml file while just add these mapper files together:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;!DOCTYPE configuration PUBLIC &quot;-//mybatis.org//DTD Config 3.0//EN&quot; &quot;http://mybatis.org/dtd/mybatis-3-config.dtd&quot;&gt;\n&lt;configuration&gt;\n    &lt;settings&gt;\n        &lt;setting name=&quot;lazyLoadingEnabled&quot; value=&quot;false&quot; /&gt;\n    &lt;/settings&gt;\n    &lt;mappers&gt;\n        &lt;mapper resource=&quot;mapper/a.xml&quot; /&gt;\n        &lt;mapper resource=&quot;mapper/b.xml&quot; /&gt;\n        &lt;mapper resource=&quot;mapper/c.xml&quot; /&gt;\n    &lt;/mappers&gt;\n&lt;/configuration&gt;\n</code></pre>\n<p>And then, I use <code>XMLConfigBuilder</code> class to configurate the new configuration file just as what the existed production does.</p>\n<pre class=\"lang-java prettyprint-override\"><code>XMLConfigBuilder parser = new XMLConfigBuilder(&lt;configuration file&gt;, &quot;&quot;, properties);\nConfiguration configuration = parser.getConfiguration();\nconfiguration.setEnvironment(environment);\nparser.parse();\n</code></pre>\n<p>However, it seem the code does not work at all. So, may I know whether it is possible to add a configuration xml to MyBatis at runtime and how can it do?</p>\n"},{"tags":["java","android","button","handler"],"comments":[{"owner":{"account_id":2345668,"reputation":13002,"user_id":2055998,"accept_rate":68,"display_name":"PM 77-1"},"score":0,"creation_date":1676934957,"post_id":75515002,"comment_id":133233679,"body_markdown":"I added `Java` tag. Please replace if my guess is wrong.","body":"I added <code>Java</code> tag. Please replace if my guess is wrong."},{"owner":{"account_id":27184039,"reputation":35,"user_id":20718777,"display_name":"Binbows"},"score":0,"creation_date":1676935758,"post_id":75515002,"comment_id":133233782,"body_markdown":"Thanks.  I should have mentioned it was java","body":"Thanks.  I should have mentioned it was java"},{"owner":{"account_id":1790714,"reputation":91128,"user_id":1631193,"accept_rate":71,"display_name":"Gabe Sechan"},"score":0,"creation_date":1676938135,"post_id":75515002,"comment_id":133234090,"body_markdown":"It&#39;s probably a threading problem.  Your button press code runs on the UI thread,  What thread is the rest of your code running on?  Any checks to state should occur on the same thread they change, or the variables need a semaphore to protect them.","body":"It&#39;s probably a threading problem.  Your button press code runs on the UI thread,  What thread is the rest of your code running on?  Any checks to state should occur on the same thread they change, or the variables need a semaphore to protect them."},{"owner":{"account_id":27184039,"reputation":35,"user_id":20718777,"display_name":"Binbows"},"score":0,"creation_date":1676943728,"post_id":75515002,"comment_id":133234788,"body_markdown":"Everything used to run on the one handler that was created in the main thread.  Now the button chooser and buttons 1-3 run on handler.  Buttons 4-6 run on handler2 and Buttons 7-9 run on handler3.  Handler2 and handler3 were both created on the main thread.","body":"Everything used to run on the one handler that was created in the main thread.  Now the button chooser and buttons 1-3 run on handler.  Buttons 4-6 run on handler2 and Buttons 7-9 run on handler3.  Handler2 and handler3 were both created on the main thread."}],"answers":[{"tags":[],"owner":{"account_id":18463410,"reputation":18363,"user_id":13598222,"display_name":"cactustictacs"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1676946074,"creation_date":1676946074,"answer_id":75515764,"question_id":75515002,"body_markdown":"It&#39;s impossible to say if it&#39;s the issue without testing it (preferably with some logging) but the only time `clicked9` seems to get reset is when you click the button and `clicked9` matches `req9`. But your runnable randomly sets `req9` to either *1* or *2*, so it&#39;s possible that this happens:\r\n\r\n- `clicked9` is 0, `req9` is 2\r\n- `onClick` increments `clicked9`, compares them\r\n- `clicked9` is 1, `req9` is 2 - no match\r\n- the Runnable updates `req9` to 1\r\n- `onClick` increments `clicked9`, compares them\r\n- `clicked9` is 2, `req9` is 1 - no match\r\n\r\nNow you&#39;re in a situation where the next time button 9 is clicked, it&#39;ll increment to **3** - now it will never match `req9` which can never be higher than *2*. And because it never matches, it&#39;ll never be reset. It&#39;s permanently broken.\r\n\r\nOne way you could fix this is to do a validation check - `clicked9` should never be higher than 2, right? That third click should at the very least reset it, maybe trigger a penalty - but that last idea is complicated, because you seem to be switching buttons between &quot;requires single click&quot; and &quot;requires double&quot; randomly while they&#39;re active.\r\n\r\nSo if the player clicks at the wrong time, that &quot;requires double&quot; button they&#39;re double-clicking might turn into a single-click and suddenly that second click is a &quot;mistake&quot;. So you&#39;ll have to decide on your game logic, and handle those &quot;extra clicks&quot; as appropriate. Just make sure it can never enter an invalid state!\r\n\r\n----\r\n\r\nBy the way a `Handler` [is bound to a single thread][1] so there&#39;s no such thing as &quot;using too many threads&quot; on one - it&#39;s just a message queue, you&#39;re not going to overload it!\r\n\r\nUsing a `Handler` based off the main thread is the easiest way to do what you&#39;re doing - if you start trying to add multithreading, you&#39;re introducing complexity and concurrency issues which will absolutely give you problems, and handling those correctly will make it even more complex.\r\n\r\nSo just do what you were originally doing, is my advice - use the main thread, post your runnables to its queue using a single handler, work out where your logic is tripping up with logging or debugging (so you can check the current variable values and see if anything&#39;s going wrong).\r\n\r\n\r\n  [1]: https://developer.android.com/reference/android/os/Handler","title":"Do my buttons randomly malfunction because I&#39;ve overloaded handler?","body":"<p>It's impossible to say if it's the issue without testing it (preferably with some logging) but the only time <code>clicked9</code> seems to get reset is when you click the button and <code>clicked9</code> matches <code>req9</code>. But your runnable randomly sets <code>req9</code> to either <em>1</em> or <em>2</em>, so it's possible that this happens:</p>\n<ul>\n<li><code>clicked9</code> is 0, <code>req9</code> is 2</li>\n<li><code>onClick</code> increments <code>clicked9</code>, compares them</li>\n<li><code>clicked9</code> is 1, <code>req9</code> is 2 - no match</li>\n<li>the Runnable updates <code>req9</code> to 1</li>\n<li><code>onClick</code> increments <code>clicked9</code>, compares them</li>\n<li><code>clicked9</code> is 2, <code>req9</code> is 1 - no match</li>\n</ul>\n<p>Now you're in a situation where the next time button 9 is clicked, it'll increment to <strong>3</strong> - now it will never match <code>req9</code> which can never be higher than <em>2</em>. And because it never matches, it'll never be reset. It's permanently broken.</p>\n<p>One way you could fix this is to do a validation check - <code>clicked9</code> should never be higher than 2, right? That third click should at the very least reset it, maybe trigger a penalty - but that last idea is complicated, because you seem to be switching buttons between &quot;requires single click&quot; and &quot;requires double&quot; randomly while they're active.</p>\n<p>So if the player clicks at the wrong time, that &quot;requires double&quot; button they're double-clicking might turn into a single-click and suddenly that second click is a &quot;mistake&quot;. So you'll have to decide on your game logic, and handle those &quot;extra clicks&quot; as appropriate. Just make sure it can never enter an invalid state!</p>\n<hr />\n<p>By the way a <code>Handler</code> <a href=\"https://developer.android.com/reference/android/os/Handler\" rel=\"nofollow noreferrer\">is bound to a single thread</a> so there's no such thing as &quot;using too many threads&quot; on one - it's just a message queue, you're not going to overload it!</p>\n<p>Using a <code>Handler</code> based off the main thread is the easiest way to do what you're doing - if you start trying to add multithreading, you're introducing complexity and concurrency issues which will absolutely give you problems, and handling those correctly will make it even more complex.</p>\n<p>So just do what you were originally doing, is my advice - use the main thread, post your runnables to its queue using a single handler, work out where your logic is tripping up with logging or debugging (so you can check the current variable values and see if anything's going wrong).</p>\n"}],"owner":{"account_id":27184039,"reputation":35,"user_id":20718777,"display_name":"Binbows"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1676946074,"creation_date":1676934485,"question_id":75515002,"body_markdown":"I&#39;ve made a simple whack-a-mole game with nine buttons.  The buttons start off black.  If they are pressed while black, a mistake is recorded.  The buttons will randomly flash either pale blue or dark blue.  They need to be pressed once while pale blue to record a score.  When dark blue, they need to be pressed twice.\r\n\r\nWhen the buttons are working normally, they will record a point, make a chime sound and turn black when pressed the correct amount of times.  \r\n\r\nFor the duration of a game, one of the nine buttons will randomly malfunction.  It will record mistakes, but not points (nor will they make a sound or turn black).\r\n\r\nI can&#39;t figure out why this is.  If I end the game and reload it, the button will work fine again, but some other button will malfunction.  \r\n\r\nI thought maybe I should have used a button listener instead of onClick, so I changed the code and that didn&#39;t fix the problem.\r\n\r\nMy next guess was that I was putting too many threads on one handler.  I&#39;ve now split 10 threads across three handlers, but that hasn&#39;t fixed the problem either.\r\n\r\nThe message I get in logcat when I press on the malfunctioning button is:\r\n\r\nViewPostIme pointer 0  \r\nViewPostIme pointer 1  \r\n\r\nDoes anyone know why the buttons randomly malfunction?  \r\n\r\nThanks\r\n\r\nThis is the code for each button\r\n```\r\n    button9.setOnClickListener( new View.OnClickListener() {\r\n\r\n        @Override\r\n        public void onClick(View v) {\r\n            if (isFlashing9.get()) {\r\n                clicked9++;\r\n                 //code for when button pressed for correct number of times\r\n                if (clicked9 == req9) {\r\n                    isFlashing9.set(false);\r\n                    button9.setBackgroundColor(Color.rgb(0, 0, 0));\r\n                    streak++;\r\n                    correct();\r\n                    if (streak &gt; bestScore) {\r\n                        bestScore = streak;\r\n                        best.setText(&quot;HI SCORE \\n &quot; + bestScore);\r\n                        saveData();\r\n                    }\r\n                    currentStreak.setText(&quot;SCORE\\n&quot; + streak);\r\n\r\n                    clicked9 = 0;\r\n\r\n                }\r\n            } else {\r\n                playError(); //play error sound\r\n                mistakesSO++;\r\n                mistakes.setText(&quot;MISTAKES \\n&quot; + mistakesSO);\r\n                if (mistakesSO == 3) {\r\n                }\r\n            }           \r\n }\r\n    });\r\n```\r\n\r\nThis is the runnable to change the button colour:\r\n```\r\n     public Runnable B9 = new Runnable() {\r\n    \r\n            public void run() {\r\n                 ender9++;\r\n                timerInt9++;\r\n                if (timerInt9 % 10 == 1) {\r\n                   \r\n                    int colour = ThreadLocalRandom.current().nextInt(1, 3); // sets button colour\r\n                    if (colour == 1) {\r\n                        button9.setBackgroundColor(Color.rgb(78, 162, 245));\r\n                        req9 = 1; // sets number of button presses required\r\n                        isFlashing9.set(true);\r\n                    } else {\r\n                        button9.setBackgroundColor(Color.rgb(56, 98, 173));\r\n                        req9 = 2; // sets number of button presses required\r\n                        isFlashing9.set(true);\r\n                    }\r\n                }\r\n                if (timerInt9 % 10 == 3) {\r\n                    button9.setBackgroundColor(Color.rgb(0, 0, 0)); // resets button to black after it has flashed for 2 seconds.  \r\n                    isFlashing9.set(false);\r\n                    timerInt9 = 110;\r\n                }\r\n                handler3.postDelayed(this, 1000);\r\n                if (ender9 &gt;= 3) {\r\n                    handler3.removeCallbacks(this);\r\n                    ender9=0;\r\n                }\r\n    \r\n            }\r\n        };\r\n```\r\n\r\nThis is the runnable to choose which button flashes:\r\n```\r\npublic Runnable ButtonChooser = new Runnable() {\r\n\r\n    public void run() {\r\n          // sets random time between buttons flashing\r\n        int time = ThreadLocalRandom.current().nextInt(100, 600);\r\n\r\n        //picks the next button to flash\r\n        int which = ThreadLocalRandom.current().nextInt(1, 10);\r\n        if (which ==1){\r\n            if(!isFlashing1.get())handler.postDelayed(B1, 0);\r\n        }\r\n        if (which ==2){\r\n            if(!isFlashing2.get())handler.postDelayed(B2, 0);\r\n        }\r\n        if (which ==3){\r\n            if(!isFlashing3.get())handler.postDelayed(B3, 0);\r\n        }\r\n        if (which ==4){\r\n            if(!isFlashing4.get()) handler2.postDelayed(B4, 0);\r\n        }\r\n        if (which ==5){\r\n            if(!isFlashing5.get())handler2.postDelayed(B5, 0);\r\n        }\r\n        if (which ==6){\r\n            if(!isFlashing6.get())handler2.postDelayed(B6, 0);\r\n        }\r\n        if (which ==7){\r\n            if(!isFlashing7.get())handler3.postDelayed(B7, 0);\r\n        }\r\n        if (which ==8){\r\n            if(!isFlashing8.get())handler3.postDelayed(B8, 0);\r\n        }\r\n        if (which ==9){\r\n            if(!isFlashing9.get())handler3.postDelayed(B9, 0);\r\n        }\r\n        handler.postDelayed(this, time);\r\n\r\n    }\r\n};\r\n```\r\n","title":"Do my buttons randomly malfunction because I&#39;ve overloaded handler?","body":"<p>I've made a simple whack-a-mole game with nine buttons.  The buttons start off black.  If they are pressed while black, a mistake is recorded.  The buttons will randomly flash either pale blue or dark blue.  They need to be pressed once while pale blue to record a score.  When dark blue, they need to be pressed twice.</p>\n<p>When the buttons are working normally, they will record a point, make a chime sound and turn black when pressed the correct amount of times.</p>\n<p>For the duration of a game, one of the nine buttons will randomly malfunction.  It will record mistakes, but not points (nor will they make a sound or turn black).</p>\n<p>I can't figure out why this is.  If I end the game and reload it, the button will work fine again, but some other button will malfunction.</p>\n<p>I thought maybe I should have used a button listener instead of onClick, so I changed the code and that didn't fix the problem.</p>\n<p>My next guess was that I was putting too many threads on one handler.  I've now split 10 threads across three handlers, but that hasn't fixed the problem either.</p>\n<p>The message I get in logcat when I press on the malfunctioning button is:</p>\n<p>ViewPostIme pointer 0<br />\nViewPostIme pointer 1</p>\n<p>Does anyone know why the buttons randomly malfunction?</p>\n<p>Thanks</p>\n<p>This is the code for each button</p>\n<pre><code>    button9.setOnClickListener( new View.OnClickListener() {\n\n        @Override\n        public void onClick(View v) {\n            if (isFlashing9.get()) {\n                clicked9++;\n                 //code for when button pressed for correct number of times\n                if (clicked9 == req9) {\n                    isFlashing9.set(false);\n                    button9.setBackgroundColor(Color.rgb(0, 0, 0));\n                    streak++;\n                    correct();\n                    if (streak &gt; bestScore) {\n                        bestScore = streak;\n                        best.setText(&quot;HI SCORE \\n &quot; + bestScore);\n                        saveData();\n                    }\n                    currentStreak.setText(&quot;SCORE\\n&quot; + streak);\n\n                    clicked9 = 0;\n\n                }\n            } else {\n                playError(); //play error sound\n                mistakesSO++;\n                mistakes.setText(&quot;MISTAKES \\n&quot; + mistakesSO);\n                if (mistakesSO == 3) {\n                }\n            }           \n }\n    });\n</code></pre>\n<p>This is the runnable to change the button colour:</p>\n<pre><code>     public Runnable B9 = new Runnable() {\n    \n            public void run() {\n                 ender9++;\n                timerInt9++;\n                if (timerInt9 % 10 == 1) {\n                   \n                    int colour = ThreadLocalRandom.current().nextInt(1, 3); // sets button colour\n                    if (colour == 1) {\n                        button9.setBackgroundColor(Color.rgb(78, 162, 245));\n                        req9 = 1; // sets number of button presses required\n                        isFlashing9.set(true);\n                    } else {\n                        button9.setBackgroundColor(Color.rgb(56, 98, 173));\n                        req9 = 2; // sets number of button presses required\n                        isFlashing9.set(true);\n                    }\n                }\n                if (timerInt9 % 10 == 3) {\n                    button9.setBackgroundColor(Color.rgb(0, 0, 0)); // resets button to black after it has flashed for 2 seconds.  \n                    isFlashing9.set(false);\n                    timerInt9 = 110;\n                }\n                handler3.postDelayed(this, 1000);\n                if (ender9 &gt;= 3) {\n                    handler3.removeCallbacks(this);\n                    ender9=0;\n                }\n    \n            }\n        };\n</code></pre>\n<p>This is the runnable to choose which button flashes:</p>\n<pre><code>public Runnable ButtonChooser = new Runnable() {\n\n    public void run() {\n          // sets random time between buttons flashing\n        int time = ThreadLocalRandom.current().nextInt(100, 600);\n\n        //picks the next button to flash\n        int which = ThreadLocalRandom.current().nextInt(1, 10);\n        if (which ==1){\n            if(!isFlashing1.get())handler.postDelayed(B1, 0);\n        }\n        if (which ==2){\n            if(!isFlashing2.get())handler.postDelayed(B2, 0);\n        }\n        if (which ==3){\n            if(!isFlashing3.get())handler.postDelayed(B3, 0);\n        }\n        if (which ==4){\n            if(!isFlashing4.get()) handler2.postDelayed(B4, 0);\n        }\n        if (which ==5){\n            if(!isFlashing5.get())handler2.postDelayed(B5, 0);\n        }\n        if (which ==6){\n            if(!isFlashing6.get())handler2.postDelayed(B6, 0);\n        }\n        if (which ==7){\n            if(!isFlashing7.get())handler3.postDelayed(B7, 0);\n        }\n        if (which ==8){\n            if(!isFlashing8.get())handler3.postDelayed(B8, 0);\n        }\n        if (which ==9){\n            if(!isFlashing9.get())handler3.postDelayed(B9, 0);\n        }\n        handler.postDelayed(this, time);\n\n    }\n};\n</code></pre>\n"},{"tags":["java","spring","assertj"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":2,"creation_date":1676961342,"post_id":75515750,"comment_id":133237034,"body_markdown":"`contains` iis for single elements **not** for a full collection of elements. You need `containsAll` for that. This is probably also what the compilation error is telling you (that a list cannot be cast to an array or single element).","body":"<code>contains</code> iis for single elements <b>not</b> for a full collection of elements. You need <code>containsAll</code> for that. This is probably also what the compilation error is telling you (that a list cannot be cast to an array or single element)."}],"owner":{"account_id":25318030,"reputation":25,"user_id":19139804,"display_name":"matt"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676945892,"creation_date":1676945892,"question_id":75515750,"body_markdown":"The `getContent()` method in Spring&#39;s `PagedModel` is able to get all the content from an API response absolutely fine and it is possible to write an assertion that compares the content fetched by `getContent()` `isEqualTo` expected response. This assertion works perfectly fine:\r\n\r\n    public void verify(List&lt;DemoResponse&gt; books) {\r\n    PagedModel&lt;DemoResponse&gt; response = BaseClient.getResponse().as(new TypeRef&lt;&gt;() {\r\n        });\r\n        assertThat(response.getContent()).usingRecursiveFieldByFieldElementComparator()\r\n                .contains(books);\r\n    }\r\n\r\nWhat if I like to assert that the expected response is contained in `getContent()`, instead of equal to it?\r\n\r\nIt tried this:\r\n\r\n    public void verify(List&lt;DemoResponse&gt; books) {\r\n    PagedModel&lt;DemoResponse&gt; response = BaseClient.getResponse().as(new TypeRef&lt;&gt;() {\r\n        });\r\n        assertThat(response.getContent()).usingRecursiveFieldByFieldElementComparator()\r\n                .contains(books); // books cannot be resolved \r\n    }\r\n\r\nAll of a sudden, with `contains` method, the expected response `books` cannot be compiled. The issue looks like a data type conversion issue, but I am not sure how to convert the data type so that `contains` method can be allowed","title":"Can AssertJ&#39;s contains method work with spring&#39;s PagedModel - getContent()?","body":"<p>The <code>getContent()</code> method in Spring's <code>PagedModel</code> is able to get all the content from an API response absolutely fine and it is possible to write an assertion that compares the content fetched by <code>getContent()</code> <code>isEqualTo</code> expected response. This assertion works perfectly fine:</p>\n<pre><code>public void verify(List&lt;DemoResponse&gt; books) {\nPagedModel&lt;DemoResponse&gt; response = BaseClient.getResponse().as(new TypeRef&lt;&gt;() {\n    });\n    assertThat(response.getContent()).usingRecursiveFieldByFieldElementComparator()\n            .contains(books);\n}\n</code></pre>\n<p>What if I like to assert that the expected response is contained in <code>getContent()</code>, instead of equal to it?</p>\n<p>It tried this:</p>\n<pre><code>public void verify(List&lt;DemoResponse&gt; books) {\nPagedModel&lt;DemoResponse&gt; response = BaseClient.getResponse().as(new TypeRef&lt;&gt;() {\n    });\n    assertThat(response.getContent()).usingRecursiveFieldByFieldElementComparator()\n            .contains(books); // books cannot be resolved \n}\n</code></pre>\n<p>All of a sudden, with <code>contains</code> method, the expected response <code>books</code> cannot be compiled. The issue looks like a data type conversion issue, but I am not sure how to convert the data type so that <code>contains</code> method can be allowed</p>\n"},{"tags":["java","spring","jsp","session"],"owner":{"account_id":27837413,"reputation":1,"user_id":21254565,"display_name":"buJeong"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":19,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676945297,"creation_date":1676945297,"question_id":75515705,"body_markdown":"I am a Korean developer and I ask a question through a translator.\r\n\r\nAfter authentication, the session is intermittently lost.\r\nIt occurs in multiple types of android, ios, mac, and windows, and mainly occurs in android.\r\nHave you had similar symptoms or do you have any guesses?\r\n\r\n\r\nThe point of loss occurs at the jsp that receives the authentication result.\r\n\r\nI have fixed the issue with session loss, but I have not been able to figure out what caused the session to be lost.\r\n\r\n\r\nI checked if it was caused by a distributed server, but it was confirmed that the loss also occurred within the same server.","title":"Session loss occurs intermittently","body":"<p>I am a Korean developer and I ask a question through a translator.</p>\n<p>After authentication, the session is intermittently lost.\nIt occurs in multiple types of android, ios, mac, and windows, and mainly occurs in android.\nHave you had similar symptoms or do you have any guesses?</p>\n<p>The point of loss occurs at the jsp that receives the authentication result.</p>\n<p>I have fixed the issue with session loss, but I have not been able to figure out what caused the session to be lost.</p>\n<p>I checked if it was caused by a distributed server, but it was confirmed that the loss also occurred within the same server.</p>\n"},{"tags":["java","xbrl"],"answers":[{"tags":[],"owner":{"account_id":106772,"reputation":7009,"user_id":284285,"display_name":"Ghislain Fourny"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1504622240,"creation_date":1504622240,"answer_id":46057630,"question_id":46052299,"body_markdown":"Using an existing XBRL processor is a good idea as it saves you the (considerable) efforts of interpreting the XBRL semantics at a raw syntactic level.\r\n\r\nFrom the top of my mind, I know of at least the following products that offer a Java API, in a random order. I have no affiliation with either and abstain from commenting further to not land into a taste/preference discussion.\r\n\r\n- Reporting Standard: http://www.reportingstandard.com/index.php/en/\r\n- CoreFiling: https://www.corefiling.com/\r\n\r\nThere are probably many more, possibly also open source. XBRL.org has a much more comprehensive [list of vendors here][1] as well as a [getting started guide for developers][2].\r\n\r\n\r\n  [1]: https://www.xbrl.org/the-standard/how/tools-and-services/\r\n  [2]: https://www.xbrl.org/the-standard/how/getting-started-for-developers/","title":"Library for analyzing xbrl files in java","body":"<p>Using an existing XBRL processor is a good idea as it saves you the (considerable) efforts of interpreting the XBRL semantics at a raw syntactic level.</p>\n\n<p>From the top of my mind, I know of at least the following products that offer a Java API, in a random order. I have no affiliation with either and abstain from commenting further to not land into a taste/preference discussion.</p>\n\n<ul>\n<li>Reporting Standard: <a href=\"http://www.reportingstandard.com/index.php/en/\" rel=\"nofollow noreferrer\">http://www.reportingstandard.com/index.php/en/</a></li>\n<li>CoreFiling: <a href=\"https://www.corefiling.com/\" rel=\"nofollow noreferrer\">https://www.corefiling.com/</a></li>\n</ul>\n\n<p>There are probably many more, possibly also open source. XBRL.org has a much more comprehensive <a href=\"https://www.xbrl.org/the-standard/how/tools-and-services/\" rel=\"nofollow noreferrer\">list of vendors here</a> as well as a <a href=\"https://www.xbrl.org/the-standard/how/getting-started-for-developers/\" rel=\"nofollow noreferrer\">getting started guide for developers</a>.</p>\n"},{"tags":[],"owner":{"account_id":22723419,"reputation":11,"user_id":16887583,"display_name":"Mayank"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676944213,"creation_date":1676944213,"answer_id":75515640,"question_id":46052299,"body_markdown":"I was able to parse Xbrl files from XbrlParser project [here](https://github.com/marcioalexandre/XbrlParser). \r\n\r\nCredits: https://github.com/marcioalexandre","title":"Library for analyzing xbrl files in java","body":"<p>I was able to parse Xbrl files from XbrlParser project <a href=\"https://github.com/marcioalexandre/XbrlParser\" rel=\"nofollow noreferrer\">here</a>.</p>\n<p>Credits: <a href=\"https://github.com/marcioalexandre\" rel=\"nofollow noreferrer\">https://github.com/marcioalexandre</a></p>\n"}],"owner":{"account_id":6839270,"reputation":373,"user_id":5260182,"accept_rate":67,"display_name":"Marcus Persson"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2932,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"closed_date":1676957689,"answer_count":2,"score":2,"last_activity_date":1676944213,"creation_date":1504605940,"question_id":46052299,"body_markdown":"I&#39;m trying to figure out how to: read xbrl files, analyze the files and make use of the data e.g. for calculating key figures, in Java.\r\n\r\nI know how to read xbrl files as xml and structuring them with json nodes, but I have concluded that it&#39;s much more complicated to actually analyze them and use the data. I figured out that tags and attributes like &quot;context id&quot;, &quot;period&quot; and &quot;dimenson&quot; etc determines how data is wired together.\r\n\r\nNow, I&#39;m not going to implement my own xbrl processor from scratch, because I simply don&#39;t have the time and knowledge to do that.\r\n\r\nI&#39;m looking for a Java library, including documentation and/or guides on how to use it, that processes xbrl files and that can be used to analyze and extract data.\r\n\r\nI searched the web and read a few articles about how to get started, but I didn&#39;t quite find something that seemed very useful.\r\n\r\nAny suggestions? I would really appreciate if someone could point me in the right direction.","title":"Library for analyzing xbrl files in java","body":"<p>I'm trying to figure out how to: read xbrl files, analyze the files and make use of the data e.g. for calculating key figures, in Java.</p>\n\n<p>I know how to read xbrl files as xml and structuring them with json nodes, but I have concluded that it's much more complicated to actually analyze them and use the data. I figured out that tags and attributes like \"context id\", \"period\" and \"dimenson\" etc determines how data is wired together.</p>\n\n<p>Now, I'm not going to implement my own xbrl processor from scratch, because I simply don't have the time and knowledge to do that.</p>\n\n<p>I'm looking for a Java library, including documentation and/or guides on how to use it, that processes xbrl files and that can be used to analyze and extract data.</p>\n\n<p>I searched the web and read a few articles about how to get started, but I didn't quite find something that seemed very useful.</p>\n\n<p>Any suggestions? I would really appreciate if someone could point me in the right direction.</p>\n"},{"tags":["java","multithreading","lwjgl","openal"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1676953121,"post_id":75515607,"comment_id":133235825,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"owner":{"account_id":19103895,"reputation":19,"user_id":13951505,"display_name":"Brahvim"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":71,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676943609,"creation_date":1676943609,"question_id":75515607,"body_markdown":"Is using `alcMakeContextCurrent()` to use different OpenAL contexts across threads, going to ensure that each call on those threads, will always refer to the same context? If not, can we &#39;simulate&#39; this?\r\n\r\nI know that APIs like OpenAL and OpenGL are *mostly* (if not entirely) for single-threaded use, but I felt like asking about its &quot;thread safety model&quot;.\r\n\r\nI *have* heard somewhere that OpenAL operations are atomic, but to me, this doesn&#39;t mean that a context or device handle/object would be &#39;locked&#39; for use in any manner. I&#39;m writing in Java, to wrap LWJGL&#39;s OpenAL API, if knowing this helps!","title":"OpenAL thread safety","body":"<p>Is using <code>alcMakeContextCurrent()</code> to use different OpenAL contexts across threads, going to ensure that each call on those threads, will always refer to the same context? If not, can we 'simulate' this?</p>\n<p>I know that APIs like OpenAL and OpenGL are <em>mostly</em> (if not entirely) for single-threaded use, but I felt like asking about its &quot;thread safety model&quot;.</p>\n<p>I <em>have</em> heard somewhere that OpenAL operations are atomic, but to me, this doesn't mean that a context or device handle/object would be 'locked' for use in any manner. I'm writing in Java, to wrap LWJGL's OpenAL API, if knowing this helps!</p>\n"},{"tags":["java","multithreading","apache-kafka","kafka-producer-api"],"comments":[{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1676558578,"post_id":75469937,"comment_id":133164350,"body_markdown":"The KafkaProducer class is threadsafe, so it only needs one... You&#39;ll have to look at jmeter source code to see why more are used","body":"The KafkaProducer class is threadsafe, so it only needs one... You&#39;ll have to look at jmeter source code to see why more are used"}],"answers":[{"tags":[],"owner":{"account_id":60171,"reputation":115485,"user_id":179850,"accept_rate":100,"display_name":"Gray"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676942415,"creation_date":1676942415,"answer_id":75515538,"question_id":75469937,"body_markdown":"&gt; I could not understand this as I am using two brokers and here 3 messages are getting processed through kafka (2 in blocking queue, 1 in thread), then how 4 producer threads got spun up?\r\n\r\nMy general feeling is that you shouldn&#39;t have to worry about how many threads the Kafka API uses.  Threads are relatively cheap and the Kafka code is just trying to be efficient with its communications.  If you have a single Kafka Producer object then I&#39;m surprised there are 4 threads but it may be making a connection to each broker and may have a read and write thread for each.  Looking at the stack trace for each thread might cue you into what they are doing.  You can also look at the [Kafka code][1] might also help.\r\n\r\n&gt;  I triggered 10 requests through Jmeter and 7 of these requests went to rejection handler (as expected) and 3 went to be processed for kafka queue.\r\n\r\nTypically I add a rejection handler which blocks.  See [my answer here][2].  This will block your request handler depending on how many threads are in your pool. \r\n\r\n  [1]: https://github.com/apache/kafka\r\n  [2]: https://stackoverflow.com/a/44658960/179850","title":"Multiple kafka producer threads getting spawn","body":"<blockquote>\n<p>I could not understand this as I am using two brokers and here 3 messages are getting processed through kafka (2 in blocking queue, 1 in thread), then how 4 producer threads got spun up?</p>\n</blockquote>\n<p>My general feeling is that you shouldn't have to worry about how many threads the Kafka API uses.  Threads are relatively cheap and the Kafka code is just trying to be efficient with its communications.  If you have a single Kafka Producer object then I'm surprised there are 4 threads but it may be making a connection to each broker and may have a read and write thread for each.  Looking at the stack trace for each thread might cue you into what they are doing.  You can also look at the <a href=\"https://github.com/apache/kafka\" rel=\"nofollow noreferrer\">Kafka code</a> might also help.</p>\n<blockquote>\n<p>I triggered 10 requests through Jmeter and 7 of these requests went to rejection handler (as expected) and 3 went to be processed for kafka queue.</p>\n</blockquote>\n<p>Typically I add a rejection handler which blocks.  See <a href=\"https://stackoverflow.com/a/44658960/179850\">my answer here</a>.  This will block your request handler depending on how many threads are in your pool.</p>\n"}],"owner":{"account_id":25454974,"reputation":41,"user_id":19313923,"display_name":"Prakhar"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":177,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1676942415,"creation_date":1676538402,"question_id":75469937,"body_markdown":"I am new to kafka. I have two kafka brokers and I am trying to push data through these two brokers. One is primary and other one is backup. \r\n\r\nI am doing a small analysis in which I am pushing data to kafka queue through a thread pool executor. While doing so, I kept max pool size as 1 and size of array blocking queue as 2. I triggered 10 requests through Jmeter and 7 of these requests went to rejection handler (as expected) and 3 went to be processed for kafka queue.\r\n\r\nTook a thread dump to analyse state of kafka threads, 4 producer threads were spun up for kafka producer. \r\n\r\nI could not understand this as I am using two brokers and here 3 messages are getting processed through kafka (2 in blocking queue, 1 in thread), then how 4 producer threads got spun up?\r\n\r\nPS : I cannot share code piece here due to security concerns.","title":"Multiple kafka producer threads getting spawn","body":"<p>I am new to kafka. I have two kafka brokers and I am trying to push data through these two brokers. One is primary and other one is backup.</p>\n<p>I am doing a small analysis in which I am pushing data to kafka queue through a thread pool executor. While doing so, I kept max pool size as 1 and size of array blocking queue as 2. I triggered 10 requests through Jmeter and 7 of these requests went to rejection handler (as expected) and 3 went to be processed for kafka queue.</p>\n<p>Took a thread dump to analyse state of kafka threads, 4 producer threads were spun up for kafka producer.</p>\n<p>I could not understand this as I am using two brokers and here 3 messages are getting processed through kafka (2 in blocking queue, 1 in thread), then how 4 producer threads got spun up?</p>\n<p>PS : I cannot share code piece here due to security concerns.</p>\n"},{"tags":["java","maven","codenameone"],"comments":[{"owner":{"account_id":394396,"reputation":52134,"user_id":756809,"accept_rate":89,"display_name":"Shai Almog"},"score":0,"creation_date":1676950142,"post_id":75515535,"comment_id":133235536,"body_markdown":"There seems to be a problem with your CSS file. I&#39;m assuming the specific problem is listed above this error message in the error logs. Can you include the full error log?\nWhat&#39;s in the css file?","body":"There seems to be a problem with your CSS file. I&#39;m assuming the specific problem is listed above this error message in the error logs. Can you include the full error log? What&#39;s in the css file?"},{"owner":{"account_id":394396,"reputation":52134,"user_id":756809,"accept_rate":89,"display_name":"Shai Almog"},"score":0,"creation_date":1677035450,"post_id":75515535,"comment_id":133256417,"body_markdown":"Also make sure you&#39;re using JDK 11 and not newer...","body":"Also make sure you&#39;re using JDK 11 and not newer..."},{"owner":{"account_id":4343184,"reputation":140,"user_id":3545924,"display_name":"Synapsido"},"score":0,"creation_date":1677118720,"post_id":75515535,"comment_id":133276639,"body_markdown":"I have no edit the css theme file, and my java -version: openjdk version &quot;11.0.17&quot; 2022-10-18","body":"I have no edit the css theme file, and my java -version: openjdk version &quot;11.0.17&quot; 2022-10-18"},{"owner":{"account_id":394396,"reputation":52134,"user_id":756809,"accept_rate":89,"display_name":"Shai Almog"},"score":0,"creation_date":1677124470,"post_id":75515535,"comment_id":133277278,"body_markdown":"Weird, is there any additional information in the build logs above this?","body":"Weird, is there any additional information in the build logs above this?"}],"owner":{"account_id":4343184,"reputation":140,"user_id":3545924,"display_name":"Synapsido"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":80,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1676942393,"creation_date":1676942393,"question_id":75515535,"body_markdown":"   Trying to run CN1 test application configured and downloaded from the CN1 initializr https://start.codenameone.com/ for first run using the command: `./run.sh` on Ubuntu 20.04.5 I got this error:\r\n\r\n``` \r\n[ERROR] Failed to execute goal com.codenameone:codenameone-maven-plugin:7.0.86:css (cn1-process-classes) on project testapi-common: An error occurred while compiling the CSS files.  Inputs: /home/mabook/Documentos/testapi/common/src/main/css/theme.css, output: /home/mabook/Documentos/testapi/common/target/classes/theme.res, merge file: /home/mabook/Documentos/testapi/common/target/css/theme.css -&gt; [Help 1]\r\norg.apache.maven.lifecycle.LifecycleExecutionException: Failed to execute goal com.codenameone:codenameone-maven-plugin:7.0.86:css (cn1-process-classes) on project testapi-common: An error occurred while compiling the CSS files.  Inputs: /home/mabook/Documentos/testapi/common/src/main/css/theme.css, output: /home/mabook/Documentos/testapi/common/target/classes/theme.res, merge file: /home/mabook/Documentos/testapi/common/target/css/theme.css\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:215)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:156)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:148)\r\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:117)\r\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:81)\r\n    at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:56)\r\n    at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:128)\r\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:305)\r\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:192)\r\n    at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:105)\r\n    at org.apache.maven.cli.MavenCli.execute (MavenCli.java:957)\r\n    at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:289)\r\n    at org.apache.maven.cli.MavenCli.main (MavenCli.java:193)\r\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\r\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:62)\r\n    at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\r\n    at java.lang.reflect.Method.invoke (Method.java:566)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:282)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:225)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:406)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:347)\r\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\r\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:62)\r\n    at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\r\n    at java.lang.reflect.Method.invoke (Method.java:566)\r\n    at org.apache.maven.wrapper.BootstrapMainStarter.start (BootstrapMainStarter.java:39)\r\n    at org.apache.maven.wrapper.WrapperExecutor.execute (WrapperExecutor.java:122)\r\n    at org.apache.maven.wrapper.MavenWrapperMain.main (MavenWrapperMain.java:61)\r\n[ERROR] \r\n[ERROR] Re-run Maven using the -X switch to enable full debug logging.\r\n[ERROR] \r\n[ERROR] For more information about the errors and possible solutions, please read the following articles:\r\n[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoExecutionException\r\n[ERROR] \r\n[ERROR] After correcting the problems, you can resume the build with the command\r\n[ERROR]   mvn &lt;args&gt; -rf :testapi-common\r\n```\r\n**There is no documentation about how to solve this...!!!**","title":"Unable to run CN1 project","body":"<p>Trying to run CN1 test application configured and downloaded from the CN1 initializr <a href=\"https://start.codenameone.com/\" rel=\"nofollow noreferrer\">https://start.codenameone.com/</a> for first run using the command: <code>./run.sh</code> on Ubuntu 20.04.5 I got this error:</p>\n<pre><code>[ERROR] Failed to execute goal com.codenameone:codenameone-maven-plugin:7.0.86:css (cn1-process-classes) on project testapi-common: An error occurred while compiling the CSS files.  Inputs: /home/mabook/Documentos/testapi/common/src/main/css/theme.css, output: /home/mabook/Documentos/testapi/common/target/classes/theme.res, merge file: /home/mabook/Documentos/testapi/common/target/css/theme.css -&gt; [Help 1]\norg.apache.maven.lifecycle.LifecycleExecutionException: Failed to execute goal com.codenameone:codenameone-maven-plugin:7.0.86:css (cn1-process-classes) on project testapi-common: An error occurred while compiling the CSS files.  Inputs: /home/mabook/Documentos/testapi/common/src/main/css/theme.css, output: /home/mabook/Documentos/testapi/common/target/classes/theme.res, merge file: /home/mabook/Documentos/testapi/common/target/css/theme.css\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:215)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:156)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:148)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:117)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:81)\n    at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:56)\n    at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:128)\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:305)\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:192)\n    at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:105)\n    at org.apache.maven.cli.MavenCli.execute (MavenCli.java:957)\n    at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:289)\n    at org.apache.maven.cli.MavenCli.main (MavenCli.java:193)\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:62)\n    at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke (Method.java:566)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:282)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:225)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:406)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:347)\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:62)\n    at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke (Method.java:566)\n    at org.apache.maven.wrapper.BootstrapMainStarter.start (BootstrapMainStarter.java:39)\n    at org.apache.maven.wrapper.WrapperExecutor.execute (WrapperExecutor.java:122)\n    at org.apache.maven.wrapper.MavenWrapperMain.main (MavenWrapperMain.java:61)\n[ERROR] \n[ERROR] Re-run Maven using the -X switch to enable full debug logging.\n[ERROR] \n[ERROR] For more information about the errors and possible solutions, please read the following articles:\n[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoExecutionException\n[ERROR] \n[ERROR] After correcting the problems, you can resume the build with the command\n[ERROR]   mvn &lt;args&gt; -rf :testapi-common\n</code></pre>\n<p><strong>There is no documentation about how to solve this...!!!</strong></p>\n"},{"tags":["java","spring-boot","javers"],"owner":{"account_id":4146531,"reputation":451,"user_id":3400076,"display_name":"xxestter"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676942288,"creation_date":1676888985,"question_id":75508080,"body_markdown":"my issue is when the code goes to the javers.commit(), it won&#39;t update the modifiedDate field in the jv_snapshot mongodb index. Can anyone please advise?\r\nI have a endpoint which will call the `UserRepoCustomImpl.updateUserDetails()` to update the user details fields in the MongoDB and use JaVers to keep track as audit. But I noticed that modifiedDate won&#39;t update when it calls `javers.commit`. \r\n\r\n\r\n&gt; javers.commit(userDetail.getId(), userDetail); //The issue is here,\r\n&gt; the modifiedDate isn&#39;t updated.\r\n\r\n\r\n\r\n    @Configuration\r\n    public class MongoConfig{\r\n    \t@Bean\r\n    \tpublic Javers javers(MongoClient mongoClient){\r\n    \t\tMongoRepository mongoRepo = new MongoRepository(mongoClient.getDatabase(&quot;test&quot;));\r\n    \t\treturn JaversBuilder.javers()\r\n    \t\t\t.registerJaversRepository(mongoRepo).build();\r\n    \t\t\r\n    \t}\r\n    }\r\n\r\n\r\n    public class UserDetail{\r\n    \t@Id\r\n    \tprivate String id;\r\n    \t\r\n    \tprivate String name;\r\n    \tprivate String address;\r\n    \tprivate int age;\r\n    \t\r\n    \t@CreatedBy\r\n    \tprivate User createdBy;\r\n    \t\r\n    \t@CreatedDate\r\n    \tprivate DateTime createdDateTime;\r\n    \t\r\n    \t@LastModifiedBy\r\n    \tprivate User modifiedBy;\r\n    \t\r\n    \t@LastModifiedDate\r\n    \tprivate DateTime modifiedDate;\r\n    \t\r\n    \tprivate String status;\r\n    }\r\n    \r\n    \r\n    @Service\r\n    private class UserService{\r\n    \tpublic void updateUserDetails(){\r\n    \t\r\n    \t}\r\n    }\r\n    \r\n    public interface UserRepoCustom{\r\n    \tvoid updateUserDetails(UserDetail userDetail, boolean updateStatus);\r\n    }\r\n    \r\n    public class UserRepoCustomImpl implements  UserRepoCustom{\r\n    \t@Autowired \r\n    \tJavers javers;\r\n    \r\n    \t@Override\r\n    \tpublic void updateUserDetails(UserDetail userDetail, boolean updateStatus){\r\n    \t\t//some logic to use the updateStatus value\r\n    \t\t\r\n    \t\tQuery query = new Query().addCriteria(where(&quot;_id&quot;).is(userDetail.getId()));\r\n    \t\tUpdate update = new Update();\r\n    \t\tupdate.set(....);//do all the set from userDetail\r\n    \t\t\r\n    \t\tmongoTemplate.updateFirst(query, update, UserDetail.class);\r\n    \t\tjavers.commit(userDetail.getId(), userDetail); //The issue is here, the modifiedDate isn&#39;t updated.\r\n    \t\r\n    \t}\r\n    }","title":"javers commit() unable to save @LastModifiedDate","body":"<p>my issue is when the code goes to the javers.commit(), it won't update the modifiedDate field in the jv_snapshot mongodb index. Can anyone please advise?\nI have a endpoint which will call the <code>UserRepoCustomImpl.updateUserDetails()</code> to update the user details fields in the MongoDB and use JaVers to keep track as audit. But I noticed that modifiedDate won't update when it calls <code>javers.commit</code>.</p>\n<blockquote>\n<p>javers.commit(userDetail.getId(), userDetail); //The issue is here,\nthe modifiedDate isn't updated.</p>\n</blockquote>\n<pre><code>@Configuration\npublic class MongoConfig{\n    @Bean\n    public Javers javers(MongoClient mongoClient){\n        MongoRepository mongoRepo = new MongoRepository(mongoClient.getDatabase(&quot;test&quot;));\n        return JaversBuilder.javers()\n            .registerJaversRepository(mongoRepo).build();\n        \n    }\n}\n\n\npublic class UserDetail{\n    @Id\n    private String id;\n    \n    private String name;\n    private String address;\n    private int age;\n    \n    @CreatedBy\n    private User createdBy;\n    \n    @CreatedDate\n    private DateTime createdDateTime;\n    \n    @LastModifiedBy\n    private User modifiedBy;\n    \n    @LastModifiedDate\n    private DateTime modifiedDate;\n    \n    private String status;\n}\n\n\n@Service\nprivate class UserService{\n    public void updateUserDetails(){\n    \n    }\n}\n\npublic interface UserRepoCustom{\n    void updateUserDetails(UserDetail userDetail, boolean updateStatus);\n}\n\npublic class UserRepoCustomImpl implements  UserRepoCustom{\n    @Autowired \n    Javers javers;\n\n    @Override\n    public void updateUserDetails(UserDetail userDetail, boolean updateStatus){\n        //some logic to use the updateStatus value\n        \n        Query query = new Query().addCriteria(where(&quot;_id&quot;).is(userDetail.getId()));\n        Update update = new Update();\n        update.set(....);//do all the set from userDetail\n        \n        mongoTemplate.updateFirst(query, update, UserDetail.class);\n        javers.commit(userDetail.getId(), userDetail); //The issue is here, the modifiedDate isn't updated.\n    \n    }\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","hibernate","spring-data-jpa"],"answers":[{"tags":[],"owner":{"account_id":27633394,"reputation":156,"user_id":21091805,"display_name":"2MuchC0ff33"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1676942106,"creation_date":1676942106,"answer_id":75515518,"question_id":75515497,"body_markdown":"Both techniques have advantages and disadvantages, and which one is preferable depends on the unique needs of your application. A projection class is a smart choice when you need to extract a subset of columns from a database without loading the entire entity with all of its connections and relationships. This technique provides advantages such as lower memory utilisation, increased speed, simpler mapping, and more flexible querying. If you need greater query freedom and don&#39;t mind producing an incomplete object, developing a custom JPA entity is preferable.","title":"Best way to read from a table without having a mapped JPA entity?","body":"<p>Both techniques have advantages and disadvantages, and which one is preferable depends on the unique needs of your application. A projection class is a smart choice when you need to extract a subset of columns from a database without loading the entire entity with all of its connections and relationships. This technique provides advantages such as lower memory utilisation, increased speed, simpler mapping, and more flexible querying. If you need greater query freedom and don't mind producing an incomplete object, developing a custom JPA entity is preferable.</p>\n"}],"owner":{"account_id":9684898,"reputation":83,"user_id":7185115,"display_name":"Smoke HHH"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":420,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1676994151,"accepted_answer_id":75515518,"answer_count":1,"score":-1,"last_activity_date":1676942106,"creation_date":1676941778,"question_id":75515497,"body_markdown":"I have a Table `PRODUCTS` in the database that I need to read from. The table contains many columns but I only need 2 of them in my response. I don&#39;t want to create a full 1 to 1 `Entity` class for this table since it wouldn&#39;t make much sense. There are 2 ways that I have found on how to do it:\r\n\r\n1) Create a projection class:\r\n```\r\n@Data\r\npublic class Product {\r\n\tprivate Long productId;\r\n\tprivate String productLabel;\r\n}\r\n```\r\nTo read from this I used this method:\r\n```\r\n\tpublic List&lt;Product&gt; findAll() {\r\n\t\tvar queryString = &quot;SELECT product_id, product_label FROM PRODUCTS&quot;;\r\n\r\n\t\tStream&lt;Tuple&gt; resultStream = entityManager.createNativeQuery(queryString, Tuple.class).getResultStream();\r\n\r\n\t\treturn resultStream.map(tuple -&gt; {\r\n\t\t\tProduct product = new Product ();\r\n\t\t\tproduct.setProductId((Long) tuple.get(&quot;product_id&quot;));\r\n\t\t\tproduct.setProductLabel((String) tuple.get(&quot;product_label&quot;));\r\n\r\n\t\t\treturn product;\r\n\t\t}).collect(Collectors.toList());\r\n\t}\r\n```\r\n\r\n2) Second way I have seen suggested is to create my own JPA entity where I only have the 2 columns I need and use the usual `JPA` approach to read from it (so without using `nativeQuery`). This seems a bit problematic to me because I am creating an incomplete entity (meaning that I do not map all the existing columns to attributes).\r\n\r\nI was curious as to which one of this 2 ways might be better to use. \r\n\r\n\r\n*Note*: I will also mention I can&#39;t use any `JDBC` stuff like `JdbcTemplate` for this.","title":"Best way to read from a table without having a mapped JPA entity?","body":"<p>I have a Table <code>PRODUCTS</code> in the database that I need to read from. The table contains many columns but I only need 2 of them in my response. I don't want to create a full 1 to 1 <code>Entity</code> class for this table since it wouldn't make much sense. There are 2 ways that I have found on how to do it:</p>\n<ol>\n<li>Create a projection class:</li>\n</ol>\n<pre><code>@Data\npublic class Product {\n    private Long productId;\n    private String productLabel;\n}\n</code></pre>\n<p>To read from this I used this method:</p>\n<pre><code>    public List&lt;Product&gt; findAll() {\n        var queryString = &quot;SELECT product_id, product_label FROM PRODUCTS&quot;;\n\n        Stream&lt;Tuple&gt; resultStream = entityManager.createNativeQuery(queryString, Tuple.class).getResultStream();\n\n        return resultStream.map(tuple -&gt; {\n            Product product = new Product ();\n            product.setProductId((Long) tuple.get(&quot;product_id&quot;));\n            product.setProductLabel((String) tuple.get(&quot;product_label&quot;));\n\n            return product;\n        }).collect(Collectors.toList());\n    }\n</code></pre>\n<ol start=\"2\">\n<li>Second way I have seen suggested is to create my own JPA entity where I only have the 2 columns I need and use the usual <code>JPA</code> approach to read from it (so without using <code>nativeQuery</code>). This seems a bit problematic to me because I am creating an incomplete entity (meaning that I do not map all the existing columns to attributes).</li>\n</ol>\n<p>I was curious as to which one of this 2 ways might be better to use.</p>\n<p><em>Note</em>: I will also mention I can't use any <code>JDBC</code> stuff like <code>JdbcTemplate</code> for this.</p>\n"},{"tags":["java","openssl","keytool","pkcs#12"],"comments":[{"owner":{"account_id":21147814,"reputation":11,"user_id":15548759,"display_name":"MarmaladeCat"},"score":0,"creation_date":1676940676,"post_id":75507202,"comment_id":133234415,"body_markdown":"I update my openssl to version 1.1.1t 2023. This problem disappears.","body":"I update my openssl to version 1.1.1t 2023. This problem disappears."}],"owner":{"account_id":21147814,"reputation":11,"user_id":15548759,"display_name":"MarmaladeCat"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":493,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1676941066,"creation_date":1676883936,"question_id":75507202,"body_markdown":"OpenSSL 1.0.2k-fips\r\n\r\nopenjdk-17.0.1\r\n\r\n\r\nI use Openssl to generate PKCS12 file. My java keystore canot read it.\r\n\r\nMy openssl cmds:(rootca.key is privatekey and rootca.crt is selfSigned certificate.)\r\n\r\n`openssl req -new -newkey ec -pkeyopt ec_paramgen_curve:prime256v1 -nodes -keyout out.key -out out.csr -subj /C=CN/CN=-1040310296`\r\n\r\n`openssl x509 -req -CA rootca.crt -CAkey rootca.key -days 365 -in out.csr -out out.crt -CAcreateserial -extensions v3_ca -extfile ./openssl.cnf`\r\n\r\n`openssl pkcs12 -export -in out.crt -inkey out.key -chain -CAfile rootca.crt -name server -out out.p12 -password pass:Ff5evzT0tr`\r\n\r\nWhen i use my java programme to read this PKCS12 file, exceptions caught:\r\n\r\n\r\nJava code:\r\n\r\n```\r\nKeyStore ks = KeyStore.getInstance(&quot;PKCS12&quot;);\r\nks.load(p12keyI, &quot;Ff5evzT0tr&quot;.toCharArray());\r\n```\r\n\r\nExceptions:\r\n```\r\njava.io.IOException: Tag number over 30 is not supported\r\n        at java.base/sun.security.util.DerValue.&lt;init&gt;(DerValue.java:414)\r\n        at java.base/sun.security.util.DerValue.&lt;init&gt;(DerValue.java:459)\r\n        at java.base/sun.security.pkcs12.PKCS12KeyStore.engineLoad(PKCS12KeyStore.java:2012)\r\n        at java.base/sun.security.util.KeyStoreDelegator.engineLoad(KeyStoreDelegator.java:221)\r\n        at java.base/java.security.KeyStore.load(KeyStore.java:1473)\r\n```\r\n\r\n\r\n\r\n\r\nI can read it by openssl cmd:\r\n`openssl pkcs12 -in out.p12 -password pass:Ff5evzT0tr -info -nodes `\r\n\r\nI canot read it by java programme and keytool cmd:\r\n`keytool -list -v -storetype PKCS12 -keystore output.p12 -storepass Ff5evzT0tr`\r\n```\r\nkeytool error: java.io.IOException: keystore password was incorrect\r\njava.io.IOException: keystore password was incorrect\r\n        at java.base/sun.security.pkcs12.PKCS12KeyStore.engineLoad(PKCS12KeyStore.java:2159)\r\n        at java.base/sun.security.util.KeyStoreDelegator.engineLoad(KeyStoreDelegator.java:221)\r\n        at java.base/java.security.KeyStore.load(KeyStore.java:1473)\r\n        at java.base/sun.security.tools.keytool.Main.doCommands(Main.java:946)\r\n        at java.base/sun.security.tools.keytool.Main.run(Main.java:415)\r\n        at java.base/sun.security.tools.keytool.Main.main(Main.java:408)\r\nCaused by: java.security.UnrecoverableKeyException: failed to decrypt safe contents entry: java.security.cert.CertificateParsingException: java.io.IOException: Only named ECParameters supported\r\n        ... 6 more\r\n```\r\n\r\nI wanna to know what cause this problem and how to fix it.\r\nThx all\r\n","title":"Why my PKCS#12 (generated by openssl) canot be read by java","body":"<p>OpenSSL 1.0.2k-fips</p>\n<p>openjdk-17.0.1</p>\n<p>I use Openssl to generate PKCS12 file. My java keystore canot read it.</p>\n<p>My openssl cmds:(rootca.key is privatekey and rootca.crt is selfSigned certificate.)</p>\n<p><code>openssl req -new -newkey ec -pkeyopt ec_paramgen_curve:prime256v1 -nodes -keyout out.key -out out.csr -subj /C=CN/CN=-1040310296</code></p>\n<p><code>openssl x509 -req -CA rootca.crt -CAkey rootca.key -days 365 -in out.csr -out out.crt -CAcreateserial -extensions v3_ca -extfile ./openssl.cnf</code></p>\n<p><code>openssl pkcs12 -export -in out.crt -inkey out.key -chain -CAfile rootca.crt -name server -out out.p12 -password pass:Ff5evzT0tr</code></p>\n<p>When i use my java programme to read this PKCS12 file, exceptions caught:</p>\n<p>Java code:</p>\n<pre><code>KeyStore ks = KeyStore.getInstance(&quot;PKCS12&quot;);\nks.load(p12keyI, &quot;Ff5evzT0tr&quot;.toCharArray());\n</code></pre>\n<p>Exceptions:</p>\n<pre><code>java.io.IOException: Tag number over 30 is not supported\n        at java.base/sun.security.util.DerValue.&lt;init&gt;(DerValue.java:414)\n        at java.base/sun.security.util.DerValue.&lt;init&gt;(DerValue.java:459)\n        at java.base/sun.security.pkcs12.PKCS12KeyStore.engineLoad(PKCS12KeyStore.java:2012)\n        at java.base/sun.security.util.KeyStoreDelegator.engineLoad(KeyStoreDelegator.java:221)\n        at java.base/java.security.KeyStore.load(KeyStore.java:1473)\n</code></pre>\n<p>I can read it by openssl cmd:\n<code>openssl pkcs12 -in out.p12 -password pass:Ff5evzT0tr -info -nodes </code></p>\n<p>I canot read it by java programme and keytool cmd:\n<code>keytool -list -v -storetype PKCS12 -keystore output.p12 -storepass Ff5evzT0tr</code></p>\n<pre><code>keytool error: java.io.IOException: keystore password was incorrect\njava.io.IOException: keystore password was incorrect\n        at java.base/sun.security.pkcs12.PKCS12KeyStore.engineLoad(PKCS12KeyStore.java:2159)\n        at java.base/sun.security.util.KeyStoreDelegator.engineLoad(KeyStoreDelegator.java:221)\n        at java.base/java.security.KeyStore.load(KeyStore.java:1473)\n        at java.base/sun.security.tools.keytool.Main.doCommands(Main.java:946)\n        at java.base/sun.security.tools.keytool.Main.run(Main.java:415)\n        at java.base/sun.security.tools.keytool.Main.main(Main.java:408)\nCaused by: java.security.UnrecoverableKeyException: failed to decrypt safe contents entry: java.security.cert.CertificateParsingException: java.io.IOException: Only named ECParameters supported\n        ... 6 more\n</code></pre>\n<p>I wanna to know what cause this problem and how to fix it.\nThx all</p>\n"},{"tags":["java","spring-boot","api","rest","spring-data-jpa"],"comments":[{"owner":{"account_id":9760,"reputation":85859,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":0,"creation_date":1676942749,"post_id":75515418,"comment_id":133234675,"body_markdown":"`ClassNotFoundException: jakarta.persistence.EntityManagerFactory` - looks like a missing dependency or classpath error.  Without more information it&#39;s unlikely someone here can help.","body":"<code>ClassNotFoundException: jakarta.persistence.EntityManagerFactory</code> - looks like a missing dependency or classpath error.  Without more information it&#39;s unlikely someone here can help."},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1676967856,"post_id":75515418,"comment_id":133238502,"body_markdown":"Generally this comes from trying to outsmart the dependency management from Spring boot (like overriding versions, including individual dependencies next to the starter etc.). You are using Spring Boot 3, which is JakartaEE and you are probably including an older API v ersion or hibernate. Please include your pom or build file so we can check what is wrong (and cleanup your dependencies).","body":"Generally this comes from trying to outsmart the dependency management from Spring boot (like overriding versions, including individual dependencies next to the starter etc.). You are using Spring Boot 3, which is JakartaEE and you are probably including an older API v ersion or hibernate. Please include your pom or build file so we can check what is wrong (and cleanup your dependencies)."},{"owner":{"account_id":8049179,"reputation":147,"user_id":6068362,"display_name":"Ragas"},"score":0,"creation_date":1686129031,"post_id":75515418,"comment_id":134755440,"body_markdown":"Did anyone find solution for this. Below are the dependencies:\nUsing:- JDK 8.\n\nSpring Boot - 2.7.12,\nHibernate - 5.6.15.Final,\nHibernate Validator - 6.2.5.Final,\nSpring Boot Starter Data JPA - 2.7.12\nNote: pom.xml has dependency for persistence api coming from two jars:\n\njavax.persistence.api[2.2] - hibernate core - 5.6.15.Final,\njakarta.persistence.api[2.2.3] - spring boot starter data jpa ,","body":"Did anyone find solution for this. Below are the dependencies: Using:- JDK 8.  Spring Boot - 2.7.12, Hibernate - 5.6.15.Final, Hibernate Validator - 6.2.5.Final, Spring Boot Starter Data JPA - 2.7.12 Note: pom.xml has dependency for persistence api coming from two jars:  javax.persistence.api[2.2] - hibernate core - 5.6.15.Final, jakarta.persistence.api[2.2.3] - spring boot starter data jpa ,"}],"owner":{"account_id":27359835,"reputation":1,"user_id":20867625,"display_name":"Rafael Rodrigues Macedo"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":287,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676940764,"creation_date":1676940442,"question_id":75515418,"body_markdown":"I&#39;m doing a project with Spring and PostgreSQL. When I add the JPA dependencies, the project just break.\r\n\r\n**The message error is:**\r\n\r\n    java.lang.IllegalStateException: Error processing condition on org.springframework.boot.autoconfigure.http.HttpMessageConvertersAutoConfiguration$StringHttpMessageConverterConfiguration.stringHttpMessageConverter\r\n        at org.springframework.boot.autoconfigure.condition.SpringBootCondition.matches(SpringBootCondition.java:60) ~[spring-boot-autoconfigure-3.0.2.jar:3.0.2]\r\n        at org.springframework.context.annotation.ConditionEvaluator.shouldSkip(ConditionEvaluator.java:108) ~[spring-context-6.0.4.jar:6.0.4]\r\n        at org.springframework.context.annotation.ConfigurationClassBeanDefinitionReader.loadBeanDefinitionsForBeanMethod(ConfigurationClassBeanDefinitionReader.java:183) ~[spring-context-6.0.4.jar:6.0.4]\r\n        at org.springframework.context.annotation.ConfigurationClassBeanDefinitionReader.loadBeanDefinitionsForConfigurationClass(ConfigurationClassBeanDefinitionReader.java:144) ~[spring-context-6.0.4.jar:6.0.4]\r\n        at org.springframework.context.annotation.ConfigurationClassBeanDefinitionReader.loadBeanDefinitions(ConfigurationClassBeanDefinitionReader.java:120) ~[spring-context-6.0.4.jar:6.0.4]\r\n        at org.springframework.context.annotation.ConfigurationClassPostProcessor.processConfigBeanDefinitions(ConfigurationClassPostProcessor.java:410) ~[spring-context-6.0.4.jar:6.0.4]\r\n        at org.springframework.context.annotation.ConfigurationClassPostProcessor.postProcessBeanDefinitionRegistry(ConfigurationClassPostProcessor.java:283) ~[spring-context-6.0.4.jar:6.0.4]\r\n        at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanDefinitionRegistryPostProcessors(PostProcessorRegistrationDelegate.java:344) ~[spring-context-6.0.4.jar:6.0.4]\r\n        at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:115) ~[spring-context-6.0.4.jar:6.0.4]\r\n        at org.springframework.context.support.AbstractApplicationContext.invokeBeanFactoryPostProcessors(AbstractApplicationContext.java:745) ~[spring-context-6.0.4.jar:6.0.4]\r\n        at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:565) ~[spring-context-6.0.4.jar:6.0.4]\r\n        at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.0.2.jar:3.0.2]\r\n        at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:730) ~[spring-boot-3.0.2.jar:3.0.2]\r\n        at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:432) ~[spring-boot-3.0.2.jar:3.0.2]\r\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:308) ~[spring-boot-3.0.2.jar:3.0.2]\r\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:1302) ~[spring-boot-3.0.2.jar:3.0.2]\r\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:1291) ~[spring-boot-3.0.2.jar:3.0.2]\r\n        at minibagsbolsas.api.ApiApplication.main(ApiApplication.java:10) ~[classes/:na]\r\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(Unknown Source) ~[na:na]\r\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source) ~[na:na]\r\n        at java.base/java.lang.reflect.Method.invoke(Unknown Source) ~[na:na]\r\n        at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49) ~[spring-boot-devtools-3.0.2.jar:3.0.2]\r\n    Caused by: java.lang.IllegalStateException: Failed to introspect Class [org.springframework.orm.jpa.SharedEntityManagerCreator] from ClassLoader [jdk.internal.loader.ClassLoaders$AppClassLoader@42110406]\r\n        at org.springframework.util.ReflectionUtils.getDeclaredMethods(ReflectionUtils.java:483) ~[spring-core-6.0.4.jar:6.0.4]\r\n        at org.springframework.util.ReflectionUtils.doWithMethods(ReflectionUtils.java:360) ~[spring-core-6.0.4.jar:6.0.4]\r\n        at org.springframework.util.ReflectionUtils.getUniqueDeclaredMethods(ReflectionUtils.java:417) ~[spring-core-6.0.4.jar:6.0.4]\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.lambda$getTypeForFactoryMethod$1(AbstractAutowireCapableBeanFactory.java:749) ~[spring-beans-6.0.4.jar:6.0.4]\r\n        at java.base/java.util.concurrent.ConcurrentHashMap.computeIfAbsent(Unknown Source) ~[na:na]\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.getTypeForFactoryMethod(AbstractAutowireCapableBeanFactory.java:748) ~[spring-beans-6.0.4.jar:6.0.4]\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.determineTargetType(AbstractAutowireCapableBeanFactory.java:681) ~[spring-beans-6.0.4.jar:6.0.4]\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.predictBeanType(AbstractAutowireCapableBeanFactory.java:652) ~[spring-beans-6.0.4.jar:6.0.4]\r\n        at org.springframework.beans.factory.support.AbstractBeanFactory.isFactoryBean(AbstractBeanFactory.java:1632) ~[spring-beans-6.0.4.jar:6.0.4]\r\n        at org.springframework.beans.factory.support.DefaultListableBeanFactory.doGetBeanNamesForType(DefaultListableBeanFactory.java:559) ~[spring-beans-6.0.4.jar:6.0.4]\r\n        at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeanNamesForType(DefaultListableBeanFactory.java:531) ~[spring-beans-6.0.4.jar:6.0.4]\r\n        at org.springframework.boot.autoconfigure.condition.OnBeanCondition.collectBeanNamesForType(OnBeanCondition.java:250) ~[spring-boot-autoconfigure-3.0.2.jar:3.0.2]\r\n        at org.springframework.boot.autoconfigure.condition.OnBeanCondition.getBeanNamesForType(OnBeanCondition.java:243) ~[spring-boot-autoconfigure-3.0.2.jar:3.0.2]\r\n        at org.springframework.boot.autoconfigure.condition.OnBeanCondition.getBeanNamesForType(OnBeanCondition.java:233) ~[spring-boot-autoconfigure-3.0.2.jar:3.0.2]\r\n        at org.springframework.boot.autoconfigure.condition.OnBeanCondition.getMatchingBeans(OnBeanCondition.java:181) ~[spring-boot-autoconfigure-3.0.2.jar:3.0.2]\r\n        at org.springframework.boot.autoconfigure.condition.OnBeanCondition.getMatchOutcome(OnBeanCondition.java:156) ~[spring-boot-autoconfigure-3.0.2.jar:3.0.2]\r\n        at org.springframework.boot.autoconfigure.condition.SpringBootCondition.matches(SpringBootCondition.java:47) ~[spring-boot-autoconfigure-3.0.2.jar:3.0.2]\r\n        ... 22 common frames omitted\r\n    Caused by: java.lang.NoClassDefFoundError: jakarta/persistence/EntityManagerFactory\r\n        at java.base/java.lang.Class.getDeclaredMethods0(Native Method) ~[na:na]\r\n        at java.base/java.lang.Class.privateGetDeclaredMethods(Unknown Source) ~[na:na]\r\n        at java.base/java.lang.Class.getDeclaredMethods(Unknown Source) ~[na:na]\r\n        at org.springframework.util.ReflectionUtils.getDeclaredMethods(ReflectionUtils.java:465) ~[spring-core-6.0.4.jar:6.0.4]\r\n        ... 38 common frames omitted\r\n    Caused by: java.lang.ClassNotFoundException: jakarta.persistence.EntityManagerFactory\r\n        at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(Unknown Source) ~[na:na]\r\n        at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(Unknown Source) ~[na:na]\r\n        at java.base/java.lang.ClassLoader.loadClass(Unknown Source) ~[na:na]\r\n        ... 42 common frames omitted }\r\nI already tested with another Spring Data JPA versions, but still not working.","title":"Spring Data JPA Dependency Issue","body":"<p>I'm doing a project with Spring and PostgreSQL. When I add the JPA dependencies, the project just break.</p>\n<p><strong>The message error is:</strong></p>\n<pre><code>java.lang.IllegalStateException: Error processing condition on org.springframework.boot.autoconfigure.http.HttpMessageConvertersAutoConfiguration$StringHttpMessageConverterConfiguration.stringHttpMessageConverter\n    at org.springframework.boot.autoconfigure.condition.SpringBootCondition.matches(SpringBootCondition.java:60) ~[spring-boot-autoconfigure-3.0.2.jar:3.0.2]\n    at org.springframework.context.annotation.ConditionEvaluator.shouldSkip(ConditionEvaluator.java:108) ~[spring-context-6.0.4.jar:6.0.4]\n    at org.springframework.context.annotation.ConfigurationClassBeanDefinitionReader.loadBeanDefinitionsForBeanMethod(ConfigurationClassBeanDefinitionReader.java:183) ~[spring-context-6.0.4.jar:6.0.4]\n    at org.springframework.context.annotation.ConfigurationClassBeanDefinitionReader.loadBeanDefinitionsForConfigurationClass(ConfigurationClassBeanDefinitionReader.java:144) ~[spring-context-6.0.4.jar:6.0.4]\n    at org.springframework.context.annotation.ConfigurationClassBeanDefinitionReader.loadBeanDefinitions(ConfigurationClassBeanDefinitionReader.java:120) ~[spring-context-6.0.4.jar:6.0.4]\n    at org.springframework.context.annotation.ConfigurationClassPostProcessor.processConfigBeanDefinitions(ConfigurationClassPostProcessor.java:410) ~[spring-context-6.0.4.jar:6.0.4]\n    at org.springframework.context.annotation.ConfigurationClassPostProcessor.postProcessBeanDefinitionRegistry(ConfigurationClassPostProcessor.java:283) ~[spring-context-6.0.4.jar:6.0.4]\n    at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanDefinitionRegistryPostProcessors(PostProcessorRegistrationDelegate.java:344) ~[spring-context-6.0.4.jar:6.0.4]\n    at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:115) ~[spring-context-6.0.4.jar:6.0.4]\n    at org.springframework.context.support.AbstractApplicationContext.invokeBeanFactoryPostProcessors(AbstractApplicationContext.java:745) ~[spring-context-6.0.4.jar:6.0.4]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:565) ~[spring-context-6.0.4.jar:6.0.4]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.0.2.jar:3.0.2]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:730) ~[spring-boot-3.0.2.jar:3.0.2]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:432) ~[spring-boot-3.0.2.jar:3.0.2]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:308) ~[spring-boot-3.0.2.jar:3.0.2]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1302) ~[spring-boot-3.0.2.jar:3.0.2]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1291) ~[spring-boot-3.0.2.jar:3.0.2]\n    at minibagsbolsas.api.ApiApplication.main(ApiApplication.java:10) ~[classes/:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(Unknown Source) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Unknown Source) ~[na:na]\n    at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49) ~[spring-boot-devtools-3.0.2.jar:3.0.2]\nCaused by: java.lang.IllegalStateException: Failed to introspect Class [org.springframework.orm.jpa.SharedEntityManagerCreator] from ClassLoader [jdk.internal.loader.ClassLoaders$AppClassLoader@42110406]\n    at org.springframework.util.ReflectionUtils.getDeclaredMethods(ReflectionUtils.java:483) ~[spring-core-6.0.4.jar:6.0.4]\n    at org.springframework.util.ReflectionUtils.doWithMethods(ReflectionUtils.java:360) ~[spring-core-6.0.4.jar:6.0.4]\n    at org.springframework.util.ReflectionUtils.getUniqueDeclaredMethods(ReflectionUtils.java:417) ~[spring-core-6.0.4.jar:6.0.4]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.lambda$getTypeForFactoryMethod$1(AbstractAutowireCapableBeanFactory.java:749) ~[spring-beans-6.0.4.jar:6.0.4]\n    at java.base/java.util.concurrent.ConcurrentHashMap.computeIfAbsent(Unknown Source) ~[na:na]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.getTypeForFactoryMethod(AbstractAutowireCapableBeanFactory.java:748) ~[spring-beans-6.0.4.jar:6.0.4]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.determineTargetType(AbstractAutowireCapableBeanFactory.java:681) ~[spring-beans-6.0.4.jar:6.0.4]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.predictBeanType(AbstractAutowireCapableBeanFactory.java:652) ~[spring-beans-6.0.4.jar:6.0.4]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.isFactoryBean(AbstractBeanFactory.java:1632) ~[spring-beans-6.0.4.jar:6.0.4]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.doGetBeanNamesForType(DefaultListableBeanFactory.java:559) ~[spring-beans-6.0.4.jar:6.0.4]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeanNamesForType(DefaultListableBeanFactory.java:531) ~[spring-beans-6.0.4.jar:6.0.4]\n    at org.springframework.boot.autoconfigure.condition.OnBeanCondition.collectBeanNamesForType(OnBeanCondition.java:250) ~[spring-boot-autoconfigure-3.0.2.jar:3.0.2]\n    at org.springframework.boot.autoconfigure.condition.OnBeanCondition.getBeanNamesForType(OnBeanCondition.java:243) ~[spring-boot-autoconfigure-3.0.2.jar:3.0.2]\n    at org.springframework.boot.autoconfigure.condition.OnBeanCondition.getBeanNamesForType(OnBeanCondition.java:233) ~[spring-boot-autoconfigure-3.0.2.jar:3.0.2]\n    at org.springframework.boot.autoconfigure.condition.OnBeanCondition.getMatchingBeans(OnBeanCondition.java:181) ~[spring-boot-autoconfigure-3.0.2.jar:3.0.2]\n    at org.springframework.boot.autoconfigure.condition.OnBeanCondition.getMatchOutcome(OnBeanCondition.java:156) ~[spring-boot-autoconfigure-3.0.2.jar:3.0.2]\n    at org.springframework.boot.autoconfigure.condition.SpringBootCondition.matches(SpringBootCondition.java:47) ~[spring-boot-autoconfigure-3.0.2.jar:3.0.2]\n    ... 22 common frames omitted\nCaused by: java.lang.NoClassDefFoundError: jakarta/persistence/EntityManagerFactory\n    at java.base/java.lang.Class.getDeclaredMethods0(Native Method) ~[na:na]\n    at java.base/java.lang.Class.privateGetDeclaredMethods(Unknown Source) ~[na:na]\n    at java.base/java.lang.Class.getDeclaredMethods(Unknown Source) ~[na:na]\n    at org.springframework.util.ReflectionUtils.getDeclaredMethods(ReflectionUtils.java:465) ~[spring-core-6.0.4.jar:6.0.4]\n    ... 38 common frames omitted\nCaused by: java.lang.ClassNotFoundException: jakarta.persistence.EntityManagerFactory\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(Unknown Source) ~[na:na]\n    at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(Unknown Source) ~[na:na]\n    at java.base/java.lang.ClassLoader.loadClass(Unknown Source) ~[na:na]\n    ... 42 common frames omitted }\n</code></pre>\n<p>I already tested with another Spring Data JPA versions, but still not working.</p>\n"},{"tags":["java","generics","arraylist","interface"],"comments":[{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1676939692,"post_id":75515298,"comment_id":133234287,"body_markdown":"Not really.  You&#39;re much better off passing in `Dog::new` or some other `Supplier&lt;T&gt;`.","body":"Not really.  You&#39;re much better off passing in <code>Dog::new</code> or some other <code>Supplier&lt;T&gt;</code>."},{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":0,"creation_date":1676939944,"post_id":75515298,"comment_id":133234324,"body_markdown":"If you know the list won&#39;t be empty, and that the class of the first element has a constructor without parameters, you can do something like `list.get(0).getClass().newInstance()`","body":"If you know the list won&#39;t be empty, and that the class of the first element has a constructor without parameters, you can do something like <code>list.get(0).getClass().newInstance()</code>"}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1676940532,"creation_date":1676940532,"answer_id":75515421,"question_id":75515298,"body_markdown":"Generics are erased at runtime, so given a method that just accepts a `List` object, __what you want is not possible at all__.\r\n\r\nYou have a second issue: You can&#39;t just &#39;make a `new T()`&#39; even if somehow java had reified generics. What if the T type is abstract? What if T is an interface? What if T doesn&#39;t have a no-args constructor?\r\n\r\nThe solution is simple: Your method should accept not just the list, but also a thing that produces new Ts:\r\n\r\n```\r\npublic static &lt;T extends Animal&gt; doSomething(List&lt;T&gt; list, Supplier&lt;T&gt; animalSupplier) {\r\n  T newObj = animalSupplier.get();\r\n  list.add(newObj);\r\n}\r\n\r\n// call like so:\r\n\r\nList&lt;Dog&gt; dogs = new ArrayList&lt;Dog&gt;();\r\ndoSomething(dogs, Dog::new);\r\n// or, if you find that easier to understand, this is identical:\r\ndoSomething(dogs, () -&gt; new Dog());\r\n```\r\n\r\nYou can&#39;t pass `new Dog()` - that would make a dog first, then pass the ref to this dog to the method. You don&#39;t want that - you want to pass the idea of &#39;how do I make a dog&#39;. `Dog::new` turns into a `Supplier&lt;Dog&gt;` that operates by executing new Dog() every time you call `.get()` on that supplier.\r\n","title":"Create Instance of a Class extending an Interface, passed through a Method?","body":"<p>Generics are erased at runtime, so given a method that just accepts a <code>List</code> object, <strong>what you want is not possible at all</strong>.</p>\n<p>You have a second issue: You can't just 'make a <code>new T()</code>' even if somehow java had reified generics. What if the T type is abstract? What if T is an interface? What if T doesn't have a no-args constructor?</p>\n<p>The solution is simple: Your method should accept not just the list, but also a thing that produces new Ts:</p>\n<pre><code>public static &lt;T extends Animal&gt; doSomething(List&lt;T&gt; list, Supplier&lt;T&gt; animalSupplier) {\n  T newObj = animalSupplier.get();\n  list.add(newObj);\n}\n\n// call like so:\n\nList&lt;Dog&gt; dogs = new ArrayList&lt;Dog&gt;();\ndoSomething(dogs, Dog::new);\n// or, if you find that easier to understand, this is identical:\ndoSomething(dogs, () -&gt; new Dog());\n</code></pre>\n<p>You can't pass <code>new Dog()</code> - that would make a dog first, then pass the ref to this dog to the method. You don't want that - you want to pass the idea of 'how do I make a dog'. <code>Dog::new</code> turns into a <code>Supplier&lt;Dog&gt;</code> that operates by executing new Dog() every time you call <code>.get()</code> on that supplier.</p>\n"}],"owner":{"account_id":15555087,"reputation":1,"user_id":11221779,"display_name":"Narwhals64"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1676940532,"creation_date":1676938392,"question_id":75515298,"body_markdown":"I would like to pass an ArrayList of a class (i.e. Dog) that implements an interface (i.e. Animal) through a method, and I would like the method to create an instance of the given class.\r\n\r\nI have tried many methods so far, but every resource I&#39;ve found has told me how to do one part of the whole, yet combining those parts has been fruitless.\r\n\r\n\r\n```\r\n   private interface Animal {\r\n\r\n    }\r\n\r\n    private class Dog implements Animal {\r\n\r\n    }\r\n\r\n    public static void Main(String[] args) {\r\n        ArrayList&lt;Dog&gt; dogs = new ArrayList&lt;&gt;();\r\n\r\n        doSomething(dogs);\r\n    }\r\n\r\n    public static &lt;T extends Animal&gt; void doSomething(ArrayList&lt;T&gt; list) {\r\n        // This line does not compile or produces NoSuchMethodException based on how it&#39;s written:\r\n        T newObj = new T().getClass().getDeclaredConstructor().newInstance();\r\n        list.add(newObj);\r\n    }\r\n```\r\n\r\nIn this example, would it be possible to pass an ArrayList of Dogs and expect `doSomething` method to add a Dog?","title":"Create Instance of a Class extending an Interface, passed through a Method?","body":"<p>I would like to pass an ArrayList of a class (i.e. Dog) that implements an interface (i.e. Animal) through a method, and I would like the method to create an instance of the given class.</p>\n<p>I have tried many methods so far, but every resource I've found has told me how to do one part of the whole, yet combining those parts has been fruitless.</p>\n<pre><code>   private interface Animal {\n\n    }\n\n    private class Dog implements Animal {\n\n    }\n\n    public static void Main(String[] args) {\n        ArrayList&lt;Dog&gt; dogs = new ArrayList&lt;&gt;();\n\n        doSomething(dogs);\n    }\n\n    public static &lt;T extends Animal&gt; void doSomething(ArrayList&lt;T&gt; list) {\n        // This line does not compile or produces NoSuchMethodException based on how it's written:\n        T newObj = new T().getClass().getDeclaredConstructor().newInstance();\n        list.add(newObj);\n    }\n</code></pre>\n<p>In this example, would it be possible to pass an ArrayList of Dogs and expect <code>doSomething</code> method to add a Dog?</p>\n"},{"tags":["java","regex","validation","url"],"comments":[{"owner":{"account_id":2214260,"reputation":3942,"user_id":1955317,"accept_rate":71,"display_name":"Squazz"},"score":0,"creation_date":1677231650,"post_id":75513630,"comment_id":133301031,"body_markdown":"This post, has a bunch of regular expressions you might be able to use. https://stackoverflow.com/questions/6038061/regular-expression-to-find-urls-within-a-string/41242257\n\nFull disclosure: One of the answers is mine.","body":"This post, has a bunch of regular expressions you might be able to use. <a href=\"https://stackoverflow.com/questions/6038061/regular-expression-to-find-urls-within-a-string/41242257\" title=\"regular expression to find urls within a string\">stackoverflow.com/questions/6038061/&hellip;</a>  Full disclosure: One of the answers is mine."},{"owner":{"account_id":2214260,"reputation":3942,"user_id":1955317,"accept_rate":71,"display_name":"Squazz"},"score":0,"creation_date":1677231668,"post_id":75513630,"comment_id":133301033,"body_markdown":"Does this answer your question? [Regular expression to find URLs within a string](https://stackoverflow.com/questions/6038061/regular-expression-to-find-urls-within-a-string)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/6038061/regular-expression-to-find-urls-within-a-string\">Regular expression to find URLs within a string</a>"}],"answers":[{"tags":[],"owner":{"account_id":1661507,"reputation":9914,"user_id":1529709,"accept_rate":100,"display_name":"zb226"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1676939602,"creation_date":1676939602,"answer_id":75515373,"question_id":75513630,"body_markdown":"If you want to match all of your examples, you are not actually validating URLs. The referenced Apache Commons [URLValidator](https://commons.apache.org/proper/commons-validator/apidocs/org/apache/commons/validator/routines/UrlValidator.html) validates all of the above correctly.\r\n\r\nURLs require [by RFC](https://www.rfc-editor.org/rfc/rfc1738) to start with a &quot;scheme&quot;, for example `https://` or `mailto:`. When you enter `wikipedia.org` into your browser&#39;s address bar, it uses heuristics to best guess what you mean by that: the valid URL `https://wikipedia.org`. All of your examples can be best-guessed this way - by prepending `https://` - except for `https%3A%2F%2Mycoolstuff.com`. That&#39;s a tougher case, because percent-encoding is not allowed in the scheme-part of an URL - But as such, it makes for a good example of how quick the guesswork gets ugly.\r\n\r\nI&#39;m not aware of a common library for that - probably there isn&#39;t one, because there is no universally correct way and it will at some point imply subjective decisions.\r\n\r\n[Here&#39;s how Firefox does it](https://searchfox.org/mozilla-central/source/browser/components/urlbar/UrlbarTokenizer.sys.mjs). It&#39;s a lot of code and it says up front in comment (emphasis mine):\r\n\r\n&gt; Regex used to guess url-like strings. These are not expected to be\r\n&gt; 100% correct, we accept some user mistypes and **we&#39;re unlikely to be\r\n&gt; able to cover 100% of the cases**.","title":"Issue with an url validation in Java","body":"<p>If you want to match all of your examples, you are not actually validating URLs. The referenced Apache Commons <a href=\"https://commons.apache.org/proper/commons-validator/apidocs/org/apache/commons/validator/routines/UrlValidator.html\" rel=\"nofollow noreferrer\">URLValidator</a> validates all of the above correctly.</p>\n<p>URLs require <a href=\"https://www.rfc-editor.org/rfc/rfc1738\" rel=\"nofollow noreferrer\">by RFC</a> to start with a &quot;scheme&quot;, for example <code>https://</code> or <code>mailto:</code>. When you enter <code>wikipedia.org</code> into your browser's address bar, it uses heuristics to best guess what you mean by that: the valid URL <code>https://wikipedia.org</code>. All of your examples can be best-guessed this way - by prepending <code>https://</code> - except for <code>https%3A%2F%2Mycoolstuff.com</code>. That's a tougher case, because percent-encoding is not allowed in the scheme-part of an URL - But as such, it makes for a good example of how quick the guesswork gets ugly.</p>\n<p>I'm not aware of a common library for that - probably there isn't one, because there is no universally correct way and it will at some point imply subjective decisions.</p>\n<p><a href=\"https://searchfox.org/mozilla-central/source/browser/components/urlbar/UrlbarTokenizer.sys.mjs\" rel=\"nofollow noreferrer\">Here's how Firefox does it</a>. It's a lot of code and it says up front in comment (emphasis mine):</p>\n<blockquote>\n<p>Regex used to guess url-like strings. These are not expected to be\n100% correct, we accept some user mistypes and <strong>we're unlikely to be\nable to cover 100% of the cases</strong>.</p>\n</blockquote>\n"}],"owner":{"account_id":24615818,"reputation":173,"user_id":18516849,"display_name":"ypdev19"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":100,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1676939602,"creation_date":1676923037,"question_id":75513630,"body_markdown":"I&#39;m trying to validate an url, basically this will be for a project where any kind of weird url could be possibly be introduced by the user, like for example:\r\n\r\n- pickup.calendar.com/schedu/e-mail/pickup.php/123wec/99245t29-03882-4ttr-345nvnwikg3545/?\r\n- mypage-services.info\r\n- https://google.com\r\n- http://mypersonaldomain.com.org\r\n- mypersonaldomain2.com.org/services/123\r\n- https%3A%2F%2Mycoolstuff.com\r\n- wikipedia.org\r\n- www.github.com\r\n- https://testing.com/@myurl/about\r\n\r\nI have tried using new URI(url) from java.net but it&#39;s not validating correctly, for values like +1.1234566 or just a number 123337000 or a word test it returns true but it shouldn&#39;t.\r\n\r\nI have also tried the UrlValidator from apache-commons but an url like mypage-services.info says it&#39;s invalid.\r\n\r\nLast thing i&#39;ve tried is to use regex, this is what i&#39;ve got so far:\r\n\r\n```\r\n^(http:\\\\/\\\\/|https:\\\\/\\\\/)?(www.)?([a-zA-Z0-9]+).[a-zA-Z0-9]*.[a-z]{3}.?([a-z]+)?$\\n\r\n```\r\n\r\nBut it&#39;s not working for url patterns like mypage-services.info\r\n\r\nI know this seems already like a duplicate question but i have tried all of the regex i have found in similar questions and none of them have worked for my requirement.\r\n\r\nTo anybody who can provide me help on this i would appreciate it a lot, thank you.","title":"Issue with an url validation in Java","body":"<p>I'm trying to validate an url, basically this will be for a project where any kind of weird url could be possibly be introduced by the user, like for example:</p>\n<ul>\n<li>pickup.calendar.com/schedu/e-mail/pickup.php/123wec/99245t29-03882-4ttr-345nvnwikg3545/?</li>\n<li>mypage-services.info</li>\n<li><a href=\"https://google.com\" rel=\"nofollow noreferrer\">https://google.com</a></li>\n<li><a href=\"http://mypersonaldomain.com.org\" rel=\"nofollow noreferrer\">http://mypersonaldomain.com.org</a></li>\n<li>mypersonaldomain2.com.org/services/123</li>\n<li>https%3A%2F%2Mycoolstuff.com</li>\n<li>wikipedia.org</li>\n<li><a href=\"http://www.github.com\" rel=\"nofollow noreferrer\">www.github.com</a></li>\n<li><a href=\"https://testing.com/@myurl/about\" rel=\"nofollow noreferrer\">https://testing.com/@myurl/about</a></li>\n</ul>\n<p>I have tried using new URI(url) from java.net but it's not validating correctly, for values like +1.1234566 or just a number 123337000 or a word test it returns true but it shouldn't.</p>\n<p>I have also tried the UrlValidator from apache-commons but an url like mypage-services.info says it's invalid.</p>\n<p>Last thing i've tried is to use regex, this is what i've got so far:</p>\n<pre><code>^(http:\\\\/\\\\/|https:\\\\/\\\\/)?(www.)?([a-zA-Z0-9]+).[a-zA-Z0-9]*.[a-z]{3}.?([a-z]+)?$\\n\n</code></pre>\n<p>But it's not working for url patterns like mypage-services.info</p>\n<p>I know this seems already like a duplicate question but i have tried all of the regex i have found in similar questions and none of them have worked for my requirement.</p>\n<p>To anybody who can provide me help on this i would appreciate it a lot, thank you.</p>\n"},{"tags":["java","interface"],"comments":[{"owner":{"account_id":1258178,"reputation":12401,"user_id":1217178,"accept_rate":72,"display_name":"Markus A."},"score":39,"creation_date":1349117091,"post_id":5376970,"comment_id":17111702,"body_markdown":"Very good question. For almost every other thing in Java I have found a real reason for the choices made, but for this one I haven&#39;t. It makes perfect sense to me to define a protected method in an interface which allows another class inside the same package to use this method on an implementing object without requiring to expose that method, which may not be meant to be called by anyone other than the package members, to the rest of the world.","body":"Very good question. For almost every other thing in Java I have found a real reason for the choices made, but for this one I haven&#39;t. It makes perfect sense to me to define a protected method in an interface which allows another class inside the same package to use this method on an implementing object without requiring to expose that method, which may not be meant to be called by anyone other than the package members, to the rest of the world."},{"owner":{"account_id":29986,"reputation":28837,"user_id":81424,"accept_rate":54,"display_name":"MartinStettner"},"score":6,"creation_date":1369306067,"post_id":5376970,"comment_id":24057869,"body_markdown":"@MarkusA. But interfaces work two-way, i.e. they can also be implemented by classes outside the current package (and then perhaps passed as arguments to methods inside this package). How would a class from outside the current package be able to implement &quot;protected&quot; methods of some public interface?","body":"@MarkusA. But interfaces work two-way, i.e. they can also be implemented by classes outside the current package (and then perhaps passed as arguments to methods inside this package). How would a class from outside the current package be able to implement &quot;protected&quot; methods of some public interface?"},{"owner":{"account_id":150501,"reputation":78480,"user_id":363751,"accept_rate":35,"display_name":"supercat"},"score":12,"creation_date":1369323470,"post_id":5376970,"comment_id":24069093,"body_markdown":"@MartinStettner: It wouldn&#39;t.  That would be the point.  A package might have multiple unrelated classes which implement an interface, and want to guarantee to any code receiving a reference of that interface type that it will behave a certain way.  Such a guarantee could be made much stronger if outside code could be prevented from claiming to implement the interface while behaving in a fashion contrary to its contract.","body":"@MartinStettner: It wouldn&#39;t.  That would be the point.  A package might have multiple unrelated classes which implement an interface, and want to guarantee to any code receiving a reference of that interface type that it will behave a certain way.  Such a guarantee could be made much stronger if outside code could be prevented from claiming to implement the interface while behaving in a fashion contrary to its contract."},{"owner":{"account_id":1054395,"reputation":53323,"user_id":1057429,"accept_rate":100,"display_name":"Nir Alfasi"},"score":4,"creation_date":1460050549,"post_id":5376970,"comment_id":60576207,"body_markdown":"@MarkusA. you raised a good point, you should be able to achieve it with [Java 9&#39;s module system](https://en.wikipedia.org/wiki/Java_Module_System)","body":"@MarkusA. you raised a good point, you should be able to achieve it with <a href=\"https://en.wikipedia.org/wiki/Java_Module_System\" rel=\"nofollow noreferrer\">Java 9&#39;s module system</a>"},{"owner":{"account_id":10961577,"reputation":964,"user_id":8054721,"display_name":"amarnath harish"},"score":1,"creation_date":1528281061,"post_id":5376970,"comment_id":88444688,"body_markdown":"if interface has `protected` method , all implementing class will be seen as a sub-type of the interface. and all these classes CAN access protected methods. doesnt it make `protected` keyword on method  useless? as long as we dont have any ways to restrict **who implements this interface**  protected keyword on method is useless. correct me if im wrong!","body":"if interface has <code>protected</code> method , all implementing class will be seen as a sub-type of the interface. and all these classes CAN access protected methods. doesnt it make <code>protected</code> keyword on method  useless? as long as we dont have any ways to restrict <b>who implements this interface</b>  protected keyword on method is useless. correct me if im wrong!"},{"owner":{"account_id":1716782,"reputation":266,"user_id":1573682,"display_name":"Peter Verhas"},"score":0,"creation_date":1532945691,"post_id":5376970,"comment_id":90148632,"body_markdown":"Protected methods in an interface would make sense. For example, I am designing an interface for objects that implement an interpreter. You can set input, output, variable values, source code to execute and then you can execute. There are setters for all these parameters, but there are also versions of the methods that implement a builder pattern, and they have a `default` implementation. The setter methods are not to be used, but to be implemented so that the builder pattern can use them. In this case, the setter methods could be protected.","body":"Protected methods in an interface would make sense. For example, I am designing an interface for objects that implement an interpreter. You can set input, output, variable values, source code to execute and then you can execute. There are setters for all these parameters, but there are also versions of the methods that implement a builder pattern, and they have a <code>default</code> implementation. The setter methods are not to be used, but to be implemented so that the builder pattern can use them. In this case, the setter methods could be protected."},{"owner":{"account_id":3576533,"reputation":16716,"user_id":2985643,"accept_rate":40,"display_name":"skomisa"},"score":0,"creation_date":1575462877,"post_id":5376970,"comment_id":104573722,"body_markdown":"Not directly relevant to the question, but there is an interesting thread on requesting the same feature in Kotlin: [Interface method in Kotlin should support protected &amp;&amp; internal visibility modifier](https://discuss.kotlinlang.org/t/interface-method-in-kotlin-should-support-protected-internal-visibility-modifier/1918)","body":"Not directly relevant to the question, but there is an interesting thread on requesting the same feature in Kotlin: <a href=\"https://discuss.kotlinlang.org/t/interface-method-in-kotlin-should-support-protected-internal-visibility-modifier/1918\" rel=\"nofollow noreferrer\">Interface method in Kotlin should support protected &amp;&amp; internal visibility modifier</a>"},{"owner":{"account_id":234913,"reputation":1781,"user_id":501373,"accept_rate":67,"display_name":"Kiarash"},"score":0,"creation_date":1579735752,"post_id":5376970,"comment_id":105870355,"body_markdown":"c# 8, allows you now to have protected member","body":"c# 8, allows you now to have protected member"},{"owner":{"account_id":3576533,"reputation":16716,"user_id":2985643,"accept_rate":40,"display_name":"skomisa"},"score":1,"creation_date":1591335304,"post_id":5376970,"comment_id":110021722,"body_markdown":"@alfasin Your comment was prescient. That is precisely the approach later proposed as an alternative to having protected interfaces. See [JDK-8179193\nProtected methods in interfaces: share across packages](https://bugs.openjdk.java.net/browse/JDK-8179193).","body":"@alfasin Your comment was prescient. That is precisely the approach later proposed as an alternative to having protected interfaces. See <a href=\"https://bugs.openjdk.java.net/browse/JDK-8179193\" rel=\"nofollow noreferrer\">JDK-8179193 Protected methods in interfaces: share across packages</a>."},{"owner":{"account_id":8081995,"reputation":953,"user_id":6090844,"display_name":"Manoel Campos"},"score":0,"creation_date":1678900005,"post_id":5376970,"comment_id":133624169,"body_markdown":"@MartinStettner if the method is protected, it means all classes inside the same package and all subclasses can access it. I think it makes perfect sense to have protected methods on interfaces. Private ones were already introduced on Java 9.","body":"@MartinStettner if the method is protected, it means all classes inside the same package and all subclasses can access it. I think it makes perfect sense to have protected methods on interfaces. Private ones were already introduced on Java 9."}],"answers":[{"tags":[],"owner":{"account_id":169662,"reputation":2670,"user_id":395863,"accept_rate":89,"display_name":"Raveline"},"down_vote_count":16,"up_vote_count":95,"is_accepted":true,"score":79,"last_activity_date":1300706915,"creation_date":1300706915,"answer_id":5376999,"question_id":5376970,"body_markdown":"Because an interface is supposed to mean &quot;what you can see from outside the class&quot;. It would not make sense to add non-public methods.","title":"Protected in Interfaces","body":"<p>Because an interface is supposed to mean \"what you can see from outside the class\". It would not make sense to add non-public methods.</p>\n"},{"tags":[],"owner":{"account_id":138128,"reputation":294236,"user_id":342852,"accept_rate":97,"display_name":"Sean Patrick Floyd"},"down_vote_count":2,"up_vote_count":14,"is_accepted":false,"score":12,"last_activity_date":1300706922,"creation_date":1300706922,"answer_id":5377004,"question_id":5376970,"body_markdown":"Because interfaces define public APIs. Anything that&#39;s protected is an internal detail which does not belong in an interface.\r\n\r\nYou can use abstract classes with protected abstract methods, but interfaces are restricted to public methods and public static final fields.","title":"Protected in Interfaces","body":"<p>Because interfaces define public APIs. Anything that's protected is an internal detail which does not belong in an interface.</p>\n\n<p>You can use abstract classes with protected abstract methods, but interfaces are restricted to public methods and public static final fields.</p>\n"},{"tags":[],"owner":{"account_id":31518,"reputation":36053,"user_id":86604,"accept_rate":80,"display_name":"Ingo"},"down_vote_count":1,"up_vote_count":8,"is_accepted":false,"score":7,"last_activity_date":1300706968,"creation_date":1300706968,"answer_id":5377014,"question_id":5376970,"body_markdown":"Perhaps, because it is an **interface**, i.e. it is there to tell clients what they can do with instances, rather than to tell them what they can not do.","title":"Protected in Interfaces","body":"<p>Perhaps, because it is an <strong>interface</strong>, i.e. it is there to tell clients what they can do with instances, rather than to tell them what they can not do.</p>\n"},{"tags":[],"owner":{"account_id":279365,"reputation":49126,"user_id":574479,"accept_rate":87,"display_name":"biziclop"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1300707306,"creation_date":1300706971,"answer_id":5377015,"question_id":5376970,"body_markdown":"The only scenario where it would make sense is when you want to restrict visibility to the same package. All the other uses of `protected` are not applicable. Specifically, `protected` methods are often used to provide access to some details of lower level implementations for descendants. But declaring that in an interface doesn&#39;t make sense, as there&#39;s no lower level implementation to expose.\r\n\r\nAnd even the package scenario is not really what interfaces are about.\r\n\r\nTo achieve what you probably want, you need two interfaces, one for internal use and one that you expose in the public API. (With the internal one possibly, but not necessarily extending  the public one.) Or, as others pointed out, an abstract superclass.","title":"Protected in Interfaces","body":"<p>The only scenario where it would make sense is when you want to restrict visibility to the same package. All the other uses of <code>protected</code> are not applicable. Specifically, <code>protected</code> methods are often used to provide access to some details of lower level implementations for descendants. But declaring that in an interface doesn't make sense, as there's no lower level implementation to expose.</p>\n\n<p>And even the package scenario is not really what interfaces are about.</p>\n\n<p>To achieve what you probably want, you need two interfaces, one for internal use and one that you expose in the public API. (With the internal one possibly, but not necessarily extending  the public one.) Or, as others pointed out, an abstract superclass.</p>\n"},{"tags":[],"owner":{"account_id":39436,"reputation":4160,"user_id":113727,"accept_rate":90,"display_name":"dm76"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1300707071,"creation_date":1300707071,"answer_id":5377030,"question_id":5376970,"body_markdown":"Since an implementing class must implements ALL the methods declared in your interface, what would happen if your implementing class was in a different package ?","title":"Protected in Interfaces","body":"<p>Since an implementing class must implements ALL the methods declared in your interface, what would happen if your implementing class was in a different package ?</p>\n"},{"tags":[],"owner":{"account_id":244832,"reputation":1156,"user_id":517906,"accept_rate":78,"display_name":"grizzly"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1300707099,"creation_date":1300707099,"answer_id":5377032,"question_id":5376970,"body_markdown":"Interface If you want to use something like you described go on with abstract classes or nested interfaces.\r\n\r\nAn exerpt from the [Code Style][1] about interface variables, but still apply to methods though:\r\n\r\n&lt;blockquote&gt;\r\n Interface variables are implicitly public because interfaces are intended to provide an Application Programming Interface (API) that is fully accessible to Java programmers to reference and implement in their own applications. Since an interface may be used in Java packages that are different from their own, public visibility ensures that program code can access the variable.\r\n&lt;/blockquote&gt;\r\n\r\n  [1]: http://www.codestyle.org/java/faq-Interface.shtml","title":"Protected in Interfaces","body":"<p>Interface If you want to use something like you described go on with abstract classes or nested interfaces.</p>\n\n<p>An exerpt from the <a href=\"http://www.codestyle.org/java/faq-Interface.shtml\" rel=\"nofollow\">Code Style</a> about interface variables, but still apply to methods though:</p>\n\n<blockquote>\n Interface variables are implicitly public because interfaces are intended to provide an Application Programming Interface (API) that is fully accessible to Java programmers to reference and implement in their own applications. Since an interface may be used in Java packages that are different from their own, public visibility ensures that program code can access the variable.\n</blockquote>\n"},{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":1,"up_vote_count":78,"is_accepted":false,"score":77,"last_activity_date":1676938618,"creation_date":1300708869,"answer_id":5377300,"question_id":5376970,"body_markdown":"Although the often quoted reason is that &quot;interfaces define public APIs&quot;, I think that is an over-simplification.  (And it &quot;smells&quot; of circular logic too.)\r\n\r\nIt would not be meaningless to have interfaces that have a mixture of access modifiers; e.g. partly public and partly restricted to other classes in the same package as the interface.  In fact, in some cases this could be down-right useful, IMO. \r\n\r\nActually, I think that the part of *reasoning* behind making members of an interface implicitly public is that *it makes the Java language simpler*:\r\n\r\n  - Implicitly public interface members are simpler for programmers to deal with.  How many times have you seen code (classes) where the method access modifiers were chosen seemingly at random?  A lot of &quot;ordinary&quot; programmers have difficulty understanding how best to manage Java abstraction boundaries&lt;sup&gt;1&lt;/sup&gt;. Adding public/protected/package-private to interfaces makes it even harder for them. \r\n\r\n  - Implicitly public interface members simplify the language specification ... and hence the task for Java compiler writers, and the folks who implement the Reflection APIs.\r\n\r\nThe line of thinking that the &quot;interfaces define public APIs&quot; is arguably a consequence (or characteristic) of the simplifying language design decision ... not the other way around.  But in reality, the two lines of thought probably developed in parallel in the minds of the Java designers.\r\n\r\nAt any rate, the official response to the RFE in [JDK-8179193][1] makes it clear that the Java design team decided&lt;sup&gt;2&lt;/sup&gt; that allowing `protected` on interfaces adds complexity for little real benefit.  Kudos to @skomisa for [finding the evidence][2]. \r\n\r\nThe evidence in the RFE settles the issue.  That is the **official reason** why that has not been added.\r\n\r\n-------------------\r\n\r\n&lt;sup&gt;1 - Of course, top-gun programmers have no difficulty with these things, and may welcome a richer palette of access control features.  But, what happens when their code is handed over to someone else to maintain?&lt;br&gt;\r\n2 - You may disagree with their decision or their stated reasoning but that is moot.&lt;/sup&gt;\r\n\r\n\r\n  [1]: https://bugs.openjdk.java.net/browse/JDK-8179193\r\n  [2]: https://stackoverflow.com/a/59171193/139985","title":"Protected in Interfaces","body":"<p>Although the often quoted reason is that &quot;interfaces define public APIs&quot;, I think that is an over-simplification.  (And it &quot;smells&quot; of circular logic too.)</p>\n<p>It would not be meaningless to have interfaces that have a mixture of access modifiers; e.g. partly public and partly restricted to other classes in the same package as the interface.  In fact, in some cases this could be down-right useful, IMO.</p>\n<p>Actually, I think that the part of <em>reasoning</em> behind making members of an interface implicitly public is that <em>it makes the Java language simpler</em>:</p>\n<ul>\n<li><p>Implicitly public interface members are simpler for programmers to deal with.  How many times have you seen code (classes) where the method access modifiers were chosen seemingly at random?  A lot of &quot;ordinary&quot; programmers have difficulty understanding how best to manage Java abstraction boundaries<sup>1</sup>. Adding public/protected/package-private to interfaces makes it even harder for them.</p>\n</li>\n<li><p>Implicitly public interface members simplify the language specification ... and hence the task for Java compiler writers, and the folks who implement the Reflection APIs.</p>\n</li>\n</ul>\n<p>The line of thinking that the &quot;interfaces define public APIs&quot; is arguably a consequence (or characteristic) of the simplifying language design decision ... not the other way around.  But in reality, the two lines of thought probably developed in parallel in the minds of the Java designers.</p>\n<p>At any rate, the official response to the RFE in <a href=\"https://bugs.openjdk.java.net/browse/JDK-8179193\" rel=\"nofollow noreferrer\">JDK-8179193</a> makes it clear that the Java design team decided<sup>2</sup> that allowing <code>protected</code> on interfaces adds complexity for little real benefit.  Kudos to @skomisa for <a href=\"https://stackoverflow.com/a/59171193/139985\">finding the evidence</a>.</p>\n<p>The evidence in the RFE settles the issue.  That is the <strong>official reason</strong> why that has not been added.</p>\n<hr />\n<p><sup>1 - Of course, top-gun programmers have no difficulty with these things, and may welcome a richer palette of access control features.  But, what happens when their code is handed over to someone else to maintain?<br>\n2 - You may disagree with their decision or their stated reasoning but that is moot.</sup></p>\n"},{"tags":[],"owner":{"account_id":3261114,"reputation":489,"user_id":2746690,"display_name":"Michael Oberlin"},"down_vote_count":0,"up_vote_count":32,"is_accepted":false,"score":32,"last_activity_date":1406221432,"creation_date":1406221432,"answer_id":24939834,"question_id":5376970,"body_markdown":"I have to say that this question has been re-opened by the introduction of default methods in Java 8. The project that I am working on right now is, similar to the base nature of an interface, meant to abstract intention from implementation.\r\n\r\nThere are several cases in which I could drastically simplify my code with a &quot;default protected&quot; method. It turns out that that doesn&#39;t actually work, as interfaces still stick to Java 7 logic. A normal protected method doesn&#39;t especially make any sense, for the reasons mentioned above; but if a default public method requires a low-level resource that will not likely change and can be provided by a protected method, it seems to me that having &quot;default protected&quot; work would not only maintain cleaner code, it would protect future users from accidental abuses.\r\n\r\n(This tragically does not change the fact that I still need to over-complicate my code with otherwise unnecessary abstracts; but I do intend to put a feature request in at Oracle.)","title":"Protected in Interfaces","body":"<p>I have to say that this question has been re-opened by the introduction of default methods in Java 8. The project that I am working on right now is, similar to the base nature of an interface, meant to abstract intention from implementation.</p>\n\n<p>There are several cases in which I could drastically simplify my code with a \"default protected\" method. It turns out that that doesn't actually work, as interfaces still stick to Java 7 logic. A normal protected method doesn't especially make any sense, for the reasons mentioned above; but if a default public method requires a low-level resource that will not likely change and can be provided by a protected method, it seems to me that having \"default protected\" work would not only maintain cleaner code, it would protect future users from accidental abuses.</p>\n\n<p>(This tragically does not change the fact that I still need to over-complicate my code with otherwise unnecessary abstracts; but I do intend to put a feature request in at Oracle.)</p>\n"},{"tags":[],"owner":{"account_id":3676496,"reputation":441,"user_id":3062486,"accept_rate":12,"display_name":"IntelliData"},"down_vote_count":1,"up_vote_count":9,"is_accepted":false,"score":8,"last_activity_date":1458756622,"creation_date":1458756622,"answer_id":36185652,"question_id":5376970,"body_markdown":"I *strongly* feel that interfaces should allow protected methods; who said that interfaces have to be visible to everyone in the whole world? As to your point that it might confuse &quot;ordinary&quot; (read:incompetent) programmers: So much of OOP is about properly structuring objects, classes, packages etc., if a programmer has a hard time with doing all that properly, he has a much bigger problem. Java was *built* for that type of thing.","title":"Protected in Interfaces","body":"<p>I <em>strongly</em> feel that interfaces should allow protected methods; who said that interfaces have to be visible to everyone in the whole world? As to your point that it might confuse \"ordinary\" (read:incompetent) programmers: So much of OOP is about properly structuring objects, classes, packages etc., if a programmer has a hard time with doing all that properly, he has a much bigger problem. Java was <em>built</em> for that type of thing.</p>\n"},{"tags":[],"owner":{"account_id":4899899,"reputation":4110,"user_id":3948862,"accept_rate":57,"display_name":"D&#225;vid Horv&#225;th"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1580937422,"creation_date":1459162958,"answer_id":36260979,"question_id":5376970,"body_markdown":"Declaring internal subinterfaces is a good practice, but you can not declare your internal methods as `protected` in an interface in Java, technically.\r\n\r\nOf course, you can create another interface for internal use which extends the public interface:\r\n\r\n    package yourpackage;\r\n    \r\n    public interface PublicInterface {\r\n        \r\n        public void doThing1();\r\n        \r\n        public void doThing2();\r\n        \r\n        public void doThing3();\r\n        \r\n    }\r\n\r\n---\r\n\r\n    package yourpackage;\r\n    \r\n    interface InternalInterface extends PublicInterface {\r\n        \r\n        void doAnyInternalThing1();\r\n        \r\n        void doAnyInternalThing2();\r\n        \r\n    }\r\n\r\nYou may use the `InternalInterface` interface inside the package, but you should accept any subtype of `PublicInterface` (in public methods):\r\n\r\n    package yourpackage;\r\n    \r\n    public class SomeClass {\r\n        \r\n        public void someMethod(PublicInterface param) {\r\n            if (param instanceof InternalInterface) {\r\n                // run the optimized code\r\n            } else {\r\n                // run the general code\r\n            }\r\n        }\r\n        \r\n    }\r\n\r\nOutside the package users can use `PublicInterface` without problems.\r\n\r\nUsually programmers create abstract classes in similar situations. However, in this case we lose the benefits of multiple inheritance.","title":"Protected in Interfaces","body":"<p>Declaring internal subinterfaces is a good practice, but you can not declare your internal methods as <code>protected</code> in an interface in Java, technically.</p>\n\n<p>Of course, you can create another interface for internal use which extends the public interface:</p>\n\n<pre><code>package yourpackage;\n\npublic interface PublicInterface {\n\n    public void doThing1();\n\n    public void doThing2();\n\n    public void doThing3();\n\n}\n</code></pre>\n\n<hr>\n\n<pre><code>package yourpackage;\n\ninterface InternalInterface extends PublicInterface {\n\n    void doAnyInternalThing1();\n\n    void doAnyInternalThing2();\n\n}\n</code></pre>\n\n<p>You may use the <code>InternalInterface</code> interface inside the package, but you should accept any subtype of <code>PublicInterface</code> (in public methods):</p>\n\n<pre><code>package yourpackage;\n\npublic class SomeClass {\n\n    public void someMethod(PublicInterface param) {\n        if (param instanceof InternalInterface) {\n            // run the optimized code\n        } else {\n            // run the general code\n        }\n    }\n\n}\n</code></pre>\n\n<p>Outside the package users can use <code>PublicInterface</code> without problems.</p>\n\n<p>Usually programmers create abstract classes in similar situations. However, in this case we lose the benefits of multiple inheritance.</p>\n"},{"tags":[],"owner":{"account_id":10746148,"reputation":241,"user_id":7907405,"display_name":"Aftaab Siddiki"},"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1509428668,"creation_date":1509428668,"answer_id":47028595,"question_id":5376970,"body_markdown":"Protected methods are always accessible by sub-class only if subclass extends the base class.\r\n\r\nIn case of interface, subclass never extends the interface. It implements the interface.\r\n\r\nProtected methods are accessible via **extend** and not with **implement**.  ","title":"Protected in Interfaces","body":"<p>Protected methods are always accessible by sub-class only if subclass extends the base class.</p>\n\n<p>In case of interface, subclass never extends the interface. It implements the interface.</p>\n\n<p>Protected methods are accessible via <strong>extend</strong> and not with <strong>implement</strong>.  </p>\n"},{"tags":[],"owner":{"account_id":142373,"reputation":10607,"user_id":350061,"accept_rate":100,"display_name":"Stefanos Kargas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1560458168,"creation_date":1560458168,"answer_id":56588239,"question_id":5376970,"body_markdown":"Interfaces are meant to **expose methods to the outer world**. Thus these methods are public by nature. However, if you want to introduce **abstraction within the same family of classes** it is possible by creating another level of abstraction between your interface and implementation class, i.e. an abstract class. An example is demonstrated below.\r\n\r\n    public interface MyInterface {\r\n        public void publicMethod(); // needs to be public\r\n    }\r\n\r\n    public abstract class MyAbstractClass implements MyInterface {\r\n        @Override\r\n        public void publicMethod() {\r\n            protectedMethod(); // you can call protected method here\r\n            // do other stuff\r\n        }\r\n        protected abstract void protectedMethod(); // can be protected\r\n    }\r\n\r\n    public class MyClass extends MyAbstractClass {\r\n        @Override\r\n        protected void protectedMethod() {\r\n            // implement protected method here, without exposing it as public\r\n        }\r\n    }","title":"Protected in Interfaces","body":"<p>Interfaces are meant to <strong>expose methods to the outer world</strong>. Thus these methods are public by nature. However, if you want to introduce <strong>abstraction within the same family of classes</strong> it is possible by creating another level of abstraction between your interface and implementation class, i.e. an abstract class. An example is demonstrated below.</p>\n\n<pre><code>public interface MyInterface {\n    public void publicMethod(); // needs to be public\n}\n\npublic abstract class MyAbstractClass implements MyInterface {\n    @Override\n    public void publicMethod() {\n        protectedMethod(); // you can call protected method here\n        // do other stuff\n    }\n    protected abstract void protectedMethod(); // can be protected\n}\n\npublic class MyClass extends MyAbstractClass {\n    @Override\n    protected void protectedMethod() {\n        // implement protected method here, without exposing it as public\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3576533,"reputation":16716,"user_id":2985643,"accept_rate":40,"display_name":"skomisa"},"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1575445608,"creation_date":1575445608,"answer_id":59171193,"question_id":5376970,"body_markdown":"Several answers here employ circular reasoning to explain why interface methods can&#39;t be protected: it&#39;s because they have to be public, so obviously they can&#39;t be protected!\r\n\r\nThat explains nothing, but fortunately [someone raised an enhancement request for protected methods in interfaces as a JDK bug][1] a couple of years ago, which sheds some light on the issue:\r\n\r\n&gt; Protected methods in interfaces: share across packages\r\n&gt; \r\n&gt; Since modifiers are a bit limited in Java, a way to share methods\r\n&gt; across packages is restricted to public methods. Sometimes it is\r\n&gt; dangerous to make a method public, but it needs to be because of the\r\n&gt; lack of proper modifiers. My solution overcomes this limitation.\r\n&gt; \r\n&gt; The java language specification doesn&#39;t currently allow the protected\r\n&gt; modifier for interface methods. We can take advantage of this fact and\r\n&gt; use protected for interface methods for this new feature.\r\n&gt; \r\n&gt; If an interface method is marked protected and the interface is\r\n&gt; implemented by a class in another package, the method would not need\r\n&gt; to be public, but could also be private or at least package protected.\r\n&gt; The method is visible, what ever the class declares it to be and\r\n&gt; additionally visible in the source package of the interface (and sub\r\n&gt; packages?).\r\n&gt; \r\n&gt; This way we could share certain methods across well known packages.\r\n\r\nAnd this is the response to that enhancement request, which was closed with status `Won&#39;t fix`:\r\n\r\n&gt; This proposal attempts to solve a problem in a way that adds\r\n&gt; complexity and special cases for little actual gain. A typical way to\r\n&gt; solve this problem is to have a private class that implements a public\r\n&gt; interface. The implementation methods are public, but are within a\r\n&gt; private class, so they remain private.\r\n&gt; \r\n&gt; An alternative available starting in Java 9 is to make classes and\r\n&gt; methods public, but within a module that has a qualified-export to\r\n&gt; specific &quot;friend&quot; modules instead of being exported to the general\r\n&gt; public.\r\n\r\nSo the authoritative takeaways from that bug report are:\r\n\r\n- The current situation is not going to change; interfaces are unlikely to ever support `protected` methods.\r\n- The justification for not supporting `protected` methods in interfaces is that it &quot;*adds complexity and special cases for little actual gain*&quot;.\r\n- Since Java 9 there is an alternative approach for providing package level access to methods. Use [the Java Platform Module System (JPMS)][2] to &quot;*make classes and methods public, but within a module that has a qualified-export to specific &quot;friend&quot; modules instead of being exported to the general public*&quot;.\r\n\r\n  [1]: https://bugs.openjdk.java.net/browse/JDK-8179193\r\n  [2]: https://www.oracle.com/corporate/features/understanding-java-9-modules.html","title":"Protected in Interfaces","body":"<p>Several answers here employ circular reasoning to explain why interface methods can't be protected: it's because they have to be public, so obviously they can't be protected!</p>\n\n<p>That explains nothing, but fortunately <a href=\"https://bugs.openjdk.java.net/browse/JDK-8179193\" rel=\"noreferrer\">someone raised an enhancement request for protected methods in interfaces as a JDK bug</a> a couple of years ago, which sheds some light on the issue:</p>\n\n<blockquote>\n  <p>Protected methods in interfaces: share across packages</p>\n  \n  <p>Since modifiers are a bit limited in Java, a way to share methods\n  across packages is restricted to public methods. Sometimes it is\n  dangerous to make a method public, but it needs to be because of the\n  lack of proper modifiers. My solution overcomes this limitation.</p>\n  \n  <p>The java language specification doesn't currently allow the protected\n  modifier for interface methods. We can take advantage of this fact and\n  use protected for interface methods for this new feature.</p>\n  \n  <p>If an interface method is marked protected and the interface is\n  implemented by a class in another package, the method would not need\n  to be public, but could also be private or at least package protected.\n  The method is visible, what ever the class declares it to be and\n  additionally visible in the source package of the interface (and sub\n  packages?).</p>\n  \n  <p>This way we could share certain methods across well known packages.</p>\n</blockquote>\n\n<p>And this is the response to that enhancement request, which was closed with status <code>Won't fix</code>:</p>\n\n<blockquote>\n  <p>This proposal attempts to solve a problem in a way that adds\n  complexity and special cases for little actual gain. A typical way to\n  solve this problem is to have a private class that implements a public\n  interface. The implementation methods are public, but are within a\n  private class, so they remain private.</p>\n  \n  <p>An alternative available starting in Java 9 is to make classes and\n  methods public, but within a module that has a qualified-export to\n  specific \"friend\" modules instead of being exported to the general\n  public.</p>\n</blockquote>\n\n<p>So the authoritative takeaways from that bug report are:</p>\n\n<ul>\n<li>The current situation is not going to change; interfaces are unlikely to ever support <code>protected</code> methods.</li>\n<li>The justification for not supporting <code>protected</code> methods in interfaces is that it \"<em>adds complexity and special cases for little actual gain</em>\".</li>\n<li>Since Java 9 there is an alternative approach for providing package level access to methods. Use <a href=\"https://www.oracle.com/corporate/features/understanding-java-9-modules.html\" rel=\"noreferrer\">the Java Platform Module System (JPMS)</a> to \"<em>make classes and methods public, but within a module that has a qualified-export to specific \"friend\" modules instead of being exported to the general public</em>\".</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":22338783,"reputation":31,"user_id":16558873,"display_name":"Tingjun Yuan"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1659305162,"creation_date":1627623839,"answer_id":68585980,"question_id":5376970,"body_markdown":"Non-`public` members are generally used by `public` members.  For example, `AbstractList.removeRange(int, int)` is used by `AbstractList.clear()`, and overriding it will improve the performance of `clear`.\r\n\r\nIf `protected` methods are allowed in interfaces, it means that most `public default` implementations will rely on these methods.  If a subclass does not need `default` implementations and override all `public` methods, then all non-`public` methods will no longer be useful.  And if they are `abstract`, we will still have to override them, which makes subclasses complicated.","title":"Protected in Interfaces","body":"<p>Non-<code>public</code> members are generally used by <code>public</code> members.  For example, <code>AbstractList.removeRange(int, int)</code> is used by <code>AbstractList.clear()</code>, and overriding it will improve the performance of <code>clear</code>.</p>\n<p>If <code>protected</code> methods are allowed in interfaces, it means that most <code>public default</code> implementations will rely on these methods.  If a subclass does not need <code>default</code> implementations and override all <code>public</code> methods, then all non-<code>public</code> methods will no longer be useful.  And if they are <code>abstract</code>, we will still have to override them, which makes subclasses complicated.</p>\n"},{"tags":[],"owner":{"account_id":15545149,"reputation":1170,"user_id":11214643,"display_name":"Delark"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633648869,"creation_date":1633641558,"answer_id":69487978,"question_id":5376970,"body_markdown":"I know this is very late/old and I am sure that by now you have a lot more experience than me, so if this helps anyone, cheers, ... \r\n\r\nI&#39;ve found a way that keeps things comfortably cohesive, that prevents the usage of objects when dealing with protected&#39;s in-package.\r\n\r\nIn hindsight this seems ridiculously easy, but the fact of the matter is that the goal of whatever is you want to achieve with a piece of code, becomes 10 times more difficult if you spend any amount of time to try to accommodate it to standards and/or adjusts for code reusability.\r\n\r\nThe reality is that the order, will unfold as you go..\r\n\r\nBut I made a chart cause it has helped me in something that, depending on the problem can easily mind-bend me.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n    public interface CommonPublics {\r\n        void publicInAll();\r\n    }\r\n    public static abstract class CommonProtecteds implements CommonPublics {\r\n        protected abstract void protectedInAll();\r\n    }\r\n    public interface MyObjectPublics {\r\n        void myObjectPublic();\r\n    }\r\n    public static class MyObject extends CommonProtecteds implements MyObjectPublics {\r\n\r\n        @Override\r\n        public void publicInAll() {\r\n\r\n        }\r\n\r\n        @Override\r\n        protected void protectedInAll() {\r\n\r\n        }\r\n\r\n        @Override\r\n        public void myObjectPublic() {\r\n\r\n        }\r\n    }\r\n\r\nNow when you need to deal with protecteds within the same package, instead of dealing with MyObject, you can deal with CommonProtecteds instead.\r\n\r\nNow you could in theory bring whatever logic that handles protected&#39;s inside the abstract and that&#39;s up to you, but if for whatever reason you are dealing with concurrency, is better to keep everything as tight and as close to the synchronized body as possible. so whatever the protected is required to deal with that may be required inside different locked locations is better placed in the object that will handle it.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/EQpyK.png","title":"Protected in Interfaces","body":"<p>I know this is very late/old and I am sure that by now you have a lot more experience than me, so if this helps anyone, cheers, ...</p>\n<p>I've found a way that keeps things comfortably cohesive, that prevents the usage of objects when dealing with protected's in-package.</p>\n<p>In hindsight this seems ridiculously easy, but the fact of the matter is that the goal of whatever is you want to achieve with a piece of code, becomes 10 times more difficult if you spend any amount of time to try to accommodate it to standards and/or adjusts for code reusability.</p>\n<p>The reality is that the order, will unfold as you go..</p>\n<p>But I made a chart cause it has helped me in something that, depending on the problem can easily mind-bend me.</p>\n<p><a href=\"https://i.stack.imgur.com/EQpyK.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/EQpyK.png\" alt=\"enter image description here\" /></a></p>\n<pre><code>public interface CommonPublics {\n    void publicInAll();\n}\npublic static abstract class CommonProtecteds implements CommonPublics {\n    protected abstract void protectedInAll();\n}\npublic interface MyObjectPublics {\n    void myObjectPublic();\n}\npublic static class MyObject extends CommonProtecteds implements MyObjectPublics {\n\n    @Override\n    public void publicInAll() {\n\n    }\n\n    @Override\n    protected void protectedInAll() {\n\n    }\n\n    @Override\n    public void myObjectPublic() {\n\n    }\n}\n</code></pre>\n<p>Now when you need to deal with protecteds within the same package, instead of dealing with MyObject, you can deal with CommonProtecteds instead.</p>\n<p>Now you could in theory bring whatever logic that handles protected's inside the abstract and that's up to you, but if for whatever reason you are dealing with concurrency, is better to keep everything as tight and as close to the synchronized body as possible. so whatever the protected is required to deal with that may be required inside different locked locations is better placed in the object that will handle it.</p>\n"}],"owner":{"account_id":285358,"reputation":13115,"user_id":583980,"accept_rate":74,"display_name":"Swaranga Sarma"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":78980,"favorite_count":0,"down_vote_count":0,"up_vote_count":159,"accepted_answer_id":5376999,"answer_count":15,"score":159,"last_activity_date":1676938618,"creation_date":1300706734,"question_id":5376970,"body_markdown":"Why are all methods in an `interface` definition implicitly `public`? Why does it not allow a `protected` method?","title":"Protected in Interfaces","body":"<p>Why are all methods in an <code>interface</code> definition implicitly <code>public</code>? Why does it not allow a <code>protected</code> method?</p>\n"},{"tags":["java","android","date","mpandroidchart","android-date"],"comments":[{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1676870954,"post_id":75500907,"comment_id":133217658,"body_markdown":"You are using terrible date-time classes that were years ago supplanted by the modern *java.time* classes defined in JSR 310.","body":"You are using terrible date-time classes that were years ago supplanted by the modern <i>java.time</i> classes defined in JSR 310."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1676871043,"post_id":75500907,"comment_id":133217667,"body_markdown":"How *exactly* do you define a week? Perhaps the [ISO 8601](https://en.wikipedia.org/wiki/ISO_week_date) way? Or a localized way? If so, what locale?","body":"How <i>exactly</i> do you define a week? Perhaps the <a href=\"https://en.wikipedia.org/wiki/ISO_week_date\" rel=\"nofollow noreferrer\">ISO 8601</a> way? Or a localized way? If so, what locale?"},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1676921850,"post_id":75500907,"comment_id":133230934,"body_markdown":"Consider not using `Calendar`. That class is poorly designed, cumbersome to work with and long outdated. Use `LocalDate` and `WeekFields` from [java.time, the modern Java date and time API](https://docs.oracle.com/javase/tutorial/datetime/). The modern API is so much nicer to work with. If for older Android, than through [desugaring](https://developer.android.com/studio/write/java8-support-table).","body":"Consider not using <code>Calendar</code>. That class is poorly designed, cumbersome to work with and long outdated. Use <code>LocalDate</code> and <code>WeekFields</code> from <a href=\"https://docs.oracle.com/javase/tutorial/datetime/\" rel=\"nofollow noreferrer\">java.time, the modern Java date and time API</a>. The modern API is so much nicer to work with. If for older Android, than through <a href=\"https://developer.android.com/studio/write/java8-support-table\" rel=\"nofollow noreferrer\">desugaring</a>."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1676939092,"post_id":75500907,"comment_id":133234217,"body_markdown":"[Here is the way I would do it using java.time](https://rextester.com/SEFWW74353). The code has approximately the same length as yours, but I find it much clearer to read and debug than anything you can write with the old-fashioned `Calendar` class.","body":"<a href=\"https://rextester.com/SEFWW74353\" rel=\"nofollow noreferrer\">Here is the way I would do it using java.time</a>. The code has approximately the same length as yours, but I find it much clearer to read and debug than anything you can write with the old-fashioned <code>Calendar</code> class."},{"owner":{"account_id":3778482,"reputation":302,"user_id":3138580,"accept_rate":47,"display_name":"Mac_Play"},"score":0,"creation_date":1676975830,"post_id":75500907,"comment_id":133240895,"body_markdown":"I am using date-time and calendar things because we are still supporting some older android versions. By the way, I have made a little modification to my code and it worked as expected. Will post it as an answer.@BasilBourque @Ole V.V","body":"I am using date-time and calendar things because we are still supporting some older android versions. By the way, I have made a little modification to my code and it worked as expected. Will post it as an answer.@BasilBourque @Ole V.V"},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1676985481,"post_id":75500907,"comment_id":133243892,"body_markdown":"Possibly repeating myself, when developing for older Android versions, use [desugaring](https://developer.android.com/studio/write/java8-support-table) to access Java 8 and later APIs. Follow the link for how.","body":"Possibly repeating myself, when developing for older Android versions, use <a href=\"https://developer.android.com/studio/write/java8-support-table\" rel=\"nofollow noreferrer\">desugaring</a> to access Java 8 and later APIs. Follow the link for how."}],"answers":[{"tags":[],"owner":{"account_id":26818426,"reputation":21,"user_id":20408114,"display_name":"Lishchuk Bohdan"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1676818667,"creation_date":1676818667,"answer_id":75501017,"question_id":75500907,"body_markdown":"To get the week ranges with only current month dates, you can modify the logic in your getWeeksInCurrentMonth() method to take the current month into account and exclude any dates from previous or next months. Here&#39;s an updated implementation that should achieve the desired behavior:\r\n\r\n\r\n```\r\npublic List&lt;String&gt; getWeeksInCurrentMonth() {\r\n    Calendar cal = Calendar.getInstance();\r\n    int currentMonth = cal.get(Calendar.MONTH);\r\n    int currentYear = cal.get(Calendar.YEAR);\r\n    cal.set(Calendar.DAY_OF_MONTH, 1);\r\n\r\n    List&lt;String&gt; weekRanges = new ArrayList&lt;&gt;();\r\n\r\n    while (cal.get(Calendar.MONTH) == currentMonth) {\r\n        int week = cal.get(Calendar.WEEK_OF_MONTH);\r\n        int year = cal.get(Calendar.YEAR);\r\n        int dayOfWeek = cal.get(Calendar.DAY_OF_WEEK);\r\n\r\n        // Only consider days in the current month\r\n        if (cal.get(Calendar.MONTH) == currentMonth &amp;&amp; cal.get(Calendar.YEAR) == currentYear) {\r\n            int startDay = cal.get(Calendar.DAY_OF_MONTH);\r\n            int endDay = startDay + (7 - dayOfWeek);\r\n\r\n            if (endDay &gt; cal.getActualMaximum(Calendar.DAY_OF_MONTH)) {\r\n                endDay = cal.getActualMaximum(Calendar.DAY_OF_MONTH);\r\n            }\r\n\r\n            weekRanges.add(String.format(&quot;%d-%d&quot;, startDay, endDay));\r\n        }\r\n\r\n        cal.add(Calendar.DAY_OF_MONTH, 7 - dayOfWeek + 1);\r\n    }\r\n\r\n    System.out.println(weekRanges);\r\n    return weekRanges;\r\n}\r\n```","title":"Get week range of current month in Android","body":"<p>To get the week ranges with only current month dates, you can modify the logic in your getWeeksInCurrentMonth() method to take the current month into account and exclude any dates from previous or next months. Here's an updated implementation that should achieve the desired behavior:</p>\n<pre><code>public List&lt;String&gt; getWeeksInCurrentMonth() {\n    Calendar cal = Calendar.getInstance();\n    int currentMonth = cal.get(Calendar.MONTH);\n    int currentYear = cal.get(Calendar.YEAR);\n    cal.set(Calendar.DAY_OF_MONTH, 1);\n\n    List&lt;String&gt; weekRanges = new ArrayList&lt;&gt;();\n\n    while (cal.get(Calendar.MONTH) == currentMonth) {\n        int week = cal.get(Calendar.WEEK_OF_MONTH);\n        int year = cal.get(Calendar.YEAR);\n        int dayOfWeek = cal.get(Calendar.DAY_OF_WEEK);\n\n        // Only consider days in the current month\n        if (cal.get(Calendar.MONTH) == currentMonth &amp;&amp; cal.get(Calendar.YEAR) == currentYear) {\n            int startDay = cal.get(Calendar.DAY_OF_MONTH);\n            int endDay = startDay + (7 - dayOfWeek);\n\n            if (endDay &gt; cal.getActualMaximum(Calendar.DAY_OF_MONTH)) {\n                endDay = cal.getActualMaximum(Calendar.DAY_OF_MONTH);\n            }\n\n            weekRanges.add(String.format(&quot;%d-%d&quot;, startDay, endDay));\n        }\n\n        cal.add(Calendar.DAY_OF_MONTH, 7 - dayOfWeek + 1);\n    }\n\n    System.out.println(weekRanges);\n    return weekRanges;\n}\n</code></pre>\n"}],"owner":{"account_id":3778482,"reputation":302,"user_id":3138580,"accept_rate":47,"display_name":"Mac_Play"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":174,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1676938178,"creation_date":1676817728,"question_id":75500907,"body_markdown":"I would like to show the week range in the MPAndroidChart Graph. For example in February month I would like to show the xAxis label value like 1-4, 5-11, 12- 18, 19-25, 26-28. Here 1-4 comes from the 1st week of February where previous month dates also availble. But I need only current month days. However I am getting all the dates in the week.\r\n\r\n     public List&lt;String&gt; getWeeksInCurrentMonth() {\r\n        Calendar cal = Calendar.getInstance();\r\n        cal.set(Calendar.DAY_OF_MONTH, 1);\r\n        int month = cal.get(Calendar.MONTH);\r\n\r\n        List&lt;String&gt; weekRanges = new ArrayList&lt;&gt;();\r\n\r\n        while (cal.get(Calendar.MONTH) == month) {\r\n            int week = cal.get(Calendar.WEEK_OF_MONTH);\r\n            int year = cal.get(Calendar.YEAR);\r\n            int dayOfWeek = cal.get(Calendar.DAY_OF_WEEK);\r\n\r\n            if (dayOfWeek == Calendar.SUNDAY || cal.getActualMaximum(Calendar.DAY_OF_MONTH) == cal.get(Calendar.DAY_OF_MONTH)) {\r\n                int startDay = cal.get(Calendar.DAY_OF_MONTH) - (dayOfWeek - 1);\r\n                int endDay = cal.get(Calendar.DAY_OF_MONTH) + (7 - dayOfWeek);\r\n\r\n                if (endDay &gt; cal.getActualMaximum(Calendar.DAY_OF_MONTH)) {\r\n                    endDay = cal.getActualMaximum(Calendar.DAY_OF_MONTH);\r\n                }\r\n\r\n                if (startDay &lt;= endDay &amp;&amp; startDay &lt;= cal.getActualMaximum(Calendar.DAY_OF_MONTH)) {\r\n                    weekRanges.add(String.format(&quot;%d-%d&quot;, startDay, endDay));\r\n                }\r\n            }\r\n\r\n            cal.add(Calendar.DAY_OF_MONTH, 1);\r\n        }\r\n\r\n        System.out.println(weekRanges);\r\n        return weekRanges;\r\n\r\n     }\r\n\r\nObserved output when run in US locale:\r\n\r\n&gt; [5-11, 12-18, 19-25, 26-28, 26-28]\r\n\r\nIt seems that the first week is missing.\r\n\r\nSomeone please shed some light here, to acheive the week range with only current month date.\r\n","title":"Get week range of current month in Android","body":"<p>I would like to show the week range in the MPAndroidChart Graph. For example in February month I would like to show the xAxis label value like 1-4, 5-11, 12- 18, 19-25, 26-28. Here 1-4 comes from the 1st week of February where previous month dates also availble. But I need only current month days. However I am getting all the dates in the week.</p>\n<pre><code> public List&lt;String&gt; getWeeksInCurrentMonth() {\n    Calendar cal = Calendar.getInstance();\n    cal.set(Calendar.DAY_OF_MONTH, 1);\n    int month = cal.get(Calendar.MONTH);\n\n    List&lt;String&gt; weekRanges = new ArrayList&lt;&gt;();\n\n    while (cal.get(Calendar.MONTH) == month) {\n        int week = cal.get(Calendar.WEEK_OF_MONTH);\n        int year = cal.get(Calendar.YEAR);\n        int dayOfWeek = cal.get(Calendar.DAY_OF_WEEK);\n\n        if (dayOfWeek == Calendar.SUNDAY || cal.getActualMaximum(Calendar.DAY_OF_MONTH) == cal.get(Calendar.DAY_OF_MONTH)) {\n            int startDay = cal.get(Calendar.DAY_OF_MONTH) - (dayOfWeek - 1);\n            int endDay = cal.get(Calendar.DAY_OF_MONTH) + (7 - dayOfWeek);\n\n            if (endDay &gt; cal.getActualMaximum(Calendar.DAY_OF_MONTH)) {\n                endDay = cal.getActualMaximum(Calendar.DAY_OF_MONTH);\n            }\n\n            if (startDay &lt;= endDay &amp;&amp; startDay &lt;= cal.getActualMaximum(Calendar.DAY_OF_MONTH)) {\n                weekRanges.add(String.format(&quot;%d-%d&quot;, startDay, endDay));\n            }\n        }\n\n        cal.add(Calendar.DAY_OF_MONTH, 1);\n    }\n\n    System.out.println(weekRanges);\n    return weekRanges;\n\n }\n</code></pre>\n<p>Observed output when run in US locale:</p>\n<blockquote>\n<p>[5-11, 12-18, 19-25, 26-28, 26-28]</p>\n</blockquote>\n<p>It seems that the first week is missing.</p>\n<p>Someone please shed some light here, to acheive the week range with only current month date.</p>\n"},{"tags":["java","java.util.concurrent"],"comments":[{"owner":{"account_id":108033,"reputation":17201,"user_id":286934,"display_name":"Progman"},"score":3,"creation_date":1676929655,"post_id":75514398,"comment_id":133232657,"body_markdown":"Why not use the `valueOf()` method, see https://stackoverflow.com/questions/604424/how-to-get-an-enum-value-from-a-string-value-in-java?","body":"Why not use the <code>valueOf()</code> method, see <a href=\"https://stackoverflow.com/questions/604424/how-to-get-an-enum-value-from-a-string-value-in-java\" title=\"how to get an enum value from a string value in java\">stackoverflow.com/questions/604424/&hellip;</a>?"},{"owner":{"account_id":2792262,"reputation":163847,"user_id":2402272,"accept_rate":85,"display_name":"John Bollinger"},"score":0,"creation_date":1676931047,"post_id":75514398,"comment_id":133232961,"body_markdown":"Presumably, @Progman, because the strings the OP wants to convert into enum instances are different from the names of the instances.  They may well not have any better way to reconcile their requirements for external representation with their code conventions for enum names.","body":"Presumably, @Progman, because the strings the OP wants to convert into enum instances are different from the names of the instances.  They may well not have any better way to reconcile their requirements for external representation with their code conventions for enum names."},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1676932521,"post_id":75514398,"comment_id":133233261,"body_markdown":"@JohnBollinger Except the OP does `val.name().equals(thirdPartyCode)`, which compares the input string exactly. Seems like that whole method could be replaced with `ThirdPartyContentSource.valueOf(thirdPartyCode).getText()`. I assume the intention is to be able to convert `&quot;DEV_TO&quot;` to `&quot;DevTo&quot;` and such, though that&#39;s just a guess.","body":"@JohnBollinger Except the OP does <code>val.name().equals(thirdPartyCode)</code>, which compares the input string exactly. Seems like that whole method could be replaced with <code>ThirdPartyContentSource.valueOf(thirdPartyCode).getText()</code>. I assume the intention is to be able to convert <code>&quot;DEV_TO&quot;</code> to <code>&quot;DevTo&quot;</code> and such, though that&#39;s just a guess."},{"owner":{"account_id":2792262,"reputation":163847,"user_id":2402272,"accept_rate":85,"display_name":"John Bollinger"},"score":0,"creation_date":1676933579,"post_id":75514398,"comment_id":133233463,"body_markdown":"Fair observation, @Slaw.  I am, of course, assuming that where the OP wrote `val.name().equals(thirdPartyCode)` they meant `val.getText().equals(thirdPartyCode)`.  If that&#39;s incorrect then the `valueOf()` method they get for free would indeed be a better choice than a hand-rolled work-alike.","body":"Fair observation, @Slaw.  I am, of course, assuming that where the OP wrote <code>val.name().equals(thirdPartyCode)</code> they meant <code>val.getText().equals(thirdPartyCode)</code>.  If that&#39;s incorrect then the <code>valueOf()</code> method they get for free would indeed be a better choice than a hand-rolled work-alike."}],"answers":[{"tags":[],"owner":{"account_id":1064245,"reputation":85256,"user_id":1065197,"accept_rate":88,"display_name":"Luiggi Mendoza"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1676929567,"creation_date":1676929567,"answer_id":75514435,"question_id":75514398,"body_markdown":"There won&#39;t be any thread safety issue since you&#39;re not modifying any data in there. There won&#39;t be a race condition or anything like that.\r\n","title":"Java Thread Safety of Enum ValueOf","body":"<p>There won't be any thread safety issue since you're not modifying any data in there. There won't be a race condition or anything like that.</p>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676937918,"creation_date":1676937599,"answer_id":75515247,"question_id":75514398,"body_markdown":"# tl;dr\r\n\r\nMark `thirdPartyText` as `final`. Then you’re thread-safe.\r\n\r\n# Details\r\n\r\nThe `enum` objects themselves (`DEV_TO`, `MEDIUM`, `HASH_NODE`) are all instantiated when their `enum` class loads. So no thread-safety issues there.\r\n\r\nYour enum class carries state, the `thirdPartyText`. The content of the field is immutable (`String`). That is good, as being immutable eliminates some concurrency issues. \r\n\r\nThe only problem I see is if the object reference were changing during runtime, if you were to replace one `String` object with another `String` object. Apparently you intend that this state does *not* change during runtime. You can enforce that by declaring the class member field to be `final`. Being `final` means that another object cannot be assigned to that reference variable.\r\n\r\n    private final String thirdPartyText;  // Make this field `final`. \r\n\r\nYour `valueOfCode` method loops through the enums (via `.values` call), which does not change during runtime. So no thread-safety problem there. \r\n\r\nAnd your `valueOfCode` method accesses the `thirdPartyText` field which we fixed by making `final`, so those values are not changing during runtime. So no thread-safety problem there.\r\n\r\nYour intention for `valueOfCode` is not clear — see Comments posted on the Question. But I don&#39;t see a thread-safety issue there.\r\n\r\nWhile I am not a concurrency expert, you code looks thread-safe to me, after making that `final` change.\r\n\r\n\r\n","title":"Java Thread Safety of Enum ValueOf","body":"<h1>tl;dr</h1>\n<p>Mark <code>thirdPartyText</code> as <code>final</code>. Then you’re thread-safe.</p>\n<h1>Details</h1>\n<p>The <code>enum</code> objects themselves (<code>DEV_TO</code>, <code>MEDIUM</code>, <code>HASH_NODE</code>) are all instantiated when their <code>enum</code> class loads. So no thread-safety issues there.</p>\n<p>Your enum class carries state, the <code>thirdPartyText</code>. The content of the field is immutable (<code>String</code>). That is good, as being immutable eliminates some concurrency issues.</p>\n<p>The only problem I see is if the object reference were changing during runtime, if you were to replace one <code>String</code> object with another <code>String</code> object. Apparently you intend that this state does <em>not</em> change during runtime. You can enforce that by declaring the class member field to be <code>final</code>. Being <code>final</code> means that another object cannot be assigned to that reference variable.</p>\n<pre><code>private final String thirdPartyText;  // Make this field `final`. \n</code></pre>\n<p>Your <code>valueOfCode</code> method loops through the enums (via <code>.values</code> call), which does not change during runtime. So no thread-safety problem there.</p>\n<p>And your <code>valueOfCode</code> method accesses the <code>thirdPartyText</code> field which we fixed by making <code>final</code>, so those values are not changing during runtime. So no thread-safety problem there.</p>\n<p>Your intention for <code>valueOfCode</code> is not clear — see Comments posted on the Question. But I don't see a thread-safety issue there.</p>\n<p>While I am not a concurrency expert, you code looks thread-safe to me, after making that <code>final</code> change.</p>\n"}],"owner":{"account_id":1972832,"reputation":378,"user_id":1771344,"accept_rate":75,"display_name":"MetaCoder"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":69,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1676937918,"creation_date":1676929281,"question_id":75514398,"body_markdown":"I have what most likely is a dumb question regarding thread safety. I have a ENUM class where I have valuesof defined like so:\r\n\r\n```java\r\npublic enum ThirdPartyContentSource {\r\n    DEV_TO(&quot;DevTo&quot;),\r\n    MEDIUM(&quot;Medium&quot;),\r\n    HASH_NODE(&quot;HashNode&quot;);\r\n\r\n    private String thirdPartyText;\r\n\r\n    ThirdPartyContentSource(String text) {\r\n        this.thirdPartyText = text;\r\n    }\r\n\r\n    public String getText() {\r\n        return this.thirdPartyText;\r\n    }\r\n\r\n    public static String valueOfCode(String thirdPartyCode) throws IllegalArgumentException {\r\n        ThirdPartyContentSource text = Arrays.stream(ThirdPartyContentSource.values())\r\n                .filter(val -&gt; val.name().equals(thirdPartyCode))\r\n                .findFirst()\r\n                .orElseThrow(() -&gt; new IllegalArgumentException(&quot;Unable to resolve ThirdPartyCode: &quot; + thirdPartyCode));\r\n\r\n        return text.getText();\r\n    }\r\n}\r\n```\r\n\r\nmy question is, if two threads call the the valueOfCode() method at the same time is there any thread safety concerns?\r\n\r\nMany thanks ","title":"Java Thread Safety of Enum ValueOf","body":"<p>I have what most likely is a dumb question regarding thread safety. I have a ENUM class where I have valuesof defined like so:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public enum ThirdPartyContentSource {\n    DEV_TO(&quot;DevTo&quot;),\n    MEDIUM(&quot;Medium&quot;),\n    HASH_NODE(&quot;HashNode&quot;);\n\n    private String thirdPartyText;\n\n    ThirdPartyContentSource(String text) {\n        this.thirdPartyText = text;\n    }\n\n    public String getText() {\n        return this.thirdPartyText;\n    }\n\n    public static String valueOfCode(String thirdPartyCode) throws IllegalArgumentException {\n        ThirdPartyContentSource text = Arrays.stream(ThirdPartyContentSource.values())\n                .filter(val -&gt; val.name().equals(thirdPartyCode))\n                .findFirst()\n                .orElseThrow(() -&gt; new IllegalArgumentException(&quot;Unable to resolve ThirdPartyCode: &quot; + thirdPartyCode));\n\n        return text.getText();\n    }\n}\n</code></pre>\n<p>my question is, if two threads call the the valueOfCode() method at the same time is there any thread safety concerns?</p>\n<p>Many thanks</p>\n"},{"tags":["java","database","jpa","functional-programming","software-design"],"owner":{"account_id":13255339,"reputation":11,"user_id":21253999,"display_name":"Timo Weberru&#223;"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1676937519,"creation_date":1676937519,"question_id":75515243,"body_markdown":"I have a Java class that stores a reference to a list of implementations of a given interface, and I want to persist objects of this class, if possible using my existing Spring JPA/Hibernate framework.\r\n\r\nFor example, let&#39;s say I&#39;m developing a game where stats of a player, like his hit points, strength or other attributes can be altered dynamically by a bunch of effects that change the base value for these properties each in their own way. For this, I designed the following generic class that represents a property that can be altered by a number of modifiers:\r\n\r\n```\r\npublic class ModifiableProperty&lt;T&gt; {\r\n\r\n    private T baseValue;\r\n\r\n    // How can I persist this attribute?\r\n    private List&lt;Modifier&lt;T&gt;&gt; modifiers = new ArrayList();\r\n\r\n    public ModifiableProperty(T baseValue) {...}\r\n\r\n    public T getValue() {\r\n        T value = baseValue;\r\n        for (Modifier&lt;T&gt; modifier : modifiers) {\r\n            value = modifier.apply(value);\r\n        }\r\n        return value;\r\n    }\r\n\r\n    public void addModifier(Modifier&lt;T&gt; mod) {...}\r\n    public void removeModifier(Modifier&lt;T&gt; mod) {...}\r\n}\r\n```\r\n\r\nIt stores a base value for this property as well as a series of modifiers (applied when calculating the total value), which are represented by implementations of the following (functional) interface:\r\n\r\n```\r\n@FunctionalInterface\r\npublic interface Modifier&lt;T&gt; {\r\n    T getModifiedValue (T value);\r\n}\r\n```\r\n\r\nI can add anonymous implementations of `Modifier` to the modifiable property dynamically, for example as lambda expressions.\r\n\r\nI am very new to JPA and, honestly, to database usage in general. How would an experienced developer go about persisting objects of the `ModifiableProperty` class? I am currently using Spring-based JPA with a PostgreSQL database, but I can also switch if necessary.\r\n\r\nI tried to annotate the `ModifiableProperty` class with `@Entity` and the `modifiers` attribute with `@OneToMany`, so far so good. However, there are a number of things that seemingly make this non-trivial: generics, use of polymorphism, and especially the fact I can&#39;t statically specify all possible implementations of `Modifier`. To make polymorphism work, I have often come across the `@AnyMetaDef` and `@MetaValue` annotations, however, it seems like they always require explicitly specifying the possible implementing classes. This is not an option for me, since I want to make use of lambdas and anonymous classes rather than explicit classes which I have to add to this annotation everytime I create a new implementation.\r\n\r\nAnother option might be to store it as a raw byte array. However, this doesn&#39;t feel like an elegant solution and may present consistency and compatibilits issues when things change.\r\n\r\nI feel like my usecase is rather uncommon or avoided in practice. This makes me think that maybe I am thinking and designing the wrong way and something like that isn&#39;t what JPA and relational databases should be used for? I am open to all advice.\r\n\r\nSo I guess my question is: How would an experienced engineer go about architecture, design, and persistency in such a usecase?","title":"How to persist a list of anonymous implementations of an interface in Java?","body":"<p>I have a Java class that stores a reference to a list of implementations of a given interface, and I want to persist objects of this class, if possible using my existing Spring JPA/Hibernate framework.</p>\n<p>For example, let's say I'm developing a game where stats of a player, like his hit points, strength or other attributes can be altered dynamically by a bunch of effects that change the base value for these properties each in their own way. For this, I designed the following generic class that represents a property that can be altered by a number of modifiers:</p>\n<pre><code>public class ModifiableProperty&lt;T&gt; {\n\n    private T baseValue;\n\n    // How can I persist this attribute?\n    private List&lt;Modifier&lt;T&gt;&gt; modifiers = new ArrayList();\n\n    public ModifiableProperty(T baseValue) {...}\n\n    public T getValue() {\n        T value = baseValue;\n        for (Modifier&lt;T&gt; modifier : modifiers) {\n            value = modifier.apply(value);\n        }\n        return value;\n    }\n\n    public void addModifier(Modifier&lt;T&gt; mod) {...}\n    public void removeModifier(Modifier&lt;T&gt; mod) {...}\n}\n</code></pre>\n<p>It stores a base value for this property as well as a series of modifiers (applied when calculating the total value), which are represented by implementations of the following (functional) interface:</p>\n<pre><code>@FunctionalInterface\npublic interface Modifier&lt;T&gt; {\n    T getModifiedValue (T value);\n}\n</code></pre>\n<p>I can add anonymous implementations of <code>Modifier</code> to the modifiable property dynamically, for example as lambda expressions.</p>\n<p>I am very new to JPA and, honestly, to database usage in general. How would an experienced developer go about persisting objects of the <code>ModifiableProperty</code> class? I am currently using Spring-based JPA with a PostgreSQL database, but I can also switch if necessary.</p>\n<p>I tried to annotate the <code>ModifiableProperty</code> class with <code>@Entity</code> and the <code>modifiers</code> attribute with <code>@OneToMany</code>, so far so good. However, there are a number of things that seemingly make this non-trivial: generics, use of polymorphism, and especially the fact I can't statically specify all possible implementations of <code>Modifier</code>. To make polymorphism work, I have often come across the <code>@AnyMetaDef</code> and <code>@MetaValue</code> annotations, however, it seems like they always require explicitly specifying the possible implementing classes. This is not an option for me, since I want to make use of lambdas and anonymous classes rather than explicit classes which I have to add to this annotation everytime I create a new implementation.</p>\n<p>Another option might be to store it as a raw byte array. However, this doesn't feel like an elegant solution and may present consistency and compatibilits issues when things change.</p>\n<p>I feel like my usecase is rather uncommon or avoided in practice. This makes me think that maybe I am thinking and designing the wrong way and something like that isn't what JPA and relational databases should be used for? I am open to all advice.</p>\n<p>So I guess my question is: How would an experienced engineer go about architecture, design, and persistency in such a usecase?</p>\n"},{"tags":["java","c#","jvm","maui","ikvm"],"comments":[{"owner":{"account_id":732315,"reputation":4996,"user_id":681444,"display_name":"racraman"},"score":0,"creation_date":1676794207,"post_id":75497957,"comment_id":133206235,"body_markdown":"Sorry, but I don’t think MAUI. allows you to do that.   MAUI allows your C# application to run on any platform - basically it installs a .NET CLR on each platform, so your C# application only sees .NET.   However, that. .NET CLR  will only execute .NET bytecode - there will be no “magic backdoor” for the CLR to also execute Java bytecode (nor therefore to interpret/execute jar files)","body":"Sorry, but I don’t think MAUI. allows you to do that.   MAUI allows your C# application to run on any platform - basically it installs a .NET CLR on each platform, so your C# application only sees .NET.   However, that. .NET CLR  will only execute .NET bytecode - there will be no “magic backdoor” for the CLR to also execute Java bytecode (nor therefore to interpret/execute jar files)"},{"owner":{"account_id":17878106,"reputation":634,"user_id":13218799,"display_name":"Fitri Halim"},"score":0,"creation_date":1676801049,"post_id":75497957,"comment_id":133207108,"body_markdown":"@racraman, how about other alternative such as winform or MVC, is it possible to do that?","body":"@racraman, how about other alternative such as winform or MVC, is it possible to do that?"},{"owner":{"account_id":732315,"reputation":4996,"user_id":681444,"display_name":"racraman"},"score":0,"creation_date":1676866125,"post_id":75497957,"comment_id":133217084,"body_markdown":"Nope - C# cannot execute JVM code;  they are different beasts.  What you could do is translate your Java libraries to C# - there are tools around to help - see https://stackoverflow.com/questions/896867/tool-to-convert-java-to-c-sharp-code","body":"Nope - C# cannot execute JVM code;  they are different beasts.  What you could do is translate your Java libraries to C# - there are tools around to help - see <a href=\"https://stackoverflow.com/questions/896867/tool-to-convert-java-to-c-sharp-code\" title=\"tool to convert java to c sharp code\">stackoverflow.com/questions/896867/&hellip;</a>"},{"owner":{"account_id":17878106,"reputation":634,"user_id":13218799,"display_name":"Fitri Halim"},"score":0,"creation_date":1676866445,"post_id":75497957,"comment_id":133217128,"body_markdown":"@racraman Actually after trying and trying, I already managed to do it using IKVM. I will share my approach as the answer later. Thanks by the way","body":"@racraman Actually after trying and trying, I already managed to do it using IKVM. I will share my approach as the answer later. Thanks by the way"}],"answers":[{"tags":[],"owner":{"account_id":17878106,"reputation":634,"user_id":13218799,"display_name":"Fitri Halim"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1676936970,"creation_date":1676936970,"answer_id":75515211,"question_id":75497957,"body_markdown":"After trying for few days, the answer to this question is rather simple and straightforward as per mentioned by the this Reddit page https://www.google.com/url?sa=t&amp;source=web&amp;rct=j&amp;url=https://www.reddit.com/r/dotnet/comments/vqqpqb/ikvm_820/&amp;ved=2ahUKEwiOwazRnqX9AhXkJrcAHeXKAXAQjjh6BAgJEAE&amp;usg=AOvVaw3YoS8m3GSuBmkUrtOPsTNv . \r\n\r\nFirst, you run `install-package` IKVM on package manager console.\r\n\r\nSecondly, use a blazor File Picker to pick a file, and load the class using the URL into java using this syntax\r\n```\r\n\r\nvar result = await FilePicker.Default.PickAsync();\r\n\r\nstring URL = result.FullPath;\r\n\r\nJava.net.ClassLoader classloader = new Java.net.URLClassLoader(new URL[]{new URL(&quot;file:///&quot; + URL)});\r\n\r\n```\r\nFrom here you can read more about how to load class from a class loader, and how to create the instance of the class after you create it. When we create the instance of the class, the default constructor will automatically executed.\r\n\r\n```\r\nvar ClassIwantToUse = classLoader.loadClass(&quot;com.company.name&quot;);\r\n\r\nObject classObject = ClassIwantToUse.newInstance();\r\n\r\n```\r\n\r\nFrom there, you can also get declared method from that class, and invoke that method by supplying the object created when you instantiate the object when you call the constructor previously.\r\n\r\n```\r\nvar theMethod = ClassIwantTouse.getMethod(&quot;getPublicUniqueValue&quot;) \r\n\r\nvar methodresult = theMethod.Invoke(classObject);\r\n```\r\n\r\nFeel free to drop any commend if you have any questions. Thank you","title":"How to use .Net Maui windows platform to run IKVM and read and run jar file on the run?","body":"<p>After trying for few days, the answer to this question is rather simple and straightforward as per mentioned by the this Reddit page <a href=\"https://www.google.com/url?sa=t&amp;source=web&amp;rct=j&amp;url=https://www.reddit.com/r/dotnet/comments/vqqpqb/ikvm_820/&amp;ved=2ahUKEwiOwazRnqX9AhXkJrcAHeXKAXAQjjh6BAgJEAE&amp;usg=AOvVaw3YoS8m3GSuBmkUrtOPsTNv\" rel=\"nofollow noreferrer\">https://www.google.com/url?sa=t&amp;source=web&amp;rct=j&amp;url=https://www.reddit.com/r/dotnet/comments/vqqpqb/ikvm_820/&amp;ved=2ahUKEwiOwazRnqX9AhXkJrcAHeXKAXAQjjh6BAgJEAE&amp;usg=AOvVaw3YoS8m3GSuBmkUrtOPsTNv</a> .</p>\n<p>First, you run <code>install-package</code> IKVM on package manager console.</p>\n<p>Secondly, use a blazor File Picker to pick a file, and load the class using the URL into java using this syntax</p>\n<pre><code>\nvar result = await FilePicker.Default.PickAsync();\n\nstring URL = result.FullPath;\n\nJava.net.ClassLoader classloader = new Java.net.URLClassLoader(new URL[]{new URL(&quot;file:///&quot; + URL)});\n\n</code></pre>\n<p>From here you can read more about how to load class from a class loader, and how to create the instance of the class after you create it. When we create the instance of the class, the default constructor will automatically executed.</p>\n<pre><code>var ClassIwantToUse = classLoader.loadClass(&quot;com.company.name&quot;);\n\nObject classObject = ClassIwantToUse.newInstance();\n\n</code></pre>\n<p>From there, you can also get declared method from that class, and invoke that method by supplying the object created when you instantiate the object when you call the constructor previously.</p>\n<pre><code>var theMethod = ClassIwantTouse.getMethod(&quot;getPublicUniqueValue&quot;) \n\nvar methodresult = theMethod.Invoke(classObject);\n</code></pre>\n<p>Feel free to drop any commend if you have any questions. Thank you</p>\n"}],"owner":{"account_id":17878106,"reputation":634,"user_id":13218799,"display_name":"Fitri Halim"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":318,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75515211,"answer_count":1,"score":0,"last_activity_date":1676936970,"creation_date":1676780260,"question_id":75497957,"body_markdown":"I have a java library project that is written as a library for another java project. Inside that library project there are hundreds of classes each of them supplying different kind of methods , but each if them is inheriting from a parent class. \r\n\r\nEach of the class inside the java Library has a constructor that define some unique value for the class itself. \r\n\r\nNow I want develope a C# application preferably using .Net Maui, so that I can read the library jar file and execute the constructer for each of the child class, and read those unique value. The unique value field are defined in the parent class as a protected field, but there is a public getter in the parent class that can be used to retrieve that unique value. \r\n\r\nThe jar file will be compiled using JDK 1.8.0 by other people.\r\n\r\nNoted that there will be many jar files because different products will have different java library, so I need to allow user to input the jar file into my Maui project during runtime from filepicker or something similar. \r\n\r\nThe endpoint is that from my Maui project I can input any jar file, check all available classes, execute their constructor, then execute the getter for the unique value and get what is their unique value for each class.\r\n\r\nI am not very familiar with Java, but quite good with C#. Is this is possible, and is there any sample syntax that i can use for? I had been searching and trying for few days without any success, since there are lacks of reference on the Syntax in C#. \r\n\r\nThank you in advance.","title":"How to use .Net Maui windows platform to run IKVM and read and run jar file on the run?","body":"<p>I have a java library project that is written as a library for another java project. Inside that library project there are hundreds of classes each of them supplying different kind of methods , but each if them is inheriting from a parent class.</p>\n<p>Each of the class inside the java Library has a constructor that define some unique value for the class itself.</p>\n<p>Now I want develope a C# application preferably using .Net Maui, so that I can read the library jar file and execute the constructer for each of the child class, and read those unique value. The unique value field are defined in the parent class as a protected field, but there is a public getter in the parent class that can be used to retrieve that unique value.</p>\n<p>The jar file will be compiled using JDK 1.8.0 by other people.</p>\n<p>Noted that there will be many jar files because different products will have different java library, so I need to allow user to input the jar file into my Maui project during runtime from filepicker or something similar.</p>\n<p>The endpoint is that from my Maui project I can input any jar file, check all available classes, execute their constructor, then execute the getter for the unique value and get what is their unique value for each class.</p>\n<p>I am not very familiar with Java, but quite good with C#. Is this is possible, and is there any sample syntax that i can use for? I had been searching and trying for few days without any success, since there are lacks of reference on the Syntax in C#.</p>\n<p>Thank you in advance.</p>\n"},{"tags":["java","android"],"answers":[{"tags":[],"owner":{"account_id":39846,"reputation":991133,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1676936676,"creation_date":1676935646,"answer_id":75515099,"question_id":75515077,"body_markdown":"A `Uri` is not a file. There is no requirement for the user to choose a file on the device, let alone a file whose filesystem path is available to an arbitrary other app.\r\n\r\nReplace that with:\r\n\r\n```java\r\n        String str_address=getArguments().getString(&quot;Path&quot;);\r\n        Uri uri = Uri.parse(str_address);\r\n\r\n        imgg.setOnClickListener(new View.OnClickListener() {\r\n            public void onClick(View view) {\r\n                Intent intent = new Intent(Intent.ACTION_VIEW, uri);\r\n                intent.addFlags(Intent.FLAG_GRANT_READ_URI_PERMISSION);\r\n                startActivity(intent);\r\n            }\r\n        });\r\n```\r\n\r\n","title":"ACTION_VIEW opens black screen while opening from URI","body":"<p>A <code>Uri</code> is not a file. There is no requirement for the user to choose a file on the device, let alone a file whose filesystem path is available to an arbitrary other app.</p>\n<p>Replace that with:</p>\n<pre class=\"lang-java prettyprint-override\"><code>        String str_address=getArguments().getString(&quot;Path&quot;);\n        Uri uri = Uri.parse(str_address);\n\n        imgg.setOnClickListener(new View.OnClickListener() {\n            public void onClick(View view) {\n                Intent intent = new Intent(Intent.ACTION_VIEW, uri);\n                intent.addFlags(Intent.FLAG_GRANT_READ_URI_PERMISSION);\n                startActivity(intent);\n            }\n        });\n</code></pre>\n"}],"owner":{"account_id":27805595,"reputation":23,"user_id":21236434,"display_name":"PewPew01"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75515099,"answer_count":1,"score":1,"last_activity_date":1676936676,"creation_date":1676935387,"question_id":75515077,"body_markdown":"The brand new error.\r\n\r\nI have an image Uri and have permission to open it. \r\n\r\nNow i try to open it in native android image viewer.\r\n\r\nI already tested few solutions which not worked.\r\n\r\nThere is a code:\r\n\r\n```\r\nString str_address=getArguments().getString(&quot;Path&quot;);\r\n        FILE_ADRESS= Uri.parse(str_address);\r\n        String path = FILE_ADRESS.getPath();\r\n        Uri uri = Uri.parse(str_address);\r\n        //Uri uri = data.getData();\r\n        File file = new File(uri.getPath());//create path from uri\r\n        final String[] split = file.getPath().split(&quot;:&quot;);//split the path.\r\n        String filePath = split[1];//assign it to a string(your choice).\r\n\r\n        String file_type= getActivity().getContentResolver().getType(uri);\r\n        imgg.setOnClickListener(new View.OnClickListener() {\r\n            public void onClick(View view) {\r\n                Intent intent = new Intent();\r\n                intent.setAction(Intent.ACTION_VIEW);\r\n                intent.setDataAndType(Uri.parse(&quot;file://&quot;+filePath+file_type.replaceFirst(&quot;/&quot;,&quot;.&quot;)), &quot;image/*&quot;);\r\n                startActivity(intent);\r\n\r\n\r\n\r\n            }\r\n        });\r\n```\r\n\r\nWhat i&#39;ve tryied - different versions of data to pass in setDataAndType - \r\n\r\n\r\nvariant with `&quot;file://&quot;` &lt;-- crushes app\r\n\r\nvariant with `&quot;content://&quot;` &lt;-- black screen\r\n\r\nvariant with `direct uri` &lt;-- black screen\r\n\r\nCurrently out of ideas where to fk around to find out.\r\n\r\nI&#39;ve catched bug and know that there is something really wrong with the file path, but how to find proper file path for my Uri, possible with file extensions - i don&#39;t really know and the solution i&#39;ve found on internet does not worked :&lt;","title":"ACTION_VIEW opens black screen while opening from URI","body":"<p>The brand new error.</p>\n<p>I have an image Uri and have permission to open it.</p>\n<p>Now i try to open it in native android image viewer.</p>\n<p>I already tested few solutions which not worked.</p>\n<p>There is a code:</p>\n<pre><code>String str_address=getArguments().getString(&quot;Path&quot;);\n        FILE_ADRESS= Uri.parse(str_address);\n        String path = FILE_ADRESS.getPath();\n        Uri uri = Uri.parse(str_address);\n        //Uri uri = data.getData();\n        File file = new File(uri.getPath());//create path from uri\n        final String[] split = file.getPath().split(&quot;:&quot;);//split the path.\n        String filePath = split[1];//assign it to a string(your choice).\n\n        String file_type= getActivity().getContentResolver().getType(uri);\n        imgg.setOnClickListener(new View.OnClickListener() {\n            public void onClick(View view) {\n                Intent intent = new Intent();\n                intent.setAction(Intent.ACTION_VIEW);\n                intent.setDataAndType(Uri.parse(&quot;file://&quot;+filePath+file_type.replaceFirst(&quot;/&quot;,&quot;.&quot;)), &quot;image/*&quot;);\n                startActivity(intent);\n\n\n\n            }\n        });\n</code></pre>\n<p>What i've tryied - different versions of data to pass in setDataAndType -</p>\n<p>variant with <code>&quot;file://&quot;</code> &lt;-- crushes app</p>\n<p>variant with <code>&quot;content://&quot;</code> &lt;-- black screen</p>\n<p>variant with <code>direct uri</code> &lt;-- black screen</p>\n<p>Currently out of ideas where to fk around to find out.</p>\n<p>I've catched bug and know that there is something really wrong with the file path, but how to find proper file path for my Uri, possible with file extensions - i don't really know and the solution i've found on internet does not worked :&lt;</p>\n"},{"tags":["java","download","content-management-system","magnolia"],"answers":[{"tags":[],"owner":{"account_id":2310590,"reputation":2887,"user_id":2028803,"accept_rate":89,"display_name":"cloudy_weather"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1427468694,"creation_date":1427468694,"answer_id":29303876,"question_id":29302205,"body_markdown":"You can use the maven archetypes from here \r\n\r\n&gt; mvn archetype:generate\r\n&gt; -DarchetypeCatalog=https://nexus.magnolia-cms.com/content/groups/public/\r\n\r\nCreate a simple empty webapp selecting the option 5, and you can add simple modules in the project selecting option 1.\r\n\r\nYou will find some useful tips [here][1]\r\n\r\n\r\n  [1]: http://dev.magnolia-cms.com/~gjoseph/dont-build-magnolia-build-your-projects","title":"How to download Magnolia cms community edition?","body":"<p>You can use the maven archetypes from here </p>\n\n<blockquote>\n  <p>mvn archetype:generate\n  -DarchetypeCatalog=<a href=\"https://nexus.magnolia-cms.com/content/groups/public/\" rel=\"nofollow\">https://nexus.magnolia-cms.com/content/groups/public/</a></p>\n</blockquote>\n\n<p>Create a simple empty webapp selecting the option 5, and you can add simple modules in the project selecting option 1.</p>\n\n<p>You will find some useful tips <a href=\"http://dev.magnolia-cms.com/~gjoseph/dont-build-magnolia-build-your-projects\" rel=\"nofollow\">here</a></p>\n"},{"tags":[],"owner":{"display_name":"user3393493"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1427469610,"creation_date":1427469464,"answer_id":29304151,"question_id":29302205,"body_markdown":"If you want you can download a bundle with tomcat from [here][1] \r\n\r\n\r\n  [1]: http://sourceforge.net/projects/magnolia/files/","title":"How to download Magnolia cms community edition?","body":"<p>If you want you can download a bundle with tomcat from <a href=\"http://sourceforge.net/projects/magnolia/files/\" rel=\"nofollow\">here</a> </p>\n"},{"tags":[],"owner":{"account_id":6021829,"reputation":44,"user_id":4728676,"display_name":"Magnolia CMS"},"down_vote_count":1,"up_vote_count":3,"is_accepted":true,"score":2,"last_activity_date":1427701276,"creation_date":1427701276,"answer_id":29340785,"question_id":29302205,"body_markdown":"Sorry you couldn&#39;t download Magnolia from our site. There seems to have been a small issue with with this form, which has now been corrected.\r\n\r\nIf you have any trouble in future, you can always download the source files directly from here http://sourceforge.net/projects/magnolia/files\r\n\r\nThanks,\r\nBen","title":"How to download Magnolia cms community edition?","body":"<p>Sorry you couldn't download Magnolia from our site. There seems to have been a small issue with with this form, which has now been corrected.</p>\n\n<p>If you have any trouble in future, you can always download the source files directly from here <a href=\"http://sourceforge.net/projects/magnolia/files\" rel=\"nofollow\">http://sourceforge.net/projects/magnolia/files</a></p>\n\n<p>Thanks,\nBen</p>\n"}],"owner":{"account_id":260833,"reputation":941,"user_id":544636,"accept_rate":78,"display_name":"Mustafa"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4457,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":29340785,"answer_count":3,"score":1,"last_activity_date":1676936233,"creation_date":1427464022,"question_id":29302205,"body_markdown":"I want to test Magnolia cms (open source edition). But I can&#39;t download it.\r\n\r\nI&#39;m trying to download it from:\r\n\r\nhttp://www.magnolia-cms.com/product/try/download/ce-registration.html\r\n\r\nbut when I fill out my info I get the following:\r\n\r\n\r\nThere was 1 error:\r\nError 7726\r\n\r\nCan I download it from somewhere else or how can I download it?","title":"How to download Magnolia cms community edition?","body":"<p>I want to test Magnolia cms (open source edition). But I can't download it.</p>\n\n<p>I'm trying to download it from:</p>\n\n<p><a href=\"http://www.magnolia-cms.com/product/try/download/ce-registration.html\" rel=\"nofollow\">http://www.magnolia-cms.com/product/try/download/ce-registration.html</a></p>\n\n<p>but when I fill out my info I get the following:</p>\n\n<p>There was 1 error:\nError 7726</p>\n\n<p>Can I download it from somewhere else or how can I download it?</p>\n"},{"tags":["java","junit","jar","cucumber"],"comments":[{"owner":{"account_id":6291890,"reputation":9545,"user_id":4889267,"accept_rate":100,"display_name":"Alan Kavanagh"},"score":0,"creation_date":1581367798,"post_id":60158172,"comment_id":106402061,"body_markdown":"Seems like it&#39;s part of cucumber-jvm: https://github.com/cucumber/cucumber-jvm/blob/master/gherkin/src/main/java/io/cucumber/core/gherkin/FeatureParser.java","body":"Seems like it&#39;s part of cucumber-jvm: <a href=\"https://github.com/cucumber/cucumber-jvm/blob/master/gherkin/src/main/java/io/cucumber/core/gherkin/FeatureParser.java\" rel=\"nofollow noreferrer\">github.com/cucumber/cucumber-jvm/blob/master/gherkin/src/mai&zwnj;&#8203;n/&hellip;</a>"},{"owner":{"account_id":6291890,"reputation":9545,"user_id":4889267,"accept_rate":100,"display_name":"Alan Kavanagh"},"score":0,"creation_date":1581367908,"post_id":60158172,"comment_id":106402109,"body_markdown":"Make sure #3 is on your classpath: `cucumber-java-5.2.0.jar`","body":"Make sure #3 is on your classpath: <code>cucumber-java-5.2.0.jar</code>"},{"owner":{"account_id":6291890,"reputation":9545,"user_id":4889267,"accept_rate":100,"display_name":"Alan Kavanagh"},"score":0,"creation_date":1581368157,"post_id":60158172,"comment_id":106402215,"body_markdown":"`5.2.0` was only released recently -- I&#39;d use `5.1.3` as recommended by their site as it&#39;s probably more stable","body":"<code>5.2.0</code> was only released recently -- I&#39;d use <code>5.1.3</code> as recommended by their site as it&#39;s probably more stable"},{"owner":{"account_id":17732559,"reputation":21,"user_id":12874769,"display_name":"Roopambika Jayadev"},"score":0,"creation_date":1581370929,"post_id":60158172,"comment_id":106403322,"body_markdown":"Thank you. I&#39;m still facing the same issue, post updating the jar files.","body":"Thank you. I&#39;m still facing the same issue, post updating the jar files."},{"owner":{"account_id":1527510,"reputation":961,"user_id":1425564,"accept_rate":50,"display_name":"Ruju"},"score":0,"creation_date":1582538942,"post_id":60158172,"comment_id":106798841,"body_markdown":"Try to run the tests without cucumber-jvm-deps jar","body":"Try to run the tests without cucumber-jvm-deps jar"}],"answers":[{"tags":[],"owner":{"account_id":6291890,"reputation":9545,"user_id":4889267,"accept_rate":100,"display_name":"Alan Kavanagh"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1581368293,"creation_date":1581367829,"answer_id":60158208,"question_id":60158172,"body_markdown":"Add the following dependency and rebuild your project:\r\n\r\nNote that the scope is set to test --\r\n\r\n`java.lang.NoClassDefFoundError` is thrown when the class is found at compile time, but not at runtime. So you need to ensure this .jar is available at runtime\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\r\n        &lt;artifactId&gt;cucumber-java&lt;/artifactId&gt;\r\n        &lt;version&gt;5.1.3&lt;/version&gt;\r\n        &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n\r\nIf you&#39;re using Eclipse, make sure that you have the project class path set to include the dependency and that it&#39;s built and embedded into the project","title":"cucumber throwing java.lang.NoClassDefFoundError: io/cucumber/core/gherkin/FeatureParser","body":"<p>Add the following dependency and rebuild your project:</p>\n\n<p>Note that the scope is set to test --</p>\n\n<p><code>java.lang.NoClassDefFoundError</code> is thrown when the class is found at compile time, but not at runtime. So you need to ensure this .jar is available at runtime</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\n    &lt;artifactId&gt;cucumber-java&lt;/artifactId&gt;\n    &lt;version&gt;5.1.3&lt;/version&gt;\n    &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>If you're using Eclipse, make sure that you have the project class path set to include the dependency and that it's built and embedded into the project</p>\n"},{"tags":[],"owner":{"account_id":4895787,"reputation":10833,"user_id":3945473,"display_name":"M.P. Korstanje"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1676936205,"creation_date":1581373604,"answer_id":60159391,"question_id":60158172,"body_markdown":"&gt; I&#39;m learning Cucumber and I&#39;m getting the FeatureParser error\r\n\r\nIf you follow the [10 minute tutorial][2] you&#39;ll get an introduction that uses Maven dependency management.\r\n\r\nIn addition to this tutorial I would strongly urge you to invest time in learning either Maven or Gradle along with Cucumber. Amongst other things these tools will automate your dependency management and this can make your life much easier.\r\n\r\nFor example:\r\n\r\nIf you want to use Cucumber with JUnit 4 and annotation based step definitions you would declare this minimal set of dependencies in a Maven `pom.xml` file.\r\n\r\n```\r\n    &lt;properties&gt;\r\n        &lt;cucumber.version&gt;5.2.0&lt;/cucumber.version&gt;\r\n    &lt;/properties&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\r\n            &lt;artifactId&gt;cucumber-java&lt;/artifactId&gt;\r\n            &lt;version&gt;${cucumber.version}&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\r\n            &lt;artifactId&gt;cucumber-junit&lt;/artifactId&gt;\r\n            &lt;version&gt;${cucumber.version}&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n```\r\n\r\nBy telling Maven what your dependencies are Maven can calculate your transitive dependencies i.e: the dependencies of your dependencies.\r\n\r\n\r\nThis has many advantages. One example would be using the `mvn dependency:tree -Dverbose=true` command to will list all dependencies. This is much faster and much less error prone then downloading jar files by hand and hoping that you have the right ones.\r\n\r\n```\r\n$ mvn dependency:tree -Dverbose=true \r\n[INFO] Scanning for projects...\r\n[INFO] \r\n[INFO] ------------------&lt; cucumber:cucumber-java-skeleton &gt;-------------------\r\n[INFO] Building Cucumber-Java Skeleton 0.0.1\r\n[INFO] --------------------------------[ jar ]---------------------------------\r\n[INFO] \r\n[INFO] --- maven-dependency-plugin:2.8:tree (default-cli) @ cucumber-java-skeleton ---\r\n[INFO] cucumber:cucumber-java-skeleton:jar:0.0.1\r\n[INFO] +- io.cucumber:cucumber-java:jar:5.2.0:test\r\n[INFO] |  +- io.cucumber:cucumber-core:jar:5.2.0:test\r\n[INFO] |  |  +- io.cucumber:cucumber-gherkin:jar:5.2.0:test\r\n[INFO] |  |  +- io.cucumber:cucumber-gherkin-vintage:jar:5.2.0:test\r\n[INFO] |  |  +- io.cucumber:tag-expressions:jar:2.0.4:test\r\n[INFO] |  |  +- io.cucumber:cucumber-expressions:jar:8.3.1:test\r\n[INFO] |  |  +- io.cucumber:datatable:jar:3.3.0:test\r\n[INFO] |  |  +- io.cucumber:cucumber-plugin:jar:5.2.0:test\r\n[INFO] |  |  \\- io.cucumber:docstring:jar:5.2.0:test\r\n[INFO] |  \\- org.apiguardian:apiguardian-api:jar:1.1.0:test\r\n[INFO] +- io.cucumber:cucumber-junit:jar:5.2.0:test\r\n[INFO] \\- junit:junit:jar:4.13:test\r\n[INFO]    \\- org.hamcrest:hamcrest-core:jar:1.3:test\r\n[INFO] ------------------------------------------------------------------------\r\n[INFO] BUILD SUCCESS\r\n[INFO] ------------------------------------------------------------------------\r\n[INFO] Total time:  0.781 s\r\n[INFO] Finished at: 2020-02-10T23:00:14+01:00\r\n[INFO] ------------------------------------------------------------------------\r\n```\r\n\r\n\r\n  [1]: https://github.com/cucumber/cucumber-java-skeleton\r\n  [2]: https://cucumber.io/docs/guides/10-minute-tutorial/","title":"cucumber throwing java.lang.NoClassDefFoundError: io/cucumber/core/gherkin/FeatureParser","body":"<blockquote>\n<p>I'm learning Cucumber and I'm getting the FeatureParser error</p>\n</blockquote>\n<p>If you follow the <a href=\"https://cucumber.io/docs/guides/10-minute-tutorial/\" rel=\"nofollow noreferrer\">10 minute tutorial</a> you'll get an introduction that uses Maven dependency management.</p>\n<p>In addition to this tutorial I would strongly urge you to invest time in learning either Maven or Gradle along with Cucumber. Amongst other things these tools will automate your dependency management and this can make your life much easier.</p>\n<p>For example:</p>\n<p>If you want to use Cucumber with JUnit 4 and annotation based step definitions you would declare this minimal set of dependencies in a Maven <code>pom.xml</code> file.</p>\n<pre><code>    &lt;properties&gt;\n        &lt;cucumber.version&gt;5.2.0&lt;/cucumber.version&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\n            &lt;artifactId&gt;cucumber-java&lt;/artifactId&gt;\n            &lt;version&gt;${cucumber.version}&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\n            &lt;artifactId&gt;cucumber-junit&lt;/artifactId&gt;\n            &lt;version&gt;${cucumber.version}&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n</code></pre>\n<p>By telling Maven what your dependencies are Maven can calculate your transitive dependencies i.e: the dependencies of your dependencies.</p>\n<p>This has many advantages. One example would be using the <code>mvn dependency:tree -Dverbose=true</code> command to will list all dependencies. This is much faster and much less error prone then downloading jar files by hand and hoping that you have the right ones.</p>\n<pre><code>$ mvn dependency:tree -Dverbose=true \n[INFO] Scanning for projects...\n[INFO] \n[INFO] ------------------&lt; cucumber:cucumber-java-skeleton &gt;-------------------\n[INFO] Building Cucumber-Java Skeleton 0.0.1\n[INFO] --------------------------------[ jar ]---------------------------------\n[INFO] \n[INFO] --- maven-dependency-plugin:2.8:tree (default-cli) @ cucumber-java-skeleton ---\n[INFO] cucumber:cucumber-java-skeleton:jar:0.0.1\n[INFO] +- io.cucumber:cucumber-java:jar:5.2.0:test\n[INFO] |  +- io.cucumber:cucumber-core:jar:5.2.0:test\n[INFO] |  |  +- io.cucumber:cucumber-gherkin:jar:5.2.0:test\n[INFO] |  |  +- io.cucumber:cucumber-gherkin-vintage:jar:5.2.0:test\n[INFO] |  |  +- io.cucumber:tag-expressions:jar:2.0.4:test\n[INFO] |  |  +- io.cucumber:cucumber-expressions:jar:8.3.1:test\n[INFO] |  |  +- io.cucumber:datatable:jar:3.3.0:test\n[INFO] |  |  +- io.cucumber:cucumber-plugin:jar:5.2.0:test\n[INFO] |  |  \\- io.cucumber:docstring:jar:5.2.0:test\n[INFO] |  \\- org.apiguardian:apiguardian-api:jar:1.1.0:test\n[INFO] +- io.cucumber:cucumber-junit:jar:5.2.0:test\n[INFO] \\- junit:junit:jar:4.13:test\n[INFO]    \\- org.hamcrest:hamcrest-core:jar:1.3:test\n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD SUCCESS\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time:  0.781 s\n[INFO] Finished at: 2020-02-10T23:00:14+01:00\n[INFO] ------------------------------------------------------------------------\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5132745,"reputation":1,"user_id":4112366,"display_name":"Priya Kumari"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661005992,"creation_date":1661005992,"answer_id":73427524,"question_id":60158172,"body_markdown":"In your testrunner.java file , try giving full path of feature file ","title":"cucumber throwing java.lang.NoClassDefFoundError: io/cucumber/core/gherkin/FeatureParser","body":"<p>In your testrunner.java file , try giving full path of feature file</p>\n"}],"owner":{"account_id":17732559,"reputation":21,"user_id":12874769,"display_name":"Roopambika Jayadev"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":16586,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":3,"score":2,"last_activity_date":1676936205,"creation_date":1581367668,"question_id":60158172,"body_markdown":"I&#39;m learning Cucumber and I&#39;m getting the FeatureParser error\r\n```\r\njava.lang.NoClassDefFoundError: io/cucumber/core/gherkin/FeatureParser\r\n```\r\n\r\nI have imported below jar files\r\n\r\n1. gherkin-9.2.0.jar\r\n2. cucumber-core-5.2.0.jar\r\n3. cucumber-java-5.2.0.jar\r\n4. cucumber-junit-5.2.0.jar\r\n5. cucumber-jvm-deps-1.0.6.jar\r\n6. cucumber-plugin-5.2.0.jar\r\n\r\ni have written code like below\r\n\r\nLoginTestRunner.java\r\n\r\n```\r\npackage cucumberTests;\r\n\r\nimport org.junit.runner.RunWith;\r\n\r\nimport io.cucumber.junit.Cucumber;\r\nimport io.cucumber.junit.CucumberOptions;\r\n\r\n\r\n\r\n@RunWith(Cucumber.class)\r\n@CucumberOptions(features=&quot;features&quot;, glue=&quot;stepImplementations&quot;)\r\npublic class LoginTestRunner {\r\n\t\r\n}\r\n\r\n```\r\n\r\nI have written feature file as well.\r\n\r\nGetting below error:\r\n\r\n```\r\njava.lang.NoClassDefFoundError: io/cucumber/core/gherkin/FeatureParser\r\n\tat io.cucumber.core.feature.FeatureParser.parseResource(FeatureParser.java:35)\r\n\tat io.cucumber.core.runtime.FeaturePathFeatureSupplier.lambda$new$0(FeaturePathFeatureSupplier.java:39)\r\n\tat java.base/java.util.function.BiFunction.lambda$andThen$0(BiFunction.java:70)\r\n\tat io.cucumber.core.resource.ResourceScanner.lambda$processResource$2(ResourceScanner.java:126)\r\n\tat io.cucumber.core.resource.PathScanner$ResourceFileVisitor.visitFile(PathScanner.java:67)\r\n\tat io.cucumber.core.resource.PathScanner$ResourceFileVisitor.visitFile(PathScanner.java:52)\r\n\tat java.base/java.nio.file.Files.walkFileTree(Files.java:2724)\r\n\tat java.base/java.nio.file.Files.walkFileTree(Files.java:2796)\r\n\tat io.cucumber.core.resource.PathScanner.findResourcesForPath(PathScanner.java:46)\r\n\tat io.cucumber.core.resource.PathScanner.findResourcesForUri(PathScanner.java:26)\r\n\tat io.cucumber.core.resource.ResourceScanner.findResourcesForUri(ResourceScanner.java:109)\r\n\tat io.cucumber.core.resource.ResourceScanner.scanForResourcesUri(ResourceScanner.java:86)\r\n\tat io.cucumber.core.runtime.FeaturePathFeatureSupplier.loadFeatures(FeaturePathFeatureSupplier.java:62)\r\n\tat io.cucumber.core.runtime.FeaturePathFeatureSupplier.get(FeaturePathFeatureSupplier.java:46)\r\n\tat io.cucumber.junit.Cucumber.&lt;init&gt;(Cucumber.java:156)\r\n\tat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\r\n\tat java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\r\n\tat java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:490)\r\n\tat org.junit.internal.builders.AnnotatedBuilder.buildRunner(AnnotatedBuilder.java:104)\r\n\tat org.junit.vintage.engine.discovery.DefensiveAllDefaultPossibilitiesBuilder$DefensiveAnnotatedBuilder.buildRunner(DefensiveAllDefaultPossibilitiesBuilder.java:113)\r\n\tat org.junit.internal.builders.AnnotatedBuilder.runnerForClass(AnnotatedBuilder.java:86)\r\n\tat org.junit.runners.model.RunnerBuilder.safeRunnerForClass(RunnerBuilder.java:59)\r\n\tat org.junit.internal.builders.AllDefaultPossibilitiesBuilder.runnerForClass(AllDefaultPossibilitiesBuilder.java:26)\r\n\tat org.junit.vintage.engine.discovery.DefensiveAllDefaultPossibilitiesBuilder.runnerForClass(DefensiveAllDefaultPossibilitiesBuilder.java:56)\r\n\tat org.junit.runners.model.RunnerBuilder.safeRunnerForClass(RunnerBuilder.java:59)\r\n\tat org.junit.vintage.engine.discovery.ClassSelectorResolver.resolveTestClass(ClassSelectorResolver.java:66)\r\n\tat org.junit.vintage.engine.discovery.ClassSelectorResolver.resolve(ClassSelectorResolver.java:47)\r\n\tat org.junit.platform.engine.support.discovery.EngineDiscoveryRequestResolution.lambda$resolve$2(EngineDiscoveryRequestResolution.java:129)\r\n\tat java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:195)\r\n\tat java.base/java.util.ArrayList$ArrayListSpliterator.tryAdvance(ArrayList.java:1631)\r\n\tat java.base/java.util.stream.ReferencePipeline.forEachWithCancel(ReferencePipeline.java:127)\r\n\tat java.base/java.util.stream.AbstractPipeline.copyIntoWithCancel(AbstractPipeline.java:502)\r\n\tat java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:488)\r\n\tat java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:474)\r\n\tat java.base/java.util.stream.FindOps$FindOp.evaluateSequential(FindOps.java:150)\r\n\tat java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\r\n\tat java.base/java.util.stream.ReferencePipeline.findFirst(ReferencePipeline.java:543)\r\n\tat org.junit.platform.engine.support.discovery.EngineDiscoveryRequestResolution.resolve(EngineDiscoveryRequestResolution.java:174)\r\n\tat org.junit.platform.engine.support.discovery.EngineDiscoveryRequestResolution.resolve(EngineDiscoveryRequestResolution.java:120)\r\n\tat org.junit.platform.engine.support.discovery.EngineDiscoveryRequestResolution.resolveCompletely(EngineDiscoveryRequestResolution.java:87)\r\n\tat org.junit.platform.engine.support.discovery.EngineDiscoveryRequestResolution.run(EngineDiscoveryRequestResolution.java:80)\r\n\tat org.junit.platform.engine.support.discovery.EngineDiscoveryRequestResolver.resolve(EngineDiscoveryRequestResolver.java:112)\r\n\tat org.junit.vintage.engine.discovery.VintageDiscoverer.discover(VintageDiscoverer.java:42)\r\n\tat org.junit.vintage.engine.VintageTestEngine.discover(VintageTestEngine.java:62)\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.discoverEngineRoot(DefaultLauncher.java:177)\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.discoverRoot(DefaultLauncher.java:164)\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.discover(DefaultLauncher.java:120)\r\n\tat org.eclipse.jdt.internal.junit5.runner.JUnit5TestReference.&lt;init&gt;(JUnit5TestReference.java:45)\r\n\tat org.eclipse.jdt.internal.junit5.runner.JUnit5TestLoader.createUnfilteredTest(JUnit5TestLoader.java:76)\r\n\tat org.eclipse.jdt.internal.junit5.runner.JUnit5TestLoader.createTest(JUnit5TestLoader.java:66)\r\n\tat org.eclipse.jdt.internal.junit5.runner.JUnit5TestLoader.loadTests(JUnit5TestLoader.java:53)\r\n\tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:526)\r\n\tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:770)\r\n\tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:464)\r\n\tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:210)\r\nCaused by: java.lang.ClassNotFoundException: io.cucumber.core.gherkin.FeatureParser\r\n\tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:583)\r\n\tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:178)\r\n\tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521)\r\n\t... 56 more\r\n\r\n\r\n```\r\n\r\n","title":"cucumber throwing java.lang.NoClassDefFoundError: io/cucumber/core/gherkin/FeatureParser","body":"<p>I'm learning Cucumber and I'm getting the FeatureParser error</p>\n\n<pre><code>java.lang.NoClassDefFoundError: io/cucumber/core/gherkin/FeatureParser\n</code></pre>\n\n<p>I have imported below jar files</p>\n\n<ol>\n<li>gherkin-9.2.0.jar</li>\n<li>cucumber-core-5.2.0.jar</li>\n<li>cucumber-java-5.2.0.jar</li>\n<li>cucumber-junit-5.2.0.jar</li>\n<li>cucumber-jvm-deps-1.0.6.jar</li>\n<li>cucumber-plugin-5.2.0.jar</li>\n</ol>\n\n<p>i have written code like below</p>\n\n<p>LoginTestRunner.java</p>\n\n<pre><code>package cucumberTests;\n\nimport org.junit.runner.RunWith;\n\nimport io.cucumber.junit.Cucumber;\nimport io.cucumber.junit.CucumberOptions;\n\n\n\n@RunWith(Cucumber.class)\n@CucumberOptions(features=\"features\", glue=\"stepImplementations\")\npublic class LoginTestRunner {\n\n}\n\n</code></pre>\n\n<p>I have written feature file as well.</p>\n\n<p>Getting below error:</p>\n\n<pre><code>java.lang.NoClassDefFoundError: io/cucumber/core/gherkin/FeatureParser\n    at io.cucumber.core.feature.FeatureParser.parseResource(FeatureParser.java:35)\n    at io.cucumber.core.runtime.FeaturePathFeatureSupplier.lambda$new$0(FeaturePathFeatureSupplier.java:39)\n    at java.base/java.util.function.BiFunction.lambda$andThen$0(BiFunction.java:70)\n    at io.cucumber.core.resource.ResourceScanner.lambda$processResource$2(ResourceScanner.java:126)\n    at io.cucumber.core.resource.PathScanner$ResourceFileVisitor.visitFile(PathScanner.java:67)\n    at io.cucumber.core.resource.PathScanner$ResourceFileVisitor.visitFile(PathScanner.java:52)\n    at java.base/java.nio.file.Files.walkFileTree(Files.java:2724)\n    at java.base/java.nio.file.Files.walkFileTree(Files.java:2796)\n    at io.cucumber.core.resource.PathScanner.findResourcesForPath(PathScanner.java:46)\n    at io.cucumber.core.resource.PathScanner.findResourcesForUri(PathScanner.java:26)\n    at io.cucumber.core.resource.ResourceScanner.findResourcesForUri(ResourceScanner.java:109)\n    at io.cucumber.core.resource.ResourceScanner.scanForResourcesUri(ResourceScanner.java:86)\n    at io.cucumber.core.runtime.FeaturePathFeatureSupplier.loadFeatures(FeaturePathFeatureSupplier.java:62)\n    at io.cucumber.core.runtime.FeaturePathFeatureSupplier.get(FeaturePathFeatureSupplier.java:46)\n    at io.cucumber.junit.Cucumber.&lt;init&gt;(Cucumber.java:156)\n    at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n    at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\n    at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:490)\n    at org.junit.internal.builders.AnnotatedBuilder.buildRunner(AnnotatedBuilder.java:104)\n    at org.junit.vintage.engine.discovery.DefensiveAllDefaultPossibilitiesBuilder$DefensiveAnnotatedBuilder.buildRunner(DefensiveAllDefaultPossibilitiesBuilder.java:113)\n    at org.junit.internal.builders.AnnotatedBuilder.runnerForClass(AnnotatedBuilder.java:86)\n    at org.junit.runners.model.RunnerBuilder.safeRunnerForClass(RunnerBuilder.java:59)\n    at org.junit.internal.builders.AllDefaultPossibilitiesBuilder.runnerForClass(AllDefaultPossibilitiesBuilder.java:26)\n    at org.junit.vintage.engine.discovery.DefensiveAllDefaultPossibilitiesBuilder.runnerForClass(DefensiveAllDefaultPossibilitiesBuilder.java:56)\n    at org.junit.runners.model.RunnerBuilder.safeRunnerForClass(RunnerBuilder.java:59)\n    at org.junit.vintage.engine.discovery.ClassSelectorResolver.resolveTestClass(ClassSelectorResolver.java:66)\n    at org.junit.vintage.engine.discovery.ClassSelectorResolver.resolve(ClassSelectorResolver.java:47)\n    at org.junit.platform.engine.support.discovery.EngineDiscoveryRequestResolution.lambda$resolve$2(EngineDiscoveryRequestResolution.java:129)\n    at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:195)\n    at java.base/java.util.ArrayList$ArrayListSpliterator.tryAdvance(ArrayList.java:1631)\n    at java.base/java.util.stream.ReferencePipeline.forEachWithCancel(ReferencePipeline.java:127)\n    at java.base/java.util.stream.AbstractPipeline.copyIntoWithCancel(AbstractPipeline.java:502)\n    at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:488)\n    at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:474)\n    at java.base/java.util.stream.FindOps$FindOp.evaluateSequential(FindOps.java:150)\n    at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\n    at java.base/java.util.stream.ReferencePipeline.findFirst(ReferencePipeline.java:543)\n    at org.junit.platform.engine.support.discovery.EngineDiscoveryRequestResolution.resolve(EngineDiscoveryRequestResolution.java:174)\n    at org.junit.platform.engine.support.discovery.EngineDiscoveryRequestResolution.resolve(EngineDiscoveryRequestResolution.java:120)\n    at org.junit.platform.engine.support.discovery.EngineDiscoveryRequestResolution.resolveCompletely(EngineDiscoveryRequestResolution.java:87)\n    at org.junit.platform.engine.support.discovery.EngineDiscoveryRequestResolution.run(EngineDiscoveryRequestResolution.java:80)\n    at org.junit.platform.engine.support.discovery.EngineDiscoveryRequestResolver.resolve(EngineDiscoveryRequestResolver.java:112)\n    at org.junit.vintage.engine.discovery.VintageDiscoverer.discover(VintageDiscoverer.java:42)\n    at org.junit.vintage.engine.VintageTestEngine.discover(VintageTestEngine.java:62)\n    at org.junit.platform.launcher.core.DefaultLauncher.discoverEngineRoot(DefaultLauncher.java:177)\n    at org.junit.platform.launcher.core.DefaultLauncher.discoverRoot(DefaultLauncher.java:164)\n    at org.junit.platform.launcher.core.DefaultLauncher.discover(DefaultLauncher.java:120)\n    at org.eclipse.jdt.internal.junit5.runner.JUnit5TestReference.&lt;init&gt;(JUnit5TestReference.java:45)\n    at org.eclipse.jdt.internal.junit5.runner.JUnit5TestLoader.createUnfilteredTest(JUnit5TestLoader.java:76)\n    at org.eclipse.jdt.internal.junit5.runner.JUnit5TestLoader.createTest(JUnit5TestLoader.java:66)\n    at org.eclipse.jdt.internal.junit5.runner.JUnit5TestLoader.loadTests(JUnit5TestLoader.java:53)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:526)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:770)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:464)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:210)\nCaused by: java.lang.ClassNotFoundException: io.cucumber.core.gherkin.FeatureParser\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:583)\n    at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:178)\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521)\n    ... 56 more\n\n\n</code></pre>\n"},{"tags":["java","eclipse","selenium-webdriver","selenium-chromedriver"],"answers":[{"tags":[],"owner":{"account_id":10299692,"reputation":5719,"user_id":7598774,"accept_rate":75,"display_name":"Shawn"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1676888512,"creation_date":1676888512,"answer_id":75508001,"question_id":75507927,"body_markdown":"Just remove/delete the below line, you don&#39;t need it:\r\n\r\n````\r\nSystem.setProperty(&quot;webdriver.chrome.driver&quot;,&quot;C:\\\\selenium-java-4.8.0\\\\selenium-chrome-driver-4.8.0.jar&quot;);\r\n````\r\n\r\nWith selenium version 4.6.0 and later, you do not really need to set property.\r\n\r\nBy the way, the issue in your code is that your `System.setProperty` is pointing to a `JAR` file, where as you should provide the location of `exe` file. For chrome, file should say `chromedriver.exe`","title":"Selinum driver showing error &quot;Could not start a new session. Possible causes are invalid address of the remote server or browser start-up failure.&quot;","body":"<p>Just remove/delete the below line, you don't need it:</p>\n<pre><code>System.setProperty(&quot;webdriver.chrome.driver&quot;,&quot;C:\\\\selenium-java-4.8.0\\\\selenium-chrome-driver-4.8.0.jar&quot;);\n</code></pre>\n<p>With selenium version 4.6.0 and later, you do not really need to set property.</p>\n<p>By the way, the issue in your code is that your <code>System.setProperty</code> is pointing to a <code>JAR</code> file, where as you should provide the location of <code>exe</code> file. For chrome, file should say <code>chromedriver.exe</code></p>\n"},{"tags":[],"owner":{"account_id":10049107,"reputation":186627,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1676935928,"creation_date":1676935928,"answer_id":75515128,"question_id":75507927,"body_markdown":"If at all you are using the [`System.setProperty()`](https://stackoverflow.com/a/60061951/7429447) line you need to download the [ChromeDriver](https://stackoverflow.com/a/59927747/7429447) version matching to the [tag:google-chrome] version installed in your system from [ChromeDriver - WebDriver for Chrome](https://sites.google.com/chromium.org/driver/downloads?authuser=0) page, unzip the [ChromeDriver](https://stackoverflow.com/a/53744026/7429447) executable and pass the absolute location through the _`webdriver.chrome.driver`_ property as follows:\r\n\r\n\tSystem.setProperty(&quot;webdriver.chrome.driver&quot;,&quot;C:\\\\path\\\\to\\\\chromedriver.exe&quot;);","title":"Selinum driver showing error &quot;Could not start a new session. Possible causes are invalid address of the remote server or browser start-up failure.&quot;","body":"<p>If at all you are using the <a href=\"https://stackoverflow.com/a/60061951/7429447\"><code>System.setProperty()</code></a> line you need to download the <a href=\"https://stackoverflow.com/a/59927747/7429447\">ChromeDriver</a> version matching to the <a href=\"/questions/tagged/google-chrome\" class=\"post-tag\" title=\"show questions tagged &#39;google-chrome&#39;\" aria-label=\"show questions tagged &#39;google-chrome&#39;\" rel=\"tag\" aria-labelledby=\"google-chrome-container\">google-chrome</a> version installed in your system from <a href=\"https://sites.google.com/chromium.org/driver/downloads?authuser=0\" rel=\"nofollow noreferrer\">ChromeDriver - WebDriver for Chrome</a> page, unzip the <a href=\"https://stackoverflow.com/a/53744026/7429447\">ChromeDriver</a> executable and pass the absolute location through the <em><code>webdriver.chrome.driver</code></em> property as follows:</p>\n<pre><code>System.setProperty(&quot;webdriver.chrome.driver&quot;,&quot;C:\\\\path\\\\to\\\\chromedriver.exe&quot;);\n</code></pre>\n"}],"owner":{"account_id":8160460,"reputation":29,"user_id":6144635,"display_name":"FaThima Hussain"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4450,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":75508001,"answer_count":2,"score":-1,"last_activity_date":1676935928,"creation_date":1676888068,"question_id":75507927,"body_markdown":"```\r\npackage newproject;\r\nimport org.openqa.selenium.WebDriver;\r\nimport org.openqa.selenium.chrome.ChromeDriver;\r\nimport org.openqa.selenium.By;\r\n\r\npublic class MyClass {\r\n\tpublic static void main(String[] args)throws InterruptedException{\r\n\t\r\n\tSystem.setProperty(&quot;webdriver.chrome.driver&quot;,&quot;C:\\\\selenium-java-4.8.0\\\\selenium-chrome-driver-4.8.0.jar&quot;);\r\n\t\r\n\tChromeDriver driver=new ChromeDriver();\r\n\tdriver.get(&quot;https://tequicky.com/page-login.php&quot;);\r\n\tdriver.manage().window().maximize();\r\n\t\r\n\tdriver.findElement(By.name(&quot;fullname&quot;)).sendKeys(&quot;test&quot;);\r\n\tdriver.findElement(By.name(&quot;email&quot;)).sendKeys(&quot;test@gmail.com&quot;);\r\n\tdriver.findElement(By.id(&quot;Subscribe&quot;)).click();\r\n\t\r\n\t\r\n}\r\n}\r\n```\r\nThe error is \r\n```\r\nSLF4J: No SLF4J providers were found.\r\nSLF4J: Defaulting to no-operation (NOP) logger implementation\r\nSLF4J: See https://www.slf4j.org/codes.html#noProviders for further details.\r\nException in thread &quot;main&quot; org.openqa.selenium.SessionNotCreatedException: Could not start a new session. Possible causes are invalid address of the remote server or browser start-up failure. \r\nHost info: host: &#39;LAPTOP-8Dbbb5LD&#39;, ip: &#39;192.168.2.103&#39;\r\n\tat org.openqa.selenium.remote.RemoteWebDriver.execute(RemoteWebDriver.java:561)\r\n\tat org.openqa.selenium.remote.RemoteWebDriver.startSession(RemoteWebDriver.java:229)\r\n\tat org.openqa.selenium.remote.RemoteWebDriver.&lt;init&gt;(RemoteWebDriver.java:157)\r\n\tat org.openqa.selenium.chromium.ChromiumDriver.&lt;init&gt;(ChromiumDriver.java:101)\r\n\tat org.openqa.selenium.chrome.ChromeDriver.&lt;init&gt;(ChromeDriver.java:82)\r\n\tat org.openqa.selenium.chrome.ChromeDriver.&lt;init&gt;(ChromeDriver.java:50)\r\n\tat newproject.MyClass.main(MyClass.java:11)\r\nCaused by: org.openqa.selenium.WebDriverException: Timed out waiting for driver process to start.\r\nBuild info: version: &#39;4.8.0&#39;, revision: &#39;267030adea&#39;\r\nSystem info: os.name: &#39;Windows 10&#39;, os.arch: &#39;amd64&#39;, os.version: &#39;10.0&#39;, java.version: &#39;14.0.2&#39;\r\nDriver info: driver.version: ChromeDriver\r\n\tat org.openqa.selenium.remote.service.DriverService.start(DriverService.java:218)\r\n\tat org.openqa.selenium.remote.service.DriverCommandExecutor.execute(DriverCommandExecutor.java:98)\r\n\tat org.openqa.selenium.remote.RemoteWebDriver.execute(RemoteWebDriver.java:543)\r\n\t... 6 more\r\n```\r\nThis is my first selenium project , please help\r\n\r\n\r\nSee https://www.slf4j.org/codes.html#noProviders for further details.\r\nException in thread &quot;main&quot; org.openqa.selenium.SessionNotCreatedException: Could not start a new session. Possible causes are invalid address of the remote server or browser start-up failure. ","title":"Selinum driver showing error &quot;Could not start a new session. Possible causes are invalid address of the remote server or browser start-up failure.&quot;","body":"<pre><code>package newproject;\nimport org.openqa.selenium.WebDriver;\nimport org.openqa.selenium.chrome.ChromeDriver;\nimport org.openqa.selenium.By;\n\npublic class MyClass {\n    public static void main(String[] args)throws InterruptedException{\n    \n    System.setProperty(&quot;webdriver.chrome.driver&quot;,&quot;C:\\\\selenium-java-4.8.0\\\\selenium-chrome-driver-4.8.0.jar&quot;);\n    \n    ChromeDriver driver=new ChromeDriver();\n    driver.get(&quot;https://tequicky.com/page-login.php&quot;);\n    driver.manage().window().maximize();\n    \n    driver.findElement(By.name(&quot;fullname&quot;)).sendKeys(&quot;test&quot;);\n    driver.findElement(By.name(&quot;email&quot;)).sendKeys(&quot;test@gmail.com&quot;);\n    driver.findElement(By.id(&quot;Subscribe&quot;)).click();\n    \n    \n}\n}\n</code></pre>\n<p>The error is</p>\n<pre><code>SLF4J: No SLF4J providers were found.\nSLF4J: Defaulting to no-operation (NOP) logger implementation\nSLF4J: See https://www.slf4j.org/codes.html#noProviders for further details.\nException in thread &quot;main&quot; org.openqa.selenium.SessionNotCreatedException: Could not start a new session. Possible causes are invalid address of the remote server or browser start-up failure. \nHost info: host: 'LAPTOP-8Dbbb5LD', ip: '192.168.2.103'\n    at org.openqa.selenium.remote.RemoteWebDriver.execute(RemoteWebDriver.java:561)\n    at org.openqa.selenium.remote.RemoteWebDriver.startSession(RemoteWebDriver.java:229)\n    at org.openqa.selenium.remote.RemoteWebDriver.&lt;init&gt;(RemoteWebDriver.java:157)\n    at org.openqa.selenium.chromium.ChromiumDriver.&lt;init&gt;(ChromiumDriver.java:101)\n    at org.openqa.selenium.chrome.ChromeDriver.&lt;init&gt;(ChromeDriver.java:82)\n    at org.openqa.selenium.chrome.ChromeDriver.&lt;init&gt;(ChromeDriver.java:50)\n    at newproject.MyClass.main(MyClass.java:11)\nCaused by: org.openqa.selenium.WebDriverException: Timed out waiting for driver process to start.\nBuild info: version: '4.8.0', revision: '267030adea'\nSystem info: os.name: 'Windows 10', os.arch: 'amd64', os.version: '10.0', java.version: '14.0.2'\nDriver info: driver.version: ChromeDriver\n    at org.openqa.selenium.remote.service.DriverService.start(DriverService.java:218)\n    at org.openqa.selenium.remote.service.DriverCommandExecutor.execute(DriverCommandExecutor.java:98)\n    at org.openqa.selenium.remote.RemoteWebDriver.execute(RemoteWebDriver.java:543)\n    ... 6 more\n</code></pre>\n<p>This is my first selenium project , please help</p>\n<p>See <a href=\"https://www.slf4j.org/codes.html#noProviders\" rel=\"nofollow noreferrer\">https://www.slf4j.org/codes.html#noProviders</a> for further details.\nException in thread &quot;main&quot; org.openqa.selenium.SessionNotCreatedException: Could not start a new session. Possible causes are invalid address of the remote server or browser start-up failure.</p>\n"},{"tags":["java","arrays","for-loop","user-input"],"comments":[{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1676924420,"post_id":75513730,"comment_id":133231502,"body_markdown":"When posting code here, take some care with line-wrapping and indenting. Somehow you broke lines of comments and of strings. I fixed some of it for you.","body":"When posting code here, take some care with line-wrapping and indenting. Somehow you broke lines of comments and of strings. I fixed some of it for you."},{"owner":{"account_id":6502183,"reputation":170,"user_id":5032522,"display_name":"yfdgvf asdasdas"},"score":0,"creation_date":1676927276,"post_id":75513730,"comment_id":133232160,"body_markdown":"if you want to iterate over every index in an array you do. for(int i = 0; i &lt; array.length; i++), you did  for(int i = 0; i &lt; array.length-1; i++). What you did makes sure the for loop never reaches the last index. If you want to use for(int i = 0; i &lt; array.length-1; i++) you need to add the &lt;= instead of &lt; so that the for loop reaches the last array index. Remember java arrays are 0 based numbering. so its either for(int i = 0; i &lt; array.length; i++)  or for(int i = 0; i &lt;= array.length - 1; i++)","body":"if you want to iterate over every index in an array you do. for(int i = 0; i &lt; array.length; i++), you did  for(int i = 0; i &lt; array.length-1; i++). What you did makes sure the for loop never reaches the last index. If you want to use for(int i = 0; i &lt; array.length-1; i++) you need to add the &lt;= instead of &lt; so that the for loop reaches the last array index. Remember java arrays are 0 based numbering. so its either for(int i = 0; i &lt; array.length; i++)  or for(int i = 0; i &lt;= array.length - 1; i++)"}],"answers":[{"tags":[],"owner":{"account_id":4324621,"reputation":853,"user_id":3531777,"accept_rate":60,"display_name":"vahidreza"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1676924409,"creation_date":1676924409,"answer_id":75513786,"question_id":75513730,"body_markdown":"The issue is here: `if (i &lt; cupsPurchased.length - 1)`.\r\n\r\nWhen `i` equals `cupsPurchased.length - 1` you reach the second `break`. So the final item, namely the 5th, is never read from input. ","title":"Why isn&#39;t my array getting fully populated?","body":"<p>The issue is here: <code>if (i &lt; cupsPurchased.length - 1)</code>.</p>\n<p>When <code>i</code> equals <code>cupsPurchased.length - 1</code> you reach the second <code>break</code>. So the final item, namely the 5th, is never read from input.</p>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676935770,"creation_date":1676934833,"answer_id":75515023,"question_id":75513730,"body_markdown":"The [Answer by vahidreza][1] is correct. In addition, I can show you how to simplify your code. We can avoid the kind of mistake that tripped you up.\r\n\r\nBreak up one long procedure into separate methods. Each logical chunk of work can be in its own method. \r\n\r\n - `inputCupsPerMonth` to ask for each month’s number of cups.\r\n - `askToContinue` to ask if the user wishes to continue.\r\n\r\n\r\nAlso, naming variables can make the code more clear.\r\n\r\n```java\r\npackage work.basil.example.cups;\r\n\r\nimport java.util.Arrays;\r\nimport java.util.Scanner;\r\n\r\npublic class Cups\r\n{\r\n    public static void main ( String[] args )\r\n    {\r\n        Cups cupsApp = new Cups();\r\n        int[] cupsPerMonth = cupsApp.inputCupsPerMonth( 6 );\r\n        cupsApp.report( cupsPerMonth );\r\n    }\r\n\r\n    private int[] inputCupsPerMonth ( final int countMonths )\r\n    {\r\n        int[] cupsPerMonth = new int[ countMonths ];\r\n        Scanner scanner = new Scanner( System.in );\r\n        for ( int index = 0 ; index &lt; cupsPerMonth.length ; index++ )\r\n        {\r\n            int monthsAgo = index + 1;\r\n            cupsPerMonth[ index ] = this.askForCups( monthsAgo , scanner );\r\n            if ( ! this.askToContinue( monthsAgo , scanner ) )\r\n            {\r\n                cupsPerMonth = Arrays.copyOf( cupsPerMonth , index + 1 ); // Truncate array.\r\n                break;\r\n            }\r\n        }\r\n        return cupsPerMonth;\r\n    }\r\n\r\n    private int askForCups ( final int monthsAgo , final Scanner scanner )\r\n    {\r\n        System.out.print( &quot;Enter the cups purchased &quot; + ( monthsAgo ) + &quot; month(s) ago &quot; + &quot;: &quot; );\r\n        int cups = scanner.nextInt();\r\n\r\n        // Validate the input to ensure it is a positive integer\r\n        while ( cups &lt; 0 )\r\n        {\r\n            System.out.println( &quot;Error: Cups purchased must be a positive integer.&quot; );\r\n            System.out.print( &quot;Enter the cups purchased &quot; + ( monthsAgo ) + &quot; month(s) ago &quot; + &quot;: &quot; );\r\n            cups = scanner.nextInt();\r\n        }\r\n        return cups;\r\n    }\r\n\r\n    private boolean askToContinue ( final int monthsAgo , final Scanner scanner )\r\n    {\r\n        return true; // Replace with own code to prompt user for permission.\r\n    }\r\n\r\n    private void report ( final int[] cupsPerMonth )\r\n    {\r\n        System.out.println( &quot;cupsPerMonth = &quot; + Arrays.toString( cupsPerMonth ) );\r\n    }\r\n}\r\n```\r\n\r\nWhen run:\r\n\r\n```none\r\nEnter the cups purchased 1 month(s) ago : 7\r\nEnter the cups purchased 2 month(s) ago : 42\r\nEnter the cups purchased 3 month(s) ago : 3\r\nEnter the cups purchased 4 month(s) ago : 4\r\nEnter the cups purchased 5 month(s) ago : 5\r\nEnter the cups purchased 6 month(s) ago : 66\r\ncupsPerMonth = [7, 42, 3, 4, 5, 66]\r\n```\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/75513786/642706","title":"Why isn&#39;t my array getting fully populated?","body":"<p>The <a href=\"https://stackoverflow.com/a/75513786/642706\">Answer by vahidreza</a> is correct. In addition, I can show you how to simplify your code. We can avoid the kind of mistake that tripped you up.</p>\n<p>Break up one long procedure into separate methods. Each logical chunk of work can be in its own method.</p>\n<ul>\n<li><code>inputCupsPerMonth</code> to ask for each month’s number of cups.</li>\n<li><code>askToContinue</code> to ask if the user wishes to continue.</li>\n</ul>\n<p>Also, naming variables can make the code more clear.</p>\n<pre class=\"lang-java prettyprint-override\"><code>package work.basil.example.cups;\n\nimport java.util.Arrays;\nimport java.util.Scanner;\n\npublic class Cups\n{\n    public static void main ( String[] args )\n    {\n        Cups cupsApp = new Cups();\n        int[] cupsPerMonth = cupsApp.inputCupsPerMonth( 6 );\n        cupsApp.report( cupsPerMonth );\n    }\n\n    private int[] inputCupsPerMonth ( final int countMonths )\n    {\n        int[] cupsPerMonth = new int[ countMonths ];\n        Scanner scanner = new Scanner( System.in );\n        for ( int index = 0 ; index &lt; cupsPerMonth.length ; index++ )\n        {\n            int monthsAgo = index + 1;\n            cupsPerMonth[ index ] = this.askForCups( monthsAgo , scanner );\n            if ( ! this.askToContinue( monthsAgo , scanner ) )\n            {\n                cupsPerMonth = Arrays.copyOf( cupsPerMonth , index + 1 ); // Truncate array.\n                break;\n            }\n        }\n        return cupsPerMonth;\n    }\n\n    private int askForCups ( final int monthsAgo , final Scanner scanner )\n    {\n        System.out.print( &quot;Enter the cups purchased &quot; + ( monthsAgo ) + &quot; month(s) ago &quot; + &quot;: &quot; );\n        int cups = scanner.nextInt();\n\n        // Validate the input to ensure it is a positive integer\n        while ( cups &lt; 0 )\n        {\n            System.out.println( &quot;Error: Cups purchased must be a positive integer.&quot; );\n            System.out.print( &quot;Enter the cups purchased &quot; + ( monthsAgo ) + &quot; month(s) ago &quot; + &quot;: &quot; );\n            cups = scanner.nextInt();\n        }\n        return cups;\n    }\n\n    private boolean askToContinue ( final int monthsAgo , final Scanner scanner )\n    {\n        return true; // Replace with own code to prompt user for permission.\n    }\n\n    private void report ( final int[] cupsPerMonth )\n    {\n        System.out.println( &quot;cupsPerMonth = &quot; + Arrays.toString( cupsPerMonth ) );\n    }\n}\n</code></pre>\n<p>When run:</p>\n<pre class=\"lang-none prettyprint-override\"><code>Enter the cups purchased 1 month(s) ago : 7\nEnter the cups purchased 2 month(s) ago : 42\nEnter the cups purchased 3 month(s) ago : 3\nEnter the cups purchased 4 month(s) ago : 4\nEnter the cups purchased 5 month(s) ago : 5\nEnter the cups purchased 6 month(s) ago : 66\ncupsPerMonth = [7, 42, 3, 4, 5, 66]\n</code></pre>\n"}],"owner":{"account_id":25128989,"reputation":19,"user_id":18976458,"display_name":"hotpocket "},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":78,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1676935770,"creation_date":1676923902,"question_id":75513730,"body_markdown":"I have created a method in which I create an empty array that can hold 6 integers. Then I run a for-loop which will ask the user for an integer, verify it as a positive integer and then send that integer to be stored into my array. \r\n\r\n\r\n    public static int[] populateArray() {\r\n    int[] cupsPurchased = new int[6];\r\n    // Create a Scanner object to read user input\r\n        Scanner scanner = new Scanner(System.in);\r\n\r\n        // Use a for-loop to prompt the user to enter each month&#39;s data.\r\n        for (int i = 0; i &lt; cupsPurchased.length; i++) {\r\n            System.out.print(&quot;Enter the cups purchased &quot; + (i+1) +&quot; month(s) ago &quot; + &quot;: &quot;);\r\n            int cups = scanner.nextInt();\r\n            \r\n            // Validate the input to ensure it is a positive integer\r\n            while (cups &lt; 0) {\r\n                System.out.println(&quot;Error: Cups purchased must be a positive integer.&quot;);\r\n                System.out.print(&quot;Enter the cups purchased &quot; + (i+1) \r\n                +&quot; month(s) ago &quot; + &quot;: &quot;);\r\n                cups = scanner.nextInt();\r\n            }\r\n            \r\n                cupsPurchased[i] = cups;\r\n\r\n            // Prompt the user if they want to enter more data\r\n            if (i &lt; cupsPurchased.length - 1) {\r\n                System.out.print(&quot;Do you want to enter the cups \r\n               purchased for another month? (Y/N) &quot;);\r\n               String answer = scanner.next();\r\n                if (!answer.equalsIgnoreCase(&quot;y&quot;)) {\r\n                    break;\r\n                    }\r\n                 } else {\r\n                   break;\r\n                }\r\n               }\r\n        \r\n        return cupsPurchased;\r\n        \r\n       }\r\n\r\n               \r\n\r\n\r\nThe problem seems to be that my for-loop won&#39;t take my first integer entry (1 month ago) and send it to my array. Every other integer entry seems to work just fine. ","title":"Why isn&#39;t my array getting fully populated?","body":"<p>I have created a method in which I create an empty array that can hold 6 integers. Then I run a for-loop which will ask the user for an integer, verify it as a positive integer and then send that integer to be stored into my array.</p>\n<pre><code>public static int[] populateArray() {\nint[] cupsPurchased = new int[6];\n// Create a Scanner object to read user input\n    Scanner scanner = new Scanner(System.in);\n\n    // Use a for-loop to prompt the user to enter each month's data.\n    for (int i = 0; i &lt; cupsPurchased.length; i++) {\n        System.out.print(&quot;Enter the cups purchased &quot; + (i+1) +&quot; month(s) ago &quot; + &quot;: &quot;);\n        int cups = scanner.nextInt();\n        \n        // Validate the input to ensure it is a positive integer\n        while (cups &lt; 0) {\n            System.out.println(&quot;Error: Cups purchased must be a positive integer.&quot;);\n            System.out.print(&quot;Enter the cups purchased &quot; + (i+1) \n            +&quot; month(s) ago &quot; + &quot;: &quot;);\n            cups = scanner.nextInt();\n        }\n        \n            cupsPurchased[i] = cups;\n\n        // Prompt the user if they want to enter more data\n        if (i &lt; cupsPurchased.length - 1) {\n            System.out.print(&quot;Do you want to enter the cups \n           purchased for another month? (Y/N) &quot;);\n           String answer = scanner.next();\n            if (!answer.equalsIgnoreCase(&quot;y&quot;)) {\n                break;\n                }\n             } else {\n               break;\n            }\n           }\n    \n    return cupsPurchased;\n    \n   }\n\n           \n</code></pre>\n<p>The problem seems to be that my for-loop won't take my first integer entry (1 month ago) and send it to my array. Every other integer entry seems to work just fine.</p>\n"},{"tags":["java","android","mobile"],"comments":[{"owner":{"account_id":27393528,"reputation":353,"user_id":20896122,"display_name":"undefined symbol"},"score":0,"creation_date":1676937804,"post_id":75514940,"comment_id":133234051,"body_markdown":"What do you mean by &#39;it seems like there are two variables&#39;?  You have one object, correct?  Therefore it has one alcoholLevel field.","body":"What do you mean by &#39;it seems like there are two variables&#39;?  You have one object, correct?  Therefore it has one alcoholLevel field."},{"owner":{"account_id":1790714,"reputation":91128,"user_id":1631193,"accept_rate":71,"display_name":"Gabe Sechan"},"score":0,"creation_date":1676940453,"post_id":75514940,"comment_id":133234388,"body_markdown":"THis is really poorly designed code.  Your model, your view layer, and your business logic are all mixed together.  Separate your concerns and you&#39;ll have an easier time debugging things.","body":"THis is really poorly designed code.  Your model, your view layer, and your business logic are all mixed together.  Separate your concerns and you&#39;ll have an easier time debugging things."}],"owner":{"account_id":17231369,"reputation":25,"user_id":12475867,"display_name":"Giorgio Lupo"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676933951,"creation_date":1676933951,"question_id":75514940,"body_markdown":"**CONTEXT**\r\nI have a simple app tracking the alcohol level in blood. \r\n\r\n**GOAL**\r\nOnce the timer is over, I want to decrease the variable `alcoholLevel `by 0.15, using the function `decreaseAlcoholLevel`. \r\n\r\n**PROBLEM**\r\nIt seems there are two variables `alcoholLevel`: one always decreasing (when the timer is over), and one always increasing (when i run `setNewAlcoholLevel`).\r\n\r\n\r\n**CODE**\r\n```\r\npublic class AlcoholLevel {\r\n    public static TextView riskTxt;\r\n    Integer weight, alcoholQty;\r\n    double alcoholLevel;\r\n    String gender;\r\n    boolean ateRecently;\r\n    double combinedWeight;\r\n    protected static final DecimalFormat decfor = new DecimalFormat(&quot;0.00&quot;);\r\n\r\n    public AlcoholLevel(Integer weight, String gender, boolean ateRecently, TextView riskTxt) {\r\n        this.weight = weight;\r\n        this.gender = gender;\r\n        this.ateRecently = ateRecently;\r\n        this.riskTxt = riskTxt;\r\n    }\r\n\r\n\r\n      //return formula alcohol level\r\n    public void setNewAlcoholLevel(String drink) {\r\n      \r\n        //calculate formula\r\n        double newAlcoholLevel = (alcoholQty * 0.008 * 1.055)/(weight * combinedWeight ) ;\r\n        alcoholLevel += newAlcoholLevel;\r\n        riskTxt.setText( decfor.format(alcoholLevel));\r\n    }\r\n\r\n    // Add the decreaseAlcoholLevel method to decrease the alcohol level\r\n    protected void decreaseAlcoholLevel(double amount) {\r\n        alcoholLevel -= amount;\r\n        riskTxt.setText( decfor.format(alcoholLevel));\r\n    }\r\n```\r\n\r\n```\r\npublic class TimedAlcoholLevel extends AlcoholLevel {\r\n    private TextView clockTxt;\r\n    private CountDownTimer mCountDownTimer;\r\n\r\n    public TimedAlcoholLevel(Integer weight, String gender, boolean ateRecently, TextView clockTxt, TextView riskTxt) {\r\n        super(weight, gender, ateRecently, riskTxt);\r\n        this.clockTxt = clockTxt;\r\n    }\r\n\r\n    public void startTimer(){\r\n        if (mCountDownTimer != null) {\r\n            mCountDownTimer.cancel(); // cancel the previously started timer\r\n        }\r\n        mCountDownTimer = new CountDownTimer(2000, 1000) {\r\n            public void onTick(long millisUntilFinished) {\r\n                // Used for formatting digit to be in 2 digits only\r\n                NumberFormat f = new DecimalFormat(&quot;00&quot;);\r\n                long hour = (millisUntilFinished / 3600000) % 24;\r\n                long min = (millisUntilFinished / 60000) % 60;\r\n                long sec = (millisUntilFinished / 1000) % 60;\r\n                clockTxt.setText(f.format(hour) + &quot;:&quot; + f.format(min) + &quot;:&quot; + f.format(sec));\r\n            }\r\n\r\n            public void onFinish() {\r\n                decreaseAlcoholLevel(0.15);\r\n                clockTxt.setText(&quot;00:00:00&quot;);\r\n            }\r\n        }.start();\r\n    }\r\n\r\n\r\n}\r\n\r\n```\r\n\r\n\r\nI tried to decrease the variable `alcoholLevel `in different ways, but it is not decreasing.","title":"Why the value is not decreasing after the timer is over?","body":"<p><strong>CONTEXT</strong>\nI have a simple app tracking the alcohol level in blood.</p>\n<p><strong>GOAL</strong>\nOnce the timer is over, I want to decrease the variable <code>alcoholLevel </code>by 0.15, using the function <code>decreaseAlcoholLevel</code>.</p>\n<p><strong>PROBLEM</strong>\nIt seems there are two variables <code>alcoholLevel</code>: one always decreasing (when the timer is over), and one always increasing (when i run <code>setNewAlcoholLevel</code>).</p>\n<p><strong>CODE</strong></p>\n<pre><code>public class AlcoholLevel {\n    public static TextView riskTxt;\n    Integer weight, alcoholQty;\n    double alcoholLevel;\n    String gender;\n    boolean ateRecently;\n    double combinedWeight;\n    protected static final DecimalFormat decfor = new DecimalFormat(&quot;0.00&quot;);\n\n    public AlcoholLevel(Integer weight, String gender, boolean ateRecently, TextView riskTxt) {\n        this.weight = weight;\n        this.gender = gender;\n        this.ateRecently = ateRecently;\n        this.riskTxt = riskTxt;\n    }\n\n\n      //return formula alcohol level\n    public void setNewAlcoholLevel(String drink) {\n      \n        //calculate formula\n        double newAlcoholLevel = (alcoholQty * 0.008 * 1.055)/(weight * combinedWeight ) ;\n        alcoholLevel += newAlcoholLevel;\n        riskTxt.setText( decfor.format(alcoholLevel));\n    }\n\n    // Add the decreaseAlcoholLevel method to decrease the alcohol level\n    protected void decreaseAlcoholLevel(double amount) {\n        alcoholLevel -= amount;\n        riskTxt.setText( decfor.format(alcoholLevel));\n    }\n</code></pre>\n<pre><code>public class TimedAlcoholLevel extends AlcoholLevel {\n    private TextView clockTxt;\n    private CountDownTimer mCountDownTimer;\n\n    public TimedAlcoholLevel(Integer weight, String gender, boolean ateRecently, TextView clockTxt, TextView riskTxt) {\n        super(weight, gender, ateRecently, riskTxt);\n        this.clockTxt = clockTxt;\n    }\n\n    public void startTimer(){\n        if (mCountDownTimer != null) {\n            mCountDownTimer.cancel(); // cancel the previously started timer\n        }\n        mCountDownTimer = new CountDownTimer(2000, 1000) {\n            public void onTick(long millisUntilFinished) {\n                // Used for formatting digit to be in 2 digits only\n                NumberFormat f = new DecimalFormat(&quot;00&quot;);\n                long hour = (millisUntilFinished / 3600000) % 24;\n                long min = (millisUntilFinished / 60000) % 60;\n                long sec = (millisUntilFinished / 1000) % 60;\n                clockTxt.setText(f.format(hour) + &quot;:&quot; + f.format(min) + &quot;:&quot; + f.format(sec));\n            }\n\n            public void onFinish() {\n                decreaseAlcoholLevel(0.15);\n                clockTxt.setText(&quot;00:00:00&quot;);\n            }\n        }.start();\n    }\n\n\n}\n\n</code></pre>\n<p>I tried to decrease the variable <code>alcoholLevel </code>in different ways, but it is not decreasing.</p>\n"},{"tags":["java","unit-testing","kotlin","testing","mocking"],"answers":[{"tags":[],"owner":{"account_id":130763,"reputation":35881,"user_id":330267,"display_name":"Jakub Zalas"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1591100481,"creation_date":1591097667,"answer_id":62151067,"question_id":62150333,"body_markdown":"`MockitoJUnitRunner` works with the `@Mock` annotation.\r\n\r\n`@MockBean` is coming from Spring so you need to use the `@SpringRunner`.\r\n\r\nHowever, it looks like your examples don&#39;t need Spring, so you can switch to `@Mock`:\r\n\r\n```kotlin\r\n@RunWith(MockitoJUnitRunner::class)\r\nclass WordServiceTest {\r\n\r\n    @Mock\r\n    private lateinit var wordRepositoryMock: WordRepository\r\n\r\n    @Mock\r\n    private lateinit var wordMapperMock: WordMapper\r\n}\r\n```\r\n\r\nThere&#39;s a further improvement you could make if you upgraded to Junit5 (I only tested it in Junit5). Constructor arguments are a good alternative to `lateinit`:\r\n\r\n\r\n```kotlin\r\n@ExtendWith(MockitoExtension::class)\r\nclass WordServiceTest(\r\n    @Mock val wordRepositoryMock: WordRepository,\r\n    @Mock val wordMapperMock: WordMapper\r\n) {\r\n\r\n}\r\n```","title":"lateinit property mock object has not been initialized","body":"<p><code>MockitoJUnitRunner</code> works with the <code>@Mock</code> annotation.</p>\n\n<p><code>@MockBean</code> is coming from Spring so you need to use the <code>@SpringRunner</code>.</p>\n\n<p>However, it looks like your examples don't need Spring, so you can switch to <code>@Mock</code>:</p>\n\n<pre class=\"lang-kotlin prettyprint-override\"><code>@RunWith(MockitoJUnitRunner::class)\nclass WordServiceTest {\n\n    @Mock\n    private lateinit var wordRepositoryMock: WordRepository\n\n    @Mock\n    private lateinit var wordMapperMock: WordMapper\n}\n</code></pre>\n\n<p>There's a further improvement you could make if you upgraded to Junit5 (I only tested it in Junit5). Constructor arguments are a good alternative to <code>lateinit</code>:</p>\n\n<pre class=\"lang-kotlin prettyprint-override\"><code>@ExtendWith(MockitoExtension::class)\nclass WordServiceTest(\n    @Mock val wordRepositoryMock: WordRepository,\n    @Mock val wordMapperMock: WordMapper\n) {\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12052932,"reputation":1487,"user_id":8815160,"accept_rate":60,"display_name":"J. Adam"},"down_vote_count":1,"up_vote_count":23,"is_accepted":true,"score":22,"last_activity_date":1676933878,"creation_date":1591565873,"answer_id":62252009,"question_id":62150333,"body_markdown":"I solved this problem by calling initMocks method in setUp()\r\n\r\n```\r\n@BeforeEach\r\n    fun setUp() {\r\n        MockitoAnnotations.openMocks(this)\r\n        ....\r\n    }\r\n```","title":"lateinit property mock object has not been initialized","body":"<p>I solved this problem by calling initMocks method in setUp()</p>\n<pre><code>@BeforeEach\n    fun setUp() {\n        MockitoAnnotations.openMocks(this)\n        ....\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3883668,"reputation":2084,"user_id":5294761,"accept_rate":17,"display_name":"Eury P&#233;rez Beltr&#233;"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1644862074,"creation_date":1642694047,"answer_id":70789353,"question_id":62150333,"body_markdown":"For the ones coming because `initMocks(this)` is deprecated, I noticed there&#39;s a newer function that does the same:\r\n\r\n    @BeforeEach\r\n    fun setUp() {\r\n        MockitoAnnotations.openMocks(this)\r\n            ....\r\n    }","title":"lateinit property mock object has not been initialized","body":"<p>For the ones coming because <code>initMocks(this)</code> is deprecated, I noticed there's a newer function that does the same:</p>\n<pre><code>@BeforeEach\nfun setUp() {\n    MockitoAnnotations.openMocks(this)\n        ....\n}\n</code></pre>\n"}],"owner":{"account_id":12052932,"reputation":1487,"user_id":8815160,"accept_rate":60,"display_name":"J. Adam"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":37499,"favorite_count":0,"down_vote_count":2,"up_vote_count":18,"accepted_answer_id":62252009,"answer_count":3,"score":16,"last_activity_date":1676933878,"creation_date":1591095022,"question_id":62150333,"body_markdown":"I&#39;m trying to initialize (by mocking) two objects with the annotation @MockBean\r\n\r\nIt seems only to work if i call the method mock(className), but since i want to use the mocked class on multiple methods i don&#39;t want to keep repeating the same code in my test methods.\r\n\r\nThis is my test class:\r\n\r\n```\r\n@RunWith(MockitoJUnitRunner::class)\r\nclass WordServiceTest {\r\n\r\n    @MockBean\r\n    lateinit var wordRepositoryMock: WordRepository\r\n\r\n    @MockBean\r\n    private lateinit var wordMapperMock: WordMapper\r\n\r\n    @Test\r\n    fun findAllTest() {\r\n        // Error: lateinit property wordRepositoryMock has not been initialized\r\n        val wordService = WordService(wordRepositoryMock, wordMapperMock)\r\n        `when`(wordRepositoryMock.findAll()).thenReturn(listOf(\r\n                WordEntity(UUID.randomUUID(), &quot;xxx&quot;),\r\n                WordEntity(UUID.randomUUID(), &quot;xxx&quot;)))\r\n        assertEquals(2, wordService.findAll().size)\r\n    }\r\n\r\n    @Test\r\n    fun wordExistsTest() {\r\n        // This works fine\r\n        val wordRepositoryMock = mock(WordRepository::class.java)\r\n        val wordMapperMock = mock(WordMapper::class.java)\r\n        val wordService = WordService(wordRepositoryMock, wordMapperMock)\r\n        val word = &quot;xxx&quot;\r\n        `when`(wordRepositoryMock.existsWordEntityByName(word)).thenReturn(true)\r\n        assertEquals(true, wordService.wordExists(word))\r\n    }\r\n}\r\n```\r\n\r\nI don&#39;t want to use the Spring Boot @Autowired annotation because my spring application requires  contexts which i don&#39;t want to load. \r\n\r\nThe error i&#39;m getting:\r\n\r\n```\r\nlateinit property wordRepositoryMock has not been initialized\r\nkotlin.UninitializedPropertyAccessException: lateinit property wordRepositoryMock has not been initialized\r\n```\r\n\r\nDependencies:\r\n\r\n```\r\ndependencies {\r\n    ...\r\n\ttestImplementation(&quot;org.springframework.security:spring-security-test&quot;)\r\n\ttestImplementation (&#39;org.springframework.boot:spring-boot-starter-test&#39;) \r\n\ttestImplementation(&quot;org.junit.jupiter:junit-jupiter:5.6.2&quot;)\r\n\ttestImplementation &quot;org.junit.jupiter:junit-jupiter-params:5.5.2&quot;\r\n\ttestImplementation &quot;org.junit.jupiter:junit-jupiter-api:5.6.2&quot;\r\n\ttestRuntimeOnly &quot;org.junit.jupiter:junit-jupiter-engine:5.6.2&quot;\r\n\ttestImplementation(&quot;io.rest-assured:spring-mock-mvc:4.0.0&quot;)\r\n\ttestImplementation(&quot;io.mockk:mockk:1.9.3&quot;)\r\n\ttestImplementation &quot;org.testcontainers:postgresql:1.11.3&quot;\r\n\ttestImplementation &quot;org.springframework.kafka:spring-kafka-test:2.2.7.RELEASE&quot;\r\n\truntimeOnly(&#39;org.postgresql:postgresql&#39;)\r\n\tdevelopmentOnly &#39;org.springframework.boot:spring-boot-devtools&#39;\r\n\ttestImplementation &quot;org.mockito:mockito-junit-jupiter:3.3.3&quot;\r\n}\r\n```","title":"lateinit property mock object has not been initialized","body":"<p>I'm trying to initialize (by mocking) two objects with the annotation @MockBean</p>\n\n<p>It seems only to work if i call the method mock(className), but since i want to use the mocked class on multiple methods i don't want to keep repeating the same code in my test methods.</p>\n\n<p>This is my test class:</p>\n\n<pre><code>@RunWith(MockitoJUnitRunner::class)\nclass WordServiceTest {\n\n    @MockBean\n    lateinit var wordRepositoryMock: WordRepository\n\n    @MockBean\n    private lateinit var wordMapperMock: WordMapper\n\n    @Test\n    fun findAllTest() {\n        // Error: lateinit property wordRepositoryMock has not been initialized\n        val wordService = WordService(wordRepositoryMock, wordMapperMock)\n        `when`(wordRepositoryMock.findAll()).thenReturn(listOf(\n                WordEntity(UUID.randomUUID(), \"xxx\"),\n                WordEntity(UUID.randomUUID(), \"xxx\")))\n        assertEquals(2, wordService.findAll().size)\n    }\n\n    @Test\n    fun wordExistsTest() {\n        // This works fine\n        val wordRepositoryMock = mock(WordRepository::class.java)\n        val wordMapperMock = mock(WordMapper::class.java)\n        val wordService = WordService(wordRepositoryMock, wordMapperMock)\n        val word = \"xxx\"\n        `when`(wordRepositoryMock.existsWordEntityByName(word)).thenReturn(true)\n        assertEquals(true, wordService.wordExists(word))\n    }\n}\n</code></pre>\n\n<p>I don't want to use the Spring Boot @Autowired annotation because my spring application requires  contexts which i don't want to load. </p>\n\n<p>The error i'm getting:</p>\n\n<pre><code>lateinit property wordRepositoryMock has not been initialized\nkotlin.UninitializedPropertyAccessException: lateinit property wordRepositoryMock has not been initialized\n</code></pre>\n\n<p>Dependencies:</p>\n\n<pre><code>dependencies {\n    ...\n    testImplementation(\"org.springframework.security:spring-security-test\")\n    testImplementation ('org.springframework.boot:spring-boot-starter-test') \n    testImplementation(\"org.junit.jupiter:junit-jupiter:5.6.2\")\n    testImplementation \"org.junit.jupiter:junit-jupiter-params:5.5.2\"\n    testImplementation \"org.junit.jupiter:junit-jupiter-api:5.6.2\"\n    testRuntimeOnly \"org.junit.jupiter:junit-jupiter-engine:5.6.2\"\n    testImplementation(\"io.rest-assured:spring-mock-mvc:4.0.0\")\n    testImplementation(\"io.mockk:mockk:1.9.3\")\n    testImplementation \"org.testcontainers:postgresql:1.11.3\"\n    testImplementation \"org.springframework.kafka:spring-kafka-test:2.2.7.RELEASE\"\n    runtimeOnly('org.postgresql:postgresql')\n    developmentOnly 'org.springframework.boot:spring-boot-devtools'\n    testImplementation \"org.mockito:mockito-junit-jupiter:3.3.3\"\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","java-stream","dto"],"comments":[{"owner":{"account_id":3212090,"reputation":743,"user_id":2711867,"accept_rate":56,"display_name":"scatolone"},"score":0,"creation_date":1676846535,"post_id":75503819,"comment_id":133214774,"body_markdown":"I would move the mapping logic inside the constructor to the service function, and the mapping would happen in the stream. This way you keep separated dtos and entities. I have to say tho, I don&#39;t think the way it is now is wrong, it is a matter of preferences I guess. The only thing I don&#39;t get is, why a &quot;getById&quot; method returns a stream? Isn&#39;t it supposed to return just one object?","body":"I would move the mapping logic inside the constructor to the service function, and the mapping would happen in the stream. This way you keep separated dtos and entities. I have to say tho, I don&#39;t think the way it is now is wrong, it is a matter of preferences I guess. The only thing I don&#39;t get is, why a &quot;getById&quot; method returns a stream? Isn&#39;t it supposed to return just one object?"},{"owner":{"display_name":"user21099360"},"score":0,"creation_date":1676847091,"post_id":75503819,"comment_id":133214847,"body_markdown":"Thanks, getById returns one object, but there is a list inside this object and the stream is related to this list. According to your comment, should I pass 2 separate object as `Recipe` and `List&lt;RecipeIngredientResponse&gt;` ?","body":"Thanks, getById returns one object, but there is a list inside this object and the stream is related to this list. According to your comment, should I pass 2 separate object as <code>Recipe</code> and <code>List&lt;RecipeIngredientResponse&gt;</code> ?"},{"owner":{"account_id":3212090,"reputation":743,"user_id":2711867,"accept_rate":56,"display_name":"scatolone"},"score":0,"creation_date":1676849062,"post_id":75503819,"comment_id":133215125,"body_markdown":"I would not use the constructor, I would use setters. Also, the stream is not related to the list inside RecipeResponse, I don&#39;t think you need a stream there, maybe an optional.","body":"I would not use the constructor, I would use setters. Also, the stream is not related to the list inside RecipeResponse, I don&#39;t think you need a stream there, maybe an optional."},{"owner":{"display_name":"user21099360"},"score":0,"creation_date":1676882455,"post_id":75503819,"comment_id":133219890,"body_markdown":"@scatolone What are you trying to explain? Could you please post an example and share your suggestion?b On the other hand, without using stream, how can I map the fields properly?","body":"@scatolone What are you trying to explain? Could you please post an example and share your suggestion?b On the other hand, without using stream, how can I map the fields properly?"}],"answers":[{"tags":[],"owner":{"account_id":1262922,"reputation":2194,"user_id":1220802,"display_name":"rph"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676847382,"creation_date":1676847382,"answer_id":75503974,"question_id":75503819,"body_markdown":"In order to follow SOLID principles and have some clear separation of responsibilities and make the code decoupled and easier to test, the recommended approach is to extract the conversion logic into a Converter.\r\n\r\n```java\r\npublic interface Converter&lt;IN, OUT&gt; {\r\n    OUT convert(IN input);\r\n}\r\n```\r\n\r\nExample implementation for converting Recipe to RecipeResponse:\r\n\r\n```java\r\npublic class RecipeResponseConverter implements Converter&lt;Recipe, RecipeResponse&gt; {\r\n    private final Converter&lt;RecipeIngredient, RecipeIngredientResponse&gt; ingredientConverter;\r\n\r\n    public RecipeResponseConverter(\r\n        Converter&lt;RecipeIngredient, RecipeIngredientResponse&gt; ingredientConverter\r\n    ) {\r\n        this.ingredientConverter = ingredientConverter;\r\n    }\r\n\r\n    @Override\r\n    public RecipeResponse convert(Recipe input) {\r\n        var response = new RecipeResponse();\r\n        response.setId(input.getId());\r\n        response.setTitle(input.getTitle());\r\n        response.setIngredients(input\r\n                .getRecipeIngredients()\r\n                .stream()\r\n                .map(ingredientConverter::convert)\r\n                .toList()\r\n        );\r\n        return response;\r\n    }\r\n}\r\n```\r\n\r\nDependency Injection can be used to inject the recipe converter into the service class and to inject the ingredient converter into the recipe converter without coupling the implementations.\r\n\r\nPlease note how easy it is, using this approach, to test the various cases for converting a recipe without knowing the details of how an ingredient should be converted since that ingredient converter can just be mocked.","title":"Mapping stream in DTO or passing mapped value to DTO separately?","body":"<p>In order to follow SOLID principles and have some clear separation of responsibilities and make the code decoupled and easier to test, the recommended approach is to extract the conversion logic into a Converter.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public interface Converter&lt;IN, OUT&gt; {\n    OUT convert(IN input);\n}\n</code></pre>\n<p>Example implementation for converting Recipe to RecipeResponse:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class RecipeResponseConverter implements Converter&lt;Recipe, RecipeResponse&gt; {\n    private final Converter&lt;RecipeIngredient, RecipeIngredientResponse&gt; ingredientConverter;\n\n    public RecipeResponseConverter(\n        Converter&lt;RecipeIngredient, RecipeIngredientResponse&gt; ingredientConverter\n    ) {\n        this.ingredientConverter = ingredientConverter;\n    }\n\n    @Override\n    public RecipeResponse convert(Recipe input) {\n        var response = new RecipeResponse();\n        response.setId(input.getId());\n        response.setTitle(input.getTitle());\n        response.setIngredients(input\n                .getRecipeIngredients()\n                .stream()\n                .map(ingredientConverter::convert)\n                .toList()\n        );\n        return response;\n    }\n}\n</code></pre>\n<p>Dependency Injection can be used to inject the recipe converter into the service class and to inject the ingredient converter into the recipe converter without coupling the implementations.</p>\n<p>Please note how easy it is, using this approach, to test the various cases for converting a recipe without knowing the details of how an ingredient should be converted since that ingredient converter can just be mocked.</p>\n"},{"tags":[],"owner":{"account_id":3212090,"reputation":743,"user_id":2711867,"accept_rate":56,"display_name":"scatolone"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676932849,"creation_date":1676932849,"answer_id":75514834,"question_id":75503819,"body_markdown":"This is how I would do it.\r\n\r\n    @Data\r\n    public class RecipeResponse {\r\n    \r\n        private Long id;\r\n        private String title;\r\n        private List&lt;RecipeIngredientResponse&gt; ingredients;\r\n    \r\n        public Long getId() {\r\n            return id;\r\n        }\r\n    \r\n        public void setId(Long id) {\r\n            this.id = id;\r\n        }\r\n    \r\n        public String getTitle() {\r\n            return title;\r\n        }\r\n    \r\n        public void setTitle(String title) {\r\n            this.title = title;\r\n        }\r\n    \r\n        public List&lt;RecipeIngredientResponse&gt; getIngredients() {\r\n            return ingredients;\r\n        }\r\n    \r\n        public void setIngredients(List&lt;RecipeIngredientResponse&gt; ingredients) {\r\n            this.ingredients = ingredients;\r\n        }\r\n    \r\n    }\r\n\r\n\r\n----------\r\n\r\n    public RecipeResponse findById(Long id) {\r\n\r\n        return recipeRepository.findById(id).map(recipe -&gt; {\r\n\r\n            RecipeResponse recipeResponse = new RecipeResponse();\r\n            recipeResponse.setId(id);\r\n            recipeResponse.setTitle(recipe.getTitle());\r\n\r\n            recipeResponse.setIngredients(\r\n                    recipe.getRecipeIngredients().stream().map((recipeIngredient) -&gt; {\r\n                        RecipeIngredientResponse recipeIngredientResponse = new RecipeIngredientResponse();\r\n                        // set the RecipeIngredientResponse properties here\r\n                        return recipeIngredientResponse;\r\n                    }).collect(Collectors.toList()));\r\n\r\n            return new RecipeResponse();\r\n        }).orElseThrow(() -&gt; new NoSuchElementFoundException(&quot;Not found&quot;));\r\n    }\r\n\r\nI&#39;m suggesting this solution because it decouples entities from dtos. Furthermore, I think that the mapping logic should not be inside the dto, dto should just hold the data. \r\n\r\nI know it looks more verbose than the solution you posted, but I have a couple of suggestions in this regard. I would use a library like [Lombok][1] to get rid of getters and setters in the dto classes. Also, I would use a mapping framework, like [DozerMapper][2], that would allow to map easily, with one/few lines, objects of different classes if their properties names are the same.\r\n\r\n\r\n  [1]: https://projectlombok.org/\r\n  [2]: https://github.com/DozerMapper/dozer","title":"Mapping stream in DTO or passing mapped value to DTO separately?","body":"<p>This is how I would do it.</p>\n<pre><code>@Data\npublic class RecipeResponse {\n\n    private Long id;\n    private String title;\n    private List&lt;RecipeIngredientResponse&gt; ingredients;\n\n    public Long getId() {\n        return id;\n    }\n\n    public void setId(Long id) {\n        this.id = id;\n    }\n\n    public String getTitle() {\n        return title;\n    }\n\n    public void setTitle(String title) {\n        this.title = title;\n    }\n\n    public List&lt;RecipeIngredientResponse&gt; getIngredients() {\n        return ingredients;\n    }\n\n    public void setIngredients(List&lt;RecipeIngredientResponse&gt; ingredients) {\n        this.ingredients = ingredients;\n    }\n\n}\n</code></pre>\n<hr />\n<pre><code>public RecipeResponse findById(Long id) {\n\n    return recipeRepository.findById(id).map(recipe -&gt; {\n\n        RecipeResponse recipeResponse = new RecipeResponse();\n        recipeResponse.setId(id);\n        recipeResponse.setTitle(recipe.getTitle());\n\n        recipeResponse.setIngredients(\n                recipe.getRecipeIngredients().stream().map((recipeIngredient) -&gt; {\n                    RecipeIngredientResponse recipeIngredientResponse = new RecipeIngredientResponse();\n                    // set the RecipeIngredientResponse properties here\n                    return recipeIngredientResponse;\n                }).collect(Collectors.toList()));\n\n        return new RecipeResponse();\n    }).orElseThrow(() -&gt; new NoSuchElementFoundException(&quot;Not found&quot;));\n}\n</code></pre>\n<p>I'm suggesting this solution because it decouples entities from dtos. Furthermore, I think that the mapping logic should not be inside the dto, dto should just hold the data.</p>\n<p>I know it looks more verbose than the solution you posted, but I have a couple of suggestions in this regard. I would use a library like <a href=\"https://projectlombok.org/\" rel=\"nofollow noreferrer\">Lombok</a> to get rid of getters and setters in the dto classes. Also, I would use a mapping framework, like <a href=\"https://github.com/DozerMapper/dozer\" rel=\"nofollow noreferrer\">DozerMapper</a>, that would allow to map easily, with one/few lines, objects of different classes if their properties names are the same.</p>\n"}],"owner":{"display_name":"user21099360"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":855,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1676932849,"creation_date":1676845204,"question_id":75503819,"body_markdown":"In my Spring Boot app, I use Java Stream API and map entity values to DTO as shown below:\r\n\r\n```\r\npublic RecipeResponse findById(Long id) {\r\n    return recipeRepository.findById(id)\r\n            .map(RecipeResponse::new)\r\n            .orElseThrow(() -&gt; {\r\n                return new NoSuchElementFoundException(&quot;Not found&quot;);\r\n            });\r\n}\r\n```\r\n\r\nBut my response has also a list and I map this list in the following DTO:\r\n\r\n```\r\n@Data\r\npublic class RecipeResponse {\r\n\r\n    private Long id;\r\n    private String title;\r\n    private List&lt;RecipeIngredientResponse&gt; ingredients;\r\n\r\n    public RecipeResponse(Recipe recipe) {\r\n        this.id = recipe.getId();\r\n        this.title = recipe.getTitle();\r\n        this.ingredients = recipe.getRecipeIngredients().stream().map(RecipeIngredientResponse::new).toList();\r\n    }\r\n}\r\n```\r\n\r\nI am not sure if it is a good or a proper idea to map the stream in DTO. I think maybe it would be a more proper way to pass `List&lt;RecipeIngredientResponse&gt;` from service method to this DTO constructor instead of mapping it in DTO as shown above. What is the most proper way for this scenario? \r\n\r\n**Update:** I followed this approach:\r\n\r\n```\r\n@Data\r\npublic class RecipeResponse {\r\n\r\n    private Long id;\r\n    private String title;\r\n    private List&lt;RecipeIngredientResponse&gt; ingredients;\r\n\r\n    public RecipeResponse(Recipe recipe, List&lt;RecipeIngredientResponse&gt; ingredients) {\r\n        this.id = recipe.getId();\r\n        this.title = recipe.getTitle();\r\n        this.ingredients = ingredients;\r\n    }\r\n}\r\n```\r\n\r\n\r\n```\r\npublic RecipeResponse findById(Long id) {\r\n    return recipeRepository.findById(id)\r\n            .map(recipe -&gt; new RecipeResponse(\r\n                    recipe,\r\n                    recipe.getRecipeIngredients().stream().map(RecipeIngredientResponse::new).toList()))\r\n            .orElseThrow(() -&gt; {return new NoSuchElementFoundException(&quot;Not found&quot;);\r\n            });\r\n}\r\n```","title":"Mapping stream in DTO or passing mapped value to DTO separately?","body":"<p>In my Spring Boot app, I use Java Stream API and map entity values to DTO as shown below:</p>\n<pre><code>public RecipeResponse findById(Long id) {\n    return recipeRepository.findById(id)\n            .map(RecipeResponse::new)\n            .orElseThrow(() -&gt; {\n                return new NoSuchElementFoundException(&quot;Not found&quot;);\n            });\n}\n</code></pre>\n<p>But my response has also a list and I map this list in the following DTO:</p>\n<pre><code>@Data\npublic class RecipeResponse {\n\n    private Long id;\n    private String title;\n    private List&lt;RecipeIngredientResponse&gt; ingredients;\n\n    public RecipeResponse(Recipe recipe) {\n        this.id = recipe.getId();\n        this.title = recipe.getTitle();\n        this.ingredients = recipe.getRecipeIngredients().stream().map(RecipeIngredientResponse::new).toList();\n    }\n}\n</code></pre>\n<p>I am not sure if it is a good or a proper idea to map the stream in DTO. I think maybe it would be a more proper way to pass <code>List&lt;RecipeIngredientResponse&gt;</code> from service method to this DTO constructor instead of mapping it in DTO as shown above. What is the most proper way for this scenario?</p>\n<p><strong>Update:</strong> I followed this approach:</p>\n<pre><code>@Data\npublic class RecipeResponse {\n\n    private Long id;\n    private String title;\n    private List&lt;RecipeIngredientResponse&gt; ingredients;\n\n    public RecipeResponse(Recipe recipe, List&lt;RecipeIngredientResponse&gt; ingredients) {\n        this.id = recipe.getId();\n        this.title = recipe.getTitle();\n        this.ingredients = ingredients;\n    }\n}\n</code></pre>\n<pre><code>public RecipeResponse findById(Long id) {\n    return recipeRepository.findById(id)\n            .map(recipe -&gt; new RecipeResponse(\n                    recipe,\n                    recipe.getRecipeIngredients().stream().map(RecipeIngredientResponse::new).toList()))\n            .orElseThrow(() -&gt; {return new NoSuchElementFoundException(&quot;Not found&quot;);\n            });\n}\n</code></pre>\n"},{"tags":["java","json","jackson","objectmapper"],"answers":[{"tags":[],"owner":{"account_id":320962,"reputation":31681,"user_id":639520,"accept_rate":72,"display_name":"E-Riz"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1676931665,"creation_date":1676931665,"answer_id":75514698,"question_id":75514495,"body_markdown":"It&#39;s not clear why you would be using the method `ObjectMapper.convertValue(Object fromValue, Class&lt;T&gt; toValueType)`. That method basically serializes the first argument to JSON, then deserializes it back into the type `toValueType`. [JavaDoc is here][1].\r\n\r\nWhat you probably want is `ObjectMapper.readValue(String content, Class&lt;T&gt; valueType)` which deserializes an input `String` of JSON into the specified type.\r\n\r\n\r\n  [1]: https://www.javadoc.io/static/com.fasterxml.jackson.core/jackson-databind/2.14.2/com/fasterxml/jackson/databind/ObjectMapper.html#convertValue-java.lang.Object-java.lang.Class-","title":"ObjectMapper - no String-argument constructor/factory method to deserialize from String value","body":"<p>It's not clear why you would be using the method <code>ObjectMapper.convertValue(Object fromValue, Class&lt;T&gt; toValueType)</code>. That method basically serializes the first argument to JSON, then deserializes it back into the type <code>toValueType</code>. <a href=\"https://www.javadoc.io/static/com.fasterxml.jackson.core/jackson-databind/2.14.2/com/fasterxml/jackson/databind/ObjectMapper.html#convertValue-java.lang.Object-java.lang.Class-\" rel=\"nofollow noreferrer\">JavaDoc is here</a>.</p>\n<p>What you probably want is <code>ObjectMapper.readValue(String content, Class&lt;T&gt; valueType)</code> which deserializes an input <code>String</code> of JSON into the specified type.</p>\n"}],"owner":{"account_id":26757645,"reputation":11,"user_id":20356033,"display_name":"Dest511"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2832,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1676931665,"creation_date":1676930077,"question_id":75514495,"body_markdown":"Facing issue while making call to retrieve a json response and parse it.\r\n\r\n```\r\nObjectMapper mapper = new ObjectMapper().configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, false).configure(DeserializationFeature.ACCEPT_EMPTY_STRING_AS_NULL_OBJECT, true);\r\n\r\nmapper.convertValue(respDataString, GetListingListResponse.class);\r\n```\r\n\r\nwhere respDataString is \r\n```\r\n{\r\n    &quot;status&quot;: &quot;OK&quot;,\r\n    &quot;branch_reference&quot;: &quot;148644&quot;,\r\n    &quot;listings&quot;: []\r\n}\r\n```\r\n\r\nGetListingListResponse.java\r\n```\r\n@Data\r\n@NoArgsConstructor\r\n@JsonInclude(JsonInclude.Include.NON_NULL)\r\n@JsonPropertyOrder({\r\n        &quot;status&quot;,\r\n        &quot;branch_reference&quot;,\r\n        &quot;listings&quot;\r\n})\r\npublic class GetListingListResponse implements Serializable\r\n{\r\n\r\n    @JsonProperty(&quot;status&quot;)\r\n    private String status;\r\n    @JsonProperty(&quot;branch_reference&quot;)\r\n    private String branchReference;\r\n    @JsonProperty(&quot;listings&quot;)\r\n    private List&lt;Listing&gt; listings;\r\n\r\n}\r\n```\r\n\r\nListing.java\r\n```\r\n@Data\r\n@NoArgsConstructor\r\n@JsonInclude(JsonInclude.Include.NON_NULL)\r\n@JsonPropertyOrder({\r\n        &quot;listing_etag&quot;,\r\n        &quot;listing_reference&quot;,\r\n        &quot;url&quot;\r\n})\r\npublic class Listing implements Serializable\r\n{\r\n\r\n    @JsonProperty(&quot;listing_etag&quot;)\r\n    private String listingEtag;\r\n    @JsonProperty(&quot;listing_reference&quot;)\r\n    private String listingReference;\r\n    @JsonProperty(&quot;url&quot;)\r\n    private String url;\r\n\r\n}\r\n```\r\n\r\nException\r\n&gt; (although at least one Creator exists): no String-argument constructor/factory method to deserialize from String value (&#39;{&quot;status&quot;:&quot;OK&quot;,&quot;branch_reference&quot;:&quot;148644&quot;,&quot;listings&quot;:[]}&#39;)\r\n at [Source: UNKNOWN; line: -1, column: -1]\r\n        at com.fasterxml.jackson.databind.exc.MismatchedInputException.from(MismatchedInputException.java:63)\r\n        at com.fasterxml.jackson.databind.DeserializationContext.reportInputMismatch(DeserializationContext.java:1455)\r\n        at com.fasterxml.jackson.databind.DeserializationContext.handleMissingInstantiator(DeserializationContext.java:1081)\r\n        at com.fasterxml.jackson.databind.deser.ValueInstantiator._createFromStringFallbacks(ValueInstantiator.java:371)\r\n        at com.fasterxml.jackson.databind.deser.std.StdValueInstantiator.createFromString(StdValueInstantiator.java:323)\r\n        at com.fasterxml.jackson.databind.deser.BeanDeserializerBase.deserializeFromString(BeanDeserializerBase.java:1408)\r\n        at com.fasterxml.jackson.databind.deser.BeanDeserializer._deserializeOther(BeanDeserializer.java:176)\r\n        at com.fasterxml.jackson.databind.deser.BeanDeserializer.deserialize(BeanDeserializer.java:166)\r\n        at com.fasterxml.jackson.databind.ObjectMapper._convert(ObjectMapper.java:4229)\r\n        at com.fasterxml.jackson.databind.ObjectMapper.convertValue(ObjectMapper.java:4165)\r\n\r\n\r\nI have no idea on it. Is there any problem ?","title":"ObjectMapper - no String-argument constructor/factory method to deserialize from String value","body":"<p>Facing issue while making call to retrieve a json response and parse it.</p>\n<pre><code>ObjectMapper mapper = new ObjectMapper().configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, false).configure(DeserializationFeature.ACCEPT_EMPTY_STRING_AS_NULL_OBJECT, true);\n\nmapper.convertValue(respDataString, GetListingListResponse.class);\n</code></pre>\n<p>where respDataString is</p>\n<pre><code>{\n    &quot;status&quot;: &quot;OK&quot;,\n    &quot;branch_reference&quot;: &quot;148644&quot;,\n    &quot;listings&quot;: []\n}\n</code></pre>\n<p>GetListingListResponse.java</p>\n<pre><code>@Data\n@NoArgsConstructor\n@JsonInclude(JsonInclude.Include.NON_NULL)\n@JsonPropertyOrder({\n        &quot;status&quot;,\n        &quot;branch_reference&quot;,\n        &quot;listings&quot;\n})\npublic class GetListingListResponse implements Serializable\n{\n\n    @JsonProperty(&quot;status&quot;)\n    private String status;\n    @JsonProperty(&quot;branch_reference&quot;)\n    private String branchReference;\n    @JsonProperty(&quot;listings&quot;)\n    private List&lt;Listing&gt; listings;\n\n}\n</code></pre>\n<p>Listing.java</p>\n<pre><code>@Data\n@NoArgsConstructor\n@JsonInclude(JsonInclude.Include.NON_NULL)\n@JsonPropertyOrder({\n        &quot;listing_etag&quot;,\n        &quot;listing_reference&quot;,\n        &quot;url&quot;\n})\npublic class Listing implements Serializable\n{\n\n    @JsonProperty(&quot;listing_etag&quot;)\n    private String listingEtag;\n    @JsonProperty(&quot;listing_reference&quot;)\n    private String listingReference;\n    @JsonProperty(&quot;url&quot;)\n    private String url;\n\n}\n</code></pre>\n<p>Exception</p>\n<blockquote>\n<p>(although at least one Creator exists): no String-argument constructor/factory method to deserialize from String value ('{&quot;status&quot;:&quot;OK&quot;,&quot;branch_reference&quot;:&quot;148644&quot;,&quot;listings&quot;:[]}')\nat [Source: UNKNOWN; line: -1, column: -1]\nat com.fasterxml.jackson.databind.exc.MismatchedInputException.from(MismatchedInputException.java:63)\nat com.fasterxml.jackson.databind.DeserializationContext.reportInputMismatch(DeserializationContext.java:1455)\nat com.fasterxml.jackson.databind.DeserializationContext.handleMissingInstantiator(DeserializationContext.java:1081)\nat com.fasterxml.jackson.databind.deser.ValueInstantiator._createFromStringFallbacks(ValueInstantiator.java:371)\nat com.fasterxml.jackson.databind.deser.std.StdValueInstantiator.createFromString(StdValueInstantiator.java:323)\nat com.fasterxml.jackson.databind.deser.BeanDeserializerBase.deserializeFromString(BeanDeserializerBase.java:1408)\nat com.fasterxml.jackson.databind.deser.BeanDeserializer._deserializeOther(BeanDeserializer.java:176)\nat com.fasterxml.jackson.databind.deser.BeanDeserializer.deserialize(BeanDeserializer.java:166)\nat com.fasterxml.jackson.databind.ObjectMapper._convert(ObjectMapper.java:4229)\nat com.fasterxml.jackson.databind.ObjectMapper.convertValue(ObjectMapper.java:4165)</p>\n</blockquote>\n<p>I have no idea on it. Is there any problem ?</p>\n"},{"tags":["java","machine-learning","weka"],"answers":[{"tags":[],"owner":{"account_id":5978100,"reputation":2493,"user_id":4698227,"display_name":"fracpete"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1676931214,"creation_date":1676931214,"answer_id":75514646,"question_id":75512642,"body_markdown":"There are several sources on how to create dataset structures on-the-fly in Weka:\r\n\r\n* Chapter *18.3 Creating datasets in memory* in the Weka manual\r\n* `CreateInstances.java` example class contained in the `wekaexamples.zip` archive that comes with your Weka download\r\n* [Creating ARFF file](https://waikato.github.io/weka-wiki/formats_and_processing/creating_arff_file/) article on the [Weka wiki](https://waikato.github.io/weka-wiki/)\r\n\r\nAt prediction time, you can simply create `weka.core.Instance` (`weka.core.DenseInstance` or `weka.core.SparseInstance`) objects and pass them into the model.\r\n\r\nHowever, these still need access to the dataset structure (ie the `weka.core.Instances` object), as the model may query the dataset structure. Simply assign the dataset structure that the model was trained with using the `setDataset(Instances)` method. \r\n\r\nWeka serializes both, model and dataset header, by default, so you can just reuse that header as your dataset structure when loading a serialized model.","title":"How to use a WEKA model in Java for a real time prediction task?","body":"<p>There are several sources on how to create dataset structures on-the-fly in Weka:</p>\n<ul>\n<li>Chapter <em>18.3 Creating datasets in memory</em> in the Weka manual</li>\n<li><code>CreateInstances.java</code> example class contained in the <code>wekaexamples.zip</code> archive that comes with your Weka download</li>\n<li><a href=\"https://waikato.github.io/weka-wiki/formats_and_processing/creating_arff_file/\" rel=\"nofollow noreferrer\">Creating ARFF file</a> article on the <a href=\"https://waikato.github.io/weka-wiki/\" rel=\"nofollow noreferrer\">Weka wiki</a></li>\n</ul>\n<p>At prediction time, you can simply create <code>weka.core.Instance</code> (<code>weka.core.DenseInstance</code> or <code>weka.core.SparseInstance</code>) objects and pass them into the model.</p>\n<p>However, these still need access to the dataset structure (ie the <code>weka.core.Instances</code> object), as the model may query the dataset structure. Simply assign the dataset structure that the model was trained with using the <code>setDataset(Instances)</code> method.</p>\n<p>Weka serializes both, model and dataset header, by default, so you can just reuse that header as your dataset structure when loading a serialized model.</p>\n"}],"owner":{"account_id":24148383,"reputation":3,"user_id":18146163,"display_name":"JackMaahn"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":50,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":75514646,"answer_count":1,"score":-1,"last_activity_date":1676931214,"creation_date":1676915560,"question_id":75512642,"body_markdown":"I have trained and loaded a WEKA model into my Java program and I am trying to use it for a real-time predictive task.\r\n\r\nI have searched online and the resources/documentation I have found involve using a pre-generated set of test instances to pass into the model.\r\n\r\nHowever, in my case the data is generated on the fly in my Java program and I was wondering how I would pass the feature set into the model in an acceptable format.","title":"How to use a WEKA model in Java for a real time prediction task?","body":"<p>I have trained and loaded a WEKA model into my Java program and I am trying to use it for a real-time predictive task.</p>\n<p>I have searched online and the resources/documentation I have found involve using a pre-generated set of test instances to pass into the model.</p>\n<p>However, in my case the data is generated on the fly in my Java program and I was wondering how I would pass the feature set into the model in an acceptable format.</p>\n"},{"tags":["java","amazon-web-services","kotlin","amazon-dynamodb","aws-java-sdk"],"answers":[{"tags":[],"owner":{"account_id":10985081,"reputation":497,"user_id":8071067,"display_name":"MarkBeras"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676927969,"creation_date":1676927969,"answer_id":75514239,"question_id":75514180,"body_markdown":"Based on this feature request https://github.com/aws/aws-sdk/issues/262 doesn&#39;t look like it exists for now. ","title":"Is there a way to create a DynamoDB table with TTL and PITR enabled with the Java AWS SDK?","body":"<p>Based on this feature request <a href=\"https://github.com/aws/aws-sdk/issues/262\" rel=\"nofollow noreferrer\">https://github.com/aws/aws-sdk/issues/262</a> doesn't look like it exists for now.</p>\n"},{"tags":[],"owner":{"account_id":1540816,"reputation":10259,"user_id":1435543,"display_name":"smac2020"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1676931206,"creation_date":1676930579,"answer_id":75514574,"question_id":75514180,"body_markdown":"To build an Amazon DynamoDB table in Kotlin, use the ***AWS SDK for Kotlin*** as opposed to the AWS SDK for Java. When you use the ***AWS SDK for Kotlin***, you get benefits like Kotlin Coroutines functionality. For more information about Coroutines in the SDK for Kotlin, see this topic in the ***AWS SDK for Kotlin DEV Guide***: \r\n\r\n[Coroutines][1] \r\n\r\nNow when you create a table using the Kotlin SDK, you can use ***Waiters***. WHen you use Waiters, the code does not proceed until the table is created. To create a table using the Kotlin SDK, use this Kotlin code: \r\n\r\n    // snippet-sourcedescription:[CreateTable.kt demonstrates how to create an Amazon DynamoDB table using a waiter.]\r\n    // snippet-keyword:[AWS SDK for Kotlin]\r\n    // snippet-service:[Amazon DynamoDB]\r\n    \r\n    /*\r\n       Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\r\n       SPDX-License-Identifier: Apache-2.0\r\n    */\r\n    \r\n    package com.kotlin.dynamodb\r\n    \r\n    // snippet-start:[dynamodb.kotlin.create_table.import]\r\n    import aws.sdk.kotlin.services.dynamodb.DynamoDbClient\r\n    import aws.sdk.kotlin.services.dynamodb.model.AttributeDefinition\r\n    import aws.sdk.kotlin.services.dynamodb.model.CreateTableRequest\r\n    import aws.sdk.kotlin.services.dynamodb.model.KeySchemaElement\r\n    import aws.sdk.kotlin.services.dynamodb.model.KeyType\r\n    import aws.sdk.kotlin.services.dynamodb.model.ProvisionedThroughput\r\n    import aws.sdk.kotlin.services.dynamodb.model.ScalarAttributeType\r\n    import aws.sdk.kotlin.services.dynamodb.waiters.waitUntilTableExists\r\n    import kotlin.system.exitProcess\r\n    // snippet-end:[dynamodb.kotlin.create_table.import]\r\n    \r\n    /**\r\n    Before running this Kotlin code example, set up your development environment,\r\n    including your credentials.\r\n    For more information, see the following documentation topic:\r\n    https://docs.aws.amazon.com/sdk-for-kotlin/latest/developer-guide/setup.html\r\n     */\r\n    \r\n    suspend fun main(args: Array&lt;String&gt;) {\r\n    \r\n        val usage = &quot;&quot;&quot;\r\n        Usage:\r\n             &lt;tableName&gt; &lt;key&gt; \r\n        Where:\r\n            tableName - The Amazon DynamoDB table to create (for example, Music3).\r\n            key - The key for the Amazon DynamoDB table (for example, Artist).\r\n        &quot;&quot;&quot;\r\n    \r\n        if (args.size != 2) {\r\n            println(usage)\r\n            exitProcess(0)\r\n        }\r\n    \r\n        val tableName = args[0]\r\n        val key = args[1]\r\n        println(&quot;Creating an Amazon DynamoDB table named $tableName with a key named $key&quot;)\r\n        val tableArn = createNewTable(tableName, key)\r\n        println(&quot;The new table ARN is $tableArn&quot;)\r\n    }\r\n    \r\n    // snippet-start:[dynamodb.kotlin.create_table.main]\r\n    suspend fun createNewTable(tableNameVal: String, key: String): String? {\r\n    \r\n        val attDef = AttributeDefinition {\r\n            attributeName = key\r\n            attributeType = ScalarAttributeType.S\r\n        }\r\n    \r\n        val keySchemaVal = KeySchemaElement {\r\n            attributeName = key\r\n            keyType = KeyType.Hash\r\n        }\r\n    \r\n        val provisionedVal = ProvisionedThroughput {\r\n            readCapacityUnits = 10\r\n            writeCapacityUnits = 10\r\n        }\r\n    \r\n        val request = CreateTableRequest {\r\n            attributeDefinitions = listOf(attDef)\r\n            keySchema = listOf(keySchemaVal)\r\n            provisionedThroughput = provisionedVal\r\n            tableName = tableNameVal\r\n        }\r\n    \r\n        DynamoDbClient { region = &quot;us-east-1&quot; }.use { ddb -&gt;\r\n    \r\n            var tableArn: String\r\n            val response = ddb.createTable(request)\r\n            ddb.waitUntilTableExists { // suspend call\r\n                tableName = tableNameVal\r\n            }\r\n            tableArn = response.tableDescription!!.tableArn.toString()\r\n            println(&quot;Table $tableArn is ready&quot;)\r\n            return tableArn\r\n        }\r\n    }\r\n    // snippet-end:[dynamodb.kotlin.create_table.main]&#39;\r\n\r\nThe Kotlin SDK supports [updateTimeToLive][2].\r\n\r\nTo learn how to use the AWS SDK for Kotlin, refer to the [DEV Guide][3].\r\n\r\n***Using Waiter with AWS SDK for Java v2***\r\n\r\nIf for some reason, you need to continue to use Java SDK, then your issue is you are not using Waiters. The solution is to use Waiters before trying to modify the table with other methods, as shown in this Java example. \r\n\r\n    //snippet-sourcedescription:[CreateTable.java demonstrates how to create an Amazon DynamoDB table by using a waiter.]\r\n    //snippet-keyword:[SDK for Java v2]\r\n    //snippet-service:[Amazon DynamoDB]\r\n    \r\n    /*\r\n       Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\r\n       SPDX-License-Identifier: Apache-2.0\r\n    */\r\n    \r\n    package com.example.dynamodb;\r\n    \r\n    // snippet-start:[dynamodb.java2.create_table.import]\r\n    import software.amazon.awssdk.auth.credentials.ProfileCredentialsProvider;\r\n    import software.amazon.awssdk.core.waiters.WaiterResponse;\r\n    import software.amazon.awssdk.regions.Region;\r\n    import software.amazon.awssdk.services.dynamodb.DynamoDbClient;\r\n    import software.amazon.awssdk.services.dynamodb.model.AttributeDefinition;\r\n    import software.amazon.awssdk.services.dynamodb.model.CreateTableRequest;\r\n    import software.amazon.awssdk.services.dynamodb.model.CreateTableResponse;\r\n    import software.amazon.awssdk.services.dynamodb.model.DescribeTableRequest;\r\n    import software.amazon.awssdk.services.dynamodb.model.DescribeTableResponse;\r\n    import software.amazon.awssdk.services.dynamodb.model.DynamoDbException;\r\n    import software.amazon.awssdk.services.dynamodb.model.KeySchemaElement;\r\n    import software.amazon.awssdk.services.dynamodb.model.KeyType;\r\n    import software.amazon.awssdk.services.dynamodb.model.ProvisionedThroughput;\r\n    import software.amazon.awssdk.services.dynamodb.model.ScalarAttributeType;\r\n    import software.amazon.awssdk.services.dynamodb.waiters.DynamoDbWaiter;\r\n    // snippet-end:[dynamodb.java2.create_table.import]\r\n    \r\n    /**\r\n     * Before running this Java V2 code example, set up your development environment, including your credentials.\r\n     *\r\n     * For more information, see the following documentation topic:\r\n     *\r\n     * https://docs.aws.amazon.com/sdk-for-java/latest/developer-guide/get-started.html\r\n     */\r\n    public class CreateTable {\r\n    \r\n        public static void main(String[] args) {\r\n    \r\n            final String usage = &quot;\\n&quot; +\r\n                &quot;Usage:\\n&quot; +\r\n                &quot;    &lt;tableName&gt; &lt;key&gt;\\n\\n&quot; +\r\n                &quot;Where:\\n&quot; +\r\n                &quot;    tableName - The Amazon DynamoDB table to create (for example, Music3).\\n\\n&quot; +\r\n                &quot;    key - The key for the Amazon DynamoDB table (for example, Artist).\\n&quot; ;\r\n    \r\n           if (args.length != 2) {\r\n               System.out.println(usage);\r\n               System.exit(1);\r\n           }\r\n    \r\n           String tableName = args[0];\r\n           String key = args[1];\r\n           System.out.println(&quot;Creating an Amazon DynamoDB table &quot;+tableName +&quot; with a simple primary key: &quot; +key );\r\n    \r\n           ProfileCredentialsProvider credentialsProvider = ProfileCredentialsProvider.create();\r\n           Region region = Region.US_EAST_1;\r\n           DynamoDbClient ddb = DynamoDbClient.builder()\r\n               .credentialsProvider(credentialsProvider)\r\n               .region(region)\r\n               .build();\r\n    \r\n           String result = createTable(ddb, tableName, key);\r\n           System.out.println(&quot;New table is &quot;+result);\r\n           ddb.close();\r\n        }\r\n    \r\n        // snippet-start:[dynamodb.java2.create_table.main]\r\n        public static String createTable(DynamoDbClient ddb, String tableName, String key) {\r\n            DynamoDbWaiter dbWaiter = ddb.waiter();\r\n            CreateTableRequest request = CreateTableRequest.builder()\r\n                .attributeDefinitions(AttributeDefinition.builder()\r\n                    .attributeName(key)\r\n                    .attributeType(ScalarAttributeType.S)\r\n                    .build())\r\n                .keySchema(KeySchemaElement.builder()\r\n                    .attributeName(key)\r\n                    .keyType(KeyType.HASH)\r\n                    .build())\r\n                .provisionedThroughput(ProvisionedThroughput.builder()\r\n                    .readCapacityUnits(new Long(10))\r\n                    .writeCapacityUnits(new Long(10))\r\n                    .build())\r\n                .tableName(tableName)\r\n                .build();\r\n    \r\n            String newTable =&quot;&quot;;\r\n            try {\r\n                CreateTableResponse response = ddb.createTable(request);\r\n                DescribeTableRequest tableRequest = DescribeTableRequest.builder()\r\n                    .tableName(tableName)\r\n                    .build();\r\n    \r\n                // Wait until the Amazon DynamoDB table is created.\r\n                WaiterResponse&lt;DescribeTableResponse&gt; waiterResponse = dbWaiter.waitUntilTableExists(tableRequest);\r\n                waiterResponse.matched().response().ifPresent(System.out::println);\r\n                newTable = response.tableDescription().tableName();\r\n                return newTable;\r\n    \r\n            } catch (DynamoDbException e) {\r\n                System.err.println(e.getMessage());\r\n                System.exit(1);\r\n            }\r\n           return &quot;&quot;;\r\n        }\r\n        // snippet-end:[dynamodb.java2.create_table.main]\r\n    }\r\n\r\n\r\nBoth of these AWS code examples to create an Amazon DynamoDB table can be found [here in the AWS Code Library][4].\r\n\r\n\r\n  [1]: https://docs.aws.amazon.com/sdk-for-kotlin/latest/developer-guide/coroutines.html\r\n  [2]: https://sdk.amazonaws.com/kotlin/api/latest/dynamodb/aws.sdk.kotlin.services.dynamodb/update-time-to-live.html\r\n  [3]: https://docs.aws.amazon.com/sdk-for-kotlin/latest/developer-guide/setup.html\r\n  [4]: https://docs.aws.amazon.com/code-library/latest/ug/dynamodb_example_dynamodb_CreateTable_section.html","title":"Is there a way to create a DynamoDB table with TTL and PITR enabled with the Java AWS SDK?","body":"<p>To build an Amazon DynamoDB table in Kotlin, use the <em><strong>AWS SDK for Kotlin</strong></em> as opposed to the AWS SDK for Java. When you use the <em><strong>AWS SDK for Kotlin</strong></em>, you get benefits like Kotlin Coroutines functionality. For more information about Coroutines in the SDK for Kotlin, see this topic in the <em><strong>AWS SDK for Kotlin DEV Guide</strong></em>:</p>\n<p><a href=\"https://docs.aws.amazon.com/sdk-for-kotlin/latest/developer-guide/coroutines.html\" rel=\"nofollow noreferrer\">Coroutines</a></p>\n<p>Now when you create a table using the Kotlin SDK, you can use <em><strong>Waiters</strong></em>. WHen you use Waiters, the code does not proceed until the table is created. To create a table using the Kotlin SDK, use this Kotlin code:</p>\n<pre><code>// snippet-sourcedescription:[CreateTable.kt demonstrates how to create an Amazon DynamoDB table using a waiter.]\n// snippet-keyword:[AWS SDK for Kotlin]\n// snippet-service:[Amazon DynamoDB]\n\n/*\n   Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n   SPDX-License-Identifier: Apache-2.0\n*/\n\npackage com.kotlin.dynamodb\n\n// snippet-start:[dynamodb.kotlin.create_table.import]\nimport aws.sdk.kotlin.services.dynamodb.DynamoDbClient\nimport aws.sdk.kotlin.services.dynamodb.model.AttributeDefinition\nimport aws.sdk.kotlin.services.dynamodb.model.CreateTableRequest\nimport aws.sdk.kotlin.services.dynamodb.model.KeySchemaElement\nimport aws.sdk.kotlin.services.dynamodb.model.KeyType\nimport aws.sdk.kotlin.services.dynamodb.model.ProvisionedThroughput\nimport aws.sdk.kotlin.services.dynamodb.model.ScalarAttributeType\nimport aws.sdk.kotlin.services.dynamodb.waiters.waitUntilTableExists\nimport kotlin.system.exitProcess\n// snippet-end:[dynamodb.kotlin.create_table.import]\n\n/**\nBefore running this Kotlin code example, set up your development environment,\nincluding your credentials.\nFor more information, see the following documentation topic:\nhttps://docs.aws.amazon.com/sdk-for-kotlin/latest/developer-guide/setup.html\n */\n\nsuspend fun main(args: Array&lt;String&gt;) {\n\n    val usage = &quot;&quot;&quot;\n    Usage:\n         &lt;tableName&gt; &lt;key&gt; \n    Where:\n        tableName - The Amazon DynamoDB table to create (for example, Music3).\n        key - The key for the Amazon DynamoDB table (for example, Artist).\n    &quot;&quot;&quot;\n\n    if (args.size != 2) {\n        println(usage)\n        exitProcess(0)\n    }\n\n    val tableName = args[0]\n    val key = args[1]\n    println(&quot;Creating an Amazon DynamoDB table named $tableName with a key named $key&quot;)\n    val tableArn = createNewTable(tableName, key)\n    println(&quot;The new table ARN is $tableArn&quot;)\n}\n\n// snippet-start:[dynamodb.kotlin.create_table.main]\nsuspend fun createNewTable(tableNameVal: String, key: String): String? {\n\n    val attDef = AttributeDefinition {\n        attributeName = key\n        attributeType = ScalarAttributeType.S\n    }\n\n    val keySchemaVal = KeySchemaElement {\n        attributeName = key\n        keyType = KeyType.Hash\n    }\n\n    val provisionedVal = ProvisionedThroughput {\n        readCapacityUnits = 10\n        writeCapacityUnits = 10\n    }\n\n    val request = CreateTableRequest {\n        attributeDefinitions = listOf(attDef)\n        keySchema = listOf(keySchemaVal)\n        provisionedThroughput = provisionedVal\n        tableName = tableNameVal\n    }\n\n    DynamoDbClient { region = &quot;us-east-1&quot; }.use { ddb -&gt;\n\n        var tableArn: String\n        val response = ddb.createTable(request)\n        ddb.waitUntilTableExists { // suspend call\n            tableName = tableNameVal\n        }\n        tableArn = response.tableDescription!!.tableArn.toString()\n        println(&quot;Table $tableArn is ready&quot;)\n        return tableArn\n    }\n}\n// snippet-end:[dynamodb.kotlin.create_table.main]'\n</code></pre>\n<p>The Kotlin SDK supports <a href=\"https://sdk.amazonaws.com/kotlin/api/latest/dynamodb/aws.sdk.kotlin.services.dynamodb/update-time-to-live.html\" rel=\"nofollow noreferrer\">updateTimeToLive</a>.</p>\n<p>To learn how to use the AWS SDK for Kotlin, refer to the <a href=\"https://docs.aws.amazon.com/sdk-for-kotlin/latest/developer-guide/setup.html\" rel=\"nofollow noreferrer\">DEV Guide</a>.</p>\n<p><em><strong>Using Waiter with AWS SDK for Java v2</strong></em></p>\n<p>If for some reason, you need to continue to use Java SDK, then your issue is you are not using Waiters. The solution is to use Waiters before trying to modify the table with other methods, as shown in this Java example.</p>\n<pre><code>//snippet-sourcedescription:[CreateTable.java demonstrates how to create an Amazon DynamoDB table by using a waiter.]\n//snippet-keyword:[SDK for Java v2]\n//snippet-service:[Amazon DynamoDB]\n\n/*\n   Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n   SPDX-License-Identifier: Apache-2.0\n*/\n\npackage com.example.dynamodb;\n\n// snippet-start:[dynamodb.java2.create_table.import]\nimport software.amazon.awssdk.auth.credentials.ProfileCredentialsProvider;\nimport software.amazon.awssdk.core.waiters.WaiterResponse;\nimport software.amazon.awssdk.regions.Region;\nimport software.amazon.awssdk.services.dynamodb.DynamoDbClient;\nimport software.amazon.awssdk.services.dynamodb.model.AttributeDefinition;\nimport software.amazon.awssdk.services.dynamodb.model.CreateTableRequest;\nimport software.amazon.awssdk.services.dynamodb.model.CreateTableResponse;\nimport software.amazon.awssdk.services.dynamodb.model.DescribeTableRequest;\nimport software.amazon.awssdk.services.dynamodb.model.DescribeTableResponse;\nimport software.amazon.awssdk.services.dynamodb.model.DynamoDbException;\nimport software.amazon.awssdk.services.dynamodb.model.KeySchemaElement;\nimport software.amazon.awssdk.services.dynamodb.model.KeyType;\nimport software.amazon.awssdk.services.dynamodb.model.ProvisionedThroughput;\nimport software.amazon.awssdk.services.dynamodb.model.ScalarAttributeType;\nimport software.amazon.awssdk.services.dynamodb.waiters.DynamoDbWaiter;\n// snippet-end:[dynamodb.java2.create_table.import]\n\n/**\n * Before running this Java V2 code example, set up your development environment, including your credentials.\n *\n * For more information, see the following documentation topic:\n *\n * https://docs.aws.amazon.com/sdk-for-java/latest/developer-guide/get-started.html\n */\npublic class CreateTable {\n\n    public static void main(String[] args) {\n\n        final String usage = &quot;\\n&quot; +\n            &quot;Usage:\\n&quot; +\n            &quot;    &lt;tableName&gt; &lt;key&gt;\\n\\n&quot; +\n            &quot;Where:\\n&quot; +\n            &quot;    tableName - The Amazon DynamoDB table to create (for example, Music3).\\n\\n&quot; +\n            &quot;    key - The key for the Amazon DynamoDB table (for example, Artist).\\n&quot; ;\n\n       if (args.length != 2) {\n           System.out.println(usage);\n           System.exit(1);\n       }\n\n       String tableName = args[0];\n       String key = args[1];\n       System.out.println(&quot;Creating an Amazon DynamoDB table &quot;+tableName +&quot; with a simple primary key: &quot; +key );\n\n       ProfileCredentialsProvider credentialsProvider = ProfileCredentialsProvider.create();\n       Region region = Region.US_EAST_1;\n       DynamoDbClient ddb = DynamoDbClient.builder()\n           .credentialsProvider(credentialsProvider)\n           .region(region)\n           .build();\n\n       String result = createTable(ddb, tableName, key);\n       System.out.println(&quot;New table is &quot;+result);\n       ddb.close();\n    }\n\n    // snippet-start:[dynamodb.java2.create_table.main]\n    public static String createTable(DynamoDbClient ddb, String tableName, String key) {\n        DynamoDbWaiter dbWaiter = ddb.waiter();\n        CreateTableRequest request = CreateTableRequest.builder()\n            .attributeDefinitions(AttributeDefinition.builder()\n                .attributeName(key)\n                .attributeType(ScalarAttributeType.S)\n                .build())\n            .keySchema(KeySchemaElement.builder()\n                .attributeName(key)\n                .keyType(KeyType.HASH)\n                .build())\n            .provisionedThroughput(ProvisionedThroughput.builder()\n                .readCapacityUnits(new Long(10))\n                .writeCapacityUnits(new Long(10))\n                .build())\n            .tableName(tableName)\n            .build();\n\n        String newTable =&quot;&quot;;\n        try {\n            CreateTableResponse response = ddb.createTable(request);\n            DescribeTableRequest tableRequest = DescribeTableRequest.builder()\n                .tableName(tableName)\n                .build();\n\n            // Wait until the Amazon DynamoDB table is created.\n            WaiterResponse&lt;DescribeTableResponse&gt; waiterResponse = dbWaiter.waitUntilTableExists(tableRequest);\n            waiterResponse.matched().response().ifPresent(System.out::println);\n            newTable = response.tableDescription().tableName();\n            return newTable;\n\n        } catch (DynamoDbException e) {\n            System.err.println(e.getMessage());\n            System.exit(1);\n        }\n       return &quot;&quot;;\n    }\n    // snippet-end:[dynamodb.java2.create_table.main]\n}\n</code></pre>\n<p>Both of these AWS code examples to create an Amazon DynamoDB table can be found <a href=\"https://docs.aws.amazon.com/code-library/latest/ug/dynamodb_example_dynamodb_CreateTable_section.html\" rel=\"nofollow noreferrer\">here in the AWS Code Library</a>.</p>\n"}],"owner":{"account_id":14793191,"reputation":13,"user_id":10683488,"display_name":"snack-overthrow"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":414,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75514574,"answer_count":2,"score":0,"last_activity_date":1676931206,"creation_date":1676927532,"question_id":75514180,"body_markdown":"I&#39;m trying to create a DynamoDB table programmatically in Kotlin using a `CreateTableRequest`:\r\n\r\n```\r\nval createTableRequest: CreateTableRequest = CreateTableRequest.builder()\r\n    .tableName(tableName)\r\n    .billingMode(&quot;PAY_PER_REQUEST&quot;)\r\n    .attributeDefinitions(attributeDefinitions)\r\n    .keySchema(keySchema)\r\n    .streamSpecification(streamSpecification)\r\n    .globalSecondaryIndexes(globalSecondaryIndexes)\r\n    .tags(tags)\r\n    .build()\r\n\r\ndynamoDbClient.createTable(createTableRequest)\r\n```\r\n\r\nI want to set the TTL and Point-in-time recovery (PITR) settings to true, however it doesn&#39;t seem like `CreateTableRequest` has an option for enabling the TTL and Point-in-time recovery.\r\n\r\nI know there is an `UpdateTimeToLiveRequest` and an `UpdateContinuousBackupsRequest`, however when I try to run those right after creating the table, it throws an error since the table is still being created.\r\n\r\n```\r\n// Enable TTL\r\nval updateTimeToLiveRequest = UpdateTimeToLiveRequest.builder()\r\n     .tableName(tableName)\r\n.timeToLiveSpecification(TimeToLiveSpecification.builder().enabled(true).attributeName(&quot;ttl&quot;).build())\r\n    .build()\r\ndynamoDbClient.updateTimeToLive(updateTimeToLiveRequest)\r\n```\r\n\r\n```\r\nsoftware.amazon.awssdk.services.dynamodb.model.ResourceInUseException: Attempt to change a resource which is still in use: Table table-test is being created (Service: DynamoDb, Status Code: 400, Request ID: H3RKQE7OKQHGE1Q3E2J8SFKRCVVV4KQNSO5AEMVJF66Q9ASUAAJG)\r\n```\r\n\r\nIs there a way to create a DynamoDB table with the TTL and PITR settings already enabled?","title":"Is there a way to create a DynamoDB table with TTL and PITR enabled with the Java AWS SDK?","body":"<p>I'm trying to create a DynamoDB table programmatically in Kotlin using a <code>CreateTableRequest</code>:</p>\n<pre><code>val createTableRequest: CreateTableRequest = CreateTableRequest.builder()\n    .tableName(tableName)\n    .billingMode(&quot;PAY_PER_REQUEST&quot;)\n    .attributeDefinitions(attributeDefinitions)\n    .keySchema(keySchema)\n    .streamSpecification(streamSpecification)\n    .globalSecondaryIndexes(globalSecondaryIndexes)\n    .tags(tags)\n    .build()\n\ndynamoDbClient.createTable(createTableRequest)\n</code></pre>\n<p>I want to set the TTL and Point-in-time recovery (PITR) settings to true, however it doesn't seem like <code>CreateTableRequest</code> has an option for enabling the TTL and Point-in-time recovery.</p>\n<p>I know there is an <code>UpdateTimeToLiveRequest</code> and an <code>UpdateContinuousBackupsRequest</code>, however when I try to run those right after creating the table, it throws an error since the table is still being created.</p>\n<pre><code>// Enable TTL\nval updateTimeToLiveRequest = UpdateTimeToLiveRequest.builder()\n     .tableName(tableName)\n.timeToLiveSpecification(TimeToLiveSpecification.builder().enabled(true).attributeName(&quot;ttl&quot;).build())\n    .build()\ndynamoDbClient.updateTimeToLive(updateTimeToLiveRequest)\n</code></pre>\n<pre><code>software.amazon.awssdk.services.dynamodb.model.ResourceInUseException: Attempt to change a resource which is still in use: Table table-test is being created (Service: DynamoDb, Status Code: 400, Request ID: H3RKQE7OKQHGE1Q3E2J8SFKRCVVV4KQNSO5AEMVJF66Q9ASUAAJG)\n</code></pre>\n<p>Is there a way to create a DynamoDB table with the TTL and PITR settings already enabled?</p>\n"},{"tags":["java","javafx"],"comments":[{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":3,"creation_date":1676917213,"post_id":75512717,"comment_id":133229764,"body_markdown":"Use a [`BorderPane`](https://openjfx.io/javadoc/19/javafx.graphics/javafx/scene/layout/BorderPane.html) as the root of the scene. Put your side menu on the `left` and the real content in the `center`. Whenever the user presses a button, replace the `center` node as appropriate. Note I recommend avoiding `AnchorPane` as much as possible. It&#39;s rarely the layout you want. You should prefer layouts that handle relative sizing and relative positioning (anchor pane is absolute). You can nest layouts to get the desired overall layout.","body":"Use a <a href=\"https://openjfx.io/javadoc/19/javafx.graphics/javafx/scene/layout/BorderPane.html\" rel=\"nofollow noreferrer\"><code>BorderPane</code></a> as the root of the scene. Put your side menu on the <code>left</code> and the real content in the <code>center</code>. Whenever the user presses a button, replace the <code>center</code> node as appropriate. Note I recommend avoiding <code>AnchorPane</code> as much as possible. It&#39;s rarely the layout you want. You should prefer layouts that handle relative sizing and relative positioning (anchor pane is absolute). You can nest layouts to get the desired overall layout."},{"owner":{"account_id":26380586,"reputation":109,"user_id":20033905,"display_name":"Ric97"},"score":0,"creation_date":1676918793,"post_id":75512717,"comment_id":133230173,"body_markdown":"Thank you, i will look into borderpanes. Still, i&#39;m a bit confused about the node changing. If i have multiple classes, each representing a node, how can i &quot;inject&quot; it into the central node? I only used the FXMLoader methods right now","body":"Thank you, i will look into borderpanes. Still, i&#39;m a bit confused about the node changing. If i have multiple classes, each representing a node, how can i &quot;inject&quot; it into the central node? I only used the FXMLoader methods right now"},{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":0,"creation_date":1676919393,"post_id":75512717,"comment_id":133230344,"body_markdown":"This [`LayoutDemo`](https://github.com/openjdk/jfx/tree/master/apps/toys/LayoutDemo) is a convenient way to explore.","body":"This <a href=\"https://github.com/openjdk/jfx/tree/master/apps/toys/LayoutDemo\" rel=\"nofollow noreferrer\"><code>LayoutDemo</code></a> is a convenient way to explore."},{"owner":{"account_id":2819940,"reputation":12538,"user_id":2423906,"accept_rate":100,"display_name":"SedJ601"},"score":0,"creation_date":1676921313,"post_id":75512717,"comment_id":133230798,"body_markdown":"See if [this](https://github.com/sedj601/RestaurantOrdersDuplicateFX/tree/master/src/restaurantordersduplicatefx) helps.","body":"See if <a href=\"https://github.com/sedj601/RestaurantOrdersDuplicateFX/tree/master/src/restaurantordersduplicatefx\" rel=\"nofollow noreferrer\">this</a> helps."},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1676925699,"post_id":75512717,"comment_id":133231799,"body_markdown":"@Ric97 The specifics depend on how you&#39;re structuring your code. But essentially a call to `FXMLLoader#load()` will return a `Node` (presumably). From there, you simply call `pane.setCenter(newlyLoadedNode)`. That obviously means that the mechanism you use somehow needs access to the `BorderPane` _instance_. I suppose you could do something like `(BorderPane) ((Node) event.getSource()).getScene().getRoot()`. But that&#39;s brittle and effectively relies on implementation details. A proper architecture like MVC or MVVM would probably be better.","body":"@Ric97 The specifics depend on how you&#39;re structuring your code. But essentially a call to <code>FXMLLoader#load()</code> will return a <code>Node</code> (presumably). From there, you simply call <code>pane.setCenter(newlyLoadedNode)</code>. That obviously means that the mechanism you use somehow needs access to the <code>BorderPane</code> <i>instance</i>. I suppose you could do something like <code>(BorderPane) ((Node) event.getSource()).getScene().getRoot()</code>. But that&#39;s brittle and effectively relies on implementation details. A proper architecture like MVC or MVVM would probably be better."}],"answers":[{"tags":[],"owner":{"account_id":2819940,"reputation":12538,"user_id":2423906,"accept_rate":100,"display_name":"SedJ601"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1676931143,"creation_date":1676931143,"answer_id":75514636,"question_id":75512717,"body_markdown":"Here is an example. I used `MVC` ideas from [here](https://stackoverflow.com/questions/32342864/applying-mvc-with-javafx) and `Passing Data` ideas from [here](https://stackoverflow.com/questions/14187963/passing-parameters-javafx-fxml).\r\n\r\nThis example has a `Data Model` that simulates getting data from a database and passing it between subviews. `DataModel` is created in the `Main` and passed to the `MainViewController`. \r\n\r\n```\r\nDataModel dataModel = new DataModel();\r\n\r\nFXMLLoader rootLoader = new FXMLLoader(getClass().getResource(&quot;MainView.fxml&quot;));\r\nrootLoader.load();\r\nMainViewController mainViewController = rootLoader.getController();\r\nmainViewController.initModel(dataModel);\r\nmainViewController.setSubSceneInitalNode();\r\n```\r\n----------\r\n\r\nAfter `DataModel` is passed to `MainViewController`, `MainViewController` will pass it to the subview when it load subview. \r\n\r\n\r\n\r\n\r\n\r\n**Example loading the `Orders` view**\r\n```\r\npublic void handleBtnOnActionOrders(ActionEvent actionEvent) \r\n{\r\n    try \r\n    {\r\n        FXMLLoader loader = new FXMLLoader(getClass().getResource(&quot;OrdersSubsene.fxml&quot;));\r\n        loader.load();\r\n        OrdersSubseneController ordersSubseneController = loader.getController();\r\n        ordersSubseneController.initModel(dataModel);\r\n\r\n        spSubScene.getChildren().clear();\r\n        spSubScene.getChildren().add(ordersSubseneController.getVBoxRoot());\r\n    } \r\n    catch (IOException ex) \r\n    {\r\n        System.out.println(ex.toString());\r\n    }\r\n}\r\n```\r\n\r\n\r\n----------\r\n**Full Code**\r\n\r\n**Main**\r\n```\r\nimport javafx.application.Application;\r\nimport javafx.fxml.FXMLLoader;\r\nimport javafx.scene.Scene;\r\nimport javafx.stage.Stage;\r\n\r\nimport java.io.IOException;\r\n\r\n/**\r\n * JavaFX App Sedrick(Sedj601)\r\n */\r\npublic class App extends Application {\r\n    @Override\r\n    public void start(Stage stage) throws IOException {\r\n    DataModel dataModel = new DataModel();\r\n\r\n    FXMLLoader rootLoader = new FXMLLoader(getClass().getResource(&quot;MainView.fxml&quot;));\r\n    rootLoader.load();\r\n    MainViewController mainViewController = rootLoader.getController();\r\n    mainViewController.initModel(dataModel);\r\n    mainViewController.setSubSceneInitalNode();\r\n\r\n        Scene scene = new Scene(rootLoader.getRoot());\r\n\r\n        stage.setScene(scene);\r\n        stage.show();\r\n    }\r\n    \r\n    public static void main(String[] args) {\r\n        launch();\r\n    }\r\n}\r\n```\r\n\r\n**DataModel**\r\n```\r\npackage sed.test.dashboardfx;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\n/**\r\n *\r\n * @author blj0011\r\n */\r\npublic class DataModel {\r\n    public List&lt;String&gt; simulateGetDataFromDatabase()\r\n    {\r\n        List&lt;String&gt; name = new ArrayList();\r\n        \r\n        name.add(&quot;John Doe&quot;);\r\n        name.add(&quot;Jane Doe&quot;);\r\n        name.add(&quot;Kim Jackson&quot;);\r\n        name.add(&quot;James Jones&quot;);\r\n        \r\n        return name;\r\n    }\r\n}\r\n```\r\n\r\n**Module-Info**\r\n```\r\nmodule sed.test.dashboardfx {\r\n    requires javafx.controls;\r\n    requires javafx.fxml;\r\n\r\n    requires org.kordamp.ikonli.core;\r\n    requires org.kordamp.ikonli.javafx;\r\n    requires org.kordamp.ikonli.dashicons;\r\n    requires java.base;\r\n        \r\n    opens sed.test.dashboardfx to javafx.fxml;\r\n    exports sed.test.dashboardfx;\r\n}\r\n```\r\n**MainViewController**\r\n```\r\nimport java.io.IOException;\r\nimport javafx.application.Platform;\r\nimport javafx.event.ActionEvent;\r\nimport javafx.fxml.FXML;\r\nimport javafx.fxml.FXMLLoader;\r\nimport javafx.scene.control.Button;\r\nimport javafx.scene.layout.StackPane;\r\n\r\npublic class MainViewController {\r\n\r\n    @FXML private StackPane spSubScene;\r\n    @FXML private Button btnOverview;\r\n            \r\n    private DataModel dataModel;\r\n\r\n    public void setSubSceneInitalNode() \r\n    {\r\n        btnOverview.fire();\r\n    }\r\n\r\n    public void handleBtnOnActionOverview(ActionEvent actionEvent) \r\n    {\r\n        try \r\n        {\r\n            FXMLLoader loader = new FXMLLoader(getClass().getResource(&quot;OverviewSubscene.fxml&quot;));\r\n            loader.load();\r\n            OverviewSubsceneController overviewSubsceneController = loader.getController();\r\n            overviewSubsceneController.initModel(dataModel);\r\n            \r\n            spSubScene.getChildren().clear();\r\n            spSubScene.getChildren().add(overviewSubsceneController.getVBoxRoot());\r\n        } \r\n        catch (IOException ex) \r\n        {\r\n            System.out.println(ex.toString());\r\n        }\r\n    }\r\n\r\n    public void handleBtnOnActionOrders(ActionEvent actionEvent) \r\n    {\r\n        try \r\n        {\r\n            FXMLLoader loader = new FXMLLoader(getClass().getResource(&quot;OrdersSubsene.fxml&quot;));\r\n            loader.load();\r\n            OrdersSubseneController ordersSubseneController = loader.getController();\r\n            ordersSubseneController.initModel(dataModel);\r\n\r\n            spSubScene.getChildren().clear();\r\n            spSubScene.getChildren().add(ordersSubseneController.getVBoxRoot());\r\n        } \r\n        catch (IOException ex) \r\n        {\r\n            System.out.println(ex.toString());\r\n        }\r\n    }\r\n\r\n    public void handleBtnOnActionSettings(ActionEvent actionEvent) \r\n    {\r\n        try \r\n        {\r\n            FXMLLoader loader = new FXMLLoader(getClass().getResource(&quot;SettingsSubscene.fxml&quot;));\r\n            loader.load();\r\n            SettingsSubsceneController settingsSubsceneController = loader.getController();\r\n            settingsSubsceneController.initModel(dataModel);\r\n            \r\n            spSubScene.getChildren().clear();\r\n            spSubScene.getChildren().add(settingsSubsceneController.getVBoxRoot());\r\n        } \r\n        catch (IOException ex) \r\n        {\r\n            System.out.println(ex.toString());\r\n        }\r\n    }\r\n\r\n    public void initModel(DataModel model) \r\n    {\r\n        if (this.dataModel != null) {\r\n            throw new IllegalStateException(&quot;Model can only be initialized once&quot;);\r\n        }\r\n        this.dataModel = model;\r\n    }\r\n    \r\n    public void handleBtnExit(ActionEvent actionEvent)\r\n    {\r\n        Platform.exit();\r\n    }\r\n}\r\n```\r\n**MainView.fxml**\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n\r\n&lt;?import javafx.geometry.Insets?&gt;\r\n&lt;?import javafx.scene.control.Button?&gt;\r\n&lt;?import javafx.scene.control.Label?&gt;\r\n&lt;?import javafx.scene.layout.HBox?&gt;\r\n&lt;?import javafx.scene.layout.StackPane?&gt;\r\n&lt;?import javafx.scene.layout.VBox?&gt;\r\n&lt;?import org.kordamp.ikonli.javafx.FontIcon?&gt;\r\n\r\n&lt;VBox maxHeight=&quot;-Infinity&quot; maxWidth=&quot;-Infinity&quot; minHeight=&quot;-Infinity&quot; minWidth=&quot;-Infinity&quot; prefHeight=&quot;720.0&quot; prefWidth=&quot;1080.0&quot; xmlns=&quot;http://javafx.com/javafx/18&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot; fx:controller=&quot;sed.test.dashboardfx.MainViewController&quot;&gt;\r\n   &lt;children&gt;\r\n      &lt;HBox prefHeight=&quot;100.0&quot; prefWidth=&quot;200.0&quot; VBox.vgrow=&quot;ALWAYS&quot;&gt;\r\n         &lt;children&gt;\r\n            &lt;VBox alignment=&quot;TOP_RIGHT&quot; prefHeight=&quot;400.0&quot; prefWidth=&quot;256.0&quot; style=&quot;-fx-background-color: #05071F;&quot;&gt;\r\n               &lt;children&gt;\r\n                  &lt;StackPane alignment=&quot;BOTTOM_CENTER&quot; maxWidth=&quot;1.7976931348623157E308&quot; prefHeight=&quot;175.0&quot; prefWidth=&quot;200.0&quot;&gt;\r\n                     &lt;padding&gt;\r\n                        &lt;Insets bottom=&quot;5.0&quot; /&gt;\r\n                     &lt;/padding&gt;\r\n                     &lt;children&gt;\r\n                        &lt;FontIcon iconColor=&quot;WHITE&quot; iconLiteral=&quot;dashicons-businessperson&quot; iconSize=&quot;60&quot; tabSize=&quot;0&quot; /&gt;\r\n                     &lt;/children&gt;\r\n                  &lt;/StackPane&gt;\r\n                  &lt;Label fx:id=&quot;lblDisplayImageTitle&quot; alignment=&quot;CENTER&quot; maxWidth=&quot;1.7976931348623157E308&quot; text=&quot;Current View&quot; textFill=&quot;#e7e5e5&quot;&gt;\r\n                     &lt;padding&gt;\r\n                        &lt;Insets bottom=&quot;20.0&quot; /&gt;\r\n                     &lt;/padding&gt;\r\n                  &lt;/Label&gt;\r\n                  &lt;Button fx:id=&quot;btnOverview&quot; alignment=&quot;BASELINE_LEFT&quot; graphicTextGap=&quot;22.0&quot; maxWidth=&quot;1.7976931348623157E308&quot; mnemonicParsing=&quot;false&quot; onAction=&quot;#handleBtnOnActionOverview&quot; prefHeight=&quot;55.0&quot; style=&quot;-fx-background-color: #05071F;&quot; text=&quot;Overview&quot; textFill=&quot;#e7e5e5&quot;&gt;\r\n                     &lt;padding&gt;\r\n                        &lt;Insets left=&quot;60.0&quot; /&gt;\r\n                     &lt;/padding&gt;\r\n                     &lt;graphic&gt;\r\n                        &lt;FontIcon iconColor=&quot;#fcf9f9&quot; iconLiteral=&quot;dashicons-desktop&quot; iconSize=&quot;25&quot; /&gt;\r\n                     &lt;/graphic&gt;\r\n                  &lt;/Button&gt;\r\n                  &lt;Button fx:id=&quot;btnOrders&quot; alignment=&quot;BASELINE_LEFT&quot; graphicTextGap=&quot;22.0&quot; maxWidth=&quot;1.7976931348623157E308&quot; mnemonicParsing=&quot;false&quot; onAction=&quot;#handleBtnOnActionOrders&quot; prefHeight=&quot;55.0&quot; style=&quot;-fx-background-color: #05071F;&quot; text=&quot;Orders&quot; textFill=&quot;#e7e5e5&quot;&gt;\r\n                     &lt;padding&gt;\r\n                        &lt;Insets left=&quot;60.0&quot; /&gt;\r\n                     &lt;/padding&gt;\r\n                     &lt;graphic&gt;\r\n                        &lt;FontIcon iconColor=&quot;WHITE&quot; iconLiteral=&quot;dashicons-list-view&quot; iconSize=&quot;25&quot; /&gt;\r\n                     &lt;/graphic&gt;\r\n                  &lt;/Button&gt;\r\n                  &lt;Button fx:id=&quot;btnSettings&quot; alignment=&quot;BASELINE_LEFT&quot; graphicTextGap=&quot;22.0&quot; maxWidth=&quot;1.7976931348623157E308&quot; mnemonicParsing=&quot;false&quot; onAction=&quot;#handleBtnOnActionSettings&quot; prefHeight=&quot;55.0&quot; style=&quot;-fx-background-color: #05071F;&quot; text=&quot;Settings&quot; textFill=&quot;#e7e5e5&quot;&gt;\r\n                     &lt;padding&gt;\r\n                        &lt;Insets left=&quot;60.0&quot; /&gt;\r\n                     &lt;/padding&gt;\r\n                     &lt;graphic&gt;\r\n                        &lt;FontIcon iconColor=&quot;WHITE&quot; iconLiteral=&quot;dashicons-admin-settings&quot; iconSize=&quot;25&quot; /&gt;\r\n                     &lt;/graphic&gt;\r\n                  &lt;/Button&gt;\r\n                  &lt;StackPane prefHeight=&quot;150.0&quot; prefWidth=&quot;200.0&quot; VBox.vgrow=&quot;ALWAYS&quot; /&gt;\r\n                  &lt;StackPane&gt;\r\n                     &lt;children&gt;\r\n                        &lt;Button maxWidth=&quot;1.7976931348623157E308&quot; mnemonicParsing=&quot;false&quot; onAction=&quot;#handleBtnExit&quot; text=&quot;Exit&quot;&gt;\r\n                           &lt;StackPane.margin&gt;\r\n                              &lt;Insets bottom=&quot;20.0&quot; left=&quot;20.0&quot; right=&quot;20.0&quot; top=&quot;20.0&quot; /&gt;\r\n                           &lt;/StackPane.margin&gt;\r\n                        &lt;/Button&gt;\r\n                     &lt;/children&gt;\r\n                  &lt;/StackPane&gt;\r\n               &lt;/children&gt;\r\n            &lt;/VBox&gt;\r\n            &lt;StackPane fx:id=&quot;spSubScene&quot; style=&quot;-fx-background-color: #02030A;&quot; HBox.hgrow=&quot;ALWAYS&quot; /&gt;\r\n         &lt;/children&gt;\r\n      &lt;/HBox&gt;\r\n   &lt;/children&gt;\r\n&lt;/VBox&gt;\r\n```\r\n**OrdersSubsceneController**\r\n```\r\nimport javafx.collections.FXCollections;\r\nimport javafx.fxml.FXML;\r\nimport javafx.scene.control.ListView;\r\nimport javafx.scene.layout.VBox;\r\n\r\n/**\r\n * FXML Controller class\r\n *\r\n * @author blj0011\r\n */\r\npublic class OrdersSubseneController {\r\n\r\n    private @FXML VBox vbRoot;\r\n    private @FXML ListView&lt;String&gt; listView;\r\n    \r\n    private DataModel dataModel;\r\n    \r\n    VBox getVBoxRoot()\r\n    {\r\n        return vbRoot;\r\n    }\r\n    \r\n    public void initModel(DataModel model) {\r\n        if (this.dataModel != null) {\r\n            throw new IllegalStateException(&quot;Model can only be initialized once&quot;);\r\n        }\r\n        this.dataModel = model ;\r\n        \r\n        listView.setItems(FXCollections.observableArrayList(model.simulateGetDataFromDatabase()));\r\n    }       \r\n}\r\n```\r\n**OrdersSubscene.fxml**\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n\r\n&lt;?import javafx.geometry.Insets?&gt;\r\n&lt;?import javafx.scene.control.Label?&gt;\r\n&lt;?import javafx.scene.control.ListView?&gt;\r\n&lt;?import javafx.scene.layout.VBox?&gt;\r\n\r\n&lt;VBox fx:id=&quot;vbRoot&quot; alignment=&quot;CENTER&quot; spacing=&quot;20.0&quot; xmlns=&quot;http://javafx.com/javafx/18&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot; fx:controller=&quot;sed.test.dashboardfx.OrdersSubseneController&quot;&gt;\r\n    &lt;children&gt;\r\n        &lt;Label text=&quot;Orders Subscene&quot; textFill=&quot;WHITE&quot; /&gt;\r\n      &lt;Label text=&quot;Use Passed Data in ListView!&quot; textFill=&quot;WHITE&quot; /&gt;\r\n      &lt;ListView fx:id=&quot;listView&quot; prefHeight=&quot;200.0&quot; prefWidth=&quot;200.0&quot; /&gt;\r\n    &lt;/children&gt;\r\n    &lt;padding&gt;\r\n        &lt;Insets bottom=&quot;20.0&quot; left=&quot;20.0&quot; right=&quot;20.0&quot; top=&quot;20.0&quot; /&gt;\r\n    &lt;/padding&gt;\r\n&lt;/VBox&gt;\r\n```\r\n**OverviewSubsceneController**\r\n```\r\nimport java.util.StringJoiner;\r\nimport javafx.fxml.FXML;\r\nimport javafx.scene.control.TextArea;\r\nimport javafx.scene.layout.VBox;\r\n\r\npublic class OverviewSubsceneController {\r\n    private @FXML VBox vbRoot;\r\n    private @FXML TextArea textArea;\r\n    \r\n    private DataModel dataModel;\r\n          \r\n    VBox getVBoxRoot()\r\n    {\r\n        return vbRoot;\r\n    }\r\n    \r\n    public void initModel(DataModel model) {\r\n        if (this.dataModel != null) {\r\n            throw new IllegalStateException(&quot;Model can only be initialized once&quot;);\r\n        }\r\n        this.dataModel = model ;\r\n        \r\n        StringJoiner stringJoiner = new StringJoiner(&quot;, &quot;);\r\n        model.simulateGetDataFromDatabase().forEach(stringJoiner::add);\r\n        textArea.setText(stringJoiner.toString());\r\n    }    \r\n}\r\n```\r\n**OverviewSubscene.fxml**\r\n```\r\npackage sed.test.dashboardfx;\r\n\r\nimport java.util.StringJoiner;\r\nimport javafx.fxml.FXML;\r\nimport javafx.scene.control.TextArea;\r\nimport javafx.scene.layout.VBox;\r\n\r\npublic class OverviewSubsceneController {\r\n    private @FXML VBox vbRoot;\r\n    private @FXML TextArea textArea;\r\n    \r\n    private DataModel dataModel;\r\n          \r\n    VBox getVBoxRoot()\r\n    {\r\n        return vbRoot;\r\n    }\r\n    \r\n    public void initModel(DataModel model) {\r\n        if (this.dataModel != null) {\r\n            throw new IllegalStateException(&quot;Model can only be initialized once&quot;);\r\n        }\r\n        this.dataModel = model ;\r\n        \r\n        StringJoiner stringJoiner = new StringJoiner(&quot;, &quot;);\r\n        model.simulateGetDataFromDatabase().forEach(stringJoiner::add);\r\n        textArea.setText(stringJoiner.toString());\r\n    }    \r\n}\r\n```\r\n**SettingsSubsceneController**\r\n```\r\nimport javafx.fxml.FXML;\r\nimport javafx.scene.control.ComboBox;\r\nimport javafx.scene.layout.VBox;\r\n\r\npublic class SettingsSubsceneController {\r\n    private @FXML VBox vbRoot;\r\n    private @FXML ComboBox&lt;String&gt; comboBox;\r\n    \r\n    private DataModel dataModel;\r\n          \r\n    VBox getVBoxRoot()\r\n    {\r\n        return vbRoot;\r\n    }\r\n    \r\n    public void initModel(DataModel model) {\r\n        if (this.dataModel != null) {\r\n            throw new IllegalStateException(&quot;Model can only be initialized once&quot;);\r\n        }\r\n        this.dataModel = model ;\r\n        \r\n        comboBox.getItems().addAll(dataModel.simulateGetDataFromDatabase());\r\n        comboBox.getSelectionModel().selectFirst();\r\n    }    \r\n}\r\n```\r\n**SettingsSubscene.fxml**\r\n```\r\n&lt;?import javafx.geometry.Insets?&gt;\r\n&lt;?import javafx.scene.control.ComboBox?&gt;\r\n&lt;?import javafx.scene.control.Label?&gt;\r\n&lt;?import javafx.scene.layout.VBox?&gt;\r\n\r\n&lt;VBox fx:id=&quot;vbRoot&quot; alignment=&quot;CENTER&quot; spacing=&quot;20.0&quot; xmlns=&quot;http://javafx.com/javafx/18&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot; fx:controller=&quot;sed.test.dashboardfx.SettingsSubsceneController&quot;&gt;\r\n    &lt;children&gt;\r\n        &lt;Label text=&quot;Settings Subscene&quot; textFill=&quot;WHITE&quot; /&gt;\r\n      &lt;Label text=&quot;Use Passed Data in ComboBox&quot; textFill=&quot;WHITE&quot; /&gt;\r\n      &lt;ComboBox fx:id=&quot;comboBox&quot; prefWidth=&quot;150.0&quot; /&gt;\r\n    &lt;/children&gt;\r\n    &lt;padding&gt;\r\n        &lt;Insets bottom=&quot;20.0&quot; left=&quot;20.0&quot; right=&quot;20.0&quot; top=&quot;20.0&quot; /&gt;\r\n    &lt;/padding&gt;\r\n&lt;/VBox&gt;\r\n```\r\n**Output**\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/yJhty.gif","title":"JavaFX, change AnchorPanes inside window when button is pressed","body":"<p>Here is an example. I used <code>MVC</code> ideas from <a href=\"https://stackoverflow.com/questions/32342864/applying-mvc-with-javafx\">here</a> and <code>Passing Data</code> ideas from <a href=\"https://stackoverflow.com/questions/14187963/passing-parameters-javafx-fxml\">here</a>.</p>\n<p>This example has a <code>Data Model</code> that simulates getting data from a database and passing it between subviews. <code>DataModel</code> is created in the <code>Main</code> and passed to the <code>MainViewController</code>.</p>\n<pre><code>DataModel dataModel = new DataModel();\n\nFXMLLoader rootLoader = new FXMLLoader(getClass().getResource(&quot;MainView.fxml&quot;));\nrootLoader.load();\nMainViewController mainViewController = rootLoader.getController();\nmainViewController.initModel(dataModel);\nmainViewController.setSubSceneInitalNode();\n</code></pre>\n<hr />\n<p>After <code>DataModel</code> is passed to <code>MainViewController</code>, <code>MainViewController</code> will pass it to the subview when it load subview.</p>\n<p><strong>Example loading the <code>Orders</code> view</strong></p>\n<pre><code>public void handleBtnOnActionOrders(ActionEvent actionEvent) \n{\n    try \n    {\n        FXMLLoader loader = new FXMLLoader(getClass().getResource(&quot;OrdersSubsene.fxml&quot;));\n        loader.load();\n        OrdersSubseneController ordersSubseneController = loader.getController();\n        ordersSubseneController.initModel(dataModel);\n\n        spSubScene.getChildren().clear();\n        spSubScene.getChildren().add(ordersSubseneController.getVBoxRoot());\n    } \n    catch (IOException ex) \n    {\n        System.out.println(ex.toString());\n    }\n}\n</code></pre>\n<hr />\n<p><strong>Full Code</strong></p>\n<p><strong>Main</strong></p>\n<pre><code>import javafx.application.Application;\nimport javafx.fxml.FXMLLoader;\nimport javafx.scene.Scene;\nimport javafx.stage.Stage;\n\nimport java.io.IOException;\n\n/**\n * JavaFX App Sedrick(Sedj601)\n */\npublic class App extends Application {\n    @Override\n    public void start(Stage stage) throws IOException {\n    DataModel dataModel = new DataModel();\n\n    FXMLLoader rootLoader = new FXMLLoader(getClass().getResource(&quot;MainView.fxml&quot;));\n    rootLoader.load();\n    MainViewController mainViewController = rootLoader.getController();\n    mainViewController.initModel(dataModel);\n    mainViewController.setSubSceneInitalNode();\n\n        Scene scene = new Scene(rootLoader.getRoot());\n\n        stage.setScene(scene);\n        stage.show();\n    }\n    \n    public static void main(String[] args) {\n        launch();\n    }\n}\n</code></pre>\n<p><strong>DataModel</strong></p>\n<pre><code>package sed.test.dashboardfx;\n\nimport java.util.ArrayList;\nimport java.util.List;\n\n/**\n *\n * @author blj0011\n */\npublic class DataModel {\n    public List&lt;String&gt; simulateGetDataFromDatabase()\n    {\n        List&lt;String&gt; name = new ArrayList();\n        \n        name.add(&quot;John Doe&quot;);\n        name.add(&quot;Jane Doe&quot;);\n        name.add(&quot;Kim Jackson&quot;);\n        name.add(&quot;James Jones&quot;);\n        \n        return name;\n    }\n}\n</code></pre>\n<p><strong>Module-Info</strong></p>\n<pre><code>module sed.test.dashboardfx {\n    requires javafx.controls;\n    requires javafx.fxml;\n\n    requires org.kordamp.ikonli.core;\n    requires org.kordamp.ikonli.javafx;\n    requires org.kordamp.ikonli.dashicons;\n    requires java.base;\n        \n    opens sed.test.dashboardfx to javafx.fxml;\n    exports sed.test.dashboardfx;\n}\n</code></pre>\n<p><strong>MainViewController</strong></p>\n<pre><code>import java.io.IOException;\nimport javafx.application.Platform;\nimport javafx.event.ActionEvent;\nimport javafx.fxml.FXML;\nimport javafx.fxml.FXMLLoader;\nimport javafx.scene.control.Button;\nimport javafx.scene.layout.StackPane;\n\npublic class MainViewController {\n\n    @FXML private StackPane spSubScene;\n    @FXML private Button btnOverview;\n            \n    private DataModel dataModel;\n\n    public void setSubSceneInitalNode() \n    {\n        btnOverview.fire();\n    }\n\n    public void handleBtnOnActionOverview(ActionEvent actionEvent) \n    {\n        try \n        {\n            FXMLLoader loader = new FXMLLoader(getClass().getResource(&quot;OverviewSubscene.fxml&quot;));\n            loader.load();\n            OverviewSubsceneController overviewSubsceneController = loader.getController();\n            overviewSubsceneController.initModel(dataModel);\n            \n            spSubScene.getChildren().clear();\n            spSubScene.getChildren().add(overviewSubsceneController.getVBoxRoot());\n        } \n        catch (IOException ex) \n        {\n            System.out.println(ex.toString());\n        }\n    }\n\n    public void handleBtnOnActionOrders(ActionEvent actionEvent) \n    {\n        try \n        {\n            FXMLLoader loader = new FXMLLoader(getClass().getResource(&quot;OrdersSubsene.fxml&quot;));\n            loader.load();\n            OrdersSubseneController ordersSubseneController = loader.getController();\n            ordersSubseneController.initModel(dataModel);\n\n            spSubScene.getChildren().clear();\n            spSubScene.getChildren().add(ordersSubseneController.getVBoxRoot());\n        } \n        catch (IOException ex) \n        {\n            System.out.println(ex.toString());\n        }\n    }\n\n    public void handleBtnOnActionSettings(ActionEvent actionEvent) \n    {\n        try \n        {\n            FXMLLoader loader = new FXMLLoader(getClass().getResource(&quot;SettingsSubscene.fxml&quot;));\n            loader.load();\n            SettingsSubsceneController settingsSubsceneController = loader.getController();\n            settingsSubsceneController.initModel(dataModel);\n            \n            spSubScene.getChildren().clear();\n            spSubScene.getChildren().add(settingsSubsceneController.getVBoxRoot());\n        } \n        catch (IOException ex) \n        {\n            System.out.println(ex.toString());\n        }\n    }\n\n    public void initModel(DataModel model) \n    {\n        if (this.dataModel != null) {\n            throw new IllegalStateException(&quot;Model can only be initialized once&quot;);\n        }\n        this.dataModel = model;\n    }\n    \n    public void handleBtnExit(ActionEvent actionEvent)\n    {\n        Platform.exit();\n    }\n}\n</code></pre>\n<p><strong>MainView.fxml</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n\n&lt;?import javafx.geometry.Insets?&gt;\n&lt;?import javafx.scene.control.Button?&gt;\n&lt;?import javafx.scene.control.Label?&gt;\n&lt;?import javafx.scene.layout.HBox?&gt;\n&lt;?import javafx.scene.layout.StackPane?&gt;\n&lt;?import javafx.scene.layout.VBox?&gt;\n&lt;?import org.kordamp.ikonli.javafx.FontIcon?&gt;\n\n&lt;VBox maxHeight=&quot;-Infinity&quot; maxWidth=&quot;-Infinity&quot; minHeight=&quot;-Infinity&quot; minWidth=&quot;-Infinity&quot; prefHeight=&quot;720.0&quot; prefWidth=&quot;1080.0&quot; xmlns=&quot;http://javafx.com/javafx/18&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot; fx:controller=&quot;sed.test.dashboardfx.MainViewController&quot;&gt;\n   &lt;children&gt;\n      &lt;HBox prefHeight=&quot;100.0&quot; prefWidth=&quot;200.0&quot; VBox.vgrow=&quot;ALWAYS&quot;&gt;\n         &lt;children&gt;\n            &lt;VBox alignment=&quot;TOP_RIGHT&quot; prefHeight=&quot;400.0&quot; prefWidth=&quot;256.0&quot; style=&quot;-fx-background-color: #05071F;&quot;&gt;\n               &lt;children&gt;\n                  &lt;StackPane alignment=&quot;BOTTOM_CENTER&quot; maxWidth=&quot;1.7976931348623157E308&quot; prefHeight=&quot;175.0&quot; prefWidth=&quot;200.0&quot;&gt;\n                     &lt;padding&gt;\n                        &lt;Insets bottom=&quot;5.0&quot; /&gt;\n                     &lt;/padding&gt;\n                     &lt;children&gt;\n                        &lt;FontIcon iconColor=&quot;WHITE&quot; iconLiteral=&quot;dashicons-businessperson&quot; iconSize=&quot;60&quot; tabSize=&quot;0&quot; /&gt;\n                     &lt;/children&gt;\n                  &lt;/StackPane&gt;\n                  &lt;Label fx:id=&quot;lblDisplayImageTitle&quot; alignment=&quot;CENTER&quot; maxWidth=&quot;1.7976931348623157E308&quot; text=&quot;Current View&quot; textFill=&quot;#e7e5e5&quot;&gt;\n                     &lt;padding&gt;\n                        &lt;Insets bottom=&quot;20.0&quot; /&gt;\n                     &lt;/padding&gt;\n                  &lt;/Label&gt;\n                  &lt;Button fx:id=&quot;btnOverview&quot; alignment=&quot;BASELINE_LEFT&quot; graphicTextGap=&quot;22.0&quot; maxWidth=&quot;1.7976931348623157E308&quot; mnemonicParsing=&quot;false&quot; onAction=&quot;#handleBtnOnActionOverview&quot; prefHeight=&quot;55.0&quot; style=&quot;-fx-background-color: #05071F;&quot; text=&quot;Overview&quot; textFill=&quot;#e7e5e5&quot;&gt;\n                     &lt;padding&gt;\n                        &lt;Insets left=&quot;60.0&quot; /&gt;\n                     &lt;/padding&gt;\n                     &lt;graphic&gt;\n                        &lt;FontIcon iconColor=&quot;#fcf9f9&quot; iconLiteral=&quot;dashicons-desktop&quot; iconSize=&quot;25&quot; /&gt;\n                     &lt;/graphic&gt;\n                  &lt;/Button&gt;\n                  &lt;Button fx:id=&quot;btnOrders&quot; alignment=&quot;BASELINE_LEFT&quot; graphicTextGap=&quot;22.0&quot; maxWidth=&quot;1.7976931348623157E308&quot; mnemonicParsing=&quot;false&quot; onAction=&quot;#handleBtnOnActionOrders&quot; prefHeight=&quot;55.0&quot; style=&quot;-fx-background-color: #05071F;&quot; text=&quot;Orders&quot; textFill=&quot;#e7e5e5&quot;&gt;\n                     &lt;padding&gt;\n                        &lt;Insets left=&quot;60.0&quot; /&gt;\n                     &lt;/padding&gt;\n                     &lt;graphic&gt;\n                        &lt;FontIcon iconColor=&quot;WHITE&quot; iconLiteral=&quot;dashicons-list-view&quot; iconSize=&quot;25&quot; /&gt;\n                     &lt;/graphic&gt;\n                  &lt;/Button&gt;\n                  &lt;Button fx:id=&quot;btnSettings&quot; alignment=&quot;BASELINE_LEFT&quot; graphicTextGap=&quot;22.0&quot; maxWidth=&quot;1.7976931348623157E308&quot; mnemonicParsing=&quot;false&quot; onAction=&quot;#handleBtnOnActionSettings&quot; prefHeight=&quot;55.0&quot; style=&quot;-fx-background-color: #05071F;&quot; text=&quot;Settings&quot; textFill=&quot;#e7e5e5&quot;&gt;\n                     &lt;padding&gt;\n                        &lt;Insets left=&quot;60.0&quot; /&gt;\n                     &lt;/padding&gt;\n                     &lt;graphic&gt;\n                        &lt;FontIcon iconColor=&quot;WHITE&quot; iconLiteral=&quot;dashicons-admin-settings&quot; iconSize=&quot;25&quot; /&gt;\n                     &lt;/graphic&gt;\n                  &lt;/Button&gt;\n                  &lt;StackPane prefHeight=&quot;150.0&quot; prefWidth=&quot;200.0&quot; VBox.vgrow=&quot;ALWAYS&quot; /&gt;\n                  &lt;StackPane&gt;\n                     &lt;children&gt;\n                        &lt;Button maxWidth=&quot;1.7976931348623157E308&quot; mnemonicParsing=&quot;false&quot; onAction=&quot;#handleBtnExit&quot; text=&quot;Exit&quot;&gt;\n                           &lt;StackPane.margin&gt;\n                              &lt;Insets bottom=&quot;20.0&quot; left=&quot;20.0&quot; right=&quot;20.0&quot; top=&quot;20.0&quot; /&gt;\n                           &lt;/StackPane.margin&gt;\n                        &lt;/Button&gt;\n                     &lt;/children&gt;\n                  &lt;/StackPane&gt;\n               &lt;/children&gt;\n            &lt;/VBox&gt;\n            &lt;StackPane fx:id=&quot;spSubScene&quot; style=&quot;-fx-background-color: #02030A;&quot; HBox.hgrow=&quot;ALWAYS&quot; /&gt;\n         &lt;/children&gt;\n      &lt;/HBox&gt;\n   &lt;/children&gt;\n&lt;/VBox&gt;\n</code></pre>\n<p><strong>OrdersSubsceneController</strong></p>\n<pre><code>import javafx.collections.FXCollections;\nimport javafx.fxml.FXML;\nimport javafx.scene.control.ListView;\nimport javafx.scene.layout.VBox;\n\n/**\n * FXML Controller class\n *\n * @author blj0011\n */\npublic class OrdersSubseneController {\n\n    private @FXML VBox vbRoot;\n    private @FXML ListView&lt;String&gt; listView;\n    \n    private DataModel dataModel;\n    \n    VBox getVBoxRoot()\n    {\n        return vbRoot;\n    }\n    \n    public void initModel(DataModel model) {\n        if (this.dataModel != null) {\n            throw new IllegalStateException(&quot;Model can only be initialized once&quot;);\n        }\n        this.dataModel = model ;\n        \n        listView.setItems(FXCollections.observableArrayList(model.simulateGetDataFromDatabase()));\n    }       \n}\n</code></pre>\n<p><strong>OrdersSubscene.fxml</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n\n&lt;?import javafx.geometry.Insets?&gt;\n&lt;?import javafx.scene.control.Label?&gt;\n&lt;?import javafx.scene.control.ListView?&gt;\n&lt;?import javafx.scene.layout.VBox?&gt;\n\n&lt;VBox fx:id=&quot;vbRoot&quot; alignment=&quot;CENTER&quot; spacing=&quot;20.0&quot; xmlns=&quot;http://javafx.com/javafx/18&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot; fx:controller=&quot;sed.test.dashboardfx.OrdersSubseneController&quot;&gt;\n    &lt;children&gt;\n        &lt;Label text=&quot;Orders Subscene&quot; textFill=&quot;WHITE&quot; /&gt;\n      &lt;Label text=&quot;Use Passed Data in ListView!&quot; textFill=&quot;WHITE&quot; /&gt;\n      &lt;ListView fx:id=&quot;listView&quot; prefHeight=&quot;200.0&quot; prefWidth=&quot;200.0&quot; /&gt;\n    &lt;/children&gt;\n    &lt;padding&gt;\n        &lt;Insets bottom=&quot;20.0&quot; left=&quot;20.0&quot; right=&quot;20.0&quot; top=&quot;20.0&quot; /&gt;\n    &lt;/padding&gt;\n&lt;/VBox&gt;\n</code></pre>\n<p><strong>OverviewSubsceneController</strong></p>\n<pre><code>import java.util.StringJoiner;\nimport javafx.fxml.FXML;\nimport javafx.scene.control.TextArea;\nimport javafx.scene.layout.VBox;\n\npublic class OverviewSubsceneController {\n    private @FXML VBox vbRoot;\n    private @FXML TextArea textArea;\n    \n    private DataModel dataModel;\n          \n    VBox getVBoxRoot()\n    {\n        return vbRoot;\n    }\n    \n    public void initModel(DataModel model) {\n        if (this.dataModel != null) {\n            throw new IllegalStateException(&quot;Model can only be initialized once&quot;);\n        }\n        this.dataModel = model ;\n        \n        StringJoiner stringJoiner = new StringJoiner(&quot;, &quot;);\n        model.simulateGetDataFromDatabase().forEach(stringJoiner::add);\n        textArea.setText(stringJoiner.toString());\n    }    \n}\n</code></pre>\n<p><strong>OverviewSubscene.fxml</strong></p>\n<pre><code>package sed.test.dashboardfx;\n\nimport java.util.StringJoiner;\nimport javafx.fxml.FXML;\nimport javafx.scene.control.TextArea;\nimport javafx.scene.layout.VBox;\n\npublic class OverviewSubsceneController {\n    private @FXML VBox vbRoot;\n    private @FXML TextArea textArea;\n    \n    private DataModel dataModel;\n          \n    VBox getVBoxRoot()\n    {\n        return vbRoot;\n    }\n    \n    public void initModel(DataModel model) {\n        if (this.dataModel != null) {\n            throw new IllegalStateException(&quot;Model can only be initialized once&quot;);\n        }\n        this.dataModel = model ;\n        \n        StringJoiner stringJoiner = new StringJoiner(&quot;, &quot;);\n        model.simulateGetDataFromDatabase().forEach(stringJoiner::add);\n        textArea.setText(stringJoiner.toString());\n    }    \n}\n</code></pre>\n<p><strong>SettingsSubsceneController</strong></p>\n<pre><code>import javafx.fxml.FXML;\nimport javafx.scene.control.ComboBox;\nimport javafx.scene.layout.VBox;\n\npublic class SettingsSubsceneController {\n    private @FXML VBox vbRoot;\n    private @FXML ComboBox&lt;String&gt; comboBox;\n    \n    private DataModel dataModel;\n          \n    VBox getVBoxRoot()\n    {\n        return vbRoot;\n    }\n    \n    public void initModel(DataModel model) {\n        if (this.dataModel != null) {\n            throw new IllegalStateException(&quot;Model can only be initialized once&quot;);\n        }\n        this.dataModel = model ;\n        \n        comboBox.getItems().addAll(dataModel.simulateGetDataFromDatabase());\n        comboBox.getSelectionModel().selectFirst();\n    }    \n}\n</code></pre>\n<p><strong>SettingsSubscene.fxml</strong></p>\n<pre><code>&lt;?import javafx.geometry.Insets?&gt;\n&lt;?import javafx.scene.control.ComboBox?&gt;\n&lt;?import javafx.scene.control.Label?&gt;\n&lt;?import javafx.scene.layout.VBox?&gt;\n\n&lt;VBox fx:id=&quot;vbRoot&quot; alignment=&quot;CENTER&quot; spacing=&quot;20.0&quot; xmlns=&quot;http://javafx.com/javafx/18&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot; fx:controller=&quot;sed.test.dashboardfx.SettingsSubsceneController&quot;&gt;\n    &lt;children&gt;\n        &lt;Label text=&quot;Settings Subscene&quot; textFill=&quot;WHITE&quot; /&gt;\n      &lt;Label text=&quot;Use Passed Data in ComboBox&quot; textFill=&quot;WHITE&quot; /&gt;\n      &lt;ComboBox fx:id=&quot;comboBox&quot; prefWidth=&quot;150.0&quot; /&gt;\n    &lt;/children&gt;\n    &lt;padding&gt;\n        &lt;Insets bottom=&quot;20.0&quot; left=&quot;20.0&quot; right=&quot;20.0&quot; top=&quot;20.0&quot; /&gt;\n    &lt;/padding&gt;\n&lt;/VBox&gt;\n</code></pre>\n<p><strong>Output</strong></p>\n<p><a href=\"https://i.stack.imgur.com/yJhty.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/yJhty.gif\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":26380586,"reputation":109,"user_id":20033905,"display_name":"Ric97"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":406,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":75514636,"answer_count":1,"score":-1,"last_activity_date":1676931143,"creation_date":1676916123,"question_id":75512717,"body_markdown":"I&#39;m doing a project for a Restaurant Management system in JavaFX. I&#39;m totally new to this world, so my first attempt looked dull. Here&#39;s an example:\r\n\r\n[![First attempt][1]][1]\r\n\r\n\r\nIn this terrible UI, when you pressed a button it opened another window, where each had their own class. This is the ActionEvent:\r\n\r\n```\r\npublic void apriSchermataNuovoPiatto(ActionEvent event) throws IOException {\r\n        root = FXMLLoader.load(getClass().getResource(&quot;/personalizzaMenu/nuovo-piatto.fxml&quot;));\r\n        stage = (Stage)((Node)event.getSource()).getScene().getWindow();\r\n        scene = new Scene(root);\r\n        stage.setScene(scene);\r\n        stage.show();\r\n    }\r\n```\r\n\r\nAfter watching several tutorials, i made a much better looking UI, that looks like this:\r\n\r\n[![Better looking attempt][2]][2]\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/sw3LB.jpg\r\n  [2]: https://i.stack.imgur.com/lFYUs.png\r\n\r\n\r\nThing is, now i have to change things a bit. What i want now is that when you press a button it doesn&#39;t open a new window, but that window must &quot;exist&quot; on the right side of my dashboard.\r\n\r\nI don&#39;t really know how should i deal with this. For a better management of my code, i&#39;m using an MVC pattern, so i still want that every window has its own class that can be loaded with a method. But I don&#39;t want it to be a window. I want that by pressing a button, the &quot;window&quot; AnchorPane gets added to the right side of the dashboard.\r\n\r\nAny help?","title":"JavaFX, change AnchorPanes inside window when button is pressed","body":"<p>I'm doing a project for a Restaurant Management system in JavaFX. I'm totally new to this world, so my first attempt looked dull. Here's an example:</p>\n<p><a href=\"https://i.stack.imgur.com/sw3LB.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/sw3LB.jpg\" alt=\"First attempt\" /></a></p>\n<p>In this terrible UI, when you pressed a button it opened another window, where each had their own class. This is the ActionEvent:</p>\n<pre><code>public void apriSchermataNuovoPiatto(ActionEvent event) throws IOException {\n        root = FXMLLoader.load(getClass().getResource(&quot;/personalizzaMenu/nuovo-piatto.fxml&quot;));\n        stage = (Stage)((Node)event.getSource()).getScene().getWindow();\n        scene = new Scene(root);\n        stage.setScene(scene);\n        stage.show();\n    }\n</code></pre>\n<p>After watching several tutorials, i made a much better looking UI, that looks like this:</p>\n<p><a href=\"https://i.stack.imgur.com/lFYUs.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/lFYUs.png\" alt=\"Better looking attempt\" /></a></p>\n<p>Thing is, now i have to change things a bit. What i want now is that when you press a button it doesn't open a new window, but that window must &quot;exist&quot; on the right side of my dashboard.</p>\n<p>I don't really know how should i deal with this. For a better management of my code, i'm using an MVC pattern, so i still want that every window has its own class that can be loaded with a method. But I don't want it to be a window. I want that by pressing a button, the &quot;window&quot; AnchorPane gets added to the right side of the dashboard.</p>\n<p>Any help?</p>\n"},{"tags":["java","spring","spring-boot","api","spring-data-jpa"],"owner":{"account_id":21274254,"reputation":407,"user_id":15653306,"display_name":"Routfin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676930716,"creation_date":1676928902,"question_id":75514354,"body_markdown":"Basically I have a product model and a category model. In category I have a Product List that receives through @OneToMany items from the product model. In product, I have &quot;category&quot; which receives through @ManyToOne the id of a category when creating my product.\r\n\r\nBoth controllers of the two models are working normally, however the part of the reference by ManyToOne and OneToMany does not work, because even sending the id both return null\r\n\r\nEx: \r\n\r\nPostman request: \r\n\r\n```\r\n{\r\n    &quot;product&quot;: &quot;iPhone XL 17 64gb&quot;,\r\n    &quot;description&quot;: &quot;Iphone&quot;,\r\n    &quot;price&quot;: 15000.68,\r\n    &quot;stock&quot;: 34,\r\n    &quot;category&quot;:  {\r\n        &quot;id&quot;: &quot;38c903c6-4647-4882-9cf9-38045876ce24&quot;\r\n    }\r\n}\r\n```\r\n\r\nreturn\r\n\r\n```\r\n{\r\n    &quot;id&quot;: &quot;44ffb15c-4e5e-4ea8-8085-820443f8c998&quot;,\r\n    &quot;product&quot;: &quot;iPhone XL 17 64gb&quot;,\r\n    &quot;description&quot;: &quot;Iphone&quot;,\r\n    &quot;price&quot;: 15000.68,\r\n    &quot;stock&quot;: 34,\r\n    &quot;category&quot;: null\r\n}\r\n```\r\n\r\nI&#39;ve reviewed my models and my dtos several times and I can&#39;t understand why this is happening\r\n\r\n\r\ncategoryModel\r\n\r\n```\r\npackage com.api.business_products_management.models;\r\n\r\nimport jakarta.persistence.*;\r\n\r\nimport java.util.List;\r\nimport java.util.UUID;\r\n\r\n@Entity\r\n@Table(name = &quot;CATEGORIES&quot;)\r\npublic class CategoryModel {\r\n    private static final long serialVersionUID = 1L;\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    private UUID id;\r\n\r\n    @Column(nullable = false, length = 80)\r\n    private String name;\r\n\r\n    @Column(nullable = true, length = 80)\r\n    private String description;\r\n\r\n    @OneToMany(mappedBy = &quot;category&quot;)\r\n    private List&lt;ProductModel&gt; products;\r\n\r\n    public UUID getId() {\r\n        return id;\r\n    }\r\n\r\n    public void setId(UUID id) {\r\n        this.id = id;\r\n    }\r\n\r\n    public String getName() {\r\n        return name;\r\n    }\r\n\r\n    public void setName(String name) {\r\n        this.name = name;\r\n    }\r\n\r\n    public String getDescription() {\r\n        return description;\r\n    }\r\n\r\n    public void setDescription(String description) {\r\n        this.description = description;\r\n    }\r\n\r\n    public List&lt;ProductModel&gt; getProducts() {\r\n        return products;\r\n    }\r\n\r\n    public void setProducts(List&lt;ProductModel&gt; products) {\r\n        this.products = products;\r\n    }\r\n}\r\n\r\n```\r\n\r\ncategory Dto\r\n\r\n```\r\npackage com.api.business_products_management.dtos;\r\n\r\nimport com.api.business_products_management.models.ProductModel;\r\nimport jakarta.validation.constraints.NotBlank;\r\n\r\nimport java.util.List;\r\nimport java.util.UUID;\r\n\r\npublic class CategoryDto {\r\n\r\n    private UUID id;\r\n\r\n    @NotBlank\r\n    private String name;\r\n\r\n    @NotBlank\r\n    private String description;\r\n\r\n    private List&lt;UUID&gt; productIds;\r\n\r\n    public UUID getId() {\r\n        return id;\r\n    }\r\n\r\n    public void setId(UUID id) {\r\n        this.id = id;\r\n    }\r\n\r\n    public String getName() {\r\n        return name;\r\n    }\r\n\r\n    public void setName(String name) {\r\n        this.name = name;\r\n    }\r\n\r\n    public String getDescription() {\r\n        return description;\r\n    }\r\n\r\n    public void setDescription(String description) {\r\n        this.description = description;\r\n    }\r\n\r\n    public List&lt;UUID&gt; getProductIds() {\r\n        return productIds;\r\n    }\r\n\r\n    public void setProductIds(List&lt;UUID&gt; productIds) {\r\n        this.productIds = productIds;\r\n    }\r\n}\r\n\r\n```\r\n\r\nproductModel\r\n\r\n```\r\npackage com.api.business_products_management.models;\r\n\r\nimport jakarta.persistence.*;\r\n\r\nimport java.util.UUID;\r\n\r\n@Entity\r\n@Table(name = &quot;PRODUCTS&quot;)\r\npublic class ProductModel {\r\n    private static final long serialVersionUID = 1L;\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    private UUID id;\r\n\r\n    @Column(nullable = false, length = 80)\r\n    private String product;\r\n\r\n    @Column(nullable = true, length = 80)\r\n    private String description;\r\n\r\n    @Column(nullable = false, length = 80)\r\n    private Float price;\r\n\r\n    @Column(nullable = false, length = 80)\r\n    private Integer stock;\r\n\r\n    @ManyToOne\r\n    @JoinColumn(name = &quot;category_id&quot;)\r\n    private CategoryModel category;\r\n\r\n    public UUID getId() {\r\n        return id;\r\n    }\r\n\r\n    public void setId(UUID id) {\r\n        this.id = id;\r\n    }\r\n\r\n    public String getProduct() {\r\n        return product;\r\n    }\r\n\r\n    public void setProduct(String product) {\r\n        this.product = product;\r\n    }\r\n\r\n    public String getDescription() {\r\n        return description;\r\n    }\r\n\r\n    public void setDescription(String description) {\r\n        this.description = description;\r\n    }\r\n\r\n    public Float getPrice() {\r\n        return price;\r\n    }\r\n\r\n    public void setPrice(Float price) {\r\n        this.price = price;\r\n    }\r\n\r\n    public Integer getStock() {\r\n        return stock;\r\n    }\r\n\r\n    public void setStock(Integer stock) {\r\n        this.stock = stock;\r\n    }\r\n\r\n    public CategoryModel getCategory() {\r\n        return category;\r\n    }\r\n\r\n    public void setCategory(CategoryModel category) {\r\n        this.category = category;\r\n    }\r\n}\r\n\r\n```\r\n\r\nproductDto \r\n\r\n```\r\npackage com.api.business_products_management.dtos;\r\n\r\nimport jakarta.validation.constraints.DecimalMin;\r\nimport jakarta.validation.constraints.Min;\r\nimport jakarta.validation.constraints.NotBlank;\r\nimport jakarta.validation.constraints.NotNull;\r\n\r\nimport java.util.UUID;\r\n\r\npublic class ProductDto {\r\n    @NotBlank\r\n    private String product;\r\n\r\n    private String description;\r\n\r\n    @DecimalMin(value = &quot;0.01&quot;, inclusive = true)\r\n    private Float price;\r\n\r\n    @NotNull\r\n    @Min(value = 0, message = &quot;Stock must be at least {value}&quot;)\r\n    private Integer stock;\r\n\r\n    @NotNull\r\n    private CategoryDto category;\r\n\r\n    public String getProduct() {\r\n        return product;\r\n    }\r\n\r\n    public void setProduct(String product) {\r\n        this.product = product;\r\n    }\r\n\r\n    public String getDescription() {\r\n        return description;\r\n    }\r\n\r\n    public void setDescription(String description) {\r\n        this.description = description;\r\n    }\r\n\r\n    public Float getPrice() {\r\n        return price;\r\n    }\r\n\r\n    public void setPrice(Float price) {\r\n        this.price = price;\r\n    }\r\n\r\n    public Integer getStock() {\r\n        return stock;\r\n    }\r\n\r\n    public void setStock(Integer stock) {\r\n        this.stock = stock;\r\n    }\r\n\r\n    public CategoryDto getCategory() {\r\n        return category;\r\n    }\r\n\r\n    public void setCategory(CategoryDto category) {\r\n        this.category = category;\r\n    }\r\n}\r\n\r\n```\r\n\r\ncontroller Product\r\n\r\n```\r\npackage com.api.business_products_management.controllers;\r\n\r\nimport com.api.business_products_management.dtos.ProductDto;\r\nimport com.api.business_products_management.models.ProductModel;\r\nimport com.api.business_products_management.services.ProductService;\r\nimport jakarta.validation.Valid;\r\nimport org.springframework.beans.BeanUtils;\r\nimport org.springframework.http.HttpStatus;\r\nimport org.springframework.http.ResponseEntity;\r\nimport org.springframework.web.bind.annotation.*;\r\n\r\n@RestController\r\n@CrossOrigin(origins = &quot;*&quot;, maxAge = 3600)\r\n@RequestMapping(&quot;/product&quot;)\r\npublic class ProductController {\r\n\r\n    final ProductService productService;\r\n\r\n    public ProductController (ProductService productService) {\r\n        this.productService = productService;\r\n    }\r\n\r\n    @PostMapping\r\n    public ResponseEntity&lt;Object&gt; saveProduct (@RequestBody @Valid ProductDto productDto) {\r\n        var productModel = new ProductModel();\r\n        BeanUtils.copyProperties(productDto, productModel);\r\n        return ResponseEntity.status(HttpStatus.CREATED).body(productService.save(productModel));\r\n    }\r\n}\r\n\r\n```\r\n\r\nproduct service\r\n\r\n```\r\npackage com.api.business_products_management.services;\r\n\r\nimport com.api.business_products_management.models.ProductModel;\r\nimport com.api.business_products_management.repositories.ProductRepository;\r\nimport jakarta.transaction.Transactional;\r\nimport org.springframework.stereotype.Service;\r\n\r\n@Service\r\npublic class ProductService {\r\n\r\n    final ProductRepository productRepository;\r\n\r\n    public ProductService (ProductRepository productRepository) {\r\n        this.productRepository = productRepository;\r\n    }\r\n\r\n    @Transactional\r\n    public ProductModel save (ProductModel productModel) {\r\n        return productRepository.save(productModel);\r\n    }\r\n}\r\n\r\n```","title":"Receiving null on attempted ManyToOne and OneToMany in spring boot (Java)","body":"<p>Basically I have a product model and a category model. In category I have a Product List that receives through @OneToMany items from the product model. In product, I have &quot;category&quot; which receives through @ManyToOne the id of a category when creating my product.</p>\n<p>Both controllers of the two models are working normally, however the part of the reference by ManyToOne and OneToMany does not work, because even sending the id both return null</p>\n<p>Ex:</p>\n<p>Postman request:</p>\n<pre><code>{\n    &quot;product&quot;: &quot;iPhone XL 17 64gb&quot;,\n    &quot;description&quot;: &quot;Iphone&quot;,\n    &quot;price&quot;: 15000.68,\n    &quot;stock&quot;: 34,\n    &quot;category&quot;:  {\n        &quot;id&quot;: &quot;38c903c6-4647-4882-9cf9-38045876ce24&quot;\n    }\n}\n</code></pre>\n<p>return</p>\n<pre><code>{\n    &quot;id&quot;: &quot;44ffb15c-4e5e-4ea8-8085-820443f8c998&quot;,\n    &quot;product&quot;: &quot;iPhone XL 17 64gb&quot;,\n    &quot;description&quot;: &quot;Iphone&quot;,\n    &quot;price&quot;: 15000.68,\n    &quot;stock&quot;: 34,\n    &quot;category&quot;: null\n}\n</code></pre>\n<p>I've reviewed my models and my dtos several times and I can't understand why this is happening</p>\n<p>categoryModel</p>\n<pre><code>package com.api.business_products_management.models;\n\nimport jakarta.persistence.*;\n\nimport java.util.List;\nimport java.util.UUID;\n\n@Entity\n@Table(name = &quot;CATEGORIES&quot;)\npublic class CategoryModel {\n    private static final long serialVersionUID = 1L;\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private UUID id;\n\n    @Column(nullable = false, length = 80)\n    private String name;\n\n    @Column(nullable = true, length = 80)\n    private String description;\n\n    @OneToMany(mappedBy = &quot;category&quot;)\n    private List&lt;ProductModel&gt; products;\n\n    public UUID getId() {\n        return id;\n    }\n\n    public void setId(UUID id) {\n        this.id = id;\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n\n    public String getDescription() {\n        return description;\n    }\n\n    public void setDescription(String description) {\n        this.description = description;\n    }\n\n    public List&lt;ProductModel&gt; getProducts() {\n        return products;\n    }\n\n    public void setProducts(List&lt;ProductModel&gt; products) {\n        this.products = products;\n    }\n}\n\n</code></pre>\n<p>category Dto</p>\n<pre><code>package com.api.business_products_management.dtos;\n\nimport com.api.business_products_management.models.ProductModel;\nimport jakarta.validation.constraints.NotBlank;\n\nimport java.util.List;\nimport java.util.UUID;\n\npublic class CategoryDto {\n\n    private UUID id;\n\n    @NotBlank\n    private String name;\n\n    @NotBlank\n    private String description;\n\n    private List&lt;UUID&gt; productIds;\n\n    public UUID getId() {\n        return id;\n    }\n\n    public void setId(UUID id) {\n        this.id = id;\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n\n    public String getDescription() {\n        return description;\n    }\n\n    public void setDescription(String description) {\n        this.description = description;\n    }\n\n    public List&lt;UUID&gt; getProductIds() {\n        return productIds;\n    }\n\n    public void setProductIds(List&lt;UUID&gt; productIds) {\n        this.productIds = productIds;\n    }\n}\n\n</code></pre>\n<p>productModel</p>\n<pre><code>package com.api.business_products_management.models;\n\nimport jakarta.persistence.*;\n\nimport java.util.UUID;\n\n@Entity\n@Table(name = &quot;PRODUCTS&quot;)\npublic class ProductModel {\n    private static final long serialVersionUID = 1L;\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private UUID id;\n\n    @Column(nullable = false, length = 80)\n    private String product;\n\n    @Column(nullable = true, length = 80)\n    private String description;\n\n    @Column(nullable = false, length = 80)\n    private Float price;\n\n    @Column(nullable = false, length = 80)\n    private Integer stock;\n\n    @ManyToOne\n    @JoinColumn(name = &quot;category_id&quot;)\n    private CategoryModel category;\n\n    public UUID getId() {\n        return id;\n    }\n\n    public void setId(UUID id) {\n        this.id = id;\n    }\n\n    public String getProduct() {\n        return product;\n    }\n\n    public void setProduct(String product) {\n        this.product = product;\n    }\n\n    public String getDescription() {\n        return description;\n    }\n\n    public void setDescription(String description) {\n        this.description = description;\n    }\n\n    public Float getPrice() {\n        return price;\n    }\n\n    public void setPrice(Float price) {\n        this.price = price;\n    }\n\n    public Integer getStock() {\n        return stock;\n    }\n\n    public void setStock(Integer stock) {\n        this.stock = stock;\n    }\n\n    public CategoryModel getCategory() {\n        return category;\n    }\n\n    public void setCategory(CategoryModel category) {\n        this.category = category;\n    }\n}\n\n</code></pre>\n<p>productDto</p>\n<pre><code>package com.api.business_products_management.dtos;\n\nimport jakarta.validation.constraints.DecimalMin;\nimport jakarta.validation.constraints.Min;\nimport jakarta.validation.constraints.NotBlank;\nimport jakarta.validation.constraints.NotNull;\n\nimport java.util.UUID;\n\npublic class ProductDto {\n    @NotBlank\n    private String product;\n\n    private String description;\n\n    @DecimalMin(value = &quot;0.01&quot;, inclusive = true)\n    private Float price;\n\n    @NotNull\n    @Min(value = 0, message = &quot;Stock must be at least {value}&quot;)\n    private Integer stock;\n\n    @NotNull\n    private CategoryDto category;\n\n    public String getProduct() {\n        return product;\n    }\n\n    public void setProduct(String product) {\n        this.product = product;\n    }\n\n    public String getDescription() {\n        return description;\n    }\n\n    public void setDescription(String description) {\n        this.description = description;\n    }\n\n    public Float getPrice() {\n        return price;\n    }\n\n    public void setPrice(Float price) {\n        this.price = price;\n    }\n\n    public Integer getStock() {\n        return stock;\n    }\n\n    public void setStock(Integer stock) {\n        this.stock = stock;\n    }\n\n    public CategoryDto getCategory() {\n        return category;\n    }\n\n    public void setCategory(CategoryDto category) {\n        this.category = category;\n    }\n}\n\n</code></pre>\n<p>controller Product</p>\n<pre><code>package com.api.business_products_management.controllers;\n\nimport com.api.business_products_management.dtos.ProductDto;\nimport com.api.business_products_management.models.ProductModel;\nimport com.api.business_products_management.services.ProductService;\nimport jakarta.validation.Valid;\nimport org.springframework.beans.BeanUtils;\nimport org.springframework.http.HttpStatus;\nimport org.springframework.http.ResponseEntity;\nimport org.springframework.web.bind.annotation.*;\n\n@RestController\n@CrossOrigin(origins = &quot;*&quot;, maxAge = 3600)\n@RequestMapping(&quot;/product&quot;)\npublic class ProductController {\n\n    final ProductService productService;\n\n    public ProductController (ProductService productService) {\n        this.productService = productService;\n    }\n\n    @PostMapping\n    public ResponseEntity&lt;Object&gt; saveProduct (@RequestBody @Valid ProductDto productDto) {\n        var productModel = new ProductModel();\n        BeanUtils.copyProperties(productDto, productModel);\n        return ResponseEntity.status(HttpStatus.CREATED).body(productService.save(productModel));\n    }\n}\n\n</code></pre>\n<p>product service</p>\n<pre><code>package com.api.business_products_management.services;\n\nimport com.api.business_products_management.models.ProductModel;\nimport com.api.business_products_management.repositories.ProductRepository;\nimport jakarta.transaction.Transactional;\nimport org.springframework.stereotype.Service;\n\n@Service\npublic class ProductService {\n\n    final ProductRepository productRepository;\n\n    public ProductService (ProductRepository productRepository) {\n        this.productRepository = productRepository;\n    }\n\n    @Transactional\n    public ProductModel save (ProductModel productModel) {\n        return productRepository.save(productModel);\n    }\n}\n\n</code></pre>\n"},{"tags":["java","superclass"],"comments":[{"owner":{"account_id":1439301,"reputation":2196,"user_id":1359923,"accept_rate":100,"display_name":"ametren"},"score":1,"creation_date":1340120181,"post_id":11104339,"comment_id":14544035,"body_markdown":"What are you trying to do?  What&#39;s the bigger problem?","body":"What are you trying to do?  What&#39;s the bigger problem?"},{"owner":{"account_id":1474146,"reputation":7887,"user_id":1384984,"accept_rate":100,"display_name":"tibtof"},"score":7,"creation_date":1340120223,"post_id":11104339,"comment_id":14544064,"body_markdown":"Why don&#39;t you want `super(new Foo(bar))` in the constructor? And what is that `bar` in the `Foo` constructor?","body":"Why don&#39;t you want <code>super(new Foo(bar))</code> in the constructor? And what is that <code>bar</code> in the <code>Foo</code> constructor?"},{"owner":{"account_id":445358,"reputation":5145,"user_id":837765,"accept_rate":91,"display_name":"Pier-Alexandre Bouchard"},"score":0,"creation_date":1340122836,"post_id":11104339,"comment_id":14545270,"body_markdown":"I dont&#39;t want to do it that way , because I have a lot of fields to pass in the constructor..","body":"I dont&#39;t want to do it that way , because I have a lot of fields to pass in the constructor.."}],"answers":[{"tags":[],"owner":{"account_id":474487,"reputation":1922,"user_id":884191,"accept_rate":100,"display_name":"room13"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1340120263,"creation_date":1340120263,"answer_id":11104481,"question_id":11104339,"body_markdown":"thats not possible in java. the only possible solution is the new call in the super constructor.\r\n\r\nif the foo object can be shared between instances you may declar it as static\r\n\r\n    public class Bar extends AbstractBar{\r\n\r\n        private static final Foo foo = new Foo(bar);\r\n\r\n        public Bar(){\r\n            super(foo);\r\n        }\r\n    }\r\n\r\n\r\nif the super class is under your control, you can refactor it and use the template method pattern to pull the object into the constructor instead of pusing it from the subclass. this applys the hollywod principle: don&#39;t call us, we will call you ;)\r\n\r\n\r\n    public abstract class AbstractBar{\r\n\r\n        private Object thing;\r\n\r\n        public AbstractBar(){\r\n             this.thing = this.createThatThing();            \r\n        }\r\n\r\n        protected abstract Object createThatThing();\r\n    }\r\n\r\n    public class Bar extends AbstractBar {\r\n\r\n         // no constructor needed\r\n\r\n         protected Object createThatThing(){\r\n              return new Thing();\r\n         }\r\n    }\r\n","title":"create an object before the super call in java","body":"<p>thats not possible in java. the only possible solution is the new call in the super constructor.</p>\n\n<p>if the foo object can be shared between instances you may declar it as static</p>\n\n<pre><code>public class Bar extends AbstractBar{\n\n    private static final Foo foo = new Foo(bar);\n\n    public Bar(){\n        super(foo);\n    }\n}\n</code></pre>\n\n<p>if the super class is under your control, you can refactor it and use the template method pattern to pull the object into the constructor instead of pusing it from the subclass. this applys the hollywod principle: don't call us, we will call you ;)</p>\n\n<pre><code>public abstract class AbstractBar{\n\n    private Object thing;\n\n    public AbstractBar(){\n         this.thing = this.createThatThing();            \n    }\n\n    protected abstract Object createThatThing();\n}\n\npublic class Bar extends AbstractBar {\n\n     // no constructor needed\n\n     protected Object createThatThing(){\n          return new Thing();\n     }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":36208,"reputation":240316,"user_id":103154,"display_name":"axtavt"},"down_vote_count":0,"up_vote_count":19,"is_accepted":true,"score":19,"last_activity_date":1340120686,"creation_date":1340120296,"answer_id":11104501,"question_id":11104339,"body_markdown":"If `Foo` has to be stored in a field, you can do this:\r\n\r\n    public class Bar extends AbstractBar{    \r\n        private final Foo foo;\r\n\r\n        private Bar(Foo foo) {\r\n            super(foo);\r\n            this.foo = foo;\r\n        }\r\n    \r\n        public Bar(){\r\n            this(new Foo(bar));\r\n        }\r\n    }\r\n\r\n\r\nOtherwise `super(new Foo(bar))` looks pretty legal for me, you can wrap `new Foo(bar)` into a `static` method if you want.\r\n\r\nAlso note that field initializers (as in your example) and initializer blocks won&#39;t help either, because they run after the superclass constructor. If field is declared as `final` your example won&#39;t compile, otherwise you&#39;ll get `null` in superclass constructor.\r\n\r\n","title":"create an object before the super call in java","body":"<p>If <code>Foo</code> has to be stored in a field, you can do this:</p>\n\n<pre><code>public class Bar extends AbstractBar{    \n    private final Foo foo;\n\n    private Bar(Foo foo) {\n        super(foo);\n        this.foo = foo;\n    }\n\n    public Bar(){\n        this(new Foo(bar));\n    }\n}\n</code></pre>\n\n<p>Otherwise <code>super(new Foo(bar))</code> looks pretty legal for me, you can wrap <code>new Foo(bar)</code> into a <code>static</code> method if you want.</p>\n\n<p>Also note that field initializers (as in your example) and initializer blocks won't help either, because they run after the superclass constructor. If field is declared as <code>final</code> your example won't compile, otherwise you'll get <code>null</code> in superclass constructor.</p>\n"},{"tags":[],"owner":{"account_id":72575,"reputation":40784,"user_id":209513,"accept_rate":100,"display_name":"Subhrajyoti Majumder"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1340120655,"creation_date":1340120655,"answer_id":11104601,"question_id":11104339,"body_markdown":"    class AbstractBar{\r\n    \tpublic AbstractBar() {\r\n    \t}\r\n    \tpublic AbstractBar(Foo t) {\r\n    \t}\r\n    }\r\n    class Bar extends AbstractBar{\r\n    \tstatic Foo t=null;\r\n    \tpublic Bar() {\r\n    \t\tsuper(t=new Foo());\r\n    \t}\r\n    }\r\n    class Foo{...}","title":"create an object before the super call in java","body":"<pre><code>class AbstractBar{\n    public AbstractBar() {\n    }\n    public AbstractBar(Foo t) {\n    }\n}\nclass Bar extends AbstractBar{\n    static Foo t=null;\n    public Bar() {\n        super(t=new Foo());\n    }\n}\nclass Foo{...}\n</code></pre>\n"}],"owner":{"account_id":445358,"reputation":5145,"user_id":837765,"accept_rate":91,"display_name":"Pier-Alexandre Bouchard"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1794,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":11104501,"answer_count":3,"score":8,"last_activity_date":1676930192,"creation_date":1340119805,"question_id":11104339,"body_markdown":"Considering that simple java code which would not work:\r\n\r\n\r\n    public class Bar extends AbstractBar{\r\n    \r\n        private final Foo foo = new Foo(bar);\r\n    \r\n        public Bar(){\r\n            super(foo);\r\n        }\r\n    }\r\n\r\nI need to create an object before the `super()` call because I need to push it in the base class.\r\n\r\nI don&#39;t want to use an initialization block and I don&#39;t want to do something like:\r\n\r\n`super(new Foo(bar))` in my constructor..\r\n\r\n\r\nHow can I send data to a base class before the super call ?","title":"create an object before the super call in java","body":"<p>Considering that simple java code which would not work:</p>\n<pre><code>public class Bar extends AbstractBar{\n\n    private final Foo foo = new Foo(bar);\n\n    public Bar(){\n        super(foo);\n    }\n}\n</code></pre>\n<p>I need to create an object before the <code>super()</code> call because I need to push it in the base class.</p>\n<p>I don't want to use an initialization block and I don't want to do something like:</p>\n<p><code>super(new Foo(bar))</code> in my constructor..</p>\n<p>How can I send data to a base class before the super call ?</p>\n"},{"tags":["java","android","android-manifest","android-permissions"],"comments":[{"owner":{"account_id":39846,"reputation":991133,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1676915627,"post_id":75512268,"comment_id":133229394,"body_markdown":"Where are you getting the `Uri` value from? Your code above gets it via `String str_address=getArguments().getString(&quot;Uri&quot;);`, but where did the original value come from that was stored in the argument?","body":"Where are you getting the <code>Uri</code> value from? Your code above gets it via <code>String str_address=getArguments().getString(&quot;Uri&quot;);</code>, but where did the original value come from that was stored in the argument?"},{"owner":{"account_id":27805595,"reputation":23,"user_id":21236434,"display_name":"PewPew01"},"score":0,"creation_date":1676915851,"post_id":75512268,"comment_id":133229442,"body_markdown":"the Uri is fine, it stored when the image is first time uploaded from the system. Is not a problem of Uri (i&#39;ve tested it the whole day already). Please read the error message, it clearly says that is access problem (security exception - permission denial)","body":"the Uri is fine, it stored when the image is first time uploaded from the system. Is not a problem of Uri (i&#39;ve tested it the whole day already). Please read the error message, it clearly says that is access problem (security exception - permission denial)"},{"owner":{"account_id":39846,"reputation":991133,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1676916198,"post_id":75512268,"comment_id":133229520,"body_markdown":"&quot;it stored when the image is first time uploaded from the system&quot; -- that likely is your problem. Most `Uri` values cannot be stored, because [your access rights to the content end after a short period of time](https://commonsware.com/blog/2020/08/08/uri-access-lifetime-still-shorter-than-you-might-think.html). This is why I asked where you are getting your `Uri` from.","body":"&quot;it stored when the image is first time uploaded from the system&quot; -- that likely is your problem. Most <code>Uri</code> values cannot be stored, because <a href=\"https://commonsware.com/blog/2020/08/08/uri-access-lifetime-still-shorter-than-you-might-think.html\" rel=\"nofollow noreferrer\">your access rights to the content end after a short period of time</a>. This is why I asked where you are getting your <code>Uri</code> from."},{"owner":{"account_id":27805595,"reputation":23,"user_id":21236434,"display_name":"PewPew01"},"score":0,"creation_date":1676916876,"post_id":75512268,"comment_id":133229672,"body_markdown":"Okay, you asked, i will answer. I take a image from system and store it URI inside of a string variable that is saved in the inner .txt document. Upon loading app takes this .txt file and draws a button for each item stored inside. The item consist of name--+Uri and may have another info later (once i stabilish this part). So, upon loading it takes all the stored URI items and draw a btn that gives access to item. Upon first load of item - it works fine, i can open it fine. But after app reload - access denied. Tryied already a 5-10 methods, but found not solution.","body":"Okay, you asked, i will answer. I take a image from system and store it URI inside of a string variable that is saved in the inner .txt document. Upon loading app takes this .txt file and draws a button for each item stored inside. The item consist of name--+Uri and may have another info later (once i stabilish this part). So, upon loading it takes all the stored URI items and draw a btn that gives access to item. Upon first load of item - it works fine, i can open it fine. But after app reload - access denied. Tryied already a 5-10 methods, but found not solution."},{"owner":{"account_id":27805595,"reputation":23,"user_id":21236434,"display_name":"PewPew01"},"score":0,"creation_date":1676917110,"post_id":75512268,"comment_id":133229729,"body_markdown":"Okay, that is not a point im stick in. If you have a proper solution that will work fine, as for example to store path or something - i will be happy to use that. The problem is that when i try to use `uri.getPath();` and then make a drawable - it returns null for the very same reason - access deny (or maybe wrong adress or name - i&#39;ve tryied them all - nothing works).","body":"Okay, that is not a point im stick in. If you have a proper solution that will work fine, as for example to store path or something - i will be happy to use that. The problem is that when i try to use <code>uri.getPath();</code> and then make a drawable - it returns null for the very same reason - access deny (or maybe wrong adress or name - i&#39;ve tryied them all - nothing works)."},{"owner":{"account_id":39846,"reputation":991133,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1676918001,"post_id":75512268,"comment_id":133229964,"body_markdown":"&quot;that is not a point im stick in&quot; -- yes, it is, based on your error message. &quot;But after app reload - access denied&quot; -- that is because [your access rights to the content end after a short period of time](https://commonsware.com/blog/2020/08/08/uri-access-lifetime-still-shorter-than-you-might-think.html), including immediately upon the end of your process. Use `ACTION_OPEN_DOCUMENT` and `takePersistableUriPermissions()`, as is covered in [that blog post](https://commonsware.com/blog/2020/08/08/uri-access-lifetime-still-shorter-than-you-might-think.html).","body":"&quot;that is not a point im stick in&quot; -- yes, it is, based on your error message. &quot;But after app reload - access denied&quot; -- that is because <a href=\"https://commonsware.com/blog/2020/08/08/uri-access-lifetime-still-shorter-than-you-might-think.html\" rel=\"nofollow noreferrer\">your access rights to the content end after a short period of time</a>, including immediately upon the end of your process. Use <code>ACTION_OPEN_DOCUMENT</code> and <code>takePersistableUriPermissions()</code>, as is covered in <a href=\"https://commonsware.com/blog/2020/08/08/uri-access-lifetime-still-shorter-than-you-might-think.html\" rel=\"nofollow noreferrer\">that blog post</a>."},{"owner":{"account_id":27805595,"reputation":23,"user_id":21236434,"display_name":"PewPew01"},"score":0,"creation_date":1676918679,"post_id":75512268,"comment_id":133230140,"body_markdown":"im sorry, but this does not solves any problem of mine, because -- there is no examples of code. I have no ACTION_OPEN_DOCUMENT in my code and till the moment i do not understand how to use it and how to change my code. If you really want to help me - please, give me example of code or something like that. \nCurrently i call item upload from fragment with onResult code. How do i change on ACTION_OPEN_DOCUMENT and how to use takePersistableUriPermission(). \n\nBy the way storing uri.getPath() not works","body":"im sorry, but this does not solves any problem of mine, because -- there is no examples of code. I have no ACTION_OPEN_DOCUMENT in my code and till the moment i do not understand how to use it and how to change my code. If you really want to help me - please, give me example of code or something like that.  Currently i call item upload from fragment with onResult code. How do i change on ACTION_OPEN_DOCUMENT and how to use takePersistableUriPermission().   By the way storing uri.getPath() not works"},{"owner":{"account_id":27805595,"reputation":23,"user_id":21236434,"display_name":"PewPew01"},"score":0,"creation_date":1676918867,"post_id":75512268,"comment_id":133230192,"body_markdown":"@CommonsWare \n\nWhat this supposed to mean: \n`try using takePersistableUriPermissions() on ContentResolver to get long-term access to the content.`\nOkay, the func, but how to work with contentResolvere?! This blows up my mind really.","body":"@CommonsWare   What this supposed to mean:  <code>try using takePersistableUriPermissions() on ContentResolver to get long-term access to the content.</code> Okay, the func, but how to work with contentResolvere?! This blows up my mind really."},{"owner":{"account_id":39846,"reputation":991133,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1676918971,"post_id":75512268,"comment_id":133230222,"body_markdown":"&quot;I have no ACTION_OPEN_DOCUMENT in my code&quot; -- if you wish to persist the `Uri`, you will need to switch to using `ACTION_OPEN_DOCUMENT` (or the `ActivityResultContracts.OpenDocument` wrapper). See [the documentation](https://developer.android.com/guide/topics/providers/document-provider), [the documentation](https://developer.android.com/training/data-storage/use-cases), and [the documentation](https://developer.android.com/training/data-storage/shared/documents-files).","body":"&quot;I have no ACTION_OPEN_DOCUMENT in my code&quot; -- if you wish to persist the <code>Uri</code>, you will need to switch to using <code>ACTION_OPEN_DOCUMENT</code> (or the <code>ActivityResultContracts.OpenDocument</code> wrapper). See <a href=\"https://developer.android.com/guide/topics/providers/document-provider\" rel=\"nofollow noreferrer\">the documentation</a>, <a href=\"https://developer.android.com/training/data-storage/use-cases\" rel=\"nofollow noreferrer\">the documentation</a>, and <a href=\"https://developer.android.com/training/data-storage/shared/documents-files\" rel=\"nofollow noreferrer\">the documentation</a>."},{"owner":{"account_id":39846,"reputation":991133,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1676919109,"post_id":75512268,"comment_id":133230260,"body_markdown":"See also [this blog post series](https://commonsware.com/blog/2019/10/19/scoped-storage-stories-saf-basics.html) and [this chapter](https://commonsware.com/Jetpack/pages/chap-content-001.html) of [this free book](https://commonsware.com/Jetpack).","body":"See also <a href=\"https://commonsware.com/blog/2019/10/19/scoped-storage-stories-saf-basics.html\" rel=\"nofollow noreferrer\">this blog post series</a> and <a href=\"https://commonsware.com/Jetpack/pages/chap-content-001.html\" rel=\"nofollow noreferrer\">this chapter</a> of <a href=\"https://commonsware.com/Jetpack\" rel=\"nofollow noreferrer\">this free book</a>."},{"owner":{"account_id":27805595,"reputation":23,"user_id":21236434,"display_name":"PewPew01"},"score":0,"creation_date":1676925695,"post_id":75512268,"comment_id":133231798,"body_markdown":"@CommonsWare after spending some time modifying my code i made it based on intentions and tried to use all my new knowledge based on your advices, and everything just to face the same problem as before - ava.lang.SecurityException: `Permission Denial: opening provider com.android.providers.media.MediaDocumentsProvider from ProcessRecord{edede0e 10058:com.example.myapplication/u0a121} (pid=10058, uid=10121) requires that you obtain access using ACTION_OPEN_DOCUMENT or related APIs`\n\nAny ideas?","body":"@CommonsWare after spending some time modifying my code i made it based on intentions and tried to use all my new knowledge based on your advices, and everything just to face the same problem as before - ava.lang.SecurityException: <code>Permission Denial: opening provider com.android.providers.media.MediaDocumentsProvider from ProcessRecord{edede0e 10058:com.example.myapplication&#47;u0a121} (pid=10058, uid=10121) requires that you obtain access using ACTION_OPEN_DOCUMENT or related APIs</code>  Any ideas?"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1676926886,"post_id":75512268,"comment_id":133232074,"body_markdown":"You do not need any permission to use ACTION_OPEN_DOCUMENT. So please remove all irrelevant code. After that show how you use ACTION_OPEN_DOCUMENT and the obtained uri.","body":"You do not need any permission to use ACTION_OPEN_DOCUMENT. So please remove all irrelevant code. After that show how you use ACTION_OPEN_DOCUMENT and the obtained uri."},{"owner":{"account_id":27805595,"reputation":23,"user_id":21236434,"display_name":"PewPew01"},"score":0,"creation_date":1676927257,"post_id":75512268,"comment_id":133232155,"body_markdown":"@blackapps i&#39;ve already done with this by ACTION_OPEN_DOCUMENT, is based on this mechanic at the moment. I open item by intent.setAction(Intent.ACTION_OPEN_DOCUMENT);, it shows me window to select image, and after that works well - i catch result, store URI, etc. But after app reload i get exception on permission. How can i use ACTION_OPEN_DOCUMENT without actually opening window and selecting it? Is there such an option? By using the same URI i got from previous launches.","body":"@blackapps i&#39;ve already done with this by ACTION_OPEN_DOCUMENT, is based on this mechanic at the moment. I open item by intent.setAction(Intent.ACTION_OPEN_DOCUMENT);, it shows me window to select image, and after that works well - i catch result, store URI, etc. But after app reload i get exception on permission. How can i use ACTION_OPEN_DOCUMENT without actually opening window and selecting it? Is there such an option? By using the same URI i got from previous launches."},{"owner":{"account_id":39846,"reputation":991133,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1676927331,"post_id":75512268,"comment_id":133232179,"body_markdown":"&quot;i catch result, store URI, etc.&quot; -- did you [call `takePersistableUriPermissions()` on a `ContentResolver`](https://developer.android.com/training/data-storage/shared/documents-files#java) as soon as you get the `Uri`?","body":"&quot;i catch result, store URI, etc.&quot; -- did you <a href=\"https://developer.android.com/training/data-storage/shared/documents-files#java\" rel=\"nofollow noreferrer\">call <code>takePersistableUriPermissions()</code> on a <code>ContentResolver</code></a> as soon as you get the <code>Uri</code>?"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1676927508,"post_id":75512268,"comment_id":133232226,"body_markdown":"Post complete code in your post. Not in a comment. Remove the irrelevant code as asked before.","body":"Post complete code in your post. Not in a comment. Remove the irrelevant code as asked before."},{"owner":{"account_id":27805595,"reputation":23,"user_id":21236434,"display_name":"PewPew01"},"score":0,"creation_date":1676927976,"post_id":75512268,"comment_id":133232316,"body_markdown":"updated post as requested. \n\nProblem still here, yes, i use takePersistableUriPermission and tryied also releasePersistableUriPermission.. still no work.","body":"updated post as requested.   Problem still here, yes, i use takePersistableUriPermission and tryied also releasePersistableUriPermission.. still no work."},{"owner":{"account_id":27805595,"reputation":23,"user_id":21236434,"display_name":"PewPew01"},"score":0,"creation_date":1676928771,"post_id":75512268,"comment_id":133232467,"body_markdown":"I&#39;ve noted that takeFlag returns = &#39;0&#39;. Possible there is a problem? Or no? Any ideas?","body":"I&#39;ve noted that takeFlag returns = &#39;0&#39;. Possible there is a problem? Or no? Any ideas?"}],"answers":[{"tags":[],"owner":{"account_id":27805595,"reputation":23,"user_id":21236434,"display_name":"PewPew01"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676930172,"creation_date":1676930172,"answer_id":75514508,"question_id":75512268,"body_markdown":"Finally the problem was in flags which return 0;\r\nAdded `intent.addFlags(Intent.FLAG_GRANT_READ_URI_PERMISSION);` in Intention initialization and things worked well. Damn this took me the whole day to figure out. \r\n\r\nHope will help someone and save precious time! Thanks everyone responding! :3","title":"Gave permission to READ_EXTERNAL_STORAGE, but still get exception java.lang.SecurityException: Permission Denial","body":"<p>Finally the problem was in flags which return 0;\nAdded <code>intent.addFlags(Intent.FLAG_GRANT_READ_URI_PERMISSION);</code> in Intention initialization and things worked well. Damn this took me the whole day to figure out.</p>\n<p>Hope will help someone and save precious time! Thanks everyone responding! :3</p>\n"}],"owner":{"account_id":27805595,"reputation":23,"user_id":21236434,"display_name":"PewPew01"},"comment_count":17,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1178,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1676930172,"creation_date":1676912913,"question_id":75512268,"body_markdown":"I&#39;m trying to store and open image, which is taken from device storage (Photo made by Camera);\r\n\r\nInside session I can open this image by `imgg.setImageURI(uri1);`, but after session is over and new one is up I get exception : \r\n\r\n&gt; ava.lang.SecurityException: Permission Denial: opening provider\r\n&gt; com.android.providers.media.MediaDocumentsProvider from\r\n&gt; ProcessRecord{3964df7 21535:com.example.myapplication/u0a121}\r\n&gt; (pid=21535, uid=10121) requires that you obtain access using\r\n&gt; ACTION_OPEN_DOCUMENT or related APIs.\r\n\r\nI&#39;ve searched internet, tried a lot of different solutions and no one solved my problem.\r\n\r\nFor clarity, i added:\r\n```xml\r\n&lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot;/&gt;\r\n&lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot;/&gt;\r\n&lt;uses-permission android:name=&quot;android.permission.MANAGE_EXTERNAL_STORAGE&quot; tools:ignore=&quot;ScopedStorage&quot;/&gt;\r\n```\r\n\r\nin AndroidManifest.xml\r\n\r\nthen I added:\r\n\r\n```java\r\nString[] permissionsStorage = {Manifest.permission.READ_EXTERNAL_STORAGE};\r\n        int requestExternalStorage = 1;\r\n        int permission = ActivityCompat.checkSelfPermission(this, Manifest.permission.READ_EXTERNAL_STORAGE);\r\n        if (permission != PackageManager.PERMISSION_GRANTED) {\r\n            ActivityCompat.requestPermissions(this, permissionsStorage, requestExternalStorage);\r\n        }\r\n```\r\n\r\n\r\n\r\nin my onCreate function.\r\n\r\nOn the next run application asked me for permission, i clicked &quot;ok&quot; and permission seems to be set to &quot;true&quot;, but it not solve my problem.\r\n\r\nAfter trying some other solutions (this one was not the first attempt), i&#39;ve checked permissions inside of virtual devices and there my application have all the permissions.\r\n\r\nBut exception is still here.\r\n\r\nHow to handle it (i&#39;ve read like 10 articles, which not help)?\r\nIs there any common solution im blind for?\r\n\r\nintent creation:\r\n\r\n```\r\nbtn.setOnClickListener(new View.OnClickListener() {\r\n            public void onClick(View view) {\r\n                intent = new Intent();\r\n                intent.setAction(Intent.ACTION_OPEN_DOCUMENT);\r\n\r\n                intent.putExtra(Intent.EXTRA_TEXT, &quot;???&quot;);\r\n                intent.setType(&quot;image/*&quot;);\r\n\r\n                someActivityResultLauncher.launch(intent);\r\n                //ActivityResultContracts pew = new ActivityResultContracts.OpenDocument();\r\n                //Intent intent = new Intent();\r\n                //mGetContent.launch(&quot;image/*&quot;);\r\n\r\n\r\n            }\r\n        });\r\n```\r\n\r\nintent process:\r\n\r\n```\r\nActivityResultLauncher&lt;Intent&gt; someActivityResultLauncher = registerForActivityResult(\r\n            new ActivityResultContracts.StartActivityForResult(),\r\n            new ActivityResultCallback&lt;ActivityResult&gt;() {\r\n                @SuppressLint(&quot;WrongConstant&quot;)\r\n                @Override\r\n                public void onActivityResult(ActivityResult result) {\r\n                    if (result.getResultCode() == Activity.RESULT_OK) {\r\n                        // There are no request codes\r\n                        final int takeFlags = intent.getFlags() &amp; (Intent.FLAG_GRANT_READ_URI_PERMISSION\r\n                                | Intent.FLAG_GRANT_WRITE_URI_PERMISSION);\r\n                        Intent data = result.getData();\r\n\r\n                        String FilePath = data.getData().getPath();\r\n                        Uri uri = data.getData();\r\n                        ContentResolver contentResolver = getActivity().getContentResolver();\r\n                        contentResolver.takePersistableUriPermission(uri, takeFlags);\r\n                        //contentResolver.releasePersistableUriPermission(uri,takeFlags);\r\n                        Intent data2 = result.getData();\r\n                        FILE_ADRESS=uri;\r\n                        imgg.setImageURI(FILE_ADRESS);\r\n                        FILE_PATH=FILE_ADRESS.getPath();\r\n                    }\r\n                }\r\n            });\r\n```\r\n\r\nexception is here:\r\n\r\n```\r\nfinal Uri uri1 = Uri.parse(str_address);\r\n\r\n\r\n        if (str_address!=null &amp; str_address.length()&gt;0) {\r\n           \r\n            final Drawable d = Drawable.createFromPath(str_address);\r\n            imgg.setImageURI(null);\r\n            imgg.setImageURI(uri1);\r\n\r\n\r\n        }\r\n```\r\n\r\nAll the permissions are gived (programmatically and also manually in device settings)","title":"Gave permission to READ_EXTERNAL_STORAGE, but still get exception java.lang.SecurityException: Permission Denial","body":"<p>I'm trying to store and open image, which is taken from device storage (Photo made by Camera);</p>\n<p>Inside session I can open this image by <code>imgg.setImageURI(uri1);</code>, but after session is over and new one is up I get exception :</p>\n<blockquote>\n<p>ava.lang.SecurityException: Permission Denial: opening provider\ncom.android.providers.media.MediaDocumentsProvider from\nProcessRecord{3964df7 21535:com.example.myapplication/u0a121}\n(pid=21535, uid=10121) requires that you obtain access using\nACTION_OPEN_DOCUMENT or related APIs.</p>\n</blockquote>\n<p>I've searched internet, tried a lot of different solutions and no one solved my problem.</p>\n<p>For clarity, i added:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot;/&gt;\n&lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot;/&gt;\n&lt;uses-permission android:name=&quot;android.permission.MANAGE_EXTERNAL_STORAGE&quot; tools:ignore=&quot;ScopedStorage&quot;/&gt;\n</code></pre>\n<p>in AndroidManifest.xml</p>\n<p>then I added:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String[] permissionsStorage = {Manifest.permission.READ_EXTERNAL_STORAGE};\n        int requestExternalStorage = 1;\n        int permission = ActivityCompat.checkSelfPermission(this, Manifest.permission.READ_EXTERNAL_STORAGE);\n        if (permission != PackageManager.PERMISSION_GRANTED) {\n            ActivityCompat.requestPermissions(this, permissionsStorage, requestExternalStorage);\n        }\n</code></pre>\n<p>in my onCreate function.</p>\n<p>On the next run application asked me for permission, i clicked &quot;ok&quot; and permission seems to be set to &quot;true&quot;, but it not solve my problem.</p>\n<p>After trying some other solutions (this one was not the first attempt), i've checked permissions inside of virtual devices and there my application have all the permissions.</p>\n<p>But exception is still here.</p>\n<p>How to handle it (i've read like 10 articles, which not help)?\nIs there any common solution im blind for?</p>\n<p>intent creation:</p>\n<pre><code>btn.setOnClickListener(new View.OnClickListener() {\n            public void onClick(View view) {\n                intent = new Intent();\n                intent.setAction(Intent.ACTION_OPEN_DOCUMENT);\n\n                intent.putExtra(Intent.EXTRA_TEXT, &quot;???&quot;);\n                intent.setType(&quot;image/*&quot;);\n\n                someActivityResultLauncher.launch(intent);\n                //ActivityResultContracts pew = new ActivityResultContracts.OpenDocument();\n                //Intent intent = new Intent();\n                //mGetContent.launch(&quot;image/*&quot;);\n\n\n            }\n        });\n</code></pre>\n<p>intent process:</p>\n<pre><code>ActivityResultLauncher&lt;Intent&gt; someActivityResultLauncher = registerForActivityResult(\n            new ActivityResultContracts.StartActivityForResult(),\n            new ActivityResultCallback&lt;ActivityResult&gt;() {\n                @SuppressLint(&quot;WrongConstant&quot;)\n                @Override\n                public void onActivityResult(ActivityResult result) {\n                    if (result.getResultCode() == Activity.RESULT_OK) {\n                        // There are no request codes\n                        final int takeFlags = intent.getFlags() &amp; (Intent.FLAG_GRANT_READ_URI_PERMISSION\n                                | Intent.FLAG_GRANT_WRITE_URI_PERMISSION);\n                        Intent data = result.getData();\n\n                        String FilePath = data.getData().getPath();\n                        Uri uri = data.getData();\n                        ContentResolver contentResolver = getActivity().getContentResolver();\n                        contentResolver.takePersistableUriPermission(uri, takeFlags);\n                        //contentResolver.releasePersistableUriPermission(uri,takeFlags);\n                        Intent data2 = result.getData();\n                        FILE_ADRESS=uri;\n                        imgg.setImageURI(FILE_ADRESS);\n                        FILE_PATH=FILE_ADRESS.getPath();\n                    }\n                }\n            });\n</code></pre>\n<p>exception is here:</p>\n<pre><code>final Uri uri1 = Uri.parse(str_address);\n\n\n        if (str_address!=null &amp; str_address.length()&gt;0) {\n           \n            final Drawable d = Drawable.createFromPath(str_address);\n            imgg.setImageURI(null);\n            imgg.setImageURI(uri1);\n\n\n        }\n</code></pre>\n<p>All the permissions are gived (programmatically and also manually in device settings)</p>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":27831307,"reputation":23,"user_id":21249675,"display_name":"PeVo"},"score":0,"creation_date":1676888644,"post_id":75507946,"comment_id":133221578,"body_markdown":"unfortunately no effect","body":"unfortunately no effect"},{"owner":{"account_id":20275485,"reputation":2051,"user_id":14870617,"display_name":"NIKUNJ PATEL"},"score":0,"creation_date":1676888706,"post_id":75507946,"comment_id":133221596,"body_markdown":"try `&quot;^(.*?)([ _\\\\-.]-|[ _\\\\-.])(\\\\d{1,5})(.*)$&quot;`","body":"try <code>&quot;^(.*?)([ _\\\\-.]-|[ _\\\\-.])(\\\\d{1,5})(.*)$&quot;</code>"},{"owner":{"account_id":27831307,"reputation":23,"user_id":21249675,"display_name":"PeVo"},"score":0,"creation_date":1676909359,"post_id":75507946,"comment_id":133227649,"body_markdown":"Sorry, bad pattern error, see\nhttps://regex101.com/r/PgXNBR/1","body":"Sorry, bad pattern error, see <a href=\"https://regex101.com/r/PgXNBR/1\" rel=\"nofollow noreferrer\">regex101.com/r/PgXNBR/1</a>"}],"answers":[{"tags":[],"owner":{"account_id":7089168,"reputation":157118,"user_id":5424988,"display_name":"The fourth bird"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1676930074,"creation_date":1676930074,"answer_id":75514494,"question_id":75507946,"body_markdown":"If you are only replacing with capture group 1, you don&#39;t need 3 capture groups in the pattern. The first `.*` matches the whole string so that one should be non greedy.\r\n\r\nThe `-` in the character class can be at the end so you don&#39; have to escape it, and you don&#39;t have to escape the dot in the character class.\r\n\r\nIn the code you can directly `return sStreet;` instead of overwriting the string `sRet` first.\r\n\r\n    public static String cutAddressStreet(String sFull)\r\n    {\r\n        String sRet = &quot;&quot;;\r\n        String sRegEx = &quot;^(.*?)(?: - |[ _.-])\\\\d{1,5}$&quot;;\r\n        if (sFull.matches(sRegEx))\r\n        {\r\n            String sStreet = sFull.replaceFirst(sRegEx, &quot;$1&quot;);\r\n            System.out.println(&quot;cut=\\&quot;&quot; + sStreet + &quot;\\&quot; from &quot; + sFull);\r\n            return sStreet;\r\n        }\r\n        return sRet;\r\n    }\r\n\r\nThe output of the code:\r\n\r\n    cut=&quot;strassen name&quot; from strassen name 1344\r\n    cut=&quot;strassen name&quot; from strassen name-1344\r\n    cut=&quot;strassen name&quot; from strassen name - 1344","title":"RegEx search one word or one char from list","body":"<p>If you are only replacing with capture group 1, you don't need 3 capture groups in the pattern. The first <code>.*</code> matches the whole string so that one should be non greedy.</p>\n<p>The <code>-</code> in the character class can be at the end so you don' have to escape it, and you don't have to escape the dot in the character class.</p>\n<p>In the code you can directly <code>return sStreet;</code> instead of overwriting the string <code>sRet</code> first.</p>\n<pre><code>public static String cutAddressStreet(String sFull)\n{\n    String sRet = &quot;&quot;;\n    String sRegEx = &quot;^(.*?)(?: - |[ _.-])\\\\d{1,5}$&quot;;\n    if (sFull.matches(sRegEx))\n    {\n        String sStreet = sFull.replaceFirst(sRegEx, &quot;$1&quot;);\n        System.out.println(&quot;cut=\\&quot;&quot; + sStreet + &quot;\\&quot; from &quot; + sFull);\n        return sStreet;\n    }\n    return sRet;\n}\n</code></pre>\n<p>The output of the code:</p>\n<pre><code>cut=&quot;strassen name&quot; from strassen name 1344\ncut=&quot;strassen name&quot; from strassen name-1344\ncut=&quot;strassen name&quot; from strassen name - 1344\n</code></pre>\n"}],"owner":{"account_id":27831307,"reputation":23,"user_id":21249675,"display_name":"PeVo"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":75514494,"answer_count":1,"score":2,"last_activity_date":1676930074,"creation_date":1676888182,"question_id":75507946,"body_markdown":"I&#39;m having trouble formulating a regex string to match &quot; - &quot; or any character from this array [ _\\-\\.].\r\nThis my example string doesn&#39;t work ( - |[ _\\\\-\\\\.])\r\n\r\nMy test program in Java:\r\n```\r\ncutAddressStreet(&quot;strassen name 1344&quot;); // &quot;strassen name&quot; ok\r\ncutAddressStreet(&quot;strassen name-1344&quot;); // &quot;strassen name&quot; ok\r\ncutAddressStreet(&quot;strassen name - 1344&quot;); // &quot;strassen name -&quot;  &lt;- Problem\r\ncutAddressStreet(&quot;strassen name,1344&quot;); // &quot;&quot;  ok\r\n```\r\n\r\n```\r\npublic static String cutAddressStreet(String sFull)\r\n{\r\n   String sRet = &quot;&quot;;\r\n   String sRegEx = &quot;^(.*)( - |[ _\\\\-\\\\.])(\\\\d{1,5})(.*)$&quot;;\r\n   if (sFull.matches(sRegEx))\r\n   { // Yes , this is Street with Number\r\n      String sStreet = sFull.replaceFirst(sRegEx, &quot;$1&quot;);\r\n      System.out.println(&quot;cut=\\&quot;&quot; + sStreet + &quot;\\&quot; from &quot; + sFull);\r\n      sRet = sStreet;\r\n   }\r\n   return sRet;\r\n}\r\n```\r\n\r\nhttps://regex101.com/r/ZUg5Z3/1","title":"RegEx search one word or one char from list","body":"<p>I'm having trouble formulating a regex string to match &quot; - &quot; or any character from this array [ _-.].\nThis my example string doesn't work ( - |[ _\\-\\.])</p>\n<p>My test program in Java:</p>\n<pre><code>cutAddressStreet(&quot;strassen name 1344&quot;); // &quot;strassen name&quot; ok\ncutAddressStreet(&quot;strassen name-1344&quot;); // &quot;strassen name&quot; ok\ncutAddressStreet(&quot;strassen name - 1344&quot;); // &quot;strassen name -&quot;  &lt;- Problem\ncutAddressStreet(&quot;strassen name,1344&quot;); // &quot;&quot;  ok\n</code></pre>\n<pre><code>public static String cutAddressStreet(String sFull)\n{\n   String sRet = &quot;&quot;;\n   String sRegEx = &quot;^(.*)( - |[ _\\\\-\\\\.])(\\\\d{1,5})(.*)$&quot;;\n   if (sFull.matches(sRegEx))\n   { // Yes , this is Street with Number\n      String sStreet = sFull.replaceFirst(sRegEx, &quot;$1&quot;);\n      System.out.println(&quot;cut=\\&quot;&quot; + sStreet + &quot;\\&quot; from &quot; + sFull);\n      sRet = sStreet;\n   }\n   return sRet;\n}\n</code></pre>\n<p><a href=\"https://regex101.com/r/ZUg5Z3/1\" rel=\"nofollow noreferrer\">https://regex101.com/r/ZUg5Z3/1</a></p>\n"},{"tags":["java","unit-testing","junit"],"answers":[{"tags":[],"owner":{"account_id":24749609,"reputation":81,"user_id":18635297,"display_name":"Math_Guerin"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1676929734,"creation_date":1676929734,"answer_id":75514457,"question_id":75514408,"body_markdown":"You should test your method in serviceB test since it is there that the logic is done. ServiceA has no idea what this method is doing so it is impossible to test. You should write your test in serviceA for the three case the method returns(true, false and exception)","title":"Does it make sense to test other service call?","body":"<p>You should test your method in serviceB test since it is there that the logic is done. ServiceA has no idea what this method is doing so it is impossible to test. You should write your test in serviceA for the three case the method returns(true, false and exception)</p>\n"},{"tags":[],"owner":{"account_id":1064245,"reputation":85256,"user_id":1065197,"accept_rate":88,"display_name":"Luiggi Mendoza"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676929800,"creation_date":1676929800,"answer_id":75514463,"question_id":75514408,"body_markdown":"Since you have code that uses that value in `ServiceA#foo`, you have at least 2 branches: one for `true` and another for `false`. If you have those branches inside `ServiceA#foofoo`, then you should cover them with unit tests.","title":"Does it make sense to test other service call?","body":"<p>Since you have code that uses that value in <code>ServiceA#foo</code>, you have at least 2 branches: one for <code>true</code> and another for <code>false</code>. If you have those branches inside <code>ServiceA#foofoo</code>, then you should cover them with unit tests.</p>\n"}],"owner":{"account_id":14589497,"reputation":109,"user_id":10608855,"display_name":"user10608855"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1676929800,"creation_date":1676929342,"question_id":75514408,"body_markdown":"I have a service `ServiceA` that calls `ServiceB` method which returns only boolean value. There are no condition based on that in `ServiceA` we only pass this value to other service. Does it make sense to write a unit test that verifies if this service is called?\r\n```\r\nclass ServiceA {\r\n    \r\n    public void foo() {\r\n        boolean value = serviceB.shouldVerify(value);\r\n        // other code that uses this value\r\n    }\r\n}\r\n```\r\nThe method `shouldVerify` from `ServiceB` is already covered with unit tests.","title":"Does it make sense to test other service call?","body":"<p>I have a service <code>ServiceA</code> that calls <code>ServiceB</code> method which returns only boolean value. There are no condition based on that in <code>ServiceA</code> we only pass this value to other service. Does it make sense to write a unit test that verifies if this service is called?</p>\n<pre><code>class ServiceA {\n    \n    public void foo() {\n        boolean value = serviceB.shouldVerify(value);\n        // other code that uses this value\n    }\n}\n</code></pre>\n<p>The method <code>shouldVerify</code> from <code>ServiceB</code> is already covered with unit tests.</p>\n"},{"tags":["java","arrays","generics"],"comments":[{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":0,"creation_date":1676927568,"post_id":75514089,"comment_id":133232241,"body_markdown":"&quot;Some mistake&quot; isn&#39;t terribly descriptive; what&#39;s the exact issue(s)? How do you compare, say, a `Person` with a `Developer` (other than developers are clearly superior)?","body":"&quot;Some mistake&quot; isn&#39;t terribly descriptive; what&#39;s the exact issue(s)? How do you compare, say, a <code>Person</code> with a <code>Developer</code> (other than developers are clearly superior)?"},{"owner":{"account_id":25196975,"reputation":29,"user_id":19036367,"display_name":"no way"},"score":0,"creation_date":1676928331,"post_id":75514089,"comment_id":133232382,"body_markdown":"The PersonComparator classes compares only by name and age, EmployeeComparator compares by name, age and salary, and so on. When comparing a Person with a Developer they ought to be compared with PersonComparator.","body":"The PersonComparator classes compares only by name and age, EmployeeComparator compares by name, age and salary, and so on. When comparing a Person with a Developer they ought to be compared with PersonComparator."}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":1,"up_vote_count":1,"is_accepted":true,"score":0,"last_activity_date":1676928203,"creation_date":1676928203,"answer_id":75514268,"question_id":75514089,"body_markdown":"Given a `Person[]` array, java knows that every item in that array could be a Person. Or an Employee. Or a Developer.\r\n\r\nLet&#39;s say you pass a `Person[]` array where _every_ element in it, is a Developer. Okay, that&#39;s possible, but you don&#39;t have to - and java is not going to let you abuse the type system simply because &#39;well, maaaaybe it will work&#39;.\r\n\r\nThus, to sort a `Person` array, the only comparator that will do is a `Comparator&lt;Person&gt;`, or a `Comparator&lt;Object&gt;`.\r\n\r\nA `Comparator&lt;Person&gt;` can already compare 2 developers - because all developers are persons. In contrast, a `Comparator&lt;Developer&gt;` can only compare developers; it is not capable of comparing 2 instances created with `new Person()`, nor can it sort Employee objects.\r\n\r\n\r\nIn contract, a `Comparator&lt;X extends Person&gt;` is heading in the direction that you can accept either a `Comparator&lt;Person&gt;`, or a `Comparator&lt;Developer&gt;`, or a `Comparator&lt;Employee&gt;`, and that&#39;s no good - because what if you pass a `Comparator&lt;Developer&gt;` and that `Person[]` array contains some employees?\r\n\r\n&gt; And a comparator class for each of the classes\r\n\r\nThis doesn&#39;t make sense. If you already have a comparator that can compare any 2 persons, then there is no further need for a comparator for developers, or for employees. Given that all employees and all developers are also persons, it doesn&#39;t matter.\r\n\r\nYou appear to be looking for, perhaps, &#39;reverse types&#39;, where your Person comparator is capable only of comparing specifically instances of Person itself (i.e. stuff made as `new Person()`), and is not capable of comparing objects created as `new Developer()`. __Java does not work that way__ - you said `class Employee extends Person`, therefore, __all Employees are also Persons__, and there is no way to say &#39;I have a comparator that can compare all X, but not any subtypes of X&#39;.\r\n\r\nHence, your mental model doesn&#39;t work here and your question is not directly answerable because of it.\r\n\r\nYou have two options:\r\n\r\n## Heterogenous arrays\r\n\r\nYou have a single array that contains a combo of persons, developers, and employees all mixed and matched. The only way to sort it, is to have a comparator that can compare 2 persons (which could be `new Person()`, or `new Developer()`, or `new Employee()` - those are _all_ persons!).\r\n\r\n## Homogenous arrays\r\n\r\nYou have a single array and it is in fact bound to contain only Xs, where X is either Person _or_ Employee _or_ Developer. There is no way to say &#39;I have an array with SOLELY objects created with `new Person()` and not objects created as `new Developer()`, so if it&#39;s `Person[]`, we&#39;re in the same boat as the heterogenous array situation. However, it&#39;s possible you want a way to say: Given an array of Xs, and a Comparator of that same X, sort em.\r\n\r\nYou can do that. But, you are confused about generics syntax.\r\n\r\n## Type var declaration vs usage\r\n\r\nYou wrote:\r\n\r\n&gt; ```java\r\n&gt; public static void sortPeople(Person[] array, Comparator&lt;T extends Person&gt; comparator) {\r\n&gt;        Arrays.sort(array, comparator);\r\n&gt;    }\r\n&gt; ```\r\n\r\nT is being _used_, but you declared it nowhere, hence, this code makes no sense. Given that it&#39;s a static method, there are no type vars available except those you declare. So, you have to declare them. You put bounds in as you declare, usually. You CAN do this:\r\n\r\n```\r\npublic static &lt;T extends Person&gt; void sortPeople(T[] array, Comparator&lt;T&gt; comparator) {\r\n  Arrays.sort(array, comparator);\r\n}\r\n```\r\n\r\nHere we first _declare_ a new type var named `T` (you put these after the modifiers and before the return type, it&#39;s the `&lt;T extends Person&gt;` part there), and, once declared, we use it - twice, once for the array type, once for the comparator. This code works fine, and you can invoke it with:\r\n\r\n```\r\nDeveloper[] devs = ...;\r\nComparator&lt;Developer&gt; c = ...;\r\nSortingUtil.sortPeople(devs, c);\r\n\r\n// or\r\nPerson[] persons = ...;\r\nComparator&lt;Person&gt; p = ...;\r\nSortingUtil.sortPeople(persons, p);\r\n\r\n// BUT NOT:\r\n\r\nPerson[] persons = new Person[2];\r\npersons[0] = new Developer();\r\npersons[1] = new Developer();\r\nComparator&lt;Developer&gt; c = ...;\r\nSortingUtil.sortPeople(persons, c);\r\n```\r\n\r\nThat last one does not work - your eyeballs can tell that this person array contains only developers, but the type system doesn&#39;t say that. The type system says that persons array could contain an employee too, or a `new Person()`, and your comparator can&#39;t compare those, so that code does not compile.\r\n\r\n## An important note\r\n\r\nArrays and generics do not mix. Do not do this. Do not use arrays of non-primitive types. Use a `List&lt;Person&gt;` instead of a `Person[]`.\r\n\r\n## The common confusion about generics\r\n\r\nYou may be thinking: I have a list of persons. Actually, it&#39;s not JUST `new Person()`, it could be `new Developer()` too, so I want a `List&lt;? extends Person&gt;`, not a `List&lt;Person&gt;` right?\r\n\r\nNo. You&#39;re missing that generics is one abstraction layer higher. A list that contains all of `new Person()`, `new Developer()`, and `new Employee()` __is__ a `List&lt;Person&gt;`, not a `List&lt;? extends Person&gt;` - all developers are persons, after all! There is _no way_ to express &#39;a list that contains only `new Person()` and not `new Developer()`.\r\n\r\nNo, a `List&lt;? extends Person&gt;` expresses the idea that the list ITSELF is bound to contain Persons (which also means developers or employees, all mixed together, if you want), _OR_ only developers, _OR_ only employees. You&#39;re capturing the notion that you want this variable or parameter to allow containing any of `new ArrayList&lt;Person&gt;()`, `new ArrayList&lt;Developer&gt;()`, as well as `new ArrayList&lt;Employee&gt;()`, and restricts you to write only code that would work for all 3 of those.\r\n\r\nFor example, a `List&lt;? extends Person&gt;` __has no add method at all!!__ - or rather, it does, but there is NOTHING you could pass that wouldn&#39;t be a compiler error, except literally `list.add(null)` because `null` fits all types. After all, it COULD be a `List&lt;Employee&gt;`, and it COULD be a `List&lt;Developer&gt;`, and there isn&#39;t any object that can be both an employee and a developer at the same time, therefore, there is simply no way to add anything.\r\n\r\nThis is great if you are writing a method that isn&#39;t going to add stuff anyway.\r\n\r\nRead up on [PECS](https://www.baeldung.com/java-generics-pecs), that&#39;ll help.\r\n","title":"How do I sort an array of multiple classes using comparators","body":"<p>Given a <code>Person[]</code> array, java knows that every item in that array could be a Person. Or an Employee. Or a Developer.</p>\n<p>Let's say you pass a <code>Person[]</code> array where <em>every</em> element in it, is a Developer. Okay, that's possible, but you don't have to - and java is not going to let you abuse the type system simply because 'well, maaaaybe it will work'.</p>\n<p>Thus, to sort a <code>Person</code> array, the only comparator that will do is a <code>Comparator&lt;Person&gt;</code>, or a <code>Comparator&lt;Object&gt;</code>.</p>\n<p>A <code>Comparator&lt;Person&gt;</code> can already compare 2 developers - because all developers are persons. In contrast, a <code>Comparator&lt;Developer&gt;</code> can only compare developers; it is not capable of comparing 2 instances created with <code>new Person()</code>, nor can it sort Employee objects.</p>\n<p>In contract, a <code>Comparator&lt;X extends Person&gt;</code> is heading in the direction that you can accept either a <code>Comparator&lt;Person&gt;</code>, or a <code>Comparator&lt;Developer&gt;</code>, or a <code>Comparator&lt;Employee&gt;</code>, and that's no good - because what if you pass a <code>Comparator&lt;Developer&gt;</code> and that <code>Person[]</code> array contains some employees?</p>\n<blockquote>\n<p>And a comparator class for each of the classes</p>\n</blockquote>\n<p>This doesn't make sense. If you already have a comparator that can compare any 2 persons, then there is no further need for a comparator for developers, or for employees. Given that all employees and all developers are also persons, it doesn't matter.</p>\n<p>You appear to be looking for, perhaps, 'reverse types', where your Person comparator is capable only of comparing specifically instances of Person itself (i.e. stuff made as <code>new Person()</code>), and is not capable of comparing objects created as <code>new Developer()</code>. <strong>Java does not work that way</strong> - you said <code>class Employee extends Person</code>, therefore, <strong>all Employees are also Persons</strong>, and there is no way to say 'I have a comparator that can compare all X, but not any subtypes of X'.</p>\n<p>Hence, your mental model doesn't work here and your question is not directly answerable because of it.</p>\n<p>You have two options:</p>\n<h2>Heterogenous arrays</h2>\n<p>You have a single array that contains a combo of persons, developers, and employees all mixed and matched. The only way to sort it, is to have a comparator that can compare 2 persons (which could be <code>new Person()</code>, or <code>new Developer()</code>, or <code>new Employee()</code> - those are <em>all</em> persons!).</p>\n<h2>Homogenous arrays</h2>\n<p>You have a single array and it is in fact bound to contain only Xs, where X is either Person <em>or</em> Employee <em>or</em> Developer. There is no way to say 'I have an array with SOLELY objects created with <code>new Person()</code> and not objects created as <code>new Developer()</code>, so if it's <code>Person[]</code>, we're in the same boat as the heterogenous array situation. However, it's possible you want a way to say: Given an array of Xs, and a Comparator of that same X, sort em.</p>\n<p>You can do that. But, you are confused about generics syntax.</p>\n<h2>Type var declaration vs usage</h2>\n<p>You wrote:</p>\n<blockquote>\n<pre class=\"lang-java prettyprint-override\"><code>public static void sortPeople(Person[] array, Comparator&lt;T extends Person&gt; comparator) {\n       Arrays.sort(array, comparator);\n   }\n</code></pre>\n</blockquote>\n<p>T is being <em>used</em>, but you declared it nowhere, hence, this code makes no sense. Given that it's a static method, there are no type vars available except those you declare. So, you have to declare them. You put bounds in as you declare, usually. You CAN do this:</p>\n<pre><code>public static &lt;T extends Person&gt; void sortPeople(T[] array, Comparator&lt;T&gt; comparator) {\n  Arrays.sort(array, comparator);\n}\n</code></pre>\n<p>Here we first <em>declare</em> a new type var named <code>T</code> (you put these after the modifiers and before the return type, it's the <code>&lt;T extends Person&gt;</code> part there), and, once declared, we use it - twice, once for the array type, once for the comparator. This code works fine, and you can invoke it with:</p>\n<pre><code>Developer[] devs = ...;\nComparator&lt;Developer&gt; c = ...;\nSortingUtil.sortPeople(devs, c);\n\n// or\nPerson[] persons = ...;\nComparator&lt;Person&gt; p = ...;\nSortingUtil.sortPeople(persons, p);\n\n// BUT NOT:\n\nPerson[] persons = new Person[2];\npersons[0] = new Developer();\npersons[1] = new Developer();\nComparator&lt;Developer&gt; c = ...;\nSortingUtil.sortPeople(persons, c);\n</code></pre>\n<p>That last one does not work - your eyeballs can tell that this person array contains only developers, but the type system doesn't say that. The type system says that persons array could contain an employee too, or a <code>new Person()</code>, and your comparator can't compare those, so that code does not compile.</p>\n<h2>An important note</h2>\n<p>Arrays and generics do not mix. Do not do this. Do not use arrays of non-primitive types. Use a <code>List&lt;Person&gt;</code> instead of a <code>Person[]</code>.</p>\n<h2>The common confusion about generics</h2>\n<p>You may be thinking: I have a list of persons. Actually, it's not JUST <code>new Person()</code>, it could be <code>new Developer()</code> too, so I want a <code>List&lt;? extends Person&gt;</code>, not a <code>List&lt;Person&gt;</code> right?</p>\n<p>No. You're missing that generics is one abstraction layer higher. A list that contains all of <code>new Person()</code>, <code>new Developer()</code>, and <code>new Employee()</code> <strong>is</strong> a <code>List&lt;Person&gt;</code>, not a <code>List&lt;? extends Person&gt;</code> - all developers are persons, after all! There is <em>no way</em> to express 'a list that contains only <code>new Person()</code> and not <code>new Developer()</code>.</p>\n<p>No, a <code>List&lt;? extends Person&gt;</code> expresses the idea that the list ITSELF is bound to contain Persons (which also means developers or employees, all mixed together, if you want), <em>OR</em> only developers, <em>OR</em> only employees. You're capturing the notion that you want this variable or parameter to allow containing any of <code>new ArrayList&lt;Person&gt;()</code>, <code>new ArrayList&lt;Developer&gt;()</code>, as well as <code>new ArrayList&lt;Employee&gt;()</code>, and restricts you to write only code that would work for all 3 of those.</p>\n<p>For example, a <code>List&lt;? extends Person&gt;</code> <strong>has no add method at all!!</strong> - or rather, it does, but there is NOTHING you could pass that wouldn't be a compiler error, except literally <code>list.add(null)</code> because <code>null</code> fits all types. After all, it COULD be a <code>List&lt;Employee&gt;</code>, and it COULD be a <code>List&lt;Developer&gt;</code>, and there isn't any object that can be both an employee and a developer at the same time, therefore, there is simply no way to add anything.</p>\n<p>This is great if you are writing a method that isn't going to add stuff anyway.</p>\n<p>Read up on <a href=\"https://www.baeldung.com/java-generics-pecs\" rel=\"nofollow noreferrer\">PECS</a>, that'll help.</p>\n"},{"tags":[],"owner":{"account_id":27503600,"reputation":84,"user_id":20986750,"display_name":"Marco Riccetti"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676929091,"creation_date":1676929091,"answer_id":75514373,"question_id":75514089,"body_markdown":" In truth, you cannot compare different classes, even if they belong to a hierarchy of classes, if each class does not have as many attributes as you want to use for sorting.\r\n\r\nA possible workaround would be to decide what happens if you compare an attribute with the fact that the attribute does not exist.\r\n\r\nOnce you have decided this, assume that any value of the attribute is greater than the absence of that attribute,\r\nwe could write an interface for the comparison to be implemented by classes done in the following way:\r\n\r\n    interface PersonComparable extends Comparable&lt;Person&gt; {\r\n        \r\n        int compareName(Person o);\r\n        \r\n        int compareAge(Person o);\r\n        \r\n        int compareSalary(Person o);\r\n        \r\n        int compareExperienceYears(Person o);\r\n        \r\n        default int&#160;compareTo(Person o) {\r\n            // use compareName(), compareAge()\r\n            // and so on ...\r\n        }\r\n        \r\n    }\r\n    \r\n    class Person implements MixComparable&lt;Person&gt; { \r\n      \r\n       private String name;\r\n       private int age; \r\n       \r\n       int compareName(Person o) { \r\n         // implementation for all\r\n       }\r\n        \r\n       int compareAge(Person o) {\r\n         // implementation for all\r\n       }\r\n       \r\n       int compareSalary(Person o) {\r\n           // no attribute\r\n           return null; // or something else\r\n       }\r\n        \r\n       int compareExperienceYears(Person o) {\r\n           // no attribute\r\n           return null; // or something else\r\n       }\r\n       \r\n    } \r\n    \r\n    class Employee extends Person {\r\n     \r\n       private double salary;\r\n       \r\n       int compareSalary(Person o) {\r\n           // implementation for all Employees\r\n           if(o instanceof Employee) {\r\n               // compare salary\r\n               ...\r\n           }\r\n           // else use o.compareSalary()\r\n       }\r\n       \r\n    } \r\n    \r\n    class Developer extends Employee { \r\n    \r\n       private double experienceYears; \r\n       \r\n       int compareExperienceYears(Person o) {\r\n           // implementation for all Developers\r\n           if(o instanceof Employee) {\r\n               // compare salary\r\n               ...\r\n           }\r\n           // else use o.compareExperienceYears() \r\n       }\r\n       \r\n    }\r\n\r\n","title":"How do I sort an array of multiple classes using comparators","body":"<p>In truth, you cannot compare different classes, even if they belong to a hierarchy of classes, if each class does not have as many attributes as you want to use for sorting.</p>\n<p>A possible workaround would be to decide what happens if you compare an attribute with the fact that the attribute does not exist.</p>\n<p>Once you have decided this, assume that any value of the attribute is greater than the absence of that attribute,\nwe could write an interface for the comparison to be implemented by classes done in the following way:</p>\n<pre><code>interface PersonComparable extends Comparable&lt;Person&gt; {\n    \n    int compareName(Person o);\n    \n    int compareAge(Person o);\n    \n    int compareSalary(Person o);\n    \n    int compareExperienceYears(Person o);\n    \n    default int compareTo(Person o) {\n        // use compareName(), compareAge()\n        // and so on ...\n    }\n    \n}\n\nclass Person implements MixComparable&lt;Person&gt; { \n  \n   private String name;\n   private int age; \n   \n   int compareName(Person o) { \n     // implementation for all\n   }\n    \n   int compareAge(Person o) {\n     // implementation for all\n   }\n   \n   int compareSalary(Person o) {\n       // no attribute\n       return null; // or something else\n   }\n    \n   int compareExperienceYears(Person o) {\n       // no attribute\n       return null; // or something else\n   }\n   \n} \n\nclass Employee extends Person {\n \n   private double salary;\n   \n   int compareSalary(Person o) {\n       // implementation for all Employees\n       if(o instanceof Employee) {\n           // compare salary\n           ...\n       }\n       // else use o.compareSalary()\n   }\n   \n} \n\nclass Developer extends Employee { \n\n   private double experienceYears; \n   \n   int compareExperienceYears(Person o) {\n       // implementation for all Developers\n       if(o instanceof Employee) {\n           // compare salary\n           ...\n       }\n       // else use o.compareExperienceYears() \n   }\n   \n}\n</code></pre>\n"}],"owner":{"account_id":25196975,"reputation":29,"user_id":19036367,"display_name":"no way"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":86,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75514268,"answer_count":2,"score":0,"last_activity_date":1676929091,"creation_date":1676926895,"question_id":75514089,"body_markdown":"I have multiple classes, each one extending the other:\r\n\r\n```java\r\nclass Person {\r\n    private String name;\r\n    private int age;\r\n}\r\n    \r\nclass Employee extends Person {\r\n    private double salary;\r\n}\r\n    \r\nclass Developer extends Employee {\r\n    private double experienceYears;\r\n}\r\n```\r\n\r\nAnd a comparator class for each of the classes, sorting first by name, then age and so on. How can I sort a single array, containing Persons, Employees and Developers, using these comparators? \r\n\r\nI tried using a sort method in a separate class like this:\r\n\r\n```java\r\nclass SortingUtil {\r\n    public static void sortPeople(Person[] array, Comparator&lt;T extends Person&gt; comparator) {\r\n        Arrays.sort(array, comparator);\r\n    }\r\n}\r\n```\r\n\r\nBut I seem to be making some mistake with generics and got stuck at this point.\r\n\r\n\r\nComparator classes are as follows:\r\n\r\n    class PersonComparator implements Comparator&lt;Person&gt;{\r\n    \r\n        @Override\r\n        public int compare(Person o1, Person o2) {\r\n            if(o1.getName().compareTo(o2.getName())!=0)\r\n                return o1.getName().compareTo(o2.getName());\r\n            else return o1.getAge() - o2.getAge();\r\n        }\r\n    }\r\n    \r\n    class EmployeeComparator implements Comparator&lt;Employee&gt;{\r\n        @Override\r\n        public int compare(Employee o1, Employee o2) {\r\n            if(o1.getName().compareTo(o2.getName())!=0)\r\n                return o1.getName().compareTo(o2.getName());\r\n            else if (o1.getAge() - o2.getAge()!=0)\r\n                return o1.getAge() - o2.getAge();\r\n            else return o1.getSalary() - o2.getSalary();\r\n        }\r\n    }\r\n    \r\n    class DeveloperComparator implements Comparator&lt;Developer&gt;{\r\n        @Override\r\n        public int compare(Developer o1, Developer o2) {\r\n            if(o1.getName().compareTo(o2.getName())!=0)\r\n                return o1.getName().compareTo(o2.getName());\r\n            else if (o1.getAge() - o2.getAge()!=0)\r\n                return o1.getAge() - o2.getAge();\r\n            else if (o1.getSalary() - o2.getSalary()!=0)\r\n                return o1.getSalary() - o2.getSalary();\r\n            return o1.getLevel().compareTo(o2.getLevel());\r\n        }\r\n    }\r\n\r\n","title":"How do I sort an array of multiple classes using comparators","body":"<p>I have multiple classes, each one extending the other:</p>\n<pre class=\"lang-java prettyprint-override\"><code>class Person {\n    private String name;\n    private int age;\n}\n    \nclass Employee extends Person {\n    private double salary;\n}\n    \nclass Developer extends Employee {\n    private double experienceYears;\n}\n</code></pre>\n<p>And a comparator class for each of the classes, sorting first by name, then age and so on. How can I sort a single array, containing Persons, Employees and Developers, using these comparators?</p>\n<p>I tried using a sort method in a separate class like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>class SortingUtil {\n    public static void sortPeople(Person[] array, Comparator&lt;T extends Person&gt; comparator) {\n        Arrays.sort(array, comparator);\n    }\n}\n</code></pre>\n<p>But I seem to be making some mistake with generics and got stuck at this point.</p>\n<p>Comparator classes are as follows:</p>\n<pre><code>class PersonComparator implements Comparator&lt;Person&gt;{\n\n    @Override\n    public int compare(Person o1, Person o2) {\n        if(o1.getName().compareTo(o2.getName())!=0)\n            return o1.getName().compareTo(o2.getName());\n        else return o1.getAge() - o2.getAge();\n    }\n}\n\nclass EmployeeComparator implements Comparator&lt;Employee&gt;{\n    @Override\n    public int compare(Employee o1, Employee o2) {\n        if(o1.getName().compareTo(o2.getName())!=0)\n            return o1.getName().compareTo(o2.getName());\n        else if (o1.getAge() - o2.getAge()!=0)\n            return o1.getAge() - o2.getAge();\n        else return o1.getSalary() - o2.getSalary();\n    }\n}\n\nclass DeveloperComparator implements Comparator&lt;Developer&gt;{\n    @Override\n    public int compare(Developer o1, Developer o2) {\n        if(o1.getName().compareTo(o2.getName())!=0)\n            return o1.getName().compareTo(o2.getName());\n        else if (o1.getAge() - o2.getAge()!=0)\n            return o1.getAge() - o2.getAge();\n        else if (o1.getSalary() - o2.getSalary()!=0)\n            return o1.getSalary() - o2.getSalary();\n        return o1.getLevel().compareTo(o2.getLevel());\n    }\n}\n</code></pre>\n"},{"tags":["java","postgresql","spring-boot","liquibase"],"comments":[{"owner":{"account_id":39574,"reputation":24267,"user_id":114226,"accept_rate":79,"display_name":"PeterMmm"},"score":0,"creation_date":1676929258,"post_id":75513677,"comment_id":133232571,"body_markdown":"Check databasechangelog table if your liquibase script was applied.","body":"Check databasechangelog table if your liquibase script was applied."},{"owner":{"account_id":27704306,"reputation":23,"user_id":21148295,"display_name":"dodek"},"score":0,"creation_date":1676930753,"post_id":75513677,"comment_id":133232895,"body_markdown":"@PeterMmm It was not applied.","body":"@PeterMmm It was not applied."},{"owner":{"account_id":881640,"reputation":4624,"user_id":266254,"accept_rate":47,"display_name":"bilak"},"score":0,"creation_date":1676981319,"post_id":75513677,"comment_id":133242558,"body_markdown":"did you included your changeSet in a new changelog file? If so did you added it somewhere to be loaded?","body":"did you included your changeSet in a new changelog file? If so did you added it somewhere to be loaded?"}],"owner":{"account_id":27704306,"reputation":23,"user_id":21148295,"display_name":"dodek"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":161,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676928909,"creation_date":1676923454,"question_id":75513677,"body_markdown":"In my `xml` file, I tried to create new column using `Liquibase` and when I use `CRUD` operations using the column I tried to create, I&#39;m getting the following error:\r\n\r\n```\r\norg.postgresql.util.PSQLException: ERROR: column e1_0.department does not exist\r\n  Position: 29\r\n\tat org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2676) ~[postgresql-42.5.1.jar:42.5.1]\r\n\tat org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2366) ~[postgresql-42.5.1.jar:42.5.1]\r\n\tat org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:356) ~[postgresql-42.5.1.jar:42.5.1]\r\n\tat org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:496) ~[postgresql-42.5.1.jar:42.5.1]\r\n\tat org.postgresql.jdbc.PgStatement.execute(PgStatement.java:413) ~[postgresql-42.5.1.jar:42.5.1]\r\n\tat org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:190) ~[postgresql-42.5.1.jar:42.5.1]\r\n\tat org.postgresql.jdbc.PgPreparedStatement.executeQuery(PgPreparedStatement.java:134) ~[postgresql-42.5.1.jar:42.5.1]\r\n\tat com.zaxxer.hikari.pool.ProxyPreparedStatement.executeQuery(ProxyPreparedStatement.java:52) ~[HikariCP-5.0.1.jar:na]\r\n\tat com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeQuery(HikariProxyPreparedStatement.java) ~[HikariCP-5.0.1.jar:na]\r\n\tat org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.executeQuery(DeferredResultSetAccess.java:217) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\r\n\tat org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.getResultSet(DeferredResultSetAccess.java:146) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\r\n\tat org.hibernate.sql.results.jdbc.internal.JdbcValuesResultSetImpl.advanceNext(JdbcValuesResultSetImpl.java:205) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\r\n\tat org.hibernate.sql.results.jdbc.internal.JdbcValuesResultSetImpl.processNext(JdbcValuesResultSetImpl.java:85) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\r\n\tat org.hibernate.sql.results.jdbc.internal.AbstractJdbcValues.next(AbstractJdbcValues.java:29) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\r\n\tat org.hibernate.sql.results.internal.RowProcessingStateStandardImpl.next(RowProcessingStateStandardImpl.java:88) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\r\n\tat org.hibernate.sql.results.spi.ListResultsConsumer.consume(ListResultsConsumer.java:197) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\r\n\tat org.hibernate.sql.results.spi.ListResultsConsumer.consume(ListResultsConsumer.java:33) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\r\n\tat org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.doExecuteQuery(JdbcSelectExecutorStandardImpl.java:443) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\r\n\tat org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.executeQuery(JdbcSelectExecutorStandardImpl.java:166) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\r\n\tat org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.list(JdbcSelectExecutorStandardImpl.java:91) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\r\n\tat org.hibernate.sql.exec.spi.JdbcSelectExecutor.list(JdbcSelectExecutor.java:31) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\r\n\tat org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.lambda$new$0(ConcreteSqmSelectQueryPlan.java:113) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\r\n\tat org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.withCacheableSqmInterpretation(ConcreteSqmSelectQueryPlan.java:335) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\r\n\tat org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.performList(ConcreteSqmSelectQueryPlan.java:276) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\r\n\tat org.hibernate.query.sqm.internal.QuerySqmImpl.doList(QuerySqmImpl.java:571) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\r\n\tat org.hibernate.query.spi.AbstractSelectionQuery.list(AbstractSelectionQuery.java:363) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\r\n\tat org.hibernate.query.sqm.internal.QuerySqmImpl.list(QuerySqmImpl.java:1073) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\r\n\tat org.hibernate.query.Query.getResultList(Query.java:94) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\r\n\tat org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll(SimpleJpaRepository.java:405) ~[spring-data-jpa-3.0.1.jar:3.0.1]\r\n\tat org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll(SimpleJpaRepository.java:90) ~[spring-data-jpa-3.0.1.jar:3.0.1]\r\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:578) ~[na:na]\r\n\tat org.springframework.data.repository.core.support.RepositoryMethodInvoker$RepositoryFragmentMethodInvoker.lambda$new$0(RepositoryMethodInvoker.java:288) ~[spring-data-commons-3.0.1.jar:3.0.1]\r\n\tat org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:136) ~[spring-data-commons-3.0.1.jar:3.0.1]\r\n\tat org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:120) ~[spring-data-commons-3.0.1.jar:3.0.1]\r\n\tat org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments.invoke(RepositoryComposition.java:516) ~[spring-data-commons-3.0.1.jar:3.0.1]\r\n\tat org.springframework.data.repository.core.support.RepositoryComposition.invoke(RepositoryComposition.java:285) ~[spring-data-commons-3.0.1.jar:3.0.1]\r\n\tat org.springframework.data.repository.core.support.RepositoryFactorySupport$ImplementationMethodExecutionInterceptor.invoke(RepositoryFactorySupport.java:628) ~[spring-data-commons-3.0.1.jar:3.0.1]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.4.jar:6.0.4]\r\n\tat org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:168) ~[spring-data-commons-3.0.1.jar:3.0.1]\r\n\tat org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:143) ~[spring-data-commons-3.0.1.jar:3.0.1]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.4.jar:6.0.4]\r\n\tat org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-6.0.4.jar:6.0.4]\r\n\tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-6.0.4.jar:6.0.4]\r\n\tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.0.4.jar:6.0.4]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.4.jar:6.0.4]\r\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137) ~[spring-tx-6.0.4.jar:6.0.4]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.4.jar:6.0.4]\r\n\tat org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:163) ~[spring-data-jpa-3.0.1.jar:3.0.1]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.4.jar:6.0.4]\r\n\tat org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97) ~[spring-aop-6.0.4.jar:6.0.4]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.4.jar:6.0.4]\r\n\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:218) ~[spring-aop-6.0.4.jar:6.0.4]\r\n\tat jdk.proxy4/jdk.proxy4.$Proxy114.findAll(Unknown Source) ~[na:na]\r\n\tat com.example.ems.service.EmployeeServiceImpl.getAllEmployees(EmployeeServiceImpl.java:28) ~[classes/:na]\r\n\tat com.example.ems.web.EmployeeController.getAllEmployees(EmployeeController.java:29) ~[classes/:na]\r\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:578) ~[na:na]\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:207) ~[spring-web-6.0.4.jar:6.0.4]\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:152) ~[spring-web-6.0.4.jar:6.0.4]\r\n\tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117) ~[spring-webmvc-6.0.4.jar:6.0.4]\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:884) ~[spring-webmvc-6.0.4.jar:6.0.4]\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797) ~[spring-webmvc-6.0.4.jar:6.0.4]\r\n\tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.0.4.jar:6.0.4]\r\n\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1080) ~[spring-webmvc-6.0.4.jar:6.0.4]\r\n\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:973) ~[spring-webmvc-6.0.4.jar:6.0.4]\r\n\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1011) ~[spring-webmvc-6.0.4.jar:6.0.4]\r\n\tat org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903) ~[spring-webmvc-6.0.4.jar:6.0.4]\r\n\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:705) ~[tomcat-embed-core-10.1.5.jar:6.0]\r\n\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.0.4.jar:6.0.4]\r\n\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:814) ~[tomcat-embed-core-10.1.5.jar:6.0]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:223) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\r\n\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-10.1.5.jar:10.1.5]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\r\n\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.0.4.jar:6.0.4]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.4.jar:6.0.4]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\r\n\tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.0.4.jar:6.0.4]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.4.jar:6.0.4]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\r\n\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.0.4.jar:6.0.4]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.4.jar:6.0.4]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\r\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:177) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\r\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\r\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\r\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:119) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\r\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\r\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\r\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\r\n\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:400) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\r\n\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\r\n\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:859) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\r\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1734) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\r\n\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\r\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\r\n\tat java.base/java.lang.Thread.run(Thread.java:1589) ~[na:na]\r\n```\r\nxml code i used to create new column:\r\n&gt; ```\r\n&gt; &lt;changeSet author=&quot;me&quot; id=&quot;employee-4&quot;&gt;\r\n&gt;     &lt;addColumn\r\n&gt;                schemaName= &quot;public&quot;\r\n&gt;                tableName=&quot;employee&quot; &gt;\r\n&gt;         &lt;column name=&quot;department&quot;\r\n&gt;                 type=&quot;varchar(50)&quot;/&gt;\r\n&gt;     &lt;/addColumn&gt;\r\n&gt; &lt;/changeSet&gt;\r\n\r\nPOJO class: \r\n\r\n    @Data\r\n    @AllArgsConstructor\r\n    @NoArgsConstructor\r\n    @Entity\r\n    @Table(name=&quot;employee&quot;)\r\n    public class Employee {\r\n    @Id\r\n    @Column(name = &quot;id&quot;)\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long id;\r\n    @Column(name =&quot;name&quot;, nullable = false)\r\n    private String name;\r\n    @Column(name =&quot;address&quot;, nullable = false)\r\n    private String address;\r\n    @Column(name =&quot;phone_number&quot;, nullable = false)\r\n    private String phoneNumber;\r\n    @Column(name =&quot;email&quot;, nullable = false)\r\n    private String email;\r\n    @Column(name =&quot;job_title&quot;, nullable = false)\r\n    private String jobTitle;\r\n    @Column(name =&quot;salary&quot;, nullable = false)\r\n    private BigDecimal salary;\r\n    @Column(name =&quot;department&quot;, nullable = false)\r\n    private String department;\r\n\r\n\r\nThe weird thing I noticed is that &quot;e10.*&quot;* is, for some reason, being added to my &quot;department&quot; column I tried to create. \r\n\r\nI also tried to manually rename my &quot;department&quot; column to &quot;e1_0.department&quot;, \r\n\r\nand I got:\r\n\r\n`&quot;org.postgresql.util.PSQLException: ERROR: column e1_0.e1_0_department does not exist&quot;`.\r\n\r\nAdditional info: \r\n\r\nI&#39;m using Spring Boot `3.0.2` with Java `19` and Postgres db. Liquibase version: `4.19.0`.\r\n\r\nAny advice?","title":"Unable to create new column using Liquibase","body":"<p>In my <code>xml</code> file, I tried to create new column using <code>Liquibase</code> and when I use <code>CRUD</code> operations using the column I tried to create, I'm getting the following error:</p>\n<pre><code>org.postgresql.util.PSQLException: ERROR: column e1_0.department does not exist\n  Position: 29\n    at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2676) ~[postgresql-42.5.1.jar:42.5.1]\n    at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2366) ~[postgresql-42.5.1.jar:42.5.1]\n    at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:356) ~[postgresql-42.5.1.jar:42.5.1]\n    at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:496) ~[postgresql-42.5.1.jar:42.5.1]\n    at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:413) ~[postgresql-42.5.1.jar:42.5.1]\n    at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:190) ~[postgresql-42.5.1.jar:42.5.1]\n    at org.postgresql.jdbc.PgPreparedStatement.executeQuery(PgPreparedStatement.java:134) ~[postgresql-42.5.1.jar:42.5.1]\n    at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeQuery(ProxyPreparedStatement.java:52) ~[HikariCP-5.0.1.jar:na]\n    at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeQuery(HikariProxyPreparedStatement.java) ~[HikariCP-5.0.1.jar:na]\n    at org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.executeQuery(DeferredResultSetAccess.java:217) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\n    at org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.getResultSet(DeferredResultSetAccess.java:146) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\n    at org.hibernate.sql.results.jdbc.internal.JdbcValuesResultSetImpl.advanceNext(JdbcValuesResultSetImpl.java:205) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\n    at org.hibernate.sql.results.jdbc.internal.JdbcValuesResultSetImpl.processNext(JdbcValuesResultSetImpl.java:85) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\n    at org.hibernate.sql.results.jdbc.internal.AbstractJdbcValues.next(AbstractJdbcValues.java:29) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\n    at org.hibernate.sql.results.internal.RowProcessingStateStandardImpl.next(RowProcessingStateStandardImpl.java:88) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\n    at org.hibernate.sql.results.spi.ListResultsConsumer.consume(ListResultsConsumer.java:197) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\n    at org.hibernate.sql.results.spi.ListResultsConsumer.consume(ListResultsConsumer.java:33) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\n    at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.doExecuteQuery(JdbcSelectExecutorStandardImpl.java:443) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\n    at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.executeQuery(JdbcSelectExecutorStandardImpl.java:166) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\n    at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.list(JdbcSelectExecutorStandardImpl.java:91) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\n    at org.hibernate.sql.exec.spi.JdbcSelectExecutor.list(JdbcSelectExecutor.java:31) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\n    at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.lambda$new$0(ConcreteSqmSelectQueryPlan.java:113) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\n    at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.withCacheableSqmInterpretation(ConcreteSqmSelectQueryPlan.java:335) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\n    at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.performList(ConcreteSqmSelectQueryPlan.java:276) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\n    at org.hibernate.query.sqm.internal.QuerySqmImpl.doList(QuerySqmImpl.java:571) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\n    at org.hibernate.query.spi.AbstractSelectionQuery.list(AbstractSelectionQuery.java:363) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\n    at org.hibernate.query.sqm.internal.QuerySqmImpl.list(QuerySqmImpl.java:1073) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\n    at org.hibernate.query.Query.getResultList(Query.java:94) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\n    at org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll(SimpleJpaRepository.java:405) ~[spring-data-jpa-3.0.1.jar:3.0.1]\n    at org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll(SimpleJpaRepository.java:90) ~[spring-data-jpa-3.0.1.jar:3.0.1]\n    at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:578) ~[na:na]\n    at org.springframework.data.repository.core.support.RepositoryMethodInvoker$RepositoryFragmentMethodInvoker.lambda$new$0(RepositoryMethodInvoker.java:288) ~[spring-data-commons-3.0.1.jar:3.0.1]\n    at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:136) ~[spring-data-commons-3.0.1.jar:3.0.1]\n    at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:120) ~[spring-data-commons-3.0.1.jar:3.0.1]\n    at org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments.invoke(RepositoryComposition.java:516) ~[spring-data-commons-3.0.1.jar:3.0.1]\n    at org.springframework.data.repository.core.support.RepositoryComposition.invoke(RepositoryComposition.java:285) ~[spring-data-commons-3.0.1.jar:3.0.1]\n    at org.springframework.data.repository.core.support.RepositoryFactorySupport$ImplementationMethodExecutionInterceptor.invoke(RepositoryFactorySupport.java:628) ~[spring-data-commons-3.0.1.jar:3.0.1]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.4.jar:6.0.4]\n    at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:168) ~[spring-data-commons-3.0.1.jar:3.0.1]\n    at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:143) ~[spring-data-commons-3.0.1.jar:3.0.1]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.4.jar:6.0.4]\n    at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-6.0.4.jar:6.0.4]\n    at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-6.0.4.jar:6.0.4]\n    at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.0.4.jar:6.0.4]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.4.jar:6.0.4]\n    at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137) ~[spring-tx-6.0.4.jar:6.0.4]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.4.jar:6.0.4]\n    at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:163) ~[spring-data-jpa-3.0.1.jar:3.0.1]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.4.jar:6.0.4]\n    at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97) ~[spring-aop-6.0.4.jar:6.0.4]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.4.jar:6.0.4]\n    at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:218) ~[spring-aop-6.0.4.jar:6.0.4]\n    at jdk.proxy4/jdk.proxy4.$Proxy114.findAll(Unknown Source) ~[na:na]\n    at com.example.ems.service.EmployeeServiceImpl.getAllEmployees(EmployeeServiceImpl.java:28) ~[classes/:na]\n    at com.example.ems.web.EmployeeController.getAllEmployees(EmployeeController.java:29) ~[classes/:na]\n    at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:578) ~[na:na]\n    at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:207) ~[spring-web-6.0.4.jar:6.0.4]\n    at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:152) ~[spring-web-6.0.4.jar:6.0.4]\n    at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117) ~[spring-webmvc-6.0.4.jar:6.0.4]\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:884) ~[spring-webmvc-6.0.4.jar:6.0.4]\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797) ~[spring-webmvc-6.0.4.jar:6.0.4]\n    at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.0.4.jar:6.0.4]\n    at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1080) ~[spring-webmvc-6.0.4.jar:6.0.4]\n    at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:973) ~[spring-webmvc-6.0.4.jar:6.0.4]\n    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1011) ~[spring-webmvc-6.0.4.jar:6.0.4]\n    at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903) ~[spring-webmvc-6.0.4.jar:6.0.4]\n    at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:705) ~[tomcat-embed-core-10.1.5.jar:6.0]\n    at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.0.4.jar:6.0.4]\n    at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:814) ~[tomcat-embed-core-10.1.5.jar:6.0]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:223) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\n    at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-10.1.5.jar:10.1.5]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\n    at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.0.4.jar:6.0.4]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.4.jar:6.0.4]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\n    at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.0.4.jar:6.0.4]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.4.jar:6.0.4]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\n    at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.0.4.jar:6.0.4]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.4.jar:6.0.4]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:177) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:119) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:400) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:859) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1734) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\n    at java.base/java.lang.Thread.run(Thread.java:1589) ~[na:na]\n</code></pre>\n<p>xml code i used to create new column:</p>\n<blockquote>\n<pre><code>&lt;changeSet author=&quot;me&quot; id=&quot;employee-4&quot;&gt;\n    &lt;addColumn\n               schemaName= &quot;public&quot;\n               tableName=&quot;employee&quot; &gt;\n        &lt;column name=&quot;department&quot;\n                type=&quot;varchar(50)&quot;/&gt;\n    &lt;/addColumn&gt;\n&lt;/changeSet&gt;\n</code></pre>\n</blockquote>\n<p>POJO class:</p>\n<pre><code>@Data\n@AllArgsConstructor\n@NoArgsConstructor\n@Entity\n@Table(name=&quot;employee&quot;)\npublic class Employee {\n@Id\n@Column(name = &quot;id&quot;)\n@GeneratedValue(strategy = GenerationType.IDENTITY)\nprivate Long id;\n@Column(name =&quot;name&quot;, nullable = false)\nprivate String name;\n@Column(name =&quot;address&quot;, nullable = false)\nprivate String address;\n@Column(name =&quot;phone_number&quot;, nullable = false)\nprivate String phoneNumber;\n@Column(name =&quot;email&quot;, nullable = false)\nprivate String email;\n@Column(name =&quot;job_title&quot;, nullable = false)\nprivate String jobTitle;\n@Column(name =&quot;salary&quot;, nullable = false)\nprivate BigDecimal salary;\n@Column(name =&quot;department&quot;, nullable = false)\nprivate String department;\n</code></pre>\n<p>The weird thing I noticed is that &quot;e10.<em>&quot;</em> is, for some reason, being added to my &quot;department&quot; column I tried to create.</p>\n<p>I also tried to manually rename my &quot;department&quot; column to &quot;e1_0.department&quot;,</p>\n<p>and I got:</p>\n<p><code>&quot;org.postgresql.util.PSQLException: ERROR: column e1_0.e1_0_department does not exist&quot;</code>.</p>\n<p>Additional info:</p>\n<p>I'm using Spring Boot <code>3.0.2</code> with Java <code>19</code> and Postgres db. Liquibase version: <code>4.19.0</code>.</p>\n<p>Any advice?</p>\n"},{"tags":["java","swing","jframe"],"comments":[{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":0,"creation_date":1399981504,"post_id":23630197,"comment_id":36283405,"body_markdown":"Works for me on Mac OS X using this [example](http://stackoverflow.com/a/3245805/230513).","body":"Works for me on Mac OS X using this <a href=\"http://stackoverflow.com/a/3245805/230513\">example</a>."},{"owner":{"account_id":2770143,"reputation":1667,"user_id":2384902,"accept_rate":83,"display_name":"TinusSky"},"score":0,"creation_date":1399985619,"post_id":23630197,"comment_id":36286307,"body_markdown":"The example you are referring to doesn&#39;t illustrate any checks on how to see if a frame is visible in front of another program. See my question for more information","body":"The example you are referring to doesn&#39;t illustrate any checks on how to see if a frame is visible in front of another program. See my question for more information"},{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":0,"creation_date":1399985937,"post_id":23630197,"comment_id":36286539,"body_markdown":"Please define _really_ in this context. In the dock (similar to task bar), I see a checkmark next to the frontmost frame.","body":"Please define <i>really</i> in this context. In the dock (similar to task bar), I see a checkmark next to the frontmost frame."}],"answers":[{"tags":[],"owner":{"account_id":368268,"reputation":109587,"user_id":714968,"accept_rate":90,"display_name":"mKorbel"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1676928698,"creation_date":1399981784,"answer_id":23630460,"question_id":23630197,"body_markdown":"- use `windowGainedFocus`/`LostFocus` from [WindowFocusListener][1]\r\n\r\n- loop in an array of  `Window[] wins = Window.getWindows();`, returns all [Top-Level Containers][2] in the current JVM \r\n \r\n- be sure that in loop by test `if (wins[i] instanceof JFrame) {` (or `JDialog`/`JWindow` ...)\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/awt/event/WindowFocusListener.html\r\n  [2]: http://docs.oracle.com/javase/tutorial/uiswing/components/toplevel.html","title":"Check if a JFrame is visible (another program is not in front of it)","body":"<ul>\n<li><p>use <code>windowGainedFocus</code>/<code>LostFocus</code> from <a href=\"http://docs.oracle.com/javase/7/docs/api/java/awt/event/WindowFocusListener.html\" rel=\"nofollow noreferrer\">WindowFocusListener</a></p>\n</li>\n<li><p>loop in an array of  <code>Window[] wins = Window.getWindows();</code>, returns all <a href=\"http://docs.oracle.com/javase/tutorial/uiswing/components/toplevel.html\" rel=\"nofollow noreferrer\">Top-Level Containers</a> in the current JVM</p>\n</li>\n<li><p>be sure that in loop by test <code>if (wins[i] instanceof JFrame) {</code> (or <code>JDialog</code>/<code>JWindow</code> ...)</p>\n</li>\n</ul>\n"}],"owner":{"account_id":2770143,"reputation":1667,"user_id":2384902,"accept_rate":83,"display_name":"TinusSky"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1048,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1676928698,"creation_date":1399981039,"question_id":23630197,"body_markdown":"I have a Java swing program consisting of many JFrames, I know not the best design, but it does the job.\r\n\r\nIf I open another program, for example Firefox, and maximize that window, my JFrames are not visible.\r\n\r\nNow when I click the button on the window taskbar of one of my JFrames the JFrame popups up.\r\n\r\nWhen this JFrame popups up I need check if one of my other JFrames are visible, I mean are in front of Firefox window.\r\n\r\nI tried `isVisible()`, `isShowing()` and `isDisplayable()`, but they always return true even when the JFrame is below the Firefox window. That makes sense when reading the Java documentation.\r\n\r\nBut I can&#39;t seem to find a method to tells me if my JFrame is _really_ visible in front of the Firefox window. \r\n\r\nIt puzzles me.\r\n\r\nA JFrame covered by Firefox has the following properties:\r\n\r\n\t14:50:08,129 DEBUG            DrawFrame - isVisible: true\r\n\t14:50:08,129 DEBUG            DrawFrame - isDisplayable: true\r\n\t14:50:08,129 DEBUG            DrawFrame - isShowing: true\r\n\r\n\r\nJust to explain my goal: I have multiple JFrames and when I click one specific JFrame button on the window taskbar I want to check if another JFrame is visible for the user. If it is not visible for the user (for example when covered by another program) than I want to make it visible. Making it visible is simple: WindowListener windowActivated and call toFront on the not visible frame, but of course this causes a loop when the other JFrame is activated again (calling windowActivated &gt; toFront &gt; windowActivated &gt; toFront, and so on). That is why I need to check the visibility before calling the toFront method.\r\n\r\nI&#39;m not aware of a function in Java to check if a window is visible for the user, so [going native](https://stackoverflow.com/questions/3188484/windows-how-to-get-a-list-of-all-visible-windows) may be the only solution.\r\n\r\n","title":"Check if a JFrame is visible (another program is not in front of it)","body":"<p>I have a Java swing program consisting of many JFrames, I know not the best design, but it does the job.</p>\n<p>If I open another program, for example Firefox, and maximize that window, my JFrames are not visible.</p>\n<p>Now when I click the button on the window taskbar of one of my JFrames the JFrame popups up.</p>\n<p>When this JFrame popups up I need check if one of my other JFrames are visible, I mean are in front of Firefox window.</p>\n<p>I tried <code>isVisible()</code>, <code>isShowing()</code> and <code>isDisplayable()</code>, but they always return true even when the JFrame is below the Firefox window. That makes sense when reading the Java documentation.</p>\n<p>But I can't seem to find a method to tells me if my JFrame is <em>really</em> visible in front of the Firefox window.</p>\n<p>It puzzles me.</p>\n<p>A JFrame covered by Firefox has the following properties:</p>\n<pre><code>14:50:08,129 DEBUG            DrawFrame - isVisible: true\n14:50:08,129 DEBUG            DrawFrame - isDisplayable: true\n14:50:08,129 DEBUG            DrawFrame - isShowing: true\n</code></pre>\n<p>Just to explain my goal: I have multiple JFrames and when I click one specific JFrame button on the window taskbar I want to check if another JFrame is visible for the user. If it is not visible for the user (for example when covered by another program) than I want to make it visible. Making it visible is simple: WindowListener windowActivated and call toFront on the not visible frame, but of course this causes a loop when the other JFrame is activated again (calling windowActivated &gt; toFront &gt; windowActivated &gt; toFront, and so on). That is why I need to check the visibility before calling the toFront method.</p>\n<p>I'm not aware of a function in Java to check if a window is visible for the user, so <a href=\"https://stackoverflow.com/questions/3188484/windows-how-to-get-a-list-of-all-visible-windows\">going native</a> may be the only solution.</p>\n"},{"tags":["java","swing","jframe","screen","visible"],"comments":[{"owner":{"account_id":9760,"reputation":85859,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":0,"creation_date":1613852393,"post_id":66296002,"comment_id":117206241,"body_markdown":"This would require an operating system API since non-Java windows could obscure your frame.  Search on `java windows z-order` and you&#39;ll see that it&#39;s generally not possible even _within_ a single Java GUI app.","body":"This would require an operating system API since non-Java windows could obscure your frame.  Search on <code>java windows z-order</code> and you&#39;ll see that it&#39;s generally not possible even <i>within</i> a single Java GUI app."},{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":1,"creation_date":1613854383,"post_id":66296002,"comment_id":117206777,"body_markdown":"Any extra information, or alternative approaches to the problem you see here, should be integrated into the original question. This is now closed as a duplicate of that one.","body":"Any extra information, or alternative approaches to the problem you see here, should be integrated into the original question. This is now closed as a duplicate of that one."},{"owner":{"account_id":3273747,"reputation":20856,"user_id":2756409,"accept_rate":100,"display_name":"TylerH"},"score":0,"creation_date":1676929106,"post_id":66296002,"comment_id":133232535,"body_markdown":"Please note the original duplicate target was deleted, and was just minutes ago edited by a moderator to point to another non-deleted target.","body":"Please note the original duplicate target was deleted, and was just minutes ago edited by a moderator to point to another non-deleted target."}],"owner":{"account_id":7241428,"reputation":61,"user_id":5524891,"display_name":"Bate"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":228,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1613854294,"answer_count":0,"score":1,"last_activity_date":1676928614,"creation_date":1613851239,"question_id":66296002,"body_markdown":"I have a custom Java Swing application that displays its content in two separate and independent `JFrames`. How can I determine if one of my frames - or any displayable Java component in gereneral - is actually really visible on screen? I am speaking of &quot;real visibility&quot; in the meaning that I can actually see it.\r\n\r\n**Example**: my application has been made visible using `setVisible(true)`, but when I move any other window or application in front of my application, it gets hidden behind that new window and I am no longer able to see it.\r\n\r\nI have used: `frame.isVisible()`, `frame.isShowing()` and `frame.isDisplayable()`. \r\n\r\nAll three evaluate to `true` no matter if my `JFrame` is actually visible on top of the screen, minimized in the task bar or hidden behind any other window.","title":"Java: determine visibility of JFrame on screen","body":"<p>I have a custom Java Swing application that displays its content in two separate and independent <code>JFrames</code>. How can I determine if one of my frames - or any displayable Java component in gereneral - is actually really visible on screen? I am speaking of &quot;real visibility&quot; in the meaning that I can actually see it.</p>\n<p><strong>Example</strong>: my application has been made visible using <code>setVisible(true)</code>, but when I move any other window or application in front of my application, it gets hidden behind that new window and I am no longer able to see it.</p>\n<p>I have used: <code>frame.isVisible()</code>, <code>frame.isShowing()</code> and <code>frame.isDisplayable()</code>.</p>\n<p>All three evaluate to <code>true</code> no matter if my <code>JFrame</code> is actually visible on top of the screen, minimized in the task bar or hidden behind any other window.</p>\n"},{"tags":["java","websocket","client-server","user-input","user-interaction"],"comments":[{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1676936900,"post_id":75514307,"comment_id":133233948,"body_markdown":"Your Question is too broad for Stack Overflow. This site is for narrowly focused questions on a specific technical issue, while avoiding long-winded or open-ended discussions. (But I will mention that your needs sound like a match for [*Vaadin Flow*](https://en.wikipedia.org/wiki/Vaadin#Vaadin_Flow_(Java_API)). You write entire web app in Java, executing server-side. **Vaadin automatically generates the HTML, CSS, JavaScript, &amp; WebSockets** code to remotely draw user-interface within the web browser. On server-side, call your Java libraries or REST services, no client browser involved.)","body":"Your Question is too broad for Stack Overflow. This site is for narrowly focused questions on a specific technical issue, while avoiding long-winded or open-ended discussions. (But I will mention that your needs sound like a match for <a href=\"https://en.wikipedia.org/wiki/Vaadin#Vaadin_Flow_(Java_API)\" rel=\"nofollow noreferrer\"><i>Vaadin Flow</i></a>. You write entire web app in Java, executing server-side. <b>Vaadin automatically generates the HTML, CSS, JavaScript, &amp; WebSockets</b> code to remotely draw user-interface within the web browser. On server-side, call your Java libraries or REST services, no client browser involved.)"}],"owner":{"account_id":27835862,"reputation":1,"user_id":21253322,"display_name":"drake76722"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676928490,"creation_date":1676928490,"question_id":75514307,"body_markdown":"Background: \r\nAt work I was tasked with developing a new demo web client to replace our Windows Form application in the future. Our back-end is developed in Java and works stateless as REST services. The demo client should be based on Angular as we want to try out some things first. Both I and other developers already have expertise there. Whereby other web future oriented frameworks are also welcome. \r\n\r\nProblem:\r\nThe migration to a new client is no problem and no challenge. However, there are one or two problems and challenges. We have a couple of functions that require a lot of processing power but these functions are executed on the client side. In the future this should no longer be the case but happen in the backend. So far so good BUT these algorithms start with various start parameters and execute certain logic. In the course via. Dialogs various new input parameters are needed or information messages are displayed.  So the program or these function(s) wait for the user input before continuing. (These do not run in their own thread btw). The whole thing should now be outsourced to the backend. \r\nHere the question arises how something like this could be implemented. Since our current architecture does not allow such a thing (REST).\r\n\r\nWe have already briefly looked at WebSockets as this seems to be the way-to-go to realize something like this. Just a fixed connection between client and server to communicate and not as currently stateless within closed requests and responses.\r\n\r\nIs this even possible? We don&#39;t really know where to start right now, because every online example for WebSockets implementation (in Java) do not really seem to fit our needs.\r\n\r\nSo basically we need something like this:\r\n\r\n[Flowchart](https://i.stack.imgur.com/qeGiI.png)\r\n\r\nAny help, feedback and ideas are welcome.\r\n\r\nThanks\r\n\r\nWebSockets examples, is this even the right technology for this?","title":"Client-Server-Architecture: Move computation logic from client to backend - Algorithm needs certain new values while running (User input) and continue","body":"<p>Background:\nAt work I was tasked with developing a new demo web client to replace our Windows Form application in the future. Our back-end is developed in Java and works stateless as REST services. The demo client should be based on Angular as we want to try out some things first. Both I and other developers already have expertise there. Whereby other web future oriented frameworks are also welcome.</p>\n<p>Problem:\nThe migration to a new client is no problem and no challenge. However, there are one or two problems and challenges. We have a couple of functions that require a lot of processing power but these functions are executed on the client side. In the future this should no longer be the case but happen in the backend. So far so good BUT these algorithms start with various start parameters and execute certain logic. In the course via. Dialogs various new input parameters are needed or information messages are displayed.  So the program or these function(s) wait for the user input before continuing. (These do not run in their own thread btw). The whole thing should now be outsourced to the backend.\nHere the question arises how something like this could be implemented. Since our current architecture does not allow such a thing (REST).</p>\n<p>We have already briefly looked at WebSockets as this seems to be the way-to-go to realize something like this. Just a fixed connection between client and server to communicate and not as currently stateless within closed requests and responses.</p>\n<p>Is this even possible? We don't really know where to start right now, because every online example for WebSockets implementation (in Java) do not really seem to fit our needs.</p>\n<p>So basically we need something like this:</p>\n<p><a href=\"https://i.stack.imgur.com/qeGiI.png\" rel=\"nofollow noreferrer\">Flowchart</a></p>\n<p>Any help, feedback and ideas are welcome.</p>\n<p>Thanks</p>\n<p>WebSockets examples, is this even the right technology for this?</p>\n"},{"tags":["java","spring","spring-boot","api","spring-data-jpa"],"answers":[{"tags":[],"owner":{"account_id":477214,"reputation":5260,"user_id":888580,"display_name":"lane.maxwell"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676924363,"creation_date":1676923994,"answer_id":75513740,"question_id":75513573,"body_markdown":"The error is in your payload.  Category is a UUID, so it needs to be sent as such.\r\n\r\n    {\r\n      &quot;product&quot;: &quot;iPhone XL 17 64gb&quot;,\r\n      &quot;description&quot;: &quot;The new iPhone&quot;,\r\n      &quot;price&quot;: 15000.68,\r\n      &quot;stock&quot;: 34,\r\n      &quot;category&quot;: &quot;afff7473-7946-4ebd-afe2-d0c118cf5df8&quot; \r\n    }\r\n\r\nAlso, just a side note.  You&#39;re using a Float to represent what looks like monetary values.  Do not do this; you&#39;re going to run into issues the more you add, subtract, multiply, and divide this value.  Instead, use BigDecimal for these values.","title":"Error storing object in &quot;ManyToOne&quot; value in spring boot (Java)","body":"<p>The error is in your payload.  Category is a UUID, so it needs to be sent as such.</p>\n<pre><code>{\n  &quot;product&quot;: &quot;iPhone XL 17 64gb&quot;,\n  &quot;description&quot;: &quot;The new iPhone&quot;,\n  &quot;price&quot;: 15000.68,\n  &quot;stock&quot;: 34,\n  &quot;category&quot;: &quot;afff7473-7946-4ebd-afe2-d0c118cf5df8&quot; \n}\n</code></pre>\n<p>Also, just a side note.  You're using a Float to represent what looks like monetary values.  Do not do this; you're going to run into issues the more you add, subtract, multiply, and divide this value.  Instead, use BigDecimal for these values.</p>\n"},{"tags":[],"owner":{"account_id":16092544,"reputation":822,"user_id":11615575,"display_name":"Andrei Manolache"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676924180,"creation_date":1676924180,"answer_id":75513766,"question_id":75513573,"body_markdown":"Category should be an object dto, not a UUID. For example:\r\n\r\n    public class CategoryDto {\r\n        \r\n    private UUID id;\r\n        \r\n        //getter setter\r\n        }\r\n\r\nAnd the ProductDto obiect would have \r\n\r\n    public class ProductDto {\r\n    \r\n    // rest of the fields \r\n    \r\n    private CategoryDto category;\r\n    \r\n    }","title":"Error storing object in &quot;ManyToOne&quot; value in spring boot (Java)","body":"<p>Category should be an object dto, not a UUID. For example:</p>\n<pre><code>public class CategoryDto {\n    \nprivate UUID id;\n    \n    //getter setter\n    }\n</code></pre>\n<p>And the ProductDto obiect would have</p>\n<pre><code>public class ProductDto {\n\n// rest of the fields \n\nprivate CategoryDto category;\n\n}\n</code></pre>\n"}],"owner":{"account_id":21274254,"reputation":407,"user_id":15653306,"display_name":"Routfin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":85,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1676927832,"creation_date":1676922630,"question_id":75513573,"body_markdown":"I have a product model with a &quot;category&quot; column, which references the &quot;category&quot; model by\r\n@ManyToOne. When making the body request in my postman, like for example\r\n\r\n```\r\n{\r\n    &quot;product&quot;: &quot;iPhone XL 17 64gb&quot;,\r\n    &quot;description&quot;: &quot;The new iphone&quot;,\r\n    &quot;price&quot;: 15000.68,\r\n    &quot;stock&quot;: 34,\r\n    &quot;category&quot;: {\r\n        &quot;id&quot;: &quot;afff7473-7946-4ebd-afe2-d0c118cf5df8&quot; \r\n    }\r\n}\r\n```\r\n\r\na status 400 error occurs followed by the console error:\r\n\r\n\r\n```\r\n.w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.http.converter.HttpMessageNotReadableException: JSON parse error: Cannot deserialize value of type `java.util.UUID` from Object value (token `JsonToken.START_OBJECT`)]\r\n```\r\n\r\nI believe the problem is in the DTO of my product, but I don&#39;t know what could be done wrong\r\n\r\nproductDto\r\n\r\n```\r\npackage com.api.business_products_management.dtos;\r\n\r\nimport jakarta.validation.constraints.DecimalMin;\r\nimport jakarta.validation.constraints.Min;\r\nimport jakarta.validation.constraints.NotBlank;\r\nimport jakarta.validation.constraints.NotNull;\r\n\r\nimport java.util.UUID;\r\n\r\npublic class ProductDto {\r\n    @NotBlank\r\n    private String product;\r\n\r\n    @NotBlank\r\n    private String description;\r\n\r\n    @DecimalMin(value = &quot;0.01&quot;, inclusive = true)\r\n    private Float price;\r\n\r\n    @NotNull\r\n    @Min(value = 0, message = &quot;Stock must be at least {value}&quot;)\r\n    private Integer stock;\r\n\r\n    @NotNull\r\n    private UUID category;\r\n\r\n    public String getProduct() {\r\n        return product;\r\n    }\r\n\r\n    public void setProduct(String product) {\r\n        this.product = product;\r\n    }\r\n\r\n    public String getDescription() {\r\n        return description;\r\n    }\r\n\r\n    public void setDescription(String description) {\r\n        this.description = description;\r\n    }\r\n\r\n    public Float getPrice() {\r\n        return price;\r\n    }\r\n\r\n    public void setPrice(Float price) {\r\n        this.price = price;\r\n    }\r\n\r\n    public Integer getStock() {\r\n        return stock;\r\n    }\r\n\r\n    public void setStock(Integer stock) {\r\n        this.stock = stock;\r\n    }\r\n\r\n    public UUID getCategory() {\r\n        return category;\r\n    }\r\n\r\n    public void setCategory(UUID category) {\r\n        this.category = category;\r\n    }\r\n}\r\n```\r\n\r\nproductModel\r\n\r\n```\r\npackage com.api.business_products_management.models;\r\n\r\nimport jakarta.persistence.*;\r\n\r\nimport java.util.UUID;\r\n\r\n@Entity\r\n@Table(name = &quot;PRODUCTS&quot;)\r\npublic class ProductModel {\r\n    private static final long serialVersionUID = 1L;\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    private UUID id;\r\n\r\n    @Column(nullable = false, length = 80)\r\n    private String product;\r\n\r\n    @Column(nullable = true, length = 80)\r\n    private String description;\r\n\r\n    @Column(nullable = false, length = 80)\r\n    private Float price;\r\n\r\n    @Column(nullable = false, length = 80)\r\n    private Integer stock;\r\n\r\n    @ManyToOne\r\n    @JoinColumn(name = &quot;category_id&quot;)\r\n    private CategoryModel category;\r\n\r\n    public UUID getId() {\r\n        return id;\r\n    }\r\n\r\n    public void setId(UUID id) {\r\n        this.id = id;\r\n    }\r\n\r\n    public String getProduct() {\r\n        return product;\r\n    }\r\n\r\n    public void setProduct(String product) {\r\n        this.product = product;\r\n    }\r\n\r\n    public String getDescription() {\r\n        return description;\r\n    }\r\n\r\n    public void setDescription(String description) {\r\n        this.description = description;\r\n    }\r\n\r\n    public Float getPrice() {\r\n        return price;\r\n    }\r\n\r\n    public void setPrice(Float price) {\r\n        this.price = price;\r\n    }\r\n\r\n    public Integer getStock() {\r\n        return stock;\r\n    }\r\n\r\n    public void setStock(Integer stock) {\r\n        this.stock = stock;\r\n    }\r\n\r\n    public CategoryModel getCategory() {\r\n        return category;\r\n    }\r\n\r\n    public void setCategory(CategoryModel category) {\r\n        this.category = category;\r\n    }\r\n}\r\n\r\n```\r\n\r\ncategoryModel\r\n\r\n```\r\npackage com.api.business_products_management.models;\r\n\r\nimport jakarta.persistence.*;\r\n\r\nimport java.util.List;\r\nimport java.util.UUID;\r\n\r\n@Entity\r\n@Table(name = &quot;CATEGORIES&quot;)\r\npublic class CategoryModel {\r\n    private static final long serialVersionUID = 1L;\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    private UUID id;\r\n\r\n    @Column(nullable = false, length = 80)\r\n    private String name;\r\n\r\n    @Column(nullable = true, length = 80)\r\n    private String description;\r\n\r\n    @OneToMany(mappedBy = &quot;category&quot;)\r\n    private List&lt;ProductModel&gt; products;\r\n\r\n    public UUID getId() {\r\n        return id;\r\n    }\r\n\r\n    public void setId(UUID id) {\r\n        this.id = id;\r\n    }\r\n\r\n    public String getName() {\r\n        return name;\r\n    }\r\n\r\n    public void setName(String name) {\r\n        this.name = name;\r\n    }\r\n\r\n    public String getDescription() {\r\n        return description;\r\n    }\r\n\r\n    public void setDescription(String description) {\r\n        this.description = description;\r\n    }\r\n\r\n    public List&lt;ProductModel&gt; getProducts() {\r\n        return products;\r\n    }\r\n\r\n    public void setProducts(List&lt;ProductModel&gt; products) {\r\n        this.products = products;\r\n    }\r\n}\r\n\r\n```\r\n\r\ncategoryDto\r\n\r\n```\r\npackage com.api.business_products_management.dtos;\r\n\r\nimport com.api.business_products_management.models.ProductModel;\r\nimport jakarta.validation.constraints.NotBlank;\r\n\r\nimport java.util.List;\r\nimport java.util.UUID;\r\n\r\npublic class CategoryDto {\r\n\r\n    private UUID id;\r\n\r\n    @NotBlank\r\n    private String name;\r\n\r\n    @NotBlank\r\n    private String description;\r\n\r\n    private List&lt;Long&gt; productIds;\r\n\r\n    public UUID getId() {\r\n        return id;\r\n    }\r\n\r\n    public void setId(UUID id) {\r\n        this.id = id;\r\n    }\r\n\r\n    public String getName() {\r\n        return name;\r\n    }\r\n\r\n    public void setName(String name) {\r\n        this.name = name;\r\n    }\r\n\r\n    public String getDescription() {\r\n        return description;\r\n    }\r\n\r\n    public void setDescription(String description) {\r\n        this.description = description;\r\n    }\r\n\r\n    public List&lt;Long&gt; getProductIds() {\r\n        return productIds;\r\n    }\r\n\r\n    public void setProductIds(List&lt;Long&gt; productIds) {\r\n        this.productIds = productIds;\r\n    }\r\n}\r\n\r\n```\r\n\r\nps: Now the product is being created, but category is &quot;null&quot;\r\n","title":"Error storing object in &quot;ManyToOne&quot; value in spring boot (Java)","body":"<p>I have a product model with a &quot;category&quot; column, which references the &quot;category&quot; model by\n@ManyToOne. When making the body request in my postman, like for example</p>\n<pre><code>{\n    &quot;product&quot;: &quot;iPhone XL 17 64gb&quot;,\n    &quot;description&quot;: &quot;The new iphone&quot;,\n    &quot;price&quot;: 15000.68,\n    &quot;stock&quot;: 34,\n    &quot;category&quot;: {\n        &quot;id&quot;: &quot;afff7473-7946-4ebd-afe2-d0c118cf5df8&quot; \n    }\n}\n</code></pre>\n<p>a status 400 error occurs followed by the console error:</p>\n<pre><code>.w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.http.converter.HttpMessageNotReadableException: JSON parse error: Cannot deserialize value of type `java.util.UUID` from Object value (token `JsonToken.START_OBJECT`)]\n</code></pre>\n<p>I believe the problem is in the DTO of my product, but I don't know what could be done wrong</p>\n<p>productDto</p>\n<pre><code>package com.api.business_products_management.dtos;\n\nimport jakarta.validation.constraints.DecimalMin;\nimport jakarta.validation.constraints.Min;\nimport jakarta.validation.constraints.NotBlank;\nimport jakarta.validation.constraints.NotNull;\n\nimport java.util.UUID;\n\npublic class ProductDto {\n    @NotBlank\n    private String product;\n\n    @NotBlank\n    private String description;\n\n    @DecimalMin(value = &quot;0.01&quot;, inclusive = true)\n    private Float price;\n\n    @NotNull\n    @Min(value = 0, message = &quot;Stock must be at least {value}&quot;)\n    private Integer stock;\n\n    @NotNull\n    private UUID category;\n\n    public String getProduct() {\n        return product;\n    }\n\n    public void setProduct(String product) {\n        this.product = product;\n    }\n\n    public String getDescription() {\n        return description;\n    }\n\n    public void setDescription(String description) {\n        this.description = description;\n    }\n\n    public Float getPrice() {\n        return price;\n    }\n\n    public void setPrice(Float price) {\n        this.price = price;\n    }\n\n    public Integer getStock() {\n        return stock;\n    }\n\n    public void setStock(Integer stock) {\n        this.stock = stock;\n    }\n\n    public UUID getCategory() {\n        return category;\n    }\n\n    public void setCategory(UUID category) {\n        this.category = category;\n    }\n}\n</code></pre>\n<p>productModel</p>\n<pre><code>package com.api.business_products_management.models;\n\nimport jakarta.persistence.*;\n\nimport java.util.UUID;\n\n@Entity\n@Table(name = &quot;PRODUCTS&quot;)\npublic class ProductModel {\n    private static final long serialVersionUID = 1L;\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private UUID id;\n\n    @Column(nullable = false, length = 80)\n    private String product;\n\n    @Column(nullable = true, length = 80)\n    private String description;\n\n    @Column(nullable = false, length = 80)\n    private Float price;\n\n    @Column(nullable = false, length = 80)\n    private Integer stock;\n\n    @ManyToOne\n    @JoinColumn(name = &quot;category_id&quot;)\n    private CategoryModel category;\n\n    public UUID getId() {\n        return id;\n    }\n\n    public void setId(UUID id) {\n        this.id = id;\n    }\n\n    public String getProduct() {\n        return product;\n    }\n\n    public void setProduct(String product) {\n        this.product = product;\n    }\n\n    public String getDescription() {\n        return description;\n    }\n\n    public void setDescription(String description) {\n        this.description = description;\n    }\n\n    public Float getPrice() {\n        return price;\n    }\n\n    public void setPrice(Float price) {\n        this.price = price;\n    }\n\n    public Integer getStock() {\n        return stock;\n    }\n\n    public void setStock(Integer stock) {\n        this.stock = stock;\n    }\n\n    public CategoryModel getCategory() {\n        return category;\n    }\n\n    public void setCategory(CategoryModel category) {\n        this.category = category;\n    }\n}\n\n</code></pre>\n<p>categoryModel</p>\n<pre><code>package com.api.business_products_management.models;\n\nimport jakarta.persistence.*;\n\nimport java.util.List;\nimport java.util.UUID;\n\n@Entity\n@Table(name = &quot;CATEGORIES&quot;)\npublic class CategoryModel {\n    private static final long serialVersionUID = 1L;\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private UUID id;\n\n    @Column(nullable = false, length = 80)\n    private String name;\n\n    @Column(nullable = true, length = 80)\n    private String description;\n\n    @OneToMany(mappedBy = &quot;category&quot;)\n    private List&lt;ProductModel&gt; products;\n\n    public UUID getId() {\n        return id;\n    }\n\n    public void setId(UUID id) {\n        this.id = id;\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n\n    public String getDescription() {\n        return description;\n    }\n\n    public void setDescription(String description) {\n        this.description = description;\n    }\n\n    public List&lt;ProductModel&gt; getProducts() {\n        return products;\n    }\n\n    public void setProducts(List&lt;ProductModel&gt; products) {\n        this.products = products;\n    }\n}\n\n</code></pre>\n<p>categoryDto</p>\n<pre><code>package com.api.business_products_management.dtos;\n\nimport com.api.business_products_management.models.ProductModel;\nimport jakarta.validation.constraints.NotBlank;\n\nimport java.util.List;\nimport java.util.UUID;\n\npublic class CategoryDto {\n\n    private UUID id;\n\n    @NotBlank\n    private String name;\n\n    @NotBlank\n    private String description;\n\n    private List&lt;Long&gt; productIds;\n\n    public UUID getId() {\n        return id;\n    }\n\n    public void setId(UUID id) {\n        this.id = id;\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n\n    public String getDescription() {\n        return description;\n    }\n\n    public void setDescription(String description) {\n        this.description = description;\n    }\n\n    public List&lt;Long&gt; getProductIds() {\n        return productIds;\n    }\n\n    public void setProductIds(List&lt;Long&gt; productIds) {\n        this.productIds = productIds;\n    }\n}\n\n</code></pre>\n<p>ps: Now the product is being created, but category is &quot;null&quot;</p>\n"},{"tags":["java","json","spring","object","attributes"],"comments":[{"owner":{"account_id":2058958,"reputation":1872,"user_id":1836030,"accept_rate":65,"display_name":"Scott"},"score":0,"creation_date":1676928688,"post_id":75514117,"comment_id":133232454,"body_markdown":"Is `resultCredit` instantiated?","body":"Is <code>resultCredit</code> instantiated?"},{"owner":{"account_id":13683191,"reputation":33,"user_id":9872986,"display_name":"Ernesto Andres Cabello Venegas"},"score":0,"creation_date":1676929787,"post_id":75514117,"comment_id":133232699,"body_markdown":"yep in the beginning\nConsumerCreditData resultCredit = null;","body":"yep in the beginning ConsumerCreditData resultCredit = null;"},{"owner":{"account_id":2058958,"reputation":1872,"user_id":1836030,"accept_rate":65,"display_name":"Scott"},"score":1,"creation_date":1676929834,"post_id":75514117,"comment_id":133232709,"body_markdown":"Well therein lies your NPE","body":"Well therein lies your NPE"}],"owner":{"account_id":13683191,"reputation":33,"user_id":9872986,"display_name":"Ernesto Andres Cabello Venegas"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676927090,"creation_date":1676927090,"question_id":75514117,"body_markdown":"I&#39;m getting the values ​​from another repository fine but when I try to set the values I&#39;m getting nullPointerException\r\n\r\nHere I got the object whit the class ResumenCreditosResponse\r\n\r\n    final String jsonResponse = this.customHttpClient.execute(method);\r\n            BaseResponse&lt;ResumenCreditosResponse&gt; respuesta = parseJson(jsonResponse, ResumenCreditosResponse.class);\r\n\r\nAnd here is where I am trying to set the value from the attribute \r\n\r\n    resultCredit.setCodigoOficina(respuesta.getBody().getRespuesta().getCodigoSucursal());\r\n\r\n\r\nWith the evaluation tool from IntelliJ, I am getting the correct value\r\n[![correct value][1]][1]\r\n\r\n\r\nBut when I run the program I am getting this error\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/TbAyD.png\r\n  [2]: https://i.stack.imgur.com/i3PPh.png\r\n\r\nrespuesta.getBody() is a ResumenCreditosResponse Object\r\nResumenCreditosResponse:\r\n\r\n    public class ResumenCreditosResponse {\r\n     private String codigoRespuesta;\r\n     private String glosaRespuesta;\r\n     private Respuesta respuesta;\r\n    ...\r\n    Constructors\r\n    Getters and Setters\r\n    ...\r\n    public class Respuesta {\r\n    //attributes -------------\r\n    private String codigoSucursal;\r\n    //attributes -------------\r\n    ...\r\n    public String getCodigoSucursal() {\r\n            return codigoSucursal;\r\n        }\r\n\r\n        public void setCodigoSucursal(String codigoSucursal) {\r\n            this.codigoSucursal = codigoSucursal;\r\n        }\r\n    }\r\n\r\n\r\nI&#39;ve been trying to get the value but I&#39;m still getting just the error\r\n","title":"Getting value from an attribute from a class inside another class but I&#39;m getting nullPointerException","body":"<p>I'm getting the values ​​from another repository fine but when I try to set the values I'm getting nullPointerException</p>\n<p>Here I got the object whit the class ResumenCreditosResponse</p>\n<pre><code>final String jsonResponse = this.customHttpClient.execute(method);\n        BaseResponse&lt;ResumenCreditosResponse&gt; respuesta = parseJson(jsonResponse, ResumenCreditosResponse.class);\n</code></pre>\n<p>And here is where I am trying to set the value from the attribute</p>\n<pre><code>resultCredit.setCodigoOficina(respuesta.getBody().getRespuesta().getCodigoSucursal());\n</code></pre>\n<p>With the evaluation tool from IntelliJ, I am getting the correct value\n<a href=\"https://i.stack.imgur.com/TbAyD.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/TbAyD.png\" alt=\"correct value\" /></a></p>\n<p>But when I run the program I am getting this error\n<a href=\"https://i.stack.imgur.com/i3PPh.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/i3PPh.png\" alt=\"enter image description here\" /></a></p>\n<p>respuesta.getBody() is a ResumenCreditosResponse Object\nResumenCreditosResponse:</p>\n<pre><code>public class ResumenCreditosResponse {\n private String codigoRespuesta;\n private String glosaRespuesta;\n private Respuesta respuesta;\n...\nConstructors\nGetters and Setters\n...\npublic class Respuesta {\n//attributes -------------\nprivate String codigoSucursal;\n//attributes -------------\n...\npublic String getCodigoSucursal() {\n        return codigoSucursal;\n    }\n\n    public void setCodigoSucursal(String codigoSucursal) {\n        this.codigoSucursal = codigoSucursal;\n    }\n}\n</code></pre>\n<p>I've been trying to get the value but I'm still getting just the error</p>\n"},{"tags":["java","javac","java-9"],"comments":[{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1595632967,"post_id":43102787,"comment_id":111552382,"body_markdown":"Related question about *Maven*: [*What is “&lt;release&gt;” element on “&lt;configuration&gt;” for the “maven-compiler-plugin” in a JavaFX app*](https://stackoverflow.com/q/60897480/642706)","body":"Related question about <i>Maven</i>: <a href=\"https://stackoverflow.com/q/60897480/642706\"><i>What is “&lt;release&gt;” element on “&lt;configuration&gt;” for the “maven-compiler-plugin” in a JavaFX app</i></a>"},{"owner":{"account_id":13060408,"reputation":707,"user_id":9437799,"display_name":"Sam Ginrich"},"score":0,"creation_date":1669673322,"post_id":43102787,"comment_id":131691773,"body_markdown":"OpenJDK or Oracle?","body":"OpenJDK or Oracle?"}],"answers":[{"tags":[],"owner":{"account_id":7424117,"reputation":56335,"user_id":5647260,"accept_rate":82,"display_name":"Andrew Li"},"down_vote_count":0,"up_vote_count":161,"is_accepted":true,"score":161,"last_activity_date":1676926661,"creation_date":1490817568,"answer_id":43103038,"question_id":43102787,"body_markdown":"Not exactly. \r\n\r\n[*JEP 247: Compile for Older Platform Versions*](http://openjdk.java.net/jeps/247) defines this new command-line option, `--release`: \r\n\r\n&gt; We defined a new command-line option, `--release`, which automatically configures the compiler to produce class files that will link against an implementation of the given platform version. For the platforms predefined in `javac`, **`--release N` is equivalent to `-source N -target N -bootclasspath &lt;bootclasspath-from-N&gt;`**. (emphasis mine)\r\n\r\nSo no, it is not equivalent to `-source N -target N`. The reason for this addition is stated in the &quot;Motivation&quot; section:\r\n\r\n&gt; `javac` provides two command line options, `-source` and `-target`, which can be used to select the version of the Java language accepted by the compiler and the version of the class files it produces, respectively. By default, however, `javac` compiles against the most-recent version of the platform APIs. The compiled program can therefore accidentally use APIs only available in the current version of the platform. Such programs cannot run on older versions of the platform, regardless of the values passed to the `-source` and `-target`. options. This is a long-term usability pain point, since users expect that by using these options they&#39;ll get class files that can run on the specified platform version.\r\n\r\nIn short, specifying the source and target options are not sufficient for cross-compilation. Because `javac`, by default, compiles against the most recent of the platform APIs, they can&#39;t be guaranteed to run on older versions. You also need to specify the `-bootclasspath` option corresponding to the older version to cross-compile correctly. This would include the correct API version to compile against and allow for execution on older version. Since it was very often forgotten, it was decided to add one command line option which did all the necessary things to correctly cross-compile.\r\n\r\nFurther reading [in the mailing list](http://mail.openjdk.java.net/pipermail/jdk9-dev/2015-July/002414.html) and [Oracle Docs](https://docs.oracle.com/javase/9/tools/javac.htm). The original bug was filed [here](https://bugs.openjdk.java.net/browse/JDK-8058150). Note that since the integration of this option, JDK builds have come bundled with descriptions of the platform APIs of older releases, mentioned under section &quot;Risks and Assumptions&quot;. That means you don&#39;t need the older version installed on your machine for cross-compilation to work.","title":"What is the --release flag in the Java 9 compiler?","body":"<p>Not exactly.</p>\n<p><a href=\"http://openjdk.java.net/jeps/247\" rel=\"noreferrer\"><em>JEP 247: Compile for Older Platform Versions</em></a> defines this new command-line option, <code>--release</code>:</p>\n<blockquote>\n<p>We defined a new command-line option, <code>--release</code>, which automatically configures the compiler to produce class files that will link against an implementation of the given platform version. For the platforms predefined in <code>javac</code>, <strong><code>--release N</code> is equivalent to <code>-source N -target N -bootclasspath &lt;bootclasspath-from-N&gt;</code></strong>. (emphasis mine)</p>\n</blockquote>\n<p>So no, it is not equivalent to <code>-source N -target N</code>. The reason for this addition is stated in the &quot;Motivation&quot; section:</p>\n<blockquote>\n<p><code>javac</code> provides two command line options, <code>-source</code> and <code>-target</code>, which can be used to select the version of the Java language accepted by the compiler and the version of the class files it produces, respectively. By default, however, <code>javac</code> compiles against the most-recent version of the platform APIs. The compiled program can therefore accidentally use APIs only available in the current version of the platform. Such programs cannot run on older versions of the platform, regardless of the values passed to the <code>-source</code> and <code>-target</code>. options. This is a long-term usability pain point, since users expect that by using these options they'll get class files that can run on the specified platform version.</p>\n</blockquote>\n<p>In short, specifying the source and target options are not sufficient for cross-compilation. Because <code>javac</code>, by default, compiles against the most recent of the platform APIs, they can't be guaranteed to run on older versions. You also need to specify the <code>-bootclasspath</code> option corresponding to the older version to cross-compile correctly. This would include the correct API version to compile against and allow for execution on older version. Since it was very often forgotten, it was decided to add one command line option which did all the necessary things to correctly cross-compile.</p>\n<p>Further reading <a href=\"http://mail.openjdk.java.net/pipermail/jdk9-dev/2015-July/002414.html\" rel=\"noreferrer\">in the mailing list</a> and <a href=\"https://docs.oracle.com/javase/9/tools/javac.htm\" rel=\"noreferrer\">Oracle Docs</a>. The original bug was filed <a href=\"https://bugs.openjdk.java.net/browse/JDK-8058150\" rel=\"noreferrer\">here</a>. Note that since the integration of this option, JDK builds have come bundled with descriptions of the platform APIs of older releases, mentioned under section &quot;Risks and Assumptions&quot;. That means you don't need the older version installed on your machine for cross-compilation to work.</p>\n"},{"tags":[],"owner":{"account_id":362885,"reputation":37256,"user_id":706317,"accept_rate":70,"display_name":"ZhekaKozlov"},"down_vote_count":0,"up_vote_count":54,"is_accepted":false,"score":54,"last_activity_date":1615438863,"creation_date":1490817818,"answer_id":43103115,"question_id":43102787,"body_markdown":"`--release X` is more than just a shortcut to `-source X -target X` because `-source` and `-target` are not sufficient to safely compile to an older release. You also need to set a `-bootclasspath` flag which must correspond to the older release (and this flag is often forgotten). So, in Java 9 they made a single `--release` flag which is a replacement for three flags: `-source`, `-target` and `-bootclasspath`.\r\n\r\nSo, this is an example of compiling to Java 1.7:\r\n\r\n    javac --release 7 &lt;source files&gt;\r\n\r\nNote that you don&#39;t even need to have JDK 7 installed on your computer. JDK 9 already contains the needed information to prevent you from accidental linking to symbols that did not exist in JDK 7.\r\n\r\nAnother important difference is that you can only use public APIs when compiling with `--release`:\r\n\r\n    &gt; javac --add-exports java.base/sun.invoke=ALL-UNNAMED --release 11 Main.java\r\n    error: exporting a package from system module java.base is not allowed with --release\r\n    1 error\r\n\r\nIf you want to use internal APIs, you have to remove the option `--release`:\r\n\r\n    &gt; javac --add-exports java.base/sun.invoke=ALL-UNNAMED Main.java\r\n\r\nor\r\n\r\n    &gt; javac --add-exports java.base/sun.invoke=ALL-UNNAMED -source 11 -target 11  Main.java","title":"What is the --release flag in the Java 9 compiler?","body":"<p><code>--release X</code> is more than just a shortcut to <code>-source X -target X</code> because <code>-source</code> and <code>-target</code> are not sufficient to safely compile to an older release. You also need to set a <code>-bootclasspath</code> flag which must correspond to the older release (and this flag is often forgotten). So, in Java 9 they made a single <code>--release</code> flag which is a replacement for three flags: <code>-source</code>, <code>-target</code> and <code>-bootclasspath</code>.</p>\n<p>So, this is an example of compiling to Java 1.7:</p>\n<pre><code>javac --release 7 &lt;source files&gt;\n</code></pre>\n<p>Note that you don't even need to have JDK 7 installed on your computer. JDK 9 already contains the needed information to prevent you from accidental linking to symbols that did not exist in JDK 7.</p>\n<p>Another important difference is that you can only use public APIs when compiling with <code>--release</code>:</p>\n<pre><code>&gt; javac --add-exports java.base/sun.invoke=ALL-UNNAMED --release 11 Main.java\nerror: exporting a package from system module java.base is not allowed with --release\n1 error\n</code></pre>\n<p>If you want to use internal APIs, you have to remove the option <code>--release</code>:</p>\n<pre><code>&gt; javac --add-exports java.base/sun.invoke=ALL-UNNAMED Main.java\n</code></pre>\n<p>or</p>\n<pre><code>&gt; javac --add-exports java.base/sun.invoke=ALL-UNNAMED -source 11 -target 11  Main.java\n</code></pre>\n"}],"owner":{"account_id":362885,"reputation":37256,"user_id":706317,"accept_rate":70,"display_name":"ZhekaKozlov"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":29221,"favorite_count":0,"down_vote_count":0,"up_vote_count":136,"accepted_answer_id":43103038,"answer_count":2,"score":136,"last_activity_date":1676926661,"creation_date":1490816727,"question_id":43102787,"body_markdown":"Java 9&#39;s `javac` has a new flag `--release`:\r\n\r\n    &gt; javac --help\r\n    ...\r\n\r\n    --release &lt;release&gt;\r\n        Compile for a specific VM version. Supported targets: 6, 7, 8, 9\r\n\r\nHow is it different from `-source` and `-target` flags? Is it just a shortcut for `-source X -target X`?","title":"What is the --release flag in the Java 9 compiler?","body":"<p>Java 9's <code>javac</code> has a new flag <code>--release</code>:</p>\n\n<pre><code>&gt; javac --help\n...\n\n--release &lt;release&gt;\n    Compile for a specific VM version. Supported targets: 6, 7, 8, 9\n</code></pre>\n\n<p>How is it different from <code>-source</code> and <code>-target</code> flags? Is it just a shortcut for <code>-source X -target X</code>?</p>\n"},{"tags":["java","spring","spring-boot-actuator"],"owner":{"account_id":6203369,"reputation":930,"user_id":4832342,"accept_rate":90,"display_name":"UnguruBulan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":110,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676926350,"creation_date":1676926350,"question_id":75514036,"body_markdown":"I&#39;m using Spring Boot 2.6.0 and trying to configure  health endpoint to work on server port while having management working on 8081.\r\n\r\nMy config:\r\n\r\n    server:\r\n      servlet:\r\n        context-path: /server-context\r\n    \r\n    management:\r\n      info.git.mode: full\r\n      endpoints:\r\n        web:\r\n          base-path: /management-context\r\n          exposure:\r\n            include: &#39;*&#39;\r\n        enabled-by-default: true\r\n      endpoint:\r\n        health:\r\n          group:\r\n            custom:\r\n              show-details: always\r\n              additional-path: server:/management-context/health\r\n      server:\r\n        port: 8081\r\n    \r\nI&#39;m getting this error: `Factory method &#39;healthEndpointGroups&#39; threw exception; nested exception is java.lang.IllegalArgumentException: Value must contain only one segment.`\r\n\r\nIs there a way to hack around and accept the desired addition-path?\r\nI&#39;m trying to hit: `localhost:8080/server-context/management-context/health` \r\n\r\nAnd not `localhost:8080/server-context/health` which works if additional-path contains only one segment","title":"Exposing /health on server port, but having additional path with more than one &quot;/&quot;","body":"<p>I'm using Spring Boot 2.6.0 and trying to configure  health endpoint to work on server port while having management working on 8081.</p>\n<p>My config:</p>\n<pre><code>server:\n  servlet:\n    context-path: /server-context\n\nmanagement:\n  info.git.mode: full\n  endpoints:\n    web:\n      base-path: /management-context\n      exposure:\n        include: '*'\n    enabled-by-default: true\n  endpoint:\n    health:\n      group:\n        custom:\n          show-details: always\n          additional-path: server:/management-context/health\n  server:\n    port: 8081\n</code></pre>\n<p>I'm getting this error: <code>Factory method 'healthEndpointGroups' threw exception; nested exception is java.lang.IllegalArgumentException: Value must contain only one segment.</code></p>\n<p>Is there a way to hack around and accept the desired addition-path?\nI'm trying to hit: <code>localhost:8080/server-context/management-context/health</code></p>\n<p>And not <code>localhost:8080/server-context/health</code> which works if additional-path contains only one segment</p>\n"},{"tags":["java","for-loop","queue","binary-search-tree","nodes"],"comments":[{"owner":{"account_id":7142980,"reputation":323243,"user_id":5459839,"display_name":"trincot"},"score":0,"creation_date":1676887524,"post_id":75505253,"comment_id":133221267,"body_markdown":"It is not clear what your data is, as the function takes no arguments, and unknown variables/attributes pop up. It is not clear how a word like &quot;SUPERMAN&quot; is represented in your tree. Also, what is the expected output for SUPERMAN?","body":"It is not clear what your data is, as the function takes no arguments, and unknown variables/attributes pop up. It is not clear how a word like &quot;SUPERMAN&quot; is represented in your tree. Also, what is the expected output for SUPERMAN?"}],"answers":[{"tags":[],"owner":{"account_id":7142980,"reputation":323243,"user_id":5459839,"display_name":"trincot"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676887933,"creation_date":1676887933,"answer_id":75507899,"question_id":75505253,"body_markdown":"If you expect the number of nodes at a certain depth to be that power of 2, then you must make sure to deal with the case where your tree is not *perfect*, because then -- even if your tree is *complete* -- the bottom level will not be fully filled. \r\n\r\nThe simple fix seems to be that you **always** add 2 entries to the queue for every entry you pop from it. So change this:\r\n\r\n```\r\n                if(Current != null){\r\n                    System.out.print(Current.cData);\r\n                    queue.insert(Current.leftChild);\r\n                    queue.insert(Current.rightChild);\r\n                }\r\n````\r\n\r\nto this:\r\n\r\n```\r\n                if(Current != null){\r\n                    System.out.print(Current.cData);\r\n                    queue.insert(Current.leftChild);\r\n                    queue.insert(Current.rightChild);\r\n                } else {\r\n                    queue.insert(null);\r\n                    queue.insert(null);\r\n                }\r\n````\r\n\r\n\r\n\r\n","title":"Display Nodes at the same depth not working","body":"<p>If you expect the number of nodes at a certain depth to be that power of 2, then you must make sure to deal with the case where your tree is not <em>perfect</em>, because then -- even if your tree is <em>complete</em> -- the bottom level will not be fully filled.</p>\n<p>The simple fix seems to be that you <strong>always</strong> add 2 entries to the queue for every entry you pop from it. So change this:</p>\n<pre><code>                if(Current != null){\n                    System.out.print(Current.cData);\n                    queue.insert(Current.leftChild);\n                    queue.insert(Current.rightChild);\n                }\n</code></pre>\n<p>to this:</p>\n<pre><code>                if(Current != null){\n                    System.out.print(Current.cData);\n                    queue.insert(Current.leftChild);\n                    queue.insert(Current.rightChild);\n                } else {\n                    queue.insert(null);\n                    queue.insert(null);\n                }\n</code></pre>\n"}],"owner":{"account_id":27827903,"reputation":1,"user_id":21246931,"display_name":"Aperious"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1676925552,"creation_date":1676866860,"question_id":75505253,"body_markdown":"Example of what Binary Search Tree looks like with OPTIMAL inserted:\r\nhttps://i.stack.imgur.com/lrhxx.png \r\n\r\n```\r\nvoid wordsAtDepth() {\r\n        int depth = 0;\r\n        int numOfNodes;\r\n        Queue queue = new Queue(32); // Make a new Queue called queue.\r\n        queue.insert(root); // Insert the root into the queue\r\n\r\n        // While queue is not empty we will continue the while loop\r\n        while (!queue.isEmpty()) {\r\n            // numOfNodes keeps track of how many times we are going to \r\n            // continue the for loop in the current while loop.\r\n            numOfNodes = (int) Math.pow(2, depth);\r\n            // for loop will continue until i is equal to or is greater \r\n            // than numOfNodes.\r\n            for (int i = 0; i &lt; numOfNodes; i++) {\r\n                // Current will equal to the removed element from the \r\n                // queue.\r\n                Node Current = queue.remove();\r\n                // If Current does not equal null then print current \r\n                //  and insert its&#39; left and right child.\r\n                // If Current does equal null then do nothing go to the \r\n                //  next iteration of the for loop\r\n                if(Current != null){\r\n                    System.out.print(Current.cData);\r\n                    queue.insert(Current.leftChild);\r\n                    queue.insert(Current.rightChild);\r\n                }\r\n            }\r\n            // Makes new line every time we finish the while loop. \r\n            // Which means new line for the next iteration of the\r\n            // while loop to separate the different depths.\r\n            System.out.println(&quot; &quot;);\r\n            depth++;\r\n        }\r\n    }\r\n```\r\nNodes contain char values. For the word OPTIMAl it prints correctly, but for words like HAPPY or SUPERMAN they print incorrectly. For example: SUPERMAN: S PU ER AMN SPUERAMNPUERAMN ERAMNAMNNEMNNAMNN AMNNNNAMNNNNNNNN NNNNNNNN\r\n\r\n\r\nInstead of using **numOfNodes = (int) Math.pow(2, depth);** the code works when I use the **numOfNodes = queue.length()**. But I WANT to use **numOfNodes = (int) Math.pow(2, depth);** since the for loop will should loop for the ammount of Nodes at a depth. Since the number of Nodes in a depth is 2^Depth. \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/OXIDP.png","title":"Display Nodes at the same depth not working","body":"<p>Example of what Binary Search Tree looks like with OPTIMAL inserted:\n<a href=\"https://i.stack.imgur.com/lrhxx.png\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/lrhxx.png</a></p>\n<pre><code>void wordsAtDepth() {\n        int depth = 0;\n        int numOfNodes;\n        Queue queue = new Queue(32); // Make a new Queue called queue.\n        queue.insert(root); // Insert the root into the queue\n\n        // While queue is not empty we will continue the while loop\n        while (!queue.isEmpty()) {\n            // numOfNodes keeps track of how many times we are going to \n            // continue the for loop in the current while loop.\n            numOfNodes = (int) Math.pow(2, depth);\n            // for loop will continue until i is equal to or is greater \n            // than numOfNodes.\n            for (int i = 0; i &lt; numOfNodes; i++) {\n                // Current will equal to the removed element from the \n                // queue.\n                Node Current = queue.remove();\n                // If Current does not equal null then print current \n                //  and insert its' left and right child.\n                // If Current does equal null then do nothing go to the \n                //  next iteration of the for loop\n                if(Current != null){\n                    System.out.print(Current.cData);\n                    queue.insert(Current.leftChild);\n                    queue.insert(Current.rightChild);\n                }\n            }\n            // Makes new line every time we finish the while loop. \n            // Which means new line for the next iteration of the\n            // while loop to separate the different depths.\n            System.out.println(&quot; &quot;);\n            depth++;\n        }\n    }\n</code></pre>\n<p>Nodes contain char values. For the word OPTIMAl it prints correctly, but for words like HAPPY or SUPERMAN they print incorrectly. For example: SUPERMAN: S PU ER AMN SPUERAMNPUERAMN ERAMNAMNNEMNNAMNN AMNNNNAMNNNNNNNN NNNNNNNN</p>\n<p>Instead of using <strong>numOfNodes = (int) Math.pow(2, depth);</strong> the code works when I use the <strong>numOfNodes = queue.length()</strong>. But I WANT to use <strong>numOfNodes = (int) Math.pow(2, depth);</strong> since the for loop will should loop for the ammount of Nodes at a depth. Since the number of Nodes in a depth is 2^Depth.</p>\n"},{"tags":["java","swing","oop"],"comments":[{"owner":{"account_id":114756,"reputation":57127,"user_id":301607,"accept_rate":100,"display_name":"StanislavL"},"score":0,"creation_date":1418194766,"post_id":27394939,"comment_id":43236570,"body_markdown":"SQL injection here - String sql=&quot;SELECT * FROM useruser WHERE username=&#39;&quot;+username+&quot;&#39; and password=&#39;&quot;+password+&quot;&#39; &quot;","body":"SQL injection here - String sql=&quot;SELECT * FROM useruser WHERE username=&#39;&quot;+username+&quot;&#39; and password=&#39;&quot;+password+&quot;&#39; &quot;"},{"owner":{"account_id":5358746,"reputation":29,"user_id":4270718,"accept_rate":29,"display_name":"Jahidul Islam"},"score":0,"creation_date":1418194886,"post_id":27394939,"comment_id":43236613,"body_markdown":"This is just simple project for assignment, so i am not worry about sql injection , thanks for your comments","body":"This is just simple project for assignment, so i am not worry about sql injection , thanks for your comments"}],"answers":[{"tags":[],"owner":{"account_id":114756,"reputation":57127,"user_id":301607,"accept_rate":100,"display_name":"StanislavL"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1418195581,"creation_date":1418194963,"answer_id":27395060,"question_id":27394939,"body_markdown":"    dashboard d=new dashboard();\r\n    d.setVisible(true);\r\n    d.name=username;\r\n\r\nHere you just set class variable but the variable is not set in any label (or textarea or textfield).\r\n\r\nShould be\r\n\r\n    dashboard d=new dashboard();\r\n    d.nameLabel.setText(username);\r\n    d.setVisible(true);\r\n","title":"How can I get the username after successful login?","body":"<pre><code>dashboard d=new dashboard();\nd.setVisible(true);\nd.name=username;\n</code></pre>\n\n<p>Here you just set class variable but the variable is not set in any label (or textarea or textfield).</p>\n\n<p>Should be</p>\n\n<pre><code>dashboard d=new dashboard();\nd.nameLabel.setText(username);\nd.setVisible(true);\n</code></pre>\n"}],"owner":{"account_id":5358746,"reputation":29,"user_id":4270718,"accept_rate":29,"display_name":"Jahidul Islam"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2848,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":27395060,"answer_count":1,"score":0,"last_activity_date":1676924947,"creation_date":1418194519,"question_id":27394939,"body_markdown":"I am trying to display username after user Login to the system in Java. There have any way?\r\n\r\n    login.addActionListener(new ActionListener() {\r\n\t\t\tpublic void actionPerformed(ActionEvent e) {\r\n\t\t\t\t// JDBC driver name and database URL\r\n\t\t\t\t   final String JDBC_DRIVER = &quot;com.mysql.jdbc.Driver&quot;;  \r\n\t\t\t\t    final String DB_URL = &quot;jdbc:mysql://localhost/unimas&quot;;\r\n\r\n\t\t\t\t   //  Database credentials\r\n\t\t\t\t    final String USER = &quot;root&quot;;\r\n\t\t\t\t    final String PASS = &quot;shojib420&quot;;\r\n\t\t\t\t    Connection conn = null;\r\n\t\t\t\t    Statement stmt = null;\r\n\t\t\t\t    try {\r\n\t\t\t\t\t\tdec();\r\n\t\t\t\t\t} catch (NoSuchAlgorithmException e2) {\r\n\t\t\t\t\t\t// TODO Auto-generated catch block\r\n\t\t\t\t\t\te2.printStackTrace();\r\n\t\t\t\t\t}\r\n\t\t\t\t//String name=name2.getText();\r\n\t\t\t\tString username=user1.getText();\r\n\t\t\t\t//String faculty=fac1.getText();\r\n\t\t\t\tif(username.equalsIgnoreCase(&quot;&quot;) ||  password.equalsIgnoreCase(&quot;&quot;))\r\n\t\t\t\t{\r\n\t\t\t\t\tJOptionPane.showMessageDialog(contentPane, &quot;OOPS You miss some filed&quot;);\r\n\t\t\t\t}\r\n\t\t\t\telse\r\n\t\t\t\t{\r\n\t\t\t\ttry {\r\n\t\t\t\t\t\r\n\t\t\t\t      Class.forName(&quot;com.mysql.jdbc.Driver&quot;);\r\n\t\t\t\t      conn = (Connection) DriverManager.getConnection(DB_URL, USER, PASS);\r\n\t\t\t\t      stmt = (Statement) conn.createStatement();\r\n\t\t\t\t      \r\n                  /* String sql=&quot;INSERT INTO useruser &quot; +\r\n                           &quot;VALUES (username,password, name,faculty)&quot;;*/\r\n\t\t\t\t    String sql=&quot;SELECT * FROM useruser WHERE username=&#39;&quot;+username+&quot;&#39; and password=&#39;&quot;+password+&quot;&#39; &quot;;\r\n\t\t\t\t    \r\n                   ResultSet rs=stmt.executeQuery(sql);\r\n                   if(rs.next())\r\n                   {\r\n                \t  \r\n                \t   dashboard d=new dashboard();\r\n                \t   d.setVisible(true);\r\n                \t   d.name=username;\r\n                       dispose();\r\n                    \r\n                   }\r\n                   else\r\n                   {\r\n                \t   JOptionPane.showMessageDialog(contentPane, &quot;Sorry &quot;+password);\r\n                   }\r\n                   \r\n\t\t\t\t}catch(SQLException se){\r\n\t\t\t\t      //Handle errors for JDBC\r\n\t\t\t\t      se.printStackTrace();\r\n\t\t\t\t   }catch(Exception e1){\r\n\t\t\t\t\t      //Handle errors for Class.forName\r\n\t\t\t\t\t      e1.printStackTrace();\r\n\t\t\t\t\t   }\r\n\t\t\t\t}\r\n\t\t\t\r\n\t\t\t}\r\n\t\t});\r\n\r\nHere  `d.name=username;` name is in the dashboard class where I am trying to set `d.name=username;`   , But i am not able to get the value of username\r\n\r\n    \tJTextArea showName = new JTextArea();\r\n\t\tshowName.setBounds(29, 25, 105, 22);\r\n\t\tcontentPane.add(showName);\r\n\t\tshowName.setName(name);\r\n\r\nI am calling that name in dashboard class. Any idea where I am doing wrong or better suggestion?\r\n\r\n\t\t","title":"How can I get the username after successful login?","body":"<p>I am trying to display username after user Login to the system in Java. There have any way?</p>\n\n<pre><code>login.addActionListener(new ActionListener() {\n        public void actionPerformed(ActionEvent e) {\n            // JDBC driver name and database URL\n               final String JDBC_DRIVER = \"com.mysql.jdbc.Driver\";  \n                final String DB_URL = \"jdbc:mysql://localhost/unimas\";\n\n               //  Database credentials\n                final String USER = \"root\";\n                final String PASS = \"shojib420\";\n                Connection conn = null;\n                Statement stmt = null;\n                try {\n                    dec();\n                } catch (NoSuchAlgorithmException e2) {\n                    // TODO Auto-generated catch block\n                    e2.printStackTrace();\n                }\n            //String name=name2.getText();\n            String username=user1.getText();\n            //String faculty=fac1.getText();\n            if(username.equalsIgnoreCase(\"\") ||  password.equalsIgnoreCase(\"\"))\n            {\n                JOptionPane.showMessageDialog(contentPane, \"OOPS You miss some filed\");\n            }\n            else\n            {\n            try {\n\n                  Class.forName(\"com.mysql.jdbc.Driver\");\n                  conn = (Connection) DriverManager.getConnection(DB_URL, USER, PASS);\n                  stmt = (Statement) conn.createStatement();\n\n              /* String sql=\"INSERT INTO useruser \" +\n                       \"VALUES (username,password, name,faculty)\";*/\n                String sql=\"SELECT * FROM useruser WHERE username='\"+username+\"' and password='\"+password+\"' \";\n\n               ResultSet rs=stmt.executeQuery(sql);\n               if(rs.next())\n               {\n\n                   dashboard d=new dashboard();\n                   d.setVisible(true);\n                   d.name=username;\n                   dispose();\n\n               }\n               else\n               {\n                   JOptionPane.showMessageDialog(contentPane, \"Sorry \"+password);\n               }\n\n            }catch(SQLException se){\n                  //Handle errors for JDBC\n                  se.printStackTrace();\n               }catch(Exception e1){\n                      //Handle errors for Class.forName\n                      e1.printStackTrace();\n                   }\n            }\n\n        }\n    });\n</code></pre>\n\n<p>Here  <code>d.name=username;</code> name is in the dashboard class where I am trying to set <code>d.name=username;</code>   , But i am not able to get the value of username</p>\n\n<pre><code>    JTextArea showName = new JTextArea();\n    showName.setBounds(29, 25, 105, 22);\n    contentPane.add(showName);\n    showName.setName(name);\n</code></pre>\n\n<p>I am calling that name in dashboard class. Any idea where I am doing wrong or better suggestion?</p>\n"},{"tags":["java","junit4","junit5"],"comments":[{"owner":{"account_id":277416,"reputation":681848,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":0,"creation_date":1554015818,"post_id":55437810,"comment_id":97594155,"body_markdown":"So you are asking how to define parameterized tests in JUnit 5. Well, the JUnit 5 user guide has a whole chapter dedicated to parameterized tests: https://junit.org/junit5/docs/current/user-guide/#writing-tests-parameterized-tests","body":"So you are asking how to define parameterized tests in JUnit 5. Well, the JUnit 5 user guide has a whole chapter dedicated to parameterized tests: <a href=\"https://junit.org/junit5/docs/current/user-guide/#writing-tests-parameterized-tests\" rel=\"nofollow noreferrer\">junit.org/junit5/docs/current/user-guide/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":15731058,"reputation":1080,"user_id":11351392,"display_name":"lotor"},"down_vote_count":1,"up_vote_count":12,"is_accepted":false,"score":11,"last_activity_date":1555511872,"creation_date":1555506168,"answer_id":55728185,"question_id":55437810,"body_markdown":"Jupiter provides [Test interfaces](https://junit.org/junit5/docs/current/user-guide/#writing-tests-test-interfaces-and-default-methods) exactly for your purpose - to test **interface contract**. \r\n\r\nFor example, let&#39;s have an interface for string diagnostic contract and two implementations following the contract but exploiting different implementation ideas:\r\n```java\r\npublic interface StringDiagnose {\r\n    /**\r\n     * Contract: a string is blank iff it consists of whitespace chars only\r\n     * */\r\n    boolean isTheStringBlank(String string);\r\n}\r\n\r\npublic class DefaultDiagnose implements StringDiagnose {\r\n\r\n    @Override\r\n    public boolean isTheStringBlank(String string) {\r\n        return string.trim().length() == 0;\r\n    }\r\n}\r\n\r\npublic class StreamBasedDiagnose implements StringDiagnose {\r\n\r\n    @Override\r\n    public boolean isTheStringBlank(String string) {\r\n        return string.chars().allMatch(Character::isWhitespace);\r\n    }\r\n}\r\n```\r\n\r\nAccording to the recommended approach you are to create *test interface* that verifies the diagnostic *contract* in `default` methods and exposes implementation-dependent pieces to hooks:\r\n```java\r\nimport org.junit.jupiter.api.Test;\r\n\r\nimport static org.junit.jupiter.api.Assertions.assertTrue;\r\nimport static org.junit.jupiter.api.Assertions.assertFalse;\r\n\r\npublic interface StringDiagnoseTest&lt;T extends StringDiagnose&gt; {\r\n\r\n    T createDiagnose();\r\n\r\n    @Test\r\n    default void blankCheckFollowsContract(){\r\n        assertTrue(createDiagnose().isTheStringBlank(&quot;\\t\\n &quot;));\r\n        assertFalse(createDiagnose().isTheStringBlank(&quot;\\t\\n !  \\r\\n&quot;));\r\n    }\r\n}\r\n```\r\n\r\nand then implement this *test interface* for each solution specific:\r\n```java\r\nclass DefaultDiagnoseTest implements StringDiagnoseTest&lt;DefaultDiagnose&gt; {\r\n\r\n    @Override\r\n    public DefaultDiagnose createDiagnose() {\r\n        return new DefaultDiagnose();\r\n    }\r\n}\r\n\r\nclass StreamBasedDiagnoseTest implements StringDiagnoseTest&lt;StreamBasedDiagnose&gt; {\r\n\r\n    @Override\r\n    public StreamBasedDiagnose createDiagnose() {\r\n        return new StreamBasedDiagnose();\r\n    }\r\n}\r\n```\r\n\r\nUse more hooks and not-`default` interface methods to test same-named solutions&#39; aspects (like performance) and define new tests in the interface implementations for completely distinctive implementation pecularities.","title":"How to test different implementations for an interface in Junit5 without duplicating the code","body":"<p>Jupiter provides <a href=\"https://junit.org/junit5/docs/current/user-guide/#writing-tests-test-interfaces-and-default-methods\" rel=\"noreferrer\">Test interfaces</a> exactly for your purpose - to test <strong>interface contract</strong>. </p>\n\n<p>For example, let's have an interface for string diagnostic contract and two implementations following the contract but exploiting different implementation ideas:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>public interface StringDiagnose {\n    /**\n     * Contract: a string is blank iff it consists of whitespace chars only\n     * */\n    boolean isTheStringBlank(String string);\n}\n\npublic class DefaultDiagnose implements StringDiagnose {\n\n    @Override\n    public boolean isTheStringBlank(String string) {\n        return string.trim().length() == 0;\n    }\n}\n\npublic class StreamBasedDiagnose implements StringDiagnose {\n\n    @Override\n    public boolean isTheStringBlank(String string) {\n        return string.chars().allMatch(Character::isWhitespace);\n    }\n}\n</code></pre>\n\n<p>According to the recommended approach you are to create <em>test interface</em> that verifies the diagnostic <em>contract</em> in <code>default</code> methods and exposes implementation-dependent pieces to hooks:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>import org.junit.jupiter.api.Test;\n\nimport static org.junit.jupiter.api.Assertions.assertTrue;\nimport static org.junit.jupiter.api.Assertions.assertFalse;\n\npublic interface StringDiagnoseTest&lt;T extends StringDiagnose&gt; {\n\n    T createDiagnose();\n\n    @Test\n    default void blankCheckFollowsContract(){\n        assertTrue(createDiagnose().isTheStringBlank(\"\\t\\n \"));\n        assertFalse(createDiagnose().isTheStringBlank(\"\\t\\n !  \\r\\n\"));\n    }\n}\n</code></pre>\n\n<p>and then implement this <em>test interface</em> for each solution specific:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>class DefaultDiagnoseTest implements StringDiagnoseTest&lt;DefaultDiagnose&gt; {\n\n    @Override\n    public DefaultDiagnose createDiagnose() {\n        return new DefaultDiagnose();\n    }\n}\n\nclass StreamBasedDiagnoseTest implements StringDiagnoseTest&lt;StreamBasedDiagnose&gt; {\n\n    @Override\n    public StreamBasedDiagnose createDiagnose() {\n        return new StreamBasedDiagnose();\n    }\n}\n</code></pre>\n\n<p>Use more hooks and not-<code>default</code> interface methods to test same-named solutions' aspects (like performance) and define new tests in the interface implementations for completely distinctive implementation pecularities.</p>\n"},{"tags":[],"owner":{"account_id":7042642,"reputation":176,"user_id":5394617,"display_name":"Checkwhei Sin"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1615685528,"creation_date":1615685528,"answer_id":66620250,"question_id":55437810,"body_markdown":"Sorry for not replying to this thread for a while. Comparing to the lotor&#39;s answer, I found some other ways I am currently adopting:\r\n\r\n```java\r\n\r\n  @ParameterizedTest\r\n  @MethodSource(&quot;solutionStream&quot;)\r\n  void testCase(Solution solution) {\r\n   // add your test\r\n  }\r\n\r\n  static Stream&lt;Solution&gt; solutionStream() {\r\n    return Stream.of(\r\n        new SolutionI(),\r\n        new SolutionII()\r\n    );\r\n  }\r\n```\r\n\r\nThe constructor needs parameters (Not type-safe)\r\n\r\n```java\r\n  @ParameterizedTest\r\n  @MethodSource(&quot;solutionStream&quot;)\r\n  void testOnlineCase(Class&lt;Solution&gt; solutionClass) throws NoSuchMethodException, IllegalAccessException,\r\n      InvocationTargetException, InstantiationException {\r\n    Solution solution = solutionClass.getConstructor(Integer.TYPE).newInstance(2);\r\n  }\r\n\r\n  static Stream&lt;Class&gt; solutionStream() {\r\n    return Stream.of(\r\n        SolutionI.class\r\n    );\r\n  }\r\n```\r\n","title":"How to test different implementations for an interface in Junit5 without duplicating the code","body":"<p>Sorry for not replying to this thread for a while. Comparing to the lotor's answer, I found some other ways I am currently adopting:</p>\n<pre class=\"lang-java prettyprint-override\"><code>\n  @ParameterizedTest\n  @MethodSource(&quot;solutionStream&quot;)\n  void testCase(Solution solution) {\n   // add your test\n  }\n\n  static Stream&lt;Solution&gt; solutionStream() {\n    return Stream.of(\n        new SolutionI(),\n        new SolutionII()\n    );\n  }\n</code></pre>\n<p>The constructor needs parameters (Not type-safe)</p>\n<pre class=\"lang-java prettyprint-override\"><code>  @ParameterizedTest\n  @MethodSource(&quot;solutionStream&quot;)\n  void testOnlineCase(Class&lt;Solution&gt; solutionClass) throws NoSuchMethodException, IllegalAccessException,\n      InvocationTargetException, InstantiationException {\n    Solution solution = solutionClass.getConstructor(Integer.TYPE).newInstance(2);\n  }\n\n  static Stream&lt;Class&gt; solutionStream() {\n    return Stream.of(\n        SolutionI.class\n    );\n  }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20364548,"reputation":1,"user_id":14938204,"display_name":"Daniils Loptevs"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676924609,"creation_date":1676899804,"answer_id":75509872,"question_id":55437810,"body_markdown":"I tried *lotor* but for me it doesn&#39;t work from start and I found 2 ways to make it works.\r\n\r\njupiter : 5.9.2 (Jan 10, 2023) https://mvnrepository.com/artifact/org.junit.jupiter/junit-jupiter-api\r\n\r\n1 - Declare *Implements Classes* inside *Test Interface*.\r\nCode example:\r\n```java\r\npublic interface StringDiagnoseTest&lt;T extends StringDiagnose&gt; {\r\n    \r\n    T createDiagnose();\r\n    \r\n    @Test\r\n    default void blankCheckFollowsContract() {\r\n        assertTrue(createDiagnose().isTheStringBlank(&quot;\\t\\n &quot;));\r\n        assertFalse(createDiagnose().isTheStringBlank(&quot;\\t\\n !  \\r\\n&quot;));\r\n    }\r\n    \r\n    class DefaultDiagnoseTest implements StringDiagnoseTest&lt;DefaultDiagnose&gt; {\r\n    \r\n        @Override\r\n        public DefaultDiagnose createDiagnose() {\r\n            return new DefaultDiagnose();\r\n        }\r\n    }\r\n\r\n    class StreamBasedDiagnoseTest implements StringDiagnoseTest&lt;StreamBasedDiagnose&gt; {\r\n    \r\n        @Override\r\n        public StreamBasedDiagnose createDiagnose() {\r\n            return new StreamBasedDiagnose();\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n2 - If you use Intelligent IDEA, check the *build/run configuration*, it should looks like that:\r\n\r\nFor property &quot;The type of resource to search for tests&quot; select **pattern** and value:\r\n```\r\nmy_test_package.StringDiagnoseTest$DefaultDiagnoseTest||\r\nmy_test_package.StringDiagnoseTest$StreamBasedDiagnoseTest\r\n```\r\nIf you have problem, probably(by default) selected **class** and value `StringDiagnoseTest`.","title":"How to test different implementations for an interface in Junit5 without duplicating the code","body":"<p>I tried <em>lotor</em> but for me it doesn't work from start and I found 2 ways to make it works.</p>\n<p>jupiter : 5.9.2 (Jan 10, 2023) <a href=\"https://mvnrepository.com/artifact/org.junit.jupiter/junit-jupiter-api\" rel=\"nofollow noreferrer\">https://mvnrepository.com/artifact/org.junit.jupiter/junit-jupiter-api</a></p>\n<p>1 - Declare <em>Implements Classes</em> inside <em>Test Interface</em>.\nCode example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public interface StringDiagnoseTest&lt;T extends StringDiagnose&gt; {\n    \n    T createDiagnose();\n    \n    @Test\n    default void blankCheckFollowsContract() {\n        assertTrue(createDiagnose().isTheStringBlank(&quot;\\t\\n &quot;));\n        assertFalse(createDiagnose().isTheStringBlank(&quot;\\t\\n !  \\r\\n&quot;));\n    }\n    \n    class DefaultDiagnoseTest implements StringDiagnoseTest&lt;DefaultDiagnose&gt; {\n    \n        @Override\n        public DefaultDiagnose createDiagnose() {\n            return new DefaultDiagnose();\n        }\n    }\n\n    class StreamBasedDiagnoseTest implements StringDiagnoseTest&lt;StreamBasedDiagnose&gt; {\n    \n        @Override\n        public StreamBasedDiagnose createDiagnose() {\n            return new StreamBasedDiagnose();\n        }\n    }\n}\n</code></pre>\n<p>2 - If you use Intelligent IDEA, check the <em>build/run configuration</em>, it should looks like that:</p>\n<p>For property &quot;The type of resource to search for tests&quot; select <strong>pattern</strong> and value:</p>\n<pre><code>my_test_package.StringDiagnoseTest$DefaultDiagnoseTest||\nmy_test_package.StringDiagnoseTest$StreamBasedDiagnoseTest\n</code></pre>\n<p>If you have problem, probably(by default) selected <strong>class</strong> and value <code>StringDiagnoseTest</code>.</p>\n"}],"owner":{"account_id":7042642,"reputation":176,"user_id":5394617,"display_name":"Checkwhei Sin"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3604,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":66620250,"answer_count":3,"score":6,"last_activity_date":1676924609,"creation_date":1554005692,"question_id":55437810,"body_markdown":"May I ask how to write a junit 5 test for an interface with different implementations?\r\n\r\nFor example, I have a interface `Solution`, with different implementations like `SolutionI`, `SolutionII`, can I write only one test class to test both?\r\n\r\nThere is a [post](https://stackoverflow.com/questions/47474695/junit5-test-multiple-classes-without-repeating-code) shows an example, but if there are multiple test method that needs to be called, I have to pass the parameter for every test method.\r\n\r\nMay I ask if there is an **elegant** way like what is used in the Junit4\r\n\r\nIn Junit4, I have a very elegant code sample as follows\r\n\r\n```\r\n@RunWith(Parameterized.class)\r\npublic class SolutionTest {\r\n  private Solution solution;\r\n\r\n  public SolutionTest(Solution solution) {\r\n    this.solution = solution;\r\n  }\r\n\r\n  @Parameterized.Parameters\r\n  public static Collection&lt;Object[]&gt; getParameters() {\r\n    return Arrays.asList(new Object[][]{\r\n        {new SolutionI()},\r\n        {new SolutionII()}\r\n    });\r\n  }\r\n  // normal test methods\r\n  @Test\r\n  public void testMethod1() {\r\n  \r\n  }\r\n}\r\n```\r\n\r\nJunit 5 claims `ExtendWith()` is similar, I tried the following code\r\n\r\n```\r\n@ExtendWith(SolutionTest.SolutionProvider.class)\r\npublic class SolutionTest {\r\n  private Solution solution;\r\n\r\n  public SolutionTest(Solution solution) {\r\n    System.out.println(&quot;Call constructor&quot;);\r\n    this.solution = solution;\r\n  }\r\n\r\n  @Test\r\n  public void testOnlineCase1() {\r\n    assertEquals(19, solution.testMethod(10));\r\n  }\r\n\r\n  @Test\r\n  public void testOnlineCase2() {\r\n    assertEquals(118, solution.testMethod(100));\r\n  }\r\n\r\n  static class SolutionProvider implements ParameterResolver {\r\n    private final Solution[] solutions = {\r\n        new SolutionI(),\r\n        new SolutionII()\r\n    };\r\n    private static int i = 0;\r\n\r\n    @Override\r\n    public boolean supportsParameter(ParameterContext parameterContext, ExtensionContext extensionContext) throws ParameterResolutionException {\r\n      return parameterContext.getParameter().getType() == Solution.class;\r\n    }\r\n\r\n    @Override\r\n    public Object resolveParameter(ParameterContext parameterContext, ExtensionContext extensionContext) throws ParameterResolutionException {\r\n      System.out.println(i);\r\n      return solutions[i++];\r\n    }\r\n  }\r\n}\r\n```\r\n\r\nUnfortunately, `testMethod1` is using `SolutionI` and `testMethod2` is using `SolutionII`, which makes sense, I don&#39;t know if this helps to inspire a little bit.\r\n\r\nThanks for the help in advance","title":"How to test different implementations for an interface in Junit5 without duplicating the code","body":"<p>May I ask how to write a junit 5 test for an interface with different implementations?</p>\n\n<p>For example, I have a interface <code>Solution</code>, with different implementations like <code>SolutionI</code>, <code>SolutionII</code>, can I write only one test class to test both?</p>\n\n<p>There is a <a href=\"https://stackoverflow.com/questions/47474695/junit5-test-multiple-classes-without-repeating-code\">post</a> shows an example, but if there are multiple test method that needs to be called, I have to pass the parameter for every test method.</p>\n\n<p>May I ask if there is an <strong>elegant</strong> way like what is used in the Junit4</p>\n\n<p>In Junit4, I have a very elegant code sample as follows</p>\n\n<pre><code>@RunWith(Parameterized.class)\npublic class SolutionTest {\n  private Solution solution;\n\n  public SolutionTest(Solution solution) {\n    this.solution = solution;\n  }\n\n  @Parameterized.Parameters\n  public static Collection&lt;Object[]&gt; getParameters() {\n    return Arrays.asList(new Object[][]{\n        {new SolutionI()},\n        {new SolutionII()}\n    });\n  }\n  // normal test methods\n  @Test\n  public void testMethod1() {\n\n  }\n}\n</code></pre>\n\n<p>Junit 5 claims <code>ExtendWith()</code> is similar, I tried the following code</p>\n\n<pre><code>@ExtendWith(SolutionTest.SolutionProvider.class)\npublic class SolutionTest {\n  private Solution solution;\n\n  public SolutionTest(Solution solution) {\n    System.out.println(\"Call constructor\");\n    this.solution = solution;\n  }\n\n  @Test\n  public void testOnlineCase1() {\n    assertEquals(19, solution.testMethod(10));\n  }\n\n  @Test\n  public void testOnlineCase2() {\n    assertEquals(118, solution.testMethod(100));\n  }\n\n  static class SolutionProvider implements ParameterResolver {\n    private final Solution[] solutions = {\n        new SolutionI(),\n        new SolutionII()\n    };\n    private static int i = 0;\n\n    @Override\n    public boolean supportsParameter(ParameterContext parameterContext, ExtensionContext extensionContext) throws ParameterResolutionException {\n      return parameterContext.getParameter().getType() == Solution.class;\n    }\n\n    @Override\n    public Object resolveParameter(ParameterContext parameterContext, ExtensionContext extensionContext) throws ParameterResolutionException {\n      System.out.println(i);\n      return solutions[i++];\n    }\n  }\n}\n</code></pre>\n\n<p>Unfortunately, <code>testMethod1</code> is using <code>SolutionI</code> and <code>testMethod2</code> is using <code>SolutionII</code>, which makes sense, I don't know if this helps to inspire a little bit.</p>\n\n<p>Thanks for the help in advance</p>\n"},{"tags":["java","json","jackson"],"comments":[{"owner":{"account_id":3865660,"reputation":31,"user_id":3202267,"display_name":"Kevin Moroney"},"score":0,"creation_date":1676926593,"post_id":75513734,"comment_id":133232017,"body_markdown":"Take a look at lombok, the answer here should help: https://stackoverflow.com/questions/53191468/no-creators-like-default-construct-exist-cannot-deserialize-from-object-valu","body":"Take a look at lombok, the answer here should help: <a href=\"https://stackoverflow.com/questions/53191468/no-creators-like-default-construct-exist-cannot-deserialize-from-object-valu\" title=\"no creators like default construct exist cannot deserialize from object valu\">stackoverflow.com/questions/53191468/&hellip;</a>"},{"owner":{"account_id":7129598,"reputation":872,"user_id":5451356,"accept_rate":73,"display_name":"terrabl"},"score":0,"creation_date":1676927062,"post_id":75513734,"comment_id":133232110,"body_markdown":"@KevinMoroney I believe that everything has a default empty constructor (which jackson defaults too) besides the marker interface, and the error is being thrown when it&#39;s attempting to marshall the interface it looks like.","body":"@KevinMoroney I believe that everything has a default empty constructor (which jackson defaults too) besides the marker interface, and the error is being thrown when it&#39;s attempting to marshall the interface it looks like."},{"owner":{"account_id":7129598,"reputation":872,"user_id":5451356,"accept_rate":73,"display_name":"terrabl"},"score":0,"creation_date":1676927974,"post_id":75513734,"comment_id":133232314,"body_markdown":"I removed the marker interface and it worked. But I don&#39;t really want to do that...","body":"I removed the marker interface and it worked. But I don&#39;t really want to do that..."}],"owner":{"account_id":7129598,"reputation":872,"user_id":5451356,"accept_rate":73,"display_name":"terrabl"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":540,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676923930,"creation_date":1676923930,"question_id":75513734,"body_markdown":"I&#39;m attempting to unmarshall a quite simple JSON string into a Java object. But I&#39;m getting an error when using ObjectMapper to map the String to a Java object. \r\n\r\nThe error I am getting is the following\r\n\r\ncom.fasterxml.jackson.databind.exc.InvalidDefinitionException: Cannot construct instance of `WebserviceDOInterface` (no Creators, like default constructor, exist): abstract types either need to be mapped to concrete types, have custom deserializer, or contain additional type information\r\n at [Source: (String)&quot;[truncated 254 chars]; line: 1, column: 203] (through reference chain: WSDomainObject[&quot;webReqDomainObject&quot;])\r\n\r\nI&#39;m not quite sure how to cast this to a String due to the polymorphic aspect of the class, is there some annotations that I have to add to my classes or do I just have to set up by object mapper in a different way? Any help would be greatly apprecaited. \r\n\r\nHere is the JSON i&#39;m trying to cast:\r\n```json\r\n{\r\n  &quot;webReqDomainObject&quot;: {\r\n    &quot;id&quot;: &quot;601942353&quot;\r\n  },\r\n  &quot;webRespDomainObject&quot;: {\r\n    &quot;systemException&quot;: {\r\n      &quot;errorCode&quot;: &quot;303&quot;,\r\n      &quot;errorMessage&quot;: &quot;Service error encountered&quot;,\r\n      &quot;source&quot;: &quot;SERVICE&quot;,\r\n      &quot;httpStatusCode&quot;: &quot;500&quot;,\r\n      &quot;systemException&quot;: true\r\n    },\r\n    &quot;profiles&quot;: null\r\n  }\r\n}\r\n```\r\n\r\nThis is the object that I&#39;m trying to cast the above to. \r\n```java\r\n@JsonIgnoreProperties(\r\n       ignoreUnknown = true\r\n)\r\npublic class WSDomainObject&lt;WSSReq extends WebserviceDOInterface, WSSResp extends WebserviceDOInterface&gt; {\r\n   @JsonProperty(&quot;webReqDomainObject&quot;)\r\n   private WSSReq webReqDomainObject;\r\n   @JsonProperty(&quot;webRespDomainObject&quot;)\r\n   private WSSResp webRespDomainObject;\r\n\r\n   public WSDomainObject() {\r\n   }\r\n\r\n   public WSSReq getWebReqDomainObject() {\r\n      return webReqDomainObject;\r\n   }\r\n\r\n   public void setWebReqDomainObject(WSSReq webReqDomainObject) {\r\n      this.webReqDomainObject = webReqDomainObject;\r\n   }\r\n\r\n   public WSSResp getWebRespDomainObject() {\r\n      return webRespDomainObject;\r\n   }\r\n\r\n   public void setWebRespDomainObject(WSSResp webRespDomainObject) {\r\n      this.webRespDomainObject = webRespDomainObject;\r\n   }\r\n}\r\n```\r\n\r\nThis is all the WebserviceDOInterface is, just a marker interface. \r\n```java\r\npublic interface WebserviceDOInterface {\r\n}\r\n```\r\n\r\nThis is the instance of the WSSReq\r\n\r\nWSReq\r\n```java\r\n@JsonIgnoreProperties(\r\n   ignoreUnknown = true\r\n)\r\npublic class RetrieveRequestDomainObject implements WebserviceDOInterface {\r\n   @JsonProperty(&quot;id&quot;)\r\n   private String id;\r\n\r\n   public RetrieveRequestDomainObject(String id) {\r\n      this.id = id;\r\n   }\r\n\r\n   public LoyaltyAccountRetrieveRequestDomainObject() {\r\n   }\r\n\r\n   public String getId() {\r\n      return this.id;\r\n   }\r\n\r\n   public void setId(String id) {\r\n      this.id = id;\r\n   }\r\n}\r\n```\r\n\r\nThis is the instance of the WSResp\r\n```java\r\n@JsonIgnoreProperties(\r\n   ignoreUnknown = true\r\n)\r\npublic class RetrieveResponseDomainObject extends WebserviceDomainObjectResponse {\r\n   @JsonProperty(&quot;profiles&quot;)\r\n   private ProfilesTypeDO profiles;\r\n\r\n   public RetrieveResponseDomainObject() {\r\n   }\r\n\r\n   public ProfilesTypeDO getProfiles() {\r\n      return this.profiles;\r\n   }\r\n\r\n   public void setProfiles(ProfilesTypeDO profiles) {\r\n      this.profiles = profiles;\r\n   }\r\n}\r\n```\r\n\r\n```java\r\npublic abstract class WebserviceDomainObjectResponse implements WebserviceDOInterface {\r\n   private SystemException caughtException = new SystemException();\r\n\r\n   public WebserviceDomainObjectResponse() {\r\n   }\r\n\r\n   public SystemException getSystemException() {\r\n      return this.caughtException;\r\n   }\r\n\r\n   public boolean isSystemException() {\r\n      return this.caughtException.isSystemException();\r\n   }\r\n}\r\n```\r\n\r\n\r\n","title":"Jackson cannot construct instance of interface of generic when attempting to marshall JSON String to Java Object","body":"<p>I'm attempting to unmarshall a quite simple JSON string into a Java object. But I'm getting an error when using ObjectMapper to map the String to a Java object.</p>\n<p>The error I am getting is the following</p>\n<p>com.fasterxml.jackson.databind.exc.InvalidDefinitionException: Cannot construct instance of <code>WebserviceDOInterface</code> (no Creators, like default constructor, exist): abstract types either need to be mapped to concrete types, have custom deserializer, or contain additional type information\nat [Source: (String)&quot;[truncated 254 chars]; line: 1, column: 203] (through reference chain: WSDomainObject[&quot;webReqDomainObject&quot;])</p>\n<p>I'm not quite sure how to cast this to a String due to the polymorphic aspect of the class, is there some annotations that I have to add to my classes or do I just have to set up by object mapper in a different way? Any help would be greatly apprecaited.</p>\n<p>Here is the JSON i'm trying to cast:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;webReqDomainObject&quot;: {\n    &quot;id&quot;: &quot;601942353&quot;\n  },\n  &quot;webRespDomainObject&quot;: {\n    &quot;systemException&quot;: {\n      &quot;errorCode&quot;: &quot;303&quot;,\n      &quot;errorMessage&quot;: &quot;Service error encountered&quot;,\n      &quot;source&quot;: &quot;SERVICE&quot;,\n      &quot;httpStatusCode&quot;: &quot;500&quot;,\n      &quot;systemException&quot;: true\n    },\n    &quot;profiles&quot;: null\n  }\n}\n</code></pre>\n<p>This is the object that I'm trying to cast the above to.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@JsonIgnoreProperties(\n       ignoreUnknown = true\n)\npublic class WSDomainObject&lt;WSSReq extends WebserviceDOInterface, WSSResp extends WebserviceDOInterface&gt; {\n   @JsonProperty(&quot;webReqDomainObject&quot;)\n   private WSSReq webReqDomainObject;\n   @JsonProperty(&quot;webRespDomainObject&quot;)\n   private WSSResp webRespDomainObject;\n\n   public WSDomainObject() {\n   }\n\n   public WSSReq getWebReqDomainObject() {\n      return webReqDomainObject;\n   }\n\n   public void setWebReqDomainObject(WSSReq webReqDomainObject) {\n      this.webReqDomainObject = webReqDomainObject;\n   }\n\n   public WSSResp getWebRespDomainObject() {\n      return webRespDomainObject;\n   }\n\n   public void setWebRespDomainObject(WSSResp webRespDomainObject) {\n      this.webRespDomainObject = webRespDomainObject;\n   }\n}\n</code></pre>\n<p>This is all the WebserviceDOInterface is, just a marker interface.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public interface WebserviceDOInterface {\n}\n</code></pre>\n<p>This is the instance of the WSSReq</p>\n<p>WSReq</p>\n<pre class=\"lang-java prettyprint-override\"><code>@JsonIgnoreProperties(\n   ignoreUnknown = true\n)\npublic class RetrieveRequestDomainObject implements WebserviceDOInterface {\n   @JsonProperty(&quot;id&quot;)\n   private String id;\n\n   public RetrieveRequestDomainObject(String id) {\n      this.id = id;\n   }\n\n   public LoyaltyAccountRetrieveRequestDomainObject() {\n   }\n\n   public String getId() {\n      return this.id;\n   }\n\n   public void setId(String id) {\n      this.id = id;\n   }\n}\n</code></pre>\n<p>This is the instance of the WSResp</p>\n<pre class=\"lang-java prettyprint-override\"><code>@JsonIgnoreProperties(\n   ignoreUnknown = true\n)\npublic class RetrieveResponseDomainObject extends WebserviceDomainObjectResponse {\n   @JsonProperty(&quot;profiles&quot;)\n   private ProfilesTypeDO profiles;\n\n   public RetrieveResponseDomainObject() {\n   }\n\n   public ProfilesTypeDO getProfiles() {\n      return this.profiles;\n   }\n\n   public void setProfiles(ProfilesTypeDO profiles) {\n      this.profiles = profiles;\n   }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>public abstract class WebserviceDomainObjectResponse implements WebserviceDOInterface {\n   private SystemException caughtException = new SystemException();\n\n   public WebserviceDomainObjectResponse() {\n   }\n\n   public SystemException getSystemException() {\n      return this.caughtException;\n   }\n\n   public boolean isSystemException() {\n      return this.caughtException.isSystemException();\n   }\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","imap"],"comments":[{"owner":{"account_id":1550376,"reputation":10772,"user_id":1442918,"display_name":"Max"},"score":0,"creation_date":1676918639,"post_id":75512785,"comment_id":133230132,"body_markdown":"What part isn&#39;t working?","body":"What part isn&#39;t working?"},{"owner":{"account_id":15887085,"reputation":137,"user_id":11463156,"display_name":"Bhavesh Shah"},"score":0,"creation_date":1676918852,"post_id":75512785,"comment_id":133230189,"body_markdown":"Getting javax.mail.FolderNotFoundException: xyz@gmail.com not found exception at line srcFolder.open(Folder.READ_WRITE);","body":"Getting javax.mail.FolderNotFoundException: xyz@gmail.com not found exception at line srcFolder.open(Folder.READ_WRITE);"},{"owner":{"account_id":1550376,"reputation":10772,"user_id":1442918,"display_name":"Max"},"score":0,"creation_date":1676922867,"post_id":75512785,"comment_id":133231180,"body_markdown":"Please include the full traceback in the question, and make the question self contained.  What is srcMailbox and destMailbox set to?","body":"Please include the full traceback in the question, and make the question self contained.  What is srcMailbox and destMailbox set to?"},{"owner":{"account_id":458052,"reputation":9149,"user_id":857727,"display_name":"arnt"},"score":0,"creation_date":1676938248,"post_id":75512785,"comment_id":133234109,"body_markdown":"You need to create two sessions, log one in as abc and the other as xyz, then download the mail in one and upload them in the other session. getMessage() and appendMessage() are the key methods, as I recall. You can also use readymade tools like imapsync.","body":"You need to create two sessions, log one in as abc and the other as xyz, then download the mail in one and upload them in the other session. getMessage() and appendMessage() are the key methods, as I recall. You can also use readymade tools like imapsync."}],"owner":{"account_id":15887085,"reputation":137,"user_id":11463156,"display_name":"Bhavesh Shah"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":76,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676923637,"creation_date":1676916686,"question_id":75512785,"body_markdown":"I am new to the IMAP. I am looking for ways to move an email from one mailbox(xyz@gmail.com) to another mailbox(abc@gmail.com) using IMAP.\r\n\r\nI tried below code but it is not working.\r\n\r\n```\r\nProperties props = new Properties();\r\nprops.setProperty(&quot;mail.store.protocol&quot;, &quot;imaps&quot;);\r\nSession session = Session.getInstance(props, null);\r\nStore store = session.getStore();\r\nstore.connect(&quot;imap.google.com&quot;, &quot;993&quot;, &quot;username&quot;,&quot;password&quot;);\r\nFolder srcFolder = store.getFolder(&quot;xyz@gmail.com&quot;);\r\nsrcFolder.open(Folder.READ_WRITE);\r\nFolder destFolder = store.getFolder(&quot;abc@gmail.com&quot;);\r\ndestFolder.open(Folder.READ_WRITE);\r\nint count = srcFolder.getMessageCount();\r\nMessage message = srcFolder.getMessage(count);\r\nsrcFolder.copyMessages(new Message[] { message }, destFolder);\r\nsrcFolder.close(true);\r\ndestFolder.close(true);\r\nstore.close();\r\n```\r\n\r\nI am getting the below exception.\r\n\r\n```\r\n2023-02-20 23:27:15.477 ERROR 25992 --- [  XNIO-1 task-6] o.z.problem.spring.common.AdviceTraits   : Internal Server Error\r\n\r\njavax.mail.FolderNotFoundException: xyz@gmail.com not found\r\n\tat com.sun.mail.imap.IMAPFolder.checkExists(IMAPFolder.java:431)\r\n\tat com.sun.mail.imap.IMAPFolder.open(IMAPFolder.java:1044)\r\n\tat com.sun.mail.imap.IMAPFolder.open(IMAPFolder.java:977)\r\n\tat com.poc.emailpreprocessor.service.impl.MailboxConfigurationServiceImpl.moveImapEmail(MailboxConfigurationServiceImpl.java:353)\r\n\tat com.poc.emailpreprocessor.service.impl.MailboxConfigurationServiceImpl$$FastClassBySpringCGLIB$$29e510e8.invoke(&lt;generated&gt;)\r\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\r\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:783)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\r\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:753)\r\n\tat org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)\r\n\tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388)\r\n\tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:753)\r\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:698)\r\n\tat com.poc.emailpreprocessor.service.impl.MailboxConfigurationServiceImpl$$EnhancerBySpringCGLIB$$5a3d7f97.moveImapEmail(&lt;generated&gt;)\r\n\tat com.poc.emailpreprocessor.web.rest.MailboxConfigurationResource.moveImapEmailList(MailboxConfigurationResource.java:251)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)\r\n\tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\r\n\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1067)\r\n\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963)\r\n\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)\r\n\tat org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:497)\r\n\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:584)\r\n\tat io.undertow.servlet.handlers.ServletHandler.handleRequest(ServletHandler.java:74)\r\n\tat io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:129)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:111)\r\n\tat io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)\r\n\tat io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:327)\r\n\tat org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115)\r\n\tat org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\r\n\tat org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:122)\r\n\tat org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:116)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\r\n\tat org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126)\r\n\tat org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\r\n\tat org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:109)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\r\n\tat org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\r\n\tat org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\r\n\tat org.springframework.security.web.authentication.www.BasicAuthenticationFilter.doFilterInternal(BasicAuthenticationFilter.java:181)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\r\n\tat com.poc.emailpreprocessor.security.jwt.JWTFilter.doFilter(JWTFilter.java:37)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\r\n\tat org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\r\n\tat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103)\r\n\tat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\r\n\tat org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)\r\n\tat org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\r\n\tat org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:110)\r\n\tat org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:80)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\r\n\tat org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\r\n\tat org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:211)\r\n\tat org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:183)\r\n\tat org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354)\r\n\tat org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267)\r\n\tat io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)\r\n\tat io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)\r\n\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\r\n\tat io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)\r\n\tat io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)\r\n\tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\r\n\tat io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)\r\n\tat io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)\r\n\tat org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:96)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\r\n\tat io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)\r\n\tat io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)\r\n\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\r\n\tat io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)\r\n\tat io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)\r\n\tat io.undertow.servlet.handlers.FilterHandler.handleRequest(FilterHandler.java:84)\r\n\tat io.undertow.servlet.handlers.security.ServletSecurityRoleHandler.handleRequest(ServletSecurityRoleHandler.java:62)\r\n\tat io.undertow.servlet.handlers.ServletChain$1.handleRequest(ServletChain.java:68)\r\n\tat io.undertow.servlet.handlers.ServletDispatchingHandler.handleRequest(ServletDispatchingHandler.java:36)\r\n\tat io.undertow.servlet.handlers.RedirectDirHandler.handleRequest(RedirectDirHandler.java:68)\r\n\tat io.undertow.servlet.handlers.security.SSLInformationAssociationHandler.handleRequest(SSLInformationAssociationHandler.java:117)\r\n\tat io.undertow.servlet.handlers.security.ServletAuthenticationCallHandler.handleRequest(ServletAuthenticationCallHandler.java:57)\r\n\tat io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)\r\n\tat io.undertow.security.handlers.AbstractConfidentialityHandler.handleRequest(AbstractConfidentialityHandler.java:46)\r\n\tat io.undertow.servlet.handlers.security.ServletConfidentialityConstraintHandler.handleRequest(ServletConfidentialityConstraintHandler.java:64)\r\n\tat io.undertow.security.handlers.AuthenticationMechanismsHandler.handleRequest(AuthenticationMechanismsHandler.java:60)\r\n\tat io.undertow.servlet.handlers.security.CachedAuthenticatedSessionHandler.handleRequest(CachedAuthenticatedSessionHandler.java:77)\r\n\tat io.undertow.security.handlers.AbstractSecurityContextAssociationHandler.handleRequest(AbstractSecurityContextAssociationHandler.java:43)\r\n\tat io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)\r\n\tat io.undertow.servlet.handlers.SendErrorPageHandler.handleRequest(SendErrorPageHandler.java:52)\r\n\tat io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)\r\n\tat io.undertow.servlet.handlers.SessionRestoringHandler.handleRequest(SessionRestoringHandler.java:119)\r\n\tat io.undertow.servlet.handlers.ServletInitialHandler.handleFirstRequest(ServletInitialHandler.java:275)\r\n\tat io.undertow.servlet.handlers.ServletInitialHandler.access$100(ServletInitialHandler.java:79)\r\n\tat io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:134)\r\n\tat io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:131)\r\n\tat io.undertow.servlet.core.ServletRequestContextThreadSetupAction$1.call(ServletRequestContextThreadSetupAction.java:48)\r\n\tat io.undertow.servlet.core.ContextClassLoaderSetupAction$1.call(ContextClassLoaderSetupAction.java:43)\r\n\tat io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(ServletInitialHandler.java:255)\r\n\tat io.undertow.servlet.handlers.ServletInitialHandler.access$000(ServletInitialHandler.java:79)\r\n\tat io.undertow.servlet.handlers.ServletInitialHandler$1.handleRequest(ServletInitialHandler.java:100)\r\n\tat io.undertow.server.Connectors.executeRootHandler(Connectors.java:387)\r\n\tat io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:852)\r\n\tat org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)\r\n\tat org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:2019)\r\n\tat org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1558)\r\n\tat org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1449)\r\n\tat org.xnio.XnioWorker$WorkerThreadFactory$1$1.run(XnioWorker.java:1280)\r\n\tat java.base/java.lang.Thread.run(Thread.java:834)\r\n```\r\n\r\nIs is possible to move email from inbox of one mailbox to inbox of another mailbox using IMAP?","title":"How to move email from one mailbox to another mailbox using IMAP in java?","body":"<p>I am new to the IMAP. I am looking for ways to move an email from one mailbox(xyz@gmail.com) to another mailbox(abc@gmail.com) using IMAP.</p>\n<p>I tried below code but it is not working.</p>\n<pre><code>Properties props = new Properties();\nprops.setProperty(&quot;mail.store.protocol&quot;, &quot;imaps&quot;);\nSession session = Session.getInstance(props, null);\nStore store = session.getStore();\nstore.connect(&quot;imap.google.com&quot;, &quot;993&quot;, &quot;username&quot;,&quot;password&quot;);\nFolder srcFolder = store.getFolder(&quot;xyz@gmail.com&quot;);\nsrcFolder.open(Folder.READ_WRITE);\nFolder destFolder = store.getFolder(&quot;abc@gmail.com&quot;);\ndestFolder.open(Folder.READ_WRITE);\nint count = srcFolder.getMessageCount();\nMessage message = srcFolder.getMessage(count);\nsrcFolder.copyMessages(new Message[] { message }, destFolder);\nsrcFolder.close(true);\ndestFolder.close(true);\nstore.close();\n</code></pre>\n<p>I am getting the below exception.</p>\n<pre><code>2023-02-20 23:27:15.477 ERROR 25992 --- [  XNIO-1 task-6] o.z.problem.spring.common.AdviceTraits   : Internal Server Error\n\njavax.mail.FolderNotFoundException: xyz@gmail.com not found\n    at com.sun.mail.imap.IMAPFolder.checkExists(IMAPFolder.java:431)\n    at com.sun.mail.imap.IMAPFolder.open(IMAPFolder.java:1044)\n    at com.sun.mail.imap.IMAPFolder.open(IMAPFolder.java:977)\n    at com.poc.emailpreprocessor.service.impl.MailboxConfigurationServiceImpl.moveImapEmail(MailboxConfigurationServiceImpl.java:353)\n    at com.poc.emailpreprocessor.service.impl.MailboxConfigurationServiceImpl$$FastClassBySpringCGLIB$$29e510e8.invoke(&lt;generated&gt;)\n    at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n    at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:783)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n    at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:753)\n    at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)\n    at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388)\n    at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n    at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:753)\n    at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:698)\n    at com.poc.emailpreprocessor.service.impl.MailboxConfigurationServiceImpl$$EnhancerBySpringCGLIB$$5a3d7f97.moveImapEmail(&lt;generated&gt;)\n    at com.poc.emailpreprocessor.web.rest.MailboxConfigurationResource.moveImapEmailList(MailboxConfigurationResource.java:251)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n    at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)\n    at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)\n    at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)\n    at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\n    at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1067)\n    at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963)\n    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)\n    at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:497)\n    at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:584)\n    at io.undertow.servlet.handlers.ServletHandler.handleRequest(ServletHandler.java:74)\n    at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:129)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:111)\n    at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)\n    at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:327)\n    at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115)\n    at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\n    at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:122)\n    at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:116)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\n    at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126)\n    at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\n    at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:109)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\n    at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\n    at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\n    at org.springframework.security.web.authentication.www.BasicAuthenticationFilter.doFilterInternal(BasicAuthenticationFilter.java:181)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\n    at com.poc.emailpreprocessor.security.jwt.JWTFilter.doFilter(JWTFilter.java:37)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\n    at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\n    at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103)\n    at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\n    at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)\n    at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\n    at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:110)\n    at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:80)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\n    at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\n    at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:211)\n    at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:183)\n    at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354)\n    at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267)\n    at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)\n    at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)\n    at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\n    at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)\n    at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)\n    at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\n    at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)\n    at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)\n    at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:96)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\n    at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)\n    at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)\n    at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\n    at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)\n    at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)\n    at io.undertow.servlet.handlers.FilterHandler.handleRequest(FilterHandler.java:84)\n    at io.undertow.servlet.handlers.security.ServletSecurityRoleHandler.handleRequest(ServletSecurityRoleHandler.java:62)\n    at io.undertow.servlet.handlers.ServletChain$1.handleRequest(ServletChain.java:68)\n    at io.undertow.servlet.handlers.ServletDispatchingHandler.handleRequest(ServletDispatchingHandler.java:36)\n    at io.undertow.servlet.handlers.RedirectDirHandler.handleRequest(RedirectDirHandler.java:68)\n    at io.undertow.servlet.handlers.security.SSLInformationAssociationHandler.handleRequest(SSLInformationAssociationHandler.java:117)\n    at io.undertow.servlet.handlers.security.ServletAuthenticationCallHandler.handleRequest(ServletAuthenticationCallHandler.java:57)\n    at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)\n    at io.undertow.security.handlers.AbstractConfidentialityHandler.handleRequest(AbstractConfidentialityHandler.java:46)\n    at io.undertow.servlet.handlers.security.ServletConfidentialityConstraintHandler.handleRequest(ServletConfidentialityConstraintHandler.java:64)\n    at io.undertow.security.handlers.AuthenticationMechanismsHandler.handleRequest(AuthenticationMechanismsHandler.java:60)\n    at io.undertow.servlet.handlers.security.CachedAuthenticatedSessionHandler.handleRequest(CachedAuthenticatedSessionHandler.java:77)\n    at io.undertow.security.handlers.AbstractSecurityContextAssociationHandler.handleRequest(AbstractSecurityContextAssociationHandler.java:43)\n    at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)\n    at io.undertow.servlet.handlers.SendErrorPageHandler.handleRequest(SendErrorPageHandler.java:52)\n    at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)\n    at io.undertow.servlet.handlers.SessionRestoringHandler.handleRequest(SessionRestoringHandler.java:119)\n    at io.undertow.servlet.handlers.ServletInitialHandler.handleFirstRequest(ServletInitialHandler.java:275)\n    at io.undertow.servlet.handlers.ServletInitialHandler.access$100(ServletInitialHandler.java:79)\n    at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:134)\n    at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:131)\n    at io.undertow.servlet.core.ServletRequestContextThreadSetupAction$1.call(ServletRequestContextThreadSetupAction.java:48)\n    at io.undertow.servlet.core.ContextClassLoaderSetupAction$1.call(ContextClassLoaderSetupAction.java:43)\n    at io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(ServletInitialHandler.java:255)\n    at io.undertow.servlet.handlers.ServletInitialHandler.access$000(ServletInitialHandler.java:79)\n    at io.undertow.servlet.handlers.ServletInitialHandler$1.handleRequest(ServletInitialHandler.java:100)\n    at io.undertow.server.Connectors.executeRootHandler(Connectors.java:387)\n    at io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:852)\n    at org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)\n    at org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:2019)\n    at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1558)\n    at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1449)\n    at org.xnio.XnioWorker$WorkerThreadFactory$1$1.run(XnioWorker.java:1280)\n    at java.base/java.lang.Thread.run(Thread.java:834)\n</code></pre>\n<p>Is is possible to move email from inbox of one mailbox to inbox of another mailbox using IMAP?</p>\n"},{"tags":["java","amazon-web-services","amazon-dynamodb","amazon-dynamodb-index"],"comments":[{"owner":{"account_id":494473,"reputation":22029,"user_id":2933177,"accept_rate":50,"display_name":"Charles"},"score":0,"creation_date":1676932202,"post_id":75513516,"comment_id":133233194,"body_markdown":"Does this answer your question? [How to get group by and count of millions of records in fastest way in dynamodb](https://stackoverflow.com/questions/75471575/how-to-get-group-by-and-count-of-millions-of-records-in-fastest-way-in-dynamodb)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/75471575/how-to-get-group-by-and-count-of-millions-of-records-in-fastest-way-in-dynamodb\">How to get group by and count of millions of records in fastest way in dynamodb</a>"}],"answers":[{"tags":[],"owner":{"account_id":10749774,"reputation":14475,"user_id":7909676,"display_name":"Leeroy Hannigan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1676923568,"creation_date":1676923568,"answer_id":75513690,"question_id":75513516,"body_markdown":"Ideally you want to avoid doing a Query and paginating all of the data each time you need a count of the items. I explain in [this SO answer](https://stackoverflow.com/a/75471720/7909676) how to overcome that by using DynamoDB Streams and an aggregation window to create an easy to query count item, which you can retrieve with a single `GetItem` call, which is fast and efficient. ","title":"Count of rows in DB with particular field value using GSI","body":"<p>Ideally you want to avoid doing a Query and paginating all of the data each time you need a count of the items. I explain in <a href=\"https://stackoverflow.com/a/75471720/7909676\">this SO answer</a> how to overcome that by using DynamoDB Streams and an aggregation window to create an easy to query count item, which you can retrieve with a single <code>GetItem</code> call, which is fast and efficient.</p>\n"}],"owner":{"account_id":1410257,"reputation":2118,"user_id":1337007,"accept_rate":72,"display_name":"ghostrider"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":84,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1676923568,"creation_date":1676922200,"question_id":75513516,"body_markdown":"So I have below rows in `DynamoDB` with example data. I want to find out the count in below format which means given a `file name` as input, output should be the `number of events of that file present in the DB`. Currently I have created a `GSI` on `eventId` as `rangekey`  and `filename` as `hashkey`. I am doing `query` and `pagination` to get the count but its very slow due to number of rows in millions. Is there any other faster way to do it since I need to find only the count and not individual items. \r\n\r\n    fileName BrandCode Eventid\r\n    ABC       123       30100\r\n    ABC       367       30100\r\n    ABC       891       30111\r\n    XYZ       456       40758\r\n    XYZ       298       40759\r\n    XYZ       296       30111\r\n\r\nBasically a file can generate multiple events and each event can be split into multiple Brandcodes. \r\n\r\n\r\n    FileName Count of events\r\n    \r\n    ABC      2\r\n    \r\n    XYZ      3","title":"Count of rows in DB with particular field value using GSI","body":"<p>So I have below rows in <code>DynamoDB</code> with example data. I want to find out the count in below format which means given a <code>file name</code> as input, output should be the <code>number of events of that file present in the DB</code>. Currently I have created a <code>GSI</code> on <code>eventId</code> as <code>rangekey</code>  and <code>filename</code> as <code>hashkey</code>. I am doing <code>query</code> and <code>pagination</code> to get the count but its very slow due to number of rows in millions. Is there any other faster way to do it since I need to find only the count and not individual items.</p>\n<pre><code>fileName BrandCode Eventid\nABC       123       30100\nABC       367       30100\nABC       891       30111\nXYZ       456       40758\nXYZ       298       40759\nXYZ       296       30111\n</code></pre>\n<p>Basically a file can generate multiple events and each event can be split into multiple Brandcodes.</p>\n<pre><code>FileName Count of events\n\nABC      2\n\nXYZ      3\n</code></pre>\n"},{"tags":["java","spring-boot","spring-cloud-gateway"],"answers":[{"tags":[],"owner":{"account_id":1203571,"reputation":8031,"user_id":1173755,"accept_rate":96,"display_name":"riccardo.cardin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1613999001,"creation_date":1613999001,"answer_id":66316245,"question_id":66312146,"body_markdown":"It&#39;s easier than I thought.\r\nIt is sufficient to enable the property `server.compression.enabled` in the _application.yml_ file. If you want to have a list of all the available options, look at the [official documentation](https://docs.spring.io/spring-boot/docs/2.2.10.RELEASE/reference/html/appendix-application-properties.html#server-properties).\r\n\r\nWARNING: The proxied microservices don&#39;t have to compress the response, too.","title":"Spring Cloud Gateway - Compress all the responses","body":"<p>It's easier than I thought.\nIt is sufficient to enable the property <code>server.compression.enabled</code> in the <em>application.yml</em> file. If you want to have a list of all the available options, look at the <a href=\"https://docs.spring.io/spring-boot/docs/2.2.10.RELEASE/reference/html/appendix-application-properties.html#server-properties\" rel=\"nofollow noreferrer\">official documentation</a>.</p>\n<p>WARNING: The proxied microservices don't have to compress the response, too.</p>\n"}],"owner":{"account_id":1203571,"reputation":8031,"user_id":1173755,"accept_rate":96,"display_name":"riccardo.cardin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1465,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1676923379,"creation_date":1613981887,"question_id":66312146,"body_markdown":"I am using the Spring Cloud Gateway, version 2.2.7.RELEASE, as a gateway for a microservice application. We developed every microservice using Spring Boot. The responses coming from microservices are not compressed.\r\n\r\nI am searching how to perform compression of responses directly in the gateway, maybe as a `GlobalFilter`. However, I am not finding any reference on the Internet.\r\n\r\nIs it possible?","title":"Spring Cloud Gateway - Compress all the responses","body":"<p>I am using the Spring Cloud Gateway, version 2.2.7.RELEASE, as a gateway for a microservice application. We developed every microservice using Spring Boot. The responses coming from microservices are not compressed.</p>\n<p>I am searching how to perform compression of responses directly in the gateway, maybe as a <code>GlobalFilter</code>. However, I am not finding any reference on the Internet.</p>\n<p>Is it possible?</p>\n"},{"tags":["java","spring-boot","liquibase"],"comments":[{"owner":{"account_id":6794864,"reputation":1053,"user_id":5230585,"display_name":"Katy"},"score":0,"creation_date":1676934763,"post_id":75513658,"comment_id":133233656,"body_markdown":"Duplicate : https://stackoverflow.com/questions/23540464/liquibase-command-line-cannot-find-the-declaration-of-element-changeset","body":"Duplicate : <a href=\"https://stackoverflow.com/questions/23540464/liquibase-command-line-cannot-find-the-declaration-of-element-changeset\" title=\"liquibase command line cannot find the declaration of element changeset\">stackoverflow.com/questions/23540464/&hellip;</a>"},{"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"score":0,"creation_date":1676976345,"post_id":75513658,"comment_id":133241057,"body_markdown":"@Katy I already looked through this link before but it didn&#39;t help me fix the issue.","body":"@Katy I already looked through this link before but it didn&#39;t help me fix the issue."}],"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676923253,"creation_date":1676923253,"question_id":75513658,"body_markdown":"I have a problem in defining seperate xmls Liquibase in Spring Boot.\r\n\r\n1.xml, 2.xml and 3.xml are located under changes folder\r\n\r\nHere is **db.changelog-master.yaml** shown\r\n\r\n    databaseChangeLog:\r\n      - includeAll:\r\n          path: &quot;/db/changelog/changes/&quot;\r\n\r\nHere is **1.xml** shown below\r\n\r\n    &lt;changeSet id=&quot;1&quot; author=&quot;author&quot;&gt;\r\n        &lt;createTable tableName=&quot;phone_numbers&quot;&gt;\r\n            &lt;column name=&quot;id&quot; type=&quot;bigint&quot; autoIncrement=&quot;true&quot; nullable=&quot;false&quot;&gt;\r\n                &lt;constraints primaryKey=&quot;true&quot; /&gt;\r\n            &lt;/column&gt;\r\n            &lt;column name=&quot;create_date&quot; type=&quot;timestamp&quot; defaultValueDate=&quot;CURRENT_TIMESTAMP&quot; /&gt;\r\n            &lt;column name=&quot;update_date&quot; type=&quot;timestamp&quot; defaultValueDate=&quot;CURRENT_TIMESTAMP}&quot; /&gt;\r\n            &lt;column name=&quot;country_code&quot; type=&quot;int&quot; nullable=&quot;false&quot; /&gt;\r\n        &lt;/createTable&gt;\r\n    &lt;/changeSet&gt;\r\n\r\nHere is **2.xml** shown below\r\n\r\n    &lt;changeSet id=&quot;2&quot; author=&quot;noyan&quot;&gt;\r\n        &lt;createTable tableName=&quot;roles&quot;&gt;\r\n            &lt;column name=&quot;id&quot; type=&quot;bigint&quot; autoIncrement=&quot;true&quot; nullable=&quot;false&quot;&gt;\r\n                &lt;constraints primaryKey=&quot;true&quot; /&gt;\r\n            &lt;/column&gt;\r\n            &lt;column name=&quot;create_date&quot; type=&quot;timestamp&quot; defaultValueDate=&quot;${now}&quot; /&gt;\r\n            &lt;column name=&quot;update_date&quot; type=&quot;timestamp&quot; defaultValueDate=&quot;${now}&quot; /&gt;\r\n            &lt;column name=&quot;name&quot; type=&quot;varchar(30)&quot; nullable=&quot;false&quot; /&gt;\r\n            &lt;constraints uniqueConstraintName=&quot;UK_ofx66keruapi6vyqpv6f2or37&quot; unique=&quot;true&quot;&gt;\r\n                &lt;uniqueConstraint columnNames=&quot;name&quot; /&gt;\r\n            &lt;/constraints&gt;\r\n        &lt;/createTable&gt;\r\n    &lt;/changeSet&gt;\r\n\r\nHere is **3.xml** shown below\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;changeSet id=&quot;3&quot; author=&quot;author&quot;&gt;\r\n        &lt;createTable tableName=&quot;users&quot;&gt;\r\n            &lt;column name=&quot;id&quot; type=&quot;bigint&quot; autoIncrement=&quot;true&quot; /&gt;\r\n            &lt;column name=&quot;create_date&quot; type=&quot;TIMESTAMP&quot; defaultValueDate=&quot;CURRENT_TIMESTAMP&quot; /&gt;\r\n            &lt;column name=&quot;update_date&quot; type=&quot;TIMESTAMP&quot; defaultValueDate=&quot;CURRENT_TIMESTAMP&quot; /&gt;\r\n            &lt;column name=&quot;username&quot; type=&quot;varchar(255)&quot; nullable=&quot;false&quot; /&gt;\r\n            &lt;column name=&quot;phone_number_id&quot; type=&quot;bigint&quot; defaultValueNumeric=&quot;NULL&quot; /&gt;\r\n            &lt;constraints primaryKey=&quot;id&quot; /&gt;\r\n            &lt;constraints uniqueConstraintName=&quot;UK_ain6rnqaxwdkd2y7039apay37&quot; uniqueColumns=&quot;status&quot; /&gt;\r\n            &lt;constraints uniqueConstraintName=&quot;UK_r43af9ap4edm43mmtq01oddj6&quot; uniqueColumns=&quot;username&quot; /&gt;\r\n            &lt;constraints foreignKeyName=&quot;FKsm22r0ln4w8wg55nd1iyddkpv&quot; referencedTableName=&quot;phone_numbers&quot; referencedColumnNames=&quot;id&quot; baseColumnNames=&quot;phone_id&quot; /&gt;\r\n        &lt;/createTable&gt;\r\n    &lt;/changeSet&gt;\r\n\r\nI got the error when I run the application.\r\n\r\nHere is the error shown below.\r\n\r\n    Error parsing line 1 column 34 of db/changelog/changes/1.xml: cvc-elt.1.a: Cannot find the declaration of element &#39;changeSet&#39;.\r\n    cvc-elt.1.a: Cannot find the declaration of element &#39;changeSet&#39;.\r\n\r\nHow can I fix the issue?","title":"How can implement seperate xmls for Liquibase in Spring Boot (Cannot find the declaration of element &#39;changeSet&#39;)","body":"<p>I have a problem in defining seperate xmls Liquibase in Spring Boot.</p>\n<p>1.xml, 2.xml and 3.xml are located under changes folder</p>\n<p>Here is <strong>db.changelog-master.yaml</strong> shown</p>\n<pre><code>databaseChangeLog:\n  - includeAll:\n      path: &quot;/db/changelog/changes/&quot;\n</code></pre>\n<p>Here is <strong>1.xml</strong> shown below</p>\n<pre><code>&lt;changeSet id=&quot;1&quot; author=&quot;author&quot;&gt;\n    &lt;createTable tableName=&quot;phone_numbers&quot;&gt;\n        &lt;column name=&quot;id&quot; type=&quot;bigint&quot; autoIncrement=&quot;true&quot; nullable=&quot;false&quot;&gt;\n            &lt;constraints primaryKey=&quot;true&quot; /&gt;\n        &lt;/column&gt;\n        &lt;column name=&quot;create_date&quot; type=&quot;timestamp&quot; defaultValueDate=&quot;CURRENT_TIMESTAMP&quot; /&gt;\n        &lt;column name=&quot;update_date&quot; type=&quot;timestamp&quot; defaultValueDate=&quot;CURRENT_TIMESTAMP}&quot; /&gt;\n        &lt;column name=&quot;country_code&quot; type=&quot;int&quot; nullable=&quot;false&quot; /&gt;\n    &lt;/createTable&gt;\n&lt;/changeSet&gt;\n</code></pre>\n<p>Here is <strong>2.xml</strong> shown below</p>\n<pre><code>&lt;changeSet id=&quot;2&quot; author=&quot;noyan&quot;&gt;\n    &lt;createTable tableName=&quot;roles&quot;&gt;\n        &lt;column name=&quot;id&quot; type=&quot;bigint&quot; autoIncrement=&quot;true&quot; nullable=&quot;false&quot;&gt;\n            &lt;constraints primaryKey=&quot;true&quot; /&gt;\n        &lt;/column&gt;\n        &lt;column name=&quot;create_date&quot; type=&quot;timestamp&quot; defaultValueDate=&quot;${now}&quot; /&gt;\n        &lt;column name=&quot;update_date&quot; type=&quot;timestamp&quot; defaultValueDate=&quot;${now}&quot; /&gt;\n        &lt;column name=&quot;name&quot; type=&quot;varchar(30)&quot; nullable=&quot;false&quot; /&gt;\n        &lt;constraints uniqueConstraintName=&quot;UK_ofx66keruapi6vyqpv6f2or37&quot; unique=&quot;true&quot;&gt;\n            &lt;uniqueConstraint columnNames=&quot;name&quot; /&gt;\n        &lt;/constraints&gt;\n    &lt;/createTable&gt;\n&lt;/changeSet&gt;\n</code></pre>\n<p>Here is <strong>3.xml</strong> shown below</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;changeSet id=&quot;3&quot; author=&quot;author&quot;&gt;\n    &lt;createTable tableName=&quot;users&quot;&gt;\n        &lt;column name=&quot;id&quot; type=&quot;bigint&quot; autoIncrement=&quot;true&quot; /&gt;\n        &lt;column name=&quot;create_date&quot; type=&quot;TIMESTAMP&quot; defaultValueDate=&quot;CURRENT_TIMESTAMP&quot; /&gt;\n        &lt;column name=&quot;update_date&quot; type=&quot;TIMESTAMP&quot; defaultValueDate=&quot;CURRENT_TIMESTAMP&quot; /&gt;\n        &lt;column name=&quot;username&quot; type=&quot;varchar(255)&quot; nullable=&quot;false&quot; /&gt;\n        &lt;column name=&quot;phone_number_id&quot; type=&quot;bigint&quot; defaultValueNumeric=&quot;NULL&quot; /&gt;\n        &lt;constraints primaryKey=&quot;id&quot; /&gt;\n        &lt;constraints uniqueConstraintName=&quot;UK_ain6rnqaxwdkd2y7039apay37&quot; uniqueColumns=&quot;status&quot; /&gt;\n        &lt;constraints uniqueConstraintName=&quot;UK_r43af9ap4edm43mmtq01oddj6&quot; uniqueColumns=&quot;username&quot; /&gt;\n        &lt;constraints foreignKeyName=&quot;FKsm22r0ln4w8wg55nd1iyddkpv&quot; referencedTableName=&quot;phone_numbers&quot; referencedColumnNames=&quot;id&quot; baseColumnNames=&quot;phone_id&quot; /&gt;\n    &lt;/createTable&gt;\n&lt;/changeSet&gt;\n</code></pre>\n<p>I got the error when I run the application.</p>\n<p>Here is the error shown below.</p>\n<pre><code>Error parsing line 1 column 34 of db/changelog/changes/1.xml: cvc-elt.1.a: Cannot find the declaration of element 'changeSet'.\ncvc-elt.1.a: Cannot find the declaration of element 'changeSet'.\n</code></pre>\n<p>How can I fix the issue?</p>\n"},{"tags":["java","spring","logging","interceptor"],"owner":{"account_id":25005814,"reputation":1,"user_id":18865766,"display_name":"Arnaud"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":99,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676921950,"creation_date":1676913536,"question_id":75512361,"body_markdown":"I am trying to write a custom interceptor in order to log my request and response body with Spring.\r\n\r\nI have started to override my dispatcher servlet like this :\r\n\r\n```\r\n@Bean\r\n@Primary\r\npublic DispatcherServlet dispatcherServlet(WebApplicationContext context) {\r\n    return new DispatcherServlet(context) {\r\n        @Override\r\n        protected void service(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\r\n            ContentCachingRequestWrapper requesWrapper = new ContentCachingRequestWrapper(request);\r\n            ContentCachingResponseWrapper responseWrapper = new ContentCachingResponseWrapper(response);\r\n            super.service(requesWrapper, responseWrapper);\r\n            responseWrapper.copyBodyToResponse();\r\n        }\r\n    };\r\n}\r\n```\r\n\r\nAfter that, I have written a logger handler like this :\r\n\r\n```\r\npublic class LoggingHandler implements HandlerInterceptor {\r\n\r\n    private static final Logger logger = ApplicationManager.getLogger(LoggingHandler.class);\r\n\r\n    @Override\r\n    public boolean preHandle(HttpServletRequest request, HttpServletResponse response, Object handler) throws Exception {\r\n        logger.info(&quot;[preHandle][&quot; + this.getContenteAsString(((ContentCachingRequestWrapper) request).getContentAsByteArray(), request.getCharacterEncoding()), request.getCharacterEncoding() + &quot;]&quot; + &quot;[&quot; + request.getMethod()\r\n                + &quot;]&quot; + request.getRequestURI());\r\n        return true;\r\n    }\r\n\r\n    @Override\r\n    public void afterCompletion(\r\n            HttpServletRequest request, HttpServletResponse response, Object handler, Exception ex\r\n    ) throws Exception {\r\n        this.logger.debug(&quot;=&gt; &quot; + response.getStatus() + &quot;   Reponse body :\\n&quot; + this.getContenteAsString(((ContentCachingResponseWrapper) response).getContentAsByteArray(), response.getCharacterEncoding()));\r\n\r\n        {\r\n        }\r\n    }\r\n\r\n    /**\r\n     * @param buf\r\n     * @param charsetName\r\n     * @return\r\n     */\r\n    private String getContenteAsString(byte[] buf, String charsetName) {\r\n        if (buf == null || buf.length == 0) return &quot;&quot;;\r\n        int length = Math.min(buf.length, 10000);\r\n        try {\r\n            return new String(buf, 0, length, charsetName);\r\n        } catch (UnsupportedEncodingException ex) {\r\n            return &quot;Unsupported Encoding&quot;;\r\n        }\r\n    }\r\n\r\n\r\n}\r\n```\r\n\r\nAnd finally, I have registred it in the method addInterceptors of  WebMvcConfigurer :\r\n\r\n```\r\n@Configuration\r\npublic class WebMvcConfig implements WebMvcConfigurer {\r\n\r\n    @Override\r\n    public void addInterceptors(InterceptorRegistry registry) {\r\n        registry.addInterceptor(new LoggingHandler());\r\n    }\r\n\r\n}\r\n```\r\n\r\nI have to mention that my controller returning a response with callable interface :\r\n\r\n```\r\n@PostMapping(value = &quot;/v1/cdt/document&quot;, produces = {MediaType.APPLICATION_JSON_VALUE})\r\n@ResourceMap(rel = &quot;composerDocument&quot;, genParams = Generate.BY_VALUE_ELSE_BY_NAME)\r\n@ResponseBody\r\n@ResponseStatus(HttpStatus.CREATED)\r\n@ApiOperation(&quot;API composition documents (PDF, Courriers)&quot;)\r\n@ApiResponses(value = {@ApiResponse(code = 201, message = &quot;Requ&#234;te valide : document compos&#233;&quot;)})\r\npublic Callable&lt;CompositionDocumentRessource&gt; composerDocument(@RequestBody final String requete)\r\n    throws ApplicationException, IOException\r\n```\r\n\r\nEverything is logging correctly in my console, but the response is returned empty to the user. If you have a solution I would be very grateful.\r\n\r\nThank you\r\n\r\nI have tried to log my request and response with different ways (Filters, Interceptors), but the response is never return with the Async comportment.","title":"Custom Logging Handler Interceptor returns empty response","body":"<p>I am trying to write a custom interceptor in order to log my request and response body with Spring.</p>\n<p>I have started to override my dispatcher servlet like this :</p>\n<pre><code>@Bean\n@Primary\npublic DispatcherServlet dispatcherServlet(WebApplicationContext context) {\n    return new DispatcherServlet(context) {\n        @Override\n        protected void service(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\n            ContentCachingRequestWrapper requesWrapper = new ContentCachingRequestWrapper(request);\n            ContentCachingResponseWrapper responseWrapper = new ContentCachingResponseWrapper(response);\n            super.service(requesWrapper, responseWrapper);\n            responseWrapper.copyBodyToResponse();\n        }\n    };\n}\n</code></pre>\n<p>After that, I have written a logger handler like this :</p>\n<pre><code>public class LoggingHandler implements HandlerInterceptor {\n\n    private static final Logger logger = ApplicationManager.getLogger(LoggingHandler.class);\n\n    @Override\n    public boolean preHandle(HttpServletRequest request, HttpServletResponse response, Object handler) throws Exception {\n        logger.info(&quot;[preHandle][&quot; + this.getContenteAsString(((ContentCachingRequestWrapper) request).getContentAsByteArray(), request.getCharacterEncoding()), request.getCharacterEncoding() + &quot;]&quot; + &quot;[&quot; + request.getMethod()\n                + &quot;]&quot; + request.getRequestURI());\n        return true;\n    }\n\n    @Override\n    public void afterCompletion(\n            HttpServletRequest request, HttpServletResponse response, Object handler, Exception ex\n    ) throws Exception {\n        this.logger.debug(&quot;=&gt; &quot; + response.getStatus() + &quot;   Reponse body :\\n&quot; + this.getContenteAsString(((ContentCachingResponseWrapper) response).getContentAsByteArray(), response.getCharacterEncoding()));\n\n        {\n        }\n    }\n\n    /**\n     * @param buf\n     * @param charsetName\n     * @return\n     */\n    private String getContenteAsString(byte[] buf, String charsetName) {\n        if (buf == null || buf.length == 0) return &quot;&quot;;\n        int length = Math.min(buf.length, 10000);\n        try {\n            return new String(buf, 0, length, charsetName);\n        } catch (UnsupportedEncodingException ex) {\n            return &quot;Unsupported Encoding&quot;;\n        }\n    }\n\n\n}\n</code></pre>\n<p>And finally, I have registred it in the method addInterceptors of  WebMvcConfigurer :</p>\n<pre><code>@Configuration\npublic class WebMvcConfig implements WebMvcConfigurer {\n\n    @Override\n    public void addInterceptors(InterceptorRegistry registry) {\n        registry.addInterceptor(new LoggingHandler());\n    }\n\n}\n</code></pre>\n<p>I have to mention that my controller returning a response with callable interface :</p>\n<pre><code>@PostMapping(value = &quot;/v1/cdt/document&quot;, produces = {MediaType.APPLICATION_JSON_VALUE})\n@ResourceMap(rel = &quot;composerDocument&quot;, genParams = Generate.BY_VALUE_ELSE_BY_NAME)\n@ResponseBody\n@ResponseStatus(HttpStatus.CREATED)\n@ApiOperation(&quot;API composition documents (PDF, Courriers)&quot;)\n@ApiResponses(value = {@ApiResponse(code = 201, message = &quot;Requête valide : document composé&quot;)})\npublic Callable&lt;CompositionDocumentRessource&gt; composerDocument(@RequestBody final String requete)\n    throws ApplicationException, IOException\n</code></pre>\n<p>Everything is logging correctly in my console, but the response is returned empty to the user. If you have a solution I would be very grateful.</p>\n<p>Thank you</p>\n<p>I have tried to log my request and response with different ways (Filters, Interceptors), but the response is never return with the Async comportment.</p>\n"},{"tags":["java","spring-boot","maven"],"comments":[{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":1,"creation_date":1676914664,"post_id":75511941,"comment_id":133229109,"body_markdown":"Do not use maven-assembly-plugin... use the spring-boot-maven-plugin which is intended for that purpose... with maven-assembly-plugin you will not achieve that... (easy)...","body":"Do not use maven-assembly-plugin... use the spring-boot-maven-plugin which is intended for that purpose... with maven-assembly-plugin you will not achieve that... (easy)..."}],"answers":[{"tags":[],"owner":{"account_id":4178418,"reputation":776,"user_id":3424245,"accept_rate":50,"display_name":"Syn"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1676921831,"creation_date":1676913850,"answer_id":75512398,"question_id":75511941,"body_markdown":"Instead of using the `maven-assembly-plugin` you can try using the `spring-boot-maven-plugin`.\r\n\r\n    &lt;plugin&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n        &lt;configuration&gt;\r\n            &lt;mainClass&gt;net.regnology.devautomation.GmpDevAutomationBeApplication&lt;/mainClass&gt;\r\n        &lt;/configuration&gt;\r\n    \r\n        &lt;executions&gt;\r\n            &lt;execution&gt;\r\n                &lt;goals&gt;\r\n                    &lt;goal&gt;repackage&lt;/goal&gt;\r\n                &lt;/goals&gt;\r\n            &lt;/execution&gt;\r\n        &lt;/executions&gt;\r\n    &lt;/plugin&gt;\r\n\r\n If you have the `spring-boot-starter-parent` in you pom, you do not have to define `repackage` as a goal. You can then just call `mvn package` and the jar should run.","title":"Spring Boot Application No ServletContext set when starting Jar File","body":"<p>Instead of using the <code>maven-assembly-plugin</code> you can try using the <code>spring-boot-maven-plugin</code>.</p>\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n    &lt;configuration&gt;\n        &lt;mainClass&gt;net.regnology.devautomation.GmpDevAutomationBeApplication&lt;/mainClass&gt;\n    &lt;/configuration&gt;\n\n    &lt;executions&gt;\n        &lt;execution&gt;\n            &lt;goals&gt;\n                &lt;goal&gt;repackage&lt;/goal&gt;\n            &lt;/goals&gt;\n        &lt;/execution&gt;\n    &lt;/executions&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p>If you have the <code>spring-boot-starter-parent</code> in you pom, you do not have to define <code>repackage</code> as a goal. You can then just call <code>mvn package</code> and the jar should run.</p>\n"}],"owner":{"account_id":11406710,"reputation":23,"user_id":8361949,"display_name":"G&#246;rkem Demirkol"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":331,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":75512398,"answer_count":1,"score":2,"last_activity_date":1676921831,"creation_date":1676910988,"question_id":75511941,"body_markdown":"I have a very basic Spring application without any database connection. When i run the application main class from intellij it works. However, when I build it and execute the jar from command line I get below error message. \r\n\r\nYou can see part of my application below.\r\n\r\n```\r\n@SpringBootApplication(exclude={DataSourceAutoConfiguration.class, HibernateJpaAutoConfiguration.class})\r\npublic class GmpDevAutomationBeApplication {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(GmpDevAutomationBeApplication.class, args);\r\n\t}\r\n\r\n}\r\n```\r\n\r\n```\r\n@RestController\r\n@CrossOrigin(origins = &quot;http://localhost:4200&quot;)\r\npublic class JGitController {\r\n\r\n    @GetMapping(&quot;/branches&quot;)\r\n    @ResponseBody\r\n    public List&lt;String&gt; getBranches(@RequestParam String userName, @RequestParam String password) {\r\n\r\n        JGitService jGitService = new JGitService(userName,password);\r\n        return jGitService.getBranches();\r\n\r\n    }\r\n\r\n\r\n}\r\n```\r\n\r\nI am using the following maven plugin to build my jar.\r\n\r\n\r\n```\r\n&lt;plugin&gt;\r\n\t&lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\r\n\t&lt;configuration&gt;\r\n\t\t&lt;archive&gt;\r\n\t\t\t&lt;manifest&gt;\r\n\t\t\t\t&lt;mainClass&gt;net.regnology.devautomation.GmpDevAutomationBeApplication&lt;/mainClass&gt;\r\n\t\t\t&lt;/manifest&gt;\r\n\t\t&lt;/archive&gt;\r\n\t\t&lt;descriptorRefs&gt;\r\n\t\t\t&lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\r\n\t\t&lt;/descriptorRefs&gt;\r\n\t&lt;/configuration&gt;\r\n&lt;/plugin&gt;\r\n```\r\n\r\n```\r\n17:12:11.895 [main] DEBUG org.springframework.scheduling.concurrent.ThreadPoolTaskExecutor - Shutting down ExecutorService &#39;applicationTaskExecutor&#39;\r\n17:12:11.898 [main] ERROR org.springframework.boot.SpringApplication - Application run failed\r\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;resourceHandlerMapping&#39; defined in class path resource [org/springframework/boot/autoconfigure/web/servlet/WebMvcAutoConfiguration$EnableWebMvcConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.web.servlet.HandlerMapping]: Factory method &#39;resourceHandlerMapping&#39; threw exception; nested exception is java.lang.IllegalStateException: No ServletContext set\r\n        at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:658)\r\n        ...\r\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295)\r\n        at net.regnology.devautomation.GmpDevAutomationBeApplication.main(GmpDevAutomationBeApplication.java:13)\r\nCaused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.web.servlet.HandlerMapping]: Factory method &#39;resourceHandlerMapping&#39; threw exception; nested exception is java.lang.IllegalStateException: No ServletContext set\r\n        at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:185)\r\n        at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:653)\r\n        ... 18 common frames omitted\r\nCaused by: java.lang.IllegalStateException: No ServletContext set\r\n\r\n```\r\n\r\nCan you tell me what is wrong with my configuration?","title":"Spring Boot Application No ServletContext set when starting Jar File","body":"<p>I have a very basic Spring application without any database connection. When i run the application main class from intellij it works. However, when I build it and execute the jar from command line I get below error message.</p>\n<p>You can see part of my application below.</p>\n<pre><code>@SpringBootApplication(exclude={DataSourceAutoConfiguration.class, HibernateJpaAutoConfiguration.class})\npublic class GmpDevAutomationBeApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(GmpDevAutomationBeApplication.class, args);\n    }\n\n}\n</code></pre>\n<pre><code>@RestController\n@CrossOrigin(origins = &quot;http://localhost:4200&quot;)\npublic class JGitController {\n\n    @GetMapping(&quot;/branches&quot;)\n    @ResponseBody\n    public List&lt;String&gt; getBranches(@RequestParam String userName, @RequestParam String password) {\n\n        JGitService jGitService = new JGitService(userName,password);\n        return jGitService.getBranches();\n\n    }\n\n\n}\n</code></pre>\n<p>I am using the following maven plugin to build my jar.</p>\n<pre><code>&lt;plugin&gt;\n    &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\n    &lt;configuration&gt;\n        &lt;archive&gt;\n            &lt;manifest&gt;\n                &lt;mainClass&gt;net.regnology.devautomation.GmpDevAutomationBeApplication&lt;/mainClass&gt;\n            &lt;/manifest&gt;\n        &lt;/archive&gt;\n        &lt;descriptorRefs&gt;\n            &lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\n        &lt;/descriptorRefs&gt;\n    &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n<pre><code>17:12:11.895 [main] DEBUG org.springframework.scheduling.concurrent.ThreadPoolTaskExecutor - Shutting down ExecutorService 'applicationTaskExecutor'\n17:12:11.898 [main] ERROR org.springframework.boot.SpringApplication - Application run failed\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name 'resourceHandlerMapping' defined in class path resource [org/springframework/boot/autoconfigure/web/servlet/WebMvcAutoConfiguration$EnableWebMvcConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.web.servlet.HandlerMapping]: Factory method 'resourceHandlerMapping' threw exception; nested exception is java.lang.IllegalStateException: No ServletContext set\n        at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:658)\n        ...\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295)\n        at net.regnology.devautomation.GmpDevAutomationBeApplication.main(GmpDevAutomationBeApplication.java:13)\nCaused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.web.servlet.HandlerMapping]: Factory method 'resourceHandlerMapping' threw exception; nested exception is java.lang.IllegalStateException: No ServletContext set\n        at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:185)\n        at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:653)\n        ... 18 common frames omitted\nCaused by: java.lang.IllegalStateException: No ServletContext set\n\n</code></pre>\n<p>Can you tell me what is wrong with my configuration?</p>\n"},{"tags":["java","javafx","java-11","apple-m1"],"answers":[{"tags":[],"owner":{"account_id":1193459,"reputation":3979,"user_id":1165724,"display_name":"swpalmer"},"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1648245961,"creation_date":1648239463,"answer_id":71622655,"question_id":71622429,"body_markdown":"I don&#39;t have an M1 Mac to test, but did you try the build of JDK 11 with JavaFX included that Azul provides? I saw that you mentioned zulu-11, just not sure if you picked the version with JavaFX bundled.\r\n\r\nBe sure to choose “macOS”, “ARM 64-bit”, and “JDK FX” in the various pop-up menus of the download page. \r\n\r\nhttps://www.azul.com/downloads/?version=java-11-lts&amp;os=macos&amp;architecture=arm-64-bit&amp;package=jdk-fx\r\n","title":"Is it possible to run JavaFX with Java 11 on M1 Mac?","body":"<p>I don't have an M1 Mac to test, but did you try the build of JDK 11 with JavaFX included that Azul provides? I saw that you mentioned zulu-11, just not sure if you picked the version with JavaFX bundled.</p>\n<p>Be sure to choose “macOS”, “ARM 64-bit”, and “JDK FX” in the various pop-up menus of the download page.</p>\n<p><a href=\"https://www.azul.com/downloads/?version=java-11-lts&amp;os=macos&amp;architecture=arm-64-bit&amp;package=jdk-fx\" rel=\"noreferrer\">https://www.azul.com/downloads/?version=java-11-lts&amp;os=macos&amp;architecture=arm-64-bit&amp;package=jdk-fx</a></p>\n"},{"tags":[],"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1648252164,"creation_date":1648240161,"answer_id":71622767,"question_id":71622429,"body_markdown":"#### Use a minimum JavaFX version of 17.0.2\r\n\r\nI don&#39;t recommend trying to use JavaFX 11 on an M1 Mac.\r\n\r\nAs pointed out by [swpalmer in his answer][1] there is an Azul JDK FX Java 11 LTS distribution that includes JavaFX.\r\n\r\nHowever, some earlier versions of JavaFX were coded for M1 macs, but they crashed, see the referenced question and related bug reports (which are numerous for the crash in the JavaFX bug tracker wiki):\r\n\r\n * https://stackoverflow.com/questions/70388342/why-do-i-keep-getting-this-sigbus-error-code-on-my-macos-when-trying-to-run-a-ja\r\n\r\nIt is possible that all relevant fixes are back-ported to the Azul JDK FX 11 LTS release, but I wouldn&#39;t rely on that.\r\n\r\nWhen checking the [JavaFX modules in Maven for the 11.0.2 release][2], there are no modules that support the M1 architecture.  Also, there are [no JavaFX 11 modules and no JavaFX 11 SDK][3] available for download from Gluon that support the M1 architecture.\r\n\r\nInstead, I recommend using a known good release that works on recent Mac M1 systems and Mac operating systems, which would be JDK 17+ and JavaFX 17.0.2+.  The corresponding downloads are readily available:\r\n\r\n * [mac M1 aarch64 JavaFX modules in maven][4]\r\n * [mac M1 aarch64 JavaFX SDK and modules from Gluon][3]\r\n * [mac M1 aarch64 JDK FX from azul][5]\r\n\r\nRefer to the relevant documentation (at openjfx.io, Zulu or your IDE provider) on the installation and use of these distributions in your build environment.\r\n\r\n#### Mixing recent JavaFX versions with older JDKs\r\n\r\nYou can run JavaFX 17.0.2+ on older JDKs, though I would recommend using recent versions of each.  \r\n\r\nI have tried such combinations (e.g. JavaFX 17.0.2 on JDK 11) on Intel Macs and they worked fine, but I have not tried these combinations on an M1 Mac as I don&#39;t have one.\r\n\r\nJavaFX 17.0.2+ with support for M1 macs (aarch64 architecture) is available at the resources I linked in this answer.\r\n\r\nJDK 11 and JRE 11 with support for M1 macs (aarch64 architecture) is available from various vendors (check with your JDK or JRE, e.g. [Zulu][6] or [Liberica][7], distribution vendor to see installation instructions for these distributions on your platform).\r\n\r\n#### Graphics pipeline failures when using recent JavaFX versions\r\n\r\nYou note that you tried the following distributions:\r\n\r\n&gt; javafx-sdk-17.0.2\r\n&gt; javafx-sdk-18\r\n\r\nAnd it didn&#39;t work for you (reported &quot;no suitable pipeline found&quot;).\r\n\r\nI do not have an M1 mac to try to verify this.\r\n\r\nI do not know the reason that the more recent JavaFX versions do not work for you.  Perhaps you are trying to use an Intel architecture version of the SDK (e.g. x64) instead of an M1 compatible architecture version of the SDK (e.g. aarch64). \r\n\r\nThe [JavaFX 18 release notes][8] include an enhancement implemented in the release [JDK-8278595 Provide more information when a pipeline can&#39;t be used][9]. I guess it didn&#39;t help troubleshoot this issue ;-)\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/71622655/1155209\r\n  [2]: https://repo1.maven.org/maven2/org/openjfx/javafx-graphics/11.0.2/\r\n  [3]: https://gluonhq.com/products/javafx/\r\n  [4]: https://repo1.maven.org/maven2/org/openjfx/javafx-graphics/17.0.2/\r\n  [5]: https://www.azul.com/downloads/?version=java-17-lts&amp;os=macos&amp;architecture=arm-64-bit&amp;package=jdk-fx\r\n  [6]: https://www.azul.com/downloads/?version=java-11-lts&amp;os=macos&amp;architecture=arm-64-bit&amp;package=jdk\r\n  [7]: https://bell-sw.com/pages/downloads/#/java-11-lts\r\n  [8]: https://github.com/abhinayagarwal/jfx/blob/8282766/doc-files/release-notes-18.md\r\n  [9]: https://bugs.openjdk.java.net/browse/JDK-8278595","title":"Is it possible to run JavaFX with Java 11 on M1 Mac?","body":"<h4>Use a minimum JavaFX version of 17.0.2</h4>\n<p>I don't recommend trying to use JavaFX 11 on an M1 Mac.</p>\n<p>As pointed out by <a href=\"https://stackoverflow.com/a/71622655/1155209\">swpalmer in his answer</a> there is an Azul JDK FX Java 11 LTS distribution that includes JavaFX.</p>\n<p>However, some earlier versions of JavaFX were coded for M1 macs, but they crashed, see the referenced question and related bug reports (which are numerous for the crash in the JavaFX bug tracker wiki):</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/70388342/why-do-i-keep-getting-this-sigbus-error-code-on-my-macos-when-trying-to-run-a-ja\">Why do I keep getting this SIGBUS error code on my MacOS when trying to run a JavaFx Project on Netbeans?</a></li>\n</ul>\n<p>It is possible that all relevant fixes are back-ported to the Azul JDK FX 11 LTS release, but I wouldn't rely on that.</p>\n<p>When checking the <a href=\"https://repo1.maven.org/maven2/org/openjfx/javafx-graphics/11.0.2/\" rel=\"noreferrer\">JavaFX modules in Maven for the 11.0.2 release</a>, there are no modules that support the M1 architecture.  Also, there are <a href=\"https://gluonhq.com/products/javafx/\" rel=\"noreferrer\">no JavaFX 11 modules and no JavaFX 11 SDK</a> available for download from Gluon that support the M1 architecture.</p>\n<p>Instead, I recommend using a known good release that works on recent Mac M1 systems and Mac operating systems, which would be JDK 17+ and JavaFX 17.0.2+.  The corresponding downloads are readily available:</p>\n<ul>\n<li><a href=\"https://repo1.maven.org/maven2/org/openjfx/javafx-graphics/17.0.2/\" rel=\"noreferrer\">mac M1 aarch64 JavaFX modules in maven</a></li>\n<li><a href=\"https://gluonhq.com/products/javafx/\" rel=\"noreferrer\">mac M1 aarch64 JavaFX SDK and modules from Gluon</a></li>\n<li><a href=\"https://www.azul.com/downloads/?version=java-17-lts&amp;os=macos&amp;architecture=arm-64-bit&amp;package=jdk-fx\" rel=\"noreferrer\">mac M1 aarch64 JDK FX from azul</a></li>\n</ul>\n<p>Refer to the relevant documentation (at openjfx.io, Zulu or your IDE provider) on the installation and use of these distributions in your build environment.</p>\n<h4>Mixing recent JavaFX versions with older JDKs</h4>\n<p>You can run JavaFX 17.0.2+ on older JDKs, though I would recommend using recent versions of each.</p>\n<p>I have tried such combinations (e.g. JavaFX 17.0.2 on JDK 11) on Intel Macs and they worked fine, but I have not tried these combinations on an M1 Mac as I don't have one.</p>\n<p>JavaFX 17.0.2+ with support for M1 macs (aarch64 architecture) is available at the resources I linked in this answer.</p>\n<p>JDK 11 and JRE 11 with support for M1 macs (aarch64 architecture) is available from various vendors (check with your JDK or JRE, e.g. <a href=\"https://www.azul.com/downloads/?version=java-11-lts&amp;os=macos&amp;architecture=arm-64-bit&amp;package=jdk\" rel=\"noreferrer\">Zulu</a> or <a href=\"https://bell-sw.com/pages/downloads/#/java-11-lts\" rel=\"noreferrer\">Liberica</a>, distribution vendor to see installation instructions for these distributions on your platform).</p>\n<h4>Graphics pipeline failures when using recent JavaFX versions</h4>\n<p>You note that you tried the following distributions:</p>\n<blockquote>\n<p>javafx-sdk-17.0.2\njavafx-sdk-18</p>\n</blockquote>\n<p>And it didn't work for you (reported &quot;no suitable pipeline found&quot;).</p>\n<p>I do not have an M1 mac to try to verify this.</p>\n<p>I do not know the reason that the more recent JavaFX versions do not work for you.  Perhaps you are trying to use an Intel architecture version of the SDK (e.g. x64) instead of an M1 compatible architecture version of the SDK (e.g. aarch64).</p>\n<p>The <a href=\"https://github.com/abhinayagarwal/jfx/blob/8282766/doc-files/release-notes-18.md\" rel=\"noreferrer\">JavaFX 18 release notes</a> include an enhancement implemented in the release <a href=\"https://bugs.openjdk.java.net/browse/JDK-8278595\" rel=\"noreferrer\">JDK-8278595 Provide more information when a pipeline can't be used</a>. I guess it didn't help troubleshoot this issue ;-)</p>\n"},{"tags":[],"owner":{"account_id":27835686,"reputation":1,"user_id":21253189,"display_name":"Mike Delgado"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676921771,"creation_date":1676921771,"answer_id":75513468,"question_id":71622429,"body_markdown":"te problem is the version for javafx-controls, in pomxml, because by defaul maven use a version for intel, so change the version to 20-ea+11, and download the correct version.\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n        &lt;artifactId&gt;javafx-controls&lt;/artifactId&gt;\r\n        &lt;version&gt;20-ea+11&lt;/version&gt;\r\n    &lt;/dependency&gt;","title":"Is it possible to run JavaFX with Java 11 on M1 Mac?","body":"<p>te problem is the version for javafx-controls, in pomxml, because by defaul maven use a version for intel, so change the version to 20-ea+11, and download the correct version.</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n    &lt;artifactId&gt;javafx-controls&lt;/artifactId&gt;\n    &lt;version&gt;20-ea+11&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":24689766,"reputation":23,"user_id":18582443,"display_name":"danofsteel"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8812,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":71622655,"answer_count":3,"score":2,"last_activity_date":1676921771,"creation_date":1648238096,"question_id":71622429,"body_markdown":"For the past few days I have been attemping to set up JavaFX on my M1 Mac. I was able to get it working using Java 18, but unfortunately I need to be using Java 11 for school.\r\n\r\nI keep being given the following error:\r\n\r\n```\r\nGraphics Device initialization failed for :  es2, sw\r\nError initializing QuantumRenderer: no suitable pipeline found\r\njava.lang.RuntimeException: java.lang.RuntimeException: Error initializing QuantumRenderer: no suitable pipeline found\r\n        at javafx.graphics/com.sun.javafx.tk.quantum.QuantumRenderer.getInstance(QuantumRenderer.java:283)\r\n        at javafx.graphics/com.sun.javafx.tk.quantum.QuantumToolkit.init(QuantumToolkit.java:254)\r\n        at javafx.graphics/com.sun.javafx.tk.Toolkit.getToolkit(Toolkit.java:264)\r\n        at javafx.graphics/com.sun.javafx.application.PlatformImpl.startup(PlatformImpl.java:291)\r\n        at javafx.graphics/com.sun.javafx.application.PlatformImpl.startup(PlatformImpl.java:163)\r\n        at javafx.graphics/com.sun.javafx.application.LauncherImpl.startToolkit(LauncherImpl.java:659)\r\n        at javafx.graphics/com.sun.javafx.application.LauncherImpl.launchApplicationWithArgs(LauncherImpl.java:410)\r\n        at javafx.graphics/com.sun.javafx.application.LauncherImpl.launchApplication(LauncherImpl.java:364)\r\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n        at java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n        at java.base/sun.launcher.LauncherHelper$FXHelper.main(LauncherHelper.java:1051)\r\nCaused by: java.lang.RuntimeException: Error initializing QuantumRenderer: no suitable pipeline found\r\n        at javafx.graphics/com.sun.javafx.tk.quantum.QuantumRenderer$PipelineRunnable.init(QuantumRenderer.java:95)\r\n        at javafx.graphics/com.sun.javafx.tk.quantum.QuantumRenderer$PipelineRunnable.run(QuantumRenderer.java:125)\r\n        at java.base/java.lang.Thread.run(Thread.java:829)\r\nException in thread &quot;main&quot; java.lang.reflect.InvocationTargetException\r\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n        at java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n        at java.base/sun.launcher.LauncherHelper$FXHelper.main(LauncherHelper.java:1051)\r\nCaused by: java.lang.RuntimeException: No toolkit found\r\n        at javafx.graphics/com.sun.javafx.tk.Toolkit.getToolkit(Toolkit.java:276)\r\n        at javafx.graphics/com.sun.javafx.application.PlatformImpl.startup(PlatformImpl.java:291)\r\n        at javafx.graphics/com.sun.javafx.application.PlatformImpl.startup(PlatformImpl.java:163)\r\n        at javafx.graphics/com.sun.javafx.application.LauncherImpl.startToolkit(LauncherImpl.java:659)\r\n        at javafx.graphics/com.sun.javafx.application.LauncherImpl.launchApplicationWithArgs(LauncherImpl.java:410)\r\n        at javafx.graphics/com.sun.javafx.application.LauncherImpl.launchApplication(LauncherImpl.java:364)\r\n        ... 5 more\r\n```\r\n\r\nI have tried using various combinations of the following JavaFX versions:\r\n\r\njavafx-sdk-11\r\n\r\njavafx-sdk-11.0.2\r\n\r\njavafx-sdk-17.0.2\r\n\r\njavafx-sdk-18\r\n\r\nand the following Java JDK versions:\r\n\r\ntemurin-11.jdk\r\n\r\nzulu-11.jdk\r\n\r\nbut nothing I&#39;ve tried has given me any success. I know for a fact that I have everthing installed properly (updating Run Configurations, etc.) so I don&#39;t think that should be an issue. I have tried using VSCode, Eclipse, and IntelliJ, but the results have been the same for all of them.\r\n\r\nIs it even possible to run JavaFX with Java 11 on an M1 Mac or am I out of luck? Thanks in advance.","title":"Is it possible to run JavaFX with Java 11 on M1 Mac?","body":"<p>For the past few days I have been attemping to set up JavaFX on my M1 Mac. I was able to get it working using Java 18, but unfortunately I need to be using Java 11 for school.</p>\n<p>I keep being given the following error:</p>\n<pre><code>Graphics Device initialization failed for :  es2, sw\nError initializing QuantumRenderer: no suitable pipeline found\njava.lang.RuntimeException: java.lang.RuntimeException: Error initializing QuantumRenderer: no suitable pipeline found\n        at javafx.graphics/com.sun.javafx.tk.quantum.QuantumRenderer.getInstance(QuantumRenderer.java:283)\n        at javafx.graphics/com.sun.javafx.tk.quantum.QuantumToolkit.init(QuantumToolkit.java:254)\n        at javafx.graphics/com.sun.javafx.tk.Toolkit.getToolkit(Toolkit.java:264)\n        at javafx.graphics/com.sun.javafx.application.PlatformImpl.startup(PlatformImpl.java:291)\n        at javafx.graphics/com.sun.javafx.application.PlatformImpl.startup(PlatformImpl.java:163)\n        at javafx.graphics/com.sun.javafx.application.LauncherImpl.startToolkit(LauncherImpl.java:659)\n        at javafx.graphics/com.sun.javafx.application.LauncherImpl.launchApplicationWithArgs(LauncherImpl.java:410)\n        at javafx.graphics/com.sun.javafx.application.LauncherImpl.launchApplication(LauncherImpl.java:364)\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n        at java.base/sun.launcher.LauncherHelper$FXHelper.main(LauncherHelper.java:1051)\nCaused by: java.lang.RuntimeException: Error initializing QuantumRenderer: no suitable pipeline found\n        at javafx.graphics/com.sun.javafx.tk.quantum.QuantumRenderer$PipelineRunnable.init(QuantumRenderer.java:95)\n        at javafx.graphics/com.sun.javafx.tk.quantum.QuantumRenderer$PipelineRunnable.run(QuantumRenderer.java:125)\n        at java.base/java.lang.Thread.run(Thread.java:829)\nException in thread &quot;main&quot; java.lang.reflect.InvocationTargetException\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n        at java.base/sun.launcher.LauncherHelper$FXHelper.main(LauncherHelper.java:1051)\nCaused by: java.lang.RuntimeException: No toolkit found\n        at javafx.graphics/com.sun.javafx.tk.Toolkit.getToolkit(Toolkit.java:276)\n        at javafx.graphics/com.sun.javafx.application.PlatformImpl.startup(PlatformImpl.java:291)\n        at javafx.graphics/com.sun.javafx.application.PlatformImpl.startup(PlatformImpl.java:163)\n        at javafx.graphics/com.sun.javafx.application.LauncherImpl.startToolkit(LauncherImpl.java:659)\n        at javafx.graphics/com.sun.javafx.application.LauncherImpl.launchApplicationWithArgs(LauncherImpl.java:410)\n        at javafx.graphics/com.sun.javafx.application.LauncherImpl.launchApplication(LauncherImpl.java:364)\n        ... 5 more\n</code></pre>\n<p>I have tried using various combinations of the following JavaFX versions:</p>\n<p>javafx-sdk-11</p>\n<p>javafx-sdk-11.0.2</p>\n<p>javafx-sdk-17.0.2</p>\n<p>javafx-sdk-18</p>\n<p>and the following Java JDK versions:</p>\n<p>temurin-11.jdk</p>\n<p>zulu-11.jdk</p>\n<p>but nothing I've tried has given me any success. I know for a fact that I have everthing installed properly (updating Run Configurations, etc.) so I don't think that should be an issue. I have tried using VSCode, Eclipse, and IntelliJ, but the results have been the same for all of them.</p>\n<p>Is it even possible to run JavaFX with Java 11 on an M1 Mac or am I out of luck? Thanks in advance.</p>\n"},{"tags":["java","listview","javafx","fxml"],"comments":[{"owner":{"account_id":2819940,"reputation":12538,"user_id":2423906,"accept_rate":100,"display_name":"SedJ601"},"score":0,"creation_date":1676929695,"post_id":75513399,"comment_id":133232670,"body_markdown":"Where is `Main.fxml&#39;s` `Controller? Why are you doing `FXMLLoader loader = new FXMLLoader(getClass().getResource(&quot;ReadDisplaySongList.fxml&quot;));\n        ReadDisplaySongList controller = new ReadDisplaySongList();\n        loader.setController(controller);` inside of `ReadDisplaySongList`?","body":"Where is <code>Main.fxml&#39;s</code> <code>Controller? Why are you doing </code>FXMLLoader loader = new FXMLLoader(getClass().getResource(&quot;ReadDisplaySongList.fxml&quot;&zwnj;&#8203;));         ReadDisplaySongList controller = new ReadDisplaySongList();         loader.setController(controller);` inside of <code>ReadDisplaySongList</code>?"},{"owner":{"account_id":2819940,"reputation":12538,"user_id":2423906,"accept_rate":100,"display_name":"SedJ601"},"score":0,"creation_date":1676929801,"post_id":75513399,"comment_id":133232704,"body_markdown":"My guess is that you want to load `ReadDisplaySongList.fmxl` in `Main.java` and remove `FXMLLoader loader = new FXMLLoader(getClass().getResource(&quot;ReadDisplaySongList.fxml&quot;));\n        ReadDisplaySongList controller = new ReadDisplaySongList();\n        loader.setController(controller);\n        \n\n        try {\n            \n            Parent root = loader.load();` from `ReadDisplaySongList `.","body":"My guess is that you want to load <code>ReadDisplaySongList.fmxl</code> in <code>Main.java</code> and remove <code>FXMLLoader loader = new FXMLLoader(getClass().getResource(&quot;ReadDisplaySongList.fxml&quot;&zwnj;&#8203;));         ReadDisplaySongList controller = new ReadDisplaySongList();         loader.setController(controller);                   try {                          Parent root = loader.load();</code> from <code>ReadDisplaySongList </code>."},{"owner":{"account_id":23789787,"reputation":11,"user_id":17801347,"display_name":"ADCast"},"score":0,"creation_date":1676932550,"post_id":75513399,"comment_id":133233266,"body_markdown":"I am having different FXML file for everything, then calling them again in one single fxml file.","body":"I am having different FXML file for everything, then calling them again in one single fxml file."},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":2,"creation_date":1676942165,"post_id":75513399,"comment_id":133234585,"body_markdown":"You need to decide if you are going to use `&lt;fx:include&gt;` or if you are going to load `ReadSongDisplayList.fxml` in the controller. If the former, you need to specify a `fx:controller` attribute in the fxml so the controller is created. If the latter, you need to remove the `&lt;fx:include&gt;` and then actually place the result of loading the fxml in the scene graph somewhere. Right now you are loading the fxml twice, once with `&lt;fx:include&gt;`, but that time you have no controller associated with it, and once in the `initialize()` method, but that time you don’t display it.","body":"You need to decide if you are going to use <code>&lt;fx:include&gt;</code> or if you are going to load <code>ReadSongDisplayList.fxml</code> in the controller. If the former, you need to specify a <code>fx:controller</code> attribute in the fxml so the controller is created. If the latter, you need to remove the <code>&lt;fx:include&gt;</code> and then actually place the result of loading the fxml in the scene graph somewhere. Right now you are loading the fxml twice, once with <code>&lt;fx:include&gt;</code>, but that time you have no controller associated with it, and once in the <code>initialize()</code> method, but that time you don’t display it."},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":1,"creation_date":1676966252,"post_id":75513399,"comment_id":133238083,"body_markdown":"Study the section on [nested controllers](https://openjfx.io/javadoc/19/javafx.fxml/javafx/fxml/doc-files/introduction_to_fxml.html#nested_controllers).","body":"Study the section on <a href=\"https://openjfx.io/javadoc/19/javafx.fxml/javafx/fxml/doc-files/introduction_to_fxml.html#nested_controllers\" rel=\"nofollow noreferrer\">nested controllers</a>."}],"owner":{"account_id":23789787,"reputation":11,"user_id":17801347,"display_name":"ADCast"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":65,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676921170,"creation_date":1676921170,"question_id":75513399,"body_markdown":"I am trying to make an application, I want to display the list of items using list view in javaFX.I tried everything but it is not letting me display anything.\r\n\r\nMain.java\r\n\r\n```\r\npackage application;\r\n\t\r\nimport javafx.application.Application;\r\nimport javafx.fxml.FXMLLoader;\r\nimport javafx.stage.Stage;\r\nimport javafx.scene.Parent;\r\nimport javafx.scene.Scene;\r\nimport javafx.scene.layout.BorderPane;\r\nimport javafx.scene.layout.HBox;\r\n\r\n\r\npublic class Main extends Application {\r\n\t@Override\r\n\tpublic void start(Stage primaryStage) {\r\n\t\ttry {\r\n\t\t\tParent root = FXMLLoader.load(getClass().getResource(&quot;/application/Main.fxml&quot;));\r\n\t\t\tScene scene = new Scene(root);\r\n\t\t\tprimaryStage.setTitle(&quot;Song Library&quot;);\r\n\t\t\t\r\n\t\t\tprimaryStage.setScene(scene);\r\n\t\t\tprimaryStage.show();\r\n\t\t} catch(Exception e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t}\r\n\t\r\n\tpublic static void main(String[] args) {\r\n\t\tlaunch(args);\r\n\t}\r\n}\r\n\r\n```\r\n\r\nReadDisplaySongList.java\r\n\r\n```\r\npackage application;\r\n\r\nimport java.io.IOException;\r\nimport java.net.URL;\r\nimport java.util.ArrayList;\r\nimport java.util.Arrays;\r\nimport java.util.List;\r\nimport java.util.ResourceBundle;\r\n\r\nimport javafx.fxml.FXML;\r\nimport javafx.fxml.FXMLLoader;\r\nimport javafx.fxml.Initializable;\r\nimport javafx.scene.Parent;\r\nimport javafx.scene.control.ListView;\r\nimport javafx.scene.layout.HBox;\r\n\r\npublic class ReadDisplaySongList  implements Initializable\r\n{\r\n\tstatic ArrayList&lt;SongListObj&gt; song_list = new ArrayList&lt;SongListObj&gt;();\r\n\t\r\n\t@FXML\r\n\tprivate ListView &lt;String&gt; song_Artist_List;\r\n\t\r\n\t\r\n\t\r\n\t@Override\r\n\tpublic void initialize(URL arg0, ResourceBundle arg1)\r\n\t{\r\n\t\t\r\n\t\tFXMLLoader loader = new FXMLLoader(getClass().getResource(&quot;ReadDisplaySongList.fxml&quot;));\r\n\t\tReadDisplaySongList controller = new ReadDisplaySongList();\r\n\t\tloader.setController(controller);\r\n\t\t\r\n\r\n\t\ttry {\r\n\t\t\t\r\n\t\t\tParent root = loader.load();\r\n\t\t\t\r\n\t\t\tList&lt;String&gt; items = Arrays.asList(&quot;Item 1&quot;, &quot;Item 2&quot;, &quot;Item 3&quot;);\r\n\t\t\tsong_Artist_List.getItems().setAll(items);\r\n\t\t\t\r\n\t\t\t//song_Artist_List.getItems().add(&quot;Apple&quot;);\r\n\t\t\t\r\n\t\t} catch (IOException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t\r\n\t\t\t\r\n\t}\r\n\t\r\n\t\r\n\t\r\n\r\n}\r\n```\r\nReadDisplaySongList.fxml\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n\r\n&lt;?import javafx.scene.control.ListView?&gt;\r\n&lt;?import javafx.scene.layout.AnchorPane?&gt;\r\n&lt;?import javafx.scene.layout.BorderPane?&gt;\r\n\r\n&lt;AnchorPane prefHeight=&quot;524.0&quot; prefWidth=&quot;578.0&quot; xmlns=&quot;http://javafx.com/javafx/19&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot;&gt;\r\n   &lt;children&gt;\r\n      &lt;BorderPane layoutX=&quot;345.0&quot; layoutY=&quot;29.0&quot; prefHeight=&quot;445.0&quot; prefWidth=&quot;420.0&quot;&gt;\r\n         &lt;left&gt;\r\n          \t&lt;ListView fx:id=&quot;song_Artist_List&quot; prefHeight=&quot;348.0&quot; prefWidth=&quot;389.0&quot;  BorderPane.alignment=&quot;CENTER&quot; /&gt;\r\n         &lt;/left&gt;\r\n      &lt;/BorderPane&gt;\r\n   &lt;/children&gt;\r\n&lt;/AnchorPane&gt;\r\n```\r\n\r\nMain.fxml\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n\r\n&lt;?import javafx.scene.control.Label?&gt;\r\n&lt;?import javafx.scene.layout.AnchorPane?&gt;\r\n&lt;?import javafx.scene.shape.Circle?&gt;\r\n&lt;?import javafx.scene.text.Font?&gt;\r\n\r\n&lt;AnchorPane prefHeight=&quot;529.0&quot; prefWidth=&quot;626.0&quot; style=&quot;-fx-background-color: #051622;&quot; xmlns=&quot;http://javafx.com/javafx/19&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot;&gt;\r\n\t&lt;fx:include source=&quot;ReadDisplaySongList.fxml&quot; /&gt;\r\n  \r\n   &lt;Circle fill=&quot;#04402b&quot; layoutX=&quot;34.0&quot; layoutY=&quot;14.0&quot; radius=&quot;100.0&quot; stroke=&quot;BLACK&quot; strokeType=&quot;INSIDE&quot; /&gt;\r\n   &lt;Label layoutX=&quot;14.0&quot; layoutY=&quot;37.0&quot; prefHeight=&quot;50.0&quot; prefWidth=&quot;158.0&quot; text=&quot;Song Library&quot; textFill=&quot;BEIGE&quot;&gt;\r\n      &lt;font&gt;\r\n         &lt;Font name=&quot;Berlin Sans FB Demi Bold&quot; size=&quot;23.0&quot; /&gt;\r\n      &lt;/font&gt;\r\n   &lt;/Label&gt;\r\n   \r\n&lt;/AnchorPane&gt;\r\n\r\n```\r\n\r\n\r\n\r\n\r\nI tired loading the fxml file to the java class, made sure that I have given the fx:id to the listview. ","title":"Not able to display the listView","body":"<p>I am trying to make an application, I want to display the list of items using list view in javaFX.I tried everything but it is not letting me display anything.</p>\n<p>Main.java</p>\n<pre><code>package application;\n    \nimport javafx.application.Application;\nimport javafx.fxml.FXMLLoader;\nimport javafx.stage.Stage;\nimport javafx.scene.Parent;\nimport javafx.scene.Scene;\nimport javafx.scene.layout.BorderPane;\nimport javafx.scene.layout.HBox;\n\n\npublic class Main extends Application {\n    @Override\n    public void start(Stage primaryStage) {\n        try {\n            Parent root = FXMLLoader.load(getClass().getResource(&quot;/application/Main.fxml&quot;));\n            Scene scene = new Scene(root);\n            primaryStage.setTitle(&quot;Song Library&quot;);\n            \n            primaryStage.setScene(scene);\n            primaryStage.show();\n        } catch(Exception e) {\n            e.printStackTrace();\n        }\n    }\n    \n    public static void main(String[] args) {\n        launch(args);\n    }\n}\n\n</code></pre>\n<p>ReadDisplaySongList.java</p>\n<pre><code>package application;\n\nimport java.io.IOException;\nimport java.net.URL;\nimport java.util.ArrayList;\nimport java.util.Arrays;\nimport java.util.List;\nimport java.util.ResourceBundle;\n\nimport javafx.fxml.FXML;\nimport javafx.fxml.FXMLLoader;\nimport javafx.fxml.Initializable;\nimport javafx.scene.Parent;\nimport javafx.scene.control.ListView;\nimport javafx.scene.layout.HBox;\n\npublic class ReadDisplaySongList  implements Initializable\n{\n    static ArrayList&lt;SongListObj&gt; song_list = new ArrayList&lt;SongListObj&gt;();\n    \n    @FXML\n    private ListView &lt;String&gt; song_Artist_List;\n    \n    \n    \n    @Override\n    public void initialize(URL arg0, ResourceBundle arg1)\n    {\n        \n        FXMLLoader loader = new FXMLLoader(getClass().getResource(&quot;ReadDisplaySongList.fxml&quot;));\n        ReadDisplaySongList controller = new ReadDisplaySongList();\n        loader.setController(controller);\n        \n\n        try {\n            \n            Parent root = loader.load();\n            \n            List&lt;String&gt; items = Arrays.asList(&quot;Item 1&quot;, &quot;Item 2&quot;, &quot;Item 3&quot;);\n            song_Artist_List.getItems().setAll(items);\n            \n            //song_Artist_List.getItems().add(&quot;Apple&quot;);\n            \n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    \n            \n    }\n    \n    \n    \n\n}\n</code></pre>\n<p>ReadDisplaySongList.fxml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n\n&lt;?import javafx.scene.control.ListView?&gt;\n&lt;?import javafx.scene.layout.AnchorPane?&gt;\n&lt;?import javafx.scene.layout.BorderPane?&gt;\n\n&lt;AnchorPane prefHeight=&quot;524.0&quot; prefWidth=&quot;578.0&quot; xmlns=&quot;http://javafx.com/javafx/19&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot;&gt;\n   &lt;children&gt;\n      &lt;BorderPane layoutX=&quot;345.0&quot; layoutY=&quot;29.0&quot; prefHeight=&quot;445.0&quot; prefWidth=&quot;420.0&quot;&gt;\n         &lt;left&gt;\n            &lt;ListView fx:id=&quot;song_Artist_List&quot; prefHeight=&quot;348.0&quot; prefWidth=&quot;389.0&quot;  BorderPane.alignment=&quot;CENTER&quot; /&gt;\n         &lt;/left&gt;\n      &lt;/BorderPane&gt;\n   &lt;/children&gt;\n&lt;/AnchorPane&gt;\n</code></pre>\n<p>Main.fxml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n\n&lt;?import javafx.scene.control.Label?&gt;\n&lt;?import javafx.scene.layout.AnchorPane?&gt;\n&lt;?import javafx.scene.shape.Circle?&gt;\n&lt;?import javafx.scene.text.Font?&gt;\n\n&lt;AnchorPane prefHeight=&quot;529.0&quot; prefWidth=&quot;626.0&quot; style=&quot;-fx-background-color: #051622;&quot; xmlns=&quot;http://javafx.com/javafx/19&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot;&gt;\n    &lt;fx:include source=&quot;ReadDisplaySongList.fxml&quot; /&gt;\n  \n   &lt;Circle fill=&quot;#04402b&quot; layoutX=&quot;34.0&quot; layoutY=&quot;14.0&quot; radius=&quot;100.0&quot; stroke=&quot;BLACK&quot; strokeType=&quot;INSIDE&quot; /&gt;\n   &lt;Label layoutX=&quot;14.0&quot; layoutY=&quot;37.0&quot; prefHeight=&quot;50.0&quot; prefWidth=&quot;158.0&quot; text=&quot;Song Library&quot; textFill=&quot;BEIGE&quot;&gt;\n      &lt;font&gt;\n         &lt;Font name=&quot;Berlin Sans FB Demi Bold&quot; size=&quot;23.0&quot; /&gt;\n      &lt;/font&gt;\n   &lt;/Label&gt;\n   \n&lt;/AnchorPane&gt;\n\n</code></pre>\n<p>I tired loading the fxml file to the java class, made sure that I have given the fx:id to the listview.</p>\n"},{"tags":["java","arrays","performance","junit"],"comments":[{"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"score":0,"creation_date":1676464532,"post_id":75459734,"comment_id":133140959,"body_markdown":"Warning!  When using.  return index &lt; 0 ? null : elements[index];.   Does this actually return the correct results UPON THE ELEMENTS.  It seems awfully subtle it may be deceiving and  bypassing it&#39;s work. Have you checked by specially tainting the test elements and values for the exact result from throughput!!!!    NB:  You also may want the G1 garbage collector , see it&#39;s docs and the SDK docs for it.","body":"Warning!  When using.  return index &lt; 0 ? null : elements[index];.   Does this actually return the correct results UPON THE ELEMENTS.  It seems awfully subtle it may be deceiving and  bypassing it&#39;s work. Have you checked by specially tainting the test elements and values for the exact result from throughput!!!!    NB:  You also may want the G1 garbage collector , see it&#39;s docs and the SDK docs for it."},{"owner":{"account_id":4819600,"reputation":56500,"user_id":3890632,"display_name":"khelwood"},"score":0,"creation_date":1676464577,"post_id":75459734,"comment_id":133140964,"body_markdown":"Your `fastAsList` version is faster because it doesn&#39;t copy the array; it just wraps it. If your speed and memory constraints prohibit the &quot;slow&quot; options, the &quot;fast&quot; version makes sense (except that it ignores `last`, but that looks easy to fix).","body":"Your <code>fastAsList</code> version is faster because it doesn&#39;t copy the array; it just wraps it. If your speed and memory constraints prohibit the &quot;slow&quot; options, the &quot;fast&quot; version makes sense (except that it ignores <code>last</code>, but that looks easy to fix)."},{"owner":{"account_id":39208,"reputation":251240,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1676465673,"post_id":75459734,"comment_id":133141313,"body_markdown":"Shouldn&#39;t the implementation of `size()` be `return elements.length + 1`? And when calling `get`, shouldn&#39;t it return `last` too?","body":"Shouldn&#39;t the implementation of <code>size()</code> be <code>return elements.length + 1</code>? And when calling <code>get</code>, shouldn&#39;t it return <code>last</code> too?"},{"owner":{"account_id":7072149,"reputation":91,"user_id":5413405,"display_name":"fozzybear"},"score":0,"creation_date":1676469550,"post_id":75459734,"comment_id":133142619,"body_markdown":"Well, the original code was like this:\n`return (index == 0) ? first : elements[index - 1]`\n&quot;last&quot; was only a quick modification, for this, it should&#39;ve probably been `return (index == elements.length - 1) ...`\n\nAnd for `size()` it was `return elements.length + 1;` indeed. I was copying the code out of another method based on the original code without an additional element for this example, sorry.","body":"Well, the original code was like this: <code>return (index == 0) ? first : elements[index - 1]</code> &quot;last&quot; was only a quick modification, for this, it should&#39;ve probably been <code>return (index == elements.length - 1) ...</code>  And for <code>size()</code> it was <code>return elements.length + 1;</code> indeed. I was copying the code out of another method based on the original code without an additional element for this example, sorry."},{"owner":{"account_id":7072149,"reputation":91,"user_id":5413405,"display_name":"fozzybear"},"score":0,"creation_date":1676470439,"post_id":75459734,"comment_id":133142938,"body_markdown":"@all: I&#39;ve written a unit test which checks the first, last and expected additional value, as well as the expected length (and verified in the debugger), so the List actually contains all the array elements and first/last. It&#39;s also unmodifiable, since either `add`, `addAll` or `set` will throw an `UnsupportedOperationException`.\n\nWhat better ways would there be to wrap the (extended) array, that are equally performing?","body":"@all: I&#39;ve written a unit test which checks the first, last and expected additional value, as well as the expected length (and verified in the debugger), so the List actually contains all the array elements and first/last. It&#39;s also unmodifiable, since either <code>add</code>, <code>addAll</code> or <code>set</code> will throw an <code>UnsupportedOperationException</code>.  What better ways would there be to wrap the (extended) array, that are equally performing?"},{"owner":{"account_id":4819600,"reputation":56500,"user_id":3890632,"display_name":"khelwood"},"score":0,"creation_date":1676610336,"post_id":75459734,"comment_id":133175829,"body_markdown":"What is your requirement? If it&#39;s a readable List made of an array plus one value, without the overhead of copying the array, use such a custom subclass of `AbstractList`. If that is not suitable, what is it lacking?","body":"What is your requirement? If it&#39;s a readable List made of an array plus one value, without the overhead of copying the array, use such a custom subclass of <code>AbstractList</code>. If that is not suitable, what is it lacking?"},{"owner":{"account_id":7072149,"reputation":91,"user_id":5413405,"display_name":"fozzybear"},"score":0,"creation_date":1676648744,"post_id":75459734,"comment_id":133185674,"body_markdown":"Well, it&#39;s to create an immutable `List` from an `Array` with additional values, also allowing `null`, as fast as possible. `Arrays.asList()` perfectly fits the bill for cases, where no additional elements are required, but `null` values are, as far as I&#39;m concerned - while `List.of()` doesn&#39;t support nulls and both don&#39;t allow for added elements. I was curious, why this specific approach is this fast - so far, I&#39;ve got not conclusive answer to that question, &#39;wrapped&#39; array isn&#39;t convincing - and if there&#39;d be other, equally fast approaches, that are more elegant (as in &#39;more fluent&#39;) to use.","body":"Well, it&#39;s to create an immutable <code>List</code> from an <code>Array</code> with additional values, also allowing <code>null</code>, as fast as possible. <code>Arrays.asList()</code> perfectly fits the bill for cases, where no additional elements are required, but <code>null</code> values are, as far as I&#39;m concerned - while <code>List.of()</code> doesn&#39;t support nulls and both don&#39;t allow for added elements. I was curious, why this specific approach is this fast - so far, I&#39;ve got not conclusive answer to that question, &#39;wrapped&#39; array isn&#39;t convincing - and if there&#39;d be other, equally fast approaches, that are more elegant (as in &#39;more fluent&#39;) to use."},{"owner":{"account_id":4819600,"reputation":56500,"user_id":3890632,"display_name":"khelwood"},"score":0,"creation_date":1676648929,"post_id":75459734,"comment_id":133185727,"body_markdown":"It&#39;s fast because in that version you **don&#39;t copy the array**. &quot;More elegant&quot; and &quot;more fluent&quot; are opinion-based and not suitable questions. If your &quot;fast&quot; solution does what you want, use that.","body":"It&#39;s fast because in that version you <b>don&#39;t copy the array</b>. &quot;More elegant&quot; and &quot;more fluent&quot; are opinion-based and not suitable questions. If your &quot;fast&quot; solution does what you want, use that."},{"owner":{"account_id":7072149,"reputation":91,"user_id":5413405,"display_name":"fozzybear"},"score":0,"creation_date":1676649469,"post_id":75459734,"comment_id":133185907,"body_markdown":"By &#39;wrapped array is not convincing&#39; I mean: there must be some kind of copying/extending the source array by `AbstractList` or `AbstractCollection`, otherwise the additional element couldn&#39;t be added, without backtracing it to the core. And by &#39;more fluent&#39; I mean being able to use it in a chained manner, like with the `Stream` API. Unfortunately, creating streams - and collecting them - seems to produce quite an overhead, which needs to be considered, if the invocation happens in a loop, where I found a dedicated `Collector` being even more demanding, than an inline Collector.","body":"By &#39;wrapped array is not convincing&#39; I mean: there must be some kind of copying/extending the source array by <code>AbstractList</code> or <code>AbstractCollection</code>, otherwise the additional element couldn&#39;t be added, without backtracing it to the core. And by &#39;more fluent&#39; I mean being able to use it in a chained manner, like with the <code>Stream</code> API. Unfortunately, creating streams - and collecting them - seems to produce quite an overhead, which needs to be considered, if the invocation happens in a loop, where I found a dedicated <code>Collector</code> being even more demanding, than an inline Collector."},{"owner":{"account_id":7072149,"reputation":91,"user_id":5413405,"display_name":"fozzybear"},"score":0,"creation_date":1676920942,"post_id":75459734,"comment_id":133230707,"body_markdown":"Ok, I think I understand now, my bad. The method doesn&#39;t do any copying, it just returns the additional value, in case the value for index 0 is retrieved (first) or, in principle, at whatever index the addition is desired, else only the unmodified List-wrapped source array.","body":"Ok, I think I understand now, my bad. The method doesn&#39;t do any copying, it just returns the additional value, in case the value for index 0 is retrieved (first) or, in principle, at whatever index the addition is desired, else only the unmodified List-wrapped source array."}],"answers":[{"tags":[],"owner":{"account_id":19356344,"reputation":52,"user_id":14152601,"display_name":"BigTailMokey"},"down_vote_count":1,"up_vote_count":1,"is_accepted":true,"score":0,"last_activity_date":1676466280,"creation_date":1676466280,"answer_id":75460223,"question_id":75459734,"body_markdown":"My guess is: The return object of AbstractList is a simple Reference instance. The field of return object is your huge array.\r\n\r\nAnd in other words, there is not real copy.","title":"Java oversize List from array Arrays.asList vs. AbstractList performance issue","body":"<p>My guess is: The return object of AbstractList is a simple Reference instance. The field of return object is your huge array.</p>\n<p>And in other words, there is not real copy.</p>\n"},{"tags":[],"owner":{"account_id":1713236,"reputation":22836,"user_id":1570854,"accept_rate":71,"display_name":"Lesiak"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1676497891,"creation_date":1676496422,"answer_id":75465592,"question_id":75459734,"body_markdown":"Firstly:\r\n\r\nYour performance test is poor. Your JVM is not warmed-up, code needs to be JITed etc. It is even possible that the call to method under test can be compiled away - you don&#39;t use the result. Learn how to use JMH to get more insight on performance of each alternative.\r\n\r\nHaving said that:\r\n\r\nAll alternatives you arrived as are terribly slow as they copy elements of the source list into target list, one element at a time. You have&#39;t even set initial size of the output list - it starts with a small default value and needs to grow when you add elements. Again, more copying.\r\n\r\nOne alternative you haven&#39;t considered is:\r\n- allocate target array with desired size\r\n- use `System.arraycopy` to copy source array into desired position in the target array. `System.arraycopy` is the fastest method to copy arrays (equivalent to memcpy)\r\n\r\n```lang-java\r\nstatic &lt;T&gt; List&lt;T&gt; slowAsList(final Class&lt;T&gt; clazz, final T firstElem, final T... sourceElements) {\r\n    final int arrayLen = sourceElements.length + 1;\r\n    final T[] targetArray = (T[])Array.newInstance(clazz, arrayLen);\r\n    System.arraycopy(sourceElements,\r\n            0,\r\n            targetArray, 1, sourceElements.length);\r\n    targetArray[0] = firstElem;\r\n    return Arrays.asList(targetArray);\r\n}\r\n\r\n@Test\r\npublic void slowAsListTest() {\r\n    final String[] testStrings1MwithNull = IntStream.rangeClosed(0, 1000000)\r\n            .mapToObj(i -&gt; i == 1000000 ? null : &quot;TEST&quot; + i)\r\n            .toArray(String[]::new);\r\n\r\n    var ret = slowAsList(String.class, &quot;1&quot;, testStrings1MwithNull);\r\n    System.out.println(ret.size());\r\n}\r\n```\r\n\r\nOn my machine, this is faster than your wrapper implementation (again, not warmed up JVM)\r\n\r\nOn top of that: if your custom wrapper is a performance optimization and you won&#39;t wrap a wrapper of a wrapper..., then it seems a reasonable thing to do.\r\n","title":"Java oversize List from array Arrays.asList vs. AbstractList performance issue","body":"<p>Firstly:</p>\n<p>Your performance test is poor. Your JVM is not warmed-up, code needs to be JITed etc. It is even possible that the call to method under test can be compiled away - you don't use the result. Learn how to use JMH to get more insight on performance of each alternative.</p>\n<p>Having said that:</p>\n<p>All alternatives you arrived as are terribly slow as they copy elements of the source list into target list, one element at a time. You have't even set initial size of the output list - it starts with a small default value and needs to grow when you add elements. Again, more copying.</p>\n<p>One alternative you haven't considered is:</p>\n<ul>\n<li>allocate target array with desired size</li>\n<li>use <code>System.arraycopy</code> to copy source array into desired position in the target array. <code>System.arraycopy</code> is the fastest method to copy arrays (equivalent to memcpy)</li>\n</ul>\n<pre class=\"lang-java prettyprint-override\"><code>static &lt;T&gt; List&lt;T&gt; slowAsList(final Class&lt;T&gt; clazz, final T firstElem, final T... sourceElements) {\n    final int arrayLen = sourceElements.length + 1;\n    final T[] targetArray = (T[])Array.newInstance(clazz, arrayLen);\n    System.arraycopy(sourceElements,\n            0,\n            targetArray, 1, sourceElements.length);\n    targetArray[0] = firstElem;\n    return Arrays.asList(targetArray);\n}\n\n@Test\npublic void slowAsListTest() {\n    final String[] testStrings1MwithNull = IntStream.rangeClosed(0, 1000000)\n            .mapToObj(i -&gt; i == 1000000 ? null : &quot;TEST&quot; + i)\n            .toArray(String[]::new);\n\n    var ret = slowAsList(String.class, &quot;1&quot;, testStrings1MwithNull);\n    System.out.println(ret.size());\n}\n</code></pre>\n<p>On my machine, this is faster than your wrapper implementation (again, not warmed up JVM)</p>\n<p>On top of that: if your custom wrapper is a performance optimization and you won't wrap a wrapper of a wrapper..., then it seems a reasonable thing to do.</p>\n"}],"owner":{"account_id":7072149,"reputation":91,"user_id":5413405,"display_name":"fozzybear"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":135,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":75460223,"answer_count":2,"score":-1,"last_activity_date":1676921100,"creation_date":1676463666,"question_id":75459734,"body_markdown":"**The situation:** \r\n\r\nA (huge) array of elements requires performant transformation into a List, extended by one value. To solve the problem, a reduced implementation of AbstractList was devised and used in a dedicated method, which performs very well.\r\n\r\n**The Problem:**\r\n\r\nSimply applying `Arrays.asList(String element, String[] elements)` will not work (which would be very fast). Trying any other, seemingly straight-forward approaches will fail, due to serious performance problems.\r\n\r\n**Consider following examples, of which none will perform well:**\r\n\r\n```\r\nprotected static &lt;T&gt; List&lt;T&gt; slowAsList(final T last, final T... elements) {\r\n\r\n    //1\r\n    return IntStream.rangeClosed(0, length)\r\n      .mapToObj(i -&gt; i &lt; length ? elements[i] : last)\r\n      .collect(Collectors.toList());\r\n\r\n    //2\r\n    return Stream.concat(Stream.of(first), Arrays.stream(elements))\r\n      .parallel()\r\n      .collect(Collectors.toList());\r\n    //3\r\n    return new ArrayList() {{ for (Object o : elements) add(o); add(last); }};\r\n\r\n    //4\r\n    final ArrayList arrayList = new ArrayList();\r\n    arrayList.add(last);\r\n    for (Object o : elements) arrayList.add(o);\r\n    return arrayList;\r\n\r\n    //5\r\n    final int arrayLen = elements.length + 1;\r\n    final Object[] array = Arrays.copyOf(elements, arrayLen);\r\n    for (int i = 1; i &lt; arrayLen; i++) {\r\n      array[i] = elements[i - 1];\r\n    }\r\n    array[arrayLen - 1] = last;\r\n    return Arrays.asList(array);\r\n}\r\n```\r\n\r\nThe method will stall in a JUnit test and not finish in a feasible amount of time:\r\n\r\n```\r\n@Timeout(15)\r\n@Test\r\npublic void fastAsListTest() {\r\n    final Object[] testStrings1MwithNull = IntStream.rangeClosed(0, 1000000)\r\n      .mapToObj(i -&gt; i == 1000000 ? null : &quot;TEST&quot; + i)\r\n      .toArray();\r\n\r\n    slowAsList(testStrings1MwithNull);\r\n}\r\n```\r\nWhen replacing the implementation in the method with a variation of the `AbstractList` implementation, the test will finish within a few milliseconds, instead:\r\n```\r\nprotected static &lt;T&gt; List&lt;T&gt; fastAsList(final T last, final T... elements) {\r\n    if (elements == null) {\r\n      return null;\r\n    }\r\n    return new AbstractList&lt;T&gt;() {\r\n      @Override\r\n      public int size() {\r\n        return elements.length;\r\n      }\r\n      @Override\r\n      public T get(int index) {\r\n        return index &lt; 0 ? null : elements[index];\r\n      }\r\n    };\r\n}\r\n```\r\n**EDIT:**\r\nThis was the original code, with `first` as additional element\r\n```\r\nprotected static List&lt;Object&gt; asList(final Object first, final Object[] elements) {\r\n    \r\n    return new AbstractList&lt;Object&gt;() {\r\n      @Override\r\n      public int size() {\r\n        return elements.length + 1;\r\n        // return elements != null ? elements.length + 1 : 0;\r\n      }\r\n    \r\n      @Override\r\n      public Object get(int index) {\r\n        return (index == 0) ? first : elements[index - 1];\r\n        // return (index == 0) ? first : elements!= null ? elements[index - 1] : null;\r\n      }\r\n    };\r\n```\r\nThe commented-out code shows the added `null` checks, for nulls causing `com.sun.jdi.InvocationException` with elements `null`.\r\n\r\n**EDIT2:**\r\nJet another attempt, this time trying to apply the fast code as inline `Collector` in a `Stream` approach (with same results):\r\n\r\n```\r\nfinal int length = elements.length;\r\n    return IntStream.rangeClosed(0, length)\r\n      .mapToObj(i -&gt; i &lt; length ? elements[i] : null)\r\n      .collect(() -&gt; new AbstractList&lt;T&gt;() {\r\n        @Override\r\n        public int size() {\r\n          return elements == null ? null : elements.length;\r\n        }\r\n        @Override\r\n        public T get(int index) {\r\n          return index &lt; 0 ? null : elements[index];\r\n        }\r\n        }, \r\n        (a,b) -&gt; {return;}, \r\n        (a,b) -&gt; {return;}\r\n      );\r\n```\r\n\r\nWhat could be causing this issue, might a lack of memory be the problem here? \r\n\r\nI&#39;ve ramped-up Xms/Xmx to 2G/6G for the test and have an overall memory consumption of ~83% (of 16G in total) in Windows. Lowering the values hasn&#39;t changed anything, though.\r\n\r\n**EDIT3:**\r\n\r\nThe only option that seems to provide comparable performance so far - working only, if no additional value is required - is a plain wrapped `Arrays.asList()`:\r\n```\r\nprotected static &lt;T&gt; List&lt;T&gt; fastAsList(final T... elements) {\r\n  return elements == null ? null : Arrays.asList(elements);\r\n}\r\n```","title":"Java oversize List from array Arrays.asList vs. AbstractList performance issue","body":"<p><strong>The situation:</strong></p>\n<p>A (huge) array of elements requires performant transformation into a List, extended by one value. To solve the problem, a reduced implementation of AbstractList was devised and used in a dedicated method, which performs very well.</p>\n<p><strong>The Problem:</strong></p>\n<p>Simply applying <code>Arrays.asList(String element, String[] elements)</code> will not work (which would be very fast). Trying any other, seemingly straight-forward approaches will fail, due to serious performance problems.</p>\n<p><strong>Consider following examples, of which none will perform well:</strong></p>\n<pre><code>protected static &lt;T&gt; List&lt;T&gt; slowAsList(final T last, final T... elements) {\n\n    //1\n    return IntStream.rangeClosed(0, length)\n      .mapToObj(i -&gt; i &lt; length ? elements[i] : last)\n      .collect(Collectors.toList());\n\n    //2\n    return Stream.concat(Stream.of(first), Arrays.stream(elements))\n      .parallel()\n      .collect(Collectors.toList());\n    //3\n    return new ArrayList() {{ for (Object o : elements) add(o); add(last); }};\n\n    //4\n    final ArrayList arrayList = new ArrayList();\n    arrayList.add(last);\n    for (Object o : elements) arrayList.add(o);\n    return arrayList;\n\n    //5\n    final int arrayLen = elements.length + 1;\n    final Object[] array = Arrays.copyOf(elements, arrayLen);\n    for (int i = 1; i &lt; arrayLen; i++) {\n      array[i] = elements[i - 1];\n    }\n    array[arrayLen - 1] = last;\n    return Arrays.asList(array);\n}\n</code></pre>\n<p>The method will stall in a JUnit test and not finish in a feasible amount of time:</p>\n<pre><code>@Timeout(15)\n@Test\npublic void fastAsListTest() {\n    final Object[] testStrings1MwithNull = IntStream.rangeClosed(0, 1000000)\n      .mapToObj(i -&gt; i == 1000000 ? null : &quot;TEST&quot; + i)\n      .toArray();\n\n    slowAsList(testStrings1MwithNull);\n}\n</code></pre>\n<p>When replacing the implementation in the method with a variation of the <code>AbstractList</code> implementation, the test will finish within a few milliseconds, instead:</p>\n<pre><code>protected static &lt;T&gt; List&lt;T&gt; fastAsList(final T last, final T... elements) {\n    if (elements == null) {\n      return null;\n    }\n    return new AbstractList&lt;T&gt;() {\n      @Override\n      public int size() {\n        return elements.length;\n      }\n      @Override\n      public T get(int index) {\n        return index &lt; 0 ? null : elements[index];\n      }\n    };\n}\n</code></pre>\n<p><strong>EDIT:</strong>\nThis was the original code, with <code>first</code> as additional element</p>\n<pre><code>protected static List&lt;Object&gt; asList(final Object first, final Object[] elements) {\n    \n    return new AbstractList&lt;Object&gt;() {\n      @Override\n      public int size() {\n        return elements.length + 1;\n        // return elements != null ? elements.length + 1 : 0;\n      }\n    \n      @Override\n      public Object get(int index) {\n        return (index == 0) ? first : elements[index - 1];\n        // return (index == 0) ? first : elements!= null ? elements[index - 1] : null;\n      }\n    };\n</code></pre>\n<p>The commented-out code shows the added <code>null</code> checks, for nulls causing <code>com.sun.jdi.InvocationException</code> with elements <code>null</code>.</p>\n<p><strong>EDIT2:</strong>\nJet another attempt, this time trying to apply the fast code as inline <code>Collector</code> in a <code>Stream</code> approach (with same results):</p>\n<pre><code>final int length = elements.length;\n    return IntStream.rangeClosed(0, length)\n      .mapToObj(i -&gt; i &lt; length ? elements[i] : null)\n      .collect(() -&gt; new AbstractList&lt;T&gt;() {\n        @Override\n        public int size() {\n          return elements == null ? null : elements.length;\n        }\n        @Override\n        public T get(int index) {\n          return index &lt; 0 ? null : elements[index];\n        }\n        }, \n        (a,b) -&gt; {return;}, \n        (a,b) -&gt; {return;}\n      );\n</code></pre>\n<p>What could be causing this issue, might a lack of memory be the problem here?</p>\n<p>I've ramped-up Xms/Xmx to 2G/6G for the test and have an overall memory consumption of ~83% (of 16G in total) in Windows. Lowering the values hasn't changed anything, though.</p>\n<p><strong>EDIT3:</strong></p>\n<p>The only option that seems to provide comparable performance so far - working only, if no additional value is required - is a plain wrapped <code>Arrays.asList()</code>:</p>\n<pre><code>protected static &lt;T&gt; List&lt;T&gt; fastAsList(final T... elements) {\n  return elements == null ? null : Arrays.asList(elements);\n}\n</code></pre>\n"},{"tags":["java","list","java-17"],"comments":[{"owner":{"account_id":13170666,"reputation":78669,"user_id":9513184,"display_name":"Unmitigated"},"score":0,"creation_date":1676920360,"post_id":75513275,"comment_id":133230574,"body_markdown":"Do the functions all have the same signature?","body":"Do the functions all have the same signature?"},{"owner":{"account_id":6821484,"reputation":1389,"user_id":5248498,"display_name":"Ahmed Tawfik"},"score":0,"creation_date":1676920879,"post_id":75513275,"comment_id":133230689,"body_markdown":"Yes, naturally.","body":"Yes, naturally."},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":3,"creation_date":1676925168,"post_id":75513275,"comment_id":133231668,"body_markdown":"The problem is that there&#39;s not enough type information to infer the parameterization of `List`, so it defaults to `List&lt;Object&gt;`. Either replace `var` with the actual type (e.g., `List&lt;Function&lt;Foo, Bar&gt;&gt;`) or use a type witness (e.g., `List.&lt;Function&lt;Foo, Bar&gt;&gt;of(...)`). Replace `Function&lt;Foo, Bar&gt;` with the actual type you&#39;re using.","body":"The problem is that there&#39;s not enough type information to infer the parameterization of <code>List</code>, so it defaults to <code>List&lt;Object&gt;</code>. Either replace <code>var</code> with the actual type (e.g., <code>List&lt;Function&lt;Foo, Bar&gt;&gt;</code>) or use a type witness (e.g., <code>List.&lt;Function&lt;Foo, Bar&gt;&gt;of(...)</code>). Replace <code>Function&lt;Foo, Bar&gt;</code> with the actual type you&#39;re using."},{"owner":{"account_id":6821484,"reputation":1389,"user_id":5248498,"display_name":"Ahmed Tawfik"},"score":0,"creation_date":1676927663,"post_id":75513275,"comment_id":133232259,"body_markdown":"I didn&#39;t know about type witnesses (the List.&lt;TypeHere&gt;) before @NoDataFound&#39;s answer. Thank you for providing extra context.","body":"I didn&#39;t know about type witnesses (the List.&lt;TypeHere&gt;) before @NoDataFound&#39;s answer. Thank you for providing extra context."},{"owner":{"account_id":1416522,"reputation":91354,"user_id":3553087,"display_name":"Brian Goetz"},"score":2,"creation_date":1677347787,"post_id":75513275,"comment_id":133321618,"body_markdown":"The problem is similar to the one answered here: https://stackoverflow.com/questions/49578553/why-cant-the-var-keyword-in-java-be-assigned-a-lambda-expression/49581723#49581723.  The issue is not `var` per se, but that lambdas and method references do not have a standalone type -- they need to get their type from context.  This could be an assignment target or cast, but you need _something_ that says what functional interface you want.","body":"The problem is similar to the one answered here: <a href=\"https://stackoverflow.com/questions/49578553/why-cant-the-var-keyword-in-java-be-assigned-a-lambda-expression/49581723#49581723\" title=\"why cant the var keyword in java be assigned a lambda expression\">stackoverflow.com/questions/49578553/&hellip;</a>.  The issue is not <code>var</code> per se, but that lambdas and method references do not have a standalone type -- they need to get their type from context.  This could be an assignment target or cast, but you need <i>something</i> that says what functional interface you want."}],"answers":[{"tags":[],"owner":{"account_id":1010971,"reputation":11524,"user_id":1023553,"accept_rate":59,"display_name":"NoDataFound"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1676920544,"creation_date":1676920544,"answer_id":75513319,"question_id":75513275,"body_markdown":"You have to help Java a little for this one:\r\n\r\n    var myListOfFunctions = List.&lt;Function&lt;String,Integer&gt;&gt; of(this::myFunction, MyClass::someOtherFunction);\r\n\r\nThis would generate a `List&lt;Function&lt;String, Integer&gt;&gt;`.","title":"How do I create a List of functions in Java?","body":"<p>You have to help Java a little for this one:</p>\n<pre><code>var myListOfFunctions = List.&lt;Function&lt;String,Integer&gt;&gt; of(this::myFunction, MyClass::someOtherFunction);\n</code></pre>\n<p>This would generate a <code>List&lt;Function&lt;String, Integer&gt;&gt;</code>.</p>\n"},{"tags":[],"owner":{"account_id":13170666,"reputation":78669,"user_id":9513184,"display_name":"Unmitigated"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1676920990,"creation_date":1676920990,"answer_id":75513385,"question_id":75513275,"body_markdown":"First, create a functional interface that represents the common signature of all the functions. Note: there may be an interface from the `java.util.function` package that can be used to represent the signature, so it may not be necessary to create a new interface.\r\n\r\n```java\r\n// for example\r\n@FunctionalInterface\r\ninterface MyFunction {\r\n\tint f(int a, int b); // this must match the signature of each function\r\n}\r\n```\r\n\r\nThen, create a `List` of that type.\r\n\r\n```java\r\nList&lt;MyFunction&gt; functions = List.of(this::myFunction, MyClass::someOtherFunction);\r\n```","title":"How do I create a List of functions in Java?","body":"<p>First, create a functional interface that represents the common signature of all the functions. Note: there may be an interface from the <code>java.util.function</code> package that can be used to represent the signature, so it may not be necessary to create a new interface.</p>\n<pre class=\"lang-java prettyprint-override\"><code>// for example\n@FunctionalInterface\ninterface MyFunction {\n    int f(int a, int b); // this must match the signature of each function\n}\n</code></pre>\n<p>Then, create a <code>List</code> of that type.</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;MyFunction&gt; functions = List.of(this::myFunction, MyClass::someOtherFunction);\n</code></pre>\n"}],"owner":{"account_id":6821484,"reputation":1389,"user_id":5248498,"display_name":"Ahmed Tawfik"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":288,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75513385,"answer_count":2,"score":0,"last_activity_date":1676920990,"creation_date":1676920137,"question_id":75513275,"body_markdown":"How can I create an array or List of functions in Java 17 (or similar)?\r\n\r\nExpected hypothetical usage:\r\n\r\n```java\r\n    var myListOfFunctions = List.of(this::myFunction, MyClass::someOtherFunction);\r\n```\r\nI get the following error:\r\n\r\n&gt; Object is not a functional interface\r\n\r\nI intend to stream the functions and pass them the same data.","title":"How do I create a List of functions in Java?","body":"<p>How can I create an array or List of functions in Java 17 (or similar)?</p>\n<p>Expected hypothetical usage:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    var myListOfFunctions = List.of(this::myFunction, MyClass::someOtherFunction);\n</code></pre>\n<p>I get the following error:</p>\n<blockquote>\n<p>Object is not a functional interface</p>\n</blockquote>\n<p>I intend to stream the functions and pass them the same data.</p>\n"},{"tags":["java","jvm"],"comments":[{"owner":{"account_id":320962,"reputation":31681,"user_id":639520,"accept_rate":72,"display_name":"E-Riz"},"score":0,"creation_date":1676914632,"post_id":75512456,"comment_id":133229104,"body_markdown":"It has nothing to do with the JVM, more likely dependent on which logging library you&#39;re using.","body":"It has nothing to do with the JVM, more likely dependent on which logging library you&#39;re using."},{"owner":{"account_id":1690035,"reputation":22131,"user_id":1552587,"accept_rate":40,"display_name":"Titus"},"score":0,"creation_date":1676915150,"post_id":75512456,"comment_id":133229255,"body_markdown":"Instead of using `e.printStackTrace()` you can use something like `System.err.println(e.getCause())`. I don&#39;t think there is any JVM configuration to do that instead of printing the entire stack.","body":"Instead of using <code>e.printStackTrace()</code> you can use something like <code>System.err.println(e.getCause())</code>. I don&#39;t think there is any JVM configuration to do that instead of printing the entire stack."},{"owner":{"account_id":2139538,"reputation":42501,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":1,"creation_date":1676915344,"post_id":75512456,"comment_id":133229308,"body_markdown":"You&#39;ll come to regret this decision. If your program is routinely throwing exceptions, fix that. If it&#39;s not, then when one happens, you should appreciate as much context as you can get.","body":"You&#39;ll come to regret this decision. If your program is routinely throwing exceptions, fix that. If it&#39;s not, then when one happens, you should appreciate as much context as you can get."}],"answers":[{"tags":[],"owner":{"account_id":3622515,"reputation":3911,"user_id":3020903,"accept_rate":50,"display_name":"Tarmo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1676920788,"creation_date":1676920788,"answer_id":75513354,"question_id":75512456,"body_markdown":"If you only care about the root cause you need to go recursively with `e.getCause()` until it&#39;s null and then log the exception where cause is null. But as mentioned in the comments by Michael, it&#39;s often a bad idea because you&#39;ll be missing out on context sooner or later.\r\n\r\nTheres a utility function in Apache Commons to get the root cause: https://commons.apache.org/proper/commons-lang/javadocs/api-3.4/org/apache/commons/lang3/exception/ExceptionUtils.html#getRootCause(java.lang.Throwable)\r\n\r\nBut it would be easy to code it up yourself also if you mind the extra dependency.\r\n\r\nAlso a thread on how to limit stacktraces with Log4J for example: https://stackoverflow.com/questions/69507316/how-to-print-only-top-few-stacks-in-a-stacktrace-in-java","title":"How to only print the &quot;Caused by&quot; line of a Java exception?","body":"<p>If you only care about the root cause you need to go recursively with <code>e.getCause()</code> until it's null and then log the exception where cause is null. But as mentioned in the comments by Michael, it's often a bad idea because you'll be missing out on context sooner or later.</p>\n<p>Theres a utility function in Apache Commons to get the root cause: <a href=\"https://commons.apache.org/proper/commons-lang/javadocs/api-3.4/org/apache/commons/lang3/exception/ExceptionUtils.html#getRootCause(java.lang.Throwable)\" rel=\"nofollow noreferrer\">https://commons.apache.org/proper/commons-lang/javadocs/api-3.4/org/apache/commons/lang3/exception/ExceptionUtils.html#getRootCause(java.lang.Throwable)</a></p>\n<p>But it would be easy to code it up yourself also if you mind the extra dependency.</p>\n<p>Also a thread on how to limit stacktraces with Log4J for example: <a href=\"https://stackoverflow.com/questions/69507316/how-to-print-only-top-few-stacks-in-a-stacktrace-in-java\">how to print only top few stacks in a stacktrace in Java</a></p>\n"}],"owner":{"account_id":1349824,"reputation":3326,"user_id":1289801,"accept_rate":30,"display_name":"TMOTTM"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":280,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1676920788,"creation_date":1676914196,"question_id":75512456,"body_markdown":"When working on Java programs, error stacks can be large and often the only information I need is the &quot;Caused by...&quot; clause. Can I configure the JVM (?) such that it only returns this line?","title":"How to only print the &quot;Caused by&quot; line of a Java exception?","body":"<p>When working on Java programs, error stacks can be large and often the only information I need is the &quot;Caused by...&quot; clause. Can I configure the JVM (?) such that it only returns this line?</p>\n"},{"tags":["java","android",".net","visual-studio","xamarin"],"comments":[{"owner":{"account_id":1008,"reputation":87078,"user_id":1338,"accept_rate":74,"display_name":"Jason"},"score":0,"creation_date":1676921254,"post_id":75513307,"comment_id":133230779,"body_markdown":"Standard Android library bindings are already provided by Mictosoft","body":"Standard Android library bindings are already provided by Mictosoft"},{"owner":{"account_id":17433897,"reputation":383,"user_id":12637353,"display_name":"rickster26ter1"},"score":0,"creation_date":1676921516,"post_id":75513307,"comment_id":133230852,"body_markdown":"Yea, you&#39;re right. I thought that might be the case a few seconds before I saw your answer. Thanks.","body":"Yea, you&#39;re right. I thought that might be the case a few seconds before I saw your answer. Thanks."}],"owner":{"account_id":17433897,"reputation":383,"user_id":12637353,"display_name":"rickster26ter1"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676920413,"creation_date":1676920413,"question_id":75513307,"body_markdown":"I&#39;m an absolute beginner to Xamarin Forms. I found that if I want to use java libraries in Xamarin, I need to have a `Java Xamarin Bindings` project. So I have created that in Visual Studio. From there, I know that I need the jar file.\r\n\r\nI am trying to find where to easily obtain jar files for standard Android/Java libraries. For example, I am trying to obtain this simple `Android.net` library here, which happens to reference a `ConnectivityManager` Class: \r\n\r\nhttps://developer.android.com/reference/android/net/ConnectivityManager\r\n\r\n Where can I simply get this jar file for importing?\r\n\r\nI have tried searching on google, but what pops up are locations telling you to get the bindings project as mentioned above, and assume you already have the jar file.","title":"Xamarin Forms - Getting Jar file for standard libraries?","body":"<p>I'm an absolute beginner to Xamarin Forms. I found that if I want to use java libraries in Xamarin, I need to have a <code>Java Xamarin Bindings</code> project. So I have created that in Visual Studio. From there, I know that I need the jar file.</p>\n<p>I am trying to find where to easily obtain jar files for standard Android/Java libraries. For example, I am trying to obtain this simple <code>Android.net</code> library here, which happens to reference a <code>ConnectivityManager</code> Class:</p>\n<p><a href=\"https://developer.android.com/reference/android/net/ConnectivityManager\" rel=\"nofollow noreferrer\">https://developer.android.com/reference/android/net/ConnectivityManager</a></p>\n<p>Where can I simply get this jar file for importing?</p>\n<p>I have tried searching on google, but what pops up are locations telling you to get the bindings project as mentioned above, and assume you already have the jar file.</p>\n"},{"tags":["java","swing","awt"],"comments":[{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1676936976,"post_id":75513285,"comment_id":133233958,"body_markdown":"You can use a `MenuListener` and handle the `menuSelected/Deselected` events to set/reset the Border. Check out: https://stackoverflow.com/a/75403560/131872 for a simple example to get you started.","body":"You can use a <code>MenuListener</code> and handle the <code>menuSelected&#47;Deselected</code> events to set/reset the Border. Check out: <a href=\"https://stackoverflow.com/a/75403560/131872\">stackoverflow.com/a/75403560/131872</a> for a simple example to get you started."}],"owner":{"account_id":26604577,"reputation":29,"user_id":20225675,"display_name":"MorganOC01"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1676920237,"creation_date":1676920237,"question_id":75513285,"body_markdown":"I am creating a program in java that has a JMenu. I am trying to edit the JMenu so that when selected the item has a different colour and border than the default swing L&amp;F. I have managed to change the actual selection background with `UIManager.put(&quot;Menu.selectionBackground&quot;)` but have been unable to figure out how to change the border.\r\n\r\nSo far I have tried using an actionListener that changes the border when clicked which does not work as well as trying a potential `&quot;Menu.selectionBorder&quot;` which does not exist. So is there anyway to change the border when selected or is it not something I can do?\r\n\r\nI have linked an image to show what I have currently\r\n\r\n[![My Menubar with the first item selected which is blue as stated above.][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/97SSX.png","title":"Is there anyway to change the border of a jmenu when selected?","body":"<p>I am creating a program in java that has a JMenu. I am trying to edit the JMenu so that when selected the item has a different colour and border than the default swing L&amp;F. I have managed to change the actual selection background with <code>UIManager.put(&quot;Menu.selectionBackground&quot;)</code> but have been unable to figure out how to change the border.</p>\n<p>So far I have tried using an actionListener that changes the border when clicked which does not work as well as trying a potential <code>&quot;Menu.selectionBorder&quot;</code> which does not exist. So is there anyway to change the border when selected or is it not something I can do?</p>\n<p>I have linked an image to show what I have currently</p>\n<p><a href=\"https://i.stack.imgur.com/97SSX.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/97SSX.png\" alt=\"My Menubar with the first item selected which is blue as stated above.\" /></a></p>\n"},{"tags":["java","message","activemq-artemis"],"answers":[{"tags":[],"owner":{"account_id":11434008,"reputation":30690,"user_id":8381946,"display_name":"Justin Bertram"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1676919882,"creation_date":1676905005,"answer_id":75510845,"question_id":75509348,"body_markdown":"The core API is a relatively low-level API aimed at fine-grained control for maximizing performance. It shares some similarities with the JMS API, but some important differences as well.\r\n\r\nSpecifically regarding consumers, acknowledgements are costly in terms of performance because they require a round-trip to the broker. Therefore, there are several ways to tune acknowledgements in the core API. \r\n\r\nThe first tuning step is choosing whether or not to automatically commit acknowledgements. This decision is made when creating the session (e.g. via [this method][1]). If acknowledgements are automatically committed then the application never has to invoke `commit()` itself, but that also means it can&#39;t support more advanced use-cases which would require `rollback()`.\r\n\r\nIf the user chooses to automatically commit acknowledgements, as you have, then the next tuning step is _how often_ these acknowledgements should be committed. This decision is made by specifying the &quot;acknowledgement batch size&quot; (e.g. via [this method][2]).\r\n\r\nIf you want to automatically acknowledge messages and you want the acknowledgements to be committed _immediately_ then set your ackBatchSize to `0`. If you want full control over acknowledgements then don&#39;t automatically acknowledge the messages and invoke `commit()` &quot;manually&quot;. However, keep in mind that forcing a round-trip to the broker for every acknowledgement will reduce performance (potentially considerably).\r\n\r\nLastly, the `lastAckedMessage` is tracked so that only one acknowledgement needs to be sent to the broker (i.e. the most recent) and then _every_ message sent before that one is acknowledged as well. This is an optimization which relieves the client from the burden of having to send an individual acknowledgement for *every single message* it has received.\r\n\r\n\r\n  [1]: https://activemq.apache.org/components/artemis/documentation/javadocs/javadoc-latest/org/apache/activemq/artemis/api/core/client/ClientSessionFactory.html#createSession(boolean,boolean)\r\n  [2]: https://activemq.apache.org/components/artemis/documentation/javadocs/javadoc-latest/org/apache/activemq/artemis/api/core/client/ClientSessionFactory.html#createSession(boolean,boolean,int)","title":"Performance about ActiveMQ Artemis ClientMessage","body":"<p>The core API is a relatively low-level API aimed at fine-grained control for maximizing performance. It shares some similarities with the JMS API, but some important differences as well.</p>\n<p>Specifically regarding consumers, acknowledgements are costly in terms of performance because they require a round-trip to the broker. Therefore, there are several ways to tune acknowledgements in the core API.</p>\n<p>The first tuning step is choosing whether or not to automatically commit acknowledgements. This decision is made when creating the session (e.g. via <a href=\"https://activemq.apache.org/components/artemis/documentation/javadocs/javadoc-latest/org/apache/activemq/artemis/api/core/client/ClientSessionFactory.html#createSession(boolean,boolean)\" rel=\"nofollow noreferrer\">this method</a>). If acknowledgements are automatically committed then the application never has to invoke <code>commit()</code> itself, but that also means it can't support more advanced use-cases which would require <code>rollback()</code>.</p>\n<p>If the user chooses to automatically commit acknowledgements, as you have, then the next tuning step is <em>how often</em> these acknowledgements should be committed. This decision is made by specifying the &quot;acknowledgement batch size&quot; (e.g. via <a href=\"https://activemq.apache.org/components/artemis/documentation/javadocs/javadoc-latest/org/apache/activemq/artemis/api/core/client/ClientSessionFactory.html#createSession(boolean,boolean,int)\" rel=\"nofollow noreferrer\">this method</a>).</p>\n<p>If you want to automatically acknowledge messages and you want the acknowledgements to be committed <em>immediately</em> then set your ackBatchSize to <code>0</code>. If you want full control over acknowledgements then don't automatically acknowledge the messages and invoke <code>commit()</code> &quot;manually&quot;. However, keep in mind that forcing a round-trip to the broker for every acknowledgement will reduce performance (potentially considerably).</p>\n<p>Lastly, the <code>lastAckedMessage</code> is tracked so that only one acknowledgement needs to be sent to the broker (i.e. the most recent) and then <em>every</em> message sent before that one is acknowledged as well. This is an optimization which relieves the client from the burden of having to send an individual acknowledgement for <em>every single message</em> it has received.</p>\n"}],"owner":{"account_id":11952920,"reputation":25,"user_id":8746085,"display_name":"Grab"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":228,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75510845,"answer_count":1,"score":0,"last_activity_date":1676919882,"creation_date":1676896454,"question_id":75509348,"body_markdown":"I want to receive messages through a `MessageHandler` bound to consumer. When I use a core `ClientMessage` as the container the message will never be acked with `acknowledge()`, but ok with the `individualAcknowledge()` method. It&#39;s quite different when using `javax.jms.Message`.\r\n\r\nThe Code:\r\n```java\r\n@Override\r\npublic void onMessage(ClientMessage message) {\r\n\ttry {\r\n        //acknowledge() method won&#39;t work, the message still in the queue\r\n\t\t//message.acknowledge();\r\n\t\tmessage.individualAcknowledge();\r\n\t} catch (ActiveMQException e) {\r\n\t\tlog.error(&quot;message acknowledge error: &quot;, e);\r\n\t}\r\n}\r\n```\r\n\r\nBut when I simply change the parameter to `javax.jms.Message`. The ack method worked. I&#39;ve checked the origin code of both:\r\n\r\n**ClientMessage:**\r\n```java\r\npublic void acknowledge(ClientMessage message) throws ActiveMQException {\r\n    ClientMessageInternal cmi = (ClientMessageInternal)message;\r\n    if (this.ackIndividually) {\r\n        this.individualAcknowledge(message);\r\n    } else {\r\n        this.ackBytes += message.getEncodeSize();\r\n        if (logger.isTraceEnabled()) {\r\n            logger.trace(this + &quot;::acknowledge ackBytes=&quot; + this.ackBytes + &quot; and ackBatchSize=&quot; + this.ackBatchSize + &quot;, encodeSize=&quot; + message.getEncodeSize());\r\n        }\r\n\r\n        if (this.ackBytes &gt;= this.ackBatchSize) {\r\n            if (logger.isTraceEnabled()) {\r\n                logger.trace(this + &quot;:: acknowledge acking &quot; + cmi);\r\n            }\r\n\r\n            this.doAck(cmi);\r\n        } else {\r\n            if (logger.isTraceEnabled()) {\r\n                logger.trace(this + &quot;:: acknowledge setting lastAckedMessage = &quot; + cmi);\r\n            }\r\n\r\n            this.lastAckedMessage = cmi;\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nAnd the `javax.jms.Message`:\r\n```java\r\npublic void acknowledge() throws JMSException {\r\n    if (this.session != null) {\r\n        try {\r\n            if (this.session.isClosed()) {\r\n                throw ActiveMQClientMessageBundle.BUNDLE.sessionClosed();\r\n            }\r\n\r\n            if (this.individualAck) {\r\n                this.message.individualAcknowledge();\r\n            }\r\n\r\n            if (this.clientAck || this.individualAck) {\r\n                this.session.commit(this.session.isBlockOnAcknowledge());\r\n            }\r\n        } catch (ActiveMQException var2) {\r\n            throw JMSExceptionHelper.convertFromActiveMQException(var2);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nIt&#39;s quite obviously that `javax.jms.Message` commits the session whenever a message is acked, but `ClientMessage` will calculate whether the acked message is reach the max size of the `ackBatchSize`, if not, it will store this message in a parameter called **lastAckedMessage**.\r\n\r\nSo,my question is:\r\n1. What does `lastAckedMessage` do when I just have 1 message that is too far too reach the bathSize? How could I ack the message? Close the session to force commit?\r\n\r\nThe session is configured to autoCommitSends and autoCommitAcks.\r\n\r\nAfter I read the [doc](https://activemq.apache.org/components/artemis/documentation/1.0.0/pre-acknowledge.html), I try to change the `acknowledge()` to `individualAcknowledge()` and it works, but i&#39;m still wondering why the `acknowledge()` can&#39;t.","title":"Performance about ActiveMQ Artemis ClientMessage","body":"<p>I want to receive messages through a <code>MessageHandler</code> bound to consumer. When I use a core <code>ClientMessage</code> as the container the message will never be acked with <code>acknowledge()</code>, but ok with the <code>individualAcknowledge()</code> method. It's quite different when using <code>javax.jms.Message</code>.</p>\n<p>The Code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Override\npublic void onMessage(ClientMessage message) {\n    try {\n        //acknowledge() method won't work, the message still in the queue\n        //message.acknowledge();\n        message.individualAcknowledge();\n    } catch (ActiveMQException e) {\n        log.error(&quot;message acknowledge error: &quot;, e);\n    }\n}\n</code></pre>\n<p>But when I simply change the parameter to <code>javax.jms.Message</code>. The ack method worked. I've checked the origin code of both:</p>\n<p><strong>ClientMessage:</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>public void acknowledge(ClientMessage message) throws ActiveMQException {\n    ClientMessageInternal cmi = (ClientMessageInternal)message;\n    if (this.ackIndividually) {\n        this.individualAcknowledge(message);\n    } else {\n        this.ackBytes += message.getEncodeSize();\n        if (logger.isTraceEnabled()) {\n            logger.trace(this + &quot;::acknowledge ackBytes=&quot; + this.ackBytes + &quot; and ackBatchSize=&quot; + this.ackBatchSize + &quot;, encodeSize=&quot; + message.getEncodeSize());\n        }\n\n        if (this.ackBytes &gt;= this.ackBatchSize) {\n            if (logger.isTraceEnabled()) {\n                logger.trace(this + &quot;:: acknowledge acking &quot; + cmi);\n            }\n\n            this.doAck(cmi);\n        } else {\n            if (logger.isTraceEnabled()) {\n                logger.trace(this + &quot;:: acknowledge setting lastAckedMessage = &quot; + cmi);\n            }\n\n            this.lastAckedMessage = cmi;\n        }\n    }\n}\n</code></pre>\n<p>And the <code>javax.jms.Message</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public void acknowledge() throws JMSException {\n    if (this.session != null) {\n        try {\n            if (this.session.isClosed()) {\n                throw ActiveMQClientMessageBundle.BUNDLE.sessionClosed();\n            }\n\n            if (this.individualAck) {\n                this.message.individualAcknowledge();\n            }\n\n            if (this.clientAck || this.individualAck) {\n                this.session.commit(this.session.isBlockOnAcknowledge());\n            }\n        } catch (ActiveMQException var2) {\n            throw JMSExceptionHelper.convertFromActiveMQException(var2);\n        }\n    }\n}\n</code></pre>\n<p>It's quite obviously that <code>javax.jms.Message</code> commits the session whenever a message is acked, but <code>ClientMessage</code> will calculate whether the acked message is reach the max size of the <code>ackBatchSize</code>, if not, it will store this message in a parameter called <strong>lastAckedMessage</strong>.</p>\n<p>So,my question is:</p>\n<ol>\n<li>What does <code>lastAckedMessage</code> do when I just have 1 message that is too far too reach the bathSize? How could I ack the message? Close the session to force commit?</li>\n</ol>\n<p>The session is configured to autoCommitSends and autoCommitAcks.</p>\n<p>After I read the <a href=\"https://activemq.apache.org/components/artemis/documentation/1.0.0/pre-acknowledge.html\" rel=\"nofollow noreferrer\">doc</a>, I try to change the <code>acknowledge()</code> to <code>individualAcknowledge()</code> and it works, but i'm still wondering why the <code>acknowledge()</code> can't.</p>\n"},{"tags":["java","eclipse","java-io"],"comments":[{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":0,"creation_date":1676915241,"post_id":75512580,"comment_id":133229279,"body_markdown":"Please include the error message as *text* in the question. (I&#39;d also strongly advise you to research Java naming conventions, and start following them.) Now, what&#39;s the value of `url.ToURI()`? That looks like it&#39;s the problem here... note that you shouldn&#39;t assume that every resource *is* a file in the file system... if your data is in a jar file for example, `File.listFiles` isn&#39;t going to help you.","body":"Please include the error message as <i>text</i> in the question. (I&#39;d also strongly advise you to research Java naming conventions, and start following them.) Now, what&#39;s the value of <code>url.ToURI()</code>? That looks like it&#39;s the problem here... note that you shouldn&#39;t assume that every resource <i>is</i> a file in the file system... if your data is in a jar file for example, <code>File.listFiles</code> isn&#39;t going to help you."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1676915828,"post_id":75512580,"comment_id":133229435,"body_markdown":"You can&#39;t access resources *as* directories. If you want to access several images in a serial fashion like that, you will need to come up with a naming scheme *per file* to access them sequentially","body":"You can&#39;t access resources <i>as</i> directories. If you want to access several images in a serial fashion like that, you will need to come up with a naming scheme <i>per file</i> to access them sequentially"},{"owner":{"account_id":3622515,"reputation":3911,"user_id":3020903,"accept_rate":50,"display_name":"Tarmo"},"score":0,"creation_date":1676918473,"post_id":75512580,"comment_id":133230092,"body_markdown":"Sidenote: Catching checked exceptions and doing `e.printStackTrace()` is a bad practice which leads you to a really convoluted code (as seen here) and even worse, might lead you to `NullPointerException`s which are hard to trace. If you don&#39;t know what to do with those exceptions then it would be better to just declare them in the throws statement in your method signature or surround the whole code with try catch which will convert them to a wrapped `RuntimeException`.","body":"Sidenote: Catching checked exceptions and doing <code>e.printStackTrace()</code> is a bad practice which leads you to a really convoluted code (as seen here) and even worse, might lead you to <code>NullPointerException</code>s which are hard to trace. If you don&#39;t know what to do with those exceptions then it would be better to just declare them in the throws statement in your method signature or surround the whole code with try catch which will convert them to a wrapped <code>RuntimeException</code>."},{"owner":{"account_id":27834858,"reputation":1,"user_id":21252552,"display_name":"Abhijeet Singh"},"score":0,"creation_date":1676919538,"post_id":75512580,"comment_id":133230379,"body_markdown":"Okay I will try","body":"Okay I will try"}],"answers":[{"tags":[],"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676918068,"creation_date":1676918068,"answer_id":75512973,"question_id":75512580,"body_markdown":"        final int MAX_IMAGES = 10;\r\n        for(int i = 0;i &lt; MAX_IMAGES;i++) {  \r\n            String fileName = String.format(&quot;%02d.png&quot;, i);\r\n            InputStream in = getClass().getResourceAsStream(&quot;/images/&quot; + fileName);\r\n            if (in == null) {\r\n                break;\r\n            }\r\n            else {\r\n                // Process\r\n            }\r\n        }\r\n\r\ncould be considered as a strategy ","title":"how to replace URI to input Stream, access images in order when updating function","body":"<pre><code>    final int MAX_IMAGES = 10;\n    for(int i = 0;i &lt; MAX_IMAGES;i++) {  \n        String fileName = String.format(&quot;%02d.png&quot;, i);\n        InputStream in = getClass().getResourceAsStream(&quot;/images/&quot; + fileName);\n        if (in == null) {\n            break;\n        }\n        else {\n            // Process\n        }\n    }\n</code></pre>\n<p>could be considered as a strategy</p>\n"}],"owner":{"account_id":27834858,"reputation":1,"user_id":21252552,"display_name":"Abhijeet Singh"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1676919668,"creation_date":1676915115,"question_id":75512580,"body_markdown":"\r\n\r\n```\r\npublic static BufferedImage[] GetAllLevels() {\r\n\r\n\tURL url = LoadSave.class.getResource(&quot;/lvls&quot;);\r\n\tFile file = null;\r\n\r\n\ttry {\r\n\t\tfile = new File(url.toURI());\r\n\t} catch (URISyntaxException e) {\r\n\t\te.printStackTrace();\r\n\t}\r\n\r\n\tFile[] files = file.listFiles();\r\n\tFile[] filesSorted = new File[files.length];\r\n\r\n\tfor (int i = 0; i &lt; filesSorted.length; i++)\r\n\t\tfor (int j = 0; j &lt; files.length; j++) {\r\n\t\t\tif (files[j].getName().equals((i + 1) + &quot;.png&quot;))\r\n\t\t\t\tfilesSorted[i] = files[j];\r\n\r\n\t\t}\r\n\r\n\tBufferedImage[] imgs = new BufferedImage[filesSorted.length];\r\n\r\n\tfor (int i = 0; i &lt; imgs.length; i++)\r\n\t\ttry {\r\n\t\t\timgs[i] = ImageIO.read(filesSorted[i]);\r\n\t\t} catch (IOException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\r\n\treturn imgs;\r\n}\r\n```\r\n\r\nI&#39;m beginning, so I taken that code from somewhere but couldn&#39;t find alternative method\r\n\r\nHere are some errors: \r\n\r\n```\r\nException in thread &quot;main&quot; java.lang.reflect. InvocationTargetException\r\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImp1.invoke&#174;(Native Method)\r\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImp1. invoke (NativeMethodAccessorImp1. java:77)\r\n    at java.base/jdk.internal.reflect .DelegatingMethodAccessorImp1.invoke (DelegatingMethodAccessorImp1. java:43)\r\n    at java.base/java.lang.reflect.Method. invoke (Method. java: 568)\r\n    at org.eclipse.jdt.internal.jarinjarloader. JarRsrcLoader.main(JarRsrcLoader.java: 61)\r\n\r\n    &gt; Caused by: java. lang. IllegalArgumentException: URI is not hierarchical\r\n    &gt; at java.base/java.io.File.‹init›(File. java: 420)\r\n    &gt; at utilz. LoadSave.GetAllLevels (LoadSave. java:77)\r\n    &gt; at levels.LevelManager.buildAllLevels(LevelManager.java:41)\r\n    &gt; at levels. LevelManager.&lt;init›(LevelManager.java:23) at gamestates.Playing.initClasses (Playing. java: 130) \r\n    &gt; at gamestates.Playing.&lt;init&gt;(Playing.java:64) \r\n    &gt; at main.Game.initClasses(Game. java: 54) at main. Game.&lt;init&gt; (Game. java: 40) \r\n    &gt; at main.MainClass.main(Mainclass.lava:6)\r\n\r\n","title":"how to replace URI to input Stream, access images in order when updating function","body":"<pre><code>public static BufferedImage[] GetAllLevels() {\n\n    URL url = LoadSave.class.getResource(&quot;/lvls&quot;);\n    File file = null;\n\n    try {\n        file = new File(url.toURI());\n    } catch (URISyntaxException e) {\n        e.printStackTrace();\n    }\n\n    File[] files = file.listFiles();\n    File[] filesSorted = new File[files.length];\n\n    for (int i = 0; i &lt; filesSorted.length; i++)\n        for (int j = 0; j &lt; files.length; j++) {\n            if (files[j].getName().equals((i + 1) + &quot;.png&quot;))\n                filesSorted[i] = files[j];\n\n        }\n\n    BufferedImage[] imgs = new BufferedImage[filesSorted.length];\n\n    for (int i = 0; i &lt; imgs.length; i++)\n        try {\n            imgs[i] = ImageIO.read(filesSorted[i]);\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n\n    return imgs;\n}\n</code></pre>\n<p>I'm beginning, so I taken that code from somewhere but couldn't find alternative method</p>\n<p>Here are some errors:</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.reflect. InvocationTargetException\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImp1.invoke®(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImp1. invoke (NativeMethodAccessorImp1. java:77)\n    at java.base/jdk.internal.reflect .DelegatingMethodAccessorImp1.invoke (DelegatingMethodAccessorImp1. java:43)\n    at java.base/java.lang.reflect.Method. invoke (Method. java: 568)\n    at org.eclipse.jdt.internal.jarinjarloader. JarRsrcLoader.main(JarRsrcLoader.java: 61)\n\n    &gt; Caused by: java. lang. IllegalArgumentException: URI is not hierarchical\n    &gt; at java.base/java.io.File.‹init›(File. java: 420)\n    &gt; at utilz. LoadSave.GetAllLevels (LoadSave. java:77)\n    &gt; at levels.LevelManager.buildAllLevels(LevelManager.java:41)\n    &gt; at levels. LevelManager.&lt;init›(LevelManager.java:23) at gamestates.Playing.initClasses (Playing. java: 130) \n    &gt; at gamestates.Playing.&lt;init&gt;(Playing.java:64) \n    &gt; at main.Game.initClasses(Game. java: 54) at main. Game.&lt;init&gt; (Game. java: 40) \n    &gt; at main.MainClass.main(Mainclass.lava:6)\n\n</code></pre>\n"},{"tags":["java","spring","spring-boot","jpa"],"comments":[{"owner":{"account_id":3622515,"reputation":3911,"user_id":3020903,"accept_rate":50,"display_name":"Tarmo"},"score":0,"creation_date":1676918756,"post_id":75512954,"comment_id":133230162,"body_markdown":"Each loop takes little time but since you are doing lot of loops then it takes 20 seconds? Or every loop takes 20 seconds?","body":"Each loop takes little time but since you are doing lot of loops then it takes 20 seconds? Or every loop takes 20 seconds?"},{"owner":{"account_id":19578254,"reputation":43,"user_id":14327899,"display_name":"Colin Harker"},"score":0,"creation_date":1676918942,"post_id":75512954,"comment_id":133230216,"body_markdown":"All Loops combined take 20 seconds","body":"All Loops combined take 20 seconds"},{"owner":{"account_id":8909811,"reputation":2612,"user_id":6650475,"display_name":"Andrew S"},"score":0,"creation_date":1676919046,"post_id":75512954,"comment_id":133230241,"body_markdown":"1) If `results` is the same for some calls, then could put a cache in front of `objectDataResultRepository` to avoid some calls. 2) If each iteration is independent, then could submit each iteration to an executor to run them concurrently.","body":"1) If <code>results</code> is the same for some calls, then could put a cache in front of <code>objectDataResultRepository</code> to avoid some calls. 2) If each iteration is independent, then could submit each iteration to an executor to run them concurrently."},{"owner":{"account_id":19578254,"reputation":43,"user_id":14327899,"display_name":"Colin Harker"},"score":0,"creation_date":1676919172,"post_id":75512954,"comment_id":133230276,"body_markdown":"The are all independent, and I did not add it in the example for simplicity, but the actual implementation is done through an executor asynchronously","body":"The are all independent, and I did not add it in the example for simplicity, but the actual implementation is done through an executor asynchronously"},{"owner":{"account_id":3284439,"reputation":39734,"user_id":2764255,"accept_rate":50,"display_name":"Nikos Paraskevopoulos"},"score":0,"creation_date":1676923138,"post_id":75512954,"comment_id":133231240,"body_markdown":"Watch out, this usage is a known anti-pattern, the N+1 queries problem. If the `InputObject` is an entity, trust the DB and let it join the data. If it is a DTO, use SQL/JPQL `IN` to fetch all the `ObjectDataResult` objects, or at least fetch them in large batches. How exactly, and how you can translate it to JPA, depends on the exact structure of the DB, the entities and the `InputObject`.","body":"Watch out, this usage is a known anti-pattern, the N+1 queries problem. If the <code>InputObject</code> is an entity, trust the DB and let it join the data. If it is a DTO, use SQL/JPQL <code>IN</code> to fetch all the <code>ObjectDataResult</code> objects, or at least fetch them in large batches. How exactly, and how you can translate it to JPA, depends on the exact structure of the DB, the entities and the <code>InputObject</code>."}],"answers":[{"tags":[],"owner":{"account_id":3622515,"reputation":3911,"user_id":3020903,"accept_rate":50,"display_name":"Tarmo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1676919448,"creation_date":1676919448,"answer_id":75513187,"question_id":75512954,"body_markdown":"Assuming that the problem is that any one query takes little time, but you are having a lot of inputObjects and therefor the summed time is too large.\r\nIn this case you might want to look into ways to avoid the loop and fetch all the data in one query. It&#39;s a bit hard to give a sure way to make it optimal without knowing your exact DB schema, but since your query has a lot of parameters I&#39;d look into JPA&#39;s `CriteriaBuilder` API and use this to create one big query with bunch of ORs and ANDs combined together.\r\n\r\nIntroductory tutorial on criteria API can be found here: https://www.baeldung.com/hibernate-criteria-queries","title":"Optimize JPA Repository Calls","body":"<p>Assuming that the problem is that any one query takes little time, but you are having a lot of inputObjects and therefor the summed time is too large.\nIn this case you might want to look into ways to avoid the loop and fetch all the data in one query. It's a bit hard to give a sure way to make it optimal without knowing your exact DB schema, but since your query has a lot of parameters I'd look into JPA's <code>CriteriaBuilder</code> API and use this to create one big query with bunch of ORs and ANDs combined together.</p>\n<p>Introductory tutorial on criteria API can be found here: <a href=\"https://www.baeldung.com/hibernate-criteria-queries\" rel=\"nofollow noreferrer\">https://www.baeldung.com/hibernate-criteria-queries</a></p>\n"}],"owner":{"account_id":19578254,"reputation":43,"user_id":14327899,"display_name":"Colin Harker"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":228,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1676919448,"creation_date":1676917973,"question_id":75512954,"body_markdown":"In my current application I have a very large list of objects, and I am iterating through all of them in a for loop and calling a JPA Repository `findBy` query on each. The issue with this approach is that it is taking in total roughly 20-30 seconds for all the operations to complete. I am struggling to find a way to optimize the call, because from a user perspective 20-30 seconds is way to long to wait for the data to load. \r\n\r\n\r\nI have changed the names of most variables but the logic remains the same\r\n``` java\r\n@Repository\r\npublic interface ObjectDataResultRepository extends JpaRepository&lt;ObjectDataResult, Long&gt;{\r\n\r\n\tList&lt;ObjectDataResult&gt; findByParameterOneAndParameterTwoAndParameterThreeAndParameterFourAndParameterFive(\r\n\t\t\tString ParameterOne,\r\n            String ParameterTwo,\r\n            String ParameterThree,\r\n            String ParameterFour,\r\n            String ParameterFive,\r\n    );\r\n\t\r\n```\r\n\r\nCurrently How I call it.\r\n``` java\r\n// This takes 20-30 seconds\r\nfor (InputObject input : objects) {\r\n     List&lt;ObjectDataResult&gt; result = objectDataResultRepository.findByParameterOneAndParameterTwoAndParameterThreeAndParameterFourAndParameterFive(inputs... )\r\n     // Add results to list for logic after queries complete\r\n}\r\n```","title":"Optimize JPA Repository Calls","body":"<p>In my current application I have a very large list of objects, and I am iterating through all of them in a for loop and calling a JPA Repository <code>findBy</code> query on each. The issue with this approach is that it is taking in total roughly 20-30 seconds for all the operations to complete. I am struggling to find a way to optimize the call, because from a user perspective 20-30 seconds is way to long to wait for the data to load.</p>\n<p>I have changed the names of most variables but the logic remains the same</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Repository\npublic interface ObjectDataResultRepository extends JpaRepository&lt;ObjectDataResult, Long&gt;{\n\n    List&lt;ObjectDataResult&gt; findByParameterOneAndParameterTwoAndParameterThreeAndParameterFourAndParameterFive(\n            String ParameterOne,\n            String ParameterTwo,\n            String ParameterThree,\n            String ParameterFour,\n            String ParameterFive,\n    );\n    \n</code></pre>\n<p>Currently How I call it.</p>\n<pre class=\"lang-java prettyprint-override\"><code>// This takes 20-30 seconds\nfor (InputObject input : objects) {\n     List&lt;ObjectDataResult&gt; result = objectDataResultRepository.findByParameterOneAndParameterTwoAndParameterThreeAndParameterFourAndParameterFive(inputs... )\n     // Add results to list for logic after queries complete\n}\n</code></pre>\n"},{"tags":["java","spring-boot","netflix-eureka","cloud-foundry","spring-config"],"answers":[{"tags":[],"owner":{"account_id":4209554,"reputation":951,"user_id":3447647,"accept_rate":88,"display_name":"odedia"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1514297888,"creation_date":1514297888,"answer_id":47979839,"question_id":47967899,"body_markdown":"You should use Spring Cloud Bus in such a case.\r\nThe idea behind this framework is to bind all your application instances to a topic in a message broker (RabbitMQ or Apache Kafka).\r\n\r\nAdd the following dependency to your pom.xml:\r\n\r\n    &lt;dependencyManagement&gt;\r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-cloud-bus-parent&lt;/artifactId&gt;\r\n                &lt;version&gt;1.3.2.RELEASE&lt;/version&gt;\r\n                &lt;type&gt;pom&lt;/type&gt;\r\n                &lt;scope&gt;import&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n    &lt;/dependencyManagement&gt;\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-cloud-starter-bus-amqp&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\nIn the above example I added a dependency on amqp which is RabbitMQ. You&#39;ll also need to bind your application to the RabbitMQ, in PCF it&#39;s easy since  it&#39;s built in to the platform. \r\n\r\nWhen you need to refresh, you should invoke:\r\n\r\n    POST /bus/refresh\r\n\r\nThis would trigger an event to a topic that all instances of your application are listening to, and as a result - all instances would refresh their bean configuration.\r\n\r\nGood luck.\r\n","title":"Apply /refresh on multiple instances annotated with @refreshScope","body":"<p>You should use Spring Cloud Bus in such a case.\nThe idea behind this framework is to bind all your application instances to a topic in a message broker (RabbitMQ or Apache Kafka).</p>\n\n<p>Add the following dependency to your pom.xml:</p>\n\n<pre><code>&lt;dependencyManagement&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-bus-parent&lt;/artifactId&gt;\n            &lt;version&gt;1.3.2.RELEASE&lt;/version&gt;\n            &lt;type&gt;pom&lt;/type&gt;\n            &lt;scope&gt;import&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n&lt;/dependencyManagement&gt;\n&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-cloud-starter-bus-amqp&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n</code></pre>\n\n<p>In the above example I added a dependency on amqp which is RabbitMQ. You'll also need to bind your application to the RabbitMQ, in PCF it's easy since  it's built in to the platform. </p>\n\n<p>When you need to refresh, you should invoke:</p>\n\n<pre><code>POST /bus/refresh\n</code></pre>\n\n<p>This would trigger an event to a topic that all instances of your application are listening to, and as a result - all instances would refresh their bean configuration.</p>\n\n<p>Good luck.</p>\n"}],"owner":{"account_id":2459367,"reputation":1439,"user_id":2143846,"accept_rate":77,"display_name":"Yuval Simhon"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2457,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":47979839,"answer_count":1,"score":7,"last_activity_date":1676918700,"creation_date":1514198870,"question_id":47967899,"body_markdown":"I&#39;m writing **spring boot** application, which using **spring configuration**, deployed on **pivotal cloud foundry** and exposed by **Netflix Eureka** as discovery serivce / load balancer.\r\n\r\nI have created a bean as followed:\r\n\r\n    @Component\r\n    @ConfigurationProperties(&quot;config&quot;)\r\n    @RefreshScope\r\n    @Data\r\n    public class GeneralProperties {\r\n      \tprivate boolean ignoreEvent;\r\n    }\r\n\r\nWhen calling to the application route that Eureka exposed with `/refresh` after changing the actual property in the configuration repository, the value that annotated by **@refreshScope** was changed (end in the response status the field exsiting), which means it&#39;s working correctly.\r\n\r\nThe issue starts when running multiple instances of the same application on the cloud, and calling to the `/refresh`.&lt;br&gt;\r\nThe route that beeing used is the one that exposed by Eureka, which using it&#39;s load balancer to route the call to one of the available instances.\r\n&lt;br&gt;\r\n\r\nIt leads to unexpected results that not all the instances are getting updated with the latest change in the property.\r\n\r\nAny suggestions how to apply the change on all instances?","title":"Apply /refresh on multiple instances annotated with @refreshScope","body":"<p>I'm writing <strong>spring boot</strong> application, which using <strong>spring configuration</strong>, deployed on <strong>pivotal cloud foundry</strong> and exposed by <strong>Netflix Eureka</strong> as discovery serivce / load balancer.</p>\n\n<p>I have created a bean as followed:</p>\n\n<pre><code>@Component\n@ConfigurationProperties(\"config\")\n@RefreshScope\n@Data\npublic class GeneralProperties {\n    private boolean ignoreEvent;\n}\n</code></pre>\n\n<p>When calling to the application route that Eureka exposed with <code>/refresh</code> after changing the actual property in the configuration repository, the value that annotated by <strong>@refreshScope</strong> was changed (end in the response status the field exsiting), which means it's working correctly.</p>\n\n<p>The issue starts when running multiple instances of the same application on the cloud, and calling to the <code>/refresh</code>.<br>\nThe route that beeing used is the one that exposed by Eureka, which using it's load balancer to route the call to one of the available instances.\n<br></p>\n\n<p>It leads to unexpected results that not all the instances are getting updated with the latest change in the property.</p>\n\n<p>Any suggestions how to apply the change on all instances?</p>\n"},{"tags":["java","gradle","apache-kafka","spring-kafka"],"comments":[{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1676692844,"post_id":75488452,"comment_id":133193932,"body_markdown":"Please show your App class and the Factories and listeners you&#39;ve created for Kafka","body":"Please show your App class and the Factories and listeners you&#39;ve created for Kafka"},{"owner":{"account_id":27660710,"reputation":1,"user_id":21113612,"display_name":"stevriss22"},"score":0,"creation_date":1676918079,"post_id":75488452,"comment_id":133229987,"body_markdown":"Added what you requested @OneCricketeer","body":"Added what you requested @OneCricketeer"},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1676988226,"post_id":75488452,"comment_id":133244797,"body_markdown":"Given that you are getting an error from Jackson, Spring-kafka has its own json deserializer. You should therefore not be using the Confluent one","body":"Given that you are getting an error from Jackson, Spring-kafka has its own json deserializer. You should therefore not be using the Confluent one"},{"owner":{"account_id":27660710,"reputation":1,"user_id":21113612,"display_name":"stevriss22"},"score":0,"creation_date":1677077169,"post_id":75488452,"comment_id":133266359,"body_markdown":"The same error is received even when I remove the confluent JSON serializer dependency and changed the way VALUE_DESERIALIZER_CLASS_CONFIG is being Deserialized, from KafkaJsonDeserializer to a String deserializer. @OneCricketeer","body":"The same error is received even when I remove the confluent JSON serializer dependency and changed the way VALUE_DESERIALIZER_CLASS_CONFIG is being Deserialized, from KafkaJsonDeserializer to a String deserializer. @OneCricketeer"},{"owner":{"account_id":1288095,"reputation":169316,"user_id":1240763,"display_name":"Gary Russell"},"score":0,"creation_date":1677079882,"post_id":75488452,"comment_id":133267341,"body_markdown":"See the javadoc for `VerifyError` - it implies there is some corruption in your copy of the jackson jar - I suggest clearing your gradle cache.","body":"See the javadoc for <code>VerifyError</code> - it implies there is some corruption in your copy of the jackson jar - I suggest clearing your gradle cache."},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1677098293,"post_id":75488452,"comment_id":133272834,"body_markdown":"If you change to StringDeserializer, then your stacktrace should be very different, and not the same error, as the KafkaListener would no longer need Jackson. By the way, you should Autowire the ObjectMapper into your &quot;Receiver&quot; class constructor, not create a new one for every single Kafka event","body":"If you change to StringDeserializer, then your stacktrace should be very different, and not the same error, as the KafkaListener would no longer need Jackson. By the way, you should Autowire the ObjectMapper into your &quot;Receiver&quot; class constructor, not create a new one for every single Kafka event"}],"owner":{"account_id":27660710,"reputation":1,"user_id":21113612,"display_name":"stevriss22"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":348,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676918552,"creation_date":1676661503,"question_id":75488452,"body_markdown":"I am trying to deploy a my spring boot application after upgrading version to 2.7.8. Since the version upgrade I am not able to deploy my application though I can build it successfully. The application employs Kafka, but I do not know if this is what is causing the problem. Below is the error message I am receiving:\r\n\r\n```Error starting ApplicationContext. To display the conditions report re-run your application with &#39;debug&#39; enabled.\r\n2023-02-17 12:49:53,527 ERROR org.springframework.boot.SpringApplication : Application run failed\r\njava.lang.VerifyError: Bad return type\r\nException Details:\r\n  Location:\r\n    com/fasterxml/jackson/databind/cfg/MapperBuilder.streamFactory()Lcom/fasterxml/jackson/core/TokenStreamFactory; @7: areturn\r\n  Reason:\r\n    Type &#39;com/fasterxml/jackson/core/JsonFactory&#39; (current frame, stack[0]) is not assignable to &#39;com/fasterxml/jackson/core/TokenStreamFactory&#39; (from method signature)\r\n  Current Frame:\r\n    bci: @7\r\n    flags: { }\r\n    locals: { &#39;com/fasterxml/jackson/databind/cfg/MapperBuilder&#39; }\r\n    stack: { &#39;com/fasterxml/jackson/core/JsonFactory&#39; }\r\n  Bytecode:\r\n    0000000: 2ab4 0002 b600 08b0\r\n\r\n        at com.fasterxml.jackson.databind.json.JsonMapper.builder(JsonMapper.java:114)\r\n        at org.springframework.kafka.support.JacksonUtils.enhancedObjectMapper(JacksonUtils.java:58)\r\n        at org.springframework.kafka.support.JacksonUtils.enhancedObjectMapper(JacksonUtils.java:47)\r\n        at org.springframework.kafka.support.DefaultKafkaHeaderMapper.&lt;init&gt;(DefaultKafkaHeaderMapper.java:112)\r\n        at org.springframework.kafka.support.converter.MessagingMessageConverter.&lt;init&gt;(MessagingMessageConverter.java:69)\r\n        at org.springframework.kafka.listener.adapter.MessagingMessageListenerAdapter.&lt;init&gt;(MessagingMessageListenerAdapter.java:109)\r\n        at org.springframework.kafka.listener.adapter.RecordMessagingMessageListenerAdapter.&lt;init&gt;(RecordMessagingMessageListenerAdapter.java:65)\r\n        at org.springframework.kafka.config.MethodKafkaListenerEndpoint.createMessageListenerInstance(MethodKafkaListenerEndpoint.java:205)\r\n        at org.springframework.kafka.config.MethodKafkaListenerEndpoint.createMessageListener(MethodKafkaListenerEndpoint.java:161)\r\n        at org.springframework.kafka.config.AbstractKafkaListenerEndpoint.setupMessageListener(AbstractKafkaListenerEndpoint.java:501)\r\n        at org.springframework.kafka.config.AbstractKafkaListenerEndpoint.setupListenerContainer(AbstractKafkaListenerEndpoint.java:486)\r\n        at org.springframework.kafka.config.AbstractKafkaListenerContainerFactory.createListenerContainer(AbstractKafkaListenerContainerFactory.java:369)\r\n        at org.springframework.kafka.config.AbstractKafkaListenerContainerFactory.createListenerContainer(AbstractKafkaListenerContainerFactory.java:68)\r\n        at org.springframework.kafka.config.KafkaListenerEndpointRegistry.createListenerContainer(KafkaListenerEndpointRegistry.java:208)\r\n        at org.springframework.kafka.config.KafkaListenerEndpointRegistry.registerListenerContainer(KafkaListenerEndpointRegistry.java:179)\r\n        at org.springframework.kafka.config.KafkaListenerEndpointRegistry.registerListenerContainer(KafkaListenerEndpointRegistry.java:152)\r\n        at org.springframework.kafka.config.KafkaListenerEndpointRegistrar.registerAllEndpoints(KafkaListenerEndpointRegistrar.java:196)\r\n        at org.springframework.kafka.config.KafkaListenerEndpointRegistrar.afterPropertiesSet(KafkaListenerEndpointRegistrar.java:186)\r\n        at org.springframework.kafka.annotation.KafkaListenerAnnotationBeanPostProcessor.afterSingletonsInstantiated(KafkaListenerAnnotationBeanPostProcessor.java:279)\r\n        at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:974)\r\n        at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:918)\r\n        at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)\r\n        at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147)\r\n        at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:731)\r\n        at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408)\r\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:307)\r\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:1303)\r\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:1292)\r\n        at com.ocoe.edd.service.App.main(App.java:28)\r\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n        at java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n        at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:49)\r\n        at org.springframework.boot.loader.Launcher.launch(Launcher.java:108)\r\n        at org.springframework.boot.loader.Launcher.launch(Launcher.java:58)\r\n        at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:65)\r\n\r\n```\r\n\r\nI have tried excluding the com.fasterxml.jackson dependencies all together just to see if that would allow the app to deploy, but with no prevail. There are a number of dependencies that use com.fasterxml.jackson and I have read that this may cause problems. I have ensured there are no discrepancies in the version types, but still does not make a difference. Below is my build.gradle file with dependencies:\r\n\r\n \r\n```\r\n`plugins {\r\n    id &#39;java&#39;\r\n    id &#39;org.springframework.boot&#39; version &#39;2.7.8&#39;\r\n    id &#39;io.spring.dependency-management&#39; version &#39;1.0.15.RELEASE&#39;\r\n    id &#39;java-library&#39;\r\n    }\r\n\r\n    apply plugin: &#39;java&#39;\r\n    apply plugin: &#39;io.spring.dependency-management&#39;\r\n    apply plugin: &#39;java-library&#39;\r\n\r\n\r\n    group &#39;com.ocoe.edd&#39;\r\n    version &#39;1.0.0-SNAPSHOT&#39;\r\n\r\n    def commonLibVersion = &quot;1.0.0&quot;\r\n\r\n    sourceCompatibility = &#39;1.8&#39;\r\n\r\n    configurations {\r\n        compileOnly {\r\n            extendsFrom annotationProcessor\r\n        }\r\n    }\r\n\r\n    repositories {\r\n        jcenter()\r\n        mavenLocal()\r\n        mavenCentral()\r\n        maven {\r\n            url &quot;https://packages.confluent.io/maven/&quot;\r\n        }\r\n    }\r\n\r\n    ext {\r\n        set(&#39;springBootAdminVersion&#39;, &quot;2.7.4&quot;)\r\n        set(&#39;springCloudVersion&#39;, &quot;2021.0.5&quot;)\r\n    }\r\n\r\ndependencies {\r\n    implementation &#39;org.springframework.boot:spring-boot-starter-actuator&#39;\r\n     \r\n\r\n    implementation &#39;org.springframework.boot:spring-boot-starter-data-mongodb&#39;\r\n    implementation &#39;org.springframework.boot:spring-boot-starter-validation&#39;\r\n\r\n    implementation &#39;org.springframework.boot:spring-boot-starter-web&#39;\r\n\r\n    implementation &#39;de.codecentric:spring-boot-admin-starter-client&#39;\r\n    implementation &#39;org.springframework.cloud:spring-cloud-sleuth-zipkin&#39;\r\n\r\n    implementation &#39;org.springframework.cloud:spring-cloud-starter-netflix-eureka-server&#39;\r\n\r\n    implementation &#39;org.springframework.kafka:spring-kafka:2.7.0&#39;\r\n           \r\n    implementation &#39;org.apache.kafka:kafka-clients:3.0.0&#39;\r\n\r\n    compileOnly &#39;org.projectlombok:lombok&#39;\r\n    annotationProcessor &#39;org.springframework.boot:spring-boot-configuration-processor&#39;\r\n    annotationProcessor &#39;org.projectlombok:lombok&#39;\r\n    testImplementation &#39;org.springframework.boot:spring-boot-starter-test&#39;\r\n\r\n    testImplementation &#39;org.springframework.kafka:spring-kafka-test&#39;\r\n\r\n    implementation(&quot;org.json:json:20220924&quot;)\r\n    implementation &#39;com.sparkpost:sparkpost-lib:0.27&#39;\r\n    implementation(&quot;com.ocoe.flow.task:flow-task-common-lib:$commonLibVersion&quot;)\r\n    implementation(&quot;org.apache.commons:commons-lang3:3.12.0&quot;)\r\n    implementation(&quot;io.springfox:springfox-swagger2:3.0.0&quot;)\r\n    implementation(&quot;io.springfox:springfox-swagger-ui:3.0.0&quot;)\r\n\r\n    implementation(&quot;io.confluent:kafka-json-serializer:5.5.0&quot;)\r\n    implementation(&quot;io.confluent:monitoring-interceptors:5.5.0&quot;)\r\n    implementation &#39;net.javacrumbs.shedlock:shedlock-spring:4.44.0&#39;\r\n    implementation &#39;net.javacrumbs.shedlock:shedlock-provider-mongo:4.44.0&#39;\r\n}\r\n`\r\n`dependencyManagement {\r\n    imports {\r\n        mavenBom &quot;de.codecentric:spring-boot-admin-dependencies:${springBootAdminVersion}&quot;\r\n        mavenBom &quot;org.springframework.cloud:spring-cloud-dependencies:${springCloudVersion}&quot;\r\n        mavenBom &#39;org.apache.logging.log4j:log4j-bom:2.19.0&#39;\r\n\r\n\r\n\r\n`your text`\r\ntest{\r\n    useJUnitPlatform()\r\n    testLogging.showStandardStreams = true\r\n\r\n    testLogging {\r\n        events &quot;passed&quot;, &quot;skipped&quot;, &quot;failed&quot;\r\n    }\r\n}\r\n\r\n```\r\nApp.class\r\n```\r\n@SpringBootApplication(exclude = KafkaAutoConfiguration.class    )\r\n@EnableSwagger2\r\n@Configuration\r\npublic class App {\r\n\r\n  @Value(&quot;${healthURL}&quot;)\r\n  String healthURL;\r\n\r\n  public static void main(String[] args) {\r\n\r\n    SpringApplication.run(App.class, args);\r\n  }\r\n\r\n  @Bean\r\n  public Docket swaggerConfiguration() {\r\n    // return a prepared Docket instance\r\n    return new Docket(DocumentationType.SWAGGER_2)\r\n        .select()\r\n        .paths(PathSelectors.ant(&quot;/sparkpost/*&quot;))\r\n        .apis(RequestHandlerSelectors.basePackage(&quot;com.xxx.xxx.service&quot;))\r\n        .build()\r\n        .apiInfo(apiInfo());\r\n  }\r\n\r\n  private ApiInfo apiInfo() {\r\n    return new ApiInfo(\r\n        &quot;Email As A Service&quot;,\r\n        &quot;Health URL &quot; + healthURL,\r\n        &quot;1.0&quot;,\r\n        null,\r\n        null,\r\n        null,\r\n        null,\r\n        Collections.emptyList());\r\n  }\r\n}\r\n```\r\nKafkaConfig\r\n```\r\n@Configuration\r\n@EnableKafka\r\n@EnableScheduling\r\n@Slf4j\r\npublic class EddKafkaConfiguration {\r\n\r\n  private final EddKafkaProperties eddKafkaProperties;\r\n\r\n  @Autowired KafkaConsumerRegistryService kafkaConsumerRegistryService;\r\n\r\n  public EddKafkaConfiguration(EddKafkaProperties eddKafkaProperties) {\r\n    this.eddKafkaProperties = eddKafkaProperties;\r\n  }\r\n\r\n  @Bean\r\n  public ConsumerFactory&lt;String, String&gt; consumerFactory() {\r\n    Map&lt;String, Object&gt; properties = new HashMap&lt;&gt;();\r\n    properties.put(BOOTSTRAP_SERVERS_CONFIG, eddKafkaProperties.getBootstrapServers());\r\n    properties.put(SECURITY_PROTOCOL_CONFIG, eddKafkaProperties.getSecurity().getProtocol());\r\n//    properties.put(KAFKA_SCHEMA_REGISTRY, eddKafkaProperties.getSchemaRegistryUrl());\r\n    properties.put(GROUP_ID_CONFIG, eddKafkaProperties.getGroupId());\r\n    properties.put(CLIENT_ID_CONFIG, eddKafkaProperties.getClientId());\r\n    properties.put(AUTO_OFFSET_RESET_CONFIG, eddKafkaProperties.getAutoOffsetReset());\r\n    properties.put(ENABLE_AUTO_COMMIT_CONFIG, eddKafkaProperties.getEnableAutoCommit());\r\n    properties.put(AUTO_COMMIT_INTERVAL_MS_CONFIG, eddKafkaProperties.getAutoCommitInterval());\r\n    properties.put(MAX_POLL_RECORDS_CONFIG, eddKafkaProperties.getMaxPollRecords());\r\n    properties.put(KEY_DESERIALIZER_CLASS_CONFIG, StringDeserializer.class);\r\n    properties.put(\r\n        VALUE_DESERIALIZER_CLASS_CONFIG,\r\n        io.confluent.kafka.serializers.KafkaJsonDeserializer.class);\r\n//    properties.put(\r\n//            VALUE_DESERIALIZER_CLASS_CONFIG, StringDeserializer.class);\r\n    properties.put(SESSION_TIMEOUT_MS_CONFIG, eddKafkaProperties.getSessionTimeoutInterval());\r\n    properties.put(HEARTBEAT_INTERVAL_MS_CONFIG, eddKafkaProperties.getHeartBeatInterval());\r\n\r\n    // Security configs\r\n    properties.put(\r\n        SSL_TRUSTSTORE_LOCATION_CONFIG, eddKafkaProperties.getSecurity().getTrustStoreLocation());\r\n    properties.put(\r\n        SSL_TRUSTSTORE_PASSWORD_CONFIG, eddKafkaProperties.getSecurity().getTrustStorePassword());\r\n    properties.put(SASL_JAAS_CONFIG, eddKafkaProperties.getSecurity().getSaslJaasConfig());\r\n    properties.put(SASL_MECHANISM, eddKafkaProperties.getSecurity().getSaslMechanism());\r\n\r\n    return new DefaultKafkaConsumerFactory&lt;&gt;(properties);\r\n  }\r\n\r\n  @Bean\r\n  public ConcurrentKafkaListenerContainerFactory&lt;String, String&gt; kafkaListenerContainerFactory() {\r\n\r\n    ConcurrentKafkaListenerContainerFactory&lt;String, String&gt; factory =\r\n        new ConcurrentKafkaListenerContainerFactory&lt;&gt;();\r\n    factory.setConsumerFactory(consumerFactory());\r\n    factory.setConcurrency(eddKafkaProperties.getConcurrency());\r\n    return factory;\r\n  }\r\n```\r\n\r\nListener\r\n```\r\n public SendEmailMessageReceiver(\r\n      EddKafkaProperties eddKafkaProperties,\r\n      MessagePublisher messagePublisher,\r\n      EddEmailService eddEmailService,\r\n      MongoDbService mongoDbService) {\r\n    this.eddKafkaProperties = eddKafkaProperties;\r\n    this.messagePublisher = messagePublisher;\r\n    this.eddEmailService = eddEmailService;\r\n    this.mongoDbService = mongoDbService;\r\n  }\r\n\r\n  @KafkaListener(\r\n      topics = &quot;${app.kafka.topics.send-email-topic}&quot;,\r\n      concurrency = &quot;${app.kafka.concurrency}&quot;,\r\n      id = &quot;kafk.xxx.xxx.consumer&quot;,\r\n      idIsGroup = true)\r\n  public void receive(\r\n      Message&lt;LinkedHashMap&lt;String, String&gt;&gt; message,\r\n      @Header(KafkaHeaders.RECEIVED_PARTITION_ID) int partition,\r\n      @Header(KafkaHeaders.OFFSET) int offset)\r\n      throws URISyntaxException, IOException {\r\n    //    log.info(&quot;-------------------------------------------------------&quot;);\r\n    Date startDate = new Date();\r\n    log.info(\r\n        &quot;Received Message is from Partition:: &quot;\r\n            + partition\r\n            + &quot; and offset::&quot;\r\n            + offset\r\n            + &quot; in thread::&quot;\r\n            + Thread.currentThread().getName());\r\n    // log.info(&quot;Request Received From Kafka Send Email: &quot; + message.getPayload());\r\n    String requestId = UUID.randomUUID().toString();\r\n    JSONObject payloadJson = new JSONObject(message.getPayload());\r\n    JSONObject payloadRequest =\r\n        payloadJson.getJSONObject(&quot;body&quot;).getJSONObject(&quot;CAAS&quot;).getJSONObject(&quot;Request&quot;);\r\n\r\n    JSONArray records = payloadRequest.getJSONArray(&quot;Records&quot;);\r\n    List&lt;JSONObject&gt; updatedRecords = new ArrayList&lt;&gt;();\r\n    for (int i = 0; i &lt; records.length(); i++) {\r\n      JSONObject currentRecord = records.getJSONObject(i);\r\n      String docDetailsWithQuotes = currentRecord.getString(&quot;DocumentDetails&quot;);\r\n      JSONObject docDetailsWithoutQuotesJson = new JSONObject(docDetailsWithQuotes);\r\n      currentRecord.put(&quot;DocumentDetails&quot;, docDetailsWithoutQuotesJson);\r\n      updatedRecords.add(currentRecord);\r\n    }\r\n\r\n    payloadRequest.put(&quot;Records&quot;, updatedRecords);\r\n\r\n    ObjectMapper obj = new ObjectMapper();\r\n    obj.configure(MapperFeature.ACCEPT_CASE_INSENSITIVE_PROPERTIES, true);\r\n\r\n    String payloadRequestString = payloadRequest.toString();\r\n    Request caasRequest = obj.readValue(payloadRequestString, Request.class);\r\n  \r\n    CaasResponse firstAcknowledgement = buildCaasResponseRequestLvl(caasRequest, requestId);\r\n    \r\n    messagePublisher.postEmailStatus(firstAcknowledgement);\r\n\r\n    mongoDbService.createAndPostCaasEddStatus(caasRequest, requestId);\r\n\r\n    List&lt;CaasResponse&gt; recordLevelAcknowledgementList =\r\n        buildCaasResponseRecordLvl(caasRequest, requestId);\r\n    for (CaasResponse secondAcknowledgement : recordLevelAcknowledgementList) {\r\n      messagePublisher.postEmailStatus(secondAcknowledgement);\r\n    }\r\n    Date endDate = new Date();\r\n    Long timeTaken = endDate.getTime() - startDate.getTime();\r\n    log.info(\r\n        &quot;-----------------------Done with DB persisting of NEW Processing Status message in :&quot;\r\n            + timeTaken\r\n            + &quot; milliseconds---------------------- &quot;);\r\n  }\r\n```","title":"Error when deploying : ERROR org.springframework.boot.SpringApplication : Application run failed java.lang.VerifyError: Bad return type Exception","body":"<p>I am trying to deploy a my spring boot application after upgrading version to 2.7.8. Since the version upgrade I am not able to deploy my application though I can build it successfully. The application employs Kafka, but I do not know if this is what is causing the problem. Below is the error message I am receiving:</p>\n<pre><code>2023-02-17 12:49:53,527 ERROR org.springframework.boot.SpringApplication : Application run failed\njava.lang.VerifyError: Bad return type\nException Details:\n  Location:\n    com/fasterxml/jackson/databind/cfg/MapperBuilder.streamFactory()Lcom/fasterxml/jackson/core/TokenStreamFactory; @7: areturn\n  Reason:\n    Type 'com/fasterxml/jackson/core/JsonFactory' (current frame, stack[0]) is not assignable to 'com/fasterxml/jackson/core/TokenStreamFactory' (from method signature)\n  Current Frame:\n    bci: @7\n    flags: { }\n    locals: { 'com/fasterxml/jackson/databind/cfg/MapperBuilder' }\n    stack: { 'com/fasterxml/jackson/core/JsonFactory' }\n  Bytecode:\n    0000000: 2ab4 0002 b600 08b0\n\n        at com.fasterxml.jackson.databind.json.JsonMapper.builder(JsonMapper.java:114)\n        at org.springframework.kafka.support.JacksonUtils.enhancedObjectMapper(JacksonUtils.java:58)\n        at org.springframework.kafka.support.JacksonUtils.enhancedObjectMapper(JacksonUtils.java:47)\n        at org.springframework.kafka.support.DefaultKafkaHeaderMapper.&lt;init&gt;(DefaultKafkaHeaderMapper.java:112)\n        at org.springframework.kafka.support.converter.MessagingMessageConverter.&lt;init&gt;(MessagingMessageConverter.java:69)\n        at org.springframework.kafka.listener.adapter.MessagingMessageListenerAdapter.&lt;init&gt;(MessagingMessageListenerAdapter.java:109)\n        at org.springframework.kafka.listener.adapter.RecordMessagingMessageListenerAdapter.&lt;init&gt;(RecordMessagingMessageListenerAdapter.java:65)\n        at org.springframework.kafka.config.MethodKafkaListenerEndpoint.createMessageListenerInstance(MethodKafkaListenerEndpoint.java:205)\n        at org.springframework.kafka.config.MethodKafkaListenerEndpoint.createMessageListener(MethodKafkaListenerEndpoint.java:161)\n        at org.springframework.kafka.config.AbstractKafkaListenerEndpoint.setupMessageListener(AbstractKafkaListenerEndpoint.java:501)\n        at org.springframework.kafka.config.AbstractKafkaListenerEndpoint.setupListenerContainer(AbstractKafkaListenerEndpoint.java:486)\n        at org.springframework.kafka.config.AbstractKafkaListenerContainerFactory.createListenerContainer(AbstractKafkaListenerContainerFactory.java:369)\n        at org.springframework.kafka.config.AbstractKafkaListenerContainerFactory.createListenerContainer(AbstractKafkaListenerContainerFactory.java:68)\n        at org.springframework.kafka.config.KafkaListenerEndpointRegistry.createListenerContainer(KafkaListenerEndpointRegistry.java:208)\n        at org.springframework.kafka.config.KafkaListenerEndpointRegistry.registerListenerContainer(KafkaListenerEndpointRegistry.java:179)\n        at org.springframework.kafka.config.KafkaListenerEndpointRegistry.registerListenerContainer(KafkaListenerEndpointRegistry.java:152)\n        at org.springframework.kafka.config.KafkaListenerEndpointRegistrar.registerAllEndpoints(KafkaListenerEndpointRegistrar.java:196)\n        at org.springframework.kafka.config.KafkaListenerEndpointRegistrar.afterPropertiesSet(KafkaListenerEndpointRegistrar.java:186)\n        at org.springframework.kafka.annotation.KafkaListenerAnnotationBeanPostProcessor.afterSingletonsInstantiated(KafkaListenerAnnotationBeanPostProcessor.java:279)\n        at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:974)\n        at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:918)\n        at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)\n        at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147)\n        at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:731)\n        at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408)\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:307)\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:1303)\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:1292)\n        at com.ocoe.edd.service.App.main(App.java:28)\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n        at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:49)\n        at org.springframework.boot.loader.Launcher.launch(Launcher.java:108)\n        at org.springframework.boot.loader.Launcher.launch(Launcher.java:58)\n        at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:65)\n\n</code></pre>\n<p>I have tried excluding the com.fasterxml.jackson dependencies all together just to see if that would allow the app to deploy, but with no prevail. There are a number of dependencies that use com.fasterxml.jackson and I have read that this may cause problems. I have ensured there are no discrepancies in the version types, but still does not make a difference. Below is my build.gradle file with dependencies:</p>\n<pre><code>`plugins {\n    id 'java'\n    id 'org.springframework.boot' version '2.7.8'\n    id 'io.spring.dependency-management' version '1.0.15.RELEASE'\n    id 'java-library'\n    }\n\n    apply plugin: 'java'\n    apply plugin: 'io.spring.dependency-management'\n    apply plugin: 'java-library'\n\n\n    group 'com.ocoe.edd'\n    version '1.0.0-SNAPSHOT'\n\n    def commonLibVersion = &quot;1.0.0&quot;\n\n    sourceCompatibility = '1.8'\n\n    configurations {\n        compileOnly {\n            extendsFrom annotationProcessor\n        }\n    }\n\n    repositories {\n        jcenter()\n        mavenLocal()\n        mavenCentral()\n        maven {\n            url &quot;https://packages.confluent.io/maven/&quot;\n        }\n    }\n\n    ext {\n        set('springBootAdminVersion', &quot;2.7.4&quot;)\n        set('springCloudVersion', &quot;2021.0.5&quot;)\n    }\n\ndependencies {\n    implementation 'org.springframework.boot:spring-boot-starter-actuator'\n     \n\n    implementation 'org.springframework.boot:spring-boot-starter-data-mongodb'\n    implementation 'org.springframework.boot:spring-boot-starter-validation'\n\n    implementation 'org.springframework.boot:spring-boot-starter-web'\n\n    implementation 'de.codecentric:spring-boot-admin-starter-client'\n    implementation 'org.springframework.cloud:spring-cloud-sleuth-zipkin'\n\n    implementation 'org.springframework.cloud:spring-cloud-starter-netflix-eureka-server'\n\n    implementation 'org.springframework.kafka:spring-kafka:2.7.0'\n           \n    implementation 'org.apache.kafka:kafka-clients:3.0.0'\n\n    compileOnly 'org.projectlombok:lombok'\n    annotationProcessor 'org.springframework.boot:spring-boot-configuration-processor'\n    annotationProcessor 'org.projectlombok:lombok'\n    testImplementation 'org.springframework.boot:spring-boot-starter-test'\n\n    testImplementation 'org.springframework.kafka:spring-kafka-test'\n\n    implementation(&quot;org.json:json:20220924&quot;)\n    implementation 'com.sparkpost:sparkpost-lib:0.27'\n    implementation(&quot;com.ocoe.flow.task:flow-task-common-lib:$commonLibVersion&quot;)\n    implementation(&quot;org.apache.commons:commons-lang3:3.12.0&quot;)\n    implementation(&quot;io.springfox:springfox-swagger2:3.0.0&quot;)\n    implementation(&quot;io.springfox:springfox-swagger-ui:3.0.0&quot;)\n\n    implementation(&quot;io.confluent:kafka-json-serializer:5.5.0&quot;)\n    implementation(&quot;io.confluent:monitoring-interceptors:5.5.0&quot;)\n    implementation 'net.javacrumbs.shedlock:shedlock-spring:4.44.0'\n    implementation 'net.javacrumbs.shedlock:shedlock-provider-mongo:4.44.0'\n}\n`\n`dependencyManagement {\n    imports {\n        mavenBom &quot;de.codecentric:spring-boot-admin-dependencies:${springBootAdminVersion}&quot;\n        mavenBom &quot;org.springframework.cloud:spring-cloud-dependencies:${springCloudVersion}&quot;\n        mavenBom 'org.apache.logging.log4j:log4j-bom:2.19.0'\n\n\n\n`your text`\ntest{\n    useJUnitPlatform()\n    testLogging.showStandardStreams = true\n\n    testLogging {\n        events &quot;passed&quot;, &quot;skipped&quot;, &quot;failed&quot;\n    }\n}\n\n</code></pre>\n<p>App.class</p>\n<pre><code>@SpringBootApplication(exclude = KafkaAutoConfiguration.class    )\n@EnableSwagger2\n@Configuration\npublic class App {\n\n  @Value(&quot;${healthURL}&quot;)\n  String healthURL;\n\n  public static void main(String[] args) {\n\n    SpringApplication.run(App.class, args);\n  }\n\n  @Bean\n  public Docket swaggerConfiguration() {\n    // return a prepared Docket instance\n    return new Docket(DocumentationType.SWAGGER_2)\n        .select()\n        .paths(PathSelectors.ant(&quot;/sparkpost/*&quot;))\n        .apis(RequestHandlerSelectors.basePackage(&quot;com.xxx.xxx.service&quot;))\n        .build()\n        .apiInfo(apiInfo());\n  }\n\n  private ApiInfo apiInfo() {\n    return new ApiInfo(\n        &quot;Email As A Service&quot;,\n        &quot;Health URL &quot; + healthURL,\n        &quot;1.0&quot;,\n        null,\n        null,\n        null,\n        null,\n        Collections.emptyList());\n  }\n}\n</code></pre>\n<p>KafkaConfig</p>\n<pre><code>@Configuration\n@EnableKafka\n@EnableScheduling\n@Slf4j\npublic class EddKafkaConfiguration {\n\n  private final EddKafkaProperties eddKafkaProperties;\n\n  @Autowired KafkaConsumerRegistryService kafkaConsumerRegistryService;\n\n  public EddKafkaConfiguration(EddKafkaProperties eddKafkaProperties) {\n    this.eddKafkaProperties = eddKafkaProperties;\n  }\n\n  @Bean\n  public ConsumerFactory&lt;String, String&gt; consumerFactory() {\n    Map&lt;String, Object&gt; properties = new HashMap&lt;&gt;();\n    properties.put(BOOTSTRAP_SERVERS_CONFIG, eddKafkaProperties.getBootstrapServers());\n    properties.put(SECURITY_PROTOCOL_CONFIG, eddKafkaProperties.getSecurity().getProtocol());\n//    properties.put(KAFKA_SCHEMA_REGISTRY, eddKafkaProperties.getSchemaRegistryUrl());\n    properties.put(GROUP_ID_CONFIG, eddKafkaProperties.getGroupId());\n    properties.put(CLIENT_ID_CONFIG, eddKafkaProperties.getClientId());\n    properties.put(AUTO_OFFSET_RESET_CONFIG, eddKafkaProperties.getAutoOffsetReset());\n    properties.put(ENABLE_AUTO_COMMIT_CONFIG, eddKafkaProperties.getEnableAutoCommit());\n    properties.put(AUTO_COMMIT_INTERVAL_MS_CONFIG, eddKafkaProperties.getAutoCommitInterval());\n    properties.put(MAX_POLL_RECORDS_CONFIG, eddKafkaProperties.getMaxPollRecords());\n    properties.put(KEY_DESERIALIZER_CLASS_CONFIG, StringDeserializer.class);\n    properties.put(\n        VALUE_DESERIALIZER_CLASS_CONFIG,\n        io.confluent.kafka.serializers.KafkaJsonDeserializer.class);\n//    properties.put(\n//            VALUE_DESERIALIZER_CLASS_CONFIG, StringDeserializer.class);\n    properties.put(SESSION_TIMEOUT_MS_CONFIG, eddKafkaProperties.getSessionTimeoutInterval());\n    properties.put(HEARTBEAT_INTERVAL_MS_CONFIG, eddKafkaProperties.getHeartBeatInterval());\n\n    // Security configs\n    properties.put(\n        SSL_TRUSTSTORE_LOCATION_CONFIG, eddKafkaProperties.getSecurity().getTrustStoreLocation());\n    properties.put(\n        SSL_TRUSTSTORE_PASSWORD_CONFIG, eddKafkaProperties.getSecurity().getTrustStorePassword());\n    properties.put(SASL_JAAS_CONFIG, eddKafkaProperties.getSecurity().getSaslJaasConfig());\n    properties.put(SASL_MECHANISM, eddKafkaProperties.getSecurity().getSaslMechanism());\n\n    return new DefaultKafkaConsumerFactory&lt;&gt;(properties);\n  }\n\n  @Bean\n  public ConcurrentKafkaListenerContainerFactory&lt;String, String&gt; kafkaListenerContainerFactory() {\n\n    ConcurrentKafkaListenerContainerFactory&lt;String, String&gt; factory =\n        new ConcurrentKafkaListenerContainerFactory&lt;&gt;();\n    factory.setConsumerFactory(consumerFactory());\n    factory.setConcurrency(eddKafkaProperties.getConcurrency());\n    return factory;\n  }\n</code></pre>\n<p>Listener</p>\n<pre><code> public SendEmailMessageReceiver(\n      EddKafkaProperties eddKafkaProperties,\n      MessagePublisher messagePublisher,\n      EddEmailService eddEmailService,\n      MongoDbService mongoDbService) {\n    this.eddKafkaProperties = eddKafkaProperties;\n    this.messagePublisher = messagePublisher;\n    this.eddEmailService = eddEmailService;\n    this.mongoDbService = mongoDbService;\n  }\n\n  @KafkaListener(\n      topics = &quot;${app.kafka.topics.send-email-topic}&quot;,\n      concurrency = &quot;${app.kafka.concurrency}&quot;,\n      id = &quot;kafk.xxx.xxx.consumer&quot;,\n      idIsGroup = true)\n  public void receive(\n      Message&lt;LinkedHashMap&lt;String, String&gt;&gt; message,\n      @Header(KafkaHeaders.RECEIVED_PARTITION_ID) int partition,\n      @Header(KafkaHeaders.OFFSET) int offset)\n      throws URISyntaxException, IOException {\n    //    log.info(&quot;-------------------------------------------------------&quot;);\n    Date startDate = new Date();\n    log.info(\n        &quot;Received Message is from Partition:: &quot;\n            + partition\n            + &quot; and offset::&quot;\n            + offset\n            + &quot; in thread::&quot;\n            + Thread.currentThread().getName());\n    // log.info(&quot;Request Received From Kafka Send Email: &quot; + message.getPayload());\n    String requestId = UUID.randomUUID().toString();\n    JSONObject payloadJson = new JSONObject(message.getPayload());\n    JSONObject payloadRequest =\n        payloadJson.getJSONObject(&quot;body&quot;).getJSONObject(&quot;CAAS&quot;).getJSONObject(&quot;Request&quot;);\n\n    JSONArray records = payloadRequest.getJSONArray(&quot;Records&quot;);\n    List&lt;JSONObject&gt; updatedRecords = new ArrayList&lt;&gt;();\n    for (int i = 0; i &lt; records.length(); i++) {\n      JSONObject currentRecord = records.getJSONObject(i);\n      String docDetailsWithQuotes = currentRecord.getString(&quot;DocumentDetails&quot;);\n      JSONObject docDetailsWithoutQuotesJson = new JSONObject(docDetailsWithQuotes);\n      currentRecord.put(&quot;DocumentDetails&quot;, docDetailsWithoutQuotesJson);\n      updatedRecords.add(currentRecord);\n    }\n\n    payloadRequest.put(&quot;Records&quot;, updatedRecords);\n\n    ObjectMapper obj = new ObjectMapper();\n    obj.configure(MapperFeature.ACCEPT_CASE_INSENSITIVE_PROPERTIES, true);\n\n    String payloadRequestString = payloadRequest.toString();\n    Request caasRequest = obj.readValue(payloadRequestString, Request.class);\n  \n    CaasResponse firstAcknowledgement = buildCaasResponseRequestLvl(caasRequest, requestId);\n    \n    messagePublisher.postEmailStatus(firstAcknowledgement);\n\n    mongoDbService.createAndPostCaasEddStatus(caasRequest, requestId);\n\n    List&lt;CaasResponse&gt; recordLevelAcknowledgementList =\n        buildCaasResponseRecordLvl(caasRequest, requestId);\n    for (CaasResponse secondAcknowledgement : recordLevelAcknowledgementList) {\n      messagePublisher.postEmailStatus(secondAcknowledgement);\n    }\n    Date endDate = new Date();\n    Long timeTaken = endDate.getTime() - startDate.getTime();\n    log.info(\n        &quot;-----------------------Done with DB persisting of NEW Processing Status message in :&quot;\n            + timeTaken\n            + &quot; milliseconds---------------------- &quot;);\n  }\n</code></pre>\n"},{"tags":["java","html","spring","hashmap"],"comments":[{"owner":{"account_id":889764,"reputation":4441,"user_id":928276,"accept_rate":75,"display_name":"soorapadman"},"score":0,"creation_date":1444811482,"post_id":33120271,"comment_id":54053747,"body_markdown":"what you have tried?","body":"what you have tried?"},{"owner":{"account_id":372117,"reputation":2909,"user_id":1486762,"accept_rate":47,"display_name":"Bilbo Baggins"},"score":0,"creation_date":1444811857,"post_id":33120271,"comment_id":54053968,"body_markdown":"Post your code/ configuration for people to help you","body":"Post your code/ configuration for people to help you"},{"owner":{"account_id":7118867,"reputation":1,"user_id":5444147,"display_name":"dona devasia"},"score":0,"creation_date":1444811865,"post_id":33120271,"comment_id":54053970,"body_markdown":"@Soorapadman I just tried to pass it as a normal variable and I could see the map values in the url.  but in the controller i couldnt get it.","body":"@Soorapadman I just tried to pass it as a normal variable and I could see the map values in the url.  but in the controller i couldnt get it."},{"owner":{"account_id":372117,"reputation":2909,"user_id":1486762,"accept_rate":47,"display_name":"Bilbo Baggins"},"score":0,"creation_date":1444811894,"post_id":33120271,"comment_id":54053991,"body_markdown":"http://viralpatel.net/blogs/spring-mvc-hashmap-form-example/ try this :) :)","body":"<a href=\"http://viralpatel.net/blogs/spring-mvc-hashmap-form-example/\" rel=\"nofollow noreferrer\">viralpatel.net/blogs/spring-mvc-hashmap-form-example</a> try this :) :)"},{"owner":{"account_id":372117,"reputation":2909,"user_id":1486762,"accept_rate":47,"display_name":"Bilbo Baggins"},"score":0,"creation_date":1444811923,"post_id":33120271,"comment_id":54054008,"body_markdown":"and this too ... http://stackoverflow.com/questions/18280395/passing-a-mapstring-string-to-a-springmvc-controller","body":"and this too ... <a href=\"http://stackoverflow.com/questions/18280395/passing-a-mapstring-string-to-a-springmvc-controller\" title=\"passing a mapstring string to a springmvc controller\">stackoverflow.com/questions/18280395/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":949302,"reputation":4329,"user_id":975816,"accept_rate":78,"display_name":"Fatih Donmez"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1444812234,"creation_date":1444812234,"answer_id":33120592,"question_id":33120271,"body_markdown":"First of all there is nothing like passing hashmap from html to Spring controller. What you want to accomplish is actually making a http request to web application.\r\n\r\nCreate a form model which has `Map&lt;String,String&gt;` as class variable with appropriate setter and getter.\r\n\r\nThen in your action;\r\n\r\n  \r\n\r\n      public @ResponseBody String formPost(@ModelAttribute YourFormClass form, HttpServletRequest request) {\r\n          //Rest of your business logic\r\n      }\r\n\r\n \r\n","title":"How to pass Hasmap from Html to Spring controller in java","body":"<p>First of all there is nothing like passing hashmap from html to Spring controller. What you want to accomplish is actually making a http request to web application.</p>\n\n<p>Create a form model which has <code>Map&lt;String,String&gt;</code> as class variable with appropriate setter and getter.</p>\n\n<p>Then in your action;</p>\n\n<pre><code>  public @ResponseBody String formPost(@ModelAttribute YourFormClass form, HttpServletRequest request) {\n      //Rest of your business logic\n  }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":27835311,"reputation":1,"user_id":21252893,"display_name":"user21252893"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676918434,"creation_date":1676918434,"answer_id":75513043,"question_id":33120271,"body_markdown":"I guess this will help you.\r\n\r\nHTML:\r\n```\r\n&lt;html&gt;&lt;body&gt;\r\n&lt;input type=&quot;hidden&quot; name=&quot;Hashmap&quot; id=&quot;mymap&quot;&gt;\r\n&lt;/body&gt;\r\n&lt;script&gt;\r\nvar Map = new Map(); //push some values into this\r\nvar obj = Object.fromEntries(keyvalue);\r\n\t\tvar StringKeyvalue = JSON.stringify(obj);\r\n\t\tconsole.log(&quot;entra babu nak idhi: &quot;,StringKeyvalue)\r\n\t\tdocument.getElementById(&quot;mymap&quot;).value = StringKeyvalue;\r\n&lt;/script&gt;\r\n&lt;/html&gt;\r\n```\r\n\r\n\r\nController:\r\n\r\n    public String passingHashmap(HttpServletRequest request,@RequestParam(&quot;Hashmap&quot;) \r\n    String mapValues) {\r\n\t\tObjectMapper mapper = new ObjectMapper();\r\n\t\ttry {\r\n\t\t\tMap&lt;String, String&gt; myHashMap = mapper.readValue(mapValues, new \r\n    TypeReference&lt;HashMap&lt;String, String&gt;&gt;(){});\r\n    } catch (JsonProcessingException e) {\r\n\t\t\t// TODO Auto-generated catch block\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n    return true;\r\n    }\r\n\r\n\r\n","title":"How to pass Hasmap from Html to Spring controller in java","body":"<p>I guess this will help you.</p>\n<p>HTML:</p>\n<pre><code>&lt;html&gt;&lt;body&gt;\n&lt;input type=&quot;hidden&quot; name=&quot;Hashmap&quot; id=&quot;mymap&quot;&gt;\n&lt;/body&gt;\n&lt;script&gt;\nvar Map = new Map(); //push some values into this\nvar obj = Object.fromEntries(keyvalue);\n        var StringKeyvalue = JSON.stringify(obj);\n        console.log(&quot;entra babu nak idhi: &quot;,StringKeyvalue)\n        document.getElementById(&quot;mymap&quot;).value = StringKeyvalue;\n&lt;/script&gt;\n&lt;/html&gt;\n</code></pre>\n<p>Controller:</p>\n<pre><code>public String passingHashmap(HttpServletRequest request,@RequestParam(&quot;Hashmap&quot;) \nString mapValues) {\n    ObjectMapper mapper = new ObjectMapper();\n    try {\n        Map&lt;String, String&gt; myHashMap = mapper.readValue(mapValues, new \nTypeReference&lt;HashMap&lt;String, String&gt;&gt;(){});\n} catch (JsonProcessingException e) {\n        // TODO Auto-generated catch block\n        e.printStackTrace();\n    }\nreturn true;\n}\n</code></pre>\n"}],"owner":{"account_id":7118867,"reputation":1,"user_id":5444147,"display_name":"dona devasia"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":100,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":2,"score":-2,"last_activity_date":1676918434,"creation_date":1444811238,"question_id":33120271,"body_markdown":"How to pass Hasmap from Html to Spring controller in java.And also I would like to know how to get it from the controller.","title":"How to pass Hasmap from Html to Spring controller in java","body":"<p>How to pass Hasmap from Html to Spring controller in java.And also I would like to know how to get it from the controller.</p>\n"},{"tags":["java","java-stream","option-type"],"answers":[{"tags":[],"owner":{"display_name":"user20716279"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1676918282,"creation_date":1670435496,"answer_id":74720971,"question_id":74720530,"body_markdown":"The below for the loop part:\r\n\r\n    itemPriceCodes.stream()\r\n    .filter(create method which take the output of  manufacturerPriceCodesRepository.findByManufacturerIDAndPriceCodeAndRecordDeleted(item.getManufacturerID(), ipc.getPriceCode(), NOT_DELETED)  and return boolan and call it here as\r\n    ipc -&gt; themethod(manufacturerPriceCodesRepository.findByManufacturerIDAndPriceCodeAndRecordDeleted(item.getManufacturerID(), ipc.getPriceCode(), NOT_DELETED)))\r\n    .forEach(ipc -&gt; ipc.setManufacturerPriceCode(mpc.get().getName()));\r\n\r\nHere some resources: https://dev.java/learn/the-stream-api/\r\n","title":"Is there a way to modify below code using java8 map","body":"<p>The below for the loop part:</p>\n<pre><code>itemPriceCodes.stream()\n.filter(create method which take the output of  manufacturerPriceCodesRepository.findByManufacturerIDAndPriceCodeAndRecordDeleted(item.getManufacturerID(), ipc.getPriceCode(), NOT_DELETED)  and return boolan and call it here as\nipc -&gt; themethod(manufacturerPriceCodesRepository.findByManufacturerIDAndPriceCodeAndRecordDeleted(item.getManufacturerID(), ipc.getPriceCode(), NOT_DELETED)))\n.forEach(ipc -&gt; ipc.setManufacturerPriceCode(mpc.get().getName()));\n</code></pre>\n<p>Here some resources: <a href=\"https://dev.java/learn/the-stream-api/\" rel=\"nofollow noreferrer\">https://dev.java/learn/the-stream-api/</a></p>\n"},{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1670439150,"creation_date":1670438293,"answer_id":74721477,"question_id":74720530,"body_markdown":"I would rather stick with imperative logic like the one you&#39;ve provided because the main purpose of `for`-loop in the original code is *changing the state* of your domain objects. \r\n\r\nThat means that you need either to perform *side-effects* via `Stream.forEach()`, which according to the Stream API documentation should be used with caution as a last resort (*and since there&#39;s an alternative way, namely `for`-loop, it&#39;s not justifiable to use `forEach()` on a stream*), or the second approach would be to materialize the `Optional` values returned by your Repository as a Collection (*that would increase memory consumption, therefore again my advice is to stick with the original code*).\r\n\r\nPurely for educational purposes, here&#39;s an example of how the latter option can be implemented, using Collector [`toMap()`][toMap] to associate each `ItemPriceCode` with the corresponding `Optional&lt;ManufacturerPriceCodes&gt;`.\r\n\r\nA combination of `Iterable.forEach()` and [`Optional.ifPresent()`][ifPresent] is used to modify the state of `ItemPriceCode` instances.\r\n\r\n    private Item getItemManufacturerPriceCodes(Item item) {\r\n        \r\n        Map&lt;ItemPriceCode, Optional&lt;ManufacturerPriceCodes&gt;&gt; mpcList =\r\n            item.getItemPriceCodes().stream()\r\n                .collect(Collectors.toMap(\r\n                    Function.identity(),                  // keyMapper\r\n                    ipc -&gt; foo(ipc),                      // valueMapper\r\n                    (left, rihgt) -&gt; left.or(() -&gt; rihgt) // mergeFunction - both parameters are of type Optional&lt;ManufacturerPriceCodes&gt;, left.or(() -&gt; rihgt) replaces `left` with `right` if the left is empty\r\n                ));\r\n        \r\n        mpcList.forEach((ipc, optionalMpc) -&gt;\r\n            optionalMpc.ifPresent(mpc -&gt; ipc.setManufacturerPriceCode(mpc.getName()))\r\n        );\r\n        \r\n        item.getItemPriceCodes()\r\n            .removeIf(ipc -&gt; DELETED.equals(ipc.getRecordDeleted()));\r\n        \r\n        return item;\r\n    }\r\n\r\n&lt;h3&gt;Note:&lt;/h3&gt;\r\n\r\n* lengthy method call on the Repository, reflected in the code above as `foo(ipc)`.\r\n\r\n* if all `ItemPriceCode` instances are unique, the third argument of the Collector `toMap()`, *merge Function*, is not required and can be removed.\r\n\r\n\r\n\r\n   [toMap]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Collectors.html#toMap(java.util.function.Function,java.util.function.Function,java.util.function.BinaryOperator)\r\n\r\n   [ifPresent]: https://docs.oracle.com/en/java/javase/17/docs/api//java.base/java/util/Optional.html#ifPresent(java.util.function.Consumer)","title":"Is there a way to modify below code using java8 map","body":"<p>I would rather stick with imperative logic like the one you've provided because the main purpose of <code>for</code>-loop in the original code is <em>changing the state</em> of your domain objects.</p>\n<p>That means that you need either to perform <em>side-effects</em> via <code>Stream.forEach()</code>, which according to the Stream API documentation should be used with caution as a last resort (<em>and since there's an alternative way, namely <code>for</code>-loop, it's not justifiable to use <code>forEach()</code> on a stream</em>), or the second approach would be to materialize the <code>Optional</code> values returned by your Repository as a Collection (<em>that would increase memory consumption, therefore again my advice is to stick with the original code</em>).</p>\n<p>Purely for educational purposes, here's an example of how the latter option can be implemented, using Collector <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Collectors.html#toMap(java.util.function.Function,java.util.function.Function,java.util.function.BinaryOperator)\" rel=\"nofollow noreferrer\"><code>toMap()</code></a> to associate each <code>ItemPriceCode</code> with the corresponding <code>Optional&lt;ManufacturerPriceCodes&gt;</code>.</p>\n<p>A combination of <code>Iterable.forEach()</code> and <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api//java.base/java/util/Optional.html#ifPresent(java.util.function.Consumer)\" rel=\"nofollow noreferrer\"><code>Optional.ifPresent()</code></a> is used to modify the state of <code>ItemPriceCode</code> instances.</p>\n<pre><code>private Item getItemManufacturerPriceCodes(Item item) {\n    \n    Map&lt;ItemPriceCode, Optional&lt;ManufacturerPriceCodes&gt;&gt; mpcList =\n        item.getItemPriceCodes().stream()\n            .collect(Collectors.toMap(\n                Function.identity(),                  // keyMapper\n                ipc -&gt; foo(ipc),                      // valueMapper\n                (left, rihgt) -&gt; left.or(() -&gt; rihgt) // mergeFunction - both parameters are of type Optional&lt;ManufacturerPriceCodes&gt;, left.or(() -&gt; rihgt) replaces `left` with `right` if the left is empty\n            ));\n    \n    mpcList.forEach((ipc, optionalMpc) -&gt;\n        optionalMpc.ifPresent(mpc -&gt; ipc.setManufacturerPriceCode(mpc.getName()))\n    );\n    \n    item.getItemPriceCodes()\n        .removeIf(ipc -&gt; DELETED.equals(ipc.getRecordDeleted()));\n    \n    return item;\n}\n</code></pre>\n<h3>Note:</h3>\n<ul>\n<li><p>lengthy method call on the Repository, reflected in the code above as <code>foo(ipc)</code>.</p>\n</li>\n<li><p>if all <code>ItemPriceCode</code> instances are unique, the third argument of the Collector <code>toMap()</code>, <em>merge Function</em>, is not required and can be removed.</p>\n</li>\n</ul>\n"}],"owner":{"account_id":9696555,"reputation":191,"user_id":7192797,"display_name":"Njena"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":85,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1676918282,"creation_date":1670433440,"question_id":74720530,"body_markdown":"I am new to java 8, I want to modify my old version code using java 8 stream map but I am not able to modify below piece of code using java 8 map. Is it possible to modify the code using java 8.\r\n```\r\nprivate Item getItemManufacturerPriceCodes(Item item) {\r\n\r\n    List&lt;ItemPriceCode&gt; itemPriceCodes = item.getItemPriceCodes();\r\n\r\n    for(ItemPriceCode ipc : itemPriceCodes) {\r\n\r\n        Optional&lt;ManufacturerPriceCodes&gt; mpc = manufacturerPriceCodesRepository.findByManufacturerIDAndPriceCodeAndRecordDeleted(item.getManufacturerID(), ipc.getPriceCode(), NOT_DELETED);\r\n        \r\n        if (mpc.isPresent())\r\n            ipc.setManufacturerPriceCode(mpc.get().getName());\r\n    }\r\n\r\n    item.getItemPriceCodes()\r\n            .removeIf(ipc -&gt; DELETED.equals(ipc.getRecordDeleted()));\r\n\r\n    return item;\r\n}\r\n\r\n```\r\nI tried lot of things but this function not able to modify. I declare the jpa query line above for each loop and map the list of PriceCodes but not able to get the exact result. which is produced by above function. How to modify above function using java 8 map stream , all the data comes from data base. How cam I modify this function.\r\n","title":"Is there a way to modify below code using java8 map","body":"<p>I am new to java 8, I want to modify my old version code using java 8 stream map but I am not able to modify below piece of code using java 8 map. Is it possible to modify the code using java 8.</p>\n<pre><code>private Item getItemManufacturerPriceCodes(Item item) {\n\n    List&lt;ItemPriceCode&gt; itemPriceCodes = item.getItemPriceCodes();\n\n    for(ItemPriceCode ipc : itemPriceCodes) {\n\n        Optional&lt;ManufacturerPriceCodes&gt; mpc = manufacturerPriceCodesRepository.findByManufacturerIDAndPriceCodeAndRecordDeleted(item.getManufacturerID(), ipc.getPriceCode(), NOT_DELETED);\n        \n        if (mpc.isPresent())\n            ipc.setManufacturerPriceCode(mpc.get().getName());\n    }\n\n    item.getItemPriceCodes()\n            .removeIf(ipc -&gt; DELETED.equals(ipc.getRecordDeleted()));\n\n    return item;\n}\n\n</code></pre>\n<p>I tried lot of things but this function not able to modify. I declare the jpa query line above for each loop and map the list of PriceCodes but not able to get the exact result. which is produced by above function. How to modify above function using java 8 map stream , all the data comes from data base. How cam I modify this function.</p>\n"},{"tags":["java","eclipse","scala","ide"],"comments":[{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":2,"creation_date":1676896099,"post_id":75509176,"comment_id":133223594,"body_markdown":"Are you sure that you want to install such an old software? It seems from the release notes that it was released in early 2018 and only supports Scala 2.12 and Java 1.8. The current stable versions of Scala are 2.13 and 3.2, of Java it is Java 17.","body":"Are you sure that you want to install such an old software? It seems from the release notes that it was released in early 2018 and only supports Scala 2.12 and Java 1.8. The current stable versions of Scala are 2.13 and 3.2, of Java it is Java 17."},{"owner":{"account_id":3159259,"reputation":109666,"user_id":2670892,"display_name":"greg-449"},"score":1,"creation_date":1676896172,"post_id":75509176,"comment_id":133223618,"body_markdown":"What version of Java are you using? If that code only supports Java 8 it may not work with Java 9 or later.","body":"What version of Java are you using? If that code only supports Java 8 it may not work with Java 9 or later."},{"owner":{"account_id":5131293,"reputation":21831,"user_id":4111404,"accept_rate":80,"display_name":"Luis Miguel Mej&#237;a Su&#225;rez"},"score":3,"creation_date":1676905500,"post_id":75509176,"comment_id":133226470,"body_markdown":"The **ScalaIDE** for **Eclipse** was already deprecated like 5 years ago when I started to learn the language, and it was officially closed a couple of years ago. - Pick either **IntelliJ** or **metals** _(which can be used with newer versions of **Eclipse**, although I believe it also has some issues in that platform)_ - I personally are very happy with **vscode** + **metals** + **sbt** + **WSL**","body":"The <b>ScalaIDE</b> for <b>Eclipse</b> was already deprecated like 5 years ago when I started to learn the language, and it was officially closed a couple of years ago. - Pick either <b>IntelliJ</b> or <b>metals</b> <i>(which can be used with newer versions of <b>Eclipse</b>, although I believe it also has some issues in that platform)</i> - I personally are very happy with <b>vscode</b> + <b>metals</b> + <b>sbt</b> + <b>WSL</b>"},{"owner":{"account_id":13796,"reputation":19353,"user_id":27905,"display_name":"nitind"},"score":0,"creation_date":1676908838,"post_id":75509176,"comment_id":133227474,"body_markdown":"Is there literally an asterisk at the end of that last line on the .ini file? That looks like a mistake if so. And are you on 64-bit Windows?","body":"Is there literally an asterisk at the end of that last line on the .ini file? That looks like a mistake if so. And are you on 64-bit Windows?"},{"owner":{"account_id":1369470,"reputation":25454,"user_id":1305121,"accept_rate":90,"display_name":"Mateusz Kubuszok"},"score":0,"creation_date":1676931704,"post_id":75509176,"comment_id":133233100,"body_markdown":"You can try opening CMD and running Eclipse from it, to get some logs, which could potentially help figure out the cause... but unless you have some good reasons to use Scala IDE use something else. It&#39;s an abandonware, and - contrary to what some people I&#39;ve met been saying - IntelliJ CE is mostly OSS (Apache - see https://github.com/JetBrains/intellij-community), same with Scala plugin (https://github.com/JetBrains/intellij-scala). Metals is obviously an OSS LSP, where you can pick among a plethora of editors that support it. Unless you love Eclipse or use some ancient Scala, skip Scala IDE.","body":"You can try opening CMD and running Eclipse from it, to get some logs, which could potentially help figure out the cause... but unless you have some good reasons to use Scala IDE use something else. It&#39;s an abandonware, and - contrary to what some people I&#39;ve met been saying - IntelliJ CE is mostly OSS (Apache - see <a href=\"https://github.com/JetBrains/intellij-community\" rel=\"nofollow noreferrer\">github.com/JetBrains/intellij-community</a>), same with Scala plugin (<a href=\"https://github.com/JetBrains/intellij-scala\" rel=\"nofollow noreferrer\">github.com/JetBrains/intellij-scala</a>). Metals is obviously an OSS LSP, where you can pick among a plethora of editors that support it. Unless you love Eclipse or use some ancient Scala, skip Scala IDE."}],"owner":{"account_id":7294852,"reputation":3,"user_id":5560095,"display_name":"Jesus"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":114,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676918097,"creation_date":1676895452,"question_id":75509176,"body_markdown":"I have checked here but I cannot find anybody with the same kind of issue.\r\n\r\nI am trying to install the 4.7.0 version of the Scala IDE based on Eclipse available at http://scala-ide.org/download/current.html for Windows 10. While the download seems to be working fine, once I unzip the file I get a pop-up message that says &quot;Error: Could not create the Java Virtual Machine. Error: A fatal exception has occurred. Program will exit.&quot; \r\n\r\n![Screenshot of the latter message is here][1]\r\n\r\nThe configuration file eclipse.ini (still within the downloaded scala IDE) is:\r\n\r\n    *-startup\r\n    plugins/org.eclipse.equinox.launcher_1.4.0.v20161219-1356.jar\r\n    --launcher.library\r\n    plugins/org.eclipse.equinox.launcher.win32.win32.x86_64_1.1.500.v20170531-1133\r\n    -vmargs\r\n    -Xmx2G\r\n    -Xms200m\r\n    -XX:MaxPermSize=384m*\r\n\r\nI have tried to increase the heap memory size to 512 and 1024 MB or using winzip instead of winrar for installing the program (apparently, there was some issue with WinRAR according to some people) but to no avail. Do you have any idea of what could be wrong?\r\n\r\n  [1]: https://i.stack.imgur.com/JhNKQ.png","title":"Scala IDE failing to be installed","body":"<p>I have checked here but I cannot find anybody with the same kind of issue.</p>\n<p>I am trying to install the 4.7.0 version of the Scala IDE based on Eclipse available at <a href=\"http://scala-ide.org/download/current.html\" rel=\"nofollow noreferrer\">http://scala-ide.org/download/current.html</a> for Windows 10. While the download seems to be working fine, once I unzip the file I get a pop-up message that says &quot;Error: Could not create the Java Virtual Machine. Error: A fatal exception has occurred. Program will exit.&quot;</p>\n<p><img src=\"https://i.stack.imgur.com/JhNKQ.png\" alt=\"Screenshot of the latter message is here\" /></p>\n<p>The configuration file eclipse.ini (still within the downloaded scala IDE) is:</p>\n<pre><code>*-startup\nplugins/org.eclipse.equinox.launcher_1.4.0.v20161219-1356.jar\n--launcher.library\nplugins/org.eclipse.equinox.launcher.win32.win32.x86_64_1.1.500.v20170531-1133\n-vmargs\n-Xmx2G\n-Xms200m\n-XX:MaxPermSize=384m*\n</code></pre>\n<p>I have tried to increase the heap memory size to 512 and 1024 MB or using winzip instead of winrar for installing the program (apparently, there was some issue with WinRAR according to some people) but to no avail. Do you have any idea of what could be wrong?</p>\n"},{"tags":["java","maven","wso2","dependency-management"],"comments":[{"owner":{"account_id":5861971,"reputation":155,"user_id":4617342,"accept_rate":50,"display_name":"Gandalf"},"score":0,"creation_date":1676925867,"post_id":75511841,"comment_id":133231827,"body_markdown":"Another strange thing is that I have the following warning during the build [WARNING] The POM for org.wso2.maven:wso2-esb-proxy-plugin:jar:2.1.0 is missing, no dependency information available  although the corresponding pom exists in local repository","body":"Another strange thing is that I have the following warning during the build [WARNING] The POM for org.wso2.maven:wso2-esb-proxy-plugin:jar:2.1.0 is missing, no dependency information available  although the corresponding pom exists in local repository"}],"answers":[{"tags":[],"owner":{"account_id":3103561,"reputation":13341,"user_id":2627018,"accept_rate":81,"display_name":"ycr"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676917948,"creation_date":1676917948,"answer_id":75512949,"question_id":75511841,"body_markdown":"You do not need to explicitly add dependencies here. It seems the artifact location is wrong in your configurations. Can you change it to following and give it a try?\r\n\r\n```xml\r\n&lt;plugin&gt;\r\n  &lt;groupId&gt;org.wso2.maven&lt;/groupId&gt;\r\n  &lt;artifactId&gt;wso2-esb-proxy-plugin&lt;/artifactId&gt;\r\n  &lt;version&gt;2.1.0&lt;/version&gt;\r\n  &lt;extensions&gt;true&lt;/extensions&gt;\r\n  &lt;executions&gt;\r\n    &lt;execution&gt;\r\n      &lt;id&gt;proxy&lt;/id&gt;\r\n      &lt;phase&gt;process-resources&lt;/phase&gt;\r\n      &lt;goals&gt;\r\n        &lt;goal&gt;pom-gen&lt;/goal&gt;\r\n      &lt;/goals&gt;\r\n      &lt;configuration&gt;\r\n        &lt;artifactLocation&gt;.&lt;/artifactLocation&gt;\r\n        &lt;typeList&gt;${artifact.types}&lt;/typeList&gt;\r\n      &lt;/configuration&gt;\r\n    &lt;/execution&gt;\r\n  &lt;/executions&gt;\r\n  &lt;configuration /&gt;\r\n&lt;/plugin&gt;\r\n``` \r\nThis would generate another pom in the location `/target/capp/artifacts/proxy-service/PROXY_NAME` and execute it. Which has the `maven-proxy-plugin` which should download the `org.wso2.maven.capp` dependency.","title":"Maven plugin dependency could not be found","body":"<p>You do not need to explicitly add dependencies here. It seems the artifact location is wrong in your configurations. Can you change it to following and give it a try?</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;plugin&gt;\n  &lt;groupId&gt;org.wso2.maven&lt;/groupId&gt;\n  &lt;artifactId&gt;wso2-esb-proxy-plugin&lt;/artifactId&gt;\n  &lt;version&gt;2.1.0&lt;/version&gt;\n  &lt;extensions&gt;true&lt;/extensions&gt;\n  &lt;executions&gt;\n    &lt;execution&gt;\n      &lt;id&gt;proxy&lt;/id&gt;\n      &lt;phase&gt;process-resources&lt;/phase&gt;\n      &lt;goals&gt;\n        &lt;goal&gt;pom-gen&lt;/goal&gt;\n      &lt;/goals&gt;\n      &lt;configuration&gt;\n        &lt;artifactLocation&gt;.&lt;/artifactLocation&gt;\n        &lt;typeList&gt;${artifact.types}&lt;/typeList&gt;\n      &lt;/configuration&gt;\n    &lt;/execution&gt;\n  &lt;/executions&gt;\n  &lt;configuration /&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p>This would generate another pom in the location <code>/target/capp/artifacts/proxy-service/PROXY_NAME</code> and execute it. Which has the <code>maven-proxy-plugin</code> which should download the <code>org.wso2.maven.capp</code> dependency.</p>\n"}],"owner":{"account_id":5861971,"reputation":155,"user_id":4617342,"accept_rate":50,"display_name":"Gandalf"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":117,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1676917948,"creation_date":1676910441,"question_id":75511841,"body_markdown":"While building my project with maven 3.6.3 using java 1.8 by invoking `maven clean install` I got the following error:\r\n\r\n```[ERROR] Failed to execute goal org.wso2.maven:wso2-esb-proxy-plugin:2.1.0:pom-gen (proxy) on project common: Execution proxy of goal org.wso2.maven:wso2-esb-proxy-plugin:2.1.0:pom-gen failed: Unable to load the mojo &#39;pom-gen&#39; in the plugin &#39;org.wso2.maven:wso2-esb-proxy-plugin:2.1.0&#39;. A required class is missing: org/wso2/maven/capp/mojo/AbstractPOMGenMojo```\r\n\r\nI learned that a class `org/wso2/maven/capp/mojo/AbstractPOMGenMojo` is included in  `org.wso2.maven/org.wso2.maven.capp/2.1.0/org.wso2.maven.capp-2.1.0.jar`.\r\n\r\nMy pom fragment looks like:\r\n```  ...\r\n  &lt;parent&gt;\r\n    &lt;relativePath&gt;../pom.xml&lt;/relativePath&gt;\r\n  &lt;/parent&gt;\r\n\r\n  &lt;packaging&gt;pom&lt;/packaging&gt;\r\n\r\n  &lt;build&gt;\r\n    ...\r\n    &lt;plugins&gt;\r\n      ...\r\n      &lt;plugin&gt;\r\n        &lt;groupId&gt;org.wso2.maven&lt;/groupId&gt;\r\n        &lt;artifactId&gt;wso2-esb-proxy-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;2.1.0&lt;/version&gt;\r\n        &lt;extensions&gt;true&lt;/extensions&gt;\r\n        &lt;executions&gt;\r\n          &lt;execution&gt;\r\n            &lt;id&gt;proxy&lt;/id&gt;\r\n            &lt;phase&gt;process-resources&lt;/phase&gt;\r\n            &lt;goals&gt;\r\n              &lt;goal&gt;pom-gen&lt;/goal&gt;\r\n            &lt;/goals&gt;\r\n            &lt;configuration&gt;\r\n              &lt;artifactLocation&gt;target/capp/classes&lt;/artifactLocation&gt;\r\n              &lt;typeList&gt;${artifact.types}&lt;/typeList&gt;\r\n            &lt;/configuration&gt;\r\n          &lt;/execution&gt;\r\n        &lt;/executions&gt;\r\n        &lt;configuration /&gt;\r\n        &lt;!-- here I can enable dependencies to have it working, i.e.\r\n          &lt;dependencies&gt;\r\n          &lt;dependency&gt;\r\n            &lt;groupId&gt;org.wso2.maven&lt;/groupId&gt;\r\n            &lt;artifactId&gt;org.wso2.maven.capp&lt;/artifactId&gt;\r\n            &lt;version&gt;2.1.0&lt;/version&gt;\r\n          &lt;/dependency&gt;\r\n          ...\r\n        --&gt;\r\n      &lt;/plugin&gt;\r\n    &lt;/plugins&gt;\r\n  &lt;/build&gt;\r\n\r\n```\r\n\r\nI found out that after enabling dependencies to plugin (which is put as a comment in above pom&#39;s snippet) the code seems to be compiling. I checked that wso2-esb-proxy-plugin-2.1.0.pom in my local maven repo contains:\r\n\r\n```\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.wso2.maven&lt;/groupId&gt;\r\n    &lt;artifactId&gt;org.wso2.maven.capp&lt;/artifactId&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nWhy do I need to put `org.wso2.maven.capp` explicitly as a plugin dependency in pom to have it working? Plugin&#39;s pom file already contains the same dependency (although without version) but it seems it&#39;s not taken into account in that case.","title":"Maven plugin dependency could not be found","body":"<p>While building my project with maven 3.6.3 using java 1.8 by invoking <code>maven clean install</code> I got the following error:</p>\n<p><code>[ERROR] Failed to execute goal org.wso2.maven:wso2-esb-proxy-plugin:2.1.0:pom-gen (proxy) on project common: Execution proxy of goal org.wso2.maven:wso2-esb-proxy-plugin:2.1.0:pom-gen failed: Unable to load the mojo 'pom-gen' in the plugin 'org.wso2.maven:wso2-esb-proxy-plugin:2.1.0'. A required class is missing: org/wso2/maven/capp/mojo/AbstractPOMGenMojo</code></p>\n<p>I learned that a class <code>org/wso2/maven/capp/mojo/AbstractPOMGenMojo</code> is included in  <code>org.wso2.maven/org.wso2.maven.capp/2.1.0/org.wso2.maven.capp-2.1.0.jar</code>.</p>\n<p>My pom fragment looks like:</p>\n<pre><code>  &lt;parent&gt;\n    &lt;relativePath&gt;../pom.xml&lt;/relativePath&gt;\n  &lt;/parent&gt;\n\n  &lt;packaging&gt;pom&lt;/packaging&gt;\n\n  &lt;build&gt;\n    ...\n    &lt;plugins&gt;\n      ...\n      &lt;plugin&gt;\n        &lt;groupId&gt;org.wso2.maven&lt;/groupId&gt;\n        &lt;artifactId&gt;wso2-esb-proxy-plugin&lt;/artifactId&gt;\n        &lt;version&gt;2.1.0&lt;/version&gt;\n        &lt;extensions&gt;true&lt;/extensions&gt;\n        &lt;executions&gt;\n          &lt;execution&gt;\n            &lt;id&gt;proxy&lt;/id&gt;\n            &lt;phase&gt;process-resources&lt;/phase&gt;\n            &lt;goals&gt;\n              &lt;goal&gt;pom-gen&lt;/goal&gt;\n            &lt;/goals&gt;\n            &lt;configuration&gt;\n              &lt;artifactLocation&gt;target/capp/classes&lt;/artifactLocation&gt;\n              &lt;typeList&gt;${artifact.types}&lt;/typeList&gt;\n            &lt;/configuration&gt;\n          &lt;/execution&gt;\n        &lt;/executions&gt;\n        &lt;configuration /&gt;\n        &lt;!-- here I can enable dependencies to have it working, i.e.\n          &lt;dependencies&gt;\n          &lt;dependency&gt;\n            &lt;groupId&gt;org.wso2.maven&lt;/groupId&gt;\n            &lt;artifactId&gt;org.wso2.maven.capp&lt;/artifactId&gt;\n            &lt;version&gt;2.1.0&lt;/version&gt;\n          &lt;/dependency&gt;\n          ...\n        --&gt;\n      &lt;/plugin&gt;\n    &lt;/plugins&gt;\n  &lt;/build&gt;\n\n</code></pre>\n<p>I found out that after enabling dependencies to plugin (which is put as a comment in above pom's snippet) the code seems to be compiling. I checked that wso2-esb-proxy-plugin-2.1.0.pom in my local maven repo contains:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.wso2.maven&lt;/groupId&gt;\n    &lt;artifactId&gt;org.wso2.maven.capp&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Why do I need to put <code>org.wso2.maven.capp</code> explicitly as a plugin dependency in pom to have it working? Plugin's pom file already contains the same dependency (although without version) but it seems it's not taken into account in that case.</p>\n"},{"tags":["java","maven","antlr4","open-source","jakarta-migration"],"comments":[{"owner":{"account_id":2139538,"reputation":42501,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":0,"creation_date":1676918495,"post_id":75512917,"comment_id":133230095,"body_markdown":"You can&#39;t have a single type which dynamically changes what it extends.","body":"You can&#39;t have a single type which dynamically changes what it extends."},{"owner":{"account_id":208719,"reputation":3386,"user_id":459391,"accept_rate":100,"display_name":"Sadeq Dousti"},"score":0,"creation_date":1676918706,"post_id":75512917,"comment_id":133230151,"body_markdown":"@Michael: If the source is changed before compile time (e.g., by ANTLR), is it still dynamic? For me, dynamic means the relationship is determined at runtime.","body":"@Michael: If the source is changed before compile time (e.g., by ANTLR), is it still dynamic? For me, dynamic means the relationship is determined at runtime."},{"owner":{"account_id":2139538,"reputation":42501,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":1,"creation_date":1676918812,"post_id":75512917,"comment_id":133230184,"body_markdown":"Depends what you mean by compile-time. If it&#39;s compile-time *of your library*, then ANTLR or any other library isn&#39;t able to do anything special that you couldn&#39;t write by hand. If it&#39;s compile-time of the end-user of your library, then maybe you could do something.","body":"Depends what you mean by compile-time. If it&#39;s compile-time <i>of your library</i>, then ANTLR or any other library isn&#39;t able to do anything special that you couldn&#39;t write by hand. If it&#39;s compile-time of the end-user of your library, then maybe you could do something."},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":1,"creation_date":1676920715,"post_id":75512917,"comment_id":133230653,"body_markdown":"First ANTLR is a parser generator ... and not a code generator ... furthermore based on my experience using inheritance in interfaces is a bad idea... you might define interfaces without any relationship to jakarta nor javax and provde two different implementation which use jakarata or javax... apart from that all I would decide to go only with jakarta area...(https://projects.eclipse.org/projects/ee4j.servlet JEE8) ... in particular JEE 9+","body":"First ANTLR is a parser generator ... and not a code generator ... furthermore based on my experience using inheritance in interfaces is a bad idea... you might define interfaces without any relationship to jakarta nor javax and provde two different implementation which use jakarata or javax... apart from that all I would decide to go only with jakarta area...(<a href=\"https://projects.eclipse.org/projects/ee4j.servlet\" rel=\"nofollow noreferrer\">projects.eclipse.org/projects/ee4j.servlet</a> JEE8) ... in particular JEE 9+"},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1676920805,"post_id":75512917,"comment_id":133230676,"body_markdown":"BTW: You might think of a code genertor based on templates or alike ... (very simple one: https://www.mojohaus.org/templating-maven-plugin/) or even more complex based on velocity or alike?... So you could generate two different sets of code...","body":"BTW: You might think of a code genertor based on templates or alike ... (very simple one: <a href=\"https://www.mojohaus.org/templating-maven-plugin/\" rel=\"nofollow noreferrer\">mojohaus.org/templating-maven-plugin</a>) or even more complex based on velocity or alike?... So you could generate two different sets of code..."}],"owner":{"account_id":208719,"reputation":3386,"user_id":459391,"accept_rate":100,"display_name":"Sadeq Dousti"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":435,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1676917766,"creation_date":1676917766,"question_id":75512917,"body_markdown":"I&#39;m working on an open-source library that uses `servlet-api`. Consider this simple interface:\r\n\r\n```java\r\nimport javax.servlet.Filter;\r\n\r\ninterface HttpFilter extends Filter {\r\n}\r\n```\r\n\r\nI want to generalize `HttpFilter` to extend either `javax.servlet.Filter` or `jakarta.servlet.Filter` depending on which one is on the classpath. I should stress that the library is **neither** Spring nor a Spring Boot based. \r\n\r\nThe Maven dependencies section would look like this:\r\n\r\n```xml\r\n&lt;dependencies&gt;\r\n  &lt;dependency&gt;\r\n    &lt;groupId&gt;jakarta.servlet&lt;/groupId&gt;\r\n    &lt;artifactId&gt;jakarta.servlet-api&lt;/artifactId&gt;\r\n    &lt;version&gt;6.0.0&lt;/version&gt;\r\n    &lt;scope&gt;provided&lt;/scope&gt;\r\n  &lt;/dependency&gt;\r\n\r\n  &lt;dependency&gt;\r\n    &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n    &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\r\n    &lt;version&gt;4.0.1&lt;/version&gt;\r\n    &lt;scope&gt;provided&lt;/scope&gt;\r\n  &lt;/dependency&gt;\r\n&lt;/dependencies&gt;\r\n```\r\n\r\nThere is a suggestion to use something like ANTLR 4 Maven plugin to generate sources on the fly, but I haven&#39;t done this before and don&#39;t know how complicated it is. Before doing further investment into it, I&#39;d like to hear the community&#39;s opinion as there might be even better choices.","title":"Conditional implementation of javax or jakarta servlet API depending on which is on classpath","body":"<p>I'm working on an open-source library that uses <code>servlet-api</code>. Consider this simple interface:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import javax.servlet.Filter;\n\ninterface HttpFilter extends Filter {\n}\n</code></pre>\n<p>I want to generalize <code>HttpFilter</code> to extend either <code>javax.servlet.Filter</code> or <code>jakarta.servlet.Filter</code> depending on which one is on the classpath. I should stress that the library is <strong>neither</strong> Spring nor a Spring Boot based.</p>\n<p>The Maven dependencies section would look like this:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependencies&gt;\n  &lt;dependency&gt;\n    &lt;groupId&gt;jakarta.servlet&lt;/groupId&gt;\n    &lt;artifactId&gt;jakarta.servlet-api&lt;/artifactId&gt;\n    &lt;version&gt;6.0.0&lt;/version&gt;\n    &lt;scope&gt;provided&lt;/scope&gt;\n  &lt;/dependency&gt;\n\n  &lt;dependency&gt;\n    &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n    &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\n    &lt;version&gt;4.0.1&lt;/version&gt;\n    &lt;scope&gt;provided&lt;/scope&gt;\n  &lt;/dependency&gt;\n&lt;/dependencies&gt;\n</code></pre>\n<p>There is a suggestion to use something like ANTLR 4 Maven plugin to generate sources on the fly, but I haven't done this before and don't know how complicated it is. Before doing further investment into it, I'd like to hear the community's opinion as there might be even better choices.</p>\n"},{"tags":["java","user-interface","awt"],"comments":[{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":0,"creation_date":1676917013,"post_id":75512686,"comment_id":133229706,"body_markdown":"Hello. Could you provide your reasoning behind not wanting to use textfield nor keylisteners. For now your question looks like [XY problem](https://meta.stackexchange.com/q/66377) - which may not have simple solution since you rejected them.","body":"Hello. Could you provide your reasoning behind not wanting to use textfield nor keylisteners. For now your question looks like <a href=\"https://meta.stackexchange.com/q/66377\">XY problem</a> - which may not have simple solution since you rejected them."},{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":0,"creation_date":1676917035,"post_id":75512686,"comment_id":133229712,"body_markdown":"Please use [edit] option to clarify your question.","body":"Please use <a href=\"https://stackoverflow.com/posts/75512686/edit\">edit</a> option to clarify your question."},{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":0,"creation_date":1676920353,"post_id":75512686,"comment_id":133230570,"body_markdown":"Sorry but I still am not sure how not being able to style textfield prevents you from using it to read data from user. Anyway maybe this will help [How to change text color in the JTextArea?](https://stackoverflow.com/q/9650992)","body":"Sorry but I still am not sure how not being able to style textfield prevents you from using it to read data from user. Anyway maybe this will help <a href=\"https://stackoverflow.com/q/9650992\">How to change text color in the JTextArea?</a>"},{"owner":{"account_id":27005884,"reputation":1,"user_id":20566375,"display_name":"Chromatischer"},"score":0,"creation_date":1676922696,"post_id":75512686,"comment_id":133231134,"body_markdown":"@Pshemo is there any way to make the backgrount of the input field transparent?","body":"@Pshemo is there any way to make the backgrount of the input field transparent?"},{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":1,"creation_date":1676924372,"post_id":75512686,"comment_id":133231494,"body_markdown":"Based on [Making a JTextField background transparent](https://stackoverflow.com/q/22700216) it looks like all you need is `yourJTextField.setOpaque(false);`","body":"Based on <a href=\"https://stackoverflow.com/q/22700216\">Making a JTextField background transparent</a> it looks like all you need is <code>yourJTextField.setOpaque(false);</code>"},{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":0,"creation_date":1676925050,"post_id":75512686,"comment_id":133231637,"body_markdown":"For more alternatives like [How to have a transparent JTextField?](https://stackoverflow.com/q/63417528) consider googling using query like `java swing jtextfield transparent background site:stackoverflow.com`. The `site:stackoverflow.com` part will limit all results to this site (`stackoverflow.com`)","body":"For more alternatives like <a href=\"https://stackoverflow.com/q/63417528\">How to have a transparent JTextField?</a> consider googling using query like <code>java swing jtextfield transparent background site:stackoverflow.com</code>. The <code>site:stackoverflow.com</code> part will limit all results to this site (<code>stackoverflow.com</code>)"}],"owner":{"account_id":27005884,"reputation":1,"user_id":20566375,"display_name":"Chromatischer"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676917741,"creation_date":1676915880,"question_id":75512686,"body_markdown":"I want a reliable way to get the entered text by the user as a String for further use. I do not want to use a spefcific input text field though. Using the normal KeyListener() would problably be a possibility but that is not what I want. A text input field would be unsuitable for my usecase.\r\n\r\nI do not have any code examples, because I dont have any idea, how to taccle the problem. I do not want to use the KeyListener because it does not provide a reliable way to see wether the user has stopped writing. And each key has to be programmed on its own or is it just my way of using the listener inpropally?\r\n```java\r\npublic void keyPressed(KeyEvent e) {\r\n    if (code == KeyEvent.VK_W){\r\n        upPressed = true;\r\n    }\r\n}\r\n```\r\n\r\n```java\r\npublic void keyReleased(KeyEvent e) {\r\n    if (code == KeyEvent.VK_W){\r\n        upPressed = false;\r\n    }\r\n}\r\n```\r\nand the text input fields can not be styled (if they can, I do not know how!)\r\n","title":"Get java awt user input as String using listener","body":"<p>I want a reliable way to get the entered text by the user as a String for further use. I do not want to use a spefcific input text field though. Using the normal KeyListener() would problably be a possibility but that is not what I want. A text input field would be unsuitable for my usecase.</p>\n<p>I do not have any code examples, because I dont have any idea, how to taccle the problem. I do not want to use the KeyListener because it does not provide a reliable way to see wether the user has stopped writing. And each key has to be programmed on its own or is it just my way of using the listener inpropally?</p>\n<pre class=\"lang-java prettyprint-override\"><code>public void keyPressed(KeyEvent e) {\n    if (code == KeyEvent.VK_W){\n        upPressed = true;\n    }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>public void keyReleased(KeyEvent e) {\n    if (code == KeyEvent.VK_W){\n        upPressed = false;\n    }\n}\n</code></pre>\n<p>and the text input fields can not be styled (if they can, I do not know how!)</p>\n"},{"tags":["java"],"owner":{"account_id":27835042,"reputation":1,"user_id":21252691,"display_name":"Let&#237;cia Pereira"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676917584,"creation_date":1676917584,"question_id":75512894,"body_markdown":"I&#39;m using a tool to automate an ERP-type desktop application. This tool is called &#39;power automate&#39;\r\nfrom microsoft.\r\nPart of my flow consists of selecting in a field of type &#39;comboBox&#39; just one option from a listing.\r\nThis field does not allow typing or clearing the field with the &#39;backspace&#39; or &#39;delete&#39; keys, it only allows selecting an option from the list and selecting it.\r\nIn order to select the correct option, I fill in this data in an excel cell, where it produces a variable with this information in my flow, then I map the &#39;comboBox&#39; field where I will insert the data, placing this variable as query parameter and information selection.\r\nIt happens that in some cases it works, because if in the query and search for the option in the listing in the combobox there is only the information contained in the variable, it brings the correct data by selecting it.\r\nIf among the options there are sentences similar to the data of the variable, he gets lost in the search and selects the first most similar option, and there is the complete and correct sentence in the listing that is equal to the variable.\r\nObserving, I noticed that it looks for the beginning of the sentence and compares it with the variable and if the beginning is already similar it selects it as correct, but it is not.\r\n\r\nI&#39;ll give an example:\r\n\r\n1-I have the variable varAccount with the value &#39;Company N account 999-2 BB&#39;\r\nIn the combobox I have a list with the options:\r\n&#39;Company N account 999-3 itau&#39;\r\n&#39;Company N account 199-2 Bradesco&#39;\r\n&#39;Company N account 999-2 BB&#39; (this would be the correct option)\r\n\r\nHowever, my robot selects the option: &#39;Company N account 999-3 itau&#39;, notice that the beginning of the sentence is the same as the variable.\r\n\r\n2-In case it works, I have the variable varAccount with the value &#39;Company N account 999-2 BB&#39;.\r\nIn the combobox I have a list with the options:\r\n&#39;test N account 999-3 itau&#39;\r\n&#39;Test N account 199-2 Bradesco&#39;\r\n&#39;Company N account 999-2 BB&#39; (this would be the correct option)\r\n\r\nIn this case where the other items in the list that the options are very different, he manages to locate the correct sentence of\r\naccording to the variable and select the correct option.\r\n\r\nFor that, I wanted someone to give me an idea of ​​how to automate this type of field when it comes to a desktop application.\r\n\r\nI tried to search by section, but because it is a desktop application I am more limited, as I cannot generate a selection script or capture the options and transform it into a list so that I could automate it within my tool.","title":"How to automate selecting an option in a combobox type field, where it is blocked for typing in a desktop application?","body":"<p>I'm using a tool to automate an ERP-type desktop application. This tool is called 'power automate'\nfrom microsoft.\nPart of my flow consists of selecting in a field of type 'comboBox' just one option from a listing.\nThis field does not allow typing or clearing the field with the 'backspace' or 'delete' keys, it only allows selecting an option from the list and selecting it.\nIn order to select the correct option, I fill in this data in an excel cell, where it produces a variable with this information in my flow, then I map the 'comboBox' field where I will insert the data, placing this variable as query parameter and information selection.\nIt happens that in some cases it works, because if in the query and search for the option in the listing in the combobox there is only the information contained in the variable, it brings the correct data by selecting it.\nIf among the options there are sentences similar to the data of the variable, he gets lost in the search and selects the first most similar option, and there is the complete and correct sentence in the listing that is equal to the variable.\nObserving, I noticed that it looks for the beginning of the sentence and compares it with the variable and if the beginning is already similar it selects it as correct, but it is not.</p>\n<p>I'll give an example:</p>\n<p>1-I have the variable varAccount with the value 'Company N account 999-2 BB'\nIn the combobox I have a list with the options:\n'Company N account 999-3 itau'\n'Company N account 199-2 Bradesco'\n'Company N account 999-2 BB' (this would be the correct option)</p>\n<p>However, my robot selects the option: 'Company N account 999-3 itau', notice that the beginning of the sentence is the same as the variable.</p>\n<p>2-In case it works, I have the variable varAccount with the value 'Company N account 999-2 BB'.\nIn the combobox I have a list with the options:\n'test N account 999-3 itau'\n'Test N account 199-2 Bradesco'\n'Company N account 999-2 BB' (this would be the correct option)</p>\n<p>In this case where the other items in the list that the options are very different, he manages to locate the correct sentence of\naccording to the variable and select the correct option.</p>\n<p>For that, I wanted someone to give me an idea of ​​how to automate this type of field when it comes to a desktop application.</p>\n<p>I tried to search by section, but because it is a desktop application I am more limited, as I cannot generate a selection script or capture the options and transform it into a list so that I could automate it within my tool.</p>\n"},{"tags":["java","android","xml","pdf","itext7"],"owner":{"account_id":19620010,"reputation":1,"user_id":14360673,"display_name":"AHMED ALSHABRAWY"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676917172,"creation_date":1676917172,"question_id":75512846,"body_markdown":"whin i create pdf whit java in android studio the Arabic text is hide what can i do  \r\nadd font to project bout this don&#39;t work. When trying to use the Arabic language, it is hidden","title":"How to fix Arabic when creat PDF using iText in android by java","body":"<p>whin i create pdf whit java in android studio the Arabic text is hide what can i do<br />\nadd font to project bout this don't work. When trying to use the Arabic language, it is hidden</p>\n"},{"tags":["java","android-studio","keytool"],"comments":[{"owner":{"account_id":3421244,"reputation":35863,"user_id":2868801,"display_name":"dave_thompson_085"},"score":0,"creation_date":1600860511,"post_id":64025137,"comment_id":113220025,"body_markdown":"The default in j8 was JKS, but updates from about 8u80 up (which yours is) have a feature to _read_ either JKS _or_ PKCS12 -- that&#39;s the `DualFormatJKS` in your stacktrace. j9 up defaults _writing_ to PKCS12 but reads _all_ types -- or at least all I&#39;ve tried. Can you post a hex dump of the first 16 bytes? (E.g. `od -N16 -tx1 file`.) That should be enough to identify the format without exposing any sensitive key info.","body":"The default in j8 was JKS, but updates from about 8u80 up (which yours is) have a feature to <i>read</i> either JKS <i>or</i> PKCS12 -- that&#39;s the <code>DualFormatJKS</code> in your stacktrace. j9 up defaults <i>writing</i> to PKCS12 but reads <i>all</i> types -- or at least all I&#39;ve tried. Can you post a hex dump of the first 16 bytes? (E.g. <code>od -N16 -tx1 file</code>.) That should be enough to identify the format without exposing any sensitive key info."},{"owner":{"account_id":1695345,"reputation":573,"user_id":1556814,"accept_rate":67,"display_name":"user1556814"},"score":0,"creation_date":1600930712,"post_id":64025137,"comment_id":113245617,"body_markdown":"@dave_thompson_085 Good guess! The first part of the file was empty (all 0). This was indeed a corrupted file via a Dropbox share :| Please make an answer asking to check if the first bytes are not null and I will accept it!","body":"@dave_thompson_085 Good guess! The first part of the file was empty (all 0). This was indeed a corrupted file via a Dropbox share :| Please make an answer asking to check if the first bytes are not null and I will accept it!"}],"answers":[{"tags":[],"owner":{"account_id":13684324,"reputation":1,"user_id":9873803,"display_name":"minhtu"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1651650919,"creation_date":1651650919,"answer_id":72109585,"question_id":64025137,"body_markdown":"I think I have already met this issue in the past and had to revert to an older version of the JRE to keep on opening my keystore properly (solution I am currently trying now).\r\n","title":"java.io.IOException: Invalid keystore format / Unrecognized keystore format. Please load it with a specified type, when using an old android keystore","body":"<p>I think I have already met this issue in the past and had to revert to an older version of the JRE to keep on opening my keystore properly (solution I am currently trying now).</p>\n"},{"tags":[],"owner":{"account_id":10010825,"reputation":532,"user_id":7403729,"display_name":"ritik kumar srivastava"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662919297,"creation_date":1662919297,"answer_id":73681532,"question_id":64025137,"body_markdown":"In my case I found the solution by **deleting the existing *.jks* file** in the **existing path**.\r\n\r\n**Either choose a new path to export or delete**. Before deleting I would recommend taking a backup.\r\n","title":"java.io.IOException: Invalid keystore format / Unrecognized keystore format. Please load it with a specified type, when using an old android keystore","body":"<p>In my case I found the solution by <strong>deleting the existing <em>.jks</em> file</strong> in the <strong>existing path</strong>.</p>\n<p><strong>Either choose a new path to export or delete</strong>. Before deleting I would recommend taking a backup.</p>\n"},{"tags":[],"owner":{"account_id":6361169,"reputation":2529,"user_id":4936616,"display_name":"Jose"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676916907,"creation_date":1676916907,"answer_id":75512814,"question_id":64025137,"body_markdown":"This happens due to mismatch of JDK versions. If Android studio is configured to use embedded JDK, try to use ```keytool``` that comes within this embedded JDK.  \r\n\r\ne.g.\r\n```ssh\r\n/Applications/Android\\ Studio.app/Contents/jbr/Contents/Home/bin/keytool -list -v -keystore ...\r\n```","title":"java.io.IOException: Invalid keystore format / Unrecognized keystore format. Please load it with a specified type, when using an old android keystore","body":"<p>This happens due to mismatch of JDK versions. If Android studio is configured to use embedded JDK, try to use <code>keytool</code> that comes within this embedded JDK.</p>\n<p>e.g.</p>\n<pre><code>/Applications/Android\\ Studio.app/Contents/jbr/Contents/Home/bin/keytool -list -v -keystore ...\n</code></pre>\n"}],"owner":{"account_id":1695345,"reputation":573,"user_id":1556814,"accept_rate":67,"display_name":"user1556814"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":5200,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1676916907,"creation_date":1600853984,"question_id":64025137,"body_markdown":"I tried to sign an old Android application with Android Studio 4.0.1 (which I successfully signed say, 1 year ago) and it seems the keystore cannot be open anymore.\r\nI checked the credentials carefully but I don&#39;t think it comes from that.\r\nI also checked the various answers with &quot;Invalid keystore format&quot; on the Internet but get no luck here.\r\n\r\nThe android JRE raises this error:\r\n```\r\n$ /Applications/Android\\ Studio.app/Contents/jre/jdk/Contents/Home/jre/bin/keytool -list -keystore android.keystore -v\r\nerreur keytool : java.io.IOException: Invalid keystore format\r\njava.io.IOException: Invalid keystore format\r\n\tat sun.security.provider.JavaKeyStore.engineLoad(JavaKeyStore.java:663)\r\n\tat sun.security.provider.JavaKeyStore$JKS.engineLoad(JavaKeyStore.java:56)\r\n\tat sun.security.provider.KeyStoreDelegator.engineLoad(KeyStoreDelegator.java:224)\r\n\tat sun.security.provider.JavaKeyStore$DualFormatJKS.engineLoad(JavaKeyStore.java:70)\r\n\tat java.security.KeyStore.load(KeyStore.java:1445)\r\n\tat sun.security.tools.keytool.Main.doCommands(Main.java:823)\r\n\tat sun.security.tools.keytool.Main.run(Main.java:366)\r\n\tat sun.security.tools.keytool.Main.main(Main.java:359)\r\n\r\n$ /Applications/Android\\ Studio.app/Contents/jre/jdk/Contents/Home/jre/bin/java -version\r\nopenjdk version &quot;1.8.0_242-release&quot;\r\nOpenJDK Runtime Environment (build 1.8.0_242-release-1644-b3-6222593)\r\nOpenJDK 64-Bit Server VM (build 25.242-b3-6222593, mixed mode)\r\n```\r\n\r\nIt is quite the same message with the OS one:\r\n```\r\n$ keytool -list -keystore android.keystore -v\r\nkeytool error: java.security.KeyStoreException: Unrecognized keystore format. Please load it with a specified type\r\njava.security.KeyStoreException: Unrecognized keystore format. Please load it with a specified type\r\n\tat java.base/java.security.KeyStore.getInstance(KeyStore.java:1809)\r\n\tat java.base/java.security.KeyStore.getInstance(KeyStore.java:1680)\r\n\tat java.base/sun.security.tools.keytool.Main.doCommands(Main.java:936)\r\n\tat java.base/sun.security.tools.keytool.Main.run(Main.java:417)\r\n\tat java.base/sun.security.tools.keytool.Main.main(Main.java:410)\r\n\r\n$ java --version\r\nopenjdk 14.0.2 2020-07-14\r\nOpenJDK Runtime Environment (build 14.0.2+12-46)\r\nOpenJDK 64-Bit Server VM (build 14.0.2+12-46, mixed mode, sharing)\r\n```\r\n\r\nI think I have already met this issue in the past and had to revert to an older version of the JRE to keep on opening my keystore properly (solution I am currently trying now).\r\n\r\n- Is this a question of default algorithm that changed between versions? If yes, how can I check my keystore is still valid and that I use a correct algorithm (since I did not create it unfortunately)?\r\n- Do I need to migrate the keystore somehow?","title":"java.io.IOException: Invalid keystore format / Unrecognized keystore format. Please load it with a specified type, when using an old android keystore","body":"<p>I tried to sign an old Android application with Android Studio 4.0.1 (which I successfully signed say, 1 year ago) and it seems the keystore cannot be open anymore.\nI checked the credentials carefully but I don't think it comes from that.\nI also checked the various answers with &quot;Invalid keystore format&quot; on the Internet but get no luck here.</p>\n<p>The android JRE raises this error:</p>\n<pre><code>$ /Applications/Android\\ Studio.app/Contents/jre/jdk/Contents/Home/jre/bin/keytool -list -keystore android.keystore -v\nerreur keytool : java.io.IOException: Invalid keystore format\njava.io.IOException: Invalid keystore format\n    at sun.security.provider.JavaKeyStore.engineLoad(JavaKeyStore.java:663)\n    at sun.security.provider.JavaKeyStore$JKS.engineLoad(JavaKeyStore.java:56)\n    at sun.security.provider.KeyStoreDelegator.engineLoad(KeyStoreDelegator.java:224)\n    at sun.security.provider.JavaKeyStore$DualFormatJKS.engineLoad(JavaKeyStore.java:70)\n    at java.security.KeyStore.load(KeyStore.java:1445)\n    at sun.security.tools.keytool.Main.doCommands(Main.java:823)\n    at sun.security.tools.keytool.Main.run(Main.java:366)\n    at sun.security.tools.keytool.Main.main(Main.java:359)\n\n$ /Applications/Android\\ Studio.app/Contents/jre/jdk/Contents/Home/jre/bin/java -version\nopenjdk version &quot;1.8.0_242-release&quot;\nOpenJDK Runtime Environment (build 1.8.0_242-release-1644-b3-6222593)\nOpenJDK 64-Bit Server VM (build 25.242-b3-6222593, mixed mode)\n</code></pre>\n<p>It is quite the same message with the OS one:</p>\n<pre><code>$ keytool -list -keystore android.keystore -v\nkeytool error: java.security.KeyStoreException: Unrecognized keystore format. Please load it with a specified type\njava.security.KeyStoreException: Unrecognized keystore format. Please load it with a specified type\n    at java.base/java.security.KeyStore.getInstance(KeyStore.java:1809)\n    at java.base/java.security.KeyStore.getInstance(KeyStore.java:1680)\n    at java.base/sun.security.tools.keytool.Main.doCommands(Main.java:936)\n    at java.base/sun.security.tools.keytool.Main.run(Main.java:417)\n    at java.base/sun.security.tools.keytool.Main.main(Main.java:410)\n\n$ java --version\nopenjdk 14.0.2 2020-07-14\nOpenJDK Runtime Environment (build 14.0.2+12-46)\nOpenJDK 64-Bit Server VM (build 14.0.2+12-46, mixed mode, sharing)\n</code></pre>\n<p>I think I have already met this issue in the past and had to revert to an older version of the JRE to keep on opening my keystore properly (solution I am currently trying now).</p>\n<ul>\n<li>Is this a question of default algorithm that changed between versions? If yes, how can I check my keystore is still valid and that I use a correct algorithm (since I did not create it unfortunately)?</li>\n<li>Do I need to migrate the keystore somehow?</li>\n</ul>\n"},{"tags":["java","spring","spring-boot","web-services","spring-ws"],"comments":[{"owner":{"account_id":15102634,"reputation":338,"user_id":10899197,"display_name":"Tr1monster"},"score":0,"creation_date":1676882476,"post_id":75390556,"comment_id":133219895,"body_markdown":"I dont know how your WSDL is loaded, but maybe it is possible to write two spring profiles. You could set different web server ports in this profiles and specifiy the wsdl locations. Than you can start your application twice on your VM. Of course you need routing and load balancing. Maybe take a look at spring-cloud-gateway. They have relative easy path rewrite functions. And the resource consumption is higher e.g. DB connections pools, memmory. etc.","body":"I dont know how your WSDL is loaded, but maybe it is possible to write two spring profiles. You could set different web server ports in this profiles and specifiy the wsdl locations. Than you can start your application twice on your VM. Of course you need routing and load balancing. Maybe take a look at spring-cloud-gateway. They have relative easy path rewrite functions. And the resource consumption is higher e.g. DB connections pools, memmory. etc."}],"owner":{"account_id":1693760,"reputation":9824,"user_id":1555615,"accept_rate":62,"display_name":"Marinos An"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":218,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1676916862,"creation_date":1675883000,"question_id":75390556,"body_markdown":"I am using Spring-boot to create 2 Webservice endpoints.\r\n\r\nOne with the current version of my webservice and one with the previous one. I have generated the mapping classes of each webservice version under different packages, but the wsdl namespace and operations defined by the current and previous versions are the same.\r\n\r\nThis seems to be the reason for the error I get: \r\n\r\n    Cannot map endpoint on registration key [{urn:x.y.z}Req] there&#39;s already endpoint\r\n\r\nwhich according to the stacktrace is caused by [spring&#39;s AbstractMapBasedEndpointMapping.registerEndpoint()](https://github.com/spring-projects/spring-ws/blob/v3.1.5/spring-ws-core/src/main/java/org/springframework/ws/server/endpoint/mapping/AbstractMapBasedEndpointMapping.java#L136) when trying to register the second endpoint, because the registration key (generated by the namespace / operation combination) is the same.\r\n\r\nWhat would be a workaround on the above issue? I want to run both endpoints on the same VM.\r\n\r\n","title":"spring-ws: &quot;Cannot map endpoint on registration key [{urn:x.y.z}Req] there&#39;s already endpoint&quot; while trying to create current and legacy ws endpoints","body":"<p>I am using Spring-boot to create 2 Webservice endpoints.</p>\n<p>One with the current version of my webservice and one with the previous one. I have generated the mapping classes of each webservice version under different packages, but the wsdl namespace and operations defined by the current and previous versions are the same.</p>\n<p>This seems to be the reason for the error I get:</p>\n<pre><code>Cannot map endpoint on registration key [{urn:x.y.z}Req] there's already endpoint\n</code></pre>\n<p>which according to the stacktrace is caused by <a href=\"https://github.com/spring-projects/spring-ws/blob/v3.1.5/spring-ws-core/src/main/java/org/springframework/ws/server/endpoint/mapping/AbstractMapBasedEndpointMapping.java#L136\" rel=\"nofollow noreferrer\">spring's AbstractMapBasedEndpointMapping.registerEndpoint()</a> when trying to register the second endpoint, because the registration key (generated by the namespace / operation combination) is the same.</p>\n<p>What would be a workaround on the above issue? I want to run both endpoints on the same VM.</p>\n"},{"tags":["java","firebase","firebase-authentication","firebase-cloud-messaging","firebase-admin"],"owner":{"account_id":14290720,"reputation":1,"user_id":10322777,"display_name":"Rohan Menon"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":128,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676916587,"creation_date":1676916587,"question_id":75512775,"body_markdown":"I am currently using the Firebase Admin SDK in Java to send out push notifications to mobile devices. While deploying our application, our org needs the exact endpoints the AdminSDK is hitting for getting the token, subscribing token to topic and send the meesage. I tried going through the docs but everywhere there are only two solutions mentioned :\r\n\r\nWhitelisting the IP range (which would not be feasible for our org) OR\r\nDirectly whitelist the entire domain name like fcm.googleapis.com which doesn&#39;t look good from a security endpoint. Is there a way in which we can find out what exact endpoint AdminSDK hits? Are these endpoints going to change? What would the best solution in this scenario be? I have already gone through the DOCs of firebase for ports and firewall but couldn&#39;t find anything useful.","title":"Endpoints for Firewall/Whitelisting for Firebase Admin SDK in Java","body":"<p>I am currently using the Firebase Admin SDK in Java to send out push notifications to mobile devices. While deploying our application, our org needs the exact endpoints the AdminSDK is hitting for getting the token, subscribing token to topic and send the meesage. I tried going through the docs but everywhere there are only two solutions mentioned :</p>\n<p>Whitelisting the IP range (which would not be feasible for our org) OR\nDirectly whitelist the entire domain name like fcm.googleapis.com which doesn't look good from a security endpoint. Is there a way in which we can find out what exact endpoint AdminSDK hits? Are these endpoints going to change? What would the best solution in this scenario be? I have already gone through the DOCs of firebase for ports and firewall but couldn't find anything useful.</p>\n"},{"tags":["java","tomcat","sdk","liferay","portlet"],"answers":[{"tags":[],"owner":{"account_id":7701,"reputation":47163,"user_id":13447,"accept_rate":100,"display_name":"Olaf Kock"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676916038,"creation_date":1676916038,"answer_id":75512710,"question_id":75512518,"body_markdown":"You tag Liferay, which does (in versions 7.x) no longer deploy webapps to tomcat, but to its internal OSGi runtime.\r\n\r\nYou can use gogo shell to uninstall, or just redeploy the updated plugins again (through Liferay&#39;s `deploy` directory)","title":"Tomcat bootstrap behavior","body":"<p>You tag Liferay, which does (in versions 7.x) no longer deploy webapps to tomcat, but to its internal OSGi runtime.</p>\n<p>You can use gogo shell to uninstall, or just redeploy the updated plugins again (through Liferay's <code>deploy</code> directory)</p>\n"}],"owner":{"account_id":8202267,"reputation":13,"user_id":6173227,"display_name":"ilgtech"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1676916038,"creation_date":1676914676,"question_id":75512518,"body_markdown":"\r\nI have a tomcat server that boots up and runs customized webapps. I&#39;ve updated some supporting sdk&#39;s and tried updating said SDK&#39;s. It&#39;s obviously unzipping a web archive file somewhere and I can&#39;t for the life of me find that .war file. If I delete the tomcat/work and tomcat/temp folders, &quot;replace&quot; the old webapp/portlet-folder-name/WEB-INF/lib with a new lib folder that has my new SDK&#39;s only and start up the server again. Once I go back to webapp/portlet-folder-name/WEB-INF/lib.. It has my new SKD&#39;s and the old ones too.\r\n\r\nIt&#39;s driving me bonkers because I know I need to update the SDK&#39;s in the .war file. But I can&#39;t find where the heck the .war file is. I&#39;ve looked in every directory in the server. Is there some kind of way that would allow me to find out how and where that server is unpacking that archived file/or folder? I&#39;m stumped.\r\n","title":"Tomcat bootstrap behavior","body":"<p>I have a tomcat server that boots up and runs customized webapps. I've updated some supporting sdk's and tried updating said SDK's. It's obviously unzipping a web archive file somewhere and I can't for the life of me find that .war file. If I delete the tomcat/work and tomcat/temp folders, &quot;replace&quot; the old webapp/portlet-folder-name/WEB-INF/lib with a new lib folder that has my new SDK's only and start up the server again. Once I go back to webapp/portlet-folder-name/WEB-INF/lib.. It has my new SKD's and the old ones too.</p>\n<p>It's driving me bonkers because I know I need to update the SDK's in the .war file. But I can't find where the heck the .war file is. I've looked in every directory in the server. Is there some kind of way that would allow me to find out how and where that server is unpacking that archived file/or folder? I'm stumped.</p>\n"},{"tags":["java","spring-boot","spring-data-jpa","spring-data-rest"],"comments":[{"owner":{"account_id":24889197,"reputation":26,"user_id":18761405,"display_name":"stealthoust"},"score":0,"creation_date":1676917015,"post_id":75512691,"comment_id":133229707,"body_markdown":"@K.Nicholas\nTask entity. The ManyToOne annotation with the JoinColumn annotation is used on the Task entity to create the relationship to the Status entity. This means that the foreign key to the Status table will be stored in the Task table.","body":"@K.Nicholas Task entity. The ManyToOne annotation with the JoinColumn annotation is used on the Task entity to create the relationship to the Status entity. This means that the foreign key to the Status table will be stored in the Task table."},{"owner":{"account_id":24889197,"reputation":26,"user_id":18761405,"display_name":"stealthoust"},"score":0,"creation_date":1676918461,"post_id":75512691,"comment_id":133230090,"body_markdown":"I change the logic of method\n\n\n`@Transactional\n    public Task updateTaskStatus(int taskId,int statusId){\n        Task task=taskRepository.findById(taskId).orElseThrow(() -&gt; new ResourceNotFoundException(&quot;Task not found&quot;));\n        Status status=statusRepository.findById(statusId).orElseThrow(() -&gt; new ResourceNotFoundException(&quot;Status not found&quot;));\n        task.setStatus(status);\n        status.getTasks().add(task);\n        statusRepository.save(status);\n        return task;\n    }`\n\n\nAnd that works","body":"I change the logic of method   <code>@Transactional     public Task updateTaskStatus(int taskId,int statusId){         Task task=taskRepository.findById(taskId).orElseThrow(() -&gt; new ResourceNotFoundException(&quot;Task not found&quot;));         Status status=statusRepository.findById(statusId).orElseThrow(() -&gt; new ResourceNotFoundException(&quot;Status not found&quot;));         task.setStatus(status);         status.getTasks().add(task);         statusRepository.save(status);         return task;     }</code>   And that works"},{"owner":{"account_id":4688171,"reputation":11056,"user_id":3795036,"accept_rate":88,"display_name":"K.Nicholas"},"score":0,"creation_date":1676918528,"post_id":75512691,"comment_id":133230105,"body_markdown":"That would be the &quot;You can persist it yourself&quot; solution.","body":"That would be the &quot;You can persist it yourself&quot; solution."},{"owner":{"account_id":24889197,"reputation":26,"user_id":18761405,"display_name":"stealthoust"},"score":0,"creation_date":1676918783,"post_id":75512691,"comment_id":133230171,"body_markdown":"So how can i improve this code?","body":"So how can i improve this code?"},{"owner":{"account_id":4688171,"reputation":11056,"user_id":3795036,"accept_rate":88,"display_name":"K.Nicholas"},"score":0,"creation_date":1676919746,"post_id":75512691,"comment_id":133230427,"body_markdown":"Is `@ManyToOne` FetchType.Eager or Lazy? If it&#39;s eager, why are you fetching it yourself?","body":"Is <code>@ManyToOne</code> FetchType.Eager or Lazy? If it&#39;s eager, why are you fetching it yourself?"}],"owner":{"account_id":24889197,"reputation":26,"user_id":18761405,"display_name":"stealthoust"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":523,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676915901,"creation_date":1676915901,"question_id":75512691,"body_markdown":"I am trying to change the task status (there are 3 permanent tasks in the database: To do, In progress, Done).\r\nI tried to use Spring Data JPA&#39;s built-in REST and the patch method but it doesn&#39;t work\r\n\r\n[![enter image description here][1]][1]\r\n\r\nThe next step was to do the logic manually:\r\n\r\n**TaskServiceImpl**\r\n```\r\n@Service\r\n@AllArgsConstructor\r\npublic class TaskServiceImpl {\r\n\r\n    private TaskRepository taskRepository;\r\n    private StatusRepository statusRepository;\r\n\r\n    @Transactional\r\n    public Task updateTaskStatus(int taskId,int statusId){\r\n        Task task=taskRepository.findById(taskId).orElseThrow(() -&gt; new ResourceNotFoundException(&quot;Task not found&quot;));\r\n        Status status=statusRepository.findById(statusId).orElseThrow(() -&gt; new ResourceNotFoundException(&quot;Status not found&quot;));\r\n        task.setStatus(status);\r\n        taskRepository.save(task);\r\n        return task;\r\n    }\r\n\r\n}\r\n```\r\n**TaskController**\r\n\r\n```\r\n@RestController\r\n@RequestMapping(&quot;/api/tasks&quot;)\r\n@AllArgsConstructor\r\n@CrossOrigin(origins = &quot;http://localhost:4200&quot;)\r\npublic class TaskController {\r\n\r\n    private final TaskServiceImpl taskService;\r\n\r\n    @PatchMapping(&quot;/update/{id}&quot;)\r\n    public ResponseEntity&lt;Task&gt; updateTaskStatus(@PathVariable(&quot;id&quot;) int id, @RequestBody Map&lt;String, Integer&gt; status) {\r\n        taskService.updateTaskStatus(id, status.get(&quot;status&quot;));\r\n        return ResponseEntity.ok().build();\r\n    }\r\n\r\n}\r\n```\r\nbut still the task has not changed status.\r\n\r\n**Task entity**\r\n```\r\nimport jakarta.persistence.*;\r\nimport lombok.Getter;\r\nimport lombok.Setter;\r\n\r\n@Entity\r\n@Table\r\n@Getter\r\n@Setter\r\npublic class Task {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private int id;\r\n\r\n    private String name;\r\n\r\n    @ManyToOne\r\n    @JoinColumn(name = &quot;user_id&quot;)\r\n    private User user;\r\n\r\n    @ManyToOne\r\n    @JoinColumn(name = &quot;project_id&quot;, nullable = false)\r\n    private Project project;\r\n\r\n\r\n    @ManyToOne\r\n    @JoinColumn(name = &quot;status_id&quot;, nullable = false)\r\n    private Status status;\r\n\r\n}\r\n```\r\n**Status entity**\r\n```\r\npackage com.example.todo.entity;\r\n\r\nimport jakarta.persistence.*;\r\nimport lombok.Getter;\r\nimport lombok.Setter;\r\n\r\nimport java.util.HashSet;\r\nimport java.util.Set;\r\n\r\n@Entity\r\n@Table\r\n@Getter\r\n@Setter\r\npublic class Status {\r\n    @Id\r\n    @GeneratedValue(strategy= GenerationType.IDENTITY)\r\n    private int id;\r\n\r\n    @Column(name = &quot;name&quot;)\r\n    private String name;\r\n\r\n    @OneToMany(mappedBy = &quot;status&quot;,cascade = {CascadeType.DETACH, CascadeType.MERGE, CascadeType.PERSIST, CascadeType.REFRESH})\r\n    private Set&lt;Task&gt; tasks=new HashSet&lt;&gt;();\r\n\r\n    public void addTask(Task task){\r\n        if(task!=null){\r\n            if(tasks==null) tasks=new HashSet&lt;&gt;();\r\n            tasks.add(task);\r\n            task.setStatus(this);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/pklwk.png\r\n\r\nI looked for a solution in similar posts but nothing helped me","title":"Update field in @ManyToOne relationship using Spring Data JPA","body":"<p>I am trying to change the task status (there are 3 permanent tasks in the database: To do, In progress, Done).\nI tried to use Spring Data JPA's built-in REST and the patch method but it doesn't work</p>\n<p><a href=\"https://i.stack.imgur.com/pklwk.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/pklwk.png\" alt=\"enter image description here\" /></a></p>\n<p>The next step was to do the logic manually:</p>\n<p><strong>TaskServiceImpl</strong></p>\n<pre><code>@Service\n@AllArgsConstructor\npublic class TaskServiceImpl {\n\n    private TaskRepository taskRepository;\n    private StatusRepository statusRepository;\n\n    @Transactional\n    public Task updateTaskStatus(int taskId,int statusId){\n        Task task=taskRepository.findById(taskId).orElseThrow(() -&gt; new ResourceNotFoundException(&quot;Task not found&quot;));\n        Status status=statusRepository.findById(statusId).orElseThrow(() -&gt; new ResourceNotFoundException(&quot;Status not found&quot;));\n        task.setStatus(status);\n        taskRepository.save(task);\n        return task;\n    }\n\n}\n</code></pre>\n<p><strong>TaskController</strong></p>\n<pre><code>@RestController\n@RequestMapping(&quot;/api/tasks&quot;)\n@AllArgsConstructor\n@CrossOrigin(origins = &quot;http://localhost:4200&quot;)\npublic class TaskController {\n\n    private final TaskServiceImpl taskService;\n\n    @PatchMapping(&quot;/update/{id}&quot;)\n    public ResponseEntity&lt;Task&gt; updateTaskStatus(@PathVariable(&quot;id&quot;) int id, @RequestBody Map&lt;String, Integer&gt; status) {\n        taskService.updateTaskStatus(id, status.get(&quot;status&quot;));\n        return ResponseEntity.ok().build();\n    }\n\n}\n</code></pre>\n<p>but still the task has not changed status.</p>\n<p><strong>Task entity</strong></p>\n<pre><code>import jakarta.persistence.*;\nimport lombok.Getter;\nimport lombok.Setter;\n\n@Entity\n@Table\n@Getter\n@Setter\npublic class Task {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private int id;\n\n    private String name;\n\n    @ManyToOne\n    @JoinColumn(name = &quot;user_id&quot;)\n    private User user;\n\n    @ManyToOne\n    @JoinColumn(name = &quot;project_id&quot;, nullable = false)\n    private Project project;\n\n\n    @ManyToOne\n    @JoinColumn(name = &quot;status_id&quot;, nullable = false)\n    private Status status;\n\n}\n</code></pre>\n<p><strong>Status entity</strong></p>\n<pre><code>package com.example.todo.entity;\n\nimport jakarta.persistence.*;\nimport lombok.Getter;\nimport lombok.Setter;\n\nimport java.util.HashSet;\nimport java.util.Set;\n\n@Entity\n@Table\n@Getter\n@Setter\npublic class Status {\n    @Id\n    @GeneratedValue(strategy= GenerationType.IDENTITY)\n    private int id;\n\n    @Column(name = &quot;name&quot;)\n    private String name;\n\n    @OneToMany(mappedBy = &quot;status&quot;,cascade = {CascadeType.DETACH, CascadeType.MERGE, CascadeType.PERSIST, CascadeType.REFRESH})\n    private Set&lt;Task&gt; tasks=new HashSet&lt;&gt;();\n\n    public void addTask(Task task){\n        if(task!=null){\n            if(tasks==null) tasks=new HashSet&lt;&gt;();\n            tasks.add(task);\n            task.setStatus(this);\n        }\n    }\n}\n</code></pre>\n<p>I looked for a solution in similar posts but nothing helped me</p>\n"},{"tags":["java","file","directory","path"],"comments":[{"owner":{"account_id":14433834,"reputation":1458,"user_id":10426405,"display_name":"bsheps"},"score":0,"creation_date":1676950356,"post_id":75512374,"comment_id":133235557,"body_markdown":"Please include the rest of the code, including the MainDriver code.","body":"Please include the rest of the code, including the MainDriver code."}],"owner":{"account_id":27834746,"reputation":1,"user_id":21252473,"display_name":"Loot_"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676915823,"creation_date":1676913636,"question_id":75512374,"body_markdown":"I&#39;m doing a project in my programming class where we need to read a test file, then create a new file with certain data about the text file in question, and out professor gave us some sample code to start our project. My question is how dose this code create the address to my test file, as I&#39;ve tried other methods to try to make it more efficient, but i haven&#39;t come to a conclusion on how he&#39;s doing it in the sample.\r\n\r\n```java\r\n// seems to get the address up to the text file\r\nvar path = new File(MainDriver.class.getProtectionDomain().getCodeSource()\r\n\t\t\t\t.getLocation().toURI().getPath()).toString();\r\n\r\n// appends the name of the text file to the end of the address\r\nvar fullpath = Paths.get(path, &quot;tab.txt&quot;).toString();\r\n```","title":"How dose this create a file adress to my tab.txt","body":"<p>I'm doing a project in my programming class where we need to read a test file, then create a new file with certain data about the text file in question, and out professor gave us some sample code to start our project. My question is how dose this code create the address to my test file, as I've tried other methods to try to make it more efficient, but i haven't come to a conclusion on how he's doing it in the sample.</p>\n<pre class=\"lang-java prettyprint-override\"><code>// seems to get the address up to the text file\nvar path = new File(MainDriver.class.getProtectionDomain().getCodeSource()\n                .getLocation().toURI().getPath()).toString();\n\n// appends the name of the text file to the end of the address\nvar fullpath = Paths.get(path, &quot;tab.txt&quot;).toString();\n</code></pre>\n"},{"tags":["java","spring","rx-java","reactive-programming","project-reactor"],"answers":[{"tags":[],"owner":{"account_id":357255,"reputation":20888,"user_id":697313,"display_name":"Yaroslav Stavnichiy"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1484732678,"creation_date":1484729734,"answer_id":41714964,"question_id":41708207,"body_markdown":"`reactor.fn.Consumer` is replaced by Java 8 `java.util.function.Consumer`.\r\n\r\nAs for `RingBufferProcessor` you have to pick one of [new processors][1] all using ring buffer.\r\n\r\n`Dispatcher`s are now [Schedulers][2] that use Java&#39;s `Executor`s under the hood.\r\n\r\n\r\n  [1]: https://github.com/reactor/reactor-core#hot-publishing--processors\r\n  [2]: http://projectreactor.io/docs/core/release/api/reactor/core/scheduler/Schedulers.html","title":"Upgrading io.projectreactor version from 2.0.x to 3.0.4 - Using Spring framework","body":"<p><code>reactor.fn.Consumer</code> is replaced by Java 8 <code>java.util.function.Consumer</code>.</p>\n\n<p>As for <code>RingBufferProcessor</code> you have to pick one of <a href=\"https://github.com/reactor/reactor-core#hot-publishing--processors\" rel=\"nofollow noreferrer\">new processors</a> all using ring buffer.</p>\n\n<p><code>Dispatcher</code>s are now <a href=\"http://projectreactor.io/docs/core/release/api/reactor/core/scheduler/Schedulers.html\" rel=\"nofollow noreferrer\">Schedulers</a> that use Java's <code>Executor</code>s under the hood.</p>\n"},{"tags":[],"owner":{"account_id":4507607,"reputation":1549,"user_id":3664574,"accept_rate":80,"display_name":"Aviad"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1676915728,"creation_date":1484756785,"answer_id":41724503,"question_id":41708207,"body_markdown":"    reactor.rx.Stream -&gt; reactor.core.publisher.Flux\r\n    reactor.rx.Streams -&gt; reactor.core.publisher.Flux\r\n    reactor.rx.Promise -&gt; reactor.core.publisher.Mono and reactor.core.publisher.MonoProcessor\r\n    reactor.core.processor.RingBufferProcessor -&gt; reactor.core.publisher.TopicProcessor\r\n    reactor.fn.Consumer -&gt; java.util.function.Consumer (Java 8)\r\n\r\nThere is no new spring module since spring 5 directly includes Reactor support with these new types.\r\n\r\nAs for reactor-bus :\r\nBy design now all stream routes (Flux/Mono chains) are typed, so dynamic routing is not part of our features yet. Still there are alternative in a typed way, for instance :\r\n\r\n    ReplayProcessor&lt;MyEvent&gt; rp = ReplayProcessor.create();\r\n    Flux&lt;MyEvent&gt; interest1 = rp.filter(ev -&gt; filterInterest1(ev));\r\n    Flux&lt;MyEvent&gt; interest2 = rp.filter(ev -&gt; filterInterest2(ev));\r\n    Flux&lt;MyEvent&gt; interest1_2 = rp.filter(ev -&gt; filterInterest1(ev) || filterInterest2(ev));\r\n    \r\n    interest1.subscribe(doSomethingForInterest1);\r\n    interest2.subscribe(doSomethingForInterest2);\r\n    interest1_2.subscribe(doSomethingForInterest1_2);\r\n    \r\n    rp.onNext(new MyEvent(&quot;interest1&quot;)); //subscriber 1 and 3 react\r\n    rp.onNext(new MyEvent(&quot;interest1&quot;)); //subscriber 1 and 3 react\r\n    rp.onNext(new MyEvent(&quot;interest2&quot;)); //subscriber 2 and 3 react\r\n    rp.onNext(new MyEvent(&quot;interest4&quot;)); // buffered until interest subscriber because ReplayProcessor\r\n    \r\n    //shutdown/cleanup/close\r\n    rp.onComplete();\r\n\r\nI have found this on github which seems to fit your needs\r\n","title":"Upgrading io.projectreactor version from 2.0.x to 3.0.4 - Using Spring framework","body":"<pre><code>reactor.rx.Stream -&gt; reactor.core.publisher.Flux\nreactor.rx.Streams -&gt; reactor.core.publisher.Flux\nreactor.rx.Promise -&gt; reactor.core.publisher.Mono and reactor.core.publisher.MonoProcessor\nreactor.core.processor.RingBufferProcessor -&gt; reactor.core.publisher.TopicProcessor\nreactor.fn.Consumer -&gt; java.util.function.Consumer (Java 8)\n</code></pre>\n<p>There is no new spring module since spring 5 directly includes Reactor support with these new types.</p>\n<p>As for reactor-bus :\nBy design now all stream routes (Flux/Mono chains) are typed, so dynamic routing is not part of our features yet. Still there are alternative in a typed way, for instance :</p>\n<pre><code>ReplayProcessor&lt;MyEvent&gt; rp = ReplayProcessor.create();\nFlux&lt;MyEvent&gt; interest1 = rp.filter(ev -&gt; filterInterest1(ev));\nFlux&lt;MyEvent&gt; interest2 = rp.filter(ev -&gt; filterInterest2(ev));\nFlux&lt;MyEvent&gt; interest1_2 = rp.filter(ev -&gt; filterInterest1(ev) || filterInterest2(ev));\n\ninterest1.subscribe(doSomethingForInterest1);\ninterest2.subscribe(doSomethingForInterest2);\ninterest1_2.subscribe(doSomethingForInterest1_2);\n\nrp.onNext(new MyEvent(&quot;interest1&quot;)); //subscriber 1 and 3 react\nrp.onNext(new MyEvent(&quot;interest1&quot;)); //subscriber 1 and 3 react\nrp.onNext(new MyEvent(&quot;interest2&quot;)); //subscriber 2 and 3 react\nrp.onNext(new MyEvent(&quot;interest4&quot;)); // buffered until interest subscriber because ReplayProcessor\n\n//shutdown/cleanup/close\nrp.onComplete();\n</code></pre>\n<p>I have found this on github which seems to fit your needs</p>\n"}],"owner":{"account_id":10053898,"reputation":43,"user_id":7432784,"display_name":"Adam Berlin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1867,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":41724503,"answer_count":2,"score":4,"last_activity_date":1676915728,"creation_date":1484692280,"question_id":41708207,"body_markdown":"I have an issue while trying to make the upgrade.\r\n\r\nCurrently i&#39;m using version 2.0.x, and in particular -\r\n\r\n    reactor.bus\r\n    reactor.rx.Stream\r\n    reactor.rx.Streams\r\n    reactor.core.processor.RingBufferProcessor\r\n    reactor.fn.Consumer\r\n\r\nI&#39;m using maven, and i have a single dependency regarding &#39;projectreactor&#39; -\r\n\r\n    &lt;groupId&gt;io.projectreactor.spring&lt;/groupId&gt;\r\n    &lt;artifactId&gt;reactor-spring-core&lt;/artifactId&gt;\r\n\r\nWhen upgrading to version 3.0.4.RELEASE, in order to keep using all the things i used before, i need to explicitly import -\r\n\r\n    &lt;groupId&gt;io.projectreactor&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;reactor-bus&lt;/artifactId&gt;\r\nAnd\r\n\r\n\t&lt;groupId&gt;io.projectreactor&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;reactor-stream&lt;/artifactId&gt;\r\n\r\nbut i&#39;m still missing\r\n\r\n    reactor.core.processor.RingBufferProcessor\r\n    reactor.fn.Consumer\r\n\r\nand i&#39;m not sure what to do.","title":"Upgrading io.projectreactor version from 2.0.x to 3.0.4 - Using Spring framework","body":"<p>I have an issue while trying to make the upgrade.</p>\n\n<p>Currently i'm using version 2.0.x, and in particular -</p>\n\n<pre><code>reactor.bus\nreactor.rx.Stream\nreactor.rx.Streams\nreactor.core.processor.RingBufferProcessor\nreactor.fn.Consumer\n</code></pre>\n\n<p>I'm using maven, and i have a single dependency regarding 'projectreactor' -</p>\n\n<pre><code>&lt;groupId&gt;io.projectreactor.spring&lt;/groupId&gt;\n&lt;artifactId&gt;reactor-spring-core&lt;/artifactId&gt;\n</code></pre>\n\n<p>When upgrading to version 3.0.4.RELEASE, in order to keep using all the things i used before, i need to explicitly import -</p>\n\n<pre><code>&lt;groupId&gt;io.projectreactor&lt;/groupId&gt;\n&lt;artifactId&gt;reactor-bus&lt;/artifactId&gt;\n</code></pre>\n\n<p>And</p>\n\n<pre><code>&lt;groupId&gt;io.projectreactor&lt;/groupId&gt;\n&lt;artifactId&gt;reactor-stream&lt;/artifactId&gt;\n</code></pre>\n\n<p>but i'm still missing</p>\n\n<pre><code>reactor.core.processor.RingBufferProcessor\nreactor.fn.Consumer\n</code></pre>\n\n<p>and i'm not sure what to do.</p>\n"},{"tags":["java","authentication","spring-security","jwt","access-token"],"answers":[{"tags":[],"owner":{"account_id":13469946,"reputation":1,"user_id":9718846,"display_name":"Beaugrand Charly"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676915607,"creation_date":1676915607,"answer_id":75512649,"question_id":75038867,"body_markdown":"If you look closely at your logs, you&#39;ll see something like this: java.lang.ClassNotFoundException: javax.xml.bind.DatatypeConverter\r\n\r\nThis is because the io.jsonwebtoken dependency uses javax.xml.bind.DatatypeConverter, but in spring version 3 it no longer uses the name javax but jakarta\r\n\r\nAs mentioned [https://stackoverflow.com/a/75203778/9718846][1] you need to add the 0.11.5 dependencies. For maven, the answer is here : [https://github.com/jwtk/jjwt#features][2]\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/75203778/9718846\r\n  [2]: https://github.com/jwtk/jjwt#features","title":"How to Resolve this error Full authentication is required to access this resource?","body":"<p>If you look closely at your logs, you'll see something like this: java.lang.ClassNotFoundException: javax.xml.bind.DatatypeConverter</p>\n<p>This is because the io.jsonwebtoken dependency uses javax.xml.bind.DatatypeConverter, but in spring version 3 it no longer uses the name javax but jakarta</p>\n<p>As mentioned <a href=\"https://stackoverflow.com/a/75203778/9718846\">https://stackoverflow.com/a/75203778/9718846</a> you need to add the 0.11.5 dependencies. For maven, the answer is here : <a href=\"https://github.com/jwtk/jjwt#features\" rel=\"nofollow noreferrer\">https://github.com/jwtk/jjwt#features</a></p>\n"}],"owner":{"account_id":27237170,"reputation":11,"user_id":20763898,"display_name":"sriram chenniapan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":403,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1676915607,"creation_date":1673078009,"question_id":75038867,"body_markdown":"While hit login url in postman the above error occurs ..the concept is want to generate jwt token using cookies .am new to Springboot ..please help me to get out from this issue..The configuration  am using was SpringBoot version:3.0.1 and java version 17\r\n\r\nhere i attach the configuration files  used .\r\n\r\nAuthEntryPointJwt.java:\r\n\r\n```\r\nimport java.io.IOException;\r\nimport java.util.Map;\r\n\r\nimport org.slf4j.Logger;\r\nimport org.slf4j.LoggerFactory;\r\nimport org.springframework.http.MediaType;\r\nimport org.springframework.security.core.AuthenticationException;\r\nimport org.springframework.security.web.AuthenticationEntryPoint;\r\nimport org.springframework.stereotype.Component;\r\nimport org.springframework.web.servlet.mvc.method.annotation.ResponseEntityExceptionHandler;\r\n\r\nimport com.fasterxml.jackson.databind.ObjectMapper;\r\nimport jakarta.servlet.ServletException;\r\nimport jakarta.servlet.http.HttpServletRequest;\r\nimport jakarta.servlet.http.HttpServletResponse;\r\n\r\n\r\n\r\n@Component\r\npublic class AuthEntryPointJwt extends ResponseEntityExceptionHandler implements AuthenticationEntryPoint {\r\n\r\n\tprivate static final Logger logger = LoggerFactory.getLogger(AuthEntryPointJwt.class);\r\n\r\n\t@Override\r\n\tpublic void commence(HttpServletRequest request, HttpServletResponse response,\r\n\t\t\tAuthenticationException authException) throws IOException, ServletException {\r\n\t\tlogger.error(&quot;Unauthorized error: {}&quot;, authException.getMessage());\r\n\r\n\t\tresponse.setContentType(MediaType.APPLICATION_JSON_VALUE);\r\n\t\tresponse.setStatus(HttpServletResponse.SC_UNAUTHORIZED);\r\n\r\n\t\tfinal Map&lt;String, Object&gt; body = Map.of(&quot;status&quot;, HttpServletResponse.SC_UNAUTHORIZED, &quot;error&quot;, &quot;Unauthorized&quot;,\r\n\t\t\t\t&quot;message&quot;, authException.getMessage(), &quot;path&quot;, request.getServletPath());\r\n\r\n\t\tfinal ObjectMapper mapper = new ObjectMapper();\r\n\t\tmapper.writeValue(response.getOutputStream(), body);\r\n\t}\r\n}\r\n```\r\n\r\nAuthTokenFilter.java:\r\n\r\n```\r\nimport java.io.IOException;\r\n\r\nimport org.slf4j.Logger;\r\nimport org.slf4j.LoggerFactory;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.security.authentication.UsernamePasswordAuthenticationToken;\r\nimport org.springframework.security.core.context.SecurityContextHolder;\r\nimport org.springframework.security.core.userdetails.UserDetails;\r\nimport org.springframework.security.web.authentication.WebAuthenticationDetailsSource;\r\nimport org.springframework.web.filter.OncePerRequestFilter;\r\n\r\nimport com.midfin.erp.impl.UserDetailsServiceImpl;\r\n\r\nimport jakarta.servlet.FilterChain;\r\nimport jakarta.servlet.ServletException;\r\nimport jakarta.servlet.http.HttpServletRequest;\r\nimport jakarta.servlet.http.HttpServletResponse;\r\n\r\n\r\npublic class AuthTokenFilter extends OncePerRequestFilter {\r\n\t@Autowired\r\n\tprivate JwtUtils jwtUtils;\r\n\r\n\t@Autowired\r\n\tprivate UserDetailsServiceImpl userDetailsService;\r\n\r\n\tprivate static final Logger logger = LoggerFactory.getLogger(AuthTokenFilter.class);\r\n\r\n\t@Override\r\n\tprotected void doFilterInternal(HttpServletRequest request, HttpServletResponse response, FilterChain filterChain)\r\n\t\t\tthrows ServletException, IOException {\r\n\t\ttry {\r\n\t\t\tString jwt = parseJwt(request);\r\n\t\t\tif (jwt != null &amp;&amp; jwtUtils.validateJwtToken(jwt)) {\r\n\t\t\t\tString username = jwtUtils.getUserNameFromJwtToken(jwt);\r\n\r\n\t\t\t\tUserDetails userDetails = userDetailsService.loadUserByUsername(username);\r\n\r\n\t\t\t\tUsernamePasswordAuthenticationToken authentication = new UsernamePasswordAuthenticationToken(\r\n\t\t\t\t\t\tuserDetails, null, userDetails.getAuthorities());\r\n\r\n\t\t\t\tauthentication.setDetails(new WebAuthenticationDetailsSource().buildDetails(request));\r\n\r\n\t\t\t\tSecurityContextHolder.getContext().setAuthentication(authentication);\r\n\t\t\t}\r\n\t\t} catch (Exception e) {\r\n\t\t\tlogger.error(&quot;Cannot set user authentication: {}&quot;, e);\r\n\t\t}\r\n\r\n\t\tfilterChain.doFilter(request, response);\r\n\t}\r\n\r\n\tprivate String parseJwt(HttpServletRequest request) {\r\n\t\tString jwt = jwtUtils.getJwtFromCookies(request);\r\n\t\treturn jwt;\r\n\t}\r\n}\r\nJwtUtils.java:\r\n\r\nimport java.util.Date;\r\nimport org.slf4j.Logger;\r\nimport org.slf4j.LoggerFactory;\r\nimport org.springframework.beans.factory.annotation.Value;\r\nimport org.springframework.http.ResponseCookie;\r\nimport org.springframework.stereotype.Component;\r\nimport org.springframework.web.util.WebUtils;\r\nimport com.midfin.erp.impl.UserDetailsImpl;\r\nimport io.jsonwebtoken.ExpiredJwtException;\r\nimport io.jsonwebtoken.Jwts;\r\nimport io.jsonwebtoken.MalformedJwtException;\r\nimport io.jsonwebtoken.SignatureAlgorithm;\r\nimport io.jsonwebtoken.SignatureException;\r\nimport io.jsonwebtoken.UnsupportedJwtException;\r\nimport jakarta.servlet.http.Cookie;\r\nimport jakarta.servlet.http.HttpServletRequest;\r\n\r\n\r\n\r\n\r\n@Component\r\npublic class JwtUtils {\r\n\tprivate static final Logger logger = LoggerFactory.getLogger(JwtUtils.class);\r\n\r\n\t@Value(&quot;${jwt.secret}&quot;)\r\n\tprivate String jwtSecret;\r\n\r\n\t@Value(&quot;${jwt.expirationMs}&quot;)\r\n\tprivate int jwtExpirationMs;\r\n\r\n\t@Value(&quot;${jwt.cookieName}&quot;)\r\n\tprivate String jwtCookie;\r\n\r\n\tpublic String getJwtFromCookies(HttpServletRequest request) {\r\n\t\tCookie cookie = WebUtils.getCookie(request, jwtCookie);\r\n\t\tif (cookie != null) {\r\n\t\t\treturn cookie.getValue();\r\n\t\t} else {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t}\r\n\r\n\tpublic ResponseCookie generateJwtCookie(UserDetailsImpl userPrincipal) {\r\n\t\tString jwt = generateTokenFromUsername(userPrincipal.getUsername());\r\n\t\tSystem.out.println(jwt);\r\n\t\tResponseCookie cookie = ResponseCookie.from(jwtCookie, jwt).path(&quot;/api&quot;).maxAge(24 * 60 * 60).httpOnly(true)\r\n\t\t\t\t.build();\r\n\t\treturn cookie;\r\n\t}\r\n\r\n\tpublic ResponseCookie getCleanJwtCookie() {\r\n\t\tResponseCookie cookie = ResponseCookie.from(jwtCookie, null).path(&quot;/api&quot;).build();\r\n\t\treturn cookie;\r\n\t}\r\n\r\n\tpublic String getUserNameFromJwtToken(String token) {\r\n\t\treturn Jwts.parser().setSigningKey(jwtSecret).parseClaimsJws(token).getBody().getSubject();\r\n\t}\r\n\r\n\tpublic boolean validateJwtToken(String authToken) {\r\n\t\ttry {\r\n\t\t\tJwts.parser().setSigningKey(jwtSecret).parseClaimsJws(authToken);\r\n\t\t\treturn true;\r\n\t\t} catch (SignatureException e) {\r\n\t\t\tlogger.error(&quot;Invalid JWT signature: {}&quot;, e.getMessage());\r\n\t\t} catch (MalformedJwtException e) {\r\n\t\t\tlogger.error(&quot;Invalid JWT token: {}&quot;, e.getMessage());\r\n\t\t} catch (ExpiredJwtException e) {\r\n\t\t\tlogger.error(&quot;JWT token is expired: {}&quot;, e.getMessage());\r\n\t\t} catch (UnsupportedJwtException e) {\r\n\t\t\tlogger.error(&quot;JWT token is unsupported: {}&quot;, e.getMessage());\r\n\t\t} catch (IllegalArgumentException e) {\r\n\t\t\tlogger.error(&quot;JWT claims string is empty: {}&quot;, e.getMessage());\r\n\t\t}\r\n\r\n\t\treturn false;\r\n\t}\r\n\r\n\tpublic String generateTokenFromUsername(String username) {\r\n\t\treturn Jwts.builder().setSubject(username).setIssuedAt(new Date())\r\n\t\t\t\t.setExpiration(new Date((new Date()).getTime() + jwtExpirationMs))\r\n\t\t\t\t.signWith(SignatureAlgorithm.HS512, jwtSecret).compact();\r\n\t}\r\n}\r\n\r\nWebSecurityConfig.java:\r\n\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.security.access.hierarchicalroles.RoleHierarchy;\r\nimport org.springframework.security.access.hierarchicalroles.RoleHierarchyImpl;\r\nimport org.springframework.security.authentication.AuthenticationManager;\r\nimport org.springframework.security.authentication.dao.DaoAuthenticationProvider;\r\nimport org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration;\r\nimport org.springframework.security.config.annotation.method.configuration.EnableMethodSecurity;\r\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\r\nimport org.springframework.security.config.http.SessionCreationPolicy;\r\nimport org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\r\nimport org.springframework.security.web.SecurityFilterChain;\r\nimport org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter;\r\n\r\nimport com.midfin.erp.impl.UserDetailsServiceImpl;\r\n\r\n\r\n\r\n@Configuration\r\n@EnableMethodSecurity(prePostEnabled = true)\r\npublic class WebSecurityConfig {\r\n\r\n\t@Autowired\r\n\tUserDetailsServiceImpl userDetailsService;\r\n\r\n\t@Autowired\r\n\tprivate AuthEntryPointJwt unauthorizedHandler;\r\n\r\n\t@Autowired\r\n\tprivate BCryptPasswordEncoder bCryptPasswordEncoder;\r\n\r\n\t@Bean\r\n\tpublic AuthTokenFilter authenticationJwtTokenFilter() {\r\n\t\treturn new AuthTokenFilter();\r\n\t}\r\n\r\n\t@Bean\r\n\tpublic DaoAuthenticationProvider authenticationProvider() {\r\n\t\tDaoAuthenticationProvider authProvider = new DaoAuthenticationProvider();\r\n\r\n\t\tauthProvider.setUserDetailsService(userDetailsService);\r\n\t\tauthProvider.setPasswordEncoder(bCryptPasswordEncoder);\r\n\r\n\t\treturn authProvider;\r\n\t}\r\n\r\n\t@Bean\r\n\tpublic AuthenticationManager authenticationManager(AuthenticationConfiguration authConfig) throws Exception {\r\n\t\treturn authConfig.getAuthenticationManager();\r\n\t}\r\n\r\n\t@Bean\r\n\tpublic SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\r\n\t\thttp.cors().and().csrf().disable().exceptionHandling().authenticationEntryPoint(unauthorizedHandler).and()\r\n\t\t\t\t.sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS).and()\r\n\t\t\t\t.authorizeHttpRequests().requestMatchers(&quot;/api/auth/**&quot;).permitAll()\r\n\r\n\t\t\t\t.anyRequest().authenticated();\r\n\t\thttp.authenticationProvider(authenticationProvider());\r\n\r\n\t\thttp.addFilterBefore(authenticationJwtTokenFilter(), UsernamePasswordAuthenticationFilter.class);\r\n\r\n\t\treturn http.build();\r\n\t}\r\n\r\n\t@Bean\r\n\tpublic RoleHierarchy roleHierarchy() {\r\n\t\tRoleHierarchyImpl roleHierarchy = new RoleHierarchyImpl();\r\n\t\tString hierarchy = &quot;ROLE_ADMIN  &gt; ROLE_USER&quot;;\r\n\t\troleHierarchy.setHierarchy(hierarchy);\r\n\t\treturn roleHierarchy;\r\n\t}\r\n}\r\n\r\nUserDetailsImpl.java:\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.Collection;\r\nimport java.util.List;\r\nimport java.util.stream.Collectors;\r\n\r\nimport org.springframework.security.core.GrantedAuthority;\r\nimport org.springframework.security.core.authority.SimpleGrantedAuthority;\r\nimport org.springframework.security.core.userdetails.UserDetails;\r\n\r\nimport com.midfin.erp.domain.UserPrivilege;\r\nimport com.midfin.erp.domain.UserRole;\r\nimport com.midfin.erp.domain.Users;\r\n\r\nimport lombok.Data;\r\n\r\n\r\n\r\n@Data\r\npublic class UserDetailsImpl implements UserDetails {\r\n\r\n\tprivate static final long serialVersionUID = 1L;\r\n\r\n\tprivate Long userId;\r\n\r\n\tprivate String username;\r\n\r\n\tprivate String email;\r\n\r\n\tprivate String fullName;\r\n\r\n\tprivate String mobileNumber;\r\n\r\n\tprivate String password;\r\n\r\n\tprivate boolean locked;\r\n\r\n\tprivate Collection&lt;? extends GrantedAuthority&gt; authorities;\r\n\r\n\tpublic UserDetailsImpl(Long userId, String username, String email, String password, String fullName,\r\n\t\t\tString mobileNumber, Boolean locked, Collection&lt;? extends GrantedAuthority&gt; authorities) {\r\n\t\tthis.userId = userId;\r\n\t\tthis.username = username;\r\n\t\tthis.email = email;\r\n\t\tthis.password = password;\r\n\t\tthis.mobileNumber = mobileNumber;\r\n\t\tthis.fullName = fullName;\r\n\t\tthis.locked = locked;\r\n\t\tthis.authorities = authorities;\r\n\t}\r\n\r\n\tpublic static UserDetailsImpl build(Users user) {\r\n\t\tList&lt;GrantedAuthority&gt; authorities = user.getRoles().stream()\r\n\t\t\t\t.map(role -&gt; new SimpleGrantedAuthority(role.getName())).collect(Collectors.toList());\r\n\t\treturn new UserDetailsImpl(user.getUserId(), user.getUsername(), user.getEmail(), user.getPassword(),\r\n\t\t\t\tuser.getMobileNumber(), user.getFullName(), user.getIslocked(), authorities);\r\n\t}\r\n\r\n\t@Override\r\n\tpublic String getPassword() {\r\n\t\treturn this.password;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic String getUsername() {\r\n\t\treturn this.username;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic boolean isAccountNonExpired() {\r\n\t\treturn true;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic boolean isAccountNonLocked() {\r\n\t\treturn !this.locked;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic boolean isCredentialsNonExpired() {\r\n\t\treturn true;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic boolean isEnabled() {\r\n\t\treturn true;\r\n\t}\r\n\r\n\tprivate List&lt;String&gt; getPrivileges(Collection&lt;UserRole&gt; roles) {\r\n\r\n\t\tList&lt;String&gt; privileges = new ArrayList&lt;&gt;();\r\n\t\tList&lt;UserPrivilege&gt; collection = new ArrayList&lt;&gt;();\r\n\t\tfor (UserRole role : roles) {\r\n\t\t\tprivileges.add(role.getName());\r\n\t\t\tcollection.addAll(role.getPrivileges());\r\n\t\t}\r\n\t\tfor (UserPrivilege item : collection) {\r\n\t\t\tprivileges.add(item.getName());\r\n\t\t}\r\n\t\treturn privileges;\r\n\t}\r\n\r\n\tprivate List&lt;GrantedAuthority&gt; getGrantedAuthorities(List&lt;String&gt; privileges) {\r\n\t\tList&lt;GrantedAuthority&gt; authorities = new ArrayList&lt;&gt;();\r\n\t\tfor (String privilege : privileges) {\r\n\t\t\tauthorities.add(new SimpleGrantedAuthority(privilege));\r\n\t\t}\r\n\t\treturn authorities;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic Collection&lt;? extends GrantedAuthority&gt; getAuthorities() {\r\n\t\treturn authorities;\r\n\t}\r\n\r\n}\r\nUserDetailsServiceImpl.java:\r\n\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.security.core.userdetails.UserDetails;\r\nimport org.springframework.security.core.userdetails.UserDetailsService;\r\nimport org.springframework.security.core.userdetails.UsernameNotFoundException;\r\nimport org.springframework.stereotype.Service;\r\nimport org.springframework.transaction.annotation.Transactional;\r\n\r\nimport com.midfin.erp.domain.Users;\r\nimport com.midfin.erp.repo.UserRepo;\r\n\r\n\r\n\r\n@Service\r\npublic class UserDetailsServiceImpl implements UserDetailsService {\r\n\r\n\t@Autowired\r\n\tUserRepo userRepo;\r\n\r\n\t@Override\r\n\t@Transactional\r\n\tpublic UserDetails loadUserByUsername(String username) throws UsernameNotFoundException {\r\n\t\tUsers user = userRepo.findByUsername(username)\r\n\t\t\t\t.orElseThrow(() -&gt; new UsernameNotFoundException(&quot;User Not Found with username: &quot; + username));\r\n\t\treturn UserDetailsImpl.build(user);\r\n\t}\r\n}\r\n```","title":"How to Resolve this error Full authentication is required to access this resource?","body":"<p>While hit login url in postman the above error occurs ..the concept is want to generate jwt token using cookies .am new to Springboot ..please help me to get out from this issue..The configuration  am using was SpringBoot version:3.0.1 and java version 17</p>\n<p>here i attach the configuration files  used .</p>\n<p>AuthEntryPointJwt.java:</p>\n<pre><code>import java.io.IOException;\nimport java.util.Map;\n\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\nimport org.springframework.http.MediaType;\nimport org.springframework.security.core.AuthenticationException;\nimport org.springframework.security.web.AuthenticationEntryPoint;\nimport org.springframework.stereotype.Component;\nimport org.springframework.web.servlet.mvc.method.annotation.ResponseEntityExceptionHandler;\n\nimport com.fasterxml.jackson.databind.ObjectMapper;\nimport jakarta.servlet.ServletException;\nimport jakarta.servlet.http.HttpServletRequest;\nimport jakarta.servlet.http.HttpServletResponse;\n\n\n\n@Component\npublic class AuthEntryPointJwt extends ResponseEntityExceptionHandler implements AuthenticationEntryPoint {\n\n    private static final Logger logger = LoggerFactory.getLogger(AuthEntryPointJwt.class);\n\n    @Override\n    public void commence(HttpServletRequest request, HttpServletResponse response,\n            AuthenticationException authException) throws IOException, ServletException {\n        logger.error(&quot;Unauthorized error: {}&quot;, authException.getMessage());\n\n        response.setContentType(MediaType.APPLICATION_JSON_VALUE);\n        response.setStatus(HttpServletResponse.SC_UNAUTHORIZED);\n\n        final Map&lt;String, Object&gt; body = Map.of(&quot;status&quot;, HttpServletResponse.SC_UNAUTHORIZED, &quot;error&quot;, &quot;Unauthorized&quot;,\n                &quot;message&quot;, authException.getMessage(), &quot;path&quot;, request.getServletPath());\n\n        final ObjectMapper mapper = new ObjectMapper();\n        mapper.writeValue(response.getOutputStream(), body);\n    }\n}\n</code></pre>\n<p>AuthTokenFilter.java:</p>\n<pre><code>import java.io.IOException;\n\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.security.authentication.UsernamePasswordAuthenticationToken;\nimport org.springframework.security.core.context.SecurityContextHolder;\nimport org.springframework.security.core.userdetails.UserDetails;\nimport org.springframework.security.web.authentication.WebAuthenticationDetailsSource;\nimport org.springframework.web.filter.OncePerRequestFilter;\n\nimport com.midfin.erp.impl.UserDetailsServiceImpl;\n\nimport jakarta.servlet.FilterChain;\nimport jakarta.servlet.ServletException;\nimport jakarta.servlet.http.HttpServletRequest;\nimport jakarta.servlet.http.HttpServletResponse;\n\n\npublic class AuthTokenFilter extends OncePerRequestFilter {\n    @Autowired\n    private JwtUtils jwtUtils;\n\n    @Autowired\n    private UserDetailsServiceImpl userDetailsService;\n\n    private static final Logger logger = LoggerFactory.getLogger(AuthTokenFilter.class);\n\n    @Override\n    protected void doFilterInternal(HttpServletRequest request, HttpServletResponse response, FilterChain filterChain)\n            throws ServletException, IOException {\n        try {\n            String jwt = parseJwt(request);\n            if (jwt != null &amp;&amp; jwtUtils.validateJwtToken(jwt)) {\n                String username = jwtUtils.getUserNameFromJwtToken(jwt);\n\n                UserDetails userDetails = userDetailsService.loadUserByUsername(username);\n\n                UsernamePasswordAuthenticationToken authentication = new UsernamePasswordAuthenticationToken(\n                        userDetails, null, userDetails.getAuthorities());\n\n                authentication.setDetails(new WebAuthenticationDetailsSource().buildDetails(request));\n\n                SecurityContextHolder.getContext().setAuthentication(authentication);\n            }\n        } catch (Exception e) {\n            logger.error(&quot;Cannot set user authentication: {}&quot;, e);\n        }\n\n        filterChain.doFilter(request, response);\n    }\n\n    private String parseJwt(HttpServletRequest request) {\n        String jwt = jwtUtils.getJwtFromCookies(request);\n        return jwt;\n    }\n}\nJwtUtils.java:\n\nimport java.util.Date;\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\nimport org.springframework.beans.factory.annotation.Value;\nimport org.springframework.http.ResponseCookie;\nimport org.springframework.stereotype.Component;\nimport org.springframework.web.util.WebUtils;\nimport com.midfin.erp.impl.UserDetailsImpl;\nimport io.jsonwebtoken.ExpiredJwtException;\nimport io.jsonwebtoken.Jwts;\nimport io.jsonwebtoken.MalformedJwtException;\nimport io.jsonwebtoken.SignatureAlgorithm;\nimport io.jsonwebtoken.SignatureException;\nimport io.jsonwebtoken.UnsupportedJwtException;\nimport jakarta.servlet.http.Cookie;\nimport jakarta.servlet.http.HttpServletRequest;\n\n\n\n\n@Component\npublic class JwtUtils {\n    private static final Logger logger = LoggerFactory.getLogger(JwtUtils.class);\n\n    @Value(&quot;${jwt.secret}&quot;)\n    private String jwtSecret;\n\n    @Value(&quot;${jwt.expirationMs}&quot;)\n    private int jwtExpirationMs;\n\n    @Value(&quot;${jwt.cookieName}&quot;)\n    private String jwtCookie;\n\n    public String getJwtFromCookies(HttpServletRequest request) {\n        Cookie cookie = WebUtils.getCookie(request, jwtCookie);\n        if (cookie != null) {\n            return cookie.getValue();\n        } else {\n            return null;\n        }\n    }\n\n    public ResponseCookie generateJwtCookie(UserDetailsImpl userPrincipal) {\n        String jwt = generateTokenFromUsername(userPrincipal.getUsername());\n        System.out.println(jwt);\n        ResponseCookie cookie = ResponseCookie.from(jwtCookie, jwt).path(&quot;/api&quot;).maxAge(24 * 60 * 60).httpOnly(true)\n                .build();\n        return cookie;\n    }\n\n    public ResponseCookie getCleanJwtCookie() {\n        ResponseCookie cookie = ResponseCookie.from(jwtCookie, null).path(&quot;/api&quot;).build();\n        return cookie;\n    }\n\n    public String getUserNameFromJwtToken(String token) {\n        return Jwts.parser().setSigningKey(jwtSecret).parseClaimsJws(token).getBody().getSubject();\n    }\n\n    public boolean validateJwtToken(String authToken) {\n        try {\n            Jwts.parser().setSigningKey(jwtSecret).parseClaimsJws(authToken);\n            return true;\n        } catch (SignatureException e) {\n            logger.error(&quot;Invalid JWT signature: {}&quot;, e.getMessage());\n        } catch (MalformedJwtException e) {\n            logger.error(&quot;Invalid JWT token: {}&quot;, e.getMessage());\n        } catch (ExpiredJwtException e) {\n            logger.error(&quot;JWT token is expired: {}&quot;, e.getMessage());\n        } catch (UnsupportedJwtException e) {\n            logger.error(&quot;JWT token is unsupported: {}&quot;, e.getMessage());\n        } catch (IllegalArgumentException e) {\n            logger.error(&quot;JWT claims string is empty: {}&quot;, e.getMessage());\n        }\n\n        return false;\n    }\n\n    public String generateTokenFromUsername(String username) {\n        return Jwts.builder().setSubject(username).setIssuedAt(new Date())\n                .setExpiration(new Date((new Date()).getTime() + jwtExpirationMs))\n                .signWith(SignatureAlgorithm.HS512, jwtSecret).compact();\n    }\n}\n\nWebSecurityConfig.java:\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.security.access.hierarchicalroles.RoleHierarchy;\nimport org.springframework.security.access.hierarchicalroles.RoleHierarchyImpl;\nimport org.springframework.security.authentication.AuthenticationManager;\nimport org.springframework.security.authentication.dao.DaoAuthenticationProvider;\nimport org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration;\nimport org.springframework.security.config.annotation.method.configuration.EnableMethodSecurity;\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\nimport org.springframework.security.config.http.SessionCreationPolicy;\nimport org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\nimport org.springframework.security.web.SecurityFilterChain;\nimport org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter;\n\nimport com.midfin.erp.impl.UserDetailsServiceImpl;\n\n\n\n@Configuration\n@EnableMethodSecurity(prePostEnabled = true)\npublic class WebSecurityConfig {\n\n    @Autowired\n    UserDetailsServiceImpl userDetailsService;\n\n    @Autowired\n    private AuthEntryPointJwt unauthorizedHandler;\n\n    @Autowired\n    private BCryptPasswordEncoder bCryptPasswordEncoder;\n\n    @Bean\n    public AuthTokenFilter authenticationJwtTokenFilter() {\n        return new AuthTokenFilter();\n    }\n\n    @Bean\n    public DaoAuthenticationProvider authenticationProvider() {\n        DaoAuthenticationProvider authProvider = new DaoAuthenticationProvider();\n\n        authProvider.setUserDetailsService(userDetailsService);\n        authProvider.setPasswordEncoder(bCryptPasswordEncoder);\n\n        return authProvider;\n    }\n\n    @Bean\n    public AuthenticationManager authenticationManager(AuthenticationConfiguration authConfig) throws Exception {\n        return authConfig.getAuthenticationManager();\n    }\n\n    @Bean\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\n        http.cors().and().csrf().disable().exceptionHandling().authenticationEntryPoint(unauthorizedHandler).and()\n                .sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS).and()\n                .authorizeHttpRequests().requestMatchers(&quot;/api/auth/**&quot;).permitAll()\n\n                .anyRequest().authenticated();\n        http.authenticationProvider(authenticationProvider());\n\n        http.addFilterBefore(authenticationJwtTokenFilter(), UsernamePasswordAuthenticationFilter.class);\n\n        return http.build();\n    }\n\n    @Bean\n    public RoleHierarchy roleHierarchy() {\n        RoleHierarchyImpl roleHierarchy = new RoleHierarchyImpl();\n        String hierarchy = &quot;ROLE_ADMIN  &gt; ROLE_USER&quot;;\n        roleHierarchy.setHierarchy(hierarchy);\n        return roleHierarchy;\n    }\n}\n\nUserDetailsImpl.java:\n\nimport java.util.ArrayList;\nimport java.util.Collection;\nimport java.util.List;\nimport java.util.stream.Collectors;\n\nimport org.springframework.security.core.GrantedAuthority;\nimport org.springframework.security.core.authority.SimpleGrantedAuthority;\nimport org.springframework.security.core.userdetails.UserDetails;\n\nimport com.midfin.erp.domain.UserPrivilege;\nimport com.midfin.erp.domain.UserRole;\nimport com.midfin.erp.domain.Users;\n\nimport lombok.Data;\n\n\n\n@Data\npublic class UserDetailsImpl implements UserDetails {\n\n    private static final long serialVersionUID = 1L;\n\n    private Long userId;\n\n    private String username;\n\n    private String email;\n\n    private String fullName;\n\n    private String mobileNumber;\n\n    private String password;\n\n    private boolean locked;\n\n    private Collection&lt;? extends GrantedAuthority&gt; authorities;\n\n    public UserDetailsImpl(Long userId, String username, String email, String password, String fullName,\n            String mobileNumber, Boolean locked, Collection&lt;? extends GrantedAuthority&gt; authorities) {\n        this.userId = userId;\n        this.username = username;\n        this.email = email;\n        this.password = password;\n        this.mobileNumber = mobileNumber;\n        this.fullName = fullName;\n        this.locked = locked;\n        this.authorities = authorities;\n    }\n\n    public static UserDetailsImpl build(Users user) {\n        List&lt;GrantedAuthority&gt; authorities = user.getRoles().stream()\n                .map(role -&gt; new SimpleGrantedAuthority(role.getName())).collect(Collectors.toList());\n        return new UserDetailsImpl(user.getUserId(), user.getUsername(), user.getEmail(), user.getPassword(),\n                user.getMobileNumber(), user.getFullName(), user.getIslocked(), authorities);\n    }\n\n    @Override\n    public String getPassword() {\n        return this.password;\n    }\n\n    @Override\n    public String getUsername() {\n        return this.username;\n    }\n\n    @Override\n    public boolean isAccountNonExpired() {\n        return true;\n    }\n\n    @Override\n    public boolean isAccountNonLocked() {\n        return !this.locked;\n    }\n\n    @Override\n    public boolean isCredentialsNonExpired() {\n        return true;\n    }\n\n    @Override\n    public boolean isEnabled() {\n        return true;\n    }\n\n    private List&lt;String&gt; getPrivileges(Collection&lt;UserRole&gt; roles) {\n\n        List&lt;String&gt; privileges = new ArrayList&lt;&gt;();\n        List&lt;UserPrivilege&gt; collection = new ArrayList&lt;&gt;();\n        for (UserRole role : roles) {\n            privileges.add(role.getName());\n            collection.addAll(role.getPrivileges());\n        }\n        for (UserPrivilege item : collection) {\n            privileges.add(item.getName());\n        }\n        return privileges;\n    }\n\n    private List&lt;GrantedAuthority&gt; getGrantedAuthorities(List&lt;String&gt; privileges) {\n        List&lt;GrantedAuthority&gt; authorities = new ArrayList&lt;&gt;();\n        for (String privilege : privileges) {\n            authorities.add(new SimpleGrantedAuthority(privilege));\n        }\n        return authorities;\n    }\n\n    @Override\n    public Collection&lt;? extends GrantedAuthority&gt; getAuthorities() {\n        return authorities;\n    }\n\n}\nUserDetailsServiceImpl.java:\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.security.core.userdetails.UserDetails;\nimport org.springframework.security.core.userdetails.UserDetailsService;\nimport org.springframework.security.core.userdetails.UsernameNotFoundException;\nimport org.springframework.stereotype.Service;\nimport org.springframework.transaction.annotation.Transactional;\n\nimport com.midfin.erp.domain.Users;\nimport com.midfin.erp.repo.UserRepo;\n\n\n\n@Service\npublic class UserDetailsServiceImpl implements UserDetailsService {\n\n    @Autowired\n    UserRepo userRepo;\n\n    @Override\n    @Transactional\n    public UserDetails loadUserByUsername(String username) throws UsernameNotFoundException {\n        Users user = userRepo.findByUsername(username)\n                .orElseThrow(() -&gt; new UsernameNotFoundException(&quot;User Not Found with username: &quot; + username));\n        return UserDetailsImpl.build(user);\n    }\n}\n</code></pre>\n"},{"tags":["java","android"],"answers":[{"tags":[],"owner":{"display_name":"user21231707"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676872105,"creation_date":1676872105,"answer_id":75505661,"question_id":75505601,"body_markdown":"Snackbar is a control in the Android Support Design Library, which can quickly pop up messages at the bottom of the screen.\r\n\r\nSnackbar.make（View view, CharSequence text, int duration）\r\n\r\nYou can check the parameters and corresponding API","title":"Switch between fragment","body":"<p>Snackbar is a control in the Android Support Design Library, which can quickly pop up messages at the bottom of the screen.</p>\n<p>Snackbar.make（View view, CharSequence text, int duration）</p>\n<p>You can check the parameters and corresponding API</p>\n"},{"tags":[],"owner":{"account_id":22341995,"reputation":750,"user_id":16561638,"display_name":"Robin Hood"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676915129,"creation_date":1676873513,"answer_id":75505803,"question_id":75505601,"body_markdown":"**bottomNavigationView.getMenu()** will resolve your issue.try this\r\n\r\n    Snackbar.make(BLEFragment.this.getView(),&quot;BLE IS NOT ENABLE ! \\n go to the settings-tab,...&quot;,Snackbar.LENGTH_SHORT)\r\n                .setBackgroundTint(Color.rgb(244, 78, 63))\r\n                .setTextColor(Color.rgb(255,255,255))\r\n                .setAction(&quot;Settigs&quot;, new View.OnClickListener() {\r\n                    @Override\r\n                    public void onClick(View view) {\r\n                     //Move to next fragment\r\n    \t\t\t\t\tswitchFragment(R.id.more_setting);\r\n                    }\r\n                })\r\n                .show();\r\n\r\n\t\r\n\r\n    public void switchFragment(int idd) {\r\n            Menu menu = bottomNavigationView.getMenu();\r\n            for (int i = 0, size = menu.size(); i &lt; size; i++) {\r\n                MenuItem item = menu.getItem(i);\r\n                if(item.getItemId() == idd){\r\n                    item.setChecked(true);\r\n                    getSupportFragmentManager().beginTransaction().replace(R.id.container, new ProgramFragment()).addToBackStack(null).commit();\r\n                }\r\n    \r\n            }\r\n        }\r\n\r\nin activity which holds fragment views\r\n\r\n    @Override\r\n    public void onBackPressed() {\r\n        int count = getSupportFragmentManager().getBackStackEntryCount();\r\n        if (count == 0) {\r\n            super.onBackPressed();\r\n        } else {\r\n            getSupportFragmentManager().popBackStack();\r\n        }\r\n    }","title":"Switch between fragment","body":"<p><strong>bottomNavigationView.getMenu()</strong> will resolve your issue.try this</p>\n<pre><code>Snackbar.make(BLEFragment.this.getView(),&quot;BLE IS NOT ENABLE ! \\n go to the settings-tab,...&quot;,Snackbar.LENGTH_SHORT)\n            .setBackgroundTint(Color.rgb(244, 78, 63))\n            .setTextColor(Color.rgb(255,255,255))\n            .setAction(&quot;Settigs&quot;, new View.OnClickListener() {\n                @Override\n                public void onClick(View view) {\n                 //Move to next fragment\n                    switchFragment(R.id.more_setting);\n                }\n            })\n            .show();\n\n\n\npublic void switchFragment(int idd) {\n        Menu menu = bottomNavigationView.getMenu();\n        for (int i = 0, size = menu.size(); i &lt; size; i++) {\n            MenuItem item = menu.getItem(i);\n            if(item.getItemId() == idd){\n                item.setChecked(true);\n                getSupportFragmentManager().beginTransaction().replace(R.id.container, new ProgramFragment()).addToBackStack(null).commit();\n            }\n\n        }\n    }\n</code></pre>\n<p>in activity which holds fragment views</p>\n<pre><code>@Override\npublic void onBackPressed() {\n    int count = getSupportFragmentManager().getBackStackEntryCount();\n    if (count == 0) {\n        super.onBackPressed();\n    } else {\n        getSupportFragmentManager().popBackStack();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":27825796,"reputation":11,"user_id":21245258,"display_name":"Kitty Kagaya"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676883143,"creation_date":1676883143,"answer_id":75507069,"question_id":75505601,"body_markdown":"\r\n    &lt;FrameLayout\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:id=&quot;@+id/galaxyContainer&quot;&gt;\r\n    &lt;/FrameLayout&gt;\r\n    &lt;androidx.coordinatorlayout.widget.CoordinatorLayout\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;&gt;\r\n        &lt;com.google.android.material.bottomappbar.BottomAppBar\r\n            android:id=&quot;@+id/galaxyBottomBar&quot;\r\n            android:layout_margin=&quot;20dp&quot;\r\n            android:paddingVertical=&quot;6dp&quot;\r\n            app:fabCradleMargin=&quot;8dp&quot;\r\n            app:fabCradleRoundedCornerRadius=&quot;30dp&quot;\r\n            app:fabAnchorMode=&quot;cradle&quot;\r\n            app:fabAlignmentMode=&quot;center&quot;\r\n            app:elevation=&quot;10dp&quot;\r\n            app:addElevationShadow=&quot;true&quot;\r\n            app:fabAnimationMode=&quot;slide&quot;\r\n            app:fabCradleVerticalOffset=&quot;0dp&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_gravity=&quot;bottom&quot;&gt;\r\n            &lt;LinearLayout\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;match_parent&quot;\r\n                android:layout_marginEnd=&quot;18dp&quot;\r\n                android:orientation=&quot;horizontal&quot;\r\n                android:weightSum=&quot;2&quot;&gt;\r\n                &lt;com.google.android.material.button.MaterialButton\r\n                    android:id=&quot;@+id/galaxyExploreButton&quot;\r\n                    android:layout_width=&quot;0dp&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:drawableTop=&quot;@drawable/galaxy_btn_explore&quot;\r\n                    android:background=&quot;@android:color/transparent&quot;\r\n                    android:text=&quot;Explore&quot;\r\n                    android:textColor=&quot;@drawable/galaxy_tab_text&quot;\r\n                    android:layout_weight=&quot;1&quot;/&gt;\r\n                &lt;com.google.android.material.button.MaterialButton\r\n                    android:id=&quot;@+id/galaxyGalleryButton&quot;\r\n                    android:layout_width=&quot;0dp&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:drawableTop=&quot;@drawable/galaxy_btn_gallery&quot;\r\n                    android:background=&quot;@android:color/transparent&quot;\r\n                    android:text=&quot;Gallery&quot;\r\n                    android:textColor=&quot;@drawable/galaxy_tab_text&quot;\r\n                    android:layout_weight=&quot;1&quot;/&gt;\r\n            &lt;/LinearLayout&gt;\r\n        &lt;/com.google.android.material.bottomappbar.BottomAppBar&gt;\r\n    &lt;/androidx.coordinatorlayout.widget.CoordinatorLayout&gt;\r\n\r\n\r\n\r\nAnd here goes my java code\r\n\r\n\r\n    public void switchTab(boolean isExplore) {\r\n        exploreButton.setSelected(isExplore);\r\n        galleryButton.setSelected(!isExplore);\r\n        FragmentTransaction ft = `enter code here`getSupportFragmentManager().beginTransaction();\r\n        ft.replace(R.id.galaxyContainer, isExplore ? new ExploreFragment() : new GalleryFragment());\r\n        ft.commit();\r\n    }\r\n\r\n\r\n\r\n    @Override\r\n    public void onClick(View v) {\r\n       switchTab(v.getId() == R.id.galaxyExploreButton);\r\n    }\r\n\r\n\r\n\r\n\r\nHope this would help.","title":"Switch between fragment","body":"<pre><code>&lt;FrameLayout\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    android:id=&quot;@+id/galaxyContainer&quot;&gt;\n&lt;/FrameLayout&gt;\n&lt;androidx.coordinatorlayout.widget.CoordinatorLayout\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;&gt;\n    &lt;com.google.android.material.bottomappbar.BottomAppBar\n        android:id=&quot;@+id/galaxyBottomBar&quot;\n        android:layout_margin=&quot;20dp&quot;\n        android:paddingVertical=&quot;6dp&quot;\n        app:fabCradleMargin=&quot;8dp&quot;\n        app:fabCradleRoundedCornerRadius=&quot;30dp&quot;\n        app:fabAnchorMode=&quot;cradle&quot;\n        app:fabAlignmentMode=&quot;center&quot;\n        app:elevation=&quot;10dp&quot;\n        app:addElevationShadow=&quot;true&quot;\n        app:fabAnimationMode=&quot;slide&quot;\n        app:fabCradleVerticalOffset=&quot;0dp&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_gravity=&quot;bottom&quot;&gt;\n        &lt;LinearLayout\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;match_parent&quot;\n            android:layout_marginEnd=&quot;18dp&quot;\n            android:orientation=&quot;horizontal&quot;\n            android:weightSum=&quot;2&quot;&gt;\n            &lt;com.google.android.material.button.MaterialButton\n                android:id=&quot;@+id/galaxyExploreButton&quot;\n                android:layout_width=&quot;0dp&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:drawableTop=&quot;@drawable/galaxy_btn_explore&quot;\n                android:background=&quot;@android:color/transparent&quot;\n                android:text=&quot;Explore&quot;\n                android:textColor=&quot;@drawable/galaxy_tab_text&quot;\n                android:layout_weight=&quot;1&quot;/&gt;\n            &lt;com.google.android.material.button.MaterialButton\n                android:id=&quot;@+id/galaxyGalleryButton&quot;\n                android:layout_width=&quot;0dp&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:drawableTop=&quot;@drawable/galaxy_btn_gallery&quot;\n                android:background=&quot;@android:color/transparent&quot;\n                android:text=&quot;Gallery&quot;\n                android:textColor=&quot;@drawable/galaxy_tab_text&quot;\n                android:layout_weight=&quot;1&quot;/&gt;\n        &lt;/LinearLayout&gt;\n    &lt;/com.google.android.material.bottomappbar.BottomAppBar&gt;\n&lt;/androidx.coordinatorlayout.widget.CoordinatorLayout&gt;\n</code></pre>\n<p>And here goes my java code</p>\n<pre><code>public void switchTab(boolean isExplore) {\n    exploreButton.setSelected(isExplore);\n    galleryButton.setSelected(!isExplore);\n    FragmentTransaction ft = `enter code here`getSupportFragmentManager().beginTransaction();\n    ft.replace(R.id.galaxyContainer, isExplore ? new ExploreFragment() : new GalleryFragment());\n    ft.commit();\n}\n\n\n\n@Override\npublic void onClick(View v) {\n   switchTab(v.getId() == R.id.galaxyExploreButton);\n}\n</code></pre>\n<p>Hope this would help.</p>\n"}],"owner":{"account_id":16063020,"reputation":99,"user_id":11593401,"display_name":"rene"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1676915129,"creation_date":1676871394,"question_id":75505601,"body_markdown":"I have implemented a BottomNavigationView which allows the user to switch between fragments. But now I want to trigger this manually in the program using another button. This button is located in a snackbar. (See code)\r\n\r\n``` java\r\nSnackbar.make(BLEFragment.this.getView(),&quot;BLE IS NOT ENABLE ! \\n go to the settings-tab,...&quot;,Snackbar.LENGTH_SHORT)\r\n        .setBackgroundTint(Color.rgb(244, 78, 63))\r\n        .setTextColor(Color.rgb(255,255,255))\r\n        .setAction(&quot;Settigs&quot;, new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n\r\n            }\r\n        })\r\n        .show();\r\n```\r\n\r\nMaybe you can help me here.\r\n\r\nIf I have formulated the question wrong. I would like to apologize. I do not know how to formulate it differently.\r\n\r\nThank you very much.\r\n\r\nRamsauer Ren&#233;","title":"Switch between fragment","body":"<p>I have implemented a BottomNavigationView which allows the user to switch between fragments. But now I want to trigger this manually in the program using another button. This button is located in a snackbar. (See code)</p>\n<pre class=\"lang-java prettyprint-override\"><code>Snackbar.make(BLEFragment.this.getView(),&quot;BLE IS NOT ENABLE ! \\n go to the settings-tab,...&quot;,Snackbar.LENGTH_SHORT)\n        .setBackgroundTint(Color.rgb(244, 78, 63))\n        .setTextColor(Color.rgb(255,255,255))\n        .setAction(&quot;Settigs&quot;, new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n\n            }\n        })\n        .show();\n</code></pre>\n<p>Maybe you can help me here.</p>\n<p>If I have formulated the question wrong. I would like to apologize. I do not know how to formulate it differently.</p>\n<p>Thank you very much.</p>\n<p>Ramsauer René</p>\n"},{"tags":["java","apache-poi","weblogic","xmlbeans"],"comments":[{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":1,"creation_date":1657478430,"post_id":72930783,"comment_id":128814127,"body_markdown":"You might look at the _Component Map_ cited [here](https://stackoverflow.com/a/72839258/230513).","body":"You might look at the <i>Component Map</i> cited <a href=\"https://stackoverflow.com/a/72839258/230513\">here</a>."},{"owner":{"account_id":2359576,"reputation":3386,"user_id":2066598,"display_name":"kiwiwings"},"score":0,"creation_date":1657518107,"post_id":72930783,"comment_id":128819810,"body_markdown":"schemaorg_apache_xmlbeans/system... is the location of the metadata before XmlBeans 5. So this says: take the classes of version 5, but lookup the metadata of the old XmlBeans (/POI) which comes with weblogic. what happens if you remove those 4 lines?","body":"schemaorg_apache_xmlbeans/system... is the location of the metadata before XmlBeans 5. So this says: take the classes of version 5, but lookup the metadata of the old XmlBeans (/POI) which comes with weblogic. what happens if you remove those 4 lines?"},{"owner":{"account_id":23072614,"reputation":11,"user_id":17186026,"display_name":"bgarrett315"},"score":0,"creation_date":1657544750,"post_id":72930783,"comment_id":128828489,"body_markdown":"Seems like removing those 4 lines doesn&#39;t change much. Leaving weblogic.xml as just\n&lt;prefer-web-inf-classes&gt;false&lt;/prefer-web-inf-classes&gt;\n gives same result","body":"Seems like removing those 4 lines doesn&#39;t change much. Leaving weblogic.xml as just &lt;prefer-web-inf-classes&gt;false&lt;/prefer-web-inf-classes&gt;  gives same result"},{"owner":{"account_id":169163,"reputation":377,"user_id":395090,"accept_rate":45,"display_name":"DKG"},"score":0,"creation_date":1670396329,"post_id":72930783,"comment_id":131864328,"body_markdown":"@bgarrett315 Were you able to overcome this ?","body":"@bgarrett315 Were you able to overcome this ?"},{"owner":{"account_id":1635690,"reputation":150047,"user_id":1509264,"accept_rate":58,"display_name":"MT0"},"score":0,"creation_date":1697549391,"post_id":72930783,"comment_id":136291829,"body_markdown":"Your [just deleted question](https://stackoverflow.com/q/77309359/1509264) can be answered using [fiddle](https://dbfiddle.uk/IvArr0a_). If you undelete it then I&#39;ll post an answer.","body":"Your <a href=\"https://stackoverflow.com/q/77309359/1509264\">just deleted question</a> can be answered using <a href=\"https://dbfiddle.uk/IvArr0a_\" rel=\"nofollow noreferrer\">fiddle</a>. If you undelete it then I&#39;ll post an answer."}],"answers":[{"tags":[],"owner":{"account_id":3567133,"reputation":623,"user_id":2978362,"accept_rate":67,"display_name":"vsriram92"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676915068,"creation_date":1676666814,"answer_id":75489121,"question_id":72930783,"body_markdown":"To be more specific, in my case I had added the following code to `weblogic-application.xml` for fixing the exception - `java.lang.ClassCastException: org.apache.xmlbeans.impl.schema.SchemaTypeSystemImpl cannot be cast to org.apache.xmlbeans.SchemaTypeLoader`\r\n\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;ISO-8859-1&quot;?&gt;\r\n\r\n    &lt;weblogic-application&gt;\r\n        &lt;prefer-application-packages&gt;\r\n            &lt;package-name&gt;org.apache.*&lt;/package-name&gt;\r\n            &lt;package-name&gt;schemaorg_apache_xmlbeans.*&lt;/package-name&gt;\r\n        &lt;/prefer-application-packages&gt;\r\n        &lt;prefer-application-resources&gt;\r\n            &lt;resource-name&gt;schemaorg_apache_xmlbeans/*&lt;/resource-name&gt;\r\n        &lt;/prefer-application-resources&gt;\r\n    &lt;/weblogic-application&gt;","title":"Apache POI and Weblogic JAR conflict- POI 5 and xmlbeans","body":"<p>To be more specific, in my case I had added the following code to <code>weblogic-application.xml</code> for fixing the exception - <code>java.lang.ClassCastException: org.apache.xmlbeans.impl.schema.SchemaTypeSystemImpl cannot be cast to org.apache.xmlbeans.SchemaTypeLoader</code></p>\n\n<pre><code>&lt;weblogic-application&gt;\n    &lt;prefer-application-packages&gt;\n        &lt;package-name&gt;org.apache.*&lt;/package-name&gt;\n        &lt;package-name&gt;schemaorg_apache_xmlbeans.*&lt;/package-name&gt;\n    &lt;/prefer-application-packages&gt;\n    &lt;prefer-application-resources&gt;\n        &lt;resource-name&gt;schemaorg_apache_xmlbeans/*&lt;/resource-name&gt;\n    &lt;/prefer-application-resources&gt;\n&lt;/weblogic-application&gt;\n</code></pre>\n"}],"owner":{"account_id":23072614,"reputation":11,"user_id":17186026,"display_name":"bgarrett315"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1506,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1676915068,"creation_date":1657476714,"question_id":72930783,"body_markdown":"I&#39;m currently trying to use apache POI to make excel files in java, SXSSF to be exact. When running it however, I&#39;m getting the following error:\r\n```\r\nCaused By: java.lang.ExceptionInInitializerError\r\n        at java.lang.Class.forName0(Native Method)\r\n        at java.lang.Class.forName(Class.java:348)\r\n        at org.apache.xmlbeans.impl.schema.SchemaTypeLoaderImpl.build(SchemaTypeLoaderImpl.java:161)\r\n        at org.apache.xmlbeans.impl.schema.SchemaTypeSystemImpl.&lt;init&gt;(SchemaTypeSystemImpl.java:198)\r\n        at org.apache.xmlbeans.metadata.system.sXMLSCHEMA.TypeSystemHolder.&lt;init&gt;(TypeSystemHolder.java:9)\r\n        Truncated. see log file for complete stacktrace\r\nCaused By: org.apache.xmlbeans.XmlRuntimeException: java.lang.ClassCastException: org.apache.xmlbeans.impl.schema.SchemaTypeSystemImpl cannot be cast to org.apache.xmlbeans.SchemaTypeLoader\r\n        at org.apache.xmlbeans.impl.schema.SchemaTypeLoaderImpl.build(SchemaTypeLoaderImpl.java:164)\r\n        at org.apache.xmlbeans.impl.schema.SchemaTypeSystemImpl.&lt;init&gt;(SchemaTypeSystemImpl.java:198)\r\n        at org.apache.xmlbeans.metadata.system.sXMLTOOLS.TypeSystemHolder.&lt;init&gt;(TypeSystemHolder.java:9)\r\n        at org.apache.xmlbeans.metadata.system.sXMLTOOLS.TypeSystemHolder.&lt;clinit&gt;(TypeSystemHolder.java:6)\r\n        at java.lang.Class.forName0(Native Method)\r\n        Truncated. see log file for complete stacktrace\r\nCaused By: java.lang.ClassCastException: org.apache.xmlbeans.impl.schema.SchemaTypeSystemImpl cannot be cast to org.apache.xmlbeans.SchemaTypeLoader\r\n        at org.apache.xmlbeans.impl.schema.SchemaTypeLoaderImpl.build(SchemaTypeLoaderImpl.java:162)\r\n        at org.apache.xmlbeans.impl.schema.SchemaTypeSystemImpl.&lt;init&gt;(SchemaTypeSystemImpl.java:198)\r\n        at org.apache.xmlbeans.metadata.system.sXMLTOOLS.TypeSystemHolder.&lt;init&gt;(TypeSystemHolder.java:9)\r\n        at org.apache.xmlbeans.metadata.system.sXMLTOOLS.TypeSystemHolder.&lt;clinit&gt;(TypeSystemHolder.java:6)\r\n        at java.lang.Class.forName0(Native Method)\r\n        Truncated. see log file for complete stacktrace\r\n```\r\n\r\nNow, I know the similar issues to this have come up, and the usual fix is to alter weblogic.xml, and make \r\n```\r\n&lt;prefer-web-inf-classes&gt;false&lt;/prefer-web-inf-classes&gt;\r\n\r\n&lt;wls:container-descriptor&gt;\r\n        &lt;wls:prefer-application-packages&gt;\r\n            &lt;wls:package-name&gt;org.apache.commons.collections4.*&lt;/wls:package-name&gt;\r\n            &lt;wls:package-name&gt;org.apache.commons.compress.*&lt;/wls:package-name&gt;\r\n            &lt;wls:package-name&gt;org.apache.poi.*&lt;/wls:package-name&gt;\r\n            &lt;wls:package-name&gt;org.apache.xmlbeans.*&lt;/wls:package-name&gt;\r\n            &lt;wls:package-name&gt;org.apache.xmlbeans.XmlOptions&lt;/wls:package-name&gt;\r\n            &lt;wls:package-name&gt;org.openxmlformats.*&lt;/wls:package-name&gt;\r\n            &lt;wls:package-name&gt;schemaorg_apache_xmlbeans.*&lt;/wls:package-name&gt;\r\n        &lt;/wls:prefer-application-packages&gt;\r\n        &lt;wls:prefer-application-resources&gt;\r\n            &lt;wls:resource-name&gt;schemaorg_apache_xmlbeans/system/sXMLCONFIG/TypeSystemHolder.class&lt;/wls:resource-name&gt;\r\n            &lt;wls:resource-name&gt;schemaorg_apache_xmlbeans/system/sXMLLANG/TypeSystemHolder.class&lt;/wls:resource-name&gt;\r\n            &lt;wls:resource-name&gt;schemaorg_apache_xmlbeans/system/sXMLSCHEMA/TypeSystemHolder.class&lt;/wls:resource-name&gt;\r\n            &lt;wls:resource-name&gt;schemaorg_apache_xmlbeans/system/sXMLTOOLS/TypeSystemHolder.class&lt;/wls:resource-name&gt;\r\n        &lt;/wls:prefer-application-resources&gt;\r\n    &lt;/wls:container-descriptor&gt;\r\n \r\n```\r\n\r\nHowever, the issue arises that setting prefer-web-inf-classes to false breaks some of the rest of the application. So my question becomes, is there a way in the file I&#39;m creating the excel, to specify that I want it to be built from the apache xmlbeans and not the weblogic xmlbeans? I&#39;m thinking something like Classloader/Urlloader but I haven&#39;t been able to make that work properly yet, but I may be implementing it wrong. \r\n\r\nLastly, I&#39;ll include my pom.xml file\r\n\r\n```\r\n &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\r\n            &lt;artifactId&gt;poi-ooxml&lt;/artifactId&gt;\r\n            &lt;version&gt;${org.apache.poi-version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\r\n            &lt;version&gt;2.16.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;commons-codec&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;commons-codec&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${org.apache.commons-commons-codec-version}&lt;/version&gt;\r\n            &lt;exclusions&gt;\r\n            \t&lt;exclusion&gt;\r\n                    &lt;groupId&gt;junit&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n            \t&lt;/exclusion&gt;\r\n            &lt;/exclusions&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\r\n            &lt;artifactId&gt;commons-lang3&lt;/artifactId&gt;\r\n            &lt;version&gt;${org.apache.commons-commons-lang3-version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.eclipse.persistence&lt;/groupId&gt;\r\n            &lt;artifactId&gt;org.eclipse.persistence.core&lt;/artifactId&gt;\r\n            &lt;version&gt;${org.eclipse.persistence-core-version}&lt;/version&gt;\r\n            &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;com.googlecode.json-simple&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;json-simple&lt;/artifactId&gt;\r\n\t\t    &lt;version&gt;1.1.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;joda-time&lt;/groupId&gt;\r\n            &lt;artifactId&gt;joda-time&lt;/artifactId&gt;\r\n            &lt;version&gt;2.10.14&lt;/version&gt;\r\n            &lt;scope&gt;compile&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;commons-beanutils&lt;/groupId&gt;\r\n            &lt;artifactId&gt;commons-beanutils&lt;/artifactId&gt;\r\n            &lt;version&gt;1.9.3&lt;/version&gt;\r\n            &lt;scope&gt;compile&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;log4j-to-slf4j&lt;/artifactId&gt;\r\n            &lt;version&gt;2.8.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n&lt;/project&gt;\r\n```","title":"Apache POI and Weblogic JAR conflict- POI 5 and xmlbeans","body":"<p>I'm currently trying to use apache POI to make excel files in java, SXSSF to be exact. When running it however, I'm getting the following error:</p>\n<pre><code>Caused By: java.lang.ExceptionInInitializerError\n        at java.lang.Class.forName0(Native Method)\n        at java.lang.Class.forName(Class.java:348)\n        at org.apache.xmlbeans.impl.schema.SchemaTypeLoaderImpl.build(SchemaTypeLoaderImpl.java:161)\n        at org.apache.xmlbeans.impl.schema.SchemaTypeSystemImpl.&lt;init&gt;(SchemaTypeSystemImpl.java:198)\n        at org.apache.xmlbeans.metadata.system.sXMLSCHEMA.TypeSystemHolder.&lt;init&gt;(TypeSystemHolder.java:9)\n        Truncated. see log file for complete stacktrace\nCaused By: org.apache.xmlbeans.XmlRuntimeException: java.lang.ClassCastException: org.apache.xmlbeans.impl.schema.SchemaTypeSystemImpl cannot be cast to org.apache.xmlbeans.SchemaTypeLoader\n        at org.apache.xmlbeans.impl.schema.SchemaTypeLoaderImpl.build(SchemaTypeLoaderImpl.java:164)\n        at org.apache.xmlbeans.impl.schema.SchemaTypeSystemImpl.&lt;init&gt;(SchemaTypeSystemImpl.java:198)\n        at org.apache.xmlbeans.metadata.system.sXMLTOOLS.TypeSystemHolder.&lt;init&gt;(TypeSystemHolder.java:9)\n        at org.apache.xmlbeans.metadata.system.sXMLTOOLS.TypeSystemHolder.&lt;clinit&gt;(TypeSystemHolder.java:6)\n        at java.lang.Class.forName0(Native Method)\n        Truncated. see log file for complete stacktrace\nCaused By: java.lang.ClassCastException: org.apache.xmlbeans.impl.schema.SchemaTypeSystemImpl cannot be cast to org.apache.xmlbeans.SchemaTypeLoader\n        at org.apache.xmlbeans.impl.schema.SchemaTypeLoaderImpl.build(SchemaTypeLoaderImpl.java:162)\n        at org.apache.xmlbeans.impl.schema.SchemaTypeSystemImpl.&lt;init&gt;(SchemaTypeSystemImpl.java:198)\n        at org.apache.xmlbeans.metadata.system.sXMLTOOLS.TypeSystemHolder.&lt;init&gt;(TypeSystemHolder.java:9)\n        at org.apache.xmlbeans.metadata.system.sXMLTOOLS.TypeSystemHolder.&lt;clinit&gt;(TypeSystemHolder.java:6)\n        at java.lang.Class.forName0(Native Method)\n        Truncated. see log file for complete stacktrace\n</code></pre>\n<p>Now, I know the similar issues to this have come up, and the usual fix is to alter weblogic.xml, and make</p>\n<pre><code>&lt;prefer-web-inf-classes&gt;false&lt;/prefer-web-inf-classes&gt;\n\n&lt;wls:container-descriptor&gt;\n        &lt;wls:prefer-application-packages&gt;\n            &lt;wls:package-name&gt;org.apache.commons.collections4.*&lt;/wls:package-name&gt;\n            &lt;wls:package-name&gt;org.apache.commons.compress.*&lt;/wls:package-name&gt;\n            &lt;wls:package-name&gt;org.apache.poi.*&lt;/wls:package-name&gt;\n            &lt;wls:package-name&gt;org.apache.xmlbeans.*&lt;/wls:package-name&gt;\n            &lt;wls:package-name&gt;org.apache.xmlbeans.XmlOptions&lt;/wls:package-name&gt;\n            &lt;wls:package-name&gt;org.openxmlformats.*&lt;/wls:package-name&gt;\n            &lt;wls:package-name&gt;schemaorg_apache_xmlbeans.*&lt;/wls:package-name&gt;\n        &lt;/wls:prefer-application-packages&gt;\n        &lt;wls:prefer-application-resources&gt;\n            &lt;wls:resource-name&gt;schemaorg_apache_xmlbeans/system/sXMLCONFIG/TypeSystemHolder.class&lt;/wls:resource-name&gt;\n            &lt;wls:resource-name&gt;schemaorg_apache_xmlbeans/system/sXMLLANG/TypeSystemHolder.class&lt;/wls:resource-name&gt;\n            &lt;wls:resource-name&gt;schemaorg_apache_xmlbeans/system/sXMLSCHEMA/TypeSystemHolder.class&lt;/wls:resource-name&gt;\n            &lt;wls:resource-name&gt;schemaorg_apache_xmlbeans/system/sXMLTOOLS/TypeSystemHolder.class&lt;/wls:resource-name&gt;\n        &lt;/wls:prefer-application-resources&gt;\n    &lt;/wls:container-descriptor&gt;\n \n</code></pre>\n<p>However, the issue arises that setting prefer-web-inf-classes to false breaks some of the rest of the application. So my question becomes, is there a way in the file I'm creating the excel, to specify that I want it to be built from the apache xmlbeans and not the weblogic xmlbeans? I'm thinking something like Classloader/Urlloader but I haven't been able to make that work properly yet, but I may be implementing it wrong.</p>\n<p>Lastly, I'll include my pom.xml file</p>\n<pre><code> &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\n            &lt;artifactId&gt;poi-ooxml&lt;/artifactId&gt;\n            &lt;version&gt;${org.apache.poi-version}&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n            &lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\n            &lt;version&gt;2.16.0&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;commons-codec&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-codec&lt;/artifactId&gt;\n            &lt;version&gt;${org.apache.commons-commons-codec-version}&lt;/version&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;junit&lt;/groupId&gt;\n                    &lt;artifactId&gt;junit&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-lang3&lt;/artifactId&gt;\n            &lt;version&gt;${org.apache.commons-commons-lang3-version}&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.eclipse.persistence&lt;/groupId&gt;\n            &lt;artifactId&gt;org.eclipse.persistence.core&lt;/artifactId&gt;\n            &lt;version&gt;${org.eclipse.persistence-core-version}&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.googlecode.json-simple&lt;/groupId&gt;\n            &lt;artifactId&gt;json-simple&lt;/artifactId&gt;\n            &lt;version&gt;1.1.1&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;joda-time&lt;/groupId&gt;\n            &lt;artifactId&gt;joda-time&lt;/artifactId&gt;\n            &lt;version&gt;2.10.14&lt;/version&gt;\n            &lt;scope&gt;compile&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;commons-beanutils&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-beanutils&lt;/artifactId&gt;\n            &lt;version&gt;1.9.3&lt;/version&gt;\n            &lt;scope&gt;compile&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n            &lt;artifactId&gt;log4j-to-slf4j&lt;/artifactId&gt;\n            &lt;version&gt;2.8.2&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n&lt;/project&gt;\n</code></pre>\n"},{"tags":["java","spring","rest"],"answers":[{"tags":[],"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676914878,"creation_date":1676914878,"answer_id":75512545,"question_id":75501061,"body_markdown":"Try changing the name of isRaining to raining, ie \r\n\r\nprivate boolean raining;\r\n\r\nLombok @Data might be getting confused because the convention for generated boolean getters is to prepend “is”.\r\n","title":"Why do I get only *false* from @PostMapping","body":"<p>Try changing the name of isRaining to raining, ie</p>\n<p>private boolean raining;</p>\n<p>Lombok @Data might be getting confused because the convention for generated boolean getters is to prepend “is”.</p>\n"}],"owner":{"account_id":20270126,"reputation":1,"user_id":14866485,"display_name":"Юрій Огоновський"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1676914878,"creation_date":1676819063,"question_id":75501061,"body_markdown":"I have Measurement class and DTO for it.\r\nHere&#39;s the class:\r\n \r\n\r\n       \r\n```\r\n @Data\r\n        public class MeasurementDTO {\r\n        @Column(name = &quot;measurement_temp&quot;)\r\n        private double temp;\r\n    \r\n        @Column(name = &quot;measurement_raining&quot;)\r\n        private boolean isRaining;\r\n    \r\n        @NotEmpty\r\n        @NotNull\r\n        private String sensorName;\r\n        }\r\n\r\n```\r\nAnd controller for it:\r\n\r\n   \r\n```\r\n @PostMapping(&quot;/add&quot;)\r\n    private ResponseEntity&lt;HttpStatus&gt; add(@RequestBody @Valid MeasurementDTO measurementDTO,\r\n                                           BindingResult bindingResult){\r\n\r\n        System.out.println(measurementDTO.isRaining()); // returns false only\r\n\r\n        if(bindingResult.hasErrors()){\r\n            StringBuilder errorMsg = new StringBuilder();\r\n\r\n            List&lt;FieldError&gt; errors = bindingResult.getFieldErrors();\r\n\r\n            for (FieldError error : errors)\r\n                errorMsg.append(error.getField())\r\n                        .append(&quot; - &quot;)\r\n                        .append(error.getDefaultMessage())\r\n                        .append(&quot;; &quot;);\r\n\r\n            throw new MeasurementNotCreatedException(errorMsg.toString());\r\n        }\r\n\r\n        if(sensorService.getAll().stream().anyMatch(s -&gt; s.getName().equals(measurementDTO.getSensorName()))){\r\n            Measurement measurement = convertToMeasurement(measurementDTO);\r\n            measurement.setSensor(sensorService.getByName(measurementDTO.getSensorName()));\r\n\r\n            measurementService.save(measurement);\r\n\r\n            return new ResponseEntity&lt;&gt;(HttpStatus.OK);\r\n        } else throw new SensorNotFoundException();\r\n\r\n\r\n    }\r\n```\r\nI do POST requestes with Postman. Sample\r\n{\r\n    &quot;isRaining&quot; : true,\r\n    &quot;temp&quot; : 24.0,\r\n    &quot;sensorName&quot; : &quot;new sensor&quot;\r\n}\r\n\r\n","title":"Why do I get only *false* from @PostMapping","body":"<p>I have Measurement class and DTO for it.\nHere's the class:</p>\n<pre><code> @Data\n        public class MeasurementDTO {\n        @Column(name = &quot;measurement_temp&quot;)\n        private double temp;\n    \n        @Column(name = &quot;measurement_raining&quot;)\n        private boolean isRaining;\n    \n        @NotEmpty\n        @NotNull\n        private String sensorName;\n        }\n\n</code></pre>\n<p>And controller for it:</p>\n<pre><code> @PostMapping(&quot;/add&quot;)\n    private ResponseEntity&lt;HttpStatus&gt; add(@RequestBody @Valid MeasurementDTO measurementDTO,\n                                           BindingResult bindingResult){\n\n        System.out.println(measurementDTO.isRaining()); // returns false only\n\n        if(bindingResult.hasErrors()){\n            StringBuilder errorMsg = new StringBuilder();\n\n            List&lt;FieldError&gt; errors = bindingResult.getFieldErrors();\n\n            for (FieldError error : errors)\n                errorMsg.append(error.getField())\n                        .append(&quot; - &quot;)\n                        .append(error.getDefaultMessage())\n                        .append(&quot;; &quot;);\n\n            throw new MeasurementNotCreatedException(errorMsg.toString());\n        }\n\n        if(sensorService.getAll().stream().anyMatch(s -&gt; s.getName().equals(measurementDTO.getSensorName()))){\n            Measurement measurement = convertToMeasurement(measurementDTO);\n            measurement.setSensor(sensorService.getByName(measurementDTO.getSensorName()));\n\n            measurementService.save(measurement);\n\n            return new ResponseEntity&lt;&gt;(HttpStatus.OK);\n        } else throw new SensorNotFoundException();\n\n\n    }\n</code></pre>\n<p>I do POST requestes with Postman. Sample\n{\n&quot;isRaining&quot; : true,\n&quot;temp&quot; : 24.0,\n&quot;sensorName&quot; : &quot;new sensor&quot;\n}</p>\n"},{"tags":["java","jersey","dropwizard"],"comments":[{"owner":{"account_id":13874157,"reputation":584,"user_id":10016327,"display_name":"satyesht"},"score":0,"creation_date":1675978576,"post_id":75404594,"comment_id":133049944,"body_markdown":"Please add the full EventModel /Event class","body":"Please add the full EventModel /Event class"},{"owner":{"account_id":2591971,"reputation":16544,"user_id":2246488,"accept_rate":47,"display_name":"James Wierzba"},"score":0,"creation_date":1675978620,"post_id":75404594,"comment_id":133049954,"body_markdown":"@satyesht that is auto generated from api.yaml -- do you really want me to past the full generated code?","body":"@satyesht that is auto generated from api.yaml -- do you really want me to past the full generated code?"},{"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"score":0,"creation_date":1676325716,"post_id":75404594,"comment_id":133111468,"body_markdown":"Is the complete api definition of Event shown? I’m trying to understand where streamCount comes from.","body":"Is the complete api definition of Event shown? I’m trying to understand where streamCount comes from."},{"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"score":0,"creation_date":1676409640,"post_id":75404594,"comment_id":133130768,"body_markdown":"The example payload is still wrong, now the curly braces missing. Also, the example curl is missing the [ ]","body":"The example payload is still wrong, now the curly braces missing. Also, the example curl is missing the [ ]"},{"owner":{"account_id":2591971,"reputation":16544,"user_id":2246488,"accept_rate":47,"display_name":"James Wierzba"},"score":0,"creation_date":1676410459,"post_id":75404594,"comment_id":133130954,"body_markdown":"@JohnWilliams updated the payloads again and also double checked that I&#39;m still seeing the error locally.","body":"@JohnWilliams updated the payloads again and also double checked that I&#39;m still seeing the error locally."},{"owner":{"account_id":2591971,"reputation":16544,"user_id":2246488,"accept_rate":47,"display_name":"James Wierzba"},"score":0,"creation_date":1676410552,"post_id":75404594,"comment_id":133130967,"body_markdown":"@JohnWilliams yes it is a complete definition. the thing that is missing is the auto-generated protobuf code that is generated by the framework that is used in the API event handlers. one such auto-generated function is that `getStreamCount()` function you are referring to","body":"@JohnWilliams yes it is a complete definition. the thing that is missing is the auto-generated protobuf code that is generated by the framework that is used in the API event handlers. one such auto-generated function is that <code>getStreamCount()</code> function you are referring to"},{"owner":{"account_id":2591971,"reputation":16544,"user_id":2246488,"accept_rate":47,"display_name":"James Wierzba"},"score":0,"creation_date":1676411035,"post_id":75404594,"comment_id":133131065,"body_markdown":"I will get the generated code over to you","body":"I will get the generated code over to you"},{"owner":{"account_id":2591971,"reputation":16544,"user_id":2246488,"accept_rate":47,"display_name":"James Wierzba"},"score":1,"creation_date":1676412230,"post_id":75404594,"comment_id":133131328,"body_markdown":"@JohnWilliams The auto generated java protobuf code is provided at the bottom of the question","body":"@JohnWilliams The auto generated java protobuf code is provided at the bottom of the question"},{"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"score":0,"creation_date":1676415112,"post_id":75404594,"comment_id":133131852,"body_markdown":"What tool did you use to generate the Java stubs from openapi spec?","body":"What tool did you use to generate the Java stubs from openapi spec?"},{"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"score":0,"creation_date":1676415340,"post_id":75404594,"comment_id":133131893,"body_markdown":"Can you add System.out.println(event. getStreamList().size()); and System.out.println(event. getStreamList().get(0)); to the receiveEvent implementation and update response.","body":"Can you add System.out.println(event. getStreamList().size()); and System.out.println(event. getStreamList().get(0)); to the receiveEvent implementation and update response."},{"owner":{"account_id":2591971,"reputation":16544,"user_id":2246488,"accept_rate":47,"display_name":"James Wierzba"},"score":0,"creation_date":1676424785,"post_id":75404594,"comment_id":133133253,"body_markdown":"@JohnWilliams the output for that is `0` and `IndexOutOfBoundsException` respectively. regarding generation of java stubs from open api spec, I need to dig into that a little bit to figure out how that works -- ill get back to you on that","body":"@JohnWilliams the output for that is <code>0</code> and <code>IndexOutOfBoundsException</code> respectively. regarding generation of java stubs from open api spec, I need to dig into that a little bit to figure out how that works -- ill get back to you on that"}],"answers":[{"tags":[],"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676454673,"creation_date":1676453576,"answer_id":75457806,"question_id":75404594,"body_markdown":"You can&#39;t use the same class as the payload for protobuf and json.\r\n\r\nIf you inspect the [Event][1] generated for protobuf processing you will notice that the the stream is stored as `stream_` and has a `setStream` that returns a `Builder` as follows. A JSON deserialiser can&#39;t work with it:\r\n\r\n      /**\r\n       * &lt;code&gt;repeated .com.apple.amp.social.linearmasterplaylist.refresh.model.StreamModel stream = 2;&lt;/code&gt;\r\n       */\r\n      public Builder setStream(\r\n          int index, com.apple.amp.social.linearmasterplaylist.refresh.model.Stream.StreamModel value) {\r\n        if (streamBuilder_ == null) {\r\n          if (value == null) {\r\n            throw new NullPointerException();\r\n          }\r\n          ensureStreamIsMutable();\r\n          stream_.set(index, value);\r\n          onChanged();\r\n        } else {\r\n          streamBuilder_.setMessage(index, value);\r\n        }\r\n        return this;\r\n      }\r\n\r\nA JSON deserialiser (probably jackson-databind) needs a definition of Event like [this generated with openapi-generator-cli][2]. In this case the stream and its setter look like this: (note that the `@JsonProperty(&quot;streams&quot;)` is redundant as the property is named `streams`)\r\n\r\n      @JsonProperty(&quot;streams&quot;)\r\n      @Valid\r\n      private List&lt;Stream&gt; streams = null;\r\n\r\nand\r\n\r\n      public void setStreams(List&lt;Stream&gt; streams) {\r\n        this.streams = streams;\r\n      }\r\n\r\n\r\nI have included the other model definitions [here][3] to allow you to try them with you controller to show that JSON is correctly consumed.\r\n\r\nIt is possible to write code to inspect the incoming media type and fork the processing. Eg the following generated by openapi-generator. I would recommend a separate controller method for each media type and some sort of mapping so that a single service layer call will suffice.\r\n\r\n    @RequestMapping(\r\n        method = RequestMethod.POST,\r\n        value = &quot;/v1/event&quot;,\r\n        produces = { &quot;application/json&quot;, &quot;application/x-protobuf&quot; },\r\n        consumes = { &quot;application/json&quot;, &quot;application/x-protobuf&quot; }\r\n    )\r\n    default ResponseEntity&lt;EventResponse&gt; receiveEvent(\r\n        @Parameter(name = &quot;event&quot;, description = &quot;&quot;) @Valid @RequestBody(required = false) Event event\r\n    ) {\r\n        getRequest().ifPresent(request -&gt; {\r\n            for (MediaType mediaType: MediaType.parseMediaTypes(request.getHeader(&quot;Accept&quot;))) {\r\n                if (mediaType.isCompatibleWith(MediaType.valueOf(&quot;application/json&quot;))) {\r\n                    String exampleString = &quot;{ \\&quot;statusCode\\&quot; : 0 }&quot;;\r\n                    ApiUtil.setExampleResponse(request, &quot;application/json&quot;, exampleString);\r\n                    break;\r\n                }\r\n                if (mediaType.isCompatibleWith(MediaType.valueOf(&quot;application/x-protobuf&quot;))) {\r\n                    String exampleString = &quot;Custom MIME type example not yet supported: application/x-protobuf&quot;;\r\n                    ApiUtil.setExampleResponse(request, &quot;application/x-protobuf&quot;, exampleString);\r\n                    break;\r\n                }\r\n            }\r\n        });\r\n        return new ResponseEntity&lt;&gt;(HttpStatus.NOT_IMPLEMENTED);\r\n    \r\n    }\r\n\r\nOn a separate note, but I doubt it will help: it looks like the protobuf is using stream (singular) (eg getStreamList()) and the swagger get uses streams (plural).\r\n\r\n\r\n  [1]: https://gist.github.com/wierzba3/84face6c21c4fb6ce554f90707ba6ef9\r\n  [2]: https://gist.github.com/KoosieDeMoer/d61caa3c85a83acfafffa2c626b27084\r\n  [3]: https://gist.github.com/KoosieDeMoer/4a95713ce7474c2dedcf8f052d7403fd","title":"Nested json type won&#39;t serialize in jersey","body":"<p>You can't use the same class as the payload for protobuf and json.</p>\n<p>If you inspect the <a href=\"https://gist.github.com/wierzba3/84face6c21c4fb6ce554f90707ba6ef9\" rel=\"nofollow noreferrer\">Event</a> generated for protobuf processing you will notice that the the stream is stored as <code>stream_</code> and has a <code>setStream</code> that returns a <code>Builder</code> as follows. A JSON deserialiser can't work with it:</p>\n<pre><code>  /**\n   * &lt;code&gt;repeated .com.apple.amp.social.linearmasterplaylist.refresh.model.StreamModel stream = 2;&lt;/code&gt;\n   */\n  public Builder setStream(\n      int index, com.apple.amp.social.linearmasterplaylist.refresh.model.Stream.StreamModel value) {\n    if (streamBuilder_ == null) {\n      if (value == null) {\n        throw new NullPointerException();\n      }\n      ensureStreamIsMutable();\n      stream_.set(index, value);\n      onChanged();\n    } else {\n      streamBuilder_.setMessage(index, value);\n    }\n    return this;\n  }\n</code></pre>\n<p>A JSON deserialiser (probably jackson-databind) needs a definition of Event like <a href=\"https://gist.github.com/KoosieDeMoer/d61caa3c85a83acfafffa2c626b27084\" rel=\"nofollow noreferrer\">this generated with openapi-generator-cli</a>. In this case the stream and its setter look like this: (note that the <code>@JsonProperty(&quot;streams&quot;)</code> is redundant as the property is named <code>streams</code>)</p>\n<pre><code>  @JsonProperty(&quot;streams&quot;)\n  @Valid\n  private List&lt;Stream&gt; streams = null;\n</code></pre>\n<p>and</p>\n<pre><code>  public void setStreams(List&lt;Stream&gt; streams) {\n    this.streams = streams;\n  }\n</code></pre>\n<p>I have included the other model definitions <a href=\"https://gist.github.com/KoosieDeMoer/4a95713ce7474c2dedcf8f052d7403fd\" rel=\"nofollow noreferrer\">here</a> to allow you to try them with you controller to show that JSON is correctly consumed.</p>\n<p>It is possible to write code to inspect the incoming media type and fork the processing. Eg the following generated by openapi-generator. I would recommend a separate controller method for each media type and some sort of mapping so that a single service layer call will suffice.</p>\n<pre><code>@RequestMapping(\n    method = RequestMethod.POST,\n    value = &quot;/v1/event&quot;,\n    produces = { &quot;application/json&quot;, &quot;application/x-protobuf&quot; },\n    consumes = { &quot;application/json&quot;, &quot;application/x-protobuf&quot; }\n)\ndefault ResponseEntity&lt;EventResponse&gt; receiveEvent(\n    @Parameter(name = &quot;event&quot;, description = &quot;&quot;) @Valid @RequestBody(required = false) Event event\n) {\n    getRequest().ifPresent(request -&gt; {\n        for (MediaType mediaType: MediaType.parseMediaTypes(request.getHeader(&quot;Accept&quot;))) {\n            if (mediaType.isCompatibleWith(MediaType.valueOf(&quot;application/json&quot;))) {\n                String exampleString = &quot;{ \\&quot;statusCode\\&quot; : 0 }&quot;;\n                ApiUtil.setExampleResponse(request, &quot;application/json&quot;, exampleString);\n                break;\n            }\n            if (mediaType.isCompatibleWith(MediaType.valueOf(&quot;application/x-protobuf&quot;))) {\n                String exampleString = &quot;Custom MIME type example not yet supported: application/x-protobuf&quot;;\n                ApiUtil.setExampleResponse(request, &quot;application/x-protobuf&quot;, exampleString);\n                break;\n            }\n        }\n    });\n    return new ResponseEntity&lt;&gt;(HttpStatus.NOT_IMPLEMENTED);\n\n}\n</code></pre>\n<p>On a separate note, but I doubt it will help: it looks like the protobuf is using stream (singular) (eg getStreamList()) and the swagger get uses streams (plural).</p>\n"},{"tags":[],"owner":{"account_id":2591971,"reputation":16544,"user_id":2246488,"accept_rate":47,"display_name":"James Wierzba"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676685406,"creation_date":1676685406,"answer_id":75490713,"question_id":75404594,"body_markdown":"So, the issue turned out to be a bug in our companies internal implementation of the code generation module.\r\n\r\nWorkflow looks like this: api.yaml specified -&gt; .proto file generated -&gt; .java code generated.\r\n\r\nTo be explicit. Using the schema in question. Note I changed the list to have name `myStreamArrayInput` to illustrate the issue at hand.\r\n```\r\n  Event:\r\n    properties:\r\n      eventCity:\r\n        type: &quot;string&quot;\r\n      myStreamArrayInput:\r\n        type: &quot;array&quot;\r\n        items:\r\n          $ref: &quot;#/definitions/Stream&quot;\r\n```\r\n\r\nThis would generate a proto like this:\r\n```\r\nmessage Event {\r\n    optional string eventCity = 1;\r\n    /*\r\n        this name should be `myStreamArrayInput` or something \r\n        close to it. but it is using the name of the TYPE \r\n        instead of the name specified by the dev in api.yaml\r\n    */\r\n    repeated StreamModel stream; \r\n}\r\n```\r\n\r\nAnd then this would generate a java class like this\r\n```\r\npublic final class Event {\r\n\r\n    public static final class EventModel extends\r\n      com.google.protobuf.GeneratedMessageV3 implements EventModelOrBuilder {\r\n        private EventModel() {\r\n            eventCity_ = &quot;&quot;;\r\n            stream_ = &quot;&quot;; \r\n        }\r\n    }\r\n\r\n}\r\n```\r\n\r\nYMMV, since this is an bug in our own internal code generation engine","title":"Nested json type won&#39;t serialize in jersey","body":"<p>So, the issue turned out to be a bug in our companies internal implementation of the code generation module.</p>\n<p>Workflow looks like this: api.yaml specified -&gt; .proto file generated -&gt; .java code generated.</p>\n<p>To be explicit. Using the schema in question. Note I changed the list to have name <code>myStreamArrayInput</code> to illustrate the issue at hand.</p>\n<pre><code>  Event:\n    properties:\n      eventCity:\n        type: &quot;string&quot;\n      myStreamArrayInput:\n        type: &quot;array&quot;\n        items:\n          $ref: &quot;#/definitions/Stream&quot;\n</code></pre>\n<p>This would generate a proto like this:</p>\n<pre><code>message Event {\n    optional string eventCity = 1;\n    /*\n        this name should be `myStreamArrayInput` or something \n        close to it. but it is using the name of the TYPE \n        instead of the name specified by the dev in api.yaml\n    */\n    repeated StreamModel stream; \n}\n</code></pre>\n<p>And then this would generate a java class like this</p>\n<pre><code>public final class Event {\n\n    public static final class EventModel extends\n      com.google.protobuf.GeneratedMessageV3 implements EventModelOrBuilder {\n        private EventModel() {\n            eventCity_ = &quot;&quot;;\n            stream_ = &quot;&quot;; \n        }\n    }\n\n}\n</code></pre>\n<p>YMMV, since this is an bug in our own internal code generation engine</p>\n"},{"tags":[],"owner":{"account_id":21329223,"reputation":1,"user_id":15701220,"display_name":"Ar Siam"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676914395,"creation_date":1676914395,"answer_id":75512478,"question_id":75404594,"body_markdown":"    import com.fasterxml.jackson.annotation.JsonProperty;\r\n    import com.fasterxml.jackson.databind.ObjectMapper;\r\n    \r\n    import javax.ws.rs.*;\r\n    import javax.ws.rs.core.MediaType;\r\n    import javax.ws.rs.core.Response;\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    \r\n    @Path(&quot;/myresource&quot;)\r\n    public class MyResource {\r\n    \r\n        @GET\r\n        @Produces(MediaType.APPLICATION_JSON)\r\n        public Response getJson() {\r\n            ObjectMapper mapper = new ObjectMapper();\r\n            List&lt;MyObject&gt; myObjects = new ArrayList&lt;&gt;();\r\n            MyObject myObject = new MyObject(&quot;foo&quot;, new NestedObject(&quot;bar&quot;));\r\n            myObjects.add(myObject);\r\n            String json;\r\n            try {\r\n                json = mapper.writeValueAsString(myObjects);\r\n            } catch (Exception e) {\r\n                return Response.status(Response.Status.INTERNAL_SERVER_ERROR).build();\r\n            }\r\n            return Response.ok(json, MediaType.APPLICATION_JSON).build();\r\n        }\r\n    \r\n        private static class MyObject {\r\n            private String name;\r\n            private NestedObject nestedObject;\r\n    \r\n            public MyObject(String name, NestedObject nestedObject) {\r\n                this.name = name;\r\n                this.nestedObject = nestedObject;\r\n            }\r\n    \r\n            @JsonProperty(&quot;name&quot;)\r\n            public String getName() {\r\n                return name;\r\n            }\r\n    \r\n            @JsonProperty(&quot;nested_object&quot;)\r\n            public NestedObject getNestedObject() {\r\n                return nestedObject;\r\n            }\r\n        }\r\n    \r\n        private static class NestedObject {\r\n            private String value;\r\n    \r\n            public NestedObject(String value) {\r\n                this.value = value;\r\n            }\r\n    \r\n            @JsonProperty(&quot;value&quot;)\r\n            public String getValue() {\r\n                return value;\r\n            }\r\n        }\r\n    }\r\n\r\n","title":"Nested json type won&#39;t serialize in jersey","body":"<pre><code>import com.fasterxml.jackson.annotation.JsonProperty;\nimport com.fasterxml.jackson.databind.ObjectMapper;\n\nimport javax.ws.rs.*;\nimport javax.ws.rs.core.MediaType;\nimport javax.ws.rs.core.Response;\nimport java.util.ArrayList;\nimport java.util.List;\n\n@Path(&quot;/myresource&quot;)\npublic class MyResource {\n\n    @GET\n    @Produces(MediaType.APPLICATION_JSON)\n    public Response getJson() {\n        ObjectMapper mapper = new ObjectMapper();\n        List&lt;MyObject&gt; myObjects = new ArrayList&lt;&gt;();\n        MyObject myObject = new MyObject(&quot;foo&quot;, new NestedObject(&quot;bar&quot;));\n        myObjects.add(myObject);\n        String json;\n        try {\n            json = mapper.writeValueAsString(myObjects);\n        } catch (Exception e) {\n            return Response.status(Response.Status.INTERNAL_SERVER_ERROR).build();\n        }\n        return Response.ok(json, MediaType.APPLICATION_JSON).build();\n    }\n\n    private static class MyObject {\n        private String name;\n        private NestedObject nestedObject;\n\n        public MyObject(String name, NestedObject nestedObject) {\n            this.name = name;\n            this.nestedObject = nestedObject;\n        }\n\n        @JsonProperty(&quot;name&quot;)\n        public String getName() {\n            return name;\n        }\n\n        @JsonProperty(&quot;nested_object&quot;)\n        public NestedObject getNestedObject() {\n            return nestedObject;\n        }\n    }\n\n    private static class NestedObject {\n        private String value;\n\n        public NestedObject(String value) {\n            this.value = value;\n        }\n\n        @JsonProperty(&quot;value&quot;)\n        public String getValue() {\n            return value;\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":2591971,"reputation":16544,"user_id":2246488,"accept_rate":47,"display_name":"James Wierzba"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":199,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1676914395,"creation_date":1675978166,"question_id":75404594,"body_markdown":"I&#39;m running a dropwizard/jersey java restful web app.\r\n\r\nI have an endpoint that is defined like this in `api.yaml`:\r\n```\r\nswagger: &#39;2.0&#39;\r\ninfo:\r\n  version: 0.0.1\r\nbasePath: /\r\nschemes:\r\n  - https\r\n  - http\r\nconsumes:\r\n- application/json\r\n- application/x-protobuf\r\nproduces:\r\n- application/json\r\n- application/x-protobuf\r\npaths:\r\n  /v1/event:\r\n    post:\r\n      summary: receive a event\r\n      operationId: receiveEvent ## this value names the generated Java method\r\n      parameters:\r\n        - name: event\r\n          in: body\r\n          schema:\r\n            $ref: &quot;#/definitions/Event&quot;\r\n      responses:\r\n        200:\r\n          description: success\r\n          schema:\r\n            type: object\r\n            $ref: &#39;#/definitions/EventResponse&#39;\r\n\r\ndefinitions:\r\n  Stream:\r\n    properties:\r\n      vendor:\r\n        type: &quot;string&quot;\r\n  Event:\r\n    properties:\r\n      eventCity:\r\n        type: &quot;string&quot;\r\n      streams:\r\n        type: &quot;array&quot;\r\n        items:\r\n          $ref: &quot;#/definitions/Stream&quot;\r\n  EventResponse:\r\n    required:\r\n      - statusCode\r\n    properties:\r\n      statusCode:\r\n        type: &quot;integer&quot;\r\n```\r\n\r\nEndpoint is defined like so\r\n```\r\n    @POST\r\n    @Consumes({ &quot;application/json&quot;, &quot;application/x-protobuf&quot; })\r\n    @Produces({ &quot;application/json&quot;, &quot;application/x-protobuf&quot; })\r\n    @Path(&quot;/event&quot;)\r\n    void receiveEvent(\r\n            @Suspended AsyncResponse response,\r\n            @Valid Event.EventModel  event\r\n    );\r\n```\r\n\r\nWhen issuing json POST request, I cannot get the `streams` field to get serialized/deserialized property.\r\n\r\nThis is the payload\r\n```\r\n{\r\n  &quot;eventCity&quot;: &quot;San Diego&quot;, \r\n  &quot;streams&quot;: [\r\n    {\r\n      &quot;vendor&quot;: &quot;CBS&quot;\r\n    }\r\n  ]\r\n}\r\n```\r\n\r\nI test like this with `curl`\r\n```\r\ncurl -X POST -H &quot;Content-Type: application/json&quot; -d &#39;{&quot;eventCity&quot;: &quot;San Diego&quot;, &quot;streams&quot;: [{&quot;vendor&quot;: &quot;CBS&quot;}]}&#39; https://localhost:8990/v1/event\r\n```\r\n\r\nIn the server request handler:\r\n```\r\n@Override\r\npublic void receiveEvent(AsyncResponse response, Event.EventModel event) {\r\n  System.out.println(event.getEventCity());\r\n  System.out.println(event.getStreamCount()); // &lt;-- this returns 0? why is the inner &#39;streams&#39; list not getting serialized? it should have one element\r\n}\r\n```\r\n\r\nAnd the output:\r\n```\r\nSan Diego\r\n0 \r\n```\r\n\r\n\r\nAnother observation, is that when I issue the same post, but with a protobuf payload, it works. The streams list is populated.\r\n\r\nThe protobuf was generated like so\r\n\r\n```\r\n// create proto\r\nStream.StreamModel stream = Stream.StreamModel.newBuilder()\r\n        .setVendor(&quot;CBS&quot;)\r\n        .build();\r\nEvent.EventModel event = Event.EventModel.newBuilder()\r\n        .setEventCity(&quot;San Diego&quot;)\r\n        .addStream(stream)\r\n        .build();\r\n\r\n// write to file\r\nFileOutputStream fos = new FileOutputStream(&quot;/Users/jameswierzba/temp/proto.out&quot;);\r\nstream.writeTo(fos);\r\n```\r\n\r\nThe output in the endpoint is as expected:\r\n```\r\nSan Diego\r\n1 \r\n```\r\n\r\nThis is the full generated code for the `Event` class: https://gist.github.com/wierzba3/84face6c21c4fb6ce554f90707ba6ef9\r\n\r\nThis is the full generated doe for the `Stream` class: https://gist.github.com/wierzba3/32664312df87c64049b281daab928f94","title":"Nested json type won&#39;t serialize in jersey","body":"<p>I'm running a dropwizard/jersey java restful web app.</p>\n<p>I have an endpoint that is defined like this in <code>api.yaml</code>:</p>\n<pre><code>swagger: '2.0'\ninfo:\n  version: 0.0.1\nbasePath: /\nschemes:\n  - https\n  - http\nconsumes:\n- application/json\n- application/x-protobuf\nproduces:\n- application/json\n- application/x-protobuf\npaths:\n  /v1/event:\n    post:\n      summary: receive a event\n      operationId: receiveEvent ## this value names the generated Java method\n      parameters:\n        - name: event\n          in: body\n          schema:\n            $ref: &quot;#/definitions/Event&quot;\n      responses:\n        200:\n          description: success\n          schema:\n            type: object\n            $ref: '#/definitions/EventResponse'\n\ndefinitions:\n  Stream:\n    properties:\n      vendor:\n        type: &quot;string&quot;\n  Event:\n    properties:\n      eventCity:\n        type: &quot;string&quot;\n      streams:\n        type: &quot;array&quot;\n        items:\n          $ref: &quot;#/definitions/Stream&quot;\n  EventResponse:\n    required:\n      - statusCode\n    properties:\n      statusCode:\n        type: &quot;integer&quot;\n</code></pre>\n<p>Endpoint is defined like so</p>\n<pre><code>    @POST\n    @Consumes({ &quot;application/json&quot;, &quot;application/x-protobuf&quot; })\n    @Produces({ &quot;application/json&quot;, &quot;application/x-protobuf&quot; })\n    @Path(&quot;/event&quot;)\n    void receiveEvent(\n            @Suspended AsyncResponse response,\n            @Valid Event.EventModel  event\n    );\n</code></pre>\n<p>When issuing json POST request, I cannot get the <code>streams</code> field to get serialized/deserialized property.</p>\n<p>This is the payload</p>\n<pre><code>{\n  &quot;eventCity&quot;: &quot;San Diego&quot;, \n  &quot;streams&quot;: [\n    {\n      &quot;vendor&quot;: &quot;CBS&quot;\n    }\n  ]\n}\n</code></pre>\n<p>I test like this with <code>curl</code></p>\n<pre><code>curl -X POST -H &quot;Content-Type: application/json&quot; -d '{&quot;eventCity&quot;: &quot;San Diego&quot;, &quot;streams&quot;: [{&quot;vendor&quot;: &quot;CBS&quot;}]}' https://localhost:8990/v1/event\n</code></pre>\n<p>In the server request handler:</p>\n<pre><code>@Override\npublic void receiveEvent(AsyncResponse response, Event.EventModel event) {\n  System.out.println(event.getEventCity());\n  System.out.println(event.getStreamCount()); // &lt;-- this returns 0? why is the inner 'streams' list not getting serialized? it should have one element\n}\n</code></pre>\n<p>And the output:</p>\n<pre><code>San Diego\n0 \n</code></pre>\n<p>Another observation, is that when I issue the same post, but with a protobuf payload, it works. The streams list is populated.</p>\n<p>The protobuf was generated like so</p>\n<pre><code>// create proto\nStream.StreamModel stream = Stream.StreamModel.newBuilder()\n        .setVendor(&quot;CBS&quot;)\n        .build();\nEvent.EventModel event = Event.EventModel.newBuilder()\n        .setEventCity(&quot;San Diego&quot;)\n        .addStream(stream)\n        .build();\n\n// write to file\nFileOutputStream fos = new FileOutputStream(&quot;/Users/jameswierzba/temp/proto.out&quot;);\nstream.writeTo(fos);\n</code></pre>\n<p>The output in the endpoint is as expected:</p>\n<pre><code>San Diego\n1 \n</code></pre>\n<p>This is the full generated code for the <code>Event</code> class: <a href=\"https://gist.github.com/wierzba3/84face6c21c4fb6ce554f90707ba6ef9\" rel=\"nofollow noreferrer\">https://gist.github.com/wierzba3/84face6c21c4fb6ce554f90707ba6ef9</a></p>\n<p>This is the full generated doe for the <code>Stream</code> class: <a href=\"https://gist.github.com/wierzba3/32664312df87c64049b281daab928f94\" rel=\"nofollow noreferrer\">https://gist.github.com/wierzba3/32664312df87c64049b281daab928f94</a></p>\n"},{"tags":["java","android"],"owner":{"account_id":25105260,"reputation":1,"user_id":18955508,"display_name":"jayadra"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":13,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1676914734,"answer_count":0,"score":0,"last_activity_date":1676914363,"creation_date":1676914363,"question_id":75512469,"body_markdown":"\r\n```\r\npackage com.jay.Atmos;\r\n\r\nimport android.annotation.SuppressLint;\r\nimport android.content.ComponentName;\r\nimport android.content.Intent;\r\nimport android.content.SharedPreferences;\r\nimport android.graphics.Bitmap;\r\nimport android.graphics.Canvas;\r\nimport android.graphics.drawable.AnimationDrawable;\r\nimport android.graphics.drawable.Drawable;\r\nimport android.graphics.drawable.TransitionDrawable;\r\nimport android.os.Build;\r\nimport android.os.Bundle;\r\nimport android.util.Log;\r\nimport android.view.MenuItem;\r\nimport android.view.View;\r\nimport android.widget.ImageButton;\r\nimport android.widget.RelativeLayout;\r\nimport android.widget.TextView;\r\nimport android.widget.Toast;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.appcompat.app.ActionBar;\r\nimport androidx.appcompat.app.ActionBarDrawerToggle;\r\nimport androidx.appcompat.widget.Toolbar;\r\nimport androidx.core.content.ContextCompat;\r\nimport androidx.drawerlayout.widget.DrawerLayout;\r\nimport androidx.fragment.app.Fragment;\r\nimport androidx.fragment.app.FragmentManager;\r\n\r\nimport com.google.android.material.bottomnavigation.BottomNavigationView;\r\nimport com.google.android.material.navigation.NavigationView;\r\nimport com.google.firebase.auth.FirebaseAuth;\r\nimport com.google.firebase.auth.FirebaseUser;\r\nimport com.google.firebase.auth.GithubAuthCredential;\r\nimport com.google.firebase.database.DataSnapshot;\r\nimport com.google.firebase.database.DatabaseError;\r\nimport com.google.firebase.database.DatabaseReference;\r\nimport com.google.firebase.database.FirebaseDatabase;\r\nimport com.google.firebase.database.ValueEventListener;\r\nimport com.ismaeldivita.chipnavigation.ChipNavigationBar;\r\nimport com.jay.Atmos.Fragment.HomeFragment;\r\nimport com.jay.Atmos.Fragment.NotificationFragment;\r\nimport com.jay.Atmos.Fragment.ProfileFragment;\r\nimport com.jay.Atmos.Fragment.SearchFragment;\r\n\r\nimport com.jay.Atmos.calling.BaseActivity;\r\nimport com.jay.Atmos.calling.SinchService;\r\nimport com.sinch.android.rtc.SinchError;\r\nimport com.squareup.picasso.Picasso;\r\n\r\nimport java.util.Objects;\r\n\r\nimport de.hdodenhof.circleimageview.CircleImageView;\r\n\r\npublic class MainActivity  extends BaseActivity implements SinchService.StartFailedListener {\r\n\r\n\r\n    Fragment selectedFagrament = null;\r\n    DatabaseReference RootRef;\r\n\r\n    private ImageButton ChatButton;\r\n    private Toolbar mToolbar;\r\n\r\n\r\n    int prev_nav_item = 0;\r\n\r\n    private CircleImageView navProfileImage;\r\n    private TextView navUserName;\r\n\r\n\r\n    private ActionBarDrawerToggle actionBarDrawerToggle;\r\n\r\n\r\n    private NavigationView navigationView;\r\n\r\n\r\n    private DrawerLayout drawerLayout;\r\n\r\n    Fragment fragment;\r\n\r\n    private FirebaseUser currentUser;\r\n    private FirebaseAuth mAuth;\r\n\r\n    ChipNavigationBar BottomNavBar;\r\n    FragmentManager fragmentManager;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n        mAuth = FirebaseAuth.getInstance();\r\n        currentUser = mAuth.getCurrentUser();\r\n        RootRef = FirebaseDatabase.getInstance().getReference().child(&quot;Users&quot;);\r\n        BottomNavBar = findViewById(R.id.bottom_nav_bar);\r\n\r\n\r\n\r\n\r\n//\r\n//        RelativeLayout bganim = findViewById(R.id.bganim);\r\n//\r\n////\r\n//        TransitionDrawable trans = (TransitionDrawable) bganim.getBackground();\r\n//        trans.startTransition(3000);\r\n////        trans.reverseTransition(500);\r\n//        trans.mutate();\r\n//        trans.canApplyTheme();\r\n\r\n\r\n\r\n\r\n\r\n\r\n        ChatButton = findViewById(R.id.ChatBtn);\r\n\r\n        initializechatbutton();\r\n\r\n\r\n\r\n        mToolbar = (Toolbar) findViewById(R.id.explore_toolbar);\r\n        setSupportActionBar(mToolbar);\r\n        Objects.requireNonNull(getSupportActionBar()).setTitle(&quot;Vish Me&quot;);\r\n\r\n//        getSupportActionBar().setDisplayOptions(ActionBar.DISPLAY_SHOW_CUSTOM);\r\n//        getSupportActionBar().setDisplayShowCustomEnabled(true);\r\n//        getSupportActionBar().setCustomView(R.layout.app_bar_layout);\r\n//        getSupportActionBar().setDisplayShowCustomEnabled(true);\r\n//        View view =getSupportActionBar().getCustomView();\r\n//\r\n\r\n\r\n\r\n\r\n        drawerLayout = (DrawerLayout) findViewById(R.id.drawyer_layout);\r\n        actionBarDrawerToggle = new ActionBarDrawerToggle(MainActivity.this, drawerLayout, R.string.drawer_open, R.string.drawer_close);\r\n        drawerLayout.addDrawerListener(actionBarDrawerToggle);\r\n\r\n        actionBarDrawerToggle.setHomeAsUpIndicator(R.drawable.ic_arrowoption);\r\n\r\n\r\n        actionBarDrawerToggle.syncState();\r\n        actionBarDrawerToggle.setDrawerSlideAnimationEnabled(true);\r\n        actionBarDrawerToggle.setDrawerIndicatorEnabled(true);\r\n\r\n\r\n//\r\n\r\n        if (currentUser == null) {\r\n            SendUserToLoginActivity();\r\n\r\n        } else\r\n        {\r\n\r\n\r\n\r\n            VerifyUserExistence();\r\n            Bundle intent = getIntent().getExtras();\r\n        if(intent != null) {\r\n\r\n            String publisher = intent.getString(&quot;publisherid&quot;);\r\n\r\n            SharedPreferences.Editor editor = getSharedPreferences(&quot;PREFS&quot;, MODE_PRIVATE).edit();\r\n            editor.putString(&quot;profileid&quot;, publisher);\r\n            editor.apply();\r\n\r\n            getSupportFragmentManager().beginTransaction().replace(R.id.fragment_container,\r\n                    new ProfileFragment()).commit();\r\n        }\r\n\r\n\r\n        }\r\n\r\n\r\n//\r\n\r\n\r\n\r\n\r\n\r\n            drawerLayout = (DrawerLayout) findViewById(R.id.drawyer_layout);\r\n        ActionBarDrawerToggle toggle = new ActionBarDrawerToggle(\r\n                MainActivity.this, drawerLayout, R.string.navigation_drawer_open, R.string.navigation_drawer_close);\r\n        drawerLayout.setDrawerListener(toggle);\r\n        actionBarDrawerToggle = new ActionBarDrawerToggle(MainActivity.this, drawerLayout, R.string.drawer_open, R.string.drawer_close);\r\n        drawerLayout.addDrawerListener(actionBarDrawerToggle);\r\n        actionBarDrawerToggle.syncState();\r\n\r\n        getSupportActionBar().setDisplayHomeAsUpEnabled(true);\r\n        getSupportActionBar().setDisplayShowHomeEnabled(true);\r\n        navigationView = (NavigationView) findViewById(R.id.navigation_view);\r\n        View navView = navigationView.inflateHeaderView(R.layout.navigation_header);\r\n        navProfileImage = (CircleImageView) navView.findViewById(R.id.nav_profile_image);\r\n        navUserName = (TextView) navView.findViewById(R.id.nav_profile_name);\r\n\r\n\r\n\r\n//       selectedFagrament = new HomeFragment();\r\n                    getSupportFragmentManager().beginTransaction().replace(R.id.fragment_container,\r\n                            new HomeFragment()).addToBackStack(&quot;home&quot;).commit();\r\n                    ChatButton.setVisibility(View.VISIBLE);\r\n\r\n\r\n        navigationView.setNavigationItemSelectedListener(new NavigationView.OnNavigationItemSelectedListener() {\r\n            @Override\r\n            public boolean onNavigationItemSelected(@NonNull MenuItem Item) {\r\n\r\n                NavMenuSelector(Item);\r\n\r\n\r\n                return false;\r\n            }\r\n        });\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n        if (savedInstanceState==null)\r\n        {\r\n            BottomNavBar.setItemSelected(R.id.nav_home,true);\r\n            fragmentManager = getSupportFragmentManager();\r\n            HomeFragment homeFragment = new HomeFragment();\r\n            fragmentManager.beginTransaction().replace(R.id.fragment_container , homeFragment).commit();\r\n        }\r\n\r\n        BottomNavBar.setOnItemSelectedListener(new ChipNavigationBar.OnItemSelectedListener() {\r\n            private final String TAG = MainActivity.class.getSimpleName();\r\n\r\n            @SuppressLint(&quot;NonConstantResourceId&quot;)\r\n            @Override\r\n            public void onItemSelected(int id) {\r\n\r\n                 fragment = null;\r\n\r\n                switch (id)\r\n                {\r\n                    case R.id.nav_home:\r\n                        getSupportFragmentManager().beginTransaction().replace(R.id.fragment_container,\r\n                                new HomeFragment()).addToBackStack(&quot;home&quot;).commit();\r\n                        ChatButton.setVisibility(View.VISIBLE);\r\n\r\n                        break;\r\n                    case R.id.nav_search:\r\n\r\n                        getSupportFragmentManager().beginTransaction().replace(R.id.fragment_container,\r\n                                new SearchFragment()).addToBackStack(&quot;search&quot;).commit();\r\n\r\n                        ChatButton.setVisibility(View.GONE);\r\n                      //  mToolbar.setVisibility(View.GONE);\r\n                        break;\r\n                    case R.id.nav_add:\r\n                        selectedFagrament = null;\r\n                        startActivity(new Intent(MainActivity.this, PostActivity.class));\r\n\r\n\r\n                        break;\r\n\r\n                    case R.id.nav_heart:\r\n                        getSupportFragmentManager().beginTransaction().replace(R.id.fragment_container,\r\n                                new NotificationFragment()).addToBackStack(&quot;notify&quot;).commit();\r\n\r\n                        ChatButton.setVisibility(View.GONE);\r\n                        mToolbar.setVisibility(View.GONE);\r\n\r\n                        break;\r\n                    case R.id.nav_profile:\r\n\r\n                        SharedPreferences.Editor editor = getSharedPreferences(&quot;PREFS&quot;, MODE_PRIVATE).edit();\r\n                        editor.putString(&quot;profileid&quot;, currentUser.getUid());\r\n                        editor.apply();\r\n                        ChatButton.setVisibility(View.GONE);\r\n                        getSupportFragmentManager().beginTransaction().replace(R.id.fragment_container,\r\n                                new ProfileFragment()).addToBackStack(&quot;profile&quot;).commit();\r\n\r\n\r\n                        break;\r\n                }\r\n\r\n                if (fragment!=null)\r\n                {\r\n                    fragmentManager = getSupportFragmentManager();\r\n\r\n                    fragmentManager.beginTransaction().replace(R.id.fragment_container,\r\n                            fragment).commit();\r\n                }\r\n\r\n                else\r\n                {\r\n                    Log.e(TAG , &quot;Error&quot;);\r\n                }\r\n\r\n            }\r\n        });\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n        ChatButton.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n\r\n//                selectedFagrament = null;\r\n\r\n\r\n                Intent ChatIntent = new Intent(MainActivity.this, ChatListActivity.class);\r\n                startActivity(ChatIntent);\r\n            }\r\n        });\r\n\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n    private void initializechatbutton() {\r\n    }\r\n\r\n\r\n\r\n\r\n            private void NavMenuSelector (MenuItem Item){\r\n                switch (Item.getItemId()) {\r\n                    case R.id.BirthDays:\r\n                        Toast.makeText(this, &quot;Birthdays selected&quot;, Toast.LENGTH_SHORT).show();\r\n                        break;\r\n\r\n\r\n                    case R.id.shortClips:\r\n                        //  Intent Intent = new Intent(MainActivity.this, ScreenShareActivity.class);\r\n                        // startActivity(Intent);                break;\r\n\r\n\r\n                    case R.id.short_Films:\r\n                        Toast.makeText(this, &quot;ShortFilms selected&quot;, Toast.LENGTH_SHORT).show();\r\n                        break;\r\n\r\n\r\n                    case R.id.marketing:\r\n                        Toast.makeText(this, &quot;Marketing selected&quot;, Toast.LENGTH_SHORT).show();\r\n                        break;\r\n\r\n\r\n                    case R.id.Find_Friends_option:\r\n                        Toast.makeText(this, &quot;Find Friends selected&quot;, Toast.LENGTH_SHORT).show();\r\n                        break;\r\n\r\n\r\n                    case R.id.my_contacts:\r\n                        Toast.makeText(this, &quot;My Friends selected&quot;, Toast.LENGTH_SHORT).show();\r\n                        break;\r\n\r\n\r\n                    case R.id.privacy_Settings_option:\r\n                        Toast.makeText(this, &quot;Privacy Settings selected&quot;, Toast.LENGTH_SHORT).show();\r\n                        break;\r\n\r\n\r\n                    case R.id.main_Log_Out_option:\r\n                        mAuth.signOut();\r\n\r\n\r\n                        SendUserToLoginActivity();\r\n                        break;\r\n\r\n\r\n                }\r\n            }\r\n\r\n\r\n            private void SendUserToLoginActivity () {\r\n                Intent editprofile = new Intent(MainActivity.this, AccountLoginActivity.class);\r\n                startActivity(editprofile);\r\n            }\r\n\r\n\r\n            @Override\r\n            public boolean onOptionsItemSelected (MenuItem item){\r\n                if (actionBarDrawerToggle.onOptionsItemSelected(item)) {\r\n                    return true;\r\n                }\r\n                return super.onOptionsItemSelected(item);\r\n            }\r\n\r\n\r\n            private void VerifyUserExistence () {\r\n\r\n\r\n                RootRef.child(currentUser.getUid()).addValueEventListener(new ValueEventListener() {\r\n                    @Override\r\n                    public void onDataChange(DataSnapshot dataSnapshot) {\r\n\r\n                        if ((dataSnapshot.exists()) &amp;&amp; (dataSnapshot.hasChild(&quot;username&quot;) &amp;&amp; (dataSnapshot.hasChild(&quot;profileimage&quot;) &amp;&amp; (dataSnapshot.hasChild(&quot;fullName&quot;))))) {\r\n                            String retrieveUserName = dataSnapshot.child(&quot;username&quot;).getValue().toString();\r\n                            String retrieveProfileImage = dataSnapshot.child(&quot;profileimage&quot;).getValue().toString();\r\n\r\n\r\n//                    getSupportFragmentManager().beginTransaction().replace(R.id.fragment_container,\r\n//                            new HomeFragment()).commit();\r\n\r\n\r\n                            navUserName.setText(retrieveUserName);\r\n                            Picasso.get().load(retrieveProfileImage).placeholder(R.drawable.profilepic).into(navProfileImage);\r\n\r\n\r\n                            if (!getSinchServiceInterface().isStarted()) {\r\n                                initiateSinch();\r\n//\r\n                            }\r\n//\r\n                            updateNavMenu();\r\n\r\n                        } else if ((dataSnapshot.exists()) &amp;&amp; (dataSnapshot.hasChild(&quot;username&quot;) &amp;&amp; (dataSnapshot.hasChild(&quot;fullName&quot;)))) {\r\n                            String retrieveUserName = dataSnapshot.child(&quot;username&quot;).getValue().toString();\r\n                            updateNavMenu();\r\n//\r\n//                    getSupportFragmentManager().beginTransaction().replace(R.id.fragment_container,\r\n//                            new HomeFragment()).commit();\r\n\r\n//\r\n                            if (!getSinchServiceInterface().isStarted()) {\r\n                                initiateSinch();\r\n//\r\n\r\n                            }\r\n\r\n                            navUserName.setText(retrieveUserName);\r\n                        } else if ((dataSnapshot.child(&quot;username&quot;).exists())) {\r\n                            String retrieveUserName = dataSnapshot.child(&quot;username&quot;).getValue().toString();\r\n                            navUserName.setText(retrieveUserName);\r\n\r\n\r\n                    getSupportFragmentManager().beginTransaction().replace(R.id.fragment_container,\r\n                            new HomeFragment()).commit();\r\n\r\n\r\n                            updateNavMenu();\r\n\r\n                            if (!getSinchServiceInterface().isStarted()) {\r\n                                initiateSinch();\r\n//\r\n\r\n                            }\r\n                        } else {\r\n                            SendUserTosettingsActivity();\r\n                            Toast.makeText(MainActivity.this, &quot;Update your profile for settings!!!!!&quot;, Toast.LENGTH_SHORT).show();\r\n\r\n                        }\r\n                    }\r\n\r\n                    @Override\r\n                    public void onCancelled(DatabaseError databaseError) {\r\n\r\n                    }\r\n                });\r\n\r\n\r\n            }\r\n\r\n            private void updateNavMenu () {\r\n\r\n                String currentUserid = currentUser.getUid();\r\n\r\n                RootRef.child(currentUserid).addValueEventListener(new ValueEventListener() {\r\n                    @Override\r\n\r\n                    public void onDataChange(@NonNull DataSnapshot dataSnapshot) {\r\n                        if ((dataSnapshot.exists()) &amp;&amp; (dataSnapshot.hasChild(&quot;username&quot;) &amp;&amp; (dataSnapshot.hasChild(&quot;profileimage&quot;) &amp;&amp; (dataSnapshot.hasChild(&quot;fullName&quot;))))) {\r\n                            String retrieveUserName = dataSnapshot.child(&quot;username&quot;).getValue().toString();\r\n                            String retrieveProfileImage = dataSnapshot.child(&quot;profileimage&quot;).getValue().toString();\r\n\r\n\r\n                            navUserName.setText(retrieveUserName);\r\n\r\n\r\n                            Picasso.get().load(retrieveProfileImage).placeholder(R.drawable.profilepic).into(navProfileImage);\r\n\r\n\r\n                        } else if ((dataSnapshot.exists()) &amp;&amp; (dataSnapshot.hasChild(&quot;username&quot;) &amp;&amp; (dataSnapshot.hasChild(&quot;fullName&quot;)))) {\r\n                            String retrieveUserName = dataSnapshot.child(&quot;username&quot;).getValue().toString();\r\n\r\n                            navUserName.setText(retrieveUserName);\r\n                        } else {\r\n                            navUserName.setVisibility(View.INVISIBLE);\r\n                            Toast.makeText(MainActivity.this, &quot;Set profile NAVIGATION&quot;, Toast.LENGTH_SHORT).show();\r\n                        }\r\n                    }\r\n\r\n\r\n                    @Override\r\n                    public void onCancelled(DatabaseError databaseError) {\r\n\r\n                    }\r\n                });\r\n\r\n\r\n            }\r\n\r\n\r\n            private void SendUserTosettingsActivity ()\r\n            {\r\n\r\n                Intent editprofile = new Intent(MainActivity.this, SettingsActivity.class);\r\n                startActivity(editprofile);\r\n            }\r\n\r\n\r\n            private void initiateSinch () {\r\n\r\n                if (!getSinchServiceInterface().isStarted()) {\r\n\r\n\r\n                    Intent serviceIntent = new Intent(MainActivity.this, SinchService.class);\r\n                    serviceIntent.putExtra(&quot;inputExtra&quot;, currentUser.getUid());\r\n                    ContextCompat.startForegroundService(MainActivity.this, serviceIntent);\r\n                    getSinchServiceInterface().startClient(currentUser.getUid());\r\n\r\n                }\r\n\r\n\r\n            }\r\n\r\n            @Override\r\n            protected void onServiceConnected () {\r\n\r\n                getSinchServiceInterface().setStartListener(this);\r\n\r\n            }\r\n\r\n\r\n    @Override\r\n    public void onBackPressed() {\r\n\r\n//        if (fragment!=null)\r\n//        {\r\n//            fragmentManager = getSupportFragmentManager();\r\n//\r\n//            fragmentManager.beginTransaction().replace(R.id.fragment_container,\r\n//                    fragment).commit();\r\n//        }///\r\n\r\n\r\n\r\n\r\n\r\n        super.onBackPressed();\r\n    }\r\n\r\n    @Override\r\n            public void onBindingDied (ComponentName name){\r\n\r\n                if (!getSinchServiceInterface().isStarted()) {\r\n\r\n\r\n                    Intent serviceIntent = new Intent(MainActivity.this, SinchService.class);\r\n                    serviceIntent.putExtra(&quot;inputExtra&quot;, currentUser.getUid());\r\n                    ContextCompat.startForegroundService(MainActivity.this, serviceIntent);\r\n                    getSinchServiceInterface().startClient(currentUser.getUid());\r\n\r\n                }\r\n\r\n            }\r\n\r\n            @Override\r\n            protected void onStart () {\r\n\r\n\r\n\r\n                super.onStart();\r\n            }\r\n\r\n            @Override\r\n            protected void onPause () {\r\n\r\n\r\n                Toast.makeText(this, &quot;on pause&quot;, Toast.LENGTH_SHORT).show();\r\n                super.onPause();\r\n            }\r\n\r\n            @Override\r\n            protected void onResume () {\r\n\r\n                Toast.makeText(this, &quot;on pause&quot;, Toast.LENGTH_SHORT).show();\r\n                super.onResume();\r\n\r\n            }\r\n\r\n            @Override\r\n            protected void onRestart () {\r\n\r\n\r\n                super.onRestart();\r\n\r\n            }\r\n\r\n            @Override\r\n            public void onStartFailed (SinchError error){\r\n                Toast.makeText(this, error.toString(), Toast.LENGTH_LONG).show();\r\n                if (!getSinchServiceInterface().isStarted()) {\r\n\r\n\r\n                    Intent serviceIntent = new Intent(MainActivity.this, SinchService.class);\r\n                    serviceIntent.putExtra(&quot;inputExtra&quot;, currentUser.getUid());\r\n                    ContextCompat.startForegroundService(MainActivity.this, serviceIntent);\r\n                    getSinchServiceInterface().startClient(currentUser.getUid());\r\n\r\n                }\r\n\r\n\r\n                //////////////////////////////////////////////\r\n\r\n\r\n            }\r\n\r\n            @Override\r\n            public void onStarted () {\r\n                Toast.makeText(this, &quot;Service Started&quot;, Toast.LENGTH_SHORT).show();\r\n\r\n\r\n               // finish();\r\n            }\r\n\r\n\r\n\r\n\r\n}\r\n\r\n\r\n```\r\ni have a main activity with a bottom navigation menu which has a inter changing frangment. i also have a button which changes to other activity.\r\nwhen i try to go to other activity it gives a error displaying \r\n&quot;    FATAL EXCEPTION: main\r\n                 Process: com.jay.Atmos, PID: 10737\r\n                 java.lang.IllegalArgumentException: No view found for id 0x7f0a0199 (com.jay.Atmos:id/fragment_container) for fragment HomeFragment{4d85ba} (187ff6c1-438d-411d-97cd-cf6946773579 id=0x7f0a0199)\r\n                 \tat androidx.fragment.app.FragmentStateManager.createView(FragmentStateManager.java:513)\r\n                 \tat androidx.fragment.app.FragmentStateManager.moveToExpectedState(FragmentStateManager.java:282)\r\n                 \tat androidx.fragment.app.FragmentManager.executeOpsTogether(FragmentManager.java:2189)\r\n                 \tat androidx.fragment.app.FragmentManager.removeRedundantOperationsAndExecute(FragmentManager.java:2100)\r\n                 \tat androidx.fragment.app.FragmentManager.execPendingActions(FragmentManager.java:2002)\r\n                 \tat androidx.fragment.app.FragmentManager.dispatchStateChange(FragmentManager.java:3138)\r\n                 \tat androidx.fragment.app.FragmentManager.dispatchActivityCreated(FragmentManager.java:3072)\r\n                 \tat androidx.fragment.app.FragmentController.dispatchActivityCreated(FragmentController.java:251)\r\n                 \tat androidx.fragment.app.FragmentActivity.onStart(FragmentActivity.java:502)\r\n                 \tat androidx.appcompat.app.AppCompatActivity.onStart(AppCompatActivity.java:246)\r\n                 \tat com.jay.Atmos.MainActivity.onStart(MainActivity.java:662)\r\n                 \tat com.jay.Atmos.ChatActivity.onStart(ChatActivity.java:961)\r\n                 \tat android.app.Instrumentation.callActivityOnStart(Instrumentation.java:1435)\r\n                 \tat android.app.Activity.performStart(Activity.java:8231)\r\n                 \tat android.app.ActivityThread.handleStartActivity(ActivityThread.java:3872)\r\n                 \tat android.app.servertransaction.TransactionExecutor.performLifecycleSequence(TransactionExecutor.java:221)\r\n                 \tat android.app.servertransaction.TransactionExecutor.cycleToPath(TransactionExecutor.java:201)\r\n                 \tat android.app.servertransaction.TransactionExecutor.executeLifecycleState(TransactionExecutor.java:173)\r\n                 \tat android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:97)\r\n                 \tat android.app.ActivityThread$H.handleMessage(ActivityThread.java:2336)\r\n                 \tat android.os.Handler.dispatchMessage(Handler.java:106)\r\n                 \tat android.os.Looper.loop(Looper.java:246)\r\n                 \tat android.app.ActivityThread.main(ActivityThread.java:8653)\r\n                 \tat java.lang.reflect.Method.invoke(Native Method)\r\n                 \tat com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:602)\r\n                 \tat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1130) &quot;\r\n\r\n```","title":"java.lang.IllegalArgumentException: No view found for id 0x7f0a0199","body":"<pre><code>package com.jay.Atmos;\n\nimport android.annotation.SuppressLint;\nimport android.content.ComponentName;\nimport android.content.Intent;\nimport android.content.SharedPreferences;\nimport android.graphics.Bitmap;\nimport android.graphics.Canvas;\nimport android.graphics.drawable.AnimationDrawable;\nimport android.graphics.drawable.Drawable;\nimport android.graphics.drawable.TransitionDrawable;\nimport android.os.Build;\nimport android.os.Bundle;\nimport android.util.Log;\nimport android.view.MenuItem;\nimport android.view.View;\nimport android.widget.ImageButton;\nimport android.widget.RelativeLayout;\nimport android.widget.TextView;\nimport android.widget.Toast;\n\nimport androidx.annotation.NonNull;\nimport androidx.appcompat.app.ActionBar;\nimport androidx.appcompat.app.ActionBarDrawerToggle;\nimport androidx.appcompat.widget.Toolbar;\nimport androidx.core.content.ContextCompat;\nimport androidx.drawerlayout.widget.DrawerLayout;\nimport androidx.fragment.app.Fragment;\nimport androidx.fragment.app.FragmentManager;\n\nimport com.google.android.material.bottomnavigation.BottomNavigationView;\nimport com.google.android.material.navigation.NavigationView;\nimport com.google.firebase.auth.FirebaseAuth;\nimport com.google.firebase.auth.FirebaseUser;\nimport com.google.firebase.auth.GithubAuthCredential;\nimport com.google.firebase.database.DataSnapshot;\nimport com.google.firebase.database.DatabaseError;\nimport com.google.firebase.database.DatabaseReference;\nimport com.google.firebase.database.FirebaseDatabase;\nimport com.google.firebase.database.ValueEventListener;\nimport com.ismaeldivita.chipnavigation.ChipNavigationBar;\nimport com.jay.Atmos.Fragment.HomeFragment;\nimport com.jay.Atmos.Fragment.NotificationFragment;\nimport com.jay.Atmos.Fragment.ProfileFragment;\nimport com.jay.Atmos.Fragment.SearchFragment;\n\nimport com.jay.Atmos.calling.BaseActivity;\nimport com.jay.Atmos.calling.SinchService;\nimport com.sinch.android.rtc.SinchError;\nimport com.squareup.picasso.Picasso;\n\nimport java.util.Objects;\n\nimport de.hdodenhof.circleimageview.CircleImageView;\n\npublic class MainActivity  extends BaseActivity implements SinchService.StartFailedListener {\n\n\n    Fragment selectedFagrament = null;\n    DatabaseReference RootRef;\n\n    private ImageButton ChatButton;\n    private Toolbar mToolbar;\n\n\n    int prev_nav_item = 0;\n\n    private CircleImageView navProfileImage;\n    private TextView navUserName;\n\n\n    private ActionBarDrawerToggle actionBarDrawerToggle;\n\n\n    private NavigationView navigationView;\n\n\n    private DrawerLayout drawerLayout;\n\n    Fragment fragment;\n\n    private FirebaseUser currentUser;\n    private FirebaseAuth mAuth;\n\n    ChipNavigationBar BottomNavBar;\n    FragmentManager fragmentManager;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n        mAuth = FirebaseAuth.getInstance();\n        currentUser = mAuth.getCurrentUser();\n        RootRef = FirebaseDatabase.getInstance().getReference().child(&quot;Users&quot;);\n        BottomNavBar = findViewById(R.id.bottom_nav_bar);\n\n\n\n\n//\n//        RelativeLayout bganim = findViewById(R.id.bganim);\n//\n////\n//        TransitionDrawable trans = (TransitionDrawable) bganim.getBackground();\n//        trans.startTransition(3000);\n////        trans.reverseTransition(500);\n//        trans.mutate();\n//        trans.canApplyTheme();\n\n\n\n\n\n\n        ChatButton = findViewById(R.id.ChatBtn);\n\n        initializechatbutton();\n\n\n\n        mToolbar = (Toolbar) findViewById(R.id.explore_toolbar);\n        setSupportActionBar(mToolbar);\n        Objects.requireNonNull(getSupportActionBar()).setTitle(&quot;Vish Me&quot;);\n\n//        getSupportActionBar().setDisplayOptions(ActionBar.DISPLAY_SHOW_CUSTOM);\n//        getSupportActionBar().setDisplayShowCustomEnabled(true);\n//        getSupportActionBar().setCustomView(R.layout.app_bar_layout);\n//        getSupportActionBar().setDisplayShowCustomEnabled(true);\n//        View view =getSupportActionBar().getCustomView();\n//\n\n\n\n\n        drawerLayout = (DrawerLayout) findViewById(R.id.drawyer_layout);\n        actionBarDrawerToggle = new ActionBarDrawerToggle(MainActivity.this, drawerLayout, R.string.drawer_open, R.string.drawer_close);\n        drawerLayout.addDrawerListener(actionBarDrawerToggle);\n\n        actionBarDrawerToggle.setHomeAsUpIndicator(R.drawable.ic_arrowoption);\n\n\n        actionBarDrawerToggle.syncState();\n        actionBarDrawerToggle.setDrawerSlideAnimationEnabled(true);\n        actionBarDrawerToggle.setDrawerIndicatorEnabled(true);\n\n\n//\n\n        if (currentUser == null) {\n            SendUserToLoginActivity();\n\n        } else\n        {\n\n\n\n            VerifyUserExistence();\n            Bundle intent = getIntent().getExtras();\n        if(intent != null) {\n\n            String publisher = intent.getString(&quot;publisherid&quot;);\n\n            SharedPreferences.Editor editor = getSharedPreferences(&quot;PREFS&quot;, MODE_PRIVATE).edit();\n            editor.putString(&quot;profileid&quot;, publisher);\n            editor.apply();\n\n            getSupportFragmentManager().beginTransaction().replace(R.id.fragment_container,\n                    new ProfileFragment()).commit();\n        }\n\n\n        }\n\n\n//\n\n\n\n\n\n            drawerLayout = (DrawerLayout) findViewById(R.id.drawyer_layout);\n        ActionBarDrawerToggle toggle = new ActionBarDrawerToggle(\n                MainActivity.this, drawerLayout, R.string.navigation_drawer_open, R.string.navigation_drawer_close);\n        drawerLayout.setDrawerListener(toggle);\n        actionBarDrawerToggle = new ActionBarDrawerToggle(MainActivity.this, drawerLayout, R.string.drawer_open, R.string.drawer_close);\n        drawerLayout.addDrawerListener(actionBarDrawerToggle);\n        actionBarDrawerToggle.syncState();\n\n        getSupportActionBar().setDisplayHomeAsUpEnabled(true);\n        getSupportActionBar().setDisplayShowHomeEnabled(true);\n        navigationView = (NavigationView) findViewById(R.id.navigation_view);\n        View navView = navigationView.inflateHeaderView(R.layout.navigation_header);\n        navProfileImage = (CircleImageView) navView.findViewById(R.id.nav_profile_image);\n        navUserName = (TextView) navView.findViewById(R.id.nav_profile_name);\n\n\n\n//       selectedFagrament = new HomeFragment();\n                    getSupportFragmentManager().beginTransaction().replace(R.id.fragment_container,\n                            new HomeFragment()).addToBackStack(&quot;home&quot;).commit();\n                    ChatButton.setVisibility(View.VISIBLE);\n\n\n        navigationView.setNavigationItemSelectedListener(new NavigationView.OnNavigationItemSelectedListener() {\n            @Override\n            public boolean onNavigationItemSelected(@NonNull MenuItem Item) {\n\n                NavMenuSelector(Item);\n\n\n                return false;\n            }\n        });\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n        if (savedInstanceState==null)\n        {\n            BottomNavBar.setItemSelected(R.id.nav_home,true);\n            fragmentManager = getSupportFragmentManager();\n            HomeFragment homeFragment = new HomeFragment();\n            fragmentManager.beginTransaction().replace(R.id.fragment_container , homeFragment).commit();\n        }\n\n        BottomNavBar.setOnItemSelectedListener(new ChipNavigationBar.OnItemSelectedListener() {\n            private final String TAG = MainActivity.class.getSimpleName();\n\n            @SuppressLint(&quot;NonConstantResourceId&quot;)\n            @Override\n            public void onItemSelected(int id) {\n\n                 fragment = null;\n\n                switch (id)\n                {\n                    case R.id.nav_home:\n                        getSupportFragmentManager().beginTransaction().replace(R.id.fragment_container,\n                                new HomeFragment()).addToBackStack(&quot;home&quot;).commit();\n                        ChatButton.setVisibility(View.VISIBLE);\n\n                        break;\n                    case R.id.nav_search:\n\n                        getSupportFragmentManager().beginTransaction().replace(R.id.fragment_container,\n                                new SearchFragment()).addToBackStack(&quot;search&quot;).commit();\n\n                        ChatButton.setVisibility(View.GONE);\n                      //  mToolbar.setVisibility(View.GONE);\n                        break;\n                    case R.id.nav_add:\n                        selectedFagrament = null;\n                        startActivity(new Intent(MainActivity.this, PostActivity.class));\n\n\n                        break;\n\n                    case R.id.nav_heart:\n                        getSupportFragmentManager().beginTransaction().replace(R.id.fragment_container,\n                                new NotificationFragment()).addToBackStack(&quot;notify&quot;).commit();\n\n                        ChatButton.setVisibility(View.GONE);\n                        mToolbar.setVisibility(View.GONE);\n\n                        break;\n                    case R.id.nav_profile:\n\n                        SharedPreferences.Editor editor = getSharedPreferences(&quot;PREFS&quot;, MODE_PRIVATE).edit();\n                        editor.putString(&quot;profileid&quot;, currentUser.getUid());\n                        editor.apply();\n                        ChatButton.setVisibility(View.GONE);\n                        getSupportFragmentManager().beginTransaction().replace(R.id.fragment_container,\n                                new ProfileFragment()).addToBackStack(&quot;profile&quot;).commit();\n\n\n                        break;\n                }\n\n                if (fragment!=null)\n                {\n                    fragmentManager = getSupportFragmentManager();\n\n                    fragmentManager.beginTransaction().replace(R.id.fragment_container,\n                            fragment).commit();\n                }\n\n                else\n                {\n                    Log.e(TAG , &quot;Error&quot;);\n                }\n\n            }\n        });\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n        ChatButton.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n\n//                selectedFagrament = null;\n\n\n                Intent ChatIntent = new Intent(MainActivity.this, ChatListActivity.class);\n                startActivity(ChatIntent);\n            }\n        });\n\n    }\n\n\n\n\n\n\n\n\n    private void initializechatbutton() {\n    }\n\n\n\n\n            private void NavMenuSelector (MenuItem Item){\n                switch (Item.getItemId()) {\n                    case R.id.BirthDays:\n                        Toast.makeText(this, &quot;Birthdays selected&quot;, Toast.LENGTH_SHORT).show();\n                        break;\n\n\n                    case R.id.shortClips:\n                        //  Intent Intent = new Intent(MainActivity.this, ScreenShareActivity.class);\n                        // startActivity(Intent);                break;\n\n\n                    case R.id.short_Films:\n                        Toast.makeText(this, &quot;ShortFilms selected&quot;, Toast.LENGTH_SHORT).show();\n                        break;\n\n\n                    case R.id.marketing:\n                        Toast.makeText(this, &quot;Marketing selected&quot;, Toast.LENGTH_SHORT).show();\n                        break;\n\n\n                    case R.id.Find_Friends_option:\n                        Toast.makeText(this, &quot;Find Friends selected&quot;, Toast.LENGTH_SHORT).show();\n                        break;\n\n\n                    case R.id.my_contacts:\n                        Toast.makeText(this, &quot;My Friends selected&quot;, Toast.LENGTH_SHORT).show();\n                        break;\n\n\n                    case R.id.privacy_Settings_option:\n                        Toast.makeText(this, &quot;Privacy Settings selected&quot;, Toast.LENGTH_SHORT).show();\n                        break;\n\n\n                    case R.id.main_Log_Out_option:\n                        mAuth.signOut();\n\n\n                        SendUserToLoginActivity();\n                        break;\n\n\n                }\n            }\n\n\n            private void SendUserToLoginActivity () {\n                Intent editprofile = new Intent(MainActivity.this, AccountLoginActivity.class);\n                startActivity(editprofile);\n            }\n\n\n            @Override\n            public boolean onOptionsItemSelected (MenuItem item){\n                if (actionBarDrawerToggle.onOptionsItemSelected(item)) {\n                    return true;\n                }\n                return super.onOptionsItemSelected(item);\n            }\n\n\n            private void VerifyUserExistence () {\n\n\n                RootRef.child(currentUser.getUid()).addValueEventListener(new ValueEventListener() {\n                    @Override\n                    public void onDataChange(DataSnapshot dataSnapshot) {\n\n                        if ((dataSnapshot.exists()) &amp;&amp; (dataSnapshot.hasChild(&quot;username&quot;) &amp;&amp; (dataSnapshot.hasChild(&quot;profileimage&quot;) &amp;&amp; (dataSnapshot.hasChild(&quot;fullName&quot;))))) {\n                            String retrieveUserName = dataSnapshot.child(&quot;username&quot;).getValue().toString();\n                            String retrieveProfileImage = dataSnapshot.child(&quot;profileimage&quot;).getValue().toString();\n\n\n//                    getSupportFragmentManager().beginTransaction().replace(R.id.fragment_container,\n//                            new HomeFragment()).commit();\n\n\n                            navUserName.setText(retrieveUserName);\n                            Picasso.get().load(retrieveProfileImage).placeholder(R.drawable.profilepic).into(navProfileImage);\n\n\n                            if (!getSinchServiceInterface().isStarted()) {\n                                initiateSinch();\n//\n                            }\n//\n                            updateNavMenu();\n\n                        } else if ((dataSnapshot.exists()) &amp;&amp; (dataSnapshot.hasChild(&quot;username&quot;) &amp;&amp; (dataSnapshot.hasChild(&quot;fullName&quot;)))) {\n                            String retrieveUserName = dataSnapshot.child(&quot;username&quot;).getValue().toString();\n                            updateNavMenu();\n//\n//                    getSupportFragmentManager().beginTransaction().replace(R.id.fragment_container,\n//                            new HomeFragment()).commit();\n\n//\n                            if (!getSinchServiceInterface().isStarted()) {\n                                initiateSinch();\n//\n\n                            }\n\n                            navUserName.setText(retrieveUserName);\n                        } else if ((dataSnapshot.child(&quot;username&quot;).exists())) {\n                            String retrieveUserName = dataSnapshot.child(&quot;username&quot;).getValue().toString();\n                            navUserName.setText(retrieveUserName);\n\n\n                    getSupportFragmentManager().beginTransaction().replace(R.id.fragment_container,\n                            new HomeFragment()).commit();\n\n\n                            updateNavMenu();\n\n                            if (!getSinchServiceInterface().isStarted()) {\n                                initiateSinch();\n//\n\n                            }\n                        } else {\n                            SendUserTosettingsActivity();\n                            Toast.makeText(MainActivity.this, &quot;Update your profile for settings!!!!!&quot;, Toast.LENGTH_SHORT).show();\n\n                        }\n                    }\n\n                    @Override\n                    public void onCancelled(DatabaseError databaseError) {\n\n                    }\n                });\n\n\n            }\n\n            private void updateNavMenu () {\n\n                String currentUserid = currentUser.getUid();\n\n                RootRef.child(currentUserid).addValueEventListener(new ValueEventListener() {\n                    @Override\n\n                    public void onDataChange(@NonNull DataSnapshot dataSnapshot) {\n                        if ((dataSnapshot.exists()) &amp;&amp; (dataSnapshot.hasChild(&quot;username&quot;) &amp;&amp; (dataSnapshot.hasChild(&quot;profileimage&quot;) &amp;&amp; (dataSnapshot.hasChild(&quot;fullName&quot;))))) {\n                            String retrieveUserName = dataSnapshot.child(&quot;username&quot;).getValue().toString();\n                            String retrieveProfileImage = dataSnapshot.child(&quot;profileimage&quot;).getValue().toString();\n\n\n                            navUserName.setText(retrieveUserName);\n\n\n                            Picasso.get().load(retrieveProfileImage).placeholder(R.drawable.profilepic).into(navProfileImage);\n\n\n                        } else if ((dataSnapshot.exists()) &amp;&amp; (dataSnapshot.hasChild(&quot;username&quot;) &amp;&amp; (dataSnapshot.hasChild(&quot;fullName&quot;)))) {\n                            String retrieveUserName = dataSnapshot.child(&quot;username&quot;).getValue().toString();\n\n                            navUserName.setText(retrieveUserName);\n                        } else {\n                            navUserName.setVisibility(View.INVISIBLE);\n                            Toast.makeText(MainActivity.this, &quot;Set profile NAVIGATION&quot;, Toast.LENGTH_SHORT).show();\n                        }\n                    }\n\n\n                    @Override\n                    public void onCancelled(DatabaseError databaseError) {\n\n                    }\n                });\n\n\n            }\n\n\n            private void SendUserTosettingsActivity ()\n            {\n\n                Intent editprofile = new Intent(MainActivity.this, SettingsActivity.class);\n                startActivity(editprofile);\n            }\n\n\n            private void initiateSinch () {\n\n                if (!getSinchServiceInterface().isStarted()) {\n\n\n                    Intent serviceIntent = new Intent(MainActivity.this, SinchService.class);\n                    serviceIntent.putExtra(&quot;inputExtra&quot;, currentUser.getUid());\n                    ContextCompat.startForegroundService(MainActivity.this, serviceIntent);\n                    getSinchServiceInterface().startClient(currentUser.getUid());\n\n                }\n\n\n            }\n\n            @Override\n            protected void onServiceConnected () {\n\n                getSinchServiceInterface().setStartListener(this);\n\n            }\n\n\n    @Override\n    public void onBackPressed() {\n\n//        if (fragment!=null)\n//        {\n//            fragmentManager = getSupportFragmentManager();\n//\n//            fragmentManager.beginTransaction().replace(R.id.fragment_container,\n//                    fragment).commit();\n//        }///\n\n\n\n\n\n        super.onBackPressed();\n    }\n\n    @Override\n            public void onBindingDied (ComponentName name){\n\n                if (!getSinchServiceInterface().isStarted()) {\n\n\n                    Intent serviceIntent = new Intent(MainActivity.this, SinchService.class);\n                    serviceIntent.putExtra(&quot;inputExtra&quot;, currentUser.getUid());\n                    ContextCompat.startForegroundService(MainActivity.this, serviceIntent);\n                    getSinchServiceInterface().startClient(currentUser.getUid());\n\n                }\n\n            }\n\n            @Override\n            protected void onStart () {\n\n\n\n                super.onStart();\n            }\n\n            @Override\n            protected void onPause () {\n\n\n                Toast.makeText(this, &quot;on pause&quot;, Toast.LENGTH_SHORT).show();\n                super.onPause();\n            }\n\n            @Override\n            protected void onResume () {\n\n                Toast.makeText(this, &quot;on pause&quot;, Toast.LENGTH_SHORT).show();\n                super.onResume();\n\n            }\n\n            @Override\n            protected void onRestart () {\n\n\n                super.onRestart();\n\n            }\n\n            @Override\n            public void onStartFailed (SinchError error){\n                Toast.makeText(this, error.toString(), Toast.LENGTH_LONG).show();\n                if (!getSinchServiceInterface().isStarted()) {\n\n\n                    Intent serviceIntent = new Intent(MainActivity.this, SinchService.class);\n                    serviceIntent.putExtra(&quot;inputExtra&quot;, currentUser.getUid());\n                    ContextCompat.startForegroundService(MainActivity.this, serviceIntent);\n                    getSinchServiceInterface().startClient(currentUser.getUid());\n\n                }\n\n\n                //////////////////////////////////////////////\n\n\n            }\n\n            @Override\n            public void onStarted () {\n                Toast.makeText(this, &quot;Service Started&quot;, Toast.LENGTH_SHORT).show();\n\n\n               // finish();\n            }\n\n\n\n\n}\n\n\n</code></pre>\n<p>i have a main activity with a bottom navigation menu which has a inter changing frangment. i also have a button which changes to other activity.\nwhen i try to go to other activity it gives a error displaying\n&quot;    FATAL EXCEPTION: main\nProcess: com.jay.Atmos, PID: 10737\njava.lang.IllegalArgumentException: No view found for id 0x7f0a0199 (com.jay.Atmos:id/fragment_container) for fragment HomeFragment{4d85ba} (187ff6c1-438d-411d-97cd-cf6946773579 id=0x7f0a0199)\nat androidx.fragment.app.FragmentStateManager.createView(FragmentStateManager.java:513)\nat androidx.fragment.app.FragmentStateManager.moveToExpectedState(FragmentStateManager.java:282)\nat androidx.fragment.app.FragmentManager.executeOpsTogether(FragmentManager.java:2189)\nat androidx.fragment.app.FragmentManager.removeRedundantOperationsAndExecute(FragmentManager.java:2100)\nat androidx.fragment.app.FragmentManager.execPendingActions(FragmentManager.java:2002)\nat androidx.fragment.app.FragmentManager.dispatchStateChange(FragmentManager.java:3138)\nat androidx.fragment.app.FragmentManager.dispatchActivityCreated(FragmentManager.java:3072)\nat androidx.fragment.app.FragmentController.dispatchActivityCreated(FragmentController.java:251)\nat androidx.fragment.app.FragmentActivity.onStart(FragmentActivity.java:502)\nat androidx.appcompat.app.AppCompatActivity.onStart(AppCompatActivity.java:246)\nat com.jay.Atmos.MainActivity.onStart(MainActivity.java:662)\nat com.jay.Atmos.ChatActivity.onStart(ChatActivity.java:961)\nat android.app.Instrumentation.callActivityOnStart(Instrumentation.java:1435)\nat android.app.Activity.performStart(Activity.java:8231)\nat android.app.ActivityThread.handleStartActivity(ActivityThread.java:3872)\nat android.app.servertransaction.TransactionExecutor.performLifecycleSequence(TransactionExecutor.java:221)\nat android.app.servertransaction.TransactionExecutor.cycleToPath(TransactionExecutor.java:201)\nat android.app.servertransaction.TransactionExecutor.executeLifecycleState(TransactionExecutor.java:173)\nat android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:97)\nat android.app.ActivityThread$H.handleMessage(ActivityThread.java:2336)\nat android.os.Handler.dispatchMessage(Handler.java:106)\nat android.os.Looper.loop(Looper.java:246)\nat android.app.ActivityThread.main(ActivityThread.java:8653)\nat java.lang.reflect.Method.invoke(Native Method)\nat com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:602)\nat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1130) &quot;</p>\n<pre><code></code></pre>\n"},{"tags":["java","docker","jenkins","docker-swarm"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1676952424,"post_id":75512435,"comment_id":133235766,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"owner":{"account_id":27834691,"reputation":1,"user_id":21252431,"display_name":"Luka1"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":168,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676914073,"creation_date":1676914073,"question_id":75512435,"body_markdown":"I&#39;m trying to build a job but at some point it stops building and does not do anything no matter how much time i will wait. Sometimes it still finishes building even when there are errors.\r\nHere&#39;s the console log from docker terminal:\r\n\r\n```\r\n2023-02-20 21:14:35 jenkins-slave   | Feb 20, 2023 5:14:35 PM hudson.plugins.swarm.SwarmClient discoverFromMasterUrl\r\n2023-02-20 21:14:35 jenkins-slave   | SEVERE: Failed to fetch slave info from Jenkins, HTTP response code: 401\r\n2023-02-20 21:14:35 jenkins-slave   | Feb 20, 2023 5:14:35 PM hudson.plugins.swarm.Client run\r\n2023-02-20 21:14:35 jenkins-slave   | SEVERE: RetryException occurred\r\n2023-02-20 21:14:35 jenkins-slave   | hudson.plugins.swarm.RetryException: Failed to fetch slave info from Jenkins, HTTP response code: 401\r\n2023-02-20 21:14:35 jenkins-slave   |   at hudson.plugins.swarm.SwarmClient.discoverFromMasterUrl(SwarmClient.java:151)\r\n2023-02-20 21:14:35 jenkins-slave   |   at hudson.plugins.swarm.Client.run(Client.java:150)\r\n2023-02-20 21:14:35 jenkins-slave   |   at hudson.plugins.swarm.Client.main(Client.java:128)\r\n2023-02-20 21:14:35 jenkins-slave   | \r\n2023-02-20 21:14:35 jenkins-slave   | Feb 20, 2023 5:14:35 PM hudson.plugins.swarm.Client run\r\n2023-02-20 21:14:35 jenkins-slave   | INFO: Retrying in 10 seconds\r\n2023-02-20 21:14:45 jenkins-slave   | Feb 20, 2023 5:14:45 PM hudson.plugins.swarm.SwarmClient discoverFromMasterUrl\r\n2023-02-20 21:14:45 jenkins-slave   | SEVERE: Failed to fetch slave info from Jenkins, HTTP response code: 401\r\n2023-02-20 21:14:45 jenkins-slave   | Feb 20, 2023 5:14:45 PM hudson.plugins.swarm.Client run\r\n2023-02-20 21:14:45 jenkins-slave   | SEVERE: RetryException occurred\r\n2023-02-20 21:14:45 jenkins-slave   | hudson.plugins.swarm.RetryException: Failed to fetch slave info from Jenkins, HTTP response code: 401\r\n2023-02-20 21:14:45 jenkins-slave   |   at hudson.plugins.swarm.SwarmClient.discoverFromMasterUrl(SwarmClient.java:151)\r\n2023-02-20 21:14:45 jenkins-slave   |   at hudson.plugins.swarm.Client.run(Client.java:150)\r\n2023-02-20 21:14:45 jenkins-slave   |   at hudson.plugins.swarm.Client.main(Client.java:128)\r\n2023-02-20 21:14:45 jenkins-slave   | \r\n2023-02-20 21:14:45 jenkins-slave   | Feb 20, 2023 5:14:45 PM hudson.plugins.swarm.Client run\r\n2023-02-20 21:14:45 jenkins-slave   | INFO: Retrying in 10 seconds\r\n2023-02-20 21:14:51 jenkins-master  | 2023-02-20 17:14:51.695+0000 [id=1156]    INFO    hudson.model.AsyncAperiodicWork#lambda$doAperiodicRun$0: Started Update IdP Metadata from URL PeriodicWork\r\n2023-02-20 21:14:51 jenkins-master  | 2023-02-20 17:14:51.708+0000 [id=1156]    INFO    hudson.model.AsyncAperiodicWork#lambda$doAperiodicRun$0: Finished Update IdP Metadata from URL PeriodicWork. 9 ms\r\n2023-02-20 21:14:55 jenkins-slave   | Feb 20, 2023 5:14:55 PM hudson.plugins.swarm.SwarmClient discoverFromMasterUrl\r\n2023-02-20 21:14:55 jenkins-slave   | SEVERE: Failed to fetch slave info from Jenkins, HTTP response code: 401\r\n2023-02-20 21:14:55 jenkins-slave   | Feb 20, 2023 5:14:55 PM hudson.plugins.swarm.Client run\r\n2023-02-20 21:14:55 jenkins-slave   | SEVERE: RetryException occurred\r\n2023-02-20 21:14:55 jenkins-slave   | hudson.plugins.swarm.RetryException: Failed to fetch slave info from Jenkins, HTTP response code: 401\r\n2023-02-20 21:14:55 jenkins-slave   |   at hudson.plugins.swarm.SwarmClient.discoverFromMasterUrl(SwarmClient.java:151)\r\n2023-02-20 21:14:55 jenkins-slave   |   at hudson.plugins.swarm.Client.run(Client.java:150)\r\n2023-02-20 21:14:55 jenkins-slave   |   at hudson.plugins.swarm.Client.main(Client.java:128)\r\n2023-02-20 21:14:55 jenkins-slave   | \r\n2023-02-20 21:14:55 jenkins-slave   | Feb 20, 2023 5:14:55 PM hudson.plugins.swarm.Client run\r\n2023-02-20 21:14:55 jenkins-slave   | INFO: Retrying in 10 seconds\r\n2023-02-20 21:15:02 jenkins-master  | 2023-02-20 17:15:02.650+0000 [id=1157]    INFO    h.TcpSlaveAgentListener$ConnectionHandler#run: Connection #238 failed: java.io.EOFException\r\n```\r\n\r\nCan anybody help me fix this?\r\n\r\nI tried building a job again and again but does not work.\r\nI&#39;m expecting it to work normally and not freeze in the middle of the building process.","title":"Jenkins returns http code 401 and does not finish building","body":"<p>I'm trying to build a job but at some point it stops building and does not do anything no matter how much time i will wait. Sometimes it still finishes building even when there are errors.\nHere's the console log from docker terminal:</p>\n<pre><code>2023-02-20 21:14:35 jenkins-slave   | Feb 20, 2023 5:14:35 PM hudson.plugins.swarm.SwarmClient discoverFromMasterUrl\n2023-02-20 21:14:35 jenkins-slave   | SEVERE: Failed to fetch slave info from Jenkins, HTTP response code: 401\n2023-02-20 21:14:35 jenkins-slave   | Feb 20, 2023 5:14:35 PM hudson.plugins.swarm.Client run\n2023-02-20 21:14:35 jenkins-slave   | SEVERE: RetryException occurred\n2023-02-20 21:14:35 jenkins-slave   | hudson.plugins.swarm.RetryException: Failed to fetch slave info from Jenkins, HTTP response code: 401\n2023-02-20 21:14:35 jenkins-slave   |   at hudson.plugins.swarm.SwarmClient.discoverFromMasterUrl(SwarmClient.java:151)\n2023-02-20 21:14:35 jenkins-slave   |   at hudson.plugins.swarm.Client.run(Client.java:150)\n2023-02-20 21:14:35 jenkins-slave   |   at hudson.plugins.swarm.Client.main(Client.java:128)\n2023-02-20 21:14:35 jenkins-slave   | \n2023-02-20 21:14:35 jenkins-slave   | Feb 20, 2023 5:14:35 PM hudson.plugins.swarm.Client run\n2023-02-20 21:14:35 jenkins-slave   | INFO: Retrying in 10 seconds\n2023-02-20 21:14:45 jenkins-slave   | Feb 20, 2023 5:14:45 PM hudson.plugins.swarm.SwarmClient discoverFromMasterUrl\n2023-02-20 21:14:45 jenkins-slave   | SEVERE: Failed to fetch slave info from Jenkins, HTTP response code: 401\n2023-02-20 21:14:45 jenkins-slave   | Feb 20, 2023 5:14:45 PM hudson.plugins.swarm.Client run\n2023-02-20 21:14:45 jenkins-slave   | SEVERE: RetryException occurred\n2023-02-20 21:14:45 jenkins-slave   | hudson.plugins.swarm.RetryException: Failed to fetch slave info from Jenkins, HTTP response code: 401\n2023-02-20 21:14:45 jenkins-slave   |   at hudson.plugins.swarm.SwarmClient.discoverFromMasterUrl(SwarmClient.java:151)\n2023-02-20 21:14:45 jenkins-slave   |   at hudson.plugins.swarm.Client.run(Client.java:150)\n2023-02-20 21:14:45 jenkins-slave   |   at hudson.plugins.swarm.Client.main(Client.java:128)\n2023-02-20 21:14:45 jenkins-slave   | \n2023-02-20 21:14:45 jenkins-slave   | Feb 20, 2023 5:14:45 PM hudson.plugins.swarm.Client run\n2023-02-20 21:14:45 jenkins-slave   | INFO: Retrying in 10 seconds\n2023-02-20 21:14:51 jenkins-master  | 2023-02-20 17:14:51.695+0000 [id=1156]    INFO    hudson.model.AsyncAperiodicWork#lambda$doAperiodicRun$0: Started Update IdP Metadata from URL PeriodicWork\n2023-02-20 21:14:51 jenkins-master  | 2023-02-20 17:14:51.708+0000 [id=1156]    INFO    hudson.model.AsyncAperiodicWork#lambda$doAperiodicRun$0: Finished Update IdP Metadata from URL PeriodicWork. 9 ms\n2023-02-20 21:14:55 jenkins-slave   | Feb 20, 2023 5:14:55 PM hudson.plugins.swarm.SwarmClient discoverFromMasterUrl\n2023-02-20 21:14:55 jenkins-slave   | SEVERE: Failed to fetch slave info from Jenkins, HTTP response code: 401\n2023-02-20 21:14:55 jenkins-slave   | Feb 20, 2023 5:14:55 PM hudson.plugins.swarm.Client run\n2023-02-20 21:14:55 jenkins-slave   | SEVERE: RetryException occurred\n2023-02-20 21:14:55 jenkins-slave   | hudson.plugins.swarm.RetryException: Failed to fetch slave info from Jenkins, HTTP response code: 401\n2023-02-20 21:14:55 jenkins-slave   |   at hudson.plugins.swarm.SwarmClient.discoverFromMasterUrl(SwarmClient.java:151)\n2023-02-20 21:14:55 jenkins-slave   |   at hudson.plugins.swarm.Client.run(Client.java:150)\n2023-02-20 21:14:55 jenkins-slave   |   at hudson.plugins.swarm.Client.main(Client.java:128)\n2023-02-20 21:14:55 jenkins-slave   | \n2023-02-20 21:14:55 jenkins-slave   | Feb 20, 2023 5:14:55 PM hudson.plugins.swarm.Client run\n2023-02-20 21:14:55 jenkins-slave   | INFO: Retrying in 10 seconds\n2023-02-20 21:15:02 jenkins-master  | 2023-02-20 17:15:02.650+0000 [id=1157]    INFO    h.TcpSlaveAgentListener$ConnectionHandler#run: Connection #238 failed: java.io.EOFException\n</code></pre>\n<p>Can anybody help me fix this?</p>\n<p>I tried building a job again and again but does not work.\nI'm expecting it to work normally and not freeze in the middle of the building process.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":7139308,"reputation":2282,"user_id":5457643,"display_name":"Turamarth"},"score":1,"creation_date":1676906492,"post_id":75511046,"comment_id":133226715,"body_markdown":"Does this answer your question? [Is there a way to assign values into an Array with forEach?](https://stackoverflow.com/questions/59894380/is-there-a-way-to-assign-values-into-an-array-with-foreach)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/59894380/is-there-a-way-to-assign-values-into-an-array-with-foreach\">Is there a way to assign values into an Array with forEach?</a>"}],"answers":[{"tags":[],"owner":{"account_id":2800537,"reputation":454,"user_id":2408863,"display_name":"tonnoz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676907281,"creation_date":1676906722,"answer_id":75511159,"question_id":75511046,"body_markdown":"As pointed [here][1] , you can&#39;t do it.\r\nHere is an equivalent way using `while` and array assignment :\r\n\r\n    import java.util.Scanner;\r\n    \r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            Scanner sc = new Scanner(System.in);\r\n            System.out.println(&quot;Enter the size of array&quot;);\r\n            int n = sc.nextInt();\r\n            float sum = 0;\r\n            float[] a = new float[n];\r\n            System.out.println(&quot;Enter the elements of array&quot;);\r\n            int i = 0;\r\n            while (i &lt; n) {\r\n                a[i++] = sc.nextFloat();\r\n            }\r\n            System.out.println(&quot;The sum of the items in array are:&quot;);\r\n            for (float element : a) {\r\n                sum = sum + element;\r\n            }\r\n            System.out.println(sum);\r\n    \r\n        }\r\n    }\r\n\r\nGood luck on your path young padawan!\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/59894380/is-there-a-way-to-assign-values-into-an-array-with-foreach","title":"how to create an array of 5 elements dynamically and print the sum of all elements in end?","body":"<p>As pointed <a href=\"https://stackoverflow.com/questions/59894380/is-there-a-way-to-assign-values-into-an-array-with-foreach\">here</a> , you can't do it.\nHere is an equivalent way using <code>while</code> and array assignment :</p>\n<pre><code>import java.util.Scanner;\n\npublic class Main {\n    public static void main(String[] args) {\n        Scanner sc = new Scanner(System.in);\n        System.out.println(&quot;Enter the size of array&quot;);\n        int n = sc.nextInt();\n        float sum = 0;\n        float[] a = new float[n];\n        System.out.println(&quot;Enter the elements of array&quot;);\n        int i = 0;\n        while (i &lt; n) {\n            a[i++] = sc.nextFloat();\n        }\n        System.out.println(&quot;The sum of the items in array are:&quot;);\n        for (float element : a) {\n            sum = sum + element;\n        }\n        System.out.println(sum);\n\n    }\n}\n</code></pre>\n<p>Good luck on your path young padawan!</p>\n"},{"tags":[],"owner":{"account_id":1021725,"reputation":10018,"user_id":1031887,"accept_rate":77,"display_name":"phatfingers"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676913930,"creation_date":1676913930,"answer_id":75512410,"question_id":75511046,"body_markdown":"A `float` is a primitive value, so when you&#39;re iterating `a` in your loop and assigning each value to `element`, your `element` variable will just receive a copy of the value taken from the array.  It is not a reference to a value inside your array.\r\n\r\nNote that even if your array contained Objects instead of primitives, you would still not be able to replace one of them by reassigning a reference variable of that Object to something else.  You could alter the property of a mutable Object in your array using a reference to that object, but you couldn&#39;t replace the Object itself.\r\n\r\n","title":"how to create an array of 5 elements dynamically and print the sum of all elements in end?","body":"<p>A <code>float</code> is a primitive value, so when you're iterating <code>a</code> in your loop and assigning each value to <code>element</code>, your <code>element</code> variable will just receive a copy of the value taken from the array.  It is not a reference to a value inside your array.</p>\n<p>Note that even if your array contained Objects instead of primitives, you would still not be able to replace one of them by reassigning a reference variable of that Object to something else.  You could alter the property of a mutable Object in your array using a reference to that object, but you couldn't replace the Object itself.</p>\n"}],"owner":{"account_id":27833775,"reputation":1,"user_id":21251681,"display_name":"Maliha"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1676913930,"creation_date":1676906122,"question_id":75511046,"body_markdown":"when I try the same logic and execute using for loop it works whereas when I try the same using for each loop it doesn&#39;t give the expected result. when I try to print sum of all elements at end it gives the answer 0.\r\n\r\n\r\n\r\n\r\n```\r\nimport java.util.Scanner;\r\npublic class Main\r\n{\r\n\tpublic static void main(String[] args) {\r\n\t\tScanner sc = new Scanner(System.in);\r\n\t\tSystem.out.println(&quot;Enter the size of array&quot;);\r\n\t\tfloat n = sc.nextFloat(); float sum=0;\r\n\t\tfloat []a =new float[5];\r\n\t\tSystem.out.println(&quot;Enter the elements of array&quot;);\r\n\t\tfor(float element : a)\r\n\t\t{\r\n\t\t    element = sc.nextFloat();\r\n\t\t}\r\n\t\tSystem.out.println(&quot;The sum of the items in array are:&quot;);\r\n\t\tfor(float element : a)\r\n\t\t{\r\n\t\t   sum = sum + element; \r\n\t\t   \r\n\t\t}\r\n\t\tSystem.out.println(sum);\r\n\t\t\r\n\t}\r\n}\r\n```\r\n\r\n\r\n","title":"how to create an array of 5 elements dynamically and print the sum of all elements in end?","body":"<p>when I try the same logic and execute using for loop it works whereas when I try the same using for each loop it doesn't give the expected result. when I try to print sum of all elements at end it gives the answer 0.</p>\n<pre><code>import java.util.Scanner;\npublic class Main\n{\n    public static void main(String[] args) {\n        Scanner sc = new Scanner(System.in);\n        System.out.println(&quot;Enter the size of array&quot;);\n        float n = sc.nextFloat(); float sum=0;\n        float []a =new float[5];\n        System.out.println(&quot;Enter the elements of array&quot;);\n        for(float element : a)\n        {\n            element = sc.nextFloat();\n        }\n        System.out.println(&quot;The sum of the items in array are:&quot;);\n        for(float element : a)\n        {\n           sum = sum + element; \n           \n        }\n        System.out.println(sum);\n        \n    }\n}\n</code></pre>\n"},{"tags":["java","sockets","proxy","client-server","socks"],"owner":{"account_id":15452432,"reputation":81,"user_id":11147465,"display_name":"Albert"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":692,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"answer_count":0,"score":8,"last_activity_date":1676913862,"creation_date":1552025074,"question_id":55057596,"body_markdown":"Using RFC 1928, I have implemented SOCKS5 &#39;BIND&#39; and &#39;UDP ASSOCIATE&#39; commands on Java, but I haven&#39;t found any way to test their work. I have tried browser (Firefox), FTP server and client in active and passive mods (run server on my Android phone and connected to it using Filezilla client for Linux), e-mail client (Thunderbird and SMTP). But every app always sends a request on connection (using only &#39;CONNECT&#39; command) and nothing else (but all of them work normal). So, how I can test commands?","title":"How can I test implementations of SOCKS5 proxy &#39;BIND&#39; and &#39;UDP ASSOCIATE&#39; commands?","body":"<p>Using RFC 1928, I have implemented SOCKS5 'BIND' and 'UDP ASSOCIATE' commands on Java, but I haven't found any way to test their work. I have tried browser (Firefox), FTP server and client in active and passive mods (run server on my Android phone and connected to it using Filezilla client for Linux), e-mail client (Thunderbird and SMTP). But every app always sends a request on connection (using only 'CONNECT' command) and nothing else (but all of them work normal). So, how I can test commands?</p>\n"},{"tags":["java","android","postgresql","classnotfoundexception"],"comments":[{"owner":{"account_id":1018150,"reputation":45383,"user_id":1029225,"display_name":"MH."},"score":1,"creation_date":1338924120,"post_id":10903481,"comment_id":14216177,"body_markdown":"Did you place the .jar in a `lib` folder in stead of `libs`, by any chance? Since [ADT r17](http://tools.android.com/recent/dealingwithdependenciesinandroidprojects), Libraries referenced from external locations will *not* be packaged into the .apk. The result is your project will compile fine, but at runtime you&#39;ll run into the `NoClassDefFoundError` because of the missing libraries. There are lots of similar Q&amp;A&#39;s on SO by the way; e.g. [this one](http://stackoverflow.com/a/9820881/1029225).","body":"Did you place the .jar in a <code>lib</code> folder in stead of <code>libs</code>, by any chance? Since <a href=\"http://tools.android.com/recent/dealingwithdependenciesinandroidprojects\" rel=\"nofollow noreferrer\">ADT r17</a>, Libraries referenced from external locations will <i>not</i> be packaged into the .apk. The result is your project will compile fine, but at runtime you&#39;ll run into the <code>NoClassDefFoundError</code> because of the missing libraries. There are lots of similar Q&amp;A&#39;s on SO by the way; e.g. <a href=\"http://stackoverflow.com/a/9820881/1029225\">this one</a>."},{"owner":{"account_id":1544090,"reputation":251,"user_id":1438048,"display_name":"user1438048"},"score":0,"creation_date":1338924789,"post_id":10903481,"comment_id":14216438,"body_markdown":"Got it to work. A lot to learn :P Thanks!","body":"Got it to work. A lot to learn :P Thanks!"}],"answers":[{"tags":[],"owner":{"account_id":16878,"reputation":306143,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1338924211,"creation_date":1338924211,"answer_id":10903581,"question_id":10903481,"body_markdown":"It&#39;s a CLASSPATH issue; the PostgreSQL JDBC driver isn&#39;t available when the class loader tries to load it.   You need to add it to your CLASSPATH correctly.\r\n\r\nIf it works in Eclipse, it&#39;s because adding a JAR to the build path *is* adding it to the CLASSPATH.  You have to understand how CLASSPATH works without the Eclipse training wheels to help you.","title":"java.lang.ClassNotFoundException: org.postgresql.Driver, Android","body":"<p>It's a CLASSPATH issue; the PostgreSQL JDBC driver isn't available when the class loader tries to load it.   You need to add it to your CLASSPATH correctly.</p>\n\n<p>If it works in Eclipse, it's because adding a JAR to the build path <em>is</em> adding it to the CLASSPATH.  You have to understand how CLASSPATH works without the Eclipse training wheels to help you.</p>\n"},{"tags":[],"owner":{"account_id":155770,"reputation":120153,"user_id":372643,"accept_rate":88,"display_name":"Bruno"},"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1392562993,"creation_date":1392562993,"answer_id":21812893,"question_id":10903481,"body_markdown":"Assuming your dependencies are correctly configured (see [`libs` directory in Android SDK version 17 or above](http://tools.android.com/recent/dealingwithdependenciesinandroidprojects), as pointed out in a comment), you should be able to get the 9.2 driver to work by registering it explicitly with the driver manager.\r\n\r\nInstead of:\r\n\r\n    Class.forName(&quot;org.postgresql.Driver&quot;);\r\n\r\nUse:\r\n\r\n    DriverManager.register(new org.postgresql.Driver());\r\n\r\n\r\n(I&#39;ve also tried with the 9.3-1100-jdbc41 jar, but this wouldn&#39;t work.)\r\n\r\nPlease note that, as [explained by Craig Ringer in an answer to a duplicate question](https://stackoverflow.com/a/10441565/372643), using JDBC from Android is rarely a good idea, because JDBC connections aren&#39;t well suited to network usage patterns generally used by Android devices.","title":"java.lang.ClassNotFoundException: org.postgresql.Driver, Android","body":"<p>Assuming your dependencies are correctly configured (see <a href=\"http://tools.android.com/recent/dealingwithdependenciesinandroidprojects\" rel=\"nofollow noreferrer\"><code>libs</code> directory in Android SDK version 17 or above</a>, as pointed out in a comment), you should be able to get the 9.2 driver to work by registering it explicitly with the driver manager.</p>\n\n<p>Instead of:</p>\n\n<pre><code>Class.forName(\"org.postgresql.Driver\");\n</code></pre>\n\n<p>Use:</p>\n\n<pre><code>DriverManager.register(new org.postgresql.Driver());\n</code></pre>\n\n<p>(I've also tried with the 9.3-1100-jdbc41 jar, but this wouldn't work.)</p>\n\n<p>Please note that, as <a href=\"https://stackoverflow.com/a/10441565/372643\">explained by Craig Ringer in an answer to a duplicate question</a>, using JDBC from Android is rarely a good idea, because JDBC connections aren't well suited to network usage patterns generally used by Android devices.</p>\n"},{"tags":[],"owner":{"account_id":3375136,"reputation":49,"user_id":2833407,"display_name":"yangya"},"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1395049486,"creation_date":1395049486,"answer_id":22450996,"question_id":10903481,"body_markdown":"You should put the jar package into the lib folder(WebContent-WEB-INF-lib),and right click on the jar package-build path-add to build path","title":"java.lang.ClassNotFoundException: org.postgresql.Driver, Android","body":"<p>You should put the jar package into the lib folder(WebContent-WEB-INF-lib),and right click on the jar package-build path-add to build path</p>\n"},{"tags":[],"owner":{"account_id":3399835,"reputation":217,"user_id":2852348,"display_name":"Shilpa"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1426343549,"creation_date":1426343549,"answer_id":29050078,"question_id":10903481,"body_markdown":"Downloading and adding the JDBC JAR file to the built path of the tool you are using may be a temporary solution as none of the above solutions worked out in my case.","title":"java.lang.ClassNotFoundException: org.postgresql.Driver, Android","body":"<p>Downloading and adding the JDBC JAR file to the built path of the tool you are using may be a temporary solution as none of the above solutions worked out in my case.</p>\n"},{"tags":[],"owner":{"account_id":1458483,"reputation":5866,"user_id":1373465,"accept_rate":84,"display_name":"Menelaos Kotsollaris"},"down_vote_count":1,"up_vote_count":29,"is_accepted":false,"score":28,"last_activity_date":1582995030,"creation_date":1465418610,"answer_id":37712556,"question_id":10903481,"body_markdown":"You need to add the PostgreSQL JDBC Driver in your project as mentioned in [search.maven.org][1].\r\n\r\n**Gradle**:\r\n\r\n    implementation &#39;org.postgresql:postgresql:42.2.10&#39;\r\n\r\n**Maven**:\r\n\r\n```xml\r\n&lt;dependency&gt;\r\n  &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\r\n  &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\r\n  &lt;version&gt;42.2.10&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nYou can also [download][2] the **JAR** and import to your project manually.\r\n\r\nNOTE: Compile as used in this answer is deprecated. Replace with implementation as per [3].\r\n\r\n\r\n  [1]: https://search.maven.org/artifact/org.postgresql/postgresql\r\n  [2]: https://jdbc.postgresql.org/download.html\r\n  [3]: https://developer.android.com/studio/build/dependencies?utm_source=android-studio#dependency_configurations","title":"java.lang.ClassNotFoundException: org.postgresql.Driver, Android","body":"<p>You need to add the PostgreSQL JDBC Driver in your project as mentioned in <a href=\"https://search.maven.org/artifact/org.postgresql/postgresql\" rel=\"noreferrer\">search.maven.org</a>.</p>\n\n<p><strong>Gradle</strong>:</p>\n\n<pre><code>implementation 'org.postgresql:postgresql:42.2.10'\n</code></pre>\n\n<p><strong>Maven</strong>:</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n  &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\n  &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n  &lt;version&gt;42.2.10&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>You can also <a href=\"https://jdbc.postgresql.org/download.html\" rel=\"noreferrer\">download</a> the <strong>JAR</strong> and import to your project manually.</p>\n\n<p>NOTE: Compile as used in this answer is deprecated. Replace with implementation as per <a href=\"https://developer.android.com/studio/build/dependencies?utm_source=android-studio#dependency_configurations\" rel=\"noreferrer\">3</a>.</p>\n"},{"tags":[],"owner":{"account_id":12022589,"reputation":109,"user_id":8795582,"display_name":"Jagannath Pattar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1531483350,"creation_date":1531483350,"answer_id":51324677,"question_id":10903481,"body_markdown":"I faced the same problem; but the mistake I did was the postgre dependency I added only in plugins section; After adding the postgre dependency (the following) into the project dependencies section it worked.\r\n\r\n\r\n    &lt;dependency&gt;\r\n    &lt;groupId&gt;postgresql&lt;/groupId&gt;\r\n    &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\r\n    &lt;version&gt;9.1-901-1.jdbc4&lt;/version&gt;    \r\n    &lt;/dependency&gt;","title":"java.lang.ClassNotFoundException: org.postgresql.Driver, Android","body":"<p>I faced the same problem; but the mistake I did was the postgre dependency I added only in plugins section; After adding the postgre dependency (the following) into the project dependencies section it worked.</p>\n\n<pre><code>&lt;dependency&gt;\n&lt;groupId&gt;postgresql&lt;/groupId&gt;\n&lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n&lt;version&gt;9.1-901-1.jdbc4&lt;/version&gt;    \n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14210054,"reputation":81,"user_id":11610225,"display_name":"chadmc"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1594754040,"creation_date":1594754040,"answer_id":62902412,"question_id":10903481,"body_markdown":"I tried a million things for gradel, and I just needed to add this line to the build.gradel file.\r\n\r\n    dependencies {\r\n        compile group: &#39;org.postgresql&#39;, name: &#39;postgresql&#39;, version: &#39;42.2.1&#39;\r\n    }\r\n\r\n","title":"java.lang.ClassNotFoundException: org.postgresql.Driver, Android","body":"<p>I tried a million things for gradel, and I just needed to add this line to the build.gradel file.</p>\n<pre><code>dependencies {\n    compile group: 'org.postgresql', name: 'postgresql', version: '42.2.1'\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11838475,"reputation":31,"user_id":8663052,"display_name":"gatan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1628599095,"creation_date":1628599095,"answer_id":68726961,"question_id":10903481,"body_markdown":"My postgresql driver was working well until I did some developments on my project: added some new files included mapper file because I used Spring and MyBatis. Suddenly, when I tried to run it on server--tomcat--I got the error that org.postgresql.Driver could not be loaded.\r\n\r\nSolution on my case:\r\nRestart the Eclipse. Maybe in some ways, Eclipse lost contact with the driver. So it needed to be refreshed by restarting it.","title":"java.lang.ClassNotFoundException: org.postgresql.Driver, Android","body":"<p>My postgresql driver was working well until I did some developments on my project: added some new files included mapper file because I used Spring and MyBatis. Suddenly, when I tried to run it on server--tomcat--I got the error that org.postgresql.Driver could not be loaded.</p>\n<p>Solution on my case:\nRestart the Eclipse. Maybe in some ways, Eclipse lost contact with the driver. So it needed to be refreshed by restarting it.</p>\n"},{"tags":[],"owner":{"account_id":27834784,"reputation":1,"user_id":21252502,"display_name":"user21252502"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676913607,"creation_date":1676913607,"answer_id":75512372,"question_id":10903481,"body_markdown":"Add JDBC Driver jar file in your classpath\r\n\r\nGo to https://jdbc.postgresql.org/download/\r\n\r\ndownload the jar file\r\n\r\nRight click on java project\r\nClick Run As\r\nRun Configuration\r\nClick classpath tab\r\nClick your project name\r\nchoose add external jar from right side panel\r\nlocate the file and click apply\r\nRun","title":"java.lang.ClassNotFoundException: org.postgresql.Driver, Android","body":"<p>Add JDBC Driver jar file in your classpath</p>\n<p>Go to <a href=\"https://jdbc.postgresql.org/download/\" rel=\"nofollow noreferrer\">https://jdbc.postgresql.org/download/</a></p>\n<p>download the jar file</p>\n<p>Right click on java project\nClick Run As\nRun Configuration\nClick classpath tab\nClick your project name\nchoose add external jar from right side panel\nlocate the file and click apply\nRun</p>\n"}],"owner":{"account_id":1544090,"reputation":251,"user_id":1438048,"display_name":"user1438048"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":137904,"favorite_count":0,"down_vote_count":0,"up_vote_count":25,"answer_count":9,"score":25,"last_activity_date":1676913607,"creation_date":1338923799,"question_id":10903481,"body_markdown":"I am running Eclipse on Windows.\r\n\r\nFollowing [this tutorial](http://www.slideshare.net/markwkm/andoird-postgresql) I downloaded JDBC4, added it to my build path using Project&gt;Properties&gt;add External JAR, browsed for the file, it worked (`.classpath` file shows the correct lib path). \r\n\r\nThe package appears in my Referenced Libraries folder, so I continue the tutorial.\r\n\r\n        import java.sql.Connection;\r\n        import java.sql.DriverManager;\r\n        import java.sql.PreparedStatement;\r\n        import java.sql.SQLException;\r\n\r\n        ....\r\n\r\n        public void open ()\r\n\t        {\r\n\t\ttry {\r\n\t\t\tClass.forName(&quot;org.postgresql.Driver&quot;);\r\n\t\t} catch (ClassNotFoundException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t\t\r\n\t\ttry {\r\n\t\t\tconn = DriverManager.getConnection(url, username, password);\r\n\t\t} catch (SQLException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t}\r\n\r\nI think it would be as simple as that but I get hit with this big long stack trace starting with\r\n\r\n        java.lang.ClassNotFoundException: org.postgresql.Driver\r\n(I can provide more if needed)\r\n\r\nI tried `include org.postgresql.*;` but that didn&#39;t help either. I have also tried the JDBC3 but no luck there either.\r\n\r\nI looked at https://stackoverflow.com/questions/10435609/driver-jdbc-postgresql-with-android which provided a vague answer saying I would be better off just using HTTP+JSON. Which I have never used.\r\n\r\nI&#39;m brand new to Android, postgresql, web development, so a simple answer would be appreciated.","title":"java.lang.ClassNotFoundException: org.postgresql.Driver, Android","body":"<p>I am running Eclipse on Windows.</p>\n\n<p>Following <a href=\"http://www.slideshare.net/markwkm/andoird-postgresql\" rel=\"noreferrer\">this tutorial</a> I downloaded JDBC4, added it to my build path using Project>Properties>add External JAR, browsed for the file, it worked (<code>.classpath</code> file shows the correct lib path). </p>\n\n<p>The package appears in my Referenced Libraries folder, so I continue the tutorial.</p>\n\n<pre><code>    import java.sql.Connection;\n    import java.sql.DriverManager;\n    import java.sql.PreparedStatement;\n    import java.sql.SQLException;\n\n    ....\n\n    public void open ()\n        {\n    try {\n        Class.forName(\"org.postgresql.Driver\");\n    } catch (ClassNotFoundException e) {\n        e.printStackTrace();\n    }\n\n    try {\n        conn = DriverManager.getConnection(url, username, password);\n    } catch (SQLException e) {\n        e.printStackTrace();\n    }\n}\n</code></pre>\n\n<p>I think it would be as simple as that but I get hit with this big long stack trace starting with</p>\n\n<pre><code>    java.lang.ClassNotFoundException: org.postgresql.Driver\n</code></pre>\n\n<p>(I can provide more if needed)</p>\n\n<p>I tried <code>include org.postgresql.*;</code> but that didn't help either. I have also tried the JDBC3 but no luck there either.</p>\n\n<p>I looked at <a href=\"https://stackoverflow.com/questions/10435609/driver-jdbc-postgresql-with-android\">Driver JDBC PostgreSQL with Android</a> which provided a vague answer saying I would be better off just using HTTP+JSON. Which I have never used.</p>\n\n<p>I'm brand new to Android, postgresql, web development, so a simple answer would be appreciated.</p>\n"},{"tags":["java","android","kotlin","mobile","screen-recording"],"comments":[{"owner":{"account_id":39846,"reputation":991133,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":1,"creation_date":1676822880,"post_id":75501334,"comment_id":133210453,"body_markdown":"The media projection APIs require user permission. Historically, with a well-written app, you need to obtain permission once per process. Perhaps some rules changed in Android 12, but the need for a permission prompt has been there since Android 5.0.","body":"The media projection APIs require user permission. Historically, with a well-written app, you need to obtain permission once per process. Perhaps some rules changed in Android 12, but the need for a permission prompt has been there since Android 5.0."},{"owner":{"account_id":27825796,"reputation":11,"user_id":21245258,"display_name":"Kitty Kagaya"},"score":0,"creation_date":1676823912,"post_id":75501334,"comment_id":133210622,"body_markdown":"Thanks for your response. I know there would be required permission since android 5.0, but what makes me annoying is requiring every time. One time is tolerable but each time asking is nervous.","body":"Thanks for your response. I know there would be required permission since android 5.0, but what makes me annoying is requiring every time. One time is tolerable but each time asking is nervous."},{"owner":{"account_id":39846,"reputation":991133,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1676824298,"post_id":75501334,"comment_id":133210698,"body_markdown":"Well, it *should* make people nervous. I think the permission prompt changed over the years -- what you show now helps users make informed decisions about whether they want your app to have this power.","body":"Well, it <i>should</i> make people nervous. I think the permission prompt changed over the years -- what you show now helps users make informed decisions about whether they want your app to have this power."}],"answers":[{"tags":[],"owner":{"account_id":10821091,"reputation":631,"user_id":7958563,"display_name":"Ivan Shafran"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1676913555,"creation_date":1676827364,"answer_id":75502023,"question_id":75501334,"body_markdown":"In my experience, you can save the result of media projection intent and reuse it during the same application process session. That is how most applications overcome this issue.\r\n\r\nBut be aware that it is more a hack than a solution because the docs do not guarantee it. In contrast, it says you can not reuse it. So use it at your own risk.\r\n\r\nFrom my observations, it will work almost everywhere except some Xiaomi and Huawei devices. You can add them to ignore list and ask every time. Another good idea will be to add a try-catch when reusing an intent, so you can request permission again if the intent is expired.\r\n\r\nContext: we use this hack in an application with millions of active users, so it has some credibility.\r\n\r\nCode snippet to get the idea, but not production ready:\r\n```Kotlin\r\nobject MediaProjectionIntentHolder {\r\n\t\r\n\tvar intent: Intent? = null\r\n\r\n}\r\n\r\nclass ScreenRecordingFragment : Fragment() {\r\n\t\r\n\r\n\t// A user clicked button and this function is called\r\n\tprivate fun startScreenRecording() {\r\n\t\tval intent = MediaProjectionIntentHolder.intent\r\n        // You can check Huawei / Xiaomi devices here to ask permission every time\r\n\t\tif (intent != null) {\r\n\t\t\trecordScreen(intent)\r\n\t\t} else {\r\n\t\t\trequestPermission()\r\n\t\t}\r\n\t}\r\n\r\n\tprivate fun recordScreen(intent: Intent) {\r\n\t\t// Actual screen recording start\r\n\t}\r\n\r\n\tprivate showError() {\r\n\t\t// show error\r\n\t}\r\n\r\n\r\n\tprivate fun requestPermission() {\r\n\t\tval service = requireContext().getSystemService(Context.MEDIA_PROJECTION_SERVICE) as MediaProjectionManager\r\n\t\tval intent = service.createScreenCaptureIntent()\r\n\r\n\t\tval screenRecordingSupported = context.packageManager.queryIntentActivities(intent, 0).isNotEmpty()\r\n\r\n\t\tif (screenRecordingSupported) {\r\n\t\t\tstartActivityForResult(intent, REQUEST_CODE)\r\n\t\t} else {\r\n\t\t\tshowError()\r\n\t\t}\r\n\t}\r\n\r\n\toverride fun onActivityResult(requestCode: Int, resultCode: Int, data: Intent?) {\r\n        super.onActivityResult(requestCode, resultCode, data)\r\n        if (requestCode == REQUEST_CODE) {\r\n            if (resultCode == Activity.RESULT_OK &amp;&amp; data != null) {\r\n            \tMediaProjectionIntentHolder.intent = data\r\n                recordScreen(data)\r\n            } else {\r\n                showError()\r\n            }\r\n        }\r\n    }\r\n\r\n\tprivate companion object {\r\n\t\tprivate consta val REQUEST_CODE = 42\r\n\t}\r\n}\r\n\r\n```","title":"Screen recording asks permission every time in android version 12 or above","body":"<p>In my experience, you can save the result of media projection intent and reuse it during the same application process session. That is how most applications overcome this issue.</p>\n<p>But be aware that it is more a hack than a solution because the docs do not guarantee it. In contrast, it says you can not reuse it. So use it at your own risk.</p>\n<p>From my observations, it will work almost everywhere except some Xiaomi and Huawei devices. You can add them to ignore list and ask every time. Another good idea will be to add a try-catch when reusing an intent, so you can request permission again if the intent is expired.</p>\n<p>Context: we use this hack in an application with millions of active users, so it has some credibility.</p>\n<p>Code snippet to get the idea, but not production ready:</p>\n<pre><code>object MediaProjectionIntentHolder {\n    \n    var intent: Intent? = null\n\n}\n\nclass ScreenRecordingFragment : Fragment() {\n    \n\n    // A user clicked button and this function is called\n    private fun startScreenRecording() {\n        val intent = MediaProjectionIntentHolder.intent\n        // You can check Huawei / Xiaomi devices here to ask permission every time\n        if (intent != null) {\n            recordScreen(intent)\n        } else {\n            requestPermission()\n        }\n    }\n\n    private fun recordScreen(intent: Intent) {\n        // Actual screen recording start\n    }\n\n    private showError() {\n        // show error\n    }\n\n\n    private fun requestPermission() {\n        val service = requireContext().getSystemService(Context.MEDIA_PROJECTION_SERVICE) as MediaProjectionManager\n        val intent = service.createScreenCaptureIntent()\n\n        val screenRecordingSupported = context.packageManager.queryIntentActivities(intent, 0).isNotEmpty()\n\n        if (screenRecordingSupported) {\n            startActivityForResult(intent, REQUEST_CODE)\n        } else {\n            showError()\n        }\n    }\n\n    override fun onActivityResult(requestCode: Int, resultCode: Int, data: Intent?) {\n        super.onActivityResult(requestCode, resultCode, data)\n        if (requestCode == REQUEST_CODE) {\n            if (resultCode == Activity.RESULT_OK &amp;&amp; data != null) {\n                MediaProjectionIntentHolder.intent = data\n                recordScreen(data)\n            } else {\n                showError()\n            }\n        }\n    }\n\n    private companion object {\n        private consta val REQUEST_CODE = 42\n    }\n}\n\n</code></pre>\n"}],"owner":{"account_id":27825796,"reputation":11,"user_id":21245258,"display_name":"Kitty Kagaya"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":937,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75502023,"answer_count":1,"score":1,"last_activity_date":1676913555,"creation_date":1676821673,"question_id":75501334,"body_markdown":"Thanks for your attention about my trouble.\r\nI am working with android + java &amp; kotlin app.\r\nIt needs to be screen recorded but it asks permission every time in android version 12 or above.\r\n\r\nScreen Record Permission Request\r\n\r\n[1]:https://i.stack.imgur.com/ydB4O.png\r\n\r\n![1]\r\n\r\nI hope this would ask only one time for permission request.\r\nI&#39;ve seen [XRecorder](https://play.google.com/store/apps/details?id=videoeditor.videorecorder.screenrecorder) does require once for screen recording permission not every time.\r\nIsn&#39;t there anyway to make my app to ask only one time for permission request.\r\nWish someone would help me to solve this.","title":"Screen recording asks permission every time in android version 12 or above","body":"<p>Thanks for your attention about my trouble.\nI am working with android + java &amp; kotlin app.\nIt needs to be screen recorded but it asks permission every time in android version 12 or above.</p>\n<p>Screen Record Permission Request</p>\n<p><img src=\"https://i.stack.imgur.com/ydB4O.png\" alt=\"1\" /></p>\n<p>I hope this would ask only one time for permission request.\nI've seen <a href=\"https://play.google.com/store/apps/details?id=videoeditor.videorecorder.screenrecorder\" rel=\"nofollow noreferrer\">XRecorder</a> does require once for screen recording permission not every time.\nIsn't there anyway to make my app to ask only one time for permission request.\nWish someone would help me to solve this.</p>\n"},{"tags":["java","maven","slf4j"],"comments":[{"owner":{"account_id":320962,"reputation":31681,"user_id":639520,"accept_rate":72,"display_name":"E-Riz"},"score":1,"creation_date":1676914960,"post_id":75512334,"comment_id":133229195,"body_markdown":"Did you actually try? It should work just fine, but I would make sure the exclusions are correct by trying to reference log4j 1.x directly from my own code to make sure it&#39;s going through slf4j.","body":"Did you actually try? It should work just fine, but I would make sure the exclusions are correct by trying to reference log4j 1.x directly from my own code to make sure it&#39;s going through slf4j."},{"owner":{"account_id":888714,"reputation":34077,"user_id":927493,"accept_rate":61,"display_name":"J Fabian Meier"},"score":0,"creation_date":1676920266,"post_id":75512334,"comment_id":133230550,"body_markdown":"@E-Riz You are right, with correct exclusions it works just fine.","body":"@E-Riz You are right, with correct exclusions it works just fine."}],"owner":{"account_id":888714,"reputation":34077,"user_id":927493,"accept_rate":61,"display_name":"J Fabian Meier"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676913340,"creation_date":1676913340,"question_id":75512334,"body_markdown":"My standalone Java program should log with slf4j.\r\n\r\nSome of dependencies log with log4j in version 1.x.\r\n\r\nI understand that I must probably put exclusions on log4j for those dependencies and in turn add the `log4j-over-slf4j` dependency to my project?\r\n\r\nBut what about the logging backend then? Can I still use log4j in version 2 as backend for slf4j? Or will this lead to an endless logging loop? ","title":"Using slf4j with code calling log12 code - what about the logging backend?","body":"<p>My standalone Java program should log with slf4j.</p>\n<p>Some of dependencies log with log4j in version 1.x.</p>\n<p>I understand that I must probably put exclusions on log4j for those dependencies and in turn add the <code>log4j-over-slf4j</code> dependency to my project?</p>\n<p>But what about the logging backend then? Can I still use log4j in version 2 as backend for slf4j? Or will this lead to an endless logging loop?</p>\n"},{"tags":["javascript","java","string","unicode","character"],"comments":[{"owner":{"account_id":24409551,"reputation":13,"user_id":18337220,"display_name":"Dan Howard"},"score":0,"creation_date":1676909059,"post_id":75511386,"comment_id":133227543,"body_markdown":"Basically how do I convert from ascii to the underscored variant.  That&#39;s what I&#39;m interested in.","body":"Basically how do I convert from ascii to the underscored variant.  That&#39;s what I&#39;m interested in."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1676914676,"post_id":75511386,"comment_id":133229115,"body_markdown":"Not all letters from Basic Latin (A-Z) have a matching character with a line below. For example, `A` does not, while `B` does. See [*Latin Extended Additional*](https://www.compart.com/en/unicode/block/U+1E00) block page.","body":"Not all letters from Basic Latin (A-Z) have a matching character with a line below. For example, <code>A</code> does not, while <code>B</code> does. See <a href=\"https://www.compart.com/en/unicode/block/U+1E00\" rel=\"nofollow noreferrer\"><i>Latin Extended Additional</i></a> block page."}],"answers":[{"tags":[],"owner":{"account_id":94279,"reputation":3166,"user_id":257489,"accept_rate":100,"display_name":"DaveS"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1676908550,"creation_date":1676908550,"answer_id":75511496,"question_id":75511386,"body_markdown":"What would a screen reader read the underlined characters as? \r\n\r\nJavaFX has [keyboard mnemonics](https://docs.oracle.com/javase/8/javafx/api/javafx/scene/control/MenuItem.html#mnemonicParsingProperty) built-in and enabled by default. All you have to do is put an underscore before the letter you want to use.\r\n\r\nAlso, there are [accelorators](https://www.tutorialspoint.com/how-to-add-accelerators-to-a-menu-item) if you want to show keyboard shortcuts beside menu items.","title":"Convert characters to underscore characters with utf-8","body":"<p>What would a screen reader read the underlined characters as?</p>\n<p>JavaFX has <a href=\"https://docs.oracle.com/javase/8/javafx/api/javafx/scene/control/MenuItem.html#mnemonicParsingProperty\" rel=\"nofollow noreferrer\">keyboard mnemonics</a> built-in and enabled by default. All you have to do is put an underscore before the letter you want to use.</p>\n<p>Also, there are <a href=\"https://www.tutorialspoint.com/how-to-add-accelerators-to-a-menu-item\" rel=\"nofollow noreferrer\">accelorators</a> if you want to show keyboard shortcuts beside menu items.</p>\n"},{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":1,"up_vote_count":1,"is_accepted":true,"score":0,"last_activity_date":1676913165,"creation_date":1676911586,"answer_id":75512029,"question_id":75511386,"body_markdown":"Try it like this. Use the diacritic `(\\\\u0332)` for underscoring.\r\n```\r\nString uscore = &quot;\\u0332&quot;;\r\nfor (char c = &#39;a&#39;; c &lt;= &#39;z&#39;; c++) {\r\n    String s = uscore + c;\r\n    System.out.print(s + &quot; &quot;);        \r\n    \r\n}\r\n```\r\nprints\r\n```\r\na̲ b̲ c̲ d̲ e̲ f̲ g̲ h̲ i̲ j̲ k̲ l̲ m̲ n̲ o̲ p̲ q̲ r̲ s̲ t̲ u̲ v̲ w̲ x̲ y̲ z̲\r\n```\r\n**Caveat:**  When printing with `Eclipse`, those that go below the base line don&#39;t show as underscored in the console. They do show up when I paste them into the answer.  It may be due to the fact that I have not upgraded to `JDK 19` as per the bug report on `System.out` support as mentioned [here](https://stackoverflow.com/a/75399383/1552534)","title":"Convert characters to underscore characters with utf-8","body":"<p>Try it like this. Use the diacritic <code>(\\\\u0332)</code> for underscoring.</p>\n<pre><code>String uscore = &quot;\\u0332&quot;;\nfor (char c = 'a'; c &lt;= 'z'; c++) {\n    String s = uscore + c;\n    System.out.print(s + &quot; &quot;);        \n    \n}\n</code></pre>\n<p>prints</p>\n<pre><code>a̲ b̲ c̲ d̲ e̲ f̲ g̲ h̲ i̲ j̲ k̲ l̲ m̲ n̲ o̲ p̲ q̲ r̲ s̲ t̲ u̲ v̲ w̲ x̲ y̲ z̲\n</code></pre>\n<p><strong>Caveat:</strong>  When printing with <code>Eclipse</code>, those that go below the base line don't show as underscored in the console. They do show up when I paste them into the answer.  It may be due to the fact that I have not upgraded to <code>JDK 19</code> as per the bug report on <code>System.out</code> support as mentioned <a href=\"https://stackoverflow.com/a/75399383/1552534\">here</a></p>\n"}],"owner":{"account_id":24409551,"reputation":13,"user_id":18337220,"display_name":"Dan Howard"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":339,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75512029,"answer_count":2,"score":1,"last_activity_date":1676913165,"creation_date":1676907938,"question_id":75511386,"body_markdown":"I&#39;m surprised I could not find this but I notice Unicode contains underscore versions of the letters and I&#39;d like something that could convert one to the other. \r\n\r\nexample: \r\n\r\nhttps://www.compart.com/en/unicode/U+1E0F\r\n\r\n “ḏ” (U+1E0F)\r\n\r\nand\r\n\r\n “d” (U+0064)\r\n\r\nHas anyone written a character converter to allow me to take a substring and convert some characters to their underscore versions?  I&#39;m not 100% sure of the relationships.\r\n\r\nJava or JavaScript or C# or other would be fine.\r\n\r\nTIA\r\n\r\nThis is for a menu in JavaFX. I could do it with a graphic maybe but I would lose styles. ","title":"Convert characters to underscore characters with utf-8","body":"<p>I'm surprised I could not find this but I notice Unicode contains underscore versions of the letters and I'd like something that could convert one to the other.</p>\n<p>example:</p>\n<p><a href=\"https://www.compart.com/en/unicode/U+1E0F\" rel=\"nofollow noreferrer\">https://www.compart.com/en/unicode/U+1E0F</a></p>\n<p>“ḏ” (U+1E0F)</p>\n<p>and</p>\n<p>“d” (U+0064)</p>\n<p>Has anyone written a character converter to allow me to take a substring and convert some characters to their underscore versions?  I'm not 100% sure of the relationships.</p>\n<p>Java or JavaScript or C# or other would be fine.</p>\n<p>TIA</p>\n<p>This is for a menu in JavaFX. I could do it with a graphic maybe but I would lose styles.</p>\n"},{"tags":["java","filter","stream","java-stream","chain"],"comments":[{"owner":{"account_id":2139538,"reputation":42501,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":0,"creation_date":1676913157,"post_id":75512279,"comment_id":133228682,"body_markdown":"It&#39;s parallel already. Those extra calls are useless.","body":"It&#39;s parallel already. Those extra calls are useless."},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":1,"creation_date":1676913422,"post_id":75512279,"comment_id":133228768,"body_markdown":"Related: [Java Stream API - Parallel and Sequential Streams](https://stackoverflow.com/q/63112716/6395627)","body":"Related: <a href=\"https://stackoverflow.com/q/63112716/6395627\">Java Stream API - Parallel and Sequential Streams</a>"},{"owner":{"account_id":17484987,"reputation":187,"user_id":12959368,"display_name":"Pavlo Maistrenko"},"score":0,"creation_date":1676913678,"post_id":75512279,"comment_id":133228845,"body_markdown":"So, the ```filter()``` effectively returns the same stream, but filtered, right?","body":"So, the <code>filter()</code> effectively returns the same stream, but filtered, right?"},{"owner":{"account_id":2139538,"reputation":42501,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":2,"creation_date":1676914027,"post_id":75512279,"comment_id":133228943,"body_markdown":"No, that&#39;s imprecise. Filter returns a stream containing the instruction that filtering should happen when a terminal operation, like `count`, runs. The actual stream is not filtered until the end. Likewise, `parallel` does nothing but set a flag saying &quot;this should be run in parallel&quot;, which is not checked again until the terminal operation. That&#39;s why multiple calls to `parallel` just equates to setting a flag that&#39;s already set.","body":"No, that&#39;s imprecise. Filter returns a stream containing the instruction that filtering should happen when a terminal operation, like <code>count</code>, runs. The actual stream is not filtered until the end. Likewise, <code>parallel</code> does nothing but set a flag saying &quot;this should be run in parallel&quot;, which is not checked again until the terminal operation. That&#39;s why multiple calls to <code>parallel</code> just equates to setting a flag that&#39;s already set."},{"owner":{"account_id":17484987,"reputation":187,"user_id":12959368,"display_name":"Pavlo Maistrenko"},"score":0,"creation_date":1676915818,"post_id":75512279,"comment_id":133229430,"body_markdown":"Now I get it. It resembles an SQL query. Thank you, Michael, for the explanation, and Slaw, for the link.","body":"Now I get it. It resembles an SQL query. Thank you, Michael, for the explanation, and Slaw, for the link."}],"owner":{"account_id":17484987,"reputation":187,"user_id":12959368,"display_name":"Pavlo Maistrenko"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":85,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676912980,"creation_date":1676912980,"question_id":75512279,"body_markdown":"The following code applies a chain of filters to a Stream and then counts the number of resulting items:\r\n\r\n```    \r\npublic int countNumberOfFailedStudentsunder20(\r\n            final Student[] studentArray) {\r\n        return (int) Stream.of(studentArray)\r\n              .parallel()\r\n              .filter(s -&gt; !s.checkIsCurrent())\r\n              .parallel()\r\n              .filter(s -&gt; s.getAge() &gt; 20)\r\n              .parallel()\r\n              .filter(s -&gt; s.getGrade() &lt; 65)\r\n              .count();\r\n    }\r\n``` \r\nIs the output of each subsequent filter a parallel stream (while the initial stream was made parallel by calling ```parallel()```) or it must be converted to a parallel stream explicitly, like it presently is.  ","title":"Is the output of filter() on a Java parallel stream also parallel? (chaining filters, executed in parallel)","body":"<p>The following code applies a chain of filters to a Stream and then counts the number of resulting items:</p>\n<pre><code>public int countNumberOfFailedStudentsunder20(\n            final Student[] studentArray) {\n        return (int) Stream.of(studentArray)\n              .parallel()\n              .filter(s -&gt; !s.checkIsCurrent())\n              .parallel()\n              .filter(s -&gt; s.getAge() &gt; 20)\n              .parallel()\n              .filter(s -&gt; s.getGrade() &lt; 65)\n              .count();\n    }\n</code></pre>\n<p>Is the output of each subsequent filter a parallel stream (while the initial stream was made parallel by calling <code>parallel()</code>) or it must be converted to a parallel stream explicitly, like it presently is.</p>\n"},{"tags":["java","user-input"],"comments":[{"owner":{"account_id":6587107,"reputation":23126,"user_id":5089567,"accept_rate":83,"display_name":"Konrad"},"score":0,"creation_date":1676911933,"post_id":75512077,"comment_id":133228354,"body_markdown":"https://stackoverflow.com/questions/245062/whats-the-difference-between-javascript-and-java","body":"<a href=\"https://stackoverflow.com/questions/245062/whats-the-difference-between-javascript-and-java\" title=\"whats the difference between javascript and java\">stackoverflow.com/questions/245062/&hellip;</a>"},{"owner":{"account_id":52616,"reputation":1042915,"user_id":157247,"accept_rate":91,"display_name":"T.J. Crowder"},"score":0,"creation_date":1676912004,"post_id":75512077,"comment_id":133228382,"body_markdown":"Does your code really start with `Import java.util.Scanner;`? Because that won&#39;t compile, Java is case-sensitive.","body":"Does your code really start with <code>Import java.util.Scanner;</code>? Because that won&#39;t compile, Java is case-sensitive."},{"owner":{"account_id":2345668,"reputation":13002,"user_id":2055998,"accept_rate":68,"display_name":"PM 77-1"},"score":1,"creation_date":1676912172,"post_id":75512077,"comment_id":133228434,"body_markdown":"Please review: https://stackoverflow.com/questions/13102045/scanner-is-skipping-nextline-after-using-next-or-nextfoo  It could be at least a *part* of your problem.","body":"Please review: <a href=\"https://stackoverflow.com/questions/13102045/scanner-is-skipping-nextline-after-using-next-or-nextfoo\" title=\"scanner is skipping nextline after using next or nextfoo\">stackoverflow.com/questions/13102045/&hellip;</a>  It could be at least a <i>part</i> of your problem."},{"owner":{"account_id":26879624,"reputation":386,"user_id":20460294,"display_name":"Anon"},"score":1,"creation_date":1676912334,"post_id":75512077,"comment_id":133228488,"body_markdown":"you have this &gt; `;`  on the while and in all ifs ex: `(menuChoice != 5);`  and what it should be `(menuChoice != 5)`","body":"you have this &gt; <code>;</code>  on the while and in all ifs ex: <code>(menuChoice != 5);</code>  and what it should be <code>(menuChoice != 5)</code>"},{"owner":{"account_id":4728704,"reputation":17022,"user_id":3824919,"display_name":"Tom"},"score":0,"creation_date":1676912388,"post_id":75512077,"comment_id":133228504,"body_markdown":"See the dupe to get an answer to your current issue. Then see the question @PM77-1 has linked to, this is also an issue in your code. And you never ask the user for another menu item when the first item has been processed.","body":"See the dupe to get an answer to your current issue. Then see the question @PM77-1 has linked to, this is also an issue in your code. And you never ask the user for another menu item when the first item has been processed."}],"owner":{"account_id":26654885,"reputation":11,"user_id":20268575,"display_name":"raisu"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1676912322,"answer_count":0,"score":0,"last_activity_date":1676912435,"creation_date":1676911835,"question_id":75512077,"body_markdown":"I&#39;m a beginner to Java, the code is for a homework assignment regarding files and loops.\r\nWhen I to run this code to check for any errors, when hitting a number, it doesn&#39;t go forward past the menu. However, if I hit 5, it then start&#39;s with the choice that&#39;s meant for 1. I&#39;m not exactly sure what&#39;s happening that&#39;s resulting in the error. \r\n\r\n\r\nI did try to switch the code to a switch method instead of a while loop, but that resulted in just the code not moving forward regardless of what option was selected. I also tried moving scanners around but that didn&#39;t also effect it.\r\n\r\nThe following is the code for reference \r\n```\r\nImport java.util.Scanner; \r\nimport java.io.*;\r\n\r\n\r\npublic class Homework3A {\r\n\tpublic static void main(String[] args) throws IOException\r\n\t{ \r\n\t\t\r\n\t\t//Homework3A\r\n\t\t//Lance Torres, completed on DATE\r\n\t\t\r\n\t\t\t\t\r\n\t\tScanner userInput = new Scanner(System.in);\r\n\t\tSystem.out.println(&quot;1. Add student\\n&quot;\r\n\t\t\t\t+ &quot;2. Add course \\n&quot;\r\n\t\t\t\t+ &quot;3. Display student\\n&quot;\r\n\t\t\t\t+ &quot;4. Display Course.\\n&quot;\r\n\t\t\t\t+ &quot;5. Exit&quot;); //the message that will display to start the menu \r\n\t\t \r\n\t\tint menuChoice = userInput.nextInt(); //changing the scanner type into a int type for the menu loop \r\n\t\t//will be using a while loop for this since it is a loop i am more familiar with when typing menus \r\n\t\tPrintWriter StudentOPFile = new PrintWriter(&quot;Students.txt&quot;);\r\n\t\tPrintWriter CoursesOPFile = new PrintWriter(&quot;Courses.txt&quot;); \r\n\t\twhile (menuChoice != 5); //this loop will keep happening until the user hits the int 5  \r\n\t\t{ \r\n\t\t\tif (menuChoice == 1); //for adding a student \r\n\t\t\t{ \r\n\t\t\t\tScanner studentInput = new Scanner(System.in); \r\n\t\t\t\tSystem.out.println(&quot;Please enter the new Student ID. &quot;); \r\n\t\t\t\tSystem.out.println(&quot;Student ID: &quot;); \r\n\t\t\t\tint studentID = studentInput.nextInt();\r\n\t\t\t\t//the system message and the string that will collect the user ID \r\n\t\t\t\t\r\n\t\t\t\tSystem.out.println(&quot;Please enter the Student&#39;s first name: &quot;); \r\n\t\t\t\tString firstName = studentInput.nextLine(); \r\n\t\t\t\t//code above is for when the user enters the first name of the student \r\n\t\t\t\t\r\n\t\t\t\tSystem.out.println(&quot;Please enter the Student&#39;s last name: &quot;); \r\n\t\t\t\tString lastName = studentInput.nextLine(); //for the last name of the student \r\n\t\t\t\t\r\n\t\t\t\tSystem.out.println(&quot;Please enter the address: &quot;); \r\n\t\t\t\tString address = studentInput.nextLine(); \r\n\t\t\t\t//for the address \r\n\t\t\t\t\r\n\t\t\t\tSystem.out.println(&quot;Please enter the city: &quot;); \r\n\t\t\t\tString city = studentInput.nextLine(); \r\n\t\t\t\t//for the city \r\n\t\t\t\t\r\n\t\t\t\tSystem.out.println(&quot;Please enter the state&quot;); \r\n\t\t\t\tString state = studentInput.nextLine(); \r\n\t\t\t\t//for the state \r\n\t\t\t\t\r\n\t\t\t\tFileWriter StudentWriter = new FileWriter(&quot;Students.txt&quot;, true); //adding a file writer in order to append information to the file\r\n\t\t\t\tPrintWriter outputFile = new PrintWriter(StudentWriter);\r\n\t\t\t\toutputFile.println(studentID + firstName + lastName + address + city + state); //adds all the information as a line \r\n\t\t\t\toutputFile.close(); //closes the file \r\n\t\t\t\tSystem.out.println(&quot;Student information added successfully.&quot;); //system display message when the system finishes writing it to file \r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t\tif (menuChoice == 2); \r\n\t\t\t{ \r\n\t\t\t\tScanner courseInput = new Scanner(System.in) ;\r\n\t\t\t\tSystem.out.println(&quot;Please enter the course ID: &quot;);\r\n\t\t\t\tint courseID = courseInput.nextInt(); \r\n\t\t\t\t//for when the user adds the courseID \r\n\t\t\t\t\r\n\t\t\t\tSystem.out.println(&quot;Please enter the course name: &quot;); \r\n\t\t\t\tString courseName = courseInput.nextLine(); \r\n\t\t\t\t//when the user adds the course&#39;s name \r\n\t\t\t\t\r\n\t\t\t\tSystem.out.println(&quot;Please enter a decription for the course: &quot;); \r\n\t\t\t\tString courseDescrption = courseInput.nextLine(); \r\n\t\t\t\t//when the user adds the descrption, decided to make this a string as well since it could be a long sentence as opposed to a single world \r\n\t\t\t\t\r\n\t\t\t\tFileWriter CourseWriter = new FileWriter(&quot;Courses.txt&quot;, true); \r\n\t\t\t\tPrintWriter outputFile = new PrintWriter(CourseWriter);\r\n\t\t\t\toutputFile.println(courseID + courseName + courseDescrption);\r\n\t\t\t\toutputFile.close(); \r\n\t\t\t\tSystem.out.println(&quot;Course information added successfully.&quot;);\r\n\t\t\t} \r\n\t\t\tif (menuChoice == 3);\r\n\t\t\t{ \r\n\t\t\t\t File studentFile = new File(&quot;Students.txt&quot;);\r\n\t\t\t\t Scanner inputFileusingStudentID = new Scanner(studentFile); \r\n\t\t\t\t while (inputFileusingStudentID.hasNext())\r\n\t\t\t\t\t {\r\n\t\t\t\t\t String studentInformation = inputFileusingStudentID.nextLine(); \r\n\t\t\t\t\t \r\n\t\t\t\t\t System.out.println(studentInformation); \r\n\t\t\t\t\t }\r\n\t\t\t\t inputFileusingStudentID.close(); \r\n\t\t\t}\r\n\t\t\tif (menuChoice == 4); \r\n\t\t\t{ \r\n\t\t\t\t File coursesFile = new File(&quot;Courses.txt&quot;);\r\n\t\t\t\t Scanner inputFileusingCourseID = new Scanner(coursesFile); \r\n\t\t\t\t while (inputFileusingCourseID.hasNext())\r\n\t\t\t\t\t {\r\n\t\t\t\t\t String courseInformation = inputFileusingCourseID.nextLine(); \r\n\t\t\t\t\t \r\n\t\t\t\t\t System.out.println(courseInformation); \r\n\t\t\t\t\t }\r\n\t\t\t\t inputFileusingCourseID.close(); \r\n\t\t\t} System.out.println(&quot;Thank you for using the program. Now Exiting...&quot;);\r\n\t\t\tSystem.out.println(&quot;Goodbye.&quot;); \r\n\t\t} \t\r\n\t\r\n}\r\n\r\n\r\n```\r\n","title":"Code doesn&#39;t go through when inputting a number when prompted","body":"<p>I'm a beginner to Java, the code is for a homework assignment regarding files and loops.\nWhen I to run this code to check for any errors, when hitting a number, it doesn't go forward past the menu. However, if I hit 5, it then start's with the choice that's meant for 1. I'm not exactly sure what's happening that's resulting in the error.</p>\n<p>I did try to switch the code to a switch method instead of a while loop, but that resulted in just the code not moving forward regardless of what option was selected. I also tried moving scanners around but that didn't also effect it.</p>\n<p>The following is the code for reference</p>\n<pre><code>Import java.util.Scanner; \nimport java.io.*;\n\n\npublic class Homework3A {\n    public static void main(String[] args) throws IOException\n    { \n        \n        //Homework3A\n        //Lance Torres, completed on DATE\n        \n                \n        Scanner userInput = new Scanner(System.in);\n        System.out.println(&quot;1. Add student\\n&quot;\n                + &quot;2. Add course \\n&quot;\n                + &quot;3. Display student\\n&quot;\n                + &quot;4. Display Course.\\n&quot;\n                + &quot;5. Exit&quot;); //the message that will display to start the menu \n         \n        int menuChoice = userInput.nextInt(); //changing the scanner type into a int type for the menu loop \n        //will be using a while loop for this since it is a loop i am more familiar with when typing menus \n        PrintWriter StudentOPFile = new PrintWriter(&quot;Students.txt&quot;);\n        PrintWriter CoursesOPFile = new PrintWriter(&quot;Courses.txt&quot;); \n        while (menuChoice != 5); //this loop will keep happening until the user hits the int 5  \n        { \n            if (menuChoice == 1); //for adding a student \n            { \n                Scanner studentInput = new Scanner(System.in); \n                System.out.println(&quot;Please enter the new Student ID. &quot;); \n                System.out.println(&quot;Student ID: &quot;); \n                int studentID = studentInput.nextInt();\n                //the system message and the string that will collect the user ID \n                \n                System.out.println(&quot;Please enter the Student's first name: &quot;); \n                String firstName = studentInput.nextLine(); \n                //code above is for when the user enters the first name of the student \n                \n                System.out.println(&quot;Please enter the Student's last name: &quot;); \n                String lastName = studentInput.nextLine(); //for the last name of the student \n                \n                System.out.println(&quot;Please enter the address: &quot;); \n                String address = studentInput.nextLine(); \n                //for the address \n                \n                System.out.println(&quot;Please enter the city: &quot;); \n                String city = studentInput.nextLine(); \n                //for the city \n                \n                System.out.println(&quot;Please enter the state&quot;); \n                String state = studentInput.nextLine(); \n                //for the state \n                \n                FileWriter StudentWriter = new FileWriter(&quot;Students.txt&quot;, true); //adding a file writer in order to append information to the file\n                PrintWriter outputFile = new PrintWriter(StudentWriter);\n                outputFile.println(studentID + firstName + lastName + address + city + state); //adds all the information as a line \n                outputFile.close(); //closes the file \n                System.out.println(&quot;Student information added successfully.&quot;); //system display message when the system finishes writing it to file \n                }\n                \n            }\n            if (menuChoice == 2); \n            { \n                Scanner courseInput = new Scanner(System.in) ;\n                System.out.println(&quot;Please enter the course ID: &quot;);\n                int courseID = courseInput.nextInt(); \n                //for when the user adds the courseID \n                \n                System.out.println(&quot;Please enter the course name: &quot;); \n                String courseName = courseInput.nextLine(); \n                //when the user adds the course's name \n                \n                System.out.println(&quot;Please enter a decription for the course: &quot;); \n                String courseDescrption = courseInput.nextLine(); \n                //when the user adds the descrption, decided to make this a string as well since it could be a long sentence as opposed to a single world \n                \n                FileWriter CourseWriter = new FileWriter(&quot;Courses.txt&quot;, true); \n                PrintWriter outputFile = new PrintWriter(CourseWriter);\n                outputFile.println(courseID + courseName + courseDescrption);\n                outputFile.close(); \n                System.out.println(&quot;Course information added successfully.&quot;);\n            } \n            if (menuChoice == 3);\n            { \n                 File studentFile = new File(&quot;Students.txt&quot;);\n                 Scanner inputFileusingStudentID = new Scanner(studentFile); \n                 while (inputFileusingStudentID.hasNext())\n                     {\n                     String studentInformation = inputFileusingStudentID.nextLine(); \n                     \n                     System.out.println(studentInformation); \n                     }\n                 inputFileusingStudentID.close(); \n            }\n            if (menuChoice == 4); \n            { \n                 File coursesFile = new File(&quot;Courses.txt&quot;);\n                 Scanner inputFileusingCourseID = new Scanner(coursesFile); \n                 while (inputFileusingCourseID.hasNext())\n                     {\n                     String courseInformation = inputFileusingCourseID.nextLine(); \n                     \n                     System.out.println(courseInformation); \n                     }\n                 inputFileusingCourseID.close(); \n            } System.out.println(&quot;Thank you for using the program. Now Exiting...&quot;);\n            System.out.println(&quot;Goodbye.&quot;); \n        }   \n    \n}\n\n\n</code></pre>\n"},{"tags":["java","spring-boot","selenium-webdriver","testng","testrail"],"owner":{"account_id":27834229,"reputation":11,"user_id":21252052,"display_name":"Najaf Ali"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":68,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1676912390,"creation_date":1676912390,"question_id":75512185,"body_markdown":"I&#39;m using third party tool TestRail, I need to run my UI Automation scripts using UI scripts of testRail. I need to expose an API in the src.test.java.xxxx folder instead of src.main.java.xxxx that will actually execute the TestNG tests.\r\nhttps://support.gurock.com/hc/en-us/articles/7344009893908-UI-scripts-introduction\r\nSpring is not allowing me to expose an API in the test folder. \r\nIs there any specific configuration required to create API in test folder? We are already using Spring in our test folder like:\r\n\r\n```\r\npackage com.xxxx.selenium;\r\n\r\nimport com.xxxx.selenium.logging.LoggingAspect;\r\nimport org.springframework.context.annotation.*;\r\nimport org.springframework.stereotype.Component;\r\n\r\n@Component\r\n@Configuration\r\n@ComponentScan(basePackages={&quot;com.xxxx.selenium.*&quot;, &quot;com.xxxx.restassured&quot;})\r\n@PropertySource({&quot;classpath:application-test.properties&quot;,&quot;classpath:api-test.properties&quot;,\r\n        &quot;classpath:taxlookup-apidata.properties&quot;})\r\n@EnableAspectJAutoProxy(proxyTargetClass = true)\r\npublic class TestConfig {\r\n\r\n    @Bean\r\n    public LoggingAspect loggingAspect() {\r\n        return new LoggingAspect();\r\n    }\r\n}\r\n```\r\n\r\n```\r\n@SpringBootTest(classes = TestConfig.class)\r\npublic class AbstractTest extends AbstractTestNGSpringContextTests\r\n{\r\n\r\n    private static Logger logger = LoggerFactory.getLogger(AbstractTest.class);\r\n\r\n    @Autowired\r\n    protected LoadURL loadURL;\r\n    @Autowired\r\n    protected Menu menu;\r\n    @Autowired\r\n    protected ReportManager manager;\r\n```\r\n\r\n\r\n\r\n\r\nI have tried to run the piece of code by creating a main method in the test folder and It was executing the tests.\r\n\r\n```\r\npackage com.xxxx;\r\n\r\nimport com.xxxx.selenium.listeners.TestListener;\r\nimport com.xxxx.selenium.sanitypack.BarCodeCycleCountSanity;\r\nimport org.testng.ITestNGListener;\r\nimport org.testng.TestNG;\r\n\r\n\r\npublic class Main {\r\n    public static void main(String args[]){\r\n        ITestNGListener testListener = new TestListener();\r\n        TestNG testNG = new TestNG();\r\n        testNG.setTestClasses(new Class[] {xyz.class});\r\n        testNG.addListener(testListener);\r\n        testNG.run();\r\n\r\n    }\r\n}\r\n```\r\n\r\nI have also tried to move the above mentioned code in the main folder but the packages do not import in the main folder.\r\n\r\n","title":"Can we expose API in test folder instead of main folder in spring boot java","body":"<p>I'm using third party tool TestRail, I need to run my UI Automation scripts using UI scripts of testRail. I need to expose an API in the src.test.java.xxxx folder instead of src.main.java.xxxx that will actually execute the TestNG tests.\n<a href=\"https://support.gurock.com/hc/en-us/articles/7344009893908-UI-scripts-introduction\" rel=\"nofollow noreferrer\">https://support.gurock.com/hc/en-us/articles/7344009893908-UI-scripts-introduction</a>\nSpring is not allowing me to expose an API in the test folder.\nIs there any specific configuration required to create API in test folder? We are already using Spring in our test folder like:</p>\n<pre><code>package com.xxxx.selenium;\n\nimport com.xxxx.selenium.logging.LoggingAspect;\nimport org.springframework.context.annotation.*;\nimport org.springframework.stereotype.Component;\n\n@Component\n@Configuration\n@ComponentScan(basePackages={&quot;com.xxxx.selenium.*&quot;, &quot;com.xxxx.restassured&quot;})\n@PropertySource({&quot;classpath:application-test.properties&quot;,&quot;classpath:api-test.properties&quot;,\n        &quot;classpath:taxlookup-apidata.properties&quot;})\n@EnableAspectJAutoProxy(proxyTargetClass = true)\npublic class TestConfig {\n\n    @Bean\n    public LoggingAspect loggingAspect() {\n        return new LoggingAspect();\n    }\n}\n</code></pre>\n<pre><code>@SpringBootTest(classes = TestConfig.class)\npublic class AbstractTest extends AbstractTestNGSpringContextTests\n{\n\n    private static Logger logger = LoggerFactory.getLogger(AbstractTest.class);\n\n    @Autowired\n    protected LoadURL loadURL;\n    @Autowired\n    protected Menu menu;\n    @Autowired\n    protected ReportManager manager;\n</code></pre>\n<p>I have tried to run the piece of code by creating a main method in the test folder and It was executing the tests.</p>\n<pre><code>package com.xxxx;\n\nimport com.xxxx.selenium.listeners.TestListener;\nimport com.xxxx.selenium.sanitypack.BarCodeCycleCountSanity;\nimport org.testng.ITestNGListener;\nimport org.testng.TestNG;\n\n\npublic class Main {\n    public static void main(String args[]){\n        ITestNGListener testListener = new TestListener();\n        TestNG testNG = new TestNG();\n        testNG.setTestClasses(new Class[] {xyz.class});\n        testNG.addListener(testListener);\n        testNG.run();\n\n    }\n}\n</code></pre>\n<p>I have also tried to move the above mentioned code in the main folder but the packages do not import in the main folder.</p>\n"},{"tags":["java","kotlin","aws-lambda","cold-start"],"answers":[{"tags":[],"owner":{"account_id":27222298,"reputation":11,"user_id":20751328,"display_name":"Jan Br&#252;ggmann"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1671204887,"creation_date":1670928867,"answer_id":74783697,"question_id":74737674,"body_markdown":"I ran into essentially the same issue (with Java instead of Kotlin) and the solution was to switch the runtime-&gt;handler from\r\n\r\n    org.springframework.cloud.function.adapter.aws.SpringBootStreamHandler\r\n\r\nto\r\n\r\n    org.springframework.cloud.function.adapter.aws.FunctionInvoker::handleRequest\r\n\r\n","title":"SnapStart function priming - Doesn&#39;t seem to be working","body":"<p>I ran into essentially the same issue (with Java instead of Kotlin) and the solution was to switch the runtime-&gt;handler from</p>\n<pre><code>org.springframework.cloud.function.adapter.aws.SpringBootStreamHandler\n</code></pre>\n<p>to</p>\n<pre><code>org.springframework.cloud.function.adapter.aws.FunctionInvoker::handleRequest\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3681487,"reputation":31,"user_id":3066352,"display_name":"Aleksandras Mileris"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1676912084,"creation_date":1676909667,"answer_id":75511712,"question_id":74737674,"body_markdown":"It would probably be worth mentioning that as of 2023-02-20 [SnapStart isn&#39;t engaged for $LATEST][1] version of an AWS Lambda function, i.e. make sure you are invoking a particular published version. Otherwise, [Best practices for working with Lambda SnapStart article][2] says that the main performance killers are dynamically loaded classes, and network connections that need to be re-established from time to time.\r\n\r\nFrom [Snapstart Integration issue][3] raised for Spring Cloud Function on GitHub I tend to think that switching to `org.springframework.cloud.function.adapter.aws.FunctionInvoker` probably somewhat helps, but doesn&#39;t address the performance challenges mentioned above. I&#39;m not sure if I&#39;m interpreting [olegz&#39;s advice][4] correctly, but what worked best so far for my AWS lambda function built with Spring Boot/Spring Cloud Function is a &quot;warm-up&quot; config. It hooks into the `CRaC lifecycle` via `beforeCheckpoint()` and issues dummy requests to S3 and DynamoDB before the VM snapshot is made. This way most dynamically-loaded classes are pre-loaded, and network connections are pre-established, before any subsequent function invocation takes place.\r\n\r\n```java\r\npackage eu.mycompany.mysamplesystem.attachmentstore.configuration;\r\n\r\nimport com.amazonaws.services.lambda.runtime.events.S3Event;\r\nimport eu.mycompany.mysamplesystem.attachmentstore.handlers.MainEventHandler;\r\nimport lombok.extern.slf4j.Slf4j;\r\nimport org.crac.Core;\r\nimport org.crac.Resource;\r\nimport org.springframework.context.annotation.Configuration;\r\nimport software.amazon.awssdk.services.s3.model.NoSuchKeyException;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\n@Configuration\r\n@Slf4j\r\npublic class WarmUpConfig implements Resource {\r\n\r\n\tprivate final MainEventHandler mainEventHandler;\r\n\r\n\tpublic WarmUpConfig(final MainEventHandler mainEventHandler) {\r\n\t\tCore.getGlobalContext().register(this);\r\n\t\tthis.mainEventHandler = mainEventHandler;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void beforeCheckpoint(org.crac.Context&lt;? extends Resource&gt; context) {\r\n\t\tlog.debug(&quot;Warm-up MainEventHandler by issuing dummy requests&quot;);\r\n\t\tdummyS3Invocation();\r\n\t\tdummyDynamoDbInvocation();\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void afterRestore(org.crac.Context&lt;? extends Resource&gt; context) {\r\n\r\n\t}\r\n\r\n\tpublic void dummyS3Invocation() {\r\n\t\tS3Event s3Event = generateWarmUpEvent(&quot;ObjectCreated:Put&quot;);\r\n\r\n\t\ttry {\r\n\t\t\tmainEventHandler.handleRequest(s3Event, null);\r\n\t\t\tthrow new IllegalStateException(&quot;Warm-up event processing should have reached S3 and failed with S3Exception&quot;);\r\n\t\t} catch (NoSuchKeyException e) {\r\n\t\t\tlog.debug(&quot;S3Exception is expected, since it is a warm-up&quot;);\r\n\t\t}\r\n\t}\r\n\r\n\tpublic void dummyDynamoDbInvocation() {\r\n\t\tS3Event s3Event = generateWarmUpEvent(&quot;ObjectRemoved:Delete&quot;);\r\n\t\tmainEventHandler.handleRequest(s3Event, null);\r\n\t}\r\n\r\n\tprivate S3Event generateWarmUpEvent(String eventName) {\r\n\t\tS3Event.S3BucketEntity s3BucketEntity = new S3Event.S3BucketEntity(&quot;hopefully_non_existing_bucket&quot;, null, null);\r\n\t\tS3Event.S3ObjectEntity s3ObjectEntity = new S3Event.S3ObjectEntity(&quot;hopefully/non/existing.key&quot;, 0L, null, null, null);\r\n\t\tS3Event.S3Entity s3Entity = new S3Event.S3Entity(null, s3BucketEntity, s3ObjectEntity, null);\r\n\t\tList&lt;S3Event.S3EventNotificationRecord&gt; records = new ArrayList&lt;&gt;();\r\n\t\trecords.add(new S3Event.S3EventNotificationRecord(null, eventName, null, null, null, null, null, s3Entity, null));\r\n\t\treturn new S3Event(records);\r\n\t}\r\n}\r\n```\t\r\n\r\nP.S.: The `MainEventHandler` is basically the entry point to all the business logic exposed by the `Function`.\r\n\r\n```java\r\n@SpringBootApplication\r\n@RequiredArgsConstructor\r\npublic class Lambda {\r\n\r\n\tprivate final MainEventHandler mainEventHandler;\r\n\r\n\tpublic static void main(String... args) {\r\n\t\tSpringApplication.run(Lambda.class, args);\r\n\t}\r\n\r\n\t@Bean\r\n\tpublic Function&lt;Message&lt;S3Event&gt;, String&gt; defaultFunctionLambda() {\r\n\t\treturn message -&gt; {\r\n\t\t\tContext context = message.getHeaders().get(&quot;aws-context&quot;, Context.class);\r\n\t\t\treturn mainEventHandler.handleRequest(message.getPayload(), context);\r\n\t\t};\r\n\t}\r\n}\r\n```\r\n\r\n\r\n  [1]: https://docs.aws.amazon.com/lambda/latest/dg/snapstart.html\r\n  [2]: https://docs.aws.amazon.com/lambda/latest/dg/snapstart-best-practices.html\r\n  [3]: https://github.com/spring-cloud/spring-cloud-function/issues/967\r\n  [4]: https://github.com/spring-cloud/spring-cloud-function/issues/967#issuecomment-1400291803","title":"SnapStart function priming - Doesn&#39;t seem to be working","body":"<p>It would probably be worth mentioning that as of 2023-02-20 <a href=\"https://docs.aws.amazon.com/lambda/latest/dg/snapstart.html\" rel=\"nofollow noreferrer\">SnapStart isn't engaged for $LATEST</a> version of an AWS Lambda function, i.e. make sure you are invoking a particular published version. Otherwise, <a href=\"https://docs.aws.amazon.com/lambda/latest/dg/snapstart-best-practices.html\" rel=\"nofollow noreferrer\">Best practices for working with Lambda SnapStart article</a> says that the main performance killers are dynamically loaded classes, and network connections that need to be re-established from time to time.</p>\n<p>From <a href=\"https://github.com/spring-cloud/spring-cloud-function/issues/967\" rel=\"nofollow noreferrer\">Snapstart Integration issue</a> raised for Spring Cloud Function on GitHub I tend to think that switching to <code>org.springframework.cloud.function.adapter.aws.FunctionInvoker</code> probably somewhat helps, but doesn't address the performance challenges mentioned above. I'm not sure if I'm interpreting <a href=\"https://github.com/spring-cloud/spring-cloud-function/issues/967#issuecomment-1400291803\" rel=\"nofollow noreferrer\">olegz's advice</a> correctly, but what worked best so far for my AWS lambda function built with Spring Boot/Spring Cloud Function is a &quot;warm-up&quot; config. It hooks into the <code>CRaC lifecycle</code> via <code>beforeCheckpoint()</code> and issues dummy requests to S3 and DynamoDB before the VM snapshot is made. This way most dynamically-loaded classes are pre-loaded, and network connections are pre-established, before any subsequent function invocation takes place.</p>\n<pre class=\"lang-java prettyprint-override\"><code>package eu.mycompany.mysamplesystem.attachmentstore.configuration;\n\nimport com.amazonaws.services.lambda.runtime.events.S3Event;\nimport eu.mycompany.mysamplesystem.attachmentstore.handlers.MainEventHandler;\nimport lombok.extern.slf4j.Slf4j;\nimport org.crac.Core;\nimport org.crac.Resource;\nimport org.springframework.context.annotation.Configuration;\nimport software.amazon.awssdk.services.s3.model.NoSuchKeyException;\n\nimport java.util.ArrayList;\nimport java.util.List;\n\n@Configuration\n@Slf4j\npublic class WarmUpConfig implements Resource {\n\n    private final MainEventHandler mainEventHandler;\n\n    public WarmUpConfig(final MainEventHandler mainEventHandler) {\n        Core.getGlobalContext().register(this);\n        this.mainEventHandler = mainEventHandler;\n    }\n\n    @Override\n    public void beforeCheckpoint(org.crac.Context&lt;? extends Resource&gt; context) {\n        log.debug(&quot;Warm-up MainEventHandler by issuing dummy requests&quot;);\n        dummyS3Invocation();\n        dummyDynamoDbInvocation();\n    }\n\n    @Override\n    public void afterRestore(org.crac.Context&lt;? extends Resource&gt; context) {\n\n    }\n\n    public void dummyS3Invocation() {\n        S3Event s3Event = generateWarmUpEvent(&quot;ObjectCreated:Put&quot;);\n\n        try {\n            mainEventHandler.handleRequest(s3Event, null);\n            throw new IllegalStateException(&quot;Warm-up event processing should have reached S3 and failed with S3Exception&quot;);\n        } catch (NoSuchKeyException e) {\n            log.debug(&quot;S3Exception is expected, since it is a warm-up&quot;);\n        }\n    }\n\n    public void dummyDynamoDbInvocation() {\n        S3Event s3Event = generateWarmUpEvent(&quot;ObjectRemoved:Delete&quot;);\n        mainEventHandler.handleRequest(s3Event, null);\n    }\n\n    private S3Event generateWarmUpEvent(String eventName) {\n        S3Event.S3BucketEntity s3BucketEntity = new S3Event.S3BucketEntity(&quot;hopefully_non_existing_bucket&quot;, null, null);\n        S3Event.S3ObjectEntity s3ObjectEntity = new S3Event.S3ObjectEntity(&quot;hopefully/non/existing.key&quot;, 0L, null, null, null);\n        S3Event.S3Entity s3Entity = new S3Event.S3Entity(null, s3BucketEntity, s3ObjectEntity, null);\n        List&lt;S3Event.S3EventNotificationRecord&gt; records = new ArrayList&lt;&gt;();\n        records.add(new S3Event.S3EventNotificationRecord(null, eventName, null, null, null, null, null, s3Entity, null));\n        return new S3Event(records);\n    }\n}\n</code></pre>\n<p>P.S.: The <code>MainEventHandler</code> is basically the entry point to all the business logic exposed by the <code>Function</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@SpringBootApplication\n@RequiredArgsConstructor\npublic class Lambda {\n\n    private final MainEventHandler mainEventHandler;\n\n    public static void main(String... args) {\n        SpringApplication.run(Lambda.class, args);\n    }\n\n    @Bean\n    public Function&lt;Message&lt;S3Event&gt;, String&gt; defaultFunctionLambda() {\n        return message -&gt; {\n            Context context = message.getHeaders().get(&quot;aws-context&quot;, Context.class);\n            return mainEventHandler.handleRequest(message.getPayload(), context);\n        };\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":11677676,"reputation":51,"user_id":8550604,"display_name":"EricTenenbaum"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1021,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1676912084,"creation_date":1670544814,"question_id":74737674,"body_markdown":"I’m somewhat new to Kotlin/Java, but I have been using AWS Lambda for several years now (all Python and Node). I’ve been trying to “successfully” enable SnapStart on a SpringBoot Lambda using Kotlin running on java11 corretto (the only runtime supported currently), but it doesn’t seem to be working as I would have expected. \r\n\r\nI have hooked into the CRaC lifecycle methods beforeCheckpoint and afterRestore. In beforeCheckpoint I’ve initialized the SpringBoot application and I can see it in the deployment logs (AWS creates log streams for the deployment phase with SnapStart lambdas). \r\n\r\nHowever, the concerning thing is I’m also seeing the SpringBoot app get initialized in the function invocation logs too. I would have expected that to only happen during the deployment/initialization phase when the snapshot is being created. As a result I’m not really seeing a tremendous improvement on latency or overall. \r\n\r\nAny ideas why this is happening? ","title":"SnapStart function priming - Doesn&#39;t seem to be working","body":"<p>I’m somewhat new to Kotlin/Java, but I have been using AWS Lambda for several years now (all Python and Node). I’ve been trying to “successfully” enable SnapStart on a SpringBoot Lambda using Kotlin running on java11 corretto (the only runtime supported currently), but it doesn’t seem to be working as I would have expected.</p>\n<p>I have hooked into the CRaC lifecycle methods beforeCheckpoint and afterRestore. In beforeCheckpoint I’ve initialized the SpringBoot application and I can see it in the deployment logs (AWS creates log streams for the deployment phase with SnapStart lambdas).</p>\n<p>However, the concerning thing is I’m also seeing the SpringBoot app get initialized in the function invocation logs too. I would have expected that to only happen during the deployment/initialization phase when the snapshot is being created. As a result I’m not really seeing a tremendous improvement on latency or overall.</p>\n<p>Any ideas why this is happening?</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9360,"page":632,"page_size":100}
