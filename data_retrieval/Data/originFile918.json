{"items":[{"tags":["java","intellij-idea"],"comments":[{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":0,"creation_date":1667305462,"post_id":74275572,"comment_id":131132414,"body_markdown":"The first suspicious issue: why do you need to import the module again after you opened the existing project? Did you pick the wrong settings on the import there? Also: Do you have any repository or mirror configuration inside your local maven settings.xml? And please extend the first text error message with &quot;the following errors&quot; it refers to.","body":"The first suspicious issue: why do you need to import the module again after you opened the existing project? Did you pick the wrong settings on the import there? Also: Do you have any repository or mirror configuration inside your local maven settings.xml? And please extend the first text error message with &quot;the following errors&quot; it refers to."}],"answers":[{"comments":[{"owner":{"account_id":11655491,"reputation":361,"user_id":8543252,"accept_rate":100,"display_name":"IDK"},"score":0,"creation_date":1667314352,"post_id":74276184,"comment_id":131135680,"body_markdown":"it&#39;s not like I am trying to import the same project twice. Look at the third screenshot (taken right after I import the project) there&#39;s no directories in there, no src, .mvn, .idea folders.\nIf (when I am at the third screenshot) I try to pom.xml &gt; Maven &gt; Import as Maven project nothing happens.\nMeanwhile If I add a module the those folders appear but I get the error shown in my question.","body":"it&#39;s not like I am trying to import the same project twice. Look at the third screenshot (taken right after I import the project) there&#39;s no directories in there, no src, .mvn, .idea folders. If (when I am at the third screenshot) I try to pom.xml &gt; Maven &gt; Import as Maven project nothing happens. Meanwhile If I add a module the those folders appear but I get the error shown in my question."},{"owner":{"account_id":11655491,"reputation":361,"user_id":8543252,"accept_rate":100,"display_name":"IDK"},"score":0,"creation_date":1667314399,"post_id":74276184,"comment_id":131135704,"body_markdown":"BTW if you have any guidelines on how to add a project in intellij please point me to it because I swear to god it&#39;s always such a pain.","body":"BTW if you have any guidelines on how to add a project in intellij please point me to it because I swear to god it&#39;s always such a pain."},{"owner":{"account_id":5083689,"reputation":1006,"user_id":4079056,"display_name":"sanurah"},"score":0,"creation_date":1667315386,"post_id":74276184,"comment_id":131136035,"body_markdown":"That&#39;s weird that it&#39;s not showing directories at the first time. Your IDE version is a bit old. That should not be a problem though.","body":"That&#39;s weird that it&#39;s not showing directories at the first time. Your IDE version is a bit old. That should not be a problem though."},{"owner":{"account_id":5083689,"reputation":1006,"user_id":4079056,"display_name":"sanurah"},"score":0,"creation_date":1667315490,"post_id":74276184,"comment_id":131136066,"body_markdown":"I created this video for you,\nhttps://www.youtube.com/watch?v=SI4Y6DmAmgM&amp;ab_channel=SanuraHettiarachchi","body":"I created this video for you, <a href=\"https://www.youtube.com/watch?v=SI4Y6DmAmgM&amp;ab_channel=SanuraHettiarachchi\" rel=\"nofollow noreferrer\">youtube.com/&hellip;</a>"},{"owner":{"account_id":11655491,"reputation":361,"user_id":8543252,"accept_rate":100,"display_name":"IDK"},"score":0,"creation_date":1667316439,"post_id":74276184,"comment_id":131136404,"body_markdown":"Thank you for your time! Unfortunately I could not reproduce what&#39;s shown in your video. Here&#39;s mine if u wanna take a look https://www.youtube.com/watch?v=B01y4A38D0g","body":"Thank you for your time! Unfortunately I could not reproduce what&#39;s shown in your video. Here&#39;s mine if u wanna take a look <a href=\"https://www.youtube.com/watch?v=B01y4A38D0g\" rel=\"nofollow noreferrer\">youtube.com/watch?v=B01y4A38D0g</a>"},{"owner":{"account_id":5083689,"reputation":1006,"user_id":4079056,"display_name":"sanurah"},"score":0,"creation_date":1667316949,"post_id":74276184,"comment_id":131136583,"body_markdown":"This is a bug in the IDE.\nhttps://youtrack.jetbrains.com/issue/IDEA-290419/Maven-385-NoSuchMethodError-orgapachemavenmodelvalidationDefaultModelValidator-method-void-init-not-found\nUpdate to the latest version and it will work.","body":"This is a bug in the IDE. <a href=\"https://youtrack.jetbrains.com/issue/IDEA-290419/Maven-385-NoSuchMethodError-orgapachemavenmodelvalidationDefaultModelValidator-method-void-init-not-found\" rel=\"nofollow noreferrer\">youtrack.jetbrains.com/issue/IDEA-290419/&hellip;</a> Update to the latest version and it will work."},{"owner":{"account_id":5083689,"reputation":1006,"user_id":4079056,"display_name":"sanurah"},"score":0,"creation_date":1667316981,"post_id":74276184,"comment_id":131136595,"body_markdown":"Or downgrade your maven version.\nFile &gt; Setting &gt; Build Execution... &gt; Build tools &gt; Maven &gt; Maven home path\n 3.8.X to 3.6.X","body":"Or downgrade your maven version. File &gt; Setting &gt; Build Execution... &gt; Build tools &gt; Maven &gt; Maven home path  3.8.X to 3.6.X"},{"owner":{"account_id":5083689,"reputation":1006,"user_id":4079056,"display_name":"sanurah"},"score":0,"creation_date":1667318486,"post_id":74276184,"comment_id":131137147,"body_markdown":"Let us [continue this discussion in chat](https://chat.stackoverflow.com/rooms/249225/discussion-between-sanura-hettiarachchi-and-idk).","body":"Let us <a href=\"https://chat.stackoverflow.com/rooms/249225/discussion-between-sanura-hettiarachchi-and-idk\">continue this discussion in chat</a>."},{"owner":{"account_id":11655491,"reputation":361,"user_id":8543252,"accept_rate":100,"display_name":"IDK"},"score":0,"creation_date":1667319229,"post_id":74276184,"comment_id":131137414,"body_markdown":"thank you but there&#39;s no need, you pointed me in the right direction. I will edit my question with the solution, thank you.","body":"thank you but there&#39;s no need, you pointed me in the right direction. I will edit my question with the solution, thank you."}],"tags":[],"owner":{"account_id":5083689,"reputation":1006,"user_id":4079056,"display_name":"sanurah"},"comment_count":9,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1667317160,"creation_date":1667306802,"answer_id":74276184,"question_id":74275572,"body_markdown":"It&#39;s not clear what you are trying to achieve. You click &quot;open or import&quot; and add the existing project. After that you try to import the same project again. \r\n\r\nIf you want to load the maven dependancies right click on the &quot;pom.xml&quot; and select &quot;maven-&gt;reload project&quot;\r\n\r\n**Update:**\r\nThe issue seems to be on intelliJ IDE older versions which should be fixed by now.\r\nhttps://youtrack.jetbrains.com/issue/IDEA-290419/Maven-385-NoSuchMethodError-orgapachemavenmodelvalidationDefaultModelValidator-method-void-init-not-found","title":"ComponentLookupException when importing java project into intellij Idea","body":"<p>It's not clear what you are trying to achieve. You click &quot;open or import&quot; and add the existing project. After that you try to import the same project again.</p>\n<p>If you want to load the maven dependancies right click on the &quot;pom.xml&quot; and select &quot;maven-&gt;reload project&quot;</p>\n<p><strong>Update:</strong>\nThe issue seems to be on intelliJ IDE older versions which should be fixed by now.\n<a href=\"https://youtrack.jetbrains.com/issue/IDEA-290419/Maven-385-NoSuchMethodError-orgapachemavenmodelvalidationDefaultModelValidator-method-void-init-not-found\" rel=\"nofollow noreferrer\">https://youtrack.jetbrains.com/issue/IDEA-290419/Maven-385-NoSuchMethodError-orgapachemavenmodelvalidationDefaultModelValidator-method-void-init-not-found</a></p>\n"}],"owner":{"account_id":11655491,"reputation":361,"user_id":8543252,"accept_rate":100,"display_name":"IDK"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":208,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74276184,"answer_count":1,"score":1,"last_activity_date":1667319399,"creation_date":1667303844,"question_id":74275572,"body_markdown":"I just download a spring boot project from https://start.spring.io/ and imported it into intellij idea, then I choose import module selecting the pom.xml file but when I click on Apply I get the error:\r\n\r\n```\r\njava.lang.RuntimeException: java.lang.RuntimeException: org.codehaus.plexus.component.repository.exception.ComponentLookupException: com.google.inject.ProvisionException: Unable to provision, see the following errors:\r\n```\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n[![enter image description here][2]][2]\r\n\r\n[![enter image description here][3]][3]\r\n\r\n[![enter image description here][4]][4]\r\n\r\n\r\n[![enter image description here][5]][5]\r\n\r\n[![enter image description here][6]][6]\r\n\r\nHere&#39;s the pom.xml\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.7.5&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;org.springframework.amqp.tutorials&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;rabbitmq-amqp-tutorials&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;rabbitmq-amqp-tutorials&lt;/name&gt;\r\n\t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;1.8&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-amqp&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.amqp&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-rabbit-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n\r\n```\r\n\r\n**EDIT:SOLUTION**\r\n\r\nAs pointed out by @Sanura Hettiarachchi there is a bug with the edition of intellij idea I was using, uninstalling and installing the latest version (Intellij Idea 2022.2.3 Community Edition) solved the problem. Now importing an existing project works nicely, no need to manually import modules.\r\n\r\n  [1]: https://i.stack.imgur.com/P41VH.png\r\n  [2]: https://i.stack.imgur.com/eKf02.png\r\n  [3]: https://i.stack.imgur.com/rOUvM.png\r\n  [4]: https://i.stack.imgur.com/W3BBU.png\r\n  [5]: https://i.stack.imgur.com/VQb4u.png\r\n  [6]: https://i.stack.imgur.com/CnahJ.png","title":"ComponentLookupException when importing java project into intellij Idea","body":"<p>I just download a spring boot project from <a href=\"https://start.spring.io/\" rel=\"nofollow noreferrer\">https://start.spring.io/</a> and imported it into intellij idea, then I choose import module selecting the pom.xml file but when I click on Apply I get the error:</p>\n<pre><code>java.lang.RuntimeException: java.lang.RuntimeException: org.codehaus.plexus.component.repository.exception.ComponentLookupException: com.google.inject.ProvisionException: Unable to provision, see the following errors:\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/P41VH.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/P41VH.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/eKf02.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/eKf02.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/rOUvM.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/rOUvM.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/W3BBU.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/W3BBU.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/VQb4u.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/VQb4u.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/CnahJ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/CnahJ.png\" alt=\"enter image description here\" /></a></p>\n<p>Here's the pom.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.7.5&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;org.springframework.amqp.tutorials&lt;/groupId&gt;\n    &lt;artifactId&gt;rabbitmq-amqp-tutorials&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;rabbitmq-amqp-tutorials&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-amqp&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.amqp&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-rabbit-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n\n</code></pre>\n<p><strong>EDIT:SOLUTION</strong></p>\n<p>As pointed out by @Sanura Hettiarachchi there is a bug with the edition of intellij idea I was using, uninstalling and installing the latest version (Intellij Idea 2022.2.3 Community Edition) solved the problem. Now importing an existing project works nicely, no need to manually import modules.</p>\n"},{"tags":["java","hash"],"comments":[{"owner":{"account_id":93689,"reputation":415951,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":0,"creation_date":1667319440,"post_id":74278671,"comment_id":131137494,"body_markdown":"You must rethink your entire approach: Using a random number (seeded or not) will not guarantee different results for every possible input.","body":"You must rethink your entire approach: Using a random number (seeded or not) will not guarantee different results for every possible input."},{"owner":{"account_id":26797184,"reputation":1,"user_id":20389746,"display_name":"Dipak K"},"score":0,"creation_date":1667319616,"post_id":74278671,"comment_id":131137561,"body_markdown":"I thought of one to one mapping between the numbers like change 1 to 4, 2 to 9 etc but that&#39;s something very basic. I am more interested in complex logic ,any thoughts will be highly appreciated","body":"I thought of one to one mapping between the numbers like change 1 to 4, 2 to 9 etc but that&#39;s something very basic. I am more interested in complex logic ,any thoughts will be highly appreciated"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1667320024,"post_id":74278671,"comment_id":131137713,"body_markdown":"Why not transform as per the &#39;Caesar&#39; cipher?","body":"Why not transform as per the &#39;Caesar&#39; cipher?"},{"owner":{"account_id":93689,"reputation":415951,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":0,"creation_date":1667320030,"post_id":74278671,"comment_id":131137717,"body_markdown":"I don&#39;t know what you are hoping to achieve. If it&#39;s a simple form of format preserving &quot;encryption&quot;, which is reversible, you should probably use a table as you suggest, perhaps ROT5 for each digit.","body":"I don&#39;t know what you are hoping to achieve. If it&#39;s a simple form of format preserving &quot;encryption&quot;, which is reversible, you should probably use a table as you suggest, perhaps ROT5 for each digit."}],"owner":{"account_id":26797184,"reputation":1,"user_id":20389746,"display_name":"Dipak K"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1667318837,"creation_date":1667318837,"question_id":74278671,"body_markdown":"Just after small help.\r\n\r\nIf a user input a single digit number, output should be single digit number.\r\nNo two unique ip number should result in same output\r\n\r\nHOwever, for my case ; i am getting same output (9) for two diff ip (4,5) when i tried for single digit number\r\n\r\nAlso, if the code is run multiple times; the output should always be same for same input\r\n\r\n\r\n```\r\npackage Try;\r\n\r\nimport java.util.Collections;\r\nimport java.util.Random;\r\n\r\npublic class Try1 {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\t// TODO Auto-generated method stub\r\n\t\tSystem.out.println(&quot;Output &quot; + transformNum(&quot;5&quot;));\r\n\t\t\r\n\t}\t\t\r\n\t\r\n\tprotected static long setSeed(String ip){\r\n\t\tlong hash=0;\r\n\t\tfor (char c : ip.toCharArray()) {\r\n\t\t\thash=31L*hash+c;\r\n\t\t}\r\n\t\treturn hash;\r\n\t}\r\n\t\r\n\tprotected static int transformNum(String ip) {\r\n\t\tint iplen=ip.length();\r\n\t\tint upperlmt=Integer.valueOf(String.join(&quot;&quot;, Collections.nCopies(iplen,&quot;9&quot;)))+1;\r\n\t\tint lowerlmt=Integer.valueOf(&quot;1&quot; + String.join(&quot;&quot;, Collections.nCopies(iplen-1,&quot;0&quot;)));\r\n\t\tRandom rand=new Random(setSeed(ip));\r\n\t\tint transformop = rand.nextInt(upperlmt - lowerlmt) + lowerlmt;\r\n\t\treturn transformop;\t\t\r\n\t}\r\n\r\n}\r\n```\r\n\r\n\r\n","title":"Java: Transform an input number of n length to diff output number of n length","body":"<p>Just after small help.</p>\n<p>If a user input a single digit number, output should be single digit number.\nNo two unique ip number should result in same output</p>\n<p>HOwever, for my case ; i am getting same output (9) for two diff ip (4,5) when i tried for single digit number</p>\n<p>Also, if the code is run multiple times; the output should always be same for same input</p>\n<pre><code>package Try;\n\nimport java.util.Collections;\nimport java.util.Random;\n\npublic class Try1 {\n\n    public static void main(String[] args) {\n        // TODO Auto-generated method stub\n        System.out.println(&quot;Output &quot; + transformNum(&quot;5&quot;));\n        \n    }       \n    \n    protected static long setSeed(String ip){\n        long hash=0;\n        for (char c : ip.toCharArray()) {\n            hash=31L*hash+c;\n        }\n        return hash;\n    }\n    \n    protected static int transformNum(String ip) {\n        int iplen=ip.length();\n        int upperlmt=Integer.valueOf(String.join(&quot;&quot;, Collections.nCopies(iplen,&quot;9&quot;)))+1;\n        int lowerlmt=Integer.valueOf(&quot;1&quot; + String.join(&quot;&quot;, Collections.nCopies(iplen-1,&quot;0&quot;)));\n        Random rand=new Random(setSeed(ip));\n        int transformop = rand.nextInt(upperlmt - lowerlmt) + lowerlmt;\n        return transformop;     \n    }\n\n}\n</code></pre>\n"},{"tags":["java","loops","for-loop","digits","charat"],"comments":[{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":1,"creation_date":1667314819,"post_id":74277831,"comment_id":131135841,"body_markdown":"Show your attempt with the `for` loop, it would be a reasonable approach for this. However, I don&#39;t quite understand what you&#39;re attempting to do with this data (&quot;a char taking from digit of a number&quot; isn&#39;t very clear).","body":"Show your attempt with the <code>for</code> loop, it would be a reasonable approach for this. However, I don&#39;t quite understand what you&#39;re attempting to do with this data (&quot;a char taking from digit of a number&quot; isn&#39;t very clear)."},{"owner":{"account_id":26795925,"reputation":1,"user_id":20388675,"display_name":"Khadrok"},"score":0,"creation_date":1667318189,"post_id":74277831,"comment_id":131137062,"body_markdown":"My bad , its part of my hw actually.There are some inputs and ı need to write &quot;clean&quot; version that if first digit isnot 0 or 1 , the last digit must be changed.If its 0 ,it will be 1 or if its 1,it will be 0.If first digit is 0 or 1,nothing will be change.For that reasons,i thought , i have to define each digit to char.Actually i did it but its just for the one 2-digit numbers ı need to do for 6 2-digit numbers.Have a look.","body":"My bad , its part of my hw actually.There are some inputs and ı need to write &quot;clean&quot; version that if first digit isnot 0 or 1 , the last digit must be changed.If its 0 ,it will be 1 or if its 1,it will be 0.If first digit is 0 or 1,nothing will be change.For that reasons,i thought , i have to define each digit to char.Actually i did it but its just for the one 2-digit numbers ı need to do for 6 2-digit numbers.Have a look."},{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":0,"creation_date":1667318248,"post_id":74277831,"comment_id":131137078,"body_markdown":"You can simply use `String#charAt` to evalulate those directly, no need for a variable.","body":"You can simply use <code>String#charAt</code> to evalulate those directly, no need for a variable."},{"owner":{"account_id":26795925,"reputation":1,"user_id":20388675,"display_name":"Khadrok"},"score":0,"creation_date":1667318671,"post_id":74277831,"comment_id":131137216,"body_markdown":"What do you think about the code ı wrote ?","body":"What do you think about the code ı wrote ?"}],"answers":[{"tags":[],"owner":{"account_id":465573,"reputation":192703,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1667315303,"creation_date":1667314850,"answer_id":74277874,"question_id":74277831,"body_markdown":"You can&#39;t do this with variables named `a`, `b`, `c`, etc.  You could only do it with an array, where you could index them by number, e.g. `char[] chars`, and use `chars[0]` instead of `a`, `chars[25]` instead of `z`, and so on.\r\n\r\nTo do that, you can just do `char[] chars = num.toCharArray()`, or even skip the array entirely and keep using `charAt`.","title":"How can ı define a char taking from digit of a number in Java?","body":"<p>You can't do this with variables named <code>a</code>, <code>b</code>, <code>c</code>, etc.  You could only do it with an array, where you could index them by number, e.g. <code>char[] chars</code>, and use <code>chars[0]</code> instead of <code>a</code>, <code>chars[25]</code> instead of <code>z</code>, and so on.</p>\n<p>To do that, you can just do <code>char[] chars = num.toCharArray()</code>, or even skip the array entirely and keep using <code>charAt</code>.</p>\n"}],"owner":{"account_id":26795925,"reputation":1,"user_id":20388675,"display_name":"Khadrok"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":63,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1667318552,"creation_date":1667314618,"question_id":74277831,"body_markdown":"```\r\n\r\nScanner s = new Scanner(System.in);\r\n        String num = s.next();\r\n\r\n        char a = num.charAt(0);\r\n        char b = num.charAt(1);\r\n        char c = num.charAt(2);\r\n        char d = num.charAt(3);\r\n```\r\n\r\nFor example , we can do it like this but i will enter long values ​​for input so how can i write it like loop or easier rather than write 20 line as ı wrote ?\r\n\r\nI thought , i can write it using &quot;for&quot; but i couldn&#39;t.I am new to java so if you can solve it using basic methods or codes and explain so , i would  be grateful.\r\n \r\n\r\n    Scanner inp = new Scanner(System.in);\r\n        System.out.println(&quot;Enter the number&quot;);\r\n        String num = inp.next();\r\n\r\n        char a = num.charAt(0);\r\n        char b = num.charAt(1);\r\n        char c = num.charAt(2);\r\n        char d = num.charAt(3);\r\n        char e = num.charAt(4);\r\n        char f = num.charAt(5);\r\n        char g = num.charAt(6);\r\n        char h = num.charAt(7);\r\n\r\n        if (a &lt; &#39;2&#39;) {\r\n            System.out.print(&quot;0&quot; + &quot;&quot; + b + &quot;&quot; + c + &quot;&quot; + d + &quot;&quot; + e + &quot;&quot; + f + &quot;&quot; + g + &quot;&quot; + h);\r\n        } else if (a &gt; &#39;2&#39; &amp; h == &#39;0&#39;) {\r\n            System.out.print(&quot;0&quot; + &quot;&quot; + b + &quot;&quot; + c + &quot;&quot; + d + &quot;&quot; + e + &quot;&quot; + f + &quot;&quot; + g + &quot;&quot; + &quot;1&quot;);\r\n        } else if (a &gt; &#39;2&#39; &amp;&amp; h == &#39;1&#39;) {\r\n            System.out.print(&quot;0&quot; + &quot;&quot; + b + &quot;&quot; + c + &quot;&quot; + d + &quot;&quot; + e + &quot;&quot; + f + &quot;&quot; + g + &quot;&quot; + &quot;0&quot;);\r\n        }\r\n\r\n  \r\n\r\n\r\n As well,Im trying for easier way of that.\r\n\r\nThanks in advance.","title":"How can ı define a char taking from digit of a number in Java?","body":"<pre><code>\nScanner s = new Scanner(System.in);\n        String num = s.next();\n\n        char a = num.charAt(0);\n        char b = num.charAt(1);\n        char c = num.charAt(2);\n        char d = num.charAt(3);\n</code></pre>\n<p>For example , we can do it like this but i will enter long values ​​for input so how can i write it like loop or easier rather than write 20 line as ı wrote ?</p>\n<p>I thought , i can write it using &quot;for&quot; but i couldn't.I am new to java so if you can solve it using basic methods or codes and explain so , i would  be grateful.</p>\n<pre><code>Scanner inp = new Scanner(System.in);\n    System.out.println(&quot;Enter the number&quot;);\n    String num = inp.next();\n\n    char a = num.charAt(0);\n    char b = num.charAt(1);\n    char c = num.charAt(2);\n    char d = num.charAt(3);\n    char e = num.charAt(4);\n    char f = num.charAt(5);\n    char g = num.charAt(6);\n    char h = num.charAt(7);\n\n    if (a &lt; '2') {\n        System.out.print(&quot;0&quot; + &quot;&quot; + b + &quot;&quot; + c + &quot;&quot; + d + &quot;&quot; + e + &quot;&quot; + f + &quot;&quot; + g + &quot;&quot; + h);\n    } else if (a &gt; '2' &amp; h == '0') {\n        System.out.print(&quot;0&quot; + &quot;&quot; + b + &quot;&quot; + c + &quot;&quot; + d + &quot;&quot; + e + &quot;&quot; + f + &quot;&quot; + g + &quot;&quot; + &quot;1&quot;);\n    } else if (a &gt; '2' &amp;&amp; h == '1') {\n        System.out.print(&quot;0&quot; + &quot;&quot; + b + &quot;&quot; + c + &quot;&quot; + d + &quot;&quot; + e + &quot;&quot; + f + &quot;&quot; + g + &quot;&quot; + &quot;0&quot;);\n    }\n</code></pre>\n<p>As well,Im trying for easier way of that.</p>\n<p>Thanks in advance.</p>\n"},{"tags":["java","neo4j"],"answers":[{"comments":[{"owner":{"account_id":3003352,"reputation":245,"user_id":3382017,"accept_rate":45,"display_name":"user3382017"},"score":0,"creation_date":1398542216,"post_id":23286937,"comment_id":35697298,"body_markdown":"this is the only way?","body":"this is the only way?"},{"owner":{"account_id":321836,"reputation":1463,"user_id":640898,"accept_rate":50,"display_name":"RaduK"},"score":0,"creation_date":1398667624,"post_id":23286937,"comment_id":35730982,"body_markdown":"Well, it is sure that you cannot change the ids generated by neo4j; if the id property doesn&#39;t suit your needs (which I don&#39;t know in details), you may find other types of data modeling that should.","body":"Well, it is sure that you cannot change the ids generated by neo4j; if the id property doesn&#39;t suit your needs (which I don&#39;t know in details), you may find other types of data modeling that should."}],"tags":[],"owner":{"account_id":321836,"reputation":1463,"user_id":640898,"accept_rate":50,"display_name":"RaduK"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1398411417,"creation_date":1398411417,"answer_id":23286937,"question_id":23281888,"body_markdown":"The ids are automatically assigned by Neo4j, you cannot change this. Try using a property on the node if this is what you need. \r\n\r\n      newno[i].setProperty(&quot;internal_id&quot;, i);","title":"How to set the node ID other than setProperty() in neo4j?","body":"<p>The ids are automatically assigned by Neo4j, you cannot change this. Try using a property on the node if this is what you need. </p>\n\n<pre><code>  newno[i].setProperty(\"internal_id\", i);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2057129,"reputation":7827,"user_id":1834562,"accept_rate":81,"display_name":"Rash"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1423991817,"creation_date":1423991817,"answer_id":28524651,"question_id":23281888,"body_markdown":"As pointed by @RaduK, neo4j sets the id of the node itself and does not allows the user to override this behaviour. Maybe something that they might do in future. However, if you are considering to use the neo4j generated id in your system, neo4j issued a warning on their page.\r\n\r\n&gt; A node&#39;s id is unique, but note the following: Neo4j reuses its\r\n&gt; internal ids when nodes and relationships are deleted, which means\r\n&gt; it&#39;s bad practice to refer to them this way. Instead, use application\r\n&gt; generated ids.\r\n\r\nSo don&#39;t use the neo4j&#39;s id in your system.\r\n\r\nThat being said, you are mostly concerned about the fact that using property every time will result in delays. With Neo4J 2.x, they give you the option to set an index on your property so that the traversal is fast. Here is how you do that. Inside your code where you have the object of GraphDatabaseService, insert this piece of code:\r\n\r\n    try(Transaction transaction = graphDatabaseService.beginTx())\r\n    \t\t{\r\n    \t\t\tSchema schema = graphDatabaseService.schema();\r\n    \t\t\tschema.indexFor(DynamicLabel.label(&quot;User&quot;)).on(&quot;internal_id&quot;).create();\r\n    \t\t\t\r\n    \t\t\ttransaction.success();\r\n    \t\t}\r\n\r\nThis code will tell neo4j that from now on, you have to make and maintain index on all nodes that are of type &quot;User&quot; on the property &quot;internal_id&quot;.\r\n\r\nMoreover, neo4j has an internal caching system which people usually refer to as warm cache. It means that your query will only take time the first time it runs. From then onwards, if you try the same query repeatedly, the query will be blazing fast.","title":"How to set the node ID other than setProperty() in neo4j?","body":"<p>As pointed by @RaduK, neo4j sets the id of the node itself and does not allows the user to override this behaviour. Maybe something that they might do in future. However, if you are considering to use the neo4j generated id in your system, neo4j issued a warning on their page.</p>\n\n<blockquote>\n  <p>A node's id is unique, but note the following: Neo4j reuses its\n  internal ids when nodes and relationships are deleted, which means\n  it's bad practice to refer to them this way. Instead, use application\n  generated ids.</p>\n</blockquote>\n\n<p>So don't use the neo4j's id in your system.</p>\n\n<p>That being said, you are mostly concerned about the fact that using property every time will result in delays. With Neo4J 2.x, they give you the option to set an index on your property so that the traversal is fast. Here is how you do that. Inside your code where you have the object of GraphDatabaseService, insert this piece of code:</p>\n\n<pre><code>try(Transaction transaction = graphDatabaseService.beginTx())\n        {\n            Schema schema = graphDatabaseService.schema();\n            schema.indexFor(DynamicLabel.label(\"User\")).on(\"internal_id\").create();\n\n            transaction.success();\n        }\n</code></pre>\n\n<p>This code will tell neo4j that from now on, you have to make and maintain index on all nodes that are of type \"User\" on the property \"internal_id\".</p>\n\n<p>Moreover, neo4j has an internal caching system which people usually refer to as warm cache. It means that your query will only take time the first time it runs. From then onwards, if you try the same query repeatedly, the query will be blazing fast.</p>\n"}],"owner":{"account_id":3003352,"reputation":245,"user_id":3382017,"accept_rate":45,"display_name":"user3382017"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6161,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1667318505,"creation_date":1398383613,"question_id":23281888,"body_markdown":"I want to set the node ID like 0,1,2,3,.... instead of `setProperty()`.\r\n\r\n```java\r\nNode[] newno = new Node[265214];\r\nfor (int i = 0; i &lt; newno.length; i++) {\r\n     newno[i] = db.createNode();\r\n     System.out.println(newno[i].getId());\r\n}\r\n```\r\n\r\nIt shows the following big ID number:\r\n\r\n    996660\r\n    996661\r\n    996662\r\n    996663\r\n    996656\r\n    996657\r\n    996658\r\n    996659\r\n    996668\r\n    996669\r\n    996670\r\n\r\nWhile I want to make node for example the ID of `newno[i]` is just `i`. For large data sets, if every cycle calls `getProperty()` it will slow down execution. What is a more efficient method of accomplishing this?","title":"How to set the node ID other than setProperty() in neo4j?","body":"<p>I want to set the node ID like 0,1,2,3,.... instead of <code>setProperty()</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Node[] newno = new Node[265214];\nfor (int i = 0; i &lt; newno.length; i++) {\n     newno[i] = db.createNode();\n     System.out.println(newno[i].getId());\n}\n</code></pre>\n<p>It shows the following big ID number:</p>\n<pre><code>996660\n996661\n996662\n996663\n996656\n996657\n996658\n996659\n996668\n996669\n996670\n</code></pre>\n<p>While I want to make node for example the ID of <code>newno[i]</code> is just <code>i</code>. For large data sets, if every cycle calls <code>getProperty()</code> it will slow down execution. What is a more efficient method of accomplishing this?</p>\n"},{"tags":["java","arrays","multidimensional-array"],"comments":[{"owner":{"account_id":18911549,"reputation":600,"user_id":13797513,"display_name":"chptr-one"},"score":2,"creation_date":1667316784,"post_id":74278235,"comment_id":131136519,"body_markdown":"Hmmm... `grid.length`?","body":"Hmmm... <code>grid.length</code>?"},{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":0,"creation_date":1667316845,"post_id":74278235,"comment_id":131136540,"body_markdown":"`grid.length` as @chptr-one suggested, and you can be extra-safe and iterate the nested arrays to ensure `grid[i].length` matches across the board.","body":"<code>grid.length</code> as @chptr-one suggested, and you can be extra-safe and iterate the nested arrays to ensure <code>grid[i].length</code> matches across the board."},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1667319516,"post_id":74278235,"comment_id":131137521,"body_markdown":"Every question on StackOverflow is expected to demonstrate an effort, it doesn&#39;t matter whether you&#39;re a beginner or experienced developer.  See [How do I ask a good question?](https://stackoverflow.com/help/how-to-ask) and [Why is &quot;Can someone help me?&quot; not an actual question?](https://meta.stackoverflow.com/questions/284236/why-is-can-someone-help-me-not-an-actual-question)","body":"Every question on StackOverflow is expected to demonstrate an effort, it doesn&#39;t matter whether you&#39;re a beginner or experienced developer.  See <a href=\"https://stackoverflow.com/help/how-to-ask\">How do I ask a good question?</a> and <a href=\"https://meta.stackoverflow.com/questions/284236/why-is-can-someone-help-me-not-an-actual-question\">Why is &quot;Can someone help me?&quot; not an actual question?</a>"}],"answers":[{"comments":[{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":2,"creation_date":1667317367,"post_id":74278302,"comment_id":131136734,"body_markdown":"Semantics, but most people would consider `grid[0]` to be the first _row_, particularly given how a 2D array literal would be read.","body":"Semantics, but most people would consider <code>grid[0]</code> to be the first <i>row</i>, particularly given how a 2D array literal would be read."}],"tags":[],"owner":{"account_id":26789465,"reputation":1,"user_id":20383105,"display_name":"Eric Last"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667317055,"creation_date":1667317055,"answer_id":74278302,"question_id":74278235,"body_markdown":"Understand matrices in Java more as an array of arrays. `grid` is an Array and will have a length, `grid.length`. Each entry of the grid is an Array with a length, so `grid[0].length` is the length of the first column. Assuming that every entry is of the same length, your matrix size will be `grid.length` x `grid[0].length`","title":"How to navigate thorugh a matrix without knowing its size","body":"<p>Understand matrices in Java more as an array of arrays. <code>grid</code> is an Array and will have a length, <code>grid.length</code>. Each entry of the grid is an Array with a length, so <code>grid[0].length</code> is the length of the first column. Assuming that every entry is of the same length, your matrix size will be <code>grid.length</code> x <code>grid[0].length</code></p>\n"},{"tags":[],"owner":{"account_id":26796759,"reputation":134,"user_id":20389385,"display_name":"Tarun Kumar Sao"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667317794,"creation_date":1667317238,"answer_id":74278341,"question_id":74278235,"body_markdown":"If you are provided with an array and don&#39;t know its size, then you can also use its length with the Array property which is (&quot;array-Variable&quot;).length and it will give you the length of the array. If you are working with a 2-D array then for the no. of rows you can use (&quot;matrix-Variable&quot;).length and for the number of columns, you have to check the length of each row or 1st row by using (&quot;matrix-Variable&quot;)[i].length where i can be either 0 or any number given the number is in range of the total number of rows.","title":"How to navigate thorugh a matrix without knowing its size","body":"<p>If you are provided with an array and don't know its size, then you can also use its length with the Array property which is (&quot;array-Variable&quot;).length and it will give you the length of the array. If you are working with a 2-D array then for the no. of rows you can use (&quot;matrix-Variable&quot;).length and for the number of columns, you have to check the length of each row or 1st row by using (&quot;matrix-Variable&quot;)[i].length where i can be either 0 or any number given the number is in range of the total number of rows.</p>\n"}],"owner":{"account_id":25589575,"reputation":21,"user_id":19366635,"display_name":"Thay"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":102,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1667317794,"creation_date":1667316687,"question_id":74278235,"body_markdown":"Let&#39;s say I have a main class in java that receives a matrix[][], like: `\r\n```\r\npublic main[] findBall(int[][] grid) {\r\n        \r\n    }\r\n```\r\n`\r\nAnd then the user enters the imput: \r\n```\r\n[[1,1,1,-1,-1],[1,1,1,-1,-1],[-1,-1,-1,1,1],[1,1,1,1,-1],[-1,-1,-1,-1,-1]]\r\n```\r\nI know it&#39;s a 5x5 but only because I saw what the user typed, how do I get the matrix size-&gt;(5x5) or any other size that they may type? or is there another way to navigate through it without knowing the size? \r\n\r\nI tried nothing, I&#39;m a beginner in Java so bear with me. ","title":"How to navigate thorugh a matrix without knowing its size","body":"<p>Let's say I have a main class in java that receives a matrix[][], like: `</p>\n<pre><code>public main[] findBall(int[][] grid) {\n        \n    }\n</code></pre>\n<p>`\nAnd then the user enters the imput:</p>\n<pre><code>[[1,1,1,-1,-1],[1,1,1,-1,-1],[-1,-1,-1,1,1],[1,1,1,1,-1],[-1,-1,-1,-1,-1]]\n</code></pre>\n<p>I know it's a 5x5 but only because I saw what the user typed, how do I get the matrix size-&gt;(5x5) or any other size that they may type? or is there another way to navigate through it without knowing the size?</p>\n<p>I tried nothing, I'm a beginner in Java so bear with me.</p>\n"},{"tags":["java","spring-boot","oop","lombok","spring-mongodb"],"comments":[{"owner":{"account_id":23667337,"reputation":1467,"user_id":17694626,"display_name":"Cheng Thao"},"score":0,"creation_date":1667316857,"post_id":74278220,"comment_id":131136546,"body_markdown":"where will surrogateId come from?","body":"where will surrogateId come from?"},{"owner":{"account_id":785560,"reputation":14879,"user_id":845414,"display_name":"Johannes Kuhn"},"score":0,"creation_date":1667316870,"post_id":74278220,"comment_id":131136552,"body_markdown":"Only provide a constructor that initializes the property.","body":"Only provide a constructor that initializes the property."},{"owner":{"account_id":24354665,"reputation":119,"user_id":18290052,"display_name":"Moussa ELaQ"},"score":0,"creation_date":1667317554,"post_id":74278220,"comment_id":131136805,"body_markdown":"@ChengThao surrogateId comes from a subclass, I want to provide it when I&#39;m creating the subclass or it can be static which means for a specific subclass I know the surrogateID to pass","body":"@ChengThao surrogateId comes from a subclass, I want to provide it when I&#39;m creating the subclass or it can be static which means for a specific subclass I know the surrogateID to pass"},{"owner":{"account_id":23667337,"reputation":1467,"user_id":17694626,"display_name":"Cheng Thao"},"score":0,"creation_date":1667317867,"post_id":74278220,"comment_id":131136924,"body_markdown":"Where does the subclass get surrogateId?  Through it&#39;s constructor?","body":"Where does the subclass get surrogateId?  Through it&#39;s constructor?"},{"owner":{"account_id":24354665,"reputation":119,"user_id":18290052,"display_name":"Moussa ELaQ"},"score":0,"creation_date":1667318021,"post_id":74278220,"comment_id":131136993,"body_markdown":"@ChengThao it&#39;s anothor field in the subclass that I want to make it unique between all subclasses. for example SubClass1 has a property  called installedResourceId that I want to map with the surrogateId , SubClass2 has property called installedOfferId that I want to map with surrogate in order to unify the name In the super class to perform operation on the surrogateId whatever the subclass id is","body":"@ChengThao it&#39;s anothor field in the subclass that I want to make it unique between all subclasses. for example SubClass1 has a property  called installedResourceId that I want to map with the surrogateId , SubClass2 has property called installedOfferId that I want to map with surrogate in order to unify the name In the super class to perform operation on the surrogateId whatever the subclass id is"},{"owner":{"account_id":23667337,"reputation":1467,"user_id":17694626,"display_name":"Cheng Thao"},"score":0,"creation_date":1667323291,"post_id":74278220,"comment_id":131138862,"body_markdown":"Where do SubClass1 and SubClass2 their their IDs?  Are they auto generated within the subclasses?","body":"Where do SubClass1 and SubClass2 their their IDs?  Are they auto generated within the subclasses?"}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89873,"user_id":768644,"display_name":"rzwitserloot"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1667317756,"creation_date":1667317756,"answer_id":74278455,"question_id":74278220,"body_markdown":"Lombok does not support generation of code that takes into account properties of the supertype. That&#39;s because doing that is way more complicated than it might sound, see [this wiki post on the lombok site](https://github.com/projectlombok/lombok/wiki/LOMBOK-CONCEPT:-Resolution) for details on why.\r\n\r\nHence, what you want (I want subclasses to set this property but also maximum boilerplate busting) is not currently possible and is unlikely to be possible in the near future.\r\n\r\nBest you can do is make the field final, use `@RequiredArgsConstructor` on the superclass, and handwrite your subclass&#39;s constructors.\r\n","title":"force sub classes to initialize a property of the super class","body":"<p>Lombok does not support generation of code that takes into account properties of the supertype. That's because doing that is way more complicated than it might sound, see <a href=\"https://github.com/projectlombok/lombok/wiki/LOMBOK-CONCEPT:-Resolution\" rel=\"nofollow noreferrer\">this wiki post on the lombok site</a> for details on why.</p>\n<p>Hence, what you want (I want subclasses to set this property but also maximum boilerplate busting) is not currently possible and is unlikely to be possible in the near future.</p>\n<p>Best you can do is make the field final, use <code>@RequiredArgsConstructor</code> on the superclass, and handwrite your subclass's constructors.</p>\n"}],"owner":{"account_id":24354665,"reputation":119,"user_id":18290052,"display_name":"Moussa ELaQ"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":61,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1667317756,"creation_date":1667316637,"question_id":74278220,"body_markdown":"I have an abstract calss Report : \r\n```java\r\n@NoArgsConstructor\r\n@Data\r\npublic abstract class Report {\r\n    private String surrogateId;\r\n.\r\n.\r\n.\r\n```\r\nand I need to force all subclasses to fill this surrogateId property. (to have a compilation error if the subclass doesn&#39;t fill the property)\r\n\r\n```java\r\n@Data\r\n@Document(collection = &quot;active_report&quot;)\r\n@NoArgsConstructor\r\npublic class ReportActiveDevicesNotLinkedWithIO extends Report {\r\n    private String active;\r\n.\r\n.\r\n.\r\n}\r\n\r\n```\r\n\r\n\r\n\r\nI&#39;ve tried to use final keyword that enforce me to introduce the value of this property in the constructor, \r\n**but** i&#39;ve to generate the constructor manually instead of using Lombok, so many boilerplate code.\r\nis there a way to acheive the same expectation without generating the construcor manually.","title":"force sub classes to initialize a property of the super class","body":"<p>I have an abstract calss Report :</p>\n<pre class=\"lang-java prettyprint-override\"><code>@NoArgsConstructor\n@Data\npublic abstract class Report {\n    private String surrogateId;\n.\n.\n.\n</code></pre>\n<p>and I need to force all subclasses to fill this surrogateId property. (to have a compilation error if the subclass doesn't fill the property)</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Data\n@Document(collection = &quot;active_report&quot;)\n@NoArgsConstructor\npublic class ReportActiveDevicesNotLinkedWithIO extends Report {\n    private String active;\n.\n.\n.\n}\n\n</code></pre>\n<p>I've tried to use final keyword that enforce me to introduce the value of this property in the constructor,\n<strong>but</strong> i've to generate the constructor manually instead of using Lombok, so many boilerplate code.\nis there a way to acheive the same expectation without generating the construcor manually.</p>\n"},{"tags":["java","string","performance","char","iteration"],"comments":[{"owner":{"account_id":134022,"reputation":717193,"user_id":335858,"accept_rate":81,"display_name":"Sergey Kalinichenko"},"score":24,"creation_date":1326801916,"post_id":8894258,"comment_id":11121371,"body_markdown":"What happened to `for (char c : chars)`?","body":"What happened to <code>for (char c : chars)</code>?"},{"owner":{"account_id":442960,"reputation":458,"user_id":833898,"accept_rate":100,"display_name":"Keagan Ladds"},"score":0,"creation_date":1326801963,"post_id":8894258,"comment_id":11121389,"body_markdown":"The first one should be faster, and anyway a string a char array, theoretically.","body":"The first one should be faster, and anyway a string a char array, theoretically."},{"owner":{"account_id":69149,"reputation":233552,"user_id":201359,"accept_rate":100,"display_name":"&#211;scar L&#243;pez"},"score":2,"creation_date":1326808417,"post_id":8894258,"comment_id":11123683,"body_markdown":"The question doesn&#39;t ask for the performance of using iterators, foreach. What I&#39;d like to know is if the cost of repeatedly calling `charAt` ends up being either less than or greater than the cost of performing a single call to `toCharArray`","body":"The question doesn&#39;t ask for the performance of using iterators, foreach. What I&#39;d like to know is if the cost of repeatedly calling <code>charAt</code> ends up being either less than or greater than the cost of performing a single call to <code>toCharArray</code>"},{"owner":{"account_id":69149,"reputation":233552,"user_id":201359,"accept_rate":100,"display_name":"&#211;scar L&#243;pez"},"score":0,"creation_date":1326808547,"post_id":8894258,"comment_id":11123733,"body_markdown":"@dasblinkenlight the second form in my question is equivalent to `for (char c : chars)`","body":"@dasblinkenlight the second form in my question is equivalent to <code>for (char c : chars)</code>"},{"owner":{"account_id":540681,"reputation":934,"user_id":908961,"accept_rate":75,"display_name":"bdrx"},"score":1,"creation_date":1410493756,"post_id":8894258,"comment_id":40356298,"body_markdown":"Has anyone done analysis with [StringCharacterIterator](http://docs.oracle.com/javase/7/docs/api/java/text/StringCharacterIterator.html)?","body":"Has anyone done analysis with <a href=\"http://docs.oracle.com/javase/7/docs/api/java/text/StringCharacterIterator.html\" rel=\"nofollow noreferrer\">StringCharacterIterator</a>?"}],"answers":[{"comments":[{"owner":{"account_id":31518,"reputation":36053,"user_id":86604,"accept_rate":80,"display_name":"Ingo"},"score":2,"creation_date":1326885386,"post_id":8894348,"comment_id":11143358,"body_markdown":"It&#39;s silly that the String#charAt should do an extra index check, when the index is checked anyway on array access.","body":"It&#39;s silly that the String#charAt should do an extra index check, when the index is checked anyway on array access."},{"owner":{"account_id":149087,"reputation":18896,"user_id":361319,"accept_rate":62,"display_name":"dty"},"score":2,"creation_date":1590051894,"post_id":8894348,"comment_id":109535850,"body_markdown":"At the risk of reviving an 8 year old thread... The char array behind a string might be bigger than the string itself. That is, if you had a string &quot;abcde&quot; and then you used substring to extract &quot;bcd&quot; into a new string, the new string will be backed by the exact same char array as the first string. That&#39;s why the string class maintains an offset and a count - so it knows which chars in the array are the ones that represent this string. So the range check is important otherwise it would be possible to access characters beyond the ends of this string.","body":"At the risk of reviving an 8 year old thread... The char array behind a string might be bigger than the string itself. That is, if you had a string &quot;abcde&quot; and then you used substring to extract &quot;bcd&quot; into a new string, the new string will be backed by the exact same char array as the first string. That&#39;s why the string class maintains an offset and a count - so it knows which chars in the array are the ones that represent this string. So the range check is important otherwise it would be possible to access characters beyond the ends of this string."}],"tags":[],"owner":{"account_id":138790,"reputation":61721,"user_id":343955,"accept_rate":85,"display_name":"adarshr"},"comment_count":2,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1326802655,"creation_date":1326802162,"answer_id":8894348,"question_id":8894258,"body_markdown":"The first one using `str.charAt` should be faster.\r\n\r\nIf you dig inside the source code of `String` class, we can see that `charAt` is implemented as follows:\r\n\r\n    public char charAt(int index) {\r\n        if ((index &lt; 0) || (index &gt;= count)) {\r\n            throw new StringIndexOutOfBoundsException(index);\r\n        }\r\n        return value[index + offset];\r\n    }\r\n\r\nHere, all it does is index an array and return the value.\r\n\r\nNow, if we see the implementation of `toCharArray`, we will find the below:\r\n\r\n    public char[] toCharArray() {\r\n        char result[] = new char[count];\r\n        getChars(0, count, result, 0);\r\n        return result;\r\n    }\r\n\r\n    public void getChars(int srcBegin, int srcEnd, char dst[], int dstBegin) {\r\n        if (srcBegin &lt; 0) {\r\n            throw new StringIndexOutOfBoundsException(srcBegin);\r\n        }\r\n        if (srcEnd &gt; count) {\r\n            throw new StringIndexOutOfBoundsException(srcEnd);\r\n        }\r\n        if (srcBegin &gt; srcEnd) {\r\n            throw new StringIndexOutOfBoundsException(srcEnd - srcBegin);\r\n        }\r\n        System.arraycopy(value, offset + srcBegin, dst, dstBegin,\r\n             srcEnd - srcBegin);\r\n    }\r\n\r\nAs you see, it is doing a `System.arraycopy` which is definitely going to be a tad slower than not doing it.","title":"Fastest way to iterate over all the chars in a String","body":"<p>The first one using <code>str.charAt</code> should be faster.</p>\n\n<p>If you dig inside the source code of <code>String</code> class, we can see that <code>charAt</code> is implemented as follows:</p>\n\n<pre><code>public char charAt(int index) {\n    if ((index &lt; 0) || (index &gt;= count)) {\n        throw new StringIndexOutOfBoundsException(index);\n    }\n    return value[index + offset];\n}\n</code></pre>\n\n<p>Here, all it does is index an array and return the value.</p>\n\n<p>Now, if we see the implementation of <code>toCharArray</code>, we will find the below:</p>\n\n<pre><code>public char[] toCharArray() {\n    char result[] = new char[count];\n    getChars(0, count, result, 0);\n    return result;\n}\n\npublic void getChars(int srcBegin, int srcEnd, char dst[], int dstBegin) {\n    if (srcBegin &lt; 0) {\n        throw new StringIndexOutOfBoundsException(srcBegin);\n    }\n    if (srcEnd &gt; count) {\n        throw new StringIndexOutOfBoundsException(srcEnd);\n    }\n    if (srcBegin &gt; srcEnd) {\n        throw new StringIndexOutOfBoundsException(srcEnd - srcBegin);\n    }\n    System.arraycopy(value, offset + srcBegin, dst, dstBegin,\n         srcEnd - srcBegin);\n}\n</code></pre>\n\n<p>As you see, it is doing a <code>System.arraycopy</code> which is definitely going to be a tad slower than not doing it.</p>\n"},{"tags":[],"owner":{"account_id":277416,"reputation":681888,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1326802178,"creation_date":1326802178,"answer_id":8894354,"question_id":8894258,"body_markdown":"The second one causes a new char array to be created, and all chars from the String to be copied to this new char array, so I would guess that the first one is faster (and less memory-hungry).","title":"Fastest way to iterate over all the chars in a String","body":"<p>The second one causes a new char array to be created, and all chars from the String to be copied to this new char array, so I would guess that the first one is faster (and less memory-hungry).</p>\n"},{"comments":[{"owner":{"account_id":134022,"reputation":717193,"user_id":335858,"accept_rate":81,"display_name":"Sergey Kalinichenko"},"score":0,"creation_date":1326802272,"post_id":8894356,"comment_id":11121480,"body_markdown":"Could you try the `for:in` option, just for the fun of it?","body":"Could you try the <code>for:in</code> option, just for the fun of it?"},{"owner":{"account_id":277416,"reputation":681888,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":2,"creation_date":1326802380,"post_id":8894356,"comment_id":11121504,"body_markdown":"Your benchmark is flawed: it doesn&#39;t let the JIT make its optimizations; the JIT could remove the loops completely, since they don&#39;t do anything.","body":"Your benchmark is flawed: it doesn&#39;t let the JIT make its optimizations; the JIT could remove the loops completely, since they don&#39;t do anything."},{"owner":{"account_id":77857,"reputation":12130,"user_id":221951,"accept_rate":47,"display_name":"Piotr Gwiazda"},"score":0,"creation_date":1326802428,"post_id":8894356,"comment_id":11121516,"body_markdown":"String is not na `Iterable` nor array.","body":"String is not na <code>Iterable</code> nor array."},{"owner":{"account_id":93689,"reputation":415951,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":0,"creation_date":1326802571,"post_id":8894356,"comment_id":11121562,"body_markdown":"Consider using `System.nanoTime()` for more accurate timings","body":"Consider using <code>System.nanoTime()</code> for more accurate timings"},{"owner":{"account_id":347037,"reputation":79658,"user_id":680925,"display_name":"Perception"},"score":2,"creation_date":1326802603,"post_id":8894356,"comment_id":11121571,"body_markdown":"This is not a valid test, you&#39;ve &#39;warmed&#39; up your JVM with Test 1, which can skew the results towards Test 2&#39;s favor. The OP&#39;s whole question smells of micro optimization anyway.","body":"This is not a valid test, you&#39;ve &#39;warmed&#39; up your JVM with Test 1, which can skew the results towards Test 2&#39;s favor. The OP&#39;s whole question smells of micro optimization anyway."},{"owner":{"account_id":77857,"reputation":12130,"user_id":221951,"accept_rate":47,"display_name":"Piotr Gwiazda"},"score":1,"creation_date":1326802919,"post_id":8894356,"comment_id":11121671,"body_markdown":"True. After warming up (see Edit 2) both times are smaller bu still close to each other. In my example second test is a bit faster. But if I make the String longer, the first one is faster. The longer string, the slower second test is, due to char array copy. Just do it the first way.","body":"True. After warming up (see Edit 2) both times are smaller bu still close to each other. In my example second test is a bit faster. But if I make the String longer, the first one is faster. The longer string, the slower second test is, due to char array copy. Just do it the first way."},{"owner":{"account_id":69149,"reputation":233552,"user_id":201359,"accept_rate":100,"display_name":"&#211;scar L&#243;pez"},"score":0,"creation_date":1326816797,"post_id":8894356,"comment_id":11126983,"body_markdown":"@PeterGwiazda please edit your answer and add that last comment as the conclussion, and I&#39;ll accept it as the correct answer","body":"@PeterGwiazda please edit your answer and add that last comment as the conclussion, and I&#39;ll accept it as the correct answer"}],"tags":[],"owner":{"account_id":77857,"reputation":12130,"user_id":221951,"accept_rate":47,"display_name":"Piotr Gwiazda"},"comment_count":7,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1326884840,"creation_date":1326802193,"answer_id":8894356,"question_id":8894258,"body_markdown":"Looks like niether is faster or slower\r\n\r\n\r\n\t\tpublic static void main(String arguments[]) {\r\n\t\t\t\r\n\t\t\t\r\n\t\t\t//Build a long string\r\n\t\t\tStringBuilder sb = new StringBuilder();\r\n\t\t\tfor(int j = 0; j &lt; 10000; j++) {\r\n\t\t\t\tsb.append(&quot;a really, really long string&quot;);\r\n\t\t\t}\r\n\t\t\tString str = sb.toString();\r\n\t\t\tfor (int testscount = 0; testscount &lt; 10; testscount ++) {\r\n\t\t\t\t\r\n\t\t\t\r\n\t\t\t\t//Test 1\r\n\t\t\t\tlong start = System.currentTimeMillis();\r\n\t\t\t\tfor(int c = 0; c &lt; 10000000; c++) {\r\n\t\t\t\t\tfor (int i = 0, n = str.length(); i &lt; n; i++) {\r\n\t\t\t\t\t    char chr = str.charAt(i);\r\n\t\t\t\t\t    doSomethingWithChar(chr);//To trick JIT optimistaion\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tSystem.out.println(&quot;1: &quot; + (System.currentTimeMillis() - start));\r\n\t\t\t\t\r\n\t\t\t\t//Test 2\r\n\t\t\t\tstart = System.currentTimeMillis();\r\n\t\t\t\tchar[] chars = str.toCharArray();\r\n\t\t\t\tfor(int c = 0; c &lt; 10000000; c++) {\r\n\t\t\t\t\tfor (int i = 0, n = chars.length; i &lt; n; i++) {\r\n\t\t\t\t\t    char chr = chars[i];\r\n\t\t\t\t\t    doSomethingWithChar(chr);//To trick JIT optimistaion\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tSystem.out.println(&quot;2: &quot; + (System.currentTimeMillis() - start));\r\n\t\t\t\tSystem.out.println();\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t\r\n\t\t}\r\n\t\r\n\t\t\r\n\t\tpublic static void doSomethingWithChar(char chr) {\r\n\t\t\tint newInt = chr &lt;&lt; 2;\r\n\t\t}\r\n\r\n\r\nFor long strings I&#39;ll chose the first one. Why copy around long strings?\r\nDocumentations says:\r\n&gt; public char[] toCharArray()\r\n&gt; Converts this string to a new character array. \r\n&gt; \r\n&gt; Returns:\r\n&gt; a newly allocated character array whose length is the length of this string and whose contents are initialized to contain the character sequence represented by this string.\r\n\r\n**//Edit 1** \r\n\r\nI&#39;ve changed the test to trick JIT optimisation.\r\n\r\n**//Edit 2**\r\n\r\nRepeat test 10 times to let JVM warm up.\r\n\r\n**//Edit 3**\r\n\r\nConclusions:\r\n\r\nFirst of all `str.toCharArray();` copies entire string in memory. It can be memory consuming for long strings. Method `String.charAt( )` looks up char in char array inside String class checking index before.\r\nIt looks like for short enough Strings first method (i.e. `chatAt` method) is a bit slower due to this index check. But if the String is long enough, copying whole char array gets slower, and the first method is faster. The longer the string is, the slower `toCharArray` performs. Try to change limit in `for(int j = 0; j &lt; 10000; j++)` loop to see it.\r\nIf we let JVM warm up code runs faster, but proportions are the same.\r\n\r\nAfter all it&#39;s just micro-optimisation.","title":"Fastest way to iterate over all the chars in a String","body":"<p>Looks like niether is faster or slower</p>\n\n<pre><code>    public static void main(String arguments[]) {\n\n\n        //Build a long string\n        StringBuilder sb = new StringBuilder();\n        for(int j = 0; j &lt; 10000; j++) {\n            sb.append(\"a really, really long string\");\n        }\n        String str = sb.toString();\n        for (int testscount = 0; testscount &lt; 10; testscount ++) {\n\n\n            //Test 1\n            long start = System.currentTimeMillis();\n            for(int c = 0; c &lt; 10000000; c++) {\n                for (int i = 0, n = str.length(); i &lt; n; i++) {\n                    char chr = str.charAt(i);\n                    doSomethingWithChar(chr);//To trick JIT optimistaion\n                }\n            }\n\n            System.out.println(\"1: \" + (System.currentTimeMillis() - start));\n\n            //Test 2\n            start = System.currentTimeMillis();\n            char[] chars = str.toCharArray();\n            for(int c = 0; c &lt; 10000000; c++) {\n                for (int i = 0, n = chars.length; i &lt; n; i++) {\n                    char chr = chars[i];\n                    doSomethingWithChar(chr);//To trick JIT optimistaion\n                }\n            }\n            System.out.println(\"2: \" + (System.currentTimeMillis() - start));\n            System.out.println();\n        }\n\n\n    }\n\n\n    public static void doSomethingWithChar(char chr) {\n        int newInt = chr &lt;&lt; 2;\n    }\n</code></pre>\n\n<p>For long strings I'll chose the first one. Why copy around long strings?\nDocumentations says:</p>\n\n<blockquote>\n  <p>public char[] toCharArray()\n  Converts this string to a new character array. </p>\n  \n  <p>Returns:\n  a newly allocated character array whose length is the length of this string and whose contents are initialized to contain the character sequence represented by this string.</p>\n</blockquote>\n\n<p><strong>//Edit 1</strong> </p>\n\n<p>I've changed the test to trick JIT optimisation.</p>\n\n<p><strong>//Edit 2</strong></p>\n\n<p>Repeat test 10 times to let JVM warm up.</p>\n\n<p><strong>//Edit 3</strong></p>\n\n<p>Conclusions:</p>\n\n<p>First of all <code>str.toCharArray();</code> copies entire string in memory. It can be memory consuming for long strings. Method <code>String.charAt( )</code> looks up char in char array inside String class checking index before.\nIt looks like for short enough Strings first method (i.e. <code>chatAt</code> method) is a bit slower due to this index check. But if the String is long enough, copying whole char array gets slower, and the first method is faster. The longer the string is, the slower <code>toCharArray</code> performs. Try to change limit in <code>for(int j = 0; j &lt; 10000; j++)</code> loop to see it.\nIf we let JVM warm up code runs faster, but proportions are the same.</p>\n\n<p>After all it's just micro-optimisation.</p>\n"},{"comments":[{"owner":{"account_id":3466983,"reputation":8589,"user_id":3800782,"accept_rate":77,"display_name":"rghome"},"score":6,"creation_date":1529486826,"post_id":8894384,"comment_id":88886850,"body_markdown":"Does not answer the question. This question is about performance. For all you know, the OP may have discovered that iterating over strings is a major cost in their application.","body":"Does not answer the question. This question is about performance. For all you know, the OP may have discovered that iterating over strings is a major cost in their application."}],"tags":[],"owner":{"account_id":91502,"reputation":88311,"user_id":251173,"accept_rate":86,"display_name":"Buhake Sindi"},"comment_count":1,"down_vote_count":3,"up_vote_count":18,"is_accepted":false,"score":15,"last_activity_date":1326804525,"creation_date":1326802310,"answer_id":8894384,"question_id":8894258,"body_markdown":"This is just micro-optimisation that you shouldn&#39;t worry about.\r\n\r\n    char[] chars = str.toCharArray();\r\n\r\nreturns you a copy of `str` character arrays (in JDK, it returns a copy of characters by calling `System.arrayCopy`).\r\n\r\nOther than that, `str.charAt()` only checks if the index is indeed in bounds and returns a character within the array index.\r\n\r\nThe first one doesn&#39;t create additional memory in JVM.","title":"Fastest way to iterate over all the chars in a String","body":"<p>This is just micro-optimisation that you shouldn't worry about.</p>\n\n<pre><code>char[] chars = str.toCharArray();\n</code></pre>\n\n<p>returns you a copy of <code>str</code> character arrays (in JDK, it returns a copy of characters by calling <code>System.arrayCopy</code>).</p>\n\n<p>Other than that, <code>str.charAt()</code> only checks if the index is indeed in bounds and returns a character within the array index.</p>\n\n<p>The first one doesn't create additional memory in JVM.</p>\n"},{"comments":[{"owner":{"account_id":390844,"reputation":27902,"user_id":751158,"accept_rate":100,"display_name":"ziesemer"},"score":0,"creation_date":1363895828,"post_id":11876086,"comment_id":22046967,"body_markdown":"It is interesting that apparently a &quot;performance expert&quot; @ Sun (2008) disagrees - and stated that `.charAt()` should inline, which apparently isn&#39;t happening:  http://markmail.org/message/uc2c4cs5f4qntzhe","body":"It is interesting that apparently a &quot;performance expert&quot; @ Sun (2008) disagrees - and stated that <code>.charAt()</code> should inline, which apparently isn&#39;t happening:  <a href=\"http://markmail.org/message/uc2c4cs5f4qntzhe\" rel=\"nofollow noreferrer\">markmail.org/message/uc2c4cs5f4qntzhe</a>"},{"owner":{"account_id":1730551,"reputation":13017,"user_id":1584255,"accept_rate":65,"display_name":"The Coordinator"},"score":0,"creation_date":1367612282,"post_id":11876086,"comment_id":23452060,"body_markdown":"Ha ha. A lot of things *should* happen to optimize code at the compiler end. But they often do not happen.  My results still stand!","body":"Ha ha. A lot of things <i>should</i> happen to optimize code at the compiler end. But they often do not happen.  My results still stand!"},{"owner":{"account_id":453089,"reputation":70352,"user_id":849891,"accept_rate":100,"display_name":"Will Ness"},"score":0,"creation_date":1380841144,"post_id":11876086,"comment_id":28360955,"body_markdown":"@SaintHill you can flag your question for moderator attention and ask them nicely to remove the wiki status from your answer, to get all the rep points that you are due here. :)","body":"@SaintHill you can flag your question for moderator attention and ask them nicely to remove the wiki status from your answer, to get all the rep points that you are due here. :)"},{"owner":{"account_id":12111,"reputation":75875,"user_id":23691,"accept_rate":71,"display_name":"krosenvold"},"score":0,"creation_date":1381869336,"post_id":11876086,"comment_id":28739303,"body_markdown":"While detailed, this whole test does not take into account the garbage collection aspect of the algorithms, which /should/ be bumping the result in charAt&#39;s favour compared to the allocating strategies.","body":"While detailed, this whole test does not take into account the garbage collection aspect of the algorithms, which /should/ be bumping the result in charAt&#39;s favour compared to the allocating strategies."},{"owner":{"account_id":1730551,"reputation":13017,"user_id":1584255,"accept_rate":65,"display_name":"The Coordinator"},"score":0,"creation_date":1381901097,"post_id":11876086,"comment_id":28748136,"body_markdown":"@WillNess Thanks for the suggestion. I will do as you say since this is my &#39;one hit wonder&#39; here on this forum :)","body":"@WillNess Thanks for the suggestion. I will do as you say since this is my &#39;one hit wonder&#39; here on this forum :)"},{"owner":{"account_id":1730551,"reputation":13017,"user_id":1584255,"accept_rate":65,"display_name":"The Coordinator"},"score":0,"creation_date":1381903680,"post_id":11876086,"comment_id":28748928,"body_markdown":"@krosenvold First -- CASE 1 (charAt) is already favoured compared to the allocating strategy CASE 3. CASE 2 uses a reusable buffer.","body":"@krosenvold First -- CASE 1 (charAt) is already favoured compared to the allocating strategy CASE 3. CASE 2 uses a reusable buffer."},{"owner":{"account_id":1730551,"reputation":13017,"user_id":1584255,"accept_rate":65,"display_name":"The Coordinator"},"score":0,"creation_date":1381903731,"post_id":11876086,"comment_id":28748940,"body_markdown":"@krosenvold Second -- GC should not factor since -&gt; for the last test (experiment 2), for each string made, the full range of test cases is performed. And it is always performed in a fully random order. As such, the actual times spent garbage collecting are evenly distributed among all the tests and not any one test is subject to the GC fee. Therefor, for each new string, randomly apply test a,b,c,d OR b,d,c,a OR ... Everything is randomized. Also proved, creating new char[] is actually very efficient at the higher iteration counts - in spite of the overhead of creating new objects.","body":"@krosenvold Second -- GC should not factor since -&gt; for the last test (experiment 2), for each string made, the full range of test cases is performed. And it is always performed in a fully random order. As such, the actual times spent garbage collecting are evenly distributed among all the tests and not any one test is subject to the GC fee. Therefor, for each new string, randomly apply test a,b,c,d OR b,d,c,a OR ... Everything is randomized. Also proved, creating new char[] is actually very efficient at the higher iteration counts - in spite of the overhead of creating new objects."},{"owner":{"account_id":1730551,"reputation":13017,"user_id":1584255,"accept_rate":65,"display_name":"The Coordinator"},"score":0,"creation_date":1381903782,"post_id":11876086,"comment_id":28748958,"body_markdown":"@krosenvold Lastly -- You do raise a good point about GC. I did not post the code for experiment #2 and it does not carry out the tests in the same way as experiment #1. Trust me that (1) a test random string is generated (2) the 4 tests are done on the string (3) the 4 tests are done in random order and (4) the time spent is just the time doing the work for each test case. The full code is too bulky to post here. But you get the idea.","body":"@krosenvold Lastly -- You do raise a good point about GC. I did not post the code for experiment #2 and it does not carry out the tests in the same way as experiment #1. Trust me that (1) a test random string is generated (2) the 4 tests are done on the string (3) the 4 tests are done in random order and (4) the time spent is just the time doing the work for each test case. The full code is too bulky to post here. But you get the idea."},{"owner":{"account_id":1448716,"reputation":6182,"user_id":1366353,"accept_rate":81,"display_name":"ceklock"},"score":1,"creation_date":1383502440,"post_id":11876086,"comment_id":29359167,"body_markdown":"Was this test run in server JVM or client JVM? The best optimizations are only done in server JVM. If you ran using the default 32 bit JVM and no arguments, then you ran in client mode.","body":"Was this test run in server JVM or client JVM? The best optimizations are only done in server JVM. If you ran using the default 32 bit JVM and no arguments, then you ran in client mode."},{"owner":{"account_id":1730551,"reputation":13017,"user_id":1584255,"accept_rate":65,"display_name":"The Coordinator"},"score":0,"creation_date":1383524222,"post_id":11876086,"comment_id":29365685,"body_markdown":"@ceklock Honestly, it was a while ago now and I did it on my development machine.","body":"@ceklock Honestly, it was a while ago now and I did it on my development machine."},{"owner":{"account_id":734409,"reputation":7338,"user_id":699559,"accept_rate":61,"display_name":"C graphics"},"score":0,"creation_date":1395881803,"post_id":11876086,"comment_id":34544926,"body_markdown":"Did we consider the fact that char[] chars = str.toCharArray(); itself takes O(n) time?","body":"Did we consider the fact that char[] chars = str.toCharArray(); itself takes O(n) time?"},{"owner":{"account_id":76157,"reputation":1607,"user_id":218226,"accept_rate":62,"display_name":"prewett"},"score":2,"creation_date":1398531296,"post_id":11876086,"comment_id":35693647,"body_markdown":"Getting the backing buffer is problematic in the case of substrings, or strings created using String(char[], int, int), as you get the entire buffer (at least on Android), but your indexing will be zero based.  However, if you know that you don&#39;t have a substring, it will work fine.","body":"Getting the backing buffer is problematic in the case of substrings, or strings created using String(char[], int, int), as you get the entire buffer (at least on Android), but your indexing will be zero based.  However, if you know that you don&#39;t have a substring, it will work fine."},{"owner":{"account_id":1730551,"reputation":13017,"user_id":1584255,"accept_rate":65,"display_name":"The Coordinator"},"score":0,"creation_date":1398904619,"post_id":11876086,"comment_id":35852912,"body_markdown":"@prewett You bring up a valid issue because in a real-life scenario of working with other&#39;s API, there is no guarantee it is not a substring.","body":"@prewett You bring up a valid issue because in a real-life scenario of working with other&#39;s API, there is no guarantee it is not a substring."},{"owner":{"account_id":540681,"reputation":934,"user_id":908961,"accept_rate":75,"display_name":"bdrx"},"score":0,"creation_date":1410493867,"post_id":11876086,"comment_id":40356315,"body_markdown":"What about the performance of [StringCharacterIterator](http://docs.oracle.com/javase/7/docs/api/java/text/StringCharacterIterator.html)?","body":"What about the performance of <a href=\"http://docs.oracle.com/javase/7/docs/api/java/text/StringCharacterIterator.html\" rel=\"nofollow noreferrer\">StringCharacterIterator</a>?"},{"owner":{"account_id":532951,"reputation":558,"user_id":903665,"accept_rate":75,"display_name":"skyin"},"score":7,"creation_date":1415031319,"post_id":11876086,"comment_id":42026609,"body_markdown":"Any idea why &quot;for (int i = 0; i &lt; data.length(); i++)&quot; is faster than defining data.length() as a final local variable?","body":"Any idea why &quot;for (int i = 0; i &lt; data.length(); i++)&quot; is faster than defining data.length() as a final local variable?"},{"owner":{"account_id":1730551,"reputation":13017,"user_id":1584255,"accept_rate":65,"display_name":"The Coordinator"},"score":2,"creation_date":1415037583,"post_id":11876086,"comment_id":42030182,"body_markdown":"Defining a variable, at all, requires a stack operation in the method byte code. But the optimizations, from recognizing your algorithm, could fast track that repeat operation in the actual machine code, without the overhead of  variable alocation.   Such optimizations sometimes exist in the bytecode compilers, sometimes not. It all depends on whether the jvm is smart enough :-)","body":"Defining a variable, at all, requires a stack operation in the method byte code. But the optimizations, from recognizing your algorithm, could fast track that repeat operation in the actual machine code, without the overhead of  variable alocation.   Such optimizations sometimes exist in the bytecode compilers, sometimes not. It all depends on whether the jvm is smart enough :-)"},{"owner":{"account_id":18687,"reputation":1624,"user_id":43046,"accept_rate":65,"display_name":"andresp"},"score":1,"creation_date":1418388989,"post_id":11876086,"comment_id":43327250,"body_markdown":"The server compiler takes longer to start optimizing the code (e.g. CompileThreshold 10000 instead of 1500 on the client compiler), so if you are running this without an appropriate warm up period it won&#39;t be able to perform the optimizations. In order to make sure you are actually testing the iterations, you have to use the values, otherwise a smart and aggressive compiler may just completely ignore that code. Also don&#39;t use Random on micro benchmarks.","body":"The server compiler takes longer to start optimizing the code (e.g. CompileThreshold 10000 instead of 1500 on the client compiler), so if you are running this without an appropriate warm up period it won&#39;t be able to perform the optimizations. In order to make sure you are actually testing the iterations, you have to use the values, otherwise a smart and aggressive compiler may just completely ignore that code. Also don&#39;t use Random on micro benchmarks."},{"owner":{"account_id":69386,"reputation":5102,"user_id":201891,"accept_rate":85,"display_name":"DavidS"},"score":0,"creation_date":1450467702,"post_id":11876086,"comment_id":56467834,"body_markdown":"Forgive my slowness, but what do the numbers in your results actually represent? Size I see is array size, you documented that, but what are the numbers in the table? Why are the numbers higher for short array sizes? I would have guessed this meant the long arrays were being processed faster than short ones, but of course that doesn&#39;t make any sense.","body":"Forgive my slowness, but what do the numbers in your results actually represent? Size I see is array size, you documented that, but what are the numbers in the table? Why are the numbers higher for short array sizes? I would have guessed this meant the long arrays were being processed faster than short ones, but of course that doesn&#39;t make any sense."},{"owner":{"account_id":69386,"reputation":5102,"user_id":201891,"accept_rate":85,"display_name":"DavidS"},"score":0,"creation_date":1450467949,"post_id":11876086,"comment_id":56467953,"body_markdown":"Also, I&#39;m disappointed that Stream and the parallel version are a bust. Can we still take advantage of &quot;conventional&quot;, old-school Java concurrency to improve speed? We must, right? but my expectations are often defied.","body":"Also, I&#39;m disappointed that Stream and the parallel version are a bust. Can we still take advantage of &quot;conventional&quot;, old-school Java concurrency to improve speed? We must, right? but my expectations are often defied."},{"owner":{"account_id":1730551,"reputation":13017,"user_id":1584255,"accept_rate":65,"display_name":"The Coordinator"},"score":2,"creation_date":1450938113,"post_id":11876086,"comment_id":56638317,"body_markdown":"@DavidS the numbers are the rate (in nanoseconds) per character inspected. Smaller is better.","body":"@DavidS the numbers are the rate (in nanoseconds) per character inspected. Smaller is better."},{"owner":{"account_id":69149,"reputation":233552,"user_id":201359,"accept_rate":100,"display_name":"&#211;scar L&#243;pez"},"score":0,"creation_date":1461715383,"post_id":11876086,"comment_id":61322133,"body_markdown":"@SaintHill be warned that starting from Java 9, the solution as described won&#39;t work anymore, because now Java will store strings as `byte[]` by default; check this [article](http://www.javaspecialists.eu/archive/Issue237.html).","body":"@SaintHill be warned that starting from Java 9, the solution as described won&#39;t work anymore, because now Java will store strings as <code>byte[]</code> by default; check this <a href=\"http://www.javaspecialists.eu/archive/Issue237.html\" rel=\"nofollow noreferrer\">article</a>."},{"owner":{"account_id":1730551,"reputation":13017,"user_id":1584255,"accept_rate":65,"display_name":"The Coordinator"},"score":0,"creation_date":1461745932,"post_id":11876086,"comment_id":61333691,"body_markdown":"Thanks. That&#39;s why I added the update at the top on the answer.","body":"Thanks. That&#39;s why I added the update at the top on the answer."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1479475800,"post_id":11876086,"comment_id":68586388,"body_markdown":"@DavidS: the implementation of `String.char()` is indeed poor, especially the parallel performance. This has been [recognized and fixed in Java&#160;9](https://bugs.openjdk.java.net/browse/JDK-8071477). In Java&#160;8, you might notice `CharBuffer.wrap(string).chars()` performing better than `string.chars()`, especially with parallel processing.","body":"@DavidS: the implementation of <code>String.char()</code> is indeed poor, especially the parallel performance. This has been <a href=\"https://bugs.openjdk.java.net/browse/JDK-8071477\" rel=\"nofollow noreferrer\">recognized and fixed in Java 9</a>. In Java 8, you might notice <code>CharBuffer.wrap(string).chars()</code> performing better than <code>string.chars()</code>, especially with parallel processing."},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1522420297,"post_id":11876086,"comment_id":86159918,"body_markdown":"@SaintHill Defining a variable requires *what* stack operation in the method bytecode? What is the bytecode instruction? This is all BS. The stack frame is allocated on method entry, and whether it is one slot or a hundred the cost is the same. This is all BS.","body":"@SaintHill Defining a variable requires <i>what</i> stack operation in the method bytecode? What is the bytecode instruction? This is all BS. The stack frame is allocated on method entry, and whether it is one slot or a hundred the cost is the same. This is all BS."},{"owner":{"account_id":1730551,"reputation":13017,"user_id":1584255,"accept_rate":65,"display_name":"The Coordinator"},"score":0,"creation_date":1522516408,"post_id":11876086,"comment_id":86188475,"body_markdown":"@EJP I posted this in 2012, using the current Java version at the time, and tested on an 8 core AMD PC. The code is all above along with real results - don&#39;t let the door hit you on the way out ;-)","body":"@EJP I posted this in 2012, using the current Java version at the time, and tested on an 8 core AMD PC. The code is all above along with real results - don&#39;t let the door hit you on the way out ;-)"}],"tags":[],"owner":{"account_id":1730551,"reputation":13017,"user_id":1584255,"accept_rate":65,"display_name":"The Coordinator"},"comment_count":25,"down_vote_count":0,"up_vote_count":387,"is_accepted":true,"score":387,"last_activity_date":1599480685,"creation_date":1344480430,"answer_id":11876086,"question_id":8894258,"body_markdown":"FIRST UPDATE: Before you try this ever in a production environment (not advised), read this first: http://www.javaspecialists.eu/archive/Issue237.html\r\nStarting from Java 9, the solution as described won&#39;t work anymore, because now Java will store strings as byte[] by default.\r\n\r\nSECOND UPDATE: As of 2016-10-25, on my AMDx64 8core and source 1.8, there is no difference between using &#39;charAt&#39; and field access. It appears that the jvm is sufficiently optimized to inline and streamline any &#39;string.charAt(n)&#39; calls.\r\n\r\nTHIRD UPDATE: As of 2020-09-07, on my Ryzen 1950-X 16 core and source 1.14, &#39;charAt1&#39; is 9 times slower than field access and &#39;charAt2&#39; is 4 times slower than field access. Field access is back as the clear winner. Note than the program will need to use byte[] access for Java 9+ version jvms.\r\n\r\nIt all depends on the length of the `String` being inspected. If, as the question says, it is for **long** strings, the fastest way to inspect the string is to use reflection to access the backing `char[]` of the string.\r\n\r\nA fully randomized benchmark with JDK 8 (win32 and win64) on an 64 AMD Phenom II 4 core 955 @ 3.2 GHZ (in both client mode and server mode) with 9 different techniques (see below!) shows that using `String.charAt(n)` is the fastest for small strings and that using `reflection` to access the String backing array is almost twice as fast for large strings.\r\n\r\nTHE EXPERIMENT\r\n==============\r\n\r\n - 9 different optimization techniques are tried.\r\n\r\n - All string contents are randomized\r\n\r\n - The test are done for string sizes in multiples of two starting with 0,1,2,4,8,16 etc.\r\n\r\n - The tests are done 1,000 times per string size\r\n\r\n - The tests are shuffled into random order each time. In other words, the tests are done in random order every time they are done, over 1000 times over.\r\n\r\n - The entire test suite is done forwards, and backwards, to show the effect of JVM warmup on optimization and times.\r\n\r\n - The entire suite is done twice, once in `-client` mode and the other in `-server` mode.\r\n\r\nCONCLUSIONS\r\n===========\r\n\r\n-client mode (32 bit)\r\n---------------------\r\n\r\nFor strings **1 to 256 characters in length**, calling `string.charAt(i)` wins with an average processing of 13.4 million to 588 million characters per second.\r\n\r\nAlso, it is overall 5.5% faster (client) and 13.9% (server) like this:\r\n\r\n        for (int i = 0; i &lt; data.length(); i++) {\r\n            if (data.charAt(i) &lt;= &#39; &#39;) {\r\n                doThrow();\r\n            }\r\n        }\r\n\r\n\r\nthan like this with a local final length variable:\r\n\r\n        final int len = data.length();\r\n        for (int i = 0; i &lt; len; i++) {\r\n            if (data.charAt(i) &lt;= &#39; &#39;) {\r\n                doThrow();\r\n            }\r\n        }\r\n\r\n\r\nFor long strings, **512 to 256K characters length**, using reflection to access the String&#39;s backing array is fastest. **This technique is almost twice as fast** as String.charAt(i) (178% faster). The average speed over this range was 1.111 billion characters per second.\r\n\r\nThe Field must be obtained ahead of time and then it can be re-used in the library on different strings. Interestingly, unlike the code above, with Field access, it is 9% faster to have a local final length variable than to use &#39;chars.length&#39; in the loop check. Here is how Field access can be setup as fastest:\r\n\r\n       final Field field = String.class.getDeclaredField(&quot;value&quot;);\r\n       field.setAccessible(true);\r\n    \r\n       try {\r\n           final char[] chars = (char[]) field.get(data);\r\n           final int len = chars.length;\r\n           for (int i = 0; i &lt; len; i++) {\r\n               if (chars[i] &lt;= &#39; &#39;) {\r\n                   doThrow();\r\n               }\r\n           }\r\n           return len;\r\n       } catch (Exception ex) {\r\n           throw new RuntimeException(ex);\r\n       }\r\n\r\n\r\n\r\nSpecial comments on -server mode\r\n--------------------------------\r\n\r\nField access starting winning after 32 character length strings in server mode on a 64 bit Java machine on my AMD 64 machine. That was not seen until 512 characters length in client mode.\r\n\r\nAlso worth noting I think, when I was running JDK 8 (32 bit build) in server mode, the overall performance was 7% slower for both large and small strings. This was with build 121 Dec 2013 of JDK 8 early release. So, for now, it seems that 32 bit server mode is slower than 32 bit client mode.\r\n\r\nThat being said ... it seems the only server mode that is worth invoking is on a 64 bit machine. Otherwise it actually hampers performance.\r\n\r\nFor 32 bit build running in `-server mode` on an AMD64, I can say this:\r\n\r\n 1. String.charAt(i) is the clear winner overall. Although between sizes 8 to 512 characters there were winners among &#39;new&#39; &#39;reuse&#39; and &#39;field&#39;.\r\n 2. String.charAt(i) is 45% faster in client mode\r\n 3. Field access is twice as fast for large Strings in client mode.\r\n \r\nAlso worth saying, String.chars() (Stream and the parallel version) are a bust. Way slower than any other way. The `Streams` API is a rather slow way to perform general string operations. \r\n\r\nWish List\r\n---------\r\n\r\nJava String could have predicate accepting optimized methods such as contains(predicate), forEach(consumer), forEachWithIndex(consumer). Thus, without the need for the user to know the length or repeat calls to String methods, these could help parsing libraries `beep-beep beep` speedup.\r\n\r\nKeep dreaming :)\r\n\r\nHappy Strings!\r\n\r\n~SH\r\n\r\n\r\nThe test used the following 9 methods of testing the string for the presence of whitespace:\r\n------------------------------------------------------------------------\r\n\r\n&quot;charAt1&quot; -- CHECK THE STRING CONTENTS THE USUAL WAY:\r\n\r\n    int charAtMethod1(final String data) {\r\n        final int len = data.length();\r\n        for (int i = 0; i &lt; len; i++) {\r\n            if (data.charAt(i) &lt;= &#39; &#39;) {\r\n                doThrow();\r\n            }\r\n        }\r\n        return len;\r\n    }\r\n\r\n&quot;charAt2&quot; -- SAME AS ABOVE BUT USE String.length() INSTEAD OF MAKING A FINAL LOCAL int FOR THE LENGTh\r\n \r\n    int charAtMethod2(final String data) {\r\n        for (int i = 0; i &lt; data.length(); i++) {\r\n            if (data.charAt(i) &lt;= &#39; &#39;) {\r\n                doThrow();\r\n            }\r\n        }\r\n        return data.length();\r\n    }\r\n\r\n\r\n&quot;stream&quot; -- USE THE NEW JAVA-8 String&#39;s IntStream AND PASS IT A PREDICATE TO DO THE CHECKING\r\n\r\n    int streamMethod(final String data, final IntPredicate predicate) {\r\n        if (data.chars().anyMatch(predicate)) {\r\n            doThrow();\r\n        }\r\n        return data.length();\r\n    }\r\n\r\n\r\n&quot;streamPara&quot; -- SAME AS ABOVE, BUT OH-LA-LA - GO PARALLEL!!!\r\n\r\n    // avoid this at all costs\r\n    int streamParallelMethod(final String data, IntPredicate predicate) {\r\n        if (data.chars().parallel().anyMatch(predicate)) {\r\n            doThrow();\r\n        }\r\n        return data.length();\r\n    }\r\n\r\n&quot;reuse&quot; -- REFILL A REUSABLE char[] WITH THE STRINGS CONTENTS\r\n\r\n    int reuseBuffMethod(final char[] reusable, final String data) {\r\n        final int len = data.length();\r\n        data.getChars(0, len, reusable, 0);\r\n        for (int i = 0; i &lt; len; i++) {\r\n            if (reusable[i] &lt;= &#39; &#39;) {\r\n                doThrow();\r\n            }\r\n        }\r\n        return len;\r\n    }\r\n\r\n&quot;new1&quot; -- OBTAIN A NEW COPY OF THE char[] FROM THE STRING\r\n\r\n    int newMethod1(final String data) {\r\n        final int len = data.length();\r\n        final char[] copy = data.toCharArray();\r\n        for (int i = 0; i &lt; len; i++) {\r\n            if (copy[i] &lt;= &#39; &#39;) {\r\n                doThrow();\r\n            }\r\n        }\r\n        return len;\r\n    }\r\n\r\n\r\n&quot;new2&quot; -- SAME AS ABOVE, BUT USE &quot;FOR-EACH&quot;\r\n\r\n    int newMethod2(final String data) {\r\n        for (final char c : data.toCharArray()) {\r\n            if (c &lt;= &#39; &#39;) {\r\n                doThrow();\r\n            }\r\n        }\r\n        return data.length();\r\n    }\r\n\r\n&quot;field1&quot; -- FANCY!! OBTAIN FIELD FOR ACCESS TO THE STRING&#39;S INTERNAL char[]\r\n\r\n    int fieldMethod1(final Field field, final String data) {\r\n        try {\r\n            final char[] chars = (char[]) field.get(data);\r\n            final int len = chars.length;\r\n            for (int i = 0; i &lt; len; i++) {\r\n                if (chars[i] &lt;= &#39; &#39;) {\r\n                    doThrow();\r\n                }\r\n            }\r\n            return len;\r\n        } catch (Exception ex) {\r\n            throw new RuntimeException(ex);\r\n        }\r\n    }\r\n\r\n&quot;field2&quot; -- SAME AS ABOVE, BUT USE &quot;FOR-EACH&quot;\r\n\r\n    int fieldMethod2(final Field field, final String data) {\r\n        final char[] chars;\r\n        try {\r\n            chars = (char[]) field.get(data);\r\n        } catch (Exception ex) {\r\n            throw new RuntimeException(ex);\r\n        }\r\n        for (final char c : chars) {\r\n            if (c &lt;= &#39; &#39;) {\r\n                doThrow();\r\n            }\r\n        }\r\n        return chars.length;\r\n    }\r\n\r\n\r\nCOMPOSITE RESULTS FOR CLIENT `-client` MODE (forwards and backwards tests combined)\r\n===================================================================================\r\n\r\nNote: that the -client mode with Java 32 bit and -server mode with Java 64 bit are the same as below on my AMD64 machine.\r\n\r\n    Size     WINNER  charAt1 charAt2  stream streamPar   reuse    new1    new2  field1  field2\r\n    1        charAt    77.0     72.0   462.0     584.0   127.5    89.5    86.0   159.5   165.0\r\n    2        charAt    38.0     36.5   284.0   32712.5    57.5    48.3    50.3    89.0    91.5\r\n    4        charAt    19.5     18.5   458.6    3169.0    33.0    26.8    27.5    54.1    52.6\r\n    8        charAt     9.8      9.9   100.5    1370.9    17.3    14.4    15.0    26.9    26.4\r\n    16       charAt     6.1      6.5    73.4     857.0     8.4     8.2     8.3    13.6    13.5\r\n    32       charAt     3.9      3.7    54.8     428.9     5.0     4.9     4.7     7.0     7.2\r\n    64       charAt     2.7      2.6    48.2     232.9     3.0     3.2     3.3     3.9     4.0\r\n    128      charAt     2.1      1.9    43.7     138.8     2.1     2.6     2.6     2.4     2.6\r\n    256      charAt     1.9      1.6    42.4      90.6     1.7     2.1     2.1     1.7     1.8\r\n    512      field1     1.7      1.4    40.6      60.5     1.4     1.9     1.9     1.3     1.4\r\n    1,024    field1     1.6      1.4    40.0      45.6     1.2     1.9     2.1     1.0     1.2\r\n    2,048    field1     1.6      1.3    40.0      36.2     1.2     1.8     1.7     0.9     1.1\r\n    4,096    field1     1.6      1.3    39.7      32.6     1.2     1.8     1.7     0.9     1.0\r\n    8,192    field1     1.6      1.3    39.6      30.5     1.2     1.8     1.7     0.9     1.0\r\n    16,384   field1     1.6      1.3    39.8      28.4     1.2     1.8     1.7     0.8     1.0\r\n    32,768   field1     1.6      1.3    40.0      26.7     1.3     1.8     1.7     0.8     1.0\r\n    65,536   field1     1.6      1.3    39.8      26.3     1.3     1.8     1.7     0.8     1.0\r\n    131,072  field1     1.6      1.3    40.1      25.4     1.4     1.9     1.8     0.8     1.0\r\n    262,144  field1     1.6      1.3    39.6      25.2     1.5     1.9     1.9     0.8     1.0\r\n\r\n\r\nCOMPOSITE RESULTS FOR SERVER `-server` MODE (forwards and backwards tests combined)\r\n===================================================================================\r\n\r\nNote: this is the test for Java 32 bit running in server mode on an AMD64. The server mode for Java 64 bit was the same as Java 32 bit in client mode except that Field access starting winning after 32 characters size.\r\n\r\n    Size     WINNER  charAt1 charAt2  stream streamPar   reuse    new1    new2  field1  field2\r\n    1        charAt     74.5    95.5   524.5     783.0    90.5   102.5    90.5   135.0   151.5\r\n    2        charAt     48.5    53.0   305.0   30851.3    59.3    57.5    52.0    88.5    91.8\r\n    4        charAt     28.8    32.1   132.8    2465.1    37.6    33.9    32.3    49.0    47.0\r\n    8          new2     18.0    18.6    63.4    1541.3    18.5    17.9    17.6    25.4    25.8\r\n    16         new2     14.0    14.7   129.4    1034.7    12.5    16.2    12.0    16.0    16.6\r\n    32         new2      7.8     9.1    19.3     431.5     8.1     7.0     6.7     7.9     8.7\r\n    64        reuse      6.1     7.5    11.7     204.7     3.5     3.9     4.3     4.2     4.1\r\n    128       reuse      6.8     6.8     9.0     101.0     2.6     3.0     3.0     2.6     2.7\r\n    256      field2      6.2     6.5     6.9      57.2     2.4     2.7     2.9     2.3     2.3\r\n    512       reuse      4.3     4.9     5.8      28.2     2.0     2.6     2.6     2.1     2.1\r\n    1,024    charAt      2.0     1.8     5.3      17.6     2.1     2.5     3.5     2.0     2.0\r\n    2,048    charAt      1.9     1.7     5.2      11.9     2.2     3.0     2.6     2.0     2.0\r\n    4,096    charAt      1.9     1.7     5.1       8.7     2.1     2.6     2.6     1.9     1.9\r\n    8,192    charAt      1.9     1.7     5.1       7.6     2.2     2.5     2.6     1.9     1.9\r\n    16,384   charAt      1.9     1.7     5.1       6.9     2.2     2.5     2.5     1.9     1.9\r\n    32,768   charAt      1.9     1.7     5.1       6.1     2.2     2.5     2.5     1.9     1.9\r\n    65,536   charAt      1.9     1.7     5.1       5.5     2.2     2.4     2.4     1.9     1.9\r\n    131,072  charAt      1.9     1.7     5.1       5.4     2.3     2.5     2.5     1.9     1.9\r\n    262,144  charAt      1.9     1.7     5.1       5.1     2.3     2.5     2.5     1.9     1.9\r\n\r\nFULL RUNNABLE PROGRAM CODE\r\n==========================\r\n\r\n(to test on Java 7 and earlier, remove the two streams tests)\r\n\r\n\r\n    import java.lang.reflect.Field;\r\n    import java.util.ArrayList;\r\n    import java.util.Collections;\r\n    import java.util.List;\r\n    import java.util.Random;\r\n    import java.util.function.IntPredicate;\r\n    \r\n    /**\r\n     * @author Saint Hill &lt;http://stackoverflow.com/users/1584255/saint-hill&gt;\r\n     */\r\n    public final class TestStrings {\r\n    \r\n        // we will not test strings longer than 512KM\r\n        final int MAX_STRING_SIZE = 1024 * 256;\r\n    \r\n        // for each string size, we will do all the tests\r\n        // this many times\r\n        final int TRIES_PER_STRING_SIZE = 1000;\r\n    \r\n        public static void main(String[] args) throws Exception {\r\n            new TestStrings().run();\r\n        }\r\n    \r\n        void run() throws Exception {\r\n    \r\n            // double the length of the data until it reaches MAX chars long\r\n            // 0,1,2,4,8,16,32,64,128,256 ... \r\n            final List&lt;Integer&gt; sizes = new ArrayList&lt;&gt;();\r\n            for (int n = 0; n &lt;= MAX_STRING_SIZE; n = (n == 0 ? 1 : n * 2)) {\r\n                sizes.add(n);\r\n            }\r\n    \r\n            // CREATE RANDOM (FOR SHUFFLING ORDER OF TESTS)\r\n            final Random random = new Random();\r\n    \r\n            System.out.println(&quot;Rate in nanoseconds per character inspected.&quot;);\r\n            System.out.printf(&quot;==== FORWARDS (tries per size: %s) ==== \\n&quot;, TRIES_PER_STRING_SIZE);\r\n    \r\n            printHeadings(TRIES_PER_STRING_SIZE, random);\r\n    \r\n            for (int size : sizes) {\r\n                reportResults(size, test(size, TRIES_PER_STRING_SIZE, random));\r\n            }\r\n    \r\n            // reverse order or string sizes\r\n            Collections.reverse(sizes);\r\n    \r\n            System.out.println(&quot;&quot;);\r\n            System.out.println(&quot;Rate in nanoseconds per character inspected.&quot;);\r\n            System.out.printf(&quot;==== BACKWARDS (tries per size: %s) ==== \\n&quot;, TRIES_PER_STRING_SIZE);\r\n    \r\n            printHeadings(TRIES_PER_STRING_SIZE, random);\r\n    \r\n            for (int size : sizes) {\r\n                reportResults(size, test(size, TRIES_PER_STRING_SIZE, random));\r\n    \r\n            }\r\n        }\r\n    \r\n        ///\r\n        ///\r\n        ///  METHODS OF CHECKING THE CONTENTS\r\n        ///  OF A STRING. ALWAYS CHECKING FOR\r\n        ///  WHITESPACE (CHAR &lt;=&#39; &#39;)\r\n        ///  \r\n        ///\r\n        // CHECK THE STRING CONTENTS\r\n        int charAtMethod1(final String data) {\r\n            final int len = data.length();\r\n            for (int i = 0; i &lt; len; i++) {\r\n                if (data.charAt(i) &lt;= &#39; &#39;) {\r\n                    doThrow();\r\n                }\r\n            }\r\n            return len;\r\n        }\r\n    \r\n        // SAME AS ABOVE BUT USE String.length()\r\n        // instead of making a new final local int \r\n        int charAtMethod2(final String data) {\r\n            for (int i = 0; i &lt; data.length(); i++) {\r\n                if (data.charAt(i) &lt;= &#39; &#39;) {\r\n                    doThrow();\r\n                }\r\n            }\r\n            return data.length();\r\n        }\r\n    \r\n        // USE new Java-8 String&#39;s IntStream\r\n        // pass it a PREDICATE to do the checking\r\n        int streamMethod(final String data, final IntPredicate predicate) {\r\n            if (data.chars().anyMatch(predicate)) {\r\n                doThrow();\r\n            }\r\n            return data.length();\r\n        }\r\n    \r\n        // OH LA LA - GO PARALLEL!!!\r\n        int streamParallelMethod(final String data, IntPredicate predicate) {\r\n            if (data.chars().parallel().anyMatch(predicate)) {\r\n                doThrow();\r\n            }\r\n            return data.length();\r\n        }\r\n    \r\n        // Re-fill a resuable char[] with the contents\r\n        // of the String&#39;s char[]\r\n        int reuseBuffMethod(final char[] reusable, final String data) {\r\n            final int len = data.length();\r\n            data.getChars(0, len, reusable, 0);\r\n            for (int i = 0; i &lt; len; i++) {\r\n                if (reusable[i] &lt;= &#39; &#39;) {\r\n                    doThrow();\r\n                }\r\n            }\r\n            return len;\r\n        }\r\n    \r\n        // Obtain a new copy of char[] from String\r\n        int newMethod1(final String data) {\r\n            final int len = data.length();\r\n            final char[] copy = data.toCharArray();\r\n            for (int i = 0; i &lt; len; i++) {\r\n                if (copy[i] &lt;= &#39; &#39;) {\r\n                    doThrow();\r\n                }\r\n            }\r\n            return len;\r\n        }\r\n    \r\n        // Obtain a new copy of char[] from String\r\n        // but use FOR-EACH\r\n        int newMethod2(final String data) {\r\n            for (final char c : data.toCharArray()) {\r\n                if (c &lt;= &#39; &#39;) {\r\n                    doThrow();\r\n                }\r\n            }\r\n            return data.length();\r\n        }\r\n    \r\n        // FANCY!\r\n        // OBTAIN FIELD FOR ACCESS TO THE STRING&#39;S\r\n        // INTERNAL CHAR[]\r\n        int fieldMethod1(final Field field, final String data) {\r\n            try {\r\n                final char[] chars = (char[]) field.get(data);\r\n                final int len = chars.length;\r\n                for (int i = 0; i &lt; len; i++) {\r\n                    if (chars[i] &lt;= &#39; &#39;) {\r\n                        doThrow();\r\n                    }\r\n                }\r\n                return len;\r\n            } catch (Exception ex) {\r\n                throw new RuntimeException(ex);\r\n            }\r\n        }\r\n    \r\n        // same as above but use FOR-EACH\r\n        int fieldMethod2(final Field field, final String data) {\r\n            final char[] chars;\r\n            try {\r\n                chars = (char[]) field.get(data);\r\n            } catch (Exception ex) {\r\n                throw new RuntimeException(ex);\r\n            }\r\n            for (final char c : chars) {\r\n                if (c &lt;= &#39; &#39;) {\r\n                    doThrow();\r\n                }\r\n            }\r\n            return chars.length;\r\n        }\r\n    \r\n        /**\r\n         *\r\n         * Make a list of tests. We will shuffle a copy of this list repeatedly\r\n         * while we repeat this test.\r\n         *\r\n         * @param data\r\n         * @return\r\n         */\r\n        List&lt;Jobber&gt; makeTests(String data) throws Exception {\r\n            // make a list of tests\r\n            final List&lt;Jobber&gt; tests = new ArrayList&lt;Jobber&gt;();\r\n    \r\n            tests.add(new Jobber(&quot;charAt1&quot;) {\r\n                int check() {\r\n                    return charAtMethod1(data);\r\n                }\r\n            });\r\n    \r\n            tests.add(new Jobber(&quot;charAt2&quot;) {\r\n                int check() {\r\n                    return charAtMethod2(data);\r\n                }\r\n            });\r\n    \r\n            tests.add(new Jobber(&quot;stream&quot;) {\r\n                final IntPredicate predicate = new IntPredicate() {\r\n                    public boolean test(int value) {\r\n                        return value &lt;= &#39; &#39;;\r\n                    }\r\n                };\r\n    \r\n                int check() {\r\n                    return streamMethod(data, predicate);\r\n                }\r\n            });\r\n    \r\n            tests.add(new Jobber(&quot;streamPar&quot;) {\r\n                final IntPredicate predicate = new IntPredicate() {\r\n                    public boolean test(int value) {\r\n                        return value &lt;= &#39; &#39;;\r\n                    }\r\n                };\r\n    \r\n                int check() {\r\n                    return streamParallelMethod(data, predicate);\r\n                }\r\n            });\r\n    \r\n            // Reusable char[] method\r\n            tests.add(new Jobber(&quot;reuse&quot;) {\r\n                final char[] cbuff = new char[MAX_STRING_SIZE];\r\n    \r\n                int check() {\r\n                    return reuseBuffMethod(cbuff, data);\r\n                }\r\n            });\r\n    \r\n            // New char[] from String\r\n            tests.add(new Jobber(&quot;new1&quot;) {\r\n                int check() {\r\n                    return newMethod1(data);\r\n                }\r\n            });\r\n    \r\n            // New char[] from String\r\n            tests.add(new Jobber(&quot;new2&quot;) {\r\n                int check() {\r\n                    return newMethod2(data);\r\n                }\r\n            });\r\n    \r\n            // Use reflection for field access\r\n            tests.add(new Jobber(&quot;field1&quot;) {\r\n                final Field field;\r\n    \r\n                {\r\n                    field = String.class.getDeclaredField(&quot;value&quot;);\r\n                    field.setAccessible(true);\r\n                }\r\n    \r\n                int check() {\r\n                    return fieldMethod1(field, data);\r\n                }\r\n            });\r\n    \r\n            // Use reflection for field access\r\n            tests.add(new Jobber(&quot;field2&quot;) {\r\n                final Field field;\r\n    \r\n                {\r\n                    field = String.class.getDeclaredField(&quot;value&quot;);\r\n                    field.setAccessible(true);\r\n                }\r\n    \r\n                int check() {\r\n                    return fieldMethod2(field, data);\r\n                }\r\n            });\r\n    \r\n            return tests;\r\n        }\r\n    \r\n        /**\r\n         * We use this class to keep track of test results\r\n         */\r\n        abstract class Jobber {\r\n    \r\n            final String name;\r\n            long nanos;\r\n            long chars;\r\n            long runs;\r\n    \r\n            Jobber(String name) {\r\n                this.name = name;\r\n            }\r\n    \r\n            abstract int check();\r\n    \r\n            final double nanosPerChar() {\r\n                double charsPerRun = chars / runs;\r\n                long nanosPerRun = nanos / runs;\r\n                return charsPerRun == 0 ? nanosPerRun : nanosPerRun / charsPerRun;\r\n            }\r\n    \r\n            final void run() {\r\n                runs++;\r\n                long time = System.nanoTime();\r\n                chars += check();\r\n                nanos += System.nanoTime() - time;\r\n            }\r\n        }\r\n    \r\n        // MAKE A TEST STRING OF RANDOM CHARACTERS A-Z\r\n        private String makeTestString(int testSize, char start, char end) {\r\n            Random r = new Random();\r\n            char[] data = new char[testSize];\r\n            for (int i = 0; i &lt; data.length; i++) {\r\n                data[i] = (char) (start + r.nextInt(end));\r\n            }\r\n            return new String(data);\r\n        }\r\n    \r\n        // WE DO THIS IF WE FIND AN ILLEGAL CHARACTER IN THE STRING\r\n        public void doThrow() {\r\n            throw new RuntimeException(&quot;Bzzzt -- Illegal Character!!&quot;);\r\n        }\r\n    \r\n        /**\r\n         * 1. get random string of correct length 2. get tests (List&lt;Jobber&gt;) 3.\r\n         * perform tests repeatedly, shuffling each time\r\n         */\r\n        List&lt;Jobber&gt; test(int size, int tries, Random random) throws Exception {\r\n            String data = makeTestString(size, &#39;A&#39;, &#39;Z&#39;);\r\n            List&lt;Jobber&gt; tests = makeTests(data);\r\n            List&lt;Jobber&gt; copy = new ArrayList&lt;&gt;(tests);\r\n            while (tries-- &gt; 0) {\r\n                Collections.shuffle(copy, random);\r\n                for (Jobber ti : copy) {\r\n                    ti.run();\r\n                }\r\n            }\r\n            // check to make sure all char counts the same\r\n            long runs = tests.get(0).runs;\r\n            long count = tests.get(0).chars;\r\n            for (Jobber ti : tests) {\r\n                if (ti.runs != runs &amp;&amp; ti.chars != count) {\r\n                    throw new Exception(&quot;Char counts should match if all correct algorithms&quot;);\r\n                }\r\n            }\r\n            return tests;\r\n        }\r\n    \r\n        private void printHeadings(final int TRIES_PER_STRING_SIZE, final Random random) throws Exception {\r\n            System.out.print(&quot;  Size&quot;);\r\n            for (Jobber ti : test(0, TRIES_PER_STRING_SIZE, random)) {\r\n                System.out.printf(&quot;%9s&quot;, ti.name);\r\n            }\r\n            System.out.println(&quot;&quot;);\r\n        }\r\n    \r\n        private void reportResults(int size, List&lt;Jobber&gt; tests) {\r\n            System.out.printf(&quot;%6d&quot;, size);\r\n            for (Jobber ti : tests) {\r\n                System.out.printf(&quot;%,9.2f&quot;, ti.nanosPerChar());\r\n            }\r\n            System.out.println(&quot;&quot;);\r\n        }\r\n    }","title":"Fastest way to iterate over all the chars in a String","body":"<p>FIRST UPDATE: Before you try this ever in a production environment (not advised), read this first: <a href=\"http://www.javaspecialists.eu/archive/Issue237.html\" rel=\"noreferrer\">http://www.javaspecialists.eu/archive/Issue237.html</a>\nStarting from Java 9, the solution as described won't work anymore, because now Java will store strings as byte[] by default.</p>\n<p>SECOND UPDATE: As of 2016-10-25, on my AMDx64 8core and source 1.8, there is no difference between using 'charAt' and field access. It appears that the jvm is sufficiently optimized to inline and streamline any 'string.charAt(n)' calls.</p>\n<p>THIRD UPDATE: As of 2020-09-07, on my Ryzen 1950-X 16 core and source 1.14, 'charAt1' is 9 times slower than field access and 'charAt2' is 4 times slower than field access. Field access is back as the clear winner. Note than the program will need to use byte[] access for Java 9+ version jvms.</p>\n<p>It all depends on the length of the <code>String</code> being inspected. If, as the question says, it is for <strong>long</strong> strings, the fastest way to inspect the string is to use reflection to access the backing <code>char[]</code> of the string.</p>\n<p>A fully randomized benchmark with JDK 8 (win32 and win64) on an 64 AMD Phenom II 4 core 955 @ 3.2 GHZ (in both client mode and server mode) with 9 different techniques (see below!) shows that using <code>String.charAt(n)</code> is the fastest for small strings and that using <code>reflection</code> to access the String backing array is almost twice as fast for large strings.</p>\n<h1>THE EXPERIMENT</h1>\n<ul>\n<li><p>9 different optimization techniques are tried.</p>\n</li>\n<li><p>All string contents are randomized</p>\n</li>\n<li><p>The test are done for string sizes in multiples of two starting with 0,1,2,4,8,16 etc.</p>\n</li>\n<li><p>The tests are done 1,000 times per string size</p>\n</li>\n<li><p>The tests are shuffled into random order each time. In other words, the tests are done in random order every time they are done, over 1000 times over.</p>\n</li>\n<li><p>The entire test suite is done forwards, and backwards, to show the effect of JVM warmup on optimization and times.</p>\n</li>\n<li><p>The entire suite is done twice, once in <code>-client</code> mode and the other in <code>-server</code> mode.</p>\n</li>\n</ul>\n<h1>CONCLUSIONS</h1>\n<h2>-client mode (32 bit)</h2>\n<p>For strings <strong>1 to 256 characters in length</strong>, calling <code>string.charAt(i)</code> wins with an average processing of 13.4 million to 588 million characters per second.</p>\n<p>Also, it is overall 5.5% faster (client) and 13.9% (server) like this:</p>\n<pre><code>    for (int i = 0; i &lt; data.length(); i++) {\n        if (data.charAt(i) &lt;= ' ') {\n            doThrow();\n        }\n    }\n</code></pre>\n<p>than like this with a local final length variable:</p>\n<pre><code>    final int len = data.length();\n    for (int i = 0; i &lt; len; i++) {\n        if (data.charAt(i) &lt;= ' ') {\n            doThrow();\n        }\n    }\n</code></pre>\n<p>For long strings, <strong>512 to 256K characters length</strong>, using reflection to access the String's backing array is fastest. <strong>This technique is almost twice as fast</strong> as String.charAt(i) (178% faster). The average speed over this range was 1.111 billion characters per second.</p>\n<p>The Field must be obtained ahead of time and then it can be re-used in the library on different strings. Interestingly, unlike the code above, with Field access, it is 9% faster to have a local final length variable than to use 'chars.length' in the loop check. Here is how Field access can be setup as fastest:</p>\n<pre><code>   final Field field = String.class.getDeclaredField(&quot;value&quot;);\n   field.setAccessible(true);\n\n   try {\n       final char[] chars = (char[]) field.get(data);\n       final int len = chars.length;\n       for (int i = 0; i &lt; len; i++) {\n           if (chars[i] &lt;= ' ') {\n               doThrow();\n           }\n       }\n       return len;\n   } catch (Exception ex) {\n       throw new RuntimeException(ex);\n   }\n</code></pre>\n<h2>Special comments on -server mode</h2>\n<p>Field access starting winning after 32 character length strings in server mode on a 64 bit Java machine on my AMD 64 machine. That was not seen until 512 characters length in client mode.</p>\n<p>Also worth noting I think, when I was running JDK 8 (32 bit build) in server mode, the overall performance was 7% slower for both large and small strings. This was with build 121 Dec 2013 of JDK 8 early release. So, for now, it seems that 32 bit server mode is slower than 32 bit client mode.</p>\n<p>That being said ... it seems the only server mode that is worth invoking is on a 64 bit machine. Otherwise it actually hampers performance.</p>\n<p>For 32 bit build running in <code>-server mode</code> on an AMD64, I can say this:</p>\n<ol>\n<li>String.charAt(i) is the clear winner overall. Although between sizes 8 to 512 characters there were winners among 'new' 'reuse' and 'field'.</li>\n<li>String.charAt(i) is 45% faster in client mode</li>\n<li>Field access is twice as fast for large Strings in client mode.</li>\n</ol>\n<p>Also worth saying, String.chars() (Stream and the parallel version) are a bust. Way slower than any other way. The <code>Streams</code> API is a rather slow way to perform general string operations.</p>\n<h2>Wish List</h2>\n<p>Java String could have predicate accepting optimized methods such as contains(predicate), forEach(consumer), forEachWithIndex(consumer). Thus, without the need for the user to know the length or repeat calls to String methods, these could help parsing libraries <code>beep-beep beep</code> speedup.</p>\n<p>Keep dreaming :)</p>\n<p>Happy Strings!</p>\n<p>~SH</p>\n<h2>The test used the following 9 methods of testing the string for the presence of whitespace:</h2>\n<p>&quot;charAt1&quot; -- CHECK THE STRING CONTENTS THE USUAL WAY:</p>\n<pre><code>int charAtMethod1(final String data) {\n    final int len = data.length();\n    for (int i = 0; i &lt; len; i++) {\n        if (data.charAt(i) &lt;= ' ') {\n            doThrow();\n        }\n    }\n    return len;\n}\n</code></pre>\n<p>&quot;charAt2&quot; -- SAME AS ABOVE BUT USE String.length() INSTEAD OF MAKING A FINAL LOCAL int FOR THE LENGTh</p>\n<pre><code>int charAtMethod2(final String data) {\n    for (int i = 0; i &lt; data.length(); i++) {\n        if (data.charAt(i) &lt;= ' ') {\n            doThrow();\n        }\n    }\n    return data.length();\n}\n</code></pre>\n<p>&quot;stream&quot; -- USE THE NEW JAVA-8 String's IntStream AND PASS IT A PREDICATE TO DO THE CHECKING</p>\n<pre><code>int streamMethod(final String data, final IntPredicate predicate) {\n    if (data.chars().anyMatch(predicate)) {\n        doThrow();\n    }\n    return data.length();\n}\n</code></pre>\n<p>&quot;streamPara&quot; -- SAME AS ABOVE, BUT OH-LA-LA - GO PARALLEL!!!</p>\n<pre><code>// avoid this at all costs\nint streamParallelMethod(final String data, IntPredicate predicate) {\n    if (data.chars().parallel().anyMatch(predicate)) {\n        doThrow();\n    }\n    return data.length();\n}\n</code></pre>\n<p>&quot;reuse&quot; -- REFILL A REUSABLE char[] WITH THE STRINGS CONTENTS</p>\n<pre><code>int reuseBuffMethod(final char[] reusable, final String data) {\n    final int len = data.length();\n    data.getChars(0, len, reusable, 0);\n    for (int i = 0; i &lt; len; i++) {\n        if (reusable[i] &lt;= ' ') {\n            doThrow();\n        }\n    }\n    return len;\n}\n</code></pre>\n<p>&quot;new1&quot; -- OBTAIN A NEW COPY OF THE char[] FROM THE STRING</p>\n<pre><code>int newMethod1(final String data) {\n    final int len = data.length();\n    final char[] copy = data.toCharArray();\n    for (int i = 0; i &lt; len; i++) {\n        if (copy[i] &lt;= ' ') {\n            doThrow();\n        }\n    }\n    return len;\n}\n</code></pre>\n<p>&quot;new2&quot; -- SAME AS ABOVE, BUT USE &quot;FOR-EACH&quot;</p>\n<pre><code>int newMethod2(final String data) {\n    for (final char c : data.toCharArray()) {\n        if (c &lt;= ' ') {\n            doThrow();\n        }\n    }\n    return data.length();\n}\n</code></pre>\n<p>&quot;field1&quot; -- FANCY!! OBTAIN FIELD FOR ACCESS TO THE STRING'S INTERNAL char[]</p>\n<pre><code>int fieldMethod1(final Field field, final String data) {\n    try {\n        final char[] chars = (char[]) field.get(data);\n        final int len = chars.length;\n        for (int i = 0; i &lt; len; i++) {\n            if (chars[i] &lt;= ' ') {\n                doThrow();\n            }\n        }\n        return len;\n    } catch (Exception ex) {\n        throw new RuntimeException(ex);\n    }\n}\n</code></pre>\n<p>&quot;field2&quot; -- SAME AS ABOVE, BUT USE &quot;FOR-EACH&quot;</p>\n<pre><code>int fieldMethod2(final Field field, final String data) {\n    final char[] chars;\n    try {\n        chars = (char[]) field.get(data);\n    } catch (Exception ex) {\n        throw new RuntimeException(ex);\n    }\n    for (final char c : chars) {\n        if (c &lt;= ' ') {\n            doThrow();\n        }\n    }\n    return chars.length;\n}\n</code></pre>\n<h1>COMPOSITE RESULTS FOR CLIENT <code>-client</code> MODE (forwards and backwards tests combined)</h1>\n<p>Note: that the -client mode with Java 32 bit and -server mode with Java 64 bit are the same as below on my AMD64 machine.</p>\n<pre><code>Size     WINNER  charAt1 charAt2  stream streamPar   reuse    new1    new2  field1  field2\n1        charAt    77.0     72.0   462.0     584.0   127.5    89.5    86.0   159.5   165.0\n2        charAt    38.0     36.5   284.0   32712.5    57.5    48.3    50.3    89.0    91.5\n4        charAt    19.5     18.5   458.6    3169.0    33.0    26.8    27.5    54.1    52.6\n8        charAt     9.8      9.9   100.5    1370.9    17.3    14.4    15.0    26.9    26.4\n16       charAt     6.1      6.5    73.4     857.0     8.4     8.2     8.3    13.6    13.5\n32       charAt     3.9      3.7    54.8     428.9     5.0     4.9     4.7     7.0     7.2\n64       charAt     2.7      2.6    48.2     232.9     3.0     3.2     3.3     3.9     4.0\n128      charAt     2.1      1.9    43.7     138.8     2.1     2.6     2.6     2.4     2.6\n256      charAt     1.9      1.6    42.4      90.6     1.7     2.1     2.1     1.7     1.8\n512      field1     1.7      1.4    40.6      60.5     1.4     1.9     1.9     1.3     1.4\n1,024    field1     1.6      1.4    40.0      45.6     1.2     1.9     2.1     1.0     1.2\n2,048    field1     1.6      1.3    40.0      36.2     1.2     1.8     1.7     0.9     1.1\n4,096    field1     1.6      1.3    39.7      32.6     1.2     1.8     1.7     0.9     1.0\n8,192    field1     1.6      1.3    39.6      30.5     1.2     1.8     1.7     0.9     1.0\n16,384   field1     1.6      1.3    39.8      28.4     1.2     1.8     1.7     0.8     1.0\n32,768   field1     1.6      1.3    40.0      26.7     1.3     1.8     1.7     0.8     1.0\n65,536   field1     1.6      1.3    39.8      26.3     1.3     1.8     1.7     0.8     1.0\n131,072  field1     1.6      1.3    40.1      25.4     1.4     1.9     1.8     0.8     1.0\n262,144  field1     1.6      1.3    39.6      25.2     1.5     1.9     1.9     0.8     1.0\n</code></pre>\n<h1>COMPOSITE RESULTS FOR SERVER <code>-server</code> MODE (forwards and backwards tests combined)</h1>\n<p>Note: this is the test for Java 32 bit running in server mode on an AMD64. The server mode for Java 64 bit was the same as Java 32 bit in client mode except that Field access starting winning after 32 characters size.</p>\n<pre><code>Size     WINNER  charAt1 charAt2  stream streamPar   reuse    new1    new2  field1  field2\n1        charAt     74.5    95.5   524.5     783.0    90.5   102.5    90.5   135.0   151.5\n2        charAt     48.5    53.0   305.0   30851.3    59.3    57.5    52.0    88.5    91.8\n4        charAt     28.8    32.1   132.8    2465.1    37.6    33.9    32.3    49.0    47.0\n8          new2     18.0    18.6    63.4    1541.3    18.5    17.9    17.6    25.4    25.8\n16         new2     14.0    14.7   129.4    1034.7    12.5    16.2    12.0    16.0    16.6\n32         new2      7.8     9.1    19.3     431.5     8.1     7.0     6.7     7.9     8.7\n64        reuse      6.1     7.5    11.7     204.7     3.5     3.9     4.3     4.2     4.1\n128       reuse      6.8     6.8     9.0     101.0     2.6     3.0     3.0     2.6     2.7\n256      field2      6.2     6.5     6.9      57.2     2.4     2.7     2.9     2.3     2.3\n512       reuse      4.3     4.9     5.8      28.2     2.0     2.6     2.6     2.1     2.1\n1,024    charAt      2.0     1.8     5.3      17.6     2.1     2.5     3.5     2.0     2.0\n2,048    charAt      1.9     1.7     5.2      11.9     2.2     3.0     2.6     2.0     2.0\n4,096    charAt      1.9     1.7     5.1       8.7     2.1     2.6     2.6     1.9     1.9\n8,192    charAt      1.9     1.7     5.1       7.6     2.2     2.5     2.6     1.9     1.9\n16,384   charAt      1.9     1.7     5.1       6.9     2.2     2.5     2.5     1.9     1.9\n32,768   charAt      1.9     1.7     5.1       6.1     2.2     2.5     2.5     1.9     1.9\n65,536   charAt      1.9     1.7     5.1       5.5     2.2     2.4     2.4     1.9     1.9\n131,072  charAt      1.9     1.7     5.1       5.4     2.3     2.5     2.5     1.9     1.9\n262,144  charAt      1.9     1.7     5.1       5.1     2.3     2.5     2.5     1.9     1.9\n</code></pre>\n<h1>FULL RUNNABLE PROGRAM CODE</h1>\n<p>(to test on Java 7 and earlier, remove the two streams tests)</p>\n<pre><code>import java.lang.reflect.Field;\nimport java.util.ArrayList;\nimport java.util.Collections;\nimport java.util.List;\nimport java.util.Random;\nimport java.util.function.IntPredicate;\n\n/**\n * @author Saint Hill &lt;http://stackoverflow.com/users/1584255/saint-hill&gt;\n */\npublic final class TestStrings {\n\n    // we will not test strings longer than 512KM\n    final int MAX_STRING_SIZE = 1024 * 256;\n\n    // for each string size, we will do all the tests\n    // this many times\n    final int TRIES_PER_STRING_SIZE = 1000;\n\n    public static void main(String[] args) throws Exception {\n        new TestStrings().run();\n    }\n\n    void run() throws Exception {\n\n        // double the length of the data until it reaches MAX chars long\n        // 0,1,2,4,8,16,32,64,128,256 ... \n        final List&lt;Integer&gt; sizes = new ArrayList&lt;&gt;();\n        for (int n = 0; n &lt;= MAX_STRING_SIZE; n = (n == 0 ? 1 : n * 2)) {\n            sizes.add(n);\n        }\n\n        // CREATE RANDOM (FOR SHUFFLING ORDER OF TESTS)\n        final Random random = new Random();\n\n        System.out.println(&quot;Rate in nanoseconds per character inspected.&quot;);\n        System.out.printf(&quot;==== FORWARDS (tries per size: %s) ==== \\n&quot;, TRIES_PER_STRING_SIZE);\n\n        printHeadings(TRIES_PER_STRING_SIZE, random);\n\n        for (int size : sizes) {\n            reportResults(size, test(size, TRIES_PER_STRING_SIZE, random));\n        }\n\n        // reverse order or string sizes\n        Collections.reverse(sizes);\n\n        System.out.println(&quot;&quot;);\n        System.out.println(&quot;Rate in nanoseconds per character inspected.&quot;);\n        System.out.printf(&quot;==== BACKWARDS (tries per size: %s) ==== \\n&quot;, TRIES_PER_STRING_SIZE);\n\n        printHeadings(TRIES_PER_STRING_SIZE, random);\n\n        for (int size : sizes) {\n            reportResults(size, test(size, TRIES_PER_STRING_SIZE, random));\n\n        }\n    }\n\n    ///\n    ///\n    ///  METHODS OF CHECKING THE CONTENTS\n    ///  OF A STRING. ALWAYS CHECKING FOR\n    ///  WHITESPACE (CHAR &lt;=' ')\n    ///  \n    ///\n    // CHECK THE STRING CONTENTS\n    int charAtMethod1(final String data) {\n        final int len = data.length();\n        for (int i = 0; i &lt; len; i++) {\n            if (data.charAt(i) &lt;= ' ') {\n                doThrow();\n            }\n        }\n        return len;\n    }\n\n    // SAME AS ABOVE BUT USE String.length()\n    // instead of making a new final local int \n    int charAtMethod2(final String data) {\n        for (int i = 0; i &lt; data.length(); i++) {\n            if (data.charAt(i) &lt;= ' ') {\n                doThrow();\n            }\n        }\n        return data.length();\n    }\n\n    // USE new Java-8 String's IntStream\n    // pass it a PREDICATE to do the checking\n    int streamMethod(final String data, final IntPredicate predicate) {\n        if (data.chars().anyMatch(predicate)) {\n            doThrow();\n        }\n        return data.length();\n    }\n\n    // OH LA LA - GO PARALLEL!!!\n    int streamParallelMethod(final String data, IntPredicate predicate) {\n        if (data.chars().parallel().anyMatch(predicate)) {\n            doThrow();\n        }\n        return data.length();\n    }\n\n    // Re-fill a resuable char[] with the contents\n    // of the String's char[]\n    int reuseBuffMethod(final char[] reusable, final String data) {\n        final int len = data.length();\n        data.getChars(0, len, reusable, 0);\n        for (int i = 0; i &lt; len; i++) {\n            if (reusable[i] &lt;= ' ') {\n                doThrow();\n            }\n        }\n        return len;\n    }\n\n    // Obtain a new copy of char[] from String\n    int newMethod1(final String data) {\n        final int len = data.length();\n        final char[] copy = data.toCharArray();\n        for (int i = 0; i &lt; len; i++) {\n            if (copy[i] &lt;= ' ') {\n                doThrow();\n            }\n        }\n        return len;\n    }\n\n    // Obtain a new copy of char[] from String\n    // but use FOR-EACH\n    int newMethod2(final String data) {\n        for (final char c : data.toCharArray()) {\n            if (c &lt;= ' ') {\n                doThrow();\n            }\n        }\n        return data.length();\n    }\n\n    // FANCY!\n    // OBTAIN FIELD FOR ACCESS TO THE STRING'S\n    // INTERNAL CHAR[]\n    int fieldMethod1(final Field field, final String data) {\n        try {\n            final char[] chars = (char[]) field.get(data);\n            final int len = chars.length;\n            for (int i = 0; i &lt; len; i++) {\n                if (chars[i] &lt;= ' ') {\n                    doThrow();\n                }\n            }\n            return len;\n        } catch (Exception ex) {\n            throw new RuntimeException(ex);\n        }\n    }\n\n    // same as above but use FOR-EACH\n    int fieldMethod2(final Field field, final String data) {\n        final char[] chars;\n        try {\n            chars = (char[]) field.get(data);\n        } catch (Exception ex) {\n            throw new RuntimeException(ex);\n        }\n        for (final char c : chars) {\n            if (c &lt;= ' ') {\n                doThrow();\n            }\n        }\n        return chars.length;\n    }\n\n    /**\n     *\n     * Make a list of tests. We will shuffle a copy of this list repeatedly\n     * while we repeat this test.\n     *\n     * @param data\n     * @return\n     */\n    List&lt;Jobber&gt; makeTests(String data) throws Exception {\n        // make a list of tests\n        final List&lt;Jobber&gt; tests = new ArrayList&lt;Jobber&gt;();\n\n        tests.add(new Jobber(&quot;charAt1&quot;) {\n            int check() {\n                return charAtMethod1(data);\n            }\n        });\n\n        tests.add(new Jobber(&quot;charAt2&quot;) {\n            int check() {\n                return charAtMethod2(data);\n            }\n        });\n\n        tests.add(new Jobber(&quot;stream&quot;) {\n            final IntPredicate predicate = new IntPredicate() {\n                public boolean test(int value) {\n                    return value &lt;= ' ';\n                }\n            };\n\n            int check() {\n                return streamMethod(data, predicate);\n            }\n        });\n\n        tests.add(new Jobber(&quot;streamPar&quot;) {\n            final IntPredicate predicate = new IntPredicate() {\n                public boolean test(int value) {\n                    return value &lt;= ' ';\n                }\n            };\n\n            int check() {\n                return streamParallelMethod(data, predicate);\n            }\n        });\n\n        // Reusable char[] method\n        tests.add(new Jobber(&quot;reuse&quot;) {\n            final char[] cbuff = new char[MAX_STRING_SIZE];\n\n            int check() {\n                return reuseBuffMethod(cbuff, data);\n            }\n        });\n\n        // New char[] from String\n        tests.add(new Jobber(&quot;new1&quot;) {\n            int check() {\n                return newMethod1(data);\n            }\n        });\n\n        // New char[] from String\n        tests.add(new Jobber(&quot;new2&quot;) {\n            int check() {\n                return newMethod2(data);\n            }\n        });\n\n        // Use reflection for field access\n        tests.add(new Jobber(&quot;field1&quot;) {\n            final Field field;\n\n            {\n                field = String.class.getDeclaredField(&quot;value&quot;);\n                field.setAccessible(true);\n            }\n\n            int check() {\n                return fieldMethod1(field, data);\n            }\n        });\n\n        // Use reflection for field access\n        tests.add(new Jobber(&quot;field2&quot;) {\n            final Field field;\n\n            {\n                field = String.class.getDeclaredField(&quot;value&quot;);\n                field.setAccessible(true);\n            }\n\n            int check() {\n                return fieldMethod2(field, data);\n            }\n        });\n\n        return tests;\n    }\n\n    /**\n     * We use this class to keep track of test results\n     */\n    abstract class Jobber {\n\n        final String name;\n        long nanos;\n        long chars;\n        long runs;\n\n        Jobber(String name) {\n            this.name = name;\n        }\n\n        abstract int check();\n\n        final double nanosPerChar() {\n            double charsPerRun = chars / runs;\n            long nanosPerRun = nanos / runs;\n            return charsPerRun == 0 ? nanosPerRun : nanosPerRun / charsPerRun;\n        }\n\n        final void run() {\n            runs++;\n            long time = System.nanoTime();\n            chars += check();\n            nanos += System.nanoTime() - time;\n        }\n    }\n\n    // MAKE A TEST STRING OF RANDOM CHARACTERS A-Z\n    private String makeTestString(int testSize, char start, char end) {\n        Random r = new Random();\n        char[] data = new char[testSize];\n        for (int i = 0; i &lt; data.length; i++) {\n            data[i] = (char) (start + r.nextInt(end));\n        }\n        return new String(data);\n    }\n\n    // WE DO THIS IF WE FIND AN ILLEGAL CHARACTER IN THE STRING\n    public void doThrow() {\n        throw new RuntimeException(&quot;Bzzzt -- Illegal Character!!&quot;);\n    }\n\n    /**\n     * 1. get random string of correct length 2. get tests (List&lt;Jobber&gt;) 3.\n     * perform tests repeatedly, shuffling each time\n     */\n    List&lt;Jobber&gt; test(int size, int tries, Random random) throws Exception {\n        String data = makeTestString(size, 'A', 'Z');\n        List&lt;Jobber&gt; tests = makeTests(data);\n        List&lt;Jobber&gt; copy = new ArrayList&lt;&gt;(tests);\n        while (tries-- &gt; 0) {\n            Collections.shuffle(copy, random);\n            for (Jobber ti : copy) {\n                ti.run();\n            }\n        }\n        // check to make sure all char counts the same\n        long runs = tests.get(0).runs;\n        long count = tests.get(0).chars;\n        for (Jobber ti : tests) {\n            if (ti.runs != runs &amp;&amp; ti.chars != count) {\n                throw new Exception(&quot;Char counts should match if all correct algorithms&quot;);\n            }\n        }\n        return tests;\n    }\n\n    private void printHeadings(final int TRIES_PER_STRING_SIZE, final Random random) throws Exception {\n        System.out.print(&quot;  Size&quot;);\n        for (Jobber ti : test(0, TRIES_PER_STRING_SIZE, random)) {\n            System.out.printf(&quot;%9s&quot;, ti.name);\n        }\n        System.out.println(&quot;&quot;);\n    }\n\n    private void reportResults(int size, List&lt;Jobber&gt; tests) {\n        System.out.printf(&quot;%6d&quot;, size);\n        for (Jobber ti : tests) {\n            System.out.printf(&quot;%,9.2f&quot;, ti.nanosPerChar());\n        }\n        System.out.println(&quot;&quot;);\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1730551,"reputation":13017,"user_id":1584255,"accept_rate":65,"display_name":"The Coordinator"},"score":2,"creation_date":1383531732,"post_id":19756921,"comment_id":29367146,"body_markdown":"Thanks for posting. So, for large strings, field access is still 2x faster than charAt(). In fact, field access became even faster overall with it leading after 28 length strings (crazy!!)  So ... server mode makes everything faster. Very interesting!","body":"Thanks for posting. So, for large strings, field access is still 2x faster than charAt(). In fact, field access became even faster overall with it leading after 28 length strings (crazy!!)  So ... server mode makes everything faster. Very interesting!"},{"owner":{"account_id":1448716,"reputation":6182,"user_id":1366353,"accept_rate":81,"display_name":"ceklock"},"score":1,"creation_date":1383700453,"post_id":19756921,"comment_id":29439594,"body_markdown":"Yeah, the reflective method is really faster. Interesting.","body":"Yeah, the reflective method is really faster. Interesting."},{"owner":{"account_id":259109,"reputation":2800,"user_id":541755,"accept_rate":71,"display_name":"jontejj"},"score":3,"creation_date":1386258252,"post_id":19756921,"comment_id":30470364,"body_markdown":"btw: newer JVMs automatically figures out which of -server or -client that works best (usually): http://docs.oracle.com/javase/7/docs/technotes/guides/vm/server-class.html","body":"btw: newer JVMs automatically figures out which of -server or -client that works best (usually): <a href=\"http://docs.oracle.com/javase/7/docs/technotes/guides/vm/server-class.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/7/docs/technotes/guides/vm/&hellip;</a>"},{"owner":{"account_id":1448716,"reputation":6182,"user_id":1366353,"accept_rate":81,"display_name":"ceklock"},"score":2,"creation_date":1387138181,"post_id":19756921,"comment_id":30821571,"body_markdown":"@jontejj in practice it is not so simple. If you are running a 32-bit JVM on Windows, then the JVM will always default to client.","body":"@jontejj in practice it is not so simple. If you are running a 32-bit JVM on Windows, then the JVM will always default to client."}],"tags":[],"owner":{"account_id":1448716,"reputation":6182,"user_id":1366353,"accept_rate":81,"display_name":"ceklock"},"comment_count":4,"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1383507275,"creation_date":1383506126,"answer_id":19756921,"question_id":8894258,"body_markdown":"*Just for curiosity and to compare with Saint Hill&#39;s answer.*\r\n\r\nIf you need to process heavy data you should not use JVM in client mode. Client mode is not made for optimizations. \r\n\r\nLet&#39;s compare results of @Saint Hill benchmarks using a JVM in Client mode and Server mode.\r\n\r\n    Core2Quad Q6600 G0 @ 2.4GHz\r\n    JavaSE 1.7.0_40\r\n\r\nSee also: https://stackoverflow.com/questions/198577/real-differences-between-java-server-and-java-client\r\n\r\n----------\r\n\r\n**CLIENT MODE:**\r\n\r\n    len =      2:    111k charAt(i),  105k cbuff[i],   62k new[i],   17k field access.   (chars/ms) \r\n    len =      4:    285k charAt(i),  166k cbuff[i],  114k new[i],   43k field access.   (chars/ms) \r\n    len =      6:    315k charAt(i),  230k cbuff[i],  162k new[i],   69k field access.   (chars/ms) \r\n    len =      8:    333k charAt(i),  275k cbuff[i],  181k new[i],   85k field access.   (chars/ms) \r\n    len =     12:    342k charAt(i),  342k cbuff[i],  222k new[i],  117k field access.   (chars/ms) \r\n    len =     16:    363k charAt(i),  347k cbuff[i],  275k new[i],  152k field access.   (chars/ms) \r\n    len =     20:    363k charAt(i),  392k cbuff[i],  289k new[i],  180k field access.   (chars/ms) \r\n    len =     24:    375k charAt(i),  428k cbuff[i],  311k new[i],  205k field access.   (chars/ms) \r\n    len =     28:    378k charAt(i),  474k cbuff[i],  341k new[i],  233k field access.   (chars/ms) \r\n    len =     32:    376k charAt(i),  492k cbuff[i],  340k new[i],  251k field access.   (chars/ms) \r\n    len =     64:    374k charAt(i),  551k cbuff[i],  374k new[i],  367k field access.   (chars/ms) \r\n    len =    128:    385k charAt(i),  624k cbuff[i],  415k new[i],  509k field access.   (chars/ms) \r\n    len =    256:    390k charAt(i),  675k cbuff[i],  436k new[i],  619k field access.   (chars/ms) \r\n    len =    512:    394k charAt(i),  703k cbuff[i],  439k new[i],  695k field access.   (chars/ms) \r\n    len =   1024:    395k charAt(i),  718k cbuff[i],  462k new[i],  742k field access.   (chars/ms) \r\n    len =   2048:    396k charAt(i),  725k cbuff[i],  471k new[i],  767k field access.   (chars/ms) \r\n    len =   4096:    396k charAt(i),  727k cbuff[i],  459k new[i],  780k field access.   (chars/ms) \r\n    len =   8192:    397k charAt(i),  712k cbuff[i],  446k new[i],  772k field access.   (chars/ms) \r\n\r\n----------\r\n\r\n**SERVER MODE:**\r\n\r\n    len =      2:     86k charAt(i),   41k cbuff[i],   46k new[i],   80k field access.   (chars/ms) \r\n    len =      4:    571k charAt(i),  250k cbuff[i],   97k new[i],  222k field access.   (chars/ms) \r\n    len =      6:    666k charAt(i),  333k cbuff[i],  125k new[i],  315k field access.   (chars/ms) \r\n    len =      8:    800k charAt(i),  400k cbuff[i],  181k new[i],  380k field access.   (chars/ms) \r\n    len =     12:    800k charAt(i),  521k cbuff[i],  260k new[i],  545k field access.   (chars/ms) \r\n    len =     16:    800k charAt(i),  592k cbuff[i],  296k new[i],  640k field access.   (chars/ms) \r\n    len =     20:    800k charAt(i),  666k cbuff[i],  408k new[i],  800k field access.   (chars/ms) \r\n    len =     24:    800k charAt(i),  705k cbuff[i],  452k new[i],  800k field access.   (chars/ms) \r\n    len =     28:    777k charAt(i),  736k cbuff[i],  368k new[i],  933k field access.   (chars/ms) \r\n    len =     32:    800k charAt(i),  780k cbuff[i],  571k new[i],  969k field access.   (chars/ms) \r\n    len =     64:    800k charAt(i),  901k cbuff[i],  800k new[i],  1306k field access.   (chars/ms) \r\n    len =    128:    1084k charAt(i),  888k cbuff[i],  633k new[i],  1620k field access.   (chars/ms) \r\n    len =    256:    1122k charAt(i),  966k cbuff[i],  729k new[i],  1790k field access.   (chars/ms) \r\n    len =    512:    1163k charAt(i),  1007k cbuff[i],  676k new[i],  1910k field access.   (chars/ms) \r\n    len =   1024:    1179k charAt(i),  1027k cbuff[i],  698k new[i],  1954k field access.   (chars/ms) \r\n    len =   2048:    1184k charAt(i),  1043k cbuff[i],  732k new[i],  2007k field access.   (chars/ms) \r\n    len =   4096:    1188k charAt(i),  1049k cbuff[i],  742k new[i],  2031k field access.   (chars/ms) \r\n    len =   8192:    1157k charAt(i),  1032k cbuff[i],  723k new[i],  2048k field access.   (chars/ms) \r\n\r\n\r\n----------\r\n\r\n\r\n**CONCLUSION:**\r\n\r\nAs you can see, server mode is much faster.","title":"Fastest way to iterate over all the chars in a String","body":"<p><em>Just for curiosity and to compare with Saint Hill's answer.</em></p>\n\n<p>If you need to process heavy data you should not use JVM in client mode. Client mode is not made for optimizations. </p>\n\n<p>Let's compare results of @Saint Hill benchmarks using a JVM in Client mode and Server mode.</p>\n\n<pre><code>Core2Quad Q6600 G0 @ 2.4GHz\nJavaSE 1.7.0_40\n</code></pre>\n\n<p>See also: <a href=\"https://stackoverflow.com/questions/198577/real-differences-between-java-server-and-java-client\">Real differences between &quot;java -server&quot; and &quot;java -client&quot;?</a></p>\n\n<hr>\n\n<p><strong>CLIENT MODE:</strong></p>\n\n<pre><code>len =      2:    111k charAt(i),  105k cbuff[i],   62k new[i],   17k field access.   (chars/ms) \nlen =      4:    285k charAt(i),  166k cbuff[i],  114k new[i],   43k field access.   (chars/ms) \nlen =      6:    315k charAt(i),  230k cbuff[i],  162k new[i],   69k field access.   (chars/ms) \nlen =      8:    333k charAt(i),  275k cbuff[i],  181k new[i],   85k field access.   (chars/ms) \nlen =     12:    342k charAt(i),  342k cbuff[i],  222k new[i],  117k field access.   (chars/ms) \nlen =     16:    363k charAt(i),  347k cbuff[i],  275k new[i],  152k field access.   (chars/ms) \nlen =     20:    363k charAt(i),  392k cbuff[i],  289k new[i],  180k field access.   (chars/ms) \nlen =     24:    375k charAt(i),  428k cbuff[i],  311k new[i],  205k field access.   (chars/ms) \nlen =     28:    378k charAt(i),  474k cbuff[i],  341k new[i],  233k field access.   (chars/ms) \nlen =     32:    376k charAt(i),  492k cbuff[i],  340k new[i],  251k field access.   (chars/ms) \nlen =     64:    374k charAt(i),  551k cbuff[i],  374k new[i],  367k field access.   (chars/ms) \nlen =    128:    385k charAt(i),  624k cbuff[i],  415k new[i],  509k field access.   (chars/ms) \nlen =    256:    390k charAt(i),  675k cbuff[i],  436k new[i],  619k field access.   (chars/ms) \nlen =    512:    394k charAt(i),  703k cbuff[i],  439k new[i],  695k field access.   (chars/ms) \nlen =   1024:    395k charAt(i),  718k cbuff[i],  462k new[i],  742k field access.   (chars/ms) \nlen =   2048:    396k charAt(i),  725k cbuff[i],  471k new[i],  767k field access.   (chars/ms) \nlen =   4096:    396k charAt(i),  727k cbuff[i],  459k new[i],  780k field access.   (chars/ms) \nlen =   8192:    397k charAt(i),  712k cbuff[i],  446k new[i],  772k field access.   (chars/ms) \n</code></pre>\n\n<hr>\n\n<p><strong>SERVER MODE:</strong></p>\n\n<pre><code>len =      2:     86k charAt(i),   41k cbuff[i],   46k new[i],   80k field access.   (chars/ms) \nlen =      4:    571k charAt(i),  250k cbuff[i],   97k new[i],  222k field access.   (chars/ms) \nlen =      6:    666k charAt(i),  333k cbuff[i],  125k new[i],  315k field access.   (chars/ms) \nlen =      8:    800k charAt(i),  400k cbuff[i],  181k new[i],  380k field access.   (chars/ms) \nlen =     12:    800k charAt(i),  521k cbuff[i],  260k new[i],  545k field access.   (chars/ms) \nlen =     16:    800k charAt(i),  592k cbuff[i],  296k new[i],  640k field access.   (chars/ms) \nlen =     20:    800k charAt(i),  666k cbuff[i],  408k new[i],  800k field access.   (chars/ms) \nlen =     24:    800k charAt(i),  705k cbuff[i],  452k new[i],  800k field access.   (chars/ms) \nlen =     28:    777k charAt(i),  736k cbuff[i],  368k new[i],  933k field access.   (chars/ms) \nlen =     32:    800k charAt(i),  780k cbuff[i],  571k new[i],  969k field access.   (chars/ms) \nlen =     64:    800k charAt(i),  901k cbuff[i],  800k new[i],  1306k field access.   (chars/ms) \nlen =    128:    1084k charAt(i),  888k cbuff[i],  633k new[i],  1620k field access.   (chars/ms) \nlen =    256:    1122k charAt(i),  966k cbuff[i],  729k new[i],  1790k field access.   (chars/ms) \nlen =    512:    1163k charAt(i),  1007k cbuff[i],  676k new[i],  1910k field access.   (chars/ms) \nlen =   1024:    1179k charAt(i),  1027k cbuff[i],  698k new[i],  1954k field access.   (chars/ms) \nlen =   2048:    1184k charAt(i),  1043k cbuff[i],  732k new[i],  2007k field access.   (chars/ms) \nlen =   4096:    1188k charAt(i),  1049k cbuff[i],  742k new[i],  2031k field access.   (chars/ms) \nlen =   8192:    1157k charAt(i),  1032k cbuff[i],  723k new[i],  2048k field access.   (chars/ms) \n</code></pre>\n\n<hr>\n\n<p><strong>CONCLUSION:</strong></p>\n\n<p>As you can see, server mode is much faster.</p>\n"},{"tags":[],"owner":{"account_id":734409,"reputation":7338,"user_id":699559,"accept_rate":61,"display_name":"C graphics"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1395885000,"creation_date":1395885000,"answer_id":22676782,"question_id":8894258,"body_markdown":"Despite @Saint Hill&#39;s answer if you consider the time complexity of **str.toCharArray()**, \r\n\r\nthe first one is faster even for very large strings. You can run the code below to see it for yourself.\r\n\r\n    \t\tchar [] ch = new char[1_000_000_00];\r\n\t\tString str = new String(ch); // to create a large string\r\n\r\n\t\t// ---&gt; from here\r\n\t\tlong currentTime = System.nanoTime();\r\n\t\tfor (int i = 0, n = str.length(); i &lt; n; i++) {\r\n\t\t\tchar c = str.charAt(i);\r\n\t\t}\r\n\t\t// ---&gt; to here\r\n\t\tSystem.out.println(&quot;str.charAt(i):&quot;+(System.nanoTime()-currentTime)/1000000.0 +&quot; (ms)&quot;);\r\n\r\n\t\t/**\r\n\t\t * \t ch = str.toCharArray() itself takes lots of time\t\r\n\t\t */\r\n\t\t// ---&gt; from here\r\n\t\tcurrentTime = System.nanoTime();\r\n\t\tch = str.toCharArray();\r\n\t\tfor (int i = 0, n = str.length(); i &lt; n; i++) {\r\n\t\t\tchar c = ch[i];\r\n\t\t}\r\n\t\t// ---&gt; to  here\r\n\t\tSystem.out.println(&quot;ch = str.toCharArray() + c = ch[i] :&quot;+(System.nanoTime()-currentTime)/1000000.0 +&quot; (ms)&quot;);\r\n\r\n\r\n\r\noutput:\r\n\r\n    str.charAt(i):5.492102 (ms)\r\n    ch = str.toCharArray() + c = ch[i] :79.400064 (ms)\r\n\r\n","title":"Fastest way to iterate over all the chars in a String","body":"<p>Despite @Saint Hill's answer if you consider the time complexity of <strong>str.toCharArray()</strong>, </p>\n\n<p>the first one is faster even for very large strings. You can run the code below to see it for yourself.</p>\n\n<pre><code>        char [] ch = new char[1_000_000_00];\n    String str = new String(ch); // to create a large string\n\n    // ---&gt; from here\n    long currentTime = System.nanoTime();\n    for (int i = 0, n = str.length(); i &lt; n; i++) {\n        char c = str.charAt(i);\n    }\n    // ---&gt; to here\n    System.out.println(\"str.charAt(i):\"+(System.nanoTime()-currentTime)/1000000.0 +\" (ms)\");\n\n    /**\n     *   ch = str.toCharArray() itself takes lots of time   \n     */\n    // ---&gt; from here\n    currentTime = System.nanoTime();\n    ch = str.toCharArray();\n    for (int i = 0, n = str.length(); i &lt; n; i++) {\n        char c = ch[i];\n    }\n    // ---&gt; to  here\n    System.out.println(\"ch = str.toCharArray() + c = ch[i] :\"+(System.nanoTime()-currentTime)/1000000.0 +\" (ms)\");\n</code></pre>\n\n<p>output:</p>\n\n<pre><code>str.charAt(i):5.492102 (ms)\nch = str.toCharArray() + c = ch[i] :79.400064 (ms)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7872510,"reputation":95,"user_id":5949290,"display_name":"viki s"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1501175846,"creation_date":1501175846,"answer_id":45357191,"question_id":8894258,"body_markdown":"`String.toCharArray()` creates new char array, means allocation of memory of string length, then copies original char array of string using `System.arraycopy()` and then returns this copy to caller.\r\n String.charAt() returns character at position `i` from original copy, that&#39;s why `String.charAt()` will be faster than `String.toCharArray()`.\r\nAlthough, `String.toCharArray()` returns copy and not char from original String array, where `String.charAt()` returns character from original char array.\r\nCode below returns value at the specified index of this string.\r\n\r\n    public char charAt(int index) {\r\n        if ((index &lt; 0) || (index &gt;= value.length)) {\r\n            throw new StringIndexOutOfBoundsException(index);\r\n        }\r\n        return value[index];\r\n    }\r\n   code below returns a newly allocated character array whose length is the length of this string\r\n\r\n    public char[] toCharArray() {\r\n        // Cannot use Arrays.copyOf because of class initialization order issues\r\n        char result[] = new char[value.length];\r\n        System.arraycopy(value, 0, result, 0, value.length);\r\n        return result;\r\n    }","title":"Fastest way to iterate over all the chars in a String","body":"<p><code>String.toCharArray()</code> creates new char array, means allocation of memory of string length, then copies original char array of string using <code>System.arraycopy()</code> and then returns this copy to caller.\n String.charAt() returns character at position <code>i</code> from original copy, that's why <code>String.charAt()</code> will be faster than <code>String.toCharArray()</code>.\nAlthough, <code>String.toCharArray()</code> returns copy and not char from original String array, where <code>String.charAt()</code> returns character from original char array.\nCode below returns value at the specified index of this string.</p>\n\n<pre><code>public char charAt(int index) {\n    if ((index &lt; 0) || (index &gt;= value.length)) {\n        throw new StringIndexOutOfBoundsException(index);\n    }\n    return value[index];\n}\n</code></pre>\n\n<p>code below returns a newly allocated character array whose length is the length of this string</p>\n\n<pre><code>public char[] toCharArray() {\n    // Cannot use Arrays.copyOf because of class initialization order issues\n    char result[] = new char[value.length];\n    System.arraycopy(value, 0, result, 0, value.length);\n    return result;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23551,"reputation":30672,"user_id":59087,"accept_rate":99,"display_name":"Dave Jarvis"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1667317659,"creation_date":1660420057,"answer_id":73347224,"question_id":8894258,"body_markdown":"In many real-world scenarios, both the character value and the index into the original string are necessary. Here&#39;s another suite of `String` iteration benchmarks, tested using openjdk version &quot;19.0.1&quot; 2022-10-18 and JMH 1.35.\r\n\r\n## Source Code\r\n\r\n``` java\r\n/**\r\n * Iterates over a string, much like {@link CharacterIterator}, but faster.\r\n * &lt;p&gt;\r\n * &lt;strong&gt;Caution:&lt;/strong&gt; This class offers minimal bounds checking to eke\r\n * out some efficiency.\r\n * &lt;/p&gt;\r\n */\r\npublic final class FastCharacterIterator {\r\n\r\n  private final String mS;\r\n  private final int mLen;\r\n\r\n  /**\r\n   * Starts at 0, not guaranteed to be within bounds.\r\n   */\r\n  private int mPos;\r\n\r\n  /**\r\n   * Constructs a new iterator that can advance through the given string\r\n   * one character at a time.\r\n   *\r\n   * @param s The string to iterate.\r\n   */\r\n  public FastCharacterIterator( final String s ) {\r\n    assert s != null;\r\n\r\n    mS = s;\r\n    mLen = s.length();\r\n  }\r\n\r\n  /**\r\n   * Returns the iterated index. The return value is not guaranteed to be\r\n   * within the string bounds.\r\n   *\r\n   * @return The iterated index.\r\n   */\r\n  public int index() {\r\n    return mPos;\r\n  }\r\n\r\n  /**\r\n   * Returns the character at the currently iterated position in the string.\r\n   * This method performs bounds checking by catching an exception because\r\n   * usually parsing is complete when there are no more characters to iterate,\r\n   * meaning that 99.99% of the time, explicit bounds checking is superfluous.\r\n   *\r\n   * @return {@link CharacterIterator#DONE} if there are no more characters.\r\n   */\r\n  public char current() {\r\n    try {\r\n      return mS.charAt( mPos );\r\n    } catch( final Exception ex ) {\r\n      return DONE;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Returns the next character in the string and consumes it.\r\n   *\r\n   * @return {@link CharacterIterator#DONE} if there are no more characters.\r\n   */\r\n  public char advance() {\r\n    try {\r\n      return mS.charAt( ++mPos );\r\n    } catch( final Exception ex ) {\r\n      return DONE;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Returns the next character in the string without consuming it. Multiple\r\n   * consecutive calls to this method will return the same value.\r\n   *\r\n   * @return {@link CharacterIterator#DONE} if there are no more characters.\r\n   */\r\n  public char peek() {\r\n    try {\r\n      return mS.charAt( mPos + 1 );\r\n    } catch( final Exception ex ) {\r\n      return DONE;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Advances to the next character in the string, without bounds checking.\r\n   */\r\n  public void next() {\r\n    mPos++;\r\n  }\r\n\r\n  /**\r\n   * Advances to the previous character in the string, without bounds checking.\r\n   */\r\n  public void prev() {\r\n    mPos--;\r\n  }\r\n\r\n  /**\r\n   * Answers whether {@link #next()} followed by {@link #current()} is safe.\r\n   *\r\n   * @return {@code true} if there are more characters to be iterated.\r\n   */\r\n  public boolean hasNext() {\r\n    return mPos &lt; mLen;\r\n  }\r\n\r\n  /**\r\n   * Parse all characters that match a given function.\r\n   *\r\n   * @param f The function that determines when skipping stops.\r\n   */\r\n  @SuppressWarnings( &quot;StatementWithEmptyBody&quot; )\r\n  public void skip( final Function&lt;Character, Boolean&gt; f ) {\r\n    assert f != null;\r\n\r\n    while( f.apply( advance() ) ) ;\r\n\r\n    // The loop always overshoots by one character.\r\n    prev();\r\n  }\r\n\r\n  /**\r\n   * Creates a string from a subset of consecutive characters in the string\r\n   * being iterated. The calling class is responsible for bounds-checking.\r\n   *\r\n   * @param began The starting index, must be greater than or equal to zero\r\n   *              and less than or equal to {@code ended}.\r\n   * @param ended The ending index, must be less than the string length.\r\n   * @return A substring of the iterated string.\r\n   * @throws IndexOutOfBoundsException Either or both parameters exceed the\r\n   *                                   string&#39;s boundaries.\r\n   */\r\n  public String substring( final int began, final int ended ) {\r\n    assert began &gt;= 0;\r\n    assert began &lt;= ended;\r\n    assert ended &lt; mLen;\r\n\r\n    return mS.substring( began, ended );\r\n  }\r\n}\r\n\r\n```\r\n\r\n## Testing Code\r\n\r\nThe full source code used for testing:\r\n\r\n``` java\r\nimport com.whitemagicsoftware.keenquotes.util.FastCharacterIterator;\r\nimport org.openjdk.jmh.annotations.Benchmark;\r\n\r\nimport java.text.StringCharacterIterator;\r\nimport java.util.StringTokenizer;\r\nimport java.util.concurrent.atomic.AtomicInteger;\r\n\r\nimport static java.lang.Math.random;\r\nimport static java.text.CharacterIterator.DONE;\r\n\r\n/**\r\n * Higher scores mean faster code:\r\n *\r\n * &lt;pre&gt;\r\n * Benchmark                     Mode   Cnt    Score    Error  Units\r\n * test_CharArrayIterator        thrpt   25  753.960 &#177;  0.972  ops/s\r\n * test_CharAtIterator           thrpt   25  878.016 &#177;  0.884  ops/s\r\n * test_FastCharacterIterator    thrpt   25  803.041 &#177; 48.422  ops/s\r\n * test_StreamIterator           thrpt   25  101.416 &#177;  0.053  ops/s\r\n * test_StringCharacterIterator  thrpt   25  580.341 &#177;  0.432  ops/s\r\n * test_StringTokenizer          thrpt   25  174.121 &#177;  8.282  ops/s\r\n * &lt;/pre&gt;\r\n */\r\n@SuppressWarnings( &quot;unused&quot; )\r\npublic class StringIterationBenchmark {\r\n  private static final int STRLEN = 1024 * 1024;\r\n  private static final String CHARSET =\r\n    &quot;ABCDEFGHIJKLM NOPQRSTUVWXYZ abcdefghijklm nopqrstuvxyz 01234 5 6789&quot;;\r\n\r\n  private static final String sText;\r\n\r\n  static {\r\n    final var len = CHARSET.length();\r\n    final var buffer = new StringBuilder( STRLEN );\r\n\r\n    for( var i = 0; i &lt; STRLEN; i++ ) {\r\n      buffer.append( CHARSET.charAt( (int) (len * random()) ) );\r\n    }\r\n\r\n    sText = buffer.toString();\r\n  }\r\n\r\n  private static String getText() {\r\n    return sText;\r\n  }\r\n\r\n  @Benchmark\r\n  public void test_FastCharacterIterator() {\r\n    final var s = getText();\r\n    final var i = new FastCharacterIterator( s );\r\n    var spaces = 0;\r\n\r\n    char ch = &#39; &#39;;\r\n\r\n    while( (ch = i.advance()) != DONE ) {\r\n      if( ch == &#39; &#39; ) {\r\n        spaces++;\r\n      }\r\n    }\r\n\r\n    fail( i.index(), s.length() );\r\n  }\r\n\r\n  @Benchmark\r\n  public void test_CharAtIterator() {\r\n    final var s = getText();\r\n    final var length = s.length();\r\n    var index = 0;\r\n    var spaces = 0;\r\n\r\n    while( index &lt; length ) {\r\n      final var ch = s.charAt( index );\r\n\r\n      if( ch == &#39; &#39; ) {\r\n        spaces++;\r\n      }\r\n\r\n      index++;\r\n    }\r\n\r\n    fail( index, length );\r\n  }\r\n\r\n  @Benchmark\r\n  public void test_StringCharacterIterator() {\r\n    final var s = getText();\r\n    final var i = new StringCharacterIterator( s );\r\n    var index = 0;\r\n    var spaces = 0;\r\n\r\n    char ch = &#39; &#39;;\r\n\r\n    while( ch != DONE ) {\r\n      ch = i.next();\r\n\r\n      if( ch == &#39; &#39; ) {\r\n        spaces++;\r\n      }\r\n\r\n      index++;\r\n    }\r\n\r\n    fail( index, s.length() );\r\n  }\r\n\r\n  @Benchmark\r\n  public void test_CharArrayIterator() {\r\n    final var s = getText();\r\n    final var i = s.toCharArray();\r\n    var index = 0;\r\n    var spaces = 0;\r\n\r\n    for( final var ch : i ) {\r\n      if( ch == &#39; &#39; ) {\r\n        spaces++;\r\n      }\r\n\r\n      index++;\r\n    }\r\n\r\n    fail( index, s.length() );\r\n  }\r\n\r\n  @Benchmark\r\n  public void test_StringTokenizer() {\r\n    final var s = getText();\r\n    final var i = new StringTokenizer( s, &quot; &quot;, true );\r\n    var index = 0;\r\n    var spaces = 0;\r\n\r\n    while( i.hasMoreTokens() ) {\r\n      final var token = i.nextToken();\r\n\r\n      if( token.isBlank() ) {\r\n        spaces++;\r\n      }\r\n\r\n      index += token.length();\r\n    }\r\n\r\n    fail( index, s.length() );\r\n  }\r\n\r\n  @Benchmark\r\n  public void test_StreamIterator() {\r\n    final var s = getText();\r\n    final var index = new AtomicInteger();\r\n    final var spaces = new AtomicInteger();\r\n\r\n    s.chars().forEach( codepoint -&gt; {\r\n      final var ch = Character.valueOf( (char) codepoint );\r\n\r\n      if( ch == &#39; &#39; ) {\r\n        spaces.incrementAndGet();\r\n      }\r\n\r\n      index.incrementAndGet();\r\n    } );\r\n\r\n    fail( index.get(), s.length() );\r\n  }\r\n\r\n  private static void fail( final int index, final int length ) {\r\n    if( index != length ) {\r\n      throw new RuntimeException( &quot;Fail&quot; );\r\n    }\r\n  }\r\n}\r\n```\r\n\r\n## Comments\r\n\r\nFeel free to improve the code and re-run the benchmarks. Gripes will be sent to `/dev/null`. StackOverflow is a wiki.\r\n\r\n\r\n  [1]: https://github.com/DaveJarvis/keenquotes/blob/main/src/main/java/com/whitemagicsoftware/keenquotes/util/FastCharacterIterator.java","title":"Fastest way to iterate over all the chars in a String","body":"<p>In many real-world scenarios, both the character value and the index into the original string are necessary. Here's another suite of <code>String</code> iteration benchmarks, tested using openjdk version &quot;19.0.1&quot; 2022-10-18 and JMH 1.35.</p>\n<h2>Source Code</h2>\n<pre class=\"lang-java prettyprint-override\"><code>/**\n * Iterates over a string, much like {@link CharacterIterator}, but faster.\n * &lt;p&gt;\n * &lt;strong&gt;Caution:&lt;/strong&gt; This class offers minimal bounds checking to eke\n * out some efficiency.\n * &lt;/p&gt;\n */\npublic final class FastCharacterIterator {\n\n  private final String mS;\n  private final int mLen;\n\n  /**\n   * Starts at 0, not guaranteed to be within bounds.\n   */\n  private int mPos;\n\n  /**\n   * Constructs a new iterator that can advance through the given string\n   * one character at a time.\n   *\n   * @param s The string to iterate.\n   */\n  public FastCharacterIterator( final String s ) {\n    assert s != null;\n\n    mS = s;\n    mLen = s.length();\n  }\n\n  /**\n   * Returns the iterated index. The return value is not guaranteed to be\n   * within the string bounds.\n   *\n   * @return The iterated index.\n   */\n  public int index() {\n    return mPos;\n  }\n\n  /**\n   * Returns the character at the currently iterated position in the string.\n   * This method performs bounds checking by catching an exception because\n   * usually parsing is complete when there are no more characters to iterate,\n   * meaning that 99.99% of the time, explicit bounds checking is superfluous.\n   *\n   * @return {@link CharacterIterator#DONE} if there are no more characters.\n   */\n  public char current() {\n    try {\n      return mS.charAt( mPos );\n    } catch( final Exception ex ) {\n      return DONE;\n    }\n  }\n\n  /**\n   * Returns the next character in the string and consumes it.\n   *\n   * @return {@link CharacterIterator#DONE} if there are no more characters.\n   */\n  public char advance() {\n    try {\n      return mS.charAt( ++mPos );\n    } catch( final Exception ex ) {\n      return DONE;\n    }\n  }\n\n  /**\n   * Returns the next character in the string without consuming it. Multiple\n   * consecutive calls to this method will return the same value.\n   *\n   * @return {@link CharacterIterator#DONE} if there are no more characters.\n   */\n  public char peek() {\n    try {\n      return mS.charAt( mPos + 1 );\n    } catch( final Exception ex ) {\n      return DONE;\n    }\n  }\n\n  /**\n   * Advances to the next character in the string, without bounds checking.\n   */\n  public void next() {\n    mPos++;\n  }\n\n  /**\n   * Advances to the previous character in the string, without bounds checking.\n   */\n  public void prev() {\n    mPos--;\n  }\n\n  /**\n   * Answers whether {@link #next()} followed by {@link #current()} is safe.\n   *\n   * @return {@code true} if there are more characters to be iterated.\n   */\n  public boolean hasNext() {\n    return mPos &lt; mLen;\n  }\n\n  /**\n   * Parse all characters that match a given function.\n   *\n   * @param f The function that determines when skipping stops.\n   */\n  @SuppressWarnings( &quot;StatementWithEmptyBody&quot; )\n  public void skip( final Function&lt;Character, Boolean&gt; f ) {\n    assert f != null;\n\n    while( f.apply( advance() ) ) ;\n\n    // The loop always overshoots by one character.\n    prev();\n  }\n\n  /**\n   * Creates a string from a subset of consecutive characters in the string\n   * being iterated. The calling class is responsible for bounds-checking.\n   *\n   * @param began The starting index, must be greater than or equal to zero\n   *              and less than or equal to {@code ended}.\n   * @param ended The ending index, must be less than the string length.\n   * @return A substring of the iterated string.\n   * @throws IndexOutOfBoundsException Either or both parameters exceed the\n   *                                   string's boundaries.\n   */\n  public String substring( final int began, final int ended ) {\n    assert began &gt;= 0;\n    assert began &lt;= ended;\n    assert ended &lt; mLen;\n\n    return mS.substring( began, ended );\n  }\n}\n\n</code></pre>\n<h2>Testing Code</h2>\n<p>The full source code used for testing:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import com.whitemagicsoftware.keenquotes.util.FastCharacterIterator;\nimport org.openjdk.jmh.annotations.Benchmark;\n\nimport java.text.StringCharacterIterator;\nimport java.util.StringTokenizer;\nimport java.util.concurrent.atomic.AtomicInteger;\n\nimport static java.lang.Math.random;\nimport static java.text.CharacterIterator.DONE;\n\n/**\n * Higher scores mean faster code:\n *\n * &lt;pre&gt;\n * Benchmark                     Mode   Cnt    Score    Error  Units\n * test_CharArrayIterator        thrpt   25  753.960 ±  0.972  ops/s\n * test_CharAtIterator           thrpt   25  878.016 ±  0.884  ops/s\n * test_FastCharacterIterator    thrpt   25  803.041 ± 48.422  ops/s\n * test_StreamIterator           thrpt   25  101.416 ±  0.053  ops/s\n * test_StringCharacterIterator  thrpt   25  580.341 ±  0.432  ops/s\n * test_StringTokenizer          thrpt   25  174.121 ±  8.282  ops/s\n * &lt;/pre&gt;\n */\n@SuppressWarnings( &quot;unused&quot; )\npublic class StringIterationBenchmark {\n  private static final int STRLEN = 1024 * 1024;\n  private static final String CHARSET =\n    &quot;ABCDEFGHIJKLM NOPQRSTUVWXYZ abcdefghijklm nopqrstuvxyz 01234 5 6789&quot;;\n\n  private static final String sText;\n\n  static {\n    final var len = CHARSET.length();\n    final var buffer = new StringBuilder( STRLEN );\n\n    for( var i = 0; i &lt; STRLEN; i++ ) {\n      buffer.append( CHARSET.charAt( (int) (len * random()) ) );\n    }\n\n    sText = buffer.toString();\n  }\n\n  private static String getText() {\n    return sText;\n  }\n\n  @Benchmark\n  public void test_FastCharacterIterator() {\n    final var s = getText();\n    final var i = new FastCharacterIterator( s );\n    var spaces = 0;\n\n    char ch = ' ';\n\n    while( (ch = i.advance()) != DONE ) {\n      if( ch == ' ' ) {\n        spaces++;\n      }\n    }\n\n    fail( i.index(), s.length() );\n  }\n\n  @Benchmark\n  public void test_CharAtIterator() {\n    final var s = getText();\n    final var length = s.length();\n    var index = 0;\n    var spaces = 0;\n\n    while( index &lt; length ) {\n      final var ch = s.charAt( index );\n\n      if( ch == ' ' ) {\n        spaces++;\n      }\n\n      index++;\n    }\n\n    fail( index, length );\n  }\n\n  @Benchmark\n  public void test_StringCharacterIterator() {\n    final var s = getText();\n    final var i = new StringCharacterIterator( s );\n    var index = 0;\n    var spaces = 0;\n\n    char ch = ' ';\n\n    while( ch != DONE ) {\n      ch = i.next();\n\n      if( ch == ' ' ) {\n        spaces++;\n      }\n\n      index++;\n    }\n\n    fail( index, s.length() );\n  }\n\n  @Benchmark\n  public void test_CharArrayIterator() {\n    final var s = getText();\n    final var i = s.toCharArray();\n    var index = 0;\n    var spaces = 0;\n\n    for( final var ch : i ) {\n      if( ch == ' ' ) {\n        spaces++;\n      }\n\n      index++;\n    }\n\n    fail( index, s.length() );\n  }\n\n  @Benchmark\n  public void test_StringTokenizer() {\n    final var s = getText();\n    final var i = new StringTokenizer( s, &quot; &quot;, true );\n    var index = 0;\n    var spaces = 0;\n\n    while( i.hasMoreTokens() ) {\n      final var token = i.nextToken();\n\n      if( token.isBlank() ) {\n        spaces++;\n      }\n\n      index += token.length();\n    }\n\n    fail( index, s.length() );\n  }\n\n  @Benchmark\n  public void test_StreamIterator() {\n    final var s = getText();\n    final var index = new AtomicInteger();\n    final var spaces = new AtomicInteger();\n\n    s.chars().forEach( codepoint -&gt; {\n      final var ch = Character.valueOf( (char) codepoint );\n\n      if( ch == ' ' ) {\n        spaces.incrementAndGet();\n      }\n\n      index.incrementAndGet();\n    } );\n\n    fail( index.get(), s.length() );\n  }\n\n  private static void fail( final int index, final int length ) {\n    if( index != length ) {\n      throw new RuntimeException( &quot;Fail&quot; );\n    }\n  }\n}\n</code></pre>\n<h2>Comments</h2>\n<p>Feel free to improve the code and re-run the benchmarks. Gripes will be sent to <code>/dev/null</code>. StackOverflow is a wiki.</p>\n"}],"owner":{"account_id":69149,"reputation":233552,"user_id":201359,"accept_rate":100,"display_name":"&#211;scar L&#243;pez"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":291201,"favorite_count":0,"down_vote_count":3,"up_vote_count":190,"accepted_answer_id":11876086,"answer_count":9,"score":187,"last_activity_date":1667317659,"creation_date":1326801733,"question_id":8894258,"body_markdown":"In Java, what would the fastest way to iterate over all the chars in a String, this:\r\n\r\n\tString str = &quot;a really, really long string&quot;;\r\n\tfor (int i = 0, n = str.length(); i &lt; n; i++) {\r\n\t\tchar c = str.charAt(i);\r\n\t}\r\n\r\n\r\nOr this:\r\n\r\n\tchar[] chars = str.toCharArray();\r\n\tfor (int i = 0, n = chars.length; i &lt; n; i++) {\r\n\t\tchar c = chars[i];\r\n\t}\r\n\r\n**EDIT :**\r\n\r\nWhat I&#39;d like to know is if the cost of repeatedly calling the `charAt` method during a long iteration ends up being either less than or greater than the cost of performing a single call to `toCharArray` at the beginning and then directly accessing the array during the iteration.\r\n\r\nIt&#39;d be great if someone could provide a robust benchmark for different string lengths, having in mind JIT warm-up time, JVM start-up time, etc. and not just the difference between two calls to `System.currentTimeMillis()`.","title":"Fastest way to iterate over all the chars in a String","body":"<p>In Java, what would the fastest way to iterate over all the chars in a String, this:</p>\n\n<pre><code>String str = \"a really, really long string\";\nfor (int i = 0, n = str.length(); i &lt; n; i++) {\n    char c = str.charAt(i);\n}\n</code></pre>\n\n<p>Or this:</p>\n\n<pre><code>char[] chars = str.toCharArray();\nfor (int i = 0, n = chars.length; i &lt; n; i++) {\n    char c = chars[i];\n}\n</code></pre>\n\n<p><strong>EDIT :</strong></p>\n\n<p>What I'd like to know is if the cost of repeatedly calling the <code>charAt</code> method during a long iteration ends up being either less than or greater than the cost of performing a single call to <code>toCharArray</code> at the beginning and then directly accessing the array during the iteration.</p>\n\n<p>It'd be great if someone could provide a robust benchmark for different string lengths, having in mind JIT warm-up time, JVM start-up time, etc. and not just the difference between two calls to <code>System.currentTimeMillis()</code>.</p>\n"},{"tags":["java","google-cloud-firestore","protocol-buffers","grpc"],"comments":[{"owner":{"account_id":301516,"reputation":34141,"user_id":609290,"accept_rate":62,"display_name":"DazWilkin"},"score":0,"creation_date":1667173523,"post_id":74246067,"comment_id":131101995,"body_markdown":"Google (increasingly) uses Protobuf to define the types for its APIs even though the majority of its services continue to expose REST endpoints (only a few are gRPC). Using Protobuf provides a mechanism for defining types one e.g. [`query.proto`](https://github.com/googleapis/googleapis/blob/master/google/firestore/v1/query.proto) and using these in any language (particularly those languages it supports in its SDKs). With the REST endpoints, the libraries marshal the protos are JSON and ship them to/from servers.","body":"Google (increasingly) uses Protobuf to define the types for its APIs even though the majority of its services continue to expose REST endpoints (only a few are gRPC). Using Protobuf provides a mechanism for defining types one e.g. <a href=\"https://github.com/googleapis/googleapis/blob/master/google/firestore/v1/query.proto\" rel=\"nofollow noreferrer\"><code>query.proto</code></a> and using these in any language (particularly those languages it supports in its SDKs). With the REST endpoints, the libraries marshal the protos are JSON and ship them to/from servers."},{"owner":{"account_id":301516,"reputation":34141,"user_id":609290,"accept_rate":62,"display_name":"DazWilkin"},"score":0,"creation_date":1667173595,"post_id":74246067,"comment_id":131102001,"body_markdown":"I was unaware of the [`toProto`](https://cloud.google.com/java/docs/reference/google-cloud-firestore/latest/com.google.cloud.firestore.Query#com_google_cloud_firestore_Query_toProto__) until your question and think this -- and related -- method(s) aren&#39;t surfaced in every Firestore language client (e.g. not in [Go](https://pkg.go.dev/cloud.google.com/go/firestore#Query) or [Python](https://cloud.google.com/python/docs/reference/firestore/latest/google.cloud.firestore_v1.query.Query#google_cloud_firestore_v1_query_Query_get)).","body":"I was unaware of the <a href=\"https://cloud.google.com/java/docs/reference/google-cloud-firestore/latest/com.google.cloud.firestore.Query#com_google_cloud_firestore_Query_toProto__\" rel=\"nofollow noreferrer\"><code>toProto</code></a> until your question and think this -- and related -- method(s) aren&#39;t surfaced in every Firestore language client (e.g. not in <a href=\"https://pkg.go.dev/cloud.google.com/go/firestore#Query\" rel=\"nofollow noreferrer\">Go</a> or <a href=\"https://cloud.google.com/python/docs/reference/firestore/latest/google.cloud.firestore_v1.query.Query#google_cloud_firestore_v1_query_Query_get\" rel=\"nofollow noreferrer\">Python</a>)."},{"owner":{"account_id":301516,"reputation":34141,"user_id":609290,"accept_rate":62,"display_name":"DazWilkin"},"score":0,"creation_date":1667174065,"post_id":74246067,"comment_id":131102067,"body_markdown":"I don&#39;t know the answer to your question, but you&#39;ve three options. Where not surfaced through the SDK, use the generated proto bindings to marshal|unmarshal queries as binary protos. Or, perhaps more simply JSON format the protos. The text format that you include in your questions isn&#39;t as common and may be more challenging to use.","body":"I don&#39;t know the answer to your question, but you&#39;ve three options. Where not surfaced through the SDK, use the generated proto bindings to marshal|unmarshal queries as binary protos. Or, perhaps more simply JSON format the protos. The text format that you include in your questions isn&#39;t as common and may be more challenging to use."},{"owner":{"account_id":301516,"reputation":34141,"user_id":609290,"accept_rate":62,"display_name":"DazWilkin"},"score":0,"creation_date":1667186911,"post_id":74246067,"comment_id":131103604,"body_markdown":"Actually, the Go library does include [`Deserialize`](https://pkg.go.dev/cloud.google.com/go/firestore#Query.Deserialize) and [`Serialize`](https://pkg.go.dev/cloud.google.com/go/firestore#Query.Serialize) methods described &quot;This could be useful, for instance, if executing a query formed in one process in another.&quot;","body":"Actually, the Go library does include <a href=\"https://pkg.go.dev/cloud.google.com/go/firestore#Query.Deserialize\" rel=\"nofollow noreferrer\"><code>Deserialize</code></a> and <a href=\"https://pkg.go.dev/cloud.google.com/go/firestore#Query.Serialize\" rel=\"nofollow noreferrer\"><code>Serialize</code></a> methods described &quot;This could be useful, for instance, if executing a query formed in one process in another.&quot;"}],"answers":[{"tags":[],"owner":{"account_id":17024750,"reputation":152,"user_id":12316314,"display_name":"garawaa garawaa"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1667317654,"creation_date":1667317654,"answer_id":74278431,"question_id":74246067,"body_markdown":"I solved this problem using java String.format and StructuredQuery class.\r\nThanks all for answer.","title":"How to generate languages query method codes for firestore query protos?","body":"<p>I solved this problem using java String.format and StructuredQuery class.\nThanks all for answer.</p>\n"}],"owner":{"account_id":17024750,"reputation":152,"user_id":12316314,"display_name":"garawaa garawaa"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1667317654,"creation_date":1667053164,"question_id":74246067,"body_markdown":"I&#39;m developing a desktop application with firestore database in java. \r\nI want to generate query method for specific programming languages that supports protobuf.\r\nMy question is is there any way to auto generate query function or methods using google protobuf framework?\r\n\r\nIn java \r\n\r\n    Query query= db.collection(&quot;col2&quot;).whereGreaterThanOrEqualTo(name, &quot;a&quot;).orderBy(name, Direction.ASCENDING).limit(50);\r\n    RunQueryRequest  runQueryRequest = query.toProto();\r\n    StructuredQuery structuredQuery = runQueryRequest.getStructuredQuery();\r\n    System.out.println(&quot;structuredQuery: &quot; + structuredQuery);\r\n\r\nThis code prints some proto formatted string like\r\n\r\n    from {\r\n      collection_id: &quot;col2&quot;\r\n    }\r\n    where {\r\n      field_filter {\r\n        field {\r\n          field_path: &quot;name&quot;\r\n        }\r\n        op: GREATER_THAN_OR_EQUAL\r\n        value {\r\n          string_value: &quot;a&quot;\r\n        }\r\n      }\r\n    }\r\n    order_by {\r\n      field {\r\n        field_path: &quot;name&quot;\r\n      }\r\n      direction: ASCENDING\r\n    }\r\n    limit {\r\n      value: 50\r\n    }\r\n\r\nI just want convert above java code to other languages using this proto string. But I don&#39;t know how to do it. Thank you for your answer.","title":"How to generate languages query method codes for firestore query protos?","body":"<p>I'm developing a desktop application with firestore database in java.\nI want to generate query method for specific programming languages that supports protobuf.\nMy question is is there any way to auto generate query function or methods using google protobuf framework?</p>\n<p>In java</p>\n<pre><code>Query query= db.collection(&quot;col2&quot;).whereGreaterThanOrEqualTo(name, &quot;a&quot;).orderBy(name, Direction.ASCENDING).limit(50);\nRunQueryRequest  runQueryRequest = query.toProto();\nStructuredQuery structuredQuery = runQueryRequest.getStructuredQuery();\nSystem.out.println(&quot;structuredQuery: &quot; + structuredQuery);\n</code></pre>\n<p>This code prints some proto formatted string like</p>\n<pre><code>from {\n  collection_id: &quot;col2&quot;\n}\nwhere {\n  field_filter {\n    field {\n      field_path: &quot;name&quot;\n    }\n    op: GREATER_THAN_OR_EQUAL\n    value {\n      string_value: &quot;a&quot;\n    }\n  }\n}\norder_by {\n  field {\n    field_path: &quot;name&quot;\n  }\n  direction: ASCENDING\n}\nlimit {\n  value: 50\n}\n</code></pre>\n<p>I just want convert above java code to other languages using this proto string. But I don't know how to do it. Thank you for your answer.</p>\n"},{"tags":["java","selenium","if-statement","dry","rest-assured"],"answers":[{"comments":[{"owner":{"account_id":16642027,"reputation":25,"user_id":12027299,"display_name":"Andrew Walker"},"score":0,"creation_date":1667308377,"post_id":74270464,"comment_id":131133415,"body_markdown":"Of course, why am I trying to do it all in one go when I can separate it out. Awesome, thanks Lucas","body":"Of course, why am I trying to do it all in one go when I can separate it out. Awesome, thanks Lucas"}],"tags":[],"owner":{"account_id":10263942,"reputation":5676,"user_id":7574461,"display_name":"lucas-nguyen-17"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1667264242,"creation_date":1667264242,"answer_id":74270464,"question_id":74264934,"body_markdown":"You can refactor like this.\r\n\r\n```java\r\nRequestSpecification reSpec = given().queryParam(THING, theThing);\r\nif(condition){\r\n    reSpec.queryParam(SPECIAL_THING, anotherThing);\r\n}\r\nreSpec.get();\r\n```","title":"How can I write this conditional if statement without duplicating function calls?","body":"<p>You can refactor like this.</p>\n<pre class=\"lang-java prettyprint-override\"><code>RequestSpecification reSpec = given().queryParam(THING, theThing);\nif(condition){\n    reSpec.queryParam(SPECIAL_THING, anotherThing);\n}\nreSpec.get();\n</code></pre>\n"}],"owner":{"account_id":16642027,"reputation":25,"user_id":12027299,"display_name":"Andrew Walker"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":66,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74270464,"answer_count":1,"score":0,"last_activity_date":1667317468,"creation_date":1667227028,"question_id":74264934,"body_markdown":"I&#39;d like to refactor this Java/RestAssured code to remove the if statement altogether\r\n\r\n    if (someCondition) {    \r\n        someRequestSpecification    \r\n            .given()    \r\n            .queryParam(THING, theThing)    \r\n            .queryParam(SPECIAL_THING, anotherThing)    \r\n            .get()\r\n    } else {    \r\n        someRequestSpecification    \r\n            .given()    \r\n            .queryParam(THING, theThing)    \r\n            .get()    \r\n    }\r\n\r\nIn other words I want to be able to omit the SPECIAL_THING param completely based on a condition but without having to duplicate the .given() code.\r\n\r\n\r\nCurrently I have the code working with the duplicated lines within an if statement but it&#39;s ugly.\r\n","title":"How can I write this conditional if statement without duplicating function calls?","body":"<p>I'd like to refactor this Java/RestAssured code to remove the if statement altogether</p>\n<pre><code>if (someCondition) {    \n    someRequestSpecification    \n        .given()    \n        .queryParam(THING, theThing)    \n        .queryParam(SPECIAL_THING, anotherThing)    \n        .get()\n} else {    \n    someRequestSpecification    \n        .given()    \n        .queryParam(THING, theThing)    \n        .get()    \n}\n</code></pre>\n<p>In other words I want to be able to omit the SPECIAL_THING param completely based on a condition but without having to duplicate the .given() code.</p>\n<p>Currently I have the code working with the duplicated lines within an if statement but it's ugly.</p>\n"},{"tags":["java","swing"],"comments":[{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":3,"creation_date":1667316864,"post_id":74278146,"comment_id":131136548,"body_markdown":"1) Don&#39;t use a while loop for animation. Instead, use a Swing Timer. 2) Don&#39;t override paint(). Instead override `paintComonent(...)`. 3) Don&#39;t invoke repaint() from a painting method. 4) The objects to be painted should be contained in the panel doing the paint, NOT the frame. 5) Don&#39;t call your class &quot;Panel&quot; and &quot;Frame&quot;. There are AWT components with that name and it is confusing. Class names should be more descriptive. 6) Check out: https://stackoverflow.com/a/54028681/131872 for an example that implements the above suggestions.","body":"1) Don&#39;t use a while loop for animation. Instead, use a Swing Timer. 2) Don&#39;t override paint(). Instead override <code>paintComonent(...)</code>. 3) Don&#39;t invoke repaint() from a painting method. 4) The objects to be painted should be contained in the panel doing the paint, NOT the frame. 5) Don&#39;t call your class &quot;Panel&quot; and &quot;Frame&quot;. There are AWT components with that name and it is confusing. Class names should be more descriptive. 6) Check out: <a href=\"https://stackoverflow.com/a/54028681/131872\">stackoverflow.com/a/54028681/131872</a> for an example that implements the above suggestions."},{"owner":{"account_id":114128,"reputation":50467,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":1,"creation_date":1667318449,"post_id":74278146,"comment_id":131137141,"body_markdown":"Here&#39;s a detailed explanation of a `Ball` class in a [Java classic Pong game](https://stackoverflow.com/questions/66732003/how-to-add-smooth-movement-to-my-java-game/66734544#66734544).","body":"Here&#39;s a detailed explanation of a <code>Ball</code> class in a <a href=\"https://stackoverflow.com/questions/66732003/how-to-add-smooth-movement-to-my-java-game/66734544#66734544\">Java classic Pong game</a>."},{"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"score":0,"creation_date":1667321224,"post_id":74278146,"comment_id":131138145,"body_markdown":"Here&#39;s and example of smooth transitions. [Bouncing Balls](https://stackoverflow.com/a/66833594/1552534).  They only bounce off the sides.  This also uses a timer as suggested.","body":"Here&#39;s and example of smooth transitions. <a href=\"https://stackoverflow.com/a/66833594/1552534\">Bouncing Balls</a>.  They only bounce off the sides.  This also uses a timer as suggested."},{"owner":{"account_id":22931746,"reputation":1,"user_id":17065903,"display_name":"Tonda"},"score":0,"creation_date":1668709303,"post_id":74278146,"comment_id":131478057,"body_markdown":"First thing, thank to you all for the answers.\nSecond thing: I tried to improve the code by implementing camickr suggestions and by &quot;taking inspiration&quot; from @WJS &#39;s code. This said I would still like to ask two things:\n1] Is the &quot;crispy&quot; ball movement (at high velocity) fixable? &#39;Cause I tried Gilbert&#39;s pong code an it has the same problem, even if mine is a bit different due to physics being implemented (gravity :D)\n2] What&#39;s the best way to implement a frame per second control system (&#39;cause I noticed that sometimes stuff moves faster for no apparent reason)","body":"First thing, thank to you all for the answers. Second thing: I tried to improve the code by implementing camickr suggestions and by &quot;taking inspiration&quot; from @WJS &#39;s code. This said I would still like to ask two things: 1] Is the &quot;crispy&quot; ball movement (at high velocity) fixable? &#39;Cause I tried Gilbert&#39;s pong code an it has the same problem, even if mine is a bit different due to physics being implemented (gravity :D) 2] What&#39;s the best way to implement a frame per second control system (&#39;cause I noticed that sometimes stuff moves faster for no apparent reason)"},{"owner":{"account_id":22931746,"reputation":1,"user_id":17065903,"display_name":"Tonda"},"score":0,"creation_date":1668710055,"post_id":74278146,"comment_id":131478335,"body_markdown":"also @WJS what is &quot;slope&quot; for in your code?","body":"also @WJS what is &quot;slope&quot; for in your code?"},{"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"score":0,"creation_date":1668711106,"post_id":74278146,"comment_id":131478678,"body_markdown":"Each ball has a default slope generated at random.  It is used to create the standard path of each ball.  It is later used when the balls collide with a side to ensure the angle comes off each side appropriately.   It wouldn&#39;t make sense for a ball to bounce off the side coming in at a 45 degree angle but bounce away at 90.  It must come off at 45 degrees (unless &quot;English&quot; were to be applied as in pool).   The only thing that changes is the direction.  If you comment out the default slope in the Ball class you will see a boring display of balls moving back and forth at the top of the window.","body":"Each ball has a default slope generated at random.  It is used to create the standard path of each ball.  It is later used when the balls collide with a side to ensure the angle comes off each side appropriately.   It wouldn&#39;t make sense for a ball to bounce off the side coming in at a 45 degree angle but bounce away at 90.  It must come off at 45 degrees (unless &quot;English&quot; were to be applied as in pool).   The only thing that changes is the direction.  If you comment out the default slope in the Ball class you will see a boring display of balls moving back and forth at the top of the window."},{"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"score":0,"creation_date":1668712119,"post_id":74278146,"comment_id":131479021,"body_markdown":"BTW,  in main, I should be doing the following to start the app. `SwingUtilities.invokeLater(()-&gt; new Bounce(PANEL_WIDTH, PANEL_HEIGHT).start());`","body":"BTW,  in main, I should be doing the following to start the app. <code>SwingUtilities.invokeLater(()-&gt; new Bounce(PANEL_WIDTH, PANEL_HEIGHT).start());</code>"},{"owner":{"account_id":22931746,"reputation":1,"user_id":17065903,"display_name":"Tonda"},"score":0,"creation_date":1668716826,"post_id":74278146,"comment_id":131480533,"body_markdown":"Ok but considering that the x and y components are indipendent (if two x are different their respective ball direction should be different) doesn&#39;t the slope became useless?","body":"Ok but considering that the x and y components are indipendent (if two x are different their respective ball direction should be different) doesn&#39;t the slope became useless?"},{"owner":{"account_id":22931746,"reputation":1,"user_id":17065903,"display_name":"Tonda"},"score":0,"creation_date":1668717001,"post_id":74278146,"comment_id":131480583,"body_markdown":"@WJS how does `SwingUtilities.invokeLater(()-&gt; new Bounce(PANEL_WIDTH, PANEL_HEIGHT).start());` work and y would u use that? (sry if I ask a lot of stuff but these are a lot of useful info and imma take advantage of that &gt;:D)","body":"@WJS how does <code>SwingUtilities.invokeLater(()-&gt; new Bounce(PANEL_WIDTH, PANEL_HEIGHT).start());</code> work and y would u use that? (sry if I ask a lot of stuff but these are a lot of useful info and imma take advantage of that &gt;:D)"},{"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"score":0,"creation_date":1668721240,"post_id":74278146,"comment_id":131481867,"body_markdown":"Check out [SwingUtilities.invokeLater](https://stackoverflow.com/questions/7196889/swingutilities-invokelater)","body":"Check out <a href=\"https://stackoverflow.com/questions/7196889/swingutilities-invokelater\">SwingUtilities.invokeLater</a>"}],"owner":{"account_id":22931746,"reputation":1,"user_id":17065903,"display_name":"Tonda"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1667317120,"creation_date":1667316317,"question_id":74278146,"body_markdown":"Basically when i update the ball in my flipper (an Oval created with Graphics2D) it teleports to his next location, which is what I want it to do, but I would much rather have a smooth animation (And I also fear the crispy movement is gonna be hard to deal with for collisions). \r\n\r\nSo is there a way to get smoother movement?\r\n\r\nThe main class:\r\n```\r\nimport Flipper.Ball;\r\nimport Flipper.Cabinet;\r\n\r\npublic class Main {\r\n\r\n    public static Cabinet cabinet;\r\n    public static Ball ball;\r\n\r\n    public static void main(String[] args) throws InterruptedException {\r\n        new Frame();\r\n        cabinet = new Cabinet();\r\n        ball = new Ball();\r\n\r\n        while (true)\r\n            update();\r\n    }\r\n\r\n    private static void update() throws InterruptedException {\r\n        ball.calcSpeed();\r\n        ball.move();\r\n    }\r\n}\r\n```\r\n\r\nFrame class:\r\n\r\n```\r\nimport javax.swing.*;\r\n\r\npublic class Frame extends JFrame {\r\n\r\n    Frame() {\r\n        this.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n        this.add(new Panel());\r\n        this.pack();\r\n        this.setLocationRelativeTo(null);\r\n        this.setVisible(true);\r\n    }\r\n}\r\n```\r\n\r\nPanel class (I left out all of the useless KeyListener/MouseListener methods that i haven&#39;t used yet):\r\n\r\n```\r\nmport javax.swing.*;\r\nimport java.awt.*;\r\nimport java.awt.event.KeyEvent;\r\nimport java.awt.event.KeyListener;\r\nimport java.awt.event.MouseEvent;\r\nimport java.awt.event.MouseListener;\r\n\r\npublic class Panel extends JPanel implements KeyListener, MouseListener {\r\n\r\n    Panel() {\r\n        this.setPreferredSize(new Dimension(Constant.WIDTH, Constant.HEIGHT));\r\n        this.setFocusable(true);\r\n        this.addMouseListener(this);\r\n        this.addKeyListener(this);\r\n    }\r\n\r\n    @Override\r\n    public void paint(Graphics g) {\r\n        super.paint(g);\r\n        Graphics2D g2 = (Graphics2D) g;\r\n\r\n        g2.setColor(Color.BLACK);\r\n        g2.draw(Main.cabinet.getShape());\r\n\r\n        g2.setColor(Color.BLUE);\r\n        g2.fillOval(Main.ball.getX(), Main.ball.getY(), Constant.BALLSIZE, Constant.BALLSIZE);\r\n\r\n        repaint();\r\n    }\r\n}\r\n```\r\n\r\nFlipper classes:\r\n\r\n```\r\npackage Flipper;\r\n\r\nimport main.Constant;\r\n\r\nimport java.awt.*;\r\n\r\npublic class Cabinet {\r\n\r\n    private Rectangle shape;\r\n    public Cabinet() {\r\n        this.shape = new Rectangle(Constant.WIDTH, Constant.HEIGHT);\r\n    }\r\n\r\n    public Rectangle getShape() {\r\n        return shape;\r\n    }\r\n}\r\n```\r\n\r\n```\r\npackage Flipper;\r\n\r\nimport main.Constant;\r\n\r\nimport java.util.concurrent.TimeUnit;\r\n\r\npublic class Ball {\r\n\r\n    private int x;\r\n    private int y;\r\n    private int xSpeed = 1;\r\n    private int ySpeed = 10;\r\n\r\n    public Ball() {\r\n        this.x = 230;\r\n        this.y = 160;\r\n    }\r\n\r\n    public void calcSpeed() {\r\n        if (y &gt;= Constant.HEIGHT - Constant.BALLSIZE)\r\n            ySpeed = ySpeed * -1;\r\n        if (y &lt;= 0)\r\n            ySpeed = ySpeed * -1;\r\n    }\r\n\r\n    public void move() throws InterruptedException {\r\n        y += ySpeed;\r\n\r\n        TimeUnit.MILLISECONDS.sleep(50);\r\n    }\r\n\r\n    // Getters\r\n\r\n\r\n    public int getX() {\r\n        return x;\r\n    }\r\n\r\n    public int getY() {\r\n        return y;\r\n    }\r\n\r\n    public int getxSpeed() {\r\n        return xSpeed;\r\n    }\r\n\r\n    public int getySpeed() {\r\n        return ySpeed;\r\n    }\r\n\r\n\r\n    // Setters\r\n\r\n    public void setX(int x) {\r\n        this.x = x;\r\n    }\r\n\r\n    public void setY(int y) {\r\n        this.y = y;\r\n    }\r\n\r\n    public void setxSpeed(int xSpeed) {\r\n        this.xSpeed = xSpeed;\r\n    }\r\n\r\n    public void setySpeed(int ySpeed) {\r\n        this.ySpeed = ySpeed;\r\n    }\r\n}\r\n\r\n```\r\n\r\n","title":"How do I make the movement of an Graphics2D Oval smooth","body":"<p>Basically when i update the ball in my flipper (an Oval created with Graphics2D) it teleports to his next location, which is what I want it to do, but I would much rather have a smooth animation (And I also fear the crispy movement is gonna be hard to deal with for collisions).</p>\n<p>So is there a way to get smoother movement?</p>\n<p>The main class:</p>\n<pre><code>import Flipper.Ball;\nimport Flipper.Cabinet;\n\npublic class Main {\n\n    public static Cabinet cabinet;\n    public static Ball ball;\n\n    public static void main(String[] args) throws InterruptedException {\n        new Frame();\n        cabinet = new Cabinet();\n        ball = new Ball();\n\n        while (true)\n            update();\n    }\n\n    private static void update() throws InterruptedException {\n        ball.calcSpeed();\n        ball.move();\n    }\n}\n</code></pre>\n<p>Frame class:</p>\n<pre><code>import javax.swing.*;\n\npublic class Frame extends JFrame {\n\n    Frame() {\n        this.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        this.add(new Panel());\n        this.pack();\n        this.setLocationRelativeTo(null);\n        this.setVisible(true);\n    }\n}\n</code></pre>\n<p>Panel class (I left out all of the useless KeyListener/MouseListener methods that i haven't used yet):</p>\n<pre><code>mport javax.swing.*;\nimport java.awt.*;\nimport java.awt.event.KeyEvent;\nimport java.awt.event.KeyListener;\nimport java.awt.event.MouseEvent;\nimport java.awt.event.MouseListener;\n\npublic class Panel extends JPanel implements KeyListener, MouseListener {\n\n    Panel() {\n        this.setPreferredSize(new Dimension(Constant.WIDTH, Constant.HEIGHT));\n        this.setFocusable(true);\n        this.addMouseListener(this);\n        this.addKeyListener(this);\n    }\n\n    @Override\n    public void paint(Graphics g) {\n        super.paint(g);\n        Graphics2D g2 = (Graphics2D) g;\n\n        g2.setColor(Color.BLACK);\n        g2.draw(Main.cabinet.getShape());\n\n        g2.setColor(Color.BLUE);\n        g2.fillOval(Main.ball.getX(), Main.ball.getY(), Constant.BALLSIZE, Constant.BALLSIZE);\n\n        repaint();\n    }\n}\n</code></pre>\n<p>Flipper classes:</p>\n<pre><code>package Flipper;\n\nimport main.Constant;\n\nimport java.awt.*;\n\npublic class Cabinet {\n\n    private Rectangle shape;\n    public Cabinet() {\n        this.shape = new Rectangle(Constant.WIDTH, Constant.HEIGHT);\n    }\n\n    public Rectangle getShape() {\n        return shape;\n    }\n}\n</code></pre>\n<pre><code>package Flipper;\n\nimport main.Constant;\n\nimport java.util.concurrent.TimeUnit;\n\npublic class Ball {\n\n    private int x;\n    private int y;\n    private int xSpeed = 1;\n    private int ySpeed = 10;\n\n    public Ball() {\n        this.x = 230;\n        this.y = 160;\n    }\n\n    public void calcSpeed() {\n        if (y &gt;= Constant.HEIGHT - Constant.BALLSIZE)\n            ySpeed = ySpeed * -1;\n        if (y &lt;= 0)\n            ySpeed = ySpeed * -1;\n    }\n\n    public void move() throws InterruptedException {\n        y += ySpeed;\n\n        TimeUnit.MILLISECONDS.sleep(50);\n    }\n\n    // Getters\n\n\n    public int getX() {\n        return x;\n    }\n\n    public int getY() {\n        return y;\n    }\n\n    public int getxSpeed() {\n        return xSpeed;\n    }\n\n    public int getySpeed() {\n        return ySpeed;\n    }\n\n\n    // Setters\n\n    public void setX(int x) {\n        this.x = x;\n    }\n\n    public void setY(int y) {\n        this.y = y;\n    }\n\n    public void setxSpeed(int xSpeed) {\n        this.xSpeed = xSpeed;\n    }\n\n    public void setySpeed(int ySpeed) {\n        this.ySpeed = ySpeed;\n    }\n}\n\n</code></pre>\n"},{"tags":["java","spring","spring-security"],"answers":[{"tags":[],"owner":{"account_id":16380562,"reputation":882,"user_id":11831707,"display_name":"ekalin"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1659028225,"creation_date":1658946213,"answer_id":73142891,"question_id":73139343,"body_markdown":"I found the problem: the code for authentication in production was creating a `UserDetailsService` bean as well, so that there were two in the ApplicationContext. This must disable the Spring auto-configuration code that creates whatever is necessary for the in-memory authentication to work.\r\n\r\nThe solution was to disable the production bean when the local profile is selected. And it seems that&#39;s the only possible solution: neither adding `@Primary` nor adding `@Order` with a higher priority than the prodution bean worked.\r\n\r\n**Edit**: Indeed, configuration is done by the `InitializeUserDetailsBeanManagerConfigurer` class, and it checks that there is only one bean of type `UserDetailsService` (it&#39;s even documented in its Javadoc).\r\n\r\n----------\r\n\r\nAnother possibility is to create an `AuthenticationProvider` manually, pointing to the `InMemoryUserDetailsManager`. To do that, just register a `GlobalAuthenticationConfigurerAdapter` bean (this is a general way to configure the `AuthenticationManager` as it is being built):\r\n```java\r\n@Bean\r\nGlobalAuthenticationConfigurerAdapter adapter(InMemoryUserDetailsManager inMemoryUserDetails, PasswordEncoder passwordEncoder) {\r\n    return new GlobalAuthenticationConfigurerAdapter() {\r\n        @Override\r\n        public void configure(AuthenticationManagerBuilder auth) throws Exception {\r\n            DaoAuthenticationProvider provider = new DaoAuthenticationProvider();\r\n            provider.setUserDetailsService(inMemoryUserDetails);\r\n            provider.setUserDetailsPasswordService(inMemoryUserDetails);\r\n            provider.setPasswordEncoder(passwordEncoder);\r\n            auth.authenticationProvider(provider);\r\n        }\r\n    };\r\n}\r\n```","title":"Converting WebSecurityConfigurerAdapter to new 5.7.0 syntax using InMemoryUserDetailsManager, getting No AuthenticationProvider found","body":"<p>I found the problem: the code for authentication in production was creating a <code>UserDetailsService</code> bean as well, so that there were two in the ApplicationContext. This must disable the Spring auto-configuration code that creates whatever is necessary for the in-memory authentication to work.</p>\n<p>The solution was to disable the production bean when the local profile is selected. And it seems that's the only possible solution: neither adding <code>@Primary</code> nor adding <code>@Order</code> with a higher priority than the prodution bean worked.</p>\n<p><strong>Edit</strong>: Indeed, configuration is done by the <code>InitializeUserDetailsBeanManagerConfigurer</code> class, and it checks that there is only one bean of type <code>UserDetailsService</code> (it's even documented in its Javadoc).</p>\n<hr />\n<p>Another possibility is to create an <code>AuthenticationProvider</code> manually, pointing to the <code>InMemoryUserDetailsManager</code>. To do that, just register a <code>GlobalAuthenticationConfigurerAdapter</code> bean (this is a general way to configure the <code>AuthenticationManager</code> as it is being built):</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Bean\nGlobalAuthenticationConfigurerAdapter adapter(InMemoryUserDetailsManager inMemoryUserDetails, PasswordEncoder passwordEncoder) {\n    return new GlobalAuthenticationConfigurerAdapter() {\n        @Override\n        public void configure(AuthenticationManagerBuilder auth) throws Exception {\n            DaoAuthenticationProvider provider = new DaoAuthenticationProvider();\n            provider.setUserDetailsService(inMemoryUserDetails);\n            provider.setUserDetailsPasswordService(inMemoryUserDetails);\n            provider.setPasswordEncoder(passwordEncoder);\n            auth.authenticationProvider(provider);\n        }\n    };\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":260495,"reputation":984,"user_id":544084,"display_name":"Jim Cox"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667316919,"creation_date":1667316919,"answer_id":74278276,"question_id":73139343,"body_markdown":"I&#39;ve had issues getting a handle to the authentication manager in non-WebSecurityConfigurerAdapter configurations unless I use the apply() with dsl.  But I think you can get this to work without the auth manager. Warning: this example does not use a password encoder which you should definitely use in any production environment.\r\n\r\n```java\r\n    @Bean\r\n    public UserDetailsService userDetailsService() {\r\n        UserDetails admin = User.builder()\r\n                                .username(&quot;admin&quot;)\r\n                                .password(&quot;{noop}&quot; + &quot;password&quot;)\r\n                               .roles(&quot;ADMIN&quot;)\r\n                               .build();\r\n        return new InMemoryUserDetailsManager(admin);\r\n    }\r\n\r\n    @Bean\r\n    public DaoAuthenticationProvider daoAuthenticationProvider(UserDetailsService userDetailsService) {\r\n\r\n        DaoAuthenticationProvider provider = new DaoAuthenticationProvider();\r\n        provider.setUserDetailsService(userDetailsService);\r\n\r\n        return provider;\r\n    }\r\n    \r\n    @Bean\r\n    public SecurityFilterChain configure(HttpSecurity http) throws Exception {\r\n\r\n        http.httpBasic(withDefaults())\r\n            .authenticationProvider(daoAuthenticationProvider(userDetailsService()));\r\n        \r\n        return http.build();    \r\n    }\r\n```","title":"Converting WebSecurityConfigurerAdapter to new 5.7.0 syntax using InMemoryUserDetailsManager, getting No AuthenticationProvider found","body":"<p>I've had issues getting a handle to the authentication manager in non-WebSecurityConfigurerAdapter configurations unless I use the apply() with dsl.  But I think you can get this to work without the auth manager. Warning: this example does not use a password encoder which you should definitely use in any production environment.</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @Bean\n    public UserDetailsService userDetailsService() {\n        UserDetails admin = User.builder()\n                                .username(&quot;admin&quot;)\n                                .password(&quot;{noop}&quot; + &quot;password&quot;)\n                               .roles(&quot;ADMIN&quot;)\n                               .build();\n        return new InMemoryUserDetailsManager(admin);\n    }\n\n    @Bean\n    public DaoAuthenticationProvider daoAuthenticationProvider(UserDetailsService userDetailsService) {\n\n        DaoAuthenticationProvider provider = new DaoAuthenticationProvider();\n        provider.setUserDetailsService(userDetailsService);\n\n        return provider;\n    }\n    \n    @Bean\n    public SecurityFilterChain configure(HttpSecurity http) throws Exception {\n\n        http.httpBasic(withDefaults())\n            .authenticationProvider(daoAuthenticationProvider(userDetailsService()));\n        \n        return http.build();    \n    }\n</code></pre>\n"}],"owner":{"account_id":16380562,"reputation":882,"user_id":11831707,"display_name":"ekalin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":634,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73142891,"answer_count":2,"score":1,"last_activity_date":1667316919,"creation_date":1658930394,"question_id":73139343,"body_markdown":"I&#39;m trying to update an application to Spring Boot 2.7, which brings Spring Security to 5.7 and deprecates `WebSecurityConfigurerAdapter`.\r\n\r\nHere&#39;s a simplified version of the old code, that creates a single user, and works. Note that this code is used only for local development and testing, using a simple form login:\r\n```java\r\n@Configuration\r\n@Profile(&quot;local-auth&quot;)\r\nclass LocalAuth {\r\n    @Bean\r\n    public WebSecurityConfigurerAdapter webSecurityConfigurerAdapter(\r\n            PasswordEncoder passwordEncoder) {\r\n        return new WebSecurityConfigurerAdapter() {\r\n            @Override\r\n            public void configure(AuthenticationManagerBuilder auth) throws Exception {\r\n                auth.inMemoryAuthentication()\r\n                        .withUser(&quot;testuser&quot;)\r\n                        .password(passwordEncoder.encode(&quot;a&quot;))\r\n                        .authorities(toAuthorities(List.of(&quot;SOME_AUTHORITY&quot;)));\r\n            }\r\n\r\n            private List&lt;? extends GrantedAuthority&gt; toAuthorities(List&lt;String&gt; roles) {\r\n                return roles.stream().map(SimpleGrantedAuthority::new).collect(Collectors.toList());\r\n            }\r\n\r\n            @Override\r\n            protected void configure(HttpSecurity http) throws Exception {\r\n                http\r\n                        .authorizeRequests(authorizeRequests -&gt;\r\n                                authorizeRequests\r\n                                        .antMatchers(&quot;/login&quot;, &quot;/actuator/**&quot;, &quot;/publico/**&quot;).permitAll()\r\n                                        .anyRequest().authenticated()\r\n                        )\r\n                        .formLogin(formLogin -&gt; formLogin.defaultSuccessUrl(&quot;http://localhost:4200/app/&quot;).permitAll())\r\n                        .logout(logout -&gt; logout.logoutUrl(&quot;/logout&quot;))\r\n                        .csrf(AbstractHttpConfigurer::disable);\r\n            }\r\n        };\r\n    }\r\n\r\n    @Bean\r\n    public PasswordEncoder passwordEncoder() {\r\n        return new BCryptPasswordEncoder();\r\n    }\r\n}\r\n```\r\n\r\nFollowing the guide at https://spring.io/blog/2022/02/21/spring-security-without-the-websecurityconfigureradapter, I changed the code to\r\n```java\r\n@Configuration\r\n@Profile(&quot;local-auth&quot;)\r\nclass LocalAuth {\r\n    @Bean\r\n    public InMemoryUserDetailsManager userDetailService(PasswordEncoder passwordEncoder) {\r\n        UserDetails user = User.builder()\r\n                .username(&quot;testuser&quot;)\r\n                .password(passwordEncoder.encode(&quot;a&quot;))\r\n                .authorities(toAuthorities(List.of(&quot;SOME_AUTHORITY&quot;)))\r\n                .build();\r\n        return new InMemoryUserDetailsManager(user);\r\n    }\r\n\r\n    private List&lt;? extends GrantedAuthority&gt; toAuthorities(List&lt;String&gt; roles) {\r\n        return roles.stream().map(SimpleGrantedAuthority::new).collect(Collectors.toList());\r\n    }\r\n\r\n    @Bean\r\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\r\n        http\r\n                .authorizeRequests(authorizeRequests -&gt;\r\n                        authorizeRequests\r\n                                .antMatchers(&quot;/login&quot;, &quot;/actuator/**&quot;, &quot;/publico/**&quot;).permitAll()\r\n                                .anyRequest().authenticated()\r\n                )\r\n                .formLogin(formLogin -&gt; formLogin.defaultSuccessUrl(&quot;http://localhost:4200/app/&quot;).permitAll())\r\n                .logout(logout -&gt; logout.logoutUrl(&quot;/logout&quot;))\r\n                .csrf(AbstractHttpConfigurer::disable);\r\n        return http.build();\r\n    }\r\n\r\n    @Bean\r\n    public PasswordEncoder passwordEncoder() {\r\n        return new BCryptPasswordEncoder();\r\n    }\r\n}\r\n```\r\n\r\nThe login form is displayed, but when I try to login, I get this error in the login page:\r\n**No AuthenticationProvider found for org.springframework.security.authentication.UsernamePasswordAuthenticationToken**. Strangely, nothing gets printed in the application log.\r\n\r\nI&#39;ve also tried to provide an `AuthenticationManager` replacing the first bean with\r\n```java\r\n    @Bean\r\n    public AuthenticationManager authenticationManager(AuthenticationManagerBuilder authBuilder,\r\n            PasswordEncoder passwordEncoder) throws Exception {\r\n        UserDetails user = User.builder()\r\n                .username(&quot;govbr.20821922459&quot;)\r\n                .password(passwordEncoder.encode(&quot;a&quot;))\r\n                .authorities(toAuthorities(List.of(&quot;LU_NVL_CONTA_BASICA&quot;)))\r\n                .build();\r\n        return authBuilder.inMemoryAuthentication().withUser(user).and().build();\r\n    }\r\n```\r\nbut then the application fails to start with\r\n**Cannot apply org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration$EnableGlobalAuthenticationAutowiredConfigurer@313c3cb to already built object**.\r\n\r\nDoes anyone know the proper way to convert the old `WebSecurityConfigurerAdapter`?\r\n\r\n**Edit**: Even increasing log level to DEBUG, all I get in a login attempt is\r\n```\r\n2022-07-27 14:22:26.012 [                    ] DEBUG o.s.security.web.FilterChainProxy             - Securing POST /login\r\n2022-07-27 14:22:26.013 [                    ] DEBUG o.s.s.w.c.SecurityContextPersistenceFilter    - Set SecurityContextHolder to empty SecurityContext\r\n2022-07-27 14:22:26.015 [                    ] DEBUG o.s.security.web.DefaultRedirectStrategy      - Redirecting to /svr/rest/login?error\r\n2022-07-27 14:22:26.015 [                    ] DEBUG .s.s.w.c.HttpSessionSecurityContextRepository - Did not store empty SecurityContext\r\n2022-07-27 14:22:26.015 [                    ] DEBUG .s.s.w.c.HttpSessionSecurityContextRepository - Did not store empty SecurityContext\r\n2022-07-27 14:22:26.015 [                    ] DEBUG o.s.s.w.c.SecurityContextPersistenceFilter    - Cleared SecurityContextHolder to complete request\r\n2022-07-27 14:22:26.041 [                    ] DEBUG o.s.security.web.FilterChainProxy             - Securing GET /login?error\r\n2022-07-27 14:22:26.041 [                    ] DEBUG o.s.s.w.c.SecurityContextPersistenceFilter    - Set SecurityContextHolder to empty SecurityContext\r\n2022-07-27 14:22:26.042 [                    ] DEBUG .s.s.w.c.HttpSessionSecurityContextRepository - Did not store empty SecurityContext\r\n2022-07-27 14:22:26.042 [                    ] DEBUG .s.s.w.c.HttpSessionSecurityContextRepository - Did not store empty SecurityContext\r\n2022-07-27 14:22:26.042 [                    ] DEBUG o.s.s.w.c.SecurityContextPersistenceFilter    - Cleared SecurityContextHolder to complete request\r\n```\r\nand the respose to the POST to `/login` is a 302 redirect to `/login?error`, with no reference to any specific error message or code (unless the error message is determined from the session).","title":"Converting WebSecurityConfigurerAdapter to new 5.7.0 syntax using InMemoryUserDetailsManager, getting No AuthenticationProvider found","body":"<p>I'm trying to update an application to Spring Boot 2.7, which brings Spring Security to 5.7 and deprecates <code>WebSecurityConfigurerAdapter</code>.</p>\n<p>Here's a simplified version of the old code, that creates a single user, and works. Note that this code is used only for local development and testing, using a simple form login:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\n@Profile(&quot;local-auth&quot;)\nclass LocalAuth {\n    @Bean\n    public WebSecurityConfigurerAdapter webSecurityConfigurerAdapter(\n            PasswordEncoder passwordEncoder) {\n        return new WebSecurityConfigurerAdapter() {\n            @Override\n            public void configure(AuthenticationManagerBuilder auth) throws Exception {\n                auth.inMemoryAuthentication()\n                        .withUser(&quot;testuser&quot;)\n                        .password(passwordEncoder.encode(&quot;a&quot;))\n                        .authorities(toAuthorities(List.of(&quot;SOME_AUTHORITY&quot;)));\n            }\n\n            private List&lt;? extends GrantedAuthority&gt; toAuthorities(List&lt;String&gt; roles) {\n                return roles.stream().map(SimpleGrantedAuthority::new).collect(Collectors.toList());\n            }\n\n            @Override\n            protected void configure(HttpSecurity http) throws Exception {\n                http\n                        .authorizeRequests(authorizeRequests -&gt;\n                                authorizeRequests\n                                        .antMatchers(&quot;/login&quot;, &quot;/actuator/**&quot;, &quot;/publico/**&quot;).permitAll()\n                                        .anyRequest().authenticated()\n                        )\n                        .formLogin(formLogin -&gt; formLogin.defaultSuccessUrl(&quot;http://localhost:4200/app/&quot;).permitAll())\n                        .logout(logout -&gt; logout.logoutUrl(&quot;/logout&quot;))\n                        .csrf(AbstractHttpConfigurer::disable);\n            }\n        };\n    }\n\n    @Bean\n    public PasswordEncoder passwordEncoder() {\n        return new BCryptPasswordEncoder();\n    }\n}\n</code></pre>\n<p>Following the guide at <a href=\"https://spring.io/blog/2022/02/21/spring-security-without-the-websecurityconfigureradapter\" rel=\"nofollow noreferrer\">https://spring.io/blog/2022/02/21/spring-security-without-the-websecurityconfigureradapter</a>, I changed the code to</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\n@Profile(&quot;local-auth&quot;)\nclass LocalAuth {\n    @Bean\n    public InMemoryUserDetailsManager userDetailService(PasswordEncoder passwordEncoder) {\n        UserDetails user = User.builder()\n                .username(&quot;testuser&quot;)\n                .password(passwordEncoder.encode(&quot;a&quot;))\n                .authorities(toAuthorities(List.of(&quot;SOME_AUTHORITY&quot;)))\n                .build();\n        return new InMemoryUserDetailsManager(user);\n    }\n\n    private List&lt;? extends GrantedAuthority&gt; toAuthorities(List&lt;String&gt; roles) {\n        return roles.stream().map(SimpleGrantedAuthority::new).collect(Collectors.toList());\n    }\n\n    @Bean\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\n        http\n                .authorizeRequests(authorizeRequests -&gt;\n                        authorizeRequests\n                                .antMatchers(&quot;/login&quot;, &quot;/actuator/**&quot;, &quot;/publico/**&quot;).permitAll()\n                                .anyRequest().authenticated()\n                )\n                .formLogin(formLogin -&gt; formLogin.defaultSuccessUrl(&quot;http://localhost:4200/app/&quot;).permitAll())\n                .logout(logout -&gt; logout.logoutUrl(&quot;/logout&quot;))\n                .csrf(AbstractHttpConfigurer::disable);\n        return http.build();\n    }\n\n    @Bean\n    public PasswordEncoder passwordEncoder() {\n        return new BCryptPasswordEncoder();\n    }\n}\n</code></pre>\n<p>The login form is displayed, but when I try to login, I get this error in the login page:\n<strong>No AuthenticationProvider found for org.springframework.security.authentication.UsernamePasswordAuthenticationToken</strong>. Strangely, nothing gets printed in the application log.</p>\n<p>I've also tried to provide an <code>AuthenticationManager</code> replacing the first bean with</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @Bean\n    public AuthenticationManager authenticationManager(AuthenticationManagerBuilder authBuilder,\n            PasswordEncoder passwordEncoder) throws Exception {\n        UserDetails user = User.builder()\n                .username(&quot;govbr.20821922459&quot;)\n                .password(passwordEncoder.encode(&quot;a&quot;))\n                .authorities(toAuthorities(List.of(&quot;LU_NVL_CONTA_BASICA&quot;)))\n                .build();\n        return authBuilder.inMemoryAuthentication().withUser(user).and().build();\n    }\n</code></pre>\n<p>but then the application fails to start with\n<strong>Cannot apply org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration$EnableGlobalAuthenticationAutowiredConfigurer@313c3cb to already built object</strong>.</p>\n<p>Does anyone know the proper way to convert the old <code>WebSecurityConfigurerAdapter</code>?</p>\n<p><strong>Edit</strong>: Even increasing log level to DEBUG, all I get in a login attempt is</p>\n<pre><code>2022-07-27 14:22:26.012 [                    ] DEBUG o.s.security.web.FilterChainProxy             - Securing POST /login\n2022-07-27 14:22:26.013 [                    ] DEBUG o.s.s.w.c.SecurityContextPersistenceFilter    - Set SecurityContextHolder to empty SecurityContext\n2022-07-27 14:22:26.015 [                    ] DEBUG o.s.security.web.DefaultRedirectStrategy      - Redirecting to /svr/rest/login?error\n2022-07-27 14:22:26.015 [                    ] DEBUG .s.s.w.c.HttpSessionSecurityContextRepository - Did not store empty SecurityContext\n2022-07-27 14:22:26.015 [                    ] DEBUG .s.s.w.c.HttpSessionSecurityContextRepository - Did not store empty SecurityContext\n2022-07-27 14:22:26.015 [                    ] DEBUG o.s.s.w.c.SecurityContextPersistenceFilter    - Cleared SecurityContextHolder to complete request\n2022-07-27 14:22:26.041 [                    ] DEBUG o.s.security.web.FilterChainProxy             - Securing GET /login?error\n2022-07-27 14:22:26.041 [                    ] DEBUG o.s.s.w.c.SecurityContextPersistenceFilter    - Set SecurityContextHolder to empty SecurityContext\n2022-07-27 14:22:26.042 [                    ] DEBUG .s.s.w.c.HttpSessionSecurityContextRepository - Did not store empty SecurityContext\n2022-07-27 14:22:26.042 [                    ] DEBUG .s.s.w.c.HttpSessionSecurityContextRepository - Did not store empty SecurityContext\n2022-07-27 14:22:26.042 [                    ] DEBUG o.s.s.w.c.SecurityContextPersistenceFilter    - Cleared SecurityContextHolder to complete request\n</code></pre>\n<p>and the respose to the POST to <code>/login</code> is a 302 redirect to <code>/login?error</code>, with no reference to any specific error message or code (unless the error message is determined from the session).</p>\n"},{"tags":["java","apache-httpclient-4.x","multipart"],"comments":[{"owner":{"account_id":10347632,"reputation":632,"user_id":7632058,"display_name":"Boschi"},"score":0,"creation_date":1488377886,"post_id":42533237,"comment_id":72203805,"body_markdown":"I believe this can help you: http://stackoverflow.com/questions/3337056/convenient-way-to-parse-incoming-multipart-form-data-parameters-in-a-servlet","body":"I believe this can help you: <a href=\"http://stackoverflow.com/questions/3337056/convenient-way-to-parse-incoming-multipart-form-data-parameters-in-a-servlet\" title=\"convenient way to parse incoming multipart form data parameters in a servlet\">stackoverflow.com/questions/3337056/&hellip;</a>"},{"owner":{"account_id":6804133,"reputation":1251,"user_id":5236494,"display_name":"kleash"},"score":0,"creation_date":1488432469,"post_id":42533237,"comment_id":72230454,"body_markdown":"@Boschi Fileupload API methods accept HTTPServletRequest which is not possible in my case as it&#39;s a response from the servlet. Please let me know if I am missing some point here.","body":"@Boschi Fileupload API methods accept HTTPServletRequest which is not possible in my case as it&#39;s a response from the servlet. Please let me know if I am missing some point here."},{"owner":{"account_id":6804133,"reputation":1251,"user_id":5236494,"display_name":"kleash"},"score":0,"creation_date":1488433379,"post_id":42533237,"comment_id":72230771,"body_markdown":"I have added a sample message response received at client..","body":"I have added a sample message response received at client.."}],"answers":[{"comments":[{"owner":{"account_id":6804133,"reputation":1251,"user_id":5236494,"display_name":"kleash"},"score":0,"creation_date":1488433343,"post_id":42534144,"comment_id":72230762,"body_markdown":"I tried with it but it&#39;s not able to parse the stream. Most probably because it&#39;s expecting in different way. I have added a sample message response received at client","body":"I tried with it but it&#39;s not able to parse the stream. Most probably because it&#39;s expecting in different way. I have added a sample message response received at client"}],"tags":[],"owner":{"account_id":418298,"reputation":368,"user_id":3759031,"display_name":"Vijayan Kani"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667316753,"creation_date":1488378004,"answer_id":42534144,"question_id":42533237,"body_markdown":"Mime4j from Apache is one way to parse the responses from client-side. Its a common practice to  use a tool like this.\r\n\r\nYou can refer this link - http://www.programcreek.com/java-api-examples/index.php?api=org.apache.james.mime4j.MimeException\r\n\r\nYou can download the jar from this link -\r\nhttp://james.apache.org/download.cgi#Apache_Mime4J","title":"Receiving Multipart Response on client side (ClosableHttpResponse)","body":"<p>Mime4j from Apache is one way to parse the responses from client-side. Its a common practice to  use a tool like this.</p>\n<p>You can refer this link - <a href=\"http://www.programcreek.com/java-api-examples/index.php?api=org.apache.james.mime4j.MimeException\" rel=\"nofollow noreferrer\">http://www.programcreek.com/java-api-examples/index.php?api=org.apache.james.mime4j.MimeException</a></p>\n<p>You can download the jar from this link -\n<a href=\"http://james.apache.org/download.cgi#Apache_Mime4J\" rel=\"nofollow noreferrer\">http://james.apache.org/download.cgi#Apache_Mime4J</a></p>\n"},{"comments":[{"owner":{"account_id":6502183,"reputation":170,"user_id":5032522,"display_name":"yfdgvf asdasdas"},"score":1,"creation_date":1539184552,"post_id":42548549,"comment_id":92411608,"body_markdown":"You are a genius man. I was looking for this for 3 days. Its sad to see java has no standard in their Apache libraries for reading multi-part data or that jaxrs has no standard either. this was simple to use and only took three jars.","body":"You are a genius man. I was looking for this for 3 days. Its sad to see java has no standard in their Apache libraries for reading multi-part data or that jaxrs has no standard either. this was simple to use and only took three jars."},{"owner":{"account_id":6804133,"reputation":1251,"user_id":5236494,"display_name":"kleash"},"score":0,"creation_date":1539186012,"post_id":42548549,"comment_id":92412505,"body_markdown":"@yfdgvfasdasdas Thanks for your kind words :)","body":"@yfdgvfasdasdas Thanks for your kind words :)"},{"owner":{"account_id":12571184,"reputation":97,"user_id":9145231,"display_name":"Ak S"},"score":0,"creation_date":1542975447,"post_id":42548549,"comment_id":93765946,"body_markdown":"it is not working when i try to parse the lambda response of multipart/form-data..  :(Is there anyother alternative to it","body":"it is not working when i try to parse the lambda response of multipart/form-data..  :(Is there anyother alternative to it"},{"owner":{"account_id":6804133,"reputation":1251,"user_id":5236494,"display_name":"kleash"},"score":0,"creation_date":1543031436,"post_id":42548549,"comment_id":93782468,"body_markdown":"@AkS I tried it with sending a JSON as string and 2 pdf and it worked fine here..","body":"@AkS I tried it with sending a JSON as string and 2 pdf and it worked fine here.."},{"owner":{"account_id":6804133,"reputation":1251,"user_id":5236494,"display_name":"kleash"},"score":0,"creation_date":1557212664,"post_id":42548549,"comment_id":98678196,"body_markdown":"@LeiYang, Which classes are you talking about. I was not using com.sun.xml package anywhere...","body":"@LeiYang, Which classes are you talking about. I was not using com.sun.xml package anywhere..."}],"tags":[],"owner":{"account_id":6804133,"reputation":1251,"user_id":5236494,"display_name":"kleash"},"comment_count":5,"down_vote_count":0,"up_vote_count":22,"is_accepted":true,"score":22,"last_activity_date":1488437078,"creation_date":1488437078,"answer_id":42548549,"question_id":42533237,"body_markdown":"I have finally got a workaround for it.\r\n\r\nI will be using javax mail MimeMultipart.\r\n\r\nBelow is a code snipped for the solution:-\r\n\r\n        ByteArrayDataSource datasource = new ByteArrayDataSource(in, &quot;multipart/form-data&quot;);\r\n    \tMimeMultipart multipart = new MimeMultipart(datasource);\r\n\r\n\t\tint count = multipart.getCount();\r\n\t\tlog.debug(&quot;count &quot; + count);\r\n\t\tfor (int i = 0; i &lt; count; i++) {\r\n\t\t\tBodyPart bodyPart = multipart.getBodyPart(i);\r\n\t\t\tif (bodyPart.isMimeType(&quot;text/plain&quot;)) {\r\n\t\t\t\tlog.info(&quot;text/plain &quot; + bodyPart.getContentType());\r\n\t\t\t\tprocessTextData(bodyPart.getContent());\r\n\t\t\t} else if (bodyPart.isMimeType(&quot;application/octet-stream&quot;)) {\r\n\t\t\t\tlog.info(&quot;application/octet-stream &quot; + bodyPart.getContentType());\r\n\t\t\t\tprocessBinaryData(bodyPart.getInputStream()));\r\n\t\t\t} else {\r\n\t\t\t\tlog.warn(&quot;default &quot; + bodyPart.getContentType());\r\n\t\t\t}\r\n\t\t}\r\n\r\n\r\nPlease let me know if anybody else have any standard solution.","title":"Receiving Multipart Response on client side (ClosableHttpResponse)","body":"<p>I have finally got a workaround for it.</p>\n\n<p>I will be using javax mail MimeMultipart.</p>\n\n<p>Below is a code snipped for the solution:-</p>\n\n<pre><code>    ByteArrayDataSource datasource = new ByteArrayDataSource(in, \"multipart/form-data\");\n    MimeMultipart multipart = new MimeMultipart(datasource);\n\n    int count = multipart.getCount();\n    log.debug(\"count \" + count);\n    for (int i = 0; i &lt; count; i++) {\n        BodyPart bodyPart = multipart.getBodyPart(i);\n        if (bodyPart.isMimeType(\"text/plain\")) {\n            log.info(\"text/plain \" + bodyPart.getContentType());\n            processTextData(bodyPart.getContent());\n        } else if (bodyPart.isMimeType(\"application/octet-stream\")) {\n            log.info(\"application/octet-stream \" + bodyPart.getContentType());\n            processBinaryData(bodyPart.getInputStream()));\n        } else {\n            log.warn(\"default \" + bodyPart.getContentType());\n        }\n    }\n</code></pre>\n\n<p>Please let me know if anybody else have any standard solution.</p>\n"},{"comments":[{"owner":{"account_id":2443099,"reputation":9128,"user_id":2131074,"accept_rate":75,"display_name":"GPI"},"score":0,"creation_date":1664723260,"post_id":73534723,"comment_id":130532277,"body_markdown":"This is a very interesting answer, but it is Spring Framework specific, whereas the question makes no mention of spring. An answer for this question should stick to Apache HTTP Client&#39;s api.","body":"This is a very interesting answer, but it is Spring Framework specific, whereas the question makes no mention of spring. An answer for this question should stick to Apache HTTP Client&#39;s api."},{"owner":{"account_id":4564492,"reputation":2199,"user_id":3705861,"display_name":"Younes El Ouarti"},"score":0,"creation_date":1664792056,"post_id":73534723,"comment_id":130544828,"body_markdown":"Now that you mentioned it, I do see it. Welp, guess I&#39;ll still leave it, if it isn&#39;t too off topic.","body":"Now that you mentioned it, I do see it. Welp, guess I&#39;ll still leave it, if it isn&#39;t too off topic."}],"tags":[],"owner":{"account_id":4564492,"reputation":2199,"user_id":3705861,"display_name":"Younes El Ouarti"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1661842309,"creation_date":1661807640,"answer_id":73534723,"question_id":42533237,"body_markdown":"## TL;DR ##\r\n 1. If you know what [`HttpMessageConverters`][1] are, then skip the &quot;In General&quot; part.\r\n 2. If your client is reactive, than you most likely don&#39;t have a big problem. Go to the part named &quot;Reactive Client (Spring Webflux)&quot; for details.\r\n 3. If your client is non-reactive i.e. you&#39;re using Spring MVC and `RestTemplate` then the last section is for you. In short, it is not possible out of the box and you need to write custom code.\r\n\r\n----------\r\n## In General ##\r\nWhen we want to read multipart data, then we are at the serialization/marshalling layer of our application. This is basically the same layer as when we transform a JSON or an XML document to a POJO via [Jackson][2] for example. What I want to emphasize here is that the logic for parsing multipart data should not take place in a service but rather much earlier. \r\n\r\nOur hook to transform multipart data comes as early, as to when an HTTP response enters our application in form of an [`HttpInputMessage`][3]. Out of the box, Spring provides a set of [`HttpMessageConverters`][1], that are able to transform our HTTP response to an object with which we can work. For example, the [MappingJackson2HttpMessageConverter][4] is used to read and write all request/responses that have the MediaType &quot;application/Json&quot;.\r\n\r\nIf the application is reactive, then Spring uses [`HttpMessageReader`][5] \r\n and [`HttpMessageWriter`][6] instead of [`HttpMessageConverters`][1]. They save the same purpose.\r\n\r\nThe following two sections show how to read (download) a multipart response via the two different paradigms. \r\n\r\n\r\n## Reactive Client (Spring Webflux) ##\r\nThis would be the easiest use case and the only thing we need, is already available in [Spring Webflux][7] out of the box.\r\n\r\nThe class [`MultipartHttpMessageReader`][8] would be doing all the heavy lifting. **In case** it does not behave exactly how you need it to, you can easily extend it and overwrite the methods to your liking. Your custom Reader can then be registered as a bean like so:\r\n\r\n```java\r\n@Configuration\r\npublic class MultipartMessageConverterConfiguration {\r\n\r\n  @Bean\r\n  public CodecCustomizer myCustomMultipartHttpMessageWriter() {\r\n      return configurer -&gt; configurer.customCodecs()\r\n                                     .register(new MyCustomMultipartHttpMessageWriter());\r\n    }\r\n}\r\n```\r\n\r\n## Non-Reactive Client (Spring MVC/RestTemplate) ##\r\nIf you have a &quot;classic&quot; application that uses `RestTemplate` to communicate via HTTP, then you need to rely on the aforementioned [`HttpMessageConverters`][1]. Unfortunately, the MessageConverter that is responsible for reading multipart data, does not support reading/downloading data:\r\n\r\n&gt; Implementation of HttpMessageConverter to read and write &#39;normal&#39; HTML forms and also to write **(but not read)** multipart data (e.g. file uploads)\r\n\r\nSource: [`FormHttpMessageConverter`][9] Documentation\r\n\r\nSo what we need to do, is write our own `MessageConverter`, which is able to download multipart data. An easy way to do that, would be to make use of the [`DefaultPartHttpMessageReader`][10] that is internally used by [`MultipartHttpMessageReader`][8]. We don&#39;t even need Webflux for that, as it is already shipped with spring-web. \r\n\r\nFirst let us define 2 classes in which we save the several parts the we read:\r\n```java\r\npublic class MyCustomPart  {\r\n\r\n    public MyCustomPart(byte[] content, String filename, MediaType contentType) {\r\n        //assign to corresponding member variables; here omitted\r\n    }\r\n}\r\n\r\n/**\r\n * Basically a container for a list of objects of the class above.\r\n */\r\npublic class MyCustomMultiParts {\r\n    public MyCustomMultiParts(List&lt;MyCustomPart&gt; parts){\r\n        //assign to corresponding member variable; here omitted\r\n    }\r\n}\r\n```\r\n\r\nLater on, you can always take each Part and convert it to whatever is appropriate. The `MyCustomPart` represents a single block of your multipart data response. The `MyCustomMultiParts` represent the whole multipart data.\r\n\r\nNow we come to the meaty stuff:\r\n\r\n```java\r\npublic class CustomMultipartHttpMessageConverter implements HttpMessageConverter&lt;MyCustomMultiParts&gt; {\r\n  \r\n    private final List&lt;MediaType&gt; supportedMediaTypes = new ArrayList&lt;&gt;();\r\n\r\n    private final DefaultPartHttpMessageReader defaultPartHttpMessageReader;\r\n\r\n    public CustomMultipartHttpMessageConverter() {\r\n        this.supportedMediaTypes.add(MediaType.MULTIPART_FORM_DATA);\r\n        this.defaultPartHttpMessageReader = new DefaultPartHttpMessageReader();\r\n    }\r\n\r\n    @Override\r\n    public boolean canRead(final Class&lt;?&gt; clazz, @Nullable final MediaType mediaType) {\r\n        if (!MyCustomMultiParts.class.isAssignableFrom(clazz)) { \r\n            return false;\r\n        }\r\n        if (mediaType == null) {\r\n            return true;\r\n        }\r\n        for (final MediaType supportedMediaType : getSupportedMediaTypes()) {\r\n            if (supportedMediaType.includes(mediaType) &amp;&amp; mediaType.getParameter(&quot;boundary&quot;) != null) {\r\n                return true;\r\n            }\r\n        }\r\n        return false;\r\n    }\r\n\r\n    /**\r\n     * This wraps the input message into a &quot;reactive&quot; input message, that the reactive DefaultPartHttpMessageReader uses.\r\n     */\r\n    private ReactiveHttpInputMessage wrapHttpInputMessage(final HttpInputMessage message) {\r\n        return new ReactiveHttpInputMessage() {\r\n            @Override\r\n            public HttpHeaders getHeaders() {\r\n                return message.getHeaders();\r\n            }\r\n\r\n            @SneakyThrows //Part of lombok. Just use a try catch block if you&#39;re not using it\r\n            @Override\r\n            public Flux&lt;DataBuffer&gt; getBody() {\r\n                final DefaultDataBuffer wrappedBody = new DefaultDataBufferFactory()\r\n                        .wrap(message.getBody().readAllBytes());\r\n                return Flux.just(wrappedBody);\r\n            }\r\n        };\r\n    }\r\n\r\n    @Override\r\n    public MyCustomMultiParts read(@Nullable final Class&lt;? extends MyCustomMultiParts&gt; clazz,\r\n                                           final HttpInputMessage message) throws IOException, HttpMessageNotReadableException {\r\n        final ReactiveHttpInputMessage wrappedMessage = wrapHttpInputMessage(message);\r\n        final ResolvableType resolvableType = ResolvableType.forClass(byte[].class); //plays no role\r\n        List&lt;Part&gt; rawParts = defaultPartHttpMessageReader.read(resolvableType, wrappedMessage, Map.of())//\r\n                .buffer()//\r\n                .blockFirst();\r\n        //You can check here whether the result exists or just continue\r\n        final List&lt;MyCustomPart&gt; customParts = rawParts.stream()// Now we convert to our customPart\r\n                .map(part -&gt; {\r\n                    //Part consists of a DataBuffer, we make a byte[] so we can convert it to whatever we want later\r\n                    final byte[] content = Optional.ofNullable(part.content().blockFirst())//\r\n                            .map(DataBuffer::asByteBuffer)//\r\n                            .map(ByteBuffer::array)//\r\n                            .orElse(new byte[]{});\r\n\r\n                    final HttpHeaders headers = part.headers();\r\n                    final String filename = headers.getContentDisposition().getFilename();\r\n                    final MediaType contentType = headers.getContentType();\r\n                    return new MyCustomPart(content, filename, contentType);\r\n                }).collect(Collectors.toList());\r\n        return new MyCustomMultiParts(customParts);\r\n    }\r\n\r\n    @Override\r\n    public void write(final MyCustomMultiParts parts, final MediaType contentType,\r\n                      final HttpOutputMessage outputMessage) {\r\n        // we&#39;re just interested in reading\r\n        throw new UnsupportedOperationException();\r\n    }\r\n\r\n\r\n    @Override\r\n    public boolean canWrite(final Class&lt;?&gt; clazz, final MediaType mediaType) {\r\n        // we&#39;re just interested in reading\r\n        return false;\r\n    }\r\n\r\n    @Override\r\n    public List&lt;MediaType&gt; getSupportedMediaTypes() {\r\n        return this.supportedMediaTypes;\r\n    }\r\n}\r\n```\r\n\r\nFrom here on, you should know better what to do with your &quot;CustomPart&quot;. Whether it is a JSON, a bitmap or a PDF. From the byte array you can convert it into anything.\r\n\r\nNow if you want to test it, you only have to add your CustomConverter to a `RestTemplate` and then &quot;await&quot; the `MyCustomMultiParts` that we defined:\r\n\r\n```java\r\n// This could also be inside your @Bean definition of RestTemplate of course\r\nfinal RestTemplate restTemplate = new RestTemplate();\r\nfinal List&lt;HttpMessageConverter&lt;?&gt;&gt; messageConverters = restTemplate.getMessageConverters();\r\nmessageConverters.add(new CustomMultipartHttpMessageConverter());\r\n\r\nString url = &quot;http://server.of.choice:8080/whatever-endpoint-that-sends-multiparts/&quot;;\r\nfinal HttpHeaders headers = new HttpHeaders();\r\nheaders.setAccept(List.of(MediaType.MULTIPART_FORM_DATA));\r\nfinal HttpEntity&lt;Void&gt; requestEntity = new HttpEntity&lt;&gt;(headers);\r\n//here we await our MyCustomMultiParts\r\nfinal MyCustomMultiParts entity = restTemplate.exchange(url, GET, requestEntity, MyCustomMultiParts.class);\r\n```\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/http/converter/HttpMessageConverter.html\r\n  [2]: https://github.com/FasterXML/jackson\r\n  [3]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/http/HttpInputMessage.html\r\n  [4]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/http/converter/json/MappingJackson2HttpMessageConverter.html\r\n  [5]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/http/codec/HttpMessageReader.html\r\n  [6]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/http/codec/HttpMessageWriter.html\r\n  [7]: https://docs.spring.io/spring-integration/reference/html/webflux.html\r\n  [8]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/http/codec/multipart/MultipartHttpMessageReader.html\r\n  [9]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/http/converter/FormHttpMessageConverter.html\r\n  [10]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/http/codec/multipart/DefaultPartHttpMessageReader.html","title":"Receiving Multipart Response on client side (ClosableHttpResponse)","body":"<h2>TL;DR</h2>\n<ol>\n<li>If you know what <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/http/converter/HttpMessageConverter.html\" rel=\"nofollow noreferrer\"><code>HttpMessageConverters</code></a> are, then skip the &quot;In General&quot; part.</li>\n<li>If your client is reactive, than you most likely don't have a big problem. Go to the part named &quot;Reactive Client (Spring Webflux)&quot; for details.</li>\n<li>If your client is non-reactive i.e. you're using Spring MVC and <code>RestTemplate</code> then the last section is for you. In short, it is not possible out of the box and you need to write custom code.</li>\n</ol>\n<hr />\n<h2>In General</h2>\n<p>When we want to read multipart data, then we are at the serialization/marshalling layer of our application. This is basically the same layer as when we transform a JSON or an XML document to a POJO via <a href=\"https://github.com/FasterXML/jackson\" rel=\"nofollow noreferrer\">Jackson</a> for example. What I want to emphasize here is that the logic for parsing multipart data should not take place in a service but rather much earlier.</p>\n<p>Our hook to transform multipart data comes as early, as to when an HTTP response enters our application in form of an <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/http/HttpInputMessage.html\" rel=\"nofollow noreferrer\"><code>HttpInputMessage</code></a>. Out of the box, Spring provides a set of <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/http/converter/HttpMessageConverter.html\" rel=\"nofollow noreferrer\"><code>HttpMessageConverters</code></a>, that are able to transform our HTTP response to an object with which we can work. For example, the <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/http/converter/json/MappingJackson2HttpMessageConverter.html\" rel=\"nofollow noreferrer\">MappingJackson2HttpMessageConverter</a> is used to read and write all request/responses that have the MediaType &quot;application/Json&quot;.</p>\n<p>If the application is reactive, then Spring uses <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/http/codec/HttpMessageReader.html\" rel=\"nofollow noreferrer\"><code>HttpMessageReader</code></a>\nand <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/http/codec/HttpMessageWriter.html\" rel=\"nofollow noreferrer\"><code>HttpMessageWriter</code></a> instead of <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/http/converter/HttpMessageConverter.html\" rel=\"nofollow noreferrer\"><code>HttpMessageConverters</code></a>. They save the same purpose.</p>\n<p>The following two sections show how to read (download) a multipart response via the two different paradigms.</p>\n<h2>Reactive Client (Spring Webflux)</h2>\n<p>This would be the easiest use case and the only thing we need, is already available in <a href=\"https://docs.spring.io/spring-integration/reference/html/webflux.html\" rel=\"nofollow noreferrer\">Spring Webflux</a> out of the box.</p>\n<p>The class <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/http/codec/multipart/MultipartHttpMessageReader.html\" rel=\"nofollow noreferrer\"><code>MultipartHttpMessageReader</code></a> would be doing all the heavy lifting. <strong>In case</strong> it does not behave exactly how you need it to, you can easily extend it and overwrite the methods to your liking. Your custom Reader can then be registered as a bean like so:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\npublic class MultipartMessageConverterConfiguration {\n\n  @Bean\n  public CodecCustomizer myCustomMultipartHttpMessageWriter() {\n      return configurer -&gt; configurer.customCodecs()\n                                     .register(new MyCustomMultipartHttpMessageWriter());\n    }\n}\n</code></pre>\n<h2>Non-Reactive Client (Spring MVC/RestTemplate)</h2>\n<p>If you have a &quot;classic&quot; application that uses <code>RestTemplate</code> to communicate via HTTP, then you need to rely on the aforementioned <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/http/converter/HttpMessageConverter.html\" rel=\"nofollow noreferrer\"><code>HttpMessageConverters</code></a>. Unfortunately, the MessageConverter that is responsible for reading multipart data, does not support reading/downloading data:</p>\n<blockquote>\n<p>Implementation of HttpMessageConverter to read and write 'normal' HTML forms and also to write <strong>(but not read)</strong> multipart data (e.g. file uploads)</p>\n</blockquote>\n<p>Source: <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/http/converter/FormHttpMessageConverter.html\" rel=\"nofollow noreferrer\"><code>FormHttpMessageConverter</code></a> Documentation</p>\n<p>So what we need to do, is write our own <code>MessageConverter</code>, which is able to download multipart data. An easy way to do that, would be to make use of the <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/http/codec/multipart/DefaultPartHttpMessageReader.html\" rel=\"nofollow noreferrer\"><code>DefaultPartHttpMessageReader</code></a> that is internally used by <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/http/codec/multipart/MultipartHttpMessageReader.html\" rel=\"nofollow noreferrer\"><code>MultipartHttpMessageReader</code></a>. We don't even need Webflux for that, as it is already shipped with spring-web.</p>\n<p>First let us define 2 classes in which we save the several parts the we read:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class MyCustomPart  {\n\n    public MyCustomPart(byte[] content, String filename, MediaType contentType) {\n        //assign to corresponding member variables; here omitted\n    }\n}\n\n/**\n * Basically a container for a list of objects of the class above.\n */\npublic class MyCustomMultiParts {\n    public MyCustomMultiParts(List&lt;MyCustomPart&gt; parts){\n        //assign to corresponding member variable; here omitted\n    }\n}\n</code></pre>\n<p>Later on, you can always take each Part and convert it to whatever is appropriate. The <code>MyCustomPart</code> represents a single block of your multipart data response. The <code>MyCustomMultiParts</code> represent the whole multipart data.</p>\n<p>Now we come to the meaty stuff:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class CustomMultipartHttpMessageConverter implements HttpMessageConverter&lt;MyCustomMultiParts&gt; {\n  \n    private final List&lt;MediaType&gt; supportedMediaTypes = new ArrayList&lt;&gt;();\n\n    private final DefaultPartHttpMessageReader defaultPartHttpMessageReader;\n\n    public CustomMultipartHttpMessageConverter() {\n        this.supportedMediaTypes.add(MediaType.MULTIPART_FORM_DATA);\n        this.defaultPartHttpMessageReader = new DefaultPartHttpMessageReader();\n    }\n\n    @Override\n    public boolean canRead(final Class&lt;?&gt; clazz, @Nullable final MediaType mediaType) {\n        if (!MyCustomMultiParts.class.isAssignableFrom(clazz)) { \n            return false;\n        }\n        if (mediaType == null) {\n            return true;\n        }\n        for (final MediaType supportedMediaType : getSupportedMediaTypes()) {\n            if (supportedMediaType.includes(mediaType) &amp;&amp; mediaType.getParameter(&quot;boundary&quot;) != null) {\n                return true;\n            }\n        }\n        return false;\n    }\n\n    /**\n     * This wraps the input message into a &quot;reactive&quot; input message, that the reactive DefaultPartHttpMessageReader uses.\n     */\n    private ReactiveHttpInputMessage wrapHttpInputMessage(final HttpInputMessage message) {\n        return new ReactiveHttpInputMessage() {\n            @Override\n            public HttpHeaders getHeaders() {\n                return message.getHeaders();\n            }\n\n            @SneakyThrows //Part of lombok. Just use a try catch block if you're not using it\n            @Override\n            public Flux&lt;DataBuffer&gt; getBody() {\n                final DefaultDataBuffer wrappedBody = new DefaultDataBufferFactory()\n                        .wrap(message.getBody().readAllBytes());\n                return Flux.just(wrappedBody);\n            }\n        };\n    }\n\n    @Override\n    public MyCustomMultiParts read(@Nullable final Class&lt;? extends MyCustomMultiParts&gt; clazz,\n                                           final HttpInputMessage message) throws IOException, HttpMessageNotReadableException {\n        final ReactiveHttpInputMessage wrappedMessage = wrapHttpInputMessage(message);\n        final ResolvableType resolvableType = ResolvableType.forClass(byte[].class); //plays no role\n        List&lt;Part&gt; rawParts = defaultPartHttpMessageReader.read(resolvableType, wrappedMessage, Map.of())//\n                .buffer()//\n                .blockFirst();\n        //You can check here whether the result exists or just continue\n        final List&lt;MyCustomPart&gt; customParts = rawParts.stream()// Now we convert to our customPart\n                .map(part -&gt; {\n                    //Part consists of a DataBuffer, we make a byte[] so we can convert it to whatever we want later\n                    final byte[] content = Optional.ofNullable(part.content().blockFirst())//\n                            .map(DataBuffer::asByteBuffer)//\n                            .map(ByteBuffer::array)//\n                            .orElse(new byte[]{});\n\n                    final HttpHeaders headers = part.headers();\n                    final String filename = headers.getContentDisposition().getFilename();\n                    final MediaType contentType = headers.getContentType();\n                    return new MyCustomPart(content, filename, contentType);\n                }).collect(Collectors.toList());\n        return new MyCustomMultiParts(customParts);\n    }\n\n    @Override\n    public void write(final MyCustomMultiParts parts, final MediaType contentType,\n                      final HttpOutputMessage outputMessage) {\n        // we're just interested in reading\n        throw new UnsupportedOperationException();\n    }\n\n\n    @Override\n    public boolean canWrite(final Class&lt;?&gt; clazz, final MediaType mediaType) {\n        // we're just interested in reading\n        return false;\n    }\n\n    @Override\n    public List&lt;MediaType&gt; getSupportedMediaTypes() {\n        return this.supportedMediaTypes;\n    }\n}\n</code></pre>\n<p>From here on, you should know better what to do with your &quot;CustomPart&quot;. Whether it is a JSON, a bitmap or a PDF. From the byte array you can convert it into anything.</p>\n<p>Now if you want to test it, you only have to add your CustomConverter to a <code>RestTemplate</code> and then &quot;await&quot; the <code>MyCustomMultiParts</code> that we defined:</p>\n<pre class=\"lang-java prettyprint-override\"><code>// This could also be inside your @Bean definition of RestTemplate of course\nfinal RestTemplate restTemplate = new RestTemplate();\nfinal List&lt;HttpMessageConverter&lt;?&gt;&gt; messageConverters = restTemplate.getMessageConverters();\nmessageConverters.add(new CustomMultipartHttpMessageConverter());\n\nString url = &quot;http://server.of.choice:8080/whatever-endpoint-that-sends-multiparts/&quot;;\nfinal HttpHeaders headers = new HttpHeaders();\nheaders.setAccept(List.of(MediaType.MULTIPART_FORM_DATA));\nfinal HttpEntity&lt;Void&gt; requestEntity = new HttpEntity&lt;&gt;(headers);\n//here we await our MyCustomMultiParts\nfinal MyCustomMultiParts entity = restTemplate.exchange(url, GET, requestEntity, MyCustomMultiParts.class);\n</code></pre>\n"}],"owner":{"account_id":6804133,"reputation":1251,"user_id":5236494,"display_name":"kleash"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13963,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":42548549,"answer_count":3,"score":9,"last_activity_date":1667316753,"creation_date":1488375406,"question_id":42533237,"body_markdown":"I have a java controller which have to send me some text data and different byte arrays. So I am building n multipart request and writing it to stream from HttpServletResponse.\r\n\r\nNow my problem is how to parse the response at client side and extract the multiple parts.\r\n\r\nSERVER CODE SNIPPET:-\r\n\r\n\t\t\tMultipartEntityBuilder builder = MultipartEntityBuilder.create();\r\n\t\t\t// Prepare payload\r\n\t\t\tbuilder.addBinaryBody(&quot;document1&quot;, file);\r\n\t\t\tbuilder.addBinaryBody(&quot;document2&quot;, file2);\r\n\t\t\tbuilder.addPart(&quot;stringData&quot;, new StringBody(jsonData, ContentType.TEXT_PLAIN));\r\n\r\n\t\t\t// Set to request body\r\n\r\n\t\t\tHttpEntity entity = builder.build();\r\n\t\t\tpostRequest.setEntity(entity);\r\n\r\n\r\nCLIENT CODE SNIPPET:-\r\n\r\n\t\t\tHttpPost httpPost = new HttpPost(finalUrl);\r\n\r\n\t\t\tStringEntity entity = new StringEntity(json);\r\n\t\t\thttpPost.setEntity(entity);\r\n\t\t\thttpPost.setHeader(&quot;Content-type&quot;, APPLICATION_JSON_TYPE);\r\n\r\n\t\t\tByteArrayOutputStream baos = new ByteArrayOutputStream();\r\n\t\t\tCloseableHttpResponse response = httpClient.execute(httpPost);\r\n\t\t\tInputStream in = new BufferedInputStream(response.getEntity().getContent());\r\n\r\nI checked CloseableHttpResponse and HttpEntity but none of them is providing method to parse multipart request.\r\n\r\nEDIT 1:\r\nThis is my sample response I am receiving at client side stream:-\r\n\r\n    --bvRi5oZum37DUldtLgQGSbc5RRVZxKpjZMO4SYDe\r\n    Content-Disposition: form-data; name=&quot;numeric&quot;\r\n    Content-Type: text/plain; charset=ISO-8859-1\r\n    Content-Transfer-Encoding: 8bit\r\n    01010110\r\n    --bvRi5oZum37DUldtLgQGSbc5RRVZxKpjZMO4SYDe\r\n    Content-Disposition: form-data; name=&quot;stringmessage&quot;\r\n    Content-Type: text/plain; charset=ISO-8859-1\r\n    Content-Transfer-Encoding:8bit\r\n    testmessage\r\n    --bvRi5oZum37DUldtLgQGSbc5RRVZxKpjZMO4SYDe\r\n    Content-Disposition: form-data; name=&quot;binarydata&quot;; filename=&quot;file1&quot;\r\n    Content-Type: application/octet-stream\r\n    Content-Transfer-Encoding: binary\r\n    HI, THIS IS MY BINARY DATA\r\n    --bvRi5oZum37DUldtLgQGSbc5RRVZxKpjZMO4SYDe\r\n    Content-Disposition: form-data; name=&quot;ending&quot;\r\n    Content-Type: text/plain; charset=ISO-8859-1\r\n    Content-Transfer-Encoding: 8bit\r\n    ending\r\n    --bvRi5oZum37DUldtLgQGSbc5RRVZxKpjZMO4SYDe--","title":"Receiving Multipart Response on client side (ClosableHttpResponse)","body":"<p>I have a java controller which have to send me some text data and different byte arrays. So I am building n multipart request and writing it to stream from HttpServletResponse.</p>\n\n<p>Now my problem is how to parse the response at client side and extract the multiple parts.</p>\n\n<p>SERVER CODE SNIPPET:-</p>\n\n<pre><code>        MultipartEntityBuilder builder = MultipartEntityBuilder.create();\n        // Prepare payload\n        builder.addBinaryBody(\"document1\", file);\n        builder.addBinaryBody(\"document2\", file2);\n        builder.addPart(\"stringData\", new StringBody(jsonData, ContentType.TEXT_PLAIN));\n\n        // Set to request body\n\n        HttpEntity entity = builder.build();\n        postRequest.setEntity(entity);\n</code></pre>\n\n<p>CLIENT CODE SNIPPET:-</p>\n\n<pre><code>        HttpPost httpPost = new HttpPost(finalUrl);\n\n        StringEntity entity = new StringEntity(json);\n        httpPost.setEntity(entity);\n        httpPost.setHeader(\"Content-type\", APPLICATION_JSON_TYPE);\n\n        ByteArrayOutputStream baos = new ByteArrayOutputStream();\n        CloseableHttpResponse response = httpClient.execute(httpPost);\n        InputStream in = new BufferedInputStream(response.getEntity().getContent());\n</code></pre>\n\n<p>I checked CloseableHttpResponse and HttpEntity but none of them is providing method to parse multipart request.</p>\n\n<p>EDIT 1:\nThis is my sample response I am receiving at client side stream:-</p>\n\n<pre><code>--bvRi5oZum37DUldtLgQGSbc5RRVZxKpjZMO4SYDe\nContent-Disposition: form-data; name=\"numeric\"\nContent-Type: text/plain; charset=ISO-8859-1\nContent-Transfer-Encoding: 8bit\n01010110\n--bvRi5oZum37DUldtLgQGSbc5RRVZxKpjZMO4SYDe\nContent-Disposition: form-data; name=\"stringmessage\"\nContent-Type: text/plain; charset=ISO-8859-1\nContent-Transfer-Encoding:8bit\ntestmessage\n--bvRi5oZum37DUldtLgQGSbc5RRVZxKpjZMO4SYDe\nContent-Disposition: form-data; name=\"binarydata\"; filename=\"file1\"\nContent-Type: application/octet-stream\nContent-Transfer-Encoding: binary\nHI, THIS IS MY BINARY DATA\n--bvRi5oZum37DUldtLgQGSbc5RRVZxKpjZMO4SYDe\nContent-Disposition: form-data; name=\"ending\"\nContent-Type: text/plain; charset=ISO-8859-1\nContent-Transfer-Encoding: 8bit\nending\n--bvRi5oZum37DUldtLgQGSbc5RRVZxKpjZMO4SYDe--\n</code></pre>\n"},{"tags":["java","greedy"],"comments":[{"owner":{"account_id":7142980,"reputation":323263,"user_id":5459839,"display_name":"trincot"},"score":0,"creation_date":1667314059,"post_id":74277261,"comment_id":131135569,"body_markdown":"Has nothing to do with `dsa`. Tag removed.","body":"Has nothing to do with <code>dsa</code>. Tag removed."}],"answers":[{"tags":[],"owner":{"account_id":7142980,"reputation":323263,"user_id":5459839,"display_name":"trincot"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1667315619,"creation_date":1667315619,"answer_id":74278032,"question_id":74277261,"body_markdown":"The first code version has one issue in the line where -1 is returned:\r\n\r\n```\r\n            if(stepsCount == 0){\r\n                if(arr[start] == 0) return -1;\r\n                jumps++;\r\n                stepsCount = maxReach-start;\r\n```\r\n\r\nThis is not correct. It may well be that `arr[start]` is zero, but that at some previous index a large enough value was found to jump beyond this point. And in the example input you have given that is indeed the case. \r\n\r\nInstead, the -1 should be returned when none of the previous values would allow a jump beyond the current `start` index. That means you should check how `maxReach` relates to `start`, or in other words, we should check whether the updated `stepsCount` is strictly positive.\r\n\r\nHere is the correction for that section of code:\r\n\r\n```\r\n            if(stepsCount == 0){\r\n                jumps++;\r\n                stepsCount = maxReach-start;\r\n                if(stepsCount == 0) return -1;\r\n```\r\n  \r\n\r\n\r\n\r\n","title":"Minimum number of jumps II","body":"<p>The first code version has one issue in the line where -1 is returned:</p>\n<pre><code>            if(stepsCount == 0){\n                if(arr[start] == 0) return -1;\n                jumps++;\n                stepsCount = maxReach-start;\n</code></pre>\n<p>This is not correct. It may well be that <code>arr[start]</code> is zero, but that at some previous index a large enough value was found to jump beyond this point. And in the example input you have given that is indeed the case.</p>\n<p>Instead, the -1 should be returned when none of the previous values would allow a jump beyond the current <code>start</code> index. That means you should check how <code>maxReach</code> relates to <code>start</code>, or in other words, we should check whether the updated <code>stepsCount</code> is strictly positive.</p>\n<p>Here is the correction for that section of code:</p>\n<pre><code>            if(stepsCount == 0){\n                jumps++;\n                stepsCount = maxReach-start;\n                if(stepsCount == 0) return -1;\n</code></pre>\n"}],"owner":{"account_id":13820855,"reputation":23,"user_id":9976333,"display_name":"Ravi Khinchi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":88,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":74278032,"answer_count":1,"score":2,"last_activity_date":1667316562,"creation_date":1667311954,"question_id":74277261,"body_markdown":"I am trying to solve the GeeksForGeeks problem [Minimum number of jumps](https://practice.geeksforgeeks.org/problems/minimum-number-of-jumps-1587115620/1):\r\n\r\n&gt; Given an array of `N` integers `arr[]` where each element represents the max length of the jump that can be made forward from that element. Find the minimum number of jumps to reach the end of the array (starting from the first element). If an element is 0, then you cannot move through that element.\r\n&gt; \r\n&gt; Note: Return -1 if you can&#39;t reach the end of the array.\r\n\r\nI couldn&#39;t solve this problem for O(n) time complexity, so I looked around and came across the following article\r\nlink: https://www.enjoyalgorithms.com/blog/minimum-number-of-jumps-to-reach-end\r\n\r\nI understood that we can apply a greedy algorithm to keep track of the the `maxPossibleStep` that we can take in the current range. But the algorithm suggested in that explanation fails to realize we can&#39;t really move forward when, after the current range is over and it&#39;s time to step into the next range, it finds that the current position contains zero.\r\n\r\nInstead, the algorithm suggested in that article then moves ahead assuming the `maxPossibleStep` encountered in previous range.\r\n\r\nHere is the initial algorithm that I found:\r\n\r\n```\r\nstatic int minJumps(int[] arr){\r\n    int n = arr.length; \r\n    if(n &lt;= 1) return 0;   \r\n    int maxReach = arr[0];\r\n    int stepsCount = arr[0];\r\n    int jumps = 0;\r\n    //   boolean isReachable = false;\r\n    int start = 1;\r\n    while(start &lt; n-1){\r\n        maxReach = Math.max(maxReach, start+arr[start]);\r\n        stepsCount--;\r\n        if(stepsCount == 0){\r\n            if(arr[start] == 0) return -1;\r\n            jumps++;\r\n            stepsCount = maxReach-start;\r\n        }\r\n        start++;\r\n    }\r\n    if(jumps == 0 &amp;&amp; stepsCount &gt; 0) return 1;  \r\n    return jumps==0?-1:jumps+1;         \r\n}\r\n```\r\n\r\nBut this code fails for the following input\r\n\r\n```\r\nN = 15\r\narr[] = 9 10 1 2 3 4 8 0 0 0 0 0 0 0 1\r\n```\r\n\r\n...because `stepsCount` will become zero at `i == 9` where `arr[start]` will be zero. Here I am simply returning -1 without considering the previous options, like I can reach element 8 then I can reach the end.\r\n\r\nBut it will pass for the following:\r\n \r\n```\r\nN = 4\r\narr[] = 2 1 0 3\r\n```\r\n\r\n... because here either from index 2 or 1 we can&#39;t reach index 3\r\n\r\nSo I came up with the following **modification**\r\n\r\n```\r\nstatic int minJumps(int[] arr){       \r\n    int n = arr.length;\r\n    if(n &lt;= 1) return 0;\r\n    int maxReach = arr[0];\r\n    int stepsCount = arr[0];\r\n    int jumps = 0;\r\n    int start = 0;\r\n    //   boolean isReachable = false;\r\n    int i = 1;\r\n    while(i &lt; n-1){\r\n        if(arr[i] != 0) maxReach = Math.max(maxReach, i+arr[i]);\r\n        stepsCount--;\r\n        if(stepsCount == 0){\r\n            // this block checks if we have prev option then try those\r\n            if(arr[i] == 0){\r\n                if(start == i) return -1;\r\n                i = start+2;\r\n                stepsCount = arr[start+1];\r\n                maxReach = arr[start+1];\r\n                //   stepsCount--;\r\n                continue;\r\n            }\r\n            jumps++;\r\n            start = i;\r\n            stepsCount = maxReach-i;\r\n        }\r\n        i++;\r\n    }\r\n    if(stepsCount &gt; 0 || jumps != 0) return jumps+1;  \r\n    return -1;\r\n}\r\n```\r\n\r\nHere I am keeping an additional variable called `start` (don&#39;t confuse it with the `start` in above code, apologies for confusion [above `start === i`])\r\n\r\nWhenever I find that the `stepsCount` is zero, and it&#39;s time to jump to next interval, I check if the current element is zero, I backtrack to `start+2` and reset `maxReach` and `stepsCount` accordingly.\r\n\r\nBut the problem with this modified algorithm, is it&#39;s not giving me O(n) time complexity. I am getting *Time Limit Exceeded*.\r\n\r\nI am also not very confident that the above approach is really correct.\r\n\r\nHow can I modify the original algorithm, so it returns the correct result, including for the test case I provided?","title":"Minimum number of jumps II","body":"<p>I am trying to solve the GeeksForGeeks problem <a href=\"https://practice.geeksforgeeks.org/problems/minimum-number-of-jumps-1587115620/1\" rel=\"nofollow noreferrer\">Minimum number of jumps</a>:</p>\n<blockquote>\n<p>Given an array of <code>N</code> integers <code>arr[]</code> where each element represents the max length of the jump that can be made forward from that element. Find the minimum number of jumps to reach the end of the array (starting from the first element). If an element is 0, then you cannot move through that element.</p>\n<p>Note: Return -1 if you can't reach the end of the array.</p>\n</blockquote>\n<p>I couldn't solve this problem for O(n) time complexity, so I looked around and came across the following article\nlink: <a href=\"https://www.enjoyalgorithms.com/blog/minimum-number-of-jumps-to-reach-end\" rel=\"nofollow noreferrer\">https://www.enjoyalgorithms.com/blog/minimum-number-of-jumps-to-reach-end</a></p>\n<p>I understood that we can apply a greedy algorithm to keep track of the the <code>maxPossibleStep</code> that we can take in the current range. But the algorithm suggested in that explanation fails to realize we can't really move forward when, after the current range is over and it's time to step into the next range, it finds that the current position contains zero.</p>\n<p>Instead, the algorithm suggested in that article then moves ahead assuming the <code>maxPossibleStep</code> encountered in previous range.</p>\n<p>Here is the initial algorithm that I found:</p>\n<pre><code>static int minJumps(int[] arr){\n    int n = arr.length; \n    if(n &lt;= 1) return 0;   \n    int maxReach = arr[0];\n    int stepsCount = arr[0];\n    int jumps = 0;\n    //   boolean isReachable = false;\n    int start = 1;\n    while(start &lt; n-1){\n        maxReach = Math.max(maxReach, start+arr[start]);\n        stepsCount--;\n        if(stepsCount == 0){\n            if(arr[start] == 0) return -1;\n            jumps++;\n            stepsCount = maxReach-start;\n        }\n        start++;\n    }\n    if(jumps == 0 &amp;&amp; stepsCount &gt; 0) return 1;  \n    return jumps==0?-1:jumps+1;         \n}\n</code></pre>\n<p>But this code fails for the following input</p>\n<pre><code>N = 15\narr[] = 9 10 1 2 3 4 8 0 0 0 0 0 0 0 1\n</code></pre>\n<p>...because <code>stepsCount</code> will become zero at <code>i == 9</code> where <code>arr[start]</code> will be zero. Here I am simply returning -1 without considering the previous options, like I can reach element 8 then I can reach the end.</p>\n<p>But it will pass for the following:</p>\n<pre><code>N = 4\narr[] = 2 1 0 3\n</code></pre>\n<p>... because here either from index 2 or 1 we can't reach index 3</p>\n<p>So I came up with the following <strong>modification</strong></p>\n<pre><code>static int minJumps(int[] arr){       \n    int n = arr.length;\n    if(n &lt;= 1) return 0;\n    int maxReach = arr[0];\n    int stepsCount = arr[0];\n    int jumps = 0;\n    int start = 0;\n    //   boolean isReachable = false;\n    int i = 1;\n    while(i &lt; n-1){\n        if(arr[i] != 0) maxReach = Math.max(maxReach, i+arr[i]);\n        stepsCount--;\n        if(stepsCount == 0){\n            // this block checks if we have prev option then try those\n            if(arr[i] == 0){\n                if(start == i) return -1;\n                i = start+2;\n                stepsCount = arr[start+1];\n                maxReach = arr[start+1];\n                //   stepsCount--;\n                continue;\n            }\n            jumps++;\n            start = i;\n            stepsCount = maxReach-i;\n        }\n        i++;\n    }\n    if(stepsCount &gt; 0 || jumps != 0) return jumps+1;  \n    return -1;\n}\n</code></pre>\n<p>Here I am keeping an additional variable called <code>start</code> (don't confuse it with the <code>start</code> in above code, apologies for confusion [above <code>start === i</code>])</p>\n<p>Whenever I find that the <code>stepsCount</code> is zero, and it's time to jump to next interval, I check if the current element is zero, I backtrack to <code>start+2</code> and reset <code>maxReach</code> and <code>stepsCount</code> accordingly.</p>\n<p>But the problem with this modified algorithm, is it's not giving me O(n) time complexity. I am getting <em>Time Limit Exceeded</em>.</p>\n<p>I am also not very confident that the above approach is really correct.</p>\n<p>How can I modify the original algorithm, so it returns the correct result, including for the test case I provided?</p>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"display_name":"user6073886"},"score":6,"creation_date":1667315352,"post_id":74277956,"comment_id":131136023,"body_markdown":"Regex is needlessly complicated for such a simple case. a Simple `return &quot;true&quot;.equals(acceptanceValue) || &quot;false&quot;.equals(acceptanceValue);` is really all you need.","body":"Regex is needlessly complicated for such a simple case. a Simple <code>return &quot;true&quot;.equals(acceptanceValue) || &quot;false&quot;.equals(acceptanceValue);</code> is really all you need."},{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":3,"creation_date":1667315455,"post_id":74277956,"comment_id":131136056,"body_markdown":"In fact, regex failed you here, as `.*true.*` would match _anything_ containing `true`, not equaling it. Your regex for an exact match would end up as `&quot;true&quot;`, which at that point you could simply compare the strings.","body":"In fact, regex failed you here, as <code>.*true.*</code> would match <i>anything</i> containing <code>true</code>, not equaling it. Your regex for an exact match would end up as <code>&quot;true&quot;</code>, which at that point you could simply compare the strings."},{"owner":{"account_id":22001181,"reputation":1,"user_id":16272892,"display_name":"GeekToLearn"},"score":0,"creation_date":1667315509,"post_id":74277956,"comment_id":131136074,"body_markdown":"I can&#39;t change the acceptanceValue field as Boolean. It should be a String.","body":"I can&#39;t change the acceptanceValue field as Boolean. It should be a String."},{"owner":{"display_name":"user6073886"},"score":1,"creation_date":1667315625,"post_id":74277956,"comment_id":131136113,"body_markdown":"@GeekToLearn I don&#39;t get what you are trying to say with that comment. No one ever suggested you change the type of that field. We simply suggested you do a simple String comparison via equals, which has nothing to do with changing the type of your method argument.","body":"@GeekToLearn I don&#39;t get what you are trying to say with that comment. No one ever suggested you change the type of that field. We simply suggested you do a simple String comparison via equals, which has nothing to do with changing the type of your method argument."}],"answers":[{"comments":[{"owner":{"account_id":18911549,"reputation":600,"user_id":13797513,"display_name":"chptr-one"},"score":0,"creation_date":1667318107,"post_id":74278137,"comment_id":131137023,"body_markdown":"Why it should throw NPE on null? Why not use `&quot;true&quot;.equals(acceptanceValue)` instead without any possibility for NPE? Null != true and Null != false so method should return false","body":"Why it should throw NPE on null? Why not use <code>&quot;true&quot;.equals(acceptanceValue)</code> instead without any possibility for NPE? Null != true and Null != false so method should return false"}],"tags":[],"owner":{"account_id":465573,"reputation":192703,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667316281,"creation_date":1667316281,"answer_id":74278137,"question_id":74277956,"body_markdown":"As suggested by OH GOD SPIDERS, the following is a complete, correct, and compiling implementation of the method you want.\r\n\r\n```\r\npublic static Boolean isValidAcceptanceField(String acceptanceValue){\r\n  return acceptanceValue.equals(&quot;true&quot;) || acceptanceValue.equals(&quot;false&quot;);\r\n}\r\n```\r\n\r\n(This version throws on null, as it should.)\r\n","title":"How to validate exact value of &quot;true&quot; and &quot;false&quot; accurately in Java using regular expression?","body":"<p>As suggested by OH GOD SPIDERS, the following is a complete, correct, and compiling implementation of the method you want.</p>\n<pre><code>public static Boolean isValidAcceptanceField(String acceptanceValue){\n  return acceptanceValue.equals(&quot;true&quot;) || acceptanceValue.equals(&quot;false&quot;);\n}\n</code></pre>\n<p>(This version throws on null, as it should.)</p>\n"}],"owner":{"account_id":22001181,"reputation":1,"user_id":16272892,"display_name":"GeekToLearn"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":75,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1667316281,"creation_date":1667315255,"question_id":74277956,"body_markdown":"I need to give **success** as output only if the user gives the input as true or false. Anything other than that should show **error**. I have used Regex in order to do that. But some of the scenarios are not getting validated as per the requirement.\r\n\r\nI have used Regex to check if the acceptance value given by the user is true or false. Anything other than true or false should show an error. If the user gives null value then also it should show error.\r\nMy code -\r\n``\r\n```\r\n...\r\npublic static Boolean isValidAcceptanceField(String acceptanceValue){\r\nBoolean flag= false;\r\nif(acceptanceValue!=null &amp;&amp; (acceptanceValue.matches(&quot;.*true.*&quot;) || acceptanceValue.matches(&quot;.*false*.&quot;))){\r\n flag=true;\r\n}\r\nreturn flag;\r\n}`\r\n....\r\n````\r\n\r\na)This code is validating perfectly the following scenarios-\r\n\r\n    acceptanceValue    Output\r\n    null               error\r\n    trrrrue            error\r\n    truuuuue           error\r\n    peter              error\r\n    faaalse            error\r\n    falllse            error\r\n    fal#se             error\r\n\r\nHere for the scenarios written in a) section the requirement is to get &quot;success&quot; as output and it is working fine.\r\n\r\nb)This code is not validating the following scenarios-\r\n\r\n    acceptanceValue    Output\r\n    tttrue             Success\r\n    trueeee            Success\r\n    ffffalse           Success\r\n    falseee            Success\r\n    true#              Success\r\n\r\nHere for the scenarios written in b) section the requirement is get &quot;error&quot; as output but it is giving success.So is not working fine.\r\n\r\nIt seems like the code is not validating the value if the typing mistake is being done at the beginning or the end of the acceptance field.\r\nWhat Regex should I use to validate true and false perfectly in all the scenarios?\r\n\r\n","title":"How to validate exact value of &quot;true&quot; and &quot;false&quot; accurately in Java using regular expression?","body":"<p>I need to give <strong>success</strong> as output only if the user gives the input as true or false. Anything other than that should show <strong>error</strong>. I have used Regex in order to do that. But some of the scenarios are not getting validated as per the requirement.</p>\n<p>I have used Regex to check if the acceptance value given by the user is true or false. Anything other than true or false should show an error. If the user gives null value then also it should show error.\nMy code -\n``</p>\n<pre><code>...\npublic static Boolean isValidAcceptanceField(String acceptanceValue){\nBoolean flag= false;\nif(acceptanceValue!=null &amp;&amp; (acceptanceValue.matches(&quot;.*true.*&quot;) || acceptanceValue.matches(&quot;.*false*.&quot;))){\n flag=true;\n}\nreturn flag;\n}`\n....\n</code></pre>\n<p>a)This code is validating perfectly the following scenarios-</p>\n<pre><code>acceptanceValue    Output\nnull               error\ntrrrrue            error\ntruuuuue           error\npeter              error\nfaaalse            error\nfalllse            error\nfal#se             error\n</code></pre>\n<p>Here for the scenarios written in a) section the requirement is to get &quot;success&quot; as output and it is working fine.</p>\n<p>b)This code is not validating the following scenarios-</p>\n<pre><code>acceptanceValue    Output\ntttrue             Success\ntrueeee            Success\nffffalse           Success\nfalseee            Success\ntrue#              Success\n</code></pre>\n<p>Here for the scenarios written in b) section the requirement is get &quot;error&quot; as output but it is giving success.So is not working fine.</p>\n<p>It seems like the code is not validating the value if the typing mistake is being done at the beginning or the end of the acceptance field.\nWhat Regex should I use to validate true and false perfectly in all the scenarios?</p>\n"},{"tags":["java","groovy","rest-assured","gpath"],"answers":[{"tags":[],"owner":{"account_id":171189,"reputation":38109,"user_id":398441,"accept_rate":87,"display_name":"Johan"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1407611854,"creation_date":1407611854,"answer_id":25222124,"question_id":25173821,"body_markdown":"Haven&#39;t tried it but from the top of my head this ought to work:\r\n\r\n    errors.find { it.field == &#39;firstName&#39; }.code","title":"How to find an object by a field value in Rest Assured?","body":"<p>Haven't tried it but from the top of my head this ought to work:</p>\n\n<pre><code>errors.find { it.field == 'firstName' }.code\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25817194,"reputation":15,"user_id":19556951,"display_name":"Nikita Burak"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667315986,"creation_date":1667315986,"answer_id":74278100,"question_id":25173821,"body_markdown":"`errors.find{e -&gt; e.field == &#39;firstName&#39;}.code`","title":"How to find an object by a field value in Rest Assured?","body":"<p><code>errors.find{e -&gt; e.field == 'firstName'}.code</code></p>\n"}],"owner":{"account_id":95375,"reputation":44613,"user_id":745188,"accept_rate":69,"display_name":"Elnur Abdurrakhimov"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1631,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":25222124,"answer_count":2,"score":1,"last_activity_date":1667315986,"creation_date":1407383505,"question_id":25173821,"body_markdown":"I need to get to `code` of an array element that has `field` == `firstName`:\r\n\r\n&lt;!-- language: lang-json --&gt;\r\n\r\n    {\r\n        &quot;errors&quot;: [\r\n            {\r\n                &quot;field&quot;: &quot;firstName&quot;,\r\n                &quot;code&quot;: &quot;NotBlank&quot;\r\n            },\r\n            {\r\n                &quot;field&quot;: &quot;lastName&quot;,\r\n                &quot;code&quot;: &quot;NotBlank&quot;\r\n            }\r\n        ]\r\n    }\r\n\r\nWith JsonPath, the way to do it is `$.errors[?(@.field == firstName)].code`. How do I do the same in Rest Assured with its GPath syntax?","title":"How to find an object by a field value in Rest Assured?","body":"<p>I need to get to <code>code</code> of an array element that has <code>field</code> == <code>firstName</code>:</p>\n\n<pre class=\"lang-json prettyprint-override\"><code>{\n    \"errors\": [\n        {\n            \"field\": \"firstName\",\n            \"code\": \"NotBlank\"\n        },\n        {\n            \"field\": \"lastName\",\n            \"code\": \"NotBlank\"\n        }\n    ]\n}\n</code></pre>\n\n<p>With JsonPath, the way to do it is <code>$.errors[?(@.field == firstName)].code</code>. How do I do the same in Rest Assured with its GPath syntax?</p>\n"},{"tags":["java","generics","instance","erasure"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1667217301,"post_id":74262753,"comment_id":131110499,"body_markdown":"Why not just give the methods different names?","body":"Why not just give the methods different names?"},{"owner":{"account_id":4947846,"reputation":9433,"user_id":3982755,"accept_rate":79,"display_name":"Bentaye"},"score":2,"creation_date":1667218537,"post_id":74262753,"comment_id":131110899,"body_markdown":"Aren&#39;t Integer, Float and Double final? you can&#39;t extend them, so you can just use them instead of a generic","body":"Aren&#39;t Integer, Float and Double final? you can&#39;t extend them, so you can just use them instead of a generic"},{"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"score":1,"creation_date":1667218702,"post_id":74262753,"comment_id":131110949,"body_markdown":"The difference between your code and the code in the linked post, is that the linked post uses `T` as parameter, wereas you use `List&lt;T&gt;` as parameter.","body":"The difference between your code and the code in the linked post, is that the linked post uses <code>T</code> as parameter, wereas you use <code>List&lt;T&gt;</code> as parameter."}],"answers":[{"comments":[{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":1,"creation_date":1667315185,"post_id":74277910,"comment_id":131135973,"body_markdown":"Note this would include many other subtypes (which may or may not be appropriate), such as `AtomicLong`, `LongAccumulator`, `Byte`, `Short`, `DoubleAdder`, etc. This can, however, be further restricted with checks like `Class#isInstance` or `instanceof`, throwing an exception for a bad input.","body":"Note this would include many other subtypes (which may or may not be appropriate), such as <code>AtomicLong</code>, <code>LongAccumulator</code>, <code>Byte</code>, <code>Short</code>, <code>DoubleAdder</code>, etc. This can, however, be further restricted with checks like <code>Class#isInstance</code> or <code>instanceof</code>, throwing an exception for a bad input."}],"tags":[],"owner":{"account_id":2682534,"reputation":864,"user_id":2317585,"display_name":"John Gilmer"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1667315048,"creation_date":1667315048,"answer_id":74277910,"question_id":74262753,"body_markdown":"You could use the Number superclass of Integer, Float, and Double as your bound.\r\n\r\n```java\r\npublic class Method&lt;T extends Number&gt; {\r\n  private final List&lt;T&gt; list;\r\n\r\n  public Method(List&lt;T&gt; list) {\r\n    this.list = list;\r\n  }\r\n\r\n  public static void main(String[] args) {\r\n    var mFloats = new Method(Arrays.asList(1.0f, 2.0f, 3.0f));\r\n    var mDoubles =  new Method(Arrays.asList(1.0,2.0,3.0));\r\n    var mInts = new Method(Arrays.asList(1,2,3));\r\n  }\r\n}\r\n```","title":"Java generic List name clash, has same erasure","body":"<p>You could use the Number superclass of Integer, Float, and Double as your bound.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Method&lt;T extends Number&gt; {\n  private final List&lt;T&gt; list;\n\n  public Method(List&lt;T&gt; list) {\n    this.list = list;\n  }\n\n  public static void main(String[] args) {\n    var mFloats = new Method(Arrays.asList(1.0f, 2.0f, 3.0f));\n    var mDoubles =  new Method(Arrays.asList(1.0,2.0,3.0));\n    var mInts = new Method(Arrays.asList(1,2,3));\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2682534,"reputation":864,"user_id":2317585,"display_name":"John Gilmer"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1667315976,"creation_date":1667315976,"answer_id":74278098,"question_id":74262753,"body_markdown":"Type Erasure affects Generic Collections like List&lt;T&gt;, so each generic method is type erased into having a parameter signature with parameter type Obejct. See [Oracle Docs][1] To avoid this you can use arrays instead.\r\n\r\n```java\r\nimport java.util.Arrays;\r\nimport java.util.List;\r\n\r\npublic class Method&lt;T&gt; {\r\n  private final List&lt;T&gt; list;\r\n  private Method(List&lt;T&gt; list) {\r\n    this.list = list;\r\n  }\r\n\r\n  public static &lt;T extends Integer&gt; Method&lt;T&gt; create(T[] arr) {\r\n    return new Method&lt;&gt;(Arrays.asList(arr));\r\n  }\r\n\r\n  public static &lt;T extends Float&gt; Method&lt;T&gt; create(T[] arr) {\r\n    return new Method&lt;&gt;(Arrays.asList(arr));\r\n  }\r\n\r\n  public static &lt;T extends Double&gt; Method&lt;T&gt; create(T[] arr) {\r\n    return new Method&lt;&gt;(Arrays.asList(arr));\r\n  }\r\n\r\n  public static void main(String[] args) {\r\n    var floatMethod = Method.create(new Float[] {1.0f, 2.0f});\r\n    var doubleMethod = Method.create(new Double[] {1.0, 2.0});\r\n    var intMethod = Method.create(new Integer[] {1, 2});\r\n  }\r\n}\r\n```\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/tutorial/java/generics/genTypes.html","title":"Java generic List name clash, has same erasure","body":"<p>Type Erasure affects Generic Collections like List, so each generic method is type erased into having a parameter signature with parameter type Obejct. See <a href=\"https://docs.oracle.com/javase/tutorial/java/generics/genTypes.html\" rel=\"nofollow noreferrer\">Oracle Docs</a> To avoid this you can use arrays instead.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.Arrays;\nimport java.util.List;\n\npublic class Method&lt;T&gt; {\n  private final List&lt;T&gt; list;\n  private Method(List&lt;T&gt; list) {\n    this.list = list;\n  }\n\n  public static &lt;T extends Integer&gt; Method&lt;T&gt; create(T[] arr) {\n    return new Method&lt;&gt;(Arrays.asList(arr));\n  }\n\n  public static &lt;T extends Float&gt; Method&lt;T&gt; create(T[] arr) {\n    return new Method&lt;&gt;(Arrays.asList(arr));\n  }\n\n  public static &lt;T extends Double&gt; Method&lt;T&gt; create(T[] arr) {\n    return new Method&lt;&gt;(Arrays.asList(arr));\n  }\n\n  public static void main(String[] args) {\n    var floatMethod = Method.create(new Float[] {1.0f, 2.0f});\n    var doubleMethod = Method.create(new Double[] {1.0, 2.0});\n    var intMethod = Method.create(new Integer[] {1, 2});\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":26784068,"reputation":21,"user_id":20378526,"display_name":"Justus Klausecker"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":153,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1667315976,"creation_date":1667216568,"question_id":74262753,"body_markdown":"I am writing a method with a generic List\\&lt;T\\&gt; as an argument. I want to limit T to Integer, Float and Double with this:\r\n\r\n\r\n```java\r\nprivate Method(List&lt;T&gt; list) {\r\n\tthis.list = list;\r\n}\r\n\r\npublic static &lt;T extends Integer&gt; Method&lt;T&gt; create(List&lt;T&gt; list) {\r\n\treturn new Method&lt;&gt;(list);\r\n}\r\n\r\npublic static &lt;T extends Float&gt; Method&lt;T&gt; create(List&lt;T&gt; list) {\r\n\treturn new Method&lt;&gt;(list);\r\n}\r\n\r\npublic static &lt;T extends Double&gt; Method&lt;T&gt; create(List&lt;T&gt; list) {\r\n\treturn new Method&lt;&gt;(list);\r\n}\r\n```\r\n\r\nBut I get this error:\r\n\r\n```\r\nerror: name clash: &lt;T#1&gt;create(List&lt;T#1&gt;) and &lt;T#2&gt;create(List&lt;T#2&gt;) have the same erasure                                                                                                                                 \r\n        public static &lt;T extends Float&gt; Method&lt;T&gt; create(List&lt;T&gt; list) {                                                             \r\n                                                      ^                                                                                    \r\n  where T#1,T#2 are type-variables:                                                                                                        \r\n    T#1 extends Float declared in method &lt;T#1&gt;create(List&lt;T#1&gt;)                                                                            \r\n    T#2 extends Integer declared in method &lt;T#2&gt;create(List&lt;T#2&gt;)\r\n```\r\n\r\nI get the same error for T#1 extends Double as well.\r\n\r\nThe code is based on [this](https://stackoverflow.com/a/48824392) answer, which works well. So I think the problem is related to the fact that I used a list of generics as an input instead of a single generic.\r\n\r\nHow can I fix this? Is there some way to give Java the ability to discern between the different instances?","title":"Java generic List name clash, has same erasure","body":"<p>I am writing a method with a generic List&lt;T&gt; as an argument. I want to limit T to Integer, Float and Double with this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private Method(List&lt;T&gt; list) {\n    this.list = list;\n}\n\npublic static &lt;T extends Integer&gt; Method&lt;T&gt; create(List&lt;T&gt; list) {\n    return new Method&lt;&gt;(list);\n}\n\npublic static &lt;T extends Float&gt; Method&lt;T&gt; create(List&lt;T&gt; list) {\n    return new Method&lt;&gt;(list);\n}\n\npublic static &lt;T extends Double&gt; Method&lt;T&gt; create(List&lt;T&gt; list) {\n    return new Method&lt;&gt;(list);\n}\n</code></pre>\n<p>But I get this error:</p>\n<pre><code>error: name clash: &lt;T#1&gt;create(List&lt;T#1&gt;) and &lt;T#2&gt;create(List&lt;T#2&gt;) have the same erasure                                                                                                                                 \n        public static &lt;T extends Float&gt; Method&lt;T&gt; create(List&lt;T&gt; list) {                                                             \n                                                      ^                                                                                    \n  where T#1,T#2 are type-variables:                                                                                                        \n    T#1 extends Float declared in method &lt;T#1&gt;create(List&lt;T#1&gt;)                                                                            \n    T#2 extends Integer declared in method &lt;T#2&gt;create(List&lt;T#2&gt;)\n</code></pre>\n<p>I get the same error for T#1 extends Double as well.</p>\n<p>The code is based on <a href=\"https://stackoverflow.com/a/48824392\">this</a> answer, which works well. So I think the problem is related to the fact that I used a list of generics as an input instead of a single generic.</p>\n<p>How can I fix this? Is there some way to give Java the ability to discern between the different instances?</p>\n"},{"tags":["java","intellij-idea","jakarta-ee","tomcat9"],"comments":[{"owner":{"account_id":18911549,"reputation":600,"user_id":13797513,"display_name":"chptr-one"},"score":1,"creation_date":1667313608,"post_id":74277585,"comment_id":131135372,"body_markdown":"https://www.jetbrains.com/help/idea/java-ee.html","body":"<a href=\"https://www.jetbrains.com/help/idea/java-ee.html\" rel=\"nofollow noreferrer\">jetbrains.com/help/idea/java-ee.html</a>"}],"answers":[{"tags":[],"owner":{"account_id":12589825,"reputation":39,"user_id":12469675,"display_name":"bubbleblort"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1667315270,"creation_date":1667315270,"answer_id":74277960,"question_id":74277585,"body_markdown":"Fixed it - changed the version from Jakarta EE 9 to Java EE 8.\r\n\r\nWhen creating a new project on the second window where you choose dependencies there&#39;s a drop down menu for &quot;version&quot;. Choose Java EE 8 instead of Jakarta EE 9. ","title":"Can I still use Java EE on Intellij or do I have to use Jakarta EE?","body":"<p>Fixed it - changed the version from Jakarta EE 9 to Java EE 8.</p>\n<p>When creating a new project on the second window where you choose dependencies there's a drop down menu for &quot;version&quot;. Choose Java EE 8 instead of Jakarta EE 9.</p>\n"}],"owner":{"account_id":12589825,"reputation":39,"user_id":12469675,"display_name":"bubbleblort"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":370,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1667315270,"creation_date":1667313483,"question_id":74277585,"body_markdown":"Trying to work on a project that must use Tomcat 9 server but I&#39;ve discovered that this version of Tomcat doesn&#39;t work with Jakarta EE. \r\n\r\nIs it still possible to use Java EE for Intellij in 2022?","title":"Can I still use Java EE on Intellij or do I have to use Jakarta EE?","body":"<p>Trying to work on a project that must use Tomcat 9 server but I've discovered that this version of Tomcat doesn't work with Jakarta EE.</p>\n<p>Is it still possible to use Java EE for Intellij in 2022?</p>\n"},{"tags":["java","hibernate","jpa","join","spring-data-jpa"],"comments":[{"owner":{"account_id":5279068,"reputation":895,"user_id":4215032,"display_name":"Pp88"},"score":0,"creation_date":1667315753,"post_id":74277922,"comment_id":131136168,"body_markdown":"Have you tryed with a jpql query?  You can get rid of the mapping in the entities. You can also check with a criteria query making a cross join. In the worst scenario you can try with a native query","body":"Have you tryed with a jpql query?  You can get rid of the mapping in the entities. You can also check with a criteria query making a cross join. In the worst scenario you can try with a native query"},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1667320410,"post_id":74277922,"comment_id":131137865,"body_markdown":"Is this really a OneToMany? In theory, it should have a clear FK that references a single row; but as the error states, the 4 columns you&#39;ve shown are only 4 of the 5 you&#39;ve marked as composites to uniquely identify Sftseb2, so it isn&#39;t complete. So it really is more of a ManyToMany. This mapping isn&#39;t good for JPA as it has no idea who controls that fk; what should happen if you try to change the reference, how can it save such a change? So what is the point of requiring this list in your model?","body":"Is this really a OneToMany? In theory, it should have a clear FK that references a single row; but as the error states, the 4 columns you&#39;ve shown are only 4 of the 5 you&#39;ve marked as composites to uniquely identify Sftseb2, so it isn&#39;t complete. So it really is more of a ManyToMany. This mapping isn&#39;t good for JPA as it has no idea who controls that fk; what should happen if you try to change the reference, how can it save such a change? So what is the point of requiring this list in your model?"},{"owner":{"account_id":26796356,"reputation":1,"user_id":20389043,"display_name":"Spe3do"},"score":0,"creation_date":1667321889,"post_id":74277922,"comment_id":131138376,"body_markdown":"My goal would be to fetch every related rows from various tables and send them as an xml structure for further processing.\n\nSo:\nFor-each row in SFTSEB2 fetch rows from SFTSEB3 where the empfkey, ebmsg, ebbord, ebsort equals what the actual row from SFTSEB2 has.\n\nThis should behave like a OneToMany because for each row of STFSEB2 there can be OneOrMore SFTSEB3. Although based on the limited set of columns I agree that this can&#39;t be unique so from that point of view this is more of a ManyToMany.... \n\nIsn&#39;t it solvable with Entity joins?","body":"My goal would be to fetch every related rows from various tables and send them as an xml structure for further processing.  So: For-each row in SFTSEB2 fetch rows from SFTSEB3 where the empfkey, ebmsg, ebbord, ebsort equals what the actual row from SFTSEB2 has.  This should behave like a OneToMany because for each row of STFSEB2 there can be OneOrMore SFTSEB3. Although based on the limited set of columns I agree that this can&#39;t be unique so from that point of view this is more of a ManyToMany....   Isn&#39;t it solvable with Entity joins?"},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":1,"creation_date":1667322527,"post_id":74277922,"comment_id":131138598,"body_markdown":"I more mean the purpose of your model. Joins are easy to do without requiring actual references in your object model. JPQL &quot;Select s3 from Sftseb2 s2 join Sftseb3 s3  on ( s2.empfkey = s3.empfkey AND s2.ebmsg = s3.ebmsg AND s2.ebbord = s3.ebbord AND s2.ebsort = s3.ebsort) where ...&quot; If your provider doesn&#39;t support the join on clause, you can add it to the where clause yourself. If you want the list fetched each time you fetch Sftseb2 instances, you&#39;ll have to resort to non-JPA mappings as JPA requires fks reference primary keys to allow for entity identity, lookups and caching.","body":"I more mean the purpose of your model. Joins are easy to do without requiring actual references in your object model. JPQL &quot;Select s3 from Sftseb2 s2 join Sftseb3 s3  on ( s2.empfkey = s3.empfkey AND s2.ebmsg = s3.ebmsg AND s2.ebbord = s3.ebbord AND s2.ebsort = s3.ebsort) where ...&quot; If your provider doesn&#39;t support the join on clause, you can add it to the where clause yourself. If you want the list fetched each time you fetch Sftseb2 instances, you&#39;ll have to resort to non-JPA mappings as JPA requires fks reference primary keys to allow for entity identity, lookups and caching."}],"owner":{"account_id":26796356,"reputation":1,"user_id":20389043,"display_name":"Spe3do"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":528,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1667315216,"creation_date":1667315093,"question_id":74277922,"body_markdown":"I have an old database where can&#39;t change the schema so I have to adapt my code to work.\r\n\r\nWithin that db I have two tables which I&#39;d like to join.\r\nThe main Table called SFTSEB2 has a 5 Column Composite primary key: empfkey, ebmsg, ebbord, ebsort, ebrefn only these will going to fulfill the uniqueness on that Table.\r\n\r\nI&#39;d like to join SFTSEB3 to SFTSEB2 but based on only 4 Columns: empfkey, ebmsg, ebbord, ebsort\r\n\r\nEntites:\r\n\r\n\r\n```\r\n@Entity\r\n@Table(name = &quot;SFTSEB2&quot;)\r\n@IdClass(Sftseb2ID.class)\r\n@Immutable\r\npublic class Sftseb2 {\r\n    @Id\r\n    private String empfkey;\r\n\t\r\n    @Id\r\n    private String ebmsg;\r\n\t\r\n    @Id\r\n    private String ebbord;\r\n\t\r\n    @Id\r\n    private int ebsort;\r\n\r\n    private int ebbpos;\r\n\r\n    private String ebsdgn;\r\n\t\r\n    @Id\r\n    private String ebrefn;\r\n\r\n    @OneToMany(fetch = FetchType.LAZY)\r\n    @JoinColumns({\r\n            @JoinColumn(name = &quot;empfkey&quot;, referencedColumnName = &quot;empfkey&quot;, insertable = false, updatable = false),\r\n            @JoinColumn(name = &quot;ebmsg&quot;, referencedColumnName = &quot;ebmsg&quot;, insertable = false, updatable = false),\r\n            @JoinColumn(name = &quot;ebbord&quot;, referencedColumnName = &quot;ebbord&quot;, insertable = false, updatable = false),\r\n            @JoinColumn(name = &quot;ebsort&quot;, referencedColumnName = &quot;ebsort&quot;, insertable = false, updatable = false)\r\n    })\r\n    List&lt;Sftseb3&gt; sftseb3;\r\n\t\r\n\t//GettersSetters\r\n\t...\r\n}\r\n```\r\n\r\n```\r\n@Entity\r\n@Table(name = &quot;SFTSEB3&quot;)\r\n@IdClass(Sftseb3ID.class)\r\n@Immutable\r\npublic class Sftseb3 {\r\n    @Id\r\n    private String empfkey;\r\n\t\r\n    @Id\r\n    private String ebmsg;\r\n\t\r\n    @Id\r\n    private String ebbord;\r\n\t\r\n    @Id\r\n    private int ebsort;\r\n\t\r\n    @Id\r\n    private int ebsrt2;\r\n\t\r\n\t@Id\r\n\tprivate String ebsdgn;\r\n   \r\n    private int ebbpos;\r\n\t\r\n\tprivate String ebstst;\r\n\t\r\n\tprivate String ebstsc;\r\n\t\r\n\t\r\n\t//GettersSetters\r\n\t//...\r\n}\r\n```\r\n\r\n\r\nUnfortunately I can get past this because hibernate is giving back:\r\n\r\n` A Foreign key refering Sftseb2 from Sftseb3 has the wrong number of column. should be 5` \r\n\r\nI tried to have a bi-directional mapping so the complete JoinColumns part went to Sftseb3 with a @ManyToOne and Sftseb2 would only contain the mappedBy at the @OneToMany but I got the same issue.\r\nAs I see there is no way to have different PK on an entity and Join another table to it based on part of the PK or even other columns? Why?\r\n\r\nIf I reduce the number of @Id columns to match in the two tables so Sftseb2&#39;s @Ids: empfkey, ebmsg, ebbord, ebsort then it starts to work, however because this is non-unique all instances of Sftseb2 will be the same... ","title":"Joining 2 tables with part of a Composite Primary key in JPA, Hibernate","body":"<p>I have an old database where can't change the schema so I have to adapt my code to work.</p>\n<p>Within that db I have two tables which I'd like to join.\nThe main Table called SFTSEB2 has a 5 Column Composite primary key: empfkey, ebmsg, ebbord, ebsort, ebrefn only these will going to fulfill the uniqueness on that Table.</p>\n<p>I'd like to join SFTSEB3 to SFTSEB2 but based on only 4 Columns: empfkey, ebmsg, ebbord, ebsort</p>\n<p>Entites:</p>\n<pre><code>@Entity\n@Table(name = &quot;SFTSEB2&quot;)\n@IdClass(Sftseb2ID.class)\n@Immutable\npublic class Sftseb2 {\n    @Id\n    private String empfkey;\n    \n    @Id\n    private String ebmsg;\n    \n    @Id\n    private String ebbord;\n    \n    @Id\n    private int ebsort;\n\n    private int ebbpos;\n\n    private String ebsdgn;\n    \n    @Id\n    private String ebrefn;\n\n    @OneToMany(fetch = FetchType.LAZY)\n    @JoinColumns({\n            @JoinColumn(name = &quot;empfkey&quot;, referencedColumnName = &quot;empfkey&quot;, insertable = false, updatable = false),\n            @JoinColumn(name = &quot;ebmsg&quot;, referencedColumnName = &quot;ebmsg&quot;, insertable = false, updatable = false),\n            @JoinColumn(name = &quot;ebbord&quot;, referencedColumnName = &quot;ebbord&quot;, insertable = false, updatable = false),\n            @JoinColumn(name = &quot;ebsort&quot;, referencedColumnName = &quot;ebsort&quot;, insertable = false, updatable = false)\n    })\n    List&lt;Sftseb3&gt; sftseb3;\n    \n    //GettersSetters\n    ...\n}\n</code></pre>\n<pre><code>@Entity\n@Table(name = &quot;SFTSEB3&quot;)\n@IdClass(Sftseb3ID.class)\n@Immutable\npublic class Sftseb3 {\n    @Id\n    private String empfkey;\n    \n    @Id\n    private String ebmsg;\n    \n    @Id\n    private String ebbord;\n    \n    @Id\n    private int ebsort;\n    \n    @Id\n    private int ebsrt2;\n    \n    @Id\n    private String ebsdgn;\n   \n    private int ebbpos;\n    \n    private String ebstst;\n    \n    private String ebstsc;\n    \n    \n    //GettersSetters\n    //...\n}\n</code></pre>\n<p>Unfortunately I can get past this because hibernate is giving back:</p>\n<p><code> A Foreign key refering Sftseb2 from Sftseb3 has the wrong number of column. should be 5</code></p>\n<p>I tried to have a bi-directional mapping so the complete JoinColumns part went to Sftseb3 with a @ManyToOne and Sftseb2 would only contain the mappedBy at the @OneToMany but I got the same issue.\nAs I see there is no way to have different PK on an entity and Join another table to it based on part of the PK or even other columns? Why?</p>\n<p>If I reduce the number of @Id columns to match in the two tables so Sftseb2's @Ids: empfkey, ebmsg, ebbord, ebsort then it starts to work, however because this is non-unique all instances of Sftseb2 will be the same...</p>\n"},{"tags":["java","arrays"],"comments":[{"owner":{"account_id":401843,"reputation":89873,"user_id":768644,"display_name":"rzwitserloot"},"score":3,"creation_date":1667312073,"post_id":74276350,"comment_id":131134769,"body_markdown":"This application requires that you provide 3 arguments - a key, an IV, and data. You give none, thus, `args[0]`, referring to &#39;the first argument&#39;, throws an exception - there _is no_ first argument.","body":"This application requires that you provide 3 arguments - a key, an IV, and data. You give none, thus, <code>args[0]</code>, referring to &#39;the first argument&#39;, throws an exception - there <i>is no</i> first argument."}],"answers":[{"tags":[],"owner":{"account_id":307264,"reputation":2065,"user_id":618465,"accept_rate":95,"display_name":"Navigatron"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667315030,"creation_date":1667315030,"answer_id":74277907,"question_id":74276350,"body_markdown":"As @rzwitserloot pointed out, you need to check if there have been arguments passed into the application in the command line.\r\n\r\nYou should always be checking for null/empty/invalid values when a user can give input. A simple example on how to prevent the original error and throw a more meaningful error is below:\r\n\r\n```java\r\n public static void main(String[] args) {\r\n    if (null == args || args.length != 3) {\r\n        throw new IOException(&quot;Please add arguments key, iv and data&quot;);\r\n    }\r\n    String key  = args[0];\r\n    String iv   = args[1];\r\n    String data = args[2];\r\n    ...\r\n}\r\n```\r\n\r\nYou may want to be able to not have any inputs, or only input 1/2 out of the 3 arguments. For that you need to check if the argument value exists and then access it.\r\n\r\n","title":"AES with CBC Mode Block Cipher","body":"<p>As @rzwitserloot pointed out, you need to check if there have been arguments passed into the application in the command line.</p>\n<p>You should always be checking for null/empty/invalid values when a user can give input. A simple example on how to prevent the original error and throw a more meaningful error is below:</p>\n<pre class=\"lang-java prettyprint-override\"><code> public static void main(String[] args) {\n    if (null == args || args.length != 3) {\n        throw new IOException(&quot;Please add arguments key, iv and data&quot;);\n    }\n    String key  = args[0];\n    String iv   = args[1];\n    String data = args[2];\n    ...\n}\n</code></pre>\n<p>You may want to be able to not have any inputs, or only input 1/2 out of the 3 arguments. For that you need to check if the argument value exists and then access it.</p>\n"}],"owner":{"account_id":26795385,"reputation":1,"user_id":20388206,"display_name":"MAYO"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":79,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1667315030,"creation_date":1667307616,"question_id":74276350,"body_markdown":"```\r\nimport java.security.spec.AlgorithmParameterSpec;\r\nimport javax.crypto.Cipher;\r\nimport javax.crypto.spec.SecretKeySpec;\r\nimport javax.crypto.spec.IvParameterSpec;\r\n\r\nclass CryptAES {\r\n  static final String cipher_type = &quot;AES/CBC/PKCS5Padding&quot;;\r\n\r\n  public static void main(String[] args) {\r\n    String key  = args[0];\r\n    String iv   = args[1];\r\n    String data = args[2];\r\n\r\n    byte[] enc = encode(key, iv, data.getBytes());\r\n    byte[] dec = decode(key, iv, enc);\r\n\r\n    for (int i = 0; i &lt; enc.length; i++) {\r\n      System.out.printf(&quot;%02x&quot;, enc[i]);\r\n    }\r\n    System.out.println();\r\n        \r\n    System.out.println(new String(dec));\r\n  }\r\n\r\n  public static byte[] encode(String skey, String iv, byte[] data) {\r\n    return process(Cipher.ENCRYPT_MODE, skey, iv, data);\r\n  }\r\n\r\n  public static byte[] decode(String skey, String iv, byte[] data) {\r\n    return process(Cipher.DECRYPT_MODE, skey, iv, data);\r\n  }\r\n\r\n  private static byte[] process(int mode, String skey, String iv, byte[] data) {\r\n    SecretKeySpec key = new SecretKeySpec(skey.getBytes(), &quot;AES&quot;);\r\n    AlgorithmParameterSpec param = new IvParameterSpec(iv.getBytes());\r\n    try {\r\n      Cipher cipher = Cipher.getInstance(cipher_type);\r\n      cipher.init(mode, key, param);\r\n      return cipher.doFinal(data);\r\n    } catch (Exception e) {\r\n      System.err.println(e.getMessage());\r\n      throw new RuntimeException(e);\r\n    }\r\n  }\r\n\r\n}\r\n```\r\n\r\nexception in thread main java.lang.arrayindexoutofboundsexception index out of bounds for length 0[![enter image description here](https://i.stack.imgur.com/8OmQP.png)](https://i.stack.imgur.com/8OmQP.png)\r\n\r\n\r\nexception in thread main java.lang.arrayindexoutofboundsexception index out of bounds for length 0\r\n","title":"AES with CBC Mode Block Cipher","body":"<pre><code>import java.security.spec.AlgorithmParameterSpec;\nimport javax.crypto.Cipher;\nimport javax.crypto.spec.SecretKeySpec;\nimport javax.crypto.spec.IvParameterSpec;\n\nclass CryptAES {\n  static final String cipher_type = &quot;AES/CBC/PKCS5Padding&quot;;\n\n  public static void main(String[] args) {\n    String key  = args[0];\n    String iv   = args[1];\n    String data = args[2];\n\n    byte[] enc = encode(key, iv, data.getBytes());\n    byte[] dec = decode(key, iv, enc);\n\n    for (int i = 0; i &lt; enc.length; i++) {\n      System.out.printf(&quot;%02x&quot;, enc[i]);\n    }\n    System.out.println();\n        \n    System.out.println(new String(dec));\n  }\n\n  public static byte[] encode(String skey, String iv, byte[] data) {\n    return process(Cipher.ENCRYPT_MODE, skey, iv, data);\n  }\n\n  public static byte[] decode(String skey, String iv, byte[] data) {\n    return process(Cipher.DECRYPT_MODE, skey, iv, data);\n  }\n\n  private static byte[] process(int mode, String skey, String iv, byte[] data) {\n    SecretKeySpec key = new SecretKeySpec(skey.getBytes(), &quot;AES&quot;);\n    AlgorithmParameterSpec param = new IvParameterSpec(iv.getBytes());\n    try {\n      Cipher cipher = Cipher.getInstance(cipher_type);\n      cipher.init(mode, key, param);\n      return cipher.doFinal(data);\n    } catch (Exception e) {\n      System.err.println(e.getMessage());\n      throw new RuntimeException(e);\n    }\n  }\n\n}\n</code></pre>\n<p>exception in thread main java.lang.arrayindexoutofboundsexception index out of bounds for length 0<a href=\"https://i.stack.imgur.com/8OmQP.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/8OmQP.png\" alt=\"enter image description here\" /></a></p>\n<p>exception in thread main java.lang.arrayindexoutofboundsexception index out of bounds for length 0</p>\n"},{"tags":["java","eclipse","maven","maven-plugin"],"comments":[{"owner":{"account_id":2375368,"reputation":4423,"user_id":2078908,"display_name":"ursa"},"score":0,"creation_date":1412867015,"post_id":26281322,"comment_id":41235241,"body_markdown":"no pom.xml, no logs (except the tail). it&#39;s impossible to help you or reproduce an issue. read here: http://stackoverflow.com/help/how-to-ask","body":"no pom.xml, no logs (except the tail). it&#39;s impossible to help you or reproduce an issue. read here: <a href=\"http://stackoverflow.com/help/how-to-ask\">stackoverflow.com/help/how-to-ask</a>"},{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":2,"creation_date":1412867949,"post_id":26281322,"comment_id":41235866,"body_markdown":"This looks like you are filtering some kind of files which you shouldn&#39;t. Make `mvn -X compiler | tee mvn.log` and check the log file for `[DEBUG] filtering`. There you can see which file is being filtered. My assumption is you have missed to add files to the `nonFilteredFileExtension`.","body":"This looks like you are filtering some kind of files which you shouldn&#39;t. Make <code>mvn -X compiler | tee mvn.log</code> and check the log file for <code>[DEBUG] filtering</code>. There you can see which file is being filtered. My assumption is you have missed to add files to the <code>nonFilteredFileExtension</code>."},{"owner":{"account_id":447294,"reputation":2224,"user_id":840842,"accept_rate":11,"display_name":"Avinash Reddy"},"score":0,"creation_date":1412935422,"post_id":26281322,"comment_id":41262818,"body_markdown":"@khmarbaise Thank you very much. You were my savior of the day.As suggested by you i ran the command and could see in the log the resources getting filtered. In my pom.xml i had the following piece of code","body":"@khmarbaise Thank you very much. You were my savior of the day.As suggested by you i ran the command and could see in the log the resources getting filtered. In my pom.xml i had the following piece of code"},{"owner":{"account_id":447294,"reputation":2224,"user_id":840842,"accept_rate":11,"display_name":"Avinash Reddy"},"score":0,"creation_date":1412936622,"post_id":26281322,"comment_id":41263450,"body_markdown":"&lt;resources&gt;\n&lt;resource&gt;\n&lt;directory&gt;src/main/resources&lt;/directory&gt;\n&lt;filtering&gt;true&lt;/filtering&gt;\n&lt;/resource&gt;\n&lt;/resources&gt; After commenting it the build was successful.The resources which are being filtered are not needed for the build. But not sure why the build does not work with that piece of code","body":"&lt;resources&gt; &lt;resource&gt; &lt;directory&gt;src/main/resources&lt;/directory&gt; &lt;filtering&gt;true&lt;/filtering&gt; &lt;/resource&gt; &lt;/resources&gt; After commenting it the build was successful.The resources which are being filtered are not needed for the build. But not sure why the build does not work with that piece of code"},{"owner":{"account_id":447294,"reputation":2224,"user_id":840842,"accept_rate":11,"display_name":"Avinash Reddy"},"score":0,"creation_date":1412938049,"post_id":26281322,"comment_id":41264242,"body_markdown":"My colleague got the same issue but the problem was with one of the file. Not sure what the problem is. We removed the file which was causing the problem and had the filtering code as is and ran the build.It was successful. I hope the problem is only with that specific file and that to the file was changed 3 months back and there were no recent code changes in it","body":"My colleague got the same issue but the problem was with one of the file. Not sure what the problem is. We removed the file which was causing the problem and had the filtering code as is and ran the build.It was successful. I hope the problem is only with that specific file and that to the file was changed 3 months back and there were no recent code changes in it"},{"owner":{"account_id":417955,"reputation":18564,"user_id":794242,"accept_rate":80,"display_name":"Wand Maker"},"score":0,"creation_date":1466351329,"post_id":26281322,"comment_id":63269995,"body_markdown":"@AvinashReddy  You should accept an answer if it worked for you.  I had similar issue, and below top ranked answer helped me resolve the issue.","body":"@AvinashReddy  You should accept an answer if it worked for you.  I had similar issue, and below top ranked answer helped me resolve the issue."}],"answers":[{"comments":[{"owner":{"account_id":1164000,"reputation":668,"user_id":1142977,"accept_rate":100,"display_name":"antoine"},"score":7,"creation_date":1429875205,"post_id":26307644,"comment_id":47818419,"body_markdown":"filtering might be necessary on some project.. this is not a correct answer, in my opinion","body":"filtering might be necessary on some project.. this is not a correct answer, in my opinion"},{"owner":{"account_id":1336332,"reputation":3448,"user_id":1279002,"accept_rate":44,"display_name":"theINtoy"},"score":0,"creation_date":1461073360,"post_id":26307644,"comment_id":61025431,"body_markdown":"We had filtering set in our master POM and so couldn&#39;t easily remove this. We had moved to 2.7. The better approach was described above: http://stackoverflow.com/a/28864641/1279002 and we added a dependency on maven-filtering 1.3","body":"We had filtering set in our master POM and so couldn&#39;t easily remove this. We had moved to 2.7. The better approach was described above: <a href=\"http://stackoverflow.com/a/28864641/1279002\">stackoverflow.com/a/28864641/1279002</a> and we added a dependency on maven-filtering 1.3"}],"tags":[],"owner":{"account_id":2135127,"reputation":1100,"user_id":1895111,"accept_rate":43,"display_name":"Justin"},"comment_count":2,"down_vote_count":5,"up_vote_count":19,"is_accepted":false,"score":14,"last_activity_date":1412973920,"creation_date":1412973258,"answer_id":26307644,"question_id":26281322,"body_markdown":"remove this work for me:\r\n\r\n    &lt;filtering&gt;true&lt;/filtering&gt;\r\n\r\nI guess it is caused by [this filtering bug][1]\r\n\r\n\r\n  [1]: https://bugzilla.redhat.com/show_bug.cgi?id=1077375","title":"Maven:Failed to execute goal org.apache.maven.plugins:maven-resources-plugin:2.7:resources","body":"<p>remove this work for me:</p>\n\n<pre><code>&lt;filtering&gt;true&lt;/filtering&gt;\n</code></pre>\n\n<p>I guess it is caused by <a href=\"https://bugzilla.redhat.com/show_bug.cgi?id=1077375\" rel=\"noreferrer\">this filtering bug</a></p>\n"},{"comments":[{"owner":{"account_id":1164000,"reputation":668,"user_id":1142977,"accept_rate":100,"display_name":"antoine"},"score":4,"creation_date":1429875321,"post_id":28864641,"comment_id":47818506,"body_markdown":"Yes, either add the dependency or go back to previous version (2.6) if you don&#39;t need any of the 2.7 new functionalities","body":"Yes, either add the dependency or go back to previous version (2.6) if you don&#39;t need any of the 2.7 new functionalities"},{"owner":{"account_id":125373,"reputation":2944,"user_id":321108,"display_name":"yurez"},"score":14,"creation_date":1474022628,"post_id":28864641,"comment_id":66373663,"body_markdown":"Upgrading maven-resources-plugin to 3.0.1 also solves the problem.","body":"Upgrading maven-resources-plugin to 3.0.1 also solves the problem."},{"owner":{"account_id":2494278,"reputation":5150,"user_id":2171120,"display_name":"mirabilos"},"score":1,"creation_date":1536852897,"post_id":28864641,"comment_id":91581645,"body_markdown":"@Gili the link is now: https://issues.apache.org/jira/browse/MSHARED-325","body":"@Gili the link is now: <a href=\"https://issues.apache.org/jira/browse/MSHARED-325\" rel=\"nofollow noreferrer\">issues.apache.org/jira/browse/MSHARED-325</a>"}],"tags":[],"owner":{"account_id":1033485,"reputation":1577,"user_id":1041319,"display_name":"arntg"},"comment_count":3,"down_vote_count":0,"up_vote_count":71,"is_accepted":false,"score":71,"last_activity_date":1438263263,"creation_date":1425502203,"answer_id":28864641,"question_id":26281322,"body_markdown":"With:\r\n\r\n            &lt;plugin&gt;\r\n              &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n             \t&lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\r\n             \t&lt;version&gt;2.7&lt;/version&gt;\r\n            &lt;/plugin&gt;\r\n\r\nWas getting the following exception:\r\n\r\n    ...\r\n    Caused by: org.apache.maven.plugin.MojoExecutionException: Mark invalid\r\n    \tat org.apache.maven.plugin.resources.ResourcesMojo.execute(ResourcesMojo.java:306)\r\n    \tat org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo(DefaultBuildPluginManager.java:132)\r\n    \tat org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:208)\r\n    \t... 25 more\r\n    Caused by: org.apache.maven.shared.filtering.MavenFilteringException: Mark invalid\r\n    \tat org.apache.maven.shared.filtering.DefaultMavenFileFilter.copyFile(DefaultMavenFileFilter.java:129)\r\n    \tat org.apache.maven.shared.filtering.DefaultMavenResourcesFiltering.filterResources(DefaultMavenResourcesFiltering.java:264)\r\n    \tat org.apache.maven.plugin.resources.ResourcesMojo.execute(ResourcesMojo.java:300)\r\n    \t... 27 more\r\n    Caused by: java.io.IOException: Mark invalid\r\n    \tat java.io.BufferedReader.reset(BufferedReader.java:505)\r\n    \tat org.apache.maven.shared.filtering.MultiDelimiterInterpolatorFilterReaderLineEnding.read(MultiDelimiterInterpolatorFilterReaderLineEnding.java:416)\r\n    \tat org.apache.maven.shared.filtering.MultiDelimiterInterpolatorFilterReaderLineEnding.read(MultiDelimiterInterpolatorFilterReaderLineEnding.java:205)\r\n    \tat java.io.Reader.read(Reader.java:140)\r\n    \tat org.apache.maven.shared.utils.io.IOUtil.copy(IOUtil.java:181)\r\n    \tat org.apache.maven.shared.utils.io.IOUtil.copy(IOUtil.java:168)\r\n    \tat org.apache.maven.shared.utils.io.FileUtils.copyFile(FileUtils.java:1856)\r\n    \tat org.apache.maven.shared.utils.io.FileUtils.copyFile(FileUtils.java:1804)\r\n    \tat org.apache.maven.shared.filtering.DefaultMavenFileFilter.copyFile(DefaultMavenFileFilter.java:114)\r\n    \t... 29 more\r\n&lt;br&gt;&lt;br&gt;\r\nThen it is gone after adding maven-filtering 1.3:\r\n\r\n            &lt;plugin&gt;\r\n              &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n             \t&lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\r\n             \t&lt;version&gt;2.7&lt;/version&gt;\r\n              &lt;dependencies&gt;\r\n                &lt;dependency&gt;\r\n                \t&lt;groupId&gt;org.apache.maven.shared&lt;/groupId&gt;\r\n                \t&lt;artifactId&gt;maven-filtering&lt;/artifactId&gt;\r\n                \t&lt;version&gt;1.3&lt;/version&gt;\r\n                &lt;/dependency&gt;\r\n              &lt;/dependencies&gt;\r\n            &lt;/plugin&gt;\r\n\r\n","title":"Maven:Failed to execute goal org.apache.maven.plugins:maven-resources-plugin:2.7:resources","body":"<p>With:</p>\n\n<pre><code>        &lt;plugin&gt;\n          &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\n            &lt;version&gt;2.7&lt;/version&gt;\n        &lt;/plugin&gt;\n</code></pre>\n\n<p>Was getting the following exception:</p>\n\n<pre><code>...\nCaused by: org.apache.maven.plugin.MojoExecutionException: Mark invalid\n    at org.apache.maven.plugin.resources.ResourcesMojo.execute(ResourcesMojo.java:306)\n    at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo(DefaultBuildPluginManager.java:132)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:208)\n    ... 25 more\nCaused by: org.apache.maven.shared.filtering.MavenFilteringException: Mark invalid\n    at org.apache.maven.shared.filtering.DefaultMavenFileFilter.copyFile(DefaultMavenFileFilter.java:129)\n    at org.apache.maven.shared.filtering.DefaultMavenResourcesFiltering.filterResources(DefaultMavenResourcesFiltering.java:264)\n    at org.apache.maven.plugin.resources.ResourcesMojo.execute(ResourcesMojo.java:300)\n    ... 27 more\nCaused by: java.io.IOException: Mark invalid\n    at java.io.BufferedReader.reset(BufferedReader.java:505)\n    at org.apache.maven.shared.filtering.MultiDelimiterInterpolatorFilterReaderLineEnding.read(MultiDelimiterInterpolatorFilterReaderLineEnding.java:416)\n    at org.apache.maven.shared.filtering.MultiDelimiterInterpolatorFilterReaderLineEnding.read(MultiDelimiterInterpolatorFilterReaderLineEnding.java:205)\n    at java.io.Reader.read(Reader.java:140)\n    at org.apache.maven.shared.utils.io.IOUtil.copy(IOUtil.java:181)\n    at org.apache.maven.shared.utils.io.IOUtil.copy(IOUtil.java:168)\n    at org.apache.maven.shared.utils.io.FileUtils.copyFile(FileUtils.java:1856)\n    at org.apache.maven.shared.utils.io.FileUtils.copyFile(FileUtils.java:1804)\n    at org.apache.maven.shared.filtering.DefaultMavenFileFilter.copyFile(DefaultMavenFileFilter.java:114)\n    ... 29 more\n</code></pre>\n\n<p><br><br>\nThen it is gone after adding maven-filtering 1.3:</p>\n\n<pre><code>        &lt;plugin&gt;\n          &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\n            &lt;version&gt;2.7&lt;/version&gt;\n          &lt;dependencies&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.apache.maven.shared&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-filtering&lt;/artifactId&gt;\n                &lt;version&gt;1.3&lt;/version&gt;\n            &lt;/dependency&gt;\n          &lt;/dependencies&gt;\n        &lt;/plugin&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2612631,"reputation":81,"user_id":2262466,"display_name":"Dan"},"comment_count":0,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1464062991,"creation_date":1464062991,"answer_id":37404239,"question_id":26281322,"body_markdown":"I had this issue too because I was filtering /src/main/resources and forgot I had added a keystore (*.jks) binary to this directory.  \r\n\r\nAdd a &quot;resource&quot; block with exclusions for binary files and your problem may be resolved.\r\n\r\n    &lt;build&gt;\r\n      &lt;finalName&gt;somename&lt;/finalName&gt;\r\n      &lt;testResources&gt;\r\n        &lt;testResource&gt;\r\n          &lt;directory&gt;src/test/resources&lt;/directory&gt;\r\n          &lt;filtering&gt;false&lt;/filtering&gt;\r\n        &lt;/testResource&gt;\r\n      &lt;/testResources&gt;\r\n      &lt;resources&gt;\r\n        &lt;resource&gt;\r\n          &lt;directory&gt;src/main/resources&lt;/directory&gt;\r\n          &lt;filtering&gt;true&lt;/filtering&gt;\r\n          &lt;excludes&gt;\r\n            &lt;exclude&gt;*.jks&lt;/exclude&gt;\r\n            &lt;exclude&gt;*.png&lt;/exclude&gt;\r\n          &lt;/excludes&gt;        \r\n        &lt;/resource&gt;\r\n      &lt;/resources&gt;\r\n    ...","title":"Maven:Failed to execute goal org.apache.maven.plugins:maven-resources-plugin:2.7:resources","body":"<p>I had this issue too because I was filtering /src/main/resources and forgot I had added a keystore (*.jks) binary to this directory.  </p>\n\n<p>Add a \"resource\" block with exclusions for binary files and your problem may be resolved.</p>\n\n<pre><code>&lt;build&gt;\n  &lt;finalName&gt;somename&lt;/finalName&gt;\n  &lt;testResources&gt;\n    &lt;testResource&gt;\n      &lt;directory&gt;src/test/resources&lt;/directory&gt;\n      &lt;filtering&gt;false&lt;/filtering&gt;\n    &lt;/testResource&gt;\n  &lt;/testResources&gt;\n  &lt;resources&gt;\n    &lt;resource&gt;\n      &lt;directory&gt;src/main/resources&lt;/directory&gt;\n      &lt;filtering&gt;true&lt;/filtering&gt;\n      &lt;excludes&gt;\n        &lt;exclude&gt;*.jks&lt;/exclude&gt;\n        &lt;exclude&gt;*.png&lt;/exclude&gt;\n      &lt;/excludes&gt;        \n    &lt;/resource&gt;\n  &lt;/resources&gt;\n...\n</code></pre>\n"},{"comments":[{"owner":{"account_id":3068449,"reputation":2571,"user_id":2599657,"accept_rate":60,"display_name":"sashok_bg"},"score":2,"creation_date":1487846972,"post_id":42160004,"comment_id":71972714,"body_markdown":"As mentioned in previous comment, filtering is sometimes needed in the project, thus not a valid answer imo","body":"As mentioned in previous comment, filtering is sometimes needed in the project, thus not a valid answer imo"}],"tags":[],"owner":{"account_id":1111413,"reputation":141,"user_id":6238644,"display_name":"Sourabh Kanojiya"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1486731754,"creation_date":1486731540,"answer_id":42160004,"question_id":26281322,"body_markdown":"I faced the same problem and did the filtering false like below working for me.\r\nYou can try the same...\r\n\r\n    &lt;testResources&gt;\r\n        &lt;testResource&gt;\r\n            &lt;directory&gt;src/test/java&lt;/directory&gt;\r\n            &lt;filtering&gt;false&lt;/filtering&gt;\r\n        &lt;/testResource&gt;\r\n        &lt;testResource&gt;\r\n            &lt;directory&gt;src/test/resources&lt;/directory&gt;\r\n            &lt;filtering&gt;false&lt;/filtering&gt;\r\n        &lt;/testResource&gt;\r\n    &lt;/testResources&gt;","title":"Maven:Failed to execute goal org.apache.maven.plugins:maven-resources-plugin:2.7:resources","body":"<p>I faced the same problem and did the filtering false like below working for me.\nYou can try the same...</p>\n\n<pre><code>&lt;testResources&gt;\n    &lt;testResource&gt;\n        &lt;directory&gt;src/test/java&lt;/directory&gt;\n        &lt;filtering&gt;false&lt;/filtering&gt;\n    &lt;/testResource&gt;\n    &lt;testResource&gt;\n        &lt;directory&gt;src/test/resources&lt;/directory&gt;\n        &lt;filtering&gt;false&lt;/filtering&gt;\n    &lt;/testResource&gt;\n&lt;/testResources&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3068449,"reputation":2571,"user_id":2599657,"accept_rate":60,"display_name":"sashok_bg"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1487847117,"creation_date":1487847117,"answer_id":42413663,"question_id":26281322,"body_markdown":"What worked for me is to add **include** tag in order to specify exactly what I want to filter.\r\n\r\nIt seems the resource plugin has problems going through the whole **src/main/resource** folder, probably due to some specific files inside.\r\n\r\n        &lt;resources&gt;\r\n            &lt;resource&gt;\r\n                &lt;directory&gt;src/main/resources&lt;/directory&gt;\r\n                &lt;filtering&gt;true&lt;/filtering&gt;\r\n                &lt;includes&gt;\r\n                    &lt;include&gt;application.yml&lt;/include&gt;\r\n                &lt;/includes&gt;\r\n            &lt;/resource&gt;\r\n        &lt;/resources&gt;","title":"Maven:Failed to execute goal org.apache.maven.plugins:maven-resources-plugin:2.7:resources","body":"<p>What worked for me is to add <strong>include</strong> tag in order to specify exactly what I want to filter.</p>\n\n<p>It seems the resource plugin has problems going through the whole <strong>src/main/resource</strong> folder, probably due to some specific files inside.</p>\n\n<pre><code>    &lt;resources&gt;\n        &lt;resource&gt;\n            &lt;directory&gt;src/main/resources&lt;/directory&gt;\n            &lt;filtering&gt;true&lt;/filtering&gt;\n            &lt;includes&gt;\n                &lt;include&gt;application.yml&lt;/include&gt;\n            &lt;/includes&gt;\n        &lt;/resource&gt;\n    &lt;/resources&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2201964,"reputation":899,"user_id":1946145,"display_name":"Santosh Sindham"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1523001604,"creation_date":1523001604,"answer_id":49688089,"question_id":26281322,"body_markdown":"In my case the `targetPath` was not having any value it was blank in the `resources --&gt; resource` for the file `directory` with files that had issue.\r\nI had to update it to `global` as seen in the `Code Sample 2` and re-run build to fix the issue.\r\n\r\n**Code Sample 1 (with issue)**\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;resources&gt;\r\n\t\t\t&lt;resource&gt;\r\n\t\t\t\t&lt;directory&gt;src/main/locale&lt;/directory&gt;\r\n\t\t\t\t&lt;filtering&gt;true&lt;/filtering&gt;\r\n\t\t\t\t&lt;targetPath&gt;&lt;/targetPath&gt;\r\n\t\t\t\t&lt;includes&gt;\r\n\t\t\t\t\t&lt;include&gt;*.xml&lt;/include&gt;\r\n\t\t\t\t\t&lt;include&gt;*.config&lt;/include&gt;\r\n\t\t\t\t\t&lt;include&gt;*.properties&lt;/include&gt;\r\n\t\t\t\t&lt;/includes&gt;\r\n\t\t\t&lt;/resource&gt;\r\n\t\t&lt;/resources&gt;\r\n   &lt;/build&gt;\r\n\r\n**Code Sample 2 (fix applied)**\r\n\r\n    &lt;build&gt;\r\n\t\t&lt;resources&gt;\r\n\t\t\t&lt;resource&gt;\r\n\t\t\t\t&lt;directory&gt;src/main/locale&lt;/directory&gt;\r\n\t\t\t\t&lt;filtering&gt;true&lt;/filtering&gt;\r\n\t\t\t\t&lt;targetPath&gt;global&lt;/targetPath&gt;\r\n\t\t\t\t&lt;includes&gt;\r\n\t\t\t\t\t&lt;include&gt;*.xml&lt;/include&gt;\r\n\t\t\t\t\t&lt;include&gt;*.config&lt;/include&gt;\r\n\t\t\t\t\t&lt;include&gt;*.properties&lt;/include&gt;\r\n\t\t\t\t&lt;/includes&gt;\r\n\t\t\t&lt;/resource&gt;\r\n\t\t&lt;/resources&gt;\r\n   &lt;/build&gt;","title":"Maven:Failed to execute goal org.apache.maven.plugins:maven-resources-plugin:2.7:resources","body":"<p>In my case the <code>targetPath</code> was not having any value it was blank in the <code>resources --&gt; resource</code> for the file <code>directory</code> with files that had issue.\nI had to update it to <code>global</code> as seen in the <code>Code Sample 2</code> and re-run build to fix the issue.</p>\n\n<p><strong>Code Sample 1 (with issue)</strong></p>\n\n<pre><code>&lt;build&gt;\n    &lt;resources&gt;\n        &lt;resource&gt;\n            &lt;directory&gt;src/main/locale&lt;/directory&gt;\n            &lt;filtering&gt;true&lt;/filtering&gt;\n            &lt;targetPath&gt;&lt;/targetPath&gt;\n            &lt;includes&gt;\n                &lt;include&gt;*.xml&lt;/include&gt;\n                &lt;include&gt;*.config&lt;/include&gt;\n                &lt;include&gt;*.properties&lt;/include&gt;\n            &lt;/includes&gt;\n        &lt;/resource&gt;\n    &lt;/resources&gt;\n</code></pre>\n\n<p></p>\n\n<p><strong>Code Sample 2 (fix applied)</strong></p>\n\n<pre><code>&lt;build&gt;\n    &lt;resources&gt;\n        &lt;resource&gt;\n            &lt;directory&gt;src/main/locale&lt;/directory&gt;\n            &lt;filtering&gt;true&lt;/filtering&gt;\n            &lt;targetPath&gt;global&lt;/targetPath&gt;\n            &lt;includes&gt;\n                &lt;include&gt;*.xml&lt;/include&gt;\n                &lt;include&gt;*.config&lt;/include&gt;\n                &lt;include&gt;*.properties&lt;/include&gt;\n            &lt;/includes&gt;\n        &lt;/resource&gt;\n    &lt;/resources&gt;\n</code></pre>\n\n<p></p>\n"},{"tags":[],"owner":{"account_id":6649080,"reputation":10675,"user_id":5131937,"accept_rate":67,"display_name":"Radouane ROUFID"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1525330861,"creation_date":1525330861,"answer_id":50148772,"question_id":26281322,"body_markdown":"From official documentation \r\n\r\n&gt; Warning: Do not filter files with binary content like images! This\r\n&gt; will most likely result in corrupt output.\r\n&gt; \r\n&gt; If you have both text files and binary files as resources it is\r\n&gt; recommended to have two separated folders. One folder\r\n&gt; src/main/resources (default) for the resources which are not filtered\r\n&gt; and another folder src/main/resources-filtered for the resources which\r\n&gt; are filtered.\r\n\r\n    &lt;project&gt;\r\n      ...\r\n      &lt;build&gt;\r\n        ...\r\n        &lt;resources&gt;\r\n          &lt;resource&gt;\r\n            &lt;directory&gt;src/main/resources-filtered&lt;/directory&gt;\r\n            &lt;filtering&gt;true&lt;/filtering&gt;\r\n          &lt;/resource&gt;\r\n          ...\r\n        &lt;/resources&gt;\r\n        ...\r\n      &lt;/build&gt;\r\n      ...\r\n    &lt;/project&gt;\r\n\r\n&gt; Now you can put those files into src/main/resources which should not\r\n&gt; filtered and the other files into src/main/resources-filtered.\r\n&gt; \r\n&gt; **As already mentioned filtering binary files like images,pdf`s etc.**\r\n&gt; **could result in corrupted output.** To prevent such problems you can\r\n&gt; configure file extensions which will not being filtered.\r\n\r\nMost certainly, You have in your directory files that cannot be filtered. So you have to specify the extensions that has not be filtered. \r\n","title":"Maven:Failed to execute goal org.apache.maven.plugins:maven-resources-plugin:2.7:resources","body":"<p>From official documentation </p>\n\n<blockquote>\n  <p>Warning: Do not filter files with binary content like images! This\n  will most likely result in corrupt output.</p>\n  \n  <p>If you have both text files and binary files as resources it is\n  recommended to have two separated folders. One folder\n  src/main/resources (default) for the resources which are not filtered\n  and another folder src/main/resources-filtered for the resources which\n  are filtered.</p>\n</blockquote>\n\n<pre><code>&lt;project&gt;\n  ...\n  &lt;build&gt;\n    ...\n    &lt;resources&gt;\n      &lt;resource&gt;\n        &lt;directory&gt;src/main/resources-filtered&lt;/directory&gt;\n        &lt;filtering&gt;true&lt;/filtering&gt;\n      &lt;/resource&gt;\n      ...\n    &lt;/resources&gt;\n    ...\n  &lt;/build&gt;\n  ...\n&lt;/project&gt;\n</code></pre>\n\n<blockquote>\n  <p>Now you can put those files into src/main/resources which should not\n  filtered and the other files into src/main/resources-filtered.</p>\n  \n  <p><strong>As already mentioned filtering binary files like images,pdf`s etc.</strong>\n  <strong>could result in corrupted output.</strong> To prevent such problems you can\n  configure file extensions which will not being filtered.</p>\n</blockquote>\n\n<p>Most certainly, You have in your directory files that cannot be filtered. So you have to specify the extensions that has not be filtered. </p>\n"},{"comments":[{"owner":{"account_id":1303659,"reputation":2036,"user_id":1253088,"display_name":"Vaibs"},"score":0,"creation_date":1554467891,"post_id":52271489,"comment_id":97774414,"body_markdown":"Sam with my case as well.","body":"Sam with my case as well."}],"tags":[],"owner":{"account_id":13613566,"reputation":75,"user_id":9820210,"display_name":"Soodabeh Neirizi"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1536653813,"creation_date":1536653458,"answer_id":52271489,"question_id":26281322,"body_markdown":"in my case, it was a confilict with IntelliJ , I&#39;ve resolved it by building the project from command line and it worked!","title":"Maven:Failed to execute goal org.apache.maven.plugins:maven-resources-plugin:2.7:resources","body":"<p>in my case, it was a confilict with IntelliJ , I've resolved it by building the project from command line and it worked!</p>\n"},{"comments":[{"owner":{"account_id":4145975,"reputation":396,"user_id":3399687,"display_name":"HulkSmash"},"score":0,"creation_date":1597754842,"post_id":60286649,"comment_id":112232115,"body_markdown":"This happened to me suddenly when I added an email address to a resource file. Thx for the solution.","body":"This happened to me suddenly when I added an email address to a resource file. Thx for the solution."}],"tags":[],"owner":{"account_id":5373611,"reputation":17,"user_id":4281312,"display_name":"Georgee"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1582047736,"creation_date":1582047736,"answer_id":60286649,"question_id":26281322,"body_markdown":"I had the same error because of character &#39;@&#39; in my resources/application.properties. All I did was replacing the &#39;@&#39; for its unicode value: \r\n`eureka.client.serviceUrl.defaultZone=http://discUser:discPassword\\u0040localhost:8082/eureka/` and it worked like charm. I know the &#39;@&#39; is a perfectly valid character in .properties files and the file was in UTF-8 encoding and it makes me question my career till today but it&#39;s worth a shot if you delete content of your resource files to see if you can get pass this error.","title":"Maven:Failed to execute goal org.apache.maven.plugins:maven-resources-plugin:2.7:resources","body":"<p>I had the same error because of character '@' in my resources/application.properties. All I did was replacing the '@' for its unicode value: \n<code>eureka.client.serviceUrl.defaultZone=http://discUser:discPassword\\u0040localhost:8082/eureka/</code> and it worked like charm. I know the '@' is a perfectly valid character in .properties files and the file was in UTF-8 encoding and it makes me question my career till today but it's worth a shot if you delete content of your resource files to see if you can get pass this error.</p>\n"},{"tags":[],"owner":{"account_id":6168346,"reputation":1290,"user_id":4807443,"accept_rate":61,"display_name":"shamila"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1589544005,"creation_date":1589544005,"answer_id":61818700,"question_id":26281322,"body_markdown":"This could be a issue in mvn home path in IntellijIdea IDE. For me it worked out when I set the mvn home directory correctly.[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/kG2wQ.png","title":"Maven:Failed to execute goal org.apache.maven.plugins:maven-resources-plugin:2.7:resources","body":"<p>This could be a issue in mvn home path in IntellijIdea IDE. For me it worked out when I set the mvn home directory correctly.<a href=\"https://i.stack.imgur.com/kG2wQ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/kG2wQ.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":[],"owner":{"account_id":14198569,"reputation":11,"user_id":10257103,"display_name":"ZINE EL ABEDINE LOGDALI"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1616094732,"creation_date":1616094732,"answer_id":66697636,"question_id":26281322,"body_markdown":"I solved that by changing coding format of ressources files to UTF-8 ","title":"Maven:Failed to execute goal org.apache.maven.plugins:maven-resources-plugin:2.7:resources","body":"<p>I solved that by changing coding format of ressources files to UTF-8</p>\n"},{"tags":[],"owner":{"account_id":183306,"reputation":9436,"user_id":418599,"accept_rate":52,"display_name":"Antonio Petricca"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1620718330,"creation_date":1620718330,"answer_id":67482339,"question_id":26281322,"body_markdown":"I fixed the same issue by referencing the latest maven resource plugin release:\r\n\r\n```xml\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n    &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\r\n    &lt;version&gt;3.2.0&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```","title":"Maven:Failed to execute goal org.apache.maven.plugins:maven-resources-plugin:2.7:resources","body":"<p>I fixed the same issue by referencing the latest maven resource plugin release:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\n    &lt;version&gt;3.2.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2084596,"reputation":1166,"user_id":1855840,"display_name":"ranma2913"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667314803,"creation_date":1667314803,"answer_id":74277863,"question_id":26281322,"body_markdown":"Thanks for all the suggestions. I&#39;m using temurin-11.jdk &amp; Spring-Boot 2.7.5 I opted to go the plugin upgrade route.\r\n\r\nMy Original error:\r\n```text\r\n[ERROR] Failed to execute goal org.apache.maven.plugins:maven-resources-plugin:2.7:resources \r\n(default-resources) on project my-app: Mark invalid -&gt; [Help 1]\r\n```\r\n\r\nAfter Upgrading my pom as follows:\r\n\r\nI&#39;ve got this resources bit in my build section:\r\n```xml\r\n&lt;resources&gt;\r\n  &lt;resource&gt;\r\n    &lt;directory&gt;src/main/resources&lt;/directory&gt;\r\n    &lt;filtering&gt;true&lt;/filtering&gt;\r\n  &lt;/resource&gt;\r\n&lt;/resources&gt;\r\n```\r\n\r\nAnd then this is my plugin definition:\r\n```xml\r\n&lt;plugin&gt;\r\n  &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n  &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\r\n  &lt;version&gt;3.3.0&lt;/version&gt;\r\n  &lt;configuration&gt;\r\n    &lt;delimiters&gt;\r\n      &lt;delimiter&gt;@&lt;/delimiter&gt;\r\n    &lt;/delimiters&gt;\r\n    &lt;useDefaultDelimiters&gt;false&lt;/useDefaultDelimiters&gt;\r\n  &lt;/configuration&gt;\r\n&lt;/plugin&gt;\r\n```\r\n\r\nI got a new error: \r\n```\r\n[ERROR] Failed to execute goal org.apache.maven.plugins:maven-resources-plugin:3.3.0:resources \r\n(default-resources) on project my-app: filtering /Users/me/IntelliJ_Workspace/my-app/my-app/src/main/resources/static/fonts/glyphicons-halflings-regular.woff \r\nto /Users/me/IntelliJ_Workspace/my-app/my-app/target/classes/static/fonts/glyphicons-halflings-regular.woff \r\nfailed with MalformedInputException: Input length = 1 -&gt; [Help 1]\r\n```\r\n\r\nAs you can see a .woff file extension contains at least 1 matching delimiter but fails to parse. In my case I don&#39;t want filtering on anything but `.properties` &amp; `.yaml` files. After reading the [maven-resources-plugin/resources docs](https://maven.apache.org/plugins/maven-resources-plugin/resources-mojo.html#nonFilteredFileExtensions) I found there&#39;s a config nonFilteredFileExtensions where we can exclude file extensions we don&#39;t want to filter. So my final plugin config looks like:\r\n\r\n```xml\r\n&lt;plugin&gt;\r\n  &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n  &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\r\n  &lt;version&gt;3.3.0&lt;/version&gt;\r\n  &lt;configuration&gt;\r\n    &lt;delimiters&gt;\r\n      &lt;delimiter&gt;@&lt;/delimiter&gt;\r\n    &lt;/delimiters&gt;\r\n    &lt;useDefaultDelimiters&gt;false&lt;/useDefaultDelimiters&gt;\r\n &lt;nonFilteredFileExtensions&gt;jpg,jpeg,gif,bmp,png,svg,ttf,woff,woff2&lt;/nonFilteredFileExtensions&gt;\r\n  &lt;/configuration&gt;\r\n&lt;/plugin&gt;\r\n```","title":"Maven:Failed to execute goal org.apache.maven.plugins:maven-resources-plugin:2.7:resources","body":"<p>Thanks for all the suggestions. I'm using temurin-11.jdk &amp; Spring-Boot 2.7.5 I opted to go the plugin upgrade route.</p>\n<p>My Original error:</p>\n<pre><code>[ERROR] Failed to execute goal org.apache.maven.plugins:maven-resources-plugin:2.7:resources \n(default-resources) on project my-app: Mark invalid -&gt; [Help 1]\n</code></pre>\n<p>After Upgrading my pom as follows:</p>\n<p>I've got this resources bit in my build section:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;resources&gt;\n  &lt;resource&gt;\n    &lt;directory&gt;src/main/resources&lt;/directory&gt;\n    &lt;filtering&gt;true&lt;/filtering&gt;\n  &lt;/resource&gt;\n&lt;/resources&gt;\n</code></pre>\n<p>And then this is my plugin definition:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;plugin&gt;\n  &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n  &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\n  &lt;version&gt;3.3.0&lt;/version&gt;\n  &lt;configuration&gt;\n    &lt;delimiters&gt;\n      &lt;delimiter&gt;@&lt;/delimiter&gt;\n    &lt;/delimiters&gt;\n    &lt;useDefaultDelimiters&gt;false&lt;/useDefaultDelimiters&gt;\n  &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p>I got a new error:</p>\n<pre><code>[ERROR] Failed to execute goal org.apache.maven.plugins:maven-resources-plugin:3.3.0:resources \n(default-resources) on project my-app: filtering /Users/me/IntelliJ_Workspace/my-app/my-app/src/main/resources/static/fonts/glyphicons-halflings-regular.woff \nto /Users/me/IntelliJ_Workspace/my-app/my-app/target/classes/static/fonts/glyphicons-halflings-regular.woff \nfailed with MalformedInputException: Input length = 1 -&gt; [Help 1]\n</code></pre>\n<p>As you can see a .woff file extension contains at least 1 matching delimiter but fails to parse. In my case I don't want filtering on anything but <code>.properties</code> &amp; <code>.yaml</code> files. After reading the <a href=\"https://maven.apache.org/plugins/maven-resources-plugin/resources-mojo.html#nonFilteredFileExtensions\" rel=\"nofollow noreferrer\">maven-resources-plugin/resources docs</a> I found there's a config nonFilteredFileExtensions where we can exclude file extensions we don't want to filter. So my final plugin config looks like:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;plugin&gt;\n  &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n  &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\n  &lt;version&gt;3.3.0&lt;/version&gt;\n  &lt;configuration&gt;\n    &lt;delimiters&gt;\n      &lt;delimiter&gt;@&lt;/delimiter&gt;\n    &lt;/delimiters&gt;\n    &lt;useDefaultDelimiters&gt;false&lt;/useDefaultDelimiters&gt;\n &lt;nonFilteredFileExtensions&gt;jpg,jpeg,gif,bmp,png,svg,ttf,woff,woff2&lt;/nonFilteredFileExtensions&gt;\n  &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n"}],"owner":{"account_id":447294,"reputation":2224,"user_id":840842,"accept_rate":11,"display_name":"Avinash Reddy"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":203323,"favorite_count":0,"down_vote_count":0,"up_vote_count":57,"answer_count":13,"score":57,"last_activity_date":1667314803,"creation_date":1412865685,"question_id":26281322,"body_markdown":"I am building my project using Maven. My maven version is apache-maven-3.0.4. I am using Eclipse Luna. When I try to build my project I get the following error\r\n\r\n&gt; [ERROR] Failed to execute goal org.apache.maven.plugins:maven-resources-plugin:2.7:resources (default-resources) on project OrionCommunity: Mark invalid -&gt; [Help 1].\r\n\r\nFollowing is the stack trace when I run mvn clean install `-X`:\r\n\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] BUILD FAILURE\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] Total time: 1:53.295s\r\n    [INFO] Finished at: Thu Oct 09 20:00:26 IST 2014\r\n    [INFO] Final Memory: 9M/25M\r\n    [INFO] ------------------------------------------------------------------------\r\n    [ERROR] Failed to execute goal org.apache.maven.plugins:maven-resources-plugin:2.7:resources (default-resources) on project OrionCommunity: Mark invalid -&gt; [Hel\r\n    p 1]\r\n    org.apache.maven.lifecycle.LifecycleExecutionException: Failed to execute goal org.apache.maven.plugins:maven-resources-plugin:2.7:resources (default-resources)\r\n     on project OrionCommunity: Mark invalid\r\n            at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:217)\r\n            at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:153)\r\n            at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:145)\r\n            at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:84)\r\n            at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:59)\r\n            at org.apache.maven.lifecycle.internal.LifecycleStarter.singleThreadedBuild(LifecycleStarter.java:183)\r\n            at org.apache.maven.lifecycle.internal.LifecycleStarter.execute(LifecycleStarter.java:161)\r\n            at org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:320)\r\n            at org.apache.maven.DefaultMaven.execute(DefaultMaven.java:156)\r\n            at org.apache.maven.cli.MavenCli.execute(MavenCli.java:537)\r\n            at org.apache.maven.cli.MavenCli.doMain(MavenCli.java:196)\r\n            at org.apache.maven.cli.MavenCli.main(MavenCli.java:141)\r\n            at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n            at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\r\n            at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\r\n            at java.lang.reflect.Method.invoke(Method.java:597)\r\n            at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced(Launcher.java:290)\r\n            at org.codehaus.plexus.classworlds.launcher.Launcher.launch(Launcher.java:230)\r\n            at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode(Launcher.java:409)\r\n            at org.codehaus.plexus.classworlds.launcher.Launcher.main(Launcher.java:352)\r\n    Caused by: org.apache.maven.plugin.MojoExecutionException: Mark invalid\r\n            at org.apache.maven.plugin.resources.ResourcesMojo.execute(ResourcesMojo.java:306)\r\n            at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo(DefaultBuildPluginManager.java:101)\r\n            at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:209)\r\n            ... 19 more\r\n    Caused by: org.apache.maven.shared.filtering.MavenFilteringException: Mark invalid\r\n            at org.apache.maven.shared.filtering.DefaultMavenFileFilter.copyFile(DefaultMavenFileFilter.java:129)\r\n            at org.apache.maven.shared.filtering.DefaultMavenResourcesFiltering.filterResources(DefaultMavenResourcesFiltering.java:264)\r\n            at org.apache.maven.plugin.resources.ResourcesMojo.execute(ResourcesMojo.java:300)\r\n            ... 21 more\r\n    Caused by: java.io.IOException: Mark invalid\r\n            at java.io.BufferedReader.reset(BufferedReader.java:485)\r\n            at org.apache.maven.shared.filtering.MultiDelimiterInterpolatorFilterReaderLineEnding.read(MultiDelimiterInterpolatorFilterReaderLineEnding.java:416)\r\n            at org.apache.maven.shared.filtering.MultiDelimiterInterpolatorFilterReaderLineEnding.read(MultiDelimiterInterpolatorFilterReaderLineEnding.java:205)\r\n            at java.io.Reader.read(Reader.java:123)\r\n            at org.apache.maven.shared.utils.io.IOUtil.copy(IOUtil.java:181)\r\n            at org.apache.maven.shared.utils.io.IOUtil.copy(IOUtil.java:168)\r\n            at org.apache.maven.shared.utils.io.FileUtils.copyFile(FileUtils.java:1856)\r\n            at org.apache.maven.shared.utils.io.FileUtils.copyFile(FileUtils.java:1804)\r\n            at org.apache.maven.shared.filtering.DefaultMavenFileFilter.copyFile(DefaultMavenFileFilter.java:114)\r\n            ... 23 more\r\n\r\nMy maven repository is under D:/mavenrepo. I have completely deleted all the jars present in the repo and did a clean install. But I still get this error.","title":"Maven:Failed to execute goal org.apache.maven.plugins:maven-resources-plugin:2.7:resources","body":"<p>I am building my project using Maven. My maven version is apache-maven-3.0.4. I am using Eclipse Luna. When I try to build my project I get the following error</p>\n\n<blockquote>\n  <p>[ERROR] Failed to execute goal org.apache.maven.plugins:maven-resources-plugin:2.7:resources (default-resources) on project OrionCommunity: Mark invalid -> [Help 1].</p>\n</blockquote>\n\n<p>Following is the stack trace when I run mvn clean install <code>-X</code>:</p>\n\n<pre><code>[INFO] ------------------------------------------------------------------------\n[INFO] BUILD FAILURE\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time: 1:53.295s\n[INFO] Finished at: Thu Oct 09 20:00:26 IST 2014\n[INFO] Final Memory: 9M/25M\n[INFO] ------------------------------------------------------------------------\n[ERROR] Failed to execute goal org.apache.maven.plugins:maven-resources-plugin:2.7:resources (default-resources) on project OrionCommunity: Mark invalid -&gt; [Hel\np 1]\norg.apache.maven.lifecycle.LifecycleExecutionException: Failed to execute goal org.apache.maven.plugins:maven-resources-plugin:2.7:resources (default-resources)\n on project OrionCommunity: Mark invalid\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:217)\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:153)\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:145)\n        at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:84)\n        at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:59)\n        at org.apache.maven.lifecycle.internal.LifecycleStarter.singleThreadedBuild(LifecycleStarter.java:183)\n        at org.apache.maven.lifecycle.internal.LifecycleStarter.execute(LifecycleStarter.java:161)\n        at org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:320)\n        at org.apache.maven.DefaultMaven.execute(DefaultMaven.java:156)\n        at org.apache.maven.cli.MavenCli.execute(MavenCli.java:537)\n        at org.apache.maven.cli.MavenCli.doMain(MavenCli.java:196)\n        at org.apache.maven.cli.MavenCli.main(MavenCli.java:141)\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\n        at java.lang.reflect.Method.invoke(Method.java:597)\n        at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced(Launcher.java:290)\n        at org.codehaus.plexus.classworlds.launcher.Launcher.launch(Launcher.java:230)\n        at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode(Launcher.java:409)\n        at org.codehaus.plexus.classworlds.launcher.Launcher.main(Launcher.java:352)\nCaused by: org.apache.maven.plugin.MojoExecutionException: Mark invalid\n        at org.apache.maven.plugin.resources.ResourcesMojo.execute(ResourcesMojo.java:306)\n        at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo(DefaultBuildPluginManager.java:101)\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:209)\n        ... 19 more\nCaused by: org.apache.maven.shared.filtering.MavenFilteringException: Mark invalid\n        at org.apache.maven.shared.filtering.DefaultMavenFileFilter.copyFile(DefaultMavenFileFilter.java:129)\n        at org.apache.maven.shared.filtering.DefaultMavenResourcesFiltering.filterResources(DefaultMavenResourcesFiltering.java:264)\n        at org.apache.maven.plugin.resources.ResourcesMojo.execute(ResourcesMojo.java:300)\n        ... 21 more\nCaused by: java.io.IOException: Mark invalid\n        at java.io.BufferedReader.reset(BufferedReader.java:485)\n        at org.apache.maven.shared.filtering.MultiDelimiterInterpolatorFilterReaderLineEnding.read(MultiDelimiterInterpolatorFilterReaderLineEnding.java:416)\n        at org.apache.maven.shared.filtering.MultiDelimiterInterpolatorFilterReaderLineEnding.read(MultiDelimiterInterpolatorFilterReaderLineEnding.java:205)\n        at java.io.Reader.read(Reader.java:123)\n        at org.apache.maven.shared.utils.io.IOUtil.copy(IOUtil.java:181)\n        at org.apache.maven.shared.utils.io.IOUtil.copy(IOUtil.java:168)\n        at org.apache.maven.shared.utils.io.FileUtils.copyFile(FileUtils.java:1856)\n        at org.apache.maven.shared.utils.io.FileUtils.copyFile(FileUtils.java:1804)\n        at org.apache.maven.shared.filtering.DefaultMavenFileFilter.copyFile(DefaultMavenFileFilter.java:114)\n        ... 23 more\n</code></pre>\n\n<p>My maven repository is under D:/mavenrepo. I have completely deleted all the jars present in the repo and did a clean install. But I still get this error.</p>\n"},{"tags":["java","kotlin","openapi","vert.x"],"answers":[{"comments":[{"owner":{"account_id":10281983,"reputation":353,"user_id":7586739,"display_name":"younes elmorabit"},"score":2,"creation_date":1631881200,"post_id":69221195,"comment_id":122349693,"body_markdown":"unfortunately, I am trying to create the open API spec for an existing codebase, so Web OpenApi spec is not an option for me. Thank you.","body":"unfortunately, I am trying to create the open API spec for an existing codebase, so Web OpenApi spec is not an option for me. Thank you."}],"tags":[],"owner":{"account_id":5072840,"reputation":68,"user_id":4099380,"display_name":"Jonas Taulien"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1631877302,"creation_date":1631871791,"answer_id":69221195,"question_id":69200196,"body_markdown":"I know of no such library. Usually I would recommend to choose the reverse procedure which is to generate the model classes from your open api specification. For that, there is a really usefull library called [openapi-generator](https://github.com/OpenAPITools/openapi-generator).\r\n\r\nThe additional advantage of this approach would be, that you can use a fully api-first approach by also using the Vert.x extension called [Web OpenAPI](https://vertx.io/docs/vertx-web-openapi/java/)","title":"how to generate only openapi schemas from java/kotlin data classes? (for vert.x based application)","body":"<p>I know of no such library. Usually I would recommend to choose the reverse procedure which is to generate the model classes from your open api specification. For that, there is a really usefull library called <a href=\"https://github.com/OpenAPITools/openapi-generator\" rel=\"nofollow noreferrer\">openapi-generator</a>.</p>\n<p>The additional advantage of this approach would be, that you can use a fully api-first approach by also using the Vert.x extension called <a href=\"https://vertx.io/docs/vertx-web-openapi/java/\" rel=\"nofollow noreferrer\">Web OpenAPI</a></p>\n"},{"tags":[],"owner":{"account_id":919475,"reputation":11,"user_id":8562278,"display_name":"jzajic"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667314618,"creation_date":1667314571,"answer_id":74277823,"question_id":69200196,"body_markdown":"You can use swagger java tools directly. Generation of swagger model from classes/annotations provides ***swagger-core*** library - see [github][1] or [maven][2] repo.\r\n\r\nIf you for example have annotated method:\r\n\r\n    public interface EndPoints {\r\n     @Operation(summary = &quot;Delete product by ID &quot;, method = &quot;DELETE&quot;, operationId = &quot;product/:deleteProductId&quot;,\r\n        tags = {\r\n          &quot;Product&quot;\r\n        },\r\n        parameters = {\r\n          @Parameter(in = ParameterIn.PATH, name = &quot;deleteProductId&quot;,\r\n            required = true, description = &quot;The ID for the Product&quot;, schema = @Schema(type = &quot;string&quot;))\r\n        },\r\n        responses = {\r\n          @ApiResponse(responseCode = &quot;404&quot;, description = &quot;Not found.&quot;),\r\n          @ApiResponse(responseCode = &quot;200&quot;, description = &quot;Product deleted.&quot;),\r\n          @ApiResponse(responseCode = &quot;500&quot;, description = &quot;Internal Server Error.&quot;)\r\n        }\r\n      )\r\n      void deleteProduct();\r\n    }\r\n\r\nyou can generate API doc using following code:\r\n\r\n    Reader openApiReader = new Reader();\r\n    Operation operation = openApiReader.parseMethod(EndPoints.class..getDeclaredMethod(&quot;deleteProduct&quot;), Lists.newArrayList(), null);\r\n\r\nAnd for your specific use-case, if you want to only generate Schema for given class (and use it for example as request body or return value), you can do for example:\r\n\r\n    public class ErrorApiResponse {\r\n      public String error;\r\n      public String severity;\r\n      public String message;\r\n    }\r\n    \r\n    ResolvedSchema resolvedSchema = ModelConverters.getInstance()\r\n        .resolveAsResolvedSchema(new AnnotatedType(ErrorApiResponse.class));\r\n\r\nYou can construct io.swagger.v3.oas.models.OpenAPI manually, add generated Schemas to respective places. To construct JSON version of this API model, you simple call:\r\n\r\n    io.swagger.v3.core.util.Json.pretty(openAPI)\r\n\r\n  [1]: https://github.com/swagger-api/swagger-core\r\n  [2]: https://mvnrepository.com/artifact/io.swagger.core.v3/swagger-core","title":"how to generate only openapi schemas from java/kotlin data classes? (for vert.x based application)","body":"<p>You can use swagger java tools directly. Generation of swagger model from classes/annotations provides <em><strong>swagger-core</strong></em> library - see <a href=\"https://github.com/swagger-api/swagger-core\" rel=\"nofollow noreferrer\">github</a> or <a href=\"https://mvnrepository.com/artifact/io.swagger.core.v3/swagger-core\" rel=\"nofollow noreferrer\">maven</a> repo.</p>\n<p>If you for example have annotated method:</p>\n<pre><code>public interface EndPoints {\n @Operation(summary = &quot;Delete product by ID &quot;, method = &quot;DELETE&quot;, operationId = &quot;product/:deleteProductId&quot;,\n    tags = {\n      &quot;Product&quot;\n    },\n    parameters = {\n      @Parameter(in = ParameterIn.PATH, name = &quot;deleteProductId&quot;,\n        required = true, description = &quot;The ID for the Product&quot;, schema = @Schema(type = &quot;string&quot;))\n    },\n    responses = {\n      @ApiResponse(responseCode = &quot;404&quot;, description = &quot;Not found.&quot;),\n      @ApiResponse(responseCode = &quot;200&quot;, description = &quot;Product deleted.&quot;),\n      @ApiResponse(responseCode = &quot;500&quot;, description = &quot;Internal Server Error.&quot;)\n    }\n  )\n  void deleteProduct();\n}\n</code></pre>\n<p>you can generate API doc using following code:</p>\n<pre><code>Reader openApiReader = new Reader();\nOperation operation = openApiReader.parseMethod(EndPoints.class..getDeclaredMethod(&quot;deleteProduct&quot;), Lists.newArrayList(), null);\n</code></pre>\n<p>And for your specific use-case, if you want to only generate Schema for given class (and use it for example as request body or return value), you can do for example:</p>\n<pre><code>public class ErrorApiResponse {\n  public String error;\n  public String severity;\n  public String message;\n}\n\nResolvedSchema resolvedSchema = ModelConverters.getInstance()\n    .resolveAsResolvedSchema(new AnnotatedType(ErrorApiResponse.class));\n</code></pre>\n<p>You can construct io.swagger.v3.oas.models.OpenAPI manually, add generated Schemas to respective places. To construct JSON version of this API model, you simple call:</p>\n<pre><code>io.swagger.v3.core.util.Json.pretty(openAPI)\n</code></pre>\n"}],"owner":{"account_id":10281983,"reputation":353,"user_id":7586739,"display_name":"younes elmorabit"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1238,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1667314618,"creation_date":1631742924,"question_id":69200196,"body_markdown":"I am trying to create an open API spec for an existing vert.x based application, and since there is no library to generate the open API spec automatically for vert.x based apis, I am wondering if there is a plugin or a tool that can help me generate at least the corresponding schemas for my data classes since I have a lot of them and it is really painful to manually create the corresponding schema for each one of them?\r\n\r\nI am using kotlin and Jackson for serialization/deserialization.","title":"how to generate only openapi schemas from java/kotlin data classes? (for vert.x based application)","body":"<p>I am trying to create an open API spec for an existing vert.x based application, and since there is no library to generate the open API spec automatically for vert.x based apis, I am wondering if there is a plugin or a tool that can help me generate at least the corresponding schemas for my data classes since I have a lot of them and it is really painful to manually create the corresponding schema for each one of them?</p>\n<p>I am using kotlin and Jackson for serialization/deserialization.</p>\n"},{"tags":["java","spring-boot","localhost","backend"],"comments":[{"owner":{"account_id":15248249,"reputation":400,"user_id":11002498,"display_name":"Skapis9999"},"score":0,"creation_date":1667314751,"post_id":74277513,"comment_id":131135818,"body_markdown":"Does this answer your question? [What is username and password when starting Spring Boot with Tomcat?](https://stackoverflow.com/questions/37285016/what-is-username-and-password-when-starting-spring-boot-with-tomcat)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/37285016/what-is-username-and-password-when-starting-spring-boot-with-tomcat\">What is username and password when starting Spring Boot with Tomcat?</a>"}],"answers":[{"comments":[{"owner":{"account_id":26796198,"reputation":11,"user_id":20388908,"display_name":"Nivetika Rajasekar"},"score":0,"creation_date":1667402170,"post_id":74277782,"comment_id":131159321,"body_markdown":"Should i use this crediential to login to localhost?","body":"Should i use this crediential to login to localhost?"},{"owner":{"account_id":26796198,"reputation":11,"user_id":20388908,"display_name":"Nivetika Rajasekar"},"score":1,"creation_date":1667402672,"post_id":74277782,"comment_id":131159488,"body_markdown":"I did this, and it worked.","body":"I did this, and it worked."}],"tags":[],"owner":{"account_id":16316751,"reputation":94,"user_id":11783641,"display_name":"Chetan"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667314402,"creation_date":1667314402,"answer_id":74277782,"question_id":74277513,"body_markdown":"When you start your application **password** got logged in console like this:\r\n\r\n    Using default security password: ce6c3d39-mf20-4w41-8e01-103166bb9nvc\r\nAnd the username is **user**.\r\nThanks.","title":"Having error in loading localhost page while working with spring boot","body":"<p>When you start your application <strong>password</strong> got logged in console like this:</p>\n<pre><code>Using default security password: ce6c3d39-mf20-4w41-8e01-103166bb9nvc\n</code></pre>\n<p>And the username is <strong>user</strong>.\nThanks.</p>\n"}],"owner":{"account_id":26796198,"reputation":11,"user_id":20388908,"display_name":"Nivetika Rajasekar"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":259,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1667314402,"creation_date":1667313177,"question_id":74277513,"body_markdown":"I am a newbie to web development, and I have started to learn the backend. I chose Java in the backend, so I started learning spring boot. I used IntelliJ ide. When I ran my first code, I got connected to port 8080. But when I opened the localhost:8080 page in the web browser, it shows a sign-in page or some other pages. But in some tutorials I followed, they were able to modify the localhost:8080 page. And even tried to change the port, like 8090, it opens the same sign-in page. [enter image description here][1]\r\nCan anyone help me to solve this problem?\r\n\r\nI expected that the localhost page will open, and I will be able to modify that page by modifying the code. But wha[enter image description here][2]t actually happened was, i was not able to access the page.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/wmO3i.png\r\n  [2]: https://i.stack.imgur.com/3Nm0D.png","title":"Having error in loading localhost page while working with spring boot","body":"<p>I am a newbie to web development, and I have started to learn the backend. I chose Java in the backend, so I started learning spring boot. I used IntelliJ ide. When I ran my first code, I got connected to port 8080. But when I opened the localhost:8080 page in the web browser, it shows a sign-in page or some other pages. But in some tutorials I followed, they were able to modify the localhost:8080 page. And even tried to change the port, like 8090, it opens the same sign-in page. <a href=\"https://i.stack.imgur.com/wmO3i.png\" rel=\"nofollow noreferrer\">enter image description here</a>\nCan anyone help me to solve this problem?</p>\n<p>I expected that the localhost page will open, and I will be able to modify that page by modifying the code. But wha<a href=\"https://i.stack.imgur.com/3Nm0D.png\" rel=\"nofollow noreferrer\">enter image description here</a>t actually happened was, i was not able to access the page.</p>\n"},{"tags":["java","logging","log4j2"],"comments":[{"owner":{"account_id":25548,"reputation":5144,"user_id":65706,"accept_rate":93,"display_name":"Yordan Georgiev"},"score":1,"creation_date":1513849426,"post_id":21083834,"comment_id":82811656,"body_markdown":"with all the backward incompatible changes introduced to the configuration reloading in log4j2 it would make sense to specify which version of the log4j2 api and core you are using ...","body":"with all the backward incompatible changes introduced to the configuration reloading in log4j2 it would make sense to specify which version of the log4j2 api and core you are using ..."}],"answers":[{"comments":[{"owner":{"account_id":1845341,"reputation":1238,"user_id":1673785,"accept_rate":65,"display_name":"ColinMc"},"score":0,"creation_date":1402658217,"post_id":21087859,"comment_id":37369442,"body_markdown":"I&#39;m trying to do the same thing but am failing even with the code above. Did you have the log4j2 web dependency in your project? My log4j2.xml is outside the classpath and I&#39;m trying to load it up in a Spring bean that has a @PostConstruct method.","body":"I&#39;m trying to do the same thing but am failing even with the code above. Did you have the log4j2 web dependency in your project? My log4j2.xml is outside the classpath and I&#39;m trying to load it up in a Spring bean that has a @PostConstruct method."},{"owner":{"account_id":477780,"reputation":3813,"user_id":889475,"accept_rate":61,"display_name":"HashimR"},"score":0,"creation_date":1402658742,"post_id":21087859,"comment_id":37369745,"body_markdown":"My log xml configuration file was outside the classpath.","body":"My log xml configuration file was outside the classpath."},{"owner":{"account_id":1845341,"reputation":1238,"user_id":1673785,"accept_rate":65,"display_name":"ColinMc"},"score":0,"creation_date":1402659200,"post_id":21087859,"comment_id":37369992,"body_markdown":"Was your application a web app? I should mention I am using slf4j as well to abstract log4j2.","body":"Was your application a web app? I should mention I am using slf4j as well to abstract log4j2."},{"owner":{"account_id":477780,"reputation":3813,"user_id":889475,"accept_rate":61,"display_name":"HashimR"},"score":0,"creation_date":1402659496,"post_id":21087859,"comment_id":37370160,"body_markdown":"Yes it was a web app. And I also used `slf4j` for routing `jcl` logs to `log4j2`.","body":"Yes it was a web app. And I also used <code>slf4j</code> for routing <code>jcl</code> logs to <code>log4j2</code>."},{"owner":{"account_id":477780,"reputation":3813,"user_id":889475,"accept_rate":61,"display_name":"HashimR"},"score":0,"creation_date":1402659711,"post_id":21087859,"comment_id":37370281,"body_markdown":"Is the `@PostConstruct` method being called when the server starts? Can you use a simple listener? Register it in `web.xml` and write this code in the overridden method `contextInitialized` of a class that implements `ServletContextListener`.","body":"Is the <code>@PostConstruct</code> method being called when the server starts? Can you use a simple listener? Register it in <code>web.xml</code> and write this code in the overridden method <code>contextInitialized</code> of a class that implements <code>ServletContextListener</code>."},{"owner":{"account_id":1845341,"reputation":1238,"user_id":1673785,"accept_rate":65,"display_name":"ColinMc"},"score":0,"creation_date":1402660049,"post_id":21087859,"comment_id":37370476,"body_markdown":"Yes the @PostConstruct method is being called on server startup. I put the code you mentioned in your answer in the method. No exception was thrown and no log files were created in the directory I specified in my configuration. Here is my log4j2 config: http://pastebin.com/wSWWk2kb\n\nMaybe something is wrong with my configuration.","body":"Yes the @PostConstruct method is being called on server startup. I put the code you mentioned in your answer in the method. No exception was thrown and no log files were created in the directory I specified in my configuration. Here is my log4j2 config: <a href=\"http://pastebin.com/wSWWk2kb\" rel=\"nofollow noreferrer\">pastebin.com/wSWWk2kb</a>  Maybe something is wrong with my configuration."},{"owner":{"account_id":477780,"reputation":3813,"user_id":889475,"accept_rate":61,"display_name":"HashimR"},"score":0,"creation_date":1402661498,"post_id":21087859,"comment_id":37371319,"body_markdown":"Let us [continue this discussion in chat](http://chat.stackoverflow.com/rooms/55567/discussion-between-hashimr-and-colinmc).","body":"Let us <a href=\"http://chat.stackoverflow.com/rooms/55567/discussion-between-hashimr-and-colinmc\">continue this discussion in chat</a>."},{"owner":{"account_id":1845341,"reputation":1238,"user_id":1673785,"accept_rate":65,"display_name":"ColinMc"},"score":0,"creation_date":1402666699,"post_id":21087859,"comment_id":37374644,"body_markdown":"I was able to get this working with the config outside the web app by using the log4jConfiguration context param in the web.xml as in this link: http://logging.apache.org/log4j/2.x/manual/webapp.html#Servlet-3.0","body":"I was able to get this working with the config outside the web app by using the log4jConfiguration context param in the web.xml as in this link: <a href=\"http://logging.apache.org/log4j/2.x/manual/webapp.html#Servlet-3.0\" rel=\"nofollow noreferrer\">logging.apache.org/log4j/2.x/manual/webapp.html#Servlet-3.0</a>"},{"owner":{"account_id":477780,"reputation":3813,"user_id":889475,"accept_rate":61,"display_name":"HashimR"},"score":1,"creation_date":1402892736,"post_id":21087859,"comment_id":37431967,"body_markdown":"okay cool. this answer is based on Servlet 2.5 ... anyhow great that its working!","body":"okay cool. this answer is based on Servlet 2.5 ... anyhow great that its working!"},{"owner":{"account_id":5483053,"reputation":406,"user_id":4358787,"display_name":"Gaurav"},"score":0,"creation_date":1566625659,"post_id":21087859,"comment_id":101723674,"body_markdown":"why pass null to the Configurator.initialize() ?","body":"why pass null to the Configurator.initialize() ?"}],"tags":[],"owner":{"account_id":477780,"reputation":3813,"user_id":889475,"accept_rate":61,"display_name":"HashimR"},"comment_count":10,"down_vote_count":0,"up_vote_count":18,"is_accepted":true,"score":18,"last_activity_date":1389605821,"creation_date":1389605821,"answer_id":21087859,"question_id":21083834,"body_markdown":"Found the answer myself. Someone might find it useful.\r\n\r\n    ConfigurationSource source = new ConfigurationSource();\r\n    source.setLocation(logConfigurationFile);\r\n    source.setFile(new File(logConfigurationFile));\r\n    source.setInputStream(new FileInputStream(logConfigurationFile));\r\n    Configurator.initialize(null, source);","title":"Load Log4j2 configuration file programmatically","body":"<p>Found the answer myself. Someone might find it useful.</p>\n\n<pre><code>ConfigurationSource source = new ConfigurationSource();\nsource.setLocation(logConfigurationFile);\nsource.setFile(new File(logConfigurationFile));\nsource.setInputStream(new FileInputStream(logConfigurationFile));\nConfigurator.initialize(null, source);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":5346811,"reputation":3500,"user_id":4262148,"accept_rate":100,"display_name":"another"},"score":0,"creation_date":1506083431,"post_id":25881592,"comment_id":79688983,"body_markdown":"This worked excellent, I was trying to set the property on Constructor, but it didn&#39;t work. Static block solved.","body":"This worked excellent, I was trying to set the property on Constructor, but it didn&#39;t work. Static block solved."},{"owner":{"account_id":2504721,"reputation":2048,"user_id":2178786,"accept_rate":0,"display_name":"mvsagar"},"score":0,"creation_date":1562250691,"post_id":25881592,"comment_id":100326958,"body_markdown":"I had setProperty() call but not in &quot;static&quot; block. It worked once I kept the call in the static block. Thanks!","body":"I had setProperty() call but not in &quot;static&quot; block. It worked once I kept the call in the static block. Thanks!"},{"owner":{"account_id":1155134,"reputation":13311,"user_id":1135954,"accept_rate":68,"display_name":"mtk"},"score":0,"creation_date":1568208713,"post_id":25881592,"comment_id":102202187,"body_markdown":"Won&#39;t changing the system property affect other logger&#39;s?","body":"Won&#39;t changing the system property affect other logger&#39;s?"}],"tags":[],"owner":{"account_id":147944,"reputation":4762,"user_id":359396,"accept_rate":67,"display_name":"dcompiled"},"comment_count":3,"down_vote_count":0,"up_vote_count":25,"is_accepted":false,"score":25,"last_activity_date":1410922889,"creation_date":1410922889,"answer_id":25881592,"question_id":21083834,"body_markdown":"If you have a single main entry point, this code snippet might save you some trouble.  The set property call must fire before any loggers are created.  This approach works with files on the classpath.\r\n\r\n    public class TestProcess {\r\n    \tstatic {\r\n    \t\tSystem.setProperty(&quot;log4j.configurationFile&quot;, &quot;log4j-alternate.xml&quot;);\r\n    \t}\r\n    \r\n    \tprivate static final Logger log = LoggerFactory.getLogger(TestProcess.class);\r\n    \r\n    }","title":"Load Log4j2 configuration file programmatically","body":"<p>If you have a single main entry point, this code snippet might save you some trouble.  The set property call must fire before any loggers are created.  This approach works with files on the classpath.</p>\n\n<pre><code>public class TestProcess {\n    static {\n        System.setProperty(\"log4j.configurationFile\", \"log4j-alternate.xml\");\n    }\n\n    private static final Logger log = LoggerFactory.getLogger(TestProcess.class);\n\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":3878382,"reputation":1171,"user_id":3211687,"display_name":"Conor Svensson"},"score":18,"creation_date":1429605789,"post_id":28701154,"comment_id":47665201,"body_markdown":"You should be able to use simply `Configurator.initialize(null, &quot;fileName&quot;);`","body":"You should be able to use simply <code>Configurator.initialize(null, &quot;fileName&quot;);</code>"},{"owner":{"account_id":5483053,"reputation":406,"user_id":4358787,"display_name":"Gaurav"},"score":4,"creation_date":1566625565,"post_id":28701154,"comment_id":101723661,"body_markdown":"why pass null to the Configurator.initialize() ?","body":"why pass null to the Configurator.initialize() ?"}],"tags":[],"owner":{"account_id":5113716,"reputation":479,"user_id":4099584,"display_name":"switch_java3"},"comment_count":2,"down_vote_count":0,"up_vote_count":45,"is_accepted":false,"score":45,"last_activity_date":1424989668,"creation_date":1424795536,"answer_id":28701154,"question_id":21083834,"body_markdown":"For the newest version of log4j, here is what should work for loading an external `log4j2.xml`:\r\n\r\n    String log4jConfigFile = System.getProperty(&quot;user.dir&quot;) + File.separator + &quot;log4j2.xml&quot;;\r\n    ConfigurationSource source = new ConfigurationSource(new FileInputStream(log4jConfigFile));\r\n\tConfigurator.initialize(null, source);","title":"Load Log4j2 configuration file programmatically","body":"<p>For the newest version of log4j, here is what should work for loading an external <code>log4j2.xml</code>:</p>\n\n<pre><code>String log4jConfigFile = System.getProperty(\"user.dir\") + File.separator + \"log4j2.xml\";\nConfigurationSource source = new ConfigurationSource(new FileInputStream(log4jConfigFile));\nConfigurator.initialize(null, source);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":7368323,"reputation":151,"user_id":5609398,"display_name":"Vojtěch Zavřel"},"score":0,"creation_date":1639170329,"post_id":29995192,"comment_id":124289156,"body_markdown":"I used similar solution with log4j 1.2.x but unable to get working 2.14.x. The reason is, that my &quot;LogContextListener&quot; is created after log4j2 is already initialized with `WARN StatusLogger No Log4j 2 configuration file found. Using default configuration...`\n\nI guess it used to be the same for log4j v1 but with `PropertyConfigurator.configure(logConfigProperties);` it has reconfigured current log4j but this doesn&#39;t happen with `Configurator.initialize(null, logConfigSource);` My listener is the first one in web.xml but there are others in TLD files that are fired before.","body":"I used similar solution with log4j 1.2.x but unable to get working 2.14.x. The reason is, that my &quot;LogContextListener&quot; is created after log4j2 is already initialized with <code>WARN StatusLogger No Log4j 2 configuration file found. Using default configuration...</code>  I guess it used to be the same for log4j v1 but with <code>PropertyConfigurator.configure(logConfigProperties);</code> it has reconfigured current log4j but this doesn&#39;t happen with <code>Configurator.initialize(null, logConfigSource);</code> My listener is the first one in web.xml but there are others in TLD files that are fired before."}],"tags":[],"owner":{"account_id":217966,"reputation":12439,"user_id":474034,"accept_rate":67,"display_name":"lanoxx"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1430514591,"creation_date":1430514591,"answer_id":29995192,"question_id":21083834,"body_markdown":"If you are using a **Servlet 3.0 Web Application** you can use the **[Log4jServletContextListener][1]** and do the following:\r\n\r\nWrite a custom `LogContextListener` which extends from `Log4jServletContextListener`, set it up in your `web.xml` and disable auto initialization:\r\n\r\n\r\n    &lt;listener&gt;\r\n        &lt;listener-class&gt;com.example.LogContextListener&lt;/listener-class&gt;\r\n    &lt;/listener&gt;\r\n    &lt;context-param&gt;\r\n        &lt;param-name&gt;isLog4jAutoInitializationDisabled&lt;/param-name&gt;\r\n        &lt;param-value&gt;true&lt;/param-value&gt;\r\n    &lt;/context-param&gt;\r\n\r\nIn your custom `LogContextListener` overwrite `contextInitialized` and set the config location\r\n\r\n    public void contextInitialized(ServletContextEvent event) { \r\n        /* Some logic to calculate where the config file is saved. For \r\n         * example you can read an environment variable.\r\n         */\r\n        String pathToConfigFile = ... + &quot;/log4j2.xml&quot;;\r\n        Configurator.initialize(null, pathToConfigFile);\r\n        super.contextInitialized(event);\r\n    }\r\n\r\nThe advantage over configuring the location directly in the `web.xml` is that\r\nyou can compute the path based on some additional information and access the log4j2.xml even if its outside of your classpath.\r\n\r\n[1]: http://logging.apache.org/log4j/2.x/manual/webapp.html#Servlet-3.0","title":"Load Log4j2 configuration file programmatically","body":"<p>If you are using a <strong>Servlet 3.0 Web Application</strong> you can use the <strong><a href=\"http://logging.apache.org/log4j/2.x/manual/webapp.html#Servlet-3.0\" rel=\"nofollow\">Log4jServletContextListener</a></strong> and do the following:</p>\n\n<p>Write a custom <code>LogContextListener</code> which extends from <code>Log4jServletContextListener</code>, set it up in your <code>web.xml</code> and disable auto initialization:</p>\n\n<pre><code>&lt;listener&gt;\n    &lt;listener-class&gt;com.example.LogContextListener&lt;/listener-class&gt;\n&lt;/listener&gt;\n&lt;context-param&gt;\n    &lt;param-name&gt;isLog4jAutoInitializationDisabled&lt;/param-name&gt;\n    &lt;param-value&gt;true&lt;/param-value&gt;\n&lt;/context-param&gt;\n</code></pre>\n\n<p>In your custom <code>LogContextListener</code> overwrite <code>contextInitialized</code> and set the config location</p>\n\n<pre><code>public void contextInitialized(ServletContextEvent event) { \n    /* Some logic to calculate where the config file is saved. For \n     * example you can read an environment variable.\n     */\n    String pathToConfigFile = ... + \"/log4j2.xml\";\n    Configurator.initialize(null, pathToConfigFile);\n    super.contextInitialized(event);\n}\n</code></pre>\n\n<p>The advantage over configuring the location directly in the <code>web.xml</code> is that\nyou can compute the path based on some additional information and access the log4j2.xml even if its outside of your classpath.</p>\n"},{"comments":[{"owner":{"account_id":1715738,"reputation":1873,"user_id":1572834,"accept_rate":100,"display_name":"adprocas"},"score":0,"creation_date":1503581687,"post_id":42524443,"comment_id":78684375,"body_markdown":"Just an FYI for this one - be careful using &quot;log4j2-test.xml&quot; for testing things.  If this is in any of the folders log4j2 checks it will use it over &quot;log4j2.xml&quot; and make you think your overriding of this worked, when it actually didn&#39;t.  I haven&#39;t tried your code, but I had this problem with a previous code snippet.  I was using &quot;log4j2-test.xml&quot; thinking everything was overriding at runtime, only to find that it was overriding because log4j2 looks for &quot;log4j2-test.xml&quot; first, and then &quot;log4j2.xml&quot; https://logging.apache.org/log4j/2.0/manual/configuration.html#AutomaticConfiguration","body":"Just an FYI for this one - be careful using &quot;log4j2-test.xml&quot; for testing things.  If this is in any of the folders log4j2 checks it will use it over &quot;log4j2.xml&quot; and make you think your overriding of this worked, when it actually didn&#39;t.  I haven&#39;t tried your code, but I had this problem with a previous code snippet.  I was using &quot;log4j2-test.xml&quot; thinking everything was overriding at runtime, only to find that it was overriding because log4j2 looks for &quot;log4j2-test.xml&quot; first, and then &quot;log4j2.xml&quot; <a href=\"https://logging.apache.org/log4j/2.0/manual/configuration.html#AutomaticConfiguration\" rel=\"nofollow noreferrer\">logging.apache.org/log4j/2.0/manual/&hellip;</a>"},{"owner":{"account_id":5483053,"reputation":406,"user_id":4358787,"display_name":"Gaurav"},"score":0,"creation_date":1566624736,"post_id":42524443,"comment_id":101723533,"body_markdown":"@TJR will it also work wit new CompositeConfiguration() instead of new XmlConfiguration()?","body":"@TJR will it also work wit new CompositeConfiguration() instead of new XmlConfiguration()?"}],"tags":[],"owner":{"account_id":562,"reputation":3657,"user_id":728,"accept_rate":91,"display_name":"TJR"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1488348587,"creation_date":1488348587,"answer_id":42524443,"question_id":21083834,"body_markdown":"    final URL log4j = Resources.getResource(&quot;log4j2-test.xml&quot;);\r\n    LoggerContext.getContext(false)\r\n      .start(new XmlConfiguration(new ConfigurationSource(\r\n        Resources.asByteSource(log4j).openStream(),\r\n        log4j)));\r\n\r\n","title":"Load Log4j2 configuration file programmatically","body":"<pre><code>final URL log4j = Resources.getResource(\"log4j2-test.xml\");\nLoggerContext.getContext(false)\n  .start(new XmlConfiguration(new ConfigurationSource(\n    Resources.asByteSource(log4j).openStream(),\n    log4j)));\n</code></pre>\n"},{"comments":[{"owner":{"account_id":5483053,"reputation":406,"user_id":4358787,"display_name":"Gaurav"},"score":0,"creation_date":1566624388,"post_id":49334573,"comment_id":101723485,"body_markdown":"why pass null to the Configurator.initialize() ?","body":"why pass null to the Configurator.initialize() ?"},{"owner":{"account_id":1215767,"reputation":1710,"user_id":1183404,"display_name":"Cristian Florescu"},"score":0,"creation_date":1566629467,"post_id":49334573,"comment_id":101724215,"body_markdown":"Please check upper javadoc link.","body":"Please check upper javadoc link."},{"owner":{"account_id":1077854,"reputation":735,"user_id":1075613,"display_name":"user1075613"},"score":0,"creation_date":1575485645,"post_id":49334573,"comment_id":104586588,"body_markdown":"the 1st arg is the classloader but the javadoc doesn&#39;t tell much more; if I understood the code correctly if null it will use the classloader used to load log4j2 (more precisely Configurator.class.getClassloader())","body":"the 1st arg is the classloader but the javadoc doesn&#39;t tell much more; if I understood the code correctly if null it will use the classloader used to load log4j2 (more precisely Configurator.class.getClassloader())"}],"tags":[],"owner":{"account_id":1215767,"reputation":1710,"user_id":1183404,"display_name":"Cristian Florescu"},"comment_count":3,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1521279836,"creation_date":1521279836,"answer_id":49334573,"question_id":21083834,"body_markdown":"Considering - https://logging.apache.org/log4j/2.x/log4j-core/apidocs/org/apache/logging/log4j/core/config/Configurator.html\r\n\r\n\r\n    Configurator.initialize(null, &quot;classpath:conf/logger.xml&quot;);\r\n    or\r\n    Configurator.initialize(null, &quot;/full_path/conf/logger.xml&quot;);\r\n\r\nBe aware and does not use both at the same time.","title":"Load Log4j2 configuration file programmatically","body":"<p>Considering - <a href=\"https://logging.apache.org/log4j/2.x/log4j-core/apidocs/org/apache/logging/log4j/core/config/Configurator.html\" rel=\"nofollow noreferrer\">https://logging.apache.org/log4j/2.x/log4j-core/apidocs/org/apache/logging/log4j/core/config/Configurator.html</a></p>\n\n<pre><code>Configurator.initialize(null, \"classpath:conf/logger.xml\");\nor\nConfigurator.initialize(null, \"/full_path/conf/logger.xml\");\n</code></pre>\n\n<p>Be aware and does not use both at the same time.</p>\n"},{"comments":[{"owner":{"account_id":4665571,"reputation":987,"user_id":3778710,"accept_rate":67,"display_name":"Jerry"},"score":0,"creation_date":1537861005,"post_id":51222665,"comment_id":91926416,"body_markdown":"What if mine is a .properties file","body":"What if mine is a .properties file"},{"owner":{"account_id":5483053,"reputation":406,"user_id":4358787,"display_name":"Gaurav"},"score":0,"creation_date":1566624369,"post_id":51222665,"comment_id":101723480,"body_markdown":"@silver why pass null to the Configurator.initialize() ?","body":"@silver why pass null to the Configurator.initialize() ?"}],"tags":[],"owner":{"account_id":3340410,"reputation":5354,"user_id":2806819,"accept_rate":97,"display_name":"k_rollo"},"comment_count":2,"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1531035129,"creation_date":1530962381,"answer_id":51222665,"question_id":21083834,"body_markdown":"Below worked for me, Log4j2 with [SLF4J](https://www.slf4j.org/) wrapper:\r\n\r\nSolution 1:\r\n-----------\r\n\r\n    public class MyClass {\r\n    \t\r\n    \tstatic {\r\n    \t\ttry {\r\n    \t\t\tInputStream inputStream = new FileInputStream(&quot;C:/path/to/log4j2.xml&quot;);\r\n    \t\t\tConfigurationSource source = new ConfigurationSource(inputStream);\r\n    \t\t\tConfigurator.initialize(null, source);\r\n    \t\t} catch (Exception ex) {\r\n    \t\t\t// Handle here\r\n    \t\t}\r\n    \t}\r\n    \r\n    \tprivate static final Logger LOGGER = LoggerFactory.getLogger(MyClass.class); // LogManager if not using SLF4J\r\n    \r\n    \tpublic void doSomething() {\r\n    \t\tLOGGER.info(...)\r\n    \t}\r\n    \r\n    }\r\n\r\nSolution 2:\r\n-----------\r\n\r\n    static {\r\n    \tFile log4j2File = new File(&quot;C:/path/to/log4j2.xml&quot;);\r\n    \tSystem.setProperty(&quot;log4j2.configurationFile&quot;, log4j2File.toURI().toString());\r\n    }\r\nNeed `toURI()` to follow [File URI Scheme format](https://en.wikipedia.org/wiki/File_URI_scheme#Format), else it throws `MalformedURLException`.\r\n\r\n**Sources:**\r\n\r\n - https://stackoverflow.com/questions/23394041/proper-format-for-log4j2-xml-rollingfile-configuration\r\n - https://github.com/jprante/elasticsearch-jdbc/issues/562\r\n - https://www.codeproject.com/Questions/190269/MalformedURLException-unknown-protocol-c-How-to-ha\r\n - https://coderanch.com/t/633544/open-source/java-net-MalformedURLException-initialize-log","title":"Load Log4j2 configuration file programmatically","body":"<p>Below worked for me, Log4j2 with <a href=\"https://www.slf4j.org/\" rel=\"noreferrer\">SLF4J</a> wrapper:</p>\n\n<h2>Solution 1:</h2>\n\n<pre><code>public class MyClass {\n\n    static {\n        try {\n            InputStream inputStream = new FileInputStream(\"C:/path/to/log4j2.xml\");\n            ConfigurationSource source = new ConfigurationSource(inputStream);\n            Configurator.initialize(null, source);\n        } catch (Exception ex) {\n            // Handle here\n        }\n    }\n\n    private static final Logger LOGGER = LoggerFactory.getLogger(MyClass.class); // LogManager if not using SLF4J\n\n    public void doSomething() {\n        LOGGER.info(...)\n    }\n\n}\n</code></pre>\n\n<h2>Solution 2:</h2>\n\n<pre><code>static {\n    File log4j2File = new File(\"C:/path/to/log4j2.xml\");\n    System.setProperty(\"log4j2.configurationFile\", log4j2File.toURI().toString());\n}\n</code></pre>\n\n<p>Need <code>toURI()</code> to follow <a href=\"https://en.wikipedia.org/wiki/File_URI_scheme#Format\" rel=\"noreferrer\">File URI Scheme format</a>, else it throws <code>MalformedURLException</code>.</p>\n\n<p><strong>Sources:</strong></p>\n\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/23394041/proper-format-for-log4j2-xml-rollingfile-configuration\">Proper format for log4j2.xml RollingFile configuration</a></li>\n<li><a href=\"https://github.com/jprante/elasticsearch-jdbc/issues/562\" rel=\"noreferrer\">https://github.com/jprante/elasticsearch-jdbc/issues/562</a></li>\n<li><a href=\"https://www.codeproject.com/Questions/190269/MalformedURLException-unknown-protocol-c-How-to-ha\" rel=\"noreferrer\">https://www.codeproject.com/Questions/190269/MalformedURLException-unknown-protocol-c-How-to-ha</a></li>\n<li><a href=\"https://coderanch.com/t/633544/open-source/java-net-MalformedURLException-initialize-log\" rel=\"noreferrer\">https://coderanch.com/t/633544/open-source/java-net-MalformedURLException-initialize-log</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":104821,"reputation":8403,"user_id":280041,"accept_rate":84,"display_name":"zeroboo"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1573548759,"creation_date":1573548759,"answer_id":58815067,"question_id":21083834,"body_markdown":"If you config with .properties file: \r\n\r\n    String propertiesFile = &quot;./test/Configuration/log4j2.properties&quot;;  \r\n    ConfigurationSource source = new ConfigurationSource(new FileInputStream(propertiesFile), new File(propertiesFile));\r\n    Configurator.initialize(null, source);","title":"Load Log4j2 configuration file programmatically","body":"<p>If you config with .properties file: </p>\n\n<pre><code>String propertiesFile = \"./test/Configuration/log4j2.properties\";  \nConfigurationSource source = new ConfigurationSource(new FileInputStream(propertiesFile), new File(propertiesFile));\nConfigurator.initialize(null, source);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11016894,"reputation":1,"user_id":8092480,"display_name":"Hanu Krishna Kumar Kadali"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667314381,"creation_date":1667313558,"answer_id":74277604,"question_id":21083834,"body_markdown":"I tried all the other solutions nothing worked for me.\r\n\r\ntried Log4jServletContextListenerImpl extending Log4jServletContextListener @lonxx said able to write logs but not able to read environmental bean from spring context.\r\n\r\nAs log4j context is initializing before spring context initialization.\r\n\r\nSo Placed the below code in init(ServletConfig config) of InitServlet extends HttpServlet.\r\n   \r\n\r\n    LoggerContext context = (LoggerContext) \r\n    LogManager.getContext(false);\r\n    File file = new File(&quot;relativepath/log4j2/log4j2.xml&quot;);\r\n    context.setConfigLocation(file.toURI());\r\n\r\n**Now it&#39;s working.**\r\n\r\nusing spring 5.3.22 &amp; log4j2 2.17.2 and initservlet is configured in web.xml version =&quot;2.5&quot;","title":"Load Log4j2 configuration file programmatically","body":"<p>I tried all the other solutions nothing worked for me.</p>\n<p>tried Log4jServletContextListenerImpl extending Log4jServletContextListener @lonxx said able to write logs but not able to read environmental bean from spring context.</p>\n<p>As log4j context is initializing before spring context initialization.</p>\n<p>So Placed the below code in init(ServletConfig config) of InitServlet extends HttpServlet.</p>\n<pre><code>LoggerContext context = (LoggerContext) \nLogManager.getContext(false);\nFile file = new File(&quot;relativepath/log4j2/log4j2.xml&quot;);\ncontext.setConfigLocation(file.toURI());\n</code></pre>\n<p><strong>Now it's working.</strong></p>\n<p>using spring 5.3.22 &amp; log4j2 2.17.2 and initservlet is configured in web.xml version =&quot;2.5&quot;</p>\n"}],"owner":{"account_id":477780,"reputation":3813,"user_id":889475,"accept_rate":61,"display_name":"HashimR"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":69247,"favorite_count":0,"down_vote_count":0,"up_vote_count":50,"accepted_answer_id":21087859,"answer_count":9,"score":50,"last_activity_date":1667314381,"creation_date":1389586903,"question_id":21083834,"body_markdown":"I want to load Log4j2 XML configuration file programmatically from my application.\r\n\r\nTried this:\r\n\r\n    ConfigurationSource source = new ConfigurationSource();\r\n    source.setLocation(logConfigurationFile);\r\n    Configurator.initialize(null, source);\r\n\r\nand this:\r\n\r\n    ConfigurationSource source = new ConfigurationSource();\r\n    source.setLocation(logConfigurationFile);\r\n    ConfigurationFactory factory = (ConfigurationFactory) XMLConfigurationFactory.getInstance().getConfiguration(source);\r\n    ConfigurationFactory.setConfigurationFactory(factory);\r\n\r\nBut nothing works yet.","title":"Load Log4j2 configuration file programmatically","body":"<p>I want to load Log4j2 XML configuration file programmatically from my application.</p>\n\n<p>Tried this:</p>\n\n<pre><code>ConfigurationSource source = new ConfigurationSource();\nsource.setLocation(logConfigurationFile);\nConfigurator.initialize(null, source);\n</code></pre>\n\n<p>and this:</p>\n\n<pre><code>ConfigurationSource source = new ConfigurationSource();\nsource.setLocation(logConfigurationFile);\nConfigurationFactory factory = (ConfigurationFactory) XMLConfigurationFactory.getInstance().getConfiguration(source);\nConfigurationFactory.setConfigurationFactory(factory);\n</code></pre>\n\n<p>But nothing works yet.</p>\n"},{"tags":["java","angular","postgresql","spring-boot","google-chrome"],"answers":[{"tags":[],"owner":{"account_id":20713334,"reputation":109,"user_id":15209447,"display_name":"Isakots"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667313372,"creation_date":1667313372,"answer_id":74277563,"question_id":74277437,"body_markdown":"It is a number because you defined it as a number here, in Country entity:\r\n```\r\n    @Column(name = &quot;nbr&quot;)\r\n    private int nbr;\r\n```\r\nThe best solution is to create another object which is used for HTTP communication. For example: `CountryDTO`.\r\nIn CountryDTO you can define `nbr` field as String.\r\nThen you just have to create a mapping between Country and CountryDTO objects.\r\n\r\nWhy you should always do like this:\r\n1. You should never send Entities directly to the client.\r\n2. It keeps your code clean and separated: One object is responsible for holding the database model, and another is responsible for communicating with the client. It is now the same, and it is just pure luck.","title":"Http Response parameter name incorrect using Spring Boot/Angular","body":"<p>It is a number because you defined it as a number here, in Country entity:</p>\n<pre><code>    @Column(name = &quot;nbr&quot;)\n    private int nbr;\n</code></pre>\n<p>The best solution is to create another object which is used for HTTP communication. For example: <code>CountryDTO</code>.\nIn CountryDTO you can define <code>nbr</code> field as String.\nThen you just have to create a mapping between Country and CountryDTO objects.</p>\n<p>Why you should always do like this:</p>\n<ol>\n<li>You should never send Entities directly to the client.</li>\n<li>It keeps your code clean and separated: One object is responsible for holding the database model, and another is responsible for communicating with the client. It is now the same, and it is just pure luck.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":10702514,"reputation":61,"user_id":7877351,"display_name":"Psi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667314091,"creation_date":1667314091,"answer_id":74277713,"question_id":74277437,"body_markdown":"Found out what happened, although I don&#39;t know the specifics.\r\n\r\nspring uses Jackson to serialize, and Jackson uses by default public getters to serialize and name data. \r\nSince I named the nbr getter/setters as getNumber() and setNumber, changing it to getNbr() and setNbr() respectively solved the issue.","title":"Http Response parameter name incorrect using Spring Boot/Angular","body":"<p>Found out what happened, although I don't know the specifics.</p>\n<p>spring uses Jackson to serialize, and Jackson uses by default public getters to serialize and name data.\nSince I named the nbr getter/setters as getNumber() and setNumber, changing it to getNbr() and setNbr() respectively solved the issue.</p>\n"}],"owner":{"account_id":10702514,"reputation":61,"user_id":7877351,"display_name":"Psi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1667314091,"creation_date":1667312805,"question_id":74277437,"body_markdown":"I&#39;m trying to display a table listing the Country codes (iso3166) in a postgresql db onto an html page using Spring Boot and Angular, the parameter name in the http response lists &quot;number&quot; when instead I want it to list &quot;nbr&quot;. \r\n\r\nThe SQL table has 4 columns\r\n* name (varchar) unique\r\n* alpha2 (varchar) PK unique\r\n* alpha3 (varchar) unique\r\n* nbr (int4)\r\n\r\nMy Spring Boot Models is the following:\r\n```\r\n@Entity\r\n@Table(name = &quot;iso3166&quot;)\r\npublic class Country {\r\n\r\n\t@Id\r\n\t@GeneratedValue(strategy = GenerationType.AUTO)\r\n\tprivate String alpha2;\r\n\r\n    @Column(name = &quot;name&quot;)\r\n\tprivate String name;\r\n\r\n\t@Column(name = &quot;alpha3&quot;)\r\n\tprivate String alpha3;\r\n\r\n\t@Column(name = &quot;nbr&quot;)\r\n\tprivate int nbr;\r\n\r\n    public Country()\r\n    {\r\n    }\r\n\r\n    public Country(String name, String alpha2, String alpha3, int nbr)\r\n    {\r\n        this.name = name;\r\n        this.alpha2 = alpha2;\r\n        this.alpha3 = alpha3;\r\n        this.nbr = nbr;\r\n    }\r\n\r\n/*\r\ngetters and settings + toString()\r\n*/\r\n\r\n```\r\n\r\nThe repository uses JPARepository\r\n```\r\npublic interface ICountryRepository extends JpaRepository&lt;Country, String&gt; {\r\n}\r\n```\r\nAnd the Controller has only the findAll() method\r\n```\r\n@RestController\r\n@RequestMapping({&quot;/api&quot;})\r\npublic class CountryController {\r\n    \r\n    @Autowired\r\n    ICountryRepository countryRepository;\r\n\r\n    @GetMapping\r\n    public List&lt;Country&gt; findAll(){\r\n        List&lt;Country&gt; country = countryRepository.findAll();\r\n        return country;\r\n    }\r\n}\r\n```\r\nRunning spring-boot and opening localhost in chrome, the table shows up just fine.\r\n[![enter image description here][1]][1]\r\n\r\nHowever, looking at the Response tab under Network, it shows up like this\r\n[![enter image description here][2]][2]\r\nShows the same thing if I go to http://localhost:8080/api\r\n\r\n[{&quot;alpha2&quot;:&quot;AX&quot;,&quot;name&quot;:&quot;AALAND ISLANDS&quot;,&quot;alpha3&quot;:&quot;ALA&quot;,&quot;number&quot;:248},{&quot;alpha2&quot;:&quot;AF&quot;,&quot;name&quot;:&quot;AFGHANISTAN&quot;,&quot;alpha3&quot;:&quot;AFG&quot;,&quot;number&quot;:4},{&quot;alpha2&quot;:&quot;AL&quot;,&quot;name&quot;:&quot;ALBANIA&quot;,&quot;alpha3&quot;:&quot;ALB&quot;,&quot;number&quot;:8},{&quot;alpha2&quot;:&quot;DZ&quot;,&quot;name&quot;:&quot;ALGERIA&quot;,&quot;alpha3&quot;:&quot;DZA&quot;,&quot;number&quot;:12},{&quot;alpha2&quot;:&quot;AS&quot;,&quot;name&quot;:&quot;AMERICAN SAMOA&quot;,&quot;alpha3&quot;:&quot;ASM&quot;,&quot;number&quot;:16},{&quot;alpha2&quot;:&quot;AD&quot;,&quot;name&quot;:&quot;ANDORRA&quot;,&quot;alpha3&quot;:&quot;AND&quot;,&quot;number&quot;:20},{&quot;alpha2&quot;:&quot;AO&quot;,&quot;name&quot;:&quot;ANGOLA&quot;,&quot;alpha3&quot;:&quot;AGO&quot;,&quot;number&quot;:24},\r\n\r\nWhy does the Http Response return the &quot;nbr&quot; field as &quot;number&quot; instead? And how can I change it to show up as &quot;nbr&quot; in the Http response? Does something happen in the background in Spring Boot when formulating the http response that I can&#39;t control?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ecmNh.png\r\n  [2]: https://i.stack.imgur.com/Uyu67.png","title":"Http Response parameter name incorrect using Spring Boot/Angular","body":"<p>I'm trying to display a table listing the Country codes (iso3166) in a postgresql db onto an html page using Spring Boot and Angular, the parameter name in the http response lists &quot;number&quot; when instead I want it to list &quot;nbr&quot;.</p>\n<p>The SQL table has 4 columns</p>\n<ul>\n<li>name (varchar) unique</li>\n<li>alpha2 (varchar) PK unique</li>\n<li>alpha3 (varchar) unique</li>\n<li>nbr (int4)</li>\n</ul>\n<p>My Spring Boot Models is the following:</p>\n<pre><code>@Entity\n@Table(name = &quot;iso3166&quot;)\npublic class Country {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private String alpha2;\n\n    @Column(name = &quot;name&quot;)\n    private String name;\n\n    @Column(name = &quot;alpha3&quot;)\n    private String alpha3;\n\n    @Column(name = &quot;nbr&quot;)\n    private int nbr;\n\n    public Country()\n    {\n    }\n\n    public Country(String name, String alpha2, String alpha3, int nbr)\n    {\n        this.name = name;\n        this.alpha2 = alpha2;\n        this.alpha3 = alpha3;\n        this.nbr = nbr;\n    }\n\n/*\ngetters and settings + toString()\n*/\n\n</code></pre>\n<p>The repository uses JPARepository</p>\n<pre><code>public interface ICountryRepository extends JpaRepository&lt;Country, String&gt; {\n}\n</code></pre>\n<p>And the Controller has only the findAll() method</p>\n<pre><code>@RestController\n@RequestMapping({&quot;/api&quot;})\npublic class CountryController {\n    \n    @Autowired\n    ICountryRepository countryRepository;\n\n    @GetMapping\n    public List&lt;Country&gt; findAll(){\n        List&lt;Country&gt; country = countryRepository.findAll();\n        return country;\n    }\n}\n</code></pre>\n<p>Running spring-boot and opening localhost in chrome, the table shows up just fine.\n<a href=\"https://i.stack.imgur.com/ecmNh.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ecmNh.png\" alt=\"enter image description here\" /></a></p>\n<p>However, looking at the Response tab under Network, it shows up like this\n<a href=\"https://i.stack.imgur.com/Uyu67.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Uyu67.png\" alt=\"enter image description here\" /></a>\nShows the same thing if I go to http://localhost:8080/api</p>\n<p>[{&quot;alpha2&quot;:&quot;AX&quot;,&quot;name&quot;:&quot;AALAND ISLANDS&quot;,&quot;alpha3&quot;:&quot;ALA&quot;,&quot;number&quot;:248},{&quot;alpha2&quot;:&quot;AF&quot;,&quot;name&quot;:&quot;AFGHANISTAN&quot;,&quot;alpha3&quot;:&quot;AFG&quot;,&quot;number&quot;:4},{&quot;alpha2&quot;:&quot;AL&quot;,&quot;name&quot;:&quot;ALBANIA&quot;,&quot;alpha3&quot;:&quot;ALB&quot;,&quot;number&quot;:8},{&quot;alpha2&quot;:&quot;DZ&quot;,&quot;name&quot;:&quot;ALGERIA&quot;,&quot;alpha3&quot;:&quot;DZA&quot;,&quot;number&quot;:12},{&quot;alpha2&quot;:&quot;AS&quot;,&quot;name&quot;:&quot;AMERICAN SAMOA&quot;,&quot;alpha3&quot;:&quot;ASM&quot;,&quot;number&quot;:16},{&quot;alpha2&quot;:&quot;AD&quot;,&quot;name&quot;:&quot;ANDORRA&quot;,&quot;alpha3&quot;:&quot;AND&quot;,&quot;number&quot;:20},{&quot;alpha2&quot;:&quot;AO&quot;,&quot;name&quot;:&quot;ANGOLA&quot;,&quot;alpha3&quot;:&quot;AGO&quot;,&quot;number&quot;:24},</p>\n<p>Why does the Http Response return the &quot;nbr&quot; field as &quot;number&quot; instead? And how can I change it to show up as &quot;nbr&quot; in the Http response? Does something happen in the background in Spring Boot when formulating the http response that I can't control?</p>\n"},{"tags":["java","selenium"],"comments":[{"owner":{"account_id":10404380,"reputation":2588,"user_id":7671727,"display_name":"AbiSaran"},"score":1,"creation_date":1667313718,"post_id":74277608,"comment_id":131135429,"body_markdown":"Post the code you&#39;ve tried so far.","body":"Post the code you&#39;ve tried so far."},{"owner":{"account_id":6077817,"reputation":1213,"user_id":4744568,"display_name":"pcalkins"},"score":0,"creation_date":1667332505,"post_id":74277608,"comment_id":131141690,"body_markdown":"the error suggests that the driver is in nomansland.  (The window/tab the driver is active in has been closed)","body":"the error suggests that the driver is in nomansland.  (The window/tab the driver is active in has been closed)"},{"owner":{"account_id":26150866,"reputation":1,"user_id":19838844,"display_name":"Megha Hadagali"},"score":0,"creation_date":1667364285,"post_id":74277608,"comment_id":131147358,"body_markdown":"How to make the 2 tabs as active tabs?","body":"How to make the 2 tabs as active tabs?"}],"owner":{"account_id":26150866,"reputation":1,"user_id":19838844,"display_name":"Megha Hadagali"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":80,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1667314065,"creation_date":1667313562,"question_id":74277608,"body_markdown":"I have opened 2 tabs and closed the main tab then again I want to open another tab to do some operations at that time I am getting above error\r\n\r\n1.My scripts will going to do the some operations in main tab\r\n2.Then it will going to open new tab\r\n3.Then it will switch back to main tab and it will close that \r\n4.After that I want to open another new tab with same url I have used in main tab at that time I am getting the above error in selenium using java\r\n","title":"org.openqa.selenium.NoSuchWindowException: no such window: target window already closed","body":"<p>I have opened 2 tabs and closed the main tab then again I want to open another tab to do some operations at that time I am getting above error</p>\n<p>1.My scripts will going to do the some operations in main tab\n2.Then it will going to open new tab\n3.Then it will switch back to main tab and it will close that\n4.After that I want to open another new tab with same url I have used in main tab at that time I am getting the above error in selenium using java</p>\n"},{"tags":["java","file","io"],"comments":[{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":0,"creation_date":1667314364,"post_id":74277708,"comment_id":131135688,"body_markdown":"**`Path#toAbolutePath()`.** Relative paths are dangerous though, like different in IDE as stand-alone. The `resolve` methods are better.","body":"<b><code>Path#toAbolutePath()</code>.</b> Relative paths are dangerous though, like different in IDE as stand-alone. The <code>resolve</code> methods are better."},{"owner":{"account_id":4027676,"reputation":344,"user_id":3315164,"display_name":"Carson McManus"},"score":0,"creation_date":1667317017,"post_id":74277708,"comment_id":131136605,"body_markdown":"`Path#toAbolutePath()` prints out the entire absolute path, which is not what I want. I simply want to resolve the `..` into the actual folder&#39;s name.","body":"<code>Path#toAbolutePath()</code> prints out the entire absolute path, which is not what I want. I simply want to resolve the <code>..</code> into the actual folder&#39;s name."},{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":0,"creation_date":1667317982,"post_id":74277708,"comment_id":131136971,"body_markdown":"You can use [**`relativize`**](https://docs.oracle.com/javase/10/docs/api/java/nio/file/Path.html#relativize(java.nio.file.Path)) for that.","body":"You can use <a href=\"https://docs.oracle.com/javase/10/docs/api/java/nio/file/Path.html#relativize(java.nio.file.Path)\" rel=\"nofollow noreferrer\"><b><code>relativize</code></b></a> for that."}],"owner":{"account_id":4027676,"reputation":344,"user_id":3315164,"display_name":"Carson McManus"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":15,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1667314063,"creation_date":1667314063,"question_id":74277708,"body_markdown":"Suppose I have the following directory structure:\r\n\r\n```\r\n| baz/\r\n|-- | foo/\r\n|   |-- bar.txt\r\n```\r\n\r\nAnd that I run my program so that the current directory is `baz/`. If I define a Path like this:\r\n\r\n```java\r\nvar foo = Path.of(&quot;../foo/bar.txt&quot;);\r\n```\r\n\r\nI want to present this path to the user, but when I just print the path out as is it includes the `..`, like this:\r\n\r\n```\r\n../foo/bar.txt\r\n```\r\n\r\nHow do I get it to present this path like this instead?\r\n\r\n```\r\nbaz/foo/bar.txt\r\n```","title":"java.nio.Path: How do I force java to resolve `..` when Path is relative to the current directory?","body":"<p>Suppose I have the following directory structure:</p>\n<pre><code>| baz/\n|-- | foo/\n|   |-- bar.txt\n</code></pre>\n<p>And that I run my program so that the current directory is <code>baz/</code>. If I define a Path like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>var foo = Path.of(&quot;../foo/bar.txt&quot;);\n</code></pre>\n<p>I want to present this path to the user, but when I just print the path out as is it includes the <code>..</code>, like this:</p>\n<pre><code>../foo/bar.txt\n</code></pre>\n<p>How do I get it to present this path like this instead?</p>\n<pre><code>baz/foo/bar.txt\n</code></pre>\n"},{"tags":["java","oop","design-patterns","factory-method","chain-of-responsibility"],"comments":[{"owner":{"account_id":114128,"reputation":50467,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":0,"creation_date":1666909763,"post_id":74227942,"comment_id":131053126,"body_markdown":"Your original solution works well as long as the concrete classes use the same parameters, as you say.  I&#39;d wait until I had a concrete example of an additional parameter before I&#39;d worry about a `Parameter` class.","body":"Your original solution works well as long as the concrete classes use the same parameters, as you say.  I&#39;d wait until I had a concrete example of an additional parameter before I&#39;d worry about a <code>Parameter</code> class."},{"owner":{"account_id":12434767,"reputation":3949,"user_id":9055634,"accept_rate":22,"display_name":"Jim"},"score":0,"creation_date":1666944956,"post_id":74227942,"comment_id":131058978,"body_markdown":"@GilbertLeBlanc: Is this &quot;flexibility&quot; not good to be considered early on in the design?","body":"@GilbertLeBlanc: Is this &quot;flexibility&quot; not good to be considered early on in the design?"},{"owner":{"account_id":114128,"reputation":50467,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":0,"creation_date":1666958546,"post_id":74227942,"comment_id":131063366,"body_markdown":"Not in this case, no.  Your &quot;flexibility&quot; is over-engineering.","body":"Not in this case, no.  Your &quot;flexibility&quot; is over-engineering."},{"owner":{"account_id":12434767,"reputation":3949,"user_id":9055634,"accept_rate":22,"display_name":"Jim"},"score":1,"creation_date":1667311449,"post_id":74227942,"comment_id":131134545,"body_markdown":"@Michael: Typo, fixed. Thank you","body":"@Michael: Typo, fixed. Thank you"}],"owner":{"account_id":12434767,"reputation":3949,"user_id":9055634,"accept_rate":22,"display_name":"Jim"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":78,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1667313934,"creation_date":1666902434,"question_id":74227942,"body_markdown":"I have a case that I want return an object that is populated by multiple concrete classes.  \r\nSpecific example:   \r\n\r\n    public interface MovieHandler {\r\n        UserPreferences process(Context context, Customer customer, History customerHistory);\r\n    }\r\n\r\nConcrete implementations:  \r\n\r\n    public class AdventureMovieHandler implements MovieHandler\r\n    public class ComedyMovieHandler implements MovieHandler\r\n    public class MysteryMovieHandler implements MovieHandler\r\n    public class SciFiMovieHandler implements MovieHandler\r\n\r\nEach has their own logic so that based on the parameters passed in the `process` the create a list of recommendation for the specific category/genre.  \r\n\r\nThere is also:  \r\n\r\n   \r\n\r\n    public class Recommender {\r\n        private List&lt;UserPreferences&gt; handlers;\r\n    \r\n        public Recommender() {\r\n            handlers = new ArrayList&lt;&gt;();\r\n            handlers.add(new AdventureMovieHandler());\r\n            handlers.add(new ComedyMovieHandler());\r\n            handlers.add(new SciFiMovieHandler());\r\n            handlers.add(new MysteryMovieHandler());\r\n        }\r\n    \r\n        public UserPreferences getRecommendations(Context context, Customer customer, History customerHistory) {\r\n            UserPreferences preferences = new UserPreferences();\r\n            for(MovieHandler handler: handlers) {\r\n                UserPreferences r = handler.process(context, customer, customerHistory);\r\n                if(r.getMysteryInfo() != null) {\r\n                    preferences.setMysteryInfo(r.getMysteryInfo());\r\n                }\r\n                else if(r.getAdventureInfo() != null) {\r\n                    preferences.setAdventureInfo(r.getAdventureInfo());\r\n                }\r\n                else if(r.getComedyInfo() != null) {\r\n                    preferences.setComedyInfo(r.getComedyInfo());\r\n                }\r\n                else if(r.getSciFiInfo() != null) {\r\n                    preferences.setSciFiInfo(r.getSciFiInfo());\r\n                }\r\n                preferences.getMovies().addAll(r.getMovies());\r\n            }\r\n            return preferences;\r\n        }\r\n    }\r\n\r\n\r\n\r\nAnd the `UserPreferences`. \r\n\r\n\r\n    public class UserPreferences {\r\n        private MysteryGenre mysteryInfo;\r\n        private AdventureGenre adventureInfo;\r\n        private ComedyGenre comedyInfo;\r\n        private SciFiGenre sciFiInfo;\r\n    \r\n        List&lt;Movie&gt; movies;\r\n\r\nNow this works but I am not sure if the implementation of the `Recommender` could use some design pattern that helps avoiding checking for what is `null` per case in the series of `if/else`.  \r\nIs there something suited that can be used for this case?  \r\nPlease note that I need to return that `UserPreferences` in that format i.e. as a holder for all the various cases","title":"Handle class behaving like union","body":"<p>I have a case that I want return an object that is populated by multiple concrete classes.<br />\nSpecific example:</p>\n<pre><code>public interface MovieHandler {\n    UserPreferences process(Context context, Customer customer, History customerHistory);\n}\n</code></pre>\n<p>Concrete implementations:</p>\n<pre><code>public class AdventureMovieHandler implements MovieHandler\npublic class ComedyMovieHandler implements MovieHandler\npublic class MysteryMovieHandler implements MovieHandler\npublic class SciFiMovieHandler implements MovieHandler\n</code></pre>\n<p>Each has their own logic so that based on the parameters passed in the <code>process</code> the create a list of recommendation for the specific category/genre.</p>\n<p>There is also:</p>\n<pre><code>public class Recommender {\n    private List&lt;UserPreferences&gt; handlers;\n\n    public Recommender() {\n        handlers = new ArrayList&lt;&gt;();\n        handlers.add(new AdventureMovieHandler());\n        handlers.add(new ComedyMovieHandler());\n        handlers.add(new SciFiMovieHandler());\n        handlers.add(new MysteryMovieHandler());\n    }\n\n    public UserPreferences getRecommendations(Context context, Customer customer, History customerHistory) {\n        UserPreferences preferences = new UserPreferences();\n        for(MovieHandler handler: handlers) {\n            UserPreferences r = handler.process(context, customer, customerHistory);\n            if(r.getMysteryInfo() != null) {\n                preferences.setMysteryInfo(r.getMysteryInfo());\n            }\n            else if(r.getAdventureInfo() != null) {\n                preferences.setAdventureInfo(r.getAdventureInfo());\n            }\n            else if(r.getComedyInfo() != null) {\n                preferences.setComedyInfo(r.getComedyInfo());\n            }\n            else if(r.getSciFiInfo() != null) {\n                preferences.setSciFiInfo(r.getSciFiInfo());\n            }\n            preferences.getMovies().addAll(r.getMovies());\n        }\n        return preferences;\n    }\n}\n</code></pre>\n<p>And the <code>UserPreferences</code>.</p>\n<pre><code>public class UserPreferences {\n    private MysteryGenre mysteryInfo;\n    private AdventureGenre adventureInfo;\n    private ComedyGenre comedyInfo;\n    private SciFiGenre sciFiInfo;\n\n    List&lt;Movie&gt; movies;\n</code></pre>\n<p>Now this works but I am not sure if the implementation of the <code>Recommender</code> could use some design pattern that helps avoiding checking for what is <code>null</code> per case in the series of <code>if/else</code>.<br />\nIs there something suited that can be used for this case?<br />\nPlease note that I need to return that <code>UserPreferences</code> in that format i.e. as a holder for all the various cases</p>\n"},{"tags":["java","mysql","hibernate","jdbc"],"comments":[{"owner":{"account_id":2203408,"reputation":5012,"user_id":1947216,"display_name":"mentallurg"},"score":0,"creation_date":1593375777,"post_id":62627679,"comment_id":110752310,"body_markdown":"&quot;it was caused by the failure of creating tables&quot; - no, this is not true. The error message means that the codes attempts to read from a table, by this table is missing. What should you do? Create a table that is currently missing.","body":"&quot;it was caused by the failure of creating tables&quot; - no, this is not true. The error message means that the codes attempts to read from a table, by this table is missing. What should you do? Create a table that is currently missing."},{"owner":{"account_id":8026267,"reputation":4734,"user_id":6053084,"display_name":"Turo"},"score":0,"creation_date":1593375909,"post_id":62627679,"comment_id":110752350,"body_markdown":"You use hibernate 5? see https://stackoverf7low.com/questions/33449545/table-not-created-with-hbm2ddl-auto-update-in-hibernate-5 ... (answer with set dialect)","body":"You use hibernate 5? see <a href=\"https://stackoverf7low.com/questions/33449545/table-not-created-with-hbm2ddl-auto-update-in-hibernate-5\" rel=\"nofollow noreferrer\" title=\"table not created with hbm2ddl auto update in hibernate 5\">stackoverf7low.com/questions/33449545/&hellip;</a> ... (answer with set dialect)"}],"answers":[{"tags":[],"owner":{"account_id":2330823,"reputation":9304,"user_id":2044302,"accept_rate":74,"display_name":"Alexander Petrov"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1593376149,"creation_date":1593376149,"answer_id":62627881,"question_id":62627679,"body_markdown":"How about adding `&lt;property name=&quot;hbm2ddl.auto&quot; value=&quot;create&quot;/&gt;` to your hibernate configruation file. This will ensure your tables are created on startup and leave them intact.\r\n\r\n&gt; validate: validate the schema, makes no changes to the database.\r\n&gt; update: update the schema. create: creates the schema, destroying\r\n&gt; previous data. create-drop: drop the schema when the SessionFactory is\r\n&gt; closed explicitly, typically when the application is stopped. none:\r\n&gt; does nothing with the schema, makes no changes to the database\r\n\r\nA more extensive description of the possible values :\r\nhttps://stackoverflow.com/questions/438146/what-are-the-possible-values-of-the-hibernate-hbm2ddl-auto-configuration-and-wha\r\n","title":"hibernate: Could not execute JDBC batch update","body":"<p>How about adding <code>&lt;property name=&quot;hbm2ddl.auto&quot; value=&quot;create&quot;/&gt;</code> to your hibernate configruation file. This will ensure your tables are created on startup and leave them intact.</p>\n<blockquote>\n<p>validate: validate the schema, makes no changes to the database.\nupdate: update the schema. create: creates the schema, destroying\nprevious data. create-drop: drop the schema when the SessionFactory is\nclosed explicitly, typically when the application is stopped. none:\ndoes nothing with the schema, makes no changes to the database</p>\n</blockquote>\n<p>A more extensive description of the possible values :\n<a href=\"https://stackoverflow.com/questions/438146/what-are-the-possible-values-of-the-hibernate-hbm2ddl-auto-configuration-and-wha\">What are the possible values of the Hibernate hbm2ddl.auto configuration and what do they do</a></p>\n"},{"tags":[],"owner":{"account_id":8871846,"reputation":87,"user_id":7574010,"display_name":"Paul afk"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667313897,"creation_date":1667305746,"answer_id":74275970,"question_id":62627679,"body_markdown":"It is a java error: Please disable/comment out recovery part from MySQL my.cnf file. \r\nAs now the MySQL is in a state where users cannot change/edit anything on the MySQL database.\r\n\r\n\r\n\r\n","title":"hibernate: Could not execute JDBC batch update","body":"<p>It is a java error: Please disable/comment out recovery part from MySQL my.cnf file.\nAs now the MySQL is in a state where users cannot change/edit anything on the MySQL database.</p>\n"}],"owner":{"account_id":15304949,"reputation":21,"user_id":11042045,"display_name":"Bryan Liu"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1074,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1667313897,"creation_date":1593374761,"question_id":62627679,"body_markdown":"When I want to create a one to one mapping by using hibernate, the error &quot;Could not execute JDBC batch update&quot; keeps raising and I noticed that it was caused by the failure of creating tables in the MySQL according to the error it showed. Would you please help me to find out the problems inside it? Thank you!\r\n\r\nHibernate Configuration File\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;!DOCTYPE hibernate-configuration PUBLIC\r\n\t&quot;-//Hibernate/Hibernate Configuration DTD 3.0//EN&quot;\r\n\t&quot;http://www.hibernate.org/dtd/hibernate-configuration-3.0.dtd&quot;&gt;\r\n&lt;hibernate-configuration&gt;\r\n&lt;session-factory&gt;\r\n&lt;property name=&quot;hibernate.hbm2ddl.auto&quot;&gt;update&lt;/property&gt;\r\n&lt;property name=&quot;show_sql&quot;&gt;true&lt;/property&gt;\r\n&lt;property name=&quot;dialect&quot;&gt;org.hibernate.dialect.MySQLDialect&lt;/property&gt;\r\n&lt;property name=&quot;connection.url&quot;&gt;jdbc:mysql://localhost/june13?serverTimezone=UTC&lt;/property&gt;\r\n&lt;property name=&quot;connection.username&quot;&gt;root&lt;/property&gt;\r\n&lt;property name=&quot;connection.password&quot;&gt;root&lt;/property&gt;\r\n&lt;property name=&quot;connection.driver_class&quot;&gt;com.mysql.cj.jdbc.Driver&lt;/property&gt;\r\n&lt;mapping resource=&quot;Emp-hbm.xml&quot;/&gt;\r\n&lt;/session-factory&gt;\r\n&lt;/hibernate-configuration&gt;\r\n```\r\nHibernate one-to-one mapping file:\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;!DOCTYPE hibernate-mapping PUBLIC \r\n    &quot;-//Hibernate/Hibernate Mapping DTD 3.0//EN&quot;\r\n    &quot;http://www.hibernate.org/dtd/hibernate-mapping-3.0.dtd&quot;&gt;\r\n&lt;hibernate-mapping&gt;\r\n\t&lt;class name=&quot;com.hibernate.one2one.Emp&quot; table=&quot;emp_906&quot;&gt;\r\n\t\t&lt;id name=&quot;id&quot; column=&quot;emp_id&quot;&gt;&lt;/id&gt;\r\n\t\t&lt;property name=&quot;name&quot; column=&quot;emp_name&quot; /&gt;\r\n\t\t&lt;one-to-one name=&quot;phoneno&quot; cascade=&quot;all&quot;&gt;&lt;/one-to-one&gt;\r\n\t&lt;/class&gt;\r\n\t&lt;class name=&quot;com.hibernate.one2one.PhoneNumber&quot; table=&quot;phone_906&quot;&gt;\r\n\t\t&lt;id name=&quot;pid&quot;&gt;&lt;/id&gt;\r\n\t\t&lt;property name=&quot;network&quot; /&gt;\r\n\t\t&lt;property name=&quot;phonenumber&quot; /&gt;\r\n\t\t&lt;one-to-one name=&quot;emp&quot;&gt;&lt;/one-to-one&gt;\r\n\t&lt;/class&gt;\r\n&lt;/hibernate-mapping&gt;\r\n```\r\nMain File:\r\n```\r\npackage com.hibernate.one2one;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\nimport org.hibernate.SessionFactory;\r\nimport org.hibernate.Transaction;\r\nimport org.hibernate.cfg.Configuration;\r\nimport org.hibernate.classic.Session;\r\n\r\npublic class App \r\n{\r\n\tpublic static void main(String[] args) \r\n\t{\r\n\t\tConfiguration cfg=new Configuration();\r\n\t\tcfg.configure(&quot;Hibernate-cfg.xml&quot;);\r\n\t\tSystem.out.println(&quot;Configuration Object Created Successfully&quot;);\r\n\t\tSessionFactory sf=cfg.buildSessionFactory();\r\n\t\tSystem.out.println(&quot;Session Factory Object is Created&quot;);\r\n\t\tSession s=sf.openSession();\r\n\t\tTransaction t=s.beginTransaction();\r\n\t\tEmp e=new Emp();\r\n\t\te.setId(104);\r\n\t\te.setName(&quot;Lee Meng&quot;);\r\n\t\tPhoneNumber ph = new PhoneNumber();\r\n\t\tph.setPid(201);\r\n\t\tph.setNetwork(&quot;ATT&quot;);\r\n\t\tph.setPhonenumber(&quot;9900336611&quot;);\r\n\t\te.setPhoneno(ph);\r\n\t\tph.setEmp(e);\r\n\t\ts.persist(e);\r\n\t\tt.commit();\r\n\t\ts.close();\r\n\t\tsf.close();\r\n\t}\r\n}\r\n```\r\nThe error code:\r\n```\r\nException in thread &quot;main&quot; org.hibernate.exception.SQLGrammarException: Could not execute JDBC batch update\r\n\tat org.hibernate.exception.SQLStateConverter.convert(SQLStateConverter.java:92)\r\n\tat org.hibernate.exception.JDBCExceptionHelper.convert(JDBCExceptionHelper.java:66)\r\n\tat org.hibernate.jdbc.AbstractBatcher.executeBatch(AbstractBatcher.java:275)\r\n\tat org.hibernate.jdbc.AbstractBatcher.prepareStatement(AbstractBatcher.java:114)\r\n\tat org.hibernate.jdbc.AbstractBatcher.prepareStatement(AbstractBatcher.java:109)\r\n\tat org.hibernate.jdbc.AbstractBatcher.prepareBatchStatement(AbstractBatcher.java:244)\r\n\tat org.hibernate.persister.entity.AbstractEntityPersister.insert(AbstractEntityPersister.java:2411)\r\n\tat org.hibernate.persister.entity.AbstractEntityPersister.insert(AbstractEntityPersister.java:2874)\r\n\tat org.hibernate.action.EntityInsertAction.execute(EntityInsertAction.java:79)\r\n\tat org.hibernate.engine.ActionQueue.execute(ActionQueue.java:273)\r\n\tat org.hibernate.engine.ActionQueue.executeActions(ActionQueue.java:265)\r\n\tat org.hibernate.engine.ActionQueue.executeActions(ActionQueue.java:184)\r\n\tat org.hibernate.event.def.AbstractFlushingEventListener.performExecutions(AbstractFlushingEventListener.java:321)\r\n\tat org.hibernate.event.def.DefaultFlushEventListener.onFlush(DefaultFlushEventListener.java:51)\r\n\tat org.hibernate.impl.SessionImpl.flush(SessionImpl.java:1216)\r\n\tat org.hibernate.impl.SessionImpl.managedFlush(SessionImpl.java:383)\r\n\tat org.hibernate.transaction.JDBCTransaction.commit(JDBCTransaction.java:133)\r\n\tat com.hibernate.one2one.App.main(App.java:32)\r\nCaused by: java.sql.BatchUpdateException: Table &#39;june13.emp_906&#39; doesn&#39;t exist\r\n\tat sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n\tat sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\r\n\tat sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\r\n\tat java.lang.reflect.Constructor.newInstance(Constructor.java:423)\r\n\tat com.mysql.cj.util.Util.handleNewInstance(Util.java:192)\r\n\tat com.mysql.cj.util.Util.getInstance(Util.java:167)\r\n\tat com.mysql.cj.util.Util.getInstance(Util.java:174)\r\n\tat com.mysql.cj.jdbc.exceptions.SQLError.createBatchUpdateException(SQLError.java:224)\r\n\tat com.mysql.cj.jdbc.ClientPreparedStatement.executeBatchSerially(ClientPreparedStatement.java:853)\r\n\tat com.mysql.cj.jdbc.ClientPreparedStatement.executeBatchInternal(ClientPreparedStatement.java:435)\r\n\tat com.mysql.cj.jdbc.StatementImpl.executeBatch(StatementImpl.java:796)\r\n\tat org.hibernate.jdbc.BatchingBatcher.doExecuteBatch(BatchingBatcher.java:70)\r\n\tat org.hibernate.jdbc.AbstractBatcher.executeBatch(AbstractBatcher.java:268)\r\n\t... 15 more\r\nCaused by: java.sql.SQLSyntaxErrorException: Table &#39;june13.emp_906&#39; doesn&#39;t exist\r\n\tat com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:120)\r\n\tat com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:97)\r\n\tat com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)\r\n\tat com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:953)\r\n\tat com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdateInternal(ClientPreparedStatement.java:1092)\r\n\tat com.mysql.cj.jdbc.ClientPreparedStatement.executeBatchSerially(ClientPreparedStatement.java:832)\r\n\t... 19 more\r\n```","title":"hibernate: Could not execute JDBC batch update","body":"<p>When I want to create a one to one mapping by using hibernate, the error &quot;Could not execute JDBC batch update&quot; keeps raising and I noticed that it was caused by the failure of creating tables in the MySQL according to the error it showed. Would you please help me to find out the problems inside it? Thank you!</p>\n<p>Hibernate Configuration File</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;!DOCTYPE hibernate-configuration PUBLIC\n    &quot;-//Hibernate/Hibernate Configuration DTD 3.0//EN&quot;\n    &quot;http://www.hibernate.org/dtd/hibernate-configuration-3.0.dtd&quot;&gt;\n&lt;hibernate-configuration&gt;\n&lt;session-factory&gt;\n&lt;property name=&quot;hibernate.hbm2ddl.auto&quot;&gt;update&lt;/property&gt;\n&lt;property name=&quot;show_sql&quot;&gt;true&lt;/property&gt;\n&lt;property name=&quot;dialect&quot;&gt;org.hibernate.dialect.MySQLDialect&lt;/property&gt;\n&lt;property name=&quot;connection.url&quot;&gt;jdbc:mysql://localhost/june13?serverTimezone=UTC&lt;/property&gt;\n&lt;property name=&quot;connection.username&quot;&gt;root&lt;/property&gt;\n&lt;property name=&quot;connection.password&quot;&gt;root&lt;/property&gt;\n&lt;property name=&quot;connection.driver_class&quot;&gt;com.mysql.cj.jdbc.Driver&lt;/property&gt;\n&lt;mapping resource=&quot;Emp-hbm.xml&quot;/&gt;\n&lt;/session-factory&gt;\n&lt;/hibernate-configuration&gt;\n</code></pre>\n<p>Hibernate one-to-one mapping file:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;!DOCTYPE hibernate-mapping PUBLIC \n    &quot;-//Hibernate/Hibernate Mapping DTD 3.0//EN&quot;\n    &quot;http://www.hibernate.org/dtd/hibernate-mapping-3.0.dtd&quot;&gt;\n&lt;hibernate-mapping&gt;\n    &lt;class name=&quot;com.hibernate.one2one.Emp&quot; table=&quot;emp_906&quot;&gt;\n        &lt;id name=&quot;id&quot; column=&quot;emp_id&quot;&gt;&lt;/id&gt;\n        &lt;property name=&quot;name&quot; column=&quot;emp_name&quot; /&gt;\n        &lt;one-to-one name=&quot;phoneno&quot; cascade=&quot;all&quot;&gt;&lt;/one-to-one&gt;\n    &lt;/class&gt;\n    &lt;class name=&quot;com.hibernate.one2one.PhoneNumber&quot; table=&quot;phone_906&quot;&gt;\n        &lt;id name=&quot;pid&quot;&gt;&lt;/id&gt;\n        &lt;property name=&quot;network&quot; /&gt;\n        &lt;property name=&quot;phonenumber&quot; /&gt;\n        &lt;one-to-one name=&quot;emp&quot;&gt;&lt;/one-to-one&gt;\n    &lt;/class&gt;\n&lt;/hibernate-mapping&gt;\n</code></pre>\n<p>Main File:</p>\n<pre><code>package com.hibernate.one2one;\n\nimport java.util.ArrayList;\nimport java.util.List;\n\nimport org.hibernate.SessionFactory;\nimport org.hibernate.Transaction;\nimport org.hibernate.cfg.Configuration;\nimport org.hibernate.classic.Session;\n\npublic class App \n{\n    public static void main(String[] args) \n    {\n        Configuration cfg=new Configuration();\n        cfg.configure(&quot;Hibernate-cfg.xml&quot;);\n        System.out.println(&quot;Configuration Object Created Successfully&quot;);\n        SessionFactory sf=cfg.buildSessionFactory();\n        System.out.println(&quot;Session Factory Object is Created&quot;);\n        Session s=sf.openSession();\n        Transaction t=s.beginTransaction();\n        Emp e=new Emp();\n        e.setId(104);\n        e.setName(&quot;Lee Meng&quot;);\n        PhoneNumber ph = new PhoneNumber();\n        ph.setPid(201);\n        ph.setNetwork(&quot;ATT&quot;);\n        ph.setPhonenumber(&quot;9900336611&quot;);\n        e.setPhoneno(ph);\n        ph.setEmp(e);\n        s.persist(e);\n        t.commit();\n        s.close();\n        sf.close();\n    }\n}\n</code></pre>\n<p>The error code:</p>\n<pre><code>Exception in thread &quot;main&quot; org.hibernate.exception.SQLGrammarException: Could not execute JDBC batch update\n    at org.hibernate.exception.SQLStateConverter.convert(SQLStateConverter.java:92)\n    at org.hibernate.exception.JDBCExceptionHelper.convert(JDBCExceptionHelper.java:66)\n    at org.hibernate.jdbc.AbstractBatcher.executeBatch(AbstractBatcher.java:275)\n    at org.hibernate.jdbc.AbstractBatcher.prepareStatement(AbstractBatcher.java:114)\n    at org.hibernate.jdbc.AbstractBatcher.prepareStatement(AbstractBatcher.java:109)\n    at org.hibernate.jdbc.AbstractBatcher.prepareBatchStatement(AbstractBatcher.java:244)\n    at org.hibernate.persister.entity.AbstractEntityPersister.insert(AbstractEntityPersister.java:2411)\n    at org.hibernate.persister.entity.AbstractEntityPersister.insert(AbstractEntityPersister.java:2874)\n    at org.hibernate.action.EntityInsertAction.execute(EntityInsertAction.java:79)\n    at org.hibernate.engine.ActionQueue.execute(ActionQueue.java:273)\n    at org.hibernate.engine.ActionQueue.executeActions(ActionQueue.java:265)\n    at org.hibernate.engine.ActionQueue.executeActions(ActionQueue.java:184)\n    at org.hibernate.event.def.AbstractFlushingEventListener.performExecutions(AbstractFlushingEventListener.java:321)\n    at org.hibernate.event.def.DefaultFlushEventListener.onFlush(DefaultFlushEventListener.java:51)\n    at org.hibernate.impl.SessionImpl.flush(SessionImpl.java:1216)\n    at org.hibernate.impl.SessionImpl.managedFlush(SessionImpl.java:383)\n    at org.hibernate.transaction.JDBCTransaction.commit(JDBCTransaction.java:133)\n    at com.hibernate.one2one.App.main(App.java:32)\nCaused by: java.sql.BatchUpdateException: Table 'june13.emp_906' doesn't exist\n    at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n    at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\n    at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\n    at java.lang.reflect.Constructor.newInstance(Constructor.java:423)\n    at com.mysql.cj.util.Util.handleNewInstance(Util.java:192)\n    at com.mysql.cj.util.Util.getInstance(Util.java:167)\n    at com.mysql.cj.util.Util.getInstance(Util.java:174)\n    at com.mysql.cj.jdbc.exceptions.SQLError.createBatchUpdateException(SQLError.java:224)\n    at com.mysql.cj.jdbc.ClientPreparedStatement.executeBatchSerially(ClientPreparedStatement.java:853)\n    at com.mysql.cj.jdbc.ClientPreparedStatement.executeBatchInternal(ClientPreparedStatement.java:435)\n    at com.mysql.cj.jdbc.StatementImpl.executeBatch(StatementImpl.java:796)\n    at org.hibernate.jdbc.BatchingBatcher.doExecuteBatch(BatchingBatcher.java:70)\n    at org.hibernate.jdbc.AbstractBatcher.executeBatch(AbstractBatcher.java:268)\n    ... 15 more\nCaused by: java.sql.SQLSyntaxErrorException: Table 'june13.emp_906' doesn't exist\n    at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:120)\n    at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:97)\n    at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)\n    at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:953)\n    at com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdateInternal(ClientPreparedStatement.java:1092)\n    at com.mysql.cj.jdbc.ClientPreparedStatement.executeBatchSerially(ClientPreparedStatement.java:832)\n    ... 19 more\n</code></pre>\n"},{"tags":["java","stdout","stdin"],"owner":{"account_id":17781160,"reputation":29,"user_id":12912333,"display_name":"vlOd"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1667313878,"creation_date":1667313878,"question_id":74277669,"body_markdown":"In my program I have changed stdout using ```System.setOut();``` but after that, typing into the console no longer echoes the input back.\r\n\r\nI tried the following, with no avail:\r\n```\r\noriginalStdIn = System.in;\r\nstdIn = new InputStream() {\r\n\t@Override\r\n\tpublic int available() throws IOException {\r\n\t\treturn originalStdIn.available();\r\n\t}\r\n\t\r\n\t@Override\r\n    public int read() throws IOException {\r\n        int chr = originalStdIn.read();\r\n        stdOut.write(chr);\r\n        return chr;\r\n    }\r\n\t\r\n    @Override\r\n    public int read(byte[] buffer) throws IOException {\r\n    \treturn this.read(buffer, 0, buffer.length);\r\n    }\r\n\t\r\n    @Override\r\n    public int read(byte[] buffer, int off, int len) throws IOException {\r\n    \tint readResult = originalStdIn.read(buffer, off, len);\r\n        stdOut.write(buffer, off, readResult);\r\n        return readResult;\r\n    }\r\n};\r\nSystem.setIn(stdIn);\r\n```\r\n\r\nThis is how I read input:\r\n```\r\nprivate void handleThread_func() {\r\n\tLogging.didUpdateInWindow = true;\r\n\tSystem.out.print(this.consoleInputPrefix);\r\n\t\r\n\twhile (!this.isClosed) {\r\n\t\ttry {\r\n\t\t\tif (System.in.available() &gt; 0) {\r\n                String input = &quot;&quot;;\r\n                while (System.in.available() &gt; 0) {\r\n                \tinput += this.inputReader.readLine();\r\n                }\r\n                this.handleInput(input);\r\n                \r\n                Logging.didUpdateInWindow = true;\r\n                System.out.print(this.consoleInputPrefix);\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tThread.sleep(1);\r\n\t\t} catch (Exception ex) {\r\n\t\t\tif (ex instanceof InterruptedException) break;\r\n\tLogging.logSevere(&quot;Unable to handle console input: &quot; + \r\n\t\t\tUtils.getExceptionStackTraceAsStr(ex));\r\n\t\t}\r\n\t}\r\n}\r\n```\r\n\r\nI tried changing ```input += this.inputReader.readLine();``` to ```input += (char)this.inputReader.read()``` but while it did echo, the input was read in the incorrect order\r\n","title":"Console input no longer being echo&#39;d after changing stdout","body":"<p>In my program I have changed stdout using <code>System.setOut();</code> but after that, typing into the console no longer echoes the input back.</p>\n<p>I tried the following, with no avail:</p>\n<pre><code>originalStdIn = System.in;\nstdIn = new InputStream() {\n    @Override\n    public int available() throws IOException {\n        return originalStdIn.available();\n    }\n    \n    @Override\n    public int read() throws IOException {\n        int chr = originalStdIn.read();\n        stdOut.write(chr);\n        return chr;\n    }\n    \n    @Override\n    public int read(byte[] buffer) throws IOException {\n        return this.read(buffer, 0, buffer.length);\n    }\n    \n    @Override\n    public int read(byte[] buffer, int off, int len) throws IOException {\n        int readResult = originalStdIn.read(buffer, off, len);\n        stdOut.write(buffer, off, readResult);\n        return readResult;\n    }\n};\nSystem.setIn(stdIn);\n</code></pre>\n<p>This is how I read input:</p>\n<pre><code>private void handleThread_func() {\n    Logging.didUpdateInWindow = true;\n    System.out.print(this.consoleInputPrefix);\n    \n    while (!this.isClosed) {\n        try {\n            if (System.in.available() &gt; 0) {\n                String input = &quot;&quot;;\n                while (System.in.available() &gt; 0) {\n                    input += this.inputReader.readLine();\n                }\n                this.handleInput(input);\n                \n                Logging.didUpdateInWindow = true;\n                System.out.print(this.consoleInputPrefix);\n            }\n            \n            Thread.sleep(1);\n        } catch (Exception ex) {\n            if (ex instanceof InterruptedException) break;\n    Logging.logSevere(&quot;Unable to handle console input: &quot; + \n            Utils.getExceptionStackTraceAsStr(ex));\n        }\n    }\n}\n</code></pre>\n<p>I tried changing <code>input += this.inputReader.readLine();</code> to <code>input += (char)this.inputReader.read()</code> but while it did echo, the input was read in the incorrect order</p>\n"},{"tags":["java","comparable","compareto"],"comments":[{"owner":{"account_id":401843,"reputation":89873,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1667312217,"post_id":74277248,"comment_id":131134829,"body_markdown":"Include the code of the superclass (the key element is the implements line. Is it `implements Comparator`, or `implements Comparable&lt;Foobar&gt;`, etc), and the code of your class: Both the `compareTo` line as well as your extends/implements line.","body":"Include the code of the superclass (the key element is the implements line. Is it <code>implements Comparator</code>, or <code>implements Comparable&lt;Foobar&gt;</code>, etc), and the code of your class: Both the <code>compareTo</code> line as well as your extends/implements line."},{"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"score":0,"creation_date":1667312858,"post_id":74277248,"comment_id":131135071,"body_markdown":"This is one of those cases where generics aren&#39;t going to prevent having to cast. See https://github.com/openjdk/jdk/blob/master/src/java.sql/share/classes/java/sql/Timestamp.java#L453 for an example how it was done in the JDK. An alternative is to just cast and let the JVM throw a `ClassCastException` if the type doesn&#39;t match.","body":"This is one of those cases where generics aren&#39;t going to prevent having to cast. See <a href=\"https://github.com/openjdk/jdk/blob/master/src/java.sql/share/classes/java/sql/Timestamp.java#L453\" rel=\"nofollow noreferrer\">github.com/openjdk/jdk/blob/master/src/java.sql/share/classe&zwnj;&#8203;s/&hellip;</a> for an example how it was done in the JDK. An alternative is to just cast and let the JVM throw a <code>ClassCastException</code> if the type doesn&#39;t match."},{"owner":{"account_id":401843,"reputation":89873,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1667312933,"post_id":74277248,"comment_id":131135097,"body_markdown":"@RobSpoor that is most likely (the question needs more detail) misleading. Given the requirement that comparison impls are commutative, what OP wants is impossible, and generics-casting doesn&#39;t make the impossible possible.","body":"@RobSpoor that is most likely (the question needs more detail) misleading. Given the requirement that comparison impls are commutative, what OP wants is impossible, and generics-casting doesn&#39;t make the impossible possible."},{"owner":{"account_id":401843,"reputation":89873,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1667313883,"post_id":74277248,"comment_id":131135508,"body_markdown":"@RobSpoor see my answer which shows why what OP wants is in fact impossible.","body":"@RobSpoor see my answer which shows why what OP wants is in fact impossible."},{"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"score":0,"creation_date":1667317943,"post_id":74277248,"comment_id":131136955,"body_markdown":"@rzwitserloot I disagree that it&#39;s impossible. However, the signature will indeed have to be `compareTo(Parent p)`, not `compareTo(Child c)`. The first line of that method could be `Child c = (Child) p`, which would give a `ClassCastException` if not provided with a `Child` instance. While you indeed lose commutativity when mixing `Parent` and `Child` instances, comparison would still work if only comparing `Child` instances.","body":"@rzwitserloot I disagree that it&#39;s impossible. However, the signature will indeed have to be <code>compareTo(Parent p)</code>, not <code>compareTo(Child c)</code>. The first line of that method could be <code>Child c = (Child) p</code>, which would give a <code>ClassCastException</code> if not provided with a <code>Child</code> instance. While you indeed lose commutativity when mixing <code>Parent</code> and <code>Child</code> instances, comparison would still work if only comparing <code>Child</code> instances."},{"owner":{"account_id":401843,"reputation":89873,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1667320997,"post_id":74277248,"comment_id":131138059,"body_markdown":"You&#39;ve defined the word &#39;work&#39; differently. Your definition evidently does not include &#39;adheres to the contract&#39;, and means Child instances are no longer interchangible with Parent instances. In specific scenarios (namely, when you don&#39;t need this) then you could say it &#39;works&#39;, but it&#39;s a ticking timebomb; you have to put in the javadoc something like `&lt;strong&gt;NB: Do not use instances of Child as Parents in any context where natural order is relevant as they violate the Comparable contract - bugs that take DAYS to find let alone fix will ensue! Caveat Emptor!&lt;/strong&gt;`. You can, but, yich.","body":"You&#39;ve defined the word &#39;work&#39; differently. Your definition evidently does not include &#39;adheres to the contract&#39;, and means Child instances are no longer interchangible with Parent instances. In specific scenarios (namely, when you don&#39;t need this) then you could say it &#39;works&#39;, but it&#39;s a ticking timebomb; you have to put in the javadoc something like <code>&lt;strong&gt;NB: Do not use instances of Child as Parents in any context where natural order is relevant as they violate the Comparable contract - bugs that take DAYS to find let alone fix will ensue! Caveat Emptor!&lt;&#47;strong&gt;</code>. You can, but, yich."}],"answers":[{"comments":[{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1667314882,"post_id":74277665,"comment_id":131135863,"body_markdown":"Well said.  I was getting ready to mention the violation of polymorphism;  you explained it better than I could have.","body":"Well said.  I was getting ready to mention the violation of polymorphism;  you explained it better than I could have."}],"tags":[],"owner":{"account_id":401843,"reputation":89873,"user_id":768644,"display_name":"rzwitserloot"},"comment_count":1,"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1667313870,"creation_date":1667313870,"answer_id":74277665,"question_id":74277248,"body_markdown":"&gt; I am creating subclass and have some class elements inside it.\r\n\r\nOkay.\r\n\r\n&gt; Now I want to override compareTo method from super class and use variables from subclass\r\n\r\nImpossible.\r\n\r\nComparable is a &#39;contract interface&#39; - you can&#39;t _just_ implement the methods; you aren&#39;t &quot;done&quot; when you have implemented every method and they compile and (appear to) run without throwing exceptions: The documentation states additional rules you need to adhere to that the compiler cannot check. The fact that the compiler cannot check that you adhere to these rules means your code compiles. However, your code is still broken. (&quot;It compiles&quot; does not mean &quot;It is correct&quot;, after all).\r\n\r\nOne of the rules in the contract is that comparison operations are commutative and associative: if `a.compareTo(b)` returns a negative number, then `b.compareTo(a)` __must__ return a positive number, (and if one returns `0` so must the other) and vice versa. If you fail to adhere to the contract, crazy stuff happens. For example, you create a `TreeSet` and things end up out of order and this kind of code can start printing `false`:\r\n\r\n```java\r\nTreeSet&lt;YourBrokenItem&gt; set = new TreeSet&lt;&gt;();\r\nset.add(a);\r\nset.add(b);\r\nSystem.out.println(set.contains(a)); // prints false?\r\n```\r\n\r\nHowever, adhering to the contract (the commutativity) rule __is not possible__ when you subclass and want to override definitions. Let&#39;s make it practical:\r\n\r\n```java\r\nclass Parent implements Comparable&lt;Parent&gt; {\r\n  int x;\r\n\r\n  /** Sort on x */\r\n  @Override public int compareTo(Parent other) {\r\n    return Integer.compare(x, other.x);\r\n  }\r\n}\r\n\r\nclass Child extends Parent implements Comparable&lt;Child&gt; {\r\n  int y;\r\n\r\n  /** Sort on x first; if those are equal, sort on y */\r\n  @Override public int compareTo(Child other) {\r\n    int c = Integer.compare(x, other.x);\r\n    if (c != 0) return c;\r\n    return Integer.compare(y, other.y);\r\n  }\r\n}\r\n```\r\n\r\nThe above code doesn&#39;t work for two reasons: [A] it can&#39;t be made to compile, and [B] even if you voodoo magic that away with generics casting, the code breaks the contract. And always will, you can&#39;t fix [B].\r\n\r\nSo instead of delving deep on generics and working around it (which you can), it is a moot point - B cannot be worked around, so what you want is impossible, therefore there is no point explaining how to hack around so that the compiler accepts it.\r\n\r\nThe reason it&#39;s not possible is the commutativity rule. Let&#39;s consider 3 instances:\r\n\r\n```\r\nParent p = new Parent(10);\r\nChild c = new Child(10, 5);\r\nChild d = new Child(10, 20);\r\n```\r\n\r\nYour intent is very clearly that this happens:\r\n\r\n```java\r\nSystem.out.println(c.compareTo(d)); // prints -1\r\nSystem.out.println(d.compareTo(c)); // prints +1\r\n```\r\n\r\nHowever, what happens when p is involved? Remember, `Child` says that it is a subtype of `Parent` which means an instance of Child __can do everything an instance of Parent can do, _and_ more__. One thing Parent can do, is compare itself to another instance of Parent. And instances of Child are also instances of Parent, so, you can compare a Parent to a Child and vice versa. Hence, `p.compareTo(a)` is valid. Similarly, you can make a `new TreeSet&lt;Parent&gt;()` and you can of course invoke `.add(new Child())` on that. After all, instances of Child are definitely also instances of Parent, that&#39;s what subclassing means.\r\n\r\nThus:\r\n\r\n```\r\np.compareTo(c); // This returns 0 - and you can&#39;t stop that from happening!\r\np.compareTo(d); // so does this\r\n\r\n// thus, given the above, this:\r\nc.compareTo(d);\r\n// MUST, BY CONTRACT, return 0!\r\n```\r\n\r\nHence, what you want? Impossible. The contract of comparable forbids it.\r\n\r\nEffectively, with Comparable, you &#39;pick a level&#39; and comparability is defined strictly on that level, and subclasses cannot change that. Whatever type in your type hierarchy decides to `implements Comparable`, that&#39;s the level. They set the baseline of the natural comparison for those things __and subclasses cannot modify how that works at all__ without breaking the contract.\r\n\r\nWhat you probably want is to forget about natural order and use comparators instead. Every system that works on natural order (such as `TreeSet`, or `list.sort(Comparator.naturalOrder())` or `Collections.sort(list)` or `Arrays.binarySearch`, and so on), _also_ has an overloaded variant that accepts a `Comparator&lt;T&gt;`.\r\n\r\nYou _CAN_ make a custom comparator that compares, specifically, children. You can even make a custom comparator that compares children _and_ parents if you define the comparison operation properly (meaning, there is a complete order). For example, by saying that given equal `x` values, any `new Parent()` instance will always sort before any `new Child()`, regardless of Child&#39;s y value:\r\n\r\n```\r\nComparator&lt;Parent&gt; myCustomComparator = (a, b) -&gt; {\r\n  int c = Integer.compare(a.x, b.x);\r\n  if (c != 0) return c; // x isn&#39;t equal so it controls.\r\n  if (a instanceof Child &amp;&amp; !(b instanceof Child)) return +1;\r\n  if (!(a instanceof Child) &amp;&amp; b instanceof Child) return -1;\r\n  if (!(a instanceof Child) &amp;&amp; !(b instanceof Child)) return 0;\r\n  int y1 = ((Child) a).y, y2 = ((Child) b).y;\r\n  return Integer.compare(y1, y2);\r\n};\r\n\r\nTreeSet&lt;Parent&gt; myAwesomeSelfSortingSet = new TreeSet&lt;Parent&gt;(myCustomComparator);\r\n// and voila.\r\n```\r\n","title":"Problem with overriding compareTo method in subclass","body":"<blockquote>\n<p>I am creating subclass and have some class elements inside it.</p>\n</blockquote>\n<p>Okay.</p>\n<blockquote>\n<p>Now I want to override compareTo method from super class and use variables from subclass</p>\n</blockquote>\n<p>Impossible.</p>\n<p>Comparable is a 'contract interface' - you can't <em>just</em> implement the methods; you aren't &quot;done&quot; when you have implemented every method and they compile and (appear to) run without throwing exceptions: The documentation states additional rules you need to adhere to that the compiler cannot check. The fact that the compiler cannot check that you adhere to these rules means your code compiles. However, your code is still broken. (&quot;It compiles&quot; does not mean &quot;It is correct&quot;, after all).</p>\n<p>One of the rules in the contract is that comparison operations are commutative and associative: if <code>a.compareTo(b)</code> returns a negative number, then <code>b.compareTo(a)</code> <strong>must</strong> return a positive number, (and if one returns <code>0</code> so must the other) and vice versa. If you fail to adhere to the contract, crazy stuff happens. For example, you create a <code>TreeSet</code> and things end up out of order and this kind of code can start printing <code>false</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>TreeSet&lt;YourBrokenItem&gt; set = new TreeSet&lt;&gt;();\nset.add(a);\nset.add(b);\nSystem.out.println(set.contains(a)); // prints false?\n</code></pre>\n<p>However, adhering to the contract (the commutativity) rule <strong>is not possible</strong> when you subclass and want to override definitions. Let's make it practical:</p>\n<pre class=\"lang-java prettyprint-override\"><code>class Parent implements Comparable&lt;Parent&gt; {\n  int x;\n\n  /** Sort on x */\n  @Override public int compareTo(Parent other) {\n    return Integer.compare(x, other.x);\n  }\n}\n\nclass Child extends Parent implements Comparable&lt;Child&gt; {\n  int y;\n\n  /** Sort on x first; if those are equal, sort on y */\n  @Override public int compareTo(Child other) {\n    int c = Integer.compare(x, other.x);\n    if (c != 0) return c;\n    return Integer.compare(y, other.y);\n  }\n}\n</code></pre>\n<p>The above code doesn't work for two reasons: [A] it can't be made to compile, and [B] even if you voodoo magic that away with generics casting, the code breaks the contract. And always will, you can't fix [B].</p>\n<p>So instead of delving deep on generics and working around it (which you can), it is a moot point - B cannot be worked around, so what you want is impossible, therefore there is no point explaining how to hack around so that the compiler accepts it.</p>\n<p>The reason it's not possible is the commutativity rule. Let's consider 3 instances:</p>\n<pre><code>Parent p = new Parent(10);\nChild c = new Child(10, 5);\nChild d = new Child(10, 20);\n</code></pre>\n<p>Your intent is very clearly that this happens:</p>\n<pre class=\"lang-java prettyprint-override\"><code>System.out.println(c.compareTo(d)); // prints -1\nSystem.out.println(d.compareTo(c)); // prints +1\n</code></pre>\n<p>However, what happens when p is involved? Remember, <code>Child</code> says that it is a subtype of <code>Parent</code> which means an instance of Child <strong>can do everything an instance of Parent can do, <em>and</em> more</strong>. One thing Parent can do, is compare itself to another instance of Parent. And instances of Child are also instances of Parent, so, you can compare a Parent to a Child and vice versa. Hence, <code>p.compareTo(a)</code> is valid. Similarly, you can make a <code>new TreeSet&lt;Parent&gt;()</code> and you can of course invoke <code>.add(new Child())</code> on that. After all, instances of Child are definitely also instances of Parent, that's what subclassing means.</p>\n<p>Thus:</p>\n<pre><code>p.compareTo(c); // This returns 0 - and you can't stop that from happening!\np.compareTo(d); // so does this\n\n// thus, given the above, this:\nc.compareTo(d);\n// MUST, BY CONTRACT, return 0!\n</code></pre>\n<p>Hence, what you want? Impossible. The contract of comparable forbids it.</p>\n<p>Effectively, with Comparable, you 'pick a level' and comparability is defined strictly on that level, and subclasses cannot change that. Whatever type in your type hierarchy decides to <code>implements Comparable</code>, that's the level. They set the baseline of the natural comparison for those things <strong>and subclasses cannot modify how that works at all</strong> without breaking the contract.</p>\n<p>What you probably want is to forget about natural order and use comparators instead. Every system that works on natural order (such as <code>TreeSet</code>, or <code>list.sort(Comparator.naturalOrder())</code> or <code>Collections.sort(list)</code> or <code>Arrays.binarySearch</code>, and so on), <em>also</em> has an overloaded variant that accepts a <code>Comparator&lt;T&gt;</code>.</p>\n<p>You <em>CAN</em> make a custom comparator that compares, specifically, children. You can even make a custom comparator that compares children <em>and</em> parents if you define the comparison operation properly (meaning, there is a complete order). For example, by saying that given equal <code>x</code> values, any <code>new Parent()</code> instance will always sort before any <code>new Child()</code>, regardless of Child's y value:</p>\n<pre><code>Comparator&lt;Parent&gt; myCustomComparator = (a, b) -&gt; {\n  int c = Integer.compare(a.x, b.x);\n  if (c != 0) return c; // x isn't equal so it controls.\n  if (a instanceof Child &amp;&amp; !(b instanceof Child)) return +1;\n  if (!(a instanceof Child) &amp;&amp; b instanceof Child) return -1;\n  if (!(a instanceof Child) &amp;&amp; !(b instanceof Child)) return 0;\n  int y1 = ((Child) a).y, y2 = ((Child) b).y;\n  return Integer.compare(y1, y2);\n};\n\nTreeSet&lt;Parent&gt; myAwesomeSelfSortingSet = new TreeSet&lt;Parent&gt;(myCustomComparator);\n// and voila.\n</code></pre>\n"}],"owner":{"account_id":26782958,"reputation":3,"user_id":20377538,"display_name":"yowkarii_3"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":258,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74277665,"answer_count":1,"score":0,"last_activity_date":1667313870,"creation_date":1667311898,"question_id":74277248,"body_markdown":"I am creating subclass and have some class elements inside it. Now I want to override compareTo method from super class and use variables from subclass as argument in new compareTo method but I get error saying that the argument for compareTo method must be the same as in the superclass. \r\n\r\nIs there any solution to this problem? \r\n\r\nThanks in advance! \r\n\r\nSolutions that I tried are: \r\n\r\n1)just simply to write new method in subclass (not to override method from super class)\r\n2) create new compareTo method in superclass with arguments I want\r\n\r\nthis way program is working but I feel like that is not the correct way to fix this problem\r\n\r\nAnyone can suggest something or give advice about this?","title":"Problem with overriding compareTo method in subclass","body":"<p>I am creating subclass and have some class elements inside it. Now I want to override compareTo method from super class and use variables from subclass as argument in new compareTo method but I get error saying that the argument for compareTo method must be the same as in the superclass.</p>\n<p>Is there any solution to this problem?</p>\n<p>Thanks in advance!</p>\n<p>Solutions that I tried are:</p>\n<p>1)just simply to write new method in subclass (not to override method from super class)\n2) create new compareTo method in superclass with arguments I want</p>\n<p>this way program is working but I feel like that is not the correct way to fix this problem</p>\n<p>Anyone can suggest something or give advice about this?</p>\n"},{"tags":["java","reactive-programming","spring-webflux","inputstream","ffprobe"],"comments":[{"owner":{"account_id":1198292,"reputation":671,"user_id":1169535,"accept_rate":58,"display_name":"Stefania"},"score":0,"creation_date":1697121360,"post_id":74254494,"comment_id":136242337,"body_markdown":"I&#39;m having the same problem. Did you find any solutions?","body":"I&#39;m having the same problem. Did you find any solutions?"}],"owner":{"account_id":26776662,"reputation":13,"user_id":20372189,"display_name":"Einfari"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":737,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1667313834,"creation_date":1667144967,"question_id":74254494,"body_markdown":"Bear with my noobness, I am learning web-flux. I had this simple application that takes a video and extract the audio using FFprobe and FFmpeg, so I thought of redoing it reactively, but I am failing miserably... \r\n\r\nController:\r\n```\r\n@PostMapping(&quot;/upload&quot;)\r\npublic String upload(@RequestPart(&quot;file&quot;) Mono&lt;FilePart&gt; filePartMono, final Model model) {\r\n    Flux&lt;String&gt; filenameList = mediaComponent.extractAudio(filePartMono);\r\n    model.addAttribute(&quot;filenameList&quot;, new ReactiveDataDriverContextVariable(filenameList));\r\n    return &quot;download&quot;;\r\n}\r\n```\r\n\r\nFunction to get audio streams out of the video:\r\n```\r\npublic Mono&lt;FFprobeResult&gt; getAudioStreams(InputStream inputStream) {\r\n    try {\r\n        return Mono.just(FFprobe.atPath(FFprobePath)\r\n                .setShowStreams(true)\r\n                .setSelectStreams(StreamType.AUDIO)\r\n                .setLogLevel(LogLevel.INFO)\r\n                .setInput(inputStream)\r\n                .execute());\r\n    } catch (JaffreeException e) {\r\n        log.error(e.getMessage(), e);\r\n        return Mono.error(new MediaException(&quot;Audio formats could not be identified.&quot;));\r\n    }\r\n}\r\n```\r\n\r\nAttempt 1:\r\n```\r\npublic Flux&lt;String&gt; extractAudio(Mono&lt;FilePart&gt; filePartMono) {\r\n    filePartMono.flatMapMany(Part::content)\r\n            .map(dataBuffer -&gt; dataBuffer.asInputStream(true))\r\n            .flatMap(this::getAudioStreams)\r\n            .subscribe(System.out::println);\r\n    ...\r\n}\r\n```\r\n\r\nAttempt 2:\r\n```\r\npublic Flux&lt;String&gt; extractAudio(Mono&lt;FilePart&gt; filePartMono) {\r\n    filePartMono.flatMapMany(Part::content)\r\n            .reduce(InputStream.nullInputStream(), (inputStream, dataBuffer) -&gt; new SequenceInputStream(\r\n                    inputStream, dataBuffer.asInputStream()\r\n            ))\r\n            .flatMap(this::getAudioStreams)\r\n            .subscribe(System.out::println);\r\n    ...\r\n}\r\n```\r\n\r\nAttempt 3:\r\n```\r\npublic Flux&lt;String&gt; extractAudio(Mono&lt;FilePart&gt; filePartMono) {\r\n    DataBufferUtils.write(filePartMono.flatMapMany(Part::content), OutputStream.nullOutputStream())\r\n            .map(dataBuffer -&gt; dataBuffer.asInputStream(true))\r\n            .flatMap(this::getAudioStreams)\r\n            .subscribe(System.out::println);\r\n    ...\r\n}\r\n```\r\n\r\nAttempt 1 and 3 seems to be the same in the end, FFprobe complains as follows:\r\n```\r\n2022-10-30 11:24:30.292  WARN 79049 --- [         StdErr] c.g.k.jaffree.process.BaseStdReader      : [mov,mp4,m4a,3gp,3g2,mj2 @ 0x7f9162702340] [warning] STSZ atom truncated\r\n2022-10-30 11:24:30.292 ERROR 79049 --- [         StdErr] c.g.k.jaffree.process.BaseStdReader      : [mov,mp4,m4a,3gp,3g2,mj2 @ 0x7f9162702340] [error] stream 0, contradictionary STSC and STCO\r\n2022-10-30 11:24:30.292 ERROR 79049 --- [         StdErr] c.g.k.jaffree.process.BaseStdReader      : [mov,mp4,m4a,3gp,3g2,mj2 @ 0x7f9162702340] [error] error reading header\r\n2022-10-30 11:24:30.294 ERROR 79049 --- [         StdErr] c.g.k.jaffree.process.BaseStdReader      : [error] tcp://127.0.0.1:51532: Invalid data found when processing input\r\n2022-10-30 11:24:30.295  INFO 79049 --- [oundedElastic-3] c.g.k.jaffree.process.ProcessHandler     : Process has finished with status: 1\r\n2022-10-30 11:24:30.409 ERROR 79049 --- [oundedElastic-3] c.e.s.application.MediaComponent         : Process execution has ended with non-zero status: 1. Check logs for detailed error message.\r\n```\r\n\r\nAttempt 2 produces multiple of these:\r\n```\r\nException in thread &quot;Runnable-0&quot; java.lang.StackOverflowError\r\n\tat java.base/java.io.SequenceInputStream.read(SequenceInputStream.java:198)\r\n```\r\n\r\nNow, after some more research, I had another fourth attempt:\r\n\r\n```\r\npublic Flux&lt;String&gt; extractAudio(Mono&lt;FilePart&gt; filePartMono) {\r\n    try {\r\n        FFprobeResult FFprobeResult = getAudioStreams(getInputStreamFromFluxDataBuffer(filePartMono.flatMapMany(Part::content))).subscribe(System.out::println);\r\n    return Flux.just(&quot;file &quot;, &quot;file2&quot;).delayElements(Duration.ofMinutes(1));\r\n    } catch (IOException e) {\r\n        log.error(e.getMessage(), e);\r\n        return Flux.error(new MediaException(&quot;Audio extraction failed&quot;));\r\n    }\r\n}\r\n\r\npublic InputStream getInputStreamFromFluxDataBuffer(Flux&lt;DataBuffer&gt; dataBuffer) throws IOException {\r\n    PipedOutputStream pipedOutputStream = new PipedOutputStream();\r\n    PipedInputStream pipedInputStream = new PipedInputStream(pipedOutputStream);\r\n    DataBufferUtils.write(dataBuffer, pipedOutputStream)\r\n        .subscribeOn(Schedulers.boundedElastic())\r\n        .doOnComplete(() -&gt; {\r\n            try {\r\n                pipedOutputStream.close();\r\n            } catch (IOException e) {\r\n                log.error(e.getMessage(), e);\r\n            }\r\n        })\r\n        .subscribe(DataBufferUtils.releaseConsumer());\r\n    return pipedInputStream;\r\n}\r\n\r\n```\r\n\r\nHowever, this time FFprobe starts and never ends, as if the InputStream was endless..\r\n\r\nCould anybody point me in the right direction? What am I doing wrong? By the way, I am outputting to console just to see a result, but in the end I need to take all the outputted streams and pass them as arguments to another function that will finally extract the audio, so I need to figure out that as well.\r\n\r\nThank you in advance.","title":"How do I get an InputStream out of a Mono&lt;FilePart&gt;?","body":"<p>Bear with my noobness, I am learning web-flux. I had this simple application that takes a video and extract the audio using FFprobe and FFmpeg, so I thought of redoing it reactively, but I am failing miserably...</p>\n<p>Controller:</p>\n<pre><code>@PostMapping(&quot;/upload&quot;)\npublic String upload(@RequestPart(&quot;file&quot;) Mono&lt;FilePart&gt; filePartMono, final Model model) {\n    Flux&lt;String&gt; filenameList = mediaComponent.extractAudio(filePartMono);\n    model.addAttribute(&quot;filenameList&quot;, new ReactiveDataDriverContextVariable(filenameList));\n    return &quot;download&quot;;\n}\n</code></pre>\n<p>Function to get audio streams out of the video:</p>\n<pre><code>public Mono&lt;FFprobeResult&gt; getAudioStreams(InputStream inputStream) {\n    try {\n        return Mono.just(FFprobe.atPath(FFprobePath)\n                .setShowStreams(true)\n                .setSelectStreams(StreamType.AUDIO)\n                .setLogLevel(LogLevel.INFO)\n                .setInput(inputStream)\n                .execute());\n    } catch (JaffreeException e) {\n        log.error(e.getMessage(), e);\n        return Mono.error(new MediaException(&quot;Audio formats could not be identified.&quot;));\n    }\n}\n</code></pre>\n<p>Attempt 1:</p>\n<pre><code>public Flux&lt;String&gt; extractAudio(Mono&lt;FilePart&gt; filePartMono) {\n    filePartMono.flatMapMany(Part::content)\n            .map(dataBuffer -&gt; dataBuffer.asInputStream(true))\n            .flatMap(this::getAudioStreams)\n            .subscribe(System.out::println);\n    ...\n}\n</code></pre>\n<p>Attempt 2:</p>\n<pre><code>public Flux&lt;String&gt; extractAudio(Mono&lt;FilePart&gt; filePartMono) {\n    filePartMono.flatMapMany(Part::content)\n            .reduce(InputStream.nullInputStream(), (inputStream, dataBuffer) -&gt; new SequenceInputStream(\n                    inputStream, dataBuffer.asInputStream()\n            ))\n            .flatMap(this::getAudioStreams)\n            .subscribe(System.out::println);\n    ...\n}\n</code></pre>\n<p>Attempt 3:</p>\n<pre><code>public Flux&lt;String&gt; extractAudio(Mono&lt;FilePart&gt; filePartMono) {\n    DataBufferUtils.write(filePartMono.flatMapMany(Part::content), OutputStream.nullOutputStream())\n            .map(dataBuffer -&gt; dataBuffer.asInputStream(true))\n            .flatMap(this::getAudioStreams)\n            .subscribe(System.out::println);\n    ...\n}\n</code></pre>\n<p>Attempt 1 and 3 seems to be the same in the end, FFprobe complains as follows:</p>\n<pre><code>2022-10-30 11:24:30.292  WARN 79049 --- [         StdErr] c.g.k.jaffree.process.BaseStdReader      : [mov,mp4,m4a,3gp,3g2,mj2 @ 0x7f9162702340] [warning] STSZ atom truncated\n2022-10-30 11:24:30.292 ERROR 79049 --- [         StdErr] c.g.k.jaffree.process.BaseStdReader      : [mov,mp4,m4a,3gp,3g2,mj2 @ 0x7f9162702340] [error] stream 0, contradictionary STSC and STCO\n2022-10-30 11:24:30.292 ERROR 79049 --- [         StdErr] c.g.k.jaffree.process.BaseStdReader      : [mov,mp4,m4a,3gp,3g2,mj2 @ 0x7f9162702340] [error] error reading header\n2022-10-30 11:24:30.294 ERROR 79049 --- [         StdErr] c.g.k.jaffree.process.BaseStdReader      : [error] tcp://127.0.0.1:51532: Invalid data found when processing input\n2022-10-30 11:24:30.295  INFO 79049 --- [oundedElastic-3] c.g.k.jaffree.process.ProcessHandler     : Process has finished with status: 1\n2022-10-30 11:24:30.409 ERROR 79049 --- [oundedElastic-3] c.e.s.application.MediaComponent         : Process execution has ended with non-zero status: 1. Check logs for detailed error message.\n</code></pre>\n<p>Attempt 2 produces multiple of these:</p>\n<pre><code>Exception in thread &quot;Runnable-0&quot; java.lang.StackOverflowError\n    at java.base/java.io.SequenceInputStream.read(SequenceInputStream.java:198)\n</code></pre>\n<p>Now, after some more research, I had another fourth attempt:</p>\n<pre><code>public Flux&lt;String&gt; extractAudio(Mono&lt;FilePart&gt; filePartMono) {\n    try {\n        FFprobeResult FFprobeResult = getAudioStreams(getInputStreamFromFluxDataBuffer(filePartMono.flatMapMany(Part::content))).subscribe(System.out::println);\n    return Flux.just(&quot;file &quot;, &quot;file2&quot;).delayElements(Duration.ofMinutes(1));\n    } catch (IOException e) {\n        log.error(e.getMessage(), e);\n        return Flux.error(new MediaException(&quot;Audio extraction failed&quot;));\n    }\n}\n\npublic InputStream getInputStreamFromFluxDataBuffer(Flux&lt;DataBuffer&gt; dataBuffer) throws IOException {\n    PipedOutputStream pipedOutputStream = new PipedOutputStream();\n    PipedInputStream pipedInputStream = new PipedInputStream(pipedOutputStream);\n    DataBufferUtils.write(dataBuffer, pipedOutputStream)\n        .subscribeOn(Schedulers.boundedElastic())\n        .doOnComplete(() -&gt; {\n            try {\n                pipedOutputStream.close();\n            } catch (IOException e) {\n                log.error(e.getMessage(), e);\n            }\n        })\n        .subscribe(DataBufferUtils.releaseConsumer());\n    return pipedInputStream;\n}\n\n</code></pre>\n<p>However, this time FFprobe starts and never ends, as if the InputStream was endless..</p>\n<p>Could anybody point me in the right direction? What am I doing wrong? By the way, I am outputting to console just to see a result, but in the end I need to take all the outputted streams and pass them as arguments to another function that will finally extract the audio, so I need to figure out that as well.</p>\n<p>Thank you in advance.</p>\n"},{"tags":["java","mongodb","spring-boot","aggregation-framework","aggregation"],"comments":[{"owner":{"account_id":3631143,"reputation":55363,"user_id":3027266,"accept_rate":75,"display_name":"Wernfried Domscheit"},"score":1,"creation_date":1667314363,"post_id":74277633,"comment_id":131135687,"body_markdown":"You can use filter: `{$set: {Habits: { $filter: { input: &quot;$Habits&quot;, cond: {$eq: [&quot;$$this.level&quot;, 5]} } }} }`, There is no need for `$unwind` and `$group`.","body":"You can use filter: <code>{$set: {Habits: { $filter: { input: &quot;$Habits&quot;, cond: {$eq: [&quot;$$this.level&quot;, 5]} } }} }</code>, There is no need for <code>$unwind</code> and <code>$group</code>."},{"owner":{"account_id":19225914,"reputation":389,"user_id":14048816,"display_name":"Himanshu Kawale"},"score":0,"creation_date":1667320874,"post_id":74277633,"comment_id":131138025,"body_markdown":"@WernfriedDomscheit Thanks for the suggestion, but could you please help to convert this query in `AggregationOperation` ? I&#39;m not able to do so.","body":"@WernfriedDomscheit Thanks for the suggestion, but could you please help to convert this query in <code>AggregationOperation</code> ? I&#39;m not able to do so."},{"owner":{"account_id":3631143,"reputation":55363,"user_id":3027266,"accept_rate":75,"display_name":"Wernfried Domscheit"},"score":0,"creation_date":1667326958,"post_id":74277633,"comment_id":131140111,"body_markdown":"Sorry, I have no clue about Java","body":"Sorry, I have no clue about Java"},{"owner":{"account_id":19225914,"reputation":389,"user_id":14048816,"display_name":"Himanshu Kawale"},"score":0,"creation_date":1667407870,"post_id":74277633,"comment_id":131161622,"body_markdown":"Okay, no problem, I figured that out, Thanks a lot for your help, I was stuck on this for so long.","body":"Okay, no problem, I figured that out, Thanks a lot for your help, I was stuck on this for so long."}],"owner":{"account_id":19225914,"reputation":389,"user_id":14048816,"display_name":"Himanshu Kawale"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1667313666,"creation_date":1667313666,"question_id":74277633,"body_markdown":"\r\nSample Data,\r\n\r\n```\r\n{\r\n  \r\n  &quot;_id&quot;: ObjectId(&#39;63600a4cb7fa6706d181b2d1&#39;)\r\n  &quot;Name&quot;: &quot;Himanshu&quot;,\r\n  &quot;Job&quot;: &quot;CEO&quot;,\r\n  &quot;Habits&quot;: [\r\n    {\r\n      &quot;habitName&quot;: &quot;football&quot;,\r\n      &quot;level&quot;: 3\r\n    },\r\n    {\r\n      &quot;habitName&quot;: &quot;chess&quot;,\r\n      &quot;level&quot;: 5\r\n    },\r\n    {\r\n      &quot;habitName&quot;: &quot;test&quot;,\r\n      &quot;level&quot;: 5\r\n    }\r\n  ]\r\n}\r\n```\r\n\r\nRequirement: \r\nTo get the record which has Name = Himanshu, And\r\nTo filter the Habits array, to get only those objects of array which have level = 5.\r\n\r\nWhat I&#39;m trying,\r\n\r\n```\r\n        AggregationOperation main = Aggregation.match(Criteria.where(&quot;Name&quot;).is(&quot;Himanshu&quot;));\r\n\t\tAggregationOperation unwind = Aggregation.unwind(&quot;Habits&quot;);\r\n\t\tAggregationOperation levelMatch = Aggregation.match(Criteria.where(&quot;Habits.level&quot;).is(5));\r\n\t\tAggregationOperation group = Aggregation.group(&quot;$_id&quot;).push(&quot;Habits&quot;).as(&quot;Habits&quot;);\r\n\t\t\r\n\t\tAggregation ag = Aggregation.newAggregation(main, unwind, levelMatch, group);\r\n\t\tSystem.out.println(ag);\r\n\t\t\r\n\t\tAggregationResults&lt;Pc&gt; res = mg.aggregate(ag, &quot;parent_child&quot;, Pc.class);\r\n\t\t\r\n\t\tSystem.out.println(res.getMappedResults().toString());\r\n\r\n```\r\n\r\nOutput is almost what I want, but it gives `Name=null` &amp; `Job=null`\r\n\r\n```\r\n[Pc [_id=63600a4cb7fa6706d181b2d1, Name=null, Job=null, Habits=[HabitsDto [habitName=chess, level=5], HabitsDto [habitName=test, level=5]]]]\r\n```\r\n\r\nDesired output,\r\n\r\n```\r\n[Pc [_id=63600a4cb7fa6706d181b2d1, Name=Himanshu, Job=CEO, Habits=[HabitsDto [habitName=chess, level=5], HabitsDto [habitName=test, level=5]]]]\r\n```\r\n\r\nProbably because I&#39;m not including `Name` &amp;`Job` in group, but I&#39;m not sure how to include that, I tried but not able to get the desired output.\r\n\r\nThanks for any help !","title":"How to group after unwind using AggregationOperation?","body":"<p>Sample Data,</p>\n<pre><code>{\n  \n  &quot;_id&quot;: ObjectId('63600a4cb7fa6706d181b2d1')\n  &quot;Name&quot;: &quot;Himanshu&quot;,\n  &quot;Job&quot;: &quot;CEO&quot;,\n  &quot;Habits&quot;: [\n    {\n      &quot;habitName&quot;: &quot;football&quot;,\n      &quot;level&quot;: 3\n    },\n    {\n      &quot;habitName&quot;: &quot;chess&quot;,\n      &quot;level&quot;: 5\n    },\n    {\n      &quot;habitName&quot;: &quot;test&quot;,\n      &quot;level&quot;: 5\n    }\n  ]\n}\n</code></pre>\n<p>Requirement:\nTo get the record which has Name = Himanshu, And\nTo filter the Habits array, to get only those objects of array which have level = 5.</p>\n<p>What I'm trying,</p>\n<pre><code>        AggregationOperation main = Aggregation.match(Criteria.where(&quot;Name&quot;).is(&quot;Himanshu&quot;));\n        AggregationOperation unwind = Aggregation.unwind(&quot;Habits&quot;);\n        AggregationOperation levelMatch = Aggregation.match(Criteria.where(&quot;Habits.level&quot;).is(5));\n        AggregationOperation group = Aggregation.group(&quot;$_id&quot;).push(&quot;Habits&quot;).as(&quot;Habits&quot;);\n        \n        Aggregation ag = Aggregation.newAggregation(main, unwind, levelMatch, group);\n        System.out.println(ag);\n        \n        AggregationResults&lt;Pc&gt; res = mg.aggregate(ag, &quot;parent_child&quot;, Pc.class);\n        \n        System.out.println(res.getMappedResults().toString());\n\n</code></pre>\n<p>Output is almost what I want, but it gives <code>Name=null</code> &amp; <code>Job=null</code></p>\n<pre><code>[Pc [_id=63600a4cb7fa6706d181b2d1, Name=null, Job=null, Habits=[HabitsDto [habitName=chess, level=5], HabitsDto [habitName=test, level=5]]]]\n</code></pre>\n<p>Desired output,</p>\n<pre><code>[Pc [_id=63600a4cb7fa6706d181b2d1, Name=Himanshu, Job=CEO, Habits=[HabitsDto [habitName=chess, level=5], HabitsDto [habitName=test, level=5]]]]\n</code></pre>\n<p>Probably because I'm not including <code>Name</code> &amp;<code>Job</code> in group, but I'm not sure how to include that, I tried but not able to get the desired output.</p>\n<p>Thanks for any help !</p>\n"},{"tags":["java","gradle","spring-data-jpa"],"comments":[{"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1667313519,"post_id":74277136,"comment_id":131135335,"body_markdown":"Does this answer your question? [How to use JPA metamodel with gradle, intellij IDEA?](https://stackoverflow.com/questions/49830187/how-to-use-jpa-metamodel-with-gradle-intellij-idea)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/49830187/how-to-use-jpa-metamodel-with-gradle-intellij-idea\">How to use JPA metamodel with gradle, intellij IDEA?</a>"}],"answers":[{"tags":[],"owner":{"account_id":37524,"reputation":7056,"user_id":107301,"accept_rate":96,"display_name":"Dark Star1"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1667313362,"creation_date":1667313362,"answer_id":74277561,"question_id":74277136,"body_markdown":"After carrying on trying to make this work, I stumbled upon the first comment of [an answer](https://stackoverflow.com/a/53651319/107301) to a similar issue, which removed the explicit version declaration of the plugin.\r\nDoing so fixed my issue.","title":"How to add JPA metamodel generator to a Gradle project?","body":"<p>After carrying on trying to make this work, I stumbled upon the first comment of <a href=\"https://stackoverflow.com/a/53651319/107301\">an answer</a> to a similar issue, which removed the explicit version declaration of the plugin.\nDoing so fixed my issue.</p>\n"}],"owner":{"account_id":37524,"reputation":7056,"user_id":107301,"accept_rate":96,"display_name":"Dark Star1"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1200,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74277561,"answer_count":1,"score":0,"last_activity_date":1667313463,"creation_date":1667311419,"question_id":74277136,"body_markdown":"I am  unsuccessfully trying to use the JPA metamodel generator in my project.\r\nThe following is my gradle.build file:\r\n```\r\nplugins {\r\n\tid &#39;org.springframework.boot&#39; version &#39;2.7.5&#39;\r\n\tid &#39;io.spring.dependency-management&#39; version &#39;1.0.15.RELEASE&#39;\r\n\tid &#39;java&#39;\r\n}\r\n\r\nsourceCompatibility = &#39;17&#39;\r\ndef generatedSourcesDir = &quot;${buildDir}/generated/sources/java&quot;\r\n\r\ndependencies {\r\n\timplementation &#39;org.springframework.boot:spring-boot-starter-data-jpa&#39;\r\n\timplementation &#39;org.springframework.boot:spring-boot-starter-web&#39;\r\n\r\n\timplementation &#39;jakarta.xml.bind:jakarta.xml.bind-api:3.0.0&#39;\r\n\r\n\tannotationProcessor &#39;org.hibernate:hibernate-jpamodelgen:6.1.5.Final&#39;\r\n\tcompileOnly &#39;org.projectlombok:lombok:1.18.24&#39;\r\n\truntimeOnly &#39;com.sun.xml.bind:jaxb-impl:3.0.1&#39;\r\n}\r\n\r\nsourceSets.main.java.srcDirs += (generatedSourcesDir)\r\n\r\ncompileJava {\r\n\tdoFirst {\r\n\t\tfile(generatedSourcesDir).mkdirs()\r\n\t}\r\n\toptions.compilerArgs += [&#39;-AaddGenerationDate=true&#39;]\r\n\toptions.compilerArgs += [&#39;-s&#39;, generatedSourcesDir]\r\n//\toptions.compilerArgs += &#39;-proc:none&#39;\r\n\tprintln &quot;Args for $name are $options.allCompilerArgs&quot;\r\n}\r\n\r\ncompileTestJava {\r\n\tdoFirst {\r\n\t\tfile(generatedSourcesDir).mkdirs()\r\n\t}\r\n\toptions.compilerArgs += [&#39;-AaddGenerationDate=true&#39;]\r\n\toptions.compilerArgs += [&#39;-s&#39;, generatedSourcesDir]\r\n\toptions.compilerArgs += &#39;-proc:none&#39;\r\n}\r\n.....  Other config excluded for brevity.\r\n```\r\n Running `gradle compileJava` results in the following error message:\r\n```\r\n&gt; Task :compileJava FAILED\r\nNote: Hibernate JPA 2 Static-Metamodel Generator 6.1.5.Final\r\n\r\nFAILURE: Build failed with an exception.\r\n```","title":"How to add JPA metamodel generator to a Gradle project?","body":"<p>I am  unsuccessfully trying to use the JPA metamodel generator in my project.\nThe following is my gradle.build file:</p>\n<pre><code>plugins {\n    id 'org.springframework.boot' version '2.7.5'\n    id 'io.spring.dependency-management' version '1.0.15.RELEASE'\n    id 'java'\n}\n\nsourceCompatibility = '17'\ndef generatedSourcesDir = &quot;${buildDir}/generated/sources/java&quot;\n\ndependencies {\n    implementation 'org.springframework.boot:spring-boot-starter-data-jpa'\n    implementation 'org.springframework.boot:spring-boot-starter-web'\n\n    implementation 'jakarta.xml.bind:jakarta.xml.bind-api:3.0.0'\n\n    annotationProcessor 'org.hibernate:hibernate-jpamodelgen:6.1.5.Final'\n    compileOnly 'org.projectlombok:lombok:1.18.24'\n    runtimeOnly 'com.sun.xml.bind:jaxb-impl:3.0.1'\n}\n\nsourceSets.main.java.srcDirs += (generatedSourcesDir)\n\ncompileJava {\n    doFirst {\n        file(generatedSourcesDir).mkdirs()\n    }\n    options.compilerArgs += ['-AaddGenerationDate=true']\n    options.compilerArgs += ['-s', generatedSourcesDir]\n//  options.compilerArgs += '-proc:none'\n    println &quot;Args for $name are $options.allCompilerArgs&quot;\n}\n\ncompileTestJava {\n    doFirst {\n        file(generatedSourcesDir).mkdirs()\n    }\n    options.compilerArgs += ['-AaddGenerationDate=true']\n    options.compilerArgs += ['-s', generatedSourcesDir]\n    options.compilerArgs += '-proc:none'\n}\n.....  Other config excluded for brevity.\n</code></pre>\n<p>Running <code>gradle compileJava</code> results in the following error message:</p>\n<pre><code>&gt; Task :compileJava FAILED\nNote: Hibernate JPA 2 Static-Metamodel Generator 6.1.5.Final\n\nFAILURE: Build failed with an exception.\n</code></pre>\n"},{"tags":["java","spring-boot","hibernate","jpa","hibernate-envers"],"answers":[{"tags":[],"owner":{"account_id":3692946,"reputation":121,"user_id":3075118,"display_name":"user3075118"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635260703,"creation_date":1635260703,"answer_id":69725572,"question_id":69725340,"body_markdown":"null pointer exception is here:\r\n`com.my.package.revision.AuditRevisionListener.newRevision(AuditRevisionListener.java:10)`\r\nnothing to do with transactions?","title":"Spring Boot JPA interaction from reactive AMQP background thread","body":"<p>null pointer exception is here:\n<code>com.my.package.revision.AuditRevisionListener.newRevision(AuditRevisionListener.java:10)</code>\nnothing to do with transactions?</p>\n"},{"tags":[],"owner":{"account_id":3275610,"reputation":1,"user_id":2757769,"display_name":"Z&#233; Carlos"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667313387,"creation_date":1644449113,"answer_id":71058052,"question_id":69725340,"body_markdown":"I was facing the same problem with RevisionListener. It seems that there is a lack of communication between Spring Framework and Hibernate Envers as described in this issue:\r\nhttps://github.com/spring-projects/spring-data-envers/issues/249.\r\n\r\nEven after annotating my CustomRevisionListener with `@Service`, spring cannot find this bean and create an instance of it.   \r\n \r\nI&#39;ve tried all the solutions listed here:\r\nhttps://stackoverflow.com/q/57902388/\r\n\r\nBut only the solution using the `SecurityContextHolder` (Solution 3) worked for me. I just needed to check if my entity that represents the logged user had an Id property and fill it with the user id that was retrieved from the database.\r\n\r\nHere is my code:\r\n\r\n    public class MyRevisionListener implements RevisionListener {\r\n    \r\n       @Override\r\n       public void newRevision(Object entity) {\r\n          MyRevisionEntity revisionEntity = (MyRevisionEntity) entity;\r\n    \r\n          Long loggedUserId = Optional.ofNullable(SecurityContextHolder.getContext())\r\n                .map(SecurityContext::getAuthentication)\r\n                .filter(Authentication::isAuthenticated)\r\n                .map(Authentication::getPrincipal)\r\n                .map(JwtUser.class::cast)\r\n                .map(JwtUser::getId)\r\n                .orElse(null);\r\n    \r\n          revisionEntity.setUserId(loggedUserId);\r\n          revisionEntity.setDate(new Date());    \r\n       }\r\n    }\r\n\r\n","title":"Spring Boot JPA interaction from reactive AMQP background thread","body":"<p>I was facing the same problem with RevisionListener. It seems that there is a lack of communication between Spring Framework and Hibernate Envers as described in this issue:\n<a href=\"https://github.com/spring-projects/spring-data-envers/issues/249\" rel=\"nofollow noreferrer\">https://github.com/spring-projects/spring-data-envers/issues/249</a>.</p>\n<p>Even after annotating my CustomRevisionListener with <code>@Service</code>, spring cannot find this bean and create an instance of it.</p>\n<p>I've tried all the solutions listed here:\n<a href=\"https://stackoverflow.com/q/57902388/\">How to inject spring beans into the hibernate envers RevisionListener</a></p>\n<p>But only the solution using the <code>SecurityContextHolder</code> (Solution 3) worked for me. I just needed to check if my entity that represents the logged user had an Id property and fill it with the user id that was retrieved from the database.</p>\n<p>Here is my code:</p>\n<pre><code>public class MyRevisionListener implements RevisionListener {\n\n   @Override\n   public void newRevision(Object entity) {\n      MyRevisionEntity revisionEntity = (MyRevisionEntity) entity;\n\n      Long loggedUserId = Optional.ofNullable(SecurityContextHolder.getContext())\n            .map(SecurityContext::getAuthentication)\n            .filter(Authentication::isAuthenticated)\n            .map(Authentication::getPrincipal)\n            .map(JwtUser.class::cast)\n            .map(JwtUser::getId)\n            .orElse(null);\n\n      revisionEntity.setUserId(loggedUserId);\n      revisionEntity.setDate(new Date());    \n   }\n}\n</code></pre>\n"}],"owner":{"account_id":9081964,"reputation":93,"user_id":6761501,"display_name":"stevehin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1056,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1667313387,"creation_date":1635259808,"question_id":69725340,"body_markdown":"We have a regular, blocking Spring Boot (2.5.4) application serving a REST interface. We use Hibernate envers for audit logging. This service sends messages on our Service Bus in an asynchronous fashion via the `ServiceBusSenderAsyncClient` from the Azure SDK.\r\nNow this service needs to receive messages from said Service Bus and write updates to the Database - also async. For this we use `ServiceBusReceiverAsyncClient` with a reactive stream. All of this generally works (I wrapped the whole database interaction in one `Transactional` function) but I&#39;m encountering issues with envers via the `beforeTransactionCompletion callback` being `null` (when I deactivate envers, it works). This issues is Service Bus independent from my understanding and really rotates around accessing the JPA repo from a background thread. Following the schematic implementation:\r\n\r\n**ServiceBusReceiveController**\r\n```\r\n@Component\r\npublic class SubscriptionReceiveController {\r\n  @Autowired\r\n  private MyService myService;\r\n\r\n  @Autowired\r\n  private ServiceBusReceiverAsyncClient receiver;\r\n\r\n  @Autowired\r\n  private ObjectMapper mapper;\r\n\r\n  @PostConstruct\r\n  public void run() {\r\n    // continuously receive messages in the background\r\n    receiver.receiveMessages().flatMap(message -&gt; {\r\n      MyObject object;\r\n      try {\r\n        object = mapper.readValue(message.getBody().toString(), MyClass.class);\r\n      } catch (JsonProcessingException e) {\r\n        throw new JsonProcessingRuntimeException(&quot;Failed to convert message to object&quot;, e);\r\n      }\r\n\r\n      // wrap the blocking JPA interaction\r\n      Mono&lt;MyObject&gt; blockingWrapper = Mono.fromCallable(() -&gt; {\r\n        return myService.updateMyObject(object.getId());\r\n      });\r\n\r\n      // When the service returns, this is where it crashes\r\n      return blockingWrapper.subscribeOn(Schedulers.boundedElastic());\r\n    }).flatMap(response -&gt; {\r\n      // More processing steps\r\n    }).subscribe();\r\n  }\r\n}\r\n```\r\n\r\n**MyService**\r\n```\r\n@Service\r\npublic class MyService {\r\n\r\n  @Autowired\r\n  private MyRepository myRepository;\r\n\r\n  @Transactional\r\n  public MyObject updateMyObject(UUID objectId) {\r\n    var object = myRepository.getById(objectId);\r\n    object.setSomeProperty(&quot;myPropertyValue&quot;);\r\n\r\n    return myRepository.save(object);\r\n  }\r\n}\r\n```\r\n\r\nCausing following **error message**:\r\n\r\n```\r\norg.springframework.orm.jpa.JpaSystemException: Unable to perform beforeTransactionCompletion callback: null; nested exception is org.hibernate.HibernateException: Unable to perform beforeTransactionCompletion callback: null\r\nCaused by: org.hibernate.HibernateException: Unable to perform beforeTransactionCompletion callback: null\r\n        at org.hibernate.engine.spi.ActionQueue$BeforeTransactionCompletionProcessQueue.beforeTransactionCompletion(ActionQueue.java:960) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\r\n        at org.hibernate.engine.spi.ActionQueue.beforeTransactionCompletion(ActionQueue.java:525) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\r\n        at org.hibernate.internal.SessionImpl.beforeTransactionCompletion(SessionImpl.java:2381) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\r\n        at org.hibernate.engine.jdbc.internal.JdbcCoordinatorImpl.beforeTransactionCompletion(JdbcCoordinatorImpl.java:448) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\r\n        at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.beforeCompletionCallback(JdbcResourceLocalTransactionCoordinatorImpl.java:183) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\r\n        at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.access$300(JdbcResourceLocalTransactionCoordinatorImpl.java:40) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\r\n        at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.commit(JdbcResourceLocalTransactionCoordinatorImpl.java:281) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\r\n        at org.hibernate.engine.transaction.internal.TransactionImpl.commit(TransactionImpl.java:101) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\r\n        at org.springframework.orm.jpa.JpaTransactionManager.doCommit(JpaTransactionManager.java:562) ~[spring-orm-5.3.9.jar:5.3.9]\r\n        ... 20 common frames omitted\r\n\r\n...\r\n\r\nCaused by: java.lang.NullPointerException: null\r\n        at com.my.package.revision.AuditRevisionListener.newRevision(AuditRevisionListener.java:10) ~[classes/:na]\r\n        at org.hibernate.envers.internal.revisioninfo.DefaultRevisionInfoGenerator.generate(DefaultRevisionInfoGenerator.java:88) ~[hibernate-envers-5.4.28.Final.jar:5.4.28.Final]\r\n        at org.hibernate.envers.internal.synchronization.AuditProcess.getCurrentRevisionData(AuditProcess.java:133) ~[hibernate-envers-5.4.28.Final.jar:5.4.28.Final]\r\n        at org.hibernate.envers.internal.synchronization.AuditProcess.executeInSession(AuditProcess.java:115) ~[hibernate-envers-5.4.28.Final.jar:5.4.28.Final]\r\n        at org.hibernate.envers.internal.synchronization.AuditProcess.doBeforeTransactionCompletion(AuditProcess.java:174) ~[hibernate-envers-5.4.28.Final.jar:5.4.28.Final]\r\n        at org.hibernate.envers.internal.synchronization.AuditProcessManager$1.doBeforeTransactionCompletion(AuditProcessManager.java:47) ~[hibernate-envers-5.4.28.Final.jar:5.4.28.Final]\r\n        at org.hibernate.engine.spi.ActionQueue$BeforeTransactionCompletionProcessQueue.beforeTransactionCompletion(ActionQueue.java:954) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\r\n        ... 28 common frames omitted\r\n```\r\n\r\nWhat am I missing here, why is the transaction not fully finished within the Service implementation? Is there a better way/pattern for a background thread to write to a database via JPA?\r\n\r\nThanks","title":"Spring Boot JPA interaction from reactive AMQP background thread","body":"<p>We have a regular, blocking Spring Boot (2.5.4) application serving a REST interface. We use Hibernate envers for audit logging. This service sends messages on our Service Bus in an asynchronous fashion via the <code>ServiceBusSenderAsyncClient</code> from the Azure SDK.\nNow this service needs to receive messages from said Service Bus and write updates to the Database - also async. For this we use <code>ServiceBusReceiverAsyncClient</code> with a reactive stream. All of this generally works (I wrapped the whole database interaction in one <code>Transactional</code> function) but I'm encountering issues with envers via the <code>beforeTransactionCompletion callback</code> being <code>null</code> (when I deactivate envers, it works). This issues is Service Bus independent from my understanding and really rotates around accessing the JPA repo from a background thread. Following the schematic implementation:</p>\n<p><strong>ServiceBusReceiveController</strong></p>\n<pre><code>@Component\npublic class SubscriptionReceiveController {\n  @Autowired\n  private MyService myService;\n\n  @Autowired\n  private ServiceBusReceiverAsyncClient receiver;\n\n  @Autowired\n  private ObjectMapper mapper;\n\n  @PostConstruct\n  public void run() {\n    // continuously receive messages in the background\n    receiver.receiveMessages().flatMap(message -&gt; {\n      MyObject object;\n      try {\n        object = mapper.readValue(message.getBody().toString(), MyClass.class);\n      } catch (JsonProcessingException e) {\n        throw new JsonProcessingRuntimeException(&quot;Failed to convert message to object&quot;, e);\n      }\n\n      // wrap the blocking JPA interaction\n      Mono&lt;MyObject&gt; blockingWrapper = Mono.fromCallable(() -&gt; {\n        return myService.updateMyObject(object.getId());\n      });\n\n      // When the service returns, this is where it crashes\n      return blockingWrapper.subscribeOn(Schedulers.boundedElastic());\n    }).flatMap(response -&gt; {\n      // More processing steps\n    }).subscribe();\n  }\n}\n</code></pre>\n<p><strong>MyService</strong></p>\n<pre><code>@Service\npublic class MyService {\n\n  @Autowired\n  private MyRepository myRepository;\n\n  @Transactional\n  public MyObject updateMyObject(UUID objectId) {\n    var object = myRepository.getById(objectId);\n    object.setSomeProperty(&quot;myPropertyValue&quot;);\n\n    return myRepository.save(object);\n  }\n}\n</code></pre>\n<p>Causing following <strong>error message</strong>:</p>\n<pre><code>org.springframework.orm.jpa.JpaSystemException: Unable to perform beforeTransactionCompletion callback: null; nested exception is org.hibernate.HibernateException: Unable to perform beforeTransactionCompletion callback: null\nCaused by: org.hibernate.HibernateException: Unable to perform beforeTransactionCompletion callback: null\n        at org.hibernate.engine.spi.ActionQueue$BeforeTransactionCompletionProcessQueue.beforeTransactionCompletion(ActionQueue.java:960) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\n        at org.hibernate.engine.spi.ActionQueue.beforeTransactionCompletion(ActionQueue.java:525) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\n        at org.hibernate.internal.SessionImpl.beforeTransactionCompletion(SessionImpl.java:2381) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\n        at org.hibernate.engine.jdbc.internal.JdbcCoordinatorImpl.beforeTransactionCompletion(JdbcCoordinatorImpl.java:448) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\n        at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.beforeCompletionCallback(JdbcResourceLocalTransactionCoordinatorImpl.java:183) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\n        at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.access$300(JdbcResourceLocalTransactionCoordinatorImpl.java:40) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\n        at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.commit(JdbcResourceLocalTransactionCoordinatorImpl.java:281) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\n        at org.hibernate.engine.transaction.internal.TransactionImpl.commit(TransactionImpl.java:101) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\n        at org.springframework.orm.jpa.JpaTransactionManager.doCommit(JpaTransactionManager.java:562) ~[spring-orm-5.3.9.jar:5.3.9]\n        ... 20 common frames omitted\n\n...\n\nCaused by: java.lang.NullPointerException: null\n        at com.my.package.revision.AuditRevisionListener.newRevision(AuditRevisionListener.java:10) ~[classes/:na]\n        at org.hibernate.envers.internal.revisioninfo.DefaultRevisionInfoGenerator.generate(DefaultRevisionInfoGenerator.java:88) ~[hibernate-envers-5.4.28.Final.jar:5.4.28.Final]\n        at org.hibernate.envers.internal.synchronization.AuditProcess.getCurrentRevisionData(AuditProcess.java:133) ~[hibernate-envers-5.4.28.Final.jar:5.4.28.Final]\n        at org.hibernate.envers.internal.synchronization.AuditProcess.executeInSession(AuditProcess.java:115) ~[hibernate-envers-5.4.28.Final.jar:5.4.28.Final]\n        at org.hibernate.envers.internal.synchronization.AuditProcess.doBeforeTransactionCompletion(AuditProcess.java:174) ~[hibernate-envers-5.4.28.Final.jar:5.4.28.Final]\n        at org.hibernate.envers.internal.synchronization.AuditProcessManager$1.doBeforeTransactionCompletion(AuditProcessManager.java:47) ~[hibernate-envers-5.4.28.Final.jar:5.4.28.Final]\n        at org.hibernate.engine.spi.ActionQueue$BeforeTransactionCompletionProcessQueue.beforeTransactionCompletion(ActionQueue.java:954) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\n        ... 28 common frames omitted\n</code></pre>\n<p>What am I missing here, why is the transaction not fully finished within the Service implementation? Is there a better way/pattern for a background thread to write to a database via JPA?</p>\n<p>Thanks</p>\n"},{"tags":["java","arrays","multidimensional-array"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":2,"creation_date":1667246367,"post_id":74268289,"comment_id":131120543,"body_markdown":"*I keep getting results like...* Not from what you posted. There&#39;s nothing wrong with it","body":"<i>I keep getting results like...</i> Not from what you posted. There&#39;s nothing wrong with it"},{"owner":{"account_id":23667337,"reputation":1467,"user_id":17694626,"display_name":"Cheng Thao"},"score":0,"creation_date":1667246527,"post_id":74268289,"comment_id":131120587,"body_markdown":"Since there&#39;s one min per row, you are going to need an array for the min values.  Same thing with max.  You will want to initialize mins[i] inside the outer loop.","body":"Since there&#39;s one min per row, you are going to need an array for the min values.  Same thing with max.  You will want to initialize mins[i] inside the outer loop."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1667247215,"post_id":74268289,"comment_id":131120763,"body_markdown":"Oh I see. So your code is not wrong *per se* but if your goal is that you want the min/max *of each row* then you *will* need to change it","body":"Oh I see. So your code is not wrong <i>per se</i> but if your goal is that you want the min/max <i>of each row</i> then you <i>will</i> need to change it"}],"answers":[{"comments":[{"owner":{"display_name":"user17233545"},"score":1,"creation_date":1667247004,"post_id":74268421,"comment_id":131120708,"body_markdown":"`minPerRow()` returns all `Integer.MIN_VALUE`s. `maxPerRow()` returns all `Integer.MAX_VALUE`s.","body":"<code>minPerRow()</code> returns all <code>Integer.MIN_VALUE</code>s. <code>maxPerRow()</code> returns all <code>Integer.MAX_VALUE</code>s."}],"tags":[],"owner":{"account_id":4228398,"reputation":17727,"user_id":3461397,"display_name":"Oleg Cherednik"},"comment_count":1,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1667271077,"creation_date":1667245535,"answer_id":74268421,"question_id":74268289,"body_markdown":"```java\r\npublic static int min(int[][] data) {\r\n    return calcRowMinMax(minPerRow(data), true);\r\n}\r\n\r\npublic static int max(int[][] data) {\r\n    return calcRowMinMax(maxPerRow(data), false);\r\n}\r\n\r\npublic static int[] minPerRow(int[][] data) {\r\n    int[] min = new int[data.length];\r\n\r\n    for (int row = 0; row &lt; data.length; row++)\r\n        min[row] = calcRowMinMax(data[row], true);\r\n\r\n    return min;\r\n}\r\n\r\npublic static int[] maxPerRow(int[][] data) {\r\n    int[] max = new int[data.length];\r\n\r\n    for (int row = 0; row &lt; data.length; row++)\r\n        max[row] = calcRowMinMax(data[row], false);\r\n\r\n    return max;\r\n}\r\n\r\nprivate static int calcRowMinMax(int[] row, boolean min) {\r\n    int res = min ? Integer.MAX_VALUE : Integer.MIN_VALUE;\r\n\r\n    for (int val : row)\r\n        res = min ? Math.min(res, val) : Math.max(res, val);\r\n\r\n    return res;\r\n}\r\n```","title":"JAVA How to find the highest number in each row of a 2d array","body":"<pre class=\"lang-java prettyprint-override\"><code>public static int min(int[][] data) {\n    return calcRowMinMax(minPerRow(data), true);\n}\n\npublic static int max(int[][] data) {\n    return calcRowMinMax(maxPerRow(data), false);\n}\n\npublic static int[] minPerRow(int[][] data) {\n    int[] min = new int[data.length];\n\n    for (int row = 0; row &lt; data.length; row++)\n        min[row] = calcRowMinMax(data[row], true);\n\n    return min;\n}\n\npublic static int[] maxPerRow(int[][] data) {\n    int[] max = new int[data.length];\n\n    for (int row = 0; row &lt; data.length; row++)\n        max[row] = calcRowMinMax(data[row], false);\n\n    return max;\n}\n\nprivate static int calcRowMinMax(int[] row, boolean min) {\n    int res = min ? Integer.MAX_VALUE : Integer.MIN_VALUE;\n\n    for (int val : row)\n        res = min ? Math.min(res, val) : Math.max(res, val);\n\n    return res;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":26493810,"reputation":323,"user_id":20131874,"display_name":"mmartinez04"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1667247067,"creation_date":1667247067,"answer_id":74268660,"question_id":74268289,"body_markdown":"The following code will print the `max` and `min` for each `row`\r\n\r\n    for ( int row=0; row &lt; data.length; row++)\r\n    {\r\n      for ( int col=0; col &lt; data[row].length; col++) \r\n      {\r\n         //Find max as usual\r\n         if (data[row][col] &gt; max){\r\n           max = data[row][col];\r\n         }\r\n         \r\n         //Find min as usual\r\n         if (data[row][col] &lt; min){\r\n           min = data[row][col];\r\n         }\r\n      }\r\n      \r\n      //Print min/max for this row\r\n      System.out.println(&quot;row = &quot; + row + &quot;; max = &quot; + max + &quot;; min = &quot; + min );\r\n      \r\n      //Reset min/max\r\n      max = Integer.MIN_VALUE;\r\n\t  min = Integer.MAX_VALUE;\r\n    }\r\n\r\nIf you&#39;d like to still find the overall `max`/`min`, instead of printing the values, add them to an array and find the `max`/`min` from there","title":"JAVA How to find the highest number in each row of a 2d array","body":"<p>The following code will print the <code>max</code> and <code>min</code> for each <code>row</code></p>\n<pre><code>for ( int row=0; row &lt; data.length; row++)\n{\n  for ( int col=0; col &lt; data[row].length; col++) \n  {\n     //Find max as usual\n     if (data[row][col] &gt; max){\n       max = data[row][col];\n     }\n     \n     //Find min as usual\n     if (data[row][col] &lt; min){\n       min = data[row][col];\n     }\n  }\n  \n  //Print min/max for this row\n  System.out.println(&quot;row = &quot; + row + &quot;; max = &quot; + max + &quot;; min = &quot; + min );\n  \n  //Reset min/max\n  max = Integer.MIN_VALUE;\n  min = Integer.MAX_VALUE;\n}\n</code></pre>\n<p>If you'd like to still find the overall <code>max</code>/<code>min</code>, instead of printing the values, add them to an array and find the <code>max</code>/<code>min</code> from there</p>\n"},{"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1667311228,"post_id":74272189,"comment_id":131134455,"body_markdown":"The OP already has that solution (which is not the one he wants)","body":"The OP already has that solution (which is not the one he wants)"}],"tags":[],"owner":{"account_id":26545592,"reputation":176,"user_id":20175711,"display_name":"Not A Number"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667312898,"creation_date":1667283488,"answer_id":74272189,"question_id":74268289,"body_markdown":"Solution without plain for loops using built-in classes\r\n\r\n```\r\n    public static void main(String[] args) {\r\n        int[][] data = { {3, 2, 5},\r\n            {1, 4, 4, 8, 13},\r\n            {9, 1, 0, 2},\r\n            {0, 2, 6, 3, -1, -8} };\r\n        var statistics = Stream.of(data).flatMapToInt(IntStream::of).summaryStatistics();\r\n        int min = statistics.getMin(), max = statistics.getMax();\r\n    }\r\n```\r\n**Edit**: I was inattentive. Below is an example of getting the maximum value in a particular row. If you want to process all data, you should iterate over `allStatistics`\r\n```\r\n        //data allocation\r\n        var allStatistics = Stream.of(data)\r\n           .map(row -&gt; IntStream.of(row).summaryStatistics())\r\n           .toList();\r\n        int maxOfSecondRow = allStatistics.get(1).getMax();\r\n```","title":"JAVA How to find the highest number in each row of a 2d array","body":"<p>Solution without plain for loops using built-in classes</p>\n<pre><code>    public static void main(String[] args) {\n        int[][] data = { {3, 2, 5},\n            {1, 4, 4, 8, 13},\n            {9, 1, 0, 2},\n            {0, 2, 6, 3, -1, -8} };\n        var statistics = Stream.of(data).flatMapToInt(IntStream::of).summaryStatistics();\n        int min = statistics.getMin(), max = statistics.getMax();\n    }\n</code></pre>\n<p><strong>Edit</strong>: I was inattentive. Below is an example of getting the maximum value in a particular row. If you want to process all data, you should iterate over <code>allStatistics</code></p>\n<pre><code>        //data allocation\n        var allStatistics = Stream.of(data)\n           .map(row -&gt; IntStream.of(row).summaryStatistics())\n           .toList();\n        int maxOfSecondRow = allStatistics.get(1).getMax();\n</code></pre>\n"}],"owner":{"account_id":24003315,"reputation":3,"user_id":17987869,"display_name":"Nathan Sarabin"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":136,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":74268660,"answer_count":3,"score":-2,"last_activity_date":1667312898,"creation_date":1667244746,"question_id":74268289,"body_markdown":"\r\n\r\nI have made it find the max and min value in the entire 2d array seen below but now I&#39;m wanting to make it find the highest value in each row and don&#39;t really know how to go about it. \r\n```\r\npublic class Main\r\n{\r\n\r\n  public static void main ( String[] args )  \r\n  {\r\n    int[][] data = { {3, 2, 5},\r\n                     {1, 4, 4, 8, 13},\r\n                     {9, 1, 0, 2},\r\n                     {0, 2, 6, 3, -1, -8} };\r\n\r\n    \r\n    int max = data[0][0];\r\n    int min = data[0][0];\r\n  \r\n    \r\n    for ( int row=0; row &lt; data.length; row++)\r\n    {\r\n      for ( int col=0; col &lt; data[row].length; col++) \r\n      {\r\n         if (data[row][col] &gt; max){\r\n           max = data[row][col];\r\n           \r\n         }\r\n         if (data[row][col] &lt; min){\r\n           min = data[row][col];\r\n         }\r\n      }\r\n    }  \r\n\r\n    System.out.println( &quot;max = &quot; + max + &quot;; min = &quot; + min );\r\n\r\n  }\r\n}      \r\n\r\n```\r\n\r\n\r\nI keep getting results like\r\n\r\n    2\r\n    5\r\n    4\r\n    4\r\n    8\r\n    1\r\n    3\r\n    1\r\n    1\r\n    2\r\n    2\r\n    6\r\n    6\r\n    6\r\n    6","title":"JAVA How to find the highest number in each row of a 2d array","body":"<p>I have made it find the max and min value in the entire 2d array seen below but now I'm wanting to make it find the highest value in each row and don't really know how to go about it.</p>\n<pre><code>public class Main\n{\n\n  public static void main ( String[] args )  \n  {\n    int[][] data = { {3, 2, 5},\n                     {1, 4, 4, 8, 13},\n                     {9, 1, 0, 2},\n                     {0, 2, 6, 3, -1, -8} };\n\n    \n    int max = data[0][0];\n    int min = data[0][0];\n  \n    \n    for ( int row=0; row &lt; data.length; row++)\n    {\n      for ( int col=0; col &lt; data[row].length; col++) \n      {\n         if (data[row][col] &gt; max){\n           max = data[row][col];\n           \n         }\n         if (data[row][col] &lt; min){\n           min = data[row][col];\n         }\n      }\n    }  \n\n    System.out.println( &quot;max = &quot; + max + &quot;; min = &quot; + min );\n\n  }\n}      \n\n</code></pre>\n<p>I keep getting results like</p>\n<pre><code>2\n5\n4\n4\n8\n1\n3\n1\n1\n2\n2\n6\n6\n6\n6\n</code></pre>\n"},{"tags":["java","spring-boot","backend"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1667323854,"post_id":74276602,"comment_id":131139037,"body_markdown":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a [minimal reproducible example](https://stackoverflow.com/help/minimal-reproducible-example).","body":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."}],"answers":[{"tags":[],"owner":{"account_id":20713334,"reputation":109,"user_id":15209447,"display_name":"Isakots"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1667312790,"creation_date":1667312446,"answer_id":74277366,"question_id":74276602,"body_markdown":"I&#39;m a little bit confused, what you are trying to achieve.\r\n\r\n1. If you are trying to find turnos by persona id, then do this, it will do the join for you under the hood.\r\n\r\n`List&lt;Turno&gt; findAllByPersonaId(int id);`\r\n\r\n2. If you are trying to get all turno, just simply do this. (Probably it&#39;s not it, because you wanna do a join)\r\n\r\n`List&lt;Turno&gt; findAll();`\r\n\r\n3. If you want to find all Turno by Persona and retrieve Persona data as well, then do this:\r\n\r\na, Create a Projection, which contains de necesary information you want to retrieve: (like this: https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#projections )\r\n\r\n```\r\npublic interface TurnoPersonaProjection {\r\n  String getName();\r\n  String getApellidos();\r\n  String getFechaturno();\r\n  String getMedico()\r\n}\r\n```\r\nb, then retreive projection with the query:  \r\n```\r\n@Query(&quot;SELECT p.name,p.apellidos,c.fechaturno,c.medico FROM Turno t INNER JOIN Persona p ON t.idturno = p.id WHERE p.id = :personaId&quot;)\r\n    List&lt;TurnoPersonaProjection&gt; findTurnoPersonaProjectionByPersonaId(int personaId);\r\n```\r\n\r\nPS: PLEASE develop in English","title":"How to execute Query Inner Join Spring Boot","body":"<p>I'm a little bit confused, what you are trying to achieve.</p>\n<ol>\n<li>If you are trying to find turnos by persona id, then do this, it will do the join for you under the hood.</li>\n</ol>\n<p><code>List&lt;Turno&gt; findAllByPersonaId(int id);</code></p>\n<ol start=\"2\">\n<li>If you are trying to get all turno, just simply do this. (Probably it's not it, because you wanna do a join)</li>\n</ol>\n<p><code>List&lt;Turno&gt; findAll();</code></p>\n<ol start=\"3\">\n<li>If you want to find all Turno by Persona and retrieve Persona data as well, then do this:</li>\n</ol>\n<p>a, Create a Projection, which contains de necesary information you want to retrieve: (like this: <a href=\"https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#projections\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#projections</a> )</p>\n<pre><code>public interface TurnoPersonaProjection {\n  String getName();\n  String getApellidos();\n  String getFechaturno();\n  String getMedico()\n}\n</code></pre>\n<p>b, then retreive projection with the query:</p>\n<pre><code>@Query(&quot;SELECT p.name,p.apellidos,c.fechaturno,c.medico FROM Turno t INNER JOIN Persona p ON t.idturno = p.id WHERE p.id = :personaId&quot;)\n    List&lt;TurnoPersonaProjection&gt; findTurnoPersonaProjectionByPersonaId(int personaId);\n</code></pre>\n<p>PS: PLEASE develop in English</p>\n"}],"owner":{"account_id":26107540,"reputation":15,"user_id":19977174,"display_name":"Federico Andres Ratcliffe"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":656,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74277366,"answer_count":1,"score":0,"last_activity_date":1667312790,"creation_date":1667308802,"question_id":74276602,"body_markdown":"I am trying to get my Spring Boot Backend to do an INNER JOIN Query and then I can display the data from that query in my Angular Frontend.\r\n\r\nSpring Boot say me: &quot;Caused by: org.hibernate.hql.internal.ast.QuerySyntaxException: persona is not mapped&quot; &quot;persona is not mapped [SELECT name,apellidos,fechaturno,medico FROM persona c INNER JOIN turnos c1 ON c.id = c1.idturno]&quot;\r\n\r\nEntity/Class &quot;Persona&quot;\r\n\r\n```\r\n@Entity @Table(name=&quot;persona&quot;)\r\npublic class Persona {\r\n    \r\n    @Id @Column @GeneratedValue(strategy=GenerationType.IDENTITY) private int id;\r\n    @Column private String name;\r\n    @Column private String apellidos;\r\n    \r\n    \r\n    \r\n    @OneToMany(mappedBy = &quot;persona&quot;)\r\n    List&lt;Turno&gt; turnos;\r\n    \r\n\r\n    public int getId() {\r\n        return id;\r\n    }\r\n    public void setId(int id) {\r\n        this.id = id;\r\n    }\r\n    \r\n    \r\n    public String getName() {\r\n        return name;\r\n    }\r\n    public void setName(String name) {\r\n        this.name = name;\r\n    }\r\n    \r\n    \r\n    public String getApellidos() {\r\n        return apellidos;\r\n    }\r\n    public void setApellidos(String apellidos) {\r\n        this.apellidos = apellidos;\r\n    }\r\n\r\n    public List&lt;Turno&gt; getTurnos() {\r\n        return turnos;\r\n    }\r\n\r\n    public void setTurnos(List&lt;Turno&gt; turnos) {\r\n        this.turnos = turnos;\r\n    } \r\n}\r\n```\r\n\r\n\r\nPersonaServiceImp\r\n\r\n```\r\n@Service\r\npublic class PersonaServiceImp implements PersonaService{\r\n    \r\n    @Autowired\r\n    private PersonaRepositorio repositorio; \r\n    \r\n    @Override\r\n    public List&lt;Persona&gt; listar() {\r\n        return repositorio.findAll();\r\n    }\r\n\r\n    @Override\r\n    public Persona listarId(int id) {\r\n        return repositorio.findByid(id);\r\n    }\r\n\r\n    @Override\r\n    public Persona add(Persona p) {\r\n        return repositorio.save(p);\r\n    }\r\n\r\n    @Override\r\n    public Persona edit(Persona p) {\r\n        return repositorio.save(p);\r\n    }\r\n\r\n    @Override\r\n    public Persona delete(int id) {\r\n        Persona p = repositorio.findByid(id);\r\n        if(p!=null){\r\n           repositorio.delete(p); \r\n        }\r\n        return p;\r\n    }\r\n    \r\n}\r\n```\r\n\r\nEntity/Class &quot;Turno&quot;\r\n\r\n```\r\n@Entity\r\n@Table(name = &quot;turnos&quot;)\r\npublic class Turno {\r\n    \r\n    \r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    @Column(name = &quot;idturno&quot;)\r\n    private int idturno;\r\n    \r\n    \r\n    @Column(name = &quot;fechaturno&quot;)\r\n    private String fechaturno;\r\n    \r\n    @Column(name = &quot;medico&quot;)\r\n    private String medico;\r\n    \r\n    \r\n    @ManyToOne\r\n    private Persona persona;\r\n\r\n    public Turno(){\r\n        \r\n    }\r\n\r\n    public int getIdturno() {\r\n        return idturno;\r\n    }\r\n\r\n    public void setIdturno(int idturno) {\r\n        this.idturno = idturno;\r\n    }\r\n\r\n    public String getFechaturno() {\r\n        return fechaturno;\r\n    }\r\n\r\n    public void setFechaturno(String fechaturno) {\r\n        this.fechaturno = fechaturno;\r\n    }\r\n\r\n    public String getMedico() {\r\n        return medico;\r\n    }\r\n\r\n    public void setMedico(String medico) {\r\n        this.medico = medico;\r\n    }\r\n\r\n    public Persona getPersona() {\r\n        return persona;\r\n    }\r\n\r\n    public void setPersona(Persona persona) {\r\n        this.persona = persona;\r\n    }   \r\n}\r\n```\r\n\r\nnow, the services/Repositorys &quot;Persona Repositorio&quot;\r\n\r\n```\r\npublic interface PersonaRepositorio extends JpaRepository&lt;Persona, Integer&gt; {\r\n    //list all person\r\n    List&lt;Persona&gt;findAll();\r\n    //list one person\r\n    Persona findByid(int id);\r\n    //save changes news or update\r\n    Persona save(Persona p);\r\n    //delete\r\n    void delete(Persona p);\r\n}\r\n```\r\n\r\nPersona Service\r\n\r\n```\r\n@Service\r\npublic interface PersonaService {\r\n    // object type list\r\n    List&lt;Persona&gt;listar(); //list all person\r\n\r\n    Persona listarId(int id); //list one person\r\n    Persona add(Persona p);//add one person\r\n    Persona edit(Persona p);//edit one person\r\n    Persona delete(int id);//delete one person \r\n}\r\n```\r\n\r\nand Turno Repository (where I think I would have to do the Query)\r\n\r\n```\r\n@Repository\r\npublic interface TurnoRepository extends JpaRepository&lt;Turno, Integer&gt; {\r\n    \r\n    @Query(&quot;SELECT name,apellidos,fechaturno,medico FROM persona c INNER JOIN turnos c1 ON c.id = c1.idturno&quot;)\r\n    List&lt;Turno&gt; findByIdturno(int idturno);\r\n    \r\n    Turno findById(int idturno);\r\n    \r\n    \r\n    \r\n}\r\n```\r\n\r\nContext: The relation is that a person can have many shifts and when doing a query on that it will bring the names and surnames of the persons with the date of shift and the corresponding physician\r\n\r\nbut I can&#39;t get it to do the query\r\n\r\nObtaining data from an Inner Join query, to display the information in Angular.","title":"How to execute Query Inner Join Spring Boot","body":"<p>I am trying to get my Spring Boot Backend to do an INNER JOIN Query and then I can display the data from that query in my Angular Frontend.</p>\n<p>Spring Boot say me: &quot;Caused by: org.hibernate.hql.internal.ast.QuerySyntaxException: persona is not mapped&quot; &quot;persona is not mapped [SELECT name,apellidos,fechaturno,medico FROM persona c INNER JOIN turnos c1 ON c.id = c1.idturno]&quot;</p>\n<p>Entity/Class &quot;Persona&quot;</p>\n<pre><code>@Entity @Table(name=&quot;persona&quot;)\npublic class Persona {\n    \n    @Id @Column @GeneratedValue(strategy=GenerationType.IDENTITY) private int id;\n    @Column private String name;\n    @Column private String apellidos;\n    \n    \n    \n    @OneToMany(mappedBy = &quot;persona&quot;)\n    List&lt;Turno&gt; turnos;\n    \n\n    public int getId() {\n        return id;\n    }\n    public void setId(int id) {\n        this.id = id;\n    }\n    \n    \n    public String getName() {\n        return name;\n    }\n    public void setName(String name) {\n        this.name = name;\n    }\n    \n    \n    public String getApellidos() {\n        return apellidos;\n    }\n    public void setApellidos(String apellidos) {\n        this.apellidos = apellidos;\n    }\n\n    public List&lt;Turno&gt; getTurnos() {\n        return turnos;\n    }\n\n    public void setTurnos(List&lt;Turno&gt; turnos) {\n        this.turnos = turnos;\n    } \n}\n</code></pre>\n<p>PersonaServiceImp</p>\n<pre><code>@Service\npublic class PersonaServiceImp implements PersonaService{\n    \n    @Autowired\n    private PersonaRepositorio repositorio; \n    \n    @Override\n    public List&lt;Persona&gt; listar() {\n        return repositorio.findAll();\n    }\n\n    @Override\n    public Persona listarId(int id) {\n        return repositorio.findByid(id);\n    }\n\n    @Override\n    public Persona add(Persona p) {\n        return repositorio.save(p);\n    }\n\n    @Override\n    public Persona edit(Persona p) {\n        return repositorio.save(p);\n    }\n\n    @Override\n    public Persona delete(int id) {\n        Persona p = repositorio.findByid(id);\n        if(p!=null){\n           repositorio.delete(p); \n        }\n        return p;\n    }\n    \n}\n</code></pre>\n<p>Entity/Class &quot;Turno&quot;</p>\n<pre><code>@Entity\n@Table(name = &quot;turnos&quot;)\npublic class Turno {\n    \n    \n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = &quot;idturno&quot;)\n    private int idturno;\n    \n    \n    @Column(name = &quot;fechaturno&quot;)\n    private String fechaturno;\n    \n    @Column(name = &quot;medico&quot;)\n    private String medico;\n    \n    \n    @ManyToOne\n    private Persona persona;\n\n    public Turno(){\n        \n    }\n\n    public int getIdturno() {\n        return idturno;\n    }\n\n    public void setIdturno(int idturno) {\n        this.idturno = idturno;\n    }\n\n    public String getFechaturno() {\n        return fechaturno;\n    }\n\n    public void setFechaturno(String fechaturno) {\n        this.fechaturno = fechaturno;\n    }\n\n    public String getMedico() {\n        return medico;\n    }\n\n    public void setMedico(String medico) {\n        this.medico = medico;\n    }\n\n    public Persona getPersona() {\n        return persona;\n    }\n\n    public void setPersona(Persona persona) {\n        this.persona = persona;\n    }   \n}\n</code></pre>\n<p>now, the services/Repositorys &quot;Persona Repositorio&quot;</p>\n<pre><code>public interface PersonaRepositorio extends JpaRepository&lt;Persona, Integer&gt; {\n    //list all person\n    List&lt;Persona&gt;findAll();\n    //list one person\n    Persona findByid(int id);\n    //save changes news or update\n    Persona save(Persona p);\n    //delete\n    void delete(Persona p);\n}\n</code></pre>\n<p>Persona Service</p>\n<pre><code>@Service\npublic interface PersonaService {\n    // object type list\n    List&lt;Persona&gt;listar(); //list all person\n\n    Persona listarId(int id); //list one person\n    Persona add(Persona p);//add one person\n    Persona edit(Persona p);//edit one person\n    Persona delete(int id);//delete one person \n}\n</code></pre>\n<p>and Turno Repository (where I think I would have to do the Query)</p>\n<pre><code>@Repository\npublic interface TurnoRepository extends JpaRepository&lt;Turno, Integer&gt; {\n    \n    @Query(&quot;SELECT name,apellidos,fechaturno,medico FROM persona c INNER JOIN turnos c1 ON c.id = c1.idturno&quot;)\n    List&lt;Turno&gt; findByIdturno(int idturno);\n    \n    Turno findById(int idturno);\n    \n    \n    \n}\n</code></pre>\n<p>Context: The relation is that a person can have many shifts and when doing a query on that it will bring the names and surnames of the persons with the date of shift and the corresponding physician</p>\n<p>but I can't get it to do the query</p>\n<p>Obtaining data from an Inner Join query, to display the information in Angular.</p>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":184870,"reputation":118711,"user_id":421195,"accept_rate":83,"display_name":"paulsm4"},"score":2,"creation_date":1667313072,"post_id":74276522,"comment_id":131135160,"body_markdown":"You need to write your own function.  You&#39;ll probably use [String.split()](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html) to parse out the &quot;words&quot;.  Look at Asraf&#39;s excellent reply below.  Please consider &quot;upvoting&quot; and &quot;accepting&quot; it.","body":"You need to write your own function.  You&#39;ll probably use <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html\" rel=\"nofollow noreferrer\">String.split()</a> to parse out the &quot;words&quot;.  Look at Asraf&#39;s excellent reply below.  Please consider &quot;upvoting&quot; and &quot;accepting&quot; it."}],"answers":[{"tags":[],"owner":{"account_id":26764465,"reputation":1324,"user_id":20361860,"display_name":"Asraf"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1667312759,"creation_date":1667312759,"answer_id":74277428,"question_id":74276522,"body_markdown":"You can use some document similarly techniques like [`Cosine similariy`][1]\r\n\r\nHere I have implemented a solution based on your description. \r\n\r\n    \t\r\n    double findSimilarityRatio (String sentence1, String sentence2) {\r\n    \t\r\n    \tHashMap&lt;String, Integer&gt; firstSentenceMap = new HashMap&lt;&gt;();\r\n    \tHashMap&lt;String, Integer&gt; secondSentenceMap = new HashMap&lt;&gt;();\r\n    \t\r\n    \tString[] firstSentenceWords = sentence1.split(&quot; &quot;);\r\n    \tString[] secondSentenceWords = sentence2.split(&quot; &quot;);\r\n    \t\r\n    \tfor (String word : firstSentenceWords) {\r\n    \t\tif (firstSentenceMap.containsKey(word)) {\r\n    \t\t\tfirstSentenceMap.put(word, firstSentenceMap.get(word) + 1);\r\n    \t\t}\r\n    \t\telse {\r\n    \t\t\tfirstSentenceMap.put(word, 1);\r\n    \t\t}\r\n    \t}\r\n    \t\r\n    \tfor (String word : secondSentenceWords) {\r\n    \t\tif (secondSentenceMap.containsKey(word)) {\r\n    \t\t\tsecondSentenceMap.put(word, secondSentenceMap.get(word) + 1);\r\n    \t\t}\r\n    \t\telse {\r\n    \t\t\tsecondSentenceMap.put(word, 1);\r\n    \t\t}\r\n    \t}\r\n    \t\r\n    \tdouble totalWords = 0;\r\n    \tdouble totalHits = 0;\r\n    \t\r\n    \tif (firstSentenceWords.length &gt;= secondSentenceWords.length) {\r\n    \t\ttotalWords = firstSentenceWords.length;\r\n    \t\tfor (Map.Entry&lt;String, Integer&gt; entry : firstSentenceMap.entrySet()) {\r\n    \t\t    String key = entry.getKey();\r\n    \t\t    \r\n    \t\t    if (secondSentenceMap.containsKey(key)) {\r\n    \t\t    \ttotalHits = totalHits + Math.min(secondSentenceMap.get(key), firstSentenceMap.get(key)); \r\n    \t\t    }\r\n    \t\t}\r\n    \t}\r\n    \telse {\r\n    \t\ttotalWords = secondSentenceWords.length;\r\n    \t\tfor (Map.Entry&lt;String, Integer&gt; entry : secondSentenceMap.entrySet()) {\r\n    \t\t    String key = entry.getKey();\r\n    \t\t    \r\n    \t\t    if (firstSentenceMap.containsKey(key)) {\r\n    \t\t    \ttotalHits = totalHits + Math.min(secondSentenceMap.get(key), firstSentenceMap.get(key)); \r\n    \t\t    }\r\n    \t\t}\r\n    \t\t\r\n    \t}\r\n    \t\r\n    \treturn totalHits/totalWords;\r\n    }\r\n\r\nHope it helps, cheers!\r\n\r\n  [1]: https://paulminogue.com/posts/0de56ac8-914a-4056-9bf9-005572959bb1","title":"Sentence,String Similarity Comparison in Java","body":"<p>You can use some document similarly techniques like <a href=\"https://paulminogue.com/posts/0de56ac8-914a-4056-9bf9-005572959bb1\" rel=\"nofollow noreferrer\"><code>Cosine similariy</code></a></p>\n<p>Here I have implemented a solution based on your description.</p>\n<pre><code>double findSimilarityRatio (String sentence1, String sentence2) {\n    \n    HashMap&lt;String, Integer&gt; firstSentenceMap = new HashMap&lt;&gt;();\n    HashMap&lt;String, Integer&gt; secondSentenceMap = new HashMap&lt;&gt;();\n    \n    String[] firstSentenceWords = sentence1.split(&quot; &quot;);\n    String[] secondSentenceWords = sentence2.split(&quot; &quot;);\n    \n    for (String word : firstSentenceWords) {\n        if (firstSentenceMap.containsKey(word)) {\n            firstSentenceMap.put(word, firstSentenceMap.get(word) + 1);\n        }\n        else {\n            firstSentenceMap.put(word, 1);\n        }\n    }\n    \n    for (String word : secondSentenceWords) {\n        if (secondSentenceMap.containsKey(word)) {\n            secondSentenceMap.put(word, secondSentenceMap.get(word) + 1);\n        }\n        else {\n            secondSentenceMap.put(word, 1);\n        }\n    }\n    \n    double totalWords = 0;\n    double totalHits = 0;\n    \n    if (firstSentenceWords.length &gt;= secondSentenceWords.length) {\n        totalWords = firstSentenceWords.length;\n        for (Map.Entry&lt;String, Integer&gt; entry : firstSentenceMap.entrySet()) {\n            String key = entry.getKey();\n            \n            if (secondSentenceMap.containsKey(key)) {\n                totalHits = totalHits + Math.min(secondSentenceMap.get(key), firstSentenceMap.get(key)); \n            }\n        }\n    }\n    else {\n        totalWords = secondSentenceWords.length;\n        for (Map.Entry&lt;String, Integer&gt; entry : secondSentenceMap.entrySet()) {\n            String key = entry.getKey();\n            \n            if (firstSentenceMap.containsKey(key)) {\n                totalHits = totalHits + Math.min(secondSentenceMap.get(key), firstSentenceMap.get(key)); \n            }\n        }\n        \n    }\n    \n    return totalHits/totalWords;\n}\n</code></pre>\n<p>Hope it helps, cheers!</p>\n"}],"owner":{"account_id":26506556,"reputation":15,"user_id":20142626,"display_name":"Emre Terzi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":233,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74277428,"answer_count":1,"score":1,"last_activity_date":1667312759,"creation_date":1667308408,"question_id":74276522,"body_markdown":"I had a question about the word similarity between the two sentences.\r\nexample: Jack go to basketball.\r\nJack go to basketball match\r\nI want to know the code to find the similarity ratio by dividing the number of words that are the same by the number of words of the long sentence. Which library should I use for this, thank you.\r\n\r\n```\r\nThere are many kinds of similarity as similarity. I want to know which similarity title this similarity belongs to.\r\n```\r\n","title":"Sentence,String Similarity Comparison in Java","body":"<p>I had a question about the word similarity between the two sentences.\nexample: Jack go to basketball.\nJack go to basketball match\nI want to know the code to find the similarity ratio by dividing the number of words that are the same by the number of words of the long sentence. Which library should I use for this, thank you.</p>\n<pre><code>There are many kinds of similarity as similarity. I want to know which similarity title this similarity belongs to.\n</code></pre>\n"},{"tags":["java","jar","manifest"],"comments":[{"owner":{"account_id":7421543,"reputation":2874,"user_id":5645656,"accept_rate":100,"display_name":"Cardinal System"},"score":0,"creation_date":1667309824,"post_id":74276555,"comment_id":131133966,"body_markdown":"@Vinz I appreciate the reference, but in this scenario I am changing attributes of an external jar, not the application jar. I updated my question with more details.","body":"@Vinz I appreciate the reference, but in this scenario I am changing attributes of an external jar, not the application jar. I updated my question with more details."}],"answers":[{"tags":[],"owner":{"account_id":23057660,"reputation":477,"user_id":17173476,"display_name":"Vinz"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1667312310,"creation_date":1667312310,"answer_id":74277339,"question_id":74276555,"body_markdown":"Make sure you append another linefeed after your newly added entry in the manifest and you should be good to go.\r\n\r\n```\r\nmanifestData.append(&quot;\\n&quot;).append(&quot;Deployments-Version: &quot;).append(testVersion).append(&quot;\\n&quot;);\r\n```","title":"Why can&#39;t I read custom manifest attributes from a jar?","body":"<p>Make sure you append another linefeed after your newly added entry in the manifest and you should be good to go.</p>\n<pre><code>manifestData.append(&quot;\\n&quot;).append(&quot;Deployments-Version: &quot;).append(testVersion).append(&quot;\\n&quot;);\n</code></pre>\n"}],"owner":{"account_id":7421543,"reputation":2874,"user_id":5645656,"accept_rate":100,"display_name":"Cardinal System"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":161,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74277339,"answer_count":1,"score":0,"last_activity_date":1667312310,"creation_date":1667308545,"question_id":74276555,"body_markdown":"I want to add custom manifest attributes to an existing jar file. The file is an external jar and is not the jar containing my application, nor is it a dependency of my application.\r\n\r\nI drafted up some test code and verified that it makes the desired changes (by accessing the manifest with 7zip). However, it seems like Java is ignoring the manifest entry. When I call `java.util.jar.Attributes.getValue(String)`, it returns null. This is the code I am using:\r\n\r\n\tpublic static void main(String[] args) throws IOException, URISyntaxException {\r\n\t\tFile jar = new File(&quot;C:\\\\Users\\\\employee1234\\\\Desktop\\\\auth-0.1.3.jar&quot;);\r\n\t\tString testVersion = &quot;1.2.3&quot;;\r\n\r\n\t\tMap&lt;String, String&gt; env = new HashMap&lt;&gt;();\r\n\t\tenv.put(&quot;create&quot;, &quot;true&quot;);\r\n\r\n\t\t// Mount the jar\r\n\t\ttry (FileSystem fileSystem = FileSystems.newFileSystem(jarFileToURI(jar), env)) {\r\n\t\t\t// Read the manifest\r\n\t\t\tByteArrayOutputStream byteArrayOutputStream = new ByteArrayOutputStream();\r\n\t\t\tPath manifestPath = fileSystem.getPath(&quot;/META-INF/MANIFEST.MF&quot;);\r\n\t\t\tFiles.copy(manifestPath, byteArrayOutputStream);\r\n\r\n\t\t\t// Convert the manifest bytes to a string and construct a string builder\r\n\t\t\tStringBuilder manifestData = new StringBuilder(byteArrayOutputStream.toString().trim());\r\n\t\t\t// Add the custom manifest attribute\r\n\t\t\tmanifestData.append(&quot;\\n&quot;);\r\n\t\t\tmanifestData.append(&quot;Deployments-Version: &quot;);\r\n\t\t\tmanifestData.append(testVersion);\r\n\r\n\t\t\t// Write the manifest back to the jar\r\n\t\t\tFiles.copy(new ByteArrayInputStream(manifestData.toString().getBytes()), manifestPath,\r\n\t\t\t\t\tStandardCopyOption.REPLACE_EXISTING);\r\n\t\t\t\r\n\t\t\t// Try-with-resources closes the mounted jar\r\n\t\t}\r\n\r\n\t\t// This part doesn&#39;t work\r\n\t\ttry (JarFile jarFile = new JarFile(jar)) {\r\n\t\t\tManifest manifest = jarFile.getManifest();\r\n\t\t\tSystem.out.println(manifest.getMainAttributes().getValue(&quot;Deployments-Version&quot;));\r\n\t\t}\r\n\t}\r\n\r\n\t// Stolen from java.io.File with some modifications\r\n\tprivate static URI jarFileToURI(File jarFile) throws URISyntaxException {\r\n\t\tString sp = slashify(jarFile.getAbsoluteFile().getPath(), false);\r\n\t\tif (sp.startsWith(&quot;//&quot;))\r\n\t\t\tsp = &quot;//&quot; + sp;\r\n\t\treturn new URI(&quot;jar:file&quot;, null, sp, null);\r\n\t}\r\n\r\n\t// Stolen from java.io.File;\r\n\tprivate static String slashify(String path, boolean isDirectory) {\r\n\t\tString p = path;\r\n\t\tif (File.separatorChar != &#39;/&#39;)\r\n\t\t\tp = p.replace(File.separatorChar, &#39;/&#39;);\r\n\t\tif (!p.startsWith(&quot;/&quot;))\r\n\t\t\tp = &quot;/&quot; + p;\r\n\t\tif (!p.endsWith(&quot;/&quot;) &amp;&amp; isDirectory)\r\n\t\t\tp = p + &quot;/&quot;;\r\n\t\treturn p;\r\n\t}\r\n\r\nI inspected the [`Manifest`][1] instance in my debugger and the attribute was not anywhere present. I double and triple checked the jar file, and the manifest reflects my changes:\r\n\r\n    Manifest-Version: 1.0\r\n    Archiver-Version: Plexus Archiver\r\n    Created-By: Apache Maven\r\n    Built-By: employee1234\r\n    Build-Jdk: 1.8.0_202\r\n    Deployments-Version: 1.2.3\r\n\r\nIs my issue with the way I am adding the attribute, or is the way I am attempting to read it? What am I doing wrong?\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/jar/Manifest.html","title":"Why can&#39;t I read custom manifest attributes from a jar?","body":"<p>I want to add custom manifest attributes to an existing jar file. The file is an external jar and is not the jar containing my application, nor is it a dependency of my application.</p>\n<p>I drafted up some test code and verified that it makes the desired changes (by accessing the manifest with 7zip). However, it seems like Java is ignoring the manifest entry. When I call <code>java.util.jar.Attributes.getValue(String)</code>, it returns null. This is the code I am using:</p>\n<pre><code>public static void main(String[] args) throws IOException, URISyntaxException {\n    File jar = new File(&quot;C:\\\\Users\\\\employee1234\\\\Desktop\\\\auth-0.1.3.jar&quot;);\n    String testVersion = &quot;1.2.3&quot;;\n\n    Map&lt;String, String&gt; env = new HashMap&lt;&gt;();\n    env.put(&quot;create&quot;, &quot;true&quot;);\n\n    // Mount the jar\n    try (FileSystem fileSystem = FileSystems.newFileSystem(jarFileToURI(jar), env)) {\n        // Read the manifest\n        ByteArrayOutputStream byteArrayOutputStream = new ByteArrayOutputStream();\n        Path manifestPath = fileSystem.getPath(&quot;/META-INF/MANIFEST.MF&quot;);\n        Files.copy(manifestPath, byteArrayOutputStream);\n\n        // Convert the manifest bytes to a string and construct a string builder\n        StringBuilder manifestData = new StringBuilder(byteArrayOutputStream.toString().trim());\n        // Add the custom manifest attribute\n        manifestData.append(&quot;\\n&quot;);\n        manifestData.append(&quot;Deployments-Version: &quot;);\n        manifestData.append(testVersion);\n\n        // Write the manifest back to the jar\n        Files.copy(new ByteArrayInputStream(manifestData.toString().getBytes()), manifestPath,\n                StandardCopyOption.REPLACE_EXISTING);\n        \n        // Try-with-resources closes the mounted jar\n    }\n\n    // This part doesn't work\n    try (JarFile jarFile = new JarFile(jar)) {\n        Manifest manifest = jarFile.getManifest();\n        System.out.println(manifest.getMainAttributes().getValue(&quot;Deployments-Version&quot;));\n    }\n}\n\n// Stolen from java.io.File with some modifications\nprivate static URI jarFileToURI(File jarFile) throws URISyntaxException {\n    String sp = slashify(jarFile.getAbsoluteFile().getPath(), false);\n    if (sp.startsWith(&quot;//&quot;))\n        sp = &quot;//&quot; + sp;\n    return new URI(&quot;jar:file&quot;, null, sp, null);\n}\n\n// Stolen from java.io.File;\nprivate static String slashify(String path, boolean isDirectory) {\n    String p = path;\n    if (File.separatorChar != '/')\n        p = p.replace(File.separatorChar, '/');\n    if (!p.startsWith(&quot;/&quot;))\n        p = &quot;/&quot; + p;\n    if (!p.endsWith(&quot;/&quot;) &amp;&amp; isDirectory)\n        p = p + &quot;/&quot;;\n    return p;\n}\n</code></pre>\n<p>I inspected the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/jar/Manifest.html\" rel=\"nofollow noreferrer\"><code>Manifest</code></a> instance in my debugger and the attribute was not anywhere present. I double and triple checked the jar file, and the manifest reflects my changes:</p>\n<pre><code>Manifest-Version: 1.0\nArchiver-Version: Plexus Archiver\nCreated-By: Apache Maven\nBuilt-By: employee1234\nBuild-Jdk: 1.8.0_202\nDeployments-Version: 1.2.3\n</code></pre>\n<p>Is my issue with the way I am adding the attribute, or is the way I am attempting to read it? What am I doing wrong?</p>\n"},{"tags":["java","maven","visual-studio-code","project"],"comments":[{"owner":{"account_id":1852014,"reputation":24139,"user_id":1678362,"display_name":"Aaron"},"score":0,"creation_date":1507885412,"post_id":46671308,"comment_id":80398524,"body_markdown":"Have you installed the [Java extension pack](https://marketplace.visualstudio.com/items?itemName=vscjava.vscode-java-pack)? [Your editor&#39;s documentation](https://code.visualstudio.com/docs/languages/java) suggests using it to support Java. I hope once it&#39;s installed you won&#39;t have to bother with maven just to compile your code.","body":"Have you installed the <a href=\"https://marketplace.visualstudio.com/items?itemName=vscjava.vscode-java-pack\" rel=\"nofollow noreferrer\">Java extension pack</a>? <a href=\"https://code.visualstudio.com/docs/languages/java\" rel=\"nofollow noreferrer\">Your editor&#39;s documentation</a> suggests using it to support Java. I hope once it&#39;s installed you won&#39;t have to bother with maven just to compile your code."},{"owner":{"account_id":533160,"reputation":2822,"user_id":903783,"display_name":"George Birbilis"},"score":0,"creation_date":1527990534,"post_id":46671308,"comment_id":88335353,"body_markdown":"also see https://marketplace.visualstudio.com/items?itemName=vscjava.vscode-maven and https://blogs.msdn.microsoft.com/visualstudio/2018/01/11/new-visual-studio-code-extensions-for-java-developers-maven-tomcat-and-checkstyle/","body":"also see <a href=\"https://marketplace.visualstudio.com/items?itemName=vscjava.vscode-maven\" rel=\"nofollow noreferrer\">marketplace.visualstudio.com/&hellip;</a> and <a href=\"https://blogs.msdn.microsoft.com/visualstudio/2018/01/11/new-visual-studio-code-extensions-for-java-developers-maven-tomcat-and-checkstyle/\" rel=\"nofollow noreferrer\">blogs.msdn.microsoft.com/visualstudio/2018/01/11/&hellip;</a>"}],"answers":[{"comments":[{"owner":{"account_id":2322056,"reputation":2898,"user_id":2037517,"accept_rate":41,"display_name":"dashman"},"score":0,"creation_date":1507931979,"post_id":46727175,"comment_id":80424068,"body_markdown":"Thank you - I was able to get the above to work. Two quick questions - looks like a package name is required. Anyway to create one without a package name and/or more control over the folder structure. Also, if I&#39;ve got a java file in the editor, how to run it.","body":"Thank you - I was able to get the above to work. Two quick questions - looks like a package name is required. Anyway to create one without a package name and/or more control over the folder structure. Also, if I&#39;ve got a java file in the editor, how to run it."},{"owner":{"account_id":1062360,"reputation":37721,"user_id":1063716,"accept_rate":94,"display_name":"Steve Chambers"},"score":0,"creation_date":1508148272,"post_id":46727175,"comment_id":80480584,"body_markdown":"Not sure I&#39;ve fully understand the first part of your question - are you saying you want to have a class without a package name explicitly specified, i.e. in the default package? Maven&#39;s folder structure is pretty standard - not sure why you wouldn&#39;t want to use this and it&#39;s outside the realms of anything I&#39;ve tried before but here&#39;s some more info here if it helps: https://maven.apache.org/guides/mini/guide-using-one-source-directory.html. Re: Second part of your question I&#39;ve added some steps to run a class that *ought* to work, although on my setup they didn&#39;t (possibly a Firewall issue).","body":"Not sure I&#39;ve fully understand the first part of your question - are you saying you want to have a class without a package name explicitly specified, i.e. in the default package? Maven&#39;s folder structure is pretty standard - not sure why you wouldn&#39;t want to use this and it&#39;s outside the realms of anything I&#39;ve tried before but here&#39;s some more info here if it helps: <a href=\"https://maven.apache.org/guides/mini/guide-using-one-source-directory.html\" rel=\"nofollow noreferrer\">maven.apache.org/guides/mini/&hellip;</a>. Re: Second part of your question I&#39;ve added some steps to run a class that <i>ought</i> to work, although on my setup they didn&#39;t (possibly a Firewall issue)."},{"owner":{"account_id":2322056,"reputation":2898,"user_id":2037517,"accept_rate":41,"display_name":"dashman"},"score":0,"creation_date":1508190432,"post_id":46727175,"comment_id":80505116,"body_markdown":"Problem is that I&#39;ve got some legacy projects and they don&#39;t have a project name - i know right. I&#39;ve decided to stick with Eclipse for now - but I appreciate your detailed response - maybe for a new project.","body":"Problem is that I&#39;ve got some legacy projects and they don&#39;t have a project name - i know right. I&#39;ve decided to stick with Eclipse for now - but I appreciate your detailed response - maybe for a new project."},{"owner":{"account_id":1062360,"reputation":37721,"user_id":1063716,"accept_rate":94,"display_name":"Steve Chambers"},"score":2,"creation_date":1508231341,"post_id":46727175,"comment_id":80519237,"body_markdown":"Agreed - I&#39;d personally stick with Eclipse or IntelliJ. At present, VS Code for Java doesn&#39;t really seem to be mature enough for serious Java development, although that may change...","body":"Agreed - I&#39;d personally stick with Eclipse or IntelliJ. At present, VS Code for Java doesn&#39;t really seem to be mature enough for serious Java development, although that may change..."},{"owner":{"account_id":4550581,"reputation":4343,"user_id":3695939,"accept_rate":69,"display_name":"moondaisy"},"score":1,"creation_date":1515863687,"post_id":46727175,"comment_id":83466909,"body_markdown":"It should be `&quot;label&quot;` instead of `&quot;taskName&quot;`","body":"It should be <code>&quot;label&quot;</code> instead of <code>&quot;taskName&quot;</code>"},{"owner":{"account_id":501769,"reputation":9256,"user_id":1022707,"accept_rate":63,"display_name":"clankill3r"},"score":0,"creation_date":1526221353,"post_id":46727175,"comment_id":87649954,"body_markdown":"What changes are needed to make a jar file?","body":"What changes are needed to make a jar file?"},{"owner":{"account_id":1062360,"reputation":37721,"user_id":1063716,"accept_rate":94,"display_name":"Steve Chambers"},"score":0,"creation_date":1526226094,"post_id":46727175,"comment_id":87651340,"body_markdown":"@clankill3r You&#39;d need to invoke the &quot;verify&quot; task.","body":"@clankill3r You&#39;d need to invoke the &quot;verify&quot; task."},{"owner":{"account_id":1152709,"reputation":9229,"user_id":1134080,"accept_rate":68,"display_name":"ADTC"},"score":17,"creation_date":1533840085,"post_id":46727175,"comment_id":90506420,"body_markdown":"**Easier GUI version of step 3:** Open VSCode on the empty folder where you want to create the project. Right-click the empty space in Explorer pane (in VSCode sidebar) and click &#39;Generate from Maven Archetype&#39;, then click Select Destination (on the same empty folder). Select &#39;maven-archetype-quickstart&#39;. A terminal will open with VSCode and after downloading some updates, Maven will prompt for the groupId, artifactId and Java package name. Enter that info, and you&#39;re done! (Skip step 4.)","body":"<b>Easier GUI version of step 3:</b> Open VSCode on the empty folder where you want to create the project. Right-click the empty space in Explorer pane (in VSCode sidebar) and click &#39;Generate from Maven Archetype&#39;, then click Select Destination (on the same empty folder). Select &#39;maven-archetype-quickstart&#39;. A terminal will open with VSCode and after downloading some updates, Maven will prompt for the groupId, artifactId and Java package name. Enter that info, and you&#39;re done! (Skip step 4.)"}],"tags":[],"owner":{"account_id":1062360,"reputation":37721,"user_id":1063716,"accept_rate":94,"display_name":"Steve Chambers"},"comment_count":8,"down_vote_count":0,"up_vote_count":132,"is_accepted":true,"score":132,"last_activity_date":1667312257,"creation_date":1507888365,"answer_id":46727175,"question_id":46671308,"body_markdown":"Here is a complete list of steps - you may not need steps 1-3 but am including them for completeness:-\r\n\r\n 1. [Download VS Code](https://code.visualstudio.com/download) and [Apache Maven](https://maven.apache.org/download.cgi) and install both.\r\n 2. Install the Visual Studio extension pack for Java - e.g. by pasting this URL into a web browser: `vscode:extension/vscjava.vscode-java-pack` and then clicking on the green Install button after it opens in VS Code.\r\n 3. **NOTE: See the comment from ADTC for an &quot;Easier GUI version of step 3...(Skip step 4).&quot;** If necessary, the Maven quick start archetype could be used to generate a new Maven project in an appropriate local folder: `mvn archetype:generate -DgroupId=`***com.companyname.appname***` -DartifactId=`***appname***` -DarchetypeArtifactId=maven-archetype-quickstart -DinteractiveMode=false`. This will create an ***appname*** folder with Maven&#39;s [Standard Directory Layout](https://maven.apache.org/guides/introduction/introduction-to-the-standard-directory-layout.html) (i.e. `src/main/java/com/companyname/appname` and `src/main/test/com/companyname/appname` to begin with and a sample &quot;Hello World!&quot; Java file named ***appname***`.java` and associated unit test named ***appname***`Test.java`).*\r\n 4. Open the Maven project folder in VS Code via File menu -&gt; Open Folder... and select the ***appname*** folder.\r\n 5. Open the Command Palette (via the View menu or by right-clicking) and type in and select `Tasks: Configure task` then select `Create tasks.json from template`.\r\n 6. Choose maven (&quot;Executes common Maven commands&quot;). This creates a tasks.json file with &quot;verify&quot; and &quot;test&quot; tasks. More can be added corresponding to other [Maven Build Lifecycle](https://maven.apache.org/guides/introduction/introduction-to-the-lifecycle.html) phases. To specifically address your requirement for classes to be built without a JAR file, a &quot;compile&quot; task would need to be added as follows:\r\n\r\n&lt;!-- language: json --&gt;\r\n        {\r\n            &quot;label&quot;: &quot;compile&quot;,\r\n            &quot;type&quot;: &quot;shell&quot;,\r\n            &quot;command&quot;: &quot;mvn -B compile&quot;,\r\n            &quot;group&quot;: &quot;build&quot;\r\n        },\r\n\r\n\r\n 7. Save the above changes and then open the Command Palette and select &quot;Tasks: Run Build Task&quot; then pick &quot;compile&quot; and then &quot;Continue without scanning the task output&quot;. This invokes Maven, which creates a `target` folder at the same level as the `src` folder with the compiled class files in the `target\\classes` folder.\r\n\r\n---\r\n\r\n**Addendum: How to run/debug a class**\r\n\r\nFollowing a question in the comments, here are some steps for running/debugging:-\r\n\r\n 1. Show the Debug view if it is not already shown (via View menu - Debug or &lt;kbd&gt;Ctrl&lt;/kbd&gt;&lt;kbd&gt;Shift&lt;/kbd&gt;&lt;kbd&gt;D&lt;/kbd&gt;).\r\n 2. Click on the green arrow in the Debug view and select &quot;Java&quot;.\r\n 3. Assuming it hasn&#39;t already been created, a message &quot;launch.json is needed to start the debugger. Do you want to create it now?&quot; will appear - select &quot;Yes&quot; and then select &quot;Java&quot; again.\r\n 4. Enter the fully qualified name of the main class (e.g. ***com.companyname.appname.App***) in the value for &quot;mainClass&quot; and save the file.\r\n 5. Click on the green arrow in the Debug view again.","title":"How to create a Java / Maven project that works in Visual Studio Code?","body":"<p>Here is a complete list of steps - you may not need steps 1-3 but am including them for completeness:-</p>\n<ol>\n<li><a href=\"https://code.visualstudio.com/download\" rel=\"nofollow noreferrer\">Download VS Code</a> and <a href=\"https://maven.apache.org/download.cgi\" rel=\"nofollow noreferrer\">Apache Maven</a> and install both.</li>\n<li>Install the Visual Studio extension pack for Java - e.g. by pasting this URL into a web browser: <code>vscode:extension/vscjava.vscode-java-pack</code> and then clicking on the green Install button after it opens in VS Code.</li>\n<li><strong>NOTE: See the comment from ADTC for an &quot;Easier GUI version of step 3...(Skip step 4).&quot;</strong> If necessary, the Maven quick start archetype could be used to generate a new Maven project in an appropriate local folder: <code>mvn archetype:generate -DgroupId=</code><em><strong>com.companyname.appname</strong></em><code> -DartifactId=</code><em><strong>appname</strong></em><code> -DarchetypeArtifactId=maven-archetype-quickstart -DinteractiveMode=false</code>. This will create an <em><strong>appname</strong></em> folder with Maven's <a href=\"https://maven.apache.org/guides/introduction/introduction-to-the-standard-directory-layout.html\" rel=\"nofollow noreferrer\">Standard Directory Layout</a> (i.e. <code>src/main/java/com/companyname/appname</code> and <code>src/main/test/com/companyname/appname</code> to begin with and a sample &quot;Hello World!&quot; Java file named <em><strong>appname</strong></em><code>.java</code> and associated unit test named <em><strong>appname</strong></em><code>Test.java</code>).*</li>\n<li>Open the Maven project folder in VS Code via File menu -&gt; Open Folder... and select the <em><strong>appname</strong></em> folder.</li>\n<li>Open the Command Palette (via the View menu or by right-clicking) and type in and select <code>Tasks: Configure task</code> then select <code>Create tasks.json from template</code>.</li>\n<li>Choose maven (&quot;Executes common Maven commands&quot;). This creates a tasks.json file with &quot;verify&quot; and &quot;test&quot; tasks. More can be added corresponding to other <a href=\"https://maven.apache.org/guides/introduction/introduction-to-the-lifecycle.html\" rel=\"nofollow noreferrer\">Maven Build Lifecycle</a> phases. To specifically address your requirement for classes to be built without a JAR file, a &quot;compile&quot; task would need to be added as follows:</li>\n</ol>\n<pre class=\"lang-json prettyprint-override\"><code>    {\n        &quot;label&quot;: &quot;compile&quot;,\n        &quot;type&quot;: &quot;shell&quot;,\n        &quot;command&quot;: &quot;mvn -B compile&quot;,\n        &quot;group&quot;: &quot;build&quot;\n    },\n</code></pre>\n<ol start=\"7\">\n<li>Save the above changes and then open the Command Palette and select &quot;Tasks: Run Build Task&quot; then pick &quot;compile&quot; and then &quot;Continue without scanning the task output&quot;. This invokes Maven, which creates a <code>target</code> folder at the same level as the <code>src</code> folder with the compiled class files in the <code>target\\classes</code> folder.</li>\n</ol>\n<hr />\n<p><strong>Addendum: How to run/debug a class</strong></p>\n<p>Following a question in the comments, here are some steps for running/debugging:-</p>\n<ol>\n<li>Show the Debug view if it is not already shown (via View menu - Debug or <kbd>Ctrl</kbd><kbd>Shift</kbd><kbd>D</kbd>).</li>\n<li>Click on the green arrow in the Debug view and select &quot;Java&quot;.</li>\n<li>Assuming it hasn't already been created, a message &quot;launch.json is needed to start the debugger. Do you want to create it now?&quot; will appear - select &quot;Yes&quot; and then select &quot;Java&quot; again.</li>\n<li>Enter the fully qualified name of the main class (e.g. <em><strong>com.companyname.appname.App</strong></em>) in the value for &quot;mainClass&quot; and save the file.</li>\n<li>Click on the green arrow in the Debug view again.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":14718942,"reputation":413,"user_id":10630142,"display_name":"53c"},"comment_count":0,"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1551299772,"creation_date":1551299772,"answer_id":54914069,"question_id":46671308,"body_markdown":"An alternative way is to install the `Maven for Java` plugin and create a maven project within Visual Studio. [The steps are described in the official documentation][1]:\r\n\r\n 1. From the Command Palette (Crtl+Shift+P), select Maven: Generate from Maven Archetype and follow the instructions, or\r\n 2. Right-click on a folder and select Generate from Maven Archetype.\r\n\r\n\r\n  [1]: https://code.visualstudio.com/docs/java/java-project#_generate-project-from-maven-archetype","title":"How to create a Java / Maven project that works in Visual Studio Code?","body":"<p>An alternative way is to install the <code>Maven for Java</code> plugin and create a maven project within Visual Studio. <a href=\"https://code.visualstudio.com/docs/java/java-project#_generate-project-from-maven-archetype\" rel=\"noreferrer\">The steps are described in the official documentation</a>:</p>\n\n<ol>\n<li>From the Command Palette (Crtl+Shift+P), select Maven: Generate from Maven Archetype and follow the instructions, or</li>\n<li>Right-click on a folder and select Generate from Maven Archetype.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":9135278,"reputation":882,"user_id":6795180,"display_name":"Chidozie Nnachor"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1563278248,"creation_date":1563278248,"answer_id":57056723,"question_id":46671308,"body_markdown":"This is not a particularly good answer as it explains how to run your java code n VS Code and not necessarily a `Maven` project, but it worked for me because I could not get around to doing the manual configuration myself. I decided to use this method instead since it is easier and faster.\r\n\r\nInstall VSCode (and for windows, set your environment variables), then install `vscode:extension/vscjava.vscode-java-pack` as detailed above, and then install the [code runner][1] extension pack, which basically sets up the whole process (in the background) as explained in the accepted answer above and then provides a play button to run your java code when you&#39;re ready.\r\n\r\nThis was all explained in this [video][2].\r\n\r\nAgain, this is not the best solution, but if you want to cut to the chase, you may find this answer useful.\r\n\r\n\r\n  [1]: https://marketplace.visualstudio.com/items?itemName=formulahendry.code-runner\r\n  [2]: https://www.youtube.com/watch?v=_N_T2e2FPBQ","title":"How to create a Java / Maven project that works in Visual Studio Code?","body":"<p>This is not a particularly good answer as it explains how to run your java code n VS Code and not necessarily a <code>Maven</code> project, but it worked for me because I could not get around to doing the manual configuration myself. I decided to use this method instead since it is easier and faster.</p>\n\n<p>Install VSCode (and for windows, set your environment variables), then install <code>vscode:extension/vscjava.vscode-java-pack</code> as detailed above, and then install the <a href=\"https://marketplace.visualstudio.com/items?itemName=formulahendry.code-runner\" rel=\"nofollow noreferrer\">code runner</a> extension pack, which basically sets up the whole process (in the background) as explained in the accepted answer above and then provides a play button to run your java code when you're ready.</p>\n\n<p>This was all explained in this <a href=\"https://www.youtube.com/watch?v=_N_T2e2FPBQ\" rel=\"nofollow noreferrer\">video</a>.</p>\n\n<p>Again, this is not the best solution, but if you want to cut to the chase, you may find this answer useful.</p>\n"},{"tags":[],"owner":{"account_id":3579447,"reputation":576,"user_id":2988000,"display_name":"Sundar Rajan"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1564723728,"creation_date":1564723728,"answer_id":57320415,"question_id":46671308,"body_markdown":"I surprise no one had mentioned this possible easy approach in visual studio code.\r\n\r\nInstall VS Code and Apache maven ( just as mentioned by @Steve Chambers)\r\n\r\nAfter installing this extension vscode:extension/vscjava.vscode-java-pack\r\n\r\nIn the java overview page , there is a an option which reads &#39;Create Maven Project&#39; which further takes to a simple wizard to generate maven project.\r\n\r\nIts pretty quick which is intutitive enough, even newbies can very well start with a Maven project.","title":"How to create a Java / Maven project that works in Visual Studio Code?","body":"<p>I surprise no one had mentioned this possible easy approach in visual studio code.</p>\n\n<p>Install VS Code and Apache maven ( just as mentioned by @Steve Chambers)</p>\n\n<p>After installing this extension vscode:extension/vscjava.vscode-java-pack</p>\n\n<p>In the java overview page , there is a an option which reads 'Create Maven Project' which further takes to a simple wizard to generate maven project.</p>\n\n<p>Its pretty quick which is intutitive enough, even newbies can very well start with a Maven project.</p>\n"},{"tags":[],"owner":{"account_id":4276117,"reputation":357,"user_id":3496661,"display_name":"Amar T"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1648643983,"creation_date":1648643983,"answer_id":71677413,"question_id":46671308,"body_markdown":" - Install the VSCode for mac\r\n- Install below plugin in VSCode\r\n\r\n&gt; Maven for Java\r\n\r\n - Get the JDK(open/licensed)\r\n- cmd + shift + p &amp; create maven project\r\n\r\n","title":"How to create a Java / Maven project that works in Visual Studio Code?","body":"<ul>\n<li>Install the VSCode for mac</li>\n<li>Install below plugin in VSCode</li>\n</ul>\n<blockquote>\n<p>Maven for Java</p>\n</blockquote>\n<ul>\n<li>Get the JDK(open/licensed)</li>\n<li>cmd + shift + p &amp; create maven project</li>\n</ul>\n"}],"owner":{"account_id":2322056,"reputation":2898,"user_id":2037517,"accept_rate":41,"display_name":"dashman"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":195295,"favorite_count":0,"down_vote_count":0,"up_vote_count":87,"accepted_answer_id":46727175,"answer_count":5,"score":87,"last_activity_date":1667312257,"creation_date":1507651968,"question_id":46671308,"body_markdown":"I&#39;m trying to create a maven project - so that I can compile Java files in the root folder and output the class files in another folder.\r\n\r\nI&#39;ve already downloaded mvn.\r\n\r\nI&#39;m trying to integrate with VS Code. My goal is to edit the java files in VS Code and on saving the compiler saves the .class file in the appropriate output folder.\r\n\r\nThat&#39;s all - no war or jar files.\r\n\r\nAny help?\r\n","title":"How to create a Java / Maven project that works in Visual Studio Code?","body":"<p>I'm trying to create a maven project - so that I can compile Java files in the root folder and output the class files in another folder.</p>\n\n<p>I've already downloaded mvn.</p>\n\n<p>I'm trying to integrate with VS Code. My goal is to edit the java files in VS Code and on saving the compiler saves the .class file in the appropriate output folder.</p>\n\n<p>That's all - no war or jar files.</p>\n\n<p>Any help?</p>\n"},{"tags":["java","android"],"answers":[{"comments":[{"owner":{"account_id":23305266,"reputation":11,"user_id":17385314,"display_name":"عزيز لبيض"},"score":0,"creation_date":1667315614,"post_id":74277260,"comment_id":131136106,"body_markdown":"@CommonsWarze  Thank u, you got me that&#39;s what I want get durable access to the content **URI** . I have deleted  `intent.addFlags(Intent.FLAG_GRANT_PERSISTABLE_URI_PERMISSION);`                .But I don&#39;t understand this part **call takePersistableUriPermissions() on a ContentResolver** Can you write the code for it please PS: onActivityResult() is request was for ACTION_OPEN_DOCUMENT","body":"@CommonsWarze  Thank u, you got me that&#39;s what I want get durable access to the content <b>URI</b> . I have deleted  <code>intent.addFlags(Intent.FLAG_GRANT_PERSISTABLE_URI_PERMISSION&zwnj;&#8203;);</code>                .But I don&#39;t understand this part <b>call takePersistableUriPermissions() on a ContentResolver</b> Can you write the code for it please PS: onActivityResult() is request was for ACTION_OPEN_DOCUMENT"},{"owner":{"account_id":23305266,"reputation":11,"user_id":17385314,"display_name":"عزيز لبيض"},"score":0,"creation_date":1667316622,"post_id":74277260,"comment_id":131136464,"body_markdown":"Thank you, I found the code `requireContext().getContentResolver().takePersistableUriPermission(uri, Intent.FLAG_GRANT_READ_URI_PERMISSION |\n          Intent.FLAG_GRANT_WRITE_URI_PERMISSION);`","body":"Thank you, I found the code <code>requireContext().getContentResolver().takePersistableUriPerm&zwnj;&#8203;ission(uri, Intent.FLAG_GRANT_READ_URI_PERMISSION |           Intent.FLAG_GRANT_WRITE_URI_PERMISSION);</code>"}],"tags":[],"owner":{"account_id":39846,"reputation":991173,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1667311949,"creation_date":1667311949,"answer_id":74277260,"question_id":74276873,"body_markdown":"Remove:\r\n\r\n```java\r\nintent.addFlags(Intent.FLAG_GRANT_PERSISTABLE_URI_PERMISSION);\r\n```\r\n\r\nAnd, in your `onActivityResult()`, if the request was for `ACTION_OPEN_DOCUMENT`, call `takePersistableUriPermissions()` on a `ContentResolver`. That&#39;s how you get durable access to the content, and without that [you lose access after a short while](https://commonsware.com/blog/2020/08/08/uri-access-lifetime-still-shorter-than-you-might-think.html).","title":"stoped android pdf view When you restart the phone","body":"<p>Remove:</p>\n<pre class=\"lang-java prettyprint-override\"><code>intent.addFlags(Intent.FLAG_GRANT_PERSISTABLE_URI_PERMISSION);\n</code></pre>\n<p>And, in your <code>onActivityResult()</code>, if the request was for <code>ACTION_OPEN_DOCUMENT</code>, call <code>takePersistableUriPermissions()</code> on a <code>ContentResolver</code>. That's how you get durable access to the content, and without that <a href=\"https://commonsware.com/blog/2020/08/08/uri-access-lifetime-still-shorter-than-you-might-think.html\" rel=\"nofollow noreferrer\">you lose access after a short while</a>.</p>\n"}],"owner":{"account_id":23305266,"reputation":11,"user_id":17385314,"display_name":"عزيز لبيض"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":26,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":74277260,"answer_count":1,"score":0,"last_activity_date":1667311949,"creation_date":1667310139,"question_id":74276873,"body_markdown":"I am trying to open pdf files in this code with a library barteksc\r\n\r\nI save a link as a URI in database Then I fetch and open the link in a library barteksc\r\n\r\nThe code works fine, the problem is when I restart the phone the PDF file is not opened It appears that the error in \r\n\r\n```\r\nload pdf error\r\n    java.lang.SecurityException: Permission Denial: opening provider com.android.providers.downloads.DownloadStorageProvider from ProcessRecord{f6420b9 6172:com.azizlabiod.librarypdfpro/u0a218} (pid=6172, uid=10218) requires android.permission.MANAGE_DOCUMENTS or android.permission.MANAGE_DOCUMENTS\r\n```\r\n\r\n\r\n\r\n\r\n**code java**\r\n\r\n\r\n```\r\nfinal int KITKAT_VALUE =1002;\r\nIntent intent;\r\nintent = new Intent();\r\nif (Build.VERSION.SDK_INT &lt; 19){\r\n    intent.setAction(Intent.ACTION_GET_CONTENT);\r\n} else {\r\n    intent.setAction(Intent.ACTION_OPEN_DOCUMENT);\r\n    intent.addCategory(Intent.CATEGORY_OPENABLE);\r\n    intent.addFlags(Intent.FLAG_GRANT_PERSISTABLE_URI_PERMISSION);\r\n}\r\n\r\nintent.addFlags(Intent.FLAG_GRANT_READ_URI_PERMISSION |  Intent.FLAG_GRANT_WRITE_URI_PERMISSION  );\r\nintent.setType(&quot;application/pdf&quot;);\r\ntry {\r\n\r\n    startActivityForResult(intent, KITKAT_VALUE);\r\n} catch (ActivityNotFoundException e) {\r\n    //alert user that file manager not working\r\n    Toast.makeText(getApplicationContext(), R.string.toast_pick_file_error, Toast.LENGTH_SHORT).show();\r\n}\r\n\r\n\r\n\r\n\r\n@Override\r\nprotected void onActivityResult(int requestCode, int resultCode, @Nullable Intent resultData) {\r\n    super.onActivityResult(requestCode, resultCode, resultData);\r\n    if (requestCode == 1002\r\n            &amp;&amp; resultCode == Activity.RESULT_OK) {\r\n        Uri uri ;\r\n\r\n        if (resultData != null) {\r\n            uri=resultData.getData();\r\n           String name= getFileName(uri);\r\n\r\n            db.insertRowAdmins(name,uri.toString(),R.drawable.book,23, db.getNameTableId().get(positionTab));\r\n            setNotify();\r\n\r\n        }\r\n    }\r\n    }\r\n```\r\n\r\n\r\n\r\n**code manifest**\r\n\r\n\r\n```\r\n&lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot;/&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.MANAGE_DOCUMENTS&quot;\r\n        tools:ignore=&quot;ProtectedPermissions&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.MANAGE_EXTERNAL_STORAGE&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.WAKE_LOCK&quot; /&gt;\r\n\r\n\r\n    &lt;application\r\n        android:allowBackup=&quot;true&quot;\r\n        android:dataExtractionRules=&quot;@xml/data_extraction_rules&quot;\r\n        android:fullBackupContent=&quot;@xml/backup_rules&quot;\r\n        android:icon=&quot;@mipmap/ic_launcher&quot;\r\n        android:label=&quot;@string/app_name&quot;\r\n        android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\r\n        android:supportsRtl=&quot;true&quot;\r\n        android:theme=&quot;@style/Theme.LibraryPDFPro&quot;\r\n        android:requestLegacyExternalStorage=&quot;true&quot;\r\n        android:usesCleartextTraffic=&quot;true&quot;\r\n        tools:targetApi=&quot;31&quot;&gt;\r\n        &lt;activity\r\n            android:name=&quot;.MainActivity&quot;\r\n            android:exported=&quot;true&quot;&gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n\r\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n        &lt;/activity&gt;\r\n        &lt;activity\r\n            android:name=&quot;.ShowBook&quot;\r\n            android:exported=&quot;false&quot; /&gt;\r\n        &lt;activity\r\n            android:name=&quot;.ShowDiatel&quot;\r\n            android:exported=&quot;false&quot; /&gt;\r\n\r\n    &lt;/application&gt;\r\n\r\n&lt;/manifest&gt;\r\n```\r\n**probleme**\r\n\r\n\r\n```\r\n/PDFView: load pdf error\r\n    java.lang.SecurityException: Permission Denial: opening provider com.android.providers.downloads.DownloadStorageProvider from ProcessRecord{f6420b9 6172:com.azizlabiod.librarypdfpro/u0a218} (pid=6172, uid=10218) requires android.permission.MANAGE_DOCUMENTS or android.permission.MANAGE_DOCUMENTS\r\n        at android.os.Parcel.readException(Parcel.java:1599)\r\n        at android.os.Parcel.readException(Parcel.java:1552)\r\n        at android.app.ActivityManagerProxy.getContentProvider(ActivityManagerNative.java:3776)\r\n        at android.app.ActivityThread.acquireProvider(ActivityThread.java:5034)\r\n        at android.app.ContextImpl$ApplicationContentResolver.acquireUnstableProvider(ContextImpl.java:2044)\r\n        at android.content.ContentResolver.acquireUnstableProvider(ContentResolver.java:1517)\r\n        at android.content.ContentResolver.openTypedAssetFileDescriptor(ContentResolver.java:1121)\r\n        at android.content.ContentResolver.openAssetFileDescriptor(ContentResolver.java:958)\r\n        at android.content.ContentResolver.openFileDescriptor(ContentResolver.java:811)\r\n        at android.content.ContentResolver.openFileDescriptor(ContentResolver.java:765)\r\n        at com.github.barteksc.pdfviewer.source.UriSource.createDocument(UriSource.java:37)\r\n        at com.github.barteksc.pdfviewer.DecodingAsyncTask.doInBackground(DecodingAsyncTask.java:53)\r\n        at com.github.barteksc.pdfviewer.DecodingAsyncTask.doInBackground(DecodingAsyncTask.java:27)\r\n        at android.os.AsyncTask$2.call(AsyncTask.java:295)\r\n        at java.util.concurrent.FutureTask.run(FutureTask.java:237)\r\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1113)\r\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:588)\r\n        at java.lang.Thread.run(Thread.java:818)\r\n\r\n```\r\n","title":"stoped android pdf view When you restart the phone","body":"<p>I am trying to open pdf files in this code with a library barteksc</p>\n<p>I save a link as a URI in database Then I fetch and open the link in a library barteksc</p>\n<p>The code works fine, the problem is when I restart the phone the PDF file is not opened It appears that the error in</p>\n<pre><code>load pdf error\n    java.lang.SecurityException: Permission Denial: opening provider com.android.providers.downloads.DownloadStorageProvider from ProcessRecord{f6420b9 6172:com.azizlabiod.librarypdfpro/u0a218} (pid=6172, uid=10218) requires android.permission.MANAGE_DOCUMENTS or android.permission.MANAGE_DOCUMENTS\n</code></pre>\n<p><strong>code java</strong></p>\n<pre><code>final int KITKAT_VALUE =1002;\nIntent intent;\nintent = new Intent();\nif (Build.VERSION.SDK_INT &lt; 19){\n    intent.setAction(Intent.ACTION_GET_CONTENT);\n} else {\n    intent.setAction(Intent.ACTION_OPEN_DOCUMENT);\n    intent.addCategory(Intent.CATEGORY_OPENABLE);\n    intent.addFlags(Intent.FLAG_GRANT_PERSISTABLE_URI_PERMISSION);\n}\n\nintent.addFlags(Intent.FLAG_GRANT_READ_URI_PERMISSION |  Intent.FLAG_GRANT_WRITE_URI_PERMISSION  );\nintent.setType(&quot;application/pdf&quot;);\ntry {\n\n    startActivityForResult(intent, KITKAT_VALUE);\n} catch (ActivityNotFoundException e) {\n    //alert user that file manager not working\n    Toast.makeText(getApplicationContext(), R.string.toast_pick_file_error, Toast.LENGTH_SHORT).show();\n}\n\n\n\n\n@Override\nprotected void onActivityResult(int requestCode, int resultCode, @Nullable Intent resultData) {\n    super.onActivityResult(requestCode, resultCode, resultData);\n    if (requestCode == 1002\n            &amp;&amp; resultCode == Activity.RESULT_OK) {\n        Uri uri ;\n\n        if (resultData != null) {\n            uri=resultData.getData();\n           String name= getFileName(uri);\n\n            db.insertRowAdmins(name,uri.toString(),R.drawable.book,23, db.getNameTableId().get(positionTab));\n            setNotify();\n\n        }\n    }\n    }\n</code></pre>\n<p><strong>code manifest</strong></p>\n<pre><code>&lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot;/&gt;\n    &lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.MANAGE_DOCUMENTS&quot;\n        tools:ignore=&quot;ProtectedPermissions&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.MANAGE_EXTERNAL_STORAGE&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.WAKE_LOCK&quot; /&gt;\n\n\n    &lt;application\n        android:allowBackup=&quot;true&quot;\n        android:dataExtractionRules=&quot;@xml/data_extraction_rules&quot;\n        android:fullBackupContent=&quot;@xml/backup_rules&quot;\n        android:icon=&quot;@mipmap/ic_launcher&quot;\n        android:label=&quot;@string/app_name&quot;\n        android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\n        android:supportsRtl=&quot;true&quot;\n        android:theme=&quot;@style/Theme.LibraryPDFPro&quot;\n        android:requestLegacyExternalStorage=&quot;true&quot;\n        android:usesCleartextTraffic=&quot;true&quot;\n        tools:targetApi=&quot;31&quot;&gt;\n        &lt;activity\n            android:name=&quot;.MainActivity&quot;\n            android:exported=&quot;true&quot;&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\n\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\n            &lt;/intent-filter&gt;\n        &lt;/activity&gt;\n        &lt;activity\n            android:name=&quot;.ShowBook&quot;\n            android:exported=&quot;false&quot; /&gt;\n        &lt;activity\n            android:name=&quot;.ShowDiatel&quot;\n            android:exported=&quot;false&quot; /&gt;\n\n    &lt;/application&gt;\n\n&lt;/manifest&gt;\n</code></pre>\n<p><strong>probleme</strong></p>\n<pre><code>/PDFView: load pdf error\n    java.lang.SecurityException: Permission Denial: opening provider com.android.providers.downloads.DownloadStorageProvider from ProcessRecord{f6420b9 6172:com.azizlabiod.librarypdfpro/u0a218} (pid=6172, uid=10218) requires android.permission.MANAGE_DOCUMENTS or android.permission.MANAGE_DOCUMENTS\n        at android.os.Parcel.readException(Parcel.java:1599)\n        at android.os.Parcel.readException(Parcel.java:1552)\n        at android.app.ActivityManagerProxy.getContentProvider(ActivityManagerNative.java:3776)\n        at android.app.ActivityThread.acquireProvider(ActivityThread.java:5034)\n        at android.app.ContextImpl$ApplicationContentResolver.acquireUnstableProvider(ContextImpl.java:2044)\n        at android.content.ContentResolver.acquireUnstableProvider(ContentResolver.java:1517)\n        at android.content.ContentResolver.openTypedAssetFileDescriptor(ContentResolver.java:1121)\n        at android.content.ContentResolver.openAssetFileDescriptor(ContentResolver.java:958)\n        at android.content.ContentResolver.openFileDescriptor(ContentResolver.java:811)\n        at android.content.ContentResolver.openFileDescriptor(ContentResolver.java:765)\n        at com.github.barteksc.pdfviewer.source.UriSource.createDocument(UriSource.java:37)\n        at com.github.barteksc.pdfviewer.DecodingAsyncTask.doInBackground(DecodingAsyncTask.java:53)\n        at com.github.barteksc.pdfviewer.DecodingAsyncTask.doInBackground(DecodingAsyncTask.java:27)\n        at android.os.AsyncTask$2.call(AsyncTask.java:295)\n        at java.util.concurrent.FutureTask.run(FutureTask.java:237)\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1113)\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:588)\n        at java.lang.Thread.run(Thread.java:818)\n\n</code></pre>\n"},{"tags":["java","java-native-interface","jna","jnr"],"comments":[{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":2,"creation_date":1667173426,"post_id":74257395,"comment_id":131101985,"body_markdown":"Out of curiosity, what is the scenario that creates this problem? What does this &quot; which is not in the text section&quot; mean?","body":"Out of curiosity, what is the scenario that creates this problem? What does this &quot; which is not in the text section&quot; mean?"},{"owner":{"account_id":6827766,"reputation":123,"user_id":5252930,"display_name":"Jerome Ibanes"},"score":0,"creation_date":1667179695,"post_id":74257395,"comment_id":131102759,"body_markdown":"@matt I do not have the source code of the library, and there is a function I need to call from java. Unfortunately I know the function&#39;s offset (from the start of the library, but there is not .text entry for it, so I can&#39;t simply invoke it by name. I suppose it would be workable if I knew which address the libaaa library is loaded.","body":"@matt I do not have the source code of the library, and there is a function I need to call from java. Unfortunately I know the function&#39;s offset (from the start of the library, but there is not .text entry for it, so I can&#39;t simply invoke it by name. I suppose it would be workable if I knew which address the libaaa library is loaded."},{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":0,"creation_date":1667210648,"post_id":74257395,"comment_id":131108455,"body_markdown":"Can you access the function from c? You could check the [Unsafe](https://github.com/AdoptOpenJDK/openjdk-jdk11/blob/master/src/java.base/share/classes/jdk/internal/misc/Unsafe.java) class, it lets you access native features and addresses.","body":"Can you access the function from c? You could check the <a href=\"https://github.com/AdoptOpenJDK/openjdk-jdk11/blob/master/src/java.base/share/classes/jdk/internal/misc/Unsafe.java\" rel=\"nofollow noreferrer\">Unsafe</a> class, it lets you access native features and addresses."},{"owner":{"account_id":6827766,"reputation":123,"user_id":5252930,"display_name":"Jerome Ibanes"},"score":0,"creation_date":1667227412,"post_id":74257395,"comment_id":131114303,"body_markdown":"From C I just use the offset from where the library is loaded.","body":"From C I just use the offset from where the library is loaded."},{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":0,"creation_date":1667303067,"post_id":74257395,"comment_id":131131645,"body_markdown":"If you can do it in C it seems reasonable that you could write a small wrapper that is the same function, but with a name so you can access it.","body":"If you can do it in C it seems reasonable that you could write a small wrapper that is the same function, but with a name so you can access it."},{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":0,"creation_date":1667306057,"post_id":74257395,"comment_id":131132578,"body_markdown":"Why don&#39;t you get a pointer for obj1 and offset from that?","body":"Why don&#39;t you get a pointer for obj1 and offset from that?"}],"answers":[{"comments":[{"owner":{"account_id":6827766,"reputation":123,"user_id":5252930,"display_name":"Jerome Ibanes"},"score":0,"creation_date":1667227811,"post_id":74264462,"comment_id":131114463,"body_markdown":"I tried something along those lines, the closest I got was to get the address of the CLibrary object libaaa; but that&#39;s not the address of where the library is loaded, just the object itself.","body":"I tried something along those lines, the closest I got was to get the address of the CLibrary object libaaa; but that&#39;s not the address of where the library is loaded, just the object itself."},{"owner":{"account_id":2996877,"reputation":2143,"user_id":2543253,"display_name":"user2543253"},"score":0,"creation_date":1667229465,"post_id":74264462,"comment_id":131115105,"body_markdown":"From your question it sounded like &quot;obj1&quot; was in the symbol table (so you could create a JNA `Function` for it), and &quot;obj2&quot; was at a fixed offset from that. If that is not the case. I have no other ideas","body":"From your question it sounded like &quot;obj1&quot; was in the symbol table (so you could create a JNA <code>Function</code> for it), and &quot;obj2&quot; was at a fixed offset from that. If that is not the case. I have no other ideas"},{"owner":{"account_id":6827766,"reputation":123,"user_id":5252930,"display_name":"Jerome Ibanes"},"score":0,"creation_date":1667244720,"post_id":74264462,"comment_id":131120134,"body_markdown":"you are right, obj1 is in the symbol table, but not obj2; but I know the offset of obj2 compared to obj1, that&#39;s how I can invoke obj2 from C.","body":"you are right, obj1 is in the symbol table, but not obj2; but I know the offset of obj2 compared to obj1, that&#39;s how I can invoke obj2 from C."},{"owner":{"account_id":6827766,"reputation":123,"user_id":5252930,"display_name":"Jerome Ibanes"},"score":0,"creation_date":1667280484,"post_id":74264462,"comment_id":131126044,"body_markdown":"```You can easily get another Pointer/Function at an offset from a given Function. No need for workarounds.```\n\nBut how do I know which address the library is loaded at?","body":"<code>You can easily get another Pointer&#47;Function at an offset from a given Function. No need for workarounds.</code>  But how do I know which address the library is loaded at?"},{"owner":{"account_id":2996877,"reputation":2143,"user_id":2543253,"display_name":"user2543253"},"score":0,"creation_date":1667385056,"post_id":74264462,"comment_id":131152899,"body_markdown":"No idea about the library, but I don&#39;t understand why you need that when you can use the offset from obj1.","body":"No idea about the library, but I don&#39;t understand why you need that when you can use the offset from obj1."}],"tags":[],"owner":{"account_id":2996877,"reputation":2143,"user_id":2543253,"display_name":"user2543253"},"comment_count":5,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667231032,"creation_date":1667224915,"answer_id":74264462,"question_id":74257395,"body_markdown":"IIUC, you could compute the address of your second function, if you had the address of the first function. Is that right?\r\n\r\n&lt;strike&gt;I&#39;ve never tried it with `Function`s but I have a use case where I need to get the address of a `Callback` and what I&#39;m doing to get that is to put it in a dummy `Structure` then read the structure&#39;s raw bytes.&lt;/strike&gt;\r\n\r\nEdit: forget that. It&#39;s only `Callback`s that don&#39;t let you access their address directly. You can easily get another Pointer/Function at an offset from a given Function. No need for workarounds.","title":"How can I call a function from JAVA/JNA if I only know the offset from another function?","body":"<p>IIUC, you could compute the address of your second function, if you had the address of the first function. Is that right?</p>\n<p><strike>I've never tried it with <code>Function</code>s but I have a use case where I need to get the address of a <code>Callback</code> and what I'm doing to get that is to put it in a dummy <code>Structure</code> then read the structure's raw bytes.</strike></p>\n<p>Edit: forget that. It's only <code>Callback</code>s that don't let you access their address directly. You can easily get another Pointer/Function at an offset from a given Function. No need for workarounds.</p>\n"},{"tags":[],"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1667311947,"creation_date":1667311947,"answer_id":74277259,"question_id":74257395,"body_markdown":"It seems like if you get Function obj1,\r\n\r\n    Function obj1 = Function.getFunction(libraryName, functionName);\r\n\r\nThe Function Object *is* a pointer. Then you should be able to get the address of obj1, https://stackoverflow.com/questions/51803909/accessing-jna-pointers-peer-value so you would have the address and you can try to create a function based on that. ","title":"How can I call a function from JAVA/JNA if I only know the offset from another function?","body":"<p>It seems like if you get Function obj1,</p>\n<pre><code>Function obj1 = Function.getFunction(libraryName, functionName);\n</code></pre>\n<p>The Function Object <em>is</em> a pointer. Then you should be able to get the address of obj1, <a href=\"https://stackoverflow.com/questions/51803909/accessing-jna-pointers-peer-value\">Accessing JNA Pointer&#39;s peer value</a> so you would have the address and you can try to create a function based on that.</p>\n"}],"owner":{"account_id":6827766,"reputation":123,"user_id":5252930,"display_name":"Jerome Ibanes"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":238,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74277259,"answer_count":2,"score":1,"last_activity_date":1667311947,"creation_date":1667171544,"question_id":74257395,"body_markdown":"I know that in libaaa.so there is an exported (the symbol is in the text/code section) function obj1() at address 0x12345 from the start of the library.\r\n\r\n```CLibrary libaaa = (CLibrary)Native.load(&quot;aaa&quot;, CLibrary.class);```\r\n\r\nI want to invoke a function obj2() which I know to be at address 0x12444 from the start of the library OR the address of (obj1() + 0xff) (0x12444-0x12345=0xff)\r\n\r\nThe obj2() symbol is NOT in the text/code section, so I can only invoke it by its address (which I know.) I understand that I could use ```Function.getFunction(new Pointer(funcAddr), 0, &quot;utf8&quot;);``` if I had the function&#39;s address, but I do not know what address JNA will load the library.\r\n\r\nI can easily access the obj1() function (aaa.obj1()) that&#39;s trivial, but how could I access the aaa.obj2() function which is not in the text section, and thereby only referable from its offset in the library (or offset from another function in the text/code section.)\r\n\r\nThank you.","title":"How can I call a function from JAVA/JNA if I only know the offset from another function?","body":"<p>I know that in libaaa.so there is an exported (the symbol is in the text/code section) function obj1() at address 0x12345 from the start of the library.</p>\n<p><code>CLibrary libaaa = (CLibrary)Native.load(&quot;aaa&quot;, CLibrary.class);</code></p>\n<p>I want to invoke a function obj2() which I know to be at address 0x12444 from the start of the library OR the address of (obj1() + 0xff) (0x12444-0x12345=0xff)</p>\n<p>The obj2() symbol is NOT in the text/code section, so I can only invoke it by its address (which I know.) I understand that I could use <code>Function.getFunction(new Pointer(funcAddr), 0, &quot;utf8&quot;);</code> if I had the function's address, but I do not know what address JNA will load the library.</p>\n<p>I can easily access the obj1() function (aaa.obj1()) that's trivial, but how could I access the aaa.obj2() function which is not in the text section, and thereby only referable from its offset in the library (or offset from another function in the text/code section.)</p>\n<p>Thank you.</p>\n"},{"tags":["java","json","jackson","lombok"],"comments":[{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":1,"creation_date":1667311245,"post_id":74276881,"comment_id":131134464,"body_markdown":"What do you mean by that *&quot;The key n1 is printing as object reference.&quot;*. Can show what&#39;s exactly with the Map you&#39;ve created?","body":"What do you mean by that <i>&quot;The key n1 is printing as object reference.&quot;</i>. Can show what&#39;s exactly with the Map you&#39;ve created?"}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89873,"user_id":768644,"display_name":"rzwitserloot"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1667311716,"creation_date":1667311716,"answer_id":74277199,"question_id":74276881,"body_markdown":"&gt; ```java\r\n&gt; @EqualsAndHashCode\r\n&gt;    @AllArgsConstructor\r\n&gt;    @NoArgsConstructor\r\n&gt;    @Getter\r\n&gt;    @Setter\r\n&gt;    @Builder\r\n&gt;    public static class Order {\r\n&gt; ```\r\n\r\nThis christmas tree does not include `@ToString`, hence, the toString() implementation of these things would print something like `Order@12af9cc`, which I think is what you mean with &#39;prints its object reference&#39;. In other words, your code is doing exactly what you asked it to.\r\n\r\nI suggest you use `@Value @Builder` instead and ditch the setters. It&#39;s a bit odd to want a builder for a mutable class, after all (why not just invoke the setters instead?). If you must have them, `@NoArgsConstructor @AllArgsConstructor @Value @Data` works too. `@Data` combines `@EqualsAndHashCode @Getter @Setter @ToString` which is what you want.\r\n","title":"Map&lt;classObject,List&gt; is not formed as expected","body":"<blockquote>\n<pre class=\"lang-java prettyprint-override\"><code>@EqualsAndHashCode\n   @AllArgsConstructor\n   @NoArgsConstructor\n   @Getter\n   @Setter\n   @Builder\n   public static class Order {\n</code></pre>\n</blockquote>\n<p>This christmas tree does not include <code>@ToString</code>, hence, the toString() implementation of these things would print something like <code>Order@12af9cc</code>, which I think is what you mean with 'prints its object reference'. In other words, your code is doing exactly what you asked it to.</p>\n<p>I suggest you use <code>@Value @Builder</code> instead and ditch the setters. It's a bit odd to want a builder for a mutable class, after all (why not just invoke the setters instead?). If you must have them, <code>@NoArgsConstructor @AllArgsConstructor @Value @Data</code> works too. <code>@Data</code> combines <code>@EqualsAndHashCode @Getter @Setter @ToString</code> which is what you want.</p>\n"}],"owner":{"account_id":11511938,"reputation":1,"user_id":8436461,"display_name":"user"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":31,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1667311716,"creation_date":1667310172,"question_id":74276881,"body_markdown":"I have the below json, which i need to read and construct as `Map&lt;NamePlateOrder, List&lt;Orders&gt;&gt;`\r\n\r\nSample json:\r\n\r\n```\r\n`{\r\n   &quot;orders&quot;:[\r\n      {\r\n         &quot;order&quot;:[\r\n            {\r\n               &quot;OrderReference&quot;:{\r\n                  &quot;reference&quot;:68203486,\r\n                  &quot;version&quot;:1\r\n               }\r\n            },\r\n            {\r\n               &quot;OrderReference&quot;:{\r\n                  &quot;reference&quot;:68203487,\r\n                  &quot;version&quot;:1\r\n               }\r\n            }\r\n         ],\r\n         &quot;nameplate&quot;:{\r\n            &quot;id&quot;:&quot;98ZZ&quot;,\r\n            &quot;label&quot;:&quot;VEC&quot;            \r\n         }\r\n      }\r\n   ]\r\n}`\r\n\r\n```\r\nBelow is the code:\r\n\r\n\r\n     public class NamePlateOrder {\r\n    \r\n        public ArrayList&lt;Orders&gt; orders;\r\n    \r\n    \r\n        @EqualsAndHashCode\r\n        @AllArgsConstructor\r\n        @NoArgsConstructor\r\n        @Getter\r\n        @Setter\r\n        @Builder\r\n        public static class NameplateCatalogForOrder {\r\n            public String id;\r\n            public String label;\r\n        }\r\n    \r\n        @EqualsAndHashCode\r\n        @AllArgsConstructor\r\n        @NoArgsConstructor\r\n        @Getter\r\n        @Setter\r\n        @Builder\r\n        public static class Orders {\r\n            public List&lt;Order&gt; order; //this should be stored as value.\r\n            public NameplateCatalogForOrder nameplate; //this should be stored as key\r\n        }\r\n    \r\n        @EqualsAndHashCode\r\n        @AllArgsConstructor\r\n        @NoArgsConstructor\r\n        @Getter\r\n        @Setter\r\n        @Builder\r\n        public static class Order {\r\n            @JsonProperty(&quot;OrderReference&quot;)\r\n            public OrderReference orderReference;\r\n        }\r\n    \r\n        @EqualsAndHashCode\r\n        @AllArgsConstructor\r\n        @NoArgsConstructor\r\n        @Getter\r\n        @Setter\r\n        @Builder\r\n        public static class OrderReference {\r\n            public int reference;\r\n            public int version;\r\n        }\r\n    }\r\n\r\nSample code tried to construct `Map&lt;NameplateCatalogForOrder, List&lt;Orders&gt;&gt;`\r\n\r\n\r\n```\r\n`NamePlateOrder models = om.readValue(sql2, NamePlateOrder.class);\r\n\r\nSystem.out.println(&quot;NNamePlateWithOrder &quot; + models);\r\n\r\nMap&lt;NamePlateOrder.NameplateCatalogForOrder, List&lt;NamePlateOrder.Order&gt;&gt; nameplateListMap = new HashMap&lt;&gt;();\r\n\r\nfor(NamePlateOrder.Orders firstOrders : models.getOrders()){\r\n    NamePlateOrder.NameplateCatalogForOrder n1 = firstOrders.getNameplate();\r\n    List&lt;NamePlateOrder.Order&gt; ordersListForNamePlate = firstOrders.getOrder();\r\n    nameplateListMap.put(n1, ordersListForNamePlate);\r\n\r\n}`\r\n```\r\nBut the output when executed the above code is not as expected. The key n1 is printing as object reference. The expected output should be same as the sample json which we are reading to construct the same.\r\nAny inputs would be helpful.\r\n","title":"Map&lt;classObject,List&gt; is not formed as expected","body":"<p>I have the below json, which i need to read and construct as <code>Map&lt;NamePlateOrder, List&lt;Orders&gt;&gt;</code></p>\n<p>Sample json:</p>\n<pre><code>`{\n   &quot;orders&quot;:[\n      {\n         &quot;order&quot;:[\n            {\n               &quot;OrderReference&quot;:{\n                  &quot;reference&quot;:68203486,\n                  &quot;version&quot;:1\n               }\n            },\n            {\n               &quot;OrderReference&quot;:{\n                  &quot;reference&quot;:68203487,\n                  &quot;version&quot;:1\n               }\n            }\n         ],\n         &quot;nameplate&quot;:{\n            &quot;id&quot;:&quot;98ZZ&quot;,\n            &quot;label&quot;:&quot;VEC&quot;            \n         }\n      }\n   ]\n}`\n\n</code></pre>\n<p>Below is the code:</p>\n<pre><code> public class NamePlateOrder {\n\n    public ArrayList&lt;Orders&gt; orders;\n\n\n    @EqualsAndHashCode\n    @AllArgsConstructor\n    @NoArgsConstructor\n    @Getter\n    @Setter\n    @Builder\n    public static class NameplateCatalogForOrder {\n        public String id;\n        public String label;\n    }\n\n    @EqualsAndHashCode\n    @AllArgsConstructor\n    @NoArgsConstructor\n    @Getter\n    @Setter\n    @Builder\n    public static class Orders {\n        public List&lt;Order&gt; order; //this should be stored as value.\n        public NameplateCatalogForOrder nameplate; //this should be stored as key\n    }\n\n    @EqualsAndHashCode\n    @AllArgsConstructor\n    @NoArgsConstructor\n    @Getter\n    @Setter\n    @Builder\n    public static class Order {\n        @JsonProperty(&quot;OrderReference&quot;)\n        public OrderReference orderReference;\n    }\n\n    @EqualsAndHashCode\n    @AllArgsConstructor\n    @NoArgsConstructor\n    @Getter\n    @Setter\n    @Builder\n    public static class OrderReference {\n        public int reference;\n        public int version;\n    }\n}\n</code></pre>\n<p>Sample code tried to construct <code>Map&lt;NameplateCatalogForOrder, List&lt;Orders&gt;&gt;</code></p>\n<pre><code>`NamePlateOrder models = om.readValue(sql2, NamePlateOrder.class);\n\nSystem.out.println(&quot;NNamePlateWithOrder &quot; + models);\n\nMap&lt;NamePlateOrder.NameplateCatalogForOrder, List&lt;NamePlateOrder.Order&gt;&gt; nameplateListMap = new HashMap&lt;&gt;();\n\nfor(NamePlateOrder.Orders firstOrders : models.getOrders()){\n    NamePlateOrder.NameplateCatalogForOrder n1 = firstOrders.getNameplate();\n    List&lt;NamePlateOrder.Order&gt; ordersListForNamePlate = firstOrders.getOrder();\n    nameplateListMap.put(n1, ordersListForNamePlate);\n\n}`\n</code></pre>\n<p>But the output when executed the above code is not as expected. The key n1 is printing as object reference. The expected output should be same as the sample json which we are reading to construct the same.\nAny inputs would be helpful.</p>\n"},{"tags":["java","spring-boot","totp"],"answers":[{"comments":[{"owner":{"account_id":22402724,"reputation":101,"user_id":16612843,"display_name":"Seema Sharma"},"score":0,"creation_date":1667320543,"post_id":74277135,"comment_id":131137915,"body_markdown":"Yes yes got it. Thats what i wanted to ask. I thought other OTP services were more secure or something. And by chance I ment, let&#39;s say user *A* has otp &quot;aWer34&quot; and user *B* has otp &quot;sWer34&quot;, so by chance he pressed &#39;a&#39; instead of &#39;s&#39; and will register user *A*, which is I know not possible, but the chances are not zero either.","body":"Yes yes got it. Thats what i wanted to ask. I thought other OTP services were more secure or something. And by chance I ment, let&#39;s say user <i>A</i> has otp &quot;aWer34&quot; and user <i>B</i> has otp &quot;sWer34&quot;, so by chance he pressed &#39;a&#39; instead of &#39;s&#39; and will register user <i>A</i>, which is I know not possible, but the chances are not zero either."},{"owner":{"account_id":121162,"reputation":796,"user_id":6387948,"display_name":"Hans-Martin Mosner"},"score":0,"creation_date":1667322024,"post_id":74277135,"comment_id":131138417,"body_markdown":"The chances are low enough with 7-8 character OTPs that you can safely ignore them, unless you protect access to multi-million dollar bank accounts. Even my banking card is only protected by a 4 digit pin :-)","body":"The chances are low enough with 7-8 character OTPs that you can safely ignore them, unless you protect access to multi-million dollar bank accounts. Even my banking card is only protected by a 4 digit pin :-)"}],"tags":[],"owner":{"account_id":121162,"reputation":796,"user_id":6387948,"display_name":"Hans-Martin Mosner"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667311418,"creation_date":1667311418,"answer_id":74277135,"question_id":74276940,"body_markdown":"What &quot;by chance&quot; do you have in mind? If your application hands out OTPs, you can limit their validity (e.g. 24 or 48 hours) and keep a list of OTPs to avoid re-use, or use a deterministic crypto algorithm to generate unique but unguessable passwords.\r\n\r\nIf you think of user B just guessing/brute forcing OTPs, the security implications are just with any brute force attacks, you&#39;re probably even more safe since your OTP is truly random generated and would not be susceptible to dictionary attacks.\r\n\r\nSince the OTP would only be valid for user A&#39;s account anyway, user B would have to guess that correctly as well, which reduces the probability to something that can be safely ignored.","title":"Flawed OTP system while OTP verification","body":"<p>What &quot;by chance&quot; do you have in mind? If your application hands out OTPs, you can limit their validity (e.g. 24 or 48 hours) and keep a list of OTPs to avoid re-use, or use a deterministic crypto algorithm to generate unique but unguessable passwords.</p>\n<p>If you think of user B just guessing/brute forcing OTPs, the security implications are just with any brute force attacks, you're probably even more safe since your OTP is truly random generated and would not be susceptible to dictionary attacks.</p>\n<p>Since the OTP would only be valid for user A's account anyway, user B would have to guess that correctly as well, which reduces the probability to something that can be safely ignored.</p>\n"}],"owner":{"account_id":22402724,"reputation":101,"user_id":16612843,"display_name":"Seema Sharma"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":163,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1667311418,"creation_date":1667310505,"question_id":74276940,"body_markdown":"I am creating an app where user has to verify their email address once they are registered. This done via an OTP which is send once the users has hit the registration API. If the OTP is valid then we confirm the registration else we remove the user.\r\nWhen I register a user I also create an OTP object which I associate with the user.\r\nFor example,\r\n```\r\nclass Otp{\r\n.\r\n.\r\n.\r\nprivate User user;\r\n\r\n// setter and getter\r\n.\r\n.\r\n}\r\n```\r\nSo here is a scenario. Let&#39;s say a user *A* has registered itself but has not verified themselves yet. Now some other person hits the verification API and by chance sends the same OTP which has been received by user *A* and user *A* gets registered. Now the chances for this to happen are very low because my OTP length is going be 7-8 characters long, but not zero.\r\nI see this as a security flaw. Are all the OTP systems flawed like this or I am doing something wrong. If yes can someone suggest a good design for an OTP system.","title":"Flawed OTP system while OTP verification","body":"<p>I am creating an app where user has to verify their email address once they are registered. This done via an OTP which is send once the users has hit the registration API. If the OTP is valid then we confirm the registration else we remove the user.\nWhen I register a user I also create an OTP object which I associate with the user.\nFor example,</p>\n<pre><code>class Otp{\n.\n.\n.\nprivate User user;\n\n// setter and getter\n.\n.\n}\n</code></pre>\n<p>So here is a scenario. Let's say a user <em>A</em> has registered itself but has not verified themselves yet. Now some other person hits the verification API and by chance sends the same OTP which has been received by user <em>A</em> and user <em>A</em> gets registered. Now the chances for this to happen are very low because my OTP length is going be 7-8 characters long, but not zero.\nI see this as a security flaw. Are all the OTP systems flawed like this or I am doing something wrong. If yes can someone suggest a good design for an OTP system.</p>\n"},{"tags":["java","arrays","json"],"comments":[{"owner":{"account_id":2986719,"reputation":4999,"user_id":2535335,"display_name":"Johannes Jander"},"score":0,"creation_date":1452540530,"post_id":34717980,"comment_id":57205077,"body_markdown":"Did one of the answers solve your problem? If yes, then please accept that answer.","body":"Did one of the answers solve your problem? If yes, then please accept that answer."}],"answers":[{"tags":[],"owner":{"account_id":2986719,"reputation":4999,"user_id":2535335,"display_name":"Johannes Jander"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1525791382,"creation_date":1452505279,"answer_id":34718224,"question_id":34717980,"body_markdown":"Android `JSONArray` is not meant as a general-purpose data structure, but to (de)serialize data to and from JSON. Therefore, you should do all add/remove/mutate operations on a `java.util.List` or something and only if you want to send it over the wire convert to a `JSONArray`.\r\n\r\nJava EE 7 also has a `JsonArray` class, in their API description they make abundantly clear that they want to prevent people from using it as a replacement for a `java.util.list`: `JsonArray instances are list objects that provide read-only access to the values in the JSON array. Any attempt to modify the list, whether directly or using its collection views, results in an UnsupportedOperationException.`\r\n\r\nSee also [this answer](https://stackoverflow.com/a/3741653/2535335)","title":"Insert object to specific position in jsonarray","body":"<p>Android <code>JSONArray</code> is not meant as a general-purpose data structure, but to (de)serialize data to and from JSON. Therefore, you should do all add/remove/mutate operations on a <code>java.util.List</code> or something and only if you want to send it over the wire convert to a <code>JSONArray</code>.</p>\n\n<p>Java EE 7 also has a <code>JsonArray</code> class, in their API description they make abundantly clear that they want to prevent people from using it as a replacement for a <code>java.util.list</code>: <code>JsonArray instances are list objects that provide read-only access to the values in the JSON array. Any attempt to modify the list, whether directly or using its collection views, results in an UnsupportedOperationException.</code></p>\n\n<p>See also <a href=\"https://stackoverflow.com/a/3741653/2535335\">this answer</a></p>\n"},{"comments":[{"owner":{"account_id":1211141,"reputation":6677,"user_id":1179638,"accept_rate":88,"display_name":"Atul Bhardwaj"},"score":0,"creation_date":1452506890,"post_id":34718290,"comment_id":57183335,"body_markdown":"This will add previous 1st position to last position . but If want previous 1st position to shift on 2nd position and previous 3rd to 4th and so on.... Is there any optimised solution expect full iteration ?","body":"This will add previous 1st position to last position . but If want previous 1st position to shift on 2nd position and previous 3rd to 4th and so on.... Is there any optimised solution expect full iteration ?"},{"owner":{"account_id":2747609,"reputation":4662,"user_id":2367703,"accept_rate":67,"display_name":"Eric B."},"score":1,"creation_date":1452508004,"post_id":34718290,"comment_id":57184045,"body_markdown":"@XYZ with the methods provided in `JSONArray` class, i think full iteration is the only way.","body":"@XYZ with the methods provided in <code>JSONArray</code> class, i think full iteration is the only way."}],"tags":[],"owner":{"account_id":2747609,"reputation":4662,"user_id":2367703,"accept_rate":67,"display_name":"Eric B."},"comment_count":2,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1452505484,"creation_date":1452505484,"answer_id":34718290,"question_id":34717980,"body_markdown":"Try this:\r\n\r\n    String myString = jsonArray.getString(1);\r\n    jsonArray.put(1,&quot;String5&quot;);\r\n    jsonArray.put(myString);","title":"Insert object to specific position in jsonarray","body":"<p>Try this:</p>\n\n<pre><code>String myString = jsonArray.getString(1);\njsonArray.put(1,\"String5\");\njsonArray.put(myString);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3125421,"reputation":429,"user_id":2644365,"display_name":"Akash kv"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1452508527,"creation_date":1452508527,"answer_id":34719321,"question_id":34717980,"body_markdown":"call this function like this\r\n\r\n   String changed_json_string= changeJson(jsonString,2,&quot;hai&quot;)\r\n\r\n   \r\n\r\n      public String changeJson(String json,int index,String add_string){\r\n        \r\n                try {\r\n                    JSONObject job=new JSONObject(json);\r\n                    JSONArray jsonArray=job.getJSONArray(&quot;imgs&quot;);\r\n        \r\n                    ArrayList&lt;String&gt; arrayList=new ArrayList&lt;&gt;();\r\n                    for (int i=0;i&lt;jsonArray.length();i++){\r\n                        String abc= (String) jsonArray.get(i);\r\n                        arrayList.add(abc);\r\n        \r\n        \r\n                     }\r\n        \r\n        \r\n                    arrayList.add(index,add_string);\r\n        \r\n                    JSONObject a=new JSONObject();\r\n                    JSONArray jar=new JSONArray();\r\n        \r\n        \r\n                    for (String str:\r\n                    arrayList) {\r\n                        jar.put(str);\r\n        \r\n                    }\r\n                    a.put(&quot;imgs&quot;,jar);\r\n        \r\n                   return a.toString();\r\n        \r\n        \r\n        \r\n        \r\n        \r\n        \r\n                } catch (JSONException e) {\r\n                    e.printStackTrace();\r\n        \r\n                }\r\n        \r\n                return &quot;&quot;;\r\n            }\r\n\r\n\r\noutput\r\n\r\n\r\n    {&quot;imgs&quot;:[&quot;String1&quot;,&quot;String2&quot;,&quot;hai&quot;,&quot;String3&quot;,&quot;String4&quot;]}\r\n\r\n","title":"Insert object to specific position in jsonarray","body":"<p>call this function like this</p>\n\n<p>String changed_json_string= changeJson(jsonString,2,\"hai\")</p>\n\n<pre><code>  public String changeJson(String json,int index,String add_string){\n\n            try {\n                JSONObject job=new JSONObject(json);\n                JSONArray jsonArray=job.getJSONArray(\"imgs\");\n\n                ArrayList&lt;String&gt; arrayList=new ArrayList&lt;&gt;();\n                for (int i=0;i&lt;jsonArray.length();i++){\n                    String abc= (String) jsonArray.get(i);\n                    arrayList.add(abc);\n\n\n                 }\n\n\n                arrayList.add(index,add_string);\n\n                JSONObject a=new JSONObject();\n                JSONArray jar=new JSONArray();\n\n\n                for (String str:\n                arrayList) {\n                    jar.put(str);\n\n                }\n                a.put(\"imgs\",jar);\n\n               return a.toString();\n\n\n\n\n\n\n            } catch (JSONException e) {\n                e.printStackTrace();\n\n            }\n\n            return \"\";\n        }\n</code></pre>\n\n<p>output</p>\n\n<pre><code>{\"imgs\":[\"String1\",\"String2\",\"hai\",\"String3\",\"String4\"]}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5763342,"reputation":2260,"user_id":4549000,"accept_rate":50,"display_name":"Krishna Satwaji Khandagale"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1452508800,"creation_date":1452508800,"answer_id":34719440,"question_id":34717980,"body_markdown":"Use array shifting logic or create copy of new json array with newly inserted element and insert into original json ojbect.","title":"Insert object to specific position in jsonarray","body":"<p>Use array shifting logic or create copy of new json array with newly inserted element and insert into original json ojbect.</p>\n"},{"comments":[{"owner":{"account_id":8198615,"reputation":876,"user_id":6170600,"accept_rate":60,"display_name":"Bawa"},"score":0,"creation_date":1483604085,"post_id":39141104,"comment_id":70165425,"body_markdown":"saved a lot of headache. +1","body":"saved a lot of headache. +1"},{"owner":{"account_id":4357023,"reputation":158,"user_id":3555296,"display_name":"Meerz"},"score":0,"creation_date":1616097105,"post_id":39141104,"comment_id":117903953,"body_markdown":"work for me when data populate from server","body":"work for me when data populate from server"}],"tags":[],"owner":{"account_id":8633821,"reputation":389,"user_id":6659074,"accept_rate":50,"display_name":"hungps"},"comment_count":2,"down_vote_count":0,"up_vote_count":20,"is_accepted":true,"score":20,"last_activity_date":1472116184,"creation_date":1472116184,"answer_id":39141104,"question_id":34717980,"body_markdown":"Seem too old but you can do like this:\r\n\r\n    public void addToPos(int pos, JSONObject jsonObj, JSONArray jsonArr){\r\n       for (int i = jsonArr.length(); i &gt; pos; i--){\r\n          jsonArr.put(i, jsonArr.get(i-1));\r\n       }\r\n       jsonArr.put(pos, jsonObj);\r\n    }","title":"Insert object to specific position in jsonarray","body":"<p>Seem too old but you can do like this:</p>\n\n<pre><code>public void addToPos(int pos, JSONObject jsonObj, JSONArray jsonArr){\n   for (int i = jsonArr.length(); i &gt; pos; i--){\n      jsonArr.put(i, jsonArr.get(i-1));\n   }\n   jsonArr.put(pos, jsonObj);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7090048,"reputation":443,"user_id":5425555,"display_name":"Developer"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1539887917,"creation_date":1539887917,"answer_id":52880491,"question_id":34717980,"body_markdown":"Use a `JsonArrayBuilder` object.\r\n\r\n    private JsonArray insertAt(int index, String value, JsonArray origArray) {\r\n\r\n        JsonArrayBuilder resultBuilder = Json.createBuilderFactory(null).createArrayBuilder();\r\n        \r\n        // Insert elements before the position\r\n        for (JsonValue elemValue : origArray.subList(0, index)) {\r\n            resultBuilder.add(elemValue);\r\n        }\r\n\r\n        // Insert your element\r\n        resultBuilder.add(value);\r\n\r\n        // Insert the rest of elements.\r\n        for (JsonValue elemValue : origArray.subList(index, origArray.size())) {\r\n            resultBuilder.add(elemValue);\r\n        }\r\n\r\n        return resultBuilder.build();\r\n    }\r\nNote that the arguments check is not done here. Also instead of having a string as value to insert you can have a JsonValue to be more generic.","title":"Insert object to specific position in jsonarray","body":"<p>Use a <code>JsonArrayBuilder</code> object.</p>\n\n<pre><code>private JsonArray insertAt(int index, String value, JsonArray origArray) {\n\n    JsonArrayBuilder resultBuilder = Json.createBuilderFactory(null).createArrayBuilder();\n\n    // Insert elements before the position\n    for (JsonValue elemValue : origArray.subList(0, index)) {\n        resultBuilder.add(elemValue);\n    }\n\n    // Insert your element\n    resultBuilder.add(value);\n\n    // Insert the rest of elements.\n    for (JsonValue elemValue : origArray.subList(index, origArray.size())) {\n        resultBuilder.add(elemValue);\n    }\n\n    return resultBuilder.build();\n}\n</code></pre>\n\n<p>Note that the arguments check is not done here. Also instead of having a string as value to insert you can have a JsonValue to be more generic.</p>\n"},{"tags":[],"owner":{"account_id":1007307,"reputation":12996,"user_id":1020704,"accept_rate":57,"display_name":"toom"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651241278,"creation_date":1651236928,"answer_id":72058320,"question_id":34717980,"body_markdown":"Copy and paste solution:\r\n\r\n    import org.json.JSONArray;\r\n    import java.util.ArrayList;\r\n    ...\r\n    public void insertAt(int index, Object value, JSONArray jsonArray) {\r\n            ArrayList&lt;Object&gt; arrayList = new ArrayList&lt;Object&gt;(jsonArray.toList());\r\n            arrayList.add(index, value);\r\n            //Empty deprecated jsonArray\r\n            jsonArray.clear();\r\n            //Refill cleared jsonArray in the correct order including the new value at the correct position\r\n            for(int k = 0; k &lt; arrayList.size(); ++k)\r\n                jsonArray.put(arrayList.get(k));\r\n        }\r\n\r\n\r\nUse this if you want to apply it in an Android App (To understand why read the following post: https://stackoverflow.com/questions/20389105/changing-or-upgrading-built-in-org-json-libraries-is-possible-and-a-good-idea):\r\n\r\n    public static void insertAt(int index, Object value, JSONArray jsonArray) {\r\n        try {\r\n            JSONArray copyOfJsonArray = new JSONArray(jsonArray.toString());\r\n            int newLength = jsonArray.length()+1;\r\n            for( int i = index; i &lt; newLength; ++i) {\r\n                if(i == index)\r\n                    jsonArray.put(i, value);\r\n                else\r\n                    jsonArray.put(i, copyOfJsonArray.get(i-1));\r\n            }\r\n        } catch(Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n    }","title":"Insert object to specific position in jsonarray","body":"<p>Copy and paste solution:</p>\n<pre><code>import org.json.JSONArray;\nimport java.util.ArrayList;\n...\npublic void insertAt(int index, Object value, JSONArray jsonArray) {\n        ArrayList&lt;Object&gt; arrayList = new ArrayList&lt;Object&gt;(jsonArray.toList());\n        arrayList.add(index, value);\n        //Empty deprecated jsonArray\n        jsonArray.clear();\n        //Refill cleared jsonArray in the correct order including the new value at the correct position\n        for(int k = 0; k &lt; arrayList.size(); ++k)\n            jsonArray.put(arrayList.get(k));\n    }\n</code></pre>\n<p>Use this if you want to apply it in an Android App (To understand why read the following post: <a href=\"https://stackoverflow.com/questions/20389105/changing-or-upgrading-built-in-org-json-libraries-is-possible-and-a-good-idea\">changing or upgrading built-in org.json libraries, is possible and a good idea?</a>):</p>\n<pre><code>public static void insertAt(int index, Object value, JSONArray jsonArray) {\n    try {\n        JSONArray copyOfJsonArray = new JSONArray(jsonArray.toString());\n        int newLength = jsonArray.length()+1;\n        for( int i = index; i &lt; newLength; ++i) {\n            if(i == index)\n                jsonArray.put(i, value);\n            else\n                jsonArray.put(i, copyOfJsonArray.get(i-1));\n        }\n    } catch(Exception e) {\n        e.printStackTrace();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":1211141,"reputation":6677,"user_id":1179638,"accept_rate":88,"display_name":"Atul Bhardwaj"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":23801,"favorite_count":0,"down_vote_count":1,"up_vote_count":13,"accepted_answer_id":39141104,"answer_count":7,"score":12,"last_activity_date":1667311075,"creation_date":1452504480,"question_id":34717980,"body_markdown":"I want to add an object to a specific position in JSonArray.\r\nMy Current JsonArray look like this\r\n\r\n\r\n    {\r\n    \t&quot;imgs&quot;: [\r\n    \t\t&quot;String1&quot;,\r\n    \t\t&quot;String2&quot;,\r\n    \t\t&quot;String3&quot;,\r\n    \t\t&quot;String4&quot;\r\n    \t]\r\n    }\r\n\r\nI need to insert one more item in jsonarray at 1st position like this-\r\n\r\n    jsonArray.put(1,&quot;String5&quot;)\r\n\r\nthis is replacing item at first position\r\nBut I need below result\r\n\r\n    {\r\n    \t&quot;imgs&quot;: [\r\n    \t\t&quot;String1&quot;,\r\n            &quot;String5&quot;,\r\n    \t\t&quot;String2&quot;,\r\n    \t\t&quot;String3&quot;,\r\n    \t\t&quot;String4&quot;\r\n    \t]\r\n    }\r\n\r\nPlease suggest ","title":"Insert object to specific position in jsonarray","body":"<p>I want to add an object to a specific position in JSonArray.\nMy Current JsonArray look like this</p>\n\n<pre><code>{\n    \"imgs\": [\n        \"String1\",\n        \"String2\",\n        \"String3\",\n        \"String4\"\n    ]\n}\n</code></pre>\n\n<p>I need to insert one more item in jsonarray at 1st position like this-</p>\n\n<pre><code>jsonArray.put(1,\"String5\")\n</code></pre>\n\n<p>this is replacing item at first position\nBut I need below result</p>\n\n<pre><code>{\n    \"imgs\": [\n        \"String1\",\n        \"String5\",\n        \"String2\",\n        \"String3\",\n        \"String4\"\n    ]\n}\n</code></pre>\n\n<p>Please suggest </p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":22249835,"reputation":1973,"user_id":16482938,"display_name":"j_b"},"score":1,"creation_date":1667421239,"post_id":74268624,"comment_id":131166149,"body_markdown":"Please do not post images of code, data, error messages, etc.—copy or type the text into the question. Please reserve the use of images for diagrams or demonstrating rendering bugs, things that are impossible to describe accurately via text.","body":"Please do not post images of code, data, error messages, etc.—copy or type the text into the question. Please reserve the use of images for diagrams or demonstrating rendering bugs, things that are impossible to describe accurately via text."}],"answers":[{"comments":[{"owner":{"account_id":26220655,"reputation":1,"user_id":20010960,"display_name":"altalaev.artyom"},"score":0,"creation_date":1667286465,"post_id":74270103,"comment_id":131127116,"body_markdown":"I plan to use this converter in other classes and each will have its own implementation of the convert method. If you define this class as an interface and leave the method without implementation, the same error occurs with the constructor without a bean","body":"I plan to use this converter in other classes and each will have its own implementation of the convert method. If you define this class as an interface and leave the method without implementation, the same error occurs with the constructor without a bean"}],"tags":[],"owner":{"account_id":480617,"reputation":2495,"user_id":893952,"accept_rate":57,"display_name":"Harry Coder"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667259414,"creation_date":1667259414,"answer_id":74270103,"question_id":74268624,"body_markdown":"You have to define your class `Converter` as a bean and change your `ClientService` annotation to `@Service`.\r\n\r\nConverter.java\r\n\r\n    @Component\r\n    public class Converter&lt;M, D&gt;\r\n\r\n\r\nClientService.java\r\n\r\n    @Service\r\n    public class ClientService","title":"Creating the converter bean","body":"<p>You have to define your class <code>Converter</code> as a bean and change your <code>ClientService</code> annotation to <code>@Service</code>.</p>\n<p>Converter.java</p>\n<pre><code>@Component\npublic class Converter&lt;M, D&gt;\n</code></pre>\n<p>ClientService.java</p>\n<pre><code>@Service\npublic class ClientService\n</code></pre>\n"}],"owner":{"account_id":26220655,"reputation":1,"user_id":20010960,"display_name":"altalaev.artyom"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":92,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1667310959,"creation_date":1667246783,"question_id":74268624,"body_markdown":"I&#39;m new to learning `Spring`. I use the built-in `Spring` converter in my application. But in the service layer, when creating the constructor, it does not see the converter bean.\r\n\r\n\r\nHow to transfer the converter bean to `Spring`?\r\n\r\nMy error code:\r\n\r\n&gt; Parameter 1 of constructor in ru.web.service.ClientService required a\r\n&gt; bean of type &#39;org.springframework.core.convert.converter.Converter&#39;\r\n&gt; that could not be found.\r\n&gt; \r\n&gt; \r\n&gt; Action:\r\n&gt; \r\n&gt; Consider defining a bean of type\r\n&gt; &#39;org.springframework.core.convert.converter.Converter&#39; in your\r\n&gt; configuration.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/1suc6.png","title":"Creating the converter bean","body":"<p>I'm new to learning <code>Spring</code>. I use the built-in <code>Spring</code> converter in my application. But in the service layer, when creating the constructor, it does not see the converter bean.</p>\n<p>How to transfer the converter bean to <code>Spring</code>?</p>\n<p>My error code:</p>\n<blockquote>\n<p>Parameter 1 of constructor in ru.web.service.ClientService required a\nbean of type 'org.springframework.core.convert.converter.Converter'\nthat could not be found.</p>\n<p>Action:</p>\n<p>Consider defining a bean of type\n'org.springframework.core.convert.converter.Converter' in your\nconfiguration.</p>\n</blockquote>\n<p><a href=\"https://i.stack.imgur.com/1suc6.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/1suc6.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","jar","manifest.mf"],"answers":[{"comments":[{"owner":{"account_id":1005397,"reputation":9269,"user_id":1019307,"accept_rate":50,"display_name":"HankCa"},"score":1,"creation_date":1463535404,"post_id":3777116,"comment_id":62102304,"body_markdown":"Excellent that this goes through all Manifests.","body":"Excellent that this goes through all Manifests."},{"owner":{"account_id":7342678,"reputation":474,"user_id":5591561,"accept_rate":44,"display_name":"neoexpert"},"score":0,"creation_date":1562852752,"post_id":3777116,"comment_id":100516005,"body_markdown":"I am getting wrong Manifest with this code. It says for example: Main-Class:org.GNOME.Accessibility.AtkWrapper. But this ist not the case. Strange.","body":"I am getting wrong Manifest with this code. It says for example: Main-Class:org.GNOME.Accessibility.AtkWrapper. But this ist not the case. Strange."},{"owner":{"account_id":2928776,"reputation":672,"user_id":2509574,"accept_rate":100,"display_name":"actc"},"score":0,"creation_date":1685706139,"post_id":3777116,"comment_id":134702126,"body_markdown":"Iterating over the keys of manifest.getMainAttributes() or manifest.getEntries() give me no keys or values. Accessing the value directly as shown above works fine for me. Is there any background information concerning this behavior?","body":"Iterating over the keys of manifest.getMainAttributes() or manifest.getEntries() give me no keys or values. Accessing the value directly as shown above works fine for me. Is there any background information concerning this behavior?"}],"tags":[],"owner":{"account_id":13010,"reputation":6750,"user_id":25909,"accept_rate":87,"display_name":"flash"},"comment_count":3,"down_vote_count":1,"up_vote_count":45,"is_accepted":false,"score":44,"last_activity_date":1348749469,"creation_date":1285235165,"answer_id":3777116,"question_id":3777055,"body_markdown":"You could use something like this:\r\n\r\n    public static String getManifestInfo() {\r\n\t\tEnumeration resEnum;\r\n\t\ttry {\r\n\t\t\tresEnum = Thread.currentThread().getContextClassLoader().getResources(JarFile.MANIFEST_NAME);\r\n\t\t\twhile (resEnum.hasMoreElements()) {\r\n\t\t\t\ttry {\r\n\t\t\t\t\tURL url = (URL)resEnum.nextElement();\r\n\t\t\t\t\tInputStream is = url.openStream();\r\n\t\t\t\t\tif (is != null) {\r\n\t\t\t\t\t\tManifest manifest = new Manifest(is);\r\n\t\t\t\t\t\tAttributes mainAttribs = manifest.getMainAttributes();\r\n\t\t\t\t\t\tString version = mainAttribs.getValue(&quot;Implementation-Version&quot;);\r\n\t\t\t\t\t\tif(version != null) {\r\n\t\t\t\t\t\t\treturn version;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tcatch (Exception e) {\r\n\t\t\t\t\t// Silently ignore wrong manifests on classpath?\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t} catch (IOException e1) {\r\n\t\t\t// Silently ignore wrong manifests on classpath?\r\n\t\t}\r\n\t\treturn null; \r\n\t}\r\n\r\nTo get the manifest attributes, you could iterate over the variable &quot;mainAttribs&quot; or directly retrieve your required attribute if you know the key.\r\n\r\nThis code loops through every jar on the classpath and reads the MANIFEST of each. If you know the name of the jar you may want to only look at the URL if it contains() the name of the jar you are interested in.","title":"reading MANIFEST.MF file from jar file using JAVA","body":"<p>You could use something like this:</p>\n\n<pre><code>public static String getManifestInfo() {\n    Enumeration resEnum;\n    try {\n        resEnum = Thread.currentThread().getContextClassLoader().getResources(JarFile.MANIFEST_NAME);\n        while (resEnum.hasMoreElements()) {\n            try {\n                URL url = (URL)resEnum.nextElement();\n                InputStream is = url.openStream();\n                if (is != null) {\n                    Manifest manifest = new Manifest(is);\n                    Attributes mainAttribs = manifest.getMainAttributes();\n                    String version = mainAttribs.getValue(\"Implementation-Version\");\n                    if(version != null) {\n                        return version;\n                    }\n                }\n            }\n            catch (Exception e) {\n                // Silently ignore wrong manifests on classpath?\n            }\n        }\n    } catch (IOException e1) {\n        // Silently ignore wrong manifests on classpath?\n    }\n    return null; \n}\n</code></pre>\n\n<p>To get the manifest attributes, you could iterate over the variable \"mainAttribs\" or directly retrieve your required attribute if you know the key.</p>\n\n<p>This code loops through every jar on the classpath and reads the MANIFEST of each. If you know the name of the jar you may want to only look at the URL if it contains() the name of the jar you are interested in.</p>\n"},{"comments":[{"owner":{"account_id":11296302,"reputation":2929,"user_id":8283737,"accept_rate":89,"display_name":"Arun Gowda"},"score":3,"creation_date":1680684328,"post_id":3777117,"comment_id":133938136,"body_markdown":"uh... what is `stream` here?","body":"uh... what is <code>stream</code> here?"}],"tags":[],"owner":{"account_id":204269,"reputation":2903,"user_id":452372,"accept_rate":78,"display_name":"oiavorskyi"},"comment_count":1,"down_vote_count":1,"up_vote_count":56,"is_accepted":true,"score":55,"last_activity_date":1285235170,"creation_date":1285235170,"answer_id":3777117,"question_id":3777055,"body_markdown":"Next code should help:\r\n\r\n    JarInputStream jarStream = new JarInputStream(stream);\r\n    Manifest mf = jarStream.getManifest();\r\n\r\nException handling is left for you :) ","title":"reading MANIFEST.MF file from jar file using JAVA","body":"<p>Next code should help:</p>\n\n<pre><code>JarInputStream jarStream = new JarInputStream(stream);\nManifest mf = jarStream.getManifest();\n</code></pre>\n\n<p>Exception handling is left for you :) </p>\n"},{"comments":[{"owner":{"account_id":1005397,"reputation":9269,"user_id":1019307,"accept_rate":50,"display_name":"HankCa"},"score":0,"creation_date":1463535337,"post_id":14089521,"comment_id":62102290,"body_markdown":"This is great and works well.  Nice that it is a library.  What would make it better is if all Manifests were read.  I notice the Javadoc has an `entry()`, which may be what I&#39;ve suggested, however that method isn&#39;t appearing in the version I&#39;m using (1.1 - the latest at this date on MvnRepository).  The answer http://stackoverflow.com/a/3777116/1019307 has the solution that worked to retrieve all Manifests.","body":"This is great and works well.  Nice that it is a library.  What would make it better is if all Manifests were read.  I notice the Javadoc has an <code>entry()</code>, which may be what I&#39;ve suggested, however that method isn&#39;t appearing in the version I&#39;m using (1.1 - the latest at this date on MvnRepository).  The answer <a href=\"http://stackoverflow.com/a/3777116/1019307\">stackoverflow.com/a/3777116/1019307</a> has the solution that worked to retrieve all Manifests."}],"tags":[],"owner":{"account_id":63162,"reputation":102381,"user_id":187141,"accept_rate":82,"display_name":"yegor256"},"comment_count":1,"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1404655579,"creation_date":1356857782,"answer_id":14089521,"question_id":3777055,"body_markdown":"You can use a utility class [`Manifests`](http://manifests.jcabi.com/apidocs-0.7.5/com/jcabi/manifests/Manifests.html) from [jcabi-manifests](http://manifests.jcabi.com/index.html):\r\n\r\n    final String value = Manifests.read(&quot;My-Version&quot;);\r\n\r\nThe class will find all `MANIFEST.MF` files available in classpath and read the attribute you&#39;re looking for from one of them. Also, read this: http://www.yegor256.com/2014/07/03/how-to-read-manifest-mf.html","title":"reading MANIFEST.MF file from jar file using JAVA","body":"<p>You can use a utility class <a href=\"http://manifests.jcabi.com/apidocs-0.7.5/com/jcabi/manifests/Manifests.html\" rel=\"nofollow\"><code>Manifests</code></a> from <a href=\"http://manifests.jcabi.com/index.html\" rel=\"nofollow\">jcabi-manifests</a>:</p>\n\n<pre><code>final String value = Manifests.read(\"My-Version\");\n</code></pre>\n\n<p>The class will find all <code>MANIFEST.MF</code> files available in classpath and read the attribute you're looking for from one of them. Also, read this: <a href=\"http://www.yegor256.com/2014/07/03/how-to-read-manifest-mf.html\" rel=\"nofollow\">http://www.yegor256.com/2014/07/03/how-to-read-manifest-mf.html</a></p>\n"},{"comments":[{"owner":{"account_id":13221,"reputation":2529,"user_id":26415,"display_name":"Jon Iles"},"score":1,"creation_date":1374665899,"post_id":17828095,"comment_id":26027761,"body_markdown":"The only issue with this is the line containing: String manifestPath = StringUtils.join[...] Using File.separatorChar seems to generate an invalid URL under Windows... probably best to use &quot;/&quot; instead.","body":"The only issue with this is the line containing: String manifestPath = StringUtils.join[...] Using File.separatorChar seems to generate an invalid URL under Windows... probably best to use &quot;/&quot; instead."},{"owner":{"account_id":1998072,"reputation":4342,"user_id":2288986,"accept_rate":71,"display_name":"Gordon Bean"},"score":1,"creation_date":1554396274,"post_id":17828095,"comment_id":97746619,"body_markdown":"This worked for me, but then I found that the answer by stviper also worked, and was much simpler.","body":"This worked for me, but then I found that the answer by stviper also worked, and was much simpler."}],"tags":[],"owner":{"account_id":388103,"reputation":2788,"user_id":746837,"accept_rate":100,"display_name":"Jake W"},"comment_count":2,"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1376360122,"creation_date":1374652008,"answer_id":17828095,"question_id":3777055,"body_markdown":"I implemented an AppVersion class according to some ideas from stackoverflow, here I just share the entire class:\r\n\r\n    import java.io.File;\r\n    import java.net.URL;\r\n    import java.util.jar.Attributes;\r\n    import java.util.jar.Manifest;\r\n    \r\n    import org.apache.commons.lang.StringUtils;\r\n    import org.slf4j.Logger;\r\n    import org.slf4j.LoggerFactory;\r\n    \r\n    public class AppVersion {\r\n      private static final Logger log = LoggerFactory.getLogger(AppVersion.class);\r\n    \r\n      private static String version;\r\n    \r\n      public static String get() {\r\n        if (StringUtils.isBlank(version)) {\r\n          Class&lt;?&gt; clazz = AppVersion.class;\r\n          String className = clazz.getSimpleName() + &quot;.class&quot;;\r\n          String classPath = clazz.getResource(className).toString();\r\n          if (!classPath.startsWith(&quot;jar&quot;)) {\r\n            // Class not from JAR\r\n            String relativePath = clazz.getName().replace(&#39;.&#39;, File.separatorChar) + &quot;.class&quot;;\r\n            String classFolder = classPath.substring(0, classPath.length() - relativePath.length() - 1);\r\n            String manifestPath = classFolder + &quot;/META-INF/MANIFEST.MF&quot;;\r\n            log.debug(&quot;manifestPath={}&quot;, manifestPath);\r\n            version = readVersionFrom(manifestPath);\r\n          } else {\r\n            String manifestPath = classPath.substring(0, classPath.lastIndexOf(&quot;!&quot;) + 1) + &quot;/META-INF/MANIFEST.MF&quot;;\r\n            log.debug(&quot;manifestPath={}&quot;, manifestPath);\r\n            version = readVersionFrom(manifestPath);\r\n          }\r\n        }\r\n        return version;\r\n      }\r\n    \r\n      private static String readVersionFrom(String manifestPath) {\r\n        Manifest manifest = null;\r\n        try {\r\n          manifest = new Manifest(new URL(manifestPath).openStream());\r\n          Attributes attrs = manifest.getMainAttributes();\r\n    \r\n          String implementationVersion = attrs.getValue(&quot;Implementation-Version&quot;);\r\n          implementationVersion = StringUtils.replace(implementationVersion, &quot;-SNAPSHOT&quot;, &quot;&quot;);\r\n          log.debug(&quot;Read Implementation-Version: {}&quot;, implementationVersion);\r\n    \r\n          String implementationBuild = attrs.getValue(&quot;Implementation-Build&quot;);\r\n          log.debug(&quot;Read Implementation-Build: {}&quot;, implementationBuild);\r\n    \r\n          String version = implementationVersion;\r\n          if (StringUtils.isNotBlank(implementationBuild)) {\r\n            version = StringUtils.join(new String[] { implementationVersion, implementationBuild }, &#39;.&#39;);\r\n          }\r\n          return version;\r\n        } catch (Exception e) {\r\n          log.error(e.getMessage(), e);\r\n        }\r\n        return StringUtils.EMPTY;\r\n      }\r\n    }\r\n\r\nBasically, this class can read version information from the manifest of its own JAR file, or the manifest in it&#39;s classes folder. And hopefully it works on different platforms, but I only tested it on Mac OS X so far.\r\n\r\nI hope this would be useful for someone else.","title":"reading MANIFEST.MF file from jar file using JAVA","body":"<p>I implemented an AppVersion class according to some ideas from stackoverflow, here I just share the entire class:</p>\n\n<pre><code>import java.io.File;\nimport java.net.URL;\nimport java.util.jar.Attributes;\nimport java.util.jar.Manifest;\n\nimport org.apache.commons.lang.StringUtils;\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\n\npublic class AppVersion {\n  private static final Logger log = LoggerFactory.getLogger(AppVersion.class);\n\n  private static String version;\n\n  public static String get() {\n    if (StringUtils.isBlank(version)) {\n      Class&lt;?&gt; clazz = AppVersion.class;\n      String className = clazz.getSimpleName() + \".class\";\n      String classPath = clazz.getResource(className).toString();\n      if (!classPath.startsWith(\"jar\")) {\n        // Class not from JAR\n        String relativePath = clazz.getName().replace('.', File.separatorChar) + \".class\";\n        String classFolder = classPath.substring(0, classPath.length() - relativePath.length() - 1);\n        String manifestPath = classFolder + \"/META-INF/MANIFEST.MF\";\n        log.debug(\"manifestPath={}\", manifestPath);\n        version = readVersionFrom(manifestPath);\n      } else {\n        String manifestPath = classPath.substring(0, classPath.lastIndexOf(\"!\") + 1) + \"/META-INF/MANIFEST.MF\";\n        log.debug(\"manifestPath={}\", manifestPath);\n        version = readVersionFrom(manifestPath);\n      }\n    }\n    return version;\n  }\n\n  private static String readVersionFrom(String manifestPath) {\n    Manifest manifest = null;\n    try {\n      manifest = new Manifest(new URL(manifestPath).openStream());\n      Attributes attrs = manifest.getMainAttributes();\n\n      String implementationVersion = attrs.getValue(\"Implementation-Version\");\n      implementationVersion = StringUtils.replace(implementationVersion, \"-SNAPSHOT\", \"\");\n      log.debug(\"Read Implementation-Version: {}\", implementationVersion);\n\n      String implementationBuild = attrs.getValue(\"Implementation-Build\");\n      log.debug(\"Read Implementation-Build: {}\", implementationBuild);\n\n      String version = implementationVersion;\n      if (StringUtils.isNotBlank(implementationBuild)) {\n        version = StringUtils.join(new String[] { implementationVersion, implementationBuild }, '.');\n      }\n      return version;\n    } catch (Exception e) {\n      log.error(e.getMessage(), e);\n    }\n    return StringUtils.EMPTY;\n  }\n}\n</code></pre>\n\n<p>Basically, this class can read version information from the manifest of its own JAR file, or the manifest in it's classes folder. And hopefully it works on different platforms, but I only tested it on Mac OS X so far.</p>\n\n<p>I hope this would be useful for someone else.</p>\n"},{"comments":[{"owner":{"account_id":71901,"reputation":13205,"user_id":207791,"accept_rate":74,"display_name":"Victor Sergienko"},"score":1,"creation_date":1456914461,"post_id":18741685,"comment_id":59162348,"body_markdown":"This is the thing I need (to read `Implementation-Version`). Sadly, this failed to work for me on unpacked classes, though the manifest is in &#39;META-INF/MANIFEST.MF&#39;.","body":"This is the thing I need (to read <code>Implementation-Version</code>). Sadly, this failed to work for me on unpacked classes, though the manifest is in &#39;META-INF/MANIFEST.MF&#39;."},{"owner":{"account_id":2368861,"reputation":1591,"user_id":2073963,"display_name":"wonhee"},"score":3,"creation_date":1459903605,"post_id":18741685,"comment_id":60493685,"body_markdown":"This doesn&#39;t work by default unless you add addDefaultImplementationEntries to true for maven-jar-plugin so that it actually has version information in it. By default Manifest file doesn&#39;t include anything. Also @Victor, try to run mvn package and see the inside if it has proper information. Generally those version configuration is in maven-jar-plugin or maven-war-plugin, so unpackaged classes doesn&#39;t have it.","body":"This doesn&#39;t work by default unless you add addDefaultImplementationEntries to true for maven-jar-plugin so that it actually has version information in it. By default Manifest file doesn&#39;t include anything. Also @Victor, try to run mvn package and see the inside if it has proper information. Generally those version configuration is in maven-jar-plugin or maven-war-plugin, so unpackaged classes doesn&#39;t have it."}],"tags":[],"owner":{"account_id":246809,"reputation":898,"user_id":521146,"display_name":"sfelber"},"comment_count":2,"down_vote_count":0,"up_vote_count":45,"is_accepted":false,"score":45,"last_activity_date":1471504097,"creation_date":1378903763,"answer_id":18741685,"question_id":3777055,"body_markdown":"I would suggest to make following:\r\n\r\n    Package aPackage = MyClassName.class.getPackage();\r\n    String implementationVersion = aPackage.getImplementationVersion();\r\n    String implementationVendor = aPackage.getImplementationVendor();\r\n\r\nWhere MyClassName can be any class from your application written by you.\r\n","title":"reading MANIFEST.MF file from jar file using JAVA","body":"<p>I would suggest to make following:</p>\n\n<pre><code>Package aPackage = MyClassName.class.getPackage();\nString implementationVersion = aPackage.getImplementationVersion();\nString implementationVendor = aPackage.getImplementationVendor();\n</code></pre>\n\n<p>Where MyClassName can be any class from your application written by you.</p>\n"},{"tags":[],"owner":{"account_id":4646767,"reputation":17781,"user_id":3764804,"accept_rate":59,"display_name":"BullyWiiPlaza"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1513621059,"creation_date":1513621059,"answer_id":47874224,"question_id":3777055,"body_markdown":"Keep it simple. A `JAR` is also a `ZIP` so any `ZIP` code can be used to read the `MAINFEST.MF`:\r\n\r\n    public static String readManifest(String sourceJARFile) throws IOException\r\n    {\r\n    \tZipFile zipFile = new ZipFile(sourceJARFile);\r\n    \tEnumeration entries = zipFile.entries();\r\n    \r\n    \twhile (entries.hasMoreElements())\r\n    \t{\r\n    \t\tZipEntry zipEntry = (ZipEntry) entries.nextElement();\r\n    \t\tif (zipEntry.getName().equals(&quot;META-INF/MANIFEST.MF&quot;))\r\n    \t\t{\r\n    \t\t\treturn toString(zipFile.getInputStream(zipEntry));\r\n    \t\t}\r\n    \t}\r\n    \r\n    \tthrow new IllegalStateException(&quot;Manifest not found&quot;);\r\n    }\r\n    \r\n    private static String toString(InputStream inputStream) throws IOException\r\n    {\r\n    \tStringBuilder stringBuilder = new StringBuilder();\r\n    \ttry (BufferedReader bufferedReader = new BufferedReader(new InputStreamReader(inputStream)))\r\n    \t{\r\n    \t\tString line;\r\n    \t\twhile ((line = bufferedReader.readLine()) != null)\r\n    \t\t{\r\n    \t\t\tstringBuilder.append(line);\r\n    \t\t\tstringBuilder.append(System.lineSeparator());\r\n    \t\t}\r\n    \t}\r\n    \r\n    \treturn stringBuilder.toString().trim() + System.lineSeparator();\r\n    }\r\n\r\nDespite the flexibility, for just reading data [this][1] answer is the best.\r\n\r\n  [1]: https://stackoverflow.com/a/3777117/3764804","title":"reading MANIFEST.MF file from jar file using JAVA","body":"<p>Keep it simple. A <code>JAR</code> is also a <code>ZIP</code> so any <code>ZIP</code> code can be used to read the <code>MAINFEST.MF</code>:</p>\n\n<pre><code>public static String readManifest(String sourceJARFile) throws IOException\n{\n    ZipFile zipFile = new ZipFile(sourceJARFile);\n    Enumeration entries = zipFile.entries();\n\n    while (entries.hasMoreElements())\n    {\n        ZipEntry zipEntry = (ZipEntry) entries.nextElement();\n        if (zipEntry.getName().equals(\"META-INF/MANIFEST.MF\"))\n        {\n            return toString(zipFile.getInputStream(zipEntry));\n        }\n    }\n\n    throw new IllegalStateException(\"Manifest not found\");\n}\n\nprivate static String toString(InputStream inputStream) throws IOException\n{\n    StringBuilder stringBuilder = new StringBuilder();\n    try (BufferedReader bufferedReader = new BufferedReader(new InputStreamReader(inputStream)))\n    {\n        String line;\n        while ((line = bufferedReader.readLine()) != null)\n        {\n            stringBuilder.append(line);\n            stringBuilder.append(System.lineSeparator());\n        }\n    }\n\n    return stringBuilder.toString().trim() + System.lineSeparator();\n}\n</code></pre>\n\n<p>Despite the flexibility, for just reading data <a href=\"https://stackoverflow.com/a/3777117/3764804\">this</a> answer is the best.</p>\n"},{"tags":[],"owner":{"account_id":2473440,"reputation":4508,"user_id":2154661,"display_name":"Ronald Coarite"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1549197596,"creation_date":1549197596,"answer_id":54502930,"question_id":3777055,"body_markdown":"Achieve the attributes in this simple way\r\n\r\n        public static String  getMainClasFromJarFile(String jarFilePath) throws Exception{\r\n        // Path example: &quot;C:\\\\Users\\\\GIGABYTE\\\\.m2\\\\repository\\\\domolin\\\\DeviceTest\\\\1.0-SNAPSHOT\\\\DeviceTest-1.0-SNAPSHOT.jar&quot;;\r\n        JarInputStream jarStream = new JarInputStream(new FileInputStream(jarFilePath));\r\n        Manifest mf = jarStream.getManifest();\r\n        Attributes attributes = mf.getMainAttributes();\r\n        // Manifest-Version: 1.0\r\n        // Built-By: GIGABYTE\r\n        // Created-By: Apache Maven 3.0.5\r\n        // Build-Jdk: 1.8.0_144\r\n        // Main-Class: domolin.devicetest.DeviceTest\r\n        String mainClass = attributes.getValue(&quot;Main-Class&quot;);\r\n        //String mainClass = attributes.getValue(&quot;Created-By&quot;);\r\n        //  Output: domolin.devicetest.DeviceTest\r\n        return mainClass;\r\n    }","title":"reading MANIFEST.MF file from jar file using JAVA","body":"<p>Achieve the attributes in this simple way</p>\n\n<pre><code>    public static String  getMainClasFromJarFile(String jarFilePath) throws Exception{\n    // Path example: \"C:\\\\Users\\\\GIGABYTE\\\\.m2\\\\repository\\\\domolin\\\\DeviceTest\\\\1.0-SNAPSHOT\\\\DeviceTest-1.0-SNAPSHOT.jar\";\n    JarInputStream jarStream = new JarInputStream(new FileInputStream(jarFilePath));\n    Manifest mf = jarStream.getManifest();\n    Attributes attributes = mf.getMainAttributes();\n    // Manifest-Version: 1.0\n    // Built-By: GIGABYTE\n    // Created-By: Apache Maven 3.0.5\n    // Build-Jdk: 1.8.0_144\n    // Main-Class: domolin.devicetest.DeviceTest\n    String mainClass = attributes.getValue(\"Main-Class\");\n    //String mainClass = attributes.getValue(\"Created-By\");\n    //  Output: domolin.devicetest.DeviceTest\n    return mainClass;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15815856,"reputation":129,"user_id":11411638,"display_name":"Haber"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1593672988,"creation_date":1593672988,"answer_id":62690627,"question_id":3777055,"body_markdown":"\r\n1. read version;\r\n2. we copied MANIFEST.MF from jar to user home.\r\n```\r\n    public void processManifestFile() {\r\n        String version = this.getClass().getPackage().getImplementationVersion();\r\n        LOG.info(&quot;Version: {}&quot;, version);\r\n        Path targetFile = Paths.get(System.getProperty(&quot;user.home&quot;), &quot;my-project&quot;, &quot;MANIFEST.MF&quot;);\r\n\r\n        try {\r\n            URL url = this.getClass().getProtectionDomain().getCodeSource().getLocation();\r\n            JarFile jarFile = new JarFile(url.getFile());\r\n            Manifest manifest = jarFile.getManifest();\r\n            try(FileWriter fw = new FileWriter(targetFile.toFile())) {\r\n                manifest.getMainAttributes().entrySet().stream().forEach( x -&gt; {\r\n                    try {\r\n                        fw.write(x.getKey() + &quot;: &quot; + x.getValue() + &quot;\\n&quot;);\r\n                        LOG.info(&quot;{}: {}&quot;, x.getKey(), x.getValue());\r\n                    } catch (IOException e) {\r\n                        LOG.error(&quot;error in write manifest, {}&quot;, e.getMessage());\r\n                    }\r\n                });\r\n            }\r\n            LOG.info(&quot;Copy MANIFEST.MF to {}&quot;, targetFile);\r\n        } catch (Exception e) {\r\n            LOG.error(&quot;Error in processing MANIFEST.MF file&quot;, e);\r\n        }\r\n    }\r\n```","title":"reading MANIFEST.MF file from jar file using JAVA","body":"<ol>\n<li>read version;</li>\n<li>we copied MANIFEST.MF from jar to user home.</li>\n</ol>\n<pre><code>    public void processManifestFile() {\n        String version = this.getClass().getPackage().getImplementationVersion();\n        LOG.info(&quot;Version: {}&quot;, version);\n        Path targetFile = Paths.get(System.getProperty(&quot;user.home&quot;), &quot;my-project&quot;, &quot;MANIFEST.MF&quot;);\n\n        try {\n            URL url = this.getClass().getProtectionDomain().getCodeSource().getLocation();\n            JarFile jarFile = new JarFile(url.getFile());\n            Manifest manifest = jarFile.getManifest();\n            try(FileWriter fw = new FileWriter(targetFile.toFile())) {\n                manifest.getMainAttributes().entrySet().stream().forEach( x -&gt; {\n                    try {\n                        fw.write(x.getKey() + &quot;: &quot; + x.getValue() + &quot;\\n&quot;);\n                        LOG.info(&quot;{}: {}&quot;, x.getKey(), x.getValue());\n                    } catch (IOException e) {\n                        LOG.error(&quot;error in write manifest, {}&quot;, e.getMessage());\n                    }\n                });\n            }\n            LOG.info(&quot;Copy MANIFEST.MF to {}&quot;, targetFile);\n        } catch (Exception e) {\n            LOG.error(&quot;Error in processing MANIFEST.MF file&quot;, e);\n        }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7421543,"reputation":2874,"user_id":5645656,"accept_rate":100,"display_name":"Cardinal System"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1667310926,"creation_date":1667310926,"answer_id":74277030,"question_id":3777055,"body_markdown":"I&#39;m surprised that no one else proposed this solution:\r\n\r\n    File jar = ...;\r\n\ttry (JarFile jarFile = new JarFile(jar)) {\r\n\t\tManifest manifest = jarFile.getManifest();\r\n        // ...\r\n\t}","title":"reading MANIFEST.MF file from jar file using JAVA","body":"<p>I'm surprised that no one else proposed this solution:</p>\n<pre><code>File jar = ...;\ntry (JarFile jarFile = new JarFile(jar)) {\n    Manifest manifest = jarFile.getManifest();\n    // ...\n}\n</code></pre>\n"}],"owner":{"account_id":67639,"reputation":16346,"user_id":197831,"accept_rate":89,"display_name":"M.J."},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":76926,"favorite_count":0,"down_vote_count":1,"up_vote_count":41,"accepted_answer_id":3777117,"answer_count":9,"score":40,"last_activity_date":1667310926,"creation_date":1285234758,"question_id":3777055,"body_markdown":"Is there any way i can read the contents of a jar file. like i want to read the manifest file in order to find the creator of the jar file and version. Is there any way to achieve the same.","title":"reading MANIFEST.MF file from jar file using JAVA","body":"<p>Is there any way i can read the contents of a jar file. like i want to read the manifest file in order to find the creator of the jar file and version. Is there any way to achieve the same.</p>\n"},{"tags":["java","eclipse","eclipse-jdt","javacc","javaparser"],"comments":[{"owner":{"account_id":13796,"reputation":19353,"user_id":27905,"display_name":"nitind"},"score":0,"creation_date":1664466675,"post_id":73898311,"comment_id":130483735,"body_markdown":"JavaCC != javac. One is a parser generator, the other is a Java Compiler.","body":"JavaCC != javac. One is a parser generator, the other is a Java Compiler."},{"owner":{"account_id":3159259,"reputation":109678,"user_id":2670892,"display_name":"greg-449"},"score":0,"creation_date":1664467024,"post_id":73898311,"comment_id":130483894,"body_markdown":"JavaCC is a tool for building parsers, it does not parse Java itself.","body":"JavaCC is a tool for building parsers, it does not parse Java itself."}],"answers":[{"comments":[{"owner":{"account_id":6128906,"reputation":1172,"user_id":4779853,"display_name":"kaby76"},"score":0,"creation_date":1664578348,"post_id":73901593,"comment_id":130511621,"body_markdown":"@neversnow1 On the Antlr solution, be aware that the [Java grammars](https://github.com/antlr/grammars-v4/tree/master/java) are behind the current version several versions. Updating it is on the &quot;to do list&quot;. When it is it will be done by scraping the grammar directly from the spec, then refactored automatically for performance.","body":"@neversnow1 On the Antlr solution, be aware that the <a href=\"https://github.com/antlr/grammars-v4/tree/master/java\" rel=\"nofollow noreferrer\">Java grammars</a> are behind the current version several versions. Updating it is on the &quot;to do list&quot;. When it is it will be done by scraping the grammar directly from the spec, then refactored automatically for performance."},{"owner":{"account_id":1531219,"reputation":3127,"user_id":1428369,"display_name":"Curiosa Globunznik"},"score":0,"creation_date":1664612137,"post_id":73901593,"comment_id":130515047,"body_markdown":"@kaby76 The [readme](https://github.com/antlr/grammars-v4/tree/master/java/java) says, conformant up to java 17? Yes, they speak of fixes for java 17 conformity [in this (fixed)  issue report](https://github.com/antlr/grammars-v4/issues/2506).","body":"@kaby76 The <a href=\"https://github.com/antlr/grammars-v4/tree/master/java/java\" rel=\"nofollow noreferrer\">readme</a> says, conformant up to java 17? Yes, they speak of fixes for java 17 conformity <a href=\"https://github.com/antlr/grammars-v4/issues/2506\" rel=\"nofollow noreferrer\">in this (fixed)  issue report</a>."},{"owner":{"account_id":6128906,"reputation":1172,"user_id":4779853,"display_name":"kaby76"},"score":0,"creation_date":1664631210,"post_id":73901593,"comment_id":130518230,"body_markdown":"It may be around v17, but hard to say because changes were done piecemeal. And the test suite is not that good. The other two grammars (java8 and java9) are not optimized for performance.","body":"It may be around v17, but hard to say because changes were done piecemeal. And the test suite is not that good. The other two grammars (java8 and java9) are not optimized for performance."}],"tags":[],"owner":{"account_id":1531219,"reputation":3127,"user_id":1428369,"display_name":"Curiosa Globunznik"},"comment_count":3,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1667310516,"creation_date":1664485466,"answer_id":73901593,"question_id":73898311,"body_markdown":"That&#39;s by no means an exhaustive answer, just a bit of clarification on the specific part of your questions and my 5 cents on the more general one. I assume, that you want to analyze Java code.\r\n\r\nI also assume that it is sort of exercise in using code-as-data and \r\n grammars/parsers. Otherwise the field of [code analysis][1] itself is huge with very specific niches like finding bugs or checking code for thread safety, say.  \r\n\r\nIn general, there&#39;s a huge amount of tools available for the purpose, but if we limit them to those written in Java the biggest fish in the open source space seem to be covered here. For a more complete list see [this blog][2] from some of the authors of JavaParser and [this][3] for a general introduction to the topic. It may also be worth it to have a look at their material on the somewhat overlapping topic of [language development][4] in general.\r\n\r\nIn an ex post view those question were lurking in the background of this response:\r\n\r\n - Do you need to parse in the first place? E.g. getting word or line counts won&#39;t need full blown parsing. [Regex][5] or a [scanner][6] (often the first stage in parsing) might do if you want to elicit all string constants or identifiers. They can&#39;t get at the nested structure of code, though. \r\n - Is full parsing needed or will a subset of the grammar do? Tools like [comby][7] will consider the nested structure of code out of the box glossing over the details.\r\n - Is it an interactive (IDE) setting with lots of feedback, editing support and continuous [incremental compilation][8] in the background needed?\r\n - Do you need to base operations on incomplete or (temporarily) broken code, like for e.g. code completion? That [may also][9] be reflected in the grammar you want to use. \r\n - Do you have to deal with stuff that goes beyond parsing, e.g. type checking?\r\n - Is it only about analysis or transformations also?\r\n - Whats the size of the code to handle in given time constraints? More generic tools won&#39;t give you the fastest possible processing.\r\n - Do you need a compact stand alone tool or can you live with a zoo of dependencies?\r\n - How well is the structure of the output suited to the intended operations on it? All java specific parsing tools mentioned will give you an [abstract syntax tree (AST)][10] for a given piece of code, but each AST will be different (will be discussed below).\r\n\r\nLet&#39;s go from the specific to the general:\r\n\r\ncom.github.javaparser parses a static piece of java code (note: only java, only static) and gives you an [AST][10]. The package also has SymbolResolver, which tries to determine the Java type of symbols. Its called JavaParser, but it isn&#39;t just a parser, it supports Java streams for querying and comes with AST manipulation and code generation capabilities. A main backer is an Italian company btw.\r\n\r\nEclipse jdt is comparably huge, with org.eclipse.jdt.core.dom.ASTParser giving you an AST. But as opposed to JavaParser everything is geared towards handling Java (only) in an interactive development situation. Since Eclipse can perform refactorings, it must be able to analyze and manipulate the AST, here&#39;s [an example][11] for that (as part of [this][12] post) and [here][13] are comprehensive examples for the refactoring api. If you&#39;re building some Eclipse integrated functionality to support writing of code, that will be your first option anyway. Eclipse Jdt [supports][14] incremental compilation in some form which you need if you want some compile-on-the-fly-and-give-feedback-as-the-code-gets-typed functionality. \r\n\r\nI also worked a bit with the [spoon][15] library (developed by a university in France) which has the same focus as JavaParser, also does symbol resolution but has different querying mechanisms. It builds on org.eclipse.jdt.core. Each of those tools will give you a different AST for the same java code reflecting their intended use case, spoon describes it like this:\r\n\r\n&gt; A programming language can have different meta models. An abstract syntax tree (AST) or model, is an instance of a meta model. Each meta model – and consequently each AST – is more or less\r\n&gt; appropriate depending on the task at hand. For instance, the Java meta\r\n&gt; model of Sun’s compiler (javac) has been designed and optimized for\r\n&gt; compilation to bytecode, while, the main purpose of the Java meta\r\n&gt; model of the Eclipse IDE (JDT) is to support different tasks of\r\n&gt; software development in an integrated manner (code completion, quick\r\n&gt; fix of compilation errors, debug, etc.).\r\n\r\nThe most stark difference is between the more domain specific tools  and the parser generators&#39; generated parsers. While having some difference even between them, JavaParser/Spoon ASTs mirror the code on a conceptual level, you get methods, parameter lists, parameters and so on while the generated parsers give you every detail in the grammar down to semicolons, commas and braces as elements in the AST. I think, Eclipse has an Ast View where you can see JDT&#39;s parser output perhaps, but I&#39;m not aware of a comprehensive tool that can show you differences between different parser for java like [AstExplorer][16] does it in the javascript world.\r\n\r\nWhich framework suits your need will depend very much on your use case. E.g. if you need symbol resolution, you&#39;re probably bound to those options that provide it anyway. I tried to get my feet wet with a Java transpiler and found the JavaParser metamodel more suitable than spoon&#39;s model and liked its small number of dependencies.   \r\n\r\nA general (though non-incremental) way to get a handle at an AST would be a parser generator like JavaCC (read: compiler compiler (aka compiler generator) written in Java that can create parsers for anything you have a grammar for) or [ANTLR][17]. If you want to parse SQL, you feed them a sql grammar, if you want to parse Java code, you feed them [this one][18] (ANTLR-format) or [this one][19] (JavaCC-format). The result will be a parser which can give you an AST for a given piece of code and a visitor class perhaps. \r\n\r\nThis approach gives you all possible control over the processing and the possibility to define or tweak a grammar depending on your needs, e.g. to introduce additional non-terminal nodes, trim it down to class/method-level only or pick out comments only without confusing them with string constants, if that&#39;s all you care about. You could also get at the structure of embedded non-Java code fragments, e.g. SQL query strings.\r\n\r\nBtw. ANTLR can handle direct left recursion in the grammar, while JavaCC can&#39;t, e.g. for arithmetic expressions for binary operators like in `exp := exp + exp`\r\n\r\nIf your goal is to support developer activities as they write the code you&#39;ll have to deal with broken or incomplete code. Eclipse is build for the purpose and while I didn&#39;t use its jdt I&#39;d expect it to handle such cases gracefully with reasonable feedback. Also ANTLR will [recover][20] from syntax errors if possible allowing you to [define some error handling][21]. I don&#39;t remember what spoon and JavaParser did in case of errors, I think, they expect syntactically correct code upfront.   \r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/List_of_tools_for_static_code_analysis\r\n  [2]: https://tomassetti.me/parsing-in-java/\r\n  [3]: https://tomassetti.me/guide-parsing-algorithms-terminology/\r\n  [4]: https://tomassetti.me/resources-create-programming-languages/\r\n  [5]: https://en.wikipedia.org/wiki/Regular_expression\r\n  [6]: https://stackoverflow.com/questions/1739175/whats-the-difference-between-a-parser-and-a-scanner\r\n  [7]: https://comby.dev/\r\n  [8]: https://en.wikipedia.org/wiki/Incremental_compiler\r\n  [9]: https://stackoverflow.com/a/73787646/1428369\r\n  [10]: https://en.wikipedia.org/wiki/Abstract_syntax_tree\r\n  [11]: https://www.vogella.com/tutorials/EclipseJDT/article.html\r\n  [12]: https://stackoverflow.com/questions/1314208/writing-a-new-refactoring-plugin-for-eclipse\r\n  [13]: https://www.programcreek.com/2011/01/best-java-development-tooling-jdt-and-astparser-tutorials/\r\n  [14]: https://www.eclipse.org/jdt/core/index.php\r\n  [15]: https://github.com/INRIA/spoon\r\n  [16]: https://astexplorer.net/\r\n  [17]: https://www.antlr.org/\r\n  [18]: https://github.com/antlr/grammars-v4/tree/master/java/java\r\n  [19]: https://github.com/javaparser/javaparser/blob/master/javaparser-core/src/main/javacc/java.jj\r\n  [20]: https://media.pragprog.com/titles/tpantlr/errors.pdf\r\n  [21]: https://stackoverflow.com/questions/30479367/antlr4-recover-from-error-and-continue-parsing-until-eof","title":"Understanding JavaParser compared to JavaCC and Eclipse JDT","body":"<p>That's by no means an exhaustive answer, just a bit of clarification on the specific part of your questions and my 5 cents on the more general one. I assume, that you want to analyze Java code.</p>\n<p>I also assume that it is sort of exercise in using code-as-data and\ngrammars/parsers. Otherwise the field of <a href=\"https://en.wikipedia.org/wiki/List_of_tools_for_static_code_analysis\" rel=\"nofollow noreferrer\">code analysis</a> itself is huge with very specific niches like finding bugs or checking code for thread safety, say.</p>\n<p>In general, there's a huge amount of tools available for the purpose, but if we limit them to those written in Java the biggest fish in the open source space seem to be covered here. For a more complete list see <a href=\"https://tomassetti.me/parsing-in-java/\" rel=\"nofollow noreferrer\">this blog</a> from some of the authors of JavaParser and <a href=\"https://tomassetti.me/guide-parsing-algorithms-terminology/\" rel=\"nofollow noreferrer\">this</a> for a general introduction to the topic. It may also be worth it to have a look at their material on the somewhat overlapping topic of <a href=\"https://tomassetti.me/resources-create-programming-languages/\" rel=\"nofollow noreferrer\">language development</a> in general.</p>\n<p>In an ex post view those question were lurking in the background of this response:</p>\n<ul>\n<li>Do you need to parse in the first place? E.g. getting word or line counts won't need full blown parsing. <a href=\"https://en.wikipedia.org/wiki/Regular_expression\" rel=\"nofollow noreferrer\">Regex</a> or a <a href=\"https://stackoverflow.com/questions/1739175/whats-the-difference-between-a-parser-and-a-scanner\">scanner</a> (often the first stage in parsing) might do if you want to elicit all string constants or identifiers. They can't get at the nested structure of code, though.</li>\n<li>Is full parsing needed or will a subset of the grammar do? Tools like <a href=\"https://comby.dev/\" rel=\"nofollow noreferrer\">comby</a> will consider the nested structure of code out of the box glossing over the details.</li>\n<li>Is it an interactive (IDE) setting with lots of feedback, editing support and continuous <a href=\"https://en.wikipedia.org/wiki/Incremental_compiler\" rel=\"nofollow noreferrer\">incremental compilation</a> in the background needed?</li>\n<li>Do you need to base operations on incomplete or (temporarily) broken code, like for e.g. code completion? That <a href=\"https://stackoverflow.com/a/73787646/1428369\">may also</a> be reflected in the grammar you want to use.</li>\n<li>Do you have to deal with stuff that goes beyond parsing, e.g. type checking?</li>\n<li>Is it only about analysis or transformations also?</li>\n<li>Whats the size of the code to handle in given time constraints? More generic tools won't give you the fastest possible processing.</li>\n<li>Do you need a compact stand alone tool or can you live with a zoo of dependencies?</li>\n<li>How well is the structure of the output suited to the intended operations on it? All java specific parsing tools mentioned will give you an <a href=\"https://en.wikipedia.org/wiki/Abstract_syntax_tree\" rel=\"nofollow noreferrer\">abstract syntax tree (AST)</a> for a given piece of code, but each AST will be different (will be discussed below).</li>\n</ul>\n<p>Let's go from the specific to the general:</p>\n<p>com.github.javaparser parses a static piece of java code (note: only java, only static) and gives you an <a href=\"https://en.wikipedia.org/wiki/Abstract_syntax_tree\" rel=\"nofollow noreferrer\">AST</a>. The package also has SymbolResolver, which tries to determine the Java type of symbols. Its called JavaParser, but it isn't just a parser, it supports Java streams for querying and comes with AST manipulation and code generation capabilities. A main backer is an Italian company btw.</p>\n<p>Eclipse jdt is comparably huge, with org.eclipse.jdt.core.dom.ASTParser giving you an AST. But as opposed to JavaParser everything is geared towards handling Java (only) in an interactive development situation. Since Eclipse can perform refactorings, it must be able to analyze and manipulate the AST, here's <a href=\"https://www.vogella.com/tutorials/EclipseJDT/article.html\" rel=\"nofollow noreferrer\">an example</a> for that (as part of <a href=\"https://stackoverflow.com/questions/1314208/writing-a-new-refactoring-plugin-for-eclipse\">this</a> post) and <a href=\"https://www.programcreek.com/2011/01/best-java-development-tooling-jdt-and-astparser-tutorials/\" rel=\"nofollow noreferrer\">here</a> are comprehensive examples for the refactoring api. If you're building some Eclipse integrated functionality to support writing of code, that will be your first option anyway. Eclipse Jdt <a href=\"https://www.eclipse.org/jdt/core/index.php\" rel=\"nofollow noreferrer\">supports</a> incremental compilation in some form which you need if you want some compile-on-the-fly-and-give-feedback-as-the-code-gets-typed functionality.</p>\n<p>I also worked a bit with the <a href=\"https://github.com/INRIA/spoon\" rel=\"nofollow noreferrer\">spoon</a> library (developed by a university in France) which has the same focus as JavaParser, also does symbol resolution but has different querying mechanisms. It builds on org.eclipse.jdt.core. Each of those tools will give you a different AST for the same java code reflecting their intended use case, spoon describes it like this:</p>\n<blockquote>\n<p>A programming language can have different meta models. An abstract syntax tree (AST) or model, is an instance of a meta model. Each meta model – and consequently each AST – is more or less\nappropriate depending on the task at hand. For instance, the Java meta\nmodel of Sun’s compiler (javac) has been designed and optimized for\ncompilation to bytecode, while, the main purpose of the Java meta\nmodel of the Eclipse IDE (JDT) is to support different tasks of\nsoftware development in an integrated manner (code completion, quick\nfix of compilation errors, debug, etc.).</p>\n</blockquote>\n<p>The most stark difference is between the more domain specific tools  and the parser generators' generated parsers. While having some difference even between them, JavaParser/Spoon ASTs mirror the code on a conceptual level, you get methods, parameter lists, parameters and so on while the generated parsers give you every detail in the grammar down to semicolons, commas and braces as elements in the AST. I think, Eclipse has an Ast View where you can see JDT's parser output perhaps, but I'm not aware of a comprehensive tool that can show you differences between different parser for java like <a href=\"https://astexplorer.net/\" rel=\"nofollow noreferrer\">AstExplorer</a> does it in the javascript world.</p>\n<p>Which framework suits your need will depend very much on your use case. E.g. if you need symbol resolution, you're probably bound to those options that provide it anyway. I tried to get my feet wet with a Java transpiler and found the JavaParser metamodel more suitable than spoon's model and liked its small number of dependencies.</p>\n<p>A general (though non-incremental) way to get a handle at an AST would be a parser generator like JavaCC (read: compiler compiler (aka compiler generator) written in Java that can create parsers for anything you have a grammar for) or <a href=\"https://www.antlr.org/\" rel=\"nofollow noreferrer\">ANTLR</a>. If you want to parse SQL, you feed them a sql grammar, if you want to parse Java code, you feed them <a href=\"https://github.com/antlr/grammars-v4/tree/master/java/java\" rel=\"nofollow noreferrer\">this one</a> (ANTLR-format) or <a href=\"https://github.com/javaparser/javaparser/blob/master/javaparser-core/src/main/javacc/java.jj\" rel=\"nofollow noreferrer\">this one</a> (JavaCC-format). The result will be a parser which can give you an AST for a given piece of code and a visitor class perhaps.</p>\n<p>This approach gives you all possible control over the processing and the possibility to define or tweak a grammar depending on your needs, e.g. to introduce additional non-terminal nodes, trim it down to class/method-level only or pick out comments only without confusing them with string constants, if that's all you care about. You could also get at the structure of embedded non-Java code fragments, e.g. SQL query strings.</p>\n<p>Btw. ANTLR can handle direct left recursion in the grammar, while JavaCC can't, e.g. for arithmetic expressions for binary operators like in <code>exp := exp + exp</code></p>\n<p>If your goal is to support developer activities as they write the code you'll have to deal with broken or incomplete code. Eclipse is build for the purpose and while I didn't use its jdt I'd expect it to handle such cases gracefully with reasonable feedback. Also ANTLR will <a href=\"https://media.pragprog.com/titles/tpantlr/errors.pdf\" rel=\"nofollow noreferrer\">recover</a> from syntax errors if possible allowing you to <a href=\"https://stackoverflow.com/questions/30479367/antlr4-recover-from-error-and-continue-parsing-until-eof\">define some error handling</a>. I don't remember what spoon and JavaParser did in case of errors, I think, they expect syntactically correct code upfront.</p>\n"}],"owner":{"account_id":17183035,"reputation":87,"user_id":12438175,"display_name":"neversnow1"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":568,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":73901593,"answer_count":1,"score":4,"last_activity_date":1667310516,"creation_date":1664466297,"question_id":73898311,"body_markdown":"I&#39;m currently beginning an automated software analysis project of which I am the research phase. I&#39;m quite new to parsing and struggling to find info on resources regarding comparisons between the main java parsing options. I understand JavaParser was created using JavaCC, what functionalities does it contain that JavaCC does not? Are there any primary differences I should be aware of when making a decision as to which parser to use. Similarly, are there features that the Eclipse JDT contains compared to these two which may be of use to me? Thank you for any answers in advance.","title":"Understanding JavaParser compared to JavaCC and Eclipse JDT","body":"<p>I'm currently beginning an automated software analysis project of which I am the research phase. I'm quite new to parsing and struggling to find info on resources regarding comparisons between the main java parsing options. I understand JavaParser was created using JavaCC, what functionalities does it contain that JavaCC does not? Are there any primary differences I should be aware of when making a decision as to which parser to use. Similarly, are there features that the Eclipse JDT contains compared to these two which may be of use to me? Thank you for any answers in advance.</p>\n"},{"tags":["java","android","json"],"comments":[{"owner":{"account_id":1077685,"reputation":2777,"user_id":1075466,"accept_rate":58,"display_name":"Lawrence Gimenez"},"score":0,"creation_date":1667310058,"post_id":74276595,"comment_id":131134057,"body_markdown":"https://stackoverflow.com/questions/54497699/volley-request-with-headers-and-body-params","body":"<a href=\"https://stackoverflow.com/questions/54497699/volley-request-with-headers-and-body-params\" title=\"volley request with headers and body params\">stackoverflow.com/questions/54497699/&hellip;</a>"},{"owner":{"account_id":5617891,"reputation":4182,"user_id":4448617,"display_name":"Ratilal Chopda"},"score":0,"creation_date":1667310246,"post_id":74276595,"comment_id":131134119,"body_markdown":"Please remove the *.* in your URL  https://test.ir/public/api/v3/PropertyAssignment","body":"Please remove the <i>.</i> in your URL  <a href=\"https://test.ir/public/api/v3/PropertyAssignment\" rel=\"nofollow noreferrer\">test.ir/public/api/v3/PropertyAssignment</a>"}],"answers":[{"tags":[],"owner":{"account_id":5617891,"reputation":4182,"user_id":4448617,"display_name":"Ratilal Chopda"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667310351,"creation_date":1667310351,"answer_id":74276916,"question_id":74276595,"body_markdown":"Please check below URL \r\n\r\n     StringRequest stringRequest = new StringRequest(Request.Method.POST, &quot;https://test.ir/public/api/v3/PropertyAssignment&quot;,","title":"How to send POST of JSON raw body using volley?","body":"<p>Please check below URL</p>\n<pre><code> StringRequest stringRequest = new StringRequest(Request.Method.POST, &quot;https://test.ir/public/api/v3/PropertyAssignment&quot;,\n</code></pre>\n"}],"owner":{"account_id":14688816,"reputation":354,"user_id":10608055,"display_name":"Amin"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1667310351,"creation_date":1667308783,"question_id":74276595,"body_markdown":"While posting the raw data I also have to send the  parameters. Whatever I tried, I have not been able to post it with android java.\r\n\r\n&lt;b&gt;my sample input is : &lt;/b&gt; \r\n\r\n[![enter image description here](https://i.stack.imgur.com/NNwXq.png)](https://i.stack.imgur.com/NNwXq.png)\r\n \r\n\r\nMy code is  - ApiService.class&lt;br&gt;\r\n\r\n```\r\n public void sendTest(String token,final TestConfig config) {\r\n\r\n        StringRequest stringRequest = new StringRequest(Request.Method.POST, &quot;https://.test.ir/public/api/v3/PropertyAssignment&quot;,\r\n                new Response.Listener&lt;String&gt;() {\r\n                    @Override\r\n                    public void onResponse(String response) {\r\n                        config.onReceived(response);\r\n                    }\r\n                },\r\n                new Response.ErrorListener() {\r\n                    @Override\r\n                    public void onErrorResponse(VolleyError error) {\r\n                        if (error instanceof NoConnectionError || error instanceof TimeoutError) {\r\n                            context.startActivity(new Intent(context, NoInternet.class));\r\n\r\n                        }\r\n\r\n                        config.onError(error.getMessage());\r\n                    }\r\n                }) {\r\n\r\n            @Nullable\r\n            @org.jetbrains.annotations.Nullable\r\n            @Override\r\n            protected Map&lt;String, String&gt; getParams() throws AuthFailureError {\r\n                HashMap&lt;String, String&gt; hashMap = new HashMap&lt;String, String&gt;();\r\n//                params.put(Vars.KEY_AUTH, Vars.AUTH);\r\n                hashMap.put(&quot;title&quot;, &quot;hi&quot;);\r\n                hashMap.put(&quot;address&quot;, &quot;address1&quot;);\r\n                hashMap.put(&quot;price&quot;, &quot;200000&quot;);\r\n                hashMap.put(&quot;region&quot;, &quot;[6,8]&quot;);\r\n                return hashMap;\r\n            }\r\n            @Override\r\n            public Map&lt;String, String&gt; getHeaders() throws AuthFailureError {\r\n                HashMap&lt;String, String&gt; params = new HashMap&lt;String, String&gt;();\r\n//                params.put(Vars.KEY_AUTH, Vars.AUTH);\r\n                params.put(Vars.KEY_AUTH, token);\r\n                params.put(Vars.KEY_USERNAME, Vars.USERNAME);\r\n                params.put(Vars.KEY_PASSWORD, Vars.PASSWORD);\r\n                return params;\r\n            }\r\n\r\n\r\n        };\r\n\r\n        RequestQueue requestQueue = Volley.newRequestQueue(context);\r\n        requestQueue.add(stringRequest);\r\n\r\n\r\n    }\r\n\r\n```\r\n\r\ncall\r\n \r\n```\r\nApiService  apiService = new ApiService(this);\r\n\r\napiService.sendTest(new UserSharedPref(this).getUserToken(),\r\n        new ApiService.TestConfig() {\r\n            @Override\r\n            public void onReceived(String res) {\r\n                Log.i(&quot;alllllllllllllll&quot;,res);\r\n            }\r\n\r\n            @Override\r\n            public void onError(String errorCode) {\r\n\r\n            }\r\n        });\r\n```\r\n\r\n\r\n\r\nMy sample input that i want to send to the web service and i can&#39;t send it  with params.","title":"How to send POST of JSON raw body using volley?","body":"<p>While posting the raw data I also have to send the  parameters. Whatever I tried, I have not been able to post it with android java.</p>\n<p><b>my sample input is : </b></p>\n<p><a href=\"https://i.stack.imgur.com/NNwXq.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/NNwXq.png\" alt=\"enter image description here\" /></a></p>\n<p>My code is  - ApiService.class<br></p>\n<pre><code> public void sendTest(String token,final TestConfig config) {\n\n        StringRequest stringRequest = new StringRequest(Request.Method.POST, &quot;https://.test.ir/public/api/v3/PropertyAssignment&quot;,\n                new Response.Listener&lt;String&gt;() {\n                    @Override\n                    public void onResponse(String response) {\n                        config.onReceived(response);\n                    }\n                },\n                new Response.ErrorListener() {\n                    @Override\n                    public void onErrorResponse(VolleyError error) {\n                        if (error instanceof NoConnectionError || error instanceof TimeoutError) {\n                            context.startActivity(new Intent(context, NoInternet.class));\n\n                        }\n\n                        config.onError(error.getMessage());\n                    }\n                }) {\n\n            @Nullable\n            @org.jetbrains.annotations.Nullable\n            @Override\n            protected Map&lt;String, String&gt; getParams() throws AuthFailureError {\n                HashMap&lt;String, String&gt; hashMap = new HashMap&lt;String, String&gt;();\n//                params.put(Vars.KEY_AUTH, Vars.AUTH);\n                hashMap.put(&quot;title&quot;, &quot;hi&quot;);\n                hashMap.put(&quot;address&quot;, &quot;address1&quot;);\n                hashMap.put(&quot;price&quot;, &quot;200000&quot;);\n                hashMap.put(&quot;region&quot;, &quot;[6,8]&quot;);\n                return hashMap;\n            }\n            @Override\n            public Map&lt;String, String&gt; getHeaders() throws AuthFailureError {\n                HashMap&lt;String, String&gt; params = new HashMap&lt;String, String&gt;();\n//                params.put(Vars.KEY_AUTH, Vars.AUTH);\n                params.put(Vars.KEY_AUTH, token);\n                params.put(Vars.KEY_USERNAME, Vars.USERNAME);\n                params.put(Vars.KEY_PASSWORD, Vars.PASSWORD);\n                return params;\n            }\n\n\n        };\n\n        RequestQueue requestQueue = Volley.newRequestQueue(context);\n        requestQueue.add(stringRequest);\n\n\n    }\n\n</code></pre>\n<p>call</p>\n<pre><code>ApiService  apiService = new ApiService(this);\n\napiService.sendTest(new UserSharedPref(this).getUserToken(),\n        new ApiService.TestConfig() {\n            @Override\n            public void onReceived(String res) {\n                Log.i(&quot;alllllllllllllll&quot;,res);\n            }\n\n            @Override\n            public void onError(String errorCode) {\n\n            }\n        });\n</code></pre>\n<p>My sample input that i want to send to the web service and i can't send it  with params.</p>\n"},{"tags":["java","algorithm","data-structures"],"comments":[{"owner":{"account_id":4680926,"reputation":2259,"user_id":3789665,"accept_rate":57,"display_name":"greybeard"},"score":0,"creation_date":1667258434,"post_id":74268260,"comment_id":131123058,"body_markdown":"Please read the description of what you use as tags: DSA is ***not** Data Structures&amp;Algorithms*. At that, presenting a definition/declaration of tha &quot;data structure&quot; might be helpful.","body":"Please read the description of what you use as tags: DSA is <b><i>not</b> Data Structures&amp;Algorithms</i>. At that, presenting a definition/declaration of tha &quot;data structure&quot; might be helpful."}],"answers":[{"tags":[],"owner":{"account_id":2794,"reputation":88146,"user_id":3937,"accept_rate":76,"display_name":"Lou Franco"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1667310220,"creation_date":1667244736,"answer_id":74268286,"question_id":74268260,"body_markdown":"There is always 1 parameter to a member function ... the object you called the function on (represented by `this` in the function).\r\n\r\nWhen you call \r\n\r\n    return 1 + tail.length();\r\n\r\nThe function `length` will have a `this` that refers to the `tail` here.  The `tail` in that function is `tail.tail`","title":"How does this recursive function with no parameters work?","body":"<p>There is always 1 parameter to a member function ... the object you called the function on (represented by <code>this</code> in the function).</p>\n<p>When you call</p>\n<pre><code>return 1 + tail.length();\n</code></pre>\n<p>The function <code>length</code> will have a <code>this</code> that refers to the <code>tail</code> here.  The <code>tail</code> in that function is <code>tail.tail</code></p>\n"},{"comments":[{"owner":{"account_id":23399753,"reputation":41,"user_id":17463100,"display_name":"kuro"},"score":0,"creation_date":1667245629,"post_id":74268288,"comment_id":131120344,"body_markdown":"I see. this definitely helps a lot however there&#39;s still one thing I want to clarify. why does 1 + tail.length() == 1 + 1? that&#39;s whats stumping me.","body":"I see. this definitely helps a lot however there&#39;s still one thing I want to clarify. why does 1 + tail.length() == 1 + 1? that&#39;s whats stumping me."},{"owner":{"account_id":465573,"reputation":192703,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1667246144,"post_id":74268288,"comment_id":131120482,"body_markdown":"`tail.length()` is 1, since it&#39;s the last element of the list.  So `1 + tail.length()` is `1 + 1`.","body":"<code>tail.length()</code> is 1, since it&#39;s the last element of the list.  So <code>1 + tail.length()</code> is <code>1 + 1</code>."}],"tags":[],"owner":{"account_id":465573,"reputation":192703,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1667245404,"creation_date":1667244746,"answer_id":74268288,"question_id":74268260,"body_markdown":"&gt; when the function reaches the last object in the list, that objects tail will be null, so why does the function not just end up returning 1? \r\n\r\nIt does -- when called on the last object in the list.\r\n\r\n&gt; what does 1 + tail.length() actually do.\r\n\r\nIt calls `length` on the `tail` object.  When you say this has &quot;no parameters,&quot; you&#39;re not quite right -- the parameter is which object it&#39;s being called on.  So if you call `node.length()` where `node.tail == tail1` and `tail1.tail == null`, then `node.length()` is `1 + tail1.length()` is `1 + 1` is 2, for a total length of 2 -- which is what we&#39;d expect.","title":"How does this recursive function with no parameters work?","body":"<blockquote>\n<p>when the function reaches the last object in the list, that objects tail will be null, so why does the function not just end up returning 1?</p>\n</blockquote>\n<p>It does -- when called on the last object in the list.</p>\n<blockquote>\n<p>what does 1 + tail.length() actually do.</p>\n</blockquote>\n<p>It calls <code>length</code> on the <code>tail</code> object.  When you say this has &quot;no parameters,&quot; you're not quite right -- the parameter is which object it's being called on.  So if you call <code>node.length()</code> where <code>node.tail == tail1</code> and <code>tail1.tail == null</code>, then <code>node.length()</code> is <code>1 + tail1.length()</code> is <code>1 + 1</code> is 2, for a total length of 2 -- which is what we'd expect.</p>\n"},{"tags":[],"owner":{"account_id":1937019,"reputation":4428,"user_id":1744230,"accept_rate":100,"display_name":"QBrute"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1667246845,"creation_date":1667245895,"answer_id":74268476,"question_id":74268260,"body_markdown":"Let&#39;s assume you have a list like `[a, b, c, d]` and you&#39;re calling `length()` on it. `this` will initially be the first element `a` and `tail` will be the next element `b`. So the flow of the code should be something like this:\r\n\r\n    this.length() // Element &#39;a&#39;\r\n    Is tail == null? // No, tail is &#39;b&#39;\r\n    return 1 + &lt;result of length() of &#39;b&#39;&gt;\r\n    |\r\n    |   this.length() // Element &#39;b&#39;\r\n    |   Is tail == null? // No, tail is &#39;c&#39;\r\n    |   return 1 + &lt;result of length() of &#39;c&#39;&gt;\r\n    |   |\r\n    |   |   this.length() // Element &#39;c&#39;\r\n    |   |   Is tail == null? // No, tail is &#39;d&#39;\r\n    |   |   return 1 + &lt;result of length() of &#39;d&#39;&gt;\r\n    |   |   |\r\n    |   |   |   this.length() // Element &#39;d&#39;\r\n    |   |   |   Is tail == null? // Yes, there&#39;s no element after &#39;d&#39; so return 1\r\n    |   |   |   return 1 // return 1 from length() of &#39;d&#39;\r\n    |   |   |\r\n    |   |   return 1 + 1 // return 2 from length() of &#39;c&#39;\r\n    |   |\r\n    |   return 1 + 2 // return 3 from length() of &#39;b&#39;\r\n    |\r\n    return 1 + 3 // return 4 from length() of &#39;a&#39;\r\n\r\nSo in the end, `length()` will give you the correct result of `4`\r\n\r\n    ","title":"How does this recursive function with no parameters work?","body":"<p>Let's assume you have a list like <code>[a, b, c, d]</code> and you're calling <code>length()</code> on it. <code>this</code> will initially be the first element <code>a</code> and <code>tail</code> will be the next element <code>b</code>. So the flow of the code should be something like this:</p>\n<pre><code>this.length() // Element 'a'\nIs tail == null? // No, tail is 'b'\nreturn 1 + &lt;result of length() of 'b'&gt;\n|\n|   this.length() // Element 'b'\n|   Is tail == null? // No, tail is 'c'\n|   return 1 + &lt;result of length() of 'c'&gt;\n|   |\n|   |   this.length() // Element 'c'\n|   |   Is tail == null? // No, tail is 'd'\n|   |   return 1 + &lt;result of length() of 'd'&gt;\n|   |   |\n|   |   |   this.length() // Element 'd'\n|   |   |   Is tail == null? // Yes, there's no element after 'd' so return 1\n|   |   |   return 1 // return 1 from length() of 'd'\n|   |   |\n|   |   return 1 + 1 // return 2 from length() of 'c'\n|   |\n|   return 1 + 2 // return 3 from length() of 'b'\n|\nreturn 1 + 3 // return 4 from length() of 'a'\n</code></pre>\n<p>So in the end, <code>length()</code> will give you the correct result of <code>4</code></p>\n"}],"owner":{"account_id":23399753,"reputation":41,"user_id":17463100,"display_name":"kuro"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":100,"favorite_count":0,"down_vote_count":2,"up_vote_count":3,"accepted_answer_id":74268476,"answer_count":3,"score":1,"last_activity_date":1667310220,"creation_date":1667244556,"question_id":74268260,"body_markdown":"This function calculates the length of a singly linked list recursively.\r\n\r\n`tail` is an instance variable that points to the next object in the list.\r\n\r\n```java\r\n    public int length() {\r\n        if (tail == null) {\r\n            return 1;\r\n        }\r\n\r\n        return 1 + tail.length();\r\n    }\r\n```\r\n\r\nHowever it uses no parameters as shown. I&#39;m struggling to understand the logic behind this code, could I get some help with understanding what&#39;s actually going on here?\r\n\r\nMy first point of confusion is when the function reaches the last object in the list, that objects tail will be null, so why does the function not just end up returning 1?  \r\nAnd secondly, what does `1 + tail.length()` actually do?\r\n\r\nThe most I understand is that `1` and `tail.length()` can be added due to the `length` function having a return type of int.","title":"How does this recursive function with no parameters work?","body":"<p>This function calculates the length of a singly linked list recursively.</p>\n<p><code>tail</code> is an instance variable that points to the next object in the list.</p>\n<pre class=\"lang-java prettyprint-override\"><code>    public int length() {\n        if (tail == null) {\n            return 1;\n        }\n\n        return 1 + tail.length();\n    }\n</code></pre>\n<p>However it uses no parameters as shown. I'm struggling to understand the logic behind this code, could I get some help with understanding what's actually going on here?</p>\n<p>My first point of confusion is when the function reaches the last object in the list, that objects tail will be null, so why does the function not just end up returning 1?<br />\nAnd secondly, what does <code>1 + tail.length()</code> actually do?</p>\n<p>The most I understand is that <code>1</code> and <code>tail.length()</code> can be added due to the <code>length</code> function having a return type of int.</p>\n"},{"tags":["java","oop","design-patterns","solid-principles","design-principles"],"comments":[{"owner":{"account_id":1189417,"reputation":30924,"user_id":1162620,"accept_rate":70,"display_name":"Ravi"},"score":0,"creation_date":1514735156,"post_id":48043773,"comment_id":83058544,"body_markdown":"Are you pointing to `SimpleProductFactory ` class ?","body":"Are you pointing to <code>SimpleProductFactory </code> class ?"},{"owner":{"account_id":6965005,"reputation":71,"user_id":6625907,"display_name":"LangLearn Korean"},"score":0,"creation_date":1514735323,"post_id":48043773,"comment_id":83058578,"body_markdown":"@Ravi I am not sure what you mean. If this was a real program I imagine I would have SimpleProductFactory used in multiple places but SimpleProductFactory would not have more methods added to it.","body":"@Ravi I am not sure what you mean. If this was a real program I imagine I would have SimpleProductFactory used in multiple places but SimpleProductFactory would not have more methods added to it."},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1514735369,"post_id":48043773,"comment_id":83058590,"body_markdown":"I think that you want to use an [abstract factory](https://stackoverflow.com/a/13030163/522444) for this. Edit: as Timothy Truckle mentions in his answer (1+)","body":"I think that you want to use an <a href=\"https://stackoverflow.com/a/13030163/522444\">abstract factory</a> for this. Edit: as Timothy Truckle mentions in his answer (1+)"},{"owner":{"account_id":1455702,"reputation":15684,"user_id":1371329,"accept_rate":64,"display_name":"jaco0646"},"score":0,"creation_date":1543414866,"post_id":48043773,"comment_id":93911807,"body_markdown":"I think what Ravi means is that if you inject a `SimpleProductFactory` into the `Client` rather than instantiate it directly, you can subclass the factory to change its behavior without violating OCP.","body":"I think what Ravi means is that if you inject a <code>SimpleProductFactory</code> into the <code>Client</code> rather than instantiate it directly, you can subclass the factory to change its behavior without violating OCP."}],"answers":[{"comments":[{"owner":{"account_id":1455702,"reputation":15684,"user_id":1371329,"accept_rate":64,"display_name":"jaco0646"},"score":1,"creation_date":1543414244,"post_id":48043825,"comment_id":93911368,"body_markdown":"The OCP applies perfectly to both of the GoF factory patterns (Abstract Factory and Factory Method). It does not apply to the Simple Factory pattern because that was invented by Head First Design Patterns as a teaching aid. It is not intended for production code.","body":"The OCP applies perfectly to both of the GoF factory patterns (Abstract Factory and Factory Method). It does not apply to the Simple Factory pattern because that was invented by Head First Design Patterns as a teaching aid. It is not intended for production code."},{"owner":{"account_id":3682862,"reputation":1323,"user_id":3067411,"display_name":"Felipe Martins Melo"},"score":0,"creation_date":1566382434,"post_id":48043825,"comment_id":101636131,"body_markdown":"@jaco0646, how does it apply to Factory Method? If you have new implementations they will have to be put somewhere, and this somewhere will thus have to be touched.","body":"@jaco0646, how does it apply to Factory Method? If you have new implementations they will have to be put somewhere, and this somewhere will thus have to be touched."},{"owner":{"account_id":9443335,"reputation":15252,"user_id":7023245,"accept_rate":25,"display_name":"Timothy Truckle"},"score":0,"creation_date":1566382863,"post_id":48043825,"comment_id":101636375,"body_markdown":"@FelipeMartinsMelo The `ServiceLoader` looks up implementations of a given interface in the class path. The Code using a factory only needs to know the interface the factory implements (the *abstact factory*) and the interface the produced objects implement (both are the same for all concrete factories). You provide a new Factory by createing a file in the `META-INF` folder of the **new** jar having the FQN of the interface the factory implements (and the ServiceLoader looks for) as name containing the FQN of the new factory implementation as plain text.","body":"@FelipeMartinsMelo The <code>ServiceLoader</code> looks up implementations of a given interface in the class path. The Code using a factory only needs to know the interface the factory implements (the <i>abstact factory</i>) and the interface the produced objects implement (both are the same for all concrete factories). You provide a new Factory by createing a file in the <code>META-INF</code> folder of the <b>new</b> jar having the FQN of the interface the factory implements (and the ServiceLoader looks for) as name containing the FQN of the new factory implementation as plain text."},{"owner":{"account_id":3682862,"reputation":1323,"user_id":3067411,"display_name":"Felipe Martins Melo"},"score":0,"creation_date":1566385728,"post_id":48043825,"comment_id":101637853,"body_markdown":"@jaco0646, yes, from this perspective I agree.","body":"@jaco0646, yes, from this perspective I agree."}],"tags":[],"owner":{"account_id":9443335,"reputation":15252,"user_id":7023245,"accept_rate":25,"display_name":"Timothy Truckle"},"comment_count":4,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1514735318,"creation_date":1514735318,"answer_id":48043825,"question_id":48043773,"body_markdown":"The *open/closed principle* does not really apply to *factories* because after all they are the very source of the different  typed objects...\r\n\r\nOn the other hand you could have an *Abstract Factory* looking up &quot;real&quot; factories using javas [ServiceLoader](https://docs.oracle.com/javase/6/docs/api/java/util/ServiceLoader.html). Then you could add more of that real factories even in their own jars without changing existing code...","title":"Is this Simple Factory violating the Open Closed Principle?","body":"<p>The <em>open/closed principle</em> does not really apply to <em>factories</em> because after all they are the very source of the different  typed objects...</p>\n\n<p>On the other hand you could have an <em>Abstract Factory</em> looking up \"real\" factories using javas <a href=\"https://docs.oracle.com/javase/6/docs/api/java/util/ServiceLoader.html\" rel=\"nofollow noreferrer\">ServiceLoader</a>. Then you could add more of that real factories even in their own jars without changing existing code...</p>\n"},{"comments":[{"owner":{"account_id":1546651,"reputation":5030,"user_id":1440057,"accept_rate":58,"display_name":"Nikhil Vartak"},"score":0,"creation_date":1516401271,"post_id":48044489,"comment_id":83687619,"body_markdown":"This is so precise! +1. Factory pattern is an exception to OCP on purpose.","body":"This is so precise! +1. Factory pattern is an exception to OCP on purpose."}],"tags":[],"owner":{"account_id":1485563,"reputation":2200,"user_id":1520767,"display_name":"fabfas"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1514741073,"creation_date":1514741073,"answer_id":48044489,"question_id":48043773,"body_markdown":"&gt; Is this Simple Factory violating the Open Closed Principle?\r\n\r\nTo answer your questions. &quot;Yes, Simple Factory violates the Open Closed Principle **for a reason**.&quot;\r\n\r\nThe Simple Factory pattern supposed to be modified in order to help us choosing specific class to the caller. If we make this class conforming to open closed principle then we have to shift burden to some other class and this class will not serve the purpose of factory anymore. Not all principles are absolute. We need to weigh the benefits when using or when not using.","title":"Is this Simple Factory violating the Open Closed Principle?","body":"<blockquote>\n  <p>Is this Simple Factory violating the Open Closed Principle?</p>\n</blockquote>\n\n<p>To answer your questions. \"Yes, Simple Factory violates the Open Closed Principle <strong>for a reason</strong>.\"</p>\n\n<p>The Simple Factory pattern supposed to be modified in order to help us choosing specific class to the caller. If we make this class conforming to open closed principle then we have to shift burden to some other class and this class will not serve the purpose of factory anymore. Not all principles are absolute. We need to weigh the benefits when using or when not using.</p>\n"},{"tags":[],"owner":{"account_id":947184,"reputation":49004,"user_id":974186,"accept_rate":79,"display_name":"Ren&#233; Link"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1514760584,"creation_date":1514760159,"answer_id":48046104,"question_id":48043773,"body_markdown":"In addition to [Timothy Truckle][1] answer about the service locator...\r\n\r\nIn Java 8 you might want to use [method references][2] and the [`Supplier`][3] interface to implement a generic factory for such simple use cases like yours.\r\n\r\nE.g.\r\n\r\n\tclass SimpleProductFactory {\r\n\t\r\n\t\tprivate Map&lt;String, Supplier&lt;? extends Product&gt;&gt; supplierRegistry = new HashMap&lt;&gt;();\r\n\t\r\n\t\tpublic void addProductSupplier(String productName, Supplier&lt;? extends Product&gt; productSupplier) {\r\n\t\t\tsupplierRegistry.put(productName, productSupplier);\r\n\t\t}\r\n\t\r\n\t\tpublic Product createProduct(String productName) {\r\n\t\t\tProduct product = null;\r\n\t\r\n\t\t\tSupplier&lt;? extends Product&gt; productSupplier = supplierRegistry.get(productName);\r\n\t\r\n\t\t\tif (productSupplier != null) {\r\n\t\t\t\tproduct = productSupplier.get();\r\n\t\t\t}\r\n\t\r\n\t\t\treturn product;\r\n\t\t}\r\n\t} \r\n\r\nAnd your client code will look like this\r\n\r\n\tclass Client{\r\n\t  public static void main(String[] args) {\r\n\t    SimpleProductFactory productFactory = new SimpleProductFactory();\r\n\t    \r\n\t    productFactory.addProductSupplier(&quot;milk&quot;, Milk::new); // Constructor reference\r\n\t    productFactory.addProductSupplier(&quot;chips&quot;, Chips::new);\r\n\t    \r\n\t    Product prod = productFactory.createProduct(&quot;milk&quot;);\r\n\t    System.out.println(prod.getPrice());\r\n\t\r\n\t  }\r\n\t}\r\n\r\nAs you can see the simple factory is \r\n\r\n- **open for extension**, because you can simple add other product suppliers\r\n- **closed for modification**, because you don&#39;t need to change it when another product is implemented you just add it.\r\n\r\nPS: With a bit more refactoring you can simply turn it into a real generic factory for any type.\r\n\r\n  [1]: https://stackoverflow.com/a/48043825/974186\r\n  [2]: https://docs.oracle.com/javase/tutorial/java/javaOO/methodreferences.html\r\n  [3]: https://docs.oracle.com/javase/8/docs/api/java/util/function/Supplier.html","title":"Is this Simple Factory violating the Open Closed Principle?","body":"<p>In addition to <a href=\"https://stackoverflow.com/a/48043825/974186\">Timothy Truckle</a> answer about the service locator...</p>\n\n<p>In Java 8 you might want to use <a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/methodreferences.html\" rel=\"nofollow noreferrer\">method references</a> and the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/function/Supplier.html\" rel=\"nofollow noreferrer\"><code>Supplier</code></a> interface to implement a generic factory for such simple use cases like yours.</p>\n\n<p>E.g.</p>\n\n<pre><code>class SimpleProductFactory {\n\n    private Map&lt;String, Supplier&lt;? extends Product&gt;&gt; supplierRegistry = new HashMap&lt;&gt;();\n\n    public void addProductSupplier(String productName, Supplier&lt;? extends Product&gt; productSupplier) {\n        supplierRegistry.put(productName, productSupplier);\n    }\n\n    public Product createProduct(String productName) {\n        Product product = null;\n\n        Supplier&lt;? extends Product&gt; productSupplier = supplierRegistry.get(productName);\n\n        if (productSupplier != null) {\n            product = productSupplier.get();\n        }\n\n        return product;\n    }\n} \n</code></pre>\n\n<p>And your client code will look like this</p>\n\n<pre><code>class Client{\n  public static void main(String[] args) {\n    SimpleProductFactory productFactory = new SimpleProductFactory();\n\n    productFactory.addProductSupplier(\"milk\", Milk::new); // Constructor reference\n    productFactory.addProductSupplier(\"chips\", Chips::new);\n\n    Product prod = productFactory.createProduct(\"milk\");\n    System.out.println(prod.getPrice());\n\n  }\n}\n</code></pre>\n\n<p>As you can see the simple factory is </p>\n\n<ul>\n<li><strong>open for extension</strong>, because you can simple add other product suppliers</li>\n<li><strong>closed for modification</strong>, because you don't need to change it when another product is implemented you just add it.</li>\n</ul>\n\n<p>PS: With a bit more refactoring you can simply turn it into a real generic factory for any type.</p>\n"},{"tags":[],"owner":{"account_id":2306500,"reputation":418,"user_id":2025676,"display_name":"Kedar Tokekar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1514940847,"creation_date":1514940847,"answer_id":48069843,"question_id":48043773,"body_markdown":"The static factory example given above is still extendable for additional products like Icecream as follows. Even if we make the factory metod static still it can be extended (though not by conventionally overriding the method)\r\n\r\n        class SimpleProductFactoryExt extends SimpleProductFactory {\r\n            public Product createProduct(String productName) {\r\n                if (productName.equals(&quot;Icecream&quot;)) {\r\n                    return new Milk();\r\n                } else {\r\n                    return super.createProduct(productName);\r\n                }\r\n            }\r\n        }\r\n","title":"Is this Simple Factory violating the Open Closed Principle?","body":"<p>The static factory example given above is still extendable for additional products like Icecream as follows. Even if we make the factory metod static still it can be extended (though not by conventionally overriding the method)</p>\n\n<pre><code>    class SimpleProductFactoryExt extends SimpleProductFactory {\n        public Product createProduct(String productName) {\n            if (productName.equals(\"Icecream\")) {\n                return new Milk();\n            } else {\n                return super.createProduct(productName);\n            }\n        }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":251709,"reputation":2827,"user_id":529286,"accept_rate":84,"display_name":"zakmck"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667310174,"creation_date":1665618627,"answer_id":74049075,"question_id":48043773,"body_markdown":"Yes, it does, and it&#39;s appalling we see this design mistake over and over again, including several of the answers above.  \r\n\r\nThe factory should externalise the place where it takes its list of products, eg, a config file that defines a product registry, a map of name =&gt; product class.\r\n\r\nIt should also have some `register( Product )` method, so that extensions might tell the factory about new products (add `Product.getName()`).\r\n\r\nA common way to deal with this is the [SPI Interface](https://docs.oracle.com/javase/tutorial/sound/SPI-intro.html), which allow extensions to list all the Product they add up, without having to register them (cause the SPI magic would take care of it).\r\n\r\nYet another variant is [Spring](https://www.amitph.com/spring-inject-collection-of-beans/), which allows for components of a given type to be auto-injected into a collection of that type.\r\n\r\nThe approach of [Kedar](https://stackoverflow.com/users/2025676/kedar-tokekar) of extending the initial factory using the [chain of responsibility design pattern](https://refactoring.guru/design-patterns/chain-of-responsibility) is also a decent design, which doesn&#39;t violate the open-close. However, in this case, you need something to tell your application which factory class it should use, eg, a Java property that can be set via `-D` when invoking your app, or, better, a [.properties file in META-INF](https://stackoverflow.com/q/5609272/). I think SPI is similar (to the latter) and already there for you.\r\n\r\nWhatever you choose, you should **never ever** write horrors like:\r\n\r\n```java\r\nif ( key1 ) { code1 }\r\nelse if ( key2 ) { code2 }\r\n... \r\n```\r\n\r\nEspecially where codei is always a variant of the same lines. This is verbose, poorly readable, error-prone, and yes, it forces you to touch the if/elseif chain to write extensions, so it definitely violates the open-close. Indeed, it&#39;s the typical example that textbooks take to explain the benefits of such principle.\r\n\r\nIn general, the decent way to write the same is something like:\r\n\r\n```java\r\nMap&lt;key, Case&gt; cases;\r\n\r\n// Populate cases, possibly from the outside and in extensible way\r\n\r\nvoid init ( key ) {\r\n  Case case = cases.get ( key )\r\n  // Use elements in &#39;case&#39; (getters, methods, lambdas) to do what&#39;s needed\r\n  // that is, write code-i as parameterised over case\r\n}\r\n```\r\n\r\nIn general, `Case` is a proxy for the class you need to build and/or config based on key (eg, `ProductBuilder`, `ProductConfig`). In a simpler situation, you can use the class directly (ie, `Product`).\r\n\r\nA variant of the latter might simply be: `Product product` and then product is instantiated dynamically, taking the class&#39; (FQN) name to instantiate from some external source (eg, `-D` property or `.properties`). For instance, this is the typical way to obtain a JDBC driver.\r\n","title":"Is this Simple Factory violating the Open Closed Principle?","body":"<p>Yes, it does, and it's appalling we see this design mistake over and over again, including several of the answers above.</p>\n<p>The factory should externalise the place where it takes its list of products, eg, a config file that defines a product registry, a map of name =&gt; product class.</p>\n<p>It should also have some <code>register( Product )</code> method, so that extensions might tell the factory about new products (add <code>Product.getName()</code>).</p>\n<p>A common way to deal with this is the <a href=\"https://docs.oracle.com/javase/tutorial/sound/SPI-intro.html\" rel=\"nofollow noreferrer\">SPI Interface</a>, which allow extensions to list all the Product they add up, without having to register them (cause the SPI magic would take care of it).</p>\n<p>Yet another variant is <a href=\"https://www.amitph.com/spring-inject-collection-of-beans/\" rel=\"nofollow noreferrer\">Spring</a>, which allows for components of a given type to be auto-injected into a collection of that type.</p>\n<p>The approach of <a href=\"https://stackoverflow.com/users/2025676/kedar-tokekar\">Kedar</a> of extending the initial factory using the <a href=\"https://refactoring.guru/design-patterns/chain-of-responsibility\" rel=\"nofollow noreferrer\">chain of responsibility design pattern</a> is also a decent design, which doesn't violate the open-close. However, in this case, you need something to tell your application which factory class it should use, eg, a Java property that can be set via <code>-D</code> when invoking your app, or, better, a <a href=\"https://stackoverflow.com/q/5609272/\">.properties file in META-INF</a>. I think SPI is similar (to the latter) and already there for you.</p>\n<p>Whatever you choose, you should <strong>never ever</strong> write horrors like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>if ( key1 ) { code1 }\nelse if ( key2 ) { code2 }\n... \n</code></pre>\n<p>Especially where codei is always a variant of the same lines. This is verbose, poorly readable, error-prone, and yes, it forces you to touch the if/elseif chain to write extensions, so it definitely violates the open-close. Indeed, it's the typical example that textbooks take to explain the benefits of such principle.</p>\n<p>In general, the decent way to write the same is something like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Map&lt;key, Case&gt; cases;\n\n// Populate cases, possibly from the outside and in extensible way\n\nvoid init ( key ) {\n  Case case = cases.get ( key )\n  // Use elements in 'case' (getters, methods, lambdas) to do what's needed\n  // that is, write code-i as parameterised over case\n}\n</code></pre>\n<p>In general, <code>Case</code> is a proxy for the class you need to build and/or config based on key (eg, <code>ProductBuilder</code>, <code>ProductConfig</code>). In a simpler situation, you can use the class directly (ie, <code>Product</code>).</p>\n<p>A variant of the latter might simply be: <code>Product product</code> and then product is instantiated dynamically, taking the class' (FQN) name to instantiate from some external source (eg, <code>-D</code> property or <code>.properties</code>). For instance, this is the typical way to obtain a JDBC driver.</p>\n"}],"owner":{"account_id":6965005,"reputation":71,"user_id":6625907,"display_name":"LangLearn Korean"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":624,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"answer_count":5,"score":7,"last_activity_date":1667310174,"creation_date":1514734804,"question_id":48043773,"body_markdown":"Is this Simple Factory violating the Open Closed Principle?\r\n\r\nThe SimpleProductFactory needs to change every time a new concrete product needs to be created but it adheres to the single responsibility principle because that is the only reason it will ever change. Its sole purpose is so that the Client does not violate the open closed principle so I imagine it can&#39;t be a violation itself since obviously this code is needed somewhere. \r\n\r\nI am not interested in changing the factory but whether this specific example is a violation or not. \r\n\r\n**Product**\r\n\r\n    interface Product{\r\n      public int getPrice();\r\n    }\r\n**Milk**\r\n\r\n    class Milk implements Product{\r\n      public int getPrice(){ return 5; }\r\n    }\r\n**Chips**\r\n\r\n    class Chips implements Product{\r\n      public int getPrice(){ return 3; }\r\n    }\r\n**SimpleProductFactory**\r\n\r\n    class SimpleProductFactory{\r\n      \r\n      public Product createProduct(String productName){\r\n        \r\n        if(productName.equals(&quot;milk&quot;)){\r\n          return new Milk();\r\n        }\r\n        else if(productName.equals(&quot;chips&quot;)){\r\n          return new Chips();\r\n        }\r\n        return null;\r\n      }\r\n    }\r\n**Client**\r\n\r\n    class Client{\r\n      public static void main(String[] args) {\r\n        SimpleProductFactory productFactory = new SimpleProductFactory();\r\n        Product prod = productFactory.createProduct(&quot;milk&quot;);\r\n        System.out.println(prod.getPrice());\r\n        \r\n      }\r\n    }","title":"Is this Simple Factory violating the Open Closed Principle?","body":"<p>Is this Simple Factory violating the Open Closed Principle?</p>\n\n<p>The SimpleProductFactory needs to change every time a new concrete product needs to be created but it adheres to the single responsibility principle because that is the only reason it will ever change. Its sole purpose is so that the Client does not violate the open closed principle so I imagine it can't be a violation itself since obviously this code is needed somewhere. </p>\n\n<p>I am not interested in changing the factory but whether this specific example is a violation or not. </p>\n\n<p><strong>Product</strong></p>\n\n<pre><code>interface Product{\n  public int getPrice();\n}\n</code></pre>\n\n<p><strong>Milk</strong></p>\n\n<pre><code>class Milk implements Product{\n  public int getPrice(){ return 5; }\n}\n</code></pre>\n\n<p><strong>Chips</strong></p>\n\n<pre><code>class Chips implements Product{\n  public int getPrice(){ return 3; }\n}\n</code></pre>\n\n<p><strong>SimpleProductFactory</strong></p>\n\n<pre><code>class SimpleProductFactory{\n\n  public Product createProduct(String productName){\n\n    if(productName.equals(\"milk\")){\n      return new Milk();\n    }\n    else if(productName.equals(\"chips\")){\n      return new Chips();\n    }\n    return null;\n  }\n}\n</code></pre>\n\n<p><strong>Client</strong></p>\n\n<pre><code>class Client{\n  public static void main(String[] args) {\n    SimpleProductFactory productFactory = new SimpleProductFactory();\n    Product prod = productFactory.createProduct(\"milk\");\n    System.out.println(prod.getPrice());\n\n  }\n}\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1587997,"reputation":6860,"user_id":1471921,"accept_rate":59,"display_name":"Akshay Lokur"},"score":13,"creation_date":1415941895,"post_id":1906445,"comment_id":42393876,"body_markdown":"Nice and concise answer to this question can be found at: \nhttp://www.java.com/en/download/faq/techinfo.xml","body":"Nice and concise answer to this question can be found at:  <a href=\"http://www.java.com/en/download/faq/techinfo.xml\" rel=\"nofollow noreferrer\">java.com/en/download/faq/techinfo.xml</a>"},{"owner":{"account_id":22370,"reputation":158143,"user_id":55075,"accept_rate":76,"display_name":"kenorb"},"score":7,"creation_date":1449778756,"post_id":1906445,"comment_id":56166041,"body_markdown":"Possible duplicate of [What is the difference between JVM, JDK, JRE &amp; OpenJDK?](http://stackoverflow.com/questions/11547458/what-is-the-difference-between-jvm-jdk-jre-openjdk)","body":"Possible duplicate of <a href=\"http://stackoverflow.com/questions/11547458/what-is-the-difference-between-jvm-jdk-jre-openjdk\">What is the difference between JVM, JDK, JRE &amp; OpenJDK?</a>"},{"owner":{"account_id":4307921,"reputation":1393,"user_id":3519829,"accept_rate":90,"display_name":"Ungeheuer"},"score":10,"creation_date":1486958998,"post_id":1906445,"comment_id":71555066,"body_markdown":"@kenorb based on timestamps, the linked question seems to be a duplicate of this one.","body":"@kenorb based on timestamps, the linked question seems to be a duplicate of this one."}],"answers":[{"comments":[{"owner":{"account_id":57484,"reputation":66737,"user_id":172211,"accept_rate":89,"display_name":"Carl Smotricz"},"score":2,"creation_date":1260877534,"post_id":1906455,"comment_id":1810819,"body_markdown":"There are a few jars specifically intended as extensions of Java; those can and should be placed in lib/ext. But putting any old application jars is not what this directory is intended for; it&#39;s an abuse of the extension mechanism and may cause problems later on.","body":"There are a few jars specifically intended as extensions of Java; those can and should be placed in lib/ext. But putting any old application jars is not what this directory is intended for; it&#39;s an abuse of the extension mechanism and may cause problems later on."},{"owner":{"account_id":55779,"reputation":16052,"user_id":167114,"accept_rate":85,"display_name":"i2ijeya"},"score":0,"creation_date":1260884468,"post_id":1906455,"comment_id":1811529,"body_markdown":"I have worked on JExcel API and I&#39;ve set the classpath correctly and still there exists the problem. So i deployed it inside tlib/ext folder, which woks fine after that?? So what would be reason??","body":"I have worked on JExcel API and I&#39;ve set the classpath correctly and still there exists the problem. So i deployed it inside tlib/ext folder, which woks fine after that?? So what would be reason??"},{"owner":{"account_id":57484,"reputation":66737,"user_id":172211,"accept_rate":89,"display_name":"Carl Smotricz"},"score":3,"creation_date":1260903340,"post_id":1906455,"comment_id":1813914,"body_markdown":"I don&#39;t have information to be completely sure, but my guess would be that either you didn&#39;t really set the classpath correctly, or you set the classpath for a different classloader than the one that ended up using your code. What makes lib/ext different from classpath extension is that lib/ext will affect *any* java app that uses that particular JRE - it&#39;s more foolproof than setting the classpath.","body":"I don&#39;t have information to be completely sure, but my guess would be that either you didn&#39;t really set the classpath correctly, or you set the classpath for a different classloader than the one that ended up using your code. What makes lib/ext different from classpath extension is that lib/ext will affect <i>any</i> java app that uses that particular JRE - it&#39;s more foolproof than setting the classpath."},{"owner":{"account_id":3475167,"reputation":335,"user_id":2908570,"display_name":"Jesse Ivy"},"score":0,"creation_date":1432835814,"post_id":1906455,"comment_id":49102762,"body_markdown":"A couple weeks ago I experienced a fairly massive failure that was corrected by changing my JAVA_HOME and Path environment variables to reference the JRE instead of the JDK. In what case would an app function using the JRE and fail with the JDK? I guess I should open a new question. An interesting note is that starting in version 1.6 the JRE is included with the JDK installation but unpacks at the same level as the JDK folder whereas in version 1.5 and prior the JRE folder is within the JDK. BTW: Good answer!","body":"A couple weeks ago I experienced a fairly massive failure that was corrected by changing my JAVA_HOME and Path environment variables to reference the JRE instead of the JDK. In what case would an app function using the JRE and fail with the JDK? I guess I should open a new question. An interesting note is that starting in version 1.6 the JRE is included with the JDK installation but unpacks at the same level as the JDK folder whereas in version 1.5 and prior the JRE folder is within the JDK. BTW: Good answer!"},{"owner":{"account_id":4307921,"reputation":1393,"user_id":3519829,"accept_rate":90,"display_name":"Ungeheuer"},"score":0,"creation_date":1477259444,"post_id":1906455,"comment_id":67680804,"body_markdown":"OP, so then when java installer tells me there&#39;s an update and it is the latest JRE, I can just ignore the update and download a fresh version of the JDK and I&#39;ll have all the latest Java stuff?","body":"OP, so then when java installer tells me there&#39;s an update and it is the latest JRE, I can just ignore the update and download a fresh version of the JDK and I&#39;ll have all the latest Java stuff?"},{"owner":{"account_id":4307921,"reputation":1393,"user_id":3519829,"accept_rate":90,"display_name":"Ungeheuer"},"score":0,"creation_date":1486959146,"post_id":1906455,"comment_id":71555092,"body_markdown":"so if JDK contains all of JRE, and the other programming necessities, then should/can I uninstall all the JRE stuff I have? I have JREs going back to 1.7.0 Update 45","body":"so if JDK contains all of JRE, and the other programming necessities, then should/can I uninstall all the JRE stuff I have? I have JREs going back to 1.7.0 Update 45"},{"owner":{"account_id":6475147,"reputation":519,"user_id":5013940,"accept_rate":43,"display_name":"Arsh Kaushal"},"score":0,"creation_date":1515646126,"post_id":1906455,"comment_id":83380871,"body_markdown":"@Pablo Santa Cruz can you please tell me that is JRE or JDK physically exist? if yes then how?  because i read it at this website which is saying that they physically exist  can you please solve my confusion.  https://www.javatpoint.com/difference-between-jdk-jre-and-jvm","body":"@Pablo Santa Cruz can you please tell me that is JRE or JDK physically exist? if yes then how?  because i read it at this website which is saying that they physically exist  can you please solve my confusion.  <a href=\"https://www.javatpoint.com/difference-between-jdk-jre-and-jvm\" rel=\"nofollow noreferrer\">javatpoint.com/difference-between-jdk-jre-and-jvm</a>"},{"owner":{"account_id":26091,"reputation":178014,"user_id":67606,"accept_rate":78,"display_name":"Pablo Santa Cruz"},"score":0,"creation_date":1515675285,"post_id":1906455,"comment_id":83396026,"body_markdown":"@ArshKaushal By saying &quot;they physically exist&quot; they are referring to the fact that both of them (JDK and JRE) are installed and stored on the hard drive. On the contrary, JVM does not physically exist. It just runs on computer processor/memory.","body":"@ArshKaushal By saying &quot;they physically exist&quot; they are referring to the fact that both of them (JDK and JRE) are installed and stored on the hard drive. On the contrary, JVM does not physically exist. It just runs on computer processor/memory."},{"owner":{"account_id":6888552,"reputation":383,"user_id":5403619,"display_name":"dmytro.poliarush"},"score":0,"creation_date":1577255413,"post_id":1906455,"comment_id":105129387,"body_markdown":"Another example when JDK might be needed impliciltly is compiling an application from sources. User might not interact with JDK directly, but the underlying build system (cmake, msbuild, make, etc.) might need JDK to build the project.","body":"Another example when JDK might be needed impliciltly is compiling an application from sources. User might not interact with JDK directly, but the underlying build system (cmake, msbuild, make, etc.) might need JDK to build the project."}],"tags":[],"owner":{"account_id":26091,"reputation":178014,"user_id":67606,"accept_rate":78,"display_name":"Pablo Santa Cruz"},"comment_count":9,"down_vote_count":1,"up_vote_count":1407,"is_accepted":true,"score":1406,"last_activity_date":1588849447,"creation_date":1260872465,"answer_id":1906455,"question_id":1906445,"body_markdown":"The **JRE** is the **Java Runtime Environment**. It is a package of everything necessary to run a compiled Java program, including the Java Virtual Machine (JVM), the Java Class Library, the `java` command, and other infrastructure. However, it cannot be used to create new programs.\r\n\r\nThe **JDK** is the **Java Development Kit**, the full-featured SDK for Java. It has everything the JRE has, but also the compiler (`javac`) and tools (like `javadoc` and `jdb`). It is capable of creating and compiling programs.\r\n\r\nUsually, if you only care about running Java programs on computer you will only install the JRE. It&#39;s all you need. On the other hand, if you are planning to do some Java programming, you need to install the JDK instead. \r\n\r\nSometimes, even if you are not planning to do any Java development on a computer, you still need the JDK installed. For example, if you are deploying a web application with JSP, you are technically just running Java programs inside the application server. Why would you need the JDK then? Because the application server will convert JSP into Java servlets and needs to use the JDK to compile the servlets. I am sure that there are more examples.\r\n","title":"What is the difference between JDK and JRE?","body":"<p>The <strong>JRE</strong> is the <strong>Java Runtime Environment</strong>. It is a package of everything necessary to run a compiled Java program, including the Java Virtual Machine (JVM), the Java Class Library, the <code>java</code> command, and other infrastructure. However, it cannot be used to create new programs.</p>\n\n<p>The <strong>JDK</strong> is the <strong>Java Development Kit</strong>, the full-featured SDK for Java. It has everything the JRE has, but also the compiler (<code>javac</code>) and tools (like <code>javadoc</code> and <code>jdb</code>). It is capable of creating and compiling programs.</p>\n\n<p>Usually, if you only care about running Java programs on computer you will only install the JRE. It's all you need. On the other hand, if you are planning to do some Java programming, you need to install the JDK instead. </p>\n\n<p>Sometimes, even if you are not planning to do any Java development on a computer, you still need the JDK installed. For example, if you are deploying a web application with JSP, you are technically just running Java programs inside the application server. Why would you need the JDK then? Because the application server will convert JSP into Java servlets and needs to use the JDK to compile the servlets. I am sure that there are more examples.</p>\n"},{"comments":[{"owner":{"account_id":4545292,"reputation":403,"user_id":3692082,"accept_rate":85,"display_name":"Brady"},"score":1,"creation_date":1409242587,"post_id":1906642,"comment_id":39901976,"body_markdown":"Does this mean I can set my path variables to the JDK and that&#39;s it?","body":"Does this mean I can set my path variables to the JDK and that&#39;s it?"},{"owner":{"account_id":57484,"reputation":66737,"user_id":172211,"accept_rate":89,"display_name":"Carl Smotricz"},"score":4,"creation_date":1409302495,"post_id":1906642,"comment_id":39923346,"body_markdown":"@Brady: Yes, I think so. That works fine for me, at least. As a developer, I essentially ignore the JRE. If there are special cases where you specifically want the JRE, I&#39;m not aware of them.","body":"@Brady: Yes, I think so. That works fine for me, at least. As a developer, I essentially ignore the JRE. If there are special cases where you specifically want the JRE, I&#39;m not aware of them."},{"owner":{"account_id":1585470,"reputation":7053,"user_id":1469954,"accept_rate":81,"display_name":"NedStarkOfWinterfell"},"score":0,"creation_date":1414443636,"post_id":1906642,"comment_id":41807918,"body_markdown":"The JRE can work with only compiled Java code, right?","body":"The JRE can work with only compiled Java code, right?"},{"owner":{"account_id":57484,"reputation":66737,"user_id":172211,"accept_rate":89,"display_name":"Carl Smotricz"},"score":2,"creation_date":1414632726,"post_id":1906642,"comment_id":41893552,"body_markdown":"@Cupidvogel, since there&#39;s no compiler in the JRE, I guess you could say that. The JRE is there for *running* (compiled) Java code, while the JDK also gives you the tools to develop it.","body":"@Cupidvogel, since there&#39;s no compiler in the JRE, I guess you could say that. The JRE is there for <i>running</i> (compiled) Java code, while the JDK also gives you the tools to develop it."},{"owner":{"account_id":1585470,"reputation":7053,"user_id":1469954,"accept_rate":81,"display_name":"NedStarkOfWinterfell"},"score":1,"creation_date":1414699872,"post_id":1906642,"comment_id":41926689,"body_markdown":"So basically JDK includes a compiler (like Javac) to compile the code, a JRE (run-time system) to execute the compiled code, and other tools meant just to make programmer&#39;s life in developing easy, correct? So AFAIU, only the Javac and JRE are the really necessary tools here. Why then, many times, software installations , upgrades insist on a JDK to be present?","body":"So basically JDK includes a compiler (like Javac) to compile the code, a JRE (run-time system) to execute the compiled code, and other tools meant just to make programmer&#39;s life in developing easy, correct? So AFAIU, only the Javac and JRE are the really necessary tools here. Why then, many times, software installations , upgrades insist on a JDK to be present?"},{"owner":{"account_id":1898374,"reputation":1451,"user_id":1714814,"accept_rate":83,"display_name":"Darryl"},"score":0,"creation_date":1414963086,"post_id":1906642,"comment_id":42002091,"body_markdown":"I&#39;m on a Mac. If I am running the 1.8 version of the JRE as my default and then I install the 1.6 version of the JDK, could I then instruct some applications to use the JRE inside the 1.6 JDK?  (My Adobe CS4 only runs under 1.6).  If so, how?","body":"I&#39;m on a Mac. If I am running the 1.8 version of the JRE as my default and then I install the 1.6 version of the JDK, could I then instruct some applications to use the JRE inside the 1.6 JDK?  (My Adobe CS4 only runs under 1.6).  If so, how?"},{"owner":{"account_id":57484,"reputation":66737,"user_id":172211,"accept_rate":89,"display_name":"Carl Smotricz"},"score":0,"creation_date":1429172612,"post_id":1906642,"comment_id":47476611,"body_markdown":"@Darryl, sorry about the late response! I have some suggestions but they&#39;re untested. From easiest (if it works) to hardest, here are things to try: (1) write a bash script in which you set and export JAVA_HOME to the location of your 1.6 jdk, and call CS4 from that. (2) rather than setting JAVA_HOME, write a script to rearrange your PATH such that the jdk 1.6 /bin directory precedes the location of your 1.8, so &quot;java&quot; will call 1.6 rather than 1.8 . If either method works from a bash script you can then build an icon to call that script for you from your GUI shell.","body":"@Darryl, sorry about the late response! I have some suggestions but they&#39;re untested. From easiest (if it works) to hardest, here are things to try: (1) write a bash script in which you set and export JAVA_HOME to the location of your 1.6 jdk, and call CS4 from that. (2) rather than setting JAVA_HOME, write a script to rearrange your PATH such that the jdk 1.6 /bin directory precedes the location of your 1.8, so &quot;java&quot; will call 1.6 rather than 1.8 . If either method works from a bash script you can then build an icon to call that script for you from your GUI shell."},{"owner":{"account_id":1898374,"reputation":1451,"user_id":1714814,"accept_rate":83,"display_name":"Darryl"},"score":0,"creation_date":1429196419,"post_id":1906642,"comment_id":47494513,"body_markdown":"thanks for the inputs.  I instead took the easiest route which was to upgrade my CS4 to the latest version.  cheers.","body":"thanks for the inputs.  I instead took the easiest route which was to upgrade my CS4 to the latest version.  cheers."}],"tags":[],"owner":{"account_id":57484,"reputation":66737,"user_id":172211,"accept_rate":89,"display_name":"Carl Smotricz"},"comment_count":8,"down_vote_count":1,"up_vote_count":167,"is_accepted":false,"score":166,"last_activity_date":1540143689,"creation_date":1260874482,"answer_id":1906642,"question_id":1906445,"body_markdown":"The answer above (by Pablo) is very right. This is just additional information.\r\n\r\nThe **JRE** is, as the name implies, an *environment*. It&#39;s basically a bunch of directories with Java-related files, to wit:\r\n\r\n * `bin/` contains Java&#39;s executable programs. The most important is `java` (and for Windows, `javaw` as well), which launches the JVM. There are some other utilities here as well, such as `keytool` and `policytool`.\r\n * `conf/` holds user-editable configuration files for Java experts to play with.\r\n * `lib/` has a large number of supporting files: some `.jar`s, configuration files, property files, fonts, translations, certs, etc. – all the &quot;trimmings&quot; of Java. The most important is `modules`, a file that contains the `.class` files of the Java standard library.\r\n * At a certain level, the Java standard library needs to call into native code. For this purpose, the JRE contains some `.dll` (Windows) or `.dylib` (macOS) or `.so` (Linux) files under `bin/` or `lib/` with supporting, system-specific native binary code.\r\n\r\nThe **JDK** is also a set of directories. It is a superset of the JRE, with some additions:\r\n\r\n - `bin/` has been enlarged with development tools. The most important of them is `javac`; others include `jar`, `javadoc` and `jshell`.\r\n - `jmods/`, which holds JMOD files for the standard library, has been added. These files allow the standard library to be used with `jlink`.","title":"What is the difference between JDK and JRE?","body":"<p>The answer above (by Pablo) is very right. This is just additional information.</p>\n\n<p>The <strong>JRE</strong> is, as the name implies, an <em>environment</em>. It's basically a bunch of directories with Java-related files, to wit:</p>\n\n<ul>\n<li><code>bin/</code> contains Java's executable programs. The most important is <code>java</code> (and for Windows, <code>javaw</code> as well), which launches the JVM. There are some other utilities here as well, such as <code>keytool</code> and <code>policytool</code>.</li>\n<li><code>conf/</code> holds user-editable configuration files for Java experts to play with.</li>\n<li><code>lib/</code> has a large number of supporting files: some <code>.jar</code>s, configuration files, property files, fonts, translations, certs, etc. – all the \"trimmings\" of Java. The most important is <code>modules</code>, a file that contains the <code>.class</code> files of the Java standard library.</li>\n<li>At a certain level, the Java standard library needs to call into native code. For this purpose, the JRE contains some <code>.dll</code> (Windows) or <code>.dylib</code> (macOS) or <code>.so</code> (Linux) files under <code>bin/</code> or <code>lib/</code> with supporting, system-specific native binary code.</li>\n</ul>\n\n<p>The <strong>JDK</strong> is also a set of directories. It is a superset of the JRE, with some additions:</p>\n\n<ul>\n<li><code>bin/</code> has been enlarged with development tools. The most important of them is <code>javac</code>; others include <code>jar</code>, <code>javadoc</code> and <code>jshell</code>.</li>\n<li><code>jmods/</code>, which holds JMOD files for the standard library, has been added. These files allow the standard library to be used with <code>jlink</code>.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":3048384,"reputation":2752,"user_id":3003757,"accept_rate":58,"display_name":"Wanna Coffee"},"comment_count":0,"down_vote_count":0,"up_vote_count":26,"is_accepted":false,"score":26,"last_activity_date":1396358665,"creation_date":1396358665,"answer_id":22787280,"question_id":1906445,"body_markdown":"From Official java website...\r\n\r\n**JRE  (Java Runtime environment):**\r\n\r\n - It is an implementation of the Java Virtual Machine* which actually executes Java programs.\r\n - Java Runtime Environment is a plug-in needed for running java programs.\r\n - The JRE is smaller than the JDK so it needs less Disk space.\r\n - The JRE can be downloaded/supported freely from\r\nhttps://www.java.com\r\n - It includes the JVM , Core libraries and other additional components to run applications and applets written in Java.\r\n \r\n\r\n**JDK (Java Development Kit)**\r\n\r\n - It is a bundle of software that you can use to develop Java based applications.\r\n - Java Development Kit is needed for developing java applications.\r\n - The JDK needs more Disk space as it contains the JRE along with various development tools.\r\n - The JDK can be downloaded/supported freely from\r\nhttps://www.oracle.com/technetwork/java/javase/downloads/\r\n - It includes the JRE, set of API classes, Java compiler, Webstart and additional files needed to write Java applets and applications.","title":"What is the difference between JDK and JRE?","body":"<p>From Official java website...</p>\n\n<p><strong>JRE  (Java Runtime environment):</strong></p>\n\n<ul>\n<li>It is an implementation of the Java Virtual Machine* which actually executes Java programs.</li>\n<li>Java Runtime Environment is a plug-in needed for running java programs.</li>\n<li>The JRE is smaller than the JDK so it needs less Disk space.</li>\n<li>The JRE can be downloaded/supported freely from\n<a href=\"https://www.java.com\">https://www.java.com</a></li>\n<li>It includes the JVM , Core libraries and other additional components to run applications and applets written in Java.</li>\n</ul>\n\n<p><strong>JDK (Java Development Kit)</strong></p>\n\n<ul>\n<li>It is a bundle of software that you can use to develop Java based applications.</li>\n<li>Java Development Kit is needed for developing java applications.</li>\n<li>The JDK needs more Disk space as it contains the JRE along with various development tools.</li>\n<li>The JDK can be downloaded/supported freely from\n<a href=\"https://www.oracle.com/technetwork/java/javase/downloads/\">https://www.oracle.com/technetwork/java/javase/downloads/</a></li>\n<li>It includes the JRE, set of API classes, Java compiler, Webstart and additional files needed to write Java applets and applications.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":4683181,"reputation":299,"user_id":3791355,"display_name":"Steve"},"comment_count":0,"down_vote_count":1,"up_vote_count":27,"is_accepted":false,"score":26,"last_activity_date":1405010813,"creation_date":1404928569,"answer_id":24660677,"question_id":1906445,"body_markdown":"**One difference from a debugging perspective:**\r\n\r\nTo debug into Java system classes such as String and ArrayList, you need a special version of the JRE which is compiled with &quot;debug information&quot;. The JRE included inside the JDK provides this info, but the regular JRE does not. Regular JRE does not include this info to ensure better performance.\r\n\r\nWhat is debugging information? Here is a quick explanation taken from [this blog post](http://eli.thegreenplace.net/2011/02/07/how-debuggers-work-part-3-debugging-information/):\r\n\r\n&gt; Modern compilers do a pretty good job converting your high-level code, with its nicely indented and nested control structures and arbitrarily typed variables into a big pile of bits called machine code (or bytecode in case of Java), the sole purpose of which is to run as fast as possible on the target CPU (virtual CPU of your JVM). Java code gets converted into several machine code instructions. Variables are shoved all over the place – into the stack, into registers, or completely optimized away. Structures and objects don’t even exist in the resulting code – they’re merely an abstraction \r\nthat gets translated to hard-coded offsets into memory buffers.\r\n\r\n&gt; So how does a debugger know where to stop when you ask it to break at the entry to some function? How does it manage to find what to show you when you ask it for the value of a variable? \r\nThe answer is – debugging information.\r\n\r\n&gt; Debugging information is generated by the compiler together with the machine code. It is a representation of the relationship between the executable program and the original source code. This information is encoded into a pre-defined format and stored alongside the machine code. Many such formats were invented over the years for different platforms and executable files. ","title":"What is the difference between JDK and JRE?","body":"<p><strong>One difference from a debugging perspective:</strong></p>\n\n<p>To debug into Java system classes such as String and ArrayList, you need a special version of the JRE which is compiled with \"debug information\". The JRE included inside the JDK provides this info, but the regular JRE does not. Regular JRE does not include this info to ensure better performance.</p>\n\n<p>What is debugging information? Here is a quick explanation taken from <a href=\"http://eli.thegreenplace.net/2011/02/07/how-debuggers-work-part-3-debugging-information/\" rel=\"noreferrer\">this blog post</a>:</p>\n\n<blockquote>\n  <p>Modern compilers do a pretty good job converting your high-level code, with its nicely indented and nested control structures and arbitrarily typed variables into a big pile of bits called machine code (or bytecode in case of Java), the sole purpose of which is to run as fast as possible on the target CPU (virtual CPU of your JVM). Java code gets converted into several machine code instructions. Variables are shoved all over the place – into the stack, into registers, or completely optimized away. Structures and objects don’t even exist in the resulting code – they’re merely an abstraction \n  that gets translated to hard-coded offsets into memory buffers.</p>\n  \n  <p>So how does a debugger know where to stop when you ask it to break at the entry to some function? How does it manage to find what to show you when you ask it for the value of a variable? \n  The answer is – debugging information.</p>\n  \n  <p>Debugging information is generated by the compiler together with the machine code. It is a representation of the relationship between the executable program and the original source code. This information is encoded into a pre-defined format and stored alongside the machine code. Many such formats were invented over the years for different platforms and executable files. </p>\n</blockquote>\n"},{"comments":[{"owner":{"account_id":3475167,"reputation":335,"user_id":2908570,"display_name":"Jesse Ivy"},"score":6,"creation_date":1432840309,"post_id":29160633,"comment_id":49105443,"body_markdown":"Cool diagram! I&#39;m a little confused that the java command is pictured outside the JRE which isn&#39;t correct. I don&#39;t understand why there are separate files for the java command when the JDK is installed which identical at least in size. In what case would an app function using the JRE and fail with the JDK? Experienced this recently and should probably back track to replicate and get to the bottom of it...","body":"Cool diagram! I&#39;m a little confused that the java command is pictured outside the JRE which isn&#39;t correct. I don&#39;t understand why there are separate files for the java command when the JDK is installed which identical at least in size. In what case would an app function using the JRE and fail with the JDK? Experienced this recently and should probably back track to replicate and get to the bottom of it..."},{"owner":{"account_id":20847162,"reputation":894,"user_id":15312420,"display_name":"Mehdi Charife"},"score":0,"creation_date":1698168348,"post_id":29160633,"comment_id":136370017,"body_markdown":"@JesseIvy I just examined my JDK directory (`/usr/lib/jvm/java-8-openjdk-amd64`) and the `java` file inside the bin directory of the JDK is only a shortcut for the &quot;real&quot; java file inside the bin sub-directory of the jre directory.","body":"@JesseIvy I just examined my JDK directory (<code>&#47;usr&#47;lib&#47;jvm&#47;java-8-openjdk-amd64</code>) and the <code>java</code> file inside the bin directory of the JDK is only a shortcut for the &quot;real&quot; java file inside the bin sub-directory of the jre directory."}],"tags":[],"owner":{"account_id":2299951,"reputation":1829,"user_id":2020430,"display_name":"Chinbold Gansukh"},"comment_count":2,"down_vote_count":1,"up_vote_count":155,"is_accepted":false,"score":154,"last_activity_date":1426832650,"creation_date":1426832650,"answer_id":29160633,"question_id":1906445,"body_markdown":"![enter image description here][1]\r\n\r\n&gt;JDK is a superset of JRE, and contains everything that is in JRE, plus tools such as the compilers and debuggers necessary for developing applets and applications. JRE provides the libraries, the Java Virtual Machine (JVM), and other components to run applets and applications written in the Java programming language.\r\n\r\n  [1]: http://i.stack.imgur.com/CBNux.png","title":"What is the difference between JDK and JRE?","body":"<p><img src=\"https://i.stack.imgur.com/CBNux.png\" alt=\"enter image description here\"></p>\n\n<blockquote>\n  <p>JDK is a superset of JRE, and contains everything that is in JRE, plus tools such as the compilers and debuggers necessary for developing applets and applications. JRE provides the libraries, the Java Virtual Machine (JVM), and other components to run applets and applications written in the Java programming language.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":3390327,"reputation":2668,"user_id":2845282,"accept_rate":68,"display_name":"Nikhil Kumar"},"comment_count":0,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1429604033,"creation_date":1429604033,"answer_id":29766525,"question_id":1906445,"body_markdown":"JRE\r\n\r\nJRE is an acronym for Java Runtime Environment.It is used to provide runtime environment.It is the implementation of JVM.It physically exists.It contains set of libraries + other files that JVM uses at runtime.\r\n\r\nJDK\r\n\r\nJDK is an acronym for Java Development Kit.It physically exists.It contains JRE + development tools.\r\n\r\nLink :- http://www.javatpoint.com/difference-between-jdk-jre-and-jvm\r\n\r\nUsually, when you only care about running Java programs on your browser or computer you will only install JRE. It&#39;s all you need. On the other hand, if you are planning to do some Java programming, you will also need JDK.\r\n\r\n","title":"What is the difference between JDK and JRE?","body":"<p>JRE</p>\n\n<p>JRE is an acronym for Java Runtime Environment.It is used to provide runtime environment.It is the implementation of JVM.It physically exists.It contains set of libraries + other files that JVM uses at runtime.</p>\n\n<p>JDK</p>\n\n<p>JDK is an acronym for Java Development Kit.It physically exists.It contains JRE + development tools.</p>\n\n<p>Link :- <a href=\"http://www.javatpoint.com/difference-between-jdk-jre-and-jvm\">http://www.javatpoint.com/difference-between-jdk-jre-and-jvm</a></p>\n\n<p>Usually, when you only care about running Java programs on your browser or computer you will only install JRE. It's all you need. On the other hand, if you are planning to do some Java programming, you will also need JDK.</p>\n"},{"comments":[{"owner":{"account_id":5131432,"reputation":681,"user_id":4117210,"accept_rate":75,"display_name":"Sam Sirry"},"score":0,"creation_date":1611946999,"post_id":30130080,"comment_id":116622856,"body_markdown":"What does &quot;SE&quot; stand for? Standard Edition?","body":"What does &quot;SE&quot; stand for? Standard Edition?"},{"owner":{"account_id":94193,"reputation":20589,"user_id":257299,"accept_rate":64,"display_name":"kevinarpe"},"score":1,"creation_date":1620300370,"post_id":30130080,"comment_id":119162967,"body_markdown":"@SamSirry: Yes, I think so.  Wiki says so here: https://en.wikipedia.org/wiki/Java_Platform,_Standard_Edition","body":"@SamSirry: Yes, I think so.  Wiki says so here: <a href=\"https://en.wikipedia.org/wiki/Java_Platform,_Standard_Edition\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/Java_Platform,_Standard_Edition</a>"}],"tags":[],"owner":{"account_id":98159,"reputation":9280,"user_id":265877,"accept_rate":68,"display_name":"Alex"},"comment_count":2,"down_vote_count":1,"up_vote_count":10,"is_accepted":false,"score":9,"last_activity_date":1431108111,"creation_date":1431108111,"answer_id":30130080,"question_id":1906445,"body_markdown":"Here&#39;s a simple response directly from Oracle\r\nhttp://docs.oracle.com/javase/7/docs/technotes/guides/\r\n\r\n**Java SE Runtime Environment (JRE)**\r\n\r\nThe JRE provides the libraries, Java virtual machine, and other components necessary for you to run applets and applications written in the Java programming language. This runtime environment can be redistributed with applications to make them free-standing.\r\n\r\n**Java SE Development Kit (JDK)**\r\n\r\nThe JDK includes the JRE plus command-line development tools such as compilers and debuggers that are necessary or useful for developing applets and applications.","title":"What is the difference between JDK and JRE?","body":"<p>Here's a simple response directly from Oracle\n<a href=\"http://docs.oracle.com/javase/7/docs/technotes/guides/\">http://docs.oracle.com/javase/7/docs/technotes/guides/</a></p>\n\n<p><strong>Java SE Runtime Environment (JRE)</strong></p>\n\n<p>The JRE provides the libraries, Java virtual machine, and other components necessary for you to run applets and applications written in the Java programming language. This runtime environment can be redistributed with applications to make them free-standing.</p>\n\n<p><strong>Java SE Development Kit (JDK)</strong></p>\n\n<p>The JDK includes the JRE plus command-line development tools such as compilers and debuggers that are necessary or useful for developing applets and applications.</p>\n"},{"tags":[],"owner":{"account_id":6634222,"reputation":375,"user_id":5121838,"display_name":"Pruthvi"},"comment_count":0,"down_vote_count":1,"up_vote_count":8,"is_accepted":false,"score":7,"last_activity_date":1443454338,"creation_date":1443454338,"answer_id":32826697,"question_id":1906445,"body_markdown":"JVM (Java Virtual Machine) is an abstract machine. It is a specification that provides runtime environment in which java bytecode can be executed.\r\n\r\nJRE is an acronym for Java Runtime Environment.It is used to provide runtime environment.It is the implementation of JVM.It physically exists.It contains set of libraries + other files that JVM uses at runtime\r\n\r\nJDK is an acronym for Java Development Kit.It physically exists.It contains JRE + development tools\r\n\r\n","title":"What is the difference between JDK and JRE?","body":"<p>JVM (Java Virtual Machine) is an abstract machine. It is a specification that provides runtime environment in which java bytecode can be executed.</p>\n\n<p>JRE is an acronym for Java Runtime Environment.It is used to provide runtime environment.It is the implementation of JVM.It physically exists.It contains set of libraries + other files that JVM uses at runtime</p>\n\n<p>JDK is an acronym for Java Development Kit.It physically exists.It contains JRE + development tools</p>\n"},{"tags":[],"owner":{"account_id":1876903,"reputation":2424,"user_id":2672566,"accept_rate":67,"display_name":"nifCody"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1446349179,"creation_date":1446349179,"answer_id":33458974,"question_id":1906445,"body_markdown":"If you want to run Java programs, but not develop them, download the Java Run-time Environment, or JRE. If you want to develop them, download the Java Development kit, or JDK\r\n\r\nJDK\r\n---\r\nLet&#39;s called JDK is a kit, which include what are those things need to developed and run java applications. \r\n\r\nJDK is given as development environment for building applications, component s and applets. \r\n\r\nJRE\r\n--\r\nIt contains everything you need to run Java applications in compiled form. You don&#39;t need any libraries and other stuffs. All things you need are compiled. \r\n\r\nJRE is can not used for development, only used for run the applications. \r\n\r\n\r\n\r\n","title":"What is the difference between JDK and JRE?","body":"<p>If you want to run Java programs, but not develop them, download the Java Run-time Environment, or JRE. If you want to develop them, download the Java Development kit, or JDK</p>\n\n<h2>JDK</h2>\n\n<p>Let's called JDK is a kit, which include what are those things need to developed and run java applications. </p>\n\n<p>JDK is given as development environment for building applications, component s and applets. </p>\n\n<h2>JRE</h2>\n\n<p>It contains everything you need to run Java applications in compiled form. You don't need any libraries and other stuffs. All things you need are compiled. </p>\n\n<p>JRE is can not used for development, only used for run the applications. </p>\n"},{"comments":[{"owner":{"account_id":3974282,"reputation":1805,"user_id":3277889,"accept_rate":79,"display_name":"JoseOrtiz3"},"score":0,"creation_date":1548538233,"post_id":34510731,"comment_id":95578762,"body_markdown":"When you say &quot;compile&quot; or &quot;compiler&quot;, it is extremely confusing in this context to which you are referring to: turning java source code into java byte code, or turning java byte code into machine code.","body":"When you say &quot;compile&quot; or &quot;compiler&quot;, it is extremely confusing in this context to which you are referring to: turning java source code into java byte code, or turning java byte code into machine code."},{"owner":{"account_id":6341035,"reputation":1380,"user_id":4924793,"accept_rate":73,"display_name":"Emzor"},"score":2,"creation_date":1585253288,"post_id":34510731,"comment_id":107703463,"body_markdown":"Nice! I like the grandfather, father and son analogy. :D","body":"Nice! I like the grandfather, father and son analogy. :D"},{"owner":{"account_id":4141733,"reputation":4569,"user_id":3396808,"display_name":"Jaimin Patel"},"score":0,"creation_date":1587044927,"post_id":34510731,"comment_id":108358755,"body_markdown":"Yeah Thanks, it&#39;s very easy to understand who is not much familiar with these terms.","body":"Yeah Thanks, it&#39;s very easy to understand who is not much familiar with these terms."},{"owner":{"account_id":204515,"reputation":11679,"user_id":452775,"accept_rate":63,"display_name":"Lii"},"score":1,"creation_date":1666471348,"post_id":34510731,"comment_id":130946596,"body_markdown":"@JoseOrtiz3: In Java using the term &quot;compile&quot; unqualified generally means &quot;turning source code into byte code&quot;. &quot;JIT (just-in-time) compile&quot; generally means  &quot;turning byte code into machine code&quot;. It is called &quot;just-in-time&quot; because it is performed by the JVM as the program is running.","body":"@JoseOrtiz3: In Java using the term &quot;compile&quot; unqualified generally means &quot;turning source code into byte code&quot;. &quot;JIT (just-in-time) compile&quot; generally means  &quot;turning byte code into machine code&quot;. It is called &quot;just-in-time&quot; because it is performed by the JVM as the program is running."}],"tags":[],"owner":{"account_id":4141733,"reputation":4569,"user_id":3396808,"display_name":"Jaimin Patel"},"comment_count":4,"down_vote_count":1,"up_vote_count":135,"is_accepted":false,"score":134,"last_activity_date":1623071738,"creation_date":1451390849,"answer_id":34510731,"question_id":1906445,"body_markdown":"In layman terms: JDK is grandfather JRE is father and JVM is their son.\r\n**[i.e.  JDK &gt; JRE &gt; JVM ]**\r\n\r\n&gt; **JDK = JRE + Development/debugging tools**    \r\n&gt; \r\n&gt; **JRE = JVM + Java Packages Classes(like util, math, lang, awt,swing etc)+runtime libraries.**\r\n&gt;\r\n&gt; **JVM = Class loader system + runtime data area + Execution Engine.**\r\n\r\nIn other words if you are a Java programmer you will need JDK in your system and this package will include JRE and JVM as well but if you are normal user who like to play online games then you will only need JRE and this package will not have JDK in it.\r\n\r\n\r\n\r\n**JVM :**\r\n\r\nThe **Java Virtual Machine (JVM)** is the virtual machine that run the Java bytecodes. The JVM doesn&#39;t understand Java source code, that&#39;s why you compile your *.java files to obtain *.class files that contain the bytecodes understandable by the JVM. It&#39;s also the entity that allows Java to be a &quot;portable language&quot; (write once, run anywhere). Indeed there are specific implementations of the JVM for different systems (Windows, Linux, MacOS, see the wikipedia list..), the aim is that with the same bytecodes they all give the same results.\r\n\r\n\r\n\r\n\r\n**JDK and JRE**\r\n\r\nTo explain the difference between JDK and JRE, the best is to read the Oracle documentation and consult the diagram :\r\n\r\n**Java Runtime Environment (JRE)**\r\n\r\nThe **Java Runtime Environment (JRE)** provides the libraries, the Java Virtual Machine, and other components to run applets and applications written in the Java programming language. In addition, two key deployment technologies are part of the JRE: Java Plug-in, which enables applets to run in popular browsers; and Java Web Start, which deploys standalone applications over a network. It is also the foundation for the technologies in the Java 2 Platform, Enterprise Edition (J2EE) for enterprise software development and deployment. The JRE does not contain tools and utilities such as compilers or debuggers for developing applets and applications.\r\n\r\n\r\n\r\n**Java Development Kit (JDK)**\r\n\r\n\r\nThe JDK is a superset of the JRE, and contains everything that is in the JRE, plus tools such as the compilers and debuggers necessary for developing applets and applications.\r\n\r\n\r\n\r\nNote that Oracle is not the only one to provide JDK.\r\n\r\n\r\n[JIT Compile Process (Courtesy: Oracle documentation)][1]\r\n\r\n\r\n[![JDK &gt; JRE &gt; JVM][2]][2]\r\n\r\n\r\n[![enter image description here][3]][3]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/pQRpc.gif\r\n  [2]: http://i.stack.imgur.com/AaveN.png\r\n  [3]: https://i.stack.imgur.com/CBNux.png","title":"What is the difference between JDK and JRE?","body":"<p>In layman terms: JDK is grandfather JRE is father and JVM is their son.\n<strong>[i.e.  JDK &gt; JRE &gt; JVM ]</strong></p>\n<blockquote>\n<p><strong>JDK = JRE + Development/debugging tools</strong></p>\n<p><strong>JRE = JVM + Java Packages Classes(like util, math, lang, awt,swing etc)+runtime libraries.</strong></p>\n<p><strong>JVM = Class loader system + runtime data area + Execution Engine.</strong></p>\n</blockquote>\n<p>In other words if you are a Java programmer you will need JDK in your system and this package will include JRE and JVM as well but if you are normal user who like to play online games then you will only need JRE and this package will not have JDK in it.</p>\n<p><strong>JVM :</strong></p>\n<p>The <strong>Java Virtual Machine (JVM)</strong> is the virtual machine that run the Java bytecodes. The JVM doesn't understand Java source code, that's why you compile your *.java files to obtain *.class files that contain the bytecodes understandable by the JVM. It's also the entity that allows Java to be a &quot;portable language&quot; (write once, run anywhere). Indeed there are specific implementations of the JVM for different systems (Windows, Linux, MacOS, see the wikipedia list..), the aim is that with the same bytecodes they all give the same results.</p>\n<p><strong>JDK and JRE</strong></p>\n<p>To explain the difference between JDK and JRE, the best is to read the Oracle documentation and consult the diagram :</p>\n<p><strong>Java Runtime Environment (JRE)</strong></p>\n<p>The <strong>Java Runtime Environment (JRE)</strong> provides the libraries, the Java Virtual Machine, and other components to run applets and applications written in the Java programming language. In addition, two key deployment technologies are part of the JRE: Java Plug-in, which enables applets to run in popular browsers; and Java Web Start, which deploys standalone applications over a network. It is also the foundation for the technologies in the Java 2 Platform, Enterprise Edition (J2EE) for enterprise software development and deployment. The JRE does not contain tools and utilities such as compilers or debuggers for developing applets and applications.</p>\n<p><strong>Java Development Kit (JDK)</strong></p>\n<p>The JDK is a superset of the JRE, and contains everything that is in the JRE, plus tools such as the compilers and debuggers necessary for developing applets and applications.</p>\n<p>Note that Oracle is not the only one to provide JDK.</p>\n<p><a href=\"https://i.stack.imgur.com/pQRpc.gif\" rel=\"noreferrer\">JIT Compile Process (Courtesy: Oracle documentation)</a></p>\n<p><a href=\"https://i.stack.imgur.com/AaveN.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/AaveN.png\" alt=\"JDK &gt; JRE &gt; JVM\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/CBNux.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/CBNux.png\" alt=\"enter image description here\" /></a></p>\n"},{"comments":[{"owner":{"account_id":958617,"reputation":4858,"user_id":983430,"accept_rate":100,"display_name":"Amos M. Carpenter"},"score":5,"creation_date":1458921034,"post_id":35391575,"comment_id":60077675,"body_markdown":"@Noy: Not only is it very little information, it also doesn&#39;t contain anything the other answers don&#39;t.","body":"@Noy: Not only is it very little information, it also doesn&#39;t contain anything the other answers don&#39;t."}],"tags":[],"owner":{"account_id":7837633,"reputation":95,"user_id":5925051,"display_name":"Mayank Jain"},"comment_count":1,"down_vote_count":2,"up_vote_count":7,"is_accepted":false,"score":5,"last_activity_date":1455451829,"creation_date":1455451829,"answer_id":35391575,"question_id":1906445,"body_markdown":"jdk is necessary to compile to code and convert java code to byte codes while jre is necessary for executing the byte codes. \r\n \r\n\r\n","title":"What is the difference between JDK and JRE?","body":"<p>jdk is necessary to compile to code and convert java code to byte codes while jre is necessary for executing the byte codes. </p>\n"},{"tags":[],"owner":{"account_id":8131699,"reputation":971,"user_id":6124737,"display_name":"Samarth Shah"},"comment_count":0,"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1460149374,"creation_date":1460149374,"answer_id":36509307,"question_id":1906445,"body_markdown":"The difference between JDK and JRE is that JDK is the software development kit for java while JRE is the place where you run your programs.","title":"What is the difference between JDK and JRE?","body":"<p>The difference between JDK and JRE is that JDK is the software development kit for java while JRE is the place where you run your programs.</p>\n"},{"tags":[],"owner":{"account_id":8578106,"reputation":140,"user_id":6426779,"display_name":"bishwas pokharel"},"comment_count":0,"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1465198791,"creation_date":1465198791,"answer_id":37651977,"question_id":1906445,"body_markdown":"suppose, if you are a developer then your role is to develop program as well as to execute the program. so you must have environment for developing and executing, which is provided by JDK.\r\n\r\nsuppose, if you are a client then you don&#39;t have to worry about developing.Just you need is, an environment to run program and get result only, which is provided by JRE.\r\n\r\nJRE executes the application but JVM reads the instructions line by line so it&#39;s interpreter.\r\n\r\nJDK=JRE+Development Tools\r\n\r\nJRE=JVM+Library Classes","title":"What is the difference between JDK and JRE?","body":"<p>suppose, if you are a developer then your role is to develop program as well as to execute the program. so you must have environment for developing and executing, which is provided by JDK.</p>\n\n<p>suppose, if you are a client then you don't have to worry about developing.Just you need is, an environment to run program and get result only, which is provided by JRE.</p>\n\n<p>JRE executes the application but JVM reads the instructions line by line so it's interpreter.</p>\n\n<p>JDK=JRE+Development Tools</p>\n\n<p>JRE=JVM+Library Classes</p>\n"},{"tags":[],"owner":{"account_id":1779020,"reputation":844,"user_id":1622201,"accept_rate":12,"display_name":"Chandra Shekhar Goka"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1524365339,"creation_date":1465291074,"answer_id":37675238,"question_id":1906445,"body_markdown":"A clear understanding of these terms(JVM, JDK, JRE) are essential to grasp their usage and differences.\r\n\r\n**JVM**\r\nJava Virtual Machine (JVM) is a run-time system that executes Java bytecode. The JVM is like a virtual computer that can execute a set of compiled instructions and manipulate memory locations. When a Java compiler compiles source code, it generates a highly optimized set of instructions called bytecode in a .class file. The JVM interprets these bytecode instructions and converts them to machine-specific code for execution.\r\n\r\n**JDK**\r\nThe Java Development Kit (JDK) is a software development environment that you can use to develop and execute Java applications. It includes the JRE and a set of programming tools, such as a Java compiler, interpreter, appletviewer, and document viewer. The JDK is implemented through the Java SE, Java EE, or Java ME platforms. \r\n\r\n**JRE**\r\nThe Java Runtime Environment (JRE) is a part of the JDK that includes a JVM, core classes, and several libraries that support application development. Though the JRE is available as part of the JDK, you can also download and use it separately.\r\n\r\nFor complete understanding you can see my Blog : [Jdk Jre Jvm and differences][1]\r\n\r\n\r\n  [1]: http://www.onlinetutorialspoint.com/java/jdk-jre-jvm-and-differences.html","title":"What is the difference between JDK and JRE?","body":"<p>A clear understanding of these terms(JVM, JDK, JRE) are essential to grasp their usage and differences.</p>\n\n<p><strong>JVM</strong>\nJava Virtual Machine (JVM) is a run-time system that executes Java bytecode. The JVM is like a virtual computer that can execute a set of compiled instructions and manipulate memory locations. When a Java compiler compiles source code, it generates a highly optimized set of instructions called bytecode in a .class file. The JVM interprets these bytecode instructions and converts them to machine-specific code for execution.</p>\n\n<p><strong>JDK</strong>\nThe Java Development Kit (JDK) is a software development environment that you can use to develop and execute Java applications. It includes the JRE and a set of programming tools, such as a Java compiler, interpreter, appletviewer, and document viewer. The JDK is implemented through the Java SE, Java EE, or Java ME platforms. </p>\n\n<p><strong>JRE</strong>\nThe Java Runtime Environment (JRE) is a part of the JDK that includes a JVM, core classes, and several libraries that support application development. Though the JRE is available as part of the JDK, you can also download and use it separately.</p>\n\n<p>For complete understanding you can see my Blog : <a href=\"http://www.onlinetutorialspoint.com/java/jdk-jre-jvm-and-differences.html\" rel=\"nofollow noreferrer\">Jdk Jre Jvm and differences</a></p>\n"},{"comments":[{"owner":{"account_id":2785906,"reputation":16981,"user_id":2397327,"accept_rate":97,"display_name":"Jonathan Lam"},"score":0,"creation_date":1470917490,"post_id":38895072,"comment_id":65150938,"body_markdown":"There was plagiarism from multiple sites (for the JVM and JDK sections). Next time, please cite your sources -- it is not your original work.","body":"There was plagiarism from multiple sites (for the JVM and JDK sections). Next time, please cite your sources -- it is not your original work."}],"tags":[],"owner":{"account_id":8993422,"reputation":119,"user_id":6704626,"display_name":"Harita M"},"comment_count":1,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1470917228,"creation_date":1470914762,"answer_id":38895072,"question_id":1906445,"body_markdown":"If you are a **Java programmer** you will need **JDK** in your system and this package will include JRE and JVM as well but if you are **normal user** who like to play online games then you will only need **JRE** and this package will not have JDK in it.\r\n\r\n&gt; **JVM** \r\n&gt; \r\n&gt; JVM (Java Virtual Machine) is an abstract machine. It is a\r\n&gt; specification that provides runtime environment in which java bytecode\r\n&gt; can be executed.\r\n&gt; \r\n&gt; JVMs are available for many hardware and software platforms. JVM, JRE\r\n&gt; and JDK are platform dependent because configuration of each OS\r\n&gt; differs. But, Java is platform independent.\r\n&gt; \r\n&gt; \r\n&gt; **JRE**\r\n&gt; \r\n&gt; It contains everything you need to run Java applications in compiled\r\n&gt; form. You don&#39;t need any libraries and other stuffs. All things you\r\n&gt; need are compiled.\r\n&gt; \r\n&gt; JRE is can not used for development, only used for run the\r\n&gt; applications.\r\n&gt; \r\n&gt; **Java SE Development Kit (JDK)**\r\n&gt; \r\n&gt; The JDK includes the JRE plus command-line development tools such as\r\n&gt; compilers and debuggers that are necessary or useful for developing\r\n&gt; applets and applications.\r\n\r\n&lt;sup&gt;(Sources: [GeeksForGeeks Q&amp;A](http://qa.geeksforgeeks.org/4248/explain-the-difference-between-jdk-jre-and-jvm), [Java Platform Overview](http://docs.oracle.com/javase/7/docs/technotes/guides/))&lt;/sup&gt;","title":"What is the difference between JDK and JRE?","body":"<p>If you are a <strong>Java programmer</strong> you will need <strong>JDK</strong> in your system and this package will include JRE and JVM as well but if you are <strong>normal user</strong> who like to play online games then you will only need <strong>JRE</strong> and this package will not have JDK in it.</p>\n\n<blockquote>\n  <p><strong>JVM</strong> </p>\n  \n  <p>JVM (Java Virtual Machine) is an abstract machine. It is a\n  specification that provides runtime environment in which java bytecode\n  can be executed.</p>\n  \n  <p>JVMs are available for many hardware and software platforms. JVM, JRE\n  and JDK are platform dependent because configuration of each OS\n  differs. But, Java is platform independent.</p>\n  \n  <p><strong>JRE</strong></p>\n  \n  <p>It contains everything you need to run Java applications in compiled\n  form. You don't need any libraries and other stuffs. All things you\n  need are compiled.</p>\n  \n  <p>JRE is can not used for development, only used for run the\n  applications.</p>\n  \n  <p><strong>Java SE Development Kit (JDK)</strong></p>\n  \n  <p>The JDK includes the JRE plus command-line development tools such as\n  compilers and debuggers that are necessary or useful for developing\n  applets and applications.</p>\n</blockquote>\n\n<p><sup>(Sources: <a href=\"http://qa.geeksforgeeks.org/4248/explain-the-difference-between-jdk-jre-and-jvm\" rel=\"noreferrer\">GeeksForGeeks Q&amp;A</a>, <a href=\"http://docs.oracle.com/javase/7/docs/technotes/guides/\" rel=\"noreferrer\">Java Platform Overview</a>)</sup></p>\n"},{"tags":[],"owner":{"account_id":9000365,"reputation":121,"user_id":6709222,"display_name":"Kanan J"},"comment_count":0,"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1585631637,"creation_date":1471002678,"answer_id":38917282,"question_id":1906445,"body_markdown":"JVM, JRE, JDK - these are all the backbone of Java language. Each component work separately. JDK and JRE physically exist but JVM is an abstract machine that means it does not physically exist.\r\n\r\n**JVM** is the subsystem of JDK and JRE which is used to check the intermediate code known as &quot;bytecode&quot;. It first loads the &quot;class file&quot; (having .c extension) generated by the Java compiler (javac) through JVM subsystem classloader and classified memory location (class area, stack, heap and pc registers) according to their use. Then it checks all the bytecode to ensure that it is returned in Java and all memory accessibility access by the network. The interpreter&#39;s work starts after that where it checks the whole program line by line. The results are finally shown in the console/browser/application through JRE (Java Runtime Environment) which runtime facilities.\r\n\r\n**JRE** is also a subsystem of JDK which provides runtime facilities like JVM, classes, executable files like .jar file, etc.\r\n\r\n**JDK** stands for Java Development Kit. It contains all necessary components used in Java programming such as class, method, swing, AWT, package, Java (interpreter), javac (compiler), appletviewer (applet application viewer), etc. To conclude, it contains every file required for developing applications, whether standalone or web-based.","title":"What is the difference between JDK and JRE?","body":"<p>JVM, JRE, JDK - these are all the backbone of Java language. Each component work separately. JDK and JRE physically exist but JVM is an abstract machine that means it does not physically exist.</p>\n\n<p><strong>JVM</strong> is the subsystem of JDK and JRE which is used to check the intermediate code known as \"bytecode\". It first loads the \"class file\" (having .c extension) generated by the Java compiler (javac) through JVM subsystem classloader and classified memory location (class area, stack, heap and pc registers) according to their use. Then it checks all the bytecode to ensure that it is returned in Java and all memory accessibility access by the network. The interpreter's work starts after that where it checks the whole program line by line. The results are finally shown in the console/browser/application through JRE (Java Runtime Environment) which runtime facilities.</p>\n\n<p><strong>JRE</strong> is also a subsystem of JDK which provides runtime facilities like JVM, classes, executable files like .jar file, etc.</p>\n\n<p><strong>JDK</strong> stands for Java Development Kit. It contains all necessary components used in Java programming such as class, method, swing, AWT, package, Java (interpreter), javac (compiler), appletviewer (applet application viewer), etc. To conclude, it contains every file required for developing applications, whether standalone or web-based.</p>\n"},{"tags":[],"owner":{"account_id":8080133,"reputation":59,"user_id":6092136,"display_name":"Dev"},"comment_count":0,"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1471606794,"creation_date":1471606794,"answer_id":39038162,"question_id":1906445,"body_markdown":"**JDK** includes the JRE plus command-line development tools such as compilers and debuggers that are necessary or useful for developing applets and applications.\r\n\r\n**JRE** is basically the Java Virtual Machine where your Java programs run on. It also includes browser plugins for Applet execution.\r\n\r\n**JDK** is an abstract machine. It is a specification that provides runtime environment in which java bytecode can be executed.\r\n\r\nSo, Basically JVM &lt; JRE &lt; JDK as per @Jaimin Patel said.","title":"What is the difference between JDK and JRE?","body":"<p><strong>JDK</strong> includes the JRE plus command-line development tools such as compilers and debuggers that are necessary or useful for developing applets and applications.</p>\n\n<p><strong>JRE</strong> is basically the Java Virtual Machine where your Java programs run on. It also includes browser plugins for Applet execution.</p>\n\n<p><strong>JDK</strong> is an abstract machine. It is a specification that provides runtime environment in which java bytecode can be executed.</p>\n\n<p>So, Basically JVM &lt; JRE &lt; JDK as per @Jaimin Patel said.</p>\n"},{"tags":[],"owner":{"account_id":8083203,"reputation":69,"user_id":6734944,"display_name":"ABP "},"comment_count":0,"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1471610464,"creation_date":1471610464,"answer_id":39039314,"question_id":1906445,"body_markdown":"Simply : \r\n\r\nJVM is the virtual machine Java code executes on\r\n\r\nJRE is the environment (standard libraries and JVM) required to run Java applications\r\n\r\nJDK is the JRE with developer tools and documentation\r\n\r\n","title":"What is the difference between JDK and JRE?","body":"<p>Simply : </p>\n\n<p>JVM is the virtual machine Java code executes on</p>\n\n<p>JRE is the environment (standard libraries and JVM) required to run Java applications</p>\n\n<p>JDK is the JRE with developer tools and documentation</p>\n"},{"tags":[],"owner":{"account_id":9121547,"reputation":81,"user_id":6786809,"display_name":"Chintan Patni"},"comment_count":0,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1472806835,"creation_date":1472806835,"answer_id":39288387,"question_id":1906445,"body_markdown":"JVM, JRE and JDK are platform dependent because configuration of each OS differs. But, Java is platform independent. \r\n\r\nJava Virtual Machine (JVM) is a run-time system that executes Java bytecode. \r\n\r\nJRE is the environment (standard libraries and JVM) required to run Java applications.\r\n\r\nThe JDK includes the JRE plus command-line development tools such as compilers and debuggers that are necessary or useful for developing applets and applications.","title":"What is the difference between JDK and JRE?","body":"<p>JVM, JRE and JDK are platform dependent because configuration of each OS differs. But, Java is platform independent. </p>\n\n<p>Java Virtual Machine (JVM) is a run-time system that executes Java bytecode. </p>\n\n<p>JRE is the environment (standard libraries and JVM) required to run Java applications.</p>\n\n<p>The JDK includes the JRE plus command-line development tools such as compilers and debuggers that are necessary or useful for developing applets and applications.</p>\n"},{"comments":[{"owner":{"account_id":2007569,"reputation":8114,"user_id":1797006,"accept_rate":63,"display_name":"Kalle Richter"},"score":0,"creation_date":1549448172,"post_id":46970227,"comment_id":95902260,"body_markdown":"Both the information in the text and the graphics have been provided in other, earlier answers.","body":"Both the information in the text and the graphics have been provided in other, earlier answers."}],"tags":[],"owner":{"account_id":5013949,"reputation":1268,"user_id":4029284,"display_name":"Akila"},"comment_count":1,"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1509091343,"creation_date":1509091343,"answer_id":46970227,"question_id":1906445,"body_markdown":"**JRE**\r\n\r\nJRE is an acronym for Java Runtime Environment.It is used to provide runtime environment.It is the implementation of JVM. It physically exists. It contains set of libraries + other files that JVM uses at runtime.\r\n\r\nImplementation of JVMs are also actively released by other companies besides Sun Micro Systems.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n**JDK**\r\n\r\nJDK is an acronym for Java Development Kit.It physically exists.It contains JRE + development tools. \r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/fiwnE.jpg\r\n  [2]: https://i.stack.imgur.com/fWrJo.jpg","title":"What is the difference between JDK and JRE?","body":"<p><strong>JRE</strong></p>\n\n<p>JRE is an acronym for Java Runtime Environment.It is used to provide runtime environment.It is the implementation of JVM. It physically exists. It contains set of libraries + other files that JVM uses at runtime.</p>\n\n<p>Implementation of JVMs are also actively released by other companies besides Sun Micro Systems.</p>\n\n<p><a href=\"https://i.stack.imgur.com/fiwnE.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/fiwnE.jpg\" alt=\"enter image description here\"></a></p>\n\n<p><strong>JDK</strong></p>\n\n<p>JDK is an acronym for Java Development Kit.It physically exists.It contains JRE + development tools. </p>\n\n<p><a href=\"https://i.stack.imgur.com/fWrJo.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/fWrJo.jpg\" alt=\"enter image description here\"></a></p>\n"}],"owner":{"account_id":55779,"reputation":16052,"user_id":167114,"accept_rate":85,"display_name":"i2ijeya"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":826557,"favorite_count":0,"down_vote_count":3,"up_vote_count":1083,"accepted_answer_id":1906455,"answer_count":20,"score":1080,"last_activity_date":1667310017,"creation_date":1260872367,"question_id":1906445,"body_markdown":"\r\n\r\n&gt; Editors note: This question was asked in 2009 where the world was different. In 2022 the standard open sourced OpenJDK is JDK-only. \r\n\r\n---\r\n\r\n\r\nWhat is the difference between JDK and JRE?\r\n  \r\nWhat are their roles and when should I use one or the other?","title":"What is the difference between JDK and JRE?","body":"<blockquote>\n<p>Editors note: This question was asked in 2009 where the world was different. In 2022 the standard open sourced OpenJDK is JDK-only.</p>\n</blockquote>\n<hr />\n<p>What is the difference between JDK and JRE?</p>\n<p>What are their roles and when should I use one or the other?</p>\n"},{"tags":["java","hadoop","mapreduce"],"comments":[{"owner":{"account_id":266568,"reputation":2161,"user_id":554205,"accept_rate":75,"display_name":"Pradeep Gollakota"},"score":0,"creation_date":1333672342,"post_id":10037562,"comment_id":12840664,"body_markdown":"What environment are you running on? What version of hadoop? Do you have hadoop-native installed?","body":"What environment are you running on? What version of hadoop? Do you have hadoop-native installed?"},{"owner":{"account_id":1016954,"reputation":2531,"user_id":1028315,"accept_rate":56,"display_name":"lucky_start_izumi"},"score":0,"creation_date":1333730947,"post_id":10037562,"comment_id":12853572,"body_markdown":"i am using hadoop-0.20.0 I think I have hadoop-native. I can run the mapreduce job from command line : hadoop jar validation...","body":"i am using hadoop-0.20.0 I think I have hadoop-native. I can run the mapreduce job from command line : hadoop jar validation..."}],"answers":[{"comments":[{"owner":{"account_id":1016954,"reputation":2531,"user_id":1028315,"accept_rate":56,"display_name":"lucky_start_izumi"},"score":0,"creation_date":1333731110,"post_id":10038290,"comment_id":12853614,"body_markdown":"Thank you for the suggestion! I have libgplcompression files in the folder. But it&#39;s still not working. Because I am calling ToolRunner from java, so I run it as java application. I set conf.set(&quot;java.library.path&quot;,&quot;absolute path to native folder&quot;), but it&#39;s still not working!","body":"Thank you for the suggestion! I have libgplcompression files in the folder. But it&#39;s still not working. Because I am calling ToolRunner from java, so I run it as java application. I set conf.set(&quot;java.library.path&quot;,&quot;absolute path to native folder&quot;), but it&#39;s still not working!"},{"owner":{"account_id":1337393,"reputation":29969,"user_id":1279787,"accept_rate":67,"display_name":"Chris White"},"score":0,"creation_date":1333734978,"post_id":10038290,"comment_id":12854773,"body_markdown":"Do you have this libgplcompression.so file on every node in your cluster?","body":"Do you have this libgplcompression.so file on every node in your cluster?"},{"owner":{"account_id":1016954,"reputation":2531,"user_id":1028315,"accept_rate":56,"display_name":"lucky_start_izumi"},"score":0,"creation_date":1333734995,"post_id":10038290,"comment_id":12854779,"body_markdown":"Sorry, i mean set java.library.path in System.","body":"Sorry, i mean set java.library.path in System."},{"owner":{"account_id":1337393,"reputation":29969,"user_id":1279787,"accept_rate":67,"display_name":"Chris White"},"score":0,"creation_date":1333735551,"post_id":10038290,"comment_id":12854925,"body_markdown":"And i think setting `java.library.path` only works for the job client end (i&#39;d need to dig through the source some more) but you can add shared libraries via the DistributedCache - see the Native Shared Libraries section of http://hadoop.apache.org/common/docs/current/native_libraries.html","body":"And i think setting <code>java.library.path</code> only works for the job client end (i&#39;d need to dig through the source some more) but you can add shared libraries via the DistributedCache - see the Native Shared Libraries section of <a href=\"http://hadoop.apache.org/common/docs/current/native_libraries.html\" rel=\"nofollow noreferrer\">hadoop.apache.org/common/docs/current/native_libraries.html</a>"},{"owner":{"account_id":1016954,"reputation":2531,"user_id":1028315,"accept_rate":56,"display_name":"lucky_start_izumi"},"score":0,"creation_date":1333749647,"post_id":10038290,"comment_id":12858538,"body_markdown":"solved! Add the path to native in java path solves th problem.","body":"solved! Add the path to native in java path solves th problem."},{"owner":{"account_id":6067817,"reputation":948,"user_id":4737559,"accept_rate":78,"display_name":"shriyog"},"score":0,"creation_date":1521457090,"post_id":10038290,"comment_id":85722575,"body_markdown":"@ChrisWhite I don&#39;t have `libgplcompression.so` listed under `lib/native` How can I get this?","body":"@ChrisWhite I don&#39;t have <code>libgplcompression.so</code> listed under <code>lib&#47;native</code> How can I get this?"},{"owner":{"account_id":1337393,"reputation":29969,"user_id":1279787,"accept_rate":67,"display_name":"Chris White"},"score":0,"creation_date":1521486123,"post_id":10038290,"comment_id":85742027,"body_markdown":"@narush - this was 5.5 years ago, so depends on what version of hadoop you&#39;re running now - post a new question","body":"@narush - this was 5.5 years ago, so depends on what version of hadoop you&#39;re running now - post a new question"}],"tags":[],"owner":{"account_id":1337393,"reputation":29969,"user_id":1279787,"accept_rate":67,"display_name":"Chris White"},"comment_count":7,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1445332663,"creation_date":1333677223,"answer_id":10038290,"question_id":10037562,"body_markdown":"Your error relates to the actual shared library for Lzo not being present in the hadoop native library folder.\r\n\r\nThe code for `GPLNativeCodeLoader` is looking for a shared library called `gplcompression`. Java is actually looking for a file named `libgplcompression.so`. If this file doesn&#39;t exist in your `lib/native/${arch}` folder then you&#39;ll see this error.\r\n\r\nIn a terminal, navigate to your hadoop base directory and execute the following to dump the native libraries installed, and post back to your original question\r\n\r\n    uname -a\r\n    find lib/native\r\n\r\n    ","title":"need to use hadoop native","body":"<p>Your error relates to the actual shared library for Lzo not being present in the hadoop native library folder.</p>\n\n<p>The code for <code>GPLNativeCodeLoader</code> is looking for a shared library called <code>gplcompression</code>. Java is actually looking for a file named <code>libgplcompression.so</code>. If this file doesn't exist in your <code>lib/native/${arch}</code> folder then you'll see this error.</p>\n\n<p>In a terminal, navigate to your hadoop base directory and execute the following to dump the native libraries installed, and post back to your original question</p>\n\n<pre><code>uname -a\nfind lib/native\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1712505,"reputation":691,"user_id":1570233,"display_name":"shifu.zheng"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1421056773,"creation_date":1421056773,"answer_id":27899340,"question_id":10037562,"body_markdown":"If you are using Cloudera Hadoop, you can install lzo easily according to the following instruction:\r\n\r\nhttp://www.cloudera.com/content/cloudera/en/documentation/cloudera-impala/v1/v1-0-1/Installing-and-Using-Impala/ciiu_lzo.html \r\n","title":"need to use hadoop native","body":"<p>If you are using Cloudera Hadoop, you can install lzo easily according to the following instruction:</p>\n\n<p><a href=\"http://www.cloudera.com/content/cloudera/en/documentation/cloudera-impala/v1/v1-0-1/Installing-and-Using-Impala/ciiu_lzo.html\" rel=\"nofollow\">http://www.cloudera.com/content/cloudera/en/documentation/cloudera-impala/v1/v1-0-1/Installing-and-Using-Impala/ciiu_lzo.html</a> </p>\n"}],"owner":{"account_id":1016954,"reputation":2531,"user_id":1028315,"accept_rate":56,"display_name":"lucky_start_izumi"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15297,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":10038290,"answer_count":2,"score":2,"last_activity_date":1667309478,"creation_date":1333669708,"question_id":10037562,"body_markdown":"I am invoking a `mapreduce` job from my java program.\r\nToday, when I set the `mapreduce` job&#39;s input format to :`LzoTextInputFormat`\r\nThe `mapreduce` job fails:\r\n\r\n    \r\n    \r\n    \r\n    Could not load native gpl library\r\n    java.lang.UnsatisfiedLinkError: no gplcompression in java.library.path\r\n\tat java.lang.ClassLoader.loadLibrary(ClassLoader.java:1738)\r\n\tat java.lang.Runtime.loadLibrary0(Runtime.java:823)\r\n\tat java.lang.System.loadLibrary(System.java:1028)\r\n\tat com.hadoop.compression.lzo.GPLNativeCodeLoader.&lt;clinit&gt;(GPLNativeCodeLoader.java:32)\r\n\tat com.hadoop.compression.lzo.LzoCodec.&lt;clinit&gt;(LzoCodec.java:67)\r\n\tat com.hadoop.mapreduce.LzoTextInputFormat.listStatus(LzoTextInputFormat.java:58)\r\n\tat org.apache.hadoop.mapreduce.lib.input.FileInputFormat.getSplits(FileInputFormat.java:241)\r\n\tat com.hadoop.mapreduce.LzoTextInputFormat.getSplits(LzoTextInputFormat.java:85)\r\n\tat org.apache.hadoop.mapred.JobClient.writeNewSplits(JobClient.java:885)\r\n\tat org.apache.hadoop.mapred.JobClient.submitJobInternal(JobClient.java:779)\r\n\tat org.apache.hadoop.mapreduce.Job.submit(Job.java:432)\r\n\tat org.apache.hadoop.mapreduce.Job.waitForCompletion(Job.java:447)\r\n\tat company.Validation.run(Validation.java:99)\r\n\tat org.apache.hadoop.util.ToolRunner.run(ToolRunner.java:65)\r\n\tat company.mapreduceTest.main(mapreduceTest.java:18)\r\n    Apr 5, 2012 4:40:29 PM com.hadoop.compression.lzo.LzoCodec &lt;clinit&gt;\r\n    SEVERE: Cannot load native-lzo without native-hadoop\r\n    java.lang.IllegalArgumentException: Wrong FS: hdfs://D-SJC-00535164:9000/local/usecases /gbase014/outbound/seed_2012-03-12_06-34-39/1_1.lzo.index, expected: file:///\r\n\tat org.apache.hadoop.fs.FileSystem.checkPath(FileSystem.java:310)\r\n\tat org.apache.hadoop.fs.RawLocalFileSystem.pathToFile(RawLocalFileSystem.java:47)\r\n\tat org.apache.hadoop.fs.RawLocalFileSystem.getFileStatus(RawLocalFileSystem.java:357)\r\n\tat org.apache.hadoop.fs.FilterFileSystem.getFileStatus(FilterFileSystem.java:245)\r\n\tat org.apache.hadoop.fs.FileSystem.exists(FileSystem.java:648)\r\n\tat com.hadoop.compression.lzo.LzoIndex.readIndex(LzoIndex.java:169)\r\n\tat com.hadoop.mapreduce.LzoTextInputFormat.listStatus(LzoTextInputFormat.java:69)\r\n\tat org.apache.hadoop.mapreduce.lib.input.FileInputFormat.getSplits(FileInputFormat.java:241)\r\n\tat com.hadoop.mapreduce.LzoTextInputFormat.getSplits(LzoTextInputFormat.java:85)\r\n\tat org.apache.hadoop.mapred.JobClient.writeNewSplits(JobClient.java:885)\r\n\tat org.apache.hadoop.mapred.JobClient.submitJobInternal(JobClient.java:779)\r\n\tat org.apache.hadoop.mapreduce.Job.submit(Job.java:432)\r\n\tat org.apache.hadoop.mapreduce.Job.waitForCompletion(Job.java:447)\r\n\tat company.Validation.run(Validation.java:99)\r\n\tat org.apache.hadoop.util.ToolRunner.run(ToolRunner.java:65)\r\n\tat company.stopTransfer.mapreduceTest.main(mapreduceTest.java:18)\r\n    Apr 5, 2012 4:40:29 PM company.Validation run\r\n     SEVERE: LinkExtractor: java.lang.IllegalArgumentException: Wrong FS: hdfs://D-SJC-00535164:9000/local/usecases/gbase014/outbound/seed_2012-03-12_06-34-39/1_1.lzo.index, expected: file:///\r\n\tat org.apache.hadoop.fs.FileSystem.checkPath(FileSystem.java:310)\r\n\tat org.apache.hadoop.fs.RawLocalFileSystem.pathToFile(RawLocalFileSystem.java:47)\r\n\tat org.apache.hadoop.fs.RawLocalFileSystem.getFileStatus(RawLocalFileSystem.java:357)\r\n\tat org.apache.hadoop.fs.FilterFileSystem.getFileStatus(FilterFileSystem.java:245)\r\n\tat org.apache.hadoop.fs.FileSystem.exists(FileSystem.java:648)\r\n\tat com.hadoop.compression.lzo.LzoIndex.readIndex(LzoIndex.java:169)\r\n\tat com.hadoop.mapreduce.LzoTextInputFormat.listStatus(LzoTextInputFormat.java:69)\r\n\tat org.apache.hadoop.mapreduce.lib.input.FileInputFormat.getSplits(FileInputFormat.java:241)\r\n\tat com.hadoop.mapreduce.LzoTextInputFormat.getSplits(LzoTextInputFormat.java:85)\r\n\tat org.apache.hadoop.mapred.JobClient.writeNewSplits(JobClient.java:885)\r\n\tat org.apache.hadoop.mapred.JobClient.submitJobInternal(JobClient.java:779)\r\n\tat org.apache.hadoop.mapreduce.Job.submit(Job.java:432)\r\n\tat org.apache.hadoop.mapreduce.Job.waitForCompletion(Job.java:447)\r\n\tat company.Validation.run(Validation.java:99)\r\n\tat org.apache.hadoop.util.ToolRunner.run(ToolRunner.java:65)\r\n\tat company.stopTransfer.mapreduceTest.main(mapreduceTest.java:18)\r\n\r\nBut in lib/native they are some files extends with a,la,so... \r\nI tried to set them in my path environment variable, but it still doesn&#39;t work.\r\n\r\nCould anyone please give me a suggestion!!!!\r\n\r\nThank you very much!\r\n","title":"need to use hadoop native","body":"<p>I am invoking a <code>mapreduce</code> job from my java program.\nToday, when I set the <code>mapreduce</code> job's input format to :<code>LzoTextInputFormat</code>\nThe <code>mapreduce</code> job fails:</p>\n<pre><code>Could not load native gpl library\njava.lang.UnsatisfiedLinkError: no gplcompression in java.library.path\nat java.lang.ClassLoader.loadLibrary(ClassLoader.java:1738)\nat java.lang.Runtime.loadLibrary0(Runtime.java:823)\nat java.lang.System.loadLibrary(System.java:1028)\nat com.hadoop.compression.lzo.GPLNativeCodeLoader.&lt;clinit&gt;(GPLNativeCodeLoader.java:32)\nat com.hadoop.compression.lzo.LzoCodec.&lt;clinit&gt;(LzoCodec.java:67)\nat com.hadoop.mapreduce.LzoTextInputFormat.listStatus(LzoTextInputFormat.java:58)\nat org.apache.hadoop.mapreduce.lib.input.FileInputFormat.getSplits(FileInputFormat.java:241)\nat com.hadoop.mapreduce.LzoTextInputFormat.getSplits(LzoTextInputFormat.java:85)\nat org.apache.hadoop.mapred.JobClient.writeNewSplits(JobClient.java:885)\nat org.apache.hadoop.mapred.JobClient.submitJobInternal(JobClient.java:779)\nat org.apache.hadoop.mapreduce.Job.submit(Job.java:432)\nat org.apache.hadoop.mapreduce.Job.waitForCompletion(Job.java:447)\nat company.Validation.run(Validation.java:99)\nat org.apache.hadoop.util.ToolRunner.run(ToolRunner.java:65)\nat company.mapreduceTest.main(mapreduceTest.java:18)\nApr 5, 2012 4:40:29 PM com.hadoop.compression.lzo.LzoCodec &lt;clinit&gt;\nSEVERE: Cannot load native-lzo without native-hadoop\njava.lang.IllegalArgumentException: Wrong FS: hdfs://D-SJC-00535164:9000/local/usecases /gbase014/outbound/seed_2012-03-12_06-34-39/1_1.lzo.index, expected: file:///\nat org.apache.hadoop.fs.FileSystem.checkPath(FileSystem.java:310)\nat org.apache.hadoop.fs.RawLocalFileSystem.pathToFile(RawLocalFileSystem.java:47)\nat org.apache.hadoop.fs.RawLocalFileSystem.getFileStatus(RawLocalFileSystem.java:357)\nat org.apache.hadoop.fs.FilterFileSystem.getFileStatus(FilterFileSystem.java:245)\nat org.apache.hadoop.fs.FileSystem.exists(FileSystem.java:648)\nat com.hadoop.compression.lzo.LzoIndex.readIndex(LzoIndex.java:169)\nat com.hadoop.mapreduce.LzoTextInputFormat.listStatus(LzoTextInputFormat.java:69)\nat org.apache.hadoop.mapreduce.lib.input.FileInputFormat.getSplits(FileInputFormat.java:241)\nat com.hadoop.mapreduce.LzoTextInputFormat.getSplits(LzoTextInputFormat.java:85)\nat org.apache.hadoop.mapred.JobClient.writeNewSplits(JobClient.java:885)\nat org.apache.hadoop.mapred.JobClient.submitJobInternal(JobClient.java:779)\nat org.apache.hadoop.mapreduce.Job.submit(Job.java:432)\nat org.apache.hadoop.mapreduce.Job.waitForCompletion(Job.java:447)\nat company.Validation.run(Validation.java:99)\nat org.apache.hadoop.util.ToolRunner.run(ToolRunner.java:65)\nat company.stopTransfer.mapreduceTest.main(mapreduceTest.java:18)\nApr 5, 2012 4:40:29 PM company.Validation run\n SEVERE: LinkExtractor: java.lang.IllegalArgumentException: Wrong FS: hdfs://D-SJC-00535164:9000/local/usecases/gbase014/outbound/seed_2012-03-12_06-34-39/1_1.lzo.index, expected: file:///\nat org.apache.hadoop.fs.FileSystem.checkPath(FileSystem.java:310)\nat org.apache.hadoop.fs.RawLocalFileSystem.pathToFile(RawLocalFileSystem.java:47)\nat org.apache.hadoop.fs.RawLocalFileSystem.getFileStatus(RawLocalFileSystem.java:357)\nat org.apache.hadoop.fs.FilterFileSystem.getFileStatus(FilterFileSystem.java:245)\nat org.apache.hadoop.fs.FileSystem.exists(FileSystem.java:648)\nat com.hadoop.compression.lzo.LzoIndex.readIndex(LzoIndex.java:169)\nat com.hadoop.mapreduce.LzoTextInputFormat.listStatus(LzoTextInputFormat.java:69)\nat org.apache.hadoop.mapreduce.lib.input.FileInputFormat.getSplits(FileInputFormat.java:241)\nat com.hadoop.mapreduce.LzoTextInputFormat.getSplits(LzoTextInputFormat.java:85)\nat org.apache.hadoop.mapred.JobClient.writeNewSplits(JobClient.java:885)\nat org.apache.hadoop.mapred.JobClient.submitJobInternal(JobClient.java:779)\nat org.apache.hadoop.mapreduce.Job.submit(Job.java:432)\nat org.apache.hadoop.mapreduce.Job.waitForCompletion(Job.java:447)\nat company.Validation.run(Validation.java:99)\nat org.apache.hadoop.util.ToolRunner.run(ToolRunner.java:65)\nat company.stopTransfer.mapreduceTest.main(mapreduceTest.java:18)\n</code></pre>\n<p>But in lib/native they are some files extends with a,la,so...\nI tried to set them in my path environment variable, but it still doesn't work.</p>\n<p>Could anyone please give me a suggestion!!!!</p>\n<p>Thank you very much!</p>\n"},{"tags":["java","android","xml","android-layout","imageview"],"comments":[{"owner":{"account_id":1111280,"reputation":6531,"user_id":1101692,"accept_rate":89,"display_name":"Shark"},"score":0,"creation_date":1667309439,"post_id":74276706,"comment_id":131133824,"body_markdown":"probably not, dig a bit deeper into the problem. it might not be related to the ImageView at all.","body":"probably not, dig a bit deeper into the problem. it might not be related to the ImageView at all."},{"owner":{"account_id":26362930,"reputation":175,"user_id":20018861,"display_name":"Lechius"},"score":0,"creation_date":1667309625,"post_id":74276706,"comment_id":131133888,"body_markdown":"https://stackoverflow.com/a/57114852/20018861  in this other post the problem was because of the automatic scaling, why do you think that probably it is not a problem of scaling?","body":"<a href=\"https://stackoverflow.com/a/57114852/20018861\">stackoverflow.com/a/57114852/20018861</a>  in this other post the problem was because of the automatic scaling, why do you think that probably it is not a problem of scaling?"},{"owner":{"account_id":1077685,"reputation":2777,"user_id":1075466,"accept_rate":58,"display_name":"Lawrence Gimenez"},"score":0,"creation_date":1667309668,"post_id":74276706,"comment_id":131133903,"body_markdown":"This is something to do with the kind of image you are using. Maybe it is too big or format not supported.","body":"This is something to do with the kind of image you are using. Maybe it is too big or format not supported."},{"owner":{"account_id":26362930,"reputation":175,"user_id":20018861,"display_name":"Lechius"},"score":0,"creation_date":1667309840,"post_id":74276706,"comment_id":131133972,"body_markdown":"@LawrenceGimenez I am using hdpi,mdpi,xhdpi,xxhdpi and xxxhdpi drawable folders, I am supporting all the devices format, I don&#39;t know what could be causing the crash then..","body":"@LawrenceGimenez I am using hdpi,mdpi,xhdpi,xxhdpi and xxxhdpi drawable folders, I am supporting all the devices format, I don&#39;t know what could be causing the crash then.."},{"owner":{"account_id":1111280,"reputation":6531,"user_id":1101692,"accept_rate":89,"display_name":"Shark"},"score":0,"creation_date":1667310065,"post_id":74276706,"comment_id":131134061,"body_markdown":"how big is the picture? like, width * height and bytes?","body":"how big is the picture? like, width * height and bytes?"},{"owner":{"account_id":1077685,"reputation":2777,"user_id":1075466,"accept_rate":58,"display_name":"Lawrence Gimenez"},"score":0,"creation_date":1667310137,"post_id":74276706,"comment_id":131134085,"body_markdown":"Same here I have no idea but with InflateException the cause is mostly the source of your image. You need to test and dig deeper.","body":"Same here I have no idea but with InflateException the cause is mostly the source of your image. You need to test and dig deeper."},{"owner":{"account_id":26362930,"reputation":175,"user_id":20018861,"display_name":"Lechius"},"score":0,"creation_date":1667310443,"post_id":74276706,"comment_id":131134181,"body_markdown":"@Shark the biggest image scaling (hdpi) is 550x480 and 4KB","body":"@Shark the biggest image scaling (hdpi) is 550x480 and 4KB"},{"owner":{"account_id":1111280,"reputation":6531,"user_id":1101692,"accept_rate":89,"display_name":"Shark"},"score":0,"creation_date":1667319667,"post_id":74276706,"comment_id":131137586,"body_markdown":"Then posting this piece of XML isn&#39;t going to be enough to pinpoint the problem. How about posting the whole XML and the inflating code as well?","body":"Then posting this piece of XML isn&#39;t going to be enough to pinpoint the problem. How about posting the whole XML and the inflating code as well?"}],"owner":{"account_id":26362930,"reputation":175,"user_id":20018861,"display_name":"Lechius"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":64,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1667309460,"creation_date":1667309303,"question_id":74276706,"body_markdown":"I have seen in the Firebase Crashlytics dashboard that there is an user that had crashes in some of the app&#39;s activities in the OnCreate() method. I have seen that it is an error of the xml as the error is this one and it is related with the ImageView component:\r\n\r\n&gt; Fatal Exception: java.lang.RuntimeException: Unable to start activity\r\n&gt; ComponentInfo: android.view.InflateException: Binary XML file line\r\n&gt; #24: Binary XML file line #24: Error inflating class ImageView\r\n\r\nI have seen that the layouts of the activities that are causing these crashes have in common that in the ImageView there is an attribute that is\r\n&gt; android:scaleType=&quot;fitXY&quot;\r\n\r\n    &lt;ImageView\r\n                    android:layout_width=&quot;match_parent&quot;\r\n                    android:layout_height=&quot;match_parent&quot;\r\n                    android:layout_weight=&quot;0.4&quot;\r\n                    android:background=&quot;@drawable/img&quot;\r\n                    android:scaleType=&quot;fitXY&quot; /&gt;\r\n\r\nSo my question is, could that scaleType=&quot;fitXY&quot; be causing all these crashes? Is it bad behaviour to use scaleType attribute in ImageViews then?\r\n\r\nThanks for the possible help","title":"Could android:scaleType=&quot;fitXY&quot; be causing Error: inflating class ImageView?","body":"<p>I have seen in the Firebase Crashlytics dashboard that there is an user that had crashes in some of the app's activities in the OnCreate() method. I have seen that it is an error of the xml as the error is this one and it is related with the ImageView component:</p>\n<blockquote>\n<p>Fatal Exception: java.lang.RuntimeException: Unable to start activity\nComponentInfo: android.view.InflateException: Binary XML file line\n#24: Binary XML file line #24: Error inflating class ImageView</p>\n</blockquote>\n<p>I have seen that the layouts of the activities that are causing these crashes have in common that in the ImageView there is an attribute that is</p>\n<blockquote>\n<p>android:scaleType=&quot;fitXY&quot;</p>\n</blockquote>\n<pre><code>&lt;ImageView\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;match_parent&quot;\n                android:layout_weight=&quot;0.4&quot;\n                android:background=&quot;@drawable/img&quot;\n                android:scaleType=&quot;fitXY&quot; /&gt;\n</code></pre>\n<p>So my question is, could that scaleType=&quot;fitXY&quot; be causing all these crashes? Is it bad behaviour to use scaleType attribute in ImageViews then?</p>\n<p>Thanks for the possible help</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":1077685,"reputation":2777,"user_id":1075466,"accept_rate":58,"display_name":"Lawrence Gimenez"},"score":0,"creation_date":1667045901,"post_id":74244857,"comment_id":131080477,"body_markdown":"Can you try other environments besides getExternalStorageDirectory?","body":"Can you try other environments besides getExternalStorageDirectory?"},{"owner":{"account_id":26747981,"reputation":3,"user_id":20347794,"display_name":"Muhammad Ramzan"},"score":0,"creation_date":1667046766,"post_id":74244857,"comment_id":131080628,"body_markdown":"I  am a beginner so tell me how I can try other environments","body":"I  am a beginner so tell me how I can try other environments"},{"owner":{"account_id":1077685,"reputation":2777,"user_id":1075466,"accept_rate":58,"display_name":"Lawrence Gimenez"},"score":0,"creation_date":1667046854,"post_id":74244857,"comment_id":131080645,"body_markdown":"https://developer.android.com/reference/android/os/Environment#public-methods_1","body":"<a href=\"https://developer.android.com/reference/android/os/Environment#public-methods_1\" rel=\"nofollow noreferrer\">developer.android.com/reference/android/os/&hellip;</a>"}],"answers":[{"comments":[{"owner":{"account_id":26747981,"reputation":3,"user_id":20347794,"display_name":"Muhammad Ramzan"},"score":0,"creation_date":1667448224,"post_id":74245655,"comment_id":131170952,"body_markdown":"Your code is working without allowing storage read and write permission. Can you explain me how is this working?","body":"Your code is working without allowing storage read and write permission. Can you explain me how is this working?"}],"tags":[],"owner":{"account_id":20192524,"reputation":149,"user_id":14810367,"display_name":"Talha Chaudhry"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1667049731,"creation_date":1667049731,"answer_id":74245655,"question_id":74244857,"body_markdown":"**So let&#39;s start from scratch**\r\n\r\n**Step 1:**\r\nAdd the permissions of Read and Write in your manifest \r\n\r\n**Step 2:**\r\nMake the Bitmap of the Image you have in ImageView\r\n\r\n**Step 3:**\r\nNow there is a different mechanism for saving files in the below and above Android Version Q \r\n\r\n**In Below Q:**\r\n \r\n\r\n    private File saveBitmapBelowQ(Bitmap bitmap, String name) {\r\n            File imageRoot = new File(Environment.getExternalStoragePublicDirectory(\r\n                    Environment.DIRECTORY_DCIM), appDirectoryName);\r\n            if (!imageRoot.exists()) {\r\n                imageRoot.mkdirs();\r\n            }\r\n            File image = new File(imageRoot, name + &quot;.png&quot;);\r\n            try {\r\n                if (image.createNewFile()) {\r\n                    try (FileOutputStream fos = new FileOutputStream(image)) {\r\n                        ByteArrayOutputStream bos = new ByteArrayOutputStream();\r\n                        bitmap.compress(Bitmap.CompressFormat.PNG,\r\n                                100, bos);\r\n                        byte[] bitmapdata = bos.toByteArray();\r\n                        fos.write(bitmapdata);\r\n                        fos.flush();\r\n                        imagePath = image.getPath();\r\n                    }\r\n                    return image;\r\n                }\r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n            }\r\n            return  null;\r\n        }\r\n\r\nWhere AppDirectory is the Name of the Directory you want and the name is the name of the Image preferred to use live date and time. \r\nIn this method, \r\n\r\n 1. First, create the Directory in External Storage.\r\n 2. Then create the file of your image (Try to make it unique)\r\n 3. The last step is to convert your Bitmap into a byte Array and write\r\n    on the file you created in (point 2)\r\n\r\n**In Android Version Q and Above:**\r\n\r\n     @RequiresApi(api = Build.VERSION_CODES.Q)\r\n        public File saveBitmapAboveQ(Bitmap bitmap, Context context, String directoryName, String name) {\r\n            OutputStream fos;\r\n            ContentResolver resolver = context.getContentResolver();\r\n            ContentValues contentValues = new ContentValues();\r\n            contentValues.put(MediaStore.MediaColumns.DISPLAY_NAME, name);\r\n            contentValues.put(MediaStore.MediaColumns.MIME_TYPE, &quot;image/png&quot;);\r\n            contentValues.put(MediaStore.MediaColumns.RELATIVE_PATH, &quot;DCIM/&quot; + directoryName);\r\n            Uri imageUri = resolver.insert(MediaStore.Images.Media.EXTERNAL_CONTENT_URI, contentValues);\r\n            try {\r\n                fos = resolver.openOutputStream(imageUri);\r\n                bitmap.compress(Bitmap.CompressFormat.PNG, 100, fos);\r\n                fos.flush();\r\n                fos.close();\r\n                imagePath = new File(getPath(imageUri)).getAbsolutePath();\r\n                return new File(getPath(imageUri));\r\n            } catch (Exception e) {\r\n                return null;\r\n            }\r\n        }\r\n\r\nCreate a Content Resolver and set the content values such as File name, type, and location then pass content values to the content resolver and pass your content resolver to FileOutputStream/ OutputStream \r\nNow write your Bitmap over the output stream \r\n\r\nHappy Coding ","title":"Save Image to Gallery From image View","body":"<p><strong>So let's start from scratch</strong></p>\n<p><strong>Step 1:</strong>\nAdd the permissions of Read and Write in your manifest</p>\n<p><strong>Step 2:</strong>\nMake the Bitmap of the Image you have in ImageView</p>\n<p><strong>Step 3:</strong>\nNow there is a different mechanism for saving files in the below and above Android Version Q</p>\n<p><strong>In Below Q:</strong></p>\n<pre><code>private File saveBitmapBelowQ(Bitmap bitmap, String name) {\n        File imageRoot = new File(Environment.getExternalStoragePublicDirectory(\n                Environment.DIRECTORY_DCIM), appDirectoryName);\n        if (!imageRoot.exists()) {\n            imageRoot.mkdirs();\n        }\n        File image = new File(imageRoot, name + &quot;.png&quot;);\n        try {\n            if (image.createNewFile()) {\n                try (FileOutputStream fos = new FileOutputStream(image)) {\n                    ByteArrayOutputStream bos = new ByteArrayOutputStream();\n                    bitmap.compress(Bitmap.CompressFormat.PNG,\n                            100, bos);\n                    byte[] bitmapdata = bos.toByteArray();\n                    fos.write(bitmapdata);\n                    fos.flush();\n                    imagePath = image.getPath();\n                }\n                return image;\n            }\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n        return  null;\n    }\n</code></pre>\n<p>Where AppDirectory is the Name of the Directory you want and the name is the name of the Image preferred to use live date and time.\nIn this method,</p>\n<ol>\n<li>First, create the Directory in External Storage.</li>\n<li>Then create the file of your image (Try to make it unique)</li>\n<li>The last step is to convert your Bitmap into a byte Array and write\non the file you created in (point 2)</li>\n</ol>\n<p><strong>In Android Version Q and Above:</strong></p>\n<pre><code> @RequiresApi(api = Build.VERSION_CODES.Q)\n    public File saveBitmapAboveQ(Bitmap bitmap, Context context, String directoryName, String name) {\n        OutputStream fos;\n        ContentResolver resolver = context.getContentResolver();\n        ContentValues contentValues = new ContentValues();\n        contentValues.put(MediaStore.MediaColumns.DISPLAY_NAME, name);\n        contentValues.put(MediaStore.MediaColumns.MIME_TYPE, &quot;image/png&quot;);\n        contentValues.put(MediaStore.MediaColumns.RELATIVE_PATH, &quot;DCIM/&quot; + directoryName);\n        Uri imageUri = resolver.insert(MediaStore.Images.Media.EXTERNAL_CONTENT_URI, contentValues);\n        try {\n            fos = resolver.openOutputStream(imageUri);\n            bitmap.compress(Bitmap.CompressFormat.PNG, 100, fos);\n            fos.flush();\n            fos.close();\n            imagePath = new File(getPath(imageUri)).getAbsolutePath();\n            return new File(getPath(imageUri));\n        } catch (Exception e) {\n            return null;\n        }\n    }\n</code></pre>\n<p>Create a Content Resolver and set the content values such as File name, type, and location then pass content values to the content resolver and pass your content resolver to FileOutputStream/ OutputStream\nNow write your Bitmap over the output stream</p>\n<p>Happy Coding</p>\n"},{"comments":[{"owner":{"account_id":26747981,"reputation":3,"user_id":20347794,"display_name":"Muhammad Ramzan"},"score":0,"creation_date":1667054677,"post_id":74245816,"comment_id":131082304,"body_markdown":"I don&#39;t have knowledge about kotlin and how to use kotlin with java","body":"I don&#39;t have knowledge about kotlin and how to use kotlin with java"},{"owner":{"account_id":6665053,"reputation":161,"user_id":5142934,"display_name":"Majid Arabi"},"score":0,"creation_date":1667309149,"post_id":74245816,"comment_id":131133723,"body_markdown":"i&#39;m update code and add java way. u can check it.","body":"i&#39;m update code and add java way. u can check it."},{"owner":{"account_id":26747981,"reputation":3,"user_id":20347794,"display_name":"Muhammad Ramzan"},"score":0,"creation_date":1667448018,"post_id":74245816,"comment_id":131170934,"body_markdown":"Thanks, but I already got the Solution.","body":"Thanks, but I already got the Solution."},{"owner":{"account_id":6665053,"reputation":161,"user_id":5142934,"display_name":"Majid Arabi"},"score":0,"creation_date":1667632466,"post_id":74245816,"comment_id":131216740,"body_markdown":"Great . you can update your question and add your solution to help other developers.","body":"Great . you can update your question and add your solution to help other developers."}],"tags":[],"owner":{"account_id":6665053,"reputation":161,"user_id":5142934,"display_name":"Majid Arabi"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667309081,"creation_date":1667050999,"answer_id":74245816,"question_id":74244857,"body_markdown":"Kotlin way:\r\nYou can use this extension function to save file in storage\r\n\r\n    fun Bitmap.saveAsFile(isPng: Boolean = false): File? {\r\n        val root = Environment.getExternalStorageDirectory()\r\n        val myDir = File(&quot;${root}/pic&quot;)\r\n        myDir.mkdirs()\r\n        if (myDir.exists()) {\r\n            val random = (Math.random() * (1024 - 1)).toLong()\r\n            val prefix = &quot;IMG${random}_${System.currentTimeMillis()}&quot;\r\n\r\n            val fileName = if (isPng) &quot;$prefix.png&quot; else &quot;$prefix.jpg&quot;\r\n            val file = File(myDir, fileName)\r\n        if (file.exists()) file.delete()\r\n            return try {\r\n                val out = FileOutputStream(file)\r\n                if (isPng) {\r\n                    this.setHasAlpha(true)\r\n                    this.compress(Bitmap.CompressFormat.PNG, 100, out)\r\n                } else {\r\n                    this.compress(Bitmap.CompressFormat.JPEG, 100, out)\r\n                }\r\n                out.flush()\r\n                out.close()\r\n                file\r\n            } catch (e: Exception) {\r\n                e.printStackTrace()\r\n                null\r\n            }\r\n        }\r\n      return null\r\n    }\r\n\r\nSample Usage:\r\n\r\n     val imageFile = view.drawToBitmap().saveAsFile()\r\n\r\nJava way:\r\n\r\n    public static File saveAsFile(Bitmap bitmap) {\r\n        File root = Environment.getExternalStorageDirectory();\r\n        File myDir = new File(root + &quot;/pic&quot;);\r\n        if (myDir.mkdir()) {\r\n            long random = (long) (Math.random() * (1024 - 1));\r\n            String prefix = (&quot;IMG&quot; + random + &quot;_&quot; + System.currentTimeMillis());\r\n\r\n            String fileName = prefix + &quot;.jpg&quot;;\r\n            File file = new File(myDir, fileName);\r\n            if (file.exists()) file.delete();\r\n\r\n            try {\r\n                FileOutputStream out = new FileOutputStream(file);\r\n                bitmap.compress(Bitmap.CompressFormat.JPEG, 100, out);\r\n                out.flush();\r\n                out.close();\r\n                return file;\r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n                return null;\r\n            }\r\n        }\r\n        return null;\r\n    }\r\n\r\n    public static Bitmap drawToBitmap(View view) {\r\n        if (!ViewCompat.isLaidOut(view)) {\r\n            throw new IllegalStateException(&quot;View needs to be laid out before calling drawToBitmap()&quot;);\r\n        }\r\n        Bitmap bit = Bitmap.createBitmap(view.getWidth(), view.getHeight(), Bitmap.Config.ARGB_8888);\r\n        Canvas canvas = new Canvas(bit);\r\n        canvas.translate(-view.getScrollX(), -view.getScrollY());\r\n        view.draw(canvas);\r\n        return bit;\r\n    }\r\n\r\nSample Usage:\r\n\r\n        Bitmap bitmap = drawToBitmap(yourView);\r\n        File savedFile = saveAsFile(bitmap);","title":"Save Image to Gallery From image View","body":"<p>Kotlin way:\nYou can use this extension function to save file in storage</p>\n<pre><code>fun Bitmap.saveAsFile(isPng: Boolean = false): File? {\n    val root = Environment.getExternalStorageDirectory()\n    val myDir = File(&quot;${root}/pic&quot;)\n    myDir.mkdirs()\n    if (myDir.exists()) {\n        val random = (Math.random() * (1024 - 1)).toLong()\n        val prefix = &quot;IMG${random}_${System.currentTimeMillis()}&quot;\n\n        val fileName = if (isPng) &quot;$prefix.png&quot; else &quot;$prefix.jpg&quot;\n        val file = File(myDir, fileName)\n    if (file.exists()) file.delete()\n        return try {\n            val out = FileOutputStream(file)\n            if (isPng) {\n                this.setHasAlpha(true)\n                this.compress(Bitmap.CompressFormat.PNG, 100, out)\n            } else {\n                this.compress(Bitmap.CompressFormat.JPEG, 100, out)\n            }\n            out.flush()\n            out.close()\n            file\n        } catch (e: Exception) {\n            e.printStackTrace()\n            null\n        }\n    }\n  return null\n}\n</code></pre>\n<p>Sample Usage:</p>\n<pre><code> val imageFile = view.drawToBitmap().saveAsFile()\n</code></pre>\n<p>Java way:</p>\n<pre><code>public static File saveAsFile(Bitmap bitmap) {\n    File root = Environment.getExternalStorageDirectory();\n    File myDir = new File(root + &quot;/pic&quot;);\n    if (myDir.mkdir()) {\n        long random = (long) (Math.random() * (1024 - 1));\n        String prefix = (&quot;IMG&quot; + random + &quot;_&quot; + System.currentTimeMillis());\n\n        String fileName = prefix + &quot;.jpg&quot;;\n        File file = new File(myDir, fileName);\n        if (file.exists()) file.delete();\n\n        try {\n            FileOutputStream out = new FileOutputStream(file);\n            bitmap.compress(Bitmap.CompressFormat.JPEG, 100, out);\n            out.flush();\n            out.close();\n            return file;\n        } catch (Exception e) {\n            e.printStackTrace();\n            return null;\n        }\n    }\n    return null;\n}\n\npublic static Bitmap drawToBitmap(View view) {\n    if (!ViewCompat.isLaidOut(view)) {\n        throw new IllegalStateException(&quot;View needs to be laid out before calling drawToBitmap()&quot;);\n    }\n    Bitmap bit = Bitmap.createBitmap(view.getWidth(), view.getHeight(), Bitmap.Config.ARGB_8888);\n    Canvas canvas = new Canvas(bit);\n    canvas.translate(-view.getScrollX(), -view.getScrollY());\n    view.draw(canvas);\n    return bit;\n}\n</code></pre>\n<p>Sample Usage:</p>\n<pre><code>    Bitmap bitmap = drawToBitmap(yourView);\n    File savedFile = saveAsFile(bitmap);\n</code></pre>\n"}],"owner":{"account_id":26747981,"reputation":3,"user_id":20347794,"display_name":"Muhammad Ramzan"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":75,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74245655,"answer_count":2,"score":0,"last_activity_date":1667309081,"creation_date":1667042816,"question_id":74244857,"body_markdown":"I am trying to save image to Gallery from image View but getting File Not Found Exception Error\r\n\r\nThe code I tried but got File Not Found Exception.\r\n\r\n\r\n\r\n\r\nSorry if you didn&#39;t understand my English.\r\n\r\n\r\n\r\n```\r\nsave.setOnClickListener(new View.OnClickListener(){\r\n\r\n                @Override\r\n\r\n                public void onClick(View v){\r\n\r\n                    BitmapDrawable draw = (BitmapDrawable) mainImage.getDrawable();\r\n\r\n                    Bitmap bitmap = draw.getBitmap();\r\n\r\n                    try{\r\n\r\n                        FileOutputStream outStream = null;\r\n\r\n                        File sdCard = Environment.getExternalStorageDirectory();\r\n\r\n                        File dir = new File(sdCard.getAbsolutePath() + &quot;/MyFolder&quot;);\r\n\r\n                        dir.mkdirs();\r\n\r\n                        String fileName = String.format(&quot;%d.jpg&quot;, System.currentTimeMillis());\r\n\r\n                        File outFile = new File(dir, fileName);\r\n\r\n                        outStream = new FileOutputStream(outFile);\r\n\r\n                        bitmap.compress(Bitmap.CompressFormat.JPEG, 100, outStream);\r\n\r\n                        outStream.flush();\r\n\r\n                        outStream.close();\r\n\r\n                        Intent intent = new Intent(Intent.ACTION_MEDIA_SCANNER_SCAN_FILE);\r\n\r\n                        intent.setData(Uri.fromFile(outFile));\r\n\r\n                        sendBroadcast(intent);\r\n\r\n                    }\r\n\r\n                    catch (Exception e){\r\n\r\n                        e.printStackTrace();\r\n\r\n                        Toast.makeText(MainActivity.this,e.toString(),Toast.LENGTH_SHORT).show();\r\n\r\n                    }\r\n\r\n                    \r\n\r\n                }\r\n\r\n        });\r\n\r\n```\r\n\r\n\r\nI am a beginner so I don&#39;t how to solve this Problem.\r\nHelp me Please\r\n","title":"Save Image to Gallery From image View","body":"<p>I am trying to save image to Gallery from image View but getting File Not Found Exception Error</p>\n<p>The code I tried but got File Not Found Exception.</p>\n<p>Sorry if you didn't understand my English.</p>\n<pre><code>save.setOnClickListener(new View.OnClickListener(){\n\n                @Override\n\n                public void onClick(View v){\n\n                    BitmapDrawable draw = (BitmapDrawable) mainImage.getDrawable();\n\n                    Bitmap bitmap = draw.getBitmap();\n\n                    try{\n\n                        FileOutputStream outStream = null;\n\n                        File sdCard = Environment.getExternalStorageDirectory();\n\n                        File dir = new File(sdCard.getAbsolutePath() + &quot;/MyFolder&quot;);\n\n                        dir.mkdirs();\n\n                        String fileName = String.format(&quot;%d.jpg&quot;, System.currentTimeMillis());\n\n                        File outFile = new File(dir, fileName);\n\n                        outStream = new FileOutputStream(outFile);\n\n                        bitmap.compress(Bitmap.CompressFormat.JPEG, 100, outStream);\n\n                        outStream.flush();\n\n                        outStream.close();\n\n                        Intent intent = new Intent(Intent.ACTION_MEDIA_SCANNER_SCAN_FILE);\n\n                        intent.setData(Uri.fromFile(outFile));\n\n                        sendBroadcast(intent);\n\n                    }\n\n                    catch (Exception e){\n\n                        e.printStackTrace();\n\n                        Toast.makeText(MainActivity.this,e.toString(),Toast.LENGTH_SHORT).show();\n\n                    }\n\n                    \n\n                }\n\n        });\n\n</code></pre>\n<p>I am a beginner so I don't how to solve this Problem.\nHelp me Please</p>\n"},{"tags":["java","floating-point","double"],"comments":[{"owner":{"account_id":1069533,"reputation":1461,"user_id":1081409,"accept_rate":90,"display_name":"Jan Ajan"},"score":0,"creation_date":1337290117,"post_id":10643754,"comment_id":13799911,"body_markdown":"No. Why? It is related to http://stackoverflow.com/questions/10637594/calculating-double-neighbours-of-a-decimal-value . I thought that if I subtract 1 from the binary value, I would get the other value.","body":"No. Why? It is related to <a href=\"http://stackoverflow.com/questions/10637594/calculating-double-neighbours-of-a-decimal-value\" title=\"calculating double neighbours of a decimal value\">stackoverflow.com/questions/10637594/&hellip;</a> . I thought that if I subtract 1 from the binary value, I would get the other value."},{"owner":{"account_id":943967,"reputation":27613,"user_id":971592,"accept_rate":94,"display_name":"kentcdodds"},"score":3,"creation_date":1337290219,"post_id":10643754,"comment_id":13799941,"body_markdown":"@dcrooney asked because it&#39;s good to know whether it&#39;s homework because when it&#39;s homework we try to be careful with our answers that we don&#39;t inhibit your learning :)","body":"@dcrooney asked because it&#39;s good to know whether it&#39;s homework because when it&#39;s homework we try to be careful with our answers that we don&#39;t inhibit your learning :)"}],"answers":[{"comments":[{"owner":{"account_id":10730,"reputation":118663,"user_id":20394,"accept_rate":73,"display_name":"Mike Samuel"},"score":4,"creation_date":1337310474,"post_id":10643788,"comment_id":13803759,"body_markdown":"Byte value just returns the equivalent of `(byte) myDouble`.  It&#39;s a lossy conversion.","body":"Byte value just returns the equivalent of <code>(byte) myDouble</code>.  It&#39;s a lossy conversion."},{"owner":{"account_id":316665,"reputation":87011,"user_id":632951,"accept_rate":83,"display_name":"Pacerier"},"score":3,"creation_date":1408684513,"post_id":10643788,"comment_id":39691088,"body_markdown":"**This answer is wrong.** `Float.byteValue()` and `Double.byteValue()` simply casts the number to byte.","body":"<b>This answer is wrong.</b> <code>Float.byteValue()</code> and <code>Double.byteValue()</code> simply casts the number to byte."}],"tags":[],"owner":{"account_id":943967,"reputation":27613,"user_id":971592,"accept_rate":94,"display_name":"kentcdodds"},"comment_count":2,"down_vote_count":7,"up_vote_count":5,"is_accepted":false,"score":-2,"last_activity_date":1408684585,"creation_date":1337290050,"answer_id":10643788,"question_id":10643754,"body_markdown":"[`Double.byteValue()`][1] might help you. \r\n\r\nThere is also a 32-bit equivalent [`Float.byteValue()`][2].\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/lang/Double.html#byteValue()\r\n  [2]: http://docs.oracle.com/javase/7/docs/api/java/lang/Float.html#byteValue()","title":"Convert float and double to bit and hexadecimal representation in Java","body":"<p><a href=\"http://docs.oracle.com/javase/7/docs/api/java/lang/Double.html#byteValue()\" rel=\"nofollow\"><code>Double.byteValue()</code></a> might help you. </p>\n\n<p>There is also a 32-bit equivalent <a href=\"http://docs.oracle.com/javase/7/docs/api/java/lang/Float.html#byteValue()\" rel=\"nofollow\"><code>Float.byteValue()</code></a>.</p>\n"},{"comments":[{"owner":{"account_id":10730,"reputation":118663,"user_id":20394,"accept_rate":73,"display_name":"Mike Samuel"},"score":0,"creation_date":1337353564,"post_id":10643827,"comment_id":13818007,"body_markdown":"The HSB in an IEEE-754 float is the sign bit, unless it&#39;s a NaN value, so the sign of the resulting int will be the same as that of the float, with the exception of -0.0.","body":"The HSB in an IEEE-754 float is the sign bit, unless it&#39;s a NaN value, so the sign of the resulting int will be the same as that of the float, with the exception of -0.0."},{"owner":{"account_id":916642,"reputation":15473,"user_id":949300,"accept_rate":65,"display_name":"user949300"},"score":0,"creation_date":1337355141,"post_id":10643827,"comment_id":13818730,"body_markdown":"Agreed.  That comment was because some of the Java int &lt;-&gt; String code is fussy about the HSB.  e.g. [this stackoverflow discussion](http://stackoverflow.com/questions/8888946/converting-32-bit-binary-string-with-integer-parseint-fails).  Though I think it&#39;s mainly for parsing Strings, not creating them, so that issue might not apply here.","body":"Agreed.  That comment was because some of the Java int &lt;-&gt; String code is fussy about the HSB.  e.g. <a href=\"http://stackoverflow.com/questions/8888946/converting-32-bit-binary-string-with-integer-parseint-fails\">this stackoverflow discussion</a>.  Though I think it&#39;s mainly for parsing Strings, not creating them, so that issue might not apply here."}],"tags":[],"owner":{"account_id":916642,"reputation":15473,"user_id":949300,"accept_rate":65,"display_name":"user949300"},"comment_count":2,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1337290235,"creation_date":1337290235,"answer_id":10643827,"question_id":10643754,"body_markdown":"Look at   `Float.floatToIntBits() or  Float.floatToRawIntBits()`.  That gets you the bits as an int.  If you need it as a String, `Integer.toBinaryString()`.\r\n\r\nNote, there may be an issue if the HSB is on - you may need to convert to a long to avoid an &quot;overflow&quot;.\r\n\r\n","title":"Convert float and double to bit and hexadecimal representation in Java","body":"<p>Look at   <code>Float.floatToIntBits() or  Float.floatToRawIntBits()</code>.  That gets you the bits as an int.  If you need it as a String, <code>Integer.toBinaryString()</code>.</p>\n\n<p>Note, there may be an issue if the HSB is on - you may need to convert to a long to avoid an \"overflow\".</p>\n"},{"comments":[{"owner":{"account_id":128253,"reputation":8594,"user_id":1051355,"accept_rate":75,"display_name":"math"},"score":2,"creation_date":1383576158,"post_id":10643838,"comment_id":29382868,"body_markdown":"If the sign bit is zero, it wouldn&#39;t be printed!","body":"If the sign bit is zero, it wouldn&#39;t be printed!"},{"owner":{"account_id":10730,"reputation":118663,"user_id":20394,"accept_rate":73,"display_name":"Mike Samuel"},"score":1,"creation_date":1383584063,"post_id":10643838,"comment_id":29387812,"body_markdown":"@math, could you explain?  Do you mean the sign bit won&#39;t be printed, or the value in its entirety?  If the former, yes, `Long.toBinaryString` doesn&#39;t print extraneous bits per &quot;This [unsigned long] value is converted to a string of ASCII digits in binary (base 2) with no extra leading 0&#39;s&quot;, but this is not unique to the sign bit.  You can zero pad the value from the left to get your desired column width.","body":"@math, could you explain?  Do you mean the sign bit won&#39;t be printed, or the value in its entirety?  If the former, yes, <code>Long.toBinaryString</code> doesn&#39;t print extraneous bits per &quot;This [unsigned long] value is converted to a string of ASCII digits in binary (base 2) with no extra leading 0&#39;s&quot;, but this is not unique to the sign bit.  You can zero pad the value from the left to get your desired column width."},{"owner":{"account_id":128253,"reputation":8594,"user_id":1051355,"accept_rate":75,"display_name":"math"},"score":0,"creation_date":1383603533,"post_id":10643838,"comment_id":29397985,"body_markdown":"As I said, it just won&#39;t be printed, due to leading zero. Of course, one could pad this with leading zeros, but the statement above could be misinterpreted in that. And yes, if the exponent has leading zeros as well they will be cut of the same.","body":"As I said, it just won&#39;t be printed, due to leading zero. Of course, one could pad this with leading zeros, but the statement above could be misinterpreted in that. And yes, if the exponent has leading zeros as well they will be cut of the same."},{"owner":{"account_id":279705,"reputation":187,"user_id":575012,"display_name":"gherson"},"score":1,"creation_date":1487699284,"post_id":10643838,"comment_id":71898152,"body_markdown":"`int bits = Float.floatToIntBits(f);\nSystem.out.println(Integer.toBinaryString(bits));`\n\nworks so it&#39;s almost the same code to see the bit string behind a float.","body":"<code>int bits = Float.floatToIntBits(f); System.out.println(Integer.toBinaryString(bits));</code>  works so it&#39;s almost the same code to see the bit string behind a float."}],"tags":[],"owner":{"account_id":10730,"reputation":118663,"user_id":20394,"accept_rate":73,"display_name":"Mike Samuel"},"comment_count":4,"down_vote_count":0,"up_vote_count":14,"is_accepted":true,"score":14,"last_activity_date":1667308916,"creation_date":1337290297,"answer_id":10643838,"question_id":10643754,"body_markdown":"For Java, a float is on 32 bits like a `int`, and a double is on 64 bits like a `long`. Finding the binary representation of these numbers, you need to:\r\n\r\n    float a = 0.5f;\r\n    int bits = Float.floatToIntBits(a);\r\n    String.format(&quot;%32s&quot;, Integer.toBinaryString(bits)).replace(&quot; &quot;, &quot;0&quot;);\r\n    String.format(&quot;%8s&quot;, Integer.toHexString(bits)).replace(&quot; &quot;, &quot;0&quot;);\r\n\r\n&gt; &quot;00111111000000000000000000000000&quot; bit representation (32 bits)  \r\n&gt; &quot;3f000000&quot; hexadecimal representation (32 bits)\r\n\r\n    double a = 0.5d;\r\n    long bits = Double.doubleToLongBits(a);\r\n    String.format(&quot;%64s&quot;, Long.toBinaryString(bits)).replace(&quot; &quot;, &quot;0&quot;);\r\n    String.format(&quot;%16s&quot;, Long.toHexString(bits)).replace(&quot; &quot;, &quot;0&quot;);\r\n\r\n&gt; &quot;0011111111100000000000000000000000000000000000000000000000000000&quot; bit representation (64 bits)  \r\n&gt; &quot;3fe0000000000000&quot; hexadecimal representation (64 bits)\r\n\r\nYou can check that it works by doing the reverse operation:\r\n \r\n\r\n    int bits = Integer.parseInt(&quot;00111111000000000000000000000000&quot;, 2);\r\n    Float.intBitsToFloat(bits);\r\n\r\n&gt; 0.5 (float)\r\n\r\n    long bits = Long.parseLong(&quot;0011111111100000000000000000000000000000000000000000000000000000&quot;, 2);\r\n    Double.longBitsToDouble(bits);\r\n\r\n&gt; 0.5 (double)\r\n\r\nFor the hexadecimal representation, you can use respectively `Integer.parseInt(&quot;...&quot;, 16);` and `Long.parseLong(&quot;...&quot;, 16);`","title":"Convert float and double to bit and hexadecimal representation in Java","body":"<p>For Java, a float is on 32 bits like a <code>int</code>, and a double is on 64 bits like a <code>long</code>. Finding the binary representation of these numbers, you need to:</p>\n<pre><code>float a = 0.5f;\nint bits = Float.floatToIntBits(a);\nString.format(&quot;%32s&quot;, Integer.toBinaryString(bits)).replace(&quot; &quot;, &quot;0&quot;);\nString.format(&quot;%8s&quot;, Integer.toHexString(bits)).replace(&quot; &quot;, &quot;0&quot;);\n</code></pre>\n<blockquote>\n<p>&quot;00111111000000000000000000000000&quot; bit representation (32 bits)<br />\n&quot;3f000000&quot; hexadecimal representation (32 bits)</p>\n</blockquote>\n<pre><code>double a = 0.5d;\nlong bits = Double.doubleToLongBits(a);\nString.format(&quot;%64s&quot;, Long.toBinaryString(bits)).replace(&quot; &quot;, &quot;0&quot;);\nString.format(&quot;%16s&quot;, Long.toHexString(bits)).replace(&quot; &quot;, &quot;0&quot;);\n</code></pre>\n<blockquote>\n<p>&quot;0011111111100000000000000000000000000000000000000000000000000000&quot; bit representation (64 bits)<br />\n&quot;3fe0000000000000&quot; hexadecimal representation (64 bits)</p>\n</blockquote>\n<p>You can check that it works by doing the reverse operation:</p>\n<pre><code>int bits = Integer.parseInt(&quot;00111111000000000000000000000000&quot;, 2);\nFloat.intBitsToFloat(bits);\n</code></pre>\n<blockquote>\n<p>0.5 (float)</p>\n</blockquote>\n<pre><code>long bits = Long.parseLong(&quot;0011111111100000000000000000000000000000000000000000000000000000&quot;, 2);\nDouble.longBitsToDouble(bits);\n</code></pre>\n<blockquote>\n<p>0.5 (double)</p>\n</blockquote>\n<p>For the hexadecimal representation, you can use respectively <code>Integer.parseInt(&quot;...&quot;, 16);</code> and <code>Long.parseLong(&quot;...&quot;, 16);</code></p>\n"},{"tags":[],"owner":{"account_id":5630931,"reputation":1,"user_id":4457910,"display_name":"walrider89"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1421661624,"creation_date":1421331790,"answer_id":27965541,"question_id":10643754,"body_markdown":"    public void printFloatBits(float f) {\r\n        int bits = Float.floatToIntBits(f);\r\n        // Extract each bit from &#39;bits&#39; and compare it by &#39;0&#39;\r\n        for (int i=31; i&gt;=0; --i) {\r\n            // int mask = 1 &lt;&lt; i;\r\n            // int oneBit = bits &amp; mask;\r\n            // oneBit == 0 or 1?\r\n            System.out.print((bits &amp; (1 &lt;&lt; i)) == 0 ? &quot;0&quot; : &quot;1&quot;);\r\n        }\r\n    }","title":"Convert float and double to bit and hexadecimal representation in Java","body":"<pre><code>public void printFloatBits(float f) {\n    int bits = Float.floatToIntBits(f);\n    // Extract each bit from 'bits' and compare it by '0'\n    for (int i=31; i&gt;=0; --i) {\n        // int mask = 1 &lt;&lt; i;\n        // int oneBit = bits &amp; mask;\n        // oneBit == 0 or 1?\n        System.out.print((bits &amp; (1 &lt;&lt; i)) == 0 ? \"0\" : \"1\");\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":1069533,"reputation":1461,"user_id":1081409,"accept_rate":90,"display_name":"Jan Ajan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":18283,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":10643838,"answer_count":4,"score":8,"last_activity_date":1667309067,"creation_date":1337289889,"question_id":10643754,"body_markdown":"How can I get single bits (or an entire variable) of a `double` or a `float`?\r\n\r\nFor example if I have\r\n    float a = 0.5;\r\n\r\nI would expect a `String` equal to:  \r\n`&quot;00111111000000000000000000000000&quot;`\r\n\r\nor in hex:  \r\n`&quot;F000000&quot;`","title":"Convert float and double to bit and hexadecimal representation in Java","body":"<p>How can I get single bits (or an entire variable) of a <code>double</code> or a <code>float</code>?</p>\n\n<p>For example if I have\n    float a = 0.5;</p>\n\n<p>I would expect a <code>String</code> equal to:<br>\n<code>\"00111111000000000000000000000000\"</code></p>\n\n<p>or in hex:<br>\n<code>\"F000000\"</code></p>\n"},{"tags":["java","docker","macos"],"answers":[{"tags":[],"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1667308639,"creation_date":1667308639,"answer_id":74276567,"question_id":74269483,"body_markdown":"The Java version on your host doesn&#39;t matter.\r\n\r\nIf you have an M1/M2 Mac, then they won&#39;t run amd64 images unless you emulate it using `--platform=linux/amd64`. \r\n\r\nSounds like you&#39;ll also need to rebuild the Dockerfile with the same.\r\n\r\n https://docs.docker.com/build/building/multi-platform/","title":"java-8-openjdk-amd64 does not exist in container","body":"<p>The Java version on your host doesn't matter.</p>\n<p>If you have an M1/M2 Mac, then they won't run amd64 images unless you emulate it using <code>--platform=linux/amd64</code>.</p>\n<p>Sounds like you'll also need to rebuild the Dockerfile with the same.</p>\n<p><a href=\"https://docs.docker.com/build/building/multi-platform/\" rel=\"nofollow noreferrer\">https://docs.docker.com/build/building/multi-platform/</a></p>\n"}],"owner":{"account_id":16511269,"reputation":62,"user_id":11929934,"display_name":"dan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":247,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":74276567,"answer_count":1,"score":-1,"last_activity_date":1667308862,"creation_date":1667253199,"question_id":74269483,"body_markdown":"I keep receiving the below error when trying to run this hadoop docker container\r\n\r\n\r\n    docker run -it --name psu-hadoop-container -p 2222:22 -p 8042:8042 -p 9864:9864 -p \r\n    9870:9870 -p 8088:8088 -p 10000:10000 -p 19888:19888 psu-hadoop\r\n    ERROR: JAVA_HOME /usr/lib/jvm/java-8-openjdk-amd64 does not exist.\r\n    ERROR: JAVA_HOME /usr/lib/jvm/java-8-openjdk-amd64 does not exist.\r\n    ERROR: JAVA_HOME /usr/lib/jvm/java-8-openjdk-amd64 does not exist.\r\n    ERROR: JAVA_HOME /usr/lib/jvm/java-8-openjdk-amd64 does not exist.\r\n    ERROR: JAVA_HOME /usr/lib/jvm/java-8-openjdk-amd64 does not exist.\r\n\r\nI&#39;m working on a Mac. The DockerFile references the path java-8-openjdk-amd64 but I don&#39;t have that specific software, just jdk-19.jdk. \r\n\r\nThe Dockerfile is from a class and the class primarily uses PC.\r\n\r\nDo I need to modify my JAVA_HOME? Do I need to modify the path in the Dockerfile? ","title":"java-8-openjdk-amd64 does not exist in container","body":"<p>I keep receiving the below error when trying to run this hadoop docker container</p>\n<pre><code>docker run -it --name psu-hadoop-container -p 2222:22 -p 8042:8042 -p 9864:9864 -p \n9870:9870 -p 8088:8088 -p 10000:10000 -p 19888:19888 psu-hadoop\nERROR: JAVA_HOME /usr/lib/jvm/java-8-openjdk-amd64 does not exist.\nERROR: JAVA_HOME /usr/lib/jvm/java-8-openjdk-amd64 does not exist.\nERROR: JAVA_HOME /usr/lib/jvm/java-8-openjdk-amd64 does not exist.\nERROR: JAVA_HOME /usr/lib/jvm/java-8-openjdk-amd64 does not exist.\nERROR: JAVA_HOME /usr/lib/jvm/java-8-openjdk-amd64 does not exist.\n</code></pre>\n<p>I'm working on a Mac. The DockerFile references the path java-8-openjdk-amd64 but I don't have that specific software, just jdk-19.jdk.</p>\n<p>The Dockerfile is from a class and the class primarily uses PC.</p>\n<p>Do I need to modify my JAVA_HOME? Do I need to modify the path in the Dockerfile?</p>\n"},{"tags":["java","spring","jpa","spring-data","wildfly"],"comments":[{"owner":{"account_id":5029471,"reputation":5138,"user_id":4040179,"display_name":"Federico Sierra"},"score":0,"creation_date":1427561230,"post_id":29318753,"comment_id":46831055,"body_markdown":"Try to enable class proxying instead of basic proxying `&lt;tx:annotation-driven transaction-manager=&quot;transactionManager&quot;/&gt;` in your context definition","body":"Try to enable class proxying instead of basic proxying <code>&lt;tx:annotation-driven transaction-manager=&quot;transactionManager&quot;&#47;&gt;</code> in your context definition"},{"owner":{"account_id":6014822,"reputation":41,"user_id":4724063,"display_name":"kresooo"},"score":0,"creation_date":1427562081,"post_id":29318753,"comment_id":46831390,"body_markdown":"I tried that already, doesn&#39;t change anything... I still get the same exception","body":"I tried that already, doesn&#39;t change anything... I still get the same exception"},{"owner":{"account_id":51161,"reputation":17015,"user_id":152794,"display_name":"James R. Perkins"},"score":2,"creation_date":1427730713,"post_id":29318753,"comment_id":46886804,"body_markdown":"Are you bundling Hibernate in your app? If so you might want to try removing it and use the version from WildFly.","body":"Are you bundling Hibernate in your app? If so you might want to try removing it and use the version from WildFly."},{"owner":{"account_id":174769,"reputation":431,"user_id":404338,"display_name":"mrg"},"score":1,"creation_date":1667286688,"post_id":29318753,"comment_id":131127149,"body_markdown":"@kresooo Did you find the answer? I have a similar issue.","body":"@kresooo Did you find the answer? I have a similar issue."}],"answers":[{"tags":[],"owner":{"account_id":174769,"reputation":431,"user_id":404338,"display_name":"mrg"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1667308826,"creation_date":1667308745,"answer_id":74276584,"question_id":29318753,"body_markdown":"You should remove subsystem transactions from exclude-subsystems in jboss-deployment-structure.xml","title":"&quot;No transaction is in progress&quot; after migrating to Wildfly","body":"<p>You should remove subsystem transactions from exclude-subsystems in jboss-deployment-structure.xml</p>\n"}],"owner":{"account_id":6014822,"reputation":41,"user_id":4724063,"display_name":"kresooo"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1159,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":1,"score":4,"last_activity_date":1667308826,"creation_date":1427555591,"question_id":29318753,"body_markdown":"We have a Spring 3.6 application with Hibernate 4.2.2 which was working fine on glassfish 4, until we migrated to Wildfly 8.2. We use Spring-data 1.5.0. \r\n\r\nThe following two problems appear:\r\n\r\n1. When saving an entity, it&#39;s not persisted. No exception is thrown here, but the save method in org.springframework.data.jpa.repository.support.SimpleJpaRepository returns an entity with no ID assigned\r\n\r\n2. When updating (merging) an entity, flush throws an exception:\r\n    javax.persistence.TransactionRequiredException: no transaction is in progress\r\n\r\npersistence.xml:\r\n\r\n    &lt;persistence version=&quot;2.1&quot;\r\n\txmlns=&quot;http://xmlns.jcp.org/xml/ns/persistence&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://xmlns.jcp.org/xml/ns/persistence http://www.oracle.com/webfolder/technetwork/jsc/xml/ns/persistence/persistence_2_1.xsd&quot;&gt;\r\n\r\n\t&lt;persistence-unit name=&quot;persistenceSQL&quot;\r\n\t\ttransaction-type=&quot;JTA&quot;&gt;\r\n\t\t&lt;provider&gt;org.hibernate.ejb.HibernatePersistence&lt;/provider&gt;\r\n\t\t&lt;jta-data-source&gt;jdbc/MySqlPool&lt;/jta-data-source&gt;\r\n\r\n        &lt;!-- domain classes --&gt;\r\n        &lt;class&gt;org.common.model.domain.Company&lt;/class&gt;\r\n        ...\r\n        &lt;class&gt;org.common.model.system.RamMetric&lt;/class&gt;\r\n\r\n\t\t&lt;properties&gt;\r\n\r\n\t\t\t&lt;property name=&quot;hibernate.transaction.jta.platform&quot; value=&quot;org.hibernate.service.jta.platform.internal.JBossStandAloneJtaPlatform&quot; /&gt;\r\n\r\n\t\t\t&lt;property name=&quot;hibernate.dialect&quot; value=&quot;org.hibernate.dialect.MySQLDialect&quot; /&gt;\r\n\t\t\t&lt;property name=&quot;hibernate.hbm2ddl.auto&quot; value=&quot;update&quot; /&gt;\r\n\t\t\t&lt;property name=&quot;hibernate.show_sql&quot; value=&quot;true&quot; /&gt;\r\n\r\n\t\t&lt;/properties&gt;\r\n\t&lt;/persistence-unit&gt;\r\n&lt;/persistence&gt;\r\n\r\n\r\nroot context:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\r\n\txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns:jpa=&quot;http://www.springframework.org/schema/data/jpa&quot;\r\n\txmlns:p=&quot;http://www.springframework.org/schema/p&quot; xmlns:tx=&quot;http://www.springframework.org/schema/tx&quot;\r\n\txsi:schemaLocation=&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd\r\n\t                    http://www.springframework.org/schema/data/jpa http://www.springframework.org/schema/data/jpa/spring-jpa-1.2.xsd\r\n\t\t\t\t\t\thttp://www.springframework.org/schema/tx http://www.springframework.org/schema/tx/spring-tx-2.5.xsd&quot;&gt;\r\n\r\n\t&lt;!-- Root Context: defines shared resources visible to all other web components --&gt;\r\n\r\n\t&lt;!-- _________________________________________Datasource______________________________________________________ --&gt;\r\n\r\n\r\n\r\n\t&lt;bean id=&quot;dataSource&quot; class=&quot;org.springframework.jndi.JndiObjectFactoryBean&quot;&gt;\r\n\r\n\t\t&lt;property name=&quot;jndiName&quot; value=&quot;jdbc/MySqlPool&quot; /&gt;\r\n\t\t&lt;property name=&quot;lookupOnStartup&quot; value=&quot;false&quot; /&gt;\r\n\t\t&lt;property name=&quot;cache&quot; value=&quot;true&quot; /&gt;\r\n\t\t&lt;property name=&quot;proxyInterface&quot; value=&quot;javax.sql.DataSource&quot; /&gt;\r\n\r\n\t&lt;/bean&gt;\r\n\r\n\t&lt;!-- _________________________________________EntityManagerFactory______________________________________________________ --&gt;\r\n\r\n\r\n\t&lt;bean id=&quot;entityManagerFactory&quot;\tclass=&quot;org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean&quot;&gt;\r\n\t\r\n\t\t&lt;property name=&quot;persistenceUnitName&quot; value=&quot;persistenceSQL&quot; /&gt;\r\n\r\n\t\t&lt;property name=&quot;jpaVendorAdapter&quot;&gt;\r\n\t\t\t&lt;bean class=&quot;org.springframework.orm.jpa.vendor.HibernateJpaVendorAdapter&quot; /&gt;\r\n\t\t&lt;/property&gt;\r\n\t&lt;/bean&gt;\r\n\r\n\t&lt;!-- _________________________________________Transaction Manager________________________________________________________ --&gt;\r\n\r\n\r\n\t&lt;bean id=&quot;transactionManager&quot; class=&quot;org.springframework.transaction.jta.JtaTransactionManager&quot;&gt;\r\n\t\t&lt;property name=&quot;allowCustomIsolationLevels&quot; value=&quot;true&quot; /&gt;\r\n\t&lt;/bean&gt;\r\n    \r\n\t&lt;jpa:repositories base-package=&quot;com.ototrak.datacenter.repository.* , com.ototrak.datacenter.domain&quot; entity-manager-factory-ref=&quot;entityManagerFactory&quot; transaction-manager-ref=&quot;transactionManager&quot; /&gt;\r\n\r\n\r\nAs mentioned, the app worked fine on Glassfish. To get to this point we had to exclude some modules from Wildfly, specifically org.jboss.resteasy.resteasy-jackson2-provider to get JSON serialization working. We don&#39;t use provided dependencies, so it&#39;s possible we have some conflicts with provided Wildfly modules. We have extensive JUnit coverage and all tests pass, so it&#39;s likely this has something to do with the modules provided by Wildfly.\r\n\r\nWe also had to change the following in persistence.xml:\r\n\r\n     &lt;property name=&quot;hibernate.transaction.jta.platform&quot; value=&quot;org.hibernate.service.jta.platform.internal.SunOneJtaPlatform&quot; /&gt;\r\n\r\nto:\r\n\r\n     &lt;property name=&quot;hibernate.transaction.jta.platform&quot; value=&quot;org.hibernate.service.jta.platform.internal.JBossStandAloneJtaPlatform&quot; /&gt;\r\n\r\nto get select queries to work (which work fine now).\r\n\r\n\r\nStack trace:\r\n\r\n    org.springframework.dao.InvalidDataAccessApiUsageException: no transaction is in progress; nested exception is javax.persistence.TransactionRequiredException: no transaction is in progress\r\n        at org.springframework.orm.jpa.EntityManagerFactoryUtils.convertJpaAccessExceptionIfPossible(EntityManagerFactoryUtils.java:316)\r\n        at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:108)\r\n        at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:403)\r\n        at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:58)\r\n        at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:213)\r\n        at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:163)\r\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:172)\r\n        at org.springframework.data.jpa.repository.support.LockModeRepositoryPostProcessor$LockModePopulatingMethodIntercceptor.invoke(LockModeRepositoryPostProcessor.java:92)\r\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:172)\r\n        at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:91)\r\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:172)\r\n        at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:204)\r\n        at com.sun.proxy.$Proxy82.saveAndFlush(Unknown Source)\r\n        at com.ototrak.datacenter.service.persistance.sql.impl.FirmwareTableServiceImpl.update(FirmwareTableServiceImpl.java:56)\r\n        at com.ototrak.datacenter.api.processing.task.FirmwareProcessingTask.updateEntity(FirmwareProcessingTask.java:180)\r\n        at com.ototrak.datacenter.api.processing.task.abs.AbstractProcessingTask.run(AbstractProcessingTask.java:143)\r\n        at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:471)\r\n        at java.util.concurrent.FutureTask.run(FutureTask.java:262)\r\n        at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:178)\r\n        at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:292)\r\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)\r\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)\r\n        at java.lang.Thread.run(Thread.java:745)\r\n    Caused by: javax.persistence.TransactionRequiredException: no transaction is in progress\r\n        at org.hibernate.jpa.spi.AbstractEntityManagerImpl.checkTransactionNeeded(AbstractEntityManagerImpl.java:1171)\r\n        at org.hibernate.jpa.spi.AbstractEntityManagerImpl.flush(AbstractEntityManagerImpl.java:1332)\r\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\r\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n        at java.lang.reflect.Method.invoke(Method.java:606)\r\n        at org.springframework.orm.jpa.ExtendedEntityManagerCreator$ExtendedEntityManagerInvocationHandler.invoke(ExtendedEntityManagerCreator.java:366)\r\n        at com.sun.proxy.$Proxy65.flush(Unknown Source)\r\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\r\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n        at java.lang.reflect.Method.invoke(Method.java:606)\r\n        at org.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler.invoke(SharedEntityManagerCreator.java:241)\r\n        at com.sun.proxy.$Proxy65.flush(Unknown Source)\r\n        at org.springframework.data.jpa.repository.support.SimpleJpaRepository.flush(SimpleJpaRepository.java:416)\r\n        at org.springframework.data.jpa.repository.support.SimpleJpaRepository.saveAndFlush(SimpleJpaRepository.java:384)\r\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\r\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n        at java.lang.reflect.Method.invoke(Method.java:606)\r\n        at org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.executeMethodOn(RepositoryFactorySupport.java:358)\r\n        at org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.invoke(RepositoryFactorySupport.java:343)\r\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:172)\r\n        at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:96)\r\n        at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:260)\r\n        at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:94)\r\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:172)\r\n        at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:155)\r\n        ... 17 more\r\n","title":"&quot;No transaction is in progress&quot; after migrating to Wildfly","body":"<p>We have a Spring 3.6 application with Hibernate 4.2.2 which was working fine on glassfish 4, until we migrated to Wildfly 8.2. We use Spring-data 1.5.0. </p>\n\n<p>The following two problems appear:</p>\n\n<ol>\n<li><p>When saving an entity, it's not persisted. No exception is thrown here, but the save method in org.springframework.data.jpa.repository.support.SimpleJpaRepository returns an entity with no ID assigned</p></li>\n<li><p>When updating (merging) an entity, flush throws an exception:\njavax.persistence.TransactionRequiredException: no transaction is in progress</p></li>\n</ol>\n\n<p>persistence.xml:</p>\n\n<pre><code>&lt;persistence version=\"2.1\"\nxmlns=\"http://xmlns.jcp.org/xml/ns/persistence\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\nxsi:schemaLocation=\"http://xmlns.jcp.org/xml/ns/persistence http://www.oracle.com/webfolder/technetwork/jsc/xml/ns/persistence/persistence_2_1.xsd\"&gt;\n\n&lt;persistence-unit name=\"persistenceSQL\"\n    transaction-type=\"JTA\"&gt;\n    &lt;provider&gt;org.hibernate.ejb.HibernatePersistence&lt;/provider&gt;\n    &lt;jta-data-source&gt;jdbc/MySqlPool&lt;/jta-data-source&gt;\n\n    &lt;!-- domain classes --&gt;\n    &lt;class&gt;org.common.model.domain.Company&lt;/class&gt;\n    ...\n    &lt;class&gt;org.common.model.system.RamMetric&lt;/class&gt;\n\n    &lt;properties&gt;\n\n        &lt;property name=\"hibernate.transaction.jta.platform\" value=\"org.hibernate.service.jta.platform.internal.JBossStandAloneJtaPlatform\" /&gt;\n\n        &lt;property name=\"hibernate.dialect\" value=\"org.hibernate.dialect.MySQLDialect\" /&gt;\n        &lt;property name=\"hibernate.hbm2ddl.auto\" value=\"update\" /&gt;\n        &lt;property name=\"hibernate.show_sql\" value=\"true\" /&gt;\n\n    &lt;/properties&gt;\n&lt;/persistence-unit&gt;\n</code></pre>\n\n<p></p>\n\n<p>root context:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;beans xmlns=\"http://www.springframework.org/schema/beans\"\nxmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns:jpa=\"http://www.springframework.org/schema/data/jpa\"\nxmlns:p=\"http://www.springframework.org/schema/p\" xmlns:tx=\"http://www.springframework.org/schema/tx\"\nxsi:schemaLocation=\"http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd\n                    http://www.springframework.org/schema/data/jpa http://www.springframework.org/schema/data/jpa/spring-jpa-1.2.xsd\n                    http://www.springframework.org/schema/tx http://www.springframework.org/schema/tx/spring-tx-2.5.xsd\"&gt;\n\n&lt;!-- Root Context: defines shared resources visible to all other web components --&gt;\n\n&lt;!-- _________________________________________Datasource______________________________________________________ --&gt;\n\n\n\n&lt;bean id=\"dataSource\" class=\"org.springframework.jndi.JndiObjectFactoryBean\"&gt;\n\n    &lt;property name=\"jndiName\" value=\"jdbc/MySqlPool\" /&gt;\n    &lt;property name=\"lookupOnStartup\" value=\"false\" /&gt;\n    &lt;property name=\"cache\" value=\"true\" /&gt;\n    &lt;property name=\"proxyInterface\" value=\"javax.sql.DataSource\" /&gt;\n\n&lt;/bean&gt;\n\n&lt;!-- _________________________________________EntityManagerFactory______________________________________________________ --&gt;\n\n\n&lt;bean id=\"entityManagerFactory\" class=\"org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean\"&gt;\n\n    &lt;property name=\"persistenceUnitName\" value=\"persistenceSQL\" /&gt;\n\n    &lt;property name=\"jpaVendorAdapter\"&gt;\n        &lt;bean class=\"org.springframework.orm.jpa.vendor.HibernateJpaVendorAdapter\" /&gt;\n    &lt;/property&gt;\n&lt;/bean&gt;\n\n&lt;!-- _________________________________________Transaction Manager________________________________________________________ --&gt;\n\n\n&lt;bean id=\"transactionManager\" class=\"org.springframework.transaction.jta.JtaTransactionManager\"&gt;\n    &lt;property name=\"allowCustomIsolationLevels\" value=\"true\" /&gt;\n&lt;/bean&gt;\n\n&lt;jpa:repositories base-package=\"com.ototrak.datacenter.repository.* , com.ototrak.datacenter.domain\" entity-manager-factory-ref=\"entityManagerFactory\" transaction-manager-ref=\"transactionManager\" /&gt;\n</code></pre>\n\n<p>As mentioned, the app worked fine on Glassfish. To get to this point we had to exclude some modules from Wildfly, specifically org.jboss.resteasy.resteasy-jackson2-provider to get JSON serialization working. We don't use provided dependencies, so it's possible we have some conflicts with provided Wildfly modules. We have extensive JUnit coverage and all tests pass, so it's likely this has something to do with the modules provided by Wildfly.</p>\n\n<p>We also had to change the following in persistence.xml:</p>\n\n<pre><code> &lt;property name=\"hibernate.transaction.jta.platform\" value=\"org.hibernate.service.jta.platform.internal.SunOneJtaPlatform\" /&gt;\n</code></pre>\n\n<p>to:</p>\n\n<pre><code> &lt;property name=\"hibernate.transaction.jta.platform\" value=\"org.hibernate.service.jta.platform.internal.JBossStandAloneJtaPlatform\" /&gt;\n</code></pre>\n\n<p>to get select queries to work (which work fine now).</p>\n\n<p>Stack trace:</p>\n\n<pre><code>org.springframework.dao.InvalidDataAccessApiUsageException: no transaction is in progress; nested exception is javax.persistence.TransactionRequiredException: no transaction is in progress\n    at org.springframework.orm.jpa.EntityManagerFactoryUtils.convertJpaAccessExceptionIfPossible(EntityManagerFactoryUtils.java:316)\n    at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:108)\n    at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:403)\n    at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:58)\n    at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:213)\n    at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:163)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:172)\n    at org.springframework.data.jpa.repository.support.LockModeRepositoryPostProcessor$LockModePopulatingMethodIntercceptor.invoke(LockModeRepositoryPostProcessor.java:92)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:172)\n    at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:91)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:172)\n    at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:204)\n    at com.sun.proxy.$Proxy82.saveAndFlush(Unknown Source)\n    at com.ototrak.datacenter.service.persistance.sql.impl.FirmwareTableServiceImpl.update(FirmwareTableServiceImpl.java:56)\n    at com.ototrak.datacenter.api.processing.task.FirmwareProcessingTask.updateEntity(FirmwareProcessingTask.java:180)\n    at com.ototrak.datacenter.api.processing.task.abs.AbstractProcessingTask.run(AbstractProcessingTask.java:143)\n    at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:471)\n    at java.util.concurrent.FutureTask.run(FutureTask.java:262)\n    at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:178)\n    at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:292)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)\n    at java.lang.Thread.run(Thread.java:745)\nCaused by: javax.persistence.TransactionRequiredException: no transaction is in progress\n    at org.hibernate.jpa.spi.AbstractEntityManagerImpl.checkTransactionNeeded(AbstractEntityManagerImpl.java:1171)\n    at org.hibernate.jpa.spi.AbstractEntityManagerImpl.flush(AbstractEntityManagerImpl.java:1332)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:606)\n    at org.springframework.orm.jpa.ExtendedEntityManagerCreator$ExtendedEntityManagerInvocationHandler.invoke(ExtendedEntityManagerCreator.java:366)\n    at com.sun.proxy.$Proxy65.flush(Unknown Source)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:606)\n    at org.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler.invoke(SharedEntityManagerCreator.java:241)\n    at com.sun.proxy.$Proxy65.flush(Unknown Source)\n    at org.springframework.data.jpa.repository.support.SimpleJpaRepository.flush(SimpleJpaRepository.java:416)\n    at org.springframework.data.jpa.repository.support.SimpleJpaRepository.saveAndFlush(SimpleJpaRepository.java:384)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:606)\n    at org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.executeMethodOn(RepositoryFactorySupport.java:358)\n    at org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.invoke(RepositoryFactorySupport.java:343)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:172)\n    at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:96)\n    at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:260)\n    at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:94)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:172)\n    at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:155)\n    ... 17 more\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":16673497,"reputation":2011,"user_id":12050506,"display_name":"possum"},"score":0,"creation_date":1667307947,"post_id":74276245,"comment_id":131133227,"body_markdown":"It sounds like you&#39;ve identified the problem and answered your own question.  I&#39;m not sure what your post is about then.","body":"It sounds like you&#39;ve identified the problem and answered your own question.  I&#39;m not sure what your post is about then."}],"answers":[{"tags":[],"owner":{"account_id":108033,"reputation":17201,"user_id":286934,"display_name":"Progman"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1667308784,"creation_date":1667308784,"answer_id":74276597,"question_id":74276245,"body_markdown":"The problem in your case is that `BigInteger.toByteArray()` return an array, which size depends on the value. As an example, for the value `42`, the returned byte array is `[42]` with a length of one. But for the value `1234567890L` the byte array is `[73, -106, 2, -46]` with a length of four. When you concatenate each encrypted byte input the output file, you have no marker where one original byte array ended and the next original byte array started. So when you read the bytes `[54, -2, 43, 4, 13, -140, ...]` you don&#39;t know if the first byte array to decrypt is with `[54]`, `[54, -2]` or `[54, -2, 43]` (or any other length).\r\n\r\nOne possible solution is to add a length information for each byte array you write into the encrypted result file. As an example, the result file byte content could look like this:\r\n\r\n    [2, 54, -34, 5, -34, 43, 1, 9, -11, 1, 5, 3, 76, -100, 81, ...]\r\n     ^           ^                      ^     ^                 ^\r\n     |           |                      |     |                 |\r\n\r\nThe arrows indicate the positions of the length information, following by the byte array values for that value to decrypt. The algorithm will look like this (pseudocode):\r\n\r\n    while (!file_end_reached) {\r\n        read next byte for the length\r\n        read X bytes depending on the length\r\n        create BitInteger from byte array\r\n        decrypt\r\n    }","title":"Why is my RSA encryption algorithm not working correctly","body":"<p>The problem in your case is that <code>BigInteger.toByteArray()</code> return an array, which size depends on the value. As an example, for the value <code>42</code>, the returned byte array is <code>[42]</code> with a length of one. But for the value <code>1234567890L</code> the byte array is <code>[73, -106, 2, -46]</code> with a length of four. When you concatenate each encrypted byte input the output file, you have no marker where one original byte array ended and the next original byte array started. So when you read the bytes <code>[54, -2, 43, 4, 13, -140, ...]</code> you don't know if the first byte array to decrypt is with <code>[54]</code>, <code>[54, -2]</code> or <code>[54, -2, 43]</code> (or any other length).</p>\n<p>One possible solution is to add a length information for each byte array you write into the encrypted result file. As an example, the result file byte content could look like this:</p>\n<pre><code>[2, 54, -34, 5, -34, 43, 1, 9, -11, 1, 5, 3, 76, -100, 81, ...]\n ^           ^                      ^     ^                 ^\n |           |                      |     |                 |\n</code></pre>\n<p>The arrows indicate the positions of the length information, following by the byte array values for that value to decrypt. The algorithm will look like this (pseudocode):</p>\n<pre><code>while (!file_end_reached) {\n    read next byte for the length\n    read X bytes depending on the length\n    create BitInteger from byte array\n    decrypt\n}\n</code></pre>\n"}],"owner":{"account_id":26696779,"reputation":21,"user_id":20304501,"display_name":"John Smith"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":56,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1667308784,"creation_date":1667307110,"question_id":74276245,"body_markdown":"According to formulas and searches for private / public keys, everything is correct for me. The problem is that I&#39;m encrypting a picture, that is, an array of bytes. Everything is encrypted correctly, but the decryption no longer works, although the formula is the same. The problem is that when I start byte-by-byte encryption, for example, 1 byte is 255, it is encrypted into the number 1397715838 and then again encrypted into bytes into a file. Then I read the encrypted file again and the first byte will already be 255, not 1397715838. Thus, the entire decryption process will not work, because I did not understand how to get 1397715838 from the number 255.\r\n\r\n```\r\npublic static void RSA() throws Exception {\r\n    Random random = new Random();\r\n\r\n    var fileData = ReadFileToBinary(&quot;C:\\\\Users\\\\User\\\\IdeaProjects\\\\CryptoLab1\\\\src\\\\crypto\\\\dino.png&quot;);\r\n\r\n    FileOutputStream encryptFile = new FileOutputStream(&quot;C:\\\\Users\\\\User\\\\IdeaProjects\\\\CryptoLab1\\\\src\\\\crypto\\\\endino.png&quot;);\r\n    FileOutputStream decryptFile = new FileOutputStream(&quot;C:\\\\Users\\\\User\\\\IdeaProjects\\\\CryptoLab1\\\\src\\\\crypto\\\\dedino.png&quot;);\r\n\r\n    BigInteger P = BigInteger.probablePrime(16, random);\r\n    BigInteger Q = BigInteger.probablePrime(16, random);\r\n\r\n    BigInteger N = P.multiply(Q);\r\n\r\n    BigInteger f = (P.subtract(BigInteger.ONE)).multiply(Q.subtract(BigInteger.ONE));\r\n\r\n    BigInteger d;\r\n    BigInteger c;\r\n\r\n    BigInteger encrypt;\r\n    BigInteger decrypt;\r\n\r\n    do {\r\n        d = new BigInteger(16, random);\r\n    } while (!(d.gcd(f).equals(BigInteger.ONE)) &amp;&amp; d.compareTo(f) &lt; 0);\r\n\r\n\r\n    c = d.modInverse(f);\r\n\r\n    for (var mess : fileData) {\r\n        BigInteger message = BigInteger.valueOf(mess);\r\n\r\n        encrypt = cryptoLab1.ModPow(message,d, N); //ecnrypt 1397715838\r\n        encryptFile.write(encrypt.toByteArray()); // encrypt byte here 255\r\n    }\r\n\r\n    var fileData2 = ReadFileToBinary(&quot;C:\\\\Users\\\\User\\\\IdeaProjects\\\\CryptoLab1\\\\src\\\\crypto\\\\endino.png&quot;);\r\n\r\n\r\n    \r\n    for(var mess: fileData2) {\r\n        BigInteger message = BigInteger.valueOf(mess); //Need value here 1397715838, not 255\r\n        decrypt = cryptoLab1.ModPow(message, c, N);\r\n        if(decrypt.intValue() &gt; 127) {\r\n            decrypt = decrypt.subtract(BigInteger.valueOf(256));\r\n            decryptFile.write(decrypt.toByteArray());\r\n        }\r\n        else {\r\n            out2.write(decrypt.toByteArray());\r\n        }\r\n    }\r\n```\r\n\r\nReadFileToBinary:\r\n\r\n    public static int[] ReadFileToBinary(String path) throws IOException {\r\n        File file = new File(path);\r\n        byte[] fileData = new byte[(int)file.length()];\r\n        FileInputStream in = new FileInputStream(file);\r\n        in.read(fileData);\r\n        int[] arrayBytes= new int[(int) file.length()];\r\n    \r\n        for(int i = 0; i &lt; fileData.length; i++) {\r\n            arrayBytes[i] = Byte.toUnsignedInt(fileData[i]);\r\n        }\r\n        in.close();\r\n    \r\n        return arrayBytes;\r\n    }","title":"Why is my RSA encryption algorithm not working correctly","body":"<p>According to formulas and searches for private / public keys, everything is correct for me. The problem is that I'm encrypting a picture, that is, an array of bytes. Everything is encrypted correctly, but the decryption no longer works, although the formula is the same. The problem is that when I start byte-by-byte encryption, for example, 1 byte is 255, it is encrypted into the number 1397715838 and then again encrypted into bytes into a file. Then I read the encrypted file again and the first byte will already be 255, not 1397715838. Thus, the entire decryption process will not work, because I did not understand how to get 1397715838 from the number 255.</p>\n<pre><code>public static void RSA() throws Exception {\n    Random random = new Random();\n\n    var fileData = ReadFileToBinary(&quot;C:\\\\Users\\\\User\\\\IdeaProjects\\\\CryptoLab1\\\\src\\\\crypto\\\\dino.png&quot;);\n\n    FileOutputStream encryptFile = new FileOutputStream(&quot;C:\\\\Users\\\\User\\\\IdeaProjects\\\\CryptoLab1\\\\src\\\\crypto\\\\endino.png&quot;);\n    FileOutputStream decryptFile = new FileOutputStream(&quot;C:\\\\Users\\\\User\\\\IdeaProjects\\\\CryptoLab1\\\\src\\\\crypto\\\\dedino.png&quot;);\n\n    BigInteger P = BigInteger.probablePrime(16, random);\n    BigInteger Q = BigInteger.probablePrime(16, random);\n\n    BigInteger N = P.multiply(Q);\n\n    BigInteger f = (P.subtract(BigInteger.ONE)).multiply(Q.subtract(BigInteger.ONE));\n\n    BigInteger d;\n    BigInteger c;\n\n    BigInteger encrypt;\n    BigInteger decrypt;\n\n    do {\n        d = new BigInteger(16, random);\n    } while (!(d.gcd(f).equals(BigInteger.ONE)) &amp;&amp; d.compareTo(f) &lt; 0);\n\n\n    c = d.modInverse(f);\n\n    for (var mess : fileData) {\n        BigInteger message = BigInteger.valueOf(mess);\n\n        encrypt = cryptoLab1.ModPow(message,d, N); //ecnrypt 1397715838\n        encryptFile.write(encrypt.toByteArray()); // encrypt byte here 255\n    }\n\n    var fileData2 = ReadFileToBinary(&quot;C:\\\\Users\\\\User\\\\IdeaProjects\\\\CryptoLab1\\\\src\\\\crypto\\\\endino.png&quot;);\n\n\n    \n    for(var mess: fileData2) {\n        BigInteger message = BigInteger.valueOf(mess); //Need value here 1397715838, not 255\n        decrypt = cryptoLab1.ModPow(message, c, N);\n        if(decrypt.intValue() &gt; 127) {\n            decrypt = decrypt.subtract(BigInteger.valueOf(256));\n            decryptFile.write(decrypt.toByteArray());\n        }\n        else {\n            out2.write(decrypt.toByteArray());\n        }\n    }\n</code></pre>\n<p>ReadFileToBinary:</p>\n<pre><code>public static int[] ReadFileToBinary(String path) throws IOException {\n    File file = new File(path);\n    byte[] fileData = new byte[(int)file.length()];\n    FileInputStream in = new FileInputStream(file);\n    in.read(fileData);\n    int[] arrayBytes= new int[(int) file.length()];\n\n    for(int i = 0; i &lt; fileData.length; i++) {\n        arrayBytes[i] = Byte.toUnsignedInt(fileData[i]);\n    }\n    in.close();\n\n    return arrayBytes;\n}\n</code></pre>\n"},{"tags":["java","maven","javafx","pom.xml","module-info"],"comments":[{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1667306189,"post_id":74275772,"comment_id":131132616,"body_markdown":"You only need these two module requirements for JavaFX: `requires javafx.controls;` and `requires javafx.fxml;`, nothing needs to be `transitive`.  You are using JavaFX Maven modules, you don&#39;t need the SDK (uninstall it and remove all places you tried to reference it).","body":"You only need these two module requirements for JavaFX: <code>requires javafx.controls;</code> and <code>requires javafx.fxml;</code>, nothing needs to be <code>transitive</code>.  You are using JavaFX Maven modules, you don&#39;t need the SDK (uninstall it and remove all places you tried to reference it)."},{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1667306210,"post_id":74275772,"comment_id":131132629,"body_markdown":"But none of that should matter with regards to your `module not found` compilation issue.  I don&#39;t know what is causing that.  Maybe you are using some ancient version of Maven which is not aware of modular java.  (In this context I mean java platform modules not maven modules).","body":"But none of that should matter with regards to your <code>module not found</code> compilation issue.  I don&#39;t know what is causing that.  Maybe you are using some ancient version of Maven which is not aware of modular java.  (In this context I mean java platform modules not maven modules)."},{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1667306751,"post_id":74275772,"comment_id":131132804,"body_markdown":"Maybe review the documentation on [JavaFX+Eclipse+Maven+Modular](https://openjfx.io/openjfx-docs/), and make sure that the sample project with that combo works in your environment before trying to build your own app using that combo.","body":"Maybe review the documentation on <a href=\"https://openjfx.io/openjfx-docs/\" rel=\"nofollow noreferrer\">JavaFX+Eclipse+Maven+Modular</a>, and make sure that the sample project with that combo works in your environment before trying to build your own app using that combo."},{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1667306976,"post_id":74275772,"comment_id":131132882,"body_markdown":"&quot;export to an runable file wont work&quot; -&gt; what is that?  what does wont work mean?  That seems like a different issue from the &quot;module not found&quot; issue for &quot;clean javafx:run&quot;.  See [packaging info in the JavaFX tag](https://stackoverflow.com/tags/javafx/info), for options on packaging JavaFX apps for distribution (trying to use any built-in IDE function for that is currently not recommended because, as far as I know, none of them work).","body":"&quot;export to an runable file wont work&quot; -&gt; what is that?  what does wont work mean?  That seems like a different issue from the &quot;module not found&quot; issue for &quot;clean javafx:run&quot;.  See <a href=\"https://stackoverflow.com/tags/javafx/info\">packaging info in the JavaFX tag</a>, for options on packaging JavaFX apps for distribution (trying to use any built-in IDE function for that is currently not recommended because, as far as I know, none of them work)."},{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1667307600,"post_id":74275772,"comment_id":131133115,"body_markdown":"Your module is named `HauserProgram`, so `&lt;mainClass&gt;de.hauserwein/Main.java&lt;/mainClass&gt;` is wrong.  Probably the main class is in package `de.hauserwein` (just guessing).  So the main class would be `HauserProgram/de.hauserwein.Main`.  See the [java man](https://docs.oracle.com/en/java/javase/19/docs/specs/man/java.html) for info on how to specify a modular main class.","body":"Your module is named <code>HauserProgram</code>, so <code>&lt;mainClass&gt;de.hauserwein&#47;Main.java&lt;&#47;mainClass&gt;</code> is wrong.  Probably the main class is in package <code>de.hauserwein</code> (just guessing).  So the main class would be <code>HauserProgram&#47;de.hauserwein.Main</code>.  See the <a href=\"https://docs.oracle.com/en/java/javase/19/docs/specs/man/java.html\" rel=\"nofollow noreferrer\">java man</a> for info on how to specify a modular main class."},{"owner":{"account_id":26794770,"reputation":1,"user_id":20387666,"display_name":"Christian Stempfle"},"score":0,"creation_date":1667309344,"post_id":74275772,"comment_id":131133787,"body_markdown":"thx for it. now i updated the module-info, and i uninstalled the sdk, nothing works. Later i will test the link you posted and try the sample project.","body":"thx for it. now i updated the module-info, and i uninstalled the sdk, nothing works. Later i will test the link you posted and try the sample project."},{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1667351429,"post_id":74275772,"comment_id":131145759,"body_markdown":"I think the javafx-maven-plugin will [make use of the `JAVA_HOME` environment variable if it is defined](https://github.com/openjfx/javafx-maven-plugin/blob/b63e0367a1e29d205f937c0c276c03d08557df4a/src/main/java/org/openjfx/JavaFXBaseMojo.java#L527), so, if you have defined that variable, make sure [`JAVA_HOME` is set correctly](https://www.baeldung.com/java-home-on-windows-7-8-10-mac-os-x-linux).","body":"I think the javafx-maven-plugin will <a href=\"https://github.com/openjfx/javafx-maven-plugin/blob/b63e0367a1e29d205f937c0c276c03d08557df4a/src/main/java/org/openjfx/JavaFXBaseMojo.java#L527\" rel=\"nofollow noreferrer\">make use of the <code>JAVA_HOME</code> environment variable if it is defined</a>, so, if you have defined that variable, make sure <a href=\"https://www.baeldung.com/java-home-on-windows-7-8-10-mac-os-x-linux\" rel=\"nofollow noreferrer\"><code>JAVA_HOME</code> is set correctly</a>."},{"owner":{"account_id":26794770,"reputation":1,"user_id":20387666,"display_name":"Christian Stempfle"},"score":0,"creation_date":1667370631,"post_id":74275772,"comment_id":131148373,"body_markdown":"I tried to create the maven javafx sample program with the code ```mvn archetype:generate \\\n        -DarchetypeGroupId=org.openjfx \\\n        -DarchetypeArtifactId=javafx-archetype-simple \\\n        -DarchetypeVersion=0.0.3 \\\n        -DgroupId=org.openjfx \\\n        -DartifactId=sample \\\n        -Dversion=1.0.0 \\\n        -Djavafx-version=19``` where does i have to type this into? When i type it in cmd it wont work, because my computer said mvn is an invalid command. And what do you mean with java_home? Does i have to put maven in it? I have there only java 18 in it","body":"I tried to create the maven javafx sample program with the code <code>mvn archetype:generate \\         -DarchetypeGroupId=org.openjfx \\         -DarchetypeArtifactId=javafx-archetype-simple \\         -DarchetypeVersion=0.0.3 \\         -DgroupId=org.openjfx \\         -DartifactId=sample \\         -Dversion=1.0.0 \\         -Djavafx-version=19</code> where does i have to type this into? When i type it in cmd it wont work, because my computer said mvn is an invalid command. And what do you mean with java_home? Does i have to put maven in it? I have there only java 18 in it"},{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1667371880,"post_id":74275772,"comment_id":131148640,"body_markdown":"I linked info on JAVA_HOME already.  If it is not defined, it probably doesn’t matter, but if it is defined then it should be correct.  No you don’t put maven in JAVA_HOME, it is where Java is, not maven.  For mvn, it is just an executable command,  if the directory with the executable is in your PATH, then you can run it from a command prompt without qualification, otherwise you must provide the full path, same as any other executable.  See [maven setup](https://stackoverflow.com/questions/10649707/maven-mvn-command-not-found).","body":"I linked info on JAVA_HOME already.  If it is not defined, it probably doesn’t matter, but if it is defined then it should be correct.  No you don’t put maven in JAVA_HOME, it is where Java is, not maven.  For mvn, it is just an executable command,  if the directory with the executable is in your PATH, then you can run it from a command prompt without qualification, otherwise you must provide the full path, same as any other executable.  See <a href=\"https://stackoverflow.com/questions/10649707/maven-mvn-command-not-found\">maven setup</a>."},{"owner":{"account_id":26794770,"reputation":1,"user_id":20387666,"display_name":"Christian Stempfle"},"score":0,"creation_date":1667404604,"post_id":74275772,"comment_id":131160264,"body_markdown":"thx. maven wasnt installed on my computer. now i made the maven setup and the command &quot;mvn&quot; works. but the failure is still there.","body":"thx. maven wasnt installed on my computer. now i made the maven setup and the command &quot;mvn&quot; works. but the failure is still there."},{"owner":{"account_id":26794770,"reputation":1,"user_id":20387666,"display_name":"Christian Stempfle"},"score":0,"creation_date":1667493369,"post_id":74275772,"comment_id":131185055,"body_markdown":"@jewelsea - thx after the maven setup the mvn command works... and now i have create a sample project. everything is still working. but now the executable jar file i have created didnt open with double click :(","body":"@jewelsea - thx after the maven setup the mvn command works... and now i have create a sample project. everything is still working. but now the executable jar file i have created didnt open with double click :("},{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1667509467,"post_id":74275772,"comment_id":131189962,"body_markdown":"Running an executable jar with a double click is a different problem than the build issue from your question, you can ask it as a new question with updated, relevant information.  For information on how to package your application for distribution and execution, see the [packaging information in the JavaFX tag](https://stackoverflow.com/tags/javafx/info).  Perhaps you may want to use a tool such as `jpackage` to create an installer for your application.  The installer is capable of creating a shortcut for the OS allowing the installed application to be executed by double-click.","body":"Running an executable jar with a double click is a different problem than the build issue from your question, you can ask it as a new question with updated, relevant information.  For information on how to package your application for distribution and execution, see the <a href=\"https://stackoverflow.com/tags/javafx/info\">packaging information in the JavaFX tag</a>.  Perhaps you may want to use a tool such as <code>jpackage</code> to create an installer for your application.  The installer is capable of creating a shortcut for the OS allowing the installed application to be executed by double-click."}],"answers":[{"comments":[{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1667306573,"post_id":74276091,"comment_id":131132746,"body_markdown":"I don&#39;t advise providing a classifier, instead the build system can work out what classifier to use from the platform you are building on.  Also, javafx-controls and javafx-fxml will depend on javafx-graphics so you don&#39;t need to explicitly specify javafx-graphics, it will be brought in automatically via the transitive dependency.","body":"I don&#39;t advise providing a classifier, instead the build system can work out what classifier to use from the platform you are building on.  Also, javafx-controls and javafx-fxml will depend on javafx-graphics so you don&#39;t need to explicitly specify javafx-graphics, it will be brought in automatically via the transitive dependency."},{"owner":{"account_id":23057660,"reputation":477,"user_id":17173476,"display_name":"Vinz"},"score":0,"creation_date":1667307480,"post_id":74276091,"comment_id":131133068,"body_markdown":"I would agree that there is no point specifying ` javafx-graphics` if I leave out the classifier. But why would you advise against using a classifier altogether? I recently built (on windows) a project for both Win and Mac, and simply specifying the classifier seems the easiest way to me. Also, it&#39;s explicit instead of inferred during the build phase, which I also like. Is there something I am unaware of?","body":"I would agree that there is no point specifying ` javafx-graphics` if I leave out the classifier. But why would you advise against using a classifier altogether? I recently built (on windows) a project for both Win and Mac, and simply specifying the classifier seems the easiest way to me. Also, it&#39;s explicit instead of inferred during the build phase, which I also like. Is there something I am unaware of?"},{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":1,"creation_date":1667307936,"post_id":74276091,"comment_id":131133222,"body_markdown":"It is easier to make mistakes if you provide classifiers.  For instance, you provide a classifier only for the graphics module, but the other JavaFX modules should all have classifiers too.  It is more difficult for new people to understand, because they need to get the classifiers right (e.g. they need multiple classifiers to support M1 and Intel macs).  It is only needed for a cross platform build, which is usually used in conjunction with a shaded jar, which is not an officially supported configuration.","body":"It is easier to make mistakes if you provide classifiers.  For instance, you provide a classifier only for the graphics module, but the other JavaFX modules should all have classifiers too.  It is more difficult for new people to understand, because they need to get the classifiers right (e.g. they need multiple classifiers to support M1 and Intel macs).  It is only needed for a cross platform build, which is usually used in conjunction with a shaded jar, which is not an officially supported configuration."},{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1667308069,"post_id":74276091,"comment_id":131133289,"body_markdown":"With regards to classifier specification, I recommend [convention over configuration](https://en.wikipedia.org/wiki/Convention_over_configuration).  If you have unusual build requirements such as a multi-platform shaded jar, then go ahead and provide the multiple classified dependencies, otherwise don&#39;t.","body":"With regards to classifier specification, I recommend <a href=\"https://en.wikipedia.org/wiki/Convention_over_configuration\" rel=\"nofollow noreferrer\">convention over configuration</a>.  If you have unusual build requirements such as a multi-platform shaded jar, then go ahead and provide the multiple classified dependencies, otherwise don&#39;t."},{"owner":{"account_id":23057660,"reputation":477,"user_id":17173476,"display_name":"Vinz"},"score":1,"creation_date":1667308623,"post_id":74276091,"comment_id":131133512,"body_markdown":"To be clear, I built the project for Win and Mac seperately, not as one cross-platform jar. I just built it on windows for intended use on Mac, therefore I resorted to the classifiers. But I can see how this is out of place for this Question and I will remove it from my answer, thanks.","body":"To be clear, I built the project for Win and Mac seperately, not as one cross-platform jar. I just built it on windows for intended use on Mac, therefore I resorted to the classifiers. But I can see how this is out of place for this Question and I will remove it from my answer, thanks."},{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1667308819,"post_id":74276091,"comment_id":131133582,"body_markdown":"&quot;I built the project for Win and Mac seperately, not as one cross-platform jar. I just built it on windows for intended use on Mac, therefore I resorted to the classifiers.&quot; -&gt; yes, this would be a recommended usage for classifiers in an unconventional build environment, perhaps in conjunction with the Maven profile mechanism to select the target platform to build for.","body":"&quot;I built the project for Win and Mac seperately, not as one cross-platform jar. I just built it on windows for intended use on Mac, therefore I resorted to the classifiers.&quot; -&gt; yes, this would be a recommended usage for classifiers in an unconventional build environment, perhaps in conjunction with the Maven profile mechanism to select the target platform to build for."},{"owner":{"account_id":26794770,"reputation":1,"user_id":20387666,"display_name":"Christian Stempfle"},"score":0,"creation_date":1667310434,"post_id":74276091,"comment_id":131134178,"body_markdown":"i tried ```mvn clean install``` , it sais &quot;Unknown lifecycle phase &quot;mvn&quot;.&quot;, is this a problem with the archetypes like jewelsea told in the upper answer?","body":"i tried <code>mvn clean install</code> , it sais &quot;Unknown lifecycle phase &quot;mvn&quot;.&quot;, is this a problem with the archetypes like jewelsea told in the upper answer?"},{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1667332258,"post_id":74276091,"comment_id":131141625,"body_markdown":"it sais &quot;Unknown lifecycle phase &quot;mvn&quot; -&gt; that would imply that it is running `mvn mvn` I think (e.g. `mvn` is being passed as an argument to `mvn`), I couldn&#39;t tell you why.","body":"it sais &quot;Unknown lifecycle phase &quot;mvn&quot; -&gt; that would imply that it is running <code>mvn mvn</code> I think (e.g. <code>mvn</code> is being passed as an argument to <code>mvn</code>), I couldn&#39;t tell you why."}],"tags":[],"owner":{"account_id":23057660,"reputation":477,"user_id":17173476,"display_name":"Vinz"},"comment_count":8,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1667308667,"creation_date":1667306346,"answer_id":74276091,"question_id":74275772,"body_markdown":"Firstly, make sure you have all the dependencies in your pom:\r\n\r\n``` \r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n            &lt;artifactId&gt;javafx-controls&lt;/artifactId&gt;\r\n            &lt;version&gt;19&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n            &lt;artifactId&gt;javafx-fxml&lt;/artifactId&gt;\r\n            &lt;version&gt;19&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n```\r\nThen, it sounds like you have your dependencies on the build path in eclipse, rather than the maven project. Run `mvn clean install` to resolve the dependencies. \r\n\r\n(And please don&#39;t use `&lt;groupId&gt;org.openjfx&lt;/groupId&gt;` for your artifacts. It causes unnecessary confusion.)","title":"Maven Build Failure (module not found)","body":"<p>Firstly, make sure you have all the dependencies in your pom:</p>\n<pre><code>        &lt;dependency&gt;\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n            &lt;artifactId&gt;javafx-controls&lt;/artifactId&gt;\n            &lt;version&gt;19&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n            &lt;artifactId&gt;javafx-fxml&lt;/artifactId&gt;\n            &lt;version&gt;19&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>Then, it sounds like you have your dependencies on the build path in eclipse, rather than the maven project. Run <code>mvn clean install</code> to resolve the dependencies.</p>\n<p>(And please don't use <code>&lt;groupId&gt;org.openjfx&lt;/groupId&gt;</code> for your artifacts. It causes unnecessary confusion.)</p>\n"}],"owner":{"account_id":26794770,"reputation":1,"user_id":20387666,"display_name":"Christian Stempfle"},"comment_count":12,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1568,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1667308667,"creation_date":1667304805,"question_id":74275772,"body_markdown":"i have a question about Mavenbuilds. I wanted to try to make a little javafx testprogram in a mavenbuild in Eclipse IDE, i am using JavaSE 18 and JavaFX 19. so now if i want to run-&gt; Maven build... and set the goal &quot;clean javafx:run&quot; i get this Failure / Error message:\r\n\r\n\r\n```\r\n[[1;34mINFO[m] Scanning for projects...\r\n[[1;34mINFO[m] \r\n[[1;34mINFO[m] [1m---------------------&lt; [0;36morg.openjfx:HauserProgram[0;1m &gt;----------------------[m\r\n[[1;34mINFO[m] [1mBuilding HauserProgram 0.0.1-SNAPSHOT[m\r\n[[1;34mINFO[m] [1m--------------------------------[ jar ]---------------------------------[m\r\n[[1;34mINFO[m] \r\n[[1;34mINFO[m] [1m--- [0;32mmaven-clean-plugin:2.5:clean[m [1m(default-clean)[m @ [36mHauserProgram[0;1m ---[m\r\n[[1;34mINFO[m] Deleting D:\\eclipse-workspace\\javafxmav\\target\r\n[[1;34mINFO[m] \r\n[[1;34mINFO[m] [1m&gt;&gt;&gt; [0;32mjavafx-maven-plugin:0.0.8:run[m [1m(default-cli)[0;1m &gt; [0;1mprocess-classes[m @ [36mHauserProgram[0;1m &gt;&gt;&gt;[m\r\n[[1;34mINFO[m] \r\n[[1;34mINFO[m] [1m--- [0;32mmaven-resources-plugin:2.6:resources[m [1m(default-resources)[m @ [36mHauserProgram[0;1m ---[m\r\n[[1;34mINFO[m] Using &#39;UTF-8&#39; encoding to copy filtered resources.\r\n[[1;34mINFO[m] Copying 3 resources\r\n[[1;34mINFO[m] \r\n[[1;34mINFO[m] [1m--- [0;32mmaven-compiler-plugin:3.1:compile[m [1m(default-compile)[m @ [36mHauserProgram[0;1m ---[m\r\n[[1;34mINFO[m] Changes detected - recompiling the module!\r\n[[1;34mINFO[m] Compiling 6 source files to D:\\eclipse-workspace\\javafxmav\\target\\classes\r\n[[1;34mINFO[m] -------------------------------------------------------------\r\n[[1;31mERROR[m] COMPILATION ERROR : \r\n[[1;34mINFO[m] -------------------------------------------------------------\r\n[[1;31mERROR[m] /D:/eclipse-workspace/javafxmav/src/main/java/module-info.java:[6,24] module not found: javafx.base\r\n[[1;31mERROR[m] /D:/eclipse-workspace/javafxmav/src/main/java/module-info.java:[7,24] module not found: javafx.controls\r\n[[1;31mERROR[m] /D:/eclipse-workspace/javafxmav/src/main/java/module-info.java:[8,35] module not found: javafx.fxml\r\n[[1;31mERROR[m] /D:/eclipse-workspace/javafxmav/src/main/java/module-info.java:[9,35] module not found: javafx.graphics\r\n[[1;31mERROR[m] /D:/eclipse-workspace/javafxmav/src/main/java/module-info.java:[11,32] module not found: org.apache.poi.poi\r\n[[1;34mINFO[m] 5 errors \r\n[[1;34mINFO[m] -------------------------------------------------------------\r\n[[1;34mINFO[m] [1m------------------------------------------------------------------------[m\r\n[[1;34mINFO[m] [1;31mBUILD FAILURE[m\r\n[[1;34mINFO[m] [1m------------------------------------------------------------------------[m\r\n[[1;34mINFO[m] Total time:  0.683 s\r\n[[1;34mINFO[m] Finished at: 2022-11-01T12:45:40+01:00\r\n[[1;34mINFO[m] [1m------------------------------------------------------------------------[m\r\n[[1;31mERROR[m] Failed to execute goal [32morg.apache.maven.plugins:maven-compiler-plugin:3.1:compile[m [1m(default-compile)[m on project [36mHauserProgram[m: [1;31mCompilation failure[m: Compilation failure: \r\n[[1;31mERROR[m] /D:/eclipse-workspace/javafxmav/src/main/java/module-info.java:[6,24] module not found: javafx.base\r\n[[1;31mERROR[m] /D:/eclipse-workspace/javafxmav/src/main/java/module-info.java:[7,24] module not found: javafx.controls\r\n[[1;31mERROR[m] /D:/eclipse-workspace/javafxmav/src/main/java/module-info.java:[8,35] module not found: javafx.fxml\r\n[[1;31mERROR[m] /D:/eclipse-workspace/javafxmav/src/main/java/module-info.java:[9,35] module not found: javafx.graphics\r\n[[1;31mERROR[m] /D:/eclipse-workspace/javafxmav/src/main/java/module-info.java:[11,32] module not found: org.apache.poi.poi\r\n[[1;31mERROR[m] -&gt; [1m[Help 1][m\r\n[[1;31mERROR[m] \r\n[[1;31mERROR[m] To see the full stack trace of the errors, re-run Maven with the [1m-e[m switch.\r\n[[1;31mERROR[m] Re-run Maven using the [1m-X[m switch to enable full debug logging.\r\n[[1;31mERROR[m] \r\n[[1;31mERROR[m] For more information about the errors and possible solutions, please read the following articles:\r\n[[1;31mERROR[m] [1m[Help 1][m http://cwiki.apache.org/confluence/display/MAVEN/MojoFailureException\r\n```\r\nhere is my module-info.java:\r\n\r\n```\r\nmodule HauserProgram {\r\n\r\n\texports de.hauserwein;\r\n\r\n\trequires java.sql;\r\n\trequires javafx.base;\r\n\trequires javafx.controls;\r\n\trequires transitive javafx.fxml;\r\n\trequires transitive javafx.graphics;\r\n\trequires java.desktop;\r\n\trequires org.apache.poi.poi;\r\n\r\n\topens de.hauserwein to javafx.fxml, javafx.base, javafx.controls, javafx.graphics;\r\n\t\r\n\r\n}\r\n```\r\n\r\nand my pom.xml:\r\n\r\n\r\n```\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n  &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n  &lt;artifactId&gt;HauserProgram&lt;/artifactId&gt;\r\n  &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n  \r\n  &lt;properties&gt;\r\n  &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n &lt;maven.compiler.source&gt;18&lt;/maven.compiler.source&gt;\r\n &lt;maven.compiler.target&gt;18&lt;/maven.compiler.target&gt;\r\n&lt;/properties&gt;\r\n  \r\n  &lt;dependencies&gt;\r\n  \r\n  &lt;dependency&gt;\r\n  &lt;groupId&gt;mysql&lt;/groupId&gt;\r\n  &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n  &lt;version&gt;8.0.30&lt;/version&gt;\r\n  &lt;/dependency&gt;\r\n  \r\n  &lt;dependency&gt;\r\n    &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n    &lt;artifactId&gt;javafx-fxml&lt;/artifactId&gt;\r\n    &lt;version&gt;18&lt;/version&gt;\r\n  &lt;/dependency&gt;\r\n  \r\n  &lt;dependency&gt;\r\n    &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\r\n    &lt;artifactId&gt;poi&lt;/artifactId&gt;\r\n    &lt;version&gt;5.2.3&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n    &lt;artifactId&gt;log4j-to-slf4j&lt;/artifactId&gt;\r\n    &lt;version&gt;2.19.0&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\r\n    &lt;artifactId&gt;poi-ooxml&lt;/artifactId&gt;\r\n    &lt;version&gt;5.2.3&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n\r\n\r\n  &lt;/dependencies&gt;\r\n  \r\n  \r\n    \r\n  &lt;build&gt;\r\n    &lt;plugins&gt;\r\n    &lt;plugin&gt;\r\n    \t&lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;javafx-maven-plugin&lt;/artifactId&gt;\r\n    \t&lt;version&gt;0.0.8&lt;/version&gt;\r\n    \t&lt;configuration&gt;\r\n&lt;mainClass&gt;de.hauserwein/Main.java&lt;/mainClass&gt;\r\n\r\n&lt;/configuration&gt;\r\n    &lt;/plugin&gt;\r\n    &lt;/plugins&gt;\r\n  &lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\n\r\n\r\n\r\n\r\ni tried to add the javafx sdk to the buildpath, tested some different javafx versions 18/19 in the pom.xml, and wanted to add org.openjfx to the module-info.java file... \r\n\r\nif i start it with &quot;Run As JavaApplication&quot; it will work, only the export to an runable file wont work.","title":"Maven Build Failure (module not found)","body":"<p>i have a question about Mavenbuilds. I wanted to try to make a little javafx testprogram in a mavenbuild in Eclipse IDE, i am using JavaSE 18 and JavaFX 19. so now if i want to run-&gt; Maven build... and set the goal &quot;clean javafx:run&quot; i get this Failure / Error message:</p>\n<pre><code>[[1;34mINFO[m] Scanning for projects...\n[[1;34mINFO[m] \n[[1;34mINFO[m] [1m---------------------&lt; [0;36morg.openjfx:HauserProgram[0;1m &gt;----------------------[m\n[[1;34mINFO[m] [1mBuilding HauserProgram 0.0.1-SNAPSHOT[m\n[[1;34mINFO[m] [1m--------------------------------[ jar ]---------------------------------[m\n[[1;34mINFO[m] \n[[1;34mINFO[m] [1m--- [0;32mmaven-clean-plugin:2.5:clean[m [1m(default-clean)[m @ [36mHauserProgram[0;1m ---[m\n[[1;34mINFO[m] Deleting D:\\eclipse-workspace\\javafxmav\\target\n[[1;34mINFO[m] \n[[1;34mINFO[m] [1m&gt;&gt;&gt; [0;32mjavafx-maven-plugin:0.0.8:run[m [1m(default-cli)[0;1m &gt; [0;1mprocess-classes[m @ [36mHauserProgram[0;1m &gt;&gt;&gt;[m\n[[1;34mINFO[m] \n[[1;34mINFO[m] [1m--- [0;32mmaven-resources-plugin:2.6:resources[m [1m(default-resources)[m @ [36mHauserProgram[0;1m ---[m\n[[1;34mINFO[m] Using 'UTF-8' encoding to copy filtered resources.\n[[1;34mINFO[m] Copying 3 resources\n[[1;34mINFO[m] \n[[1;34mINFO[m] [1m--- [0;32mmaven-compiler-plugin:3.1:compile[m [1m(default-compile)[m @ [36mHauserProgram[0;1m ---[m\n[[1;34mINFO[m] Changes detected - recompiling the module!\n[[1;34mINFO[m] Compiling 6 source files to D:\\eclipse-workspace\\javafxmav\\target\\classes\n[[1;34mINFO[m] -------------------------------------------------------------\n[[1;31mERROR[m] COMPILATION ERROR : \n[[1;34mINFO[m] -------------------------------------------------------------\n[[1;31mERROR[m] /D:/eclipse-workspace/javafxmav/src/main/java/module-info.java:[6,24] module not found: javafx.base\n[[1;31mERROR[m] /D:/eclipse-workspace/javafxmav/src/main/java/module-info.java:[7,24] module not found: javafx.controls\n[[1;31mERROR[m] /D:/eclipse-workspace/javafxmav/src/main/java/module-info.java:[8,35] module not found: javafx.fxml\n[[1;31mERROR[m] /D:/eclipse-workspace/javafxmav/src/main/java/module-info.java:[9,35] module not found: javafx.graphics\n[[1;31mERROR[m] /D:/eclipse-workspace/javafxmav/src/main/java/module-info.java:[11,32] module not found: org.apache.poi.poi\n[[1;34mINFO[m] 5 errors \n[[1;34mINFO[m] -------------------------------------------------------------\n[[1;34mINFO[m] [1m------------------------------------------------------------------------[m\n[[1;34mINFO[m] [1;31mBUILD FAILURE[m\n[[1;34mINFO[m] [1m------------------------------------------------------------------------[m\n[[1;34mINFO[m] Total time:  0.683 s\n[[1;34mINFO[m] Finished at: 2022-11-01T12:45:40+01:00\n[[1;34mINFO[m] [1m------------------------------------------------------------------------[m\n[[1;31mERROR[m] Failed to execute goal [32morg.apache.maven.plugins:maven-compiler-plugin:3.1:compile[m [1m(default-compile)[m on project [36mHauserProgram[m: [1;31mCompilation failure[m: Compilation failure: \n[[1;31mERROR[m] /D:/eclipse-workspace/javafxmav/src/main/java/module-info.java:[6,24] module not found: javafx.base\n[[1;31mERROR[m] /D:/eclipse-workspace/javafxmav/src/main/java/module-info.java:[7,24] module not found: javafx.controls\n[[1;31mERROR[m] /D:/eclipse-workspace/javafxmav/src/main/java/module-info.java:[8,35] module not found: javafx.fxml\n[[1;31mERROR[m] /D:/eclipse-workspace/javafxmav/src/main/java/module-info.java:[9,35] module not found: javafx.graphics\n[[1;31mERROR[m] /D:/eclipse-workspace/javafxmav/src/main/java/module-info.java:[11,32] module not found: org.apache.poi.poi\n[[1;31mERROR[m] -&gt; [1m[Help 1][m\n[[1;31mERROR[m] \n[[1;31mERROR[m] To see the full stack trace of the errors, re-run Maven with the [1m-e[m switch.\n[[1;31mERROR[m] Re-run Maven using the [1m-X[m switch to enable full debug logging.\n[[1;31mERROR[m] \n[[1;31mERROR[m] For more information about the errors and possible solutions, please read the following articles:\n[[1;31mERROR[m] [1m[Help 1][m http://cwiki.apache.org/confluence/display/MAVEN/MojoFailureException\n</code></pre>\n<p>here is my module-info.java:</p>\n<pre><code>module HauserProgram {\n\n    exports de.hauserwein;\n\n    requires java.sql;\n    requires javafx.base;\n    requires javafx.controls;\n    requires transitive javafx.fxml;\n    requires transitive javafx.graphics;\n    requires java.desktop;\n    requires org.apache.poi.poi;\n\n    opens de.hauserwein to javafx.fxml, javafx.base, javafx.controls, javafx.graphics;\n    \n\n}\n</code></pre>\n<p>and my pom.xml:</p>\n<pre><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n  &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n  &lt;artifactId&gt;HauserProgram&lt;/artifactId&gt;\n  &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n  \n  &lt;properties&gt;\n  &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n &lt;maven.compiler.source&gt;18&lt;/maven.compiler.source&gt;\n &lt;maven.compiler.target&gt;18&lt;/maven.compiler.target&gt;\n&lt;/properties&gt;\n  \n  &lt;dependencies&gt;\n  \n  &lt;dependency&gt;\n  &lt;groupId&gt;mysql&lt;/groupId&gt;\n  &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n  &lt;version&gt;8.0.30&lt;/version&gt;\n  &lt;/dependency&gt;\n  \n  &lt;dependency&gt;\n    &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n    &lt;artifactId&gt;javafx-fxml&lt;/artifactId&gt;\n    &lt;version&gt;18&lt;/version&gt;\n  &lt;/dependency&gt;\n  \n  &lt;dependency&gt;\n    &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\n    &lt;artifactId&gt;poi&lt;/artifactId&gt;\n    &lt;version&gt;5.2.3&lt;/version&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n    &lt;artifactId&gt;log4j-to-slf4j&lt;/artifactId&gt;\n    &lt;version&gt;2.19.0&lt;/version&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\n    &lt;artifactId&gt;poi-ooxml&lt;/artifactId&gt;\n    &lt;version&gt;5.2.3&lt;/version&gt;\n&lt;/dependency&gt;\n\n\n  &lt;/dependencies&gt;\n  \n  \n    \n  &lt;build&gt;\n    &lt;plugins&gt;\n    &lt;plugin&gt;\n        &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n        &lt;artifactId&gt;javafx-maven-plugin&lt;/artifactId&gt;\n        &lt;version&gt;0.0.8&lt;/version&gt;\n        &lt;configuration&gt;\n&lt;mainClass&gt;de.hauserwein/Main.java&lt;/mainClass&gt;\n\n&lt;/configuration&gt;\n    &lt;/plugin&gt;\n    &lt;/plugins&gt;\n  &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>i tried to add the javafx sdk to the buildpath, tested some different javafx versions 18/19 in the pom.xml, and wanted to add org.openjfx to the module-info.java file...</p>\n<p>if i start it with &quot;Run As JavaApplication&quot; it will work, only the export to an runable file wont work.</p>\n"},{"tags":["java","generics","jaxb"],"answers":[{"comments":[{"owner":{"account_id":9558,"reputation":12465,"user_id":17713,"accept_rate":86,"display_name":"Matthias Meid"},"score":0,"creation_date":1278587792,"post_id":3201782,"comment_id":3301251,"body_markdown":"Thank you! Looks nice, though it is slightly redundant. But it seems to be unavoidable...","body":"Thank you! Looks nice, though it is slightly redundant. But it seems to be unavoidable..."}],"tags":[],"owner":{"account_id":36858,"reputation":113744,"user_id":105224,"accept_rate":73,"display_name":"Andreas Dolk"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1278577298,"creation_date":1278577298,"answer_id":3201782,"question_id":3201748,"body_markdown":"This is a possible solution (if you can change MyClass):\r\n\r\n    public class MyClass&lt;T&gt; {\r\n\r\n       private Class&lt;T&gt; clazz;\r\n       public MyClass (Class&lt;T&gt; clazz) {\r\n         this.clazz = clazz;\r\n       }\r\n\r\n       public String getPackageNameOfGenericClass() {\r\n         return clazz.getPackage().getName(); \r\n       }\r\n\r\n    }","title":"Get Package Name of Generic Type Argument","body":"<p>This is a possible solution (if you can change MyClass):</p>\n\n<pre><code>public class MyClass&lt;T&gt; {\n\n   private Class&lt;T&gt; clazz;\n   public MyClass (Class&lt;T&gt; clazz) {\n     this.clazz = clazz;\n   }\n\n   public String getPackageNameOfGenericClass() {\n     return clazz.getPackage().getName(); \n   }\n\n}\n</code></pre>\n"}],"owner":{"account_id":9558,"reputation":12465,"user_id":17713,"accept_rate":86,"display_name":"Matthias Meid"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1051,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":3201782,"answer_count":1,"score":1,"last_activity_date":1667308387,"creation_date":1278576999,"question_id":3201748,"body_markdown":"How can I get the package name (in general, the class) of a generic type argument? I have a class similar to this:\r\n\r\n    public class MyClass&lt;T&gt; {}\r\n\r\nWhat I&#39;d like to do is something like this (non-working pseudo-Java):\r\n\r\n    return T.class.getPackage().getName();\r\n\r\nI need this, since JAXB needs this as the context path (`JAXBContext.newInstance(String)` method). Of course I&#39;m open to more elegant ways of working with `JAXBContext`.","title":"Get Package Name of Generic Type Argument","body":"<p>How can I get the package name (in general, the class) of a generic type argument? I have a class similar to this:</p>\n<pre><code>public class MyClass&lt;T&gt; {}\n</code></pre>\n<p>What I'd like to do is something like this (non-working pseudo-Java):</p>\n<pre><code>return T.class.getPackage().getName();\n</code></pre>\n<p>I need this, since JAXB needs this as the context path (<code>JAXBContext.newInstance(String)</code> method). Of course I'm open to more elegant ways of working with <code>JAXBContext</code>.</p>\n"},{"tags":["java","sql"],"comments":[{"owner":{"display_name":"user6073886"},"score":1,"creation_date":1667307763,"post_id":74276335,"comment_id":131133166,"body_markdown":"&quot;Is there some way to convert single or double digit data into LocalDate?&quot; &lt;- Only if you define clear rules on what the values for year and day should be set to. Like, you never explained to us why &quot;2&quot; should result in &quot;2022-02-01&quot;. Is the year always 2022 and day always 1 or how did you arrive with that result?","body":"&quot;Is there some way to convert single or double digit data into LocalDate?&quot; &lt;- Only if you define clear rules on what the values for year and day should be set to. Like, you never explained to us why &quot;2&quot; should result in &quot;2022-02-01&quot;. Is the year always 2022 and day always 1 or how did you arrive with that result?"},{"owner":{"account_id":370994,"reputation":35154,"user_id":719263,"accept_rate":100,"display_name":"Jean-Baptiste Yun&#232;s"},"score":0,"creation_date":1667307830,"post_id":74276335,"comment_id":131133186,"body_markdown":"Convert the string into `int` (`Integer.parseInt`) and then construct the date using `LocalDate.of(2022,month,1)`. Isn&#39;t it what you want?","body":"Convert the string into <code>int</code> (<code>Integer.parseInt</code>) and then construct the date using <code>LocalDate.of(2022,month,1)</code>. Isn&#39;t it what you want?"}],"answers":[{"tags":[],"owner":{"account_id":26774791,"reputation":826,"user_id":20370596,"display_name":"Christoph Dahlen"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1667308245,"creation_date":1667308245,"answer_id":74276481,"question_id":74276335,"body_markdown":"&gt; I have an application where the users have been able to select a pre-defined set of months from 1 to 12, which is then passed into a string. \r\n\r\nYou should re-consider this unnecessary int-to-string-to-int conversion.\r\n\r\nAnyhow, to create a new LocalDate with year and day of month fixed, month being a parameter (e.g. `monthAsString`):\r\n\r\n    var localDate = LocalDate.of(2022, Integer.parseInt(monthAsString), 1);\r\n\r\nTo change the Month of an existing LocalDate:\r\n\r\n    var localDate = localDate.withMonth(Integer.parseInt(monthAsString));\r\n\r\nBe aware that you need to check for\r\n\r\n- monthString being null\r\n- monthString being not parseable into an int\r\n- parsed monthString is out-of-range [1,12]\r\n- parsed month string will result in an invalid date like 31.02.2022\r\n\r\n","title":"Converting a single and two digit string into a LocalDate Format","body":"<blockquote>\n<p>I have an application where the users have been able to select a pre-defined set of months from 1 to 12, which is then passed into a string.</p>\n</blockquote>\n<p>You should re-consider this unnecessary int-to-string-to-int conversion.</p>\n<p>Anyhow, to create a new LocalDate with year and day of month fixed, month being a parameter (e.g. <code>monthAsString</code>):</p>\n<pre><code>var localDate = LocalDate.of(2022, Integer.parseInt(monthAsString), 1);\n</code></pre>\n<p>To change the Month of an existing LocalDate:</p>\n<pre><code>var localDate = localDate.withMonth(Integer.parseInt(monthAsString));\n</code></pre>\n<p>Be aware that you need to check for</p>\n<ul>\n<li>monthString being null</li>\n<li>monthString being not parseable into an int</li>\n<li>parsed monthString is out-of-range [1,12]</li>\n<li>parsed month string will result in an invalid date like 31.02.2022</li>\n</ul>\n"}],"owner":{"account_id":20887881,"reputation":85,"user_id":15344037,"display_name":"Cphml444"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1667308245,"creation_date":1667307535,"question_id":74276335,"body_markdown":"I have an application where the users have been able to select a pre-defined set of months from 1 to 12, which is then passed into a string.\r\nNow I would like to convert that string into LocalDate, but I don&#39;t want my users to lose the data that has already been saved in the database. Is there some way to convert single or double digit data into LocalDate?\r\n\r\nEg. if the user has previously entered &quot;2&quot;, then that data needs to be changed to 2022-02-01. If the user has previously entered &quot;10&quot; then this will be changed to 2022-10-01 and so on.\r\n\r\nI am familiar with the formatting itself \r\n\r\n\r\n    import java.time.LocalDate;\r\n    import java.time.format.DateTimeFormatter;\r\n    \r\n    public class LocalDateExample1_ISO_LOCAL_DATE {\r\n    \r\n        public static void main(String[] args) {\r\n    \r\n            DateTimeFormatter formatter = DateTimeFormatter.ISO_LOCAL_DATE;\r\n            String date = &quot;2019-10-12&quot;;\r\n            LocalDate localDate = LocalDate.parse(date, formatter);\r\n    \r\n            System.out.println(date);\r\n            System.out.println(localDate);\r\n            System.out.println(formatter.format(localDate));\r\n        }\r\n    }\r\n\r\n","title":"Converting a single and two digit string into a LocalDate Format","body":"<p>I have an application where the users have been able to select a pre-defined set of months from 1 to 12, which is then passed into a string.\nNow I would like to convert that string into LocalDate, but I don't want my users to lose the data that has already been saved in the database. Is there some way to convert single or double digit data into LocalDate?</p>\n<p>Eg. if the user has previously entered &quot;2&quot;, then that data needs to be changed to 2022-02-01. If the user has previously entered &quot;10&quot; then this will be changed to 2022-10-01 and so on.</p>\n<p>I am familiar with the formatting itself</p>\n<pre><code>import java.time.LocalDate;\nimport java.time.format.DateTimeFormatter;\n\npublic class LocalDateExample1_ISO_LOCAL_DATE {\n\n    public static void main(String[] args) {\n\n        DateTimeFormatter formatter = DateTimeFormatter.ISO_LOCAL_DATE;\n        String date = &quot;2019-10-12&quot;;\n        LocalDate localDate = LocalDate.parse(date, formatter);\n\n        System.out.println(date);\n        System.out.println(localDate);\n        System.out.println(formatter.format(localDate));\n    }\n}\n</code></pre>\n"},{"tags":["java","c#"],"answers":[{"comments":[{"owner":{"account_id":19118721,"reputation":6319,"user_id":13963086,"display_name":"k314159"},"score":1,"creation_date":1667297734,"post_id":74274246,"comment_id":131129948,"body_markdown":"It&#39;s not `Character.getNumericValue` - that returns 0 for &#39;0&#39;, but what the OP wants is to return 48 (the Unicode value) for &#39;0&#39;. That&#39;s done with `(int) char value`.","body":"It&#39;s not <code>Character.getNumericValue</code> - that returns 0 for &#39;0&#39;, but what the OP wants is to return 48 (the Unicode value) for &#39;0&#39;. That&#39;s done with <code>(int) char value</code>."},{"owner":{"account_id":11673334,"reputation":21,"user_id":8547718,"display_name":"Suraj Verma"},"score":0,"creation_date":1667299077,"post_id":74274246,"comment_id":131130397,"body_markdown":"hi @k314159 , (int)char value, will work for me. but i need result in uint, uint is basically unsigned integer which has a range from 0 to 4,294,967,295.","body":"hi @k314159 , (int)char value, will work for me. but i need result in uint, uint is basically unsigned integer which has a range from 0 to 4,294,967,295."},{"owner":{"account_id":19118721,"reputation":6319,"user_id":13963086,"display_name":"k314159"},"score":0,"creation_date":1667299538,"post_id":74274246,"comment_id":131130544,"body_markdown":"@SurajVerma unfortunately there is no such thing as a uint in Java.","body":"@SurajVerma unfortunately there is no such thing as a uint in Java."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1667300126,"post_id":74274246,"comment_id":131130719,"body_markdown":"Why do you think you need an unsigned int?","body":"Why do you think you need an unsigned int?"},{"owner":{"account_id":11673334,"reputation":21,"user_id":8547718,"display_name":"Suraj Verma"},"score":1,"creation_date":1667306847,"post_id":74274246,"comment_id":131132838,"body_markdown":"@k314159 look like there is no such thing uint in java, so im goint with &quot;(int) char value&quot;","body":"@k314159 look like there is no such thing uint in java, so im goint with &quot;(int) char value&quot;"},{"owner":{"account_id":20052008,"reputation":126,"user_id":17071165,"display_name":"figgyfarts"},"score":0,"creation_date":1667308039,"post_id":74274246,"comment_id":131133279,"body_markdown":"@k31459 apologies for this mistake, I have edited my answer to only include the type cast to int.","body":"@k31459 apologies for this mistake, I have edited my answer to only include the type cast to int."}],"tags":[],"owner":{"account_id":20052008,"reputation":126,"user_id":17071165,"display_name":"figgyfarts"},"comment_count":6,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1667307950,"creation_date":1667297075,"answer_id":74274246,"question_id":74274196,"body_markdown":"I think what you are looking for is **(int) char value**","title":"How to convert &quot;Convert.ToUInt32(char value)&quot; of C# to Java","body":"<p>I think what you are looking for is <strong>(int) char value</strong></p>\n"},{"tags":[],"owner":{"account_id":19118721,"reputation":6319,"user_id":13963086,"display_name":"k314159"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1667297655,"creation_date":1667297655,"answer_id":74274379,"question_id":74274196,"body_markdown":"Java doesn&#39;t have a type equivalent to UInt. The C# function `Convert.ToUInt32(char value)` converts the Unicode value of its argument to a `UInt32`. The closest you can get to that in Java is `(int) value`. This will give you the value converted from `char` to `int` and will always be a positive value.","title":"How to convert &quot;Convert.ToUInt32(char value)&quot; of C# to Java","body":"<p>Java doesn't have a type equivalent to UInt. The C# function <code>Convert.ToUInt32(char value)</code> converts the Unicode value of its argument to a <code>UInt32</code>. The closest you can get to that in Java is <code>(int) value</code>. This will give you the value converted from <code>char</code> to <code>int</code> and will always be a positive value.</p>\n"}],"owner":{"account_id":11673334,"reputation":21,"user_id":8547718,"display_name":"Suraj Verma"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":95,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":74274379,"answer_count":2,"score":0,"last_activity_date":1667307950,"creation_date":1667296815,"question_id":74274196,"body_markdown":"I need to convert **Convert.ToUInt32(char value)** code to java. this function return uint value in C# same implementation i need for java.\r\n\r\nI have done bit google work but didnt get expected output.","title":"How to convert &quot;Convert.ToUInt32(char value)&quot; of C# to Java","body":"<p>I need to convert <strong>Convert.ToUInt32(char value)</strong> code to java. this function return uint value in C# same implementation i need for java.</p>\n<p>I have done bit google work but didnt get expected output.</p>\n"},{"tags":["java","android","android-studio"],"answers":[{"tags":[],"owner":{"account_id":39846,"reputation":991173,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1480344302,"creation_date":1480344302,"answer_id":40847011,"question_id":40846938,"body_markdown":"&gt; Can any one help me what should i do? \r\n\r\nUninstall the existing app.\r\n\r\n&gt; can i modify the debug.keystore with the old sha1 ?\r\n\r\nNo.\r\n","title":"Android App Not Install. An existing package by the same name","body":"<blockquote>\n  <p>Can any one help me what should i do? </p>\n</blockquote>\n\n<p>Uninstall the existing app.</p>\n\n<blockquote>\n  <p>can i modify the debug.keystore with the old sha1 ?</p>\n</blockquote>\n\n<p>No.</p>\n"},{"tags":[],"owner":{"account_id":321908,"reputation":5944,"user_id":641020,"accept_rate":75,"display_name":"J.G.Sebring"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1480344919,"creation_date":1480344919,"answer_id":40847230,"question_id":40846938,"body_markdown":"You will not be able to publish an update on Google Play if the app is signed by a different keystore than the one first published. You&#39;ll need to change the package name, resulting in a new app on Google Play.\r\n\r\nIf the old app isn&#39;t published just go ahead and uninstall the old app to be able to install the new.","title":"Android App Not Install. An existing package by the same name","body":"<p>You will not be able to publish an update on Google Play if the app is signed by a different keystore than the one first published. You'll need to change the package name, resulting in a new app on Google Play.</p>\n\n<p>If the old app isn't published just go ahead and uninstall the old app to be able to install the new.</p>\n"},{"tags":[],"owner":{"account_id":13300081,"reputation":1,"user_id":9601836,"display_name":"Arshad Ali"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667307741,"creation_date":1661246657,"answer_id":73456189,"question_id":40846938,"body_markdown":"Hi I had Shared the steps, It will definitely resolve the issue regarding Unity Android App Not Installed\r\n\r\n 1. UnInstall Existing App\r\n 2. Check is you bundle identifier is same with previous build\r\n 3. PlayerSettings &gt; Enable build il2cpp Armv7 and 64bit build and donot split the build\r\n 4. Assign the keystore and assign password\r\n 5. Set the player setting SDK Card to Automatic\r\n 6. Make Sure your previous build is assigned with same keystore\r\n 7. Target Api Level should be Equal or greater than previous one","title":"Android App Not Install. An existing package by the same name","body":"<p>Hi I had Shared the steps, It will definitely resolve the issue regarding Unity Android App Not Installed</p>\n<ol>\n<li>UnInstall Existing App</li>\n<li>Check is you bundle identifier is same with previous build</li>\n<li>PlayerSettings &gt; Enable build il2cpp Armv7 and 64bit build and donot split the build</li>\n<li>Assign the keystore and assign password</li>\n<li>Set the player setting SDK Card to Automatic</li>\n<li>Make Sure your previous build is assigned with same keystore</li>\n<li>Target Api Level should be Equal or greater than previous one</li>\n</ol>\n"}],"owner":{"account_id":9330186,"reputation":1,"user_id":6926169,"display_name":"SAM"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":373,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1667307741,"creation_date":1480344107,"question_id":40846938,"body_markdown":"i have lost my old debug.keystore file and i generated a new one, when i build my new apk and i want to update the old one in my phone it show me &quot;Android App Not Install. An existing package by the same name&quot;.\r\n\r\n\r\nCan any one help me what should i do? can i modify the debug.keystore with the old  sha1 ???\r\n","title":"Android App Not Install. An existing package by the same name","body":"<p>i have lost my old debug.keystore file and i generated a new one, when i build my new apk and i want to update the old one in my phone it show me \"Android App Not Install. An existing package by the same name\".</p>\n\n<p>Can any one help me what should i do? can i modify the debug.keystore with the old  sha1 ???</p>\n"},{"tags":["java","java-web-start","java-ws"],"owner":{"account_id":4602931,"reputation":541,"user_id":3733164,"accept_rate":71,"display_name":"user3733164"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":519,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1667307563,"creation_date":1667307563,"question_id":74276340,"body_markdown":"I&#39;m trying to open a jnlp file, but I have the next error:\r\n\r\n  \r\n\r\n&gt; selected jre: /usr/lib/jvm/default-java WARNING: package javax.jnlp\r\n&gt; not in java.desktop selected jre: /usr/lib/jvm/default-java WARNING:\r\n&gt; package javax.jnlp not in java.desktop java.util.zip.ZipException: zip\r\n&gt; END header not found \tat\r\n&gt; java.base/java.util.zip.ZipFile$Source.zerror(ZipFile.java:1607) \tat\r\n&gt; java.base/java.util.zip.ZipFile$Source.findEND(ZipFile.java:1497) \tat\r\n&gt; java.base/java.util.zip.ZipFile$Source.initCEN(ZipFile.java:1504) \tat\r\n&gt; java.base/java.util.zip.ZipFile$Source.&lt;init&gt;(ZipFile.java:1308) \tat\r\n&gt; java.base/java.util.zip.ZipFile$Source.get(ZipFile.java:1271) \tat\r\n&gt; java.base/java.util.zip.ZipFile$CleanableResource.&lt;init&gt;(ZipFile.java:733)\r\n&gt; \tat\r\n&gt; java.base/java.util.zip.ZipFile$CleanableResource.get(ZipFile.java:850)\r\n&gt; \tat java.base/java.util.zip.ZipFile.&lt;init&gt;(ZipFile.java:248) \tat\r\n&gt; java.base/java.util.zip.ZipFile.&lt;init&gt;(ZipFile.java:177) \tat\r\n&gt; java.base/java.util.jar.JarFile.&lt;init&gt;(JarFile.java:350) \tat\r\n&gt; java.base/java.util.jar.JarFile.&lt;init&gt;(JarFile.java:321) \tat\r\n&gt; java.base/java.util.jar.JarFile.&lt;init&gt;(JarFile.java:274) \tat\r\n&gt; net.sourceforge.jnlp.util.JarFile.&lt;init&gt;(JarFile.java:60) \tat\r\n&gt; net.sourceforge.jnlp.tools.JarCertVerifier.verifyJar(JarCertVerifier.java:275)\r\n&gt; \tat\r\n&gt; net.sourceforge.jnlp.tools.JarCertVerifier.verifyJars(JarCertVerifier.java:245)\r\n&gt; \tat\r\n&gt; net.sourceforge.jnlp.tools.JarCertVerifier.add(JarCertVerifier.java:211)\r\n&gt; \tat\r\n&gt; net.sourceforge.jnlp.runtime.JNLPClassLoader.initializeResources(JNLPClassLoader.java:732)\r\n&gt; \tat\r\n&gt; net.sourceforge.jnlp.runtime.JNLPClassLoader.&lt;init&gt;(JNLPClassLoader.java:338)\r\n&gt; \tat\r\n&gt; net.sourceforge.jnlp.runtime.JNLPClassLoader.createInstance(JNLPClassLoader.java:421)\r\n&gt; \tat\r\n&gt; net.sourceforge.jnlp.runtime.JNLPClassLoader.getInstance(JNLPClassLoader.java:495)\r\n&gt; \tat\r\n&gt; net.sourceforge.jnlp.runtime.JNLPClassLoader.getInstance(JNLPClassLoader.java:468)\r\n&gt; \tat net.sourceforge.jnlp.Launcher.createApplication(Launcher.java:814)\r\n&gt; \tat net.sourceforge.jnlp.Launcher.launchApplication(Launcher.java:531)\r\n&gt; \tat net.sourceforge.jnlp.Launcher$TgThread.run(Launcher.java:945)\r\n&gt; \r\n&gt; java.util.zip.ZipException: zip END header not found \tat\r\n&gt; java.base/java.util.zip.ZipFile$Source.zerror(ZipFile.java:1607) \tat\r\n&gt; java.base/java.util.zip.ZipFile$Source.findEND(ZipFile.java:1497) \tat\r\n&gt; java.base/java.util.zip.ZipFile$Source.initCEN(ZipFile.java:1504) \tat\r\n&gt; java.base/java.util.zip.ZipFile$Source.&lt;init&gt;(ZipFile.java:1308) \tat\r\n&gt; java.base/java.util.zip.ZipFile$Source.get(ZipFile.java:1271) \tat\r\n&gt; java.base/java.util.zip.ZipFile$CleanableResource.&lt;init&gt;(ZipFile.java:733)\r\n&gt; \tat\r\n&gt; java.base/java.util.zip.ZipFile$CleanableResource.get(ZipFile.java:850)\r\n&gt; \tat java.base/java.util.zip.ZipFile.&lt;init&gt;(ZipFile.java:248) \tat\r\n&gt; java.base/java.util.zip.ZipFile.&lt;init&gt;(ZipFile.java:177) \tat\r\n&gt; java.base/java.util.jar.JarFile.&lt;init&gt;(JarFile.java:350) \tat\r\n&gt; java.base/java.util.jar.JarFile.&lt;init&gt;(JarFile.java:321) \tat\r\n&gt; java.base/java.util.jar.JarFile.&lt;init&gt;(JarFile.java:274) \tat\r\n&gt; net.sourceforge.jnlp.util.JarFile.&lt;init&gt;(JarFile.java:60) \tat\r\n&gt; net.sourceforge.jnlp.tools.JarCertVerifier.verifyJar(JarCertVerifier.java:275)\r\n&gt; \tat\r\n&gt; net.sourceforge.jnlp.tools.JarCertVerifier.verifyJars(JarCertVerifier.java:245)\r\n&gt; \tat\r\n&gt; net.sourceforge.jnlp.tools.JarCertVerifier.add(JarCertVerifier.java:211)\r\n&gt; \tat\r\n&gt; net.sourceforge.jnlp.runtime.JNLPClassLoader.initializeResources(JNLPClassLoader.java:732)\r\n&gt; \tat\r\n&gt; net.sourceforge.jnlp.runtime.JNLPClassLoader.&lt;init&gt;(JNLPClassLoader.java:338)\r\n&gt; \tat\r\n&gt; net.sourceforge.jnlp.runtime.JNLPClassLoader.createInstance(JNLPClassLoader.java:421)\r\n&gt; \tat\r\n&gt; net.sourceforge.jnlp.runtime.JNLPClassLoader.getInstance(JNLPClassLoader.java:495)\r\n&gt; \tat\r\n&gt; net.sourceforge.jnlp.runtime.JNLPClassLoader.getInstance(JNLPClassLoader.java:468)\r\n&gt; \tat net.sourceforge.jnlp.Launcher.createApplication(Launcher.java:814)\r\n&gt; \tat net.sourceforge.jnlp.Launcher.launchApplication(Launcher.java:531)\r\n&gt; \tat net.sourceforge.jnlp.Launcher$TgThread.run(Launcher.java:945)\r\n&gt; \r\n&gt; netx: Initialization Error: Could not initialize application. (Fatal:\r\n&gt; Initialization Error: A fatal error occurred while trying to verify\r\n&gt; jars. An exception has been thrown in class JarCertVerifier. Being\r\n&gt; unable to read the cacerts or trusted.certs files could be a possible\r\n&gt; cause for this exception.: zip END header not found)\r\n&gt; net.sourceforge.jnlp.LaunchException: Fatal: Initialization Error:\r\n&gt; Could not initialize application. The application has not been\r\n&gt; initialized, for more information execute javaws from the command\r\n&gt; line. \tat\r\n&gt; net.sourceforge.jnlp.Launcher.createApplication(Launcher.java:822) \tat\r\n&gt; net.sourceforge.jnlp.Launcher.launchApplication(Launcher.java:531) \tat\r\n&gt; net.sourceforge.jnlp.Launcher$TgThread.run(Launcher.java:945) Caused\r\n&gt; by: net.sourceforge.jnlp.LaunchException: Fatal: Initialization Error:\r\n&gt; A fatal error occurred while trying to verify jars. An exception has\r\n&gt; been thrown in class JarCertVerifier. Being unable to read the cacerts\r\n&gt; or trusted.certs files could be a possible cause for this exception.:\r\n&gt; zip END header not found \tat\r\n&gt; net.sourceforge.jnlp.runtime.JNLPClassLoader.initializeResources(JNLPClassLoader.java:739)\r\n&gt; \tat\r\n&gt; net.sourceforge.jnlp.runtime.JNLPClassLoader.&lt;init&gt;(JNLPClassLoader.java:338)\r\n&gt; \tat\r\n&gt; net.sourceforge.jnlp.runtime.JNLPClassLoader.createInstance(JNLPClassLoader.java:421)\r\n&gt; \tat\r\n&gt; net.sourceforge.jnlp.runtime.JNLPClassLoader.getInstance(JNLPClassLoader.java:495)\r\n&gt; \tat\r\n&gt; net.sourceforge.jnlp.runtime.JNLPClassLoader.getInstance(JNLPClassLoader.java:468)\r\n&gt; \tat net.sourceforge.jnlp.Launcher.createApplication(Launcher.java:814)\r\n&gt; \t... 2 more\r\n\r\n\r\n\r\nMy PC is running under Linux Mint 20. \r\nThe ouput of my java version:\r\n\r\n    java --version \r\n    openjdk 11.0.16 2022-07-19\r\n    OpenJDK Runtime Environment (build 11.0.16+8-post-Ubuntu-0ubuntu120.04)\r\n    OpenJDK 64-Bit Server VM (build 11.0.16+8-post-Ubuntu-0ubuntu120.04, mixed mode, sharing)\r\n\r\nDoing `javaws --viewer` I have import my CA Certificate","title":"Error: A fatal error occurred while trying to verify jars. An exception has been thrown in class JarCertVerifier. (javaws and jnlp files)","body":"<p>I'm trying to open a jnlp file, but I have the next error:</p>\n<blockquote>\n<p>selected jre: /usr/lib/jvm/default-java WARNING: package javax.jnlp\nnot in java.desktop selected jre: /usr/lib/jvm/default-java WARNING:\npackage javax.jnlp not in java.desktop java.util.zip.ZipException: zip\nEND header not found  at\njava.base/java.util.zip.ZipFile$Source.zerror(ZipFile.java:1607)  at\njava.base/java.util.zip.ZipFile$Source.findEND(ZipFile.java:1497)     at\njava.base/java.util.zip.ZipFile$Source.initCEN(ZipFile.java:1504)     at\njava.base/java.util.zip.ZipFile$Source.(ZipFile.java:1308)  at\njava.base/java.util.zip.ZipFile$Source.get(ZipFile.java:1271)     at\njava.base/java.util.zip.ZipFile$CleanableResource.(ZipFile.java:733)\nat\njava.base/java.util.zip.ZipFile$CleanableResource.get(ZipFile.java:850)\nat java.base/java.util.zip.ZipFile.(ZipFile.java:248)     at\njava.base/java.util.zip.ZipFile.(ZipFile.java:177)  at\njava.base/java.util.jar.JarFile.(JarFile.java:350)  at\njava.base/java.util.jar.JarFile.(JarFile.java:321)  at\njava.base/java.util.jar.JarFile.(JarFile.java:274)  at\nnet.sourceforge.jnlp.util.JarFile.(JarFile.java:60)     at\nnet.sourceforge.jnlp.tools.JarCertVerifier.verifyJar(JarCertVerifier.java:275)\nat\nnet.sourceforge.jnlp.tools.JarCertVerifier.verifyJars(JarCertVerifier.java:245)\nat\nnet.sourceforge.jnlp.tools.JarCertVerifier.add(JarCertVerifier.java:211)\nat\nnet.sourceforge.jnlp.runtime.JNLPClassLoader.initializeResources(JNLPClassLoader.java:732)\nat\nnet.sourceforge.jnlp.runtime.JNLPClassLoader.(JNLPClassLoader.java:338)\nat\nnet.sourceforge.jnlp.runtime.JNLPClassLoader.createInstance(JNLPClassLoader.java:421)\nat\nnet.sourceforge.jnlp.runtime.JNLPClassLoader.getInstance(JNLPClassLoader.java:495)\nat\nnet.sourceforge.jnlp.runtime.JNLPClassLoader.getInstance(JNLPClassLoader.java:468)\nat net.sourceforge.jnlp.Launcher.createApplication(Launcher.java:814)\nat net.sourceforge.jnlp.Launcher.launchApplication(Launcher.java:531)\nat net.sourceforge.jnlp.Launcher$TgThread.run(Launcher.java:945)</p>\n<p>java.util.zip.ZipException: zip END header not found  at\njava.base/java.util.zip.ZipFile$Source.zerror(ZipFile.java:1607)  at\njava.base/java.util.zip.ZipFile$Source.findEND(ZipFile.java:1497)     at\njava.base/java.util.zip.ZipFile$Source.initCEN(ZipFile.java:1504)     at\njava.base/java.util.zip.ZipFile$Source.(ZipFile.java:1308)  at\njava.base/java.util.zip.ZipFile$Source.get(ZipFile.java:1271)     at\njava.base/java.util.zip.ZipFile$CleanableResource.(ZipFile.java:733)\nat\njava.base/java.util.zip.ZipFile$CleanableResource.get(ZipFile.java:850)\nat java.base/java.util.zip.ZipFile.(ZipFile.java:248)     at\njava.base/java.util.zip.ZipFile.(ZipFile.java:177)  at\njava.base/java.util.jar.JarFile.(JarFile.java:350)  at\njava.base/java.util.jar.JarFile.(JarFile.java:321)  at\njava.base/java.util.jar.JarFile.(JarFile.java:274)  at\nnet.sourceforge.jnlp.util.JarFile.(JarFile.java:60)     at\nnet.sourceforge.jnlp.tools.JarCertVerifier.verifyJar(JarCertVerifier.java:275)\nat\nnet.sourceforge.jnlp.tools.JarCertVerifier.verifyJars(JarCertVerifier.java:245)\nat\nnet.sourceforge.jnlp.tools.JarCertVerifier.add(JarCertVerifier.java:211)\nat\nnet.sourceforge.jnlp.runtime.JNLPClassLoader.initializeResources(JNLPClassLoader.java:732)\nat\nnet.sourceforge.jnlp.runtime.JNLPClassLoader.(JNLPClassLoader.java:338)\nat\nnet.sourceforge.jnlp.runtime.JNLPClassLoader.createInstance(JNLPClassLoader.java:421)\nat\nnet.sourceforge.jnlp.runtime.JNLPClassLoader.getInstance(JNLPClassLoader.java:495)\nat\nnet.sourceforge.jnlp.runtime.JNLPClassLoader.getInstance(JNLPClassLoader.java:468)\nat net.sourceforge.jnlp.Launcher.createApplication(Launcher.java:814)\nat net.sourceforge.jnlp.Launcher.launchApplication(Launcher.java:531)\nat net.sourceforge.jnlp.Launcher$TgThread.run(Launcher.java:945)</p>\n<p>netx: Initialization Error: Could not initialize application. (Fatal:\nInitialization Error: A fatal error occurred while trying to verify\njars. An exception has been thrown in class JarCertVerifier. Being\nunable to read the cacerts or trusted.certs files could be a possible\ncause for this exception.: zip END header not found)\nnet.sourceforge.jnlp.LaunchException: Fatal: Initialization Error:\nCould not initialize application. The application has not been\ninitialized, for more information execute javaws from the command\nline.     at\nnet.sourceforge.jnlp.Launcher.createApplication(Launcher.java:822)    at\nnet.sourceforge.jnlp.Launcher.launchApplication(Launcher.java:531)    at\nnet.sourceforge.jnlp.Launcher$TgThread.run(Launcher.java:945) Caused\nby: net.sourceforge.jnlp.LaunchException: Fatal: Initialization Error:\nA fatal error occurred while trying to verify jars. An exception has\nbeen thrown in class JarCertVerifier. Being unable to read the cacerts\nor trusted.certs files could be a possible cause for this exception.:\nzip END header not found  at\nnet.sourceforge.jnlp.runtime.JNLPClassLoader.initializeResources(JNLPClassLoader.java:739)\nat\nnet.sourceforge.jnlp.runtime.JNLPClassLoader.(JNLPClassLoader.java:338)\nat\nnet.sourceforge.jnlp.runtime.JNLPClassLoader.createInstance(JNLPClassLoader.java:421)\nat\nnet.sourceforge.jnlp.runtime.JNLPClassLoader.getInstance(JNLPClassLoader.java:495)\nat\nnet.sourceforge.jnlp.runtime.JNLPClassLoader.getInstance(JNLPClassLoader.java:468)\nat net.sourceforge.jnlp.Launcher.createApplication(Launcher.java:814)\n... 2 more</p>\n</blockquote>\n<p>My PC is running under Linux Mint 20.\nThe ouput of my java version:</p>\n<pre><code>java --version \nopenjdk 11.0.16 2022-07-19\nOpenJDK Runtime Environment (build 11.0.16+8-post-Ubuntu-0ubuntu120.04)\nOpenJDK 64-Bit Server VM (build 11.0.16+8-post-Ubuntu-0ubuntu120.04, mixed mode, sharing)\n</code></pre>\n<p>Doing <code>javaws --viewer</code> I have import my CA Certificate</p>\n"},{"tags":["java","intellij-idea","yaml","spring-kafka"],"answers":[{"comments":[{"owner":{"account_id":10763711,"reputation":323,"user_id":7919401,"display_name":"Ilan Miller"},"score":0,"creation_date":1651127118,"post_id":72015120,"comment_id":127289755,"body_markdown":"Hi Gary, in this image you can see that I&#39;m getting a warning that this property is deprecated.","body":"Hi Gary, in this image you can see that I&#39;m getting a warning that this property is deprecated."},{"owner":{"account_id":1288095,"reputation":169336,"user_id":1240763,"display_name":"Gary Russell"},"score":0,"creation_date":1651152205,"post_id":72015120,"comment_id":127299258,"body_markdown":"You should edit your question, not my answer. Perhaps a bug in your IDE? I added what IntelliJ shows; it also shows with a strikeout for me, until I added the `active` line.","body":"You should edit your question, not my answer. Perhaps a bug in your IDE? I added what IntelliJ shows; it also shows with a strikeout for me, until I added the <code>active</code> line."}],"tags":[],"owner":{"account_id":1288095,"reputation":169336,"user_id":1240763,"display_name":"Gary Russell"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1651152139,"creation_date":1650980907,"answer_id":72015120,"question_id":72013986,"body_markdown":"I think you are confusing `spring.profiles.active` (which is not deprecated https://docs.spring.io/spring-boot/docs/current/reference/html/application-properties.html#application-properties.core.spring.profiles.active) with `spring.profiles` in a yaml document within the yaml file.\r\n\r\n```yaml\r\nspring:\r\n  profiles:\r\n    active: dev\r\n---\r\nspring:\r\n  config:\r\n    activate:\r\n      on-profile: dev\r\n  kafka:\r\n    template:\r\n      default-topic: devTopic\r\n...\r\n---\r\nspring:\r\n  config:\r\n    activate:\r\n      on-profile: prod\r\n  kafka:\r\n    template:\r\n      default-topic: prodTopic\r\n...\r\n```\r\n\r\nVs.\r\n\r\n```yaml\r\nspring:\r\n  profiles:\r\n    active: local\r\n---\r\nspring:\r\n  profiles: dev # deprecated\r\n  kafka:\r\n    template:\r\n      default-topic: devTopic\r\n...\r\n---\r\nspring:\r\n  profiles: prod # deprecated\r\n  kafka:\r\n    template:\r\n      default-topic: prodTopic\r\n...\r\n```\r\nIntelliJ IDEA:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/FJkNZ.png","title":"Profiles property is deprecated is properties.yml for Spring-Kafka","body":"<p>I think you are confusing <code>spring.profiles.active</code> (which is not deprecated <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/application-properties.html#application-properties.core.spring.profiles.active\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-boot/docs/current/reference/html/application-properties.html#application-properties.core.spring.profiles.active</a>) with <code>spring.profiles</code> in a yaml document within the yaml file.</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>spring:\n  profiles:\n    active: dev\n---\nspring:\n  config:\n    activate:\n      on-profile: dev\n  kafka:\n    template:\n      default-topic: devTopic\n...\n---\nspring:\n  config:\n    activate:\n      on-profile: prod\n  kafka:\n    template:\n      default-topic: prodTopic\n...\n</code></pre>\n<p>Vs.</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>spring:\n  profiles:\n    active: local\n---\nspring:\n  profiles: dev # deprecated\n  kafka:\n    template:\n      default-topic: devTopic\n...\n---\nspring:\n  profiles: prod # deprecated\n  kafka:\n    template:\n      default-topic: prodTopic\n...\n</code></pre>\n<p>IntelliJ IDEA:</p>\n<p><a href=\"https://i.stack.imgur.com/FJkNZ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/FJkNZ.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":11179248,"reputation":11910,"user_id":8203759,"display_name":"Konstantin Annikov"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1651414822,"creation_date":1651414822,"answer_id":72077527,"question_id":72013986,"body_markdown":"This is a false-positive deprecation warning. This will be fixed in 2022.1.1 version of IntelliJ IDEA. See https://youtrack.jetbrains.com/issue/IDEA-291799/Spring-Boot:-false-positive-deprecation-mark-in-YAML-for-&#39;spring","title":"Profiles property is deprecated is properties.yml for Spring-Kafka","body":"<p>This is a false-positive deprecation warning. This will be fixed in 2022.1.1 version of IntelliJ IDEA. See <a href=\"https://youtrack.jetbrains.com/issue/IDEA-291799/Spring-Boot:-false-positive-deprecation-mark-in-YAML-for-%27spring\" rel=\"nofollow noreferrer\">https://youtrack.jetbrains.com/issue/IDEA-291799/Spring-Boot:-false-positive-deprecation-mark-in-YAML-for-'spring</a></p>\n"},{"tags":[],"owner":{"account_id":19908331,"reputation":23,"user_id":14586857,"display_name":"engineerdavut"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667307511,"creation_date":1667307511,"answer_id":74276333,"question_id":72013986,"body_markdown":"You need to change the filename. Edit properties name to application. So,\r\nproperties.yml -&gt;refactor-&gt;rename-&gt;application.yml","title":"Profiles property is deprecated is properties.yml for Spring-Kafka","body":"<p>You need to change the filename. Edit properties name to application. So,\nproperties.yml -&gt;refactor-&gt;rename-&gt;application.yml</p>\n"}],"owner":{"account_id":10763711,"reputation":323,"user_id":7919401,"display_name":"Ilan Miller"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4133,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":3,"score":3,"last_activity_date":1667307511,"creation_date":1650976151,"question_id":72013986,"body_markdown":"[![enter image description here][1]][1]I&#39;m configuring the application.yml file in my Spring Kafka MS\r\nand I&#39;m getting a notification that the profiles property is deprecated.\r\nThis &#39;profiles&#39; property is deprecated\r\n\r\n    spring:\r\n      profiles:\r\n        active: docker\r\n    ---\r\n\r\nThe suggested solution is to use this syntax:\r\n\r\n    spring:\r\n      config:\r\n        activate:\r\n          on-profile: docker\r\n    ---\r\n\r\nBut in the log, i can see that &#39;No active profile set:\r\n\r\nI&#39;m using Java 11 with Spring 2.6.2\r\nIDEA: IntelliJ 2022.1 (Ultimate Edition)\r\n\r\n\r\n     : No active profile set, falling back to default profiles: default\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/LyXEo.png","title":"Profiles property is deprecated is properties.yml for Spring-Kafka","body":"<p><a href=\"https://i.stack.imgur.com/LyXEo.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/LyXEo.png\" alt=\"enter image description here\" /></a>I'm configuring the application.yml file in my Spring Kafka MS\nand I'm getting a notification that the profiles property is deprecated.\nThis 'profiles' property is deprecated</p>\n<pre><code>spring:\n  profiles:\n    active: docker\n---\n</code></pre>\n<p>The suggested solution is to use this syntax:</p>\n<pre><code>spring:\n  config:\n    activate:\n      on-profile: docker\n---\n</code></pre>\n<p>But in the log, i can see that 'No active profile set:</p>\n<p>I'm using Java 11 with Spring 2.6.2\nIDEA: IntelliJ 2022.1 (Ultimate Edition)</p>\n<pre><code> : No active profile set, falling back to default profiles: default\n</code></pre>\n"},{"tags":["java","email"],"comments":[{"owner":{"account_id":208830,"reputation":10240,"user_id":459557,"display_name":"vanje"},"score":1,"creation_date":1667306368,"post_id":74275986,"comment_id":131132686,"body_markdown":"And what exactly is your question here?","body":"And what exactly is your question here?"},{"owner":{"account_id":2435943,"reputation":1275,"user_id":2125853,"accept_rate":77,"display_name":"user2125853"},"score":0,"creation_date":1667306696,"post_id":74275986,"comment_id":131132786,"body_markdown":"I was trying to find if multiple &#39;from&#39; email address is valid when sending emails using java APIs","body":"I was trying to find if multiple &#39;from&#39; email address is valid when sending emails using java APIs"},{"owner":{"account_id":2139538,"reputation":42521,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":2,"creation_date":1667306924,"post_id":74275986,"comment_id":131132864,"body_markdown":"Is there something preventing you from trying it and seeing what happens? [SMTP seems to support it](https://serverfault.com/questions/554520/smtp-allows-for-multiple-from-addresses-in-the-rfc-was-this-ever-useful-why-do)","body":"Is there something preventing you from trying it and seeing what happens? <a href=\"https://serverfault.com/questions/554520/smtp-allows-for-multiple-from-addresses-in-the-rfc-was-this-ever-useful-why-do\">SMTP seems to support it</a>"},{"owner":{"account_id":129540,"reputation":210839,"user_id":328193,"accept_rate":91,"display_name":"David"},"score":0,"creation_date":1667307193,"post_id":74275986,"comment_id":131132956,"body_markdown":"It sounds like the concept itself [should be supported](https://serverfault.com/q/554520), though it&#39;s certainly a use case I&#39;ve *never* seen or used.  If you have to rely on it, test it to make sure it works.  Though it sounds like using this in your system was the result of a bug that should be corrected anyway, so this could be a moot point entirely.","body":"It sounds like the concept itself <a href=\"https://serverfault.com/q/554520\">should be supported</a>, though it&#39;s certainly a use case I&#39;ve <i>never</i> seen or used.  If you have to rely on it, test it to make sure it works.  Though it sounds like using this in your system was the result of a bug that should be corrected anyway, so this could be a moot point entirely."},{"owner":{"account_id":2435943,"reputation":1275,"user_id":2125853,"accept_rate":77,"display_name":"user2125853"},"score":0,"creation_date":1667307221,"post_id":74275986,"comment_id":131132970,"body_markdown":"I do not see any exceptions.  I was trying to find out if multiple &#39;from&#39; email address could cause a problem with the email server sending the email or at the recipient&#39;s end.  I can perhaps write code to verify what happens.","body":"I do not see any exceptions.  I was trying to find out if multiple &#39;from&#39; email address could cause a problem with the email server sending the email or at the recipient&#39;s end.  I can perhaps write code to verify what happens."},{"owner":{"account_id":2435943,"reputation":1275,"user_id":2125853,"accept_rate":77,"display_name":"user2125853"},"score":0,"creation_date":1667307362,"post_id":74275986,"comment_id":131133023,"body_markdown":"@David It is eventually a bug that is to be corrected but this is deployed to production environment.  I was just trying to find out if this could cause a problem.","body":"@David It is eventually a bug that is to be corrected but this is deployed to production environment.  I was just trying to find out if this could cause a problem."},{"owner":{"account_id":2139538,"reputation":42521,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":0,"creation_date":1667307448,"post_id":74275986,"comment_id":131133058,"body_markdown":"@user2125853 &quot;*I was trying to find out if multiple &#39;from&#39; email address could cause a problem with the email server*&quot; Without knowing the precise vendor and version, no one can answer this. Yours might be non-compliant with the spec.","body":"@user2125853 &quot;<i>I was trying to find out if multiple &#39;from&#39; email address could cause a problem with the email server</i>&quot; Without knowing the precise vendor and version, no one can answer this. Yours might be non-compliant with the spec."},{"owner":{"account_id":2435943,"reputation":1275,"user_id":2125853,"accept_rate":77,"display_name":"user2125853"},"score":0,"creation_date":1667309675,"post_id":74275986,"comment_id":131133908,"body_markdown":"You are correct the email does not go if the &#39;from&#39; has multiple email addresses.","body":"You are correct the email does not go if the &#39;from&#39; has multiple email addresses."}],"answers":[{"comments":[{"owner":{"account_id":2435943,"reputation":1275,"user_id":2125853,"accept_rate":77,"display_name":"user2125853"},"score":0,"creation_date":1667309643,"post_id":74276304,"comment_id":131133894,"body_markdown":"You are correct the mail will not go if the &#39;from&#39; has multiple email addresses.","body":"You are correct the mail will not go if the &#39;from&#39; has multiple email addresses."}],"tags":[],"owner":{"account_id":26774791,"reputation":826,"user_id":20370596,"display_name":"Christoph Dahlen"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1667307383,"creation_date":1667307383,"answer_id":74276304,"question_id":74275986,"body_markdown":"The constructor `InternetAddress(String)` should throw an exception, if parsing the given string does not precisely return a single, valid email-address. So, I&#39;ll assume that your given &quot;from&quot; parameter is parsed into a single e-mail-address which is wrong in any case.\r\n\r\nAccording to [RFC822][1], the FROM field of an email must only contain a single &quot;identity&quot;\r\n\r\n\r\n  [1]: https://datatracker.ietf.org/doc/html/rfc822#section-4.4","title":"Is it a problem when sending email where the &#39;from address&#39; has multiple emails?","body":"<p>The constructor <code>InternetAddress(String)</code> should throw an exception, if parsing the given string does not precisely return a single, valid email-address. So, I'll assume that your given &quot;from&quot; parameter is parsed into a single e-mail-address which is wrong in any case.</p>\n<p>According to <a href=\"https://datatracker.ietf.org/doc/html/rfc822#section-4.4\" rel=\"nofollow noreferrer\">RFC822</a>, the FROM field of an email must only contain a single &quot;identity&quot;</p>\n"}],"owner":{"account_id":2435943,"reputation":1275,"user_id":2125853,"accept_rate":77,"display_name":"user2125853"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74276304,"answer_count":1,"score":0,"last_activity_date":1667307383,"creation_date":1667305832,"question_id":74275986,"body_markdown":"I am sending emails using javax mail APIs in a batch process. Due to an error in configuration the &#39;from&#39; address got set to multiple comma separated email addresses.\r\n\r\nThe code snippet is like the following:\r\n\r\n    MimeMessage msg = new MimeMessage (mailSession);\r\n    ...\r\n    msg.setFrom(new InternetAddress(from));\r\n\r\nI did not get exceptions but I am not sure if the emails were sent correctly; and if they were sent whether they would end up in recipient&#39;s spam.  \r\n\r\nIs it valid to send emails using java APIs where &#39;from&#39; email address has multiple values?\r\n\r\n","title":"Is it a problem when sending email where the &#39;from address&#39; has multiple emails?","body":"<p>I am sending emails using javax mail APIs in a batch process. Due to an error in configuration the 'from' address got set to multiple comma separated email addresses.</p>\n<p>The code snippet is like the following:</p>\n<pre><code>MimeMessage msg = new MimeMessage (mailSession);\n...\nmsg.setFrom(new InternetAddress(from));\n</code></pre>\n<p>I did not get exceptions but I am not sure if the emails were sent correctly; and if they were sent whether they would end up in recipient's spam.</p>\n<p>Is it valid to send emails using java APIs where 'from' email address has multiple values?</p>\n"},{"tags":["java","javafx","properties"],"comments":[{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":1,"creation_date":1667302894,"post_id":74273015,"comment_id":131131600,"body_markdown":"If you keep the list of neighbors in an `ObservableList`, you can bind your `DoubleProperty` to that list. The binding will be invalidated any time anything is added to or removed from the list. This should essentially avoid the issue (or at least make it clean to solve).","body":"If you keep the list of neighbors in an <code>ObservableList</code>, you can bind your <code>DoubleProperty</code> to that list. The binding will be invalidated any time anything is added to or removed from the list. This should essentially avoid the issue (or at least make it clean to solve)."}],"answers":[{"comments":[{"owner":{"account_id":26746510,"reputation":1,"user_id":20346502,"display_name":"Joel"},"score":0,"creation_date":1667307221,"post_id":74273392,"comment_id":131132969,"body_markdown":"ups sorry, i didnt see this &quot;without defining my own DoubleBinding&quot;","body":"ups sorry, i didnt see this &quot;without defining my own DoubleBinding&quot;"}],"tags":[],"owner":{"account_id":26746510,"reputation":1,"user_id":20346502,"display_name":"Joel"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667307336,"creation_date":1667292104,"answer_id":74273392,"question_id":74273015,"body_markdown":"You could write your own implementation of a DoubleBinding that offers the method and behaviour you want. \r\n\r\n\r\n    class MuatableDependenciesDoubleBinding extends DoubleBinding {\r\n    \r\n      private Callable&lt;Double&gt; func;\r\n      private Observable[] dependencies;\r\n    \r\n      public MuatableDependenciesDoubleBinding (Callable&lt;Double&gt; func, Observable... dependencies) {\r\n        this.func = func;\r\n        this.dependencies = dependencies;\r\n        bind (dependencies);\r\n      }\r\n    \r\n      @Override \r\n      protected double computeValue() {\r\n        try {\r\n          return func.call();\r\n        } catch(Exception e) {\r\n          Logging.getLogger().warning(&quot;Exception while evaluating binding&quot;, e);\r\n          return 0.0;\r\n        }\r\n      }\r\n    \r\n      @Override \r\n      public void dispose() {\r\n        super.unbind(dependencies);\r\n      }\r\n    \r\n      @Override\r\n      public ObeservableList&lt;?&gt; getDependencies() {\r\n          return ((dependencies == null) || (dependencies.length == 0)) ? \r\n            FXCollection.emptyObservableList() : (dependencies.length == 1) ? \r\n            FXCollections.singeltonObservableList(dependencies[0]) \r\n            : new ImmutableObservableList&lt;Observable&gt;(dependencies);\r\n      }\r\n \r\n      public void updateDependencies(Observable... dependencies) {\r\n        dispose();\r\n        this.dependencies = dependencies;\r\n        bind(dependencies);\r\n      }\r\n    \r\n    }\r\n\r\nMaybe something like that. (I have not tested the code)","title":"Is it possible in JavaFX to modify the dependencies of a binding after it&#39;s created?","body":"<p>You could write your own implementation of a DoubleBinding that offers the method and behaviour you want.</p>\n<pre><code>class MuatableDependenciesDoubleBinding extends DoubleBinding {\n\n  private Callable&lt;Double&gt; func;\n  private Observable[] dependencies;\n\n  public MuatableDependenciesDoubleBinding (Callable&lt;Double&gt; func, Observable... dependencies) {\n    this.func = func;\n    this.dependencies = dependencies;\n    bind (dependencies);\n  }\n\n  @Override \n  protected double computeValue() {\n    try {\n      return func.call();\n    } catch(Exception e) {\n      Logging.getLogger().warning(&quot;Exception while evaluating binding&quot;, e);\n      return 0.0;\n    }\n  }\n\n  @Override \n  public void dispose() {\n    super.unbind(dependencies);\n  }\n\n  @Override\n  public ObeservableList&lt;?&gt; getDependencies() {\n      return ((dependencies == null) || (dependencies.length == 0)) ? \n        FXCollection.emptyObservableList() : (dependencies.length == 1) ? \n        FXCollections.singeltonObservableList(dependencies[0]) \n        : new ImmutableObservableList&lt;Observable&gt;(dependencies);\n  }\n\n  public void updateDependencies(Observable... dependencies) {\n    dispose();\n    this.dependencies = dependencies;\n    bind(dependencies);\n  }\n\n}\n</code></pre>\n<p>Maybe something like that. (I have not tested the code)</p>\n"},{"tags":[],"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1667307154,"creation_date":1667303493,"answer_id":74275486,"question_id":74273015,"body_markdown":"You can bind your `DoubleProperty` to an `ObservableList` containing the neighbor nodes. This way the binding will be invalidated if anything is added to or removed from the list. Here&#39;s a very quick demo of the idea:\r\n\r\n    import javafx.beans.binding.Bindings;\r\n    import javafx.beans.property.IntegerProperty;\r\n    import javafx.beans.property.SimpleIntegerProperty;\r\n    import javafx.collections.FXCollections;\r\n    import javafx.collections.ObservableList;\r\n    \r\n    public class BindingDemo {\r\n    \r\n        public static void main(String[] args) {\r\n            ObservableList&lt;GraphNode&gt; neighbors = FXCollections.observableArrayList();\r\n            IntegerProperty total = new SimpleIntegerProperty();\r\n            total.bind(Bindings.createIntegerBinding(\r\n                    () -&gt; sum(neighbors),\r\n                    neighbors\r\n            ));\r\n            total.addListener((obs, oldTotal, newTotal) -&gt; \r\n                    System.out.println(&quot;Total = &quot;+newTotal));\r\n            for (int i = 1 ; i &lt;= 5 ; i++) {\r\n                System.out.println(&quot;Adding node with value &quot;+i+&quot;:&quot;);\r\n                neighbors.add(new GraphNode(i));\r\n            }\r\n        }\r\n    \r\n        private static int sum(ObservableList&lt;GraphNode&gt; nodes) {\r\n            int total = 0 ;\r\n            for (GraphNode node : nodes) {\r\n                total += node.value();\r\n            }\r\n            return total ;\r\n        }\r\n    \r\n        public static record GraphNode(int value){}\r\n    }\r\n\r\nOutput:\r\n\r\n&lt;!-- language:lang-none --&gt;\r\n\r\n    Adding node with value 1:\r\n    Total = 1\r\n    Adding node with value 2:\r\n    Total = 3\r\n    Adding node with value 3:\r\n    Total = 6\r\n    Adding node with value 4:\r\n    Total = 10\r\n    Adding node with value 5:\r\n    Total = 15\r\n\r\nTechnically, this doesn&#39;t really avoid your &quot;without defining my own binding&quot; requirement, but the [`Bindings.createXXXBinding(...)` API](https://openjfx.io/javadoc/19/javafx.base/javafx/beans/binding/Bindings.html#createDoubleBinding(java.util.concurrent.Callable,javafx.beans.Observable...)) makes it pretty clean to do so.","title":"Is it possible in JavaFX to modify the dependencies of a binding after it&#39;s created?","body":"<p>You can bind your <code>DoubleProperty</code> to an <code>ObservableList</code> containing the neighbor nodes. This way the binding will be invalidated if anything is added to or removed from the list. Here's a very quick demo of the idea:</p>\n<pre><code>import javafx.beans.binding.Bindings;\nimport javafx.beans.property.IntegerProperty;\nimport javafx.beans.property.SimpleIntegerProperty;\nimport javafx.collections.FXCollections;\nimport javafx.collections.ObservableList;\n\npublic class BindingDemo {\n\n    public static void main(String[] args) {\n        ObservableList&lt;GraphNode&gt; neighbors = FXCollections.observableArrayList();\n        IntegerProperty total = new SimpleIntegerProperty();\n        total.bind(Bindings.createIntegerBinding(\n                () -&gt; sum(neighbors),\n                neighbors\n        ));\n        total.addListener((obs, oldTotal, newTotal) -&gt; \n                System.out.println(&quot;Total = &quot;+newTotal));\n        for (int i = 1 ; i &lt;= 5 ; i++) {\n            System.out.println(&quot;Adding node with value &quot;+i+&quot;:&quot;);\n            neighbors.add(new GraphNode(i));\n        }\n    }\n\n    private static int sum(ObservableList&lt;GraphNode&gt; nodes) {\n        int total = 0 ;\n        for (GraphNode node : nodes) {\n            total += node.value();\n        }\n        return total ;\n    }\n\n    public static record GraphNode(int value){}\n}\n</code></pre>\n<p>Output:</p>\n\n<pre><code>Adding node with value 1:\nTotal = 1\nAdding node with value 2:\nTotal = 3\nAdding node with value 3:\nTotal = 6\nAdding node with value 4:\nTotal = 10\nAdding node with value 5:\nTotal = 15\n</code></pre>\n<p>Technically, this doesn't really avoid your &quot;without defining my own binding&quot; requirement, but the <a href=\"https://openjfx.io/javadoc/19/javafx.base/javafx/beans/binding/Bindings.html#createDoubleBinding(java.util.concurrent.Callable,javafx.beans.Observable...)\" rel=\"noreferrer\"><code>Bindings.createXXXBinding(...)</code> API</a> makes it pretty clean to do so.</p>\n"}],"owner":{"account_id":19662150,"reputation":55,"user_id":14393370,"display_name":"CirF"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":85,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":74275486,"answer_count":2,"score":4,"last_activity_date":1667307336,"creation_date":1667289577,"question_id":74273015,"body_markdown":"&lt;!-- language-all: lang-java --&gt;\r\nMy question arose when implementing some sorts of graph visualization with JavaFX. There are 2 classes called `Vertex` and `Edge`, with each edge connecting 2 (possibly the same) vertices. Every vertex that has self-loops (edges having the same start and end vertices) stores a `DoubleProperty` for the preferred angle of its self-loops. This angle is computed from the the positions of this vertex and all its neighbors. However, as the graph is constructed dynamically, neighbors of a vertex may change, resulting in a dynamic list of dependencies, so I have to modify the dependendies of the `DoubleBinding` to which the angle is bound.\r\n\r\nHowever, the `getDependencies` method in the `DoubleBinding` created by `Bindings.createDoubleBinding` only returns an immutable copy:\r\n```\r\n@Override\r\npublic ObservableList&lt;?&gt; getDependencies() {\r\n    return  ((dependencies == null) || (dependencies.length == 0))?\r\n                FXCollections.emptyObservableList()\r\n            : (dependencies.length == 1)?\r\n                FXCollections.singletonObservableList(dependencies[0])\r\n            : new ImmutableObservableList&lt;Observable&gt;(dependencies);\r\n}\r\n```\r\n\r\nAnd although the `DoubleBinding` class has an `bind` method that seems to satisfy my need, it is protected:\r\n```\r\nprotected final void bind(Observable... dependencies) {\r\n    if ((dependencies != null) &amp;&amp; (dependencies.length &gt; 0)) {\r\n        if (observer == null) {\r\n            observer = new BindingHelperObserver(this);\r\n        }\r\n        for (final Observable dep : dependencies) {\r\n            dep.addListener(observer);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nSo is there any way that I can modify the dependencies at any time without defining my own `DoubleBinding`, or can I solve my problem without touching the dependencies?","title":"Is it possible in JavaFX to modify the dependencies of a binding after it&#39;s created?","body":"\n<p>My question arose when implementing some sorts of graph visualization with JavaFX. There are 2 classes called <code>Vertex</code> and <code>Edge</code>, with each edge connecting 2 (possibly the same) vertices. Every vertex that has self-loops (edges having the same start and end vertices) stores a <code>DoubleProperty</code> for the preferred angle of its self-loops. This angle is computed from the the positions of this vertex and all its neighbors. However, as the graph is constructed dynamically, neighbors of a vertex may change, resulting in a dynamic list of dependencies, so I have to modify the dependendies of the <code>DoubleBinding</code> to which the angle is bound.</p>\n<p>However, the <code>getDependencies</code> method in the <code>DoubleBinding</code> created by <code>Bindings.createDoubleBinding</code> only returns an immutable copy:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Override\npublic ObservableList&lt;?&gt; getDependencies() {\n    return  ((dependencies == null) || (dependencies.length == 0))?\n                FXCollections.emptyObservableList()\n            : (dependencies.length == 1)?\n                FXCollections.singletonObservableList(dependencies[0])\n            : new ImmutableObservableList&lt;Observable&gt;(dependencies);\n}\n</code></pre>\n<p>And although the <code>DoubleBinding</code> class has an <code>bind</code> method that seems to satisfy my need, it is protected:</p>\n<pre class=\"lang-java prettyprint-override\"><code>protected final void bind(Observable... dependencies) {\n    if ((dependencies != null) &amp;&amp; (dependencies.length &gt; 0)) {\n        if (observer == null) {\n            observer = new BindingHelperObserver(this);\n        }\n        for (final Observable dep : dependencies) {\n            dep.addListener(observer);\n        }\n    }\n}\n</code></pre>\n<p>So is there any way that I can modify the dependencies at any time without defining my own <code>DoubleBinding</code>, or can I solve my problem without touching the dependencies?</p>\n"},{"tags":["java","joptionpane","compiler-version"],"comments":[{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":2,"creation_date":1667316469,"post_id":74276273,"comment_id":131136411,"body_markdown":"Is this all components or just JOptionPane. Looks to me like the resolution of your monitor has changed or the scaling factor is different. If it is a scaling issue check out point 1/2 of: https://stackoverflow.com/a/65742492/131872","body":"Is this all components or just JOptionPane. Looks to me like the resolution of your monitor has changed or the scaling factor is different. If it is a scaling issue check out point 1/2 of: <a href=\"https://stackoverflow.com/a/65742492/131872\">stackoverflow.com/a/65742492/131872</a>"},{"owner":{"account_id":26102044,"reputation":1,"user_id":19797326,"display_name":"Matanya Malca"},"score":0,"creation_date":1667552788,"post_id":74276273,"comment_id":131197814,"body_markdown":"This is just a simple JOptionPane (the entire code can be seen in the images). I run the same code using both compilers without changing any other settings or resolution.\nAlso I tried your fix, but it didn&#39;t change the output.","body":"This is just a simple JOptionPane (the entire code can be seen in the images). I run the same code using both compilers without changing any other settings or resolution. Also I tried your fix, but it didn&#39;t change the output."}],"owner":{"account_id":26102044,"reputation":1,"user_id":19797326,"display_name":"Matanya Malca"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1667307285,"creation_date":1667307224,"question_id":74276273,"body_markdown":"I created a simple dialog box using JOptionPane but when I run it with Java 8 the dialog box is extremely small, however when running with Java 18 the size is reasonably normal.\r\nWhy is there a differance between those versions and how to fix the program so it would run in Java 8 similar to what I got in Java 18.\r\n\r\nOutput of Java 18:\r\n[![output of Java 18](https://i.stack.imgur.com/9EECd.png)](https://i.stack.imgur.com/9EECd.png)\r\n\r\nOutput of Java 8:\r\n[![output of Java 8](https://i.stack.imgur.com/Lxu4m.png)](https://i.stack.imgur.com/Lxu4m.png)\r\n\r\nI tried to change the text size with method UIManager.put(&quot;OptionPane.messageFont&quot;,...) but that changes only the text and didn&#39;t affect the size of other components (buttons, icons, etc.).\r\nI can&#39;t find the right command to simply &quot;enlarge&quot; the dialog box. Also I read through the API of JOptionPane but didn&#39;t find a reason for that diffarence.\r\n","title":"Size differance of JOptionPane dialog box between java versions","body":"<p>I created a simple dialog box using JOptionPane but when I run it with Java 8 the dialog box is extremely small, however when running with Java 18 the size is reasonably normal.\nWhy is there a differance between those versions and how to fix the program so it would run in Java 8 similar to what I got in Java 18.</p>\n<p>Output of Java 18:\n<a href=\"https://i.stack.imgur.com/9EECd.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/9EECd.png\" alt=\"output of Java 18\" /></a></p>\n<p>Output of Java 8:\n<a href=\"https://i.stack.imgur.com/Lxu4m.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Lxu4m.png\" alt=\"output of Java 8\" /></a></p>\n<p>I tried to change the text size with method UIManager.put(&quot;OptionPane.messageFont&quot;,...) but that changes only the text and didn't affect the size of other components (buttons, icons, etc.).\nI can't find the right command to simply &quot;enlarge&quot; the dialog box. Also I read through the API of JOptionPane but didn't find a reason for that diffarence.</p>\n"},{"tags":["java","jackson","mapping","pojo"],"comments":[{"owner":{"account_id":15561237,"reputation":1596,"user_id":11226302,"display_name":"Shivam Puri"},"score":0,"creation_date":1667238767,"post_id":74267249,"comment_id":131118468,"body_markdown":"It would be good to explain in detail what you are trying to achieve this. Please share your code.","body":"It would be good to explain in detail what you are trying to achieve this. Please share your code."}],"answers":[{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667307265,"creation_date":1667240272,"answer_id":74267579,"question_id":74267249,"body_markdown":"That&#39;s not a job for Jackson&#39;s data-binding annotations.\r\n\r\nIt seems like you rather need to introduce [Bean Validation](https://beanvalidation.org/news/2017/08/07/bean-validation-2-0-is-a-spec/) into your project, which provides various annotations validating values of your POJOs like [`@Min`](https://docs.jboss.org/hibernate/beanvalidation/spec/2.0/api/javax/validation/constraints/Min.html), [`@Max`](https://docs.jboss.org/hibernate/beanvalidation/spec/2.0/api/javax/validation/constraints/Max.html), etc.\r\n\r\nUsage example:\r\n\r\n    public class Word {\r\n        private String text;\r\n\r\n        @Min(3)\r\n        private int min;\r\n\r\n        @Max(10)\r\n        private int max;\r\n    }\r\n\r\nIf you&#39;re using Spring Boot, then yyou can add the following Maven starter-dependency :\r\n```\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nAlternativelly you can go to [Spring Initialer](https://start.spring.io/) and generate dependencies for your build-tool (Maven or Gradle), peak the `Validation` dependency.\r\n\r\nOtherwise (if you&#39;re not using Spring), see [here](https://www.baeldung.com/javax-validation) how to Hibernate Validator (which is the reference implementation of the Bean Validation specification) to your project.","title":"Count min max occurrences in array of elements from JSON to POJO","body":"<p>That's not a job for Jackson's data-binding annotations.</p>\n<p>It seems like you rather need to introduce <a href=\"https://beanvalidation.org/news/2017/08/07/bean-validation-2-0-is-a-spec/\" rel=\"nofollow noreferrer\">Bean Validation</a> into your project, which provides various annotations validating values of your POJOs like <a href=\"https://docs.jboss.org/hibernate/beanvalidation/spec/2.0/api/javax/validation/constraints/Min.html\" rel=\"nofollow noreferrer\"><code>@Min</code></a>, <a href=\"https://docs.jboss.org/hibernate/beanvalidation/spec/2.0/api/javax/validation/constraints/Max.html\" rel=\"nofollow noreferrer\"><code>@Max</code></a>, etc.</p>\n<p>Usage example:</p>\n<pre><code>public class Word {\n    private String text;\n\n    @Min(3)\n    private int min;\n\n    @Max(10)\n    private int max;\n}\n</code></pre>\n<p>If you're using Spring Boot, then yyou can add the following Maven starter-dependency :</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Alternativelly you can go to <a href=\"https://start.spring.io/\" rel=\"nofollow noreferrer\">Spring Initialer</a> and generate dependencies for your build-tool (Maven or Gradle), peak the <code>Validation</code> dependency.</p>\n<p>Otherwise (if you're not using Spring), see <a href=\"https://www.baeldung.com/javax-validation\" rel=\"nofollow noreferrer\">here</a> how to Hibernate Validator (which is the reference implementation of the Bean Validation specification) to your project.</p>\n"},{"tags":[],"owner":{"account_id":13009011,"reputation":1105,"user_id":9402689,"display_name":"Raymond Choi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667273110,"creation_date":1667273110,"answer_id":74271222,"question_id":74267249,"body_markdown":"Use library _Josson_ to transform the JSON first.\r\n\r\nhttps://github.com/octomix/josson\r\n\r\n    public class Word {\r\n        private String text;\r\n        private Integer min;\r\n        private Integer max;\r\n\r\n        public void setText(String text) {\r\n            this.text = text;\r\n        }\r\n\r\n        public void setMin(Integer min) {\r\n            this.min = min;\r\n        }\r\n\r\n        public void setMax(Integer max) {\r\n            this.max = max;\r\n        }\r\n\r\n        @Override\r\n        public String toString() {\r\n            return String.format(&quot;text=%s min=%d max=%d&quot;, text, min, max);\r\n        }\r\n    }\r\n\r\n__Deserialize &amp; Transform__\r\n\r\n    Josson josson = Josson.fromJsonString(\r\n        &quot;[&quot; +\r\n        &quot;  [&quot; +\r\n        &quot;    {\\&quot;word\\&quot;: \\&quot;china\\&quot;, \\&quot;count\\&quot;: 0},&quot; +\r\n        &quot;    {\\&quot;word\\&quot;: \\&quot;kids\\&quot;, \\&quot;count\\&quot;: 1},&quot; +\r\n        &quot;    {\\&quot;word\\&quot;: \\&quot;music\\&quot;, \\&quot;count\\&quot;: 0}&quot; +\r\n        &quot;  ],&quot; +\r\n        &quot;  [&quot; +\r\n        &quot;    {\\&quot;word\\&quot;: \\&quot;china\\&quot;, \\&quot;count\\&quot;: 3},&quot; +\r\n        &quot;    {\\&quot;word\\&quot;: \\&quot;kids\\&quot;, \\&quot;count\\&quot;: 0},&quot; +\r\n        &quot;    {\\&quot;word\\&quot;: \\&quot;music\\&quot;, \\&quot;count\\&quot;: 2}&quot; +\r\n        &quot;  ],&quot; +\r\n        &quot;  [&quot; +\r\n        &quot;    {\\&quot;word\\&quot;: \\&quot;china\\&quot;, \\&quot;count\\&quot;: 10},&quot; +\r\n        &quot;    {\\&quot;word\\&quot;: \\&quot;kids\\&quot;, \\&quot;count\\&quot;: 3},&quot; +\r\n        &quot;    {\\&quot;word\\&quot;: \\&quot;music\\&quot;, \\&quot;count\\&quot;: 2}&quot; +\r\n        &quot;  ]&quot; +\r\n        &quot;]&quot;);\r\n\r\n    JsonNode node = josson.getNode(\r\n        &quot;flatten()&quot; +\r\n        &quot;.group(word)&quot; +\r\n        &quot;.map(text:word, min:elements.min(count), max:elements.max(count))&quot;);\r\n\r\n    List&lt;Word&gt; words = new ObjectMapper().convertValue(node, new TypeReference&lt;List&lt;Word&gt;&gt;() {});\r\n    words.forEach(System.out::println);\r\n\r\n__Output__\r\n\r\n    text=china min=0 max=10\r\n    text=kids min=0 max=3\r\n    text=music min=0 max=2\r\n","title":"Count min max occurrences in array of elements from JSON to POJO","body":"<p>Use library <em>Josson</em> to transform the JSON first.</p>\n<p><a href=\"https://github.com/octomix/josson\" rel=\"nofollow noreferrer\">https://github.com/octomix/josson</a></p>\n<pre><code>public class Word {\n    private String text;\n    private Integer min;\n    private Integer max;\n\n    public void setText(String text) {\n        this.text = text;\n    }\n\n    public void setMin(Integer min) {\n        this.min = min;\n    }\n\n    public void setMax(Integer max) {\n        this.max = max;\n    }\n\n    @Override\n    public String toString() {\n        return String.format(&quot;text=%s min=%d max=%d&quot;, text, min, max);\n    }\n}\n</code></pre>\n<p><strong>Deserialize &amp; Transform</strong></p>\n<pre><code>Josson josson = Josson.fromJsonString(\n    &quot;[&quot; +\n    &quot;  [&quot; +\n    &quot;    {\\&quot;word\\&quot;: \\&quot;china\\&quot;, \\&quot;count\\&quot;: 0},&quot; +\n    &quot;    {\\&quot;word\\&quot;: \\&quot;kids\\&quot;, \\&quot;count\\&quot;: 1},&quot; +\n    &quot;    {\\&quot;word\\&quot;: \\&quot;music\\&quot;, \\&quot;count\\&quot;: 0}&quot; +\n    &quot;  ],&quot; +\n    &quot;  [&quot; +\n    &quot;    {\\&quot;word\\&quot;: \\&quot;china\\&quot;, \\&quot;count\\&quot;: 3},&quot; +\n    &quot;    {\\&quot;word\\&quot;: \\&quot;kids\\&quot;, \\&quot;count\\&quot;: 0},&quot; +\n    &quot;    {\\&quot;word\\&quot;: \\&quot;music\\&quot;, \\&quot;count\\&quot;: 2}&quot; +\n    &quot;  ],&quot; +\n    &quot;  [&quot; +\n    &quot;    {\\&quot;word\\&quot;: \\&quot;china\\&quot;, \\&quot;count\\&quot;: 10},&quot; +\n    &quot;    {\\&quot;word\\&quot;: \\&quot;kids\\&quot;, \\&quot;count\\&quot;: 3},&quot; +\n    &quot;    {\\&quot;word\\&quot;: \\&quot;music\\&quot;, \\&quot;count\\&quot;: 2}&quot; +\n    &quot;  ]&quot; +\n    &quot;]&quot;);\n\nJsonNode node = josson.getNode(\n    &quot;flatten()&quot; +\n    &quot;.group(word)&quot; +\n    &quot;.map(text:word, min:elements.min(count), max:elements.max(count))&quot;);\n\nList&lt;Word&gt; words = new ObjectMapper().convertValue(node, new TypeReference&lt;List&lt;Word&gt;&gt;() {});\nwords.forEach(System.out::println);\n</code></pre>\n<p><strong>Output</strong></p>\n<pre><code>text=china min=0 max=10\ntext=kids min=0 max=3\ntext=music min=0 max=2\n</code></pre>\n"}],"owner":{"account_id":17363457,"reputation":41,"user_id":12579181,"display_name":"Mattias T&#246;rnqvist"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":159,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1667307265,"creation_date":1667238491,"question_id":74267249,"body_markdown":"I&#39;m having a JSON-structure that looks like this:\r\n``` \r\n[\r\n  [\r\n    {\r\n      &quot;word&quot;: &quot;china&quot;,\r\n      &quot;count&quot;: 0\r\n    },\r\n    {\r\n      &quot;word&quot;: &quot;kids&quot;,\r\n      &quot;count&quot;: 1\r\n    },\r\n    {\r\n      &quot;word&quot;: &quot;music&quot;,\r\n      &quot;count&quot;: 0\r\n    }\r\n  ],\r\n  [\r\n    {\r\n      &quot;word&quot;: &quot;china&quot;,\r\n      &quot;count&quot;: 3\r\n    },\r\n    {\r\n      &quot;word&quot;: &quot;kids&quot;,\r\n      &quot;count&quot;: 0\r\n    },\r\n    {\r\n      &quot;word&quot;: &quot;music&quot;,\r\n      &quot;count&quot;: 2\r\n    }\r\n  ],\r\n  [\r\n    {\r\n      &quot;word&quot;: &quot;china&quot;,\r\n      &quot;count&quot;: 10\r\n    },\r\n    {\r\n      &quot;word&quot;: &quot;kids&quot;,\r\n      &quot;count&quot;: 3\r\n    },\r\n    {\r\n      &quot;word&quot;: &quot;music&quot;,\r\n      &quot;count&quot;: 2\r\n    }\r\n  ]\r\n]\r\n```\r\n\r\nI would like to convert this JSON to a plain old Java object which looks like this:\r\n```\r\npublic class Word {\r\n    private String text;\r\n    private Integer min;\r\n    private Integer max;\r\n}\r\n```\r\n\r\nI would like the &quot;**min**&quot; and &quot;**max**&quot; properties to represent the minimum and maximum occurrences of that specific word in all elements of the array.\r\n\r\nFor example, the maximum counts for the word &quot;china&quot; is 10 and the minimum is 0.\r\n\r\nI would like to accomplish something like this:\r\n```\r\n        word.text = &quot;china&quot;\r\n        word.min = 0;\r\n        word.max = 10;\r\n```\r\n\r\nI&#39;m quite new at Java and this is my first attempt to deserialize something a bit more complex. I&#39;ve been trying out different options using Jackson ObjectMapper, is this the way to go and how would I accomplish this?","title":"Count min max occurrences in array of elements from JSON to POJO","body":"<p>I'm having a JSON-structure that looks like this:</p>\n<pre><code>[\n  [\n    {\n      &quot;word&quot;: &quot;china&quot;,\n      &quot;count&quot;: 0\n    },\n    {\n      &quot;word&quot;: &quot;kids&quot;,\n      &quot;count&quot;: 1\n    },\n    {\n      &quot;word&quot;: &quot;music&quot;,\n      &quot;count&quot;: 0\n    }\n  ],\n  [\n    {\n      &quot;word&quot;: &quot;china&quot;,\n      &quot;count&quot;: 3\n    },\n    {\n      &quot;word&quot;: &quot;kids&quot;,\n      &quot;count&quot;: 0\n    },\n    {\n      &quot;word&quot;: &quot;music&quot;,\n      &quot;count&quot;: 2\n    }\n  ],\n  [\n    {\n      &quot;word&quot;: &quot;china&quot;,\n      &quot;count&quot;: 10\n    },\n    {\n      &quot;word&quot;: &quot;kids&quot;,\n      &quot;count&quot;: 3\n    },\n    {\n      &quot;word&quot;: &quot;music&quot;,\n      &quot;count&quot;: 2\n    }\n  ]\n]\n</code></pre>\n<p>I would like to convert this JSON to a plain old Java object which looks like this:</p>\n<pre><code>public class Word {\n    private String text;\n    private Integer min;\n    private Integer max;\n}\n</code></pre>\n<p>I would like the &quot;<strong>min</strong>&quot; and &quot;<strong>max</strong>&quot; properties to represent the minimum and maximum occurrences of that specific word in all elements of the array.</p>\n<p>For example, the maximum counts for the word &quot;china&quot; is 10 and the minimum is 0.</p>\n<p>I would like to accomplish something like this:</p>\n<pre><code>        word.text = &quot;china&quot;\n        word.min = 0;\n        word.max = 10;\n</code></pre>\n<p>I'm quite new at Java and this is my first attempt to deserialize something a bit more complex. I've been trying out different options using Jackson ObjectMapper, is this the way to go and how would I accomplish this?</p>\n"},{"tags":["java","android"],"answers":[{"tags":[],"owner":{"account_id":17661410,"reputation":943,"user_id":12819796,"display_name":"Aditya Nandardhane"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667307037,"creation_date":1667307037,"answer_id":74276228,"question_id":74276227,"body_markdown":"We can use the below code for taking screenshots of charts as a bitmap and share them with other social media apps without storing them in storage. \r\n                  \r\n                    Bitmap bitmap = mChart.getChartBitmap();\r\n                    String bitmapPath = MediaStore.Images.Media.insertImage(getContentResolver(), bitmap, &quot;title&quot;, null);\r\n                    Uri bitmapUri = Uri.parse(bitmapPath);\r\n                    Intent intent = new Intent(Intent.ACTION_SEND);\r\n                    intent.setType(&quot;image/jpg&quot;);\r\n                    intent.putExtra(Intent.EXTRA_STREAM, bitmapUri);\r\n                    startActivity(Intent.createChooser(intent, &quot;Share&quot;));","title":"How to capture screenshot and share using Intent for BarChart Using PhilJay / MPAndroidChart","body":"<p>We can use the below code for taking screenshots of charts as a bitmap and share them with other social media apps without storing them in storage.</p>\n<pre><code>                Bitmap bitmap = mChart.getChartBitmap();\n                String bitmapPath = MediaStore.Images.Media.insertImage(getContentResolver(), bitmap, &quot;title&quot;, null);\n                Uri bitmapUri = Uri.parse(bitmapPath);\n                Intent intent = new Intent(Intent.ACTION_SEND);\n                intent.setType(&quot;image/jpg&quot;);\n                intent.putExtra(Intent.EXTRA_STREAM, bitmapUri);\n                startActivity(Intent.createChooser(intent, &quot;Share&quot;));\n</code></pre>\n"}],"owner":{"account_id":17661410,"reputation":943,"user_id":12819796,"display_name":"Aditya Nandardhane"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":16,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1667307037,"creation_date":1667307037,"question_id":74276227,"body_markdown":"I want to capture and share screenshots with other social media for BarChart in PhilJay / MPAndroidChart\r\n\r\n            &lt;com.github.mikephil.charting.charts.BarChart\r\n                    android:id=&quot;@+id/chart1&quot;\r\n                    android:layout_width=&quot;match_parent&quot;\r\n                    android:layout_height=&quot;match_parent&quot; /&gt;","title":"How to capture screenshot and share using Intent for BarChart Using PhilJay / MPAndroidChart","body":"<p>I want to capture and share screenshots with other social media for BarChart in PhilJay / MPAndroidChart</p>\n<pre><code>        &lt;com.github.mikephil.charting.charts.BarChart\n                android:id=&quot;@+id/chart1&quot;\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;match_parent&quot; /&gt;\n</code></pre>\n"},{"tags":["java","web-services","soap","spring-ws"],"comments":[{"owner":{"account_id":133538,"reputation":9223,"user_id":334966,"accept_rate":89,"display_name":"mattalxndr"},"score":0,"creation_date":1460922794,"post_id":36496163,"comment_id":60952712,"body_markdown":"Did you ever fix this? If so, what was your solution?","body":"Did you ever fix this? If so, what was your solution?"}],"answers":[{"tags":[],"owner":{"account_id":2324143,"reputation":155,"user_id":2039040,"accept_rate":18,"display_name":"Neriyan"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1460983573,"creation_date":1460983573,"answer_id":36694424,"question_id":36496163,"body_markdown":"I managed to resolve this issue by doing the following:\r\n\r\nCreate a subclass of HttpUrlConnectionMessageSender as follows:\r\n\r\n    public class WebServiceMessageSenderWithAuth extends HttpUrlConnectionMessageSender {\r\n    \t\r\n    \tString user;\r\n    \tString password;\r\n    \t\r\n    \tpublic WebServiceMessageSenderWithAuth(String user, String password) {\r\n    \t\tthis.user = user;\r\n    \t\tthis.password = password;\r\n    \t}\r\n    \t\r\n    \t@Override\r\n    \t protected void prepareConnection(HttpURLConnection connection) throws IOException { \r\n    \t\tBASE64Encoder enc = new BASE64Encoder(); \r\n    \t\tString userpassword = user+&quot;:&quot;+password;\r\n    \t\tString encodedAuthorization = enc.encode( userpassword.getBytes() ); \r\n    \t\tconnection.setRequestProperty(&quot;Authorization&quot;, &quot;Basic &quot; + encodedAuthorization); \r\n    \t\tsuper.prepareConnection(connection); \r\n    \t} \r\n    \t\t\r\n    }\r\n\r\nMy client is defines as follows:\r\n\r\n    public class ObieeClient extends WebServiceGatewaySupport {\r\n    \t\r\n    \tprivate static final Logger log = LoggerFactory.getLogger(ObieeClient.class);\r\n    \t\r\n    \tpublic CallProcedureWithResultsResponse callProcedureWithResults(String procedureName, String webServiceURL){\r\n    \t\tCallProcedureWithResults request = new CallProcedureWithResults();\r\n    \t\trequest.setProcedureName(procedureName);\r\n    \t\tlog.info(&quot;Calling procedure &quot; + procedureName);\r\n    \t\t\r\n    \t\tCallProcedureWithResultsResponse response = (CallProcedureWithResultsResponse) ((JAXBElement) getWebServiceTemplate().marshalSendAndReceive(webServiceURL, request)).getValue();\r\n    \t\t\r\n    \t\treturn response;\r\n    \t}\r\n    }\r\n\r\nAnd finally the client is configured to use the credentials by setting the message sender:\r\n\r\n   \r\n\r\n         Jaxb2Marshaller marshaller = new Jaxb2Marshaller();    \t\tmarshaller.setContextPath(&quot;za.co.adaptit.smartdeployment.webservices.wsdl&quot;);\r\n                \t\r\n                \t//set up web service client\r\n                \tObieeClient client = new ObieeClient();\r\n                \tclient.setDefaultUri(host);\r\n                \tclient.setMarshaller(marshaller);\r\n                \tclient.setUnmarshaller(marshaller);\r\n                \tclient.setMessageSender(new WebServiceMessageSenderWithAuth(&quot;user&quot;, &quot;password&quot;));\r\n    \r\n    response = client.callProcedureWithResults(&quot;NQSModifyMetadata(&#39;&quot; + obieeObjectsXML +&quot;&#39;)&quot;, server.getHost());\r\n\r\nHope this helps.","title":"Consuming SOAP WS returns Error 401 unauthorized","body":"<p>I managed to resolve this issue by doing the following:</p>\n\n<p>Create a subclass of HttpUrlConnectionMessageSender as follows:</p>\n\n<pre><code>public class WebServiceMessageSenderWithAuth extends HttpUrlConnectionMessageSender {\n\n    String user;\n    String password;\n\n    public WebServiceMessageSenderWithAuth(String user, String password) {\n        this.user = user;\n        this.password = password;\n    }\n\n    @Override\n     protected void prepareConnection(HttpURLConnection connection) throws IOException { \n        BASE64Encoder enc = new BASE64Encoder(); \n        String userpassword = user+\":\"+password;\n        String encodedAuthorization = enc.encode( userpassword.getBytes() ); \n        connection.setRequestProperty(\"Authorization\", \"Basic \" + encodedAuthorization); \n        super.prepareConnection(connection); \n    } \n\n}\n</code></pre>\n\n<p>My client is defines as follows:</p>\n\n<pre><code>public class ObieeClient extends WebServiceGatewaySupport {\n\n    private static final Logger log = LoggerFactory.getLogger(ObieeClient.class);\n\n    public CallProcedureWithResultsResponse callProcedureWithResults(String procedureName, String webServiceURL){\n        CallProcedureWithResults request = new CallProcedureWithResults();\n        request.setProcedureName(procedureName);\n        log.info(\"Calling procedure \" + procedureName);\n\n        CallProcedureWithResultsResponse response = (CallProcedureWithResultsResponse) ((JAXBElement) getWebServiceTemplate().marshalSendAndReceive(webServiceURL, request)).getValue();\n\n        return response;\n    }\n}\n</code></pre>\n\n<p>And finally the client is configured to use the credentials by setting the message sender:</p>\n\n<pre><code>     Jaxb2Marshaller marshaller = new Jaxb2Marshaller();            marshaller.setContextPath(\"za.co.adaptit.smartdeployment.webservices.wsdl\");\n\n                //set up web service client\n                ObieeClient client = new ObieeClient();\n                client.setDefaultUri(host);\n                client.setMarshaller(marshaller);\n                client.setUnmarshaller(marshaller);\n                client.setMessageSender(new WebServiceMessageSenderWithAuth(\"user\", \"password\"));\n\nresponse = client.callProcedureWithResults(\"NQSModifyMetadata('\" + obieeObjectsXML +\"')\", server.getHost());\n</code></pre>\n\n<p>Hope this helps.</p>\n"},{"tags":[],"owner":{"account_id":1489310,"reputation":345,"user_id":1396815,"accept_rate":67,"display_name":"aalmero"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1474466857,"creation_date":1474466857,"answer_id":39618951,"question_id":36496163,"body_markdown":"I run into the same issue and managed to resolved by defining a MessageSender with Credentials and then setting it to the client.  I didn&#39;t have to create a custom MessageSender.\r\n\r\n\t@Bean\r\n\tpublic WebServiceMessageSender messageSender(Credentials credentials) throws Exception{\r\n\t\tHttpComponentsMessageSender messageSender = new HttpComponentsMessageSender();\r\n\t\tmessageSender.setCredentials(credentials);\r\n\t\treturn messageSender;\r\n\t}\r\n\r\n\t@Bean\r\n\tpublic Credentials credentials(){\r\n\t\tUsernamePasswordCredentials credentials = new UsernamePasswordCredentials(USERNAME, PASSWORD);\r\n\t\treturn credentials;\r\n\t\t\r\n\t}\r\n","title":"Consuming SOAP WS returns Error 401 unauthorized","body":"<p>I run into the same issue and managed to resolved by defining a MessageSender with Credentials and then setting it to the client.  I didn't have to create a custom MessageSender.</p>\n\n<pre><code>@Bean\npublic WebServiceMessageSender messageSender(Credentials credentials) throws Exception{\n    HttpComponentsMessageSender messageSender = new HttpComponentsMessageSender();\n    messageSender.setCredentials(credentials);\n    return messageSender;\n}\n\n@Bean\npublic Credentials credentials(){\n    UsernamePasswordCredentials credentials = new UsernamePasswordCredentials(USERNAME, PASSWORD);\n    return credentials;\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5526998,"reputation":59,"user_id":4388199,"display_name":"aditya Goyal"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1520678693,"creation_date":1520678693,"answer_id":49208144,"question_id":36496163,"body_markdown":"use HttpsUrlConnectionMessageSender for secure Https connections. This is part of spring-ws-support dependency. Also, you can bypass various certificate issue by using HttpsUrlConnectonMessageSender, like certificate common name mis-matching.\r\n\r\nDont use BASE64Encoder, it is the class of sun.misc jar which is not much secure. use Base64 of java util present in java 1.8 and Base64 of apache for java version less then java 1.8\r\n\r\n    public class WebServiceMessageSenderWithAuth extends HttpsUrlConnectionMessageSender {\r\n\r\n    String user;\r\n    String password;\r\n\r\n    public WebServiceMessageSenderWithAuth(String user, String password) {\r\n        this.user = user;\r\n        this.password = password;\r\n       }\r\n\r\n    @Override\r\n     protected void prepareConnection(HttpURLConnection connection) throws IOException { \r\n         \r\n        String userpassword = user+&quot;:&quot;+password;\r\n        String encodedAuthorization = Base64.encode( userpassword.getBytes() ); \r\n        connection.setRequestProperty(&quot;Authorization&quot;, &quot;Basic &quot; + encodedAuthorization); \r\n        //set various properties by using reference of connection according to your requirement\r\n       } \r\n    }","title":"Consuming SOAP WS returns Error 401 unauthorized","body":"<p>use HttpsUrlConnectionMessageSender for secure Https connections. This is part of spring-ws-support dependency. Also, you can bypass various certificate issue by using HttpsUrlConnectonMessageSender, like certificate common name mis-matching.</p>\n\n<p>Dont use BASE64Encoder, it is the class of sun.misc jar which is not much secure. use Base64 of java util present in java 1.8 and Base64 of apache for java version less then java 1.8</p>\n\n<pre><code>public class WebServiceMessageSenderWithAuth extends HttpsUrlConnectionMessageSender {\n\nString user;\nString password;\n\npublic WebServiceMessageSenderWithAuth(String user, String password) {\n    this.user = user;\n    this.password = password;\n   }\n\n@Override\n protected void prepareConnection(HttpURLConnection connection) throws IOException { \n\n    String userpassword = user+\":\"+password;\n    String encodedAuthorization = Base64.encode( userpassword.getBytes() ); \n    connection.setRequestProperty(\"Authorization\", \"Basic \" + encodedAuthorization); \n    //set various properties by using reference of connection according to your requirement\n   } \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1190548,"reputation":4725,"user_id":1163457,"accept_rate":91,"display_name":"dtrunk"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667306538,"creation_date":1667306538,"answer_id":74276123,"question_id":36496163,"body_markdown":"The MessageSender has to be a bean because it&#39;s setting the credentials to the underlying `HttpClient` in its `afterPropertiesSet` method which only gets automatically called by Spring when it&#39;s a bean. See https://github.com/spring-projects/spring-ws/blob/02cf3b7e2107d5ba728e9210cb705f31931c702a/spring-ws-core/src/main/java/org/springframework/ws/transport/http/HttpComponentsMessageSender.java#L221-L227\r\n\r\nSo in your case this never happens and you end up with a `HttpClient` instance without credentials which results correctly in a 401.\r\n\r\nOther ways would be:\r\n* Manually call that method\r\n* Creating your own `HttpClient` with credentials and set it to the `HttpComponentsMessageSender`\r\n\r\nBut I would just define the message sender as a bean.","title":"Consuming SOAP WS returns Error 401 unauthorized","body":"<p>The MessageSender has to be a bean because it's setting the credentials to the underlying <code>HttpClient</code> in its <code>afterPropertiesSet</code> method which only gets automatically called by Spring when it's a bean. See <a href=\"https://github.com/spring-projects/spring-ws/blob/02cf3b7e2107d5ba728e9210cb705f31931c702a/spring-ws-core/src/main/java/org/springframework/ws/transport/http/HttpComponentsMessageSender.java#L221-L227\" rel=\"nofollow noreferrer\">https://github.com/spring-projects/spring-ws/blob/02cf3b7e2107d5ba728e9210cb705f31931c702a/spring-ws-core/src/main/java/org/springframework/ws/transport/http/HttpComponentsMessageSender.java#L221-L227</a></p>\n<p>So in your case this never happens and you end up with a <code>HttpClient</code> instance without credentials which results correctly in a 401.</p>\n<p>Other ways would be:</p>\n<ul>\n<li>Manually call that method</li>\n<li>Creating your own <code>HttpClient</code> with credentials and set it to the <code>HttpComponentsMessageSender</code></li>\n</ul>\n<p>But I would just define the message sender as a bean.</p>\n"}],"owner":{"account_id":2324143,"reputation":155,"user_id":2039040,"accept_rate":18,"display_name":"Neriyan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13037,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":4,"score":0,"last_activity_date":1667306538,"creation_date":1460107837,"question_id":36496163,"body_markdown":"I am trying to consume a SOAP webservice using spring-ws. I am able to successfully consume this web service from SOAP UI. However I receive an unauthorized exception:\r\n\r\n    org.springframework.ws.client.WebServiceTransportException: Unauthorized [401]\r\n    \tat org.springframework.ws.client.core.WebServiceTemplate.handleError(WebServiceTemplate.java:699)\r\n\r\nHow do I successfully authenticate? \r\n\r\nMy code is as follows:\r\n\r\n**WebServiceTemplate configuration:**\r\n\r\n    @Bean\r\n    \tpublic WebServiceTemplate webServiceTemplate(Jaxb2Marshaller marshaller){\r\n    \t\tWebServiceTemplate webServiceTemplate = new WebServiceTemplate();\r\n    \t\twebServiceTemplate.setDefaultUri(&quot;http://ultron.illovo.net:9704/AdminService&quot;);\r\n    \t\twebServiceTemplate.setMarshaller(marshaller);\r\n    \t\twebServiceTemplate.setUnmarshaller(marshaller);\r\n    \t\t\r\n    \t\tCredentials credentials = new UsernamePasswordCredentials(&quot;biqa&quot;, &quot;welcome1&quot;);\r\n    \t\t\r\n    \t\tHttpComponentsMessageSender messageSender = new HttpComponentsMessageSender();\r\n    \t\tmessageSender.setCredentials(credentials);\r\n    \t\tmessageSender.setReadTimeout(5000);\r\n    \t\tmessageSender.setConnectionTimeout(5000);\r\n    \t\twebServiceTemplate.setMessageSender(messageSender);\r\n    \t\t\r\n    \t\treturn webServiceTemplate;\r\n    \t}\r\n\r\n**Client:**\r\n\r\n    @Autowired\r\n    \r\n    WebServiceTemplate webServiceTemplate;\r\n    \r\n    public CallProcedureWithResultsResponse callProcedureWithResults(String procedureName){\r\n    \tCallProcedureWithResults request = new CallProcedureWithResults();\r\n    \trequest.setProcedureName(procedureName);\r\n    \tlog.info(&quot;Calling procedure &quot; + procedureName);\r\n    \t\r\n    \tCallProcedureWithResultsResponse response = (CallProcedureWithResultsResponse) webServiceTemplate.marshalSendAndReceive(&quot;http://ultron.illovo.net:9704/AdminService/AdminService&quot;, request);\r\n    \t\r\n    \treturn response;\r\n    }\r\n\r\n\r\n**JUnit Test**\r\n\r\n    @Test\r\n    \tpublic void testWebService(){\r\n    \t\tAnnotationConfigApplicationContext context = new AnnotationConfigApplicationContext(ObieeConfiguration.class);\r\n            ObieeClient client = context.getBean(ObieeClient.class);\r\n            CallProcedureWithResultsResponse response = client.callProcedureWithResults(&quot;GetOBISVersion()&quot;);\r\n            client.printResponse(response);\r\n            context.close();\r\n    \t}\r\n\r\n\r\n","title":"Consuming SOAP WS returns Error 401 unauthorized","body":"<p>I am trying to consume a SOAP webservice using spring-ws. I am able to successfully consume this web service from SOAP UI. However I receive an unauthorized exception:</p>\n\n<pre><code>org.springframework.ws.client.WebServiceTransportException: Unauthorized [401]\n    at org.springframework.ws.client.core.WebServiceTemplate.handleError(WebServiceTemplate.java:699)\n</code></pre>\n\n<p>How do I successfully authenticate? </p>\n\n<p>My code is as follows:</p>\n\n<p><strong>WebServiceTemplate configuration:</strong></p>\n\n<pre><code>@Bean\n    public WebServiceTemplate webServiceTemplate(Jaxb2Marshaller marshaller){\n        WebServiceTemplate webServiceTemplate = new WebServiceTemplate();\n        webServiceTemplate.setDefaultUri(\"http://ultron.illovo.net:9704/AdminService\");\n        webServiceTemplate.setMarshaller(marshaller);\n        webServiceTemplate.setUnmarshaller(marshaller);\n\n        Credentials credentials = new UsernamePasswordCredentials(\"biqa\", \"welcome1\");\n\n        HttpComponentsMessageSender messageSender = new HttpComponentsMessageSender();\n        messageSender.setCredentials(credentials);\n        messageSender.setReadTimeout(5000);\n        messageSender.setConnectionTimeout(5000);\n        webServiceTemplate.setMessageSender(messageSender);\n\n        return webServiceTemplate;\n    }\n</code></pre>\n\n<p><strong>Client:</strong></p>\n\n<pre><code>@Autowired\n\nWebServiceTemplate webServiceTemplate;\n\npublic CallProcedureWithResultsResponse callProcedureWithResults(String procedureName){\n    CallProcedureWithResults request = new CallProcedureWithResults();\n    request.setProcedureName(procedureName);\n    log.info(\"Calling procedure \" + procedureName);\n\n    CallProcedureWithResultsResponse response = (CallProcedureWithResultsResponse) webServiceTemplate.marshalSendAndReceive(\"http://ultron.illovo.net:9704/AdminService/AdminService\", request);\n\n    return response;\n}\n</code></pre>\n\n<p><strong>JUnit Test</strong></p>\n\n<pre><code>@Test\n    public void testWebService(){\n        AnnotationConfigApplicationContext context = new AnnotationConfigApplicationContext(ObieeConfiguration.class);\n        ObieeClient client = context.getBean(ObieeClient.class);\n        CallProcedureWithResultsResponse response = client.callProcedureWithResults(\"GetOBISVersion()\");\n        client.printResponse(response);\n        context.close();\n    }\n</code></pre>\n"},{"tags":["java","rounding"],"comments":[{"owner":{"account_id":680,"reputation":960785,"user_id":893,"accept_rate":84,"display_name":"Greg Hewgill"},"score":5,"creation_date":1329350850,"post_id":9303604,"comment_id":11734792,"body_markdown":"What&#39;s the code you have for 10 look like? It should be reasonably straightforward to change 10 to 5.","body":"What&#39;s the code you have for 10 look like? It should be reasonably straightforward to change 10 to 5."},{"owner":{"account_id":680,"reputation":960785,"user_id":893,"accept_rate":84,"display_name":"Greg Hewgill"},"score":0,"creation_date":1329350957,"post_id":9303604,"comment_id":11734808,"body_markdown":"What&#39;s the type of `len`? Is that an `int` or `double`?","body":"What&#39;s the type of <code>len</code>? Is that an <code>int</code> or <code>double</code>?"},{"owner":{"account_id":1171586,"reputation":1866,"user_id":1148656,"accept_rate":84,"display_name":"Daniel Cook"},"score":0,"creation_date":1329351034,"post_id":9303604,"comment_id":11734822,"body_markdown":"it&#39;s a double. if i didn&#39;t initialize it as a double it would give me an error i think","body":"it&#39;s a double. if i didn&#39;t initialize it as a double it would give me an error i think"},{"owner":{"account_id":80364,"reputation":90939,"user_id":227299,"accept_rate":72,"display_name":"Ruan Mendes"},"score":2,"creation_date":1329351068,"post_id":9303604,"comment_id":11734829,"body_markdown":"`double number = Math.round((len + 2.5)/ 5.0) * 5.0;` ??","body":"<code>double number = Math.round((len + 2.5)&#47; 5.0) * 5.0;</code> ??"},{"owner":{"account_id":266709,"reputation":11856,"user_id":554431,"display_name":"bestsss"},"score":0,"creation_date":1329354403,"post_id":9303604,"comment_id":11735430,"body_markdown":"possible duplicate of [how to always round up to the next integer](http://stackoverflow.com/questions/4846493/how-to-always-round-up-to-the-next-integer)","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/4846493/how-to-always-round-up-to-the-next-integer\">how to always round up to the next integer</a>"},{"owner":{"account_id":80364,"reputation":90939,"user_id":227299,"accept_rate":72,"display_name":"Ruan Mendes"},"score":1,"creation_date":1329354825,"post_id":9303604,"comment_id":11735519,"body_markdown":"@bestsss The question doesn&#39;t say to round integers, does it?","body":"@bestsss The question doesn&#39;t say to round integers, does it?"},{"owner":{"account_id":1022648,"reputation":33896,"user_id":1032613,"accept_rate":84,"display_name":"WSBT"},"score":0,"creation_date":1422419977,"post_id":9303604,"comment_id":44738438,"body_markdown":"@JuanMendes exactly, the question literally said `double`, and used 10.0","body":"@JuanMendes exactly, the question literally said <code>double</code>, and used 10.0"},{"owner":{"account_id":1448254,"reputation":32250,"user_id":1366033,"accept_rate":87,"display_name":"KyleMit"},"score":0,"creation_date":1631901389,"post_id":9303604,"comment_id":122357988,"body_markdown":"**See Also**: [Rounding numbers to specific multiples](https://stackoverflow.com/q/10456564/1366033)","body":"<b>See Also</b>: <a href=\"https://stackoverflow.com/q/10456564/1366033\">Rounding numbers to specific multiples</a>"}],"answers":[{"tags":[],"owner":{"account_id":1017211,"reputation":1542,"user_id":1028504,"accept_rate":100,"display_name":"YankeeWhiskey"},"comment_count":0,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1333598911,"creation_date":1329350934,"answer_id":9303640,"question_id":9303604,"body_markdown":"    int round(int num) {\r\n        int temp = num%5;\r\n        if (temp&lt;3)\r\n             return num-temp;\r\n        else\r\n             return num+5-temp;\r\n    }","title":"Rounding up a number to nearest multiple of 5","body":"<pre><code>int round(int num) {\n    int temp = num%5;\n    if (temp&lt;3)\n         return num-temp;\n    else\n         return num+5-temp;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":353069,"reputation":7200,"user_id":690553,"accept_rate":76,"display_name":"Amir Pashazadeh"},"comment_count":0,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1329351159,"creation_date":1329351159,"answer_id":9303675,"question_id":9303604,"body_markdown":"    int roundUp(int num) {\r\n        return ((num / 5) + (num % 5 &gt; 0 ? 1 : 0)) * 5;\r\n    }","title":"Rounding up a number to nearest multiple of 5","body":"<pre><code>int roundUp(int num) {\n    return ((num / 5) + (num % 5 &gt; 0 ? 1 : 0)) * 5;\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2282565,"reputation":1515,"user_id":2007325,"accept_rate":73,"display_name":"Praveen Kumar"},"score":2,"creation_date":1596030493,"post_id":9303678,"comment_id":111678945,"body_markdown":"Why are we adding 4 to the number?","body":"Why are we adding 4 to the number?"},{"owner":{"account_id":207277,"reputation":14528,"user_id":457059,"accept_rate":65,"display_name":"stoefln"},"score":1,"creation_date":1655755626,"post_id":9303678,"comment_id":128402567,"body_markdown":"4 === n-1\nSo you can replace it with &quot;return (n + n - 1) / n * n;&quot;","body":"4 === n-1 So you can replace it with &quot;return (n + n - 1) / n * n;&quot;"}],"tags":[],"owner":{"account_id":6328,"reputation":10132,"user_id":10592,"accept_rate":79,"display_name":"Tim Cooper"},"comment_count":2,"down_vote_count":0,"up_vote_count":71,"is_accepted":true,"score":71,"last_activity_date":1329351172,"creation_date":1329351172,"answer_id":9303678,"question_id":9303604,"body_markdown":"    int roundUp(int n) {\r\n        return (n + 4) / 5 * 5;\r\n    }\r\n\r\nNote - YankeeWhiskey&#39;s answer is rounding to the closest multiple, this is rounding up. Needs a modification if you need it to work for negative numbers.  Note that integer division followed by integer multiplication of the same number is the way to round down.","title":"Rounding up a number to nearest multiple of 5","body":"<pre><code>int roundUp(int n) {\n    return (n + 4) / 5 * 5;\n}\n</code></pre>\n\n<p>Note - YankeeWhiskey's answer is rounding to the closest multiple, this is rounding up. Needs a modification if you need it to work for negative numbers.  Note that integer division followed by integer multiplication of the same number is the way to round down.</p>\n"},{"comments":[{"owner":{"account_id":353069,"reputation":7200,"user_id":690553,"accept_rate":76,"display_name":"Amir Pashazadeh"},"score":1,"creation_date":1329351626,"post_id":9303684,"comment_id":11734952,"body_markdown":"**multipleOf** is an int, so dividing it by 2 can cause problems.","body":"<b>multipleOf</b> is an int, so dividing it by 2 can cause problems."},{"owner":{"account_id":353069,"reputation":7200,"user_id":690553,"accept_rate":76,"display_name":"Amir Pashazadeh"},"score":1,"creation_date":1329351659,"post_id":9303684,"comment_id":11734962,"body_markdown":"if **multipleOf == 5** then **multipleOf/2 == 2**","body":"if <b>multipleOf == 5</b> then <b>multipleOf/2 == 2</b>"},{"owner":{"account_id":80364,"reputation":90939,"user_id":227299,"accept_rate":72,"display_name":"Ruan Mendes"},"score":0,"creation_date":1329352567,"post_id":9303684,"comment_id":11735126,"body_markdown":"@AmirPashazadeh: That&#39;s correct, I also needed to use floor, instead of round since I&#39;m already adding `multipleOf/2`. See any other problems?","body":"@AmirPashazadeh: That&#39;s correct, I also needed to use floor, instead of round since I&#39;m already adding <code>multipleOf&#47;2</code>. See any other problems?"}],"tags":[],"owner":{"account_id":80364,"reputation":90939,"user_id":227299,"accept_rate":72,"display_name":"Ruan Mendes"},"comment_count":3,"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1653399541,"creation_date":1329351204,"answer_id":9303684,"question_id":9303604,"body_markdown":"I think I have it, thanks to [Amir][1]\r\n\r\n    double round( double num, int multipleOf) {\r\n      return Math.floor((num + multipleOf/2) / multipleOf) * multipleOf;\r\n    }\r\n\r\n\r\n\r\nHere&#39;s the code I ran\r\n\r\n\r\n    class Round {\r\n        public static void main(String[] args){\r\n            System.out.println(&quot;3.5 round to 5: &quot; + Round.round(3.5, 5));\r\n            System.out.println(&quot;12 round to 6: &quot; + Round.round(12, 6));\r\n            System.out.println(&quot;11 round to 7: &quot;+ Round.round(11, 7));\r\n            System.out.println(&quot;5 round to 2: &quot; + Round.round(5, 2));\r\n            System.out.println(&quot;6.2 round to 2: &quot; + Round.round(6.2, 2));\r\n        }\r\n    \r\n        public static double round(double num, int multipleOf) {\r\n            return Math.floor((num +  (double)multipleOf / 2) / multipleOf) * multipleOf;\r\n        }\r\n    }\r\n\r\nAnd here&#39;s the output\r\n\r\n    3.5 round to 5: 5.0\r\n    12 round to 6: 12.0\r\n    11 round to 7: 14.0\r\n    5 round to 2: 6.0\r\n    6.2 round to 2: 6.0\r\n\r\n\r\n  [1]: https://stackoverflow.com/users/690553/amir-pashazadeh","title":"Rounding up a number to nearest multiple of 5","body":"<p>I think I have it, thanks to <a href=\"https://stackoverflow.com/users/690553/amir-pashazadeh\">Amir</a></p>\n<pre><code>double round( double num, int multipleOf) {\n  return Math.floor((num + multipleOf/2) / multipleOf) * multipleOf;\n}\n</code></pre>\n<p>Here's the code I ran</p>\n<pre><code>class Round {\n    public static void main(String[] args){\n        System.out.println(&quot;3.5 round to 5: &quot; + Round.round(3.5, 5));\n        System.out.println(&quot;12 round to 6: &quot; + Round.round(12, 6));\n        System.out.println(&quot;11 round to 7: &quot;+ Round.round(11, 7));\n        System.out.println(&quot;5 round to 2: &quot; + Round.round(5, 2));\n        System.out.println(&quot;6.2 round to 2: &quot; + Round.round(6.2, 2));\n    }\n\n    public static double round(double num, int multipleOf) {\n        return Math.floor((num +  (double)multipleOf / 2) / multipleOf) * multipleOf;\n    }\n}\n</code></pre>\n<p>And here's the output</p>\n<pre><code>3.5 round to 5: 5.0\n12 round to 6: 12.0\n11 round to 7: 14.0\n5 round to 2: 6.0\n6.2 round to 2: 6.0\n</code></pre>\n"},{"comments":[{"owner":{"account_id":80364,"reputation":90939,"user_id":227299,"accept_rate":72,"display_name":"Ruan Mendes"},"score":0,"creation_date":1329352947,"post_id":9303739,"comment_id":11735197,"body_markdown":"Tested this with my examples and it works. Even for any kind of multiples `public static int roundUp(double num, int multipleOf) {\n        return  (int) (Math.ceil(num / (double)multipleOf) * multipleOf); }`","body":"Tested this with my examples and it works. Even for any kind of multiples <code>public static int roundUp(double num, int multipleOf) {         return  (int) (Math.ceil(num &#47; (double)multipleOf) * multipleOf); }</code>"}],"tags":[],"owner":{"account_id":353069,"reputation":7200,"user_id":690553,"accept_rate":76,"display_name":"Amir Pashazadeh"},"comment_count":1,"down_vote_count":1,"up_vote_count":11,"is_accepted":false,"score":10,"last_activity_date":1329351550,"creation_date":1329351550,"answer_id":9303739,"question_id":9303604,"body_markdown":"    int roundUp(int num) {\r\n        return (int) (Math.ceil(num / 5d) * 5);\r\n    }","title":"Rounding up a number to nearest multiple of 5","body":"<pre><code>int roundUp(int num) {\n    return (int) (Math.ceil(num / 5d) * 5);\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":266709,"reputation":11856,"user_id":554431,"display_name":"bestsss"},"score":0,"creation_date":1329354321,"post_id":9303815,"comment_id":11735410,"body_markdown":"the formula is (x+y-1)/y, dunno if recursive is just to look cool, imagine it was few thousands - bam StackOverflow.","body":"the formula is (x+y-1)/y, dunno if recursive is just to look cool, imagine it was few thousands - bam StackOverflow."},{"owner":{"account_id":169922,"reputation":53254,"user_id":396300,"accept_rate":91,"display_name":"Timmy O&#39;Mahony"},"score":2,"creation_date":1329354567,"post_id":9303815,"comment_id":11735471,"body_markdown":"you caught me. I often float around stack overflow trying to look cool. It was an alternative suggestion. There are numerous approaches.","body":"you caught me. I often float around stack overflow trying to look cool. It was an alternative suggestion. There are numerous approaches."},{"owner":{"display_name":"user14248283"},"score":0,"creation_date":1599482576,"post_id":9303815,"comment_id":112780030,"body_markdown":"@TimmyO&#39;Mahony recursion is unnecessary and completely inefficient in this","body":"@TimmyO&#39;Mahony recursion is unnecessary and completely inefficient in this"}],"tags":[],"owner":{"account_id":169922,"reputation":53254,"user_id":396300,"accept_rate":91,"display_name":"Timmy O&#39;Mahony"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1329353788,"creation_date":1329352193,"answer_id":9303815,"question_id":9303604,"body_markdown":"Recursive:\r\n\r\n    public static int round(int n){\r\n        return (n%5==0) ? n : round(++n);\r\n    }","title":"Rounding up a number to nearest multiple of 5","body":"<p>Recursive:</p>\n\n<pre><code>public static int round(int n){\n    return (n%5==0) ? n : round(++n);\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":5843454,"reputation":1888,"user_id":4604259,"accept_rate":38,"display_name":"mils"},"score":4,"creation_date":1459479464,"post_id":9303816,"comment_id":60315829,"body_markdown":"This is by far the best answer. It is universal, it will work for rounding to the nearest of any whole number (e.g. 2 or 5) or any fraction (e.g. 0.1 or 0.05).","body":"This is by far the best answer. It is universal, it will work for rounding to the nearest of any whole number (e.g. 2 or 5) or any fraction (e.g. 0.1 or 0.05)."},{"owner":{"account_id":5843454,"reputation":1888,"user_id":4604259,"accept_rate":38,"display_name":"mils"},"score":1,"creation_date":1459479796,"post_id":9303816,"comment_id":60315916,"body_markdown":"But it must be edited to take and return doubles in order to work for fractional numbers","body":"But it must be edited to take and return doubles in order to work for fractional numbers"},{"owner":{"account_id":241856,"reputation":10898,"user_id":512958,"accept_rate":80,"display_name":"dave.c"},"score":4,"creation_date":1508494904,"post_id":9303816,"comment_id":80641534,"body_markdown":"I&#39;m not sure why this has so many votes when it doesn&#39;t actually compile","body":"I&#39;m not sure why this has so many votes when it doesn&#39;t actually compile"},{"owner":{"account_id":3426680,"reputation":587,"user_id":2872279,"accept_rate":100,"display_name":"NBTX"},"score":0,"creation_date":1510432354,"post_id":9303816,"comment_id":81435590,"body_markdown":"@dave.c It does compile.","body":"@dave.c It does compile."},{"owner":{"account_id":241856,"reputation":10898,"user_id":512958,"accept_rate":80,"display_name":"dave.c"},"score":3,"creation_date":1510583459,"post_id":9303816,"comment_id":81483946,"body_markdown":"@SamJakob When I compile it with Java 1.8.0_152 I get `error: incompatible types: possible lossy conversion from long to int`.  In order to get it to compile you need to either cast the result of `Math.round` or change the return type to `long`.","body":"@SamJakob When I compile it with Java 1.8.0_152 I get <code>error: incompatible types: possible lossy conversion from long to int</code>.  In order to get it to compile you need to either cast the result of <code>Math.round</code> or change the return type to <code>long</code>."},{"owner":{"account_id":3426680,"reputation":587,"user_id":2872279,"accept_rate":100,"display_name":"NBTX"},"score":0,"creation_date":1510601818,"post_id":9303816,"comment_id":81495265,"body_markdown":"@dave.c My bad - I didn&#39;t notice that, I only used it in a function that returns a double.","body":"@dave.c My bad - I didn&#39;t notice that, I only used it in a function that returns a double."},{"owner":{"account_id":1471958,"reputation":576,"user_id":1383284,"accept_rate":40,"display_name":"Ricardo Belchior"},"score":8,"creation_date":1520606582,"post_id":9303816,"comment_id":85397164,"body_markdown":"Props for giving the correct answer. Zero props for using unreadable variable names (double i , double v).","body":"Props for giving the correct answer. Zero props for using unreadable variable names (double i , double v)."},{"owner":{"account_id":30014,"reputation":20532,"user_id":81520,"accept_rate":84,"display_name":"Peter Perh&#225;č"},"score":0,"creation_date":1531908477,"post_id":9303816,"comment_id":89769274,"body_markdown":"nitpicking: how do you round to the nearest &quot;Foo&quot; ? shouldn&#39;t say &quot;any value&quot;, perhaps &quot;any integer value&quot; ?","body":"nitpicking: how do you round to the nearest &quot;Foo&quot; ? shouldn&#39;t say &quot;any value&quot;, perhaps &quot;any integer value&quot; ?"}],"tags":[],"owner":{"account_id":1234938,"reputation":1673,"user_id":1198717,"display_name":"Arkia"},"comment_count":8,"down_vote_count":0,"up_vote_count":148,"is_accepted":false,"score":148,"last_activity_date":1667306200,"creation_date":1329352209,"answer_id":9303816,"question_id":9303604,"body_markdown":"To round to the nearest of any value:\r\n\r\n    int round(double value, int nearest) {\r\n        return (int) Math.round(value / nearest) * nearest;\r\n    }\r\n\r\n\r\nYou can also replace `Math.round()` with either `Math.floor()` or `Math.ceil()` to make it always round down or always round up.","title":"Rounding up a number to nearest multiple of 5","body":"<p>To round to the nearest of any value:</p>\n<pre><code>int round(double value, int nearest) {\n    return (int) Math.round(value / nearest) * nearest;\n}\n</code></pre>\n<p>You can also replace <code>Math.round()</code> with either <code>Math.floor()</code> or <code>Math.ceil()</code> to make it always round down or always round up.</p>\n"},{"comments":[{"owner":{"account_id":9714769,"reputation":394,"user_id":7205551,"accept_rate":50,"display_name":"mindoverflow"},"score":1,"creation_date":1597411390,"post_id":25639572,"comment_id":112131582,"body_markdown":"YandereDev, is that you?","body":"YandereDev, is that you?"}],"tags":[],"owner":{"account_id":2816143,"reputation":1,"user_id":2421168,"display_name":"Alex"},"comment_count":1,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1409734324,"creation_date":1409732542,"answer_id":25639572,"question_id":9303604,"body_markdown":"    if (n % 5 == 1){\r\n       n -= 1;\r\n    } else if (n % 5 == 2) {\r\n       n -= 2;\r\n    } else if (n % 5 == 3) {\r\n       n += 2;\r\n    } else if (n % 5 == 4) {\r\n       n += 1;\r\n    }","title":"Rounding up a number to nearest multiple of 5","body":"<pre><code>if (n % 5 == 1){\n   n -= 1;\n} else if (n % 5 == 2) {\n   n -= 2;\n} else if (n % 5 == 3) {\n   n += 2;\n} else if (n % 5 == 4) {\n   n += 1;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":68835,"reputation":3,"user_id":200624,"display_name":"michael lowden"},"comment_count":0,"down_vote_count":4,"up_vote_count":0,"is_accepted":false,"score":-4,"last_activity_date":1414802565,"creation_date":1414802565,"answer_id":26685227,"question_id":9303604,"body_markdown":"&lt;b&gt;CODE:&lt;/b&gt;\r\n&lt;pre&gt;\r\n    public class MyMath\r\n    {\r\n        public static void main(String[] args) {\r\n            runTests();\r\n        }\r\n        public static double myFloor(double num, double multipleOf) {\r\n            return ( Math.floor(num / multipleOf) * multipleOf );\r\n        }\r\n        public static double myCeil (double num, double multipleOf) {\r\n            return ( Math.ceil (num / multipleOf) * multipleOf );\r\n        }\r\n\r\n        private static void runTests() {\r\n            System.out.println(&quot;myFloor (57.3,  0.1) : &quot; + myFloor(57.3, 0.1));\r\n            System.out.println(&quot;myCeil  (57.3,  0.1) : &quot; + myCeil (57.3, 0.1));\r\n            System.out.println(&quot;&quot;);\r\n            System.out.println(&quot;myFloor (57.3,  1.0) : &quot; + myFloor(57.3, 1.0));\r\n            System.out.println(&quot;myCeil  (57.3,  1.0) : &quot; + myCeil (57.3, 1.0));\r\n            System.out.println(&quot;&quot;);\r\n            System.out.println(&quot;myFloor (57.3,  5.0) : &quot; + myFloor(57.3, 5.0));\r\n            System.out.println(&quot;myCeil  (57.3,  5.0) : &quot; + myCeil (57.3, 5.0));\r\n            System.out.println(&quot;&quot;);\r\n            System.out.println(&quot;myFloor (57.3, 10.0) : &quot; + myFloor(57.3,10.0));\r\n            System.out.println(&quot;myCeil  (57.3, 10.0) : &quot; + myCeil (57.3,10.0));\r\n        }\r\n    }\r\n&lt;/pre&gt;\r\n&lt;b&gt;OUTPUT:&lt;/b&gt;There is a bug in the myCeil for multiples of 0.1 too ... no idea why.\r\n&lt;pre&gt;\r\n    myFloor (57.3,  0.1) : 57.2\r\n    myCeil  (57.3,  0.1) : 57.300000000000004\r\n\r\n    myFloor (57.3,  1.0) : 57.0\r\n    myCeil  (57.3,  1.0) : 58.0\r\n\r\n    myFloor (57.3,  5.0) : 55.0\r\n    myCeil  (57.3,  5.0) : 60.0\r\n\r\n    myFloor (57.3, 10.0) : 50.0\r\n    myCeil  (57.3, 10.0) : 60.0\r\n&lt;/pre&gt;","title":"Rounding up a number to nearest multiple of 5","body":"<p><b>CODE:</b></p>\n\n<pre>\n    public class MyMath\n    {\n        public static void main(String[] args) {\n            runTests();\n        }\n        public static double myFloor(double num, double multipleOf) {\n            return ( Math.floor(num / multipleOf) * multipleOf );\n        }\n        public static double myCeil (double num, double multipleOf) {\n            return ( Math.ceil (num / multipleOf) * multipleOf );\n        }\n\n        private static void runTests() {\n            System.out.println(\"myFloor (57.3,  0.1) : \" + myFloor(57.3, 0.1));\n            System.out.println(\"myCeil  (57.3,  0.1) : \" + myCeil (57.3, 0.1));\n            System.out.println(\"\");\n            System.out.println(\"myFloor (57.3,  1.0) : \" + myFloor(57.3, 1.0));\n            System.out.println(\"myCeil  (57.3,  1.0) : \" + myCeil (57.3, 1.0));\n            System.out.println(\"\");\n            System.out.println(\"myFloor (57.3,  5.0) : \" + myFloor(57.3, 5.0));\n            System.out.println(\"myCeil  (57.3,  5.0) : \" + myCeil (57.3, 5.0));\n            System.out.println(\"\");\n            System.out.println(\"myFloor (57.3, 10.0) : \" + myFloor(57.3,10.0));\n            System.out.println(\"myCeil  (57.3, 10.0) : \" + myCeil (57.3,10.0));\n        }\n    }\n</pre>\n\n<p><b>OUTPUT:</b>There is a bug in the myCeil for multiples of 0.1 too ... no idea why.</p>\n\n<pre>\n    myFloor (57.3,  0.1) : 57.2\n    myCeil  (57.3,  0.1) : 57.300000000000004\n\n    myFloor (57.3,  1.0) : 57.0\n    myCeil  (57.3,  1.0) : 58.0\n\n    myFloor (57.3,  5.0) : 55.0\n    myCeil  (57.3,  5.0) : 60.0\n\n    myFloor (57.3, 10.0) : 50.0\n    myCeil  (57.3, 10.0) : 60.0\n</pre>\n"},{"tags":[],"owner":{"account_id":5444694,"reputation":93,"user_id":4331659,"display_name":"user1023"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1426250943,"creation_date":1426250943,"answer_id":29032683,"question_id":9303604,"body_markdown":"Just pass your number to this function as a double, it will return you rounding the decimal value up to the nearest value of 5;\r\n\r\nif 4.25, Output 4.25\r\n\r\nif 4.20, Output 4.20\r\n\r\nif 4.24, Output 4.20\r\n\r\nif 4.26, Output 4.30\r\n\r\n\r\nif you want to round upto 2 decimal places,then use\r\n\r\n    DecimalFormat df = new DecimalFormat(&quot;#.##&quot;);\r\n    roundToMultipleOfFive(Double.valueOf(df.format(number)));\r\n\r\nif up to 3 places, new DecimalFormat(&quot;#.###&quot;) \r\n\r\nif up to n places, new DecimalFormat(&quot;#.**nTimes #**&quot;)\r\n\r\n     public double roundToMultipleOfFive(double x)\r\n                {\r\n                    \r\n                    x=input.nextDouble();\r\n                    String str=String.valueOf(x);\r\n                    int pos=0;\r\n                    for(int i=0;i&lt;str.length();i++)\r\n                    {\r\n                        if(str.charAt(i)==&#39;.&#39;)\r\n                        {\r\n                            pos=i;\r\n                            break;\r\n                        }\r\n                    }\r\n                   \r\n                    int after=Integer.parseInt(str.substring(pos+1,str.length()));\r\n                    int Q=after/5;\r\n                    int R =after%5;\r\n                    \r\n                    if((Q%2)==0)\r\n                    {\r\n                        after=after-R;\r\n                    }\r\n                    else\r\n                    {\r\n                        after=after+(5-R);\r\n                    }\r\n                    \r\n                           return Double.parseDouble(str.substring(0,pos+1).concat(String.valueOf(after))));\r\n                    \r\n                }","title":"Rounding up a number to nearest multiple of 5","body":"<p>Just pass your number to this function as a double, it will return you rounding the decimal value up to the nearest value of 5;</p>\n\n<p>if 4.25, Output 4.25</p>\n\n<p>if 4.20, Output 4.20</p>\n\n<p>if 4.24, Output 4.20</p>\n\n<p>if 4.26, Output 4.30</p>\n\n<p>if you want to round upto 2 decimal places,then use</p>\n\n<pre><code>DecimalFormat df = new DecimalFormat(\"#.##\");\nroundToMultipleOfFive(Double.valueOf(df.format(number)));\n</code></pre>\n\n<p>if up to 3 places, new DecimalFormat(\"#.###\") </p>\n\n<p>if up to n places, new DecimalFormat(\"#.<strong>nTimes #</strong>\")</p>\n\n<pre><code> public double roundToMultipleOfFive(double x)\n            {\n\n                x=input.nextDouble();\n                String str=String.valueOf(x);\n                int pos=0;\n                for(int i=0;i&lt;str.length();i++)\n                {\n                    if(str.charAt(i)=='.')\n                    {\n                        pos=i;\n                        break;\n                    }\n                }\n\n                int after=Integer.parseInt(str.substring(pos+1,str.length()));\n                int Q=after/5;\n                int R =after%5;\n\n                if((Q%2)==0)\n                {\n                    after=after-R;\n                }\n                else\n                {\n                    after=after+(5-R);\n                }\n\n                       return Double.parseDouble(str.substring(0,pos+1).concat(String.valueOf(after))));\n\n            }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":479329,"reputation":8889,"user_id":891945,"accept_rate":73,"display_name":"LukeWaggoner"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1432672574,"creation_date":1432614259,"answer_id":30449433,"question_id":9303604,"body_markdown":"Here&#39;s what I use for rounding to multiples of a number:\r\n\r\n    private int roundToMultipleOf(int current, int multipleOf, Direction direction){\r\n        if (current % multipleOf == 0){\r\n            return ((current / multipleOf) + (direction == Direction.UP ? 1 : -1)) * multipleOf;\r\n        }\r\n        return (direction == Direction.UP ? (int) Math.ceil((double) current / multipleOf) : (direction == Direction.DOWN ? (int) Math.floor((double) current / multipleOf) : current)) * multipleOf;\r\n    }\r\n\r\nThe variable `current` is the number you&#39;re rounding, `multipleOf` is whatever you&#39;re wanting a multiple of (i.e. round to nearest 20, nearest 10, etc), and `direction` is an enum I made to either round up or down.\r\n\r\nGood luck!","title":"Rounding up a number to nearest multiple of 5","body":"<p>Here's what I use for rounding to multiples of a number:</p>\n\n<pre><code>private int roundToMultipleOf(int current, int multipleOf, Direction direction){\n    if (current % multipleOf == 0){\n        return ((current / multipleOf) + (direction == Direction.UP ? 1 : -1)) * multipleOf;\n    }\n    return (direction == Direction.UP ? (int) Math.ceil((double) current / multipleOf) : (direction == Direction.DOWN ? (int) Math.floor((double) current / multipleOf) : current)) * multipleOf;\n}\n</code></pre>\n\n<p>The variable <code>current</code> is the number you're rounding, <code>multipleOf</code> is whatever you're wanting a multiple of (i.e. round to nearest 20, nearest 10, etc), and <code>direction</code> is an enum I made to either round up or down.</p>\n\n<p>Good luck!</p>\n"},{"tags":[],"owner":{"account_id":4749302,"reputation":759,"user_id":3839722,"accept_rate":100,"display_name":"Peter Griffin"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1460112196,"creation_date":1460112196,"answer_id":36497643,"question_id":9303604,"body_markdown":"Some people are saying something like\r\n\r\n    int n = [some number]\r\n    int rounded = (n + 5) / 5 * 5;\r\n\r\nThis will round, say, 5 to 10, as well as 6, 7, 8, and 9 (all to 10).  You don&#39;t want 5 to round to 10 though.  When dealing with just integers, you want to instead add 4 to n instead of 5.  So take that code and replace the 5 with a 4:\r\n\r\n    int n = [some number]\r\n    int rounded = (n + 4) / 5 * 5;\r\n\r\nOf course, when dealing with doubles, just put something like 4.99999, or if you want to account for all cases (if you might be dealing with even more precise doubles), add a condition statement:\r\n\r\n    int n = [some number]\r\n    int rounded = n % 5 == 0 ? n : (n + 4) / 5 * 5;","title":"Rounding up a number to nearest multiple of 5","body":"<p>Some people are saying something like</p>\n\n<pre><code>int n = [some number]\nint rounded = (n + 5) / 5 * 5;\n</code></pre>\n\n<p>This will round, say, 5 to 10, as well as 6, 7, 8, and 9 (all to 10).  You don't want 5 to round to 10 though.  When dealing with just integers, you want to instead add 4 to n instead of 5.  So take that code and replace the 5 with a 4:</p>\n\n<pre><code>int n = [some number]\nint rounded = (n + 4) / 5 * 5;\n</code></pre>\n\n<p>Of course, when dealing with doubles, just put something like 4.99999, or if you want to account for all cases (if you might be dealing with even more precise doubles), add a condition statement:</p>\n\n<pre><code>int n = [some number]\nint rounded = n % 5 == 0 ? n : (n + 4) / 5 * 5;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1247339,"reputation":11852,"user_id":1208510,"accept_rate":98,"display_name":"Rahul Baradia"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1462956382,"creation_date":1462956382,"answer_id":37157403,"question_id":9303604,"body_markdown":"Another Method or logic to rounding up a number to nearest multiple of 5\r\n\r\n    double num = 18.0;\r\n\t\tif (num % 5 == 0)\r\n\t\t\tSystem.out.println(&quot;No need to roundoff&quot;);\r\n\t\telse if (num % 5 &lt; 2.5)\r\n\t\t\tnum = num - num % 5;\r\n\t\telse\r\n\t\t\tnum = num + (5 - num % 5);\r\n\t\tSystem.out.println(&quot;Rounding up to nearest 5------&quot; + num);\r\n\r\noutput :\r\n\r\n    Rounding up to nearest 5------20.0","title":"Rounding up a number to nearest multiple of 5","body":"<p>Another Method or logic to rounding up a number to nearest multiple of 5</p>\n\n<pre><code>double num = 18.0;\n    if (num % 5 == 0)\n        System.out.println(\"No need to roundoff\");\n    else if (num % 5 &lt; 2.5)\n        num = num - num % 5;\n    else\n        num = num + (5 - num % 5);\n    System.out.println(\"Rounding up to nearest 5------\" + num);\n</code></pre>\n\n<p>output :</p>\n\n<pre><code>Rounding up to nearest 5------20.0\n</code></pre>\n"},{"comments":[{"owner":{"account_id":433754,"reputation":38783,"user_id":995714,"accept_rate":56,"display_name":"phuclv"},"score":5,"creation_date":1531447157,"post_id":45143045,"comment_id":89609616,"body_markdown":"this is one of the worst way because it needs to do a slow division multiple times","body":"this is one of the worst way because it needs to do a slow division multiple times"}],"tags":[],"owner":{"account_id":5527443,"reputation":1,"user_id":4388531,"display_name":"Supreeth"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1531447145,"creation_date":1500290785,"answer_id":45143045,"question_id":9303604,"body_markdown":"Round a given number to the nearest multiple of 5.\r\n\r\n    public static int round(int n)\r\n      while (n % 5 != 0) n++;\r\n      return n; \r\n    }\r\n\r\n","title":"Rounding up a number to nearest multiple of 5","body":"<p>Round a given number to the nearest multiple of 5.</p>\n\n<pre><code>public static int round(int n)\n  while (n % 5 != 0) n++;\n  return n; \n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":6327856,"reputation":501,"user_id":4913747,"accept_rate":73,"display_name":"FreshMike"},"score":0,"creation_date":1571234820,"post_id":45862045,"comment_id":103173367,"body_markdown":"Does not work for  31.428 =&gt; 31 , but does 32 when nearest =1","body":"Does not work for  31.428 =&gt; 31 , but does 32 when nearest =1"}],"tags":[],"owner":{"account_id":7020571,"reputation":947,"user_id":5380105,"accept_rate":60,"display_name":"Fima Taf"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1503578764,"creation_date":1503578764,"answer_id":45862045,"question_id":9303604,"body_markdown":"I&#39;ve created a method that can convert a number to the nearest that will be passed in, maybe it will help to someone, because i saw a lot of ways here and it did not worked for me but this one did:\r\n\r\n    /**\r\n\t * The method is rounding a number per the number and the nearest that will be passed in.\r\n\t * If the nearest is 5 - (63-&gt;65) | 10 - (124-&gt;120).\r\n\t * @param num - The number to round\r\n\t * @param nearest - The nearest number to round to (If the nearest is 5 -&gt; (0 - 2.49 will round down) || (2.5-4.99 will round up))\r\n\t * @return Double - The rounded number\r\n\t */\r\n\tprivate Double round (double num, int nearest) {\r\n\t\tif (num % nearest &gt;= nearest / 2) {\r\n\t\t\tnum = num + ((num % nearest - nearest) * -1);\r\n\t\t} else if (num % nearest &lt; nearest / 2) {\r\n\t\t\tnum = num - (num % nearest);\r\n\t\t}\r\n\t\treturn num;\r\n\t}\r\n\r\n ","title":"Rounding up a number to nearest multiple of 5","body":"<p>I've created a method that can convert a number to the nearest that will be passed in, maybe it will help to someone, because i saw a lot of ways here and it did not worked for me but this one did:</p>\n\n<pre><code>/**\n * The method is rounding a number per the number and the nearest that will be passed in.\n * If the nearest is 5 - (63-&gt;65) | 10 - (124-&gt;120).\n * @param num - The number to round\n * @param nearest - The nearest number to round to (If the nearest is 5 -&gt; (0 - 2.49 will round down) || (2.5-4.99 will round up))\n * @return Double - The rounded number\n */\nprivate Double round (double num, int nearest) {\n    if (num % nearest &gt;= nearest / 2) {\n        num = num + ((num % nearest - nearest) * -1);\n    } else if (num % nearest &lt; nearest / 2) {\n        num = num - (num % nearest);\n    }\n    return num;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6831622,"reputation":1180,"user_id":5255393,"accept_rate":80,"display_name":"Dave_cz"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1511200617,"creation_date":1511200617,"answer_id":47398268,"question_id":9303604,"body_markdown":"In case you only need to round **whole numbers** you can use this function:\r\n\r\n    public static long roundTo(long value, long roundTo) {\r\n        if (roundTo &lt;= 0) {\r\n            throw new IllegalArgumentException(&quot;Parameter &#39;roundTo&#39; must be larger than 0&quot;);\r\n        }\r\n        long remainder = value % roundTo;\r\n        if (Math.abs(remainder) &lt; (roundTo / 2d)) {\r\n            return value - remainder;\r\n        } else {\r\n            if (value &gt; 0) {\r\n                return value + (roundTo - Math.abs(remainder));\r\n            } else {\r\n                return value - (roundTo - Math.abs(remainder));\r\n            }\r\n        }\r\n    }\r\nThe advantage is that it uses integer arithmetics and works even for large long numbers where the floating point division will cause you problems.","title":"Rounding up a number to nearest multiple of 5","body":"<p>In case you only need to round <strong>whole numbers</strong> you can use this function:</p>\n\n<pre><code>public static long roundTo(long value, long roundTo) {\n    if (roundTo &lt;= 0) {\n        throw new IllegalArgumentException(\"Parameter 'roundTo' must be larger than 0\");\n    }\n    long remainder = value % roundTo;\n    if (Math.abs(remainder) &lt; (roundTo / 2d)) {\n        return value - remainder;\n    } else {\n        if (value &gt; 0) {\n            return value + (roundTo - Math.abs(remainder));\n        } else {\n            return value - (roundTo - Math.abs(remainder));\n        }\n    }\n}\n</code></pre>\n\n<p>The advantage is that it uses integer arithmetics and works even for large long numbers where the floating point division will cause you problems.</p>\n"},{"tags":[],"owner":{"account_id":8325086,"reputation":11,"user_id":6255398,"display_name":"Pratiksha"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1533555601,"creation_date":1533555601,"answer_id":51706801,"question_id":9303604,"body_markdown":"    int roundUp(int n, int multipleOf)\r\n    {\r\n      int a = (n / multipleOf) * multipleOf;\r\n      int b = a + multipleOf;\r\n      return (n - a &gt; b - n)? b : a;\r\n    }\r\n\r\nsource: https://www.geeksforgeeks.org/round-the-given-number-to-nearest-multiple-of-10/","title":"Rounding up a number to nearest multiple of 5","body":"<pre><code>int roundUp(int n, int multipleOf)\n{\n  int a = (n / multipleOf) * multipleOf;\n  int b = a + multipleOf;\n  return (n - a &gt; b - n)? b : a;\n}\n</code></pre>\n\n<p>source: <a href=\"https://www.geeksforgeeks.org/round-the-given-number-to-nearest-multiple-of-10/\" rel=\"nofollow noreferrer\">https://www.geeksforgeeks.org/round-the-given-number-to-nearest-multiple-of-10/</a></p>\n"},{"tags":[],"owner":{"account_id":9898768,"reputation":41,"user_id":7329408,"display_name":"mohamed elagamy"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1545490565,"creation_date":1545488246,"answer_id":53896395,"question_id":9303604,"body_markdown":"    int getNextMultiple(int num , int multipleOf) {\r\n        int nextDiff = multipleOf - (num % multipleOf);\r\n        int total = num + nextDiff;\r\n        return total;\r\n    }","title":"Rounding up a number to nearest multiple of 5","body":"<pre><code>int getNextMultiple(int num , int multipleOf) {\n    int nextDiff = multipleOf - (num % multipleOf);\n    int total = num + nextDiff;\n    return total;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8665140,"reputation":68,"user_id":6485985,"display_name":"Sarath"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1547713366,"creation_date":1547713366,"answer_id":54231673,"question_id":9303604,"body_markdown":"     int roundToNearestMultiple(int num, int multipleOf){\r\n        \tint floorNearest = ((int) Math.floor(num * 1.0/multipleOf)) * multipleOf;\r\n        \tint ceilNearest = ((int) Math.ceil(num  * 1.0/multipleOf)) * multipleOf;\r\n        \tint floorNearestDiff = Math.abs(floorNearest - num);\r\n        \tint ceilNearestDiff = Math.abs(ceilNearest - num);\r\n        \tif(floorNearestDiff &lt;= ceilNearestDiff) {\r\n        \t\treturn floorNearest;\r\n        \t} else {\r\n        \t\treturn ceilNearest;\r\n        \t} \r\n        }","title":"Rounding up a number to nearest multiple of 5","body":"<pre><code> int roundToNearestMultiple(int num, int multipleOf){\n        int floorNearest = ((int) Math.floor(num * 1.0/multipleOf)) * multipleOf;\n        int ceilNearest = ((int) Math.ceil(num  * 1.0/multipleOf)) * multipleOf;\n        int floorNearestDiff = Math.abs(floorNearest - num);\n        int ceilNearestDiff = Math.abs(ceilNearest - num);\n        if(floorNearestDiff &lt;= ceilNearestDiff) {\n            return floorNearest;\n        } else {\n            return ceilNearest;\n        } \n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14261139,"reputation":21,"user_id":10301889,"display_name":"Werner Fouch&#233;"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1586424463,"creation_date":1586424463,"answer_id":61117951,"question_id":9303604,"body_markdown":"This Kotlin function rounds a given value &#39;x&#39; to the closest multiple of &#39;n&#39;\r\n\r\n    fun roundXN(x: Long, n: Long): Long {\r\n        require(n &gt; 0) { &quot;n(${n}) is not greater than 0.&quot;}\r\n\r\n        return if (x &gt;= 0)\r\n            ((x + (n / 2.0)) / n).toLong() * n\r\n        else\r\n            ((x - (n / 2.0)) / n).toLong() * n\r\n    }\r\n    \r\n    fun main() {\r\n        println(roundXN(121,4))\r\n    }\r\n\r\nOutput:  120\r\n","title":"Rounding up a number to nearest multiple of 5","body":"<p>This Kotlin function rounds a given value 'x' to the closest multiple of 'n'</p>\n\n<pre><code>fun roundXN(x: Long, n: Long): Long {\n    require(n &gt; 0) { \"n(${n}) is not greater than 0.\"}\n\n    return if (x &gt;= 0)\n        ((x + (n / 2.0)) / n).toLong() * n\n    else\n        ((x - (n / 2.0)) / n).toLong() * n\n}\n\nfun main() {\n    println(roundXN(121,4))\n}\n</code></pre>\n\n<p>Output:  120</p>\n"},{"tags":[],"owner":{"account_id":2012438,"reputation":6799,"user_id":1800583,"accept_rate":59,"display_name":"kittu"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1594584625,"creation_date":1594584625,"answer_id":62865999,"question_id":9303604,"body_markdown":"You can use this method `Math.round(38/5) * 5` to get multiple of 5\r\n\r\nIt can be replace with `Math.ceil` or `Math.floor` based on how you want to round off the number\r\n","title":"Rounding up a number to nearest multiple of 5","body":"<p>You can use this method <code>Math.round(38/5) * 5</code> to get multiple of 5</p>\n<p>It can be replace with <code>Math.ceil</code> or <code>Math.floor</code> based on how you want to round off the number</p>\n"},{"tags":[],"owner":{"account_id":5006676,"reputation":6240,"user_id":4024146,"display_name":"mtrakal"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1624272051,"creation_date":1624054006,"answer_id":68041900,"question_id":9303604,"body_markdown":"Kotlin with extension function.\r\n\r\nPossible run on [play.kotlinlang.org][1]\r\n\r\n```kotlin\r\nimport kotlin.math.roundToLong\r\n\r\nfun Float.roundTo(roundToNearest: Float): Float = (this / roundToNearest).roundToLong() * roundToNearest\r\n\r\nfun main() {    \r\n    println(1.02F.roundTo(1F)) // 1.0\r\n    println(1.9F.roundTo(1F)) // 2.0\r\n    println(1.5F.roundTo(1F)) // 2.0\r\n\r\n    println(1.02F.roundTo(0.5F)) // 1.0\r\n    println(1.19F.roundTo(0.5F)) // 1.0\r\n    println(1.6F.roundTo(0.5F)) // 1.5\r\n    \r\n    println(1.02F.roundTo(0.1F)) // 1.0\r\n    println(1.19F.roundTo(0.1F)) // 1.2\r\n    println(1.51F.roundTo(0.1F)) // 1.5\r\n}\r\n```\r\n\r\nPossible to use floor/ceil like this:\r\n`fun Float.floorTo(roundToNearest: Float): Float = floor(this / roundToNearest) * roundToNearest`\r\n\r\n  [1]: https://pl.kotl.in/j_quDeGj3","title":"Rounding up a number to nearest multiple of 5","body":"<p>Kotlin with extension function.</p>\n<p>Possible run on <a href=\"https://pl.kotl.in/j_quDeGj3\" rel=\"nofollow noreferrer\">play.kotlinlang.org</a></p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>import kotlin.math.roundToLong\n\nfun Float.roundTo(roundToNearest: Float): Float = (this / roundToNearest).roundToLong() * roundToNearest\n\nfun main() {    \n    println(1.02F.roundTo(1F)) // 1.0\n    println(1.9F.roundTo(1F)) // 2.0\n    println(1.5F.roundTo(1F)) // 2.0\n\n    println(1.02F.roundTo(0.5F)) // 1.0\n    println(1.19F.roundTo(0.5F)) // 1.0\n    println(1.6F.roundTo(0.5F)) // 1.5\n    \n    println(1.02F.roundTo(0.1F)) // 1.0\n    println(1.19F.roundTo(0.1F)) // 1.2\n    println(1.51F.roundTo(0.1F)) // 1.5\n}\n</code></pre>\n<p>Possible to use floor/ceil like this:\n<code>fun Float.floorTo(roundToNearest: Float): Float = floor(this / roundToNearest) * roundToNearest</code></p>\n"},{"tags":[],"owner":{"account_id":8405686,"reputation":764,"user_id":6309242,"display_name":"Dave The Dane"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1624401784,"creation_date":1624401784,"answer_id":68091475,"question_id":9303604,"body_markdown":"Praveen Kumars question elsewhere in this Thread\r\n\r\n&gt; &quot;Why are we adding 4 to the number?&quot;\r\n\r\nis very relevant. And it is why I prefer to code it like this:\r\n\r\n    int roundUpToMultipleOf5(final int n) {\r\n        return (n + 5 - 1) / 5 * 5;\r\n    }\r\n\r\nor, passing the value as an argument:\r\n\r\n    int roundUpToMultiple(final int n, final int multipleOf) {\r\n        return (n + multipleOf - 1) / multipleOf * multipleOf;\r\n    }\r\n\r\nBy adding 1 less than the multiple you&#39;re looking for, you&#39;ve added *just enough* to make sure that a value of `n` which is an exact multiple will *not* round up, and any value of `n` which is *not* an exact multiple *will* be rounded up to the next multiple.","title":"Rounding up a number to nearest multiple of 5","body":"<p>Praveen Kumars question elsewhere in this Thread</p>\n<blockquote>\n<p>&quot;Why are we adding 4 to the number?&quot;</p>\n</blockquote>\n<p>is very relevant. And it is why I prefer to code it like this:</p>\n<pre><code>int roundUpToMultipleOf5(final int n) {\n    return (n + 5 - 1) / 5 * 5;\n}\n</code></pre>\n<p>or, passing the value as an argument:</p>\n<pre><code>int roundUpToMultiple(final int n, final int multipleOf) {\n    return (n + multipleOf - 1) / multipleOf * multipleOf;\n}\n</code></pre>\n<p>By adding 1 less than the multiple you're looking for, you've added <em>just enough</em> to make sure that a value of <code>n</code> which is an exact multiple will <em>not</em> round up, and any value of <code>n</code> which is <em>not</em> an exact multiple <em>will</em> be rounded up to the next multiple.</p>\n"},{"tags":[],"owner":{"account_id":25694817,"reputation":1,"user_id":19455683,"display_name":"mazhar_898"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656626718,"creation_date":1656626547,"answer_id":72822494,"question_id":9303604,"body_markdown":"Use this method to get nearest multiple of 5.\r\n\r\n    private int giveNearestMul5(int givenValue){\r\n        int roundedNum = 0;\r\n        int prevMul5, nextMul5;\r\n        prevMul5 = givenValue - givenValue%5;\r\n        nextMul5 = prevMul5 + 5;\r\n        if ((givenValue%5!=0)){\r\n            if ( (givenValue-prevMul5) &lt; (nextMul5-givenValue) ){\r\n                roundedNum = prevMul5;\r\n            } else {\r\n                roundedNum = nextMul5;\r\n            }\r\n        } else{\r\n            roundedNum = givenValue;\r\n        }\r\n\r\n        return roundedNum;\r\n    }","title":"Rounding up a number to nearest multiple of 5","body":"<p>Use this method to get nearest multiple of 5.</p>\n<pre><code>private int giveNearestMul5(int givenValue){\n    int roundedNum = 0;\n    int prevMul5, nextMul5;\n    prevMul5 = givenValue - givenValue%5;\n    nextMul5 = prevMul5 + 5;\n    if ((givenValue%5!=0)){\n        if ( (givenValue-prevMul5) &lt; (nextMul5-givenValue) ){\n            roundedNum = prevMul5;\n        } else {\n            roundedNum = nextMul5;\n        }\n    } else{\n        roundedNum = givenValue;\n    }\n\n    return roundedNum;\n}\n</code></pre>\n"}],"owner":{"account_id":1171586,"reputation":1866,"user_id":1148656,"accept_rate":84,"display_name":"Daniel Cook"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":110697,"favorite_count":0,"down_vote_count":0,"up_vote_count":65,"accepted_answer_id":9303678,"answer_count":24,"score":65,"last_activity_date":1667306200,"creation_date":1329350762,"question_id":9303604,"body_markdown":"Does anyone know how to round up a number to its nearest multiple of 5?  I found an algorithm to round it to the nearest multiple of 10 but I can&#39;t find this one.\r\n\r\nThis does it for ten.\r\n    \r\n    double number = Math.round((len + 5)/ 10.0) * 10.0;","title":"Rounding up a number to nearest multiple of 5","body":"<p>Does anyone know how to round up a number to its nearest multiple of 5?  I found an algorithm to round it to the nearest multiple of 10 but I can't find this one.</p>\n\n<p>This does it for ten.</p>\n\n<pre><code>double number = Math.round((len + 5)/ 10.0) * 10.0;\n</code></pre>\n"},{"tags":["java","macos","swing"],"comments":[{"owner":{"account_id":59464,"reputation":11815,"user_id":177931,"accept_rate":83,"display_name":"ldog"},"score":2,"creation_date":1246430983,"post_id":1065691,"comment_id":879852,"body_markdown":"you are probably going to have to do it C somehow and access the functionally through JNI. I hate macs.","body":"you are probably going to have to do it C somehow and access the functionally through JNI. I hate macs."},{"owner":{"account_id":59464,"reputation":11815,"user_id":177931,"accept_rate":83,"display_name":"ldog"},"score":3,"creation_date":1246431076,"post_id":1065691,"comment_id":879859,"body_markdown":"&quot;Just because your unique doesn&#39;t mean your useful.&quot;","body":"&quot;Just because your unique doesn&#39;t mean your useful.&quot;"}],"answers":[{"comments":[{"owner":{"account_id":17546,"reputation":15607,"user_id":39371,"accept_rate":80,"display_name":"Stephane Grenier"},"score":0,"creation_date":1246545647,"post_id":1066016,"comment_id":887508,"body_markdown":"Thanks. I completely missed the setOpaque() call.","body":"Thanks. I completely missed the setOpaque() call."},{"owner":{"account_id":13817,"reputation":4188,"user_id":27943,"accept_rate":86,"display_name":"Reed Richards"},"score":7,"creation_date":1385483366,"post_id":1066016,"comment_id":30156412,"body_markdown":"Seems that you need to add a setBorderPainted(false) command in order to get the button to opaque(Java 6 on Mavericks).","body":"Seems that you need to add a setBorderPainted(false) command in order to get the button to opaque(Java 6 on Mavericks)."},{"owner":{"account_id":2159418,"reputation":643,"user_id":1913936,"accept_rate":37,"display_name":"Timothy Swan"},"score":13,"creation_date":1411581007,"post_id":1066016,"comment_id":40760179,"body_markdown":"Ok, this isn&#39;t the mac version of setting windows JButton background though. It literally only sets the background behind the button but on windows the button color can be changed. How do you change the gray mac button itself to be another color?","body":"Ok, this isn&#39;t the mac version of setting windows JButton background though. It literally only sets the background behind the button but on windows the button color can be changed. How do you change the gray mac button itself to be another color?"}],"tags":[],"owner":{"account_id":44451,"reputation":3976,"user_id":130516,"display_name":"codethulhu"},"comment_count":3,"down_vote_count":2,"up_vote_count":55,"is_accepted":true,"score":53,"last_activity_date":1246395321,"creation_date":1246395321,"answer_id":1066016,"question_id":1065691,"body_markdown":"Have you tried setting JButton.setOpaque(true)?\r\n        \r\n    JButton button = new JButton(&quot;test&quot;);\r\n    button.setBackground(Color.RED);\r\n    button.setOpaque(true);","title":"How to Set the Background Color of a JButton on the Mac OS","body":"<p>Have you tried setting JButton.setOpaque(true)?</p>\n\n<pre><code>JButton button = new JButton(\"test\");\nbutton.setBackground(Color.RED);\nbutton.setOpaque(true);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2159418,"reputation":643,"user_id":1913936,"accept_rate":37,"display_name":"Timothy Swan"},"score":7,"creation_date":1411581141,"post_id":7647969,"comment_id":40760249,"body_markdown":"Yes, this should actually be the correct answer when trying to get the same results from Window&#39;s perspective. Thank you.","body":"Yes, this should actually be the correct answer when trying to get the same results from Window&#39;s perspective. Thank you."},{"owner":{"account_id":4325802,"reputation":225,"user_id":3532688,"accept_rate":86,"display_name":"Mischa"},"score":1,"creation_date":1431263581,"post_id":7647969,"comment_id":48410943,"body_markdown":"This doesn&#39;t work for me on Windows 7 / Java 8. The button&#39;s surface remains gray, only the bit of the background around the button changes the colour.","body":"This doesn&#39;t work for me on Windows 7 / Java 8. The button&#39;s surface remains gray, only the bit of the background around the button changes the colour."},{"owner":{"account_id":1139336,"reputation":361,"user_id":1123668,"accept_rate":82,"display_name":"BNetz"},"score":0,"creation_date":1481408393,"post_id":7647969,"comment_id":69367924,"body_markdown":"This was the solution for me on Mac OS 10.11 / Java 8. Thanks!","body":"This was the solution for me on Mac OS 10.11 / Java 8. Thanks!"}],"tags":[],"owner":{"account_id":952583,"reputation":421,"user_id":978440,"display_name":"MrSmileFace"},"comment_count":3,"down_vote_count":0,"up_vote_count":42,"is_accepted":false,"score":42,"last_activity_date":1317731771,"creation_date":1317731771,"answer_id":7647969,"question_id":1065691,"body_markdown":"Have you tried setting the painted border false?\r\n\r\n    JButton button = new JButton();\r\n    button.setBackground(Color.red);\r\n    button.setOpaque(true);\r\n    button.setBorderPainted(false);\r\n\r\nIt works on my mac :)","title":"How to Set the Background Color of a JButton on the Mac OS","body":"<p>Have you tried setting the painted border false?</p>\n\n<pre><code>JButton button = new JButton();\nbutton.setBackground(Color.red);\nbutton.setOpaque(true);\nbutton.setBorderPainted(false);\n</code></pre>\n\n<p>It works on my mac :)</p>\n"},{"comments":[{"owner":{"account_id":1953810,"reputation":1008,"user_id":1757329,"display_name":"humanity"},"score":0,"creation_date":1457061430,"post_id":11977997,"comment_id":59245671,"body_markdown":"Glad to have found this.  I needed both setLookAndFeel() and setOpaque(true)","body":"Glad to have found this.  I needed both setLookAndFeel() and setOpaque(true)"}],"tags":[],"owner":{"account_id":1753158,"reputation":261,"user_id":1601799,"display_name":"JoJo"},"comment_count":1,"down_vote_count":0,"up_vote_count":26,"is_accepted":false,"score":26,"last_activity_date":1345068239,"creation_date":1345068239,"answer_id":11977997,"question_id":1065691,"body_markdown":"If you are not required to use Apple&#39;s look and feel, a simple fix is to put the following code in your application or applet, before you add any GUI components to your JFrame or JApplet:\r\n\r\n     try {\r\n        UIManager.setLookAndFeel( UIManager.getCrossPlatformLookAndFeelClassName() );\r\n     } catch (Exception e) {\r\n                e.printStackTrace();\r\n     }\r\n\r\nThat will set the look and feel to the cross-platform look and feel, and the setBackground() method will then work to change a JButton&#39;s background color.","title":"How to Set the Background Color of a JButton on the Mac OS","body":"<p>If you are not required to use Apple's look and feel, a simple fix is to put the following code in your application or applet, before you add any GUI components to your JFrame or JApplet:</p>\n\n<pre><code> try {\n    UIManager.setLookAndFeel( UIManager.getCrossPlatformLookAndFeelClassName() );\n } catch (Exception e) {\n            e.printStackTrace();\n }\n</code></pre>\n\n<p>That will set the look and feel to the cross-platform look and feel, and the setBackground() method will then work to change a JButton's background color.</p>\n"},{"comments":[{"owner":{"account_id":6612606,"reputation":29,"user_id":5107094,"display_name":"Lapis Diamond"},"score":0,"creation_date":1485026029,"post_id":37927029,"comment_id":70756906,"body_markdown":"He never mensioned myButton.setOpaque(true);","body":"He never mensioned myButton.setOpaque(true);"}],"tags":[],"owner":{"account_id":6612606,"reputation":29,"user_id":5107094,"display_name":"Lapis Diamond"},"comment_count":1,"down_vote_count":2,"up_vote_count":3,"is_accepted":false,"score":1,"last_activity_date":1466438615,"creation_date":1466438615,"answer_id":37927029,"question_id":1065691,"body_markdown":"I own a mac too! here is the code that will work:\r\n\r\n    myButton.setBackground(Color.RED);\r\n    myButton.setOpaque(true); //Sets Button Opaque so it works\r\n\r\nbefore doing anything or adding any components set the look and feel so it looks better:\r\n\r\n    try{\r\n       UIManager.setLookAndFeel(UIManager.getCrossPlatformLookAndFeelClassName());\r\n     }catch(Exception e){\r\n      e.printStackTrace(); \r\n     }\r\n\r\nThat is Supposed to change the look and feel to the cross platform look and feel, hope i helped! :)\r\n\r\n","title":"How to Set the Background Color of a JButton on the Mac OS","body":"<p>I own a mac too! here is the code that will work:</p>\n\n<pre><code>myButton.setBackground(Color.RED);\nmyButton.setOpaque(true); //Sets Button Opaque so it works\n</code></pre>\n\n<p>before doing anything or adding any components set the look and feel so it looks better:</p>\n\n<pre><code>try{\n   UIManager.setLookAndFeel(UIManager.getCrossPlatformLookAndFeelClassName());\n }catch(Exception e){\n  e.printStackTrace(); \n }\n</code></pre>\n\n<p>That is Supposed to change the look and feel to the cross platform look and feel, hope i helped! :)</p>\n"},{"comments":[{"owner":{"account_id":87845,"reputation":15821,"user_id":243373,"accept_rate":100,"display_name":"TT."},"score":1,"creation_date":1505974768,"post_id":46336186,"comment_id":79633176,"body_markdown":"How many more times do you feel the same answer should be repeated?","body":"How many more times do you feel the same answer should be repeated?"},{"owner":{"account_id":6468900,"reputation":350,"user_id":7533664,"display_name":"htlbydgod"},"score":0,"creation_date":1506065629,"post_id":46336186,"comment_id":79678074,"body_markdown":"Since different combinations get differing results, the post it. Okay, got your suggestion. Thanks.","body":"Since different combinations get differing results, the post it. Okay, got your suggestion. Thanks."}],"tags":[],"owner":{"account_id":6468900,"reputation":350,"user_id":7533664,"display_name":"htlbydgod"},"comment_count":2,"down_vote_count":3,"up_vote_count":1,"is_accepted":false,"score":-2,"last_activity_date":1505972317,"creation_date":1505972317,"answer_id":46336186,"question_id":1065691,"body_markdown":"Based on your own purposes, you can do that based on setOpaque(true/false) and setBorderPainted(true/false); try and combine them to fit your purpose","title":"How to Set the Background Color of a JButton on the Mac OS","body":"<p>Based on your own purposes, you can do that based on setOpaque(true/false) and setBorderPainted(true/false); try and combine them to fit your purpose</p>\n"}],"owner":{"account_id":17546,"reputation":15607,"user_id":39371,"accept_rate":80,"display_name":"Stephane Grenier"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":133858,"favorite_count":0,"down_vote_count":0,"up_vote_count":35,"accepted_answer_id":1066016,"answer_count":5,"score":35,"last_activity_date":1667306148,"creation_date":1246391844,"question_id":1065691,"body_markdown":"Normally with Java Swing you can set the background color of a button with:\r\n\r\n    myJButton.setBackground(Color.RED);\r\n\r\nwhich would cause the button to be red. But on the Mac OS, this method seems to be ignored. The button just stays the default color.\r\n\r\nHow can the color of a JButton be set on the Mac OS?","title":"How to Set the Background Color of a JButton on the Mac OS","body":"<p>Normally with Java Swing you can set the background color of a button with:</p>\n\n<pre><code>myJButton.setBackground(Color.RED);\n</code></pre>\n\n<p>which would cause the button to be red. But on the Mac OS, this method seems to be ignored. The button just stays the default color.</p>\n\n<p>How can the color of a JButton be set on the Mac OS?</p>\n"},{"tags":["java","spring"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":2,"creation_date":1609682832,"post_id":65550687,"comment_id":115893175,"body_markdown":"Please read: [Why is “Can someone help me?” not an actual question?](https://meta.stackoverflow.com/questions/284236/why-is-can-someone-help-me-not-an-actual-question)","body":"Please read: <a href=\"https://meta.stackoverflow.com/questions/284236/why-is-can-someone-help-me-not-an-actual-question\">Why is “Can someone help me?” not an actual question?</a>"},{"owner":{"account_id":183966,"reputation":14640,"user_id":419705,"accept_rate":67,"display_name":"Roddy of the Frozen Peas"},"score":4,"creation_date":1609683294,"post_id":65550687,"comment_id":115893317,"body_markdown":"`select count` returns an integer, but your typed query is expecting a User instance. Change the typed query to have `&lt;Integer&gt;` and update accordingly, or fix your query to return a User not a number.","body":"<code>select count</code> returns an integer, but your typed query is expecting a User instance. Change the typed query to have <code>&lt;Integer&gt;</code> and update accordingly, or fix your query to return a User not a number."}],"answers":[{"comments":[{"owner":{"account_id":18292010,"reputation":36,"user_id":13318620,"display_name":"Zaur Farrukhzada"},"score":0,"creation_date":1609684199,"post_id":65550794,"comment_id":115893617,"body_markdown":"class forname wants paremeters","body":"class forname wants paremeters"},{"owner":{"account_id":12493684,"reputation":188,"user_id":9094429,"display_name":"Ahmad Qureshi"},"score":0,"creation_date":1609751556,"post_id":65550794,"comment_id":115910531,"body_markdown":"Remove the Class.forName parameter and keep only the query in createQuery method","body":"Remove the Class.forName parameter and keep only the query in createQuery method"}],"tags":[],"owner":{"account_id":12493684,"reputation":188,"user_id":9094429,"display_name":"Ahmad Qureshi"},"comment_count":2,"down_vote_count":1,"up_vote_count":2,"is_accepted":true,"score":1,"last_activity_date":1667306028,"creation_date":1609683391,"answer_id":65550794,"question_id":65550687,"body_markdown":"    Your query in variable `MY_SQL_COUNT_EMAIL` returns a count instead of User object, Change the data type of variable either to Long or Integer, something like given below\r\n    \r\n        @Override\r\n        public Integer getCountByEmail(String email) {\r\n          Session session = entityManager.unwrap(Session.class);\r\n          \r\n             TypedQuery&lt;Integer&gt; query = session.createQuery(MY_SQL_COUNT_EMAIL,Class.forName(&quot;java.lang.Integer&quot;)); //Try this\r\n             TypedQuery&lt;Integer&gt; query = session.createQuery(MY_SQL_COUNT_EMAIL); // OR Try this\r\n             query.setParameter(&quot;email&quot;, email);    \r\n              return query.executeUpdate();\r\n        }","title":"Java Spring boot web service","body":"<pre><code>Your query in variable `MY_SQL_COUNT_EMAIL` returns a count instead of User object, Change the data type of variable either to Long or Integer, something like given below\n\n    @Override\n    public Integer getCountByEmail(String email) {\n      Session session = entityManager.unwrap(Session.class);\n      \n         TypedQuery&lt;Integer&gt; query = session.createQuery(MY_SQL_COUNT_EMAIL,Class.forName(&quot;java.lang.Integer&quot;)); //Try this\n         TypedQuery&lt;Integer&gt; query = session.createQuery(MY_SQL_COUNT_EMAIL); // OR Try this\n         query.setParameter(&quot;email&quot;, email);    \n          return query.executeUpdate();\n    }\n</code></pre>\n"}],"owner":{"account_id":18292010,"reputation":36,"user_id":13318620,"display_name":"Zaur Farrukhzada"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":80,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":65550794,"answer_count":1,"score":-1,"last_activity_date":1667306028,"creation_date":1609682785,"question_id":65550687,"body_markdown":"***My class***\r\n\r\n```java\r\n@Repository\r\npublic class UserRepositoryImp implements UserRepository {\r\n\r\n  private EntityManager entityManager;\r\n\r\n  @Autowired\r\n  public UserRepositoryImp(EntityManager entityManager) {\r\n    this.entityManager = entityManager;\r\n  }\r\n\r\n  @Override\r\n  public Integer getCountByEmail(String email) {\r\n    Session session = entityManager.unwrap(Session.class);\r\n\r\n    TypedQuery&lt;User&gt; query = session.createQuery(&quot;SELECT count(e)  FROM User e WHERE e.email=:email&quot;, User.class);\r\n    query.setParameter(&quot;email&quot;, email);\r\n    return query.executeUpdate();\r\n}\r\n```\r\n\r\n\r\n\r\n***My Postman error***\r\n\r\n\r\n &gt; &quot;Type specified for TypedQuery [com.TestMobileAppService.TestMobileAppService.Domain.User] is \r\n   incompatible with query return type [class java.lang.Long]; nested exception is \r\n     java.lang.IllegalArgumentException: Type specified for TypedQuery \r\n   [com.TestMobileAppService.TestMobileAppService.Domain.User] is incompatible with query return type \r\n   [class java.lang.Long]&quot;\r\n\r\n  **Please help me what is it problem ???**","title":"Java Spring boot web service","body":"<p><em><strong>My class</strong></em></p>\n<pre class=\"lang-java prettyprint-override\"><code>@Repository\npublic class UserRepositoryImp implements UserRepository {\n\n  private EntityManager entityManager;\n\n  @Autowired\n  public UserRepositoryImp(EntityManager entityManager) {\n    this.entityManager = entityManager;\n  }\n\n  @Override\n  public Integer getCountByEmail(String email) {\n    Session session = entityManager.unwrap(Session.class);\n\n    TypedQuery&lt;User&gt; query = session.createQuery(&quot;SELECT count(e)  FROM User e WHERE e.email=:email&quot;, User.class);\n    query.setParameter(&quot;email&quot;, email);\n    return query.executeUpdate();\n}\n</code></pre>\n<p><em><strong>My Postman error</strong></em></p>\n<blockquote>\n<p>&quot;Type specified for TypedQuery [com.TestMobileAppService.TestMobileAppService.Domain.User] is\nincompatible with query return type [class java.lang.Long]; nested exception is\njava.lang.IllegalArgumentException: Type specified for TypedQuery\n[com.TestMobileAppService.TestMobileAppService.Domain.User] is incompatible with query return type\n[class java.lang.Long]&quot;</p>\n</blockquote>\n<p><strong>Please help me what is it problem ???</strong></p>\n"},{"tags":["java","spring-boot","inheritance","dto","modelmapper"],"answers":[{"comments":[{"owner":{"account_id":12236729,"reputation":440,"user_id":8930916,"display_name":"Chetan Oswal"},"score":0,"creation_date":1611735676,"post_id":58722998,"comment_id":116543179,"body_markdown":"This solution helped me. Updating the modelmapper version solved the issue.","body":"This solution helped me. Updating the modelmapper version solved the issue."}],"tags":[],"owner":{"account_id":9542406,"reputation":31,"user_id":7089996,"display_name":"Agustin Miani"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1573020132,"creation_date":1573013650,"answer_id":58722998,"question_id":58704250,"body_markdown":"I finally solved this issue with the help of some friends and another questions on this site.\r\n\r\n***My solution*** \r\n\r\nAnother Dev posted an issue similar to mine [Here][1].\r\n\r\nThis post recomends the use of `typeMap` (but not as I used it) with a &quot;converter&quot; declaring. When a Subclass tries to map to `AbstractClassDTO` it must instantiate a `subclassDTO`.\r\n\r\nLike this:\r\n\r\n```java \r\npublic ModelMapper buildModelMapper() {\r\n    ModelMapper modelMapper = new ModelMapper();\r\n    modelMapper.getConfiguration().setMatchingStrategy(MatchingStrategies.STRICT);\r\n    mapEntitiesToDTO(modelMapper);\r\n    mapDTOToEntities(modelMapper);\r\n    return modelMapper;\r\n}\r\n\r\nprivate void mapEntitiesToDTO(final ModelMapper modelMapper) {\r\n    modelMapper.createTypeMap(ComboSportField.class, AbstractSportFieldDTO.class)\r\n        .setConverter(converterWithDestinationSupplier(ComboSportFieldDTO::new));\r\n    modelMapper.createTypeMap(SportField.class, AbstractSportFieldDTO.class)\r\n        .setConverter(converterWithDestinationSupplier(SportFieldDTO::new));\r\n}\r\n\r\nprivate void mapDTOToEntities(final ModelMapper modelMapper) {\r\n    modelMapper.createTypeMap(ComboSportFieldDTO.class, AbstractSportField.class)\r\n        .setConverter(converterWithDestinationSupplier(ComboSportField::new));\r\n    modelMapper.createTypeMap(SportFieldDTO.class, AbstractSportField.class)\r\n        .setConverter(converterWithDestinationSupplier(SportField::new));\r\n}\r\n\r\nprivate &lt; S, D &gt; Converter &lt; S, D &gt; converterWithDestinationSupplier(Supplier &lt;&lt; ? extends D &gt; supplier) {\r\n    return ctx - &gt; ctx.getMappingEngine().map(ctx.create(ctx.getSource(), supplier.get()));\r\n}\r\n```\r\n\r\nWhen I tested this configuration it still didn&#39;t work. Then I found that the same dev that posted the last question posted an issue on `modelmapper` GitHub repo [here][2]. And the last comment reports that `typeMap` with inheritance had been released on ModelMapper **1.0.0** and I found that I was using the version **0.7.4**.\r\n\r\nSo I updated the version to the current **(2.3.5)** and this started to work. [Link to maven repo.][3]\r\n\r\nI hope that my description can help someone with the same issue. Thanks!\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/28111875/modelmapper-mapping-abstract-classes-during-runtime\r\n  [2]: https://github.com/modelmapper/modelmapper/issues/130\r\n  [3]: https://mvnrepository.com/artifact/org.modelmapper/modelmapper","title":"Failed to instantiate instance of destination [subclassDTO]. Ensure that [subclassDTO] has a non-private no-argument constructor","body":"<p>I finally solved this issue with the help of some friends and another questions on this site.</p>\n\n<p><strong><em>My solution</em></strong> </p>\n\n<p>Another Dev posted an issue similar to mine <a href=\"https://stackoverflow.com/questions/28111875/modelmapper-mapping-abstract-classes-during-runtime\">Here</a>.</p>\n\n<p>This post recomends the use of <code>typeMap</code> (but not as I used it) with a \"converter\" declaring. When a Subclass tries to map to <code>AbstractClassDTO</code> it must instantiate a <code>subclassDTO</code>.</p>\n\n<p>Like this:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>public ModelMapper buildModelMapper() {\n    ModelMapper modelMapper = new ModelMapper();\n    modelMapper.getConfiguration().setMatchingStrategy(MatchingStrategies.STRICT);\n    mapEntitiesToDTO(modelMapper);\n    mapDTOToEntities(modelMapper);\n    return modelMapper;\n}\n\nprivate void mapEntitiesToDTO(final ModelMapper modelMapper) {\n    modelMapper.createTypeMap(ComboSportField.class, AbstractSportFieldDTO.class)\n        .setConverter(converterWithDestinationSupplier(ComboSportFieldDTO::new));\n    modelMapper.createTypeMap(SportField.class, AbstractSportFieldDTO.class)\n        .setConverter(converterWithDestinationSupplier(SportFieldDTO::new));\n}\n\nprivate void mapDTOToEntities(final ModelMapper modelMapper) {\n    modelMapper.createTypeMap(ComboSportFieldDTO.class, AbstractSportField.class)\n        .setConverter(converterWithDestinationSupplier(ComboSportField::new));\n    modelMapper.createTypeMap(SportFieldDTO.class, AbstractSportField.class)\n        .setConverter(converterWithDestinationSupplier(SportField::new));\n}\n\nprivate &lt; S, D &gt; Converter &lt; S, D &gt; converterWithDestinationSupplier(Supplier &lt;&lt; ? extends D &gt; supplier) {\n    return ctx - &gt; ctx.getMappingEngine().map(ctx.create(ctx.getSource(), supplier.get()));\n}\n</code></pre>\n\n<p>When I tested this configuration it still didn't work. Then I found that the same dev that posted the last question posted an issue on <code>modelmapper</code> GitHub repo <a href=\"https://github.com/modelmapper/modelmapper/issues/130\" rel=\"nofollow noreferrer\">here</a>. And the last comment reports that <code>typeMap</code> with inheritance had been released on ModelMapper <strong>1.0.0</strong> and I found that I was using the version <strong>0.7.4</strong>.</p>\n\n<p>So I updated the version to the current <strong>(2.3.5)</strong> and this started to work. <a href=\"https://mvnrepository.com/artifact/org.modelmapper/modelmapper\" rel=\"nofollow noreferrer\">Link to maven repo.</a></p>\n\n<p>I hope that my description can help someone with the same issue. Thanks!</p>\n"},{"tags":[],"owner":{"account_id":1681237,"reputation":1779,"user_id":1545425,"display_name":"Luca Tampellini"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1630591631,"creation_date":1630591631,"answer_id":69031902,"question_id":58704250,"body_markdown":"Actually i have just experienced the same issue.\r\n\r\nIn my case the class for which modelmapper was complaining of a lack of public constructor was actually referenced as property inside another DTO class, mapped elsewhere, for which the public constructor was effectively not explicitly declared.\r\n\r\nI have added such public constructor and this resolved the issue for me.","title":"Failed to instantiate instance of destination [subclassDTO]. Ensure that [subclassDTO] has a non-private no-argument constructor","body":"<p>Actually i have just experienced the same issue.</p>\n<p>In my case the class for which modelmapper was complaining of a lack of public constructor was actually referenced as property inside another DTO class, mapped elsewhere, for which the public constructor was effectively not explicitly declared.</p>\n<p>I have added such public constructor and this resolved the issue for me.</p>\n"}],"owner":{"account_id":9542406,"reputation":31,"user_id":7089996,"display_name":"Agustin Miani"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7276,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1667305210,"creation_date":1572925933,"question_id":58704250,"body_markdown":"Im working on a Springboot App exposing some endpoints that do not return the original Entities but they return their DTO. To map all the entities i am working using &quot;org.modelmapper&quot; version: 0.7.4 and project lombok to avoid implement getters, setters and some another utilities.\r\n\r\nEverything worked perfectly until I had to map a list of subclasses on a entity. The source entity is like this (i removed some properties and hibernate annotations because they are not necessary in the example):\r\n\r\n```java\r\npackage com.pfi.repository.entity.sport;\r\n\r\nimport com.pfi.repository.entity.address.Address;\r\nimport lombok.*;\r\n\r\nimport java.util.List;\r\n\r\n@Getter\r\n@Setter\r\n@EqualsAndHashCode\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\npublic class SportPlace {\r\n\r\n    private Long id;\r\n    private List&lt;AbstractSportField&gt; sportFields;\r\n}\r\n```\r\n\r\nThe destination DTO is:\r\n\r\n```java\r\npackage dto.sport;\r\n\r\nimport lombok.*;\r\n\r\nimport java.util.List;\r\n\r\n@Getter\r\n@NoArgsConstructor\r\n@Setter\r\npublic class SportPlaceDTO {\r\n\r\n    private Long id;\r\n    private List&lt;AbstractSportFieldDTO&gt; sportFields;\r\n}\r\n```\r\n\r\nBoth AbstractSportFieldDTO and AbstractSportField are abstract classes that with two possible subclasses:\r\n\r\n```java\r\npackage dto.sport;\r\n\r\nimport dto.reserve.AbstractReserveDTO;\r\n\r\nimport java.util.List;\r\n\r\npublic abstract class AbstractSportFieldDTO {\r\n\r\n    protected Long id;\r\n    protected List&lt;AbstractReserveDTO&gt; reserves;\r\n    public AbstractSportFieldDTO() {\r\n    }\r\n\r\n    public AbstractSportFieldDTO(Long id, List&lt;AbstractReserveDTO&gt; reserves) {\r\n        this.id = id;\r\n        this.reserves = reserves;\r\n    }\r\n\r\n    public Long getId() {\r\n        return id;\r\n    }\r\n\r\n    public AbstractSportFieldDTO setId(Long id) {\r\n        this.id = id;\r\n        return this;\r\n    }\r\n\r\n\r\n    public List&lt;AbstractReserveDTO&gt; getReserves() {\r\n        return reserves;\r\n    }\r\n\r\n    public AbstractSportFieldDTO setReserves(List&lt;AbstractReserveDTO&gt; reserves) {\r\n        this.reserves = reserves;\r\n        return this;\r\n    }\r\n}\r\n```\r\n\r\nThe first DTO subclass is:\r\n\r\n```java\r\npackage dto.sport;\r\n\r\n\r\nimport dto.reserve.AbstractReserveDTO;\r\n\r\nimport java.util.List;\r\n\r\npublic class ComboSportFieldDTO extends AbstractSportFieldDTO {\r\n\r\n    private List&lt;SportFieldDTO&gt; sportFields;\r\n\r\n    public ComboSportFieldDTO(List&lt;SportFieldDTO&gt; sportFields) {\r\n        this.sportFields = sportFields;\r\n    }\r\n\r\n    public ComboSportFieldDTO(Long id, List&lt;AbstractReserveDTO&gt; reserves, List&lt;SportFieldDTO&gt; sportFields) {\r\n        super(id, reserves);\r\n        this.sportFields = sportFields;\r\n    }\r\n\r\n    public ComboSportFieldDTO() {\r\n        super();\r\n    }\r\n\r\n    public List&lt;SportFieldDTO&gt; getSportFields() {\r\n        return sportFields;\r\n    }\r\n\r\n    public void setSportFields(List&lt;SportFieldDTO&gt; sportFields) {\r\n        this.sportFields = sportFields;\r\n    }\r\n}\r\n```\r\n\r\nThe second DTO subclass is:\r\n\r\n```java\r\npackage dto.sport;\r\n\r\nimport dto.reserve.AbstractReserveDTO;\r\n\r\nimport java.util.List;\r\n\r\npublic class SportFieldDTO extends AbstractSportFieldDTO {\r\n\r\n    private Boolean joineable;\r\n\r\n    public SportFieldDTO(Long id, List&lt;AbstractReserveDTO&gt; reserves, Boolean joineable) {\r\n        super(id, reserves);\r\n        this.joineable = joineable;\r\n    }\r\n\r\n    public SportFieldDTO() {\r\n        super();\r\n    }\r\n\r\n    public Boolean getJoineable() {\r\n        return joineable;\r\n    }\r\n\r\n    public void setJoineable(Boolean joineable) {\r\n        this.joineable = joineable;\r\n    }\r\n}\r\n\r\n```\r\n\r\nThen the Entities are:\r\n\r\n```java\r\npackage com.pfi.repository.entity.sport;\r\n\r\nimport com.pfi.repository.entity.reserve.AbstractReserve;\r\nimport java.util.List;\r\n\r\npublic abstract class AbstractSportField {\r\n\r\n    protected Long id;\r\n    protected List&lt;AbstractReserve&gt; reserves;\r\n\r\n    public AbstractSportField(Long id, List&lt;AbstractReserve&gt; reserves) {\r\n        this.id = id;\r\n        this.reserves = reserves;\r\n    }\r\n\r\n    public AbstractSportField() {\r\n\r\n    }\r\n\r\n    public Long getId() {\r\n        return id;\r\n    }\r\n\r\n    public AbstractSportField setId(Long id) {\r\n        this.id = id;\r\n        return this;\r\n    }\r\n\r\n    public List&lt;AbstractReserve&gt; getReserves() {\r\n        return reserves;\r\n    }\r\n\r\n    public AbstractSportField setReserves(List&lt;AbstractReserve&gt; reserves) {\r\n        this.reserves = reserves;\r\n        return this;\r\n    }\r\n\r\n}\r\n\r\n```\r\n\r\nThe first subclass is:\r\n\r\n```java\r\npackage com.pfi.repository.entity.sport;\r\n\r\nimport com.pfi.repository.entity.reserve.AbstractReserve;\r\n\r\nimport java.util.List;\r\n\r\npublic class ComboSportField extends AbstractSportField {\r\n\r\n    private List&lt;SportField&gt; sportFields;\r\n\r\n    public ComboSportField(Long id, List&lt;AbstractReserve&gt; reserves, List&lt;SportField&gt; sportFields) {\r\n        super(id, reserves);\r\n        this.sportFields = sportFields;\r\n    }\r\n\r\n    public ComboSportField(){\r\n        super();\r\n    }\r\n\r\n    public List&lt;SportField&gt; getSportFields() {\r\n        return sportFields;\r\n    }\r\n\r\n    public ComboSportField setSportFields(List&lt;SportField&gt; sportFields) {\r\n        this.sportFields = sportFields;\r\n        return this;\r\n    }\r\n}\r\n\r\n```\r\n\r\nAnd the last subclass is:\r\n\r\n```java\r\npackage com.pfi.repository.entity.sport;\r\n\r\nimport com.pfi.repository.entity.reserve.AbstractReserve;\r\n\r\nimport javax.persistence.Entity;\r\nimport java.util.List;\r\n\r\npublic class SportField extends AbstractSportField {\r\n\r\n    private Boolean joineable;\r\n\r\n    public SportField(Long id, List&lt;AbstractReserve&gt; reserves, Boolean joineable) {\r\n        super(id, reserves);\r\n        this.joineable = joineable;\r\n    }\r\n\r\n    public SportField(){\r\n        super();\r\n    }\r\n\r\n    public Boolean getJoineable() {\r\n        return joineable;\r\n    }\r\n\r\n    public SportField setJoineable(Boolean joineable) {\r\n        this.joineable = joineable;\r\n        return this;\r\n    }\r\n}\r\n\r\n```\r\n\r\n\r\nWhen i try to map an instance of SportPlace to SportPlaceDTO like this:\r\n\r\n```java\r\nmodelMapper.map(sportPlace, SportPlaceDTO.class)\r\n```\r\n\r\nThat de sportPlace contains the given 6 Sportfields that are instances of subclasses. The model mapper throws (on the 6 elements of the list):\r\n\r\nFailed to instantiate instance of destination dto.sport.AbstractSportFieldDTO. Ensure that dto.sport.AbstractSportFieldDTO has a non-private no-argument constructor.\r\n\r\nReading about how can i map subclasses on modelmapper i found setting TypeMap, that can set a specific mapping on a class like this:\r\n\r\nmodelMapper.createTypeMap(ComboSportField.class, ComboSportFieldDTO.class);\r\n\r\nFor that reason i created a builder to config the model mapper like this \r\n\r\n```java\r\npackage com.pfi.repository.builder;\r\n\r\nimport com.pfi.repository.entity.*;;\r\nimport dto.reserve.*;\r\nimport dto.sport.*;\r\nimport org.modelmapper.ModelMapper;\r\nimport org.modelmapper.convention.MatchingStrategies;\r\nimport org.springframework.stereotype.Service;\r\n\r\n@Service\r\npublic class MapperBuilder {\r\n\r\n    public ModelMapper buildModelMapper() {\r\n        ModelMapper modelMapper = new ModelMapper();\r\n        modelMapper.getConfiguration().setMatchingStrategy(MatchingStrategies.STRICT);\r\n        mapEntitiesToDTO(modelMapper);\r\n        mapDTOToEntities(modelMapper);\r\n        return modelMapper;\r\n    }\r\n\r\n    private void mapEntitiesToDTO(final ModelMapper modelMapper){\r\n        modelMapper.createTypeMap(ComboSportField.class, ComboSportFieldDTO.class);\r\n        modelMapper.createTypeMap(SportField.class, SportFieldDTO.class);\r\n        modelMapper.createTypeMap(Reserve.class, ReserveDTO.class);\r\n        modelMapper.createTypeMap(AppReserve.class, AppReserveDTO.class);\r\n\r\n    }\r\n    private void mapDTOToEntities(final ModelMapper modelMapper){\r\n        modelMapper.createTypeMap(ComboSportFieldDTO.class, ComboSportField.class);\r\n        modelMapper.createTypeMap(SportFieldDTO.class, SportField.class);\r\n        modelMapper.createTypeMap(ReserveDTO.class, Reserve.class);\r\n        modelMapper.createTypeMap(AppReserveDTO.class, AppReserve.class);\r\n    }\r\n}\r\n\r\n```\r\n\r\nAnd i use the builder when i create the controller like this:\r\n\r\n```java\r\n@Autowired\r\n    protected MapperBuilder mapperBuilder;\r\n\r\n    BaseController(){\r\n        this.getLogger();\r\n    }\r\n\r\n    @PostConstruct\r\n    public void buildMapper(){\r\n        modelMapper = mapperBuilder.buildModelMapper();\r\n    }\r\n```\r\n\r\nI don&#39;t know what else I can do to be able map the subclasses.\r\n\r\nDoes anyone know how to solve this issue?\r\n\r\nThanks!","title":"Failed to instantiate instance of destination [subclassDTO]. Ensure that [subclassDTO] has a non-private no-argument constructor","body":"<p>Im working on a Springboot App exposing some endpoints that do not return the original Entities but they return their DTO. To map all the entities i am working using \"org.modelmapper\" version: 0.7.4 and project lombok to avoid implement getters, setters and some another utilities.</p>\n\n<p>Everything worked perfectly until I had to map a list of subclasses on a entity. The source entity is like this (i removed some properties and hibernate annotations because they are not necessary in the example):</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>package com.pfi.repository.entity.sport;\n\nimport com.pfi.repository.entity.address.Address;\nimport lombok.*;\n\nimport java.util.List;\n\n@Getter\n@Setter\n@EqualsAndHashCode\n@AllArgsConstructor\n@NoArgsConstructor\npublic class SportPlace {\n\n    private Long id;\n    private List&lt;AbstractSportField&gt; sportFields;\n}\n</code></pre>\n\n<p>The destination DTO is:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>package dto.sport;\n\nimport lombok.*;\n\nimport java.util.List;\n\n@Getter\n@NoArgsConstructor\n@Setter\npublic class SportPlaceDTO {\n\n    private Long id;\n    private List&lt;AbstractSportFieldDTO&gt; sportFields;\n}\n</code></pre>\n\n<p>Both AbstractSportFieldDTO and AbstractSportField are abstract classes that with two possible subclasses:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>package dto.sport;\n\nimport dto.reserve.AbstractReserveDTO;\n\nimport java.util.List;\n\npublic abstract class AbstractSportFieldDTO {\n\n    protected Long id;\n    protected List&lt;AbstractReserveDTO&gt; reserves;\n    public AbstractSportFieldDTO() {\n    }\n\n    public AbstractSportFieldDTO(Long id, List&lt;AbstractReserveDTO&gt; reserves) {\n        this.id = id;\n        this.reserves = reserves;\n    }\n\n    public Long getId() {\n        return id;\n    }\n\n    public AbstractSportFieldDTO setId(Long id) {\n        this.id = id;\n        return this;\n    }\n\n\n    public List&lt;AbstractReserveDTO&gt; getReserves() {\n        return reserves;\n    }\n\n    public AbstractSportFieldDTO setReserves(List&lt;AbstractReserveDTO&gt; reserves) {\n        this.reserves = reserves;\n        return this;\n    }\n}\n</code></pre>\n\n<p>The first DTO subclass is:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>package dto.sport;\n\n\nimport dto.reserve.AbstractReserveDTO;\n\nimport java.util.List;\n\npublic class ComboSportFieldDTO extends AbstractSportFieldDTO {\n\n    private List&lt;SportFieldDTO&gt; sportFields;\n\n    public ComboSportFieldDTO(List&lt;SportFieldDTO&gt; sportFields) {\n        this.sportFields = sportFields;\n    }\n\n    public ComboSportFieldDTO(Long id, List&lt;AbstractReserveDTO&gt; reserves, List&lt;SportFieldDTO&gt; sportFields) {\n        super(id, reserves);\n        this.sportFields = sportFields;\n    }\n\n    public ComboSportFieldDTO() {\n        super();\n    }\n\n    public List&lt;SportFieldDTO&gt; getSportFields() {\n        return sportFields;\n    }\n\n    public void setSportFields(List&lt;SportFieldDTO&gt; sportFields) {\n        this.sportFields = sportFields;\n    }\n}\n</code></pre>\n\n<p>The second DTO subclass is:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>package dto.sport;\n\nimport dto.reserve.AbstractReserveDTO;\n\nimport java.util.List;\n\npublic class SportFieldDTO extends AbstractSportFieldDTO {\n\n    private Boolean joineable;\n\n    public SportFieldDTO(Long id, List&lt;AbstractReserveDTO&gt; reserves, Boolean joineable) {\n        super(id, reserves);\n        this.joineable = joineable;\n    }\n\n    public SportFieldDTO() {\n        super();\n    }\n\n    public Boolean getJoineable() {\n        return joineable;\n    }\n\n    public void setJoineable(Boolean joineable) {\n        this.joineable = joineable;\n    }\n}\n\n</code></pre>\n\n<p>Then the Entities are:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>package com.pfi.repository.entity.sport;\n\nimport com.pfi.repository.entity.reserve.AbstractReserve;\nimport java.util.List;\n\npublic abstract class AbstractSportField {\n\n    protected Long id;\n    protected List&lt;AbstractReserve&gt; reserves;\n\n    public AbstractSportField(Long id, List&lt;AbstractReserve&gt; reserves) {\n        this.id = id;\n        this.reserves = reserves;\n    }\n\n    public AbstractSportField() {\n\n    }\n\n    public Long getId() {\n        return id;\n    }\n\n    public AbstractSportField setId(Long id) {\n        this.id = id;\n        return this;\n    }\n\n    public List&lt;AbstractReserve&gt; getReserves() {\n        return reserves;\n    }\n\n    public AbstractSportField setReserves(List&lt;AbstractReserve&gt; reserves) {\n        this.reserves = reserves;\n        return this;\n    }\n\n}\n\n</code></pre>\n\n<p>The first subclass is:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>package com.pfi.repository.entity.sport;\n\nimport com.pfi.repository.entity.reserve.AbstractReserve;\n\nimport java.util.List;\n\npublic class ComboSportField extends AbstractSportField {\n\n    private List&lt;SportField&gt; sportFields;\n\n    public ComboSportField(Long id, List&lt;AbstractReserve&gt; reserves, List&lt;SportField&gt; sportFields) {\n        super(id, reserves);\n        this.sportFields = sportFields;\n    }\n\n    public ComboSportField(){\n        super();\n    }\n\n    public List&lt;SportField&gt; getSportFields() {\n        return sportFields;\n    }\n\n    public ComboSportField setSportFields(List&lt;SportField&gt; sportFields) {\n        this.sportFields = sportFields;\n        return this;\n    }\n}\n\n</code></pre>\n\n<p>And the last subclass is:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>package com.pfi.repository.entity.sport;\n\nimport com.pfi.repository.entity.reserve.AbstractReserve;\n\nimport javax.persistence.Entity;\nimport java.util.List;\n\npublic class SportField extends AbstractSportField {\n\n    private Boolean joineable;\n\n    public SportField(Long id, List&lt;AbstractReserve&gt; reserves, Boolean joineable) {\n        super(id, reserves);\n        this.joineable = joineable;\n    }\n\n    public SportField(){\n        super();\n    }\n\n    public Boolean getJoineable() {\n        return joineable;\n    }\n\n    public SportField setJoineable(Boolean joineable) {\n        this.joineable = joineable;\n        return this;\n    }\n}\n\n</code></pre>\n\n<p>When i try to map an instance of SportPlace to SportPlaceDTO like this:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>modelMapper.map(sportPlace, SportPlaceDTO.class)\n</code></pre>\n\n<p>That de sportPlace contains the given 6 Sportfields that are instances of subclasses. The model mapper throws (on the 6 elements of the list):</p>\n\n<p>Failed to instantiate instance of destination dto.sport.AbstractSportFieldDTO. Ensure that dto.sport.AbstractSportFieldDTO has a non-private no-argument constructor.</p>\n\n<p>Reading about how can i map subclasses on modelmapper i found setting TypeMap, that can set a specific mapping on a class like this:</p>\n\n<p>modelMapper.createTypeMap(ComboSportField.class, ComboSportFieldDTO.class);</p>\n\n<p>For that reason i created a builder to config the model mapper like this </p>\n\n<pre class=\"lang-java prettyprint-override\"><code>package com.pfi.repository.builder;\n\nimport com.pfi.repository.entity.*;;\nimport dto.reserve.*;\nimport dto.sport.*;\nimport org.modelmapper.ModelMapper;\nimport org.modelmapper.convention.MatchingStrategies;\nimport org.springframework.stereotype.Service;\n\n@Service\npublic class MapperBuilder {\n\n    public ModelMapper buildModelMapper() {\n        ModelMapper modelMapper = new ModelMapper();\n        modelMapper.getConfiguration().setMatchingStrategy(MatchingStrategies.STRICT);\n        mapEntitiesToDTO(modelMapper);\n        mapDTOToEntities(modelMapper);\n        return modelMapper;\n    }\n\n    private void mapEntitiesToDTO(final ModelMapper modelMapper){\n        modelMapper.createTypeMap(ComboSportField.class, ComboSportFieldDTO.class);\n        modelMapper.createTypeMap(SportField.class, SportFieldDTO.class);\n        modelMapper.createTypeMap(Reserve.class, ReserveDTO.class);\n        modelMapper.createTypeMap(AppReserve.class, AppReserveDTO.class);\n\n    }\n    private void mapDTOToEntities(final ModelMapper modelMapper){\n        modelMapper.createTypeMap(ComboSportFieldDTO.class, ComboSportField.class);\n        modelMapper.createTypeMap(SportFieldDTO.class, SportField.class);\n        modelMapper.createTypeMap(ReserveDTO.class, Reserve.class);\n        modelMapper.createTypeMap(AppReserveDTO.class, AppReserve.class);\n    }\n}\n\n</code></pre>\n\n<p>And i use the builder when i create the controller like this:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>@Autowired\n    protected MapperBuilder mapperBuilder;\n\n    BaseController(){\n        this.getLogger();\n    }\n\n    @PostConstruct\n    public void buildMapper(){\n        modelMapper = mapperBuilder.buildModelMapper();\n    }\n</code></pre>\n\n<p>I don't know what else I can do to be able map the subclasses.</p>\n\n<p>Does anyone know how to solve this issue?</p>\n\n<p>Thanks!</p>\n"},{"tags":["java","flutter"],"answers":[{"comments":[{"owner":{"account_id":22890100,"reputation":125,"user_id":17030358,"display_name":"broheat"},"score":0,"creation_date":1667394173,"post_id":74275811,"comment_id":131155915,"body_markdown":"Thank you!!.. it&#39;s problem is iv!!! it&#39;s very helpful.","body":"Thank you!!.. it&#39;s problem is iv!!! it&#39;s very helpful."}],"tags":[],"owner":{"account_id":12359353,"reputation":42442,"user_id":9014097,"display_name":"Topaco"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1667304983,"creation_date":1667304983,"answer_id":74275811,"question_id":74272875,"body_markdown":"From the Java code it can be deduced that the AES key `secretKey` and the ciphertext `str` are Base64 encoded. The first 16 bytes of *the Base64 encoded* key (not of the *raw* key!) are used as IV.  \r\nIn the Dart code the key is incorrectly converted and a wrong IV is used. A possible fix is (together with sample data):\r\n\r\n```dart\r\nconst decryptKey = &quot;MDEyMzQ1Njc4OTAxMjM0NTY3ODkwMTIzNDU2Nzg5MDE=&quot;;\r\nconst encData = &quot;lo0dOoJrHNRuefPXgkEa6jtDUhV5CguF9MHWTJ4Y8eGP8zHaKJEQIuOTZxstyk3X&quot;;\r\nfinal key = en.Key.fromBase64(decryptKey);\r\nfinal iv = en.IV(Uint8List.fromList(utf8.encode(decryptKey).sublist(0, 16)));\r\nfinal encrypter = en.Encrypter(en.AES(key, mode: en.AESMode.cbc));\r\nfinal decrypted = encrypter.decrypt64(encData, iv: iv); // The quick brown fox jumps over the lazy dog\r\n```\r\n\r\nAs test, key and ciphertext can be used in the Java code that returns the same plaintext for them.\r\n\r\n---------\r\n\r\nBe aware that deriving the IV from the key is generally insecure, since encryptions with the same key automatically lead to the reuse of key/IV pairs. Instead, a random IV should be used for each encryption.","title":"how to implement decrypt in flutter like java?","body":"<p>From the Java code it can be deduced that the AES key <code>secretKey</code> and the ciphertext <code>str</code> are Base64 encoded. The first 16 bytes of <em>the Base64 encoded</em> key (not of the <em>raw</em> key!) are used as IV.<br />\nIn the Dart code the key is incorrectly converted and a wrong IV is used. A possible fix is (together with sample data):</p>\n<pre class=\"lang-dart prettyprint-override\"><code>const decryptKey = &quot;MDEyMzQ1Njc4OTAxMjM0NTY3ODkwMTIzNDU2Nzg5MDE=&quot;;\nconst encData = &quot;lo0dOoJrHNRuefPXgkEa6jtDUhV5CguF9MHWTJ4Y8eGP8zHaKJEQIuOTZxstyk3X&quot;;\nfinal key = en.Key.fromBase64(decryptKey);\nfinal iv = en.IV(Uint8List.fromList(utf8.encode(decryptKey).sublist(0, 16)));\nfinal encrypter = en.Encrypter(en.AES(key, mode: en.AESMode.cbc));\nfinal decrypted = encrypter.decrypt64(encData, iv: iv); // The quick brown fox jumps over the lazy dog\n</code></pre>\n<p>As test, key and ciphertext can be used in the Java code that returns the same plaintext for them.</p>\n<hr />\n<p>Be aware that deriving the IV from the key is generally insecure, since encryptions with the same key automatically lead to the reuse of key/IV pairs. Instead, a random IV should be used for each encryption.</p>\n"}],"owner":{"account_id":22890100,"reputation":125,"user_id":17030358,"display_name":"broheat"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":98,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"accepted_answer_id":74275811,"answer_count":1,"score":0,"last_activity_date":1667304983,"creation_date":1667288639,"question_id":74272875,"body_markdown":"I have to change java code for decrypt to flutter code. I use library &quot;encrypt&quot; for flutter. my flutter code show \r\n\r\n&gt; Key length not 128/192/256 bits.\r\n\r\nmy java spring boot code.\r\n\r\n    public static String decryptAES256(String str, String secretKey) throws java.io.UnsupportedEncodingException,\r\n                    NoSuchAlgorithmException, NoSuchPaddingException, InvalidKeyException,\r\n                    InvalidAlgorithmParameterException, IllegalBlockSizeException, BadPaddingException {\r\n                String AES = &quot;AES&quot;;\r\n                String AES_PADDING = &quot;AES/CBC/PKCS5Padding&quot;;\r\n                byte[] keyData = java.util.Base64.getDecoder().decode(secretKey);\r\n                String iv = secretKey.substring(0, 16);\r\n                SecretKey secureKey = new SecretKeySpec(keyData, AES);\r\n                Cipher c = Cipher.getInstance(AES_PADDING);\r\n                c.init(Cipher.DECRYPT_MODE, secureKey, new IvParameterSpec(iv.getBytes(StandardCharsets.UTF_8)));\r\n                byte[] byteStr = Base64.getDecoder().decode(str.getBytes());\r\n                return new String(c.doFinal(byteStr), StandardCharsets.UTF_8);\r\n            }\r\n\r\nmy flutter code.\r\n\r\n    final encData = codefModel.data!.encData!;\r\n        final key = en.Key.fromUtf8(decryptKey);\r\n        final b64key = en.Key.fromUtf8(base64Url.encode(key.bytes));\r\n        final iv = en.IV.fromLength(16);\r\n        final encrypter = en.Encrypter(en.AES(b64key, mode: en.AESMode.cbc));\r\n        logger.d(encrypter.decrypt64(encData, iv: iv));\r\n","title":"how to implement decrypt in flutter like java?","body":"<p>I have to change java code for decrypt to flutter code. I use library &quot;encrypt&quot; for flutter. my flutter code show</p>\n<blockquote>\n<p>Key length not 128/192/256 bits.</p>\n</blockquote>\n<p>my java spring boot code.</p>\n<pre><code>public static String decryptAES256(String str, String secretKey) throws java.io.UnsupportedEncodingException,\n                NoSuchAlgorithmException, NoSuchPaddingException, InvalidKeyException,\n                InvalidAlgorithmParameterException, IllegalBlockSizeException, BadPaddingException {\n            String AES = &quot;AES&quot;;\n            String AES_PADDING = &quot;AES/CBC/PKCS5Padding&quot;;\n            byte[] keyData = java.util.Base64.getDecoder().decode(secretKey);\n            String iv = secretKey.substring(0, 16);\n            SecretKey secureKey = new SecretKeySpec(keyData, AES);\n            Cipher c = Cipher.getInstance(AES_PADDING);\n            c.init(Cipher.DECRYPT_MODE, secureKey, new IvParameterSpec(iv.getBytes(StandardCharsets.UTF_8)));\n            byte[] byteStr = Base64.getDecoder().decode(str.getBytes());\n            return new String(c.doFinal(byteStr), StandardCharsets.UTF_8);\n        }\n</code></pre>\n<p>my flutter code.</p>\n<pre><code>final encData = codefModel.data!.encData!;\n    final key = en.Key.fromUtf8(decryptKey);\n    final b64key = en.Key.fromUtf8(base64Url.encode(key.bytes));\n    final iv = en.IV.fromLength(16);\n    final encrypter = en.Encrypter(en.AES(b64key, mode: en.AESMode.cbc));\n    logger.d(encrypter.decrypt64(encData, iv: iv));\n</code></pre>\n"},{"tags":["java","jooq"],"comments":[{"owner":{"account_id":4777995,"reputation":1601,"user_id":3860594,"accept_rate":97,"display_name":"john"},"score":0,"creation_date":1667290020,"post_id":74266173,"comment_id":131127906,"body_markdown":"in raw SQL this looks like `update my_table\nset column = replace(column::text, &#39;val&#39;, &#39;value&#39;)::jsonb[]\n `","body":"in raw SQL this looks like <code>update my_table set column = replace(column::text, &#39;val&#39;, &#39;value&#39;)::jsonb[]  </code>"}],"answers":[{"comments":[{"owner":{"account_id":4777995,"reputation":1601,"user_id":3860594,"accept_rate":97,"display_name":"john"},"score":0,"creation_date":1667296888,"post_id":74273240,"comment_id":131129695,"body_markdown":"Thank you for this answer! Something I still don&#39;t understand: it is not possible to use `replace` and `field` inside the `.set` function (remember I am trying to perform an update operation). The docs only show `replace` and `field` being used inside `select` functions.","body":"Thank you for this answer! Something I still don&#39;t understand: it is not possible to use <code>replace</code> and <code>field</code> inside the <code>.set</code> function (remember I am trying to perform an update operation). The docs only show <code>replace</code> and <code>field</code> being used inside <code>select</code> functions."},{"owner":{"account_id":247217,"reputation":213465,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"score":0,"creation_date":1667297804,"post_id":74273240,"comment_id":131129977,"body_markdown":"@john: Did you try it? Have you checked out the API (in the IDE / Javadoc, etc) and the available `set()` methods? What made you think it wouldn&#39;t work?","body":"@john: Did you try it? Have you checked out the API (in the IDE / Javadoc, etc) and the available <code>set()</code> methods? What made you think it wouldn&#39;t work?"}],"tags":[],"owner":{"account_id":247217,"reputation":213465,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667304825,"creation_date":1667291133,"answer_id":74273240,"question_id":74266173,"body_markdown":"You can translate a lot of native SQL to jOOQ, in your case, this (from your comments):\r\n\r\n```sql\r\n-- SQL\r\nreplace(column::text, &#39;val&#39;, &#39;value&#39;)::jsonb[]\r\n```\r\n\r\nWould just be\r\n\r\n```java\r\n// jOOQ\r\nreplace(MY_TABLE.COLUMN.cast(CLOB), &quot;val&quot;, &quot;value&quot;).cast(JSONB.getArrayDataType())\r\n\r\n// Starting from jOOQ 3.18, there will be an alias JSONB.array()\r\n```\r\n\r\nBut you don&#39;t have to translate everything to jOOQ API if you feel that something would be simpler to express in native SQL. Just use [plain SQL templating][1], in that case:\r\n\r\n```java\r\nfield(&quot;replace({0}::text, &#39;val&#39;, &#39;value&#39;)::jsonb[]&quot;, \r\n    MY_TABLE.COLUMN.getDataType(), \r\n    MY_TABLE.COLUMN\r\n)\r\n```\r\n\r\nAssuming, as always, the usual static imports:\r\n\r\n```java\r\nimport static org.jooq.impl.DSL.*;\r\nimport static org.jooq.impl.SQLDataType.*;\r\n```\r\n\r\n  [1]: https://www.jooq.org/doc/latest/manual/sql-building/plain-sql-templating/","title":"jOOQ update a JSON array field using a String","body":"<p>You can translate a lot of native SQL to jOOQ, in your case, this (from your comments):</p>\n<pre class=\"lang-sql prettyprint-override\"><code>-- SQL\nreplace(column::text, 'val', 'value')::jsonb[]\n</code></pre>\n<p>Would just be</p>\n<pre class=\"lang-java prettyprint-override\"><code>// jOOQ\nreplace(MY_TABLE.COLUMN.cast(CLOB), &quot;val&quot;, &quot;value&quot;).cast(JSONB.getArrayDataType())\n\n// Starting from jOOQ 3.18, there will be an alias JSONB.array()\n</code></pre>\n<p>But you don't have to translate everything to jOOQ API if you feel that something would be simpler to express in native SQL. Just use <a href=\"https://www.jooq.org/doc/latest/manual/sql-building/plain-sql-templating/\" rel=\"nofollow noreferrer\">plain SQL templating</a>, in that case:</p>\n<pre class=\"lang-java prettyprint-override\"><code>field(&quot;replace({0}::text, 'val', 'value')::jsonb[]&quot;, \n    MY_TABLE.COLUMN.getDataType(), \n    MY_TABLE.COLUMN\n)\n</code></pre>\n<p>Assuming, as always, the usual static imports:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import static org.jooq.impl.DSL.*;\nimport static org.jooq.impl.SQLDataType.*;\n</code></pre>\n"}],"owner":{"account_id":4777995,"reputation":1601,"user_id":3860594,"accept_rate":97,"display_name":"john"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":282,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1667304825,"creation_date":1667232902,"question_id":74266173,"body_markdown":"I have a JSON Array field (`Array&lt;JSONB?&gt;`) (in Postgres its a JSONB[]) that contains a value like so:\r\n\r\nBefore: `[{&quot;key1&quot;:&quot;val1&quot;}, {&quot;key2&quot;:&quot;val2&quot;}]`\r\n\r\nI want to perform an update on this array - to do a simple string replace (*val* to *value*). Yes: I want to treat the JSON array as a string, but save back into the DB as a JSON array.\r\n\r\nAfter:\r\n`[{&quot;key1&quot;:&quot;value1&quot;}, {&quot;key2&quot;:&quot;value2&quot;}]`\r\n\r\nI am finding it hard to get the syntax with JOOQ correct. I have the following:\r\n\r\n```kotlin\r\nval jsonArrayAsString = record.getValue(MY_TABLE.ARRAY_FIELD).contentDeepToString().replace(&quot;val&quot;, &quot;value&quot;)))\r\n\r\nconn.update(MY_TABLE).set(MY_TABLE.ARRAY_FIELD, jsonArrayAsString))\r\n","title":"jOOQ update a JSON array field using a String","body":"<p>I have a JSON Array field (<code>Array&lt;JSONB?&gt;</code>) (in Postgres its a JSONB[]) that contains a value like so:</p>\n<p>Before: <code>[{&quot;key1&quot;:&quot;val1&quot;}, {&quot;key2&quot;:&quot;val2&quot;}]</code></p>\n<p>I want to perform an update on this array - to do a simple string replace (<em>val</em> to <em>value</em>). Yes: I want to treat the JSON array as a string, but save back into the DB as a JSON array.</p>\n<p>After:\n<code>[{&quot;key1&quot;:&quot;value1&quot;}, {&quot;key2&quot;:&quot;value2&quot;}]</code></p>\n<p>I am finding it hard to get the syntax with JOOQ correct. I have the following:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>val jsonArrayAsString = record.getValue(MY_TABLE.ARRAY_FIELD).contentDeepToString().replace(&quot;val&quot;, &quot;value&quot;)))\n\nconn.update(MY_TABLE).set(MY_TABLE.ARRAY_FIELD, jsonArrayAsString))\n</code></pre>\n"},{"tags":["java","rest","exception","overriding"],"answers":[{"tags":[],"owner":{"account_id":5083689,"reputation":1006,"user_id":4079056,"display_name":"sanurah"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1667304604,"creation_date":1667304155,"answer_id":74275646,"question_id":74275500,"body_markdown":"can you extract the common part to a method like this?\r\n\r\n    private ResponseEntity&lt;ErrorDto&gt; conflict(final Throwable exception, HttpStatus status, String scrimType) {\r\n        final var errorDto = new ErrorDto();\r\n        errorDto.setDetail(exception.getMessage());\r\n        errorDto.setStatus(status.toString());\r\n        errorDto.setScimType(scrimType);\r\n        return new ResponseEntity&lt;&gt;(errorDto, status);\r\n    }\r\n\r\nand call it from your methods,\r\n\r\n    @ExceptionHandler(value = {ProhibitedScimTypeException.class})\r\n    public ResponseEntity&lt;ErrorDto&gt; policyConflict(final ProhibitedScimTypeException exception) {\r\n        return conflict(exception, HttpStatus.BAD_REQUEST, &quot;prohibited&quot;);\r\n    }\r\n    \r\n    @ExceptionHandler(value = {UserAlreadyExistsException.class})\r\n    public ResponseEntity&lt;ErrorDto&gt; userNameExistsConflict(final UserAlreadyExistsException exception) {\r\n        return conflict(exception, HttpStatus.CONFLICT, &quot;uniqueness&quot;);\r\n    }\r\n    \r\n    @ExceptionHandler(value = {UserNotFoundException.class})\r\n    public ResponseEntity&lt;ErrorDto&gt; userNameNotFoundConflict(final UserNotFoundException exception) {\r\n        return conflict(exception, HttpStatus.NOT_FOUND, &quot;prohibited&quot;);\r\n    }","title":"How to simplify several methods with similar bodies into one?","body":"<p>can you extract the common part to a method like this?</p>\n<pre><code>private ResponseEntity&lt;ErrorDto&gt; conflict(final Throwable exception, HttpStatus status, String scrimType) {\n    final var errorDto = new ErrorDto();\n    errorDto.setDetail(exception.getMessage());\n    errorDto.setStatus(status.toString());\n    errorDto.setScimType(scrimType);\n    return new ResponseEntity&lt;&gt;(errorDto, status);\n}\n</code></pre>\n<p>and call it from your methods,</p>\n<pre><code>@ExceptionHandler(value = {ProhibitedScimTypeException.class})\npublic ResponseEntity&lt;ErrorDto&gt; policyConflict(final ProhibitedScimTypeException exception) {\n    return conflict(exception, HttpStatus.BAD_REQUEST, &quot;prohibited&quot;);\n}\n\n@ExceptionHandler(value = {UserAlreadyExistsException.class})\npublic ResponseEntity&lt;ErrorDto&gt; userNameExistsConflict(final UserAlreadyExistsException exception) {\n    return conflict(exception, HttpStatus.CONFLICT, &quot;uniqueness&quot;);\n}\n\n@ExceptionHandler(value = {UserNotFoundException.class})\npublic ResponseEntity&lt;ErrorDto&gt; userNameNotFoundConflict(final UserNotFoundException exception) {\n    return conflict(exception, HttpStatus.NOT_FOUND, &quot;prohibited&quot;);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":26774791,"reputation":826,"user_id":20370596,"display_name":"Christoph Dahlen"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667304301,"creation_date":1667304301,"answer_id":74275678,"question_id":74275500,"body_markdown":"Create a method:\r\n\r\n```java\r\n    private ResponseEntity&lt;ErrorDto&gt; conflict(final Throwable exception, final Object status, final String scimType, final HttpStatus httpStatus) {\r\n      final var errorDto = new ErrorDto();\r\n      errorDto.setDetail(exception.getMessage());\r\n      errorDto.setStatus(status.toString());\r\n      errorDto.setScimType(scimType);\r\n      return new ResponseEntity&lt;&gt;(errorDto, httpStatus);\r\n    }\r\n```\r\n\r\n\r\nand use it like\r\n\r\n```java\r\n    @ExceptionHandler(value = {ProhibitedScimTypeException.class})\r\n    public ResponseEntity&lt;ErrorDto&gt; policyConflict(final ProhibitedScimTypeException exception) {\r\n      return this.conflict(exception, BAD_REQUEST, &quot;prohibited&quot;, HttpStatus.BAD_REQUEST);\r\n    }\r\n```\r\n\r\n","title":"How to simplify several methods with similar bodies into one?","body":"<p>Create a method:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    private ResponseEntity&lt;ErrorDto&gt; conflict(final Throwable exception, final Object status, final String scimType, final HttpStatus httpStatus) {\n      final var errorDto = new ErrorDto();\n      errorDto.setDetail(exception.getMessage());\n      errorDto.setStatus(status.toString());\n      errorDto.setScimType(scimType);\n      return new ResponseEntity&lt;&gt;(errorDto, httpStatus);\n    }\n</code></pre>\n<p>and use it like</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @ExceptionHandler(value = {ProhibitedScimTypeException.class})\n    public ResponseEntity&lt;ErrorDto&gt; policyConflict(final ProhibitedScimTypeException exception) {\n      return this.conflict(exception, BAD_REQUEST, &quot;prohibited&quot;, HttpStatus.BAD_REQUEST);\n    }\n</code></pre>\n"}],"owner":{"account_id":23951042,"reputation":33,"user_id":17942621,"display_name":"Jack"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74275646,"answer_count":2,"score":0,"last_activity_date":1667304604,"creation_date":1667303555,"question_id":74275500,"body_markdown":"I would like to simplify my code and merge common parts of the several methods into new one. Could you give me the piece of advice - what is the best way to do it?\r\nMy methods are:\r\n\r\n    @ExceptionHandler(value = {ProhibitedScimTypeException.class})\r\n    public ResponseEntity&lt;ErrorDto&gt; policyConflict(final ProhibitedScimTypeException exception) {\r\n        final var errorDto = new ErrorDto();\r\n        errorDto.setDetail(exception.getMessage());\r\n        errorDto.setStatus(BAD_REQUEST.toString());\r\n        errorDto.setScimType(&quot;prohibited&quot;);\r\n        return new ResponseEntity&lt;&gt;(errorDto, HttpStatus.BAD_REQUEST);\r\n    }\r\n\r\n    @ExceptionHandler(value = {UserAlreadyExistsException.class})\r\n    public ResponseEntity&lt;ErrorDto&gt; userNameExistsConflict(final UserAlreadyExistsException exception) {\r\n        final var errorDto = new ErrorDto();\r\n        errorDto.setDetail(exception.getMessage());\r\n        errorDto.setStatus(CONFLICT.toString());\r\n        errorDto.setScimType(&quot;uniqueness&quot;);\r\n        return new ResponseEntity&lt;&gt;(errorDto, HttpStatus.CONFLICT);\r\n    }\r\n\r\n    @ExceptionHandler(value = {UserNotFoundException.class})\r\n    public ResponseEntity&lt;ErrorDto&gt; userNameNotFoundConflict(final UserNotFoundException exception) {\r\n        final var errorDto = new ErrorDto();\r\n        errorDto.setDetail(exception.getMessage());\r\n        errorDto.setStatus(NOT_FOUND.toString());\r\n        errorDto.setScimType(&quot;prohibited&quot;);\r\n        return new ResponseEntity&lt;&gt;(errorDto, HttpStatus.NOT_FOUND);\r\n    }\r\n\r\nI would like to separate the common part which is:\r\n\r\n    final var errorDto = new ErrorDto();\r\n    errorDto.setDetail(exception.getMessage());\r\n    errorDto.setStatus(MEHTOD.toString());\r\n    errorDto.setScimType(&quot;something&quot;);","title":"How to simplify several methods with similar bodies into one?","body":"<p>I would like to simplify my code and merge common parts of the several methods into new one. Could you give me the piece of advice - what is the best way to do it?\nMy methods are:</p>\n<pre><code>@ExceptionHandler(value = {ProhibitedScimTypeException.class})\npublic ResponseEntity&lt;ErrorDto&gt; policyConflict(final ProhibitedScimTypeException exception) {\n    final var errorDto = new ErrorDto();\n    errorDto.setDetail(exception.getMessage());\n    errorDto.setStatus(BAD_REQUEST.toString());\n    errorDto.setScimType(&quot;prohibited&quot;);\n    return new ResponseEntity&lt;&gt;(errorDto, HttpStatus.BAD_REQUEST);\n}\n\n@ExceptionHandler(value = {UserAlreadyExistsException.class})\npublic ResponseEntity&lt;ErrorDto&gt; userNameExistsConflict(final UserAlreadyExistsException exception) {\n    final var errorDto = new ErrorDto();\n    errorDto.setDetail(exception.getMessage());\n    errorDto.setStatus(CONFLICT.toString());\n    errorDto.setScimType(&quot;uniqueness&quot;);\n    return new ResponseEntity&lt;&gt;(errorDto, HttpStatus.CONFLICT);\n}\n\n@ExceptionHandler(value = {UserNotFoundException.class})\npublic ResponseEntity&lt;ErrorDto&gt; userNameNotFoundConflict(final UserNotFoundException exception) {\n    final var errorDto = new ErrorDto();\n    errorDto.setDetail(exception.getMessage());\n    errorDto.setStatus(NOT_FOUND.toString());\n    errorDto.setScimType(&quot;prohibited&quot;);\n    return new ResponseEntity&lt;&gt;(errorDto, HttpStatus.NOT_FOUND);\n}\n</code></pre>\n<p>I would like to separate the common part which is:</p>\n<pre><code>final var errorDto = new ErrorDto();\nerrorDto.setDetail(exception.getMessage());\nerrorDto.setStatus(MEHTOD.toString());\nerrorDto.setScimType(&quot;something&quot;);\n</code></pre>\n"},{"tags":["java","arrays","kotlin","reflection","annotation-processing"],"answers":[{"comments":[{"owner":{"account_id":1675086,"reputation":33930,"user_id":1540818,"accept_rate":82,"display_name":"Joffrey"},"score":0,"creation_date":1667304703,"post_id":74275716,"comment_id":131132163,"body_markdown":"*Kotlin arrays and Java arrays are the same thing at the VM level* - I guess that applies to instances of arrays, yes, but here the problem seems to be about reflection on the types","body":"<i>Kotlin arrays and Java arrays are the same thing at the VM level</i> - I guess that applies to instances of arrays, yes, but here the problem seems to be about reflection on the types"},{"owner":{"account_id":465573,"reputation":192703,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":1,"creation_date":1667304763,"post_id":74275716,"comment_id":131132183,"body_markdown":"The Proxy objects seem likely to reflect the common mistake -- not special to Kotlin, but present in pure Java -- of using getClass instead of annotationType on annotation objects.","body":"The Proxy objects seem likely to reflect the common mistake -- not special to Kotlin, but present in pure Java -- of using getClass instead of annotationType on annotation objects."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1667313960,"post_id":74275716,"comment_id":131135536,"body_markdown":"The code of Javapoet doesn’t seem to have such a bug, but this just implies that we have a classical *xy problem* here. The question goes like “*The issue is caused by…*”, followed by the OP’s speculation about the causes, but completely forgets to describe the actual issue.","body":"The code of Javapoet doesn’t seem to have such a bug, but this just implies that we have a classical <i>xy problem</i> here. The question goes like “<i>The issue is caused by…</i>”, followed by the OP’s speculation about the causes, but completely forgets to describe the actual issue."},{"owner":{"account_id":465573,"reputation":192703,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1667314102,"post_id":74275716,"comment_id":131135581,"body_markdown":"The OP describes that `o.getClass()` looks like `com.sun.proxy.$Proxy54`, which is exactly what happens for annotation classes at runtime -- uniquely, as far as I know.  Given that, it seems to me as if this is the only plausible explanation -- that `o` is an annotation object.  In general, you &quot;detect if an object is a kotlin array from Java&quot; by testing if it is an array; there is only one kind of array, there is no separate Java array.","body":"The OP describes that <code>o.getClass()</code> looks like <code>com.sun.proxy.$Proxy54</code>, which is exactly what happens for annotation classes at runtime -- uniquely, as far as I know.  Given that, it seems to me as if this is the only plausible explanation -- that <code>o</code> is an annotation object.  In general, you &quot;detect if an object is a kotlin array from Java&quot; by testing if it is an array; there is only one kind of array, there is no separate Java array."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1667314663,"post_id":74275716,"comment_id":131135789,"body_markdown":"It seems to got my comment wrong; your answer is correct, without any doubt. But there’s nothing wrong with the value being an annotation; the code of Javapoet checks for *both*, whether the value returned by the annotation method is an array *and* whether the returned value is an annotation. It also has code for the third possibility, that the value is neither, an array nor an annotation. To understand why the OP thinks that there’s a problem, we would have to know what actual operation went wrong and in which way. Obviously, whatever the actual problem is, it’s not related to Kotlin at all.","body":"It seems to got my comment wrong; your answer is correct, without any doubt. But there’s nothing wrong with the value being an annotation; the code of Javapoet checks for <i>both</i>, whether the value returned by the annotation method is an array <i>and</i> whether the returned value is an annotation. It also has code for the third possibility, that the value is neither, an array nor an annotation. To understand why the OP thinks that there’s a problem, we would have to know what actual operation went wrong and in which way. Obviously, whatever the actual problem is, it’s not related to Kotlin at all."}],"tags":[],"owner":{"account_id":465573,"reputation":192703,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"comment_count":5,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1667304542,"creation_date":1667304542,"answer_id":74275716,"question_id":74275602,"body_markdown":"Kotlin arrays and Java arrays are the same thing at the VM level.  `Array&lt;*&gt;` is Kotlin&#39;s syntax for arrays, but the objects are the same thing.  .isArray should work.\r\n\r\nThe proxy objects are typical for what you get when you call getClass on annotation objects in Java *or* Kotlin.  You likely need to use [`annotationType`](https://docs.oracle.com/javase/8/docs/api/java/lang/annotation/Annotation.html#annotationType--) instead of getClass.","title":"In Java, detect if an Object is a Kotlin array","body":"<p>Kotlin arrays and Java arrays are the same thing at the VM level.  <code>Array&lt;*&gt;</code> is Kotlin's syntax for arrays, but the objects are the same thing.  .isArray should work.</p>\n<p>The proxy objects are typical for what you get when you call getClass on annotation objects in Java <em>or</em> Kotlin.  You likely need to use <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/annotation/Annotation.html#annotationType--\" rel=\"nofollow noreferrer\"><code>annotationType</code></a> instead of getClass.</p>\n"}],"owner":{"account_id":959704,"reputation":8465,"user_id":984335,"accept_rate":85,"display_name":"Travis Parks"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":95,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1667304542,"creation_date":1667303999,"question_id":74275602,"body_markdown":"Sorry if this is very specific...\r\n\r\nI am looking at [Javapoet](https://github.com/square/javapoet)&#39;s implementation of `AnnotationSpec.get(Annotation)`. It recursively clones an annotation so that you can copy it to another element. In my case, I am trying to copy an `@OpenApi` annotation from one method to another.\r\n\r\nThe issue is caused by the annotations being written in kotlin. Anywhere the annotation needs a class, it is using `KClass&lt;*&gt;`. Javapoet only handles Java types, like `Class&lt;?&gt;`. From Java, I can say `if (o instanceof Class || o instance of KClass)` no problem.\r\n\r\nHowever, there&#39;s also code that says `o.getClass().isArray()` but, from what I can tell, kotlin annotations use `Array&lt;*&gt;` for arrays, so that check is failing. The actual type appears to be `com.sun.proxy.$Proxy54` when I inspect it, but I have no idea what that is.\r\n\r\nHow do you detect if an object is an kotlin array *from Java*? Can this be converted to a Java array? Is there some universal way to make kotlin annotations appear as java annotations using `Class` and built-in arrays and so on?","title":"In Java, detect if an Object is a Kotlin array","body":"<p>Sorry if this is very specific...</p>\n<p>I am looking at <a href=\"https://github.com/square/javapoet\" rel=\"nofollow noreferrer\">Javapoet</a>'s implementation of <code>AnnotationSpec.get(Annotation)</code>. It recursively clones an annotation so that you can copy it to another element. In my case, I am trying to copy an <code>@OpenApi</code> annotation from one method to another.</p>\n<p>The issue is caused by the annotations being written in kotlin. Anywhere the annotation needs a class, it is using <code>KClass&lt;*&gt;</code>. Javapoet only handles Java types, like <code>Class&lt;?&gt;</code>. From Java, I can say <code>if (o instanceof Class || o instance of KClass)</code> no problem.</p>\n<p>However, there's also code that says <code>o.getClass().isArray()</code> but, from what I can tell, kotlin annotations use <code>Array&lt;*&gt;</code> for arrays, so that check is failing. The actual type appears to be <code>com.sun.proxy.$Proxy54</code> when I inspect it, but I have no idea what that is.</p>\n<p>How do you detect if an object is an kotlin array <em>from Java</em>? Can this be converted to a Java array? Is there some universal way to make kotlin annotations appear as java annotations using <code>Class</code> and built-in arrays and so on?</p>\n"},{"tags":["java","linux","geolocation","ip-address"],"comments":[{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":0,"creation_date":1667304599,"post_id":74275657,"comment_id":131132129,"body_markdown":"What do you mean &quot;system ip address&quot;? You mean the address of your computer on your own network?","body":"What do you mean &quot;system ip address&quot;? You mean the address of your computer on your own network?"},{"owner":{"account_id":26679962,"reputation":1,"user_id":20290053,"display_name":"Shubham Pandharpote"},"score":0,"creation_date":1667304982,"post_id":74275657,"comment_id":131132265,"body_markdown":"yes i want access my longitude and latitude of my system","body":"yes i want access my longitude and latitude of my system"}],"answers":[{"comments":[{"owner":{"account_id":26679962,"reputation":1,"user_id":20290053,"display_name":"Shubham Pandharpote"},"score":0,"creation_date":1667304831,"post_id":74275712,"comment_id":131132203,"body_markdown":"my only motto access my system longitude and latitude using java . can you help me?","body":"my only motto access my system longitude and latitude using java . can you help me?"},{"owner":{"account_id":26774791,"reputation":826,"user_id":20370596,"display_name":"Christoph Dahlen"},"score":2,"creation_date":1667305331,"post_id":74275712,"comment_id":131132367,"body_markdown":"Unless your system has a GPS tracking device attached and that device has an API that can be accessed using Java - you can&#39;t. By default neither Windows nor Linux Systems have coordinates, best they do it guess the location from the system&#39;s public IP.","body":"Unless your system has a GPS tracking device attached and that device has an API that can be accessed using Java - you can&#39;t. By default neither Windows nor Linux Systems have coordinates, best they do it guess the location from the system&#39;s public IP."}],"tags":[],"owner":{"account_id":26774791,"reputation":826,"user_id":20370596,"display_name":"Christoph Dahlen"},"comment_count":2,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1667304516,"creation_date":1667304516,"answer_id":74275712,"question_id":74275657,"body_markdown":"There is no link between your system&#39;s ip address and a location. imagine your system&#39;s IP address being 192.168.0.1.\r\n\r\nAlso: The coordinates your your public IP address are probably the ones of your ISPs datacenter, not of your device. \r\n\r\nWhat are your actually trying to achieve?\r\n","title":"Get longitude and latitude in java","body":"<p>There is no link between your system's ip address and a location. imagine your system's IP address being 192.168.0.1.</p>\n<p>Also: The coordinates your your public IP address are probably the ones of your ISPs datacenter, not of your device.</p>\n<p>What are your actually trying to achieve?</p>\n"}],"owner":{"account_id":26679962,"reputation":1,"user_id":20290053,"display_name":"Shubham Pandharpote"},"comment_count":2,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":101,"favorite_count":0,"down_vote_count":4,"up_vote_count":0,"closed_date":1667305884,"answer_count":1,"score":-4,"last_activity_date":1667304516,"creation_date":1667304202,"question_id":74275657,"body_markdown":"I want track my location using longitude and latitude in linux\r\n\r\nI am trying get longitude and latitude using public ip address but i want using system ip address","title":"Get longitude and latitude in java","body":"<p>I want track my location using longitude and latitude in linux</p>\n<p>I am trying get longitude and latitude using public ip address but i want using system ip address</p>\n"},{"tags":["java","spring","docx4j"],"comments":[{"owner":{"account_id":26539115,"reputation":1082,"user_id":20170164,"display_name":"rainbow.gekota"},"score":0,"creation_date":1667328011,"post_id":74275592,"comment_id":131140422,"body_markdown":"Your paste of the exception message is missing the front part that says it&#39;s a ClassCastException. Here&#39;s a [google query for the exception message](https://www.google.com/search?q=java+%22are+in+unnamed+module+of+loader%22&amp;oq=java+%22are+in+unnamed+module+of+loader%22). The code you have showed doesn&#39;t seem to include the classes involved in the cast. Please inspect your full stack trace to try to locate the code doing that cast and share that code.","body":"Your paste of the exception message is missing the front part that says it&#39;s a ClassCastException. Here&#39;s a <a href=\"https://www.google.com/search?q=java+%22are+in+unnamed+module+of+loader%22&amp;oq=java+%22are+in+unnamed+module+of+loader%22\" rel=\"nofollow noreferrer\">google query for the exception message</a>. The code you have showed doesn&#39;t seem to include the classes involved in the cast. Please inspect your full stack trace to try to locate the code doing that cast and share that code."},{"owner":{"account_id":26539115,"reputation":1082,"user_id":20170164,"display_name":"rainbow.gekota"},"score":0,"creation_date":1667328056,"post_id":74275592,"comment_id":131140437,"body_markdown":"Also see the instructions for creating an [minimal reproducible example](https://stackoverflow.com/help/minimal-reproducible-example). You have not provided inputs (the file) that reproduce the issue or instructions on how to create such an input file. (Also- I forgot to say- welcome to SO!)","body":"Also see the instructions for creating an <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>. You have not provided inputs (the file) that reproduce the issue or instructions on how to create such an input file. (Also- I forgot to say- welcome to SO!)"},{"owner":{"account_id":30580,"reputation":15487,"user_id":1031689,"accept_rate":67,"display_name":"JasonPlutext"},"score":0,"creation_date":1667329456,"post_id":74275592,"comment_id":131140806,"body_markdown":"Yes, sample input XHTML please.","body":"Yes, sample input XHTML please."}],"owner":{"account_id":26794763,"reputation":1,"user_id":20387660,"display_name":"Abscondro"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":97,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1667303974,"creation_date":1667303974,"question_id":74275592,"body_markdown":"class org.docx4j.openpackaging.parts.WordprocessingML.BinaryPart cannot be cast to class org.docx4j.openpackaging.parts.WordprocessingML.ObfuscatedFontPart (org.docx4j.openpackaging.parts.WordprocessingML.BinaryPart and org.docx4j.openpackaging.parts.WordprocessingML.ObfuscatedFontPart are in unnamed module of loader &#39;app&#39;\r\n\r\n```\r\npublic String saveFile( RequestDTO saveRequest) throws Docx4JException, IOException {\r\n\r\n    var payload=saveRequest.getDocFile();\r\n     PipedOutputStream osPipe = new PipedOutputStream();\r\n     PipedInputStream isPipe = new PipedInputStream(osPipe);\r\n     DataBufferUtils.write(payload.content(), osPipe)\r\n             .subscribeOn(Schedulers.boundedElastic())\r\n             .doOnComplete(() -&gt; {\r\n                 try {\r\n                     osPipe.close();\r\n                 } catch (IOException ignored) {\r\n                 }\r\n             })\r\n             .subscribe(DataBufferUtils.releaseConsumer());\r\n     byte[] bytes = isPipe.readAllBytes();\r\n   ByteArrayInputStream byteArrayInputStream = new ByteArrayInputStream(bytes);\r\n         var doc =  WordprocessingMLPackage.load(byteArrayInputStream);\r\n         var updater = new FieldUpdater(doc);\r\n         updater.update(true);\r\n\r\n\r\n     HTMLSettings htmlSettings = Docx4J.createHTMLSettings();\r\n         File images = new File(&quot;/image/&quot;);\r\n         File baseUri = new File(&quot;&quot;);\r\n         htmlSettings.setImageDirPath(images.getAbsolutePath());\r\n         htmlSettings.setImageTargetUri(baseUri.getAbsolutePath());\r\n         htmlSettings.setWmlPackage(doc);\r\n         var mapper =htmlSettings.getFontMapper();\r\n      Docx4jProperties.setProperty(&quot;docx4j.Convert.Out.HTML.OutputMethodXML&quot;, true);\r\n         ByteArrayOutputStream os = new ByteArrayOutputStream();\r\n          Docx4J.toHTML(htmlSettings, os, Docx4J.FLAG_EXPORT_PREFER_XSL);\r\n         var str = new String(os.toByteArray());\r\n        os.close();\r\n         if (doc.getMainDocumentPart().getFontTablePart() != null) {\r\n             doc.getMainDocumentPart().getFontTablePart()\r\n                     .deleteEmbeddedFontTempFiles();\r\n         }\r\n\r\nreturn  str;\r\n\r\n\r\n }\r\n```\r\n\r\nI am expecting the html to be returned as string. It working fine with most of document but give exception with the document I need to convert.","title":"Error Converting .docx to Html using Java Docx4J library","body":"<p>class org.docx4j.openpackaging.parts.WordprocessingML.BinaryPart cannot be cast to class org.docx4j.openpackaging.parts.WordprocessingML.ObfuscatedFontPart (org.docx4j.openpackaging.parts.WordprocessingML.BinaryPart and org.docx4j.openpackaging.parts.WordprocessingML.ObfuscatedFontPart are in unnamed module of loader 'app'</p>\n<pre><code>public String saveFile( RequestDTO saveRequest) throws Docx4JException, IOException {\n\n    var payload=saveRequest.getDocFile();\n     PipedOutputStream osPipe = new PipedOutputStream();\n     PipedInputStream isPipe = new PipedInputStream(osPipe);\n     DataBufferUtils.write(payload.content(), osPipe)\n             .subscribeOn(Schedulers.boundedElastic())\n             .doOnComplete(() -&gt; {\n                 try {\n                     osPipe.close();\n                 } catch (IOException ignored) {\n                 }\n             })\n             .subscribe(DataBufferUtils.releaseConsumer());\n     byte[] bytes = isPipe.readAllBytes();\n   ByteArrayInputStream byteArrayInputStream = new ByteArrayInputStream(bytes);\n         var doc =  WordprocessingMLPackage.load(byteArrayInputStream);\n         var updater = new FieldUpdater(doc);\n         updater.update(true);\n\n\n     HTMLSettings htmlSettings = Docx4J.createHTMLSettings();\n         File images = new File(&quot;/image/&quot;);\n         File baseUri = new File(&quot;&quot;);\n         htmlSettings.setImageDirPath(images.getAbsolutePath());\n         htmlSettings.setImageTargetUri(baseUri.getAbsolutePath());\n         htmlSettings.setWmlPackage(doc);\n         var mapper =htmlSettings.getFontMapper();\n      Docx4jProperties.setProperty(&quot;docx4j.Convert.Out.HTML.OutputMethodXML&quot;, true);\n         ByteArrayOutputStream os = new ByteArrayOutputStream();\n          Docx4J.toHTML(htmlSettings, os, Docx4J.FLAG_EXPORT_PREFER_XSL);\n         var str = new String(os.toByteArray());\n        os.close();\n         if (doc.getMainDocumentPart().getFontTablePart() != null) {\n             doc.getMainDocumentPart().getFontTablePart()\n                     .deleteEmbeddedFontTempFiles();\n         }\n\nreturn  str;\n\n\n }\n</code></pre>\n<p>I am expecting the html to be returned as string. It working fine with most of document but give exception with the document I need to convert.</p>\n"},{"tags":["java","garbage-collection"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":4,"creation_date":1667018991,"post_id":74242871,"comment_id":131076781,"body_markdown":"Garbage collection will free all objects which are not reachable from a &quot;gc root&quot;. In this case you don&#39;t need to set the elements to null -- once root is null all the children are unreachable (assuming there are no other references to them)","body":"Garbage collection will free all objects which are not reachable from a &quot;gc root&quot;. In this case you don&#39;t need to set the elements to null -- once root is null all the children are unreachable (assuming there are no other references to them)"},{"owner":{"account_id":4012552,"reputation":11773,"user_id":3305546,"accept_rate":99,"display_name":"Yves"},"score":0,"creation_date":1667019127,"post_id":74242871,"comment_id":131076794,"body_markdown":"@tgdavies There are no other references to them but they reference themselves as `child1 -&gt; child2 -&gt; ...`. Anyway, so I need only do `root = null;`. Thanks dude.","body":"@tgdavies There are no other references to them but they reference themselves as <code>child1 -&gt; child2 -&gt; ...</code>. Anyway, so I need only do <code>root = null;</code>. Thanks dude."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":2,"creation_date":1667019272,"post_id":74242871,"comment_id":131076803,"body_markdown":"here&#39;s some more information on gc roots: https://www.yourkit.com/docs/java/help/gc_roots.jsp","body":"here&#39;s some more information on gc roots: <a href=\"https://www.yourkit.com/docs/java/help/gc_roots.jsp\" rel=\"nofollow noreferrer\">yourkit.com/docs/java/help/gc_roots.jsp</a>"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1667019823,"post_id":74242871,"comment_id":131076850,"body_markdown":"Yes, I should have said &quot;...no other references to them starting from a GC root&quot;","body":"Yes, I should have said &quot;...no other references to them starting from a GC root&quot;"},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1667030031,"post_id":74242871,"comment_id":131078060,"body_markdown":"@tgdavies Perhaps you can make an Answer of that useful info?","body":"@tgdavies Perhaps you can make an Answer of that useful info?"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1667034254,"post_id":74242871,"comment_id":131078642,"body_markdown":"@BasilBourque it actually already mentioned here https://stackoverflow.com/questions/12242904/understanding-memory-leaks-in-java-what-are-the-classes-that-persist-through-o/12242950#12242950 (although the link had rotted, which I&#39;ve just fixed)","body":"@BasilBourque it actually already mentioned here <a href=\"https://stackoverflow.com/questions/12242904/understanding-memory-leaks-in-java-what-are-the-classes-that-persist-through-o/12242950#12242950\" title=\"understanding memory leaks in java what are the classes that persist through o\">stackoverflow.com/questions/12242904/&hellip;</a> (although the link had rotted, which I&#39;ve just fixed)"}],"owner":{"account_id":4012552,"reputation":11773,"user_id":3305546,"accept_rate":99,"display_name":"Yves"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1667303783,"answer_count":0,"score":0,"last_activity_date":1667303816,"creation_date":1667018674,"question_id":74242871,"body_markdown":"I&#39;m trying to develop some tree-like data structure with Java.\r\n\r\n    class MyTree {\r\n        private Node root;\r\n    }\r\n\r\n    class Node {\r\n        private HashMap&lt;Character, Node&gt; children;\r\n        private String content;\r\n        // some other data members\r\n    }\r\n\r\nAs you see, each `Node` contains another `Node`, which is its children so that I can build a list like this: `MyTree.root -&gt; child1 -&gt; child2 -&gt; child3`.\r\n\r\nNow, if I want to delete/free this tree, can I simply do `root = null;` or must I loop to set each element to null? I don&#39;t know how gc exactly works in this case...","title":"Must we set null for each element of a list in Java when we want to delete the list","body":"<p>I'm trying to develop some tree-like data structure with Java.</p>\n<pre><code>class MyTree {\n    private Node root;\n}\n\nclass Node {\n    private HashMap&lt;Character, Node&gt; children;\n    private String content;\n    // some other data members\n}\n</code></pre>\n<p>As you see, each <code>Node</code> contains another <code>Node</code>, which is its children so that I can build a list like this: <code>MyTree.root -&gt; child1 -&gt; child2 -&gt; child3</code>.</p>\n<p>Now, if I want to delete/free this tree, can I simply do <code>root = null;</code> or must I loop to set each element to null? I don't know how gc exactly works in this case...</p>\n"},{"tags":["java","spring","spring-boot","logic"],"comments":[{"owner":{"display_name":"user6073886"},"score":2,"creation_date":1667301233,"post_id":74274983,"comment_id":131131096,"body_markdown":"`Boolean.FALSE.equals(force)` is unnecessary complicated.  `boolean force` is a primitive boolean, so just using `!force` will give the exact same behavior. Using `Boolean.FALSE.equals` or `Boolean.TRUE.equals` for comparing usually only makes sense when you are dealing with non primitive `Boolean` types and want to avoid NullPointerExceptions.","body":"<code>Boolean.FALSE.equals(force)</code> is unnecessary complicated.  <code>boolean force</code> is a primitive boolean, so just using <code>!force</code> will give the exact same behavior. Using <code>Boolean.FALSE.equals</code> or <code>Boolean.TRUE.equals</code> for comparing usually only makes sense when you are dealing with non primitive <code>Boolean</code> types and want to avoid NullPointerExceptions."},{"owner":{"account_id":9941523,"reputation":1018,"user_id":7357959,"display_name":"Tsvetoslav Tsvetkov"},"score":1,"creation_date":1667301654,"post_id":74274983,"comment_id":131131216,"body_markdown":"I would suggest first reviewing your logic as this looks not logically correct\n(Boolean.TRUE.equals(item.getContentModificationOnly()) || Boolean.FALSE.equals(item.getContentModificationOnly())","body":"I would suggest first reviewing your logic as this looks not logically correct (Boolean.TRUE.equals(item.getContentModificationOnly()) || Boolean.FALSE.equals(item.getContentModificationOnly())"},{"owner":{"display_name":"user6073886"},"score":0,"creation_date":1667304197,"post_id":74274983,"comment_id":131132003,"body_markdown":"@TsvetoslavTsvetkov `(Boolean.TRUE.equals(item.getContentModificationOnly()) || Boolean.FALSE.equals(item.getContentModificationOnly())` could make sense if `item.getContentModificationOnly()` would return a `Boolean`. In that case the statement would resolve to `false` for the case that `item.getContentModificationOnly()` would return `null`.  For a primitive `boolean` this statement of course wouldn&#39;t make sense as the primitive type can&#39;t be `null` and the statement would therefor always resolve to `true`.","body":"@TsvetoslavTsvetkov <code>(Boolean.TRUE.equals(item.getContentModificationOnly()) || Boolean.FALSE.equals(item.getContentModificationOnly())</code> could make sense if <code>item.getContentModificationOnly()</code> would return a <code>Boolean</code>. In that case the statement would resolve to <code>false</code> for the case that <code>item.getContentModificationOnly()</code> would return <code>null</code>.  For a primitive <code>boolean</code> this statement of course wouldn&#39;t make sense as the primitive type can&#39;t be <code>null</code> and the statement would therefor always resolve to <code>true</code>."},{"owner":{"account_id":25176430,"reputation":3,"user_id":19018545,"display_name":"emung"},"score":0,"creation_date":1667305081,"post_id":74274983,"comment_id":131132293,"body_markdown":"@OHGODSPIDERS yeah in this case `contentModificationOnly` is declared as Boolean in `ConfigurationItemResource` so I have to use Boolean","body":"@OHGODSPIDERS yeah in this case <code>contentModificationOnly</code> is declared as Boolean in <code>ConfigurationItemResource</code> so I have to use Boolean"}],"answers":[{"tags":[],"owner":{"account_id":26542979,"reputation":31,"user_id":20173434,"display_name":"Thy"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667301849,"creation_date":1667301849,"answer_id":74275171,"question_id":74274983,"body_markdown":"First if condition\r\n\r\n     if (item.getContentModificationOnly() &amp;&amp; !force) {\r\n\r\nSecond If condition\r\n\r\n    if ((item.getContentModificationOnly() || !item.getContentModificationOnly()) &amp;&amp; force) {\r\n\r\nThe below code will always return true\r\n\r\n    (item.getContentModificationOnly() || !item.getContentModificationOnly()) \r\n\r\nso modify second if stmnt to just\r\n\r\n `if (force)`{","title":"Is there a better way to write this if statements?","body":"<p>First if condition</p>\n<pre><code> if (item.getContentModificationOnly() &amp;&amp; !force) {\n</code></pre>\n<p>Second If condition</p>\n<pre><code>if ((item.getContentModificationOnly() || !item.getContentModificationOnly()) &amp;&amp; force) {\n</code></pre>\n<p>The below code will always return true</p>\n<pre><code>(item.getContentModificationOnly() || !item.getContentModificationOnly()) \n</code></pre>\n<p>so modify second if stmnt to just</p>\n<p><code>if (force)</code>{</p>\n"},{"tags":[],"owner":{"account_id":24476594,"reputation":16,"user_id":18395563,"display_name":"LiLittleCat"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1667302117,"creation_date":1667302044,"answer_id":74275203,"question_id":74274983,"body_markdown":"It looks like you don&#39;t care about `item.getContentModificationOnly()` is true or false in the second if-statement since your code is `(Boolean.TRUE.equals(item.getContentModificationOnly()) || Boolean.FALSE.equals(item.getContentModificationOnly())`. So if your logic is right I suggest you code like this:\r\n```java\r\n\r\nif (fore) {\r\n    this.assignmentService.deleteAssignmentsByItem(item);\r\n    this.configurationInstanceRepository.deleteByItem(item);\r\n    this.configurationItemRepository.deleteById(itemId);\r\n} else if (Boolean.TRUE.equals(item.getContentModificationOnly()) {\r\n    throw new ContentModificationOnlyException(&quot;Configuration Item cannot be deleted&quot;);\r\n}\r\n\r\n```","title":"Is there a better way to write this if statements?","body":"<p>It looks like you don't care about <code>item.getContentModificationOnly()</code> is true or false in the second if-statement since your code is <code>(Boolean.TRUE.equals(item.getContentModificationOnly()) || Boolean.FALSE.equals(item.getContentModificationOnly())</code>. So if your logic is right I suggest you code like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>\nif (fore) {\n    this.assignmentService.deleteAssignmentsByItem(item);\n    this.configurationInstanceRepository.deleteByItem(item);\n    this.configurationItemRepository.deleteById(itemId);\n} else if (Boolean.TRUE.equals(item.getContentModificationOnly()) {\n    throw new ContentModificationOnlyException(&quot;Configuration Item cannot be deleted&quot;);\n}\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":26774791,"reputation":826,"user_id":20370596,"display_name":"Christoph Dahlen"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667303642,"creation_date":1667303642,"answer_id":74275530,"question_id":74274983,"body_markdown":"Depends on the return type `item.getContentModificationOnly()`. If it&#39;s **B**oolean, than the second statement can be reduced to\r\n\r\n    if(item.getContentModificationOnly() != null &amp;&amp; force)\r\n\r\nIf the return type of `item.getContentModificationOnly()` is **b**oolean, than the statement can be reduced to \r\n\r\n    if(force) \r\n\r\nand the answer of @LiLittleCat above if correct.","title":"Is there a better way to write this if statements?","body":"<p>Depends on the return type <code>item.getContentModificationOnly()</code>. If it's <strong>B</strong>oolean, than the second statement can be reduced to</p>\n<pre><code>if(item.getContentModificationOnly() != null &amp;&amp; force)\n</code></pre>\n<p>If the return type of <code>item.getContentModificationOnly()</code> is <strong>b</strong>oolean, than the statement can be reduced to</p>\n<pre><code>if(force) \n</code></pre>\n<p>and the answer of @LiLittleCat above if correct.</p>\n"}],"owner":{"account_id":25176430,"reputation":3,"user_id":19018545,"display_name":"emung"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":67,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":74275203,"answer_count":3,"score":-2,"last_activity_date":1667303642,"creation_date":1667301004,"question_id":74274983,"body_markdown":"I started recently as a developer and I am still struggling a bit with the way I write my code.\r\n\r\nIs there a better way to write this two if-statements? How would you write it and why?\r\n\r\nJava code:\r\n\r\n\r\n```\r\n@Override\r\n@Transactional\r\npublic void deleteItem(final ConfigurationType type, final long itemId, final boolean force) {\r\n    this.applicationNameUtils.throwOnInvalidApplication(type.getApplication());\r\n    final ConfigurationItemModel item =\r\n        this.configurationItemRepository.findByApplicationAndTopicAndId(type.getApplication(), type.getTopic(), itemId)\r\n            .orElseThrow(() -&gt; new ResourceNotFoundException(itemId, &quot;Configuration Item&quot;));\r\n    if (Boolean.TRUE.equals(item.getContentModificationOnly()) &amp;&amp; Boolean.FALSE.equals(force)) {\r\n        throw new ContentModificationOnlyException(&quot;Configuration Item cannot be deleted&quot;);\r\n    }\r\n    if ((Boolean.TRUE.equals(item.getContentModificationOnly()) || Boolean.FALSE.equals(item.getContentModificationOnly())) &amp;&amp; Boolean.TRUE.equals(force)) {\r\n        this.assignmentService.deleteAssignmentsByItem(item);\r\n        this.configurationInstanceRepository.deleteByItem(item);\r\n        this.configurationItemRepository.deleteById(itemId);\r\n    }\r\n}\r\n\r\n```\r\n\r\n I am not sure if I can somehow combine this two in a if-else.","title":"Is there a better way to write this if statements?","body":"<p>I started recently as a developer and I am still struggling a bit with the way I write my code.</p>\n<p>Is there a better way to write this two if-statements? How would you write it and why?</p>\n<p>Java code:</p>\n<pre><code>@Override\n@Transactional\npublic void deleteItem(final ConfigurationType type, final long itemId, final boolean force) {\n    this.applicationNameUtils.throwOnInvalidApplication(type.getApplication());\n    final ConfigurationItemModel item =\n        this.configurationItemRepository.findByApplicationAndTopicAndId(type.getApplication(), type.getTopic(), itemId)\n            .orElseThrow(() -&gt; new ResourceNotFoundException(itemId, &quot;Configuration Item&quot;));\n    if (Boolean.TRUE.equals(item.getContentModificationOnly()) &amp;&amp; Boolean.FALSE.equals(force)) {\n        throw new ContentModificationOnlyException(&quot;Configuration Item cannot be deleted&quot;);\n    }\n    if ((Boolean.TRUE.equals(item.getContentModificationOnly()) || Boolean.FALSE.equals(item.getContentModificationOnly())) &amp;&amp; Boolean.TRUE.equals(force)) {\n        this.assignmentService.deleteAssignmentsByItem(item);\n        this.configurationInstanceRepository.deleteByItem(item);\n        this.configurationItemRepository.deleteById(itemId);\n    }\n}\n\n</code></pre>\n<p>I am not sure if I can somehow combine this two in a if-else.</p>\n"},{"tags":["java","spring","ejb","rmi","httpinvoker"],"comments":[{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1622282701,"post_id":67735258,"comment_id":119751692,"body_markdown":"Err, have you considered Java RMI?","body":"Err, have you considered Java RMI?"}],"answers":[{"tags":[],"owner":{"account_id":18538236,"reputation":990,"user_id":13793329,"display_name":"PeterB"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637263455,"creation_date":1637263455,"answer_id":70025585,"question_id":67735258,"body_markdown":"Based on the spring documentation:\r\nhttps://docs.spring.io/spring-framework/docs/current/reference/html/integration.html#remoting-web-services\r\n\r\nI can say, that probably these alternatives remain in future versions, but I did not try them:\r\n* Jax-WS\r\n* Spring Web Services\r\n* AMQP\r\n\r\nI feel, that Spring Web Services is Spring&#39;s favorite.\r\nWe will see when the 6.0 documentation is finished.","title":"What&#39;s the alternative for Spring RMI? (since it&#39;s deprecated)","body":"<p>Based on the spring documentation:\n<a href=\"https://docs.spring.io/spring-framework/docs/current/reference/html/integration.html#remoting-web-services\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-framework/docs/current/reference/html/integration.html#remoting-web-services</a></p>\n<p>I can say, that probably these alternatives remain in future versions, but I did not try them:</p>\n<ul>\n<li>Jax-WS</li>\n<li>Spring Web Services</li>\n<li>AMQP</li>\n</ul>\n<p>I feel, that Spring Web Services is Spring's favorite.\nWe will see when the 6.0 documentation is finished.</p>\n"},{"comments":[{"owner":{"account_id":350117,"reputation":8663,"user_id":685806,"accept_rate":44,"display_name":"Pino"},"score":0,"creation_date":1701348156,"post_id":74275481,"comment_id":136765946,"body_markdown":"Yes, Hessian is still usable.  [hessian-demo](https://github.com/pnavato/hessian-demo) provides a working example of a Hessian-based web service in a Spring Boot application without `HessianServiceExporter`.  You can even use the Jakarta-based Spring Boot 3.","body":"Yes, Hessian is still usable.  <a href=\"https://github.com/pnavato/hessian-demo\" rel=\"nofollow noreferrer\">hessian-demo</a> provides a working example of a Hessian-based web service in a Spring Boot application without <code>HessianServiceExporter</code>.  You can even use the Jakarta-based Spring Boot 3."}],"tags":[],"owner":{"account_id":10880077,"reputation":1286,"user_id":7999311,"display_name":"Adam Ostrožl&#237;k"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1667303449,"creation_date":1667303449,"answer_id":74275481,"question_id":67735258,"body_markdown":"I have come across the same problem using Hessian. I think you still can make your own implementation. Spring only deprecates their own integrations to RMI technologies. \r\n\r\nI think there are plenty of other technologies, but the message is clear. Spring will not make any own integrations.\r\n\r\nI can think of these alternatives:\r\n\r\n - Hessian: still usable, but implement your own integration\r\n - gRPC\r\n - messaging (rabbit, pulsar, kafka, ...)\r\n - SOAP\r\n\r\n","title":"What&#39;s the alternative for Spring RMI? (since it&#39;s deprecated)","body":"<p>I have come across the same problem using Hessian. I think you still can make your own implementation. Spring only deprecates their own integrations to RMI technologies.</p>\n<p>I think there are plenty of other technologies, but the message is clear. Spring will not make any own integrations.</p>\n<p>I can think of these alternatives:</p>\n<ul>\n<li>Hessian: still usable, but implement your own integration</li>\n<li>gRPC</li>\n<li>messaging (rabbit, pulsar, kafka, ...)</li>\n<li>SOAP</li>\n</ul>\n"}],"owner":{"account_id":1339045,"reputation":4200,"user_id":1281120,"accept_rate":64,"display_name":"Arturas M"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4999,"favorite_count":0,"down_vote_count":0,"up_vote_count":14,"answer_count":2,"score":14,"last_activity_date":1667303449,"creation_date":1622189735,"question_id":67735258,"body_markdown":"Spring seems to be deprecating its RMI:\r\n\r\n&gt; As of Spring Framework 5.3, support for several remoting technologies is now deprecated for security reasons and broader industry support. Supporting infrastructure will be removed from Spring Framework for its next major release.\r\n\r\nBut I can&#39;t find any easy equivalent alternative to it. REST would sound like the best choice for simple stuff, but it does not cover solutions where the task is long running and/or a continuous flow of results is needed. So the implementation would be very absurdly painful with REST. Some consider submitting the tasks via REST to queues and then possibly querying for the results separately - but this sounds like an overkill and blows the amount of work needed to sky-high for something really simple that used to be available.\r\n\r\nIs there a good alternative or some framework that uses the non-deprecated technologies and is officially available that deals with the above mentioned problems? When something is deprecated it usually indicates that something better is available that would be the better solution, so can somebody help me on educating me what it is?","title":"What&#39;s the alternative for Spring RMI? (since it&#39;s deprecated)","body":"<p>Spring seems to be deprecating its RMI:</p>\n<blockquote>\n<p>As of Spring Framework 5.3, support for several remoting technologies is now deprecated for security reasons and broader industry support. Supporting infrastructure will be removed from Spring Framework for its next major release.</p>\n</blockquote>\n<p>But I can't find any easy equivalent alternative to it. REST would sound like the best choice for simple stuff, but it does not cover solutions where the task is long running and/or a continuous flow of results is needed. So the implementation would be very absurdly painful with REST. Some consider submitting the tasks via REST to queues and then possibly querying for the results separately - but this sounds like an overkill and blows the amount of work needed to sky-high for something really simple that used to be available.</p>\n<p>Is there a good alternative or some framework that uses the non-deprecated technologies and is officially available that deals with the above mentioned problems? When something is deprecated it usually indicates that something better is available that would be the better solution, so can somebody help me on educating me what it is?</p>\n"},{"tags":["java","json","google-distancematrix-api"],"comments":[{"owner":{"account_id":7051471,"reputation":703,"user_id":5400374,"display_name":"Samir"},"score":0,"creation_date":1517076266,"post_id":48475803,"comment_id":83950707,"body_markdown":"Can you please share problem details about parsing json?","body":"Can you please share problem details about parsing json?"}],"answers":[{"tags":[],"owner":{"account_id":7051471,"reputation":703,"user_id":5400374,"display_name":"Samir"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1517075455,"creation_date":1517075455,"answer_id":48478720,"question_id":48475803,"body_markdown":"If you want to parse json you can  use json libraries in Java like [Jackson][1],[Gson][2] [Json simple][3].\r\nSecond way(i would recommend) you can create you own Java request and response beans according to json request and response from API and use them in  http requests ,you cand find full example from [here][4]\r\n\r\n    package com.apartmentnotification.client;\r\n\r\n    import com.apartmentnotification.model.DirectionResponse;\r\n    import java.io.IOException;\r\n    import javax.ws.rs.client.Client;\r\n    import javax.ws.rs.client.WebTarget;\r\n\r\n    public class ApartmentClient {\r\n\r\n    private static final String BASE_URI = &quot;https://maps.googleapis.com/maps/api&quot;;\r\n    private static final String API_KEY = &quot;AIzaSyCXnwOwrv_Kt7bkbO5vXtpPelu08yp-3iY&quot;;\r\n\r\n    /**\r\n     * end point for read distanceMatrix\r\n     */\r\n    private WebTarget distanceMatrix;\r\n\r\n    public ApartmentClient() {\r\n        Client client = LazySingleton.getClient();\r\n        distanceMatrix = client.target(BASE_URI + &quot;/distancematrix&quot;);\r\n\r\n    }\r\n\r\n    public DirectionResponse getDirectionInfo(String origins, String destionations) throws IOException {\r\n        return distanceMatrix.path(&quot;/json&quot;)\r\n                .queryParam(&quot;units&quot;, &quot;imperial&quot;)\r\n                .queryParam(&quot;origins&quot;, origins)\r\n                .queryParam(&quot;destinations&quot;, destionations)\r\n                .queryParam(&quot;key&quot;, API_KEY)\r\n                .request()\r\n                .get()\r\n                .readEntity(DirectionResponse.class);\r\n    }\r\n    \r\n    public static void main(String[] args) throws IOException {\r\n        ApartmentClient wc = new ApartmentClient();\r\n        DirectionResponse direction = wc.getDirectionInfo(&quot;Vaidavas 6/3&quot;, &quot;Domina Shopping&quot;);\r\n        System.out.println(&quot;Duration in hours :&quot;+direction.getRows().get(0).getElements().get(0).getDuration().getText());\r\n        System.out.println(&quot;Distance  in metr : &quot;+direction.getRows().get(0).getElements().get(0).getDistance().getValue());\r\n    }\r\n}\r\n\r\n\r\nHope it helps.\r\n\r\n\r\n  [1]: https://github.com/FasterXML/jackson\r\n  [2]: https://github.com/google/gson\r\n  [3]: https://github.com/fangyidong/json-simple\r\n  [4]: https://gitlab.com/samiragayarov/distanceMatrixDemoInJava","title":"How to get distance from google distance matrix Api in Java","body":"<p>If you want to parse json you can  use json libraries in Java like <a href=\"https://github.com/FasterXML/jackson\" rel=\"nofollow noreferrer\">Jackson</a>,<a href=\"https://github.com/google/gson\" rel=\"nofollow noreferrer\">Gson</a> <a href=\"https://github.com/fangyidong/json-simple\" rel=\"nofollow noreferrer\">Json simple</a>.\nSecond way(i would recommend) you can create you own Java request and response beans according to json request and response from API and use them in  http requests ,you cand find full example from <a href=\"https://gitlab.com/samiragayarov/distanceMatrixDemoInJava\" rel=\"nofollow noreferrer\">here</a></p>\n\n<pre><code>package com.apartmentnotification.client;\n\nimport com.apartmentnotification.model.DirectionResponse;\nimport java.io.IOException;\nimport javax.ws.rs.client.Client;\nimport javax.ws.rs.client.WebTarget;\n\npublic class ApartmentClient {\n\nprivate static final String BASE_URI = \"https://maps.googleapis.com/maps/api\";\nprivate static final String API_KEY = \"AIzaSyCXnwOwrv_Kt7bkbO5vXtpPelu08yp-3iY\";\n\n/**\n * end point for read distanceMatrix\n */\nprivate WebTarget distanceMatrix;\n\npublic ApartmentClient() {\n    Client client = LazySingleton.getClient();\n    distanceMatrix = client.target(BASE_URI + \"/distancematrix\");\n\n}\n\npublic DirectionResponse getDirectionInfo(String origins, String destionations) throws IOException {\n    return distanceMatrix.path(\"/json\")\n            .queryParam(\"units\", \"imperial\")\n            .queryParam(\"origins\", origins)\n            .queryParam(\"destinations\", destionations)\n            .queryParam(\"key\", API_KEY)\n            .request()\n            .get()\n            .readEntity(DirectionResponse.class);\n}\n\npublic static void main(String[] args) throws IOException {\n    ApartmentClient wc = new ApartmentClient();\n    DirectionResponse direction = wc.getDirectionInfo(\"Vaidavas 6/3\", \"Domina Shopping\");\n    System.out.println(\"Duration in hours :\"+direction.getRows().get(0).getElements().get(0).getDuration().getText());\n    System.out.println(\"Distance  in metr : \"+direction.getRows().get(0).getElements().get(0).getDistance().getValue());\n}\n</code></pre>\n\n<p>}</p>\n\n<p>Hope it helps.</p>\n"},{"tags":[],"owner":{"account_id":10661768,"reputation":9328,"user_id":7849549,"accept_rate":44,"display_name":"Shubham Dixit"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1547127726,"creation_date":1547127726,"answer_id":54130008,"question_id":48475803,"body_markdown":"Well this is a complete answer of how to calculate distance and time with google distance matrix api between two places.\r\nIf you are not using maven then you have to set these jars in your classpath\r\n\r\npom.xml\r\n\r\n    &lt;!-- https://mvnrepository.com/artifact/com.squareup.okhttp3/okhttp --&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.squareup.okhttp3&lt;/groupId&gt;\r\n        &lt;artifactId&gt;okhttp&lt;/artifactId&gt;\r\n        &lt;version&gt;3.9.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n      &lt;!-- https://mvnrepository.com/artifact/com.squareup.okio/okio --&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.squareup.okio&lt;/groupId&gt;\r\n        &lt;artifactId&gt;okio&lt;/artifactId&gt;\r\n        &lt;version&gt;1.12.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n      &lt;!-- https://mvnrepository.com/artifact/com.googlecode.json-simple/json-simple --&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.googlecode.json-simple&lt;/groupId&gt;\r\n        &lt;artifactId&gt;json-simple&lt;/artifactId&gt;\r\n        &lt;version&gt;1.1.1&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n      \r\n      &lt;!-- https://mvnrepository.com/artifact/com.google.api-client/google-api-client --&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.google.api-client&lt;/groupId&gt;\r\n        &lt;artifactId&gt;google-api-client&lt;/artifactId&gt;\r\n        &lt;version&gt;1.23.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n  This is a class to send http request and get the data in json format\r\n\r\n  \r\n\r\n     package google.distance.api;\r\n    \r\n    import java.io.IOException;\r\n    \r\n    import org.springframework.stereotype.Component;\r\n    \r\n    import okhttp3.OkHttpClient;\r\n    import okhttp3.Request;\r\n    import okhttp3.Response;\r\n    \r\n    @Component\r\n    public class DistanceTime {\r\n    \r\n    \t\r\n    \t\r\n    \tprivate static final String API_KEY=&quot;YOUR KEY&quot;;\r\n    \tOkHttpClient client = new OkHttpClient();\r\n    \t\r\n    \t\r\n    public String calculate(String source ,String destination) throws IOException {\r\n    String url=&quot;https://maps.googleapis.com/maps/api/distancematrix/json?origins=&quot;+source+&quot;&amp;destinations=&quot;+destination+&quot;&amp;key=&quot;+ API_KEY;\r\n    \t\t    Request request = new Request.Builder()\r\n    \t\t        .url(url)\r\n    \t\t        .build();\r\n    \r\n    \t\t    Response response = client.newCall(request).execute();\r\n    \t\t    return response.body().string();\r\n    \t\t  }\r\n    \r\n    \t\r\n    }\r\n\r\n  As I am using Spring ,so here is my Controller method to get the data \r\n   \r\n   \r\n\r\n    private DistanceTime distance;\r\n    \r\n         @Autowired\r\n    \tpublic void setDistance(DistanceTime distance) {\r\n    \tthis.distance = distance;\r\n    }\r\n    \r\n    \r\n        public ModelAndView Api(@RequestParam(&quot;picking_up&quot;) String source,@RequestParam(&quot;dropping_off&quot;) String destination,@RequestParam(&quot;pick_up_date&quot;) String time) {\r\n        \t\ttry {\r\n        \t\t      //method of DistanceTime Class\r\n        \t\t\tString response=distance.calculate(source,destination);\r\n        \t\t\t\r\n        \t\tSystem.out.println(response);\r\n        \t\t}\r\n        \t\t\r\n        \t\tcatch(Exception e) {\r\n        \t\t\tSystem.out.println(&quot;Exception Occurred&quot;);\r\n        \t\t}\r\n        \t\t\r\n        \t\treturn new ModelAndView(&quot;home&quot;);\r\n        \t\t\r\n        \t}  \r\n\r\n  Now the Tough Part was iterating over JSON data to get the distance and time\r\n  In the  above method I was getting json data in variable  response ,so here is the code to extract distance and time from it\r\nThe response was something Like \r\n     \r\n    {\r\n       &quot;destination_addresses&quot; : [\r\n          &quot;Private&quot;\r\n       ],\r\n       &quot;origin_addresses&quot; : [ &quot;Private&quot; ],\r\n       &quot;rows&quot; : [\r\n          {\r\n             &quot;elements&quot; : [\r\n                {\r\n                   &quot;distance&quot; : {\r\n                      &quot;text&quot; : &quot;1,052 km&quot;,\r\n                      &quot;value&quot; : 1051911\r\n                   },\r\n                   &quot;duration&quot; : {\r\n                      &quot;text&quot; : &quot;17 hours 10 mins&quot;,\r\n                      &quot;value&quot; : 61785\r\n                   },\r\n                   &quot;status&quot; : &quot;OK&quot;\r\n                }\r\n             ]\r\n          }\r\n       ],\r\n       &quot;status&quot; : &quot;OK&quot;\r\n    }\r\n\r\n  \r\n\r\n     JSONParser parser = new JSONParser();\r\n    \t\ttry {\r\n    \t\t\r\n    \t\t Object obj = parser.parse(response);\r\n    \t\t JSONObject jsonobj=(JSONObject)obj;\r\n             \r\n             JSONArray dist=(JSONArray)jsonobj.get(&quot;rows&quot;);\r\n             JSONObject obj2 = (JSONObject)dist.get(0);\r\n             JSONArray disting=(JSONArray)obj2.get(&quot;elements&quot;);\r\n             JSONObject obj3 = (JSONObject)disting.get(0);\r\n             JSONObject obj4=(JSONObject)obj3.get(&quot;distance&quot;);\r\n             JSONObject obj5=(JSONObject)obj3.get(&quot;duration&quot;);\r\n             System.out.println(obj4.get(&quot;text&quot;));\r\n             System.out.println(obj5.get(&quot;text&quot;));\r\n             \r\n    \t}\r\n    catch(Exception e) {\r\n    \te.printStackTrace();\r\n    }\r\n\t\t\r\n\r\n","title":"How to get distance from google distance matrix Api in Java","body":"<p>Well this is a complete answer of how to calculate distance and time with google distance matrix api between two places.\nIf you are not using maven then you have to set these jars in your classpath</p>\n\n<p>pom.xml</p>\n\n<pre><code>&lt;!-- https://mvnrepository.com/artifact/com.squareup.okhttp3/okhttp --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;com.squareup.okhttp3&lt;/groupId&gt;\n    &lt;artifactId&gt;okhttp&lt;/artifactId&gt;\n    &lt;version&gt;3.9.0&lt;/version&gt;\n&lt;/dependency&gt;\n  &lt;!-- https://mvnrepository.com/artifact/com.squareup.okio/okio --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;com.squareup.okio&lt;/groupId&gt;\n    &lt;artifactId&gt;okio&lt;/artifactId&gt;\n    &lt;version&gt;1.12.0&lt;/version&gt;\n&lt;/dependency&gt;\n  &lt;!-- https://mvnrepository.com/artifact/com.googlecode.json-simple/json-simple --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;com.googlecode.json-simple&lt;/groupId&gt;\n    &lt;artifactId&gt;json-simple&lt;/artifactId&gt;\n    &lt;version&gt;1.1.1&lt;/version&gt;\n&lt;/dependency&gt;\n\n  &lt;!-- https://mvnrepository.com/artifact/com.google.api-client/google-api-client --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;com.google.api-client&lt;/groupId&gt;\n    &lt;artifactId&gt;google-api-client&lt;/artifactId&gt;\n    &lt;version&gt;1.23.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>This is a class to send http request and get the data in json format</p>\n\n<pre><code> package google.distance.api;\n\nimport java.io.IOException;\n\nimport org.springframework.stereotype.Component;\n\nimport okhttp3.OkHttpClient;\nimport okhttp3.Request;\nimport okhttp3.Response;\n\n@Component\npublic class DistanceTime {\n\n\n\n    private static final String API_KEY=\"YOUR KEY\";\n    OkHttpClient client = new OkHttpClient();\n\n\npublic String calculate(String source ,String destination) throws IOException {\nString url=\"https://maps.googleapis.com/maps/api/distancematrix/json?origins=\"+source+\"&amp;destinations=\"+destination+\"&amp;key=\"+ API_KEY;\n            Request request = new Request.Builder()\n                .url(url)\n                .build();\n\n            Response response = client.newCall(request).execute();\n            return response.body().string();\n          }\n\n\n}\n</code></pre>\n\n<p>As I am using Spring ,so here is my Controller method to get the data </p>\n\n<pre><code>private DistanceTime distance;\n\n     @Autowired\n    public void setDistance(DistanceTime distance) {\n    this.distance = distance;\n}\n\n\n    public ModelAndView Api(@RequestParam(\"picking_up\") String source,@RequestParam(\"dropping_off\") String destination,@RequestParam(\"pick_up_date\") String time) {\n            try {\n                  //method of DistanceTime Class\n                String response=distance.calculate(source,destination);\n\n            System.out.println(response);\n            }\n\n            catch(Exception e) {\n                System.out.println(\"Exception Occurred\");\n            }\n\n            return new ModelAndView(\"home\");\n\n        }  \n</code></pre>\n\n<p>Now the Tough Part was iterating over JSON data to get the distance and time\n  In the  above method I was getting json data in variable  response ,so here is the code to extract distance and time from it\nThe response was something Like </p>\n\n<pre><code>{\n   \"destination_addresses\" : [\n      \"Private\"\n   ],\n   \"origin_addresses\" : [ \"Private\" ],\n   \"rows\" : [\n      {\n         \"elements\" : [\n            {\n               \"distance\" : {\n                  \"text\" : \"1,052 km\",\n                  \"value\" : 1051911\n               },\n               \"duration\" : {\n                  \"text\" : \"17 hours 10 mins\",\n                  \"value\" : 61785\n               },\n               \"status\" : \"OK\"\n            }\n         ]\n      }\n   ],\n   \"status\" : \"OK\"\n}\n\n\n\n JSONParser parser = new JSONParser();\n        try {\n\n         Object obj = parser.parse(response);\n         JSONObject jsonobj=(JSONObject)obj;\n\n         JSONArray dist=(JSONArray)jsonobj.get(\"rows\");\n         JSONObject obj2 = (JSONObject)dist.get(0);\n         JSONArray disting=(JSONArray)obj2.get(\"elements\");\n         JSONObject obj3 = (JSONObject)disting.get(0);\n         JSONObject obj4=(JSONObject)obj3.get(\"distance\");\n         JSONObject obj5=(JSONObject)obj3.get(\"duration\");\n         System.out.println(obj4.get(\"text\"));\n         System.out.println(obj5.get(\"text\"));\n\n    }\ncatch(Exception e) {\n    e.printStackTrace();\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":6429179,"reputation":1985,"user_id":4983082,"accept_rate":59,"display_name":"GAVD"},"score":0,"creation_date":1667803812,"post_id":74275446,"comment_id":131245752,"body_markdown":"While this link may answer the question, it is better to include the essential parts of the answer here and provide the link for reference.  Link-only answers can become invalid if the linked page changes. - [From Review](/review/late-answers/33078974)","body":"While this link may answer the question, it is better to include the essential parts of the answer here and provide the link for reference.  Link-only answers can become invalid if the linked page changes. - <a href=\"/review/late-answers/33078974\">From Review</a>"}],"tags":[],"owner":{"account_id":26320282,"reputation":11,"user_id":19982382,"display_name":"Pranali Kurumkar"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667303287,"creation_date":1667303287,"answer_id":74275446,"question_id":48475803,"body_markdown":"\r\nYou can also try using Java client library : \r\n\r\nhttps://github.com/googlemaps/google-maps-services-java","title":"How to get distance from google distance matrix Api in Java","body":"<p>You can also try using Java client library :</p>\n<p><a href=\"https://github.com/googlemaps/google-maps-services-java\" rel=\"nofollow noreferrer\">https://github.com/googlemaps/google-maps-services-java</a></p>\n"}],"owner":{"account_id":10661768,"reputation":9328,"user_id":7849549,"accept_rate":44,"display_name":"Shubham Dixit"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2567,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":54130008,"answer_count":3,"score":0,"last_activity_date":1667303287,"creation_date":1517056087,"question_id":48475803,"body_markdown":"I am trying to find the distance and time between two places using google distance matrix api\r\nEverything was fine until I got this Data\r\n\r\n    {\r\n       &quot;destination_addresses&quot; : [\r\n          &quot;Some Address&quot;\r\n       ],\r\n       &quot;origin_addresses&quot; : [ &quot;Some other address&quot; ],\r\n       &quot;rows&quot; : [\r\n          {\r\n             &quot;elements&quot; : [\r\n                {\r\n                   &quot;distance&quot; : {\r\n                      &quot;text&quot; : &quot;13.1 km&quot;,\r\n                      &quot;value&quot; : 13133\r\n                   },\r\n                   &quot;duration&quot; : {\r\n                      &quot;text&quot; : &quot;33 mins&quot;,\r\n                      &quot;value&quot; : 1961\r\n                   },\r\n                   &quot;status&quot; : &quot;OK&quot;\r\n                }\r\n             ]\r\n          }\r\n       ],\r\n       &quot;status&quot; : &quot;OK&quot;\r\n    }\r\n\r\nI tried to extract distance using Json libraries and tried many answers too,but dint get the expected result ,Any help??","title":"How to get distance from google distance matrix Api in Java","body":"<p>I am trying to find the distance and time between two places using google distance matrix api\nEverything was fine until I got this Data</p>\n\n<pre><code>{\n   \"destination_addresses\" : [\n      \"Some Address\"\n   ],\n   \"origin_addresses\" : [ \"Some other address\" ],\n   \"rows\" : [\n      {\n         \"elements\" : [\n            {\n               \"distance\" : {\n                  \"text\" : \"13.1 km\",\n                  \"value\" : 13133\n               },\n               \"duration\" : {\n                  \"text\" : \"33 mins\",\n                  \"value\" : 1961\n               },\n               \"status\" : \"OK\"\n            }\n         ]\n      }\n   ],\n   \"status\" : \"OK\"\n}\n</code></pre>\n\n<p>I tried to extract distance using Json libraries and tried many answers too,but dint get the expected result ,Any help??</p>\n"},{"tags":["java","format","apache-poi"],"comments":[{"owner":{"account_id":964210,"reputation":1018,"user_id":987959,"display_name":"PJ Fanning"},"score":0,"creation_date":1667464407,"post_id":74273409,"comment_id":131174051,"body_markdown":"POI 5.2.0 and above has org.apache.poi.ss.util.CellUtil#copyCell(...) which makes a reasonable attempt to copy the style to the destination cell.","body":"POI 5.2.0 and above has org.apache.poi.ss.util.CellUtil#copyCell(...) which makes a reasonable attempt to copy the style to the destination cell."}],"answers":[{"comments":[{"owner":{"account_id":10290358,"reputation":137,"user_id":7592295,"accept_rate":0,"display_name":"poojay"},"score":0,"creation_date":1667338708,"post_id":74275423,"comment_id":131143379,"body_markdown":"Means I should create a cellstyle for each cells in my destination workbook, and then set the value afterwards?","body":"Means I should create a cellstyle for each cells in my destination workbook, and then set the value afterwards?"},{"owner":{"account_id":24196943,"reputation":21,"user_id":18155326,"display_name":"TheSack"},"score":0,"creation_date":1667391981,"post_id":74275423,"comment_id":131155184,"body_markdown":"You want the cells to look the same right? Then you can use the same CellStyle for all the cells.","body":"You want the cells to look the same right? Then you can use the same CellStyle for all the cells."}],"tags":[],"owner":{"account_id":24196943,"reputation":21,"user_id":18155326,"display_name":"TheSack"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1667303179,"creation_date":1667303179,"answer_id":74275423,"question_id":74273409,"body_markdown":"I would recommend you to first create a CellStyle with your destination-workbook and add to that one the required parameters from your source-cells. Then apply that CellStyle to your destination-cells.\r\n\r\nIn my experience the CellStyle object can be a little bit tricky, and the safest way is to create a CellStyle at first.\r\n\r\n","title":"Keeping Source Format when copy data using apache poi","body":"<p>I would recommend you to first create a CellStyle with your destination-workbook and add to that one the required parameters from your source-cells. Then apply that CellStyle to your destination-cells.</p>\n<p>In my experience the CellStyle object can be a little bit tricky, and the safest way is to create a CellStyle at first.</p>\n"}],"owner":{"account_id":10290358,"reputation":137,"user_id":7592295,"accept_rate":0,"display_name":"poojay"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":274,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1667303179,"creation_date":1667292201,"question_id":74273409,"body_markdown":"Using Apache POI,\r\n\r\nI successfully copied all my data, but ive lost all my formatting, eg font, foreground color etc.\r\n\r\nheres what ive tried\r\n\r\n    destCell.getCellStyle().setAlignment(srcCell.getCellStyle().getAlignment());\r\n    destCell.getCellStyle().setFont(srcCell.getCellStyle().getFont());\r\n    destCell.getCellStyle().setFillForegroundColor(srcCell.getCellStyle().getFillForegroundColorColor());\r\n\r\n\r\ntried this for font still not working\r\n\r\n    XSSFFont font = new XSSFFont();\r\n    \t\t\t\t\tfont.setFontName(srcSheet.getRow(currentRowIndex).getCell(currCellIndex).getCellStyle().getFont().getFontName());\r\n    \t\t\t\t\tfont.setFontHeightInPoints(srcSheet.getRow(currentRowIndex).getCell(currCellIndex).getCellStyle().getFont().getFontHeightInPoints());\r\n    \t\t\t\t\tfont.setColor(srcSheet.getRow(currentRowIndex).getCell(currCellIndex).getCellStyle().getFont().getColor());\r\n    \t\t\t\t\tfont.setFamily(srcSheet.getRow(currentRowIndex).getCell(currCellIndex).getCellStyle().getFont().getFamily());\r\n    \t\t\t\t\tdestSheet.getRow(currentRowIndex).getCell(currCellIndex).getCellStyle().setFont(font);\r\n\r\nand this gives me an error\r\n\r\n   \r\n\r\n    destSheet.getRow(currentRowIndex).getCell(currCellIndex).setCellStyle(srcSheet.getRow(currentRowIndex).getCell(currentRowIndex).getCellStyle());\r\n        \r\n    This Style does not belong to the supplied Workbook Styles Source. Are you trying to assign a style from one workbook to the cell of a different workbook?\r\n\r\nThis is the source format\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nThis is how it looked after i copied over using apache poi\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/31rBQ.png\r\n  [2]: https://i.stack.imgur.com/6oDDY.png","title":"Keeping Source Format when copy data using apache poi","body":"<p>Using Apache POI,</p>\n<p>I successfully copied all my data, but ive lost all my formatting, eg font, foreground color etc.</p>\n<p>heres what ive tried</p>\n<pre><code>destCell.getCellStyle().setAlignment(srcCell.getCellStyle().getAlignment());\ndestCell.getCellStyle().setFont(srcCell.getCellStyle().getFont());\ndestCell.getCellStyle().setFillForegroundColor(srcCell.getCellStyle().getFillForegroundColorColor());\n</code></pre>\n<p>tried this for font still not working</p>\n<pre><code>XSSFFont font = new XSSFFont();\n                    font.setFontName(srcSheet.getRow(currentRowIndex).getCell(currCellIndex).getCellStyle().getFont().getFontName());\n                    font.setFontHeightInPoints(srcSheet.getRow(currentRowIndex).getCell(currCellIndex).getCellStyle().getFont().getFontHeightInPoints());\n                    font.setColor(srcSheet.getRow(currentRowIndex).getCell(currCellIndex).getCellStyle().getFont().getColor());\n                    font.setFamily(srcSheet.getRow(currentRowIndex).getCell(currCellIndex).getCellStyle().getFont().getFamily());\n                    destSheet.getRow(currentRowIndex).getCell(currCellIndex).getCellStyle().setFont(font);\n</code></pre>\n<p>and this gives me an error</p>\n<pre><code>destSheet.getRow(currentRowIndex).getCell(currCellIndex).setCellStyle(srcSheet.getRow(currentRowIndex).getCell(currentRowIndex).getCellStyle());\n    \nThis Style does not belong to the supplied Workbook Styles Source. Are you trying to assign a style from one workbook to the cell of a different workbook?\n</code></pre>\n<p>This is the source format</p>\n<p><a href=\"https://i.stack.imgur.com/31rBQ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/31rBQ.png\" alt=\"enter image description here\" /></a></p>\n<p>This is how it looked after i copied over using apache poi</p>\n<p><a href=\"https://i.stack.imgur.com/6oDDY.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/6oDDY.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","spring-boot","docker","mqtt"],"comments":[{"owner":{"account_id":13863020,"reputation":137043,"user_id":10008173,"display_name":"David Maze"},"score":3,"creation_date":1667302656,"post_id":74274380,"comment_id":131131523,"body_markdown":"[Communication between multiple docker-compose projects](https://stackoverflow.com/questions/38088279/communication-between-multiple-docker-compose-projects) discusses setups like these; either you need to run both parts in the same Compose file, or you need to explicitly configure the two projects to use the same Docker network.  Do the answers there help you?","body":"<a href=\"https://stackoverflow.com/questions/38088279/communication-between-multiple-docker-compose-projects\">Communication between multiple docker-compose projects</a> discusses setups like these; either you need to run both parts in the same Compose file, or you need to explicitly configure the two projects to use the same Docker network.  Do the answers there help you?"}],"answers":[{"comments":[{"owner":{"account_id":6089760,"reputation":330,"user_id":4752486,"accept_rate":100,"display_name":"Wooopsa"},"score":0,"creation_date":1667301083,"post_id":74274440,"comment_id":131131050,"body_markdown":"This didn&#39;t work for my case. Wierd, but after inspecting the network, both of them were connected to bridge instead of mynetwork. After seeing this, I changed the run command and added --network=mynetwork to both of the docker containers, but still, getting the same error.","body":"This didn&#39;t work for my case. Wierd, but after inspecting the network, both of them were connected to bridge instead of mynetwork. After seeing this, I changed the run command and added --network=mynetwork to both of the docker containers, but still, getting the same error."},{"owner":{"account_id":15663576,"reputation":2342,"user_id":11301941,"display_name":"George"},"score":0,"creation_date":1667303180,"post_id":74274440,"comment_id":131131673,"body_markdown":"I have updated my question, maybe you can try it out again.","body":"I have updated my question, maybe you can try it out again."}],"tags":[],"owner":{"account_id":15663576,"reputation":2342,"user_id":11301941,"display_name":"George"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1667303165,"creation_date":1667298047,"answer_id":74274440,"question_id":74274380,"body_markdown":"Yes, You do have to share the network as external.\r\n\r\nyou cab check the networks you have with this command : `docker network ls` \r\n\r\nYou would notice that they each have their own networks.\r\n\r\nadding this to spring boot docker-compose file should fix the issue :\r\n\r\n```\r\nnetworks:\r\n  default:\r\n    name: mynetwork\r\n    external: true\r\n```\r\n\r\nFor more information about [docker compose networks](https://docs.docker.com/compose/networking/)\r\n\r\n\r\n","title":"Connecting spring boot docker container to MQTT docker container","body":"<p>Yes, You do have to share the network as external.</p>\n<p>you cab check the networks you have with this command : <code>docker network ls</code></p>\n<p>You would notice that they each have their own networks.</p>\n<p>adding this to spring boot docker-compose file should fix the issue :</p>\n<pre><code>networks:\n  default:\n    name: mynetwork\n    external: true\n</code></pre>\n<p>For more information about <a href=\"https://docs.docker.com/compose/networking/\" rel=\"nofollow noreferrer\">docker compose networks</a></p>\n"}],"owner":{"account_id":6089760,"reputation":330,"user_id":4752486,"accept_rate":100,"display_name":"Wooopsa"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":135,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1667303165,"creation_date":1667297659,"question_id":74274380,"body_markdown":"I&#39;m trying to connect my containerized spring boot application with another containerized MQTT broker. Both of them are on their own projects as follows:\r\n\r\n```mqtt docker-compose.yml:```\r\n```\r\nversion: &#39;3.9&#39;\r\n\r\nservices:\r\n  mqttbroker:\r\n    container_name: mqttbroker\r\n    restart: always\r\n    volumes:\r\n      - ./config:/mosquitto/config\r\n      - ./data:/mosquitto/data\r\n      - ./log:/mosquitto/log\r\n    ports:\r\n      - 8883:8883\r\n    networks:\r\n      - mynetwork\r\nvolumes:\r\n  config:\r\n  data:\r\n  log:\r\n```\r\n\r\n```mqtt Dockerfile```\r\n```\r\nFROM eclipse-mosquitto\r\nWORKDIR /mosquitto\r\nCOPY . .\r\nEXPOSE 8883\r\n```\r\n\r\nAnd then the spring boot project is like:\r\n\r\n```spring boot docker-compose.yml```\r\n```\r\nversion: &#39;3.8&#39;\r\nservices:\r\n  myapp:\r\n    build: .\r\n    container_name: myapp\r\n    ports:\r\n      - &#39;8082:8082&#39;\r\n    stdin_open: true\r\n    tty: true\r\n    networks:\r\n      - mynetwork\r\n```\r\n\r\nIn my ```application.properties``` I try to connect to the MQTT broker like:\r\n```mosquitto.url=tcp://mqttbroker:8883``` and I get connection refused. However, if I run the spring boot application locally, I can connect to the docker container with ```mosquitto.url=tcp://localhost:8883```.\r\nI would rather have all the configurations in my docker-compose files to decrease manual codes.\r\nI really appreciate your help in advance!","title":"Connecting spring boot docker container to MQTT docker container","body":"<p>I'm trying to connect my containerized spring boot application with another containerized MQTT broker. Both of them are on their own projects as follows:</p>\n<p><code>mqtt docker-compose.yml:</code></p>\n<pre><code>version: '3.9'\n\nservices:\n  mqttbroker:\n    container_name: mqttbroker\n    restart: always\n    volumes:\n      - ./config:/mosquitto/config\n      - ./data:/mosquitto/data\n      - ./log:/mosquitto/log\n    ports:\n      - 8883:8883\n    networks:\n      - mynetwork\nvolumes:\n  config:\n  data:\n  log:\n</code></pre>\n<p><code>mqtt Dockerfile</code></p>\n<pre><code>FROM eclipse-mosquitto\nWORKDIR /mosquitto\nCOPY . .\nEXPOSE 8883\n</code></pre>\n<p>And then the spring boot project is like:</p>\n<p><code>spring boot docker-compose.yml</code></p>\n<pre><code>version: '3.8'\nservices:\n  myapp:\n    build: .\n    container_name: myapp\n    ports:\n      - '8082:8082'\n    stdin_open: true\n    tty: true\n    networks:\n      - mynetwork\n</code></pre>\n<p>In my <code>application.properties</code> I try to connect to the MQTT broker like:\n<code>mosquitto.url=tcp://mqttbroker:8883</code> and I get connection refused. However, if I run the spring boot application locally, I can connect to the docker container with <code>mosquitto.url=tcp://localhost:8883</code>.\nI would rather have all the configurations in my docker-compose files to decrease manual codes.\nI really appreciate your help in advance!</p>\n"},{"tags":["java","spring-boot","teradata","liquibase","preconditions"],"comments":[{"owner":{"account_id":6542,"reputation":8830,"user_id":11051,"accept_rate":67,"display_name":"SteveDonie"},"score":0,"creation_date":1525192989,"post_id":50119018,"comment_id":87258225,"body_markdown":"Why do you want to do a precondition check? In general, you shouldn&#39;t need to do that, because Liquibase will keep track of whether the alter table has been run or not.","body":"Why do you want to do a precondition check? In general, you shouldn&#39;t need to do that, because Liquibase will keep track of whether the alter table has been run or not."}],"answers":[{"comments":[{"owner":{"account_id":10168350,"reputation":1388,"user_id":7666239,"display_name":"Sergey Nemchinov"},"score":0,"creation_date":1688364226,"post_id":50268341,"comment_id":135059011,"body_markdown":"It&#39;a good idea to check a schema name `TABLE_SCHEMA = &#39;your_table_schema&#39;`","body":"It&#39;a good idea to check a schema name <code>TABLE_SCHEMA = &#39;your_table_schema&#39;</code>"}],"tags":[],"owner":{"account_id":7966981,"reputation":6819,"user_id":6012939,"accept_rate":100,"display_name":"htshame"},"comment_count":1,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1525954186,"creation_date":1525939652,"answer_id":50268341,"question_id":50119018,"body_markdown":"There&#39;s no built-in `precondition` for column&#39;s `dataType` in `liquibase`.\r\nYou may just check whether the column exists or not. If it&#39;s already of the datatype you need, no error will be thrown.\r\n\r\n**OR**\r\n\r\nYou can use `sqlCheck` in your preconditions and it&#39;ll be something like this:\r\n\r\n    &lt;preConditions onFail=&quot;MARK_RAN&quot;&gt;\r\n        &lt;not&gt;\r\n            &lt;sqlCheck expectedResult=&quot;DECIMAL&quot;&gt;\r\n                SELECT DATA_TYPE\r\n                FROM INFORMATION_SCHEMA.COLUMNS\r\n                WHERE TABLE_NAME = &#39;your_table_name&#39;\r\n                AND COLUMN_NAME = &#39;your_column_name&#39;\r\n            &lt;/sqlCheck&gt;\r\n        &lt;/not&gt;\r\n    &lt;/preConditions&gt;","title":"Liquibase preconditions: How do I check for a column being the correct data type?","body":"<p>There's no built-in <code>precondition</code> for column's <code>dataType</code> in <code>liquibase</code>.\nYou may just check whether the column exists or not. If it's already of the datatype you need, no error will be thrown.</p>\n\n<p><strong>OR</strong></p>\n\n<p>You can use <code>sqlCheck</code> in your preconditions and it'll be something like this:</p>\n\n<pre><code>&lt;preConditions onFail=\"MARK_RAN\"&gt;\n    &lt;not&gt;\n        &lt;sqlCheck expectedResult=\"DECIMAL\"&gt;\n            SELECT DATA_TYPE\n            FROM INFORMATION_SCHEMA.COLUMNS\n            WHERE TABLE_NAME = 'your_table_name'\n            AND COLUMN_NAME = 'your_column_name'\n        &lt;/sqlCheck&gt;\n    &lt;/not&gt;\n&lt;/preConditions&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8549136,"reputation":768,"user_id":6406676,"display_name":"David Cram"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1525961964,"creation_date":1525961964,"answer_id":50275101,"question_id":50119018,"body_markdown":"Another answer already mentions how to do a sqlcheck.  However, the actual SQL for Teradata would be something different.\r\n\r\nIn Teradata you would use a query similar to the following and expect the columnType=&#39;D&#39; for decimal values\r\n\r\n    Select ColumnType \r\n    From DBC.ColumnsV \r\n    Where databasename=&#39;yourdatabasename&#39; \r\n    and tablename=&#39;yourtablename&#39; \r\n    and columnname=&#39;yourcolumnname&#39;;\r\n\r\nYou could also do something like this if you want a more human readable column type instead of a type code:\r\n\r\n    Select Type(tablename.columnname);","title":"Liquibase preconditions: How do I check for a column being the correct data type?","body":"<p>Another answer already mentions how to do a sqlcheck.  However, the actual SQL for Teradata would be something different.</p>\n\n<p>In Teradata you would use a query similar to the following and expect the columnType='D' for decimal values</p>\n\n<pre><code>Select ColumnType \nFrom DBC.ColumnsV \nWhere databasename='yourdatabasename' \nand tablename='yourtablename' \nand columnname='yourcolumnname';\n</code></pre>\n\n<p>You could also do something like this if you want a more human readable column type instead of a type code:</p>\n\n<pre><code>Select Type(tablename.columnname);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":162901,"reputation":10387,"user_id":384674,"accept_rate":69,"display_name":"Betlista"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667302913,"creation_date":1667302913,"answer_id":74275364,"question_id":50119018,"body_markdown":"I know the question was for Teradata, but principle is the same.\r\n\r\nI prefer SQL files, so in changelog I have (for **Oracle**), is:\r\n\r\n```xml\r\n&lt;include file=&quot;roles.sql&quot; relativeToChangelogFile=&quot;true&quot; /&gt;\r\n```\r\n\r\nand then in `roles.sql`\r\n\r\nthere is \r\n\r\n```sql\r\n--changeset betlista:2022-01-04_2200-87-insert\r\n--preconditions onFail:MARK_RAN\r\n--precondition-sql-check expectedResult:0 select count(*) from ddh_audit.DDH_USER_ROLE where id = 87;\r\ninsert into ddh_audit.DDH_USER_ROLE(id, role_name, description)\r\nvalues(87, &#39;CONTAINERS_READONLY&#39;, &#39;Can read Containers reference data&#39;);\r\n```\r\n\r\nthe query added by David Cram would make the trick.\r\n\r\nI do not know and I didn&#39;t try if condition could be on multiple lines, I know `--rollback` can.","title":"Liquibase preconditions: How do I check for a column being the correct data type?","body":"<p>I know the question was for Teradata, but principle is the same.</p>\n<p>I prefer SQL files, so in changelog I have (for <strong>Oracle</strong>), is:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;include file=&quot;roles.sql&quot; relativeToChangelogFile=&quot;true&quot; /&gt;\n</code></pre>\n<p>and then in <code>roles.sql</code></p>\n<p>there is</p>\n<pre class=\"lang-sql prettyprint-override\"><code>--changeset betlista:2022-01-04_2200-87-insert\n--preconditions onFail:MARK_RAN\n--precondition-sql-check expectedResult:0 select count(*) from ddh_audit.DDH_USER_ROLE where id = 87;\ninsert into ddh_audit.DDH_USER_ROLE(id, role_name, description)\nvalues(87, 'CONTAINERS_READONLY', 'Can read Containers reference data');\n</code></pre>\n<p>the query added by David Cram would make the trick.</p>\n<p>I do not know and I didn't try if condition could be on multiple lines, I know <code>--rollback</code> can.</p>\n"}],"owner":{"account_id":13480781,"reputation":71,"user_id":9726154,"display_name":"Ben"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8195,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"answer_count":3,"score":7,"last_activity_date":1667302913,"creation_date":1525187650,"question_id":50119018,"body_markdown":"I have a db upgrade script to change some datatypes on a few columns. I want to do a `preCondition` check, and call `ALTER TABLE` only when it is a DECIMAL datatype, but I will want it to be changed to INTEGER.\r\n\r\nCouldn&#39;t find a predefined precondition for this, and could not write an `sqlCheck` either.","title":"Liquibase preconditions: How do I check for a column being the correct data type?","body":"<p>I have a db upgrade script to change some datatypes on a few columns. I want to do a <code>preCondition</code> check, and call <code>ALTER TABLE</code> only when it is a DECIMAL datatype, but I will want it to be changed to INTEGER.</p>\n\n<p>Couldn't find a predefined precondition for this, and could not write an <code>sqlCheck</code> either.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":0,"creation_date":1667291966,"post_id":74273198,"comment_id":131128409,"body_markdown":"Does this answer your question? [Arrays.asList() not working as it should?](https://stackoverflow.com/questions/1467913/arrays-aslist-not-working-as-it-should)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/1467913/arrays-aslist-not-working-as-it-should\">Arrays.asList() not working as it should?</a>"},{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":0,"creation_date":1667292042,"post_id":74273198,"comment_id":131128428,"body_markdown":"Additionally, please fix question title, it has nothing in common with the actual question you are asking.","body":"Additionally, please fix question title, it has nothing in common with the actual question you are asking."},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1667297876,"post_id":74273198,"comment_id":131130005,"body_markdown":"there is no method `asList(int... )` (receiving primitive values), only `asList(T...)` and the generic type  `T` cannot receive primitives, so it is creating a list with a single object, the whole (int) array itself || you can use `Arrays.binarySearch(int[], int)` if the array is sorted; or use `IntStream.of(YEARS).anyMatch(y -&gt; y==1919)`","body":"there is no method <code>asList(int... )</code> (receiving primitive values), only <code>asList(T...)</code> and the generic type  <code>T</code> cannot receive primitives, so it is creating a list with a single object, the whole (int) array itself || you can use <code>Arrays.binarySearch(int[], int)</code> if the array is sorted; or use <code>IntStream.of(YEARS).anyMatch(y -&gt; y==1919)</code>"}],"answers":[{"tags":[],"owner":{"account_id":15628680,"reputation":501,"user_id":11275562,"display_name":"Icarus"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1667291871,"creation_date":1667291871,"answer_id":74273353,"question_id":74273198,"body_markdown":"that&#39;s because you are using ```int```\r\nin your arraylist when you should be using ```Integer```\r\n\r\n```int``` is a primitive type and doesn&#39;t work with Arraylist which requires a non-primitive type\r\n\r\nchange ```int``` to ```Integer``` and that code should work","title":"java Cannot resolve method &#39;contains(int)&#39;","body":"<p>that's because you are using <code>int</code>\nin your arraylist when you should be using <code>Integer</code></p>\n<p><code>int</code> is a primitive type and doesn't work with Arraylist which requires a non-primitive type</p>\n<p>change <code>int</code> to <code>Integer</code> and that code should work</p>\n"},{"tags":[],"owner":{"account_id":1894950,"reputation":18007,"user_id":1712135,"display_name":"deHaar"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1667302834,"creation_date":1667302834,"answer_id":74275350,"question_id":74273198,"body_markdown":"`Arrays.asList(YEARS)` will result in a `List&lt;int[]&gt;`, you will not find a single `int` in there using the `contains(int)` method of a `List`…\r\n\r\nYou probably expected a `List&lt;Integer&gt;`, which you can get by\r\n\r\n```java\r\nList&lt;Integer&gt; years = Arrays.stream(YEARS).boxed().collect(Collectors.toList());\r\n```\r\n\r\nThe resulting `List&lt;Integer&gt;` can be checked for the presence of a single `int` using the `contains` method because it is a list of integers contrary to the list of arrays of integers produced by `Arrays.asList(YEARS)`.\r\n","title":"java Cannot resolve method &#39;contains(int)&#39;","body":"<p><code>Arrays.asList(YEARS)</code> will result in a <code>List&lt;int[]&gt;</code>, you will not find a single <code>int</code> in there using the <code>contains(int)</code> method of a <code>List</code>…</p>\n<p>You probably expected a <code>List&lt;Integer&gt;</code>, which you can get by</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;Integer&gt; years = Arrays.stream(YEARS).boxed().collect(Collectors.toList());\n</code></pre>\n<p>The resulting <code>List&lt;Integer&gt;</code> can be checked for the presence of a single <code>int</code> using the <code>contains</code> method because it is a list of integers contrary to the list of arrays of integers produced by <code>Arrays.asList(YEARS)</code>.</p>\n"}],"owner":{"account_id":8618348,"reputation":23,"user_id":6454302,"display_name":"atılgan"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":282,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":74275350,"answer_count":2,"score":-1,"last_activity_date":1667302834,"creation_date":1667290840,"question_id":74273198,"body_markdown":"This code block prints &quot;not contains&quot; and i don&#39;t know why, can somebody help me ?\r\n\r\n    private static final int[] YEARS = new int[] {\r\n            1881, 1893, 1900, 1910, 1919, 1923, 1930, 1932, 1934, 1938\r\n    };\r\n    \r\n    public static void main(String[] args) {\r\n        int year = 1919;\r\n        System.out.println(YEARS);\r\n\r\n        if (Arrays.asList(YEARS).contains(year))\r\n        {\r\n            System.out.println(&quot;Contains&quot;);\r\n        }\r\n        else {\r\n            System.out.println(&quot;Not contains&quot;);\r\n        }\r\n        // Write your code here below\r\n    }\r\n}\r\n\r\n","title":"java Cannot resolve method &#39;contains(int)&#39;","body":"<p>This code block prints &quot;not contains&quot; and i don't know why, can somebody help me ?</p>\n<pre><code>private static final int[] YEARS = new int[] {\n        1881, 1893, 1900, 1910, 1919, 1923, 1930, 1932, 1934, 1938\n};\n\npublic static void main(String[] args) {\n    int year = 1919;\n    System.out.println(YEARS);\n\n    if (Arrays.asList(YEARS).contains(year))\n    {\n        System.out.println(&quot;Contains&quot;);\n    }\n    else {\n        System.out.println(&quot;Not contains&quot;);\n    }\n    // Write your code here below\n}\n</code></pre>\n<p>}</p>\n"},{"tags":["java","logging","junit","mockito","loggerfactory"],"comments":[{"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1667075985,"post_id":74238573,"comment_id":131086556,"body_markdown":"Your endpoint class is probably loaded before the mock could be set up (new to static mocks, but a static logger is initialized when the class is loaded. That happens on the first reference of the class (e.g. `new Something` or `Something.staticMethod()`). `endpoint` is already assigned before the method is entered).","body":"Your endpoint class is probably loaded before the mock could be set up (new to static mocks, but a static logger is initialized when the class is loaded. That happens on the first reference of the class (e.g. <code>new Something</code> or <code>Something.staticMethod()</code>). <code>endpoint</code> is already assigned before the method is entered)."}],"answers":[{"tags":[],"owner":{"account_id":26671785,"reputation":354,"user_id":20283130,"display_name":"MJG"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667125692,"creation_date":1667125692,"answer_id":74252287,"question_id":74238573,"body_markdown":"Enable the debug logging accordingly for testing configuration. \r\n\r\nYou could consider to run all the tests with all available logging levels for warning-/info-/trace-enabled, etc separately, perhaps as part of extended testing. Then combine all the log-results and coverage for reporting.","title":"UnnecessaryStubbingException when mocking LoggerFactory for isDebugEnabled","body":"<p>Enable the debug logging accordingly for testing configuration.</p>\n<p>You could consider to run all the tests with all available logging levels for warning-/info-/trace-enabled, etc separately, perhaps as part of extended testing. Then combine all the log-results and coverage for reporting.</p>\n"}],"owner":{"account_id":3135892,"reputation":1501,"user_id":2652405,"accept_rate":38,"display_name":"AppleBud"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":78,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1667302829,"creation_date":1666976114,"question_id":74238573,"body_markdown":"I am trying to improve my branch coverage and mocking Logger to check both cases of &quot;isDebugEnabled&quot;.\r\n\r\n\r\nBelow is my test case:\r\n  \r\n\r\n    @Test\r\n        public void testLogger() {\r\n            try (MockedStatic&lt;LoggerFactory&gt; \r\n                    loggerFactoryMockedStatic = mockStatic(LoggerFactory.class)) {\r\n                Logger logger = mock(Logger.class);\r\n                loggerFactoryMockedStatic.when(() -&gt; LoggerFactory.getLogger(any(Class.class))).thenReturn(logger);\r\n                \r\n                when(logger.isDebugEnabled()).thenReturn(Boolean.FALSE);\r\n                Response res = endpoint.check();\r\n            }\r\n            \r\n        }\r\n\r\nbut it is resulting in &quot;UnnecessaryStubbingException&quot; when i am setting the debug enabled.\r\n\r\nAny idea how can I get it done ?\r\n","title":"UnnecessaryStubbingException when mocking LoggerFactory for isDebugEnabled","body":"<p>I am trying to improve my branch coverage and mocking Logger to check both cases of &quot;isDebugEnabled&quot;.</p>\n<p>Below is my test case:</p>\n<pre><code>@Test\n    public void testLogger() {\n        try (MockedStatic&lt;LoggerFactory&gt; \n                loggerFactoryMockedStatic = mockStatic(LoggerFactory.class)) {\n            Logger logger = mock(Logger.class);\n            loggerFactoryMockedStatic.when(() -&gt; LoggerFactory.getLogger(any(Class.class))).thenReturn(logger);\n            \n            when(logger.isDebugEnabled()).thenReturn(Boolean.FALSE);\n            Response res = endpoint.check();\n        }\n        \n    }\n</code></pre>\n<p>but it is resulting in &quot;UnnecessaryStubbingException&quot; when i am setting the debug enabled.</p>\n<p>Any idea how can I get it done ?</p>\n"},{"tags":["java","html","rtf","apache-tika"],"comments":[{"owner":{"account_id":350017,"reputation":47555,"user_id":685641,"display_name":"Gagravarr"},"score":1,"creation_date":1667304638,"post_id":74275269,"comment_id":131132137,"body_markdown":"I&#39;m not seeing any support in https://github.com/apache/tika/blob/main/tika-parsers/tika-parsers-standard/tika-parsers-standard-modules/tika-parser-microsoft-module/src/main/java/org/apache/tika/parser/microsoft/rtf/TextExtractor.java for those RTF tags, so I think you&#39;re going to have to contribute your first patch to Apache Tika to add the missing support....","body":"I&#39;m not seeing any support in <a href=\"https://github.com/apache/tika/blob/main/tika-parsers/tika-parsers-standard/tika-parsers-standard-modules/tika-parser-microsoft-module/src/main/java/org/apache/tika/parser/microsoft/rtf/TextExtractor.java\" rel=\"nofollow noreferrer\">github.com/apache/tika/blob/main/tika-parsers/&hellip;</a> for those RTF tags, so I think you&#39;re going to have to contribute your first patch to Apache Tika to add the missing support...."},{"owner":{"account_id":26794256,"reputation":1,"user_id":20387226,"display_name":"Pavel Cikota"},"score":0,"creation_date":1668072264,"post_id":74275269,"comment_id":131319904,"body_markdown":"Looks like that =(","body":"Looks like that =("}],"owner":{"account_id":26794256,"reputation":1,"user_id":20387226,"display_name":"Pavel Cikota"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":297,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1667302406,"creation_date":1667302406,"question_id":74275269,"body_markdown":"G&#39;day!\r\n\r\nI try use *Apache Tika 2.5.0* for convert *RTF-based* content to *HTML *and stuck with convert tables from rtf-content (it was tags as *\\cellx \\clbrdr \\brdr* and so on). Tika convert this tags as a paragraph **&lt;p&gt;&lt;/p&gt;**.\r\n\r\nI try use many SAX handlers (transformers, ToHTMLContentHandler and so on), but it make no positive effects.\r\nI think, it&#39;s possibly to configure RTFParser by metadata, handler or context, but I fount no example.\r\n\r\n\r\nMy convert method code:\r\n\r\n\r\n```\r\npublic static void converterRTF2HTML2(File rtfFile, File htmlFile, Charset cpOut) throws TransformerConfigurationException, TikaException, IOException, SAXException {\r\n    InputStream rtfStream = new FileInputStream(rtfFile);\r\n\r\n    Tika tika = new Tika();\r\n    String rtfDetect = tika.detect(rtfFile); // detect as &#39;application/rtf&#39;\r\n    Metadata metadata = new Metadata();\r\n    metadata.set(Metadata.CONTENT_TYPE, rtfDetect);\r\n\r\n    OutputStream htmlStream = new FileOutputStream(htmlFile);\r\n\r\n    SAXTransformerFactory factory = (SAXTransformerFactory)\r\n            SAXTransformerFactory.newInstance();\r\n    TransformerHandler handler = factory.newTransformerHandler();\r\n\r\n    handler.getTransformer().setOutputProperty(OutputKeys.METHOD, &quot;xml&quot;);\r\n    handler.getTransformer().setOutputProperty(OutputKeys.INDENT, &quot;no&quot;);\r\n    handler.getTransformer().setOutputProperty(OutputKeys.ENCODING, cpOut.name());\r\n    handler.setResult(new StreamResult(htmlStream));\r\n\r\n    ContentHandler handlerToXML = new ToXMLContentHandler();\r\n\r\n      // handlers that I try\r\n/////////////////\r\n    ExpandedTitleContentHandler handler1 = new ExpandedTitleContentHandler(handler);\r\n    //TaggedContentHandler handler1 = new TaggedContentHandler(handler);\r\n    //TextAndAttributeContentHandler handler2 = new TextAndAttributeContentHandler(handler);\r\n\r\n    ToHTMLContentHandler toHTMLContentHandler = new ToHTMLContentHandler(htmlStream, &quot;UTF-8&quot;);\r\n    //XHTMLContentHandler toXHTMLContentHandler = new XHTMLContentHandler(toHTMLContentHandler, metadata);\r\n\r\n    //RichTextContentHandler handler1 = new RichTextContentHandler(rtfStream);\r\n///////////////////\r\n\r\n    ParseContext context = new ParseContext();\r\n\r\n\r\n    //RTFParser parser = new RTFParser();\r\n    Parser parser = tika.getParser();\r\n    parser.parse(rtfStream, handler1, metadata, context);\r\n\r\n\r\n    htmlStream.flush();\r\n    rtfStream.close();\r\n    htmlStream.close();\r\n\r\n}\r\n```\r\n\r\n\r\ntry different handlers and parsers","title":"Apache Tika and RTF with Tables (cell, border, etc)","body":"<p>G'day!</p>\n<p>I try use <em>Apache Tika 2.5.0</em> for convert <em>RTF-based</em> content to *HTML *and stuck with convert tables from rtf-content (it was tags as <em>\\cellx \\clbrdr \\brdr</em> and so on). Tika convert this tags as a paragraph <strong><p></p></strong>.</p>\n<p>I try use many SAX handlers (transformers, ToHTMLContentHandler and so on), but it make no positive effects.\nI think, it's possibly to configure RTFParser by metadata, handler or context, but I fount no example.</p>\n<p>My convert method code:</p>\n<pre><code>public static void converterRTF2HTML2(File rtfFile, File htmlFile, Charset cpOut) throws TransformerConfigurationException, TikaException, IOException, SAXException {\n    InputStream rtfStream = new FileInputStream(rtfFile);\n\n    Tika tika = new Tika();\n    String rtfDetect = tika.detect(rtfFile); // detect as 'application/rtf'\n    Metadata metadata = new Metadata();\n    metadata.set(Metadata.CONTENT_TYPE, rtfDetect);\n\n    OutputStream htmlStream = new FileOutputStream(htmlFile);\n\n    SAXTransformerFactory factory = (SAXTransformerFactory)\n            SAXTransformerFactory.newInstance();\n    TransformerHandler handler = factory.newTransformerHandler();\n\n    handler.getTransformer().setOutputProperty(OutputKeys.METHOD, &quot;xml&quot;);\n    handler.getTransformer().setOutputProperty(OutputKeys.INDENT, &quot;no&quot;);\n    handler.getTransformer().setOutputProperty(OutputKeys.ENCODING, cpOut.name());\n    handler.setResult(new StreamResult(htmlStream));\n\n    ContentHandler handlerToXML = new ToXMLContentHandler();\n\n      // handlers that I try\n/////////////////\n    ExpandedTitleContentHandler handler1 = new ExpandedTitleContentHandler(handler);\n    //TaggedContentHandler handler1 = new TaggedContentHandler(handler);\n    //TextAndAttributeContentHandler handler2 = new TextAndAttributeContentHandler(handler);\n\n    ToHTMLContentHandler toHTMLContentHandler = new ToHTMLContentHandler(htmlStream, &quot;UTF-8&quot;);\n    //XHTMLContentHandler toXHTMLContentHandler = new XHTMLContentHandler(toHTMLContentHandler, metadata);\n\n    //RichTextContentHandler handler1 = new RichTextContentHandler(rtfStream);\n///////////////////\n\n    ParseContext context = new ParseContext();\n\n\n    //RTFParser parser = new RTFParser();\n    Parser parser = tika.getParser();\n    parser.parse(rtfStream, handler1, metadata, context);\n\n\n    htmlStream.flush();\n    rtfStream.close();\n    htmlStream.close();\n\n}\n</code></pre>\n<p>try different handlers and parsers</p>\n"},{"tags":["java","spring-boot","sonarqube","drone.io"],"owner":{"account_id":15762693,"reputation":11,"user_id":11373991,"display_name":"Rapha&#235;l GICQUIAUX"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":749,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1667302229,"creation_date":1657705560,"question_id":72964163,"body_markdown":"I am facing a recurrent and yet random problem during the sonarqube analysis step of a Drone CI build.\r\n\r\nHere is the .drone.yaml part:\r\n\r\n    - name: code-analysis\r\n      image: aosapps/drone-sonar-plugin\r\n      settings:\r\n         sonar_host:\r\n           from_secret: sonar_host\r\n         sonar_token:\r\n           from_secret: sonar_token\r\n\r\nAnd sometimes, this analysis fail with this stacktrace, sometimes if I restart the same build it passes, sometimes not (completely random indeed):\r\n\r\n```\r\nINFO: Load active rules\r\n\r\nINFO: Load active rules (done) | time=7329ms\r\n\r\nINFO: Load analysis cache\r\n\r\nINFO: ------------------------------------------------------------------------\r\n\r\nINFO: EXECUTION FAILURE\r\n\r\nINFO: ------------------------------------------------------------------------\r\n\r\nINFO: Total time: 42.448s\r\n\r\nINFO: Final Memory: 17M/241M\r\n\r\nINFO: ------------------------------------------------------------------------\r\n\r\nERROR: Error during SonarScanner execution\r\n\r\norg.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;org.sonarsource.scanner.api.internal.IsolatedClassloader@7db12bb6-org.sonar.scanner.report.ReportPublisher&#39;: Unsatisfied dependency expressed through constructor parameter 7; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;org.sonarsource.scanner.api.internal.IsolatedClassloader@7db12bb6-org.sonar.scanner.report.AnalysisCachePublisher&#39;: Unsatisfied dependency expressed through constructor parameter 2; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;WriteCache&#39; defined in org.sonar.scanner.cache.AnalysisCacheProvider: Unsatisfied dependency expressed through method &#39;provideWriter&#39; parameter 1; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;ReadCache&#39; defined in org.sonar.scanner.cache.AnalysisCacheProvider: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.sonar.api.batch.sensor.cache.ReadCache]: Factory method &#39;provideReader&#39; threw exception; nested exception is java.lang.IllegalStateException: Failed to download analysis cache\r\n\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:800)\r\n\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:229)\r\n\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1372)\r\n\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1222)\r\n\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582)\r\n\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)\r\n\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)\r\n\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\r\n\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)\r\n\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)\r\n\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:953)\r\n\r\n\tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:918)\r\n\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)\r\n\r\n\tat org.sonar.core.platform.SpringComponentContainer.startComponents(SpringComponentContainer.java:187)\r\n\r\n\tat org.sonar.core.platform.SpringComponentContainer.execute(SpringComponentContainer.java:167)\r\n\r\n\tat org.sonar.scanner.bootstrap.SpringGlobalContainer.doAfterStart(SpringGlobalContainer.java:135)\r\n\r\n\tat org.sonar.core.platform.SpringComponentContainer.startComponents(SpringComponentContainer.java:188)\r\n\r\n\tat org.sonar.core.platform.SpringComponentContainer.execute(SpringComponentContainer.java:167)\r\n\r\n\tat org.sonar.batch.bootstrapper.Batch.doExecute(Batch.java:72)\r\n\r\n\tat org.sonar.batch.bootstrapper.Batch.execute(Batch.java:66)\r\n\r\n\tat org.sonarsource.scanner.api.internal.batch.BatchIsolatedLauncher.execute(BatchIsolatedLauncher.java:46)\r\n\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\r\n\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\r\n\r\n\tat java.base/java.lang.reflect.Method.invoke(Unknown Source)\r\n\r\n\tat org.sonarsource.scanner.api.internal.IsolatedLauncherProxy.invoke(IsolatedLauncherProxy.java:60)\r\n\r\n\tat com.sun.proxy.$Proxy0.execute(Unknown Source)\r\n\r\n\tat org.sonarsource.scanner.api.EmbeddedScanner.doExecute(EmbeddedScanner.java:189)\r\n\r\n\tat org.sonarsource.scanner.api.EmbeddedScanner.execute(EmbeddedScanner.java:138)\r\n\r\n\tat org.sonarsource.scanner.cli.Main.execute(Main.java:112)\r\n\r\n\tat org.sonarsource.scanner.cli.Main.execute(Main.java:75)\r\n\r\n\tat org.sonarsource.scanner.cli.Main.main(Main.java:61)\r\n\r\nCaused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;org.sonarsource.scanner.api.internal.IsolatedClassloader@7db12bb6-org.sonar.scanner.report.AnalysisCachePublisher&#39;: Unsatisfied dependency expressed through constructor parameter 2; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;WriteCache&#39; defined in org.sonar.scanner.cache.AnalysisCacheProvider: Unsatisfied dependency expressed through method &#39;provideWriter&#39; parameter 1; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;ReadCache&#39; defined in org.sonar.scanner.cache.AnalysisCacheProvider: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.sonar.api.batch.sensor.cache.ReadCache]: Factory method &#39;provideReader&#39; threw exception; nested exception is java.lang.IllegalStateException: Failed to download analysis cache\r\n\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:800)\r\n\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:229)\r\n\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1372)\r\n\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1222)\r\n\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582)\r\n\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)\r\n\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)\r\n\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\r\n\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)\r\n\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)\r\n\r\n\tat org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276)\r\n\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.addCandidateEntry(DefaultListableBeanFactory.java:1607)\r\n\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.findAutowireCandidates(DefaultListableBeanFactory.java:1571)\r\n\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveMultipleBeans(DefaultListableBeanFactory.java:1437)\r\n\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1347)\r\n\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1309)\r\n\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:887)\r\n\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791)\r\n\r\n\t... 31 more\r\n\r\nCaused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;WriteCache&#39; defined in org.sonar.scanner.cache.AnalysisCacheProvider: Unsatisfied dependency expressed through method &#39;provideWriter&#39; parameter 1; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;ReadCache&#39; defined in org.sonar.scanner.cache.AnalysisCacheProvider: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.sonar.api.batch.sensor.cache.ReadCache]: Factory method &#39;provideReader&#39; threw exception; nested exception is java.lang.IllegalStateException: Failed to download analysis cache\r\n\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:800)\r\n\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:541)\r\n\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1352)\r\n\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1195)\r\n\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582)\r\n\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)\r\n\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)\r\n\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\r\n\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)\r\n\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)\r\n\r\n\tat org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276)\r\n\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1389)\r\n\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1309)\r\n\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:887)\r\n\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791)\r\n\r\n\t... 48 more\r\n\r\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;ReadCache&#39; defined in org.sonar.scanner.cache.AnalysisCacheProvider: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.sonar.api.batch.sensor.cache.ReadCache]: Factory method &#39;provideReader&#39; threw exception; nested exception is java.lang.IllegalStateException: Failed to download analysis cache\r\n\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:658)\r\n\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:638)\r\n\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1352)\r\n\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1195)\r\n\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582)\r\n\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)\r\n\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)\r\n\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\r\n\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)\r\n\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)\r\n\r\n\tat org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276)\r\n\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1389)\r\n\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1309)\r\n\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:887)\r\n\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791)\r\n\r\n\t... 62 more\r\n\r\nCaused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.sonar.api.batch.sensor.cache.ReadCache]: Factory method &#39;provideReader&#39; threw exception; nested exception is java.lang.IllegalStateException: Failed to download analysis cache\r\n\r\n\tat org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:185)\r\n\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:653)\r\n\r\n\t... 76 more\r\n\r\nCaused by: java.lang.IllegalStateException: Failed to download analysis cache\r\n\r\n\tat org.sonar.scanner.cache.DefaultAnalysisCacheLoader.load(DefaultAnalysisCacheLoader.java:92)\r\n\r\n\tat org.sonar.scanner.cache.AnalysisCacheMemoryStorage.load(AnalysisCacheMemoryStorage.java:52)\r\n\r\n\tat org.sonar.scanner.cache.AnalysisCacheProvider.provideReader(AnalysisCacheProvider.java:35)\r\n\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\r\n\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\r\n\r\n\tat java.base/java.lang.reflect.Method.invoke(Unknown Source)\r\n\r\n\tat org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:154)\r\n\r\n\t... 77 more\r\n\r\nexit status 1\r\n```\r\n\r\nAs I can&#39;t find anything I&#39;m asking you, does that happen to you ? also, why does it happen and how to fix it?\r\n\r\nMany thanks. :)","title":"Random Sonar analysis fail with &quot;Failed to download analysis cache&quot;","body":"<p>I am facing a recurrent and yet random problem during the sonarqube analysis step of a Drone CI build.</p>\n<p>Here is the .drone.yaml part:</p>\n<pre><code>- name: code-analysis\n  image: aosapps/drone-sonar-plugin\n  settings:\n     sonar_host:\n       from_secret: sonar_host\n     sonar_token:\n       from_secret: sonar_token\n</code></pre>\n<p>And sometimes, this analysis fail with this stacktrace, sometimes if I restart the same build it passes, sometimes not (completely random indeed):</p>\n<pre><code>INFO: Load active rules\n\nINFO: Load active rules (done) | time=7329ms\n\nINFO: Load analysis cache\n\nINFO: ------------------------------------------------------------------------\n\nINFO: EXECUTION FAILURE\n\nINFO: ------------------------------------------------------------------------\n\nINFO: Total time: 42.448s\n\nINFO: Final Memory: 17M/241M\n\nINFO: ------------------------------------------------------------------------\n\nERROR: Error during SonarScanner execution\n\norg.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'org.sonarsource.scanner.api.internal.IsolatedClassloader@7db12bb6-org.sonar.scanner.report.ReportPublisher': Unsatisfied dependency expressed through constructor parameter 7; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'org.sonarsource.scanner.api.internal.IsolatedClassloader@7db12bb6-org.sonar.scanner.report.AnalysisCachePublisher': Unsatisfied dependency expressed through constructor parameter 2; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'WriteCache' defined in org.sonar.scanner.cache.AnalysisCacheProvider: Unsatisfied dependency expressed through method 'provideWriter' parameter 1; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'ReadCache' defined in org.sonar.scanner.cache.AnalysisCacheProvider: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.sonar.api.batch.sensor.cache.ReadCache]: Factory method 'provideReader' threw exception; nested exception is java.lang.IllegalStateException: Failed to download analysis cache\n\n    at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:800)\n\n    at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:229)\n\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1372)\n\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1222)\n\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582)\n\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)\n\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)\n\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\n\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)\n\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)\n\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:953)\n\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:918)\n\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)\n\n    at org.sonar.core.platform.SpringComponentContainer.startComponents(SpringComponentContainer.java:187)\n\n    at org.sonar.core.platform.SpringComponentContainer.execute(SpringComponentContainer.java:167)\n\n    at org.sonar.scanner.bootstrap.SpringGlobalContainer.doAfterStart(SpringGlobalContainer.java:135)\n\n    at org.sonar.core.platform.SpringComponentContainer.startComponents(SpringComponentContainer.java:188)\n\n    at org.sonar.core.platform.SpringComponentContainer.execute(SpringComponentContainer.java:167)\n\n    at org.sonar.batch.bootstrapper.Batch.doExecute(Batch.java:72)\n\n    at org.sonar.batch.bootstrapper.Batch.execute(Batch.java:66)\n\n    at org.sonarsource.scanner.api.internal.batch.BatchIsolatedLauncher.execute(BatchIsolatedLauncher.java:46)\n\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\n\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\n\n    at java.base/java.lang.reflect.Method.invoke(Unknown Source)\n\n    at org.sonarsource.scanner.api.internal.IsolatedLauncherProxy.invoke(IsolatedLauncherProxy.java:60)\n\n    at com.sun.proxy.$Proxy0.execute(Unknown Source)\n\n    at org.sonarsource.scanner.api.EmbeddedScanner.doExecute(EmbeddedScanner.java:189)\n\n    at org.sonarsource.scanner.api.EmbeddedScanner.execute(EmbeddedScanner.java:138)\n\n    at org.sonarsource.scanner.cli.Main.execute(Main.java:112)\n\n    at org.sonarsource.scanner.cli.Main.execute(Main.java:75)\n\n    at org.sonarsource.scanner.cli.Main.main(Main.java:61)\n\nCaused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'org.sonarsource.scanner.api.internal.IsolatedClassloader@7db12bb6-org.sonar.scanner.report.AnalysisCachePublisher': Unsatisfied dependency expressed through constructor parameter 2; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'WriteCache' defined in org.sonar.scanner.cache.AnalysisCacheProvider: Unsatisfied dependency expressed through method 'provideWriter' parameter 1; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'ReadCache' defined in org.sonar.scanner.cache.AnalysisCacheProvider: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.sonar.api.batch.sensor.cache.ReadCache]: Factory method 'provideReader' threw exception; nested exception is java.lang.IllegalStateException: Failed to download analysis cache\n\n    at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:800)\n\n    at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:229)\n\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1372)\n\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1222)\n\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582)\n\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)\n\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)\n\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\n\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)\n\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)\n\n    at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276)\n\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.addCandidateEntry(DefaultListableBeanFactory.java:1607)\n\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.findAutowireCandidates(DefaultListableBeanFactory.java:1571)\n\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveMultipleBeans(DefaultListableBeanFactory.java:1437)\n\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1347)\n\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1309)\n\n    at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:887)\n\n    at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791)\n\n    ... 31 more\n\nCaused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'WriteCache' defined in org.sonar.scanner.cache.AnalysisCacheProvider: Unsatisfied dependency expressed through method 'provideWriter' parameter 1; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'ReadCache' defined in org.sonar.scanner.cache.AnalysisCacheProvider: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.sonar.api.batch.sensor.cache.ReadCache]: Factory method 'provideReader' threw exception; nested exception is java.lang.IllegalStateException: Failed to download analysis cache\n\n    at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:800)\n\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:541)\n\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1352)\n\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1195)\n\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582)\n\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)\n\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)\n\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\n\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)\n\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)\n\n    at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276)\n\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1389)\n\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1309)\n\n    at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:887)\n\n    at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791)\n\n    ... 48 more\n\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'ReadCache' defined in org.sonar.scanner.cache.AnalysisCacheProvider: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.sonar.api.batch.sensor.cache.ReadCache]: Factory method 'provideReader' threw exception; nested exception is java.lang.IllegalStateException: Failed to download analysis cache\n\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:658)\n\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:638)\n\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1352)\n\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1195)\n\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582)\n\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)\n\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)\n\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\n\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)\n\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)\n\n    at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276)\n\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1389)\n\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1309)\n\n    at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:887)\n\n    at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791)\n\n    ... 62 more\n\nCaused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.sonar.api.batch.sensor.cache.ReadCache]: Factory method 'provideReader' threw exception; nested exception is java.lang.IllegalStateException: Failed to download analysis cache\n\n    at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:185)\n\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:653)\n\n    ... 76 more\n\nCaused by: java.lang.IllegalStateException: Failed to download analysis cache\n\n    at org.sonar.scanner.cache.DefaultAnalysisCacheLoader.load(DefaultAnalysisCacheLoader.java:92)\n\n    at org.sonar.scanner.cache.AnalysisCacheMemoryStorage.load(AnalysisCacheMemoryStorage.java:52)\n\n    at org.sonar.scanner.cache.AnalysisCacheProvider.provideReader(AnalysisCacheProvider.java:35)\n\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\n\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\n\n    at java.base/java.lang.reflect.Method.invoke(Unknown Source)\n\n    at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:154)\n\n    ... 77 more\n\nexit status 1\n</code></pre>\n<p>As I can't find anything I'm asking you, does that happen to you ? also, why does it happen and how to fix it?</p>\n<p>Many thanks. :)</p>\n"},{"tags":["java","apache-storm"],"answers":[{"comments":[{"owner":{"account_id":4821703,"reputation":5944,"user_id":3892213,"accept_rate":80,"display_name":"best wishes"},"score":0,"creation_date":1667204181,"post_id":74259768,"comment_id":131106538,"body_markdown":"it might be a naming convention issue. https://github.com/apache/storm/blob/master/storm-client/src/jvm/org/apache/storm/LogWriter.java is the source code, i will go through and come back","body":"it might be a naming convention issue. <a href=\"https://github.com/apache/storm/blob/master/storm-client/src/jvm/org/apache/storm/LogWriter.java\" rel=\"nofollow noreferrer\">github.com/apache/storm/blob/master/storm-client/src/jvm/org&zwnj;&#8203;/&hellip;</a> is the source code, i will go through and come back"}],"tags":[],"owner":{"account_id":18975267,"reputation":409,"user_id":13847890,"display_name":"moosehead42"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667199899,"creation_date":1667199899,"answer_id":74259768,"question_id":74259555,"body_markdown":"This is probably just a partial answer. In your terminal, you can see basically 3 processes:\r\n1. The `Supervisor` - this is the overarching storm process that is responsible for the coordinations of `LogWriters` and `Workers.` So it basically starts and kills them and it has an own logfile. You can aso configure, of how many Workers you want to spawn (=slots)\r\n2. The `LogWriter`: This seems to be responsible for generating the log - but I am really not sure why one need a separate JVM for that. \r\n3. The `Worker` - this is executing one operator (bolt or spout) of a topology. So this is created by the supervisor and lives as long as the topology lives. You could run multiple workers in parallel.\r\n\r\nI am also not sure why they designed it that way - so please have a look at my separate [question][1] on that. For the exact time &amp; call of spawning, you&#39;ll need to dig through their implementation - I couldn&#39;t identify the relevant code on a first glimpse - but would be happy if you could share your results. \r\n\r\n  [1]: https://stackoverflow.com/questions/72001598/why-does-apache-storm-instantiate-a-jvm-for-every-slot","title":"Apache storm 2 java process for each worker process","body":"<p>This is probably just a partial answer. In your terminal, you can see basically 3 processes:</p>\n<ol>\n<li>The <code>Supervisor</code> - this is the overarching storm process that is responsible for the coordinations of <code>LogWriters</code> and <code>Workers.</code> So it basically starts and kills them and it has an own logfile. You can aso configure, of how many Workers you want to spawn (=slots)</li>\n<li>The <code>LogWriter</code>: This seems to be responsible for generating the log - but I am really not sure why one need a separate JVM for that.</li>\n<li>The <code>Worker</code> - this is executing one operator (bolt or spout) of a topology. So this is created by the supervisor and lives as long as the topology lives. You could run multiple workers in parallel.</li>\n</ol>\n<p>I am also not sure why they designed it that way - so please have a look at my separate <a href=\"https://stackoverflow.com/questions/72001598/why-does-apache-storm-instantiate-a-jvm-for-every-slot\">question</a> on that. For the exact time &amp; call of spawning, you'll need to dig through their implementation - I couldn't identify the relevant code on a first glimpse - but would be happy if you could share your results.</p>\n"}],"owner":{"account_id":4821703,"reputation":5944,"user_id":3892213,"accept_rate":80,"display_name":"best wishes"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":94,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1667302026,"creation_date":1667198332,"question_id":74259555,"body_markdown":"When I run `ps aux | grep java` on my machine which is running a storm topology, I can see 2 Java processes running. \r\n```\r\nps -ef | grep java | grep &quot;storm&quot;\r\nUID        PID  PPID  C STIME TTY          TIME CMD\r\ntest-3p-s+ 10857 10661  0 Apr12 ?        1-02:21:25 java -server -Ddaemon.name=supervisor -Dstorm.options= -Dstorm.home=/usr/share/apache-storm -Dstorm.log.dir=/usr/share/apache-storm/logs -Djava.library.path=/usr/local/lib:/opt/local/lib:/usr/lib -Dstorm.conf.file= -cp /usr/share/apache-storm/lib/log4j-slf4j-impl-2.1.jar:/usr/share/apache-storm/lib/reflectasm-1.10.1.jar:/usr/share/apache-storm/lib/kryo-3.0.3.jar:/usr/share/apache-storm/lib/storm-core-1.0.1.jar:/usr/share/apache-storm/lib/servlet-api-2.5.jar:/usr/share/apache-storm/lib/log4j-core-2.1.jar:/usr/share/apache-storm/lib/log4j-api-2.1.jar:/usr/share/apache-storm/lib/objenesis-2.1.jar:/usr/share/apache-storm/lib/disruptor-3.3.2.jar:/usr/share/apache-storm/lib/log4j-over-slf4j-1.6.6.jar:/usr/share/apache-storm/lib/storm-rename-hack-1.0.1.jar:/usr/share/apache-storm/lib/asm-5.0.3.jar:/usr/share/apache-storm/lib/minlog-1.3.0.jar:/usr/share/apache-storm/lib/slf4j-api-1.7.7.jar:/usr/share/apache-storm/lib/clojure-1.7.0.jar:/usr/share/apache-storm/conf -Xmx2048m -Dlogfile.name=supervisor.log -DLog4jContextSelector=org.apache.logging.log4j.core.async.AsyncLoggerContextSelector -Dlog4j.configurationFile=/usr/share/apache-storm/log4j2/cluster.xml org.apache.storm.daemon.supervisor\r\ntest-3p-s+ 16121 10857  0 Oct13 ?        00:11:31 java -cp /usr/share/apache-storm/lib/log4j-slf4j-impl-2.1.jar:/usr/share/apache-storm/lib/reflectasm-1.10.1.jar:/usr/share/apache-storm/lib/kryo-3.0.3.jar:/usr/share/apache-storm/lib/storm-core-1.0.1.jar:/usr/share/apache-storm/lib/servlet-api-2.5.jar:/usr/share/apache-storm/lib/log4j-core-2.1.jar:/usr/share/apache-storm/lib/log4j-api-2.1.jar:/usr/share/apache-storm/lib/objenesis-2.1.jar:/usr/share/apache-storm/lib/disruptor-3.3.2.jar:/usr/share/apache-storm/lib/log4j-over-slf4j-1.6.6.jar:/usr/share/apache-storm/lib/storm-rename-hack-1.0.1.jar:/usr/share/apache-storm/lib/asm-5.0.3.jar:/usr/share/apache-storm/lib/minlog-1.3.0.jar:/usr/share/apache-storm/lib/slf4j-api-1.7.7.jar:/usr/share/apache-storm/lib/clojure-1.7.0.jar:/usr/share/apache-storm/conf:/var/lib/apache-storm/supervisor/stormdist/TestTopology-97-1665657576/stormjar.jar -Xmx64m -Dlogfile.name=worker.log -Dstorm.home=/usr/share/apache-storm -Dworkers.artifacts=/usr/share/apache-storm/logs/workers-artifacts -Dstorm.id=TestTopology-97-1665657576 -Dworker.id=3324b1de-e8ce-48e6-b065-3fd1f0659c20 -Dworker.port=6706 -Dstorm.log.dir=/usr/share/apache-storm/logs -Dlog4j.configurationFile=/usr/share/apache-storm/log4j2/worker.xml -DLog4jContextSelector=org.apache.logging.log4j.core.selector.BasicContextSelector org.apache.storm.LogWriter java -server -Xmx4g -Xms4g -Dcom.sun.management.jmxremote -Dcom.sun.management.jmxremote.port=16706 -Dcom.sun.management.jmxremote.authenticate=false -Dcom.sun.management.jmxremote.ssl=false -XX:+UseG1GC -XX:+AggressiveOpts -XX:+PrintGCDetails -XX:+PrintGCDateStamps -Xloggc:/var/log/apache-storm/gc.log -XX:+UseGCLogFileRotation -XX:NumberOfGCLogFiles=10 -XX:GCLogFileSize=1M -XX:+HeapDumpOnOutOfMemoryError -XX:HeapDumpPath=/tmp -Xmx4g -Djava.library.path=/var/lib/apache-storm/supervisor/stormdist/TestTopology-97-1665657576/resources/Linux-amd64:/var/lib/apache-storm/supervisor/stormdist/TestTopology-97-1665657576/resources:/usr/local/lib:/opt/local/lib:/usr/lib -Dlogfile.name=worker.log -Dstorm.home=/usr/share/apache-storm -Dworkers.artifacts=/usr/share/apache-storm/logs/workers-artifacts -Dstorm.conf.file= -Dstorm.options= -Dstorm.log.dir=/usr/share/apache-storm/logs -Djava.io.tmpdir=/var/lib/apache-storm/workers/3324b1de-e8ce-48e6-b065-3fd1f0659c20/tmp -Dlogging.sensitivity=S3 -Dlog4j.configurationFile=/usr/share/apache-storm/log4j2/worker.xml -DLog4jContextSelector=org.apache.logging.log4j.core.selector.BasicContextSelector -Dstorm.id=TestTopology-97-1665657576 -Dworker.id=3324b1de-e8ce-48e6-b065-3fd1f0659c20 -Dworker.port=6706 -cp /usr/share/apache-storm/lib/log4j-slf4j-impl-2.1.jar:/usr/share/apache-storm/lib/reflectasm-1.10.1.jar:/usr/share/apache-storm/lib/kryo-3.0.3.jar:/usr/share/apache-storm/lib/storm-core-1.0.1.jar:/usr/share/apache-storm/lib/servlet-api-2.5.jar:/usr/share/apache-storm/lib/log4j-core-2.1.jar:/usr/share/apache-storm/lib/log4j-api-2.1.jar:/usr/share/apache-storm/lib/objenesis-2.1.jar:/usr/share/apache-storm/lib/disruptor-3.3.2.jar:/usr/share/apache-storm/lib/log4j-over-slf4j-1.6.6.jar:/usr/share/apache-storm/lib/storm-rename-hack-1.0.1.jar:/usr/share/apache-storm/lib/asm-5.0.3.jar:/usr/share/apache-storm/lib/minlog-1.3.0.jar:/usr/share/apache-storm/lib/slf4j-api-1.7.7.jar:/usr/share/apache-storm/lib/clojure-1.7.0.jar:/usr/share/apache-storm/conf:/var/lib/apache-storm/supervisor/stormdist/TestTopology-97-1665657576/stormjar.jar org.apache.storm.daemon.worker TestTopology-97-1665657576 b64def27-088a-41ae-95a9-b5195c88bbfa 6706 3324b1de-e8ce-48e6-b065-3fd1f0659c20\r\ntest-3p-s+ 16158 16121 87 Oct13 ?        15-13:11:48 java -server -Xmx4g -Xms4g -Dcom.sun.management.jmxremote -Dcom.sun.management.jmxremote.port=16706 -Dcom.sun.management.jmxremote.authenticate=false -Dcom.sun.management.jmxremote.ssl=false -XX:+UseG1GC -XX:+AggressiveOpts -XX:+PrintGCDetails -XX:+PrintGCDateStamps -Xloggc:/var/log/apache-storm/gc.log -XX:+UseGCLogFileRotation -XX:NumberOfGCLogFiles=10 -XX:GCLogFileSize=1M -XX:+HeapDumpOnOutOfMemoryError -XX:HeapDumpPath=/tmp -Xmx4g -Djava.library.path=/var/lib/apache-storm/supervisor/stormdist/TestTopology-97-1665657576/resources/Linux-amd64:/var/lib/apache-storm/supervisor/stormdist/TestTopology-97-1665657576/resources:/usr/local/lib:/opt/local/lib:/usr/lib -Dlogfile.name=worker.log -Dstorm.home=/usr/share/apache-storm -Dworkers.artifacts=/usr/share/apache-storm/logs/workers-artifacts -Dstorm.conf.file= -Dstorm.options= -Dstorm.log.dir=/usr/share/apache-storm/logs -Djava.io.tmpdir=/var/lib/apache-storm/workers/3324b1de-e8ce-48e6-b065-3fd1f0659c20/tmp -Dlogging.sensitivity=S3 -Dlog4j.configurationFile=/usr/share/apache-storm/log4j2/worker.xml -DLog4jContextSelector=org.apache.logging.log4j.core.selector.BasicContextSelector -Dstorm.id=TestTopology-97-1665657576 -Dworker.id=3324b1de-e8ce-48e6-b065-3fd1f0659c20 -Dworker.port=6706 -cp /usr/share/apache-storm/lib/log4j-slf4j-impl-2.1.jar:/usr/share/apache-storm/lib/reflectasm-1.10.1.jar:/usr/share/apache-storm/lib/kryo-3.0.3.jar:/usr/share/apache-storm/lib/storm-core-1.0.1.jar:/usr/share/apache-storm/lib/servlet-api-2.5.jar:/usr/share/apache-storm/lib/log4j-core-2.1.jar:/usr/share/apache-storm/lib/log4j-api-2.1.jar:/usr/share/apache-storm/lib/objenesis-2.1.jar:/usr/share/apache-storm/lib/disruptor-3.3.2.jar:/usr/share/apache-storm/lib/log4j-over-slf4j-1.6.6.jar:/usr/share/apache-storm/lib/storm-rename-hack-1.0.1.jar:/usr/share/apache-storm/lib/asm-5.0.3.jar:/usr/share/apache-storm/lib/minlog-1.3.0.jar:/usr/share/apache-storm/lib/slf4j-api-1.7.7.jar:/usr/share/apache-storm/lib/clojure-1.7.0.jar:/usr/share/apache-storm/conf:/var/lib/apache-storm/supervisor/stormdist/TestTopology-97-1665657576/stormjar.jar org.apache.storm.daemon.worker TestTopology-97-1665657576 b64def27-088a-41ae-95a9-b5195c88bbfa 6706 3324b1de-e8ce-48e6-b065-3fd1f0659c20\r\n```\r\n\r\nIt seems all the 3 java process are related as parent client, as PPID of a pid is same as pid of previous java process. But can some please explain: \r\n1. How these processes are spawned? (using `java.lang.Process` API?)\r\n2. Who is monitoring whom?\r\n3. Why do we need the second Java process?\r\n","title":"Apache storm 2 java process for each worker process","body":"<p>When I run <code>ps aux | grep java</code> on my machine which is running a storm topology, I can see 2 Java processes running.</p>\n<pre><code>ps -ef | grep java | grep &quot;storm&quot;\nUID        PID  PPID  C STIME TTY          TIME CMD\ntest-3p-s+ 10857 10661  0 Apr12 ?        1-02:21:25 java -server -Ddaemon.name=supervisor -Dstorm.options= -Dstorm.home=/usr/share/apache-storm -Dstorm.log.dir=/usr/share/apache-storm/logs -Djava.library.path=/usr/local/lib:/opt/local/lib:/usr/lib -Dstorm.conf.file= -cp /usr/share/apache-storm/lib/log4j-slf4j-impl-2.1.jar:/usr/share/apache-storm/lib/reflectasm-1.10.1.jar:/usr/share/apache-storm/lib/kryo-3.0.3.jar:/usr/share/apache-storm/lib/storm-core-1.0.1.jar:/usr/share/apache-storm/lib/servlet-api-2.5.jar:/usr/share/apache-storm/lib/log4j-core-2.1.jar:/usr/share/apache-storm/lib/log4j-api-2.1.jar:/usr/share/apache-storm/lib/objenesis-2.1.jar:/usr/share/apache-storm/lib/disruptor-3.3.2.jar:/usr/share/apache-storm/lib/log4j-over-slf4j-1.6.6.jar:/usr/share/apache-storm/lib/storm-rename-hack-1.0.1.jar:/usr/share/apache-storm/lib/asm-5.0.3.jar:/usr/share/apache-storm/lib/minlog-1.3.0.jar:/usr/share/apache-storm/lib/slf4j-api-1.7.7.jar:/usr/share/apache-storm/lib/clojure-1.7.0.jar:/usr/share/apache-storm/conf -Xmx2048m -Dlogfile.name=supervisor.log -DLog4jContextSelector=org.apache.logging.log4j.core.async.AsyncLoggerContextSelector -Dlog4j.configurationFile=/usr/share/apache-storm/log4j2/cluster.xml org.apache.storm.daemon.supervisor\ntest-3p-s+ 16121 10857  0 Oct13 ?        00:11:31 java -cp /usr/share/apache-storm/lib/log4j-slf4j-impl-2.1.jar:/usr/share/apache-storm/lib/reflectasm-1.10.1.jar:/usr/share/apache-storm/lib/kryo-3.0.3.jar:/usr/share/apache-storm/lib/storm-core-1.0.1.jar:/usr/share/apache-storm/lib/servlet-api-2.5.jar:/usr/share/apache-storm/lib/log4j-core-2.1.jar:/usr/share/apache-storm/lib/log4j-api-2.1.jar:/usr/share/apache-storm/lib/objenesis-2.1.jar:/usr/share/apache-storm/lib/disruptor-3.3.2.jar:/usr/share/apache-storm/lib/log4j-over-slf4j-1.6.6.jar:/usr/share/apache-storm/lib/storm-rename-hack-1.0.1.jar:/usr/share/apache-storm/lib/asm-5.0.3.jar:/usr/share/apache-storm/lib/minlog-1.3.0.jar:/usr/share/apache-storm/lib/slf4j-api-1.7.7.jar:/usr/share/apache-storm/lib/clojure-1.7.0.jar:/usr/share/apache-storm/conf:/var/lib/apache-storm/supervisor/stormdist/TestTopology-97-1665657576/stormjar.jar -Xmx64m -Dlogfile.name=worker.log -Dstorm.home=/usr/share/apache-storm -Dworkers.artifacts=/usr/share/apache-storm/logs/workers-artifacts -Dstorm.id=TestTopology-97-1665657576 -Dworker.id=3324b1de-e8ce-48e6-b065-3fd1f0659c20 -Dworker.port=6706 -Dstorm.log.dir=/usr/share/apache-storm/logs -Dlog4j.configurationFile=/usr/share/apache-storm/log4j2/worker.xml -DLog4jContextSelector=org.apache.logging.log4j.core.selector.BasicContextSelector org.apache.storm.LogWriter java -server -Xmx4g -Xms4g -Dcom.sun.management.jmxremote -Dcom.sun.management.jmxremote.port=16706 -Dcom.sun.management.jmxremote.authenticate=false -Dcom.sun.management.jmxremote.ssl=false -XX:+UseG1GC -XX:+AggressiveOpts -XX:+PrintGCDetails -XX:+PrintGCDateStamps -Xloggc:/var/log/apache-storm/gc.log -XX:+UseGCLogFileRotation -XX:NumberOfGCLogFiles=10 -XX:GCLogFileSize=1M -XX:+HeapDumpOnOutOfMemoryError -XX:HeapDumpPath=/tmp -Xmx4g -Djava.library.path=/var/lib/apache-storm/supervisor/stormdist/TestTopology-97-1665657576/resources/Linux-amd64:/var/lib/apache-storm/supervisor/stormdist/TestTopology-97-1665657576/resources:/usr/local/lib:/opt/local/lib:/usr/lib -Dlogfile.name=worker.log -Dstorm.home=/usr/share/apache-storm -Dworkers.artifacts=/usr/share/apache-storm/logs/workers-artifacts -Dstorm.conf.file= -Dstorm.options= -Dstorm.log.dir=/usr/share/apache-storm/logs -Djava.io.tmpdir=/var/lib/apache-storm/workers/3324b1de-e8ce-48e6-b065-3fd1f0659c20/tmp -Dlogging.sensitivity=S3 -Dlog4j.configurationFile=/usr/share/apache-storm/log4j2/worker.xml -DLog4jContextSelector=org.apache.logging.log4j.core.selector.BasicContextSelector -Dstorm.id=TestTopology-97-1665657576 -Dworker.id=3324b1de-e8ce-48e6-b065-3fd1f0659c20 -Dworker.port=6706 -cp /usr/share/apache-storm/lib/log4j-slf4j-impl-2.1.jar:/usr/share/apache-storm/lib/reflectasm-1.10.1.jar:/usr/share/apache-storm/lib/kryo-3.0.3.jar:/usr/share/apache-storm/lib/storm-core-1.0.1.jar:/usr/share/apache-storm/lib/servlet-api-2.5.jar:/usr/share/apache-storm/lib/log4j-core-2.1.jar:/usr/share/apache-storm/lib/log4j-api-2.1.jar:/usr/share/apache-storm/lib/objenesis-2.1.jar:/usr/share/apache-storm/lib/disruptor-3.3.2.jar:/usr/share/apache-storm/lib/log4j-over-slf4j-1.6.6.jar:/usr/share/apache-storm/lib/storm-rename-hack-1.0.1.jar:/usr/share/apache-storm/lib/asm-5.0.3.jar:/usr/share/apache-storm/lib/minlog-1.3.0.jar:/usr/share/apache-storm/lib/slf4j-api-1.7.7.jar:/usr/share/apache-storm/lib/clojure-1.7.0.jar:/usr/share/apache-storm/conf:/var/lib/apache-storm/supervisor/stormdist/TestTopology-97-1665657576/stormjar.jar org.apache.storm.daemon.worker TestTopology-97-1665657576 b64def27-088a-41ae-95a9-b5195c88bbfa 6706 3324b1de-e8ce-48e6-b065-3fd1f0659c20\ntest-3p-s+ 16158 16121 87 Oct13 ?        15-13:11:48 java -server -Xmx4g -Xms4g -Dcom.sun.management.jmxremote -Dcom.sun.management.jmxremote.port=16706 -Dcom.sun.management.jmxremote.authenticate=false -Dcom.sun.management.jmxremote.ssl=false -XX:+UseG1GC -XX:+AggressiveOpts -XX:+PrintGCDetails -XX:+PrintGCDateStamps -Xloggc:/var/log/apache-storm/gc.log -XX:+UseGCLogFileRotation -XX:NumberOfGCLogFiles=10 -XX:GCLogFileSize=1M -XX:+HeapDumpOnOutOfMemoryError -XX:HeapDumpPath=/tmp -Xmx4g -Djava.library.path=/var/lib/apache-storm/supervisor/stormdist/TestTopology-97-1665657576/resources/Linux-amd64:/var/lib/apache-storm/supervisor/stormdist/TestTopology-97-1665657576/resources:/usr/local/lib:/opt/local/lib:/usr/lib -Dlogfile.name=worker.log -Dstorm.home=/usr/share/apache-storm -Dworkers.artifacts=/usr/share/apache-storm/logs/workers-artifacts -Dstorm.conf.file= -Dstorm.options= -Dstorm.log.dir=/usr/share/apache-storm/logs -Djava.io.tmpdir=/var/lib/apache-storm/workers/3324b1de-e8ce-48e6-b065-3fd1f0659c20/tmp -Dlogging.sensitivity=S3 -Dlog4j.configurationFile=/usr/share/apache-storm/log4j2/worker.xml -DLog4jContextSelector=org.apache.logging.log4j.core.selector.BasicContextSelector -Dstorm.id=TestTopology-97-1665657576 -Dworker.id=3324b1de-e8ce-48e6-b065-3fd1f0659c20 -Dworker.port=6706 -cp /usr/share/apache-storm/lib/log4j-slf4j-impl-2.1.jar:/usr/share/apache-storm/lib/reflectasm-1.10.1.jar:/usr/share/apache-storm/lib/kryo-3.0.3.jar:/usr/share/apache-storm/lib/storm-core-1.0.1.jar:/usr/share/apache-storm/lib/servlet-api-2.5.jar:/usr/share/apache-storm/lib/log4j-core-2.1.jar:/usr/share/apache-storm/lib/log4j-api-2.1.jar:/usr/share/apache-storm/lib/objenesis-2.1.jar:/usr/share/apache-storm/lib/disruptor-3.3.2.jar:/usr/share/apache-storm/lib/log4j-over-slf4j-1.6.6.jar:/usr/share/apache-storm/lib/storm-rename-hack-1.0.1.jar:/usr/share/apache-storm/lib/asm-5.0.3.jar:/usr/share/apache-storm/lib/minlog-1.3.0.jar:/usr/share/apache-storm/lib/slf4j-api-1.7.7.jar:/usr/share/apache-storm/lib/clojure-1.7.0.jar:/usr/share/apache-storm/conf:/var/lib/apache-storm/supervisor/stormdist/TestTopology-97-1665657576/stormjar.jar org.apache.storm.daemon.worker TestTopology-97-1665657576 b64def27-088a-41ae-95a9-b5195c88bbfa 6706 3324b1de-e8ce-48e6-b065-3fd1f0659c20\n</code></pre>\n<p>It seems all the 3 java process are related as parent client, as PPID of a pid is same as pid of previous java process. But can some please explain:</p>\n<ol>\n<li>How these processes are spawned? (using <code>java.lang.Process</code> API?)</li>\n<li>Who is monitoring whom?</li>\n<li>Why do we need the second Java process?</li>\n</ol>\n"},{"tags":["java","sorting","java-stream","filtering"],"answers":[{"comments":[{"owner":{"account_id":26793956,"reputation":13,"user_id":20386961,"display_name":"hejha"},"score":0,"creation_date":1667299820,"post_id":74274703,"comment_id":131130634,"body_markdown":"Thanks! However the result I&#39;m looking for is actually just a list (with only unique students as per the sorting) and not a map. :)","body":"Thanks! However the result I&#39;m looking for is actually just a list (with only unique students as per the sorting) and not a map. :)"},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1667300100,"post_id":74274703,"comment_id":131130707,"body_markdown":"@hejha Need a `List` of students having unique id as a result, right? See the update.","body":"@hejha Need a <code>List</code> of students having unique id as a result, right? See the update."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1667305449,"post_id":74274703,"comment_id":131132411,"body_markdown":"If you don’t require the result to be a *list*, then alternatively `Collection&lt;Student&gt; uniqueStudents = students.stream() .collect(Collectors.groupingBy(Student::getId, Collectors.collectingAndThen(Collectors.maxBy(Comparator.comparing(Student::getStartDatetime)), Optional::orElseThrow))) .values();`. Depending on taste. Can probably be modified to return a `List` if required.","body":"If you don’t require the result to be a <i>list</i>, then alternatively <code>Collection&lt;Student&gt; uniqueStudents = students.stream() .collect(Collectors.groupingBy(Student::getId, Collectors.collectingAndThen(Collectors.maxBy(Comparator.com&zwnj;&#8203;paring(Student::getS&zwnj;&#8203;tartDatetime)), Optional::orElseThrow))) .values();</code>. Depending on taste. Can probably be modified to return a <code>List</code> if required."},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1667305766,"post_id":74274703,"comment_id":131132494,"body_markdown":"@OleV.V. Sure, it can be written using `groupingBy()`, but since here we&#39;re producing a Map that associates a *key* with a single *value*, Collector `toMap()` would semantically more suitable in this case. `groupingBy()` is more appropriate when a **group** of *values* needs to be associated with the same *key*. See this [answer by Holger](https://stackoverflow.com/a/57042622/17949945). And from the perspective of readability, one collector is better than three nested collectors.","body":"@OleV.V. Sure, it can be written using <code>groupingBy()</code>, but since here we&#39;re producing a Map that associates a <i>key</i> with a single <i>value</i>, Collector <code>toMap()</code> would semantically more suitable in this case. <code>groupingBy()</code> is more appropriate when a <b>group</b> of <i>values</i> needs to be associated with the same <i>key</i>. See this <a href=\"https://stackoverflow.com/a/57042622/17949945\">answer by Holger</a>. And from the perspective of readability, one collector is better than three nested collectors."},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":1,"creation_date":1667306492,"post_id":74274703,"comment_id":131132723,"body_markdown":"@OleV.V. You omitted sorting. With `.collect(groupingBy...).values()` there&#39;s no way to obtain students in sorted order by `startTime`. Alternatively, we can create a custom collector that uses a map is its internal accumulation type and returns a sorted list without creating the second stream, but it would be more complex than using built-in Collectors.","body":"@OleV.V. You omitted sorting. With <code>.collect(groupingBy...).values()</code> there&#39;s no way to obtain students in sorted order by <code>startTime</code>. Alternatively, we can create a custom collector that uses a map is its internal accumulation type and returns a sorted list without creating the second stream, but it would be more complex than using built-in Collectors."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1667306941,"post_id":74274703,"comment_id":131132870,"body_markdown":"I didn’t read any requirement in the question that the result should be sorted? The sorting mentioned was only for finding the latest with each ID (which my code does), the way I interpreted it. You are right, of course, a non-list collection generally hasn’t got any built-in order so cannot be a sorted collection. And it may well be that my suggestion is unsuited in case a sorted list is required as end result.","body":"I didn’t read any requirement in the question that the result should be sorted? The sorting mentioned was only for finding the latest with each ID (which my code does), the way I interpreted it. You are right, of course, a non-list collection generally hasn’t got any built-in order so cannot be a sorted collection. And it may well be that my suggestion is unsuited in case a sorted list is required as end result."}],"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"comment_count":6,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1667301070,"creation_date":1667299464,"answer_id":74274703,"question_id":74274542,"body_markdown":"To eliminate the duplicated students (i.e. having the same `id`) from the list we can use an auxiliary Map.\r\n\r\nThis Map should associate a single instance of `Student` (the one with the latest start date) with a particular `id`. The proper Collector for that purpose is a *three-args version* of [`toMap()`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Collectors.html#toMap(java.util.function.Function,java.util.function.Function,java.util.function.BinaryOperator)) which expects:\r\n* a *keyMapper*, which generates a *key* from the consumed stream element;\r\n* a *valueMapper* generating a *value*;\r\n* and a *mergeFunction* responsible for resolving duplicates.\r\n\r\nTo implement the *mergeFunction* we can use static method [`BinaryOperator.maxBy`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/function/BinaryOperator.html#maxBy(java.util.Comparator)) which expects a Comparator as an argument. And to define a comparator we can make use of the Java 8 [`Comparator.comparing()`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Comparator.html#comparing(java.util.function.Function)).\r\n\r\nFinally, to generate a list of students having unique `id` we need to generate a stream over the values of the intermediate Map, apply sorting add collect the elements into a List.\r\n\r\n```\r\nList&lt;Student&gt; students = List.of(\r\n    new Student(&quot;1&quot;, LocalDateTime.now()),\r\n    new Student(&quot;1&quot;, LocalDateTime.of(2000, 02, 01, 01, 01)),\r\n    new Student(&quot;1&quot;, LocalDateTime.of(1990, 02, 01, 01, 01)),\r\n    new Student(&quot;2&quot;, LocalDateTime.of(1990, 02, 01, 01, 01))\r\n);\r\n\r\nList&lt;Student&gt; uniqueStudents = students.stream()\r\n    .collect(Collectors.toMap(\r\n        Student::getId,\r\n        Function.identity(),\r\n        BinaryOperator.maxBy(Comparator.comparing(Student::getStartDatetime))\r\n    ))\r\n    .values().stream()\r\n    .sorted(Comparator.comparing(Student::getStartDatetime))\r\n    .toList(); // for Java 16+ .or collect(Collectors.toList())\r\n```\r\n\r\n*Output:*\r\n\r\n```\r\nStudent{id=&#39;2&#39;, startDatetime=1990-02-01T01:01}\r\nStudent{id=&#39;1&#39;, startDatetime=2022-11-01T14:03:17.858753}\r\n```","title":"Remove objects with duplicate id and sorted values","body":"<p>To eliminate the duplicated students (i.e. having the same <code>id</code>) from the list we can use an auxiliary Map.</p>\n<p>This Map should associate a single instance of <code>Student</code> (the one with the latest start date) with a particular <code>id</code>. The proper Collector for that purpose is a <em>three-args version</em> of <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Collectors.html#toMap(java.util.function.Function,java.util.function.Function,java.util.function.BinaryOperator)\" rel=\"nofollow noreferrer\"><code>toMap()</code></a> which expects:</p>\n<ul>\n<li>a <em>keyMapper</em>, which generates a <em>key</em> from the consumed stream element;</li>\n<li>a <em>valueMapper</em> generating a <em>value</em>;</li>\n<li>and a <em>mergeFunction</em> responsible for resolving duplicates.</li>\n</ul>\n<p>To implement the <em>mergeFunction</em> we can use static method <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/function/BinaryOperator.html#maxBy(java.util.Comparator)\" rel=\"nofollow noreferrer\"><code>BinaryOperator.maxBy</code></a> which expects a Comparator as an argument. And to define a comparator we can make use of the Java 8 <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Comparator.html#comparing(java.util.function.Function)\" rel=\"nofollow noreferrer\"><code>Comparator.comparing()</code></a>.</p>\n<p>Finally, to generate a list of students having unique <code>id</code> we need to generate a stream over the values of the intermediate Map, apply sorting add collect the elements into a List.</p>\n<pre><code>List&lt;Student&gt; students = List.of(\n    new Student(&quot;1&quot;, LocalDateTime.now()),\n    new Student(&quot;1&quot;, LocalDateTime.of(2000, 02, 01, 01, 01)),\n    new Student(&quot;1&quot;, LocalDateTime.of(1990, 02, 01, 01, 01)),\n    new Student(&quot;2&quot;, LocalDateTime.of(1990, 02, 01, 01, 01))\n);\n\nList&lt;Student&gt; uniqueStudents = students.stream()\n    .collect(Collectors.toMap(\n        Student::getId,\n        Function.identity(),\n        BinaryOperator.maxBy(Comparator.comparing(Student::getStartDatetime))\n    ))\n    .values().stream()\n    .sorted(Comparator.comparing(Student::getStartDatetime))\n    .toList(); // for Java 16+ .or collect(Collectors.toList())\n</code></pre>\n<p><em>Output:</em></p>\n<pre><code>Student{id='2', startDatetime=1990-02-01T01:01}\nStudent{id='1', startDatetime=2022-11-01T14:03:17.858753}\n</code></pre>\n"}],"owner":{"account_id":26793956,"reputation":13,"user_id":20386961,"display_name":"hejha"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":166,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74274703,"answer_count":1,"score":1,"last_activity_date":1667301070,"creation_date":1667298626,"question_id":74274542,"body_markdown":"I have a case where I want to remove objects from a list if there are duplicate ids. The items that should then be removed is the one with the oldest date. How can I do this using Java streams in a clean way? I was thinking it should be possible to like group the objects by id first and then sort them by date and only select the first object or similar but I&#39;m struggling on how to do this.\r\n\r\nExample:\r\n\r\n`\r\n```\r\npackage org.example;\r\n\r\nimport java.time.LocalDateTime;\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\nimport java.util.Map;\r\nimport java.util.stream.Collectors;\r\n\r\npublic class Main {\r\n\r\n  class Student {\r\n    private String id;\r\n    private LocalDateTime startDatetime;\r\n\r\n    public String getId() {\r\n      return id;\r\n    }\r\n\r\n    public void setId(String id) {\r\n      this.id = id;\r\n    }\r\n\r\n    public LocalDateTime getStartDatetime() {\r\n      return startDatetime;\r\n    }\r\n\r\n    public void setStartDatetime(LocalDateTime startDatetime) {\r\n      this.startDatetime = startDatetime;\r\n    }\r\n\r\n    public Student(String id, LocalDateTime startDatetime) {\r\n      this.id = id;\r\n      this.startDatetime = startDatetime;\r\n    }\r\n  }\r\n\r\n  public static void main(String[] args) {\r\n    new Main();\r\n  }\r\n\r\n  public Main() {\r\n    List&lt;Student&gt; students = new ArrayList&lt;&gt;() {\r\n      {\r\n        add(new Student(&quot;1&quot;, LocalDateTime.now()));\r\n        add(new Student(&quot;1&quot;, LocalDateTime.of(2000, 02, 01, 01, 01)));\r\n        add(new Student(&quot;1&quot;, LocalDateTime.of(1990, 02, 01, 01, 01)));\r\n        add(new Student(&quot;2&quot;, LocalDateTime.of(1990, 02, 01, 01, 01)));\r\n      } };\r\n\r\n    //Now this list should be sorted as the following:\r\n    //If two or more student objects have the same id, remove the ones with the oldest startDateTime.\r\n    //Thus, the result above should only contain 2 objects. The first object with id 1 and the LocalDateTime.now() and the second object should be the one with id 2.\r\n\r\n    Map&lt;String, List&lt;Student&gt;&gt; groupedStudents =\r\n        students.stream().collect(Collectors.groupingBy(Student::getId));\r\n    \r\n  }\r\n}\r\n```\r\n`","title":"Remove objects with duplicate id and sorted values","body":"<p>I have a case where I want to remove objects from a list if there are duplicate ids. The items that should then be removed is the one with the oldest date. How can I do this using Java streams in a clean way? I was thinking it should be possible to like group the objects by id first and then sort them by date and only select the first object or similar but I'm struggling on how to do this.</p>\n<p>Example:</p>\n<p>`</p>\n<pre><code>package org.example;\n\nimport java.time.LocalDateTime;\nimport java.util.ArrayList;\nimport java.util.List;\nimport java.util.Map;\nimport java.util.stream.Collectors;\n\npublic class Main {\n\n  class Student {\n    private String id;\n    private LocalDateTime startDatetime;\n\n    public String getId() {\n      return id;\n    }\n\n    public void setId(String id) {\n      this.id = id;\n    }\n\n    public LocalDateTime getStartDatetime() {\n      return startDatetime;\n    }\n\n    public void setStartDatetime(LocalDateTime startDatetime) {\n      this.startDatetime = startDatetime;\n    }\n\n    public Student(String id, LocalDateTime startDatetime) {\n      this.id = id;\n      this.startDatetime = startDatetime;\n    }\n  }\n\n  public static void main(String[] args) {\n    new Main();\n  }\n\n  public Main() {\n    List&lt;Student&gt; students = new ArrayList&lt;&gt;() {\n      {\n        add(new Student(&quot;1&quot;, LocalDateTime.now()));\n        add(new Student(&quot;1&quot;, LocalDateTime.of(2000, 02, 01, 01, 01)));\n        add(new Student(&quot;1&quot;, LocalDateTime.of(1990, 02, 01, 01, 01)));\n        add(new Student(&quot;2&quot;, LocalDateTime.of(1990, 02, 01, 01, 01)));\n      } };\n\n    //Now this list should be sorted as the following:\n    //If two or more student objects have the same id, remove the ones with the oldest startDateTime.\n    //Thus, the result above should only contain 2 objects. The first object with id 1 and the LocalDateTime.now() and the second object should be the one with id 2.\n\n    Map&lt;String, List&lt;Student&gt;&gt; groupedStudents =\n        students.stream().collect(Collectors.groupingBy(Student::getId));\n    \n  }\n}\n</code></pre>\n<p>`</p>\n"},{"tags":["java","eclipse","intellij-idea"],"comments":[{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1667282461,"post_id":74272059,"comment_id":131126343,"body_markdown":"And what was the error that it was complaining about ... ?","body":"And what was the error that it was complaining about ... ?"},{"owner":{"account_id":1457199,"reputation":4503,"user_id":1629242,"accept_rate":56,"display_name":"Amogh"},"score":0,"creation_date":1667282517,"post_id":74272059,"comment_id":131126355,"body_markdown":"@StephenC Oh, forgot to mention it&#39;s `Type mismatch: cannot convert from Object to boolean`","body":"@StephenC Oh, forgot to mention it&#39;s <code>Type mismatch: cannot convert from Object to boolean</code>"},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1667282590,"post_id":74272059,"comment_id":131126368,"body_markdown":"And what type is returned by `row.getValue(...)` ?  (Or ... what is the type of `row`?)","body":"And what type is returned by <code>row.getValue(...)</code> ?  (Or ... what is the type of <code>row</code>?)"},{"owner":{"account_id":1457199,"reputation":4503,"user_id":1629242,"accept_rate":56,"display_name":"Amogh"},"score":0,"creation_date":1667282647,"post_id":74272059,"comment_id":131126381,"body_markdown":"row.getValue(...) returns `Object`","body":"row.getValue(...) returns <code>Object</code>"},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1667282709,"post_id":74272059,"comment_id":131126391,"body_markdown":"Well ... that is the cause of your problem!  You can&#39;t use an `Object` as the condition of an `if` statement.","body":"Well ... that is the cause of your problem!  You can&#39;t use an <code>Object</code> as the condition of an <code>if</code> statement."},{"owner":{"account_id":1457199,"reputation":4503,"user_id":1629242,"accept_rate":56,"display_name":"Amogh"},"score":0,"creation_date":1667282723,"post_id":74272059,"comment_id":131126395,"body_markdown":"`&lt;T&gt; T getValue(IContext context, int columnIndex);` is the definition of  `getValue()`","body":"<code>&lt;T&gt; T getValue(IContext context, int columnIndex);</code> is the definition of  <code>getValue()</code>"},{"owner":{"account_id":1457199,"reputation":4503,"user_id":1629242,"accept_rate":56,"display_name":"Amogh"},"score":0,"creation_date":1667282796,"post_id":74272059,"comment_id":131126410,"body_markdown":"@StephenC but then why IntelliJ is not complaining about the same? and even in Eclipse if build/run the project then it&#39;s successful.","body":"@StephenC but then why IntelliJ is not complaining about the same? and even in Eclipse if build/run the project then it&#39;s successful."},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":1,"creation_date":1667282845,"post_id":74272059,"comment_id":131126417,"body_markdown":"It would appear that there is a difference between the IDEs&#39; compilers.  Could you please write a minimal reproducible example for this.  So that we can try it out with other compilers, and check what the JLS says about it ...","body":"It would appear that there is a difference between the IDEs&#39; compilers.  Could you please write a minimal reproducible example for this.  So that we can try it out with other compilers, and check what the JLS says about it ..."},{"owner":{"account_id":1457199,"reputation":4503,"user_id":1629242,"accept_rate":56,"display_name":"Amogh"},"score":0,"creation_date":1667284400,"post_id":74272059,"comment_id":131126701,"body_markdown":"@StephenC &quot;there is a difference between the IDEs&#39; compilers.&quot; --&gt; If you mean by JDK/JRE refereed in build path then both are referring to the same JDK folder. About the reproducible example, let try to create it.","body":"@StephenC &quot;there is a difference between the IDEs&#39; compilers.&quot; --&gt; If you mean by JDK/JRE refereed in build path then both are referring to the same JDK folder. About the reproducible example, let try to create it."},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":2,"creation_date":1667285919,"post_id":74272059,"comment_id":131126999,"body_markdown":"PLEASE include a [mre] in the question - we have no idea how `row` is declared, we have no idea how `T` is being inferred (or not) as return value of `getValue`, ....","body":"PLEASE include a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> in the question - we have no idea how <code>row</code> is declared, we have no idea how <code>T</code> is being inferred (or not) as return value of <code>getValue</code>, ...."},{"owner":{"account_id":401843,"reputation":89873,"user_id":768644,"display_name":"rzwitserloot"},"score":1,"creation_date":1667286203,"post_id":74272059,"comment_id":131127065,"body_markdown":"The type of `row.getValue(..)` depends on the generics bound determined by the compiler for whatever `roq` might be, which you did not include in your paste. Hence, this question cannot be answered. Intellij binds it to &#39;boolean&#39;, ecj evidently does not. The error is elsewhere and this clause merely triggers it, it is not itself the cause. A full reproducible example is the next step :)","body":"The type of <code>row.getValue(..)</code> depends on the generics bound determined by the compiler for whatever <code>roq</code> might be, which you did not include in your paste. Hence, this question cannot be answered. Intellij binds it to &#39;boolean&#39;, ecj evidently does not. The error is elsewhere and this clause merely triggers it, it is not itself the cause. A full reproducible example is the next step :)"},{"owner":{"account_id":1457199,"reputation":4503,"user_id":1629242,"accept_rate":56,"display_name":"Amogh"},"score":0,"creation_date":1667290171,"post_id":74272059,"comment_id":131127936,"body_markdown":"@rzwitserloot Yes, I am preparing reproducible example. Though, I don&#39;t have access to see how `getValue()` is implemented, We are creating object of an interface which has this method. But, according to my best knowledge I will create a example.","body":"@rzwitserloot Yes, I am preparing reproducible example. Though, I don&#39;t have access to see how <code>getValue()</code> is implemented, We are creating object of an interface which has this method. But, according to my best knowledge I will create a example."},{"owner":{"account_id":3159259,"reputation":109678,"user_id":2670892,"display_name":"greg-449"},"score":0,"creation_date":1667290985,"post_id":74272059,"comment_id":131128149,"body_markdown":"Note: Eclipse uses its own compiler &quot;ecj&quot; rather than &quot;javac&quot;, this can occasionally give different results. We need a full example to be able to tell which compiler is correct.","body":"Note: Eclipse uses its own compiler &quot;ecj&quot; rather than &quot;javac&quot;, this can occasionally give different results. We need a full example to be able to tell which compiler is correct."},{"owner":{"account_id":1457199,"reputation":4503,"user_id":1629242,"accept_rate":56,"display_name":"Amogh"},"score":0,"creation_date":1667296613,"post_id":74272059,"comment_id":131129610,"body_markdown":"Hello there [here](https://drive.google.com/file/d/1m61RPr6ytENlMBbHulod-5KTAH6VOR9g/view?usp=sharing) is the reproducible example.","body":"Hello there <a href=\"https://drive.google.com/file/d/1m61RPr6ytENlMBbHulod-5KTAH6VOR9g/view?usp=sharing\" rel=\"nofollow noreferrer\">here</a> is the reproducible example."},{"owner":{"account_id":1457199,"reputation":4503,"user_id":1629242,"accept_rate":56,"display_name":"Amogh"},"score":0,"creation_date":1667296713,"post_id":74272059,"comment_id":131129647,"body_markdown":"As I said already, I don&#39;t have access to see implementation of `getValue()`. In reproducible example, I have just reproduced the error. Because I wanted to understand why and how both IDEs treat the same line of code differently","body":"As I said already, I don&#39;t have access to see implementation of <code>getValue()</code>. In reproducible example, I have just reproduced the error. Because I wanted to understand why and how both IDEs treat the same line of code differently"},{"owner":{"account_id":1457199,"reputation":4503,"user_id":1629242,"accept_rate":56,"display_name":"Amogh"},"score":0,"creation_date":1667296915,"post_id":74272059,"comment_id":131129702,"body_markdown":"@greg-449 I checked on this point as well. In IntelliJ if I change compiler to `Eclipse` then also IntelliJ does not show error.","body":"@greg-449 I checked on this point as well. In IntelliJ if I change compiler to <code>Eclipse</code> then also IntelliJ does not show error."},{"owner":{"account_id":1457199,"reputation":4503,"user_id":1629242,"accept_rate":56,"display_name":"Amogh"},"score":0,"creation_date":1667296998,"post_id":74272059,"comment_id":131129729,"body_markdown":"@rzwitserloot reproducible example added. Your help will be appreciated to understand why both IDE treats same line of code differently","body":"@rzwitserloot reproducible example added. Your help will be appreciated to understand why both IDE treats same line of code differently"},{"owner":{"account_id":1457199,"reputation":4503,"user_id":1629242,"accept_rate":56,"display_name":"Amogh"},"score":0,"creation_date":1667297020,"post_id":74272059,"comment_id":131129735,"body_markdown":"@StephenC reproducible example added. Your help will be appreciated to understand why both IDE treats same line of code differently  .","body":"@StephenC reproducible example added. Your help will be appreciated to understand why both IDE treats same line of code differently  ."},{"owner":{"account_id":1457199,"reputation":4503,"user_id":1629242,"accept_rate":56,"display_name":"Amogh"},"score":0,"creation_date":1667299456,"post_id":74272059,"comment_id":131130513,"body_markdown":"@greg-449 Question updated with example code. Thanks for suggestion :)","body":"@greg-449 Question updated with example code. Thanks for suggestion :)"}],"answers":[{"comments":[{"owner":{"account_id":1457199,"reputation":4503,"user_id":1629242,"accept_rate":56,"display_name":"Amogh"},"score":0,"creation_date":1667301493,"post_id":74274921,"comment_id":131131162,"body_markdown":"Oh! that&#39;s really very complex. But, according to you who is more accurate/correct eclipse or javac. After reading your answer and ticket I feel Eclipse team is correct because JLS [here](https://docs.oracle.com/javase/specs/jls/se11/html/jls-14.html#jls-14.9) says that &quot;Expression must have type boolean or Boolean, or a compile-time error occurs. &quot; What do you think?","body":"Oh! that&#39;s really very complex. But, according to you who is more accurate/correct eclipse or javac. After reading your answer and ticket I feel Eclipse team is correct because JLS <a href=\"https://docs.oracle.com/javase/specs/jls/se11/html/jls-14.html#jls-14.9\" rel=\"nofollow noreferrer\">here</a> says that &quot;Expression must have type boolean or Boolean, or a compile-time error occurs. &quot; What do you think?"},{"owner":{"account_id":2139538,"reputation":42521,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":1,"creation_date":1667301847,"post_id":74274921,"comment_id":131131281,"body_markdown":"@Amogh That part of the spec isn&#39;t in disagreement. By declaring your method as `&lt;T&gt; T foo()`, you&#39;re stating &quot;this can return whatever type the caller asks for&quot;, which is obviously a bit strange since it actually *always* returns a boolean regardless of what type the caller asks for. That logical inconsistency is what leads to you having to suppress the unchecked cast warning. But assuming your method could return whatever type the caller wanted, then it can return Boolean, which would satisfy that part of the spec.","body":"@Amogh That part of the spec isn&#39;t in disagreement. By declaring your method as <code>&lt;T&gt; T foo()</code>, you&#39;re stating &quot;this can return whatever type the caller asks for&quot;, which is obviously a bit strange since it actually <i>always</i> returns a boolean regardless of what type the caller asks for. That logical inconsistency is what leads to you having to suppress the unchecked cast warning. But assuming your method could return whatever type the caller wanted, then it can return Boolean, which would satisfy that part of the spec."},{"owner":{"account_id":2139538,"reputation":42521,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":2,"creation_date":1667301966,"post_id":74274921,"comment_id":131131319,"body_markdown":"@Amogh The problem is actually related to whether an if-statement is *allowed* to infer its expression to be boolean. I believe the spec doesn&#39;t say. The javac implementation does, and the Eclipse implementation does not. It seems somewhat reasonable to me, but it seems to be working by accident - by treating the expression as an assignment, which it&#39;s not.","body":"@Amogh The problem is actually related to whether an if-statement is <i>allowed</i> to infer its expression to be boolean. I believe the spec doesn&#39;t say. The javac implementation does, and the Eclipse implementation does not. It seems somewhat reasonable to me, but it seems to be working by accident - by treating the expression as an assignment, which it&#39;s not."},{"owner":{"account_id":1457199,"reputation":4503,"user_id":1629242,"accept_rate":56,"display_name":"Amogh"},"score":0,"creation_date":1667302601,"post_id":74274921,"comment_id":131131509,"body_markdown":"Thanks Michael detailed explanation. I will change my code to cast the value first then use as `expression`.","body":"Thanks Michael detailed explanation. I will change my code to cast the value first then use as <code>expression</code>."}],"tags":[],"owner":{"account_id":2139538,"reputation":42521,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"comment_count":4,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1667300976,"creation_date":1667300612,"answer_id":74274921,"question_id":74272059,"body_markdown":"Eclipse uses its own compiler, distinct from javac, and this error appears to be the manifestation of a difference in compiler implementation.\r\n\r\nThis is the ticket raised on their issue tracker. https://bugs.eclipse.org/bugs/show_bug.cgi?id=513766\r\n\r\nEclipse compiler devs seem to consider it a bug in javac, rather than the other way around. So perhaps the question should be &quot;why does javac accept it&quot;? This ticket exists for the JDK https://bugs.openjdk.org/browse/JDK-8179483, and was raised by Dan Smith who is a language designer at Oracle. He states that &quot;javac should reject this program&quot;.\r\n\r\nThat said, I&#39;d be quite surprised if they remove this &quot;feature&quot;. Oracle are not in the habit of making backwards-incompatible changes, which this would be for people like you. A more likely solution seems an adjustment to the spec to allow for it, but I&#39;d bet it&#39;s more complex than it seems on the surface, or they might have addressed it by now.\r\n\r\nI think effectively this behaviour is ambiguously defined, and you should ideally avoid relying on it. I&#39;d change your code to \r\n\r\n    if(Boolean.TRUE.equals(row.getValue()))","title":"Why eclipse showing error but not IntelliJ","body":"<p>Eclipse uses its own compiler, distinct from javac, and this error appears to be the manifestation of a difference in compiler implementation.</p>\n<p>This is the ticket raised on their issue tracker. <a href=\"https://bugs.eclipse.org/bugs/show_bug.cgi?id=513766\" rel=\"nofollow noreferrer\">https://bugs.eclipse.org/bugs/show_bug.cgi?id=513766</a></p>\n<p>Eclipse compiler devs seem to consider it a bug in javac, rather than the other way around. So perhaps the question should be &quot;why does javac accept it&quot;? This ticket exists for the JDK <a href=\"https://bugs.openjdk.org/browse/JDK-8179483\" rel=\"nofollow noreferrer\">https://bugs.openjdk.org/browse/JDK-8179483</a>, and was raised by Dan Smith who is a language designer at Oracle. He states that &quot;javac should reject this program&quot;.</p>\n<p>That said, I'd be quite surprised if they remove this &quot;feature&quot;. Oracle are not in the habit of making backwards-incompatible changes, which this would be for people like you. A more likely solution seems an adjustment to the spec to allow for it, but I'd bet it's more complex than it seems on the surface, or they might have addressed it by now.</p>\n<p>I think effectively this behaviour is ambiguously defined, and you should ideally avoid relying on it. I'd change your code to</p>\n<pre><code>if(Boolean.TRUE.equals(row.getValue()))\n</code></pre>\n"}],"owner":{"account_id":1457199,"reputation":4503,"user_id":1629242,"accept_rate":56,"display_name":"Amogh"},"comment_count":19,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":220,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74274921,"answer_count":1,"score":1,"last_activity_date":1667300976,"creation_date":1667282331,"question_id":74272059,"body_markdown":"I usually work with IntelliJ but recently one of my team mate opened project in eclipse and he found eclipse showing error `Type mismatch: cannot convert from Object to boolean` in 2 separate java files. I crossed checked in IntelliJ but no error.  \r\n\r\nBelow are the screenshot from Eclipse and IntelliJ respectively:\r\n\r\nEclipse:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nIntelliJ \r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\nI also checked that both the IDEs have same compiler compliance level, i.e. 11\r\n\r\nEclipse:\r\n\r\n[![enter image description here][3]][3]\r\n\r\n\r\nIntelliJ\r\n\r\n[![enter image description here][4]][4]\r\n\r\n\r\nEven though Eclipse is showing error, if I run the project in eclipse then build and run is successful.\r\n\r\nAs in above actual code example `row` object is created from an interface, I do not have access to see it&#39;s actual implementation. Hence just to generate the scenario so that I can understand why and how two different IDEs behave differently ? I have created below reproducible example:\r\n\r\nIRow.java:\r\n\r\n    public interface IRow {\r\n        &lt;T&gt; T getValue();\r\n    } \r\n\r\nRowImpl.java\r\n\r\n    public class RowImpl implements IRow {\r\n    \r\n        @SuppressWarnings(&quot;unchecked&quot;)\r\n    \t@Override\r\n        public &lt;T&gt; T getValue() {\r\n            return (T) Boolean.TRUE;\r\n        }\r\n    }\r\n\r\nand the main.java\r\n\r\n    public class main {\r\n        public static void main(String args[])\r\n        {\r\n            IRow row = new RowImpl();\r\n            if(row.getValue()) //--&gt; Eclipse shows error but IntelliJ not\r\n                System.out.println(&quot;value is true&quot;);\r\n        }\r\n    }\r\n\r\n  [1]: https://i.stack.imgur.com/jMFnz.png\r\n  [2]: https://i.stack.imgur.com/XNOUf.png\r\n  [3]: https://i.stack.imgur.com/Wpc45.png\r\n  [4]: https://i.stack.imgur.com/lkrGO.png","title":"Why eclipse showing error but not IntelliJ","body":"<p>I usually work with IntelliJ but recently one of my team mate opened project in eclipse and he found eclipse showing error <code>Type mismatch: cannot convert from Object to boolean</code> in 2 separate java files. I crossed checked in IntelliJ but no error.</p>\n<p>Below are the screenshot from Eclipse and IntelliJ respectively:</p>\n<p>Eclipse:</p>\n<p><a href=\"https://i.stack.imgur.com/jMFnz.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/jMFnz.png\" alt=\"enter image description here\" /></a></p>\n<p>IntelliJ</p>\n<p><a href=\"https://i.stack.imgur.com/XNOUf.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/XNOUf.png\" alt=\"enter image description here\" /></a></p>\n<p>I also checked that both the IDEs have same compiler compliance level, i.e. 11</p>\n<p>Eclipse:</p>\n<p><a href=\"https://i.stack.imgur.com/Wpc45.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Wpc45.png\" alt=\"enter image description here\" /></a></p>\n<p>IntelliJ</p>\n<p><a href=\"https://i.stack.imgur.com/lkrGO.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/lkrGO.png\" alt=\"enter image description here\" /></a></p>\n<p>Even though Eclipse is showing error, if I run the project in eclipse then build and run is successful.</p>\n<p>As in above actual code example <code>row</code> object is created from an interface, I do not have access to see it's actual implementation. Hence just to generate the scenario so that I can understand why and how two different IDEs behave differently ? I have created below reproducible example:</p>\n<p>IRow.java:</p>\n<pre><code>public interface IRow {\n    &lt;T&gt; T getValue();\n} \n</code></pre>\n<p>RowImpl.java</p>\n<pre><code>public class RowImpl implements IRow {\n\n    @SuppressWarnings(&quot;unchecked&quot;)\n    @Override\n    public &lt;T&gt; T getValue() {\n        return (T) Boolean.TRUE;\n    }\n}\n</code></pre>\n<p>and the main.java</p>\n<pre><code>public class main {\n    public static void main(String args[])\n    {\n        IRow row = new RowImpl();\n        if(row.getValue()) //--&gt; Eclipse shows error but IntelliJ not\n            System.out.println(&quot;value is true&quot;);\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","testing","jmeter","jvm"],"comments":[{"owner":{"account_id":2139538,"reputation":42521,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":0,"creation_date":1667299796,"post_id":74274736,"comment_id":131130626,"body_markdown":"Low response time is good. Do you mean high?","body":"Low response time is good. Do you mean high?"},{"owner":{"account_id":8178944,"reputation":103,"user_id":7601678,"display_name":"Evgenii Manko"},"score":0,"creation_date":1667300423,"post_id":74274736,"comment_id":131130822,"body_markdown":"typo, I meant a high response time","body":"typo, I meant a high response time"}],"answers":[{"tags":[],"owner":{"account_id":3460456,"reputation":162758,"user_id":2897748,"display_name":"Dmitri T"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1667300876,"creation_date":1667300876,"answer_id":74274957,"question_id":74274736,"body_markdown":"I think you need to go for a more comprehensive tool like [JProfiler][1] or [YourKit][2] or an [APM tool][3] if you have an appropriate license (there are free and open source like [Apache Skywalking][4] as  well)\r\n\r\nTheoretically it&#39;s possible to use JVisualVM however it&#39;s better to go for the &quot;snapshot&quot; mode, check out [Profiling With VisualVM][5] article series for instructions.  \r\n\r\nYou can also get some [JMX][6] metrics using [JMeter&#39;s PerfMon Plugin][7] \r\n\r\n\r\n  [1]: https://www.ej-technologies.com/products/jprofiler/overview.html\r\n  [2]: https://www.yourkit.com/java/profiler/features/\r\n  [3]: https://en.wikipedia.org/wiki/Application_performance_management\r\n  [4]: https://skywalking.apache.org/\r\n  [5]: http://web.archive.org/web/20190117031705/https://blogs.oracle.com/nbprofiler/profiling-with-visualvm,-part-1\r\n  [6]: https://www.baeldung.com/java-management-extensions\r\n  [7]: https://www.blazemeter.com/blog/jmeter-performance-metrics","title":"How to look for a problem with low RPS in VisualVM?","body":"<p>I think you need to go for a more comprehensive tool like <a href=\"https://www.ej-technologies.com/products/jprofiler/overview.html\" rel=\"nofollow noreferrer\">JProfiler</a> or <a href=\"https://www.yourkit.com/java/profiler/features/\" rel=\"nofollow noreferrer\">YourKit</a> or an <a href=\"https://en.wikipedia.org/wiki/Application_performance_management\" rel=\"nofollow noreferrer\">APM tool</a> if you have an appropriate license (there are free and open source like <a href=\"https://skywalking.apache.org/\" rel=\"nofollow noreferrer\">Apache Skywalking</a> as  well)</p>\n<p>Theoretically it's possible to use JVisualVM however it's better to go for the &quot;snapshot&quot; mode, check out <a href=\"http://web.archive.org/web/20190117031705/https://blogs.oracle.com/nbprofiler/profiling-with-visualvm,-part-1\" rel=\"nofollow noreferrer\">Profiling With VisualVM</a> article series for instructions.</p>\n<p>You can also get some <a href=\"https://www.baeldung.com/java-management-extensions\" rel=\"nofollow noreferrer\">JMX</a> metrics using <a href=\"https://www.blazemeter.com/blog/jmeter-performance-metrics\" rel=\"nofollow noreferrer\">JMeter's PerfMon Plugin</a></p>\n"}],"owner":{"account_id":8178944,"reputation":103,"user_id":7601678,"display_name":"Evgenii Manko"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74274957,"answer_count":1,"score":0,"last_activity_date":1667300876,"creation_date":1667299628,"question_id":74274736,"body_markdown":"There was a problem with the high response time of my Spring application. \r\n\r\nMy colleagues advised me to use VisualVM, simultaneously running the load using Jmeter. I want to check which method takes the most time\r\n\r\n\r\nHowever, in VisualVM I get an uninformative answer - there are no methods of my application.\r\n\r\nCan you tell me if I&#39;m going the right way and how to display information on methods inside the application?\r\n[![enter image description here](https://i.stack.imgur.com/Q8c99.png)](https://i.stack.imgur.com/Q8c99.png)\r\n","title":"How to look for a problem with low RPS in VisualVM?","body":"<p>There was a problem with the high response time of my Spring application.</p>\n<p>My colleagues advised me to use VisualVM, simultaneously running the load using Jmeter. I want to check which method takes the most time</p>\n<p>However, in VisualVM I get an uninformative answer - there are no methods of my application.</p>\n<p>Can you tell me if I'm going the right way and how to display information on methods inside the application?\n<a href=\"https://i.stack.imgur.com/Q8c99.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Q8c99.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","for-loop","numbers","line-breaks"],"comments":[{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":2,"creation_date":1667298300,"post_id":74274452,"comment_id":131130144,"body_markdown":"Hint: remove the inner loop (just the `for` statement) (option `x % 20`  will be zero every 20th number - if x is divisible by 20)","body":"Hint: remove the inner loop (just the <code>for</code> statement) (option <code>x % 20</code>  will be zero every 20th number - if x is divisible by 20)"},{"owner":{"account_id":12719792,"reputation":3,"user_id":9240628,"display_name":"Jacob J."},"score":0,"creation_date":1667299702,"post_id":74274452,"comment_id":131130596,"body_markdown":"Thank you for your hint. I used it in creation a satisfying solution.","body":"Thank you for your hint. I used it in creation a satisfying solution."}],"answers":[{"tags":[],"owner":{"account_id":21700457,"reputation":11,"user_id":16013706,"display_name":"Randika Geekiyanage"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667299100,"creation_date":1667299100,"answer_id":74274626,"question_id":74274452,"body_markdown":"There is no point in using an inner loop. Instead of that, you can implement a if statement to break into next line.\r\n\r\nLogic =&gt; if the number is a multiple of 20, then break into next line.\r\n\r\nImplementation =&gt;\r\n\r\n    public static void main(String[] args) {\r\n\r\n\r\n        for (int x = 1; x &lt;= 100; x++) {\r\n            System.out.print(x + &quot; &quot;);\r\n            if(x%20==0){\r\n                System.out.println();\r\n            }\r\n        }\r\n\r\nOutput =&gt;\r\n\r\n    1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 \r\n    21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 \r\n    41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 \r\n    61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 \r\n    81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 \r\n\r\n ","title":"Line break after every 20th number in Java (for-loop)","body":"<p>There is no point in using an inner loop. Instead of that, you can implement a if statement to break into next line.</p>\n<p>Logic =&gt; if the number is a multiple of 20, then break into next line.</p>\n<p>Implementation =&gt;</p>\n<pre><code>public static void main(String[] args) {\n\n\n    for (int x = 1; x &lt;= 100; x++) {\n        System.out.print(x + &quot; &quot;);\n        if(x%20==0){\n            System.out.println();\n        }\n    }\n</code></pre>\n<p>Output =&gt;</p>\n<pre><code>1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 \n21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 \n41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 \n61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 \n81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 \n</code></pre>\n"},{"comments":[{"owner":{"account_id":12719792,"reputation":3,"user_id":9240628,"display_name":"Jacob J."},"score":0,"creation_date":1667299782,"post_id":74274645,"comment_id":131130623,"body_markdown":"Thank your for help. Now I know about the Ternary Operator format.","body":"Thank your for help. Now I know about the Ternary Operator format."}],"tags":[],"owner":{"account_id":64723,"reputation":411,"user_id":190929,"accept_rate":69,"display_name":"DummyBeginner"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1667299172,"creation_date":1667299172,"answer_id":74274645,"question_id":74274452,"body_markdown":"\t\t        for (int x = 1; x &lt;= 100; x++) {\r\n\t\t             System.out.print(x + \r\n\t\t            \t\t (x % 20 == 0 ? &quot;\\n&quot; : &quot; &quot;)\r\n\t\t            \t\t\t );\r\n\t\t             \r\n\t\t            }\r\n\r\n\t\t        }\r\n\r\nInside the print, it prints `x` and then checks if the `x` is a multiple of 20 to print a new line; Otherwise prints a space. It&#39;s in `Ternary Operator` format, but could also be written in normal if block format:\r\n\r\n\t\t        for (int x = 1; x &lt;= 100; x++) {\r\n\t\t        \t\r\n\t\t        \tSystem.out.print(x);\r\n\t\t        \t\r\n\t\t            if (x % 20 == 0) \r\n\t\t            \tSystem.out.print(&quot; &quot;);\r\n\t\t            else\r\n\t\t            \tSystem.out.println();\r\n\t\t             \r\n\t\t            }\r\n\r\n\t\t        }","title":"Line break after every 20th number in Java (for-loop)","body":"<pre><code>            for (int x = 1; x &lt;= 100; x++) {\n                 System.out.print(x + \n                         (x % 20 == 0 ? &quot;\\n&quot; : &quot; &quot;)\n                             );\n                 \n                }\n\n            }\n</code></pre>\n<p>Inside the print, it prints <code>x</code> and then checks if the <code>x</code> is a multiple of 20 to print a new line; Otherwise prints a space. It's in <code>Ternary Operator</code> format, but could also be written in normal if block format:</p>\n<pre><code>            for (int x = 1; x &lt;= 100; x++) {\n                \n                System.out.print(x);\n                \n                if (x % 20 == 0) \n                    System.out.print(&quot; &quot;);\n                else\n                    System.out.println();\n                 \n                }\n\n            }\n</code></pre>\n"},{"comments":[{"owner":{"account_id":5584931,"reputation":2048,"user_id":4425643,"accept_rate":64,"display_name":"CausingUnderflowsEverywhere"},"score":0,"creation_date":1667525555,"post_id":74274825,"comment_id":131192894,"body_markdown":"@user16320675 that would be a very useful answer for you to post for everyone.","body":"@user16320675 that would be a very useful answer for you to post for everyone."},{"owner":{"account_id":5584931,"reputation":2048,"user_id":4425643,"accept_rate":64,"display_name":"CausingUnderflowsEverywhere"},"score":0,"creation_date":1667525722,"post_id":74274825,"comment_id":131192927,"body_markdown":"Hey Jacob, your answer can be improved if you explain what you learned (original code was looping the counter instead of just incrementing it once per iteration), and dont forget to select an answer as solving the question.","body":"Hey Jacob, your answer can be improved if you explain what you learned (original code was looping the counter instead of just incrementing it once per iteration), and dont forget to select an answer as solving the question."}],"tags":[],"owner":{"account_id":12719792,"reputation":3,"user_id":9240628,"display_name":"Jacob J."},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667300496,"creation_date":1667300171,"answer_id":74274825,"question_id":74274452,"body_markdown":"Thank you all for your help! I wanted to create a &quot;unified&quot; look of the output , so I ended up with the following code:\r\n```\r\npublic class zahlen1_bis_100 {\r\n    public static void main(String[] args) {\r\n\r\n\r\n        for (int x = 1; x &lt;= 100; x++) {\r\n\r\n\r\n            if (x &lt; 10) {\r\n                System.out.print(x + &quot;  &quot;);\r\n\r\n            } else {\r\n                System.out.print(x + &quot; &quot;);\r\n            }\r\n            if (x % 20 ==0) {\r\n                System.out.println();\r\n            }\r\n\r\n        }\r\n\r\n\r\n    }\r\n}\r\n[Result][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/66tXZ.png","title":"Line break after every 20th number in Java (for-loop)","body":"<p>Thank you all for your help! I wanted to create a &quot;unified&quot; look of the output , so I ended up with the following code:</p>\n<pre><code>public class zahlen1_bis_100 {\n    public static void main(String[] args) {\n\n\n        for (int x = 1; x &lt;= 100; x++) {\n\n\n            if (x &lt; 10) {\n                System.out.print(x + &quot;  &quot;);\n\n            } else {\n                System.out.print(x + &quot; &quot;);\n            }\n            if (x % 20 ==0) {\n                System.out.println();\n            }\n\n        }\n\n\n    }\n}\n[Result][1]\n\n\n  [1]: https://i.stack.imgur.com/66tXZ.png\n</code></pre>\n"}],"owner":{"account_id":12719792,"reputation":3,"user_id":9240628,"display_name":"Jacob J."},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":255,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74274645,"answer_count":3,"score":0,"last_activity_date":1667300496,"creation_date":1667298133,"question_id":74274452,"body_markdown":"I am trying to write a program, which shows numbers 1 to 100. I would like to have a line break after every 20th number. I have tried using a counterloop, which resets itself after every 20th number, but the program runs infinite. How do I fix this?\r\n\r\n```\r\npublic class zahlen1_bis_100 {\r\n    public static void main(String[] args) {\r\n\r\n\r\n        for (int x = 1; x &lt;= 100; x++) {\r\n            for (int counter = 1;counter &lt;= 20; counter++) {\r\n\r\n                    if (counter == 20) {\r\n\r\n                        System.out.println();\r\n                        counter = 1;\r\n                    }\r\n                }\r\n             System.out.print(x + &quot; &quot;);\r\n            }\r\n\r\n        }\r\n\r\n    }\r\n```","title":"Line break after every 20th number in Java (for-loop)","body":"<p>I am trying to write a program, which shows numbers 1 to 100. I would like to have a line break after every 20th number. I have tried using a counterloop, which resets itself after every 20th number, but the program runs infinite. How do I fix this?</p>\n<pre><code>public class zahlen1_bis_100 {\n    public static void main(String[] args) {\n\n\n        for (int x = 1; x &lt;= 100; x++) {\n            for (int counter = 1;counter &lt;= 20; counter++) {\n\n                    if (counter == 20) {\n\n                        System.out.println();\n                        counter = 1;\n                    }\n                }\n             System.out.print(x + &quot; &quot;);\n            }\n\n        }\n\n    }\n</code></pre>\n"},{"tags":["java","linux","process","monitor","socat"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1667318693,"post_id":74274860,"comment_id":131137225,"body_markdown":"It might well print to stderr. You&#39;re only processing stdout. I would seriously suggest you use `ProcessBuilder` too as it makes IO much easier for one thing","body":"It might well print to stderr. You&#39;re only processing stdout. I would seriously suggest you use <code>ProcessBuilder</code> too as it makes IO much easier for one thing"},{"owner":{"account_id":10880551,"reputation":397,"user_id":8814924,"display_name":"Nafiul Alam Fuji"},"score":0,"creation_date":1667364352,"post_id":74274860,"comment_id":131147371,"body_markdown":"Thanks, process.getErrorStream() worked for me but can&#39;t think of the logic why the inputStream has been redirected to errorStream. And I didn&#39;t understand the advantage of using ProcessBuilder here?","body":"Thanks, process.getErrorStream() worked for me but can&#39;t think of the logic why the inputStream has been redirected to errorStream. And I didn&#39;t understand the advantage of using ProcessBuilder here?"}],"owner":{"account_id":10880551,"reputation":397,"user_id":8814924,"display_name":"Nafiul Alam Fuji"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":116,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1667300326,"creation_date":1667300326,"question_id":74274860,"body_markdown":"Here is my `runCommand` that takes Linux command input as a string\r\n\r\n        public static ArrayList&lt;String&gt; runCommand(String command) {\r\n        ArrayList&lt;String&gt; arrayList = new ArrayList&lt;&gt;();\r\n\r\n        try {\r\n\r\n            Process process = Runtime.getRuntime().exec(command);\r\n            BufferedReader reader =\r\n                    new BufferedReader(new InputStreamReader(process.getInputStream()));\r\n            String line;\r\n            while ((line = reader.readLine()) != null) {\r\n                arrayList.add(line);\r\n                System.out.println(line);\r\n            }\r\n            int exitCode = process.waitFor();\r\n            System.out.println(&quot;\\nExited with error code : &quot;+exitCode);\r\n            System.out.println();\r\n\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        } catch (InterruptedException e) {\r\n            e.printStackTrace();\r\n        }\r\n        return arrayList;\r\n    }\r\n\r\nIt is working great with normal command like `ls` or `sudo lsof -t -i:132` or other. Even tailing live log from `ping google.com`. My `socat` command\r\n\r\n    sudo SOCAT_SOCKADDR=192.168.11.131 socat -d -d -T 10 UDP4-LISTEN:132,reuseaddr,fork UDP4:192.168.11.130:130,bind=192.168.11.131:133\r\n\r\n(-d -d for verbose) in terminal creates socat process and tails the logs in terminals like incoming connection or connection status. but if I run this command via my `runCommand()`, this isn&#39;t printing anything in the terminal where the java jar application is running. And it worked fine for other cases of commands.\r\n\r\nI tried placing the `process.waitFor()` before reading the loop but nothing. What is the problem here? my main goal is to parse the live-tailed log and do some other stuff depending on that.","title":"SOCAT command tailing from java app isn&#39;t working","body":"<p>Here is my <code>runCommand</code> that takes Linux command input as a string</p>\n<pre><code>    public static ArrayList&lt;String&gt; runCommand(String command) {\n    ArrayList&lt;String&gt; arrayList = new ArrayList&lt;&gt;();\n\n    try {\n\n        Process process = Runtime.getRuntime().exec(command);\n        BufferedReader reader =\n                new BufferedReader(new InputStreamReader(process.getInputStream()));\n        String line;\n        while ((line = reader.readLine()) != null) {\n            arrayList.add(line);\n            System.out.println(line);\n        }\n        int exitCode = process.waitFor();\n        System.out.println(&quot;\\nExited with error code : &quot;+exitCode);\n        System.out.println();\n\n    } catch (IOException e) {\n        e.printStackTrace();\n    } catch (InterruptedException e) {\n        e.printStackTrace();\n    }\n    return arrayList;\n}\n</code></pre>\n<p>It is working great with normal command like <code>ls</code> or <code>sudo lsof -t -i:132</code> or other. Even tailing live log from <code>ping google.com</code>. My <code>socat</code> command</p>\n<pre><code>sudo SOCAT_SOCKADDR=192.168.11.131 socat -d -d -T 10 UDP4-LISTEN:132,reuseaddr,fork UDP4:192.168.11.130:130,bind=192.168.11.131:133\n</code></pre>\n<p>(-d -d for verbose) in terminal creates socat process and tails the logs in terminals like incoming connection or connection status. but if I run this command via my <code>runCommand()</code>, this isn't printing anything in the terminal where the java jar application is running. And it worked fine for other cases of commands.</p>\n<p>I tried placing the <code>process.waitFor()</code> before reading the loop but nothing. What is the problem here? my main goal is to parse the live-tailed log and do some other stuff depending on that.</p>\n"},{"tags":["java","mysql","backend"],"comments":[{"owner":{"account_id":20016754,"reputation":17,"user_id":14672567,"display_name":"Gabriel Nunes"},"score":0,"creation_date":1636337894,"post_id":69878029,"comment_id":123521733,"body_markdown":"Ohh I didn&#39;t know that, okay I&#39;ll do it","body":"Ohh I didn&#39;t know that, okay I&#39;ll do it"}],"answers":[{"comments":[{"owner":{"account_id":20016754,"reputation":17,"user_id":14672567,"display_name":"Gabriel Nunes"},"score":0,"creation_date":1636339701,"post_id":69878117,"comment_id":123521988,"body_markdown":"I already tried that, but it isn&#39;t working :/","body":"I already tried that, but it isn&#39;t working :/"},{"owner":{"account_id":2094057,"reputation":506144,"user_id":1863229,"accept_rate":58,"display_name":"Tim Biegeleisen"},"score":1,"creation_date":1636340015,"post_id":69878117,"comment_id":123522033,"body_markdown":"I was wrong, you need `List&lt;Object[]&gt;`.","body":"I was wrong, you need <code>List&lt;Object[]&gt;</code>."},{"owner":{"account_id":20016754,"reputation":17,"user_id":14672567,"display_name":"Gabriel Nunes"},"score":0,"creation_date":1636407736,"post_id":69878117,"comment_id":123544313,"body_markdown":"Hey, thank you so much, now its working properly &gt;..&lt;","body":"Hey, thank you so much, now its working properly &gt;..&lt;"}],"tags":[],"owner":{"account_id":2094057,"reputation":506144,"user_id":1863229,"accept_rate":58,"display_name":"Tim Biegeleisen"},"comment_count":3,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1636339987,"creation_date":1636338671,"answer_id":69878117,"question_id":69878029,"body_markdown":"This version of your repository should work:\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    public interface UserRepository extends JpaRepository&lt;UserModel, Integer&gt; {\r\n        @Query(&quot;SELECT id, valueIncome + outcomeValue AS AddedValues FROM money&quot;, nativeQuery=true)\r\n        List&lt;Object[]&gt; findAllByTotal;\r\n    }\r\n\r\nNote that referring to `UserModel` in your JPA query won&#39;t work, because JPA expects the table name.  Also, there is no need for aliases as you are just selecting against a single table/entity.\r\n\r\nAlso, your query must execute as a native query, because it returns computed columns.  You could also define a custom POJO with just the two fields in your select statement.  Going with the former `List&lt;Object[]&gt;` option, your code should look something like:\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    List&lt;Object[]&gt; vals = userRepository.findAllByTotal();\r\n    for (Object[] row : vals) {\r\n        int id = (Integer)row[0];\r\n        double addedValues = (Double)row[1];\r\n    }\r\n\r\nYou may have to play around with the casting in the above for loop to make it work.","title":"How to sum up two columns using Spring Data JPA?","body":"<p>This version of your repository should work:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public interface UserRepository extends JpaRepository&lt;UserModel, Integer&gt; {\n    @Query(&quot;SELECT id, valueIncome + outcomeValue AS AddedValues FROM money&quot;, nativeQuery=true)\n    List&lt;Object[]&gt; findAllByTotal;\n}\n</code></pre>\n<p>Note that referring to <code>UserModel</code> in your JPA query won't work, because JPA expects the table name.  Also, there is no need for aliases as you are just selecting against a single table/entity.</p>\n<p>Also, your query must execute as a native query, because it returns computed columns.  You could also define a custom POJO with just the two fields in your select statement.  Going with the former <code>List&lt;Object[]&gt;</code> option, your code should look something like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;Object[]&gt; vals = userRepository.findAllByTotal();\nfor (Object[] row : vals) {\n    int id = (Integer)row[0];\n    double addedValues = (Double)row[1];\n}\n</code></pre>\n<p>You may have to play around with the casting in the above for loop to make it work.</p>\n"}],"owner":{"account_id":20016754,"reputation":17,"user_id":14672567,"display_name":"Gabriel Nunes"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1348,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69878117,"answer_count":1,"score":0,"last_activity_date":1667300065,"creation_date":1636337588,"question_id":69878029,"body_markdown":"I want to sum up two columns on my database project, I am using Spring Boot - Java, and I don&#39;t know what I suppose to do\r\n\r\nOn database I have those columns &lt;br/&gt;\r\n`id`, `user`, `value_income`, `outcome_value`, `total` and `income_property`\r\n\r\n\r\nAnd what I&#39;m trying to do is basically retrieving data from `value_income`and `outcome_value` from database and sum up on backend\r\n\r\nMy UserRepository: \r\n```java\r\npackage com.saturnssolutions.TakeMoney.repositories;\r\n\r\nimport com.saturnssolutions.TakeMoney.models.UserModel;\r\nimport org.springframework.data.jpa.repository.JpaRepository;\r\nimport org.springframework.data.jpa.repository.Query;\r\n\r\nimport java.math.BigDecimal;\r\nimport java.util.List;\r\n\r\npublic interface UserRepository extends JpaRepository&lt;UserModel, Integer&gt; {\r\n    @Query(&quot;SELECT UserModel.id, (UserModel.valueIncome + UserModel.outcomeValue) as AddedValues FROM money&quot;)\r\n    List&lt;UserModel&gt; findAllByTotal;\r\n}\r\n```\r\nps: I keeps getting error\r\n\r\n&lt;br/&gt;\r\nMy UserController:\r\n\r\n```java\r\npackage com.saturnssolutions.TakeMoney.controllers;\r\n\r\nimport com.saturnssolutions.TakeMoney.models.UserModel;\r\nimport com.saturnssolutions.TakeMoney.services.UserService;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.http.HttpStatus;\r\nimport org.springframework.http.ResponseEntity;\r\nimport org.springframework.web.bind.annotation.*;\r\n\r\nimport java.util.List;\r\nimport java.util.NoSuchElementException;\r\n@RestController\r\n@RequestMapping(&quot;/api/v1&quot;)\r\npublic class UserController {\r\n    @Autowired\r\n    UserService userService;\r\n\r\n    @CrossOrigin\r\n    @GetMapping(&quot;/users&quot;)\r\n    public List&lt;UserModel&gt; listAllUsers() {\r\n        return userService.listAllUsers();\r\n    }\r\n\r\n    @CrossOrigin\r\n    @GetMapping(&quot;/users/{id}&quot;)\r\n    public ResponseEntity&lt;UserModel&gt; users(@PathVariable Integer id) {\r\n        try {\r\n            UserModel user = userService.getUser(id);\r\n            return new ResponseEntity&lt;UserModel&gt;(user, HttpStatus.OK);\r\n        } catch (NoSuchElementException e) {\r\n            return new ResponseEntity&lt;UserModel&gt;(HttpStatus.NOT_FOUND);\r\n        }\r\n    }\r\n    @CrossOrigin\r\n    @PostMapping(&quot;/users&quot;)\r\n    public void users(@RequestBody UserModel user) {\r\n        userService.saveUser(user);\r\n    }\r\n    @CrossOrigin\r\n    @PutMapping(&quot;/users/{id}&quot;)\r\n    public ResponseEntity&lt;?&gt; update(@RequestBody UserModel user, @PathVariable Integer id) {\r\n        try {\r\n            UserModel existUser = userService.getUser(id);\r\n            user.setId(id);\r\n            userService.saveUser(user);\r\n            return new ResponseEntity&lt;&gt;(HttpStatus.OK);\r\n        } catch (NoSuchElementException e) {\r\n            return new ResponseEntity&lt;&gt;(HttpStatus.NOT_FOUND);\r\n        }\r\n    }\r\n    @CrossOrigin\r\n    @DeleteMapping(&quot;/users/{id}&quot;)\r\n    public void delete(@PathVariable Integer id) {\r\n\r\n        userService.deleteUser(id);\r\n    }\r\n\r\n    @CrossOrigin\r\n    @GetMapping(&quot;/users/total&quot;)\r\n    public Float getTotal(){\r\n        return userService.getTotal();\r\n    }\r\n}\r\n\r\n```\r\n&lt;br/&gt;\r\n\r\nMy service:\r\n```java\r\npackage com.saturnssolutions.TakeMoney.services;\r\n\r\nimport com.saturnssolutions.TakeMoney.models.UserModel;\r\nimport com.saturnssolutions.TakeMoney.repositories.UserRepository;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.stereotype.Service;\r\n\r\nimport javax.transaction.Transactional;\r\n\r\nimport java.math.BigDecimal;\r\nimport java.util.List;\r\n\r\n@Service\r\n@Transactional\r\npublic class UserService {\r\n    @Autowired\r\n    private UserRepository userRepository;\r\n\r\n    public List&lt;UserModel&gt; listAllUsers() {\r\n        return userRepository.findAll();\r\n    }\r\n\r\n    public void saveUser(UserModel user) {\r\n        userRepository.save(user);\r\n    }\r\n\r\n    public UserModel getUser (Integer id) {\r\n        return userRepository.findById(id).get();\r\n    }\r\n\r\n    public void deleteUser (Integer id) {\r\n        userRepository.deleteById(id);\r\n    }\r\n\r\n    public List&lt;UserModel&gt; getTotal() {\r\n        return userRepository.findAllByTotal();\r\n    }\r\n}\r\n\r\n\r\n```\r\n\r\n&lt;br/&gt;\r\nand my model:\r\n\r\n```java\r\npackage com.saturnssolutions.TakeMoney.models;\r\n\r\nimport javax.persistence.*;\r\nimport java.math.BigDecimal;\r\n\r\n@Entity\r\n@Table(name = &quot;money&quot;)\r\npublic class UserModel {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Integer id;\r\n\r\n    private String user;\r\n    private Float valueIncome;\r\n    private Float outcomeValue;\r\n    private Float total;\r\n    private Boolean incomeProperty;\r\n\r\n    public Boolean getIncomeProperty() {\r\n        return incomeProperty;\r\n    }\r\n\r\n    public void setIncomeProperty(Boolean incomeProperty) {\r\n        this.incomeProperty = incomeProperty;\r\n    }\r\n\r\n    public String getUser() {\r\n        return user;\r\n    }\r\n\r\n    public void setUser(String user) {\r\n        this.user = user;\r\n    }\r\n\r\n    public Float getValueIncome() {\r\n        return valueIncome;\r\n    }\r\n\r\n    public void setValueIncome(Float valueIncome) {\r\n        this.valueIncome = valueIncome;\r\n    }\r\n\r\n    public Float getOutcomeValue() {\r\n        return outcomeValue;\r\n    }\r\n\r\n    public void setOutcomeValue(Float outcomeValue) {\r\n        this.outcomeValue = outcomeValue;\r\n    }\r\n\r\n    public Float getTotal() {\r\n        return total;\r\n    }\r\n\r\n    public Float setTotal(Float total) {\r\n        this.total = total;\r\n        return total;\r\n    }\r\n\r\n    public UserModel() {\r\n    }\r\n\r\n    public UserModel(Integer id, String user, Float valueIncome, Float outcomeValue, Float total) {\r\n        this.id = id;\r\n        this.user = user;\r\n        this.valueIncome = valueIncome;\r\n        this.outcomeValue = outcomeValue;\r\n        this.total = total;\r\n    }\r\n\r\n    public Integer getId() {\r\n        return id;\r\n    }\r\n\r\n    public Integer setId(Integer id) {\r\n        return this.id = id;\r\n    }\r\n\r\n}\r\n```\r\n","title":"How to sum up two columns using Spring Data JPA?","body":"<p>I want to sum up two columns on my database project, I am using Spring Boot - Java, and I don't know what I suppose to do</p>\n<p>On database I have those columns <br/>\n<code>id</code>, <code>user</code>, <code>value_income</code>, <code>outcome_value</code>, <code>total</code> and <code>income_property</code></p>\n<p>And what I'm trying to do is basically retrieving data from <code>value_income</code>and <code>outcome_value</code> from database and sum up on backend</p>\n<p>My UserRepository:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.saturnssolutions.TakeMoney.repositories;\n\nimport com.saturnssolutions.TakeMoney.models.UserModel;\nimport org.springframework.data.jpa.repository.JpaRepository;\nimport org.springframework.data.jpa.repository.Query;\n\nimport java.math.BigDecimal;\nimport java.util.List;\n\npublic interface UserRepository extends JpaRepository&lt;UserModel, Integer&gt; {\n    @Query(&quot;SELECT UserModel.id, (UserModel.valueIncome + UserModel.outcomeValue) as AddedValues FROM money&quot;)\n    List&lt;UserModel&gt; findAllByTotal;\n}\n</code></pre>\n<p>ps: I keeps getting error</p>\n<br/>\nMy UserController:\n<pre class=\"lang-java prettyprint-override\"><code>package com.saturnssolutions.TakeMoney.controllers;\n\nimport com.saturnssolutions.TakeMoney.models.UserModel;\nimport com.saturnssolutions.TakeMoney.services.UserService;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.http.HttpStatus;\nimport org.springframework.http.ResponseEntity;\nimport org.springframework.web.bind.annotation.*;\n\nimport java.util.List;\nimport java.util.NoSuchElementException;\n@RestController\n@RequestMapping(&quot;/api/v1&quot;)\npublic class UserController {\n    @Autowired\n    UserService userService;\n\n    @CrossOrigin\n    @GetMapping(&quot;/users&quot;)\n    public List&lt;UserModel&gt; listAllUsers() {\n        return userService.listAllUsers();\n    }\n\n    @CrossOrigin\n    @GetMapping(&quot;/users/{id}&quot;)\n    public ResponseEntity&lt;UserModel&gt; users(@PathVariable Integer id) {\n        try {\n            UserModel user = userService.getUser(id);\n            return new ResponseEntity&lt;UserModel&gt;(user, HttpStatus.OK);\n        } catch (NoSuchElementException e) {\n            return new ResponseEntity&lt;UserModel&gt;(HttpStatus.NOT_FOUND);\n        }\n    }\n    @CrossOrigin\n    @PostMapping(&quot;/users&quot;)\n    public void users(@RequestBody UserModel user) {\n        userService.saveUser(user);\n    }\n    @CrossOrigin\n    @PutMapping(&quot;/users/{id}&quot;)\n    public ResponseEntity&lt;?&gt; update(@RequestBody UserModel user, @PathVariable Integer id) {\n        try {\n            UserModel existUser = userService.getUser(id);\n            user.setId(id);\n            userService.saveUser(user);\n            return new ResponseEntity&lt;&gt;(HttpStatus.OK);\n        } catch (NoSuchElementException e) {\n            return new ResponseEntity&lt;&gt;(HttpStatus.NOT_FOUND);\n        }\n    }\n    @CrossOrigin\n    @DeleteMapping(&quot;/users/{id}&quot;)\n    public void delete(@PathVariable Integer id) {\n\n        userService.deleteUser(id);\n    }\n\n    @CrossOrigin\n    @GetMapping(&quot;/users/total&quot;)\n    public Float getTotal(){\n        return userService.getTotal();\n    }\n}\n\n</code></pre>\n<br/>\n<p>My service:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.saturnssolutions.TakeMoney.services;\n\nimport com.saturnssolutions.TakeMoney.models.UserModel;\nimport com.saturnssolutions.TakeMoney.repositories.UserRepository;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Service;\n\nimport javax.transaction.Transactional;\n\nimport java.math.BigDecimal;\nimport java.util.List;\n\n@Service\n@Transactional\npublic class UserService {\n    @Autowired\n    private UserRepository userRepository;\n\n    public List&lt;UserModel&gt; listAllUsers() {\n        return userRepository.findAll();\n    }\n\n    public void saveUser(UserModel user) {\n        userRepository.save(user);\n    }\n\n    public UserModel getUser (Integer id) {\n        return userRepository.findById(id).get();\n    }\n\n    public void deleteUser (Integer id) {\n        userRepository.deleteById(id);\n    }\n\n    public List&lt;UserModel&gt; getTotal() {\n        return userRepository.findAllByTotal();\n    }\n}\n\n\n</code></pre>\n<br/>\nand my model:\n<pre class=\"lang-java prettyprint-override\"><code>package com.saturnssolutions.TakeMoney.models;\n\nimport javax.persistence.*;\nimport java.math.BigDecimal;\n\n@Entity\n@Table(name = &quot;money&quot;)\npublic class UserModel {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Integer id;\n\n    private String user;\n    private Float valueIncome;\n    private Float outcomeValue;\n    private Float total;\n    private Boolean incomeProperty;\n\n    public Boolean getIncomeProperty() {\n        return incomeProperty;\n    }\n\n    public void setIncomeProperty(Boolean incomeProperty) {\n        this.incomeProperty = incomeProperty;\n    }\n\n    public String getUser() {\n        return user;\n    }\n\n    public void setUser(String user) {\n        this.user = user;\n    }\n\n    public Float getValueIncome() {\n        return valueIncome;\n    }\n\n    public void setValueIncome(Float valueIncome) {\n        this.valueIncome = valueIncome;\n    }\n\n    public Float getOutcomeValue() {\n        return outcomeValue;\n    }\n\n    public void setOutcomeValue(Float outcomeValue) {\n        this.outcomeValue = outcomeValue;\n    }\n\n    public Float getTotal() {\n        return total;\n    }\n\n    public Float setTotal(Float total) {\n        this.total = total;\n        return total;\n    }\n\n    public UserModel() {\n    }\n\n    public UserModel(Integer id, String user, Float valueIncome, Float outcomeValue, Float total) {\n        this.id = id;\n        this.user = user;\n        this.valueIncome = valueIncome;\n        this.outcomeValue = outcomeValue;\n        this.total = total;\n    }\n\n    public Integer getId() {\n        return id;\n    }\n\n    public Integer setId(Integer id) {\n        return this.id = id;\n    }\n\n}\n</code></pre>\n"},{"tags":["java","immutability"],"answers":[{"tags":[],"owner":{"account_id":7450,"reputation":269220,"user_id":12960,"display_name":"Brian Agnew"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1297876781,"creation_date":1297876781,"answer_id":5019750,"question_id":5019726,"body_markdown":"I would read *constant* as being the same object (the same reference), whereas *immutable* clearly means to me the fact that the object doesn&#39;t change.\r\n\r\nSince these are two different things, I would perhaps refer to this:\r\n\r\n    private final Immutable i = new Immutable();\r\n\r\nas being a constant immutable object.","title":"Constant Object vs Immutable Object","body":"<p>I would read <em>constant</em> as being the same object (the same reference), whereas <em>immutable</em> clearly means to me the fact that the object doesn't change.</p>\n\n<p>Since these are two different things, I would perhaps refer to this:</p>\n\n<pre><code>private final Immutable i = new Immutable();\n</code></pre>\n\n<p>as being a constant immutable object.</p>\n"},{"comments":[{"owner":{"account_id":61566,"reputation":68934,"user_id":183406,"accept_rate":74,"display_name":"meriton"},"score":1,"creation_date":1297886222,"post_id":5019754,"comment_id":5615067,"body_markdown":"Bad example: System is a class, not an object.","body":"Bad example: System is a class, not an object."}],"tags":[],"owner":{"account_id":114991,"reputation":69738,"user_id":302139,"accept_rate":75,"display_name":"Edwin Buck"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1297876814,"creation_date":1297876814,"answer_id":5019754,"question_id":5019726,"body_markdown":"They are very close in meaning, with the understanding that an Object contains methods while a Constant is generally considered to only contain data.\r\n\r\nWithin Java, there&#39;s the additional consideration of the keyword `final`, which basically means non-reassignable.  Some people will casually call a final variable a constant (as it&#39;s reference to a particular object is a constant.  This often comes about due to confusion as to the particular roles of the member and the object it refers to, as 95% of the time a person does this to refer to an immutable Object.\r\n\r\nNot every method is to return back data that depends wholly upon the internal members.  For example `System.currentTimeMillis()` returns back a Unix like timestamp, yet there would be no need for the actual &quot;System&quot; object to change.","title":"Constant Object vs Immutable Object","body":"<p>They are very close in meaning, with the understanding that an Object contains methods while a Constant is generally considered to only contain data.</p>\n\n<p>Within Java, there's the additional consideration of the keyword <code>final</code>, which basically means non-reassignable.  Some people will casually call a final variable a constant (as it's reference to a particular object is a constant.  This often comes about due to confusion as to the particular roles of the member and the object it refers to, as 95% of the time a person does this to refer to an immutable Object.</p>\n\n<p>Not every method is to return back data that depends wholly upon the internal members.  For example <code>System.currentTimeMillis()</code> returns back a Unix like timestamp, yet there would be no need for the actual \"System\" object to change.</p>\n"},{"comments":[{"owner":{"account_id":114991,"reputation":69738,"user_id":302139,"accept_rate":75,"display_name":"Edwin Buck"},"score":3,"creation_date":1297877435,"post_id":5019799,"comment_id":5612903,"body_markdown":"&quot;constant on the other hand in Programming means inline&quot; ... I think you are confusing what the language means with what the compiler might do.  The two are not the same.  As long as a compiler doesn&#39;t allow the value to change, it doesn&#39;t matter if the call is inlined or not.","body":"&quot;constant on the other hand in Programming means inline&quot; ... I think you are confusing what the language means with what the compiler might do.  The two are not the same.  As long as a compiler doesn&#39;t allow the value to change, it doesn&#39;t matter if the call is inlined or not."},{"owner":{"account_id":33537,"reputation":4433,"user_id":93963,"accept_rate":92,"display_name":"S M Kamran"},"score":0,"creation_date":1297877847,"post_id":5019799,"comment_id":5612990,"body_markdown":"Generally what I&#39;ve said is not wrong, All the compiler of general purpose language (Which I am aware of) does that....","body":"Generally what I&#39;ve said is not wrong, All the compiler of general purpose language (Which I am aware of) does that...."},{"owner":{"account_id":10258,"reputation":26470,"user_id":19276,"accept_rate":81,"display_name":"DJClayworth"},"score":1,"creation_date":1297894840,"post_id":5019799,"comment_id":5616987,"body_markdown":"C++ has &#39;const&#39; objects and arguments, and they are certainly not &#39;inlined&#39;. Some constants are not &#39;inlined&#39; in any case, if they are too complex.","body":"C++ has &#39;const&#39; objects and arguments, and they are certainly not &#39;inlined&#39;. Some constants are not &#39;inlined&#39; in any case, if they are too complex."},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":1,"creation_date":1297904281,"post_id":5019799,"comment_id":5618561,"body_markdown":"@S M Kamran: &quot;Constant on the other hand in Programming means inline&quot;. No it doesn&#39;t. Period.","body":"@S M Kamran: &quot;Constant on the other hand in Programming means inline&quot;. No it doesn&#39;t. Period."}],"tags":[],"owner":{"account_id":33537,"reputation":4433,"user_id":93963,"accept_rate":92,"display_name":"S M Kamran"},"comment_count":4,"down_vote_count":3,"up_vote_count":1,"is_accepted":false,"score":-2,"last_activity_date":1297877077,"creation_date":1297877077,"answer_id":5019799,"question_id":5019726,"body_markdown":"Immutability of the object means it can&#39;t transform it&#39;s state... i.e. can&#39;t mutate... For examle \r\n\r\n    final class Person {\r\n      private int age = 0;\r\n      \r\n      public Person(int age) { this.age = age; }\r\n    }\r\n\r\nThe object to this type are immutable objects since you can&#39;t change it&#39;s state.... (forget Reflection for a moment)\r\n\r\nConstant at the other hand in Programming means inline... Even the compiler does that they inline the values of the constant variables for primative types... for object types it means the ref variable can&#39;t be reassigned.","title":"Constant Object vs Immutable Object","body":"<p>Immutability of the object means it can't transform it's state... i.e. can't mutate... For examle </p>\n\n<pre><code>final class Person {\n  private int age = 0;\n\n  public Person(int age) { this.age = age; }\n}\n</code></pre>\n\n<p>The object to this type are immutable objects since you can't change it's state.... (forget Reflection for a moment)</p>\n\n<p>Constant at the other hand in Programming means inline... Even the compiler does that they inline the values of the constant variables for primative types... for object types it means the ref variable can't be reassigned.</p>\n"},{"tags":[],"owner":{"account_id":6090,"reputation":31973,"user_id":10098,"accept_rate":80,"display_name":"wds"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1297877175,"creation_date":1297877175,"answer_id":5019818,"question_id":5019726,"body_markdown":"Constant often has a very specific meaning in different programming languages. In java, a constant already refers to a constant variable, a variable that cannot be changed after assignment, e.g.:\r\n\r\n    final int FOO = 1;\r\n    FOO = 4; // constant variable cannot be changed.\r\n\r\nAn immutable object is a constant object in the sense that its properties can never be changed, but of course an object pointed to by a constant variable can still be changed. So to avoid confusion, the term immutable (which literally means &quot;unchanging over time&quot;) is used.","title":"Constant Object vs Immutable Object","body":"<p>Constant often has a very specific meaning in different programming languages. In java, a constant already refers to a constant variable, a variable that cannot be changed after assignment, e.g.:</p>\n\n<pre><code>final int FOO = 1;\nFOO = 4; // constant variable cannot be changed.\n</code></pre>\n\n<p>An immutable object is a constant object in the sense that its properties can never be changed, but of course an object pointed to by a constant variable can still be changed. So to avoid confusion, the term immutable (which literally means \"unchanging over time\") is used.</p>\n"},{"comments":[{"owner":{"account_id":271558,"reputation":3224,"user_id":562155,"accept_rate":69,"display_name":"Karthick S"},"score":1,"creation_date":1298136021,"post_id":5021053,"comment_id":5655644,"body_markdown":"So, to make an immutable object, all the member variables (fields) need to be declared &quot;final&quot;? Does it mean that if all the fields of a class are &quot;final&quot;, then all the objects created are immutable.","body":"So, to make an immutable object, all the member variables (fields) need to be declared &quot;final&quot;? Does it mean that if all the fields of a class are &quot;final&quot;, then all the objects created are immutable."},{"owner":{"account_id":295869,"reputation":73614,"user_id":600500,"accept_rate":54,"display_name":"Paŭlo Ebermann"},"score":2,"creation_date":1298136449,"post_id":5021053,"comment_id":5655696,"body_markdown":"If all the fields are final and itself only reference immutable objects (or primitives, which are automatically immutable), then the object is immutable, yes. You may achieve this with less final - for example, the String class (in some implementation, where I last looked at the source) has an mutable (private) `hash` field, which is set on the first call of `hashCode()` after calculating the code, and then reused for later calls. This does not change the fact that a String (viewed from outside) is indeed immutable.","body":"If all the fields are final and itself only reference immutable objects (or primitives, which are automatically immutable), then the object is immutable, yes. You may achieve this with less final - for example, the String class (in some implementation, where I last looked at the source) has an mutable (private) <code>hash</code> field, which is set on the first call of <code>hashCode()</code> after calculating the code, and then reused for later calls. This does not change the fact that a String (viewed from outside) is indeed immutable."},{"owner":{"account_id":2691149,"reputation":131,"user_id":2324483,"display_name":"ywu"},"score":0,"creation_date":1501771539,"post_id":5021053,"comment_id":77936189,"body_markdown":"Thank you Paŭlo Ebermann for the explanation. As a person from C, I take it as: const char* const c=&quot;Test&quot;. The first &quot;const&quot; maps to the immutable Java String class, while the second &quot;const&quot; maps to Java &quot;final&quot; here.","body":"Thank you Paŭlo Ebermann for the explanation. As a person from C, I take it as: const char* const c=&quot;Test&quot;. The first &quot;const&quot; maps to the immutable Java String class, while the second &quot;const&quot; maps to Java &quot;final&quot; here."}],"tags":[],"owner":{"account_id":295869,"reputation":73614,"user_id":600500,"accept_rate":54,"display_name":"Paŭlo Ebermann"},"comment_count":3,"down_vote_count":0,"up_vote_count":16,"is_accepted":true,"score":16,"last_activity_date":1297883908,"creation_date":1297883908,"answer_id":5021053,"question_id":5019726,"body_markdown":"In fact, in Java the term **constant** has no defined meaning. It occurs in the JLS only in the larger term **compile time constant expression**, which is an expression which can (and must) be calculated by the compiler instead of at runtime. (And the keyword `const` is reserved to allow compilers to give better error messages.)\r\n\r\nIn Java, we instead use the term *final* to refer to variables (whether class, object or local ones) who can&#39;t be changed, and *immutable* when we refer to objects who can&#39;t change. Both can be used when speaking about a variable `x` - the first then means the variable itself (meaning it can&#39;t be switched to another object), the second means the object behind the variable. Thus here the two meanings are orthogonal, and are often combined to create a *&quot;true constant&quot;*.","title":"Constant Object vs Immutable Object","body":"<p>In fact, in Java the term <strong>constant</strong> has no defined meaning. It occurs in the JLS only in the larger term <strong>compile time constant expression</strong>, which is an expression which can (and must) be calculated by the compiler instead of at runtime. (And the keyword <code>const</code> is reserved to allow compilers to give better error messages.)</p>\n\n<p>In Java, we instead use the term <em>final</em> to refer to variables (whether class, object or local ones) who can't be changed, and <em>immutable</em> when we refer to objects who can't change. Both can be used when speaking about a variable <code>x</code> - the first then means the variable itself (meaning it can't be switched to another object), the second means the object behind the variable. Thus here the two meanings are orthogonal, and are often combined to create a <em>\"true constant\"</em>.</p>\n"}],"owner":{"account_id":271558,"reputation":3224,"user_id":562155,"accept_rate":69,"display_name":"Karthick S"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10209,"favorite_count":0,"down_vote_count":0,"up_vote_count":13,"accepted_answer_id":5021053,"answer_count":5,"score":13,"last_activity_date":1667300008,"creation_date":1297876640,"question_id":5019726,"body_markdown":"Can I use the term &quot;Constant Object&quot; in the place of the term &quot;Immutable Object&quot;? Though I get the feeling that Immutable for an Object is what Constant is for a variable, I am not sure if this terminology is accepted. Please help me understand.\r\n","title":"Constant Object vs Immutable Object","body":"<p>Can I use the term &quot;Constant Object&quot; in the place of the term &quot;Immutable Object&quot;? Though I get the feeling that Immutable for an Object is what Constant is for a variable, I am not sure if this terminology is accepted. Please help me understand.</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9305,"page":918,"page_size":100}
